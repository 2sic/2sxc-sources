{"version":3,"file":"projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts--7d87aa.js","mappings":"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","sources":["./projects/eav-ui/src/app/apps-management/add-app-from-folder/app-name-show/app-name-show.component.ts","./projects/eav-ui/src/app/apps-management/add-app-from-folder/app-name-show/app-name-show.component.html","./projects/eav-ui/src/app/features/feature-names.ts","./projects/eav-ui/src/app/apps-management/add-app-from-folder/checkbox-cell/checkbox-cell.component.ts","./projects/eav-ui/src/app/apps-management/add-app-from-folder/checkbox-cell/checkbox-cell.component.html","./projects/eav-ui/src/app/shared/pipes/safe-html.pipe.ts","./projects/eav-ui/src/app/apps-management/add-app-from-folder/add-app-from-folder.component.ts","./projects/eav-ui/src/app/apps-management/add-app-from-folder/add-app-from-folder.component.html","./projects/eav-ui/src/app/features/feature-text-info/feature-text-info.component.ts","./projects/eav-ui/src/app/features/feature-text-info/feature-text-info.component.html"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { IdFieldParams } from '../../../shared/components/id-field/id-field.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n    selector: 'app-app-name-show',\r\n    templateUrl: './app-name-show.component.html',\r\n    styleUrls: ['./app-name-show.component.scss'],\r\n    imports: [MatIconModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class AppNameShowComponent implements ICellRendererAngularComp {\r\n  name: string;\r\n  tooltip: string;\r\n\r\n  agInit(params: ICellRendererParams & IdFieldParams): void {\r\n    this.name = params.value;\r\n    this.tooltip = params.tooltipGetter(params.data);\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"name-box\">\r\n  <span>{{ name }}</span>\r\n  <mat-icon class=\"info-icon\" [tippy]=\"tooltip\">info</mat-icon>\r\n</div>","// This will make it easier for us to see where certain feature names are in use\r\n\r\nexport const FeatureNames = {\r\n  AppSyncWithSiteFiles: 'AppSyncWithSiteFiles',\r\n  WysiwygPasteFormatted: 'WysiwygPasteFormatted',\r\n  PasteImageFromClipboard: 'PasteImageFromClipboard',\r\n  EditUiShowNotes: 'EditUiShowNotes',\r\n  EditUiShowMetadataFor: 'EditUiShowMetadataFor',\r\n  NoSponsoredByToSic: 'NoSponsoredByToSic',\r\n  EditUiTranslateWithGoogle: 'EditUiTranslateWithGoogle',\r\n  LightSpeed: 'LightSpeedOutputCache',\r\n  ContentSecurityPolicy: 'ContentSecurityPolicy',\r\n  PermissionsByLanguage: 'PermissionsByLanguage',\r\n  ContentTypeFieldsReuseDefinitions: 'ContentTypeFieldsReuseDefinitions',\r\n  AppExportAssetsAdvanced: 'AppExportAssetsAdvanced',\r\n\r\n  // Picker features\r\n  PickerUiCheckbox: 'PickerUiCheckbox',\r\n  PickerUiRadio: 'PickerUiRadio',\r\n  PickerSourceCsv: 'PickerSourceCsv',\r\n  PickerSourceAppAssets: 'PickerSourceAppAssets',\r\n  PickerFormulas: 'PickerFormulas',\r\n  PickerUiMoreInfo: 'PickerUiMoreInfo',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { CheckboxCellParams } from './checkbox-cell.model';\r\n\r\n@Component({\r\n  selector: 'app-checkbox-cell',\r\n  templateUrl: './checkbox-cell.component.html',\r\n  styleUrls: ['./checkbox-cell.component.scss'],\r\n})\r\nexport class CheckboxCellComponent implements ICellRendererAngularComp {\r\n  params: ICellRendererParams & CheckboxCellParams;\r\n\r\n  agInit(params: ICellRendererParams & CheckboxCellParams): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  public onChange(event: any) {\r\n    this.params.onChange(this.params.data, event.currentTarget.checked);\r\n  }\r\n}\r\n","<div class=\"checkbox-box\">\r\n  <input class=\"checkbox-input\" type=\"checkbox\" [disabled]=\"params.isDisabled\" [checked]=\"params.value\" (change)=\"onChange($event)\">\r\n</div>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml',\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, HostBinding, WritableSignal, inject } from \"@angular/core\";\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogActions, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { transient } from '../../../../../core';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { FeatureTextInfoComponent } from '../../features/feature-text-info/feature-text-info.component';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from \"../../shared/constants/default-grid-options.constants\";\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { PendingApp } from \"../models/app.model\";\r\nimport { AppsListService } from \"../services/apps-list.service\";\r\nimport { AppNameShowComponent } from './app-name-show/app-name-show.component';\r\nimport { CheckboxCellComponent } from './checkbox-cell/checkbox-cell.component';\r\nimport { CheckboxCellParams } from './checkbox-cell/checkbox-cell.model';\r\n\r\n@Component({\r\n    selector: 'app-add-app-from-folder',\r\n    templateUrl: './add-app-from-folder.component.html',\r\n    styleUrls: ['./add-app-from-folder.component.scss'],\r\n    imports: [\r\n        MatDialogActions,\r\n        MatButtonModule,\r\n        FeatureTextInfoComponent,\r\n        SxcGridModule,\r\n    ]\r\n})\r\nexport class AddAppFromFolderComponent  {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  gridOptions = this.buildGridOptions();\r\n  installing: boolean = false;\r\n\r\n  public features = inject(FeaturesService);\r\n  #isAddFromFolderEnabled = this.features.isEnabled[FeatureNames.AppSyncWithSiteFiles];\r\n  #appsListService = transient(AppsListService);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<AddAppFromFolderComponent>,\r\n    private snackBar: MatSnackBar,\r\n  ) {}\r\n\r\n  pendingApps = this.#appsListService.getPendingApps() as WritableSignal<PendingApp[]>;\r\n\r\n  closeDialog(): void {\r\n    this.dialog.close();\r\n  }\r\n\r\n  onChange(app: PendingApp, enabled: boolean) {\r\n    const pendingAppsTemp = this.pendingApps();\r\n\r\n    if (enabled)\r\n      pendingAppsTemp.push(app);\r\n    else\r\n      pendingAppsTemp.splice(pendingAppsTemp.indexOf(app), 1);\r\n\r\n    this.pendingApps.set(pendingAppsTemp);\r\n  }\r\n\r\n  install(): void {\r\n    this.installing = true;\r\n    this.snackBar.open('Installing', undefined, { duration: 2000 });\r\n    this.#appsListService.installPendingApps(this.pendingApps()).subscribe({\r\n      error: () => {\r\n        this.installing = false;\r\n        this.snackBar.open('Failed to install app. Please check console for more information', undefined, { duration: 3000 });\r\n      },\r\n      next: () => {\r\n        this.installing = false;\r\n        this.snackBar.open('Installed app', undefined, { duration: 2000 });\r\n        this.closeDialog();\r\n      },\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          field: '',\r\n          width: 40,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          cellRenderer: CheckboxCellComponent,\r\n          cellRendererParams: (() => {\r\n            const params: CheckboxCellParams = {\r\n              isDisabled: !this.#isAddFromFolderEnabled(),\r\n              onChange: (app, enabled) => this.onChange(app, enabled),\r\n            };\r\n            return params;\r\n          }),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ItemsText,\r\n          field: 'Name',\r\n          flex: 1,\r\n          sort: 'asc',\r\n          cellRenderer: AppNameShowComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<PendingApp> = {\r\n              tooltipGetter: (pendingApp) => `Server folder: ${pendingApp.ServerFolder}\\nFolder: ${pendingApp.Folder}\\nVersion: ${pendingApp.Version}\\nDescription: ${pendingApp.Description}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ]\r\n    }\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\n","<div class=\"eav-dialog\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">Add App from Folder</div>\r\n  </div>\r\n  <div class=\"eav-dialog-content\">\r\n    <app-feature-text-info [featureNameId]=\"'AppSyncWithSiteFiles'\"></app-feature-text-info>\r\n    <p>\r\n      Select an app from the apps-folder which has been copied there (or git-cloned) but not installed yet.\r\n    </p>\r\n    @if (pendingApps()?.length == 0) {\r\n    <p>\r\n      Nothing to show. All apps in the 2sxc folder are already installed.\r\n    </p>\r\n    }\r\n    @if (pendingApps()?.length > 0) {\r\n    <div>\r\n      <ag-grid-angular class=\"ag-theme-material eav-grid\" [rowData]=\"pendingApps()\" [gridOptions]=\"gridOptions\">\r\n      </ag-grid-angular>\r\n    </div>\r\n    }\r\n  </div>\r\n  <mat-dialog-actions align=\"end\">\r\n    <button type=\"button\" mat-raised-button (click)=\"closeDialog()\">\r\n      Cancel\r\n    </button>\r\n    <button type=\"button\" mat-raised-button color=\"accent\" [disabled]=\"pendingApps().length === 0 || installing\"\r\n      (click)=\"install()\">\r\n      Install\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { Component, input } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { computedObj } from '../../shared/signals/signal.utilities';\r\nimport { FeatureComponentBase } from '../shared/base-feature.component';\r\n\r\n@Component({\r\n    selector: 'app-feature-text-info',\r\n    templateUrl: './feature-text-info.component.html',\r\n    styleUrls: ['./feature-text-info.component.scss'],\r\n    imports: [\r\n        MatIconModule,\r\n        TranslateModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class FeatureTextInfoComponent extends FeatureComponentBase {\r\n  asInfo = input<boolean>(false);\r\n\r\n  constructor() { super(); }\r\n\r\n  icon = computedObj('icon', () => this.asInfo() ? 'info' : 'warning');\r\n}\r\n","@if (show()) {\r\n  <div class=\"feature-text-info\" (click)=\"openDialog()\" [tippy]=\"'Features.Tooltip' | translate: feature()\">\r\n    <!-- Icon column -->\r\n    <mat-icon class=\"icon icon-{{icon()}}\">{{ icon() }}</mat-icon>\r\n    <!-- Text column -->\r\n    <div class=\"feature-text-info-content\">\r\n      <div class=\"feature-text-info-title\">{{ 'Features.FeatureNotActivated' | translate }}</div>\r\n      <div class=\"feature-text-info-subtitle\">{{ 'Features.ClickToFindOutMore' | translate }}</div>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n}\r\n"],"names":["MatIconModule","TippyDirective","AppNameShowComponent","agInit","params","name","value","tooltip","tooltipGetter","data","refresh","selectors","decls","vars","consts","template","AppNameShowComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵproperty","i1","MatIcon","styles","FeatureNames","AppSyncWithSiteFiles","WysiwygPasteFormatted","PasteImageFromClipboard","EditUiShowNotes","EditUiShowMetadataFor","NoSponsoredByToSic","EditUiTranslateWithGoogle","LightSpeed","ContentSecurityPolicy","PermissionsByLanguage","ContentTypeFieldsReuseDefinitions","AppExportAssetsAdvanced","PickerUiCheckbox","PickerUiRadio","PickerSourceCsv","PickerSourceAppAssets","PickerFormulas","PickerUiMoreInfo","CheckboxCellComponent","onChange","event","currentTarget","checked","CheckboxCellComponent_Template","ɵɵlistener","CheckboxCellComponent_Template_input_change_1_listener","$event","isDisabled","DomSanitizer","SafeHtmlPipe","constructor","sanitizer","transform","html","bypassSecurityTrustHtml","ɵɵdirectiveInject","pure","WritableSignal","inject","MatButtonModule","MatDialogActions","MatDialogRef","MatSnackBar","transient","FeatureTextInfoComponent","FeaturesService","ColumnDefinitions","defaultGridOptions","SxcGridModule","AppsListService","ɵɵelement","ctx_r0","pendingApps","gridOptions","AddAppFromFolderComponent","isAddFromFolderEnabled","appsListService","dialog","snackBar","hostClass","buildGridOptions","installing","features","isEnabled","getPendingApps","closeDialog","close","app","enabled","pendingAppsTemp","push","splice","indexOf","set","install","open","undefined","duration","installPendingApps","subscribe","error","next","columnDefs","field","width","cellClass","sortable","cellRenderer","cellRendererParams","ItemsText","flex","sort","pendingApp","ServerFolder","Folder","Version","Description","i2","hostVars","hostBindings","AddAppFromFolderComponent_HostBindings","ɵɵhostProperty","ɵɵtemplate","AddAppFromFolderComponent_Conditional_8_Template","AddAppFromFolderComponent_Conditional_9_Template","AddAppFromFolderComponent_Template_button_click_11_listener","AddAppFromFolderComponent_Template_button_click_13_listener","ɵɵconditional","tmp_1_0","length","tmp_2_0","i3","MatButton","i4","AgGridAngular","input","TranslateModule","computedObj","FeatureComponentBase","FeatureTextInfoComponent_Conditional_0_Template_div_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openDialog","ɵɵprojection","ɵɵpipeBind2","feature","ɵɵclassMapInterpolate1","icon","ɵɵpipeBind1","asInfo","inputs","ɵɵInheritDefinitionFeature","ngContentSelectors","_c0","FeatureTextInfoComponent_Template","FeatureTextInfoComponent_Conditional_0_Template","show","TranslatePipe"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
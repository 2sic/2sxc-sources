{"version":3,"file":"common.js","mappings":"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","sources":["./projects/eav-ui/src/app/shared/helpers/json.helpers.ts","./projects/eav-ui/src/app/content-type-fields/content-type-fields.routing.ts","./projects/eav-ui/src/app/edit/shared/helpers/field-value.helpers.ts","./projects/eav-ui/src/app/content-items/import-content-item/import-content-item-dialog.config.ts","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.component.ts","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.component.html","./projects/eav-ui/src/app/import-app/import-app-dialog.config.ts","./projects/eav-ui/src/app/replace-content/replace-content-dialog.config.ts","./projects/eav-ui/src/app/content-items/content-items.routing.ts","./projects/eav-ui/src/app/shared/helpers/load-scripts.helper.ts","./projects/eav-ui/src/app/apps-management/services/features-config.service.ts","./projects/eav-ui/src/app/content-type-fields/edit-content-type-fields/reserved-names.directive.ts","./projects/eav-ui/src/app/content-type-fields/content-type-fields-dialog.config.ts","./projects/eav-ui/src/app/edit/edit-debug.ts","./projects/eav-ui/src/app/admin-shared/lightspeed-action/lightspeed-action.component.ts","./projects/eav-ui/src/app/admin-shared/lightspeed-action/lightspeed-action.component.html","./node_modules/rxjs/dist/esm/internal/operators/toArray.js","./projects/eav-ui/src/app/shared/models/dialog-context.models.ts","./projects/eav-ui/src/app/app-administration/constants/field-name.patterns.ts","./projects/eav-ui/src/app/shared/constants/guid.constants.ts","./projects/eav-ui/src/app/content-export/services/content-export.service.ts","./projects/eav-ui/src/app/edit/shared/validation/validation-messages.helpers.ts","./projects/eav-ui/src/app/app-administration/services/analyze-settings.service.ts","./projects/eav-ui/src/app/app-administration/app-admin-helpers.ts","./projects/eav-ui/src/app/import-app/import-app.routing.ts","./projects/eav-ui/src/app/manage-content-list/services/content-group.service.ts","./projects/eav-ui/src/app/apps-management/services/zone.service.ts","./projects/eav-ui/src/app/shared/helpers/update-env-vars-from-dialog-settings.helper.ts","./projects/eav-ui/src/app/shared/routing/dialog-in-new-window.service.ts","./projects/eav-ui/src/app/app-administration/queries/ag-actions/ag-actions-component.ts","./projects/eav-ui/src/app/create-file-dialog/index.ts","./projects/eav-ui/src/app/apps-management/services/apps-list.service.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings-value/analyze-settings-value.component.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings-value/analyze-settings-value.component.html","./projects/eav-ui/src/app/shared/components/dialog-entry/dialog-entry.component.ts","./projects/eav-ui/src/app/content-items/content-items-dialog.config.ts","./projects/eav-ui/src/app/edit/shared/controls/ui-control.ts","./projects/eav-ui/src/app/create-file-dialog/create-file-dialog.models.ts","./projects/eav-ui/src/app/content-type-fields/edit-content-type-fields/edit-content-type-fields-dialog.config.ts","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.models.ts","./projects/eav-ui/src/app/replace-content/replace-content.routing.ts"],"sourcesContent":["\r\nexport class JsonHelpers {\r\n\r\n  /** Tries to parse string as JSON */\r\n  static tryParse(input: string): any {\r\n    try {\r\n      return JSON.parse(input);\r\n    } catch { }\r\n  }\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { EditRoutes } from '../edit/edit.routing';\r\nimport { GoToMetadata } from '../metadata';\r\nimport { GoToPermissions } from '../permissions/go-to-permissions';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { contentTypeFieldsDialog } from './content-type-fields-dialog.config';\r\nimport { editContentTypeFieldsDialog } from './edit-content-type-fields/edit-content-type-fields-dialog.config';\r\n\r\nexport const contentTypeFieldsRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: contentTypeFieldsDialog },\r\n    children: [\r\n      {\r\n        path: 'add/:contentTypeStaticName',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: editContentTypeFieldsDialog }\r\n      },\r\n      {\r\n        path: 'update/:contentTypeStaticName/:id/:editMode',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: editContentTypeFieldsDialog },\r\n      },\r\n      ...GoToMetadata.getRoutes(),\r\n      GoToPermissions.route,\r\n      ...EditRoutes,\r\n    ]\r\n  }\r\n];\r\n","import { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { RxHelpers } from '../../../shared/rxJs/rx.helpers';\r\nimport { ItemValuesOfLanguage } from '../../state/item-values-of-language.model';\r\n\r\n\r\nexport class FieldValueHelpers {\r\n  /** Detect if two values are equal, incl. special NaN and Array checks */\r\n  static fieldValuesAreEqual(x: FieldValue, y: FieldValue): boolean {\r\n    if (x === y) return true;\r\n    if (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y)) return true;\r\n    if (Array.isArray(x) && Array.isArray(y) && RxHelpers.arraysEqual(x, y)) return true;\r\n    return false;\r\n  }\r\n\r\n  /** Searches where newValues has values different from oldValues */\r\n  static getItemValuesChanges(oldValues: ItemValuesOfLanguage, newValues: ItemValuesOfLanguage): ItemValuesOfLanguage {\r\n    const changes: ItemValuesOfLanguage = {};\r\n    for (const key of Object.keys(newValues)) {\r\n      const newValue = newValues[key];\r\n      const oldValue = oldValues[key];\r\n      if (FieldValueHelpers.fieldValuesAreEqual(newValue, oldValue))\r\n        continue;\r\n\r\n      changes[key] = newValue;\r\n    }\r\n    return Object.keys(changes).length === 0 ? undefined : changes;\r\n  }\r\n}\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const importContentItemDialog: DialogConfig = {\r\n  name: 'IMPORT_CONTENT_ITEM_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ImportContentItemComponent: ImportContentItemComponent } = await import('./import-content-item.component');\r\n    return ImportContentItemComponent;\r\n  }\r\n};\r\n","import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { FileLocationFormValues } from '..';\r\nimport { FieldHintComponent } from '../../shared/components/field-hint/field-hint.component';\r\n\r\n@Component({\r\n    selector: 'app-file-location-dialog',\r\n    templateUrl: './file-location-dialog.component.html',\r\n    styleUrls: ['./file-location-dialog.component.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        MatOptionModule,\r\n        MatButtonModule,\r\n        FieldHintComponent,\r\n    ]\r\n})\r\nexport class FileLocationDialogComponent implements OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  form: UntypedFormGroup;\r\n\r\n  constructor(private dialog: MatDialogRef<FileLocationDialogComponent>) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new UntypedFormGroup({\r\n      isShared: new UntypedFormControl(null, Validators.required),\r\n    });\r\n  }\r\n\r\n  closeDialog(isShared?: boolean): void {\r\n    this.dialog.close(isShared);\r\n  }\r\n\r\n  confirm(): void {\r\n    const formValues: FileLocationFormValues = this.form.getRawValue();\r\n    this.closeDialog(formValues.isShared);\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>New file location</mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"form\">\r\n      <!-- Shared -->\r\n      <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n        <mat-label>Location</mat-label>\r\n        <mat-select formControlName=\"isShared\">\r\n          <mat-option [value]=\"false\">App</mat-option>\r\n          <mat-option [value]=\"true\">Shared (global)</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      @if (form.controls.isShared.touched && form.controls.isShared.errors?.required) {\r\n        <app-field-hint [isError]=\"true\">\r\n          This field is required\r\n        </app-field-hint>\r\n      }\r\n    </form>\r\n  </mat-card-content>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button mat-raised-button color=\"accent\" class=\"eav-card-action-button\" [disabled]=\"!form.valid\" (click)=\"confirm()\">\r\n      Confirm\r\n    </button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const importAppDialog: DialogConfig = {\r\n  name: 'IMPORT_APP_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ImportAppComponent } = await import('./import-app.component');\r\n    return ImportAppComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const replaceContentDialog: DialogConfig = {\r\n  name: 'REPLACE_CONTENT_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ReplaceContentComponent } = await import('./replace-content.component');\r\n    return ReplaceContentComponent;\r\n  }\r\n};\r\n","import { Routes } from '@angular/router';\r\nimport { GoToMetadata } from '../metadata';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { importContentItemDialog } from './import-content-item/import-content-item-dialog.config';\r\nimport { contentItemsDialog } from './content-items-dialog.config';\r\nimport { EditRoutes } from '../edit/edit.routing';\r\n\r\nexport const contentItemsRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: contentItemsDialog },\r\n    children: [\r\n      ...GoToMetadata.getRoutes(),\r\n      {\r\n        path: 'export/:contentTypeStaticName',\r\n        loadChildren: () => import('../content-export/content-export.routing').then(m => m.ContentExportRoutes)\r\n      },\r\n      {\r\n        path: 'export/:contentTypeStaticName/:selectedIds',\r\n        loadChildren: () => import('../content-export/content-export.routing').then(m => m.ContentExportRoutes)\r\n      },\r\n      {\r\n        path: 'import',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: importContentItemDialog }\r\n      },\r\n      {\r\n        path: ':contentTypeStaticName/import',\r\n        loadChildren: () => import('../content-import/content-import.routing').then(m => m.contentImportRoutes),\r\n        data: { title: 'Import Items' },\r\n      },\r\n      ...EditRoutes,\r\n    ]\r\n  },\r\n];\r\n\r\n","import { EavWindow } from '../models/eav-window.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport function loadScripts(scriptObjects: ScriptObject[], callback: () => void, iteration = 0) {\r\n  const isLast = scriptObjects.length === iteration + 1;\r\n  const newCallback = isLast ? callback : loadScripts.bind(this, scriptObjects, callback, iteration + 1);\r\n  const scrObj = scriptObjects[iteration];\r\n\r\n  const global = typeof scrObj.test === 'string' ? scrObj.test : null;\r\n  const test = typeof scrObj.test === 'function' ? scrObj.test : null;\r\n  const w = window as Record<string, any>;\r\n\r\n  if (global != null && !!w[global]) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  if (test != null && test()) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  window.require([scrObj.src], (exportedVar: any) => {\r\n    if (exportedVar && !w[global]) {\r\n      w[global] = exportedVar;\r\n    }\r\n    newCallback();\r\n  });\r\n}\r\n\r\nexport interface ScriptObject {\r\n  /** window.xxx or a function that returns a boolean */\r\n  test: string | (() => boolean);\r\n  src: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { FeatureState } from '../../features/models';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { License, LicenseDownloadInfo, LicenseUploadInfo } from '../models/license.model';\r\n\r\nconst webAPiLicenseRetrieve = 'sys/license/Retrieve';\r\nconst webApiFeatSaveNew = 'admin/feature/SaveNew';\r\nconst webApiLicSummary = 'sys/license/Summary';\r\nconst webApiUpload = 'sys/license/Upload';\r\n\r\n@Injectable()\r\nexport class FeaturesConfigService extends HttpServiceBase {\r\n\r\n  saveFeatures(featuresStates: FeatureState[]): Observable<null> {\r\n    return this.http.post<null>(this.apiUrl(webApiFeatSaveNew), featuresStates);\r\n  }\r\n\r\n  getLicenses(): Observable<License[]> { // Use new Signals\r\n    return this.getHttpApiUrl<License[]>(webApiLicSummary);\r\n  }\r\n\r\n  getLicensesSig() { // Use new Signals\r\n    return this.getSignal<License[]>(webApiLicSummary);\r\n  }\r\n\r\n  uploadLicense(file: File): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<LicenseUploadInfo>(this.apiUrl(webApiUpload), formData)\r\n      .pipe(\r\n        map(info => ({\r\n          Success: info.Success,\r\n          Messages: [{\r\n            MessageType: info.Success ? FileUploadMessageTypes.Success : FileUploadMessageTypes.Error,\r\n            Text: `License ${info.Success ? 'uploaded' : 'upload failed'}: ${info.Message}`,\r\n          }],\r\n        } satisfies FileUploadResult)),\r\n      );\r\n  }\r\n\r\n  retrieveLicense(): Observable<LicenseDownloadInfo> {\r\n    return this.getHttpApiUrl<LicenseDownloadInfo>(webAPiLicenseRetrieve);\r\n  }\r\n}\r\n","import { Directive, input } from '@angular/core';\r\nimport { AbstractControl, NG_VALIDATORS, ValidationErrors, Validator } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: '[appReservedNames]',\r\n  providers: [\r\n    { provide: NG_VALIDATORS, useExisting: ReservedNamesValidatorDirective, multi: true },\r\n  ],\r\n})\r\nexport class ReservedNamesValidatorDirective implements Validator {\r\n  appReservedNames = input<Record<string, string>>({});\r\n\r\n\r\n  validate(control: AbstractControl): ValidationErrors | null {\r\n    if (!control.value) { return null; }\r\n\r\n    const controlValue = (control.value as string).toLocaleLowerCase();\r\n    const reservedName = Object.keys(this.appReservedNames()).find(name => name.toLocaleLowerCase() === controlValue);\r\n    return reservedName ? { reservedNames: this.appReservedNames()[reservedName] } : null;\r\n  }\r\n\r\n  static mergeReserved(reservedNames: Record<string, string>, fields: {StaticName: string }[]) {\r\n    const existingFields: Record<string, string> = {};\r\n    fields.forEach(field => {\r\n      existingFields[field.StaticName] = 'this field already exists';\r\n    });\r\n    return {\r\n      ...reservedNames,\r\n      ...existingFields,\r\n    };\r\n  }\r\n\r\n}\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const contentTypeFieldsDialog: DialogConfig = {\r\n  name: 'CONTENT_TYPE_FIELDS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ContentTypeFieldsComponent } = await import('./content-type-fields.component');\r\n    return ContentTypeFieldsComponent;\r\n  }\r\n};\r\n","import { environment } from '../../environments/environment';\r\n\r\n/**\r\n * List of fields to debug across the entire application.\r\n * \r\n * Change as you need, but after debugging, best set it back to [].\r\n */\r\nexport const DebugFields: string[] = !environment.production\r\n  // ? ['StringPicker']\r\n  // ? ['NumberInputAddUntillDevisibleBy5']\r\n  // ? ['WysiwygConfiguration']\r\n  // ? ['Items']\r\n  ? ['ViewController']\r\n  // ? ['Title']\r\n  // ? [] // no fields\r\n  // ? ['*'] // all fields\r\n  : [];\r\n","import { Component, inject, input } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { LightSpeedInfo } from '../../apps-management/models/LightSpeedInfo';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { LightSpeedActionsParams } from './lightspeed-actions.models';\r\n\r\n/**\r\n * LightSpeedActionsComponent\r\n *\r\n * Specially meant to be used inside an AGGrid action, and receive the parameters from it.\r\n *\r\n */\r\n@Component({\r\n    selector: 'app-lightspeed-action',\r\n    templateUrl: './lightspeed-action.component.html',\r\n    imports: [\r\n        TippyDirective,\r\n        MatIconModule,\r\n        MatBadgeModule,\r\n        MatRippleModule,\r\n    ]\r\n})\r\nexport class LightSpeedActionsComponent {\r\n  /** App needed for lightspeed checks */\r\n  lightSpeedOwner = input.required<unknown>();\r\n\r\n  params = input.required<LightSpeedActionsParams>();\r\n\r\n  lightSpeed = input.required<LightSpeedInfo | null>();\r\n\r\n  public features = inject(FeaturesService);\r\n\r\n  constructor() { }\r\n\r\n  protected lightSpeedEnabled = this.features.isEnabled[FeatureNames.LightSpeed]\r\n\r\n  public get appHasLightSpeed(): boolean {\r\n    return this.lightSpeed()?.Id != null;\r\n  }\r\n\r\n  public get appLightSpeedEnabled(): boolean {\r\n    return this.lightSpeed()?.IsEnabled == true;\r\n  }\r\n\r\n  openLightspeedFeatureInfo(): void {\r\n    this.params().openLightspeedFeatureInfo();\r\n  }\r\n}\r\n","@if (!lightSpeedEnabled()) {\r\n  <div class=\"eav-grid-action-button disabled\" tippy=\"Lightspeed is disabled\" (click)=\"openLightspeedFeatureInfo()\">\r\n    <mat-icon matBadgeSize=\"small\" matBadge=\"💎\" matBadgePosition=\"below after\" aria-hidden=\"false\"> bolt </mat-icon>\r\n  </div>\r\n} @else {\r\n  <div\r\n    class=\"eav-grid-action-button {{ appHasLightSpeed ? '' : 'disabled' }}\"\r\n    matRipple\r\n    [tippy]=\"appHasLightSpeed ? lightSpeed().Title : 'Not yet configured for LightSpeed'\"\r\n  >\r\n    @if (appLightSpeedEnabled) {\r\n      <a class=\"default-link\" [href]=\"'#' + params().lightSpeedLink(lightSpeedOwner())\">\r\n        <mat-icon matBadgeSize=\"small\" matBadge=\"✅\" matBadgePosition=\"below after\" aria-hidden=\"false\"> bolt </mat-icon>\r\n      </a>\r\n    } @else {\r\n      <a class=\"default-link\" [href]=\"'#' + params().lightSpeedLink(lightSpeedOwner())\">\r\n        <mat-icon matBadgeSize=\"small\" matBadge=\"⛔\" matBadgePosition=\"below after\" aria-hidden=\"false\"> bolt </mat-icon>\r\n      </a>\r\n    }\r\n  </div>\r\n}\r\n","import { reduce } from './reduce';\nimport { operate } from '../util/lift';\nconst arrReducer = (arr, value) => (arr.push(value), arr);\nexport function toArray() {\n    return operate((source, subscriber) => {\n        reduce(arrReducer, [])(source).subscribe(subscriber);\n    });\n}\n","import { Of } from '../../../../../core';\r\nimport { PermissionsCount } from '../../app-administration/models/permissions-count.model';\r\nimport { Language } from './language.model';\r\n\r\nexport interface DialogContextApp {\r\n  /** Root for app APIs and content/query */\r\n  Api: string;\r\n  Folder: string;\r\n  GettingStartedUrl: string;\r\n  Id: number;\r\n  Identifier: string;\r\n  IsContentApp: boolean;\r\n  IsGlobalApp: boolean;\r\n  IsInherited: boolean;\r\n  IsShared: boolean;\r\n  IsSiteApp: boolean;\r\n  Name: string;\r\n  Permissions: PermissionsCount;\r\n  SettingsScope: Of<typeof AppScopes>;\r\n  Url: string;\r\n  SharedUrl: string;\r\n\r\n  /** New app icon */\r\n  Icon: string;\r\n}\r\n\r\nexport interface ApiKeySpecs {\r\n  NameId: string;\r\n  ApiKey: string;\r\n  IsDemo: boolean;\r\n}\r\n\r\nexport const AppScopes = {\r\n  App: 'App',\r\n  Site: 'Site',\r\n  Global: 'Global',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n\r\n\r\nexport interface DialogContextEnable {\r\n  /** Determines if app admin should show app-permissions (true for Apps, false for Content and Global) */\r\n  AppPermissions?: boolean;\r\n  /** Determines if Code editing should be enabled (true for super-users) */\r\n  CodeEditor?: boolean;\r\n  DebugMode: boolean;\r\n  /** True if saving of formulas should be enabled (for edit-ui) */\r\n  FormulaSave?: boolean;\r\n  /** While debug is enabled, this allows some Edit Ui actions even when they are disabled in fields settings */\r\n  OverrideEditRestrictions?: boolean;\r\n  /** Determines if Queries should be enabled (true for Apps) */\r\n  Query?: boolean;\r\n}\r\n\r\nexport interface DialogContextLanguage {\r\n  Current: string;\r\n  List: Language[];\r\n  Primary: string;\r\n}\r\n\r\nexport interface DialogContextPage {\r\n  Id: number;\r\n}\r\n\r\nexport interface DialogContextSite {\r\n  DefaultApp: DialogContextSiteApp;\r\n  Id: number;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSystem {\r\n  DefaultApp: DialogContextSiteApp;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSiteApp {\r\n  ZoneId: number;\r\n  AppId: number;\r\n}\r\n\r\nexport interface DialogContextUser {\r\n  Email: string;\r\n  Id: number;\r\n  Guid: string;\r\n  IsAnonymous: boolean;\r\n  IsSiteAdmin: boolean;\r\n  IsContentAdmin: boolean;\r\n  IsSystemAdmin: boolean;\r\n  Name: string;\r\n  Username: string;\r\n}\r\n\r\n// export interface DialogContextFeature {\r\n//   NameId: string;\r\n//   Enabled: boolean;\r\n// }\r\n","export const fieldNamePattern = /^[A-Za-z][A-Za-z0-9]+$/;\r\nexport const fieldNameError = 'Standard letters and numbers are allowed. Must start with a letter.';\r\n","/**\r\n * Do not reuse regex:\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test#using_test_on_a_regex_with_the_global_flag\r\n */\r\nexport function guidRegex(): RegExp {\r\n  return /^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { ContentExport } from '../models/content-export.model';\r\n\r\nconst webApiEntityRootDownload = 'admin/entity/Download';\r\nconst webApiEntityRootJson = 'admin/entity/Json';\r\nconst webApiTypeRootJson = 'admin/type/Json';\r\nconst webApiTypeRootJsonBundleExport = 'admin/type/JsonBundleExport';\r\nconst webApiTypeRootJsonBundleSave = 'admin/type/BundleSave';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class ContentExportService extends HttpServiceBase {\r\n\r\n  exportContent(values: ContentExport, selectedIds: number[]) {\r\n    const selectedIdsString = selectedIds ? '&selectedids=' + selectedIds.join() : '';\r\n    const url = this.apiUrl(webApiEntityRootDownload)\r\n      + '?appId=' + this.appId\r\n      + '&language=' + values.language\r\n      + '&defaultLanguage=' + values.defaultLanguage\r\n      + '&contentType=' + values.contentTypeStaticName\r\n      + '&recordExport=' + values.recordExport\r\n      + '&resourcesReferences=' + values.resourcesReferences\r\n      + '&languageReferences=' + values.languageReferences\r\n      + selectedIdsString;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  exportJson(typeName: string) {\r\n    const url = this.apiUrl(webApiTypeRootJson)\r\n      + '?appId=' + this.appId\r\n      + '&name=' + typeName;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  exportEntity(id: number, prefix: string, metadata: boolean) {\r\n    const url = this.apiUrl(webApiEntityRootJson)\r\n      + '?appId=' + this.appId\r\n      + '&id=' + id\r\n      + '&prefix=' + prefix\r\n      + '&withMetadata=' + metadata;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n}\r\n","import { UntypedFormGroup } from '@angular/forms';\r\nimport { UiControl } from '../controls/ui-control';\r\n\r\n// prefix for translation keys\r\nconst prefix = 'ValidationMessage.';\r\nconst notValid = 'ValidationMessage.NotValid';\r\n\r\nexport class ValidationMsgHelper {\r\n\r\n  public static messages: Record<string, (long: boolean) => string> = {\r\n    required: (long: boolean) => long ? `${prefix}Required` : `${prefix}RequiredShort` /* short version in snackbar*/,\r\n    min: (long: boolean) => long ? `${prefix}Min` : notValid,\r\n    max: (long: boolean) => long ? `${prefix}Max` : notValid,\r\n    minNoItems: (long: boolean) => long ? `${prefix}MinNoItems` : notValid,\r\n    maxNoItems: (long: boolean) => long ? `${prefix}MaxNoItems` : notValid,\r\n    pattern: (long: boolean) => long ? `${prefix}Pattern` : notValid,\r\n    decimals: (long: boolean) => long ? `${prefix}Decimals` : notValid,\r\n    jsonError: (long: boolean) => long ? `${prefix}JsonError` : notValid,\r\n    formulaError: (long: boolean) => notValid,\r\n  };\r\n\r\n  /** Marks controls as touched to show errors beneath controls and collects error messages */\r\n  static validateForm(form: UntypedFormGroup): Record<string, string> {\r\n    const errors: Record<string, string> = {};\r\n    for (const [controlKey, control] of Object.entries(form.controls)) {\r\n      UiControl.markTouched(control);\r\n\r\n      if (!control.invalid) continue;\r\n\r\n      for (const errorKey of Object.keys(control.errors)) {\r\n        errors[controlKey] = this.messages[errorKey]?.(false);\r\n        if (errors[controlKey]) break;\r\n      }\r\n    }\r\n    return errors;\r\n  }\r\n\r\n}\r\n","import { computed, Injectable, signal, Signal } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { Of } from '../../../../../core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { AnalyzeParts, SettingsStackItem } from '../sub-dialogs/analyze-settings/analyze-settings.models';\r\n\r\n@Injectable()\r\nexport class AnalyzeSettingsService extends HttpServiceBase {\r\n\r\n\r\n  // TEMP, not sure if this are correct\r\n  getStackSig(part: Of<typeof AnalyzeParts>, key?: string, view?: string, stringifyValue = false): Signal<SettingsStackItem[]> {\r\n    const stackSignal = signal<SettingsStackItem[]>([]);\r\n\r\n    this.getAndWrite<SettingsStackItem[]>(webApiAppRoot + 'GetStack', {\r\n      params: {\r\n        appId: this.appId,\r\n        part,\r\n        ...(key && { key }),\r\n        ...(view && { view }),\r\n      },\r\n    }, stackSignal);\r\n\r\n    return computed(() => stringifyValue\r\n      ? stackSignal().map(stackItem => ({ ...stackItem, _value: JSON.stringify(stackItem.Value) }))\r\n      : stackSignal()\r\n    );\r\n  }\r\n\r\n\r\n  getStack(part: Of<typeof AnalyzeParts>, key?: string, view?: string, stringifyValue = false): Observable<SettingsStackItem[]> {\r\n\r\n    return this.getHttp<SettingsStackItem[]>(webApiAppRoot + 'GetStack', {\r\n      params: {\r\n        appId: this.appId,\r\n        part,\r\n        ...(key && { key }),\r\n        ...(view && { view }),\r\n      },\r\n    }).pipe(\r\n      map(stack => {\r\n\r\n        if (!stringifyValue) { return stack; }\r\n\r\n        for (const stackItem of stack) {\r\n          stackItem._value = JSON.stringify(stackItem.Value);\r\n        }\r\n        return stack;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { eavConstants } from '../shared/constants/eav.constants';\r\nimport { EditForm, EditPrep } from '../shared/models/edit-form.model';\r\n\r\nexport class AppAdminHelpers {\r\n  public static getLightSpeedEditParams(appId: number) {\r\n    const form: EditForm = {\r\n      items: [\r\n        EditPrep.newMetadata(appId, eavConstants.appMetadata.LightSpeed.ContentTypeName, eavConstants.metadata.app, true),\r\n      ],\r\n    };\r\n    return form;\r\n  }\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { importAppDialog } from './import-app-dialog.config';\r\n\r\nexport const importRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: importAppDialog }\r\n  }\r\n];\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { ReplaceConfig } from '../../replace-content/replace-config.model';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { ContentGroup, ContentGroupAdd } from '../models/content-group.model';\r\nimport { GroupHeader } from '../models/group-header.model';\r\n\r\nconst webApiContentGroup = 'cms/contentgroup/';\r\n\r\n@Injectable()\r\nexport class ContentGroupService extends HttpServiceBase {\r\n\r\n  getItems(item: ContentGroup) {\r\n    return this.getHttpApiUrl<ReplaceConfig>(webApiContentGroup + 'replace', {\r\n      params: { appId: this.appId, guid: item.guid, part: item.part, index: item.index.toString() }\r\n    });\r\n  }\r\n\r\n  saveItem(item: ContentGroupAdd) {\r\n    return this.http.post<null>(this.apiUrl(webApiContentGroup + 'replace'), {}, {\r\n      params: { guid: item.guid, part: item.part, index: item.index.toString(), entityId: item.id.toString(), add: `${item.add}` }\r\n    });\r\n  }\r\n\r\n  removeItem(contentGroup: ContentGroup, index: number) {\r\n    // note: the server checks if the part == 'content' and will automatically treat it as a pair with presentation\r\n    return this.http.delete<null>(this.apiUrl('cms/list/delete'), {\r\n      params: { index: index, parent: contentGroup.guid, fields: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  getList(contentGroup: ContentGroup) {\r\n    return this.getHttpApiUrl<GroupHeader[]>(webApiContentGroup + 'itemlist', {\r\n      params: { appId: this.appId, guid: contentGroup.guid, part: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  saveList(contentGroup: ContentGroup, resortedList: GroupHeader[]) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiContentGroup + 'itemlist'), resortedList, {\r\n      params: { appId: this.appId, guid: contentGroup.guid, part: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  getHeader(contentGroup: ContentGroup, initial: GroupHeader) {\r\n    return this.getSignal<GroupHeader>(webApiContentGroup + 'header', {\r\n      params: { appId: this.appId, guid: contentGroup.guid }\r\n    }, initial);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { SiteLanguage, SiteLanguagePermissions } from '../models/site-language.model';\r\nimport { SystemInfoSet } from '../models/system-info.model';\r\n\r\nconst webApiZoneRootGetLanguages = 'admin/zone/GetLanguages';\r\nconst webApiZoneRootSwitchLanguage = 'admin/zone/SwitchLanguage';\r\nconst webApiZoneRootGetSystemInfo = 'admin/zone/GetSystemInfo';\r\nconst webApiAppRootRootlanguages = 'admin/app/languages';\r\n\r\n@Injectable()\r\nexport class ZoneService extends HttpServiceBase {\r\n\r\n  getLanguage(initial: undefined) {\r\n    return this.getSignal<SiteLanguage[]>(webApiZoneRootGetLanguages, {}, initial);\r\n  }\r\n\r\n  toggleLanguage(code: string, enable: boolean) {\r\n    return this.getHttpApiUrl<null>(webApiZoneRootSwitchLanguage, {\r\n      params: { cultureCode: code, enable: enable.toString() },\r\n    });\r\n  }\r\n\r\n  // toggleLanguageSig(code: string, enable: boolean)  {\r\n  //   return this.getSignal<null>(webApiZoneRootSwitchLanguage, {\r\n  //     params: { cultureCode: code, enable: enable.toString() },\r\n  //   });\r\n  // }\r\n\r\n  getSystemInfo(initial: undefined) {\r\n    return this.getSignal<SystemInfoSet>(webApiZoneRootGetSystemInfo, {}, initial);\r\n  }\r\n\r\n  getLanguagesPermissions(initial: undefined) {\r\n    return this.getSignal<SiteLanguagePermissions[]>(webApiAppRootRootlanguages, {\r\n      params: { appId: this.appId },\r\n    }, initial);\r\n  };\r\n}\r\n","import { EnvironmentSpecs } from '@2sic.com/2sxc-typings';\r\nimport { DialogContextApp } from '../models/dialog-context.models';\r\nimport { EavWindow } from '../models/eav-window.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n/**\r\n * This ensures that $2sxc is fully initialized with parameters which are provided later on\r\n * The appApi is being added in v12\r\n * It's important because in Oqtane the app-api root is different in from the normal admin-apis\r\n */\r\nexport function Update$2sxcEnvFromContext(appContext: DialogContextApp): void {\r\n  try {\r\n    const includedApiRoot = appContext?.Api;\r\n    if (!includedApiRoot)\r\n      return;\r\n\r\n    const old2sxcHeader = (window.$2sxc.env as any).header as EnvironmentSpecs;\r\n    const new2sxcHeader = { ...old2sxcHeader, appApi: includedApiRoot } as EnvironmentSpecs;\r\n    window.$2sxc.env.load(new2sxcHeader);\r\n  } catch { /* ignore */ }\r\n}\r\n","import { inject, Injectable } from '@angular/core';\r\nimport { DialogTypeConstants } from '../constants/dialog-type.constants';\r\n// tslint:disable-next-line:max-line-length\r\nimport { keyAppId, keyContentBlockId, keyDebug, keyDialog, keyExtras, keyIsShared, keyItems, keyModuleId, keyPartOfPage, keyUrl, keyZoneId, prefix } from '../constants/session.constants';\r\nimport { EditPrep, ViewOrFileIdentifier } from '../models/edit-form.model';\r\nimport { Context } from '../services/context';\r\nimport { ExtrasParam } from './dialog-url-params.model';\r\n\r\n/**\r\n * Service to open dialogs in a new window.\r\n */\r\n@Injectable()\r\nexport class DialogInNewWindowService {\r\n\r\n  protected context = inject(Context);\r\n\r\n  openCodeFile(path: string, isShared: boolean, templateId?: number) {\r\n    const form = {\r\n      items: [{\r\n        Path: path,\r\n        ...(templateId != null && EditPrep.editId(templateId)),\r\n      }] as ViewOrFileIdentifier[]\r\n    };\r\n\r\n    const hashParams: Record<string, string> = {\r\n      ...this.#buildHashParam(keyDialog, DialogTypeConstants.Develop),\r\n      ...this.#buildHashParam(keyIsShared, isShared.toString()),\r\n      ...this.#buildHashParam(keyItems, JSON.stringify(form.items)),\r\n    };\r\n    const url = this.#buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  openAppAdministration(zoneId: number, appId: number, tab?: string, scope?: string) {\r\n    const extras: ExtrasParam = {\r\n      ...(tab && { tab }),\r\n      ...(scope && { scope }),\r\n    };\r\n    const hashParams: Record<string, string> = {\r\n      ...this.#buildHashParam(keyZoneId, zoneId.toString()),\r\n      ...this.#buildHashParam(keyAppId, appId.toString()),\r\n      ...this.#buildHashParam(keyDialog, DialogTypeConstants.App),\r\n      ...(Object.keys(extras).length ? this.#buildHashParam(keyExtras, JSON.stringify(extras)) : ''),\r\n    };\r\n    const url = this.#buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  /** A lot of the link is identical when opening the admin-dialogs in a new window */\r\n  #buildSharedHashParams() {\r\n    const hashParams: Record<string, string> = {\r\n      ...this.#buildHashParam(keyZoneId, this.context.zoneId),\r\n      ...this.#buildHashParam(keyAppId, this.context.appId),\r\n      ...this.#buildHashParam(keyModuleId, this.context.moduleId?.toString()),\r\n      ...this.#buildHashParam(keyContentBlockId, this.context.contentBlockId?.toString()),\r\n      ...this.#buildHashParam(keyPartOfPage),\r\n      ...(sessionStorage.getItem(keyDebug) ? this.#buildHashParam(keyDebug) : {}),\r\n    };\r\n    return hashParams;\r\n  }\r\n\r\n  /** Encodes param if necessary */\r\n  #buildHashParam(key: string, value?: number | string) {\r\n    const rawKey = key.replace(prefix, '');\r\n    const valueTemp = value ?? sessionStorage.getItem(key);\r\n    const rawValue = encodeURIComponent(valueTemp);\r\n    const hashParam: Record<string, string> = { [rawKey]: rawValue };\r\n    return hashParam;\r\n  }\r\n\r\n  /** Builds the full (ugly) url with all the hash parameters */\r\n  #buildFullUrl(hashParams: Record<string, string>) {\r\n    const oldHref = sessionStorage.getItem(keyUrl);\r\n    const oldUrl = new URL(oldHref);\r\n    const newHref = oldUrl.origin + oldUrl.pathname + oldUrl.search;\r\n\r\n    const allHashParams: Record<string, string> = {\r\n      ...this.#buildSharedHashParams(),\r\n      ...hashParams,\r\n    };\r\n    const hashUrl = Object.entries(allHashParams).reduce((acc, [key, value]) => `${acc}&${key}=${value}`, '').replace('&', '#');\r\n    return newHref + hashUrl;\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\n\r\nexport abstract class AgActionsAlwaysRefresh implements ICellRendererAngularComp {\r\n  abstract agInit(params: any): void;\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","export * from './file-location-dialog/file-location-dialog.component';\r\nexport * from './file-location-dialog/file-location-dialog.models';\r\nexport * from './create-file-dialog.component';\r\nexport * from './create-file-dialog.models';\r\n// export * from './create-file-dialog.module';\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { App, PendingApp } from '../models/app.model';\r\n\r\n const webApiAppRootList = 'admin/app/list';\r\n const webApiAppRootInheritableApps = 'admin/app/InheritableApps';\r\n const webApiAppRootPendingApps = 'admin/app/GetPendingApps';\r\n const webApiAppRootApp = 'admin/app/app';\r\n const webApiAppRootInstallPendingApps = 'admin/app/InstallPendingApps';\r\n const webApiAppRootFlushcache = 'admin/app/flushcache';\r\n\r\n@Injectable()\r\nexport class AppsListService extends HttpServiceBase {\r\n\r\n  getAll() {\r\n    return this.getSignal<App[]>(webApiAppRootList, {\r\n      params: { zoneId: this.zoneId }\r\n    });\r\n  }\r\n\r\n  getInheritable() {\r\n    return this.getSignal<App[]>(webApiAppRootInheritableApps, {\r\n      params: { zoneId: this.zoneId }\r\n    });\r\n  }\r\n\r\n  getPendingApps() {\r\n    return this.getSignal<PendingApp[]>(webApiAppRootPendingApps, {\r\n      params: { zoneId: this.zoneId },\r\n    });\r\n  }\r\n\r\n  create(name: string, inheritAppId?: number, templateId?: number) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRootApp), {}, {\r\n      params: {\r\n        zoneId: this.zoneId,\r\n        name,\r\n        ...(inheritAppId != null && { inheritAppId }),\r\n        ...(templateId != null && { templateId }),\r\n      },\r\n    });\r\n  }\r\n\r\n  installPendingApps(pendingApps: PendingApp[]) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRootInstallPendingApps), pendingApps, {\r\n      params: {\r\n        zoneId: this.zoneId,\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(appId: number) {\r\n    return this.http.delete<null>(this.apiUrl(webApiAppRootApp), {\r\n      params: { zoneId: this.zoneId, appId: appId.toString() },\r\n    });\r\n  }\r\n\r\n  flushCache(appId: number) {\r\n    return this.getHttpApiUrl<null>(webApiAppRootFlushcache, {\r\n      params: { zoneId: this.zoneId, appId: appId.toString() },\r\n    });\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { transient } from '../../../../../../../core/transient';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\nimport { JsonHelpers } from '../../../../shared/helpers/json.helpers';\r\nimport { ClipboardService } from '../../../../shared/services/clipboard.service';\r\n\r\n@Component({\r\n    selector: 'app-analyze-settings-value',\r\n    templateUrl: './analyze-settings-value.component.html',\r\n    styleUrls: ['./analyze-settings-value.component.scss'],\r\n    imports: [\r\n        MatRippleModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class AnalyzeSettingsValueComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n\r\n  constructor() { }\r\n\r\n  protected clipboard = transient(ClipboardService);\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n  \r\n  copy(value: string) {\r\n    value = JsonHelpers.tryParse(value) ?? value;\r\n    this.clipboard.copyToClipboard(value);\r\n  }\r\n}\r\n","<div matRipple class=\"value-box highlight\" [tippy]=\"value\" (click)=\"copy(value)\">\r\n  <span class=\"value\">{{ value }}</span>\r\n</div>\r\n","import { ChangeDetectorRef, Component, Injector, OnDestroy, OnInit, Type, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NavigateFormResult } from '../../../edit/routing/edit-routing.service';\r\nimport { classLog } from '../../logging';\r\nimport { DialogConfig } from '../../models/dialog-config.model';\r\nimport { EavWindow } from '../../models/eav-window.model';\r\nimport { Context } from '../../services/context';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n@Component({\r\n  selector: 'app-dialog-entry',\r\n  templateUrl: './dialog-entry.component.html',\r\n  imports: [],\r\n  providers: [\r\n    Context, // this is used in the dialog to get the correct App\r\n  ]\r\n})\r\nexport class DialogEntryComponent implements OnInit, OnDestroy {\r\n  \r\n  log = classLog({DialogEntryComponent});\r\n  \r\n  #dialogData: Record<string, any>;\r\n  #dialog: MatDialogRef<any>;\r\n\r\n  constructor(\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private context: Context,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private injector: Injector,\r\n  ) {\r\n    const navigation = this.router.getCurrentNavigation();\r\n    this.#dialogData = navigation?.extras?.state || {};\r\n  }\r\n\r\n  ngOnInit() {\r\n    const l = this.log.fn('ngOnInit');\r\n    const dialogConfig: DialogConfig = this.route.snapshot.data.dialog;\r\n    if (dialogConfig == null)\r\n      throw new Error(`Could not find config for dialog. Did you forget to add DialogConfig to route data?`);\r\n\r\n    l.a('Open dialog: '+ dialogConfig.name, { id: this.context.id, context: this.context });\r\n\r\n    dialogConfig.getComponent(this.injector).then(component => {\r\n      // spm Workaround for \"feature\" where you can't open new dialog while last one is still opening\r\n      // https://github.com/angular/components/commit/728cf1c8ebd49e089f4bae945511bb0918972c26\r\n      const dialog = (this.matDialog as any);\r\n      if (dialog._dialogAnimatingOpen && dialog._lastDialogRef)\r\n        (dialog._lastDialogRef as MatDialogRef<any>).afterOpened()\r\n          .subscribe(() => this.openDialogComponent(dialogConfig, component));\r\n      else\r\n        this.openDialogComponent(dialogConfig, component);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.#dialog.close();\r\n  }\r\n\r\n  private openDialogComponent(dialogConfig: DialogConfig, component: Type<any>) {\r\n    this.log.a(`Open dialog(initContext: ${dialogConfig.initContext})`, { name: dialogConfig.name, 'Contextid:': this.context.log.svcId, 'Context:': this.context });\r\n    if (dialogConfig.initContext)\r\n      this.context.init(this.route);\r\n\r\n    this.#dialog = this.matDialog.open(component, {\r\n      autoFocus: false,\r\n      backdropClass: 'dialog-backdrop',\r\n      closeOnNavigation: false,\r\n      data: this.#dialogData,\r\n      panelClass: [\r\n        'dialog-panel',\r\n        `dialog-panel-${dialogConfig.panelSize}`,\r\n        dialogConfig.showScrollbar ? 'show-scrollbar' : 'no-scrollbar',\r\n        ...(dialogConfig.panelClass ? dialogConfig.panelClass : []),\r\n      ],\r\n      // spm NOTE: position used to force align-items: flex-start; on cdk-global-overlay-wrapper.\r\n      // Real top margin is overwritten in css e.g. dialog-panel-large\r\n      position: { top: '0' },\r\n      viewContainerRef: this.viewContainerRef,\r\n    });\r\n\r\n    this.#dialog.afterClosed().subscribe((data: any) => {\r\n      this.log.a('Dialog was closed - name:' + dialogConfig.name, { data });\r\n\r\n      const navRes = data as NavigateFormResult;\r\n      if (navRes?.navigateUrl != null) {\r\n        this.router.navigate([navRes.navigateUrl]);\r\n        return;\r\n      }\r\n\r\n      if (this.route.pathFromRoot.length <= 3) {\r\n        try {\r\n          window.parent.$2sxc.totalPopup.close();\r\n        } catch (error) { }\r\n        return;\r\n      }\r\n\r\n      if (this.route.snapshot.url.length > 0)\r\n        this.router.navigate(['./'], { relativeTo: this.route.parent, state: data });\r\n      else\r\n        this.router.navigate(['./'], { relativeTo: this.route.parent.parent, state: data });\r\n    });\r\n\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n}\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const contentItemsDialog: DialogConfig = {\r\n  name: 'CONTENT_ITEMS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ContentItemsComponent } = await import('./content-items.component');\r\n    return ContentItemsComponent;\r\n  }\r\n};\r\n","import { AbstractControl } from '@angular/forms';\r\nimport isEqual from 'lodash-es/isEqual';\r\nimport { FieldValue } from '../../../../../../edit-types/src/FieldValue';\r\nimport { classLog } from '../../../shared/logging';\r\nimport { DebugFields } from '../../edit-debug';\r\nimport { FieldValueHelpers } from '../helpers/field-value.helpers';\r\nimport { ValidationMsgHelper } from '../validation/validation-messages.helpers';\r\nimport { AbstractControlPro } from '../validation/validation.helpers';\r\n\r\nconst logSpecs = {\r\n  all: true,\r\n  constructor: false,\r\n  markTouched: false,\r\n  set: false,\r\n  disable: false,\r\n  getErrors: true,\r\n  fields: [...DebugFields, '*'],\r\n};\r\n\r\nconst pfx = 'ValidationMessage.';\r\n\r\n/**\r\n * Provides information about the UI Control, but NOT the value.\r\n * It is used to simplify the logic when interacting with the Angular Virtual Form.\r\n */\r\nexport class UiControl {\r\n\r\n  log = classLog({UiControl}, logSpecs);\r\n\r\n  constructor(\r\n    public control: AbstractControl,\r\n    private name = 'unknown',\r\n    private moreDisabled: boolean = false,\r\n  ) {\r\n    // Patch control with dummy object for the nullable case where we're just creating a fake control...\r\n    this.control ??= { dirty: false, invalid: false, touched: false, value: null, disabled: false } as AbstractControl;\r\n    this.log.extendName(`[${name}]`);\r\n    this.log.aIfInList('fields', this.name, { moreDisabled }, 'constructor');\r\n  }\r\n\r\n  static emptyControl() {\r\n    return new UiControl({ dirty: false, invalid: false, touched: false, value: null, disabled: false } as AbstractControl);\r\n  }\r\n\r\n  //#region simple direct properties & complex properties\r\n  get dirty() { return this.control.dirty; }\r\n  get invalid() { return this.control.invalid; }\r\n  get touched() { return this.control.touched; }\r\n  get disabled() { return this.control.disabled || this.moreDisabled; }\r\n  get touchedAndInvalid() { return this.control.touched && this.control.invalid; }\r\n  //#endregion\r\n\r\n  //#region methods\r\n\r\n  markTouched(): void {\r\n    this.log.aIfInList('fields', this.name, null, 'markTouched');\r\n    UiControl.markTouched(this.control);\r\n  }\r\n\r\n  setIfChanged(newValue: FieldValue): void {\r\n    const before = this.control.value;\r\n    this.log.aIfInList('fields', this.name, { before, newValue }, 'setIfChanged');\r\n    if (isEqual(newValue, this.control.value)) return;\r\n    this.#set(newValue);\r\n  }\r\n\r\n  /** Use to update form controls value */\r\n  #set(newValue: FieldValue): void {\r\n    const control = this.control;\r\n    const before = control.value;\r\n    this.log.aIfInList('fields', this.name, { before, newValue }, 'set');\r\n\r\n    if (!control.touched)\r\n      control.markAsTouched();\r\n\r\n    if (!control.dirty && !FieldValueHelpers.fieldValuesAreEqual(before, newValue))\r\n      control.markAsDirty();\r\n\r\n    // Note: 2024-10-21 ca. 18.02 we have some timing issues, error always seems to show previous error; maybe fixed now, otherwise revisit\r\n    // Set value must happen at the end, otherwise errors will be late by one cycle\r\n    // for example, they could show \"required\" after the value was\r\n    control.patchValue(newValue);\r\n  }\r\n\r\n  disable(disable: boolean): void {\r\n    this.log.aIfInList('fields', this.name, null, `disable: ${disable}`);\r\n    UiControl.disable(this.control, disable);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region private helpers\r\n\r\n  /** TODO: Try to remove this by assigning controls [formControlName] in [formGroup] */\r\n  static markTouched(control: AbstractControl): void {\r\n    if (control.touched)\r\n      return;\r\n\r\n    control.markAsTouched();\r\n    control.updateValueAndValidity();\r\n  }\r\n\r\n  /** Disables/enables control if not already disabled/enabled. Use this helper to trigger fewer events on the form */\r\n  static disable(control: AbstractControl, disable: boolean) {\r\n    if (control.disabled === disable)\r\n      return;\r\n\r\n    if (disable)\r\n      control.disable();\r\n    else\r\n      control.enable();\r\n  }\r\n  //#endregion\r\n\r\n  /** Calculates error message */\r\n  getErrors(): string {\r\n    const control = this.control;\r\n    const errors = control.errors;\r\n    const l = this.log.fnIfInList('getErrors', 'fields', this.name, { control, name: this.name });\r\n    if (!control.invalid)\r\n      return l.r('', 'valid');\r\n    if (!control.dirty && !control.touched)\r\n      return l.r('', 'not dirty or touched');\r\n\r\n    for (const errorKey of Object.keys(errors)) {\r\n      const error = (errorKey === 'formulaError')\r\n        ? control.errors['formulaMessage'] ?? ValidationMsgHelper.messages[errorKey]?.(true)\r\n        : ValidationMsgHelper.messages[errorKey]?.(true);\r\n      if (error)\r\n        return l.r(error, 'error found');\r\n    }\r\n\r\n    return l.r('', 'no error');\r\n  }\r\n\r\n  #warningMessages: Record<string, string> = {\r\n    jsonWarning: `${pfx}JsonWarning`,\r\n    formulaWarning: `${pfx}NotValid`,\r\n  };\r\n\r\n  getWarnings(): string {\r\n    const control = this.control as AbstractControlPro;\r\n    if (control._warning == null)\r\n      return '';\r\n    if (!control.dirty && !control.touched)\r\n      return '';\r\n\r\n    let warning = '';\r\n    for (const warningKey of Object.keys(control._warning)) {\r\n      warning = (warningKey === 'formulaWarning')\r\n        ? control._warning['formulaMessage'] ?? this.#warningMessages[warningKey]\r\n        : this.#warningMessages[warningKey];\r\n      if (warning)\r\n        break;\r\n    }\r\n    return warning;\r\n  }\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\nimport { PredefinedTemplate } from '../code-editor/models/predefined-template.model';\r\n\r\nexport interface CreateFileDialogData {\r\n  folder?: string;\r\n  global: boolean;\r\n  purpose?: 'Template' | 'Search' | 'Api';\r\n  type?: 'Token' | 'Razor';\r\n  name?: string;\r\n}\r\n\r\nexport interface CreateFileViewModel {\r\n  templates: PredefinedTemplate[];\r\n  platforms: string[];\r\n  purposes: string[];\r\n  loadingPreview: boolean;\r\n  preview: string;\r\n  previewValid: boolean;\r\n  previewError: string;\r\n}\r\n\r\nexport interface CreateFileFormControls {\r\n  platform: AbstractControl;\r\n  purpose: AbstractControl;\r\n  templateKey: AbstractControl;\r\n  name: AbstractControl;\r\n  finalName: AbstractControl;\r\n  folder: AbstractControl;\r\n}\r\n\r\nexport interface CreateFileFormValues {\r\n  platform: string;\r\n  purpose: string;\r\n  templateKey: string;\r\n  name: string;\r\n  finalName: string;\r\n  folder: string;\r\n}\r\n\r\nexport interface CreateFileDialogResult {\r\n  name: string;\r\n  templateKey: string;\r\n}\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const editContentTypeFieldsDialog: DialogConfig = {\r\n  name: 'EDIT_CONTENT_TYPE_FIELDS_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { EditContentTypeFieldsComponent } = await import('./edit-content-type-fields.component');\r\n    return EditContentTypeFieldsComponent;\r\n  }\r\n};\r\n","export interface FileLocationFormValues {\r\n  isShared: boolean;\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { replaceContentDialog } from './replace-content-dialog.config';\r\nimport { EditRoutesNoHistory } from '../edit/edit.routing';\r\n\r\nexport const replaceContentRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: replaceContentDialog },\r\n    children: [\r\n      // Note 2024-07-01 2dm - not sure why it is configured without history, but to be safe I'll keep it for now\r\n      ...EditRoutesNoHistory\r\n    ],\r\n  },\r\n];\r\n"],"names":["JsonHelpers","tryParse","input","JSON","parse","EditRoutes","GoToMetadata","GoToPermissions","DialogEntryComponent","contentTypeFieldsDialog","editContentTypeFieldsDialog","contentTypeFieldsRoutes","path","component","data","dialog","children","getRoutes","route","RxHelpers","FieldValueHelpers","fieldValuesAreEqual","x","y","isNaN","Array","isArray","arraysEqual","getItemValuesChanges","oldValues","newValues","changes","key","Object","keys","newValue","oldValue","length","undefined","importContentItemDialog","name","initContext","panelSize","panelClass","getComponent","_asyncToGenerator","ImportContentItemComponent","FormsModule","ReactiveFormsModule","UntypedFormControl","UntypedFormGroup","Validators","MatButtonModule","MatCardModule","MatOptionModule","MatDialogRef","MatFormFieldModule","MatSelectModule","FieldHintComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","FileLocationDialogComponent","constructor","hostClass","ngOnInit","form","isShared","required","closeDialog","close","confirm","formValues","getRawValue","ɵɵdirectiveInject","i1","selectors","hostVars","hostBindings","FileLocationDialogComponent_HostBindings","rf","ctx","ɵɵhostProperty","ɵɵtemplate","FileLocationDialogComponent_Conditional_14_Template","ɵɵlistener","FileLocationDialogComponent_Template_button_click_16_listener","FileLocationDialogComponent_Template_button_click_18_listener","ɵɵadvance","ɵɵconditional","controls","touched","errors","valid","i2","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardTitle","i3","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i4","MatFormField","MatLabel","i5","MatSelect","i6","MatOption","i7","MatButton","styles","importAppDialog","ImportAppComponent","replaceContentDialog","ReplaceContentComponent","contentItemsDialog","contentItemsRoutes","loadChildren","then","m","ContentExportRoutes","contentImportRoutes","title","loadScripts","scriptObjects","callback","iteration","isLast","newCallback","bind","scrObj","global","test","w","window","require","src","exportedVar","map","FileUploadMessageTypes","HttpServiceBase","webAPiLicenseRetrieve","webApiFeatSaveNew","webApiLicSummary","webApiUpload","FeaturesConfigService","saveFeatures","featuresStates","http","post","apiUrl","getLicenses","getHttpApiUrl","getLicensesSig","getSignal","uploadLicense","file","formData","FormData","append","pipe","info","Success","Messages","MessageType","Error","Text","Message","retrieveLicense","__ngFactoryType__","factory","ɵfac","AbstractControl","NG_VALIDATORS","ValidationErrors","ReservedNamesValidatorDirective","appReservedNames","validate","control","value","controlValue","toLocaleLowerCase","reservedName","find","reservedNames","mergeReserved","fields","existingFields","forEach","field","StaticName","inputs","features","ɵɵProvidersFeature","provide","useExisting","multi","ContentTypeFieldsComponent","environment","DebugFields","production","inject","MatBadgeModule","MatRippleModule","MatIconModule","FeatureNames","FeaturesService","TippyDirective","LightSpeedActionsComponent_Conditional_0_Template_div_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openLightspeedFeatureInfo","params","lightSpeedLink","lightSpeedOwner","ɵɵsanitizeUrl","LightSpeedActionsComponent_Conditional_1_Conditional_1_Template","LightSpeedActionsComponent_Conditional_1_Conditional_2_Template","ɵɵclassMapInterpolate1","appHasLightSpeed","lightSpeed","Title","appLightSpeedEnabled","LightSpeedActionsComponent","lightSpeedEnabled","isEnabled","LightSpeed","Id","IsEnabled","decls","vars","consts","template","LightSpeedActionsComponent_Template","LightSpeedActionsComponent_Conditional_0_Template","LightSpeedActionsComponent_Conditional_1_Template","MatIcon","MatBadge","MatRipple","encapsulation","reduce","operate","arrReducer","arr","push","toArray","source","subscriber","subscribe","AppScopes","App","Site","Global","fieldNamePattern","fieldNameError","guidRegex","webApiEntityRootDownload","webApiEntityRootJson","webApiTypeRootJson","webApiTypeRootJsonBundleExport","webApiTypeRootJsonBundleSave","ContentExportService","exportContent","values","selectedIds","selectedIdsString","join","url","appId","language","defaultLanguage","contentTypeStaticName","recordExport","resourcesReferences","languageReferences","open","exportJson","typeName","exportEntity","id","prefix","metadata","UiControl","notValid","ValidationMsgHelper","messages","long","min","max","minNoItems","maxNoItems","pattern","decimals","jsonError","formulaError","validateForm","controlKey","entries","markTouched","invalid","errorKey","computed","signal","Signal","webApiAppRoot","AnalyzeSettingsService","getStackSig","part","view","stringifyValue","stackSignal","getAndWrite","stackItem","_value","stringify","Value","getStack","getHttp","stack","eavConstants","EditPrep","AppAdminHelpers","getLightSpeedEditParams","items","newMetadata","appMetadata","ContentTypeName","app","importRoutes","webApiContentGroup","ContentGroupService","getItems","item","guid","index","toString","saveItem","entityId","add","removeItem","contentGroup","delete","parent","getList","saveList","resortedList","getHeader","initial","webApiZoneRootGetLanguages","webApiZoneRootSwitchLanguage","webApiZoneRootGetSystemInfo","webApiAppRootRootlanguages","ZoneService","getLanguage","toggleLanguage","code","enable","cultureCode","getSystemInfo","getLanguagesPermissions","Update$2sxcEnvFromContext","appContext","includedApiRoot","Api","old2sxcHeader","$2sxc","env","header","new2sxcHeader","appApi","load","DialogTypeConstants","keyAppId","keyContentBlockId","keyDebug","keyDialog","keyExtras","keyIsShared","keyItems","keyModuleId","keyPartOfPage","keyUrl","keyZoneId","Context","DialogInNewWindowService","context","openCodeFile","templateId","Path","editId","hashParams","buildHashParam","Develop","buildFullUrl","openAppAdministration","zoneId","tab","scope","extras","buildSharedHashParams","#buildSharedHashParams","moduleId","contentBlockId","sessionStorage","getItem","#buildHashParam","rawKey","replace","valueTemp","rawValue","encodeURIComponent","hashParam","#buildFullUrl","oldHref","oldUrl","URL","newHref","origin","pathname","search","allHashParams","hashUrl","acc","AgActionsAlwaysRefresh","refresh","webApiAppRootList","webApiAppRootInheritableApps","webApiAppRootPendingApps","webApiAppRootApp","webApiAppRootInstallPendingApps","webApiAppRootFlushcache","AppsListService","getAll","getInheritable","getPendingApps","create","inheritAppId","installPendingApps","pendingApps","flushCache","transient","ClipboardService","AnalyzeSettingsValueComponent","clipboard","agInit","copy","copyToClipboard","AnalyzeSettingsValueComponent_Template","AnalyzeSettingsValueComponent_Template_div_click_0_listener","ɵɵtextInterpolate","ChangeDetectorRef","Injector","Type","ViewContainerRef","MatDialog","ActivatedRoute","Router","classLog","dialogData","matDialog","viewContainerRef","router","changeDetectorRef","injector","log","navigation","getCurrentNavigation","state","l","fn","dialogConfig","snapshot","a","_dialogAnimatingOpen","_lastDialogRef","afterOpened","openDialogComponent","ngOnDestroy","svcId","init","autoFocus","backdropClass","closeOnNavigation","showScrollbar","position","top","afterClosed","navRes","navigateUrl","navigate","pathFromRoot","totalPopup","error","relativeTo","markForCheck","DialogEntryComponent_Template","ContentItemsComponent","isEqual","logSpecs","all","set","disable","getErrors","pfx","moreDisabled","warningMessages","jsonWarning","formulaWarning","dirty","disabled","extendName","aIfInList","emptyControl","touchedAndInvalid","setIfChanged","before","#set","markAsTouched","markAsDirty","patchValue","updateValueAndValidity","fnIfInList","r","getWarnings","_warning","warning","warningKey","EditContentTypeFieldsComponent","EditRoutesNoHistory","replaceContentRoutes"],"sourceRoot":"webpack:///","x_google_ignoreList":[16]}
{"version":3,"file":"projects_eav-ui_src_app_app-administration_queries_queries_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.ts","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.html","./projects/eav-ui/src/app/app-administration/queries/queries.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries.component.html"],"sourcesContent":["import { Query } from '../../models/query.model';\r\n\r\n// Test @2dm 2020-11-20 - I believe the current model has way too much ceremony\r\n// I need to change ca. 10 places just to get one more action to work\r\n// that's not great\r\nexport enum QueryActions {\r\n  Edit,\r\n  Metadata,\r\n  Rest,\r\n  Clone,\r\n  Permissions,\r\n  Export,\r\n  Delete,\r\n}\r\n\r\nexport interface QueriesActionsParams {\r\n  getEnablePermissions(): boolean;\r\n  \r\n  urlTo(action: QueryActions, query: Query): void;\r\n  do(action: QueryActions, query: Query): void;\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { Query } from '../../models/query.model';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions';\r\n\r\n@Component({\r\n    selector: 'app-queries-actions',\r\n    templateUrl: './queries-actions.component.html',\r\n    imports: [\r\n        MatRippleModule,\r\n        MatIconModule,\r\n        MatBadgeModule,\r\n        MatMenuModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class QueriesActionsComponent implements ICellRendererAngularComp {\r\n  item: Query;\r\n  params: ICellRendererParams & QueriesActionsParams;\r\n  enablePermissions: boolean;\r\n  actions = QueryActions;\r\n\r\n  agInit(params: ICellRendererParams & QueriesActionsParams): void {\r\n    this.params = params;\r\n    this.item = this.params.data;\r\n    this.enablePermissions = this.params.getEnablePermissions();\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <a [href]=\"params.urlTo(actions.Edit, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Edit\">\r\n    <mat-icon>edit</mat-icon>\r\n  </a>\r\n\r\n  @if (!item._EditInfo.DisableMetadata) {\r\n    <a [href]=\"params.urlTo(actions.Metadata, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Metadata\">\r\n      <mat-icon\r\n        [matBadge]=\"item.Metadata?.length\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!item.Metadata?.length\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </a>\r\n  }\r\n  @if (item._EditInfo.DisableMetadata) {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"item.Metadata?.length\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!item.Metadata?.length\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  @if (!item._EditInfo.DisableEdit && enablePermissions) {\r\n    <a [href]=\"params.urlTo(actions.Permissions, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Permissions\">\r\n      <mat-icon\r\n        [matBadge]=\"item._Permissions.Count\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!item._Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person\r\n      </mat-icon>\r\n    </a>\r\n  }\r\n  @if (item._EditInfo.DisableEdit || !enablePermissions) {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"item._Permissions.Count\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!item._Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <a [href]=\"params.urlTo(actions.Rest, item)\" mat-menu-item class=\"default-link\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </a>\r\n    <button mat-menu-item (click)=\"params.do(actions.Clone, item)\">\r\n      <mat-icon>file_copy</mat-icon>\r\n      <span>Copy</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"params.do(actions.Export, item)\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"item._EditInfo.DisableDelete\" (click)=\"params.do(actions.Delete, item)\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, computed, inject, OnInit, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogActions } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { transient } from '../../../../../core';\r\nimport { ContentExportService } from '../../content-export/services/content-export.service';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { DragAndDropDirective } from '../../shared/directives/drag-and-drop.directive';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { classLog } from '../../shared/logging';\r\nimport { EditPrep } from '../../shared/models/edit-form.model';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { RouteLinkHelper } from '../../shared/routing/route-link-helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Query } from '../models/query.model';\r\nimport { DialogConfigAppService } from '../services/dialog-config-app.service';\r\nimport { PipelinesService } from '../services/pipelines.service';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions/queries-actions';\r\nimport { QueriesActionsComponent } from './queries-actions/queries-actions.component';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  urlToOpenVisualQueryDesigner: true,\r\n  titleCellRenderer: true,\r\n  cloneQuery: false,\r\n  deleteQuery: false,\r\n  exportQuery: false,\r\n};\r\n\r\n@Component({\r\n  selector: 'app-queries',\r\n  templateUrl: './queries.component.html',\r\n  imports: [\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    SxcGridModule,\r\n    DragAndDropDirective,\r\n    TippyDirective,\r\n  ]\r\n})\r\nexport class QueriesComponent implements OnInit {\r\n\r\n  log = classLog({ QueriesComponent }, logSpecs);\r\n\r\n  #pipelineSvc = transient(PipelinesService);\r\n  #contentExportSvc = transient(ContentExportService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n  #dialogConfigSvc = transient(DialogConfigAppService);\r\n\r\n  #context = inject(Context);\r\n  #snackBar = inject(MatSnackBar);\r\n\r\n  constructor() { }\r\n\r\n  enablePermissions!: boolean;\r\n  public gridOptions = this.buildGridOptions();\r\n\r\n  #refresh = signal(0);\r\n\r\n  queries = computed(() => {\r\n    const refresh = this.#refresh();\r\n    return this.#pipelineSvc.getAllSig(eavConstants.contentTypes.query, undefined)\r\n  });\r\n\r\n  ngOnInit() {\r\n    // watch for return from dialog to reload queries\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#triggerRefresh());\r\n\r\n    // get setting for enablePermissions on load\r\n    this.#dialogConfigSvc.getCurrent$().subscribe(settings => {\r\n      this.enablePermissions = settings.Context.Enable.AppPermissions;\r\n    });\r\n  }\r\n\r\n  //#region methods for template actions\r\n\r\n  urlToImportQuery() {\r\n    return this.#urlTo(`import`);\r\n  }\r\n\r\n  importQuery(files?: File[]) {\r\n    this.#dialogRouter.navRelative(['import'], { state: { files } satisfies FileUploadDialogData });\r\n  }\r\n\r\n  urlToNewQuery() {\r\n    return this.#urlToEditOrNew(null);\r\n  }\r\n\r\n  //#endregion\r\n\r\n  #triggerRefresh() {\r\n    this.#refresh.update(v => ++v); \r\n  }\r\n\r\n  #urlTo(url: string) {\r\n    return `#${this.#dialogRouter.urlSubRoute(url)}`;\r\n  }\r\n\r\n  #urlToEditOrNew(query?: Query) {\r\n    return this.#urlTo(\r\n      `edit/${convertFormToUrl({\r\n        items: [\r\n          query == null\r\n            ? EditPrep.newFromType(eavConstants.contentTypes.query, { TestParameters: eavConstants.pipelineDesigner.testParameters })\r\n            : EditPrep.editId(query.Id),\r\n        ],\r\n      })}`\r\n    );\r\n  }\r\n\r\n  #urlToOpenVisualQueryDesigner(query: Query): string {\r\n    return '#/' + new RouteLinkHelper().routeTo(this.#context, `query/${query.Id}`);\r\n  }\r\n\r\n  #urlToOpenMetadata(query: Query): string {\r\n    return this.#urlTo(\r\n      GoToMetadata.getUrlEntity(query.Guid, `Metadata for Query: ${query.Name} (${query.Id})`)\r\n    );\r\n  }\r\n\r\n  #urlToPermissions(query: Query): string {\r\n    return this.#urlTo(GoToPermissions.getUrlEntity(query.Guid));\r\n  }\r\n\r\n  #urlToRestApi(query: Query): string {\r\n    return this.#urlTo(GoToDevRest.getUrlQueryInAdmin(query.Guid));\r\n  }\r\n\r\n  private cloneQuery(query: Query) {\r\n    const l = this.log.fnIf('cloneQuery', { query });\r\n    this.#snackBar.open('Copying...');\r\n    this.#pipelineSvc.clonePipeline(query.Id).subscribe(() => {\r\n      this.#snackBar.open('Copied', null, { duration: 2000 });\r\n      this.#triggerRefresh();\r\n    });\r\n    l.end();\r\n  }\r\n\r\n  private exportQuery(query: Query) {\r\n    const l = this.log.fnIf('exportQuery', { query });\r\n    this.#contentExportSvc.exportEntity(query.Id, 'Query', true);\r\n    l.end();\r\n  }\r\n\r\n  private deleteQuery(query: Query) {\r\n    const l = this.log.fnIf('deleteQuery', { query });\r\n    if (!confirm(`Delete Pipeline '${query.Name}' (${query.Id})?`))\r\n      return;\r\n    this.#snackBar.open('Deleting...');\r\n    this.#pipelineSvc.delete(query.Id).subscribe(res => {\r\n      this.#snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.#triggerRefresh();\r\n    });\r\n    l.end();\r\n  }\r\n\r\n  /** Render the title cell w/link - as own method to allow better debugging */\r\n  #titleCellRenderer(query: Query) {\r\n    const l = this.log.fnIf('titleCellRenderer', { query });\r\n    const url = this.#urlToOpenVisualQueryDesigner(query);\r\n    l.values({ url });\r\n    return `<a href=\"${url}\" target=\"_blank\" class=\"default-link\" style=\"display: block; width: 100%; height: 100%;\">\r\n              ${query.Name}\r\n            </a>`;\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          cellClass: (p: { data: Query }) => `id-action no-padding no-outline ${p.data._EditInfo.ReadOnly ? 'disabled' : ''}`.split(' '),\r\n          cellRendererParams: ColumnDefinitions.idFieldParamsTooltipGetter<Query>(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          sort: 'asc',\r\n          cellClass: (p: { data: Query }) => `${p.data._EditInfo.DisableEdit ? 'no-outline' : 'primary-action highlight'}`.split(' '),\r\n          cellRenderer: (p: { data: Query }) => this.#titleCellRenderer(p.data),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideFlex3,\r\n          field: 'Description',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight4,\r\n          cellRenderer: QueriesActionsComponent,\r\n          cellRendererParams: ({\r\n            getEnablePermissions: () => this.enablePermissions,\r\n            do: (action, query) => {\r\n              switch (action) {\r\n                case QueryActions.Clone: return this.cloneQuery(query);\r\n                case QueryActions.Export: return this.exportQuery(query);\r\n                case QueryActions.Delete: return this.deleteQuery(query);\r\n              }\r\n            },\r\n            urlTo: (action, query) => {\r\n              switch (action) {\r\n                case QueryActions.Edit: return this.#urlToEditOrNew(query);\r\n                case QueryActions.Metadata: return this.#urlToOpenMetadata(query);\r\n                case QueryActions.Rest: return this.#urlToRestApi(query);\r\n                case QueryActions.Permissions: return this.#urlToPermissions(query);\r\n              }\r\n            },\r\n          } satisfies QueriesActionsParams),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <ag-grid-angular\r\n    class=\"ag-theme-material\"\r\n    [rowData]=\"queries()()\"\r\n    [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop\r\n    [allowedFileTypes]=\"'json'\"\r\n    (filesDropped)=\"importQuery($event)\"\r\n  >\r\n  </ag-grid-angular>\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <a [href]=\"urlToImportQuery()\" mat-button class=\"eav-button__with-icon\" tippy=\"Import query\" tippyPlacement=\"top\">\r\n      <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n      <span>Query</span>\r\n    </a>\r\n    <a [href]=\"urlToNewQuery()\" mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new query\" tippyPlacement=\"top\">\r\n      <mat-icon>add</mat-icon>\r\n    </a>\r\n  </mat-dialog-actions>\r\n</div>\r\n<router-outlet></router-outlet>\r\n"],"names":["QueryActions","MatBadgeModule","MatRippleModule","MatIconModule","MatMenuModule","TippyDirective","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","params","urlTo","actions","Metadata","item","ɵɵsanitizeUrl","ɵɵadvance","length","Permissions","_Permissions","Count","ɵɵelement","ɵɵlistener","QueriesActionsComponent_ng_template_13_Template_button_click_4_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","do","Clone","QueriesActionsComponent_ng_template_13_Template_button_click_9_listener","Export","QueriesActionsComponent_ng_template_13_Template_button_click_14_listener","Delete","Rest","_EditInfo","DisableDelete","QueriesActionsComponent","constructor","agInit","data","enablePermissions","getEnablePermissions","refresh","selectors","decls","vars","consts","template","QueriesActionsComponent_Template","rf","ctx","ɵɵtemplate","QueriesActionsComponent_Conditional_4_Template","QueriesActionsComponent_Conditional_5_Template","QueriesActionsComponent_Conditional_6_Template","QueriesActionsComponent_Conditional_7_Template","QueriesActionsComponent_ng_template_13_Template","Edit","ɵɵconditional","DisableMetadata","DisableEdit","menu_r3","i1","MatRipple","i2","MatIcon","i3","MatBadge","i4","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","encapsulation","computed","inject","signal","MatButtonModule","MatDialogActions","MatSnackBar","RouterOutlet","transient","ContentExportService","GoToDevRest","GoToMetadata","GoToPermissions","ColumnDefinitions","defaultGridOptions","eavConstants","DragAndDropDirective","convertFormToUrl","classLog","EditPrep","SxcGridModule","DialogRoutingService","RouteLinkHelper","Context","DialogConfigAppService","PipelinesService","logSpecs","all","urlToOpenVisualQueryDesigner","titleCellRenderer","cloneQuery","deleteQuery","exportQuery","QueriesComponent","pipelineSvc","contentExportSvc","dialogRouter","dialogConfigSvc","context","snackBar","log","gridOptions","buildGridOptions","queries","getAllSig","contentTypes","query","undefined","ngOnInit","doOnDialogClosed","triggerRefresh","getCurrent$","subscribe","settings","Enable","AppPermissions","urlToImportQuery","importQuery","files","navRelative","state","urlToNewQuery","urlToEditOrNew","#triggerRefresh","update","v","#urlTo","url","urlSubRoute","#urlToEditOrNew","items","newFromType","TestParameters","pipelineDesigner","testParameters","editId","Id","#urlToOpenVisualQueryDesigner","routeTo","urlToOpenMetadata","#urlToOpenMetadata","getUrlEntity","Guid","Name","urlToPermissions","#urlToPermissions","urlToRestApi","#urlToRestApi","getUrlQueryInAdmin","l","fnIf","open","clonePipeline","duration","end","exportEntity","confirm","delete","res","#titleCellRenderer","values","columnDefs","IdWithDefaultRenderer","cellClass","p","ReadOnly","split","cellRendererParams","idFieldParamsTooltipGetter","TextWide","field","sort","cellRenderer","TextWideFlex3","ActionsPinnedRight4","action","QueriesComponent_Template","QueriesComponent_Template_ag_grid_angular_filesDropped_1_listener","$event","MatAnchor","MatFabAnchor","AgGridAngular"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
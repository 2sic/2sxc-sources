{"version":3,"file":"projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/services/app-internals.service.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings.models.ts","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration.component.ts","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration.component.html","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration-card/app-configuration-card.component.ts","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration-card/app-configuration-card.component.html"],"sourcesContent":["import { Injectable, Signal } from '@angular/core';\r\nimport { AppInternals } from '../../app-administration/models/app-internals.model';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\n\r\nconst webApiRoot = 'admin/appinternals/get';\r\n\r\n@Injectable()\r\nexport class AppInternalsService extends HttpServiceBase {\r\n\r\n  /**\r\n   * Fetches AppInternals for given key\r\n   * @param targetType type of target metadata item is for, e.g. for Entity, or ContentType\r\n   * @param keyType e.g. for keyType === guid, key === contentTypeStaticName\r\n   * @param key key of target metadata item is for\r\n   * @param contentTypeName name of content type where permissions are stored. If blank, backend returns all metadata except permissions\r\n   */\r\n\r\n  getAppInternals(internals: AppInternals): Signal<AppInternals> {\r\n    return this.getSignal<AppInternals>(webApiRoot, {\r\n      params: { appid: this.appId }\r\n    }, internals);\r\n  }\r\n\r\n}\r\n","\r\nexport const AnalyzeParts = {\r\n  Settings: 'Settings',\r\n  Resources: 'Resources',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n\r\nexport interface SettingsStackItem {\r\n  Path: string;\r\n  Priority: number;\r\n  Source: string;\r\n  TotalResults: number;\r\n  Type: string;\r\n  Value: string;\r\n  _value: string;\r\n}\r\n","import { NgTemplateOutlet } from '@angular/common';\r\nimport { Component, OnInit, Signal, computed, inject, signal } from '@angular/core';\r\nimport { toSignal } from '@angular/core/rxjs-interop';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { Of, transient } from '../../../../../core';\r\nimport { DocsLinkHelperComponent } from '../../admin-shared/docs-link-helper/docs-link-helper.component';\r\nimport { ContentItemsService } from '../../content-items/services/content-items.service';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { FeatureTextInfoComponent } from '../../features/feature-text-info/feature-text-info.component';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { SystemSettingsScopes, eavConstants } from '../../shared/constants/eav.constants';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { AppScopes } from '../../shared/models/dialog-context.models';\r\nimport { EditPrep } from '../../shared/models/edit-form.model';\r\nimport { DialogInNewWindowService } from '../../shared/routing/dialog-in-new-window.service';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { AppAdminHelpers } from '../app-admin-helpers';\r\nimport { AppInternals } from '../models/app-internals.model';\r\nimport { ContentTypeEdit } from '../models/content-type.model';\r\nimport { AppInternalsService } from '../services/app-internals.service';\r\nimport { ContentTypesService } from '../services/content-types.service';\r\nimport { DialogConfigAppService } from '../services/dialog-config-app.service';\r\nimport { AnalyzeParts } from '../sub-dialogs/analyze-settings/analyze-settings.models';\r\nimport { AppConfigurationCardComponent } from './app-configuration-card/app-configuration-card.component';\r\n\r\n@Component({\r\n  selector: 'app-app-configuration',\r\n  templateUrl: './app-configuration.component.html',\r\n  styleUrls: ['./app-configuration.component.scss'],\r\n  imports: [\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatBadgeModule,\r\n    NgTemplateOutlet,\r\n    AppConfigurationCardComponent,\r\n    FeatureTextInfoComponent,\r\n    RouterOutlet,\r\n    TippyDirective,\r\n    DocsLinkHelperComponent,\r\n  ]\r\n})\r\nexport class AppConfigurationComponent implements OnInit {\r\n\r\n  #featuresSvc = inject(FeaturesService);\r\n\r\n  #dialogInNewWindowSvc = transient(DialogInNewWindowService);\r\n  #contentTypesSvc = transient(ContentTypesService);\r\n  #appInternalsService = transient(AppInternalsService);\r\n  #contentItemsService = transient(ContentItemsService);\r\n  #dialogConfigSvc = transient(DialogConfigAppService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private context: Context,\r\n  ) { }\r\n\r\n  eavConstants = eavConstants;\r\n  AnalyzeParts = AnalyzeParts;\r\n  SystemSettingsScopes = SystemSettingsScopes;\r\n  AppScopes = AppScopes;\r\n\r\n  // Settings for the current dialog\r\n  dialogSettings = toSignal(this.#dialogConfigSvc.getCurrent$());\r\n  #currentScope = computed(() => this.dialogSettings()?.Context.App.SettingsScope);\r\n\r\n  // Booleans containing the current scope state\r\n  isGlobal = computed(() => { const cs = this.#currentScope(); return cs == null ? null : cs === AppScopes.Global; });\r\n  isSite = computed(() => { const cs = this.#currentScope(); return cs == null ? null : cs === AppScopes.Site; });\r\n  isApp = computed(() => { const cs = this.#currentScope(); return cs == null ? null : cs === AppScopes.App });\r\n\r\n  /*=== URL SIGNALS FOR EDIT ROUTES ===*/\r\n\r\n  //============== System Settings ==============\r\n\r\n  // Assign System Settings Url\r\n  #appSystemSettingsUrlSource: Signal<string>;\r\n  appSystemSettingsUrl = computed(() => {\r\n    const isGlobal = this.isGlobal();\r\n    const isSite = this.isSite();\r\n    if (isGlobal == null || isSite == null) return null;\r\n    // Ensure that the source is only created once when global/site are ready.\r\n    this.#appSystemSettingsUrlSource ??= this.urlToEditSystem(\r\n      eavConstants.contentTypes.systemSettings,\r\n      isGlobal ? SystemSettingsScopes.App : isSite ? SystemSettingsScopes.Site : SystemSettingsScopes.App\r\n    );\r\n    // return value unwrapped\r\n    return this.#appSystemSettingsUrlSource();\r\n  })\r\n\r\n  //============== System Resources ==============\r\n\r\n  // Assign System Resources Url\r\n  #appSystemResourcesUrlSource: Signal<string>;\r\n  appSystemResourcesUrl = computed(() => {\r\n    const isGlobal = this.isGlobal();\r\n    const isSite = this.isSite();\r\n    if (isGlobal == null || isSite == null) return null;\r\n    // Ensure that the source is only created once when global/site are ready.\r\n    this.#appSystemResourcesUrlSource ??= this.urlToEditSystem(\r\n      eavConstants.contentTypes.systemResources,\r\n      isGlobal ? SystemSettingsScopes.App : isSite ? SystemSettingsScopes.Site : SystemSettingsScopes.App\r\n    );\r\n    // return value unwrapped\r\n    return this.#appSystemResourcesUrlSource();\r\n  })\r\n\r\n  //============== Custm Settings ==============\r\n\r\n  // Assign Custom Settings Url\r\n  #appCustomSettingsUrlSource: Signal<string>;\r\n  appCustomSettingsUrl = computed(() => {\r\n    const isGlobal = this.isGlobal();\r\n    const isSite = this.isSite();\r\n    if (isGlobal == null || isSite == null) return null;\r\n    // Ensure that the source is only created once when global/site are ready.\r\n    this.#appCustomSettingsUrlSource ??= this.urlToEditSystem(\r\n      isGlobal ? eavConstants.contentTypes.customSettings : isSite ? eavConstants.contentTypes.customSettings : eavConstants.contentTypes.settings,\r\n      isGlobal ? SystemSettingsScopes.App : isSite ? SystemSettingsScopes.Site : SystemSettingsScopes.App\r\n    );\r\n    // return value unwrapped\r\n    return this.#appCustomSettingsUrlSource();\r\n  })\r\n\r\n  //============== Custom Resources ==============\r\n\r\n  // Assign Custom Resources Url\r\n  #appCustomResourcesUrlSource: Signal<string>;\r\n  appCustomResourcesUrl = computed(() => {\r\n    const isGlobal = this.isGlobal();\r\n    const isSite = this.isSite();\r\n    if (isGlobal == null || isSite == null) return null;\r\n    // Ensure that the source is only created once when global/site are ready.\r\n    this.#appCustomResourcesUrlSource ??= this.urlToEditSystem(\r\n      isGlobal ? eavConstants.contentTypes.customResources : isSite ? eavConstants.contentTypes.customResources : eavConstants.contentTypes.resources,\r\n      isGlobal ? SystemSettingsScopes.App : isSite ? SystemSettingsScopes.Site : SystemSettingsScopes.App\r\n    );\r\n    // return value unwrapped\r\n    return this.#appCustomResourcesUrlSource();\r\n  })\r\n\r\n  //============== END ==============\r\n\r\n  // More proper ViewModel\r\n  appSettingsInternal$ = new Subject<AppInternals>();\r\n\r\n  public appStateAdvanced = false;\r\n\r\n  protected lightSpeedEnabled = this.#featuresSvc.isEnabled[FeatureNames.LightSpeed];\r\n  protected cspEnabled = this.#featuresSvc.isEnabled[FeatureNames.ContentSecurityPolicy];\r\n  protected langPermsEnabled = this.#featuresSvc.isEnabled[FeatureNames.PermissionsByLanguage];\r\n\r\n  #refresh = signal(0);\r\n\r\n  #appSpecsLazy = computed(() => {\r\n    const _ = this.#refresh();\r\n    return this.#appInternalsService.getAppInternals(/* initial: */ null)\r\n  });\r\n\r\n  /** Statistics for the content-types and fields for later */\r\n  #dataStatistics = computed(() => {\r\n    const appSpecs = this.#appSpecsLazy()();\r\n\r\n    if (!appSpecs)\r\n      return null;\r\n\r\n    const props = appSpecs?.EntityLists;\r\n    const lsTypeName = eavConstants.appMetadata.LightSpeed.ContentTypeName;\r\n\r\n    const isSite = this.isSite();\r\n    const result: TempDataStatistics = {\r\n      appLightSpeedCount: appSpecs.MetadataList.Items.filter(i => i._Type.Name === lsTypeName).length,\r\n      systemSettingsCount: isSite\r\n        ? props.SettingsSystem.filter(i => i.SettingsEntityScope === SystemSettingsScopes.Site).length\r\n        : props.SettingsSystem.filter(i => !i.SettingsEntityScope).length,\r\n      customSettingsCount: props.AppSettings?.length,\r\n      customSettingsFieldsCount: appSpecs.FieldAll.AppSettings?.length,\r\n      systemResourcesCount: isSite\r\n        ? props.ResourcesSystem.filter(i => i.SettingsEntityScope === SystemSettingsScopes.Site).length\r\n        : props.ResourcesSystem.filter(i => !i.SettingsEntityScope).length,\r\n      customResourcesCount: props.AppResources?.length,\r\n      customResourcesFieldsCount: appSpecs?.FieldAll.AppResources?.length,\r\n    };\r\n\r\n    return result;\r\n  });\r\n\r\n  /** Test if current types for settings/resources exist, otherwise they must be created before opening dialogs */\r\n  #customTypesExist = computed(() => {\r\n    const appSpecs = this.#appSpecsLazy()();\r\n    return (!appSpecs)\r\n      ? { settings: false, resources: false }\r\n      : {\r\n          settings: appSpecs.FieldAll.AppSettings != null,\r\n          resources: appSpecs.FieldAll.AppResources != null,\r\n        }\r\n  });\r\n\r\n  ngOnInit() {\r\n    // Update dialog router when child a dialog was closesd\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#refresh.update(v => ++v));\r\n  }\r\n\r\n  buttons = computed<Buttons>(() => {\r\n    // if not ready, return a full object with empty values\r\n    const ready = this.dialogSettings() != null;\r\n    if (!ready) {\r\n      const nothing: ButtonSpecs = { tooltip: '', url: '', count: null };\r\n      return {\r\n        topRowLabel: 'loading...',\r\n        customSettingsType: '',\r\n        customResourcesType: '',\r\n        systemSettings: nothing,\r\n        customSettings: nothing,\r\n        customSettingsFields: nothing,\r\n        systemResources: nothing,\r\n        customResources: nothing,\r\n        customResourcesFields: nothing,\r\n        lightspeed: nothing,\r\n      }\r\n    }\r\n\r\n    // From the current settings computed booleans containing the scope state\r\n    const isGlobal = !!this.isGlobal();\r\n    const isSite = !!this.isSite();\r\n    const isApp = !!this.isApp();\r\n\r\n    // The name of the top row, to use in the row label and tooltips\r\n    const scopeName = this.dialogSettings().Context.App.SettingsScope;\r\n\r\n    // The statistics of the entities - should later be simplified once code is improved @2pp\r\n    const viewModel = this.#dataStatistics();\r\n\r\n    const typeNames = eavConstants.contentTypes;\r\n    const customSettingsType = isApp\r\n      ? typeNames.settings\r\n      : typeNames.customSettings;\r\n    const customResourcesType = isApp\r\n      ? typeNames.resources\r\n      : typeNames.customResources;\r\n\r\n    // Detect if the custom types exist\r\n    const typesExist = this.#customTypesExist();\r\n\r\n    return {\r\n      topRowLabel: scopeName,\r\n      customSettingsType: customSettingsType,\r\n      customResourcesType: customResourcesType,\r\n      systemSettings: {\r\n        tooltip: `Edit ${scopeName} system settings`,\r\n        url: this.appSystemSettingsUrl(),\r\n        count: viewModel?.systemSettingsCount || null,\r\n      },\r\n      customSettings: {\r\n        tooltip: `Edit ${scopeName} custom settings`,\r\n        url: typesExist.settings\r\n          ? this.appCustomSettingsUrl()\r\n          : null,\r\n        count: viewModel?.customSettingsCount || null,\r\n      },\r\n      customSettingsFields: {\r\n        tooltip: `Configure fields of the custom ${scopeName} settings`,\r\n        url: typesExist.settings\r\n          ? this.urlToConfig(customSettingsType)\r\n          : null,\r\n        count: viewModel?.customSettingsFieldsCount || null,\r\n      },\r\n      systemResources: {\r\n        tooltip: `Edit ${scopeName} system resources`,\r\n        url: this.appSystemResourcesUrl(),\r\n        count: viewModel?.systemResourcesCount || null,\r\n      },\r\n      customResources: {\r\n        tooltip: `Edit ${scopeName} custom resources`,\r\n        url: typesExist.resources\r\n          ? this.appCustomResourcesUrl()\r\n          : null,\r\n        count: viewModel?.customResourcesCount || null,\r\n      },\r\n      customResourcesFields: {\r\n        tooltip: `Edit ${scopeName} custom resources fields`,\r\n        url: this.urlToConfig(customResourcesType),\r\n        count: viewModel?.customResourcesFieldsCount || null,\r\n      },\r\n      lightspeed: {\r\n        tooltip: `Edit ${scopeName} LightSpeed`,\r\n        url: this.urlToGetLightSpeedLink(),\r\n        count: viewModel?.appLightSpeedCount || null,\r\n      },\r\n    } satisfies Buttons;\r\n  });\r\n\r\n  #urlTo(url: string, queryParams?: { [key: string]: string }, errComponent?: string) {\r\n    let newUrl = '#' + this.#dialogRouter.urlSubRoute(url);\r\n\r\n    if (queryParams)\r\n      newUrl += `?${new URLSearchParams(queryParams).toString()}`;\r\n    if (errComponent)\r\n      newUrl += `&errComponent=${errComponent}`;\r\n\r\n    return newUrl;\r\n  }\r\n\r\n  // case eavConstants.contentTypes.systemSettings:\r\n  // case eavConstants.contentTypes.systemResources:\r\n  urlToEditSystem(staticName: string, systemSettingsScope?: Of<typeof SystemSettingsScopes>) {\r\n    const url = signal('');\r\n    this.#contentItemsService.getAll(staticName).subscribe(contentItems => {\r\n      const systemSettingsEntities = contentItems.filter(i =>\r\n        systemSettingsScope === SystemSettingsScopes.App\r\n          ? !i.SettingsEntityScope\r\n          : i.SettingsEntityScope === SystemSettingsScopes.Site\r\n      );\r\n      if (systemSettingsEntities.length > 1) {\r\n        url.set(this.#urlTo('message/e', { error: 'AppAdmin.ErrorTooManyAppSettings' }, staticName));\r\n      } else {\r\n        const systemSettingsEntity = systemSettingsEntities[0];\r\n        url.set(this.#urlTo(\r\n          `edit/${convertFormToUrl({\r\n            items: [\r\n              systemSettingsEntity == null\r\n                ? EditPrep.newFromType(staticName, {\r\n                  ...(systemSettingsScope === SystemSettingsScopes.Site && {\r\n                    SettingsEntityScope: SystemSettingsScopes.Site,\r\n                  }),\r\n                })\r\n                : EditPrep.editId(systemSettingsEntity.Id),\r\n            ],\r\n          })}`\r\n        ));\r\n      }\r\n    });\r\n\r\n    return url;\r\n  }\r\n\r\n  // case eavConstants.contentTypes.customSettings:\r\n  // case eavConstants.contentTypes.customResources:\r\n  urlToEditCustom(staticName: string) {\r\n    const url = signal('');\r\n    this.#contentItemsService.getAll(staticName).subscribe(contentItems => {\r\n      if (contentItems.length > 1) {\r\n        url.set(this.#urlTo('message/e', { error: 'AppAdmin.ErrorTooManyAppSettings' }, staticName));\r\n      } else {\r\n        const customSettingsEntity = contentItems[0];\r\n        url.set(this.#urlTo(\r\n          `edit/${convertFormToUrl({\r\n            items: [\r\n              customSettingsEntity == null\r\n                ? EditPrep.newFromType(staticName)\r\n                : EditPrep.editId(customSettingsEntity.Id),\r\n            ],\r\n          })}`\r\n        ));\r\n      }\r\n    });\r\n\r\n    return url;\r\n  }\r\n\r\n  // case default:\r\n  urlToEditDefault(staticName: string) {\r\n    const url = signal('');\r\n    this.#contentItemsService.getAll(staticName).subscribe(contentItems => {\r\n      if (contentItems.length < 1) {\r\n        url.set(this.#urlTo('message/e', { error: 'AppAdmin.ErrorNoAppSettings' }, staticName));\r\n      } else if (contentItems.length > 1) {\r\n        url.set(this.#urlTo('message/e', { error: 'AppAdmin.ErrorTooManyAppSettings' }, staticName));\r\n      } else {\r\n        url.set(this.#urlTo(\r\n          `edit/${convertFormToUrl({\r\n            items: [EditPrep.editId(contentItems[0].Id)],\r\n          })}`\r\n        ));\r\n      }\r\n    });\r\n\r\n    return url;\r\n  }\r\n\r\n  urlToGetLightSpeedLink(): string {\r\n    return this.#urlTo(\r\n      `edit/${convertFormToUrl(\r\n        AppAdminHelpers.getLightSpeedEditParams(this.context.appId)\r\n      )}`\r\n    );\r\n  }\r\n\r\n  openSiteSettings() {\r\n    const siteApp = this.dialogSettings().Context.Site.PrimaryApp;\r\n    this.#dialogInNewWindowSvc.openAppAdministration(siteApp.ZoneId, siteApp.AppId, 'app');\r\n  }\r\n\r\n  openGlobalSettings() {\r\n    const globalApp = this.dialogSettings().Context.System.PrimaryApp;\r\n    this.#dialogInNewWindowSvc.openAppAdministration(globalApp.ZoneId, globalApp.AppId, 'app');\r\n  }\r\n\r\n  urlToConfig(staticName: string) {\r\n    return this.#urlTo(`fields/${staticName}`);\r\n  }\r\n\r\n  urlToOpenPermissions() {\r\n    return this.#urlTo(GoToPermissions.getUrlApp(this.context.appId));\r\n  }\r\n\r\n  urlToOpenLanguagePermissions(enabled: boolean) {\r\n    if (enabled)\r\n      return this.#urlTo('language-permissions')\r\n    else\r\n      return this.#urlTo('edit-language-permissions')\r\n  }\r\n\r\n  urlToAnalyze(part: Of<typeof AnalyzeParts>) {\r\n    return this.#urlTo(`analyze/${part}`);\r\n  }\r\n\r\n  fixContentTypeIfNecessary(url: string, typeName: string, event: MouseEvent) {\r\n    // If we have a url, everything is fine so we can just return and let the click happen\r\n    if (url) return;\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    // Check server if the content-type exists\r\n    this.#contentTypesSvc.retrieveContentTypes(eavConstants.scopes.configuration.value).subscribe(contentTypes => {\r\n      const contentTypeExists = contentTypes.some(ct => ct.Name === typeName);\r\n      if (contentTypeExists) {\r\n        // Open Edit dialog\r\n        const url = (this.#urlTo(\r\n          `edit/${convertFormToUrl({\r\n            items: [EditPrep.newFromType(typeName)],\r\n          })}`\r\n        ));\r\n        if(url) {\r\n          window.open(url, \"_self\");\r\n          return\r\n        }\r\n        else\r\n          return\r\n      } else {\r\n        const newContentType = {\r\n          StaticName: '',\r\n          // NameId: '',\r\n          Name: typeName,\r\n          Description: '',\r\n          Scope: eavConstants.scopes.configuration.value,\r\n          // ChangeStaticName: false,\r\n          ChangeNameId: false,\r\n          // NewStaticName: '',\r\n          NewNameId: '',\r\n        } as ContentTypeEdit;\r\n\r\n        this.#contentTypesSvc.save(newContentType).subscribe(success => {\r\n          if (!success) return;\r\n          // trigger refresh\r\n          this.#refresh.update(v => ++v);\r\n\r\n          // Inform user\r\n          alert('Created a new Content Type. Please try again 👍🏼.');\r\n        });\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n\r\n  // 2025-01-21 2dm had to restore this functionality, keep this code till 2025-Q2 just in case\r\n  // fixContentType(staticName: string, action: 'edit' | 'config') {\r\n  //   this.#contentTypesSvc.retrieveContentTypes(eavConstants.scopes.configuration.value).subscribe(contentTypes => {\r\n  //     const contentTypeExists = contentTypes.some(ct => ct.Name === staticName);\r\n  //     if (contentTypeExists) {\r\n  //       if (action === 'edit') {\r\n  //         this.edit(staticName);\r\n  //       } else if (action === 'config') {\r\n  //         this.config(staticName);\r\n  //       }\r\n  //     } else {\r\n  //       const newContentType = {\r\n  //         StaticName: '',\r\n  //         // NameId: '',\r\n  //         Name: staticName,\r\n  //         Description: '',\r\n  //         Scope: eavConstants.scopes.configuration.value,\r\n  //         // ChangeStaticName: false,\r\n  //         ChangeNameId: false,\r\n  //         // NewStaticName: '',\r\n  //         NewNameId: '',\r\n  //       } as ContentTypeEdit;\r\n  //       this.#contentTypesSvc.save(newContentType).subscribe(success => {\r\n  //         if (!success) return;\r\n\r\n  //         if (action === 'edit') {\r\n  //           this.edit(staticName);\r\n  //         } else if (action === 'config') {\r\n  //           this.config(staticName);\r\n  //         }\r\n  //       });\r\n  //     }\r\n  //   });\r\n  // }\r\n}\r\n\r\nclass TempDataStatistics {\r\n  // Lightspeed\r\n  appLightSpeedCount: number;\r\n\r\n  systemSettingsCount: number;\r\n  customSettingsCount: number;\r\n  customSettingsFieldsCount: number;\r\n  systemResourcesCount: number;\r\n  customResourcesCount: number;\r\n  customResourcesFieldsCount: number;\r\n}\r\n\r\ninterface ButtonSpecs {\r\n  /** Tooltip on the button */\r\n  tooltip: string,\r\n  /** url to open a dialog, or null if the content-type doesn't exist and requires pre-work */\r\n  url: string,\r\n  /** count of fields or entities */\r\n  count: number,\r\n}\r\n\r\ninterface Buttons {\r\n  topRowLabel: string,\r\n  customSettingsType: string,\r\n  customResourcesType: string,\r\n  systemSettings: ButtonSpecs,\r\n  customSettings: ButtonSpecs,\r\n  customSettingsFields: ButtonSpecs,\r\n  systemResources: ButtonSpecs,\r\n  customResources: ButtonSpecs,\r\n  customResourcesFields: ButtonSpecs,\r\n  lightspeed: ButtonSpecs,\r\n}\r\n","<!-- one of the three triggers must be true -->\r\n@if (isGlobal() || isSite() || isApp()) {\r\n  @if (isGlobal() || isSite()) {\r\n    <div class=\"alert alert-info scope-info\">\r\n      @if (isGlobal()) {\r\n        This is the Global App. Anything configured here will affect all Sites and Apps in this installation.\r\n      }\r\n      @if (isSite()) {\r\n        This is the Primary App of this Site. You can also configure site wide settings and resources here.\r\n      }\r\n      See <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>.\r\n    </div>\r\n  }\r\n  <div class=\"eav-cards-box\">\r\n    <!-- Settings -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Settings</mat-card-title>\r\n        <mat-icon>settings</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <!-- DEBUG ⚠️ types: {{ customTypesExist() | json }} -->\r\n        <p>\r\n          Settings are things like SQL-connection strings, default \"items-to-show\" numbers and similar. If necessary, settings like a link\r\n          to an RSS-Feed could be different in each language.\r\n          <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>\r\n        </p>\r\n        <table class=\"eav-settings-and-resources-table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>System Settings</th>\r\n              <th>Custom Settings</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <!-- TODO: @2pp - this is how I deduplicated code for settings -->\r\n              <!-- first row label changes with level we are at -->\r\n              <th>{{ buttons().topRowLabel }}</th>\r\n              <td>\r\n                <a [href]=\"buttons().systemSettings.url\" mat-icon-button [tippy]=\"buttons().systemSettings.tooltip\">\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().systemSettings.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >edit</mat-icon\r\n                  >\r\n                </a>\r\n              </td>\r\n              <td>\r\n                <a\r\n                  [href]=\"buttons().customSettings.url\"\r\n                  (click)=\"fixContentTypeIfNecessary(buttons().customSettings.url, buttons().customSettingsType, $event)\"\r\n                  mat-icon-button\r\n                  [tippy]=\"buttons().customSettings.tooltip\"\r\n                >\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().customSettings.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >edit</mat-icon\r\n                  >\r\n                </a>\r\n                <a\r\n                  [href]=\"buttons().customSettingsFields.url\"\r\n                  (click)=\"fixContentTypeIfNecessary(buttons().customSettings.url, buttons().customSettingsType, $event)\"\r\n                  mat-icon-button\r\n                  [tippy]=\"buttons().customSettingsFields.tooltip\"\r\n                >\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().customSettingsFields.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >dns</mat-icon\r\n                  >\r\n                </a>\r\n              </td>\r\n            </tr>\r\n            <!-- More Buttons -->\r\n            @if (isSite()) {\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            }\r\n            @else if (isApp()) {\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            }\r\n            <!-- TODO: @2pp - this is how I deduplicated code for settings -->\r\n            <!-- Settings for Primary App -->\r\n            <!-- @if (isPrimary) {\r\n              <tr>\r\n                <th>Site</th>\r\n                <td>\r\n                  <a [href]=\"buttons().systemSettings.url\" mat-icon-button [tippy]=\"buttons().systemSettings.tooltip\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().systemSettings.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n                <td>\r\n                  <a\r\n                    [href]=\"buttons().customSettings.url\"\r\n                    mat-icon-button\r\n                    [tippy]=\"buttons().customSettings.tooltip\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().customSettings.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                  <a\r\n                    [href]=\"urlToConfig(eavConstants.contentTypes.customSettings)\"\r\n                    mat-icon-button\r\n                    [tippy]=\"buttons().customSettingsFields.tooltip\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().customSettingsFields.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >dns</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            } -->\r\n            <!-- Settings for App and Content -->\r\n            <!-- @if (isApp) {\r\n              <tr>\r\n                <th>{{ dialogSettings.Context.App.Name }}</th>\r\n                <td>\r\n                  <a [href]=\"buttons().systemSettings.url\" mat-icon-button [tippy]=\"buttons().systemSettings.tooltip\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().systemSettings.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n                <td>\r\n                  <a [href]=\"buttons().customSettings.url\" mat-icon-button [tippy]=\"buttons().customSettings.tooltip\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().customSettings.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                  <a\r\n                    [href]=\"urlToConfig(eavConstants.contentTypes.settings)\"\r\n                    mat-icon-button\r\n                    [tippy]=\"buttons().customSettingsFields.tooltip\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"buttons().customSettingsFields.count\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >dns</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            } -->\r\n          </tbody>\r\n        </table>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <app-docs-link-helper [link]=\"'https://go.2sxc.org/settings'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n        <a\r\n          [href]=\"urlToAnalyze(AnalyzeParts.Settings)\"\r\n          mat-button\r\n          class=\"eav-button__with-icon\"\r\n          tippy=\"See the result of combining all settings\"\r\n        >\r\n          <mat-icon class=\"eav-icon\">manage_search</mat-icon>\r\n          <span>Analyze Combined Settings</span>\r\n        </a>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Resources -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Language Resources (i18n)</mat-card-title>\r\n        <mat-icon>translate</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and\r\n          should not be used for App-Settings.\r\n          <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>\r\n        </p>\r\n        <table class=\"eav-settings-and-resources-table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>System Resources</th>\r\n              <th>Custom Resources</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <!-- TODO: @2pp - deduplicate resources like I deduplicated the settings \r\n              but be very careful to test & verify every scenario\r\n            -->\r\n            <!-- Resources for Global App -->\r\n            <tr>\r\n              <th>{{ buttons().topRowLabel }}</th>\r\n              <td>\r\n                <a [href]=\"buttons().systemResources.url\" mat-icon-button [tippy]=\"buttons().systemResources.tooltip\">\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().systemResources.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >edit</mat-icon\r\n                  >\r\n                </a>\r\n              </td>\r\n              <td>\r\n                <a\r\n                  [href]=\"buttons().customResources.url\"\r\n                  (click)=\"fixContentTypeIfNecessary(buttons().customResources.url, buttons().customResourcesType, $event)\"\r\n                  mat-icon-button\r\n                  [tippy]=\"buttons().customResources.tooltip\"\r\n                >\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().customResources.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >edit</mat-icon\r\n                  >\r\n                </a>\r\n                <a\r\n                  [href]=\"buttons().customResourcesFields.url\"\r\n                  (click)=\"fixContentTypeIfNecessary(buttons().customResources.url, buttons().customResourcesType, $event)\"\r\n                  mat-icon-button\r\n                  [tippy]=\"buttons().customResourcesFields.tooltip\"\r\n                >\r\n                  <mat-icon\r\n                    matBadgeColor=\"accent\"\r\n                    matBadgeSize=\"small\"\r\n                    [matBadge]=\"buttons().customResourcesFields.count\"\r\n                    matBadgePosition=\"below after\"\r\n                    aria-hidden=\"false\"\r\n                    >dns</mat-icon\r\n                  >\r\n                </a>\r\n              </td>\r\n            </tr>\r\n            @if (isSite()) {\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            }\r\n            @else if (isApp()) {\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            }\r\n            <!-- Resources for Primary App -->\r\n            <!-- @if (isPrimary) {\r\n              <tr>\r\n                <th>Site</th>\r\n                <td>\r\n                  <a [href]=\"appSiteSystemResourcesUrl()\" mat-icon-button tippy=\"Edit site system resources\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.systemResourcesCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n                <td>\r\n                  <a\r\n                    [href]=\"appSiteCustomResourcesUrl()\"\r\n                    mat-icon-button\r\n                    tippy=\"Edit custom site resources\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.customResourcesCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                  <a\r\n                    [href]=\"urlToConfig(eavConstants.contentTypes.customResources)\"\r\n                    mat-icon-button\r\n                    tippy=\"Configure fields of the custom site resources\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.customResourcesFieldsCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >dns</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            } -->\r\n            <!-- Resources for App and Content -->\r\n            <!-- @if (isApp) {\r\n              <tr>\r\n                <th>{{ dialogSettings.Context.App.Name }}</th>\r\n                <td>\r\n                  <a [href]=\"appContentSystemResourcesUrl()\" mat-icon-button tippy=\"Edit app system resources\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.systemResourcesCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n                <td>\r\n                  <a [href]=\"appContentCustomResourcesUrl()\" mat-icon-button tippy=\"Edit custom app resources\">\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.customResourcesCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >edit</mat-icon\r\n                    >\r\n                  </a>\r\n                  <a\r\n                    [href]=\"urlToConfig(eavConstants.contentTypes.resources)\"\r\n                    mat-icon-button\r\n                    tippy=\"Configure fields of the custom app resources\"\r\n                  >\r\n                    <mat-icon\r\n                      matBadgeColor=\"accent\"\r\n                      matBadgeSize=\"small\"\r\n                      [matBadge]=\"viewModelSig()?.customResourcesFieldsCount || null\"\r\n                      matBadgePosition=\"below after\"\r\n                      aria-hidden=\"false\"\r\n                      >dns</mat-icon\r\n                    >\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            } -->\r\n          </tbody>\r\n        </table>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <app-docs-link-helper [link]=\"'https://go.2sxc.org/settings'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n        <a\r\n          [href]=\"urlToAnalyze(AnalyzeParts.Resources)\"\r\n          mat-button\r\n          class=\"eav-button__with-icon\"\r\n          tippy=\"See the result of combining all resources\"\r\n        >\r\n          <mat-icon class=\"eav-icon\">manage_search</mat-icon>\r\n          <span>Analyze Combined Resources</span>\r\n        </a>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Templates which are re-used in the table above -->\r\n    <ng-template #goToGlobal>\r\n      <tr>\r\n        <th>Global</th>\r\n        <td>\r\n          <button mat-icon-button (click)=\"openGlobalSettings()\" tippy=\"Go to global\">\r\n            <mat-icon>open_in_new</mat-icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n    <ng-template #goToSite>\r\n      <tr>\r\n        <th>Site</th>\r\n        <td>\r\n          <button mat-icon-button (click)=\"openSiteSettings()\" tippy=\"Go to site\">\r\n            <mat-icon>open_in_new</mat-icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n  </div>\r\n  <div class=\"eav-cards-box\">\r\n    <app-app-configuration-card [dialogSettings]=\"dialogSettings()\"> </app-app-configuration-card>\r\n    <!-- LightSpeed -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Performance</mat-card-title>\r\n        <mat-icon>bolt</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>LightSpeed Output Cache to speed up page by 50-90%</p>\r\n        <app-feature-text-info [featureNameId]=\"'LightSpeedOutputCache'\" [asInfo]=\"true\"></app-feature-text-info>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <app-docs-link-helper [link]=\"'https://go.2sxc.org/lightspeed'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n        <a\r\n          class=\"default-link\"\r\n          [href]=\"buttons().lightspeed.url\"\r\n          mat-button\r\n          class=\"eav-button__with-icon\"\r\n          disabled=\"{{ !lightSpeedEnabled() }}\"\r\n        >\r\n          <mat-icon\r\n            matBadgeColor=\"accent\"\r\n            matBadgeSize=\"small\"\r\n            [matBadge]=\"buttons().lightspeed.count\"\r\n            matBadgePosition=\"below after\"\r\n            aria-hidden=\"false\"\r\n            class=\"eav-icon\"\r\n            >bolt</mat-icon\r\n          >\r\n          <span>Edit LightSpeed</span>\r\n        </a>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Security / CSP -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Security</mat-card-title>\r\n        <mat-icon>local_police</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>ContentSecurityPolicy (CSP) features in this App - for maximum control.</p>\r\n        <app-feature-text-info [featureNameId]=\"'ContentSecurityPolicy'\" [asInfo]=\"true\"></app-feature-text-info>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <app-docs-link-helper [link]=\"'https://go.2sxc.org/csp'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Permissions -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Permissions</mat-card-title>\r\n        <mat-icon>person</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>Give access to the entire app (all data). Use with care.</p>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <app-docs-link-helper [link]=\"'https://docs.2sxc.org/basics/app/permissions.html'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n        <a\r\n          [href]=\"urlToOpenPermissions()\"\r\n          mat-button\r\n          class=\"eav-button__with-icon\"\r\n          [disabled]=\"!dialogSettings().Context.Enable.AppPermissions\"\r\n        >\r\n          <mat-icon\r\n            matBadgeColor=\"accent\"\r\n            matBadgeSize=\"small\"\r\n            matBadgePosition=\"below after\"\r\n            [matBadge]=\"dialogSettings().Context.App.Permissions.Count || null\"\r\n            aria-hidden=\"false\"\r\n            class=\"eav-icon\"\r\n            >person</mat-icon\r\n          >\r\n          <span>\r\n            Edit Permissions\r\n            @if (!dialogSettings().Context.Enable.AppPermissions) {\r\n              @if (isGlobal()) {\r\n                (not on Global App)\r\n              }\r\n              @if (isApp()) {\r\n                (not on Content)\r\n              }\r\n            }\r\n          </span>\r\n        </a>\r\n        <app-docs-link-helper\r\n          [link]=\"'https://patrons.2sxc.org/features/feat/PermissionsByLanguage'\"\r\n          [label]=\"\"\r\n          [icon]=\"\"\r\n        ></app-docs-link-helper>\r\n        <a [href]=\"urlToOpenLanguagePermissions(langPermsEnabled())\" mat-button class=\"eav-button__with-icon\">\r\n          <mat-icon\r\n            [matBadgeHidden]=\"langPermsEnabled()\"\r\n            matBadgeSize=\"small\"\r\n            matBadge=\"💎\"\r\n            matBadgePosition=\"below after\"\r\n            aria-hidden=\"false\"\r\n            class=\"eav-icon\"\r\n          >\r\n            person\r\n          </mat-icon>\r\n          <span>Language Permissions</span>\r\n        </a>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </div>\r\n}\r\n<router-outlet></router-outlet>\r\n","import { Component, computed, input, OnDestroy, OnInit, signal } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { transient } from '../../../../../../core';\r\nimport { DocsLinkHelperComponent } from '../../../admin-shared/docs-link-helper/docs-link-helper.component';\r\nimport { ContentItemsService } from '../../../content-items/services/content-items.service';\r\nimport { GoToMetadata } from '../../../metadata';\r\nimport { eavConstants } from '../../../shared/constants/eav.constants';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { convertFormToUrl } from '../../../shared/helpers/url-prep.helper';\r\nimport { DialogSettings } from '../../../shared/models/dialog-settings.model';\r\nimport { EditPrep } from '../../../shared/models/edit-form.model';\r\nimport { DialogRoutingService } from '../../../shared/routing/dialog-routing.service';\r\nimport { ClipboardService } from '../../../shared/services/clipboard.service';\r\nimport { Context } from '../../../shared/services/context';\r\nimport { AppInternalsService } from '../../services/app-internals.service';\r\n\r\n@Component({\r\n  selector: 'app-app-configuration-card',\r\n  templateUrl: './app-configuration-card.component.html',\r\n  styleUrls: ['./app-configuration-card.component.scss'],\r\n  imports: [\r\n    MatCardModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatBadgeModule,\r\n    TippyDirective,\r\n    DocsLinkHelperComponent,\r\n  ]\r\n})\r\nexport class AppConfigurationCardComponent implements OnInit, OnDestroy {\r\n  dialogSettings = input.required<DialogSettings>();\r\n\r\n  #appInternalsSvc = transient(AppInternalsService);\r\n  #contentItemsSvc = transient(ContentItemsService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  appConfigurationUrl = signal('');\r\n  appConfigAvailable = signal(false);\r\n\r\n  constructor(\r\n    private context: Context,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    this.appConfigurationUrl = (this.urlToEdit());\r\n\r\n    // debug\r\n    // effect(() => {\r\n    //   const ci = this.contentItem();\r\n    //   console.log(\"CI\", ci);\r\n    // });\r\n  }\r\n\r\n  // TODO: @2pp - you recently changed this to customSettings which is wrong, unclear why you did it\r\n  // contentItem = this.#contentItemsSvc.getAllSig(eavConstants.contentTypes.customSettings, /* initial: */ null);\r\n  contentItem = this.#contentItemsSvc.getAllSig(eavConstants.contentTypes.appConfiguration, /* initial: */ null);\r\n\r\n  #refresh = signal(0);\r\n\r\n  appSettingsInternal = computed(() => {\r\n    const _ = this.#refresh();\r\n    return this.#appInternalsSvc.getAppInternals(undefined);\r\n  });\r\n\r\n  ngOnInit() {\r\n    this.#dialogRouter.doOnDialogClosed(() => {\r\n      this.#refresh.update(v => ++v);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.snackBar.dismiss();\r\n  }\r\n\r\n  protected clipboard = transient(ClipboardService);\r\n\r\n  #urlTo(url: string) {\r\n    return '#' + this.#dialogRouter.urlSubRoute(url);\r\n  }\r\n\r\n  urlToEdit() {\r\n    let url = signal('');\r\n    this.#contentItemsSvc.getAll(\r\n      eavConstants.contentTypes.appConfiguration\r\n    ).subscribe(contentItems => {\r\n\r\n      if (contentItems.length !== 1)\r\n        return ''\r\n\r\n      this.appConfigAvailable.set(true);\r\n      url.set(this.#urlTo(\r\n        `edit/${convertFormToUrl({\r\n          items: [EditPrep.editId(contentItems[0].Id)],\r\n        })}`\r\n      ));\r\n    });\r\n\r\n    return url;\r\n  }\r\n\r\n  urlToOpenMetadata() {\r\n    return this.#urlTo(\r\n      GoToMetadata.getUrlApp(\r\n        this.context.appId,\r\n        `Metadata for App: ${this.dialogSettings().Context.App.Name} (${this.context.appId})`,\r\n      )\r\n    );\r\n  }\r\n\r\n  formatValue(value?: string): string {\r\n    return value === \"\" ? \"-\" : value ?? \"-\";\r\n  }\r\n}\r\n","<!-- App Config -->\r\n@if (contentItem()) {\r\n  <mat-card class=\"eav-card\">\r\n    <mat-card-header class=\"eav-card-header\">\r\n      <mat-card-title>Configuration</mat-card-title>\r\n      <mat-icon>redeem</mat-icon>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <p></p>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Name:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].DisplayName)\">{{\r\n            formatValue(contentItem()[0]?.DisplayName)\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Folder:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].Folder)\">{{\r\n            formatValue(contentItem()[0]?.Folder)\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Version:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].Version)\">{{\r\n            formatValue(contentItem()[0]?.Version)\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">For</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <b>2sxc: </b\r\n          ><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].RequiredVersion)\">\r\n            {{ formatValue(contentItem()[0]?.RequiredVersion) }}\r\n          </span>\r\n          <b> DNN: </b\r\n          ><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].RequiredDnnVersion)\">\r\n            {{ formatValue(contentItem()[0]?.RequiredDnnVersion) }}\r\n          </span>\r\n          <b> Oqt: </b\r\n          ><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"clipboard.copyToClipboard(contentItem()[0].RequiredOqtaneVersion)\">\r\n            {{ formatValue(contentItem()[0]?.RequiredOqtaneVersion) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <!-- </p> -->\r\n    </mat-card-content>\r\n    <div class=\"eav-card-space-div\"></div>\r\n    <mat-card-actions align=\"start\">\r\n      <app-docs-link-helper [link]=\"'https://docs.2sxc.org/basics/app/configuration.html'\" [label]=\"\" [icon]=\"\"></app-docs-link-helper>\r\n      <a\r\n        [href]=\"appConfigurationUrl()\"\r\n        mat-button\r\n        [disabled]=\"!appConfigAvailable()\"\r\n        class=\"eav-button__with-icon\"\r\n        tippy=\"Edit app system resources\"\r\n      >\r\n        <mat-icon\r\n          matBadgeColor=\"accent\"\r\n          matBadgeSize=\"small\"\r\n          [matBadge]=\"appSettingsInternal()()?.EntityLists?.ToSxcContentApp.length || null\"\r\n          matBadgePosition=\"below after\"\r\n          aria-hidden=\"false\"\r\n          class=\"eav-icon\"\r\n          >edit</mat-icon\r\n        >\r\n        <span>Edit</span>\r\n      </a>\r\n      <a [href]=\"urlToOpenMetadata()\" mat-button class=\"eav-button__with-icon\">\r\n        <mat-icon\r\n          matBadgeColor=\"accent\"\r\n          matBadgeSize=\"small\"\r\n          [matBadge]=\"appSettingsInternal()()?.MetadataList.Items.length || null\"\r\n          matBadgePosition=\"below after\"\r\n          aria-hidden=\"false\"\r\n          class=\"eav-icon\"\r\n          >local_offer</mat-icon\r\n        >\r\n        <span>Metadata</span>\r\n      </a>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n}\r\n"],"names":["Signal","HttpServiceBase","webApiRoot","AppInternalsService","getAppInternals","internals","getSignal","params","appid","appId","__ngFactoryType__","factory","ɵfac","AnalyzeParts","Settings","Resources","NgTemplateOutlet","computed","inject","signal","toSignal","MatBadgeModule","MatButtonModule","MatCardModule","MatIconModule","RouterOutlet","Subject","transient","DocsLinkHelperComponent","ContentItemsService","FeatureNames","FeatureTextInfoComponent","FeaturesService","GoToPermissions","SystemSettingsScopes","eavConstants","TippyDirective","convertFormToUrl","AppScopes","EditPrep","DialogInNewWindowService","DialogRoutingService","Context","AppAdminHelpers","ContentTypesService","DialogConfigAppService","AppConfigurationCardComponent","i0","ɵɵtext","ɵɵelementStart","ɵɵtemplate","AppConfigurationComponent_Conditional_0_Conditional_0_Conditional_1_Template","AppConfigurationComponent_Conditional_0_Conditional_0_Conditional_2_Template","ɵɵelementEnd","ɵɵadvance","ɵɵconditional","ctx_r1","isGlobal","isSite","ɵɵelementContainer","AppConfigurationComponent_Conditional_0_Conditional_36_ng_container_0_Template","ɵɵproperty","goToGlobal_r3","AppConfigurationComponent_Conditional_0_Conditional_37_ng_container_0_Template","AppConfigurationComponent_Conditional_0_Conditional_37_ng_container_1_Template","goToSite_r4","AppConfigurationComponent_Conditional_0_Conditional_80_ng_container_0_Template","AppConfigurationComponent_Conditional_0_Conditional_81_ng_container_0_Template","AppConfigurationComponent_Conditional_0_Conditional_81_ng_container_1_Template","ɵɵlistener","AppConfigurationComponent_Conditional_0_ng_template_90_Template_button_click_4_listener","ɵɵrestoreView","_r5","ɵɵnextContext","ɵɵresetView","openGlobalSettings","AppConfigurationComponent_Conditional_0_ng_template_92_Template_button_click_4_listener","_r6","openSiteSettings","AppConfigurationComponent_Conditional_0_Conditional_144_Conditional_0_Template","AppConfigurationComponent_Conditional_0_Conditional_144_Conditional_1_Template","isApp","AppConfigurationComponent_Conditional_0_Conditional_0_Template","ɵɵelement","AppConfigurationComponent_Conditional_0_Template_a_click_30_listener","$event","_r1","fixContentTypeIfNecessary","buttons","customSettings","url","customSettingsType","AppConfigurationComponent_Conditional_0_Template_a_click_33_listener","AppConfigurationComponent_Conditional_0_Conditional_36_Template","AppConfigurationComponent_Conditional_0_Conditional_37_Template","AppConfigurationComponent_Conditional_0_Template_a_click_74_listener","customResources","customResourcesType","AppConfigurationComponent_Conditional_0_Template_a_click_77_listener","AppConfigurationComponent_Conditional_0_Conditional_80_Template","AppConfigurationComponent_Conditional_0_Conditional_81_Template","AppConfigurationComponent_Conditional_0_ng_template_90_Template","ɵɵtemplateRefExtractor","AppConfigurationComponent_Conditional_0_ng_template_92_Template","AppConfigurationComponent_Conditional_0_Conditional_144_Template","ɵɵtextInterpolate","topRowLabel","systemSettings","ɵɵsanitizeUrl","tooltip","count","customSettingsFields","urlToAnalyze","systemResources","customResourcesFields","dialogSettings","ɵɵpropertyInterpolate","lightSpeedEnabled","lightspeed","urlToOpenPermissions","Enable","AppPermissions","App","Permissions","Count","urlToOpenLanguagePermissions","langPermsEnabled","AppConfigurationComponent","featuresSvc","dialogInNewWindowSvc","contentTypesSvc","appInternalsService","contentItemsService","dialogConfigSvc","dialogRouter","constructor","context","getCurrent$","currentScope","SettingsScope","cs","Global","Site","appSystemSettingsUrl","appSystemSettingsUrlSource","urlToEditSystem","contentTypes","appSystemResourcesUrl","appSystemResourcesUrlSource","appCustomSettingsUrl","appCustomSettingsUrlSource","settings","appCustomResourcesUrl","appCustomResourcesUrlSource","resources","appSettingsInternal$","appStateAdvanced","isEnabled","LightSpeed","cspEnabled","ContentSecurityPolicy","PermissionsByLanguage","refresh","appSpecsLazy","_","dataStatistics","appSpecs","props","EntityLists","lsTypeName","appMetadata","ContentTypeName","result","appLightSpeedCount","MetadataList","Items","filter","i","_Type","Name","length","systemSettingsCount","SettingsSystem","SettingsEntityScope","customSettingsCount","AppSettings","customSettingsFieldsCount","FieldAll","systemResourcesCount","ResourcesSystem","customResourcesCount","AppResources","customResourcesFieldsCount","customTypesExist","ready","nothing","scopeName","viewModel","typeNames","typesExist","urlToConfig","urlToGetLightSpeedLink","ngOnInit","doOnDialogClosed","update","v","urlTo","#urlTo","queryParams","errComponent","newUrl","urlSubRoute","URLSearchParams","toString","staticName","systemSettingsScope","getAll","subscribe","contentItems","systemSettingsEntities","set","error","systemSettingsEntity","items","newFromType","editId","Id","urlToEditCustom","customSettingsEntity","urlToEditDefault","getLightSpeedEditParams","siteApp","PrimaryApp","openAppAdministration","ZoneId","AppId","globalApp","System","getUrlApp","enabled","part","typeName","event","preventDefault","stopPropagation","retrieveContentTypes","scopes","configuration","value","contentTypeExists","some","ct","window","open","newContentType","StaticName","Description","Scope","ChangeNameId","NewNameId","save","success","alert","ɵɵdirectiveInject","i1","selectors","decls","vars","consts","template","AppConfigurationComponent_Template","rf","ctx","AppConfigurationComponent_Conditional_0_Template","i2","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardTitle","i3","MatIcon","i4","MatAnchor","MatIconAnchor","MatIconButton","i5","MatBadge","styles","TempDataStatistics","input","MatSnackBar","GoToMetadata","ClipboardService","AppConfigurationCardComponent_Conditional_0_Template_span_click_12_listener","clipboard","copyToClipboard","contentItem","DisplayName","AppConfigurationCardComponent_Conditional_0_Template_span_click_18_listener","Folder","AppConfigurationCardComponent_Conditional_0_Template_span_click_24_listener","Version","AppConfigurationCardComponent_Conditional_0_Template_span_click_32_listener","RequiredVersion","AppConfigurationCardComponent_Conditional_0_Template_span_click_36_listener","RequiredDnnVersion","AppConfigurationCardComponent_Conditional_0_Template_span_click_40_listener","RequiredOqtaneVersion","formatValue","tmp_2_0","tmp_4_0","tmp_6_0","ɵɵtextInterpolate1","tmp_8_0","tmp_10_0","tmp_12_0","appConfigurationUrl","appConfigAvailable","tmp_16_0","appSettingsInternal","ToSxcContentApp","urlToOpenMetadata","tmp_18_0","appInternalsSvc","contentItemsSvc","snackBar","required","getAllSig","appConfiguration","undefined","urlToEdit","ngOnDestroy","dismiss","inputs","AppConfigurationCardComponent_Template","AppConfigurationCardComponent_Conditional_0_Template","i6"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
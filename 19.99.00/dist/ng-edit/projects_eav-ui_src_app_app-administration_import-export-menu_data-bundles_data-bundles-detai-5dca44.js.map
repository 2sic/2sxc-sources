{"version":3,"file":"projects_eav-ui_src_app_app-administration_import-export-menu_data-bundles_data-bundles-detai-5dca44.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.html"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { DataBundlesDetailActionsParams, DataBundlesType } from './data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-data-bundle-actions',\r\n    templateUrl: './data-bundles-detail-actions.component.html',\r\n    imports: [\r\n        MatRippleModule,\r\n        MatIconModule,\r\n        MatMenuModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class DataBundlesDetailActionsComponent implements ICellRendererAngularComp {\r\n  item: ContentItem;\r\n\r\n  private params: ICellRendererParams & DataBundlesDetailActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & DataBundlesDetailActionsParams): void {\r\n    this.params = params;\r\n    this.item = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n\r\n  do(verb: DataBundlesType) {\r\n    this.params.do(verb, this.item);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Remove (not yet implemented)\" (click)=\"do('delete')\">\r\n    <mat-icon>do_not_disturb_on</mat-icon>\r\n  </div>\r\n</div>\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { transient } from 'projects/core';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { defaultGridOptions } from 'projects/eav-ui/src/app/shared/constants/default-grid-options.constants';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { switchMap, tap } from 'rxjs';\r\nimport { DataBundlesQueryService } from '../data-bundles-query.service';\r\nimport { DataBundlesDetailActionsComponent } from './data-bundles-detail-actions/data-bundles-detail-actions.component';\r\nimport { DataBundlesDetailActionsParams } from './data-bundles-detail-actions/data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-data-bundles-detail',\r\n    imports: [\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        SxcGridModule,\r\n        TranslateModule,\r\n    ],\r\n    templateUrl: './data-bundles-detail.component.html',\r\n    styleUrl: './data-bundles-detail.component.scss'\r\n})\r\nexport class DataBundlesDetailComponent {\r\n\r\n  #dataBundlesQueryService = transient(DataBundlesQueryService);\r\n  dataBundles = signal<ContentItem[]>(null);\r\n  dataBundleName = signal<string>(null);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<DataBundlesDetailComponent>,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(\r\n        tap(params => {\r\n          this.dataBundleName.set(params.name);\r\n        }),\r\n        switchMap(params => this.#dataBundlesQueryService.fetchQuery(params.guid)),\r\n        tap(d => {\r\n          this.dataBundles.set(d as ContentItem[])\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  #deleteItem(item: ContentItem) {\r\n    console.log(item);\r\n    alert('remove not yet implemented');\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Title',\r\n          field: 'Title',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Typename',\r\n          field: 'TypeName',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: DataBundlesDetailActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataBundlesDetailActionsParams = {\r\n              do: (verb, item) => {\r\n                switch (verb) {\r\n                  case 'delete': this.#deleteItem(item); break;\r\n                }\r\n              }\r\n            } satisfies DataBundlesDetailActionsParams;\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n}\r\n","\r\n  <div appToggleDebug class=\"eav-dialog nav-component-wrapper\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">{{ dataBundleName() }} Data Bundles Detail</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"eav-dialog-content nav-component-wrapper\">\r\n\r\n      @if (dataBundles()?.length > 0) {\r\n        <!-- Show Grid if dataBundles Data.Length > 0 -->\r\n      <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n        <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"dataBundles()\" [gridOptions]=\"gridOptions\"> </ag-grid-angular>\r\n      </div>\r\n      } @else {\r\n        <!-- No Data Bundles found -->\r\n        {{'Message.NoDataBundles' | translate}}\r\n      }\r\n    </div>\r\n  </div>\r\n\r\n"],"names":["MatRippleModule","MatIconModule","MatMenuModule","TippyDirective","DataBundlesDetailActionsComponent","agInit","params","item","data","refresh","do","verb","selectors","decls","vars","consts","template","DataBundlesDetailActionsComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","DataBundlesDetailActionsComponent_Template_div_click_1_listener","ɵɵtext","ɵɵelementEnd","i1","MatRipple","i2","MatIcon","encapsulation","signal","MatButtonModule","MatDialogRef","ActivatedRoute","TranslateModule","transient","ColumnDefinitions","defaultGridOptions","SxcGridModule","switchMap","tap","DataBundlesQueryService","ɵɵelement","ɵɵadvance","ɵɵproperty","ctx_r0","dataBundles","gridOptions","ɵɵtextInterpolate1","ɵɵpipeBind1","DataBundlesDetailComponent","dataBundlesQueryService","constructor","dialog","route","dataBundleName","buildGridOptions","ngOnInit","pipe","set","name","fetchQuery","guid","d","subscribe","closeDialog","close","deleteItem","#deleteItem","console","log","alert","#buildGridOptions","columnDefs","TextWideMin100","headerName","field","flex","ActionsPinnedRight3","cellRenderer","cellRendererParams","ɵɵdirectiveInject","DataBundlesDetailComponent_Template","DataBundlesDetailComponent_Template_button_click_4_listener","ɵɵtemplate","DataBundlesDetailComponent_Conditional_8_Template","DataBundlesDetailComponent_Conditional_9_Template","ɵɵconditional","tmp_1_0","length","i3","MatIconButton","i4","i5","AgGridAngular","i6","TranslatePipe","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
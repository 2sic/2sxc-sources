"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-0cc7b2"],{60781:(P,f,o)=>{o.r(f),o.d(f,{ImportAppComponent:()=>_});var i=o(81863),s=o(12938),p=o(13550),l=o(71772),u=o(99293);let _=(()=>{class c{constructor(a){this.uploadType=p.HL.App,this.importAppService=(0,s.d)(l.I),a.title??="Import App",a.description??='\n    Select an app package (zip) from your computer to import an app. New apps can be downloaded on\n    <a href="https://2sxc.org/apps" target="_blank">https://2sxc.org/apps</a>.\n    For further help visit <a href="https://2sxc.org/en/help?tag=import-app" target="_blank">2sxc Help</a>.\n    ',a.allowedFileTypes??="zip",a.upload$??=d=>this.importAppService.importApp(d[0],void 0,!0)}static#t=this.\u0275fac=function(d){return new(d||c)(u.rXU(i.e))};static#e=this.\u0275cmp=u.VBU({type:c,selectors:[["app-import-app"]],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(d,m){1&d&&u.nrm(0,"app-file-upload-dialog",0),2&d&&u.Y8G("uploadType",m.uploadType)},dependencies:[p.jj],encapsulation:2})}return c})()},69914:(P,f,o)=>{o.d(f,{$:()=>p});var i=o(99293),s=o(80436);let p=(()=>{class l{constructor(_){this.sanitizer=_}transform(_){return this.sanitizer.bypassSecurityTrustHtml(_)}static#t=this.\u0275fac=function(c){return new(c||l)(i.rXU(s.up,16))};static#e=this.\u0275pipe=i.EJ8({name:"safeHtml",type:l,pure:!0})}return l})()},71772:(P,f,o)=>{o.d(f,{I:()=>A,u:()=>c});var i=o(36647),s=o(59452),p=o(13550),l=o(24467),u=o(99293),_=o(44444);const c="admin/app/";let A=(()=>{class a extends l.B{importApp(m,I,E=!1){const v=new FormData;return v.append("File",m),v.append("Name",I??""),this.http.post(this.apiUrl(c+"Import"),v,{params:{zoneId:this.zoneId}}).pipe((0,i.n)(M=>{if(E&&M.Messages[0]?.MessageType===p.G1.Warning){const C=prompt(M.Messages[0].Text+" Would you like to install it using another folder name?");if(C)return this.importApp(m,C,!0)}return(0,s.of)(M)}))}static#t=this.\u0275fac=(()=>{let m;return function(E){return(m||(m=u.xGo(a)))(E||a)}})();static#e=this.\u0275prov=_.jDH({token:a,factory:a.\u0275fac})}return a})()},93840:(P,f,o)=>{o.d(f,{An:()=>M,m_:()=>C});var i=o(99293),s=o(44444),p=o(37580),l=o(27092),u=o(64334),_=o(50069),c=o(8126);const A=["*"],a=new s.nKC("MAT_ICON_DEFAULT_OPTIONS"),d=new s.nKC("mat-icon-location",{providedIn:"root",factory:function m(){const r=(0,s.WQX)(s.qQL),D=r?r.location:null;return{getPathname:()=>D?D.pathname+D.search:""}}}),I=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],E=I.map(r=>`[${r}]`).join(", "),v=/^url\(['"]?#(.*?)['"]?\)$/;let M=(()=>{class r{_elementRef=(0,s.WQX)(i.aKT);_iconRegistry=(0,s.WQX)(_.M);_location=(0,s.WQX)(d);_errorHandler=(0,s.WQX)(s.zcH);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=l.yU.EMPTY;constructor(){const e=(0,s.WQX)(new p.ES_("aria-hidden"),{optional:!0}),t=(0,s.WQX)(a,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];(1!==n.nodeType||"svg"===n.nodeName.toLowerCase())&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>e.classList.remove(n)),t.forEach(n=>e.classList.add(n)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((n,h)=>{n.forEach(g=>{h.setAttribute(g.name,`url('${e}#${g.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(E),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<t.length;h++)I.forEach(g=>{const T=t[h],R=T.getAttribute(g),y=R?R.match(v):null;if(y){let O=n.get(T);O||(O=[],n.set(T,O)),O.push({name:g,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe((0,u.s)(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${h.message}`))})}}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=i.VBU({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,n){2&t&&(i.BMQ("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),i.HbH(n.color?"mat-"+n.color:""),i.AVh("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:[2,"inline","inline",p.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:A,decls:1,vars:0,template:function(t,n){1&t&&(i.NAR(),i.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return r})(),C=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=i.$C({type:r});static \u0275inj=s.G2t({imports:[c.M,c.M]})}return r})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.00/dist/ng-edit/projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-0cc7b2.dc15f2eb97adcfb8.js.map
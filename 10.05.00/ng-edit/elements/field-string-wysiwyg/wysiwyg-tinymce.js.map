{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./projects/shared/eav-custom-input-field.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/shared/helpers.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/main.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/shared/models.ts","webpack:///./projects/shared/features-guids.constants.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/main.html","webpack:///./projects/field-string-wysiwyg-typescript/src/main/main.css","webpack:///./projects/field-string-wysiwyg-typescript/src/main/tinymce-options.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/tinymce-toolbar.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/load-icons-helper.ts","webpack:///./src/icons/2sxc/content-block.svg","webpack:///./src/icons/2sxc/file-dnn.svg","webpack:///./src/icons/2sxc/image-dnn.svg","webpack:///./src/icons/font-awesome/anchor.svg","webpack:///./src/icons/font-awesome/file.svg","webpack:///./src/icons/font-awesome/file-pdf.svg","webpack:///./src/icons/font-awesome/sitemap.svg","webpack:///./src/icons/google-material/baseline-school-24px.svg","webpack:///./projects/field-string-wysiwyg-typescript/src/main/math-helper.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/tinymce-dnnbridge-service.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/tinymce-adam-service.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/main/oxide-skin-overrides.scss","webpack:///./projects/field-string-wysiwyg-typescript/src/main/tinymce-content.css","webpack:///./projects/field-string-wysiwyg-typescript/src/preview/preview.ts","webpack:///./projects/field-string-wysiwyg-typescript/src/preview/preview.html","webpack:///./projects/field-string-wysiwyg-typescript/src/preview/preview.css"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","EavCustomInputField","_super","__extends","HTMLElement","EavCustomInputFieldObservable","buildTemplate","template","styles","randomIntFromInterval","min","max","Math","floor","random","models_1","helpers_1","features_guids_constants_1","tinymce_options_1","tinymce_toolbar_1","tinymce_dnnbridge_service_1","tinymce_adam_service_1","skinOverrides","contentStyle","FieldStringWysiwyg","_this","this","subscriptions","console","log","instanceId","containerClass","toolbarContainerClass","connectedCallback","innerHTML","querySelector","classList","add","contentBlocksEnabled","experimental","allInputTypeNames","length","connector","field","index","inputType","pasteFormattedTextEnabled","isFeatureEnabled","FeaturesGuidsConstants","PasteWithFormatting","pasteImageFromClipboardEnabled","PasteImageFromClipboard","dropzoneConfig","dropzoneConfig$","tinyOptions","getTinyOptions","fixedToolbarClass","setup","tinyMceSetup","currentLang","translateService","imagesUploadUrl","url","uploadHeaders","headers","tinymce","init","editor","on","event","addTinyMceToolbarButtons","attachDnnBridgeService","attachAdam","addTranslations","settings","language","editorManager","push","data","value$","subscribe","newValue","editorContent","setContent","expanded","setTimeout","focus","forEach","subscription","unsubscribe","dzConfig","__assign","acceptedFiles","next","level","content","update","disconnectedCallback","remove","EavExperimentalInputFieldObservable","customElements","define","eav_custom_input_field_1","EavExperimentalInputField","imagesUploadHandler","blobInfo","success","failure","formData","FormData","append","blob","filename","window","activeEditor","fetch","images_upload_url","method","upload_headers","body","then","response","json","Path","catch","error","config","modes","options","selector","fixed_toolbar_container","skin","theme","body_class","content_style","height","branding","inline","toolbar_drawer","automatic_uploads","autosave_ask_before_unload","paste_as_text","plugins","extended_valid_elements","custom_elements","relative_urls","default_link_target","object_resizing","debounce","modesOptions","standard","menubar","toolbar","contextmenu","advanced","languages","lang2","uploadUrl","languageOptions","split","substr","indexOf","language_url","paste_enable_default_filters","paste_create_paragraphs","paste_create_linebreaks","paste_force_cleanup_wordpaste","paste_use_dialog","paste_auto_cleanup_on_paste","paste_convert_middot_lists","paste_convert_headers_to_strong","paste_remove_spans","paste_remove_styles","paste_preprocess","e","args","paste_postprocess","plugin","anchors","node","getElementsByTagName","hasAttribute","setAttribute","pasteImagesOptions","images_reuse_filename","paste_data_images","paste_filter_drop","paste_block_drop","images_upload_base_path","images_upload_handler","keys","mceTranslations","all","translations","instant","k","replace","addI18n","load_icons_helper_1","math_helper_1","initOnPostRender","buttonApi","watchChange","formatter","formatChanged","state","setActive","switchModes","makeTagDetector","tagWeNeedInTheTagPath","currentElement","dom","is","getBody","contains","fieldStringWysiwyg","imgSizes","imgformats","imgs","collapsed","width","register","registerTinyMceFormats","loadCustomIcons","ui","registry","addSplitButton","icon","tooltip","presets","columns","onAction","_","toggleAdam","onItemAction","api","callback","type","text","linkgroupItems","execCommand","openDnnDialog","linkgroupProItems","slice","linkgroup","onSetup","linkgroupPro","addButton","tag","getAll","buttons","h3","h4","h5","h6","guid","MathHelper","uuid","toLowerCase","insertContent","onPostRender","imgMenuArray","apply","resizeimg100","items","imgSizeOption","addContextToolbar","predicate","contentBlock","fileDnn","imageDnn","anchor","file","filePdf","sitemap","customTinyMceIcons","custom-anchor","custom-content-block","custom-file","custom-file-dnn","custom-file-pdf","custom-image-dnn","custom-school","custom-sitemap","addIcon","CHARS","len","radix","chars","j","join","uuidFast","Array","rnd","uuidCompact","toString","result","host","Paths","FileFilter","processResultOfDnnBridge","getUrlOfIdDnnDialog","id","FileId","urlCallback","previouslySelected","selection","getContent","adamSetValue","fileItem","modeImage","undefined","adam","adamModeImage","fileName","Name","lastIndexOf","FullPath","Type","imagesOnly","usePortalRoot","showImagesOnly","setAdamConfig","adamConfig","adamModeConfig","allowAssetsInRoot","autoLoad","enableSelect","folderDepth","fileFilter","metadataContentTypes","subFolder","FieldStringWysiwygPreview","previewContainer"],"mappings":"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","file":"wysiwyg-tinymce.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { Connector, ConnectorObservable } from './connector';\r\n\r\nexport class EavCustomInputField<T> extends HTMLElement {\r\n  connector: Connector<T>;\r\n}\r\n\r\nexport class EavCustomInputFieldObservable<T> extends EavCustomInputField<T> {\r\n  connector: ConnectorObservable<T>;\r\n}\r\n","export function buildTemplate(template: string, styles: string): string {\r\n  return `${template}<style>\\n${styles}\\n</style>`;\r\n}\r\n\r\nexport function randomIntFromInterval(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n","import { Subscription } from 'rxjs';\r\nimport { EavExperimentalInputFieldObservable } from '../shared/models';\r\nimport { buildTemplate, randomIntFromInterval } from '../shared/helpers';\r\nimport { FeaturesGuidsConstants } from '../../../shared/features-guids.constants';\r\nimport * as template from './main.html';\r\nimport * as styles from './main.css';\r\nimport { getTinyOptions, addTranslations } from './tinymce-options';\r\nimport { addTinyMceToolbarButtons } from './tinymce-toolbar';\r\nimport { attachDnnBridgeService } from './tinymce-dnnbridge-service';\r\nimport { attachAdam } from './tinymce-adam-service';\r\nimport * as skinOverrides from './oxide-skin-overrides.scss';\r\nimport * as contentStyle from './tinymce-content.css';\r\ndeclare const tinymce: any;\r\n\r\nclass FieldStringWysiwyg extends EavExperimentalInputFieldObservable<string> {\r\n  private containerClass: string;\r\n  private toolbarContainerClass: string;\r\n  private subscriptions: Subscription[] = [];\r\n  private editorContent: string; // saves editor content to prevent slow update when first using editor\r\n  private pasteImageFromClipboardEnabled: boolean;\r\n  private editor: any;\r\n\r\n  constructor() {\r\n    super();\r\n    console.log('FieldStringWysiwyg constructor called');\r\n    const instanceId = `${randomIntFromInterval(1, 1000000)}`;\r\n    this.containerClass = `tinymce-container-${instanceId}`;\r\n    this.toolbarContainerClass = `tinymce-toolbar-container-${instanceId}`;\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log('FieldStringWysiwyg connectedCallback called');\r\n    this.innerHTML = buildTemplate(template, styles + skinOverrides);\r\n    this.querySelector('.tinymce-container').classList.add(this.containerClass);\r\n    this.querySelector('.tinymce-toolbar-container').classList.add(this.toolbarContainerClass);\r\n\r\n    // enable content blocks if there is another field after this one and it's type is entity-content-blocks\r\n    const contentBlocksEnabled = (this.experimental.allInputTypeNames.length > this.connector.field.index + 1)\r\n      ? this.experimental.allInputTypeNames[this.connector.field.index + 1].inputType === 'entity-content-blocks'\r\n      : false;\r\n\r\n    const pasteFormattedTextEnabled = this.experimental.isFeatureEnabled(FeaturesGuidsConstants.PasteWithFormatting);\r\n    this.pasteImageFromClipboardEnabled = this.experimental.isFeatureEnabled(FeaturesGuidsConstants.PasteImageFromClipboard);\r\n    const dropzoneConfig = this.experimental.dropzoneConfig$.value;\r\n\r\n    const tinyOptions = getTinyOptions({\r\n      containerClass: this.containerClass,\r\n      fixedToolbarClass: this.toolbarContainerClass,\r\n      contentStyle: contentStyle,\r\n      setup: this.tinyMceSetup.bind(this),\r\n      currentLang: this.experimental.translateService.currentLang,\r\n      contentBlocksEnabled: contentBlocksEnabled,\r\n      pasteFormattedTextEnabled: pasteFormattedTextEnabled,\r\n      pasteImageFromClipboardEnabled: this.pasteImageFromClipboardEnabled,\r\n      imagesUploadUrl: dropzoneConfig.url as string,\r\n      uploadHeaders: dropzoneConfig.headers,\r\n    });\r\n    tinymce.init(tinyOptions);\r\n  }\r\n\r\n  private tinyMceSetup(editor: any) {\r\n    this.editor = editor;\r\n    editor.on('init', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE initialized', event);\r\n      addTinyMceToolbarButtons(this, editor);\r\n      attachDnnBridgeService(this, editor);\r\n      attachAdam(this, editor);\r\n      addTranslations(editor.settings.language, this.experimental.translateService, editor.editorManager);\r\n      this.subscriptions.push(\r\n        this.connector.data.value$.subscribe(newValue => {\r\n          if (this.editorContent === newValue) { return; }\r\n          this.editorContent = newValue;\r\n          editor.setContent(this.editorContent);\r\n        }),\r\n        // field type is FieldConfigAngular\r\n        (this.connector.field as any).expanded.subscribe((expanded: boolean) => {\r\n          if (!expanded) { return; }\r\n          setTimeout(() => { editor.focus(false); }, 100);\r\n        }),\r\n      );\r\n    });\r\n\r\n    // called after tinymce editor is removed\r\n    editor.on('remove', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE removed', event);\r\n      this.subscriptions.forEach(subscription => { subscription.unsubscribe(); });\r\n      this.subscriptions = [];\r\n      this.editorContent = null;\r\n    });\r\n\r\n    editor.on('focus', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE focused', event);\r\n      if (this.pasteImageFromClipboardEnabled) {\r\n        // When tiny is in focus, let it handle image uploads by removing image types from accepted files in dropzone.\r\n        // Files will be handled by dropzone\r\n        const dzConfig = { ...this.experimental.dropzoneConfig$.value };\r\n        // tslint:disable-next-line:max-line-length\r\n        dzConfig.acceptedFiles = '.doc, .docx, .dot, .xls, .xlsx, .ppt, .pptx, .pdf, .txt, .htm, .html, .md, .rtf, .xml, .xsl, .xsd, .css, .zip, .csv';\r\n        this.experimental.dropzoneConfig$.next(dzConfig);\r\n      }\r\n    });\r\n\r\n    editor.on('blur', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE blurred', event);\r\n      if (!this.pasteImageFromClipboardEnabled) {\r\n        // Dropzone will handle image uploads again\r\n        const dzConfig = { ...this.experimental.dropzoneConfig$.value };\r\n        delete dzConfig.acceptedFiles;\r\n        this.experimental.dropzoneConfig$.next(dzConfig);\r\n      }\r\n    });\r\n\r\n    editor.on('change', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE value changed', event);\r\n      this.editorContent = event.level.content; // editor.getContent()\r\n      this.connector.data.update(this.editorContent);\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    console.log('FieldStringWysiwyg disconnectedCallback called');\r\n    this.editor.remove();\r\n  }\r\n}\r\n\r\ncustomElements.define('field-string-wysiwyg', FieldStringWysiwyg);\r\n","import { EavCustomInputField, EavCustomInputFieldObservable } from '../../../shared/eav-custom-input-field';\r\n// tslint:disable-next-line:max-line-length\r\nimport { ExperimentalProps } from '../../../../src/app/eav-material-controls/input-types/custom/external-web-component/connector/models/custom-element-properties.model';\r\n\r\nexport class EavExperimentalInputField<T> extends EavCustomInputField<T> {\r\n  experimental: ExperimentalProps;\r\n}\r\n\r\nexport class EavExperimentalInputFieldObservable<T> extends EavCustomInputFieldObservable<T> {\r\n  experimental: ExperimentalProps;\r\n}\r\n","export const FeaturesGuidsConstants = {\r\n    PasteWithFormatting: '1b13e0e6-a346-4454-a1e6-2fb18c047d20',\r\n    PasteImageFromClipboard: 'f6b8d6da-4744-453b-9543-0de499aa2352',\r\n};\r\n","module.exports = \"<div class=\\\"wrap-float-label\\\">\\r\\n  <div class=\\\"field-string-wysiwyg-mce-toolbar tinymce-toolbar-container\\\"></div>\\r\\n  <div class=\\\"field-string-wysiwyg-mce-box tinymce-container\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"field-string-wysiwyg {\\r\\n  position: relative;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.wrap-float-label {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.field-string-wysiwyg-mce-box {\\r\\n  position: relative;\\r\\n  height: 100%;\\r\\n  outline: none;\\r\\n  overflow-x: hidden;\\r\\n  overflow-y: scroll;\\r\\n  scrollbar-width: none;\\r\\n}\\r\\n.field-string-wysiwyg-mce-box::-webkit-scrollbar {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.tox.tox-tinymce.tox-tinymce-inline {\\r\\n  display: flex !important;\\r\\n}\\r\\n\"","interface Config {\r\n  containerClass: string;\r\n  fixedToolbarClass: string;\r\n  contentStyle: string;\r\n  setup: (editor: any) => any;\r\n  currentLang: string;\r\n  contentBlocksEnabled: boolean;\r\n  pasteFormattedTextEnabled: boolean;\r\n  pasteImageFromClipboardEnabled: boolean;\r\n  imagesUploadUrl: string;\r\n  uploadHeaders: any;\r\n}\r\n\r\nexport function getTinyOptions(config: Config) {\r\n  let options = {\r\n    selector: `.${config.containerClass}`,\r\n    fixed_toolbar_container: `.${config.fixedToolbarClass}`,\r\n    setup: config.setup, // callback function during setup\r\n    skin: 'oxide',\r\n    theme: 'silver',\r\n    body_class: 'field-string-wysiwyg-mce-box',\r\n    content_style: config.contentStyle,\r\n    height: '100%',\r\n    branding: false,\r\n    // statusbar: true, // doesn't work in inline\r\n    inline: true, // use the div, not an iframe\r\n    toolbar_drawer: 'floating',\r\n    automatic_uploads: false, // we're using our own upload mechanism\r\n    autosave_ask_before_unload: false,\r\n    paste_as_text: true,\r\n    plugins: [\r\n      'code', // allow view / edit source\r\n      // 'contextmenu', // right-click menu for things like insert, etc. spm built into tinymce core in v5\r\n      'autolink', // automatically convert www.xxx links to real links\r\n      'tabfocus', // get in an out of the editor with tab\r\n      'image', // image button and image-settings\r\n      'link', // link button + ctrl+k to add link\r\n      // 'autosave',     // temp-backups the content in case the browser crashes, allows restore\r\n      'paste', // enables paste as text from word etc. https://www.tinymce.com/docs/plugins/paste/\r\n      'anchor', // allows users to set an anchor inside the text\r\n      'charmap', // character map https://www.tinymce.com/docs/plugins/visualchars/\r\n      'hr', // hr\r\n      'media', // video embed\r\n      'nonbreaking', // add button to insert &nbsp; https://www.tinymce.com/docs/plugins/nonbreaking/\r\n      'searchreplace', // search/replace https://www.tinymce.com/docs/plugins/searchreplace/\r\n      'table', // https://www.tinymce.com/docs/plugins/searchreplace/\r\n      'lists', // should fix bug with fonts in list-items (https://github.com/tinymce/tinymce/issues/2330),\r\n      'textpattern' // enable typing like '1. text' to create lists etc.\r\n    ],\r\n    extended_valid_elements: '@[class]' // allow classes on all elements,\r\n      + ',i' // allow i elements (allows icon-font tags like <i class='fa fa-...'>),\r\n      + ',hr[sxc|guid]', // allow inline content-blocks\r\n    custom_elements: 'hr',\r\n    // Url Rewriting in images and pages\r\n    // convert_urls: false,  // don't use this, would keep the domain which is often a test-domain\r\n    // keep urls with full path so starting with a '/' - otherwise it would rewrite them to a '../../..' syntax\r\n    relative_urls: false,\r\n    default_link_target: '_blank', // auto-use blank as default link-target\r\n    object_resizing: false, // don't allow manual scaling of images\r\n    debounce: false, // DONT slow-down model updates - otherwise we sometimes miss the last changes\r\n  };\r\n\r\n  const modesOptions = getModesOptions(config.contentBlocksEnabled);\r\n  options = { ...options, ...modesOptions };\r\n\r\n  const languageOptions = getLanguageOptions(config.currentLang);\r\n  options = { ...options, ...languageOptions };\r\n\r\n  if (config.pasteFormattedTextEnabled) {\r\n    const pasteFormattedTextOptions = getPasteFormattedTextOptions();\r\n    options = { ...options, ...pasteFormattedTextOptions };\r\n  }\r\n\r\n  if (config.pasteImageFromClipboardEnabled) {\r\n    const pasteImagesOptions = getPasteImagesOptions(config.imagesUploadUrl, config.uploadHeaders);\r\n    options = { ...options, ...pasteImagesOptions };\r\n  }\r\n  return options;\r\n}\r\n\r\nfunction getModesOptions(contentBlocksEnabled: boolean) {\r\n  const modes = {\r\n    standard: {\r\n      menubar: false,\r\n      toolbar: ' undo redo removeformat '\r\n        + '| bold formatgroup '\r\n        + '| h1 h2 hgroup '\r\n        + '| listgroup '\r\n        + '| linkfiles linkgroup '\r\n        + '| ' + (contentBlocksEnabled ? ' addcontentblock ' : '') + 'code modeadvanced ',\r\n      contextmenu: 'charmap hr' + (contentBlocksEnabled ? ' addcontentblock' : '')\r\n    },\r\n    advanced: {\r\n      menubar: true,\r\n      toolbar: ' undo redo removeformat '\r\n        + '| styleselect '\r\n        + '| bold italic '\r\n        + '| h1 h2 hgroup '\r\n        + '| bullist numlist outdent indent '\r\n        + '| images linkfiles linkgrouppro '\r\n        + '| code modestandard ',\r\n      contextmenu: 'link image | charmap hr adamimage'\r\n    }\r\n  };\r\n  return {\r\n    modes: modes, // for later switch to another mode\r\n    menubar: modes.standard.menubar, // basic menu (none)\r\n    toolbar: modes.standard.toolbar, // basic toolbar\r\n    contextmenu: modes.standard.contextmenu, // 'link image | charmap hr adamimage',\r\n  };\r\n}\r\n\r\nfunction getLanguageOptions(currentLang: string) {\r\n  // default language\r\n  const defaultLanguage = 'en';\r\n  // translated languages\r\n  const languages = 'de,es,fr,it,uk,nl'.split(',');\r\n\r\n  // check if it's an additionally translated language and load the translations\r\n  const lang2 = currentLang.substr(0, 2); // 'de'\r\n  if (languages.indexOf(lang2) === -1) {\r\n    return {\r\n      language: defaultLanguage,\r\n    };\r\n  } else {\r\n    return {\r\n      language: lang2,\r\n      language_url: '/DesktopModules/ToSIC_SexyContent/dist/i18n/lib/tinymce/' + lang2 + '.js',\r\n    };\r\n  }\r\n}\r\n\r\n/** Paste formatted text, e.g. text copied from MS Word */\r\nfunction getPasteFormattedTextOptions() {\r\n  return {\r\n    paste_as_text: false,\r\n    paste_enable_default_filters: true,\r\n    paste_create_paragraphs: true,\r\n    paste_create_linebreaks: false,\r\n    paste_force_cleanup_wordpaste: true,\r\n    paste_use_dialog: true,\r\n    paste_auto_cleanup_on_paste: true,\r\n    paste_convert_middot_lists: true,\r\n    paste_convert_headers_to_strong: false,\r\n    paste_remove_spans: true,\r\n    paste_remove_styles: true,\r\n\r\n    paste_preprocess: function (e: any, args: any) {\r\n      console.log('paste preprocess', e, args);\r\n    },\r\n\r\n    paste_postprocess: function (plugin: any, args: any) {\r\n      try {\r\n        const anchors = args.node.getElementsByTagName('a');\r\n        for (let i = 0; i < anchors.length; i++) {\r\n          if (anchors[i].hasAttribute('target') === false) {\r\n            anchors[i].setAttribute('target', '_blank');\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('error in paste postprocess - will only log but not throw', e);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/** Paste image */\r\nfunction getPasteImagesOptions(uploadUrl: string, headers: any) {\r\n  return {\r\n    automatic_uploads: true,\r\n    images_reuse_filename: true,\r\n    paste_data_images: true,\r\n    paste_filter_drop: false,\r\n    paste_block_drop: false,\r\n    images_upload_url: uploadUrl,\r\n    images_upload_base_path: '/images_upload_base_path/',\r\n    images_upload_handler: imagesUploadHandler,\r\n    upload_headers: headers,\r\n  };\r\n}\r\n\r\nfunction imagesUploadHandler(blobInfo: any, success: (imgPath: string) => any, failure: () => any) {\r\n  const formData = new FormData();\r\n  formData.append('file', blobInfo.blob(), blobInfo.filename());\r\n\r\n  const settings = (window as any).tinymce.activeEditor.settings;\r\n  console.log('TinyMCE upload settings', settings);\r\n\r\n  fetch(settings.images_upload_url, {\r\n    method: 'POST',\r\n    // mode: 'cors',\r\n    headers: settings.upload_headers,\r\n    body: formData,\r\n  }).then(response =>\r\n    response.json()\r\n  ).then(data => {\r\n    console.log('TinyMCE upload data', data);\r\n    success(data.Path);\r\n  }).catch(error => {\r\n    console.log('TinyMCE upload error:', error);\r\n  });\r\n\r\n}\r\n\r\n/** Add translations to TinyMCE. Call after TinyMCE is initialized */\r\nexport function addTranslations(language: string, translateService: any, editorManager: any) {\r\n  const primaryLan = 'en';\r\n  const keys = [], mceTranslations: any = {}, prefix = 'Extension.TinyMce', prefixDot = 'Extension.TinyMce.'; //  pLen = prefix.length;\r\n\r\n  // find all relevant keys by querying the primary language\r\n  // var all = translateService.getTranslationTable(primaryLan);\r\n  const all = translateService.translations[primaryLan];\r\n  for (const key in all) {\r\n    if (key.indexOf(prefix) === 0) {\r\n      keys.push(key);\r\n    }\r\n  }\r\n\r\n  const translations = translateService.instant(keys);\r\n\r\n  for (let k = 0; k < keys.length; k++) {\r\n    mceTranslations[keys[k].replace(prefixDot, '')] = translations[keys[k]];\r\n  }\r\n\r\n  editorManager.addI18n(language, translations[keys[0]]);\r\n}\r\n","import { loadCustomIcons } from './load-icons-helper';\r\nimport { MathHelper } from './math-helper';\r\n\r\nexport function addTinyMceToolbarButtons(fieldStringWysiwyg: any, editor: any) {\r\n  const imgSizes = [100, 75, 70, 66, 60, 50, 40, 33, 30, 25, 10];\r\n  registerTinyMceFormats(editor, imgSizes);\r\n  loadCustomIcons(editor);\r\n\r\n  // Group with adam-link, dnn-link\r\n  editor.ui.registry.addSplitButton('linkfiles', {\r\n    icon: 'custom-file-pdf',\r\n    tooltip: 'Link.AdamFile.Tooltip',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onAction: (_: any) => {\r\n      fieldStringWysiwyg.toggleAdam(false);\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Link.AdamFile',\r\n          tooltip: 'Link.AdamFile.Tooltip',\r\n          icon: 'custom-file-pdf',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(false); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Link.DnnFile',\r\n          tooltip: 'Link.DnnFile.Tooltip',\r\n          icon: 'custom-file-dnn',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(false, true); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Link group with web-link, page-link, unlink, anchor\r\n  const linkgroupItems = [\r\n    {\r\n      type: 'choiceitem',\r\n      text: 'Link',\r\n      tooltip: 'Link',\r\n      icon: 'link',\r\n      value: (api: any) => { editor.execCommand('mceLink'); },\r\n    },\r\n    {\r\n      type: 'choiceitem',\r\n      text: 'Link.Page',\r\n      tooltip: 'Link.Page.Tooltip',\r\n      icon: 'custom-sitemap',\r\n      value: (api: any) => { fieldStringWysiwyg.openDnnDialog('pagepicker'); },\r\n    },\r\n  ];\r\n  const linkgroupProItems = [...linkgroupItems];\r\n  linkgroupProItems.push({\r\n    type: 'choiceitem',\r\n    text: 'Anchor',\r\n    tooltip: 'Link.Anchor.Tooltip',\r\n    icon: 'custom-anchor',\r\n    value: (api) => { editor.execCommand('mceAnchor'); },\r\n  });\r\n  const linkgroup = {\r\n    icon: 'link',\r\n    tooltip: 'Link',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onSetup: initOnPostRender('link', editor),\r\n    onAction: (_: any) => {\r\n      editor.execCommand('mceLink');\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      callback(linkgroupItems);\r\n    },\r\n  };\r\n  const linkgroupPro = { ...linkgroup };\r\n  linkgroupPro.fetch = (callback) => {\r\n    callback(linkgroupProItems);\r\n  };\r\n  editor.ui.registry.addSplitButton('linkgroup', linkgroup);\r\n  editor.ui.registry.addSplitButton('linkgrouppro', linkgroupPro);\r\n\r\n  // Group with images (adam) - only in PRO mode\r\n  editor.ui.registry.addSplitButton('images', {\r\n    icon: 'image',\r\n    tooltip: 'Image',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onAction: (_: any) => {\r\n      fieldStringWysiwyg.toggleAdam(true);\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Image.AdamImage',\r\n          tooltip: 'Image.AdamImage.Tooltip',\r\n          icon: 'image',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(true); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Image.DnnImage',\r\n          tooltip: 'Image.DnnImage.Tooltip',\r\n          icon: 'custom-image-dnn',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(true, true); },\r\n        },\r\n        // note: all these use i18n from tinyMce standard\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Insert\\/edit image',\r\n          tooltip: 'Insert\\/edit image',\r\n          icon: 'link',\r\n          value: (api: any) => { editor.execCommand('mceImage'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Align left',\r\n          tooltip: 'Align left',\r\n          icon: 'align-left',\r\n          value: (api: any) => { editor.execCommand('JustifyLeft'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Align center',\r\n          tooltip: 'Align center',\r\n          icon: 'align-center',\r\n          value: (api: any) => { editor.execCommand('JustifyCenter'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Align right',\r\n          tooltip: 'Align right',\r\n          icon: 'align-right',\r\n          value: (api: any) => { editor.execCommand('JustifyRight'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Drop-down with italic, strikethrough, ...\r\n  editor.ui.registry.addSplitButton('formatgroup', {\r\n    tooltip: 'Italic',  // will be autotranslated\r\n    icon: 'italic',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onSetup: initOnPostRender('italic', editor),\r\n    onAction: (_: any) => {\r\n      editor.execCommand('Italic');\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Strikethrough',\r\n          tooltip: 'Strikethrough',\r\n          icon: 'strike-through',\r\n          value: (api: any) => { editor.execCommand('Strikethrough'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Superscript',\r\n          tooltip: 'Superscript',\r\n          icon: 'superscript',\r\n          value: (api: any) => { editor.execCommand('Superscript'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Subscript',\r\n          tooltip: 'Subscript',\r\n          icon: 'subscript',\r\n          value: (api: any) => { editor.execCommand('Subscript'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Drop-down with numbered list, bullet list, ...\r\n  editor.ui.registry.addSplitButton('listgroup', {\r\n    tooltip: 'Numbered list',  // official tinymce key\r\n    icon: 'ordered-list',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    // for unknown reasons, this just doesn't activate correctly :( - neither does the bullist\r\n    // spm numlist and bullist are not considered formats and don't trigger formatChanged\r\n    onSetup: initOnPostRender('numlist', editor),\r\n    onAction: (_: any) => {\r\n      editor.execCommand('InsertOrderedList');\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Bullet list',\r\n          tooltip: 'Bullet list',\r\n          icon: 'unordered-list',\r\n          value: (api: any) => { editor.execCommand('InsertUnorderedList'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Outdent',\r\n          tooltip: 'Outdent',\r\n          icon: 'outdent',\r\n          value: (api: any) => { editor.execCommand('Outdent'); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Indent',\r\n          tooltip: 'Indent',\r\n          icon: 'indent',\r\n          value: (api: any) => { editor.execCommand('Indent'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n    // spm fix onPostRender on bullist\r\n    // menu: [\r\n    //     {\r\n    //         icon: 'bullist',\r\n    //         text: 'Bullet list',\r\n    //         onPostRender: initOnPostRender('bullist', editor),\r\n    //         onAction: () => { editor.execCommand('InsertUnorderedList'); }\r\n    //     },\r\n    //     { icon: 'outdent', text: 'Outdent', onAction: () => { editor.execCommand('Outdent'); } },\r\n    //     { icon: 'indent', text: 'Indent', onAction: () => { editor.execCommand('Indent'); } }\r\n    // ]\r\n  });\r\n\r\n  // Switch normal / advanced mode\r\n  editor.ui.registry.addButton('modestandard', {\r\n    icon: 'close',\r\n    tooltip: 'SwitchMode.Standard',\r\n    onAction: (_: any) => {\r\n      switchModes('standard', editor);\r\n    },\r\n  });\r\n\r\n  editor.ui.registry.addButton('modeadvanced', {\r\n    icon: 'custom-school',\r\n    tooltip: 'SwitchMode.Pro',\r\n    onAction: (_: any) => {\r\n      switchModes('advanced', editor);\r\n    },\r\n  });\r\n\r\n  // h1, h2, etc. buttons, inspired by http://blog.ionelmc.ro/2013/10/17/tinymce-formatting-toolbar-buttons/\r\n  // note that the complex array is needed because auto-translate only happens if the string is identical\r\n  [['pre', 'Preformatted', 'Preformatted'],\r\n  ['p', 'Paragraph', 'Paragraph'],\r\n  // ['code', 'Code', 'Code'],\r\n  ['h1', 'Heading 1', 'H1'],\r\n  ['h2', 'Heading 2', 'H2'],\r\n  ['h3', 'Heading 3', 'H3'],\r\n  ['h4', 'Heading 4', 'Heading 4'],\r\n  ['h5', 'Heading 5', 'Heading 5'],\r\n  ['h6', 'Heading 6', 'Heading 6']].forEach((tag) => {\r\n    editor.ui.registry.addButton(tag[0], {\r\n      tooltip: tag[1],\r\n      text: tag[2],\r\n      onAction: (_: any) => {\r\n        editor.execCommand('mceToggleFormat', false, tag[0]);\r\n      },\r\n      onSetup: initOnPostRender(tag[0], editor),\r\n    });\r\n  });\r\n\r\n  // Group of buttons with an h3 to start and showing h4-6 + p\r\n  editor.ui.registry.addSplitButton('hgroup', {\r\n    ...editor.ui.registry.getAll().buttons.h3,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.h4,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h4'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.h5,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h5'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.h6,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h6'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.p,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'p'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Inside content (contentblocks)\r\n  editor.ui.registry.addButton('addcontentblock', {\r\n    icon: 'custom-content-block',\r\n    tooltip: 'ContentBlock.Add',\r\n    onAction: (_: any) => {\r\n      const guid = MathHelper.uuid().toLowerCase(); // requires the uuid-generator to be included\r\n      editor.insertContent(`<hr sxc=\"sxc-content-block\" guid=\"${guid}\" />`); // spm guid generation might be broken\r\n    },\r\n  });\r\n\r\n  // Image alignment / size buttons in context menu\r\n  editor.ui.registry.addButton('alignimgleft', {\r\n    icon: 'align-left',\r\n    tooltip: 'Align left',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyLeft');\r\n    },\r\n    onPostRender: initOnPostRender('alignleft', editor),\r\n  });\r\n  editor.ui.registry.addButton('alignimgcenter', {\r\n    icon: 'align-center',\r\n    tooltip: 'Align center',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyCenter');\r\n    },\r\n    onPostRender: initOnPostRender('aligncenter', editor),\r\n  });\r\n  editor.ui.registry.addButton('alignimgright', {\r\n    icon: 'align-right',\r\n    tooltip: 'Align right',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyRight');\r\n    },\r\n    onPostRender: initOnPostRender('alignright', editor),\r\n  });\r\n\r\n  const imgMenuArray: any = [];\r\n  for (let imgs = 0; imgs < imgSizes.length; imgs++) {\r\n    const config = {\r\n      icon: 'resize',\r\n      tooltip: `${imgSizes[imgs]}%`,\r\n      text: `${imgSizes[imgs]}%`,\r\n      value: (api: any) => { editor.formatter.apply(`imgwidth${imgSizes[imgs]}`); },\r\n      onAction: (_: any) => {\r\n        editor.formatter.apply(`imgwidth${imgSizes[imgs]}`);\r\n      },\r\n      onPostRender: initOnPostRender(`imgwidth${imgSizes[imgs]}`, editor),\r\n    };\r\n    editor.ui.registry.addButton(`imgresize${imgSizes[imgs]}`, config);\r\n    imgMenuArray.push(config);\r\n  }\r\n  editor.ui.registry.addButton('resizeimg100', {\r\n    icon: 'resize',\r\n    tooltip: '100%',\r\n    onAction: (_: any) => {\r\n      editor.formatter.apply('imgwidth100');\r\n    },\r\n    onPostRender: initOnPostRender('imgwidth100', editor),\r\n  });\r\n\r\n  // group of buttons to resize an image 100%, 50%, etc.\r\n  editor.ui.registry.addSplitButton('imgresponsive', {\r\n    ...editor.ui.registry.getAll().buttons.resizeimg100,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items: any = [];\r\n      imgMenuArray.forEach((imgSizeOption: any) => {\r\n        items.push({\r\n          ...imgSizeOption,\r\n          type: 'choiceitem',\r\n        });\r\n      });\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Context toolbars\r\n  editor.ui.registry.addContextToolbar('a', {\r\n    predicate: makeTagDetector('a', editor),\r\n    items: 'link unlink',\r\n  });\r\n  editor.ui.registry.addContextToolbar('img', {\r\n    predicate: makeTagDetector('img', editor),\r\n    items: 'image | alignimgleft alignimgcenter alignimgright imgresponsive | removeformat | remove',\r\n  });\r\n  editor.ui.registry.addContextToolbar('li,ol,ul', {\r\n    predicate: makeTagDetector('li,ol,ul', editor),\r\n    items: 'bullist numlist | outdent indent',\r\n  });\r\n}\r\n\r\n/**\r\n * Helper function to add activate/deactivate to buttons like alignleft, alignright etc.\r\n * copied/modified from\r\n * https://github.com/tinymce/tinymce/blob/ddfa0366fc700334f67b2c57f8c6e290abf0b222/js/tinymce/classes/ui/FormatControls.js#L232-L249\r\n */\r\nfunction initOnPostRender(name: any, editor: any) {\r\n  return function (buttonApi: any) {\r\n    function watchChange() {\r\n      editor.formatter.formatChanged(name, function (state: any) {\r\n        try {\r\n          buttonApi.setActive(state);\r\n        } catch (error) {\r\n          // cannot be set active when not visible on toolbar and is behing More... button\r\n          // console.error('button set active error:', error);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (editor.formatter) {\r\n      watchChange();\r\n    } else {\r\n      editor.on('init', watchChange);\r\n    }\r\n  };\r\n}\r\n\r\n/** Register all formats - like img-sizes */\r\nfunction registerTinyMceFormats(editor: any, imgSizes: number[]) {\r\n  const imgformats: any = {};\r\n  for (let imgs = 0; imgs < imgSizes.length; imgs++) {\r\n    imgformats[`imgwidth${imgSizes[imgs]}`] = [{ selector: 'img', collapsed: false, styles: { 'width': `${imgSizes[imgs]}%` } }];\r\n  }\r\n  editor.formatter.register(imgformats);\r\n}\r\n\r\n// Mode switching and the buttons for it\r\nfunction switchModes(mode: any, editor: any) {\r\n  editor.settings.toolbar = editor.settings.modes[mode].toolbar;\r\n  editor.settings.menubar = editor.settings.modes[mode].menubar;\r\n\r\n  // refresh editor toolbar\r\n  editor.editorManager.remove(editor);\r\n  editor.editorManager.init(editor.settings);\r\n}\r\n\r\n// My context toolbars for links, images and lists (ul/li)\r\nfunction makeTagDetector(tagWeNeedInTheTagPath: any, editor: any) {\r\n  return function tagDetector(currentElement: any) {\r\n    // check if we are in a tag within a specific tag\r\n    const selectorMatched = editor.dom.is(currentElement, tagWeNeedInTheTagPath) && editor.getBody().contains(currentElement);\r\n    return selectorMatched;\r\n  };\r\n}\r\n","// 2sxc icons\r\nimport * as contentBlock from '../../../../src/icons/2sxc/content-block.svg';\r\nimport * as fileDnn from '../../../../src/icons/2sxc/file-dnn.svg';\r\nimport * as imageDnn from '../../../../src/icons/2sxc/image-dnn.svg';\r\n// font-awesome icons\r\nimport * as anchor from '../../../../src/icons/font-awesome/anchor.svg';\r\nimport * as file from '../../../../src/icons/font-awesome/file.svg';\r\nimport * as filePdf from '../../../../src/icons/font-awesome/file-pdf.svg';\r\nimport * as sitemap from '../../../../src/icons/font-awesome/sitemap.svg';\r\n// google material icons\r\nimport * as school from '../../../../src/icons/google-material/baseline-school-24px.svg';\r\n\r\nconst customTinyMceIcons: any = {\r\n  'custom-anchor': anchor,\r\n  'custom-content-block': contentBlock,\r\n  'custom-file': file,\r\n  'custom-file-dnn': fileDnn,\r\n  'custom-file-pdf': filePdf,\r\n  'custom-image-dnn': imageDnn,\r\n  'custom-school': school,\r\n  'custom-sitemap': sitemap,\r\n};\r\n\r\nexport function loadCustomIcons(editor: any) {\r\n  Object.keys(customTinyMceIcons).forEach(key => {\r\n    if (!customTinyMceIcons.hasOwnProperty(key)) { return; }\r\n\r\n    editor.ui.registry.addIcon(\r\n      key,\r\n      customTinyMceIcons[key]\r\n    );\r\n  });\r\n}\r\n","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 20.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\r\\n\\t viewBox=\\\"0 0 64 64\\\" style=\\\"enable-background:new 0 0 64 64;\\\" xml:space=\\\"preserve\\\">\\r\\n<path d=\\\"M20.9,0C9.3,0,0,9.6,0,21.1V64h43.9C55.4,64,64,53.7,64,42.1V0H20.9z M50,37.5C50,44,45.9,50,39.4,50H14V25.7\\r\\n\\tC14,19.2,19.1,14,25.6,14H50V37.5z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?><!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\"><svg width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xml:space=\\\"preserve\\\" xmlns:serif=\\\"http://www.serif.com/\\\" style=\\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\\"><path d=\\\"M15.191,0c0.125,0 0.244,0.049 0.331,0.137l3.975,3.975c0.088,0.088 0.137,0.207 0.137,0.33l0,12.433c-0.094,-0.021 -1.543,0.018 -1.556,0.012l-0.003,-11.583l-3.073,0c-0.32,0 -0.579,-0.259 -0.579,-0.579l0,-3.167l-11.366,0l0,20.883l10.991,0c0.003,0.448 0.005,1.299 0.001,1.559l-11.148,0c-0.774,0 -1.403,-0.629 -1.403,-1.402l0,-21.196c0,-0.773 0.629,-1.402 1.403,-1.402l12.29,0Zm-0.37,20.928l3.841,-3.456l3.84,3.456l-1.152,0l0,3.072l-1.92,0l0,-2.304l-1.536,0l0,2.304l-1.921,0l0,-3.072l-1.152,0Z\\\" style=\\\"fill-rule:nonzero;\\\"/></svg>\\r\\n\"","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?><!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\"><svg width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 28 24\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xml:space=\\\"preserve\\\" xmlns:serif=\\\"http://www.serif.com/\\\" style=\\\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;\\\"><path d=\\\"M17.107,18.572l4.396,-3.856l4.397,3.856l-1.319,0l0,3.428l-2.199,0l0,-2.571l-1.757,0l0,2.571l-2.199,0l0,-3.428l-1.319,0Zm-0.578,3.428l-13.841,0c-0.656,0 -1.188,-0.497 -1.188,-1.111l0,-17.778c0,-0.614 0.532,-1.111 1.188,-1.111l19.007,0c0.656,0 1.188,0.497 1.188,1.111l0,10.554l-2.376,-0.005l-2.93,-1.074l-7.689,7.192l6.641,0l0,2.222Zm-12.653,-3.488l0,1.266l3.492,0l3.445,-3.222l-2.423,-2.266l-4.514,4.222Zm16.631,-14.29l-16.631,0l0,11.933l3.884,-3.633c0.348,-0.326 0.912,-0.326 1.26,0l3.053,2.855l4.874,-4.559c0.348,-0.325 0.912,-0.325 1.26,0l2.3,0.873l0,-7.469Zm-10.691,6.667c1.312,0 2.375,-0.995 2.375,-2.222c0,-1.228 -1.063,-2.223 -2.375,-2.223c-1.313,0 -2.376,0.995 -2.376,2.223c0,1.227 1.063,2.222 2.376,2.222Z\\\" style=\\\"fill-rule:nonzero;\\\"/></svg>\\r\\n\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><path d=\\\"M504.485 264.485c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.029c-7.56 7.56-2.206 20.485 8.485 20.485h49.129C461.111 420.749 390.501 473.6 304 479.452V192h52c6.627 0 12-5.373 12-12v-8c0-6.627-5.373-12-12-12h-52v-34.016c28.513-7.339 49.336-33.833 47.933-64.947-1.48-32.811-28.101-59.458-60.911-60.967C254.302-1.619 224 27.652 224 64c0 29.821 20.396 54.879 48 61.984V160h-52c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h52v287.452C185.498 473.6 114.888 420.749 97.901 352h49.129c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.03c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.03C-3.074 339.074 2.28 352 12.971 352h52.136C83.963 448.392 182.863 512 288 512c110.901 0 204.938-68.213 222.893-160h52.136c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.03zM256 64c0-17.645 14.355-32 32-32s32 14.355 32 32-14.355 32-32 32-32-14.355-32-32zM61.255 320L80 301.255 98.745 320h-37.49zm416 0L496 301.255 514.745 320h-37.49z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><path d=\\\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><path d=\\\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 640 512\\\"><path d=\\\"M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><path d=\\\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\\\"/></svg>\"","\r\n/*!\r\nMath.uuid.js (v1.4)\r\nhttp://www.broofa.com\r\nmailto:robert@broofa.com\r\n\r\nCopyright (c) 2010 Robert Kieffer\r\nDual licensed under the MIT and GPL licenses.\r\n*/\r\n\r\n/*\r\n * Generate a random uuid.\r\n *\r\n * USAGE: Math.uuid(length, radix)\r\n *   length - the desired number of characters\r\n *   radix  - the number of allowable values for each character.\r\n *\r\n * EXAMPLES:\r\n *   // No arguments  - returns RFC4122, version 4 ID\r\n *   >>> Math.uuid()\r\n *   \"92329D39-6F5C-4520-ABFC-AAB64544E172\"\r\n *\r\n *   // One argument - returns ID of the specified length\r\n *   >>> Math.uuid(15)     // 15 character ID (default base=62)\r\n *   \"VcydxgltxrVZSTV\"\r\n *\r\n *   // Two arguments - returns ID of the specified length, and radix. (Radix must be <= 62)\r\n *   >>> Math.uuid(8, 2)  // 8 character ID (base=2)\r\n *   \"01001010\"\r\n *   >>> Math.uuid(8, 10) // 8 character ID (base=10)\r\n *   \"47473046\"\r\n *   >>> Math.uuid(8, 16) // 8 character ID (base=16)\r\n *   \"098F4D35\"\r\n */\r\nexport class MathHelper {\r\n    // Private array of chars to use\r\n    private static CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n\r\n    public static uuid = function (len?: any, radix?: any) {\r\n        const chars = MathHelper.CHARS, uuid = [];\r\n        radix = radix || chars.length;\r\n\r\n        if (len) {\r\n            // Compact form\r\n            for (let j = 0; j < len; j++) {\r\n                uuid[j] = chars[0 || Math.random() * radix];\r\n            }\r\n        } else {\r\n            // rfc4122, version 4 form\r\n            let r;\r\n\r\n            // rfc4122 requires these characters\r\n            uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n            uuid[14] = '4';\r\n\r\n            // Fill in random data.  At i==19 set the high bits of clock sequence as\r\n            // per rfc4122, sec. 4.1.5\r\n            for (let j = 0; j < 36; j++) {\r\n                if (!uuid[j]) {\r\n                    r = 0 || Math.random() * 16;\r\n                    uuid[j] = chars[(j === 19) ? (r && 0x3) || 0x8 : r];\r\n                }\r\n            }\r\n        }\r\n\r\n        return uuid.join('');\r\n    };\r\n\r\n    // A more performant, but slightly bulkier, RFC4122v4 solution.  We boost performance\r\n    // by minimizing calls to random()\r\n    public static uuidFast = function () {\r\n        const chars = MathHelper.CHARS, uuid = new Array(36);\r\n        let rnd = 0, r;\r\n        for (let i = 0; i < 36; i++) {\r\n            if (i === 8 || i === 13 || i === 18 || i === 23) {\r\n                uuid[i] = '-';\r\n            } else if (i === 14) {\r\n                uuid[i] = '4';\r\n            } else {\r\n                if (rnd <= 0x02) { rnd = 0x2000000 + (Math.random() * 0x1000000) || 0; }\r\n                r = rnd && 0xf;\r\n                // tslint:disable-next-line:no-bitwise\r\n                rnd = rnd >> 4;\r\n                uuid[i] = chars[(i === 19) ? (r && 0x3) || 0x8 : r];\r\n            }\r\n        }\r\n        return uuid.join('');\r\n    };\r\n\r\n    // A more compact, but less performant, RFC4122v4 solution:\r\n    public static uuidCompact = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            const r = Math.random() * 16 || 0, v = c === 'x' ? r : (r && 0x3 || 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n}\r\n","export function attachDnnBridgeService(fieldStringWysiwyg: any, editor: any) {\r\n  let result: any = {};\r\n  // open the dialog - note: strong dependency on the buttons, not perfect here\r\n  fieldStringWysiwyg.openDnnDialog = (type: any) => {\r\n    fieldStringWysiwyg.host.openDnnDialog('', { Paths: null, FileFilter: null }, fieldStringWysiwyg.processResultOfDnnBridge);\r\n  };\r\n\r\n  // the callback when something was selected\r\n  fieldStringWysiwyg.processResultOfDnnBridge = (value: any) => {\r\n    result = value;\r\n    if (!value) { return; }\r\n    fieldStringWysiwyg.host.getUrlOfIdDnnDialog('page:' + (value.id || value.FileId), fieldStringWysiwyg.urlCallback);\r\n  };\r\n\r\n  fieldStringWysiwyg.urlCallback = (data: any) => {\r\n    const previouslySelected = editor.selection.getContent();\r\n    editor.insertContent('<a href=\\\"' + data + '\\\" target=\\\"_blank\\\">' + (previouslySelected || result.name) + '</a>');\r\n  };\r\n}\r\n","export function attachAdam(fieldStringWysiwyg: any, editor: any) {\r\n  const adamSetValue = (fileItem: any, modeImage: any) => {\r\n    if (modeImage === undefined) {  // if not supplied, use the setting in the adam\r\n      modeImage = fieldStringWysiwyg.adam.adamModeImage;\r\n    }\r\n\r\n    const fileName = fileItem.Name.substr(0, fileItem.Name.lastIndexOf('.'));\r\n\r\n    const content = modeImage\r\n      ? '<img src=\"' + fileItem.FullPath + '\" + alt=\"' + fileName + '\">'\r\n      : '<a href=\"' + fileItem.FullPath + '\">' + fileName + '</a>';\r\n\r\n    editor.insertContent(content);\r\n  };\r\n\r\n  const adamAfterUpload = (fileItem: any) => {\r\n    adamSetValue(fileItem, fileItem.Type === 'image');\r\n  };\r\n\r\n  fieldStringWysiwyg.adam = fieldStringWysiwyg.host.attachAdam(adamSetValue, adamAfterUpload);\r\n\r\n  fieldStringWysiwyg.toggleAdam = (imagesOnly: any, usePortalRoot: any) => {\r\n    fieldStringWysiwyg.adam.adamModeImage = imagesOnly;\r\n    fieldStringWysiwyg.adam.toggleAdam({\r\n      showImagesOnly: imagesOnly,\r\n      usePortalRoot: usePortalRoot\r\n    });\r\n  };\r\n\r\n  fieldStringWysiwyg.setAdamConfig = (adamConfig: any) => {\r\n    fieldStringWysiwyg.adam.setAdamConfig(adamConfig);\r\n  };\r\n\r\n  fieldStringWysiwyg.setAdamConfig({ // default adam config\r\n    adamModeConfig: { usePortalRoot: false },\r\n    allowAssetsInRoot: true,\r\n    autoLoad: false,\r\n    enableSelect: true,\r\n    folderDepth: 0,\r\n    fileFilter: '',\r\n    metadataContentTypes: '',\r\n    subFolder: '',\r\n    showImagesOnly: false, // adamModeImage?\r\n  });\r\n}\r\n","module.exports = \"/**\\n    Overrides TinyMCE 5 oxide skin colors.\\n    Values are copied from skin css and overriden with !important.\\n    Default values are left in the comments\\n    and custom selectors and properties are pointed out.\\n*/\\n.tox {\\n  color: #222f3e;\\n}\\n\\n.tox-tinymce {\\n  border: none !important;\\n}\\n\\n.tox .accessibility-issue__description {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .accessibility-issue__description > :last-child:not(:only-child) {\\n  border-color: #ccc;\\n}\\n\\n.tox .accessibility-issue--info .accessibility-issue__description {\\n  background-color: rgba(32, 122, 183, 0.1);\\n  border-color: rgba(32, 122, 183, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--info .accessibility-issue__description > :last-child {\\n  border-color: rgba(32, 122, 183, 0.4);\\n}\\n\\n.tox .accessibility-issue--info h2 {\\n  color: #207ab7;\\n}\\n\\n.tox .accessibility-issue--info .tox-icon svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .accessibility-issue--info a .tox-icon {\\n  color: #207ab7;\\n}\\n\\n.tox .accessibility-issue--warn .accessibility-issue__description {\\n  background-color: rgba(255, 165, 0, 0.1);\\n  border-color: rgba(255, 165, 0, 0.5);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--warn .accessibility-issue__description > :last-child {\\n  border-color: rgba(255, 165, 0, 0.5);\\n}\\n\\n.tox .accessibility-issue--warn h2 {\\n  color: #cc8500;\\n}\\n\\n.tox .accessibility-issue--warn .tox-icon svg {\\n  fill: #cc8500;\\n}\\n\\n.tox .accessibility-issue--warn a .tox-icon {\\n  color: #cc8500;\\n}\\n\\n.tox .accessibility-issue--error .accessibility-issue__description {\\n  background-color: rgba(204, 0, 0, 0.1);\\n  border-color: rgba(204, 0, 0, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--error .accessibility-issue__description > :last-child {\\n  border-color: rgba(204, 0, 0, 0.4);\\n}\\n\\n.tox .accessibility-issue--error h2 {\\n  color: #c00;\\n}\\n\\n.tox .accessibility-issue--error .tox-icon svg {\\n  fill: #c00;\\n}\\n\\n.tox .accessibility-issue--error a .tox-icon {\\n  color: #c00;\\n}\\n\\n.tox .accessibility-issue--success .accessibility-issue__description {\\n  background-color: rgba(120, 171, 70, 0.1);\\n  border-color: rgba(120, 171, 70, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--success .accessibility-issue__description > :last-child {\\n  border-color: rgba(120, 171, 70, 0.4);\\n}\\n\\n.tox .accessibility-issue--success h2 {\\n  color: #78ab46;\\n}\\n\\n.tox .accessibility-issue--success .tox-icon svg {\\n  fill: #78ab46;\\n}\\n\\n.tox .accessibility-issue--success a .tox-icon {\\n  color: #78ab46;\\n}\\n\\n.tox .tox-button {\\n  background-color: #207ab7;\\n  border-color: #207ab7;\\n  color: #fff;\\n}\\n\\n.tox .tox-button[disabled] {\\n  background-color: #207ab7;\\n  border-color: #207ab7;\\n  color: rgba(255, 255, 255, 0.5);\\n}\\n\\n.tox .tox-button:focus:not(:disabled) {\\n  background-color: #1c6ca1;\\n  border-color: #1c6ca1;\\n  color: #fff;\\n}\\n\\n.tox .tox-button:hover:not(:disabled) {\\n  background-color: #1c6ca1;\\n  border-color: #1c6ca1;\\n  color: #fff;\\n}\\n\\n.tox .tox-button:active:not(:disabled) {\\n  background-color: #185d8c;\\n  border-color: #185d8c;\\n  color: #fff;\\n}\\n\\n.tox .tox-button--secondary {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-button--secondary:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-button--naked:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked.tox-button--icon:hover:not(:disabled) {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.3);\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .tox-checkbox--disabled {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox input.tox-checkbox__input:focus + .tox-checkbox__icons {\\n  box-shadow: inset 0 0 0 1px #207ab7;\\n}\\n\\n.tox .tox-collection--list .tox-collection__group {\\n  border-color: #ccc;\\n}\\n\\n.tox .tox-collection__group-heading {\\n  background-color: #e6e6e6;\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-collection__item {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-collection--list .tox-collection__item--enabled {\\n  color: contrast(inherit, #222f3e, #fff);\\n}\\n\\n.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled):not(.tox-swatch) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--toolbar .tox-collection__item--enabled {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--grid .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection__item--state-disabled {\\n  color: rgba(34, 47, 62, 0.5) !important;\\n}\\n\\n.tox .tox-collection__item-icon svg:not([width]):not([height]) {\\n  width: 24px !important;\\n  height: 24px !important;\\n}\\n\\n.tox .tox-collection__item-label > :first-child {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-collection__item-accessory {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-collection__item-caret {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-sv-palette-thumb {\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-sv-palette-inner-thumb {\\n  border: 1px solid #fff;\\n}\\n\\n.tox .tox-hue-slider-spectrum {\\n  background: linear-gradient(to bottom, red, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, red);\\n}\\n\\n.tox .tox-hue-slider-thumb {\\n  background: #fff;\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-rgb-form input.tox-invalid {\\n  border: 1px solid red !important;\\n}\\n\\n.tox .tox-rgb-form .tox-rgba-preview {\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-swatch:focus, .tox .tox-swatch:hover {\\n  box-shadow: 0 0 0 1px rgba(127, 127, 127, 0.3) inset;\\n}\\n\\n.tox .tox-swatch--remove svg path {\\n  stroke: #e74c3c;\\n}\\n\\n.tox .tox-swatches__picker-btn:hover {\\n  background: #dee0e2;\\n}\\n\\n.tox .tox-comment-thread {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment {\\n  background: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n}\\n\\n.tox .tox-comment__header {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__date {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-comment__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__expander p {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-comment-thread__overlay::after {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment__gradient::after {\\n  background: linear-gradient(rgba(255, 255, 255, 0), #fff);\\n}\\n\\n.tox .tox-comment__overlay {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment__loading-text {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__overlaytext p {\\n  background-color: #fff;\\n  box-shadow: 0 0 8px 8px #fff;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__busy-spinner {\\n  background-color: #fff;\\n}\\n\\n.tox .tox-user__avatar svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-user__name {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-dialog-wrap__backdrop {\\n  background-color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-dialog {\\n  background-color: #fff;\\n  border-color: #ccc;\\n  box-shadow: 0 16px 16px -10px rgba(34, 47, 62, 0.15), 0 0 40px 1px rgba(34, 47, 62, 0.15);\\n}\\n\\n.tox .tox-dialog__header {\\n  background-color: #fff;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-dialog__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-dialog__body-nav-item {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-dialog__body-nav-item--active {\\n  border-bottom: 2px solid #207ab7;\\n  color: #207ab7;\\n}\\n\\n.tox .tox-dialog__body-content a {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-dialog__body-content a:focus, .tox .tox-dialog__body-content a:hover {\\n  color: #185d8c;\\n}\\n\\n.tox .tox-dialog__body-content a:active {\\n  color: #185d8c;\\n}\\n\\n.tox .tox-dialog__footer {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-dialog__busy-spinner {\\n  background-color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-dialog__table tbody tr {\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.tox .tox-dropzone {\\n  background: #fff;\\n  border: 2px dashed #ccc;\\n}\\n\\n.tox .tox-dropzone p {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-edit-area {\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-edit-area__iframe {\\n  background-color: #fff;\\n}\\n\\n.tox.tox-inline-edit-area {\\n  border: 1px dotted #ccc;\\n}\\n\\n.tox .tox-control-wrap__status-icon-invalid svg {\\n  fill: #c00;\\n}\\n\\n.tox .tox-control-wrap__status-icon-unknown svg {\\n  fill: orange;\\n}\\n\\n.tox .tox-control-wrap__status-icon-valid svg {\\n  fill: green;\\n}\\n\\n.tox .tox-color-input span {\\n  border-color: rgba(34, 47, 62, 0.2);\\n}\\n\\n.tox .tox-color-input span:focus {\\n  border-color: #207ab7;\\n}\\n\\n.tox .tox-label, .tox .tox-toolbar-label {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-form__group--error {\\n  color: #c00;\\n}\\n\\n.tox .tox-selectfield select, .tox .tox-textarea, .tox .tox-textfield, .tox .tox-toolbar-textfield {\\n  background-color: #fff;\\n  border-color: #ccc;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-textarea[disabled], .tox .tox-textfield[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n}\\n\\n.tox .tox-selectfield select:focus, .tox .tox-textarea:focus, .tox .tox-textfield:focus {\\n  border-color: #207ab7;\\n}\\n\\n.tox .tox-naked-btn {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-naked-btn svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-selectfield select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n}\\n\\n.tox .tox-image-tools__image {\\n  background-color: #666;\\n}\\n\\n.tox .tox-croprect-block {\\n  background: #000;\\n}\\n\\n.tox .tox-croprect-handle {\\n  border: 2px solid #fff;\\n}\\n\\n.tox .tox-insert-table-picker > div {\\n  border-color: #ccc;\\n}\\n\\n.tox .tox-insert-table-picker .tox-insert-table-picker__selected {\\n  background-color: #fff !important;\\n  border-color: rgba(32, 122, 183, 0.5);\\n}\\n\\n.tox .tox-insert-table-picker__label {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-menu {\\n  background-color: #0087f4 !important;\\n  border: 1px solid rgba(34, 47, 62, 0.5) !important;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n}\\n\\n.tox .tox-menubar {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='43px' viewBox='0 0 40 43px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='42px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #0087f4 !important;\\n}\\n\\n.tox .tox-mbtn {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-mbtn[disabled] {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-mbtn:hover:not(:disabled) {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-mbtn:focus:not(:disabled) {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-mbtn--active {\\n  background: #0074f1 !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-notification {\\n  background-color: #fffaea;\\n  border-color: #ffe89d;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-notification a {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-notification--success {\\n  background-color: #dff0d8;\\n  border-color: #d6e9c6;\\n}\\n\\n.tox .tox-notification--success a {\\n  color: #486d2a;\\n}\\n\\n.tox .tox-notification--error {\\n  background-color: #f2dede;\\n  border-color: #ebccd1;\\n}\\n\\n.tox .tox-notification--error a {\\n  color: #843441;\\n}\\n\\n.tox .tox-notification--warn {\\n  background-color: #fcf8e3;\\n  border-color: #faebcc;\\n}\\n\\n.tox .tox-notification--info {\\n  background-color: #d9edf7;\\n  border-color: #779ecb;\\n}\\n\\n.tox .tox-notification__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-pop__dialog {\\n  background-color: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n}\\n\\n.tox .tox-pop.tox-pop--bottom::after {\\n  border-color: #fff transparent transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--bottom::before {\\n  border-color: #ccc transparent transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--top::after {\\n  border-color: transparent transparent #fff transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--top::before {\\n  border-color: transparent transparent #ccc transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--left::after {\\n  border-color: transparent #fff transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--left::before {\\n  border-color: transparent #ccc transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--right::after {\\n  border-color: transparent transparent transparent #fff;\\n}\\n\\n.tox .tox-pop.tox-pop--right::before {\\n  border-color: transparent transparent transparent #ccc;\\n}\\n\\n.tox .tox-sidebar {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-slider__rail {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-slider__handle {\\n  background-color: #207ab7;\\n  border: 2px solid #185d8c;\\n}\\n\\n.tox .tox-spinner > div {\\n  background-color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar a, .tox .tox-statusbar__path-item, .tox .tox-statusbar__wordcount {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar__resize-handle svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-throbber__busy-spinner {\\n  background-color: rgba(255, 255, 255, 0.6);\\n}\\n\\n.tox .tox-tbtn {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-tbtn svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-tbtn--enabled {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn--enabled svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:hover {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:hover svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:focus {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:focus svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:active {\\n  background: #0074f1 !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:active svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn--disabled, .tox .tox-tbtn--disabled:hover, .tox .tox-tbtn:disabled, .tox .tox-tbtn:disabled:hover {\\n  color: rgba(34, 47, 62, 0.5) !important;\\n  background-color: initial !important;\\n}\\n\\n.tox .tox-tbtn--disabled svg, .tox .tox-tbtn--disabled:hover svg, .tox .tox-tbtn:disabled svg, .tox .tox-tbtn:disabled:hover svg {\\n  fill: rgba(34, 47, 62, 0.5) !important;\\n}\\n\\n.tox .tox-tbtn__select-chevron svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-tbtn__icon-wrap svg:not([width]):not([height]) {\\n  width: 24px !important;\\n  height: 24px !important;\\n}\\n\\n.tox .tox-split-button:hover {\\n  box-shadow: 0 0 0 1px #006aef inset !important;\\n}\\n\\n.tox .tox-split-button:focus {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-split-button__chevron svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus, .tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover, .tox .tox-split-button.tox-tbtn--disabled:focus, .tox .tox-split-button.tox-tbtn--disabled:hover {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-toolbar, .tox .tox-toolbar__overflow, .tox .tox-toolbar__primary {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #0087f4 !important;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox.tox-tinymce-aux .tox-toolbar__overflow {\\n  background-color: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n}\\n\\n.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type) {\\n  border-right: 1px solid #ccc;\\n}\\n\\n.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type) {\\n  border-left: 1px solid #ccc;\\n}\\n\\n.tox .tox-tooltip__body {\\n  background-color: #222f3e;\\n  box-shadow: 0 2px 4px rgba(34, 47, 62, 0.3);\\n  color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-tooltip--down .tox-tooltip__arrow {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  border-top: 8px solid #222f3e;\\n}\\n\\n.tox .tox-tooltip--up .tox-tooltip__arrow {\\n  border-bottom: 8px solid #222f3e;\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n}\\n\\n.tox .tox-tooltip--right .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-left: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n}\\n\\n.tox .tox-tooltip--left .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-right: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n}\\n\\n.tox .tox-well {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-custom-editor {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-dialog-loading::before {\\n  background-color: rgba(0, 0, 0, 0.5);\\n}\"","module.exports = \".field-string-wysiwyg-mce-box {\\r\\n    flex-grow: 1;\\r\\n    background-color: #fff;\\r\\n    position: relative;\\r\\n    border-style: solid;\\r\\n    border-width: 1px;\\r\\n    border-color: rgb(170,178,189);\\r\\n    border-radius: 4px;\\r\\n    padding-left: 0;\\r\\n    overflow: auto;\\r\\n    margin: 0;\\r\\n    padding: 0 8px 1px 8px;\\r\\n\\r\\n    font-size: medium;\\r\\n    color:rgb(69, 79, 99);\\r\\n\\r\\n    font-family: 'Roboto', sans-serif;\\r\\n    font-style: normal;\\r\\n    font-weight: 400; \\r\\n\\r\\n    /*  For iFrame mode */\\r\\n    border: none;\\r\\n    border-radius: 0;\\r\\n    -moz-box-shadow: inset 0 -10px 10px -10px #888;\\r\\n    -webkit-box-shadow: inset 0 -10px 10px -10px #888;\\r\\n    box-shadow: inset 0 -10px 10px -10px #888;\\r\\n\\r\\n    /* IE 10+ */\\r\\n    -ms-overflow-style: none;\\r\\n    /* Firefox */\\r\\n    overflow: -moz-scrollbars-none;\\r\\n}\\r\\n  \\r\\n/* .field-string-wysiwyg-mce-box > :first-child {\\r\\n    min-height: 100%;\\r\\n    overflow-y: hidden;\\r\\n}\\r\\n  \\r\\n.field-string-wysiwyg-mce-box > :first-child:focus {\\r\\n    outline: none;\\r\\n} */\\r\\n\\r\\ndiv.wrap-float-label .field-string-wysiwyg-mce-box.mce-edit-focus {\\r\\n    padding-left: 8px;\\r\\n}\\r\\n\\r\\n.mce-i-apple:before {\\r\\n    position: relative;\\r\\n    top: 1px;\\r\\n    display: inline-block;\\r\\n    font-family: 'Glyphicons Halflings';\\r\\n    font-style: normal;\\r\\n    font-weight: normal;\\r\\n    line-height: 1;\\r\\n\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    -moz-osx-font-smoothing: grayscale;\\r\\n\\r\\n    content:\\\"\\\\f179\\\"\\r\\n}\\r\\n\\r\\n/* content block placeholders */\\r\\n/* added in 08.04.06 - purpose still secret :)*/\\r\\nhr[sxc] {\\r\\n    background-color: #B0DCFF; /* temporary color */\\r\\n    height: 75px;\\r\\n}\\r\\n\\r\\nhr[sxc]::after {\\r\\n    color: white;\\r\\n    content: \\\"App / Content\\\";\\r\\n    position: absolute;\\r\\n    text-align: center;\\r\\n    font-size: 25px;\\r\\n    display: inline-block;\\r\\n    width: calc(100% - 2px); /* 2px because of the border */\\r\\n    margin-top: 17px;\\r\\n}\\r\\n\"","import { Subscription } from 'rxjs';\r\nimport { EavCustomInputFieldObservable } from '../../../shared/eav-custom-input-field';\r\nimport { buildTemplate } from '../shared/helpers';\r\nimport * as template from './preview.html';\r\nimport * as styles from './preview.css';\r\n\r\nclass FieldStringWysiwygPreview extends EavCustomInputFieldObservable<string> {\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor() {\r\n    super();\r\n    console.log('FieldStringWysiwygPreview constructor called');\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log('FieldStringWysiwygPreview connectedCallback called');\r\n    this.innerHTML = buildTemplate(template, styles);\r\n    const previewContainer = this.querySelector('.wysiwyg-preview');\r\n    this.connector.data.value$.subscribe(value => {\r\n      previewContainer.innerHTML = !value ? '' : value\r\n        .replace('<hr sxc=\"sxc-content-block', '<hr class=\"sxc-content-block') // content block\r\n        .replace(/<a[^>]*>(.*?)<\\/a>/g, '$1'); // remove href from A tag\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    console.log('FieldStringWysiwygPreview disconnectedCallback called');\r\n    this.subscriptions.forEach(subscription => { subscription.unsubscribe(); });\r\n    this.subscriptions = null;\r\n  }\r\n}\r\n\r\ncustomElements.define('field-string-wysiwyg-preview', FieldStringWysiwygPreview);\r\n","module.exports = \"<div class=\\\"wysiwyg-preview\\\"></div>\\r\\n\"","module.exports = \".wysiwyg-preview {\\r\\n  height: 116px;\\r\\n}\\r\\n\""],"sourceRoot":""}
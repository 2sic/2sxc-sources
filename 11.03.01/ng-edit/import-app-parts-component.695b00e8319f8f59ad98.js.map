{"version":3,"sources":["./src/app/app-administration/sub-dialogs/import-app-parts/import-app-parts.component.html","./src/app/app-administration/sub-dialogs/import-app-parts/import-app-parts.component.ts"],"names":["dialogRef","importAppPartsService","hostClass","isImporting","ngOnInit","fileChange","event","this","importFile","target","files","importAppParts","subscribe","next","result","importResult","error","closeDialog","close","ImportAppPartsComponent"],"mappings":"0QAIA,wB,sBAYM,eAA0B,sBAAW,Q,yBACrC,eAAyB,QAAqB,Q,mBAArB,iC,qCAX/B,cACE,cACE,mNAE+C,aAAI,yBAAc,OAAK,oCAC/C,cAA6D,oBAAS,OAAI,aACnG,OAEA,cACE,oBAAyD,iDAAS,WAChE,wBACA,wBACF,OACA,qBAA8B,kEAA9B,OACF,OAEA,kBACE,qBAAmD,gEAAwB,kBAAM,OACjF,qBACE,mEAA2B,kBAAM,OACrC,OACF,O,qBAXY,oCACA,kCAMkB,uCACe,uD,sBAOzC,iBACE,mFACF,Q,sBACA,iBACE,4EACF,Q,8HACA,iBAKE,QACF,Q,uBANuE,gFAKrE,8B,qCAbN,QACE,iBACE,uBAGA,uBAGA,uBAOF,OACA,iBACE,oBAAyC,gEAAwB,gBAAK,OACxE,OACF,O,qBAjBS,8CAGA,+CAGA,iDC9BT,iBAYE,WAAoBA,EAA0DC,GAA1D,KAAAD,YAA0D,KAAAC,wBANpD,KAAAC,UAAY,mBAGtC,KAAAC,aAAc,E,OAKd,YAAAC,SAAA,aAGA,YAAAC,WAAA,SAAWC,GACTC,KAAKC,WAAcF,EAAMG,OAA4BC,MAAM,IAG7D,YAAAC,eAAA,sBACEJ,KAAKJ,aAAc,EACnBI,KAAKN,sBAAsBU,eAAeJ,KAAKC,YAAYI,UAAU,CACnEC,KAAM,SAAAC,GACJ,EAAKC,aAAeD,EACpB,EAAKX,aAAc,GAErBa,MAAO,SAACA,GACN,EAAKb,aAAc,MAKzB,YAAAc,YAAA,WACEV,KAAKP,UAAUkB,S,sCA9BNC,GAAuB,sB,uBAAvBA,EAAuB,gF,09BDZpC,gBACE,gBAA8B,qDAA0C,OAC1E,OAEA,8BAEA,uBAuBA,gC,MAzBa,mCAER,+EAuBS,+E,yDCtBd","file":"import-app-parts-component.695b00e8319f8f59ad98.js","sourcesContent":["<div mat-dialog-title>\r\n  <div class=\"dialog-title-box\">Import Content and Templates into this App</div>\r\n</div>\r\n\r\n<mat-spinner *ngIf=\"isImporting\" mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n\r\n<div *ngIf=\"!importResult || (importResult && !importResult.Messages)\">\r\n  <p class=\"dialog-description\">\r\n    Import content and templates from a content export (zip) or partial export (xml) to this app.\r\n    The entire content of the selected file will be imported.\r\n    If you want to import an entire app, go to the <em>App-Management</em>.\r\n    For further help visit <a href=\"http://2sxc.org/en/help?tag=import\" target=\"_blank\">2sxc Help</a>.\r\n  </p>\r\n\r\n  <div>\r\n    <button mat-raised-button matTooltip=\"Open file browser\" (click)=\"fileInput.click()\">\r\n      <span *ngIf=\"!importFile\">Select file</span>\r\n      <span *ngIf=\"importFile\">{{ importFile.name }}</span>\r\n    </button>\r\n    <input #fileInput type=\"file\" (change)=\"fileChange($event)\" class=\"hide\" />\r\n  </div>\r\n\r\n  <div class=\"dialog-component-actions\">\r\n    <button mat-raised-button [disabled]=\"isImporting\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button mat-raised-button color=\"accent\" [disabled]=\"!importFile || isImporting\"\r\n      (click)=\"importAppParts()\">Import</button>\r\n  </div>\r\n</div>\r\n\r\n<ng-container *ngIf=\"importResult && importResult.Messages && !isImporting\">\r\n  <div class=\"dialog-component-content fancy-scrollbar-light\">\r\n    <div *ngIf=\"importResult.Succeeded\" class=\"sxc-message sxc-message-info\">\r\n      The import has been done. See the messages below for more information.\r\n    </div>\r\n    <div *ngIf=\"!importResult.Succeeded\" class=\"sxc-message sxc-message-error\">\r\n      The import failed. See the messages below for more information.\r\n    </div>\r\n    <div *ngFor=\"let message of importResult.Messages\" class=\"sxc-message\" [ngClass]=\"{\r\n    'sxc-message-warning': message.MessageType === 0,\r\n    'sxc-message-success': message.MessageType === 1,\r\n    'sxc-message-error': message.MessageType === 2\r\n  }\">\r\n      {{ message.Text }}\r\n    </div>\r\n  </div>\r\n  <div class=\"dialog-component-actions\">\r\n    <button mat-raised-button color=\"accent\" (click)=\"closeDialog()\">Close</button>\r\n  </div>\r\n</ng-container>\r\n","import { Component, OnInit, HostBinding } from '@angular/core';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { ImportAppPartsService } from '../../services/import-app-parts.service';\r\nimport { ImportAppPartsResult } from '../../models/import-app-parts.model';\r\n\r\n@Component({\r\n  selector: 'app-import-app-parts',\r\n  templateUrl: './import-app-parts.component.html',\r\n  styleUrls: ['./import-app-parts.component.scss']\r\n})\r\nexport class ImportAppPartsComponent implements OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  importFile: File;\r\n  isImporting = false;\r\n  importResult: ImportAppPartsResult;\r\n\r\n  constructor(private dialogRef: MatDialogRef<ImportAppPartsComponent>, private importAppPartsService: ImportAppPartsService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  fileChange(event: Event) {\r\n    this.importFile = (event.target as HTMLInputElement).files[0];\r\n  }\r\n\r\n  importAppParts() {\r\n    this.isImporting = true;\r\n    this.importAppPartsService.importAppParts(this.importFile).subscribe({\r\n      next: result => {\r\n        this.importResult = result;\r\n        this.isImporting = false;\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this.isImporting = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}
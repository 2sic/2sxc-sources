"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_licence-info_license-info_ts-projects_eav-ui_src_app_-228c26"],{2903(x,E,e){e.d(E,{B:()=>f});var _=e(47441);class f extends _.l{_origin="program";setFocusOrigin(s){return this._origin=s,this}setActiveItem(s){super.setActiveItem(s),this.activeItem&&this.activeItem.focus(this._origin)}}},4979(x,E,e){e.d(E,{V:()=>p});var _=e(27092),f=e(56884);let p=(()=>{class s{constructor(){this.subscriptions=new _.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(u){return new(u||s)}}static{this.\u0275prov=f.jDH({token:s,factory:s.\u0275fac})}}return s})()},16256(x,E,e){e.d(E,{Y:()=>c,k:()=>T});var _=e(72102),f=e(5642),p=e(26306),s=e(56884),v=e(36124),m=e(37580),u=e(59504),R=e(66329),M=e(87432),y=e(63680);const n="mat-badge-content";let F=(()=>{class d{static \u0275fac=function(b){return new(b||d)};static \u0275cmp=v.VBU({type:d,selectors:[["ng-component"]],decls:0,vars:0,template:function(b,g){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}\n"],encapsulation:2,changeDetection:0})}return d})(),T=(()=>{class d{_ngZone=(0,s.WQX)(s.SKi);_elementRef=(0,s.WQX)(v.aKT);_ariaDescriber=(0,s.WQX)(_.vr);_renderer=(0,s.WQX)(v.sFG);_animationsDisabled=(0,M.Rc)();_idGenerator=(0,s.WQX)(p.g);get color(){return this._color}set color(o){this._setColor(o),this._color=o}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(o){this._updateRenderedContent(o)}_content;get description(){return this._description}set description(o){this._updateDescription(o)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=(0,s.WQX)(f.Z7);_document=(0,s.WQX)(s.qQL);constructor(){const o=(0,s.WQX)(u.l);o.load(F),o.load(R.Y)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const o=this._renderer.createElement("span"),b="mat-badge-active";return o.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),o.setAttribute("aria-hidden","true"),o.classList.add(n),this._animationsDisabled&&o.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(o),"function"!=typeof requestAnimationFrame||this._animationsDisabled?o.classList.add(b):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{o.classList.add(b)})}),o}_updateRenderedContent(o){const b=`${o??""}`.trim();this._isInitialized&&b&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=b),this._content=b}_updateDescription(o){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!o||this._isHostInteractive())&&this._removeInlineDescription(),this._description=o,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,o):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(o){const b=this._elementRef.nativeElement.classList;b.remove(`mat-badge-${this._color}`),o&&b.add(`mat-badge-${o}`)}_clearExistingBadges(){const o=this._elementRef.nativeElement.querySelectorAll(`:scope > .${n}`);for(const b of Array.from(o))b!==this._badgeElement&&b.remove()}static \u0275fac=function(b){return new(b||d)};static \u0275dir=v.FsC({type:d,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(b,g){2&b&&v.AVh("mat-badge-overlap",g.overlap)("mat-badge-above",g.isAbove())("mat-badge-below",!g.isAbove())("mat-badge-before",!g.isAfter())("mat-badge-after",g.isAfter())("mat-badge-small","small"===g.size)("mat-badge-medium","medium"===g.size)("mat-badge-large","large"===g.size)("mat-badge-hidden",g.hidden||!g.content)("mat-badge-disabled",g.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",m.L39],disabled:[2,"matBadgeDisabled","disabled",m.L39],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",m.L39]}})}return d})(),c=(()=>{class d{static \u0275fac=function(b){return new(b||d)};static \u0275mod=v.$C({type:d});static \u0275inj=s.G2t({imports:[f.Pd,y.jI]})}return d})()},24630(x,E,e){e.d(E,{O:()=>D});var _=e(37580),f=e(84175),p=e(87941),s=e(93840),v=e(90852),m=e(12938),u=e(69914),R=e(25081),M=e(67993),y=e(56884),n=e(36124),F=e(55326);function T(o,b){if(1&o&&(n.j41(0,"div",6)(1,"div",7),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",8)(5,"span"),n.EFF(6),n.nI1(7,"translate"),n.k0s()()()),2&o){const g=n.XpG(2);n.R7$(2),n.SpI("",n.bMT(3,2,"Features.Status"),":"),n.R7$(4),n.JRh(n.bMT(7,4,g.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function c(o,b){if(1&o){const g=n.RV6();n.j41(0,"div",6)(1,"div",7),n.EFF(2,"GUID:"),n.k0s(),n.j41(3,"div",12)(4,"span",9),n.bIt("click",function(){y.eBV(g);const O=n.XpG(2);return y.Njj(O.clipboard.copyToClipboard(O.feature().guid))}),n.EFF(5),n.k0s()()()}if(2&o){const g=n.XpG(2);n.R7$(5),n.JRh(g.feature().guid)}}function d(o,b){if(1&o){const g=n.RV6();n.j41(0,"div",0)(1,"div",1)(2,"div",2),n.EFF(3),n.k0s(),n.j41(4,"button",3),n.bIt("click",function(){y.eBV(g);const O=n.XpG();return y.Njj(O.closeDialog())}),n.j41(5,"mat-icon"),n.EFF(6,"close"),n.k0s()()(),n.j41(7,"div",4),n.nrm(8,"p",5),n.nI1(9,"safeHtml"),n.j41(10,"div",6)(11,"div",7),n.EFF(12,"ID:"),n.k0s(),n.j41(13,"div",8)(14,"span",9),n.bIt("click",function(){y.eBV(g);const O=n.XpG();return y.Njj(O.clipboard.copyToClipboard(O.feature().nameId))}),n.EFF(15),n.k0s()()(),n.nVh(16,T,8,6,"div",6),n.nVh(17,c,6,1,"div",6),n.j41(18,"div",6)(19,"div",7),n.EFF(20,"Security Rating:"),n.k0s(),n.j41(21,"div",8)(22,"span"),n.EFF(23),n.k0s()()()(),n.j41(24,"mat-dialog-actions",10)(25,"a",11)(26,"mat-icon"),n.EFF(27,"open_in_new"),n.k0s(),n.EFF(28," Find out more "),n.k0s()()()}if(2&o){const g=n.XpG();n.R7$(3),n.SpI(" ",g.feature().name," "),n.R7$(5),n.Y8G("innerHtml",n.bMT(9,7,g.feature().description),n.npT),n.R7$(7),n.JRh(g.feature().nameId),n.R7$(),n.vxM(g.mySpecs().showStatus?16:-1),n.R7$(),n.vxM(g.mySpecs().showGuid?17:-1),n.R7$(6),n.JRh(g.feature().security.Impact+": "+g.feature().security.Message),n.R7$(2),n.Y8G("href",g.feature().link,n.B4B)}}let D=(()=>{class o{constructor(g,I){this.dialogSpecs=g,this.dialog=I,this.specs=(0,_.hFB)(),this.mySpecs=(0,M.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,M.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,m.d)(R.W)}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(I){return new(I||o)(n.rXU(p.Vh,8),n.rXU(p.CP))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},decls:1,vars:1,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","",3,"href"],[1,"eav-info-row__value","eav_click"]],template:function(I,O){1&I&&n.nVh(0,d,29,9,"div",0),2&I&&n.vxM(O.feature()?0:-1)},dependencies:[f.Hl,f.$z,F.iY,s.m_,s.An,v.h,p.E7,u.$,v.D9],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#465da3!important}"]})}}return o})()},24950(x,E,e){e.d(E,{RG:()=>m});var _=e(80423),f=e(63680),p=e(39539),s=e(56884),v=e(36124);let m=(()=>{class u{static \u0275fac=function(y){return new(y||u)};static \u0275mod=v.$C({type:u});static \u0275inj=s.G2t({imports:[p.w5,_.rl,f.jI]})}return u})()},25081(x,E,e){e.d(E,{W:()=>s});var _=e(70519),f=e(56884),p=e(3347);let s=(()=>{class v{constructor(u){this.snackBar=u}copyToClipboard(u){(0,_.l)(u),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static{this.\u0275fac=function(R){return new(R||v)(f.KVO(p.UG))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},30281(x,E,e){e.d(E,{$:()=>p});var _=e(27092),f=e(36124);let p=(()=>{class s{constructor(){this.subscriptions=new _.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(u){return new(u||s)}}static{this.\u0275cmp=f.VBU({type:s,selectors:[["app-base"]],decls:0,vars:0,template:function(u,R){},encapsulation:2})}}return s})()},54297(x,E,e){e.d(E,{e:()=>p});var _=e(56884);let p=(()=>{class s{isErrorState(m,u){return!!(m&&m.invalid&&(m.touched||u&&u.submitted))}static \u0275fac=function(u){return new(u||s)};static \u0275prov=_.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},54612(x,E,e){e.d(E,{X:()=>_});class _{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(p,s,v,m,u){this._defaultMatcher=p,this.ngControl=s,this._parentFormGroup=v,this._parentForm=m,this._stateChanges=u}updateErrorState(){const p=this.errorState,s=this._parentFormGroup||this._parentForm,v=this.matcher||this._defaultMatcher,m=this.ngControl?this.ngControl.control:null,u=v?.isErrorState(m,s)??!1;u!==p&&(this.errorState=u,this._stateChanges.next())}}},60852(x,E,e){e.d(E,{c:()=>n});var _=e(69393),f=e(51567),p=e(70271),s=e(5057),v=e(63037),m=e(98764),u=e(34435),R=e(4979),M=e(56884);const y={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let n=(()=>{class F extends R.V{constructor(c,d){super(),this.router=c,this.route=d,this.log=(0,u.Tq)({DialogRoutingService:F},y)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(c){return this.route.snapshot.paramMap.get(c)}getParams(c){const d=this.route.snapshot.paramMap;return c.reduce((D,o)=>(D[o]=d.get(o),D),{})}getQueryParam(c){return this.route.snapshot.queryParamMap.get(c)}getQueryParams(c){const d=this.route.snapshot.queryParamMap;return c.reduce((D,o)=>(D[o]=d.get(o),D),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(c){const d=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(D=>(d.a("Dialog closed",{data:D}),c()))),d.end()}doOnDialogClosedWithData(c){const d=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#t().subscribe(({state:D})=>{d.a("Dialog closed",{state:D}),c(D)})),d.end()}urlSubRoute(c){const d=this.router.createUrlTree([c],{relativeTo:this.route});return this.router.serializeUrl(d)}navPath(c,d){return this.router.navigate([c],d)}navRelative(c,d){return this.router.navigate(c,{...d,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,f.p)(c=>c instanceof _.wF),(0,v.Z)(!!this.route.snapshot.firstChild),(0,p.T)(()=>!!this.route.snapshot.firstChild),(0,s.J)(),(0,f.p)(([c,d])=>c&&!d))}#t(){return this.router.events.pipe((0,f.p)(c=>c instanceof _.wF),(0,m.M)(c=>{const d=this.log.fn("childDialogClosed$",{event:c,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});d.a("NavigationEnd",{event:c}),d.end()}),(0,v.Z)(!!this.route.snapshot.firstChild),(0,p.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,s.J)(),(0,f.p)(([c,d])=>c.hasChildNow&&!d.hasChildNow),(0,p.T)(([c,d])=>({hadChildBefore:c.hasChildNow,hasChildNow:d.hasChildNow,state:d.state})))}static{this.\u0275fac=function(d){return new(d||F)(M.KVO(_.Ix),M.KVO(_.nX))}}static{this.\u0275prov=M.jDH({token:F,factory:F.\u0275fac})}}return F})()},69914(x,E,e){e.d(E,{$:()=>p});var _=e(36124),f=e(80436);let p=(()=>{class s{constructor(m){this.sanitizer=m}transform(m){return this.sanitizer.bypassSecurityTrustHtml(m)}static{this.\u0275fac=function(u){return new(u||s)(_.rXU(f.up,16))}}static{this.\u0275pipe=_.EJ8({name:"safeHtml",type:s,pure:!0})}}return s})()},88549(x,E,e){e.d(E,{LicenseInfoComponent:()=>lt});var _=e(1937),f=e(60184),p=e(79748),s=e(56884),v=e(36664),m=e(34456),u=e(84175),R=e(87941),M=e(90353),y=e(24950),n=e(93840),F=e(59791),T=e(69393),c=e(61873),d=e(12938);class D{static expandFeature(C){return{...C,...D.getExpiration(C?.expiration)}}static expandLicense(C){try{const a=C?.Features?.map(r=>r.expiration).sort()[0];return null==a?C:{...C,...D.getExpiration(a)}}catch{return C}}static getExpiration(C){const a=(h,P)=>({ExpMessage:(null!=h?h+" ":"")+P,ExpIcon:h,ExpWarningIcon:"\u2705"!=h?h:null}),i=C?.split("T")[0];if(null==i)return a(null,null);if(i.startsWith("9999"))return a("\u2705","never");const r=new Date(i);return r<new Date?a("\u{1f6d1}","expired"):r.toDateString()===(new Date).toDateString()?a("\u26a0\ufe0f","today"):r.toDateString()===new Date((new Date).setDate((new Date).getDate()+1)).toDateString()?a("\u26a0\ufe0f","tomorrow"):r<new Date((new Date).setDate((new Date).getDate()+30))?a("\u26a0\ufe0f",i):i.endsWith("12-31")?a("\u2705",`EOY ${i.split("-")[0]}`):a("\u2753",i)}}var o=e(11828),b=e(17401),g=e(90619),I=e(60251),O=e(34601),z=e(92324),w=e(30056),k=e(67037),K=e(60852),G=e(39431),N=e(33992),t=e(36124);let $=(()=>{class l{transform(a){return`${a.Features.filter(i=>i.isEnabled).length}/${a.Features.length}`}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275pipe=t.EJ8({name:"activeFeaturesCount",type:l,pure:!0})}}return l})();var B=e(37580);let V=(()=>{class l{constructor(a){this.itemsCount=(0,B.hFB)(0),this.headerHeight=(0,B.hFB)(32),this.rowHeight=(0,B.hFB)(48),this.maxRows=(0,B.hFB)(100),this.extraHeight=2,this.element=a.nativeElement}ngOnChanges(a){if(null!=a.itemsCount){const i=0===this.itemsCount()?2:this.itemsCount()>this.maxRows()?this.maxRows():this.itemsCount();this.element.style.height=`${this.headerHeight()+i*this.rowHeight()+this.extraHeight}px`}}static{this.\u0275fac=function(i){return new(i||l)(t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:l,selectors:[["","appAgGridHeight",""]],inputs:{itemsCount:[1,"itemsCount"],headerHeight:[1,"headerHeight"],rowHeight:[1,"rowHeight"],maxRows:[1,"maxRows"]},features:[t.OA$]})}}return l})();var H=e(24630);let X=(()=>{class l{agInit(a){this.value=a.value,this.feature=a.data}refresh(a){return!0}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-features-list-enabled-reason"]],decls:2,vars:2,consts:[[3,"tippy"]],template:function(i,r){1&i&&(t.j41(0,"div",0),t.EFF(1),t.k0s()),2&i&&(t.Y8G("tippy",r.feature.enabledReasonDetailed),t.R7$(),t.JRh(r.value))},dependencies:[O.e],encapsulation:2})}}return l})();var W=e(16256),Q=e(85309),J=e(17828);function Y(l,C){if(1&l&&(t.j41(0,"mat-icon",3),t.EFF(1,"settings"),t.k0s()),2&l){const a=t.XpG(2);t.Y8G("matBadge",a.badgeValue)}}function Z(l,C){1&l&&(t.j41(0,"mat-icon"),t.EFF(1,"settings"),t.k0s())}function q(l,C){if(1&l){const a=t.RV6();t.j41(0,"a",2),t.bIt("click",function(){s.eBV(a);const r=t.XpG();return s.Njj(r.openSettings())}),t.nVh(1,Y,2,1,"mat-icon",3)(2,Z,2,0,"mat-icon"),t.k0s()}if(2&l){const a=t.XpG();t.R7$(),t.vxM(a.badgeValue>0?1:2)}}let tt=(()=>{class l{constructor(){this.router=(0,s.WQX)(T.Ix)}agInit(a){this.params=a,this.value=a.value,this.configurationContentType=a.data.configurationContentType,this.contentType=a.data,this.configurationData=a.data?.configuration,this.badgeValue=this.configurationData&&Object.keys(this.configurationData).length>0?1:0}refresh(a){return!0}openSettings(){const a={guid:this.contentType.guid,enabled:this.contentType.enabledInConfiguration,...this.configurationData??{}},i=this.params.getSettingsUrl(this.contentType,a),h=(i.startsWith("#")||i.startsWith("/")?i.substring(1):i).split("/");this.router.navigate(h)}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-features-list-settings"]],decls:4,vars:2,consts:[[1,"icon-container"],["matRipple","","tippy","Open Settings",1,"eav-grid-action-button","default-link","highlight"],["matRipple","","tippy","Open Settings",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matBadgePosition","below after","matBadgeSize","small",3,"matBadge"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"mat-icon"),t.EFF(2),t.k0s(),t.nVh(3,q,3,1,"a",1),t.k0s()),2&i&&(t.R7$(2),t.JRh(r.value?"check_box":"check_box_outline_blank"),t.R7$(),t.vxM(r.configurationContentType?3:-1))},dependencies:[n.m_,n.An,W.Y,W.k,Q.p,J.r6,O.e],styles:["[_nghost-%COMP%]     .mat-badge-content{background-color:gray!important}"]})}}return l})();var S=e(8827);const et=(l,C)=>({"toggle-false":l,"toggle-null":C});let at=(()=>{class l{agInit(a){this.params=a,this.value=a.value,this.disabled=a.isDisabled(a.data),this.tooltip=a.tooltipGetter(a.data)}refresh(a){return this.disabled=this.params.isDisabled(this.params.data),!0}toggle(){const a=this.params.data;let i;switch(this.value){case!1:i=null;break;case null:i=!0;break;case!0:i=!1}this.value=i,this.params.onToggle(a,i)}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-features-status"]],decls:1,vars:7,consts:[[3,"change","checked","tippy","disabled","ngClass"]],template:function(i,r){1&i&&(t.j41(0,"mat-slide-toggle",0),t.bIt("change",function(){return r.toggle()}),t.k0s()),2&i&&t.Y8G("checked",r.value)("tippy",r.tooltip)("disabled",r.disabled)("ngClass",t.l_i(4,et,!1===r.value,null===r.value))},dependencies:[S.mV,S.sG,p.YU,O.e],styles:["[_nghost-%COMP%]{height:100%;display:flex;padding-left:12px;padding-right:12px;align-items:center}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{padding-top:0}  .toggle-false.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:orange!important}  .toggle-null .mdc-switch__handle{margin-left:8px}"]})}}return l})(),nt=(()=>{class l{transform(a){return Array.isArray(a)?[...a].sort((r,h)=>r.Priority<h.Priority?-1:r.Priority>h.Priority?1:0):a}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275pipe=t.EJ8({name:"licensesOrder",type:l,pure:!0})}}return l})();var it=e(58857),j=e(80423);const st=l=>({expanded:l});function ot(l,C){if(1&l&&t.nrm(0,"ag-grid-angular",15),2&l){const a=t.XpG().$implicit,i=t.XpG();t.Y8G("rowData",a.filteredFeatures)("gridOptions",i.gridOptions)("itemsCount",null==a.filteredFeatures?null:a.filteredFeatures.length)}}function rt(l,C){if(1&l&&(t.j41(0,"mat-expansion-panel",null,0)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon",11),t.EFF(5),t.k0s(),t.j41(6,"div")(7,"div",12)(8,"span"),t.EFF(9),t.k0s(),t.j41(10,"span",13),t.EFF(11),t.nI1(12,"activeFeaturesCount"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()(),t.j41(15,"div",14),t.EFF(16),t.k0s()()()(),t.nVh(17,ot,1,3,"ag-grid-angular",15),t.k0s()),2&l){const a=C.$implicit,i=t.sdS(1);t.R7$(4),t.Y8G("tippy",a.IsEnabled?"License is active":"License is not active"),t.R7$(),t.JRh(a.IsEnabled?"check_circle_outline":"cancel"),t.R7$(4),t.JRh(a.Name),t.R7$(2),t.JRh(t.bMT(12,8,a)),t.R7$(3),t.SpI(" ",a.ExpWarningIcon),t.R7$(),t.Y8G("ngClass",t.eq3(10,st,i.expanded)),t.R7$(),t.SpI(" ",a.Description," "),t.R7$(),t.vxM(i.expanded?17:-1)}}let lt=(()=>{class l{#t;#e;#a;#i;#s;constructor(a,i,r){this.matDialog=a,this.viewContainerRef=i,this.changeDetectorRef=r,this.gridOptions=this.#c(),this.#t=(0,d.d)(N.b),this.#e=(0,d.d)(K.c),this.isDebug=(0,s.WQX)(G.B).isDebug,this.router=(0,s.WQX)(T.Ix),this.#a=(0,s.vPA)(!1),this.#i=(0,s.vPA)(0),this.#s=(0,s.vPA)(""),this.licenses=(0,v.uu)({source:this.#t.getLicensesLive(this.#i).value,computation:(h,P)=>h?h.map(A=>({...D.expandLicense(A),Features:A.Features.map(U=>D.expandFeature(U)),filteredFeatures:A.Features.map(U=>D.expandFeature(U))})):P?.value??[]}),this.filteredLicenses=(0,s.vPA)(null),f.syG.registerModules([_.Q]),(0,s.QZP)(()=>{this.applyFilter()})}ngOnInit(){this.#e.doOnDialogClosedWithData(a=>{if(a?.data){const{guid:i,enabled:r,...h}=a.data;this.#t.saveFeatures([{FeatureGuid:i,Enabled:r,Configuration:h}]).subscribe(()=>this.#n(100))}else this.#n(0)})}#n(a){setTimeout(()=>{this.#i.update(i=>++i),this.#a.set(!1)},a)}trackLicenses(a,i){return i.Guid}openRegistration(){const a=this.#e.router;a.navigate([a.url.replace("license","")+"/registration"])}#o(a){this.matDialog.open(H.O,{autoFocus:!1,data:{feature:a,showGuid:!0,showStatus:!0},viewContainerRef:this.viewContainerRef,width:"600px"}),this.changeDetectorRef.markForCheck()}#r(a,i){this.#a.set(!0),(0,c.p)([this.#t.saveFeatures([{FeatureGuid:a.guid,Enabled:i}])]).subscribe({next:()=>this.#n(100),error:()=>this.#n(100)})}filterLicenses(a){const r=a.target.value.toLowerCase();this.#s.set(r),r||this.closeAllPanels(),this.applyFilter()}applyFilter(){const a=this.licenses(),i=this.#s();if(!i){const h=a.map(P=>({...P,filteredFeatures:P.Features}));return void this.filteredLicenses.set(h)}this.openAllPanels();const r=a.map(h=>{const P=h.Features.filter(L=>L.name.toLowerCase().includes(i)||L.nameId.toLowerCase().includes(i));return{...h,filteredFeatures:P}});this.filteredLicenses.set(r.filter(h=>h.Name.toLowerCase().includes(i)||h.filteredFeatures.length>0))}openAllPanels(){this.accordion&&this.accordion.openAll()}closeAllPanels(){this.accordion&&this.accordion.closeAll()}#l(a){return"#"+this.#e.urlSubRoute(a)}#d(a,i){return(0,z.s)({items:[w.H.newJsonFromType(a.configurationContentType,i)]})}#c(){return{...I.C,columnDefs:[{...o.r.TextWideMin100,headerName:"ID",field:"nameId",width:200,cellClass:"no-outline",cellRenderer:g.L,cellRendererParams:{tooltipGetter:r=>r.nameId}},{...o.r.TextWideMin100,headerName:"Name",field:"name",cellClass:[..."primary-action highlight".split(" "),"no-outline"],onCellClicked:i=>{this.#o(i.data)}},{headerName:"Enabled",field:"isEnabled",width:82,cellClass:"no-outline",headerClass:"dense",sortable:!0,filter:b.y,cellRenderer:tt,cellRendererParams:{getSettingsUrl:(i,r)=>this.#l(`edit/${this.#d(i,r)}`)}},{...o.r.TextNarrow,headerName:"Reason",field:"enabledReason",cellRenderer:X},{...o.r.ItemsText,headerName:"Expiration",field:"ExpMessage",sortable:!1,width:80,tooltipValueGetter:i=>i.data?.expiration},{...o.r.ActionsPinnedRight6,cellClass:"no-outline",headerName:"",field:"enabledInConfiguration",cellRenderer:at,cellRendererParams:()=>({isDisabled:r=>!r.isConfigurable||this.#a(),onToggle:(r,h)=>this.#r(r,h),tooltipGetter:r=>r.isConfigurable?"Toggle off | default | on":"This feature can't be configured"})}]}}static{this.\u0275fac=function(i){return new(i||l)(t.rXU(R.bZ),t.rXU(t.c1b),t.rXU(B.gRc))}}static{this.\u0275cmp=t.VBU({type:l,selectors:[["app-license-info"]],viewQuery:function(i,r){if(1&i&&t.GBs(M.BS,5),2&i){let h;t.mGM(h=t.lsd())&&(r.accordion=h.first)}},decls:26,vars:2,consts:[["panel",""],[1,"license-info-menu"],["mat-button","outlined","tippy","Open All Licenses",3,"click"],[1,"eav-icon"],["mat-button","outlined","tippy","Close All Licenses",3,"click"],[1,"search-form"],["color","accent"],["matInput","","placeholder","Lightspeed",3,"input"],["multi",""],["align","start"],["mat-button","","tippy","Registration",1,"eav-button__with-icon",3,"click"],[1,"panel-icon",3,"tippy"],[1,"panel-title"],[1,"active-features-count"],[1,"panel-description",3,"ngClass"],["appAgGridHeight","",1,"ag-theme-material",3,"rowData","gridOptions","itemsCount"]],template:function(i,r){1&i&&(t.j41(0,"div",1)(1,"div")(2,"button",2),t.bIt("click",function(){return r.openAllPanels()}),t.EFF(3," Expand All "),t.j41(4,"mat-icon",3),t.EFF(5,"expand_all"),t.k0s()(),t.j41(6,"button",4),t.bIt("click",function(){return r.closeAllPanels()}),t.EFF(7," Collapse All "),t.j41(8,"mat-icon",3),t.EFF(9,"collapse_all"),t.k0s()()(),t.j41(10,"form",5)(11,"mat-form-field",6)(12,"mat-label"),t.EFF(13,"Search"),t.k0s(),t.j41(14,"input",7),t.bIt("input",function(P){return r.filterLicenses(P)}),t.k0s()()()(),t.j41(15,"mat-accordion",8),t.Z7z(16,rt,18,12,"mat-expansion-panel",null,r.trackLicenses,!0),t.nI1(18,"licensesOrder"),t.k0s(),t.j41(19,"mat-dialog-actions",9)(20,"button",10),t.bIt("click",function(){return r.openRegistration()}),t.j41(21,"mat-icon",3),t.EFF(22,"app_registration"),t.k0s(),t.j41(23,"span"),t.EFF(24,"Registration"),t.k0s()()(),t.nrm(25,"router-outlet")),2&i&&(t.R7$(16),t.Dyx(t.bMT(18,0,r.filteredLicenses())))},dependencies:[M.MY,M.BS,M.GK,M.Z2,M.WN,n.m_,n.An,p.YU,k.p,it.xs,V,R.E7,u.Hl,u.$z,T.n3,O.e,m.YN,m.qT,m.cb,m.cV,y.RG,j.rl,j.nJ,F.fS,F.fg,nt,$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;position:relative}.license-info-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:#e5e5e5 solid 1px}.license-info-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}.license-info-menu[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{justify-content:end}mat-accordion[_ngcontent-%COMP%]{flex:1;overflow:auto;width:100%}mat-dialog-actions[_ngcontent-%COMP%]{border-top:#e5e5e5 solid 1px}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content{max-height:100%}.panel-icon[_ngcontent-%COMP%]{margin-right:16px;min-width:22px}.panel-title[_ngcontent-%COMP%]{font-size:14px}.active-features-count[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;font-size:12px;border-radius:12px;padding:2px 6px;border:1px solid rgba(29,39,61,.44);box-sizing:border-box;-webkit-user-select:none;user-select:none;white-space:nowrap}.panel-description[_ngcontent-%COMP%]{padding-top:4px;font-size:12px;color:#0000008a;overflow:hidden;text-overflow:ellipsis;max-height:1em;line-height:1em}.panel-description.expanded[_ngcontent-%COMP%]{max-height:3em}.eav-button__with-icon[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px}"]})}}return l})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.02/dist/ng-edit/projects_eav-ui_src_app_apps-management_licence-info_license-info_ts-projects_eav-ui_src_app_-228c26.e5c798c8156f45ef.js.map
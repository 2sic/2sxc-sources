"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-node_modules_angular_mater-1e3200"],{4979(w,I,o){o.d(I,{V:()=>b});var F=o(27092),r=o(56884);let b=(()=>{class c{constructor(){this.subscriptions=new F.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(y){return new(y||c)}}static{this.\u0275prov=r.jDH({token:c,factory:c.\u0275fac})}}return c})()},17042(w,I,o){o.d(I,{v:()=>p});var F=o(58857),r=o(37580),b=o(56884),c=o(36124),C=o(87941);const u=["gridWrapper"],y=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],x=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let p=(()=>{class S{constructor(){this.gridWrapper=(0,r.ebz)("gridWrapper",{read:c.aKT}),this.agGrid=(0,r.sbv)(F.xs,{read:c.aKT}),this.dialogAction=(0,r.sbv)(C.E7,{read:c.aKT}),this.helpText=r.hFB.required({}),this.refresh=r.hFB.required(),this.rowLength=r.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,b.QZP)(()=>{this.refresh();const v=this.rowLength(),h=this.gridWrapper()?.nativeElement;h&&(0,b.O8t)(()=>this.#t(h,v))})}#t(M,v){const h=this.agGrid()?.nativeElement,m=this.dialogAction()?.nativeElement,f=M.querySelector(".help-info-card");setTimeout(()=>{if(f.classList.toggle("center-center",0===v),!h||!m)return;f.style.flex="";const _=this.#e(M,h,m,f,v);h.style.flex=_.rowHeight?`0 0 ${_.agGridHeight}px`:"0px";const A=document.querySelector(".mat-sidenav-content"),H=document.querySelector(".mat-mdc-dialog-container"),$=(document.querySelector(".nav-component-wrapper")?H:A).clientHeight-_.dialogHeaderHeight-_.dialogActionHeight-2;h.style.maxHeight=`${$}px`;const N=_.helpCardHeight+_.agGridHeight+_.dialogActionHeight+_.dialogHeaderHeight>_.wrapperHeight;f.style.flex="1 1 auto",f?.classList.toggle("hidden-help-info-card",N)},0)}#e(M,v,h,m,f){const _=v.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:_,agGridHeight:this.GRID_HEADER_HEIGHT+f*_,helpCardHeight:m.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:h.offsetHeight,dialogHeaderHeight:M.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:M.offsetHeight}}static{this.\u0275fac=function(v){return new(v||S)}}static{this.\u0275cmp=c.VBU({type:S,selectors:[["app-grid-with-help"]],contentQueries:function(v,h,m){1&v&&c.C6U(m,h.agGrid,F.xs,5,c.aKT)(m,h.dialogAction,C.E7,5,c.aKT),2&v&&c.NyB(2)},viewQuery:function(v,h){1&v&&c.wEZ(h.gridWrapper,u,5,c.aKT),2&v&&c.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:x,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(v,h){1&v&&(c.NAR(y),c.rj2(0,"div",1,0),c.SdG(2),c.SdG(3,1),c.SdG(4,2),c.rj2(5,"div",2)(6,"div",3),c.Hgh(7,"span",4)(8,"span",4),c.eux()(),c.SdG(9,3),c.eux()),2&v&&(c.R7$(7),c.Avn("innerHTML",h.helpText().description,c.npT),c.R7$(),c.Avn("innerHTML",h.helpText().hint,c.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return S})()},21183(w,I,o){o.d(I,{f:()=>F});class F{static cellLink(b,c,C){return`<a class="default-link fill-cell ${C}" href="${b}">${c}</a>`}}},24950(w,I,o){o.d(I,{RG:()=>u});var F=o(80423),r=o(63680),b=o(39539),c=o(56884),C=o(36124);let u=(()=>{class y{static \u0275fac=function(S){return new(S||y)};static \u0275mod=C.$C({type:y});static \u0275inj=c.G2t({imports:[b.w5,F.rl,r.jI]})}return y})()},25286(w,I,o){o.d(I,{F:()=>M});var F=o(56884),r=o(84175),b=o(87941),c=o(93840),C=o(3347),u=o(32760),y=o(63628),x=o(69914),p=o(36124),S=o(55326);function G(v,h){if(1&v&&(p.nrm(0,"p",5),p.nI1(1,"safeHtml")),2&v){const m=p.XpG();p.Y8G("innerHtml",p.bMT(1,1,m.dialogData.message),p.npT)}}let M=(()=>{class v{#t;constructor(m,f){this.dialogData=m,this.dialog=f,this.hostClass="dialog-component",this.#t=(0,F.WQX)(C.UG)}ngOnInit(){this.dialogData.hasDeleteSnackbar&&this.#t.open("Deleting...",void 0,{duration:5e3}),this.#e()}#e(){this.dialog.keydownEvents().subscribe(m=>{(0,u.YU)(m)&&(m.preventDefault(),this.dialog.close(!0))})}closeDialog(m){this.#t.dismiss(),m?this.dialog.close(m):this.dialog.close()}saveAndClose(m){this.closeDialog(m),this.dialogData.hasDeleteSnackbar&&this.#t.dismiss()}static{this.\u0275fac=function(f){return new(f||v)(p.rXU(b.Vh),p.rXU(b.CP))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["app-confirm-delete-dialog"]],hostVars:1,hostBindings:function(f,_){2&f&&p.Avn("className",_.hostClass)},decls:11,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],["align","end"],[3,"action","label"]],template:function(f,_){1&f&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2),p.EFF(3),p.k0s(),p.j41(4,"button",3),p.bIt("click",function(){return _.closeDialog()}),p.j41(5,"mat-icon"),p.EFF(6,"close"),p.k0s()()(),p.j41(7,"div",4),p.nVh(8,G,2,3,"p",5),p.k0s(),p.j41(9,"mat-dialog-actions",6)(10,"app-save-close-button-fab",7),p.bIt("action",function(){return _.saveAndClose(!0)}),p.k0s()()()),2&f&&(p.R7$(3),p.E5c(" ",_.dialogData.title??"Delete"," ",_.dialogData.entityTitle," (",_.dialogData.entityId,") "),p.R7$(5),p.vxM(_.dialogData.message?8:-1),p.R7$(2),p.Y8G("label","Delete and close (ctrl + enter)"))},dependencies:[r.Hl,S.iY,c.m_,c.An,b.E7,y.i,x.$],styles:[".eav-card-action-button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return v})()},53777(w,I,o){o.d(I,{Hu:()=>Y,Lc:()=>h,MM:()=>f,QG:()=>N,RN:()=>S,YY:()=>m,dh:()=>G,m2:()=>v});var F=o(56884),r=o(36124),b=o(63680);const c=["*"],y=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],x=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],p=new F.nKC("MAT_CARD_CONFIG");let S=(()=>{class l{appearance;constructor(){const T=(0,F.WQX)(p,{optional:!0});this.appearance=T?.appearance||"raised"}static \u0275fac=function(g){return new(g||l)};static \u0275cmp=r.VBU({type:l,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(g,j){2&g&&r.AVh("mat-mdc-card-outlined","outlined"===j.appearance)("mdc-card--outlined","outlined"===j.appearance)("mat-mdc-card-filled","filled"===j.appearance)("mdc-card--filled","filled"===j.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:c,decls:1,vars:0,template:function(g,j){1&g&&(r.NAR(),r.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\n'],encapsulation:2,changeDetection:0})}return l})(),G=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275dir=r.FsC({type:l,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return l})(),v=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275dir=r.FsC({type:l,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return l})(),h=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275dir=r.FsC({type:l,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return l})(),m=(()=>{class l{align="start";static \u0275fac=function(g){return new(g||l)};static \u0275dir=r.FsC({type:l,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(g,j){2&g&&r.AVh("mat-mdc-card-actions-align-end","end"===j.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return l})(),f=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275cmp=r.VBU({type:l,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:x,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(g,j){1&g&&(r.NAR(y),r.SdG(0),r.rj2(1,"div",0),r.SdG(2,1),r.eux(),r.SdG(3,2))},encapsulation:2,changeDetection:0})}return l})(),N=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275dir=r.FsC({type:l,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return l})(),Y=(()=>{class l{static \u0275fac=function(g){return new(g||l)};static \u0275mod=r.$C({type:l});static \u0275inj=F.G2t({imports:[b.jI]})}return l})()},54297(w,I,o){o.d(I,{e:()=>b});var F=o(56884);let b=(()=>{class c{isErrorState(u,y){return!!(u&&u.invalid&&(u.touched||y&&y.submitted))}static \u0275fac=function(y){return new(y||c)};static \u0275prov=F.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},54612(w,I,o){o.d(I,{X:()=>F});class F{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(b,c,C,u,y){this._defaultMatcher=b,this.ngControl=c,this._parentFormGroup=C,this._parentForm=u,this._stateChanges=y}updateErrorState(){const b=this.errorState,c=this._parentFormGroup||this._parentForm,C=this.matcher||this._defaultMatcher,u=this.ngControl?this.ngControl.control:null,y=C?.isErrorState(u,c)??!1;y!==b&&(this.errorState=y,this._stateChanges.next())}}},60852(w,I,o){o.d(I,{c:()=>G});var F=o(69393),r=o(51567),b=o(70271),c=o(5057),C=o(63037),u=o(98764),y=o(34435),x=o(4979),p=o(56884);const S={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let G=(()=>{class M extends x.V{constructor(h,m){super(),this.router=h,this.route=m,this.log=(0,y.Tq)({DialogRoutingService:M},S)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(h){return this.route.snapshot.paramMap.get(h)}getParams(h){const m=this.route.snapshot.paramMap;return h.reduce((f,_)=>(f[_]=m.get(_),f),{})}getQueryParam(h){return this.route.snapshot.queryParamMap.get(h)}getQueryParams(h){const m=this.route.snapshot.queryParamMap;return h.reduce((f,_)=>(f[_]=m.get(_),f),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(h){const m=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(f=>(m.a("Dialog closed",{data:f}),h()))),m.end()}doOnDialogClosedWithData(h){const m=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#t().subscribe(({state:f})=>{m.a("Dialog closed",{state:f}),h(f)})),m.end()}urlSubRoute(h){const m=this.router.createUrlTree([h],{relativeTo:this.route});return this.router.serializeUrl(m)}navPath(h,m){return this.router.navigate([h],m)}navRelative(h,m){return this.router.navigate(h,{...m,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,r.p)(h=>h instanceof F.wF),(0,C.Z)(!!this.route.snapshot.firstChild),(0,b.T)(()=>!!this.route.snapshot.firstChild),(0,c.J)(),(0,r.p)(([h,m])=>h&&!m))}#t(){return this.router.events.pipe((0,r.p)(h=>h instanceof F.wF),(0,u.M)(h=>{const m=this.log.fn("childDialogClosed$",{event:h,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});m.a("NavigationEnd",{event:h}),m.end()}),(0,C.Z)(!!this.route.snapshot.firstChild),(0,b.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,c.J)(),(0,r.p)(([h,m])=>h.hasChildNow&&!m.hasChildNow),(0,b.T)(([h,m])=>({hadChildBefore:h.hasChildNow,hasChildNow:m.hasChildNow,state:m.state})))}static{this.\u0275fac=function(m){return new(m||M)(p.KVO(F.Ix),p.KVO(F.nX))}}static{this.\u0275prov=p.jDH({token:M,factory:M.\u0275fac})}}return M})()},90294(w,I,o){o.r(I),o.d(I,{ContentTypeFieldsComponent:()=>Ke});var F=o(79748),r=o(56884),b=o(36664),c=o(84175),C=o(87941),u=o(93840),y=o(69393),x=o(90852),p=o(12938),S=o(17693),G=o(25286),M=o(93454),v=o(72437),h=o(21183),m=o(11828),f=o(17042),_=o(60251),A=o(50052),H=o(95699),B=o(78742),O=o(51612),$=o(92324),N=o(30056),z=o(67037),Y=o(60852),l=o(16256),Q=o(85309),T=o(31034),g=o(34601),j=o(1726),lt=o(4202),t=o(36124),J=o(17828);function dt(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.do("shareOrInherit"))}),t.j41(1,"mat-icon",12),t.EFF(2),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("tippy",e.shareText()),t.R7$(2),t.SpI(" ",e.shareOrInheritIcon()," ")}}function ct(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.do("shareOrInherit"))}),t.j41(1,"mat-icon",14),t.EFF(2," share "),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("tippy",e.shareText())}}function mt(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.do("rename"))}),t.j41(1,"mat-icon"),t.EFF(2,"text_fields"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Rename"),t.k0s()(),t.j41(5,"button",15),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.do("delete"))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Delete"),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("disabled",e.field.EditInfo.DisableRename),t.R7$(5),t.Y8G("disabled",e.field.EditInfo.DisableDelete||e.field.IsTitle)}}let ht=(()=>{class i{agInit(e){this.params=e,this.field=this.params.data;const a=this.field.EditInfo.DisableEdit;this.enablePermissions=!a&&(this.field.InputType===lt.u.StringWysiwyg||this.field.Type===j.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(n=>"merged"!==n).length:0,this.enableImageConfig=!a&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(e){return e?"highlight":"disabled"}shareText(){const e="click to configure sharing",a=this.field.SysSettings;return a?a.Share?"shared enabled as "+this.field.Guid:a.InheritMetadataOf?"inherits "+a.InheritMetadataOf:e:e}shareOrInheritIcon(){const e=this.field.SysSettings;return e?e.Share?"share":e.InheritMetadataOf?"adjust":"":""}refresh(e){return!0}do(e){this.params.do(e,this.field)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields-actions"]],decls:18,vars:24,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(a,n){if(1&a){const d=t.RV6();t.j41(0,"div",1)(1,"div",2),t.bIt("click",function(){return r.eBV(d),r.Njj(n.enableMetadata?n.do("metadata"):"")}),t.j41(2,"mat-icon",3),t.EFF(3,"local_offer"),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(){return r.eBV(d),r.Njj(n.enableImageConfig?n.do("image"):"")}),t.j41(5,"mat-icon",5),t.EFF(6,"filter_center_focus"),t.k0s()(),t.j41(7,"div",4),t.bIt("click",function(){return r.eBV(d),r.Njj(n.enablePermissions?n.do("permissions"):"")}),t.j41(8,"mat-icon",3),t.EFF(9,"person"),t.k0s()(),t.nVh(10,dt,3,2,"div",6)(11,ct,3,1,"div",7),t.j41(12,"div",8)(13,"mat-icon"),t.EFF(14,"more_horiz"),t.k0s()()(),t.j41(15,"mat-menu",9,0),t.DNE(17,mt,10,2,"ng-template",10),t.k0s()}if(2&a){const d=t.sdS(16);t.R7$(),t.HbH(t.VkB("eav-grid-action-button ",n.highlightOrDisabled(n.enableMetadata))),t.R7$(),t.Y8G("matBadge",n.metadataCount)("matBadgeDisabled",!n.enableMetadata)("matBadgeHidden",!n.metadataCount),t.R7$(2),t.HbH(t.VkB("eav-grid-action-button ",n.highlightOrDisabled(n.enableImageConfig))),t.Y8G("tippy",t.mNQ(n.enableImageConfig?"Image Configuration":"no image configuration for this field")),t.R7$(),t.Y8G("matBadge",n.imgConfigCount)("matBadgeHidden",!n.imgConfigCount)("matBadgeDisabled",!n.enableImageConfig),t.R7$(2),t.HbH(t.VkB("eav-grid-action-button ",n.highlightOrDisabled(n.enablePermissions))),t.Y8G("tippy",t.mNQ(n.enablePermissions?"Permissions":"no permissions to configure on this field")),t.R7$(),t.Y8G("matBadge",n.field.Permissions.Count)("matBadgeDisabled",!n.enablePermissions)("matBadgeHidden",!n.field.Permissions.Count),t.R7$(2),t.vxM(""!=n.shareOrInheritIcon()?10:11),t.R7$(2),t.Y8G("matMenuTriggerFor",d)}},dependencies:[Q.p,J.r6,u.m_,u.An,l.Y,l.k,T.Cn,T.kk,T.fb,T.z8,T.Cp,g.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}}return i})();var Z=o(41134);function pt(i,s){1&i&&(t.j41(0,"div",0),t.nrm(1,"mat-spinner",1),t.k0s())}let gt=(()=>{class i{agInit(e){this.params=e,this.isReordering=e.isReordering}refresh(e){return this.params=e,!0}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields-drag"]],decls:1,vars:1,consts:[[1,"spinner-container"],["diameter","16"]],template:function(a,n){1&a&&t.nVh(0,pt,2,0,"div",0),2&a&&t.vxM(n.isReordering()?0:-1)},dependencies:[Z.D6,Z.LG],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}\n\n/*# sourceMappingURL=content-type-fields-drag.ts-angular-inline--1.css.map*/"]})}}return i})();function ut(i,s){1&i&&(t.j41(0,"mat-icon",1),t.EFF(1,"visibility_off"),t.k0s())}function ft(i,s){1&i&&t.nrm(0,"mat-icon")}function _t(i,s){1&i&&(t.j41(0,"mat-icon",2),t.EFF(1,"edit_off"),t.k0s())}function vt(i,s){1&i&&t.nrm(0,"mat-icon")}function Ct(i,s){1&i&&(t.j41(0,"mat-icon",3),t.EFF(1,"asterisk"),t.k0s())}function yt(i,s){1&i&&t.nrm(0,"mat-icon")}function Ft(i,s){1&i&&(t.j41(0,"mat-icon",4),t.EFF(1,"functions"),t.k0s())}function bt(i,s){1&i&&t.nrm(0,"mat-icon")}function Tt(i,s){1&i&&(t.j41(0,"mat-icon",5),t.EFF(1,"mobiledata_off"),t.k0s())}function Dt(i,s){1&i&&t.nrm(0,"mat-icon")}function Mt(i,s){1&i&&(t.j41(0,"mat-icon",6),t.EFF(1,"public_off"),t.k0s())}function Et(i,s){1&i&&t.nrm(0,"mat-icon")}let It=(()=>{class i{agInit(e){const a=e.data;this.hasFormulas=a.HasFormulas,this.isEphemeral=a.IsEphemeral,this.isHidden=!a.Metadata.All?.VisibleInEditUI,this.disableTranslation=a.Metadata.All?.DisableTranslation||!1,this.disabled=a.Metadata.All?.Disabled||!1,this.required=a.Metadata.All?.Required||!1}refresh(e){return!0}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields-special"]],decls:13,vars:6,consts:[[1,"icon-container"],["tippy","Hidden Field"],["tippy","Disabled"],["tippy","Required Field"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"],["tippy","No Translation"]],template:function(a,n){1&a&&(t.j41(0,"div",0),t.nVh(1,ut,2,0,"mat-icon",1)(2,ft,1,0,"mat-icon"),t.nVh(3,_t,2,0,"mat-icon",2)(4,vt,1,0,"mat-icon"),t.nVh(5,Ct,2,0,"mat-icon",3)(6,yt,1,0,"mat-icon"),t.nVh(7,Ft,2,0,"mat-icon",4)(8,bt,1,0,"mat-icon"),t.nVh(9,Tt,2,0,"mat-icon",5)(10,Dt,1,0,"mat-icon"),t.nVh(11,Mt,2,0,"mat-icon",6)(12,Et,1,0,"mat-icon"),t.k0s()),2&a&&(t.R7$(),t.vxM(n.isHidden?1:2),t.R7$(2),t.vxM(n.disabled?3:4),t.R7$(2),t.vxM(n.required?5:6),t.R7$(2),t.vxM(n.hasFormulas?7:8),t.R7$(2),t.vxM(n.isEphemeral?9:10),t.R7$(2),t.vxM(n.disableTranslation?11:12))},dependencies:[u.m_,u.An,g.e],styles:["mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}"]})}}return i})();function Rt(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.setTitle())}),t.j41(1,"mat-icon"),t.EFF(2,"star"),t.k0s()()}if(2&i){const e=t.XpG();t.HbH(t.VkB("eav-grid-action-button highlight ",e.isTitle?"":e.suitableForTitle?"hover-only":"no-button")),t.BMQ("disabled",e.isTitle||!e.suitableForTitle)}}function St(i,s){if(1&i&&(t.j41(0,"div",2)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.JRh(e.isTitle?"star":"")}}let xt=(()=>{class i{constructor(){this.suitableForTitle=!0}agInit(e){this.params=e,this.isTitle=e.value,this.field=e.data,this.suitableForTitle=!O.Q.isEmpty(this.field.InputType)}refresh(e){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields-title"]],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(a,n){1&a&&(t.j41(0,"div",0),t.nVh(1,Rt,3,4,"div",1)(2,St,3,1,"div",2),t.k0s()),2&a&&(t.R7$(),t.vxM(n.field.EditInfo.ReadOnly?2:1))},dependencies:[Q.p,J.r6,u.m_,u.An,g.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}}return i})();var Ot=o(14007);let jt=(()=>{class i{agInit(e){this.value=e.value,this.icon=(0,Ot.y)(this.value)}refresh(e){return!0}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&a&&(t.Y8G("tippy",n.value),t.R7$(2),t.JRh(n.icon))},dependencies:[u.m_,u.An,g.e],encapsulation:2})}}return i})();var P=o(34456),W=o(53777),At=o(24950),q=o(59791),D=o(48010),tt=o(59452),kt=o(51567),wt=o(51903),Nt=o(61318),Pt=o(43143),et=o(47703),X=o(28136),it=o(25932),at=o(9001),Gt=o(58767),Bt=o(30281),$t=o(11855),nt=o(63628),U=o(67993),ot=o(35160),Ht=o(37580),rt=o(3347),K=o(55326),st=o(80423);const Vt=["ngForm"];function Ut(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function Lt(i,s){if(1&i&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.ContentType.Name)}}function Wt(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function Xt(i,s){if(1&i&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.StaticName)}}function Yt(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function Kt(i,s){if(1&i&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.Type)}}function zt(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Share"),t.k0s()())}function Qt(i,s){if(1&i){const e=t.RV6();t.j41(0,"td",27)(1,"button",28),t.bIt("click",function(){const n=r.eBV(e).$implicit,d=t.XpG();return r.Njj(d.selectField(n))}),t.EFF(2,"Select"),t.k0s()()}}function Jt(i,s){1&i&&t.nrm(0,"tr",29)}function Zt(i,s){1&i&&t.nrm(0,"tr",30)}function qt(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"New Name"),t.k0s()())}function te(i,s){if(1&i&&(t.j41(0,"app-field-hint",33),t.EFF(1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("isError",!0),t.R7$(),t.JRh(e.fieldNameError)}}function ee(i,s){if(1&i&&(t.j41(0,"app-field-hint",33),t.EFF(1),t.k0s()),2&i){t.XpG(2);const e=t.sdS(5);t.Y8G("isError",!0),t.R7$(),t.SpI(" ",e.errors.reservedNames," ")}}function ie(i,s){if(1&i&&(t.nVh(0,te,2,2,"app-field-hint",33),t.nVh(1,ee,2,2,"app-field-hint",33)),2&i){t.XpG();const e=t.sdS(5);t.vxM(e.errors.pattern?0:-1),t.R7$(),t.vxM(e.errors.reservedNames?1:-1)}}function ae(i,s){if(1&i){const e=t.RV6();t.j41(0,"td",27)(1,"mat-form-field",31)(2,"mat-label"),t.EFF(3,"New Name"),t.k0s(),t.j41(4,"input",32,1),t.mxI("ngModelChange",function(n){const d=r.eBV(e).$implicit;return t.DH7(d.newName,n)||(d.newName=n),r.Njj(n)}),t.k0s()(),t.nVh(6,ie,2,2),t.k0s()}if(2&i){const e=s.$implicit,a=s.index,n=t.sdS(5),d=t.XpG();t.R7$(4),t.Y8G("pattern",d.fieldNamePattern),t.R50("ngModel",e.newName),t.Y8G("name","StaticName"+a)("appReservedNames",d.reservedNames()),t.R7$(2),t.vxM(n.errors?6:-1)}}function ne(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Source"),t.k0s()())}function oe(i,s){if(1&i&&(t.j41(0,"td",34),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.E5c(" ",e.field.ContentType.Name,"/",e.field.StaticName," (",e.field.Type,") ")}}function re(i,s){1&i&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Remove"),t.k0s()())}function se(i,s){if(1&i){const e=t.RV6();t.j41(0,"td",27)(1,"button",28),t.bIt("click",function(){const n=r.eBV(e).$implicit,d=t.XpG();return r.Njj(d.removeField(n))}),t.EFF(2,"Remove"),t.k0s()()}}function le(i,s){1&i&&t.nrm(0,"tr",29)}function de(i,s){1&i&&t.nrm(0,"tr",30)}let ce=(()=>{class i extends Bt.${#t;#e;constructor(e,a,n,d,E,R){super(),this.dialogData=e,this.dialog=a,this.snackBar=n,this.matDialog=d,this.viewContainerRef=E,this.changeDetectorRef=R,this.hostClass="dialog-component",this.#t=(0,r.WQX)(at.D),this.#e=(0,p.d)(B.h),this.ContentTypeFieldsReuseDefinitions=X.T.ContentTypeFieldsReuseDefinitions,this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new D.I6([]),this.selectedFields=new D.I6([]),this.fieldNamePattern=et.w,this.fieldNameError=et.s,this.#n=this.#e.getReservedNames().value,this.reservedNames=(0,b.EW)(()=>{const V=this.#n();return ot.O.mergeReserved(V,this.dialogData.existingFields)}),this.saving=(0,U.KX)("saving",!1),this.#a=this.#t.isEnabled[X.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.ngForm.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#n;#a;ngOnInit(){this.#e.getShareableFieldsPromise().then(e=>{this.shareableFields.data=e})}selectField(e){this.selectedFields.data=[...this.selectedFields.data,{newName:e.StaticName,field:e}]}removeField(e){const a=this.selectedFields.data;a.splice(a.indexOf(e),1),this.selectedFields.data=[...a]}closeDialog(){this.dialog.close()}save(){this.#a()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,tt.of)(...this.selectedFields.data).pipe((0,kt.p)(e=>!!e.newName),(0,wt.H)(e=>this.#e.addInheritedField(this.dialogData.contentType.Id,e.field.ContentType.Id,e.field.Guid,e.newName).pipe((0,Nt.W)(a=>(0,tt.of)(null)))),(0,Pt.$)()).subscribe(e=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,Gt.j)(this.matDialog,X.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(C.Vh),t.rXU(C.CP),t.rXU(rt.UG),t.rXU(C.bZ),t.rXU(t.c1b),t.rXU(Ht.gRc))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-field-sharing-add-many"]],viewQuery:function(a,n){if(1&a&&t.GBs(Vt,5,P.cV),2&a){let d;t.mGM(d=t.lsd())&&(n.ngForm=d.first)}},hostVars:1,hostBindings:function(a,n){2&a&&t.Avn("className",n.hostClass)},features:[t.Vt3],decls:62,vars:16,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break: break-all","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-raised-button","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(a,n){if(1&a){const d=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){return r.eBV(d),r.Njj(n.closeDialog())}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",6)(9,"p"),t.EFF(10," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),t.k0s(),t.j41(11,"p"),t.EFF(12," This is a bit like "),t.j41(13,"strong"),t.EFF(14,"Content-Type Inheritance"),t.k0s(),t.EFF(15,", but instead of inheritance we're using "),t.j41(16,"strong"),t.EFF(17,"composition"),t.k0s(),t.EFF(18,", which is much more powerful. "),t.k0s(),t.j41(19,"p"),t.EFF(20),t.nI1(21,"translate"),t.nrm(22,"br"),t.j41(23,"em"),t.EFF(24," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),t.k0s()(),t.j41(25,"div",7)(26,"mat-card",8)(27,"table",9),t.qex(28,10),t.DNE(29,Ut,3,0,"th",11)(30,Lt,2,1,"td",12),t.bVm(),t.qex(31,13),t.DNE(32,Wt,3,0,"th",11)(33,Xt,2,1,"td",12),t.bVm(),t.qex(34,14),t.DNE(35,Yt,3,0,"th",11)(36,Kt,2,1,"td",12),t.bVm(),t.qex(37,15),t.DNE(38,zt,3,0,"th",11)(39,Qt,3,0,"td",12),t.bVm(),t.DNE(40,Jt,1,0,"tr",16)(41,Zt,1,0,"tr",17),t.k0s()(),t.j41(42,"mat-card",18)(43,"form",null,0)(45,"table",9),t.qex(46,19),t.DNE(47,qt,3,0,"th",11)(48,ae,7,5,"td",12),t.bVm(),t.qex(49,20),t.DNE(50,ne,3,0,"th",11)(51,oe,2,3,"td",21),t.bVm(),t.qex(52,22),t.DNE(53,re,3,0,"th",11)(54,se,3,0,"td",12),t.bVm(),t.DNE(55,le,1,0,"tr",16)(56,de,1,0,"tr",17),t.k0s()()()(),t.j41(57,"app-feature-text-info",23)(58,"em"),t.EFF(59," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()()(),t.j41(60,"mat-dialog-actions",24)(61,"app-save-close-button-fab",25),t.bIt("action",function(){return r.eBV(d),r.Njj(n.save())}),t.k0s()()()}if(2&a){const d=t.sdS(44);t.R7$(3),t.SpI("",t.bMT(4,12,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18)"),t.R7$(17),t.SpI(" ",t.bMT(21,14,"SharingOrInheriting.PickFieldsToInheritFrom")," "),t.R7$(7),t.Y8G("dataSource",n.shareableFields),t.R7$(13),t.Y8G("matHeaderRowDef",n.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",n.optionsColumns),t.R7$(4),t.Y8G("dataSource",n.selectedFields),t.R7$(10),t.Y8G("matHeaderRowDef",n.selectedColumns),t.R7$(),t.Y8G("matRowDefColumns",n.selectedColumns),t.R7$(),t.Y8G("featureNameId",n.ContentTypeFieldsReuseDefinitions)("asInfo",!0),t.R7$(4),t.Y8G("ngClass",!d.form.valid||0==n.selectedFields.data.length||n.saving()?"disabled":"")("disabled",!d.form.valid||0==n.selectedFields.data.length||n.saving())}},dependencies:[W.Hu,W.RN,D.tP,D.Zl,D.tL,D.ji,D.cC,D.YV,D.iL,D.KS,D.$R,D.YZ,D.NB,c.Hl,c.$z,K.iY,P.YN,P.qT,P.me,P.BC,P.cb,P.R_,P.vS,P.cV,At.RG,st.rl,st.nJ,q.fS,q.fg,ot.O,C.E7,x.h,it.L,$t.F,u.m_,u.An,nt.i,x.D9],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}"]})}}return i})();var me=o(37739),he=o(31176),pe=o(34435),k=function(i){return i[i.None=0]="None",i[i.Sharing=1]="Sharing",i[i.Inheriting=2]="Inheriting",i}(k||{});const ge=i=>({"my-selected":i}),ue=(i,s)=>s.complete,fe=(i,s)=>s.AttributeId;function _e(i,s){1&i&&t.eu8(0)}function ve(i,s){if(1&i&&(t.j41(0,"p"),t.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),t.k0s(),t.j41(2,"div"),t.EFF(3," Global Identifier: "),t.j41(4,"strong"),t.EFF(5),t.k0s()(),t.j41(6,"h4"),t.EFF(7,"Inherited by"),t.k0s(),t.DNE(8,_e,1,0,"ng-container",9)),2&i){const e=t.XpG(),a=t.sdS(18);t.R7$(5),t.JRh(e.dialogData.Guid),t.R7$(3),t.Y8G("ngTemplateOutlet",a)}}function Ce(i,s){if(1&i&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.complete)}}function ye(i,s){if(1&i&&(t.j41(0,"ol"),t.Z7z(1,Ce,2,1,"li",null,ue),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.Dyx(e.inherited())}}function Fe(i,s){1&i&&t.eu8(0)}function be(i,s){if(1&i&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e)}}function Te(i,s){if(1&i&&(t.j41(0,"h4"),t.EFF(1,"Not Inherited Definitions"),t.k0s(),t.j41(2,"p"),t.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),t.k0s(),t.j41(4,"ol"),t.Z7z(5,be,2,1,"li",null,t.fX1),t.k0s()),2&i){const e=t.XpG(2);t.R7$(5),t.Dyx(e.notInherited())}}function De(i,s){if(1&i&&(t.j41(0,"p"),t.EFF(1,"This field is inheriting it's definition from another previously shared field."),t.k0s(),t.j41(2,"h4"),t.EFF(3,"Inherits Definition from"),t.k0s(),t.nVh(4,ye,3,0,"ol"),t.DNE(5,Fe,1,0,"ng-container",9),t.nVh(6,Te,7,0)),2&i){const e=t.XpG(),a=t.sdS(18);t.R7$(4),t.vxM(e.features.isEnabled[e.requiredFeature]()?-1:4),t.R7$(),t.Y8G("ngTemplateOutlet",a),t.R7$(),t.vxM(e.notInherited().length?6:-1)}}function Me(i,s){1&i&&(t.j41(0,"p"),t.EFF(1,"This will share the field definition for others to use. Save to complete the operation."),t.k0s())}function Ee(i,s){1&i&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function Ie(i,s){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.ContentType.Name)}}function Re(i,s){1&i&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function Se(i,s){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.StaticName)}}function xe(i,s){1&i&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function Oe(i,s){if(1&i&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.R7$(),t.JRh(e.Type)}}function je(i,s){1&i&&t.nrm(0,"tr",22)}function Ae(i,s){if(1&i){const e=t.RV6();t.j41(0,"tr",23),t.bIt("click",function(){const n=r.eBV(e).$implicit,d=t.XpG(3);return r.Njj(d.inheritField(n))}),t.k0s()}if(2&i){const e=s.$implicit,a=t.XpG(3);t.Y8G("ngClass",t.eq3(1,ge,a.guid===e.Guid))}}function ke(i,s){if(1&i&&(t.j41(0,"p"),t.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),t.nrm(2,"br"),t.k0s(),t.j41(3,"ul")(4,"li"),t.EFF(5,"Inheriting will remove/ignore all current definition of this field such as label, hidden, etc."),t.k0s(),t.j41(6,"li"),t.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),t.k0s()(),t.j41(8,"mat-card",11)(9,"table",12),t.qex(10,13),t.DNE(11,Ee,3,0,"th",14)(12,Ie,2,1,"td",15),t.bVm(),t.qex(13,16),t.DNE(14,Re,3,0,"th",14)(15,Se,2,1,"td",15),t.bVm(),t.qex(16,17),t.DNE(17,xe,3,0,"th",14)(18,Oe,2,1,"td",15),t.bVm(),t.DNE(19,je,1,0,"tr",18)(20,Ae,1,3,"tr",19),t.k0s()()),2&i){const e=t.XpG(2);t.R7$(9),t.Y8G("dataSource",e.shareableFields()),t.R7$(10),t.Y8G("matHeaderRowDef",e.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",e.optionsColumns)}}function we(i,s){if(1&i){const e=t.RV6();t.j41(0,"p"),t.EFF(1,"This field is currently not shared or inherited. You can choose to:"),t.k0s(),t.j41(2,"ul")(3,"li"),t.EFF(4,"Make it public ("),t.j41(5,"strong"),t.EFF(6,"share"),t.k0s(),t.EFF(7,") so it can be re-used by other Content Types"),t.k0s(),t.j41(8,"li"),t.EFF(9,"Change it to "),t.j41(10,"strong"),t.EFF(11,"inherit"),t.k0s(),t.EFF(12," it's definition from another previously shared field"),t.k0s()(),t.nrm(13,"br"),t.j41(14,"div")(15,"button",10),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.setShare())}),t.EFF(16," Share "),t.k0s(),t.j41(17,"button",10),t.bIt("click",function(){r.eBV(e);const n=t.XpG();return r.Njj(n.startInherit())}),t.EFF(18," Inherit "),t.k0s(),t.nVh(19,Me,2,0,"p")(20,ke,21,3),t.k0s()}if(2&i){let e;const a=t.XpG();t.R7$(15),t.HbH("eav-dialog-action-button"+(a.state==a.sharingOrInheriting.Sharing?" eav-action-button":"")),t.R7$(2),t.HbH("eav-dialog-action-button"+(a.state==a.sharingOrInheriting.Inheriting?" eav-action-button":"")),t.R7$(2),t.vxM((e=a.state)===a.sharingOrInheriting.Sharing?19:e===a.sharingOrInheriting.Inheriting?20:-1)}}function Ne(i,s){if(1&i&&(t.j41(0,"li"),t.EFF(1," Guid: "),t.j41(2,"strong"),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.EFF(5," Content Type: "),t.j41(6,"strong"),t.EFF(7),t.k0s(),t.nrm(8,"br"),t.EFF(9," Field: "),t.j41(10,"strong"),t.EFF(11),t.k0s(),t.EFF(12),t.k0s()),2&i){const e=s.$implicit;t.R7$(3),t.JRh(e.Guid),t.R7$(4),t.JRh(e.ContentType.Name),t.R7$(4),t.JRh(e.StaticName),t.R7$(),t.SpI(" (",e.AttributeId,") ")}}function Pe(i,s){if(1&i&&(t.j41(0,"ul"),t.Z7z(1,Ne,13,4,"li",null,fe),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Dyx(e.details())}}function Ge(i,s){1&i&&(t.j41(0,"em"),t.EFF(1," No details available. This field probably does not have any inheriting fields. "),t.k0s())}function Be(i,s){if(1&i&&t.nVh(0,Pe,3,0,"ul")(1,Ge,2,0,"em"),2&i){const e=t.XpG(2);t.vxM(e.details().length?0:1)}}function $e(i,s){if(1&i&&(t.j41(0,"em"),t.EFF(1," You can get more details about the parents by enabling the feature "),t.nrm(2,"br"),t.EFF(3),t.nrm(4,"app-feature-icon-text",24),t.EFF(5,". "),t.k0s()),2&i){const e=t.XpG(2);t.R7$(3),t.SpI(" ",e.requiredFeature," "),t.R7$(),t.Y8G("featureNameId",e.requiredFeature)}}function He(i,s){if(1&i&&t.nVh(0,Be,2,1)(1,$e,6,2,"em"),2&i){const e=t.XpG();t.vxM(e.features.isEnabled[e.requiredFeature]()?0:1)}}const Ve={all:!0,constructor:!0};let Le=(()=>{class i{#t;constructor(e,a,n){this.dialogData=e,this.features=a,this.dialog=n,this.log=(0,pe.Tq)({ShareOrInheritDialogComponent:i},Ve),this.#t=(0,p.d)(B.h),this.requiredFeature=X.T.ContentTypeFieldsReuseDefinitions,this.details=(0,U.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=k.None,this.sharingOrInheriting=k,this.guid=null,this.shareableFields=(0,r.vPA)(void 0),this.initialState=(()=>{const R=this.dialogData.SysSettings;return R&&(R.Share||R.InheritMetadataOf)?R.Share?k.Sharing:k.Inheriting:k.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#e=(0,U.bo)("inheritsInfo",()=>{const V=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(L=>({complete:L,guid:L.substring(0,36),name:L.substring(36)}));return(0,me.A)(V,L=>"00000000-0000-0000-0000-000000000000"===L.guid?"none":"inherits")}),this.notInherited=(0,U.bo)("notInherited",()=>this.#e().none?.map(R=>R.name)??[]),this.inherited=(0,U.bo)("inherited",()=>this.#e().inherits??[]),this.log.fnIf("constructor",{dialogData:e});const E=e.SysSettings;E&&(E.Share?this.#t.getDescendants(e.Id).then(R=>this.details.set(R)):E.InheritMetadataOf&&this.#t.getAncestors(e.Id).then(R=>this.details.set(R)))}#e;setShare(){this.guid=null,this.state=k.Sharing}startInherit(){this.guid=null,this.state=k.Inheriting,this.#t.getShareableFieldsFor(this.dialogData.AttributeId).then(e=>this.shareableFields.set(e))}inheritField(e){this.guid=e.Guid}save(){this.state==k.Sharing?this.#t.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==k.Inheriting&&this.#t.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(C.Vh),t.rXU(at.D),t.rXU(C.CP))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-field-sharing-configure"]],decls:19,vars:8,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",3,"click"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],[3,"featureNameId"]],template:function(a,n){if(1&a){const d=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return r.eBV(d),r.Njj(n.dialog.close())}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.nVh(9,ve,9,2)(10,De,7,3)(11,we,21,5),t.j41(12,"app-feature-text-info",6)(13,"em"),t.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()()(),t.j41(15,"mat-dialog-actions",7)(16,"app-save-close-button-fab",8),t.bIt("action",function(){return r.eBV(d),r.Njj(n.save())}),t.k0s()()(),t.DNE(17,He,2,1,"ng-template",null,0,t.C5r)}if(2&a){let d;t.R7$(3),t.SpI(" ",t.bMT(4,6,n.title)," "),t.R7$(6),t.vxM((d=n.initialState)===n.sharingOrInheriting.Sharing?9:d===n.sharingOrInheriting.Inheriting?10:d===n.sharingOrInheriting.None?11:-1),t.R7$(3),t.Y8G("featureNameId",n.requiredFeature)("asInfo",!0),t.R7$(4),t.Y8G("ngClass",n.initialState!=n.sharingOrInheriting.None?"disabled":"")("disabled",n.initialState!=n.sharingOrInheriting.None)}},dependencies:[c.Hl,c.$z,K.iY,u.m_,u.An,W.Hu,W.RN,D.tP,D.Zl,D.tL,D.ji,D.cC,D.YV,D.iL,D.KS,D.$R,D.YZ,D.NB,F.YU,F.T3,x.h,it.L,he.U,C.E7,nt.i,x.D9],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}}return i})();var We=o(58857);const Xe=(i,s)=>({"grid-sorted":i,"grid-filtered":s});function Ye(i,s){if(1&i){const e=t.RV6();t.j41(0,"ag-grid-angular",9),t.bIt("rowDragEnter",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onRowDragEnter(n))})("rowDragEnd",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onRowDragEnd(n))})("rowDragMove",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onRowDragMove(n))})("gridReady",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onGridReady(n))})("sortChanged",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onSortChanged(n))})("filterChanged",function(n){r.eBV(e);const d=t.XpG();return r.Njj(d.onFilterChanged(n))}),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("rowData",e.fields())("gridOptions",e.gridOptions)("ngClass",t.l_i(3,Xe,e.sortApplied,e.filterApplied))}}let Ke=(()=>{class i{#t;#e;#n;constructor(e,a,n,d){this.dialog=e,this.snackBar=a,this.matDialog=n,this.viewContainerRef=d,this.#t=(0,p.d)(Y.c),this.#e=(0,p.d)(S.g),this.#n=(0,p.d)(B.h),this.#a=this.#t.getParam("contentTypeStaticName"),this.refresh=(0,r.vPA)(0),this.isReordering=(0,r.vPA)(!1),this.#s={empty:{description:"<p><b>This is where you manage Fields</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first Field (think: column).</p>"},content:{description:"<p><b>These are the Fields of this Content-Type</b> <br>They are similar to database columns.</p>",hint:"<p>Click on the <em>Name</em> to configure it or on the <em>Input</em> to change the type. <br><br>You can also create new fields, share field definitions, manage field metadata/permissions or rename fields.</p>"}},this.uxHelpText=(0,b.EW)(()=>0===this.fields()?.length?this.#s.empty:this.#s.content),this.contentType=this.#e.getType(this.#a).value,this.fields=(0,r.vPA)(void 0),this.gridOptions=this.#y(),this.sortApplied=!1,this.filterApplied=!1,this.#r=!1}#a;#s;#i;#r;ngOnInit(){this.#o(),this.#t.doOnDialogClosed(()=>this.#o())}onGridReady(e){this.#i=e.api}onRowDragEnter(e){this.#i.setGridOption("enableCellTextSelection",!1)}onRowDragEnd(e){this.#i.setGridOption("suppressRowDrag",!0),this.isReordering.set(!0);const a=this.fields().map(n=>n.Id);this.#n.reOrder(a,this.contentType()).subscribe(()=>{this.#o(()=>{this.#i.setGridOption("enableCellTextSelection",!0),this.#i.setGridOption("suppressRowDrag",!1),this.isReordering.set(!1)})})}onRowDragMove(e){const a=e.overNode;if(!a)return;const n=e.node;if(n===a)return;const d=[...this.fields()],E=d.indexOf(n.data),R=d.indexOf(a.data),V=this.#d(d,E,R);this.fields.set(V),this.#i.clearFocusedCell()}#d(e,a,n){const d=e[a];return e.splice(a,1),e.splice(n,0,d),[...e]}onSortChanged(e){const a=this.#i.getColumnState();this.sortApplied=a.some(n=>null!=n.sort),this.#l()}onFilterChanged(e){const a=this.#i.getFilterModel(),n=Object.keys(a);this.filterApplied=n.length>0,this.#l()}#l(){const e=this.sortApplied||this.filterApplied;e&&!this.#r?(this.#r=!0,this.#i.setGridOption("suppressRowDrag",!0)):!e&&this.#r&&(this.#r=!1,this.#i.setGridOption("suppressRowDrag",!1))}add(){this.#t.navRelative([`add/${this.#a}`])}addSharedField(){this.matDialog.open(ce,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()},viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#F(e){const a=e.data.InputType;if(O.Q.endsPreviousGroup(a))return e.value;let n=!1;for(const d of this.fields())if(O.Q.isGroupStart(a))n=!0;else if(O.Q.isGroupEnd(a))n=!1;else if(d.StaticName===e.data.StaticName)break;return n?`<span class="is-in-group">${e.value}</span>`:e.value}#o(e){this.#n.getFieldsPromise(this.#a).then(a=>{this.fields.set(a),e?.()})}#c(e,a){const n=a.replace("@",""),d=("@"+a).replace("@@","@"),E=e.Metadata[n];return null!=E?N.H.editId(E.Id):{...N.H.newMetadata(e.Id,d,A.YX.metadata.attribute),Prefill:{Name:e.StaticName}}}#m(e){this.snackBar.open("Setting title..."),this.#n.setTitle(e,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#o()})}#h(e){this.#t.navRelative([`update/${this.#a}/${e.Id}/name`])}#p(e){this.matDialog.open(G.F,{autoFocus:!1,data:{entityId:e.Id,entityTitle:e.StaticName,message:"Delete Item?",hasDeleteSnackbar:!0},viewContainerRef:this.viewContainerRef,width:"600px"}).afterClosed().subscribe(a=>{a&&this.#n.delete(e,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#o()})})}#g(e){this.#t.navRelative([v.k.getUrlAttribute(e.Id)])}#u(e){const a=e.imageConfiguration;if(1!=a?.isRecommended)throw new Error("This field does not expect to have an image configuration");const n=a.entityId?N.H.editId(a.entityId):N.H.newMetadata(e.Id,a.typeName,A.YX.metadata.attribute),d=(0,$.s)({items:[n]});this.#t.navRelative([`edit/${d}`])}#f(e){const a=M.H.getUrlAttribute(e.Id,`Metadata for Field: ${e.StaticName} (${e.Id})`);this.#t.navRelative([a])}#_(e){const a={items:Object.keys(e.ConfigTypes).map(d=>this.#c(e,d))},n=(0,$.s)(a);return"#"+this.#t.urlSubRoute(`edit/${n}`)}#v(e){return"#"+this.#t.urlSubRoute(`update/${this.#a}/${e.Id}/inputType`)}#C(e){this.matDialog.open(Le,{autoFocus:!1,width:"800px",data:e,viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#y(){return{..._.C,getRowClass(a){const n=a.data,d=[];return n.EditInfo.DisableSort&&d.push("disable-row-drag"),O.Q.isGroupStart(n.InputType)&&d.push("group-start-row"),O.Q.isGroupEnd(n.InputType)&&d.push("group-end-row"),d},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" "),cellRenderer:gt,cellRendererParams:{isReordering:()=>this.isReordering()}},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:a=>a.data.IsTitle,cellRenderer:xt,cellRendererParams:{onSetTitle:a=>this.#m(a)}},{...m.r.TextWidePrimary,headerName:"Name",field:"StaticName",cellClass:a=>(a.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),cellRenderer:a=>h.f.cellLink(this.#_(a.data),a.value)},{...m.r.ItemsText,field:"Type",width:70,valueGetter:a=>a.data.Type,cellRenderer:jt},{...m.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:a=>(a.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:a=>a.data.InputType.substring(a.data.InputType.indexOf("-")+1),cellRenderer:a=>h.f.cellLink(this.#v(a.data),a.value)},{field:"Label",flex:2,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:a=>a.data.Metadata?.All?.Name},{field:"Special",width:132,headerClass:"dense",cellClass:"no-outline",cellRenderer:It},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:a=>a.data.Metadata?.All?.Notes},{...m.r.ActionsPinnedRight5,cellRenderer:ht,cellRendererParams:{do:(a,n)=>{switch(a){case"rename":this.#h(n);break;case"delete":this.#p(n);break;case"permissions":this.#g(n);break;case"metadata":this.#f(n);break;case"shareOrInherit":this.#C(n);break;case"image":this.#u(n)}}}}]}}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(C.CP),t.rXU(rt.UG),t.rXU(C.bZ),t.rXU(t.c1b))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-type-fields"]],decls:17,vars:9,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"ag-theme-material","eav-dialog-content",3,"rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"],[1,"ag-theme-material","eav-dialog-content",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"]],template:function(a,n){if(1&a&&(t.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return n.dialog.close()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.nVh(8,Ye,1,6,"ag-grid-angular",5),t.j41(9,"mat-dialog-actions",6)(10,"button",7),t.bIt("click",function(){return n.addSharedField()}),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return n.add()}),t.j41(14,"mat-icon"),t.EFF(15,"add"),t.k0s()()()()(),t.nrm(16,"router-outlet")),2&a){let d,E,R;t.R7$(),t.Y8G("helpText",n.uxHelpText())("refresh",n.refresh())("rowLength",null==(d=n.fields())?null:d.length),t.R7$(3),t.SpI("",(null==(E=n.contentType())?null:E.Label)||(null==(E=n.contentType())?null:E.Name)," Fields"),t.R7$(4),t.vxM((null==(R=n.fields())?null:R.length)>0?8:-1),t.R7$(3),t.JRh(t.bMT(12,7,"SharingOrInheriting.AddSharedField")),t.R7$(2),t.Y8G("disabled",null==n.contentType()||n.contentType().EditInfo.ReadOnly)}},dependencies:[c.Hl,c.$z,K.iY,c.Sr,u.m_,u.An,y.n3,F.YU,C.E7,H.V,z.p,We.xs,x.h,f.v,x.D9],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.02.00/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-node_modules_angular_mater-1e3200.a002293711add284.js.map
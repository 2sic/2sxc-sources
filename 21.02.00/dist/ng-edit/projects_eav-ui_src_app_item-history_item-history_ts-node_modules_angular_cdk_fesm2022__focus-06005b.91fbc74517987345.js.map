{"version":3,"file":"projects_eav-ui_src_app_item-history_item-history_ts-node_modules_angular_cdk_fesm2022__focus-06005b.91fbc74517987345.js","mappings":"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","names":["FocusKeyManager","ListKeyManager","_origin","setFocusOrigin","origin","this","setActiveItem","item","super","activeItem","focus","MatPaginator_Conditional_2_Conditional_3_For_4_Template","rf","ctx","i0","pageSizeOption_r3","$implicit","MatPaginator_Conditional_2_Conditional_3_Template","_r1","$event","ctx_r1","_changePageSize","value","selectRef_r4","open","_formFieldAppearance","color","pageSize","disabled","_pageSizeLabelId","selectConfig","panelClass","disableOptionCentering","_displayedPageSizeOptions","MatPaginator_Conditional_2_Conditional_4_Template","MatPaginator_Conditional_2_Template","_intl","itemsPerPageLabel","length","MatPaginator_Conditional_6_Template","_r5","_buttonClicked","_previousButtonsDisabled","firstPageLabel","MatPaginator_Conditional_13_Template","_r6","getNumberOfPages","_nextButtonsDisabled","lastPageLabel","MatPaginatorIntl","changes","Subject","nextPageLabel","previousPageLabel","getRangeLabel","page","startIndex","Math","max","min","static","__ngFactoryType__","token","factory","ɵfac","providedIn","MAT_PAGINATOR_DEFAULT_OPTIONS","InjectionToken","MatPaginator","inject","_changeDetectorRef","ChangeDetectorRef","_IdGenerator","getId","_intlChanges","_isInitialized","_initializedStream","ReplaySubject","pageIndex","_pageIndex","markForCheck","_length","_pageSize","_updateDisplayedPageSizeOptions","pageSizeOptions","_pageSizeOptions","map","p","numberAttribute","hidePageSize","showFirstLastButtons","EventEmitter","initialized","constructor","defaults","optional","subscribe","formFieldAppearance","ngOnInit","next","ngOnDestroy","complete","unsubscribe","nextPage","hasNextPage","_navigate","previousPage","hasPreviousPage","firstPage","lastPage","maxPageIndex","ceil","previousPageIndex","floor","_emitPageEvent","slice","indexOf","push","sort","a","b","emit","index","previousIndex","targetIndex","isDisabled","type","selectors","hostAttrs","inputs","booleanAttribute","outputs","exportAs","decls","vars","consts","template","dependencies","MatFormField","MatSelect","MatOption","MatIconButton","MatTooltip","styles","encapsulation","changeDetection","MatPaginatorModule","imports","MatButtonModule","MatSelectModule","MatTooltipModule","calcHistoryAttributes","version","versions","compareWith","currentDataTypes","JSON","parse","Json","Entity","Attributes","previousItem","findLive","liveVersion","VersionNumber","find","v","previousDataTypes","allAttributes","Object","entries","forEach","dataType","attributes","keys","attributeName","name","attribute","currentValues","previousValues","change","calcChangeType","values","calcHistoryValues","allLangKeys","lang","includes","langKey","currentValue","previousValue","oldValue","sortObjectKeys","sortKeysAlphabetically","stringify","obj","reduce","acc","key","e","VersionsService","HttpServiceBaseSignal","fetchVersions","entityId","initial","postSignal","params","appId","restore","changeId","http","post","apiUrl","toString","compareChange","historyItem_r4","_r3","panelExpandedChange","versionNumber","attributeExpandedToggle","expandedPanels","expandedAttributes","ItemHistoryComponent_Conditional_14_For_2_Template","historyItems","pageChange","ItemHistoryComponent","#versionsService","dialog","route","snackBar","hostClass","transient","#itemId","parseInt","snapshot","paramMap","get","#page","signal","signalObj","computedObj","getHistoryItems","calcHistoryItems","filteredVersions","changeSetId","ChangeSetId","historyId","HistoryId","timeStamp","TimeStamp","user","User","isLastVersion","some","newCompareWith","set","expand","event","newPage","_","duration","close","refreshEdit","i1","i2","i3","hostVars","hostBindings","ItemHistoryComponent_Conditional_10_Template","ItemHistoryComponent_Conditional_12_Template","ItemHistoryComponent_Conditional_13_Template","ItemHistoryComponent_Conditional_14_Template","ItemHistoryComponent_Conditional_15_Template","tmp_0_0","tmp_2_0","tmp_3_0","tmp_4_0","i4","MatIconModule","i5","MatFormFieldModule","i6","i7","i8","MatOptionModule","MatExpansionModule","i9","i10","HistoryItemComponent","UniqueSelectionDispatcher","_listeners","notify","id","listener","listen","filter","registered"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./node_modules/@angular/cdk/fesm2022/_focus-key-manager-chunk.mjs","./node_modules/@angular/material/fesm2022/paginator.mjs","./projects/eav-ui/src/app/item-history/item-history.helpers.ts","./projects/eav-ui/src/app/item-history/services/versions.service.ts","./projects/eav-ui/src/app/item-history/item-history.html","./projects/eav-ui/src/app/item-history/item-history.ts","./node_modules/@angular/cdk/fesm2022/_unique-selection-dispatcher-chunk.mjs"],"sourcesContent":["import { ListKeyManager } from './_list-key-manager-chunk.mjs';\n\nclass FocusKeyManager extends ListKeyManager {\n  _origin = 'program';\n  setFocusOrigin(origin) {\n    this._origin = origin;\n    return this;\n  }\n  setActiveItem(item) {\n    super.setActiveItem(item);\n    if (this.activeItem) {\n      this.activeItem.focus(this._origin);\n    }\n  }\n}\n\nexport { FocusKeyManager };\n","import * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, inject, ChangeDetectorRef, numberAttribute, EventEmitter, booleanAttribute, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, NgModule } from '@angular/core';\nimport { _IdGenerator } from '@angular/cdk/a11y';\nimport { Subject, ReplaySubject } from 'rxjs';\nimport { MatFormField } from './_form-field-chunk.mjs';\nimport { MatSelect, MatSelectModule } from './select.mjs';\nimport { MatOption } from './_option-chunk.mjs';\nimport { MatIconButton } from './_icon-button-chunk.mjs';\nimport { MatTooltip } from './_tooltip-chunk.mjs';\nimport { MatTooltipModule } from './tooltip.mjs';\nimport { MatButtonModule } from './button.mjs';\nimport '@angular/cdk/bidi';\nimport '@angular/cdk/coercion';\nimport '@angular/cdk/platform';\nimport '@angular/common';\nimport 'rxjs/operators';\nimport '@angular/cdk/observers/private';\nimport './_animation-chunk.mjs';\nimport '@angular/cdk/layout';\nimport '@angular/cdk/overlay';\nimport '@angular/cdk/scrolling';\nimport '@angular/cdk/collections';\nimport '@angular/cdk/keycodes';\nimport '@angular/forms';\nimport './_error-options-chunk.mjs';\nimport './_error-state-chunk.mjs';\nimport './_option-module-chunk.mjs';\nimport './_ripple-module-chunk.mjs';\nimport './_ripple-chunk.mjs';\nimport '@angular/cdk/private';\nimport './_pseudo-checkbox-module-chunk.mjs';\nimport './_pseudo-checkbox-chunk.mjs';\nimport './form-field.mjs';\nimport '@angular/cdk/observers';\nimport './_structural-styles-chunk.mjs';\nimport './_ripple-loader-chunk.mjs';\nimport '@angular/cdk/portal';\n\nclass MatPaginatorIntl {\n  changes = new Subject();\n  itemsPerPageLabel = 'Items per page:';\n  nextPageLabel = 'Next page';\n  previousPageLabel = 'Previous page';\n  firstPageLabel = 'First page';\n  lastPageLabel = 'Last page';\n  getRangeLabel = (page, pageSize, length) => {\n    if (length == 0 || pageSize == 0) {\n      return `0 of ${length}`;\n    }\n    length = Math.max(length, 0);\n    const startIndex = page * pageSize;\n    const endIndex = startIndex < length ? Math.min(startIndex + pageSize, length) : startIndex + pageSize;\n    return `${startIndex + 1} – ${endIndex} of ${length}`;\n  };\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginatorIntl,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginatorIntl,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.3\",\n  ngImport: i0,\n  type: MatPaginatorIntl,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nconst DEFAULT_PAGE_SIZE = 50;\nclass PageEvent {\n  pageIndex;\n  previousPageIndex;\n  pageSize;\n  length;\n}\nconst MAT_PAGINATOR_DEFAULT_OPTIONS = new InjectionToken('MAT_PAGINATOR_DEFAULT_OPTIONS');\nclass MatPaginator {\n  _intl = inject(MatPaginatorIntl);\n  _changeDetectorRef = inject(ChangeDetectorRef);\n  _formFieldAppearance;\n  _pageSizeLabelId = inject(_IdGenerator).getId('mat-paginator-page-size-label-');\n  _intlChanges;\n  _isInitialized = false;\n  _initializedStream = new ReplaySubject(1);\n  color;\n  get pageIndex() {\n    return this._pageIndex;\n  }\n  set pageIndex(value) {\n    this._pageIndex = Math.max(value || 0, 0);\n    this._changeDetectorRef.markForCheck();\n  }\n  _pageIndex = 0;\n  get length() {\n    return this._length;\n  }\n  set length(value) {\n    this._length = value || 0;\n    this._changeDetectorRef.markForCheck();\n  }\n  _length = 0;\n  get pageSize() {\n    return this._pageSize;\n  }\n  set pageSize(value) {\n    this._pageSize = Math.max(value || 0, 0);\n    this._updateDisplayedPageSizeOptions();\n  }\n  _pageSize;\n  get pageSizeOptions() {\n    return this._pageSizeOptions;\n  }\n  set pageSizeOptions(value) {\n    this._pageSizeOptions = (value || []).map(p => numberAttribute(p, 0));\n    this._updateDisplayedPageSizeOptions();\n  }\n  _pageSizeOptions = [];\n  hidePageSize = false;\n  showFirstLastButtons = false;\n  selectConfig = {};\n  disabled = false;\n  page = new EventEmitter();\n  _displayedPageSizeOptions;\n  initialized = this._initializedStream;\n  constructor() {\n    const _intl = this._intl;\n    const defaults = inject(MAT_PAGINATOR_DEFAULT_OPTIONS, {\n      optional: true\n    });\n    this._intlChanges = _intl.changes.subscribe(() => this._changeDetectorRef.markForCheck());\n    if (defaults) {\n      const {\n        pageSize,\n        pageSizeOptions,\n        hidePageSize,\n        showFirstLastButtons\n      } = defaults;\n      if (pageSize != null) {\n        this._pageSize = pageSize;\n      }\n      if (pageSizeOptions != null) {\n        this._pageSizeOptions = pageSizeOptions;\n      }\n      if (hidePageSize != null) {\n        this.hidePageSize = hidePageSize;\n      }\n      if (showFirstLastButtons != null) {\n        this.showFirstLastButtons = showFirstLastButtons;\n      }\n    }\n    this._formFieldAppearance = defaults?.formFieldAppearance || 'outline';\n  }\n  ngOnInit() {\n    this._isInitialized = true;\n    this._updateDisplayedPageSizeOptions();\n    this._initializedStream.next();\n  }\n  ngOnDestroy() {\n    this._initializedStream.complete();\n    this._intlChanges.unsubscribe();\n  }\n  nextPage() {\n    if (this.hasNextPage()) {\n      this._navigate(this.pageIndex + 1);\n    }\n  }\n  previousPage() {\n    if (this.hasPreviousPage()) {\n      this._navigate(this.pageIndex - 1);\n    }\n  }\n  firstPage() {\n    if (this.hasPreviousPage()) {\n      this._navigate(0);\n    }\n  }\n  lastPage() {\n    if (this.hasNextPage()) {\n      this._navigate(this.getNumberOfPages() - 1);\n    }\n  }\n  hasPreviousPage() {\n    return this.pageIndex >= 1 && this.pageSize != 0;\n  }\n  hasNextPage() {\n    const maxPageIndex = this.getNumberOfPages() - 1;\n    return this.pageIndex < maxPageIndex && this.pageSize != 0;\n  }\n  getNumberOfPages() {\n    if (!this.pageSize) {\n      return 0;\n    }\n    return Math.ceil(this.length / this.pageSize);\n  }\n  _changePageSize(pageSize) {\n    const startIndex = this.pageIndex * this.pageSize;\n    const previousPageIndex = this.pageIndex;\n    this.pageIndex = Math.floor(startIndex / pageSize) || 0;\n    this.pageSize = pageSize;\n    this._emitPageEvent(previousPageIndex);\n  }\n  _nextButtonsDisabled() {\n    return this.disabled || !this.hasNextPage();\n  }\n  _previousButtonsDisabled() {\n    return this.disabled || !this.hasPreviousPage();\n  }\n  _updateDisplayedPageSizeOptions() {\n    if (!this._isInitialized) {\n      return;\n    }\n    if (!this.pageSize) {\n      this._pageSize = this.pageSizeOptions.length != 0 ? this.pageSizeOptions[0] : DEFAULT_PAGE_SIZE;\n    }\n    this._displayedPageSizeOptions = this.pageSizeOptions.slice();\n    if (this._displayedPageSizeOptions.indexOf(this.pageSize) === -1) {\n      this._displayedPageSizeOptions.push(this.pageSize);\n    }\n    this._displayedPageSizeOptions.sort((a, b) => a - b);\n    this._changeDetectorRef.markForCheck();\n  }\n  _emitPageEvent(previousPageIndex) {\n    this.page.emit({\n      previousPageIndex,\n      pageIndex: this.pageIndex,\n      pageSize: this.pageSize,\n      length: this.length\n    });\n  }\n  _navigate(index) {\n    const previousIndex = this.pageIndex;\n    if (index !== previousIndex) {\n      this.pageIndex = index;\n      this._emitPageEvent(previousIndex);\n    }\n  }\n  _buttonClicked(targetIndex, isDisabled) {\n    if (!isDisabled) {\n      this._navigate(targetIndex);\n    }\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginator,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Component\n  });\n  static ɵcmp = i0.ɵɵngDeclareComponent({\n    minVersion: \"17.0.0\",\n    version: \"21.0.3\",\n    type: MatPaginator,\n    isStandalone: true,\n    selector: \"mat-paginator\",\n    inputs: {\n      color: \"color\",\n      pageIndex: [\"pageIndex\", \"pageIndex\", numberAttribute],\n      length: [\"length\", \"length\", numberAttribute],\n      pageSize: [\"pageSize\", \"pageSize\", numberAttribute],\n      pageSizeOptions: \"pageSizeOptions\",\n      hidePageSize: [\"hidePageSize\", \"hidePageSize\", booleanAttribute],\n      showFirstLastButtons: [\"showFirstLastButtons\", \"showFirstLastButtons\", booleanAttribute],\n      selectConfig: \"selectConfig\",\n      disabled: [\"disabled\", \"disabled\", booleanAttribute]\n    },\n    outputs: {\n      page: \"page\"\n    },\n    host: {\n      attributes: {\n        \"role\": \"group\"\n      },\n      classAttribute: \"mat-mdc-paginator\"\n    },\n    exportAs: [\"matPaginator\"],\n    ngImport: i0,\n    template: \"<div class=\\\"mat-mdc-paginator-outer-container\\\">\\n  <div class=\\\"mat-mdc-paginator-container\\\">\\n    @if (!hidePageSize) {\\n      <div class=\\\"mat-mdc-paginator-page-size\\\">\\n        <div class=\\\"mat-mdc-paginator-page-size-label\\\" [attr.id]=\\\"_pageSizeLabelId\\\" aria-hidden=\\\"true\\\">\\n          {{_intl.itemsPerPageLabel}}\\n        </div>\\n\\n        @if (_displayedPageSizeOptions.length > 1) {\\n          <mat-form-field\\n            [appearance]=\\\"_formFieldAppearance!\\\"\\n            [color]=\\\"color\\\"\\n            class=\\\"mat-mdc-paginator-page-size-select\\\">\\n            <mat-select\\n              #selectRef\\n              [value]=\\\"pageSize\\\"\\n              [disabled]=\\\"disabled\\\"\\n              [aria-labelledby]=\\\"_pageSizeLabelId\\\"\\n              [panelClass]=\\\"selectConfig.panelClass || ''\\\"\\n              [disableOptionCentering]=\\\"selectConfig.disableOptionCentering\\\"\\n              (selectionChange)=\\\"_changePageSize($event.value)\\\"\\n              hideSingleSelectionIndicator>\\n              @for (pageSizeOption of _displayedPageSizeOptions; track pageSizeOption) {\\n                <mat-option [value]=\\\"pageSizeOption\\\">\\n                  {{pageSizeOption}}\\n                </mat-option>\\n              }\\n            </mat-select>\\n          <div class=\\\"mat-mdc-paginator-touch-target\\\" (click)=\\\"selectRef.open()\\\"></div>\\n          </mat-form-field>\\n        }\\n\\n        @if (_displayedPageSizeOptions.length <= 1) {\\n          <div class=\\\"mat-mdc-paginator-page-size-value\\\">{{pageSize}}</div>\\n        }\\n      </div>\\n    }\\n\\n    <div class=\\\"mat-mdc-paginator-range-actions\\\">\\n      <div class=\\\"mat-mdc-paginator-range-label\\\" aria-atomic=\\\"true\\\" aria-live=\\\"polite\\\" role=\\\"status\\\">\\n        {{_intl.getRangeLabel(pageIndex, pageSize, length)}}\\n      </div>\\n\\n      <!--\\n      The buttons use `disabledInteractive` so that they can retain focus if they become disabled,\\n      otherwise focus is moved to the document body. However, users should not be able to navigate\\n      into these buttons, so `tabindex` is set to -1 when disabled.\\n      -->\\n\\n      @if (showFirstLastButtons) {\\n        <button matIconButton type=\\\"button\\\"\\n                class=\\\"mat-mdc-paginator-navigation-first\\\"\\n                (click)=\\\"_buttonClicked(0, _previousButtonsDisabled())\\\"\\n                [attr.aria-label]=\\\"_intl.firstPageLabel\\\"\\n                [matTooltip]=\\\"_intl.firstPageLabel\\\"\\n                [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                [disabled]=\\\"_previousButtonsDisabled()\\\"\\n                [tabindex]=\\\"_previousButtonsDisabled() ? -1 : null\\\"\\n                disabledInteractive>\\n          <svg class=\\\"mat-mdc-paginator-icon\\\"\\n              viewBox=\\\"0 0 24 24\\\"\\n              focusable=\\\"false\\\"\\n              aria-hidden=\\\"true\\\">\\n            <path d=\\\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\\\"/>\\n          </svg>\\n        </button>\\n      }\\n      <button matIconButton type=\\\"button\\\"\\n              class=\\\"mat-mdc-paginator-navigation-previous\\\"\\n              (click)=\\\"_buttonClicked(pageIndex - 1, _previousButtonsDisabled())\\\"\\n              [attr.aria-label]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltip]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n              matTooltipPosition=\\\"above\\\"\\n              [disabled]=\\\"_previousButtonsDisabled()\\\"\\n              [tabindex]=\\\"_previousButtonsDisabled() ? -1 : null\\\"\\n              disabledInteractive>\\n        <svg class=\\\"mat-mdc-paginator-icon\\\"\\n             viewBox=\\\"0 0 24 24\\\"\\n             focusable=\\\"false\\\"\\n             aria-hidden=\\\"true\\\">\\n          <path d=\\\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\\"/>\\n        </svg>\\n      </button>\\n      <button matIconButton type=\\\"button\\\"\\n              class=\\\"mat-mdc-paginator-navigation-next\\\"\\n              (click)=\\\"_buttonClicked(pageIndex + 1, _nextButtonsDisabled())\\\"\\n              [attr.aria-label]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltip]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n              matTooltipPosition=\\\"above\\\"\\n              [disabled]=\\\"_nextButtonsDisabled()\\\"\\n              [tabindex]=\\\"_nextButtonsDisabled() ? -1 : null\\\"\\n              disabledInteractive>\\n        <svg class=\\\"mat-mdc-paginator-icon\\\"\\n             viewBox=\\\"0 0 24 24\\\"\\n             focusable=\\\"false\\\"\\n             aria-hidden=\\\"true\\\">\\n          <path d=\\\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\\\"/>\\n        </svg>\\n      </button>\\n      @if (showFirstLastButtons) {\\n        <button matIconButton type=\\\"button\\\"\\n                class=\\\"mat-mdc-paginator-navigation-last\\\"\\n                (click)=\\\"_buttonClicked(getNumberOfPages() - 1, _nextButtonsDisabled())\\\"\\n                [attr.aria-label]=\\\"_intl.lastPageLabel\\\"\\n                [matTooltip]=\\\"_intl.lastPageLabel\\\"\\n                [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                [disabled]=\\\"_nextButtonsDisabled()\\\"\\n                [tabindex]=\\\"_nextButtonsDisabled() ? -1 : null\\\"\\n                disabledInteractive>\\n          <svg class=\\\"mat-mdc-paginator-icon\\\"\\n              viewBox=\\\"0 0 24 24\\\"\\n              focusable=\\\"false\\\"\\n              aria-hidden=\\\"true\\\">\\n            <path d=\\\"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\\\"/>\\n          </svg>\\n        </button>\\n      }\\n    </div>\\n  </div>\\n</div>\\n\",\n    styles: [\".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}\\n\"],\n    dependencies: [{\n      kind: \"component\",\n      type: MatFormField,\n      selector: \"mat-form-field\",\n      inputs: [\"hideRequiredMarker\", \"color\", \"floatLabel\", \"appearance\", \"subscriptSizing\", \"hintLabel\"],\n      exportAs: [\"matFormField\"]\n    }, {\n      kind: \"component\",\n      type: MatSelect,\n      selector: \"mat-select\",\n      inputs: [\"aria-describedby\", \"panelClass\", \"disabled\", \"disableRipple\", \"tabIndex\", \"hideSingleSelectionIndicator\", \"placeholder\", \"required\", \"multiple\", \"disableOptionCentering\", \"compareWith\", \"value\", \"aria-label\", \"aria-labelledby\", \"errorStateMatcher\", \"typeaheadDebounceInterval\", \"sortComparator\", \"id\", \"panelWidth\", \"canSelectNullableOptions\"],\n      outputs: [\"openedChange\", \"opened\", \"closed\", \"selectionChange\", \"valueChange\"],\n      exportAs: [\"matSelect\"]\n    }, {\n      kind: \"component\",\n      type: MatOption,\n      selector: \"mat-option\",\n      inputs: [\"value\", \"id\", \"disabled\"],\n      outputs: [\"onSelectionChange\"],\n      exportAs: [\"matOption\"]\n    }, {\n      kind: \"component\",\n      type: MatIconButton,\n      selector: \"button[mat-icon-button], a[mat-icon-button], button[matIconButton], a[matIconButton]\",\n      exportAs: [\"matButton\", \"matAnchor\"]\n    }, {\n      kind: \"directive\",\n      type: MatTooltip,\n      selector: \"[matTooltip]\",\n      inputs: [\"matTooltipPosition\", \"matTooltipPositionAtOrigin\", \"matTooltipDisabled\", \"matTooltipShowDelay\", \"matTooltipHideDelay\", \"matTooltipTouchGestures\", \"matTooltip\", \"matTooltipClass\"],\n      exportAs: [\"matTooltip\"]\n    }],\n    changeDetection: i0.ChangeDetectionStrategy.OnPush,\n    encapsulation: i0.ViewEncapsulation.None\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.3\",\n  ngImport: i0,\n  type: MatPaginator,\n  decorators: [{\n    type: Component,\n    args: [{\n      selector: 'mat-paginator',\n      exportAs: 'matPaginator',\n      host: {\n        'class': 'mat-mdc-paginator',\n        'role': 'group'\n      },\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      imports: [MatFormField, MatSelect, MatOption, MatIconButton, MatTooltip],\n      template: \"<div class=\\\"mat-mdc-paginator-outer-container\\\">\\n  <div class=\\\"mat-mdc-paginator-container\\\">\\n    @if (!hidePageSize) {\\n      <div class=\\\"mat-mdc-paginator-page-size\\\">\\n        <div class=\\\"mat-mdc-paginator-page-size-label\\\" [attr.id]=\\\"_pageSizeLabelId\\\" aria-hidden=\\\"true\\\">\\n          {{_intl.itemsPerPageLabel}}\\n        </div>\\n\\n        @if (_displayedPageSizeOptions.length > 1) {\\n          <mat-form-field\\n            [appearance]=\\\"_formFieldAppearance!\\\"\\n            [color]=\\\"color\\\"\\n            class=\\\"mat-mdc-paginator-page-size-select\\\">\\n            <mat-select\\n              #selectRef\\n              [value]=\\\"pageSize\\\"\\n              [disabled]=\\\"disabled\\\"\\n              [aria-labelledby]=\\\"_pageSizeLabelId\\\"\\n              [panelClass]=\\\"selectConfig.panelClass || ''\\\"\\n              [disableOptionCentering]=\\\"selectConfig.disableOptionCentering\\\"\\n              (selectionChange)=\\\"_changePageSize($event.value)\\\"\\n              hideSingleSelectionIndicator>\\n              @for (pageSizeOption of _displayedPageSizeOptions; track pageSizeOption) {\\n                <mat-option [value]=\\\"pageSizeOption\\\">\\n                  {{pageSizeOption}}\\n                </mat-option>\\n              }\\n            </mat-select>\\n          <div class=\\\"mat-mdc-paginator-touch-target\\\" (click)=\\\"selectRef.open()\\\"></div>\\n          </mat-form-field>\\n        }\\n\\n        @if (_displayedPageSizeOptions.length <= 1) {\\n          <div class=\\\"mat-mdc-paginator-page-size-value\\\">{{pageSize}}</div>\\n        }\\n      </div>\\n    }\\n\\n    <div class=\\\"mat-mdc-paginator-range-actions\\\">\\n      <div class=\\\"mat-mdc-paginator-range-label\\\" aria-atomic=\\\"true\\\" aria-live=\\\"polite\\\" role=\\\"status\\\">\\n        {{_intl.getRangeLabel(pageIndex, pageSize, length)}}\\n      </div>\\n\\n      <!--\\n      The buttons use `disabledInteractive` so that they can retain focus if they become disabled,\\n      otherwise focus is moved to the document body. However, users should not be able to navigate\\n      into these buttons, so `tabindex` is set to -1 when disabled.\\n      -->\\n\\n      @if (showFirstLastButtons) {\\n        <button matIconButton type=\\\"button\\\"\\n                class=\\\"mat-mdc-paginator-navigation-first\\\"\\n                (click)=\\\"_buttonClicked(0, _previousButtonsDisabled())\\\"\\n                [attr.aria-label]=\\\"_intl.firstPageLabel\\\"\\n                [matTooltip]=\\\"_intl.firstPageLabel\\\"\\n                [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                [disabled]=\\\"_previousButtonsDisabled()\\\"\\n                [tabindex]=\\\"_previousButtonsDisabled() ? -1 : null\\\"\\n                disabledInteractive>\\n          <svg class=\\\"mat-mdc-paginator-icon\\\"\\n              viewBox=\\\"0 0 24 24\\\"\\n              focusable=\\\"false\\\"\\n              aria-hidden=\\\"true\\\">\\n            <path d=\\\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\\\"/>\\n          </svg>\\n        </button>\\n      }\\n      <button matIconButton type=\\\"button\\\"\\n              class=\\\"mat-mdc-paginator-navigation-previous\\\"\\n              (click)=\\\"_buttonClicked(pageIndex - 1, _previousButtonsDisabled())\\\"\\n              [attr.aria-label]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltip]=\\\"_intl.previousPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_previousButtonsDisabled()\\\"\\n              matTooltipPosition=\\\"above\\\"\\n              [disabled]=\\\"_previousButtonsDisabled()\\\"\\n              [tabindex]=\\\"_previousButtonsDisabled() ? -1 : null\\\"\\n              disabledInteractive>\\n        <svg class=\\\"mat-mdc-paginator-icon\\\"\\n             viewBox=\\\"0 0 24 24\\\"\\n             focusable=\\\"false\\\"\\n             aria-hidden=\\\"true\\\">\\n          <path d=\\\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\\\"/>\\n        </svg>\\n      </button>\\n      <button matIconButton type=\\\"button\\\"\\n              class=\\\"mat-mdc-paginator-navigation-next\\\"\\n              (click)=\\\"_buttonClicked(pageIndex + 1, _nextButtonsDisabled())\\\"\\n              [attr.aria-label]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltip]=\\\"_intl.nextPageLabel\\\"\\n              [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n              matTooltipPosition=\\\"above\\\"\\n              [disabled]=\\\"_nextButtonsDisabled()\\\"\\n              [tabindex]=\\\"_nextButtonsDisabled() ? -1 : null\\\"\\n              disabledInteractive>\\n        <svg class=\\\"mat-mdc-paginator-icon\\\"\\n             viewBox=\\\"0 0 24 24\\\"\\n             focusable=\\\"false\\\"\\n             aria-hidden=\\\"true\\\">\\n          <path d=\\\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\\\"/>\\n        </svg>\\n      </button>\\n      @if (showFirstLastButtons) {\\n        <button matIconButton type=\\\"button\\\"\\n                class=\\\"mat-mdc-paginator-navigation-last\\\"\\n                (click)=\\\"_buttonClicked(getNumberOfPages() - 1, _nextButtonsDisabled())\\\"\\n                [attr.aria-label]=\\\"_intl.lastPageLabel\\\"\\n                [matTooltip]=\\\"_intl.lastPageLabel\\\"\\n                [matTooltipDisabled]=\\\"_nextButtonsDisabled()\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                [disabled]=\\\"_nextButtonsDisabled()\\\"\\n                [tabindex]=\\\"_nextButtonsDisabled() ? -1 : null\\\"\\n                disabledInteractive>\\n          <svg class=\\\"mat-mdc-paginator-icon\\\"\\n              viewBox=\\\"0 0 24 24\\\"\\n              focusable=\\\"false\\\"\\n              aria-hidden=\\\"true\\\">\\n            <path d=\\\"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\\\"/>\\n          </svg>\\n        </button>\\n      }\\n    </div>\\n  </div>\\n</div>\\n\",\n      styles: [\".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}\\n\"]\n    }]\n  }],\n  ctorParameters: () => [],\n  propDecorators: {\n    color: [{\n      type: Input\n    }],\n    pageIndex: [{\n      type: Input,\n      args: [{\n        transform: numberAttribute\n      }]\n    }],\n    length: [{\n      type: Input,\n      args: [{\n        transform: numberAttribute\n      }]\n    }],\n    pageSize: [{\n      type: Input,\n      args: [{\n        transform: numberAttribute\n      }]\n    }],\n    pageSizeOptions: [{\n      type: Input\n    }],\n    hidePageSize: [{\n      type: Input,\n      args: [{\n        transform: booleanAttribute\n      }]\n    }],\n    showFirstLastButtons: [{\n      type: Input,\n      args: [{\n        transform: booleanAttribute\n      }]\n    }],\n    selectConfig: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input,\n      args: [{\n        transform: booleanAttribute\n      }]\n    }],\n    page: [{\n      type: Output\n    }]\n  }\n});\n\nclass MatPaginatorModule {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginatorModule,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.NgModule\n  });\n  static ɵmod = i0.ɵɵngDeclareNgModule({\n    minVersion: \"14.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginatorModule,\n    imports: [MatButtonModule, MatSelectModule, MatTooltipModule, MatPaginator],\n    exports: [MatPaginator]\n  });\n  static ɵinj = i0.ɵɵngDeclareInjector({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: MatPaginatorModule,\n    imports: [MatButtonModule, MatSelectModule, MatTooltipModule, MatPaginator]\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.3\",\n  ngImport: i0,\n  type: MatPaginatorModule,\n  decorators: [{\n    type: NgModule,\n    args: [{\n      imports: [MatButtonModule, MatSelectModule, MatTooltipModule, MatPaginator],\n      exports: [MatPaginator]\n    }]\n  }]\n});\n\nexport { MAT_PAGINATOR_DEFAULT_OPTIONS, MatPaginator, MatPaginatorIntl, MatPaginatorModule, PageEvent };\n","import { CompareWith } from './models/compare-with.model';\r\nimport { HistoryAttribute, HistoryAttributeValue, HistoryItem } from './models/history-item.model';\r\nimport { Version, VersionEntityAttributeValues, VersionJsonParsed } from './models/version.model';\r\n\r\nexport function getHistoryItems(versions: Version[], page: number, pageSize: number, compareWith: CompareWith) {\r\n  if (versions == null || page == null || pageSize == null || compareWith == null)\r\n    return null;\r\n  const filtered = versions.slice((page - 1) * pageSize, page * pageSize);\r\n\r\n  const historyItems = calcHistoryItems(filtered, versions, compareWith);\r\n  return historyItems;\r\n}\r\n\r\nfunction calcHistoryItems(filteredVersions: Version[], versions: Version[], compareWith: CompareWith) {\r\n  return filteredVersions.map(version => ({\r\n    changeSetId: version.ChangeSetId,\r\n    attributes: calcHistoryAttributes(version, versions, compareWith),\r\n    historyId: version.HistoryId,\r\n    timeStamp: version.TimeStamp,\r\n    user: version.User,\r\n    versionNumber: version.VersionNumber,\r\n    isLastVersion: !versions.some(v => v.VersionNumber === version.VersionNumber + 1),\r\n  } satisfies HistoryItem));\r\n}\r\n\r\nfunction calcHistoryAttributes(version: Version, versions: Version[], compareWith: CompareWith) {\r\n  const currentDataTypes = (JSON.parse(version.Json) as VersionJsonParsed).Entity.Attributes;\r\n  const previousItem = compareWith === 'live' ? findLive(versions) : versions.find(v => v.VersionNumber === version.VersionNumber - 1);\r\n  const previousDataTypes = previousItem ? (JSON.parse(previousItem.Json) as VersionJsonParsed).Entity.Attributes : null;\r\n\r\n  const allAttributes: { name: string, dataType: string }[] = [];\r\n  if (currentDataTypes != null) {\r\n    Object.entries(currentDataTypes).forEach(([dataType, attributes]) => {\r\n      Object.keys(attributes).forEach(attributeName => {\r\n        if (allAttributes.find(a => a.name === attributeName && a.dataType === dataType) != null)\r\n          return;\r\n        allAttributes.push({ name: attributeName, dataType });\r\n      });\r\n    });\r\n  }\r\n  if (previousDataTypes != null) {\r\n    Object.entries(previousDataTypes).forEach(([dataType, attributes]) => {\r\n      Object.keys(attributes).forEach(attributeName => {\r\n        if (allAttributes.find(a => a.name === attributeName && a.dataType === dataType) != null)\r\n          return;\r\n        allAttributes.push({ name: attributeName, dataType });\r\n      });\r\n    });\r\n  }\r\n\r\n  const historyAttributes = allAttributes.map(attribute => {\r\n    const currentValues = currentDataTypes?.[attribute.dataType]?.[attribute.name];\r\n    const previousValues = previousDataTypes?.[attribute.dataType]?.[attribute.name];\r\n    return {\r\n      name: attribute.name,\r\n      dataType: attribute.dataType,\r\n      change: calcChangeType(currentValues, previousValues, true),\r\n      values: calcHistoryValues(currentValues, previousValues),\r\n    } satisfies HistoryAttribute;\r\n  });\r\n\r\n  return historyAttributes;\r\n}\r\n\r\nfunction findLive(versions: Version[]) {\r\n  let liveVersion = versions[0];\r\n  for (const version of versions) {\r\n    if (version.VersionNumber <= liveVersion.VersionNumber)\r\n      continue;\r\n    liveVersion = version;\r\n  }\r\n  return liveVersion;\r\n}\r\n\r\nfunction calcHistoryValues(values: VersionEntityAttributeValues, previousValues: VersionEntityAttributeValues) {\r\n  const allLangKeys: string[] = [];\r\n  if (values != null) {\r\n    Object.keys(values).forEach(lang => {\r\n      if (allLangKeys.includes(lang)) return;\r\n      allLangKeys.push(lang);\r\n    });\r\n  }\r\n  if (previousValues != null) {\r\n    Object.keys(previousValues).forEach(lang => {\r\n      if (allLangKeys.includes(lang)) return;\r\n      allLangKeys.push(lang);\r\n    });\r\n  }\r\n\r\n  const historyValues = allLangKeys.map(langKey => {\r\n    const currentValue = values?.[langKey];\r\n    const previousValue = previousValues?.[langKey];\r\n    return {\r\n      langKey,\r\n      value: currentValue,\r\n      oldValue: previousValue,\r\n      change: calcChangeType(currentValue, previousValue),\r\n    } satisfies HistoryAttributeValue;\r\n  });\r\n\r\n  return historyValues;\r\n}\r\n\r\nfunction calcChangeType(currentValue: any, previousValue: any, sortObjectKeys = false) {\r\n  let change: 'new' | 'deleted' | 'changed' | 'none';\r\n\r\n  if (sortObjectKeys) {\r\n    if (typeof currentValue === 'object') {\r\n      currentValue = sortKeysAlphabetically(currentValue);\r\n    }\r\n    if (typeof previousValue === 'object') {\r\n      previousValue = sortKeysAlphabetically(previousValue);\r\n    }\r\n  }\r\n\r\n  change = (currentValue != null && previousValue != null)\r\n    ? (JSON.stringify(currentValue) !== JSON.stringify(previousValue)) ?  'changed' : 'none'\r\n    : (currentValue != null) ? 'new' : 'deleted';\r\n\r\n  return change;\r\n}\r\n\r\nfunction sortKeysAlphabetically(obj: Record<string, any>): Record<string, any> {\r\n  if (typeof obj !== 'object') return obj;\r\n\r\n  return Object.keys(obj)\r\n    .sort()\r\n    .reduce((acc, key) => ({ ...acc, [key]: obj[key] }), {});\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\nimport { Version } from '../models/version.model';\r\n\r\nconst webApiVersionsGet = 'cms/history/get';\r\nconst webApiVersionsRestore = 'cms/history/restore';\r\n\r\n@Injectable()\r\nexport class VersionsService extends HttpServiceBaseSignal {\r\n\r\n  fetchVersions(entityId: number, initial: Version[] = null) {\r\n    return this.postSignal<Version[]>(\r\n      webApiVersionsGet,\r\n      { entityId },\r\n      {\r\n        params: { appId: this.appId },\r\n      },\r\n      initial,\r\n    );\r\n  }\r\n\r\n  restore(entityId: number, changeId: number) {\r\n    return this.http.post<boolean>(\r\n      this.apiUrl(webApiVersionsRestore),\r\n      { entityId },\r\n      {\r\n        params: { appId: this.appId, changeId: changeId.toString() },\r\n      },\r\n    );\r\n  }\r\n}\r\n","<div class=\"eav-dialog eav-no-scrollbar\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">Item History</div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"dialog.close()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-content\">\r\n    <p>Check version history for this item and restore the version you need.</p>\r\n    @if (historyItems()?.length > 0) {\r\n      <div class=\"eav-compare-box\">\r\n        <mat-form-field color=\"accent\" class=\"eav-mat-form-field eav-compare-box__dropdown\">\r\n          <mat-select [value]=\"compareWith()\" name=\"Scope\" (selectionChange)=\"compareChange($event.value)\">\r\n            <mat-option value=\"previous\">Compare with: Previous</mat-option>\r\n            <mat-option value=\"live\">Compare with: Live</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n    }\r\n    <div>\r\n      @if (historyItems() === null) {\r\n        <div>Loading...</div>\r\n      }\r\n      @if (historyItems()?.length === 0) {\r\n        <div>No previous versions of this item found</div>\r\n      }\r\n      @if (historyItems()?.length > 0) {\r\n        <mat-accordion multi class=\"eav-history-tables\">\r\n          @for (historyItem of historyItems(); track historyItem) {\r\n            <app-history-item\r\n              [historyItem]=\"historyItem\"\r\n              [isExpanded]=\"expandedPanels[historyItem.versionNumber]\"\r\n              [expandedAttributes]=\"expandedAttributes\"\r\n              (panelExpandedChange)=\"panelExpandedChange($event, historyItem.versionNumber)\"\r\n              (attributeToggle)=\"attributeExpandedToggle(historyItem.versionNumber, $event)\"\r\n              (restore)=\"restore($event)\"\r\n            ></app-history-item>\r\n          }\r\n        </mat-accordion>\r\n      }\r\n    </div>\r\n    @if (historyItems()?.length > 0) {\r\n      <mat-paginator\r\n        color=\"accent\"\r\n        showFirstLastButtons=\"true\"\r\n        [length]=\"version().length\"\r\n        [pageSize]=\"pageSize()\"\r\n        [pageSizeOptions]=\"pageSizeOptions\"\r\n        (page)=\"pageChange($event)\"\r\n      >\r\n      </mat-paginator>\r\n    }\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatPaginatorModule, PageEvent } from '@angular/material/paginator';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { transient } from '../../../../core';\r\nimport { computedObj, signalObj } from '../shared/signals/signal.utilities';\r\nimport { HistoryItemComponent } from './history-item';\r\nimport { getHistoryItems } from './item-history.helpers';\r\nimport { CompareWith } from './models/compare-with.model';\r\nimport { ItemHistoryResult } from './models/item-history-result.model';\r\nimport { VersionsService } from './services/versions.service';\r\n\r\n@Component({\r\n  selector: 'app-item-history',\r\n  templateUrl: './item-history.html',\r\n  styleUrls: ['./item-history.scss'],\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatOptionModule,\r\n    MatExpansionModule,\r\n    MatPaginatorModule,\r\n    HistoryItemComponent,\r\n  ]\r\n})\r\nexport class ItemHistoryComponent {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  #versionsService = transient(VersionsService);\r\n\r\n  constructor(\r\n    protected dialog: MatDialogRef<ItemHistoryComponent>,\r\n    private route: ActivatedRoute,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n  }\r\n  \r\n  #itemId = parseInt(this.route.snapshot.paramMap.get('itemId'), 10);\r\n  version = this.#versionsService.fetchVersions(this.#itemId);\r\n\r\n  pageSizeOptions = [10, 20, 50];\r\n  expandedPanels: Record<string, boolean> = {};\r\n  expandedAttributes: Record<string, boolean> = {};\r\n\r\n\r\n  #page = signal<number>(1);\r\n  pageSize = signalObj<number>('pageSize', this.pageSizeOptions[0]);\r\n  compareWith = signal<CompareWith>('live');\r\n  historyItems = computedObj('historyItems', () => getHistoryItems(this.version(), this.#page(), this.pageSize(), this.compareWith()));\r\n\r\n  compareChange(newCompareWith: CompareWith) {\r\n    this.compareWith.set(newCompareWith);\r\n  }\r\n\r\n  panelExpandedChange(expand: boolean, versionNumber: number) {\r\n    this.expandedPanels[versionNumber] = expand;\r\n  }\r\n\r\n  attributeExpandedToggle(versionNumber: number, name: string) {\r\n    this.expandedAttributes[versionNumber + name] = !this.expandedAttributes[versionNumber + name];\r\n  }\r\n\r\n  pageChange(event: PageEvent) {\r\n    const newPage = event.pageIndex + 1;\r\n    if (newPage !== this.#page()) {\r\n      this.expandedPanels = {};\r\n      this.expandedAttributes = {};\r\n      this.#page.set(newPage);\r\n    }\r\n    this.pageSize.set(event.pageSize);\r\n  }\r\n\r\n  restore(changeId: number) {\r\n    this.snackBar.open('Restoring previous version...');\r\n    this.#versionsService.restore(this.#itemId, changeId).subscribe(_ => {\r\n      this.snackBar.open('Previous version restored. Will reload edit dialog', null, { duration: 3000 });\r\n      this.dialog.close({\r\n        refreshEdit: true,\r\n      } satisfies ItemHistoryResult);\r\n    });\r\n  }\r\n}\r\n","import * as i0 from '@angular/core';\nimport { Injectable } from '@angular/core';\n\nclass UniqueSelectionDispatcher {\n  _listeners = [];\n  notify(id, name) {\n    for (let listener of this._listeners) {\n      listener(id, name);\n    }\n  }\n  listen(listener) {\n    this._listeners.push(listener);\n    return () => {\n      this._listeners = this._listeners.filter(registered => {\n        return listener !== registered;\n      });\n    };\n  }\n  ngOnDestroy() {\n    this._listeners = [];\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: UniqueSelectionDispatcher,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.3\",\n    ngImport: i0,\n    type: UniqueSelectionDispatcher,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.3\",\n  ngImport: i0,\n  type: UniqueSelectionDispatcher,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nexport { UniqueSelectionDispatcher };\n"],"x_google_ignoreList":[0,1,6]}
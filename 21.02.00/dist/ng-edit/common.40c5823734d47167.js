"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["common"],{4038(C,h,t){t.d(h,{i:()=>g});class g{static tryParse(r){try{return JSON.parse(r)}catch{}}}},5816(C,h,t){t.d(h,{V:()=>u});var g=t(37580),o=t(56884),r=t(85309),_=t(93840),e=t(28136),f=t(9001),n=t(59339),p=t(34601),i=t(36124),s=t(17828);function a(m,v){if(1&m){const E=i.RV6();i.j41(0,"div",2),i.bIt("click",function(){o.eBV(E);const P=i.XpG();return o.Njj(P.openLightspeedFeatureInfo())}),i.j41(1,"mat-icon",3),i.EFF(2," bolt "),i.k0s()()}}function d(m,v){if(1&m&&(i.j41(0,"a",5)(1,"mat-icon",6),i.EFF(2," bolt "),i.k0s()()),2&m){const E=i.XpG(2);i.Y8G("href","#"+E.params().lightSpeedLink(E.lightSpeedOwner()),i.B4B)}}function l(m,v){if(1&m&&(i.j41(0,"a",5)(1,"mat-icon",7),i.EFF(2," bolt "),i.k0s()()),2&m){const E=i.XpG(2);i.Y8G("href","#"+E.params().lightSpeedLink(E.lightSpeedOwner()),i.B4B)}}function c(m,v){if(1&m&&(i.j41(0,"div",4),i.nVh(1,d,3,1,"a",5)(2,l,3,1,"a",5),i.k0s()),2&m){const E=i.XpG();i.HbH(i.VkB("eav-grid-action-button ",E.appHasLightSpeed?"":"disabled")),i.Y8G("tippy",E.appHasLightSpeed?E.lightSpeed().Title:"Not yet configured for LightSpeed"),i.R7$(),i.vxM(E.appLightSpeedEnabled?1:2)}}let u=(()=>{class m{#e;constructor(){this.lightSpeedOwner=g.hFB.required(),this.params=g.hFB.required(),this.lightSpeed=g.hFB.required(),this.#e=(0,o.WQX)(f.D),this.lightSpeedEnabled=this.#e.isEnabled[e.T.LightSpeed]}get appHasLightSpeed(){return null!=this.lightSpeed()?.Id}get appLightSpeedEnabled(){return 1==this.lightSpeed()?.IsEnabled}openLightspeedFeatureInfo(){this.params().openLightspeedFeatureInfo()}static{this.\u0275fac=function(M){return new(M||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["app-lightspeed-action"]],inputs:{lightSpeedOwner:[1,"lightSpeedOwner"],params:[1,"params"],lightSpeed:[1,"lightSpeed"]},decls:2,vars:1,consts:[["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled"],["matRipple","",3,"class","tippy"],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadgeIcon","diamond","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy"],[1,"default-link",3,"href"],["matBadgeSize","small","matBadgeIcon","check","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadgeIcon","block","matBadgePosition","below after","aria-hidden","false"]],template:function(M,P){1&M&&i.nVh(0,a,3,0,"div",0)(1,c,3,5,"div",1),2&M&&i.vxM(P.lightSpeedEnabled()?1:0)},dependencies:[p.e,_.m_,_.An,n.A,r.p,s.r6],encapsulation:2})}}return m})()},6953(C,h,t){t.d(h,{$:()=>o});var g=t(93826);class o{static fieldValuesAreEqual(_,e){return!!(_===e||"number"==typeof _&&"number"==typeof e&&isNaN(_)&&isNaN(e)||Array.isArray(_)&&Array.isArray(e)&&g.a.arraysEqual(_,e))}static getItemValuesChanges(_,e){const f={};for(const n of Object.keys(e)){const p=e[n];o.fieldValuesAreEqual(p,_[n])||(f[n]=p)}return 0===Object.keys(f).length?void 0:f}}},14513(C,h,t){t.d(h,{t:()=>n});var g=t(34435),o=t(67993),r=t(96474),_=t(56884),e=t(36124);const f={all:!1,get:!0,getResource:!0,getFirst:!0};let n=(()=>{class p extends r.D{constructor(){super(...arguments),this.log=(0,g.Yx)({SysDataService:p},f)}getFirst(s){this.log.fnIf("getFirst",s);const d=this.get(s);return(0,o.bo)(s.source,()=>{const l=d();return l.length>0?l[0]:null})}get(s){const a=this.log.fnIf("get",s),d=this.getMany(s);return(0,o.bo)(s.source,()=>{if(a.a(`computing flattened data for source: ${s.source}`),d.isLoading())return a.a("Resource is loading, returning empty array"),[];if(d.error())return a.a(`Error loading SysData source '${s.source}': ${d.error()}`),[];const c=d.value(),u=c?.default??c?.Default;return a.a("data",{allData:c,data:u}),u??[]})}getMany({refresh:s,source:a,params:d,fields:l,noCamel:c,streams:u}){const m=this.log.fnIf("getResource",{source:a,params:d,fields:l});return this.newHttpResource(()=>{const v=s?.(),E=("function"==typeof d?d():d)??{},M=("function"==typeof l?l():l)??"";return m.a(`creating httpResource for source: ${a}, '${v}'`,{params:d,fields:l,noCamel:c,streams:u}),{url:`app/auto/query/System.SysData/${"*"==u?"":u??"Default"}`,params:{appId:this.context.appId,SysDataSource:a,...M?{$select:M}:{},...c?{}:{$casing:"camel"},...E}}})}static{this.\u0275fac=(()=>{let s;return function(d){return(s||(s=e.xGo(p)))(d||p)}})()}static{this.\u0275prov=_.jDH({token:p,factory:p.\u0275fac})}}return p})()},20753(C,h,t){t.d(h,{contentItemsRoutes:()=>n});var g=t(51195),o=t(93454),r=t(88329),_=t(89204);const f={name:"IMPORT_CONTENT_ITEM_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,_.A)(function*(){const{ImportContentItemComponent:p}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_components_base_ts-projects_eav-ui_src_app_shared_fiel-d2d33b"),t.e("projects_eav-ui_src_app_content-items_import-content-item_import-content-item_ts-node_modules-05fd50")]).then(t.bind(t,14307));return p})()},n=[{path:"",component:r.DialogEntryComponent,data:{dialog:{name:"CONTENT_ITEMS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,_.A)(function*(){const{ContentItemsComponent:p}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022__list-key-manager-chunk_mjs-node_modules_angular_cd-ebcbbe"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022__activedescendant-key-manager-chunk_mjs-node_module-eddd95"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_base_ts-projects_eav-ui_src_app_shared_fiel-d2d33b"),t.e("default-node_modules_angular_material_fesm2022_menu_mjs"),t.e("default-projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_ea-436ebb"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_content-items_ts")]).then(t.bind(t,1771));return p})()}},children:[...o.H.getRoutes(),{path:"export/:contentTypeStaticName",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(p=>p.ContentExportRoutes)},{path:"export/:contentTypeStaticName/:selectedIds",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(p=>p.ContentExportRoutes)},{path:"import",component:r.DialogEntryComponent,data:{dialog:f}},{path:":contentTypeStaticName/import",loadChildren:()=>t.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(t.bind(t,3031)).then(p=>p.contentImportRoutes),data:{title:"Import Items"}},...g.RD]}]},33518(C,h,t){function g(o,r,_=0){const f=o.length===_+1?r:g.bind(this,o,r,_+1),n=o[_],p="string"==typeof n.test?n.test:null,i="function"==typeof n.test?n.test:null,s=window;null!=p&&s[p]||null!=i&&i()?r():window.require([n.src],a=>{a&&!s[p]&&(s[p]=a),f()})}t.d(h,{P:()=>g})},33992(C,h,t){t.d(h,{b:()=>a});var g=t(46443),o=t(70271),r=t(62876),_=t(24467),e=t(56884),f=t(36124);let a=(()=>{class d extends _.B{saveFeatures(c){return this.http.post(this.apiUrl("admin/feature/SaveNew"),c)}getLicensesLive(c){return(0,g.fx)(()=>(c(),this.apiUrl("sys/license/Summary")))}uploadLicense(c){const u=new FormData;return u.append("File",c),this.http.post(this.apiUrl("sys/license/Upload"),u).pipe((0,o.T)(m=>({Success:m.Success,Messages:[{MessageType:m.Success?r.G1.Success:r.G1.Error,Text:`License ${m.Success?"uploaded":"upload failed"}: ${m.Message}`}]})))}retrieveLicensePromise(){return this.fetchPromise("sys/license/Retrieve",{})}static{this.\u0275fac=(()=>{let c;return function(m){return(c||(c=f.xGo(d)))(m||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()},36740(C,h,t){t.d(h,{z:()=>o});const o=t(66619).c.production?[]:["ViewController"]},37650(C,h,t){t.d(h,{H:()=>l});var g=t(37580),o=t(34456),r=t(84175),_=t(90353),e=t(93840),f=t(8827),n=t(36124);const p=(c,u)=>u.path;function i(c,u){if(1&c&&(n.j41(0,"div",1),n.EFF(1),n.k0s()),2&c){const m=u.$implicit;n.R7$(),n.Lme(" ",m.name," (",m.localEntities,") ")}}function s(c,u){if(1&c&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s()()),2&c){const m=u.$implicit;n.R7$(2),n.JRh(m.path),n.R7$(),n.AVh("ok","unchanged"===m.status)("changed","changed"===m.status)("added","added"===m.status)("missing","missing"===m.status),n.R7$(),n.SpI(" ",m.status," ")}}function a(c,u){if(1&c&&(n.j41(0,"h4"),n.EFF(1,"Data"),n.k0s(),n.j41(2,"div"),n.EFF(3),n.nrm(4,"br"),n.Z7z(5,i,2,2,"div",1,n.fX1),n.k0s(),n.j41(7,"h4"),n.EFF(8,"Lock File"),n.k0s(),n.j41(9,"div",2),n.EFF(10),n.k0s(),n.j41(11,"h4"),n.EFF(12,"Files"),n.k0s(),n.j41(13,"mat-accordion")(14,"mat-expansion-panel")(15,"mat-expansion-panel-header")(16,"mat-panel-description"),n.EFF(17),n.k0s()(),n.j41(18,"div",3)(19,"table",4)(20,"tr")(21,"th"),n.EFF(22,"Path"),n.k0s(),n.j41(23,"th"),n.EFF(24,"Status"),n.k0s()(),n.Z7z(25,s,5,10,"tr",null,p),n.k0s()()()()),2&c){const m=n.XpG();n.R7$(3),n.SpI(" Content Types: ",m.data().data.contentTypes.length," "),n.R7$(2),n.Dyx(m.data().data.contentTypes),n.R7$(4),n.AVh("ok",m.data().foundLock)("error",!m.data().foundLock),n.R7$(),n.SpI(" ",m.data().foundLock?"Found":"Missing"," "),n.R7$(7),n.LHq(" Total: ",m.data().summary.total," | Changed: ",m.data().summary.changed," | Added: ",m.data().summary.added," | Missing: ",m.data().summary.missing," "),n.R7$(8),n.Dyx(m.data().files)}}function d(c,u){1&c&&(n.j41(0,"div",0)(1,"p"),n.EFF(2,"No data available."),n.k0s()())}let l=(()=>{class c{constructor(){this.data=g.hFB.required()}static{this.\u0275fac=function(v){return new(v||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["app-inspect-extension"]],inputs:{data:[1,"data"]},decls:2,vars:1,consts:[[1,"no-data"],[1,"content-type-chip"],[1,"status"],[1,"content"],[1,"file-table"]],template:function(v,E){if(1&v&&n.nVh(0,a,27,10)(1,d,3,0,"div",0),2&v){let M;n.vxM(null!=(M=E.data())&&M.foundLock?0:1)}},dependencies:[r.Hl,e.m_,f.mV,o.YN,_.MY,_.BS,_.GK,_.Z2,_.Q6],styles:["mat-panel-title[_ngcontent-%COMP%]{font-size:20px;font-weight:575}mat-card[_ngcontent-%COMP%]{margin-bottom:8px}.status.ok[_ngcontent-%COMP%]{color:#2e7d32}.status.error[_ngcontent-%COMP%]{color:#c62828}.content-type-chip[_ngcontent-%COMP%]{display:inline-block;background:#e0e0e0;padding:2px 8px;border-radius:12px;margin-right:6px;margin-top:4px;font-size:12px}.content[_ngcontent-%COMP%]{max-height:550px;overflow-y:auto}.file-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:8px}.file-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;border-bottom:1px solid #ddd;padding-bottom:6px;font-size:14px}.file-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 0;font-size:13px}td.ok[_ngcontent-%COMP%]{color:#2e7d32}td.changed[_ngcontent-%COMP%]{color:#f9a825}td.added[_ngcontent-%COMP%]{color:#1565c0}td.missing[_ngcontent-%COMP%]{color:#c62828}"]})}}return c})()},40374(C,h,t){t.d(h,{y:()=>g});class g{refresh(r){return!0}}},45444(C,h,t){t.d(h,{J:()=>c});var g=t(79748),o=t(56884),r=t(84175),_=t(90353),e=t(36124);function f(u,m){if(1&u&&e.EFF(0),2&u){const v=e.XpG().$implicit;e.SpI(" ",null==v.values[0]?null:v.values[0].value," ")}}function n(u,m){if(1&u&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&u){const v=e.XpG().$implicit;e.HbH(e.VkB("eav-history-",v.change)),e.R7$(),e.SpI(" ","deleted"===v.change?v.oldValue:v.value," ")}}function p(u,m){if(1&u&&(e.j41(0,"div",10),e.EFF(1),e.k0s(),e.j41(2,"div",11),e.EFF(3),e.k0s()),2&u){const v=e.XpG().$implicit;e.R7$(),e.JRh(v.value),e.R7$(2),e.JRh(v.oldValue)}}function i(u,m){if(1&u&&(e.j41(0,"div",7)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div",8),e.nVh(4,n,2,4,"div",9),e.nVh(5,p,4,2),e.k0s()()),2&u){const v=m.$implicit;e.R7$(),e.HbH(e.VkB("eav-detail-row__label eav-history-",v.change)),e.R7$(),e.SpI("",v.langKey,":"),e.R7$(2),e.vxM("changed"!==v.change?4:-1),e.R7$(),e.vxM("changed"===v.change?5:-1)}}function s(u,m){if(1&u&&(e.j41(0,"div",6),e.Z7z(1,i,6,6,"div",7,e.fX1),e.k0s()),2&u){const v=e.XpG().$implicit;e.R7$(),e.Dyx(v.values)}}function a(u,m){if(1&u){const v=e.RV6();e.j41(0,"div",1)(1,"div",4),e.bIt("click",function(){const M=o.eBV(v).$implicit,P=e.XpG(2);return o.Njj(P.onAttributeToggle(M.name))}),e.j41(2,"div"),e.EFF(3),e.k0s(),e.j41(4,"div"),e.nVh(5,f,1,1),e.k0s(),e.j41(6,"div",5)(7,"i"),e.EFF(8),e.k0s()()(),e.nVh(9,s,3,0,"div",6),e.k0s()}if(2&u){const v=m.$implicit,E=e.XpG(2);e.R7$(2),e.HbH(e.VkB("eav-row-main__label eav-history-",v.change)),e.R7$(),e.SpI(" ",v.name," "),e.R7$(),e.HbH(e.VkB("eav-row-main__value eav-history-",v.change)),e.R7$(),e.vxM(E.expandedAttributes[E.historyItem.versionNumber+v.name]?-1:5),e.R7$(3),e.SpI("[",v.dataType,"]"),e.R7$(),e.vxM(E.expandedAttributes[E.historyItem.versionNumber+v.name]?9:-1)}}function d(u,m){if(1&u){const v=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){o.eBV(v);const M=e.XpG(2);return o.Njj(M.onRestore())}),e.EFF(1," Restore "),e.k0s()}}function l(u,m){if(1&u&&(e.Z7z(0,a,10,10,"div",1,e.fX1),e.j41(2,"div",2),e.nVh(3,d,2,0,"button",3),e.k0s()),2&u){const v=e.XpG();e.Dyx(v.historyItem.attributes),e.R7$(3),e.vxM(v.historyItem.isLastVersion?-1:3)}}let c=(()=>{class u{constructor(){this.panelExpandedChange=new o.bkB,this.attributeToggle=new o.bkB,this.restore=new o.bkB}getLocalDate(v){return new Date(v)}onExpandedChange(v){this.panelExpandedChange.emit(v)}onAttributeToggle(v){this.attributeToggle.emit(v)}onRestore(){this.restore.emit(this.historyItem.changeSetId)}static{this.\u0275fac=function(E){return new(E||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-history-item"]],inputs:{historyItem:"historyItem",isExpanded:"isExpanded",expandedAttributes:"expandedAttributes"},outputs:{panelExpandedChange:"panelExpandedChange",attributeToggle:"attributeToggle",restore:"restore"},decls:11,vars:12,consts:[[3,"expandedChange","expanded"],[1,"eav-table-row"],[1,"eav-row-actions"],["mat-raised-button","",1,"eav-action-button"],[1,"eav-table-row__main","eav-row-main",3,"click"],[1,"eav-row-main__type"],[1,"eav-table-row__details"],[1,"eav-detail-row"],[1,"eav-detail-row__value"],[3,"class"],[1,"eav-history-new"],[1,"eav-history-deleted","eav-history-deleted__value"],["mat-raised-button","",1,"eav-action-button",3,"click"]],template:function(E,M){1&E&&(e.j41(0,"mat-expansion-panel",0),e.bIt("expandedChange",function(y){return M.onExpandedChange(y)}),e.j41(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e.EFF(3),e.k0s(),e.j41(4,"mat-panel-description"),e.EFF(5),e.nI1(6,"date"),e.j41(7,"small"),e.EFF(8),e.nI1(9,"date"),e.k0s()()(),e.nVh(10,l,4,1),e.k0s()),2&E&&(e.Y8G("expanded",M.isExpanded),e.R7$(3),e.SpI("Version ",M.historyItem.versionNumber),e.R7$(2),e.SpI(" ",e.i5U(6,5,M.getLocalDate(M.historyItem.timeStamp),"yyyy-MM-dd HH:mm")," \xa0 "),e.R7$(3),e.SpI("(",e.brH(9,8,M.getLocalDate(M.historyItem.timeStamp),"yyyy-MM-dd HH:mm","UTC")," UTC)"),e.R7$(2),e.vxM(M.isExpanded?10:-1))},dependencies:[r.Hl,r.$z,_.MY,_.GK,_.Z2,_.WN,_.Q6,g.vh],styles:[".eav-compare-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;height:40px}.eav-compare-box__dropdown[_ngcontent-%COMP%]{width:220px;margin-top:-14px;font-size:14px;height:auto}.eav-accordion[_ngcontent-%COMP%]{display:block;padding:4px 0}.eav-expansion-panel-header[_ngcontent-%COMP%], .eav-table-row[_ngcontent-%COMP%]{font-size:14px}.eav-table-row__main[_ngcontent-%COMP%]{display:flex}.eav-table-row__details[_ngcontent-%COMP%]{display:block}.eav-row-main[_ngcontent-%COMP%]{cursor:pointer;padding:4px 0}.eav-row-main__label[_ngcontent-%COMP%]{width:160px;flex:0 0 auto}.eav-row-main__value[_ngcontent-%COMP%]{flex:1 1 auto}.eav-row-main__type[_ngcontent-%COMP%]{flex:0 0 auto;font-size:12px}.eav-row-main__type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:not(:last-of-type){margin-right:2px}.eav-detail-row[_ngcontent-%COMP%]{display:flex;padding-bottom:4px;cursor:default}.eav-detail-row__label[_ngcontent-%COMP%]{width:160px;flex:0 0 auto}.eav-detail-row__value[_ngcontent-%COMP%]{flex:1 1 auto}.eav-row-actions[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:flex-end}"]})}}return u})()},45733(C,h,t){t.d(h,{contentTypeFieldsRoutes:()=>p});var g=t(51195),o=t(93454),r=t(72437),_=t(88329),e=t(89204);const n={name:"EDIT_CONTENT_TYPE_FIELDS_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{EditContentTypeFieldsComponent:i}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022__list-key-manager-chunk_mjs-node_modules_angular_cd-ebcbbe"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022__activedescendant-key-manager-chunk_mjs-node_module-eddd95"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_base_ts-projects_eav-ui_src_app_shared_fiel-d2d33b"),t.e("default-projects_eav-ui_src_app_app-administration_constants_field-name_patterns_ts-projects_-a853b4"),t.e("projects_eav-ui_src_app_content-type-fields_edit-content-type-fields_edit-content-type-fields-f8dc27")]).then(t.bind(t,98629));return i})()},p=[{path:"",component:_.DialogEntryComponent,data:{dialog:{name:"CONTENT_TYPE_FIELDS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ContentTypeFieldsComponent:i}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022__list-key-manager-chunk_mjs-node_modules_angular_cd-ebcbbe"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_components_base_ts-projects_eav-ui_src_app_shared_fiel-d2d33b"),t.e("default-node_modules_angular_material_fesm2022_menu_mjs"),t.e("default-projects_eav-ui_src_app_features_feature-names_ts-projects_eav-ui_src_app_features_fe-6671cc"),t.e("default-node_modules_angular_material_fesm2022_table_mjs"),t.e("default-projects_eav-ui_src_app_features_feature-icon-text_feature-icon-text_ts-projects_eav--b0b015"),t.e("default-projects_eav-ui_src_app_app-administration_constants_field-name_patterns_ts-projects_-a853b4"),t.e("projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-node_modules_angular_mater-1e3200")]).then(t.bind(t,90294));return i})()}},children:[{path:"add/:contentTypeStaticName",component:_.DialogEntryComponent,data:{dialog:n}},{path:"update/:contentTypeStaticName/:id/:editMode",component:_.DialogEntryComponent,data:{dialog:n}},...o.H.getRoutes(),r.k.route,...g.RD]}]},46666(C,h,t){t.d(h,{F:()=>g});const g={App:"App",Site:"Site",Global:"Global"}},47903(C,h,t){t.d(h,{importRoutes:()=>_});var g=t(88329),o=t(89204);const _=[{path:"",component:g.DialogEntryComponent,data:{dialog:{name:"IMPORT_APP_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,o.A)(function*(){const{ImportAppComponent:e}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("projects_eav-ui_src_app_import-app_import-app_ts-projects_eav-ui_src_app_shared_components_ba-72010b")]).then(t.bind(t,28300));return e})()}}}]},58275(C,h,t){t.d(h,{n:()=>_});var g=t(88857);const o="ValidationMessage.",r="ValidationMessage.NotValid";let _=(()=>{class e{static{this.messages={required:n=>n?`${o}Required`:`${o}RequiredShort`,min:n=>n?`${o}Min`:r,max:n=>n?`${o}Max`:r,minNoItems:n=>n?`${o}MinNoItems`:r,maxNoItems:n=>n?`${o}MaxNoItems`:r,pattern:n=>n?`${o}Pattern`:r,decimals:n=>n?`${o}Decimals`:r,jsonError:n=>n?`${o}JsonError`:r,formulaError:n=>r}}static validateForm(n){const p={};for(const[i,s]of Object.entries(n.controls))if(g.a.markTouched(s),s.invalid)for(const a of Object.keys(s.errors))if(p[i]=this.messages[a]?.(!1),p[i])break;return p}}return e})()},58362(C,h,t){t.d(h,{l:()=>e});var g=t(71772),o=t(24467),r=t(56884),_=t(36124);let e=(()=>{class f extends o.B{getStack(p,i,s){return this.newHttpResource(()=>({url:this.apiUrl(g.u+"GetStack"),params:{appId:this.appId,part:p,...i&&{key:i},...s&&{view:s}}}))}static{this.\u0275fac=(()=>{let p;return function(s){return(p||(p=_.xGo(f)))(s||f)}})()}static{this.\u0275prov=r.jDH({token:f,factory:f.\u0275fac})}}return f})()},58713(C,h,t){t.d(h,{g:()=>r});var g=t(50052),o=t(30056);class r{static getLightSpeedEditParams(e){return{items:[o.H.newMetadata(e,g.YX.appMetadata.LightSpeed.ContentTypeName,g.YX.metadata.app,!0)]}}}},59669(C,h,t){t.d(h,{y:()=>s});var g=t(46443),o=t(24467),r=t(56884),_=t(36124);const e="cms/contentgroup/",f=e+"replace",n=e+"itemlist",p=e+"header";let s=(()=>{class a extends o.B{getItemsPromise(l){return this.fetchPromise(f,{params:{appId:this.appId,guid:l.guid,part:l.part,index:l.index.toString()}})}saveItem(l){return this.http.post(this.apiUrl(f),{},{params:{guid:l.guid,part:l.part,index:l.index.toString(),entityId:l.id.toString(),add:`${l.add}`}})}removeItem(l,c){return this.http.delete(this.apiUrl("cms/list/delete"),{params:{index:c,parent:l.guid,fields:l.part}})}getListPromise(l){return this.fetchPromise(n,{params:{appId:this.appId,guid:l.guid,part:l.part}})}saveList(l,c){return this.http.post(this.apiUrl(n),c,{params:{appId:this.appId,guid:l.guid,part:l.part}})}getAllLive(l,c){return(0,g.fx)(()=>(c(),{url:this.apiUrl(p),params:{appId:this.appId,guid:l.guid}}))}static{this.\u0275fac=(()=>{let l;return function(u){return(l||(l=_.xGo(a)))(u||a)}})()}static{this.\u0275prov=r.jDH({token:a,factory:a.\u0275fac})}}return a})()},66925(C,h,t){t.d(h,{g:()=>p});var g=t(85309),o=t(12938),r=t(34601),_=t(4038),e=t(25081),f=t(36124),n=t(17828);let p=(()=>{class i{constructor(){this.clipboard=(0,o.d)(e.W)}agInit(a){this.value=a.value}refresh(a){return!0}copy(a){a=_.i.tryParse(a)??a,this.clipboard.copyToClipboard(a)}static{this.\u0275fac=function(d){return new(d||i)}}static{this.\u0275cmp=f.VBU({type:i,selectors:[["app-analyze-settings-value"]],decls:3,vars:2,consts:[["matRipple","",1,"value-box","highlight",3,"click","tippy"],[1,"value"]],template:function(d,l){1&d&&(f.j41(0,"div",0),f.bIt("click",function(){return l.copy(l.value)}),f.j41(1,"span",1),f.EFF(2),f.k0s()()),2&d&&(f.Y8G("tippy",l.value),f.R7$(2),f.JRh(l.value))},dependencies:[g.p,n.r6,r.e],styles:[".value-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.value-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}}return i})()},67130(C,h,t){t.d(h,{U:()=>s});var g=t(89204),o=t(46443),r=t(24467),_=t(56884),e=t(36124);let s=(()=>{class a extends r.B{getLanguageLive(l){return(0,o.fx)(()=>(l(),{url:this.apiUrl("admin/zone/GetLanguages"),params:{appId:this.appId}}))}toggleLanguage(l,c){var u=this;return(0,g.A)(function*(){return u.getStatusPromise("admin/zone/SwitchLanguage",{params:{cultureCode:l,enable:c.toString()}})})()}getSystemInfoLive(l){return(0,o.fx)(()=>(l(),{url:this.apiUrl("admin/zone/GetSystemInfo")}))}getLanguagesPermissionsLive(l){return(0,o.fx)(()=>(l(),{url:this.apiUrl("admin/app/languages"),params:{appId:this.appId}}))}static{this.\u0275fac=(()=>{let l;return function(u){return(l||(l=e.xGo(a)))(u||a)}})()}static{this.\u0275prov=_.jDH({token:a,factory:a.\u0275fac})}}return a})()},71477(C,h,t){function g(o){try{const r=o?.Api;if(!r)return;const e={...window.$2sxc.env.header,appApi:r};window.$2sxc.env.load(e)}catch{}}t.d(h,{g:()=>g})},71693(C,h,t){t.d(h,{d:()=>f});var g=t(56884),o=t(37567),r=t(38172),_=t(30056),e=t(68873);let f=(()=>{class n{constructor(){this.context=(0,g.WQX)(e.o)}openCodeFile(i,s,a){const d={items:[{Path:i,...null!=a&&_.H.editId(a)}]},l={...this.#t(r.Q$,o.Y.Develop),...this.#t(r.P3,s.toString()),...this.#t(r.Ul,JSON.stringify(d.items))},c=this.#n(l);window.open(c,"_blank")}openAppAdministration(i,s,a,d){const l={...a&&{tab:a},...d&&{scope:d}},c={...this.#t(r.v4,i.toString()),...this.#t(r.K7,s.toString()),...this.#t(r.Q$,o.Y.App),...Object.keys(l).length?this.#t(r.z0,JSON.stringify(l)):""},u=this.#n(c);window.open(u,"_blank")}#e(){return{...this.#t(r.v4,this.context.zoneId),...this.#t(r.K7,this.context.appId),...this.#t(r.Zm,this.context.moduleId?.toString()),...this.#t(r.p$,this.context.contentBlockId?.toString()),...this.#t(r.h9),...sessionStorage.getItem(r.tn)?this.#t(r.tn):{}}}#t(i,s){const a=i.replace(r.Pl,""),d=s??sessionStorage.getItem(i),l=encodeURIComponent(d);return{[a]:l}}#n(i){const s=sessionStorage.getItem(r.zX),a=new URL(s),d=a.origin+a.pathname+a.search,l={...this.#e(),...i};return d+Object.entries(l).reduce((u,[m,v])=>`${u}&${m}=${v}`,"").replace("&","#")}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}}return n})()},75669(C,h,t){t.d(h,{q:()=>r});var g=t(37580),o=t(36124);let r=(()=>{class _{constructor(){this.apiTitle=g.hFB.required()}static{this.\u0275fac=function(n){return new(n||_)}}static{this.\u0275cmp=o.VBU({type:_,selectors:[["app-rest-api-help-text"]],inputs:{apiTitle:[1,"apiTitle"]},decls:10,vars:1,consts:[[1,"rest-helper-container"],[1,"help-info-card-text"]],template:function(n,p){1&n&&(o.rj2(0,"div",0)(1,"span",1)(2,"span")(3,"strong"),o.EFF(4),o.eux()(),o.Hgh(5,"br"),o.rj2(6,"span"),o.EFF(7," REST APIs in 2sxc allow you to connect your app with other systems or frontend code."),o.Hgh(8,"br"),o.EFF(9," You can create custom endpoints to send and receive data, automate processes, or expose business logic for your website and external applications. "),o.eux()()()),2&n&&(o.R7$(4),o.SpI(" Select your Rest Api for ",p.apiTitle()," "))},styles:[".rest-helper-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:64px}.help-info-card-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}"]})}}return _})()},76068(C,h,t){t.d(h,{g:()=>g.g});var g=t(62996)},80640(C,h,t){t.d(h,{uc:()=>n});var g=t(56884),o=t(36124),r=t(5642),_=t(63680),e=t(65637),f=t(84344);let n=(()=>{class p{static \u0275fac=function(a){return new(a||p)};static \u0275mod=o.$C({type:p});static \u0275inj=g.G2t({imports:[r.Pd,e.z_,_.jI,f.Gj]})}return p})()},88329(C,h,t){t.d(h,{DialogEntryComponent:()=>p});var g=t(34435),o=t(68873),r=t(37580),_=t(56884),e=t(36124),f=t(87941),n=t(69393);let p=(()=>{class i{#e;#t;constructor(a,d,l,c,u,m,v){this.matDialog=a,this.viewContainerRef=d,this.router=l,this.route=c,this.context=u,this.changeDetectorRef=m,this.injector=v,this.log=(0,g.Tq)({DialogEntryComponent:i});const E=this.router.currentNavigation();this.#e=E?.extras?.state||{}}ngOnInit(){const a=this.log.fn("ngOnInit"),d=this.route.snapshot.data.dialog;if(null==d)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");a.a("Open dialog: "+d.name,{id:this.context.id,context:this.context}),d.getComponent(this.injector).then(l=>{const c=this.matDialog;c._dialogAnimatingOpen&&c._lastDialogRef?c._lastDialogRef.afterOpened().subscribe(()=>this.openDialogComponent(d,l)):this.openDialogComponent(d,l)})}ngOnDestroy(){this.#t.close()}openDialogComponent(a,d){this.log.a(`Open dialog(initContext: ${a.initContext})`,{name:a.name,"Contextid:":this.context.log.svcId,"Context:":this.context}),a.initContext&&this.context.init(this.route),this.#t=this.matDialog.open(d,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.#e,panelClass:["dialog-panel",`dialog-panel-${a.panelSize}`,a.showScrollbar?"show-scrollbar":"no-scrollbar",...a.panelClass?a.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.#t._ref.overlayRef._host.removeAttribute("popover"),this.#t.afterClosed().subscribe(c=>{this.log.a("Dialog was closed - name:"+a.name,{data:c});const u=c;if(null==u?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],{relativeTo:this.route.snapshot.url.length>0?this.route.parent:this.route.parent.parent,state:c});else this.router.navigate([u.navigateUrl])}),this.changeDetectorRef.markForCheck()}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(f.bZ),e.rXU(e.c1b),e.rXU(n.Ix),e.rXU(n.nX),e.rXU(o.o),e.rXU(r.gRc),e.rXU(_.zZn))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-dialog-entry"]],features:[e.Jv_([o.o])],decls:0,vars:0,template:function(d,l){},encapsulation:2})}}return i})()},88857(C,h,t){t.d(h,{a:()=>p});var g=t(92434),o=t(34435),r=t(36740),_=t(6953),e=t(58275);const f={all:!0,constructor:!1,markTouched:!1,set:!1,disable:!1,getErrors:!0,fields:[...r.z,"*"]},n="ValidationMessage.";class p{constructor(s,a="unknown",d=!1){this.control=s,this.name=a,this.moreDisabled=d,this.log=(0,o.Tq)({UiControl:p},f),this.#t={jsonWarning:`${n}JsonWarning`,formulaWarning:`${n}NotValid`},this.control??={dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1},this.log.extendName(`[${a}]`),this.log.aIfInList("fields",this.name,{moreDisabled:d},"constructor")}static emptyControl(){return new p({dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1})}get dirty(){return this.control.dirty}get invalid(){return this.control.invalid}get touched(){return this.control.touched}get disabled(){return this.control.disabled||this.moreDisabled}get touchedAndInvalid(){return this.control.touched&&this.control.invalid}markTouched(){this.log.aIfInList("fields",this.name,null,"markTouched"),p.markTouched(this.control)}setIfChanged(s){this.log.aIfInList("fields",this.name,{before:this.control.value,newValue:s},"setIfChanged"),!(0,g.A)(s,this.control.value)&&this.#e(s)}#e(s){const a=this.control,d=a.value;this.log.aIfInList("fields",this.name,{before:d,newValue:s},"set"),a.touched||a.markAsTouched(),!a.dirty&&!_.$.fieldValuesAreEqual(d,s)&&a.markAsDirty(),a.patchValue(s)}disable(s){this.log.aIfInList("fields",this.name,null,`disable: ${s}`),p.disable(this.control,s)}static markTouched(s){s.touched||(s.markAsTouched(),s.updateValueAndValidity())}static disable(s,a){s.disabled!==a&&(a?s.disable():s.enable())}getErrors(){const s=this.control,a=s.errors,d=this.log.fnIfInFields("getErrors",this.name,{control:s,name:this.name});if(!s.invalid)return d.r("","valid");if(!s.dirty&&!s.touched)return d.r("","not dirty or touched");for(const l of Object.keys(a)){const c="formulaError"===l?s.errors.formulaMessage??e.n.messages[l]?.(!0):e.n.messages[l]?.(!0);if(c)return d.r(c,"error found")}return d.r("","no error")}#t;getWarnings(){const s=this.control;if(null==s._warning||!s.dirty&&!s.touched)return"";let a="";for(const d of Object.keys(s._warning))if(a="formulaWarning"===d?s._warning.formulaMessage??this.#t[d]:this.#t[d],a)break;return a}}},90318(C,h,t){t.d(h,{replaceContentRoutes:()=>e});var g=t(51195),o=t(88329),r=t(89204);const e=[{path:"",component:o.DialogEntryComponent,data:{dialog:{name:"REPLACE_CONTENT_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,r.A)(function*(){const{ReplaceContentComponent:f}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs-node_modules_angular_material_fesm2022_-c07bbe"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022__list-key-manager-chunk_mjs-node_modules_angular_cd-ebcbbe"),t.e("default-node_modules_angular_cdk_fesm2022__activedescendant-key-manager-chunk_mjs-node_module-eddd95"),t.e("default-projects_core_object-utilities_ts-projects_eav-ui_src_app_edit_dialog_main_keyboard-s-787ea4"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_replace-content_replace-content_ts-projects_eav-ui_src_app_shared_com-8a2740")]).then(t.bind(t,50464));return f})()}},children:[...g.Ed]}]}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.02.00/dist/ng-edit/common.40c5823734d47167.js.map
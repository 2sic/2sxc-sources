"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_analyze-settings_comp-6cd38e"],{5445:(I,c,e)=>{e.d(c,{Cu:()=>n.Cu,JL:()=>n.JL,Mk:()=>n.Mk,ei:()=>n.ei,gs:()=>u.g,tr:()=>t.t,vN:()=>n.vN,xR:()=>n.xR,y0:()=>o.y});var t=e(1479),u=e(7693),n=(e(1475),e(320),e(8624),e(6460)),o=e(2570)},6460:(I,c,e)=>{e.d(c,{Cu:()=>v,JL:()=>C,Mk:()=>f,ei:()=>p,vN:()=>P,xR:()=>D});var t=e(4600),u=e(6647),l=e(271),h=e(693),m=e(9234),n=e(6474),o=e(7580);const f="admin/query/Run",p="admin/query/DebugStream",v="admin/query/Save",C="admin/query/Get",P="admin/query/DataSources";let D=(()=>{class y extends n.D{getAll(d){return this.http.get(this.apiUrl(m.Gg),{params:{appId:this.appId,contentType:d}})}importQuery(d){return(0,t.H)((0,h.n)(d)).pipe((0,u.n)(R=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:R})),(0,l.T)(R=>({Success:R,Messages:[]})))}clonePipeline(d){return this.http.get(this.apiUrl("admin/query/Clone"),{params:{Id:d.toString(),appId:this.appId}})}delete(d){return this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:d.toString()}})}static#t=this.\u0275fac=(()=>{let d;return function(_){return(d||(d=o.xGo(y)))(_||y)}})();static#e=this.\u0275prov=o.jDH({token:y,factory:y.\u0275fac})}return y})()},2570:(I,c,e)=>{e.d(c,{y:()=>A});var t=e(6474),u=e(7580);const l="admin/view/",h=l+"all",m=l+"delete",n=l+"import",o=l+"polymorphism",E=l+"usage";let A=(()=>{class g extends t.D{getAll(){return this.http.get(this.apiUrl(h),{params:{appId:this.appId}})}delete(p){return this.http.get(this.apiUrl(m),{params:{appId:this.appId,Id:p.toString()}})}import(p){const v=new FormData;return v.append("File",p),this.http.post(this.apiUrl(n),v,{params:{appId:this.appId,zoneId:this.zoneId}})}export(p){const v=this.apiUrl(l+"json")+"?appId="+this.appId+"&viewId="+p;window.open(v,"_blank","")}getPolymorphism(){return this.http.get(this.apiUrl(o),{params:{appId:this.appId}})}getUsage(p){return this.http.get(this.apiUrl(E),{params:{appId:this.appId,guid:p}})}static#t=this.\u0275fac=(()=>{let p;return function(C){return(p||(p=u.xGo(g)))(C||g)}})();static#e=this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}return g})()},8852:(I,c,e)=>{e.r(c),e.d(c,{AnalyzeSettingsComponent:()=>B});var t=e(7580),u=e(2159),l=e(251),h=e(5445),m=e(8362),n=e(519),o=e(5060),E=e(7896),A=e(3347);let g=(()=>{class i{constructor(s){this.snackBar=s}agInit(s){this.key=s.value}refresh(s){return!0}copy(){(0,n.l)(this.key),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(r){return new(r||i)(t.rXU(A.UG))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-analyze-settings-key"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[["matRipple","",1,"key-box","highlight",3,"click","tippy"],[1,"key"]],template:function(r,a){1&r&&(t.j41(0,"div",0),t.bIt("click",function(){return a.copy()}),t.j41(1,"span",1),t.EFF(2),t.k0s()()),2&r&&(t.Y8G("tippy",a.key),t.R7$(2),t.JRh(a.key))},dependencies:[o.pZ,o.r6,E.e],styles:[".key-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.key-box[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}return i})();var f=e(3840);function p(i,T){if(1&i&&(t.j41(0,"div",0)(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div",2)(4,"mat-icon"),t.EFF(5,"search"),t.k0s()()()),2&i){const s=t.XpG();t.R7$(2),t.JRh(s.totalResults)}}function v(i,T){if(1&i){const s=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){t.eBV(s);const a=t.XpG();return t.Njj(a.openDetails())}),t.j41(1,"div",4),t.EFF(2),t.k0s(),t.j41(3,"div",5)(4,"mat-icon"),t.EFF(5,"search"),t.k0s()()()}if(2&i){const s=t.XpG();t.R7$(2),t.JRh(s.totalResults)}}let C=(()=>{class i{agInit(s){this.totalResults=s.value,this.params=s,this.stackItem=this.params.data}refresh(s){return!0}openDetails(){this.params.openDetails(this.stackItem)}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-analyze-settings-total-results"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[1,"input-component","no-click"],["matRipple","","tippy","Open details",1,"input-component","highlight"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Open details",1,"input-component","highlight",3,"click"],[1,"text"],[1,"eav-grid-action-button"]],template:function(r,a){1&r&&t.DNE(0,p,6,1,"div",0)(1,v,6,1,"div",1),2&r&&(t.vxM(0,a.totalResults<=1?0:-1),t.R7$(),t.vxM(1,a.totalResults>1?1:-1))},dependencies:[f.m_,f.An,o.pZ,o.r6],styles:[".no-click[_ngcontent-%COMP%]{cursor:default;-webkit-user-select:initial;user-select:initial}"]})}return i})();var P=e(1423),D=e(4456),y=e(5175),M=e(5944),d=e(4175),R=e(7037),_=e(1828),O=e(5437),S=e(8471),U=e(7941),w=e(9841);function x(i,T){if(1&i&&(t.j41(0,"mat-option",8),t.EFF(1),t.k0s()),2&i){const s=T.$implicit;t.Y8G("value",s.Guid),t.R7$(),t.JRh(s.Name)}}let B=(()=>{class i{#t;#e;#s;constructor(s){this.dialogRef=s,this.gridOptions=this.buildGridOptions(),this.#t=(0,O.d)(h.y0),this.#e=(0,O.d)(m.l),this.#s=(0,O.d)(S.c),this.views=(0,t.vPA)([]),this.selectedView=(0,t.vPA)(void 0),this.stack=(0,t.vPA)([]),this.part=this.#s.getParam("part")}ngOnInit(){this.getViews(),this.getStack()}closeDialog(){this.dialogRef.close()}changeView(s){this.selectedView.set(s),this.getStack()}getViews(){this.#t.getAll().subscribe(s=>{this.views.set(s)})}getStack(){this.#e.getStack(this.part,void 0,this.selectedView(),!0).subscribe(s=>{this.stack.set(s)})}buildGridOptions(){return{...l.C,columnDefs:[{..._.r.TextWideActionClass,headerName:"Key",field:"Path",cellRenderer:g},{..._.r.TextWideActionClass,headerName:"Value",field:"_value",cellRenderer:P.g},{field:"Source",..._.r.TextNarrow},{..._.r.Items,headerName:"Total",field:"TotalResults",width:72,cellClass:"no-outline",cellRenderer:C,cellRendererParams:{openDetails:a=>{this.#s.navRelative([`details/${this.selectedView()}/${a.Path}`])}}}]}}static#i=this.\u0275fac=function(r){return new(r||i)(t.rXU(U.CP))};static#n=this.\u0275cmp=t.VBU({type:i,selectors:[["app-analyze-settings"]],standalone:!0,features:[t.aNF],decls:23,vars:5,consts:[[1,"nav-component-wrapper"],["mat-mdc-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"padding-class"],[1,"dialog-description"],["color","accent",1,"view-select-box"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"grid-wrapper","padding-class"],[1,"ag-theme-material",3,"rowData","gridOptions"],[1,"grid-more-actions-box"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),t.EFF(4),t.k0s(),t.j41(5,"button",3),t.bIt("click",function(){return a.closeDialog()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()()(),t.j41(8,"div",4)(9,"p",5),t.EFF(10," Settings and Resources are consolidated from many sources. Here you see what the resulting values would be. "),t.k0s(),t.nrm(11,"router-outlet"),t.j41(12,"mat-form-field",6)(13,"mat-label"),t.EFF(14,"Merge settings / resources of a View"),t.k0s(),t.j41(15,"mat-select",7),t.bIt("ngModelChange",function(z){return a.changeView(z)}),t.j41(16,"mat-option",8),t.EFF(17,"No view selected - this is how APIs see the data"),t.k0s(),t.Z7z(18,x,2,2,"mat-option",8,t.fX1),t.k0s()()(),t.j41(20,"div",9),t.nrm(21,"ag-grid-angular",10)(22,"div",11),t.k0s()()),2&r&&(t.R7$(4),t.SpI("Analyze ",a.part,""),t.R7$(11),t.Y8G("ngModel",a.selectedView()),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Dyx(a.views()),t.R7$(3),t.Y8G("rowData",a.stack())("gridOptions",a.gridOptions))},dependencies:[d.Hl,d.iY,f.m_,f.An,u.n3,M.RG,M.rl,M.nJ,y.Ve,y.VO,o.wT,D.YN,D.BC,D.vS,o.Sy,R.p,w.xs],styles:[".view-select-box[_ngcontent-%COMP%]{width:400px}.padding-class[_ngcontent-%COMP%]{padding:0 24px}"]})}return i})()},693:(I,c,e)=>{function t(l){return new Promise((h,m)=>{const n=new FileReader;n.readAsDataURL(l),n.onload=()=>{h(n.result.split(",")[1])},n.onerror=o=>{m(o)}})}function u(l){return new Promise((h,m)=>{const n=new FileReader;n.readAsText(l),n.onload=()=>{h(n.result)},n.onerror=o=>{m(o)}})}e.d(c,{d:()=>u,n:()=>t})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.01.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_analyze-settings_comp-6cd38e.89b2b8b42d1abde8.js.map
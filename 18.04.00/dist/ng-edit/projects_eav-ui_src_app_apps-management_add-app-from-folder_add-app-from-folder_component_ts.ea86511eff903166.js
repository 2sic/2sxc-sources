"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts"],{8242:(M,f,e)=>{e.r(f),e.d(f,{AddAppFromFolderComponent:()=>P});var t=e(9148),u=e(4175),o=e(7941),m=e(2938),h=e(8136),g=e(5469),l=e(4824),_=e(1828),F=e(251),s=e(7037),c=e(3583),v=e(3840),C=e(4601);let E=(()=>{class p{agInit(i){this.name=i.value,this.tooltip=i.tooltipGetter(i.data)}refresh(i){return!0}static{this.\u0275fac=function(r){return new(r||p)}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["app-app-name-show"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"name-box"],[1,"info-icon",3,"tippy"]],template:function(r,n){1&r&&(t.j41(0,"div",0)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"mat-icon",1),t.EFF(4,"info"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(n.name),t.R7$(),t.Y8G("tippy",n.tooltip))},dependencies:[v.m_,v.An,C.e],styles:[".name-box[_ngcontent-%COMP%]{display:flex;align-items:center}.info-icon[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:3px}"]})}}return p})(),I=(()=>{class p{agInit(i){this.params=i}refresh(i){return!0}onChange(i){this.params.onChange(this.params.data,i.currentTarget.checked)}static{this.\u0275fac=function(r){return new(r||p)}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["app-checkbox-cell"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[1,"checkbox-box"],["type","checkbox",1,"checkbox-input",3,"change","disabled","checked"]],template:function(r,n){1&r&&(t.j41(0,"div",0)(1,"input",1),t.bIt("change",function(A){return n.onChange(A)}),t.k0s()()),2&r&&(t.R7$(),t.Y8G("disabled",n.params.isDisabled)("checked",n.params.value))},styles:[".checkbox-box[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.checkbox-input[_ngcontent-%COMP%]{height:15px;width:15px}"]})}}return p})();var d=e(3347),O=e(9841);function a(p,R){1&p&&(t.j41(0,"p"),t.EFF(1," Nothing to show. All apps in the 2sxc folder are already installed. "),t.k0s())}function D(p,R){if(1&p&&(t.j41(0,"div"),t.nrm(1,"ag-grid-angular",8),t.k0s()),2&p){const i=t.XpG();t.R7$(),t.Y8G("rowData",i.pendingApps())("gridOptions",i.gridOptions)}}let P=(()=>{class p{#t;#e;constructor(i,r){this.dialog=i,this.snackBar=r,this.hostClass="dialog-component",this.gridOptions=this.buildGridOptions(),this.installing=!1,this.features=(0,t.WQX)(l.t),this.#t=this.features.isEnabled[h.T.AppSyncWithSiteFiles],this.#e=(0,m.d)(c.U),this.pendingApps=this.#e.getPendingApps()}closeDialog(){this.dialog.close()}onChange(i,r){const n=this.pendingApps();r?n.push(i):n.splice(n.indexOf(i),1),this.pendingApps.set(n)}install(){this.installing=!0,this.snackBar.open("Installing",void 0,{duration:2e3}),this.#e.installPendingApps(this.pendingApps()).subscribe({error:()=>{this.installing=!1,this.snackBar.open("Failed to install app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.installing=!1,this.snackBar.open("Installed app",void 0,{duration:2e3}),this.closeDialog()}})}buildGridOptions(){return{...F.C,columnDefs:[{field:"",width:40,cellClass:"no-outline",sortable:!0,cellRenderer:I,cellRendererParams:()=>({isDisabled:!this.#t(),onChange:(n,x)=>this.onChange(n,x)})},{..._.r.ItemsText,field:"Name",flex:1,sort:"asc",cellRenderer:E,cellRendererParams:{tooltipGetter:n=>`Server folder: ${n.ServerFolder}\nFolder: ${n.Folder}\nVersion: ${n.Version}\nDescription: ${n.Description}`}}]}}static{this.\u0275fac=function(r){return new(r||p)(t.rXU(o.CP),t.rXU(d.UG))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["app-add-app-from-folder"]],hostVars:1,hostBindings:function(r,n){2&r&&t.Mr5("className",n.hostClass)},standalone:!0,features:[t.aNF],decls:15,vars:4,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[3,"featureNameId"],["align","end"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"],[1,"ag-theme-material","eav-grid",3,"rowData","gridOptions"]],template:function(r,n){if(1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"Add App from Folder"),t.k0s()(),t.j41(4,"div",3),t.nrm(5,"app-feature-text-info",4),t.j41(6,"p"),t.EFF(7," Select an app from the apps-folder which has been copied there (or git-cloned) but not installed yet. "),t.k0s(),t.DNE(8,a,2,0,"p")(9,D,2,2,"div"),t.k0s(),t.j41(10,"mat-dialog-actions",5)(11,"button",6),t.bIt("click",function(){return n.closeDialog()}),t.EFF(12," Cancel "),t.k0s(),t.j41(13,"button",7),t.bIt("click",function(){return n.install()}),t.EFF(14," Install "),t.k0s()()()),2&r){let x,A;t.R7$(5),t.Y8G("featureNameId","AppSyncWithSiteFiles"),t.R7$(3),t.vxM(0==(null==(x=n.pendingApps())?null:x.length)?8:-1),t.R7$(),t.vxM((null==(A=n.pendingApps())?null:A.length)>0?9:-1),t.R7$(4),t.Y8G("disabled",0===n.pendingApps().length||n.installing)}},dependencies:[o.E7,u.Hl,u.$z,g.L,s.p,O.xs],styles:[".eav-grid[_ngcontent-%COMP%]{height:200px;width:auto}"]})}}return p})()},1191:(M,f,e)=>{e.d(f,{O:()=>I});var t=e(9148),u=e(4175),o=e(3777),m=e(7941),h=e(3840),g=e(852),l=e(2938),_=e(9914),F=e(5081),s=e(7993);function c(d,O){if(1&d&&(t.j41(0,"div",1)(1,"div",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",3)(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&d){const a=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,2,"Features.Status"),":"),t.R7$(4),t.JRh(t.bMT(7,4,a.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function v(d,O){if(1&d){const a=t.RV6();t.j41(0,"div",1)(1,"div",2),t.EFF(2,"GUID:"),t.k0s(),t.j41(3,"div",8)(4,"span",4),t.bIt("click",function(){t.eBV(a);const P=t.XpG(2);return t.Njj(P.clipboard.copyToClipboard(P.feature().guid))}),t.EFF(5),t.k0s()()()}if(2&d){const a=t.XpG(2);t.R7$(5),t.JRh(a.feature().guid)}}function C(d,O){if(1&d){const a=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(a);const P=t.XpG(2);return t.Njj(P.dialog.close())}),t.EFF(1,"Close"),t.k0s()}}function E(d,O){if(1&d){const a=t.RV6();t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.k0s()(),t.j41(4,"mat-card-content"),t.nrm(5,"p",0),t.nI1(6,"safeHtml"),t.j41(7,"div",1)(8,"div",2),t.EFF(9,"ID:"),t.k0s(),t.j41(10,"div",3)(11,"span",4),t.bIt("click",function(){t.eBV(a);const P=t.XpG();return t.Njj(P.clipboard.copyToClipboard(P.feature().nameId))}),t.EFF(12),t.k0s()()(),t.DNE(13,c,8,6,"div",1)(14,v,6,1,"div",1),t.j41(15,"div",1)(16,"div",2),t.EFF(17,"Security Rating:"),t.k0s(),t.j41(18,"div",3)(19,"span"),t.EFF(20),t.k0s()()()(),t.j41(21,"mat-card-actions",5)(22,"a",6)(23,"mat-icon"),t.EFF(24,"open_in_new"),t.k0s(),t.EFF(25," Find out more "),t.k0s(),t.DNE(26,C,2,0,"button",7),t.k0s()()}if(2&d){const a=t.XpG();t.R7$(3),t.JRh(a.feature().name),t.R7$(2),t.Y8G("innerHtml",t.bMT(6,8,a.feature().description),t.npT),t.R7$(7),t.JRh(a.feature().nameId),t.R7$(),t.vxM(a.mySpecs().showStatus?13:-1),t.R7$(),t.vxM(a.mySpecs().showGuid?14:-1),t.R7$(6),t.JRh(a.feature().security.Impact+": "+a.feature().security.Message),t.R7$(2),t.Y8G("href",a.feature().link,t.B4B),t.R7$(4),t.vxM(0!=a.mySpecs().showClose?26:-1)}}let I=(()=>{class d{constructor(a,D){this.dialogSpecs=a,this.dialog=D,this.specs=(0,t.hFB)(),this.mySpecs=(0,s.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,s.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,l.d)(F.W)}static{this.\u0275fac=function(D){return new(D||d)(t.rXU(m.Vh,8),t.rXU(m.CP))}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","","color","accent",1,"eav-card-action-button",3,"href"],["mat-raised-button","",1,"eav-card-action-button"],[1,"eav-info-row__value","eav_click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"]],template:function(D,P){1&D&&t.DNE(0,E,27,10,"mat-card"),2&D&&t.vxM(P.feature()?0:-1)},dependencies:[o.Hu,o.RN,o.YY,o.m2,o.MM,o.dh,u.Hl,u.It,u.$z,h.m_,h.An,_.$,g.h,g.D9],encapsulation:2})}}return d})()},6133:(M,f,e)=>{e.r(f),e.d(f,{FeatureInfoDialogComponent:()=>s});var t=e(9148),u=e(7941),o=e(2938),m=e(1191),h=e(5081),g=e(5943),l=e(2159);const _=c=>({feature:c,showGuid:!1,showStatus:!0,showClose:!0});function F(c,v){1&c&&t.nrm(0,"app-feature-details-dialog",0),2&c&&t.Y8G("specs",t.eq3(1,_,v))}let s=(()=>{class c{#t;constructor(C,E,I){this.dialogData=C,this.dialog=E,this.route=I,this.#t=(0,o.d)(g.N),this.featureId=(0,t.vPA)(""),this.clipboard=(0,o.d)(h.W)}ngOnInit(){this.featureId.set(this.route.snapshot.data.featureId||this.dialogData||""),this.featureDetails=this.#t.getFeatureDetail(this.featureId())}static{this.\u0275fac=function(E){return new(E||c)(t.rXU(u.Vh),t.rXU(u.CP),t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-feature-info-dialog"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"specs"]],template:function(E,I){if(1&E&&t.DNE(0,F,1,3,"app-feature-details-dialog",0),2&E){let d;t.vxM((d=I.featureDetails())?0:-1,d)}},dependencies:[m.O],encapsulation:2})}}return c})()},8136:(M,f,e)=>{e.d(f,{T:()=>t});const t={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",ContentTypeFieldsReuseDefinitions:"ContentTypeFieldsReuseDefinitions",AppExportAssetsAdvanced:"AppExportAssetsAdvanced",PickerUiCheckbox:"PickerUiCheckbox",PickerUiRadio:"PickerUiRadio",PickerSourceCsv:"PickerSourceCsv",PickerSourceAppAssets:"PickerSourceAppAssets",PickerFormulas:"PickerFormulas",PickerUiMoreInfo:"PickerUiMoreInfo"}},5469:(M,f,e)=>{e.d(f,{L:()=>F});var t=e(9148),u=e(3840),o=e(852),m=e(4601),h=e(7993),g=e(9006);const l=["*"];function _(s,c){if(1&s){const v=t.RV6();t.j41(0,"div",1),t.nI1(1,"translate"),t.bIt("click",function(){t.eBV(v);const E=t.XpG();return t.Njj(E.openDialog())}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"div",2)(5,"div",3),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",4),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.SdG(11),t.k0s()()}if(2&s){const v=t.XpG();t.Y8G("tippy",t.i5U(1,7,"Features.Tooltip",v.feature())),t.R7$(2),t.ZvI("icon icon-",v.icon(),""),t.R7$(),t.JRh(v.icon()),t.R7$(3),t.JRh(t.bMT(7,10,"Features.FeatureNotActivated")),t.R7$(3),t.JRh(t.bMT(10,12,"Features.ClickToFindOutMore"))}}let F=(()=>{class s extends g.x{constructor(){super(),this.asInfo=(0,t.hFB)(!1),this.icon=(0,h.bo)("icon",()=>this.asInfo()?"info":"warning")}static{this.\u0275fac=function(C){return new(C||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-feature-text-info"]],inputs:{asInfo:[1,"asInfo"]},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:l,decls:1,vars:1,consts:[[1,"feature-text-info",3,"tippy"],[1,"feature-text-info",3,"click","tippy"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(C,E){1&C&&(t.NAR(),t.DNE(0,_,12,14,"div",0)),2&C&&t.vxM(E.show()?0:-1)},dependencies:[u.m_,u.An,o.h,o.D9,m.e],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}}return s})()},5943:(M,f,e)=>{e.d(f,{N:()=>m});var t=e(9148),u=e(6474);const o="admin/feature/details";let m=(()=>{class h extends u.D{getFeatureDetail(l){return this.getSignal(o,{params:{nameId:l}})}getFeatureDetails(l){const _=(0,t.vPA)([]);for(const F of l)this.xx(F).subscribe(s=>{_.update(c=>[...c,s])});return _}xx(l){return this.getHttpApiUrl(o,{params:{nameId:l}})}static{this.\u0275fac=(()=>{let l;return function(F){return(l||(l=t.xGo(h)))(F||h)}})()}static{this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}}return h})()},9006:(M,f,e)=>{e.d(f,{j:()=>l,x:()=>g});var t=e(9148),u=e(7941),o=e(7993),m=e(6133),h=e(4824);let g=(()=>{class _{#t;#e;#n;#a;constructor(){this.featureNameId=t.hFB.required(),this.showIf=(0,t.hFB)(!1),this.#t=(0,t.WQX)(u.bZ),this.#e=(0,t.WQX)(t.c1b),this.#n=(0,t.WQX)(t.gRc),this.#a=(0,t.WQX)(h.t),this.feature=(0,o.bo)("feature",()=>this.#a.getCurrent(this.featureNameId())),this.show=(0,o.bo)("show",()=>{const s=this.feature();return null!=s&&this.showIf()==(s?.isEnabled??!1)})}openDialog(){l(this.#t,this.featureNameId(),this.#e,this.#n)}static{this.\u0275fac=function(c){return new(c||_)}}static{this.\u0275dir=t.FsC({type:_,inputs:{featureNameId:[1,"featureNameId"],showIf:[1,"showIf"]}})}}return _})();function l(_,F,s,c){_.open(m.FeatureInfoDialogComponent,{autoFocus:!1,data:F,viewContainerRef:s,width:"400px"}),c?.markForCheck()}},9914:(M,f,e)=>{e.d(f,{$:()=>o});var t=e(9148),u=e(436);let o=(()=>{class m{constructor(g){this.sanitizer=g}transform(g){return this.sanitizer.bypassSecurityTrustHtml(g)}static{this.\u0275fac=function(l){return new(l||m)(t.rXU(u.up,16))}}static{this.\u0275pipe=t.EJ8({name:"safeHtml",type:m,pure:!0,standalone:!0})}}return m})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.04.00/dist/ng-edit/projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts.ea86511eff903166.js.map
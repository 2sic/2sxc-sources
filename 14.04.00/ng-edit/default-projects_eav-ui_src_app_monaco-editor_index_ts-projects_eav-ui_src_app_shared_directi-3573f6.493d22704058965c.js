"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-3573f6"],{5501:(b,v,l)=>{l.d(v,{T:()=>c.T,n:()=>m});var c=l(9368),f=l(6362),p=l(3184);let m=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({imports:[[f.ez]]}),u})()},9368:(b,v,l)=>{l.d(v,{T:()=>u});var c=l(3184);const f="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(r=>r.trim().toLocaleLowerCase());class p{constructor(e,t,s,n,i,o,d){this.monaco=e,this.snippets=o,this.tooltips=d,this.globalCache=this.createGlobalCache(e),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=s,this.editorInstance=this.createInstance(this.monaco,t,s,n,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(n,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>e.dispose()),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}focus(){this.editorInstance.focus()}onValueChange(e){this.valueChangedCallback=e}onFocus(e){this.focusedCallback=e}onBlur(e){this.blurredCallback=e}insertSnippet(e){this.editorInstance.getContribution("snippetController2").insert(e)}setSnippets(e){this.snippets=e}setTooltips(e){this.tooltips=e}setJsonSchema(e){var t,s,n;const i=this.editorInstance.getModel().uri.toString(),o=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,d=null!==(s=null===(t=o.schemas)||void 0===t?void 0:t.some(h=>h.fileMatch[0]===i))&&void 0!==s&&s,a="link"===(null==e?void 0:e.type)?{uri:e.value,fileMatch:[i]}:"raw"===(null==e?void 0:e.type)?{uri:i,fileMatch:[i],schema:JSON.parse(e.value)}:void 0;if(!d&&!a)return;const g=Object.assign(Object.assign({},o),{enableSchemaRequest:!0,schemas:d&&!a?o.schemas.filter(h=>h.fileMatch[0]!==i):d?o.schemas.map(h=>h.fileMatch[0]===i?a:h):[...null!==(n=o.schemas)&&void 0!==n?n:[],a]});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(g)}setJsonComments(e){if(!e)return;const t=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{comments:e});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(t)}setJavascriptDiagnostics(e){if(!e)return;const t=Object.assign(Object.assign({},this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions()),e);this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(t)}createGlobalCache(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}defineThemes(e,t){e.themesAreDefined||(e.themesAreDefined=!0,t.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(e,t,s,n,i){const o=e.editor.create(n,i),d=e.Uri.file(t),a=e.editor.createModel(s,void 0,d);return o.setModel(a),o}saveState(e,t){const s=t.getModel().uri.toString(),n=JSON.stringify(t.saveViewState());null==e.savedStates[s]?e.savedStates[s]={viewState:n}:e.savedStates[s].viewState=n}restoreState(e,t){const s=t.getModel().uri.toString(),n=e.savedStates[s];if(null==n)return;const i=JSON.parse(n.viewState);t.restoreViewState(i)}addSnippets(e,t){return[e.languages.registerCompletionItemProvider(t.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(n,i)=>{if(t.getModel()!==n)return{suggestions:[]};const o=n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==o[o.length-1])return{suggestions:[]};const a=o.lastIndexOf("<");if(-1===a)return{suggestions:[]};const g=o.substring(a);let h=0;if(Array.from(g).forEach(I=>{'"'===I&&h++}),h%2!=0)return{suggestions:[]};if(g.startsWith("</"))return{suggestions:[]};if(g.indexOf(">")!==g.length-1)return{suggestions:[]};let C=g.indexOf(" ");if(-1===C&&(C=g.indexOf(">")),-1===C)return{suggestions:[]};const _=g.substring(1,C);return _?f.includes(_.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(_)?{suggestions:[{label:`</${_}>`,kind:e.languages.CompletionItemKind.Snippet,insertText:`$0</${_}>`,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(t.getModel().getLanguageId(),{provideCompletionItems:(n,i)=>{if(null==this.snippets||t.getModel()!==n)return{suggestions:[]};const o=n.getWordUntilPosition(i);return{suggestions:this.snippets.map(a=>{var g,h,C;return a.content?{label:a.name,kind:e.languages.CompletionItemKind.Snippet,documentation:`${null!==(g=a.title)&&void 0!==g?g:""}\n${null!==(h=a.help)&&void 0!==h?h:""}\n${null!==(C=a.links)&&void 0!==C?C:""}`,insertText:a.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}).filter(a=>!!a)}}}),e.languages.registerHoverProvider(t.getModel().getLanguageId(),{provideHover:(n,i)=>{if(null==this.tooltips||t.getModel()!==n)return;const o=n.getWordAtPosition(i);if(!o)return;const d=this.tooltips.find(a=>a.Term===o.word);return d?{contents:d.Help.map(a=>({value:a})),range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}})]}createResizeObserver(e,t){const s=new ResizeObserver(()=>{t.layout()});return s.observe(e),s}addEvents(e){e.getModel().onDidChangeContent(()=>{var t;const s=e.getModel().getValue();s!==this.cachedValue&&(this.cachedValue=s,null===(t=this.valueChangedCallback)||void 0===t||t.call(this,s))}),e.onDidFocusEditorWidget(()=>{var t;null===(t=this.focusedCallback)||void 0===t||t.call(this)}),e.onDidBlurEditorWidget(()=>{var t;null===(t=this.blurredCallback)||void 0===t||t.call(this)})}}const m=["editor"];let u=(()=>{class r{constructor(){this.autoFocus=!1,this.valueChanged=new c.vpe,this.focused=new c.vpe,this.blurred=new c.vpe}ngAfterViewInit(){window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs"]}}),window.require(["vs/editor/editor.main"],t=>{this.monaco=t,this.createEditor(this.autoFocus)})}ngOnChanges(t){var s,n,i,o,d,a;null!=t.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=t.value&&(null===(s=this.monacoInstance)||void 0===s||s.updateValue(this.value)),null!=t.jsonSchema&&(null===(n=this.monacoInstance)||void 0===n||n.setJsonSchema(this.jsonSchema)),null!=t.jsonComments&&(null===(i=this.monacoInstance)||void 0===i||i.setJsonComments(this.jsonComments)),null!=t.snippets&&(null===(o=this.monacoInstance)||void 0===o||o.setSnippets(this.snippets)),null!=t.tooltips&&(null===(d=this.monacoInstance)||void 0===d||d.setTooltips(this.tooltips)),null!=t.disableJavascriptValidation&&(null===(a=this.monacoInstance)||void 0===a||a.setJavascriptDiagnostics(this.javascriptDiagnostics))}insertSnippet(t){var s,n;null===(s=this.monacoInstance)||void 0===s||s.insertSnippet(t),null===(n=this.monacoInstance)||void 0===n||n.focus()}ngOnDestroy(){var t;null===(t=this.monacoInstance)||void 0===t||t.destroy()}createEditor(t){this.monacoInstance=new p(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets,this.tooltips),this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.setJsonComments(this.jsonComments),this.monacoInstance.setJavascriptDiagnostics(this.javascriptDiagnostics),this.monacoInstance.onValueChange(s=>{this.valueChanged.emit(s)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),t&&this.monacoInstance.focus()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-monaco-editor"]],viewQuery:function(t,s){if(1&t&&c.Gf(m,5),2&t){let n;c.iGM(n=c.CRH())&&(s.editorRef=n.first)}},inputs:{filename:"filename",value:"value",snippets:"snippets",tooltips:"tooltips",options:"options",jsonSchema:"jsonSchema",jsonComments:"jsonComments",javascriptDiagnostics:"javascriptDiagnostics",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[c.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(t,s){1&t&&c._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),r})()},6108:(b,v,l)=>{l.d(v,{D:()=>p});var c=l(51),f=l(3184);let p=(()=>{class m{constructor(r){this.globalConfigService=r}onClick(r){(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)&&r.shiftKey&&r.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}return m.\u0275fac=function(r){return new(r||m)(f.Y36(c.bE))},m.\u0275dir=f.lG2({type:m,selectors:[["","appToggleDebug",""]],hostBindings:function(r,e){1&r&&f.NdJ("click",function(s){return e.onClick(s)})}}),m})()},4789:(b,v,l)=>{l.d(v,{f:()=>p});var c=l(8784),f=l(7514);function p(m){return{loader:{provide:f.Zw,useFactory:m,deps:[c.eN]},defaultLanguage:"en",isolate:!0}}},7392:(b,v,l)=>{l.d(v,{M:()=>p});var c=l(3158),f=l(745);class p{constructor(u,r,e){this.http=u,this.prefix=r,this.suffix=e}getTranslation(u){return this.http.get(`${this.prefix}${u}${this.suffix}`).pipe((0,c.K)(r=>(console.warn(`Translation: Failed to get language '${u}' from ${this.prefix}`,r),(0,f.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/14.03.00/ng-edit/default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-3573f6.493d22704058965c.js.map
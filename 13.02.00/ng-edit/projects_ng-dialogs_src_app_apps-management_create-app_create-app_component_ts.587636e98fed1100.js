"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_apps-management_create-app_create-app_component_ts"],{4592:function(M,d,e){e.r(d),e.d(d,{CreateAppComponent:function(){return I}});var v=e(8069),x=e(8047),t=e(587),m=e(6317),g=/^[A-Za-z](?:[A-Za-z0-9\s\(\)-]+)*$/,T=e(4628),n=e(7133),_=e(5758),Z=e(2528),h=e(6362),O=e(2977),C=e(4770),a=e(4683),l=e(3135),c=e(7317);function u(r,s){1&r&&(n.TgZ(0,"app-field-hint",10),n._uU(1," Required "),n.qZA()),2&r&&n.Q6J("isError",!0)}function b(r,s){if(1&r&&(n.TgZ(0,"app-field-hint",10),n._uU(1),n.qZA()),2&r){var o=n.oxw(3);n.Q6J("isError",!0),n.xp6(1),n.hij(" ",o.appNameError," ")}}function P(r,s){if(1&r&&(n.ynx(0),n.YNc(1,u,2,1,"app-field-hint",9),n.YNc(2,b,2,2,"app-field-hint",9),n.BQk()),2&r){var o=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==o.form.controls.name.errors?null:o.form.controls.name.errors.required),n.xp6(1),n.Q6J("ngIf",null==o.form.controls.name.errors?null:o.form.controls.name.errors.pattern)}}function F(r,s){if(1&r){var o=n.EpF();n.ynx(0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._uU(3,"Create App"),n.qZA(),n.qZA(),n._UZ(4,"router-outlet"),n.TgZ(5,"form",3),n.TgZ(6,"mat-form-field",4),n.TgZ(7,"mat-label"),n._uU(8,"Name"),n.qZA(),n._UZ(9,"input",5),n.qZA(),n.TgZ(10,"app-field-hint"),n._uU(11," App name will also be used for the folder "),n.qZA(),n.YNc(12,P,3,2,"ng-container",0),n.qZA(),n.TgZ(13,"div",6),n.TgZ(14,"button",7),n.NdJ("click",function(){return n.CHM(o),n.oxw().closeDialog()}),n._uU(15," Cancel "),n.qZA(),n.TgZ(16,"button",8),n.NdJ("click",function(){return n.CHM(o),n.oxw().create()}),n._uU(17," Create "),n.qZA(),n.qZA(),n.BQk()}if(2&r){var i=s.ngIf,p=n.oxw();n.xp6(5),n.Q6J("formGroup",p.form),n.xp6(7),n.Q6J("ngIf",p.form.controls.name.touched),n.xp6(2),n.Q6J("disabled",i.loading),n.xp6(2),n.Q6J("disabled",i.loading||!p.form.valid)}}var y=function(s){return{loading:s}},I=function(){var r=function(){function s(o,i,p){(0,v.Z)(this,s),this.dialogRef=o,this.appsListService=i,this.snackBar=p,this.hostClass="dialog-component",this.appNameError="Standard letters, numbers, spaces, hyphens and round brackets are allowed. Must start with a letter.",this.form=this.buildForm(),this.loading$=new m.X(!1)}return(0,x.Z)(s,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.loading$.complete()}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"create",value:function(){var p,i=this;this.form.disable(),this.loading$.next(!0);var E=null===(p=this.form.controls.name.value)||void 0===p?void 0:p.trim().replace(/\s\s+/g," ");this.snackBar.open("Creating app..."),this.appsListService.create(E).subscribe({error:function(){i.form.enable(),i.loading$.next(!1),i.snackBar.open("Failed to create app. Please check console for more information",void 0,{duration:3e3})},next:function(){i.form.enable(),i.snackBar.open("Created app",void 0,{duration:2e3}),i.closeDialog()}})}},{key:"buildForm",value:function(){return new t.cw({name:new t.NI(null,[t.kI.required,t.kI.pattern(g)])})}}]),s}();return r.\u0275fac=function(o){return new(o||r)(n.Y36(_.so),n.Y36(T.A),n.Y36(Z.ux))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-create-app"]],hostVars:1,hostBindings:function(o,i){2&o&&n.Ikx("className",i.hostClass)},decls:2,vars:5,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[3,"formGroup"],["appearance","standard","color","accent"],["matInput","","type","text","formControlName","name"],[1,"dialog-component-actions"],["type","button","mat-raised-button","",3,"disabled","click"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[3,"isError",4,"ngIf"],[3,"isError"]],template:function(o,i){1&o&&(n.YNc(0,F,18,4,"ng-container",0),n.ALo(1,"async")),2&o&&n.Q6J("ngIf",n.VKq(3,y,n.lcZ(1,1,i.loading$)))},directives:[h.O5,_.uh,O.lC,t._Y,t.JL,t.sg,C.KE,C.hX,a.Nt,t.Fj,t.JJ,t.u,l.Y,c.lW],pipes:[h.Ov],styles:[""]}),r}()},3135:function(M,d,e){e.d(d,{Y:function(){return C}});var v=e(8069),x=e(8047),t=e(7133),m=e(6362),g=e(4770);function A(a,l){1&a&&t.GkF(0)}function T(a,l){if(1&a&&(t.TgZ(0,"mat-hint"),t.YNc(1,A,1,0,"ng-container",3),t.qZA()),2&a){t.oxw();var c=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",c)}}function n(a,l){1&a&&t.GkF(0)}function _(a,l){if(1&a&&(t.TgZ(0,"mat-error"),t.YNc(1,n,1,0,"ng-container",3),t.qZA()),2&a){t.oxw();var c=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",c)}}function Z(a,l){1&a&&t.Hsn(0)}var h=function(l){return{"hint-box__short":l}},O=["*"],C=function(){var a=function(){function l(){(0,v.Z)(this,l),this.isError=!1,this.isShort=!0}return(0,x.Z)(l,[{key:"toggleIsShort",value:function(){this.isShort=!this.isShort}}]),l}();return a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:O,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(c,u){1&c&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return u.toggleIsShort()}),t.YNc(1,T,2,1,"mat-hint",1),t.YNc(2,_,2,1,"mat-error",1),t.qZA(),t.YNc(3,Z,1,0,"ng-template",null,2,t.W1O)),2&c&&(t.Q6J("ngClass",t.VKq(4,h,u.isShort))("ngSwitch",u.isError),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0))},directives:[m.mk,m.RF,m.n9,g.bx,m.tP,g.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),a}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.02.00/ng-edit/projects_ng-dialogs_src_app_apps-management_create-app_create-app_component_ts.587636e98fed1100.js.map
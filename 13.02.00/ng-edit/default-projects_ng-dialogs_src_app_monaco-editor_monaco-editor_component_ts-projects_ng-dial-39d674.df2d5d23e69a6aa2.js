"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["default-projects_ng-dialogs_src_app_monaco-editor_monaco-editor_component_ts-projects_ng-dial-39d674"],{7472:function(b,m,s){s.d(m,{T:function(){return l}});var h=s(8069),g=s(8047),u=s(7133),_=s(6170),p=function(){function o(i,e,t,n,a,f){(0,h.Z)(this,o),this.monaco=i,this.snippets=f,this.globalCache=this.createGlobalCache(i),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=t,this.editorInstance=this.createInstance(this.monaco,e,t,n,a),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(n,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}return(0,g.Z)(o,[{key:"destroy",value:function(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(function(e){e.dispose()}),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}},{key:"updateValue",value:function(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}},{key:"focus",value:function(){this.editorInstance.focus()}},{key:"onValueChange",value:function(e){this.valueChangedCallback=e}},{key:"onFocus",value:function(e){this.focusedCallback=e}},{key:"onBlur",value:function(e){this.blurredCallback=e}},{key:"insertSnippet",value:function(e){this.editorInstance.getContribution("snippetController2").insert(e)}},{key:"setSnippets",value:function(e){this.snippets=e}},{key:"setJsonSchema",value:function(e){var t=this.editorInstance.getModel().uri.toString(),n=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{enableSchemaRequest:!0}),a=n.schemas.some(function(d){return d.fileMatch[0]===t});if(null==e?void 0:e.value){var f="link"===e.type?{uri:e.value,fileMatch:[t]}:{uri:t,fileMatch:[t],schema:JSON.parse(e.value)};n.schemas=a?n.schemas.map(function(d){return d.fileMatch[0]===t?f:d}):[].concat((0,_.Z)(n.schemas),[f])}else{if(!a)return;n.schemas=n.schemas.filter(function(d){return d.fileMatch[0]!==t})}this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(n)}},{key:"createGlobalCache",value:function(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}},{key:"defineThemes",value:function(e,t){e.themesAreDefined||(e.themesAreDefined=!0,t.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}]}))}},{key:"createInstance",value:function(e,t,n,a,f){var d=e.editor.create(a,f),v=e.Uri.file(t),C=e.editor.createModel(n,void 0,v);return d.setModel(C),d}},{key:"saveState",value:function(e,t){var n=t.getModel().uri.toString(),a=JSON.stringify(t.saveViewState());null==e.savedStates[n]?e.savedStates[n]={viewState:a}:e.savedStates[n].viewState=a}},{key:"restoreState",value:function(e,t){var n=t.getModel().uri.toString(),a=e.savedStates[n];if(null!=a){var f=JSON.parse(a.viewState);t.restoreViewState(f)}}},{key:"addSnippets",value:function(e,t){var n=this;return[e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{triggerCharacters:[">"],provideCompletionItems:function(d,v){if(t.getModel()!==d)return{suggestions:[]};var C=d.getValueInRange({startLineNumber:v.lineNumber,startColumn:1,endLineNumber:v.lineNumber,endColumn:v.column});if(">"!==C[C.length-1])return{suggestions:[]};var D=C.lastIndexOf("<");if(-1===D)return{suggestions:[]};var c=C.substring(D),I=0;if(Array.from(c).forEach(function(S){'"'===S&&I++}),I%2!=0)return{suggestions:[]};if(c.startsWith("</"))return{suggestions:[]};if(c.indexOf(">")!==c.length-1)return{suggestions:[]};var E=c.indexOf(" ");if(-1===E&&(E=c.indexOf(">")),-1===E)return{suggestions:[]};var M=c.substring(1,E);return M&&/[a-zA-Z0-9_-]/.test(M)?{suggestions:[{label:"</".concat(M,">"),kind:e.languages.CompletionItemKind.Snippet,insertText:"$0</".concat(M,">"),insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:v.lineNumber,endLineNumber:v.lineNumber,startColumn:v.column,endColumn:v.column}}]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{provideCompletionItems:function(d,v){if(null==n.snippets||t.getModel()!==d)return{suggestions:[]};var C=d.getWordUntilPosition(v),O={startLineNumber:v.lineNumber,endLineNumber:v.lineNumber,startColumn:C.startColumn,endColumn:C.endColumn};return{suggestions:n.snippets.map(function(c){var I,E,M;if(c.content)return{label:c.name,kind:e.languages.CompletionItemKind.Snippet,documentation:"".concat(null!==(I=c.title)&&void 0!==I?I:"","\n").concat(null!==(E=c.help)&&void 0!==E?E:"","\n").concat(null!==(M=c.links)&&void 0!==M?M:""),insertText:c.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:O}}).filter(function(c){return!!c})}}})]}},{key:"createResizeObserver",value:function(e,t){var n=new ResizeObserver(function(){t.layout()});return n.observe(e),n}},{key:"addEvents",value:function(e){var t=this;e.getModel().onDidChangeContent(function(){var n,a=e.getModel().getValue();a!==t.cachedValue&&(t.cachedValue=a,null===(n=t.valueChangedCallback)||void 0===n||n.call(t,a))}),e.onDidFocusEditorWidget(function(){var n;null===(n=t.focusedCallback)||void 0===n||n.call(t)}),e.onDidBlurEditorWidget(function(){var n;null===(n=t.blurredCallback)||void 0===n||n.call(t)})}}]),o}(),r=["editor"],l=function(){var o=function(){function i(){(0,h.Z)(this,i),this.autoFocus=!1,this.valueChanged=new u.vpe,this.focused=new u.vpe,this.blurred=new u.vpe}return(0,g.Z)(i,[{key:"ngAfterViewInit",value:function(){var t=this;window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.25.2/min/vs"]}}),window.require(["vs/editor/editor.main"],function(n){t.monaco=n,t.createEditor(t.autoFocus)})}},{key:"ngOnChanges",value:function(t){var n,a,f;null!=t.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=t.value&&(null===(n=this.monacoInstance)||void 0===n||n.updateValue(this.value)),null!=t.jsonSchema&&(null===(a=this.monacoInstance)||void 0===a||a.setJsonSchema(this.jsonSchema)),null!=t.snippets&&(null===(f=this.monacoInstance)||void 0===f||f.setSnippets(this.snippets))}},{key:"insertSnippet",value:function(t){var n,a;null===(n=this.monacoInstance)||void 0===n||n.insertSnippet(t),null===(a=this.monacoInstance)||void 0===a||a.focus()}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.monacoInstance)||void 0===t||t.destroy()}},{key:"createEditor",value:function(t){var n=this;this.monacoInstance=new p(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets),this.jsonSchema&&this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.onValueChange(function(a){n.valueChanged.emit(a)}),this.monacoInstance.onFocus(function(){n.focused.emit()}),this.monacoInstance.onBlur(function(){n.blurred.emit()}),t&&this.monacoInstance.focus()}}]),i}();return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-monaco-editor"]],viewQuery:function(e,t){var n;1&e&&u.Gf(r,5),2&e&&u.iGM(n=u.CRH())&&(t.editorRef=n.first)},inputs:{filename:"filename",value:"value",snippets:"snippets",options:"options",jsonSchema:"jsonSchema",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[u.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(e,t){1&e&&u._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),o}()},7200:function(b,m,s){s.d(m,{n:function(){return p}});var h=s(8047),g=s(8069),u=s(6362),_=s(7133),p=function(){var r=(0,h.Z)(function l(){(0,g.Z)(this,l)});return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=_.oAB({type:r}),r.\u0275inj=_.cJS({imports:[[u.ez]]}),r}()},5469:function(b,m,s){s.d(m,{D:function(){return p}});var h=s(8069),g=s(8047),u=s(7338),_=s(7133),p=function(){var r=function(){function l(o){(0,h.Z)(this,l),this.globalConfigService=o}return(0,g.Z)(l,[{key:"onClick",value:function(i){(navigator.platform.match("Mac")?i.metaKey:i.ctrlKey)&&i.shiftKey&&i.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}]),l}();return r.\u0275fac=function(o){return new(o||r)(_.Y36(u.bE))},r.\u0275dir=_.lG2({type:r,selectors:[["","appToggleDebug",""]],hostBindings:function(o,i){1&o&&_.NdJ("click",function(t){return i.onClick(t)})}}),r}()},845:function(b,m,s){s.d(m,{z:function(){return p}});var h=s(8069),g=s(8047),u=s(7133),_=s(318),p=function(){var r=function(){function l(o){(0,h.Z)(this,l),this.sanitizer=o}return(0,g.Z)(l,[{key:"transform",value:function(i){return this.sanitizer.bypassSecurityTrustHtml(i)}}]),l}();return r.\u0275fac=function(o){return new(o||r)(u.Y36(_.H7,16))},r.\u0275pipe=u.Yjl({name:"safeHtml",type:r,pure:!0}),r}()},162:function(b,m,s){s.d(m,{f:function(){return u}});var h=s(8784),g=s(7514);function u(_){return{loader:{provide:g.Zw,useFactory:_,deps:[h.eN]},defaultLanguage:"en",isolate:!0}}},8865:function(b,m,s){s.d(m,{M:function(){return p}});var h=s(8069),g=s(8047),u=s(745),_=s(3158),p=function(){function r(l,o,i){(0,h.Z)(this,r),this.http=l,this.prefix=o,this.suffix=i}return(0,g.Z)(r,[{key:"getTranslation",value:function(o){var i=this;return this.http.get("".concat(this.prefix).concat(o).concat(this.suffix)).pipe((0,_.K)(function(e){return console.warn("Translation: Failed to get language '".concat(o,"' from ").concat(i.prefix),e),(0,u.of)({})}))}}]),r}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.02.00/ng-edit/default-projects_ng-dialogs_src_app_monaco-editor_monaco-editor_component_ts-projects_ng-dial-39d674.df2d5d23e69a6aa2.js.map
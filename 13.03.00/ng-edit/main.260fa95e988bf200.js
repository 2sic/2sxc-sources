"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["main"],{8327:function(de,W,a){function L(b){if(b.length<4||"edit"!==b[2].path)return null;var j=null!=b[4]&&"details"===b[4].path&&null!=b[5]&&null!=b[6],F=null!=b[4]&&"update"===b[4].path&&null!=b[5]&&null!=b[6],T=Object.assign(Object.assign({zoneId:b[0],appId:b[1],items:b[3]},j&&{detailsEntityGuid:b[5],detailsFieldId:b[6]}),F&&{updateEntityGuid:b[5],updateFieldId:b[6]});return{consumed:b.slice(0,j||F?7:4),posParams:T}}function O(b){if(b.length<5||"edit"!==b[2].path||"refresh"!==b[3].path)return null;var j={zoneId:b[0],appId:b[1],items:b[4]};return{consumed:b.slice(0,5),posParams:j}}function m(b){if(b.length<2||"edit"!==b[0].path)return null;var j=null!=b[2]&&"details"===b[2].path&&null!=b[3]&&null!=b[4],F=null!=b[2]&&"update"===b[2].path&&null!=b[3]&&null!=b[4],T=Object.assign(Object.assign({items:b[1]},j&&{detailsEntityGuid:b[3],detailsFieldId:b[4]}),F&&{updateEntityGuid:b[3],updateFieldId:b[4]});return{consumed:b.slice(0,j||F?5:2),posParams:T}}function I(b){if(b.length<3||"edit"!==b[0].path||"refresh"!==b[1].path)return null;var j={items:b[2]};return{consumed:b.slice(0,3),posParams:j}}a.d(W,{sB:function(){return L},dQ:function(){return O},eP:function(){return m},lZ:function(){return I}})},3205:function(de,W,a){a.d(W,{e:function(){return m}});var L=a(8069),O=a(8047),m=function(){function I(){(0,L.Z)(this,I),this.logics={}}return(0,O.Z)(I,[{key:"add",value:function(j){this.logics[j.name]=j}},{key:"get",value:function(j){var F;return null!==(F=this.logics[j])&&void 0!==F?F:null}}],[{key:"singleton",value:function(){return null==window.eavFieldLogicManager&&(window.eavFieldLogicManager=new I),window.eavFieldLogicManager}}]),I}()},4505:function(de,W,a){a.d(W,{U:function(){return I}});var L=a(8069),O=a(8047),m=a(1284),I=function(){function b(){(0,L.Z)(this,b)}return(0,O.Z)(b,null,[{key:"getTranslationStateClass",value:function(F){switch(F){case m.uU.MissingDefaultLangValue:return"localization-missing-default-lang-value";case m.uU.Translate:case m.uU.LinkCopyFrom:return"localization-translate";case m.uU.DontTranslate:return"";case m.uU.LinkReadOnly:return"localization-link-read-only";case m.uU.LinkReadWrite:return"localization-link-read-write";default:return""}}},{key:"calculateSharedInfoMessage",value:function(F,T){F=b.calculateShortDimensions(F,T);var S=b.calculateEditAndReadDimensions(F),N=S.editableDimensions,$=S.readOnlyDimensions,U="",P=N.length>0,z=$.length>0;return P&&z?U="".concat(N.join(", "),", (").concat($.join(", "),")"):P?U=N.join(", "):z&&(U="(".concat($.join(", "),")")),U}},{key:"calculateShortDimensions",value:function(F,T){var S={},N=T.slice(0,T.indexOf("-"));return S[N]=[],S[N].push(N),F.forEach(function($){var P=$.slice(0,$.indexOf("-")).replace("~","");S[P]||(S[P]=[]),S[P].push($)}),F.map(function($){var U=$.slice(0,$.indexOf("-")),P=U.replace("~","");return S[P].length>1?$:U})}},{key:"calculateEditAndReadDimensions",value:function(F){var T=[],S=[];return F.forEach(function(N){N.includes("~")?S.push(N.replace("~","")):T.push(N)}),{editableDimensions:T,readOnlyDimensions:S}}}]),b}()},1284:function(de,W,a){a.d(W,{MQ:function(){return m},ZF:function(){return L},XF:function(){return O},Jw:function(){return I},uU:function(){return b},eb:function(){return j.e}});var L={WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor"},O="FieldMetadata",m={Default:"Default",Strict:"Strict"},I={LanguagesDecorator:"LanguagesDecorator",SaveEmptyDecorator:"SaveEmptyDecorator"},b={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"},j=a(3663)},3663:function(de,W,a){a.d(W,{e:function(){return L}});var L={AdamWrapper:"app-adam-wrapper",CollapsibleWrapper:"app-collapsible-wrapper",DropzoneWrapper:"app-dropzone-wrapper",EntityExpandableWrapper:"app-entity-expandable-wrapper",ExpandableWrapper:"app-expandable-wrapper",HiddenWrapper:"app-hidden-wrapper",HyperlinkDefaultExpandableWrapper:"app-hyperlink-default-expandable-wrapper",HyperlinkLibraryExpandableWrapper:"app-hyperlink-library-expandable-wrapper",LocalizationWrapper:"app-localization-wrapper"}},5656:function(de,W,a){a.d(W,{sq:function(){return I},tW:function(){return b},NI:function(){return N},Bu:function(){return $},u8:function(){return z},iX:function(){return Q},YB:function(){return ue},lC:function(){return X},oY:function(){return ve},vl:function(){return Ee},iN:function(){return v.i},Pp:function(){return Z},fD:function(){return w}});var L=a(5106),O=a(8069),m=a(8047),I=function(){function d(l){(0,O.Z)(this,d),this.zone=l,this.eventListeners=[]}return(0,m.Z)(d,[{key:"attach",value:function(e){var t=this;this.zone.runOutsideAngular(function(){function n(){(function u(f){var C,y=(0,L.Z)(f);try{for(y.s();!(C=y.n()).done;)clearTimeout(C.value)}catch(A){y.e(A)}finally{y.f()}f.splice(0,f.length)})(window.windowBodyTimeouts),document.body.classList.add(window.draggingClass)}function i(){document.body.classList.remove(window.draggingClass)}e.addEventListener("dragover",n,{passive:!0}),e.addEventListener("drop",i,{passive:!0}),t.eventListeners.push({element:e,type:"dragover",listener:n},{element:e,type:"drop",listener:i})})}},{key:"detach",value:function(){var e=this;this.zone.runOutsideAngular(function(){e.eventListeners.forEach(function(t){t.element.removeEventListener(t.type,t.listener)})})}}]),d}(),b=function(){function d(l,e,t,n,i){(0,O.Z)(this,d),this.changeEvent=t,this.eavConfig=i,this.fields=[],this.findFields=/\[.*?\]/gi,this.unwrapField=/[\[\]]/gi,this.subscriptions=[],this.mask=l,this.model=e,this.fields=this.fieldList(),n&&(this.preClean=n),e&&t&&this.watchAllFields()}return(0,m.Z)(d,[{key:"resolve",value:function(){var e=this,t=this.mask;return null!=this.eavConfig&&null!=t&&(t=(t=t.replace("[App:AppId]",this.eavConfig.appId)).replace("[App:ZoneId]",this.eavConfig.zoneId)),this.fields.forEach(function(n,i){var u=e.model.hasOwnProperty(n)&&e.model[n]&&e.model[n].value?e.model[n].value:"",f=e.preClean(n,u);t=t.replace("["+n+"]",f)}),t}},{key:"fieldList",value:function(){var e=this,t=[];if(!this.mask)return t;var n=this.mask.match(this.findFields);return n?n.forEach(function(i,u){var f=i.replace(e.unwrapField,"");t.push(f)}):t.push(this.mask),t}},{key:"preClean",value:function(e,t){return t}},{key:"onChange",value:function(){var e=this.resolve();this.value!==e&&this.changeEvent(e),this.value=e}},{key:"watchAllFields",value:function(){var e=this;this.fields.forEach(function(t){if(e.model[t]){var n=e.model[t].valueChanges.subscribe(function(i){return e.onChange()});e.subscriptions.push(n)}})}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()})}}]),d}(),j=a(2090),F=a(1226),T=a(4505),S=a(1284),N=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"mergeSettings",value:function(e,t,n){if(null==e)return{};var f,i={},u=(0,L.Z)(e);try{for(u.s();!(f=u.n()).done;){var y=f.value;if("@All"!==y.Type.Id)for(var C=0,_=Object.entries(y.Attributes);C<_.length;C++){var A=(0,j.Z)(_[C],2),Y=A[0],E=X.translate(t,n,A[1],null);i[Y]=E}}}catch(G){u.e(G)}finally{u.f()}var p,V=(0,L.Z)(e);try{for(V.s();!(p=V.n()).done;){var r=p.value;if("@All"===r.Type.Id)for(var o=0,s=Object.entries(r.Attributes);o<s.length;o++){var g=(0,j.Z)(s[o],2),h=g[0],x=X.translate(t,n,g[1],null);null!=i[h]&&(null==x||""===x)||(i[h]=x)}}}catch(G){V.e(G)}finally{V.f()}return i}},{key:"setDefaultContentTypeSettings",value:function(e,t,n,i,u){var f,y,C,_,A,Y,B,E,V,p,r,o,s=Object.assign({},e);return null!==(f=s.Description)&&void 0!==f||(s.Description=""),null!==(y=s.EditInstructions)&&void 0!==y||(s.EditInstructions=""),null!==(C=s.Features)&&void 0!==C||(s.Features=""),null!==(_=s.Label)&&void 0!==_||(s.Label=""),null!==(A=s.ListInstructions)&&void 0!==A||(s.ListInstructions=""),null!==(Y=s.Notes)&&void 0!==Y||(s.Notes=""),null!==(B=s.Icon)&&void 0!==B||(s.Icon=""),null!==(E=s.Link)&&void 0!==E||(s.Link=""),s._itemTitle=d.getContentTypeTitle(t,n,i),s._slotCanBeEmpty=null!==(p=null===(V=u.Group)||void 0===V?void 0:V.SlotCanBeEmpty)&&void 0!==p&&p,s._slotIsEmpty=null!==(o=null===(r=u.Group)||void 0===r?void 0:r.SlotIsEmpty)&&void 0!==o&&o,s}},{key:"setDefaultFieldSettings",value:function(e){var t,n,i,u,f,y,C,_,A=Object.assign({},e);return null!==(t=A.Name)&&void 0!==t||(A.Name=""),null!==(n=A.Placeholder)&&void 0!==n||(A.Placeholder=""),null!==(i=A.Notes)&&void 0!==i||(A.Notes=""),null!==(u=A.VisibleInEditUI)&&void 0!==u||(A.VisibleInEditUI=!0),null!==(f=A.Required)&&void 0!==f||(A.Required=!1),null!==(y=A.Disabled)&&void 0!==y||(A.Disabled=!1),null!==(C=A.DisableTranslation)&&void 0!==C||(A.DisableTranslation=!1),A.Visible=A.VisibleInEditUI,delete A.VisibleInEditUI,null!=A.DefaultCollapsed&&(A.Collapsed=A.DefaultCollapsed,delete A.DefaultCollapsed),null!==(_=A.Formulas)&&void 0!==_||(A.Formulas=[]),A}},{key:"findDisableTranslation",value:function(e,t,n,i,u){var f,y,C=e.find(function(B){return B.Type.Name===S.Jw.LanguagesDecorator});if((null===(f=null==C?void 0:C.Attributes.Enabled)||void 0===f?void 0:f.Values.some(function(B){return!1===B.Value}))||(null==t?void 0:t.DisableI18n)||!X.translationExistsInDefault(n,i))return!0;var A,_=(0,L.Z)(null!=u?u:[]);try{for(_.s();!(A=_.n()).done;)if(null===(y=A.value.Attributes.DisableTranslation)||void 0===y?void 0:y.Values.some(function(B){return!0===B.Value}))return!0}catch(B){_.e(B)}finally{_.f()}return!1}},{key:"getContentTypeTitle",value:function(e,t,n){var i,u;try{var f=e.Metadata.find(function(y){return"ContentType"===y.Type.Name||"xx ContentType"===y.Type.Name});f&&(u=null===(i=X.getValueOrDefault(f.Attributes.Label,t,n))||void 0===i?void 0:i.Value),u=u||e.Name}catch(y){u=e.Name}return u}},{key:"findIsLastInGroup",value:function(e,t){var n=e.Attributes.indexOf(t);return!(null!=e.Attributes[n+1]&&(n<e.Attributes.findIndex(function(f){return f.InputType===F.v.EmptyDefault})||t.InputType!==F.v.EmptyEnd&&![F.v.EmptyDefault,F.v.EmptyEnd].includes(e.Attributes[n+1].InputType)))}},{key:"getDisabledBecauseTranslations",value:function(e,t,n,i){return!(n===i||X.translationExistsInDefault(e,i)&&!t&&(X.isEditableTranslationExist(e,n,i)||(X.isReadonlyTranslationExist(e,n),0)))}},{key:"getTranslationState",value:function(e,t,n,i){var u,f;if(t)u="LangMenu.InAllLanguages",f="";else if(X.translationExistsInDefault(e,i)){var y=X.isEditableTranslationExist(e,n,i),C=X.isReadonlyTranslationExist(e,n);if(y||C){var _=X.getValueTranslation(e,n,i).Dimensions.map(function(E){return E.Value}).filter(function(E){return!E.includes(n)});_.length>0?(y?u="LangMenu.In":C&&(u="LangMenu.From"),f=T.U.calculateSharedInfoMessage(_,n)):(u="",f="")}else u="LangMenu.UseDefault",f=""}else u="LangMenu.MissingDefaultLangValue",f=i;var Y=this.getTranslationStateCore(e,t,n,i);return{infoLabel:u,infoMessage:f,language:Y.language,linkType:Y.linkType}}},{key:"getTranslationStateCore",value:function(e,t,n,i){var u,f;if(X.translationExistsInDefault(e,i))if(t)u="",f=S.uU.DontTranslate;else if(X.isEditableTranslationExist(e,n,i)){var y=X.getValueTranslation(e,n,i).Dimensions.filter(function(A){return A.Value!==n});y.length>0?(u=y[0].Value,f=S.uU.LinkReadWrite):(u="",f=S.uU.Translate)}else X.isReadonlyTranslationExist(e,n)?(u=X.getValueTranslation(e,n,i).Dimensions.filter(function(A){return A.Value!==n})[0].Value,f=S.uU.LinkReadOnly):(u="",f=S.uU.DontTranslate);else u="",f=S.uU.MissingDefaultLangValue;return{language:u,linkType:f}}}]),d}(),$=function(){var d=function(){function l(){(0,O.Z)(this,l)}return(0,m.Z)(l,null,[{key:"getExtension",value:function(t){return t.substring(t.lastIndexOf(".")+1).toLocaleLowerCase()}},{key:"getIconClass",value:function(t){var n=this.getExtension(t);return this.matExtensions[n]||this.customExtensions[n]||this.defaultIcon}},{key:"isKnownType",value:function(t){return null!=this.matExtensions[this.getExtension(t)]}},{key:"isImage",value:function(t){return this.isImgRegex().test(t)}},{key:"isImgRegex",value:function(){return/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*\.(?:jpg|jpeg|gif|png))(?:\?([^#]*))?(?:#(.*))?/i}}]),l}();return d.defaultIcon="file",d.customExtensions={doc:"file-word",docx:"file-word",xls:"file-excel",xlsx:"file-excel",ppt:"file-powerpoint",pptx:"file-powerpoint",pdf:"file-pdf",mp3:"file-audio",avi:"file-video",mpg:"file-video",mpeg:"file-video",mov:"file-video",mp4:"file-video",zip:"file-archive",rar:"file-archive",txt:"file-text",html:"file-code",css:"file-code",xml:"file-code",xsl:"file-code"},d.matExtensions={vcf:"person"},d}(),U=a(6170),P=a(8870),z=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"findFormulaVersion",value:function(e){var t=e.trim();if(t.substring(0,t.indexOf("(")).trim()===P.nJ.V1)return P.nJ.V1}},{key:"buildFormulaFunction",value:function(e){var t=this.findFormulaVersion(e),n=e.trim();return t===P.nJ.V1&&(n="function ".concat(n.substring(P.nJ.V1.length).trim())),new Function("return ".concat(n))()}},{key:"buildFormulaProps",value:function(e,t,n,i,u,f,y,C,_,A,Y,B,E,V,p){var r;if(e.version===P.nJ.V1){var o=Object.assign(Object.assign({},f),{get default(){},get initial(){},get prefill(){},get value(){}});return Object.defineProperties(o,{default:{get:function(){if(e.target===P.C4.Value)return ue.parseDefaultValue(e.fieldName,n,i);if(e.target.startsWith(P.bi)){var h=e.target.substring(P.bi.length);return i[h]}}},initial:{get:function(){if(e.target===P.C4.Value)return y[e.fieldName]}},prefill:{get:function(){if(e.target===P.C4.Value)return ue.parseDefaultValue(e.fieldName,n,i,Y,!0)}},value:{get:function(){if(e.target===P.C4.Value)return f[e.fieldName];if(e.target.startsWith(P.bi)){var h=e.target.substring(P.bi.length);return u[h]}}}}),{data:o,context:{cache:e.cache,culture:{code:C,name:null===(r=A.find(function(g){return g.NameId===C}))||void 0===r?void 0:r.Culture},debug:B,target:{entity:{guid:e.entityGuid,id:t},name:e.target===P.C4.Value?e.fieldName:e.target.substring(e.target.lastIndexOf(".")+1),type:e.target===P.C4.Value?e.target:e.target.substring(0,e.target.lastIndexOf("."))}},experimental:{getEntities:function(){return E.getItems(V.eavConfig.itemGuids).map(function(D){return{guid:D.Entity.Guid,id:D.Entity.Id,type:{id:D.Entity.Type.Id,name:D.Entity.Type.Name}}})},getSettings:function(h){return p.getFieldSettings(h)},getValues:function(h){for(var D=E.getItem(h),x={},M=0,k=Object.entries(D.Entity.Attributes);M<k.length;M++){var G=(0,j.Z)(k[M],2);x[G[0]]=X.translate(C,_,G[1],null)}return x}}}}}},{key:"buildDesignerSnippets",value:function(e,t){if(e.version===P.nJ.V1){var f=t.map(function(y){var C="data.".concat(y.fieldName);return{code:C,label:C}});return[{code:"data.value",label:"data.value"},{code:"data.default",label:"data.default"},{code:"data.prefill",label:"data.prefill"}].concat((0,U.Z)(f))}}}]),d}(),Q=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"objectsEqual",value:function(e,t){if(null==e||null==t)return e===t;var n=e,i=t,u=Object.keys(n),f=Object.keys(i);return u.length===f.length&&u.every(function(C){return!!i.hasOwnProperty(C)&&n[C]===i[C]})}},{key:"arraysEqual",value:function(e,t){return null==e||null==t?e===t:e.length===t.length&&e.every(function(i,u){return e[u]===t[u]})}},{key:"getFormChanges",value:function(e,t){for(var n={},i=0,u=Object.keys(t);i<u.length;i++){var f=u[i],y=t[f];this.controlValuesEqual(y,e[f])||(n[f]=y)}return 0===Object.keys(n).length?void 0:n}},{key:"toggleInArray",value:function(e,t){var n=t.indexOf(e);-1===n?t.push(e):t.splice(n,1)}},{key:"markControlTouched",value:function(e){e.touched||(e.markAsTouched(),e.updateValueAndValidity())}},{key:"patchControlValue",value:function(e,t){e.touched||e.markAsTouched(),!e.dirty&&!this.controlValuesEqual(e.value,t)&&e.markAsDirty(),e.patchValue(t)}},{key:"controlValuesEqual",value:function(e,t){return!!(e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)||Array.isArray(e)&&Array.isArray(t)&&this.arraysEqual(e,t))}},{key:"disableControl",value:function(e,t){e.disabled!==t&&(t?e.disable():e.enable())}},{key:"tryParse",value:function(e){try{return JSON.parse(e)}catch(t){}}}]),d}(),K=a(3663),ue=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"getContentTypeId",value:function(e){var t,n;return null!==(n=null===(t=e.Entity.Type)||void 0===t?void 0:t.Id)&&void 0!==n?n:e.Header.ContentTypeName}},{key:"getInputTypeNames",value:function(e,t){var n=this;return e.map(function(i){var u=n.calculateInputType(i,t);return{name:i.Name,inputType:u.inputType}})}},{key:"calculateInputType",value:function(e,t){var n=t.find(function(u){return u.Type===e.InputType});return{inputType:e.InputType,isExternal:!!n&&!!n.AngularAssets}}},{key:"getWrappers",value:function(e,t){var n,i=t.inputType,u=t.isExternal;if(i===F.v.EmptyMessage)return[];if(i===F.v.EmptyDefault)return[K.e.CollapsibleWrapper];var f=[K.e.HiddenWrapper];return i!==F.v.EntityDefault&&i!==F.v.StringDropdownQuery&&i!==F.v.EntityQuery&&i!==F.v.EntityContentBlocks||(f.push(K.e.LocalizationWrapper),(null!==(n=e.AllowMultiValue)&&void 0!==n&&n||i===F.v.EntityContentBlocks)&&f.push(K.e.EntityExpandableWrapper)),u&&f.push(K.e.DropzoneWrapper,K.e.LocalizationWrapper,K.e.ExpandableWrapper,K.e.AdamWrapper),f}},{key:"parseDefaultValue",value:function(e,t,n,i,u){var f,y;if(!u||void 0!==(null===(f=null==i?void 0:i.Prefill)||void 0===f?void 0:f[e])){var C=n.DefaultValue;switch((null===(y=null==i?void 0:i.Prefill)||void 0===y?void 0:y[e])&&(C=i.Prefill[e]),null==t?void 0:t.Type){case F.v.BooleanDefault:return null!=C&&"true"===C.toLowerCase();case F.v.BooleanTristate:return null!=C&&""!==C?"true"===C.toLowerCase():null;case F.v.DatetimeDefault:return null!=C&&""!==C?new Date(C).toJSON():null;case F.v.NumberDefault:case F.v.NumberDropdown:return null!=C&&""!==C?isNaN(Number(C))?null:Number(C):null;case F.v.EntityDefault:case F.v.EntityQuery:case F.v.EntityContentBlocks:if(null==C||""===C)return[];if(C.includes("{")&&(C=C.replace(/[\{\}]/g,'"')),C.includes(",")&&!C.includes("[")){var _=C.split(",").map(function(A){return A.trim()});C=JSON.stringify(_)}return C.startsWith("[")?JSON.parse(C):[C.replace(/"/g,"")];default:return null!=C?C:""}}}},{key:"isValueEmpty",value:function(e,t){var n=Array.isArray(e)&&0===e.length&&t.eavConfig.createMode;return void 0===e||n}}]),d}(),Fe=a(5738),oe=a(7909),be=a(4979),X=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"translate",value:function(e,t,n,i){var u,f;if(!n)return i;var y=this.getValueTranslation(n,e,t);if(y)return y.Value;var C=this.getValueTranslation(n,t,t);return C?C.Value:null!==(f=null===(u=n.Values[0])||void 0===u?void 0:u.Value)&&void 0!==f?f:null}},{key:"getValueOrDefault",value:function(e,t,n){var i=d.getValueTranslation(e,t,n);return null==i&&(i=d.getValueTranslation(e,n,n)),i}},{key:"getValueTranslation",value:function(e,t,n){return e.Values.find(function(i){return void 0!==i.Dimensions.find(function(u){return u.Value===t||u.Value==="~".concat(t)||t===n&&"*"===u.Value})})}},{key:"isEditableOrReadonlyTranslationExist",value:function(e,t,n){return!!e&&e.Values.filter(function(i){return i.Dimensions.find(function(u){return u.Value===t||u.Value==="~".concat(t)||t===n&&"*"===u.Value})}).length>0}},{key:"isEditableTranslationExist",value:function(e,t,n){return!!e&&e.Values.filter(function(i){return i.Dimensions.find(function(u){return u.Value===t||t===n&&"*"===u.Value})}).length>0}},{key:"isReadonlyTranslationExist",value:function(e,t){return!!e&&e.Values.filter(function(n){return n.Dimensions.find(function(i){return i.Value==="~".concat(t)})}).length>0}},{key:"translationExistsInDefault",value:function(e,t){return!!e&&e.Values.filter(function(n){return n.Dimensions.find(function(i){return i.Value===t||"*"===i.Value})}).length>0}},{key:"updateAttribute",value:function(e,t,n){var i={};if(0===Object.keys(e).length){var u=Object.assign({},n);return i[t]=u,i}for(var f=0,y=Object.keys(e);f<y.length;f++){var C=y[f];if(C===t){var _=Object.assign({},n);i[C]=_}else{var A=Object.assign({},e[C]);i[C]=A}}if(null==e[t]){var Y=Object.assign({},n);i[t]=Y}return i}},{key:"updateAttributesValues",value:function(e,t,n,i){var u=this,f={};return Object.keys(e).forEach(function(y){var C=t[y];if(void 0!==C)if(u.isEditableOrReadonlyTranslationExist(e[y],n,i)){var A=Object.assign(Object.assign({},e[y]),{Values:e[y].Values.map(function(V){return V.Dimensions.find(function(r){return r.Value===n||r.Value==="~".concat(n)||n===i&&"*"===r.Value})?Object.assign(Object.assign({},V),{Value:C}):V})});f[y]=A}else{(0,Fe.P)("saveAttributeValues add values ",C);var Y=oe.f.create(C,[be.z.create(n)]),B=Object.assign(Object.assign({},e[y]),{Values:[].concat((0,U.Z)(e[y].Values),[Y])});f[y]=B}else{var E=Object.assign({},e[y]);f[y]=E}}),f}},{key:"updateAttributeValue",value:function(e,t,n,i,u,f){var C=i;f&&(C="~".concat(i));var _=Object.assign(Object.assign({},e[t]),{Values:e[t].Values.map(function(A){return A.Dimensions.find(function(B){return B.Value===i||B.Value==="~".concat(i)||i===u&&"*"===B.Value})?Object.assign(Object.assign({},A),{Value:n,Dimensions:A.Dimensions.map(function(B){return B.Value===i||B.Value==="~".concat(i)||i===u&&"*"===B.Value?{Value:C}:B})}):A})});return this.updateAttribute(e,t,_)}},{key:"addAttributeValue",value:function(e,t,n,i){var f=0!==Object.keys(e).length&&e[n]?Object.assign(Object.assign({},e[n]),{Values:[].concat((0,U.Z)(e[n].Values),[t]),Type:i}):Object.assign(Object.assign({},e[n]),{Values:[t],Type:i});return this.updateAttribute(e,n,f)}},{key:"addAttributeDimension",value:function(e,t,n,i,u,f){var C=n;f&&(C="~".concat(n));var _=Object.assign(Object.assign({},e[t]),{Values:e[t].Values.map(function(A){return A.Dimensions.find(function(B){return B.Value===i||i===u&&"*"===B.Value})?Object.assign(Object.assign({},A),{Dimensions:A.Dimensions.concat({Value:C})}):A})});return this.updateAttribute(e,t,_)}},{key:"removeAttributeDimension",value:function(e,t,n){var C,i=e,u=[n,"~".concat(n)],f=i[t].Values.find(function(A){return A.Dimensions.some(function(B){return u.includes(B.Value)})});return f?(f.Dimensions.length>1?C=Object.assign(Object.assign({},i[t]),{Values:i[t].Values.map(function(A){return A.Dimensions.some(function(E){return u.includes(E.Value)})?Object.assign(Object.assign({},A),{Dimensions:A.Dimensions.filter(function(E){return!u.includes(E.Value)})}):A})}):1===f.Dimensions.length&&(C=Object.assign(Object.assign({},i[t]),{Values:i[t].Values.filter(function(A){return!A.Dimensions.some(function(B){return u.includes(B.Value)})})})),this.updateAttribute(i,t,C)):Object.assign({},i)}},{key:"getBestValue",value:function(e,t,n,i){var u;if(null!=e){var f=[t,"~".concat(t)],y=this.findValueForDimensions(e,f);if(void 0!==y||void 0!==(y=this.findValueForDimensions(e,f=["*"])))return y;if(i!==S.MQ.Strict)return f=[n,"~".concat(n)],void 0!==(y=this.findValueForDimensions(e,f))||(y=null===(u=e.Values[0])||void 0===u?void 0:u.Value),y}}},{key:"findValueForDimensions",value:function(e,t){var n;return null===(n=e.Values.find(function(u){return!!u.Dimensions.find(function(f){return t.includes(f.Value)})}))||void 0===n?void 0:n.Value}}]),d}(),Te=a(9295),q=a(5758),pe=a(6317),me=a(6562),Ve=a(635),Oe=a(7368),c=a(7133),fe=a(7514),Ce=a(6362),Ze=a(4770),ce=a(4683),Le=a(587),Ne=a(3338),$e=a(5590);function _e(d,l){1&d&&c.GkF(0)}var Re=function(l){return{page:l}};function Se(d,l){if(1&d&&(c.ynx(0),c.YNc(1,_e,1,0,"ng-container",8),c.BQk()),2&d){var e=l.$implicit;c.oxw(2);var t=c.MAs(13);c.xp6(1),c.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",c.VKq(2,Re,e))}}function Pe(d,l){if(1&d&&(c.TgZ(0,"ul"),c.YNc(1,Se,2,4,"ng-container",7),c.qZA()),2&d){var e=c.oxw().ngIf;c.xp6(1),c.Q6J("ngForOf",e.tree)}}function ze(d,l){1&d&&(c.TgZ(0,"li"),c.TgZ(1,"div",9),c._UZ(2,"div",10),c.TgZ(3,"div"),c._uU(4,"No results"),c.qZA(),c.qZA(),c.qZA())}function He(d,l){if(1&d&&(c.TgZ(0,"span",14),c._uU(1),c.qZA()),2&d){var e=c.oxw().$implicit;c.xp6(1),c.hij("",e.path,"\xa0>\xa0")}}function De(d,l){if(1&d){var e=c.EpF();c.TgZ(0,"li"),c.TgZ(1,"div",9),c._UZ(2,"div",10),c.TgZ(3,"div",11),c.NdJ("click",function(){var f=c.CHM(e).$implicit;return c.oxw(3).select(f.id)}),c._UZ(4,"mat-icon",12),c.YNc(5,He,2,1,"span",13),c.TgZ(6,"span"),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&d){var t=l.$implicit,n=c.oxw(3);c.xp6(3),c.Q6J("ngClass",t.id===n.selected?"selected":""),c.xp6(2),c.Q6J("ngIf",t.path),c.xp6(2),c.Oqu(t.name)}}function Ue(d,l){if(1&d&&(c.TgZ(0,"ul"),c.YNc(1,ze,5,0,"li",0),c.YNc(2,De,8,3,"li",7),c.qZA()),2&d){var e=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",0===e.filteredSearch.length),c.xp6(1),c.Q6J("ngForOf",e.filteredSearch)}}function we(d,l){1&d&&c._UZ(0,"div",10)}function Be(d,l){if(1&d){var e=c.EpF();c.TgZ(0,"mat-icon",17),c.NdJ("click",function(){c.CHM(e);var u=c.oxw().page;return c.oxw(2).toggle(u.id)}),c._uU(1),c.qZA()}if(2&d){var t=c.oxw().page,n=c.oxw(2);c.xp6(1),c.hij(" ",n.toggled.includes(t.id)?"keyboard_arrow_down":"keyboard_arrow_right"," ")}}function Ye(d,l){1&d&&c.GkF(0)}function R(d,l){if(1&d&&(c.ynx(0),c.YNc(1,Ye,1,0,"ng-container",8),c.BQk()),2&d){var e=l.$implicit;c.oxw(3);var t=c.MAs(13);c.xp6(1),c.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",c.VKq(2,Re,e))}}function H(d,l){if(1&d&&(c.TgZ(0,"ul"),c.YNc(1,R,2,4,"ng-container",7),c.qZA()),2&d){var e=c.oxw().page;c.xp6(1),c.Q6J("ngForOf",e.children)}}function ge(d,l){if(1&d){var e=c.EpF();c.TgZ(0,"li"),c.TgZ(1,"div",9),c.YNc(2,we,1,0,"div",15),c.YNc(3,Be,2,1,"mat-icon",16),c.TgZ(4,"div",11),c.NdJ("click",function(){var f=c.CHM(e).page;return c.oxw(2).select(f.id)}),c._UZ(5,"mat-icon",12),c.TgZ(6,"span"),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.YNc(8,H,2,1,"ul",0),c.qZA()}if(2&d){var t=l.page,n=c.oxw(2);c.xp6(2),c.Q6J("ngIf",0===t.children.length),c.xp6(1),c.Q6J("ngIf",t.children.length>0),c.xp6(1),c.Q6J("ngClass",t.id===n.selected?"selected":""),c.xp6(3),c.Oqu(t.name),c.xp6(1),c.Q6J("ngIf",t.children.length>0&&n.toggled.includes(t.id))}}function he(d,l){if(1&d){var e=c.EpF();c.ynx(0),c.TgZ(1,"h3",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"mat-form-field",3),c.TgZ(6,"mat-label"),c._uU(7,"Search"),c.qZA(),c.TgZ(8,"input",4),c.NdJ("ngModelChange",function(i){return c.CHM(e),c.oxw().setFilter(i)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",5),c.YNc(10,Pe,2,1,"ul",0),c.YNc(11,Ue,3,2,"ul",0),c.qZA(),c.YNc(12,ge,9,5,"ng-template",null,6,c.W1O),c.BQk()}if(2&d){var t=l.ngIf;c.xp6(2),c.hij(" ",c.lcZ(3,4,"Fields.Hyperlink.PagePicker.Title")," "),c.xp6(6),c.Q6J("ngModel",t.filterText),c.xp6(2),c.Q6J("ngIf",!t.filterText),c.xp6(1),c.Q6J("ngIf",t.filterText)}}var ie=function(){var d=function(){function l(e,t,n,i){(0,O.Z)(this,l),this.dialogData=e,this.dialogRef=t,this.queryService=n,this.translate=i}return(0,m.Z)(l,[{key:"ngOnInit",value:function(){this.selected=this.parseSelectedPageId(),this.toggled=[],this.filterText$=new pe.X(""),this.searchItems$=new pe.X([]),this.tree$=new pe.X([]);var t=(0,me.a)([this.filterText$,this.searchItems$]).pipe((0,Ve.U)(function(n){var i=(0,j.Z)(n,2),u=i[0];return i[1].filter(function(y){return y.name.toLocaleLowerCase().includes(u.toLocaleLowerCase())})}));this.templateVars$=(0,me.a)([this.filterText$,t,this.tree$]).pipe((0,Ve.U)(function(n){var i=(0,j.Z)(n,3);return{filterText:i[0],filteredSearch:i[1],tree:i[2]}})),this.fetchPages()}},{key:"ngOnDestroy",value:function(){this.filterText$.complete(),this.searchItems$.complete(),this.tree$.complete()}},{key:"setFilter",value:function(t){this.filterText$.next(t)}},{key:"select",value:function(t){null!=t&&this.closeDialog(t)}},{key:"toggle",value:function(t){Q.toggleInArray(t,this.toggled)}},{key:"closeDialog",value:function(t){if(null!=t){var n=this.searchItems$.value.find(function(u){return u.id===t}),i={id:n.id.toString(),name:n.name};this.dialogRef.close(i)}else this.dialogRef.close()}},{key:"fetchPages",value:function(){var t=this,i="Default";this.queryService.getAvailableEntities("".concat("Eav.Queries.Global.Pages","/").concat(i),!0,null,null).subscribe({next:function(f){if(f)if(f[i]){var y=f[i],C=function ke(d){return d?d.map(function(e){var t=e.Path.trim().replace(/\\/g,"/").replace(/\/\//g,"/");return t.startsWith("/")&&(t=t.substring(1)),t=t.split("/").slice(0,-1).join(" > "),{id:e.Id,name:e.Name,path:t}}):[]}(y);t.searchItems$.next(C);var _=function xe(d){if(!d)return[];var i,l=d.map(function(C){return{children:[],id:C.Id,name:C.Name,parentId:C.ParentId}}),e=[],t=[],n=(0,L.Z)(l);try{var u=function(){var _=i.value;if(-1===_.parentId)return e.push(_),"continue";var A=l.find(function(Y){return Y.id===_.parentId});A?A.children.push(_):t.push(_)};for(n.s();!(i=n.n()).done;)u()}catch(C){n.e(C)}finally{n.f()}return t.length>0&&e.push({children:t,id:null,name:"Missing Parent",parentId:null}),e}(y);t.tree$.next(_)}else console.error(t.translate.instant("Fields.EntityQuery.QueryStreamNotFound")+" "+i);else console.error(t.translate.instant("Fields.EntityQuery.QueryError"))},error:function(f){console.error(f),console.error("".concat(t.translate.instant("Fields.EntityQuery.QueryError")," - ").concat(f.data))}})}},{key:"parseSelectedPageId",value:function(){var t="page:",n=this.dialogData.group.controls[this.dialogData.config.fieldName].value;if("string"==typeof n&&(n=n.trim().toLocaleLowerCase()).startsWith(t))try{return parseInt(n.split(t)[1],10)}catch(u){return}}}]),l}();return d.\u0275fac=function(e){return new(e||d)(c.Y36(q.WI),c.Y36(q.so),c.Y36(Oe._7),c.Y36(fe.sK))},d.\u0275cmp=c.Xpm({type:d,selectors:[["app-page-picker"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"page-picker-title"],[1,"page-search-box"],["appearance","standard","color","accent"],["matInput","",3,"ngModel","ngModelChange"],[1,"page-tree-box"],["pageAndChildren",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-row"],[1,"no-toggle"],[1,"page-label",3,"ngClass","click"],["svgIcon","file",1,"page-icon"],["class","page-path",4,"ngIf"],[1,"page-path"],["class","no-toggle",4,"ngIf"],["class","page-toggle",3,"click",4,"ngIf"],[1,"page-toggle",3,"click"]],template:function(e,t){1&e&&(c.YNc(0,he,14,6,"ng-container",0),c.ALo(1,"async")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,t.templateVars$))},directives:[Ce.O5,Ze.KE,Ze.hX,ce.Nt,Le.Fj,Le.JJ,Le.On,Ce.sg,Ce.tP,Ce.mk,Ne.oO,$e.Hw],pipes:[Ce.Ov,fe.X$],styles:[".page-picker-title[_ngcontent-%COMP%]{margin:0}.page-search-box[_ngcontent-%COMP%]{margin-bottom:16px}.page-tree-box[_ngcontent-%COMP%]{height:300px;max-width:100%;overflow:auto}.page-tree-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:8px;margin:0}.page-tree-box[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{padding-left:0}.page-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.page-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px}.no-toggle[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block;flex-shrink:0}.page-toggle[_ngcontent-%COMP%]{cursor:pointer;flex-shrink:0}.page-icon[_ngcontent-%COMP%]{margin-right:4px;flex-shrink:0}.page-label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:4px 4px 4px 2px;border-radius:4px}.page-label[_ngcontent-%COMP%]   .page-path[_ngcontent-%COMP%]{color:#a2a7b1}.page-label[_ngcontent-%COMP%]:hover{background-color:#06599a;color:#fff}.page-label[_ngcontent-%COMP%]:hover   .page-path[_ngcontent-%COMP%]{color:#c7cad0}.page-label.selected[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.page-label.selected[_ngcontent-%COMP%]   .page-path[_ngcontent-%COMP%]{color:#c7cad0}"]}),d}(),ve=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"open",value:function(e,t,n,i,u,f){n.open(ie,{autoFocus:!1,data:{config:e,group:t},viewContainerRef:i,width:"650px"}).afterClosed().pipe((0,Te.q)(1)).subscribe(function(_){f(_)}),u.markForCheck()}}]),d}(),Ee=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"removeFromStart",value:function(e,t){if(!e)return e;for(;e.substring(0,1)===t;)e=e.substring(1);return e}},{key:"removeFromEnd",value:function(e,t){if(!e)return e;for(;e.substring(e.length-1,e.length)===t;)e=e.substring(0,e.length-1);return e}},{key:"cleanBadPath",value:function(e){if(!e)return e;var t="_";return e.replace(/[\?<>\\:\*\|":]/g,t).replace(/[\x00-\x1f\x80-\x9f]/g,t).replace(/^\.+$/,t).replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,t).replace(/[\. ]+$/,t)}},{key:"sanitizePath",value:function(e){return e&&(e=this.removeFromStart(e,"/"),e=this.removeFromEnd(e,"/"),e=this.removeFromStart(e,"\\"),e=this.removeFromEnd(e,"\\"),this.cleanBadPath(e))}},{key:"sanitizeName",value:function(e){return e?this.sanitizePath(e).replace(/\//g,"_"):e}}]),d}(),v=a(5294),w=function(){var d=function(){function l(){(0,O.Z)(this,l)}return(0,m.Z)(l,null,[{key:"validateForm",value:function(t){for(var n,i,u={},f=0,y=Object.entries(t.controls);f<y.length;f++){var C=(0,j.Z)(y[f],2),_=C[0],A=C[1];if(Q.markControlTouched(A),A.invalid)for(var Y=0,B=Object.keys(A.errors);Y<B.length&&(u[_]=null===(i=(n=this.validationMessages)[B[Y]])||void 0===i?void 0:i.call(n,void 0),!u[_]);Y++);}return u}},{key:"getErrorMessage",value:function(t,n){var i,u,f="";if(!t.invalid||!t.dirty&&!t.touched)return f;for(var y=0,C=Object.keys(t.errors);y<C.length&&!(f=null===(u=(i=this.validationMessages)[C[y]])||void 0===u?void 0:u.call(i,n));y++);return f}},{key:"getWarningMessage",value:function(t){if((t.dirty||t.touched)&&null!=t._warning$.value)for(var n=0,i=Object.keys(t._warning$.value);n<i.length;n++){var f=this.warningMessages[i[n]];if(f)return f}}}]),l}();return d.validationMessages={required:function(e){return e?"ValidationMessage.Required":"ValidationMessage.RequiredShort"},min:function(e){return e?"ValidationMessage.Min":"ValidationMessage.NotValid"},max:function(e){return e?"ValidationMessage.Max":"ValidationMessage.NotValid"},pattern:function(e){return e?"ValidationMessage.Pattern":"ValidationMessage.NotValid"},decimals:function(e){return e?"ValidationMessage.Decimals":"ValidationMessage.NotValid"},jsonError:function(e){return e?"ValidationMessage.JsonError":"ValidationMessage.NotValid"}},d.warningMessages={jsonWarning:"ValidationMessage.JsonWarning"},d}(),Z=function(){function d(){(0,O.Z)(this,d)}return(0,m.Z)(d,null,[{key:"isRequired",value:function(e){return!!e.Visible&&e.Required}},{key:"getValidators",value:function(e,t,n){var i=[t!==F.v.HyperlinkLibrary?this.required(e,n):this.requiredAdam(e,n),this.pattern(e,n),this.decimals(e,n),this.max(e,n),this.min(e,n)];return t===F.v.CustomJsonEditor&&i.push(this.validJson(e,n)),i}},{key:"ensureWarning",value:function(e){null==e._warning$&&(e._warning$=new pe.X(null))}},{key:"required",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);return n.ignoreValidators(u)||!u.Required?null:Le.kI.required(i)}}},{key:"requiredAdam",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);return n.ignoreValidators(u)||!u.Required?null:0===i.adamItems?{required:!0}:null}}},{key:"pattern",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);return n.ignoreValidators(u)||!u.ValidationRegExJavaScript?null:Le.kI.pattern(u.ValidationRegExJavaScript)(i)}}},{key:"decimals",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);if(n.ignoreValidators(u)||null==u.Decimals||u.Decimals<0||null==i.value)return null;var f=0===u.Decimals?"^-?[0-9]+$":"^-?[0-9]+(.[0-9]{1,".concat(u.Decimals,"})?$");return i.value.toString().match(f)?null:{decimals:!0}}}},{key:"max",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);return n.ignoreValidators(u)||null==u.Max?null:Le.kI.max(u.Max)(i)}}},{key:"min",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var u=t.getFieldSettings(e);return n.ignoreValidators(u)||null==u.Min?null:Le.kI.min(u.Min)(i)}}},{key:"validJson",value:function(e,t){var n=this;return function(i){n.ensureWarning(i);var f,y,u=t.getFieldSettings(e);if(n.ignoreValidators(u)||"none"===u.JsonValidation||!i.value)f=!1,y=!1;else try{JSON.parse(i.value),f=!1,y=!1}catch(C){"strict"===u.JsonValidation?(f=!0,y=!1):"light"===u.JsonValidation&&(f=!1,y=!0)}return i._warning$.next(y?{jsonWarning:!0}:null),f?{jsonError:!0}:null}}},{key:"ignoreValidators",value:function(e){return!e.Visible}}]),d}()},5294:function(de,W,a){a.d(W,{i:function(){return I}});var L=a(5106),O=a(8069),m=a(8047),I=function(){function b(){(0,O.Z)(this,b)}return(0,m.Z)(b,null,[{key:"stripNonUrlCharacters",value:function(F,T,S){if(!F)return"";var N=T?/[^a-z0-9-_/]+/gi:/[^a-z0-9-_]+/gi;return this.latinizeText(F.toLowerCase()).replace("'s ","s ").replace("\\","/").replace(N,"-").replace(/-+/gi,"-").replace(/\/+/gi,"/").replace(/-*\/-*/gi,"/").replace(S?/^-|-+$/gi:/^-/gi,"")}},{key:"latinizeText",value:function(F){var T={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"Ae","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6e":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"Ue","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"ae","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"oe","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\xdf":"ss","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"ue","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"};return F.replace(/[^A-Za-z0-9\[\] ]/g,function(S){return T[S]||S})}},{key:"readQueryStringParameters",value:function(F){var T={};return F.split("&").forEach(function(S){2===S.split("=").length&&(T[S.split("=")[0]]=decodeURIComponent(S.split("=")[1].replace(/\+/g," ")))}),T}},{key:"getUrlParams",value:function(F){F=F.split("+").join(" ");for(var S,T={},N=/[?&]?([^=]+)=([^&]*)/g;S=N.exec(F);)T[decodeURIComponent(S[1])]=decodeURIComponent(S[2]);return T}},{key:"replaceUrlParam",value:function(F,T,S){null===S&&(S="");var N=new RegExp("\\b("+T+"=).*?(&|#|$)");return F.search(N)>=0?F.replace(N,"$1"+S+"$2"):(F=F.replace(/[?#]$/,""))+(F.indexOf("?")>0?"&":"?")+T+"="+S}},{key:"getUrlPrefix",value:function(F,T){var S="";return"system"===F&&(S=T.systemRoot),"zone"===F&&(S=T.portalRoot),"app"===F&&(S=T.appRoot),S.endsWith("/")&&(S=S.substring(0,S.length-1)),S}},{key:"calculatePathFromRoot",value:function(F){for(var T=F;T.firstChild;)T=T.firstChild;var $,S="",N=(0,L.Z)(T.snapshot.pathFromRoot);try{for(N.s();!($=N.n()).done;){var U=$.value;if(!(U.url.length<=0)){var z,P=(0,L.Z)(U.url);try{for(P.s();!(z=P.n()).done;){var Q=z.value;!Q.path||(S+="/"+Q.path)}}catch(K){P.e(K)}finally{P.f()}}}}catch(K){N.e(K)}finally{N.f()}return S}}]),b}()},4979:function(de,W,a){a.d(W,{z:function(){return m}});var L=a(8069),O=a(8047),m=function(){function I(){(0,L.Z)(this,I)}return(0,O.Z)(I,null,[{key:"create",value:function(j){return{Value:j}}}]),I}()},584:function(de,W,a){a.d(W,{R:function(){return F}});var L=a(5106),O=a(2090),m=a(8069),I=a(8047),b=a(7909),j=function(){function T(){(0,m.Z)(this,T)}return(0,I.Z)(T,null,[{key:"convert",value:function(N,$){return{Values:b.f.convert(N),Type:$}}}]),T}(),F=function(){function T(){(0,m.Z)(this,T)}return(0,I.Z)(T,null,[{key:"convert",value:function(N){for(var $={},U=0,P=Object.entries(N);U<P.length;U++)for(var z=(0,O.Z)(P[U],2),Q=z[0],ue=0,Fe=Object.entries(z[1]);ue<Fe.length;ue++){var oe=(0,O.Z)(Fe[ue],2);$[oe[0]]=j.convert(oe[1],Q)}return $}},{key:"mergeSettings",value:function(N){if(null==N)return{};var P,$={},U=(0,L.Z)(N);try{for(U.s();!(P=U.n()).done;){var z=P.value;if("@All"!==z.Type.Id)for(var Q=0,K=Object.entries(z.Attributes);Q<K.length;Q++){var ue=(0,O.Z)(K[Q],2),Fe=ue[0],be=Object.assign({},ue[1]);$[Fe]=be}}}catch(Ce){U.e(Ce)}finally{U.f()}var Te,X=(0,L.Z)(N);try{for(X.s();!(Te=X.n()).done;){var q=Te.value;if("@All"===q.Type.Id)for(var pe=0,me=Object.entries(q.Attributes);pe<me.length;pe++){var Ve=(0,O.Z)(me[pe],2),Oe=Ve[0],ke=Ve[1];if(null==$[Oe]||""!==ke.Values[0].Value){var fe=Object.assign({},ke);$[Oe]=fe}}}}catch(Ce){X.e(Ce)}finally{X.f()}return $}}]),T}()},8221:function(de,W,a){a.d(W,{q:function(){return I}});var L=a(8069),O=a(8047),m=a(584),I=function(){function b(){(0,L.Z)(this,b)}return(0,O.Z)(b,null,[{key:"convertOne",value:function(F){var T=m.R.convert(F.Attributes),S=this.convertMany(F.Metadata);return{Attributes:T,Guid:F.Guid,Id:F.Id,Owner:F.Owner,Type:F.Type,Version:F.Version,For:F.For,Metadata:S}}},{key:"convertMany",value:function(F){return null==F?null:F.map(function(S){return b.convertOne(S)})}}]),b}()},5123:function(de,W,a){a.d(W,{$:function(){return I}});var L=a(8069),O=a(8047),m=a(8221),I=function(){function b(){(0,L.Z)(this,b)}return(0,O.Z)(b,null,[{key:"convert",value:function(F){return{Entity:m.q.convertOne(F.Entity),Header:F.Header}}}]),b}()},7909:function(de,W,a){a.d(W,{f:function(){return b}});var L=a(2090),O=a(8069),m=a(8047),I=a(4979),b=function(){function j(){(0,O.Z)(this,j)}return(0,m.Z)(j,null,[{key:"create",value:function(T,S){return{Value:T,Dimensions:S}}},{key:"convert",value:function(T){var S=this;return Object.entries(T).map(function($){var U=(0,L.Z)($,2),z=U[1],Q=U[0].split(",").map(function(K){return I.z.create(K)});return S.create(z,Q)})}}]),j}()},8870:function(de,W,a){a.d(W,{C4:function(){return O},nJ:function(){return L},GW:function(){return I},eu:function(){return b},bi:function(){return m}});var L={V1:"v1"},O={Disabled:"Field.Settings.Disabled",Name:"Field.Settings.Name",Required:"Field.Settings.Required",Value:"Field.Value",Visible:"Field.Settings.Visible"},m=O.Disabled.substring(0,O.Disabled.lastIndexOf(".")+1),I={Error:"error",Log:"log",Warn:"warn"},b={Show:"show",Hide:"hide",Branch:"branch"}},7368:function(de,W,a){a.d(W,{_q:function(){return F},WV:function(){return U},i2:function(){return Oe},nz:function(){return Le},c4:function(){return Se},GQ:function(){return we},jq:function(){return Ye},i3:function(){return He},kl:function(){return Ue},ef:function(){return _},ed:function(){return R},_7:function(){return A},W5:function(){return B},A3:function(){return $},PS:function(){return Re},Uo:function(){return _e}});var L=a(8069),O=a(8047),m=a(5656),I=a(7133),b=a(8784),j=a(2425),F=function(){var E=function(){function V(p,r,o){(0,L.Z)(this,V),this.http=p,this.dnnContext=r,this.eavService=o}return(0,O.Z)(V,[{key:"getAll",value:function(r,o){return this.http.get(r+"/items",{params:{subfolder:o.subfolder,usePortalRoot:o.usePortalRoot.toString(),appId:this.eavService.eavConfig.appId}})}},{key:"addFolder",value:function(r,o,s){return this.http.post(o+"/folder",{},{params:{subfolder:s.subfolder,newFolder:m.vl.sanitizeName(r),usePortalRoot:s.usePortalRoot.toString(),appId:this.eavService.eavConfig.appId}})}},{key:"rename",value:function(r,o,s,g){return this.http.get(s+"/rename",{params:{subfolder:g.subfolder,isFolder:r.IsFolder.toString(),id:r.Id.toString(),usePortalRoot:g.usePortalRoot.toString(),newName:m.vl.sanitizeName(o),appId:this.eavService.eavConfig.appId}})}},{key:"deleteItem",value:function(r,o,s){return this.http.get(o+"/delete",{params:{subfolder:s.subfolder,isFolder:r.IsFolder.toString(),id:r.Id.toString(),usePortalRoot:s.usePortalRoot.toString(),appId:this.eavService.eavConfig.appId}})}},{key:"getLinkInfo",value:function(r,o,s,g){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("cms/edit/linkInfo"),{params:Object.assign(Object.assign(Object.assign(Object.assign({link:r},s&&{guid:s}),o&&{contentType:o}),g&&{field:g}),{appid:this.eavService.eavConfig.appId})})}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(b.eN),I.LFG(j._y),I.LFG(U))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),T=a(635),S=a(8254),N=a(8598),$="cms/edit/",U=function(){var E=function(){function V(p,r,o){(0,L.Z)(this,V),this.http=p,this.dnnContext=r,this.context=o}return(0,O.Z)(V,[{key:"setEavConfig",value:function(r,o,s,g,h,D,x){var M;this.eavConfig={zoneId:this.context.zoneId.toString(),appId:this.context.appId.toString(),appRoot:r.App.Url,lang:r.Language.Current,langPri:r.Language.Primary,langs:r.Language.List,moduleId:this.context.moduleId.toString(),partOfPage:sessionStorage.getItem(S.by),portalRoot:r.Site.Url,tabId:this.context.tabId.toString(),systemRoot:window.location.pathname.split("/dist/")[0]+"/",versioningOptions:this.getVersioningOptions("true"===sessionStorage.getItem(S.by),sessionStorage.getItem(S.UO)),formId:o,isParentDialog:s,itemGuids:g,createMode:h,isCopy:D,enableHistory:x,enableFormulaSave:null!==(M=r.Enable.FormulaSave)&&void 0!==M&&M}}},{key:"fetchFormData",value:function(r){return this.http.post(this.dnnContext.$2sxc.http.apiUrl($+"load"),r,{params:{appId:this.context.appId.toString()}}).pipe((0,T.U)(function(o){return o.Context.Language.List=o.Context.Language.List.filter(function(s){return s.IsEnabled}),o}))}},{key:"saveFormData",value:function(r,o){return this.http.post(this.dnnContext.$2sxc.http.apiUrl($+"save"),r,{params:{appId:this.eavConfig.appId,partOfPage:o}})}},{key:"getVersioningOptions",value:function(r,o){if(!r)return{show:!0,hide:!0,branch:!0};var s=o||"";switch(s){case"":case"DraftOptional":return{show:!0,hide:!0,branch:!0};case"DraftRequired":return{branch:!0,hide:!0};default:return console.error("invalid versioning requiremenets: "+s),{}}}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(b.eN),I.LFG(j._y),I.LFG(N._))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),P=a(2090),z=a(5106),Q=a(6317),K=a(1226),ue=a(9760),Fe=a(5137),X=a(1284),Te=a(8870),q=a(5266),pe=a(2977),me=a(7514),Ve=a(2528),Oe=function(){var E=function(){function V(p,r,o,s,g,h,D,x,M,k,G,J,re,ne,le){(0,L.Z)(this,V),this.route=p,this.eavService=r,this.itemService=o,this.inputTypeService=s,this.contentTypeItemService=g,this.contentTypeService=h,this.featureService=D,this.publishStatusService=x,this.translate=M,this.languageService=k,this.languageInstanceService=G,this.snackBar=J,this.entityCacheService=re,this.adamCacheService=ne,this.linkCacheService=le,this.loaded$=new Q.X(!1),this.initialFormValues={}}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){this.loaded$.complete()}},{key:"fetchFormData",value:function(){var r=this,o=(0,Fe.T)(this.route.snapshot.params.items),s=JSON.stringify(o.items);this.eavService.fetchFormData(s).subscribe(function(g){(0,ue.X)(g.Context.App),r.saveFormData(g),r.keepInitialValues(),r.setMissingValues(),r.loaded$.next(!0)})}},{key:"saveFormData",value:function(r){var o,s,g,h,D=Math.floor(99999*Math.random()),x=function oe(E){var r,V=0,p=(0,z.Z)(E.snapshot.pathFromRoot);try{for(p.s();!(r=p.n()).done;){var o=r.value;if(!(o.url.length<=0)){var g,s=(0,z.Z)(o.url);try{for(s.s();!(g=s.n()).done;)"edit"===g.value.path&&V++}catch(D){s.e(D)}finally{s.f()}}}}catch(D){p.e(D)}finally{p.f()}return 1===V}(this.route),M=r.Items.map(function(te){return te.Entity.Guid});this.itemService.loadItems(r.Items),this.inputTypeService.addInputTypes(r.InputTypes),this.contentTypeItemService.addContentTypeItems(r.ContentTypeItems),this.contentTypeService.addContentTypes(r.ContentTypes),this.featureService.loadFeatures(r.Features),this.adamCacheService.loadPrefetch(null===(o=r.Prefetch)||void 0===o?void 0:o.Adam),this.entityCacheService.loadEntities(null===(s=r.Prefetch)||void 0===s?void 0:s.Entities),this.linkCacheService.loadPrefetch(null===(g=r.Prefetch)||void 0===g?void 0:g.Links,null===(h=r.Prefetch)||void 0===h?void 0:h.Adam);var k=this.itemService.getItems(M),G=0===k[0].Entity.Id;this.eavService.setEavConfig(r.Context,D,x,M,G,null!=k[0].Header.DuplicateEntity,!G&&!1!==this.route.snapshot.data.history);var ne=this.eavService.eavConfig.lang,le=this.eavService.eavConfig.langPri,se=this.eavService.eavConfig.langs,ye=ne.split("-")[0];if(this.translate.use(ye),x){var ee=function be(E,V){if(0===V.length)return V;var p,g,r=[],o=[],s=(0,z.Z)(V);try{for(s.s();!(g=s.n()).done;){var h=g.value;h.NameId===E?p=h:h.NameId.startsWith(E.split("-")[0])?r.push(h):o.push(h)}}catch(x){s.e(x)}finally{s.f()}return r.sort(function(x,M){return x.NameId.localeCompare(M.NameId)}),o.sort(function(x,M){return x.NameId.localeCompare(M.NameId)}),p?[p].concat(r,o):[].concat(r,o)}(le,se);this.languageService.loadLanguages(ee)}this.languageInstanceService.addLanguageInstance(D,ne,le,ne,!1),this.publishStatusService.setPublishStatus({formId:D,DraftShouldBranch:r.DraftShouldBranch,IsPublished:r.IsPublished})}},{key:"keepInitialValues",value:function(){var r=this.itemService.getItems(this.eavService.eavConfig.itemGuids),o=this.languageService.getLanguages().map(function(ee){return ee.NameId}),s=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),g=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId);o.includes(s)||o.push(s),o.includes(g)||o.push(g);var D,h=(0,z.Z)(r);try{for(h.s();!(D=h.n()).done;){var k,x=D.value,M=(0,z.Z)(o);try{for(M.s();!(k=M.n()).done;){for(var G=k.value,J={},re=0,ne=Object.entries(x.Entity.Attributes);re<ne.length;re++){var le=(0,P.Z)(ne[re],2);J[le[0]]=m.lC.translate(G,g,le[1],null)}this.initialFormValues[this.getInitialValuesKey(x.Entity.Guid,G)]=J}}catch(ee){M.e(ee)}finally{M.f()}}}catch(ee){h.e(ee)}finally{h.f()}}},{key:"getInitialValuesKey",value:function(r,o){return"entityGuid:".concat(r,":language:").concat(o)}},{key:"getInitialValues",value:function(r,o){return this.initialFormValues[this.getInitialValuesKey(r,o)]}},{key:"setMissingValues",value:function(){var M,r=this,o=this.itemService.getItems(this.eavService.eavConfig.itemGuids),s=this.inputTypeService.getInputTypes(),g=this.languageService.getLanguages(),h=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),D=!1,x=(0,z.Z)(o);try{for(x.s();!(M=x.n()).done;){var ne,k=M.value,G=m.YB.getContentTypeId(k),J=this.contentTypeService.getContentType(G),re=(0,z.Z)(J.Attributes);try{var le=function(){var te=ne.value,Ie=s.find(function(qe){return qe.Type===te.InputType});if([K.v.EmptyDefault,K.v.EmptyEnd,K.v.EmptyMessage].includes(null==Ie?void 0:Ie.Type))return"continue";var je=k.Entity.Attributes[te.Name],Ge=m.NI.setDefaultFieldSettings(m.NI.mergeSettings(te.Metadata,h,h));if(0===g.length){var nt=m.lC.getBestValue(je,"*","*",X.MQ.Default);m.YB.isValueEmpty(nt,r.eavService)&&r.itemService.setDefaultValue(k,te,Ie,Ge,g,h)}else{var Je=m.lC.getBestValue(je,"*","*",X.MQ.Strict);if(!(null==Ie?void 0:Ie.DisableI18n)&&void 0!==Je){var Xe=r.itemService.removeItemAttributeDimension(k.Entity.Guid,te.Name,"*",!0);return r.itemService.addItemAttributeValue(k.Entity.Guid,te.Name,Je,h,!1,te.Type,!1,Xe),"continue"}var Ke=m.lC.getBestValue(je,h,h,X.MQ.Strict);m.YB.isValueEmpty(Ke,r.eavService)&&(r.itemService.setDefaultValue(k,te,Ie,Ge,g,h),D=!0)}};for(re.s();!(ne=re.n()).done;)le()}catch(ae){re.e(ae)}finally{re.f()}}}catch(ae){x.e(ae)}finally{x.f()}var ye=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId);if(D&&ye!==h){this.languageInstanceService.setCurrentLanguage(this.eavService.eavConfig.formId,h);var ee=this.translate.instant("Message.SwitchedLanguageToDefault",{language:h});this.snackBar.open(ee,null,{duration:5e3})}}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(pe.gz),I.LFG(U),I.LFG(q.en),I.LFG(q.si),I.LFG(q.mr),I.LFG(q.h1),I.LFG(q.UZ),I.LFG(q.Vn),I.LFG(me.sK),I.LFG(q.TS),I.LFG(q._K),I.LFG(Ve.ux),I.LFG(q.r6),I.LFG(q.ap),I.LFG(q.f3))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),ke=a(7714),xe=a(253),c=a(8977),fe=a(116),Ce=a(4874),Ze=a(679),ce=a(5758),Le=function(){var E=function(){function V(p,r,o,s,g){(0,L.Z)(this,V),this.dialogRef=p,this.route=r,this.router=o,this.languageInstanceService=s,this.eavService=g}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){this.childFormResult$.complete(),this.subscription.unsubscribe()}},{key:"init",value:function(){this.subscription=new ke.w0,this.childFormResult$=new xe.x,this.initHideHeader(),this.initChildFormResult(),this.refreshOnChildVersionsClosed()}},{key:"isExpanded",value:function(r,o){var s=r.toString(),g=this.route.snapshot.params;return g.detailsEntityGuid===o&&g.detailsFieldId===s}},{key:"isExpanded$",value:function(r,o){var s=r.toString();return this.route.params.pipe((0,T.U)(function(g){return g.detailsEntityGuid===o&&g.detailsFieldId===s}),(0,c.x)())}},{key:"childFormResult",value:function(r,o){return this.childFormResult$.pipe((0,fe.h)(function(s){return s.updateEntityGuid===o&&s.updateFieldId===r&&null!=s.result}),(0,T.U)(function(s){return s.result}))}},{key:"childFormClosed",value:function(){return this.childFormResult$.pipe((0,T.U)(function(r){return null}))}},{key:"expand",value:function(r,o,s,g){var h=this.route.snapshot.params,D=null!=h.detailsEntityGuid&&null!=h.detailsFieldId,x="edit/".concat(h.items)+(D?"/details/".concat(h.detailsEntityGuid,"/").concat(h.detailsFieldId):""),M="edit/".concat(h.items)+(r?"/details/".concat(s,"/").concat(o):""),k=m.iN.calculatePathFromRoot(this.route),G=k.lastIndexOf(x);if(!(G<=0)){var J=k.substring(0,G)+k.substring(G).replace(x,M);this.router.navigate([J],{state:g&&{componentTag:g}})}}},{key:"open",value:function(r,o,s){var g=(0,Fe.f)(s),h=this.route.snapshot.params;if(null!=h.detailsEntityGuid&&null!=h.detailsFieldId)this.router.navigate(["edit/".concat(g)],{relativeTo:this.route});else{var x="edit/".concat(h.items),M="edit/".concat(h.items,"/update/").concat(o,"/").concat(r,"/edit/").concat(g),k=m.iN.calculatePathFromRoot(this.route),G=k.lastIndexOf(x);if(!(G<=0)){var J=k.substring(0,G)+k.substring(G).replace(x,M);this.router.navigate([J])}}}},{key:"initHideHeader",value:function(){var r=this;this.subscription.add(this.route.params.pipe((0,T.U)(function(o){return null!=o.detailsEntityGuid&&null!=o.detailsFieldId}),(0,c.x)()).subscribe(function(o){r.languageInstanceService.updateHideHeader(r.eavService.eavConfig.formId,o)}))}},{key:"initChildFormResult",value:function(){var r=this;this.subscription.add(this.router.events.pipe((0,fe.h)(function(o){return o instanceof pe.m2}),(0,Ce.O)(!!this.route.snapshot.firstChild),(0,T.U)(function(){return!!r.route.snapshot.firstChild}),(0,Ze.G)(),(0,fe.h)(function(o){var s=(0,P.Z)(o,2);return s[0]&&!s[1]}),(0,T.U)(function(){var o,s=r.route.snapshot.params,g=null!=s.detailsEntityGuid&&null!=s.detailsFieldId,h=g?s.detailsEntityGuid:s.updateEntityGuid,D=g?s.detailsFieldId:s.updateFieldId,M=null===(o=r.router.getCurrentNavigation().extras)||void 0===o?void 0:o.state;return{updateEntityGuid:h,updateFieldId:parseInt(D,10),result:M}})).subscribe(function(o){r.childFormResult$.next(o);var s=r.route.snapshot.params;if(null!=s.updateEntityGuid&&null!=s.updateFieldId){var h="edit/".concat(s.items,"/update/").concat(s.updateEntityGuid,"/").concat(s.updateFieldId),D="edit/".concat(s.items),x=m.iN.calculatePathFromRoot(r.route),M=x.lastIndexOf(h);if(!(M<=0)){var k=x.substring(0,M)+x.substring(M).replace(h,D);r.router.navigate([k])}}}))}},{key:"refreshOnChildVersionsClosed",value:function(){var r=this;this.subscription.add(this.router.events.pipe((0,fe.h)(function(o){return o instanceof pe.m2}),(0,Ce.O)(!!this.route.snapshot.firstChild),(0,T.U)(function(){return!!r.route.snapshot.firstChild}),(0,Ze.G)(),(0,fe.h)(function(o){var s=(0,P.Z)(o,2);return s[0]&&!s[1]}),(0,T.U)(function(){var o;return null===(o=r.router.getCurrentNavigation().extras)||void 0===o?void 0:o.state}),(0,fe.h)(function(o){return null!=(null==o?void 0:o.refreshEdit)})).subscribe(function(o){if(o.refreshEdit){var s=r.route.snapshot.params,g="edit/".concat(s.items),h="edit/refresh/".concat(s.items),D=m.iN.calculatePathFromRoot(r.route),x=D.lastIndexOf(g);if(!(x<=0)){var M=D.substring(0,x)+D.substring(x).replace(g,h);r.dialogRef.close({navigateUrl:M})}}}))}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(ce.so),I.LFG(pe.gz),I.LFG(pe.F0),I.LFG(q._K),I.LFG(U))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),Ne=a(2673),$e=a(1203),_e="admin/entity/",Re="admin/entity/list",Se=function(){var E=function(){function V(p,r,o,s){(0,L.Z)(this,V),this.http=p,this.eavService=r,this.context=o,this.dnnContext=s}return(0,O.Z)(V,[{key:"getAvailableEntities",value:function(r,o){var s,g=null!==(s=this.eavService.eavConfig)&&void 0!==s?s:this.context;return this.http.post(this.dnnContext.$2sxc.http.apiUrl($+"EntityPicker"),o,{params:{contentTypeName:r,appId:g.appId.toString()}})}},{key:"reactiveEntities",value:function(r){var o=this;return r.pipe((0,fe.h)(function(s){return null!=s}),(0,Ne.w)(function(s){return o.getAvailableEntities(s.contentTypeName).pipe((0,$e.B)())}))}},{key:"delete",value:function(r,o,s,g,h){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(_e+"delete"),{params:Object.assign(Object.assign({contentType:r,id:o.toString(),appId:this.eavService.eavConfig.appId,force:s.toString()},g&&{parentId:g.toString()}),g&&h&&{parentField:h})})}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(b.eN),I.LFG(U),I.LFG(N._),I.LFG(j._y))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),Pe=a(6562),ze=a(3205),He=function(){var E=function(){function V(p,r,o,s){(0,L.Z)(this,V),this.eavService=p,this.itemService=r,this.languageService=o,this.languageInstanceService=s}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){var r,o,s,g;null===(r=this.readOnly$)||void 0===r||r.complete(),null===(o=this.formsValid$)||void 0===o||o.complete(),null===(s=this.formsDirty$)||void 0===s||s.complete(),null===(g=this.subscription)||void 0===g||g.unsubscribe()}},{key:"init",value:function(){var r=this;this.subscription=new ke.w0,this.readOnly$=new Q.X({isReadOnly:!0,reason:void 0}),this.formsValid$=new Q.X(!1),this.formsDirty$=new Q.X(!1),this.formsValid={},this.formsDirty={};var g,s=(0,z.Z)(this.eavService.eavConfig.itemGuids);try{for(s.s();!(g=s.n()).done;){var h=g.value;this.formsValid[h]=!1,this.formsDirty[h]=!1}}catch(D){s.e(D)}finally{s.f()}this.subscription.add((0,Pe.a)([(0,Pe.a)(this.eavService.eavConfig.itemGuids.map(function(D){return r.itemService.getItemHeader$(D)})).pipe((0,T.U)(function(D){return D.some(function(x){var M,k;return null!==(k=null===(M=null==x?void 0:x.EditInfo)||void 0===M?void 0:M.ReadOnly)&&void 0!==k&&k})})),(0,Pe.a)([this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),this.languageService.getLanguages$()]).pipe((0,T.U)(function(D){var G,J,x=(0,P.Z)(D,2),M=x[0];return null===(J=null===(G=x[1].find(function(re){return re.NameId===M}))||void 0===G?void 0:G.IsAllowed)||void 0===J||J}))]).subscribe(function(D){var x=(0,P.Z)(D,2),M=x[0],k=x[1],G={isReadOnly:M||!k,reason:M?"Form":k?void 0:"Language"};m.iX.objectsEqual(G,r.readOnly$.value)||r.readOnly$.next(G)}))}},{key:"getFormValid",value:function(r){return this.formsValid[r]}},{key:"setFormValid",value:function(r,o){this.formsValid[r]=o;var s=!Object.values(this.formsValid).some(function(g){return!1===g});s!==this.formsValid$.value&&this.formsValid$.next(s)}},{key:"setFormDirty",value:function(r,o){this.formsDirty[r]=o;var s=Object.values(this.formsDirty).some(function(g){return!0===g});s!==this.formsDirty$.value&&this.formsDirty$.next(s)}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(U),I.LFG(q.en),I.LFG(q.TS),I.LFG(q._K))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),De=a(6170),Ue=function(){var E=function(){function V(p,r,o,s,g,h,D){(0,L.Z)(this,V),this.eavService=p,this.itemService=r,this.contentTypeService=o,this.languageInstanceService=s,this.contentTypeItemService=g,this.loggingService=h,this.translate=D}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){var r,o,s;null===(r=this.formulaCache$)||void 0===r||r.complete(),null===(o=this.formulaResults$)||void 0===o||o.complete(),null===(s=this.designerState$)||void 0===s||s.complete()}},{key:"init",value:function(){this.formulaResults$=new Q.X([]),this.designerState$=new Q.X({editMode:!1,entityGuid:void 0,fieldName:void 0,isOpen:!1,target:void 0});var o=this.buildFormulaCache();this.formulaCache$=new Q.X(o)}},{key:"getFormula",value:function(r,o,s,g){return this.formulaCache$.value.find(function(h){return!(h.entityGuid!==r||h.fieldName!==o||h.target!==s||!g&&h.isDraft)})}},{key:"getFormula$",value:function(r,o,s,g){var h=g?[!0,!1]:[!1];return this.formulaCache$.pipe((0,T.U)(function(D){return D.find(function(x){return x.entityGuid===r&&x.fieldName===o&&x.target===s&&h.includes(x.isDraft)})}),(0,c.x)(m.iX.objectsEqual))}},{key:"getFormulas",value:function(r,o,s,g){return this.formulaCache$.value.filter(function(h){return!(r&&h.entityGuid!==r||o&&h.fieldName!==o||s&&h.target!==s||!g&&h.isDraft)})}},{key:"getFormulas$",value:function(){return this.formulaCache$.asObservable()}},{key:"upsertFormula",value:function(r,o,s,g,h){var D,x;if(h)try{x=m.u8.buildFormulaFunction(g)}catch(je){this.upsertFormulaResult(r,o,s,void 0,!0);var M=this.itemService.getItem(r),k=m.YB.getContentTypeId(M),G=this.contentTypeService.getContentType(k),J=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),re=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),ne=m.NI.getContentTypeTitle(G,J,re),le='Error building formula for Entity: "'.concat(ne,'", Field: "').concat(o,'", Target: "').concat(s,'"');this.loggingService.addLog(Te.GW.Error,le,je);var se=this.getDesignerState();se.isOpen&&se.entityGuid===r&&se.fieldName===o&&se.target===s&&console.error(le,je)}var ee=this.formulaCache$.value,ae=ee.findIndex(function(je){return je.entityGuid===r&&je.fieldName===o&&je.target===s}),te=ee[ae],Ie={cache:null!==(D=null==te?void 0:te.cache)&&void 0!==D?D:{},entityGuid:r,fieldName:o,fn:null==x?void 0:x.bind({}),isDraft:!h||null==x,source:g,sourceFromSettings:null==te?void 0:te.sourceFromSettings,sourceGuid:null==te?void 0:te.sourceGuid,sourceId:null==te?void 0:te.sourceId,target:s,version:m.u8.findFormulaVersion(g)},We=ae>=0?[].concat((0,De.Z)(ee.slice(0,ae)),[Ie],(0,De.Z)(ee.slice(ae+1))):[Ie].concat((0,De.Z)(ee));this.formulaCache$.next(We)}},{key:"updateSaved",value:function(r,o,s,g,h,D){var x=this.formulaCache$.value,M=x.findIndex(function(re){return re.entityGuid===r&&re.fieldName===o&&re.target===s}),k=x[M];if(null!=k){var G=Object.assign(Object.assign({},k),{sourceFromSettings:g,sourceGuid:h,sourceId:D}),J=[].concat((0,De.Z)(x.slice(0,M)),[G],(0,De.Z)(x.slice(M+1)));this.formulaCache$.next(J)}}},{key:"resetFormula",value:function(r,o,s){var g=this.formulaResults$.value,h=g.findIndex(function(J){return J.entityGuid===r&&J.fieldName===o&&J.target===s});if(h>=0){var D=[].concat((0,De.Z)(g.slice(0,h)),(0,De.Z)(g.slice(h+1)));this.formulaResults$.next(D)}var x=this.formulaCache$.value,M=x.findIndex(function(J){return J.entityGuid===r&&J.fieldName===o&&J.target===s}),k=x[M];if(null!=(null==k?void 0:k.sourceFromSettings))this.upsertFormula(r,o,s,k.sourceFromSettings,!0);else if(M>=0){var G=[].concat((0,De.Z)(x.slice(0,M)),(0,De.Z)(x.slice(M+1)));this.formulaCache$.next(G)}}},{key:"upsertFormulaResult",value:function(r,o,s,g,h){var D={entityGuid:r,fieldName:o,target:s,value:g,isError:h},x=this.formulaResults$.value,M=x.findIndex(function(G){return G.entityGuid===r&&G.fieldName===o&&G.target===s}),k=M>=0?[].concat((0,De.Z)(x.slice(0,M)),[D],(0,De.Z)(x.slice(M+1))):[D].concat((0,De.Z)(x));this.formulaResults$.next(k)}},{key:"getFormulaResult$",value:function(r,o,s){return this.formulaResults$.pipe((0,T.U)(function(g){return g.find(function(h){return h.entityGuid===r&&h.fieldName===o&&h.target===s})}),(0,c.x)(m.iX.objectsEqual))}},{key:"setDesignerOpen",value:function(r){var o=Object.assign(Object.assign({},this.getDesignerState()),{isOpen:r});this.setDesignerState(o)}},{key:"setDesignerState",value:function(r){this.designerState$.next(r)}},{key:"getDesignerState",value:function(){return this.designerState$.value}},{key:"getDesignerState$",value:function(){return this.designerState$.pipe((0,c.x)(m.iX.objectsEqual))}},{key:"buildFormulaCache",value:function(){var h,r=[],o=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),s=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),g=(0,z.Z)(this.eavService.eavConfig.itemGuids);try{for(g.s();!(h=g.n()).done;){var J,D=h.value,x=this.itemService.getItem(D),M=m.YB.getContentTypeId(x),k=this.contentTypeService.getContentType(M),G=(0,z.Z)(k.Attributes);try{for(G.s();!(J=G.n()).done;){var ye,re=J.value,ne=m.NI.setDefaultFieldSettings(m.NI.mergeSettings(re.Metadata,s,s)),le=this.contentTypeItemService.getContentTypeItems(ne.Formulas).filter(function(Ge){return m.lC.translate(o,s,Ge.Attributes.Enabled,null)}),se=(0,z.Z)(le);try{for(se.s();!(ye=se.n()).done;){var ee=ye.value,ae=m.lC.translate(o,s,ee.Attributes.Formula,null);if(null!=ae){var te=m.lC.translate(o,s,ee.Attributes.Target,null),Ie=void 0;try{Ie=m.u8.buildFormulaFunction(ae)}catch(Ge){this.upsertFormulaResult(D,re.Name,te,void 0,!0);var We=m.NI.getContentTypeTitle(k,o,s);this.loggingService.addLog(Te.GW.Error,'Error building formula for Entity: "'.concat(We,'", Field: "').concat(re.Name,'", Target: "').concat(te,'"'),Ge),this.loggingService.showMessage(this.translate.instant("Errors.FormulaConfiguration"),2e3)}var je={cache:{},entityGuid:D,fieldName:re.Name,fn:null==Ie?void 0:Ie.bind({}),isDraft:null==Ie,source:ae,sourceFromSettings:ae,sourceGuid:ee.Guid,sourceId:ee.Id,target:te,version:m.u8.findFormulaVersion(ae)};r.push(je)}}}catch(Ge){se.e(Ge)}finally{se.f()}}}catch(Ge){G.e(Ge)}finally{G.f()}}}catch(Ge){g.e(Ge)}finally{g.f()}return r}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(U),I.LFG(q.en),I.LFG(q.h1),I.LFG(q._K),I.LFG(q.mr),I.LFG(R),I.LFG(me.sK))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),we=function(){var E=function(){function V(p,r,o,s,g,h,D,x,M,k,G,J){(0,L.Z)(this,V),this.contentTypeService=p,this.languageInstanceService=r,this.eavService=o,this.itemService=s,this.inputTypeService=g,this.languageService=h,this.formulaDesignerService=D,this.loggingService=x,this.translate=M,this.globalConfigService=k,this.editInitializerService=G,this.formsStateService=J,this.valueFormulaCounter=0,this.maxValueFormulaCycles=5,this.formulaSettingsCache={}}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){var r,o,s,g;null===(r=this.contentTypeSettings$)||void 0===r||r.complete(),null===(o=this.fieldsProps$)||void 0===o||o.complete(),null===(s=this.forceSettings$)||void 0===s||s.complete(),null===(g=this.subscription)||void 0===g||g.unsubscribe()}},{key:"init",value:function(r){var o=this;this.subscription=new ke.w0,this.contentTypeSettings$=new Q.X(null),this.fieldsProps$=new Q.X(null),this.forceSettings$=new Q.X(null);var s=this.itemService.getItem(r),g=s.Entity.Id,h=m.YB.getContentTypeId(s),D=this.contentTypeService.getContentType$(h),x=this.itemService.getItemHeader$(r),M=this.languageInstanceService.getCurrentLanguage$(this.eavService.eavConfig.formId),k=this.languageInstanceService.getDefaultLanguage$(this.eavService.eavConfig.formId);this.subscription.add((0,Pe.a)([D,x,M,k]).pipe((0,T.U)(function(ne){var le=(0,P.Z)(ne,4),se=le[0],ye=le[1],ee=le[2],ae=le[3];return m.NI.setDefaultContentTypeSettings(m.NI.mergeSettings(se.Metadata,ee,ae),se,ee,ae,ye)})).subscribe(function(ne){o.contentTypeSettings$.next(ne)}));var G=this.itemService.getItemAttributes$(r),J=this.inputTypeService.getInputTypes$(),re=this.formsStateService.readOnly$;this.subscription.add((0,Pe.a)([(0,Pe.a)([D,M,k,G,x,J]),(0,Pe.a)([re,this.forceSettings$])]).pipe((0,T.U)(function(ne){for(var Je,Xe,Ke,qe,le=(0,P.Z)(ne,2),se=(0,P.Z)(le[0],6),ye=se[0],ee=se[1],ae=se[2],te=se[3],Ie=se[4],We=se[5],Ge=(0,P.Z)(le[1],2)[0],it={},st=0,ft=Object.entries(te);st<ft.length;st++){var gt=(0,P.Z)(ft[st],2);it[gt[0]]=m.lC.translate(ee,ae,gt[1],null)}var pt,ht={},ot={},at=(0,z.Z)(ye.Attributes);try{var Tt=function(){var Ae=pt.value,lt=te[Ae.Name],Qe=it[Ae.Name],et=We.find(function(Lt){return Lt.Type===Ae.InputType}),Ft=m.NI.setDefaultFieldSettings(m.NI.mergeSettings(Ae.Metadata,ee,ae)),yt=o.runFormulas(r,g,Ae.Name,it,et,Ft,Ie),Me=yt.settings,tt=yt.value;Me.Name=Me.Name||Ae.Name,Me.Required=m.Pp.isRequired(Me),Me.DisableTranslation=m.NI.findDisableTranslation(ye.Metadata,et,lt,ae,Ae.Metadata);var ut=(null===(Je=Ie.Group)||void 0===Je?void 0:Je.SlotCanBeEmpty)&&(null===(Xe=Ie.Group)||void 0===Xe?void 0:Xe.SlotIsEmpty);Me.DisableTranslation=ut||Me.DisableTranslation,Me.Disabled=ut||Me.Disabled;var It=m.NI.getDisabledBecauseTranslations(lt,Me.DisableTranslation,ee,ae);Me.Disabled=It||Me.Disabled,Me.Disabled=Ge.isReadOnly||Me.Disabled;var ct=ze.e.singleton().get(Ae.InputType),dt=null!==(Ke=null==ct?void 0:ct.update(Me,Qe))&&void 0!==Ke?Ke:Me;if(!ut&&!It&&void 0!==Qe&&void 0!==tt){var vt=Qe!==tt;vt&&Array.isArray(Qe)&&Array.isArray(tt)&&(vt=!m.iX.arraysEqual(Qe,tt)),vt&&(ot[Ae.Name]=tt)}var rt=m.YB.calculateInputType(Ae,We),bt=m.YB.getWrappers(dt,rt),Dt=m.NI.setDefaultFieldSettings(m.NI.mergeSettings(Ae.Metadata,o.eavService.eavConfig.lang,ae)),xt=null!==(qe=Dt.Disabled)&&void 0!==qe&&qe,Ot=m.NI.getTranslationState(lt,dt.DisableTranslation,ee,ae),Ct=ye.Attributes.indexOf(Ae);ht[Ae.Name]={calculatedInputType:rt,constants:{angularAssets:null==et?void 0:et.AngularAssets,contentTypeId:h,dropzonePreviewsClass:"dropzone-previews-".concat(o.eavService.eavConfig.formId,"-").concat(Ct),entityGuid:r,entityId:g,fieldName:Ae.Name,index:Ct,initialDisabled:xt,inputType:rt.inputType,isExternal:rt.isExternal,isLastInGroup:m.NI.findIsLastInGroup(ye,Ae),type:Ae.Type},settings:dt,translationState:Ot,value:Qe,wrappers:bt}};for(at.s();!(pt=at.n()).done;)Tt()}catch(mt){at.e(mt)}finally{at.f()}return Object.keys(ot).length>0&&o.maxValueFormulaCycles>o.valueFormulaCounter?(o.valueFormulaCounter++,void o.itemService.updateItemAttributesValues(r,ot,ee,ae)):(o.valueFormulaCounter=0,ht)}),(0,fe.h)(function(ne){return!!ne})).subscribe(function(ne){o.fieldsProps$.next(ne)}))}},{key:"getContentTypeSettings",value:function(){return this.contentTypeSettings$.value}},{key:"getContentTypeSettings$",value:function(){return this.contentTypeSettings$.asObservable()}},{key:"getFieldsProps",value:function(){return this.fieldsProps$.value}},{key:"getFieldsProps$",value:function(){return this.fieldsProps$.asObservable()}},{key:"getFieldSettings",value:function(r){return this.fieldsProps$.value[r].settings}},{key:"getFieldSettings$",value:function(r){return this.fieldsProps$.pipe((0,T.U)(function(o){return o[r].settings}),(0,c.x)(m.iX.objectsEqual))}},{key:"getTranslationState$",value:function(r){return this.fieldsProps$.pipe((0,T.U)(function(o){return o[r].translationState}),(0,c.x)(m.iX.objectsEqual))}},{key:"forceSettings",value:function(){this.forceSettings$.next()}},{key:"runFormulas",value:function(r,o,s,g,h,D,x){var re,se,M=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),k=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),G=Object.assign(Object.assign({},D),this.formulaSettingsCache[this.getFormulaSettingsKey(s,M,k)]),J=this.formulaDesignerService.getFormulas(r,s,null,!1),ne={},le=(0,z.Z)(J);try{for(le.s();!(se=le.n()).done;){var ye=se.value,ee=this.runFormula(ye,o,g,h,D,G,x);if(void 0!==ee){if(ye.target===Te.C4.Value){re=ee;continue}if(ye.target.startsWith(Te.bi)){var ae=ye.target.substring(Te.bi.length),te=D[ae];if(null==te||null==ee){ne[ae]=ee;continue}if(Array.isArray(te)&&Array.isArray(ee)){ne[ae]=ee;continue}if(typeof te==typeof ee){ne[ae]=ee;continue}}}}}catch(We){le.e(We)}finally{le.f()}return this.formulaSettingsCache[this.getFormulaSettingsKey(s,M,k)]=ne,{settings:Object.assign(Object.assign({},D),ne),value:re}}},{key:"getFormulaSettingsKey",value:function(r,o,s){return"fieldName:".concat(r,":currentLanguage:").concat(o,":defaultLanguage:").concat(s)}},{key:"runFormula",value:function(r,o,s,g,h,D,x){var M=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),k=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),G=this.languageService.getLanguages(),J=this.globalConfigService.getDebugEnabled(),re=this.editInitializerService.getInitialValues(r.entityGuid,M),ne=m.u8.buildFormulaProps(r,o,g,h,D,s,re,M,k,G,x,J,this.itemService,this.eavService,this),le=this.formulaDesignerService.getDesignerState(),se=le.isOpen&&le.entityGuid===r.entityGuid&&le.fieldName===r.fieldName&&le.target===r.target,ye=this.getContentTypeSettings();try{if(r.version===Te.nJ.V1){se&&console.log("Running formula".concat(Te.nJ.V1.toLocaleUpperCase(),' for Entity: "').concat(ye._itemTitle,'", Field: "').concat(r.fieldName,'", Target: "').concat(r.target,'" with following arguments:'),ne);var ee=this.doValueCorrection(r.target,r.fn(ne.data,ne.context,ne.experimental),g);return this.formulaDesignerService.upsertFormulaResult(r.entityGuid,r.fieldName,r.target,ee,!1),se&&console.log("Formula result:",ee),ee}se&&console.log('Running formula for Entity: "'.concat(ye._itemTitle,'", Field: "').concat(r.fieldName,'", Target: "').concat(r.target,'" with following arguments:'),void 0);var ae=this.doValueCorrection(r.target,r.fn(),g);return this.formulaDesignerService.upsertFormulaResult(r.entityGuid,r.fieldName,r.target,ae,!1),se&&console.log("Formula result:",ae),ae}catch(Ie){var te='Error in formula calculation for Entity: "'.concat(ye._itemTitle,'", Field: "').concat(r.fieldName,'", Target: "').concat(r.target,'"');this.formulaDesignerService.upsertFormulaResult(r.entityGuid,r.fieldName,r.target,void 0,!0),this.loggingService.addLog(Te.GW.Error,te,Ie),se?console.error(te,Ie):this.loggingService.showMessage(this.translate.instant("Errors.FormulaCalculation"),2e3)}}},{key:"doValueCorrection",value:function(r,o,s){if(r!==Te.C4.Value||null==o)return o;if((null==s?void 0:s.Type)===K.v.DatetimeDefault){var g=new Date(o);return g.toJSON()===o||g.getTime()===o||(g.setTime(g.getTime()-6e4*g.getTimezoneOffset()),g.setMilliseconds(0)),g.toJSON()}return o}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(q.h1),I.LFG(q._K),I.LFG(U),I.LFG(q.en),I.LFG(q.si),I.LFG(q.TS),I.LFG(Ue),I.LFG(R),I.LFG(me.sK),I.LFG(q.bE),I.LFG(Oe),I.LFG(He))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),Be=a(5738),Ye=function(){var E=function(){function V(p,r,o,s,g){(0,L.Z)(this,V),this.itemService=p,this.languageInstanceService=r,this.eavService=o,this.contentTypeService=s,this.fieldsSettingsService=g}return(0,O.Z)(V,[{key:"init",value:function(r){this.entityGuid=r;var o=this.itemService.getItem(r);this.contentTypeId=m.YB.getContentTypeId(o)}},{key:"translate",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;if(!this.isTranslationDisabled(r)){var g=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),h=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId);s=this.itemService.removeItemAttributeDimension(this.entityGuid,r,g,!0,s);var D=this.itemService.getItemAttributes(this.entityGuid),x=D[r],M=m.lC.getValueTranslation(x,h,h),k=this.contentTypeService.getContentType(this.contentTypeId),G=k.Attributes.find(function(J){return J.Name===r});return this.itemService.addItemAttributeValue(this.entityGuid,r,M.Value,g,!1,G.Type,o,s)}}},{key:"dontTranslate",value:function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2?arguments[2]:void 0;if(!this.isTranslationDisabled(r)){var g=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId);return this.itemService.removeItemAttributeDimension(this.entityGuid,r,g,o,s)}}},{key:"copyFrom",value:function(r,o){if(!this.isTranslationDisabled(r)){var g=this.itemService.getItemAttributes(this.entityGuid)[r],h=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),D=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),x=m.lC.getValueTranslation(g,o,D);if(x)if(g&&m.lC.isEditableOrReadonlyTranslationExist(g,h,D))this.itemService.updateItemAttributeValue(this.entityGuid,r,x.Value,h,D,!1);else{var G=this.contentTypeService.getContentType(this.contentTypeId).Attributes.find(function(J){return J.Name===r});this.itemService.addItemAttributeValue(this.entityGuid,r,x.Value,h,!1,G.Type)}else(0,Be.P)("".concat(h,": Cant copy value from ").concat(o," because that value does not exist."))}}},{key:"linkReadOnly",value:function(r,o){if(!this.isTranslationDisabled(r)){var s=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),g=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),h=this.itemService.removeItemAttributeDimension(this.entityGuid,r,s,!0);this.itemService.addItemAttributeDimension(this.entityGuid,r,s,o,g,!0,h)}}},{key:"linkReadWrite",value:function(r,o){if(!this.isTranslationDisabled(r)){var s=this.languageInstanceService.getCurrentLanguage(this.eavService.eavConfig.formId),g=this.languageInstanceService.getDefaultLanguage(this.eavService.eavConfig.formId),h=this.itemService.removeItemAttributeDimension(this.entityGuid,r,s,!0);this.itemService.addItemAttributeDimension(this.entityGuid,r,s,o,g,!1,h)}}},{key:"translateMany",value:function(){var g,D,r=this,o=this.itemService.getItemAttributes(this.entityGuid),s=Object.keys(o).filter(function(k){return!r.isTranslationDisabled(k)}),h=(0,z.Z)(s);try{for(h.s();!(D=h.n()).done;){var x=D.value;g=this.translate(x,x!==s[s.length-1],g)}}catch(k){h.e(k)}finally{h.f()}}},{key:"dontTranslateMany",value:function(){var g,D,r=this,o=this.itemService.getItemAttributes(this.entityGuid),s=Object.keys(o).filter(function(k){return!r.isTranslationDisabled(k)}),h=(0,z.Z)(s);try{for(h.s();!(D=h.n()).done;){var x=D.value;g=this.dontTranslate(x,x!==s[s.length-1],g)}}catch(k){h.e(k)}finally{h.f()}}},{key:"isTranslationDisabled",value:function(r){return this.fieldsSettingsService.getFieldsProps()[r].settings.DisableTranslation}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(q.en),I.LFG(q._K),I.LFG(U),I.LFG(q.h1),I.LFG(we))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),R=function(){var E=function(){function V(p){(0,L.Z)(this,V),this.snackBar=p,this.logs$=new Q.X([]),this.logLimit=50,this.lastSnackBarTime=0,this.snackBarDebounce=1e4}return(0,O.Z)(V,[{key:"ngOnDestroy",value:function(){this.logs$.complete()}},{key:"addLog",value:function(r,o,s){var D=[{error:s,label:o,severity:r,time:Date.now()}].concat((0,De.Z)(this.logs$.value.slice(0,this.logLimit-2)));this.logs$.next(D)}},{key:"showMessage",value:function(r,o,s){var g=Date.now();!s&&g-this.lastSnackBarTime<=this.snackBarDebounce||(null!=o&&o>0?this.snackBar.open(r,null,{duration:o}):this.snackBar.open(r),this.lastSnackBarTime=g)}},{key:"getLogs$",value:function(){return this.logs$.asObservable()}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(Ve.ux))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),y=a(5590),C=a(318),_=function(){var E=function(){function V(p,r){(0,L.Z)(this,V),this.matIconRegistry=p,this.domSanitizer=r,this.icons={apple:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',appleFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"draft-branch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z"/></svg>',"file-archive":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z"/></svg>',"file-audio":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z"/></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"/></svg>',"file-excel":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z"/></svg>',"file-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z"/></svg>',"file-pdf":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z"/></svg>',"file-powerpoint":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z"/></svg>',"file-text":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z"/></svg>',"file-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z"/></svg>',"file-word":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',"folder-plus":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',sitemap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z"/></svg>'}}return(0,O.Z)(V,[{key:"load",value:function(){var r=this;Object.entries(this.icons).forEach(function(o){var s=(0,P.Z)(o,2);r.matIconRegistry.addSvgIconLiteral(s[0],r.domSanitizer.bypassSecurityTrustHtml(s[1]))})}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(y.jv),I.LFG(C.H7))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),A=function(){var E=function(){function V(p,r,o){(0,L.Z)(this,V),this.http=p,this.dnnContext=r,this.context=o}return(0,O.Z)(V,[{key:"getAvailableEntities",value:function(r,o,s,g){var h,D,x,M=!!s,k=null!==(h=null==s?void 0:s.toLocaleLowerCase())&&void 0!==h?h:"",G=null!==(D=k.includes("appid="))&&void 0!==D&&D,ne=((null!==(x=k.includes("includeguid="))&&void 0!==x&&x?"":"&includeGuid=".concat(o))+(G?"":"&appId=".concat(this.context.appId))+(M?"&".concat(s):"")).substring(1);return this.http.post(this.dnnContext.$2sxc.http.apiUrl("app/auto/query/".concat(r,"?").concat(ne)),{Guids:g})}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(b.eN),I.LFG(j._y),I.LFG(N._))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}(),B=function(){var E=function(){function V(p){(0,L.Z)(this,V),this.eavService=p,this.loadedFiles=[]}return(0,O.Z)(V,[{key:"load",value:function(r,o){var s=this.sortByType(r);this.insertToDom(s,o,0)}},{key:"sortByType",value:function(r){var o=this,s=[],g=[];return r.forEach(function(h){var D={path:o.resolveSpecialPaths(h),type:null,loaded:!1,domEl:null};D.path.endsWith(".css")?(D.type=".css",s.push(D)):D.path.endsWith(".js")&&(D.type=".js",g.push(D))}),s.concat(g)}},{key:"insertToDom",value:function(r,o,s){var g=this,h=r[s];if(s++,h){h.path=h.path+"?sxcver="+window.sxcVersion;var D=this.loadedFiles.find(function(k){return k.path===h.path});if(D)if(D.loaded)this.insertToDom(r,o,s);else{var x=function k(){h.loaded=!0,g.insertToDom(r,o,s),D.domEl.removeEventListener("load",k),D.domEl.removeEventListener("error",k)};D.domEl.addEventListener("load",x),D.domEl.addEventListener("error",x)}else{".css"===h.type?(h.domEl=document.createElement("link"),h.domEl.rel="stylesheet",h.domEl.href=h.path):".js"===h.type&&(h.domEl=document.createElement("script"),h.domEl.type="module",h.domEl.src=h.path);var M=function k(){h.loaded=!0,g.insertToDom(r,o,s),h.domEl.removeEventListener("load",k),h.domEl.removeEventListener("error",k)};h.domEl.addEventListener("load",M),h.domEl.addEventListener("error",M),document.querySelector("head").appendChild(h.domEl),this.loadedFiles.push(h)}}else o()}},{key:"resolveSpecialPaths",value:function(r){return r.replace(/\[System:Path\]/i,m.iN.getUrlPrefix("system",this.eavService.eavConfig)).replace(/\[Zone:Path\]/i,m.iN.getUrlPrefix("zone",this.eavService.eavConfig)).replace(/\[App:Path\]/i,m.iN.getUrlPrefix("app",this.eavService.eavConfig))}}]),V}();return E.\u0275fac=function(p){return new(p||E)(I.LFG(U))},E.\u0275prov=I.Yz7({token:E,factory:E.\u0275fac}),E}()},5266:function(de,W,a){a.d(W,{ap:function(){return N},Bn:function(){return T},mr:function(){return U},h1:function(){return Fe},r6:function(){return be},UZ:function(){return $e},bE:function(){return Se},si:function(){return Pe},en:function(){return Be},_K:function(){return Ye},TS:function(){return R},f3:function(){return he},Vn:function(){return ve},uQ:function(){return Ee},H5:function(){return q}});var L=a(2090),O=a(8069),m=a(8047),I=a(4582),b=a(7318),j=a(2493),F=a(6317),T=function(v){(0,I.Z)(Z,v);var w=(0,b.Z)(Z);function Z(d,l){var e;return(0,O.Z)(this,Z),(e=w.call(this,d,l)).cache$=new F.X([]),e.entities$.subscribe(function(t){e.cache$.next(t)}),e}return(0,m.Z)(Z)}(j.c8),S=a(7133),N=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"AdamCache",l)}return(0,m.Z)(d,[{key:"loadPrefetch",value:function(e){if(null!=e){var t=Object.entries(e).map(function(n){var i=(0,L.Z)(n,2);return{Guid:i[0],Attributes:i[1]}});this.upsertManyInCache(t)}}},{key:"getAdamSnapshot",value:function(e,t){var n;return null===(n=this.cache$.value.find(function(i){return i.Guid===e}))||void 0===n?void 0:n.Attributes[t]}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),$=a(8221),U=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"ContentTypeItem",l)}return(0,m.Z)(d,[{key:"addContentTypeItems",value:function(e){var t=$.q.convertMany(e);this.upsertManyInCache(t)}},{key:"getContentTypeItem",value:function(e){return this.cache$.value.find(function(t){return t.Guid===e})}},{key:"getContentTypeItems",value:function(e){return this.cache$.value.filter(function(t){return e.includes(t.Guid)})}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),P=a(635),z=a(8977),Q=a(584),K=function(){function v(){(0,O.Z)(this,v)}return(0,m.Z)(v,null,[{key:"convertOne",value:function(Z){var d=$.q.convertMany(Z.Metadata),l=Q.R.mergeSettings(d);return{InputType:Z.InputType,IsTitle:Z.IsTitle,Metadata:d,Name:Z.Name,Settings:l,Type:Z.Type}}},{key:"convertMany",value:function(Z){return null==Z?[]:Z.map(function(l){return v.convertOne(l)})}}]),v}(),ue=function(){function v(){(0,O.Z)(this,v)}return(0,m.Z)(v,null,[{key:"convert",value:function(Z){var d=K.convertMany(Z.Attributes),l=$.q.convertMany(Z.Metadata),e=Q.R.mergeSettings(l);return{Attributes:d,Description:Z.Description,Id:Z.Id,Metadata:l,Name:Z.Name,Scope:Z.Scope,Settings:e}}}]),v}(),Fe=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"ContentType",l)}return(0,m.Z)(d,[{key:"addContentTypes",value:function(e){var t=e.map(function(n){return ue.convert(n)});this.addManyToCache(t)}},{key:"getContentType",value:function(e){return this.cache$.value.find(function(t){return t.Id===e})}},{key:"getContentType$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){return t.find(function(n){return n.Id===e})}),(0,z.x)())}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),oe=a(5656),be=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"EntityCache",l)}return(0,m.Z)(d,[{key:"loadEntities",value:function(e){null!=e&&this.upsertManyInCache(e)}},{key:"getEntities$",value:function(e){return null==e?this.cache$.asObservable():this.cache$.pipe((0,P.U)(function(t){return t.filter(function(n){return e.includes(n.Value)})}),(0,z.x)(oe.iX.arraysEqual))}},{key:"getEntities",value:function(e){return null==e?this.cache$.value:this.cache$.value.filter(function(t){return e.includes(t.Value)})}},{key:"getEntity",value:function(e){return this.cache$.value.find(function(t){return t.Value===e})}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),q={entityMetadata:{GlobalConfig:{},Item:{selectId:function pe(v){var w;return null===(w=null==v?void 0:v.Entity)||void 0===w?void 0:w.Guid}},Feature:{selectId:function me(v){return null==v?void 0:v.Guid}},Language:{selectId:function Ve(v){return null==v?void 0:v.NameId}},LanguageInstance:{selectId:function Oe(v){return null==v?void 0:v.formId}},ContentType:{selectId:function ke(v){return null==v?void 0:v.Id}},ContentTypeItem:{selectId:function xe(v){return null==v?void 0:v.Guid}},InputType:{selectId:function c(v){return null==v?void 0:v.Type}},PublishStatus:{selectId:function fe(v){return null==v?void 0:v.formId}},Prefetch:{selectId:function Ce(v){return null==v?void 0:v._guid}},EntityCache:{selectId:function Ze(v){return null==v?void 0:v.Id}},AdamCache:{selectId:function ce(v){return null==v?void 0:v.Guid}},LinkCache:{selectId:function Le(v){return null==v?void 0:v.key}},StringQueryCache:{selectId:function Ne(v){return null==v?void 0:v.selector}}},pluralNames:{Feature:"Features",PublishStatus:"PublishStatuses"}},$e=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"Feature",l)}return(0,m.Z)(d,[{key:"loadFeatures",value:function(e){this.addAllToCache(e)}},{key:"isFeatureEnabled",value:function(e){var t,n;return null!==(n=null===(t=this.cache$.value.find(function(i){return[i.Guid,i.NameId].includes(e)}))||void 0===t?void 0:t.Enabled)&&void 0!==n&&n}},{key:"isFeatureEnabled$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n,i;return null!==(i=null===(n=t.find(function(u){return[u.Guid,u.NameId].includes(e)}))||void 0===n?void 0:n.Enabled)&&void 0!==i&&i}),(0,z.x)())}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),_e=a(8254),Re=a(2528),Se=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l,e){var t;(0,O.Z)(this,d),(t=Z.call(this,"GlobalConfig",l)).snackBar=e;var n={id:0,debugEnabled:"true"===sessionStorage.getItem(_e.PD)};return t.addOneToCache(n),t}return(0,m.Z)(d,[{key:"getDebugEnabled",value:function(){return this.cache$.value[0].debugEnabled}},{key:"getDebugEnabled$",value:function(){return this.cache$.pipe((0,P.U)(function(e){return e[0].debugEnabled}))}},{key:"toggleDebugEnabled",value:function(){var e=this.cache$.value[0],t=Object.assign(Object.assign({},e),{debugEnabled:!e.debugEnabled});this.updateOneInCache(t),this.snackBar.open(t.debugEnabled?"Debug mode enabled":"Debug mode disabled",null,{duration:3e3})}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV),S.LFG(Re.ux))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),Pe=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"InputType",l)}return(0,m.Z)(d,[{key:"addInputTypes",value:function(e){this.addManyToCache(e)}},{key:"getInputType",value:function(e){return this.cache$.value.find(function(t){return t.Type===e})}},{key:"getInputTypes",value:function(){return this.cache$.value}},{key:"getInputTypes$",value:function(){return this.cache$.asObservable()}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),ze=a(1825),He=a(1284),De=a(5123),Ue=a(7909),we=a(4979),Be=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"Item",l)}return(0,m.Z)(d,[{key:"loadItems",value:function(e){var t=e.map(function(n){return De.$.convert(n)});this.upsertManyInCache(t)}},{key:"updateItemId",value:function(e){var t=Object.keys(e)[0],n=e[t],i=this.cache$.value.find(function(f){return f.Entity.Guid===t});if(i&&(0===i.Header.EntityId||0===i.Entity.Id)){var u=Object.assign(Object.assign({},i),{Header:Object.assign(Object.assign({},i.Header),{EntityId:n}),Entity:Object.assign(Object.assign({},i.Entity),{Id:n})});this.updateOneInCache(u)}}},{key:"updateItemMetadata",value:function(e,t){var n=this.cache$.value.find(function(u){return u.Entity.Guid===e}),i=Object.assign(Object.assign({},n),{Entity:Object.assign(Object.assign({},n.Entity),{Metadata:t})});this.updateOneInCache(i)}},{key:"addItemAttributeValue",value:function(e,t,n,i,u,f){var y=arguments.length>6&&void 0!==arguments[6]&&arguments[6],C=arguments.length>7?arguments[7]:void 0,_=u?"~".concat(i):i,A=Ue.f.create(n,[we.z.create(_)]),Y=null!=C?C:this.cache$.value.find(function(E){return E.Entity.Guid===e}),B=Object.assign(Object.assign({},Y),{Entity:Object.assign(Object.assign({},Y.Entity),{Attributes:oe.lC.addAttributeValue(Y.Entity.Attributes,A,t,f)})});return y||this.updateOneInCache(B),B}},{key:"updateItemAttributeValue",value:function(e,t,n,i,u,f){var y=this.cache$.value.find(function(_){return _.Entity.Guid===e});if(y){var C=Object.assign(Object.assign({},y),{Entity:Object.assign(Object.assign({},y.Entity),{Attributes:oe.lC.updateAttributeValue(y.Entity.Attributes,t,n,i,u,f)})});this.updateOneInCache(C)}}},{key:"updateItemAttributesValues",value:function(e,t,n,i){var u=this.cache$.value.find(function(V){return V.Entity.Guid===e});if(u){for(var f={},y=0,C=Object.entries(u.Entity.Attributes);y<C.length;y++){var _=(0,L.Z)(C[y],2),A=_[0],Y=_[1];!t.hasOwnProperty(A)||(f[A]=oe.lC.translate(n,i,Y,null))}var B=oe.iX.getFormChanges(f,t);if(null!=B){var E=Object.assign(Object.assign({},u),{Entity:Object.assign(Object.assign({},u.Entity),{Attributes:oe.lC.updateAttributesValues(u.Entity.Attributes,B,n,i)})});this.updateOneInCache(E)}}}},{key:"addItemAttributeDimension",value:function(e,t,n,i,u,f,y){var C=null!=y?y:this.cache$.value.find(function(A){return A.Entity.Guid===e}),_=Object.assign(Object.assign({},C),{Entity:Object.assign(Object.assign({},C.Entity),{Attributes:oe.lC.addAttributeDimension(C.Entity.Attributes,t,n,i,u,f)})});this.updateOneInCache(_)}},{key:"removeItemAttributeDimension",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4?arguments[4]:void 0,f=null!=u?u:this.cache$.value.find(function(C){return C.Entity.Guid===e}),y=Object.assign(Object.assign({},f),{Entity:Object.assign(Object.assign({},f.Entity),{Attributes:oe.lC.removeAttributeDimension(f.Entity.Attributes,t,n)})});return i||this.updateOneInCache(y),y}},{key:"updateItemHeader",value:function(e,t){var n=this.cache$.value.find(function(u){return u.Entity.Guid===e});if(n){var i=Object.assign(Object.assign({},n),{Header:Object.assign({},t)});this.updateOneInCache(i)}}},{key:"getItemAttributes",value:function(e){var t;return null===(t=this.cache$.value.find(function(n){return n.Entity.Guid===e}))||void 0===t?void 0:t.Entity.Attributes}},{key:"getItemAttributes$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.Entity.Guid===e}))||void 0===n?void 0:n.Entity.Attributes}),(0,z.x)())}},{key:"getItem",value:function(e){return this.cache$.value.find(function(t){return t.Entity.Guid===e})}},{key:"getItem$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){return t.find(function(n){return n.Entity.Guid===e})}),(0,z.x)())}},{key:"getItemFor$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.Entity.Guid===e}))||void 0===n?void 0:n.Entity.For}),(0,z.x)())}},{key:"getItemNote",value:function(e){var t,n;return null===(n=null===(t=this.cache$.value.find(function(i){return i.Entity.Guid===e}))||void 0===t?void 0:t.Entity.Metadata)||void 0===n?void 0:n.find(function(i){return i.Type.Name===ze.Z.contentTypes.notes})}},{key:"getItemNote$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n,i;return null===(i=null===(n=t.find(function(u){return u.Entity.Guid===e}))||void 0===n?void 0:n.Entity.Metadata)||void 0===i?void 0:i.find(function(u){return u.Type.Name===ze.Z.contentTypes.notes})}),(0,z.x)())}},{key:"getItemHeader$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.Entity.Guid===e}))||void 0===n?void 0:n.Header}),(0,z.x)())}},{key:"getItems",value:function(e){return null==e?this.cache$.value:this.cache$.value.filter(function(t){return e.includes(t.Entity.Guid)})}},{key:"getItems$",value:function(e){return null==e?this.cache$.asObservable():this.cache$.pipe((0,P.U)(function(t){return t.filter(function(n){return e.includes(n.Entity.Guid)})}),(0,z.x)(oe.iX.arraysEqual))}},{key:"setDefaultValue",value:function(e,t,n,i,u,f){var y=oe.YB.parseDefaultValue(t.Name,n,i,e.Header);void 0===oe.lC.getBestValue(e.Entity.Attributes[t.Name],f,f,He.MQ.Strict)?this.addItemAttributeValue(e.Entity.Guid,t.Name,y,0===u.length||(null==n?void 0:n.DisableI18n)?"*":f,!1,t.Type):this.updateItemAttributeValue(e.Entity.Guid,t.Name,y,0===u.length||(null==n?void 0:n.DisableI18n)?"*":f,f,!1)}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),Ye=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"LanguageInstance",l)}return(0,m.Z)(d,[{key:"addLanguageInstance",value:function(e,t,n,i,u){this.addOneToCache({formId:e,currentLanguage:t,defaultLanguage:n,uiLanguage:i,hideHeader:u})}},{key:"removeLanguageInstance",value:function(e){this.removeOneFromCache(e)}},{key:"setCurrentLanguage",value:function(e,t){this.updateOneInCache({formId:e,currentLanguage:t})}},{key:"getCurrentLanguage",value:function(e){var t;return null===(t=this.cache$.value.find(function(n){return n.formId===e}))||void 0===t?void 0:t.currentLanguage}},{key:"getCurrentLanguage$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.formId===e}))||void 0===n?void 0:n.currentLanguage}),(0,z.x)())}},{key:"getDefaultLanguage",value:function(e){var t;return null===(t=this.cache$.value.find(function(n){return n.formId===e}))||void 0===t?void 0:t.defaultLanguage}},{key:"getDefaultLanguage$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.formId===e}))||void 0===n?void 0:n.defaultLanguage}),(0,z.x)())}},{key:"getHideHeader$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){var n;return null===(n=t.find(function(i){return i.formId===e}))||void 0===n?void 0:n.hideHeader}),(0,z.x)())}},{key:"updateHideHeader",value:function(e,t){this.updateOneInCache({formId:e,hideHeader:t})}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),R=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"Language",l)}return(0,m.Z)(d,[{key:"loadLanguages",value:function(e){this.addAllToCache(e)}},{key:"getLanguages",value:function(){return this.cache$.value}},{key:"getLanguages$",value:function(){return this.cache$.asObservable()}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),H=a(5106),ge=a(6170),he=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"LinkCache",l)}return(0,m.Z)(d,[{key:"loadPrefetch",value:function(e,t){var n=[];if(null!=e)for(var i=0,u=Object.entries(e);i<u.length;i++){var f=(0,L.Z)(u[i],2);n.push({key:f[0],linkInfo:f[1]})}if(null!=t)for(var A=0,Y=Object.entries(t);A<Y.length;A++)for(var B=(0,L.Z)(Y[A],2),p=0,r=Object.entries(B[1]);p<r.length;p++){var o=(0,L.Z)(r[p],2),h=this.adamToLinks(o[1]);n.push.apply(n,(0,ge.Z)(h))}this.upsertManyInCache(n)}},{key:"loadAdam",value:function(e){var t=this.adamToLinks(e);this.upsertManyInCache(t)}},{key:"loadLink",value:function(e,t){var n={key:e=e.trim().toLocaleLowerCase(),linkInfo:Object.assign(Object.assign({},t),{Adam:Object.assign({},t.Adam)})};this.upsertOneInCache(n)}},{key:"getLinkInfo",value:function(e){var t;return e=e.trim().toLocaleLowerCase(),null===(t=this.cache$.value.find(function(n){return n.key.trim().toLocaleLowerCase()===e}))||void 0===t?void 0:t.linkInfo}},{key:"adamToLinks",value:function(e){var i,t=[],n=(0,H.Z)(e);try{for(n.s();!(i=n.n()).done;){var u=i.value;if(!u.IsFolder){var f={key:u.ReferenceId,linkInfo:{Adam:Object.assign({},u),Value:u.Url}};t.push(f)}}}catch(y){n.e(y)}finally{n.f()}return t}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),ie=a(8870),ve=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"PublishStatus",l)}return(0,m.Z)(d,[{key:"setPublishStatus",value:function(e){this.upsertOneInCache(e)}},{key:"removePublishStatus",value:function(e){this.removeOneFromCache(e)}},{key:"getPublishStatus",value:function(e){return this.cache$.value.find(function(t){return t.formId===e})}},{key:"getPublishStatus$",value:function(e){return this.cache$.pipe((0,P.U)(function(t){return t.find(function(n){return n.formId===e})}),(0,z.x)())}},{key:"setPublishMode",value:function(e,t,n){null==n.eavConfig.versioningOptions[e]&&(e=Object.keys(n.eavConfig.versioningOptions)[0]),this.setPublishStatus({formId:t,DraftShouldBranch:e===ie.eu.Branch,IsPublished:e===ie.eu.Show})}},{key:"getPublishMode$",value:function(e){return this.getPublishStatus$(e).pipe((0,P.U)(function(t){return t.DraftShouldBranch?ie.eu.Branch:t.IsPublished?ie.eu.Show:ie.eu.Hide}))}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}(),Ee=function(){var v=function(w){(0,I.Z)(d,w);var Z=(0,b.Z)(d);function d(l){return(0,O.Z)(this,d),Z.call(this,"StringQueryCache",l)}return(0,m.Z)(d,[{key:"loadEntities",value:function(e,t,n){if(null!=n){var i={selector:this.buildSelector(e,t),entities:n};this.upsertOneInCache(i)}}},{key:"getEntities$",value:function(e,t){var n=this;return this.cache$.pipe((0,P.U)(function(i){var u,f;return null!==(f=null===(u=i.find(function(y){return y.selector===n.buildSelector(e,t)}))||void 0===u?void 0:u.entities)&&void 0!==f?f:[]}),(0,z.x)(oe.iX.arraysEqual))}},{key:"buildSelector",value:function(e,t){return"".concat(e,"|").concat(t)}}]),d}(T);return v.\u0275fac=function(Z){return new(Z||v)(S.LFG(j.yV))},v.\u0275prov=S.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v}()},1226:function(de,W,a){a.d(W,{v:function(){return L}});var L={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomJsonEditor:"custom-json-editor",DatetimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg"}},4772:function(de,W,a){a.d(W,{f:function(){return L}});var L={Zone:"zone",AppImport:"app-import",App:"app",ContentType:"contenttype",ContentItems:"contentitems",Edit:"edit",ItemHistory:"item-history",Develop:"develop",PipelineDesigner:"pipeline-designer",Replace:"replace",InstanceList:"instance-list"}},1825:function(de,W,a){a.d(W,{x:function(){return O},Z:function(){return m}});var O={App:"app",Site:"site"},m={metadata:{attribute:{targetType:2,target:"EAV Field Properties",label:"Content-Type Field/Attribute (2)",keyType:"number"},app:{targetType:3,target:"App",label:"App (3)",keyType:"number"},entity:{targetType:4,target:"Entity",label:"Entity (4)",keyType:"guid"},contentType:{targetType:5,target:"ContentType",label:"Content-Type (5)",keyType:"string"},zone:{targetType:6,target:"Zone",label:"Zone (6) - not used as of now",keyType:"number"},language:{targetType:8,target:"Dimension",label:"Language (8)",keyType:"string"},cmsObject:{targetType:10,target:"CmsObject",label:"Cms Object (10)",keyType:"string",hint:'Usually this is "file:400" or "folder:4030"'}},keyTypes:{guid:"guid",string:"string",number:"number"},scopes:{default:{name:"Default",value:"Default"},configuration:{name:"Configuration (Views etc.)",value:"System.Configuration"}},contentTypes:{appConfiguration:"2SexyContent-App",template:"2SexyContent-Template",permissions:"PermissionConfiguration",query:"DataPipeline",contentType:"ContentType",settings:"App-Settings",resources:"App-Resources",systemSettings:"SettingsSystem",systemResources:"ResourcesSystem",customSettings:"SettingsCustom",customResources:"ResourcesCustom",formulas:"UiFormula",notes:"NoteDecorator"},pipelineDesigner:{dataSourceDifficulties:{default:100,advanced:200},outDataSource:{Description:"The template/script which will show this data",EntityGuid:"Out",In:["Default","Header"],Name:"2sxc Target (View or API)",PartAssemblyAndType:"SexyContentTemplate",PrimaryType:"Target",VisualDesignerData:{Top:20,Left:200,Width:700}},defaultPipeline:{dataSources:[{EntityGuid:"unsaved1",PartAssemblyAndType:"ToSic.Sxc.DataSources.CmsBlock, ToSic.Sxc",VisualDesignerData:{Top:170,Left:440}}],streamWiring:[{From:"unsaved1",Out:"Header",To:"Out",In:"Header"},{From:"unsaved1",Out:"Default",To:"Out",In:"Default"}]},testParameters:"[Demo:Demo]=true"}}},8254:function(de,W,a){a.d(W,{O4:function(){return L},fy:function(){return O},q$:function(){return m},sG:function(){return I},np:function(){return b},mf:function(){return j},B1:function(){return F},cF:function(){return T},PD:function(){return S},Hp:function(){return N},Zt:function(){return $},kF:function(){return U},by:function(){return P},UO:function(){return z},JA:function(){return Q},_8:function(){return K},Dz:function(){return ue},a3:function(){return Fe},PH:function(){return oe},n1:function(){return be}});var L="eav-",O=L+"zoneId",m=L+"rvt",I=L+"rvth",b=L+"tid",j=L+"cbid",F=L+"mid",T=L+"appId",S=L+"debug",N=L+"dialog",$=L+"contentType",U=L+"items",P=L+"partOfPage",z=L+"publishing",Q=L+"filters",K=L+"pipelineId",ue=L+"api",Fe=L+"url",oe=L+"isshared",be=L+"extras"},5738:function(de,W,a){a.d(W,{P:function(){return O}});var L=a(9735);function O(m){var I;if(!L.N.production){for(var b=arguments.length,j=new Array(b>1?b-1:0),F=1;F<b;F++)j[F-1]=arguments[F];(I=console).groupCollapsed.apply(I,[m].concat(j)),console.trace(),console.groupEnd()}}},9760:function(de,W,a){function L(O){try{var m=null==O?void 0:O.Api;if(!m)return;var I=window.$2sxc.env.header,b=Object.assign(Object.assign({},I),{appApi:m});window.$2sxc.env.load(b)}catch(j){}}a.d(W,{X:function(){return L}})},5137:function(de,W,a){a.d(W,{f:function(){return I},T:function(){return b}});var L=a(2090),O=a(5106),m=a(1825);function I(T){var S,N,$,U,Q,P="",z=(0,O.Z)(T.items);try{for(z.s();!(Q=z.n()).done;){var K=Q.value;if(P&&(P+=","),K.Parent){if(P+="inner:"+K.EntityId+":"+K.Field+":"+K.Parent+":"+K.Add+":"+K.Index,K.Prefill)for(var Fe=0,oe=Object.entries(K.Prefill);Fe<oe.length;Fe++){var be=(0,L.Z)(oe[Fe],2),Te=be[1];null!=Te&&(P+="&prefill:"+be[0]+"~"+j(Te.toString()))}}else if(K.EntityId)P+=K.EntityId;else if(K.ContentTypeName)!function(){var c=K;P+="new:"+c.ContentTypeName;var fe=function(Se){return":"+Se.Target+":"+Se.TargetType+(Se.Singleton?":"+Se.Singleton.toString():"")};if(null===(S=c.For)||void 0===S?void 0:S.String)P+="&for:s~"+j(c.For.String)+fe(c.For);else if(null===(N=c.For)||void 0===N?void 0:N.Number)P+="&for:n~"+c.For.Number+fe(c.For);else if(null===($=c.For)||void 0===$?void 0:$.Guid)P+="&for:g~"+c.For.Guid+fe(c.For);else if(c.Metadata){var Ce;switch(c.Metadata.keyType.toLocaleLowerCase()){case m.Z.keyTypes.string:Ce="s";break;case m.Z.keyTypes.number:Ce="n";break;case m.Z.keyTypes.guid:Ce="g"}var Ze=null===(U=Object.values(m.Z.metadata).find(function(Re){return Re.targetType===c.Metadata.targetType}))||void 0===U?void 0:U.target;P+="&for:"+Ce+"~"+j(c.Metadata.key)+":"+Ze+":"+c.Metadata.targetType}if(c.Prefill)for(var ce=0,Le=Object.entries(c.Prefill);ce<Le.length;ce++){var Ne=(0,L.Z)(Le[ce],2),_e=Ne[1];null!=_e&&(P+="&prefill:"+Ne[0]+"~"+j(_e.toString()))}c.DuplicateEntity&&(P+="&copy:"+c.DuplicateEntity)}();else if(K.Group&&(P+="group:"+K.Group.Guid+":"+K.Group.Index+":"+K.Group.Part+":"+K.Group.Add,K.Prefill))for(var me=0,Ve=Object.entries(K.Prefill);me<Ve.length;me++){var Oe=(0,L.Z)(Ve[me],2),xe=Oe[1];null!=xe&&(P+="&prefill:"+Oe[0]+"~"+j(xe.toString()))}}}catch(c){z.e(c)}finally{z.f()}return P}function b(T){var U,S={items:[]},N=T.split(","),$=(0,O.Z)(N);try{for($.s();!(U=$.n()).done;){var P=U.value;if(P.startsWith("inner:")){var Fe,Q={},K=P.split("&"),ue=(0,O.Z)(K);try{for(ue.s();!(Fe=ue.n()).done;){var oe=Fe.value;if(oe.startsWith("inner:")){var be=P.split(":");Q.EntityId=parseInt(be[1],10),Q.Field=be[2],Q.Parent=be[3],Q.Add="true"===be[4],Q.Index=parseInt(be[5],10)}else if(oe.startsWith("prefill:")){null==Q.Prefill&&(Q.Prefill={});var X=oe.split(":"),Te=X[1].split("~")[0],q=F(X[1].split("~")[1]);Q.Prefill[Te]=q}}}catch(H){ue.e(H)}finally{ue.f()}S.items.push(Q)}else if(/^[0-9]*$/g.test(P)){var pe={EntityId:parseInt(P,10)};S.items.push(pe)}else if(P.startsWith("new:")){var ke,me={},Ve=P.split("&"),Oe=(0,O.Z)(Ve);try{for(Oe.s();!(ke=Oe.n()).done;){var xe=ke.value;if(xe.startsWith("new:")){var c=xe.split(":");me.ContentTypeName=c[1]}else if(xe.startsWith("for:")){var fe=xe.split(":"),Ce=fe[1].split("~")[0],Ze=fe[1].split("~")[1],ce=fe[2],Le=parseInt(fe[3],10),Ne=null!=fe[4]?"true"===fe[4]:void 0;me.For=Object.assign(Object.assign(Object.assign(Object.assign({Target:ce,TargetType:Le},"g"===Ce&&{Guid:Ze}),"n"===Ce&&{Number:parseInt(Ze,10)}),"s"===Ce&&{String:F(Ze)}),null!=Ne&&{Singleton:Ne})}else if(xe.startsWith("prefill:")){null==me.Prefill&&(me.Prefill={});var $e=xe.split(":"),_e=$e[1].split("~")[0],Re=F($e[1].split("~")[1]);me.Prefill[_e]=Re}else if(xe.startsWith("copy:")){var Se=xe.split(":");me.DuplicateEntity=parseInt(Se[1],10)}}}catch(H){Oe.e(H)}finally{Oe.f()}S.items.push(me)}else if(P.startsWith("group:")){var De,Pe={},ze=P.split("&"),He=(0,O.Z)(ze);try{for(He.s();!(De=He.n()).done;){var Ue=De.value;if(Ue.startsWith("group:")){var we=Ue.split(":");Pe.Group={Guid:we[1],Index:parseInt(we[2],10),Part:we[3],Add:"true"===we[4]}}else if(Ue.startsWith("prefill:")){null==Pe.Prefill&&(Pe.Prefill={});var Be=Ue.split(":"),Ye=Be[1].split("~")[0],R=F(Be[1].split("~")[1]);Pe.Prefill[Ye]=R}}}catch(H){He.e(H)}finally{He.f()}S.items.push(Pe)}}}catch(H){$.e(H)}finally{$.f()}return S}function j(T){return(T=(T=(T=(T=T.replace(/\//g,"%2F")).replace(/\:/g,"%3A")).replace(/\&/g,"%26")).replace(/\~/g,"%7E")).replace(/\,/g,"%2C")}function F(T){return(T=(T=(T=(T=T.replace(/%2F/g,"/")).replace(/%3A/g,":")).replace(/%26/g,"&")).replace(/%7E/g,"~")).replace(/%2C/g,",")}},8598:function(de,W,a){a.d(W,{_:function(){return j}});var L=a(8069),O=a(8047),m=a(8254),I=a(5738),b=a(7133),j=function(){var F=function(){function T(S){(0,L.Z)(this,T),this.ready=!1,this.parent=S,window.contextId||(window.contextId=0),this.id=window.contextId++,(0,I.P)("Context.constructor",this)}return(0,O.Z)(T,[{key:"zoneId",get:function(){return this._zoneId||(this._zoneId=this.routeNum(m.fy)||this.parent.zoneId)}},{key:"appId",get:function(){return null!=this._appId?this._appId:this._appId=this.routeNum(m.cF)||this.parent.appId}},{key:"requestToken",get:function(){return this._rvt||(this._rvt=this.parent.requestToken)}},{key:"requestTokenHeaderName",get:function(){return this._rvtHeaderName||(this._rvtHeaderName=this.parent.requestTokenHeaderName)}},{key:"tabId",get:function(){return this._tabId||(this._tabId=this.routeNum(m.np)||this.parent.tabId)}},{key:"contentBlockId",get:function(){return this._contentBlockId||(this._contentBlockId=this.routeNum(m.mf)||this.parent.contentBlockId)}},{key:"moduleId",get:function(){return this._moduleId||(this._moduleId=this.routeNum(m.B1)||this.parent.moduleId)}},{key:"init",value:function(N){this.routeSnapshot=N&&N.snapshot,this.clearCachedValues(),this.ready=null!=N,(0,I.P)("Context.init",this,N)}},{key:"initRoot",value:function(){if(this._rvt=sessionStorage.getItem(m.q$),this._rvtHeaderName=sessionStorage.getItem(m.sG),this._zoneId=this.sessionNumber(m.fy),this._tabId=this.sessionNumber(m.np),this._contentBlockId=this.sessionNumber(m.mf),this._moduleId=this.sessionNumber(m.B1),!(this._rvt&&this._zoneId&&this._tabId&&this._contentBlockId&&this._moduleId))throw new Error("Context is missing some of the required parameters");this._appId=this.sessionNumber(m.cF),this.ready=!0,(0,I.P)("Context.initRoot",this)}},{key:"sessionNumber",value:function(N){var $=sessionStorage.getItem(N);if(null!==$){var U=parseInt($,10);return isNaN(U)?null:U}return null}},{key:"routeNum",value:function(N){if(null==this.routeSnapshot)return null;var $=N.substring(m.O4.length),U=this.routeSnapshot.paramMap.get($);if(null!==U){var P=parseInt(U,10);return isNaN(P)?null:P}}},{key:"clearCachedValues",value:function(){this._zoneId=null,this._appId=null,this._rvt=null,this._tabId=null,this._contentBlockId=null,this._moduleId=null}}]),T}();return F.\u0275fac=function(S){return new(S||F)(b.LFG(F,12))},F.\u0275prov=b.Yz7({token:F,factory:F.\u0275fac}),F}()},9735:function(de,W,a){a.d(W,{N:function(){return L}});var L={production:!0}},4420:function(de,W,a){var L=a(318),O=a(7133),m=a(8047),I=a(8069),b=a(2425),j=a(6362),F=a(8784),T=a(2528),S=a(7481),N=a(2493),$=a(7743),U=a(4045),P=a(5811),z=a(7514),Q=a(5738),K=a(9735),Fe=K.N.production?[]:[function ue(R){return function(H,ge){return(0,Q.P)("[STORE] state:",H,"action:",ge),R(H,ge)}}],oe={},be=a(5266),X=a(2977),Te=a(8327),q=[{path:":zoneId/apps",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_menu_mjs"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_content-types_service_ts-proj-6d6e2e"),a.e("default-node_modules_angular_material_fesm2015_expansion_mjs"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_index_ts-node_modules_angular-64fc51"),a.e("default-projects_ng-dialogs_src_app_apps-management_services_zone_service_ts-projects_ng-dial-e31f74"),a.e("default-node_modules_ecodev_fab-speed-dial___ivy_ngcc___fesm2015_ecodev-fab-speed-dial_js"),a.e("projects_ng-dialogs_src_app_apps-management_apps-management_module_ts")]).then(a.bind(a,9574)).then(function(H){return H.AppsManagementModule})},data:{title:"Apps"}},{path:":zoneId/import",loadChildren:function(){return Promise.all([a.e("default-node_modules_angular_material_fesm2015_progress-spinner_mjs"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("common"),a.e("projects_ng-dialogs_src_app_import-app_services_import-app_service_ts-projects_ng-dialogs_src-6cc7d4")]).then(a.bind(a,8938)).then(function(H){return H.ImportAppModule})},data:{title:"Import App"}},{path:":zoneId/:appId/app",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_directives_tippy_directive_ts"),a.e("default-node_modules_angular_material_fesm2015_progress-spinner_mjs"),a.e("default-projects_ng-dialogs_src_app_create-file-dialog_index_ts"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_menu_mjs"),a.e("default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-d43c44"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_content-types_service_ts-proj-6d6e2e"),a.e("default-node_modules_angular_material_fesm2015_expansion_mjs"),a.e("default-projects_ng-dialogs_src_app_permissions_index_ts"),a.e("default-projects_ng-dialogs_src_app_content-type-fields_services_content-types-fields_service-a612fc"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_index_ts-node_modules_angular-64fc51"),a.e("default-projects_ng-dialogs_src_app_dev-rest_index_ts-projects_ng-dialogs_src_app_shared_comp-544902"),a.e("default-projects_ng-dialogs_src_app_app-administration_app-administration_module_ts"),a.e("default-projects_ng-dialogs_src_app_apps-management_services_zone_service_ts-projects_ng-dial-e31f74")]).then(a.bind(a,7642)).then(function(H){return H.AppAdministrationModule})},data:{title:"App"}},{path:":zoneId/:appId/code",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_directives_tippy_directive_ts"),a.e("default-node_modules_angular_material_fesm2015_progress-spinner_mjs"),a.e("default-projects_ng-dialogs_src_app_create-file-dialog_index_ts"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1"),a.e("default-projects_ng-dialogs_src_app_shared_directives_click-stop-propagation_directive_ts-nod-681180"),a.e("common"),a.e("projects_ng-dialogs_src_app_code-editor_code-editor_module_ts-projects_ng-dialogs_src_app_sha-ff0107")]).then(a.bind(a,7180)).then(function(H){return H.CodeEditorModule})},data:{title:"Code Editor"}},{path:":zoneId/:appId/query/:pipelineId",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_directives_tippy_directive_ts"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-d43c44"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_content-types_service_ts-proj-6d6e2e"),a.e("default-projects_ng-dialogs_src_app_permissions_index_ts"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_index_ts-node_modules_angular-64fc51"),a.e("default-projects_ng-dialogs_src_app_dev-rest_index_ts-projects_ng-dialogs_src_app_shared_comp-544902"),a.e("default-projects_ng-dialogs_src_app_shared_directives_click-stop-propagation_directive_ts-nod-681180"),a.e("common"),a.e("projects_ng-dialogs_src_app_visual-query_visual-query_module_ts")]).then(a.bind(a,6150)).then(function(H){return H.VisualQueryModule})},data:{title:"Visual Query"}},{path:":zoneId/:appId/:guid/:part/:index/replace",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_autocomplete_mjs"),a.e("default-projects_ng-dialogs_src_app_manage-content-list_services_content-group_service_ts-pro-46b185"),a.e("projects_ng-dialogs_src_app_replace-content_replace-content_module_ts")]).then(a.bind(a,754)).then(function(H){return H.ReplaceContentModule})},data:{title:"Apps"}},{path:":zoneId/:appId/:guid/:part/:index/reorder",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_cdk_fesm2015_drag-drop_mjs"),a.e("default-projects_ng-dialogs_src_app_manage-content-list_services_content-group_service_ts-pro-46b185"),a.e("projects_ng-dialogs_src_app_manage-content-list_manage-content-list_module_ts")]).then(a.bind(a,6159)).then(function(H){return H.ManageContentListModule})},data:{title:"Reorder Items"}},{path:":zoneId/:appId/items/:contentTypeStaticName",loadChildren:function(){return Promise.all([a.e("default-node_modules_angular_material_fesm2015_progress-spinner_mjs"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_menu_mjs"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_content-types_service_ts-proj-6d6e2e"),a.e("default-projects_ng-dialogs_src_app_content-type-fields_services_content-types-fields_service-a612fc"),a.e("common"),a.e("projects_ng-dialogs_src_app_content-export_services_content-export_service_ts-projects_ng-dia-58abb1")]).then(a.bind(a,4312)).then(function(H){return H.ContentItemsModule})},data:{title:"Items"}},{path:":zoneId/:appId/fields/:contentTypeStaticName",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_menu_mjs"),a.e("default-projects_ng-dialogs_src_app_app-administration_services_content-types_service_ts-proj-6d6e2e"),a.e("default-projects_ng-dialogs_src_app_content-type-fields_services_content-types-fields_service-a612fc"),a.e("common"),a.e("projects_ng-dialogs_src_app_permissions_go-to-permissions_ts")]).then(a.bind(a,3711)).then(function(H){return H.ContentTypeFieldsModule})},data:{title:"Fields"}},{path:":zoneId/:appId/versions/:itemId",loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-node_modules_angular_material_fesm2015_expansion_mjs"),a.e("default-projects_ng-dialogs_src_app_item-history_item-history_module_ts"),a.e("projects_ng-dialogs_src_app_shared_components_dialog-entry_dialog-entry_component_ts-node_mod-8968bd")]).then(a.bind(a,2315)).then(function(H){return H.ItemHistoryModule})}},{matcher:Te.sB,loadChildren:function(){return Promise.all([a.e("default-projects_ng-dialogs_src_app_shared_directives_tippy_directive_ts"),a.e("default-node_modules_angular_material_fesm2015_progress-spinner_mjs"),a.e("default-projects_ng-dialogs_src_app_create-file-dialog_index_ts"),a.e("default-projects_ng-dialogs_src_app_shared_shared-components_module_ts"),a.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),a.e("default-node_modules_angular_material_fesm2015_list_mjs"),a.e("default-node_modules_angular_material_fesm2015_select_mjs"),a.e("default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1"),a.e("default-projects_edit_edit_module_ts"),a.e("default-node_modules_angular_cdk_fesm2015_drag-drop_mjs"),a.e("default-node_modules_angular_material_fesm2015_menu_mjs"),a.e("default-node_modules_angular_material_fesm2015_autocomplete_mjs"),a.e("common"),a.e("projects_ng-dialogs_src_app_content-items_services_entities_service_ts-projects_ng-dialogs_sr-c22b1e")]).then(a.bind(a,8985)).then(function(H){return H.EditModule})},data:{title:"Edit Item"}},{matcher:Te.dQ,loadChildren:function(){return a.e("projects_edit_refresh-edit_module_ts").then(a.bind(a,3804)).then(function(H){return H.RefreshEditModule})}}],pe=function(){var R=(0,m.Z)(function H(){(0,I.Z)(this,H)});return R.\u0275fac=function(ge){return new(ge||R)},R.\u0275mod=O.oAB({type:R}),R.\u0275inj=O.cJS({imports:[[X.Bz.forRoot(q,{relativeLinkResolution:"legacy"})],X.Bz]}),R}(),me=a(2090),Ve=a(4582),Oe=a(7318),fe=a(7714),Ce=a(116),Ze=a(635),ce=a(8254),Le=a(8598),Ne=a(5590),$e=function(){var R=function(H){(0,Ve.Z)(he,H);var ge=(0,Oe.Z)(he);function he(ie,ve,Ee,v,w,Z,d,l){var e;return(0,I.Z)(this,he),(e=ge.call(this,ie,ve.preConfigure({moduleId:parseInt(sessionStorage.getItem(ce.B1),10),contentBlockId:parseInt(sessionStorage.getItem(ce.mf),10)}))).context=Ee,e.titleService=v,e.router=w,e.activatedRoute=Z,e.matIconRegistry=d,e.domSanitizer=l,e.subscription=new fe.w0,e.context.initRoot(),e.loadFonts(),e}return(0,m.Z)(he,[{key:"ngOnInit",value:function(){var ve=this,Ee=this.titleService.getTitle();this.subscription.add(this.router.events.pipe((0,Ce.h)(function(v){return v instanceof X.m2}),(0,Ze.U)(function(){for(var v=ve.activatedRoute.firstChild;v.firstChild;)v=v.firstChild;return v.snapshot.data.title?v.snapshot.data.title:Ee})).subscribe(function(v){ve.titleService.setTitle(v)}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"loadFonts",value:function(){var ve=this;this.matIconRegistry.setDefaultFontSetClass("material-icons-outlined"),Object.entries({circle:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"/></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>',"code-curly":'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M2.98187 13.2188C3.38292 13.2083 3.70844 13.1016 3.95844 12.8984C4.21365 12.6901 4.38292 12.4062 4.46625 12.0469C4.54958 11.6875 4.59385 11.0729 4.59906 10.2031C4.60427 9.33333 4.6199 8.76042 4.64594 8.48438C4.69281 8.04688 4.77875 7.69531 4.90375 7.42969C5.03396 7.16406 5.19281 6.95312 5.38031 6.79688C5.56781 6.63542 5.8074 6.51302 6.09906 6.42969C6.29698 6.3776 6.6199 6.35156 7.06781 6.35156H7.50531V7.57812H7.26312C6.72146 7.57812 6.36208 7.67708 6.185 7.875C6.00792 8.06771 5.91937 8.5026 5.91937 9.17969C5.91937 10.5443 5.89073 11.4062 5.83344 11.7656C5.73969 12.3229 5.57823 12.7526 5.34906 13.0547C5.1251 13.3568 4.77094 13.625 4.28656 13.8594C4.85948 14.099 5.27354 14.4661 5.52875 14.9609C5.78917 15.4505 5.91937 16.2552 5.91937 17.375C5.91937 18.3906 5.92979 18.9948 5.95062 19.1875C5.99229 19.5417 6.09646 19.7891 6.26312 19.9297C6.435 20.0703 6.76833 20.1406 7.26312 20.1406H7.50531V21.3672H7.06781C6.5574 21.3672 6.1876 21.3255 5.95844 21.2422C5.6251 21.1224 5.34906 20.9271 5.13031 20.6562C4.91156 20.3906 4.76833 20.0521 4.70062 19.6406C4.63812 19.2292 4.60427 18.5547 4.59906 17.6172C4.59385 16.6797 4.54958 16.0312 4.46625 15.6719C4.38292 15.3125 4.21365 15.0286 3.95844 14.8203C3.70844 14.612 3.38292 14.5026 2.98187 14.4922V13.2188ZM8.05344 18V16.3984H9.655V18H8.05344ZM11.2266 18V16.3984H12.8281V18H11.2266ZM14.3997 18V16.3984H16.0012V18H14.3997ZM21.0103 13.2188V14.4922C20.6093 14.5026 20.2811 14.612 20.0259 14.8203C19.7759 15.0286 19.6093 15.3125 19.5259 15.6719C19.4426 16.026 19.3983 16.638 19.3931 17.5078C19.3879 18.3776 19.3723 18.9505 19.3462 19.2266C19.2994 19.6693 19.2108 20.0208 19.0806 20.2812C18.9556 20.5469 18.7994 20.7578 18.6119 20.9141C18.4244 21.0755 18.1848 21.1979 17.8931 21.2812C17.6952 21.3385 17.3723 21.3672 16.9244 21.3672H16.4869V20.1406H16.7291C17.2707 20.1406 17.6301 20.0417 17.8072 19.8438C17.9843 19.651 18.0728 19.2135 18.0728 18.5312C18.0728 17.2292 18.0962 16.4036 18.1431 16.0547C18.2265 15.4766 18.3931 15.0156 18.6431 14.6719C18.8931 14.3229 19.2473 14.0521 19.7056 13.8594C19.1067 13.5729 18.6848 13.1953 18.44 12.7266C18.1952 12.2526 18.0728 11.4557 18.0728 10.3359C18.0728 9.32031 18.0598 8.71354 18.0337 8.51562C17.9973 8.16667 17.8931 7.92448 17.7212 7.78906C17.5546 7.64844 17.2239 7.57812 16.7291 7.57812H16.4869V6.35156H16.9244C17.4348 6.35156 17.8046 6.39323 18.0337 6.47656C18.3671 6.59115 18.6431 6.78385 18.8619 7.05469C19.0806 7.32552 19.2212 7.66667 19.2837 8.07812C19.3515 8.48958 19.3879 9.16406 19.3931 10.1016C19.3983 11.0391 19.4426 11.6875 19.5259 12.0469C19.6093 12.401 19.7759 12.6823 20.0259 12.8906C20.2811 13.099 20.6093 13.2083 21.0103 13.2188Z"/>\r\n</svg>\r\n'}).forEach(function(v){var w=(0,me.Z)(v,2);ve.matIconRegistry.addSvgIconLiteral(w[0],ve.domSanitizer.bypassSecurityTrustHtml(w[1]))})}}]),he}(b.s8);return R.\u0275fac=function(ge){return new(ge||R)(O.Y36(O.SBq),O.Y36(b._y),O.Y36(Le._),O.Y36(L.Dx),O.Y36(X.F0),O.Y36(X.gz),O.Y36(Ne.jv),O.Y36(L.H7))},R.\u0275cmp=O.Xpm({type:R,selectors:[["app-root"]],features:[O.qOj],decls:1,vars:0,template:function(ge,he){1&ge&&O._UZ(0,"router-outlet")},directives:[X.lC],styles:[""],changeDetection:0}),R}(),_e=a(5106),Re=a(5294),Se=a(4772),Pe=a(5137);function ze(R){return function(){console.log("Setting parameters config and clearing route");var H=Object.keys(sessionStorage).filter(function(G){return G.startsWith(ce.O4)});if(window.location.hash.startsWith("#/")){if(0===H.length)throw alert("Missing required url parameters. Please reopen dialog."),new Error("Missing required url parameters. Please reopen dialog.");console.log("Initial route:",sessionStorage.getItem(ce.a3))}else{console.log("Initial route:",window.location.href);var ie,he=(0,_e.Z)(H);try{for(he.s();!(ie=he.n()).done;)sessionStorage.removeItem(ie.value)}catch(G){he.e(G)}finally{he.f()}sessionStorage.setItem(ce.a3,window.location.href),sessionStorage.setItem(ce.Hp,Se.f.Edit);for(var Ee=window.location.hash.substring(1),v=Re.i.readQueryStringParameters(Ee),w=0,Z=Object.entries(v);w<Z.length;w++){var d=(0,me.Z)(Z[w],2),e=d[1];null!=e&&sessionStorage.setItem(ce.O4+d[0],e)}var t=R.get(X.F0),n=sessionStorage.getItem(ce.fy),i=sessionStorage.getItem(ce.cF),u=sessionStorage.getItem(ce.Hp),f=sessionStorage.getItem(ce.Zt),y=sessionStorage.getItem(ce.kF);switch(u){case Se.f.Zone:var C=JSON.parse(sessionStorage.getItem(ce.n1));t.navigate(["".concat(n,"/apps").concat((null==C?void 0:C.tab)?"/".concat(C.tab):"")]);break;case Se.f.AppImport:t.navigate(["".concat(n,"/import")]);break;case Se.f.App:var _=JSON.parse(sessionStorage.getItem(ce.n1));t.navigate(["".concat(n,"/").concat(i,"/app").concat((null==_?void 0:_.tab)?"/".concat(_.tab):"").concat((null==_?void 0:_.scope)?"/".concat(_.scope):"")]);break;case Se.f.ContentType:t.navigate(["".concat(n,"/").concat(i,"/fields/").concat(f)]);break;case Se.f.ContentItems:t.navigate(["".concat(n,"/").concat(i,"/items/").concat(f)]);break;case Se.f.Edit:var A=JSON.parse(y),B=(0,Pe.f)({items:A});t.navigate(["".concat(n,"/").concat(i,"/edit/").concat(B)]);break;case Se.f.ItemHistory:var E=JSON.parse(y);t.navigate(["".concat(n,"/").concat(i,"/versions/").concat(E[0].EntityId)]);break;case Se.f.Develop:t.navigate(["".concat(n,"/").concat(i,"/code")]);break;case Se.f.PipelineDesigner:var V=sessionStorage.getItem(ce._8);t.navigate(["".concat(n,"/").concat(i,"/query/").concat(V)]);break;case Se.f.Replace:var p=JSON.parse(y),r=p[0].Group.Guid,o=p[0].Group.Part,s=p[0].Group.Index,h=p[0].Group.Add?{add:!0}:{};t.navigate(["".concat(n,"/").concat(i,"/").concat(r,"/").concat(o,"/").concat(s,"/replace")],{queryParams:h});break;case Se.f.InstanceList:var D=JSON.parse(y),x=D[0].Group.Guid,M=D[0].Group.Part,k=D[0].Group.Index;t.navigate(["".concat(n,"/").concat(i,"/").concat(x,"/").concat(M,"/").concat(k,"/reorder")]);break;default:alert('Cannot open unknown dialog "'.concat(u,'"'));try{window.parent.$2sxc.totalPopup.close()}catch(G){}}}!function He(){var R={page:parseInt(sessionStorage.getItem(ce.np),10),rvt:sessionStorage.getItem(ce.q$),rvtHeader:sessionStorage.getItem(ce.sG),api:sessionStorage.getItem(ce.Dz)};window.$2sxc.env.load(R)}()}}var De=a(5474),Ue=a(3158),we=function(){var R=function(){function H(){(0,I.Z)(this,H),this.excludedUrls=["dist/ng-edit/i18n"]}return(0,m.Z)(H,[{key:"intercept",value:function(he,ie){var ve=this;return ie.handle(he).pipe((0,Ue.K)(function(Ee){return ve.checkIfExcluded(Ee.url)||ve.showDetailedHttpError(Ee),(0,De._)(Ee)}))}},{key:"checkIfExcluded",value:function(he){var ve,ie=(0,_e.Z)(this.excludedUrls);try{for(ie.s();!(ve=ie.n()).done;)if(he.includes(ve.value))return!0}catch(v){ie.e(v)}finally{ie.f()}return!1}},{key:"showDetailedHttpError",value:function(he){var ie="Had an error talking to the server (status "+he.status+").",ve=he.error;if(ve){var Ee=ve.Message;Ee&&(ie+="\nMessage: "+Ee);var v=ve.MessageDetail||ve.ExceptionMessage;v&&(ie+="\nDetail: "+v),v&&0===v.indexOf("No action was found")&&(v.indexOf("that matches the name")>0?ie+="\n\nTip from 2sxc: you probably got the action-name wrong in your JS.":v.indexOf("that matches the request.")>0&&(ie+="\n\nTip from 2sxc: Seems like the parameters are the wrong amount or type.")),Ee&&0===Ee.indexOf("Controller")&&Ee.indexOf("not found")>0&&(ie+="\n\nTip from 2sxc: you probably spelled the controller name wrong or forgot to remove the word 'controller' from the call in JS. To call a controller called 'DemoController' only use 'Demo'."),ie+="\n\nif you are an advanced user you can learn more about what went wrong - discover how on 2sxc.org/help?tag=debug"}alert(ie)}}]),H}();return R.\u0275fac=function(ge){return new(ge||R)},R.\u0275prov=O.Yz7({token:R,factory:R.\u0275fac}),R}(),Be=function(){var R=function(){function H(){(0,I.Z)(this,H)}return(0,m.Z)(H,[{key:"intercept",value:function(he,ie){var ve;return he.body instanceof FormData?ie.handle(he):(ve=he.clone({setHeaders:{"Content-Type":"application/json;charset=UTF-8"}}),ie.handle(ve))}}]),H}();return R.\u0275fac=function(ge){return new(ge||R)},R.\u0275prov=O.Yz7({token:R,factory:R.\u0275fac}),R}(),Ye=function(){var R=(0,m.Z)(function H(){(0,I.Z)(this,H)});return R.\u0275fac=function(ge){return new(ge||R)},R.\u0275mod=O.oAB({type:R,bootstrap:[$e]}),R.\u0275inj=O.cJS({providers:[{provide:O.ip1,useFactory:ze,deps:[O.zs3],multi:!0},{provide:j.S$,useClass:j.Do},b.dg,{provide:F.TP,useClass:Be,multi:!0},{provide:F.TP,useClass:we,multi:!0},Le._,L.Dx],imports:[[pe,L.b2,F.JF,S.PW,U.Aw.forRoot(oe,{metaReducers:Fe,runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}),$.sQ.forRoot([]),P.FT.instrument({maxAge:25}),N.ov.forRoot(be.H5),z.aw.forRoot(),T.ZX]]}),R}();K.N.production&&(0,O.G48)(),L.q6().bootstrapModule(Ye).catch(function(R){return console.error(R)})}},function(de){de.O(0,["vendor"],function(){return de(de.s=4420)}),de.O()}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/main.260fa95e988bf200.js.map
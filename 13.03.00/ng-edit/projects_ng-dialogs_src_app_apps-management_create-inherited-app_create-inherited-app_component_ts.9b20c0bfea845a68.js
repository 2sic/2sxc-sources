"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts"],{5154:function(D,g,i){i.r(g),i.d(g,{CreateInheritedAppComponent:function(){return b}});var A=i(8069),E=i(8047),n=i(587),p=i(6317),f=i(4628),e=i(7133),C=i(5758),O=i(2528),d=i(6362),I=i(2977),v=i(4770),P=i(1434),M=i(7317),r=i(1130),l=i(3135);function c(a,_){if(1&a&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&a){var o=_.$implicit;e.Q6J("value",o.Id),e.xp6(1),e.hij(" ",o.Name," ")}}function u(a,_){1&a&&(e.TgZ(0,"app-field-hint",13),e._uU(1," Required "),e.qZA()),2&a&&e.Q6J("isError",!0)}function T(a,_){if(1&a){var o=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._uU(3,"Create inherited App"),e.qZA(),e.qZA(),e._UZ(4,"router-outlet"),e.TgZ(5,"p",3),e._uU(6," Create an App which inherits everything (data, views, queries) from a global App. Only Apps which were specifically marked for this will be listed here, and these apps must already have been loaded into Cache. If you don't see the App you expect, make sure that has happened. "),e.qZA(),e.TgZ(7,"form",4),e.TgZ(8,"mat-form-field",5),e.TgZ(9,"mat-label"),e._uU(10,"Inherit App"),e.qZA(),e.TgZ(11,"mat-select",6),e.YNc(12,c,2,2,"mat-option",7),e.qZA(),e.qZA(),e.YNc(13,u,2,1,"app-field-hint",8),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().closeDialog()}),e._uU(16," Cancel "),e.qZA(),e.TgZ(17,"button",11),e.NdJ("click",function(){return e.CHM(o),e.oxw().create()}),e._uU(18," Create "),e.qZA(),e.qZA(),e.BQk()}if(2&a){var t=_.ngIf,s=e.oxw();e.xp6(7),e.Q6J("formGroup",s.form),e.xp6(4),e.Q6J("placeholder",void 0===t.inheritableApps?"Loading...":null===t.inheritableApps||0===t.inheritableApps.length?"No inheritable apps found":""),e.xp6(1),e.Q6J("ngForOf",t.inheritableApps),e.xp6(1),e.Q6J("ngIf",s.form.controls.inheritId.touched&&(null==s.form.controls.inheritId.errors?null:s.form.controls.inheritId.errors.required)),e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(2),e.Q6J("disabled",t.loading||!s.form.valid)}}var x=function(_,o){return{loading:_,inheritableApps:o}},b=function(){var a=function(){function _(o,t,s){(0,A.Z)(this,_),this.dialogRef=o,this.appsListService=t,this.snackBar=s,this.hostClass="dialog-component",this.form=this.buildForm(),this.loading$=new p.X(!1),this.inheritableApps$=new p.X(void 0)}return(0,E.Z)(_,[{key:"ngOnInit",value:function(){this.fetchInheritedApps()}},{key:"ngOnDestroy",value:function(){this.loading$.complete(),this.inheritableApps$.complete()}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"create",value:function(){var t=this;this.form.disable(),this.loading$.next(!0);var s=this.form.controls.inheritId.value,m=this.inheritableApps$.value.find(function(h){return h.Id===s}).Name;this.snackBar.open("Creating inherited app..."),this.appsListService.create(m,s).subscribe({error:function(){t.form.enable(),t.loading$.next(!1),t.snackBar.open("Failed to create inherited app. Please check console for more information",void 0,{duration:3e3})},next:function(){t.form.enable(),t.snackBar.open("Created inherited app",void 0,{duration:2e3}),t.closeDialog()}})}},{key:"fetchInheritedApps",value:function(){var t=this;this.appsListService.getInheritable().subscribe({error:function(){t.inheritableApps$.next(null)},next:function(m){t.inheritableApps$.next(m)}})}},{key:"buildForm",value:function(){return new n.cw({inheritId:new n.NI(null,[n.kI.required])})}}]),_}();return a.\u0275fac=function(o){return new(o||a)(e.Y36(C.so),e.Y36(f.A),e.Y36(O.ux))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-create-inherited-app"]],hostVars:1,hostBindings:function(o,t){2&o&&e.Ikx("className",t.hostClass)},decls:3,vars:8,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],[3,"formGroup"],["appearance","standard","color","accent"],["formControlName","inheritId",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"isError",4,"ngIf"],[1,"dialog-component-actions"],["type","button","mat-raised-button","",3,"disabled","click"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[3,"value"],[3,"isError"]],template:function(o,t){1&o&&(e.YNc(0,T,19,6,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async")),2&o&&e.Q6J("ngIf",e.WLB(5,x,e.lcZ(1,1,t.loading$),e.lcZ(2,3,t.inheritableApps$)))},directives:[d.O5,C.uh,I.lC,n._Y,n.JL,n.sg,v.KE,v.hX,P.gD,n.JJ,n.u,d.sg,M.lW,r.ey,l.Y],pipes:[d.Ov],styles:[""]}),a}()},3135:function(D,g,i){i.d(g,{Y:function(){return M}});var A=i(8069),E=i(8047),n=i(7133),p=i(6362),f=i(4770);function e(r,l){1&r&&n.GkF(0)}function C(r,l){if(1&r&&(n.TgZ(0,"mat-hint"),n.YNc(1,e,1,0,"ng-container",3),n.qZA()),2&r){n.oxw();var c=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",c)}}function O(r,l){1&r&&n.GkF(0)}function d(r,l){if(1&r&&(n.TgZ(0,"mat-error"),n.YNc(1,O,1,0,"ng-container",3),n.qZA()),2&r){n.oxw();var c=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",c)}}function I(r,l){1&r&&n.Hsn(0)}var v=function(l){return{"hint-box__short":l}},P=["*"],M=function(){var r=function(){function l(){(0,A.Z)(this,l),this.isError=!1,this.isShort=!0}return(0,E.Z)(l,[{key:"toggleIsShort",value:function(){this.isShort=!this.isShort}}]),l}();return r.\u0275fac=function(c){return new(c||r)},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:P,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(c,u){1&c&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return u.toggleIsShort()}),n.YNc(1,C,2,1,"mat-hint",1),n.YNc(2,d,2,1,"mat-error",1),n.qZA(),n.YNc(3,I,1,0,"ng-template",null,2,n.W1O)),2&c&&(n.Q6J("ngClass",n.VKq(4,v,u.isShort))("ngSwitch",u.isError),n.xp6(1),n.Q6J("ngSwitchCase",!1),n.xp6(1),n.Q6J("ngSwitchCase",!0))},directives:[p.mk,p.RF,p.n9,f.bx,p.tP,f.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),r}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/projects_ng-dialogs_src_app_apps-management_create-inherited-app_create-inherited-app_component_ts.9b20c0bfea845a68.js.map
"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_content-export_services_content-export_service_ts-projects_ng-dia-6de861"],{5005:function(S,I,i){i.d(I,{_:function(){return d},s:function(){return y}});var P=i(5106),T=i(8069),C=i(8047),D=i(635),g=i(8598),f=i(7133),x=i(8784),b=i(2425),d="admin/type/",y=function(){var h=function(){function c(s,_,p){(0,T.Z)(this,c),this.http=s,this.context=_,this.dnnContext=p}return(0,C.Z)(c,[{key:"apiUrl",value:function(_){return this.dnnContext.$2sxc.http.apiUrl(_)}},{key:"retrieveContentType",value:function(_){return this.http.get(this.apiUrl(d+"get"),{params:{appId:this.context.appId.toString(),contentTypeId:_}})}},{key:"retrieveContentTypes",value:function(_){return this.http.get(this.apiUrl(d+"list"),{params:{appId:this.context.appId.toString(),scope:_}})}},{key:"getScopes",value:function(){return this.http.get(this.apiUrl(d+"scopes"),{params:{appId:this.context.appId.toString()}}).pipe((0,D.U)(function(_){return Object.keys(_).map(function(v){return{name:_[v],value:v}})}))}},{key:"save",value:function(_){return this.http.post(this.apiUrl(d+"save"),_,{params:{appid:this.context.appId.toString()}})}},{key:"delete",value:function(_){return this.http.delete(this.apiUrl(d+"delete"),{params:{appid:this.context.appId.toString(),staticName:_.StaticName}})}},{key:"import",value:function(_){var E,p=new FormData,v=(0,P.Z)(_);try{for(v.s();!(E=v.n()).done;)p.append("File",E.value)}catch(w){v.e(w)}finally{v.f()}return this.http.post(this.apiUrl(d+"import"),p,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}},{key:"createGhost",value:function(_){return this.http.post(this.apiUrl(d+"addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:_}})}}]),c}();return h.\u0275fac=function(s){return new(s||h)(f.LFG(x.eN),f.LFG(g._),f.LFG(b._y))},h.\u0275prov=f.Yz7({token:h,factory:h.\u0275fac}),h}()},6488:function(S,I,i){i.d(I,{i:function(){return b}});var P=i(8069),T=i(8047),C=i(7368),D=i(5005),g=i(8598),f=i(7133),x=i(2425),b=function(){var d=function(){function y(h,c){(0,P.Z)(this,y),this.context=h,this.dnnContext=c}return(0,T.Z)(y,[{key:"exportContent",value:function(c,s){var _=s?"&selectedids="+s.join():"",p=this.dnnContext.$2sxc.http.apiUrl(C.Uo+"Download")+"?appId="+this.context.appId+"&language="+c.language+"&defaultLanguage="+c.defaultLanguage+"&contentType="+c.contentTypeStaticName+"&recordExport="+c.recordExport+"&resourcesReferences="+c.resourcesReferences+"&languageReferences="+c.languageReferences+_;window.open(p,"_blank","")}},{key:"exportJson",value:function(c){var s=this.dnnContext.$2sxc.http.apiUrl(D._+"Json")+"?appId="+this.context.appId+"&name="+c;window.open(s,"_blank","")}},{key:"exportEntity",value:function(c,s,_){var p=this.dnnContext.$2sxc.http.apiUrl(C.Uo+"Json")+"?appId="+this.context.appId+"&id="+c+"&prefix="+s+"&withMetadata="+_;window.open(p,"_blank","")}}]),y}();return d.\u0275fac=function(h){return new(h||d)(f.LFG(g._),f.LFG(x._y))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d}()},803:function(S,I,i){i.d(I,{l:function(){return c}});var P=i(8069),T=i(8047),C=i(7400),D=i(9525),g=i(7368),f=i(4722),x=i(7396),b=i(8598),d=i(7133),y=i(8784),h=i(2425),c=function(){var s=function(){function _(p,v,E){(0,P.Z)(this,_),this.http=p,this.context=v,this.dnnContext=E}return(0,T.Z)(_,[{key:"getAll",value:function(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(g.PS),{params:{appId:this.context.appId.toString(),contentType:v}})}},{key:"getColumns",value:function(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(f.jt),{params:{appId:this.context.appId.toString(),staticName:v}})}},{key:"importItem",value:function(v){var E=this;return(0,C.D)((0,x.s)(v)).pipe((0,D.z)(function(R){return E.http.post(E.dnnContext.$2sxc.http.apiUrl(g.Uo+"upload"),{AppId:E.context.appId.toString(),ContentBase64:R})}))}}]),_}();return s.\u0275fac=function(p){return new(p||s)(d.LFG(y.eN),d.LFG(b._),d.LFG(h._y))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac}),s}()},8130:function(S,I,i){i.d(I,{g:function(){return b}});var P=i(8069),T=i(8047),C=i(7368),D=i(8598),g=i(7133),f=i(8784),x=i(2425),b=function(){var d=function(){function y(h,c,s){(0,P.Z)(this,y),this.http=h,this.context=c,this.dnnContext=s}return(0,T.Z)(y,[{key:"create",value:function(c,s){return this.http.post("app/auto/data/".concat(c),s,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}},{key:"update",value:function(c,s,_){return this.http.post("app/auto/data/".concat(c,"/").concat(s),_,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}},{key:"delete",value:function(c,s,_){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(C.Uo+"delete"),{params:{contentType:c,id:s.toString(),appId:this.context.appId.toString(),force:_.toString()}})}}]),y}();return d.\u0275fac=function(h){return new(h||d)(g.LFG(f.eN),g.LFG(D._),g.LFG(x._y))},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac}),d}()},5487:function(S,I,i){i.d(I,{r:function(){return d}});var P=i(6170),T=i(8069),C=i(8047),D=i(5738),g=i(8598),f=i(7133),x=i(5758),b=i(2977),d=function(){var y=function(){function h(c,s,_,p,v,E){var R;(0,T.Z)(this,h),this.dialog=c,this.viewContainerRef=s,this.router=_,this.route=p,this.context=v,this.changeDetectorRef=E;var w=this.router.getCurrentNavigation();this.dialogData=(null===(R=null==w?void 0:w.extras)||void 0===R?void 0:R.state)||{}}return(0,C.Z)(h,[{key:"ngOnInit",value:function(){var s=this,_=this.route.snapshot.data.dialog;if(null==_)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,D.P)("Open dialog:",_.name,"Context id:",this.context.id,"Context:",this.context),_.getComponent().then(function(p){s.dialog._dialogAnimatingOpen&&s.dialog._lastDialogRef?s.dialog._lastDialogRef.afterOpened().subscribe(function(){s.openDialogComponent(_,p)}):s.openDialogComponent(_,p)})}},{key:"ngOnDestroy",value:function(){this.dialogRef.close()}},{key:"openDialogComponent",value:function(s,_){var p=this;s.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(_,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel","dialog-panel-".concat(s.panelSize),s.showScrollbar?"show-scrollbar":"no-scrollbar"].concat((0,P.Z)(s.panelClass?s.panelClass:[])),position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(function(v){(0,D.P)("Dialog was closed:",s.name,"Data:",v);var E=v;if(null==(null==E?void 0:E.navigateUrl))if(p.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch(R){}else p.router.navigate(["./"],p.route.snapshot.url.length>0?{relativeTo:p.route.parent,state:v}:{relativeTo:p.route.parent.parent,state:v});else p.router.navigate([E.navigateUrl])}),this.changeDetectorRef.markForCheck()}}]),h}();return y.\u0275fac=function(c){return new(c||y)(f.Y36(x.uw),f.Y36(f.s_b),f.Y36(b.F0),f.Y36(b.gz),f.Y36(g._),f.Y36(f.sBO))},y.\u0275cmp=f.Xpm({type:y,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(c,s){},styles:[""]}),y}()},7396:function(S,I,i){function P(C){return new Promise(function(D,g){var f=new FileReader;f.readAsDataURL(C),f.onload=function(){D(f.result.split(",")[1])},f.onerror=function(x){g(x)}})}function T(C){return new Promise(function(D,g){var f=new FileReader;f.readAsText(C),f.onload=function(){D(f.result)},f.onerror=function(x){g(x)}})}i.d(I,{s:function(){return P},B:function(){return T}})},4929:function(S,I,i){function g(t,e,n,r){var l,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var m=t.length-1;m>=0;m--)(l=t[m])&&(o=(a<3?l(o):a>3?l(e,n,o):l(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function x(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function b(t,e,n,r){return new(n||(n=Promise))(function(o,l){function m(M){try{u(r.next(M))}catch(j){l(j)}}function U(M){try{u(r.throw(M))}catch(j){l(j)}}function u(M){M.done?o(M.value):function a(o){return o instanceof n?o:new n(function(l){l(o)})}(M.value).then(m,U)}u((r=r.apply(t,e||[])).next())})}i.d(I,{gn:function(){return g},w6:function(){return x},mG:function(){return b}})}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/projects_ng-dialogs_src_app_content-export_services_content-export_service_ts-projects_ng-dia-6de861.7ea021f3407a4af6.js.map
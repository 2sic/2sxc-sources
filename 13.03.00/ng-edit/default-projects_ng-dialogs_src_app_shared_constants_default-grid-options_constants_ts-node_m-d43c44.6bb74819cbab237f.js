"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-d43c44"],{9119:function(j,M,A){A.d(M,{f:function(){return u}});var u={accentedSort:!0,animateRows:!0,enableCellTextSelection:!0,headerHeight:32,suppressScrollOnNewData:!0,valueCache:!0,defaultColDef:{filterParams:{newRowsAction:"keep"}},tooltipShowDelay:0,suppressMovableColumns:!0}},1276:function(j,M,A){A.d(M,{F$:function(){return Se}});var s,u=A(9e3),k=function(){for(var s=0,t=0,e=arguments.length;t<e;t++)s+=arguments[t].length;var r=Array(s),o=0;for(t=0;t<e;t++)for(var n=arguments[t],i=0,a=n.length;i<a;i++,o++)r[o]=n[i];return r},V=function(){function s(t,e,r,o,n,i,a,p){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.context=r,this.eventService=o,this.columnController=n,this.gridApi=i,this.columnApi=a,this.selectionController=p,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=s.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return s.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},s.prototype.getCopyOfNodesMap=function(){return u._.cloneObject(this.allNodesMap)},s.prototype.getRowNode=function(t){return this.allNodesMap[t]},s.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(t,this.rootNode,s.TOP_LEVEL)},s.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,r,o),this.executeUpdate(t,r,o),this.executeAdd(t,r),this.updateSelection(o),e&&u._.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},s.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(o){o.setSelected(!1,!1,!0)}),this.selectionController.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:u.zW.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},s.prototype.executeAdd=function(t,e){var r=this,o=t.add,n=t.addIndex;if(!u._.missingOrEmpty(o)){var i=o.map(function(d){return r.createNode(d,r.rootNode,s.TOP_LEVEL)});if("number"==typeof n&&n>=0){var p=this.rootNode.allLeafChildren,l=p.slice(0,n),c=p.slice(n,p.length);this.rootNode.allLeafChildren=k(l,i,c)}else this.rootNode.allLeafChildren=k(this.rootNode.allLeafChildren,i);e.add=i}},s.prototype.executeRemove=function(t,e,r){var o=this,n=t.remove;if(!u._.missingOrEmpty(n)){var i={};n.forEach(function(a){var p=o.lookupRowNode(a);!p||(p.isSelected()&&r.push(p),p.clearRowTopAndRowIndex(),i[p.id]=!0,delete o.allNodesMap[p.id],e.remove.push(p))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!i[a.id]})}},s.prototype.executeUpdate=function(t,e,r){var o=this,n=t.update;u._.missingOrEmpty(n)||n.forEach(function(i){var a=o.lookupRowNode(i);!a||(a.updateData(i),!a.selectable&&a.isSelected()&&r.push(a),o.setMasterForRow(a,i,s.TOP_LEVEL,!1),e.update.push(a))})},s.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsWrapper.getRowNodeIdFunc();if(u._.exists(e)){var o=e(t);if(!(r=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(r=u._.find(this.rootNode.allLeafChildren,function(n){return n.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),null;return r},s.prototype.recursiveFunction=function(t,e,r){var o=this;if("string"!=typeof t){var n=[];return t.forEach(function(i){var a=o.createNode(i,e,r);n.push(a)}),n}console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},s.prototype.createNode=function(t,e,r){var o=new u.Fx;return this.context.createBean(o),o.group=!1,this.setMasterForRow(o,t,r,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=r,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("ag-grid: duplicate node id '"+o.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},s.prototype.setMasterForRow=function(t,e,r,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),o){var n=this.columnController.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(n?n.length:0))}},s.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},s.TOP_LEVEL=0,s.ROOT_NODE_ID="ROOT_NODE_ID",s}(),U=(s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},y=function(){return function(s){s[s.Normal=0]="Normal",s[s.AfterFilter=1]="AfterFilter",s[s.AfterFilterAndSort=2]="AfterFilterAndSort",s[s.PivotNodes=3]="PivotNodes"}(y||(y={})),y}(),z=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e.onRowGroupOpenedPending=!1,e}return U(t,s),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:u.MO.EVERYTHING}),r=this.refreshModel.bind(this,{step:u.MO.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,u.zW.EVENT_NEW_COLUMNS_LOADED,r),this.addManagedListener(this.eventService,u.zW.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,u.zW.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:u.MO.PIVOT})),this.addManagedListener(this.eventService,u.zW.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:u.MO.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,u.wf.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,u.wf.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new u.Fx,this.nodeManager=new V(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,o,n){var i,a=!1;do{i=!1;for(var p=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(r),c=Math.max(p,o),d=Math.min(l,n),f=c;f<=d;f++){var h=this.getRow(f);if(h.rowHeightEstimated){var v=this.gridOptionsWrapper.getRowHeightForNode(h);h.setRowHeight(v.height),i=!0,a=!0}}i&&this.setRowTops()}while(i);return a},t.prototype.setRowTops=function(){for(var e=0,r=0;r<this.rowsToDisplay.length;r++){var o=this.gridOptionsWrapper.getDomLayout()===u.gT.DOM_LAYOUT_NORMAL,n=this.rowsToDisplay[r];if(u._.missing(n.rowHeight)){var i=this.gridOptionsWrapper.getRowHeightForNode(n,o);n.setRowHeight(i.height,i.estimated)}n.setRowTop(e),n.setRowIndex(r),e+=n.rowHeight}},t.prototype.resetRowTops=function(e){var r={};this.rowsToDisplay.forEach(function(i){null!=i.id&&(r[i.id]=i)});var o=function(a){a&&null!=a.id&&null==r[a.id]&&a.clearRowTopAndRowIndex()};!function i(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var p=-1==a.level;e.isActive()&&!p&&!a.expanded||a.childrenAfterGroup.forEach(i)}}(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,o){var n=this;void 0===o&&(o=0);var i=this.getRowIndexAtPixel(r);return this.getRow(i)!==e[0]&&(e.forEach(function(p){u._.removeFromArray(n.rootNode.allLeafChildren,p)}),e.forEach(function(p,l){u._.insertIntoArray(n.rootNode.allLeafChildren,p,Math.max(i+o,0)+l)}),this.refreshModel({step:u.MO.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var o=null!=r?this.getRowIndexAtPixel(r):null,n=null!=o?this.getRow(o):null;if(n&&e&&n!==e&&null!=r){var i=this.getHighlightPosition(r,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var o=this.getRowIndexAtPixel(e);if(!(r=this.getRow(o||0)))return"below"}return e-r.rowTop<r.rowHeight/2?"above":"below"},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var o=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex},t.prototype.getRowBounds=function(e){if(u._.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this;if(!this.onRowGroupOpenedPending){this.onRowGroupOpenedPending=!0;var r=function(){e.onRowGroupOpenedPending=!1;var n=e.gridOptionsWrapper.isAnimateRows();e.refreshModel({step:u.MO.MAP,keepRenderedRows:!0,animate:n})};this.gridOptionsWrapper.isSuppressAnimationFrame()?r():this.animationFrameService.addDestroyTask(r)}},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:u.MO.FILTER,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:u.MO.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return u.gT.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:u.MO.PIVOT}):this.refreshModel({step:u.MO.AGGREGATE})},t.prototype.createChangePath=function(e){var r=u._.missingOrEmpty(e),o=new u.Dk(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var r=u._.filter(e.rowNodeTransactions,function(n){return null!=n.add&&n.add.length>0||null!=n.remove&&n.remove.length>0});return null==r||0==r.length},t.prototype.refreshModel=function(e){var r=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case u.MO.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,!!e.afterColumnsChanged);case u.MO.FILTER:this.doFilter(o);case u.MO.PIVOT:this.doPivot(o);case u.MO.AGGREGATE:this.doAggregate(o);case u.MO.SORT:this.doSort(e.rowNodeTransactions,o);case u.MO.MAP:this.doRowsToDisplay()}this.setRowTops(),this.resetRowTops(o),this.eventService.dispatchEvent({type:u.zW.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){r.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=u._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return u._.missing(this.rootNode)||e||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return u._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i,o=!r,n=!1,a=[],p=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(l){var c=o&&!n;if(o||(l===r||l===e)&&(o=!0),!l.group||!p){var f=o&&!n,h=l.isParentOfNode(i);(f||h)&&a.push(l)}c&&(l===r||l===e)&&(n=!0,i=l===r?r:e)}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var r=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(u._.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var i=Math.floor((r+o)/2),a=this.rowsToDisplay[i];if(this.isRowInPixel(a,e))return i;a.rowTop<e?r=i+1:a.rowTop>e&&(o=i-1)}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,o){return e(r,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,y.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,y.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,y.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,y.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,o,n){if(!e)return n;for(var i=0;i<e.length;i++){var a=e[i];if(r(a,n++),a.hasChildren()){var p=null;switch(o){case y.Normal:p=a.childrenAfterGroup;break;case y.AfterFilter:p=a.childrenAfterFilter;break;case y.AfterFilterAndSort:p=a.childrenAfterSort;break;case y.PivotNodes:p=a.leafGroup?null:a.childrenAfterSort}p&&(n=this.recursivelyWalkNodesAndCallback(p,r,o,n))}}return n},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(a){!a||a.forEach(function(p){(r?u._.exists(p.childrenAfterGroup):p.group)&&(p.expanded=e,o(p.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:u.MO.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:u.zW.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,o,n,i){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:o,changedPath:n}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(n)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||u._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){"boolean"==typeof e[o]&&(r.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return u._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){return e[o]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(u.Fx.ID_PREFIX_ROW_GROUP)){var o=null;return this.forEachNode(function(n){n.id===e&&(o=n)}),o}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:u.zW.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:u.MO.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],o=[],n=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var p=e.nodeManager.updateRowData(a.rowDataTransaction,void 0);o.push(p),a.callback&&r.push(a.callback.bind(null,p)),"number"==typeof a.rowDataTransaction.addIndex&&(n=!0)}),this.commonUpdateRowData(o,void 0,n),r.length>0&&window.setTimeout(function(){r.forEach(function(a){return a()})},0),o.length>0){var i={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:u.zW.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([o],r,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++)r[this.rootNode.allLeafChildren[o].id]=o;return r}},t.prototype.commonUpdateRowData=function(e,r,o){o&&(r=this.createRowNodeOrder()),this.refreshModel({step:u.MO.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),this.eventService.dispatchEvent({type:u.zW.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:u.MO.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var o=r.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},g([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),g([(0,u.fs)("$scope")],t.prototype,"$scope",void 0),g([(0,u.fs)("selectionController")],t.prototype,"selectionController",void 0),g([(0,u.fs)("valueCache")],t.prototype,"valueCache",void 0),g([(0,u.fs)("columnApi")],t.prototype,"columnApi",void 0),g([(0,u.fs)("gridApi")],t.prototype,"gridApi",void 0),g([(0,u.fs)("animationFrameService")],t.prototype,"animationFrameService",void 0),g([(0,u.fs)("filterStage")],t.prototype,"filterStage",void 0),g([(0,u.fs)("sortStage")],t.prototype,"sortStage",void 0),g([(0,u.fs)("flattenStage")],t.prototype,"flattenStage",void 0),g([(0,u.Fi)("groupStage")],t.prototype,"groupStage",void 0),g([(0,u.Fi)("aggregationStage")],t.prototype,"aggregationStage",void 0),g([(0,u.Fi)("pivotStage")],t.prototype,"pivotStage",void 0),g([u.Nq],t.prototype,"init",null),g([(0,u.Vu)("rowModel")],t)}(u.AS),K=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},Y=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return K(t,s),t.prototype.execute=function(e){var r=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(r)},P([(0,u.fs)("selectableService")],t.prototype,"selectableService",void 0),P([(0,u.fs)("filterService")],t.prototype,"filterService",void 0),P([(0,u.Vu)("filterStage")],t)}(u.AS),q=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),E=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},X=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return q(t,s),t.prototype.execute=function(e){var r=this.sortController.getSortOptions(),o=u._.exists(r)&&r.length>0,n=o&&u._.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=n?this.calculateDirtyNodes(e.rowNodeTransactions):null,a=this.columnController.getValueColumns(),p=u._.missingOrEmpty(a);this.sortService.sort(r,o,n,i,e.changedPath,p)},t.prototype.calculateDirtyNodes=function(e){var r={},o=function(i){i&&i.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(n){o(n.add),o(n.update),o(n.remove)}),r},E([(0,u.fs)("sortService")],t.prototype,"sortService",void 0),E([(0,u.fs)("sortController")],t.prototype,"sortController",void 0),E([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),E([(0,u.Vu)("sortStage")],t)}(u.AS),Q=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),H=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},$=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return Q(t,s),t.prototype.execute=function(e){var r=e.rowNode,o=[],n={value:0},i=this.columnController.isPivotMode(),a=i&&r.leafGroup;return this.recursivelyAddToRowsToDisplay(a?[r]:r.childrenAfterSort,o,n,i,0),!a&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,o,n,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,o,n,i){if(!u._.missingOrEmpty(e))for(var a=this.gridOptionsWrapper.isGroupHideOpenParents(),p=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!p&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<e.length;c++){var d=e[c],f=d.hasChildren(),v=p&&f&&1===d.childrenAfterGroup.length,x=l&&f&&d.leafGroup&&1===d.childrenAfterGroup.length;if(!(n&&!f||a&&d.expanded&&(!n||!d.leafGroup)||v||x)&&this.addRowNodeToRowsToDisplay(d,r,o,i),!n||!d.leafGroup)if(f){var O=v||x;(d.expanded||O)&&(this.recursivelyAddToRowsToDisplay(d.childrenAfterSort,r,o,n,O?i:i+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(d),this.addRowNodeToRowsToDisplay(d.sibling,r,o,i)))}else if(d.master&&d.expanded){var G=this.createDetailNode(d);this.addRowNodeToRowsToDisplay(G,r,o,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,o,n){var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(i?0:n)},t.prototype.ensureFooterNodeExists=function(e){if(!u._.exists(e.sibling)){var r=new u.Fx;this.context.createBean(r),Object.keys(e).forEach(function(o){r[o]=e[o]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,u._.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(u._.exists(e.detailNode))return e.detailNode;var r=new u.Fx;return this.context.createBean(r),r.detail=!0,r.selectable=!1,r.parent=e,u._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},H([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),H([(0,u.Vu)("flattenStage")],t)}(u.AS),J=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),N=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},Z=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return J(t,s),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,o,n,i,a){var p=this;i&&i.forEachChangedNodeDepthFirst(function(d){p.pullDownGroupDataForHideOpenParents(d.childrenAfterFilter,!0),d.childrenAfterSort=r?o?p.doDeltaSort(d,e,n,i,a):p.rowNodeSorter.doFullSort(d.childrenAfterFilter,e):d.childrenAfterFilter.slice(0),p.updateChildIndexes(d),p.postSortFunc&&p.postSortFunc(d.childrenAfterSort)}),this.updateGroupDataForHiddenOpenParents(i)},t.prototype.mapNodeToSortedNode=function(e,r){return{currentPos:r,rowNode:e}},t.prototype.doDeltaSort=function(e,r,o,n,i){var a=e.childrenAfterSort.filter(function(d){var f=!o[d.id],h=i||n&&n.canSkip(d);return f&&h}).map(this.mapNodeToSortedNode.bind(this)),p={};a.forEach(function(d){return p[d.rowNode.id]=d.rowNode});var l=e.childrenAfterFilter.filter(function(d){return!p[d.id]}).map(this.mapNodeToSortedNode.bind(this));return l.sort(this.rowNodeSorter.compareRowNodes.bind(this,r)),(0===l.length?a:0===a.length?l:this.mergeSortedArrays(r,a,l)).map(function(d){return d.rowNode})},t.prototype.mergeSortedArrays=function(e,r,o){for(var n=[],i=0,a=0;i<r.length&&a<o.length;){var p=this.rowNodeSorter.compareRowNodes(e,r[i],o[a]);n.push(p<0?r[i++]:o[a++])}for(;i<r.length;)n.push(r[i++]);for(;a<o.length;)n.push(o[a++]);return n},t.prototype.updateChildIndexes=function(e){if(!u._.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,o=0;o<r.length;o++){var n=r[o],a=o===e.childrenAfterSort.length-1;n.setFirstChild(0===o),n.setLastChild(a),n.setChildIndex(o)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var r=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var o=function n(i){r.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(function(a){a.hasChildren()&&n(a)})};e&&e.executeFromRootNode(function(n){return o(n)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var o=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||u._.missing(e)||e.forEach(function(n){o.columnController.getGroupDisplayColumns().forEach(function(a){var p=a.getColDef().showRowGroup;if("string"==typeof p){var c=o.columnController.getPrimaryColumn(p);if(c!==n.rowGroupColumn)if(r)n.setGroupValue(a.getId(),null);else{var f=n.getFirstChildOfFirstChild(c);f&&n.setGroupValue(a.getId(),f.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},N([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),N([(0,u.fs)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),N([u.Nq],t.prototype,"init",null),N([(0,u.Vu)("sortService")],t)}(u.AS),ee=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),I=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},te=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ee(t,s),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var r=this.filterManager.isAnyFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var o=this,n=function(c,d){c.hasChildren()?(c.childrenAfterFilter=e&&!d?c.childrenAfterGroup.filter(function(f){var h=f.childrenAfterFilter&&f.childrenAfterFilter.length>0,v=f.data&&o.filterManager.doesRowPassFilter({rowNode:f});return h||v}):c.childrenAfterGroup,o.setAllChildrenCount(c)):(c.childrenAfterFilter=c.childrenAfterGroup,c.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var i=function l(c,d){if(c.childrenAfterGroup)for(var f=0;f<c.childrenAfterGroup.length;f++){var h=c.childrenAfterGroup[f],v=d||o.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?l(c.childrenAfterGroup[f],v):n(h,v)}n(c,d)};r.executeFromRootNode(function(c){return i(c,!1)})}else r.forEachChangedNodeDepthFirst(function(c){return n(c,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){r++,r+=o.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){o.group?r+=o.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},I([(0,u.fs)("filterManager")],t.prototype,"filterManager",void 0),I([u.Nq],t.prototype,"postConstruct",null),I([(0,u.Vu)("filterService")],t)}(u.AS),re=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},oe=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return re(t,s),t.prototype.postConstruct=function(){this.rowModel.getType()===u.gT.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(u._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var r=this.gridOptionsWrapper.getRowNodeIdFunc();if(r&&!u._.missing(r)){var o={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return u._.exists(e)&&e.forEach(function(p,l){var c=r(p),d=n[c];a&&(a[c]=l),d?(d.data!==p&&o.update.push(p),n[c]=void 0):o.add.push(p)}),u._.iterateObject(n,function(p,l){l&&o.remove.push(l.data)}),[o,a]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},F([(0,u.fs)("rowModel")],t.prototype,"rowModel",void 0),F([u.Nq],t.prototype,"postConstruct",null),F([(0,u.Vu)("immutableService")],t)}(u.AS),ne={moduleName:u.GX.ClientSideRowModelModule,beans:[Y,X,$,Z,te,oe],rowModels:{clientSide:z}},ie=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},W=function(s){function t(e,r,o){var n=s.call(this,e)||this;return n.parentCache=r,n.params=o,n.startRow=e*o.blockSize,n.endRow=n.startRow+o.blockSize,n}return ie(t,s),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,o){u._.exists(r)?e.setDataAndId(r,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();u._.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,r,o){var n=this;this.rowNodes.forEach(function(i,a){n.startRow+a<o&&e(i,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,o=this.getContext().createBean(new u.Fx);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(r),o.setRowTop(this.params.rowHeight*r),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(n,i){r.setDataAndId(n,e.rowData?e.rowData[i]:void 0,r.startRow+i)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},L([u.Nq],t.prototype,"postConstruct",null),L([u.FX],t.prototype,"destroyRowNodes",null),t}(u.Nl),se=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},ae=function(s,t){return function(e,r){t(e,r,s)}},ue=function(s){function t(e){var r=s.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return se(t,s),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var o=Math.floor(e/this.params.blockSize),n=this.blocks[o];if(!n){if(r)return null;n=this.createBlock(o)}return n.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new W(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(l){return l!=e});o.sort(function(c,d){return d.getLastAccessed()-c.getLastAccessed()});var i=this.params.maxBlocksInCache>0,a=i?this.params.maxBlocksInCache-1:null,p=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(l,c){if(l.getState()===W.STATE_WAITING_TO_LOAD&&c>=p||i&&c>=a){if(r.isBlockCurrentlyDisplayed(l)||r.isBlockFocused(l))return;r.removeBlockFromCache(l)}})},t.prototype.isBlockFocused=function(e){var r=this.focusController.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getStartRow(),n=e.getEndRow();return r.rowIndex>=o&&r.rowIndex<n},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,u._.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,o=new u.at;this.getBlocksInOrder().forEach(function(n){return n.forEachNode(e,o,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return u._.getAllValuesInObject(this.blocks).sort(function(n,i){return n.getId()-i.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:u.zW.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.params.blockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var o=this,n=[],i=-1,a=!1,p=new u.at;u._.missing(e)&&(a=!0);var l=!1;return this.getBlocksInOrder().forEach(function(d){if(!l){if(a&&i+1!==d.getId())return void(l=!0);i=d.getId(),d.forEachNode(function(f){var h=f===e||f===r;(a||h)&&n.push(f),h&&(a=!a)},p,o.rowCount)}}),l||a?[]:n},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,T([(0,u.fs)("rowRenderer")],t.prototype,"rowRenderer",void 0),T([(0,u.fs)("focusController")],t.prototype,"focusController",void 0),T([ae(0,(0,u.q)("loggerFactory"))],t.prototype,"setBeans",null),T([u.FX],t.prototype,"destroyAllBlocks",null),t}(u.AS),pe=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},le=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return pe(t,s),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,o,n){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupSortComparator()&&u._.doOnce(function(){return console.warn("AG Grid: defaultGroupSortComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupSortComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,u.zW.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,u.zW.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!u._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return u.gT.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){u._.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}},t.prototype.createModelUpdatedEvent=function(){return{type:u.zW.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(e,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new u.at},this.infiniteCache=this.createBean(new ue(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var r=null;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return r>o?o:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},w([(0,u.fs)("filterManager")],t.prototype,"filterManager",void 0),w([(0,u.fs)("sortController")],t.prototype,"sortController",void 0),w([(0,u.fs)("selectionController")],t.prototype,"selectionController",void 0),w([(0,u.fs)("gridApi")],t.prototype,"gridApi",void 0),w([(0,u.fs)("columnApi")],t.prototype,"columnApi",void 0),w([(0,u.fs)("rowRenderer")],t.prototype,"rowRenderer",void 0),w([(0,u.fs)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),w([u.Nq],t.prototype,"init",null),w([u.FX],t.prototype,"destroyDatasource",null),w([(0,u.Vu)("rowModel")],t)}(u.AS),de={moduleName:u.GX.InfiniteRowModelModule,rowModels:{infinite:le}},ce=function(){function s(){}return s.prototype.setBeans=function(t){this.beans=t},s.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},s.prototype.getMergedParamsAndData=function(t){var e=this.mergeDefaultParams(t);return{mergedParams:e,data:this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}},s.prototype.mergeDefaultParams=function(t){var e=this.getDefaultExportParams(),r={};return u._.assign(r,e),u._.assign(r,t),r},s}(),fe=function(){function s(t){this.groupColumns=[];var r=t.valueService,o=t.gridOptionsWrapper,n=t.processCellCallback,i=t.processHeaderCallback,a=t.processGroupHeaderCallback,p=t.processRowGroupCallback;this.columnController=t.columnController,this.valueService=r,this.gridOptionsWrapper=o,this.processCellCallback=n,this.processHeaderCallback=i,this.processGroupHeaderCallback=a,this.processRowGroupCallback=p}return s.prototype.prepare=function(t){this.groupColumns=u._.filter(t,function(e){return!!e.getColDef().showRowGroup})},s.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},s.prototype.extractRowCellValue=function(t,e,r,o,n){var p,i=this.gridOptionsWrapper.isGroupMultiAutoColumn()?n.rowGroupIndex:0;p=n&&n.group&&(e===i&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(t,n);var l=this.processCell(r,n,t,p,this.processCellCallback,o);return null!=l?l:""},s.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(e,"csv",!0)},s.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},s.prototype.processCell=function(t,e,r,o,n,i){return n?n({accumulatedRowIndex:t,column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):null!=o?o:""},s}(),he=function(){function s(){}return s.download=function(t,e){var r=document.defaultView||window;if(r)if(r.navigator.msSaveOrOpenBlob)r.navigator.msSaveOrOpenBlob(e,t);else{var o=document.createElement("a"),n=r.URL.createObjectURL(e);o.setAttribute("href",n),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout(function(){r.URL.revokeObjectURL(n)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},s}(),ve=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ge=function(s){function t(e){var r=s.call(this,e)||this;r.isFirstLine=!0,r.result="";var n=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=n,r}return ve(t,s),t.prototype.addCustomContent=function(e){var r=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(o){r.beginNewLine(),o.forEach(function(n,i){0!==i&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(n.data.value||""),n.mergeAcross&&r.appendEmptyCells(n.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,u.gT.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(fe),ye=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},we=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ye(t,s),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getDefaultExportParams=function(){return this.gridOptionsWrapper.getDefaultExportParams("csv")},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParamsAndData(e),o=r.mergedParams,n=r.data,i=new Blob(["\ufeff",n],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"});return he.download(this.getFileName(o.fileName),i),n},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getMergedParamsAndData(e).data},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new ge({columnController:r.columnController,valueService:r.valueService,gridOptionsWrapper:r.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},R([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),R([(0,u.fs)("valueService")],t.prototype,"valueService",void 0),R([(0,u.fs)("gridSerializer")],t.prototype,"gridSerializer",void 0),R([(0,u.fs)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),R([u.Nq],t.prototype,"postConstruct",null),R([(0,u.Vu)("csvCreator")],t)}(ce),xe=function(){var s=function(e,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])})(e,r)};return function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(s,t,e,r){var i,o=arguments.length,n=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(s,t,e,r);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(n=(o<3?i(n):o>3?i(t,e,n):i(t,e))||n);return o>3&&n&&Object.defineProperty(t,e,n),n},Ce=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return xe(t,s),t.prototype.serialize=function(e,r){void 0===r&&(r={});var o=this.getColumnsToExport(r.allColumns,r.columnKeys);return u._.compose(this.prepareSession(o),this.prependContent(r),this.exportColumnGroups(r,o),this.exportHeaders(r,o),this.processPinnedTopRows(r,o),this.processRows(r,o),this.processPinnedBottomRows(r,o),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,o,n){var i=r.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsWrapper,p=a.getContext(),l=a.getApi(),c=a.getColumnApi(),d=a.isGroupRemoveSingleChildren(),f=a.isGroupHideOpenParents(),h=a.isGroupRemoveLowestSingleChildren(),v=this.columnController.isPivotMode()?n.leafGroup:!n.group,S=1===n.allChildrenCount&&(d||h&&n.leafGroup);if((r.skipGroups||r.skipRowGroups)&&r.skipGroups&&u._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!v&&(r.skipRowGroups||S||f)||r.onlySelected&&!n.isSelected()||r.skipPinnedTop&&"top"===n.rowPinned||r.skipPinnedBottom&&"bottom"===n.rowPinned)&&(-1!==n.level||n.leafGroup)&&!i({node:n,api:l,context:p})){var m=e.onNewBodyRow();if(o.forEach(function(be,Oe){m.onColumn(be,Oe,n)}),r.getCustomContentBelowRow){var G=r.getCustomContentBelowRow({node:n,api:l,columnApi:c,context:p});G&&e.addCustomContent(G)}}},t.prototype.appendContent=function(e){return function(r){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&u._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(o)),r}},t.prototype.prependContent=function(e){return function(r){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&u._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(o)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var o=this;return function(n){if(e.skipColumnGroupHeaders)e.columnGroups&&u._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var i=new u.fk,a=o.displayedGroupCreator.createDisplayedGroups(r,o.columnController.getGridBalancedTree(),i,null);o.recursivelyAddHeaderGroups(a,n,e.processGroupHeaderCallback)}return n}},t.prototype.exportHeaders=function(e,r){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&u._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var n=o.onNewHeaderRow();r.forEach(function(i,a){n.onColumn(i,a,void 0)})}return o}},t.prototype.processPinnedTopRows=function(e,r){var o=this;return function(n){var i=o.processRow.bind(o,n,e,r);return o.pinnedRowModel.forEachPinnedTopRow(i),n}},t.prototype.processRows=function(e,r){var o=this;return function(n){var i=o.rowModel,a=i.getType(),p=a===u.gT.ROW_MODEL_TYPE_CLIENT_SIDE,l=a===u.gT.ROW_MODEL_TYPE_SERVER_SIDE,c=!p&&e.onlySelected,d=o.processRow.bind(o,n,e,r);return o.columnController.isPivotMode()?p?i.forEachPivotNode(d):i.forEachNode(d):e.onlySelectedAllPages||c?o.selectionController.getSelectedNodes().forEach(d):p||l?i.forEachNodeAfterFilterAndSort(d):i.forEachNode(d),n}},t.prototype.processPinnedBottomRows=function(e,r){var o=this;return function(n){var i=o.processRow.bind(o,n,e,r);return o.pinnedRowModel.forEachPinnedBottomRow(i),n}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var o=this.columnController.isPivotMode();return r&&r.length?this.columnController.getGridColumns(r):e&&!o?(this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([u.gT.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,o){var n=[];e.forEach(function(i){!i.getChildren||i.getChildren().forEach(function(p){return n.push(p)})}),e.length>0&&e[0]instanceof u.Ex&&this.doAddHeaderHeader(r,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,r,o)},t.prototype.doAddHeaderHeader=function(e,r,o){var n=this,i=e.onNewHeaderGroupingRow(),a=0;r.forEach(function(p){var c,l=p;c=o?o({columnGroup:l,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnController.getDisplayNameForColumnGroup(l,"header"),i.onColumn(c||"",a++,l.getLeafColumns().length-1)})},_([(0,u.fs)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),_([(0,u.fs)("columnController")],t.prototype,"columnController",void 0),_([(0,u.fs)("rowModel")],t.prototype,"rowModel",void 0),_([(0,u.fs)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),_([(0,u.fs)("selectionController")],t.prototype,"selectionController",void 0),_([(0,u.Vu)("gridSerializer")],t)}(u.AS),Re={moduleName:u.GX.CsvExportModule,beans:[we,Ce]},D="\r\n",_e=(function(){function s(){}s.createHeader=function(t){void 0===t&&(t={});var o=["version"];return t.version||(t.version="1.0"),t.encoding&&o.push("encoding"),t.standalone&&o.push("standalone"),"<?xml "+o.map(function(i){return i+'="'+t[i]+'"'}).join(" ")+" ?>"},s.createXml=function(t,e){var r=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(i){Object.keys(i.map).forEach(function(a){o+=r.returnAttributeIfPopulated(i.prefix+a,i.map[a],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(i){o+=r.returnAttributeIfPopulated(i,t.properties.rawMap[i],e)}));var n="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?n+">"+t.textNode+"</"+t.name+">"+D:(n+=">\r\n",t.children&&t.children.forEach(function(i){n+=r.createXml(i,e)}),n+"</"+t.name+">"+D):n+"/>"+D},s.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&r&&(o=r(e))," "+t+'="'+o+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])),Se=(function(){function s(){}s.addFolders=function(t){t.forEach(this.addFolder.bind(this))},s.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},s.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},s.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},s.clearStream=function(){this.folders=[],this.files=[]},s.buildFileStream=function(t){void 0===t&&(t="");for(var e=this.folders.concat(this.files),r=e.length,o="",n=0,i=0,a=0,p=e;a<p.length;a++){var c=this.getHeader(p[a],n),d=c.fileHeader,f=c.folderHeader,h=c.content;n+=d.length+h.length,i+=f.length,t+=d+h,o+=f}return t+o+this.buildFolderEnd(r,i,n)},s.getHeader=function(t,e){var r=t.content,o=t.path,n=t.created,i=t.isBase64,p=u._.decToHex,l=(0,u._.utf8_encode)(o),c=l!==o,d=this.convertTime(n),f=this.convertDate(n),h="";if(c){var v=p(1,1)+p(this.getFromCrc32Table(l),4)+l;h="up"+p(v.length,2)+v}var x=r?this.getConvertedContent(r,i):{size:0,content:""},C=x.size,S=x.content,b="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+p(d,2)+p(f,2)+p(C?this.getFromCrc32Table(S):0,4)+p(C,4)+p(C,4)+p(l.length,2)+p(h.length,2);return{fileHeader:"PK\x03\x04"+b+l+h,folderHeader:"PK\x01\x02\x14\0"+b+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+p(e,4)+l+h,content:S||""}},s.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},s.buildFolderEnd=function(t,e,r){var o=u._.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(r,4)+"\0\0"},s.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},s.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),o=0;o<e;o++)r[o]=t.charCodeAt(o);var n=-1;for(o=0;o<e;o++)n=n>>>8^_e[255&(n^r[o])];return-1^n},s.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},s.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},s.folders=[],s.files=[]}(),[ne,de,Re])}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-d43c44.6bb74819cbab237f.js.map
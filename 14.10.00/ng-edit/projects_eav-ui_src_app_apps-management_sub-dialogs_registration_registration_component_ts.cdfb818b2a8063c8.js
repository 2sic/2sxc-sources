"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_sub-dialogs_registration_registration_component_ts"],{3561:(h,g,e)=>{e.r(g),e.d(g,{RegistrationComponent:()=>L});var d=e(253),u=e(4874),a=e(2673),p=e(3158),v=e(745),x=e(1203),y=e(5348),Z=e(3889),_=e(9673),C=e(1528),b=e(3231),t=e(3184),m=e(5758),S=e(2528),f=e(6362),U=e(6190),c=e(1961),w=e(5590),k=e(7317),R=e(1555);function A(s,r){if(1&s){const n=t.EpF();t.TgZ(0,"p")(1,"b"),t._uU(2,"Status:"),t.qZA(),t._uU(3),t._UZ(4,"br"),t.TgZ(5,"b"),t._uU(6,"Fingerprint:"),t.qZA(),t.TgZ(7,"span",22),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().ngIf;return t.oxw().copyToClipboard(i.systemInfoSet.System.Fingerprint)}),t._uU(8),t.qZA(),t._UZ(9,"br")(10,"br"),t.qZA()}if(2&s){const n=t.oxw().ngIf;t.xp6(3),t.hij(" ",n.systemInfoSet.License.Owner?"this system is registered to "+n.systemInfoSet.License.Owner:"this system is not yet registered"," "),t.xp6(4),t.Q6J("tippy","Click to copy to clipboard"),t.xp6(1),t.hij(" ",n.systemInfoSet.System.Fingerprint,"")}}function I(s,r){if(1&s){const n=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().ngIf;return t.oxw().openLicenseRegistration(i.systemInfoSet)}),t._UZ(1,"mat-icon",17),t.TgZ(2,"span"),t._uU(3,"Register"),t.qZA()()}}function M(s,r){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3,"Register this System on 2sxc Patrons"),t.qZA()(),t.TgZ(4,"div",3)(5,"h2"),t._uU(6,"Basic Mode: Free Registration with Goodies"),t.qZA(),t.TgZ(7,"p"),t._uU(8," You can just register for free to unlock some features. They are mainly enhancements for which we wish to contact you in case of critical security issues. "),t.qZA(),t._UZ(9,"a",4),t.ALo(10,"safeHtml"),t.TgZ(11,"h2"),t._uU(12,"Hero Mode: Support 2sxc, get Awesome Stuff"),t.qZA(),t.TgZ(13,"p"),t._uU(14," If you want to become a champion and pay a monthly contribution to support the open-source development of 2sxc, you will get some "),t.TgZ(15,"a",5),t._uU(16,"really nice features"),t.qZA(),t._uU(17," as well \u{1f680}. "),t.qZA(),t.TgZ(18,"p"),t._uU(19," Thanks for loving and supporting 2sxc \u{1f496} "),t.qZA(),t.TgZ(20,"h2"),t._uU(21,"System Specs"),t.qZA(),t.YNc(22,A,11,3,"p",0),t.qZA(),t.TgZ(23,"div",6)(24,"mat-card",7)(25,"mat-card-header")(26,"div",8),t._UZ(27,"mat-icon",9),t.qZA(),t.TgZ(28,"mat-card-title"),t._uU(29,"Automatic Registration"),t.qZA(),t.TgZ(30,"mat-card-subtitle"),t._uU(31,"The simple way"),t.qZA()(),t.TgZ(32,"mat-card-content")(33,"p"),t._uU(34," This will open 2sxc Patrons and give it the system fingerprint, so you can then log in and assign it a name and features you want to activate. "),t.qZA(),t.TgZ(35,"div",10),t.YNc(36,I,4,0,"button",11),t.TgZ(37,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw().retrieveLicense()}),t._UZ(38,"mat-icon",13),t.TgZ(39,"span"),t._uU(40,"Retrieve license"),t.qZA()()()()(),t.TgZ(41,"mat-card",14)(42,"mat-card-header")(43,"div",8),t._UZ(44,"mat-icon",15),t.qZA(),t.TgZ(45,"mat-card-title"),t._uU(46,"Manual Registration"),t.qZA(),t.TgZ(47,"mat-card-subtitle"),t._uU(48,"Offline or special scenarios"),t.qZA()(),t.TgZ(49,"mat-card-content")(50,"p"),t._uU(51," For offline or special scenarios you can just go to 2sxc Patrons and copy/paste the fingerprint yourself. "),t._UZ(52,"br"),t._uU(53," Click on the fingerprint above to copy it to your clipboard. "),t.qZA(),t.TgZ(54,"div",10)(55,"button",16),t.NdJ("click",function(){return t.CHM(n),t.oxw().registerManually()}),t._UZ(56,"mat-icon",17),t.TgZ(57,"span"),t._uU(58,"Register Manually"),t.qZA()(),t.TgZ(59,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().openLicenseUpload()}),t._UZ(60,"mat-icon",19),t.TgZ(61,"span"),t._uU(62,"Upload license"),t.qZA()()()()()(),t.TgZ(63,"div",20)(64,"button",21),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeDialog()}),t._uU(65," Close "),t.qZA()(),t.BQk()}if(2&s){const n=r.ngIf,o=t.oxw();t.xp6(9),t.Q6J("innerHtml",t.lcZ(10,3,o.logo),t.oJD),t.xp6(13),t.Q6J("ngIf",n.systemInfoSet),t.xp6(14),t.Q6J("ngIf",n.systemInfoSet)}}const F=function(s){return{systemInfoSet:s}};let L=(()=>{class s{constructor(n,o,i,l,O,H,P){this.dialogRef=n,this.globalConfigService=o,this.zoneService=i,this.featuresConfigService=l,this.snackBar=O,this.dialog=H,this.viewContainerRef=P,this.hostClass="dialog-component",this.debugEnabled$=this.globalConfigService.getDebugEnabled$(),this.refreshsystemInfoSet$=new d.x,this.logo='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 26.0.3, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<svg version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 1218.9 250" style="enable-background:new 0 0 1218.9 250;" xml:space="preserve">\r\n<style type="text/css">\r\n\t.st0{fill:#00003E;}\r\n\t.st1{font-family:\'AcherusMilitant3-Bold\';}\r\n\t.st2{font-size:142px;}\r\n\t.st3{fill:none;stroke:#FFFFFF;stroke-width:4.2129;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n\t.st4{fill:none;stroke:#323035;stroke-width:3.3703;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n\t.st5{fill:#00CCFF;stroke:#00003E;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\r\n</style>\r\n<path class="st0" d="M164.4,250H0V85.6C0,38.4,38.4,0,85.6,0H250v164.4C250,211.6,211.6,250,164.4,250z"/>\r\n<text transform="matrix(1 0 0 1 337.7744 168.3219)" class="st0 st1 st2">2sxc Patrons</text>\r\n<path class="st3" d="M174.4,77.1c-3.4,7.6-12.2,11-19.8,7.6c-7.6-3.4-11-12.2-7.6-19.8c3.4-7.6,12.2-11,19.8-7.6\r\n\tC174.4,60.6,177.8,69.5,174.4,77.1z"/>\r\n<path class="st3" d="M172.5,92.7L172.5,92.7c0,0,26.6-4.6,26.6-4.6c1.4-0.6,3-0.1,3.8,1.1l0,0c1,1.5,0.5,3.5-1,4.4L168,110.8"/>\r\n<line class="st4" x1="161.2" y1="96.4" x2="163.4" y2="99.2"/>\r\n<path class="st3" d="M129.5,113.9L88.3,183c-1.1,2-0.3,4.5,1.7,5.6l0.1,0c1.5,0.8,3.3,0.5,4.6-0.6l48.9-47.6l11.1-22.2l-1.4-25.7\r\n\tl-4.9-2.7c-3.4-2.5-7.7-3.2-11.7-2l-25.9,9l-13.7,24.8c-0.7,1.3-0.3,2.9,0.9,3.7l0,0c1.2,0.8,2.9,0.5,3.8-0.6l14.8-18.7l24.1-6"/>\r\n<path class="st3" d="M147.7,144.3l15.7,16.9l-25.1,22.2c-1.5,1.3-3.7,1.2-5.1-0.2l0,0c-1.2-1.3-1.3-3.3-0.2-4.8l11.9-15.3l-7.6-7.7"\r\n\t/>\r\n<path class="st5" d="M116.8,87.4L54.3,97.4c-0.7,0.1-1,0.9-0.7,1.5c2.3,4,9.2,17.2,6.1,28.1c-3.6,12.9-10,42.1,20.7,53\r\n\tc0.4,0.2,1,0,1.2-0.4l39.3-65.2c0.5-0.8-0.2-1.7-1.1-1.5l-1.3,0.4c-0.2,0.1-0.4,0.2-0.5,0.3l-12.5,15.7c0,0.1-0.1,0.1-0.2,0.2\r\n\tc-3.1,2.6-7.7,2.5-10.7-0.1l-0.1-0.1c-2.8-2.5-3.7-6.5-2-9.9l13.8-26.5c0.1-0.2,0.3-0.4,0.5-0.5l10.7-3.3\r\n\tC118.4,88.7,117.9,87.2,116.8,87.4z"/>\r\n</svg>\r\n'}ngOnInit(){this.systemInfoSet$=this.refreshsystemInfoSet$.pipe((0,u.O)(void 0),(0,a.w)(()=>this.zoneService.getSystemInfo().pipe((0,p.K)(()=>(0,v.of)(void 0)))),(0,x.B)())}closeDialog(){this.dialogRef.close()}copyToClipboard(n){(0,_.v)(n),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}openLicenseRegistration(n){window.open(`https://patrons.2sxc.org/register?fingerprint=${n.System.Fingerprint}`,"_blank")}retrieveLicense(){this.featuresConfigService.retrieveLicense().subscribe({error:()=>{this.snackBar.open("Failed to retrieve license. Please check console for more information",void 0,{duration:3e3})},next:n=>{this.snackBar.open(`License ${n.Success?"Info":"Error"}: ${n.Message}`,void 0,{duration:n.Success?3e3:1e5,panelClass:n.Success?void 0:"snackbar-error"}),this.refreshsystemInfoSet$.next()}})}registerManually(){window.open("https://patrons.2sxc.org/","_blank")}openLicenseUpload(){this.dialog.open(Z.U,{data:{title:"Upload license",description:"",allowedFileTypes:"json",upload$:i=>this.featuresConfigService.uploadLicense(i[0])},autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(i=>{i&&this.refreshsystemInfoSet$.next()})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(m.so),t.Y36(y.b),t.Y36(b.b),t.Y36(C.G),t.Y36(S.ux),t.Y36(m.uw),t.Y36(t.s_b))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-registration"]],hostVars:1,hostBindings:function(n,o){2&n&&t.Ikx("className",o.hostClass)},decls:2,vars:5,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],["href","https://patrons.2sxc.org/","target","_blank",2,"width","50%","float","right",3,"innerHtml"],["href","https://r.2sxc.org/bundles","target","_blank"],[1,"mat-cards-div"],[1,"mat-card-left"],["mat-card-avatar",""],["svgIcon","settings-applications"],[1,"card-actions"],["mat-button","","mat-button","","tippy","Register",3,"click",4,"ngIf"],["mat-button","","tippy","Retrieve license",3,"click"],["svgIcon","download-for-offline"],[1,"mat-card-right"],["svgIcon","waving-hand"],["mat-button","","mat-button","","tippy","Register",3,"click"],["svgIcon","app-registration"],["mat-button","","tippy","Upload license",3,"click"],["svgIcon","cloud-upload"],[1,"dialog-component-actions"],["mat-raised-button","",3,"click"],[3,"tippy","click"]],template:function(n,o){1&n&&(t.YNc(0,M,66,5,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.VKq(3,F,t.lcZ(1,1,o.systemInfoSet$)))},directives:[f.O5,m.uh,U.$,c.a8,c.dk,c.kc,w.Hw,c.n5,c.$j,c.dn,k.lW],pipes:[f.Ov,R.z],styles:[".mat-cards-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.mat-card-left[_ngcontent-%COMP%]{width:50%;margin-right:4px}.mat-card-right[_ngcontent-%COMP%]{width:50%;margin-left:4px}.mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:14px}.mat-card-content[_ngcontent-%COMP%]{font-size:14px;margin-top:12px}button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:4px}"]}),s})()},9673:(h,g,e)=>{function d(u){const a=document.createElement("textarea");a.value=u,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a);const p=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);a.select(),document.execCommand("copy"),document.body.removeChild(a),p&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(p))}e.d(g,{v:()=>d})}}]);
//# sourceMappingURL=https://sources.2sxc.org/14.10.00/ng-edit/projects_eav-ui_src_app_apps-management_sub-dialogs_registration_registration_component_ts.cdfb818b2a8063c8.js.map
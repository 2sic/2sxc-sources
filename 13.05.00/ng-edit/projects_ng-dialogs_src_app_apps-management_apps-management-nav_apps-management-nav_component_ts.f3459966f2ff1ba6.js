"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts"],{7015:(L,x,s)=>{s.r(x),s.d(x,{AppsManagementNavComponent:()=>te});var l=s(2977),r=s(6317),_=s(7714),u=s(116),C=s(635),m=s(4874),A=s(679),I=s(7854),y=s(8598),t=s(3184),b=s(5758),d=s(5469),f=s(7317),h=s(785),T=s(5590),v=s(6362),D=s(2379),H=s(6562),R=s(5388),W=s(7858),Y=s(3575),w=s(2528),z=s(5286),O=s(1961),Z=s(587),q=s(4770),K=s(4683),X=s(3135);function j(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"div",17)(4,"span",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).copyToClipboard(c.value)}),t._uU(5),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.label),t.xp6(2),t.Q6J("tippy",e.value),t.xp6(1),t.Oqu(e.value)}}function V(n,a){if(1&n&&(t.TgZ(0,"a",20),t._uU(1,"manage"),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",e.link)}}function tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"div",17)(4,"span",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).copyToClipboard(c.value)}),t._uU(5),t.qZA(),t.YNc(6,V,2,1,"a",19),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.label),t.xp6(2),t.Q6J("tippy",e.value),t.xp6(1),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",e.link)}}function et(n,a){1&n&&(t.TgZ(0,"app-field-hint",22),t._uU(1," Only positive whole numbers "),t.qZA()),2&n&&t.Q6J("isError",!0)}function nt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,et,2,1,"app-field-hint",21),t.BQk()),2&n){t.oxw();const e=t.MAs(85);t.xp6(1),t.Q6J("ngIf",e.errors.pattern)}}function it(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-card")(2,"mat-card-header")(3,"div",1)(4,"mat-icon"),t._uU(5,"settings_applications"),t.qZA()(),t.TgZ(6,"mat-card-title"),t._uU(7,"Platform"),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9,"What you are running"),t.qZA()(),t.TgZ(10,"mat-card-content"),t.YNc(11,j,6,3,"div",2),t._UZ(12,"div",3),t.TgZ(13,"h4"),t._uU(14,"Global Settings"),t.qZA(),t.TgZ(15,"p"),t._uU(16," This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Installation. See "),t.TgZ(17,"a",4),t._uU(18,"docs"),t.qZA(),t._uU(19,". "),t.qZA(),t.TgZ(20,"div",5)(21,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().openGlobalSettings()}),t.TgZ(22,"mat-icon"),t._uU(23,"open_in_new"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Open Global Settings"),t.qZA()()()()(),t.TgZ(26,"mat-card")(27,"mat-card-header")(28,"div",1)(29,"mat-icon"),t._uU(30,"public"),t.qZA()(),t.TgZ(31,"mat-card-title"),t._uU(32,"This Site"),t.qZA(),t.TgZ(33,"mat-card-subtitle"),t._uU(34,"The current Site you're on"),t.qZA()(),t.TgZ(35,"mat-card-content"),t.YNc(36,tt,7,4,"div",2),t._UZ(37,"div",3),t.TgZ(38,"h4"),t._uU(39,"Site Settings"),t.qZA(),t.TgZ(40,"p"),t._uU(41," This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Site / Portal. See "),t.TgZ(42,"a",4),t._uU(43,"docs"),t.qZA(),t._uU(44,". "),t.qZA(),t.TgZ(45,"div",5)(46,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().openSiteSettings()}),t.TgZ(47,"mat-icon"),t._uU(48,"open_in_new"),t.qZA(),t.TgZ(49,"span"),t._uU(50,"Open Site Settings"),t.qZA()()()()(),t.TgZ(51,"mat-card")(52,"mat-card-header")(53,"div",1)(54,"mat-icon"),t._uU(55,"speed"),t.qZA()(),t.TgZ(56,"mat-card-title"),t._uU(57,"2sxc Insights"),t.qZA(),t.TgZ(58,"mat-card-subtitle"),t._uU(59,"See what's happening under the hood"),t.qZA()(),t.TgZ(60,"mat-card-content")(61,"h4"),t._uU(62,"2sxc Insights for Super Users"),t.qZA(),t.TgZ(63,"p"),t._uU(64," This is to access a special section to see what is really in the server memory. It's intended for extensive debugging - see also "),t.TgZ(65,"a",7),t._uU(66,"this blog post"),t.qZA(),t._uU(67,". "),t.qZA(),t.TgZ(68,"div",5)(69,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().openInsights()}),t.TgZ(70,"mat-icon"),t._uU(71,"open_in_new"),t.qZA(),t.TgZ(72,"span"),t._uU(73,"Open 2sxc Insights"),t.qZA()()(),t._UZ(74,"div",3),t.TgZ(75,"h4"),t._uU(76,"Activate Page Level Logging"),t.qZA(),t.TgZ(77,"form",8,9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.MAs(78);return t.oxw().activatePageLog(o)}),t.TgZ(79,"div"),t._uU(80," This will place insights-logs in the HTML of the user output for users with ?debug=true in the url. It can only be activated for short periods of time. "),t.qZA(),t.TgZ(81,"mat-form-field",10)(82,"mat-label"),t._uU(83,"Duration in Minutes"),t.qZA(),t.TgZ(84,"input",11,12),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().pageLogDuration=o}),t.qZA()(),t.YNc(86,nt,2,1,"ng-container",0),t.TgZ(87,"div",13)(88,"button",14),t._uU(89," Activate "),t.qZA()()()()(),t.BQk()}if(2&n){const e=a.ngIf,i=t.MAs(78),o=t.MAs(85),c=t.oxw();t.xp6(11),t.Q6J("ngForOf",e.systemInfos),t.xp6(25),t.Q6J("ngForOf",e.siteInfos),t.xp6(48),t.Q6J("pattern",c.positiveWholeNumber)("ngModel",c.pageLogDuration)("disabled",e.loading),t.xp6(2),t.Q6J("ngIf",o.touched&&o.errors),t.xp6(2),t.Q6J("disabled",!i.valid||e.loading)}}let at=(()=>{class n{constructor(e,i,o,c){this.zoneService=e,this.snackBar=i,this.dialogService=o,this.sxcInsightsService=c,this.positiveWholeNumber=/^[1-9][0-9]*$/}ngOnInit(){this.systemInfoSet$=new r.X(void 0),this.languages$=new r.X(void 0),this.loading$=new r.X(!1),this.buildTemplateVars(),this.getSystemInfo(),this.getLanguages()}ngOnDestroy(){this.systemInfoSet$.complete(),this.languages$.complete(),this.loading$.complete()}copyToClipboard(e){(0,R.v)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}openSiteSettings(){const e=this.dialogSettings.Context.Site.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openGlobalSettings(){const e=this.dialogSettings.Context.System.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openInsights(){window.open(window.$2sxc.http.apiUrl("sys/insights/help"),"_blank")}activatePageLog(e){this.loading$.next(!0),this.snackBar.open("Activating..."),this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe(i=>{this.loading$.next(!1),this.snackBar.open(i,null,{duration:4e3})}),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),e.resetForm()}getSystemInfo(){this.zoneService.getSystemInfo().subscribe({error:()=>{this.systemInfoSet$.next(void 0)},next:e=>{this.systemInfoSet$.next(e)}})}getLanguages(){this.zoneService.getLanguages().subscribe({error:()=>{this.languages$.next(void 0)},next:e=>{this.languages$.next(e)}})}buildTemplateVars(){const e=this.systemInfoSet$.pipe((0,C.U)(o=>null==o?void 0:[{label:"CMS",value:`2sxc v.${o.System.EavVersion}`},{label:"Platform",value:`${o.System.Platform} v.${o.System.PlatformVersion}`},{label:"Zones",value:o.System.Zones.toString()},{label:"Fingerprint",value:o.System.Fingerprint}])),i=(0,H.a)([this.systemInfoSet$,this.languages$]).pipe((0,C.U)(([o,c])=>{if(null==o||null==c)return;const p=c.length,g=c.filter(P=>P.IsEnabled).length;return[{label:"Zone",value:o.Site.ZoneId.toString()},{label:"Site",value:o.Site.SiteId.toString()},{label:"Languages",value:`${g}/${p}`,link:"languages"},{label:"Apps",value:o.Site.Apps.toString(),link:"list"}]}));this.templateVars$=(0,H.a)([e,i,this.loading$]).pipe((0,C.U)(([o,c,p])=>({systemInfos:o,siteInfos:c,loading:p})))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y.b),t.Y36(w.ux),t.Y36(W.x),t.Y36(z.a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-system-info"]],inputs:{dialogSettings:"dialogSettings"},decls:2,vars:3,consts:[[4,"ngIf"],["mat-card-avatar",""],["class","info-row",4,"ngFor","ngForOf"],[1,"card-content-separator"],["href","http://r.2sxc.org/settings","target","_blank"],[1,"card-actions"],["mat-button","",3,"click"],["href","https://2sxc.org/en/blog/post/using-2sxc-insights","target","_blank"],[1,"activate-log-form",3,"ngSubmit"],["activateLogForm","ngForm"],["appearance","standard","color","accent"],["matInput","","type","number","min","0","required","","name","Duration",3,"pattern","ngModel","disabled","ngModelChange"],["duration","ngModel"],[1,"form-actions"],["mat-raised-button","","type","submit","color","accent",3,"disabled"],[1,"info-row"],[1,"info-row__label"],[1,"info-row__value"],[3,"tippy","click"],["class","info-row__link",3,"routerLink",4,"ngIf"],[1,"info-row__link",3,"routerLink"],[3,"isError",4,"ngIf"],[3,"isError"]],template:function(e,i){1&e&&(t.YNc(0,it,90,7,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.templateVars$))},directives:[v.O5,O.a8,O.dk,O.kc,T.Hw,O.n5,O.$j,O.dn,v.sg,h.$,f.lW,l.yS,Z._Y,Z.JL,Z.F,q.KE,q.hX,K.Nt,Z.qQ,Z.wV,Z.Fj,Z.Q7,Z.c5,Z.JJ,Z.On,X.Y],pipes:[v.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;padding-top:40px}.mat-card[_ngcontent-%COMP%]{width:400px;margin-right:24px;margin-bottom:24px}.mat-card-avatar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:40px}.mat-card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:14px}.mat-card-content[_ngcontent-%COMP%]{font-size:14px;margin-top:12px}.card-content-separator[_ngcontent-%COMP%]{height:8px}.card-actions[_ngcontent-%COMP%]{margin-right:-8px;margin-left:-8px}.card-actions[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:4px}.info-row[_ngcontent-%COMP%]{display:flex;overflow-wrap:anywhere;margin-top:4px;margin-bottom:4px}.info-row__label[_ngcontent-%COMP%]{flex:1;font-weight:500}.info-row__value[_ngcontent-%COMP%]{flex:2}.info-row__value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.info-row__link[_ngcontent-%COMP%]{margin-left:4px}.activate-log-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{height:auto}.activate-log-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:flex-end}"]}),n})();var N=s(9119),$=s(1361),E=s(5578),k=s(6880),ot=s(1130),M=s(2796);function st(n,a){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"foundation"),t.qZA())}function lt(n,a){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"holiday_village"),t.qZA())}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().flushCache()}),t.TgZ(1,"mat-icon"),t._uU(2,"cached"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Flush cache"),t.qZA()(),t.TgZ(5,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteApp()}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Delete"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("disabled",!e.app.IsApp)}}let ct=(()=>{class n{constructor(){}agInit(e){this.params=e,this.app=this.params.data}refresh(e){return!0}flushCache(){this.params.onFlush(this.app)}deleteApp(){this.params.onDelete(this.app)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-list-actions"]],decls:10,vars:5,consts:[[1,"actions-component"],[1,"like-button","icon",3,"tippy","tippyDisabled"],[4,"ngIf"],["matRipple","","tippy","More",1,"like-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"disabled","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,st,2,0,"mat-icon",2),t.YNc(3,lt,2,0,"mat-icon",2),t.qZA(),t.TgZ(4,"div",3)(5,"mat-icon"),t._uU(6,"more_horiz"),t.qZA()()(),t.TgZ(7,"mat-menu",4,5),t.YNc(9,rt,10,1,"ng-template",6),t.qZA()),2&e){const o=t.MAs(8);t.xp6(1),t.Q6J("tippy",i.app.IsGlobal?"This app is global":i.app.IsInherited?"This app is inherited":"")("tippyDisabled",!i.app.IsGlobal&&!i.app.IsInherited),t.xp6(1),t.Q6J("ngIf",i.app.IsGlobal),t.xp6(1),t.Q6J("ngIf",i.app.IsInherited),t.xp6(1),t.Q6J("matMenuTriggerFor",o)}},directives:[h.$,v.O5,T.Hw,ot.wG,M.p6,M.VK,M.KA,M.OP],styles:[""]}),n})();function pt(n,a){1&n&&(t.TgZ(0,"mat-icon",3),t._uU(1,"visibility"),t.qZA())}function dt(n,a){1&n&&(t.TgZ(0,"mat-icon",4),t._uU(1,"visibility_off"),t.qZA())}let gt=(()=>{class n{agInit(e){this.value=e.value}refresh(e){return!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-list-show"]],decls:3,vars:2,consts:[[1,"icon-container"],["tippy","Show this app to users",4,"ngIf"],["tippy","Don't show this app to users",4,"ngIf"],["tippy","Show this app to users"],["tippy","Don't show this app to users"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,pt,2,0,"mat-icon",1),t.YNc(2,dt,2,0,"mat-icon",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.value),t.xp6(1),t.Q6J("ngIf",!i.value))},directives:[v.O5,T.Hw,h.$],styles:[""]}),n})();var ut=s(4628),F=s(1350),Q=s(1529),J=s(7465);const mt=function(n){return{"fab-opened":n}};let _t=(()=>{class n{constructor(e,i,o,c){this.router=e,this.route=i,this.appsListService=o,this.snackBar=c,this.apps$=new r.X(void 0),this.fabOpen$=new r.X(!1),this.modules=N.F$j,this.gridOptions=Object.assign(Object.assign({},k.f),{columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),cellRenderer:E.m,sortable:!0,filter:"agNumberColumnFilter",valueGetter:p=>p.data.Id,cellRendererParams:{tooltipGetter:p=>`ID: ${p.Id}\nGUID: ${p.Guid}`}},{field:"Show",width:70,headerClass:"dense",cellClass:"icons no-outline".split(" "),sortable:!0,filter:$.U,cellRenderer:gt,valueGetter:p=>!p.data.IsHidden},{field:"Name",flex:2,minWidth:250,cellClass:"apps-list-primary-action highlight".split(" "),sortable:!0,sort:"asc",filter:"agTextColumnFilter",onCellClicked:p=>this.openApp(p.data),valueGetter:p=>p.data.Name,cellRenderer:p=>{const g=p.data;return null!=g.Thumbnail?`\n            <div class="container">\n              <img class="image logo" src="${g.Thumbnail}?w=40&h=40&mode=crop"></img>\n              <div class="text">${p.value}</div>\n            </div>`:`\n            <div class="container">\n              <div class="image logo">\n                <span class="material-icons-outlined">star_border</span>\n              </div>\n              <div class="text">${p.value}</div>\n            </div>`}},{field:"Folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:p=>p.data.Folder},{field:"Version",width:78,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:p=>p.data.Version},{field:"Items",width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter",valueGetter:p=>p.data.Items},{width:82,cellClass:"secondary-action no-padding".split(" "),cellRenderer:ct,pinned:"right",cellRendererParams:{onDelete:p=>this.deleteApp(p),onFlush:p=>this.flushApp(p)}}]}),this.subscription=new _.w0}ngOnInit(){this.fetchAppsList(),this.refreshOnChildClosed()}ngOnDestroy(){this.apps$.complete(),this.fabOpen$.complete(),this.subscription.unsubscribe()}openChange(e){this.fabOpen$.next(e)}browseCatalog(){window.open("https://2sxc.org/apps","_blank")}createApp(){this.router.navigate(["create"],{relativeTo:this.route.firstChild})}createInheritedApp(){this.router.navigate(["create-inherited"],{relativeTo:this.route.firstChild})}importApp(e){this.router.navigate(["import"],{relativeTo:this.route.firstChild,state:{files:e}})}fetchAppsList(){this.appsListService.getAll().subscribe(e=>{this.apps$.next(e)})}deleteApp(e){const i=prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${e.Name}' (${e.Id})?`);null!==i&&(i===e.Name||"yes!"===i?(this.snackBar.open("Deleting..."),this.appsListService.delete(e.Id).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchAppsList()})):alert("Input did not match - will not delete"))}flushApp(e){!confirm(`Flush the App Cache for ${e.Name} (${e.Id})?`)||(this.snackBar.open("Flushing cache..."),this.appsListService.flushCache(e.Id).subscribe(()=>{this.snackBar.open("Cache flushed",null,{duration:2e3})}))}openApp(e){this.router.navigate([e.Id.toString()],{relativeTo:this.route.firstChild})}refreshOnChildClosed(){this.subscription.add(this.router.events.pipe((0,u.h)(e=>e instanceof l.m2),(0,m.O)(!!this.route.snapshot.firstChild.firstChild),(0,C.U)(()=>!!this.route.snapshot.firstChild.firstChild),(0,A.G)(),(0,u.h)(([e,i])=>e&&!i)).subscribe(()=>{this.fetchAppsList()}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.F0),t.Y36(l.gz),t.Y36(ut.A),t.Y36(w.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-list"]],decls:24,vars:15,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","modules","gridOptions","allowedFileTypes","filesDropped"],[1,"grid-more-actions-box"],[1,"grid-fab",3,"ngClass","openChange"],[3,"spin"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","label","Find more apps",3,"click"],["mat-mini-fab","","label","Create inherited app",3,"click"],["mat-mini-fab","","label","Import app",3,"click"],["mat-mini-fab","","label","Create app",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"ag-grid-angular",1),t.NdJ("filesDropped",function(c){return i.importApp(c)}),t.ALo(2,"async"),t.qZA(),t._UZ(3,"div",2),t.TgZ(4,"eco-fab-speed-dial",3),t.NdJ("openChange",function(c){return i.openChange(c)}),t.ALo(5,"async"),t.TgZ(6,"eco-fab-speed-dial-trigger",4)(7,"button",5)(8,"mat-icon",6),t._uU(9),t.ALo(10,"async"),t.qZA()()(),t.TgZ(11,"eco-fab-speed-dial-actions")(12,"button",7),t.NdJ("click",function(){return i.browseCatalog()}),t.TgZ(13,"mat-icon"),t._uU(14,"search"),t.qZA()(),t.TgZ(15,"button",8),t.NdJ("click",function(){return i.createInheritedApp()}),t.TgZ(16,"mat-icon"),t._uU(17,"holiday_village"),t.qZA()(),t.TgZ(18,"button",9),t.NdJ("click",function(){return i.importApp()}),t.TgZ(19,"mat-icon"),t._uU(20,"cloud_upload"),t.qZA()(),t.TgZ(21,"button",10),t.NdJ("click",function(){return i.createApp()}),t.TgZ(22,"mat-icon"),t._uU(23,"add"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("rowData",t.lcZ(2,7,i.apps$))("modules",i.modules)("gridOptions",i.gridOptions)("allowedFileTypes","zip"),t.xp6(3),t.Q6J("ngClass",t.VKq(13,mt,t.lcZ(5,9,i.fabOpen$))),t.xp6(2),t.Q6J("spin",!0),t.xp6(3),t.Oqu(t.lcZ(10,11,i.fabOpen$)?"close":"add"))},directives:[F.N8,Q.z,J.W7,v.mk,J.YI,f.lW,T.Hw,J.Lp],pipes:[v.Ov],styles:[""]}),n})();var G=s(6623);let ft=(()=>{class n{agInit(e){this.params=e,this.value=this.params.value}refresh(e){return!0}toggleLanguage(){this.params.onEnabledToggle(this.params.data)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-site-languages-status"]],decls:1,vars:1,consts:[[3,"checked","change"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(){return i.toggleLanguage()}),t.qZA()),2&e&&t.Q6J("checked",i.value)},directives:[G.Rr],styles:["[_nghost-%COMP%]{height:100%;display:flex;padding-left:8px;padding-right:8px;align-items:center}.mat-slide-toggle[_ngcontent-%COMP%]{padding-top:0}"]}),n})(),ht=(()=>{class n{constructor(e){this.zoneService=e,this.languages$=new r.X(void 0),this.modules=N.F$j,this.gridOptions=Object.assign(Object.assign({},k.f),{columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),cellRenderer:E.m,sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Code,cellRendererParams:{tooltipGetter:i=>`ID: ${i.Code}`}},{field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight no-outline".split(" "),sortable:!0,sort:"asc",filter:"agTextColumnFilter",onCellClicked:i=>this.toggleLanguage(i.data),valueGetter:i=>i.data.Culture},{field:"Status",width:72,headerClass:"dense",cellClass:"no-padding no-outline".split(" "),cellRenderer:ft,sortable:!0,filter:$.U,valueGetter:i=>i.data.IsEnabled,cellRendererParams:{onEnabledToggle:i=>this.toggleLanguage(i)}}]})}ngOnInit(){this.fetchLanguages()}ngOnDestroy(){this.languages$.complete()}toggleLanguage(e){this.zoneService.toggleLanguage(e.Code,!e.IsEnabled).subscribe(()=>{this.fetchLanguages()})}fetchLanguages(){this.zoneService.getLanguages().subscribe(e=>{this.languages$.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-site-languages"]],decls:4,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"grid-more-actions-box"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"ag-grid-angular",1),t.ALo(2,"async"),t._UZ(3,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("rowData",t.lcZ(2,3,i.languages$))("modules",i.modules)("gridOptions",i.gridOptions))},directives:[F.N8],pipes:[v.Ov],styles:[""]}),n})();var vt=s(8977),Ct=s(1640),bt=s(8947),xt=s(5266);let Tt=(()=>{class n{agInit(e){this.value=e.value,this.feature=e.data}refresh(e){return!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-list-enabled-reason"]],decls:2,vars:2,consts:[[3,"tippy"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&e&&(t.Q6J("tippy",i.feature.EnabledReasonDetailed),t.xp6(1),t.Oqu(i.value))},directives:[h.$],styles:[""]}),n})(),Zt=(()=>{class n{agInit(e){this.value=e.value}refresh(e){return!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-list-enabled"]],decls:3,vars:1,consts:[[1,"icon-container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-icon"),t._uU(2),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(i.value?"check_box":"check_box_outline_blank"))},directives:[T.Hw],styles:[""]}),n})();const At=function(n,a){return{"toggle-false":n,"toggle-null":a}};let yt=(()=>{class n{agInit(e){this.params=e,this.value=this.params.value,this.disabled=this.params.isDisabled()}refresh(e){return this.disabled=this.params.isDisabled(),!0}toggle(){const e=this.params.data;let i;switch(this.value){case!1:i=null;break;case null:i=!0;break;case!0:i=!1}this.value=i,this.params.onToggle(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-features-status"]],decls:1,vars:6,consts:[[3,"checked","disabled","ngClass","change"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-slide-toggle",0),t.NdJ("change",function(){return i.toggle()}),t.qZA()),2&e&&t.Q6J("checked",i.value)("disabled",i.disabled)("ngClass",t.WLB(3,At,!1===i.value,null===i.value))},directives:[G.Rr,v.mk],styles:["[_nghost-%COMP%]{height:100%;display:flex;padding-left:12px;padding-right:12px;align-items:center}.mat-slide-toggle[_ngcontent-%COMP%]{padding-top:0}  .toggle-false .mat-slide-toggle-bar{background-color:orange}  .toggle-null .mat-slide-toggle-thumb-container{margin-left:8px}"]}),n})();var It=s(845);function Ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"div",8)(4,"span",9),t.NdJ("click",function(){const c=t.CHM(e).ngIf;return t.oxw().copyToClipboard(c)}),t._uU(5),t.qZA()()()}if(2&n){const e=a.ngIf;t.xp6(4),t.Q6J("tippy",e),t.xp6(1),t.Oqu(e)}}function St(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"GUID"),t.qZA(),t.TgZ(3,"div",8)(4,"span",9),t.NdJ("click",function(){const c=t.CHM(e).ngIf;return t.oxw().copyToClipboard(c)}),t._uU(5),t.qZA()()()}if(2&n){const e=a.ngIf;t.xp6(4),t.Q6J("tippy",e),t.xp6(1),t.Oqu(e)}}function Lt(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"Security Rating"),t.qZA(),t.TgZ(3,"div",10)(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=a.ngIf;t.xp6(5),t.Oqu(e)}}let Dt=(()=>{class n{constructor(e,i,o){this.dialogData=e,this.dialogRef=i,this.snackBar=o}ngOnInit(){}closeDialog(){this.dialogRef.close()}copyToClipboard(e){(0,R.v)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.WI),t.Y36(b.so),t.Y36(w.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-feature-details-dialog"]],decls:13,vars:7,consts:[["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"dialog-description",3,"innerHtml"],[1,"info-box"],["class","info-row",4,"ngIf"],[1,"info-row"],[1,"info-row__label"],[1,"info-row__value","click"],[3,"tippy","click"],[1,"info-row__value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()()(),t._UZ(7,"p",3),t.ALo(8,"safeHtml"),t.TgZ(9,"div",4),t.YNc(10,Ot,6,2,"div",5),t.YNc(11,St,6,2,"div",5),t.YNc(12,Lt,6,1,"div",5),t.qZA()),2&e&&(t.xp6(3),t.Oqu(i.dialogData.feature.Name),t.xp6(4),t.Q6J("innerHtml",t.lcZ(8,5,i.dialogData.feature.Description),t.oJD),t.xp6(3),t.Q6J("ngIf",i.dialogData.feature.NameId),t.xp6(1),t.Q6J("ngIf",i.dialogData.feature.Guid),t.xp6(1),t.Q6J("ngIf",i.dialogData.feature.Security.Impact+": "+i.dialogData.feature.Security.Message))},directives:[b.uh,f.lW,h.$,T.Hw,v.O5],pipes:[It.z],styles:[".info-box[_ngcontent-%COMP%]{margin-top:32px}.info-row[_ngcontent-%COMP%]{display:flex;overflow-wrap:anywhere;margin-top:4px;margin-bottom:4px;font-size:14px}.info-row__label[_ngcontent-%COMP%]{flex:1;font-weight:500}.info-row__value[_ngcontent-%COMP%]{flex:2}.info-row__value.click[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var B=s(3119),wt=s(4742);function Mt(n,a){1&n&&t._UZ(0,"mat-spinner",12)}function Ft(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("filesDropped",function(o){return t.CHM(e),t.oxw().filesDropped(o)}),t.TgZ(1,"div",2)(2,"div",3),t._uU(3,"Upload license"),t.qZA()(),t.YNc(4,Mt,1,0,"mat-spinner",4),t._UZ(5,"p",5),t.TgZ(6,"div")(7,"button",6),t.NdJ("click",function(){return t.CHM(e),t.MAs(11).click()}),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t.TgZ(10,"input",7,8),t.NdJ("change",function(o){return t.CHM(e),t.oxw().fileChange(o)}),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().closeDialog()}),t._uU(14," Cancel "),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().upload()}),t._uU(16," Upload "),t.qZA()()()}if(2&n){const e=a.ngIf,i=t.oxw();let o;t.Q6J("allowedFileTypes","json"),t.xp6(4),t.Q6J("ngIf",e.loading),t.xp6(3),t.Q6J("disabled",e.loading),t.xp6(2),t.Oqu(null!==(o=null==i.importFile?null:i.importFile.name)&&void 0!==o?o:"Select or drop file"),t.xp6(4),t.Q6J("disabled",e.loading),t.xp6(2),t.Q6J("disabled",e.loading||!i.importFile)}}const Ut=function(n){return{loading:n}};let Pt=(()=>{class n{constructor(e,i,o){this.dialogRef=e,this.featuresConfigService=i,this.snackBar=o,this.hostClass="dialog-component",this.loading$=new r.X(!1)}ngOnInit(){}ngOnDestroy(){this.loading$.complete()}closeDialog(e){this.dialogRef.close(e)}filesDropped(e){this.importFile=e[0]}fileChange(e){this.importFile=e.target.files[0]}upload(){this.loading$.next(!0),this.snackBar.open("Uploading license..."),this.featuresConfigService.uploadLicense(this.importFile).subscribe({error:()=>{this.loading$.next(!1),this.snackBar.open("Failed to upload license. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.snackBar.open("License uploaded",void 0,{duration:2e3}),this.closeDialog(!0)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.so),t.Y36(B.G),t.Y36(w.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-license-dialog"]],hostVars:1,hostBindings:function(e,i){2&e&&t.Ikx("className",i.hostClass)},decls:2,vars:5,consts:[["appDragAndDrop","",3,"allowedFileTypes","filesDropped",4,"ngIf"],["appDragAndDrop","",3,"allowedFileTypes","filesDropped"],["mat-dialog-title",""],[1,"dialog-title-box"],["mode","indeterminate","diameter","20","color","accent",4,"ngIf"],[1,"dialog-description"],["mat-raised-button","","tippy","Open file browser",3,"disabled","click"],["type","file",1,"hide",3,"change"],["fileInput",""],[1,"dialog-component-actions"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mode","indeterminate","diameter","20","color","accent"]],template:function(e,i){1&e&&(t.YNc(0,Ft,17,6,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.VKq(3,Ut,t.lcZ(1,1,i.loading$)))},directives:[v.O5,Q.z,b.uh,wt.Ou,f.lW,h.$],pipes:[v.Ov],styles:[""]}),n})();var U=s(6531);let Nt=(()=>{class n{constructor(e){this.itemsCount=0,this.headerHeight=32,this.rowHeight=48,this.maxRows=100,this.extraHeight=2,this.element=e.nativeElement}ngOnChanges(e){null!=e.itemsCount&&(this.element.style.height=`${this.headerHeight+(0===this.itemsCount?2:this.itemsCount>this.maxRows?this.maxRows:this.itemsCount)*this.rowHeight+this.extraHeight}px`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","appAgGridHeight",""]],inputs:{itemsCount:"itemsCount",headerHeight:"headerHeight",rowHeight:"rowHeight",maxRows:"maxRows"},features:[t.TTD]}),n})(),$t=(()=>{class n{transform(e){return Array.isArray(e)?[...e].sort((o,c)=>o.Priority<c.Priority?-1:o.Priority>c.Priority?1:0):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"licensesOrder",type:n,pure:!0}),n})(),Et=(()=>{class n{transform(e){return`${e.Features.filter(i=>i.Enabled).length}/${e.Features.length}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"activeFeaturesCount",type:n,pure:!0}),n})();function kt(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"ag-grid-angular",12),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("rowData",e.Features)("modules",i.modules)("gridOptions",i.gridOptions)("itemsCount",null==e.Features?null:e.Features.length)}}function Jt(n,a){if(1&n&&(t.TgZ(0,"mat-expansion-panel",null,6)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon",7),t._uU(5),t.qZA(),t.TgZ(6,"div")(7,"div",8)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"span",9),t._uU(11),t.ALo(12,"activeFeaturesCount"),t.qZA()(),t.TgZ(13,"div",10),t._uU(14),t.qZA()()()(),t.YNc(15,kt,2,4,"ng-container",11),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(1);t.xp6(4),t.Q6J("tippy",e.IsEnabled?"License is active":"License is not active"),t.xp6(1),t.hij(" ",e.IsEnabled?"check_circle_outline":"cancel"," "),t.xp6(4),t.Oqu(e.Name),t.xp6(2),t.Oqu(t.lcZ(12,6,e)),t.xp6(3),t.Oqu(e.Description),t.xp6(1),t.Q6J("ngIf",i.expanded)}}function Ht(n,a){if(1&n&&(t.TgZ(0,"mat-accordion",4),t.YNc(1,Jt,16,8,"mat-expansion-panel",5),t.ALo(2,"licensesOrder"),t.qZA()),2&n){const e=a.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e))("ngForTrackBy",i.trackLicenses)}}function Rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().retrieveLicense()}),t.TgZ(1,"mat-icon"),t._uU(2,"cloud_download"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"License"),t.qZA()()}}function Yt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().openLicenseUpload()}),t.TgZ(1,"mat-icon"),t._uU(2,"cloud_upload"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"License"),t.qZA()()}}let qt=(()=>{class n{constructor(e,i,o,c,p){this.featuresConfigService=e,this.dialog=i,this.viewContainerRef=o,this.changeDetectorRef=c,this.globalConfigService=p,this.licenses$=new r.X(void 0),this.disabled$=new r.X(!1),this.debugEnabled$=this.globalConfigService.getDebugEnabled$(),this.modules=N.F$j,this.gridOptions=Object.assign(Object.assign({},k.f),{columnDefs:[{headerName:"ID",field:"Id",width:200,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),cellRenderer:E.m,sortable:!0,filter:"agTextColumnFilter",valueGetter:g=>g.data.NameId,cellRendererParams:{tooltipGetter:g=>`NameId: ${g.NameId}\nGUID: ${g.Guid}`}},{field:"Name",flex:3,minWidth:250,cellClass:"primary-action highlight".split(" "),sortable:!0,filter:"agTextColumnFilter",onCellClicked:g=>this.showFeatureDetails(g.data),valueGetter:g=>g.data.Name},{field:"Enabled",width:80,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:$.U,cellRenderer:Zt,valueGetter:g=>g.data.Enabled},{field:"EnabledReason",headerName:"Reason",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",cellRenderer:Tt,valueGetter:g=>g.data.EnabledReason},{field:"Expires",width:100,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:g=>{var S;const P=null===(S=g.data.Expires)||void 0===S?void 0:S.split("T")[0];return P.startsWith("9999")?"never":P}},{field:"Status",headerName:"",width:62,cellClass:"secondary-action no-outline no-padding".split(" "),pinned:"right",cellRenderer:yt,valueGetter:g=>g.data.EnabledStored,cellRendererParams:{isDisabled:()=>this.disabled$.value,onToggle:(g,S)=>this.toggleFeature(g,S)}}]}),this.subscription=new _.w0}ngOnInit(){this.fetchLicenses(),this.subscription.add(this.disabled$.pipe((0,vt.x)()).subscribe(()=>{var e;null===(e=this.gridRef)||void 0===e||e.api.refreshCells({force:!0,columns:["Status"]})}))}ngOnDestroy(){this.licenses$.complete(),this.disabled$.complete(),this.subscription.unsubscribe()}trackLicenses(e,i){return i.Guid}retrieveLicense(){this.featuresConfigService.retrieveLicense().subscribe()}openLicenseUpload(){this.dialog.open(Pt,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(i=>{i&&this.fetchLicenses()})}fetchLicenses(){this.featuresConfigService.getLicenses().subscribe({error:()=>{this.licenses$.next(void 0),this.disabled$.next(!1)},next:e=>{this.licenses$.next(e),this.disabled$.next(!1)}})}showFeatureDetails(e){this.dialog.open(Dt,{autoFocus:!1,data:{feature:e},viewContainerRef:this.viewContainerRef,width:"650px"}),this.changeDetectorRef.markForCheck()}toggleFeature(e,i){this.disabled$.next(!0),(0,Ct.D)([this.featuresConfigService.saveFeatures([{FeatureGuid:e.Guid,Enabled:i}]),(0,bt.H)(100)]).subscribe(()=>{this.fetchLicenses()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(B.G),t.Y36(b.uw),t.Y36(t.s_b),t.Y36(t.sBO),t.Y36(xt.bE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-license-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(F.N8,5),2&e){let o;t.iGM(o=t.CRH())&&(i.gridRef=o.first)}},decls:7,vars:9,consts:[["multi","",4,"ngIf"],[1,"actions-box"],["mat-button","","color","accent","tippy","Retrieve Licenses",3,"click",4,"ngIf"],["mat-button","","color","accent","tippy","Upload license",3,"click",4,"ngIf"],["multi",""],[4,"ngFor","ngForOf","ngForTrackBy"],["panel",""],[1,"panel-icon",3,"tippy"],[1,"panel-title"],[1,"active-features-count"],[1,"panel-description"],[4,"ngIf"],["appAgGridHeight","",1,"ag-theme-material",3,"rowData","modules","gridOptions","itemsCount"],["mat-button","","color","accent","tippy","Retrieve Licenses",3,"click"],["mat-button","","color","accent","tippy","Upload license",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,Ht,3,4,"mat-accordion",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,Rt,5,0,"button",2),t.ALo(4,"async"),t.YNc(5,Yt,5,0,"button",3),t.ALo(6,"async"),t.qZA()),2&e&&(t.Q6J("ngIf",t.lcZ(1,3,i.licenses$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,5,i.debugEnabled$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,i.debugEnabled$)))},directives:[v.O5,U.pp,v.sg,U.ib,U.yz,U.yK,T.Hw,h.$,F.N8,Nt,f.lW],pipes:[v.Ov,$t,Et],styles:["[_nghost-%COMP%]{display:block;padding-top:40px;padding-bottom:40px}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-content{max-height:100%}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:flex;align-items:center}.panel-icon[_ngcontent-%COMP%]{margin-right:16px}.panel-title[_ngcontent-%COMP%]{font-size:14px}.active-features-count[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;color:#fff;font-size:12px;border-radius:12px;padding:2px 6px;background-color:#002753;border:1px solid rgba(29,39,61,.44);box-sizing:border-box;-webkit-user-select:none;user-select:none;white-space:nowrap}.panel-description[_ngcontent-%COMP%]{padding-top:4px;font-size:12px;color:#0000008a;overflow:hidden}.actions-box[_ngcontent-%COMP%]{margin-top:8px}.actions-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:4px}"]}),n})();function Qt(n,a){1&n&&(t.TgZ(0,"div",12)(1,"mat-icon"),t._uU(2,"settings"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"System"),t.qZA()())}function Gt(n,a){if(1&n&&t._UZ(0,"app-system-info",13),2&n){const e=t.oxw().ngIf;t.Q6J("dialogSettings",e)}}function Bt(n,a){1&n&&(t.TgZ(0,"div",14)(1,"mat-icon"),t._uU(2,"star_border"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Apps"),t.qZA()())}function Wt(n,a){1&n&&t._UZ(0,"app-apps-list")}function zt(n,a){1&n&&(t.TgZ(0,"div",15)(1,"mat-icon"),t._uU(2,"translate"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Languages"),t.qZA()())}function Kt(n,a){1&n&&t._UZ(0,"app-site-languages")}function Xt(n,a){1&n&&(t.TgZ(0,"div",16)(1,"mat-icon"),t._uU(2,"tune"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Extensions / Features"),t.qZA()())}function jt(n,a){1&n&&t._UZ(0,"app-license-info")}function Vt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab-group",5),t.NdJ("selectedTabChange",function(o){return t.CHM(e),t.oxw().changeTab(o)}),t.ALo(1,"async"),t.TgZ(2,"mat-tab"),t.YNc(3,Qt,5,0,"div",6),t.YNc(4,Gt,1,1,"app-system-info",7),t.qZA(),t.TgZ(5,"mat-tab"),t.YNc(6,Bt,5,0,"div",8),t.YNc(7,Wt,1,0,"app-apps-list",9),t.qZA(),t.TgZ(8,"mat-tab"),t.YNc(9,zt,5,0,"div",10),t.YNc(10,Kt,1,0,"app-site-languages",9),t.qZA(),t.TgZ(11,"mat-tab"),t.YNc(12,Xt,5,0,"div",11),t.YNc(13,jt,1,0,"app-license-info",9),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("selectedIndex",t.lcZ(1,1,e.tabIndex$))}}let te=(()=>{class n{constructor(e,i,o,c,p){this.dialogRef=e,this.router=i,this.route=o,this.context=c,this.appDialogConfigService=p,this.zoneId=this.context.zoneId,this.dialogSettings$=new r.X(void 0),this.tabs=["system","list","languages","license"],this.tabIndex$=this.router.events.pipe((0,u.h)(g=>g instanceof l.m2),(0,C.U)(()=>this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)),(0,u.h)(g=>g>=0),(0,m.O)(this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path))),this.subscription=new _.w0}ngOnInit(){this.fetchDialogSettings(),this.refreshOnChildClosed()}ngOnDestroy(){this.dialogSettings$.complete(),this.subscription.unsubscribe()}closeDialog(){this.dialogRef.close()}changeTab(e){this.router.navigate([this.tabs[e.index]],{relativeTo:this.route})}fetchDialogSettings(){this.appDialogConfigService.getDialogSettings(0).subscribe(e=>{this.dialogSettings$.next(e)})}refreshOnChildClosed(){this.subscription.add(this.router.events.pipe((0,u.h)(e=>e instanceof l.m2),(0,m.O)(!!this.route.snapshot.firstChild.firstChild),(0,C.U)(()=>!!this.route.snapshot.firstChild.firstChild),(0,A.G)(),(0,u.h)(([e,i])=>e&&!i)).subscribe(()=>{this.fetchDialogSettings()}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.so),t.Y36(l.F0),t.Y36(l.gz),t.Y36(y._),t.Y36(I.Kw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apps-management-nav"]],decls:11,vars:4,consts:[["appToggleDebug","",1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],["class","mat-tab-group-max-height","dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange",4,"ngIf"],["dynamicHeight","","color","accent",1,"mat-tab-group-max-height",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","tippy","System Info",4,"matTabLabel"],[3,"dialogSettings",4,"matTabContent"],["class","mat-tab-label-box","tippy","Apps",4,"matTabLabel"],[4,"matTabContent"],["class","mat-tab-label-box","tippy","Languages",4,"matTabLabel"],["class","mat-tab-label-box","tippy","Extensions and Features",4,"matTabLabel"],["tippy","System Info",1,"mat-tab-label-box"],[3,"dialogSettings"],["tippy","Apps",1,"mat-tab-label-box"],["tippy","Languages",1,"mat-tab-label-box"],["tippy","Extensions and Features",1,"mat-tab-label-box"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()()(),t._UZ(8,"router-outlet"),t.YNc(9,Vt,14,3,"mat-tab-group",4),t.ALo(10,"async"),t.qZA()),2&e&&(t.xp6(4),t.hij("Manage Zone ",i.zoneId,""),t.xp6(5),t.Q6J("ngIf",t.lcZ(10,2,i.dialogSettings$)))},directives:[d.D,b.uh,f.lW,h.$,T.Hw,l.lC,v.O5,D.SP,D.uX,D.uD,D.Vc,at,_t,ht,qt],pipes:[v.Ov],styles:[""]}),n})()},3135:(L,x,s)=>{s.d(x,{Y:()=>b});var l=s(3184),r=s(6362),_=s(4770);function u(d,f){1&d&&l.GkF(0)}function C(d,f){if(1&d&&(l.TgZ(0,"mat-hint"),l.YNc(1,u,1,0,"ng-container",3),l.qZA()),2&d){l.oxw();const h=l.MAs(4);l.xp6(1),l.Q6J("ngTemplateOutlet",h)}}function m(d,f){1&d&&l.GkF(0)}function A(d,f){if(1&d&&(l.TgZ(0,"mat-error"),l.YNc(1,m,1,0,"ng-container",3),l.qZA()),2&d){l.oxw();const h=l.MAs(4);l.xp6(1),l.Q6J("ngTemplateOutlet",h)}}function I(d,f){1&d&&l.Hsn(0)}const y=function(d){return{"hint-box__short":d}},t=["*"];let b=(()=>{class d{constructor(){this.isError=!1,this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}}return d.\u0275fac=function(h){return new(h||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:t,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(h,T){1&h&&(l.F$t(),l.TgZ(0,"div",0),l.NdJ("click",function(){return T.toggleIsShort()}),l.YNc(1,C,2,1,"mat-hint",1),l.YNc(2,A,2,1,"mat-error",1),l.qZA(),l.YNc(3,I,1,0,"ng-template",null,2,l.W1O)),2&h&&(l.Q6J("ngClass",l.VKq(4,y,T.isShort))("ngSwitch",T.isError),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0))},directives:[r.mk,r.RF,r.n9,_.bx,r.tP,_.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),d})()},5578:(L,x,s)=>{s.d(x,{m:()=>y});var l=s(5388),r=s(3184),_=s(2528),u=s(1130),C=s(785),m=s(6362),A=s(5590);const I=function(t,b){return{"align-start":t,"align-end":b}};let y=(()=>{class t{constructor(d){this.snackBar=d}agInit(d){this.id=d.value,this.align="number"==typeof this.id?"end":"start",this.tooltip=d.tooltipGetter(d.data)}refresh(d){return!0}copy(){(0,l.v)(this.tooltip),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}}return t.\u0275fac=function(d){return new(d||t)(r.Y36(_.ux))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-id-field"]],decls:5,vars:6,consts:[["matRipple","",1,"id-box","highlight",3,"tippy","ngClass","click"],[1,"id"],[1,"icon"]],template:function(d,f){1&d&&(r.TgZ(0,"div",0),r.NdJ("click",function(){return f.copy()}),r.TgZ(1,"span",1),r._uU(2),r.qZA(),r.TgZ(3,"mat-icon",2),r._uU(4,"file_copy"),r.qZA()()),2&d&&(r.Q6J("tippy",f.tooltip)("ngClass",r.WLB(3,I,"start"===f.align,"end"===f.align)),r.xp6(2),r.Oqu(f.id))},directives:[u.wG,C.$,m.mk,A.Hw],styles:[".id-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.id-box.align-start[_ngcontent-%COMP%]{justify-content:flex-start}.id-box.align-end[_ngcontent-%COMP%]{justify-content:flex-end}.id-box[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{max-width:100%;text-overflow:ellipsis;overflow:hidden}.id-box[_ngcontent-%COMP%]:hover{text-decoration:none}.id-box[_ngcontent-%COMP%]:hover   .id[_ngcontent-%COMP%]{display:none}.id-box[_ngcontent-%COMP%]:not(:hover)   .icon[_ngcontent-%COMP%]{display:none}"]}),t})()},5469:(L,x,s)=>{s.d(x,{D:()=>_});var l=s(5266),r=s(3184);let _=(()=>{class u{constructor(m){this.globalConfigService=m}onClick(m){(navigator.platform.match("Mac")?m.metaKey:m.ctrlKey)&&m.shiftKey&&m.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}return u.\u0275fac=function(m){return new(m||u)(r.Y36(l.bE))},u.\u0275dir=r.lG2({type:u,selectors:[["","appToggleDebug",""]],hostBindings:function(m,A){1&m&&r.NdJ("click",function(y){return A.onClick(y)})}}),u})()},5388:(L,x,s)=>{function l(r){const _=document.createElement("textarea");_.value=r,_.setAttribute("readonly",""),_.style.position="absolute",_.style.left="-9999px",document.body.appendChild(_);const u=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);_.select(),document.execCommand("copy"),document.body.removeChild(_),u&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(u))}s.d(x,{v:()=>l})},845:(L,x,s)=>{s.d(x,{z:()=>_});var l=s(3184),r=s(318);let _=(()=>{class u{constructor(m){this.sanitizer=m}transform(m){return this.sanitizer.bypassSecurityTrustHtml(m)}}return u.\u0275fac=function(m){return new(m||u)(l.Y36(r.H7,16))},u.\u0275pipe=l.Yjl({name:"safeHtml",type:u,pure:!0}),u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.05.00/ng-edit/projects_ng-dialogs_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts.f3459966f2ff1ba6.js.map
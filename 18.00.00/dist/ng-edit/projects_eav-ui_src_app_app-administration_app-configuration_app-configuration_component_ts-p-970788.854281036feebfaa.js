"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts-p-970788"],{708:(z,E,a)=>{a.r(E),a.d(E,{AppConfigurationComponent:()=>Ot});var t=a(8559),f=a(9184),S=a(336),T=a(4902),x=a(2437),v=a(1735),l=a(52),C=a(3216),_=a(6666),R=a(8873),u=a(2785),W=a(4858),s=a(8713),r=a(5445),c=a(6443),F=a(4821);let j=(()=>{class o{constructor(e,i,n){this.http=e,this.context=i,this.dnnContext=n}getAppInternals(e,i,n,p){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/appinternals/get"),{params:{appId:this.context.appId.toString(),targetType:e.toString(),keyType:i,key:n.toString(),...p&&{contentType:p}}})}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(c.Qq),t.KVO(R.o),t.KVO(F.ob))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();const G={Settings:"Settings",Resources:"Resources"};var U=a(4205),V=a(9999),Y=a(271),N=a(8136),h=a(6838),O=a(7850),m=a(3454),g=a(519),y=a(6256),b=a(4175),L=a(316),w=a(3840),I=a(3777),J=a(4601),H=a(3347);const q=()=>({link:"https://docs.2sxc.org/basics/app/configuration.html"});function tt(o,d){1&o&&t.eu8(0)}function et(o,d){if(1&o){const e=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header",2)(2,"mat-card-title"),t.EFF(3,"Configuration"),t.k0s(),t.j41(4,"mat-icon"),t.EFF(5,"redeem"),t.k0s()(),t.j41(6,"mat-card-content"),t.nrm(7,"p"),t.j41(8,"div",3)(9,"div",4),t.EFF(10,"Name:"),t.k0s(),t.j41(11,"div",5)(12,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.displayName))}),t.EFF(13),t.k0s()()(),t.j41(14,"div",3)(15,"div",4),t.EFF(16,"Folder:"),t.k0s(),t.j41(17,"div",5)(18,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.folder))}),t.EFF(19),t.k0s()()(),t.j41(20,"div",3)(21,"div",4),t.EFF(22,"Version:"),t.k0s(),t.j41(23,"div",5)(24,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.version))}),t.EFF(25),t.k0s()()(),t.j41(26,"div",3)(27,"div",4),t.EFF(28,"For"),t.k0s(),t.j41(29,"div",5)(30,"b"),t.EFF(31,"2sxc: "),t.k0s(),t.j41(32,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.toSxc))}),t.EFF(33),t.k0s(),t.j41(34,"b"),t.EFF(35," DNN: "),t.k0s(),t.j41(36,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.dnn))}),t.EFF(37),t.k0s(),t.j41(38,"b"),t.EFF(39," Oqt: "),t.k0s(),t.j41(40,"span",6),t.bIt("click",function(){const n=t.eBV(e),p=t.XpG();return t.Njj(p.copyToClipboard(n.oqt))}),t.EFF(41),t.k0s()()()(),t.nrm(42,"div",7),t.j41(43,"mat-card-actions",8),t.DNE(44,tt,1,0,"ng-container",9),t.j41(45,"button",10),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.edit())}),t.j41(46,"mat-icon",11),t.EFF(47,"edit"),t.k0s(),t.j41(48,"span"),t.EFF(49,"Edit"),t.k0s()(),t.j41(50,"button",10),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openMetadata())}),t.j41(51,"mat-icon",11),t.EFF(52,"local_offer"),t.k0s(),t.j41(53,"span"),t.EFF(54,"Metadata"),t.k0s()()()()}if(2&o){const e=d;t.XpG();const i=t.sdS(3);t.R7$(12),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(e.displayName),t.R7$(5),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(e.folder),t.R7$(5),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.JRh(e.version),t.R7$(7),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",e.toSxc," "),t.R7$(3),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",e.dnn," "),t.R7$(3),t.Y8G("tippy","Click to copy to clipboard"),t.R7$(),t.SpI(" ",e.oqt," "),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(16,q)),t.R7$(2),t.Y8G("matBadge",e.appConfigurationsCount||null),t.R7$(5),t.Y8G("matBadge",e.appMetadataCount||null)}}function nt(o,d){if(1&o&&(t.j41(0,"a",12)(1,"mat-icon",13),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){let e;const i=d.$implicit,n=d.$implicit;t.FS9("href",d.link,t.B4B),t.Y8G("tippy","online documentation"),t.R7$(2),t.JRh(null!==(e=i)&&void 0!==e?e:"menu_book"),t.R7$(2),t.JRh(n)}}let it=(()=>{class o extends v.V{constructor(e,i,n,p,A,M){super(e,i),this.router=e,this.route=i,this.contentItemsService=n,this.context=p,this.snackBar=A,this.appInternalsService=M,this.appSettingsInternal$=new U.B,this.viewModel$=(0,V.z)([this.appSettingsInternal$,this.contentItemsService.getAll(l.YX.contentTypes.appConfiguration)]).pipe((0,Y.T)(([X,P])=>{const k=P[0];return{appConfigurationsCount:X.EntityLists.ToSxcContentApp.length,appMetadataCount:X.MetadataList.Items.length,displayName:k?.DisplayName??"-",folder:k?.Folder??"-",version:k?.Version??"-",toSxc:k?.RequiredVersion??"-",dnn:k?.RequiredDnnVersion??"-",oqt:k?.RequiredOqtaneVersion??"-"}}))}ngOnInit(){this.fetchSettings(),this.subscriptions.add(this.childDialogClosed$().subscribe(()=>{this.fetchSettings()}))}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}copyToClipboard(e){(0,g.l)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}edit(){const e=l.YX.contentTypes.appConfiguration;this.contentItemsService.getAll(e).subscribe(i=>{let n;if(i.length<1)throw new Error(`Found no settings for type ${e}`);if(i.length>1)throw new Error(`Found too many settings for type ${e}`);n={items:[{EntityId:i[0].Id}]};const p=(0,C.s)(n);this.router.navigate([`edit/${p}`],{relativeTo:this.route.parent.firstChild})})}openMetadata(){const e=m.H.getUrlApp(this.context.appId,`Metadata for App: ${this.dialogSettings.Context.App.Name} (${this.context.appId})`);this.router.navigate([e],{relativeTo:this.route.parent.firstChild})}fetchSettings(){this.appInternalsService.getAppInternals(l.YX.metadata.app.targetType,l.YX.metadata.app.keyType,this.context.appId).subscribe(i=>{this.appSettingsInternal$.next(i)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(f.Ix),t.rXU(f.nX),t.rXU(S.F),t.rXU(R.o),t.rXU(H.UG),t.rXU(j))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-app-configuration-card"]],inputs:{dialogSettings:"dialogSettings"},standalone:!0,features:[t.Vt3,t.aNF],decls:4,vars:3,consts:[["docsLink",""],[1,"eav-card"],[1,"eav-card-header"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click","tippy"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"],[1,"eav-icon"]],template:function(i,n){if(1&i&&(t.DNE(0,et,55,17,"mat-card",1),t.nI1(1,"async"),t.DNE(2,nt,5,4,"ng-template",null,0,t.C5r)),2&i){let p;t.vxM(0,(p=t.bMT(1,1,n.viewModel$))?0:-1,p)}},dependencies:[I.Hu,I.RN,I.YY,I.m2,I.MM,I.dh,w.m_,w.An,L.T3,b.Hl,b.It,b.$z,y.Y,y.k,L.Jj,J.e],styles:[".eav-card-space-div[_ngcontent-%COMP%]{min-height:30px}"]})}return o})();var ot=a(5943),K=a(5437),at=a(7941);const Q=()=>({link:"https://go.2sxc.org/settings"}),st=()=>({link:"https://go.2sxc.org/lightspeed"}),rt=()=>({link:"https://go.2sxc.org/csp"}),ct=()=>({link:"https://docs.2sxc.org/basics/app/permissions.html"}),lt=()=>({link:"https://patrons.2sxc.org/features/feat/PermissionsByLanguage"});function pt(o,d){1&o&&t.EFF(0," This is the Global App. Anything configured here will affect all Sites and Apps in this installation. ")}function dt(o,d){1&o&&t.EFF(0," This is the Primary App of this Site. You can also configure sitewide settings and resources here. ")}function mt(o,d){if(1&o&&(t.j41(0,"div",3),t.DNE(1,pt,1,0)(2,dt,1,0),t.EFF(3," See "),t.j41(4,"a",7),t.EFF(5,"docs"),t.k0s(),t.EFF(6,". "),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.vxM(1,e.isGlobal?1:-1),t.R7$(),t.vxM(2,e.isPrimary?2:-1)}}function ut(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",21),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",23),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",24),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(5),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null)}}function gt(o,d){1&o&&t.eu8(0)}function _t(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",25),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.Site))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",26),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",27),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customSettings,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,gt,1,0,"ng-container",28)}if(2&o){const e=t.XpG(),i=t.sdS(65);t.R7$(5),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",i)}}function ht(o,d){1&o&&t.eu8(0)}function ft(o,d){1&o&&t.eu8(0)}function Ct(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"button",29),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemSettings,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",30),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.settings))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.config(n.eavConstants.contentTypes.settings))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,ht,1,0,"ng-container",28)(15,ft,1,0,"ng-container",28)}if(2&o){const e=t.XpG(),i=t.sdS(65),n=t.sdS(67),p=t.XpG();t.R7$(2),t.JRh(p.dialogSettings.Context.App.Name),t.R7$(3),t.Y8G("matBadge",e.systemSettingsCount||null),t.R7$(4),t.Y8G("matBadge",e.customSettingsCount||null),t.R7$(3),t.Y8G("matBadge",e.customSettingsFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function bt(o,d){1&o&&t.eu8(0)}function vt(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",33),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",34),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()()}if(2&o){const e=t.XpG();t.R7$(5),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null)}}function yt(o,d){1&o&&t.eu8(0)}function St(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",35),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.Site))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",36),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"edit"))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",37),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.fixContentType(n.eavConstants.contentTypes.customResources,"config"))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,yt,1,0,"ng-container",28)}if(2&o){const e=t.XpG(),i=t.sdS(65);t.R7$(5),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",i)}}function Ft(o,d){1&o&&t.eu8(0)}function Et(o,d){1&o&&t.eu8(0)}function Tt(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"button",38),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.systemResources,n.SystemSettingsScopes.App))}),t.j41(5,"mat-icon",22),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"td")(8,"button",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.edit(n.eavConstants.contentTypes.resources))}),t.j41(9,"mat-icon",22),t.EFF(10,"edit"),t.k0s()(),t.j41(11,"button",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.config(n.eavConstants.contentTypes.resources))}),t.j41(12,"mat-icon",22),t.EFF(13,"dns"),t.k0s()()()(),t.DNE(14,Ft,1,0,"ng-container",28)(15,Et,1,0,"ng-container",28)}if(2&o){const e=t.XpG(),i=t.sdS(65),n=t.sdS(67),p=t.XpG();t.R7$(2),t.JRh(p.dialogSettings.Context.App.Name),t.R7$(3),t.Y8G("matBadge",e.systemResourcesCount||null),t.R7$(4),t.Y8G("matBadge",e.customResourcesCount||null),t.R7$(3),t.Y8G("matBadge",e.customResourcesFieldsCount||null),t.R7$(2),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",i)}}function jt(o,d){1&o&&t.eu8(0)}function It(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Global"),t.k0s(),t.j41(3,"td")(4,"button",41),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openGlobalSettings())}),t.j41(5,"mat-icon"),t.EFF(6,"open_in_new"),t.k0s()()()()}}function kt(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th"),t.EFF(2,"Site"),t.k0s(),t.j41(3,"td")(4,"button",42),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openSiteSettings())}),t.j41(5,"mat-icon"),t.EFF(6,"open_in_new"),t.k0s()()()()}}function xt(o,d){1&o&&t.eu8(0)}function Rt(o,d){1&o&&t.eu8(0)}function At(o,d){1&o&&t.eu8(0)}function Bt(o,d){1&o&&t.EFF(0," (not on Global App) ")}function $t(o,d){1&o&&t.EFF(0," (not on Content) ")}function Dt(o,d){if(1&o&&t.DNE(0,Bt,1,0)(1,$t,1,0),2&o){const e=t.XpG(2);t.vxM(0,e.isGlobal?0:-1),t.R7$(),t.vxM(1,e.isApp?1:-1)}}function Gt(o,d){1&o&&t.eu8(0)}function Mt(o,d){if(1&o){const e=t.RV6();t.DNE(0,mt,7,2,"div",3),t.j41(1,"div",4)(2,"mat-card",5)(3,"mat-card-header",6)(4,"mat-card-title"),t.EFF(5,"Settings"),t.k0s(),t.j41(6,"mat-icon"),t.EFF(7,"settings"),t.k0s()(),t.j41(8,"mat-card-content")(9,"p"),t.EFF(10,' Settings are things like SQL-connection strings, default "items-to-show" numbers and similar. If necessary, settings like a link to an RSS-Feed could be different in each language. '),t.j41(11,"a",7),t.EFF(12,"docs"),t.k0s()(),t.j41(13,"table",8)(14,"thead")(15,"tr"),t.nrm(16,"th"),t.j41(17,"th"),t.EFF(18,"System Settings"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Custom Settings"),t.k0s()()(),t.j41(21,"tbody"),t.DNE(22,ut,14,3,"tr")(23,_t,15,4)(24,Ct,16,6),t.k0s()()(),t.nrm(25,"div",9),t.j41(26,"mat-card-actions",10),t.DNE(27,bt,1,0,"ng-container",11),t.j41(28,"button",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.analyze(n.AnalyzeParts.Settings))}),t.j41(29,"mat-icon",13),t.EFF(30,"manage_search"),t.k0s(),t.j41(31,"span"),t.EFF(32,"Analyze Combined Settings"),t.k0s()()()(),t.j41(33,"mat-card",5)(34,"mat-card-header",6)(35,"mat-card-title"),t.EFF(36,"Language Resources (i18n)"),t.k0s(),t.j41(37,"mat-icon"),t.EFF(38,"translate"),t.k0s()(),t.j41(39,"mat-card-content")(40,"p"),t.EFF(41," Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and should not be used for App-Settings. "),t.j41(42,"a",7),t.EFF(43,"docs"),t.k0s()(),t.j41(44,"table",8)(45,"thead")(46,"tr"),t.nrm(47,"th"),t.j41(48,"th"),t.EFF(49,"System Resources"),t.k0s(),t.j41(50,"th"),t.EFF(51,"Custom Resources"),t.k0s()()(),t.j41(52,"tbody"),t.DNE(53,vt,14,3,"tr")(54,St,15,4)(55,Tt,16,6),t.k0s()()(),t.nrm(56,"div",9),t.j41(57,"mat-card-actions",10),t.DNE(58,jt,1,0,"ng-container",11),t.j41(59,"button",14),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.analyze(n.AnalyzeParts.Resources))}),t.j41(60,"mat-icon",13),t.EFF(61,"manage_search"),t.k0s(),t.j41(62,"span"),t.EFF(63,"Analyze Combined Resources"),t.k0s()()()(),t.DNE(64,It,7,0,"ng-template",null,1,t.C5r)(66,kt,7,0,"ng-template",null,2,t.C5r),t.k0s(),t.j41(68,"div",4),t.nrm(69,"app-app-configuration-card",15),t.j41(70,"mat-card",5)(71,"mat-card-header",6)(72,"mat-card-title"),t.EFF(73,"Performance"),t.k0s(),t.j41(74,"mat-icon"),t.EFF(75,"bolt"),t.k0s()(),t.j41(76,"mat-card-content")(77,"p"),t.EFF(78," LightSpeed Output Cache to speed up page by 50-90% "),t.k0s(),t.nrm(79,"app-feature-text-info",16),t.k0s(),t.nrm(80,"div",9),t.j41(81,"mat-card-actions",10),t.DNE(82,xt,1,0,"ng-container",11),t.j41(83,"button",17),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openLightSpeed())}),t.j41(84,"mat-icon",18),t.EFF(85,"bolt"),t.k0s(),t.j41(86,"span"),t.EFF(87,"Edit LightSpeed"),t.k0s()()()(),t.j41(88,"mat-card",5)(89,"mat-card-header",6)(90,"mat-card-title"),t.EFF(91,"Security"),t.k0s(),t.j41(92,"mat-icon"),t.EFF(93,"local_police"),t.k0s()(),t.j41(94,"mat-card-content")(95,"p"),t.EFF(96," ContentSecurityPolicy (CSP) features in this App - for maximum control. "),t.k0s(),t.nrm(97,"app-feature-text-info",16),t.k0s(),t.nrm(98,"div",9),t.j41(99,"mat-card-actions",10),t.DNE(100,Rt,1,0,"ng-container",11),t.k0s()(),t.j41(101,"mat-card",5)(102,"mat-card-header",6)(103,"mat-card-title"),t.EFF(104,"Permissions"),t.k0s(),t.j41(105,"mat-icon"),t.EFF(106,"person"),t.k0s()(),t.j41(107,"mat-card-content")(108,"p"),t.EFF(109," Give access to the entire app (all data). Use with care. "),t.k0s()(),t.nrm(110,"div",9),t.j41(111,"mat-card-actions",10),t.DNE(112,At,1,0,"ng-container",11),t.j41(113,"button",17),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openPermissions())}),t.j41(114,"mat-icon",18),t.EFF(115,"person"),t.k0s(),t.j41(116,"span"),t.EFF(117," Edit Permissions "),t.DNE(118,Dt,2,2),t.k0s()(),t.DNE(119,Gt,1,0,"ng-container",11),t.j41(120,"button",19),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openLanguagePermissions(n.langPermsEnabled()))}),t.j41(121,"mat-icon",20),t.EFF(122," person "),t.k0s(),t.j41(123,"span"),t.EFF(124,"Language Permissions"),t.k0s()()()()()}if(2&o){const e=t.XpG(),i=t.sdS(3);t.vxM(0,e.isGlobal||e.isPrimary?0:-1),t.R7$(22),t.vxM(22,e.isGlobal?22:-1),t.R7$(),t.vxM(23,e.isPrimary?23:-1),t.R7$(),t.vxM(24,e.isApp?24:-1),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(30,Q)),t.R7$(26),t.vxM(53,e.isGlobal?53:-1),t.R7$(),t.vxM(54,e.isPrimary?54:-1),t.R7$(),t.vxM(55,e.isApp?55:-1),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(31,Q)),t.R7$(11),t.Y8G("dialogSettings",e.dialogSettings),t.R7$(10),t.Y8G("featureNameId","LightSpeedOutputCache")("asInfo",!0),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(32,st)),t.R7$(),t.FS9("disabled",!e.lightSpeedEnabled()),t.R7$(),t.Y8G("matBadge",d.appLightSpeedCount||null),t.R7$(13),t.Y8G("featureNameId","ContentSecurityPolicy")("asInfo",!0),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(33,rt)),t.R7$(12),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(34,ct)),t.R7$(),t.Y8G("disabled",!e.dialogSettings.Context.Enable.AppPermissions),t.R7$(),t.Y8G("matBadge",e.dialogSettings.Context.App.Permissions.Count||null),t.R7$(4),t.vxM(118,e.dialogSettings.Context.Enable.AppPermissions?-1:118),t.R7$(),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.lJ4(35,lt)),t.R7$(2),t.Y8G("matBadgeHidden",e.langPermsEnabled())}}function Nt(o,d){if(1&o&&(t.j41(0,"a",43)(1,"mat-icon",13),t.EFF(2),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&o){let e;const i=d.$implicit,n=d.$implicit;t.FS9("href",d.link,t.B4B),t.Y8G("tippy","online documentation"),t.R7$(2),t.JRh(null!==(e=i)&&void 0!==e?e:"menu_book"),t.R7$(2),t.JRh(n)}}let Ot=(()=>{class o extends v.V{constructor(e,i,n,p,A,M,X,P,k,Z,Xt){super(i,n),this.contentItemsService=e,this.router=i,this.route=n,this.context=p,this.snackBar=A,this.appInternalsService=M,this.globalConfigService=X,this.appDialogConfigService=P,this.dialog=k,this.viewContainerRef=Z,this.changeDetectorRef=Xt,this.dialogService=(0,K.d)(u.o),this.contentTypesService=(0,K.d)(r.gs),this.eavConstants=l.YX,this.AnalyzeParts=G,this.SystemSettingsScopes=l.Sq,this.AppScopes=_.F,this.debugEnabled$=this.globalConfigService.getDebugEnabled$(),this.appSettingsInternal$=new U.B,this.appStateAdvanced=!1,this.features=(0,t.WQX)(W.D),this.lightSpeedEnabled=this.features.isEnabled(N.T.LightSpeed),this.cspEnabled=this.features.isEnabled(N.T.ContentSecurityPolicy),this.langPermsEnabled=this.features.isEnabled(N.T.PermissionsByLanguage),this.features.loadFromService(P),this.viewModel$=(0,V.z)([this.appSettingsInternal$]).pipe((0,Y.T)(([B])=>({appLightSpeedCount:B.MetadataList.Items.filter($=>$._Type.Name==l.YX.appMetadata.LightSpeed.ContentTypeName).length,systemSettingsCount:this.isPrimary?B.EntityLists.SettingsSystem.filter($=>$.SettingsEntityScope===l.Sq.Site).length:B.EntityLists.SettingsSystem.filter($=>!$.SettingsEntityScope).length,customSettingsCount:B.EntityLists.AppSettings?.length,customSettingsFieldsCount:B.FieldAll.AppSettings?.length,systemResourcesCount:this.isPrimary?B.EntityLists.ResourcesSystem.filter($=>$.SettingsEntityScope===l.Sq.Site).length:B.EntityLists.ResourcesSystem.filter($=>!$.SettingsEntityScope).length,customResourcesCount:B.EntityLists.AppResources?.length,customResourcesFieldsCount:B.FieldAll.AppResources?.length})))}ngOnInit(){this.fetchSettings(),this.subscriptions.add(this.childDialogClosed$().subscribe(()=>{this.fetchSettings()})),this.appDialogConfigService.getCurrent$().subscribe(e=>{this.dialogSettings=e;const i=e.Context.App.SettingsScope;this.isGlobal=i===_.F.Global,this.isPrimary=i===_.F.Site,this.isApp=i===_.F.App})}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}edit(e,i){this.contentItemsService.getAll(e).subscribe(n=>{let p;switch(e){case l.YX.contentTypes.systemSettings:case l.YX.contentTypes.systemResources:const M=n.filter(k=>i===l.Sq.App?!k.SettingsEntityScope:k.SettingsEntityScope===l.Sq.Site);if(M.length>1)throw new Error(`Found too many settings for type ${e}`);const X=M[0];p={items:[null==X?{ContentTypeName:e,Prefill:{...i===l.Sq.Site&&{SettingsEntityScope:l.Sq.Site}}}:{EntityId:X.Id}]};break;case l.YX.contentTypes.customSettings:case l.YX.contentTypes.customResources:if(n.length>1)throw new Error(`Found too many settings for type ${e}`);const P=n[0];p={items:[null==P?{ContentTypeName:e}:{EntityId:P.Id}]};break;default:if(n.length<1)throw new Error(`Found no settings for type ${e}`);if(n.length>1)throw new Error(`Found too many settings for type ${e}`);p={items:[{EntityId:n[0].Id}]}}const A=(0,C.s)(p);this.router.navigate([`edit/${A}`],{relativeTo:this.route.parent.firstChild})})}openLightSpeed(){const e=s.g.getLightSpeedEditParams(this.context.appId),i=(0,C.s)(e);this.router.navigate([`edit/${i}`],{relativeTo:this.route.parent.firstChild})}openSiteSettings(){const e=this.dialogSettings.Context.Site.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openGlobalSettings(){const e=this.dialogSettings.Context.System.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}config(e){this.router.navigate([`fields/${e}`],{relativeTo:this.route.parent.firstChild})}openPermissions(){this.router.navigate([x.k.getUrlApp(this.context.appId)],{relativeTo:this.route.parent.firstChild})}openLanguagePermissions(e){e?this.router.navigate(["language-permissions"],{relativeTo:this.route.parent.firstChild}):(0,h.jr)(this.dialog,N.T.PermissionsByLanguage,this.viewContainerRef,this.changeDetectorRef)}analyze(e){this.router.navigate([`analyze/${e}`],{relativeTo:this.route.parent.firstChild})}fetchSettings(){this.appInternalsService.getAppInternals(l.YX.metadata.app.targetType,l.YX.metadata.app.keyType,this.context.appId).subscribe(i=>{this.appSettingsInternal$.next(i)})}fixContentType(e,i){this.contentTypesService.retrieveContentTypes(l.YX.scopes.configuration.value).subscribe(n=>{n.some(A=>A.Name===e)?"edit"===i?this.edit(e):"config"===i&&this.config(e):this.contentTypesService.save({StaticName:"",Name:e,Description:"",Scope:l.YX.scopes.configuration.value,ChangeStaticName:!1,NewStaticName:""}).subscribe(M=>{M&&("edit"===i?this.edit(e):"config"===i&&this.config(e))})})}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(S.F),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(R.o),t.rXU(H.UG),t.rXU(j),t.rXU(T.Bj),t.rXU(r.bd),t.rXU(at.bZ),t.rXU(t.c1b),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-app-configuration"]],standalone:!0,features:[t.Jv_([S.F,j,ot.N]),t.Vt3,t.aNF],decls:5,vars:3,consts:[["docsLink",""],["goToGlobal",""],["goToSite",""],[1,"alert","alert-info","scope-info"],[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],["href","https://go.2sxc.org/settings","target","_blank"],[1,"eav-settings-and-resources-table"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","","tippy","See the result of combining all settings",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","tippy","See the result of combining all resources",1,"eav-button__with-icon",3,"click"],[3,"dialogSettings"],[3,"featureNameId","asInfo"],["mat-button","",1,"eav-button__with-icon",3,"click","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadgeHidden"],["mat-icon-button","","tippy","Edit global system settings",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge"],["mat-icon-button","","tippy","Edit custom global settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global settings",3,"click"],["mat-icon-button","","tippy","Edit site system settings",3,"click"],["mat-icon-button","","tippy","Edit custom site settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site settings",3,"click"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippy","Edit app system settings",3,"click"],["mat-icon-button","","tippy","Edit custom app settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app settings",3,"click"],["mat-icon-button","","tippy","Edit global system resources",3,"click"],["mat-icon-button","","tippy","Edit custom global resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global resources",3,"click"],["mat-icon-button","","tippy","Edit site system resources",3,"click"],["mat-icon-button","","tippy","Edit custom site resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site resources",3,"click"],["mat-icon-button","","tippy","Edit app system resources",3,"click"],["mat-icon-button","","tippy","Edit custom app resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app resources",3,"click"],["mat-icon-button","","tippy","Go to global",3,"click"],["mat-icon-button","","tippy","Go to site",3,"click"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"]],template:function(i,n){if(1&i&&(t.DNE(0,Mt,125,36),t.nI1(1,"async"),t.DNE(2,Nt,5,4,"ng-template",null,0,t.C5r),t.nrm(4,"router-outlet")),2&i){let p;t.vxM(0,(p=t.bMT(1,1,n.viewModel$))?0:-1,p)}},dependencies:[I.Hu,I.RN,I.YY,I.m2,I.MM,I.dh,w.m_,w.An,b.Hl,b.It,b.$z,b.iY,y.Y,y.k,L.T3,it,O.L,f.n3,L.Jj,J.e],styles:[".eav-settings-and-resources-table[_ngcontent-%COMP%]{width:100%}.eav-settings-and-resources-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.eav-settings-and-resources-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}"]})}return o})()},3051:(z,E,a)=>{a.d(E,{h6:()=>R,zZ:()=>C});var t=a(271),f=a(7693),S=a(8873),T=a(8559),x=a(6443),v=a(4821);const l="admin/field/",C="admin/field/all",_="admin/field/GetSharedFields";let R=(()=>{class u{constructor(s,r,c){this.http=s,this.context=r,this.dnnContext=c}apiUrl(s){return this.dnnContext.$2sxc.http.apiUrl(s)}typeListRetrieve(){return this.http.get(this.apiUrl(l+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(l+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,t.T)(s=>s.map(c=>({dataType:c.Type.substring(0,c.Type.indexOf("-")),inputType:c.Type,label:c.Label,description:c.Description,isDefault:c.IsDefault,isObsolete:c.IsObsolete,isRecommended:c.IsRecommended,obsoleteMessage:c.ObsoleteMessage,icon:c.IsDefault?"star":c.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(l+"ReservedNames"))}getFields(s){return this.http.get(this.apiUrl(C),{params:{appid:this.context.appId.toString(),staticName:s}}).pipe((0,t.T)(r=>{if(r)for(const c of r){if(!c.Metadata)continue;const F=c.Metadata;F.merged={...F.All,...F[c.Type],...F[c.InputType]}}return r}))}getShareableFields(){return this.http.get(this.apiUrl(_),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(s){return this.http.get(this.apiUrl(_),{params:{appid:this.context.appId.toString(),attributeId:s.toString()}})}addInheritedField(s,r,c,F){return this.http.post(this.apiUrl(l+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:s.toString(),SourceType:r,SourceField:c,name:F}})}share(s,r=!0){return this.http.post(this.apiUrl(l+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:s.toString(),share:r}})}inherit(s,r){return this.http.post(this.apiUrl(l+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:s.toString(),inheritMetadataOf:r}})}reOrder(s,r){return this.http.post(this.apiUrl(l+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:r.Id.toString(),order:JSON.stringify(s)}})}setTitle(s,r){return this.http.post(this.apiUrl(f.X+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:r.Id.toString(),attributeId:s.Id.toString()}})}rename(s,r,c){return this.http.post(this.apiUrl(l+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:r.toString(),attributeId:s.toString(),newName:c}})}delete(s,r){if(s.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(l+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:r.Id.toString(),attributeId:s.Id.toString()}})}add(s,r){return this.http.post(this.apiUrl(l+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:r.toString(),Id:s.Id.toString(),Type:s.Type,InputType:s.InputType,StaticName:s.StaticName,IsTitle:s.IsTitle.toString(),Index:s.SortOrder.toString()}})}updateInputType(s,r,c){return this.http.post(this.apiUrl(l+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:s.toString(),field:r,inputType:c}})}static#t=this.\u0275fac=function(r){return new(r||u)(T.KVO(x.Qq),T.KVO(S.o),T.KVO(v.ob))};static#e=this.\u0275prov=T.jDH({token:u,factory:u.\u0275fac})}return u})()},8136:(z,E,a)=>{a.d(E,{T:()=>t});const t={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",FieldShareConfigManagement:"FieldShareConfigManagement"}},5943:(z,E,a)=>{a.d(E,{N:()=>x});var t=a(8559),f=a(6443),S=a(4821);let x=(()=>{class v{constructor(C,_){this.http=C,this.dnnContext=_}getFeatureDetails(C){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/feature/details"),{params:{nameId:C}})}static#t=this.\u0275fac=function(_){return new(_||v)(t.KVO(f.Qq),t.KVO(S.ob))};static#e=this.\u0275prov=t.jDH({token:v,factory:v.\u0275fac})}return v})()},6838:(z,E,a)=>{a.d(E,{xG:()=>Y,IM:()=>V,jr:()=>N});var t=a(8559),f=a(7941),S=a(4858),T=a(519),x=a(852),v=a(316),l=a(3840),C=a(4175),_=a(3777),R=a(4601),u=a(9914),W=a(3347),s=a(5943);function r(h,O){if(1&h){const m=t.RV6();t.j41(0,"div",1)(1,"div",2),t.EFF(2,"ID:"),t.k0s(),t.j41(3,"div",7)(4,"span",8),t.bIt("click",function(){const y=t.eBV(m),b=t.XpG(2);return t.Njj(b.copyToClipboard(y))}),t.EFF(5),t.k0s()()()}if(2&h){const m=O;t.R7$(4),t.Y8G("tippy",m),t.R7$(),t.JRh(m)}}function c(h,O){if(1&h){const m=t.RV6();t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.k0s()(),t.j41(4,"mat-card-content"),t.nrm(5,"p",0),t.nI1(6,"safeHtml"),t.j41(7,"div",1)(8,"div",2),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",3)(12,"span"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.DNE(15,r,6,2,"div",1),t.k0s(),t.j41(16,"mat-card-actions",4)(17,"button",5),t.bIt("click",function(){const y=t.eBV(m),b=t.XpG();return t.Njj(b.findOutMore(y.link))}),t.j41(18,"mat-icon"),t.EFF(19,"open_in_new"),t.k0s(),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"button",6),t.bIt("click",function(){t.eBV(m);const y=t.XpG();return t.Njj(y.closeDialog())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()}if(2&h){let m;const g=O;t.R7$(3),t.JRh(g.name),t.R7$(2),t.Y8G("innerHtml",t.bMT(6,7,g.description),t.npT),t.R7$(4),t.SpI("",t.bMT(10,9,"Features.Status"),":"),t.R7$(4),t.JRh(t.bMT(14,11,g.isEnabled?"Features.Active":"Features.NotActive")),t.R7$(2),t.vxM(15,(m=g.nameId)?15:-1,m),t.R7$(5),t.SpI(" ",t.bMT(21,13,"Features.FindOutMore")," "),t.R7$(3),t.SpI(" ",t.bMT(24,15,"Features.Close")," ")}}let F=(()=>{class h{constructor(m,g,y,b){this.dialogData=m,this.dialogRef=g,this.snackBar=y,this.featureDetailService=b}ngOnInit(){this.viewModel$=this.featureDetailService.getFeatureDetails(this.dialogData)}copyToClipboard(m){(0,T.l)(m),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}findOutMore(m){window.open(m,"_blank")}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(g){return new(g||h)(t.rXU(f.Vh),t.rXU(f.CP),t.rXU(W.UG),t.rXU(s.N))};static#e=this.\u0275cmp=t.VBU({type:h,selectors:[["app-feature-info-dialog"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],["align","end"],["mat-raised-button","","color","accent",1,"eav-card-action-button",3,"click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"],[1,"eav-info-row__value","eav_click"],[3,"click","tippy"]],template:function(g,y){if(1&g&&(t.DNE(0,c,25,17,"mat-card"),t.nI1(1,"async")),2&g){let b;t.vxM(0,(b=t.bMT(1,1,y.viewModel$))?0:-1,b)}},dependencies:[_.Hu,_.RN,_.YY,_.m2,_.MM,_.dh,C.Hl,C.$z,l.m_,l.An,v.Jj,x.h,x.D9,R.e,u.$]})}return h})();var D=a(5797),j=a(6647),G=a(9999),U=a(271);const V=[s.N];let Y=(()=>{class h{set featureNameId(m){this.featureNameId$.next(m)}set showIf(m){this.showIf$.next(1==m)}constructor(){this.featureNameId$=new D.t(null),this.showIf$=new D.t(!1),this.dialog=(0,t.WQX)(f.bZ),this.viewContainerRef=(0,t.WQX)(t.c1b),this.changeDetectorRef=(0,t.WQX)(t.gRc),this.featuresService=(0,t.WQX)(S.D),this.feature$=this.featureNameId$.pipe((0,j.n)(m=>this.featuresService.get$(m))),this.show$=(0,G.z)([this.feature$,this.showIf$]).pipe((0,U.T)(([m,g])=>g==(m?.isEnabled??!1)))}openDialog(){N(this.dialog,this.featureNameId$.value,this.viewContainerRef,this.changeDetectorRef)}static#t=this.\u0275fac=function(g){return new(g||h)};static#e=this.\u0275dir=t.FsC({type:h,inputs:{featureNameId:"featureNameId",showIf:"showIf"}})}return h})();function N(h,O,m,g){h.open(F,{autoFocus:!1,data:O,viewContainerRef:m,width:"400px"}),g.markForCheck()}},6256:(z,E,a)=>{a.d(E,{Y:()=>R,k:()=>_});var t=a(8559),f=a(5060),S=a(2102),T=a(316);let x=0;const v="mat-badge-content",l=new Set;let C=(()=>{class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275cmp=t.VBU({type:u,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(r,c){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return u})(),_=(()=>{class u{get color(){return this._color}set color(s){this._setColor(s),this._color=s}get content(){return this._content}set content(s){this._updateRenderedContent(s)}get description(){return this._description}set description(s){this._updateDescription(s)}constructor(s,r,c,F,D){this._ngZone=s,this._elementRef=r,this._ariaDescriber=c,this._renderer=F,this._animationMode=D,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=x++,this._isInitialized=!1,this._interactivityChecker=(0,t.WQX)(S.Z7),this._document=(0,t.WQX)(T.qQ);const j=(0,t.WQX)(t.o8S);if(!l.has(j)){l.add(j);const G=(0,t.a0P)(C,{environmentInjector:(0,t.WQX)(t.uvJ)});j.onDestroy(()=>{l.delete(j),0===l.size&&G.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const s=this._renderer.createElement("span"),r="mat-badge-active";return s.setAttribute("id",`mat-badge-content-${this._id}`),s.setAttribute("aria-hidden","true"),s.classList.add(v),"NoopAnimations"===this._animationMode&&s.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(s),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{s.classList.add(r)})}):s.classList.add(r),s}_updateRenderedContent(s){const r=`${s??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!s||this._isHostInteractive())&&this._removeInlineDescription(),this._description=s,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,s):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(s){const r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),s&&r.add(`mat-badge-${s}`)}_clearExistingBadges(){const s=this._elementRef.nativeElement.querySelectorAll(`:scope > .${v}`);for(const r of Array.from(s))r!==this._badgeElement&&r.remove()}static#t=this.\u0275fac=function(r){return new(r||u)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(S.vr),t.rXU(t.sFG),t.rXU(t.bc$,8))};static#e=this.\u0275dir=t.FsC({type:u,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,c){2&r&&t.AVh("mat-badge-overlap",c.overlap)("mat-badge-above",c.isAbove())("mat-badge-below",!c.isAbove())("mat-badge-before",!c.isAfter())("mat-badge-after",c.isAfter())("mat-badge-small","small"===c.size)("mat-badge-medium","medium"===c.size)("mat-badge-large","large"===c.size)("mat-badge-hidden",c.hidden||!c.content)("mat-badge-disabled",c.disabled)},inputs:{color:[t.Mj6.None,"matBadgeColor","color"],overlap:[t.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",t.L39],disabled:[t.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",t.L39],position:[t.Mj6.None,"matBadgePosition","position"],content:[t.Mj6.None,"matBadge","content"],description:[t.Mj6.None,"matBadgeDescription","description"],size:[t.Mj6.None,"matBadgeSize","size"],hidden:[t.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",t.L39]},standalone:!0,features:[t.GFd]})}return u})(),R=(()=>{class u{static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275mod=t.$C({type:u});static#n=this.\u0275inj=t.G2t({imports:[S.Pd,f.yE,f.yE]})}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts-p-970788.854281036feebfaa.js.map
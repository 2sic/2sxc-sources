"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sync-configuration_sync-configuration_component_ts-0e6134"],{6364:(y,v,n)=>{n.r(v),n.d(v,{SyncConfigurationComponent:()=>T});var e=n(9184),h=n(1735),E=n(320),C=n(8624),g=n(2743),u=n(7850),F=n(4456),d=n(8827),l=n(4175),D=n(3840),_=n(3777),j=n(5437),t=n(8559),x=n(3347);function k(c,I){1&c&&(t.j41(0,"p"),t.nrm(1,"br"),t.EFF(2," In Advanced mode you can also sync all the site files used by this app. They will be placed in a folder inside "),t.j41(3,"code"),t.EFF(4,"App_Data"),t.k0s(),t.EFF(5," and allow sync/restore with git or another server. "),t.k0s())}function A(c,I){1&c&&t.nrm(0,"app-feature-text-info",9),2&c&&t.Y8G("featureNameId","AppSyncWithSiteFiles")}function M(c,I){if(1&c){const r=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(r);const a=t.XpG();return t.Njj(a.exportAppXml(!1))}),t.j41(1,"mat-icon",6),t.EFF(2,"more_time"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Save state"),t.k0s()(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(r);const a=t.XpG();return t.Njj(a.resetApp(!1))}),t.j41(6,"mat-icon",6),t.EFF(7,"restore"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Restore state"),t.k0s()()}}function R(c,I){if(1&c){const r=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(r);const a=t.XpG();return t.Njj(a.exportAppXml(!0))}),t.j41(1,"mat-icon",6),t.EFF(2,"more_time"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Save with Assets"),t.k0s()(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(r);const a=t.XpG();return t.Njj(a.resetApp(!0))}),t.j41(6,"mat-icon",6),t.EFF(7,"restore"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Restore with Assets"),t.k0s()()}}let T=(()=>{class c extends h.V{constructor(r,s,a,p){super(r,s),this.router=r,this.route=s,this.snackBar=a,this.appDialogConfigService=p,this.importAppPartsService=(0,j.d)(C.S),this.exportAppService=(0,j.d)(E.t),this.appStateAdvanced=!1}ngOnInit(){this.appDialogConfigService.getCurrent$().subscribe(r=>{this.dialogSettings=r})}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}exportApp(){this.router.navigate(["export"],{relativeTo:this.route.parent.firstChild})}exportParts(){this.router.navigate(["export/parts"],{relativeTo:this.route.parent.firstChild})}importParts(){this.router.navigate(["import/parts"],{relativeTo:this.route.parent.firstChild})}exportAppXml(r){this.snackBar.open("Exporting..."),this.exportAppService.exportForVersionControl({includeContentGroups:!0,resetAppGuid:!1,withFiles:r}).subscribe({next:s=>{this.snackBar.open("Export completed into the 'App_Data' folder.",null,{duration:3e3})},error:s=>{this.snackBar.open("Export failed. Please check console for more information",null,{duration:3e3})}})}resetApp(r){confirm("Are you sure? All changes since last xml export will be lost")&&(this.snackBar.open("Resetting..."),this.importAppPartsService.resetApp(r).subscribe({next:s=>{this.snackBar.open("Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct",null,{duration:3e4})},error:s=>{this.snackBar.open("Reset failed. Please check console for more information",null,{duration:3e3})}}))}static#t=this.\u0275fac=function(s){return new(s||c)(t.rXU(e.Ix),t.rXU(e.nX),t.rXU(x.UG),t.rXU(g.b))};static#e=this.\u0275cmp=t.VBU({type:c,selectors:[["app-sync-configuration"]],standalone:!0,features:[t.Vt3,t.aNF],decls:74,vars:6,consts:[[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],[1,"eav-card-space-div"],["align","start"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],[1,"eav-card-header-title-toggle"],[1,"eav-card-header-toggle",3,"ngModelChange","ngModel"],[3,"featureNameId"]],template:function(s,a){1&s&&(t.qex(0),t.j41(1,"div",0)(2,"mat-card",1)(3,"mat-card-header",2)(4,"mat-card-title"),t.EFF(5,"Instructions for Sync or Export/Import"),t.k0s(),t.j41(6,"mat-icon"),t.EFF(7,"info"),t.k0s()(),t.j41(8,"mat-card-content")(9,"p"),t.EFF(10," This section is for export/import of the entire App, for synchronizing with the file storage (eg. for Git) or to export parts of the App for re-import in another App. "),t.k0s(),t.j41(11,"p"),t.EFF(12," To export/import Content-Types, Queries, Views or Data, use the respective tabs. "),t.k0s()()()(),t.j41(13,"div",0)(14,"mat-card",1)(15,"mat-card-header",2)(16,"mat-card-title"),t.EFF(17,"Export this entire App"),t.k0s(),t.j41(18,"mat-icon"),t.EFF(19,"cloud_download"),t.k0s()(),t.j41(20,"mat-card-content")(21,"p"),t.EFF(22," Create an package (zip) which can be installed in another site. "),t.k0s()(),t.nrm(23,"div",3),t.j41(24,"mat-card-actions",4)(25,"button",5),t.bIt("click",function(){return a.exportApp()}),t.j41(26,"mat-icon",6),t.EFF(27,"cloud_download"),t.k0s(),t.j41(28,"span"),t.EFF(29,"Export App"),t.k0s()()()(),t.j41(30,"mat-card",1)(31,"mat-card-header",2)(32,"mat-card-title"),t.EFF(33,"Export or Import parts of this App"),t.k0s(),t.j41(34,"mat-icon"),t.EFF(35,"import_export"),t.k0s()(),t.j41(36,"mat-card-content")(37,"p"),t.EFF(38," Create an xml containing parts of the app, e.g. content and templates. Import parts from such an xml into this app. "),t.k0s()(),t.nrm(39,"div",3),t.j41(40,"mat-card-actions",4)(41,"button",5),t.bIt("click",function(){return a.exportParts()}),t.j41(42,"mat-icon",6),t.EFF(43,"cloud_download"),t.k0s(),t.j41(44,"span"),t.EFF(45,"Export Parts"),t.k0s()(),t.j41(46,"button",5),t.bIt("click",function(){return a.importParts()}),t.j41(47,"mat-icon",6),t.EFF(48,"cloud_upload"),t.k0s(),t.j41(49,"span"),t.EFF(50,"Import Parts"),t.k0s()()()()(),t.j41(51,"div",0)(52,"mat-card",1)(53,"mat-card-header",2)(54,"div",7)(55,"mat-card-title"),t.EFF(56,"App-State Versioning"),t.k0s(),t.j41(57,"mat-slide-toggle",8),t.mxI("ngModelChange",function(o){return t.DH7(a.appStateAdvanced,o)||(a.appStateAdvanced=o),o}),t.EFF(58),t.k0s()(),t.j41(59,"mat-icon"),t.EFF(60,"history_toggle_off"),t.k0s()(),t.j41(61,"mat-card-content")(62,"p"),t.EFF(63," You can save / restore the app with data and configuration in "),t.j41(64,"code"),t.EFF(65,".data/app.xml"),t.k0s(),t.EFF(66,". This file can then also be versioned using git. "),t.k0s(),t.DNE(67,k,6,0,"p"),t.k0s(),t.DNE(68,A,1,1,"app-feature-text-info",9),t.nrm(69,"div",3),t.j41(70,"mat-card-actions",4),t.DNE(71,M,10,0)(72,R,10,0),t.k0s()()(),t.bVm(),t.nrm(73,"router-outlet")),2&s&&(t.R7$(57),t.R50("ngModel",a.appStateAdvanced),t.R7$(),t.JRh(a.appStateAdvanced?"advanced":"basic"),t.R7$(9),t.vxM(67,a.appStateAdvanced?67:-1),t.R7$(),t.vxM(68,a.appStateAdvanced?68:-1),t.R7$(3),t.vxM(71,a.appStateAdvanced?-1:71),t.R7$(),t.vxM(72,a.appStateAdvanced?72:-1))},dependencies:[_.Hu,_.RN,_.YY,_.m2,_.MM,_.dh,D.m_,D.An,l.Hl,l.$z,d.mV,d.sG,F.YN,F.BC,F.vS,u.L,e.n3],styles:[".eav-card-header-title-toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:100%;margin-right:8px}.eav-card-header-title-toggle[_ngcontent-%COMP%]   .eav-card-header-toggle[_ngcontent-%COMP%]{margin-left:8px;margin-top:2px}  .mat-drawer-container{background-color:#fafafa!important}"]})}return c})()},5943:(y,v,n)=>{n.d(v,{N:()=>g});var e=n(8559),h=n(6443),E=n(4821);let g=(()=>{class u{constructor(d,l){this.http=d,this.dnnContext=l}getFeatureDetails(d){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/feature/details"),{params:{nameId:d}})}static#t=this.\u0275fac=function(l){return new(l||u)(e.KVO(h.Qq),e.KVO(E.ob))};static#e=this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}return u})()},6838:(y,v,n)=>{n.d(v,{xG:()=>r,IM:()=>I,jr:()=>s});var e=n(8559),h=n(7941),E=n(4858),C=n(519),g=n(852),u=n(316),F=n(3840),d=n(4175),l=n(3777),D=n(4601),_=n(9914),j=n(3347),t=n(5943);function x(a,p){if(1&a){const o=e.RV6();e.j41(0,"div",1)(1,"div",2),e.EFF(2,"ID:"),e.k0s(),e.j41(3,"div",7)(4,"span",8),e.bIt("click",function(){const m=e.eBV(o),f=e.XpG(2);return e.Njj(f.copyToClipboard(m))}),e.EFF(5),e.k0s()()()}if(2&a){const o=p;e.R7$(4),e.Y8G("tippy",o),e.R7$(),e.JRh(o)}}function k(a,p){if(1&a){const o=e.RV6();e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"mat-card-content"),e.nrm(5,"p",0),e.nI1(6,"safeHtml"),e.j41(7,"div",1)(8,"div",2),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",3)(12,"span"),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.DNE(15,x,6,2,"div",1),e.k0s(),e.j41(16,"mat-card-actions",4)(17,"button",5),e.bIt("click",function(){const m=e.eBV(o),f=e.XpG();return e.Njj(f.findOutMore(m.link))}),e.j41(18,"mat-icon"),e.EFF(19,"open_in_new"),e.k0s(),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"button",6),e.bIt("click",function(){e.eBV(o);const m=e.XpG();return e.Njj(m.closeDialog())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()()()}if(2&a){let o;const i=p;e.R7$(3),e.JRh(i.name),e.R7$(2),e.Y8G("innerHtml",e.bMT(6,7,i.description),e.npT),e.R7$(4),e.SpI("",e.bMT(10,9,"Features.Status"),":"),e.R7$(4),e.JRh(e.bMT(14,11,i.isEnabled?"Features.Active":"Features.NotActive")),e.R7$(2),e.vxM(15,(o=i.nameId)?15:-1,o),e.R7$(5),e.SpI(" ",e.bMT(21,13,"Features.FindOutMore")," "),e.R7$(3),e.SpI(" ",e.bMT(24,15,"Features.Close")," ")}}let A=(()=>{class a{constructor(o,i,m,f){this.dialogData=o,this.dialogRef=i,this.snackBar=m,this.featureDetailService=f}ngOnInit(){this.viewModel$=this.featureDetailService.getFeatureDetails(this.dialogData)}copyToClipboard(o){(0,C.l)(o),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}findOutMore(o){window.open(o,"_blank")}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||a)(e.rXU(h.Vh),e.rXU(h.CP),e.rXU(j.UG),e.rXU(t.N))};static#e=this.\u0275cmp=e.VBU({type:a,selectors:[["app-feature-info-dialog"]],standalone:!0,features:[e.aNF],decls:2,vars:3,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],["align","end"],["mat-raised-button","","color","accent",1,"eav-card-action-button",3,"click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"],[1,"eav-info-row__value","eav_click"],[3,"click","tippy"]],template:function(i,m){if(1&i&&(e.DNE(0,k,25,17,"mat-card"),e.nI1(1,"async")),2&i){let f;e.vxM(0,(f=e.bMT(1,1,m.viewModel$))?0:-1,f)}},dependencies:[l.Hu,l.RN,l.YY,l.m2,l.MM,l.dh,d.Hl,d.$z,F.m_,F.An,u.Jj,g.h,g.D9,D.e,_.$]})}return a})();var M=n(5797),R=n(6647),T=n(9999),c=n(271);const I=[t.N];let r=(()=>{class a{set featureNameId(o){this.featureNameId$.next(o)}set showIf(o){this.showIf$.next(1==o)}constructor(){this.featureNameId$=new M.t(null),this.showIf$=new M.t(!1),this.dialog=(0,e.WQX)(h.bZ),this.viewContainerRef=(0,e.WQX)(e.c1b),this.changeDetectorRef=(0,e.WQX)(e.gRc),this.featuresService=(0,e.WQX)(E.D),this.feature$=this.featureNameId$.pipe((0,R.n)(o=>this.featuresService.get$(o))),this.show$=(0,T.z)([this.feature$,this.showIf$]).pipe((0,c.T)(([o,i])=>i==(o?.isEnabled??!1)))}openDialog(){s(this.dialog,this.featureNameId$.value,this.viewContainerRef,this.changeDetectorRef)}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275dir=e.FsC({type:a,inputs:{featureNameId:"featureNameId",showIf:"showIf"}})}return a})();function s(a,p,o,i){a.open(A,{autoFocus:!1,data:p,viewContainerRef:o,width:"400px"}),i.markForCheck()}}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sync-configuration_sync-configuration_component_ts-0e6134.7940dc57ba6a1f2c.js.map
{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a.e4163dfec10e0609.js","mappings":"0aACEA,MAAA,UAAAA,CAAmC,UAAnCA,CAAmC,UAAnCA,CAAmC,SAGxBA,MAAA,GAAqBA,QAC1BA,MAAA,cAA6CA,MAAA,mBAAAA,MAAAC,GAAA,MAAAC,EAAAF,QAAA,OAASA,MAAAE,EAAAC,cAAa,GACjEH,MAAA,cAAUA,MAAA,WAAKA,cAIrBA,MAAA,SACEA,MAAA,8BAAuBA,MAAA,WAAMA,MAAA,IAAqBA,QAAQA,MAAA,uBAC5DA,QACAA,MAAA,YACEA,MAAA,uBAAAA,CACkB,YAEpBA,kCAbSA,MAAA,GAAAA,MAAAI,EAAAC,iBAOsBL,MAAA,GAAAA,MAAAI,EAAAC,iBAGcL,MAAA,GAAAA,MAAA,UAAAM,EAAAC,MAAAP,CAAoB,cAAAI,EAAAI,cCC9D,IAAMC,EAA4B,MAAnC,MAAOA,EASXC,YACUC,EACAC,EACAC,GAFAC,KAAAH,YACAG,KAAAF,QACAE,KAAAD,yBAPVC,KAAAN,YAAcM,KAAKC,mBASjBD,KAAKE,KAAOF,KAAKF,MAAMK,SAASC,OAAOC,SAASC,IAAI,QACpD,MAAMC,EAAgBP,KAAKF,MAAMK,SAASE,SAASC,IAAI,QACvDN,KAAKQ,aAAe,CAAC,YAAa,QAAQC,SAASF,QAAiBG,EAAYH,EAChFP,KAAKT,gBAAkBS,KAAKF,MAAMK,SAASE,SAASC,IAAI,kBAC1D,CAEAK,WACEX,KAAKY,OAAS,IAAIC,SAAqCH,GACvDV,KAAKD,uBAAuBe,SAASd,KAAKE,KAAMF,KAAKT,gBAAiBS,KAAKQ,cAAc,GAAMO,UAAUtB,IACvGO,KAAKY,OAAOI,KAAKvB,EAAK,GAExBO,KAAKiB,cAAaC,KAAc,CAAClB,KAAKY,SAASO,QAC7CC,KAAI,EAAE3B,MAAK,CAASA,WAExB,CAEA4B,cACErB,KAAKY,OAAOU,UACd,CAEAjC,cACEW,KAAKH,UAAU0B,OACjB,CAEQtB,mBA+BN,MA9BiC,IAC5BuB,IACHC,WAAY,CACV,CACEC,MAAO,QACPC,KAAM,EACNC,SAAU,IACVC,UAAW,uCAAuCC,MAAM,KACxDC,UAAU,EACVC,OAAQ,qBACRC,YAAcC,GACoBA,EAAOC,KAC3BC,OAEdC,aAAcC,KAEhB,CACEZ,MAAO,SACPC,KAAM,EACNC,SAAU,IACVC,UAAW,aACXE,UAAU,EACVC,OAAQ,qBACRC,YAAcC,GACoBA,EAAOC,KAC3BI,SAMtB,CAACC,SAAAxC,KAAA,mBAAAyC,iBAtEU9C,GAA4BT,MAAAwD,MAAAxD,MAAAyD,MAAAzD,MAAA0D,KAAA,EAAAJ,SAAAxC,KAAA,UAAA6C,EAAAC,IAAA,MAA5BnD,EAA4BoD,UAAA,gCAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,qSAAAC,SAAA,SAAAC,EAAA5D,MAAA,EAAA4D,IDfzClE,MAAA,EAAAmE,EAAA,2CAAAnE,MAAA,GAAAoE,EAAApE,MAAA,IAAAM,EAAAyB,aAAA,KAAAqC,kJCea3D,CAA4B","names":["i0","_r3","ctx_r2","closeDialog","ctx_r0","settingsItemKey","ctx","stack","gridOptions","SettingsItemDetailsComponent","constructor","dialogRef","route","analyzeSettingsService","this","buildGridOptions","part","snapshot","parent","paramMap","get","routeViewGuid","selectedView","includes","undefined","ngOnInit","stack$","BehaviorSubject","getStack","subscribe","next","viewModel$","combineLatest","pipe","map","ngOnDestroy","complete","close","defaultGridOptions","columnDefs","field","flex","minWidth","cellClass","split","sortable","filter","valueGetter","params","data","_value","cellRenderer","AnalyzeSettingsValueComponent","Source","static","t","i1","i2","i3","_angular_core__WEBPACK_IMPORTED_MODULE_3__","Xpm","selectors","decls","vars","consts","template","rf","SettingsItemDetailsComponent_Conditional_0_Template","SettingsItemDetailsComponent_contFlowTmp"],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.ts"],"sourcesContent":["@if (viewModel$ | async; as vm) {\r\n  <div class=\"nav-component-wrapper\">\r\n    <div mat-mdc-dialog-title>\r\n      <div class=\"dialog-title-box\">\r\n        <div>{{ settingsItemKey }}</div>\r\n        <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <p class=\"dialog-description\">\r\n      Here you can see where <code>{{ settingsItemKey }}</code> is configured.\r\n    </p>\r\n    <div class=\"grid-wrapper\">\r\n      <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.stack\" [gridOptions]=\"gridOptions\">\r\n      </ag-grid-angular>\r\n      <div class=\"grid-more-actions-box\"></div>\r\n    </div>\r\n  </div>\r\n}","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { defaultGridOptions } from '../../../../shared/constants/default-grid-options.constants';\r\nimport { AnalyzeSettingsService } from '../../../services/analyze-settings.service';\r\nimport { AnalyzeSettingsValueComponent } from '../analyze-settings-value/analyze-settings-value.component';\r\nimport { AnalyzePart, SettingsStackItem } from '../analyze-settings.models';\r\n\r\n@Component({\r\n  selector: 'app-settings-item-details',\r\n  templateUrl: './settings-item-details.component.html',\r\n  styleUrls: ['./settings-item-details.component.scss'],\r\n})\r\nexport class SettingsItemDetailsComponent implements OnInit, OnDestroy {\r\n  part: AnalyzePart;\r\n  selectedView: string;\r\n  settingsItemKey: string;\r\n  stack$: BehaviorSubject<SettingsStackItem[]>;\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<SettingsItemDetailsViewModel>;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<SettingsItemDetailsComponent>,\r\n    private route: ActivatedRoute,\r\n    private analyzeSettingsService: AnalyzeSettingsService,\r\n  ) {\r\n    this.part = this.route.snapshot.parent.paramMap.get('part') as AnalyzePart;\r\n    const routeViewGuid = this.route.snapshot.paramMap.get('view');\r\n    this.selectedView = ['undefined', 'null'].includes(routeViewGuid) ? undefined : routeViewGuid;\r\n    this.settingsItemKey = this.route.snapshot.paramMap.get('settingsItemKey');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stack$ = new BehaviorSubject<SettingsStackItem[]>(undefined);\r\n    this.analyzeSettingsService.getStack(this.part, this.settingsItemKey, this.selectedView, true).subscribe(stack => {\r\n      this.stack$.next(stack);\r\n    });\r\n    this.viewModel$ = combineLatest([this.stack$]).pipe(\r\n      map(([stack]) => ({ stack }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stack$.complete();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          field: 'Value',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'primary-action no-padding no-outline'.split(' '),\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const item: SettingsStackItem = params.data;\r\n            return item._value;\r\n          },\r\n          cellRenderer: AnalyzeSettingsValueComponent,\r\n        },\r\n        {\r\n          field: 'Source',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const item: SettingsStackItem = params.data;\r\n            return item.Source;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface SettingsItemDetailsViewModel { \r\n  stack: SettingsStackItem[];\r\n}\r\n"],"x_google_ignoreList":[]}
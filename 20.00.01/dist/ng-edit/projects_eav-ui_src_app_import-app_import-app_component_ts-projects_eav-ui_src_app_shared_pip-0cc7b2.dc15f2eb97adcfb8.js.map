{"version":3,"file":"projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-0cc7b2.dc15f2eb97adcfb8.js","mappings":"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","names":["ImportAppComponent","constructor","dialogData","this","uploadType","UploadTypes","App","importAppService","transient","ImportAppService","title","description","allowedFileTypes","upload$","files","importApp","undefined","static","__ngFactoryType__","i0","MAT_DIALOG_DATA","_angular_core__WEBPACK_IMPORTED_MODULE_3__","VBU","selectors","decls","vars","consts","template","rf","ctx","FileUploadDialogComponent","encapsulation","SafeHtmlPipe","sanitizer","transform","html","bypassSecurityTrustHtml","i1","_angular_core__WEBPACK_IMPORTED_MODULE_0__","EJ8","pure","webApiAppRoot","HttpServiceBaseSignal","file","changedName","retryOnDuplicate","formData","FormData","append","http","post","apiUrl","params","zoneId","pipe","switchMap","result","Messages","MessageType","FileUploadMessageTypes","Warning","folderName","prompt","Text","of","_angular_core__WEBPACK_IMPORTED_MODULE_5__","jDH","factory","ɵfac","_c0","MAT_ICON_DEFAULT_OPTIONS","InjectionToken","MAT_ICON_LOCATION","providedIn","MAT_ICON_LOCATION_FACTORY","_document","inject","DOCUMENT","_location","location","getPathname","pathname","search","funcIriAttributes","funcIriAttributeSelector","map","attr","join","funcIriPattern","MatIcon","_elementRef","ElementRef","_iconRegistry","MatIconRegistry","_errorHandler","ErrorHandler","_defaultColor","color","_color","value","inline","svgIcon","_svgIcon","_updateSvgIcon","_clearSvgElement","fontSet","_fontSet","newValue","_cleanupFontValue","_updateFontIconClasses","fontIcon","_fontIcon","_previousFontSetClass","_previousFontIconClass","_svgName","_svgNamespace","_previousPath","_elementsWithExternalReferences","_currentIconFetch","Subscription","EMPTY","ariaHidden","HostAttributeToken","optional","defaults","nativeElement","setAttribute","_splitIconName","iconName","parts","split","length","Error","ngOnInit","ngAfterViewChecked","cachedElements","size","newPath","_prependPathToReferences","ngOnDestroy","unsubscribe","clear","_usingFontIcon","_setSvgElement","svg","path","_cacheChildrenWithExternalReferences","appendChild","layoutElement","childCount","childNodes","child","nodeType","nodeName","toLowerCase","remove","elem","fontSetClasses","classNameForFontAlias","getDefaultFontSetClass","filter","className","forEach","classList","add","includes","trim","elements","attrs","element","name","elementsWithFuncIri","querySelectorAll","Map","i","elementWithReference","getAttribute","match","attributes","get","set","push","rawName","namespace","getNamedSvgIcon","take","subscribe","err","handleError","message","type","hostAttrs","hostVars","hostBindings","inputs","booleanAttribute","exportAs","ngContentSelectors","styles","changeDetection","MatIconModule","imports","MatCommonModule"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/import-app/import-app.component.ts","./projects/eav-ui/src/app/import-app/import-app.component.html","./projects/eav-ui/src/app/shared/pipes/safe-html.pipe.ts","./projects/eav-ui/src/app/import-app/services/import-app.service.ts","./node_modules/@angular/material/fesm2022/icon.mjs"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { transient } from '../../../../core';\r\nimport { FileUploadDialogComponent, FileUploadDialogData, UploadTypes } from '../shared/components/file-upload-dialog';\r\nimport { ImportAppService } from './services/import-app.service';\r\n\r\n@Component({\r\n    selector: 'app-import-app',\r\n    templateUrl: './import-app.component.html',\r\n    imports: [\r\n        FileUploadDialogComponent,\r\n    ]\r\n})\r\nexport class ImportAppComponent {\r\n\r\n  uploadType = UploadTypes.App;\r\n\r\n  private importAppService = transient(ImportAppService);\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) dialogData: FileUploadDialogData) {\r\n    dialogData.title ??= `Import App`;\r\n    dialogData.description ??= `\r\n    Select an app package (zip) from your computer to import an app. New apps can be downloaded on\r\n    <a href=\"https://2sxc.org/apps\" target=\"_blank\">https://2sxc.org/apps</a>.\r\n    For further help visit <a href=\"https://2sxc.org/en/help?tag=import-app\" target=\"_blank\">2sxc Help</a>.\r\n    `;\r\n    dialogData.allowedFileTypes ??= 'zip';\r\n    dialogData.upload$ ??= (files) => this.importAppService.importApp(files[0], undefined, true);\r\n  }\r\n}\r\n","<app-file-upload-dialog [uploadType]=\"uploadType\"></app-file-upload-dialog>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml',\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of, switchMap } from 'rxjs';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\n\r\nexport const webApiAppRoot = 'admin/app/';\r\n\r\n@Injectable()\r\nexport class ImportAppService extends HttpServiceBaseSignal {\r\n\r\n  importApp(file: File, changedName: string, retryOnDuplicate = false): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    formData.append('Name', changedName ?? '');\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiAppRoot + 'Import'), formData, {\r\n      params: { zoneId: this.zoneId }\r\n    }).pipe(\r\n      switchMap(result => {\r\n        if (retryOnDuplicate && result.Messages[0]?.MessageType === FileUploadMessageTypes.Warning) {\r\n          const folderName = prompt(result.Messages[0].Text + ' Would you like to install it using another folder name?');\r\n          if (folderName) {\r\n            return this.importApp(file, folderName, true);\r\n          }\r\n        }\r\n        return of(result);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import * as i0 from '@angular/core';\nimport { InjectionToken, inject, DOCUMENT, ElementRef, ErrorHandler, HostAttributeToken, booleanAttribute, Component, ViewEncapsulation, ChangeDetectionStrategy, Input, NgModule } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { M as MatIconRegistry } from './icon-registry-CwOTJ7YM.mjs';\nexport { d as ICON_REGISTRY_PROVIDER, I as ICON_REGISTRY_PROVIDER_FACTORY, c as getMatIconFailedToSanitizeLiteralError, b as getMatIconFailedToSanitizeUrlError, g as getMatIconNameNotFoundError, a as getMatIconNoHttpProviderError } from './icon-registry-CwOTJ7YM.mjs';\nimport { M as MatCommonModule } from './common-module-cKSwHniA.mjs';\nimport '@angular/common/http';\nimport '@angular/platform-browser';\nimport '@angular/cdk/a11y';\nimport '@angular/cdk/bidi';\n\n/** Injection token to be used to override the default options for `mat-icon`. */\nconst MAT_ICON_DEFAULT_OPTIONS = new InjectionToken('MAT_ICON_DEFAULT_OPTIONS');\n/**\n * Injection token used to provide the current location to `MatIcon`.\n * Used to handle server-side rendering and to stub out during unit tests.\n * @docs-private\n */\nconst MAT_ICON_LOCATION = new InjectionToken('mat-icon-location', {\n    providedIn: 'root',\n    factory: MAT_ICON_LOCATION_FACTORY,\n});\n/**\n * @docs-private\n * @deprecated No longer used, will be removed.\n * @breaking-change 21.0.0\n */\nfunction MAT_ICON_LOCATION_FACTORY() {\n    const _document = inject(DOCUMENT);\n    const _location = _document ? _document.location : null;\n    return {\n        // Note that this needs to be a function, rather than a property, because Angular\n        // will only resolve it once, but we want the current path on each call.\n        getPathname: () => (_location ? _location.pathname + _location.search : ''),\n    };\n}\n/** SVG attributes that accept a FuncIRI (e.g. `url(<something>)`). */\nconst funcIriAttributes = [\n    'clip-path',\n    'color-profile',\n    'src',\n    'cursor',\n    'fill',\n    'filter',\n    'marker',\n    'marker-start',\n    'marker-mid',\n    'marker-end',\n    'mask',\n    'stroke',\n];\n/** Selector that can be used to find all elements that are using a `FuncIRI`. */\nconst funcIriAttributeSelector = funcIriAttributes.map(attr => `[${attr}]`).join(', ');\n/** Regex that can be used to extract the id out of a FuncIRI. */\nconst funcIriPattern = /^url\\(['\"]?#(.*?)['\"]?\\)$/;\n/**\n * Component to display an icon. It can be used in the following ways:\n *\n * - Specify the svgIcon input to load an SVG icon from a URL previously registered with the\n *   addSvgIcon, addSvgIconInNamespace, addSvgIconSet, or addSvgIconSetInNamespace methods of\n *   MatIconRegistry. If the svgIcon value contains a colon it is assumed to be in the format\n *   \"[namespace]:[name]\", if not the value will be the name of an icon in the default namespace.\n *   Examples:\n *     `<mat-icon svgIcon=\"left-arrow\"></mat-icon>\n *     <mat-icon svgIcon=\"animals:cat\"></mat-icon>`\n *\n * - Use a font ligature as an icon by putting the ligature text in the `fontIcon` attribute or the\n *   content of the `<mat-icon>` component. If you register a custom font class, don't forget to also\n *   include the special class `mat-ligature-font`. It is recommended to use the attribute alternative\n *   to prevent the ligature text to be selectable and to appear in search engine results.\n *   By default, the Material icons font is used as described at\n *   http://google.github.io/material-design-icons/#icon-font-for-the-web. You can specify an\n *   alternate font by setting the fontSet input to either the CSS class to apply to use the\n *   desired font, or to an alias previously registered with MatIconRegistry.registerFontClassAlias.\n *   Examples:\n *     `<mat-icon fontIcon=\"home\"></mat-icon>\n *     <mat-icon>home</mat-icon>\n *     <mat-icon fontSet=\"myfont\" fontIcon=\"sun\"></mat-icon>\n *     <mat-icon fontSet=\"myfont\">sun</mat-icon>`\n *\n * - Specify a font glyph to be included via CSS rules by setting the fontSet input to specify the\n *   font, and the fontIcon input to specify the icon. Typically the fontIcon will specify a\n *   CSS class which causes the glyph to be displayed via a :before selector, as in\n *   https://fontawesome-v4.github.io/examples/\n *   Example:\n *     `<mat-icon fontSet=\"fa\" fontIcon=\"alarm\"></mat-icon>`\n */\nclass MatIcon {\n    _elementRef = inject(ElementRef);\n    _iconRegistry = inject(MatIconRegistry);\n    _location = inject(MAT_ICON_LOCATION);\n    _errorHandler = inject(ErrorHandler);\n    _defaultColor;\n    /**\n     * Theme color of the icon. This API is supported in M2 themes only, it\n     * has no effect in M3 themes. For color customization in M3, see https://material.angular.dev/components/icon/styling.\n     *\n     * For information on applying color variants in M3, see\n     * https://material.angular.dev/guide/material-2-theming#optional-add-backwards-compatibility-styles-for-color-variants\n     */\n    get color() {\n        return this._color || this._defaultColor;\n    }\n    set color(value) {\n        this._color = value;\n    }\n    _color;\n    /**\n     * Whether the icon should be inlined, automatically sizing the icon to match the font size of\n     * the element the icon is contained in.\n     */\n    inline = false;\n    /** Name of the icon in the SVG icon set. */\n    get svgIcon() {\n        return this._svgIcon;\n    }\n    set svgIcon(value) {\n        if (value !== this._svgIcon) {\n            if (value) {\n                this._updateSvgIcon(value);\n            }\n            else if (this._svgIcon) {\n                this._clearSvgElement();\n            }\n            this._svgIcon = value;\n        }\n    }\n    _svgIcon;\n    /** Font set that the icon is a part of. */\n    get fontSet() {\n        return this._fontSet;\n    }\n    set fontSet(value) {\n        const newValue = this._cleanupFontValue(value);\n        if (newValue !== this._fontSet) {\n            this._fontSet = newValue;\n            this._updateFontIconClasses();\n        }\n    }\n    _fontSet;\n    /** Name of an icon within a font set. */\n    get fontIcon() {\n        return this._fontIcon;\n    }\n    set fontIcon(value) {\n        const newValue = this._cleanupFontValue(value);\n        if (newValue !== this._fontIcon) {\n            this._fontIcon = newValue;\n            this._updateFontIconClasses();\n        }\n    }\n    _fontIcon;\n    _previousFontSetClass = [];\n    _previousFontIconClass;\n    _svgName;\n    _svgNamespace;\n    /** Keeps track of the current page path. */\n    _previousPath;\n    /** Keeps track of the elements and attributes that we've prefixed with the current path. */\n    _elementsWithExternalReferences;\n    /** Subscription to the current in-progress SVG icon request. */\n    _currentIconFetch = Subscription.EMPTY;\n    constructor() {\n        const ariaHidden = inject(new HostAttributeToken('aria-hidden'), { optional: true });\n        const defaults = inject(MAT_ICON_DEFAULT_OPTIONS, { optional: true });\n        if (defaults) {\n            if (defaults.color) {\n                this.color = this._defaultColor = defaults.color;\n            }\n            if (defaults.fontSet) {\n                this.fontSet = defaults.fontSet;\n            }\n        }\n        // If the user has not explicitly set aria-hidden, mark the icon as hidden, as this is\n        // the right thing to do for the majority of icon use-cases.\n        if (!ariaHidden) {\n            this._elementRef.nativeElement.setAttribute('aria-hidden', 'true');\n        }\n    }\n    /**\n     * Splits an svgIcon binding value into its icon set and icon name components.\n     * Returns a 2-element array of [(icon set), (icon name)].\n     * The separator for the two fields is ':'. If there is no separator, an empty\n     * string is returned for the icon set and the entire value is returned for\n     * the icon name. If the argument is falsy, returns an array of two empty strings.\n     * Throws an error if the name contains two or more ':' separators.\n     * Examples:\n     *   `'social:cake' -> ['social', 'cake']\n     *   'penguin' -> ['', 'penguin']\n     *   null -> ['', '']\n     *   'a:b:c' -> (throws Error)`\n     */\n    _splitIconName(iconName) {\n        if (!iconName) {\n            return ['', ''];\n        }\n        const parts = iconName.split(':');\n        switch (parts.length) {\n            case 1:\n                return ['', parts[0]]; // Use default namespace.\n            case 2:\n                return parts;\n            default:\n                throw Error(`Invalid icon name: \"${iconName}\"`); // TODO: add an ngDevMode check\n        }\n    }\n    ngOnInit() {\n        // Update font classes because ngOnChanges won't be called if none of the inputs are present,\n        // e.g. <mat-icon>arrow</mat-icon> In this case we need to add a CSS class for the default font.\n        this._updateFontIconClasses();\n    }\n    ngAfterViewChecked() {\n        const cachedElements = this._elementsWithExternalReferences;\n        if (cachedElements && cachedElements.size) {\n            const newPath = this._location.getPathname();\n            // We need to check whether the URL has changed on each change detection since\n            // the browser doesn't have an API that will let us react on link clicks and\n            // we can't depend on the Angular router. The references need to be updated,\n            // because while most browsers don't care whether the URL is correct after\n            // the first render, Safari will break if the user navigates to a different\n            // page and the SVG isn't re-rendered.\n            if (newPath !== this._previousPath) {\n                this._previousPath = newPath;\n                this._prependPathToReferences(newPath);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this._currentIconFetch.unsubscribe();\n        if (this._elementsWithExternalReferences) {\n            this._elementsWithExternalReferences.clear();\n        }\n    }\n    _usingFontIcon() {\n        return !this.svgIcon;\n    }\n    _setSvgElement(svg) {\n        this._clearSvgElement();\n        // Note: we do this fix here, rather than the icon registry, because the\n        // references have to point to the URL at the time that the icon was created.\n        const path = this._location.getPathname();\n        this._previousPath = path;\n        this._cacheChildrenWithExternalReferences(svg);\n        this._prependPathToReferences(path);\n        this._elementRef.nativeElement.appendChild(svg);\n    }\n    _clearSvgElement() {\n        const layoutElement = this._elementRef.nativeElement;\n        let childCount = layoutElement.childNodes.length;\n        if (this._elementsWithExternalReferences) {\n            this._elementsWithExternalReferences.clear();\n        }\n        // Remove existing non-element child nodes and SVGs, and add the new SVG element. Note that\n        // we can't use innerHTML, because IE will throw if the element has a data binding.\n        while (childCount--) {\n            const child = layoutElement.childNodes[childCount];\n            // 1 corresponds to Node.ELEMENT_NODE. We remove all non-element nodes in order to get rid\n            // of any loose text nodes, as well as any SVG elements in order to remove any old icons.\n            if (child.nodeType !== 1 || child.nodeName.toLowerCase() === 'svg') {\n                child.remove();\n            }\n        }\n    }\n    _updateFontIconClasses() {\n        if (!this._usingFontIcon()) {\n            return;\n        }\n        const elem = this._elementRef.nativeElement;\n        const fontSetClasses = (this.fontSet\n            ? this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/)\n            : this._iconRegistry.getDefaultFontSetClass()).filter(className => className.length > 0);\n        this._previousFontSetClass.forEach(className => elem.classList.remove(className));\n        fontSetClasses.forEach(className => elem.classList.add(className));\n        this._previousFontSetClass = fontSetClasses;\n        if (this.fontIcon !== this._previousFontIconClass &&\n            !fontSetClasses.includes('mat-ligature-font')) {\n            if (this._previousFontIconClass) {\n                elem.classList.remove(this._previousFontIconClass);\n            }\n            if (this.fontIcon) {\n                elem.classList.add(this.fontIcon);\n            }\n            this._previousFontIconClass = this.fontIcon;\n        }\n    }\n    /**\n     * Cleans up a value to be used as a fontIcon or fontSet.\n     * Since the value ends up being assigned as a CSS class, we\n     * have to trim the value and omit space-separated values.\n     */\n    _cleanupFontValue(value) {\n        return typeof value === 'string' ? value.trim().split(' ')[0] : value;\n    }\n    /**\n     * Prepends the current path to all elements that have an attribute pointing to a `FuncIRI`\n     * reference. This is required because WebKit browsers require references to be prefixed with\n     * the current path, if the page has a `base` tag.\n     */\n    _prependPathToReferences(path) {\n        const elements = this._elementsWithExternalReferences;\n        if (elements) {\n            elements.forEach((attrs, element) => {\n                attrs.forEach(attr => {\n                    element.setAttribute(attr.name, `url('${path}#${attr.value}')`);\n                });\n            });\n        }\n    }\n    /**\n     * Caches the children of an SVG element that have `url()`\n     * references that we need to prefix with the current path.\n     */\n    _cacheChildrenWithExternalReferences(element) {\n        const elementsWithFuncIri = element.querySelectorAll(funcIriAttributeSelector);\n        const elements = (this._elementsWithExternalReferences =\n            this._elementsWithExternalReferences || new Map());\n        for (let i = 0; i < elementsWithFuncIri.length; i++) {\n            funcIriAttributes.forEach(attr => {\n                const elementWithReference = elementsWithFuncIri[i];\n                const value = elementWithReference.getAttribute(attr);\n                const match = value ? value.match(funcIriPattern) : null;\n                if (match) {\n                    let attributes = elements.get(elementWithReference);\n                    if (!attributes) {\n                        attributes = [];\n                        elements.set(elementWithReference, attributes);\n                    }\n                    attributes.push({ name: attr, value: match[1] });\n                }\n            });\n        }\n    }\n    /** Sets a new SVG icon with a particular name. */\n    _updateSvgIcon(rawName) {\n        this._svgNamespace = null;\n        this._svgName = null;\n        this._currentIconFetch.unsubscribe();\n        if (rawName) {\n            const [namespace, iconName] = this._splitIconName(rawName);\n            if (namespace) {\n                this._svgNamespace = namespace;\n            }\n            if (iconName) {\n                this._svgName = iconName;\n            }\n            this._currentIconFetch = this._iconRegistry\n                .getNamedSvgIcon(iconName, namespace)\n                .pipe(take(1))\n                .subscribe(svg => this._setSvgElement(svg), (err) => {\n                const errorMessage = `Error retrieving icon ${namespace}:${iconName}! ${err.message}`;\n                this._errorHandler.handleError(new Error(errorMessage));\n            });\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIcon, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"16.1.0\", version: \"20.0.0\", type: MatIcon, isStandalone: true, selector: \"mat-icon\", inputs: { color: \"color\", inline: [\"inline\", \"inline\", booleanAttribute], svgIcon: \"svgIcon\", fontSet: \"fontSet\", fontIcon: \"fontIcon\" }, host: { attributes: { \"role\": \"img\" }, properties: { \"class\": \"color ? \\\"mat-\\\" + color : \\\"\\\"\", \"attr.data-mat-icon-type\": \"_usingFontIcon() ? \\\"font\\\" : \\\"svg\\\"\", \"attr.data-mat-icon-name\": \"_svgName || fontIcon\", \"attr.data-mat-icon-namespace\": \"_svgNamespace || fontSet\", \"attr.fontIcon\": \"_usingFontIcon() ? fontIcon : null\", \"class.mat-icon-inline\": \"inline\", \"class.mat-icon-no-color\": \"color !== \\\"primary\\\" && color !== \\\"accent\\\" && color !== \\\"warn\\\"\" }, classAttribute: \"mat-icon notranslate\" }, exportAs: [\"matIcon\"], ngImport: i0, template: '<ng-content></ng-content>', isInline: true, styles: [\"mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIcon, decorators: [{\n            type: Component,\n            args: [{ template: '<ng-content></ng-content>', selector: 'mat-icon', exportAs: 'matIcon', host: {\n                        'role': 'img',\n                        'class': 'mat-icon notranslate',\n                        '[class]': 'color ? \"mat-\" + color : \"\"',\n                        '[attr.data-mat-icon-type]': '_usingFontIcon() ? \"font\" : \"svg\"',\n                        '[attr.data-mat-icon-name]': '_svgName || fontIcon',\n                        '[attr.data-mat-icon-namespace]': '_svgNamespace || fontSet',\n                        '[attr.fontIcon]': '_usingFontIcon() ? fontIcon : null',\n                        '[class.mat-icon-inline]': 'inline',\n                        '[class.mat-icon-no-color]': 'color !== \"primary\" && color !== \"accent\" && color !== \"warn\"',\n                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, styles: [\"mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\\n\"] }]\n        }], ctorParameters: () => [], propDecorators: { color: [{\n                type: Input\n            }], inline: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], svgIcon: [{\n                type: Input\n            }], fontSet: [{\n                type: Input\n            }], fontIcon: [{\n                type: Input\n            }] } });\n\nclass MatIconModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIconModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIconModule, imports: [MatCommonModule, MatIcon], exports: [MatIcon, MatCommonModule] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIconModule, imports: [MatCommonModule, MatCommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatIconModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [MatCommonModule, MatIcon],\n                    exports: [MatIcon, MatCommonModule],\n                }]\n        }] });\n\nexport { MAT_ICON_DEFAULT_OPTIONS, MAT_ICON_LOCATION, MAT_ICON_LOCATION_FACTORY, MatIcon, MatIconModule, MatIconRegistry };\n"],"x_google_ignoreList":[4]}
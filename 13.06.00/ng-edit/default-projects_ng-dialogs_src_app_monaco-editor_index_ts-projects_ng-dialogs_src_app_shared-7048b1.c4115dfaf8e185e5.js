"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1"],{5432:(_,m,a)=>{a.d(m,{T:()=>r.T,n:()=>u});var r=a(7472),g=a(6362),h=a(3184);let u=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[[g.ez]]}),l})()},7472:(_,m,a)=>{a.d(m,{T:()=>l});var r=a(3184);const g="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(n=>n.trim().toLocaleLowerCase());class h{constructor(e,t,s,o,i,c){this.monaco=e,this.snippets=c,this.globalCache=this.createGlobalCache(e),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=s,this.editorInstance=this.createInstance(this.monaco,t,s,o,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(o,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>{e.dispose()}),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}focus(){this.editorInstance.focus()}onValueChange(e){this.valueChangedCallback=e}onFocus(e){this.focusedCallback=e}onBlur(e){this.blurredCallback=e}insertSnippet(e){this.editorInstance.getContribution("snippetController2").insert(e)}setSnippets(e){this.snippets=e}setJsonSchema(e){const t=this.editorInstance.getModel().uri.toString(),s=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{enableSchemaRequest:!0}),o=s.schemas.some(i=>i.fileMatch[0]===t);if(null==e?void 0:e.value){const i="link"===e.type?{uri:e.value,fileMatch:[t]}:{uri:t,fileMatch:[t],schema:JSON.parse(e.value)};s.schemas=o?s.schemas.map(c=>c.fileMatch[0]===t?i:c):[...s.schemas,i]}else{if(!o)return;s.schemas=s.schemas.filter(i=>i.fileMatch[0]!==t)}this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(s)}setJsonComments(e){const t=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{comments:e});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(t)}createGlobalCache(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}defineThemes(e,t){e.themesAreDefined||(e.themesAreDefined=!0,t.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}]}))}createInstance(e,t,s,o,i){const c=e.editor.create(o,i),b=e.Uri.file(t),C=e.editor.createModel(s,void 0,b);return c.setModel(C),c}saveState(e,t){const s=t.getModel().uri.toString(),o=JSON.stringify(t.saveViewState());null==e.savedStates[s]?e.savedStates[s]={viewState:o}:e.savedStates[s].viewState=o}restoreState(e,t){const s=t.getModel().uri.toString(),o=e.savedStates[s];if(null==o)return;const i=JSON.parse(o.viewState);t.restoreViewState(i)}addSnippets(e,t){return[e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{triggerCharacters:[">"],provideCompletionItems:(o,i)=>{if(t.getModel()!==o)return{suggestions:[]};const c=o.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==c[c.length-1])return{suggestions:[]};const C=c.lastIndexOf("<");if(-1===C)return{suggestions:[]};const d=c.substring(C);let v=0;if(Array.from(d).forEach(I=>{'"'===I&&v++}),v%2!=0)return{suggestions:[]};if(d.startsWith("</"))return{suggestions:[]};if(d.indexOf(">")!==d.length-1)return{suggestions:[]};let p=d.indexOf(" ");if(-1===p&&(p=d.indexOf(">")),-1===p)return{suggestions:[]};const f=d.substring(1,p);return f?g.includes(f.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(f)?{suggestions:[{label:`</${f}>`,kind:e.languages.CompletionItemKind.Snippet,insertText:`$0</${f}>`,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{provideCompletionItems:(o,i)=>{if(null==this.snippets||t.getModel()!==o)return{suggestions:[]};const c=o.getWordUntilPosition(i),b={startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:c.startColumn,endColumn:c.endColumn};return{suggestions:this.snippets.map(d=>{var v,p,f;if(d.content)return{label:d.name,kind:e.languages.CompletionItemKind.Snippet,documentation:`${null!==(v=d.title)&&void 0!==v?v:""}\n${null!==(p=d.help)&&void 0!==p?p:""}\n${null!==(f=d.links)&&void 0!==f?f:""}`,insertText:d.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:b}}).filter(d=>!!d)}}})]}createResizeObserver(e,t){const s=new ResizeObserver(()=>{t.layout()});return s.observe(e),s}addEvents(e){e.getModel().onDidChangeContent(()=>{var t;const s=e.getModel().getValue();s!==this.cachedValue&&(this.cachedValue=s,null===(t=this.valueChangedCallback)||void 0===t||t.call(this,s))}),e.onDidFocusEditorWidget(()=>{var t;null===(t=this.focusedCallback)||void 0===t||t.call(this)}),e.onDidBlurEditorWidget(()=>{var t;null===(t=this.blurredCallback)||void 0===t||t.call(this)})}}const u=["editor"];let l=(()=>{class n{constructor(){this.autoFocus=!1,this.valueChanged=new r.vpe,this.focused=new r.vpe,this.blurred=new r.vpe}ngAfterViewInit(){window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.25.2/min/vs"]}}),window.require(["vs/editor/editor.main"],t=>{this.monaco=t,this.createEditor(this.autoFocus)})}ngOnChanges(t){var s,o,i,c;null!=t.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=t.value&&(null===(s=this.monacoInstance)||void 0===s||s.updateValue(this.value)),null!=t.jsonSchema&&(null===(o=this.monacoInstance)||void 0===o||o.setJsonSchema(this.jsonSchema)),null!=t.jsonComments&&(null===(i=this.monacoInstance)||void 0===i||i.setJsonComments(this.jsonComments)),null!=t.snippets&&(null===(c=this.monacoInstance)||void 0===c||c.setSnippets(this.snippets))}insertSnippet(t){var s,o;null===(s=this.monacoInstance)||void 0===s||s.insertSnippet(t),null===(o=this.monacoInstance)||void 0===o||o.focus()}ngOnDestroy(){var t;null===(t=this.monacoInstance)||void 0===t||t.destroy()}createEditor(t){this.monacoInstance=new h(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets),this.jsonSchema&&this.monacoInstance.setJsonSchema(this.jsonSchema),this.jsonComments&&this.monacoInstance.setJsonComments(this.jsonComments),this.monacoInstance.onValueChange(s=>{this.valueChanged.emit(s)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),t&&this.monacoInstance.focus()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-monaco-editor"]],viewQuery:function(t,s){if(1&t&&r.Gf(u,5),2&t){let o;r.iGM(o=r.CRH())&&(s.editorRef=o.first)}},inputs:{filename:"filename",value:"value",snippets:"snippets",options:"options",jsonSchema:"jsonSchema",jsonComments:"jsonComments",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[r.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(t,s){1&t&&r._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),n})()},5469:(_,m,a)=>{a.d(m,{D:()=>h});var r=a(5266),g=a(3184);let h=(()=>{class u{constructor(n){this.globalConfigService=n}onClick(n){(navigator.platform.match("Mac")?n.metaKey:n.ctrlKey)&&n.shiftKey&&n.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}return u.\u0275fac=function(n){return new(n||u)(g.Y36(r.bE))},u.\u0275dir=g.lG2({type:u,selectors:[["","appToggleDebug",""]],hostBindings:function(n,e){1&n&&g.NdJ("click",function(s){return e.onClick(s)})}}),u})()},845:(_,m,a)=>{a.d(m,{z:()=>h});var r=a(3184),g=a(318);let h=(()=>{class u{constructor(n){this.sanitizer=n}transform(n){return this.sanitizer.bypassSecurityTrustHtml(n)}}return u.\u0275fac=function(n){return new(n||u)(r.Y36(g.H7,16))},u.\u0275pipe=r.Yjl({name:"safeHtml",type:u,pure:!0}),u})()},162:(_,m,a)=>{a.d(m,{f:()=>h});var r=a(8784),g=a(7514);function h(u){return{loader:{provide:g.Zw,useFactory:u,deps:[r.eN]},defaultLanguage:"en",isolate:!0}}},8865:(_,m,a)=>{a.d(m,{M:()=>h});var r=a(745),g=a(3158);class h{constructor(l,n,e){this.http=l,this.prefix=n,this.suffix=e}getTranslation(l){return this.http.get(`${this.prefix}${l}${this.suffix}`).pipe((0,g.K)(n=>(console.warn(`Translation: Failed to get language '${l}' from ${this.prefix}`,n),(0,r.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.06.00/ng-edit/default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1.c4115dfaf8e185e5.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_app-administration_routing_ts","projects_eav-ui_src_app_metadata_index_ts","projects_eav-ui_src_app_app-administration_services_content-types_service_ts-projects_eav-ui_-bcb93a"],{432:(T,x,e)=>{e.r(x),e.d(x,{appAdministrationRoutes:()=>qt});var p=e(4079),f=e(3454),c=e(2437),r=e(5544),d=e(9204);const u={name:"APP_ADMINISTRATION_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{AppAdminMainComponent:o}=yield Promise.all([e.e("default-projects_eav-ui_src_app_shared_components_nav-item-list_nav-item-list_component_ts-pr-7c4da5"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_component_ts")]).then(e.bind(e,6192));return o})()},v={name:"ANALYZE_SETTINGS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{AnalyzeSettingsComponent:o}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_analyze-settings_comp-6cd38e")]).then(e.bind(e,8852));return o})()},A={name:"SETTINGS_ITEM_DETAILS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{SettingsItemDetailsComponent:o}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a")]).then(e.bind(e,9250));return o})()},C={name:"EDIT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"small",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{EditContentTypeComponent:o}=yield Promise.all([e.e("default-node_modules_angular_material_fesm2022_input_mjs"),e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_edit-content-type_edit-content-type_co-2abec4")]).then(e.bind(e,8407));return o})()},h={name:"IMPORT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{ImportContentTypeComponent:o}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-content-type_import-content-typ-e2ad96").then(e.bind(e,6907));return o})()},E={name:"IMPORT_QUERY_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{ImportQueryComponent:o}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-query_import-query_component_ts").then(e.bind(e,9149));return o})()},_={name:"IMPORT_VIEW_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{ImportViewComponent:o}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-view_import-view_component_ts").then(e.bind(e,439));return o})()},y={name:"LANGUAGE_PERMISSIONS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{LanguagePermissionsComponent:o}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40")]).then(e.bind(e,8237));return o})()},b={name:"VIEWS_USAGE_DIALOG",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,d.A)(function*(){const{ViewsUsageComponent:o}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_views-usage_views-usage_component_ts").then(e.bind(e,8267));return o})()};var g=e(5898),I=e(7214),F=e(1195),t=e(7580),R=e(7941),z=e(320),j=e(4175),P=e(4456),G=e(7024),M=e(5437),S=e(3840),nt=e(4824),ot=e(8136),st=e(2487);let at=(()=>{class o{constructor(){this.exportAppService=(0,M.d)(z.t),this.appInfo=(0,t.vPA)(null),this.features=(0,t.WQX)(nt.t),this.expAssetsAdvEnabled=this.features.isEnabled(ot.T.AppExportAssetsAdvanced),this.includeContentGroups=(0,t.geq)(!1),this.resetAppGuid=(0,t.geq)(!1),this.assetsAdam=(0,t.geq)(!0),this.assetsAdamDeleted=(0,t.geq)(!1),this.assetsSite=(0,t.geq)(!0),this.downloadUrl=(0,t.EWP)(()=>this.exportAppService.exportAppUrl()+`&includeContentGroups=${this.includeContentGroups()}&resetAppGuid=${this.resetAppGuid()}&assetsAdam=${this.assetsAdam()}&assetsSite=${this.assetsSite()}`)}ngOnInit(){this.exportAppService.getAppInfo().subscribe(n=>this.appInfo.set(n))}static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-export-app"]],inputs:{includeContentGroups:[t.Mj6.SignalBased,"includeContentGroups"],resetAppGuid:[t.Mj6.SignalBased,"resetAppGuid"],assetsAdam:[t.Mj6.SignalBased,"assetsAdam"],assetsAdamDeleted:[t.Mj6.SignalBased,"assetsAdamDeleted"],assetsSite:[t.Mj6.SignalBased,"assetsSite"]},outputs:{includeContentGroups:"includeContentGroupsChange",resetAppGuid:"resetAppGuidChange",assetsAdam:"assetsAdamChange",assetsAdamDeleted:"assetsAdamDeletedChange",assetsSite:"assetsSiteChange"},standalone:!0,features:[t.aNF],decls:79,vars:25,consts:[[1,"outer-container-app"],[1,"form-height"],["href","https://2sxc.org/en/help?tag=export-app","target","_blank"],[1,"eav-app-info__title"],[1,"eav-app-info__content"],[1,"checkboxes"],[3,"ngModelChange","ngModel","disabled"],[3,"featureNameId"],[1,"eav-dialog-actions",2,"height","73px"],["mat-button","","download","",1,"eav-button__with-icon",3,"href"],[1,"eav-icon"]],template:function(a,s){if(1&a&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"div",1)(4,"p"),t.EFF(5," Pack the entire app to a "),t.j41(6,"em"),t.EFF(7,"zip"),t.k0s(),t.EFF(8," folder which can be imported again to another site. For further help visit "),t.j41(9,"a",2),t.EFF(10,"2sxc Help"),t.k0s(),t.EFF(11,". "),t.k0s(),t.j41(12,"p",3),t.EFF(13," Specs "),t.k0s(),t.j41(14,"ul",4)(15,"li"),t.EFF(16),t.k0s(),t.j41(17,"li"),t.EFF(18),t.k0s(),t.j41(19,"li"),t.EFF(20),t.k0s()(),t.j41(21,"p",3),t.EFF(22," Contains "),t.k0s(),t.j41(23,"ul",4)(24,"li"),t.EFF(25),t.k0s(),t.j41(26,"li"),t.EFF(27),t.k0s(),t.j41(28,"li"),t.EFF(29),t.k0s(),t.j41(30,"li"),t.EFF(31),t.k0s(),t.j41(32,"li"),t.EFF(33),t.k0s()(),t.j41(34,"p",3),t.EFF(35," Advanced "),t.k0s(),t.j41(36,"ul",5)(37,"li")(38,"mat-checkbox",6),t.mxI("ngModelChange",function(l){return t.DH7(s.includeContentGroups,l)||(s.includeContentGroups=l),l}),t.nrm(39,"br"),t.EFF(40," Include all content-groups to re-import the app in an exact copy of this site. "),t.nrm(41,"br"),t.EFF(42," Only select this option when you copy an entire DNN site. "),t.k0s()(),t.j41(43,"li")(44,"mat-checkbox",6),t.mxI("ngModelChange",function(l){return t.DH7(s.resetAppGuid,l)||(s.resetAppGuid=l),l}),t.nrm(45,"br"),t.EFF(46," Reset the app GUID to zero. "),t.nrm(47,"br"),t.EFF(48," You only need this option for special tutorial apps, and usually must not select it. "),t.k0s()(),t.j41(49,"li"),t.nrm(50,"app-feature-icon",7),t.j41(51,"mat-checkbox",6),t.mxI("ngModelChange",function(l){return t.DH7(s.assetsAdam,l)||(s.assetsAdam=l),l}),t.nrm(52,"br"),t.EFF(53," Include all ADAM assets. "),t.nrm(54,"br"),t.EFF(55," This will include all App files in the "),t.j41(56,"code"),t.EFF(57,"/adam"),t.k0s(),t.EFF(58," folder in your portal. "),t.k0s()(),t.j41(59,"li"),t.nrm(60,"app-feature-icon",7),t.j41(61,"mat-checkbox",6),t.mxI("ngModelChange",function(l){return t.DH7(s.assetsAdamDeleted,l)||(s.assetsAdamDeleted=l),l}),t.nrm(62,"br"),t.EFF(63," Skip ADAM assets of deleted entities. "),t.nrm(64,"br"),t.EFF(65," This will skip all ADAM files which are probably not in use any more, since the owning entities were deleted. "),t.k0s()(),t.j41(66,"li"),t.nrm(67,"app-feature-icon",7),t.j41(68,"mat-checkbox",6),t.mxI("ngModelChange",function(l){return t.DH7(s.assetsSite,l)||(s.assetsSite=l),l}),t.nrm(69,"br"),t.EFF(70," Include all Site assets like images which are not in ADAM. "),t.nrm(71,"br"),t.EFF(72," This will include all files used by your entities (eg. in link fields) which are not in you App-ADAM folder. "),t.k0s()()()(),t.j41(73,"mat-dialog-actions",8)(74,"a",9)(75,"mat-icon",10),t.EFF(76,"deployed_code_update"),t.k0s(),t.j41(77,"span"),t.EFF(78,"Download"),t.k0s()()()()),2&a){let i,l,D,w,q,$,tt,et;t.R7$(2),t.SpI(" Export app ",null==s.appInfo()?"(loading details...)":""," "),t.R7$(14),t.SpI("Name: ",null==(i=s.appInfo())?null:i.Name,""),t.R7$(2),t.SpI("Guid: ",null==(l=s.appInfo())?null:l.Guid,""),t.R7$(2),t.SpI("Version: ",null==(D=s.appInfo())?null:D.Version,""),t.R7$(5),t.SpI("",null==(w=s.appInfo())?null:w.EntitiesCount," entities"),t.R7$(2),t.SpI("",null==(q=s.appInfo())?null:q.LanguagesCount," languages"),t.R7$(2),t.E5c(" ",null==($=s.appInfo())?null:$.TemplatesCount," templates (Token: ",null==($=s.appInfo())?null:$.HasTokenTemplates,", Razor: ",null==($=s.appInfo())?null:$.HasRazorTemplates,") "),t.R7$(2),t.SpI("",null==(tt=s.appInfo())?null:tt.TransferableFilesCount," files to export"),t.R7$(2),t.SpI("",null==(et=s.appInfo())?null:et.FilesCount," files in the app folder totally"),t.R7$(5),t.R50("ngModel",s.includeContentGroups),t.Y8G("disabled",s.resetAppGuid()),t.R7$(6),t.R50("ngModel",s.resetAppGuid),t.Y8G("disabled",s.includeContentGroups()),t.R7$(6),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",s.assetsAdam),t.Y8G("disabled",!s.expAssetsAdvEnabled()),t.R7$(9),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",s.assetsAdamDeleted),t.Y8G("disabled",!s.expAssetsAdvEnabled()),t.R7$(6),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",s.assetsSite),t.Y8G("disabled",!s.expAssetsAdvEnabled()),t.R7$(6),t.Y8G("href",s.downloadUrl(),t.B4B)}},dependencies:[G.g7,G.So,P.YN,P.BC,P.vS,R.E7,j.Hl,j.It,S.m_,S.An,st.Z],styles:[".eav-app-info__title[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0;font-weight:700}.eav-app-info__content[_ngcontent-%COMP%]{font-size:14px}.eav-app-info__content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 0}.eav-options-wrapper[_ngcontent-%COMP%]{margin:24px 0}.eav-option-box[_ngcontent-%COMP%]{margin:2px 0}.eav-option-box__text[_ngcontent-%COMP%]{white-space:normal;font-size:14px}.form-height[_ngcontent-%COMP%]{max-height:calc(100vh - 272px);overflow:auto}.mdc-form-field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-top:12px}ul.checkboxes[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;padding-left:0}"]})}return o})();var W=e(5797),it=e(9999),N=e(271),L=e(5858),B=e(52),pt=e(7693),lt=e(1475),X=e(316),Y=e(5060),K=e(5175),U=e(5944),rt=e(3758),dt=e(9333),ct=e(7896);function mt(o,m){if(1&o&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&o){const n=m.$implicit;t.Y8G("value",n.value),t.R7$(),t.SpI(" ",n.name," ")}}function ht(o,m){if(1&o){const n=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(s){const i=t.eBV(n).$implicit;return t.DH7(i._export,s)||(i._export=s),t.Njj(s)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&o){const n=m.$implicit;t.R7$(2),t.R50("ngModel",n._export),t.R7$(2),t.Lme("",n.Name," (",n.Id,")")}}function ut(o,m){if(1&o&&(t.j41(0,"ul",19)(1,"p",20),t.EFF(2,"Templates"),t.k0s(),t.Z7z(3,ht,5,3,"li",15,t.fX1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(3),t.Dyx(n.Templates)}}function gt(o,m){if(1&o){const n=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(s){const i=t.eBV(n).$implicit;return t.DH7(i._export,s)||(i._export=s),t.Njj(s)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&o){const n=m.$implicit;t.R7$(2),t.R50("ngModel",n._export),t.R7$(2),t.Lme("",n.Title," (",n.Id,")")}}function ft(o,m){if(1&o&&(t.j41(0,"ul",19)(1,"p",20),t.EFF(2,"Entities"),t.k0s(),t.Z7z(3,gt,5,3,"li",15,t.fX1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(3),t.Dyx(n.Entities)}}function Ct(o,m){if(1&o){const n=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(s){const i=t.eBV(n).$implicit;return t.DH7(i._export,s)||(i._export=s),t.Njj(s)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()(),t.DNE(5,ut,5,0,"ul",19)(6,ft,5,0,"ul",19),t.k0s()}if(2&o){const n=m.$implicit;t.R7$(2),t.R50("ngModel",n._export),t.R7$(2),t.Lme("",n.Name," (",n.Id,")"),t.R7$(),t.vxM(5,n.Templates.length>0?5:-1),t.R7$(),t.vxM(6,n.Entities.length>0?6:-1)}}function vt(o,m){if(1&o){const n=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(s){const i=t.eBV(n).$implicit;return t.DH7(i._export,s)||(i._export=s),t.Njj(s)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&o){const n=m.$implicit;t.R7$(2),t.R50("ngModel",n._export),t.R7$(2),t.Lme("",n.Name," (",n.Id,")")}}function xt(o,m){if(1&o&&(t.j41(0,"div")(1,"ul",13)(2,"p",14),t.EFF(3,"Content Types"),t.k0s(),t.Z7z(4,Ct,7,5,"li",15,t.fX1),t.k0s(),t.j41(6,"ul",13)(7,"p",14),t.EFF(8,"Templates Without Content Types"),t.k0s(),t.Z7z(9,vt,5,3,"li",15,t.fX1),t.k0s()()),2&o){const n=t.XpG(2);t.R7$(4),t.Dyx(n.contentInfo.ContentTypes),t.R7$(5),t.Dyx(n.contentInfo.TemplatesWithoutContentTypes)}}function At(o,m){if(1&o){const n=t.RV6();t.j41(0,"pre"),t.EFF(1,"    "),t.j41(2,"div"),t.EFF(3),t.k0s(),t.EFF(4,"\n    "),t.j41(5,"div"),t.EFF(6),t.k0s(),t.EFF(7,"\n  "),t.k0s(),t.j41(8,"div",0)(9,"h3"),t.EFF(10,"Export Content and Templates from this App"),t.k0s(),t.j41(11,"div",1)(12,"p"),t.EFF(13," To export Content-Types, Queries, Views or Data, use the respective tabs. "),t.k0s(),t.j41(14,"p"),t.EFF(15," This is an advanced feature to export parts of the app. The export will create an xml file which can be imported into another site or app. To export the entire content of the app (for example when duplicating the entire site), go to the app export. For further help visit "),t.j41(16,"a",2),t.EFF(17,"2sxc Help"),t.k0s(),t.EFF(18,". "),t.k0s(),t.j41(19,"div",3)(20,"mat-form-field",4)(21,"mat-label"),t.EFF(22,"Scope"),t.k0s(),t.j41(23,"mat-select",5),t.bIt("ngModelChange",function(s){t.eBV(n);const i=t.XpG();return t.Njj(i.changeScope(s))}),t.Z7z(24,mt,2,2,"mat-option",6,t.fX1),t.j41(26,"mat-option",6),t.EFF(27,"Other..."),t.k0s()(),t.j41(28,"button",7)(29,"mat-icon",8),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.unlockScope())}),t.EFF(30),t.k0s()()(),t.j41(31,"app-field-hint"),t.EFF(32," The scope should almost never be changed - "),t.j41(33,"a",9),t.EFF(34,"see help"),t.k0s()()(),t.DNE(35,xt,11,0,"div"),t.k0s(),t.j41(36,"mat-dialog-actions",10)(37,"button",11),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.exportAppParts())}),t.j41(38,"mat-icon",12),t.EFF(39,"cloud_download"),t.k0s(),t.j41(40,"span"),t.EFF(41,"Export Parts"),t.k0s()()()()}if(2&o){const n=t.XpG();t.R7$(3),t.SpI("Old: ",m.loading,""),t.R7$(3),t.SpI("New: ",n.loading()," "),t.R7$(17),t.Y8G("ngModel",n.exportScope)("disabled",n.lockScope),t.R7$(),t.Dyx(n.scopeOptions),t.R7$(2),t.Y8G("value",n.dropdownInsertValue),t.R7$(2),t.Y8G("tippy",n.lockScope?"Unlock":"Lock"),t.R7$(2),t.SpI(" ",n.lockScope?"lock":"lock_open"," "),t.R7$(5),t.vxM(35,n.contentInfo?35:-1),t.R7$(2),t.Y8G("disabled",n.loading()||n.isExporting())}}let Et=(()=>{class o{#t;#e;constructor(){this.hostClass="dialog-component",this.#t=(0,M.d)(lt.j),this.#e=(0,M.d)(pt.g),this.exportScope=B.YX.scopes.default.value,this.lockScope=!0,this.dropdownInsertValue=L.O,this.loading=(0,t.vPA)(!1),this.isExporting=(0,t.vPA)(!1),this.loading$=new W.t(!1),this.viewModel$=(0,it.z)([this.loading$]).pipe((0,N.T)(([n])=>({loading:n})))}ngOnInit(){this.#n(),this.#o()}ngOnDestroy(){this.loading$.complete()}exportAppParts(){this.isExporting.set(!0);const n=this.#s().map(i=>i.Id),a=this.#i().map(i=>i.Id);let s=this.#a().map(i=>i.Id);s=s.concat(a),this.#t.exportParts(n,s,a),this.isExporting.set(!1)}changeScope(n){n!==L.O||(n=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||B.YX.scopes.default.value,this.scopeOptions.find(a=>a.value===n))||this.scopeOptions.unshift({name:n,value:n}),this.exportScope=n,this.#o()}unlockScope(){this.lockScope=!this.lockScope,this.lockScope&&(this.exportScope=B.YX.scopes.default.value,this.#o())}#n(){this.loading$.next(!0),this.loading.set(!0),this.#e.getScopes().subscribe(n=>{this.scopeOptions=n,this.loading$.next(!1),this.loading.set(!1)})}#o(){this.loading$.next(!0),this.loading.set(!0),this.#t.getContentInfo(this.exportScope).subscribe(n=>{this.contentInfo=n,this.loading$.next(!1),this.loading.set(!1)})}#s(){return this.contentInfo.ContentTypes.filter(n=>n._export)}#a(){let n=[];for(const a of this.contentInfo.ContentTypes)n=n.concat(a.Entities.filter(s=>s._export));return n}#i(){let n=[];for(const a of this.contentInfo.ContentTypes)n=n.concat(a.Templates.filter(s=>s._export));return n=n.concat(this.contentInfo.TemplatesWithoutContentTypes.filter(a=>a._export)),n}static#p=this.\u0275fac=function(a){return new(a||o)};static#l=this.\u0275cmp=t.VBU({type:o,selectors:[["app-export-app-parts"]],hostVars:1,hostBindings:function(a,s){2&a&&t.Mr5("className",s.hostClass)},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[1,"outer-container-app"],[1,"form-height"],["href","https://2sxc.org/en/help?tag=export","target","_blank"],[1,"eav-edit-input"],["color","accent",1,"eav-mat-form-field"],["name","Scope",3,"ngModelChange","ngModel","disabled"],[3,"value"],["mat-icon-button","","matTextSuffix","",3,"tippy"],["appClickStopPropagation","",3,"click"],["appClickStopPropagation","","href","https://2sxc.org/help?tag=scope","target","_blank"],[1,"eav-dialog-actions",2,"height","73px"],["mat-button","","tippy","Export selected Parts",1,"eav-button__with-icon",3,"click","disabled"],[1,"eav-icon"],[1,"eav-content-info__list","eav-content-info__base"],[1,"eav-content-info__title"],[1,"eav-content-info__item"],[1,"eav-option-box"],[3,"ngModelChange","ngModel"],[1,"eav-option-box__text"],[1,"eav-content-info__list"],[1,"eav-content-info__subtitle"]],template:function(a,s){if(1&a&&(t.DNE(0,At,42,9),t.nI1(1,"async")),2&a){let i;t.vxM(0,(i=t.bMT(1,1,s.viewModel$))?0:-1,i)}},dependencies:[U.RG,U.rl,U.nJ,U.yw,K.Ve,K.VO,Y.wT,P.YN,P.BC,P.vS,Y.Sy,j.Hl,j.$z,j.iY,S.m_,S.An,G.g7,G.So,R.E7,X.Jj,rt.F,dt.c,ct.e,R.hM],styles:[".eav-edit-input[_ngcontent-%COMP%]{padding-bottom:8px}.eav-content-info__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.eav-content-info__subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.eav-content-info__list[_ngcontent-%COMP%]{font-size:14px;list-style-type:none}.eav-content-info__base[_ngcontent-%COMP%]{padding:0}.eav-content-info__item[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:2px}.eav-option-box[_ngcontent-%COMP%]{margin:8px 0}.eav-option-box__text[_ngcontent-%COMP%]{white-space:normal;font-size:14px}.form-height[_ngcontent-%COMP%]{max-height:calc(100vh - 280px);overflow:auto}"]})}return o})();var V=e(3550),H=e(8624),yt=e(8537),O=e(1567),Q=e(8764),It=e(6647),_t=e(1318),Ft=e(9452),Tt=e(4334),Dt=e(2987),jt=e(4147),Pt=e(3176),Mt=e(8873),Z=e(1134),St=e(4575),Rt=e(9914),k=e(3347),Ot=e(436);const $t=["installerWindow"],bt=(o,m,n)=>({"sxc-message-warning":o,"sxc-message-success":m,"sxc-message-error":n});function Gt(o,m){1&o&&t.nrm(0,"mat-spinner",3)}function Ut(o,m){1&o&&(t.j41(0,"div"),t.EFF(1,"Select or drop file"),t.k0s())}function Nt(o,m){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const n=m.$implicit;t.R7$(),t.JRh(n.name)}}function Bt(o,m){1&o&&(t.j41(0,"div",8),t.EFF(1," Upload succeeded. See the messages below for more information. "),t.k0s())}function Vt(o,m){1&o&&(t.j41(0,"div",9),t.EFF(1," Upload failed. See the messages below for more information. "),t.k0s())}function zt(o,m){if(1&o&&(t.j41(0,"div",10),t.EFF(1),t.k0s()),2&o){const n=m.$implicit,a=t.XpG(2);t.Y8G("ngClass",t.sMw(2,bt,n.MessageType===a.FileUploadMessageTypes.Warning,n.MessageType===a.FileUploadMessageTypes.Success,n.MessageType===a.FileUploadMessageTypes.Error)),t.R7$(),t.SpI(" ",n.Text," ")}}function Wt(o,m){if(1&o&&(t.j41(0,"div",6),t.DNE(1,Bt,2,0,"div",8)(2,Vt,2,0,"div",9),t.Z7z(3,zt,2,6,"div",10,t.fX1),t.k0s()),2&o){const n=t.XpG();t.R7$(),t.vxM(1,n.result().Success?1:-1),t.R7$(),t.vxM(2,n.result().Success?-1:2),t.R7$(),t.Dyx(n.result().Messages)}}function Lt(o,m){if(1&o){const n=t.RV6();t.j41(0,"mat-dialog-actions",7)(1,"button",11),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.upload())}),t.j41(2,"mat-icon",12),t.EFF(3,"cloud_upload"),t.k0s(),t.j41(4,"span"),t.EFF(5,"Upload"),t.k0s()()()}if(2&o){const n=t.XpG();t.R7$(),t.Y8G("disabled",!n.files().length||n.uploading()||!!n.result())}}let Xt=(()=>{class o extends Pt.${constructor(n,a,s,i){super(),this.snackBar=n,this.sanitizer=a,this.context=s,this.changeDetectorRef=i,this.importAppPartsService=(0,M.d)(H.S),this.hostClass="dialog-component",this.uploadType=V.HL.AppPart,this.uploading=(0,t.vPA)(!1),this.result=(0,t.vPA)(void 0),this.files=(0,t.vPA)([]),this.FileUploadMessageTypes=V.G1,this.UploadTypes=V.HL,this.showAppCatalog$=new W.t(!1),this.showProgress=!1,this.remoteInstallerUrl="",this.ready=!1,this.importData={title:"Import Content and Templates into this App",description:'\n    Import content and templates from a content export (zip) or partial export (xml) to this app.\n    The entire content of the selected file will be imported.\n    If you want to import an entire app, go to the <em>Apps Management</em>.\n    For further help visit <a href="https://2sxc.org/en/help?tag=import" target="_blank">2sxc Help</a>.\n    ',allowedFileTypes:"xml",upload$:l=>this.importAppPartsService.importAppParts(l[0])},this.installerService=(0,M.d)(jt.e),this.installSettingsService=(0,M.d)(Dt.n),this.alreadyProcessing=!1,this.messages$=(0,yt.R)(window,"message").pipe((0,O.p)(()=>!this.alreadyProcessing),(0,O.p)(l=>"https://2sxc.org"===l.origin),(0,N.T)(l=>{try{return JSON.parse(l.data)}catch(D){return void console.error("error procesing message. Message was "+l.data,D)}}),(0,O.p)(l=>l&&Number(l.moduleId)===this.context.moduleId)),(0,t.QZP)(()=>{this.files(),null!=this.result()&&(console.log("result changed"),this.result.set(void 0))}),this.subscriptions.add(this.installSettingsService.settings$.subscribe(l=>{this.settings=l,this.remoteInstallerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(l.remoteUrl),this.ready=!0}))}ngOnInit(){null!=this.importData.files&&this.filesDropped(this.importData.files),this.installSettingsService.loadGettingStarted(!1),this.subscriptions.add(this.messages$.pipe((0,O.p)(n=>"specs"===n.action),(0,Q.M)(()=>{const n=this.installerWindow.nativeElement,a={action:"specs",data:{installedApps:this.settings.installedApps,rules:this.settings.installedApps.map(i=>({target:"guid",appGuid:i.guid,mode:"f",url:""}))}},s=JSON.stringify(a);n.contentWindow.postMessage(s,"*"),console.log("debug: just sent specs message:"+s,a,n)})).subscribe()),this.subscriptions.add(this.messages$.pipe((0,O.p)(n=>"install"===n.action),(0,N.T)(n=>Object.values(n.packages)),(0,O.p)(n=>{const s=`Do you want to install these packages?\n\n${n.reduce((i,l)=>`${i} - ${l.displayName}\n`,"")}\nThis takes about 10 seconds per package. Don't reload the page while it's installing.`;return confirm(s)}),(0,It.n)(n=>(this.alreadyProcessing=!0,this.showProgress=!0,this.changeDetectorRef.detectChanges(),this.installerService.installPackages(n,a=>this.currentPackage=a))),(0,Q.M)(()=>{this.showProgress=!1,this.changeDetectorRef.detectChanges(),alert("Installation complete \u{1f44d}"),window.top.location.reload()}),(0,_t.W)(n=>(console.error("Error: ",n),this.showProgress=!1,this.alreadyProcessing=!1,this.changeDetectorRef.detectChanges(),alert(`An error occurred: Package ${this.currentPackage.displayName}\n\n${n.error?.Message??n.error?.message??""}\n\n${n.message}\n\nPlease try again later or check how to manually install content-templates: https://azing.org/2sxc/r/0O4OymoA`),(0,Ft.of)(n)))).subscribe())}ngOnDestroy(){super.ngOnDestroy()}filesDropped(n){this.setFiles(n),this.upload()}filesChanged(n){const s=Array.from(n.target.files);this.setFiles(s)}upload(){this.uploading.set(!0),this.subscriptions.add(this.importData.upload$(this.files()).pipe((0,Tt.s)(1)).subscribe({next:n=>{this.uploading.set(!1),this.result.set(n)},error:()=>{this.uploading.set(!1),this.result.set(void 0),this.snackBar.open("Upload failed. Please check console for more information",void 0,{duration:3e3})}}))}setFiles(n){this.importData.multiple||(n=n.slice(0,1)),this.files.set(n)}static#t=this.\u0275fac=function(a){return new(a||o)(t.rXU(k.UG),t.rXU(Ot.up),t.rXU(Mt.o),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-import-app-parts"]],viewQuery:function(a,s){if(1&a&&t.GBs($t,5),2&a){let i;t.mGM(i=t.lsd())&&(s.installerWindow=i.first)}},hostVars:1,hostBindings:function(a,s){2&a&&t.Mr5("className",s.hostClass)},standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:12,consts:[["fileInput",""],["appDragAndDrop","",1,"outer-container-app",3,"filesDropped","allowedFileTypes"],[3,"innerHtml"],["mode","indeterminate","diameter","20","color","accent"],["mat-raised-button","","tippy","Open file browser",1,"select-btn",3,"click","disabled"],["type","file","multiple","",1,"hide",3,"change"],[1,"eav-result-container"],[1,"eav-dialog-actions",2,"height","73px"],[1,"sxc-message","sxc-message-info"],[1,"sxc-message","sxc-message-error"],[1,"sxc-message",3,"ngClass"],["mat-button","","tippy","Import File",1,"eav-button__with-icon",3,"click","disabled"],[1,"eav-icon"]],template:function(a,s){if(1&a){const i=t.RV6();t.j41(0,"div",1),t.bIt("filesDropped",function(D){return t.eBV(i),t.Njj(s.filesDropped(D))}),t.j41(1,"div"),t.nrm(2,"h3",2),t.nI1(3,"safeHtml"),t.k0s(),t.j41(4,"div"),t.DNE(5,Gt,1,0,"mat-spinner",3),t.j41(6,"p"),t.EFF(7,"To import Content-Types, Queries, Views or Data, use the respective tabs."),t.k0s(),t.j41(8,"p"),t.EFF(9,"Create an xml containing parts of the app, e.g. content and templates. Import parts from such an xml into this app. "),t.k0s(),t.nrm(10,"p",2),t.nI1(11,"safeHtml"),t.j41(12,"div")(13,"button",4),t.bIt("click",function(){t.eBV(i);const D=t.sdS(18);return t.Njj(D.click())}),t.DNE(14,Ut,2,0,"div"),t.Z7z(15,Nt,2,1,"div",null,t.fX1),t.k0s(),t.j41(17,"input",5,0),t.bIt("change",function(D){return t.eBV(i),t.Njj(s.filesChanged(D))}),t.k0s()(),t.DNE(19,Wt,5,2,"div",6),t.k0s(),t.DNE(20,Lt,6,1,"mat-dialog-actions",7),t.k0s()}if(2&a){let i;t.Y8G("allowedFileTypes",s.importData.allowedFileTypes),t.R7$(2),t.Y8G("innerHtml",t.bMT(3,8,s.importData.title),t.npT),t.R7$(3),t.vxM(5,s.uploading()?5:-1),t.R7$(5),t.Y8G("innerHtml",t.bMT(11,10,s.importData.description),t.npT),t.R7$(3),t.Y8G("disabled",s.uploading()),t.R7$(),t.vxM(14,s.files().length?-1:14),t.R7$(),t.Dyx(s.files()),t.R7$(4),t.vxM(19,s.result()?19:-1),t.R7$(),t.vxM(20,null!=(i=s.result())&&i.Success?-1:20)}},dependencies:[X.YU,R.hM,R.E7,Z.D6,Z.LG,Rt.$,St.S,j.Hl,j.$z,S.m_,S.An],styles:[".eav-result-container[_ngcontent-%COMP%]{margin-top:16px;max-height:calc(100vh - 354px);overflow-y:auto}.eav-app-catalog-button[_ngcontent-%COMP%]{margin-left:12px}.eav-app-catalog-iframe[_ngcontent-%COMP%]{margin-top:16px;width:100%;height:500px;border:none}.eav-progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;background:#fffc;display:flex;justify-content:center;flex-direction:column;text-align:center}.eav-progress[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin:0 auto}.eav-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:48px}.select-btn[_ngcontent-%COMP%]{margin-bottom:12px}"]})}return o})();var Yt=e(5469),J=e(8827),Kt=e(3777),Ht=e(4699);function Qt(o,m){1&o&&(t.j41(0,"p"),t.nrm(1,"br"),t.EFF(2," In Advanced mode you can also sync all the site files used by this app. They will be placed in a folder inside "),t.j41(3,"code"),t.EFF(4,"App_Data"),t.k0s(),t.EFF(5," and allow sync/restore with git or another server. "),t.k0s())}function Zt(o,m){1&o&&t.nrm(0,"app-feature-text-info",3),2&o&&t.Y8G("featureNameId","AppSyncWithSiteFiles")}function kt(o,m){if(1&o){const n=t.RV6();t.j41(0,"mat-dialog-actions",4)(1,"div",5)(2,"button",6),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.exportAppXml(!1))}),t.j41(3,"mat-icon",7),t.EFF(4,"more_time"),t.k0s(),t.j41(5,"span"),t.EFF(6,"Save state"),t.k0s()(),t.j41(7,"button",6),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.resetApp(!1))}),t.j41(8,"mat-icon",7),t.EFF(9,"restore"),t.k0s(),t.j41(10,"span"),t.EFF(11,"Restore state"),t.k0s()()()()}}function Jt(o,m){if(1&o){const n=t.RV6();t.j41(0,"mat-dialog-actions",4)(1,"div",5)(2,"button",6),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.exportAppXml(!0))}),t.j41(3,"mat-icon",7),t.EFF(4,"more_time"),t.k0s(),t.j41(5,"span"),t.EFF(6,"Save with Assets"),t.k0s()(),t.j41(7,"button",6),t.bIt("click",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.resetApp(!0))}),t.j41(8,"mat-icon",7),t.EFF(9,"restore"),t.k0s(),t.j41(10,"span"),t.EFF(11,"Restore with Assets"),t.k0s()()()()}}let wt=(()=>{class o{#t;#e;#n;constructor(n){this.snackBar=n,this.#t=(0,M.d)(H.S),this.#e=(0,M.d)(z.t),this.appStateAdvanced=!1,this.#n=(0,M.d)(Ht.L)}ngOnInit(){this.#n.getCurrent$().subscribe(n=>{this.dialogSettings=n})}ngOnDestroy(){this.snackBar.dismiss()}exportAppXml(n){this.snackBar.open("Exporting..."),this.#e.exportForVersionControl({includeContentGroups:!0,resetAppGuid:!1,withFiles:n}).subscribe({next:a=>{this.snackBar.open("Export completed into the 'App_Data' folder.",null,{duration:3e3})},error:a=>{this.snackBar.open("Export failed. Please check console for more information",null,{duration:3e3})}})}resetApp(n){confirm("Are you sure? All changes since last xml export will be lost")&&(this.snackBar.open("Resetting..."),this.#t.resetApp(n).subscribe({next:a=>{this.snackBar.open("Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct",null,{duration:3e4})},error:a=>{this.snackBar.open("Reset failed. Please check console for more information",null,{duration:3e3})}}))}static#o=this.\u0275fac=function(a){return new(a||o)(t.rXU(k.UG))};static#s=this.\u0275cmp=t.VBU({type:o,selectors:[["app-app-state"]],standalone:!0,features:[t.aNF],decls:17,vars:6,consts:[[1,"outer-container-app"],[1,"title-slider"],[1,"eav-card-header-toggle",3,"ngModelChange","ngModel"],[3,"featureNameId"],[1,"eav-dialog-actions",2,"height","73px"],[1,"eav-dialog-actions-div"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"]],template:function(a,s){1&a&&(t.j41(0,"div",0)(1,"div")(2,"div",1)(3,"h3"),t.EFF(4,"App-State Versioning"),t.k0s(),t.j41(5,"mat-slide-toggle",2),t.mxI("ngModelChange",function(l){return t.DH7(s.appStateAdvanced,l)||(s.appStateAdvanced=l),l}),t.EFF(6),t.k0s()()(),t.j41(7,"div")(8,"p"),t.EFF(9," You can save / restore the app with data and configuration in "),t.j41(10,"code"),t.EFF(11,".data/app.xml"),t.k0s(),t.EFF(12,". This file can then also be versioned using git. "),t.k0s(),t.DNE(13,Qt,6,0,"p")(14,Zt,1,1,"app-feature-text-info",3),t.k0s(),t.DNE(15,kt,12,0,"mat-dialog-actions",4)(16,Jt,12,0,"mat-dialog-actions",4),t.k0s()),2&a&&(t.R7$(5),t.R50("ngModel",s.appStateAdvanced),t.R7$(),t.JRh(s.appStateAdvanced?"advanced":"basic"),t.R7$(7),t.vxM(13,s.appStateAdvanced?13:-1),t.R7$(),t.vxM(14,s.appStateAdvanced?14:-1),t.R7$(),t.vxM(15,s.appStateAdvanced?-1:15),t.R7$(),t.vxM(16,s.appStateAdvanced?16:-1))},dependencies:[Kt.Hu,S.m_,S.An,j.Hl,j.$z,J.mV,J.sG,P.YN,P.BC,P.vS,Yt.L,R.E7],styles:[".title-slider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}"]})}return o})();const qt=[{path:"",component:r.DialogEntryComponent,data:{dialog:u},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_getting-started_getting-started_component_ts").then(e.bind(e,9706)).then(o=>o.GettingStartedComponent),data:{title:"App Home",breadcrumb:"Info"}},{path:"data/:scope",loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_menu_mjs"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_data_data_component_ts")]).then(e.bind(e,7391)).then(o=>o.DataComponent),children:[{path:"import",component:r.DialogEntryComponent,data:{dialog:h,title:"Import Content Type"}},{path:"items/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,753)).then(o=>o.contentItemsRoutes)},...F.RD,{path:"add",component:r.DialogEntryComponent,data:{dialog:C,title:"Add Content Type"}},{path:":contentTypeStaticName/edit",component:r.DialogEntryComponent,data:{dialog:C,title:"Edit Content Type"}},...f.H.getRoutes(),p.N5.route,{path:"fields/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,5733)).then(o=>o.contentTypeFieldsRoutes),data:{title:"Content Type Fields"}},{path:"export/:contentTypeStaticName",loadChildren:()=>e.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(e.bind(e,4350)).then(o=>o.ContentExportRoutes),data:{title:"Export Items"}},{path:":contentTypeStaticName/import",loadChildren:()=>e.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(e.bind(e,3031)).then(o=>o.contentImportRoutes),data:{title:"Import Items"}},c.k.route],data:{title:"App Data",breadcrumb:"Data"}},{path:`data-${g.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(o=>o.CopilotPageComponent),data:I.r.data},{path:p.N5.routeData,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts").then(e.bind(e,9086)).then(o=>o.DataRestApiComponent),data:{title:"Rest-Api Data",breadcrumb:"Rest-Api Data"},children:[{path:`:${p.N5.paramTypeName}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-ecbb79"),e.e("projects_eav-ui_src_app_dev-rest_data_data_component_ts")]).then(e.bind(e,6191)).then(o=>o.DevRestDataComponent),data:{breadcrumb:"Rest-Api Data"},children:[c.k.route]}]},{path:"queries",loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_menu_mjs"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_queries_queries_component_ts")]).then(e.bind(e,5964)).then(o=>o.QueriesComponent),children:[{path:"import",component:r.DialogEntryComponent,data:{dialog:E,title:"Import Query"}},...F.Ed,...f.H.getRoutes(),{...c.k.route,data:{title:"Query Permissions"}},p.N5.route],data:{title:"App Queries",breadcrumb:"Queries"}},{path:p.N5.routeQuery,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_queries-rest-api_queries-rest-api_component_ts").then(e.bind(e,3960)).then(o=>o.QueriesRestApiComponent),data:{title:"Rest-Api Queries",breadcrumb:"Rest-Api Queries"},children:[{path:`:${p.N5.paramQuery}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_input_mjs"),e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-ecbb79"),e.e("default-projects_eav-ui_src_app_dev-rest_query_query_component_ts")]).then(e.bind(e,3791)).then(o=>o.DevRestQueryComponent),data:{breadcrumb:"Rest-Api Queries"},children:[c.k.route]}]},{path:"views",loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_menu_mjs"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_views_views_component_ts")]).then(e.bind(e,1232)).then(o=>o.ViewsComponent),children:[{path:"import",component:r.DialogEntryComponent,data:{dialog:_,title:"Import View"}},{path:"usage/:guid",component:r.DialogEntryComponent,data:{dialog:b}},...F.RD,{...c.k.route,data:{title:"View Permissions"}},...f.H.getRoutes()],data:{title:"App Views",breadcrumb:"Views"}},{path:`views-${g.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(o=>o.CopilotPageComponent),data:I.r.views},{path:"web-api",loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_input_mjs"),e.e("default-node_modules_angular_material_fesm2022_menu_mjs"),e.e("default-projects_eav-ui_src_app_edit_form_form-config_service_ts-projects_eav-ui_src_app_edit-b26668"),e.e("default-projects_eav-ui_src_app_create-file-dialog_create-file-dialog_component_ts"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_web-api_web-api_component_ts")]).then(e.bind(e,7592)).then(o=>o.WebApiComponent),data:{title:"App WebApi",breadcrumb:"WebApi"},children:[p.N5.route]},{path:`web-api-${g.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(o=>o.CopilotPageComponent),data:I.r.webApi},{path:p.N5.routeWebApi,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_web-api-rest-api_web-api-rest-api_component_ts").then(e.bind(e,9262)).then(o=>o.WebApiRestApiComponent),data:{title:"Rest-Api Web Api",breadcrumb:"Rest-Api Web Api"},children:[{path:`:${p.N5.paramApiPath}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_input_mjs"),e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("projects_eav-ui_src_app_dev-rest_api_api_component_ts")]).then(e.bind(e,615)).then(o=>o.DevRestApiComponent),data:{breadcrumb:"Rest-Api Web Api"},children:[c.k.route]}]},{path:"app",loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_component_ts-p-0529b1")]).then(e.bind(e,708)).then(o=>o.AppConfigurationComponent),data:{title:"Manage App",breadcrumb:"Manage App"},children:[...f.H.getRoutes(),...F.RD,{path:"fields/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,5733)).then(o=>o.contentTypeFieldsRoutes),data:{title:"Edit Fields of App Settings & Resources"}},{path:"language-permissions",component:r.DialogEntryComponent,data:{dialog:y,title:"Language Permissions"},children:[{...c.k.route,data:{title:"Language Permissions"}}]},{...c.k.route,data:{title:"App Permissions"}},{path:"analyze/:part",component:r.DialogEntryComponent,data:{dialog:v,title:"Analyze Settings / Resources"},children:[{path:"details/:view/:settingsItemKey",component:r.DialogEntryComponent,data:{dialog:A,title:"Settings / Resources Item Details"}}]}]},{path:"export-app",component:at,data:{breadcrumb:"Export this entire App"}},{path:"export-parts",component:Et,data:{breadcrumb:"Export parts of this App"}},{path:"import-parts",component:Xt,data:{breadcrumb:"Import parts of this App"}},{path:"app-state",component:wt,data:{breadcrumb:"App-State Versioning"}}]}]},7214:(T,x,e)=>{e.d(x,{r:()=>f});const p="The Copilot provides tools to help you create code.\n    It is still in new, so please use it carefully and report any issues.",f={data:{title:"Data Copilot",breadcrumb:"2sxc Data Copilot",heading:"2sxc Data Copilot",intro:p,teaser:"Autogenerate content types",outputType:"DataModel"},views:{title:"Views Copilot",breadcrumb:"2sxc View Copilot",heading:"2sxc View Copilot",intro:p,teaser:"Autogenerate Razor Views",outputType:"RazorView"},webApi:{title:"WebApi Copilot",breadcrumb:"2sxc WebApi Copilot",heading:"2sxc WebApi Copilot",intro:p,teaser:"Autogenerate WebApi Controllers",outputType:"WebApi"}}},5898:(T,x,e)=>{e.d(x,{u:()=>p});let p=(()=>{class f{static#t=this.route="copilot";static routeDefinition(r){return{name:"Copilot",icon:"support_agent",svgIcon:!1,path:`${r}-${f.route}`}}}return f})()},7693:(T,x,e)=>{e.d(x,{X:()=>r,g:()=>_});var p=e(271),f=e(6474),c=e(7580);const r="admin/type/",v="admin/type/scopes";let _=(()=>{class y extends f.D{retrieveContentType(g){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.appId,contentTypeId:g}})}retrieveContentTypes(g){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.appId,scope:g}})}getScopes(){return this.http.get(this.apiUrl(v),{params:{appId:this.appId}}).pipe((0,p.T)(g=>{const I=g.old;return Object.keys(I).map(t=>({name:I[t],value:t}))}))}getScopesV2(){return this.http.get(this.apiUrl(v),{params:{appId:this.appId}}).pipe((0,p.T)(g=>g.scopes))}save(g){return this.http.post(this.apiUrl("admin/type/save"),g,{params:{appid:this.appId}})}delete(g){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.appId,staticName:g.StaticName}})}import(g){const I=new FormData;for(const F of g)I.append("File",F);return this.http.post(this.apiUrl("admin/type/import"),I,{params:{appId:this.appId,zoneId:this.zoneId}})}createGhost(g){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.appId,sourceStaticName:g}})}static#t=this.\u0275fac=(()=>{let g;return function(F){return(g||(g=c.xGo(y)))(F||y)}})();static#e=this.\u0275prov=c.jDH({token:y,factory:y.\u0275fac})}return y})()},1475:(T,x,e)=>{e.d(x,{j:()=>u});var p=e(8873),f=e(8624),c=e(7580),r=e(6443),d=e(4821);let u=(()=>{class v{constructor(C,h,E){this.http=C,this.context=h,this.dnnContext=E}getContentInfo(C){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(f.Q+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:C}})}exportParts(C,h,E){const _=this.dnnContext.$2sxc.http.apiUrl(f.Q+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+C.join(";")+"&entityIdsString="+h.join(";")+"&templateIdsString="+E.join(";");window.open(_,"_blank","")}static#t=this.\u0275fac=function(h){return new(h||v)(c.KVO(r.Qq),c.KVO(p.o),c.KVO(d.ob))};static#e=this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac})}return v})()},320:(T,x,e)=>{e.d(x,{t:()=>u});var p=e(1772),f=e(8873),c=e(7580),r=e(6443),d=e(4821);let u=(()=>{class v{constructor(C,h,E){this.http=C,this.context=h,this.dnnContext=E}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(p.u+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportAppUrl(){return`${this.dnnContext.$2sxc.http.apiUrl(`${p.u}Export`)}?appId=${this.context.appId}&zoneId=${this.context.zoneId}`}exportForVersionControl({includeContentGroups:C,resetAppGuid:h,withFiles:E}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(p.u+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:C.toString(),resetAppGuid:h.toString(),withPortalFiles:E.toString()}})}static#t=this.\u0275fac=function(h){return new(h||v)(c.KVO(r.Qq),c.KVO(f.o),c.KVO(d.ob))};static#e=this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac})}return v})()},8624:(T,x,e)=>{e.d(x,{Q:()=>u,S:()=>v});var p=e(1772),f=e(8873),c=e(7580),r=e(6443),d=e(4821);const u="admin/appParts/";let v=(()=>{class A{constructor(h,E,_){this.http=h,this.context=E,this.dnnContext=_}importAppParts(h){const E=new FormData;return E.append("File",h),this.http.post(this.dnnContext.$2sxc.http.apiUrl(u+"Import"),E,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(h){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(p.u+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:h.toString()}})}static#t=this.\u0275fac=function(E){return new(E||A)(c.KVO(r.Qq),c.KVO(f.o),c.KVO(d.ob))};static#e=this.\u0275prov=c.jDH({token:A,factory:A.\u0275fac})}return A})()},1772:(T,x,e)=>{e.d(x,{I:()=>C,u:()=>A});var p=e(6647),f=e(9452),c=e(3550),r=e(8873),d=e(7580),u=e(6443),v=e(4821);const A="admin/app/";let C=(()=>{class h{constructor(_,y,b){this.http=_,this.context=y,this.dnnContext=b}importApp(_,y,b=!1){const g=new FormData;return g.append("File",_),g.append("Name",y??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(A+"Import"),g,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,p.n)(I=>{if(b&&I.Messages[0]?.MessageType===c.G1.Warning){const F=prompt(I.Messages[0].Text+" Would you like to install it using another folder name?");if(F)return this.importApp(_,F,!0)}return(0,f.of)(I)}))}static#t=this.\u0275fac=function(y){return new(y||h)(d.KVO(u.Qq),d.KVO(r.o),d.KVO(v.ob))};static#e=this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac})}return h})()},3454:(T,x,e)=>{e.d(x,{H:()=>f});var p=e(52);class f{static getRoutes(){const r={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>e.e("projects_eav-ui_src_app_metadata_metadata_routing_ts").then(e.bind(e,5933)).then(u=>u.metadataRoutes),data:{title:"Metadata"}};return[r,{...r,path:`${r.path}/title/:title`},{...r,path:`${r.path}/contentType/:contentTypeStaticName`},{...r,path:`${r.path}/title/:title/contentType/:contentTypeStaticName`}]}static getUrl(r,d,u,v,A){let C=`metadata/${r}/${d}/${u}`;return v&&(C+=`/title/${encodeURIComponent(v)}`),A&&(C+=`/contentType/${A}`),C}static getUrlApp(r,d){return this.getUrl(p.YX.metadata.app.targetType,p.YX.metadata.app.keyType,r.toString(),d)}static getUrlAttribute(r,d,u){return this.getUrl(p.YX.metadata.attribute.targetType,p.YX.metadata.attribute.keyType,r.toString(),d,u)}static getUrlContentType(r,d){return this.getUrl(p.YX.metadata.contentType.targetType,p.YX.metadata.contentType.keyType,r,d)}static getUrlEntity(r,d,u){return this.getUrl(p.YX.metadata.entity.targetType,p.YX.metadata.entity.keyType,r,d,u)}}},5858:(T,x,e)=>{e.d(x,{O:()=>p});const p="DROPDOWN_INSERT_VALUE"},6474:(T,x,e)=>{e.d(x,{D:()=>d});var p=e(7580),f=e(4821),c=e(8873),r=e(6443);let d=(()=>{class u{constructor(){this.dnnContext=(0,p.WQX)(f.ob),this.http=(0,p.WQX)(r.Qq),this.context=(0,p.WQX)(c.o)}apiUrl(A){return this.dnnContext.$2sxc.http.apiUrl(A)}get appId(){return this.context.appId.toString()}get zoneId(){return this.context.zoneId.toString()}static#t=this.\u0275fac=function(C){return new(C||u)};static#e=this.\u0275prov=p.jDH({token:u,factory:u.\u0275fac})}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.02/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_app-administration_routing_ts.d380933c092c6e3d.js.map
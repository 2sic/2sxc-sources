{"version":3,"file":"projects_eav-ui_src_app_app-administration_web-api_web-api_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/web-api/web-api-actions/web-api-actions.component.ts","./projects/eav-ui/src/app/app-administration/web-api/web-api-actions/web-api-actions.component.html","./projects/eav-ui/src/app/app-administration/web-api/web-api.component.ts","./projects/eav-ui/src/app/app-administration/web-api/web-api.component.html"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { WebApi } from '../../models/web-api.model';\r\nimport { WebApiActionsParams } from './web-api-actions.models';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { GoToDevRest } from '../../../dev-rest/go-to-dev-rest';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatRippleModule } from '@angular/material/core';\r\n\r\n@Component({\r\n  selector: 'app-web-api-actions',\r\n  templateUrl: './web-api-actions.component.html',\r\n  styleUrls: ['./web-api-actions.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n  ],\r\n})\r\nexport class WebApiActionsComponent implements ICellRendererAngularComp {\r\n  enableCode: boolean;\r\n  private params: ICellRendererParams & WebApiActionsParams;\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute) { }\r\n\r\n\r\n  agInit(params: ICellRendererParams & WebApiActionsParams): void {\r\n    this.params = params;\r\n    this.enableCode = this.params.enableCodeGetter();\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  openCode(): void {\r\n    const api: WebApi = this.params.data;\r\n    this.params.onOpenCode(api);\r\n  }\r\n\r\n  openRestApi(): void {\r\n    const api: WebApi = this.params.data;\r\n    // Get the current URL and split it into segments\r\n    const urlSegments = this.router.url.split('/');\r\n    // Replace the last segment with the GoToDevRest.routeWebApi (restapiwebapi)\r\n    urlSegments[urlSegments.length - 1] = GoToDevRest.routeWebApi;\r\n    // Add the path of the api to the url segments\r\n    urlSegments.push(encodeURIComponent(api.path));\r\n    // Join the segments back together to form the new URL\r\n    const apiUrl = urlSegments.join('/');\r\n\r\n    this.router.navigate([apiUrl]);\r\n\r\n    // this.params.onOpenRestApi(api);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  @if (enableCode) {\r\n    <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Code\" (click)=\"openCode()\">\r\n      <mat-icon>code</mat-icon>\r\n    </div>\r\n  }\r\n  @if (!enableCode) {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon>code</mat-icon>\r\n    </div>\r\n  }\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"openRestApi()\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog, MatDialogActions } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { SourceService } from '../../code-editor/services/source.service';\r\nimport { CreateFileDialogComponent, CreateFileDialogData, CreateFileDialogResult } from '../../create-file-dialog';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { WebApi } from '../models/web-api.model';\r\nimport { WebApiActionsComponent } from './web-api-actions/web-api-actions.component';\r\nimport { WebApiActionsParams } from './web-api-actions/web-api-actions.models';\r\nimport { AppDialogConfigService } from '../services/app-dialog-config.service';\r\nimport { TrueFalseComponent } from '../../dev-rest/api/true-false/true-false.component';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { transient } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-web-api',\r\n  templateUrl: './web-api.component.html',\r\n  styleUrls: ['./web-api.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    SxcGridModule,\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n  ]\r\n})\r\nexport class WebApiComponent implements OnInit, OnDestroy {\r\n\r\n  private dialogService = transient(DialogService);\r\n  private sourceService = transient(SourceService);\r\n\r\n  enableCode!: boolean;\r\n\r\n  webApis$ = new BehaviorSubject<WebApi[]>(undefined);\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<WebApiViewModel>;\r\n\r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private dialogConfigSvc: AppDialogConfigService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchWebApis();\r\n    this.viewModel$ = combineLatest([this.webApis$]).pipe(\r\n      map(([webApis]) => ({ webApis }))\r\n    );\r\n\r\n    this.dialogConfigSvc.getCurrent$().subscribe(settings => {\r\n      this.enableCode = settings.Context.Enable.CodeEditor;\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.webApis$.complete();\r\n  }\r\n\r\n  createController(global?: boolean): void {\r\n    // This FileLocationDialogComponent dialog is currently never going to be opened because it has been replaced by mat-menu\r\n    // in the web-api.component.html template. If you want to use the dialog instead of the menu, you need to remove the\r\n    // mat-menu and replace it with a button that opens the dialog with empty parameters.\r\n    // Dialog has been replaced by menu because from update to Angular 16 CreateFileDialogComponent wasn't opening anymore if\r\n    // FileLocationDialogComponent dialog was used.\r\n    // if (global == null) {\r\n    //   const fileLocationDialogRef = this.dialog.open(FileLocationDialogComponent, {\r\n    //     autoFocus: false,\r\n    //     viewContainerRef: this.viewContainerRef,\r\n    //     width: '650px',\r\n    //   });\r\n    //   fileLocationDialogRef.afterClosed().subscribe((isShared?: boolean) => {\r\n    //     if (isShared == null) { return; }\r\n    //     this.createController(isShared);\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    const createFileDialogData: CreateFileDialogData = {\r\n      folder: 'api',\r\n      global,\r\n      purpose: 'Api',\r\n    };\r\n    const createFileDialogRef = this.dialog.open(CreateFileDialogComponent, {\r\n      autoFocus: false,\r\n      data: createFileDialogData,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n\r\n    createFileDialogRef.afterClosed().subscribe((result?: CreateFileDialogResult) => {\r\n      if (!result) { return; }\r\n\r\n      if (result.name.endsWith('Controller.cs')) {\r\n        const fileName = result.name.substring(result.name.lastIndexOf('/') + 1);\r\n        if (!/^[A-Z][a-zA-Z0-9]*Controller\\.cs$/g.test(fileName)) {\r\n          const message = `\"${fileName}\" is invalid controller name. Should be something like \"MyController.cs\"`;\r\n          this.snackBar.open(message, null, { duration: 5000 });\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.snackBar.open('Saving...');\r\n      this.sourceService.create(result.name, global, result.templateKey).subscribe(() => {\r\n        this.snackBar.open('Saved', null, { duration: 2000 });\r\n        this.fetchWebApis();\r\n      });\r\n    });\r\n  }\r\n\r\n  private fetchWebApis() {\r\n    this.sourceService.getWebApis().subscribe(webApis => {\r\n      this.webApis$.next(webApis);\r\n    });\r\n  }\r\n\r\n  private enableCodeGetter() {\r\n    return this.enableCode;\r\n  }\r\n\r\n  private openCode(api: WebApi) {\r\n    this.dialogService.openCodeFile(api.path, api.isShared);\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          headerName: 'Endpoint',\r\n          field: 'endpointPath',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Edition',\r\n          field: 'edition',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Forder2',\r\n          field: 'folder',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          headerName: 'Name',\r\n          field: 'name',\r\n        },\r\n        // {\r\n        //   field: 'Type',\r\n        //   flex: 1,\r\n        //   minWidth: 100,\r\n        //   cellClass: 'no-outline',\r\n        //   sortable: true,\r\n        //   filter: BooleanFilterComponent,\r\n        //   valueGetter: (params) => {\r\n        //     const api: WebApi = params.data;\r\n        //     return api.isShared;\r\n        //   },\r\n        //   cellRenderer: WebApiTypeComponent,\r\n        // },\r\n        {\r\n          headerName: 'Compiled',\r\n          field: 'isCompiled',\r\n          ...ColumnDefinitions.Boolean2,\r\n          cellRenderer: TrueFalseComponent,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight6,\r\n          cellRenderer: WebApiActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: WebApiActionsParams = {\r\n              enableCodeGetter: () => this.enableCodeGetter(),\r\n              onOpenCode: (api) => this.openCode(api),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface WebApiViewModel {\r\n  webApis: WebApi[];\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"grid-wrapper mat-tab-grid-wrapper\" >\r\n    <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.webApis\" [gridOptions]=\"gridOptions\">\r\n    </ag-grid-angular>\r\n    <mat-dialog-actions align=\"end\">\r\n      <button mat-fab mat-elevation-z24 [matMenuTriggerFor]=\"menu\" class=\"grid-fab\" tippy=\"Create a new controller\" tippyPlacement=\"left\">\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"createController(false)\">\r\n          <span>App</span>\r\n        </button>\r\n        <button mat-menu-item (click)=\"createController(true)\">\r\n          <span>Shared (global)</span>\r\n        </button>\r\n      </mat-menu>\r\n    </mat-dialog-actions>\r\n  </div>\r\n}\r\n<router-outlet></router-outlet>\r\n"],"names":["ActivatedRoute","Router","GoToDevRest","MatMenuModule","MatIconModule","MatRippleModule","i0","ɵɵelementStart","ɵɵlistener","WebApiActionsComponent_Conditional_1_Template_div_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openCode","ɵɵtext","ɵɵelementEnd","WebApiActionsComponent_ng_template_8_Template_button_click_0_listener","_r3","openRestApi","ɵɵelement","WebApiActionsComponent","constructor","router","route","agInit","params","enableCode","enableCodeGetter","refresh","api","data","onOpenCode","urlSegments","url","split","length","routeWebApi","push","encodeURIComponent","path","apiUrl","join","navigate","_","ɵɵdirectiveInject","i1","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","WebApiActionsComponent_Template","rf","ctx","ɵɵtemplate","WebApiActionsComponent_Conditional_1_Template","WebApiActionsComponent_Conditional_2_Template","WebApiActionsComponent_ng_template_8_Template","ɵɵadvance","ɵɵconditional","ɵɵproperty","menu_r4","i2","MatRipple","i3","MatIcon","i4","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","styles","ViewContainerRef","MatDialog","MatDialogActions","MatSnackBar","RouterOutlet","BehaviorSubject","combineLatest","map","SourceService","CreateFileDialogComponent","defaultGridOptions","DialogService","AppDialogConfigService","TrueFalseComponent","AsyncPipe","MatButtonModule","SxcGridModule","ColumnDefinitions","transient","WebApiComponent_Conditional_0_Template_button_click_8_listener","createController","WebApiComponent_Conditional_0_Template_button_click_11_listener","webApis","gridOptions","menu_r3","WebApiComponent","snackBar","dialog","viewContainerRef","dialogConfigSvc","dialogService","sourceService","webApis$","undefined","buildGridOptions","ngOnInit","fetchWebApis","viewModel$","pipe","getCurrent$","subscribe","settings","Context","Enable","CodeEditor","ngOnDestroy","complete","global","createFileDialogData","folder","purpose","createFileDialogRef","open","autoFocus","width","afterClosed","result","name","endsWith","fileName","substring","lastIndexOf","test","message","duration","create","templateKey","getWebApis","next","openCodeFile","isShared","columnDefs","headerName","field","flex","minWidth","cellClass","sortable","filter","TextWideMin100","sort","TextWide","Boolean2","cellRenderer","ActionsPinnedRight6","cellRendererParams","WebApiComponent_Template","WebApiComponent_Conditional_0_Template","tmp_0_0","ɵɵpipeBind1","AgGridAngular","i5","MatFabButton","i6","i7"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
{"version":3,"file":"default-projects_eav-ui_src_app_create-file-dialog_index_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/code-editor/services/source.service.ts","./projects/eav-ui/src/app/create-file-dialog/create-file-dialog.component.ts","./projects/eav-ui/src/app/create-file-dialog/create-file-dialog.component.html","./projects/eav-ui/src/app/create-file-dialog/create-file-dialog.models.ts","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.component.ts","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.component.html","./projects/eav-ui/src/app/create-file-dialog/file-location-dialog/file-location-dialog.models.ts","./projects/eav-ui/src/app/create-file-dialog/index.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.html","./projects/eav-ui/src/app/shared/directives/mat-input-autofocus.directive.ts","./node_modules/rxjs/dist/esm/internal/operators/throttle.js","./node_modules/rxjs/dist/esm/internal/operators/throttleTime.js"],"sourcesContent":["import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { WebApi, WebApiDetails } from '../../app-administration/models';\r\nimport { ViewOrFileIdentifier } from '../../shared/models/edit-form.model';\r\nimport { Context } from '../../shared/services/context';\r\nimport { FileAsset } from '../models/file-asset.model';\r\nimport { PredefinedTemplatesResponse } from '../models/predefined-template.model';\r\nimport { Preview } from '../models/preview.models';\r\nimport { SourceView } from '../models/source-view.model';\r\n\r\nconst appFilesAll = 'admin/AppFiles/AppFiles';\r\nconst appFilesAsset = 'admin/AppFiles/asset';\r\nconst appFilesCreate = 'admin/AppFiles/create';\r\nconst apiExplorerInspect = 'admin/ApiExplorer/inspect';\r\nconst apiExplorerAppApiFiles = 'admin/ApiExplorer/AppApiFiles';\r\nconst appFilesPredefinedTemplates = 'admin/AppFiles/GetTemplates';\r\nconst appFilesPreview = 'admin/AppFiles/preview';\r\n\r\n@Injectable()\r\nexport class SourceService {\r\n\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  /** ViewKey is templateId or path */\r\n  get(viewKey: string, global: boolean, urlItems: ViewOrFileIdentifier[]): Observable<SourceView> {\r\n    return this.http.get<SourceView>(this.dnnContext.$2sxc.http.apiUrl(appFilesAsset), {\r\n      params: {\r\n        appId: this.context.appId,\r\n        global,\r\n        ...this.templateIdOrPath(viewKey, global, urlItems),\r\n      },\r\n    }).pipe(\r\n      map(view => {\r\n        if (view.Type.toLocaleLowerCase() === 'auto') {\r\n          switch (view.Extension.toLocaleLowerCase()) {\r\n            case '.cs':\r\n            case '.cshtml':\r\n              view.Type = 'Razor';\r\n              break;\r\n            case '.html':\r\n            case '.css':\r\n            case '.js':\r\n              view.Type = 'Token';\r\n              break;\r\n          }\r\n        }\r\n        return view;\r\n      })\r\n    );\r\n  }\r\n\r\n  /** ViewKey is templateId or path */\r\n  save(viewKey: string, global: boolean, view: SourceView, urlItems: ViewOrFileIdentifier[]): Observable<boolean> {\r\n    return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(appFilesAsset), view, {\r\n      params: {\r\n        appId: this.context.appId,\r\n        global,\r\n        ...this.templateIdOrPath(viewKey, global, urlItems),\r\n      },\r\n    });\r\n  }\r\n\r\n  getAll(mask?: string): Observable<FileAsset[]> {\r\n    return this.http.get<{ Files: FileAsset[] }>(this.dnnContext.$2sxc.http.apiUrl(appFilesAll), {\r\n      params: {\r\n        appId: this.context.appId,\r\n        ...(mask && { mask }),\r\n      },\r\n    }).pipe(\r\n      map(({ Files }) => {\r\n        Files.forEach(file => {\r\n          file.Shared ??= false;\r\n        });\r\n        return Files;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getWebApis(): Observable<WebApi[]> {\r\n    return this.http.get<{ files: WebApi[] }>(this.dnnContext.$2sxc.http.apiUrl(apiExplorerAppApiFiles), {\r\n      params: {\r\n        appId: this.context.appId,\r\n      },\r\n    }).pipe(\r\n      map(({ files }) => {\r\n        files.forEach(file => {\r\n          file.isShared ??= false;\r\n          file.isCompiled ??= false;\r\n        });\r\n        return files;\r\n      }),\r\n    ).pipe(\r\n      map(files => {\r\n        const webApis: WebApi[] = files.map(file => {\r\n          const splitIndex = file.path.lastIndexOf('/');\r\n          const fileExtIndex = file.path.lastIndexOf('.');\r\n          const folder = file.path.substring(0, splitIndex);\r\n          const name = file.path.substring(splitIndex + 1, fileExtIndex);\r\n          const webApi: WebApi = { path: file.path, folder, name, isShared: file.isShared, endpointPath: file.endpointPath, isCompiled: file.isCompiled, edition: file.edition };\r\n          return webApi;\r\n        });\r\n        return webApis;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getWebApiDetails(apiPath: string): Observable<WebApiDetails> {\r\n    return this.http.get<WebApiDetails>(this.dnnContext.$2sxc.http.apiUrl(apiExplorerInspect), {\r\n      params: { appId: this.context.appId, zoneId: this.context.zoneId, path: apiPath },\r\n    });\r\n  }\r\n\r\n  getPredefinedTemplates(purpose?: 'Template' | 'Search' | 'Api', type?: 'Token' | 'Razor'): Observable<PredefinedTemplatesResponse> {\r\n    return this.http.get<PredefinedTemplatesResponse>(this.dnnContext.$2sxc.http.apiUrl(appFilesPredefinedTemplates), {\r\n      params: {\r\n        ...(purpose && { purpose }),\r\n        ...(type && { type }),\r\n      },\r\n    });\r\n  }\r\n\r\n  getPreview(path: string, global: boolean, templateKey: string): Observable<Preview> {\r\n    return this.http.get<Preview>(this.dnnContext.$2sxc.http.apiUrl(appFilesPreview), {\r\n      params: {\r\n        appId: this.context.appId,\r\n        path,\r\n        templateKey,\r\n        global,\r\n      },\r\n    });\r\n  }\r\n\r\n  create(path: string, global: boolean, templateKey: string): Observable<boolean> {\r\n    return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(appFilesCreate), {}, {\r\n      params: {\r\n        appId: this.context.appId,\r\n        global,\r\n        purpose: 'auto',\r\n        path,\r\n        templateKey,\r\n      },\r\n    });\r\n  }\r\n\r\n  private templateIdOrPath(viewKey: string, global: boolean, urlItems: ViewOrFileIdentifier[]) {\r\n    if (/^[0-9]*$/g.test(viewKey)) {\r\n      const path = urlItems.find(i => i.EntityId?.toString() === viewKey && i.IsShared === global)?.Path;\r\n      return {\r\n        templateId: viewKey,\r\n        ...(path != null && { path }),\r\n      };\r\n    } else {\r\n      return { path: viewKey };\r\n    }\r\n  }\r\n}\r\n","import { Component, HostBinding, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n// tslint:disable-next-line:max-line-length\r\nimport { asyncScheduler, BehaviorSubject, combineLatest, distinctUntilChanged, forkJoin, map, Observable, of, startWith, Subscription, switchMap, tap, throttleTime, timer } from 'rxjs';\r\nimport { CreateFileDialogData, CreateFileDialogResult, CreateFileFormControls, CreateFileFormValues, CreateFileViewModel } from '.';\r\nimport { PredefinedTemplate } from '../code-editor/models/predefined-template.model';\r\nimport { Preview } from '../code-editor/models/preview.models';\r\nimport { SourceService } from '../code-editor/services/source.service';\r\nimport { SanitizeHelper } from '../edit/shared/helpers';\r\nimport { BaseComponent } from '../shared/components/base.component';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { FieldHintComponent } from '../shared/components/field-hint/field-hint.component';\r\nimport { MatInputAutofocusDirective } from '../shared/directives/mat-input-autofocus.directive';\r\n\r\n@Component({\r\n  selector: 'app-create-file-dialog',\r\n  templateUrl: './create-file-dialog.component.html',\r\n  styleUrls: ['./create-file-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatOptionModule,\r\n    MatInputModule,\r\n    MatProgressSpinnerModule,\r\n    MatButtonModule,\r\n    NgClass,\r\n    AsyncPipe,\r\n    FieldHintComponent,\r\n    MatInputAutofocusDirective,\r\n  ],\r\n  providers: [\r\n    SourceService\r\n  ],\r\n})\r\nexport class CreateFileDialogComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  form: UntypedFormGroup;\r\n  controls: CreateFileFormControls;\r\n  viewModel$: Observable<CreateFileViewModel>;\r\n\r\n  private all = 'All' as const;\r\n  private templates$: BehaviorSubject<PredefinedTemplate[]>;\r\n  private loadingPreview$: BehaviorSubject<boolean>;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) private dialogData: CreateFileDialogData,\r\n    private dialogRef: MatDialogRef<CreateFileDialogComponent>,\r\n    private sourceService: SourceService,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.templates$ = new BehaviorSubject<PredefinedTemplate[]>([]);\r\n    this.loadingPreview$ = new BehaviorSubject(false);\r\n\r\n    this.buildForm();\r\n    this.fetchTemplates();\r\n    this.buildViewModel();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.templates$.complete();\r\n    this.loadingPreview$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  closeDialog(result?: CreateFileDialogResult): void {\r\n    this.dialogRef.close(result);\r\n  }\r\n\r\n  confirm(): void {\r\n    const formValues: CreateFileFormValues = this.form.getRawValue();\r\n\r\n    const result: CreateFileDialogResult = {\r\n      name: formValues.finalName,\r\n      templateKey: formValues.templateKey,\r\n    };\r\n    this.closeDialog(result);\r\n  }\r\n\r\n  private fetchTemplates(): void {\r\n    this.sourceService.getPredefinedTemplates(this.dialogData.purpose, this.dialogData.type).subscribe(response => {\r\n      if (this.controls.templateKey.value !== response.Default) {\r\n        this.controls.templateKey.patchValue(response.Default);\r\n      }\r\n      this.templates$.next(response.Templates);\r\n    });\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.form = new UntypedFormGroup({\r\n      platform: new UntypedFormControl(this.all),\r\n      purpose: new UntypedFormControl({ value: this.dialogData.purpose ?? this.all, disabled: this.dialogData.purpose != null }),\r\n      templateKey: new UntypedFormControl(null, Validators.required),\r\n      name: new UntypedFormControl(this.dialogData.name ?? null, Validators.required),\r\n      finalName: new UntypedFormControl({ value: null, disabled: true }),\r\n      folder: new UntypedFormControl({ value: this.dialogData.folder ?? '', disabled: true }),\r\n    });\r\n\r\n    this.controls = this.form.controls as any;\r\n\r\n    this.subscriptions.add(\r\n      combineLatest([\r\n        this.templates$,\r\n        this.controls.templateKey.valueChanges.pipe(\r\n          startWith<string>(this.controls.templateKey.value),\r\n          distinctUntilChanged(),\r\n        ),\r\n      ]).subscribe(([templates, templateKey]) => {\r\n        const template = templates.find(t => t.Key === templateKey);\r\n        const suggestedName = this.dialogData.name\r\n          ? this.controls.name.value || this.dialogData.name\r\n          : template?.SuggestedFileName ?? null;\r\n\r\n        if (this.controls.name.value !== suggestedName) {\r\n          this.controls.name.patchValue(suggestedName);\r\n        }\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      combineLatest([\r\n        this.templates$,\r\n        this.controls.templateKey.valueChanges.pipe(\r\n          startWith<string>(this.controls.templateKey.value),\r\n          distinctUntilChanged(),\r\n        ),\r\n        this.controls.name.valueChanges.pipe(\r\n          startWith<string>(this.controls.name.value),\r\n          distinctUntilChanged(),\r\n        ),\r\n        this.controls.folder.valueChanges.pipe(\r\n          startWith<string>(this.controls.folder.value),\r\n          distinctUntilChanged(),\r\n        ),\r\n      ]).subscribe(([templates, templateKey, name, folder]) => {\r\n        const template = templates.find(t => t.Key === templateKey);\r\n\r\n        let finalName: string = null;\r\n        if (name) {\r\n          folder = folder.trim();\r\n          name = SanitizeHelper.sanitizePath(name.trim());\r\n          name = `${template?.Prefix ?? ''}${name}${template?.Suffix ?? ''}${template?.Extension ?? ''}`;\r\n          finalName = `${folder ? `${folder}/` : ''}${name}`.replace(/\\/{2,}/g, '/');\r\n        }\r\n\r\n        if (this.controls.finalName.value !== finalName) {\r\n          this.controls.finalName.patchValue(finalName);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private buildViewModel(): void {\r\n    const platforms$ = this.templates$.pipe(\r\n      map(templates => {\r\n        const platformsMap: Record<string, string> = {\r\n          [this.all]: this.all,\r\n        };\r\n        templates.forEach(template => {\r\n          template.Platforms?.forEach(platform => {\r\n            platformsMap[platform] = platform;\r\n          });\r\n        });\r\n        return Object.keys(platformsMap);\r\n      }),\r\n    );\r\n    const purposes$ = this.templates$.pipe(\r\n      map(templates => {\r\n        const purposesMap: Record<string, string> = {\r\n          [this.all]: this.all,\r\n        };\r\n        templates.forEach(template => {\r\n          purposesMap[template.Purpose] = template.Purpose;\r\n        });\r\n        return Object.keys(purposesMap);\r\n      }),\r\n    );\r\n    const templates$ = combineLatest([\r\n      this.templates$,\r\n      this.controls.platform.valueChanges.pipe(\r\n        startWith<string>(this.controls.platform.value),\r\n        distinctUntilChanged(),\r\n      ),\r\n      this.controls.purpose.valueChanges.pipe(\r\n        startWith<string>(this.controls.purpose.value),\r\n        distinctUntilChanged(),\r\n      ),\r\n    ]).pipe(\r\n      map(([templates, platform, purpose]) => {\r\n        const filtered = templates.filter(template => {\r\n          const platformMatch = platform === this.all || (template.Platforms?.includes(platform) ?? false);\r\n          const purposeMatch = purpose === this.all || template.Purpose === purpose;\r\n          return platformMatch && purposeMatch;\r\n        });\r\n        return filtered;\r\n      }),\r\n      tap(templates => {\r\n        if (!templates.some(t => t.Key === this.controls.templateKey.value)) {\r\n          const newTemplateKey = templates[0]?.Key ?? null;\r\n          if (this.controls.templateKey.value !== newTemplateKey) {\r\n            this.controls.templateKey.patchValue(newTemplateKey);\r\n          }\r\n        }\r\n      }),\r\n    );\r\n    const preview$ = combineLatest([\r\n      this.controls.finalName.valueChanges.pipe(\r\n        startWith<string>(this.controls.finalName.value),\r\n        distinctUntilChanged(),\r\n      ),\r\n      this.controls.templateKey.valueChanges.pipe(\r\n        startWith<string>(this.controls.templateKey.value),\r\n        distinctUntilChanged(),\r\n      ),\r\n    ]).pipe(\r\n      throttleTime(100, asyncScheduler, { leading: true, trailing: true }),\r\n      tap(() => {\r\n        this.loadingPreview$.next(true);\r\n      }),\r\n      switchMap(([finalName, templateKey]) => {\r\n        return !finalName || !templateKey\r\n          ? of<Preview | undefined>(undefined)\r\n          : forkJoin([\r\n            this.sourceService.getPreview(finalName, this.dialogData.global, templateKey),\r\n            timer(500),\r\n          ]).pipe(map(([preview]) => preview));\r\n      }),\r\n      tap(() => {\r\n        this.loadingPreview$.next(false);\r\n      }),\r\n    );\r\n    this.viewModel$ = combineLatest([platforms$, purposes$, templates$, preview$, this.loadingPreview$]).pipe(\r\n      map(([platforms, purposes, templates, preview, loadingPreview]) => {\r\n        const viewModel: CreateFileViewModel = {\r\n          platforms,\r\n          purposes,\r\n          templates,\r\n          loadingPreview,\r\n          preview: preview?.Preview,\r\n          previewValid: preview?.IsValid ?? false,\r\n          previewError: preview?.Error,\r\n        };\r\n        return viewModel;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n<div class=\"eav-dialog eav-no-scrollbar\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title eav-dialog-title-box\">\r\n      <span>Create</span>\r\n      <span class=\"eav-file-name\">{{\r\n        controls.finalName.value\r\n        || (controls.folder.value ? controls.folder.value.trim() + '/' : '')\r\n        }}</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"eav-dialog-content\">\r\n    <form [formGroup]=\"form\" class=\"dialog-form\">\r\n      <div class=\"dialog-form-content\">\r\n        <div class=\"eav-field-container eav-multiple\">\r\n          <!-- Platform -->\r\n          <div class=\"eav-multiple-field\">\r\n            <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n              <mat-label>Platform</mat-label>\r\n              <mat-select formControlName=\"platform\">\r\n                @for (platform of vm.platforms; track platform) {\r\n                <mat-option [value]=\"platform\">\r\n                  {{ platform }}\r\n                </mat-option>\r\n                }\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n          <!-- Purpose -->\r\n          <div class=\"eav-multiple-field\">\r\n            <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n              <mat-label>Purpose</mat-label>\r\n              <mat-select formControlName=\"purpose\">\r\n                @for (purpose of vm.purposes; track purpose) {\r\n                <mat-option [value]=\"purpose\">\r\n                  {{ purpose }}\r\n                </mat-option>\r\n                }\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n        <!-- Template -->\r\n        <div class=\"eav-field-container\">\r\n          <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n            <mat-label>Template</mat-label>\r\n            <mat-select formControlName=\"templateKey\">\r\n              @for (template of vm.templates; track template) {\r\n              <mat-option [value]=\"template.Key\">\r\n                {{ template.Name }}\r\n              </mat-option>\r\n              }\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n        <!-- Name -->\r\n        <div class=\"eav-field-container\">\r\n          <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n            <mat-label>Name</mat-label>\r\n            <input matInput type=\"text\" formControlName=\"name\" required appMatInputAutofocus\r\n              autofocusSelectValue=\"true\">\r\n          </mat-form-field>\r\n          @if (controls.name.touched && controls.name.errors?.required) {\r\n          <app-field-hint [isError]=\"true\">\r\n            This field is required\r\n          </app-field-hint>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div class=\"dialog-form-actions\">\r\n        @if (vm.loadingPreview) {\r\n        <mat-spinner mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n        <div class=\"spacer\"></div>\r\n        }\r\n        <button mat-raised-button type=\"button\" (click)=\"closeDialog()\">Cancel</button>\r\n        <button mat-raised-button type=\"button\" color=\"accent\"\r\n          [disabled]=\"!form.valid || vm.loadingPreview || !vm.previewValid\" (click)=\"confirm()\">\r\n          Create\r\n        </button>\r\n      </div>\r\n      @if (vm.preview) {\r\n      <div class=\"eav-preview-label-box\">\r\n        <label class=\"eav-preview-label\" [ngClass]=\"{ 'disabled': vm.loadingPreview }\">Preview</label>\r\n      </div>\r\n      <pre class=\"fancy-scrollbar-light\" [ngClass]=\"{ 'disabled': vm.loadingPreview }\">{{ vm.preview }}</pre>\r\n      }\r\n      @if (!vm.loadingPreview && vm.previewError) {\r\n      <div class=\"eav-preview-error\">\r\n        {{ vm.previewError }}\r\n      </div>\r\n      }\r\n    </form>\r\n  </div>\r\n</div>\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\nimport { PredefinedTemplate } from '../code-editor/models/predefined-template.model';\r\n\r\nexport interface CreateFileDialogData {\r\n  folder?: string;\r\n  global: boolean;\r\n  purpose?: 'Template' | 'Search' | 'Api';\r\n  type?: 'Token' | 'Razor';\r\n  name?: string;\r\n}\r\n\r\nexport interface CreateFileViewModel {\r\n  templates: PredefinedTemplate[];\r\n  platforms: string[];\r\n  purposes: string[];\r\n  loadingPreview: boolean;\r\n  preview: string;\r\n  previewValid: boolean;\r\n  previewError: string;\r\n}\r\n\r\nexport interface CreateFileFormControls {\r\n  platform: AbstractControl;\r\n  purpose: AbstractControl;\r\n  templateKey: AbstractControl;\r\n  name: AbstractControl;\r\n  finalName: AbstractControl;\r\n  folder: AbstractControl;\r\n}\r\n\r\nexport interface CreateFileFormValues {\r\n  platform: string;\r\n  purpose: string;\r\n  templateKey: string;\r\n  name: string;\r\n  finalName: string;\r\n  folder: string;\r\n}\r\n\r\nexport interface CreateFileDialogResult {\r\n  name: string;\r\n  templateKey: string;\r\n}\r\n","import { Component, HostBinding, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { FileLocationFormValues } from '..';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { FieldHintComponent } from '../../shared/components/field-hint/field-hint.component';\r\n\r\n@Component({\r\n  selector: 'app-file-location-dialog',\r\n  templateUrl: './file-location-dialog.component.html',\r\n  styleUrls: ['./file-location-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatCardModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatOptionModule,\r\n    MatButtonModule,\r\n    FieldHintComponent,\r\n  ]\r\n})\r\nexport class FileLocationDialogComponent implements OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  form: UntypedFormGroup;\r\n\r\n  constructor(private dialogRef: MatDialogRef<FileLocationDialogComponent>) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = new UntypedFormGroup({\r\n      isShared: new UntypedFormControl(null, Validators.required),\r\n    });\r\n  }\r\n\r\n  closeDialog(isShared?: boolean): void {\r\n    this.dialogRef.close(isShared);\r\n  }\r\n\r\n  confirm(): void {\r\n    const formValues: FileLocationFormValues = this.form.getRawValue();\r\n    this.closeDialog(formValues.isShared);\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>New file location</mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"form\">\r\n      <!-- Shared -->\r\n      <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n        <mat-label>Location</mat-label>\r\n        <mat-select formControlName=\"isShared\">\r\n          <mat-option [value]=\"false\">App</mat-option>\r\n          <mat-option [value]=\"true\">Shared (global)</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      @if (form.controls.isShared.touched && form.controls.isShared.errors?.required) {\r\n        <app-field-hint [isError]=\"true\">\r\n          This field is required\r\n        </app-field-hint>\r\n      }\r\n    </form>\r\n  </mat-card-content>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button mat-raised-button color=\"accent\" class=\"eav-card-action-button\" [disabled]=\"!form.valid\" (click)=\"confirm()\">\r\n      Confirm\r\n    </button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","export interface FileLocationFormValues {\r\n  isShared: boolean;\r\n}\r\n","export * from './file-location-dialog/file-location-dialog.component';\r\nexport * from './file-location-dialog/file-location-dialog.models';\r\nexport * from './create-file-dialog.component';\r\nexport * from './create-file-dialog.models';\r\n// export * from './create-file-dialog.module';\r\n","import { NgClass, NgTemplateOutlet } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@Component({\r\n  selector: 'app-field-hint',\r\n  templateUrl: './field-hint.component.html',\r\n  styleUrls: ['./field-hint.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatFormFieldModule, NgClass, NgTemplateOutlet\r\n  ]\r\n})\r\nexport class FieldHintComponent {\r\n  @Input() isError = false;\r\n  isShort = true;\r\n\r\n  constructor() { }\r\n\r\n  toggleIsShort() {\r\n    this.isShort = !this.isShort;\r\n  }\r\n}\r\n","<div class=\"hint-box\" (click)=\"toggleIsShort()\" [ngClass]=\"{ 'hint-box__short': isShort }\">\r\n  @switch (isError) {\r\n    @case (false) {\r\n      <mat-hint>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-hint>\r\n    }\r\n    @case (true) {\r\n      <mat-error>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-error>\r\n    }\r\n  }\r\n</div>\r\n\r\n<ng-template #content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n","import { Directive, ElementRef, Input, OnInit } from '@angular/core';\r\nimport { MatInput } from '@angular/material/input';\r\n\r\n@Directive({ selector: '[appMatInputAutofocus]', standalone: true })\r\nexport class MatInputAutofocusDirective implements OnInit {\r\n  @Input() autofocusSelectValue: string | boolean | null | undefined = false;\r\n\r\n  constructor(private matInput: MatInput, private elementRef: ElementRef<HTMLInputElement>) { }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => {\r\n      this.matInput.focus();\r\n\r\n      if (this.toBoolean(this.autofocusSelectValue)) {\r\n        this.elementRef.nativeElement.setSelectionRange(0, this.matInput.value.length);\r\n      }\r\n    });\r\n  }\r\n\r\n  private toBoolean(value: any): boolean | null | undefined {\r\n    if (typeof value === 'boolean') { return value; }\r\n    if (typeof value === 'string') {\r\n      const valueLowerCase = value.toLocaleLowerCase();\r\n      if (valueLowerCase === 'true') { return true; }\r\n      if (valueLowerCase === 'false') { return false; }\r\n      return;\r\n    }\r\n    if (value == null) { return value; }\r\n  }\r\n}\r\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nexport function throttle(durationSelector, config) {\n    return operate((source, subscriber) => {\n        const { leading = true, trailing = false } = config !== null && config !== void 0 ? config : {};\n        let hasValue = false;\n        let sendValue = null;\n        let throttled = null;\n        let isComplete = false;\n        const endThrottling = () => {\n            throttled === null || throttled === void 0 ? void 0 : throttled.unsubscribe();\n            throttled = null;\n            if (trailing) {\n                send();\n                isComplete && subscriber.complete();\n            }\n        };\n        const cleanupThrottling = () => {\n            throttled = null;\n            isComplete && subscriber.complete();\n        };\n        const startThrottle = (value) => (throttled = innerFrom(durationSelector(value)).subscribe(createOperatorSubscriber(subscriber, endThrottling, cleanupThrottling)));\n        const send = () => {\n            if (hasValue) {\n                hasValue = false;\n                const value = sendValue;\n                sendValue = null;\n                subscriber.next(value);\n                !isComplete && startThrottle(value);\n            }\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            sendValue = value;\n            !(throttled && !throttled.closed) && (leading ? send() : startThrottle(value));\n        }, () => {\n            isComplete = true;\n            !(trailing && hasValue && throttled && !throttled.closed) && subscriber.complete();\n        }));\n    });\n}\n","import { asyncScheduler } from '../scheduler/async';\nimport { throttle } from './throttle';\nimport { timer } from '../observable/timer';\nexport function throttleTime(duration, scheduler = asyncScheduler, config) {\n    const duration$ = timer(duration, scheduler);\n    return throttle(() => duration$, config);\n}\n"],"names":["Context","DnnContext","HttpClient","map","appFilesAll","appFilesAsset","appFilesCreate","apiExplorerInspect","apiExplorerAppApiFiles","appFilesPredefinedTemplates","appFilesPreview","SourceService","constructor","http","context","dnnContext","get","viewKey","global","urlItems","$2sxc","apiUrl","params","appId","templateIdOrPath","pipe","view","Type","toLocaleLowerCase","Extension","save","post","getAll","mask","Files","forEach","file","Shared","getWebApis","files","isShared","isCompiled","webApis","splitIndex","path","lastIndexOf","fileExtIndex","folder","substring","name","webApi","endpointPath","edition","getWebApiDetails","apiPath","zoneId","getPredefinedTemplates","purpose","type","getPreview","templateKey","create","test","find","i","EntityId","toString","IsShared","Path","templateId","_","i0","ɵɵinject","i1","i2","i3","_2","factory","ɵfac","UntypedFormControl","UntypedFormGroup","Validators","FormsModule","ReactiveFormsModule","MatDialogRef","MAT_DIALOG_DATA","asyncScheduler","BehaviorSubject","combineLatest","distinctUntilChanged","forkJoin","Observable","of","startWith","switchMap","tap","throttleTime","timer","SanitizeHelper","BaseComponent","NgClass","AsyncPipe","MatButtonModule","MatProgressSpinnerModule","MatInputModule","MatOptionModule","MatSelectModule","MatFormFieldModule","FieldHintComponent","MatInputAutofocusDirective","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","platform_r2","ɵɵadvance","ɵɵtextInterpolate1","purpose_r3","template_r4","Key","Name","ɵɵelement","ɵɵpureFunction1","_c0","vm_r6","loadingPreview","ɵɵtextInterpolate","preview","previewError","ɵɵrepeaterCreate","CreateFileDialogComponent_Conditional_0_For_17_Template","ɵɵrepeaterTrackByIdentity","CreateFileDialogComponent_Conditional_0_For_24_Template","CreateFileDialogComponent_Conditional_0_For_31_Template","ɵɵtemplate","CreateFileDialogComponent_Conditional_0_Conditional_37_Template","CreateFileDialogComponent_Conditional_0_Conditional_39_Template","ɵɵlistener","CreateFileDialogComponent_Conditional_0_Template_button_click_40_listener","ɵɵrestoreView","_r1","ctx_r4","ɵɵnextContext","ɵɵresetView","closeDialog","CreateFileDialogComponent_Conditional_0_Template_button_click_42_listener","confirm","CreateFileDialogComponent_Conditional_0_Conditional_44_Template","CreateFileDialogComponent_Conditional_0_Conditional_45_Template","controls","finalName","value","trim","form","ɵɵrepeater","platforms","purposes","templates","ɵɵconditional","touched","errors","required","valid","previewValid","CreateFileDialogComponent","dialogData","dialogRef","sourceService","hostClass","all","ngOnInit","templates$","loadingPreview$","buildForm","fetchTemplates","buildViewModel","ngOnDestroy","complete","result","close","formValues","getRawValue","subscribe","response","Default","patchValue","next","Templates","platform","disabled","subscriptions","add","valueChanges","template","t","suggestedName","SuggestedFileName","sanitizePath","Prefix","Suffix","replace","platforms$","platformsMap","Platforms","Object","keys","purposes$","purposesMap","Purpose","filtered","filter","platformMatch","includes","purposeMatch","some","newTemplateKey","preview$","leading","trailing","undefined","viewModel$","viewModel","Preview","IsValid","Error","ɵɵdirectiveInject","selectors","hostVars","hostBindings","CreateFileDialogComponent_HostBindings","rf","ctx","ɵɵhostProperty","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","decls","vars","consts","CreateFileDialogComponent_Template","CreateFileDialogComponent_Conditional_0_Template","tmp_0_0","ɵɵpipeBind1","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","FormGroupDirective","FormControlName","i4","MatFormField","MatLabel","i5","MatSelect","i6","MatOption","i7","MatInput","i8","MatProgressSpinner","i9","MatButton","styles","MatCardModule","FileLocationDialogComponent","FileLocationDialogComponent_HostBindings","FileLocationDialogComponent_Conditional_14_Template","FileLocationDialogComponent_Template_button_click_16_listener","FileLocationDialogComponent_Template_button_click_18_listener","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardTitle","NgTemplateOutlet","ɵɵelementContainer","FieldHintComponent_Case_1_ng_container_1_Template","content_r2","FieldHintComponent_Case_2_ng_container_1_Template","ɵɵprojection","isError","isShort","toggleIsShort","inputs","standalone","features","ngContentSelectors","FieldHintComponent_Template","FieldHintComponent_Template_div_click_0_listener","FieldHintComponent_Case_1_Template","FieldHintComponent_Case_2_Template","FieldHintComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","_c1","tmp_2_0","MatHint","MatError","ElementRef","matInput","elementRef","autofocusSelectValue","setTimeout","focus","toBoolean","nativeElement","setSelectionRange","length","valueLowerCase","operate","createOperatorSubscriber","innerFrom","throttle","durationSelector","config","source","subscriber","hasValue","sendValue","throttled","isComplete","endThrottling","unsubscribe","send","cleanupThrottling","startThrottle","closed","duration","scheduler","duration$"],"sourceRoot":"webpack:///","x_google_ignoreList":[11,12]}
{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a.355acaa4d3b1cf8a.js","mappings":"8bAMQA,MAHN,UAGMA,CAH6B,UAG7BA,CAFsB,UAEtBA,CAD4B,SACvBA,MAAA,GAAqBA,QAC1BA,MAAA,cAA6CA,MAAA,mBAAAA,MAAAC,GAAA,MAAAC,EAAAF,QAAA,OAAAA,MAASE,EAAAC,cAAa,GACjEH,MAAA,cAAUA,MAAA,WAGhBA,cACAA,MAAA,SACEA,MAAA,8BAAuBA,MAAA,WAAMA,MAAA,IAAqBA,QAAQA,MAAA,uBAC5DA,QACAA,MAAA,YAGEA,MAFA,uBAEAA,CADkB,YAGtBA,kCAdWA,MAAA,GAAAA,MAAAE,EAAAE,iBAOsBJ,MAAA,GAAAA,MAAAE,EAAAE,iBAGcJ,MAAA,GAAqBA,MAArB,UAAAK,EAAAC,MAAqBN,CAAD,cAAAE,EAAAK,cCY9D,IAAMC,EAA4B,MAAnC,MAAOA,EAWXC,YACUC,EACAC,GADAC,KAAAF,YACAE,KAAAD,QARVC,KAAAL,YAAcK,KAAKC,mBAIXD,KAAAE,0BAAyBC,KAAUC,KAMzCJ,KAAKK,KAAOL,KAAKD,MAAMO,SAASC,OAAOC,SAASC,IAAI,QACpD,MAAMC,EAAgBV,KAAKD,MAAMO,SAASE,SAASC,IAAI,QACvDT,KAAKW,aAAe,CAAC,YAAa,QAAQC,SAASF,QAAiBG,EAAYH,EAChFV,KAAKR,gBAAkBQ,KAAKD,MAAMO,SAASE,SAASC,IAAI,kBAC1D,CAEAK,WACEd,KAAKe,OAAS,IAAIC,SAAqCH,GACvDb,KAAKE,uBAAuBe,SAASjB,KAAKK,KAAML,KAAKR,gBAAiBQ,KAAKW,cAAc,GAAMO,UAAUxB,IACvGM,KAAKe,OAAOI,KAAKzB,EAAK,GAExBM,KAAKoB,cAAaC,KAAc,CAACrB,KAAKe,SAASO,QAC7CC,KAAI,EAAE7B,MAAK,CAASA,WAExB,CAEA8B,cACExB,KAAKe,OAAOU,UACd,CAEAlC,cACES,KAAKF,UAAU4B,OACjB,CAEQzB,mBAgBN,MAfiC,IAC5B0B,IACHC,WAAY,CACV,IACKC,IAAkBC,oBACrBC,WAAY,QACZC,MAAO,SACPC,aAAcC,KAEhB,IACKL,IAAkBM,WACrBH,MAAO,WAKf,CAACI,SAAApC,KAAA,mBAAAqC,iBAxDUzC,GAA4BR,MAAAkD,MAAAlD,MAAAmD,MAAA,EAAAH,SAAApC,KAAA,UAAAwC,EAAAC,IAAA,MAA5B7C,EAA4B8C,UAAA,gCAAAC,YAAA,EAAAC,SAAA,CAAAxD,OAAAyD,MAAA,EAAAC,KAAA,EAAAC,OAAA,mQAAAC,SAAA,SAAAC,EAAAxD,MAAA,EAAAwD,ID5BzC7D,MAAA,QAAIA,MAAA,UAAIA,QAERA,MAAA,EAAA8D,EAAA,2CAAA9D,MAAA,GAAAA,MAAA,GAAA+D,EAAA/D,MAAA,IAAAK,EAAA2B,aAAA,KAAA+B,mBCoBIC,KAAeC,KACfC,KAAaC,KACbC,KACAC,IAAaC,MAAAC,OAAA,+FAGJ/D,CAA4B","names":["i0","_r1","ctx_r1","closeDialog","settingsItemKey","ctx","stack","gridOptions","SettingsItemDetailsComponent","constructor","dialogRef","route","this","buildGridOptions","analyzeSettingsService","transient","AnalyzeSettingsService","part","snapshot","parent","paramMap","get","routeViewGuid","selectedView","includes","undefined","ngOnInit","stack$","BehaviorSubject","getStack","subscribe","next","viewModel$","combineLatest","pipe","map","ngOnDestroy","complete","close","defaultGridOptions","columnDefs","ColumnDefinitions","TextWideActionClass","headerName","field","cellRenderer","AnalyzeSettingsValueComponent","TextNarrow","static","t","i1","i2","_angular_core__WEBPACK_IMPORTED_MODULE_4__","VBU","selectors","standalone","features","decls","vars","consts","template","rf","SettingsItemDetailsComponent_Conditional_2_Template","tmp_0_0","MatButtonModule","i3","MatIconModule","i4","AsyncPipe","SxcGridModule","i5","styles"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.ts"],"sourcesContent":["<h1>Test</h1>\r\n\r\n@if (viewModel$ | async; as vm) {\r\n  <div class=\"nav-component-wrapper\">\r\n    <div mat-mdc-dialog-title>\r\n      <div class=\"dialog-title-box\">\r\n        <div>{{ settingsItemKey }}</div>\r\n        <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <p class=\"dialog-description\">\r\n      Here you can see where <code>{{ settingsItemKey }}</code> is configured.\r\n    </p>\r\n    <div class=\"grid-wrapper\">\r\n      <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.stack\" [gridOptions]=\"gridOptions\">\r\n      </ag-grid-angular>\r\n      <div class=\"grid-more-actions-box\"></div>\r\n    </div>\r\n  </div>\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { defaultGridOptions } from '../../../../shared/constants/default-grid-options.constants';\r\nimport { AnalyzeSettingsService } from '../../../services/analyze-settings.service';\r\nimport { AnalyzeSettingsValueComponent } from '../analyze-settings-value/analyze-settings-value.component';\r\nimport { AnalyzePart, SettingsStackItem } from '../analyze-settings.models';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { transient } from 'projects/eav-ui/src/app/core';\r\n\r\n@Component({\r\n  selector: 'app-settings-item-details',\r\n  templateUrl: './settings-item-details.component.html',\r\n  styleUrls: ['./settings-item-details.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    AsyncPipe,\r\n    SxcGridModule,\r\n  ],\r\n})\r\nexport class SettingsItemDetailsComponent implements OnInit, OnDestroy {\r\n  part: AnalyzePart;\r\n  selectedView: string;\r\n  settingsItemKey: string;\r\n  stack$: BehaviorSubject<SettingsStackItem[]>;\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<SettingsItemDetailsViewModel>;\r\n\r\n  private analyzeSettingsService = transient(AnalyzeSettingsService);\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<SettingsItemDetailsComponent>,\r\n    private route: ActivatedRoute,\r\n  ) {\r\n    this.part = this.route.snapshot.parent.paramMap.get('part') as AnalyzePart;\r\n    const routeViewGuid = this.route.snapshot.paramMap.get('view');\r\n    this.selectedView = ['undefined', 'null'].includes(routeViewGuid) ? undefined : routeViewGuid;\r\n    this.settingsItemKey = this.route.snapshot.paramMap.get('settingsItemKey');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stack$ = new BehaviorSubject<SettingsStackItem[]>(undefined);\r\n    this.analyzeSettingsService.getStack(this.part, this.settingsItemKey, this.selectedView, true).subscribe(stack => {\r\n      this.stack$.next(stack);\r\n    });\r\n    this.viewModel$ = combineLatest([this.stack$]).pipe(\r\n      map(([stack]) => ({ stack }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stack$.complete();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideActionClass,\r\n          headerName: 'Value',\r\n          field: '_value',\r\n          cellRenderer: AnalyzeSettingsValueComponent,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextNarrow,\r\n          field: 'Source',\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface SettingsItemDetailsViewModel {\r\n  stack: SettingsStackItem[];\r\n}\r\n"],"x_google_ignoreList":[]}
{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_export-app_export-app_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.html"],"sourcesContent":["import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MatDialogActions } from '@angular/material/dialog';\r\nimport { BehaviorSubject, combineLatest, map } from 'rxjs';\r\nimport { AppInfo } from '../../models/app-info.model';\r\nimport { ExportAppService } from '../../services/export-app.service';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { transient } from '../../../core';\r\n\r\n@Component({\r\n  selector: 'app-export-app',\r\n  templateUrl: './export-app.component.html',\r\n  styleUrls: ['./export-app.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatProgressSpinnerModule,\r\n    MatCheckboxModule,\r\n    FormsModule,\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    AsyncPipe,\r\n  ],\r\n})\r\nexport class ExportAppComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  private exportAppService = transient(ExportAppService);\r\n\r\n  includeContentGroups = false;\r\n  resetAppGuid = false;\r\n  private appInfo$ = new BehaviorSubject<AppInfo>(null);\r\n  private isExporting$ = new BehaviorSubject(false);\r\n  viewModel$ = combineLatest([this.appInfo$, this.isExporting$]).pipe(\r\n    map(([appInfo, isExporting]) => ({ appInfo, isExporting })),\r\n  );\r\n\r\n  constructor(private dialogRef: MatDialogRef<ExportAppComponent>) { }\r\n\r\n  ngOnInit() {\r\n    this.exportAppService.getAppInfo().subscribe(appInfo => {\r\n      this.appInfo$.next(appInfo);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.appInfo$.complete();\r\n    this.isExporting$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  exportApp() {\r\n    this.isExporting$.next(true);\r\n    this.exportAppService.exportApp(this.includeContentGroups, this.resetAppGuid);\r\n    this.isExporting$.next(false);\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-dialog\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">Export app</div>\r\n    </div>\r\n    <div class=\"eav-dialog-content\">\r\n      @if (vm.isExporting) {\r\n        <mat-spinner mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n      }\r\n      <p>\r\n        Pack the entire app to a <em>zip</em> folder which can be imported again to another site.\r\n        For further help visit <a href=\"https://2sxc.org/en/help?tag=export-app\" target=\"_blank\">2sxc Help</a>.\r\n      </p>\r\n      @if (vm.appInfo) {\r\n        <div>\r\n          <p class=\"eav-app-info__title\">Specs</p>\r\n          <ul class=\"eav-app-info__content\">\r\n            <li>Name: {{ vm.appInfo.Name }}</li>\r\n            <li>Guid: {{ vm.appInfo.Guid }}</li>\r\n            <li>Version: {{ vm.appInfo.Version }}</li>\r\n          </ul>\r\n          <p class=\"eav-app-info__title\">Contains</p>\r\n          <ul class=\"eav-app-info__content\">\r\n            <li>{{ vm.appInfo.EntitiesCount }} entities</li>\r\n            <li>{{ vm.appInfo.LanguagesCount }} languages</li>\r\n            <li>\r\n              {{ vm.appInfo.TemplatesCount }} templates (Token: {{ vm.appInfo.HasTokenTemplates }}, Razor:\r\n              {{ vm.appInfo.HasRazorTemplates }})\r\n            </li>\r\n            <li>{{ vm.appInfo.TransferableFilesCount }} files to export</li>\r\n            <li>{{ vm.appInfo.FilesCount }} files in the app folder totally</li>\r\n          </ul>\r\n          <div class=\"eav-options-wrapper\">\r\n            <div class=\"oeav-ption-box\">\r\n              <mat-checkbox [(ngModel)]=\"includeContentGroups\" [disabled]=\"resetAppGuid || vm.isExporting\">\r\n                <span class=\"eav-option-box__text\">\r\n                  Include all content-groups to re-import the app in an exact copy of this site.\r\n                  Only select this option when you copy an entire DNN site.\r\n                </span>\r\n              </mat-checkbox>\r\n            </div>\r\n            <div class=\"eav-option-box\">\r\n              <mat-checkbox [(ngModel)]=\"resetAppGuid\" [disabled]=\"includeContentGroups || vm.isExporting\">\r\n                <span class=\"eav-option-box__text\">\r\n                  Reset the app GUID to zero. You only need this option for special tutorial apps,\r\n                  and usually must not select it.\r\n                </span>\r\n              </mat-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n    <mat-dialog-actions align=\"end\">\r\n      <button mat-raised-button [disabled]=\"vm.isExporting\" (click)=\"closeDialog()\">\r\n        Cancel\r\n      </button>\r\n      <button mat-raised-button color=\"accent\" [disabled]=\"vm.isExporting\" (click)=\"exportApp()\">\r\n        Export App\r\n      </button>\r\n    </mat-dialog-actions>\r\n  </div>\r\n}"],"names":["MatDialogRef","MatDialogActions","BehaviorSubject","combineLatest","map","ExportAppService","AsyncPipe","MatButtonModule","FormsModule","MatCheckboxModule","MatProgressSpinnerModule","transient","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","ExportAppComponent_Conditional_0_Conditional_14_Template_mat_checkbox_ngModelChange_25_listener","$event","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵtwoWayBindingSet","includeContentGroups","ɵɵresetView","ExportAppComponent_Conditional_0_Conditional_14_Template_mat_checkbox_ngModelChange_29_listener","resetAppGuid","ɵɵadvance","ɵɵtextInterpolate1","vm_r4","appInfo","Name","Guid","Version","EntitiesCount","LanguagesCount","ɵɵtextInterpolate3","TemplatesCount","HasTokenTemplates","HasRazorTemplates","TransferableFilesCount","FilesCount","ɵɵtwoWayProperty","ɵɵproperty","isExporting","ɵɵtemplate","ExportAppComponent_Conditional_0_Conditional_5_Template","ExportAppComponent_Conditional_0_Conditional_14_Template","ɵɵlistener","ExportAppComponent_Conditional_0_Template_button_click_16_listener","_r1","closeDialog","ExportAppComponent_Conditional_0_Template_button_click_18_listener","exportApp","ɵɵconditional","ExportAppComponent","constructor","dialogRef","hostClass","exportAppService","appInfo$","isExporting$","viewModel$","pipe","ngOnInit","getAppInfo","subscribe","next","ngOnDestroy","complete","close","_","ɵɵdirectiveInject","i1","_2","selectors","hostVars","hostBindings","ExportAppComponent_HostBindings","rf","ctx","ɵɵhostProperty","ExportAppComponent_Conditional_0_Template","tmp_0_0","ɵɵpipeBind1","i2","MatProgressSpinner","i3","MatCheckbox","i4","NgControlStatus","NgModel","i5","MatButton","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733","projects_eav-ui_src_app_shared_components_base-with-child-dialog_component_ts"],{2743:(x,g,t)=>{t.d(g,{b:()=>P});var _=t(271),c=t(6301),o=t(8764),l=t(4902),r=t(8873),n=t(4858),e=t(4979),I=t(3472),i=t(8559),s=t(6443);let P=(()=>{class E extends e.V{constructor(d,a,O,u){super(new I.B("AppDialogConfigService",!1)),this.http=d,this.context=a,this.globalConfigService=O,this.dialogSettings$={},this.log.a(`using context #${this.context.log.svcId}`),u.loadFromService(this)}ngOnDestroy(){super.destroy()}getCurrent$(){const d=this.context.appId;return this.log.a(`getCurrent$ - appId:${d}`),this.getShared$(d)}getSitePrimaryApp$(){return this.getCurrent$().pipe((0,_.T)(d=>d?.Context.Site.PrimaryApp))}getGlobalPrimaryApp$(){return this.getCurrent$().pipe((0,_.T)(d=>d?.Context.System.PrimaryApp))}getShared$(d){return this.log.a("getShared$ appId: "+d),this.dialogSettings$[d]??=this.getDialogSettings(d,"getShared$").pipe((0,c.t)({refCount:!1})),this.dialogSettings$[d]}getDialogSettings(d,a){return this.log.a("getDialogSettings",{appId:d,reqBy:a}),this.http.get("admin/dialog/settings",{params:{appId:d??this.context.appId.toString()}}).pipe((0,_.T)(O=>(O.Context.Language.List=O.Context.Language.List.filter(u=>u.IsEnabled),O)),(0,o.M)(O=>{this.globalConfigService.allowDebug(O.Context.Enable.DebugMode)}))}static#t=this.\u0275fac=function(a){return new(a||E)(i.KVO(s.Qq),i.KVO(r.o),i.KVO(l.Bj),i.KVO(n.D))};static#n=this.\u0275prov=i.jDH({token:E,factory:E.\u0275fac})}return E})()},7693:(x,g,t)=>{t.d(g,{X:()=>n,g:()=>E});var _=t(271),c=t(8873),o=t(8559),l=t(6443),r=t(4821);const n="admin/type/",i="admin/type/scopes";let E=(()=>{class D{constructor(a,O,u){this.http=a,this.context=O,this.dnnContext=u}apiUrl(a){return this.dnnContext.$2sxc.http.apiUrl(a)}retrieveContentType(a){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:a}})}retrieveContentTypes(a){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:a}})}getScopes(){return this.http.get(this.apiUrl(i),{params:{appId:this.context.appId.toString()}}).pipe((0,_.T)(a=>{const O=a.old;return Object.keys(O).map(v=>({name:O[v],value:v}))}))}getScopesV2(){return this.http.get(this.apiUrl(i),{params:{appId:this.context.appId.toString()}}).pipe((0,_.T)(a=>a.scopes))}save(a){return this.http.post(this.apiUrl("admin/type/save"),a,{params:{appid:this.context.appId.toString()}})}delete(a){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:a.StaticName}})}import(a){const O=new FormData;for(const u of a)O.append("File",u);return this.http.post(this.apiUrl("admin/type/import"),O,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(a){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:a}})}static#t=this.\u0275fac=function(O){return new(O||D)(o.KVO(l.Qq),o.KVO(c.o),o.KVO(r.ob))};static#n=this.\u0275prov=o.jDH({token:D,factory:D.\u0275fac})}return D})()},1475:(x,g,t)=>{t.d(g,{j:()=>n});var _=t(8873),c=t(8624),o=t(8559),l=t(6443),r=t(4821);let n=(()=>{class e{constructor(i,s,p){this.http=i,this.context=s,this.dnnContext=p}getContentInfo(i){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(c.Q+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:i}})}exportParts(i,s,p){const h=this.dnnContext.$2sxc.http.apiUrl(c.Q+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+i.join(";")+"&entityIdsString="+s.join(";")+"&templateIdsString="+p.join(";");window.open(h,"_blank","")}static#t=this.\u0275fac=function(s){return new(s||e)(o.KVO(l.Qq),o.KVO(_.o),o.KVO(r.ob))};static#n=this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac})}return e})()},320:(x,g,t)=>{t.d(g,{t:()=>n});var _=t(1772),c=t(8873),o=t(8559),l=t(6443),r=t(4821);let n=(()=>{class e{constructor(i,s,p){this.http=i,this.context=s,this.dnnContext=p}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(_.u+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportApp(i,s){const p=this.dnnContext.$2sxc.http.apiUrl(_.u+"Export")+"?appId="+this.context.appId+"&zoneId="+this.context.zoneId+"&includeContentGroups="+i+"&resetAppGuid="+s;window.open(p,"_blank","")}exportForVersionControl({includeContentGroups:i,resetAppGuid:s,withFiles:p}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(_.u+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:i.toString(),resetAppGuid:s.toString(),withPortalFiles:p.toString()}})}static#t=this.\u0275fac=function(s){return new(s||e)(o.KVO(l.Qq),o.KVO(c.o),o.KVO(r.ob))};static#n=this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac})}return e})()},8624:(x,g,t)=>{t.d(g,{Q:()=>n,S:()=>e});var _=t(1772),c=t(8873),o=t(8559),l=t(6443),r=t(4821);const n="admin/appParts/";let e=(()=>{class I{constructor(s,p,h){this.http=s,this.context=p,this.dnnContext=h}importAppParts(s){const p=new FormData;return p.append("File",s),this.http.post(this.dnnContext.$2sxc.http.apiUrl(n+"Import"),p,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(s){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(_.u+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:s.toString()}})}static#t=this.\u0275fac=function(p){return new(p||I)(o.KVO(l.Qq),o.KVO(c.o),o.KVO(r.ob))};static#n=this.\u0275prov=o.jDH({token:I,factory:I.\u0275fac})}return I})()},5445:(x,g,t)=>{t.d(g,{Cu:()=>n.Cu,JL:()=>n.JL,Mk:()=>n.Mk,bd:()=>_.b,ei:()=>n.ei,gs:()=>c.g,vN:()=>n.vN,xR:()=>n.xR,y0:()=>e.y});var _=t(2743),c=t(7693),n=(t(1475),t(320),t(8624),t(4079)),e=t(2570)},4079:(x,g,t)=>{t.d(g,{Cu:()=>D,JL:()=>d,Mk:()=>P,ei:()=>E,vN:()=>a,xR:()=>O});var _=t(9835),c=t(6647),o=t(271),l=t(4522),r=t(693),n=t(8873),e=t(8559),I=t(6443),i=t(4821);const P="admin/query/Run",E="admin/query/DebugStream",D="admin/query/Save",d="admin/query/Get",a="admin/query/DataSources";let O=(()=>{class u{constructor(M,m,C){this.http=M,this.context=m,this.dnnContext=C}getAll(M){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(l.Gg),{params:{appId:this.context.appId.toString(),contentType:M}})}importQuery(M){return(0,_.H)((0,r.n)(M)).pipe((0,c.n)(m=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:m})),(0,o.T)(m=>({Success:m,Messages:[]})))}clonePipeline(M){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:M.toString(),appId:this.context.appId.toString()}})}delete(M){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:M.toString()}})}static#t=this.\u0275fac=function(m){return new(m||u)(e.KVO(I.Qq),e.KVO(n.o),e.KVO(i.ob))};static#n=this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}return u})()},2570:(x,g,t)=>{t.d(g,{y:()=>p});var _=t(8873),c=t(8559),o=t(6443),l=t(4821);const r="admin/view/",n=r+"all",e=r+"delete",I=r+"import",i=r+"polymorphism",s=r+"usage";let p=(()=>{class h{constructor(E,D,d){this.http=E,this.context=D,this.dnnContext=d}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n),{params:{appId:this.context.appId.toString()}})}delete(E){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e),{params:{appId:this.context.appId.toString(),Id:E.toString()}})}import(E){const D=new FormData;return D.append("File",E),this.http.post(this.dnnContext.$2sxc.http.apiUrl(I),D,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(E){const D=this.dnnContext.$2sxc.http.apiUrl(r+"json")+"?appId="+this.context.appId+"&viewId="+E;window.open(D,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i),{params:{appId:this.context.appId.toString()}})}getUsage(E){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(s),{params:{appId:this.context.appId.toString(),guid:E}})}static#t=this.\u0275fac=function(D){return new(D||h)(c.KVO(o.Qq),c.KVO(_.o),c.KVO(l.ob))};static#n=this.\u0275prov=c.jDH({token:h,factory:h.\u0275fac})}return h})()},1772:(x,g,t)=>{t.d(g,{I:()=>i,u:()=>I});var _=t(6647),c=t(9452),o=t(3550),l=t(8873),r=t(8559),n=t(6443),e=t(4821);const I="admin/app/";let i=(()=>{class s{constructor(h,P,E){this.http=h,this.context=P,this.dnnContext=E}importApp(h,P,E=!1){const D=new FormData;return D.append("File",h),D.append("Name",P??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(I+"Import"),D,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,_.n)(d=>{if(E&&d.Messages[0]?.MessageType===o.G1.Warning){const a=prompt(d.Messages[0].Text+" Would you like to install it using another folder name?");if(a)return this.importApp(h,a,!0)}return(0,c.of)(d)}))}static#t=this.\u0275fac=function(P){return new(P||s)(r.KVO(n.Qq),r.KVO(l.o),r.KVO(e.ob))};static#n=this.\u0275prov=r.jDH({token:s,factory:s.\u0275fac})}return s})()},1735:(x,g,t)=>{t.d(g,{V:()=>i});var _=t(9184),c=t(1567),o=t(3037),l=t(271),r=t(5057),n=t(3176),e=t(3472);class i extends n.${constructor(p,h,P){super(),this.router=p,this.route=h,this.log=P,this.log??=new e.B("BaseComponent",!1)}childDialogClosed$(){return this.router.events.pipe((0,c.p)(p=>p instanceof _.wF),(0,o.Z)(!!this.route.snapshot.firstChild),(0,l.T)(()=>!!this.route.snapshot.firstChild),(0,r.J)(),(0,c.p)(([p,h])=>p&&!h))}}},693:(x,g,t)=>{function _(o){return new Promise((l,r)=>{const n=new FileReader;n.readAsDataURL(o),n.onload=()=>{l(n.result.split(",")[1])},n.onerror=e=>{r(e)}})}function c(o){return new Promise((l,r)=>{const n=new FileReader;n.readAsText(o),n.onload=()=>{l(n.result)},n.onerror=e=>{r(e)}})}t.d(g,{d:()=>c,n:()=>_})}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.99.00/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733.24fbdf44640866e1.js.map
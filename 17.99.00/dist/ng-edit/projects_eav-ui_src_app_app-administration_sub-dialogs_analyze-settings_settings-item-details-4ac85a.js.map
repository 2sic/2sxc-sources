{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEwD;AACP;AACsB;AAC0B;AACb;AACuB;AAE/D;AACW;AACI;AAC4C;AACT;AACrC;;;;;;;;;;ICRjDc,4DAHN,aAAmC,aACP,aACM,UACvB;IAAAA,oDAAA,GAAqB;IAAAA,0DAAA,EAAM;IAChCA,4DAAA,gBAAqE;IAAxBA,wDAAA,mBAAAK,4EAAA;MAAAL,2DAAA,CAAAO,GAAA;MAAA,MAAAC,MAAA,GAAAR,2DAAA;MAAA,OAAAA,yDAAA,CAASQ,MAAA,CAAAG,WAAA,EAAa;IAAA,EAAC;IAClEX,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAGrBA,0DAHqB,EAAW,EACnB,EACL,EACF;IACNA,4DAAA,WAA8B;IAC5BA,oDAAA,+BAAuB;IAAAA,4DAAA,YAAM;IAAAA,oDAAA,IAAqB;IAAAA,0DAAA,EAAO;IAACA,oDAAA,wBAC5D;IAAAA,0DAAA,EAAI;IACJA,4DAAA,cAA0B;IAGxBA,uDAFA,0BACkB,cACuB;IAE7CA,0DADE,EAAM,EACF;;;;IAdKA,uDAAA,GAAqB;IAArBA,+DAAA,CAAAQ,MAAA,CAAAO,eAAA,CAAqB;IAOCf,uDAAA,GAAqB;IAArBA,+DAAA,CAAAQ,MAAA,CAAAO,eAAA,CAAqB;IAGPf,uDAAA,GAAoB;IAACA,wDAArB,YAAAiB,GAAA,CAAAC,KAAA,CAAoB,gBAAAV,MAAA,CAAAW,WAAA,CAA4B;;;ADY3F,MAAOC,4BAA4B;EAWvCC,YACUC,SAAqD,EACrDC,KAAqB;IADrB,KAAAD,SAAS,GAATA,SAAS;IACT,KAAAC,KAAK,GAALA,KAAK;IARf,KAAAJ,WAAW,GAAG,IAAI,CAACK,gBAAgB,EAAE;IAI7B,KAAAC,sBAAsB,GAAG1B,uEAAS,CAACP,sFAAsB,CAAC;IAMhE,IAAI,CAACkC,IAAI,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAACC,QAAQ,CAACC,GAAG,CAAC,MAAM,CAAgB;IAC1E,MAAMC,aAAa,GAAG,IAAI,CAACR,KAAK,CAACI,QAAQ,CAACE,QAAQ,CAACC,GAAG,CAAC,MAAM,CAAC;IAC9D,IAAI,CAACE,YAAY,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAACC,QAAQ,CAACF,aAAa,CAAC,GAAGG,SAAS,GAAGH,aAAa;IAC7F,IAAI,CAAChB,eAAe,GAAG,IAAI,CAACQ,KAAK,CAACI,QAAQ,CAACE,QAAQ,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAC5E;EAEAK,QAAQA,CAAA;IACN,IAAI,CAACC,MAAM,GAAG,IAAIhD,iDAAe,CAAsB8C,SAAS,CAAC;IACjE,IAAI,CAACT,sBAAsB,CAACY,QAAQ,CAAC,IAAI,CAACX,IAAI,EAAE,IAAI,CAACX,eAAe,EAAE,IAAI,CAACiB,YAAY,EAAE,IAAI,CAAC,CAACM,SAAS,CAACpB,KAAK,IAAG;MAC/G,IAAI,CAACkB,MAAM,CAACG,IAAI,CAACrB,KAAK,CAAC;IACzB,CAAC,CAAC;IACF,IAAI,CAACsB,UAAU,GAAGnD,mDAAa,CAAC,CAAC,IAAI,CAAC+C,MAAM,CAAC,CAAC,CAACK,IAAI,CACjDnD,yCAAG,CAAC,CAAC,CAAC4B,KAAK,CAAC,MAAM;MAAEA;IAAK,CAAE,CAAC,CAAC,CAC9B;EACH;EAEAwB,WAAWA,CAAA;IACT,IAAI,CAACN,MAAM,CAACO,QAAQ,EAAE;EACxB;EAEAhC,WAAWA,CAAA;IACT,IAAI,CAACW,SAAS,CAACsB,KAAK,EAAE;EACxB;EAEQpB,gBAAgBA,CAAA;IACtB,MAAML,WAAW,GAAgB;MAC/B,GAAG5B,gGAAkB;MACrBsD,UAAU,EAAE,CACV;QACE,GAAG/C,wGAAiB,CAACgD,mBAAmB;QACxCC,UAAU,EAAE,OAAO;QACnBC,KAAK,EAAE,QAAQ;QACfC,YAAY,EAAExD,mHAA6BA;OAC5C,EACD;QACE,GAAGK,wGAAiB,CAACoD,UAAU;QAC/BF,KAAK,EAAE;OACR;KAEJ;IACD,OAAO7B,WAAW;EACpB;EAAC,QAAAgC,CAAA;qBAxDU/B,4BAA4B,EAAApB,+DAAA,CAAAqD,mEAAA,GAAArD,+DAAA,CAAAsD,4DAAA;EAAA;EAAA,QAAAC,EAAA;UAA5BnC,4BAA4B;IAAAoC,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAA1D,iEAAA;IAAA4D,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,sCAAAC,EAAA,EAAAhD,GAAA;MAAA,IAAAgD,EAAA;QC5BzCjE,4DAAA,SAAI;QAAAA,oDAAA,WAAI;QAAAA,0DAAA,EAAK;QAEbA,wDAAA,IAAAmE,mDAAA,kBAAiC;;;;;QAAjCnE,uDAAA,GAmBC;QAnBDA,2DAAA,KAAAqE,OAAA,GAAArE,yDAAA,OAAAiB,GAAA,CAAAuB,UAAA,aAAA6B,OAAA,CAmBC;;;mBDCGzE,sEAAe,EAAA2E,oEAAA,EACf5E,kEAAa,EAAA8E,4DAAA,EACb/E,uDAAS,EACTG,iHAAa,EAAA8E,sEAAA;IAAAE,MAAA;EAAA","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.html"],"sourcesContent":["import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { defaultGridOptions } from '../../../../shared/constants/default-grid-options.constants';\r\nimport { AnalyzeSettingsService } from '../../../services/analyze-settings.service';\r\nimport { AnalyzeSettingsValueComponent } from '../analyze-settings-value/analyze-settings-value.component';\r\nimport { AnalyzePart, SettingsStackItem } from '../analyze-settings.models';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { transient } from 'projects/eav-ui/src/app/core';\r\n\r\n@Component({\r\n  selector: 'app-settings-item-details',\r\n  templateUrl: './settings-item-details.component.html',\r\n  styleUrls: ['./settings-item-details.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    AsyncPipe,\r\n    SxcGridModule,\r\n  ],\r\n})\r\nexport class SettingsItemDetailsComponent implements OnInit, OnDestroy {\r\n  part: AnalyzePart;\r\n  selectedView: string;\r\n  settingsItemKey: string;\r\n  stack$: BehaviorSubject<SettingsStackItem[]>;\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<SettingsItemDetailsViewModel>;\r\n\r\n  private analyzeSettingsService = transient(AnalyzeSettingsService);\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<SettingsItemDetailsComponent>,\r\n    private route: ActivatedRoute,\r\n  ) {\r\n    this.part = this.route.snapshot.parent.paramMap.get('part') as AnalyzePart;\r\n    const routeViewGuid = this.route.snapshot.paramMap.get('view');\r\n    this.selectedView = ['undefined', 'null'].includes(routeViewGuid) ? undefined : routeViewGuid;\r\n    this.settingsItemKey = this.route.snapshot.paramMap.get('settingsItemKey');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stack$ = new BehaviorSubject<SettingsStackItem[]>(undefined);\r\n    this.analyzeSettingsService.getStack(this.part, this.settingsItemKey, this.selectedView, true).subscribe(stack => {\r\n      this.stack$.next(stack);\r\n    });\r\n    this.viewModel$ = combineLatest([this.stack$]).pipe(\r\n      map(([stack]) => ({ stack }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stack$.complete();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideActionClass,\r\n          headerName: 'Value',\r\n          field: '_value',\r\n          cellRenderer: AnalyzeSettingsValueComponent,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextNarrow,\r\n          field: 'Source',\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface SettingsItemDetailsViewModel {\r\n  stack: SettingsStackItem[];\r\n}\r\n","<h1>Test</h1>\r\n\r\n@if (viewModel$ | async; as vm) {\r\n  <div class=\"nav-component-wrapper\">\r\n    <div mat-mdc-dialog-title>\r\n      <div class=\"dialog-title-box\">\r\n        <div>{{ settingsItemKey }}</div>\r\n        <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <p class=\"dialog-description\">\r\n      Here you can see where <code>{{ settingsItemKey }}</code> is configured.\r\n    </p>\r\n    <div class=\"grid-wrapper\">\r\n      <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.stack\" [gridOptions]=\"gridOptions\">\r\n      </ag-grid-angular>\r\n      <div class=\"grid-more-actions-box\"></div>\r\n    </div>\r\n  </div>\r\n}\r\n"],"names":["MatDialogRef","ActivatedRoute","BehaviorSubject","combineLatest","map","defaultGridOptions","AnalyzeSettingsService","AnalyzeSettingsValueComponent","AsyncPipe","MatIconModule","MatButtonModule","SxcGridModule","ColumnDefinitions","transient","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","SettingsItemDetailsComponent_Conditional_2_Template_button_click_5_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","closeDialog","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","settingsItemKey","ɵɵproperty","ctx","stack","gridOptions","SettingsItemDetailsComponent","constructor","dialogRef","route","buildGridOptions","analyzeSettingsService","part","snapshot","parent","paramMap","get","routeViewGuid","selectedView","includes","undefined","ngOnInit","stack$","getStack","subscribe","next","viewModel$","pipe","ngOnDestroy","complete","close","columnDefs","TextWideActionClass","headerName","field","cellRenderer","TextNarrow","_","ɵɵdirectiveInject","i1","i2","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","SettingsItemDetailsComponent_Template","rf","ɵɵtemplate","SettingsItemDetailsComponent_Conditional_2_Template","ɵɵconditional","tmp_0_0","ɵɵpipeBind1","i3","MatIconButton","i4","MatIcon","i5","AgGridAngular","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
{"version":3,"file":"projects_eav-ui_src_app_content-type-fields_services_content-types-fields_service_ts-projects-7da183.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAA8D;AACZ;AAEvB;AAE8D;AACjC;;;;;AAMjD,MAAMK,gBAAgB,GAAG,cAAc;AACvC,MAAMC,eAAe,GAAG,iBAAiB;AACzC,MAAMC,qBAAqB,GAAG,6BAA6B;AAG5D,MAAOC,yBAAyB;EACpCC,YAAoBC,IAAgB,EAAUC,OAAgB,EAAUC,UAAsB;IAA1E,KAAAF,IAAI,GAAJA,IAAI;IAAsB,KAAAC,OAAO,GAAPA,OAAO;IAAmB,KAAAC,UAAU,GAAVA,UAAU;EAAgB;EAE1FC,MAAMA,CAACC,IAAY;IACzB,OAAO,IAAI,CAACF,UAAU,CAACG,KAAK,CAACL,IAAI,CAACG,MAAM,CAACC,IAAI,CAAC;EAChD;EAEAE,gBAAgBA,CAAA;IACd,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAAW,IAAI,CAACJ,MAAM,CAACR,gBAAgB,GAAG,WAAW,CAAC,EAAE;MAC1Ea,MAAM,EAAE;QAAEC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ;MAAE;KAC/C,CAAC;EACJ;EAEAC,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAACZ,IAAI,CACbO,GAAG,CAAc,IAAI,CAACJ,MAAM,CAACR,gBAAgB,GAAG,YAAY,CAAC,EAAE;MAAEa,MAAM,EAAE;QAAEC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ;MAAE;IAAE,CAAE,CAAC,CACpHE,IAAI,CACHpB,yCAAG,CAACqB,YAAY,IAAG;MACjB,MAAMC,gBAAgB,GAAGD,YAAY,CAACrB,GAAG,CAACuB,MAAM,IAAG;QACjD,MAAMC,MAAM,GAAyB;UACnCC,QAAQ,EAAEF,MAAM,CAACG,IAAI,CAACC,SAAS,CAAC,CAAC,EAAEJ,MAAM,CAACG,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC,CAAC;UAC5DC,SAAS,EAAEN,MAAM,CAACG,IAAI;UACtBI,KAAK,EAAEP,MAAM,CAACQ,KAAK;UACnBC,WAAW,EAAET,MAAM,CAACU,WAAW;UAC/BC,SAAS,EAAEX,MAAM,CAACY,SAAS;UAC3BC,UAAU,EAAEb,MAAM,CAACc,UAAU;UAC7BC,aAAa,EAAEf,MAAM,CAACgB,aAAa;UACnCC,eAAe,EAAEjB,MAAM,CAACkB,eAAe;UACvCC,IAAI,EAAEnB,MAAM,CAACY,SAAS,GAAG,MAAM,GAAGZ,MAAM,CAACgB,aAAa,GAAG,cAAc,GAAG;SAC3E;QACD,OAAOf,MAAM;MACf,CAAC,CAAC;MACF,OAAOF,gBAAgB;IACzB,CAAC,CAAC,CACH;EACL;EAEAqB,gBAAgBA,CAAA;IACd,OAAO,IAAI,CAACpC,IAAI,CAACO,GAAG,CAAgB,IAAI,CAACJ,MAAM,CAACR,gBAAgB,GAAG,eAAe,CAAC,CAAC;EACtF;EAEA;EACA0C,SAASA,CAACC,qBAA6B;IACrC,OAAO,IAAI,CAACtC,IAAI,CACbO,GAAG,CAAU,IAAI,CAACJ,MAAM,CAACP,eAAe,CAAC,EAAE;MAC1CY,MAAM,EAAE;QAAEC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QAAE4B,UAAU,EAAED;MAAqB;KAClF,CAAC,CACDzB,IAAI,CACHpB,yCAAG,CAAC+C,MAAM,IAAG;MACX,IAAIA,MAAM,EAAE;QACV,KAAK,MAAMC,GAAG,IAAID,MAAM,EAAE;UACxB,IAAI,CAACC,GAAG,CAACC,QAAQ,EAAE;YAAE;;UACrB,MAAMC,EAAE,GAAGF,GAAG,CAACC,QAAQ;UACvB,MAAME,KAAK,GAAGD,EAAE,CAACE,GAAG;UACpB,MAAMC,MAAM,GAAGH,EAAE,CAACF,GAAG,CAACtB,IAAI,CAAC;UAC3B,MAAM4B,OAAO,GAAGJ,EAAE,CAACF,GAAG,CAACO,SAAS,CAAC;UACjCL,EAAE,CAACM,MAAM,GAAG;YAAE,GAAGL,KAAK;YAAE,GAAGE,MAAM;YAAE,GAAGC;UAAO,CAAE;;;MAGnD,OAAOP,MAAM;IACf,CAAC,CAAC,CACH;EACL;EAEA;EACAU,kBAAkBA,CAAA;IAChB,OAAO,IAAI,CAAClD,IAAI,CAACO,GAAG,CAAU,IAAI,CAACJ,MAAM,CAACN,qBAAqB,CAAC,EAAE;MAC9DW,MAAM,EAAE;QAAEC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ;MAAE;KAC/C,CAAC;EACN;EAEA;;;;;;;EAOAwC,qBAAqBA,CAACC,WAAmB;IACvC;IACA;IACA;IACA,OAAO,IAAI,CAACpD,IAAI,CACbO,GAAG,CAAU,IAAI,CAACJ,MAAM,CAACN,qBAAqB,CAAC,EAAE;MAChDW,MAAM,EAAE;QAAEC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QAAEyC,WAAW,EAAEA,WAAW,CAACzC,QAAQ;MAAE;KACpF,CAAC;EACN;EAEA0C,iBAAiBA,CAACC,mBAA2B,EAAEC,2BAAmC,EAAEC,eAAuB,EAAEC,OAAe;IAC1H,OAAO,IAAI,CAACzD,IAAI,CAAC0D,IAAI,CAAS,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,mBAAmB,CAAC,EAAE,IAAI,EAAE;MACvFa,MAAM,EAAE;QACNmD,KAAK,EAAE,IAAI,CAAC1D,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpCiD,aAAa,EAAEN,mBAAmB,CAAC3C,QAAQ,EAAE;QAC7CkD,UAAU,EAAEN,2BAA2B;QACvCO,WAAW,EAAEN,eAAe;QAC5BpD,IAAI,EAAEqD;;KAET,CAAC;EACJ;EAEAM,KAAKA,CAACX,WAAmB,EAAEW,KAAA,GAAiB,IAAI;IAC9C,OAAO,IAAI,CAAC/D,IAAI,CAAC0D,IAAI,CAAO,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,OAAO,CAAC,EAAE,IAAI,EAAE;MACzEa,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpCyC,WAAW,EAAEA,WAAW,CAACzC,QAAQ,EAAE;QACnCoD;;KAEH,CAAC;EACJ;EAEAC,OAAOA,CAACZ,WAAmB,EAAEI,eAAuB;IAClD,OAAO,IAAI,CAACxD,IAAI,CAAC0D,IAAI,CAAO,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,SAAS,CAAC,EAAE,IAAI,EAAE;MAC3Ea,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpCyC,WAAW,EAAEA,WAAW,CAACzC,QAAQ,EAAE;QACnCsD,iBAAiB,EAAET;;KAEtB,CAAC;EACJ;EAEAU,OAAOA,CAACC,OAAiB,EAAEC,WAAwB;IACjD,OAAO,IAAI,CAACpE,IAAI,CAAC0D,IAAI,CAAU,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,MAAM,CAAC,EAAE,IAAI,EAAE;MAC3Ea,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpC0D,aAAa,EAAED,WAAW,CAACE,EAAE,CAAC3D,QAAQ,EAAE;QACxC4D,KAAK,EAAEC,IAAI,CAACC,SAAS,CAACN,OAAO;;KAEhC,CAAC;EACJ;EAEAO,QAAQA,CAACC,IAAW,EAAEP,WAAwB;IAC5C,OAAO,IAAI,CAACpE,IAAI,CAAC0D,IAAI,CAAO,IAAI,CAACvD,MAAM,CAACT,8FAAc,GAAG,UAAU,CAAC,EAAE,IAAI,EAAE;MAC1Ec,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpC0D,aAAa,EAAED,WAAW,CAACE,EAAE,CAAC3D,QAAQ,EAAE;QACxCyC,WAAW,EAAEuB,IAAI,CAACL,EAAE,CAAC3D,QAAQ;;KAEhC,CAAC;EACJ;EAEAiE,MAAMA,CAACC,OAAe,EAAER,aAAqB,EAAEZ,OAAe;IAC5D,OAAO,IAAI,CAACzD,IAAI,CAAC0D,IAAI,CAAO,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,QAAQ,CAAC,EAAE,IAAI,EAAE;MAC1Ea,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpC0D,aAAa,EAAEA,aAAa,CAAC1D,QAAQ,EAAE;QACvCyC,WAAW,EAAEyB,OAAO,CAAClE,QAAQ,EAAE;QAC/B8C;;KAEH,CAAC;EACJ;EAEAqB,MAAMA,CAACH,IAAW,EAAEP,WAAwB;IAC1C,IAAIO,IAAI,CAACI,OAAO,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;;IAGxC,OAAO,IAAI,CAAChF,IAAI,CAAC8E,MAAM,CAAU,IAAI,CAAC3E,MAAM,CAACR,gBAAgB,GAAG,QAAQ,CAAC,EAAE;MACzEa,MAAM,EAAE;QACNC,KAAK,EAAE,IAAI,CAACR,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpC0D,aAAa,EAAED,WAAW,CAACE,EAAE,CAAC3D,QAAQ,EAAE;QACxCyC,WAAW,EAAEuB,IAAI,CAACL,EAAE,CAAC3D,QAAQ;;KAEhC,CAAC;EACJ;EAEAsE,GAAGA,CAACC,QAAwB,EAAEb,aAAqB;IACjD,OAAO,IAAI,CAACrE,IAAI,CAAC0D,IAAI,CAAS,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE;MACzEa,MAAM,EAAE;QACNmD,KAAK,EAAE,IAAI,CAAC1D,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QACpCiD,aAAa,EAAES,aAAa,CAAC1D,QAAQ,EAAE;QACvC2D,EAAE,EAAEY,QAAQ,CAACZ,EAAE,CAAC3D,QAAQ,EAAE;QAC1BQ,IAAI,EAAE+D,QAAQ,CAAC/D,IAAI;QACnB6B,SAAS,EAAEkC,QAAQ,CAAClC,SAAS;QAC7BmC,UAAU,EAAED,QAAQ,CAACC,UAAU;QAC/BJ,OAAO,EAAEG,QAAQ,CAACH,OAAO,CAACpE,QAAQ,EAAE;QACpCyE,KAAK,EAAEF,QAAQ,CAACG,SAAS,CAAC1E,QAAQ;;KAErC,CAAC;EACJ;EAEA2E,eAAeA,CAACC,EAAU,EAAEhD,UAAkB,EAAEjB,SAA0B;IACxE,OAAO,IAAI,CAACtB,IAAI,CAAC0D,IAAI,CAAU,IAAI,CAACvD,MAAM,CAACR,gBAAgB,GAAG,WAAW,CAAC,EAAE,IAAI,EAAE;MAChFa,MAAM,EAAE;QAAEE,KAAK,EAAE,IAAI,CAACT,OAAO,CAACS,KAAK,CAACC,QAAQ,EAAE;QAAEyC,WAAW,EAAEmC,EAAE,CAAC5E,QAAQ,EAAE;QAAE6E,KAAK,EAAEjD,UAAU;QAAEjB;MAAS;KACzG,CAAC;EACJ;EAAC,QAAAmE,CAAA;qBAxLU3F,yBAAyB,EAAA4F,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAG,6DAAA,GAAAH,sDAAA,CAAAI,0DAAA;EAAA;EAAA,QAAAC,EAAA;WAAzBjG,yBAAyB;IAAAkG,OAAA,EAAzBlG,yBAAyB,CAAAmG;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBmC;AACf;AAEsB;AAEN;AACpB;AACV;AACW;AACI;AACJ;AACkB;AACR;;;;;;;;;;;;ICEvDP,4DADF,aAA0B,aACS;IAAAA,oDAAA,UAAG;IAAAA,0DAAA,EAAM;IAExCA,4DADF,aAA2C,cACQ;IAA9BA,wDAAA,mBAAAwB,uFAAA;MAAA,MAAAC,KAAA,GAAAzB,2DAAA,CAAA2B,GAAA;MAAA,MAAAC,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAAjB,eAAA,CAAAc,KAAA,CAAmB;IAAA,EAAC;IAACzB,oDAAA,GAAQ;IAE7DA,0DAF6D,EAAO,EAC5D,EACF;;;;IAFIA,uDAAA,GAAY;IAAZA,wDAAA,UAAAyB,KAAA,CAAY;IAA+BzB,uDAAA,EAAQ;IAARA,+DAAA,CAAAyB,KAAA,CAAQ;;;;;;IAd/DzB,4DAFJ,eAAU,sBACS,qBACC;IAAAA,oDAAA,GAAkB;IACpCA,0DADoC,EAAiB,EACnC;IAClBA,4DAAA,uBAAkB;IAChBA,uDAAA,WAAoD;;IAElDA,4DADF,aAA0B,aACS;IAAAA,oDAAA,GAAoC;;IAAAA,0DAAA,EAAM;IAEzEA,4DADF,cAAiC,YACzB;IAAAA,oDAAA,IAAgF;;IAE1FA,0DAF0F,EAAO,EACzF,EACF;IACNA,wDAAA,KAAAoC,gEAAA,iBAA6B;IAQ/BpC,0DAAA,EAAmB;IAEjBA,4DADF,2BAA8B,iBAEyC;IAApCA,wDAAA,mBAAAqC,2EAAA;MAAA,MAAAC,UAAA,GAAAtC,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAAY,WAAA,CAAAF,UAAA,CAAAG,IAAA,CAAyB;IAAA,EAAC;IAClEzC,4DAAA,gBAAU;IAAAA,oDAAA,mBAAW;IAAAA,0DAAA,EAAW;IAChCA,oDAAA,IACF;;IAAAA,0DAAA,EAAS;IACTA,4DAAA,iBAAiF;IAAxBA,wDAAA,mBAAA0C,2EAAA;MAAA1C,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAAe,WAAA,EAAa;IAAA,EAAC;IAC9E3C,oDAAA,IACF;;IAEJA,0DAFI,EAAS,EACQ,EACV;;;;;IA7BSA,uDAAA,GAAkB;IAAlBA,+DAAA,CAAAsC,UAAA,CAAA5H,IAAA,CAAkB;IAG/BsF,uDAAA,GAA4C;IAA5CA,wDAAA,cAAAA,yDAAA,OAAAsC,UAAA,CAAAvG,WAAA,GAAAiE,4DAAA,CAA4C;IAEZA,uDAAA,GAAoC;IAApCA,gEAAA,KAAAA,yDAAA,gCAAoC;IAE7DA,uDAAA,GAAgF;IAAhFA,+DAAA,CAAAA,yDAAA,SAAAsC,UAAA,CAAAS,SAAA,6CAAgF;IAG1F/C,uDAAA,GAOC;IAPDA,2DAAA,MAAAiD,OAAA,GAAAX,UAAA,CAAAY,MAAA,aAAAD,OAAA,CAOC;IAMCjD,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,sCACF;IAEEA,uDAAA,GACF;IADEA,gEAAA,MAAAA,yDAAA,gCACF;;;ADAA,MAAOmD,0BAA0B;EAGrC9I,YACkC+I,UAAkB,EAC1CC,SAAmD,EACnDC,QAAqB,EACrBC,oBAA0C;IAHlB,KAAAH,UAAU,GAAVA,UAAU;IAClC,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAC,oBAAoB,GAApBA,oBAAoB;EAC1B;EAEJC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,oBAAoB,CAACG,iBAAiB,CAAC,IAAI,CAACN,UAAU,CAAC;EAChF;EAEAzC,eAAeA,CAACgD,IAAY;IAC1BhD,yFAAe,CAACgD,IAAI,CAAC;IACrB,IAAI,CAACL,QAAQ,CAACM,IAAI,CAAC,qBAAqB,EAAE,IAAI,EAAE;MAAEC,QAAQ,EAAE;IAAI,CAAE,CAAC;EACrE;EAEArB,WAAWA,CAACC,IAAY;IACtBqB,MAAM,CAACF,IAAI,CAACnB,IAAI,EAAE,QAAQ,CAAC;EAC7B;EAEAE,WAAWA,CAAA;IACT,IAAI,CAACU,SAAS,CAACU,KAAK,EAAE;EACxB;EAAC,QAAAhE,CAAA;qBAzBUoD,0BAA0B,EAAAnD,+DAAA,CAI3BS,qEAAe,GAAAT,+DAAA,CAAAE,kEAAA,GAAAF,+DAAA,CAAAG,oEAAA,GAAAH,+DAAA,CAAAI,kFAAA;EAAA;EAAA,QAAAC,EAAA;UAJd8C,0BAA0B;IAAAc,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAnE,iEAAA;IAAAqE,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QC9BvC1E,wDAAA,IAAA4E,iDAAA,qBAAsC;;;;;QAAtC5E,2DAAA,KAAA6E,OAAA,GAAA7E,yDAAA,OAAA2E,GAAA,CAAAlB,UAAA,aAAAoB,OAAA,CAiCC;;;mBDZG5D,iEAAa,EAAA6D,2DAAA,EAAAA,kEAAA,EAAAA,kEAAA,EAAAA,iEAAA,EAAAA,gEAAA,EACb9D,qEAAe,EAAAoE,+DAAA,EACfrE,iEAAa,EAAAuE,2DAAA,EACbxE,uDAAS,EACTD,iEAAe,EAAA2E,+DAAA,EACftE,8EAAc,EACdC,sEAAY;IAAAuE,MAAA;EAAA;;;;;;;;;;;;;;;;;;;AE3B8C;AACZ;;;;AAK3C,MAAMC,UAAU,GAAG,gBAAgB;AAGpC,MAAO/E,oBAAoB;EAC/BvG,YACUC,IAAgB,EAChBE,UAAsB;IADtB,KAAAF,IAAI,GAAJA,IAAI;IACJ,KAAAE,UAAU,GAAVA,UAAU;EAChB;EAEJkJ,iBAAiBA,CAACkC,aAAqB;IACrC,OAAO,IAAI,CAACtL,IAAI,CAACO,GAAG,CAAU,IAAI,CAACL,UAAU,CAACG,KAAK,CAACL,IAAI,CAACG,MAAM,CAACkL,UAAU,GAAG,SAAS,CAAC,EAAE;MACvF7K,MAAM,EAAE;QAAEoI,MAAM,EAAE0C;MAAa;KAChC,CAAC;EACJ;EAAC,QAAA7F,CAAA;qBAVUa,oBAAoB,EAAAZ,sDAAA,CAAAE,4DAAA,GAAAF,sDAAA,CAAAG,0DAAA;EAAA;EAAA,QAAAE,EAAA;WAApBO,oBAAoB;IAAAN,OAAA,EAApBM,oBAAoB,CAAAL;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACT6D;AACzC;AACoB;AACyB;AAChB;AAER;;AAEnE,MAAM8F,yBAAyB,GAAG,CACvCzF,kFAAoB,CACrB;AAGK,MAAO0F,oBAAoB;EAC/B;EACA,IACWV,aAAaA,CAACW,KAAa;IAAI,IAAI,CAACC,cAAc,CAACC,IAAI,CAACF,KAAK,CAAC;EAAE;EAG3E;EACA,IACWG,MAAMA,CAACH,KAAc;IAAI,IAAI,CAACI,OAAO,CAACF,IAAI,CAACF,KAAK,IAAI,IAAI,CAAC;EAAE;EAatElM,YAAA;IAjBU,KAAAmM,cAAc,GAAG,IAAIN,iDAAe,CAAS,IAAI,CAAC;IAKlD,KAAAS,OAAO,GAAG,IAAIT,iDAAe,CAAU,KAAK,CAAC;IAO/C,KAAAU,MAAM,GAAGb,qDAAM,CAACC,+DAAS,CAAC;IAC1B,KAAAa,gBAAgB,GAAGd,qDAAM,CAACD,2DAAgB,CAAC;IAC3C,KAAAgB,iBAAiB,GAAGf,qDAAM,CAACF,4DAAiB,CAAC;IAC3C,KAAAkB,eAAe,GAAGhB,qDAAM,CAACE,8EAAe,CAAC;IAGjD,IAAI,CAACe,QAAQ,GAAG,IAAI,CAACR,cAAc,CAACrL,IAAI,CACtCgL,+CAAS,CAACc,QAAQ,IAAI,IAAI,CAACF,eAAe,CAACG,IAAI,CAACD,QAAQ,CAAC,CAC1D,CAAC;IACF,IAAI,CAACE,KAAK,GAAGf,mDAAa,CAAC,CAAC,IAAI,CAACY,QAAQ,EAAE,IAAI,CAACL,OAAO,CAAC,CAAC,CAACxL,IAAI;IAC5D;IACApB,yCAAG,CAAC,CAAC,CAACqN,IAAI,EAACV,MAAM,CAAC,KAAKA,MAAM,KAAKU,IAAI,EAAErE,SAAS,IAAI,KAAK,CAAC,CAAC,CAC7D;EACH;EAEAsE,UAAUA,CAAA;IACRC,iBAAiB,CAAC,IAAI,CAACV,MAAM,EAAE,IAAI,CAACJ,cAAc,CAACD,KAAK,EAAE,IAAI,CAACM,gBAAgB,EAAE,IAAI,CAACC,iBAAiB,CAAC;EAC1G;EAAC,QAAA/G,CAAA;qBAjCUuG,oBAAoB;EAAA;EAAA,QAAAjG,EAAA;UAApBiG,oBAAoB;IAAAiB,MAAA;MAAA3B,aAAA;MAAAc,MAAA;IAAA;EAAA;;AAqC3B,SAAUY,iBAAiBA,CAACV,MAAiB,EAAEY,SAAiB,EAAEX,gBAAkC,EAAEC,iBAAoC;EAC9IF,MAAM,CAAChD,IAAI,CAACT,0GAA0B,EAAE;IACtCsE,SAAS,EAAE,KAAK;IAChBC,IAAI,EAAEF,SAAS;IACfX,gBAAgB,EAAEA,gBAAgB;IAClCc,KAAK,EAAE;GACR,CAAC;EAEFb,iBAAiB,CAACc,YAAY,EAAE;AAClC;;;;;;;;;;;;;;;;;;;AC1DyE;AAEd;AACJ;AACU;;;;;;;ICD3D5H,uDAAA,2BAAmF;;;;;IAAhEA,wDAAA,cAAAA,yDAAA,OAAA6H,MAAA,CAAAzE,UAAA,CAAA0E,OAAA,GAAA9H,4DAAA,CAA2C;;;ADc9D,MAAO+H,4BAA4B;EAGvC1N,YACkC+I,UAAmC,EAC3DC,SAAqD;IAD7B,KAAAD,UAAU,GAAVA,UAAU;IAClC,KAAAC,SAAS,GAATA,SAAS;IAJO,KAAA2E,SAAS,GAAG,kBAAkB;EAKpD;EAEJrF,WAAWA,CAACsF,OAAiB;IAC3B,IAAI,CAAC5E,SAAS,CAACU,KAAK,CAACkE,OAAO,CAAC;EAC/B;EAAC,QAAAlI,CAAA;qBAVUgI,4BAA4B,EAAA/H,+DAAA,CAI7BS,qEAAe,GAAAT,+DAAA,CAAAE,kEAAA;EAAA;EAAA,QAAAG,EAAA;UAJd0H,4BAA4B;IAAA9D,SAAA;IAAAiE,QAAA;IAAAC,YAAA,WAAAC,0CAAA1D,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAA5B1E,4DAAA,cAAA2E,GAAA,CAAAqD,SAAA,CAA4B;;;;;;;;;;QChBrChI,4DAFJ,eAAU,sBACS,qBACC;QAAAA,oDAAA,GAAgE;QAAAA,0DAAA,EAAiB;QACjGA,wDAAA,IAAAsI,mDAAA,+BAA0B;QAG5BtI,0DAAA,EAAkB;QAEhBA,4DADF,0BAA8B,gBACqD;QAAxBA,wDAAA,mBAAAuI,8DAAA;UAAA,OAAS5D,GAAA,CAAAhC,WAAA,EAAa;QAAA,EAAC;QAAC3C,oDAAA,aAAM;QAAAA,0DAAA,EAAS;QAChGA,4DAAA,gBAAqF;QAA5BA,wDAAA,mBAAAwI,8DAAA;UAAA,OAAS7D,GAAA,CAAAhC,WAAA,CAAY,IAAI,CAAC;QAAA,EAAC;QAAC3C,oDAAA,aAAM;QAE/FA,0DAF+F,EAAS,EACnF,EACV;;;QATSA,uDAAA,GAAgE;QAAhEA,gEAAA,YAAA2E,GAAA,CAAAvB,UAAA,CAAAsF,WAAA,QAAA/D,GAAA,CAAAvB,UAAA,CAAAuF,QAAA,OAAgE;QAChF3I,uDAAA,EAEC;QAFDA,2DAAA,IAAA2E,GAAA,CAAAvB,UAAA,CAAA0E,OAAA,UAEC;;;mBDQD7G,iEAAa,EAAAd,2DAAA,EAAAA,kEAAA,EAAAA,iEAAA,EAAAA,mEAAA,EAAAA,gEAAA,EACba,qEAAe,EAAAZ,+DAAA,EACfe,sEAAY;IAAAuE,MAAA;EAAA;;;;;;;;;;;;;;;;;;AEVuC;AACE;;;;AAYnD,MAAOoD,wBAAwB;EAGnCC,MAAMA,CAACjO,MAAmD;IACxD,IAAI,CAACA,MAAM,GAAGA,MAAM;EACtB;EAEAkO,OAAOA,CAAClO,MAAY;IAClB,OAAO,IAAI;EACb;EAEAmO,cAAcA,CAAA;IACZ,MAAMC,QAAQ,GAAiB,IAAI,CAACpO,MAAM,CAAC4M,IAAI;IAC/C,IAAI,CAAC5M,MAAM,CAACqO,QAAQ,CAACD,QAAQ,CAAC;EAChC;EAAC,QAAAnJ,CAAA;qBAdU+I,wBAAwB;EAAA;EAAA,QAAAzI,EAAA;UAAxByI,wBAAwB;IAAA7E,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAnE,iEAAA;IAAAqE,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAA4E,kCAAA1E,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCjBnC1E,4DADF,aAA+B,aACqE;QAA3BA,wDAAA,mBAAAqJ,uDAAA;UAAA,OAAS1E,GAAA,CAAAsE,cAAA,EAAgB;QAAA,EAAC;QAC/FjJ,4DAAA,eAAU;QAAAA,oDAAA,aAAM;QAEpBA,0DAFoB,EAAW,EACvB,EACF;;;mBDUF6I,mEAAe,EAAA3I,6DAAA,EACfa,iEAAa,EAAAZ,2DAAA;IAAAuF,MAAA;EAAA;;;;;;;;;;;;;;;;;AEXwD;;AASnE,MAAO6D,4BAA4B;EAIvCR,MAAMA,CAACjO,MAA2B;IAChC,IAAI,CAACyL,KAAK,GAAGzL,MAAM,CAACyL,KAAK;IACzB,IAAI,CAAC2C,QAAQ,GAAGpO,MAAM,CAAC4M,IAAI;EAC7B;EAEAsB,OAAOA,CAAClO,MAAY;IAClB,OAAO,IAAI;EACb;EAAC,QAAAiF,CAAA;qBAXUwJ,4BAA4B;EAAA;EAAA,QAAAlJ,EAAA;UAA5BkJ,4BAA4B;IAAAtF,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAnE,iEAAA;IAAAqE,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAgF,sCAAA9E,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCbzC1E,4DAAA,aAA0G;QACxGA,oDAAA,GACF;QAAAA,0DAAA,EAAM;;;QAFsDA,wDAArC,UAAA2E,GAAA,CAAAuE,QAAA,CAAAO,KAAA,CAAAzN,WAAA,CAAoC,mBAAA2I,GAAA,CAAAuE,QAAA,CAAAO,KAAA,CAAAzN,WAAA,CAA8C;QACvGgE,uDAAA,EACF;QADEA,gEAAA,MAAA2E,GAAA,CAAA4B,KAAA,OACF;;;mBDSYrF,8EAAc;IAAAwE,MAAA;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEV0F;AAC5D;AACoC;AACY;AAEhC;AACoB;AACX;AAE1B;AACF;AACM;AACF;AACA;AACE;AACO;AACX;AACsC;AACY;;;;;;;;;;;;;;;;;;ICFzF1F,4DAAA,qBAAwC;IACtCA,oDAAA,GACF;IAAAA,0DAAA,EAAa;;;;IAFDA,wDAAA,UAAA4K,cAAA,CAAArE,KAAA,CAA2B;IACrCvG,uDAAA,EACF;IADEA,gEAAA,MAAA4K,cAAA,CAAAlQ,IAAA,MACF;;;;;IALJsF,4DADF,wBAA0D,gBAC7C;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAY;IAC5BA,4DAAA,qBAAoG;IAClGA,8DAAA,IAAA8K,uEAAA,0BAAA9K,uEAAA,CAIC;IACDA,4DAAA,qBAA0C;IAAAA,oDAAA,eAAQ;IAEtDA,0DAFsD,EAAa,EACpD,EACE;IACjBA,4DAAA,qBAAgB;IACdA,oDAAA,mDACA;IAAAA,4DAAA,aAAkF;IAAAA,oDAAA,gBAAQ;IAC5FA,0DAD4F,EAAI,EAC/E;;;;;IAZqBA,uDAAA,GAA+D;IAA/DA,wDAAA,iBAAAgL,KAAA,CAAAC,YAAA,CAAAC,MAAA,yBAA+D;IACjGlL,uDAAA,EAIC;IAJDA,wDAAA,CAAAgL,KAAA,CAAAC,YAAA,CAIC;IACWjL,uDAAA,GAA6B;IAA7BA,wDAAA,UAAA4B,MAAA,CAAAuI,mBAAA,CAA6B;;;;;IAevCnK,4DAAA,qBAA6C;IAC3CA,oDAAA,GACF;IAAAA,0DAAA,EAAa;;;;IAFDA,wDAAA,UAAAoL,cAAA,CAAA3L,UAAA,CAAgC;IAC1CO,uDAAA,EACF;IADEA,gEAAA,MAAAoL,cAAA,CAAAtP,KAAA,MACF;;;;;IALJkE,4DAAA,oBACkE;IAChEA,8DAAA,IAAAqL,uEAAA,0BAAArL,uEAAA,CAIC;IACHA,0DAAA,EAAa;;;;IANXA,wDAAA,iBAAAgL,KAAA,CAAAM,YAAA,CAAAJ,MAAA,yBAA+D;IAC/DlL,uDAAA,EAIC;IAJDA,wDAAA,CAAAgL,KAAA,CAAAM,YAAA,CAIC;;;;;IAIHtL,uDAAA,eAAmE;;;;;IAcrEA,4DAAA,wBACmB;IACjBA,oDAAA,+BACF;IAAAA,0DAAA,EAAiB;;;IAFfA,wDAAA,iBAAgB;;;;;;IAvDtBA,4DAFJ,eAAU,sBACS,qBACC;IAAAA,oDAAA,sBAAe;IAAAA,0DAAA,EAAiB;IAChDA,4DAAA,wBAAmB;IACjBA,oDAAA,2FACI;IAAAA,4DAAA,WAAuD;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EAAI;IAAAA,oDAAA,SACrE;IACFA,0DADE,EAAoB,EACJ;IAEhBA,4DADF,uBAAkB,eACS;IAEvBA,wDAAA,KAAAuL,iEAAA,QAAyC;IAmBvCvL,4DADF,yBAA0D,iBAC7C;IAAAA,oDAAA,oBAAY;IAAAA,0DAAA,EAAY;IAWnCA,wDAVA,KAAAwL,iEAAA,wBAAyB,KAAAC,iEAAA,mBAUC;IAIxBzL,4DADF,cAAmB,iBAEyB;IAAxCA,wDAAA,mBAAA0L,4EAAA;MAAA1L,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAA+J,uBAAA,CAAwB,IAAI,CAAC;IAAA,EAAC;IACvC3L,4DAAA,gBAAU;IAAAA,oDAAA,cAAM;IAClBA,0DADkB,EAAW,EACpB;IACTA,4DAAA,iBAC2C;IAAzCA,wDAAA,mBAAA4L,4EAAA;MAAA5L,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAA+J,uBAAA,CAAwB,KAAK,CAAC;IAAA,EAAC;IACxC3L,4DAAA,gBAAU;IAAAA,oDAAA,mBAAW;IAG3BA,0DAH2B,EAAW,EACzB,EACL,EACS;IACjBA,wDAAA,KAAA6L,iEAAA,4BAAuF;IAO3F7L,0DADE,EAAO,EACU;IAEjBA,4DADF,2BAA2C,4BACuD;IAAtCA,wDAAA,oBAAA8L,uFAAAC,MAAA;MAAA/L,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAU4B,MAAA,CAAAoK,kBAAA,CAAAD,MAAA,CAA0B;IAAA,EAAC;IAC7F/L,oDAAA,IACF;IAAAA,0DAAA,EAAmB;IAEjBA,4DADF,WAAK,kBAC8E;IAAxBA,wDAAA,mBAAAiM,4EAAA;MAAAjM,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAAe,WAAA,EAAa;IAAA,EAAC;IAAC3C,oDAAA,cAAM;IAAAA,0DAAA,EAAS;IAChGA,4DAAA,kBAAqH;IAApBA,wDAAA,mBAAAkM,4EAAA;MAAAlM,2DAAA,CAAAuC,GAAA;MAAA,MAAAX,MAAA,GAAA5B,2DAAA;MAAA,OAAAA,yDAAA,CAAS4B,MAAA,CAAAqG,OAAA,EAAS;IAAA,EAAC;IAClHjI,oDAAA,iBACF;IAGNA,0DAHM,EAAS,EACL,EACW,EACV;;;;IAjEDA,uDAAA,IAAkB;IAAlBA,wDAAA,cAAA4B,MAAA,CAAAuK,IAAA,CAAkB;IAEtBnM,uDAAA,EAgBC;IAhBDA,2DAAA,KAAA4B,MAAA,CAAAwK,YAAA,IAAAxK,MAAA,CAAAyK,iBAAA,WAgBC;IAICrM,uDAAA,GASC;IATDA,2DAAA,KAAA4B,MAAA,CAAAyK,iBAAA,WASC;IACDrM,uDAAA,EAEC;IAFDA,2DAAA,MAAA4B,MAAA,CAAAyK,iBAAA,WAEC;IAEuCrM,uDAAA,GAA2C;IAA3CA,wDAAA,YAAAA,6DAAA,KAAAuM,GAAA,EAAA3K,MAAA,CAAAyK,iBAAA,EAA2C;IAI3CrM,uDAAA,GAA4C;IAA5CA,wDAAA,YAAAA,6DAAA,KAAAuM,GAAA,GAAA3K,MAAA,CAAAyK,iBAAA,EAA4C;IAMtFrM,uDAAA,GAKC;IALDA,2DAAA,KAAA4B,MAAA,CAAAuK,IAAA,CAAAK,QAAA,CAAA9N,WAAA,CAAA+N,OAAA,KAAA7K,MAAA,CAAAuK,IAAA,CAAAK,QAAA,CAAA9N,WAAA,CAAAgO,MAAA,kBAAA9K,MAAA,CAAAuK,IAAA,CAAAK,QAAA,CAAA9N,WAAA,CAAAgO,MAAA,CAAAC,QAAA,YAKC;IAI8B3M,uDAAA,GAAwB;IAAxBA,wDAAA,YAAA4B,MAAA,CAAAwK,YAAA,CAAwB;IACvDpM,uDAAA,EACF;IADEA,gEAAA,MAAA4B,MAAA,CAAAwK,YAAA,8BACF;IAG0EpM,uDAAA,GAAwB;IAAxBA,wDAAA,cAAA4B,MAAA,CAAAuK,IAAA,CAAAS,KAAA,CAAwB;;;AD3BlG,MAAOC,2BAA2B;EAYtCxS,YACUgJ,SAAoD,EACpDyJ,mBAAwC;IADxC,KAAAzJ,SAAS,GAATA,SAAS;IACT,KAAAyJ,mBAAmB,GAAnBA,mBAAmB;IAbH,KAAA9E,SAAS,GAAG,kBAAkB;IAGxD,KAAAmC,mBAAmB,GAAGA,iGAAmB;IAEzC,KAAAkC,iBAAiB,GAAG,IAAI;IACxB,KAAAD,YAAY,GAAG,KAAK;EAQhB;EAEJ5I,QAAQA,CAAA;IACN,IAAI,CAACuJ,aAAa,GAAG,IAAI7G,iDAAe,CAAgB,EAAE,CAAC;IAC3D,IAAI,CAAC8G,aAAa,GAAG,IAAI9G,iDAAe,CAAgB,EAAE,CAAC;IAE3D,IAAI,CAAC+G,SAAS,EAAE;IAChB,IAAI,CAACC,WAAW,EAAE;IAElB,IAAI,CAACzJ,UAAU,GAAG2C,mDAAa,CAAC,CAAC,IAAI,CAAC2G,aAAa,EAAE,IAAI,CAACC,aAAa,CAAC,CAAC,CAAC7R,IAAI,CAC5EpB,yCAAG,CAAC,CAAC,CAACuR,YAAY,EAAEL,YAAY,CAAC,KAAI;MACnC,MAAMkC,SAAS,GAAgC;QAC7C7B,YAAY;QACZL;OACD;MACD,OAAOkC,SAAS;IAClB,CAAC,CAAC,CACH;EACH;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACL,aAAa,CAACM,QAAQ,EAAE;IAC7B,IAAI,CAACL,aAAa,CAACK,QAAQ,EAAE;EAC/B;EAEA1K,WAAWA,CAACjE,WAAoB;IAC9B,IAAI,CAAC2E,SAAS,CAACU,KAAK,CAACrF,WAAW,CAAC;EACnC;EAEAiN,uBAAuBA,CAACU,iBAA0B;IAChD,IAAI,CAACA,iBAAiB,GAAGA,iBAAiB;EAC5C;EAEAL,kBAAkBA,CAACsB,KAA2B;IAC5C,IAAI,CAAClB,YAAY,GAAGkB,KAAK,CAACC,OAAO;EACnC;EAEAtF,OAAOA,CAAA;IACL,MAAMuF,UAAU,GAA2B,IAAI,CAACrB,IAAI,CAACsB,WAAW,EAAE;IAClE,IAAI,CAAC9K,WAAW,CAAC6K,UAAU,CAAC9O,WAAW,CAAC;EAC1C;EAEQuO,SAASA,CAAA;IACf,IAAI,CAACd,IAAI,GAAG,IAAIxC,4DAAgB,CAAC,EAAE,CAAC;IACpC,IAAI,CAACwC,IAAI,CAACuB,UAAU,CAAC,aAAa,EAAE,IAAIhE,8DAAkB,CAAC,IAAI,EAAE,CAACE,sDAAU,CAAC+C,QAAQ,CAAC,CAAC,CAAC;IACxF,IAAI,CAACR,IAAI,CAACuB,UAAU,CAAC,OAAO,EAAE,IAAIhE,8DAAkB,CAACU,yEAAY,CAACuD,MAAM,CAACC,OAAO,CAACrH,KAAK,CAAC,CAAC;IAExF,IAAI,CAAC4F,IAAI,CAACK,QAAQ,CAACqB,KAAK,CAACC,YAAY,CAAC3S,IAAI,CACxC8O,gDAAS,CAAC,IAAI,CAACkC,IAAI,CAACK,QAAQ,CAACqB,KAAK,CAACtH,KAAK,CAAC,EACzCyD,2DAAoB,EAAE,CACvB,CAAC+D,SAAS,CAAEC,QAAgB,IAAI;MAC/B;MACA,IAAI,IAAI,CAAC7B,IAAI,CAACK,QAAQ,CAAC9N,WAAW,CAAC6H,KAAK,IAAI,IAAI,EAAE;QAChD,IAAI,CAAC4F,IAAI,CAACK,QAAQ,CAAC9N,WAAW,CAACuP,UAAU,CAAC,IAAI,CAAC;;MAGjD;MACA,IAAID,QAAQ,KAAK7D,iGAAmB,EAAE;QACpC6D,QAAQ,GAAGE,MAAM,CAAC,mMAAmM,CAAC,IAAI9D,yEAAY,CAACuD,MAAM,CAACC,OAAO,CAACrH,KAAK;QAC3P,IAAI,CAAC,IAAI,CAACyG,aAAa,CAACzG,KAAK,CAAC4H,IAAI,CAAC5S,MAAM,IAAIA,MAAM,CAACgL,KAAK,KAAKyH,QAAQ,CAAC,EAAE;UACvE,MAAMI,cAAc,GAAgB;YAClC1T,IAAI,EAAEsT,QAAQ;YACdzH,KAAK,EAAEyH;WACR;UACD,IAAI,CAAChB,aAAa,CAACvG,IAAI,CAAC,CAAC2H,cAAc,EAAE,GAAG,IAAI,CAACpB,aAAa,CAACzG,KAAK,CAAC,CAAC;;QAExE,IAAI,CAAC4F,IAAI,CAACK,QAAQ,CAACqB,KAAK,CAACI,UAAU,CAACD,QAAQ,CAAC;OAC9C,MAAM;QACL,IAAI,CAACK,iBAAiB,CAACL,QAAQ,CAAC;;IAEpC,CAAC,CAAC;EACJ;EAEQK,iBAAiBA,CAACR,KAAa;IACrC,IAAI,CAACf,mBAAmB,CAACwB,oBAAoB,CAACT,KAAK,CAAC,CAACE,SAAS,CAACzC,YAAY,IAAG;MAC5E,IAAI,CAACyB,aAAa,CAACtG,IAAI,CAAC6E,YAAY,CAAC;IACvC,CAAC,CAAC;EACJ;EAEQ4B,WAAWA,CAAA;IACjB,IAAI,CAACJ,mBAAmB,CAACyB,SAAS,EAAE,CAACR,SAAS,CAACJ,MAAM,IAAG;MACtD,IAAI,CAACX,aAAa,CAACvG,IAAI,CAACkH,MAAM,CAAC;IACjC,CAAC,CAAC;EACJ;EAAC,QAAA5N,CAAA;qBAlGU8M,2BAA2B,EAAA7M,+DAAA,CAAAE,mEAAA,GAAAF,+DAAA,CAAAG,6EAAA;EAAA;EAAA,QAAAE,EAAA;UAA3BwM,2BAA2B;IAAA5I,SAAA;IAAAiE,QAAA;IAAAC,YAAA,WAAAqG,yCAAA9J,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAA3B1E,4DAAA,cAAA2E,GAAA,CAAAqD,SAAA,CAA2B;;;;;;;;;;QC3CxChI,wDAAA,IAAAyO,kDAAA,qBAAiC;;;;;QAAjCzO,2DAAA,KAAA6E,OAAA,GAAA7E,yDAAA,OAAA2E,GAAA,CAAAlB,UAAA,aAAAoB,OAAA,CA4EC;;;mBDjDG5D,kEAAa,EAAAb,4DAAA,EAAAA,mEAAA,EAAAA,mEAAA,EAAAA,kEAAA,EAAAA,oEAAA,EAAAA,iEAAA,EACbyJ,uDAAW,EAAA/E,4DAAA,EAAAA,gEAAA,EAAAA,2DAAA,EAAAA,gEAAA,EAAAA,6DAAA,EACXgF,+DAAmB,EAAAhF,8DAAA,EAAAA,2DAAA,EACnB2F,6EAAkB,EAAArF,uEAAA,EAAAA,mEAAA,EAAAA,oEAAA,EAClBoF,sEAAe,EAAAlF,gEAAA,EAAAE,8DAAA,EACf+E,oEAAe,EACfD,oEAAc,EAAAgF,8DAAA,EACdtO,sEAAe,EAAAwO,gEAAA,EAAAA,oEAAA,EACfnF,qDAAO,EACPtJ,kEAAa,EAAA2O,4DAAA,EACb3F,iFAAoB,EAAA4F,2EAAA,EACpB7O,uDAAS,EACT4J,kGAAkB,EAClBC,8GAA6B;IAAAjF,MAAA;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEvCiE;AACb;AAC3B;AACa;AACM;AACS;AACT;AAE5B;AACoD;AACjB;AAEI;AACN;AACb;AAEkC;AAEd;AAEc;AACH;AAEtB;AACrB;AACJ;AAC+E;AAC7E;AACI;AACuB;AACzB;AACgB;AACX;AAC1B;;;;;;;;;;;;;;ICrB1B1F,qDAAA,qDACF;;;;;IAMIA,wDAAA,SAAI;IAAAA,qDAAA,GACN;;;;IADMA,wDAAA,EACN;IADMA,iEAAA,iBAAAgL,KAAA,CAAAiG,OAAA,CAAAC,SAAA,MACN;;;;;IAEElR,wDAAA,SAAI;IAAAA,qDAAA,GACN;;;;IADMA,wDAAA,EACN;IADMA,iEAAA,eAAAgL,KAAA,CAAAiG,OAAA,CAAAE,OAAA,MACN;;;;;IAEEnR,wDAAA,SAAI;IAAAA,qDAAA,GACN;;;;IADMA,wDAAA,EACN;IADMA,iEAAA,iBAAAgL,KAAA,CAAAiG,OAAA,CAAAG,SAAA,MACN;;;;;IAEEpR,wDAAA,SAAI;IAAAA,qDAAA,GACN;;;;IADMA,wDAAA,EACN;IADMA,iEAAA,YAAAgL,KAAA,CAAAiG,OAAA,CAAAI,KAAA,MACN;;;;;IAdArR,qDAAA,mCACA;IAAAA,wDAAA,SAAI;IAAAA,qDAAA,GACJ;IAAAA,wDAAA,SAAI;IAAAA,qDAAA,GACJ;IASAA,yDATA,IAAAsR,qEAAA,OAA4B,IAAAC,qEAAA,OAGF,IAAAC,qEAAA,OAGE,IAAAC,qEAAA,OAGJ;;;;IAXpBzR,wDAAA,GACJ;IADIA,iEAAA,aAAAgL,KAAA,CAAAiG,OAAA,CAAAS,MAAA,MACJ;IAAI1R,wDAAA,GACJ;IADIA,iEAAA,iBAAAgL,KAAA,CAAAiG,OAAA,CAAAU,UAAA,MACJ;IAAA3R,wDAAA,EAEC;IAFDA,4DAAA,IAAAgL,KAAA,CAAAiG,OAAA,CAAAC,SAAA,UAEC;IACDlR,wDAAA,EAEC;IAFDA,4DAAA,IAAAgL,KAAA,CAAAiG,OAAA,CAAAE,OAAA,UAEC;IACDnR,wDAAA,EAEC;IAFDA,4DAAA,IAAAgL,KAAA,CAAAiG,OAAA,CAAAG,SAAA,UAEC;IACDpR,wDAAA,EAEC;IAFDA,4DAAA,IAAAgL,KAAA,CAAAiG,OAAA,CAAAI,KAAA,UAEC;;;;;;IAWHrR,6DAAA,iBAC6B;IAA3BA,yDAAA,mBAAA4R,gFAAA;MAAA5R,4DAAA,CAAA6R,GAAA;MAAA,MAAAC,MAAA,GAAA9R,4DAAA;MAAA,OAAAA,0DAAA,CAAS8R,MAAA,CAAAC,cAAA,EAAgB;IAAA,EAAC;IAC1B/R,6DAAA,eAAU;IAAAA,qDAAA,UAAG;IACfA,2DADe,EAAW,EACjB;;;;;IAmBCA,wDAAA,cAE2D;;;;;IADzDA,yDADsC,cAAAA,0DAAA,OAAAgS,iBAAA,CAAAC,IAAA,GAAAjS,6DAAA,CAA4C,mBAAAgS,iBAAA,CAAAE,OAAA,CACzC;;;;;IAG3ClS,6DAAA,eAAU;IAAAA,qDAAA,UAAG;IAAAA,2DAAA,EAAW;;;;;;IAP5BA,6DAAA,iBAC2C;IAAzCA,yDAAA,mBAAAmS,uFAAA;MAAA,MAAAH,iBAAA,GAAAhS,4DAAA,CAAAoS,GAAA,EAAAC,SAAA;MAAA,MAAAP,MAAA,GAAA9R,4DAAA;MAAA,OAAAA,0DAAA,CAAS8R,MAAA,CAAAC,cAAA,CAAAC,iBAAA,CAA8B;IAAA,EAAC;IAKtChS,yDAJF,IAAAsS,4EAAA,kBAA2B,IAAAC,4EAAA,OAIlB;IAGXvS,2DAAA,EAAS;;;;;IAPPA,wDAAA,EAMC;IANDA,4DAAA,IAAAgS,iBAAA,CAAAC,IAAA,SAMC;;;;;;IArBTjS,6DAAA,6BACoC;IAAlCA,yDAAA,wBAAAwS,iGAAAzG,MAAA;MAAA/L,4DAAA,CAAAyS,GAAA;MAAA,MAAAX,MAAA,GAAA9R,4DAAA;MAAA,OAAAA,0DAAA,CAAc8R,MAAA,CAAAY,UAAA,CAAA3G,MAAA,CAAkB;IAAA,EAAC;IAG7B/L,6DAFJ,qCAA0C,iBACxB,mBACY;IAAAA,qDAAA,GAAkC;IAEhEA,2DAFgE,EAAW,EAChE,EACkB;IAE3BA,6DADF,qCAAmE,iBAEpC;IAA3BA,yDAAA,mBAAA2S,gFAAA;MAAA3S,4DAAA,CAAAyS,GAAA;MAAA,MAAAX,MAAA,GAAA9R,4DAAA;MAAA,OAAAA,0DAAA,CAAS8R,MAAA,CAAAC,cAAA,EAAgB;IAAA,EAAC;IAC1B/R,6DAAA,eAAU;IAAAA,qDAAA,aAAM;IAClBA,2DADkB,EAAW,EACpB;IACTA,+DAAA,IAAA4S,8DAAA,sBAAA5S,wEAAA,CAWC;IAELA,2DADE,EAA6B,EACV;;;;IAzB8BA,yDAAA,YAAAA,8DAAA,IAAAuM,GAAA,EAAAvB,KAAA,CAAA6H,OAAA,EAAwC;IAE7D7S,wDAAA,EAAa;IAAbA,yDAAA,cAAa;IAEXA,wDAAA,GAAkC;IAAlCA,gEAAA,CAAAgL,KAAA,CAAA6H,OAAA,mBAAkC;IAQ9D7S,wDAAA,GAWC;IAXDA,yDAAA,CAAAgL,KAAA,CAAA8H,eAAA,CAWC;;;;;;IAnEP9S,6DAFJ,aAA8C,aACb,aACS;IACpCA,qDAAA,GACF;IAAAA,2DAAA,EAAM;IACNA,6DAAA,gBAAqE;IAAxBA,yDAAA,mBAAA+S,iEAAA;MAAA/S,4DAAA,CAAAuC,GAAA;MAAA,MAAAuP,MAAA,GAAA9R,4DAAA;MAAA,OAAAA,0DAAA,CAAS8R,MAAA,CAAAnP,WAAA,EAAa;IAAA,EAAC;IAClE3C,6DAAA,eAAU;IAAAA,qDAAA,YAAK;IAEnBA,2DAFmB,EAAW,EACnB,EACL;IAEJA,6DADF,aAAsD,QACjD;IAIDA,yDAHA,IAAAgT,sDAAA,OAAmB,KAAAC,uDAAA,OAGZ;IAiBTjT,2DAAA,EAAI;IACJA,wDAAA,qBAA+B;IAC/BA,6DAAA,cAA0B;IACxBA,wDAAA,0BACkB;IAEtBA,2DADE,EAAM,EACF;IACNA,6DAAA,6BAAgC;IAO9BA,yDANA,KAAAkT,uDAAA,oBAAuC,KAAAC,uDAAA,iCAMF;IA6BzCnT,2DADE,EAAqB,EACjB;;;;;IAvEAA,wDAAA,GACF;IADEA,iEAAA,MAAA8R,MAAA,CAAAsB,KAAA,oBACF;IAOEpT,wDAAA,GAmBC;IAnBDA,4DAAA,KAAAgL,KAAA,CAAAiG,OAAA,UAmBC;IAI0CjR,wDAAA,GAAuB;IAACA,yDAAxB,YAAAgL,KAAA,CAAA9B,QAAA,CAAuB,gBAAA4I,MAAA,CAAAuB,WAAA,CAA4B;IAKhGrT,wDAAA,GAKC;IALDA,4DAAA,KAAAgL,KAAA,CAAA8H,eAAA,CAAA5H,MAAA,iBAKC;IACDlL,wDAAA,EA2BC;IA3BDA,4DAAA,KAAAgL,KAAA,CAAA8H,eAAA,CAAA5H,MAAA,eA2BC;;;ADrCP,MAAMoI,OAAO,GAAG,KAAK;AAwBf,MAAOC,iBAAkB,SAAQlD,6GAA4B;EAmBjEhW,YACYmZ,MAAc,EACdC,KAAqB,EACvBpQ,SAA0C,EAC1CC,QAAqB,EACrBsD,MAAiB,EACjBC,gBAAkC,EAClCC,iBAAoC;IAE5C,KAAK,CAAC0M,MAAM,EAAEC,KAAK,EAAE,IAAI3C,kEAAS,CAAC,mBAAmB,EAAEwC,OAAO,CAAC,CAAC;IARvD,KAAAE,MAAM,GAANA,MAAM;IACN,KAAAC,KAAK,GAALA,KAAK;IACP,KAAApQ,SAAS,GAATA,SAAS;IACT,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAsD,MAAM,GAANA,MAAM;IACN,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,iBAAiB,GAAjBA,iBAAiB;IAzB3B,KAAAuM,WAAW,GAAG,IAAI,CAACK,gBAAgB,EAAE;IAE7B,KAAAC,eAAe,GAAG3C,iDAAS,CAACb,qFAAe,CAAC;IAC5C,KAAAyD,eAAe,GAAG5C,iDAAS,CAACZ,yDAAe,CAAC;IAC5C,KAAAyD,mBAAmB,GAAG7C,iDAAS,CAACd,8FAAmB,CAAC;IAIpD,KAAA4D,YAAY,GAAG,IAAI5N,kDAAe,CAAc;MAAE6N,KAAK,EAAE,EAAE;MAAEC,eAAe,EAAE;IAAE,CAAiB,CAAC;IAClG,KAAAC,QAAQ,GAAG,IAAI/N,kDAAe,CAAqBgO,SAAS,CAAC;IAC7D,KAAAC,QAAQ,GAAG,IAAIjO,kDAAe,CAAC,KAAK,CAAC;IACrC,KAAAkO,UAAU,GAAGC,QAAQ,CAAC,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAAC1Z,GAAG,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC;IACzE,KAAA2Z,OAAO,GAAG,IAAI,CAACf,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAAC1Z,GAAG,CAAC,SAAS,CAAoB;IACxE,KAAA4Z,GAAG,GAAG,IAAI,CAAChB,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAAC1Z,GAAG,CAAC,KAAK,CAAC;IACrD,KAAAuY,KAAK,GAAGsB,kBAAkB,CAAC,IAAI,CAACjB,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAAC1Z,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACnE,KAAA+B,qBAAqB,GAAG,IAAI,CAAC6W,KAAK,CAACa,QAAQ,CAACC,QAAQ,CAAC1Z,GAAG,CAAC,uBAAuB,CAAC;EAazF;EAEA2I,QAAQA,CAAA;IACN,IAAI,CAACmR,QAAQ,EAAE;IACf,IAAI,CAACC,aAAa,EAAE;IACpB,IAAI,CAACC,aAAa,CAACtV,GAAG,CACpB,IAAI,CAACuV,kBAAkB,EAAE,CAAC/G,SAAS,CAAC,MAAK;MAAG,IAAI,CAAC6G,aAAa,EAAE;IAAE,CAAC,CAAC,CACrE;IAED,MAAMG,eAAe,GAAG,IAAI,CAACC,GAAG,CAACC,KAAK,CAAC,eAAe,CAAC;IACvD,IAAI,CAACnB,YAAY,CAAC/F,SAAS,CAAEmH,GAAG,IAAI;MAClC,IAAI,CAACF,GAAG,CAACG,CAAC,CAAC,UAAU,EAAE;QAAED;MAAG,CAAE,CAAC;IACjC,CAAC,CAAC;IAEF,MAAME,aAAa,GAAG,IAAI,CAACtB,YAAY,CAAC3Y,IAAI,CAC1C4Z,eAAe,CAAC5Z,IAAI,EAAE,EACtBpB,0CAAG,CAAEmb,GAAG,IAAKA,GAAG,CAAClB,eAAe,CAACqB,MAAM,CAACC,CAAC,IAAIJ,GAAG,CAACnB,KAAK,CAACsB,MAAM,CAACE,CAAC,IAAIA,CAAC,CAAC9L,KAAK,CAAC7K,EAAE,KAAK0W,CAAC,CAAC1W,EAAE,CAAC,CAACsM,MAAM,GAAGoK,CAAC,CAACE,KAAK,CAAC,CAAC,EAC1GT,eAAe,CAAChb,GAAG,EAAE,CACtB;IAED,MAAM0b,YAAY,GAAG,IAAI,CAACT,GAAG,CAACC,KAAK,CAAC,YAAY,CAAC;IACjD,IAAI,CAACxR,UAAU,GAAG2C,oDAAa,CAAC,CAAC,IAAI,CAAC0N,YAAY,EAAEsB,aAAa,EAAE,IAAI,CAACnB,QAAQ,EAAE,IAAI,CAACE,QAAQ,CAAC,CAAC,CAAChZ,IAAI,CACpGsa,YAAY,CAACta,IAAI,EAAE,EACnBpB,0CAAG,CAAC,CAAC,CAACmP,QAAQ,EAAE4J,eAAe,EAAE7B,OAAO,EAAE4B,OAAO,CAAC,KAAI;MACpD,MAAM1F,SAAS,GAAsB;QACnCjE,QAAQ,EAAEA,QAAQ,CAAC6K,KAAK;QACxBjB,eAAe;QACf7B,OAAO;QACP4B;OACD;MACD,OAAO1F,SAAS;IAClB,CAAC,CAAC,EACFsI,YAAY,CAAC1b,GAAG,EAAE,CACnB;EACH;EAEAqT,WAAWA,CAAA;IACT,IAAI,CAAC4H,GAAG,CAACG,CAAC,CAAC,YAAY,CAAC;IACxB,IAAI,CAACrB,YAAY,CAACzG,QAAQ,EAAE;IAC5B,IAAI,CAAC4G,QAAQ,CAAC5G,QAAQ,EAAE;IACxB,IAAI,CAAC8G,QAAQ,CAAC9G,QAAQ,EAAE;IACxB,KAAK,CAACD,WAAW,EAAE;EACrB;EAEAzK,WAAWA,CAAA;IACT,IAAI,CAACU,SAAS,CAACU,KAAK,EAAE;EACxB;EAEA2O,UAAUA,CAAC9O,IAAa;IACtB,IAAI,CAACuQ,QAAQ,CAAC1N,IAAI,CAAC7C,IAAI,CAAC;EAC1B;EAEAmO,cAAcA,CAAC2D,cAAuC;IACpD,IAAIA,cAAc,EAAE;MAClB;MACA,IAAI,CAACA,cAAc,CAACxD,OAAO,EAAE;QAC3B5K,2FAAiB,CAAC,IAAI,CAACV,MAAM,EAAE8O,cAAc,CAACC,cAAc,EAAE,IAAI,CAAC9O,gBAAgB,EAAE,IAAI,CAACC,iBAAiB,CAAC;QAC5G;;MAEF;MACA,IAAI4O,cAAc,CAACE,WAAW,EAAE;QAC9B,IAAI,CAACtS,QAAQ,CAACM,IAAI,CAAC,YAAY8R,cAAc,CAACG,IAAI,KAAK,CAAC;QACxD,IAAI,CAAClC,eAAe,CAACmC,MAAM,CAACJ,cAAc,CAAC9W,EAAE,EAAE;UAAEmX,GAAG,EAAE,IAAI,CAACC,gBAAgB;QAAE,CAAE,CAAC,CAACjI,SAAS,CAAC;UACzFkI,KAAK,EAAEA,CAAA,KAAK;YACV,IAAI,CAAC3S,QAAQ,CAACM,IAAI,CAAC,YAAY8R,cAAc,CAACG,IAAI,6CAA6C,EAAE3B,SAAS,EAAE;cAAErQ,QAAQ,EAAE;YAAI,CAAE,CAAC;YAC/H,IAAI,CAAC+Q,aAAa,EAAE;UACtB,CAAC;UACDnO,IAAI,EAAEA,CAAA,KAAK;YACT,IAAI,CAACnD,QAAQ,CAACM,IAAI,CAAC,WAAW8R,cAAc,CAACG,IAAI,EAAE,EAAE3B,SAAS,EAAE;cAAErQ,QAAQ,EAAE;YAAI,CAAE,CAAC;YACnF,IAAI,CAAC+Q,aAAa,EAAE;UACtB;SACD,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACsB,kBAAkB,CAACR,cAAc,CAAC9W,EAAE,CAAC;;MAE5C;;IAEF,MAAMuX,iBAAiB,GAAG,IAAI,CAACvP,MAAM,CAAChD,IAAI,CAACiJ,8GAA2B,EAAE;MACtEpF,SAAS,EAAE,KAAK;MAChBZ,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;MACvCc,KAAK,EAAE;KACR,CAAC;IACFwO,iBAAiB,CAACC,WAAW,EAAE,CAACrI,SAAS,CAAErP,WAAoB,IAAI;MACjE,IAAIA,WAAW,IAAI,IAAI,EAAE;MACzB,IAAI,CAACwX,kBAAkB,CAACxX,WAAW,CAAC;IACtC,CAAC,CAAC;EACJ;EAEQwX,kBAAkBA,CAACxX,WAAmB;IAC5C,MAAMyN,IAAI,GAAa;MACrBkK,KAAK,EAAE,CAAC;QACNC,eAAe,EAAE5X,WAAW;QAC5BqX,GAAG,EAAE,IAAI,CAACC,gBAAgB;OAC3B;KACF;IACD,MAAMO,OAAO,GAAG/F,iFAAgB,CAACrE,IAAI,CAAC;IACtC,IAAI,CAACqH,MAAM,CAACgD,QAAQ,CAAC,CAAC,QAAQD,OAAO,EAAE,CAAC,EAAE;MAAEE,UAAU,EAAE,IAAI,CAAChD;IAAK,CAAE,CAAC;IACrE,IAAI,CAAC3M,iBAAiB,CAACc,YAAY,EAAE;EACvC;EAEQoO,gBAAgBA,CAAA;IACtB,MAAM/E,OAAO,GAAW;MACtBS,MAAM,EAAEgF,MAAM,CAACC,MAAM,CAACvM,yEAAY,CAAClB,QAAQ,CAAC,CAAC0N,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACzC,UAAU,KAAK,IAAI,CAACA,UAAU,CAAC,EAAE0C,MAAM,IAAI,IAAI,CAAC1C,UAAU,CAACnZ,QAAQ,EAAE;MAC9H0W,UAAU,EAAE,IAAI,CAACyC,UAAU;MAC3B,IAAI,IAAI,CAACI,OAAO,KAAKpK,yEAAY,CAAC2M,QAAQ,CAACC,IAAI,IAAI;QAAEC,IAAI,EAAE,IAAI,CAACxC;MAAG,CAAE,CAAC;MACtE,IAAI,IAAI,CAACD,OAAO,KAAKpK,yEAAY,CAAC2M,QAAQ,CAACG,MAAM,IAAI;QAAEC,MAAM,EAAE9C,QAAQ,CAAC,IAAI,CAACI,GAAG,EAAE,EAAE;MAAC,CAAE,CAAC;MACxF,IAAI,IAAI,CAACD,OAAO,KAAKpK,yEAAY,CAAC2M,QAAQ,CAACK,MAAM,IAAI;QAAEC,MAAM,EAAE,IAAI,CAAC5C;MAAG,CAAE;KAC1E;IACD,OAAOxD,OAAO;EAChB;EAEQ0D,QAAQA,CAAA;IACd,IAAI,CAAC,IAAI,CAAC/X,qBAAqB,EAAE;MAAE;;IAEnC,IAAI,CAACiX,mBAAmB,CAACyD,MAAM,CAAC,IAAI,CAAC1a,qBAAqB,CAAC,CAACmR,SAAS,CAACsI,KAAK,IAAG;MAC5E,MAAMpX,IAAI,GAAGoX,KAAK,CAACO,IAAI,CAACrB,CAAC,IAAIA,CAAC,CAAC0B,IAAI,KAAK,IAAI,CAACxC,GAAG,CAAC;MACjD,IAAIxV,IAAI,EAAE8W,GAAG,EAAE;QACb,IAAI,CAAC9B,QAAQ,CAACxN,IAAI,CAACxH,IAAI,CAAC8W,GAAG,CAAC;;IAEhC,CAAC,CAAC;EACJ;EAEQnB,aAAaA,CAAA;IACnB,MAAM2C,cAAc,GAAG,IAAI,CAACvC,GAAG,CAACC,KAAK,CAAC,aAAa,CAAC;IACpD,IAAI,CAACrB,eAAe,CAAC4D,WAAW,CAAC,IAAI,CAACpD,UAAU,EAAE,IAAI,CAACI,OAAO,EAAE,IAAI,CAACC,GAAG,CAAC,CACtEtZ,IAAI,CACHoc,cAAc,CAACpc,IAAI,EAAE,EACrB8U,2CAAI,CAAC,CAAC,CAAC,EACPlW,0CAAG,CAACmP,QAAQ,IAAG;MACbA,QAAQ,CAAC8K,eAAe,CAACyD,OAAO,CAACnC,CAAC,IAAG;QACnC,IAAIA,CAAC,CAACrD,IAAI,EAAEyF,UAAU,CAAC,SAAS,CAAC,EAAE;UACjCpC,CAAC,CAACrD,IAAI,GAAGqD,CAAC,CAACrD,IAAI,CAAC0F,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;UACtCrC,CAAC,CAACrD,IAAI,GAAGnO,MAAM,CAAC8T,IAAI,CAACtC,CAAC,CAACrD,IAAI,CAAC;UAC5B;UACAqD,CAAC,CAACrD,IAAI,GAAGqD,CAAC,CAACrD,IAAI,CAAC0F,OAAO,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;;MAE/D,CAAC,CAAC;MACF,OAAOzO,QAAQ;IACjB,CAAC,CAAC,EACFqO,cAAc,CAACxd,GAAG,EAAE;IAEtB;IACA;IACA;IACA;IAAA,CACCgU,SAAS,CAACrG,IAAI,IAAI,IAAI,CAACoM,YAAY,CAACrN,IAAI,CAACiB,IAAI,CAAC,CAAC;EACpD;EAEQmQ,YAAYA,CAAC3O,QAAsB;IACzC,MAAMiD,IAAI,GAAa;MACrBkK,KAAK,EAAE,CAAC;QAAEyB,QAAQ,EAAE5O,QAAQ,CAACtK;MAAE,CAAE;KAClC;IACD,MAAM2X,OAAO,GAAG/F,iFAAgB,CAACrE,IAAI,CAAC;IACtC,IAAI,CAACqH,MAAM,CAACgD,QAAQ,CAAC,CAAC,QAAQD,OAAO,EAAE,CAAC,EAAE;MAAEE,UAAU,EAAE,IAAI,CAAChD;IAAK,CAAE,CAAC;EACvE;EAEQxK,cAAcA,CAACC,QAAsB,EAAE6O,SAAS,GAAG,KAAK;IAC9D,IAAI,CAACA,SAAS,EAAE;MACd,MAAMrQ,IAAI,GAA4B;QACpCiB,QAAQ,EAAEO,QAAQ,CAACtK,EAAE;QACrB8J,WAAW,EAAEQ,QAAQ,CAACmI,KAAK;QAC3BvJ,OAAO,EAAE,IAAI,CAACgM,YAAY,CAACvN,KAAK,CAACyN,eAAe,CAAC4C,IAAI,CAACtB,CAAC,IAAIA,CAAC,CAAC1W,EAAE,KAAKsK,QAAQ,CAACO,KAAK,CAAC7K,EAAE,CAAC,EAAEoZ;OACzF;MACD,MAAMC,qBAAqB,GAAG,IAAI,CAACrR,MAAM,CAAChD,IAAI,CAACmE,gHAA4B,EAAE;QAC3EN,SAAS,EAAE,KAAK;QAChBC,IAAI;QACJb,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;QACvCc,KAAK,EAAE;OACR,CAAC;MACFsQ,qBAAqB,CAAC7B,WAAW,EAAE,CAACrI,SAAS,CAAEmK,WAAoB,IAAI;QACrE,IAAIA,WAAW,EACb,IAAI,CAACjP,cAAc,CAACC,QAAQ,EAAE,IAAI,CAAC;MACvC,CAAC,CAAC;MACF;;IAGF,IAAI,CAAC5F,QAAQ,CAACM,IAAI,CAAC,aAAa,CAAC;IACjC,IAAI,CAAC+P,eAAe,CAACvU,MAAM,CAAC8J,QAAQ,CAACO,KAAK,CAAC7K,EAAE,EAAEsK,QAAQ,CAACtK,EAAE,EAAE,KAAK,CAAC,CAACmP,SAAS,CAAC;MAC3EtH,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAACnD,QAAQ,CAACM,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE;UAAEC,QAAQ,EAAE;QAAI,CAAE,CAAC;QACvD,IAAI,CAAC+Q,aAAa,EAAE;MACtB,CAAC;MACDqB,KAAK,EAAEA,CAAA,KAAK;QACV,IAAI,CAAC3S,QAAQ,CAACM,IAAI,CAAC,0DAA0D,EAAE,IAAI,EAAE;UAAEC,QAAQ,EAAE;QAAI,CAAE,CAAC;MAC1G;KACD,CAAC;EACJ;EAEQ6P,gBAAgBA,CAAA;IACtB,MAAML,WAAW,GAAgB;MAC/B,GAAG9C,gGAAkB;MACrB4H,UAAU,EAAE,CACV;QACE,GAAGpH,kFAAiB,CAACnS,EAAE;QACvBwZ,YAAY,EAAE9H,4FAAgB;QAC9B+H,kBAAkB,EAAE,CAAC,MAAK;UACxB,MAAMvd,MAAM,GAAgC;YAC1Cwd,aAAa,EAAGpP,QAAsB,IAAK,OAAOA,QAAQ,CAACtK,EAAE,WAAWsK,QAAQ,CAAC+N,IAAI;WACtF;UACD,OAAOnc,MAAM;QACf,CAAC,EAAC;OACH,EACD;QACE,GAAGiW,kFAAiB,CAACwH,QAAQ;QAC7BzY,KAAK,EAAE,OAAO;QACd0Y,aAAa,EAAG1d,MAAM,IAAI;UACxB,MAAMoO,QAAQ,GAAiBpO,MAAM,CAAC4M,IAAI;UAC1C,IAAI,CAACmQ,YAAY,CAAC3O,QAAQ,CAAC;QAC7B;OACD,EACD;QACE,GAAG6H,kFAAiB,CAACwH,QAAQ;QAC7BE,UAAU,EAAE,cAAc;QAC1B3Y,KAAK,EAAE,aAAa;QACpB4Y,WAAW,EAAG5d,MAAM,IAAI;UACtB,MAAMoO,QAAQ,GAAiBpO,MAAM,CAAC4M,IAAI;UAC1C,OAAO,GAAGwB,QAAQ,CAACO,KAAK,CAACoM,IAAI,GAAG3M,QAAQ,CAACO,KAAK,CAAC4H,KAAK,KAAKnI,QAAQ,CAACO,KAAK,CAACoM,IAAI,GAAG,KAAK3M,QAAQ,CAACO,KAAK,CAAC4H,KAAK,GAAG,GAAG,EAAE,EAAE;QACpH,CAAC;QACD+G,YAAY,EAAE7O,iHAA4BA;OAC3C,EACD;QACE,GAAGwH,kFAAiB,CAAC4H,mBAAmB;QACxCP,YAAY,EAAEtP,kGAAwB;QACtCuP,kBAAkB,EAAE,CAAC,MAAK;UACxB,MAAMvd,MAAM,GAA0B;YACpCqO,QAAQ,EAAGD,QAAQ,IAAK,IAAI,CAACD,cAAc,CAACC,QAAQ;WACrD;UACD,OAAOpO,MAAM;QACf,CAAC,EAAC;OACH;KAEJ;IACD,OAAOuY,WAAW;EACpB;EAAC,QAAAtT,CAAA;qBAvQUwT,iBAAiB,EAAAvT,gEAAA,CAAAE,oDAAA,GAAAF,gEAAA,CAAAE,4DAAA,GAAAF,gEAAA,CAAAG,mEAAA,GAAAH,gEAAA,CAAAI,qEAAA,GAAAJ,gEAAA,CAAAG,gEAAA,GAAAH,gEAAA,CAAAA,4DAAA,GAAAA,gEAAA,CAAAA,6DAAA;EAAA;EAAA,QAAAK,EAAA;UAAjBkT,iBAAiB;IAAAtP,SAAA;IAAAC,UAAA;IAAAC,QAAA,GAAAnE,iEAAA,CAJjB,CACToQ,yDAAe,CAChB,GAAApQ,yEAAA,EAAAA,kEAAA;IAAAqE,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAsU,2BAAApU,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QC1DH1E,yDAAA,IAAA+Y,wCAAA,kBAAiC;;;;;QAAjC/Y,4DAAA,KAAA6E,OAAA,GAAA7E,0DAAA,OAAA2E,GAAA,CAAAlB,UAAA,aAAAoB,OAAA,CA4EC;;;mBDjCG7D,sEAAe,EAAA8D,oEAAA,EAAAA,uEAAA,EAAAA,mEAAA,EACf/D,kEAAa,EAAAqE,4DAAA,EACb4K,0DAAY,EACZa,2FAAa,EAAAvL,sEAAA,EACbuK,uEAAgB,EAChBa,6EAAwB,EACxBrG,qDAAO,EACPsG,oFAA+B,EAC/BC,oFAA+B,EAC/BH,oEAAc,EAAAjL,8DAAA,EACd1E,uDAAS,EACTK,uEAAY;IAAAuE,MAAA;EAAA;;;;;;;;;;;;;;;;AErDkE;AAE5E,MAAO0T,eAAe;EAAA,QAAArZ,CAAA,GAEnB,KAAA0T,KAAK,GAAU;IACpB4F,IAAI,EAAE,uCAAuC;IAC7CC,YAAY,EAAEA,CAAA,KAAM,2LAA+B,CAACC,IAAI,CAAC1C,CAAC,IAAIA,CAAC,CAAC2C,gBAAgB,CAAC;IACjF;IACA9R,IAAI,EAAE;MAAE0L,KAAK,EAAE;IAAa;GAC7B;EAED,OAAOqG,MAAMA,CAACrF,UAAkB,EAAEI,OAAwB,EAAEC,GAAW;IACrE,OAAO,eAAeL,UAAU,IAAII,OAAO,IAAIC,GAAG,EAAE;EACtD;EAEA,OAAOiF,SAASA,CAAC1e,KAAa;IAC5B,OAAO,IAAI,CAACye,MAAM,CAACrP,yEAAY,CAAClB,QAAQ,CAACyQ,GAAG,CAACvF,UAAU,EAAEhK,yEAAY,CAAClB,QAAQ,CAACyQ,GAAG,CAACnF,OAAO,EAAExZ,KAAK,CAACC,QAAQ,EAAE,CAAC;EAC/G;EAEA,OAAO2e,eAAeA,CAAC/Z,EAAU;IAC/B,OAAO,IAAI,CAAC4Z,MAAM,CAACrP,yEAAY,CAAClB,QAAQ,CAAC2Q,SAAS,CAACzF,UAAU,EAAEhK,yEAAY,CAAClB,QAAQ,CAAC2Q,SAAS,CAACrF,OAAO,EAAE3U,EAAE,CAAC5E,QAAQ,EAAE,CAAC;EACxH;EAEA;EACA,OAAO6e,iBAAiBA,CAAC9C,IAAY;IACnC,OAAO,IAAI,CAAC+C,YAAY,CAAC/C,IAAI,CAAC;EAChC;EAEA,OAAO+C,YAAYA,CAAC/C,IAAY;IAC9B,OAAO,IAAI,CAACyC,MAAM,CAACrP,yEAAY,CAAClB,QAAQ,CAAC8Q,MAAM,CAAC5F,UAAU,EAAEhK,yEAAY,CAAClB,QAAQ,CAAC8Q,MAAM,CAACxF,OAAO,EAAEwC,IAAI,CAAC;EACzG;EAEA,OAAOiD,cAAcA,CAACpa,EAAU;IAC9B,OAAO,IAAI,CAAC4Z,MAAM,CAACrP,yEAAY,CAAClB,QAAQ,CAACgR,QAAQ,CAAC9F,UAAU,EAAEhK,yEAAY,CAAClB,QAAQ,CAACgR,QAAQ,CAAC1F,OAAO,EAAE3U,EAAE,CAAC;EAC3G;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCkC;AACM;AACE;AACN;AACE;AACxC;AAC4C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AELrC,MAAMsa,iBAAiB,GAAiB;EAC7Czf,IAAI,EAAE,wBAAwB;EAC9B0f,WAAW,EAAE,IAAI;EACjBC,SAAS,EAAE,OAAO;EAClBC,UAAU,EAAE,IAAI;EAEVC,YAAYA,CAAA;IAAA,OAAAC,6HAAA;MAChB,MAAM;QAAEC;MAAoB,CAAE,SAAS,6mBAAiC;MACxE,OAAOA,oBAAoB;IAAC;EAC9B;CACD;;;;;;;;;;;;;;;;;ACX+F;AAChC;AACN;AAEnD,MAAMjB,gBAAgB,GAAW,CACtC;EACEH,IAAI,EAAE,EAAE;EACRuB,SAAS,EAAEF,wGAAoB;EAC/BhT,IAAI,EAAE;IAAEd,MAAM,EAAEuT,yEAAiBA;EAAA,CAAE;EACnCU,QAAQ,EAAEF,kEAAkBA;CAC7B,CACF;;;;;;;;;;;;;;;;;ACZ2D;AAEM;;;;;;;;;ICE1D3a,gEAAA,GAAyD;;;;;IAD3DA,4DAAA,eAAU;IACRA,wDAAA,IAAAgb,iDAAA,0BAA0C;IAC5Chb,0DAAA,EAAW;;;;;IADMA,uDAAA,EAAyB;IAAzBA,wDAAA,qBAAAib,UAAA,CAAyB;;;;;IAKxCjb,gEAAA,GAAyD;;;;;IAD3DA,4DAAA,gBAAW;IACTA,wDAAA,IAAAkb,iDAAA,0BAA0C;IAC5Clb,0DAAA,EAAY;;;;;IADKA,uDAAA,EAAyB;IAAzBA,wDAAA,qBAAAib,UAAA,CAAyB;;;;;IAO9Cjb,0DAAA,GAAyB;;;ADHrB,MAAO0K,kBAAkB;EAI7BrQ,YAAA;IAHS,KAAA+gB,OAAO,GAAG,KAAK;IACxB,KAAAC,OAAO,GAAG,IAAI;EAEE;EAEhBC,aAAaA,CAAA;IACX,IAAI,CAACD,OAAO,GAAG,CAAC,IAAI,CAACA,OAAO;EAC9B;EAAC,QAAAtb,CAAA;qBARU2K,kBAAkB;EAAA;EAAA,QAAArK,EAAA;UAAlBqK,kBAAkB;IAAAzG,SAAA;IAAAsD,MAAA;MAAA6T,OAAA;IAAA;IAAAlX,UAAA;IAAAC,QAAA,GAAAnE,iEAAA;IAAAub,kBAAA,EAAAhP,GAAA;IAAAlI,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAgX,4BAAA9W,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;QCb/B1E,4DAAA,aAA2F;QAArEA,wDAAA,mBAAAyb,iDAAA;UAAAzb,2DAAA,CAAAuC,GAAA;UAAA,OAAAvC,yDAAA,CAAS2E,GAAA,CAAA2W,aAAA,EAAe;QAAA,EAAC;QAO3Ctb,wDALA,IAAA0b,kCAAA,OAAe,IAAAC,kCAAA,OAKD;QAMlB3b,0DAAA,EAAM;QAENA,wDAAA,IAAA4b,yCAAA,gCAAA5b,oEAAA,CAAsB;;;;QAf0BA,wDAAA,YAAAA,6DAAA,IAAA8b,GAAA,EAAAnX,GAAA,CAAA0W,OAAA,EAA0C;QACxFrb,uDAAA,EAWC;QAXDA,2DAAA,KAAA+b,OAAA,GAAApX,GAAA,CAAAyW,OAAA,WAAK,OAAAW,OAAA,KAAL,IAAI,UAWH;;;mBDFCtR,4EAAkB,EAAAvK,iEAAA,EAAAA,kEAAA,EAAEmK,oDAAO,EAAEyQ,6DAAgB;IAAApV,MAAA;EAAA;;;;;;;;;;;;;;;;;AERjD,MAAM4N,OAAO,GAAG,KAAK;AAMf,MAAO3I,6BAA6B;EACxCtQ,YAAA;IACE,IAAIiZ,OAAO,EACT4I,OAAO,CAAClH,GAAG,CAAC,2CAA2C,CAAC;EAC5D;EAGAmH,OAAOA,CAAC7O,KAAiB;IACvB,IAAIgG,OAAO,EACT4I,OAAO,CAAClH,GAAG,CAAC,uCAAuC,EAAE1H,KAAK,CAAC;IAC7DA,KAAK,CAAC8O,eAAe,EAAE;EACzB;EAAC,QAAArc,CAAA;qBAXU4K,6BAA6B;EAAA;EAAA,QAAAtK,EAAA;UAA7BsK,6BAA6B;IAAA1G,SAAA;IAAAkE,YAAA,WAAAkU,2CAAA3X,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QAA7B1E,wDAAA,mBAAAsc,uDAAAvQ,MAAA;UAAA,OAAApH,GAAA,CAAAwX,OAAA,CAAApQ,MAAA,CAAe;QAAA,EAAc","sources":["./projects/eav-ui/src/app/content-type-fields/services/content-types-fields.service.ts","./projects/eav-ui/src/app/features/feature-info-dialog/feature-info-dialog.component.ts","./projects/eav-ui/src/app/features/feature-info-dialog/feature-info-dialog.component.html","./projects/eav-ui/src/app/features/services/feature-detail.service.ts","./projects/eav-ui/src/app/features/shared/base-feature.component.ts","./projects/eav-ui/src/app/metadata/confirm-delete-dialog/confirm-delete-dialog.component.ts","./projects/eav-ui/src/app/metadata/confirm-delete-dialog/confirm-delete-dialog.component.html","./projects/eav-ui/src/app/metadata/metadata-actions/metadata-actions.component.ts","./projects/eav-ui/src/app/metadata/metadata-actions/metadata-actions.component.html","./projects/eav-ui/src/app/metadata/metadata-content-type/metadata-content-type.component.ts","./projects/eav-ui/src/app/metadata/metadata-content-type/metadata-content-type.component.html","./projects/eav-ui/src/app/metadata/metadata-save-dialog/metadata-save-dialog.component.ts","./projects/eav-ui/src/app/metadata/metadata-save-dialog/metadata-save-dialog.component.html","./projects/eav-ui/src/app/metadata/metadata.component.ts","./projects/eav-ui/src/app/metadata/metadata.component.html","./projects/eav-ui/src/app/permissions/go-to-permissions.ts","./projects/eav-ui/src/app/permissions/index.ts","./projects/eav-ui/src/app/permissions/models/permission.model.ts","./projects/eav-ui/src/app/permissions/permissions-dialog.config.ts","./projects/eav-ui/src/app/permissions/permissions.routing.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.html","./projects/eav-ui/src/app/shared/directives/click-stop-propagation.directive.ts"],"sourcesContent":["import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map } from 'rxjs';\r\nimport { ContentType } from '../../app-administration/models/content-type.model';\r\nimport { webApiTypeRoot } from '../../app-administration/services/content-types.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Field, FieldInputTypeOption } from '../models/field.model';\r\nimport { InputType } from '../models/input-type.model';\r\nimport { ReservedNames } from '../models/reserved-names.model';\r\nimport { InputTypeStrict } from '../constants/input-type.constants';\r\n\r\nexport const webApiFieldsRoot = 'admin/field/';\r\nexport const webApiFieldsAll = 'admin/field/all';\r\nexport const webApiFieldsGetShared = 'admin/field/GetSharedFields';\r\n\r\n@Injectable()\r\nexport class ContentTypesFieldsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  private apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  typeListRetrieve() {\r\n    return this.http.get<string[]>(this.apiUrl(webApiFieldsRoot + 'DataTypes'), {\r\n      params: { appid: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  getInputTypesList() {\r\n    return this.http\r\n      .get<InputType[]>(this.apiUrl(webApiFieldsRoot + 'InputTypes'), { params: { appid: this.context.appId.toString() } })\r\n      .pipe(\r\n        map(inputConfigs => {\r\n          const inputTypeOptions = inputConfigs.map(config => {\r\n            const option: FieldInputTypeOption = {\r\n              dataType: config.Type.substring(0, config.Type.indexOf('-')),\r\n              inputType: config.Type,\r\n              label: config.Label,\r\n              description: config.Description,\r\n              isDefault: config.IsDefault,\r\n              isObsolete: config.IsObsolete,\r\n              isRecommended: config.IsRecommended,\r\n              obsoleteMessage: config.ObsoleteMessage,\r\n              icon: config.IsDefault ? 'star' : config.IsRecommended ? 'star_outline' : null,\r\n            };\r\n            return option;\r\n          });\r\n          return inputTypeOptions;\r\n        }),\r\n      );\r\n  }\r\n\r\n  getReservedNames() {\r\n    return this.http.get<ReservedNames>(this.apiUrl(webApiFieldsRoot + 'ReservedNames'));\r\n  }\r\n\r\n  /** Get all fields for some content type */\r\n  getFields(contentTypeStaticName: string) {\r\n    return this.http\r\n      .get<Field[]>(this.apiUrl(webApiFieldsAll), {\r\n        params: { appid: this.context.appId.toString(), staticName: contentTypeStaticName },\r\n      })\r\n      .pipe(\r\n        map(fields => {\r\n          if (fields) {\r\n            for (const fld of fields) {\r\n              if (!fld.Metadata) { continue; }\r\n              const md = fld.Metadata;\r\n              const allMd = md.All;\r\n              const typeMd = md[fld.Type];\r\n              const inputMd = md[fld.InputType];\r\n              md.merged = { ...allMd, ...typeMd, ...inputMd };\r\n            }\r\n          }\r\n          return fields;\r\n        }),\r\n      );\r\n  }\r\n\r\n  /** Get all possible sharable fields for a new sharing */\r\n  getShareableFields() {\r\n    return this.http.get<Field[]>(this.apiUrl(webApiFieldsGetShared), {\r\n        params: { appid: this.context.appId.toString() },\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Get sharable fields which are possible for this attribute.\r\n   * \r\n   * Reason is that eg. a bool-attribute can only receive metadata from a bool attribute, etc.\r\n   * \r\n   * @param attributeId the existing attributeId which will receive the new metadata\r\n   */\r\n  getShareableFieldsFor(attributeId: number) {\r\n    // TODO: @SDV - do the same as in getShareableFields()\r\n    // but add parameter attributeId to the webapi call\r\n    // I'll create the backend afterwards\r\n    return this.http\r\n      .get<Field[]>(this.apiUrl(webApiFieldsGetShared), {\r\n        params: { appid: this.context.appId.toString(), attributeId: attributeId.toString() },\r\n      });\r\n  }\r\n\r\n  addInheritedField(targetContentTypeId: number, sourceContentTypeStaticName: string, sourceFieldGuid: string, newName: string) {\r\n    return this.http.post<number>(this.apiUrl(webApiFieldsRoot + 'AddInheritedField'), null, {\r\n      params: {\r\n        AppId: this.context.appId.toString(),\r\n        ContentTypeId: targetContentTypeId.toString(),\r\n        SourceType: sourceContentTypeStaticName,\r\n        SourceField: sourceFieldGuid,\r\n        name: newName,\r\n      }\r\n    });\r\n  }\r\n\r\n  share(attributeId: number, share: boolean = true) {\r\n    return this.http.post<null>(this.apiUrl(webApiFieldsRoot + 'Share'), null, {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        attributeId: attributeId.toString(),\r\n        share,\r\n      },\r\n    });\r\n  }\r\n\r\n  inherit(attributeId: number, sourceFieldGuid: string) {\r\n    return this.http.post<null>(this.apiUrl(webApiFieldsRoot + 'Inherit'), null, {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        attributeId: attributeId.toString(),\r\n        inheritMetadataOf: sourceFieldGuid,\r\n      },\r\n    });\r\n  }\r\n\r\n  reOrder(idArray: number[], contentType: ContentType) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiFieldsRoot + 'Sort'), null, {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        contentTypeId: contentType.Id.toString(),\r\n        order: JSON.stringify(idArray),\r\n      },\r\n    });\r\n  }\r\n\r\n  setTitle(item: Field, contentType: ContentType) {\r\n    return this.http.post<null>(this.apiUrl(webApiTypeRoot + 'SetTitle'), null, {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        contentTypeId: contentType.Id.toString(),\r\n        attributeId: item.Id.toString(),\r\n      },\r\n    });\r\n  }\r\n\r\n  rename(fieldId: number, contentTypeId: number, newName: string) {\r\n    return this.http.post<null>(this.apiUrl(webApiFieldsRoot + 'Rename'), null, {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        contentTypeId: contentTypeId.toString(),\r\n        attributeId: fieldId.toString(),\r\n        newName,\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(item: Field, contentType: ContentType) {\r\n    if (item.IsTitle) {\r\n      throw new Error('Can\\'t delete Title');\r\n    }\r\n\r\n    return this.http.delete<boolean>(this.apiUrl(webApiFieldsRoot + 'Delete'), {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        contentTypeId: contentType.Id.toString(),\r\n        attributeId: item.Id.toString(),\r\n      },\r\n    });\r\n  }\r\n\r\n  add(newField: Partial<Field>, contentTypeId: number) {\r\n    return this.http.post<number>(this.apiUrl(webApiFieldsRoot + 'Add'), null, {\r\n      params: {\r\n        AppId: this.context.appId.toString(),\r\n        ContentTypeId: contentTypeId.toString(),\r\n        Id: newField.Id.toString(),\r\n        Type: newField.Type,\r\n        InputType: newField.InputType,\r\n        StaticName: newField.StaticName,\r\n        IsTitle: newField.IsTitle.toString(),\r\n        Index: newField.SortOrder.toString(),\r\n      }\r\n    });\r\n  }\r\n\r\n  updateInputType(id: number, staticName: string, inputType: InputTypeStrict) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiFieldsRoot + 'InputType'), null, {\r\n      params: { appId: this.context.appId.toString(), attributeId: id.toString(), field: staticName, inputType }\r\n    });\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Observable } from 'rxjs';\r\nimport { copyToClipboard } from '../../shared/helpers/copy-to-clipboard.helper';\r\nimport { Feature } from '../models';\r\nimport { FeatureDetailService } from '../services/feature-detail.service';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { SafeHtmlPipe } from '../../shared/pipes/safe-html.pipe';\r\n\r\n@Component({\r\n  selector: 'app-feature-info-dialog',\r\n  templateUrl: './feature-info-dialog.component.html',\r\n  styleUrls: ['./feature-info-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    AsyncPipe,\r\n    TranslateModule,\r\n    TippyDirective,\r\n    SafeHtmlPipe,\r\n  ]\r\n})\r\nexport class FeatureInfoDialogComponent implements OnInit {\r\n  viewModel$: Observable<Feature>;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: string,\r\n    private dialogRef: MatDialogRef<FeatureInfoDialogComponent>,\r\n    private snackBar: MatSnackBar,\r\n    private featureDetailService: FeatureDetailService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.viewModel$ = this.featureDetailService.getFeatureDetails(this.dialogData);\r\n  }\r\n\r\n  copyToClipboard(text: string): void {\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n\r\n  findOutMore(link: string): void {\r\n    window.open(link, '_blank');\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","@if (viewModel$ | async; as feature) {\r\n  <mat-card>\r\n    <mat-card-header>\r\n      <mat-card-title>{{ feature.name }}</mat-card-title>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <p [innerHtml]=\"feature.description | safeHtml\"></p>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">{{ \"Features.Status\" | translate }}:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span>{{ (feature.isEnabled ? \"Features.Active\" : \"Features.NotActive\") | translate }}</span>\r\n        </div>\r\n      </div>\r\n      @if (feature.nameId; as id) {\r\n        <div class=\"eav-info-row\">\r\n          <div class=\"eav-info-row__label\">ID:</div>\r\n          <div class=\"eav-info-row__value eav_click\">\r\n            <span [tippy]=\"id\" (click)=\"copyToClipboard(id)\">{{ id }}</span>\r\n          </div>\r\n        </div>\r\n      }\r\n    </mat-card-content>\r\n    <mat-card-actions align=\"end\">\r\n      <button mat-raised-button color=\"accent\"\r\n        class=\"eav-card-action-button\" (click)=\"findOutMore(feature.link)\">\r\n        <mat-icon>open_in_new</mat-icon>\r\n        {{ \"Features.FindOutMore\" | translate }}\r\n      </button>\r\n      <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">\r\n        {{ \"Features.Close\" | translate }}\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n}","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Feature } from '../models';\r\n\r\nexport const webApiRoot = \"admin/feature/\";\r\n\r\n@Injectable()\r\nexport class FeatureDetailService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private dnnContext: DnnContext\r\n  ) { }\r\n\r\n  getFeatureDetails(featureNameId: string): Observable<Feature> {\r\n    return this.http.get<Feature>(this.dnnContext.$2sxc.http.apiUrl(webApiRoot + 'details'), {\r\n      params: { nameId: featureNameId }\r\n    });\r\n  }\r\n}\r\n","import { ChangeDetectorRef, Directive, Input, ViewContainerRef, inject } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { FeatureInfoDialogComponent } from '../feature-info-dialog/feature-info-dialog.component';\r\nimport { BehaviorSubject, switchMap, Observable, map, combineLatest } from 'rxjs';\r\nimport { FeatureSummary } from '../models';\r\nimport { FeatureDetailService } from '../services/feature-detail.service';\r\n\r\nexport const FeatureComponentProviders = [\r\n  FeatureDetailService,\r\n];\r\n\r\n@Directive()\r\nexport class FeatureComponentBase {\r\n  /** Feature NameId to check */\r\n  @Input()\r\n  public set featureNameId(value: string) { this.featureNameId$.next(value); }\r\n  protected featureNameId$ = new BehaviorSubject<string>(null);\r\n\r\n  /** By default, it will show if it's false - here we can change it to show if true */\r\n  @Input()\r\n  public set showIf(value: boolean) { this.showIf$.next(value == true); }\r\n  protected showIf$ = new BehaviorSubject<boolean>(false);\r\n\r\n  // TODO: @SDV - MAKE REACTIVE - SEE text-info-component example\r\n  // featureOn: boolean = true;\r\n  feature$: Observable<FeatureSummary>;\r\n  show$: Observable<boolean>;\r\n\r\n  private dialog = inject(MatDialog);\r\n  private viewContainerRef = inject(ViewContainerRef);\r\n  private changeDetectorRef = inject(ChangeDetectorRef);\r\n  protected featuresService = inject(FeaturesService);\r\n\r\n  constructor() {\r\n    this.feature$ = this.featureNameId$.pipe(\r\n      switchMap(featName => this.featuresService.get$(featName)\r\n    ));\r\n    this.show$ = combineLatest([this.feature$, this.showIf$]).pipe(\r\n      // tap(data => console.log('2dm - show$', data)),\r\n      map(([feat,showIf]) => showIf == (feat?.isEnabled ?? false))\r\n    );\r\n  }\r\n\r\n  openDialog() {\r\n    openFeatureDialog(this.dialog, this.featureNameId$.value, this.viewContainerRef, this.changeDetectorRef);\r\n  }\r\n}\r\n\r\n\r\nexport function openFeatureDialog(dialog: MatDialog, featureId: string, viewContainerRef: ViewContainerRef, changeDetectorRef: ChangeDetectorRef) {\r\n  dialog.open(FeatureInfoDialogComponent, {\r\n    autoFocus: false,\r\n    data: featureId,\r\n    viewContainerRef: viewContainerRef,\r\n    width: '400px',\r\n  });\r\n\r\n  changeDetectorRef.markForCheck();\r\n}","import { Component, HostBinding, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ConfirmDeleteDialogData } from './confirm-delete-dialog.models';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { SafeHtmlPipe } from '../../shared/pipes/safe-html.pipe';\r\n\r\n@Component({\r\n  selector: 'app-confirm-delete-dialog',\r\n  templateUrl: './confirm-delete-dialog.component.html',\r\n  styleUrls: ['./confirm-delete-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    SafeHtmlPipe,\r\n  ],\r\n})\r\nexport class ConfirmDeleteDialogComponent {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: ConfirmDeleteDialogData,\r\n    private dialogRef: MatDialogRef<ConfirmDeleteDialogComponent>,\r\n  ) { }\r\n\r\n  closeDialog(confirm?: boolean) {\r\n    this.dialogRef.close(confirm);\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>Delete {{ dialogData.entityTitle }} ({{ dialogData.entityId }})?</mat-card-title>\r\n    @if (dialogData.message) {\r\n      <mat-card-subtitle [innerHtml]=\"dialogData.message | safeHtml\"></mat-card-subtitle>\r\n    }\r\n  </mat-card-header>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog(true)\">Delete</button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MetadataItem } from '../models/metadata.model';\r\nimport { MetadataActionsParams } from './metadata-actions.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatRippleModule } from '@angular/material/core';\r\n\r\n@Component({\r\n  selector: 'app-metadata-actions',\r\n  templateUrl: './metadata-actions.component.html',\r\n  styleUrls: ['./metadata-actions.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n  ],\r\n})\r\nexport class MetadataActionsComponent implements ICellRendererAngularComp {\r\n  private params: ICellRendererParams & MetadataActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & MetadataActionsParams): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  deleteMetadata(): void {\r\n    const metadata: MetadataItem = this.params.data;\r\n    this.params.onDelete(metadata);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Delete\" (click)=\"deleteMetadata()\">\r\n    <mat-icon>delete</mat-icon>\r\n  </div>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MetadataItem } from '../models/metadata.model';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n  selector: 'app-metadata-content-type',\r\n  templateUrl: './metadata-content-type.component.html',\r\n  styleUrls: ['./metadata-content-type.component.scss'],\r\n  standalone: true,\r\n  imports: [TippyDirective,],\r\n})\r\nexport class MetadataContentTypeComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n  metadata: MetadataItem;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n    this.metadata = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"container\" [tippy]=\"metadata._Type.Description\" [tippyDisabled]=\"!metadata._Type.Description\">\r\n  {{ value }}\r\n</div>\r\n","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSlideToggleChange, MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { BehaviorSubject, combineLatest, distinctUntilChanged, map, Observable, startWith } from 'rxjs';\r\nimport { ContentType } from '../../app-administration/models';\r\nimport { ContentTypesService } from '../../app-administration/services';\r\nimport { dropdownInsertValue } from '../../shared/constants/dropdown-insert-value.constant';\r\nimport { eavConstants, ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { MetadataSaveDialogViewModel, MetadataSaveFormValues } from './metadata-save-dialog.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { FieldHintComponent } from '../../shared/components/field-hint/field-hint.component';\r\nimport { ClickStopPropagationDirective } from '../../shared/directives/click-stop-propagation.directive';\r\n\r\n@Component({\r\n  selector: 'app-metadata-save-dialog',\r\n  templateUrl: './metadata-save-dialog.component.html',\r\n  styleUrls: ['./metadata-save-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatCardModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    MatOptionModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    NgClass,\r\n    MatIconModule,\r\n    MatSlideToggleModule,\r\n    AsyncPipe,\r\n    FieldHintComponent,\r\n    ClickStopPropagationDirective,\r\n  ]\r\n})\r\nexport class MetadataSaveDialogComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  form: UntypedFormGroup;\r\n  dropdownInsertValue = dropdownInsertValue;\r\n  viewModel$: Observable<MetadataSaveDialogViewModel>;\r\n  guidedContentType = true;\r\n  advancedMode = false;\r\n\r\n  private contentTypes$: BehaviorSubject<ContentType[]>;\r\n  private scopeOptions$: BehaviorSubject<ScopeOption[]>;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<MetadataSaveDialogComponent>,\r\n    private contentTypesService: ContentTypesService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.contentTypes$ = new BehaviorSubject<ContentType[]>([]);\r\n    this.scopeOptions$ = new BehaviorSubject<ScopeOption[]>([]);\r\n\r\n    this.buildForm();\r\n    this.fetchScopes();\r\n\r\n    this.viewModel$ = combineLatest([this.contentTypes$, this.scopeOptions$]).pipe(\r\n      map(([contentTypes, scopeOptions]) => {\r\n        const viewModel: MetadataSaveDialogViewModel = {\r\n          contentTypes,\r\n          scopeOptions,\r\n        };\r\n        return viewModel;\r\n      }),\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.contentTypes$.complete();\r\n    this.scopeOptions$.complete();\r\n  }\r\n\r\n  closeDialog(contentType?: string): void {\r\n    this.dialogRef.close(contentType);\r\n  }\r\n\r\n  toggleGuidedContentType(guidedContentType: boolean): void {\r\n    this.guidedContentType = guidedContentType;\r\n  }\r\n\r\n  toggleAdvancedMode(event: MatSlideToggleChange): void {\r\n    this.advancedMode = event.checked;\r\n  }\r\n\r\n  confirm(): void {\r\n    const formValues: MetadataSaveFormValues = this.form.getRawValue();\r\n    this.closeDialog(formValues.contentType);\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.form = new UntypedFormGroup({});\r\n    this.form.addControl('contentType', new UntypedFormControl(null, [Validators.required]));\r\n    this.form.addControl('scope', new UntypedFormControl(eavConstants.scopes.default.value));\r\n\r\n    this.form.controls.scope.valueChanges.pipe(\r\n      startWith(this.form.controls.scope.value),\r\n      distinctUntilChanged(),\r\n    ).subscribe((newScope: string) => {\r\n      // reset content types when scope changes\r\n      if (this.form.controls.contentType.value != null) {\r\n        this.form.controls.contentType.patchValue(null);\r\n      }\r\n\r\n      // add new scope on manual entry\r\n      if (newScope === dropdownInsertValue) {\r\n        newScope = prompt('This is an advanced feature to show content-types of another scope. Don\\'t use this if you don\\'t know what you\\'re doing, as content-types of other scopes are usually hidden for a good reason.') || eavConstants.scopes.default.value;\r\n        if (!this.scopeOptions$.value.some(option => option.value === newScope)) {\r\n          const newScopeOption: ScopeOption = {\r\n            name: newScope,\r\n            value: newScope,\r\n          };\r\n          this.scopeOptions$.next([newScopeOption, ...this.scopeOptions$.value]);\r\n        }\r\n        this.form.controls.scope.patchValue(newScope);\r\n      } else {\r\n        this.fetchContentTypes(newScope);\r\n      }\r\n    });\r\n  }\r\n\r\n  private fetchContentTypes(scope: string): void {\r\n    this.contentTypesService.retrieveContentTypes(scope).subscribe(contentTypes => {\r\n      this.contentTypes$.next(contentTypes);\r\n    });\r\n  }\r\n\r\n  private fetchScopes(): void {\r\n    this.contentTypesService.getScopes().subscribe(scopes => {\r\n      this.scopeOptions$.next(scopes);\r\n    });\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <mat-card>\r\n    <mat-card-header>\r\n      <mat-card-title>Create Metadata</mat-card-title>\r\n      <mat-card-subtitle>\r\n        This is a special operation to add an item which is metadata for another item,\r\n        see <a href=\"https://go.2sxc.org/metadata\" target=\"_blank\">docs</a>.\r\n      </mat-card-subtitle>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <form [formGroup]=\"form\">\r\n        <!-- Scope -->\r\n        @if (advancedMode && guidedContentType) {\r\n          <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n            <mat-label>Scope</mat-label>\r\n            <mat-select formControlName=\"scope\" [placeholder]=\"!vm.scopeOptions.length ? 'No items found' : ''\">\r\n              @for (scopeOption of vm.scopeOptions; track scopeOption) {\r\n                <mat-option [value]=\"scopeOption.value\">\r\n                  {{ scopeOption.name }}\r\n                </mat-option>\r\n              }\r\n              <mat-option [value]=\"dropdownInsertValue\">Other...</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <app-field-hint>\r\n            The scope should almost never be changed -\r\n            <a href=\"https://2sxc.org/help?tag=scope\" target=\"_blank\" appClickStopPropagation>see help</a>\r\n          </app-field-hint>\r\n        }\r\n        <!-- Content Type of metadata item -->\r\n        <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n          <mat-label>Content Type</mat-label>\r\n          @if (guidedContentType) {\r\n            <mat-select formControlName=\"contentType\" required\r\n              [placeholder]=\"!vm.contentTypes.length ? 'No items found' : ''\">\r\n              @for (contentType of vm.contentTypes; track contentType) {\r\n                <mat-option [value]=\"contentType.StaticName\">\r\n                  {{ contentType.Label }}\r\n                </mat-option>\r\n              }\r\n            </mat-select>\r\n          }\r\n          @if (!guidedContentType) {\r\n            <input matInput type=\"text\" formControlName=\"contentType\" required>\r\n          }\r\n          <div matTextSuffix>\r\n            <button mat-icon-button type=\"button\" [ngClass]=\"{ 'active': guidedContentType }\" tippy=\"Pick existing value\"\r\n              (click)=\"toggleGuidedContentType(true)\">\r\n              <mat-icon>search</mat-icon>\r\n            </button>\r\n            <button mat-icon-button type=\"button\" [ngClass]=\"{ 'active': !guidedContentType }\" tippy=\"Manual entry\"\r\n              (click)=\"toggleGuidedContentType(false)\">\r\n              <mat-icon>text_fields</mat-icon>\r\n            </button>\r\n          </div>\r\n        </mat-form-field>\r\n        @if (form.controls.contentType.touched && form.controls.contentType.errors?.required) {\r\n          <app-field-hint\r\n            [isError]=\"true\">\r\n            This field is required\r\n          </app-field-hint>\r\n        }\r\n      </form>\r\n    </mat-card-content>\r\n    <mat-card-actions class=\"eav-card-actions\">\r\n      <mat-slide-toggle color=\"accent\" [checked]=\"advancedMode\" (change)=\"toggleAdvancedMode($event)\">\r\n        {{ advancedMode ? 'Advanced' : 'Simple' }}\r\n      </mat-slide-toggle>\r\n      <div>\r\n        <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n        <button mat-raised-button color=\"accent\" class=\"eav-card-action-button\" [disabled]=\"!form.valid\" (click)=\"confirm()\">\r\n          Confirm\r\n        </button>\r\n      </div>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MatDialogActions } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router, RouterOutlet } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, map, Observable, take } from 'rxjs';\r\nimport { ContentItemsService } from '../content-items/services/content-items.service';\r\nimport { EntitiesService } from '../content-items/services/entities.service';\r\nimport { EavFor } from '../edit/shared/models/eav';\r\nimport { MetadataService } from '../permissions';\r\nimport { BaseWithChildDialogComponent } from '../shared/components/base-with-child-dialog.component';\r\nimport { IdFieldComponent } from '../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../shared/constants/default-grid-options.constants';\r\nimport { eavConstants, MetadataKeyType } from '../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../shared/helpers/url-prep.helper';\r\nimport { EditForm } from '../shared/models/edit-form.model';\r\nimport { ConfirmDeleteDialogComponent } from './confirm-delete-dialog/confirm-delete-dialog.component';\r\nimport { ConfirmDeleteDialogData } from './confirm-delete-dialog/confirm-delete-dialog.models';\r\nimport { MetadataActionsComponent } from './metadata-actions/metadata-actions.component';\r\nimport { MetadataActionsParams } from './metadata-actions/metadata-actions.models';\r\nimport { MetadataContentTypeComponent } from './metadata-content-type/metadata-content-type.component';\r\nimport { MetadataSaveDialogComponent } from './metadata-save-dialog/metadata-save-dialog.component';\r\nimport { MetadataDto, MetadataItem, MetadataRecommendation, MetadataViewModel } from './models/metadata.model';\r\nimport { openFeatureDialog } from '../features/shared/base-feature.component';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { EcoFabSpeedDialComponent, EcoFabSpeedDialTriggerComponent, EcoFabSpeedDialActionsComponent } from '@ecodev/fab-speed-dial';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { SxcGridModule } from '../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { EavLogger } from '../shared/logging/eav-logger';\r\nimport { ColumnDefinitions } from '../shared/ag-grid/column-definitions';\r\nimport { SafeHtmlPipe } from '../shared/pipes/safe-html.pipe';\r\nimport { transient } from '../core';\r\n\r\nconst logThis = false;\r\n@Component({\r\n  selector: 'app-metadata',\r\n  templateUrl: './metadata.component.html',\r\n  styleUrls: ['./metadata.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    SxcGridModule,\r\n    MatDialogActions,\r\n    EcoFabSpeedDialComponent,\r\n    NgClass,\r\n    EcoFabSpeedDialTriggerComponent,\r\n    EcoFabSpeedDialActionsComponent,\r\n    MatBadgeModule,\r\n    AsyncPipe,\r\n    SafeHtmlPipe,\r\n  ],\r\n  providers: [\r\n    MetadataService,\r\n  ]\r\n})\r\nexport class MetadataComponent extends BaseWithChildDialogComponent implements OnInit, OnDestroy {\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  private entitiesService = transient(EntitiesService);\r\n  private metadataService = transient(MetadataService);\r\n  private contentItemsService = transient(ContentItemsService);\r\n\r\n\r\n\r\n  private metadataSet$ = new BehaviorSubject<MetadataDto>({ Items: [], Recommendations: [] } as MetadataDto);\r\n  private itemFor$ = new BehaviorSubject<EavFor | undefined>(undefined);\r\n  private fabOpen$ = new BehaviorSubject(false);\r\n  private targetType = parseInt(this.route.snapshot.paramMap.get('targetType'), 10);\r\n  private keyType = this.route.snapshot.paramMap.get('keyType') as MetadataKeyType;\r\n  private key = this.route.snapshot.paramMap.get('key');\r\n  title = decodeURIComponent(this.route.snapshot.paramMap.get('title') ?? '');\r\n  private contentTypeStaticName = this.route.snapshot.paramMap.get('contentTypeStaticName');\r\n  viewModel$: Observable<MetadataViewModel>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private dialogRef: MatDialogRef<MetadataComponent>,\r\n    private snackBar: MatSnackBar,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    super(router, route, new EavLogger('MetadataComponent', logThis));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchFor();\r\n    this.fetchMetadata();\r\n    this.subscriptions.add(\r\n      this.childDialogClosed$().subscribe(() => { this.fetchMetadata(); })\r\n    );\r\n\r\n    const logFilteredRecs = this.log.rxTap('filteredRecs$');\r\n    this.metadataSet$.subscribe((set) => {\r\n      this.log.a('test 2dm', { set });\r\n    });\r\n\r\n    const filteredRecs$ = this.metadataSet$.pipe(\r\n      logFilteredRecs.pipe(),\r\n      map((set) => set.Recommendations.filter(r => set.Items.filter(i => i._Type.Id === r.Id).length < r.Count)),\r\n      logFilteredRecs.map(),\r\n    );\r\n\r\n    const logViewModel = this.log.rxTap('viewModel$');\r\n    this.viewModel$ = combineLatest([this.metadataSet$, filteredRecs$, this.itemFor$, this.fabOpen$]).pipe(\r\n      logViewModel.pipe(),\r\n      map(([metadata, recommendations, itemFor, fabOpen]) => {\r\n        const viewModel: MetadataViewModel = {\r\n          metadata: metadata.Items,\r\n          recommendations,\r\n          itemFor,\r\n          fabOpen,\r\n        };\r\n        return viewModel;\r\n      }),\r\n      logViewModel.map(),\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.log.a('destroying');\r\n    this.metadataSet$.complete();\r\n    this.itemFor$.complete();\r\n    this.fabOpen$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  openChange(open: boolean) {\r\n    this.fabOpen$.next(open);\r\n  }\r\n\r\n  createMetadata(recommendation?: MetadataRecommendation) {\r\n    if (recommendation) {\r\n      // If the feature is not enabled, open the info dialog instead of metadata\r\n      if (!recommendation.Enabled) {\r\n        openFeatureDialog(this.dialog, recommendation.MissingFeature, this.viewContainerRef, this.changeDetectorRef);\r\n        return;\r\n      }\r\n      // Feature is enabled, check if it's an empty metadata\r\n      if (recommendation.CreateEmpty) {\r\n        this.snackBar.open(`Creating ${recommendation.Name}...`);\r\n        this.entitiesService.create(recommendation.Id, { For: this.calculateItemFor() }).subscribe({\r\n          error: () => {\r\n            this.snackBar.open(`Creating ${recommendation.Name} failed. Please check console for more info`, undefined, { duration: 3000 });\r\n            this.fetchMetadata();\r\n          },\r\n          next: () => {\r\n            this.snackBar.open(`Created ${recommendation.Name}`, undefined, { duration: 3000 });\r\n            this.fetchMetadata();\r\n          },\r\n        });\r\n      } else {\r\n        // Default case - open new-metadata dialog\r\n        this.createMetadataForm(recommendation.Id);\r\n      }\r\n      return;\r\n    }\r\n    const metadataDialogRef = this.dialog.open(MetadataSaveDialogComponent, {\r\n      autoFocus: false,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n    metadataDialogRef.afterClosed().subscribe((contentType?: string) => {\r\n      if (contentType == null) return;\r\n      this.createMetadataForm(contentType);\r\n    });\r\n  }\r\n\r\n  private createMetadataForm(contentType: string) {\r\n    const form: EditForm = {\r\n      items: [{\r\n        ContentTypeName: contentType,\r\n        For: this.calculateItemFor(),\r\n      }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route });\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private calculateItemFor(): EavFor {\r\n    const itemFor: EavFor = {\r\n      Target: Object.values(eavConstants.metadata).find(m => m.targetType === this.targetType)?.target ?? this.targetType.toString(),\r\n      TargetType: this.targetType,\r\n      ...(this.keyType === eavConstants.keyTypes.guid && { Guid: this.key }),\r\n      ...(this.keyType === eavConstants.keyTypes.number && { Number: parseInt(this.key, 10) }),\r\n      ...(this.keyType === eavConstants.keyTypes.string && { String: this.key }),\r\n    };\r\n    return itemFor;\r\n  }\r\n\r\n  private fetchFor() {\r\n    if (!this.contentTypeStaticName) { return; }\r\n\r\n    this.contentItemsService.getAll(this.contentTypeStaticName).subscribe(items => {\r\n      const item = items.find(i => i.Guid === this.key);\r\n      if (item?.For) {\r\n        this.itemFor$.next(item.For);\r\n      }\r\n    });\r\n  }\r\n\r\n  private fetchMetadata() {\r\n    const logGetMetadata = this.log.rxTap('getMetadata');\r\n    this.metadataService.getMetadata(this.targetType, this.keyType, this.key)\r\n      .pipe(\r\n        logGetMetadata.pipe(),\r\n        take(1),\r\n        map(metadata => {\r\n          metadata.Recommendations.forEach(r => {\r\n            if (r.Icon?.startsWith('base64:')) {\r\n              r.Icon = r.Icon.replace('base64:', '');\r\n              r.Icon = window.atob(r.Icon);\r\n              // used for coloring black icons to white\r\n              r.Icon = r.Icon.replace('fill=\"#000000\"', 'fill=\"#ffffff\"');\r\n            }\r\n          });\r\n          return metadata;\r\n        }),\r\n        logGetMetadata.map(),\r\n      )\r\n      // 2024-05-30 2dm - this standard shorthand seems to fail\r\n      // for reasons unknown to me. I've replaced it with the longhand\r\n      // The problem occurs when the metadataSet$ is updated after the initial load.\r\n      // .subscribe(this.metadataSet$);\r\n      .subscribe(data => this.metadataSet$.next(data));\r\n  }\r\n\r\n  private editMetadata(metadata: MetadataItem) {\r\n    const form: EditForm = {\r\n      items: [{ EntityId: metadata.Id }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route });\r\n  }\r\n\r\n  private deleteMetadata(metadata: MetadataItem, confirmed = false) {\r\n    if (!confirmed) {\r\n      const data: ConfirmDeleteDialogData = {\r\n        entityId: metadata.Id,\r\n        entityTitle: metadata.Title,\r\n        message: this.metadataSet$.value.Recommendations.find(r => r.Id === metadata._Type.Id)?.DeleteWarning,\r\n      };\r\n      const confirmationDialogRef = this.dialog.open(ConfirmDeleteDialogComponent, {\r\n        autoFocus: false,\r\n        data,\r\n        viewContainerRef: this.viewContainerRef,\r\n        width: '400px',\r\n      });\r\n      confirmationDialogRef.afterClosed().subscribe((isConfirmed: boolean) => {\r\n        if (isConfirmed)\r\n          this.deleteMetadata(metadata, true);\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.snackBar.open('Deleting...');\r\n    this.entitiesService.delete(metadata._Type.Id, metadata.Id, false).subscribe({\r\n      next: () => {\r\n        this.snackBar.open('Deleted', null, { duration: 2000 });\r\n        this.fetchMetadata();\r\n      },\r\n      error: () => {\r\n        this.snackBar.open('Delete failed. Please check console for more information', null, { duration: 3000 });\r\n      }\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.Id,\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<MetadataItem> = {\r\n              tooltipGetter: (metadata: MetadataItem) => `ID: ${metadata.Id}\\nGUID: ${metadata.Guid}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Title',\r\n          onCellClicked: (params) => {\r\n            const metadata: MetadataItem = params.data;\r\n            this.editMetadata(metadata);\r\n          },\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          headerName: 'Content Type',\r\n          field: 'ContentType',\r\n          valueGetter: (params) => {\r\n            const metadata: MetadataItem = params.data;\r\n            return `${metadata._Type.Name}${metadata._Type.Title !== metadata._Type.Name ? ` (${metadata._Type.Title})` : ''}`;\r\n          },\r\n          cellRenderer: MetadataContentTypeComponent,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight1,\r\n          cellRenderer: MetadataActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: MetadataActionsParams = {\r\n              onDelete: (metadata) => this.deleteMetadata(metadata),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-dialog nav-component-wrapper\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">\r\n        {{ title || 'Metadata' }}\r\n      </div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"eav-dialog-content nav-component-wrapper\">\r\n      <p>\r\n        @if (!vm.itemFor) {\r\n          This item is not metadata for anything else.\r\n        }\r\n        @else {\r\n          This item is metadata for:\r\n          <br>Target: {{ vm.itemFor.Target }}\r\n          <br>TargetType: {{ vm.itemFor.TargetType }}\r\n          @if (vm.itemFor.KeyNumber) {\r\n            <br>Key Number: {{ vm.itemFor.KeyNumber }}\r\n          }\r\n          @if (vm.itemFor.KeyGuid) {\r\n            <br>Key Guid: {{ vm.itemFor.KeyGuid }}\r\n          }\r\n          @if (vm.itemFor.KeyString) {\r\n            <br>Key String: {{ vm.itemFor.KeyString }}\r\n          }\r\n          @if (vm.itemFor.Title) {\r\n            <br>Title: {{ vm.itemFor.Title }}\r\n          }\r\n        }\r\n      </p>\r\n      <router-outlet></router-outlet>\r\n      <div class=\"grid-wrapper\">\r\n        <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.metadata\" [gridOptions]=\"gridOptions\">\r\n        </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n    <mat-dialog-actions align=\"end\">\r\n      @if (vm.recommendations.length === 0) {\r\n        <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new metadata for this item\"\r\n          (click)=\"createMetadata()\">\r\n          <mat-icon>add</mat-icon>\r\n        </button>\r\n      }\r\n      @if (vm.recommendations.length > 0) {\r\n        <eco-fab-speed-dial class=\"eav-eco-fab-speed-dial\" [ngClass]=\"{ 'fab-opened': vm.fabOpen }\"\r\n          (openChange)=\"openChange($event)\">\r\n          <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n            <button mat-fab>\r\n              <mat-icon class=\"spin180\">{{ vm.fabOpen ? 'close' : 'add' }}</mat-icon>\r\n            </button>\r\n          </eco-fab-speed-dial-trigger>\r\n          <eco-fab-speed-dial-actions class=\"eav-eco-fab-speed-dial-actions\">\r\n            <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Other Content Type\"\r\n              (click)=\"createMetadata()\">\r\n              <mat-icon>search</mat-icon>\r\n            </button>\r\n            @for (recommendation of vm.recommendations; track recommendation) {\r\n              <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" [attr.label]=\"recommendation.Title\"\r\n                (click)=\"createMetadata(recommendation)\">\r\n                @if (recommendation.Icon) {\r\n                  <div style=\"color: white; fill: white;\" [innerHTML]=\"recommendation.Icon | safeHtml\"\r\n                    [matBadgeHidden]=\"recommendation.Enabled\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadge=\"💎\"\r\n                    matBadgePosition=\"below after\" aria-hidden=\"false\"></div>\r\n                } @else {\r\n                  <mat-icon>add</mat-icon>\r\n                }\r\n              </button>\r\n            }\r\n          </eco-fab-speed-dial-actions>\r\n        </eco-fab-speed-dial>\r\n      }\r\n    </mat-dialog-actions>\r\n  </div>\r\n}\r\n","import { Route } from '@angular/router';\r\nimport { eavConstants, MetadataKeyType } from '../shared/constants/eav.constants';\r\n\r\nexport class GoToPermissions {\r\n\r\n  static route: Route = {\r\n    path: 'permissions/:targetType/:keyType/:key',\r\n    loadChildren: () => import('./permissions.routing').then(m => m.permissionRoutes),\r\n    // loadChildren: () => import('./permissions.module').then(m => m.PermissionsModule),\r\n    data: { title: 'Permissions' },\r\n  };\r\n\r\n  static getUrl(targetType: number, keyType: MetadataKeyType, key: string): string {\r\n    return `permissions/${targetType}/${keyType}/${key}`;\r\n  }\r\n\r\n  static getUrlApp(appId: number): string {\r\n    return this.getUrl(eavConstants.metadata.app.targetType, eavConstants.metadata.app.keyType, appId.toString());\r\n  }\r\n\r\n  static getUrlAttribute(id: number): string {\r\n    return this.getUrl(eavConstants.metadata.attribute.targetType, eavConstants.metadata.attribute.keyType, id.toString());\r\n  }\r\n\r\n  /** For historic reasons, it's the same as Entity */\r\n  static getUrlContentType(guid: string): string {\r\n    return this.getUrlEntity(guid);\r\n  }\r\n\r\n  static getUrlEntity(guid: string): string {\r\n    return this.getUrl(eavConstants.metadata.entity.targetType, eavConstants.metadata.entity.keyType, guid);\r\n  }\r\n\r\n  static getUrlLanguage(id: string): string {\r\n    return this.getUrl(eavConstants.metadata.language.targetType, eavConstants.metadata.language.keyType, id);\r\n  }\r\n\r\n}\r\n","\r\nexport * from './go-to-permissions';\r\nexport * from './models/permission.model';\r\nexport * from './permissions-dialog.config';\r\nexport * from './permissions.routing';\r\nexport * from './permissions.component';\r\n// export * from './permissions.module'; // TOOD:: für was wird der index verwendet?\r\nexport * from './services/metadata.service';\r\nexport * from './services/permissions.service';\r\n","import { MetadataItem } from '../../metadata';\r\n\r\nexport interface Permission extends MetadataItem {\r\n  Identity: string;\r\n  Condition: string;\r\n  Grant: string;\r\n}\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const permissionsDialog: DialogConfig = {\r\n  name: 'SET_PERMISSIONS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { PermissionsComponent } = await import('./permissions.component');\r\n    return PermissionsComponent;\r\n  }\r\n};\r\n","import { Routes } from '@angular/router';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { permissionsDialog } from './permissions-dialog.config';\r\nimport { EditRoutesSubItems } from '../edit/edit.routing';\r\n\r\nexport const permissionRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: permissionsDialog },\r\n    children: EditRoutesSubItems\r\n  },\r\n];\r\n","import { NgClass, NgTemplateOutlet } from '@angular/common';\r\nimport { Component, Input } from '@angular/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@Component({\r\n  selector: 'app-field-hint',\r\n  templateUrl: './field-hint.component.html',\r\n  styleUrls: ['./field-hint.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatFormFieldModule, NgClass, NgTemplateOutlet\r\n  ]\r\n})\r\nexport class FieldHintComponent {\r\n  @Input() isError = false;\r\n  isShort = true;\r\n\r\n  constructor() { }\r\n\r\n  toggleIsShort() {\r\n    this.isShort = !this.isShort;\r\n  }\r\n}\r\n","<div class=\"hint-box\" (click)=\"toggleIsShort()\" [ngClass]=\"{ 'hint-box__short': isShort }\">\r\n  @switch (isError) {\r\n    @case (false) {\r\n      <mat-hint>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-hint>\r\n    }\r\n    @case (true) {\r\n      <mat-error>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-error>\r\n    }\r\n  }\r\n</div>\r\n\r\n<ng-template #content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\nconst logThis = false;\r\n\r\n@Directive({\r\n  selector: '[appClickStopPropagation]',\r\n  standalone: true,\r\n})\r\nexport class ClickStopPropagationDirective {\r\n  constructor() {\r\n    if (logThis)\r\n      console.log('ClickStopPropagationDirective.constructor');\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent): void {\r\n    if (logThis)\r\n      console.log('ClickStopPropagationDirective.onClick', event);\r\n    event.stopPropagation();\r\n  }\r\n\r\n}\r\n"],"names":["Context","DnnContext","HttpClient","map","webApiTypeRoot","webApiFieldsRoot","webApiFieldsAll","webApiFieldsGetShared","ContentTypesFieldsService","constructor","http","context","dnnContext","apiUrl","name","$2sxc","typeListRetrieve","get","params","appid","appId","toString","getInputTypesList","pipe","inputConfigs","inputTypeOptions","config","option","dataType","Type","substring","indexOf","inputType","label","Label","description","Description","isDefault","IsDefault","isObsolete","IsObsolete","isRecommended","IsRecommended","obsoleteMessage","ObsoleteMessage","icon","getReservedNames","getFields","contentTypeStaticName","staticName","fields","fld","Metadata","md","allMd","All","typeMd","inputMd","InputType","merged","getShareableFields","getShareableFieldsFor","attributeId","addInheritedField","targetContentTypeId","sourceContentTypeStaticName","sourceFieldGuid","newName","post","AppId","ContentTypeId","SourceType","SourceField","share","inherit","inheritMetadataOf","reOrder","idArray","contentType","contentTypeId","Id","order","JSON","stringify","setTitle","item","rename","fieldId","delete","IsTitle","Error","add","newField","StaticName","Index","SortOrder","updateInputType","id","field","_","i0","ɵɵinject","i1","i2","i3","_2","factory","ɵfac","MatDialogRef","MAT_DIALOG_DATA","MatSnackBar","copyToClipboard","FeatureDetailService","TranslateModule","AsyncPipe","MatIconModule","MatButtonModule","MatCardModule","TippyDirective","SafeHtmlPipe","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","FeatureInfoDialogComponent_Conditional_0_Conditional_15_Template_span_click_4_listener","id_r3","ɵɵrestoreView","_r2","ctx_r3","ɵɵnextContext","ɵɵresetView","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","ɵɵelement","ɵɵtemplate","FeatureInfoDialogComponent_Conditional_0_Conditional_15_Template","FeatureInfoDialogComponent_Conditional_0_Template_button_click_17_listener","feature_r5","_r1","findOutMore","link","FeatureInfoDialogComponent_Conditional_0_Template_button_click_22_listener","closeDialog","ɵɵpipeBind1","ɵɵsanitizeHtml","ɵɵtextInterpolate1","isEnabled","ɵɵconditional","tmp_6_0","nameId","FeatureInfoDialogComponent","dialogData","dialogRef","snackBar","featureDetailService","ngOnInit","viewModel$","getFeatureDetails","text","open","duration","window","close","ɵɵdirectiveInject","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","FeatureInfoDialogComponent_Template","rf","ctx","FeatureInfoDialogComponent_Conditional_0_Template","tmp_0_0","i4","MatCard","MatCardActions","MatCardContent","MatCardHeader","MatCardTitle","i5","MatButton","i6","MatIcon","i7","TranslatePipe","styles","webApiRoot","featureNameId","ChangeDetectorRef","ViewContainerRef","inject","MatDialog","FeaturesService","BehaviorSubject","switchMap","combineLatest","FeatureComponentProviders","FeatureComponentBase","value","featureNameId$","next","showIf","showIf$","dialog","viewContainerRef","changeDetectorRef","featuresService","feature$","featName","get$","show$","feat","openDialog","openFeatureDialog","inputs","featureId","autoFocus","data","width","markForCheck","ctx_r0","message","ConfirmDeleteDialogComponent","hostClass","confirm","hostVars","hostBindings","ConfirmDeleteDialogComponent_HostBindings","ɵɵhostProperty","ConfirmDeleteDialogComponent_Conditional_4_Template","ConfirmDeleteDialogComponent_Template_button_click_6_listener","ConfirmDeleteDialogComponent_Template_button_click_8_listener","ɵɵtextInterpolate2","entityTitle","entityId","MatCardSubtitle","MatRippleModule","MetadataActionsComponent","agInit","refresh","deleteMetadata","metadata","onDelete","MetadataActionsComponent_Template","MetadataActionsComponent_Template_div_click_1_listener","MatRipple","MetadataContentTypeComponent","MetadataContentTypeComponent_Template","_Type","UntypedFormControl","UntypedFormGroup","Validators","FormsModule","ReactiveFormsModule","MatSlideToggleModule","distinctUntilChanged","startWith","ContentTypesService","dropdownInsertValue","eavConstants","NgClass","MatInputModule","MatOptionModule","MatSelectModule","MatFormFieldModule","FieldHintComponent","ClickStopPropagationDirective","scopeOption_r2","ɵɵrepeaterCreate","MetadataSaveDialogComponent_Conditional_0_Conditional_11_For_5_Template","ɵɵrepeaterTrackByIdentity","vm_r3","scopeOptions","length","ɵɵrepeater","contentType_r5","MetadataSaveDialogComponent_Conditional_0_Conditional_15_For_2_Template","contentTypes","MetadataSaveDialogComponent_Conditional_0_Conditional_11_Template","MetadataSaveDialogComponent_Conditional_0_Conditional_15_Template","MetadataSaveDialogComponent_Conditional_0_Conditional_16_Template","MetadataSaveDialogComponent_Conditional_0_Template_button_click_18_listener","toggleGuidedContentType","MetadataSaveDialogComponent_Conditional_0_Template_button_click_21_listener","MetadataSaveDialogComponent_Conditional_0_Conditional_24_Template","MetadataSaveDialogComponent_Conditional_0_Template_mat_slide_toggle_change_26_listener","$event","toggleAdvancedMode","MetadataSaveDialogComponent_Conditional_0_Template_button_click_29_listener","MetadataSaveDialogComponent_Conditional_0_Template_button_click_31_listener","form","advancedMode","guidedContentType","ɵɵpureFunction1","_c0","controls","touched","errors","required","valid","MetadataSaveDialogComponent","contentTypesService","contentTypes$","scopeOptions$","buildForm","fetchScopes","viewModel","ngOnDestroy","complete","event","checked","formValues","getRawValue","addControl","scopes","default","scope","valueChanges","subscribe","newScope","patchValue","prompt","some","newScopeOption","fetchContentTypes","retrieveContentTypes","getScopes","MetadataSaveDialogComponent_HostBindings","MetadataSaveDialogComponent_Conditional_0_Template","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","FormGroupDirective","FormControlName","MatFormField","MatLabel","MatSuffix","MatSelect","MatOption","i8","MatInput","i9","MatIconButton","i10","i11","MatSlideToggle","MatDialogActions","ActivatedRoute","Router","RouterOutlet","take","ContentItemsService","EntitiesService","MetadataService","BaseWithChildDialogComponent","IdFieldComponent","defaultGridOptions","convertFormToUrl","MatBadgeModule","EcoFabSpeedDialComponent","EcoFabSpeedDialTriggerComponent","EcoFabSpeedDialActionsComponent","SxcGridModule","EavLogger","ColumnDefinitions","transient","itemFor","KeyNumber","KeyGuid","KeyString","Title","MetadataComponent_Conditional_0_Conditional_10_Conditional_5_Template","MetadataComponent_Conditional_0_Conditional_10_Conditional_6_Template","MetadataComponent_Conditional_0_Conditional_10_Conditional_7_Template","MetadataComponent_Conditional_0_Conditional_10_Conditional_8_Template","Target","TargetType","MetadataComponent_Conditional_0_Conditional_15_Template_button_click_0_listener","_r4","ctx_r1","createMetadata","recommendation_r7","Icon","Enabled","MetadataComponent_Conditional_0_Conditional_16_For_10_Template_button_click_0_listener","_r6","$implicit","MetadataComponent_Conditional_0_Conditional_16_For_10_Conditional_1_Template","MetadataComponent_Conditional_0_Conditional_16_For_10_Conditional_2_Template","MetadataComponent_Conditional_0_Conditional_16_Template_eco_fab_speed_dial_openChange_0_listener","_r5","openChange","MetadataComponent_Conditional_0_Conditional_16_Template_button_click_6_listener","MetadataComponent_Conditional_0_Conditional_16_For_10_Template","fabOpen","recommendations","MetadataComponent_Conditional_0_Template_button_click_4_listener","MetadataComponent_Conditional_0_Conditional_9_Template","MetadataComponent_Conditional_0_Conditional_10_Template","MetadataComponent_Conditional_0_Conditional_15_Template","MetadataComponent_Conditional_0_Conditional_16_Template","title","gridOptions","logThis","MetadataComponent","router","route","buildGridOptions","entitiesService","metadataService","contentItemsService","metadataSet$","Items","Recommendations","itemFor$","undefined","fabOpen$","targetType","parseInt","snapshot","paramMap","keyType","key","decodeURIComponent","fetchFor","fetchMetadata","subscriptions","childDialogClosed$","logFilteredRecs","log","rxTap","set","a","filteredRecs$","filter","r","i","Count","logViewModel","recommendation","MissingFeature","CreateEmpty","Name","create","For","calculateItemFor","error","createMetadataForm","metadataDialogRef","afterClosed","items","ContentTypeName","formUrl","navigate","relativeTo","Object","values","find","m","target","keyTypes","guid","Guid","number","Number","string","String","getAll","logGetMetadata","getMetadata","forEach","startsWith","replace","atob","editMetadata","EntityId","confirmed","DeleteWarning","confirmationDialogRef","isConfirmed","columnDefs","cellRenderer","cellRendererParams","tooltipGetter","TextWide","onCellClicked","headerName","valueGetter","ActionsPinnedRight1","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","MetadataComponent_Template","MetadataComponent_Conditional_0_Template","MatMiniFabButton","MatFabButton","AgGridAngular","MatBadge","GoToPermissions","path","loadChildren","then","permissionRoutes","getUrl","getUrlApp","app","getUrlAttribute","attribute","getUrlContentType","getUrlEntity","entity","getUrlLanguage","language","permissionsDialog","initContext","panelSize","panelClass","getComponent","_asyncToGenerator","PermissionsComponent","DialogEntryComponent","EditRoutesSubItems","component","children","NgTemplateOutlet","ɵɵelementContainer","FieldHintComponent_Case_1_ng_container_1_Template","content_r2","FieldHintComponent_Case_2_ng_container_1_Template","ɵɵprojection","isError","isShort","toggleIsShort","ngContentSelectors","FieldHintComponent_Template","FieldHintComponent_Template_div_click_0_listener","FieldHintComponent_Case_1_Template","FieldHintComponent_Case_2_Template","FieldHintComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","_c1","tmp_2_0","MatHint","MatError","console","onClick","stopPropagation","ClickStopPropagationDirective_HostBindings","ClickStopPropagationDirective_click_HostBindingHandler"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
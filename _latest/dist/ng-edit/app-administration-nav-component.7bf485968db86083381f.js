(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{XySb:function(t,e,i){"use strict";i.r(e);var n=i("D57K"),o=i("5/c3"),a=i("LiEJ"),s=i("3riI"),r=i("LR82"),c=i("Jg5f"),l=i("z5yO"),p=i("1C3z"),d=i("BLjT"),b=i("KoVM"),u=i("2FQU"),h=i("8AiQ"),m=i("9HSk"),f=i("Qc/f"),g=i("r4gC"),y=i("JNB8"),v=i("Ata6"),C=function(){function t(t){this.sanitizer=t}return t.prototype.ngOnInit=function(){this.gettingStartedSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.gettingStartedUrl)},t.\u0275fac=function(e){return new(e||t)(p.Pb(v.b))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-getting-started"]],inputs:{gettingStartedUrl:"gettingStartedUrl"},decls:1,vars:1,consts:[[1,"iframe",3,"src"]],template:function(t,e){1&t&&p.Qb(0,"iframe",0),2&t&&p.nc("src",e.gettingStartedSafe,p.Fc)},styles:[".iframe[_ngcontent-%COMP%]{border:none;width:100%;height:calc(100vh - 209px)}@media (max-width:600px){.iframe[_ngcontent-%COMP%]{height:calc(100vh - 161px)}}"],changeDetection:0}),t}(),V=i("W/Ou"),U=i("QagP"),T=i("KLQV"),w=i("OeRG"),O=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-data-items"]],decls:7,vars:1,consts:[["matRipple","","matTooltip","Add item",1,"chip-component","highlight"],[1,"chip-box"],[1,"chip"],[1,"like-button"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"span",2),p.Oc(3),p.Ub(),p.Ub(),p.Vb(4,"div",3),p.Vb(5,"mat-icon"),p.Oc(6,"add"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(3),p.Pc(e.value))},directives:[w.q,f.a,g.a],styles:[".chip-box[_ngcontent-%COMP%]{width:40px}"],changeDetection:0}),t}();function k(t,e){if(1&t&&(p.Vb(0,"div",2),p.Vb(1,"div",3),p.Vb(2,"span",4),p.Oc(3),p.Ub(),p.Ub(),p.Vb(4,"div",5),p.Vb(5,"mat-icon"),p.Oc(6,"dns"),p.Ub(),p.Ub(),p.Ub()),2&t){var i=p.hc();p.Bb(3),p.Pc(i.value)}}function I(t,e){if(1&t&&(p.Vb(0,"div",6),p.Vb(1,"div",3),p.Vb(2,"span",4),p.Oc(3),p.Ub(),p.Ub(),p.Vb(4,"div",7),p.Vb(5,"mat-icon"),p.Oc(6,"share"),p.Ub(),p.Ub(),p.Ub()),2&t){var i=p.hc();p.oc("matTooltip","This content-type shares the definition of #",i.contentType.SharedDefId," so you can't edit it here. Read 2sxc.org/help?tag=shared-types"),p.Bb(3),p.Pc(i.value)}}var S=function(){function t(){}return t.prototype.agInit=function(t){this.contentType=t.data,this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-data-fields"]],decls:2,vars:2,consts:[["matRipple","","class","chip-component highlight","matTooltip","Edit fields",4,"ngIf"],["class","chip-component disabled",3,"matTooltip",4,"ngIf"],["matRipple","","matTooltip","Edit fields",1,"chip-component","highlight"],[1,"chip-box"],[1,"chip"],[1,"like-button"],[1,"chip-component","disabled",3,"matTooltip"],[1,"like-button","disabled"]],template:function(t,e){1&t&&(p.Mc(0,k,7,1,"div",0),p.Mc(1,I,7,2,"div",1)),2&t&&(p.nc("ngIf",!e.contentType.UsesSharedDef),p.Bb(1),p.nc("ngIf",e.contentType.UsesSharedDef))},directives:[h.m,w.q,f.a,g.a],styles:[".chip-box[_ngcontent-%COMP%]{width:32px}"],changeDetection:0}),t}();function x(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",7),p.dc("click",(function(){return p.Dc(i),p.hc().createOrEditMetadata()})),p.Vb(1,"mat-icon"),p.Oc(2,"edit"),p.Ub(),p.Ub()}}function P(t,e){1&t&&(p.Vb(0,"div",8),p.Vb(1,"mat-icon"),p.Oc(2,"edit"),p.Ub(),p.Ub())}function D(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",9),p.dc("click",(function(){return p.Dc(i),p.hc().openPermissions()})),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub()}}function A(t,e){1&t&&(p.Vb(0,"div",8),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub())}function W(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",10),p.dc("click",(function(){return p.Dc(i),p.hc().deleteContentType()})),p.Vb(1,"mat-icon"),p.Oc(2,"delete"),p.Ub(),p.Ub()}}function Q(t,e){1&t&&(p.Vb(0,"div",8),p.Vb(1,"mat-icon"),p.Oc(2,"delete"),p.Ub(),p.Ub())}var B=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.contentType=this.params.data;var e=this.params.showPermissionsGetter();this.showPermissions=e&&this.isGuid(this.contentType.StaticName)},t.prototype.refresh=function(t){return!0},t.prototype.createOrEditMetadata=function(){this.params.onCreateOrEditMetadata(this.contentType)},t.prototype.openExport=function(){this.params.onOpenExport(this.contentType)},t.prototype.openImport=function(){this.params.onOpenImport(this.contentType)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.contentType)},t.prototype.deleteContentType=function(){this.params.onDelete(this.contentType)},t.prototype.isGuid=function(t){return new RegExp(/[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/i).test(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-data-actions"]],decls:13,vars:6,consts:[[1,"actions-component"],["class","like-button highlight","matRipple","","matTooltip","Metadata",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["matRipple","","matTooltip","Export",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Import",1,"like-button","highlight",3,"click"],["class","like-button highlight","matRipple","","matTooltip","Permissions",3,"click",4,"ngIf"],["class","like-button highlight","matRipple","","matTooltip","Delete",3,"click",4,"ngIf"],["matRipple","","matTooltip","Metadata",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Mc(1,x,3,0,"div",1),p.Mc(2,P,3,0,"div",2),p.Vb(3,"div",3),p.dc("click",(function(){return e.openExport()})),p.Vb(4,"mat-icon"),p.Oc(5,"cloud_download"),p.Ub(),p.Ub(),p.Vb(6,"div",4),p.dc("click",(function(){return e.openImport()})),p.Vb(7,"mat-icon"),p.Oc(8,"cloud_upload"),p.Ub(),p.Ub(),p.Mc(9,D,3,0,"div",5),p.Mc(10,A,3,0,"div",2),p.Mc(11,W,3,0,"div",6),p.Mc(12,Q,3,0,"div",2),p.Ub()),2&t&&(p.Bb(1),p.nc("ngIf",!e.contentType.UsesSharedDef),p.Bb(1),p.nc("ngIf",e.contentType.UsesSharedDef),p.Bb(7),p.nc("ngIf",e.showPermissions),p.Bb(1),p.nc("ngIf",!e.showPermissions),p.Bb(1),p.nc("ngIf",!e.contentType.UsesSharedDef),p.Bb(1),p.nc("ngIf",e.contentType.UsesSharedDef))},directives:[h.m,w.q,f.a,g.a],styles:[""],changeDetection:0}),t}(),F=i("o9tz"),E=i("JzAw"),G=i("QjRa"),M=i("uuTa"),R=i("S36y"),N=i("2pW/"),J=i("G6Ml"),q=i("hOvr"),K=i("LuBX"),L=i("ZSGP");function j(t,e){if(1&t){var i=p.Wb();p.Vb(0,"button",9),p.dc("click",(function(){return p.Dc(i),p.hc().createGhost()})),p.Vb(1,"mat-icon"),p.Oc(2,"share"),p.Ub(),p.Ub()}}function z(t,e){if(1&t&&(p.Vb(0,"mat-option",10),p.Oc(1),p.Ub()),2&t){var i=e.$implicit;p.nc("value",i.value),p.Bb(1),p.Qc(" ","Scope: "+i.name," ")}}var X=function(){function t(t,e,i,o,s){var c=this;this.router=t,this.route=e,this.contentTypesService=i,this.globalConfigurationService=o,this.snackBar=s,this.contentTypes$=new a.a(null),this.scope=F.a.scopes.default.value,this.defaultScope=F.a.scopes.default.value,this.scopeOptions$=new a.a([]),this.debugEnabled$=this.globalConfigurationService.getDebugEnabled(),this.modules=T.a,this.gridOptions=Object(n.a)(Object(n.a)({},G.a),{frameworkComponents:{idFieldComponent:E.a,dataItemsComponent:O,dataFieldsComponent:S,dataActionsComponent:B},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Content Type",field:"Label",flex:3,minWidth:250,cellClass:"primary-action highlight",sort:"asc",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.showContentItems.bind(this)},{headerName:"Items",field:"Items",width:102,headerClass:"dense",cellClass:"secondary-action no-padding",sortable:!0,filter:"agNumberColumnFilter",cellRenderer:"dataItemsComponent",onCellClicked:this.addItem.bind(this)},{headerName:"Fields",field:"Fields",width:94,headerClass:"dense",cellClass:"secondary-action no-padding",sortable:!0,filter:"agNumberColumnFilter",cellRenderer:"dataFieldsComponent",onCellClicked:this.editFields.bind(this)},{width:200,cellClass:"secondary-action no-padding",cellRenderer:"dataActionsComponent",cellRendererParams:{showPermissionsGetter:this.showPermissionsGetter.bind(this),onCreateOrEditMetadata:this.createOrEditMetadata.bind(this),onOpenExport:this.openExport.bind(this),onOpenImport:this.openImport.bind(this),onOpenPermissions:this.openPermissions.bind(this),onDelete:this.deleteContentType.bind(this)}},{headerName:"Name",field:"Name",flex:1,minWidth:100,cellClass:this.nameCellClassGetter.bind(this),sortable:!0,filter:"agTextColumnFilter",onCellClicked:function(t){c.editContentType(t.data)}},{headerName:"Description",field:"Metadata.Description",flex:3,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"}]}),this.subscription=new r.a}return t.prototype.ngOnInit=function(){this.fetchContentTypes(),this.fetchScopes(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.contentTypes$.complete(),this.scopeOptions$.complete(),this.subscription.unsubscribe()},t.prototype.showContentItems=function(t){this.router.navigate(["items/"+t.data.StaticName],{relativeTo:this.route.firstChild})},t.prototype.editContentType=function(t){if(t){if(t.UsesSharedDef)return;this.router.navigate([this.scope+"/"+t.Id+"/edit"],{relativeTo:this.route.firstChild})}else this.router.navigate([this.scope+"/add"],{relativeTo:this.route.firstChild})},t.prototype.fetchContentTypes=function(){var t=this;this.contentTypesService.retrieveContentTypes(this.scope).subscribe((function(e){t.contentTypes$.next(e)}))},t.prototype.fetchScopes=function(){var t=this;this.contentTypesService.getScopes().subscribe((function(e){t.scopeOptions$.next(e)}))},t.prototype.createGhost=function(){var t=this,e=window.prompt("To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost");e&&(this.snackBar.open("Saving..."),this.contentTypesService.createGhost(e).subscribe((function(e){t.snackBar.open("Saved",null,{duration:2e3}),t.fetchContentTypes()})))},t.prototype.changeScope=function(t){var e=t.value;if("Other"===e)if(e=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")){if(!this.scopeOptions$.value.find((function(t){return t.value===e}))){var i={name:e,value:e};this.scopeOptions$.next(Object(n.g)(this.scopeOptions$.value,[i]))}}else e=F.a.scopes.default.value;this.scope=e,this.fetchContentTypes(),this.scope!==this.defaultScope&&this.snackBar.open("Warning! You are in a special scope. Changing things here could easily break functionality",null,{duration:2e3})},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.StaticName},t.prototype.showPermissionsGetter=function(){return this.showPermissions},t.prototype.nameCellClassGetter=function(t){return t.data.UsesSharedDef?"disabled":"primary-action highlight"},t.prototype.addItem=function(t){var e={items:[{ContentTypeName:t.data.StaticName}]},i=Object(M.a)(e);this.router.navigate(["edit/"+i],{relativeTo:this.route.firstChild})},t.prototype.editFields=function(t){var e=t.data;e.UsesSharedDef||this.router.navigate(["fields/"+e.StaticName],{relativeTo:this.route.firstChild})},t.prototype.createOrEditMetadata=function(t){var e={items:[t.Metadata?{EntityId:t.Metadata.Id}:{ContentTypeName:F.a.contentTypes.contentType,For:{Target:F.a.metadata.contentType.target,String:t.StaticName},Prefill:{Label:t.Name,Description:t.Description}}]},i=Object(M.a)(e);this.router.navigate(["edit/"+i],{relativeTo:this.route.firstChild})},t.prototype.openExport=function(t){this.router.navigate(["export/"+t.StaticName],{relativeTo:this.route.firstChild})},t.prototype.openImport=function(t){this.router.navigate([t.StaticName+"/import"],{relativeTo:this.route.firstChild})},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+F.a.metadata.entity.type+"/"+F.a.keyTypes.guid+"/"+t.StaticName],{relativeTo:this.route.firstChild})},t.prototype.deleteContentType=function(t){var e=this;confirm("Are you sure you want to delete '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.contentTypesService.delete(t).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchContentTypes()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(l.a)((function(t){return t instanceof o.b})),Object(V.a)(!!this.route.snapshot.firstChild.firstChild),Object(c.a)((function(){return!!t.route.snapshot.firstChild.firstChild})),Object(U.a)(),Object(l.a)((function(t){var e=Object(n.f)(t,2);return e[0]&&!e[1]}))).subscribe((function(){t.fetchContentTypes()})))},t.\u0275fac=function(e){return new(e||t)(p.Pb(o.c),p.Pb(o.a),p.Pb(R.a),p.Pb(u.a),p.Pb(N.b))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-data"]],inputs:{showPermissions:"showPermissions"},decls:15,vars:12,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"scope-box"],["mat-icon-button","","color","accent","matTooltip","Create a ghost content type",3,"click",4,"ngIf"],["appearance","standard","color","accent",1,"scope-box__dropdown"],["name","Scope",3,"ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","Other"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new content type",1,"grid-fab",3,"click"],["mat-icon-button","","color","accent","matTooltip","Create a ghost content type",3,"click"],[3,"value"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Qb(1,"ag-grid-angular",1),p.ic(2,"async"),p.Vb(3,"div",2),p.Mc(4,j,3,0,"button",3),p.ic(5,"async"),p.Vb(6,"mat-form-field",4),p.Vb(7,"mat-select",5),p.dc("selectionChange",(function(t){return e.changeScope(t)})),p.Mc(8,z,2,2,"mat-option",6),p.ic(9,"async"),p.Vb(10,"mat-option",7),p.Oc(11,"Scope: Other..."),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(12,"button",8),p.dc("click",(function(){return e.editContentType(null)})),p.Vb(13,"mat-icon"),p.Oc(14,"add"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(1),p.nc("rowData",p.jc(2,6,e.contentTypes$))("modules",e.modules)("gridOptions",e.gridOptions),p.Bb(3),p.nc("ngIf",p.jc(5,8,e.debugEnabled$)),p.Bb(3),p.nc("ngModel",e.scope),p.Bb(1),p.nc("ngForOf",p.jc(9,10,e.scopeOptions$)))},directives:[J.a,h.m,q.c,K.a,L.l,L.o,h.l,w.l,m.a,f.a,g.a],pipes:[h.b],styles:[".scope-box[_ngcontent-%COMP%]{margin-right:66px;margin-left:8px;display:flex;align-items:flex-end;overflow:hidden}.scope-box__dropdown[_ngcontent-%COMP%]{width:200px;margin-top:-14px;font-size:14px;height:auto}"],changeDetection:0}),t}();function Z(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",7),p.dc("click",(function(){return p.Dc(i),p.hc().openPermissions()})),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub()}}function H(t,e){1&t&&(p.Vb(0,"div",8),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub())}var Y=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.showPermissions=this.params.showPermissionsGetter()},t.prototype.refresh=function(t){return!0},t.prototype.editQuery=function(){this.params.onEditQuery(this.params.data)},t.prototype.cloneQuery=function(){this.params.onCloneQuery(this.params.data)},t.prototype.exportQuery=function(){this.params.onExportQuery(this.params.data)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.params.data)},t.prototype.deleteQuery=function(){this.params.onDelete(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-queries-actions"]],decls:15,vars:2,consts:[[1,"actions-component"],["matRipple","","matTooltip","Edit",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Copy",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Export",1,"like-button","highlight",3,"click"],["class","like-button highlight","matRipple","","matTooltip","Permissions",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.dc("click",(function(){return e.editQuery()})),p.Vb(2,"mat-icon"),p.Oc(3,"edit"),p.Ub(),p.Ub(),p.Vb(4,"div",2),p.dc("click",(function(){return e.cloneQuery()})),p.Vb(5,"mat-icon"),p.Oc(6,"file_copy"),p.Ub(),p.Ub(),p.Vb(7,"div",3),p.dc("click",(function(){return e.exportQuery()})),p.Vb(8,"mat-icon"),p.Oc(9,"cloud_download"),p.Ub(),p.Ub(),p.Mc(10,Z,3,0,"div",4),p.Mc(11,H,3,0,"div",5),p.Vb(12,"div",6),p.dc("click",(function(){return e.deleteQuery()})),p.Vb(13,"mat-icon"),p.Oc(14,"delete"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(10),p.nc("ngIf",e.showPermissions),p.Bb(1),p.nc("ngIf",!e.showPermissions))},directives:[w.q,f.a,g.a,h.m],styles:[""],changeDetection:0}),t}(),$=i("frVg"),_=i("Xi8o"),tt=i("H0VJ"),et=i("8/3+"),it=i("KYsL"),nt=function(){function t(t,e,i,o,s,c){this.router=t,this.route=e,this.pipelinesService=i,this.contentExportService=o,this.snackBar=s,this.dialogService=c,this.queries$=new a.a(null),this.modules=T.a,this.gridOptions=Object(n.a)(Object(n.a)({},G.a),{frameworkComponents:{idFieldComponent:E.a,queriesActionsComponent:Y},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.openVisualQueryDesigner.bind(this)},{width:200,cellClass:"secondary-action no-padding",cellRenderer:"queriesActionsComponent",cellRendererParams:{showPermissionsGetter:this.showPermissionsGetter.bind(this),onEditQuery:this.editQuery.bind(this),onCloneQuery:this.cloneQuery.bind(this),onOpenPermissions:this.openPermissions.bind(this),onExportQuery:this.exportQuery.bind(this),onDelete:this.deleteQuery.bind(this)}},{headerName:"Description",field:"Description",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"}]}),this.subscription=new r.a}return t.prototype.ngOnInit=function(){this.fetchQueries(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.queries$.complete(),this.subscription.unsubscribe()},t.prototype.fetchQueries=function(){var t=this;this.pipelinesService.getAll(F.a.contentTypes.query).subscribe((function(e){t.queries$.next(e)}))},t.prototype.importQuery=function(t){this.router.navigate(["import"],{relativeTo:this.route.firstChild,state:{files:t}})},t.prototype.editQuery=function(t){var e={items:[null==t?{ContentTypeName:F.a.contentTypes.query,Prefill:{TestParameters:F.a.pipelineDesigner.testParameters}}:{EntityId:t.Id}]},i=Object(M.a)(e);this.router.navigate(["edit/"+i],{relativeTo:this.route.firstChild})},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.Guid},t.prototype.showPermissionsGetter=function(){return this.showPermissions},t.prototype.openVisualQueryDesigner=function(t){this.dialogService.openQueryDesigner(t.data.Id)},t.prototype.cloneQuery=function(t){var e=this;this.snackBar.open("Copying..."),this.pipelinesService.clonePipeline(t.Id).subscribe((function(){e.snackBar.open("Copied",null,{duration:2e3}),e.fetchQueries()}))},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+F.a.metadata.entity.type+"/"+F.a.keyTypes.guid+"/"+t.Guid],{relativeTo:this.route.firstChild})},t.prototype.exportQuery=function(t){this.contentExportService.exportEntity(t.Id,"Query",!0)},t.prototype.deleteQuery=function(t){var e=this;confirm("Delete Pipeline '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.pipelinesService.delete(t.Id).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchQueries()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(l.a)((function(t){return t instanceof o.b})),Object(V.a)(!!this.route.snapshot.firstChild.firstChild),Object(c.a)((function(){return!!t.route.snapshot.firstChild.firstChild})),Object(U.a)(),Object(l.a)((function(t){var e=Object(n.f)(t,2);return e[0]&&!e[1]}))).subscribe((function(){t.fetchQueries()})))},t.\u0275fac=function(e){return new(e||t)(p.Pb(o.c),p.Pb(o.a),p.Pb($.a),p.Pb(_.a),p.Pb(N.b),p.Pb(tt.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-queries"]],inputs:{showPermissions:"showPermissions"},decls:15,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","modules","gridOptions","filesDropped"],[1,"grid-fab"],["spin","true"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","matTooltip","Import query (or drag and drop on the queries list)",3,"click"],["mat-mini-fab","","matTooltip","Create a new query",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"ag-grid-angular",1),p.dc("filesDropped",(function(t){return e.importQuery(t)})),p.ic(2,"async"),p.Ub(),p.Vb(3,"eco-fab-speed-dial",2),p.Vb(4,"eco-fab-speed-dial-trigger",3),p.Vb(5,"button",4),p.Vb(6,"mat-icon",5),p.Oc(7,"add"),p.Ub(),p.Ub(),p.Ub(),p.Vb(8,"eco-fab-speed-dial-actions"),p.Vb(9,"button",6),p.dc("click",(function(){return e.importQuery()})),p.Vb(10,"mat-icon"),p.Oc(11,"cloud_upload"),p.Ub(),p.Ub(),p.Vb(12,"button",7),p.dc("click",(function(){return e.editQuery(null)})),p.Vb(13,"mat-icon"),p.Oc(14,"add"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(1),p.nc("rowData",p.jc(2,3,e.queries$))("modules",e.modules)("gridOptions",e.gridOptions))},directives:[J.a,et.a,it.b,it.d,m.a,g.a,it.a,f.a],pipes:[h.b],styles:[""],changeDetection:0}),t}();function ot(t){var e="",i="";return t.HasQuery?(e="Data (from query)",i="filter_list"):t.List?(e="Items (list)",i="format_list_numbered"):t.ContentType||t.HasQuery?t.List||(e="Item (one)",i="looks_one"):(e="Code",i="check_box_outline_blank"),{value:e,icon:i}}var at=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value;var e=ot(t.data);this.icon=e.icon},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-views-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"matTooltip"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"mat-icon"),p.Oc(2),p.Ub(),p.Ub()),2&t&&(p.nc("matTooltip",e.value),p.Bb(2),p.Pc(e.icon))},directives:[f.a,g.a],styles:[""],changeDetection:0}),t}();function st(t,e){1&t&&(p.Vb(0,"mat-icon"),p.Oc(1,"visibility"),p.Ub())}function rt(t,e){1&t&&(p.Vb(0,"mat-icon"),p.Oc(1,"visibility_off"),p.Ub())}var ct=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-views-show"]],decls:3,vars:2,consts:[[1,"icon-container"],[4,"ngIf"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Mc(1,st,2,0,"mat-icon",1),p.Mc(2,rt,2,0,"mat-icon",1),p.Ub()),2&t&&(p.Bb(1),p.nc("ngIf",e.value),p.Bb(1),p.nc("ngIf",!e.value))},directives:[h.m,g.a],styles:[""],changeDetection:0}),t}();function lt(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",5),p.dc("click",(function(){return p.Dc(i),p.hc().openCode()})),p.Vb(1,"mat-icon"),p.Oc(2,"code"),p.Ub(),p.Ub()}}function pt(t,e){1&t&&(p.Vb(0,"div",6),p.Vb(1,"mat-icon"),p.Oc(2,"code"),p.Ub(),p.Ub())}function dt(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",7),p.dc("click",(function(){return p.Dc(i),p.hc().openPermissions()})),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub()}}function bt(t,e){1&t&&(p.Vb(0,"div",6),p.Vb(1,"mat-icon"),p.Oc(2,"person"),p.Ub(),p.Ub())}var ut=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.showCode=this.params.showCodeGetter(),this.showPermissions=this.params.showPermissionsGetter()},t.prototype.refresh=function(t){return!0},t.prototype.openCode=function(){this.params.onOpenCode(this.params.data)},t.prototype.openPermissions=function(){this.params.onOpenPermissions(this.params.data)},t.prototype.deleteView=function(){this.params.onDelete(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-views-actions"]],decls:8,vars:4,consts:[[1,"actions-component"],["class","like-button highlight","matRipple","","matTooltip","Code",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["class","like-button highlight","matRipple","","matTooltip","Permissions",3,"click",4,"ngIf"],["matRipple","","matTooltip","Delete",1,"like-button","highlight",3,"click"],["matRipple","","matTooltip","Code",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"],["matRipple","","matTooltip","Permissions",1,"like-button","highlight",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Mc(1,lt,3,0,"div",1),p.Mc(2,pt,3,0,"div",2),p.Mc(3,dt,3,0,"div",3),p.Mc(4,bt,3,0,"div",2),p.Vb(5,"div",4),p.dc("click",(function(){return e.deleteView()})),p.Vb(6,"mat-icon"),p.Oc(7,"delete"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(1),p.nc("ngIf",e.showCode),p.Bb(1),p.nc("ngIf",!e.showCode),p.Bb(1),p.nc("ngIf",e.showPermissions),p.Bb(1),p.nc("ngIf",!e.showPermissions))},directives:[h.m,w.q,f.a,g.a],styles:[""],changeDetection:0}),t}(),ht=i("CeOT"),mt=i("uzd0"),ft=function(){function t(t,e,i,o,s){var c=this;this.viewsService=t,this.router=e,this.route=i,this.snackBar=o,this.dialogService=s,this.views$=new a.a(null),this.polymorphStatus$=new a.a(""),this.polymorphLogo="data:image/png;base64,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",this.modules=T.a,this.gridOptions=Object(n.a)(Object(n.a)({},G.a),{frameworkComponents:{idFieldComponent:E.a,booleanFilterComponent:ht.a,viewsTypeComponent:at,viewsShowComponent:ct,viewsActionsComponent:ut},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.idValueGetter},{headerName:"Show",field:"IsHidden",width:70,headerClass:"dense",cellClass:"no-outline",cellRenderer:"viewsShowComponent",sortable:!0,filter:"booleanFilterComponent",valueGetter:this.showValueGetter},{headerName:"Name",field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.editView.bind(this)},{headerName:"Type",field:"Type",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",cellRenderer:"viewsTypeComponent",valueGetter:this.typeValueGetter},{headerName:"Used",field:"Used",width:70,headerClass:"dense",cellClass:"primary-action highlight",sortable:!0,filter:"agNumberColumnFilter",onCellClicked:function(t){c.openUsage(t)}},{width:120,cellClass:"secondary-action no-padding",cellRenderer:"viewsActionsComponent",cellRendererParams:{showCodeGetter:this.showCodeGetter.bind(this),showPermissionsGetter:this.showPermissionsGetter.bind(this),onOpenCode:this.openCode.bind(this),onOpenPermissions:this.openPermissions.bind(this),onDelete:this.deleteView.bind(this)}},{headerName:"Url Key",field:"ViewNameInUrl",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Path",field:"TemplatePath",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Content",field:"ContentType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ContentType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.contentDemoValueGetter},{headerName:"Presentation",field:"PresentationType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"PresentationType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.presentationDemoValueGetter},{headerName:"Header",field:"ListContentType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ListContentType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.headerDemoValueGetter},{headerName:"Header Presentation",field:"ListPresentationType.Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Default",field:"ListPresentationType.DemoId",flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.headerPresDemoValueGetter}]}),this.subscription=new r.a}return t.prototype.ngOnInit=function(){this.fetchTemplates(),this.fetchPolymorphism(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.views$.complete(),this.polymorphStatus$.complete(),this.subscription.unsubscribe()},t.prototype.fetchTemplates=function(){var t=this;this.viewsService.getAll().subscribe((function(e){t.views$.next(e)}))},t.prototype.fetchPolymorphism=function(){var t=this;this.viewsService.getPolymorphism().subscribe((function(e){t.polymorphism=e,t.polymorphStatus$.next(null===e.Id?"not configured":null===e.Resolver?"disabled":"using "+e.Resolver)}))},t.prototype.editView=function(t){var e=null==t?void 0:t.data,i={items:[null==e?{ContentTypeName:F.a.contentTypes.template}:{EntityId:e.Id}]},n=Object(M.a)(i);this.router.navigate(["edit/"+n],{relativeTo:this.route.firstChild})},t.prototype.editPolymorphisms=function(){if(this.polymorphism){var t={items:[this.polymorphism.Id?{EntityId:this.polymorphism.Id}:{ContentTypeName:this.polymorphism.TypeName}]},e=Object(M.a)(t);this.router.navigate(["edit/"+e],{relativeTo:this.route.firstChild})}},t.prototype.idValueGetter=function(t){var e=t.data;return"ID: "+e.Id+"\nGUID: "+e.Guid},t.prototype.showValueGetter=function(t){return!t.data.IsHidden},t.prototype.typeValueGetter=function(t){return ot(t.data).value},t.prototype.showCodeGetter=function(){return this.showCode},t.prototype.showPermissionsGetter=function(){return this.showPermissions},t.prototype.contentDemoValueGetter=function(t){var e=t.data;return e.ContentType.DemoId+" "+e.ContentType.DemoTitle},t.prototype.presentationDemoValueGetter=function(t){var e=t.data;return e.PresentationType.DemoId+" "+e.PresentationType.DemoTitle},t.prototype.headerDemoValueGetter=function(t){var e=t.data;return e.ListContentType.DemoId+" "+e.ListContentType.DemoTitle},t.prototype.headerPresDemoValueGetter=function(t){var e=t.data;return e.ListPresentationType.DemoId+" "+e.ListPresentationType.DemoTitle},t.prototype.openUsage=function(t){this.router.navigate(["usage/"+t.data.Guid],{relativeTo:this.route.firstChild})},t.prototype.openCode=function(t){this.dialogService.openCodeFile(t.TemplatePath)},t.prototype.openPermissions=function(t){this.router.navigate(["permissions/"+F.a.metadata.entity.type+"/"+F.a.keyTypes.guid+"/"+t.Guid],{relativeTo:this.route.firstChild})},t.prototype.deleteView=function(t){var e=this;confirm("Delete '"+t.Name+"' ("+t.Id+")?")&&(this.snackBar.open("Deleting..."),this.viewsService.delete(t.Id).subscribe((function(t){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchTemplates()})))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(l.a)((function(t){return t instanceof o.b})),Object(V.a)(!!this.route.snapshot.firstChild.firstChild),Object(c.a)((function(){return!!t.route.snapshot.firstChild.firstChild})),Object(U.a)(),Object(l.a)((function(t){var e=Object(n.f)(t,2);return e[0]&&!e[1]}))).subscribe((function(){t.fetchTemplates(),t.fetchPolymorphism()})))},t.\u0275fac=function(e){return new(e||t)(p.Pb(mt.a),p.Pb(o.c),p.Pb(o.a),p.Pb(N.b),p.Pb(tt.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-views"]],inputs:{showCode:"showCode",showPermissions:"showPermissions"},decls:12,vars:9,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"more-actions-box"],["mat-raised-button","","matTooltip","Configure Polymorphism",3,"click"],[1,"polymorph-logo",3,"src"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new view",1,"grid-fab",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Qb(1,"ag-grid-angular",1),p.ic(2,"async"),p.Vb(3,"div",2),p.Vb(4,"button",3),p.dc("click",(function(){return e.editPolymorphisms()})),p.Qb(5,"img",4),p.Vb(6,"span"),p.Oc(7),p.ic(8,"async"),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"button",5),p.dc("click",(function(){return e.editView(null)})),p.Vb(10,"mat-icon"),p.Oc(11,"add"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(1),p.nc("rowData",p.jc(2,5,e.views$))("modules",e.modules)("gridOptions",e.gridOptions),p.Bb(4),p.nc("src",e.polymorphLogo,p.Gc),p.Bb(2),p.Qc("Polymorphism ",p.jc(8,7,e.polymorphStatus$),""))},directives:[J.a,m.a,f.a,g.a],pipes:[h.b],styles:[".more-actions-box[_ngcontent-%COMP%]{margin-right:66px;display:flex;align-items:flex-end}.polymorph-logo[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:4px}"],changeDetection:0}),t}();function gt(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",3),p.dc("click",(function(){return p.Dc(i),p.hc().openCode()})),p.Vb(1,"mat-icon"),p.Oc(2,"code"),p.Ub(),p.Ub()}}function yt(t,e){1&t&&(p.Vb(0,"div",4),p.Vb(1,"mat-icon"),p.Oc(2,"code"),p.Ub(),p.Ub())}var vt=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.showCode=this.params.showCodeGetter()},t.prototype.refresh=function(t){return!0},t.prototype.openCode=function(){this.params.onOpenCode(this.params.data)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Jb({type:t,selectors:[["app-web-api-actions"]],decls:3,vars:2,consts:[[1,"actions-component"],["class","like-button highlight","matRipple","","matTooltip","Code",3,"click",4,"ngIf"],["class","like-button disabled",4,"ngIf"],["matRipple","","matTooltip","Code",1,"like-button","highlight",3,"click"],[1,"like-button","disabled"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Mc(1,gt,3,0,"div",1),p.Mc(2,yt,3,0,"div",2),p.Ub()),2&t&&(p.Bb(1),p.nc("ngIf",e.showCode),p.Bb(1),p.nc("ngIf",!e.showCode))},directives:[h.m,w.q,f.a,g.a],styles:[""],changeDetection:0}),t}(),Ct=i("Q+Kz"),Vt=i("p2eq"),Ut=i("+UDY"),Tt=function(){function t(t,e,i,o){this.webApisService=t,this.sanitizeService=e,this.snackBar=i,this.dialogService=o,this.webApis$=new a.a(null),this.modules=T.a,this.gridOptions=Object(n.a)(Object(n.a)({},G.a),{frameworkComponents:{webApiActions:vt},columnDefs:[{headerName:"Folder",field:"folder",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Name",field:"name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{width:80,cellClass:"secondary-action no-padding",cellRenderer:"webApiActions",cellRendererParams:{showCodeGetter:this.showCodeGetter.bind(this),onOpenCode:this.openCode.bind(this)}}]})}return t.prototype.ngOnInit=function(){this.fetchWebApis()},t.prototype.ngOnDestroy=function(){this.webApis$.complete()},t.prototype.addController=function(){var t=this,e=prompt("Controller name:",Ct.a);if(null!==e&&0!==e.length){var i=(e=(e=this.sanitizeService.sanitizePath(e)).replace(/\s/g,"")).toLocaleLowerCase(),n=i.lastIndexOf(".cs");n>0&&(i=i.substring(0,n));var o=i.lastIndexOf("controller");o>0&&(i=i.substring(0,o)),e=e.charAt(0).toLocaleUpperCase()+e.substring(1,i.length)+"Controller.cs",this.snackBar.open("Saving..."),this.webApisService.create(e).subscribe((function(e){t.snackBar.open("Saved",null,{duration:2e3}),t.fetchWebApis()}))}},t.prototype.fetchWebApis=function(){var t=this;this.webApisService.getAll().subscribe((function(e){var i=e.map((function(t){var e=t.lastIndexOf("/"),i=t.lastIndexOf(".");return{folder:t.substring(0,e),name:t.substring(e+1,i)}}));t.webApis$.next(i)}))},t.prototype.showCodeGetter=function(){return this.showCode},t.prototype.openCode=function(t){this.dialogService.openCodeFile(t.folder+"/"+t.name+".cs")},t.\u0275fac=function(e){return new(e||t)(p.Pb(Vt.a),p.Pb(Ut.a),p.Pb(N.b),p.Pb(tt.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-web-api"]],inputs:{showCode:"showCode"},decls:6,vars:5,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],["mat-fab","","mat-elevation-z24","","matTooltip","Create a new controller",1,"grid-fab",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Qb(1,"ag-grid-angular",1),p.ic(2,"async"),p.Vb(3,"button",2),p.dc("click",(function(){return e.addController()})),p.Vb(4,"mat-icon"),p.Oc(5,"add"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(1),p.nc("rowData",p.jc(2,3,e.webApis$))("modules",e.modules)("gridOptions",e.gridOptions))},directives:[J.a,m.a,f.a,g.a],pipes:[h.b],styles:[""],changeDetection:0}),t}(),wt=i("55Ui"),Ot=i("Iv+g"),kt=i("Bata");function It(t,e){if(1&t){var i=p.Wb();p.Vb(0,"mat-card",1),p.Vb(1,"mat-card-header"),p.Vb(2,"mat-card-title"),p.Oc(3,"App Permissions"),p.Ub(),p.Vb(4,"div",2),p.Vb(5,"button",11),p.dc("click",(function(){return p.Dc(i),p.hc().openPermissions()})),p.Vb(6,"mat-icon"),p.Oc(7,"person"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(8,"mat-card-content"),p.Oc(9," Permissions give access to people to the entire app (all content-types / data), so use with care. "),p.Ub(),p.Ub()}}var St=function(){function t(t,e,i,n){this.contentItemsService=t,this.router=e,this.route=i,this.context=n,this.eavConstants=F.a}return t.prototype.ngOnInit=function(){},t.prototype.edit=function(t){var e=this;this.contentItemsService.getAll(t).subscribe((function(i){if(1!==i.length)throw new Error("Found too many settings for the type "+t);var n={items:[{EntityId:i[0].Id}]},o=Object(M.a)(n);e.router.navigate(["edit/"+o],{relativeTo:e.route.firstChild})}))},t.prototype.config=function(t){this.router.navigate(["fields/"+t],{relativeTo:this.route.firstChild})},t.prototype.openPermissions=function(){this.router.navigate(["permissions/"+F.a.metadata.app.type+"/"+F.a.keyTypes.number+"/"+this.context.appId],{relativeTo:this.route.firstChild})},t.prototype.exportApp=function(){this.router.navigate(["export"],{relativeTo:this.route.firstChild})},t.prototype.exportParts=function(){this.router.navigate(["export/parts"],{relativeTo:this.route.firstChild})},t.prototype.importParts=function(){this.router.navigate(["import/parts"],{relativeTo:this.route.firstChild})},t.\u0275fac=function(e){return new(e||t)(p.Pb(wt.a),p.Pb(o.c),p.Pb(o.a),p.Pb(Ot.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-app-configuration"]],inputs:{showPermissions:"showPermissions"},decls:63,vars:1,consts:[[1,"cards-box"],[1,"mat-elevation-z2"],[1,"actions-box"],["mat-icon-button","","matTooltip","Edit app settings",3,"click"],["mat-icon-button","","matTooltip","Configure app settings",3,"click"],["mat-icon-button","","matTooltip","Edit app resources",3,"click"],["mat-icon-button","","matTooltip","Configure app resources",3,"click"],["mat-icon-button","","matTooltip","Edit app definition",3,"click"],["class","mat-elevation-z2",4,"ngIf"],["mat-icon-button","","matTooltip","Export",3,"click"],["mat-icon-button","","matTooltip","Import",3,"click"],["mat-icon-button","","matTooltip","Edit permissions",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"mat-card",1),p.Vb(2,"mat-card-header"),p.Vb(3,"mat-card-title"),p.Oc(4,"App Settings"),p.Ub(),p.Vb(5,"div",2),p.Vb(6,"button",3),p.dc("click",(function(){return e.edit(e.eavConstants.contentTypes.settings)})),p.Vb(7,"mat-icon"),p.Oc(8,"edit"),p.Ub(),p.Ub(),p.Vb(9,"button",4),p.dc("click",(function(){return e.config(e.eavConstants.contentTypes.settings)})),p.Vb(10,"mat-icon"),p.Oc(11,"dns"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(12,"mat-card-content"),p.Oc(13,' Settings are configurations used by the app - like SQL-connection strings, default "items-to-show" numbers and things like that. They can also be multi-language, so that a setting (like default RSS-Feed) could be different in each language. '),p.Ub(),p.Ub(),p.Vb(14,"mat-card",1),p.Vb(15,"mat-card-header"),p.Vb(16,"mat-card-title"),p.Oc(17,"App Resources"),p.Ub(),p.Vb(18,"div",2),p.Vb(19,"button",5),p.dc("click",(function(){return e.edit(e.eavConstants.contentTypes.resources)})),p.Vb(20,"mat-icon"),p.Oc(21,"edit"),p.Ub(),p.Ub(),p.Vb(22,"button",6),p.dc("click",(function(){return e.config(e.eavConstants.contentTypes.resources)})),p.Vb(23,"mat-icon"),p.Oc(24,"dns"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(25,"mat-card-content"),p.Oc(26," Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and should not be used for App-Settings. "),p.Ub(),p.Ub(),p.Ub(),p.Vb(27,"div",0),p.Vb(28,"mat-card",1),p.Vb(29,"mat-card-header"),p.Vb(30,"mat-card-title"),p.Oc(31,"App Package Definition"),p.Ub(),p.Vb(32,"div",2),p.Vb(33,"button",7),p.dc("click",(function(){return e.edit(e.eavConstants.scopes.app.value)})),p.Vb(34,"mat-icon"),p.Oc(35,"redeem"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(36,"mat-card-content"),p.Oc(37," The app-package definition is important when exporting/importing this app. "),p.Ub(),p.Ub(),p.Mc(38,It,10,0,"mat-card",8),p.Ub(),p.Vb(39,"div",0),p.Vb(40,"mat-card",1),p.Vb(41,"mat-card-header"),p.Vb(42,"mat-card-title"),p.Oc(43,"Export this entire App"),p.Ub(),p.Vb(44,"div",2),p.Vb(45,"button",9),p.dc("click",(function(){return e.exportApp()})),p.Vb(46,"mat-icon"),p.Oc(47,"cloud_download"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(48,"mat-card-content"),p.Oc(49," Create an app-package (zip) which can be installed in another portal. "),p.Ub(),p.Ub(),p.Vb(50,"mat-card",1),p.Vb(51,"mat-card-header"),p.Vb(52,"mat-card-title"),p.Oc(53,"Export or Import parts of this App"),p.Ub(),p.Vb(54,"div",2),p.Vb(55,"button",9),p.dc("click",(function(){return e.exportParts()})),p.Vb(56,"mat-icon"),p.Oc(57,"cloud_download"),p.Ub(),p.Ub(),p.Vb(58,"button",10),p.dc("click",(function(){return e.importParts()})),p.Vb(59,"mat-icon"),p.Oc(60,"cloud_upload"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(61,"mat-card-content"),p.Oc(62," Create an xml containing parts of the app, e.g. content and templates. Import parts from such an xml into this app. "),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Bb(38),p.nc("ngIf",e.showPermissions))},directives:[kt.a,kt.c,kt.e,m.a,f.a,g.a,kt.b,h.m],styles:[""],changeDetection:0}),t}();function xt(t,e){1&t&&(p.Vb(0,"div",15),p.Vb(1,"mat-icon"),p.Oc(2,"info"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"Info"),p.Ub(),p.Ub())}function Pt(t,e){if(1&t&&p.Qb(0,"app-getting-started",16),2&t){var i=p.hc(2).ngIf;p.nc("gettingStartedUrl",i.dialogSettings.Context.App.GettingStartedUrl)}}function Dt(t,e){1&t&&(p.Vb(0,"div",17),p.Vb(1,"mat-icon"),p.Oc(2,"menu"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"Data"),p.Ub(),p.Ub())}function At(t,e){if(1&t&&p.Qb(0,"app-data",18),2&t){var i=p.hc(2).ngIf;p.nc("showPermissions",i.dialogSettings.Context.Enable.AppPermissions)}}function Wt(t,e){1&t&&(p.Vb(0,"div",20),p.Vb(1,"mat-icon"),p.Oc(2,"filter_list"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"Queries"),p.Ub(),p.Ub())}function Qt(t,e){if(1&t&&p.Qb(0,"app-queries",18),2&t){var i=p.hc(3).ngIf;p.nc("showPermissions",i.dialogSettings.Context.Enable.AppPermissions)}}function Bt(t,e){1&t&&(p.Vb(0,"mat-tab"),p.Mc(1,Wt,5,0,"div",19),p.Mc(2,Qt,1,1,"app-queries",10),p.Ub())}function Ft(t,e){1&t&&(p.Vb(0,"div",21),p.Vb(1,"mat-icon"),p.Oc(2,"layers"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"Views"),p.Ub(),p.Ub())}function Et(t,e){if(1&t&&p.Qb(0,"app-views",22),2&t){var i=p.hc(2).ngIf;p.nc("showCode",i.dialogSettings.Context.Enable.CodeEditor)("showPermissions",i.dialogSettings.Context.Enable.AppPermissions)}}function Gt(t,e){1&t&&(p.Vb(0,"div",25),p.Vb(1,"mat-icon"),p.Oc(2,"offline_bolt"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"WebApi"),p.Ub(),p.Ub())}function Mt(t,e){if(1&t&&p.Qb(0,"app-web-api",26),2&t){var i=p.hc(3).ngIf;p.nc("showCode",i.dialogSettings.Context.Enable.CodeEditor)}}function Rt(t,e){1&t&&(p.Vb(0,"mat-tab"),p.Mc(1,Gt,5,0,"div",23),p.Mc(2,Mt,1,1,"app-web-api",24),p.Ub())}function Nt(t,e){1&t&&(p.Vb(0,"div",27),p.Vb(1,"mat-icon"),p.Oc(2,"settings_applications"),p.Ub(),p.Vb(3,"span"),p.Oc(4,"App"),p.Ub(),p.Ub())}function Jt(t,e){if(1&t&&p.Qb(0,"app-app-configuration",18),2&t){var i=p.hc(2).ngIf;p.nc("showPermissions",i.dialogSettings.Context.Enable.AppPermissions)}}function qt(t,e){if(1&t){var i=p.Wb();p.Vb(0,"mat-tab-group",6),p.dc("selectedTabChange",(function(t){return p.Dc(i),p.hc(2).changeTab(t)})),p.Vb(1,"mat-tab"),p.Mc(2,xt,5,0,"div",7),p.Mc(3,Pt,1,1,"app-getting-started",8),p.Ub(),p.Vb(4,"mat-tab"),p.Mc(5,Dt,5,0,"div",9),p.Mc(6,At,1,1,"app-data",10),p.Ub(),p.Mc(7,Bt,3,0,"mat-tab",11),p.Vb(8,"mat-tab"),p.Mc(9,Ft,5,0,"div",12),p.Mc(10,Et,1,2,"app-views",13),p.Ub(),p.Mc(11,Rt,3,0,"mat-tab",11),p.Vb(12,"mat-tab"),p.Mc(13,Nt,5,0,"div",14),p.Mc(14,Jt,1,1,"app-app-configuration",10),p.Ub(),p.Ub()}if(2&t){var n=p.hc().ngIf;p.nc("selectedIndex",n.tabIndex),p.Bb(7),p.nc("ngIf",n.dialogSettings.Context.Enable.Query),p.Bb(4),p.nc("ngIf",n.dialogSettings.Context.Enable.Query)}}function Kt(t,e){if(1&t){var i=p.Wb();p.Vb(0,"div",1),p.dc("click",(function(t){return p.Dc(i),p.hc().toggleDebugEnabled(t)})),p.Vb(1,"div",2),p.Vb(2,"div",3),p.Vb(3,"div"),p.Oc(4),p.Ub(),p.Vb(5,"button",4),p.dc("click",(function(){return p.Dc(i),p.hc().closeDialog()})),p.Vb(6,"mat-icon"),p.Oc(7,"close"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Qb(8,"router-outlet"),p.Mc(9,qt,15,3,"mat-tab-group",5),p.Ub()}if(2&t){var n=e.ngIf;p.Bb(4),p.Qc("",null==n.dialogSettings?null:n.dialogSettings.Context.App.Name," Admin"),p.Bb(5),p.nc("ngIf",n.dialogSettings)}}i.d(e,"AppAdministrationNavComponent",(function(){return Lt}));var Lt=function(){function t(t,e,i,o,l){this.dialogRef=t,this.appDialogConfigService=e,this.router=i,this.route=o,this.globalConfigurationService=l,this.tabIndex$=new a.a(null),this.dialogSettings$=new a.a(null),this.templateVars$=Object(s.a)([this.tabIndex$,this.dialogSettings$]).pipe(Object(c.a)((function(t){var e=Object(n.f)(t,2);return{tabIndex:e[0],dialogSettings:e[1]}}))),this.tabs=["home","data","queries","views","web-api","app"],this.subscription=new r.a}return t.prototype.ngOnInit=function(){var t=this;this.appDialogConfigService.getDialogSettings().subscribe((function(e){e.Context.Enable.Query||(t.tabs=t.tabs.filter((function(t){return"queries"!==t&&"web-api"!==t})));var i=t.tabs.indexOf(t.route.snapshot.firstChild.url[0].path);t.tabIndex$.next(i),t.dialogSettings$.next(e)})),this.subscription.add(this.router.events.pipe(Object(l.a)((function(t){return t instanceof o.b}))).subscribe((function(e){var i=t.tabs.indexOf(t.route.snapshot.firstChild.url[0].path);t.tabIndex$.next(i)})))},t.prototype.ngOnDestroy=function(){this.tabIndex$.complete(),this.dialogSettings$.complete(),this.subscription.unsubscribe()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.changeTab=function(t){this.router.navigate([this.tabs[t.index]],{relativeTo:this.route})},t.prototype.toggleDebugEnabled=function(t){(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&t.shiftKey&&t.altKey&&this.globalConfigurationService.toggleDebugEnabled()},t.\u0275fac=function(e){return new(e||t)(p.Pb(d.g),p.Pb(b.a),p.Pb(o.c),p.Pb(o.a),p.Pb(u.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-app-administration-nav"]],decls:2,vars:3,consts:[["class","nav-component-wrapper",3,"click",4,"ngIf"],[1,"nav-component-wrapper",3,"click"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","matTooltip","Close dialog",3,"click"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange",4,"ngIf"],["dynamicHeight","","color","accent",3,"selectedIndex","selectedTabChange"],["class","mat-tab-label-box","matTooltip","App Info",4,"matTabLabel"],[3,"gettingStartedUrl",4,"matTabContent"],["class","mat-tab-label-box","matTooltip","Data / Content",4,"matTabLabel"],[3,"showPermissions",4,"matTabContent"],[4,"ngIf"],["class","mat-tab-label-box","matTooltip","Views / Templates",4,"matTabLabel"],[3,"showCode","showPermissions",4,"matTabContent"],["class","mat-tab-label-box","matTooltip","App Settings",4,"matTabLabel"],["matTooltip","App Info",1,"mat-tab-label-box"],[3,"gettingStartedUrl"],["matTooltip","Data / Content",1,"mat-tab-label-box"],[3,"showPermissions"],["class","mat-tab-label-box","matTooltip","Queries / Visual Query Designer",4,"matTabLabel"],["matTooltip","Queries / Visual Query Designer",1,"mat-tab-label-box"],["matTooltip","Views / Templates",1,"mat-tab-label-box"],[3,"showCode","showPermissions"],["class","mat-tab-label-box","matTooltip","WebApi",4,"matTabLabel"],[3,"showCode",4,"matTabContent"],["matTooltip","WebApi",1,"mat-tab-label-box"],[3,"showCode"],["matTooltip","App Settings",1,"mat-tab-label-box"]],template:function(t,e){1&t&&(p.Mc(0,Kt,10,2,"div",0),p.ic(1,"async")),2&t&&p.nc("ngIf",p.jc(1,1,e.templateVars$))},directives:[h.m,d.h,m.a,f.a,g.a,o.e,y.c,y.a,y.d,y.b,C,X,nt,ft,Tt,St],pipes:[h.b],styles:[""]}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.07.00/ng-edit/app-administration-nav-component.7bf485968db86083381f.js.map
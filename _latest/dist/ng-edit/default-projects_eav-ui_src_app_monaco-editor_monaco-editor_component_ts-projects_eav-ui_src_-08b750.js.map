{"version":3,"file":"default-projects_eav-ui_src_app_monaco-editor_monaco-editor_component_ts-projects_eav-ui_src_-08b750.js","mappings":"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","sources":["./projects/eav-ui/src/app/monaco-editor/monaco-editor.component.ts","./projects/eav-ui/src/app/monaco-editor/monaco-editor.component.html","./projects/eav-ui/src/app/monaco-editor/monaco-instance.ts","./projects/eav-ui/src/app/shared/rxJs/rx.helpers.ts","./projects/eav-ui/src/app/shared/typescript-helpers/index.ts","./projects/eav-ui/src/app/shared/typescript-helpers/name-of.ts"],"sourcesContent":["import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnChanges, OnDestroy, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport type * as Monaco from 'monaco-editor';\r\nimport { JsonSchema } from '.';\r\nimport { Snippet } from '../code-editor/models/snippet.model';\r\nimport { Tooltip } from '../code-editor/models/tooltip.model';\r\nimport { EavWindow } from '../shared/models/eav-window.model';\r\nimport { nameof } from '../shared/typescript-helpers';\r\nimport { MonacoInstance } from './monaco-instance';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n@Component({\r\n  selector: 'app-monaco-editor',\r\n  templateUrl: './monaco-editor.component.html',\r\n  styleUrls: ['./monaco-editor.component.scss'],\r\n  standalone: true,\r\n})\r\nexport class MonacoEditorComponent implements AfterViewInit, OnChanges, OnDestroy {\r\n  @ViewChild('editor') private editorRef: ElementRef<HTMLElement>;\r\n  @Input() filename: string;\r\n  @Input() value: string;\r\n  @Input() snippets?: Snippet[];\r\n  @Input() tooltips?: Tooltip[];\r\n  @Input() options?: Monaco.editor.IStandaloneEditorConstructionOptions;\r\n  @Input() jsonSchema?: JsonSchema;\r\n  @Input() jsonComments?: Monaco.languages.json.SeverityLevel;\r\n  @Input() jsTypings?: string;\r\n  @Input() jsDiagnostics?: Monaco.languages.typescript.DiagnosticsOptions;\r\n  @Input() autoFocus = false;\r\n  @Output() private valueChanged = new EventEmitter<string>();\r\n  @Output() private focused = new EventEmitter<undefined>();\r\n  @Output() private blurred = new EventEmitter<undefined>();\r\n\r\n  private monaco?: typeof Monaco;\r\n  private monacoInstance?: MonacoInstance;\r\n\r\n  constructor() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    window.require.config({\r\n      paths: {\r\n        vs: ['https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.46.0/min/vs'],\r\n      },\r\n    });\r\n\r\n    window.require(['vs/editor/editor.main'], (monaco: typeof Monaco) => {\r\n      this.monaco = monaco;\r\n      this.createEditor(this.autoFocus);\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes[nameof<MonacoEditorComponent>('filename')] != null && this.monacoInstance != null) {\r\n      this.monacoInstance.destroy();\r\n      this.createEditor(true);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('value')] != null) {\r\n      this.monacoInstance?.updateValue(this.value);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('jsonSchema')] != null) {\r\n      this.monacoInstance?.setJsonSchema(this.jsonSchema);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('jsonComments')] != null) {\r\n      this.monacoInstance?.setJsonComments(this.jsonComments);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('snippets')] != null) {\r\n      this.monacoInstance?.setSnippets(this.snippets);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('tooltips')] != null) {\r\n      this.monacoInstance?.setTooltips(this.tooltips);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('jsTypings')] != null) {\r\n      this.monacoInstance?.setJsTypings(this.jsTypings);\r\n    }\r\n    if (changes[nameof<MonacoEditorComponent>('jsDiagnostics')] != null) {\r\n      this.monacoInstance?.setJsDiagnostics(this.jsDiagnostics);\r\n    }\r\n  }\r\n\r\n  insertSnippet(snippet: string): void {\r\n    this.monacoInstance?.insertSnippet(snippet);\r\n    this.monacoInstance?.focus();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.monacoInstance?.destroy();\r\n  }\r\n\r\n  private createEditor(autoFocus: boolean): void {\r\n    this.monacoInstance = new MonacoInstance(\r\n      this.monaco, this.filename, this.value, this.editorRef.nativeElement, this.options, this.snippets, this.tooltips,\r\n    );\r\n\r\n    this.monacoInstance.setJsonSchema(this.jsonSchema);\r\n    this.monacoInstance.setJsonComments(this.jsonComments);\r\n    this.monacoInstance.setJsTypings(this.jsTypings);\r\n    this.monacoInstance.setJsDiagnostics(this.jsDiagnostics);\r\n\r\n    this.monacoInstance.onValueChange(value => {\r\n      this.valueChanged.emit(value);\r\n    });\r\n\r\n    this.monacoInstance.onFocus(() => {\r\n      this.focused.emit();\r\n    });\r\n\r\n    this.monacoInstance.onBlur(() => {\r\n      this.blurred.emit();\r\n    });\r\n\r\n    if (autoFocus) {\r\n      this.monacoInstance.focus();\r\n    }\r\n  }\r\n}\r\n","<div class=\"editor\" #editor></div>\r\n","import type * as Monaco from 'monaco-editor';\r\nimport { JsonSchema, Monaco2sxc } from '.';\r\nimport { Snippet } from '../code-editor/models/snippet.model';\r\nimport { Tooltip } from '../code-editor/models/tooltip.model';\r\n\r\nexport const voidElements = 'area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr'\r\n  .split(',')\r\n  .map(el => el.trim().toLocaleLowerCase());\r\n\r\nexport class MonacoInstance {\r\n  /** Editor instance configuration */\r\n  private editorInstance: Monaco.editor.IStandaloneCodeEditor;\r\n  private completionItemProviders: Monaco.IDisposable[];\r\n  private jsTypingsLib?: Monaco.IDisposable;\r\n  private resizeObserver: ResizeObserver;\r\n  private globalCache: Monaco2sxc;\r\n  private cachedValue: string;\r\n  private valueChangedCallback?: (value: string) => void;\r\n  private focusedCallback?: () => void;\r\n  private blurredCallback?: () => void;\r\n\r\n  constructor(\r\n    /** Global Monaco configuration */\r\n    private monaco: typeof Monaco,\r\n    private filename: string,\r\n    value: string,\r\n    container: HTMLElement,\r\n    options: Monaco.editor.IStandaloneEditorConstructionOptions,\r\n    private snippets: Snippet[],\r\n    private tooltips: Tooltip[],\r\n  ) {\r\n    this.globalCache = this.createGlobalCache(monaco);\r\n    this.defineThemes(this.globalCache, this.monaco);\r\n    this.cachedValue = value;\r\n    this.editorInstance = this.createInstance(this.monaco, filename, value, container, options);\r\n    this.completionItemProviders = this.addSnippets(this.monaco, this.editorInstance);\r\n    this.resizeObserver = this.createResizeObserver(container, this.editorInstance);\r\n    this.restoreState(this.globalCache, this.editorInstance);\r\n    this.addEvents(this.editorInstance);\r\n  }\r\n\r\n  destroy(): void {\r\n    this.saveState(this.globalCache, this.editorInstance);\r\n    this.resizeObserver.disconnect();\r\n    this.completionItemProviders.forEach(completionItemProvider => completionItemProvider.dispose());\r\n    this.jsTypingsLib?.dispose();\r\n    this.editorInstance.getModel().dispose();\r\n    this.editorInstance.dispose();\r\n  }\r\n\r\n  updateValue(value: string): void {\r\n    if (this.cachedValue === value) return;\r\n    this.cachedValue = value;\r\n    this.editorInstance.getModel().setValue(value);\r\n  }\r\n\r\n  focus(): void {\r\n    this.editorInstance.focus();\r\n  }\r\n\r\n  onValueChange(callback: (value: string) => void): void {\r\n    this.valueChangedCallback = callback;\r\n  }\r\n\r\n  onFocus(callback: () => void): void {\r\n    this.focusedCallback = callback;\r\n  }\r\n\r\n  onBlur(callback: () => void): void {\r\n    this.blurredCallback = callback;\r\n  }\r\n\r\n  insertSnippet(snippet: string): void {\r\n    const snippetController = this.editorInstance\r\n      .getContribution<Monaco.editor.IEditorContribution & { insert(template: string, opts?: Record<string, any>): void; }>('snippetController2');\r\n    snippetController.insert(snippet);\r\n  }\r\n\r\n  setSnippets(snippets: Snippet[]): void {\r\n    this.snippets = snippets;\r\n  }\r\n\r\n  setTooltips(tooltips: Tooltip[]): void {\r\n    this.tooltips = tooltips;\r\n  }\r\n\r\n  setJsonSchema(jsonSchema?: JsonSchema): void {\r\n    const uri = this.editorInstance.getModel().uri.toString();\r\n    const oldJsonDiagnostics = this.monaco.languages.json.jsonDefaults.diagnosticsOptions;\r\n    const exists = oldJsonDiagnostics.schemas?.some(schema => schema.fileMatch[0] === uri) ?? false;\r\n\r\n    const newSchema: Monaco.languages.json.DiagnosticsOptions['schemas'][0] = jsonSchema?.type === 'link'\r\n      ? { uri: jsonSchema.value, fileMatch: [uri] }\r\n      : jsonSchema?.type === 'raw'\r\n        ? { uri, fileMatch: [uri], schema: JSON.parse(jsonSchema.value) }\r\n        : undefined;\r\n\r\n    if (!exists && !newSchema) return;\r\n\r\n    const newJsonDiagnostics: Monaco.languages.json.DiagnosticsOptions = {\r\n      ...oldJsonDiagnostics,\r\n      enableSchemaRequest: true,\r\n      schemas: exists && !newSchema\r\n        ? oldJsonDiagnostics.schemas.filter(schema => schema.fileMatch[0] !== uri)\r\n        : exists\r\n          ? oldJsonDiagnostics.schemas.map(schema => schema.fileMatch[0] === uri ? newSchema : schema)\r\n          : [...(oldJsonDiagnostics.schemas ?? []), newSchema],\r\n    };\r\n\r\n    this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(newJsonDiagnostics);\r\n  }\r\n\r\n  setJsonComments(comments?: Monaco.languages.json.SeverityLevel): void {\r\n    if (!comments) return;\r\n\r\n    const jsonDiagnostics: Monaco.languages.json.DiagnosticsOptions = {\r\n      ...this.monaco.languages.json.jsonDefaults.diagnosticsOptions,\r\n      comments,\r\n    };\r\n    this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(jsonDiagnostics);\r\n  }\r\n\r\n  setJsDiagnostics(options: Monaco.languages.typescript.DiagnosticsOptions): void {\r\n    if (!options) return;\r\n\r\n    const javascriptDiagnostics: Monaco.languages.typescript.DiagnosticsOptions = {\r\n      ...this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions(),\r\n      ...options,\r\n    };\r\n    this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(javascriptDiagnostics);\r\n  }\r\n\r\n  setJsTypings(typings: string): void {\r\n    if (!typings) {\r\n      this.jsTypingsLib?.dispose();\r\n      return;\r\n    }\r\n    this.jsTypingsLib = this.monaco.languages.typescript.javascriptDefaults.addExtraLib(typings, `js-typings-${this.filename}`);\r\n  }\r\n\r\n  private createGlobalCache(monaco: typeof Monaco & { _2sxc?: Monaco2sxc }): Monaco2sxc {\r\n    if (monaco._2sxc == null) {\r\n      const _2sxc: Monaco2sxc = {\r\n        themesAreDefined: false,\r\n        savedStates: {},\r\n      };\r\n      monaco._2sxc = _2sxc;\r\n    }\r\n    return monaco._2sxc;\r\n  }\r\n\r\n  /** Registers our themes. Themes are global. Run before creating editor */\r\n  private defineThemes(globalCache: Monaco2sxc, monaco: typeof Monaco): void {\r\n    // there is currently no official way to get defined themes from Monaco to check if some theme was already defined\r\n    if (globalCache.themesAreDefined) return;\r\n    globalCache.themesAreDefined = true;\r\n\r\n    monaco.editor.defineTheme('2sxc-dark', {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [\r\n        { token: 'metatag.cs', foreground: 'ffff00' },\r\n      ],\r\n      colors: {\r\n      },\r\n    });\r\n  }\r\n\r\n  private createInstance(\r\n    monaco: typeof Monaco,\r\n    filename: string,\r\n    value: string,\r\n    container: HTMLElement,\r\n    options: Monaco.editor.IStandaloneEditorConstructionOptions,\r\n  ): Monaco.editor.IStandaloneCodeEditor {\r\n    const editorInstance = monaco.editor.create(container, options);\r\n    const editorModelUri = monaco.Uri.file(filename);\r\n    const editorModel = monaco.editor.createModel(value, undefined, editorModelUri);\r\n    editorInstance.setModel(editorModel);\r\n    return editorInstance;\r\n  }\r\n\r\n  private saveState(globalCache: Monaco2sxc, editorInstance: Monaco.editor.IStandaloneCodeEditor): void {\r\n    const uri = editorInstance.getModel().uri.toString();\r\n    const viewState = JSON.stringify(editorInstance.saveViewState());\r\n\r\n    if (globalCache.savedStates[uri] == null) {\r\n      globalCache.savedStates[uri] = { viewState };\r\n    } else {\r\n      globalCache.savedStates[uri].viewState = viewState;\r\n    }\r\n  }\r\n\r\n  private restoreState(globalCache: Monaco2sxc, editorInstance: Monaco.editor.IStandaloneCodeEditor): void {\r\n    const uri = editorInstance.getModel().uri.toString();\r\n    const savedState = globalCache.savedStates[uri];\r\n    if (savedState == null) return;\r\n\r\n    const viewState: Monaco.editor.ICodeEditorViewState = JSON.parse(savedState.viewState);\r\n    editorInstance.restoreViewState(viewState);\r\n  }\r\n\r\n  private addSnippets(monaco: typeof Monaco, editorInstance: Monaco.editor.IStandaloneCodeEditor): Monaco.IDisposable[] {\r\n    const completionItemProviders = [\r\n      monaco.languages.registerCompletionItemProvider(editorInstance.getModel().getLanguageId(), {\r\n        triggerCharacters: ['>'],\r\n        provideCompletionItems: (model, position) => {\r\n          if (editorInstance.getModel() !== model) { return { suggestions: [] }; }\r\n\r\n          const textUntilPosition: string = model.getValueInRange({\r\n            startLineNumber: position.lineNumber,\r\n            startColumn: 1,\r\n            endLineNumber: position.lineNumber,\r\n            endColumn: position.column,\r\n          });\r\n\r\n          // sometimes trigger character is wrong\r\n          const trigger = textUntilPosition[textUntilPosition.length - 1];\r\n          if (trigger !== '>') { return { suggestions: [] }; }\r\n\r\n          const tagStartIndex = textUntilPosition.lastIndexOf('<');\r\n          if (tagStartIndex === -1) { return { suggestions: [] }; }\r\n\r\n          const codeInTag = textUntilPosition.substring(tagStartIndex);\r\n          // check that > is not in between quotes like in <div class=\"car>\"\r\n          let quotes = 0;\r\n          Array.from(codeInTag).forEach(c => {\r\n            if (c === '\"') { quotes++; }\r\n          });\r\n          if (quotes % 2 !== 0) { return { suggestions: [] }; }\r\n          // check that it's not a closing tag\r\n          if (codeInTag.startsWith('</')) { return { suggestions: [] }; }\r\n          // check that tag is not already closed\r\n          if (codeInTag.indexOf('>') !== codeInTag.length - 1) { return { suggestions: [] }; }\r\n\r\n          // tag name ends with space or tag is closed completely\r\n          let tagEndIndex = codeInTag.indexOf(' ');\r\n          if (tagEndIndex === -1) {\r\n            tagEndIndex = codeInTag.indexOf('>');\r\n          }\r\n          if (tagEndIndex === -1) { return { suggestions: [] }; }\r\n\r\n          const tag = codeInTag.substring(1, tagEndIndex);\r\n          if (!tag) { return { suggestions: [] }; }\r\n          if (voidElements.includes(tag.toLocaleLowerCase())) { return { suggestions: [] }; }\r\n          if (!/[a-zA-Z0-9_-]/.test(tag)) { return { suggestions: [] }; }\r\n\r\n          const suggestions: Monaco.languages.CompletionItem[] = [{\r\n            label: `</${tag}>`,\r\n            kind: monaco.languages.CompletionItemKind.Snippet,\r\n            insertText: `\\$0</${tag}>`,\r\n            insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,\r\n            range: {\r\n              startLineNumber: position.lineNumber,\r\n              endLineNumber: position.lineNumber,\r\n              startColumn: position.column,\r\n              endColumn: position.column,\r\n            },\r\n          }];\r\n          return { suggestions };\r\n        },\r\n      }),\r\n\r\n      monaco.languages.registerCompletionItemProvider(editorInstance.getModel().getLanguageId(), {\r\n        provideCompletionItems: (model, position) => {\r\n          if (this.snippets == null || editorInstance.getModel() !== model) { return { suggestions: [] }; }\r\n\r\n          const word = model.getWordUntilPosition(position);\r\n          const suggestions = this.snippets.map(snippet => {\r\n            if (!snippet.content) return;\r\n            const suggestion: Monaco.languages.CompletionItem = {\r\n              label: snippet.name,\r\n              kind: monaco.languages.CompletionItemKind.Snippet,\r\n              documentation: `${snippet.title ?? ''}\\n${snippet.help ?? ''}\\n${snippet.links ?? ''}`,\r\n              insertText: snippet.content,\r\n              insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,\r\n              range: {\r\n                startLineNumber: position.lineNumber,\r\n                endLineNumber: position.lineNumber,\r\n                startColumn: word.startColumn,\r\n                endColumn: word.endColumn\r\n              },\r\n            };\r\n            return suggestion;\r\n          }).filter(suggestion => !!suggestion);\r\n          return { suggestions };\r\n        },\r\n      }),\r\n\r\n      monaco.languages.registerHoverProvider(editorInstance.getModel().getLanguageId(), {\r\n        provideHover: (model, position) => {\r\n          if (this.tooltips == null || editorInstance.getModel() !== model) return;\r\n\r\n          const word = model.getWordAtPosition(position);\r\n          if (!word) return;\r\n\r\n          const tooltip = this.tooltips.find(i => i.Term === word.word);\r\n          if (!tooltip) return;\r\n\r\n          return {\r\n            contents: tooltip.Help.map(value => {\r\n              const content: Monaco.IMarkdownString = {\r\n                value,\r\n              };\r\n              return content;\r\n            }),\r\n            range: {\r\n              startLineNumber: position.lineNumber,\r\n              endLineNumber: position.lineNumber,\r\n              startColumn: word.startColumn,\r\n              endColumn: word.endColumn,\r\n            },\r\n          };\r\n        }\r\n      }),\r\n    ];\r\n\r\n    return completionItemProviders;\r\n  }\r\n\r\n  private createResizeObserver(container: HTMLElement, editorInstance: Monaco.editor.IStandaloneCodeEditor): ResizeObserver {\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      editorInstance.layout();\r\n    });\r\n    resizeObserver.observe(container);\r\n    return resizeObserver;\r\n  }\r\n\r\n  private addEvents(editorInstance: Monaco.editor.IStandaloneCodeEditor): void {\r\n    editorInstance.getModel().onDidChangeContent(() => {\r\n      const newValue = editorInstance.getModel().getValue();\r\n      if (newValue === this.cachedValue) return;\r\n      this.cachedValue = newValue;\r\n      this.valueChangedCallback?.(newValue);\r\n    });\r\n\r\n    editorInstance.onDidFocusEditorWidget(() => {\r\n      this.focusedCallback?.();\r\n    });\r\n\r\n    editorInstance.onDidBlurEditorWidget(() => {\r\n      this.blurredCallback?.();\r\n    });\r\n\r\n    // this.editorInstance.onDidChangeModelDecorations(e => {\r\n    //   const value = this.editorInstance.getModel().getValue();\r\n    //   const markers = this.monaco.editor.getModelMarkers({}).filter(marker => marker.resource.path === `/${this.filename}`);\r\n    //   const valid = !markers.some(\r\n    //     marker => marker.severity === this.monaco.MarkerSeverity.Error || marker.severity === this.monaco.MarkerSeverity.Warning\r\n    //   );\r\n    // });\r\n\r\n    // this.monaco.editor.onDidChangeMarkers(() => {\r\n    //   // markers updates are async and lagging behind value updates\r\n    //   const markers = this.monaco.editor.getModelMarkers({}).filter(marker => marker.resource.path === `/${this.filename}`);\r\n    //   if (markers.some(marker => marker.severity === this.monaco.MarkerSeverity.Error)) {\r\n    //     // has errors\r\n    //   } else if (markers.some(marker => marker.severity === this.monaco.MarkerSeverity.Warning)) {\r\n    //     // has warnings\r\n    //   } else {\r\n    //     // has no errors or warnings\r\n    //   }\r\n    // });\r\n  }\r\n}\r\n","import isEqual from 'lodash-es/isEqual';\r\n\r\nexport class RxHelpers {\r\n\r\n  static boolEquals(x: boolean, y: boolean): boolean {\r\n    return x === y;\r\n  }\r\n\r\n  static stringEquals(x: string, y: string): boolean {\r\n    return x === y;\r\n  }\r\n\r\n  static valueEquals<T>(x: T, y: T): boolean {\r\n    return x === y;\r\n  }\r\n\r\n  static objectsEqual<T>(x: T, y: T): boolean {\r\n    if (x == null || y == null) return x === y;\r\n\r\n    const obj1 = x as Record<string, any>;\r\n    const obj2 = y as Record<string, any>;\r\n\r\n    const keys1 = Object.keys(obj1);\r\n    const keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) return false;\r\n\r\n    const equal = keys1.every(key1 => {\r\n      if (!obj2.hasOwnProperty(key1)) return false;\r\n\r\n      return obj1[key1] === obj2[key1];\r\n    });\r\n\r\n    return equal;\r\n  }\r\n\r\n  static arraysEqual<T>(x: T[], y: T[]): boolean {\r\n    if (x == null || y == null) return x === y;\r\n\r\n    if (x.length !== y.length) return false;\r\n\r\n    const equal = x.every((item, index) => {\r\n      return x[index] === y[index];\r\n    });\r\n\r\n    return equal;\r\n  }\r\n\r\n  /** used as .filter(distinct), filters array to only have distinct values */\r\n  static distinct<T>(value: T, index: number, array: T[]): boolean {\r\n    return array.indexOf(value) === index;\r\n  }\r\n\r\n}\r\n","export * from './name-of';\r\n","// Inspired by https://schneidenbach.gitbooks.io/typescript-cookbook/content/nameof-operator.html\r\nexport const nameof = <T>(name: keyof T) => name;\r\n"],"names":["ElementRef","EventEmitter","SimpleChanges","nameof","MonacoInstance","MonacoEditorComponent","constructor","autoFocus","valueChanged","focused","blurred","ngAfterViewInit","window","require","config","paths","vs","monaco","createEditor","ngOnChanges","changes","monacoInstance","destroy","updateValue","value","setJsonSchema","jsonSchema","setJsonComments","jsonComments","setSnippets","snippets","setTooltips","tooltips","setJsTypings","jsTypings","setJsDiagnostics","jsDiagnostics","insertSnippet","snippet","focus","ngOnDestroy","filename","editorRef","nativeElement","options","onValueChange","emit","onFocus","onBlur","selectors","viewQuery","MonacoEditorComponent_Query","rf","ctx","i0","ɵɵelement","voidElements","split","map","el","trim","toLocaleLowerCase","container","globalCache","createGlobalCache","defineThemes","cachedValue","editorInstance","createInstance","completionItemProviders","addSnippets","resizeObserver","createResizeObserver","restoreState","addEvents","saveState","disconnect","forEach","completionItemProvider","dispose","jsTypingsLib","getModel","setValue","callback","valueChangedCallback","focusedCallback","blurredCallback","snippetController","getContribution","insert","uri","toString","oldJsonDiagnostics","languages","json","jsonDefaults","diagnosticsOptions","exists","schemas","some","schema","fileMatch","newSchema","type","JSON","parse","undefined","newJsonDiagnostics","enableSchemaRequest","filter","setDiagnosticsOptions","comments","jsonDiagnostics","javascriptDiagnostics","typescript","javascriptDefaults","getDiagnosticsOptions","typings","addExtraLib","_2sxc","themesAreDefined","savedStates","editor","defineTheme","base","inherit","rules","token","foreground","colors","create","editorModelUri","Uri","file","editorModel","createModel","setModel","viewState","stringify","saveViewState","savedState","restoreViewState","registerCompletionItemProvider","getLanguageId","triggerCharacters","provideCompletionItems","model","position","suggestions","textUntilPosition","getValueInRange","startLineNumber","lineNumber","startColumn","endLineNumber","endColumn","column","trigger","length","tagStartIndex","lastIndexOf","codeInTag","substring","quotes","Array","from","c","startsWith","indexOf","tagEndIndex","tag","includes","test","label","kind","CompletionItemKind","Snippet","insertText","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","range","word","getWordUntilPosition","content","suggestion","name","documentation","title","help","links","registerHoverProvider","provideHover","getWordAtPosition","tooltip","find","i","Term","contents","Help","ResizeObserver","layout","observe","onDidChangeContent","newValue","getValue","onDidFocusEditorWidget","onDidBlurEditorWidget","RxHelpers","boolEquals","x","y","stringEquals","valueEquals","objectsEqual","obj1","obj2","keys1","Object","keys","keys2","equal","every","key1","hasOwnProperty","arraysEqual","item","index","distinct","array"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
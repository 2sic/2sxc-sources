{"version":3,"file":"common.eabfb4476f158292.js","mappings":"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","names":["i0","_r1","ctx_r1","openLightspeedFeatureInfo","_r3","openLightspeed","LightSpeedActionsComponent_Conditional_1_Conditional_1_Template","LightSpeedActionsComponent_Conditional_1_Conditional_2_Template","appHasLightSpeed","lightSpeed","Title","appLightSpeedEnabled","LightSpeedActionsComponent","constructor","this","features","inject","FeaturesService","lightSpeedEnabled","isEnabled","FeatureNames","LightSpeed","Id","IsEnabled","params","onOpenLightspeed","lightSpeedOwner","static","t","_angular_core__WEBPACK_IMPORTED_MODULE_2__","VBU","selectors","inputs","standalone","decls","vars","consts","template","rf","ctx","LightSpeedActionsComponent_Conditional_0_Template","LightSpeedActionsComponent_Conditional_1_Template","TippyDirective","MatIconModule","i1","MatBadgeModule","i2","MatRippleModule","i3","encapsulation","AppAdminHelpers","getLightSpeedEditParams","appId","items","ContentTypeName","eavConstants","appMetadata","For","Target","metadata","app","target","TargetType","targetType","Number","Singleton","AnalyzeSettingsService","http","context","dnnContext","getStack","part","key","view","stringifyValue","get","$2sxc","apiUrl","webApiAppRoot","toString","pipe","map","stack","stackItem","_value","JSON","stringify","Value","_angular_core__WEBPACK_IMPORTED_MODULE_3__","jDH","factory","Éµfac","ExportAppPartsService","getContentInfo","scope","webApiAppPartsRoot","appid","zoneId","exportParts","contentTypeIds","entityIds","templateIds","url","join","window","open","ExportAppService","getAppInfo","exportAppUrl","exportForVersionControl","includeContentGroups","resetAppGuid","withFiles","withPortalFiles","ImportAppPartsService","importAppParts","file","formData","FormData","append","post","resetApp","AnalyzeSettingsValueComponent","snackBar","agInit","value","refresh","copy","text","JsonHelpers","tryParse","copyToClipboard","duration","styles","AppsListService","name","getAll","getInheritable","getPendingApps","create","inheritAppId","templateId","installPendingApps","pendingApps","delete","flushCache","FeaturesConfigService","saveFeatures","featuresStates","getLicenses","uploadLicense","info","Success","Messages","MessageType","FileUploadMessageTypes","Error","Text","Message","retrieveLicense","webApiLicense","webApiZoneRoot","ZoneService","getLanguages","toggleLanguage","code","enable","cultureCode","getSystemInfo","getLanguagesPermissions","ContentExportService","exportContent","values","selectedIds","selectedIdsString","webApiEntityRoot","language","defaultLanguage","contentTypeStaticName","recordExport","resourcesReferences","languageReferences","exportJson","typeName","webApiTypeRoot","exportEntity","id","prefix","importContentItemDialog","initContext","panelSize","panelClass","getComponent","_asyncToGenerator","ImportContentItemComponent","Promise","all","__webpack_require__","e","then","bind","contentItemsDialog","ContentItemsComponent","contentItemsRoutes","path","component","DialogEntryComponent","data","dialog","children","GoToMetadata","getRoutes","loadChildren","m","ContentExportRoutes","contentImportRoutes","title","EditRoutesSubItems","ContentItemsService","webApiEntityList","contentType","getColumns","webApiFieldsAll","staticName","importItem","from","toBase64","switchMap","fileBase64","AppId","ContentBase64","success","_angular_core__WEBPACK_IMPORTED_MODULE_7__","contentTypeFieldsDialog","ContentTypeFieldsComponent","editContentTypeFieldsDialog","EditContentTypeFieldsComponent","contentTypeFieldsRoutes","GoToPermissions","route","openDialog","vm_r3","feature","icon","FeatureTextInfoComponent_Conditional_0_Conditional_0_Template","show","FeatureTextInfoComponent","FeatureComponentBase","asInfo","asInfo$","next","super","BehaviorSubject","viewModel$","combineLatest","feature$","show$","_angular_core__WEBPACK_IMPORTED_MODULE_1__","FeatureTextInfoComponent_Conditional_0_Template","FeatureTextInfoComponent_Conditional_2_Template","FeatureTextInfoComponent_ng_template_3_Template","tmp_1_0","AsyncPipe","TranslateModule","webApiContentGroup","ContentGroupService","getItems","item","guid","index","saveItem","entityId","add","removeItem","contentGroup","parent","fields","getList","saveList","resortedList","getHeader","defaultRoute","metadataRoutes","getUrl","keyType","dialogTitle","encodeURIComponent","getUrlApp","getUrlAttribute","attributeId","attribute","getUrlContentType","getUrlEntity","entity","dropdownInsertValue","guidRegex","input","parse","loadScripts","scriptObjects","callback","iteration","newCallback","length","scrObj","global","test","w","require","src","exportedVar","UpdateEnvVarsFromDialogSettings","appContext","includedApiRoot","Api","new2sxcHeader","env","header","appApi","load","AppScopes","App","Site","Global","EditPrep","editId","EntityId","newMetadata","keyDef","createFor","Guid","String","DialogService","openCodeFile","isShared","form","Path","hashParams","buildHashParam","keyDialog","DialogTypeConstants","Develop","keyIsShared","keyItems","buildFullUrl","openQueryDesigner","queryId","PipelineDesigner","keyPipelineId","openAppsManagement","tab","extras","keyZoneId","Zone","Object","keys","keyExtras","openAppAdministration","keyAppId","buildSharedHashParams","keyModuleId","moduleId","keyContentBlockId","contentBlockId","keyPartOfPage","sessionStorage","getItem","keyDebug","rawKey","replace","valueTemp","a","oldHref","keyUrl","oldUrl","URL","newHref","origin","pathname","search","allHashParams","entries","reduce","acc"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/admin-shared/lightspeed-action/lightspeed-action.component.html","./projects/eav-ui/src/app/admin-shared/lightspeed-action/lightspeed-action.component.ts","./projects/eav-ui/src/app/app-administration/app-admin-helpers.ts","./projects/eav-ui/src/app/app-administration/services/analyze-settings.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app.service.ts","./projects/eav-ui/src/app/app-administration/services/import-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings-value/analyze-settings-value.component.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings-value/analyze-settings-value.component.html","./projects/eav-ui/src/app/apps-management/services/apps-list.service.ts","./projects/eav-ui/src/app/apps-management/services/features-config.service.ts","./projects/eav-ui/src/app/apps-management/services/zone.service.ts","./projects/eav-ui/src/app/content-export/services/content-export.service.ts","./projects/eav-ui/src/app/content-items/import-content-item/import-content-item-dialog.config.ts","./projects/eav-ui/src/app/content-items/content-items-dialog.config.ts","./projects/eav-ui/src/app/content-items/content-items.routing.ts","./projects/eav-ui/src/app/content-items/services/content-items.service.ts","./projects/eav-ui/src/app/content-type-fields/content-type-fields-dialog.config.ts","./projects/eav-ui/src/app/content-type-fields/edit-content-type-fields/edit-content-type-fields-dialog.config.ts","./projects/eav-ui/src/app/content-type-fields/content-type-fields.routing.ts","./projects/eav-ui/src/app/features/feature-text-info/feature-text-info.component.html","./projects/eav-ui/src/app/features/feature-text-info/feature-text-info.component.ts","./projects/eav-ui/src/app/manage-content-list/services/content-group.service.ts","./projects/eav-ui/src/app/metadata/go-to-metadata.ts","./projects/eav-ui/src/app/shared/constants/dropdown-insert-value.constant.ts","./projects/eav-ui/src/app/shared/constants/guid.constants.ts","./projects/eav-ui/src/app/shared/helpers/json.helpers.ts","./projects/eav-ui/src/app/shared/helpers/load-scripts.helper.ts","./projects/eav-ui/src/app/shared/helpers/update-env-vars-from-dialog-settings.helper.ts","./projects/eav-ui/src/app/shared/models/dialog-context.models.ts","./projects/eav-ui/src/app/shared/models/edit-form.model.ts","./projects/eav-ui/src/app/shared/services/dialog.service.ts"],"sourcesContent":["@if (!lightSpeedEnabled()) {\r\n  <div class=\"eav-grid-action-button disabled\" tippy=\"Lightspeed is disabled\"\r\n    (click)=\"openLightspeedFeatureInfo()\">\r\n    <mat-icon matBadgeSize=\"small\" matBadge=\"ðŸ’Ž\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      bolt\r\n    </mat-icon>\r\n  </div>\r\n}\r\n@else {\r\n  <div class=\"eav-grid-action-button {{ appHasLightSpeed ? '' : 'disabled'}}\" matRipple\r\n    [tippy]=\"appHasLightSpeed ? lightSpeed.Title : 'Not yet configured for LightSpeed'\"\r\n    (click)=\"openLightspeed()\">\r\n    @if (appLightSpeedEnabled) {\r\n      <mat-icon matBadgeSize=\"small\" matBadge=\"âœ…\" matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\">\r\n        bolt\r\n      </mat-icon>\r\n    }\r\n    @else {\r\n      <mat-icon matBadgeSize=\"small\" matBadge=\"â›”\" matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\">\r\n        bolt\r\n      </mat-icon>\r\n    }\r\n  </div>\r\n}\r\n","import { Component, Input, inject } from '@angular/core';\r\nimport { LightSpeedInfo } from '../../apps-management/models/LightSpeedInfo';\r\nimport { LightSpeedActionsParams } from './lightspeed-actions.models';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\n\r\n/**\r\n * LightSpeedActionsComponent\r\n *\r\n * Specially meant to be used inside an AGGrid action, and receive the parameters from it.\r\n *\r\n */\r\n@Component({\r\n  selector: 'app-lightspeed-action',\r\n  templateUrl: './lightspeed-action.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    TippyDirective,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatRippleModule,\r\n  ],\r\n})\r\nexport class LightSpeedActionsComponent {\r\n  /** App needed for lightspeed checks */\r\n  @Input({ required: true }) lightSpeedOwner: unknown;\r\n\r\n  @Input({ required: true }) params: LightSpeedActionsParams;\r\n\r\n  @Input({ required: true }) lightSpeed: LightSpeedInfo | null;\r\n\r\n  public features: FeaturesService = inject(FeaturesService);\r\n  protected lightSpeedEnabled = this.features.isEnabled(FeatureNames.LightSpeed)\r\n\r\n  constructor() {}\r\n\r\n  public get appHasLightSpeed(): boolean {\r\n    return this.lightSpeed?.Id != null;\r\n  }\r\n\r\n  public get appLightSpeedEnabled(): boolean {\r\n    return this.lightSpeed?.IsEnabled == true;\r\n  }\r\n\r\n  openLightspeed(): void {\r\n    this.params.onOpenLightspeed(this.lightSpeedOwner);\r\n  }\r\n\r\n  openLightspeedFeatureInfo(): void {\r\n    this.params.openLightspeedFeatureInfo();\r\n  }\r\n}\r\n","import { eavConstants } from '../shared/constants/eav.constants';\r\nimport { EditForm } from '../shared/models/edit-form.model';\r\n\r\nexport class AppAdminHelpers {\r\n  public static getLightSpeedEditParams(appId: number) {\r\n    const form: EditForm = {\r\n      items: [\r\n        {\r\n          ContentTypeName: eavConstants.appMetadata.LightSpeed.ContentTypeName,\r\n          For: {\r\n            Target: eavConstants.metadata.app.target,\r\n            TargetType: eavConstants.metadata.app.targetType,\r\n            Number: appId,\r\n            Singleton: true,\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    return form;\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { AnalyzePart, SettingsStackItem } from '../sub-dialogs/analyze-settings/analyze-settings.models';\r\n\r\n@Injectable()\r\nexport class AnalyzeSettingsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getStack(part: AnalyzePart, key?: string, view?: string, stringifyValue = false): Observable<SettingsStackItem[]> {\r\n    return this.http.get<SettingsStackItem[]>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'GetStack'), {\r\n      params: {\r\n        appId: this.context.appId.toString(),\r\n        part,\r\n        ...(key && { key }),\r\n        ...(view && { view }),\r\n      },\r\n    }).pipe(\r\n      map(stack => {\r\n        if (!stringifyValue) { return stack; }\r\n\r\n        for (const stackItem of stack) {\r\n          stackItem._value = JSON.stringify(stackItem.Value);\r\n        }\r\n        return stack;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentInfo } from '../models/content-info.model';\r\nimport { webApiAppPartsRoot } from './import-app-parts.service';\r\n\r\n@Injectable()\r\nexport class ExportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getContentInfo(scope: string) {\r\n    return this.http.get<ContentInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Get'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString(), scope },\r\n    });\r\n  }\r\n\r\n  exportParts(contentTypeIds: number[], entityIds: number[], templateIds: number[]) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Export')\r\n      + '?appId=' + this.context.appId.toString()\r\n      + '&zoneId=' + this.context.zoneId.toString()\r\n      + '&contentTypeIdsString=' + contentTypeIds.join(';')\r\n      + '&entityIdsString=' + entityIds.join(';')\r\n      + '&templateIdsString=' + templateIds.join(';');\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { AppInfo } from '../models/app-info.model';\r\n\r\n@Injectable()\r\nexport class ExportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAppInfo() {\r\n    return this.http.get<AppInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Statistics'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString() },\r\n    });\r\n  }\r\n\r\n  /** Generate the export app path. It can be extended with additional parameters */\r\n  exportAppUrl() {\r\n    return `${this.dnnContext.$2sxc.http.apiUrl(`${webApiAppRoot}Export`)}?appId=${this.context.appId}&zoneId=${this.context.zoneId}`;\r\n  }\r\n\r\n  exportForVersionControl({ includeContentGroups, resetAppGuid, withFiles }:\r\n    { includeContentGroups: boolean; resetAppGuid: boolean; withFiles: boolean; }) {\r\n    return this.http.get<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'SaveData'), {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        includeContentGroups: includeContentGroups.toString(),\r\n        resetAppGuid: resetAppGuid.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppPartsRoot = 'admin/appParts/';\r\n\r\n@Injectable()\r\nexport class ImportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importAppParts(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Import'), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  /** Reset the App back to the state it was in the last xml export */\r\n  resetApp(withFiles: boolean) {\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Reset'), {}, {\r\n      params: {\r\n        appId: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { copyToClipboard } from '../../../../shared/helpers/copy-to-clipboard.helper';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { JsonHelpers } from '../../../../shared/helpers/json.helpers';\r\nimport { TippyDirective } from '../../../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n  selector: 'app-analyze-settings-value',\r\n  templateUrl: './analyze-settings-value.component.html',\r\n  styleUrls: ['./analyze-settings-value.component.scss'],\r\n  standalone: true,\r\n  imports: [MatRippleModule, TippyDirective,],\r\n})\r\nexport class AnalyzeSettingsValueComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n\r\n  constructor(private snackBar: MatSnackBar) { }\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  copy(text: string) {\r\n    text = JsonHelpers.tryParse(text) ?? text;\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n}\r\n","<div matRipple class=\"value-box highlight\" [tippy]=\"value\" (click)=\"copy(value)\">\r\n  <span class=\"value\">{{ value }}</span>\r\n</div>\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { App, PendingApp } from '../models/app.model';\r\n\r\n@Injectable()\r\nexport class AppsListService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  private apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  getAll() {\r\n    return this.http.get<App[]>(this.apiUrl(webApiAppRoot + 'list'), {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  getInheritable() {\r\n    return this.http.get<App[]>(this.apiUrl(webApiAppRoot + 'InheritableApps'), {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  getPendingApps() {\r\n    return this.http.get<PendingApp[]>(this.apiUrl(webApiAppRoot + 'GetPendingApps'), {\r\n      params: { zoneId: this.context.zoneId.toString() },\r\n    });\r\n  }\r\n\r\n  create(name: string, inheritAppId?: number, templateId?: number) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRoot + 'app'), {}, {\r\n      params: {\r\n        zoneId: this.context.zoneId.toString(),\r\n        name,\r\n        ...(inheritAppId != null && { inheritAppId }),\r\n        ...(templateId != null && { templateId }),\r\n      },\r\n    });\r\n  }\r\n\r\n  installPendingApps(pendingApps: PendingApp[]) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRoot + 'InstallPendingApps'), pendingApps, {\r\n      params: {\r\n        zoneId: this.context.zoneId.toString(),\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(appId: number) {\r\n    return this.http.delete<null>(this.apiUrl(webApiAppRoot + 'app'), {\r\n      params: { zoneId: this.context.zoneId.toString(), appId: appId.toString() },\r\n    });\r\n  }\r\n\r\n  flushCache(appId: number) {\r\n    return this.http.get<null>(this.apiUrl(webApiAppRoot + 'flushcache'), {\r\n      params: { zoneId: this.context.zoneId.toString(), appId: appId.toString() },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { FeatureState } from '../../features/models';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { License, LicenseDownloadInfo, LicenseUploadInfo } from '../models/license.model';\r\n\r\nconst webApiLicense = 'sys/license/';\r\nconst webApiFeatSaveNew = 'admin/feature/SaveNew';\r\nconst webApiLicSummary = 'sys/license/Summary';\r\nconst webApiUpload = 'sys/license/Upload';\r\n\r\n@Injectable()\r\nexport class FeaturesConfigService {\r\n  constructor(private http: HttpClient, private dnnContext: DnnContext) { }\r\n\r\n  saveFeatures(featuresStates: FeatureState[]): Observable<null> {\r\n    return this.http.post<null>(this.dnnContext.$2sxc.http.apiUrl(webApiFeatSaveNew), featuresStates);\r\n  }\r\n\r\n  getLicenses(): Observable<License[]> {\r\n    return this.http.get<License[]>(this.dnnContext.$2sxc.http.apiUrl(webApiLicSummary));\r\n  }\r\n\r\n  uploadLicense(file: File): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http\r\n      .post<LicenseUploadInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiUpload), formData)\r\n      .pipe(\r\n        map(info => {\r\n          const result: FileUploadResult = {\r\n            Success: info.Success,\r\n            Messages: [{\r\n              MessageType: info.Success ? FileUploadMessageTypes.Success : FileUploadMessageTypes.Error,\r\n              Text: `License ${info.Success ? 'uploaded' : 'upload failed'}: ${info.Message}`,\r\n            }],\r\n          };\r\n          return result;\r\n        }),\r\n      );\r\n  }\r\n\r\n  retrieveLicense(): Observable<LicenseDownloadInfo> {\r\n    return this.http.get<LicenseDownloadInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiLicense + 'Retrieve'));\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { SiteLanguage, SiteLanguagePermissions } from '../models/site-language.model';\r\nimport { SystemInfoSet } from '../models/system-info.model';\r\n\r\nconst webApiZoneRoot = 'admin/zone/';\r\n\r\n@Injectable()\r\nexport class ZoneService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getLanguages() {\r\n    return this.http.get<SiteLanguage[]>(this.dnnContext.$2sxc.http.apiUrl(webApiZoneRoot + 'GetLanguages'));\r\n  }\r\n\r\n  toggleLanguage(code: string, enable: boolean) {\r\n    return this.http.get<null>(this.dnnContext.$2sxc.http.apiUrl(webApiZoneRoot + 'SwitchLanguage'), {\r\n      params: { cultureCode: code, enable: enable.toString() },\r\n    });\r\n  }\r\n\r\n  getSystemInfo() {\r\n    return this.http.get<SystemInfoSet>(this.dnnContext.$2sxc.http.apiUrl(webApiZoneRoot + 'GetSystemInfo'));\r\n  }\r\n\r\n  getLanguagesPermissions() {\r\n    return this.http.get<SiteLanguagePermissions[]>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'languages'), {\r\n      params: { appId: this.context.appId },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiTypeRoot } from '../../app-administration/services/content-types.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentExport } from '../models/content-export.model';\r\nimport { webApiEntityRoot } from '../../shared/services/entity.service';\r\n\r\n@Injectable()\r\nexport class ContentExportService {\r\n  constructor(private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  exportContent(values: ContentExport, selectedIds: number[]) {\r\n    const selectedIdsString = selectedIds ? '&selectedids=' + selectedIds.join() : '';\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'Download')\r\n      + '?appId=' + this.context.appId\r\n      + '&language=' + values.language\r\n      + '&defaultLanguage=' + values.defaultLanguage\r\n      + '&contentType=' + values.contentTypeStaticName\r\n      + '&recordExport=' + values.recordExport\r\n      + '&resourcesReferences=' + values.resourcesReferences\r\n      + '&languageReferences=' + values.languageReferences\r\n      + selectedIdsString;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  exportJson(typeName: string) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiTypeRoot + 'Json')\r\n      + '?appId=' + this.context.appId\r\n      + '&name=' + typeName;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  exportEntity(id: number, prefix: string, metadata: boolean) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'Json')\r\n      + '?appId=' + this.context.appId\r\n      + '&id=' + id\r\n      + '&prefix=' + prefix\r\n      + '&withMetadata=' + metadata;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n}\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const importContentItemDialog: DialogConfig = {\r\n  name: 'IMPORT_CONTENT_ITEM_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ImportContentItemComponent: ImportContentItemComponent } = await import('./import-content-item.component');\r\n    return ImportContentItemComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const contentItemsDialog: DialogConfig = {\r\n  name: 'CONTENT_ITEMS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ContentItemsComponent } = await import('./content-items.component');\r\n    return ContentItemsComponent;\r\n  }\r\n};\r\n","import { Routes } from '@angular/router';\r\nimport { GoToMetadata } from '../metadata';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { importContentItemDialog } from './import-content-item/import-content-item-dialog.config';\r\nimport { contentItemsDialog } from './content-items-dialog.config';\r\nimport { EditRoutesSubItems } from '../edit/edit.routing';\r\n\r\nexport const contentItemsRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: contentItemsDialog },\r\n    children: [\r\n      ...GoToMetadata.getRoutes(),\r\n      {\r\n        path: 'export/:contentTypeStaticName',\r\n        loadChildren: () => import('../content-export/content-export.routing').then(m => m.ContentExportRoutes)\r\n      },\r\n      {\r\n        path: 'export/:contentTypeStaticName/:selectedIds',\r\n        loadChildren: () => import('../content-export/content-export.routing').then(m => m.ContentExportRoutes)\r\n      },\r\n      {\r\n        path: 'import',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: importContentItemDialog }\r\n      },\r\n      {\r\n        path: ':contentTypeStaticName/import',\r\n        loadChildren: () => import('../content-import/content-import.routing').then(m => m.contentImportRoutes),\r\n        data: { title: 'Import Items' },\r\n      },\r\n      ...EditRoutesSubItems,\r\n    ]\r\n  },\r\n];\r\n\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { from, map, switchMap } from 'rxjs';\r\nimport { Field } from '../../shared/fields/field.model';\r\nimport { webApiFieldsAll } from '../../shared/fields/content-types-fields.service';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { toBase64 } from '../../shared/helpers/file-to-base64.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentItem } from '../models/content-item.model';\r\nimport { webApiEntityList, webApiEntityRoot } from '../../shared/services/entity.service';\r\n\r\n@Injectable()\r\nexport class ContentItemsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAll(contentTypeStaticName: string) {\r\n    return this.http.get<ContentItem[]>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityList), {\r\n      params: { appId: this.context.appId.toString(), contentType: contentTypeStaticName }\r\n    });\r\n  }\r\n\r\n  getColumns(contentTypeStaticName: string) {\r\n    return this.http.get<Field[]>(this.dnnContext.$2sxc.http.apiUrl(webApiFieldsAll), {\r\n      params: { appId: this.context.appId.toString(), staticName: contentTypeStaticName }\r\n    });\r\n  }\r\n\r\n  importItem(file: File) {\r\n    return from(toBase64(file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'upload'), {\r\n          AppId: this.context.appId.toString(),\r\n          ContentBase64: fileBase64,\r\n        });\r\n      }),\r\n      map(success => {\r\n        const result: FileUploadResult = {\r\n          Success: success,\r\n          Messages: [],\r\n        };\r\n        return result;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const contentTypeFieldsDialog: DialogConfig = {\r\n  name: 'CONTENT_TYPE_FIELDS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { ContentTypeFieldsComponent } = await import('./content-type-fields.component');\r\n    return ContentTypeFieldsComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const editContentTypeFieldsDialog: DialogConfig = {\r\n  name: 'EDIT_CONTENT_TYPE_FIELDS_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'medium',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { EditContentTypeFieldsComponent } = await import('./edit-content-type-fields.component');\r\n    return EditContentTypeFieldsComponent;\r\n  }\r\n};\r\n","import { Routes } from '@angular/router';\r\nimport { GoToMetadata } from '../metadata';\r\nimport { GoToPermissions } from '../permissions/go-to-permissions';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { contentTypeFieldsDialog } from './content-type-fields-dialog.config';\r\nimport { editContentTypeFieldsDialog } from './edit-content-type-fields/edit-content-type-fields-dialog.config';\r\nimport { EditRoutesSubItems } from '../edit/edit.routing';\r\n\r\nexport const contentTypeFieldsRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: contentTypeFieldsDialog },\r\n    children: [\r\n      {\r\n        path: 'add/:contentTypeStaticName',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: editContentTypeFieldsDialog }\r\n      },\r\n      {\r\n        path: 'update/:contentTypeStaticName/:id/:editMode',\r\n        component: DialogEntryComponent,\r\n        data: { dialog: editContentTypeFieldsDialog },\r\n      },\r\n      ...GoToMetadata.getRoutes(),\r\n      GoToPermissions.route,\r\n      ...EditRoutesSubItems,\r\n    ]\r\n  }\r\n];\r\n\r\n","@if (viewModel$ | async; as vm) {\r\n  @if (vm.show) {\r\n    <div class=\"feature-text-info\" (click)=\"openDialog()\" [tippy]=\"'Features.Tooltip' | translate: vm.feature\">\r\n      <mat-icon class=\"icon icon-{{vm.icon}}\">{{ vm.icon }}</mat-icon>\r\n      <div class=\"feature-text-info-content\">\r\n        <div class=\"feature-text-info-title\">{{ 'Features.FeatureNotActivated' | translate }}</div>\r\n        <div class=\"feature-text-info-subtitle\">{{ 'Features.ClickToFindOutMore' | translate }}</div>\r\n      </div>\r\n    </div>\r\n  }\r\n} @else {\r\n  <div>loading...</div>\r\n}\r\n<ng-template #loading>\r\n  <div>loading...</div>\r\n</ng-template>\r\n","import { Component, Input } from '@angular/core';\r\nimport { FeatureSummary } from '../models';\r\nimport { FeatureComponentBase } from '../shared/base-feature.component';\r\nimport { BehaviorSubject, map, Observable, combineLatest } from 'rxjs';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n  selector: 'app-feature-text-info',\r\n  templateUrl: './feature-text-info.component.html',\r\n  styleUrls: ['./feature-text-info.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatIconModule,\r\n    AsyncPipe,\r\n    TranslateModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class FeatureTextInfoComponent extends FeatureComponentBase {\r\n  @Input()\r\n  public set asInfo(value: boolean) { this.asInfo$.next(value); }\r\n  asInfo$ = new BehaviorSubject<boolean>(false);\r\n\r\n  viewModel$: Observable<FeatureTextInfoViewModel>;\r\n\r\n  constructor() {\r\n    super();\r\n    this.viewModel$ = combineLatest([this.feature$, this.asInfo$, this.show$]).pipe(\r\n      map(([feature, asInfo, show]) =>\r\n      ({\r\n        feature,\r\n        icon: asInfo ? 'info' : 'warning',\r\n        show\r\n      }))\r\n    );\r\n  }\r\n\r\n}\r\n\r\ninterface FeatureTextInfoViewModel {\r\n  feature: FeatureSummary;\r\n  icon: string;\r\n  show: boolean;\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ReplaceConfig } from '../../replace-content/models/replace-config.model';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentGroup, ContentGroupAdd } from '../models/content-group.model';\r\nimport { GroupHeader } from '../models/group-header.model';\r\n\r\nconst webApiContentGroup = 'cms/contentgroup/';\r\n\r\n@Injectable()\r\nexport class ContentGroupService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getItems(item: ContentGroup) {\r\n    return this.http.get<ReplaceConfig>(this.dnnContext.$2sxc.http.apiUrl(webApiContentGroup + 'replace'), {\r\n      params: { appId: this.context.appId.toString(), guid: item.guid, part: item.part, index: item.index.toString() }\r\n    });\r\n  }\r\n\r\n  saveItem(item: ContentGroupAdd) {\r\n    return this.http.post<null>(this.dnnContext.$2sxc.http.apiUrl(webApiContentGroup + 'replace'), {}, {\r\n      params: { guid: item.guid, part: item.part, index: item.index.toString(), entityId: item.id.toString(), add: `${item.add}` }\r\n    });\r\n  }\r\n\r\n  removeItem(contentGroup: ContentGroup, index: number) {\r\n    // note: the server checks if the part == 'content' and will automatically treat it as a pair with presentation\r\n    return this.http.delete<null>(this.dnnContext.$2sxc.http.apiUrl('cms/list/delete'), {\r\n      params: { index: index, parent: contentGroup.guid, fields: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  getList(contentGroup: ContentGroup) {\r\n    return this.http.get<GroupHeader[]>(this.dnnContext.$2sxc.http.apiUrl(webApiContentGroup + 'itemlist'), {\r\n      params: { appId: this.context.appId.toString(), guid: contentGroup.guid, part: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  saveList(contentGroup: ContentGroup, resortedList: GroupHeader[]) {\r\n    return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiContentGroup + 'itemlist'), resortedList, {\r\n      params: { appId: this.context.appId.toString(), guid: contentGroup.guid, part: contentGroup.part }\r\n    });\r\n  }\r\n\r\n  getHeader(contentGroup: ContentGroup) {\r\n    return this.http.get<GroupHeader>(this.dnnContext.$2sxc.http.apiUrl(webApiContentGroup + 'header'), {\r\n      params: { appId: this.context.appId.toString(), guid: contentGroup.guid }\r\n    });\r\n  }\r\n}\r\n","import { Route } from '@angular/router';\r\nimport { eavConstants, MetadataKeyType } from '../shared/constants/eav.constants';\r\n\r\nexport class GoToMetadata {\r\n\r\n  static getRoutes(): Route[] {\r\n    const defaultRoute: Route = {\r\n      path: 'metadata/:targetType/:keyType/:key',\r\n      loadChildren: () => import('./metadata.routing').then(m => m.metadataRoutes),\r\n      data: { title: 'Metadata' },\r\n    };\r\n    const routes: Route[] = [\r\n      defaultRoute,\r\n      {\r\n        ...defaultRoute,\r\n        path: `${defaultRoute.path}/title/:title`,\r\n      },\r\n      {\r\n        ...defaultRoute,\r\n        path: `${defaultRoute.path}/contentType/:contentTypeStaticName`,\r\n      },\r\n      {\r\n        ...defaultRoute,\r\n        path: `${defaultRoute.path}/title/:title/contentType/:contentTypeStaticName`,\r\n      }\r\n    ];\r\n    return routes;\r\n  }\r\n\r\n  static getUrl(targetType: number, keyType: MetadataKeyType, key: string, dialogTitle?: string, contentTypeStaticName?: string): string {\r\n    let url = `metadata/${targetType}/${keyType}/${key}`;\r\n    if (dialogTitle) {\r\n      url += `/title/${encodeURIComponent(dialogTitle)}`;\r\n    }\r\n    if (contentTypeStaticName) {\r\n      url += `/contentType/${contentTypeStaticName}`;\r\n    }\r\n    return url;\r\n  }\r\n\r\n  static getUrlApp(appId: number, dialogTitle?: string): string {\r\n    return this.getUrl(\r\n      eavConstants.metadata.app.targetType,\r\n      eavConstants.metadata.app.keyType,\r\n      appId.toString(),\r\n      dialogTitle,\r\n    );\r\n  }\r\n\r\n  static getUrlAttribute(attributeId: number, dialogTitle?: string, contentTypeStaticName?: string): string {\r\n    return this.getUrl(\r\n      eavConstants.metadata.attribute.targetType,\r\n      eavConstants.metadata.attribute.keyType,\r\n      attributeId.toString(),\r\n      dialogTitle,\r\n      contentTypeStaticName,\r\n    );\r\n  }\r\n\r\n  static getUrlContentType(staticName: string, dialogTitle?: string): string {\r\n    return this.getUrl(\r\n      eavConstants.metadata.contentType.targetType,\r\n      eavConstants.metadata.contentType.keyType,\r\n      staticName,\r\n      dialogTitle,\r\n    );\r\n  }\r\n\r\n  static getUrlEntity(guid: string, dialogTitle?: string, contentTypeStaticName?: string): string {\r\n    return this.getUrl(\r\n      eavConstants.metadata.entity.targetType,\r\n      eavConstants.metadata.entity.keyType,\r\n      guid,\r\n      dialogTitle,\r\n      contentTypeStaticName,\r\n    );\r\n  }\r\n\r\n}\r\n","export const dropdownInsertValue = 'DROPDOWN_INSERT_VALUE' as const;\r\n","/**\r\n * Do not reuse regex:\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test#using_test_on_a_regex_with_the_global_flag\r\n */\r\nexport function guidRegex(): RegExp {\r\n  return /^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i;\r\n}\r\n","\r\nexport class JsonHelpers {\r\n\r\n  /** Tries to parse string as JSON */\r\n  static tryParse(input: string): any {\r\n    try {\r\n      return JSON.parse(input);\r\n    } catch { }\r\n  }\r\n}\r\n","import { EavWindow } from '../models/eav-window.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport function loadScripts(scriptObjects: ScriptObject[], callback: () => void, iteration = 0) {\r\n  const isLast = scriptObjects.length === iteration + 1;\r\n  const newCallback = isLast ? callback : loadScripts.bind(this, scriptObjects, callback, iteration + 1);\r\n  const scrObj = scriptObjects[iteration];\r\n\r\n  const global = typeof scrObj.test === 'string' ? scrObj.test : null;\r\n  const test = typeof scrObj.test === 'function' ? scrObj.test : null;\r\n  const w = window as Record<string, any>;\r\n\r\n  if (global != null && !!w[global]) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  if (test != null && test()) {\r\n    callback();\r\n    return;\r\n  }\r\n\r\n  window.require([scrObj.src], (exportedVar: any) => {\r\n    if (exportedVar && !w[global]) {\r\n      w[global] = exportedVar;\r\n    }\r\n    newCallback();\r\n  });\r\n}\r\n\r\nexport interface ScriptObject {\r\n  /** window.xxx or a function that returns a boolean */\r\n  test: string | (() => boolean);\r\n  src: string;\r\n}\r\n","import { EnvironmentSpecs } from '@2sic.com/2sxc-typings';\r\nimport { DialogContextApp } from '../models/dialog-context.models';\r\nimport { EavWindow } from '../models/eav-window.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n/**\r\n * This ensures that $2sxc is fully initialized with parameters which are provided later on\r\n * The appApi is being added in v12\r\n * It's important because in Oqtane the app-api root is different in from the normal admin-apis\r\n */\r\nexport function UpdateEnvVarsFromDialogSettings(appContext: DialogContextApp): void {\r\n  try {\r\n    const includedApiRoot = appContext?.Api;\r\n    if (!includedApiRoot) { return; }\r\n\r\n    const old2sxcHeader = (window.$2sxc.env as any).header as EnvironmentSpecs;\r\n    const new2sxcHeader = { ...old2sxcHeader, appApi: includedApiRoot } as EnvironmentSpecs;\r\n    window.$2sxc.env.load(new2sxcHeader);\r\n  } catch { /* ignore */ }\r\n}\r\n","import { PermissionsCount } from '../../app-administration/models/permissions-count.model';\r\nimport { Language } from './language.model';\r\n\r\nexport interface DialogContextApp {\r\n  /** Root for app APIs and content/query */\r\n  Api: string;\r\n  Folder: string;\r\n  GettingStartedUrl: string;\r\n  Id: number;\r\n  Identifier: string;\r\n  IsContentApp: boolean;\r\n  IsGlobalApp: boolean;\r\n  IsInherited: boolean;\r\n  IsShared: boolean;\r\n  IsSiteApp: boolean;\r\n  Name: string;\r\n  Permissions: PermissionsCount;\r\n  SettingsScope: AppScope;\r\n  Url: string;\r\n  SharedUrl: string;\r\n\r\n  /** New app icon */\r\n  Icon: string;\r\n}\r\n\r\nexport interface ApiKeySpecs {\r\n  NameId: string;\r\n  ApiKey: string;\r\n  IsDemo: boolean;\r\n}\r\n\r\nexport const AppScopes = {\r\n  App: 'App',\r\n  Site: 'Site',\r\n  Global: 'Global',\r\n} as const;\r\nexport type AppScope = typeof AppScopes[keyof typeof AppScopes];\r\n\r\nexport interface DialogContextEnable {\r\n  /** Determines if app admin should show app-permissions (true for Apps, false for Content and Global) */\r\n  AppPermissions?: boolean;\r\n  /** Determines if Code editing should be enabled (true for super-users) */\r\n  CodeEditor?: boolean;\r\n  DebugMode: boolean;\r\n  /** True if saving of formulas should be enabled (for edit-ui) */\r\n  FormulaSave?: boolean;\r\n  /** While debug is enabled, this allows some Edit Ui actions even when they are disabled in fields settings */\r\n  OverrideEditRestrictions?: boolean;\r\n  /** Determines if Queries should be enabled (true for Apps) */\r\n  Query?: boolean;\r\n}\r\n\r\nexport interface DialogContextLanguage {\r\n  Current: string;\r\n  List: Language[];\r\n  Primary: string;\r\n}\r\n\r\nexport interface DialogContextPage {\r\n  Id: number;\r\n}\r\n\r\nexport interface DialogContextSite {\r\n  DefaultApp: DialogContextSiteApp;\r\n  Id: number;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSystem {\r\n  DefaultApp: DialogContextSiteApp;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSiteApp {\r\n  ZoneId: number;\r\n  AppId: number;\r\n}\r\n\r\nexport interface DialogContextUser {\r\n  Email: string;\r\n  Id: number;\r\n  Guid: string;\r\n  IsAnonymous: boolean;\r\n  IsSiteAdmin: boolean;\r\n  IsContentAdmin: boolean;\r\n  IsSystemAdmin: boolean;\r\n  Name: string;\r\n  Username: string;\r\n}\r\n\r\n// export interface DialogContextFeature {\r\n//   NameId: string;\r\n//   Enabled: boolean;\r\n// }\r\n","import { EavFor } from '../../edit/shared/models/eav';\r\nimport { MetadataKeyDefinition } from '../constants/eav.constants';\r\nimport { EditInfo } from './edit-info';\r\n\r\n// 2dm - new helper to reduce code when creating item identifiers\r\n// TODO: @2dg - try to replace as many direct object creations with this as possible\r\nexport class EditPrep {\r\n\r\n  static editId(id: number): ItemEditIdentifier {\r\n    return { EntityId: id } satisfies ItemEditIdentifier;\r\n  }\r\n\r\n  // TODO: @2dg - TO FIND where this should be used, look for \"For:\" in the code\r\n  static newMetadata<T>(key: T, typeName: string, keyDef: MetadataKeyDefinition): ItemAddIdentifier {\r\n    return {\r\n      ContentTypeName: typeName,\r\n      For: EditPrep.createFor(keyDef, key)\r\n    } satisfies ItemAddIdentifier;\r\n  }\r\n\r\n  static createFor<T>(keyDef: MetadataKeyDefinition, key: T): EavFor {\r\n    return {\r\n      Target: keyDef.target,\r\n      TargetType: keyDef.targetType,\r\n      ...(\r\n        typeof (key) == 'number'\r\n          ? { Number: key as number }\r\n          : keyDef.keyType == 'guid'\r\n            ? { Guid: key as string }\r\n            : { String: key as string }\r\n      )\r\n    } satisfies EavFor;\r\n\r\n  }\r\n}\r\n\r\n/**\r\n * Type for edit form.\r\n * To add new item send newItem and to edit existing item send editItems\r\n */\r\nexport interface EditForm {\r\n  items: (ItemIdentifier)[];\r\n}\r\n\r\nexport type ItemIdentifier = ItemAddIdentifier | ItemEditIdentifier | ItemInListIdentifier;\r\n\r\nexport type ItemIdentifierHeader = ItemIdentifier & ItemIdentifierEditConfig;\r\n\r\n// export interface ItemIdentifierHeader extends ItemIdentifierShared, ItemIdentifierEditConfig {\r\n//   // 2023-05-15 seems unused - TODO: probably remove from backend as well\r\n//   // Add?: boolean;\r\n//   ContentTypeName: string;\r\n//   DuplicateEntity?: number;\r\n//   EntityId: number;\r\n//   // 2023-05-15 seems unused - TODO: probably remove from backend as well\r\n//   // For?: EavFor;\r\n//   // 2023-05-15 seems unused - TODO: probably remove from backend as well\r\n//   // Guid: string;\r\n//   // 2023-05-15 seems unused - TODO: probably remove from backend as well\r\n//   // Index?: number;\r\n\r\n//   // 2023-05-15 seems unused\r\n//   // Metadata?: EavEntity[];\r\n//   // 2023-05-15 now in base interface\r\n//   // Prefill?: Record<string, any>;\r\n\r\n//   // 2023-05-15 seems unused - TODO: probably remove from backend as well\r\n//   // Title?: string;\r\n// }\r\n\r\nexport interface ItemIdentifierInbound {\r\n  /** inbound fields, coming from the toolbar */\r\n  UiFields?: string;\r\n  Parameters?: Record<string, unknown>;\r\n}\r\n\r\nexport interface ItemIdentifierShared {\r\n\r\n  /** Prefill form with data */\r\n  Prefill?: Record<string, unknown>;\r\n\r\n  /**\r\n   * New way to transport a random amount of properties back and forth\r\n   * - IMPORTANT: this is only after conversion to funky url\r\n   * - before you must use Parameters on the main object?\r\n   */\r\n  ClientData?: {\r\n    fields?: string;\r\n    parameters?: Record<string, unknown>;\r\n    [key: string]: unknown;\r\n  };\r\n\r\n  /** Experimental 17.10+ */\r\n  clientId?: number;\r\n}\r\n\r\nexport interface ItemEditIdentifier extends ItemIdentifierShared {\r\n  EntityId: number;\r\n}\r\n\r\nexport interface ItemAddIdentifier extends ItemIdentifierShared {\r\n  /** Content type */\r\n  ContentTypeName: string;\r\n  /** Add item as metadata to another item */\r\n  For?: EavFor;\r\n  /** @deprecated 2sxc 9 Metadata object */\r\n  Metadata?: LegacyMetadata;\r\n\r\n  /** Prefill form with data from another entity */\r\n  DuplicateEntity?: number;\r\n}\r\n\r\n/**\r\n * This is both an item in a content-group, as well as an item in a list\r\n */\r\nexport interface ItemInListIdentifier extends ItemIdentifierShared {\r\n  Add: boolean;\r\n  Index: number;\r\n  Parent: string;\r\n  Field: string;\r\n\r\n  EntityId?: number;\r\n}\r\n\r\nexport interface ViewOrFileIdentifier {\r\n  Edition?: string;\r\n  EntityId?: number;\r\n  IsShared: boolean;\r\n  Path: string;\r\n}\r\n\r\n/** @deprecated 2sxc 9 Metadata object */\r\nexport interface LegacyMetadata {\r\n  key: string;\r\n  keyType: string;\r\n  targetType: number;\r\n}\r\n\r\n\r\nexport interface ItemIdentifierEditConfig {\r\n  /** Information if this item is read-only */\r\n  EditInfo?: EditInfo;\r\n  /** Determines if this item is currently non-existing / empty - so if this doesn't change it should also save empty */\r\n  IsEmpty: boolean;\r\n  /** Determines if this item can be empty, so it is allowed to be removed */\r\n  IsEmptyAllowed: boolean;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { DialogTypeConstants } from '../constants/dialog-type.constants';\r\n// tslint:disable-next-line:max-line-length\r\nimport { keyAppId, keyContentBlockId, keyDebug, keyDialog, keyExtras, keyIsShared, keyItems, keyModuleId, keyPartOfPage, keyPipelineId, keyUrl, keyZoneId, prefix } from '../constants/session.constants';\r\nimport { DialogHashParams, ExtrasParam } from '../models/dialog-url-params.model';\r\nimport { EditForm, ViewOrFileIdentifier } from '../models/edit-form.model';\r\nimport { Context } from './context';\r\n\r\n@Injectable()\r\nexport class DialogService {\r\n  constructor(private context: Context) { }\r\n\r\n  openCodeFile(path: string, isShared: boolean, templateId?: number) {\r\n    const dialog = DialogTypeConstants.Develop;\r\n    const form = {\r\n      items: [{\r\n        Path: path,\r\n        ...(templateId != null && { EntityId: templateId }),\r\n      }] as ViewOrFileIdentifier[]\r\n    };\r\n\r\n    const hashParams: DialogHashParams = {\r\n      ...this.buildHashParam(keyDialog, dialog),\r\n      ...this.buildHashParam(keyIsShared, isShared.toString()),\r\n      ...this.buildHashParam(keyItems, JSON.stringify(form.items)),\r\n    };\r\n    const url = this.buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  openQueryDesigner(queryId: number) {\r\n    const dialog = DialogTypeConstants.PipelineDesigner;\r\n    const form: EditForm = {\r\n      items: [{ EntityId: queryId }],\r\n    };\r\n\r\n    const hashParams: DialogHashParams = {\r\n      ...this.buildHashParam(keyDialog, dialog),\r\n      ...this.buildHashParam(keyPipelineId, queryId.toString()),\r\n      ...this.buildHashParam(keyItems, JSON.stringify(form.items)),\r\n    };\r\n    const url = this.buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  openAppsManagement(zoneId: number, tab?: string) {\r\n    const extras: ExtrasParam = {\r\n      ...(tab && { tab }),\r\n    };\r\n    const hashParams: DialogHashParams = {\r\n      ...this.buildHashParam(keyZoneId, zoneId.toString()),\r\n      ...this.buildHashParam(keyDialog, DialogTypeConstants.Zone),\r\n      ...(Object.keys(extras).length ? this.buildHashParam(keyExtras, JSON.stringify(extras)) : ''),\r\n    };\r\n    const url = this.buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  openAppAdministration(zoneId: number, appId: number, tab?: string, scope?: string) {\r\n    const extras: ExtrasParam = {\r\n      ...(tab && { tab }),\r\n      ...(scope && { scope }),\r\n    };\r\n    const hashParams: DialogHashParams = {\r\n      ...this.buildHashParam(keyZoneId, zoneId.toString()),\r\n      ...this.buildHashParam(keyAppId, appId.toString()),\r\n      ...this.buildHashParam(keyDialog, DialogTypeConstants.App),\r\n      ...(Object.keys(extras).length ? this.buildHashParam(keyExtras, JSON.stringify(extras)) : ''),\r\n    };\r\n    const url = this.buildFullUrl(hashParams);\r\n    window.open(url, '_blank');\r\n  }\r\n\r\n  /** A lot of the link is identical when opening the admin-dialogs in a new window */\r\n  private buildSharedHashParams() {\r\n    const hashParams: DialogHashParams = {\r\n      ...this.buildHashParam(keyZoneId, this.context.zoneId.toString()),\r\n      ...this.buildHashParam(keyAppId, this.context.appId.toString()),\r\n      ...this.buildHashParam(keyModuleId, this.context.moduleId?.toString()),\r\n      ...this.buildHashParam(keyContentBlockId, this.context.contentBlockId?.toString()),\r\n      ...this.buildHashParam(keyPartOfPage),\r\n      ...(sessionStorage.getItem(keyDebug) ? this.buildHashParam(keyDebug) : {}),\r\n    };\r\n    return hashParams;\r\n  }\r\n\r\n  /** Encodes param if necessary */\r\n  private buildHashParam(key: string, value?: string) {\r\n    const rawKey = key.replace(prefix, '');\r\n    const valueTemp = (value != null) ? value : sessionStorage.getItem(key);\r\n    const rawValue = encodeURIComponent(valueTemp);\r\n    const hashParam: DialogHashParams = { [rawKey]: rawValue };\r\n    return hashParam;\r\n  }\r\n\r\n  private buildFullUrl(hashParams: DialogHashParams) {\r\n    const oldHref = sessionStorage.getItem(keyUrl);\r\n    const oldUrl = new URL(oldHref);\r\n    const newHref = oldUrl.origin + oldUrl.pathname + oldUrl.search;\r\n\r\n    const allHashParams: DialogHashParams = {\r\n      ...this.buildSharedHashParams(),\r\n      ...hashParams,\r\n    };\r\n    const hashUrl = Object.entries(allHashParams).reduce((acc, [key, value]) => `${acc}&${key}=${value}`, '').replace('&', '#');\r\n    return newHref + hashUrl;\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
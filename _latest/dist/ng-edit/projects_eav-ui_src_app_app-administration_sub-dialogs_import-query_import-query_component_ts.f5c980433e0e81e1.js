"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_import-query_import-query_component_ts"],{4079:(h,u,t)=>{t.d(u,{Cu:()=>M,JL:()=>v,Mk:()=>O,ei:()=>P,vN:()=>I,xR:()=>C});var c=t(4600),l=t(6647),i=t(271),p=t(693),n=t(8873),e=t(9234),r=t(8559),y=t(6443),o=t(4821);const O="admin/query/Run",P="admin/query/DebugStream",M="admin/query/Save",v="admin/query/Get",I="admin/query/DataSources";let C=(()=>{class d{constructor(s,_,E){this.http=s,this.context=_,this.dnnContext=E}getAll(s){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e.Gg),{params:{appId:this.context.appId.toString(),contentType:s}})}importQuery(s){return(0,c.H)((0,p.n)(s)).pipe((0,l.n)(_=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:_})),(0,i.T)(_=>({Success:_,Messages:[]})))}clonePipeline(s){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:s.toString(),appId:this.context.appId.toString()}})}delete(s){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:s.toString()}})}static#t=this.\u0275fac=function(_){return new(_||d)(r.KVO(y.Qq),r.KVO(n.o),r.KVO(o.ob))};static#e=this.\u0275prov=r.jDH({token:d,factory:d.\u0275fac})}return d})()},9149:(h,u,t)=>{t.r(u),t.d(u,{ImportQueryComponent:()=>e});var c=t(7941),l=t(3550),i=t(4079),p=t(5437),n=t(8559);let e=(()=>{class r{constructor(o){this.uploadType=l.HL.Query,this.pipelinesService=(0,p.d)(i.xR),o.title??="Import Query",o.description??="Select a Query file (json) from your computer to import.",o.allowedFileTypes??="json",o.upload$??=a=>this.pipelinesService.importQuery(a[0])}static#t=this.\u0275fac=function(a){return new(a||r)(n.rXU(c.Vh))};static#e=this.\u0275cmp=n.VBU({type:r,selectors:[["app-import-query"]],standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(a,m){1&a&&n.nrm(0,"app-file-upload-dialog",0),2&a&&n.Y8G("uploadType",m.uploadType)},dependencies:[l.jj]})}return r})()},693:(h,u,t)=>{function c(i){return new Promise((p,n)=>{const e=new FileReader;e.readAsDataURL(i),e.onload=()=>{p(e.result.split(",")[1])},e.onerror=r=>{n(r)}})}function l(i){return new Promise((p,n)=>{const e=new FileReader;e.readAsText(i),e.onload=()=>{p(e.result)},e.onerror=r=>{n(r)}})}t.d(u,{d:()=>l,n:()=>c})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_import-query_import-query_component_ts.f5c980433e0e81e1.js.map
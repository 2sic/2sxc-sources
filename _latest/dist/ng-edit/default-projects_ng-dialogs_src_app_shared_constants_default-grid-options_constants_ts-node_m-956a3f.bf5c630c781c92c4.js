"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-956a3f"],{6880:(U,D,E)=>{E.d(D,{f:()=>d});const d={accentedSort:!0,animateRows:!0,enableCellTextSelection:!0,headerHeight:32,suppressScrollOnNewData:!0,valueCache:!0,defaultColDef:{filterParams:{newRowsAction:"keep"}},tooltipShowDelay:0,suppressMovableColumns:!0}},9119:(U,D,E)=>{E.d(D,{F$j:()=>Ee});var n,d=E(9841),z=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var o,a,r=e.call(n),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i},W=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(z(arguments[t]));return n},K=function(){function n(t,e,r,o,i,a,s,u){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=r,this.columnModel=o,this.gridApi=i,this.columnApi=a,this.beans=u,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return n.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},n.prototype.getCopyOfNodesMap=function(){return d._.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var r=this.rootNode,o=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(i){return e.createNode(i,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=r.childrenAfterFilter,o.childrenAfterGroup=r.childrenAfterGroup,o.childrenAfterSort=r.childrenAfterSort,o.childrenMapped=r.childrenMapped,o.allLeafChildren=r.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},n.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,r,o),this.executeUpdate(t,r,o),this.executeAdd(t,r),this.updateSelection(o),e&&d._.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(o){o.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:d.zW2.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},n.prototype.executeAdd=function(t,e){var r=this,o=t.add,i=t.addIndex;if(!d._.missingOrEmpty(o)){var a=o.map(function(l){return r.createNode(l,r.rootNode,n.TOP_LEVEL)});if("number"==typeof i&&i>=0){var u=this.rootNode.allLeafChildren,p=u.slice(0,i),c=u.slice(i,u.length);this.rootNode.allLeafChildren=W(p,a,c)}else this.rootNode.allLeafChildren=W(this.rootNode.allLeafChildren,a);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},n.prototype.executeRemove=function(t,e,r){var o=this,i=t.remove;if(!d._.missingOrEmpty(i)){var a={};i.forEach(function(s){var u=o.lookupRowNode(s);!u||(u.isSelected()&&r.push(u),u.clearRowTopAndRowIndex(),a[u.id]=!0,delete o.allNodesMap[u.id],e.remove.push(u))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var o=this,i=t.update;d._.missingOrEmpty(i)||i.forEach(function(a){var s=o.lookupRowNode(a);!s||(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),o.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var o=e({data:t,level:0,api:this.gridApi,columnApi:this.columnApi});if(!(r=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(r=this.rootNode.allLeafChildren.find(function(i){return i.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var o=new d.Fxk(this.beans);return o.group=!1,this.setMasterForRow(o,t,r,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=r,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},n.prototype.setMasterForRow=function(t,e,r,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),o){var i=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(i?i.length:0))}},n.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),Y=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},x=(()=>(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"}(x||(x={})),x))(),q=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Y(t,n),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:d.j_r.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o=this.refreshModel.bind(this,{step:d.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,d.zW2.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,d.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,d.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:d.j_r.PIVOT})),this.addManagedListener(this.eventService,d.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var i=this.refreshModel.bind(this,{step:d.j_r.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,d.wfB.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i),this.addManagedListener(this.gridOptionsWrapper,d.wfB.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i),this.rootNode=new d.Fxk(this.beans),this.nodeManager=new K(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,o,i){var a,s=!1;do{a=!1;for(var u=this.getRowIndexAtPixel(e),p=this.getRowIndexAtPixel(r),c=Math.max(u,o),l=Math.min(p,i),h=c;h<=l;h++){var f=this.getRow(h);if(f.rowHeightEstimated){var g=this.gridOptionsWrapper.getRowHeightForNode(f);f.setRowHeight(g.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),r=0,o=new Set,i=this.gridOptionsWrapper.getDomLayout()===d.gTE.DOM_LAYOUT_NORMAL,a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(null!=s.id&&o.add(s.id),null==s.rowHeight){var u=this.gridOptionsWrapper.getRowHeightForNode(s,i,e);s.setRowHeight(u.height,u.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return o},t.prototype.clearRowTopAndRowIndex=function(e,r){var o=e.isActive(),i=function(s){s&&null!=s.id&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(o&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(a))};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,o){var i=this;void 0===o&&(o=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),u=!this.gridOptionsWrapper.isSuppressAnimationFrame();return s!==e[0]&&(e.forEach(function(p){d._.removeFromArray(i.rootNode.allLeafChildren,p)}),e.forEach(function(p,c){d._.insertIntoArray(i.rootNode.allLeafChildren,p,Math.max(a+o,0)+c)}),this.refreshModel({step:d.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:u}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var o=null!=r?this.getRowIndexAtPixel(r):null,i=null!=o?this.getRow(o):null;if(i&&e&&i!==e&&null!=r){var a=this.getHighlightPosition(r,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(a),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var o=this.getRowIndexAtPixel(e);if(!(r=this.getRow(o||0)))return d.oh5.Below}return e-r.rowTop<r.rowHeight/2?d.oh5.Above:d.oh5.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var o=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex},t.prototype.getRowBounds=function(e){if(d._.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:d.j_r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:d.j_r.FILTER,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:d.j_r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return d.gTE.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:d.j_r.PIVOT}):this.refreshModel({step:d.j_r.AGGREGATE})},t.prototype.createChangePath=function(e){var r=d._.missingOrEmpty(e),o=new d.Dkq(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var r=e.rowNodeTransactions.filter(function(i){return null!=i.add&&i.add.length>0||null!=i.remove&&i.remove.length>0});return null==r||0==r.length},t.prototype.refreshModel=function(e){var r=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case d.j_r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,!!e.afterColumnsChanged);case d.j_r.FILTER:this.doFilter(o);case d.j_r.PIVOT:this.doPivot(o);case d.j_r.AGGREGATE:this.doAggregate(o);case d.j_r.SORT:this.doSort(e.rowNodeTransactions,o);case d.j_r.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,i),this.eventService.dispatchEvent({type:d.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){r.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=d._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return d._.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return d._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var a,o=!r,i=!1,s=[],u=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(p){var c=o&&!i;if(o||(p===r||p===e)&&(o=!0),!p.group||!u){var h=o&&!i,f=p.isParentOfNode(a);(h||f)&&s.push(p)}c&&(p===r||p===e)&&(i=!0,a=p===r?r:e)}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var r=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(d._.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var a=Math.floor((r+o)/2),s=this.rowsToDisplay[a];if(this.isRowInPixel(s,e))return a;s.rowTop<e?r=a+1:s.rowTop>e&&(o=a-1)}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,o){return e(r,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,x.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,x.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,x.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,x.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,o,i){if(!e)return i;for(var a=0;a<e.length;a++){var s=e[a];if(r(s,i++),s.hasChildren()){var u=null;switch(o){case x.Normal:u=s.childrenAfterGroup;break;case x.AfterFilter:u=s.childrenAfterFilter;break;case x.AfterFilterAndSort:u=s.childrenAfterSort;break;case x.PivotNodes:u=s.leafGroup?null:s.childrenAfterSort}u&&(i=this.recursivelyWalkNodesAndCallback(u,r,o,i))}}return i},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(s){!s||s.forEach(function(u){(r?d._.exists(u.childrenAfterGroup):u.group)&&(u.expanded=e,o(u.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:d.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:d.zW2.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,o,i,a){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:o,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:a}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(i)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||d._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){"boolean"==typeof e[o]&&(r.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return d._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){return e[o]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(d.Fxk.ID_PREFIX_ROW_GROUP)){var o=void 0;return this.forEachNode(function(i){i.id===e&&(o=i)}),o}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:d.zW2.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:d.j_r.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],o=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var u=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);o.push(u),s.callback&&r.push(s.callback.bind(null,u)),"number"==typeof s.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(o,void 0,i),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),o.length>0){var a={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:d.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([o],r,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++)r[this.rootNode.allLeafChildren[o].id]=o;return r}},t.prototype.commonUpdateRowData=function(e,r,o){var i=!this.gridOptionsWrapper.isSuppressAnimationFrame();o&&(r=this.createRowNodeOrder()),this.refreshModel({step:d.j_r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.eventService.dispatchEvent({type:d.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:d.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var o=r.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},y([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),y([(0,d.fsG)("$scope")],t.prototype,"$scope",void 0),y([(0,d.fsG)("selectionService")],t.prototype,"selectionService",void 0),y([(0,d.fsG)("valueCache")],t.prototype,"valueCache",void 0),y([(0,d.fsG)("columnApi")],t.prototype,"columnApi",void 0),y([(0,d.fsG)("gridApi")],t.prototype,"gridApi",void 0),y([(0,d.fsG)("animationFrameService")],t.prototype,"animationFrameService",void 0),y([(0,d.fsG)("beans")],t.prototype,"beans",void 0),y([(0,d.fsG)("filterStage")],t.prototype,"filterStage",void 0),y([(0,d.fsG)("sortStage")],t.prototype,"sortStage",void 0),y([(0,d.fsG)("flattenStage")],t.prototype,"flattenStage",void 0),y([(0,d.FiY)("groupStage")],t.prototype,"groupStage",void 0),y([(0,d.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),y([(0,d.FiY)("pivotStage")],t.prototype,"pivotStage",void 0),y([d.NqP],t.prototype,"init",null),y([(0,d.Vu6)("rowModel")],t)}(d.AS9),X=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},Q=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return X(t,n),t.prototype.execute=function(e){var r=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(r)},P([(0,d.fsG)("selectableService")],t.prototype,"selectableService",void 0),P([(0,d.fsG)("filterService")],t.prototype,"filterService",void 0),P([(0,d.Vu6)("filterStage")],t)}(d.AS9),$=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),G=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},J=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return $(t,n),t.prototype.execute=function(e){var r=this.sortController.getSortOptions(),o=d._.exists(r)&&r.length>0,i=o&&d._.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),a=i?this.calculateDirtyNodes(e.rowNodeTransactions):null,s=d._.missingOrEmpty(this.columnModel.getValueColumns()),u=r.some(function(p){return!!p.column.getColDef().showRowGroup});this.sortService.sort(r,o,i,a,e.changedPath,s,u)},t.prototype.calculateDirtyNodes=function(e){var r={},o=function(i){i&&i.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(i){o(i.add),o(i.update),o(i.remove)}),r},G([(0,d.fsG)("sortService")],t.prototype,"sortService",void 0),G([(0,d.fsG)("sortController")],t.prototype,"sortController",void 0),G([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),G([(0,d.Vu6)("sortStage")],t)}(d.AS9),Z=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),I=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},ee=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Z(t,n),t.prototype.execute=function(e){var r=e.rowNode,o=[],i={value:0},a=this.columnModel.isPivotMode(),s=a&&r.leafGroup;return this.recursivelyAddToRowsToDisplay(s?[r]:r.childrenAfterSort,o,i,a,0),!s&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,o,i,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,o,i,a){if(!d._.missingOrEmpty(e))for(var s=this.gridOptionsWrapper.isGroupHideOpenParents(),u=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),p=!u&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<e.length;c++){var l=e[c],h=l.hasChildren(),g=u&&h&&1===l.childrenAfterGroup.length,w=p&&h&&l.leafGroup&&1===l.childrenAfterGroup.length;if(!(i&&!h||s&&l.expanded&&(!i||!l.leafGroup)||g||w)&&this.addRowNodeToRowsToDisplay(l,r,o,a),!i||!l.leafGroup)if(h){var m=g||w;(l.expanded||m)&&(this.recursivelyAddToRowsToDisplay(l.childrenAfterSort,r,o,i,m?a:a+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(l),this.addRowNodeToRowsToDisplay(l.sibling,r,o,a)))}else if(l.master&&l.expanded){var k=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(k,r,o,a)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,o,i){var a=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(a?0:i)},t.prototype.ensureFooterNodeExists=function(e){if(!d._.exists(e.sibling)){var r=new d.Fxk(this.beans);Object.keys(e).forEach(function(o){r[o]=e[o]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,d._.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(d._.exists(e.detailNode))return e.detailNode;var r=new d.Fxk(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,d._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},I([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),I([(0,d.fsG)("beans")],t.prototype,"beans",void 0),I([(0,d.Vu6)("flattenStage")],t)}(d.AS9),te=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),N=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},re=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return te(t,n),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,o,i,a,s,u){var p=this,c=this.gridOptionsWrapper.isGroupMaintainOrder(),l=this.columnModel.getAllGridColumns().some(function(f){return f.isRowGroupActive()});a&&a.forEachChangedNodeDepthFirst(function(f){p.pullDownGroupDataForHideOpenParents(f.childrenAfterFilter,!0),f.childrenAfterSort=r?c&&l&&!f.leafGroup&&!u?f.childrenAfterFilter.slice(0):o?p.doDeltaSort(f,e,i,a,s):p.rowNodeSorter.doFullSort(f.childrenAfterFilter,e):f.childrenAfterFilter.slice(0),f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),p.updateChildIndexes(f),p.postSortFunc&&p.postSortFunc(f.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(a)},t.prototype.mapNodeToSortedNode=function(e,r){return{currentPos:r,rowNode:e}},t.prototype.doDeltaSort=function(e,r,o,i,a){var s=e.childrenAfterSort.filter(function(l){var h=!o[l.id],f=a||i&&i.canSkip(l);return h&&f}).map(this.mapNodeToSortedNode.bind(this)),u={};s.forEach(function(l){return u[l.rowNode.id]=l.rowNode});var p=e.childrenAfterFilter.filter(function(l){return!u[l.id]}).map(this.mapNodeToSortedNode.bind(this));return p.sort(this.rowNodeSorter.compareRowNodes.bind(this,r)),(0===p.length?s:0===s.length?p:this.mergeSortedArrays(r,s,p)).map(function(l){return l.rowNode})},t.prototype.mergeSortedArrays=function(e,r,o){for(var i=[],a=0,s=0;a<r.length&&s<o.length;){var u=this.rowNodeSorter.compareRowNodes(e,r[a],o[s]);i.push(u<0?r[a++]:o[s++])}for(;a<r.length;)i.push(r[a++]);for(;s<o.length;)i.push(o[s++]);return i},t.prototype.updateChildIndexes=function(e){if(!d._.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,o=0;o<r.length;o++){var i=r[o],s=o===e.childrenAfterSort.length-1;i.setFirstChild(0===o),i.setLastChild(s),i.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return d._.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var i=function(a){r.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(function(s){s.hasChildren()&&i(s)})};e&&e.executeFromRootNode(function(a){return i(a)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var o=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||d._.missing(e)||e.forEach(function(i){o.columnModel.getGroupDisplayColumns().forEach(function(s){var u=s.getColDef().showRowGroup;if("string"==typeof u){var c=o.columnModel.getPrimaryColumn(u);if(c!==i.rowGroupColumn)if(r)i.setGroupValue(s.getId(),void 0);else{var h=i.getFirstChildOfFirstChild(c);h&&i.setGroupValue(s.getId(),h.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},N([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),N([(0,d.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),N([d.NqP],t.prototype,"init",null),N([(0,d.Vu6)("sortService")],t)}(d.AS9),oe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},ie=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return oe(t,n),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var r=this.filterManager.isAnyFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var o=this,i=function(p,c){p.hasChildren()?(p.childrenAfterFilter=e&&!c?p.childrenAfterGroup.filter(function(l){var h=l.childrenAfterFilter&&l.childrenAfterFilter.length>0,f=l.data&&o.filterManager.doesRowPassFilter({rowNode:l});return h||f}):p.childrenAfterGroup,o.setAllChildrenCount(p)):(p.childrenAfterFilter=p.childrenAfterGroup,p.setAllChildrenCount(null)),p.sibling&&(p.sibling.childrenAfterFilter=p.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(p,c){if(p.childrenAfterGroup)for(var l=0;l<p.childrenAfterGroup.length;l++){var h=p.childrenAfterGroup[l],f=c||o.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(p.childrenAfterGroup[l],f):i(h,f)}i(p,c)};r.executeFromRootNode(function(p){return a(p,!1)})}else r.forEachChangedNodeDepthFirst(function(p){return i(p,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){r++,r+=o.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){o.group?r+=o.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},F([(0,d.fsG)("filterManager")],t.prototype,"filterManager",void 0),F([d.NqP],t.prototype,"postConstruct",null),F([(0,d.Vu6)("filterService")],t)}(d.AS9),ne=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),A=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},se=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ne(t,n),t.prototype.postConstruct=function(){this.rowModel.getType()===d.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var o=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var o,a,r=e.call(n),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return i}(r,2),s=this.clientSideRowModel.updateRowData(o[0],o[1]);s&&this.rowRenderer.refreshFullWidthRows(s.update)}},t.prototype.createTransactionForRowData=function(e){var r=this;if(d._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var i={remove:[],update:[],add:[]},a=this.clientSideRowModel.getCopyOfNodesMap(),u=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return d._.exists(e)&&e.forEach(function(p,c){var l=o({data:p,level:0,api:r.gridApi,columnApi:r.columnApi}),h=a[l];u&&(u[l]=c),h?(h.data!==p&&i.update.push(p),a[l]=void 0):i.add.push(p)}),d._.iterateObject(a,function(p,c){c&&i.remove.push(c.data)}),[i,u]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},A([(0,d.fsG)("rowModel")],t.prototype,"rowModel",void 0),A([(0,d.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),A([(0,d.fsG)("columnApi")],t.prototype,"columnApi",void 0),A([(0,d.fsG)("gridApi")],t.prototype,"gridApi",void 0),A([d.NqP],t.prototype,"postConstruct",null),A([(0,d.Vu6)("immutableService")],t)}(d.AS9),de={moduleName:d.GXE.ClientSideRowModelModule,beans:[Q,J,ee,re,ie,se],rowModels:{clientSide:q}},ue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},B=function(n){function t(e,r,o){var i=n.call(this,e)||this;return i.parentCache=r,i.params=o,i.startRow=e*o.blockSize,i.endRow=i.startRow+o.blockSize,i}return ue(t,n),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,o){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),d._.exists(r)?e.setDataAndId(r,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();d._.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,r,o){var i=this;this.rowNodes.forEach(function(a,s){i.startRow+s<o&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,o=new d.Fxk(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(r),o.setRowTop(this.params.rowHeight*r),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(i,a){r.setDataAndId(i,e.rowData?e.rowData[a]:void 0,r.startRow+a)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},L([(0,d.fsG)("beans")],t.prototype,"beans",void 0),L([d.NqP],t.prototype,"postConstruct",null),L([d.FXL],t.prototype,"destroyRowNodes",null),t}(d.NlK),pe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},le=function(n,t){return function(e,r){t(e,r,n)}},ce=function(n){function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return pe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var o=Math.floor(e/this.params.blockSize),i=this.blocks[o];if(!i){if(r)return;i=this.createBlock(o)}return i.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new B(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(p){return p!=e});o.sort(function(p,c){return c.getLastAccessed()-p.getLastAccessed()});var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,u=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(p,c){if(p.getState()===B.STATE_WAITING_TO_LOAD&&c>=u||a&&c>=s){if(r.isBlockCurrentlyDisplayed(p)||r.isBlockFocused(p))return;r.removeBlockFromCache(p)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getStartRow(),i=e.getEndRow();return r.rowIndex>=o&&r.rowIndex<i},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,d._.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,o=new d.at1;this.getBlocksInOrder().forEach(function(i){return i.forEachNode(e,o,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return d._.getAllValuesInObject(this.blocks).sort(function(o,i){return o.getId()-i.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:d.zW2.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.params.blockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var o=this,i=[],a=-1,s=!1,u=new d.at1;d._.missing(e)&&(s=!0);var p=!1;return this.getBlocksInOrder().forEach(function(l){if(!p){if(s&&a+1!==l.getId())return void(p=!0);a=l.getId(),l.forEachNode(function(h){var f=h===e||h===r;(s||f)&&i.push(h),f&&(s=!s)},u,o.rowCount)}}),p||s?[]:i},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,T([(0,d.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),T([(0,d.fsG)("focusService")],t.prototype,"focusService",void 0),T([le(0,(0,d.qaB)("loggerFactory"))],t.prototype,"setBeans",null),T([d.FXL],t.prototype,"destroyAllBlocks",null),t}(d.AS9),fe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},he=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fe(t,n),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,o,i){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&d._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,d.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,d.zW2.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!d._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return d.gTE.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var o=this.createModelUpdatedEvent();this.eventService.dispatchEvent(o)}},t.prototype.createModelUpdatedEvent=function(){return{type:d.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new d.at1},this.infiniteCache=this.createBean(new ce(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return r>o?o:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},R([(0,d.fsG)("filterManager")],t.prototype,"filterManager",void 0),R([(0,d.fsG)("sortController")],t.prototype,"sortController",void 0),R([(0,d.fsG)("selectionService")],t.prototype,"selectionService",void 0),R([(0,d.fsG)("gridApi")],t.prototype,"gridApi",void 0),R([(0,d.fsG)("columnApi")],t.prototype,"columnApi",void 0),R([(0,d.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),R([(0,d.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),R([d.NqP],t.prototype,"init",null),R([d.FXL],t.prototype,"destroyDatasource",null),R([(0,d.Vu6)("rowModel")],t)}(d.AS9),ve={moduleName:d.GXE.InfiniteRowModelModule,rowModels:{infinite:he}},ge=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n}(),ye=function(){function n(t){this.groupColumns=[];var r=t.valueService,o=t.gridOptionsWrapper,i=t.processCellCallback,a=t.processHeaderCallback,s=t.processGroupHeaderCallback,u=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=r,this.gridOptionsWrapper=o,this.processCellCallback=i,this.processHeaderCallback=a,this.processGroupHeaderCallback=s,this.processRowGroupCallback=u}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},n.prototype.extractRowCellValue=function(t,e,r,o,i){var u,a=this.gridOptionsWrapper.isGroupMultiAutoColumn()?i.rowGroupIndex:0;u=i&&i.group&&(e===a&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(i):this.valueService.getValue(t,i);var p=this.processCell(r,i,t,u,this.processCellCallback,o);return null!=p?p:""},n.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},n.prototype.processCell=function(t,e,r,o,i,a){return i?i({accumulatedRowIndex:t,column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:a}):null!=o?o:""},n}(),we=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(r){var o=document.createElement("a"),i=r.URL.createObjectURL(e);o.setAttribute("href",i),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout(function(){r.URL.revokeObjectURL(i)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},n}(),xe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Re=function(n){function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=i,r}return xe(t,n),t.prototype.addCustomContent=function(e){var r=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(o){r.beginNewLine(),o.forEach(function(i,a){0!==a&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(i.data.value||""),i.mergeAcross&&r.appendEmptyCells(i.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,d.gTE.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(ye),Ce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},_e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ce(t,n),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),i=new Blob(["\ufeff",o],{type:"text/plain"});return we.download(this.getFileName(r.fileName),i),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new Re({columnModel:r.columnModel,valueService:r.valueService,gridOptionsWrapper:r.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},b([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),b([(0,d.fsG)("valueService")],t.prototype,"valueService",void 0),b([(0,d.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),b([(0,d.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),b([d.NqP],t.prototype,"postConstruct",null),b([(0,d.Vu6)("csvCreator")],t)}(ge),Ae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(n,t,e,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(i=(o<3?a(i):o>3?a(t,e,i):a(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},be=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ae(t,n),t.prototype.serialize=function(e,r){void 0===r&&(r={});var o=this.getColumnsToExport(r.allColumns,r.columnKeys);return d._.compose(this.prepareSession(o),this.prependContent(r),this.exportColumnGroups(r,o),this.exportHeaders(r,o),this.processPinnedTopRows(r,o),this.processRows(r,o),this.processPinnedBottomRows(r,o),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,o,i){var a=this,s=r.shouldRowBeSkipped||function(){return!1},u=this.gridOptionsWrapper,p=u.getContext(),c=u.getApi(),l=u.getColumnApi(),h=u.isGroupRemoveSingleChildren(),f=u.isGroupHideOpenParents(),g=u.isGroupRemoveLowestSingleChildren(),w=this.columnModel.isPivotMode()?i.leafGroup:!i.group,S=1===i.allChildrenCount&&(h||g&&i.leafGroup);(r.skipGroups||r.skipRowGroups)&&r.skipGroups&&d._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var m={rowIndex:i.rowIndex,rowPinned:i.rowPinned};if(!(!w&&(r.skipRowGroups||S||f)||r.onlySelected&&!i.isSelected()||r.rowNodes&&!r.rowNodes.some(function(H){return a.rowPositionUtils.sameRow(H,m)})||r.skipPinnedTop&&"top"===i.rowPinned||r.skipPinnedBottom&&"bottom"===i.rowPinned)&&(-1!==i.level||i.leafGroup)&&!s({node:i,api:c,context:p})){var Ge=e.onNewBodyRow();if(o.forEach(function(H,Ne){Ge.onColumn(H,Ne,i)}),r.getCustomContentBelowRow){var V=r.getCustomContentBelowRow({node:i,api:c,columnApi:l,context:p});V&&e.addCustomContent(V)}}},t.prototype.appendContent=function(e){return function(r){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&d._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(o)),r}},t.prototype.prependContent=function(e){return function(r){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&d._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(o)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var o=this;return function(i){if(e.skipColumnGroupHeaders)e.columnGroups&&d._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var a=new d.fkf,s=o.displayedGroupCreator.createDisplayedGroups(r,o.columnModel.getGridBalancedTree(),a,null);o.recursivelyAddHeaderGroups(s,i,e.processGroupHeaderCallback)}return i}},t.prototype.exportHeaders=function(e,r){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&d._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var i=o.onNewHeaderRow();r.forEach(function(a,s){i.onColumn(a,s,void 0)})}return o}},t.prototype.processPinnedTopRows=function(e,r){var o=this;return function(i){var a=o.processRow.bind(o,i,e,r);return o.pinnedRowModel.forEachPinnedTopRow(a),i}},t.prototype.processRows=function(e,r){var o=this;return function(i){var a=o.rowModel,s=a.getType(),u=s===d.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,p=s===d.gTE.ROW_MODEL_TYPE_SERVER_SIDE,c=!u&&e.onlySelected,l=o.processRow.bind(o,i,e,r);return o.columnModel.isPivotMode()?u?a.forEachPivotNode(l):a.forEachNode(l):e.onlySelectedAllPages||c?o.selectionService.getSelectedNodes().forEach(l):u||p?a.forEachNodeAfterFilterAndSort(l):a.forEachNode(l),i}},t.prototype.processPinnedBottomRows=function(e,r){var o=this;return function(i){var a=o.processRow.bind(o,i,e,r);return o.pinnedRowModel.forEachPinnedBottomRow(a),i}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();return r&&r.length?this.columnModel.getGridColumns(r):e&&!o?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([d.gTE.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,o){var i=[];e.forEach(function(a){!a.getChildren||a.getChildren().forEach(function(u){return i.push(u)})}),e.length>0&&e[0]instanceof d.Exx&&this.doAddHeaderHeader(r,e,o),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,r,o)},t.prototype.doAddHeaderHeader=function(e,r,o){var i=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(u){var c,p=u;c=o?o({columnGroup:p,api:i.gridOptionsWrapper.getApi(),columnApi:i.gridOptionsWrapper.getColumnApi(),context:i.gridOptionsWrapper.getContext()}):i.columnModel.getDisplayNameForColumnGroup(p,"header");var l=p.getLeafColumns().reduce(function(h,f,g,w){var v=d._.last(h);return"open"===f.getColumnGroupShow()?(!v||null!=v[1])&&h.push(v=[g]):v&&null==v[1]&&(v[1]=g-1),g===w.length-1&&v&&null==v[1]&&(v[1]=g),h},[]);a.onColumn(c||"",s++,p.getLeafColumns().length-1,l)})},_([(0,d.fsG)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),_([(0,d.fsG)("columnModel")],t.prototype,"columnModel",void 0),_([(0,d.fsG)("rowModel")],t.prototype,"rowModel",void 0),_([(0,d.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),_([(0,d.fsG)("selectionService")],t.prototype,"selectionService",void 0),_([(0,d.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),_([(0,d.Vu6)("gridSerializer")],t)}(d.AS9),Se={moduleName:d.GXE.CsvExportModule,beans:[_e,be]},M="\r\n",Oe=(function(){function n(){}n.createHeader=function(t){void 0===t&&(t={});var o=["version"];return t.version||(t.version="1.0"),t.encoding&&o.push("encoding"),t.standalone&&o.push("standalone"),"<?xml "+o.map(function(a){return a+'="'+t[a]+'"'}).join(" ")+" ?>"},n.createXml=function(t,e){var r=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){o+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){o+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var i="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?i+">"+t.textNode+"</"+t.name+">"+M:(i+=">\r\n",t.children&&t.children.forEach(function(a){i+=r.createXml(a,e)}),i+"</"+t.name+">"+M):i+"/>"+M},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&r&&(o=r(e))," "+t+'="'+o+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])),Ee=(function(){function n(){}n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},n.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},n.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.buildFileStream=function(t){var e,r;void 0===t&&(t="");var o=this.folders.concat(this.files),i=o.length,a="",s=0,u=0;try{for(var p=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=p.next();!c.done;c=p.next()){var h=this.getHeader(c.value,s),f=h.fileHeader,g=h.folderHeader,w=h.content;s+=f.length+w.length,u+=g.length,t+=f+w,a+=g}}catch(C){e={error:C}}finally{try{c&&!c.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return t+a+this.buildFolderEnd(i,u,s)},n.getHeader=function(t,e){var r=t.content,o=t.path,i=t.created,a=t.isBase64,u=d._.decToHex,p=(0,d._.utf8_encode)(o),c=p!==o,l=this.convertTime(i),h=this.convertDate(i),f="";if(c){var g=u(1,1)+u(this.getFromCrc32Table(p),4)+p;f="up"+u(g.length,2)+g}var w=r?this.getConvertedContent(r,a):{size:0,content:""},v=w.size,C=w.content,S="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+u(l,2)+u(h,2)+u(v?this.getFromCrc32Table(C):0,4)+u(v,4)+u(v,4)+u(p.length,2)+u(f.length,2);return{fileHeader:"PK\x03\x04"+S+p+f,folderHeader:"PK\x01\x02\x14\0"+S+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+u(e,4)+p+f,content:C||""}},n.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},n.buildFolderEnd=function(t,e,r){var o=d._.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(r,4)+"\0\0"},n.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},n.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),o=0;o<e;o++)r[o]=t.charCodeAt(o);var i=-1;for(o=0;o<e;o++)i=i>>>8^Oe[255&(i^r[o])];return-1^i},n.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},n.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},n.folders=[],n.files=[]}(),[de,ve,Se])}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.06.00/ng-edit/default-projects_ng-dialogs_src_app_shared_constants_default-grid-options_constants_ts-node_m-956a3f.bf5c630c781c92c4.js.map
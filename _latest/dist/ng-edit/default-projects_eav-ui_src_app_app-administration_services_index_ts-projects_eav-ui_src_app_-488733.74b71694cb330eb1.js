"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733","projects_eav-ui_src_app_shared_components_base-with-child-dialog_component_ts-projects_eav-ui-105347"],{2743:(I,E,t)=>{t.d(E,{b:()=>u});var n=t(271),p=t(6301),a=t(8764),g=t(8873),_=t(4858),e=t(4979),r=t(3472),l=t(9431),s=t(8559),o=t(6443);let u=(()=>{class D extends e.V{constructor(d,c,O,P){super(new r.B("AppDialogConfigService",!1)),this.http=d,this.context=c,this.globalConfigService=O,this.dialogSettings$={},this.log.a(`using context #${this.context.log.svcId}`),P.loadFromService(this)}ngOnDestroy(){super.destroy()}getCurrent$(){const d=this.context.appId;return this.log.a(`getCurrent$ - appId:${d}`),this.getShared$(d)}getSitePrimaryApp$(){return this.getCurrent$().pipe((0,n.T)(d=>d?.Context.Site.PrimaryApp))}getGlobalPrimaryApp$(){return this.getCurrent$().pipe((0,n.T)(d=>d?.Context.System.PrimaryApp))}getShared$(d){return this.log.a("getShared$ appId: "+d),this.dialogSettings$[d]??=this.getDialogSettings(d,"getShared$").pipe((0,p.t)({refCount:!1})),this.dialogSettings$[d]}getDialogSettings(d,c){return this.log.a("getDialogSettings",{appId:d,reqBy:c}),this.http.get("admin/dialog/settings",{params:{appId:d??this.context.appId.toString()}}).pipe((0,n.T)(O=>(O.Context.Language.List=O.Context.Language.List.filter(P=>P.IsEnabled),O)),(0,a.M)(O=>{this.globalConfigService.allowDebug(O.Context.Enable.DebugMode)}))}static#t=this.\u0275fac=function(c){return new(c||D)(s.KVO(o.Qq),s.KVO(g.o),s.KVO(l.B),s.KVO(_.D))};static#s=this.\u0275prov=s.jDH({token:D,factory:D.\u0275fac})}return D})()},7693:(I,E,t)=>{t.d(E,{X:()=>e,g:()=>D});var n=t(271),p=t(8873),a=t(8559),g=t(6443),_=t(4821);const e="admin/type/",s="admin/type/scopes";let D=(()=>{class M{constructor(c,O,P){this.http=c,this.context=O,this.dnnContext=P}apiUrl(c){return this.dnnContext.$2sxc.http.apiUrl(c)}retrieveContentType(c){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:c}})}retrieveContentTypes(c){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:c}})}getScopes(){return this.http.get(this.apiUrl(s),{params:{appId:this.context.appId.toString()}}).pipe((0,n.T)(c=>{const O=c.old;return Object.keys(O).map(m=>({name:O[m],value:m}))}))}getScopesV2(){return this.http.get(this.apiUrl(s),{params:{appId:this.context.appId.toString()}}).pipe((0,n.T)(c=>c.scopes))}save(c){return this.http.post(this.apiUrl("admin/type/save"),c,{params:{appid:this.context.appId.toString()}})}delete(c){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:c.StaticName}})}import(c){const O=new FormData;for(const P of c)O.append("File",P);return this.http.post(this.apiUrl("admin/type/import"),O,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(c){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:c}})}static#t=this.\u0275fac=function(O){return new(O||M)(a.KVO(g.Qq),a.KVO(p.o),a.KVO(_.ob))};static#s=this.\u0275prov=a.jDH({token:M,factory:M.\u0275fac})}return M})()},1475:(I,E,t)=>{t.d(E,{j:()=>e});var n=t(8873),p=t(8624),a=t(8559),g=t(6443),_=t(4821);let e=(()=>{class r{constructor(s,o,h){this.http=s,this.context=o,this.dnnContext=h}getContentInfo(s){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(p.Q+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:s}})}exportParts(s,o,h){const i=this.dnnContext.$2sxc.http.apiUrl(p.Q+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+s.join(";")+"&entityIdsString="+o.join(";")+"&templateIdsString="+h.join(";");window.open(i,"_blank","")}static#t=this.\u0275fac=function(o){return new(o||r)(a.KVO(g.Qq),a.KVO(n.o),a.KVO(_.ob))};static#s=this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac})}return r})()},320:(I,E,t)=>{t.d(E,{t:()=>e});var n=t(1772),p=t(8873),a=t(8559),g=t(6443),_=t(4821);let e=(()=>{class r{constructor(s,o,h){this.http=s,this.context=o,this.dnnContext=h}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.u+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportAppUrl(){return`${this.dnnContext.$2sxc.http.apiUrl(`${n.u}Export`)}?appId=${this.context.appId}&zoneId=${this.context.zoneId}`}exportForVersionControl({includeContentGroups:s,resetAppGuid:o,withFiles:h}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.u+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:s.toString(),resetAppGuid:o.toString(),withPortalFiles:h.toString()}})}static#t=this.\u0275fac=function(o){return new(o||r)(a.KVO(g.Qq),a.KVO(p.o),a.KVO(_.ob))};static#s=this.\u0275prov=a.jDH({token:r,factory:r.\u0275fac})}return r})()},8624:(I,E,t)=>{t.d(E,{Q:()=>e,S:()=>r});var n=t(1772),p=t(8873),a=t(8559),g=t(6443),_=t(4821);const e="admin/appParts/";let r=(()=>{class l{constructor(o,h,i){this.http=o,this.context=h,this.dnnContext=i}importAppParts(o){const h=new FormData;return h.append("File",o),this.http.post(this.dnnContext.$2sxc.http.apiUrl(e+"Import"),h,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(o){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(n.u+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:o.toString()}})}static#t=this.\u0275fac=function(h){return new(h||l)(a.KVO(g.Qq),a.KVO(p.o),a.KVO(_.ob))};static#s=this.\u0275prov=a.jDH({token:l,factory:l.\u0275fac})}return l})()},5445:(I,E,t)=>{t.d(E,{Cu:()=>e.Cu,JL:()=>e.JL,Mk:()=>e.Mk,bd:()=>n.b,ei:()=>e.ei,gs:()=>p.g,vN:()=>e.vN,xR:()=>e.xR,y0:()=>r.y});var n=t(2743),p=t(7693),e=(t(1475),t(320),t(8624),t(4079)),r=t(2570)},4079:(I,E,t)=>{t.d(E,{Cu:()=>M,JL:()=>d,Mk:()=>u,ei:()=>D,vN:()=>c,xR:()=>O});var n=t(9835),p=t(6647),a=t(271),g=t(693),_=t(8873),e=t(9234),r=t(8559),l=t(6443),s=t(4821);const u="admin/query/Run",D="admin/query/DebugStream",M="admin/query/Save",d="admin/query/Get",c="admin/query/DataSources";let O=(()=>{class P{constructor(v,x,C){this.http=v,this.context=x,this.dnnContext=C}getAll(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e.Gg),{params:{appId:this.context.appId.toString(),contentType:v}})}importQuery(v){return(0,n.H)((0,g.n)(v)).pipe((0,p.n)(x=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:x})),(0,a.T)(x=>({Success:x,Messages:[]})))}clonePipeline(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:v.toString(),appId:this.context.appId.toString()}})}delete(v){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:v.toString()}})}static#t=this.\u0275fac=function(x){return new(x||P)(r.KVO(l.Qq),r.KVO(_.o),r.KVO(s.ob))};static#s=this.\u0275prov=r.jDH({token:P,factory:P.\u0275fac})}return P})()},2570:(I,E,t)=>{t.d(E,{y:()=>h});var n=t(8873),p=t(8559),a=t(6443),g=t(4821);const _="admin/view/",e=_+"all",r=_+"delete",l=_+"import",s=_+"polymorphism",o=_+"usage";let h=(()=>{class i{constructor(D,M,d){this.http=D,this.context=M,this.dnnContext=d}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e),{params:{appId:this.context.appId.toString()}})}delete(D){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r),{params:{appId:this.context.appId.toString(),Id:D.toString()}})}import(D){const M=new FormData;return M.append("File",D),this.http.post(this.dnnContext.$2sxc.http.apiUrl(l),M,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(D){const M=this.dnnContext.$2sxc.http.apiUrl(_+"json")+"?appId="+this.context.appId+"&viewId="+D;window.open(M,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(s),{params:{appId:this.context.appId.toString()}})}getUsage(D){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o),{params:{appId:this.context.appId.toString(),guid:D}})}static#t=this.\u0275fac=function(M){return new(M||i)(p.KVO(a.Qq),p.KVO(n.o),p.KVO(g.ob))};static#s=this.\u0275prov=p.jDH({token:i,factory:i.\u0275fac})}return i})()},1772:(I,E,t)=>{t.d(E,{I:()=>s,u:()=>l});var n=t(6647),p=t(9452),a=t(3550),g=t(8873),_=t(8559),e=t(6443),r=t(4821);const l="admin/app/";let s=(()=>{class o{constructor(i,u,D){this.http=i,this.context=u,this.dnnContext=D}importApp(i,u,D=!1){const M=new FormData;return M.append("File",i),M.append("Name",u??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(l+"Import"),M,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,n.n)(d=>{if(D&&d.Messages[0]?.MessageType===a.G1.Warning){const c=prompt(d.Messages[0].Text+" Would you like to install it using another folder name?");if(c)return this.importApp(i,c,!0)}return(0,p.of)(d)}))}static#t=this.\u0275fac=function(u){return new(u||o)(_.KVO(e.Qq),_.KVO(g.o),_.KVO(r.ob))};static#s=this.\u0275prov=_.jDH({token:o,factory:o.\u0275fac})}return o})()},1735:(I,E,t)=>{t.d(E,{V:()=>s});var n=t(9184),p=t(1567),a=t(3037),g=t(271),_=t(5057),e=t(3176),r=t(3472);class s extends e.${constructor(h,i,u){super(),this.router=h,this.route=i,this.log=u,this.log??=new r.B("BaseComponent",!1)}childDialogClosed$(){return this.router.events.pipe((0,p.p)(h=>h instanceof n.wF),(0,a.Z)(!!this.route.snapshot.firstChild),(0,g.T)(()=>!!this.route.snapshot.firstChild),(0,_.J)(),(0,p.p)(([h,i])=>h&&!i))}}},693:(I,E,t)=>{function n(a){return new Promise((g,_)=>{const e=new FileReader;e.readAsDataURL(a),e.onload=()=>{g(e.result.split(",")[1])},e.onerror=r=>{_(r)}})}function p(a){return new Promise((g,_)=>{const e=new FileReader;e.readAsText(a),e.onload=()=>{g(e.result)},e.onerror=r=>{_(r)}})}t.d(E,{d:()=>p,n:()=>n})},1576:(I,E,t)=>{t.d(E,{W:()=>p});var n=t(3826);class p{static#t=this.boolEquals={equal:n.a.valueEquals};static#s=this.numberEquals={equal:n.a.valueEquals};static#e=this.stringEquals={equal:n.a.valueEquals};static#n=this.objectEquals={equal:n.a.objectsEqual}}},9234:(I,E,t)=>{t.d(E,{Gg:()=>D,Tr:()=>M,gb:()=>u});var n=t(1567),p=t(6647),a=t(6301),g=t(271),_=t(4979),e=t(3472),r=t(4839),l=t(1736),s=t(8559),o=t(6443),h=t(4821);const u="admin/entity/",D="admin/entity/list";let M=(()=>{class d extends _.V{constructor(O,P,m,v){super(new e.B("EntityService",!1)),this.http=O,this.formConfig=P,this.dnnContext=m,this.queryService=v}getEntities$(O){return O.pipe((0,n.p)(P=>null!=P),(0,p.n)(P=>this.getAvailableEntities(P.contentTypeName).pipe((0,a.t)(1))))}getAvailableEntities(O,P){var m=this.log.rxTap("getEntities",{enabled:!0});return this.queryService.getEntities({contentTypes:[O],itemIds:P,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe(m.pipe(),(0,g.T)(v=>v.Default))}delete(O,P,m,v,x){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(u+"delete"),{params:{contentType:O,id:P.toString(),appId:this.formConfig.config.appId,force:m.toString(),...v&&{parentId:v.toString()},...v&&x&&{parentField:x}}})}static#t=this.\u0275fac=function(P){return new(P||d)(s.KVO(o.Qq),s.KVO(l.S),s.KVO(h.ob),s.KVO(r.c))};static#s=this.\u0275prov=s.jDH({token:d,factory:d.\u0275fac})}return d})()},4858:(I,E,t)=>{t.d(E,{D:()=>s});var n=t(8559),p=t(6042),a=t(271),g=t(4979),_=t(3472),e=t(1576),r=t(3826);let s=(()=>{class o extends g.V{constructor(){super(new _.B("FeaturesService",!1)),this.dialogContext$=new p.m(1),this.dialogContextSignal=(0,n.vPA)(null)}loadFromService(i){i.getCurrent$().subscribe(u=>this.load(u.Context))}load(i){this.dialogContext$.next(i),this.dialogContextSignal.set(i)}getAll(){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features??[],{equal:r.a.arraysEqual})}get$(i){return this.dialogContext$.pipe((0,a.T)(u=>u?.Features.find(D=>D.nameId===i)))}getSignal(i){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features.find(u=>u.nameId===i),{equal:r.a.objectsEqual})}isEnabled$(i){return this.get$(i).pipe((0,a.T)(u=>u?.isEnabled??!1))}isEnabled(i){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features.find(u=>u.nameId===i)?.isEnabled??!1,e.W.boolEquals)}static#t=this.\u0275fac=function(u){return new(u||o)};static#s=this.\u0275prov=n.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},9431:(I,E,t)=>{t.d(E,{B:()=>_});var n=t(8559),p=t(9074),a=t(8172),g=t(3347);let _=(()=>{class e{constructor(l){this.snackBar=l,this.debugState=(0,n.vPA)(null),this.isDebug=(0,n.EWP)(()=>!!this.debugState()?.allowDebugMode&&!!this.debugState()?.debugEnabled),this.debugEnabled$=(0,p.br)(this.isDebug);const s={id:0,debugEnabled:"true"===sessionStorage.getItem(a.tn),allowDebugMode:!1};this.debugState.set(s)}allowDebug(l){const s=this.debugState();if(s.allowDebugMode===l)return;const o={...s,allowDebugMode:l};this.debugState.set(o)}toggleDebugEnabled(){const l=this.debugState();if(!l.allowDebugMode)return void this.snackBar.open("You do not have permissions to enter developer mode",null,{duration:3e3});const s={...l,debugEnabled:!l.debugEnabled};this.debugState.set(s),this.snackBar.open(s.debugEnabled?"developer mode on":"developer mode off",null,{duration:3e3})}static#t=this.\u0275fac=function(s){return new(s||e)(n.KVO(g.UG))};static#s=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733.74b71694cb330eb1.js.map
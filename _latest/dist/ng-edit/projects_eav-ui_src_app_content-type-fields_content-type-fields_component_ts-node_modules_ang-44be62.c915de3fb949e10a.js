"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62"],{4202:(j,F,s)=>{s.d(F,{u:()=>D});const D={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomGps:"custom-gps",CustomJsonEditor:"custom-json-editor",DateTimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg",EntityPicker:"entity-picker",StringPicker:"string-picker",NumberPicker:"number-picker",Unknown:"unknown"}},9006:(j,F,s)=>{s.d(F,{j:()=>x,x:()=>E});var D=s(37580),l=s(44444),_=s(99293),f=s(81863),C=s(67993),y=s(96133),h=s(9001);let E=(()=>{class S{#t;#e;#n;#i;constructor(){this.featureNameId=D.hFB.required(),this.showIf=(0,D.hFB)(!1),this.#t=(0,l.WQX)(f.h),this.#e=(0,l.WQX)(_.c1b),this.#n=(0,l.WQX)(D.gRc),this.#i=(0,l.WQX)(h.D),this.feature=(0,C.bo)("feature",()=>this.#i.getCurrent(this.featureNameId())),this.show=(0,C.bo)("show",()=>{const g=this.feature();return null!=g&&this.showIf()==(g?.isEnabled??!1)})}openDialog(){x(this.#t,this.featureNameId(),this.#e,this.#n)}static#s=this.\u0275fac=function(w){return new(w||S)};static#o=this.\u0275dir=_.FsC({type:S,inputs:{featureNameId:[1,"featureNameId"],showIf:[1,"showIf"]}})}return S})();function x(S,d,g,w){S.open(y.FeatureInfoDialogComponent,{autoFocus:!1,data:d,viewContainerRef:g,width:"400px"}),w?.markForCheck()}},25081:(j,F,s)=>{s.d(F,{W:()=>f});var D=s(70519),l=s(44444),_=s(3347);let f=(()=>{class C{constructor(h){this.snackBar=h}copyToClipboard(h){(0,D.l)(h),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(E){return new(E||C)(l.KVO(_.UG))};static#e=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},27295:(j,F,s)=>{s.d(F,{E:()=>_});var D=s(44444);let _=(()=>{class f{isErrorState(y,h){return!!(y&&y.invalid&&(y.touched||h&&h.submitted))}static \u0275fac=function(h){return new(h||f)};static \u0275prov=D.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},28136:(j,F,s)=>{s.d(F,{T:()=>D});const D={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",ContentTypeFieldsReuseDefinitions:"ContentTypeFieldsReuseDefinitions",AppExportAssetsAdvanced:"AppExportAssetsAdvanced",DataExportImportBundles:"DataExportImportBundles",PickerUiCheckbox:"PickerUiCheckbox",PickerUiRadio:"PickerUiRadio",PickerSourceCsv:"PickerSourceCsv",PickerSourceAppAssets:"PickerSourceAppAssets",PickerFormulas:"PickerFormulas",PickerUiMoreInfo:"PickerUiMoreInfo"}},31016:(j,F,s)=>{s.d(F,{M:()=>y});var D=s(39539),l=s(99293),_=s(44444),f=s(87698),C=s(8126);let y=(()=>{class h{static \u0275fac=function(S){return new(S||h)};static \u0275mod=l.$C({type:h});static \u0275inj=_.G2t({imports:[C.M,D.w5,f.j,C.M]})}return h})()},43758:(j,F,s)=>{s.d(F,{F:()=>m});var D=s(87945),l=s(37580),_=s(31016),f=s(99293),C=s(44444),y=s(87698);const h=["*"],E=u=>({"hint-box__short":u});function x(u,R){1&u&&f.eu8(0)}function S(u,R){if(1&u&&(f.j41(0,"mat-hint"),f.DNE(1,x,1,0,"ng-container",2),f.k0s()),2&u){f.XpG();const T=f.sdS(4);f.R7$(),f.Y8G("ngTemplateOutlet",T)}}function d(u,R){1&u&&f.eu8(0)}function g(u,R){if(1&u&&(f.j41(0,"mat-error"),f.DNE(1,d,1,0,"ng-container",2),f.k0s()),2&u){f.XpG();const T=f.sdS(4);f.R7$(),f.Y8G("ngTemplateOutlet",T)}}function w(u,R){1&u&&f.SdG(0)}let m=(()=>{class u{constructor(){this.isError=(0,l.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static#t=this.\u0275fac=function(k){return new(k||u)};static#e=this.\u0275cmp=f.VBU({type:u,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},ngContentSelectors:h,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(k,P){if(1&k){const b=f.RV6();f.NAR(),f.j41(0,"div",1),f.bIt("click",function(){return C.eBV(b),C.Njj(P.toggleIsShort())}),f.nVh(1,S,2,1,"mat-hint")(2,g,2,1,"mat-error"),f.k0s(),f.DNE(3,w,1,0,"ng-template",null,0,f.C5r)}if(2&k){let b;f.Y8G("ngClass",f.eq3(2,E,P.isShort)),f.R7$(),f.vxM(!1===(b=P.isError())?1:!0===b?2:-1)}},dependencies:[_.M,y.c,y.b,D.YU,D.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return u})()},45943:(j,F,s)=>{s.d(F,{N:()=>C});var D=s(44444),l=s(24467),_=s(99293);const f="admin/feature/details";let C=(()=>{class y extends l.B{getFeatureDetail(E){return this.newHttpResource(()=>({url:this.apiUrl(f),params:{nameId:E()}}))}getFeatureDetails(E){const x=(0,D.vPA)([]);for(const S of E)this.fetchPromise(f,{params:{nameId:S}}).then(d=>{x.update(g=>[...g,d])});return x}static#t=this.\u0275fac=(()=>{let E;return function(S){return(E||(E=_.xGo(y)))(S||y)}})();static#e=this.\u0275prov=D.jDH({token:y,factory:y.\u0275fac})}return y})()},51191:(j,F,s)=>{s.d(F,{O:()=>T});var D=s(37580),l=s(84175),_=s(53777),f=s(81863),C=s(93840),y=s(90852),h=s(12938),E=s(69914),x=s(25081),S=s(67993),d=s(99293),g=s(44444);function w(k,P){if(1&k&&(d.j41(0,"div",1)(1,"div",2),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"div",3)(5,"span"),d.EFF(6),d.nI1(7,"translate"),d.k0s()()()),2&k){const b=d.XpG(2);d.R7$(2),d.SpI("",d.bMT(3,2,"Features.Status"),":"),d.R7$(4),d.JRh(d.bMT(7,4,b.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function m(k,P){if(1&k){const b=d.RV6();d.j41(0,"div",1)(1,"div",2),d.EFF(2,"GUID:"),d.k0s(),d.j41(3,"div",8)(4,"span",4),d.bIt("click",function(){g.eBV(b);const B=d.XpG(2);return g.Njj(B.clipboard.copyToClipboard(B.feature().guid))}),d.EFF(5),d.k0s()()()}if(2&k){const b=d.XpG(2);d.R7$(5),d.JRh(b.feature().guid)}}function u(k,P){if(1&k){const b=d.RV6();d.j41(0,"button",9),d.bIt("click",function(){g.eBV(b);const B=d.XpG(2);return g.Njj(B.dialog.close())}),d.EFF(1,"Close"),d.k0s()}}function R(k,P){if(1&k){const b=d.RV6();d.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),d.EFF(3),d.k0s()(),d.j41(4,"mat-card-content"),d.nrm(5,"p",0),d.nI1(6,"safeHtml"),d.j41(7,"div",1)(8,"div",2),d.EFF(9,"ID:"),d.k0s(),d.j41(10,"div",3)(11,"span",4),d.bIt("click",function(){g.eBV(b);const B=d.XpG();return g.Njj(B.clipboard.copyToClipboard(B.feature().nameId))}),d.EFF(12),d.k0s()()(),d.nVh(13,w,8,6,"div",1),d.nVh(14,m,6,1,"div",1),d.j41(15,"div",1)(16,"div",2),d.EFF(17,"Security Rating:"),d.k0s(),d.j41(18,"div",3)(19,"span"),d.EFF(20),d.k0s()()()(),d.j41(21,"mat-card-actions",5)(22,"a",6)(23,"mat-icon"),d.EFF(24,"open_in_new"),d.k0s(),d.EFF(25," Find out more "),d.k0s(),d.nVh(26,u,2,0,"button",7),d.k0s()()}if(2&k){const b=d.XpG();d.R7$(3),d.JRh(b.feature().name),d.R7$(2),d.Y8G("innerHtml",d.bMT(6,8,b.feature().description),d.npT),d.R7$(7),d.JRh(b.feature().nameId),d.R7$(),d.vxM(b.mySpecs().showStatus?13:-1),d.R7$(),d.vxM(b.mySpecs().showGuid?14:-1),d.R7$(6),d.JRh(b.feature().security.Impact+": "+b.feature().security.Message),d.R7$(2),d.Y8G("href",b.feature().link,d.B4B),d.R7$(4),d.vxM(0!=b.mySpecs().showClose?26:-1)}}let T=(()=>{class k{constructor(b,A){this.dialogSpecs=b,this.dialog=A,this.specs=(0,D.hFB)(),this.mySpecs=(0,S.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,S.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,h.d)(x.W)}static#t=this.\u0275fac=function(A){return new(A||k)(d.rXU(f.e,8),d.rXU(f.k))};static#e=this.\u0275cmp=d.VBU({type:k,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},decls:1,vars:1,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","",1,"eav-card-action-button",3,"href"],["mat-raised-button","",1,"eav-card-action-button"],[1,"eav-info-row__value","eav_click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"]],template:function(A,B){1&A&&d.nVh(0,R,27,10,"mat-card"),2&A&&d.vxM(B.feature()?0:-1)},dependencies:[_.Hu,_.RN,_.YY,_.m2,_.MM,_.dh,l.Hl,l.$z,C.m_,C.An,E.$,y.h,y.D9],encapsulation:2})}return k})()},60850:(j,F,s)=>{s.d(F,{_:()=>D});class D{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(_,f,C,y,h){this._defaultMatcher=_,this.ngControl=f,this._parentFormGroup=C,this._parentForm=y,this._stateChanges=h}updateErrorState(){const _=this.errorState,f=this._parentFormGroup||this._parentForm,C=this.matcher||this._defaultMatcher,y=this.ngControl?this.ngControl.control:null,h=C?.isErrorState(y,f)??!1;h!==_&&(this.errorState=h,this._stateChanges.next())}}},60852:(j,F,s)=>{s.d(F,{c:()=>d});var D=s(29658),l=s(51567),_=s(63037),f=s(70271),C=s(5057),y=s(98764),h=s(34435),E=s(4979),x=s(44444);const S={doOnDialogClosed:!0};let d=(()=>{class g extends E.V{constructor(m,u){super(),this.router=m,this.route=u,this.log=(0,h.Tq)({DialogRoutingService:g},S)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(m){return this.route.snapshot.paramMap.get(m)}getParams(m){const u=this.route.snapshot.paramMap;return m.reduce((R,T)=>(R[T]=u.get(T),R),{})}getQueryParam(m){return this.route.snapshot.queryParamMap.get(m)}getQueryParams(m){const u=this.route.snapshot.queryParamMap;return m.reduce((R,T)=>(R[T]=u.get(T),R),{})}state(){return this.router.getCurrentNavigation().extras?.state}doOnDialogClosed(m){const u=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(R=>(u.a("Dialog closed",{data:R}),m()))),u.end()}doOnDialogClosedWithData(m){const u=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.#t().subscribe(({state:R})=>{u.a("Dialog closed",{state:R}),m(R)})),u.end()}urlSubRoute(m){const u=this.router.createUrlTree([m],{relativeTo:this.route});return this.router.serializeUrl(u)}navPath(m,u){return this.router.navigate([m],u)}navRelative(m,u){return this.router.navigate(m,{...u,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,l.p)(m=>m instanceof D.wF),(0,_.Z)(!!this.route.snapshot.firstChild),(0,f.T)(()=>!!this.route.snapshot.firstChild),(0,C.J)(),(0,l.p)(([m,u])=>m&&!u))}#t(){return this.router.events.pipe((0,l.p)(m=>m instanceof D.wF),(0,y.M)(m=>{const u=this.log.fn("childDialogClosed$",{event:m,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.getCurrentNavigation()?.extras.state});u.a("NavigationEnd",{event:m}),u.end()}),(0,_.Z)(!!this.route.snapshot.firstChild),(0,f.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.getCurrentNavigation()?.extras.state})),(0,C.J)(),(0,l.p)(([m,u])=>m.hasChildNow&&!u.hasChildNow),(0,f.T)(([m,u])=>({hadChildBefore:m.hasChildNow,hasChildNow:u.hasChildNow,state:u.state})))}static#e=this.\u0275fac=function(u){return new(u||g)(x.KVO(D.Ix),x.KVO(D.nX))};static#n=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac})}return g})()},68163:(j,F,s)=>{s.d(F,{v:()=>x});var D=s(29841),l=s(37580),_=s(99293),f=s(64173),C=s(81863);const y=["gridWrapper"],h=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],E=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let x=(()=>{class S{constructor(){this.gridWrapper=(0,l.ebz)("gridWrapper",{read:_.aKT}),this.agGrid=(0,l.sbv)(D.xs,{read:_.aKT}),this.dialogAction=(0,l.sbv)(C.M,{read:_.aKT}),this.helpText=l.hFB.required({}),this.refresh=l.hFB.required(),this.rowLength=l.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,f.QZ)(()=>{this.refresh();const w=this.rowLength(),m=this.gridWrapper()?.nativeElement;m&&(0,f.O8)(()=>this.#t(m,w))})}#t(g,w){const m=this.agGrid()?.nativeElement,u=this.dialogAction()?.nativeElement,R=g.querySelector(".help-info-card");if(R.classList.toggle("center-center",0===w),!m||!u)return;R.style.flex="";const T=this.#e(g,m,u,R,w);m.style.flex=T.rowHeight?`0 0 ${T.agGridHeight}px`:"0px";const k=document.querySelector(".mat-sidenav-content").clientHeight-T.dialogHeaderHeight-T.dialogActionHeight;m.style.maxHeight=`${k}px`;const P=T.helpCardHeight+T.agGridHeight+T.dialogActionHeight+T.dialogHeaderHeight>T.wrapperHeight;R.style.flex="1 1 auto",R?.classList.toggle("hidden-help-info-card",P)}#e(g,w,m,u,R){const T=w.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:T,agGridHeight:this.GRID_HEADER_HEIGHT+R*T,helpCardHeight:u.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:m.offsetHeight,dialogHeaderHeight:g.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:g.offsetHeight}}static#n=this.\u0275fac=function(w){return new(w||S)};static#i=this.\u0275cmp=_.VBU({type:S,selectors:[["app-grid-with-help"]],contentQueries:function(w,m,u){1&w&&(_.C6U(u,m.agGrid,D.xs,5,_.aKT),_.C6U(u,m.dialogAction,C.M,5,_.aKT)),2&w&&_.NyB(2)},viewQuery:function(w,m){1&w&&_.wEZ(m.gridWrapper,y,5,_.aKT),2&w&&_.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:E,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(w,m){1&w&&(_.NAR(h),_.j41(0,"div",1,0),_.SdG(2),_.SdG(3,1),_.SdG(4,2),_.j41(5,"div",2)(6,"div",3),_.nrm(7,"span",4)(8,"span",4),_.k0s()(),_.SdG(9,3),_.k0s()),2&w&&(_.R7$(7),_.Y8G("innerHTML",m.helpText().description,_.npT),_.R7$(),_.Y8G("innerHTML",m.helpText().hint,_.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return S})()},91574:(j,F,s)=>{s.r(F),s.d(F,{ContentTypeFieldsComponent:()=>gi});var D=s(87945),l=s(44444),_=s(64173),f=s(84175),C=s(81863),y=s(93840),h=s(29658),E=s(90852),x=s(12938),S=s(17693),d=s(93454),g=s(72437),w=s(11828),m=s(68163),u=s(60251),R=s(50052),T=s(95699),k=s(78742),P=s(51612),b=s(43216),A=s(70334),B=s(67037),le=s(60852),de=s(1726),ce=s(4202),Z=s(31034),Gt=s(16256),_t=s(89061),gt=s(34601),t=s(99293),yt=s(29968);function he(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("shareOrInherit"))}),t.j41(1,"mat-icon",12),t.EFF(2),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText()),t.R7$(2),t.SpI(" ",e.shareOrInheritIcon()," ")}}function ue(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("shareOrInherit"))}),t.j41(1,"mat-icon",14),t.EFF(2," share "),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText())}}function fe(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("rename"))}),t.j41(1,"mat-icon"),t.EFF(2,"text_fields"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Rename"),t.k0s()(),t.j41(5,"button",15),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("delete"))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Delete"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.field.EditInfo.DisableRename),t.R7$(5),t.Y8G("disabled",e.field.EditInfo.DisableDelete||e.field.IsTitle)}}let me=(()=>{class n{agInit(e){this.params=e,this.field=this.params.data;const i=this.field.EditInfo.DisableEdit;this.enablePermissions=!i&&(this.field.InputType===ce.u.StringWysiwyg||this.field.Type===de.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(o=>"merged"!==o).length:0,this.enableImageConfig=!i&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(e){return e?"highlight":"disabled"}shareText(){const e="click to configure sharing",i=this.field.SysSettings;return i?i.Share?"shared enabled as "+this.field.Guid:i.InheritMetadataOf?"inherits "+i.InheritMetadataOf:e:e}shareOrInheritIcon(){const e=this.field.SysSettings;return e?e.Share?"share":e.InheritMetadataOf?"adjust":"":""}refresh(e){return!0}do(e){this.params.do(e,this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-actions"]],decls:18,vars:24,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(i,o){if(1&i){const r=t.RV6();t.j41(0,"div",1)(1,"div",2),t.bIt("click",function(){return l.eBV(r),l.Njj(o.enableMetadata?o.do("metadata"):"")}),t.j41(2,"mat-icon",3),t.EFF(3,"local_offer"),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(){return l.eBV(r),l.Njj(o.enableImageConfig?o.do("image"):"")}),t.j41(5,"mat-icon",5),t.EFF(6,"filter_center_focus"),t.k0s()(),t.j41(7,"div",4),t.bIt("click",function(){return l.eBV(r),l.Njj(o.enablePermissions?o.do("permissions"):"")}),t.j41(8,"mat-icon",3),t.EFF(9,"person"),t.k0s()(),t.nVh(10,he,3,2,"div",6)(11,ue,3,1,"div",7),t.j41(12,"div",8)(13,"mat-icon"),t.EFF(14,"more_horiz"),t.k0s()()(),t.j41(15,"mat-menu",9,0),t.DNE(17,fe,10,2,"ng-template",10),t.k0s()}if(2&i){const r=t.sdS(16);t.R7$(),t.HbH(t.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enableMetadata))),t.R7$(),t.Y8G("matBadge",o.metadataCount)("matBadgeDisabled",!o.enableMetadata)("matBadgeHidden",!o.metadataCount),t.R7$(2),t.HbH(t.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enableImageConfig))),t.Y8G("tippy",t.mNQ(o.enableImageConfig?"Image Configuration":"no image configuration for this field")),t.R7$(),t.Y8G("matBadge",o.imgConfigCount)("matBadgeHidden",!o.imgConfigCount)("matBadgeDisabled",!o.enableImageConfig),t.R7$(2),t.HbH(t.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enablePermissions))),t.Y8G("tippy",t.mNQ(o.enablePermissions?"Permissions":"no permissions to configure on this field")),t.R7$(),t.Y8G("matBadge",o.field.Permissions.Count)("matBadgeDisabled",!o.enablePermissions)("matBadgeHidden",!o.field.Permissions.Count),t.R7$(2),t.vxM(""!=o.shareOrInheritIcon()?10:11),t.R7$(2),t.Y8G("matMenuTriggerFor",r)}},dependencies:[_t.M,yt.M,y.m_,y.An,Gt.Y,Gt.k,Z.Cn,Z.kk,Z.fb,Z.z8,Z.Cp,gt.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}return n})();function pe(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.changeInputType())}),t.j41(1,"div",3),t.EFF(2),t.k0s(),t.j41(3,"div",4)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}function _e(n,a){if(1&n&&(t.j41(0,"div",1)(1,"div",5),t.EFF(2),t.k0s(),t.j41(3,"div",6)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}let ge=(()=>{class n{agInit(e){this.params=e,this.value=e.value,this.field=e.data}refresh(e){return!0}changeInputType(){this.params.onChangeInputType(this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-input-type"]],decls:2,vars:2,consts:[["matRipple","",1,"input-component","highlight"],[1,"input-component","disabled"],["matRipple","",1,"input-component","highlight",3,"click"],[1,"text"],[1,"eav-grid-action-button"],[1,"text","disabled"],[1,"eav-grid-action-button","disabled"]],template:function(i,o){1&i&&(t.nVh(0,pe,6,1,"div",0),t.nVh(1,_e,6,1,"div",1)),2&i&&(t.vxM(o.field.EditInfo.DisableEdit?-1:0),t.R7$(),t.vxM(o.field.EditInfo.DisableEdit?1:-1))},dependencies:[_t.M,yt.M,y.m_,y.An],encapsulation:2})}return n})();function ye(n,a){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"functions"),t.k0s())}function Ce(n,a){1&n&&(t.j41(0,"mat-icon",2),t.EFF(1,"mobiledata_off"),t.k0s())}let ve=(()=>{class n{agInit(e){const i=e.data;this.hasFormulas=i.HasFormulas,this.isEphemeral=i.IsEphemeral}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-special"]],decls:3,vars:2,consts:[[1,"icon-container"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.nVh(1,ye,2,0,"mat-icon",1),t.nVh(2,Ce,2,0,"mat-icon",2),t.k0s()),2&i&&(t.R7$(),t.vxM(o.hasFormulas?1:-1),t.R7$(),t.vxM(o.isEphemeral?2:-1))},dependencies:[y.m_,y.An],encapsulation:2})}return n})();function De(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.setTitle())}),t.j41(1,"mat-icon"),t.EFF(2,"star"),t.k0s()()}if(2&n){const e=t.XpG();t.HbH(t.VkB("eav-grid-action-button highlight ",e.isTitle?"":e.suitableForTitle?"hover-only":"no-button")),t.BMQ("disabled",e.isTitle||!e.suitableForTitle)}}function Re(n,a){if(1&n&&(t.j41(0,"div",2)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.isTitle?"star":"")}}let we=(()=>{class n{constructor(){this.suitableForTitle=!0}agInit(e){this.params=e,this.isTitle=e.value,this.field=e.data,this.suitableForTitle=!P.Q.isEmpty(this.field.InputType)}refresh(e){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-title"]],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0),t.nVh(1,De,3,4,"div",1)(2,Re,3,1,"div",2),t.k0s()),2&i&&(t.R7$(),t.vxM(o.field.EditInfo.ReadOnly?2:1))},dependencies:[_t.M,yt.M,y.m_,y.An,gt.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}return n})();var be=s(14007);let Fe=(()=>{class n{agInit(e){this.value=e.value,this.icon=(0,be.y)(this.value)}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&i&&(t.Y8G("tippy",o.value),t.R7$(2),t.JRh(o.icon))},dependencies:[y.m_,y.An,gt.e],encapsulation:2})}return n})();var $=s(34456),nt=s(53777),Te=s(31016),Wt=s(59791),N=s(37580),it=s(1019),Ut=s(84205),ot=s(75797),Ee=s(72551),z=s(59452),Ct=s(33900),W=s(76194);class Vt{applyChanges(a,e,i,o,r){a.forEachOperation((c,p,v)=>{let M,O;if(null==c.previousIndex){const I=i(c,p,v);M=e.createEmbeddedView(I.templateRef,I.context,I.index),O=W.a.INSERTED}else null==v?(e.remove(p),O=W.a.REMOVED):(M=e.get(p),e.move(M,v),O=W.a.MOVED);r&&r({context:M?.context,operation:O,record:c})})}detach(){}}var Se=s(32373),Me=s(6427),Ht=s(84344);const ke=[[["caption"]],[["colgroup"],["col"]],"*"],xe=["caption","colgroup, col","*"];function Oe(n,a){1&n&&t.SdG(0,2)}function Ie(n,a){1&n&&(t.j41(0,"thead",0),t.eu8(1,1),t.k0s(),t.j41(2,"tbody",0),t.eu8(3,2)(4,3),t.k0s(),t.j41(5,"tfoot",0),t.eu8(6,4),t.k0s())}function Pe(n,a){1&n&&t.eu8(0,1)(1,2)(2,3)(3,4)}const V=new l.nKC("CDK_TABLE");let Y=(()=>{class n{template=(0,l.WQX)(t.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),J=(()=>{class n{template=(0,l.WQX)(t.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),at=(()=>{class n{template=(0,l.WQX)(t.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),L=(()=>{class n{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,o,r){if(1&i&&(t.wni(r,Y,5),t.wni(r,J,5),t.wni(r,at,5)),2&i){let c;t.mGM(c=t.lsd())&&(o.cell=c.first),t.mGM(c=t.lsd())&&(o.headerCell=c.first),t.mGM(c=t.lsd())&&(o.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",N.L39],stickyEnd:[2,"stickyEnd","stickyEnd",N.L39]},features:[t.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})();class vt{constructor(a,e){e.nativeElement.classList.add(...a._columnCssClassName)}}let Dt=(()=>{class n extends vt{constructor(){super((0,l.WQX)(L),(0,l.WQX)(t.aKT))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[t.Vt3]})}return n})(),Rt=(()=>{class n extends vt{constructor(){const e=(0,l.WQX)(L),i=(0,l.WQX)(t.aKT);super(e,i);const o=e._table?._getCellRole();o&&i.nativeElement.setAttribute("role",o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[t.Vt3]})}return n})(),wt=(()=>{class n{template=(0,l.WQX)(t.C4Q);_differs=(0,l.WQX)(N._q3);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof q?e.headerCell.template:this instanceof tt?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,features:[t.OA$]})}return n})(),q=(()=>{class n extends wt{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,l.WQX)(t.C4Q),(0,l.WQX)(N._q3))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",N.L39]},features:[t.Vt3,t.OA$]})}return n})(),tt=(()=>{class n extends wt{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,l.WQX)(t.C4Q),(0,l.WQX)(N._q3))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",N.L39]},features:[t.Vt3,t.OA$]})}return n})(),st=(()=>{class n extends wt{_table=(0,l.WQX)(V,{optional:!0});when;constructor(){super((0,l.WQX)(t.C4Q),(0,l.WQX)(N._q3))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[t.Vt3]})}return n})(),X=(()=>{class n{_viewContainer=(0,l.WQX)(t.c1b);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),bt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}return n})(),Tt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}return n})(),rt=(()=>{class n{templateRef=(0,l.WQX)(t.C4Q);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})();const Lt=["top","bottom","left","right"];class Be{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(a=>this._updateCachedSizes(a)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(a,e,i=!0,o=!0,r,c,p){this._isNativeHtmlTable=a,this._stickCellCss=e,this._isBrowser=i,this._needsPositionStickyOnElement=o,this.direction=r,this._positionListener=c,this._tableInjector=p,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(a,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(a);const i=[];for(const o of a)o.nodeType===o.ELEMENT_NODE&&i.push(o,...Array.from(o.children));(0,t.mal)({write:()=>{for(const o of i)this._removeStickyStyle(o,e)}},{injector:this._tableInjector})}updateStickyColumns(a,e,i,o=!0,r=!0){if(!a.length||!this._isBrowser||!e.some(U=>U)&&!i.some(U=>U))return this._positionListener?.stickyColumnsUpdated({sizes:[]}),void this._positionListener?.stickyEndColumnsUpdated({sizes:[]});const c=a[0],p=c.children.length,v="rtl"===this.direction,M=v?"right":"left",O=v?"left":"right",I=e.lastIndexOf(!0),K=i.indexOf(!0);let Q,ae,se;r&&this._updateStickyColumnReplayQueue({rows:[...a],stickyStartStates:[...e],stickyEndStates:[...i]}),(0,t.mal)({earlyRead:()=>{Q=this._getCellWidths(c,o),ae=this._getStickyStartColumnPositions(Q,e),se=this._getStickyEndColumnPositions(Q,i)},write:()=>{for(const U of a)for(let G=0;G<p;G++){const re=U.children[G];e[G]&&this._addStickyStyle(re,M,ae[G],G===I),i[G]&&this._addStickyStyle(re,O,se[G],G===K)}this._positionListener&&Q.some(U=>!!U)&&(this._positionListener.stickyColumnsUpdated({sizes:-1===I?[]:Q.slice(0,I+1).map((U,G)=>e[G]?U:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===K?[]:Q.slice(K).map((U,G)=>i[G+K]?U:null).reverse()}))}},{injector:this._tableInjector})}stickRows(a,e,i){if(!this._isBrowser)return;const o="bottom"===i?a.slice().reverse():a,r="bottom"===i?e.slice().reverse():e,c=[],p=[],v=[];(0,t.mal)({earlyRead:()=>{for(let M=0,O=0;M<o.length;M++){if(!r[M])continue;c[M]=O;const I=o[M];v[M]=this._isNativeHtmlTable?Array.from(I.children):[I];const K=this._retrieveElementSize(I).height;O+=K,p[M]=K}},write:()=>{const M=r.lastIndexOf(!0);for(let O=0;O<o.length;O++){if(!r[O])continue;const I=c[O],K=O===M;for(const Q of v[O])this._addStickyStyle(Q,i,I,K)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:c,elements:v}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:c,elements:v})}},{injector:this._tableInjector})}updateStickyFooterContainer(a,e){this._isNativeHtmlTable&&(0,t.mal)({write:()=>{const i=a.querySelector("tfoot");i&&(e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(a,e){if(a.classList.contains(this._stickCellCss)){for(const o of e)a.style[o]="",a.classList.remove(this._borderCellCss[o]);Lt.some(o=>-1===e.indexOf(o)&&a.style[o])?a.style.zIndex=this._getCalculatedZIndex(a):(a.style.zIndex="",this._needsPositionStickyOnElement&&(a.style.position=""),a.classList.remove(this._stickCellCss))}}_addStickyStyle(a,e,i,o){a.classList.add(this._stickCellCss),o&&a.classList.add(this._borderCellCss[e]),a.style[e]=`${i}px`,a.style.zIndex=this._getCalculatedZIndex(a),this._needsPositionStickyOnElement&&(a.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(a){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const o of Lt)a.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(a,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=a.children;for(let r=0;r<o.length;r++)i.push(this._retrieveElementSize(o[r]).width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(a,e){const i=[];let o=0;for(let r=0;r<a.length;r++)e[r]&&(i[r]=o,o+=a[r]);return i}_getStickyEndColumnPositions(a,e){const i=[];let o=0;for(let r=a.length;r>0;r--)e[r]&&(i[r]=o,o+=a[r]);return i}_retrieveElementSize(a){const e=this._elemSizeCache.get(a);if(e)return e;const i=a.getBoundingClientRect(),o={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(a,o),this._resizeObserver.observe(a,{box:"border-box"})),o}_updateStickyColumnReplayQueue(a){this._removeFromStickyColumnReplayQueue(a.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(a)}_removeFromStickyColumnReplayQueue(a){const e=new Set(a);for(const i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(o=>!e.has(o));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(a){let e=!1;for(const i of a){const o=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};o.width!==this._elemSizeCache.get(i.target)?.width&&Ge(i.target)&&(e=!0),this._elemSizeCache.set(i.target,o)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(const i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}}function Ge(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(a=>n.classList.contains(a))}const Et=new l.nKC("CDK_SPL");let St=(()=>{class n{viewContainer=(0,l.WQX)(t.c1b);elementRef=(0,l.WQX)(t.aKT);constructor(){const e=(0,l.WQX)(V);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","rowOutlet",""]]})}return n})(),Mt=(()=>{class n{viewContainer=(0,l.WQX)(t.c1b);elementRef=(0,l.WQX)(t.aKT);constructor(){const e=(0,l.WQX)(V);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),kt=(()=>{class n{viewContainer=(0,l.WQX)(t.c1b);elementRef=(0,l.WQX)(t.aKT);constructor(){const e=(0,l.WQX)(V);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),xt=(()=>{class n{viewContainer=(0,l.WQX)(t.c1b);elementRef=(0,l.WQX)(t.aKT);constructor(){const e=(0,l.WQX)(V);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=t.FsC({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),lt=(()=>{class n{_differs=(0,l.WQX)(N._q3);_changeDetectorRef=(0,l.WQX)(N.gRc);_elementRef=(0,l.WQX)(t.aKT);_dir=(0,l.WQX)(Se.D,{optional:!0});_platform=(0,l.WQX)(Me.P);_viewRepeater=(0,l.WQX)(W.b);_viewportRuler=(0,l.WQX)(Ht.Xj);_stickyPositioningListener=(0,l.WQX)(Et,{optional:!0,skipSelf:!0});_document=(0,l.WQX)(l.qQL);_data;_onDestroy=new Ut.B;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(void 0===this._cellRoleInternal){const e=this._elementRef.nativeElement.getAttribute("role");return"grid"===e||"treegrid"===e?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new t.bkB;viewChange=new ot.t({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=(0,l.WQX)(l.zZn);constructor(){(0,l.WQX)(new N.ES_("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName,this._dataDiffer=this._differs.find([]).create((i,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe((0,Ct.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,it.i)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,r,c)=>this._getEmbeddedViewArgs(o.item,c),o=>o.item.data,o=>{o.operation===W.a.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const o=Xt(this._headerRowOutlet,"thead");o&&(o.style.display=e.length?"":"none")}const i=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const o=Xt(this._footerRowOutlet,"tfoot");o&&(o.style.display=e.length?"":"none")}const i=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,c)=>{this._addStickyColumnStyles([r],this._headerRowDefs[c])}),this._rowDefs.forEach(r=>{const c=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===r&&c.push(i[p]);this._addStickyColumnStyles(c,r)}),o.forEach((r,c)=>{this._addStickyColumnStyles([r],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let o=0;o<this._data.length;o++){let r=this._data[o];const c=this._getRenderRowsForData(r,o,i.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let p=0;p<c.length;p++){let v=c[p];const M=this._cachedRenderRowsMap.get(v.data);M.has(v.rowDef)?M.get(v.rowDef).push(v):M.set(v.rowDef,[v]),e.push(v)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(c=>{const p=o&&o.has(c)?o.get(c):[];if(p.length){const v=p.shift();return v.dataIndex=i,v}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),dt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=dt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=dt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=dt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,p)=>{const v=!!p.getColumnsDiff();return c||v},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),i||o||r}_switchDataSource(e){this._data=[],(0,it.i)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,it.i)(this.dataSource)?e=this.dataSource.connect(this):(0,Ee.A)(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,z.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,Ct.Q)(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const o=Array.from(i?.columns||[]).map(p=>this._columnDefsByName.get(p)),r=o.map(p=>p.sticky),c=o.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let o=0;o<e.viewContainer.length;o++){const r=e.viewContainer.get(o);i.push(r.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(r=>!r.when||r.when(i,e));else{let r=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;r&&o.push(r)}return o}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,o,r={}){const c=e.viewContainer.createEmbeddedView(i.template,r,o);return this._renderCellTemplateForItem(i,r),c}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))X.mostRecentCellOutlet&&X.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){const c=e.get(i).context;c.count=o,c.first=0===i,c.last=i===o-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Be(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,this._dir?this._dir.value:"ltr",this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:(0,z.of)()).pipe((0,Ct.Q)(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const r=o.createEmbeddedView(e.templateRef),c=r.rootNodes[0];1===r.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=t.VBU({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,o,r){if(1&i&&(t.wni(r,rt,5),t.wni(r,L,5),t.wni(r,st,5),t.wni(r,q,5),t.wni(r,tt,5)),2&i){let c;t.mGM(c=t.lsd())&&(o._noDataRow=c.first),t.mGM(c=t.lsd())&&(o._contentColumnDefs=c),t.mGM(c=t.lsd())&&(o._contentRowDefs=c),t.mGM(c=t.lsd())&&(o._contentHeaderRowDefs=c),t.mGM(c=t.lsd())&&(o._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,o){2&i&&t.AVh("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",N.L39],fixedLayout:[2,"fixedLayout","fixedLayout",N.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[t.Jv_([{provide:V,useExisting:n},{provide:W.b,useClass:Vt},{provide:Et,useValue:null}])],ngContentSelectors:xe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){1&i&&(t.NAR(ke),t.SdG(0),t.SdG(1,1),t.nVh(2,Oe,1,0),t.nVh(3,Ie,7,0)(4,Pe,4,0)),2&i&&(t.R7$(2),t.vxM(o._isServer?2:-1),t.R7$(),t.vxM(o._isNativeHtmlTable?3:4))},dependencies:[Mt,St,xt,kt],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2})}return n})();function dt(n,a){return n.concat(Array.from(a))}function Xt(n,a){const e=a.toUpperCase();let i=n.viewContainer.element.nativeElement;for(;i;){const o=1===i.nodeType?i.nodeName:null;if(o===e)return i;if("TABLE"===o)break;i=i.parentNode}return null}let Ue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=l.G2t({imports:[Ht.E9]})}return n})();var Qt=s(8126),zt=s(63617),Ot=s(19999),Ve=s(94724),It=s(70271);const He=[[["caption"]],[["colgroup"],["col"]],"*"],$e=["caption","colgroup, col","*"];function Le(n,a){1&n&&t.SdG(0,2)}function Xe(n,a){1&n&&(t.j41(0,"thead",0),t.eu8(1,1),t.k0s(),t.j41(2,"tbody",2),t.eu8(3,3)(4,4),t.k0s(),t.j41(5,"tfoot",0),t.eu8(6,5),t.k0s())}function Ke(n,a){1&n&&t.eu8(0,1)(1,3)(2,4)(3,5)}let Pt=(()=>{class n extends lt{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,o){2&i&&t.AVh("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[t.Jv_([{provide:lt,useExisting:n},{provide:V,useExisting:n},{provide:W.b,useClass:Vt},{provide:Et,useValue:null}]),t.Vt3],ngContentSelectors:$e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){1&i&&(t.NAR(He),t.SdG(0),t.SdG(1,1),t.nVh(2,Le,1,0),t.nVh(3,Xe,7,0)(4,Ke,4,0)),2&i&&(t.R7$(2),t.vxM(o._isServer?2:-1),t.R7$(),t.vxM(o._isNativeHtmlTable?3:4))},dependencies:[Mt,St,xt,kt],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}\n"],encapsulation:2})}return n})(),ct=(()=>{class n extends Y{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","matCellDef",""]],features:[t.Jv_([{provide:Y,useExisting:n}]),t.Vt3]})}return n})(),ht=(()=>{class n extends J{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","matHeaderCellDef",""]],features:[t.Jv_([{provide:J,useExisting:n}]),t.Vt3]})}return n})(),ut=(()=>{class n extends L{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[t.Jv_([{provide:L,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),t.Vt3]})}return n})(),ft=(()=>{class n extends Dt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[t.Vt3]})}return n})(),mt=(()=>{class n extends Rt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[t.Vt3]})}return n})(),At=(()=>{class n extends q{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",N.L39]},features:[t.Jv_([{provide:q,useExisting:n}]),t.Vt3]})}return n})(),Nt=(()=>{class n extends st{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275dir=t.FsC({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[t.Jv_([{provide:st,useExisting:n}]),t.Vt3]})}return n})(),jt=(()=>{class n extends bt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[t.Jv_([{provide:bt,useExisting:n}]),t.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}return n})(),Bt=(()=>{class n extends Tt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})();static \u0275cmp=t.VBU({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[t.Jv_([{provide:Tt,useExisting:n}]),t.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}return n})(),Yt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.$C({type:n});static \u0275inj=l.G2t({imports:[Qt.M,Ue,Qt.M]})}return n})();class Jt extends it.D{_data;_renderData=new ot.t([]);_filter=new ot.t("");_internalPageChanges=new Ut.B;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(a){a=Array.isArray(a)?a:[],this._data.next(a),this._renderChangesSubscription||this._filterData(a)}get filter(){return this._filter.value}set filter(a){this._filter.next(a),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(a){this._sort=a,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(a){this._paginator=a,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(a,e)=>{const i=a[e];if((0,Ve._)(i)){const o=Number(i);return o<9007199254740991?o:i}return i};sortData=(a,e)=>{const i=e.active,o=e.direction;return i&&""!=o?a.sort((r,c)=>{let p=this.sortingDataAccessor(r,i),v=this.sortingDataAccessor(c,i);const M=typeof p,O=typeof v;M!==O&&("number"===M&&(p+=""),"number"===O&&(v+=""));let I=0;return null!=p&&null!=v?p>v?I=1:p<v&&(I=-1):null!=p?I=1:null!=v&&(I=-1),I*("asc"==o?1:-1)}):a};filterPredicate=(a,e)=>{const i=e.trim().toLowerCase();return Object.values(a).some(o=>`${o}`.toLowerCase().includes(i))};constructor(a=[]){super(),this._data=new ot.t(a),this._updateChangeSubscription()}_updateChangeSubscription(){const a=this._sort?(0,zt.h)(this._sort.sortChange,this._sort.initialized):(0,z.of)(null),e=this._paginator?(0,zt.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,z.of)(null),o=(0,Ot.z)([this._data,this._filter]).pipe((0,It.T)(([p])=>this._filterData(p))),r=(0,Ot.z)([o,a]).pipe((0,It.T)(([p])=>this._orderData(p))),c=(0,Ot.z)([r,e]).pipe((0,It.T)(([p])=>this._pageData(p)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(p=>this._renderData.next(p))}_filterData(a){return this.filteredData=null==this.filter||""===this.filter?a:a.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(a){return this.sort?this.sortData(a.slice(),this.sort):a}_pageData(a){if(!this.paginator)return a;const e=this.paginator.pageIndex*this.paginator.pageSize;return a.slice(e,e+this.paginator.pageSize)}_updatePaginator(a){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=a,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var nn=s(51567),on=s(51903),an=s(61318),sn=s(43143),Zt=s(47703),pt=s(28136),qt=s(95469),te=s(9001),rn=s(9006),ln=s(43176),dn=s(43758),et=s(67993),ee=s(35160),ne=s(3347),ie=s(87698);const cn=["ngForm"];function hn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function un(n,a){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.SpI(" ",e.ContentType.Name," ")}}function fn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function mn(n,a){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.SpI(" ",e.StaticName," ")}}function pn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function _n(n,a){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.SpI(" ",e.Type," ")}}function gn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Share"),t.k0s()())}function yn(n,a){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"button",24),t.bIt("click",function(){const o=l.eBV(e).$implicit,r=t.XpG();return l.Njj(r.selectField(o))}),t.EFF(2,"Select"),t.k0s()()}}function Cn(n,a){1&n&&t.nrm(0,"tr",28)}function vn(n,a){1&n&&t.nrm(0,"tr",29)}function Dn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"New Name"),t.k0s()())}function Rn(n,a){if(1&n&&(t.j41(0,"app-field-hint",32),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.Y8G("isError",!0),t.R7$(),t.JRh(e.fieldNameError)}}function wn(n,a){if(1&n&&(t.j41(0,"app-field-hint",32),t.EFF(1),t.k0s()),2&n){t.XpG(2);const e=t.sdS(5);t.Y8G("isError",!0),t.R7$(),t.SpI(" ",e.errors.reservedNames," ")}}function bn(n,a){if(1&n&&(t.nVh(0,Rn,2,2,"app-field-hint",32),t.nVh(1,wn,2,2,"app-field-hint",32)),2&n){t.XpG();const e=t.sdS(5);t.vxM(e.errors.pattern?0:-1),t.R7$(),t.vxM(e.errors.reservedNames?1:-1)}}function Fn(n,a){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"mat-form-field",30)(2,"mat-label"),t.EFF(3,"New Name"),t.k0s(),t.j41(4,"input",31,1),t.mxI("ngModelChange",function(o){const r=l.eBV(e).$implicit;return t.DH7(r.newName,o)||(r.newName=o),l.Njj(o)}),t.k0s()(),t.nVh(6,bn,2,2),t.k0s()}if(2&n){const e=a.$implicit,i=a.index,o=t.sdS(5),r=t.XpG();t.R7$(4),t.Y8G("pattern",r.fieldNamePattern),t.R50("ngModel",e.newName),t.Y8G("name","StaticName"+i)("appReservedNames",r.reservedNames()),t.R7$(2),t.vxM(o.errors?6:-1)}}function Tn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Source"),t.k0s()())}function En(n,a){if(1&n&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.E5c(" ",e.field.ContentType.Name,"/",e.field.StaticName," (",e.field.Type,") ")}}function Sn(n,a){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Remove"),t.k0s()())}function Mn(n,a){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"button",24),t.bIt("click",function(){const o=l.eBV(e).$implicit,r=t.XpG();return l.Njj(r.removeField(o))}),t.EFF(2,"Remove"),t.k0s()()}}function kn(n,a){1&n&&t.nrm(0,"tr",28)}function xn(n,a){1&n&&t.nrm(0,"tr",29)}let On=(()=>{class n extends ln.${#t;#e;constructor(e,i,o,r,c,p){super(),this.dialogData=e,this.dialog=i,this.snackBar=o,this.matDialog=r,this.viewContainerRef=c,this.changeDetectorRef=p,this.hostClass="dialog-component",this.#t=(0,l.WQX)(te.D),this.#e=(0,x.d)(k.h),this.ContentTypeFieldsReuseDefinitions=pt.T.ContentTypeFieldsReuseDefinitions,this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new Jt([]),this.selectedFields=new Jt([]),this.fieldNamePattern=Zt.w,this.fieldNameError=Zt.s,this.#n=this.#e.getReservedNames().value,this.reservedNames=(0,_.EW)(()=>{const v=this.#n();return ee.O.mergeReserved(v,this.dialogData.existingFields)}),this.saving=(0,et.KX)("saving",!1),this.#i=this.#t.isEnabled[pt.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.form.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#n;#i;ngOnInit(){this.#e.getShareableFieldsPromise().then(e=>{this.shareableFields.data=e})}selectField(e){this.selectedFields.data=[...this.selectedFields.data,{newName:e.StaticName,field:e}]}removeField(e){const i=this.selectedFields.data;i.splice(i.indexOf(e),1),this.selectedFields.data=[...i]}save(){this.#i()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,z.of)(...this.selectedFields.data).pipe((0,nn.p)(e=>!!e.newName),(0,on.H)(e=>this.#e.addInheritedField(this.dialogData.contentType.Id,e.field.ContentType.Id,e.field.Guid,e.newName).pipe((0,an.W)(i=>(0,z.of)(null)))),(0,sn.$)()).subscribe(e=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,rn.j)(this.matDialog,pt.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static#s=this.\u0275fac=function(i){return new(i||n)(t.rXU(C.e),t.rXU(C.k),t.rXU(ne.UG),t.rXU(C.h),t.rXU(t.c1b),t.rXU(N.gRc))};static#o=this.\u0275cmp=t.VBU({type:n,selectors:[["app-field-sharing-add-many"]],viewQuery:function(i,o){if(1&i&&t.GBs(cn,5,$.cV),2&i){let r;t.mGM(r=t.lsd())&&(o.form=r.first)}},hostVars:1,hostBindings:function(i,o){2&i&&t.Avn("className",o.hostClass)},features:[t.Vt3],decls:62,vars:15,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break:break-all;","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","submit",1,"eav-action-button",3,"click","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(i,o){if(1&i){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",5)(6,"p"),t.EFF(7," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),t.k0s(),t.j41(8,"p"),t.EFF(9," This is a bit like "),t.j41(10,"strong"),t.EFF(11,"Content-Type Inheritance"),t.k0s(),t.EFF(12,", but instead of inheritance we're using "),t.j41(13,"strong"),t.EFF(14,"composition"),t.k0s(),t.EFF(15,", which is much more powerful. "),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.nrm(19,"br"),t.j41(20,"em"),t.EFF(21," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),t.k0s()(),t.j41(22,"div",6)(23,"mat-card",7)(24,"table",8),t.qex(25,9),t.DNE(26,hn,3,0,"th",10)(27,un,2,1,"td",11),t.bVm(),t.qex(28,12),t.DNE(29,fn,3,0,"th",10)(30,mn,2,1,"td",11),t.bVm(),t.qex(31,13),t.DNE(32,pn,3,0,"th",10)(33,_n,2,1,"td",11),t.bVm(),t.qex(34,14),t.DNE(35,gn,3,0,"th",10)(36,yn,3,0,"td",11),t.bVm(),t.DNE(37,Cn,1,0,"tr",15)(38,vn,1,0,"tr",16),t.k0s()(),t.j41(39,"mat-card",17)(40,"form",null,0)(42,"table",8),t.qex(43,18),t.DNE(44,Dn,3,0,"th",10)(45,Fn,7,5,"td",11),t.bVm(),t.qex(46,19),t.DNE(47,Tn,3,0,"th",10)(48,En,2,3,"td",20),t.bVm(),t.qex(49,21),t.DNE(50,Sn,3,0,"th",10)(51,Mn,3,0,"td",11),t.bVm(),t.DNE(52,kn,1,0,"tr",15)(53,xn,1,0,"tr",16),t.k0s()()()(),t.j41(54,"app-feature-text-info",22)(55,"em"),t.EFF(56," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()(),t.j41(57,"mat-dialog-actions",23)(58,"button",24),t.bIt("click",function(){return l.eBV(r),l.Njj(o.dialog.close())}),t.EFF(59,"Cancel"),t.k0s(),t.j41(60,"button",25),t.bIt("click",function(){return l.eBV(r),l.Njj(o.save())}),t.EFF(61," Save "),t.k0s()()()()}if(2&i){const r=t.sdS(41);t.R7$(3),t.SpI(" ",t.bMT(4,11,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18) "),t.R7$(14),t.SpI(" ",t.bMT(18,13,"SharingOrInheriting.PickFieldsToInheritFrom")," "),t.R7$(7),t.Y8G("dataSource",o.shareableFields),t.R7$(13),t.Y8G("matHeaderRowDef",o.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",o.optionsColumns),t.R7$(4),t.Y8G("dataSource",o.selectedFields),t.R7$(10),t.Y8G("matHeaderRowDef",o.selectedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.selectedColumns),t.R7$(),t.Y8G("featureNameId",o.ContentTypeFieldsReuseDefinitions)("asInfo",!0),t.R7$(6),t.Y8G("disabled",!r.form.valid||0==o.selectedFields.data.length||o.saving())}},dependencies:[nt.Hu,nt.RN,Yt,Pt,ht,At,ut,ct,Nt,ft,mt,jt,Bt,f.Hl,f.$z,$.YN,$.qT,$.me,$.BC,$.cb,$.R_,$.vS,$.cV,Te.M,ie.j,ie.M,Wt.fS,Wt.fg,ee.O,C.M,E.h,E.D9,qt.L,dn.F],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}.my-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.my-button[_ngcontent-%COMP%]   .my-button-icon[_ngcontent-%COMP%]{margin-left:4px;margin-top:6px}"]})}return n})();var In=s(37739),Pn=s(93609),An=s(34435),H=function(n){return n[n.None=0]="None",n[n.Sharing=1]="Sharing",n[n.Inheriting=2]="Inheriting",n}(H||{}),oe=s(88622);const Nn=n=>({"my-selected":n}),jn=(n,a)=>a.complete,Bn=(n,a)=>a.AttributeId;function Gn(n,a){1&n&&t.eu8(0)}function Wn(n,a){if(1&n&&(t.j41(0,"p"),t.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),t.k0s(),t.j41(2,"div"),t.EFF(3," Global Identifier: "),t.j41(4,"strong"),t.EFF(5),t.k0s()(),t.j41(6,"h4"),t.EFF(7,"Inherited by"),t.k0s(),t.DNE(8,Gn,1,0,"ng-container",8)),2&n){const e=t.XpG(),i=t.sdS(18);t.R7$(5),t.JRh(e.dialogData.Guid),t.R7$(3),t.Y8G("ngTemplateOutlet",i)}}function Un(n,a){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e.complete)}}function Vn(n,a){if(1&n&&(t.j41(0,"ol"),t.Z7z(1,Un,2,1,"li",null,jn),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Dyx(e.inherited())}}function Hn(n,a){1&n&&t.eu8(0)}function $n(n,a){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e)}}function Ln(n,a){if(1&n&&(t.j41(0,"h4"),t.EFF(1,"Not Inherited Definitions"),t.k0s(),t.j41(2,"p"),t.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),t.k0s(),t.j41(4,"ol"),t.Z7z(5,$n,2,1,"li",null,t.fX1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(5),t.Dyx(e.notInherited())}}function Xn(n,a){if(1&n&&(t.j41(0,"p"),t.EFF(1,"This field is inheriting it's definition from another previously shared field."),t.k0s(),t.j41(2,"h4"),t.EFF(3,"Inherits Definition from"),t.k0s(),t.nVh(4,Vn,3,0,"ol"),t.DNE(5,Hn,1,0,"ng-container",8),t.nVh(6,Ln,7,0)),2&n){const e=t.XpG(),i=t.sdS(18);t.R7$(4),t.vxM(e.features.isEnabled[e.requiredFeature]()?-1:4),t.R7$(),t.Y8G("ngTemplateOutlet",i),t.R7$(),t.vxM(e.notInherited().length?6:-1)}}function Kn(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"This will share the field definition for others to use. Save to complete the operation."),t.k0s())}function Qn(n,a){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function zn(n,a){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e.ContentType.Name)}}function Yn(n,a){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function Jn(n,a){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e.StaticName)}}function Zn(n,a){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function qn(n,a){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.JRh(e.Type)}}function ti(n,a){1&n&&t.nrm(0,"tr",21)}function ei(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr",22),t.bIt("click",function(){const o=l.eBV(e).$implicit,r=t.XpG(3);return l.Njj(r.inheritField(o))}),t.k0s()}if(2&n){const e=a.$implicit,i=t.XpG(3);t.Y8G("ngClass",t.eq3(1,Nn,i.guid===e.Guid))}}function ni(n,a){if(1&n&&(t.j41(0,"p"),t.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),t.nrm(2,"br"),t.k0s(),t.j41(3,"ul")(4,"li"),t.EFF(5,"Inheriting will remove/ignore all current definition of this field such as label, hidden, etc."),t.k0s(),t.j41(6,"li"),t.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),t.k0s()(),t.j41(8,"mat-card",10)(9,"table",11),t.qex(10,12),t.DNE(11,Qn,3,0,"th",13)(12,zn,2,1,"td",14),t.bVm(),t.qex(13,15),t.DNE(14,Yn,3,0,"th",13)(15,Jn,2,1,"td",14),t.bVm(),t.qex(16,16),t.DNE(17,Zn,3,0,"th",13)(18,qn,2,1,"td",14),t.bVm(),t.DNE(19,ti,1,0,"tr",17)(20,ei,1,3,"tr",18),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(9),t.Y8G("dataSource",e.shareableFields()),t.R7$(10),t.Y8G("matHeaderRowDef",e.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",e.optionsColumns)}}function ii(n,a){if(1&n){const e=t.RV6();t.j41(0,"p"),t.EFF(1,"This field is currently not shared or inherited. You can choose to:"),t.k0s(),t.j41(2,"ul")(3,"li"),t.EFF(4,"Make it public ("),t.j41(5,"strong"),t.EFF(6,"share"),t.k0s(),t.EFF(7,") so it can be re-used by other Content Types"),t.k0s(),t.j41(8,"li"),t.EFF(9,"Change it to "),t.j41(10,"strong"),t.EFF(11,"inherit"),t.k0s(),t.EFF(12," it's definition from another previously shared field"),t.k0s()(),t.nrm(13,"br"),t.j41(14,"div")(15,"button",9),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.setShare())}),t.EFF(16," Share "),t.k0s(),t.j41(17,"button",9),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.startInherit())}),t.EFF(18," Inherit "),t.k0s(),t.nVh(19,Kn,2,0,"p")(20,ni,21,3),t.k0s()}if(2&n){let e;const i=t.XpG();t.R7$(15),t.Y8G("color",i.state==i.sharingOrInheriting.Sharing?"accent":""),t.R7$(2),t.Y8G("color",i.state==i.sharingOrInheriting.Inheriting?"accent":""),t.R7$(2),t.vxM((e=i.state)===i.sharingOrInheriting.Sharing?19:e===i.sharingOrInheriting.Inheriting?20:-1)}}function oi(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.dialog.close())}),t.EFF(1,"Cancel"),t.k0s(),t.j41(2,"button",24),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.save())}),t.j41(3,"span"),t.EFF(4,"Save"),t.k0s()()}}function ai(n,a){if(1&n&&(t.j41(0,"li"),t.EFF(1," Guid: "),t.j41(2,"strong"),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.EFF(5," Content Type: "),t.j41(6,"strong"),t.EFF(7),t.k0s(),t.nrm(8,"br"),t.EFF(9," Field: "),t.j41(10,"strong"),t.EFF(11),t.k0s(),t.EFF(12),t.k0s()),2&n){const e=a.$implicit;t.R7$(3),t.JRh(e.Guid),t.R7$(4),t.JRh(e.ContentType.Name),t.R7$(4),t.JRh(e.StaticName),t.R7$(),t.SpI(" (",e.AttributeId,") ")}}function si(n,a){if(1&n&&(t.j41(0,"ul"),t.Z7z(1,ai,13,4,"li",null,Bn),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Dyx(e.details())}}function ri(n,a){1&n&&(t.j41(0,"em"),t.EFF(1," No details available. This field probably does not have any inheriting fields. "),t.k0s())}function li(n,a){if(1&n&&t.nVh(0,si,3,0,"ul")(1,ri,2,0,"em"),2&n){const e=t.XpG(2);t.vxM(e.details().length?0:1)}}function di(n,a){if(1&n&&(t.j41(0,"em"),t.EFF(1," You can get more details about the parents by enabling the feature "),t.nrm(2,"br"),t.EFF(3),t.nrm(4,"app-feature-icon-text",25),t.EFF(5,". "),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",e.requiredFeature," "),t.R7$(),t.Y8G("featureNameId",e.requiredFeature)}}function ci(n,a){if(1&n&&t.nVh(0,li,2,1)(1,di,6,2,"em"),2&n){const e=t.XpG();t.vxM(e.features.isEnabled[e.requiredFeature]()?0:1)}}const hi={all:!0,constructor:!0};let fi=(()=>{class n{#t;constructor(e,i,o){this.dialogData=e,this.features=i,this.dialog=o,this.log=(0,An.Tq)({ShareOrInheritDialogComponent:n},hi),this.#t=(0,x.d)(k.h),this.requiredFeature=pt.T.ContentTypeFieldsReuseDefinitions,this.details=(0,et.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=H.None,this.sharingOrInheriting=H,this.guid=null,this.shareableFields=(0,l.vPA)(void 0),this.initialState=(()=>{const p=this.dialogData.SysSettings;return p&&(p.Share||p.InheritMetadataOf)?p.Share?H.Sharing:H.Inheriting:H.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#e=(0,et.bo)("inheritsInfo",()=>{const v=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(M=>({complete:M,guid:M.substring(0,36),name:M.substring(36)}));return(0,In.A)(v,M=>"00000000-0000-0000-0000-000000000000"===M.guid?"none":"inherits")}),this.notInherited=(0,et.bo)("notInherited",()=>this.#e().none?.map(p=>p.name)??[]),this.inherited=(0,et.bo)("inherited",()=>this.#e().inherits??[]),this.log.fnIf("constructor",{dialogData:e});const c=e.SysSettings;c&&(c.Share?this.#t.getDescendants(e.Id).then(p=>this.details.set(p)):c.InheritMetadataOf&&this.#t.getAncestors(e.Id).then(p=>this.details.set(p)))}#e;setShare(){this.guid=null,this.state=H.Sharing}startInherit(){this.guid=null,this.state=H.Inheriting,this.#t.getShareableFieldsFor(this.dialogData.AttributeId).then(e=>this.shareableFields.set(e))}inheritField(e){this.guid=e.Guid}save(){this.state==H.Sharing?this.#t.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==H.Inheriting&&this.#t.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static#n=this.\u0275fac=function(i){return new(i||n)(t.rXU(C.e),t.rXU(te.D),t.rXU(C.k))};static#i=this.\u0275cmp=t.VBU({type:n,selectors:[["app-field-sharing-configure"]],decls:19,vars:7,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],[1,"my-actions"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",1,"eav-dialog-action-button",3,"click","color"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],["mat-raised-button","","type","button",1,"eav-dialog-action-button",3,"click"],["mat-raised-button","","type","submit","color","accent",1,"eav-dialog-action-button",3,"click"],[3,"featureNameId"]],template:function(i,o){if(1&i){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return l.eBV(r),l.Njj(o.dialog.close())}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.nVh(9,Wn,9,2)(10,Xn,7,3)(11,ii,21,3),t.k0s(),t.j41(12,"app-feature-text-info",6)(13,"em"),t.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()(),t.j41(15,"div",7),t.nVh(16,oi,5,0),t.k0s()(),t.DNE(17,ci,2,1,"ng-template",null,0,t.C5r)}if(2&i){let r;t.R7$(3),t.SpI(" ",t.bMT(4,5,o.title)," "),t.R7$(6),t.vxM((r=o.initialState)===o.sharingOrInheriting.Sharing?9:r===o.sharingOrInheriting.Inheriting?10:r===o.sharingOrInheriting.None?11:-1),t.R7$(3),t.Y8G("featureNameId",o.requiredFeature)("asInfo",!0),t.R7$(4),t.vxM(o.initialState==o.sharingOrInheriting.None?16:-1)}},dependencies:[f.Hl,f.$z,oe.M,y.m_,y.An,nt.Hu,nt.RN,Yt,Pt,ht,At,ut,ct,Nt,ft,mt,jt,Bt,D.YU,D.T3,E.h,E.D9,qt.L,Pn.U],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.my-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:8px 0}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}return n})();var mi=s(29841);const pi=(n,a)=>({"grid-sorted":n,"grid-filtered":a});function _i(n,a){if(1&n){const e=t.RV6();t.j41(0,"ag-grid-angular",9),t.bIt("rowDragEnter",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onRowDragEnter(o))})("rowDragEnd",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onRowDragEnd(o))})("rowDragMove",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onRowDragMove(o))})("gridReady",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onGridReady(o))})("sortChanged",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onSortChanged(o))})("filterChanged",function(o){l.eBV(e);const r=t.XpG();return l.Njj(r.onFilterChanged(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("rowData",e.fields())("gridOptions",e.gridOptions)("ngClass",t.l_i(3,pi,e.sortApplied,e.filterApplied))}}let gi=(()=>{class n{#t;#e;#n;constructor(e,i,o,r){this.dialog=e,this.snackBar=i,this.matDialog=o,this.viewContainerRef=r,this.#t=(0,x.d)(le.c),this.#e=(0,x.d)(S.g),this.#n=(0,x.d)(k.h),this.#i=this.#t.getParam("contentTypeStaticName"),this.refresh=(0,l.vPA)(0),this.#s={empty:{description:"<p><b>This is where you manage Fields</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first Field (think: column).</p>"},content:{description:"<p><b>These are the Fields of this Content-Type</b> <br>They are similar to database columns.</p>",hint:"<p>Click on the <em>Name</em> to configure it or on the <em>Input</em> to change the type. <br><br>You can also create new fields, share field definitions, manage field metadata/permissions or rename fields.</p>"}},this.uxHelpText=(0,_.EW)(()=>0===this.fields()?.length?this.#s.empty:this.#s.content),this.contentType=this.#e.getType(this.#i).value,this.fields=(0,l.vPA)(void 0),this.gridOptions=this.#R(),this.sortApplied=!1,this.filterApplied=!1,this.#r=!1}#i;#s;#o;#l;#r;ngOnInit(){this.#a(),this.#t.doOnDialogClosed(()=>this.#a())}onGridReady(e){this.#o=e.api,this.#l=e.columnApi}onRowDragEnter(e){this.#o.setEnableCellTextSelection(!1)}onRowDragEnd(e){this.#o.setSuppressRowDrag(!0);const i=this.fields().map(o=>o.Id);this.#n.reOrder(i,this.contentType()).subscribe(()=>{this.#a(()=>{this.#o.setEnableCellTextSelection(!0),this.#o.setSuppressRowDrag(!1)})})}onRowDragMove(e){const i=e.overNode;if(!i)return;const o=e.node;if(o===i)return;const r=[...this.fields()],c=r.indexOf(o.data),p=r.indexOf(i.data),v=this.#c(r,c,p);this.fields.set(v),this.#o.clearFocusedCell()}#c(e,i,o){const r=e[i];return e.splice(i,1),e.splice(o,0,r),[...e]}onSortChanged(e){const i=this.#l.getColumnState();this.sortApplied=i.some(o=>null!=o.sort),this.#d()}onFilterChanged(e){const i=this.#o.getFilterModel(),o=Object.keys(i);this.filterApplied=o.length>0,this.#d()}#d(){const e=this.sortApplied||this.filterApplied;e&&!this.#r?(this.#r=!0,this.#o.setSuppressRowDrag(!0)):!e&&this.#r&&(this.#r=!1,this.#o.setSuppressRowDrag(!1))}add(){this.#t.navRelative([`add/${this.#i}`])}addSharedField(){this.matDialog.open(On,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()},viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#a())}#h(e){const i=e.data.InputType;if(P.Q.endsPreviousGroup(i))return e.value;let o=!1;for(const r of this.fields())if(P.Q.isGroupStart(i))o=!0;else if(P.Q.isGroupEnd(i))o=!1;else if(r.StaticName===e.data.StaticName)break;return o?`<span class="is-in-group">${e.value}</span>`:e.value}#a(e){this.#n.getFieldsPromise(this.#i).then(i=>{this.fields.set(i),e?.()})}#u(e){if(e.SysSettings?.InheritMetadataOf){if(!Object.keys(e.ConfigTypes).length)return void this.snackBar.open("This field inherits all configuration so there is nothing to edit.",null,{duration:3e3});this.snackBar.open("This field inherits some configuration. Edit will only show configuration which is not inherited.",null,{duration:5e3})}e.SysSettings?.Share&&this.snackBar.open("This field is shared, so changing it will affect all other fields inheriting it.",null,{duration:5e3});const i={items:Object.keys(e.ConfigTypes).map(r=>this.#f(e,r))},o=(0,b.s)(i);this.#t.navRelative([`edit/${o}`])}#f(e,i){const o=i.replace("@",""),r=("@"+i).replace("@@","@"),c=e.Metadata[o];return null!=c?A.c.editId(c.Id):{...A.c.newMetadata(e.Id,r,R.YX.metadata.attribute),Prefill:{Name:e.StaticName}}}#m(e){this.snackBar.open("Setting title..."),this.#n.setTitle(e,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#a()})}#p(e){this.#t.navRelative([`update/${this.#i}/${e.Id}/inputType`])}#_(e){this.#t.navRelative([`update/${this.#i}/${e.Id}/name`])}#g(e){confirm(`Are you sure you want to delete '${e.StaticName}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.#n.delete(e,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#a()}))}#y(e){this.#t.navRelative([g.k.getUrlAttribute(e.Id)])}#C(e){const i=e.imageConfiguration;if(1!=i?.isRecommended)throw new Error("This field does not expect to have an image configuration");const o=i.entityId?A.c.editId(i.entityId):A.c.newMetadata(e.Id,i.typeName,R.YX.metadata.attribute),r=(0,b.s)({items:[o]});this.#t.navRelative([`edit/${r}`])}#v(e){const i=d.H.getUrlAttribute(e.Id,`Metadata for Field: ${e.StaticName} (${e.Id})`);this.#t.navRelative([i])}#D(e){this.matDialog.open(fi,{autoFocus:!1,width:"800px",data:e,viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#a())}#R(){return{...u.C,getRowClass(i){const o=i.data,r=[];return o.EditInfo.DisableSort&&r.push("disable-row-drag"),P.Q.isGroupStart(o.InputType)&&r.push("group-start-row"),P.Q.isGroupEnd(o.InputType)&&r.push("group-end-row"),r},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" ")},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:i=>i.data.IsTitle,cellRenderer:we,cellRendererParams:{onSetTitle:i=>this.#m(i)}},{...w.r.TextWidePrimary,headerName:"Name",field:"StaticName",onCellClicked:i=>this.#u(i.data),cellRenderer:i=>this.#h(i)},{...w.r.ItemsText,field:"Type",width:70,valueGetter:i=>i.data.Type,cellRenderer:Fe},{...w.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline no-padding":"secondary-action no-padding").split(" "),valueGetter:i=>i.data.InputType.substring(i.data.InputType.indexOf("-")+1),cellRenderer:ge,cellRendererParams:{onChangeInputType:i=>this.#p(i)}},{field:"Label",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Name},{field:"Special",width:66,headerClass:"dense",cellClass:"no-outline",cellRenderer:ve},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Notes},{...w.r.ActionsPinnedRight5,cellRenderer:me,cellRendererParams:{do:(i,o)=>{switch(i){case"rename":this.#_(o);break;case"delete":this.#g(o);break;case"permissions":this.#y(o);break;case"metadata":this.#v(o);break;case"shareOrInherit":this.#D(o);break;case"image":this.#C(o)}}}}]}}static#w=this.\u0275fac=function(i){return new(i||n)(t.rXU(C.k),t.rXU(ne.UG),t.rXU(C.h),t.rXU(t.c1b))};static#b=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields"]],decls:17,vars:9,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"ag-theme-material","eav-dialog-content",3,"rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"],[1,"ag-theme-material","eav-dialog-content",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"]],template:function(i,o){if(1&i&&(t.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return o.dialog.close()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.nVh(8,_i,1,6,"ag-grid-angular",5),t.j41(9,"mat-dialog-actions",6)(10,"button",7),t.bIt("click",function(){return o.addSharedField()}),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return o.add()}),t.j41(14,"mat-icon"),t.EFF(15,"add"),t.k0s()()()()(),t.nrm(16,"router-outlet")),2&i){let r,c,p;t.R7$(),t.Y8G("helpText",o.uxHelpText())("refresh",o.refresh())("rowLength",null==(r=o.fields())?null:r.length),t.R7$(3),t.SpI("",(null==(c=o.contentType())?null:c.Label)||(null==(c=o.contentType())?null:c.Name)," Data"),t.R7$(4),t.vxM((null==(p=o.fields())?null:p.length)>0?8:-1),t.R7$(3),t.JRh(t.bMT(12,7,"SharingOrInheriting.AddSharedField")),t.R7$(2),t.Y8G("disabled",null==o.contentType()||o.contentType().EditInfo.ReadOnly)}},dependencies:[f.Hl,f.$z,oe.M,f.Sr,y.m_,y.An,h.n3,D.YU,C.M,T.V,B.p,mi.xs,E.h,E.D9,m.v],encapsulation:2})}return n})()},95469:(j,F,s)=>{s.d(F,{L:()=>d});var D=s(37580),l=s(93840),_=s(90852),f=s(34601),C=s(67993),y=s(9006),h=s(99293),E=s(44444);const x=["*"];function S(g,w){if(1&g){const m=h.RV6();h.j41(0,"div",1),h.nI1(1,"translate"),h.bIt("click",function(){E.eBV(m);const R=h.XpG();return E.Njj(R.openDialog())}),h.j41(2,"mat-icon"),h.EFF(3),h.k0s(),h.j41(4,"div",2)(5,"div",3),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"div",4),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.SdG(11),h.k0s()()}if(2&g){const m=h.XpG();h.Y8G("tippy",h.i5U(1,7,"Features.Tooltip",m.feature())),h.R7$(2),h.HbH(h.VkB("icon icon-",m.icon())),h.R7$(),h.JRh(m.icon()),h.R7$(3),h.JRh(h.bMT(7,10,"Features.FeatureNotActivated")),h.R7$(3),h.JRh(h.bMT(10,12,"Features.ClickToFindOutMore"))}}let d=(()=>{class g extends y.x{constructor(){super(),this.asInfo=(0,D.hFB)(!1),this.icon=(0,C.bo)("icon",()=>this.asInfo()?"info":"warning")}static#t=this.\u0275fac=function(u){return new(u||g)};static#e=this.\u0275cmp=h.VBU({type:g,selectors:[["app-feature-text-info"]],inputs:{asInfo:[1,"asInfo"]},features:[h.Vt3],ngContentSelectors:x,decls:1,vars:1,consts:[[1,"feature-text-info",3,"tippy"],[1,"feature-text-info",3,"click","tippy"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(u,R){1&u&&(h.NAR(),h.nVh(0,S,12,14,"div",0)),2&u&&h.vxM(R.show()?0:-1)},dependencies:[l.m_,l.An,_.h,_.D9,f.e],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}return g})()},96133:(j,F,s)=>{s.r(F),s.d(F,{FeatureInfoDialogComponent:()=>d});var D=s(44444),l=s(81863),_=s(12938),f=s(51191),C=s(25081),y=s(45943),h=s(99293),E=s(29658);const x=g=>({feature:g,showGuid:!1,showStatus:!0,showClose:!0});function S(g,w){1&g&&h.nrm(0,"app-feature-details-dialog",0),2&g&&h.Y8G("specs",h.eq3(1,x,w))}let d=(()=>{class g{#t;constructor(m,u,R){this.dialogData=m,this.dialog=u,this.route=R,this.#t=(0,_.d)(y.N),this.featureId=(0,D.vPA)(""),this.clipboard=(0,_.d)(C.W)}ngOnInit(){this.featureId.set(this.route.snapshot.data.featureId||this.dialogData||""),this.featureDetails=this.#t.getFeatureDetail(this.featureId).value}static#e=this.\u0275fac=function(u){return new(u||g)(h.rXU(l.e),h.rXU(l.k),h.rXU(E.nX))};static#n=this.\u0275cmp=h.VBU({type:g,selectors:[["app-feature-info-dialog"]],decls:1,vars:1,consts:[[3,"specs"]],template:function(u,R){if(1&u&&h.nVh(0,S,1,3,"app-feature-details-dialog",0),2&u){let T;h.vxM((T=R.featureDetails())?0:-1,T)}},dependencies:[f.O],encapsulation:2})}return g})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.04/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62.c915de3fb949e10a.js.map
{"version":3,"file":"projects_eav-ui_src_app_app-administration_sub-dialogs_export-app_export-app_component_ts.4e600e25b7116198.js","mappings":"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","names":["i0","$event","_r5","ctx_r4","includeContentGroups","ctx_r6","resetAppGuid","vm_r1","appInfo","Name","Guid","Version","EntitiesCount","LanguagesCount","TemplatesCount","HasTokenTemplates","HasRazorTemplates","TransferableFilesCount","FilesCount","ctx_r3","isExporting","ExportAppComponent_Conditional_0_Conditional_5_Template","ExportAppComponent_Conditional_0_Conditional_14_Template","_r9","ctx_r8","closeDialog","ctx_r10","exportApp","ctx","ExportAppComponent","constructor","dialogRef","exportAppService","this","hostClass","appInfo$","BehaviorSubject","isExporting$","viewModel$","combineLatest","pipe","map","ngOnInit","getAppInfo","subscribe","next","ngOnDestroy","complete","close","static","t","i1","i2","_angular_core__WEBPACK_IMPORTED_MODULE_1__","Xpm","selectors","hostVars","hostBindings","rf","ExportAppComponent_Conditional_0_Template","ExportAppComponent_contFlowTmp"],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.ts"],"sourcesContent":["@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-dialog\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">Export app</div>\r\n    </div>\r\n    <div class=\"eav-dialog-content\">\r\n      @if (vm.isExporting) {\r\n        <mat-spinner mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n      }\r\n      <p>\r\n        Pack the entire app to a <em>zip</em> folder which can be imported again to another site.\r\n        For further help visit <a href=\"https://2sxc.org/en/help?tag=export-app\" target=\"_blank\">2sxc Help</a>.\r\n      </p>\r\n      @if (vm.appInfo) {\r\n        <div>\r\n          <p class=\"eav-app-info__title\">Specs</p>\r\n          <ul class=\"eav-app-info__content\">\r\n            <li>Name: {{ vm.appInfo.Name }}</li>\r\n            <li>Guid: {{ vm.appInfo.Guid }}</li>\r\n            <li>Version: {{ vm.appInfo.Version }}</li>\r\n          </ul>\r\n          <p class=\"eav-app-info__title\">Contains</p>\r\n          <ul class=\"eav-app-info__content\">\r\n            <li>{{ vm.appInfo.EntitiesCount }} entities</li>\r\n            <li>{{ vm.appInfo.LanguagesCount }} languages</li>\r\n            <li>\r\n              {{ vm.appInfo.TemplatesCount }} templates (Token: {{ vm.appInfo.HasTokenTemplates }}, Razor:\r\n              {{ vm.appInfo.HasRazorTemplates }})\r\n            </li>\r\n            <li>{{ vm.appInfo.TransferableFilesCount }} files to export</li>\r\n            <li>{{ vm.appInfo.FilesCount }} files in the app folder totally</li>\r\n          </ul>\r\n          <div class=\"eav-options-wrapper\">\r\n            <div class=\"oeav-ption-box\">\r\n              <mat-checkbox [(ngModel)]=\"includeContentGroups\" [disabled]=\"resetAppGuid || vm.isExporting\">\r\n                <span class=\"eav-option-box__text\">\r\n                  Include all content-groups to re-import the app in an exact copy of this site.\r\n                  Only select this option when you copy an entire DNN site.\r\n                </span>\r\n              </mat-checkbox>\r\n            </div>\r\n            <div class=\"eav-option-box\">\r\n              <mat-checkbox [(ngModel)]=\"resetAppGuid\" [disabled]=\"includeContentGroups || vm.isExporting\">\r\n                <span class=\"eav-option-box__text\">\r\n                  Reset the app GUID to zero. You only need this option for special tutorial apps,\r\n                  and usually must not select it.\r\n                </span>\r\n              </mat-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n    <mat-dialog-actions align=\"end\">\r\n      <button mat-raised-button [disabled]=\"vm.isExporting\" (click)=\"closeDialog()\">\r\n        Cancel\r\n      </button>\r\n      <button mat-raised-button color=\"accent\" [disabled]=\"vm.isExporting\" (click)=\"exportApp()\">\r\n        Export App\r\n      </button>\r\n    </mat-dialog-actions>\r\n  </div>\r\n}","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { BehaviorSubject, combineLatest, map } from 'rxjs';\r\nimport { AppInfo } from '../../models/app-info.model';\r\nimport { ExportAppService } from '../../services/export-app.service';\r\n\r\n@Component({\r\n  selector: 'app-export-app',\r\n  templateUrl: './export-app.component.html',\r\n  styleUrls: ['./export-app.component.scss'],\r\n})\r\nexport class ExportAppComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  includeContentGroups = false;\r\n  resetAppGuid = false;\r\n  private appInfo$ = new BehaviorSubject<AppInfo>(null);\r\n  private isExporting$ = new BehaviorSubject(false);\r\n  viewModel$ = combineLatest([this.appInfo$, this.isExporting$]).pipe(\r\n    map(([appInfo, isExporting]) => ({ appInfo, isExporting })),\r\n  );\r\n\r\n  constructor(private dialogRef: MatDialogRef<ExportAppComponent>, private exportAppService: ExportAppService) { }\r\n\r\n  ngOnInit() {\r\n    this.exportAppService.getAppInfo().subscribe(appInfo => {\r\n      this.appInfo$.next(appInfo);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.appInfo$.complete();\r\n    this.isExporting$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  exportApp() {\r\n    this.isExporting$.next(true);\r\n    this.exportAppService.exportApp(this.includeContentGroups, this.resetAppGuid);\r\n    this.isExporting$.next(false);\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
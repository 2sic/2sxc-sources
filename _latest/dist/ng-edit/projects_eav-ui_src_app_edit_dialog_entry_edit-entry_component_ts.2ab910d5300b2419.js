(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts"],{1726:(ge,_e,m)=>{"use strict";m.d(_e,{O:()=>D});const D={Boolean:"Boolean",Custom:"Custom",DateTime:"DateTime",Empty:"Empty",Entity:"Entity",Hyperlink:"Hyperlink",Number:"Number",String:"String"}},3140:(ge,_e,m)=>{"use strict";m.d(_e,{J:()=>_});var D=m(27092),M=m(99293);let _=(()=>{class p{constructor(){this.subscriptions=new D.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||p)};static#t=this.\u0275dir=M.FsC({type:p})}return p})()},3346:(ge,_e,m)=>{"use strict";m.d(_e,{h:()=>_});var D=m(45129);class M{static dtoToEav(o,s){return{Values:D.U.dtoToEav(o),Type:s}}}class _{static dtoToEav(o){const s={};for(const[d,u]of Object.entries(o))for(const[h,f]of Object.entries(u))s[h]=M.dtoToEav(f,d);return s}static mergeSettings(o){if(null==o)return{};const s={};for(const d of o)if("@All"!==d.Type.Id)for(const[u,h]of Object.entries(d.Attributes)){const f={...h};s[u]=f}for(const d of o)if("@All"===d.Type.Id)for(const[u,h]of Object.entries(d.Attributes)){if(null!=s[u]&&""===h.Values[0].value)continue;const y={...h};s[u]=y}return s}}},3939:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(o){return"["+o+(1===o||8===o||o>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return _.default.locale(p,null,!0),p}(m(49645))},4826:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}(D);function p(u){return u%100==2}function o(u){return u%100==3||u%100==4}function s(u,h,f,v){var y=u+" ";switch(f){case"s":return h||v?"nekaj sekund":"nekaj sekundami";case"m":return h?"ena minuta":"eno minuto";case"mm":return p(u)?y+(h||v?"minuti":"minutama"):o(u)?y+(h||v?"minute":"minutami"):y+(h||v?"minut":"minutami");case"h":return h?"ena ura":"eno uro";case"hh":return p(u)?y+(h||v?"uri":"urama"):o(u)?y+(h||v?"ure":"urami"):y+(h||v?"ur":"urami");case"d":return h||v?"en dan":"enim dnem";case"dd":return p(u)?y+(h||v?"dneva":"dnevoma"):y+(h||v?"dni":"dnevi");case"M":return h||v?"en mesec":"enim mesecem";case"MM":return p(u)?y+(h||v?"meseca":"mesecema"):o(u)?y+(h||v?"mesece":"meseci"):y+(h||v?"mesecev":"meseci");case"y":return h||v?"eno leto":"enim letom";case"yy":return p(u)?y+(h||v?"leti":"letoma"):o(u)?y+(h||v?"leta":"leti"):y+(h||v?"let":"leti")}}var d={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),ordinal:function(u){return u+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"\u010dez %s",past:"pred %s",s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s}};return _.default.locale(d,null,!0),d}(m(49645))},6567:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(h){return h&&"object"==typeof h&&"default"in h?h:{default:h}}(D),p="sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),o="sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),s=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,d=function(h,f){return s.test(f)?p[h.month()]:o[h.month()]};d.s=o,d.f=p;var u={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),months:d,monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(h){return h+"."}};return _.default.locale(u,null,!0),u}(m(49645))},7167:(ge,_e,m)=>{"use strict";m.d(_e,{L:()=>d});var D=m(38172),M=m(58798),_=m(44444);let d=(()=>{class u{constructor(){}#e=new M.Yz("user-language");#t(f,v){const y=this.#n()?.["ui"==f?"languageUi":"languageForm"];return y?.endsWith("!")?{language:y.slice(0,-1),force:!0}:{language:this.stored(f)??y??v,force:!1}}value(f){return this.#t(f).language}stored(f){return this.#e.get(f)||null}save(f,v){this.#e.add(f,v||null)}uiCode(f){return this.#t("ui",f)?.language?.toLocaleLowerCase().split("-")[0]}isForced(f){return this.#t(f)?.force}userConfigurable(){const f=this.#n()?.languageUserSettings;return!1!==f&&"false"!==f}#n(){if(this.#i)return this.#i;const f=sessionStorage.getItem(D.p2);return f?this.#i=JSON.parse(f):null}#i;static#a=this.\u0275fac=function(v){return new(v||u)};static#r=this.\u0275prov=_.jDH({token:u,factory:u.\u0275fac})}return u})()},8470:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return _.default.locale(p,null,!0),p}(m(49645))},9193:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(o){return o},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return _.default.locale(p,null,!0),p}(m(49645))},9234:(ge,_e,m)=>{"use strict";m.d(_e,{Gg:()=>C,Tr:()=>I,gb:()=>y});var D=m(51567),M=m(36647),_=m(86301),p=m(70271),o=m(12938),s=m(34435),d=m(24467),u=m(54839),h=m(99293),f=m(44444);const v={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},y="admin/entity/",C="admin/entity/list";let I=(()=>{class T extends d.B{constructor(){super(...arguments),this.log=(0,s.Tq)({EntityService:T},v),this.queryService=(0,o.d)(u.c)}getEntities$(H){return this.log.fnIf("getEntities"),H.pipe((0,D.p)(W=>null!=W),(0,M.n)(W=>this.getAvailableEntities(W.contentTypeName).pipe((0,_.t)(1))))}getAvailableEntities(H,W){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[H],itemIds:W,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,p.T)(O=>O.Default))}delete(H,W,A,O,V,G){return this.log.fnIf("delete",{appId:H,contentType:W,entityId:A,force:O,parentId:V,parent}),this.http.delete(this.apiUrl(y+"delete"),{params:{contentType:W,id:A.toString(),appId:H,force:O.toString(),...V&&{parentId:V.toString()},...V&&G&&{parentField:G}}})}static#e=this.\u0275fac=(()=>{let H;return function(A){return(H||(H=h.xGo(T)))(A||T)}})();static#t=this.\u0275prov=f.jDH({token:T,factory:T.\u0275fac})}return T})()},9977:(ge,_e,m)=>{"use strict";m.d(_e,{g:()=>p});var D=m(34435),M=m(16632),_=m(44444);let p=(()=>{class o extends M.r{constructor(){super((0,D.Tq)({LanguageService:o})),this.getId=d=>d.NameId.toLocaleLowerCase()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=_.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},12121:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return o+(1===o?"er":"")}};return _.default.locale(p,null,!0),p}(m(49645))},13669:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return _.default.locale(p,null,!0),p}(m(49645))},17416:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(o){return o+"."}};return _.default.locale(p,null,!0),p}(m(49645))},17426:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"hi",weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),ordinal:function(o){return o},formats:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"}};return _.default.locale(p,null,!0),p}(m(49645))},18214:function(ge){ge.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var m=["th","st","nd","rd"],D=_e%100;return"["+_e+(m[(D-20)%10]||m[D]||m[0])+"]"}}}()},18537:(ge,_e,m)=>{"use strict";m.d(_e,{R:()=>f});var D=m(82645),M=m(43942),_=m(1365),p=m(88830),o=m(81530),s=m(38067);const d=["addListener","removeListener"],u=["addEventListener","removeEventListener"],h=["on","off"];function f(T,R,H,W){if((0,o.T)(H)&&(W=H,H=void 0),W)return f(T,R,H).pipe((0,s.I)(W));const[A,O]=function I(T){return(0,o.T)(T.addEventListener)&&(0,o.T)(T.removeEventListener)}(T)?u.map(V=>G=>T[V](R,G,H)):function y(T){return(0,o.T)(T.addListener)&&(0,o.T)(T.removeListener)}(T)?d.map(v(T,R)):function C(T){return(0,o.T)(T.on)&&(0,o.T)(T.off)}(T)?h.map(v(T,R)):[];if(!A&&(0,p.X)(T))return(0,_.Z)(V=>f(V,R,H))((0,D.Tg)(T));if(!A)throw new TypeError("Invalid event target");return new M.c(V=>{const G=(...N)=>V.next(1<N.length?N:N[0]);return A(G),()=>O(G)})}function v(T,R){return H=>W=>T[H](R,W)}},21102:function(ge){ge.exports=function(){"use strict";var m=/[+-]\d\d(?::?\d\d)?/g,D=/([+-]|\d\d)/g;return function(M,_,p){var o=_.prototype;p.utc=function(y){return new _({date:y,utc:!0,args:arguments})},o.utc=function(y){var C=p(this.toDate(),{locale:this.$L,utc:!0});return y?C.add(this.utcOffset(),"minute"):C},o.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var s=o.parse;o.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),s.call(this,y)};var d=o.init;o.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var u=o.utcOffset;o.utcOffset=function(y,C){var I=this.$utils().u;if(I(y))return this.$u?0:I(this.$offset)?u.call(this):this.$offset;if("string"==typeof y&&null===(y=function(W){void 0===W&&(W="");var A=W.match(m);if(!A)return null;var O=(""+A[0]).match(D)||["-",0,0],G=60*+O[1]+ +O[2];return 0===G?0:"+"===O[0]?G:-G}(y)))return this;var T=Math.abs(y)<=16?60*y:y,R=this;if(C)return R.$offset=T,R.$u=0===y,R;if(0!==y){var H=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(R=this.local().add(T+H,"minute")).$offset=T,R.$x.$localOffset=H}else R=this.utc();return R};var h=o.format;o.format=function(y){return h.call(this,y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},o.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var f=o.toDate;o.toDate=function(y){return"s"===y&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var v=o.diff;o.diff=function(y,C,I){if(y&&this.$u===y.$u)return v.call(this,y,C,I);var T=this.local(),R=p(y).local();return v.call(T,R,C,I)}}}()},21118:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"da",weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n._man._tirs._ons._tors._fre._l\xf8r.".split("_"),weekdaysMin:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,yearStart:4,ordinal:function(o){return o+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"}};return _.default.locale(p,null,!0),p}(m(49645))},21237:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(o){return o},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return _.default.locale(p,null,!0),p}(m(49645))},22236:(ge,_e,m)=>{"use strict";m.r(_e),m.d(_e,{EditEntryComponent:()=>oy});var D=m(29658),M=m(12938),_=m(9001),p=m(34435),o=m(68873),s=m(44444),d=m(81863),u=m(71477),h=m(43216),f=m(7167),C=m(9977),I=m(16632);let T=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({AdamCacheService:a})),this.getId=e=>e.Guid}loadPrefetch(e){if(null==e)return;const n=Object.entries(e).map(([i,r])=>({Guid:i,Attributes:r}));this.addMany(n)}getAdamSnapshot(e,n){return this.cache()[e]?.Attributes[n]}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),R=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({LinkCacheService:a})),this.getId=e=>e.key.trim().toLocaleLowerCase()}addPrefetch(e,n){const i=e?Object.entries(e).map(([c,g])=>({key:c,...g})):[],r=null!=n?Object.entries(n).flatMap(([c,g])=>Object.entries(g).flatMap(([b,z])=>this.adamToLinks(z))):[];this.addMany([...i,...r])}addAdam(e){this.addMany(this.adamToLinks(e))}addLink(e,n){const i={key:e=e.trim().toLocaleLowerCase(),...n,Adam:{...n.Adam}};this.add(i)}adamToLinks(e){return e.filter(n=>!n.IsFolder).map(n=>({key:n.ReferenceId,Adam:{...n},Value:n.Url}))}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var H=m(53991),W=m(36849),A=m(26001),O=m(44813),V=m(48394),G=m(90927);function w(a){const e=a.indexOf("/adam/");return-1!==e?a.substring(0,e+6):null}var k=m(8265),E=m(70271),Y=m(98764),j=m(24467),ee=m(39431);const q={all:!1,fetchFormData:!1,saveFormData:!1};let xe=(()=>{class a extends j.B{constructor(e){super(),this.globalConfigService=e,this.log=(0,p.Tq)({FormDataService:a},q)}fetchFormData(e){return this.log.fnIf("fetchFormData",{items:e,context:this.context}),this.http.post(this.apiUrl("cms/edit/load"),e,{params:{appId:this.appId}}).pipe((0,E.T)(n=>(n.Context.Language.List=n.Context.Language.List.filter(i=>i.IsEnabled),n)),(0,Y.M)(n=>{this.globalConfigService.allowDebug(n.Context.Enable.DebugMode)}))}saveFormData(e,n){return this.log.fnIf("saveFormData",{result:e,partOfPage:n}),this.http.post(this.apiUrl("cms/edit/save"),e,{params:{appId:this.appId,partOfPage:n}})}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(ee.B))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var He=m(32093),Te=m(98503);const De={Show:"show",Hide:"hide",Branch:"branch"};let Me=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({FormPublishingService:a})),this.getId=e=>e.formId,this.#e=new Te.K("publishMode")}setPublishMode(e,n,i){null==i.config.versioningOptions[e]&&(e=Object.keys(i.config.versioningOptions)[0]),this.add({formId:n,DraftShouldBranch:e===De.Branch,IsPublished:e===De.Show})}getPublishMode(e){return this.#e.getOrCreate(e,()=>this.toPublishMode(this.get(e)))}#e;toPublishMode(e){return e.DraftShouldBranch?De.Branch:e.IsPublished?De.Show:De.Hide}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Be=m(95443);const $={all:!1,constructor:!1,preserve:!0,get:!0};let ne=(()=>{class a{#e;constructor(e,n,i){this.formConfig=e,this.itemService=n,this.languageService=i,this.log=(0,p.Tq)({InitialValuesService:a},$),this.#e={},this.log.aIf("constructor",null,"constructor")}preserve(){this.log.fnIf("preserve");const n=this.itemService.getMany(this.formConfig.config.itemGuids),i=this.languageService.getAll().map(c=>c.NameId),r=this.formConfig.language();i.includes(r.current)||i.push(r.current),i.includes(r.primary)||i.push(r.primary);for(const c of n)for(const g of i){const b=new Be.b(g,r.primary).currentValues(c.Entity.Attributes),z=this.#t(c.Entity.Guid,g);this.#e[z]=b}}#t(e,n){return`entityGuid:${e}:language:${n}`}get(e,n){const i=this.log.fnIf("get",{entityGuid:e,language:n}),r=this.#e[this.#t(e,n)];return i.r(r)}static#n=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S),s.KVO(G.b),s.KVO(C.g))};static#i=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var oe=m(51612),ve=m(44031),be=m(47314),he=m(13050),Ie=m(77706);const Ke={all:!1,constructor:!1,initMissingValues:!1};let ye=(()=>{class a{constructor(e,n,i,r,c){this.formConfig=e,this.itemService=n,this.inputTypeService=i,this.contentTypeService=r,this.languageService=c,this.log=(0,p.Tq)({InitializeMissingValuesServices:a},Ke)}initMissingValues(){const e=this.log.fnIf("initMissingValues"),n=this.itemService.updater,i=this.formConfig.config,r=this.itemService.getMany(i.itemGuids),c=this.inputTypeService.getAll(),g=this.languageService.getAll(),b=this.formConfig.language(),z=ve.y.singleton();let X=!1;const ie=i.createMode,se=new Ie.q("EditInitializerService");for(const Fe of r){const Ze=this.contentTypeService.getContentTypeOfItem(Fe);for(const lt of Ze.Attributes){const ut=lt.Name,Dt=c.find(rn=>rn.Type===lt.InputType),qt=oe.Q.isEmpty(Dt?.Type);if(e.a(`Attribute: '${ut}' InputType: '${Dt?.Type}' isEmptyType: '${qt}'`),qt)continue;const Tt=z.getOrUnknown(Dt?.Type),zt=Fe.Entity.Attributes[lt.Name],pn=se.getDefaultSettings(new he.bT(b.primary,b.primary).flatten(lt.Metadata));if(0===g.length){e.a(`${ut} languages none, simple init`);const rn=new be.U(zt,"*").currentOrDefaultOrAny?.value;Tt.isValueEmpty(rn,ie)&&n.setDefaultValue(Fe,lt,Dt,pn,g,b.primary)}else{e.a(`${ut} languages many, complex init`);const rn=Dt?.DisableI18n,wn=new be.U(zt,"*").currentOrDefault?.value;if(e.a(ut,{disableI18n:rn,noLanguageValue:wn}),!rn&&void 0!==wn){const Zo=n.removeItemAttributeDimension(Fe.Entity.Guid,lt.Name,"*",!0);n.addItemAttributeValue(Fe.Entity.Guid,lt.Name,wn,b.primary,!1,lt.Type,!1,Zo),e.a(`${ut} exit`);continue}const ca=new be.U(zt,b.primary).currentOrDefault?.value,da=Tt.isValueEmpty(ca,ie);e.a(ut,{currentName:ut,valueIsEmpty:da,defaultLanguageValue:ca,isCreateMode:ie}),da&&null!=n.setDefaultValue(Fe,lt,Dt,pn,g,b.primary)&&!pn.IsEphemeral&&(X=!0)}}}return e.r(X)}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S),s.KVO(G.b),s.KVO(A.A),s.KVO(W.n),s.KVO(C.g))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();class Ee{constructor(l,e){this.contentsOverride=e,this.log=(0,p.Tq)({ItemsRequestRestoreHelper:Ee},{all:!1,mergeResponse:!0}),this.itemsWithIndex=l.map((n,i)=>({...n,clientId:i}))}itemsForRequest(){return this.itemsWithIndex.map(e=>{const{Prefill:n,ClientData:i,...r}=e;return r})}mergeResponse(l){const e=this.log.fnIf("mergeResponse",{result:l,itemsWithIndex:this.itemsWithIndex}),n=l.map(i=>{const r=this.itemsWithIndex.find(g=>g.clientId===i.Header.clientId);e.a("fetchFormData - remix",{item:i,original:r});let c=null;return c=this.contentsOverride?this.contentsOverride[i.Header.clientId]:null,{...i,Header:{...i.Header,Prefill:r?.Prefill,ClientData:{...r?.ClientData,overrideContents:c}}}});return e.r(n)}}var re=m(90852),Re=m(3347);const ze={all:!1,constructor:!1,fetchFormData:!1,dataFromDialog:!1,importLoadedData:!1,initMissingValues:!1};let Ne=(()=>{class a{#e;#t;#n;constructor(e,n,i,r,c,g,b,z,X,ie,se,Fe,Ze,lt,ut,Dt){this.route=e,this.formConfig=n,this.itemService=i,this.inputTypeService=r,this.contentTypeItemService=c,this.contentTypeService=g,this.publishStatusService=b,this.translate=z,this.languageService=X,this.languageStore=ie,this.snackBar=se,this.adamCacheService=Fe,this.linkCacheService=Ze,this.featuresService=lt,this.initialValuesService=ut,this.dialogData=Dt,this.log=(0,p.Tq)({EditInitializerService:a},ze),this.loaded=(0,s.vPA)(!1),this.#e=(0,M.d)(xe),this.#t=(0,M.d)(f.L),this.#n=(0,M.d)(ye),this.adamPortalUrl=(0,s.vPA)(null),this.log.aIf("constructor",null,"constructor")}fetchFormData(){const e=this.log.fnIf("fetchFormData"),n=this.log.fnIf("dataFromDialog"),i=this.route.snapshot.params.items;n.a("state Data from Dialog",{stateData:this.dialogData});const r=(0,h.K)(i).items,c=new Ee(r,this.dialogData?.overrideContents),g=c.itemsForRequest();e.a("fetchFormData",{requestItems:g}),this.#e.fetchFormData(JSON.stringify(g)).subscribe(b=>{const z=b?.Prefetch?.Links,X=z&&"object"==typeof z?Object.values(z):[],ie=X.length>0&&X[0]?.Value?X[0].Value:void 0;ie&&this.adamPortalUrl.set(w(ie));const se={...b,Items:c.mergeResponse(b.Items)};e.a("fetchFormData - after remix",{response:se}),this.featuresService.load(se.Context,se),(0,u.g)(se.Context.App),this.#i(se),this.initialValuesService.preserve(),this.#a(),this.loaded.set(!0)})}#i(e){const n=this.log.fnIf("importLoadedData"),i=Math.floor(99999*Math.random()),r=function v(a){let l=0;for(const e of a.snapshot.pathFromRoot)if(!(e.url.length<=0))for(const n of e.url)"edit"===n.path&&l++;return 1===l}(this.route);this.adamPortalUrl()&&(e.Items=function N(a,l){const e=/<img\b[^>]*?\bdata-cmsid=["'][^"']+["'][^>]*?>/gi;return a.forEach(n=>{const i=n.Entity?.Attributes?.String?.Content;"object"==typeof i&&Object.entries(i).forEach(([r,c])=>{let g=function L(a){const l=document.createElement("textarea");return l.innerHTML=a,l.value}(c);g=g.replace(e,b=>{const z=b.match(/\bsrc=["']([^"']+)["']/);if(!z)return b;const X=z[1],ie=w(X);if(ie&&ie!==l){const se=X.replace(ie,l);return b.replace(X,se)}return b}),n.Entity.Attributes.String.Content[r]=g})}),a}(e.Items,this.adamPortalUrl()),n.a("importLoadedData - checkAdamFolder",{items:e.Items})),this.itemService.loadItems(e.Items),this.inputTypeService.addMany(e.InputTypes),this.contentTypeItemService.addContentTypeItems(e.ContentTypeItems),this.contentTypeService.addContentTypes(e.ContentTypes),this.adamCacheService.loadPrefetch(e.Prefetch?.Adam),this.linkCacheService.addPrefetch(e.Prefetch?.Links,e.Prefetch?.Adam);const c=e.Items.map(lt=>lt.Entity.Guid),g=this.itemService.getMany(c),b=0===g[0].Entity.Id,z=null!=g[0].Header.DuplicateEntity,X=!b&&!1!==this.route.snapshot.data.history,ie={...e.Settings,Entities:V.g.dtoToEavMany(e.Settings.Entities),ContentTypes:O._.dtoToEavMany(e.Settings.ContentTypes)};this.formConfig.initFormConfig(e.Context,i,r,c,b,z,X,ie);var se=e.Context.Language;const Fe=this.#t.uiCode(se.Current);if(this.translate.use(Fe),r){const lt=function y(a,l){if(0===l.length)return l;let e;const n=[],i=[];for(const c of l)c.NameId===a?e=c:c.NameId.startsWith(a.split("-")[0])?n.push(c):i.push(c);return n.sort((c,g)=>c.NameId.localeCompare(g.NameId)),i.sort((c,g)=>c.NameId.localeCompare(g.NameId)),e?[e,...n,...i]:[...n,...i]}(se.Primary,se.List);this.languageService.addMany(lt)}this.languageStore.addForm(i,se.Primary,se.Current,!1);const Ze=this.publishStatusService.toPublishMode(e);this.publishStatusService.setPublishMode(Ze,i,this.formConfig)}#a(){this.log.fnIf("initMissingValues");const n=this.#n.initMissingValues(),i=this.formConfig.language();if(n&&i.current!==i.primary){this.languageStore.setCurrent(this.formConfig.config.formId,i.primary);const c=this.translate.instant("Message.SwitchedLanguageToDefault",{language:i.primary});this.snackBar.open(c,null,{duration:5e3})}}static#r=this.\u0275fac=function(n){return new(n||a)(s.KVO(D.nX),s.KVO(k.S),s.KVO(G.b),s.KVO(A.A),s.KVO(H.k),s.KVO(W.n),s.KVO(Me),s.KVO(re.c$),s.KVO(C.g),s.KVO(He.A),s.KVO(Re.UG),s.KVO(T),s.KVO(R),s.KVO(_.D),s.KVO(ne),s.KVO(d.e))};static#s=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var ce,Ae=m(87149);const Le={all:!1,load:!0,sortByType:!1,insertToDom:!1};let mt=(()=>{class a{#e;constructor(e){this.formConfig=e,this.log=(0,p.Tq)({ScriptsLoaderService:a},Le),this.#e=[]}load(e,n){this.log.fnIf("load",{scripts:e});const i=this.#t(e);this.#n(i,n,0)}#t(e){this.log.fnIf("sortByType",{scripts:e});const n=[],i=[];return e.forEach(r=>{const c={path:ce.resolveUrlTokens(r,this.formConfig.config),type:null,loaded:!1,domEl:null};c.path.endsWith(".css")?(c.type=".css",n.push(c)):c.path.endsWith(".js")&&(c.type=".js",i.push(c))}),n.concat(i)}#n(e,n,i){this.log.fnIf("insertToDom",{files:e,increment:i});const r=e[i];if(i++,!r)return void n();r.path=r.path+"?sxcver="+window.sxcVersion;const c=this.#e.find(g=>g.path===r.path);if(c)if(c.loaded)this.#n(e,n,i);else{const g=()=>{r.loaded=!0,this.#n(e,n,i),c.domEl.removeEventListener("load",g),c.domEl.removeEventListener("error",g)};c.domEl.addEventListener("load",g),c.domEl.addEventListener("error",g)}else{".css"===r.type?(r.domEl=document.createElement("link"),r.domEl.rel="stylesheet",r.domEl.href=r.path):".js"===r.type&&(r.domEl=document.createElement("script"),r.domEl.type="module",r.domEl.src=r.path);const g=()=>{r.loaded=!0,this.#n(e,n,i),r.domEl.removeEventListener("load",g),r.domEl.removeEventListener("error",g)};r.domEl.addEventListener("load",g),r.domEl.addEventListener("error",g),document.querySelector("head").appendChild(r.domEl),this.#e.push(r)}}static resolveUrlTokens(e,n){return e.replace(/\[System:Path\]/i,he.b.getUrlPrefix("system",n)).replace(/\[Zone:Path\]/i,he.b.getUrlPrefix("zone",n)).replace(/\[App:Path\]/i,he.b.getUrlPrefix("app",n)).replace(/\[App:PathShared\]/i,he.b.getUrlPrefix("appShared",n))}static#i=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S))};static#a=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();ce=mt;var ht=m(84344),qe=m(87945),Pe=m(64173),rt=m(49074),nt=m(89061),Qe=m(93840),pt=m(59452),te=m(60591),ae=m(63037),ue=m(18537),Ce=m(43176),Ue=m(95699),le=m(67993),Mt=m(78656),x=m(50069),S=m(80436);let U=(()=>{class a{constructor(e,n){this.matIconRegistry=e,this.domSanitizer=n,this.icons={"apple-filled":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"apple-outlined":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"draft-branch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z"/></svg>',"file-archive":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z"/></svg>',"file-audio":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z"/></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"/></svg>',"file-excel":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z"/></svg>',"file-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z"/></svg>',"file-pdf":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z"/></svg>',"file-powerpoint":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z"/></svg>',"file-text":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z"/></svg>',"file-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z"/></svg>',"file-word":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',"folder-plus":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',sitemap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z"/></svg>'}}load(){Object.entries(this.icons).forEach(([e,n])=>{this.matIconRegistry.addSvgIconLiteral(e,this.domSanitizer.bypassSecurityTrustHtml(n))})}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(x.M),s.KVO(S.up))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var P=m(37580),Q=m(34456),pe=m(64334),Oe=m(51567),Ge=m(33688),Ye=m(89595);class it{constructor(l){this.computed=l}getConsumerNode(){return this.computed[Ye.bh]}getProducers(){return this.getConsumerNode().producerNode}getDirtyProducers(){return this.getConsumerNode().producerNode}snapShotProducers(l=!1){return this.#e(this.getConsumerNode(),l)}#e(l,e){return this.#t(l.producerNode,l.producerLastReadVersion,e)}#t(l,e,n){if(!l)return[];let i=l.map((r,c)=>{const g=r.dirty,b=e[c],z=r.version,X=b<z,ie=this.#e(r,n),se=ie.some(lt=>lt.dirty),Fe=g||X||se,Ze=ie.find(lt=>lt.dirty)?.dirtyDepth+1||(Fe?1:0);return{name:r?.debugName||"unknown",idx:c,dirty:Fe,dirtyDepth:Ze,dirtyPrd:g,dirtyVer:X,dirtySub:se,verOwn:b,verPrd:z,producer:r,subInfos:ie}});return n&&(i=i.filter(r=>r.dirty)),i}}var xt=m(13620),dt=m(36740),F=m(70334),fe=m(9234);let me=(()=>{class a{constructor(){this.log=(0,p.Tq)({EntityFormStateService:a}),this.controlsCreated=(0,s.vPA)(!1),this.isSaving=(0,s.vPA)(!1),this.formGroup=new Q.J3({})}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var ke=m(84205),je=m(60852),st=m(48021),et=m(4979);const Ct={all:!1,childFormResult:!0,expand:!1,open:!1,watchToRefreshOnVersionsClosed:!0};let vt=(()=>{class a extends et.V{#e;#t;#n;constructor(e,n){super(),this.langInstanceSvc=e,this.formConfig=n,this.log=(0,p.Tq)({EditRoutingService:a},Ct),this.#e=(0,M.d)(je.c),this.#t=this.#e.route,this.#n=this.#e.router,this.#i=new ke.B,this.#s={},this.log.a("constructor")}ngOnDestroy(){this.#i.complete(),super.ngOnDestroy()}init(){this.#o(),this.#l()}#i;#a(){return this.#t.snapshot.params}#r(){const e=this.#a(),n=null!=e.detailsEntityGuid&&null!=e.detailsFieldId;return{params:e,hasDetails:n,hasUpdate:null!=e.updateEntityGuid&&null!=e.updateFieldId,guid:n?e.detailsEntityGuid:e.updateEntityGuid,fieldId:n?e.detailsFieldId:e.updateFieldId}}isExpanded(e,n){const i=e.toString(),r=this.#a();return r.detailsEntityGuid===n&&r.detailsFieldId===i}isExpanded$(e,n){const i=e.toString();return this.#t.params.pipe((0,st.J)(r=>r.detailsEntityGuid===n&&r.detailsFieldId===i))}isExpandedSignal(e,n,i){const r=`${e}-${n}`,c=this.#s[r];if(c)return c;const g=this.isExpanded$(e,n);return this.#s[r]=(0,rt.ot)(g,{injector:i})}#s;childFormResult(e,n){const i=this.log.fnIf("childFormResult",{fieldId:e,entityGuid:n}),r=this.#i.pipe((0,Oe.p)(c=>c.updateEntityGuid===n&&c.updateFieldId===e&&null!=c.result),(0,E.T)(c=>c.result));return i.rSilent(r)}childFormClosed(){return this.#i.pipe((0,E.T)(e=>null))}expand(e,n,i,r){const c=this.log.fnIf("expand",{expand:e,fieldId:n,entityGuid:i,componentTag:r}),g=this.#r(),b=g.params,ie=he.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${b.items}`+(g.hasDetails?`/details/${g.guid}/${g.fieldId}`:""),`edit/${b.items}`+(e?`/details/${i}/${n}`:""));if(null==ie)return c.end("no change");this.#n.navigate([ie],{state:r&&{componentTag:r}}),c.end("routed away to ",{url:ie})}open(e,n,i){const r=this.log.fnIf("open",{fieldId:e,entityGuid:n,form:i}),c=(0,h.s)(i),g=this.#r();if(g.hasDetails)return this.#n.navigate([`edit/${c}`],{relativeTo:this.#t}),r.end("expanded, just open child");const X=he.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${g.params.items}`,`edit/${g.params.items}/update/${n}/${e}/edit/${c}`);if(null==X)return r.end("no change");this.#n.navigate([X]),r.end("routed away to ",{url:X})}#o(){this.subscriptions.add(this.#t.params.pipe((0,st.J)(e=>null!=e.detailsEntityGuid&&null!=e.detailsFieldId)).subscribe(e=>this.langInstanceSvc.updateHideHeader(this.formConfig.config.formId,e)))}#l(){this.subscriptions.add(this.#e.childDialogClosed$().pipe((0,E.T)(()=>{const e=this.#r();return{pInfo:e,result:{updateEntityGuid:e.guid,updateFieldId:parseInt(e.fieldId,10),result:this.#n.getCurrentNavigation().extras?.state}}})).subscribe(({pInfo:e,result:n})=>{if(this.#i.next(n),!e.hasUpdate)return;const i=e.params,r=he.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${i.items}/update/${i.updateEntityGuid}/${i.updateFieldId}`,`edit/${i.items}`);null!=r&&this.#n.navigate([r])}))}static#c=this.\u0275fac=function(n){return new(n||a)(s.KVO(He.A),s.KVO(k.S))};static#d=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var at=m(7796);class Ot{static placeholder(l,e,n){return{label:l.instant(e)+(n??""),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}static message(l,e,n){return{label:l.instant(e,n),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}}class Ve{static#e=this.logSpecs={all:!1,setupEmpty:!1,connectState:!1,initPrefetch:!0,fetchItems:!1,constructor:!1,fields:[...dt.z,"Categories"]};constructor(){this.dataSource=(0,le.KX)("dataSource",null),this.optionsOrHints=(0,le.bo)("optionsOrHints",()=>this.dataSource().data()??[])}connectState(l){const e=this.log.fnIf("connectState");return this.dataSource.set(this.dataSourceRaw.setup()),this.deleteCallback=n=>l.doAfterDelete(n),e.rSilent(this)}}const kt={...Ve.logSpecs,editItem:!0,getPrefill:!0};class Kt extends Ve{#e;#t;#n;constructor(){super(),this.formConfig=(0,s.WQX)(k.S),this.#e=(0,s.WQX)(vt),this.translate=(0,s.WQX)(re.c$),this.#t=(0,s.WQX)(Re.UG),this.fieldState=(0,s.WQX)(at.W),this.group=(0,s.WQX)(me).formGroup,this.#n=(0,M.d)(fe.Tr),this.name=this.fieldState.name,this.#i=(0,M.d)(he.Nt).initSignal("PickerSource-EntityType",this.fieldState.settingExt("EntityType")),this.contentType=(0,le.bo)("contentType",()=>this.#i?.result()??""),this.#a=(0,le.bo)("createEntityTypes",()=>this.fieldState.settings().CreateTypes),this.myFeatures=(0,le.bo)("features",()=>({create:!(!this.contentType()&&!this.#a())})),this.#r=(0,le.KX)("deletedItemsGuids",[]),this.errorOptions=(0,le.KX)("errorOptions",null),this.optionsOrHints=(0,le.bo)("optionsOrHints",()=>{const l=this.errorOptions();if(l)return l;const e=this.dataSource(),n=this.#r(),i=e.data().filter(r=>!n.some(c=>c===r.value));return e.loading()?[Ot.message(this.translate,"Fields.Picker.Loading"),...i]:i}),this.#s=(0,M.d)(he.Nt).initSignal("Prefill",this.fieldState.settingExt("CreatePrefill")),this.#o=(0,M.d)(he.Nt).initSignal("CreateParams",this.fieldState.settingExt("CreateParameters")),this.#l=(0,M.d)(he.Nt).initSignal("CreateParams",this.fieldState.settingExt("EditParameters"))}#i;#a;syncParams(){}onAfterViewInit(){this.syncParams()}#r;initPrefetch(l){this.syncParams(),this.log.fnIfInList("initPrefetch","fields",this.name,{prefetchGuids:l}),this.dataSource().initPrefetch?.(l)}forceReloadData(l){const e=this.log.fn("forceReloadData",{missingData:l});this.dataSource().addToRefresh(l),e.end()}editItem(l,e){const n=this.log.fnIf("editItem",{editParams:l}),i=l?.entityGuid,r=this.#c(null==i?this.#o.result():this.#l.result()),c={items:[{...null==i?F.c.newFromType(e??this.contentType(),this.#c(this.#s.result())):F.c.editId(this.optionsOrHints().find(b=>b.value===i)?.id??l.entityId),...r?{ClientData:{parameters:r}}:{}}]};n.a("form",{form:c});const g=this.fieldState.config;this.#e.open(g.index,g.entityGuid,c),this.#e.childFormClosed().pipe((0,pe.s)(1)).subscribe(b=>{const z=this.log.fn("childFormClosed",{editGuid:i,data:b});if(i)return this.forceReloadData([i]),z.end("forceReloadData",{editGuid:i});z.end("no guid, won't reload data")}),n.end()}deleteItem(l){this.log.a("deleteItem",{props:l});const e=this.optionsOrHints().find(X=>X.value===l.entityGuid),n=e.id,i=e.label,r=this.contentType(),c=this.fieldState.config,g=c.entityId,b=c.fieldName;confirm(this.translate.instant("Data.Delete.Question",{title:i,id:n}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#n.delete(this.formConfig.config.appId,r,n,!1,g,b).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(l),this.#r.update(X=>[...X,l.entityGuid])},error:X=>{this.#t.dismiss(),confirm(this.translate.instant("Data.Delete.Question",{title:i,id:n}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#n.delete(this.formConfig.config.appId,r,n,!0,g,b).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(l),this.#r.update(ie=>[...ie,l.entityGuid])},error:ie=>{this.#t.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}}))}}))}#s;#o;#l;#c(l){const e=this.log.fnIf("getPrefill",{prefill:l});if(!l||!l.trim())return e.r(null,"empty");const n=Object.fromEntries(l.split("&").map(i=>i.split("=")).filter(i=>2===i.length&&i[0]&&i[1]));return e.r(n)}}function Fn(a,l){return{create:a.create??l,textEntry:a.textEntry??l,multiValue:a.multiValue??l,edit:a.edit??l,remove:a.remove??l,delete:a.delete??l}}function Kn(a,l){const e=Fn(a,!0),n=Fn(l,!0);return{create:e.create&&n.create,textEntry:e.textEntry&&n.textEntry,multiValue:e.multiValue&&n.multiValue,edit:e.edit&&n.edit,remove:e.remove&&n.remove,delete:e.delete&&n.delete}}function Qr(a,l){return a?Array.isArray(a)?a.join(l):a:""}const el={all:!1,setup:!1,addInfosFromSourceForUi:!1,optionsWithMissing:!1,selectedRaw:!1,selectedOverride:!1,selectedState:!1,features:!0,allOptions:!1,fields:[...dt.z,"*"]};let tl=(()=>{class a{#e;constructor(){this.log=(0,p.Tq)({PickerData:a},el),this.#e=(0,s.WQX)(re.c$),this.closeWatcherAttachedWIP=!1,this.ready=(0,le.KX)("sourceIsReady",!1),this.optionsRaw=(0,le.bo)("optionsSource",()=>(this.ready()?this.source.optionsOrHints():null)??[]),this.optionsOverride=(0,le.KX)("overrideOptions",null),this.optionsAll=(0,le.bo)("optionsFinal",()=>(0,xt.z)(this.optionsOverride(),e=>e||this.optionsRaw())),this.optionsAllowsEmpty=(0,le.bo)("optionsAllowsEmpty",()=>function Jn(a){return a?.some(l=>""==l.value)}(this.optionsAll())),this.selectedRaw=(0,le.bo)("selectedState",()=>{const e=this.log.fnIfInList("selectedRaw","fields",this.name);return this.ready()?e.r(this.#i(this.state.selectedItems(),this.optionsAll()),"ready"):e.r([],"not ready")}),this.selectedOverride=(0,le.KX)("selectedOverride",null),this.selectedAll=(0,le.bo)("selectedAll",()=>(0,xt.z)(this.selectedOverride(),e=>e||this.selectedRaw())),this.selectedOne=(0,le.bo)("selectedOne",()=>this.selectedAll()[0]??null),this.optionsWithMissing=(0,le.bo)("optionsWithMissing",()=>{const e=this.log.fnIf("optionsWithMissing"),n=this.selectedAll(),i=this.optionsAll(),r=n.filter(g=>!i.find(b=>b.value===g.value));if(0===r.length)return i;const c=i.concat(r);return e.r(c)}),this.#t=(0,le.KX)("settingsLazy",null),this.#n=(0,le.bo)("featuresFromSettings",()=>{const e=this.#t()();return{textEntry:e.EnableTextEntry,multiValue:e.AllowMultiValue,create:e.EnableCreate&&!!e.CreateTypes,remove:e.EnableRemove,delete:e.EnableDelete,edit:e.EnableEdit}}),this.features=(0,le.bo)("features",()=>{const e=this.source.myFeatures(),n=this.state.myFeatures(),i=this.#n(),r=Kn(e,n),c=Kn(r,i),g={...c,showGoToListDialogButton:c.multiValue,showAddNewButton:c.create};return this.log.aIf("features",{sourceFeatures:e,stateFeatures:n,settingsFeatures:i,mergeSourceAndState:r,mergeSettings:c,forControl:g}),g}),this.isInFreeTextMode=(0,le.KX)("isInFreeTextMode",!1),this.log.enabled&&this.log.specs.allOptions&&(0,Pe.QZ)(()=>{const e=this.ready(),n=this.optionsRaw(),i=this.optionsOverride(),r=this.optionsAll();this.log.a("options",{ready:e,raw:n,override:i,final:r})})}setup(e,n,i,r){const c=this.log.fnIfInList("setup","fields",e,{name:e,state:i,source:r});this.name=e,this.#t.set(n),this.state=i,this.source=r,i.features=this.features,i.allowsEmptyLazy.set(this.optionsAllowsEmpty);const g=i.values();c.a("setup",{initiallySelected:g}),r?.initPrefetch?.(g),this.ready.set(!0),c.end("done")}selectedCopy(e){return e.map(n=>({...n}))}#t;#n;addNewlyCreatedItem(e){const n=Object.keys(e)[0],i=this.log.fn("addNewlyCreatedItem",{result:e,newItemGuid:n});this.state.values().includes(n)||(this.state.add(n),this.source?.forceReloadData?.([n])),i.end()}#i(e,n){const i=this.log.fnIfInList("addInfosFromSourceForUi","fields",this.name,{selected:e,opts:n}),r=e.map(c=>{const g=n.find(b=>b.value===c);return g?function nl(a,l){return{id:a.id,value:a.value,label:l,tooltip:a.tooltip||`${l} (${a.value})`,info:a.info||null,link:a.link||null,noEdit:!0===a.noEdit,noDelete:!0===a.noDelete,noSelect:!1}}(g,g.label??this.#e.instant("Fields.Picker.EntityNotFound")):this.#a(c)});return i.r(r)}toggleFreeTextMode(){this.isInFreeTextMode.update(e=>!e)}#a(e){e=e?.toString()??"";const n=this.source instanceof Kt;return{noEdit:!0,noDelete:!0,id:null,label:e+(n?" \u26a0\ufe0f":""),tooltip:e+(n?` \u26a0\ufe0f ${this.#e.instant("Fields.Picker.EntityNotFound")} - could result in error`:" (manual entry)"),value:e}}static#r=this.\u0275fac=function(n){return new(n||a)};static#s=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),il=(()=>{class a{constructor(e,n){this.injector=e,this.inputTypeSvc=n,this.log=(0,p.Tq)({PickerDataFactory:a})}createPickersForAttributes(e){const n=e.map(i=>({name:i.Name,inputType:this.inputTypeSvc.getSpecs(i)}));return this.#e(n)}#e(e){return e.map(i=>({name:i.name,picker:this.#t(i.inputType)})).filter(i=>null!==i.picker).reduce((i,r)=>(i[r.name]=r.picker,i),{})}#t(e){return oe.Q.isAnyPicker(e.inputType)?(0,M.d)(tl,this.injector):null}static#n=this.\u0275fac=function(n){return new(n||a)(s.KVO(s.zZn),s.KVO(A.A))};static#i=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Pn=m(93826);class kn{static#e=this.bool={equal:Pn.a.valueEquals};static#t=this.number={equal:Pn.a.valueEquals};static#n=this.string={equal:Pn.a.valueEquals};static#i=this.ref={}}let jt=(()=>{class a{#e;#t;constructor(e,n,i){this.formConfig=e,this.itemService=n,this.languageService=i,this.log=(0,p.Tq)({FormsStateService:a}),this.triggerTrySaveAndMaybeClose=(0,s.vPA)({tryToSave:!1,close:!1},kn.ref),this.formsAreValid=(0,s.vPA)(!1),this.formsAreDirty=(0,s.vPA)(!1),this.#e={},this.#t={},this.readOnly=(()=>{const r=(0,s.vPA)(this.formConfig.config.itemGuids.map(b=>this.itemService.getItemHeaderSignal(b))),c=this.languageService.getAllSignal();return(0,le.bo)("readOnly",()=>{const b=r().some(se=>se().EditInfo?.ReadOnly??!1),z=c().find(se=>se.NameId===this.formConfig.language().current)?.IsAllowed??!0;return{isReadOnly:b||!z,reason:b?"Form":z?void 0:"Language"}})})(),this.formsValidTemp=(0,s.vPA)(!1),this.saveButtonDisabled=(0,le.bo)("saveButtonDisabled",()=>this.readOnly().isReadOnly||!this.formsValidTemp());for(const r of this.formConfig.config.itemGuids)this.#e[r]=!1,this.#t[r]=!1}getFormValid(e){return this.#e[e]}setFormValid(e,n){this.#e[e]=n;const i=!Object.values(this.#e).some(r=>!1===r);i!==this.formsValidTemp()&&(this.formsValidTemp.set(i),this.formsAreValid.set(i))}setFormDirty(e,n){this.#t[e]=n;const i=Object.values(this.#t).some(r=>!0===r);i!==this.formsAreDirty()&&this.formsAreDirty.set(i)}triggerSave(e){this.triggerTrySaveAndMaybeClose.set({tryToSave:!0,close:e})}static#n=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S),s.KVO(G.b),s.KVO(C.g))};static#i=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Kr=m(75067);let al=(()=>{class a{#e=(0,s.WQX)(_.D).getAll();constructor(e,n,i,r,c){this.formConfig=e,this.itemService=n,this.languageSvc=i,this.globalConfigSvc=r,this.initialValuesService=c}init(e,n,i){this.#t=n,this.#n=e,this.#i=i}#t;#n;#i;#a={};getSharedSpecs(){const e=this.formConfig.language(),n=this.languageSvc.getAll(),i=this.globalConfigSvc.isDebug();return{initialFormValues:this.initialValuesService.get(this.#t,e.current),language:e,languages:n,debugEnabled:i,itemService:this.itemService,formConfig:this.formConfig,fieldsSettingsSvc:this.#n,features:this.#e,parameters:new Kr.Z(this.#i.ClientData?.parameters??{}),warningsObsolete:this.#a}}static#r=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S),s.KVO(G.b),s.KVO(C.g),s.KVO(ee.B),s.KVO(ne))};static#s=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var rl=m(37739),Rt=m(28136);class fi{}var Jr=m(60827),fa=m(55970);const sl={all:!1,getPickerInfos:!1,filterFormulasIfPickerNotReady:!0,fields:[...dt.z]};class ga{constructor(l,e,n){this.fieldName=l,this.fieldConstants=e,this.propsBefore=n,this.log=(0,p.Tq)({FormulaFieldPickerHelper:ga},sl),this.isSpecialPicker=e.inputTypeSpecs.isNewPicker}get infos(){return this.#e??=this.#t(this.fieldName,this.fieldConstants,this.propsBefore)}#e;filterFormulasIfPickerNotReady(l){const e=this.log.fnIfInList("filterFormulasIfPickerNotReady","fields",this.fieldName,{before:l}),n=this.infos,i=this.isSpecialPicker&&!n.ready?l.filter(g=>!g.fieldIsSpecialPicker):l,r=i.filter(g=>!g.fieldIsSpecialPicker||this.isSpecialPicker&&!g.sleep||n.changed);return e.rSilent(r,`\u{1f9ea}\u{1f4ca} before: ${l.length}; ready: ${i.length}; formulas:${r.length}; pickerChanged: ${n.changed}; opts: ${n.options.changed}/${n.options.ver}; sel: ${n.selected.changed}/${n.selected.ver}`)}#t(l,e,n){const i=this.log.fnIfInList("getPickerInfos","fields",l),r=e.pickerData();if(1!=r?.ready()){const X={list:[],listRaw:[],ver:null,verBefore:null,changed:!1};return{ready:!1,mapper:null,picker:r,options:X,selected:X,changed:!1}}function c(X,ie,se){const Fe=X(),Ze=(0,le.HF)(X);return{list:ie(),listRaw:Fe,ver:Ze,verBefore:se,changed:Ze!==se}}const g=c(r.optionsRaw,r.optionsAll,n.opts?.ver),b=c(r.selectedRaw,r.selectedAll,n.sel?.ver);return i.r({ready:!0,mapper:r.state.mapper,picker:r,options:g,selected:b,changed:b.changed||g.changed})}updateFormulaSleep(l,e,n){l.sleep=e.sleep??(!!fa.wB.includes(l.target)||l.sleep),n.a(`\u{1f9ea}\u23f8\ufe0fformula.sleep: ${l.target}; formula.sleep: ${l.sleep}; raw.sleep: ${e.sleep}`)}preserveResultsAfterRun(l,e,n,i){return n.options&&(e.options={list:n.options,ver:this.infos.options.ver},i.a("\u{1f9ea}\u{1f4c3} options returned, will add",e.options)),n.selected&&(e.selected={list:n.selected,ver:this.infos.selected.ver},i.a("\u{1f9ea}\u{1f4c3} selected returned, will add",e.selected)),e}}var _n=m(92434);class gi{static keepSettingIfTypeOk(l,e,n,i){return gi.keepSettingIfTypeOkAndStatus(l,e,n,i).settingsNew}static keepSettingIfTypeOkAndStatus(l,e,n,i){const r=l.substring(fa.si.length),c=e[r];return(0,_n.A)(c,n)?{settingsNew:i,wasChanged:!1}:Array.isArray(c)&&Array.isArray(n)||typeof c==typeof n?(i[r]=n,{settingsNew:i,wasChanged:!0}):{settingsNew:i,wasChanged:!1}}}const ol={all:!1,runFormula:!1,runAllOfField:!0,runOrInitSettings:!0,getPickerInfos:!1,fields:[...dt.z]};class _a{constructor(l,e,n,i){this.promiseHandler=l,this.designerSvc=e,this.entityGuid=n,this.runOneHelper=i,this.log=(0,p.Tq)({FormulaRunField:_a},ol)}runOrInitSettings(l,e,n,i,r,c,g,b,z){const X=this.log.fnIfInList("runOrInitSettings","fields",e,{fieldName:e}),ie=new ga(e,n,g),se=(0,Pe.O8)(()=>this.designerSvc.cache.getActive(this.entityGuid,e,ie.isSpecialPicker)),Fe=(0,rl.A)(se,zt=>zt.disabled?"disabled":"enabled");Fe.disabled&&this.#e(Fe.disabled);const Ze=Fe.enabled??[],lt=this.promiseHandler.filterFormulas(e,Ze),ut=ie.filterFormulasIfPickerNotReady(lt);if(X.a(`\u{1f9ea}\u{1f4ca} enabled: ${Ze.length}; noPromisesSleep: ${lt.length}; formulas: ${ut.length}`),0==ut.length)return Tt({},c,{value:c,validation:null,fields:[],settings:{},options:new fi,selected:new fi});const qt=this.#t({currentValues:l,settingsInitial:n.settingsInitial,settingsCurrent:i,pickerHelper:ie,defaultValueHelper:()=>new he.X3(e,n.inputTypeSpecs.inputType,n.settingsInitial,r)},ut,b);return Tt(qt.settings,qt.value,qt);function Tt(zt,pn,rn){const wn=z.correctSettingsAfterChanges({...i,...zt},pn||c);return se.length>0&&ie.isSpecialPicker&&(wn.requiredFeatures=[...wn.requiredFeatures??[],Rt.T.PickerFormulas]),X.r({...rn,settings:wn})}}#e(l){for(const e of l)console.warn(`Formula on field '${e.fieldName}' with target '${e.target}' is disabled. Reason: ${e.disabledReason}`)}#t(l,e,n){const i=this.log.fnIfInList("runAllOfField","fields",e[0].fieldName,{runParams:l,formulas:e});let r={value:void 0,validation:void 0,fields:[],options:new fi,selected:new fi,settings:{}};const c=performance.now();for(const b of e){const z={runParameters:{formula:b,...l},...n},X=this.#n(z);if(i.a("formula result",{formula:b,raw:X}),l.pickerHelper.updateFormulaSleep(b,X,i),this.promiseHandler.updateStop(b,X),this.promiseHandler.handleStopAndPromise(b,X),r=l.pickerHelper.preserveResultsAfterRun(b,r,X,i),X.fields&&r.fields.push(...X.fields),void 0!==X.value)switch(!0){case b.isValue:r.value=X.value;break;case b.isValidation:r.validation=X.value;break;case b.isSetting:r.settings=gi.keepSettingIfTypeOk(b.target,l.settingsCurrent,X.value,r.settings)}}const g=performance.now();return i.r(r,`runAllFormulas Time: ${g-c}ms`)}#n(l){const{formula:e,fieldName:n,params:i,title:r,devHelper:c,valHelper:g}=this.runOneHelper.getPartsFor(l),b=this.log.fnIfInList("runFormula","fields",n,{fieldName:n});b.a(`formula version: ${e.version}, entity: ${r}, field: ${n}, target: ${e.target}`,{formula:e});try{switch(c.showStart(),e.version){case Jr.GI.V1:const z=e.fn(i.data,i.context),{ok:X,v1Result:ie}=g.v1(z);return X?(b.a("V1 formula result is pure",{v1Raw:z,valueV1:ie}),c.showResult(ie.value,!1,!1),ie):(b.a("V1 formula result is not pure",{v1Raw:z}),console.error("V1 formulas accept only simple values in return statements. If you need to return an complex object, use V2 formulas."),g.toFormulaResult(void 0));case Jr.GI.V2:const se=e.fn(i.data,i.context),Fe=g.v2(se);return c.showResult(Fe.options??Fe.value,!1,!!Fe.promise),Fe;default:throw new Error("Formula version unknown not supported")}}catch(z){return c.showError(z),g.toFormulaResult(void 0)}}}const ll={all:!1,getFormulas:!1,runAllFields:!0,runFormula:!1,runOneFieldOrInitSettings:!1,fields:[...dt.z]};let cl=(()=>{class a{#e;constructor(e,n,i){this.designerSvc=e,this.logSvc=n,this.translate=i,this.log=(0,p.Tq)({FormulaEngine:a},ll),this.#e=(0,M.d)(al)}init(e,n,i,r,c,g){this.#t=e,this.#i=r,this.#a=c,this.#r=c.Attributes,this.#n=g,this.#e.init(i,e,n)}#t;#n;#i;#a;#r;runAllFields(e,n){const i={},r={},c=[],g=this.#e.getSharedSpecs(),b=new Ie.q(this.log.name);for(const z of this.#r){const X=this.log.fnIfInList("runAllFields","fields",z.Name,{fieldName:z.Name}),ie=n.allAttributes[z.Name],se=n.values[z.Name],Fe=n.getFieldConstants(z.Name),Ze=n.getFieldSettingsInCycle(Fe),lt=n.updateHelper.create(z.Name,z,Fe,ie),ut=n.fieldProps[z.Name]??{},Dt=new Kr.$(this.designerSvc,this.translate,this.logSvc,this.#a,this.#t,this.#n),Tt=new _a(this.#i,this.designerSvc,this.#t,Dt).runOrInitSettings(n.values,z.Name,Fe,Ze,e.item.Header,se,ut,g,lt),zt=Tt.settings;r[z.Name]=Tt.value,Tt.fields&&c.push(...Tt.fields);const rn=b.getTranslationState(ie,zt.DisableTranslation,e.languages,X.enabled);Tt.options.list&&X.a("picker options",{options:Tt.options.list,version:Tt.options.ver}),Tt.selected.list&&X.a("picker selected",{selected:Tt.selected.list,version:Tt.options.ver}),i[z.Name]={...ut,language:Fe.language,constants:Fe,settings:zt,translationState:rn,value:se,buildWrappers:null,formulaValidation:Tt.validation,opts:{...ut.opts,...Tt.options},sel:{...ut.sel,...Tt.selected}}}return{fieldsProps:i,valueUpdates:r,fieldUpdates:c}}static#s=this.\u0275fac=function(n){return new(n||a)(s.KVO(Ge.f),s.KVO(Ae.J),s.KVO(re.c$))};static#o=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var dl=m(28003);class ul{constructor(l){this.entityGuid=l,this.data={}}}const pl={all:!1,addFormulaPromise:!0,updateStop:!1,defineCallbackHandlerIfMissing:!1,changesFromQueue:!1,promiseComplete:!0,filterFormulas:!0,fields:[...dt.z]};let ml=(()=>{class a{constructor(e){this.itemSvc=e,this.log=(0,p.Tq)({FormulaPromiseHandler:a},pl),this.#e={},this.#t=null}#e;init(e,n,i,r){this.#n=e,this.#t=i,this.#i=n,this.#a=r}#t;#n;#i;#a;updateStop(e,n){const i=this.log.fnIfInList("updateStop","fields",e.fieldName,{promiseResult:n,formula:e},e.target),r=n.promise instanceof Promise,c=n.stop??(!!r||e.stop),g=`\u{1f9ea}\u23f9\ufe0f formula.stop: ${e.stop}; raw.stop: ${n.stop}; hasPromise: ${r}; newStop: ${c}`;return e.stop=c,i.end(g)}handleStopAndPromise(e,n){const i=this.log.fnIfInList("addFormulaPromise","fields",e.fieldName,{promiseResult:n,formula:e},e.target);if(!(n.promise instanceof Promise))return i.end("no promise");n.openInDesigner&&null===n.stop&&console.log("FYI: formula returned a promise. This automatically stops this formula from running again. If you want it to continue running, return stop: false");const r=n.sleep??!1;return e.promises$.next({promise:n.promise,sleep:r,completed:!1}),this.#r(e),i.end(`promise added, sleep: ${r}`)}filterFormulas(e,n){const i=this.log.fnIfInList("filterFormulas","fields",e,{enabled:n}),r=n.filter(g=>{const b=g.promises$.value;return i.a(`hasPromise: ${!!b}; completed: ${b?.completed}; sleep: ${b?.sleep}`),!b||b.completed||!b.sleep});return i.rSilent(r,`\u{1f9ea}\u{1f4ca} beforeFilter: ${n.length}; formulas: ${r.length}; `)}#r(e){const n=this.#n,i=this.log.fnIfInList("defineCallbackHandlerIfMissing","fields",e.fieldName,{formula:e,entityGuid:n},e.target);if(e.updateCallback$.value)return i.end("callback already defined");e.updateCallback$.next(r=>this.#s(e,r))}#s(e,n){const i=this.#n,r=this.log.fnIfInList("promiseComplete","fields",e.fieldName,{result:n,formula:e,entityGuid:i},e.target),c=e.fieldName,g=new dl.d(this.#i(),i,c,e.isValue,e.inputType,!1).v2(n),b=this.#e,z=b[i]??=new ul(i),X=z.data[c]??={name:c,value:e.isValue?g.value:void 0,fields:[],settings:{}};e.isSetting&&(r.a("formula promise settings"),X.settings??={},X.settings[e.settingName]=g.value),g.fields&&(r.a("formula promise fields"),X.fields.push(...g.fields)),e.stop=g.stop??e.stop,e.promiseCompleted=!0,r.end("promise complete, will retriggerFormulas",X),this.#t.retriggerFormulas("promise")}changesFromQueue(e){const n=this.#e[this.#n];if(this.#e[this.#n]=null,null==n||null==n.data||0===Object.keys(n.data).length)return{valueChanges:{},newFieldProps:null};const i=Object.entries(n.data),c=i.map(([se,Fe])=>({name:se,value:Fe.value})).reduce((se,{name:Fe,value:Ze})=>(se[Fe]=Ze,se),{}),g=i.filter(([se,Fe])=>Fe.fields.length>0).map(([se,Fe])=>Fe.fields).flat(),b=i.filter(([se,Fe])=>Object.keys(Fe.settings).length>0).map(([se,Fe])=>({fieldName:se,settings:Fe.settings})),z=0!==Object.keys(c).length||0!==g.length?this.#a.getValueUpdates(e,g,c):{},X=this.#i();let ie=null;if(b.length){ie={...e.fieldProps};const se=this.itemSvc.getItemAttributes(this.#n);Object.values(b).forEach(Fe=>{const Ze=Fe.fieldName,lt=e.fieldProps[Ze]?.settings;let ut={};Object.entries(Fe.settings).forEach(([Dt,qt])=>{ut=gi.keepSettingIfTypeOk(fa.si+Dt,lt,qt,ut);const zt=e.getFieldConstants(Ze),pn=X.Attributes.find(da=>da.Name===Ze),rn=e.updateHelper.create(Ze,pn,zt,se[Ze]),wn={...lt,...ut},ca=rn.correctSettingsAfterChanges(wn,e.values[Ze]);ie[Ze]={...ie[Ze],settings:ca}})})}return{valueChanges:z,newFieldProps:ie}}static#o=this.\u0275fac=function(n){return new(n||a)(s.KVO(G.b))};static#l=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Je=m(4202);const Et_AdamWrapper="app-adam-wrapper",Et_CollapsibleWrapper="app-collapsible-wrapper",Et_DropzoneWrapper="app-dropzone-wrapper",Et_PickerExpandableWrapper="app-picker-expandable-wrapper",Et_ExpandableWrapper="app-expandable-wrapper",Et_HiddenWrapper="app-hidden-wrapper",Et_FeatureWarningWrapper="app-feat-warnings-wrapper",Et_HyperlinkDefaultExpandableWrapper="app-hyperlink-default-expandable-wrapper",Et_HyperlinkLibraryExpandableWrapper="app-hyperlink-library-expandable-wrapper",Et_LocalizationWrapper="app-localization-wrapper",on={wrappers:["app-localization-wrapper"]};class hl{static getWrappers(l,e){const n=e.inputType;if(oe.Q.isMessage(n))return[];if(oe.Q.isGroupStart(n))return["app-collapsible-wrapper"];const i=["app-hidden-wrapper"];return[Je.u.EntityDefault,Je.u.StringDropdownQuery,Je.u.EntityQuery,Je.u.EntityContentBlocks,Je.u.StringDropdown,Je.u.EntityPicker,Je.u.StringPicker,Je.u.NumberPicker].includes(n)&&(i.push("app-feat-warnings-wrapper"),i.push("app-localization-wrapper"),((l.AllowMultiValue??!1)||n===Je.u.EntityContentBlocks)&&i.push("app-picker-expandable-wrapper")),e.isExternal&&i.push("app-dropzone-wrapper","app-localization-wrapper","app-expandable-wrapper","app-adam-wrapper"),i}}const fl={all:!1,getCycleSettingsAndValues:!1,getLatestSettingsAndValues:!1};class va{constructor(l,e,n,i,r,c){this.engine=l,this.initialValues=e,this.fieldProps=n,this.allAttributes=i,this.updateHelper=r,this.fieldConstants=c,this.log=(0,p.Tq)({FieldsPropsEngineCycle:va},fl),this.values={...e}}getFieldConstants(l){return this.fieldConstants.find(e=>e.fieldName===l)}getCycleSettingsAndValues(){const l=this.log.fnIf("getCycleSettingsAndValues");for(let n=0;n<5;n++){const i=this.#e(n),r={...this.values,...i.valueChanges};if((0,_n.A)(this.fieldProps,i.props)&&(0,_n.A)(this.values,r)){l.a("No more changes, stable, exit");break}this.fieldProps=i.props,this.values=r}return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,[],this.values,this.initialValues),props:this.fieldProps}}#e(l){const e=this.log.fnIf("getLatestSettingsAndValues",{loopIndex:l}),n=0===Object.keys(this.fieldProps).length;if(n)e.a("First round, no queue to process");else{const{valueChanges:b,newFieldProps:z}=this.engine.formulaPromises.changesFromQueue(this);z&&(e.a("New field props from queue",{newFieldProps:z}),this.fieldProps=z),Object.keys(b).length>0&&(e.a("Value changes from queue",{valueChanges:b}),this.values={...this.values,...b})}const{fieldsProps:i,valueUpdates:r,fieldUpdates:c}=this.engine.formulaEngine.runAllFields(this.engine,this);for(const[b,z]of Object.entries(i))z.buildWrappers=n?hl.getWrappers(z.settings,z.constants.inputTypeSpecs):this.fieldProps[b]?.buildWrappers;return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,c,r),props:i}}getFieldSettingsInCycle(l){const e=this.fieldProps[l.fieldName];return l.language==e?.language?e?.settings??{...l.settingsInitial}:{...l.settingsInitial}}}class _i{constructor(l){this.defaultIsShow=!0,this.fields=null,this.log=(0,p.Tq)({ItemFieldVisibility:_i});const e=this.log.fn("ctor",{identifier:l});var n=l.ClientData?.fields;if(null==n||""==n)return void e.end("no fields specified");this.defaultIsShow="-"==n[0],this.defaultIsShow&&(n=n.substring(1));const i=!this.defaultIsShow;this.fields=n.toLowerCase().split(",").reduce((r,c)=>(r[c]=i,r),{}),e.end("",{fields:this.fields,defaultIsShow:this.defaultIsShow})}hasRules(){return null!=this.fields}isVisibleDisabled(l){const e=this.log.fn("isVisibleDisabled",{fieldName:l});if(!this.hasRules())return e.r(!1,"no rules");const n=this.fields[l.toLowerCase()];return e.r(!(n??this.defaultIsShow))}static mergedVisible(l){return l.Visible&&!l.VisibleDisabled}makeParentGroupsVisible(l){const e=this.log.fn("makeParentGroupsVisible",{allConstFieldParts:l});if(!this.hasRules())return e.r(l,"no rules, no changes");try{l.forEach((n,i)=>{if(oe.Q.isGroupStart(n.inputTypeSpecs.inputType)&&0!=n.settingsInitial.VisibleDisabled)for(let r=i+1;r<l.length;r++){const c=l[r];if(oe.Q.endsPreviousGroup(c.inputTypeSpecs.inputType))return;if(0==c.settingsInitial.VisibleDisabled)return e.a("Forced visible",{fieldName:n.fieldName,reason:c.fieldName}),void(n.settingsInitial.VisibleDisabled=!1)}})}catch(n){console.error("Error trying to set item field visibility",n)}return l}}const _l={all:!1,stablePartsOfLanguage:!1,stablePartOfField:!0,constantPartsOfField:!1,constantFieldParts:!1,staticPartsOfField:!1,fields:[...dt.z]};let vl=(()=>{class a{constructor(e,n){this.formConfig=e,this.inputTypeSvc=n,this.log=(0,p.Tq)({FieldsSettingsConstantsService:a},_l),this.#e=new Ie.q(this.log.name)}#e;init(e,n,i,r,c){return this.#t=e,this.#r=n,this.#n=new _i(e.Header),this.#i=i,this.#a=r,this.#s=c,this}#t;#n;#i;#a;#r;#s;stableDataOfLanguage(){const e=this.#t.Entity.Guid,n=this.#t.Entity.Id,i=this.#r.Id,r=this.#l(e,n,i);return(0,le.bo)("stableDataOfLanguage",()=>this.#o(this.#i(),this.#a(),r))}#o(e,n,i){const r=this.#r,c=this.log.fnIf("stablePartsOfLanguage",{contentType:r,entityReader:e}),g=r.Attributes.map(z=>{const X=z.Name,ie=this.log.fnIfInList("stablePartOfField","fields",X,{fieldName:X}),se=this.inputTypeSvc.get(z.InputType),Fe=e.flatten(z.Metadata);if(n.current!==e.current){const Dt=n.flatten(z.Metadata);Fe.Name=Dt.Name??Fe.Name,Fe.Placeholder=Dt.Placeholder??Fe.Placeholder,Fe.Notes=Dt.Notes??Fe.Notes}const Ze=this.#e.mergeGenericSettings(X,Fe);Ze.InputType=z.InputType,Ze.VisibleDisabled=this.#n.isVisibleDisabled(z.Name);const lt=this.#e.getDefaultSettings(Ze),ut={...i.find(Dt=>Dt.fieldName===z.Name),settingsInitial:lt,inputTypeConfiguration:se,language:e.current};return ie.r(ut)}),b=this.#n.makeParentGroupsVisible(g);return c.r(b)}#l(e,n,i){const r=this.#r,c=this.log.fnIf("constantPartsOfField",{entityGuid:e,entityId:n,contentTypeNameId:i}),g=this.formConfig.language(),b=new he.bT(g.initial,g.primary),z=this.#s.pickerData,X=this.formConfig.config;c.a("shared across fields",{entityGuid:e,entityId:n,contentTypeNameId:i,language:g,allPickers:z});const ie=r.Attributes.map((se,Fe)=>{const Ze=se.Name,lt=this.log.fnIfInList("constantFieldParts","fields",Ze,{fieldName:Ze,index:Fe}),ut=b.flatten(se.Metadata),Dt=this.#e.getDefaultSettings(ut),qt=Dt.Disabled??!1,Tt=this.inputTypeSvc.getSpecs(se);lt.a("details",{fieldName:Ze,contentType:r,language:g,attr:se,initialSettings:Dt,inputTypeSpecs:Tt});const zt=ve.y.singleton().get(se.InputType),pn={entityGuid:e,entityId:n,contentTypeNameId:i,fieldName:Ze,index:Fe,dropzonePreviewsClass:`dropzone-previews-${X.formId}-${Fe}`,initialDisabled:qt,inputTypeSpecs:Tt,isLastInGroup:this.#e.isLastInGroup(r,se),type:se.Type,logic:zt,pickerData:()=>z[Ze]??null};return lt.r(pn)});return c.r(ie)}static#c=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S),s.KVO(A.A))};static#d=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();class Zr{static isRequired(l){return!this.#u(l)&&l.Required}static getValidators(l,e){const n=[e!==Je.u.HyperlinkLibrary?this.#t(l):this.#n(l),this.#i(l),this.#a(l),this.#r(l),this.#s(l),this.#o(l),this.#l(l),this.#d(l)];return e===Je.u.CustomJsonEditor&&n.push(this.#c(l)),n}static#e(l,e){const n=e.settings();return this.#u(n)?null:n}static#t(l){return e=>{const n=this.#e(e,l);return null!=n&&n.valueRequired?Q.k0.required(e):null}}static#n(l){return e=>{const n=this.#e(e,l);return null!=n&&n.valueRequired&&0===e.adamItems?{required:!0}:null}}static#i(l){return e=>{const n=this.#e(e,l);return null!=n&&n.ValidationRegExJavaScript?Q.k0.pattern(n.ValidationRegExJavaScript)(e):null}}static#a(l){return e=>{const n=this.#e(e,l);if(null==n?.Decimals||n.Decimals<0||null==e.value)return null;const i=0===n.Decimals?"^-?[0-9]+$":`^-?[0-9]+(.[0-9]{1,${n.Decimals}})?$`;return e.value.toString().match(i)?null:{decimals:!0}}}static#r(l){return e=>{const n=this.#e(e,l);return null==n?.Min?null:Q.k0.min(n.Min)(e)}}static#s(l){return e=>{const n=this.#e(e,l);return null==n?.Max?null:Q.k0.max(n.Max)(e)}}static#o(l){return e=>{const n=this.#e(e,l);return null==n||0==n.AllowMultiMin||null==n.AllowMultiMin?null:qr(e,l,n)<n.AllowMultiMin?{minNoItems:n.AllowMultiMin}:null}}static#l(l){return e=>{const n=this.#e(e,l);return null==n||0==n.AllowMultiMax||null==n.AllowMultiMax?null:qr(e,l,n)>n.AllowMultiMax?{maxNoItems:n.AllowMultiMax}:null}}static#c(l){return e=>{const n=l.settings();let i,r;const c=n.JsonValidation;if(this.#u(n)||"none"===c||!e.value)i=!1,r=!1;else try{JSON.parse(e.value),i=!1,r=!1}catch{"strict"===c?(i=!0,r=!1):"light"===c&&(i=!1,r=!0)}return e._warning=r?{jsonWarning:!0}:null,i?{jsonError:!0}:null}}static#d(l){return e=>{const n=l.props().formulaValidation,{error:i,warning:r}=this.#u(l.settings())||null==n?{error:!1,warning:!1}:"error"===n.severity?{error:!0,warning:!1}:"warning"===n.severity?{error:!1,warning:!0}:{error:!1,warning:!1};return e._warning=r?{formulaWarning:!0,formulaMessage:n.message}:null,i?{formulaError:!0,formulaMessage:n.message}:null}}static#u(l){return!_i.mergedVisible(l)}}function qr(a,l,e){if(Array.isArray(a.value))return a.value.length;const n=l.pickerData;return null==n?function qo(a,l,e){return""==a&&e?[""]:""!=a&&a?Array.isArray(a)?a:a.split(l):[]}(a.value,e.Separator,!1).length:n.selectedAll().length}class yl{constructor(l,e,n,i,r){this.fieldName=l,this.inputType=e,this.props=i,this.pickersGet=r,this.settings=n}get pickerData(){return this.pickersGet()?.[this.fieldName]??null}}const bl={all:!1,correctSettingsAfterChanges:!0,schemaDisablesTranslation:!1,getDisabledBecauseTranslations:!1,fields:[...dt.z]};class ya{constructor(l,e,n,i,r){this.contentTypeMetadata=l,this.language=e,this.fieldLogicTools=n,this.formReadOnly=i,this.slotIsEmpty=r,this.log=(0,p.Tq)({FieldSettingsUpdateHelperFactory:ya})}create(l,e,n,i){return new ba(l,this.contentTypeMetadata,this.language,this.fieldLogicTools,this.formReadOnly,this.slotIsEmpty,e,n,i)}}class ba{constructor(l,e,n,i,r,c,g,b,z){this.fieldName=l,this.contentTypeMetadata=e,this.language=n,this.fieldLogicTools=i,this.formReadOnly=r,this.formSlotIsEmpty=c,this.attribute=g,this.constantFieldPart=b,this.attributeValues=z,this.log=(0,p.Tq)({FieldSettingsUpdateHelper:ba},bl)}correctSettingsAfterChanges(l,e){const n=this.log.fnIfInList("correctSettingsAfterChanges","fields",this.fieldName,()=>({settings:l,fieldValue:e})),i=this.constantFieldPart,r=this.formSlotIsEmpty();l.Name=l.Name||this.attribute.Name,l.valueRequired=Zr.isRequired(l);const c=this.#e();l.DisableTranslation=r||c,l.uiDisabledInThisLanguage=this.#t(l.DisableTranslation),l.uiDisabledForced=r||l.uiDisabledInThisLanguage||this.formReadOnly,l.uiDisabled=l.uiDisabledForced||l.Disabled,l.DisableAutoTranslation=i.settingsInitial.DisableAutoTranslation||l.DisableTranslation;const g=i.logic?.update({fieldName:this.fieldName,settings:l,value:e,tools:this.fieldLogicTools})??l;return n.r(g)}#e(){this.log.fnIfInList("schemaDisablesTranslation","fields",this.fieldName);const e=this.contentTypeMetadata,n=this.constantFieldPart.inputTypeConfiguration,i=this.attributeValues,r=this.attribute.Metadata;if(e.find(g=>"LanguagesDecorator"===g.Type.Name)?.Attributes.Enabled?.Values.some(g=>!1===g.value)||n?.DisableI18n||!new be.U(i,this.language).hasPrimary)return!0;for(const g of r??[])if(g.Attributes.DisableTranslation?.Values.some(b=>!0===b.value))return!0;return!1}#t(l){const e=this.log.fnIfInList("getDisabledBecauseTranslations","fields",this.fieldName),n=this.attributeValues,i=this.language;if(i.current===i.primary)return e.r(!1,"enabled, primary language");const r=new be.U(n,i);return l?e.r(!0,"disabled, disableTranslation"):r.hasPrimary?r.hasEditableValues?e.r(!1,"disabled, has editable value"):e.r(!0,r.hasCurrentReadonly?"enabled, has readonly value":"enabled, no rule applies"):e.r(!0,"disabled, no value on primary")}}var Ca=m(6953);class xa{constructor(l,e){this.contentType=l,this.slotIsEmpty=e,this.log=(0,p.Tq)({FieldsValuesModifiedHelper:xa})}getValueUpdates(l,e,n,i){const r=this.contentType(),c=this.slotIsEmpty();i??=l.values;const g=l.fieldProps,b=this.log.fn("getValueUpdates",{contentType:r,originalValues:i,fieldsProps:g,valueUpdates:n,valueUpdatesFromSideEffects:e,slotIsEmpty:c});if(c)return b.r({},"Slot is empty, exit early");const X=r.Attributes.map(ie=>({name:ie.Name,original:i[ie.Name]})).filter(ie=>void 0!==ie.original&&!g[ie.name]?.settings.uiDisabledForced).map(ie=>({...ie,value:this.#e(ie.name,e,n)})).filter(ie=>void 0!==ie.value&&!Ca.$.fieldValuesAreEqual(ie.original,ie.value)).reduce((ie,se)=>(ie[se.name]=se.value,ie),{});return b.rSilent(X)}#e(l,e,n){const i=e.filter(c=>c.name===l),r=i[i.length-1]?.value;return r??n[l]}}const Cl={all:!1,init:!0,getPickers:!0};let xl=(()=>{class a{#e;#t;#n;#i;#a;#r;#s;#o;constructor(){this.log=(0,p.Tq)({FieldsPropsEngine:a},Cl),this.#e=(0,s.WQX)(k.S),this.#t=(0,s.WQX)(ee.B),this.#n=(0,s.WQX)(jt),this.#i=(0,s.WQX)(H.k),this.#a=(0,s.WQX)(G.b),this.#r=(0,M.d)(vl),this.#s=(0,M.d)(il),this.formulaEngine=(0,M.d)(cl),this.formulaPromises=(0,M.d)(ml)}init(e,n,i,r,c,g,b,z=null){this.log.extendName(`[${n.substring(0,8)}]`);const X=this.log.fnIf("init",{entityGuid:n,item:i,contentType:r,reader:c,forceDebug:z});null!=z&&this.log.forceEnable(z),this.item=i,this.languages=c(),this.#o=b;const ie=this.#a.slotIsEmpty(n),se=r();return this.pickerData=this.#s.createPickersForAttributes(se.Attributes),X.a("Pickers created",this.pickerData),this.#c=this.#r.init(i,se,c,g,e).stableDataOfLanguage(),this.#l=this.#u(c,se,ie),this.modifiedChecker=new xa(r,ie),this.formulaPromises.init(n,r,e,this.modifiedChecker),this.formulaEngine.init(n,i.Header,e,this.formulaPromises,se,e.contentTypeSettings()._itemTitle),this.#d=this.#a.itemAttributesSignal(n),this}#l;#c;#d;getLatestSettingsAndValues(e){this.log.fn("getLatestSettingsAndValues");const i=this.#o.values();this.languages=this.#e.language();const r=this.#d(),c=this.#l(),g=this.#c();return this.cycle=new va(this,i,e,r,c,g),this.cycle.getCycleSettingsAndValues().props}#u(e,n,i){return(0,le.bo)("prepared-parts",()=>{const c=e(),g=c,b=this.#t.isDebug(),z=this.#n.readOnly(),X={eavConfig:this.#e.config,reader:c,debug:b,contentTypeItemSvc:this.#i};return new ya(n.Metadata,g,X,z.isReadOnly,i)})}static#m=this.\u0275fac=function(n){return new(n||a)};static#h=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();class Ma{constructor(l){this.entityGuid=l,this.log=(0,p.Tq)({FieldsPropertiesUpdates:Ma}),this.fieldPropsMixins={},this.log.extendName(`[${l.substring(0,8)}]`)}hasChanges(){return Object.keys(this.fieldPropsMixins).length>0}updateSetting(l,e,n,i){const r=0===Object.keys(this.fieldPropsMixins).length,c=this.log.fn("updateSetting",{source:n,fieldName:l,update:e,queueWasEmpty:r}),g=i()[l].settings,b={...g,...e};if((0,_n.A)(g,b))return c.end(`no change; entityGuid: ${this.entityGuid}; fieldName: ${l}`);this.fieldPropsMixins[l]={...this.fieldPropsMixins[l]??{},...e},c.end("added to queue",{before:g,after:b,update:e})}mergeMixins(l){const e=this.log.fn("mergeMixins",{before:l,mixins:this.fieldPropsMixins}),n=this.fieldPropsMixins;if(0===Object.keys(n).length)return l;const i=Object.keys(n).reduce((r,c)=>{const g=r[c],b=n[c];return{...r,[c]:{...g,settings:{...g.settings,...b}}}},l);return this.fieldPropsMixins={},e.r(i,"merged")}}const Ml={all:!1,startSync:!0,filterRelevant:!0,transferPickerData:!0};class wa{constructor(){this.log=(0,p.Tq)({FieldSettingsPickerUpdater:wa},Ml)}startSync(l){const e=this.log.fnIf("startSync",{source:l}),n=(0,le.bo)("optsOnly",()=>this.#e(l(),"opts")),i=(0,le.bo)("selOnly",()=>this.#e(l(),"sel"));(0,Pe.QZ)(()=>this.#t(n(),"opts")),(0,Pe.QZ)(()=>this.#t(i(),"sel")),e.end()}#e(l,e){if(!l)return[];const n=Object.entries(l).filter(([r,c])=>c[e]?.list).map(([r,c])=>({field:r,list:c[e].list,pickerData:c.constants.pickerData}));return this.log.fnIf("filterRelevant",{count:n.length,toTransfer:n},e).rSilent(n)}#t(l,e){if(!l.length)return;const n=this.log.fnIf("transferPickerData",{count:l.length,toTransfer:l},`\u{1f9ea}\u{1f501}${e}`);for(const{field:i,list:r,pickerData:c}of l){n.a("Transfer",{field:i,list:r});const g=c();("opts"==e?g.optionsOverride:g.selectedOverride).set(r)}}}var ka=m(23151),wl=m(45839),kl=m(49934),Sl=m(92484),Dl=m(14138),Tl=m(32549),El=m(19247),Il=m(3101),Al=m(68104),Fl=m(69913);const Ll={logChanges:!1};let Vl=(()=>{class a{constructor(e){if(this.itemSvc=e,this.log=(0,p.Tq)({FieldsSignalsHelper:a},Ll),this.#t=(0,le.KX)("itemGuid",null),this.#n=(0,le.KX)("attributesLazy",null),this.log.specs.logChanges){const n=(0,p.Tq)("FieldValues");n.a("will log value changes");let i={};(0,Pe.QZ)(()=>{const r=this.#t();if(!r)return n.a("no guid");const c=this.values(),g=function Rl(a,l){return function e(n,i){return function Pl(a,l,e){var n=(0,El.A)(a),i=n||(0,Il.A)(a)||(0,Fl.A)(a);if(l=(0,Dl.A)(l,4),null==e){var r=a&&a.constructor;e=i?n?new r:[]:(0,ka.A)(a)&&(0,Al.A)(r)?(0,kl.A)((0,Tl.A)(a)):{}}return(i?wl.A:Sl.A)(a,function(c,g,b){return l(e,c,g,b)}),e}(n,function(r,c,g){(0,_n.A)(c,i[g])||(r[g]=(0,ka.A)(c)&&(0,ka.A)(i[g])?e(c,i[g]):c)})}(a,l)}(c,i);i=c,n.a(`changed on guid: ${r}`,g)})}}#e;#t;init(e,n){this.#t.set(e),this.#r=new Te.K(e),this.#e=n;const i=this.itemSvc.itemAttributesSignal(e);return null==i&&console.error("item-entity-attributes is null"),this.#n.set(i),this}#n;get values(){const e=this.log.fn("get-values",{itemGuid:this.#t});if(null!=this.#i)return e.rSilent(this.#i,"cached");const n=this.#a();return this.#i=n,e.rSilent(this.#i,"generated")}#i;#a(){return(0,le.bo)(`${this.#t().substring(0,8)}-ALL`,()=>{const n=this.log.fn("values"),i=this.#e(),r=this.#n();if(null==r)return n.r({},"attributes is null");const c=r();return c&&0!=Object.keys(c).length?i.currentValues(c):n.r({},"attributes is empty")})}get(e){const n=this.log.fn("get",{field:e}),i=this.#s(e);return n.rSilent(i)}#r;#s(e){const n=this.log.fn("#fieldValueOrNullSignal",{fieldName:e}),i=this.#r.getOrCreateWithInfo(e,()=>{const r=this.#n();if(null==r)return null;const c=r();if(!c||0==Object.keys(c).length)return null;const g=c[e],b=g?.Values;return null==b||0==b.length?null:this.#e().getBestValue(g)});return n.rSilent(i.signal,`isNew: ${i.isNew}`)}static#o=this.\u0275fac=function(n){return new(n||a)(s.KVO(G.b))};static#l=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const Yl={effectTransferPickerData:!0,regenerateProps:!0,type:"",activateAnalyzer:!1};let vn=(()=>{class a{#e;#t;#n;#i;#a;#r;#s;constructor(){this.log=(0,p.Tq)({FieldsSettingsService:a},Yl),this.#e=(0,s.WQX)(He.A),this.#t=(0,s.WQX)(k.S),this.#n=(0,s.WQX)(W.n),this.#i=(0,s.WQX)(G.b),this.#a=(0,M.d)(f.L),this.#r=(0,M.d)(xl),this.#s=new wa,this.allProps=(0,le.KX)("allProps",{}),this.#o=(0,s.vPA)(!1),this.#c=(0,le.KX)("forceRefresh",0),this.#d=(0,le.KX)("disabled",!1),this.#m=this.#e.getEntityReader(this.#t.config.formId),this.#h=(0,le.bo)("labelReader",()=>{const n=this.#m(),i=this.#a.value("form");return i?new he.bT({current:i,primary:n.primary}):n}),this.#p=(0,s.vPA)(null),this.#f=(0,Pe.EW)(()=>this.#p()?this.#n.getContentTypeOfItem(this.#p()):null),this.contentTypeSettings=(0,Pe.EW)(()=>this.#p()?he.im.getDefaultSettings(this.#h(),this.#f(),this.#p().Header):null),this.#g=(0,M.d)(Vl),this.#v=new Te.K("field-props"),this.fieldProps=this.#v.buildProxy(n=>()=>this.allProps()[n]),this.#y=new Te.K("fields"),this.settings=this.#y.buildProxy(n=>()=>this.allProps()[n].settings),this.translationState=Te.K.proxy("transl-state",n=>()=>this.allProps()[n].translationState);const e=(0,le.bo)("allPropsOrNull",()=>this.#o()&&this.#l());(0,Pe.QZ)(()=>{const n=e();n&&this.allProps.set(n)}),this.#s.startSync(e)}disableForCleanUp(){this.log.fn("cleanUp"),this.#d.set(!0)}#o;#l;#c;#d;#u;#m;#h;#p;#f;#g;init(e){const n=this.#i.get(e);this.#p.set(n),this.#u=new Ma(e);const i=this.#f(),r=this.log.specs.type,c=null===r?null:i.Id===r;null!==c&&(this.log.a(`Set debug for content type '${i.Id}' to ${c}, only debugging ${r}`),this.log.forceEnable(c));const g=this.#i.slotIsEmpty(e);this.#g.init(e,this.#m),this.#r.init(this,e,n,this.#f,this.#m,this.#h,this.#g,c);const b={idMsg:`entityGuid: ${e}; contentTypeId: ${i.Id};`,cycle:0,analyzer:null,disabled:this.#d,slotIsEmpty:g,slotWasEmpty:!1,forceRefresh:this.#c,watchRestart:(0,s.vPA)(0),prevFieldProps:{},hasRunOnce:!1};setInterval(()=>{b.cycle>10&&setTimeout(()=>(this.log.a(`restarting max cycles from ${b.cycle}; ${b.idMsg}`),b.watchRestart.update(z=>z+1)),500),b.cycle=0},250),this.#l=(0,le.bo)("allFieldProps",()=>this.#_(b)),this.log.specs.activateAnalyzer&&(b.analyzer=new it(this.#l)),this.#o.set(!0)}#_(e){e.analyzer&&console.log("analyzer",{fieldProps:this.allProps},e.analyzer.snapShotProducers(!0));const n=this.log.fnIf("regenerateProps",{cycle:e.cycle,props:this.allProps},e.idMsg),i=e.slotIsEmpty();if((this.#d()||i&&i==e.slotWasEmpty)&&e.hasRunOnce)return n.r(e.prevFieldProps,"disabled or slotIsEmpty");if(e.hasRunOnce=!0,e.slotWasEmpty=i,this.#c(),e.cycle++>10){const b=`Max cycles reached, stopping for this second; cycle: ${e.cycle}; ${e.idMsg};`;return console.warn(b),e.watchRestart(),n.r(e.prevFieldProps,b)}const c=this.#u.hasChanges()?this.#u.mergeMixins(e.prevFieldProps):e.prevFieldProps,g=this.#r.getLatestSettingsAndValues(c);return e.prevFieldProps=g,n.rSilent(g,"normal update")}#v;#y;retriggerFormulas(e){this.log.fn("retriggerFormulas",{source:e}),this.#c.update(n=>n+1)}updateSetting(e,n,i){this.#u.updateSetting(e,n,i,this.allProps),setTimeout(()=>this.retriggerFormulas("updateSetting"),10)}get pickerData(){return this.#r.pickerData}static#b=this.\u0275fac=function(n){return new(n||a)};static#C=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Sn=m(50052),vi=m(79868),Bl=m(69765);class Sa{constructor(l){this.getFieldsProps=l,this.log=(0,p.Tq)({FieldTranslationInfo:Sa})}get#e(){return this.#t??=this.getFieldsProps().settings}#t;get isAutoTranslatable(){return!this.DisableTranslation&&!this.DisableAutoTranslation}get notForAutoTranslateBecauseOfType(){return!this.DisableTranslation&&this.autoTranslateIsDisabledByTypeButNotByConfig()}get DisableTranslation(){return this.#e.DisableTranslation}get DisableAutoTranslation(){return this.#e.DisableAutoTranslation}autoTranslateIsDisabledByTypeButNotByConfig(){return!this.DisableAutoTranslation&&!ve.y.singleton().get(this.getFieldsProps().constants.inputTypeSpecs.inputType).canAutoTranslate}}var Hl=m(47215);const Gl={all:!0,constructor:!1,init:!0,unlock:!0,lock:!0,getInfo:!0,autoTranslate:!0,findAutoTranslatableFields:!0,addItemAttributeValueHelper:!0};let On=(()=>{class a{#e;constructor(e,n,i,r,c,g,b){this.http=e,this.itemService=n,this.formConfig=i,this.contentTypeService=r,this.fieldsSettingsService=c,this.snackBar=g,this.translate=b,this.log=(0,p.Tq)({FieldsTranslateService:a},Gl),this.updater=this.itemService.updater,this.log.fnIf("constructor")}init(e){const n=this.log.fnIf("init");this.#t=e;const i=this.itemService.get(e);this.#n=Bl.i.getContentTypeNameId(i),this.#e=this.itemService.itemAttributesSignal(e),n.end("",{entityGuid:e,contentTypeId:this.#n})}#t;#n;unlock(e,n=!1,i){const r=this.log.fnIf("unlock",{fieldName:e,isTransaction:n,transactionItem:i});if(this.#i(e).DisableTranslation)return r.rNull("Translation is disabled for this field.");const c=this.formConfig.language();i=this.updater.removeItemAttributeDimension(this.#t,e,c.current,n,i);const g=this.#e()[e],b=null!=new be.U(g,c).currentEditable,X=new be.U(g,vi.N.bothPrimary(c)).current;return b?r.rNull():r.r(this.#a(e,X.value,c.current,!1))}lock(e,n=!1,i){const r=this.log.fnIf("lock",{fieldName:e,isTransaction:n,transactionItem:i});if(this.#i(e).DisableTranslation)return r.rNull("Translation is disabled for this field.");const c=this.formConfig.language();return this.updater.removeItemAttributeDimension(this.#t,e,c.current,n,i)}toggleUnlockOnAll(e){const n=this.findTranslatableFields();if(0===n.length)return this.showMessageNoTranslatableFields(!1);let i;for(const r of n){const c=r!==n[n.length-1];i=e?this.unlock(r,c,i):this.lock(r,c,i)}}showMessageNoTranslatableFields(e){const n=this.translate.instant("LangMenu.NoAutoTranslatableFieldsFound".replace("Auto",e?"Auto":""));this.snackBar.open(n,null,{duration:2e3})}autoTranslate(e,n,i=!1,r=!1){this.log.fnIf("autoTranslate",{fieldNames:e,autoTranslateLanguageKey:n,isMany:i,areAllChecksKnown:r});const g=this.formConfig.settings.Values[Sn.Ox.GoogleTranslate];g.IsDemo&&alert("This translation is a demo. Please provide your own Google Translate API key in the EAV configuration.");const b=this.formConfig.language(),z=this.#e(),X=(e=e.filter(se=>!this.#i(se).DisableTranslation)).map(se=>new be.U(z[se],n).currentEditable.value);r||e.forEach((se,Fe)=>{const Ze=X[Fe],lt=this.#i(se).autoTranslateIsDisabledByTypeButNotByConfig();(null==Ze||""===Ze||lt)&&this.unlock(se)}),this.http.post(`https://translation.googleapis.com/language/translate/v2?key=${g.ApiKey}`,{q:X,target:b.current,source:n}).subscribe(se=>{const Fe=e.map(Ze=>null!=new be.U(z[Ze],b).currentEditable);se.data.translations.forEach((Ze,lt)=>{const ut=document.createElement("textarea");ut.innerHTML=Ze.translatedText;const Dt=Fe[lt];!i&&Dt?this.updater.updateItemAttributeValue(this.#t,e[lt],ut.value,b,!1):Dt||this.#a(e[lt],ut.value,b.current,!1)})})}copyFrom(e,n){if(this.#i(e).DisableTranslation)return;const r=this.#e()[e],c=this.formConfig.language(),g=new be.U(r,c),b=g.ofLanguage(vi.N.diffCurrent(c,n));b?r&&g.isEditableOrReadonlyTranslationExist()?this.updater.updateItemAttributeValue(this.#t,e,b.value,c,!1):this.#a(e,b.value,c.current,!1):this.log.a(`${c.current}: Cant copy value from ${n} because that value does not exist.`)}linkReadOnly(e,n){this.linkToOtherField(e,n,!0)}linkReadWrite(e,n){return this.linkToOtherField(e,n,!1)}linkToOtherField(e,n,i){if(this.#i(e).DisableTranslation)return;const r=this.formConfig.language(),c=this.updater.removeItemAttributeDimension(this.#t,e,r.current,!0);this.updater.addItemAttributeDimension(this.#t,e,r.current,n,r.primary,i,c)}autoTranslateMany(e){const n=this.#e(),i=[],r=this.findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault();this.findAutoTranslatableFields().filter(b=>!r.includes(b)).forEach(b=>{const z=new be.U(n[b],e).currentEditable?.value;""!==z&&null!=z&&void 0!==z&&i.push(b)}),this.autoTranslate(i,e,!0,!0),r.forEach(b=>{this.unlock(b,!1,void 0)})}findTranslatableFields(){const e=this.#e();return Object.keys(e).filter(n=>!this.#i(n).DisableTranslation)}findAutoTranslatableFields(){const e=this.#e(),n=Object.keys(e).filter(i=>this.#i(i).isAutoTranslatable);return this.log.fnIf("findAutoTranslatableFields",{attributes:e,result:n}),n}#i(e){const n=new Sa(()=>this.fieldsSettingsService.fieldProps[e]());return this.log.fnIf("getInfo",{fieldName:e,ti:n}),n}findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault(){const e=this.#e();return Object.keys(e).filter(n=>this.#i(n).notForAutoTranslateBecauseOfType)}#a(e,n,i,r){const c=this.log.fnIf("addItemAttributeValueHelper",{fieldName:e,value:n,currentLanguage:i,isReadOnly:r}),g=this.contentTypeService.getAttribute(this.#n,e),b=this.updater.addItemAttributeValue(this.#t,e,n,i,r,g.Type);return c.r(b)}static#r=this.\u0275fac=function(n){return new(n||a)(s.KVO(Hl.Qq),s.KVO(G.b),s.KVO(k.S),s.KVO(W.n),s.KVO(vn),s.KVO(Re.UG),s.KVO(re.c$))};static#s=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Zn=m(86571),t=m(99293),It=m(84175),gt=m(53777),Rn=m(8827),Ul=m(23840),Lt=m(34601),Ln=m(69914),ln=m(75797),Pt=m(31034),yi=m(9006);const Wl=a=>({name:a});function Xl(a,l){if(1&a&&(t.j41(0,"mat-icon",0),t.EFF(1,"diamond"),t.k0s()),2&a){const e=t.XpG();t.Y8G("tippyData",t.eq3(1,Wl,e.featureNameId()))}}let ns=(()=>{class a extends yi.x{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-feature-icon-indicator"]],features:[t.Vt3],decls:1,vars:1,consts:[["tippyTranslate","Features.NotActivated",3,"tippyData"]],template:function(n,i){1&n&&t.nVh(0,Xl,2,3,"mat-icon",0),2&n&&t.vxM(i.show()?0:-1)},dependencies:[Qe.m_,Qe.An,Lt.e],encapsulation:2})}return a})();function Ql(a,l){1&a&&(t.j41(0,"mat-card-subtitle"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"LangMenu.Dialog.NoAutoTranslatableFields")," "))}function Kl(a,l){1&a&&(t.j41(0,"mat-card-subtitle"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"LangMenu.Dialog.ThisFieldIsNotAutoTranslatable")," "))}let is=(()=>{class a{constructor(e,n){this.dialog=e,this.dialogData=n}ngOnInit(){}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.k),t.rXU(d.e))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-auto-translate-disabled-warning-dialog"]],decls:11,vars:8,consts:[["align","end"],["mat-button","","color","accent",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nVh(5,Ql,3,3,"mat-card-subtitle"),t.nVh(6,Kl,3,3,"mat-card-subtitle"),t.k0s(),t.j41(7,"mat-card-actions",0)(8,"button",1),t.bIt("click",function(){return i.closeDialog()}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,4,"LangMenu.Dialog.CantAutoTranslate")," "),t.R7$(2),t.vxM(i.dialogData.isAutoTranslateAll?5:-1),t.R7$(),t.vxM(i.dialogData.isAutoTranslateAll?-1:6),t.R7$(3),t.JRh(t.bMT(10,6,"Features.Close")))},dependencies:[gt.Hu,gt.RN,gt.YY,gt.MM,gt.Lc,gt.dh,It.Hl,It.$z,re.h,re.D9],encapsulation:2})}return a})();var nn=m(2814),Jl=m(94724),as=m(6427),qn=m(66488),ei=m(82981),mn=m(27092),Vn=m(63617),Yn=m(29968),bi=m(73388),rs=m(79735),Da=m(39539),zn=m(8126);let Zl=(()=>{class a{get vertical(){return this._vertical}set vertical(e){this._vertical=(0,nn.he)(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=(0,nn.he)(e)}_inset=!1;static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(n,i){2&n&&(t.BMQ("aria-orientation",i.vertical?"vertical":"horizontal"),t.AVh("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(n,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0})}return a})(),ss=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({imports:[zn.M,zn.M]})}return a})();m(49390);var Ci=m(17738),ot=m(5758),yn=m(74879),bn=m(33900),ec=m(21072);const xi=["*"],Ta='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}\n',os=["unscopedContent"],tc=["text"],nc=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ic=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],ls=new s.nKC("ListOption");let ti=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return a})(),Ea=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return a})(),Cc=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return a})(),cs=(()=>{class a{_listOption=(0,s.WQX)(ls,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,hostVars:4,hostBindings:function(n,i){2&n&&t.AVh("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}})}return a})(),xc=(()=>{class a extends cs{static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275dir=t.FsC({type:a,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[t.Vt3]})}return a})(),Mi=(()=>{class a extends cs{static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275dir=t.FsC({type:a,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[t.Vt3]})}return a})();const Mc=new s.nKC("MAT_LIST_CONFIG");let Cn=(()=>{class a{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,nn.he)(e)}_disableRipple=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set((0,nn.he)(e))}_disabled=(0,s.vPA)(!1);_defaultOptions=(0,s.WQX)(Mc,{optional:!0});static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,hostVars:1,hostBindings:function(n,i){2&n&&t.BMQ("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),Ia=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_ngZone=(0,s.WQX)(t.SKi);_listBase=(0,s.WQX)(Cn,{optional:!0});_platform=(0,s.WQX)(as.P);_hostElement;_isButtonElement;_noopAnimations=(0,bi._)();_avatars;_icons;set lines(e){this._explicitLines=(0,Jl.c)(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=(0,nn.he)(e)}_disableRipple=!1;get disabled(){return this._disabled()||!!this._listBase?.disabled}set disabled(e){this._disabled.set((0,nn.he)(e))}_disabled=(0,s.vPA)(!1);_subscriptions=new mn.yU;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){(0,s.WQX)(ei._).load(rs._);const e=(0,s.WQX)(Yn.a,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Yn.R(this,this._ngZone,this._hostElement,this._platform,(0,s.WQX)(s.zZn)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Vn.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const n=this._explicitLines??this._inferLinesFromContent(),i=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===n),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===n),this._hasUnscopedTextContent){const r=0===this._titles.length&&1===n;i.classList.toggle("mdc-list-item__primary-text",r),i.classList.toggle("mdc-list-item__secondary-text",!r)}else i.classList.remove("mdc-list-item__primary-text"),i.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,contentQueries:function(n,i,r){if(1&n&&(t.wni(r,xc,4),t.wni(r,Mi,4)),2&n){let c;t.mGM(c=t.lsd())&&(i._avatars=c),t.mGM(c=t.lsd())&&(i._icons=c)}},hostVars:4,hostBindings:function(n,i){2&n&&(t.BMQ("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),t.AVh("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),ds=(()=>{class a extends Cn{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],features:[t.Jv_([{provide:Cn,useExisting:a}]),t.Vt3],ngContentSelectors:xi,decls:1,vars:0,template:function(n,i){1&n&&(t.NAR(),t.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mat-list-list-item-container-color, transparent);border-radius:var(--mat-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mat-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mat-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mat-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mat-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-leading-icon-size, 24px);height:var(--mat-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mat-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mat-list-list-item-leading-avatar-size, 40px);height:var(--mat-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mat-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mat-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mat-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mat-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mat-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mat-list-list-item-trailing-icon-size, 24px);height:var(--mat-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mat-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mat-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mat-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mat-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mat-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mat-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mat-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mat-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mat-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mat-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mat-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mat-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mat-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mat-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mat-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mat-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mat-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius: var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}\n'],encapsulation:2,changeDetection:0})}return a})(),wc=(()=>{class a extends Cn{static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[t.Jv_([{provide:Cn,useExisting:a}]),t.Vt3],ngContentSelectors:xi,decls:1,vars:0,template:function(n,i){1&n&&(t.NAR(),t.SdG(0))},styles:[Ta],encapsulation:2,changeDetection:0})}return a})(),wi=(()=>{class a extends Ia{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=(0,nn.he)(e)}_activated=!1;_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,i,r){if(1&n&&(t.wni(r,Ea,5),t.wni(r,ti,5),t.wni(r,Cc,5)),2&n){let c;t.mGM(c=t.lsd())&&(i._lines=c),t.mGM(c=t.lsd())&&(i._titles=c),t.mGM(c=t.lsd())&&(i._meta=c)}},viewQuery:function(n,i){if(1&n&&(t.GBs(os,5),t.GBs(tc,5)),2&n){let r;t.mGM(r=t.lsd())&&(i._unscopedContent=r.first),t.mGM(r=t.lsd())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,i){2&n&&(t.BMQ("aria-current",i._getAriaCurrent()),t.AVh("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("mat-mdc-list-item-both-leading-and-trailing",i._hasBothLeadingAndTrailing())("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[t.Vt3],ngContentSelectors:ic,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(n,i){if(1&n){const r=t.RV6();t.NAR(nc),t.SdG(0),t.j41(1,"span",1),t.SdG(2,1),t.SdG(3,2),t.j41(4,"span",2,0),t.bIt("cdkObserveContent",function(){return s.eBV(r),s.Njj(i._updateItemLines(!0))}),t.SdG(6,3),t.k0s()(),t.SdG(7,4),t.SdG(8,5),t.nrm(9,"div",3)}},dependencies:[Da.Wv],encapsulation:2,changeDetection:0})}return a})(),ps=(()=>{class a extends Cn{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[t.Jv_([{provide:Cn,useExisting:a}]),t.Vt3],ngContentSelectors:xi,decls:1,vars:0,template:function(n,i){1&n&&(t.NAR(),t.SdG(0))},styles:[Ta],encapsulation:2,changeDetection:0})}return a})(),ki=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({imports:[Da.w5,zn.M,nt.M,ec.M,ss]})}return a})();var Ec=m(95469);const jn={NoTranslate:"NoTranslate",FromPrimary:"FromPrimary",FromOther:"FromOther",LinkReadOnly:"LinkReadOnly",LinkShared:"LinkShared"};var $t=m(55675);function ms(a,l,e,n,i){return e.filter(c=>c.NameId!==l.current).map(c=>{const b=i===$t.J.LinkReadWrite&&!c.IsAllowed||!new be.U(n[a.fieldName],vi.N.diffCurrent(l,c.NameId)).hasEditableValues;return{key:c.NameId,disabled:b}})}function Ac(a){switch(a){case $t.J.Translate:return jn.FromPrimary;case $t.J.DontTranslate:return jn.NoTranslate;case $t.J.LinkReadOnly:return jn.LinkReadOnly;case $t.J.LinkReadWrite:return jn.LinkShared;case $t.J.LinkCopyFrom:return jn.FromOther}}let hs=(()=>{class a{#e;#t;constructor(e){this.dialogData=e,this.#e=(0,s.WQX)(C.g),this.#t=(0,s.WQX)(G.b),this.formConfig=(0,s.WQX)(k.S),this.TranslationLinks=$t.J,this.I18nKeys=jn,this.language=this.formConfig.language,this.translationStateSignal=(0,s.vPA)(this.dialogData.translationState),this.translationInfo=(0,le.bo)("translationInfo",()=>{const n=this.translationStateSignal();return this.noLanguageRequired=[$t.J.Translate,$t.J.DontTranslate],{showLanguageSelection:!this.noLanguageRequired.includes(n.linkType),i18nRoot:`LangMenu.Dialog.${Ac(n.linkType)}`,submitDisabled:""===n.language&&!this.noLanguageRequired.includes(n.linkType)}}),this.languages=this.#e.getAllSignal(),this.itemAttributes=this.#t.itemAttributesSignal(this.dialogData.config.entityGuid)}static#n=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.e))};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-translate-helper-component-base"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return a})();var ni=m(32760);let Fc=(()=>{class a{constructor(){}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-snack-bar-warning-demo"]],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"snack-bar-warning-demo-white-hyperlink",3,"innerHTML"]],template:function(n,i){1&n&&(t.nrm(0,"h3",0),t.nI1(1,"translate"),t.nI1(2,"safeHtml"),t.nrm(3,"p",1),t.nI1(4,"translate"),t.nI1(5,"safeHtml")),2&n&&(t.Y8G("innerHTML",t.bMT(2,4,t.bMT(1,2,"LangMenu.SnackBar.Title")),t.npT),t.R7$(3),t.Y8G("innerHTML",t.bMT(5,8,t.bMT(4,6,"LangMenu.SnackBar.Body")),t.npT))},dependencies:[re.h,re.D9,Ln.$],styles:[".snack-bar-warning-demo-white-hyperlink a{color:#fff;text-decoration:underline}"]})}return a})();const Pc=(a,l)=>({"eav-list-item__focus":a,"list-item__disabled":l}),Oc=a=>({"list-item-icon__disabled":a});function Rc(a,l){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI("(",t.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.NoContent"),") "))}function Lc(a,l){1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.SpI("(",t.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),") "))}function Vc(a,l){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.k0s()),2&a){const e=t.XpG(4).$implicit,n=t.XpG();t.R7$(),t.E5c("(",t.bMT(2,3,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),", ",n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent," ",t.bMT(3,5,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Yc(a,l){if(1&a&&(t.j41(0,"span"),t.nVh(1,Lc,3,3,"span"),t.nVh(2,Vc,4,7,"span"),t.k0s()),2&a){const e=t.XpG(3).$implicit,n=t.XpG();t.R7$(),t.vxM(n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent==0?1:-1),t.R7$(),t.vxM(n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function zc(a,l){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.k0s()),2&a){const e=t.XpG(4).$implicit,n=t.XpG();t.R7$(),t.LHq("(",e.noTranslatableFields," ",t.bMT(2,4,"LangMenu.Dialog.AutoTranslateAll.Of")," ",n.dialogData.translatableFields.length," ",t.bMT(3,6,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields"),") ")}}function jc(a,l){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"translate"),t.k0s()),2&a){const e=t.XpG(4).$implicit,n=t.XpG();t.R7$(),t.ZXR("(",e.noTranslatableFields," ",t.bMT(2,6,"LangMenu.Dialog.AutoTranslateAll.Of")," ",n.dialogData.translatableFields.length," ",t.bMT(3,8,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields")," , ",n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent," ",t.bMT(4,10,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Nc(a,l){if(1&a&&(t.j41(0,"span"),t.nVh(1,zc,4,8,"span"),t.nVh(2,jc,5,12,"span"),t.k0s()),2&a){const e=t.XpG(3).$implicit,n=t.XpG();t.R7$(),t.vxM(n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent==0?1:-1),t.R7$(),t.vxM(n.dialogData.translatableFields.length-e.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Bc(a,l){if(1&a&&(t.j41(0,"span"),t.nVh(1,Yc,3,2,"span"),t.nVh(2,Nc,3,2,"span"),t.k0s()),2&a){const e=t.XpG(2).$implicit,n=t.XpG();t.R7$(),t.vxM(e.noTranslatableFields==n.dialogData.translatableFields.length?1:-1),t.R7$(),t.vxM(e.noTranslatableFields!=n.dialogData.translatableFields.length?2:-1)}}function Hc(a,l){if(1&a&&(t.j41(0,"span"),t.nVh(1,Rc,3,3,"span"),t.nVh(2,Bc,3,2,"span"),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.vxM(0==e.noTranslatableFields?1:-1),t.R7$(),t.vxM(0!=e.noTranslatableFields?2:-1)}}function $c(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-list-item",5),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG();return s.Njj(r.setLanguage(i.key))}),t.j41(1,"mat-icon",6),t.EFF(2,"language"),t.k0s(),t.j41(3,"span",7),t.EFF(4),t.nVh(5,Hc,3,2,"span"),t.k0s()()}if(2&a){const e=l.$implicit,n=t.XpG();t.Y8G("disabled",e.disabled||!n.isTranslateWithGoogleFeatureEnabled())("ngClass",t.l_i(5,Pc,n.translationStateSignal().language===e.key,e.disabled||!n.isTranslateWithGoogleFeatureEnabled())),t.R7$(),t.Y8G("ngClass",t.eq3(8,Oc,e.disabled)),t.R7$(3),t.SpI("",e.key," "),t.R7$(),t.vxM(n.dialogData.isTranslateMany?5:-1)}}let fs=(()=>{class a extends hs{constructor(e,n,i,r){super(n),this.dialog=e,this.dialogData=n,this.fieldsTranslateService=i,this.snackBar=r,this.features=(0,s.WQX)(_.D),this.isTranslateWithGoogleFeatureEnabled=this.features.isEnabled[Rt.T.EditUiTranslateWithGoogle],this.EditUiTranslateWithGoogle=Rt.T.EditUiTranslateWithGoogle,this.languagesSig=(0,Pe.EW)(()=>{const c=this.languages(),g=this.language(),b=this.itemAttributes(),z=this.translationStateSignal();return this.dialogData.isTranslateMany?function Ic(a,l,e,n,i){return l.filter(c=>c.NameId!==a.current).map(c=>{let g=0,b=0,z=!1;const X=vi.N.diffCurrent(a,c.NameId);return i.forEach(se=>{const Ze=new be.U(e[se],X);g+=Ze.countEditable(),b+=Ze.countEditableWithContents(),z=n===$t.J.LinkReadWrite&&!c.IsAllowed||0==g}),{key:c.NameId,disabled:z,noTranslatableFields:g,noTranslatableFieldsThatHaveContent:b}})}(g,c,b,z.linkType,this.dialogData.translatableFields):ms(this.dialogData.config,g,c,b,z.linkType)}),this.dialog.keydownEvents().subscribe(c=>{(0,ni.J)(c)&&c.preventDefault()})}ngOnInit(){this.isTranslateWithGoogleFeatureEnabled()&&this.dialog.afterClosed().subscribe(()=>this.snackBar.dismiss()),this.formConfig.settings.Values[Sn.Ox.GoogleTranslate].IsDemo&&this.snackBar.openFromComponent(Fc)}setLanguage(e){const n={...this.translationStateSignal(),language:e};this.translationStateSignal.set(n),this.dialogData.translationState.language!==n.language?(this.dialogData.isTranslateMany?this.fieldsTranslateService.autoTranslateMany(n.language):this.fieldsTranslateService.autoTranslate([this.dialogData.config.fieldName],n.language),this.closeDialog()):this.closeDialog()}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.k),t.rXU(d.e),t.rXU(On),t.rXU(Re.UG))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-auto-translate-menu-dialog"]],features:[t.Vt3],decls:13,vars:9,consts:[[1,"auto-translate-menu-dialog-card","u-hide-scrollbar"],[1,"feature-info",3,"featureNameId"],[3,"innerHTML"],[1,"eav-card-content__no-padding"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0),t.nrm(1,"app-feature-text-info",1),t.j41(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.nrm(6,"mat-card-subtitle",2),t.nI1(7,"translate"),t.nI1(8,"safeHtml"),t.k0s(),t.j41(9,"mat-card-content",3)(10,"mat-action-list"),t.Z7z(11,$c,6,10,"mat-list-item",4,t.fX1),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("featureNameId",i.EditUiTranslateWithGoogle),t.R7$(3),t.SpI(" ",t.bMT(5,3,"LangMenu.Dialog.AutoTranslateAll.Title")," "),t.R7$(2),t.Y8G("innerHTML",t.bMT(8,7,t.bMT(7,5,"LangMenu.Dialog.AutoTranslateAll.Body")),t.npT),t.R7$(5),t.Dyx(i.languagesSig()))},dependencies:[gt.Hu,gt.RN,gt.m2,gt.MM,gt.Lc,gt.dh,Ec.L,ki,ds,wi,Mi,ti,qe.YU,Qe.m_,Qe.An,re.h,re.D9,Ln.$],styles:[".auto-translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}.feature-info[_ngcontent-%COMP%]{margin:12px 12px 0}"]})}return a})();const Gc=a=>({name:a}),ii=a=>({"eav-list-item__focus":a}),hn=a=>({primary:a}),Uc=(a,l)=>({"eav-list-item__focus":a,"list-item__disabled":l}),Wc=a=>({"list-item-icon__disabled":a});function Xc(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-list-item",11),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG(2);return s.Njj(r.setLanguage(i.key))}),t.j41(1,"mat-icon",12),t.EFF(2,"language"),t.k0s(),t.j41(3,"span",5),t.EFF(4),t.k0s()()}if(2&a){const e=l.$implicit,n=t.XpG(2);t.Y8G("disabled",e.disabled)("ngClass",t.l_i(4,Uc,n.translationStateSignal().language===e.key,e.disabled)),t.R7$(),t.Y8G("ngClass",t.eq3(7,Wc,e.disabled)),t.R7$(3),t.JRh(e.key)}}function Qc(a,l){if(1&a&&(t.j41(0,"div")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"mat-action-list"),t.Z7z(9,Xc,5,9,"mat-list-item",10,t.fX1),t.k0s()()),2&a){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,2,e.translationInfo().i18nRoot+".Subtitle")," "),t.R7$(3),t.SpI(" ",t.bMT(7,4,"LangMenu.Dialog.PickLanguageIntro")," "),t.R7$(3),t.Dyx(e.languagesSig())}}let Kc=(()=>{class a extends hs{constructor(e,n,i){super(n),this.dialog=e,this.dialogData=n,this.fieldsTranslateService=i,this.languagesSig=(0,Pe.EW)(()=>{const r=this.languages(),c=this.language(),g=this.itemAttributes(),b=this.translationStateSignal();return ms(this.dialogData.config,c,r,g,b.linkType)}),this.dialog.keydownEvents().subscribe(r=>{(0,ni.J)(r)&&r.preventDefault()})}setLinkType(e){const n={linkType:e,language:this.noLanguageRequired.includes(e)?"":this.translationStateSignal().language};this.translationStateSignal.set(n)}setLanguage(e){const n={...this.translationStateSignal(),language:e};this.translationStateSignal.set(n)}run(){const e=this.translationStateSignal(),n=this.dialogData.translationState;if(n.linkType===e.linkType&&n.language===e.language)return this.closeDialog();switch(e.linkType){case $t.J.Translate:this.fieldsTranslateService.unlock(this.dialogData.config.fieldName);break;case $t.J.DontTranslate:this.fieldsTranslateService.lock(this.dialogData.config.fieldName);break;case $t.J.LinkReadOnly:this.fieldsTranslateService.linkReadOnly(this.dialogData.config.fieldName,e.language);break;case $t.J.LinkReadWrite:this.fieldsTranslateService.linkReadWrite(this.dialogData.config.fieldName,e.language);break;case $t.J.LinkCopyFrom:this.fieldsTranslateService.copyFrom(this.dialogData.config.fieldName,e.language)}this.closeDialog()}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.k),t.rXU(d.e),t.rXU(On))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-translate-menu-dialog"]],features:[t.Vt3],decls:59,vars:86,consts:[[1,"translate-menu-dialog-card","u-hide-scrollbar"],[1,"eav-card-content__no-padding"],["toggle","","focus",""],[3,"click","ngClass"],["matListItemIcon","","color","accent"],["matListItemTitle",""],["matListItemLine",""],["lines","3",3,"click","ngClass"],["align","end"],["mat-button","","color","accent",3,"click","disabled"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"mat-card-content",1)(9,"mat-nav-list",2)(10,"mat-list-item",3),t.bIt("click",function(){return i.setLinkType(i.TranslationLinks.DontTranslate)}),t.j41(11,"mat-icon",4),t.EFF(12,"lock"),t.k0s(),t.j41(13,"span",5),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"span",6),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"mat-list-item",7),t.bIt("click",function(){return i.setLinkType(i.TranslationLinks.Translate)}),t.j41(20,"mat-icon",4),t.EFF(21,"lock_open"),t.k0s(),t.j41(22,"span",5),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"span"),t.EFF(26),t.nI1(27,"translate"),t.k0s()(),t.j41(28,"mat-list-item",7),t.bIt("click",function(){return i.setLinkType(i.TranslationLinks.LinkCopyFrom)}),t.j41(29,"mat-icon",4),t.EFF(30,"translate"),t.k0s(),t.j41(31,"span",5),t.EFF(32),t.nI1(33,"translate"),t.k0s(),t.j41(34,"span"),t.EFF(35),t.nI1(36,"translate"),t.k0s()(),t.j41(37,"mat-list-item",3),t.bIt("click",function(){return i.setLinkType(i.TranslationLinks.LinkReadOnly)}),t.j41(38,"mat-icon",4),t.EFF(39,"link"),t.k0s(),t.j41(40,"span",5),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.j41(43,"span",6),t.EFF(44),t.nI1(45,"translate"),t.k0s()(),t.j41(46,"mat-list-item",7),t.bIt("click",function(){return i.setLinkType(i.TranslationLinks.LinkReadWrite)}),t.j41(47,"mat-icon",4),t.EFF(48,"share"),t.k0s(),t.j41(49,"span",5),t.EFF(50),t.nI1(51,"translate"),t.k0s(),t.j41(52,"span"),t.EFF(53),t.nI1(54,"translate"),t.k0s()()(),t.nVh(55,Qc,11,6,"div"),t.k0s(),t.j41(56,"mat-card-actions",8)(57,"button",9),t.bIt("click",function(){return i.run()}),t.EFF(58,"OK"),t.k0s()()()),2&n&&(t.R7$(3),t.SpI(" ",t.i5U(4,19,"LangMenu.Dialog.Title",t.eq3(54,Gc,i.dialogData.config.fieldName))," "),t.R7$(3),t.SpI(" ",t.bMT(7,22,"LangMenu.Dialog.Intro")," "),t.R7$(4),t.Y8G("ngClass",t.eq3(56,ii,i.translationStateSignal().linkType===i.TranslationLinks.DontTranslate)),t.R7$(4),t.JRh(t.i5U(15,24,"LangMenu.Dialog."+i.I18nKeys.NoTranslate+".Title",t.eq3(58,hn,i.language().primary))),t.R7$(3),t.JRh(t.i5U(18,27,"LangMenu.Dialog."+i.I18nKeys.NoTranslate+".Body",t.eq3(60,hn,i.language().primary))),t.R7$(2),t.Y8G("ngClass",t.eq3(62,ii,i.translationStateSignal().linkType===i.TranslationLinks.Translate)),t.R7$(4),t.JRh(t.i5U(24,30,"LangMenu.Dialog."+i.I18nKeys.FromPrimary+".Title",t.eq3(64,hn,i.language().primary))),t.R7$(3),t.JRh(t.i5U(27,33,"LangMenu.Dialog."+i.I18nKeys.FromPrimary+".Body",t.eq3(66,hn,i.language().primary))),t.R7$(2),t.Y8G("ngClass",t.eq3(68,ii,i.translationStateSignal().linkType===i.TranslationLinks.LinkCopyFrom)),t.R7$(4),t.JRh(t.i5U(33,36,"LangMenu.Dialog."+i.I18nKeys.FromOther+".Title",t.eq3(70,hn,i.language().primary))),t.R7$(3),t.JRh(t.i5U(36,39,"LangMenu.Dialog."+i.I18nKeys.FromOther+".Body",t.eq3(72,hn,i.language().primary))),t.R7$(2),t.Y8G("ngClass",t.eq3(74,ii,i.translationStateSignal().linkType===i.TranslationLinks.LinkReadOnly)),t.R7$(4),t.JRh(t.i5U(42,42,"LangMenu.Dialog."+i.I18nKeys.LinkReadOnly+".Title",t.eq3(76,hn,i.language().primary))),t.R7$(3),t.JRh(t.i5U(45,45,"LangMenu.Dialog."+i.I18nKeys.LinkReadOnly+".Body",t.eq3(78,hn,i.language().primary))),t.R7$(2),t.Y8G("ngClass",t.eq3(80,ii,i.translationStateSignal().linkType===i.TranslationLinks.LinkReadWrite)),t.R7$(4),t.JRh(t.i5U(51,48,"LangMenu.Dialog."+i.I18nKeys.LinkShared+".Title",t.eq3(82,hn,i.language().primary))),t.R7$(3),t.JRh(t.i5U(54,51,"LangMenu.Dialog."+i.I18nKeys.LinkShared+".Body",t.eq3(84,hn,i.language().primary))),t.R7$(2),t.vxM(i.translationInfo().showLanguageSelection?55:-1),t.R7$(2),t.Y8G("disabled",i.translationInfo().submitDisabled))},dependencies:[gt.Hu,gt.RN,gt.YY,gt.m2,gt.MM,gt.Lc,gt.dh,ki,ds,ps,wi,Mi,Ea,ti,qe.YU,Qe.m_,Qe.An,It.Hl,It.$z,re.h,re.D9],styles:[".translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return a})();var Jc=m(66177),en=m(88622);const Zc=a=>({"eav-shared-languages--disabled":a}),qc=a=>({languages:a}),ed=a=>({hidden:a}),Si=a=>({"eav-menu-item-selected":a});function td(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.translate())}),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"button",8),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openAutoTranslateMenuDialog(i.translationState()))}),t.EFF(4),t.nI1(5,"translate"),t.nrm(6,"app-feature-icon-indicator",9),t.k0s(),t.j41(7,"button",8),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.dontTranslate())}),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"button",8),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openTranslateMenuDialog(i.translationState()))}),t.EFF(11),t.nI1(12,"translate"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",t.eq3(17,Si,e.translationState().linkType===e.TranslationLinks.Translate)),t.R7$(),t.SpI(" ",t.bMT(2,9,"LangMenu.Translate")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(19,Si,e.translationState().linkType===e.TranslationLinks.Translate)),t.R7$(),t.SpI(" ",t.bMT(5,11,"LangMenu.AutoTranslate")," "),t.R7$(2),t.Y8G("featureNameId","EditUiTranslateWithGoogle"),t.R7$(),t.Y8G("ngClass",t.eq3(21,Si,e.translationState().linkType===e.TranslationLinks.DontTranslate)),t.R7$(),t.SpI(" ",t.bMT(9,13,"LangMenu.NoTranslate")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(23,Si,""!==e.translationState().language)),t.R7$(),t.SpI(" ",t.bMT(12,15,"LangMenu.Link")," ")}}function nd(a,l){if(1&a&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",4)(6,"button",5)(7,"mat-icon",6),t.EFF(8,"translate"),t.k0s()()()(),t.j41(9,"mat-menu",null,0),t.DNE(11,td,13,25,"ng-template",7),t.k0s()()),2&a){const e=t.sdS(10),n=t.XpG();t.R7$(),t.Y8G("ngClass",n.translationStateClass()),t.R7$(),t.Y8G("ngClass",t.eq3(10,Zc,n.disabled())),t.R7$(),t.SpI(" ",n.translationState().infoLabel?t.i5U(4,7,n.translationState().infoLabel,t.eq3(12,qc,n.translationState().infoMessage)):""," "),t.R7$(2),t.Y8G("tippyDisabled",!n.disableTranslateButtonSignal()),t.R7$(),t.Y8G("matMenuTriggerFor",e)("disabled",n.disableTranslateButtonSignal())("ngClass",t.eq3(14,ed,n.hideTranslateButton()))}}let gs=(()=>{class a{#e;#t;constructor(e,n,i,r){this.matDialog=e,this.viewContainerRef=n,this.formConfig=i,this.fieldsTranslate=r,this.hideTranslateButton=(0,P.hFB)(),this.#e=(0,s.WQX)(at.W),this.#t=(0,s.WQX)(jt),this.TranslationLinks=$t.J,this.translationState=this.#e.translationState,this.language=this.formConfig.language,this.disabled=(0,le.bo)("disabled",()=>this.#e.ui().disabled),this.translationStateClass=(0,le.bo)("translationStateClass",()=>Jc.x.getTranslationStateClass(this.translationState().linkType)),this.disableTranslateButtonSignal=(0,le.bo)("disableTranslateButtonSignal",()=>this.#t.readOnly().isReadOnly||this.#e.settings().DisableTranslation)}translate(){this.fieldsTranslate.unlock(this.#e.name)}dontTranslate(){this.fieldsTranslate.lock(this.#e.name)}openTranslateMenuDialog(e){this.#n(e,Kc)}openAutoTranslateMenuDialog(e){this.#e.settings().DisableAutoTranslation?this.matDialog.open(is,{autoFocus:!1,data:{isAutoTranslateAll:!1},viewContainerRef:this.viewContainerRef,width:"350px"}):this.#n(e,fs)}#n(e,n){const i={config:this.#e.config,translationState:{language:e.language,linkType:e.linkType}};this.matDialog.open(n,{autoFocus:!1,data:i,viewContainerRef:this.viewContainerRef,width:"400px"})}static#i=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.h),t.rXU(t.c1b),t.rXU(k.S),t.rXU(On))};static#a=this.\u0275cmp=t.VBU({type:a,selectors:[["app-translate-menu"]],inputs:{hideTranslateButton:[1,"hideTranslateButton"]},decls:1,vars:1,consts:[["menu","matMenu"],[1,"my-flex-main"],[1,"my-flex-inside","eav-shared-languages-container",3,"ngClass"],[1,"eav-shared-languages","mat-caption",3,"ngClass"],["tippyTranslate","LangMenu.NotTranslatable","tippyPlacement","top",3,"tippyDisabled"],["mat-icon-button","",1,"eav-translate-icon-button",3,"matMenuTriggerFor","disabled","ngClass"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click","ngClass"],[3,"featureNameId"]],template:function(n,i){1&n&&t.nVh(0,nd,12,16,"div",1),2&n&&t.vxM(i.language().current!==i.language().primary?0:-1)},dependencies:[qe.YU,It.Hl,en.M,Pt.Cn,Pt.kk,Pt.fb,Pt.z8,Pt.Cp,Qe.m_,Qe.An,ns,re.h,re.D9,Lt.e],styles:[".eav-menu-item-selected[_ngcontent-%COMP%]{background:#0000000a}.localization-lock-open[_ngcontent-%COMP%]{color:green}.localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.localization-translate[_ngcontent-%COMP%]{color:green}.localization-link-read-only[_ngcontent-%COMP%], .localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.eav-shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-12px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:#1d273d70;font-size:12px}.eav-shared-languages--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.eav-translate-icon-button[_ngcontent-%COMP%]{scale:.8;position:relative;top:-8px}.eav-translate-icon-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return a})();const id=["fieldComponent"],ad=a=>({"language-wrap__field-short":a}),rd=a=>({"language-wrap__translate--hidden":a});let sd=(()=>{class a{#e;#t;constructor(e,n){this.editRoutingService=e,this.formsStateService=n,this.#e=(0,s.WQX)(k.S),this.#t=(0,s.WQX)(at.W),this.language=this.#e.language,this.hideTranslateButton=!0}translate(){if(this.formsStateService.readOnly().isReadOnly)return;const e=this.#e.language();if(e.current===e.primary||!this.#t.ui().disabled)return;const n=this.#t.config;this.editRoutingService.isExpanded(n.index,n.entityGuid)||this.translateMenu.translate()}toggleTranslateButtonVisibility(e){this.hideTranslateButton=e}static#n=this.\u0275fac=function(n){return new(n||a)(t.rXU(vt),t.rXU(jt))};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-localization-wrapper"]],viewQuery:function(n,i){if(1&n&&(t.GBs(id,7,t.c1b),t.GBs(gs,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first),t.mGM(r=t.lsd())&&(i.translateMenu=r.first)}},decls:5,vars:7,consts:[["fieldComponent",""],[1,"language-wrap",3,"mouseenter","mouseleave"],[1,"language-wrap__field",3,"dblclick","ngClass"],[1,"language-wrap__translate",3,"hideTranslateButton","ngClass"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",1),t.bIt("mouseenter",function(){return s.eBV(r),s.Njj(i.toggleTranslateButtonVisibility(!1))})("mouseleave",function(){return s.eBV(r),s.Njj(i.toggleTranslateButtonVisibility(!0))}),t.j41(1,"div",2),t.bIt("dblclick",function(){return s.eBV(r),s.Njj(i.translate())}),t.eu8(2,null,0),t.k0s(),t.nrm(4,"app-translate-menu",3),t.k0s()}if(2&n){let r,c;t.R7$(),t.Y8G("ngClass",t.eq3(3,ad,(null==(r=i.language())?null:r.current)!==(null==(r=i.language())?null:r.primary))),t.R7$(3),t.Y8G("hideTranslateButton",i.hideTranslateButton)("ngClass",t.eq3(5,rd,(null==(c=i.language())?null:c.current)===(null==(c=i.language())?null:c.primary)))}},dependencies:[qe.YU,gs],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"]})}return a})();var At=m(24398);m(22256);const _s="FieldMetadata";function Jt(a){return l=>{Reflect.defineMetadata(_s,a,l)}}var Gt=m(31016);let Aa=(()=>{class a{#e="_blank";#t;#n;constructor(e,n){this.zone=n,this.#t=e.nativeElement}ngOnInit(){this.zone.runOutsideAngular(()=>{this.#i(),this.#n=new MutationObserver(e=>{this.#i()}),this.#n.observe(this.#t,{attributes:!0,childList:!0,subtree:!0})})}ngOnDestroy(){this.zone.runOutsideAngular(()=>this.#n.disconnect())}#i(){if("a"===this.#t.nodeName.toLocaleLowerCase()){const n=this.#t;n.target!==this.#e&&(n.target=this.#e)}const e=this.#t.getElementsByTagName("a");for(const n of Array.from(e))n.target!==this.#e&&(n.target=this.#e)}static#a=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.aKT),t.rXU(t.SKi))};static#r=this.\u0275dir=t.FsC({type:a,selectors:[["","appChangeAnchorTarget",""]]})}return a})();var wt=m(87698);const od=(a,l,e)=>({"my-last-field":a,"my-hyperlink-wrapper-fix":l,"small-gap":e}),ld=a=>({disabled:a});function cd(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-hint",4),t.bIt("click",function(i){s.eBV(e);const r=t.XpG(2);return s.Njj(r.toggleHint(i))}),t.nrm(1,"div",5),t.nI1(2,"safeHtml"),t.k0s()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ld,e.disabled())),t.R7$(),t.Y8G("ngClass",e.showExpand?"expandable":"")("innerHtml",t.bMT(2,3,e.notes()),t.npT)}}function dd(a,l){if(1&a&&(t.j41(0,"mat-error",2),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,l,e.settings()))}}function ud(a,l){1&a&&(t.j41(0,"mat-error",3),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&a&&(t.R7$(),t.JRh(t.bMT(2,1,l)))}function pd(a,l){if(1&a&&(t.j41(0,"div",0),t.nVh(1,cd,3,7,"mat-hint",1),t.nVh(2,dd,3,4,"mat-error",2),t.nVh(3,ud,3,3,"mat-error",3),t.k0s()),2&a){let e,n;const i=t.XpG();t.Y8G("ngClass",t.sMw(4,od,i.fieldState.config.isLastInGroup,i.hyperlinkDefaultWrapperFix&&!i.fieldState.config.isLastInGroup,i.smallGap())),t.R7$(),t.vxM(i.notes()?1:-1),t.R7$(),t.vxM((e=i.showErrors()&&i.errorMessage())?2:-1,e),t.R7$(),t.vxM((n=!i.disableError()&&i.warningMessage())?3:-1,n)}}let Zt=(()=>{class a{constructor(){this.disableError=(0,P.hFB)(!1),this.hyperlinkDefaultWrapperFix=(0,P.hFB)(!1),this.flatIfEmpty=(0,P.hFB)(!1),this.smallGap=(0,P.hFB)(!1),this.fieldState=(0,s.WQX)(at.W),this.settings=this.fieldState.settings,this.#e=(0,le.bo)("invalid",()=>this.fieldState.ui().invalid),this.disabled=(0,le.bo)("disabled",()=>this.fieldState.ui().disabled),this.showErrors=(0,le.bo)("showErrors",()=>this.#e()&&!this.disableError()),this.notes=(0,le.bo)("notes",()=>(this.settings().Notes??"").replace(/<p>/g,`<p _ngcontent-ng-${this.componentId}>`)),this.isEmpty=(0,le.bo)("isEmpty",()=>!this.notes()&&!this.showErrors()),this.errorMessage=(0,le.bo)("errorMessage",()=>(this.fieldState.uiValue(),this.fieldState.ui().getErrors())),this.warningMessage=(0,le.bo)("warningMessage",()=>this.fieldState.ui().getWarnings()),this.show=(0,le.bo)("show",()=>!this.isEmpty()||this.warningMessage()||!this.flatIfEmpty()),this.showExpand=!0,this.componentId=this.constructor.\u0275cmp.id}#e;toggleHint(e){let n=e.target;if("a"!==n.nodeName.toLocaleLowerCase()){for(;n&&n.classList&&!n.classList.contains("id-notes-container");)if(n=n.parentNode,!n||"a"===n.nodeName.toLocaleLowerCase())return;this.showExpand=!this.showExpand}}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-field-helper-text"]],inputs:{disableError:[1,"disableError"],hyperlinkDefaultWrapperFix:[1,"hyperlinkDefaultWrapperFix"],flatIfEmpty:[1,"flatIfEmpty"],smallGap:[1,"smallGap"]},decls:1,vars:1,consts:[[1,"my-main",3,"ngClass"],[1,"my-notes",3,"ngClass"],[1,""],[1,"warning"],[1,"my-notes",3,"click","ngClass"],["appChangeAnchorTarget","",1,"id-notes-container",3,"ngClass","innerHtml"]],template:function(n,i){1&n&&t.nVh(0,pd,4,8,"div",0),2&n&&t.vxM(i.show()?0:-1)},dependencies:[qe.YU,Gt.M,wt.c,wt.b,Aa,re.h,re.D9,Ln.$],styles:[".my-main[_ngcontent-%COMP%]{padding:.5em 0 13px;font-size:12px}.my-main.small-gap[_ngcontent-%COMP%]{padding-bottom:0}.my-main.my-hyperlink-wrapper-fix[_ngcontent-%COMP%]{min-height:22px}.my-main.my-last-field[_ngcontent-%COMP%]{padding:.5em 0 5px}.my-main.input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.mat-mdc-form-field-error.warning[_ngcontent-%COMP%]{color:#ffc107}.my-notes[_ngcontent-%COMP%]{color:#1d273d80;display:flex}.my-notes.disabled[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d273d40}.my-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin:0}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;display:block;margin:0;padding:0}"]})}return a})(),vs=(()=>{class a{constructor(){this.fieldState=(0,s.WQX)(at.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.changedLabel=this.fieldState.settingExt("_label")}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-boolean-base"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return a})();var _t=m(22490);class Di extends _t.S{constructor(){super({BooleanDefaultLogic:Di}),this.name=Je.u.BooleanDefault}update({settings:l,value:e}){const n={...l};return n.ReverseToggle??=!1,n._label=this.#e(e,n),n}#e(l,e){return!0===l&&e.TitleTrue?e.TitleTrue:!1===l&&e.TitleFalse?e.TitleFalse:e.Name}}_t.S.add(Di);let Fa=class zr extends vs{constructor(){super(),this.checkedState=(0,le.bo)("checkedState",()=>{const l=this.uiValue();return this.settings().ReverseToggle?!l:l}),Di.importMe()}updateValue(){this.ui().disabled||this.fieldState.ui().setIfChanged(!this.uiValue())}static#e=this.\u0275fac=function(e){return new(e||zr)};static#t=this.\u0275cmp=t.VBU({type:zr,selectors:[["boolean-default"]],features:[t.Vt3],decls:6,vars:7,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return n.updateValue()}),t.nrm(2,"mat-slide-toggle",2),t.j41(3,"span",3),t.EFF(4),t.k0s()(),t.nrm(5,"app-field-helper-text",4),t.k0s()),2&e&&(t.Y8G("formGroup",n.group),t.R7$(2),t.Y8G("checked",n.checkedState())("disabled",n.ui().disabled)("ngClass",n.uiValue()?"":"changeable-label-mat-slide-toggle"),t.R7$(),t.Y8G("ngClass",n.uiValue()?"":"eav-toggle-label"),t.R7$(),t.SpI(" ",n.changedLabel()??n.basics().label," "),t.R7$(),t.Y8G("disableError",!0))},dependencies:[Q.YN,Q.cb,Q.X1,Q.j4,Rn.mV,Rn.sG,qe.YU,Zt],styles:["[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})};Fa=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Fa);class Ti extends _t.S{constructor(){super({BooleanTristateLogic:Ti}),this.name=Je.u.BooleanTristate}update({settings:l,value:e}){const n={...l};return n.ReverseToggle??=!1,n._label=this.#e(e,n),n}#e(l,e){return!0===l&&e.TitleTrue?e.TitleTrue:!1===l&&e.TitleFalse?e.TitleFalse:!l&&e.TitleIndeterminate?e.TitleIndeterminate:e.Name}}_t.S.add(Ti);const md=(a,l,e,n)=>({"toggle-false":a,"toggle-true":l,"toggle-null":e,"changeable-label-tristate-mat-slide-toggle":n});let Pa=class jr extends vs{constructor(){super(),this.fs=this.fieldState,this.checkedState=(0,le.bo)("checkedState",()=>{const l=this.fs.uiValue();return this.settings().ReverseToggle?!0!==l&&(!1===l||l):""===l?null:l}),this.bestLabel=(0,le.bo)("bestLabel",()=>{const l=this.checkedState(),e=this.settings();return!0===l&&e.TitleTrue?e.TitleTrue:!1===l&&e.TitleFalse?e.TitleFalse:null===l&&e.TitleIndeterminate?e.TitleIndeterminate:e.Name}),Ti.importMe()}updateValue(l){l||this.fieldState.ui().setIfChanged(this.#e())}#e(){const l=this.fs.uiValue(),e=this.settings().ReverseToggle;switch(l){case!1:return!!e||null;case!0:return!!e&&null;case"":case null:return!e}}static#t=this.\u0275fac=function(e){return new(e||jr)};static#n=this.\u0275cmp=t.VBU({type:jr,selectors:[["boolean-tristate"]],features:[t.Vt3],decls:6,vars:12,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return n.updateValue(n.ui().disabled)}),t.nrm(2,"mat-slide-toggle",2),t.j41(3,"span",3),t.EFF(4),t.k0s()(),t.nrm(5,"app-field-helper-text",4),t.k0s()),2&e&&(t.Y8G("formGroup",n.group),t.R7$(2),t.Y8G("checked",n.checkedState())("disabled",n.ui().disabled)("ngClass",t.ziG(7,md,!1===n.checkedState(),!0===n.checkedState(),null===n.checkedState(),n.changedLabel()!==n.basics().label)),t.R7$(),t.Y8G("ngClass",n.checkedState()?"":"eav-toggle-label"),t.R7$(),t.SpI(" ",n.changedLabel()??n.basics().label," "),t.R7$(),t.Y8G("disableError",!0))},dependencies:[Q.YN,Q.cb,Q.X1,Q.j4,Rn.mV,Rn.sG,qe.YU,Zt],styles:["[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9!important}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-image:linear-gradient(to right,#7fc3f9,#bfe1fc)!important}[_nghost-%COMP%]     .toggle-null .mdc-switch__handle{margin-left:8px!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})};Pa=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Pa);let Ei=class Nr{constructor(){this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config}static#e=this.\u0275fac=function(e){return new(e||Nr)};static#t=this.\u0275cmp=t.VBU({type:Nr,selectors:[["custom-default"]],decls:2,vars:1,consts:[[1,"message"]],template:function(e,n){1&e&&(t.j41(0,"div",0),t.EFF(1),t.k0s()),2&e&&(t.R7$(),t.SpI("",n.config.fieldName,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"]})};Ei=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Ei);var hd=m(37836);class ai extends _t.S{constructor(){super({CustomJsonEditorLogic:ai}),this.name=Je.u.CustomJsonEditor}update({settings:l}){const e={...l};return e.Rows||=5,e.JsonValidation||="strict",e.JsonSchemaMode||="none",e.JsonSchemaSource||="link",e.JsonSchemaUrl??="",e.JsonSchemaRaw??="",e.JsonCommentsAllowed??=!1,e}}_t.S.add(ai);class ys extends ai{constructor(){super(...arguments),this.name=Je.u.StringJson}}_t.S.add(ys);const fd=(a,l,e)=>({disabled:a,focused:l,error:e}),gd=a=>({height:a});function _d(a,l){if(1&a&&t.nrm(0,"input",3),2&a){const e=t.XpG();t.Y8G("placeholder",e.basics().placeholder)}}let Ii=class Br{#e;#t;#n;#i;constructor(l){this.formConfig=l,this.#e=(0,s.WQX)(at.W),this.#t=this.#e.config,this.ui=this.#e.ui,this.uiValue=this.#e.uiValue,this.basics=this.#e.basics,this.#n=this.#e.settings,this.#i=this.#e.settingExt("Rows"),this.focused=(0,Pe.EW)(()=>this.#t.focused$),this.editorHeight=(0,Pe.EW)(()=>this.#i()*this.monacoOptions.lineHeight+"px"),this.jsonSchema=(0,Pe.EW)(()=>{const e=this.#n();return"none"===e.JsonSchemaMode?void 0:{type:e.JsonSchemaSource,value:"link"===e.JsonSchemaSource?e.JsonSchemaUrl:e.JsonSchemaRaw}}),this.jsonComments=(0,Pe.EW)(()=>this.#n().JsonCommentsAllowed?"ignore":"error"),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},ai.importMe(),ys.importMe()}ngOnInit(){this.filename=`${this.#t.fieldName} ${this.#t.entityGuid} ${this.formConfig.config.formId}.json`}codeChanged(l){this.ui().setIfChanged(l)}onFocused(){this.#t.focused$.next(!0)}onBlurred(){this.ui().markTouched(),this.#t.focused$.next(!1)}static#a=this.\u0275fac=function(e){return new(e||Br)(t.rXU(k.S))};static#r=this.\u0275cmp=t.VBU({type:Br,selectors:[["custom-json-editor"]],decls:6,vars:16,consts:[[1,"json-field",3,"ngClass"],[1,"label"],[1,"editor",3,"valueChanged","focused","blurred","filename","ngStyle","value","options","jsonSchema","jsonComments"],[1,"placeholder","eav-translate-on-dblclick",3,"placeholder"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"mat-label",1),t.EFF(2),t.k0s(),t.j41(3,"app-monaco-editor",2),t.bIt("valueChanged",function(r){return n.codeChanged(r)})("focused",function(){return n.onFocused()})("blurred",function(){return n.onBlurred()}),t.k0s(),t.nVh(4,_d,1,1,"input",3),t.k0s(),t.nrm(5,"app-field-helper-text")),2&e&&(t.Y8G("ngClass",t.sMw(10,fd,n.ui().disabled,n.focused().value,n.ui().touchedAndInvalid)),t.R7$(2),t.Lme("",n.basics().label," ",n.basics().required?"*":""),t.R7$(),t.Y8G("filename",n.filename)("ngStyle",t.eq3(14,gd,n.editorHeight()))("value",n.uiValue())("options",n.monacoOptions)("jsonSchema",n.jsonSchema())("jsonComments",n.jsonComments()),t.R7$(),t.vxM(!n.uiValue()&&n.basics().placeholder?4:-1))},dependencies:[qe.YU,Gt.M,wt.M,hd.K,qe.B3,Zt],styles:[".json-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.json-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.json-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:28px;left:64px;border:none;background:transparent;outline:none;width:calc(100% - 112px);font-family:inherit;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.json-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.json-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.json-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.json-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.json-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})};Ii=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[k.S])],Ii);const bs=new s.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function vd(){return(0,s.WQX)(t.xe9)}}),Nn="Method not implemented";class Nt{locale;_localeChanges=new ke.B;localeChanges=this._localeChanges;setTime(l,e,n,i){throw new Error(Nn)}getHours(l){throw new Error(Nn)}getMinutes(l){throw new Error(Nn)}getSeconds(l){throw new Error(Nn)}parseTime(l,e){throw new Error(Nn)}addSeconds(l,e){throw new Error(Nn)}getValidDateOrNull(l){return this.isDateInstance(l)&&this.isValid(l)?l:null}deserialize(l){return null==l||this.isDateInstance(l)&&this.isValid(l)?l:this.invalid()}setLocale(l){this.locale=l,this._localeChanges.next()}compareDate(l,e){return this.getYear(l)-this.getYear(e)||this.getMonth(l)-this.getMonth(e)||this.getDate(l)-this.getDate(e)}compareTime(l,e){return this.getHours(l)-this.getHours(e)||this.getMinutes(l)-this.getMinutes(e)||this.getSeconds(l)-this.getSeconds(e)}sameDate(l,e){if(l&&e){let n=this.isValid(l),i=this.isValid(e);return n&&i?!this.compareDate(l,e):n==i}return l==e}sameTime(l,e){if(l&&e){const n=this.isValid(l),i=this.isValid(e);return n&&i?!this.compareTime(l,e):n==i}return l==e}clampDate(l,e,n){return e&&this.compareDate(l,e)<0?e:n&&this.compareDate(l,n)>0?n:l}}const Dn=new s.nKC("mat-date-formats");var Ai=m(51590),yd=m(25662),Cs=m(87438),An=m(32373),an=m(8220),Bn=m(9168),Oa=m(9227),Ra=m(77323);const bd=["mat-calendar-body",""];function Cd(a,l){return this._trackRow(l)}const xs=(a,l)=>l.id;function xd(a,l){if(1&a&&(t.j41(0,"tr",0)(1,"td",3),t.EFF(2),t.k0s()()),2&a){const e=t.XpG();t.R7$(),t.xc7("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.BMQ("colspan",e.numCols),t.R7$(),t.SpI(" ",e.label," ")}}function Md(a,l){if(1&a&&(t.j41(0,"td",3),t.EFF(1),t.k0s()),2&a){const e=t.XpG(2);t.xc7("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.BMQ("colspan",e._firstRowOffset),t.R7$(),t.SpI(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function wd(a,l){if(1&a){const e=t.RV6();t.j41(0,"td",6)(1,"button",7),t.bIt("click",function(i){const r=s.eBV(e).$implicit,c=t.XpG(2);return s.Njj(c._cellClicked(r,i))})("focus",function(i){const r=s.eBV(e).$implicit,c=t.XpG(2);return s.Njj(c._emitActiveDateChange(r,i))}),t.j41(2,"span",8),t.EFF(3),t.k0s(),t.nrm(4,"span",9),t.k0s()()}if(2&a){const e=l.$implicit,n=l.$index,i=t.XpG().$index,r=t.XpG();t.xc7("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),t.BMQ("data-mat-row",i)("data-mat-col",n),t.R7$(),t.AVh("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(i,n))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,i,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,i,n))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),t.Y8G("ngClass",e.cssClasses)("tabindex",r._isActiveCell(i,n)?0:-1),t.BMQ("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),t.R7$(),t.AVh("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),t.R7$(),t.SpI(" ",e.displayValue," ")}}function kd(a,l){if(1&a&&(t.j41(0,"tr",1),t.nVh(1,Md,2,6,"td",4),t.Z7z(2,wd,5,48,"td",5,xs),t.k0s()),2&a){const e=l.$implicit,n=l.$index,i=t.XpG();t.R7$(),t.vxM(0===n&&i._firstRowOffset?1:-1),t.R7$(),t.Dyx(e)}}function Sd(a,l){if(1&a&&(t.j41(0,"th",2)(1,"span",6),t.EFF(2),t.k0s(),t.j41(3,"span",3),t.EFF(4),t.k0s()()),2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.long),t.R7$(2),t.JRh(e.narrow)}}const Dd=["*"];function Td(a,l){}function Ed(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-month-view",4),t.mxI("activeDateChange",function(i){s.eBV(e);const r=t.XpG();return t.DH7(r.activeDate,i)||(r.activeDate=i),s.Njj(i)}),t.bIt("_userSelection",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._dateSelected(i))})("dragStarted",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._dragStarted(i))})("dragEnded",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._dragEnded(i))}),t.k0s()}if(2&a){const e=t.XpG();t.R50("activeDate",e.activeDate),t.Y8G("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Id(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-year-view",5),t.mxI("activeDateChange",function(i){s.eBV(e);const r=t.XpG();return t.DH7(r.activeDate,i)||(r.activeDate=i),s.Njj(i)}),t.bIt("monthSelected",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._monthSelectedInYearView(i))})("selectedChange",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._goToDateInView(i,"month"))}),t.k0s()}if(2&a){const e=t.XpG();t.R50("activeDate",e.activeDate),t.Y8G("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Ad(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-multi-year-view",6),t.mxI("activeDateChange",function(i){s.eBV(e);const r=t.XpG();return t.DH7(r.activeDate,i)||(r.activeDate=i),s.Njj(i)}),t.bIt("yearSelected",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._yearSelectedInMultiYearView(i))})("selectedChange",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._goToDateInView(i,"year"))}),t.k0s()}if(2&a){const e=t.XpG();t.R50("activeDate",e.activeDate),t.Y8G("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Fd(a,l){}const Pd=["button"],Od=[[["","matDatepickerToggleIcon",""]]],Rd=["[matDatepickerToggleIcon]"];function Ld(a,l){1&a&&(s.qSk(),t.j41(0,"svg",2),t.nrm(1,"path",3),t.k0s())}let Hn=(()=>{class a{changes=new ke.B;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||a)};static \u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Vd=0;class La{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=Vd++;constructor(l,e,n,i,r={},c=l,g){this.value=l,this.displayValue=e,this.ariaLabel=n,this.enabled=i,this.cssClasses=r,this.compareValue=c,this.rawValue=g}}const Yd={passive:!1,capture:!0},Fi={passive:!0,capture:!0},Ms={passive:!0};let $n=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_ngZone=(0,s.WQX)(t.SKi);_platform=(0,s.WQX)(as.P);_intl=(0,s.WQX)(Hn);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new t.bkB;previewChange=new t.bkB;activeDateChange=new t.bkB;dragStarted=new t.bkB;dragEnded=new t.bkB;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=(0,s.WQX)(s.zZn);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){const e=(0,s.WQX)(t.sFG),n=(0,s.WQX)(Ai._);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),(0,s.WQX)(ei._).load(rs._),this._ngZone.runOutsideAngular(()=>{const i=this._elementRef.nativeElement,r=[e.listen(i,"touchmove",this._touchmoveHandler,Yd),e.listen(i,"mouseenter",this._enterHandler,Fi),e.listen(i,"focus",this._enterHandler,Fi),e.listen(i,"mouseleave",this._leaveHandler,Fi),e.listen(i,"blur",this._leaveHandler,Fi),e.listen(i,"mousedown",this._mousedownHandler,Ms),e.listen(i,"touchstart",this._mousedownHandler,Ms)];this._platform.isBrowser&&r.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const n=e.numCols,{rows:i,numCols:r}=this;(e.rows||n)&&(this._firstRowOffset=i&&i.length&&i[0].length?r-i[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let i=e*this.numCols+n;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){(0,t.mal)(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return za(e,this.startValue,this.endValue)}_isRangeEnd(e){return ja(e,this.startValue,this.endValue)}_isInRange(e){return Na(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return za(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[n][i-1];if(!r){const c=this.rows[n-1];r=c&&c[c.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,n,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[n][i+1];if(!r){const c=this.rows[n+1];r=c&&c[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return ja(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Na(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return za(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return ja(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Na(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(null!==this.comparisonStart&&null!==this.comparisonEnd){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&"focus"===e.type)this._skipNextFocus=!1;else if(e.target&&this.isRange){const n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;const n=ws(e),i=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),Ya(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:i?.enabled?i:null,event:e}))};_leaveHandler=e=>{null!==this.previewEnd&&this.isRange&&("blur"!==e.type&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&(!e.relatedTarget||!this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;const n=Ya(e.target);n?n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const i=this._getCellFromElement(n);this.dragEnded.emit({value:i?.rawValue??null,event:e})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})})};_touchendHandler=e=>{const n=ws(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){const n=Ya(e);if(n){const i=n.getAttribute("data-mat-row"),r=n.getAttribute("data-mat-col");if(i&&r)return this.rows[parseInt(i)][parseInt(r)]}return null}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[t.OA$],attrs:bd,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,i){1&n&&(t.nVh(0,xd,3,6,"tr",0),t.Z7z(1,kd,4,1,"tr",1,Cd,!0),t.j41(3,"span",2),t.EFF(4),t.k0s(),t.j41(5,"span",2),t.EFF(6),t.k0s(),t.j41(7,"span",2),t.EFF(8),t.k0s(),t.j41(9,"span",2),t.EFF(10),t.k0s()),2&n&&(t.vxM(i._firstRowOffset<i.labelMinRequiredCells?0:-1),t.R7$(),t.Dyx(i.rows),t.R7$(2),t.Y8G("id",i._startDateLabelId),t.R7$(),t.SpI(" ",i.startDateAccessibleName,"\n"),t.R7$(),t.Y8G("id",i._endDateLabelId),t.R7$(),t.SpI(" ",i.endDateAccessibleName,"\n"),t.R7$(),t.Y8G("id",i._comparisonStartDateLabelId),t.R7$(),t.Lme(" ",i.comparisonDateAccessibleName," ",i.startDateAccessibleName,"\n"),t.R7$(),t.Y8G("id",i._comparisonEndDateLabelId),t.R7$(),t.Lme(" ",i.comparisonDateAccessibleName," ",i.endDateAccessibleName,"\n"))},dependencies:[qe.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}\n'],encapsulation:2,changeDetection:0})}return a})();function Va(a){return"TD"===a?.nodeName}function Ya(a){let l;return Va(a)?l=a:Va(a.parentNode)?l=a.parentNode:Va(a.parentNode?.parentNode)&&(l=a.parentNode.parentNode),null!=l?.getAttribute("data-mat-row")?l:null}function za(a,l,e){return null!==e&&l!==e&&a<e&&a===l}function ja(a,l,e){return null!==l&&l!==e&&a>=l&&a===e}function Na(a,l,e,n){return n&&null!==l&&null!==e&&l!==e&&a>=l&&a<=e}function ws(a){const l=a.changedTouches[0];return document.elementFromPoint(l.clientX,l.clientY)}class Xt{start;end;_disableStructuralEquivalency;constructor(l,e){this.start=l,this.end=e}}let Tn=(()=>{class a{selection;_adapter;_selectionChanged=new ke.B;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){const i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){t.QTQ()};static \u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),zd=(()=>{class a extends Tn{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new a(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||a)(s.KVO(Nt))};static \u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const ks={provide:Tn,deps:[[new t.Xx1,new t.kdw,Tn],Nt],useFactory:function Nd(a,l){return a||new zd(l)}},Pi=new s.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Gd=0,Ss=(()=>{class a{_changeDetectorRef=(0,s.WQX)(P.gRc);_dateFormats=(0,s.WQX)(Dn,{optional:!0});_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dir=(0,s.WQX)(An.D,{optional:!0});_rangeStrategy=(0,s.WQX)(Pi,{optional:!0});_rerenderSubscription=mn.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){const n=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){this._selected=e instanceof Xt?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new t.bkB;_userSelection=new t.bkB;dragStarted=new t.bkB;dragEnded=new t.bkB;activeDateChange=new t.bkB;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){(0,s.WQX)(ei._).load(Oa.Y),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ae.Z)(null)).subscribe(()=>this._init())}ngOnChanges(e){const n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const n=e.value,i=this._getDateFromDayOfMonth(n);let r,c;this._selected instanceof Xt?(r=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):r=c=this._getDateInCurrentMonth(this._selected),(r!==n||c!==n)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case ot.L:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case ot.R:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case ot.U:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case ot.D:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case ot.H:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case ot.E:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case ot.a:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case ot.P:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case ot.c:case ot.S:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case ot.g:return void(null!=this._previewEnd&&!(0,yn.rp)(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===ot.S||e.keyCode===ot.c)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){const i=n?n.rawValue:null,r=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&i){const c=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((c,g)=>({long:c,narrow:n[g],id:Gd++}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,r=this._firstWeekOffset;i<e;i++,r++){7==r&&(this._weeks.push([]),r=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),g=this._shouldEnableDate(c),b=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),z=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new La(i+1,n[i],b,g,z,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!(!e||!n||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){const n=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(n,i,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Xt?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-month-view"]],viewQuery:function(n,i){if(1&n&&t.GBs($n,5),2&n){let r;t.mGM(r=t.lsd())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[t.OA$],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,i){1&n&&(t.j41(0,"table",0)(1,"thead",1)(2,"tr"),t.Z7z(3,Sd,5,2,"th",2,xs),t.k0s(),t.j41(5,"tr",3),t.nrm(6,"th",4),t.k0s()(),t.j41(7,"tbody",5),t.bIt("selectedValueChange",function(c){return i._dateSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("previewChange",function(c){return i._previewChanged(c)})("dragStarted",function(c){return i.dragStarted.emit(c)})("dragEnded",function(c){return i._dragEnded(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),t.k0s()()),2&n&&(t.R7$(3),t.Dyx(i._weekdays),t.R7$(4),t.Y8G("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[$n],encapsulation:2,changeDetection:0})}return a})(),Ds=(()=>{class a{_changeDetectorRef=(0,s.WQX)(P.gRc);_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dir=(0,s.WQX)(An.D,{optional:!0});_rerenderSubscription=mn.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Ts(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){this._selected=e instanceof Xt?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new t.bkB;yearSelected=new t.bkB;activeDateChange=new t.bkB;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ae.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-ri(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,r=[];i<24;i++)r.push(n+i),4==r.length&&(this._years.push(r.map(c=>this._createCellForYear(c))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const n=e.value,i=this._dateAdapter.createDate(n,0,1),r=this._getDateFromYear(n);this.yearSelected.emit(i),this.selectedChange.emit(r)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case ot.L:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case ot.R:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case ot.U:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case ot.D:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case ot.H:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ri(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case ot.E:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-ri(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case ot.a:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case ot.P:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case ot.c:case ot.S:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===ot.S||e.keyCode===ot.c)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ri(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){const n=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(n),r=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new La(e,i,i,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Xt){const n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(n,i){if(1&n&&t.GBs($n,5),2&n){let r;t.mGM(r=t.lsd())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,i){1&n&&(t.j41(0,"table",0)(1,"thead",1)(2,"tr"),t.nrm(3,"th",2),t.k0s()(),t.j41(4,"tbody",3),t.bIt("selectedValueChange",function(c){return i._yearSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),t.k0s()()),2&n&&(t.R7$(4),t.Y8G("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[$n],encapsulation:2,changeDetection:0})}return a})();function Ts(a,l,e,n,i){const r=a.getYear(l),c=a.getYear(e),g=Es(a,n,i);return Math.floor((r-g)/24)===Math.floor((c-g)/24)}function ri(a,l,e,n){return function Ud(a,l){return(a%l+l)%l}(a.getYear(l)-Es(a,e,n),24)}function Es(a,l,e){let n=0;return e?n=a.getYear(e)-24+1:l&&(n=a.getYear(l)),n}let Is=(()=>{class a{_changeDetectorRef=(0,s.WQX)(P.gRc);_dateFormats=(0,s.WQX)(Dn,{optional:!0});_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dir=(0,s.WQX)(An.D,{optional:!0});_rerenderSubscription=mn.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){this._selected=e instanceof Xt?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new t.bkB;monthSelected=new t.bkB;activeDateChange=new t.bkB;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ae.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const n=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(i);const r=this._getDateFromMonth(n);this.selectedChange.emit(r)}_updateActiveDate(e){const i=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case ot.L:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case ot.R:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case ot.U:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case ot.D:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case ot.H:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case ot.E:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case ot.a:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case ot.P:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case ot.c:case ot.S:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===ot.S||e.keyCode===ot.c)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,n){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(i,"year"):void 0;return new La(e,n.toLocaleUpperCase(),r,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const n=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(n,e,1);this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&n>r}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&n<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Xt?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-year-view"]],viewQuery:function(n,i){if(1&n&&t.GBs($n,5),2&n){let r;t.mGM(r=t.lsd())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,i){1&n&&(t.j41(0,"table",0)(1,"thead",1)(2,"tr"),t.nrm(3,"th",2),t.k0s()(),t.j41(4,"tbody",3),t.bIt("selectedValueChange",function(c){return i._monthSelected(c)})("activeDateChange",function(c){return i._updateActiveDate(c)})("keyup",function(c){return i._handleCalendarBodyKeyup(c)})("keydown",function(c){return i._handleCalendarBodyKeydown(c)}),t.k0s()()),2&n&&(t.R7$(4),t.Y8G("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[$n],encapsulation:2,changeDetection:0})}return a})(),As=(()=>{class a{_intl=(0,s.WQX)(Hn);calendar=(0,s.WQX)($a);_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dateFormats=(0,s.WQX)(Dn,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){(0,s.WQX)(ei._).load(Oa.Y);const e=(0,s.WQX)(P.gRc);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){const e=this.calendar,n=this._intl,i=this._dateAdapter;"month"===e.currentView?(this._periodButtonText=i.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=i.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=n.switchToMultiYearViewLabel,this._prevButtonLabel=n.prevMonthLabel,this._nextButtonLabel=n.nextMonthLabel):"year"===e.currentView?(this._periodButtonText=i.getYearName(e.activeDate),this._periodButtonDescription=i.getYearName(e.activeDate),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevYearLabel,this._nextButtonLabel=n.nextYearLabel):(this._periodButtonText=n.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=n.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevMultiYearLabel,this._nextButtonLabel=n.nextMultiYearLabel)}_isSameView(e,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):Ts(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const n=this._dateAdapter.getYear(this.calendar.activeDate)-ri(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=n+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1))]}_periodButtonLabelId=(0,s.WQX)(Ai._).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Dd,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,i){1&n&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return i.currentPeriodClicked()}),t.j41(5,"span",4),t.EFF(6),t.k0s(),s.qSk(),t.j41(7,"svg",5),t.nrm(8,"polygon",6),t.k0s()(),s.joV(),t.nrm(9,"div",7),t.SdG(10),t.j41(11,"button",8),t.bIt("click",function(){return i.previousClicked()}),s.qSk(),t.j41(12,"svg",9),t.nrm(13,"path",10),t.k0s()(),s.joV(),t.j41(14,"button",11),t.bIt("click",function(){return i.nextClicked()}),s.qSk(),t.j41(15,"svg",9),t.nrm(16,"path",12),t.k0s()()()()),2&n&&(t.R7$(2),t.Y8G("id",i._periodButtonLabelId),t.R7$(),t.JRh(i.periodButtonDescription),t.R7$(),t.BMQ("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),t.R7$(2),t.JRh(i.periodButtonText),t.R7$(),t.AVh("mat-calendar-invert","month"!==i.calendar.currentView),t.R7$(4),t.Y8G("disabled",!i.previousEnabled()),t.BMQ("aria-label",i.prevButtonLabel),t.R7$(3),t.Y8G("disabled",!i.nextEnabled()),t.BMQ("aria-label",i.nextButtonLabel))},dependencies:[It.$z,en.M],encapsulation:2,changeDetection:0})}return a})(),$a=(()=>{class a{_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dateFormats=(0,s.WQX)(Dn,{optional:!0});_changeDetectorRef=(0,s.WQX)(P.gRc);_elementRef=(0,s.WQX)(t.aKT);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){this._selected=e instanceof Xt?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new t.bkB;yearSelected=new t.bkB;monthSelected=new t.bkB;viewChanged=new t.bkB(!0);_userSelection=new t.bkB;_userDragDrop=new t.bkB;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){const n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&(this.stateChanges.next(),this.viewChanged.emit(n))}_currentView;_activeDrag=null;stateChanges=new ke.B;constructor(){this._intlChanges=(0,s.WQX)(Hn).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Bn.A8(this.headerComponent||As),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=n||i||e.dateFilter;if(r&&!r.firstChange){const c=this._getCurrentViewComponent();c&&(this._elementRef.nativeElement.contains((0,qn.c)())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const n=e.value;(this.selected instanceof Xt||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-calendar"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Ss,5),t.GBs(Is,5),t.GBs(Ds,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.monthView=r.first),t.mGM(r=t.lsd())&&(i.yearView=r.first),t.mGM(r=t.lsd())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[t.Jv_([ks]),t.OA$],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,i){if(1&n&&(t.DNE(0,Td,0,0,"ng-template",0),t.j41(1,"div",1),t.nVh(2,Ed,1,11,"mat-month-view",2)(3,Id,1,6,"mat-year-view",3)(4,Ad,1,6,"mat-multi-year-view",3),t.k0s()),2&n){let r;t.Y8G("cdkPortalOutlet",i._calendarHeaderPortal),t.R7$(2),t.vxM("month"===(r=i.currentView)?2:"year"===r?3:"multi-year"===r?4:-1)}},dependencies:[Bn.I3,yd.C,Ss,Is,Ds],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}\n'],encapsulation:2,changeDetection:0})}return a})();const Fs=new s.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const a=(0,s.WQX)(s.zZn);return()=>(0,an.o)(a)}}),Xd={provide:Fs,deps:[],useFactory:function Wd(a){const l=(0,s.WQX)(s.zZn);return()=>(0,an.o)(l)}};let Ps=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_animationsDisabled=(0,bi._)();_changeDetectorRef=(0,s.WQX)(P.gRc);_globalModel=(0,s.WQX)(Tn);_dateAdapter=(0,s.WQX)(Nt);_ngZone=(0,s.WQX)(t.SKi);_rangeSelectionStrategy=(0,s.WQX)(Pi,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new ke.B;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if((0,s.WQX)(ei._).load(Oa.Y),this._closeButtonText=(0,s.WQX)(Hn).closeCalendarLabel,!this._animationsDisabled){const e=this._elementRef.nativeElement,n=(0,s.WQX)(t.sFG);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const n=this._model.selection,i=e.value,r=n instanceof Xt;if(r&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(i,n,e.event);this._model.updateSelection(c,this)}else i&&(r||!this._dateAdapter.sameDate(i,n))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{const n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating="animationstart"===e.type,n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(n,i){if(1&n&&t.GBs($a,5),2&n){let r;t.mGM(r=t.lsd())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,i){2&n&&(t.HbH(i.color?"mat-"+i.color:""),t.AVh("mat-datepicker-content-touch",i.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!i._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"mat-calendar",1),t.bIt("yearSelected",function(c){return i.datepicker._selectYear(c)})("monthSelected",function(c){return i.datepicker._selectMonth(c)})("viewChanged",function(c){return i.datepicker._viewChanged(c)})("_userSelection",function(c){return i._handleUserSelection(c)})("_userDragDrop",function(c){return i._handleUserDragDrop(c)}),t.k0s(),t.DNE(2,Fd,0,0,"ng-template",2),t.j41(3,"button",3),t.bIt("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),t.EFF(4),t.k0s()()),2&n&&(t.AVh("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),t.BMQ("aria-modal",!0)("aria-labelledby",i._dialogLabelId??void 0),t.R7$(),t.HbH(i.datepicker.panelClass),t.Y8G("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),t.R7$(),t.Y8G("cdkPortalOutlet",i._actionsPortal),t.R7$(),t.AVh("cdk-visually-hidden",!i._closeButtonFocused),t.Y8G("color",i.color||"primary"),t.R7$(),t.JRh(i._closeButtonText))},dependencies:[Cs.C,$a,Bn.I3,It.$z],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,changeDetection:0})}return a})(),Os=(()=>{class a{_injector=(0,s.WQX)(s.zZn);_viewContainerRef=(0,s.WQX)(t.c1b);_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dir=(0,s.WQX)(An.D,{optional:!0});_model=(0,s.WQX)(Tn);_animationsDisabled=(0,bi._)();_scrollStrategy=(0,s.WQX)(Fs);_inputStateChanges=mn.yU.EMPTY;_document=(0,s.WQX)(s.qQL);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new t.bkB;monthSelected=new t.bkB;viewChanged=new t.bkB(!0);dateClass;openedStream=new t.bkB;closedStream=new t.bkB;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=(0,nn.cc)(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=(0,s.WQX)(Ai._).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new ke.B;_changeDetectorRef=(0,s.WQX)(P.gRc);constructor(){this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){const n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){const i=this._overlayRef.getConfig().positionStrategy;i instanceof an.F&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,qn.c)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:i,location:r}=this._componentRef;i._animationDone.pipe((0,pe.s)(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||r.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),i._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,n=new Bn.A8(Ps,this._viewContainerRef),i=this._overlayRef=(0,an.c)(this._injector,new an.i({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?(0,an.s)(this._injector):this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup"),disableAnimations:this._animationsDisabled}));this._getCloseStream(i).subscribe(r=>{r&&r.preventDefault(),this.close()}),i.keydownEvents().subscribe(r=>{const c=r.keyCode;(c===ot.U||c===ot.D||c===ot.L||c===ot.R||c===ot.a||c===ot.P)&&r.preventDefault()}),this._componentRef=i.attach(n),this._forwardContentValues(this._componentRef.instance),e||(0,t.mal)(()=>{i.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return(0,an.f)(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=(0,an.h)(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const n="end"===this.xPosition?"end":"start",i="start"===n?"end":"start",r="above"===this.yPosition?"bottom":"top",c="top"===r?"bottom":"top";return e.withPositions([{originX:n,originY:c,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:c},{originX:i,originY:c,overlayX:i,overlayY:r},{originX:i,originY:r,overlayX:i,overlayY:c}])}_getCloseStream(e){const n=["ctrlKey","shiftKey","metaKey"];return(0,Vn.h)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe((0,Oe.p)(i=>i.keyCode===ot.g&&!(0,yn.rp)(i)||this.datepickerInput&&(0,yn.rp)(i,"altKey")&&i.keyCode===ot.U&&n.every(r=>!(0,yn.rp)(i,r)))))}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",P.L39],disabled:[2,"disabled","disabled",P.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",P.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",P.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[t.OA$]})}return a})(),Qd=(()=>{class a extends Os{static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[t.Jv_([ks,{provide:Os,useExisting:a}]),t.Vt3],decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0})}return a})();class Oi{target;targetElement;value;constructor(l,e){this.target=l,this.targetElement=e,this.value=this.target.value}}let Kd=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dateFormats=(0,s.WQX)(Dn,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const n=e,i=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&i.blur&&i.blur()}_disabled;dateChange=new t.bkB;dateInput=new t.bkB;stateChanges=new ke.B;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=mn.yU.EMPTY;_localeSubscription=mn.yU.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!n||this._dateAdapter.compareDate(i,n)<=0?null:{matDatepickerMin:{min:i,actual:n}}};_maxValidator=e=>{const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!n||this._dateAdapter.compareDate(i,n)>=0?null:{matDatepickerMax:{max:i,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const i=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new Oi(this,this._elementRef.nativeElement)),this.dateChange.emit(new Oi(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Jd(a,l){const e=Object.keys(a);for(let n of e){const{previousValue:i,currentValue:r}=a[n];if(!l.isDateInstance(i)||!l.isDateInstance(r))return!0;if(!l.sameDate(i,r))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){(0,yn.rp)(e,"altKey")&&e.keyCode===ot.D&&["ctrlKey","shiftKey","metaKey"].every(r=>!(0,yn.rp)(e,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const n=e.target.value,i=this._lastValueValid;let r=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const c=!this._dateAdapter.sameDate(r,this.value);!r||c?this._cvaOnChange(r):(n&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),c&&(this._assignValue(r),this.dateInput.emit(new Oi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Oi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,inputs:{value:"value",disabled:[2,"disabled","disabled",P.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[t.OA$]})}return a})();const Zd={provide:Q.kq,useExisting:(0,s.Rfq)(()=>Ga),multi:!0},qd={provide:Q.cz,useExisting:(0,s.Rfq)(()=>Ga),multi:!0};let Ga=(()=>{class a extends Kd{_formField=(0,s.WQX)(wt.h,{optional:!0});_closedSubscription=mn.yU.EMPTY;_openedSubscription=mn.yU.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=(0,s.vPA)(null);get min(){return this._min}set min(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){const n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Q.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,i){1&n&&t.bIt("input",function(c){return i._onInput(c)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(c){return i._onKeydown(c)}),2&n&&(t.Avn("disabled",i.disabled),t.BMQ("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",i._ariaOwns())("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[t.Jv_([Zd,qd,{provide:Ra.M,useExisting:a}]),t.Vt3]})}return a})(),eu=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","matDatepickerToggleIcon",""]]})}return a})(),Rs=(()=>{class a{_intl=(0,s.WQX)(Hn);_changeDetectorRef=(0,s.WQX)(P.gRc);_stateChanges=mn.yU.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){const e=(0,s.WQX)(new P.ES_("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||0===n?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,pt.of)(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,pt.of)(),i=this.datepicker?(0,Vn.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,pt.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Vn.h)(this._intl.changes,e,n,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,i,r){if(1&n&&t.wni(r,eu,5),2&n){let c;t.mGM(c=t.lsd())&&(i._customIcon=c.first)}},viewQuery:function(n,i){if(1&n&&t.GBs(Pd,5),2&n){let r;t.mGM(r=t.lsd())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,i){1&n&&t.bIt("click",function(c){return i._open(c)}),2&n&&(t.BMQ("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),t.AVh("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",P.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[t.OA$],ngContentSelectors:Rd,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,i){1&n&&(t.NAR(Od),t.j41(0,"button",1,0),t.nVh(2,Ld,2,0,":svg:svg",2),t.SdG(3),t.k0s()),2&n&&(t.Y8G("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled)("disableRipple",i.disableRipple),t.BMQ("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("aria-expanded",i.datepicker?i.datepicker.opened:null),t.R7$(2),t.vxM(i._customIcon?-1:2))},dependencies:[en.M],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}\n"],encapsulation:2,changeDetection:0})}return a})(),iu=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({providers:[Hn,Xd],imports:[It.Hl,an.t,Cs.A,Bn.jc,zn.M,Ps,Rs,As,ht.Gj]})}return a})();var Ut=m(59791),au=m(53524),Gn=m(23731);const ru=["panelTemplate"],su=(a,l)=>l.value;function ou(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-option",3),t.bIt("onSelectionChange",function(i){s.eBV(e);const r=t.XpG(2);return s.Njj(r._selectValue(i.source))}),t.EFF(1),t.k0s()}if(2&a){const e=l.$implicit;t.Y8G("value",e.value),t.R7$(),t.JRh(e.label)}}function lu(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",1),t.bIt("animationend",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r._handleAnimationEnd(i))}),t.Z7z(1,ou,2,2,"mat-option",2,su),t.k0s()}if(2&a){const e=t.XpG();t.AVh("mat-timepicker-panel-animations-enabled",!e._animationsDisabled)("mat-timepicker-panel-exit",!e.isOpen()),t.Y8G("id",e.panelId),t.BMQ("aria-label",e.ariaLabel()||null)("aria-labelledby",e._getAriaLabelledby()),t.R7$(),t.Dyx(e._timeOptions)}}const cu=[[["","matTimepickerToggleIcon",""]]],du=["[matTimepickerToggleIcon]"];function uu(a,l){1&a&&(s.qSk(),t.j41(0,"svg",1),t.nrm(1,"path",2),t.k0s())}const pu=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,Vs=new s.nKC("MAT_TIMEPICKER_CONFIG");function Ys(a){let l;if(null===a)return null;if("number"==typeof a)l=a;else{if(0===a.trim().length)return null;const e=a.match(pu),n=e?parseFloat(e[1]):null,i=e?.[2]?.toLowerCase()||null;if(!e||null===n||isNaN(n))return null;l="h"===i||"hour"===i||"hours"===i?3600*n:"m"===i||"min"===i||"minute"===i||"minutes"===i?60*n:n}return l}const hu=new s.nKC("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{const a=(0,s.WQX)(s.zZn);return()=>(0,an.o)(a)}});let Wa=(()=>{class a{_dir=(0,s.WQX)(An.D,{optional:!0});_viewContainerRef=(0,s.WQX)(t.c1b);_injector=(0,s.WQX)(s.zZn);_defaultConfig=(0,s.WQX)(Vs,{optional:!0});_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dateFormats=(0,s.WQX)(Dn,{optional:!0});_scrollStrategyFactory=(0,s.WQX)(hu);_animationsDisabled=(0,bi._)();_isOpen=(0,s.vPA)(!1);_activeDescendant=(0,s.vPA)(null);_input=(0,s.vPA)(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=P.ebz.required("panelTemplate");_timeOptions=[];_options=(0,P.dtW)(Gn.M);_keyManager=new au.A(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=(0,P.hFB)(Ys(this._defaultConfig?.interval||null),{transform:Ys});options=(0,P.hFB)(null);isOpen=this._isOpen.asReadonly();selected=(0,P.CGW)();opened=(0,P.CGW)();closed=(0,P.CGW)();activeDescendant=this._activeDescendant.asReadonly();panelId=(0,s.WQX)(Ai._).getId("mat-timepicker-panel-");disableRipple=(0,P.hFB)(this._defaultConfig?.disableRipple??!1,{transform:P.L39});ariaLabel=(0,P.hFB)(null,{alias:"aria-label"});ariaLabelledby=(0,P.hFB)(null,{alias:"aria-labelledby"});disabled=(0,Pe.EW)(()=>!!this._input()?.disabled());constructor(){(0,s.WQX)(t.aKT).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){const e=this._input();if(!e||(e.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();const n=this._getOverlayRef();n.updateSize({width:e.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new Bn.VA(this._panelTemplate(),this._viewContainerRef),n.hasAttached()||n.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=(0,t.mal)(()=>{const i=this._options();this._syncSelectedState(e.value(),i,i[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(e){this._input(),this._input.set(e)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(e){this.close(),this._keyManager.setActiveItem(e),this._options().forEach(n=>{n!==e&&n.deselect(!1)}),this.selected.emit({value:e.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(e){"_mat-timepicker-exit"===e.animationName&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;const e=(0,an.h)(this._injector,this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=(0,an.c)(this._injector,{positionStrategy:e,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1,disableAnimations:this._animationsDisabled}),this._overlayRef.detachments().subscribe(()=>this.close()),this._overlayRef.keydownEvents().subscribe(n=>this._handleKeydown(n)),this._overlayRef.outsidePointerEvents().subscribe(n=>{const i=(0,qn._)(n),r=this._input()?.getOverlayOrigin().nativeElement;i&&r&&i!==r&&!r.contains(i)&&this.close()}),this._overlayRef}_generateOptions(){const e=this.interval()??1800,n=this.options();if(null!==n)this._timeOptions=n;else{const i=this._input(),r=this._dateAdapter,c=this._dateFormats.display.timeInput,g=i?.min()||r.setTime(r.today(),0,0,0),b=i?.max()||r.setTime(r.today(),23,59,0),z=e+"/"+r.format(g,c)+"/"+r.format(b,c);z!==this._optionsCacheKey&&(this._optionsCacheKey=z,this._timeOptions=function mu(a,l,e,n,i){const r=[];let c=a.compareTime(e,n)<1?e:n;for(;a.sameDate(c,e)&&a.compareTime(c,n)<1&&a.isValid(c);)r.push({value:c,label:a.format(c,l.display.timeOptionLabel)}),c=a.addSeconds(c,i);return r}(r,this._dateFormats,g,b,e))}}_syncSelectedState(e,n,i){let r=!1;for(const c of n)e&&this._dateAdapter.sameTime(c.value,e)?(c.select(!1),Xa(c,"center"),(0,Pe.O8)(()=>this._keyManager.setActiveItem(c)),r=!0):c.deselect(!1);r||(i?((0,Pe.O8)(()=>this._keyManager.setActiveItem(i)),Xa(i,"center")):(0,Pe.O8)(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(e){const n=e.keyCode;if(n===ot.T)this.close();else if(n!==ot.g||(0,yn.rp)(e))if(n===ot.c)e.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{const i=this._keyManager.activeItem;this._keyManager.onKeydown(e);const r=this._keyManager.activeItem;r&&r!==i&&Xa(r,"nearest")}else e.preventDefault(),this.close()}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){(0,Pe.QZ)(()=>{const e=this._input(),n=this._options();this._isOpen()&&e&&this._syncSelectedState(e.value(),n,null)})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-timepicker"]],viewQuery:function(n,i){1&n&&(t.wEZ(i._panelTemplate,ru,5),t.wEZ(i._options,Gn.M,5)),2&n&&t.NyB(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[t.Jv_([{provide:Gn.c,useExisting:a}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(n,i){1&n&&t.DNE(0,lu,3,7,"ng-template",null,0,t.C5r)},dependencies:[Gn.M],styles:["@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}\n"],encapsulation:2,changeDetection:0})}return a})();function Xa(a,l){a._getHostElement().scrollIntoView({block:l,inline:l})}let fu=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_dateAdapter=(0,s.WQX)(Nt,{optional:!0});_dateFormats=(0,s.WQX)(Dn,{optional:!0});_formField=(0,s.WQX)(wt.h,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=(0,s.vPA)(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=(0,Pe.EW)(()=>{const e=this.timepicker(),n=e.isOpen(),i=e.activeDescendant();return n&&i?i:null});_ariaExpanded=(0,Pe.EW)(()=>this.timepicker().isOpen()+"");_ariaControls=(0,Pe.EW)(()=>{const e=this.timepicker();return e.isOpen()?e.panelId:null});value=(0,P.geq)(null);timepicker=P.hFB.required({alias:"matTimepicker"});min=(0,P.hFB)(null,{alias:"matTimepickerMin",transform:e=>this._transformDateInput(e)});max=(0,P.hFB)(null,{alias:"matTimepickerMax",transform:e=>this._transformDateInput(e)});disabled=(0,Pe.EW)(()=>this.disabledInput()||this._accessorDisabled());disabledInput=(0,P.hFB)(!1,{transform:P.L39,alias:"disabled"});constructor(){const e=(0,s.WQX)(t.sFG);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=e.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(e){const n=this._dateAdapter.deserialize(e);this.value.set(this._dateAdapter.getValidDateOrNull(n))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._accessorDisabled.set(e)}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._validatorOnChange=e}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(e){const n=e.target.value,i=this.value(),r=this._dateAdapter.parseTime(n,this._dateFormats.parse.timeInput),c=!this._dateAdapter.sameTime(r,i);!r||c||n&&!i?this._assignUserSelection(r,!0):this._validatorOnChange?.()}_handleBlur(){const e=this.value();e&&this._isValid(e)&&this._formatValue(e),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(e){this.timepicker().isOpen()||this.disabled()||(e.keyCode!==ot.g||(0,yn.rp)(e)||null===this.value()?(e.keyCode===ot.D||e.keyCode===ot.U)&&(e.preventDefault(),this.timepicker().open()):(e.preventDefault(),this.value.set(null),this._formatValue(null)))}_respondToValueChanges(){(0,Pe.QZ)(()=>{const e=this._dateAdapter.deserialize(this.value()),n=this._lastValueValid;this._lastValueValid=this._isValid(e),this._hasFocus()||this._formatValue(e),e&&this._lastValueValid&&(this._lastValidDate=e),n!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){(0,Pe.QZ)(()=>{const e=this.timepicker();e.registerInput(this),e.closed.subscribe(()=>this._onTouched?.()),e.selected.subscribe(({value:n})=>{this._dateAdapter.sameTime(n,this.value())||(this._assignUserSelection(n,!0),this._formatValue(n))})})}_respondToMinMaxChanges(){(0,Pe.QZ)(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(e,n){if(null!=e&&this._isValid(e)){const i=this._dateAdapter,r=i.getValidDateOrNull(this._lastValidDate||this.value()),c=i.getHours(e),g=i.getMinutes(e),b=i.getSeconds(e);this.value.set(r?i.setTime(r,c,g,b):e)}else this.value.set(e);n&&this._onChange?.(this.value())}_formatValue(e){e=this._dateAdapter.getValidDateOrNull(e),this._elementRef.nativeElement.value=null==e?"":this._dateAdapter.format(e,this._dateFormats.display.timeInput)}_isValid(e){return!e||this._dateAdapter.isValid(e)}_transformDateInput(e){const n="string"==typeof e?this._dateAdapter.parseTime(e,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(e);return n&&this._dateAdapter.isValid(n)?n:null}_hasFocus(){return(0,qn.c)()===this._elementRef.nativeElement}_getValidator(){return Q.k0.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},e=>{const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this.min();return!i||!n||this._dateAdapter.compareTime(i,n)<=0?null:{matTimepickerMin:{min:i,actual:n}}},e=>{const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this.max();return!i||!n||this._dateAdapter.compareTime(i,n)>=0?null:{matTimepickerMax:{max:i,actual:n}}}])}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(n,i){if(1&n&&t.bIt("blur",function(){return i._handleBlur()})("input",function(c){return i._handleInput(c)})("keydown",function(c){return i._handleKeydown(c)}),2&n){let r;t.Avn("disabled",i.disabled()),t.BMQ("aria-activedescendant",i._ariaActiveDescendant())("aria-expanded",i._ariaExpanded())("aria-controls",i._ariaControls())("mat-timepicker-id",null==(r=i.timepicker())?null:r.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[t.Jv_([{provide:Q.kq,useExisting:a,multi:!0},{provide:Q.cz,useExisting:a,multi:!0},{provide:Ra.M,useExisting:a}])]})}return a})(),zs=(()=>{class a{_defaultConfig=(0,s.WQX)(Vs,{optional:!0});_defaultTabIndex=(()=>{const e=(0,s.WQX)(new P.ES_("tabindex"),{optional:!0}),n=Number(e);return isNaN(n)?null:n})();_isDisabled=(0,Pe.EW)(()=>{const e=this.timepicker();return this.disabled()||e.disabled()});timepicker=P.hFB.required({alias:"for"});ariaLabel=(0,P.hFB)(void 0,{alias:"aria-label"});ariaLabelledby=(0,P.hFB)(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=(0,P.hFB)(!1,{transform:P.L39,alias:"disabled"});tabIndex=(0,P.hFB)(this._defaultTabIndex);disableRipple=(0,P.hFB)(this._defaultConfig?.disableRipple??!1,{transform:P.L39});_open(e){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),e.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(n,i){1&n&&t.bIt("click",function(c){return i._open(c)}),2&n&&t.BMQ("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:du,decls:3,vars:6,consts:[["matIconButton","","type","button","aria-haspopup","listbox",3,"tabIndex","disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(n,i){1&n&&(t.NAR(cu),t.j41(0,"button",0),t.SdG(1,0,null,uu,2,0),t.k0s()),2&n&&(t.Y8G("tabIndex",i._isDisabled()?-1:i.tabIndex())("disabled",i._isDisabled())("disableRipple",i.disableRipple()),t.BMQ("aria-label",i.getAriaLabel())("aria-labelledby",i.ariaLabelledby())("aria-expanded",i.timepicker().isOpen()))},dependencies:[en.M],encapsulation:2,changeDetection:0})}return a})(),gu=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({imports:[Wa,zs,ht.Gj]})}return a})();m(99718),m(91810),m(46155),m(21118),m(36626),m(26058),m(93996),m(90396),m(18214),m(21237),m(29791),m(63238),m(83821),m(73857),m(58403),m(91686),m(64848),m(41624),m(12121),m(13669),m(40598),m(17426),m(6567),m(86886),m(17416),m(35416),m(42434),m(64684),m(9193),m(40623),m(75555),m(96361),m(70116),m(3939),m(80413),m(68224),m(79733),m(69869),m(8470),m(56344),m(24867),m(4826),m(75240),m(62725),m(36795),m(65593),m(29163);var _u=m(49645),St=m.n(_u),vu=m(30001),yu=m.n(vu),bu=m(31444),Cu=m.n(bu),xu=m(83066),Mu=m.n(xu),wu=m(21102),js=m.n(wu);const Qa=new s.nKC("MAT_DAYJS_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:()=>({useUtc:!0})});let ku=(()=>{class a extends Nt{constructor(e,n){super(),this.dateLocale=e,this._options=n,this.log=(0,p.Tq)({MatDayjsDateAdapter:a}),this.log.a("constructor",{this:this,shouldUseUtc:this.shouldUseUtc,dateLocale:e,_options:n}),this.shouldUseUtc&&St().extend(js()),St().extend(Mu()),St().extend(yu()),St().extend(Cu()),this.setLocale(St()().locale())}setLocale(e){super.setLocale(e);const n=this.log.fn("setLocale",{locale:e});St().locale(e);const i=St()().locale(e).localeData();this.localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:St().months(),shortMonths:St().monthsShort(),dates:this.range(31,r=>this.createDate(2017,0,r+1).format("D")),longDaysOfWeek:this.range(7,r=>this.dayJs().set("day",r).format("dddd")),shortDaysOfWeek:St().weekdaysShort(),narrowDaysOfWeek:St().weekdaysMin()},n.r(this.localeData)}getYear(e){return this.clone(e).year()}getMonth(e){return this.clone(e).month()}getDate(e){return this.clone(e).date()}getDayOfWeek(e){return this.clone(e).day()}getMonthNames(e){return"long"===e?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(e){return"long"===e?this.localeData.longDaysOfWeek:"short"===e?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(e){return this.clone(e).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(e){return this.clone(e).daysInMonth()}clone(e){return this.dayJs(e).clone()}createDate(e,n,i){return this.dayJs().set("year",e).set("month",n).set("date",i).set("hour",0).set("minute",0).set("second",0).set("millisecond",0)}today(){return this.dayJs()}parse(e,n){const i="string"==typeof e,r=this.log.fn("parse",{value:e,parseFormat:n,valueIsString:i});if(e&&i){const c=St()().localeData().longDateFormat(n);let g=this.dayJs(e,c,this.locale,!0);if(g.isValid())return g;if(9===e.length){const b=c.replace("DD","D");if(g=this.dayJs(e,b,this.locale,!0),g.isValid())return g;const z=c.replace("MM","M");if(g=this.dayJs(e,z,this.locale,!0),g.isValid())return g}if(8===e.length){const b=c.replace(/[\W_]+/g,"");if(g=this.dayJs(e,b,this.locale,!0),g.isValid())return g;const z=c.replace("DD","D").replace("MM","M");if(g=this.dayJs(e,z,this.locale,!0),g.isValid())return g}if(e.length<6&&e.length>2){let b=new Array;if(-1!==e.indexOf("/")&&(b=e.split("/")),-1!==e.indexOf("-")&&(b=e.split("-")),-1!==e.indexOf(".")&&(b=e.split(".")),2===b.length){let z,X;if(c.startsWith("D")?(z=b[0],X=b[1]):b.length>1&&(X=b[0],z=b[1]),1===X.length&&(X=0+X),1===z.length&&(z=0+z),g=this.dayJs(z+X,"DDMM",this.locale,!0),g.isValid())return g}}return 2===e.length&&(g=this.dayJs(e,"DD",this.locale,!0),g.isValid())||1===e.length&&(g=this.dayJs(e,"D",this.locale,!0),g.isValid())?g:this.dayJs(null)}return r.r(e?this.dayJs(e).locale(this.locale):null)}parseTime(e,n){return St()(e,n,this.locale,!0)}getSeconds(e){return e.second()}addSeconds(e,n){return e.add(n,"second")}getMinutes(e){return e.minute()}getHours(e){return e.hour()}setTime(e,n,i,r){return e.set("hour",n).set("minute",i).set("second",r)}format(e,n){const i=this.log.fn("format",{date:e,displayFormat:n});if(!this.isValid(e))throw Error("DayjsDateAdapter: Cannot format invalid date.");return i.r(e.locale(this.locale).format(n))}addCalendarYears(e,n){return e.add(n,"year")}addCalendarMonths(e,n){return e.add(n,"month")}addCalendarDays(e,n){return e.add(n,"day")}toIso8601(e){return e.toISOString()}deserialize(e){let n;if(e instanceof Date)n=this.dayJs(e);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;n=this.dayJs(e)}return n&&this.isValid(n)?this.dayJs(n):super.deserialize(e)}isDateInstance(e){return St().isDayjs(e)}isValid(e){return this.clone(e).isValid()}invalid(){return this.dayJs(null)}dayJs(e,n,i,r){if(r=r||!1,!this.shouldUseUtc)return St()(e,n);if("string"==typeof e){const c=new Date(St()(e,n).toDate());return r&&c.setUTCHours(c.getUTCHours()-c.getTimezoneOffset()/60),c.getTimezoneOffset()>0?St()(new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()))).add(1,"day").utc():St()(new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()))).utc()}return St()(e,n).utc()}range(e,n){const i=Array(e);for(let r=0;r<e;r++)i[r]=n(r);return i}get shouldUseUtc(){const{useUtc:e}=this._options||{};return!!e}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(bs,8),s.KVO(Qa,8))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const Du={parse:{dateInput:"L",timeInput:"LT"},display:{dateInput:"L",timeInput:"LT",timeOptionLabel:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Tu=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=t.$C({type:a});static#n=this.\u0275inj=s.G2t({providers:[{provide:Dn,useValue:Du},{provide:Qa,useValue:{useUtc:!0}},{provide:Nt,useClass:ku,deps:[bs,Qa]}]})}return a})();function Eu(a){St().extend(js()),St().locale(a)}function Iu(a){return St().utc(a)}function Au(a){const l=St()().utc().hour(0).minute(0).second(0),e=[{label:"00:00 AM",value:l.hour(0)},{label:"06:00 AM",value:l.hour(6)},{label:"08:00 AM",value:l.hour(8)},{label:"10:00 AM",value:l.hour(10)},{label:"12:00 PM",value:l.hour(12)},{label:"06:00 PM",value:l.hour(18)}];if(!a||!a.isValid())return e;let n={label:a.format("HH:mm A"),value:St()().utc().hour(a.hour()).minute(a.minute()).second(0)};if(e.some(r=>r.value.hour()===n.value.hour()&&r.value.minute()===n.value.minute()))return e;const i=[...e,n];return i.sort((r,c)=>r.value.valueOf()-c.value.valueOf()),i}function Fu(a){return a?St()(a).format("L LT"):""}function Pu(a,l,e){if(!a)return e(null),!0;let n=St()(a,"L LT");return!!n.isValid()&&(Ri(n,n,l,e),!0)}function Ou(a,l,e){const n=St()(a,"HH:mm");null!=n?n.isValid()&&Ri(null,n,l,e):e(null)}function Ru(a,l,e){null!=a?a.isValid()&&Ri(a,null,l,e):e(null)}function Ri(a,l,e,n,i=!0){if(!a&&!l)return null;let r=St()(e).isValid()?St()(e).utc():St()().utc().hour(0).minute(0).second(0);a&&(r=r.year(a.year()).month(a.month()).date(a.date())),l&&(r=r.hour(l.hour()).minute(l.minute()).second(0));const c=i?r.toISOString():r.utc().hour(0).minute(0).second(0).toISOString();return n(c),c}let xn=(()=>{class a{static#e=this.initializeDayjs=Eu;static#t=this.updateFormattedValue=Ri;static#n=this.updateDate=Ru;static#i=this.updateTime=Ou;static#a=this.handleDateTimeInput=Pu;static#r=this.formatDateTime=Fu;static#s=this.generateTimePickerOptions=Au;static#o=this.getDateTimeValue=Iu}return a})(),Lu=(()=>{class a extends fu{constructor(){super(),this.timepicker=P.hFB.required({alias:"myMatTimepicker"}),this._cleanupClick()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["input","myMatTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(n,i){if(1&n&&t.bIt("blur",function(){return i._handleBlur()})("input",function(c){return i._handleInput(c)})("keydown",function(c){return i._handleKeydown(c)}),2&n){let r;t.Avn("disabled",i.disabled()),t.BMQ("aria-activedescendant",i._ariaActiveDescendant())("aria-expanded",i._ariaExpanded())("aria-controls",i._ariaControls())("mat-timepicker-id",null==(r=i.timepicker())?null:r.panelId)}},inputs:{timepicker:[1,"myMatTimepicker","timepicker"]},exportAs:["myMatTimepickerInput"],features:[t.Jv_([{provide:Q.kq,useExisting:a,multi:!0},{provide:Q.cz,useExisting:a,multi:!0},{provide:Ra.M,useExisting:a}]),t.Vt3]})}return a})();function Vu(a,l){if(1&a){const e=t.RV6();t.j41(0,"input",8),t.bIt("change",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.handleDateTimeInput(i))}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("disabled",e.ui().disabled)("required",e.basics().required)("value",e.formatDateTime(e.dateTimeValue()))("placeholder",e.basics().placeholder||"YYYY-MM-DD HH:MM:SS")}}function Yu(a,l){if(1&a){const e=t.RV6();t.qex(0,7),t.j41(1,"input",9),t.bIt("input",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.updateTime(i))}),t.k0s(),t.nrm(2,"mat-timepicker",10,1)(4,"mat-timepicker-toggle",11),t.bVm()}if(2&a){const e=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("disabled",n.ui().disabled)("required",n.basics().required)("myMatTimepicker",e)("value",n.dateTimeValue())("placeholder",n.basics().placeholder),t.R7$(),t.Y8G("options",n.timePickerOptions()),t.R7$(2),t.Y8G("disabled",n.ui().disabled)("for",e)}}const zu={all:!1,updateDate:!1,updateTime:!1,handleDateTimeInput:!1,disabledEffect:!1,ngAfterViewInit:!1,dateTimeValue:!1,formatDateTime:!1,InvalidDate:!1};let Ja=class ua{static#e=this;constructor(e){this.translate=e,this.log=(0,p.Tq)({DatetimeDefaultComponent:ua},zu),this.fieldState=(0,s.WQX)(at.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.basics=this.fieldState.basics,this.useTimePicker=this.fieldState.settingExt("UseTimePicker"),this.dateTimeValue=(0,Pe.EW)(()=>(this.log.fnIf("dateTimeValue",{uiValue:this.uiValue()}),this.uiValue()?xn.getDateTimeValue(this.uiValue()):null)),this.timePickerOptions=(0,Pe.EW)(()=>xn.generateTimePickerOptions(this.dateTimeValue())),xn.initializeDayjs(navigator.language),this.translate.currentLang=navigator.language}ngAfterViewInit(){const e=this.log.fnIf("ngAfterViewInit");this.timePickerRef&&this.timePickerRef.selected.subscribe(n=>{n&&this.updateFormattedValue(null,n.value)}),e.end()}formatDateTime(e){return this.log.fnIf("formatDateTime",{date:e}),xn.formatDateTime(e)}handleDateTimeInput(e){const n=e.target,i=n.value.trim();this.log.aIf("handleDateTimeInput",{value:i}),xn.handleDateTimeInput(i,this.uiValue(),c=>this.ui().setIfChanged(c))||(n.value=xn.formatDateTime(this.dateTimeValue()),console.error(`Invalid date format: ${i}`))}updateTime(e){this.log.aIf("updateTime",{event:e}),xn.updateTime(e.target.value,this.uiValue(),n=>this.ui().setIfChanged(n))}updateDate(e){this.log.aIf("updateDate",{event:e}),xn.updateDate(e.value,this.uiValue(),n=>this.ui().setIfChanged(n)),e.value&&!e.value.isValid()&&this.log.fnIf("InvalidDate",{date:e.value})}updateFormattedValue(e,n){const i=xn.updateFormattedValue(e||null,n||null,this.uiValue(),r=>{},this.useTimePicker());return this.ui().setIfChanged(i),i}static#t=this.\u0275fac=function(n){return new(n||ua)(t.rXU(re.c$))};static#n=this.\u0275cmp=t.VBU({type:ua,selectors:[["datetime-default"]],viewQuery:function(n,i){if(1&n&&t.GBs(Wa,5),2&n){let r;t.mGM(r=t.lsd())&&(i.timePickerRef=r.first)}},decls:10,vars:11,consts:[["datepicker",""],["timepicker",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"disabled","required","value","placeholder"],["matInput","",3,"dateChange","disabled","required","matDatepicker","value","placeholder"],["xPosition","end"],["matSuffix","","tippyTranslate","Fields.DateTime.OpenCalender",3,"for"],["matSuffix",""],["matInput","",3,"change","disabled","required","value","placeholder"],["matInput","",1,"hidden-picker-input",3,"input","disabled","required","myMatTimepicker","value","placeholder"],[3,"options"],["tippyTranslate","Fields.DateTime.OpenTime",3,"disabled","for"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"mat-form-field",2)(1,"mat-label"),t.EFF(2),t.k0s(),t.nVh(3,Vu,1,4,"input",3),t.j41(4,"input",4),t.bIt("dateChange",function(g){return s.eBV(r),s.Njj(i.updateDate(g))}),t.k0s(),t.nrm(5,"mat-datepicker",5,0)(7,"mat-datepicker-toggle",6),t.nVh(8,Yu,5,8,"ng-container",7),t.k0s(),t.nrm(9,"app-field-helper-text")}if(2&n){const r=t.sdS(6);t.R7$(2),t.JRh(i.basics().label),t.R7$(),t.vxM(i.useTimePicker()?3:-1),t.R7$(),t.AVh("hidden-picker-input",i.useTimePicker()),t.Y8G("disabled",i.ui().disabled)("required",i.basics().required)("matDatepicker",r)("value",i.dateTimeValue())("placeholder",i.basics().placeholder),t.R7$(3),t.Y8G("for",r),t.R7$(),t.vxM(i.useTimePicker()?8:-1)}},dependencies:[Gt.M,wt.j,wt.M,wt.g,Q.YN,Q.X1,Ut.fS,Ut.fg,Zt,Tu,Lt.e,iu,Qd,Ga,Rs,gu,Wa,zs,Lu],styles:[".hidden-picker-input[_ngcontent-%COMP%]{display:none}  .mat-timepicker-panel{--mat-option-selected-state-label-text-color: black;max-width:10rem!important;position:absolute!important;right:0!important}  .cdk-overlay-pane:has(.mat-timepicker-panel){position:relative!important}"],changeDetection:0})};Ja=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[re.c$])],Ja);let ju=(()=>{class a{constructor(){}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["empty-default"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return a})();function Nu(a,l){if(1&a&&(t.nrm(0,"div",0),t.nI1(1,"safeHtml")),2&a){const e=t.XpG();t.Y8G("innerHtml",t.bMT(1,1,e.basics().notes),t.npT)}}let Za=class Hr{constructor(){this.fieldState=(0,s.WQX)(at.W),this.basics=this.fieldState.basics}static#e=this.\u0275fac=function(e){return new(e||Hr)};static#t=this.\u0275cmp=t.VBU({type:Hr,selectors:[["empty-message"]],decls:1,vars:1,consts:[[1,"message-box",3,"innerHtml"]],template:function(e,n){1&e&&t.nVh(0,Nu,2,3,"div",0),2&e&&t.vxM(n.basics().visible?0:-1)},dependencies:[Ln.$],styles:[".message-box[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]})};Za=(0,At.Cg)([Jt({})],Za);class Li extends _t.S{constructor(){super({EntityContentBlocksLogic:Li}),this.name=Je.u.EntityContentBlocks}update(l){const n=ve.y.singleton().get(Je.u.EntityDefault).update(l);return n.EnableRemove=!0,n.AllowMultiValue=!0,n.EnableAddExisting=!1,n.EnableCreate=!1,n.EnableEdit=!1,n.Visible=!1,n.EntityType="ContentGroupReference",n.CreateTypes=n.EntityType,n}}_t.S.add(Li);var Un=m(91817),En=m(19999),si=m(36647),Bu=m(54839);class $s{stripHtml(l){if(!l)return"";if(!l.includes("<"))return l;const e=document.createElement("div");return e.innerHTML=l??"",e.innerText||""}}const Hu={all:!1,data2PickerItem:!1,getMasks:!1,patchMasks:!1,parseMasks:!1,buildMasks:!1};class Vi{constructor(l,e,n,i,r,c){this.name=l,this.settings=e,this.formConfig=i,this.log=(0,p.Tq)({DataSourceMasksHelper:Vi},Hu),this.#e=!1,this.#t=!1,this.#n=!1,this.#i=new $s,this.log.forceEnable(c??r.enableChildren??!1),this.#e=n.allowUse[Rt.T.PickerUiMoreInfo](),this.#n=i.config.dialogContext.User?.IsSystemAdmin,this.log.a("constructor - settings",{settings:e,infoEnabled:this.#e})}#e;#t;#n;#i;#a;data2PickerItem({entity:l,streamName:e,valueMustUseGuid:n,valueDefaultsToGuid:i=!1}){const r=this.log.fnIf("data2PickerItem",{entity:l,streamName:e,valueMustUseGuid:n}),c=this.#s(),g=(()=>{if(n||i&&!c.value)return l.Guid;if(void 0===l[c.value])return l.Value;const se=l[c.value];return void 0!==se?`${se}`:l.Guid})(),b=(()=>{const se=l[c.label];return se?`${se}`:l.Title?`${l.Title}`:`${g}`})(),z=l[c.previewValue]||g;if(r.a("debug values",{masks:c,value:g,label:b,previewValue:z,hasPlaceholders:c.hasPlaceholders}),!c.hasPlaceholders)return r.r({id:l.Id,data:l,value:g,previewValue:z,label:b,tooltip:c.tooltip,info:c.info,link:c.link,sourceStreamName:e??null,rules:l.Rules},"no masks");const X=this.#r(c,l),ie=c.label.includes("[")?X.label:b;return r.r({id:l.Id,data:l,...X,value:g,label:ie,sourceStreamName:e??null,rules:l.Rules},"with masks")}#r(l,e){const n=this.log.fnIf("parseMasks",{masks:l,data:e});let i=l.label;!this.#t&&!this.#e&&`${l.tooltip}${l.info}${l.link}`.length>0&&(this.#n,this.#t=!0);const r=this.#e||this.#n;let c=r?l.tooltip:"",g=r?l.info:"",b=r?l.link:"",z=l.previewValue;return Object.keys(e).forEach(X=>{const ie=e[X]??"",se=new RegExp(`\\[Item:${X}\\]`,"gi");if(z.includes("App:Path")){const Ze=this.formConfig.config.portalRoot.replace(/\/$/,"")+this.formConfig.config.appRoot;z=z.replace("[App:Path]",Ze)}c=c.replace(se,ie),g=g.replace(se,ie),b=b.replace(se,ie),i=i.replace(se,ie),z=z.replace(se,ie)}),n.r({label:i,tooltip:c,info:g,link:b,previewValue:z},"result")}#s(){return this.#a||(this.#a=this.#o(),this.log.aIf("getMasks",{masks:this.#a})),this.#a}#o(){const l=this.settings,e=this.log.fnIf("buildMasks",{settings:l}),n=l.ItemTooltip?this.#i.stripHtml(l.ItemTooltip):"",i=l.ItemInformation?this.#i.stripHtml(l.ItemInformation):"",r=l.ItemLink??"",c=l.Label??"",g=l.Value??"",b=l.PreviewValue??"",X={hasPlaceholders:(n+i+r+c+b).includes("["),tooltip:n,info:i,link:r,label:c,value:g,previewValue:b};return e.r(X,"result")}}class qa{constructor(){this.log=(0,p.Tq)({DataSourceMoreFieldsHelper:qa})}fieldListToRetrieveFromServer(l){this.log.a("fieldListToRetrieveFromServer",{settings:l});const e=l.PickerTreeConfiguration,n=l;return[...["Title","Id","Guid",...n.MoreFields?.split(",")??[],n.Value,n.Label,e?.TreeChildIdField,e?.TreeParentIdField,e?.TreeChildParentRefField,e?.TreeParentChildRefField].map(X=>this.extractFieldNamesFromTokens(X,!0)).flat(),...[l.ItemTooltip,l.ItemInformation,l.ItemLink].map(X=>this.extractFieldNamesFromTokens(X,!1)).flat()].filter(Pn.a.distinct).join(",")}extractFieldNamesFromTokens(l,e=!0){this.log.a("extractFieldNamesFromTokens",{input:l,enableSimpleFields:e});const n=[];if(!(l?.trim().length>0))return n;const i=/\[Item:(\S.*?)\]/gi;let r;for(;null!==(r=i.exec(l));){const c=r[1].trim();c&&n.push(c)}return e&&0===n.length&&n.push(l),n}}const Yi={all:!1,constructor:!1,data:!1,triggerGetAll:!1,addToRefresh:!1,fields:[...dt.z,"Categories"],newIconOptions:!1,fileLoadSettings:!1};let zi=(()=>{class a extends et.V{constructor(){super(),this.fieldState=(0,s.WQX)(at.W),this.features=(0,s.WQX)(_.D),this.formConfig=(0,s.WQX)(k.S),this.fieldName=this.fieldState.name,this.loading=(0,le.KX)("loading",!0),this.getAll$=new ln.t(!1),this.getAll=(0,le.KX)("getAll",!1),this.guidsToRefresh=(0,le.KX)("guidsToRefresh",[]),this.settings=this.fieldState.settings,this.noItemsLoadingFalse={data:[],loading:!1},this.noItemsLoadingTrue={data:[],loading:!0},this.fieldsHelper=new qa,this.helpers=new $s}constructorEnd(){this.log??=(0,p.Tq)({DataSourceBase:a}),this.log.aIf("constructor",{forField:this.fieldState.name})}setup(){return this}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}triggerGetAll(){const e=this.log.fnIf("triggerGetAll");this.getAll$.next(!0),this.getAll.set(!0),e.end()}addToRefresh(e){const n=this.log.fnIf("addToRefresh",{additionalGuids:e}),i=this.guidsToRefresh(),r=[...i,...e].filter(Pn.a.distinct);n.values({before:i,additionalGuids:e,merged:r}),this.guidsToRefresh.set(r),n.end()}createMaskHelper(e,n){return new Vi(this.fieldName,{...this.settings(),...e},this.features,this.formConfig,this.log,n)}fieldsToRetrieve(e){return this.fieldsHelper.fieldListToRetrieveFromServer(e)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const er={...Yi,all:!0,initPrefetch:!1,getFromBackend:!1,addToRefresh:!1,loadMoreIntoSignal:!0,"loadMoreIntoSignal-data":!0};let tr=(()=>{class a extends zi{constructor(){super(),this.querySvc=(0,M.d)(Bu.c),this.#e=(0,le.KX)("typeOrParams",null),this.#t=(0,rt.br)(this.#e),this.#n=this.#t.pipe((0,Un.F)()),this.#i=(0,rt.ot)((0,En.z)([this.#n,this.getAll$.pipe((0,Un.F)(),(0,Oe.p)(e=>!!e),(0,E.T)(()=>[]))]).pipe((0,si.n)(([e])=>this.getFromBackend(e,[],"getAll"))),{initialValue:this.noItemsLoadingFalse}),this.#a=(0,le.KX)("prefetchNow",this.noItemsLoadingFalse),this.#r=(0,le.KX)("modified",this.noItemsLoadingFalse),this.data=(0,le.bo)("data",()=>{const e=this.#a().data,n=this.#i().data,i=this.#r().data,r=[...new Map([...e,...n,...i].map(c=>[c.value,c])).values()];return this.log.a("data",{prefetch:e,all:n,overrides:i,data:r}),r}),this.loading=(0,le.bo)("loading",()=>this.#i().loading||this.#r().loading)}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}#e;#t;#n;#i;#a;#r;initPrefetch(e){const n=this.log.fnIfInList("initPrefetch","fields",this.fieldName,{entityGuids:e}),i=e.filter(Pn.a.distinct);this.#s(this.#a,i,"initPrefetch"),n.end()}setParams(e){this.log.fnIfInList("setParams","fields",this.fieldName,{params:e}),this.#e.set(e)}addToRefresh(e){const n=this.log.fnIf("addToRefresh",{additionalGuids:e});this.#s(this.#r,e,"addToRefresh"),n.end()}#s(e,n,i){const r=this.#e(),c=this.log.fnIfInList("loadMoreIntoSignal","fields",this.fieldName,{additionalGuids:n,params:r,msgForLog:i});if(null==n||0===n.length)return c.end("no additional guids to load/refresh");e.update(g=>({data:g.data,loading:!0})),this.getFromBackend(r,n,i).subscribe(g=>{const b=this.log.fn("loadMoreIntoSignal-data",{additionalGuids:n,additions:g}),z=e();e.update(X=>({data:[...new Map([...X.data,...g.data].map(ie=>[ie.value,ie])).values()],loading:!1})),b.values({before:z,additions:g,merged:e().data})}),c.end()}static#o=this.\u0275fac=function(n){return new(n||a)};static#l=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),$u=(()=>{class a extends tr{constructor(){super(),this.log=(0,p.Tq)({DataSourceAppAssets:a},er),this.constructorEnd()}getFromBackend(e,n,i){const r=this.settings(),{AssetsRootFolder:c,AssetsFileFilter:g,AssetsType:b}=r,z=this.log.fnIf("getFromBackend",{settings:r},i),X=(b??"").toLocaleLowerCase(),ie="all"===X?"Default":"folders"===X?"Folders":"Files",se=this.createMaskHelper({Value:r.Value||"FullName"}),Fe=this.querySvc.getFromQuery(`System.AppAssets/${ie}`,`rootFolder=${c}&filter=${g}`,"").pipe((0,E.T)(Ze=>({data:Ze[ie].map(ut=>se.data2PickerItem({entity:ut,streamName:ie,valueMustUseGuid:!1})),loading:!1})));return z.r(Fe)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),Gs=(()=>{class a extends Kt{constructor(){super(),this.log=(0,p.Tq)({DataAdapterAppAssets:a},kt),this.dataSourceRaw=(0,M.d)($u)}fetchItems(){this.dataSource().triggerGetAll()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Gu=m(85800),Us=/[\\^$.*+?()[\]{}|]/g,Uu=RegExp(Us.source);const Ws=function Wu(a){return(a=(0,Gu.A)(a))&&Uu.test(a)?a.replace(Us,"\\$&"):a};var nr=m(98729);const Xu={all:!0,findAllIconsInCss:!1};function Xs(a,l){const n=(0,nr.T)({findAllIconsInCss:Xs},Xu).fnIf("findAllIconsInCss",{cssSelector:a,showPrefix:l});if(!a)return[];const i=function Ku(a){if(!a)return new RegExp(Qu);if(a.includes("<"))return new RegExp(a,"g");const l=Qs(a,"[:{,]");return new RegExp(l,"g")}(a);console.warn(i);const r=function Zu(){return Array.from(document.styleSheets).map(qu).filter(Boolean)}(),c=[],g={};for(const b of r){const z=Array.from(b).filter(X=>X.selectorText);for(const X of z){const ie=X.selectorText;i.lastIndex=0;const se=i.exec(ie)?.groups;if(!se)continue;console.log("regExed",se.Value,se.ValueRaw,se.Title);const Fe=se.ValueRaw;g[Fe]||(c.push({Id:null,Guid:null,Rule:X,...se,Selector:ie}),g[Fe]=!0)}}return n.a("findAllIconsInCss",{classPrefix:a,showPrefix:l,foundList:c}),n.r(c)}const Qu="(?<ValueRaw>\\.(?<Value>(?<Title>[\\-a-zA-Z0-9]+)))[:,{}]";function Qs(a,l){return a?`${function Ju(a){if(!a)return"";const e=a.startsWith("."),n=e?a.substring(1):a,i=`(?<Value>${Ws(n)}(?<Title>[\\-a-zA-Z0-9]+))`;return`(?<ValueRaw>${e?`${Ws(".")}${i}`:i})`}(a)}${l}`:""}function qu(a){if(!a)return null;try{return a.rules}catch{}try{return a.cssRules}catch{}return null}const ep={...Yi,data:!1,newIconOptions:!0,fileLoadSettings:!1,fields:[...Yi.fields,"*"]};let tp=(()=>{class a extends zi{constructor(e){super(),this.scriptsLoaderService=e,this.log=(0,p.Tq)({DataSourceCss:a},ep),this.loading=(0,le.KX)("loading",!1),this.#e=this.fieldState.settings,this.#t=(0,le.KX)("iconOptions",[]),this.fileLoadSettings=(0,le.bo)("fileLoadSettings",()=>(0,xt.z)(this.#e(),i=>({CssSourceFile:i.CssSourceFile,CssSelectorFilter:i.CssSelectorFilter,PreviewValue:i.PreviewValue,Value:i.Value}))),this.#n=(()=>{const i=this.settings();return new Vi(this.fieldName,{...i,Label:i.Label||"Value"},this.features,this.formConfig,this.log)})(),this.data=(0,le.bo)("data",()=>{const i=this.#t(),r=this.#n,c=this.log.fnIfInList("data","fields",this.fieldName,{options:i,maskHelper:r}),g=i.map(b=>{const z=r.data2PickerItem({entity:b,streamName:null,valueMustUseGuid:!1});return c.a("one item",{entity:b,pickerItem:z}),z});return c.r(g)}),this.constructorEnd(),this.log.fnIf("fileLoadSettings",this.fileLoadSettings());const n=this.fileLoadSettings();this.scriptsLoaderService.load(n.CssSourceFile.split("\n"),()=>{const i=Xs(n.CssSelectorFilter,!1);this.log.fnIf("newIconOptions",{settings:n,newIconOptions:i}),this.#t.set(i)})}#e;#t;#n;static#i=this.\u0275fac=function(n){return new(n||a)(s.KVO(mt))};static#a=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),ir=(()=>{class a extends Ve{constructor(){super(),this.log=(0,p.Tq)({DataAdapterCss:a},Ve.logSpecs),this.dataSourceRaw=(0,M.d)(tp),this.myFeatures=(0,le.KX)("features",{edit:!1,create:!1,delete:!1}),this.log.fnIf("constructor")}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(e){throw new Error("Method not implemented.")}editItem(e,n){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),np=(()=>{class a extends zi{constructor(){super(),this.log=(0,p.Tq)({DataSourceEmpty:a}),this.loading=(0,le.KX)("loading",!1),this.#e=(0,le.KX)("label","something is wrong - using DataSourceEmpty"),this.data=(0,le.bo)("data",()=>[{value:"",label:this.#e()??"No options available",notSelectable:!0,isMessage:!0}]),this.constructorEnd()}#e;preSetup(e){return this.#e.set(e),this}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),Ks=(()=>{class a extends Ve{constructor(){super(),this.log=(0,p.Tq)({DataAdapterEmpty:a},Ve.logSpecs),this.dataSourceRaw=(0,M.d)(np),this.myFeatures=(0,le.KX)("features",{edit:!1,create:!1,delete:!1})}connectState(e){return this.dataSourceRaw.preSetup("Error: configuration missing"),super.connectState(e)}setupEmpty(){const e=this.log.fnIf("setupEmpty");return this.dataSource.set(this.dataSourceRaw.preSetup("Error: configuration missing")),e.rSilent(this)}fetchItems(){this.log.a("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(e){throw new Error("Method not implemented.")}editItem(e,n){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),ip=(()=>{class a extends tr{constructor(){super(),this.log=(0,p.Tq)({DataSourceEntity:a},er),this.constructorEnd()}getFromBackend(e,n,i){const r=this.fieldsToRetrieve(this.settings()),c=this.fieldState.config.inputTypeSpecs,g=c.mustUseGuid;var b=this.log.fnIf("getFromBackend",{typeName:e,guids:n,fields:r,inputType:c.inputType,valueMustUseGuid:g},i);const z=this.createMaskHelper(),X=this.querySvc.getEntities({contentTypes:[e],itemIds:n,fields:r,log:this.log.name}).pipe((0,E.T)(ie=>({data:ie.Default.map(Fe=>z.data2PickerItem({entity:Fe,streamName:null,valueMustUseGuid:g,valueDefaultsToGuid:!0})),loading:!1})));return b.r(X)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),Wn=(()=>{class a extends Kt{constructor(){super(),this.log=(0,p.Tq)({DataAdapterEntity:a},kt),this.dataSourceRaw=(0,M.d)(ip)}syncParams(){this.dataSourceRaw.setParams(this.contentType())}fetchItems(){this.syncParams(),this.dataSource().triggerGetAll()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var ap=m(41573),rp=m(61318);let sp=(()=>{class a extends tr{#e;constructor(){super(),this.log=(0,p.Tq)({DataSourceQuery:a},er),this.#e=(0,s.WQX)(re.c$),this.formState=(0,s.WQX)(k.S),this.#t=Number(this.formState.config.appId),this.#n=(0,le.bo)("streamName",()=>this.settings().StreamName),this.constructorEnd()}#t;#n;getFromBackend(e,n,i){var r=this.log.fnIfInList("getFromBackend","fields",this.fieldName,{params:e,guids:n},i);const c=this.settings(),g=this.#n(),b=c.Query,z=b?b.includes("/")?c.Query:`${c.Query}/${g}`:null;r.a("queryUrl",{queryName:b,streamName:g,queryUrl:z});const ie=(z?(r.a("queryUrl for request",{queryUrl:z}),this.querySvc.getFromQuery(z,e,this.fieldsToRetrieve(this.settings()),n).pipe((0,rp.W)(()=>[]),(0,E.T)(se=>({data:se,loading:!1})))):(r.a("noQueryUrl - will create dummy item"),(0,pt.of)({data:{Default:[{Id:-1,Guid:null,Title:this.#e.instant("Fields.Picker.QueryNotConfigured")}]},loading:!1}))).pipe((0,E.T)(se=>({data:this.#i(se.data,g),loading:se.loading})));return r.r(ie)}#i(e,n){const i=this.log.fn("transformData",{data:e,streamName:n});if(!e)return i.r([Ot.message(this.#e,"Fields.Picker.QueryErrorNoData")],"data is null");const r=this.fieldState.config.inputTypeSpecs,c=r.mustUseGuid,g=n.split(",");i.values({inputType:r.inputType,valueMustUseGuid:c,streamNames:g});const b=g.filter(se=>!e[se]).map(se=>Ot.placeholder(this.#e,"Fields.Picker.QueryStreamNotFound"," "+se)),z=this.createMaskHelper(),X=g.filter(se=>e[se]).reduce((se,Fe)=>{const Ze=e[Fe].map(lt=>z.data2PickerItem({entity:lt,streamName:Fe,valueMustUseGuid:c,valueDefaultsToGuid:!0}));return se.concat(Ze)},[]),ie=this.#a(X);return i.r([...b,...ie])}#a(e){return e&&e.forEach(n=>{const i=n.data?.AppId;n.noEdit=null!=i&&i!==this.#t,n.noDelete=n.noEdit}),e}static#r=this.\u0275fac=function(n){return new(n||a)};static#s=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),Xn=(()=>{class a extends Kt{constructor(){super(),this.log=(0,p.Tq)({DataAdapterQuery:a},kt),this.dataSourceRaw=(0,M.d)(sp),this.#e=(0,M.d)(ap.N).initSignal(this.log.name,this.fieldState.settingExt("UrlParameters"))}#e;syncParams(){this.dataSourceRaw.setParams(this.#e?.result())}fetchItems(){if(this.log.fnIfInList("fetchItems","fields",this.name),this.syncParams(),this.fieldState.settings().Query)this.dataSourceRaw.triggerGetAll();else{const n=[Ot.placeholder(this.translate,"Fields.Picker.QueryNotDefined")];this.errorOptions.set(n)}}static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const op={...Yi,data:!0};let lp=(()=>{class a extends zi{constructor(){super(),this.log=(0,p.Tq)({DataSourceString:a},op),this.loading=(0,le.KX)("loading",!1),this.#e=this.createMaskHelper({Value:"Value"}),this.data=(0,le.bo)("data",()=>{const e=this.settings()._options,n=this.#e,i=this.log.fnIfInList("data","fields",this.fieldName,{options:e,maskHelper:n}),r=e.map(c=>{const g={Id:null,Guid:null,...c},b=n.data2PickerItem({entity:g,streamName:null,valueMustUseGuid:!1});return i.a("one item",{entity:g,pickerItem:b}),b});return i.r(r)}),this.constructorEnd()}#e;static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),In=(()=>{class a extends Ve{constructor(){super(),this.log=(0,p.Tq)({DataAdapterString:a},Ve.logSpecs),this.dataSourceRaw=(0,M.d)(lp),this.myFeatures=(0,le.KX)("features",{edit:!1,create:!1,delete:!1})}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(e){throw new Error("Method not implemented.")}editItem(e,n){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const cp={all:!1,updateValue:!1,add:!1,set:!1,remove:!1,reorder:!1,doAfterDelete:!1,selectedItems:!1,sepAndOpts:!1,createEntityTypes:!1,attachCallback:!1,typesForNew:!1,correctStringEmptyValue:!0,fields:[...dt.z,"Query"]};let dp=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({StateAdapter:a},cp),this.#e=(0,s.WQX)(k.S),this.#t=(0,s.WQX)(at.W),this.settings=this.#t.settings,this.myFeatures=(0,le.KX)("features",{}),this.#i=(0,le.bo)("createTypesRaw",()=>(0,xt.z)(this.settings().CreateTypes,e=>e.split(e.indexOf("\n")>-1?"\n":",")).filter(Boolean)),this.typesForNew=(0,le.bo)("typesForNew",()=>{const e=this.#i().map(r=>({label:null,guid:r})),n=this.log.fnIfInList("typesForNew","fields",this.#n,{raw:e}),i=e.map(r=>{const c=r.guid,g=this.#e.settings.ContentTypes.find(b=>b.Id===c||b.Name==c);return{...r,label:(g?.Title??g?.Name??`${c} (not found)`).replace("UI Picker Source - ",""),guid:g?.Id??c}});return n.r(i)}),this.allowsEmptyLazy=(0,le.KX)("allowsEmptyLazy",(0,le.KX)("initial",!1)),this.selectedItems=(0,le.bo)("selectedItems",()=>{const e=this.#t.uiValue();this.log.fnIf("selectedItems",{uiValue:e});const n=this.mapper.toUi(e),i=this.allowsEmptyLazy()();return 0==n.length&&i?[""]:n}),this.values=(0,le.bo)("values",()=>this.mapper.toUi(this.#t.uiValue()))}setup(e,n){return this.#n=e,this.mapper=n,this}#n;#i;#a;attachCallback(e){const n=this.log.fnIf("attachCallback");return this.#a=e,n.rSilent(this)}#r(e){const n=this.log.fnIfInList("updateValue","fields",this.#n),r=e([...this.values()]),c=this.mapper.toState(r);this.#t.ui().setIfChanged(c),n.end("",{newValue:c})}add(e){this.log.fnIfInList("add","fields",this.#n,{value:e}),this.#r(n=>this.features().multiValue?[...n,e]:[e])}set(e){this.log.fnIf("set",{values:e}),this.#r(()=>e)}flush(){this.set([])}reorder(e){this.log.fnIf("reorder",{reorderIndexes:e}),this.#r(n=>((0,Zn.HD)(n,e.previousIndex,e.currentIndex),[...n]))}remove(e){this.log.fnIf("remove",{index:e}),this.#r(n=>(n.splice(e,1),[...n])),this.values().length||setTimeout(()=>this.#a())}doAfterDelete(e){this.log.fnIf("doAfterDelete",{props:e}),this.remove(e.index)}static#s=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();class ar{constructor(l,e){this.fieldName=l,this.settings=e}}class ji extends ar{toUi(l){return l}toState(l){return l}}class Js extends ar{toUi(l){return null==l?[]:[l.toString()]}toState(l){const e=null==l||0===l.length?"":Qr(l,this.settings().Separator),n=Number(e);return isNaN(n)?null:n}}class Ni extends ar{toUi(l){return null==l||""===l?[]:l.split(this.settings().Separator)??[]}toState(l){return null==l||0===l.length?"":Qr(l,this.settings().Separator)}}const rr={UiPickerSourceCustomList:"UiPickerSourceCustomList",UiPickerSourceCustomCsv:"UiPickerSourceCustomCsv"},Vt={...rr,UiPickerSourceQuery:"UiPickerSourceQuery",UiPickerSourceEntity:"UiPickerSourceEntity",UiPickerSourceAppAssets:"UiPickerSourceAppAssets",UiPickerSourceCss:"UiPickerSourceCss"},Zs="UiPickerModeTree";class sr{constructor(l){this.injector=l,this.log=(0,p.Tq)({PickerDataSetup:sr},null)}setupPickerData(l,e){const n=l,i=n.setupAlreadyStarted,r=e.config.inputTypeSpecs.inputType,c=this.log.fn("createPickerAdapters",{pickerData:l,fieldState:e,inputType:r,alreadyStarted:i});if(i)return c.rSilent(l,"exist, already started");n.setupAlreadyStarted=!0;const g=this.#e(e.name,r,e.settings),b=e.settings().dataSourceType,z=this.#t(r,b,g);return l.setup(e.name,e.settings,g,z),l.source?.onAfterViewInit?.(),c.rSilent(l)}#e(l,e,n){const i=or[e]?.uiMapper;if(!i)throw new Error(`No State Adapter found for inputTypeSpecs: ${e}`);const r=(0,M.d)(dp,this.injector),c=new i(l,n);return r.setup(l,c),r}#t(l,e,n){const i=this.log.fn("getSourceAdapter",{inputType:l,dataSourceType:e}),r=or[l],c=r.forcePickerConfig??e;i.a("use config type",{dataSourceType:e,forcePickerConfig:r.forcePickerConfig,dsType:c});const g=up[c]??Ks;this.#n(l,g);const b=(0,M.d)(g,this.injector).connectState(n);return i.r(b)}#n(l,e){if(e===Ks||or[l]?.sources?.includes(e))return!1;throw new Error(`Specified SourceAdapter not allowed for inputTypeSpecs: ${l}: ${In}`)}}const up={[Vt.UiPickerSourceCustomList]:In,[Vt.UiPickerSourceCustomCsv]:In,[Vt.UiPickerSourceCss]:ir,[Vt.UiPickerSourceQuery]:Xn,[Vt.UiPickerSourceEntity]:Wn,[Vt.UiPickerSourceAppAssets]:Gs},or={[Je.u.StringPicker]:{sources:[In,Xn,Wn,ir,Gs],uiMapper:Ni},[Je.u.StringDropdown]:{sources:[In],uiMapper:Ni,forcePickerConfig:Vt.UiPickerSourceCustomList},[Je.u.StringFontIconPicker]:{sources:[ir],uiMapper:Ni,forcePickerConfig:Vt.UiPickerSourceCss},[Je.u.NumberDropdown]:{sources:[In],uiMapper:Js,forcePickerConfig:Vt.UiPickerSourceCustomList},[Je.u.NumberPicker]:{sources:[In,Xn,Wn],uiMapper:Js},[Je.u.StringDropdownQuery]:{sources:[Xn],uiMapper:Ni,forcePickerConfig:Vt.UiPickerSourceQuery},[Je.u.EntityDefault]:{sources:[Wn],uiMapper:ji,forcePickerConfig:Vt.UiPickerSourceEntity},[Je.u.EntityQuery]:{sources:[Xn],uiMapper:ji,forcePickerConfig:Vt.UiPickerSourceQuery},[Je.u.EntityContentBlocks]:{sources:[Wn],uiMapper:ji,forcePickerConfig:Vt.UiPickerSourceEntity},[Je.u.EntityPicker]:{sources:[Wn,Xn,In],uiMapper:ji}};var lr=m(79771),qs=m(31403),eo=m(72551),pp=m(59400),to=m(23513),no=m(49923),io=m(51903),mp=m(83594),ao=m(1019),cr=m(22810);class ro{dataNodes;expansionModel=new Ci.S(!0);trackBy;getLevel;isExpandable;getChildren;toggle(l){this.expansionModel.toggle(this._trackByValue(l))}expand(l){this.expansionModel.select(this._trackByValue(l))}collapse(l){this.expansionModel.deselect(this._trackByValue(l))}isExpanded(l){return this.expansionModel.isSelected(this._trackByValue(l))}toggleDescendants(l){this.expansionModel.isSelected(this._trackByValue(l))?this.collapseDescendants(l):this.expandDescendants(l)}collapseAll(){this.expansionModel.clear()}expandDescendants(l){let e=[l];e.push(...this.getDescendants(l)),this.expansionModel.select(...e.map(n=>this._trackByValue(n)))}collapseDescendants(l){let e=[l];e.push(...this.getDescendants(l)),this.expansionModel.deselect(...e.map(n=>this._trackByValue(n)))}_trackByValue(l){return this.trackBy?this.trackBy(l):l}}class hp extends ro{getLevel;isExpandable;options;constructor(l,e,n){super(),this.getLevel=l,this.isExpandable=e,this.options=n,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(l){const n=[];for(let i=this.dataNodes.indexOf(l)+1;i<this.dataNodes.length&&this.getLevel(l)<this.getLevel(this.dataNodes[i]);i++)n.push(this.dataNodes[i]);return n}expandAll(){this.expansionModel.select(...this.dataNodes.map(l=>this._trackByValue(l)))}}const Bi=new s.nKC("CDK_TREE_NODE_OUTLET_NODE");let oi=(()=>{class a{viewContainer=(0,s.WQX)(t.c1b);_node=(0,s.WQX)(Bi,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","cdkTreeNodeOutlet",""]]})}return a})();class fp{$implicit;level;index;count;constructor(l){this.$implicit=l}}let Hi=(()=>{class a{template=(0,s.WQX)(t.C4Q);when;constructor(){}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return a})();function so(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let Qn=(()=>{class a{_differs=(0,s.WQX)(P._q3);_changeDetectorRef=(0,s.WQX)(P.gRc);_elementRef=(0,s.WQX)(t.aKT);_dir=(0,s.WQX)(An.D);_onDestroy=new ke.B;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new ln.t({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new ln.t([]);_nodeType=new ln.t(null);_nodes=new ln.t(new Map);_keyManagerNodes=new ln.t([]);_keyManagerFactory=(0,s.WQX)(mp.T);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const e=this._nodeDefs.filter(n=>!n.when);this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){null===this._nodeType.value&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Ci.S(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;(0,ao.i)(this._dataSource)?e=this._dataSource.connect(this):(0,eo.A)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=(0,pt.of)(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe((0,bn.Q)(this._onDestroy)).subscribe(n=>{this._renderDataChanges(n)}))}_getRenderData(e){const n=this._getExpansionModel();return(0,En.z)([e,this._nodeType,n.changed.pipe((0,ae.Z)(null),(0,Y.M)(i=>{this._emitExpansionChanges(i)}))]).pipe((0,si.n)(([i,r])=>null===r?(0,pt.of)({renderNodes:i,flattenedNodes:null,nodeType:r}):this._computeRenderingData(i,r).pipe((0,E.T)(c=>({...c,nodeType:r})))))}_renderDataChanges(e){null!==e.nodeType?(this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)):this.renderNodeChanges(e.renderNodes)}_emitExpansionChanges(e){if(!e)return;const n=this._nodes.value;for(const i of e.added)n.get(i)?._emitExpansionState(!0);for(const i of e.removed)n.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){const e=(0,En.z)([this._keyManagerNodes,this._nodes]).pipe((0,E.T)(([i,r])=>i.reduce((c,g)=>{const b=r.get(this._getExpansionKey(g));return b&&c.push(b),c},[])));this._keyManager=this._keyManagerFactory(e,{trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const e=this.trackBy??((n,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,n=this._dataDiffer,i=this._nodeOutlet.viewContainer,r){const c=n.diff(e);!c&&!this._viewInit||(c?.forEachOperation((g,b,z)=>{if(null==g.previousIndex)this.insertNode(e[z],z,i,r);else if(null==z)i.remove(b);else{const X=i.get(b);i.move(X,z)}}),c?.forEachIdentityChange(g=>{const b=g.item;null!=g.currentIndex&&(i.get(g.currentIndex).context.$implicit=b)}),r?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,n){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(r=>r.when&&r.when(n,e))||this._defaultNodeDef}insertNode(e,n,i,r){const c=this._getLevelAccessor(),g=this._getNodeDef(e,n),b=this._getExpansionKey(e),z=new fp(e);r??=this._parents.get(b)??void 0,z.level=c?c(e):void 0!==r&&this._levels.has(this._getExpansionKey(r))?this._levels.get(this._getExpansionKey(r))+1:0,this._levels.set(b,z.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(g.template,z,n),fn.mostRecentTreeNode&&(fn.mostRecentTreeNode.data=e)}isExpanded(e){return!(!this.treeControl?.isExpanded(e)&&!this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){const n=this._expansionModel;n.select(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,pe.s)(1),(0,bn.Q)(this._onDestroy)).subscribe(i=>{n.select(...i.map(r=>this._getExpansionKey(r)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){const n=this._expansionModel;n.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe((0,pe.s)(1),(0,bn.Q)(this._onDestroy)).subscribe(i=>{n.deselect(...i.map(r=>this._getExpansionKey(r)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){const n=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return(0,pt.of)([]);const r=this._getExpansionKey(e),c=i.changed.pipe((0,si.n)(b=>b.added.includes(r)?(0,pt.of)(!0):b.removed.includes(r)?(0,pt.of)(!1):pp.w),(0,ae.Z)(this.isExpanded(e)));if(n)return(0,En.z)([c,this._flattenedNodes]).pipe((0,E.T)(([b,z])=>b?this._findChildrenByLevel(n,z,e,1):[]));const g=this._getChildrenAccessor();if(g)return(0,cr.x)(g(e)??[]);throw so()}_findChildrenByLevel(e,n,i,r){const c=this._getExpansionKey(i),g=n.findIndex(ie=>this._getExpansionKey(ie)===c),b=e(i),z=b+r,X=[];for(let ie=g+1;ie<n.length;ie++){const se=e(n[ie]);if(se<=b)break;se<=z&&X.push(n[ie])}return X}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){const n=this._getAriaSet(e),i=this._getExpansionKey(e);return n.findIndex(r=>this._getExpansionKey(r)===i)+1}_getNodeParent(e){const n=this._parents.get(this._getExpansionKey(e.data));return n&&this._nodes.value.get(this._getExpansionKey(n))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe((0,E.T)(n=>n.reduce((i,r)=>{const c=this._nodes.value.get(this._getExpansionKey(r));return c&&i.push(c),i},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{const n=this._nodes.getValue();for(const[,i]of n)if(e.target===i._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return(0,pt.of)(this.treeControl.getDescendants(e));if(this.levelAccessor){const n=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return(0,pt.of)(n)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe((0,no.T)((n,i)=>(n.push(...i),n),[]));throw so()}_getAllChildrenRecursively(e){return this.childrenAccessor?(0,cr.x)(this.childrenAccessor(e)).pipe((0,pe.s)(1),(0,si.n)(n=>{for(const i of n)this._parents.set(this._getExpansionKey(i),e);return(0,pt.of)(...n).pipe((0,io.H)(i=>(0,to.x)((0,pt.of)([i]),this._getAllChildrenRecursively(i))))})):(0,pt.of)([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){const n=this._getExpansionKey(e),i=this._parents.get(n),r=i?this._getExpansionKey(i):null;return this._ariaSets.get(r)??[e]}_findParentForNode(e,n,i){if(!i.length)return null;const r=this._levels.get(this._getExpansionKey(e))??0;for(let c=n-1;c>=0;c--){const g=i[c];if((this._levels.get(this._getExpansionKey(g))??0)<r)return g}return null}_flattenNestedNodesWithExpansion(e,n=0){const i=this._getChildrenAccessor();return i?(0,pt.of)(...e).pipe((0,io.H)(r=>{const c=this._getExpansionKey(r);this._parents.has(c)||this._parents.set(c,null),this._levels.set(c,n);const g=(0,cr.x)(i(r));return(0,to.x)((0,pt.of)([r]),g.pipe((0,pe.s)(1),(0,Y.M)(b=>{this._ariaSets.set(c,[...b??[]]);for(const z of b??[]){const X=this._getExpansionKey(z);this._parents.set(X,r),this._levels.set(X,n+1)}}),(0,si.n)(b=>b?this._flattenNestedNodesWithExpansion(b,n+1).pipe((0,E.T)(z=>this.isExpanded(r)?z:[])):(0,pt.of)([]))))}),(0,no.T)((r,c)=>(r.push(...c),r),[])):(0,pt.of)([...e])}_computeRenderingData(e,n){if(this.childrenAccessor&&"flat"===n)return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe((0,E.T)(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&"nested"===n){const i=this.levelAccessor;return(0,pt.of)(e.filter(r=>0===i(r))).pipe((0,E.T)(r=>({renderNodes:r,flattenedNodes:e})),(0,Y.M)(({flattenedNodes:r})=>{this._calculateParents(r)}))}return"flat"===n?(0,pt.of)({renderNodes:e,flattenedNodes:e}).pipe((0,Y.M)(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe((0,E.T)(i=>({renderNodes:e,flattenedNodes:i}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){const n=this._getLevelAccessor();if(n){this._clearPreviousCache();for(let i=0;i<e.length;i++){const r=e[i],c=this._getExpansionKey(r);this._levels.set(c,n(r));const g=this._findParentForNode(r,i,e);this._parents.set(c,g);const b=g?this._getExpansionKey(g):null,z=this._ariaSets.get(b)??[];z.splice(i,0,r),this._ariaSets.set(b,z)}}}_forEachExpansionKey(e){const n=[],i=[];this._nodes.value.forEach(r=>{n.push(this._getExpansionKey(r.data)),i.push(this._getDescendants(r.data))}),i.length>0?(0,En.z)(i).pipe((0,pe.s)(1),(0,bn.Q)(this._onDestroy)).subscribe(r=>{r.forEach(c=>c.forEach(g=>n.push(this._getExpansionKey(g)))),e(n)}):e(n)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["cdk-tree"]],contentQueries:function(n,i,r){if(1&n&&t.wni(r,Hi,5),2&n){let c;t.mGM(c=t.lsd())&&(i._nodeDefs=c)}},viewQuery:function(n,i){if(1&n&&t.GBs(oi,7),2&n){let r;t.mGM(r=t.lsd())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(n,i){1&n&&t.bIt("keydown",function(c){return i._sendKeydownToKeyManager(c)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,i){1&n&&t.eu8(0,0)},dependencies:[oi],encapsulation:2})}return a})(),fn=(()=>{class a{_elementRef=(0,s.WQX)(t.aKT);_tree=(0,s.WQX)(Qn);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new t.bkB;expandedChange=new t.bkB;static mostRecentTreeNode=null;_destroyed=new ke.B;_dataChanges=new ke.B;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=(0,s.WQX)(P.gRc);constructor(){a.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function gp(a){let l=a.parentElement;for(;l&&!_p(l);)l=l.parentElement;return l?l.classList.contains("cdk-nested-tree-node")?(0,P.Udg)(l.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,E.T)(()=>this.isExpanded),(0,Un.F)()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){a.mostRecentTreeNode===this&&(a.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(n,i){1&n&&t.bIt("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),2&n&&(t.Avn("tabindex",i._tabindex),t.BMQ("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",P.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",P.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return a})();function _p(a){const l=a.classList;return!(!l?.contains("cdk-nested-tree-node")&&!l?.contains("cdk-tree"))}const vp=/([A-Za-z%]+)$/;let ur=(()=>{class a{_treeNode=(0,s.WQX)(fn);_tree=(0,s.WQX)(Qn);_element=(0,s.WQX)(t.aKT);_dir=(0,s.WQX)(An.D,{optional:!0});_currentPadding;_destroyed=new ke.B;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe((0,bn.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,n=null==this._level?e:this._level;return"number"==typeof n?`${n*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const n=this._paddingIndent();if(n!==this._currentPadding||e){const i=this._element.nativeElement,r=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",c="paddingLeft"===r?"paddingRight":"paddingLeft";i.style[r]=n||"",i.style[c]="",this._currentPadding=n}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let n=e,i="px";if("string"==typeof e){const r=e.split(vp);n=r[0],i=r[1]||i}this.indentUnits=i,this._indent=(0,P.Udg)(n),this._setPadding()}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",P.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return a})(),pr=(()=>{class a{_tree=(0,s.WQX)(Qn);_treeNode=(0,s.WQX)(fn);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(n,i){1&n&&t.bIt("click",function(c){return i._toggle(),c.stopPropagation()})("keydown.Enter",function(c){return i._toggle(),c.preventDefault()})("keydown.Space",function(c){return i._toggle(),c.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",P.L39]}})}return a})(),yp=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({})}return a})(),oo=(()=>{class a extends fn{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return function bp(a){return!!a._isNoopTreeKeyManager}(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();const e=(0,s.WQX)(new P.ES_("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(n,i){1&n&&t.bIt("click",function(){return i._focusItem()}),2&n&&(t.Avn("tabindex",i._getTabindexAttribute()),t.BMQ("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>null==e?0:(0,P.Udg)(e)],disabled:[2,"disabled","disabled",P.L39]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[t.Jv_([{provide:fn,useExisting:a}]),t.Vt3]})}return a})(),lo=(()=>{class a extends Hi{data;static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275dir=t.FsC({type:a,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[t.Jv_([{provide:Hi,useExisting:a}]),t.Vt3]})}return a})(),co=(()=>{class a extends ur{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275dir=t.FsC({type:a,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",P.Udg],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[t.Jv_([{provide:ur,useExisting:a}]),t.Vt3]})}return a})(),mr=(()=>{class a{viewContainer=(0,s.WQX)(t.c1b);_node=(0,s.WQX)(Bi,{optional:!0});static \u0275fac=function(n){return new(n||a)};static \u0275dir=t.FsC({type:a,selectors:[["","matTreeNodeOutlet",""]],features:[t.Jv_([{provide:oi,useExisting:a}])]})}return a})(),uo=(()=>{class a extends Qn{_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275cmp=t.VBU({type:a,selectors:[["mat-tree"]],viewQuery:function(n,i){if(1&n&&t.GBs(mr,7),2&n){let r;t.mGM(r=t.lsd())&&(i._nodeOutlet=r.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[t.Jv_([{provide:Qn,useExisting:a}]),t.Vt3],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(n,i){1&n&&t.eu8(0,0)},dependencies:[mr],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2})}return a})(),po=(()=>{class a extends pr{static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static \u0275dir=t.FsC({type:a,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[t.Jv_([{provide:pr,useExisting:a}]),t.Vt3]})}return a})(),xp=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({imports:[yp,zn.M,zn.M]})}return a})();class Mp{transformFunction;getLevel;isExpandable;getChildren;constructor(l,e,n,i){this.transformFunction=l,this.getLevel=e,this.isExpandable=n,this.getChildren=i}_flattenNode(l,e,n,i){const r=this.transformFunction(l,e);if(n.push(r),this.isExpandable(r)){const c=this.getChildren(l);c&&(Array.isArray(c)?this._flattenChildren(c,e,n,i):c.pipe((0,pe.s)(1)).subscribe(g=>{this._flattenChildren(g,e,n,i)}))}return n}_flattenChildren(l,e,n,i){l.forEach((r,c)=>{let g=i.slice();g.push(c!=l.length-1),this._flattenNode(r,e+1,n,g)})}flattenNodes(l){let e=[];return l.forEach(n=>this._flattenNode(n,0,e,[])),e}expandFlattenedNodes(l,e){let n=[],i=[];return i[0]=!0,l.forEach(r=>{let c=!0;for(let g=0;g<=this.getLevel(r);g++)c=c&&i[g];c&&n.push(r),this.isExpandable(r)&&(i[this.getLevel(r)+1]=e.isExpanded(r))}),n}}class wp extends ao.D{_treeControl;_treeFlattener;_flattenedData=new ln.t([]);_expandedData=new ln.t([]);get data(){return this._data.value}set data(l){this._data.next(l),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new ln.t([]);constructor(l,e,n){super(),this._treeControl=l,this._treeFlattener=e,n&&(this.data=n)}connect(l){return(0,Vn.h)(l.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,E.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var li=m(39333);let Mn=(()=>{class a{constructor(){this.log=(0,p.Tq)({PickerPartBaseComponent:a}),this.fieldState=(0,s.WQX)(at.W),this.editRoutingService=(0,s.WQX)(vt),this.enableTextEntry=this.fieldState.settingExt("EnableTextEntry"),this.pickerData=this.fieldState.pickerData,this.isInFreeTextMode=this.pickerData.isInFreeTextMode,this.ui=this.fieldState.ui,this.selectedItems=this.pickerData.selectedAll,this.selectedItem=this.pickerData.selectedOne,this.itemCount=(0,le.bo)("itemCount",()=>this.selectedItems().length),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.features=this.pickerData.features}expandDialog(){const e=this.fieldState.config;e.initialDisabled||this.editRoutingService.expand(!0,e.index,e.entityGuid)}openNewEntityDialog(e){this.log.a(`openNewEntityDialog: '${e}'`),this.pickerData.source.editItem(null,e)}toggleFreeText(e){this.log.a(`toggleFreeText ${e}`),!e&&this.pickerData.toggleFreeTextMode()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-part-base"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return a})();function kp(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.edit(i.item().value,i.item().id))}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("disabled",e.ui().disabled||e.config.initialDisabled)}}function Sp(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.removeItem(i.index()))}),t.j41(1,"mat-icon"),t.EFF(2,"do_not_disturb_on"),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("disabled",e.ui().disabled)}}function Dp(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.deleteItem(i.index(),i.item().value))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("disabled",e.ui().disabled)}}const Tp={buttons:!0};let hr=(()=>{class a extends Mn{constructor(){super(),this.log=(0,p.Tq)({PickerItemButtonsComponent:a},Tp),this.item=P.hFB.required(),this.index=P.hFB.required(),this.show=P.hFB.required(),this.uiFeatures=(0,P.hFB)(null),this.buttons=(0,le.bo)("buttons",()=>{const e=this.item(),n=this.show()&&!!e,i=this.features(),r=this.uiFeatures(),c={edit:i.edit&&0!=r?.edit&&n&&!e?.noEdit,remove:i.remove&&0!=r?.remove&&n&&!e?.noRemove,delete:i.delete&&0!=r?.delete&&n&&!e?.noDelete};return this.log.aIf("buttons",{merged:c,item:e,show:n,f:i,uif:r}),c})}edit(e,n){this.log.a(`edit guid: '${e}'; id: '${n}'`),this.pickerData.source.editItem({entityGuid:e,entityId:n},null)}removeItem(e){this.log.a(`removeItem index: '${e}'`),this.pickerData.state.remove(e)}deleteItem(e,n){this.log.a(`deleteItem index: '${e}'; entityGuid: '${n}'`),this.pickerData.source.deleteItem({index:e,entityGuid:n})}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-item-buttons"]],inputs:{item:[1,"item"],index:[1,"index"],show:[1,"show"],uiFeatures:[1,"uiFeatures"]},features:[t.Vt3],decls:3,vars:3,consts:[["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"]],template:function(n,i){1&n&&(t.nVh(0,kp,3,1,"button",0),t.nVh(1,Sp,3,1,"button",1),t.nVh(2,Dp,3,1,"button",2)),2&n&&(t.vxM(i.buttons().edit?0:-1),t.R7$(),t.vxM(i.buttons().remove?1:-1),t.R7$(),t.vxM(i.buttons().delete?2:-1))},dependencies:[It.Hl,en.M,Qe.m_,Qe.An,Lt.e,li.c],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}"]})}return a})();var mo=m(92487);function Ep(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",1),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.goToLink())}),t.EFF(1,"open_in_new"),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("tippy",e.helpLink())}}let Ip=(()=>{class a{constructor(){this.helpLink=(0,P.hFB)()}goToLink(){window.open(this.helpLink(),"_blank")}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-help"]],inputs:{helpLink:[1,"helpLink"]},decls:1,vars:1,consts:[["appClickStopPropagation","",3,"tippy"],["appClickStopPropagation","",3,"click","tippy"]],template:function(n,i){1&n&&t.nVh(0,Ep,2,1,"mat-icon",0),2&n&&t.vxM(i.helpLink()?0:-1)},dependencies:[Qe.m_,Qe.An,Lt.e,li.c],encapsulation:2})}return a})();function Ap(a,l){if(1&a&&(t.j41(0,"mat-icon",0),t.EFF(1," info "),t.k0s()),2&a){const e=t.XpG();t.Y8G("tippy",e.infoBox())("tippyAllowHtml",!0)("tippyArrow",!0)}}let Fp=(()=>{class a{constructor(){this.infoBox=(0,P.hFB)()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-icon-info"]],inputs:{infoBox:[1,"infoBox"]},decls:1,vars:1,consts:[["tippyFontSize","larger","appClickStopPropagation","",3,"tippy","tippyAllowHtml","tippyArrow"]],template:function(n,i){1&n&&t.nVh(0,Ap,2,3,"mat-icon",0),2&n&&t.vxM(i.infoBox()?0:-1)},dependencies:[Qe.m_,Qe.An,Lt.e,li.c],encapsulation:2})}return a})();var ho=m(60316),fr=m(839);const Pp={instanceAlreadyExist:"Instance with name #tippyName already exist, please pick unique [tippyName]",instanceNotExist:"Instance with name #tippyName does not exist",childrenInstancesNotFoundGrouped:"No children tippy instances found within 'ngx-tippy-group' component",childrenInstancesNotFoundSingleton:"No children tippy instances found within 'ngx-tippy-singleton' component",singletonInstanceAlreadyExist:"Singleton instance with name #singletonName already exist, please pick unique [singletonName]"},Op={clearDelayTimeouts:()=>{},destroy:()=>{},disable:()=>{},enable:()=>{},hide:()=>{},hideWithInteractivity:()=>{},id:0,plugins:[{name:"followCursor",defaultValue:!1}],popper:{state:{}},popperInstance:{},props:{},reference:{},setContent:()=>{},setProps:()=>{},show:()=>{},state:{isEnabled:!0,isVisible:!0,isDestroyed:!1,isMounted:!0,isShown:!1},unmount:()=>{}},Rp=new s.nKC("NGX_TIPPY_MESSAGES",{providedIn:"root",factory:()=>Pp}),Lp=(new s.nKC("TIPPY_FAKE_INSTANCE",{providedIn:"root",factory:()=>Op}),new s.nKC("NGX_TIPPY_CONFIG",{providedIn:"root",factory:()=>({})}));let Vp=(()=>{class a{isDevMode(){return(0,P.naY)()}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var cn=function(a){return a.SetInstance="setInstance",a.Show="show",a.Hide="hide",a.HideWithInteractivity="hideWithInteractivity",a.Disable="disable",a.Enable="enable",a.SetProps="setProps",a.SetContent="setContent",a.Unmount="unmount",a.ClearDelayTimeouts="clearDelayTimeouts",a.Destroy="destroy",a}(cn||{}),$i=function(a){return a.TippyName="tippyName",a.SingletonName="singletonName",a}($i||{});class Yp{constructor(l){this.args=l,this.compRef=this.args.viewContainerRef.createComponent(this.args.component)}detectChanges(){return this.compRef?.changeDetectorRef.detectChanges(),this}getElement(){return this.compRef?.location.nativeElement}destroy(){this.compRef?.destroy(),this.compRef=null}}const fo=(a,l)=>{a&&a instanceof Element&&l.setStyle(a,"display","block")};class Bp{constructor(l){this.args=l,this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef)}detectChanges(){return this.viewRef?.detectChanges(),this}getElement(){if(!this.viewRef)return null;const l=this.viewRef.rootNodes;return 1===l.length&&l[0].nodeType===Node.ELEMENT_NODE?this.element=l[0]:(this.element=document.createElement("div"),this.element.append(...l)),this.element}destroy(){this.viewRef&&(1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode?.removeChild(this.element),this.element=null),this.viewRef.destroy(),this.viewRef=null)}}let go=(()=>{class a{constructor(e){this.appRef=e}getViewRefInstance(e,n,i={}){let r;return(a=>a instanceof t.C4Q)(e)?(i.$implicit=n,r=this.createTemplate(e,i)):r=(a=>"function"==typeof a)(e)?this.createComponent(e):(a=>a instanceof HTMLTemplateElement)(e)?{getElement:()=>e.content}:{getElement:()=>e},r}createTemplate(e,n){return new Bp({tpl:e,context:n,appRef:this.appRef})}createComponent(e){return new Yp({component:e,viewContainerRef:this.viewContainerRef})}}return a.\u0275fac=function(e){return new(e||a)(s.KVO(t.o8S))},a.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Hp=(()=>{class a{constructor(e,n,i,r){this.devModeService=n,this.ngxViewService=i,this.messagesDict=r,this.tippyInstances=new Map,this.tippySingletonEntryInstances=new Map,this.tippyInstances$=new ke.B,this.createRenderer(e)}setInstance(e,n){if(this.tippyInstances.get(e)){const r=this.getMessage({reason:"instanceAlreadyExist",messageFor:$i.TippyName,name:e});this.throwError(r)}else this.tippyInstances.set(e,n),this.emitInstancesChange({name:e,reason:cn.SetInstance,instance:n})}getInstance(e){return this.tippyInstances.has(e)?this.tippyInstances.get(e):null}getInstances(){return this.tippyInstances.size?this.tippyInstances:null}setSingletonInstance(e,n){if(this.tippySingletonEntryInstances.has(e)){const i=this.getMessage({reason:"singletonInstanceAlreadyExist",messageFor:$i.SingletonName,name:e});this.throwError(i)}else this.tippySingletonEntryInstances.set(e,n)}getSingletonInstance(e){return this.tippySingletonEntryInstances.has(e)?this.tippySingletonEntryInstances.get(e):null}getSingletonInstances(){return this.tippySingletonEntryInstances.size?this.tippySingletonEntryInstances:null}show(e){this.callNativeTippyMethod(e,cn.Show)}hide(e){this.callNativeTippyMethod(e,cn.Hide)}hideWithInteractivity(e,n){this.callNativeTippyMethod(e,cn.HideWithInteractivity,n)}disable(e){this.callNativeTippyMethod(e,cn.Disable)}enable(e){this.callNativeTippyMethod(e,cn.Enable)}setProps(e,n){this.callNativeTippyMethod(e,cn.SetProps,n)}setContent(e,n,i){const r=this.getInstance(e);if(r){if(n){const c=this.ngxViewService.getViewRefInstance(n,r.tippyName,i),g=c.getElement();g?(fo(g,this.renderer),r.setContent(g),r.viewRef=c,this.emitInstancesChange({name:e,reason:"setContent",instance:r})):this.throwError("message")}}else this.throwErrorInstanceNotExist(e)}unmount(e){this.callNativeTippyMethod(e,cn.Unmount)}clearDelayTimeouts(e){this.callNativeTippyMethod(e,cn.ClearDelayTimeouts)}destroy(e){this.callNativeTippyMethod(e,cn.Destroy),this.tippyInstances.delete(e)}setDefaultProps(e){fr.Ay.setDefaultProps(e)}showAll(){this.tippyInstances.forEach((e,n)=>{e.show(),this.emitInstancesChange({name:n,reason:"show",instance:e})})}hideAll(e){const n=this.getInstance(e?.excludeName||""),i=e?.duration;(0,fr.cJ)({duration:i,...n})}get instancesChanges(){return this.tippyInstances$.asObservable()}callNativeTippyMethod(e,n,i){const r=this.getInstance(e);r?(r[n](i),this.emitInstancesChange({name:e,reason:n,instance:r})):this.throwErrorInstanceNotExist(e)}emitInstancesChange({name:e,reason:n,instance:i}){this.tippyInstances$.next({name:e,reason:n,instance:i})}createRenderer(e){this.renderer=e.createRenderer(null,null)}throwErrorInstanceNotExist(e){const n=this.getMessage({reason:"instanceNotExist",messageFor:$i.TippyName,name:e});this.throwError(n)}throwError(e,n=Error){if(this.devModeService.isDevMode())throw new n(e)}getMessage({reason:e,messageFor:n,name:i}){return this.messagesDict[e].replace(`#${n}`,`'${i}'`)}}return a.\u0275fac=function(e){return new(e||a)(s.KVO(t._9s),s.KVO(Vp),s.KVO(go),s.KVO(Rp))},a.\u0275prov=s.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),$p=(()=>{class a{constructor(e,n,i,r,c,g,b){this.tippyEl=e,this.renderer=n,this.ngxTippyService=i,this.ngxViewService=r,this.viewContainerRef=c,this.platform=g,this.ngxTippyConfig=b,this.cachedInstances=new Map}ngOnInit(){(0,ho.Vy)(this.platform)||(this.ngxViewService.viewContainerRef=this.viewContainerRef,this.initTippy())}ngOnChanges(e){this.handleChanges(e)}ngOnDestroy(){this.destroyTippy()}initTippy(){const e=this.tippyEl.nativeElement;if(null==this.ngxTippy)return;const n=this.ngxViewService.getViewRefInstance(this.ngxTippy,this.tippyName,this.tippyContext),i=n.getElement(),r=(0,fr.Ay)(e,{...this.ngxTippyConfig,...this.tippyProps||{},...i&&{content:i}});this.tippyName=this.tippyName||`tippy-${r.id}`,fo(i,this.renderer),this.setTippyInstance({tippyTarget:e,tippyName:this.tippyName,viewRef:n}),this.setClassName(this.tippyInstance,this.tippyClassName),this.writeInstancesToStorage(this.tippyInstance,this.tippyName)}setTippyInstance({tippyTarget:e,tippyName:n,viewRef:i}){this.tippyInstance={...e._tippy,tippyName:n,viewRef:i}}setClassName(e,n){if(!n||!e)return;const i=n.split(" ");i.length&&i.forEach(r=>{this.renderer.addClass(e.popper.firstElementChild,r)})}removeClassName(e,n){if(!n||!e)return;const i=n.split(" ");i.length&&i.forEach(r=>{this.renderer.removeClass(e.popper.firstElementChild,r)})}writeInstancesToStorage(e,n){e&&this.ngxTippyService.setInstance(n,e)}handleChanges({tippyName:e,ngxTippy:n,tippyProps:i,tippyClassName:r,tippyContext:c}){e&&!e.firstChange&&this.handleNameChanges(e),n&&!n.firstChange&&this.handleContentChanges(n),i&&!i.firstChange&&this.handlePropsChanges(i),r&&!r.firstChange&&this.handleClassChanges(r),c&&!c.firstChange&&this.handleContextChanges(c)}handleNameChanges({previousValue:e,currentValue:n}){const i=this.cachedTippyInstances();!i||!this.tippyInstance||(this.deleteEntryInStorage(i,e),this.tippyInstance={...this.tippyInstance,tippyName:n},i.set(n,this.tippyInstance))}handleContentChanges({currentValue:e}){this.tippyInstance&&this.tippyName?(this.ngxTippyService.setContent(this.tippyName,e),null==e?this.ngxTippyService.disable(this.tippyName):this.ngxTippyService.enable(this.tippyName)):this.initTippy()}handlePropsChanges({currentValue:e}){this.tippyName&&this.ngxTippyService.setProps(this.tippyName,e)}handleClassChanges({previousValue:e,currentValue:n}){this.removeClassName(this.tippyInstance,e),this.setClassName(this.tippyInstance,n)}handleContextChanges({currentValue:e}){this.tippyInstance&&this.tippyName&&this.ngxTippy?this.ngxTippyService.setContent(this.tippyName,this.ngxTippy,e):this.initTippy()}cachedTippyInstances(){const e=this.ngxTippyService.getInstances();return this.cachedInstances.has(e)?this.cachedInstances.get(e):(this.cachedInstances.set(e,e),e)}destroyTippy(){const e=this.cachedTippyInstances(),n=this.tippyInstance;!n||!e||(this.clearInstance({tippyInstance:n,tippyInstances:e}),this.resetLocalInstance(),this.clearCachedInstances())}clearInstance({tippyInstance:e,tippyInstances:n}){const{tippyName:i}=e;this.clearViewRef(e),this.destroyTippyInstance(e),this.deleteEntryInStorage(n,i)}clearViewRef(e){e.viewRef?.destroy&&e.viewRef.destroy()}destroyTippyInstance(e){e.destroy()}deleteEntryInStorage(e,n){e.delete(n)}resetLocalInstance(){this.tippyInstance=void 0}clearCachedInstances(){this.cachedInstances.clear()}}return a.\u0275fac=function(e){return new(e||a)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Hp),t.rXU(go),t.rXU(t.c1b),t.rXU(t.Agw),t.rXU(Lp))},a.\u0275dir=t.FsC({type:a,selectors:[["","ngxTippy",""]],inputs:{ngxTippy:"ngxTippy",tippyProps:"tippyProps",tippyName:"tippyName",tippyClassName:"tippyClassName",tippyContext:"tippyContext"},standalone:!1,features:[t.OA$]}),a})(),Gp=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=s.G2t({imports:[qe.MD]}),a})();function Up(a,l){if(1&a&&t.nrm(0,"i"),2&a){const e=t.XpG(2);t.HbH(t.VkB("icon-preview ",e.classWithoutDot(e.item().previewValue)))}}function Wp(a,l){if(1&a&&(t.j41(0,"mat-icon"),t.EFF(1),t.k0s(),t.EFF(2," \xa0 ")),2&a){const e=t.XpG(2);t.R7$(),t.JRh(e.item().previewValue)}}function Xp(a,l){if(1&a&&(t.nrm(0,"img",2),t.j41(1,"div",3,0),t.nrm(3,"img",4),t.k0s()),2&a){const e=t.sdS(2),n=t.XpG(2);t.Y8G("ngxTippy",e)("src",n.item().previewValue,t.B4B)("alt",n.item().value),t.R7$(3),t.Y8G("src",n.item().previewValue,t.B4B)("alt",n.item().value)}}function Qp(a,l){if(1&a&&(t.nrm(0,"img",2),t.j41(1,"div",3,0),t.nrm(3,"img",4),t.k0s()),2&a){const e=t.sdS(2),n=t.XpG(2);t.Y8G("ngxTippy",e)("src",n.imageResize(n.item().previewValue,24,24),t.B4B)("alt",n.item().value),t.R7$(3),t.Y8G("src",n.imageResize(n.item().previewValue,140,140),t.B4B)("alt",n.item().value)}}function Kp(a,l){if(1&a&&t.nVh(0,Up,1,3,"i",1)(1,Wp,3,1)(2,Xp,4,5)(3,Qp,4,5),2&a){let e;const n=t.XpG();t.vxM("icon-css"===(e=n.settings().PreviewType)?0:"icon-material"===e?1:"svg"===e?2:"image"===e?3:-1)}}let _o=(()=>{class a{constructor(){this.item=P.hFB.required(),this.settings=P.hFB.required(),this.debugMessage=(0,Pe.EW)(()=>"")}classWithoutDot(e){return e?.replace(/\./g,"")}imageResize(e,n,i){if(!e)return e;let r=e.replace(/[\?&]w=\d+/g,"").replace(/[\?&]h=\d+/g,"");return r=r.replace(/width=\d+/g,`width=${n}`).replace(/height=\d+/g,`height=${i}`),r.includes("width=")||(r+=(r.includes("?")?"&":"?")+`width=${n}`),r.includes("height=")||(r+=(r.includes("?")?"&":"?")+`height=${i}`),r}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-item-preview"]],inputs:{item:[1,"item"],settings:[1,"settings"]},decls:2,vars:2,consts:[["tippyTemplate",""],[3,"class"],[1,"image-preview",3,"ngxTippy","src","alt"],[1,"tippy-custom"],[1,"image-tippy",3,"src","alt"]],template:function(n,i){if(1&n&&(t.EFF(0),t.nVh(1,Kp,4,1)),2&n){let r;t.SpI(" ",i.debugMessage()," "),t.R7$(),t.vxM(null!=(r=i.item())&&r.previewValue?1:-1)}},dependencies:[Qe.An,Gp,$p],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}.image-preview[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px;border-radius:2px;object-fit:cover;object-position:center}  .tippy-content{padding:6px!important}.tippy-custom[_ngcontent-%COMP%]{background-color:#fff!important}.tippy-custom[_ngcontent-%COMP%]   .image-tippy[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:2px;object-fit:cover;object-position:center}"]})}return a})();function Zp(a,l){1&a&&t.nrm(0,"app-feature-icon",5),2&a&&t.Y8G("featureNameId",l.$implicit)}function qp(a,l){if(1&a&&t.nrm(0,"app-picker-item-buttons",6),2&a){const e=t.XpG();t.Y8G("show",e.show())("item",e.item())("index",e.index())("uiFeatures",e.uiFeatures())}}function em(a,l){if(1&a&&t.nrm(0,"app-picker-item-buttons",6),2&a){const e=t.XpG();t.Y8G("show",e.show())("item",e.item())("index",e.index())("uiFeatures",e.uiFeatures())}}let gr=(()=>{class a{constructor(){this.item=P.hFB.required(),this.index=(0,P.hFB)(0),this.settings=P.hFB.required(),this.uiFeatures=(0,P.hFB)(null),this.show=(0,P.hFB)(!1),this.actionsFirst=(0,P.hFB)(!1),this.featureWarnings=(0,Pe.EW)(()=>{const e=this.item().rules;if(!e)return[];const n=e.split(";").map(i=>i.trim()).filter(i=>i.startsWith("warn-req=feature:")).map(i=>i.split(":")[1]);return console.log("list",n),n},{debugName:"featureWarnings"})}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-item-label"]],inputs:{item:[1,"item"],index:[1,"index"],settings:[1,"settings"],uiFeatures:[1,"uiFeatures"],show:[1,"show"],actionsFirst:[1,"actionsFirst"]},decls:12,vars:7,consts:[[1,"picker-option-contents"],[1,"picker-option"],[3,"item","settings"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"featureNameId"],[1,"my-item-actions",3,"show","item","index","uiFeatures"],[3,"helpLink"],[3,"infoBox"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"app-picker-item-preview",2),t.j41(3,"span",3),t.EFF(4),t.k0s()(),t.j41(5,"div",4),t.Z7z(6,Zp,1,1,"app-feature-icon",5,t.fX1),t.nVh(8,qp,1,4,"app-picker-item-buttons",6),t.nrm(9,"app-picker-help",7)(10,"app-picker-icon-info",8),t.nVh(11,em,1,4,"app-picker-item-buttons",6),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("item",i.item())("settings",i.settings()),t.R7$(2),t.SpI(" ",i.item().label||i.item().value),t.R7$(2),t.Dyx(i.featureWarnings()),t.R7$(2),t.vxM(i.actionsFirst()?8:-1),t.R7$(),t.Y8G("helpLink",i.item().link),t.R7$(),t.Y8G("infoBox",i.item().info),t.R7$(),t.vxM(i.actionsFirst()?-1:11))},dependencies:[_o,Ip,Fp,hr,mo.Z],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.picker-option-contents[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}"]})}return a})();const Gi="parent-child";let _r=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({PickerTreeDataHelper:a}),this.treeControl=new hp(e=>e.level,e=>e.expandable),this.hasChild=(e,n)=>n.expandable,this.build()}updateConfig(e){this.log.a("updateConfigAndSelectedData"),this.#e=e}addTreeItems(e){this.log.a("addTreeItems"),this.#t=e}updateSelectedData(e){this.log.a("updateSelectedData"),this.dataSource.data=e}preConvertAllItems(e,n){this.log.a("preConvertAllItemsToTreeItems",{treeConfig:e,items:n});const i=n.map(c=>this.#n(e,c,n));return i.map(c=>{if(!c.expandable)return c;const g=this.#i(e,c,i);return c.children=g,c})}#n(e,n,i){if(this.log.a(`preConvertItemToTreeItem for item ${n?.id}`,{treeConfig:e,item:n,allItems:i}),!e)throw new Error("No tree configuration found");if(!n)throw new Error("Can't transform null-item");const r=e.TreeRelationship==Gi,c=e.TreeChildParentRefField,g=e.TreeParentChildRefField,z=e.TreeParentIdField,ie=e.TreeBranchesStream,se=i.filter(ut=>!ut.sourceStreamName||ut.sourceStreamName==ie).find(ut=>ut==n),Fe=n?.data?.[z],Ze=r?se&&(n.data[g]?.length>0||!1):se&&!!i.find(ut=>ut.data[c]?.[0]?.[z]==Fe),lt={...n,level:-1,expandable:Ze,parent:n.data[c],children:n.data[g]};return this.log.a("result",{result:lt}),lt}build(){this.log.a("build");const e=new Mp((n,i)=>({...n,level:i}),n=>n.level,n=>n.expandable,n=>n.children);this.dataSource=new wp(this.treeControl,e)}#i(e,n,i){const c=e.TreeChildParentRefField,b=e.TreeChildIdField,z=e.TreeParentIdField;if(e.TreeRelationship==Gi)return n.data[e.TreeParentChildRefField].map(X=>i.find(se=>se[b]==X[b]));if("child-parent"==e.TreeRelationship){const X=n.data?.[z];return i.filter(ie=>ie.data[c]?.[0]?.[z]==X)}throw new Error(`Unknown tree relationship: "${e?.TreeRelationship}"`)}disableOption(e,n,i){const r=this.#e;return!i&&n.some(X=>X.value===e.value)||!r?.TreeAllowSelectRoot&&e.children?.length>0&&0===e.parent?.length||!r?.TreeAllowSelectBranch&&e.children?.length>0&&e.parent?.length>0||!r?.TreeAllowSelectLeaf&&0===e.children?.length}static#a=this.\u0275fac=function(n){return new(n||a)};static#r=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),nm=(()=>{class a{constructor(e,n){this.treeHelper=e,this.inject=n,this.log=(0,p.Tq)({PickerTreeDataService:a})}init(e,n){this.log.a("init");const i=e();if("tree"!==i.PickerDisplayMode)return;const c=i.PickerTreeConfiguration,g=c?.TreeRelationship==Gi;(0,s.N4e)(this.inject,()=>{(0,Pe.QZ)(()=>{const b=n(),z=null==b?.[0]?.data?[]:this.treeHelper.preConvertAllItems(c,b);if(null!=z?.[0]?.data){this.treeHelper.updateConfig(c),this.treeHelper.addTreeItems(z);const X=z.filter(ie=>g?!z.some(se=>se.data[c?.TreeParentChildRefField]?.some(Fe=>Fe.Id===ie.id)):0==ie.data[c?.TreeChildParentRefField]?.length);this.treeHelper.updateSelectedData(X)}})})}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(_r),s.KVO(s.zZn))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const im=["autocomplete"],am=[[["","freeTextButtons",""]]],rm=["[freeTextButtons]"],sm=a=>({"mat-form-field-invalid":a}),om=a=>({"mat-error":a}),lm=(a,l)=>l.value;function cm(a,l){1&a&&(t.j41(0,"span",8),t.SdG(1),t.k0s())}function dm(a,l){if(1&a&&(t.j41(0,"mat-option",13),t.nrm(1,"app-picker-item-label",14),t.k0s()),2&a){const e=l.$implicit,n=t.XpG(2);t.Y8G("value",e.value)("disabled",!!e.noSelect||!n.settings().enableReselect&&n.isOptionDisabled(e.value))("tippy",e.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),t.R7$(),t.Y8G("item",e)("settings",n.fieldState.settings())}}function um(a,l){if(1&a&&t.Z7z(0,dm,2,7,"mat-option",13,lm),2&a){const e=t.XpG();t.Dyx(e.filteredItems())}}function pm(a,l){if(1&a&&(t.j41(0,"mat-tree-node",17),t.nrm(1,"button",18),t.j41(2,"mat-option",13),t.nrm(3,"app-picker-item-label",14),t.k0s()()),2&a){const e=l.$implicit,n=t.XpG(2);t.R7$(2),t.Y8G("value",e.value)("disabled",n.treeHelper.disableOption(e,n.selectedItems(),n.settings().enableReselect))("tippy",e.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),t.R7$(),t.Y8G("item",e)("settings",n.fieldState.settings())}}function mm(a,l){if(1&a&&(t.j41(0,"mat-tree-node",17)(1,"button",19)(2,"mat-icon",20),t.EFF(3),t.k0s()(),t.j41(4,"mat-option",13),t.nrm(5,"app-picker-item-label",14),t.k0s()()),2&a){const e=l.$implicit,n=t.XpG(2);t.R7$(),t.BMQ("aria-label","Toggle "+e.name),t.R7$(2),t.SpI(" ",n.treeHelper.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.R7$(),t.Y8G("value",e.value)("disabled",n.treeHelper.disableOption(e,n.selectedItems(),n.settings().enableReselect))("tippy",e.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),t.R7$(),t.Y8G("item",e)("settings",n.fieldState.settings())}}function hm(a,l){if(1&a&&(t.j41(0,"mat-tree",11),t.DNE(1,pm,4,7,"mat-tree-node",15)(2,mm,6,9,"mat-tree-node",16),t.k0s()),2&a){const e=t.XpG();t.Y8G("dataSource",e.treeHelper.dataSource)("treeControl",e.treeHelper.treeControl),t.R7$(2),t.Y8G("matTreeNodeDefWhen",e.hasChild)}}function fm(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",12),t.EFF(1,"debug: "),t.j41(2,"span",21),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.insertNull())}),t.EFF(3,"add null-item"),t.k0s()()}}const gm={all:!1,optionSelected:!0,focusOnSearchComponent:!1,onClosed:!0,onOpened:!0,tooltip:!1,fields:[...dt.z,"Author"]};let vr=(()=>{class a extends Mn{#e;#t;constructor(e,n){super(),this.translate=e,this.globalConfigService=n,this.log=(0,p.Tq)({PickerSearchComponent:a},gm),this.#e=(0,p.Tq)("PickerSearchComponent-ItemChecks"),this.autocomplete=P.ebz.required("autocomplete"),this.showSelectedItem=P.hFB.required(),this.showItemEditButtons=P.hFB.required(),this.#t=(0,M.d)(nm),this.treeHelper=(0,M.d)(_r),this.selectedItem=(0,le.bo)("selectedItems",()=>this.pickerData.selectedOne()),this.#n=(0,le.KX)("reFilter",!1),this.filteredItems=(0,le.bo)("filteredItems",()=>{this.#n();const r=this.pickerData.optionsAll(),c=this.autocomplete()?.nativeElement.value,g=c?.toLocaleLowerCase(),b=g?r.filter(z=>((z.label?z.label:z.value)??"").toLocaleLowerCase().includes(g)):r;return b.length>0?b:[Ot.message(this.translate,"Fields.Picker.FilterNoResults",{search:c})]}),this.debugEnabled=this.globalConfigService.isDebug,this.settings=(0,le.bo)("settings",()=>{const i=this.fieldState.settings();return{enableAddExisting:i.EnableAddExisting,enableReselect:i.EnableReselect,showAsTree:"tree"===i.PickerDisplayMode}}),this.hasChild=(i,r)=>this.treeHelper.hasChild(i,r)}#n;ngOnInit(){const e=this.fieldState.settings;"tree"===e().PickerDisplayMode&&(this.#t.init(e,this.pickerData.optionsAll),this.treeHelper=this.#t.treeHelper),this.pickerData.state.attachCallback(()=>this.focusOnSearchComponent())}focusOnSearchComponent(){this.log.fnIf("focusOnSearchComponent"),this.autocomplete()?.nativeElement.focus()}displaySelected(e){return this.showSelectedItem()?e?.label??"":""}tooltip(){const e=this.log.fnIfInList("tooltip","fields",this.fieldState.name,null,this.fieldState.name),n=this.pickerData.selectedAll().length;return 1!=n?e.r(null,`0 or more than 1 selected: ${n}`):e.r(this.selectedItem().tooltip,"ok")}displayFn(e){const n=this.selectedItem();if(this.#e.a(`displayFn: value: '${e}'`,{selectedItem:n}),null==e)return"";const i=this.pickerData.optionsAll().find(r=>r.value==e)?.label;return i?(this.log.a("displayFn result",{value:e,returnValue:i}),i):n?.value==e?n?.label:e+" *"}markAsTouched(){this.fieldState.ui().markTouched()}filterSelectionList(){this.#n.update(e=>!e)}onOpened(e){const n=this.log.fnIf("onOpened",{isTreeDisplayMode:e}),i=this.autocomplete().nativeElement;n.a(`onOpened: isTreeDisplayMode ${e}; domValue: '${i.value}'`),i.value="",this.#n.update(r=>!r),e&&i.blur()}onClosed(){const e=this.selectedItems(),n=this.selectedItem(),i=this.autocomplete().nativeElement,r=this.log.fnIf("onClosed",{selectedItems:e,selectedItem:n});return this.showSelectedItem()?(r.a("showSelectedItem"),n?e.length<2?(i.value=n.label,r.end(`selectedItem & < 2; label updated to ${n.label}`,{selectedItem:n})):void 0:(i.value="",r.end("!selectedItem"))):(i.value="",r.end("!showSelectedItem"))}optionSelected(e){const n=this.features().multiValue,i=this.log.fnIf("optionSelected",{value:e.option.value,multiValue:n}),r=e.option.value;this.showSelectedItem()||!n?(i.a("no multiValue, will set to new"),this.pickerData.state.set([r])):(i.a("multiValue, will add to selection"),this.pickerData.state.add(r)),setTimeout(()=>this.autocomplete().nativeElement.blur())}getPlaceholder(){const e=this.pickerData.optionsAll();var n=this.translate.instant(e.length>0?"Fields.Picker.Search":"Fields.Picker.QueryNoItems");return this.#e.a(`getPlaceholder: '${n}'`,{allOptions:e}),n}insertNull(){this.log.a("insertNull"),this.pickerData.state.add(null)}isOptionDisabled(e){const n=this.selectedItems(),i=n.some(r=>r.value===e);return this.#e.a(`sOptionDisabled value: '${e}'; result: ${i}`,{selected:n}),i}goToLink(e){this.log.a(`goToLink helpLink: '${e}'`),window.open(e,"_blank")}getSelectedItem(e){return this.pickerData.optionsAll().find(n=>n.value===e)}static#i=this.\u0275fac=function(n){return new(n||a)(t.rXU(re.c$),t.rXU(ee.B))};static#a=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-search"]],viewQuery:function(n,i){1&n&&t.wEZ(i.autocomplete,im,5),2&n&&t.NyB()},inputs:{showSelectedItem:[1,"showSelectedItem"],showItemEditButtons:[1,"showItemEditButtons"]},features:[t.Vt3],ngContentSelectors:rm,decls:17,vars:25,consts:[["autocomplete",""],["auto","matAutocomplete"],["color","accent",1,"eav-mat-form-field","my-search",3,"click","formGroup","ngClass"],[1,"show-input-container"],[1,"picker-container",3,"item","settings"],["matInput","",1,"eav-translate-on-dblclick",3,"focus","blur","input","matAutocomplete","value","placeholder","disabled","tippy","tippyArrow"],["matSuffix","",1,"my-item-actions",3,"show","item","index"],["mat-icon-button","","matSuffix","","disableRipple","true",1,"entity-dropdown-button","picker-inline-button",3,"disabled"],["matSuffix",""],[3,"ngClass"],[3,"optionSelected","closed","opened","displayWith","hideSingleSelectionIndicator"],[3,"dataSource","treeControl"],[1,"null-box"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"value","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","settings"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"eav-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["tippy","Add null-item",1,"null-button",3,"click"]],template:function(n,i){if(1&n){const r=t.RV6();t.NAR(am),t.j41(0,"mat-form-field",2),t.bIt("click",function(){return s.eBV(r),s.Njj(i.filterSelectionList())}),t.j41(1,"div",3),t.nrm(2,"app-picker-item-preview",4),t.j41(3,"input",5,0),t.bIt("focus",function(){return s.eBV(r),s.Njj(i.pickerData.source.fetchItems())})("blur",function(){return s.eBV(r),s.Njj(i.markAsTouched())})("input",function(){return s.eBV(r),s.Njj(i.filterSelectionList())}),t.k0s()(),t.nrm(5,"app-picker-item-buttons",6),t.j41(6,"button",7)(7,"mat-icon"),t.EFF(8,"arrow_drop_down"),t.k0s()(),t.nVh(9,cm,2,0,"span",8),t.j41(10,"mat-label",9),t.EFF(11),t.k0s()(),t.j41(12,"mat-autocomplete",10,1),t.bIt("optionSelected",function(g){return s.eBV(r),s.Njj(i.optionSelected(g))})("closed",function(){return s.eBV(r),s.Njj(i.onClosed())})("opened",function(){return s.eBV(r),s.Njj(i.onOpened(i.settings().showAsTree))}),t.nVh(14,um,2,0)(15,hm,3,3,"mat-tree",11),t.k0s(),t.nVh(16,fm,4,0,"div",12)}if(2&n){let r;const c=t.sdS(13);t.Y8G("formGroup",i.fieldState.group)("ngClass",t.eq3(21,sm,i.ui().touchedAndInvalid)),t.R7$(2),t.Y8G("item",i.getSelectedItem(null==(r=i.selectedItem())?null:r.value))("settings",i.fieldState.settings()),t.R7$(),t.Y8G("matAutocomplete",c)("value",i.displaySelected(i.selectedItem()))("placeholder",i.getPlaceholder())("disabled",i.ui().disabled||!i.settings().enableAddExisting)("tippy",i.tooltip())("tippyArrow",!0),t.R7$(2),t.Y8G("show",i.showItemEditButtons())("item",i.selectedItem())("index",0),t.R7$(),t.Y8G("disabled",i.ui().disabled||!i.settings().enableAddExisting),t.R7$(3),t.vxM(i.features().textEntry?9:-1),t.R7$(),t.Y8G("ngClass",t.eq3(23,om,i.ui().touchedAndInvalid)),t.R7$(),t.SpI(" ",i.basics().labelWithRequired," "),t.R7$(),t.Y8G("displayWith",i.displayFn.bind(i))("hideSingleSelectionIndicator",!0),t.R7$(2),t.vxM(i.settings().showAsTree?15:14),t.R7$(2),t.vxM(i.debugEnabled()?16:-1)}},dependencies:[Gt.M,wt.j,wt.M,wt.g,Q.YN,Q.cb,Q.X1,Q.j4,qe.YU,Ut.fS,Ut.fg,lr.jL,lr.$3,Gn.M,lr.pN,It.Hl,en.M,Qe.m_,Qe.An,qs.M,xp,lo,co,po,uo,oo,re.h,hr,Lt.e,gr,_o],styles:[".eav-add-new-entity[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.show-input-container[_ngcontent-%COMP%]{display:flex}.picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.my-search[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.picker-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}return a})();var _m=m(97024);const vm={all:!0,options:!0,select:!0};class Ui extends Mn{constructor(){super(),this.log=(0,p.Tq)({PickerInlineBaseComponent:Ui},vm),this.options=(0,le.bo)("options",()=>{const l=this.pickerData.optionsWithMissing(),e=this.selectedItems(),n=l.map(i=>{const r=e.find(c=>c.value===i.value);return{...i,selected:!!r}});return this.log.aIf("options",{options:l,selected:e,final:n}),n}),this.pickerData.source.fetchItems()}select(l){const e=this.log.fn("select",{item:l});if(l.noSelect)return e.end("noSelect, exit early");const n=this.features().multiValue;if(!n)return this.pickerData.state.set([l.value]),e.end("no-multi",{item:l,allowMulti:n});const i=this.options(),r=i.map(b=>b.value===l.value?{...b,selected:!b.selected}:b),c=r.filter(b=>b.selected),g=c.map(b=>b.value);this.pickerData.state.set(g),e.end("multi",{item:l,allowMulti:n,before:i,toggled:r,selected:c,values:g})}}const ym=[[["","addNew",""]],[["","freeTextButtons",""]]],bm=["[addNew]","[freeTextButtons]"],Cm=(a,l,e,n,i)=>({"mat-caption":a,"mat-empty":l,"mat-error":e,color__primary:n,"my-label-disabled":i});let vo=(()=>{class a extends Mn{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-inline-header"]],features:[t.Vt3],ngContentSelectors:bm,decls:8,vars:10,consts:[[1,"my-title-bar"],[1,"c-ew__preview-label",3,"ngClass"],[3,"flatIfEmpty","smallGap"]],template:function(n,i){1&n&&(t.NAR(ym),t.j41(0,"div",0)(1,"div")(2,"mat-label",1),t.EFF(3),t.k0s(),t.nrm(4,"app-field-helper-text",2),t.k0s(),t.j41(5,"div"),t.SdG(6),t.SdG(7,1),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("ngClass",t.s1E(4,Cm,i.itemCount(),!i.itemCount(),i.ui().touchedAndInvalid&&!i.config.initialDisabled,!i.ui().touchedAndInvalid&&!i.config.initialDisabled,i.config.initialDisabled)),t.R7$(),t.SpI(" ",i.basics().labelWithRequired," "),t.R7$(),t.Y8G("flatIfEmpty",!0)("smallGap",!0))},dependencies:[qe.YU,Zt],styles:[".my-title-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return a})();const xm=[[["","addNew",""]],[["","freeTextButtons",""]]],Mm=["[addNew]","[freeTextButtons]"],wm=()=>({remove:!1}),km=(a,l)=>l.value;function Sm(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-checkbox",2),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG();return s.Njj(r.select(i))}),t.nrm(1,"app-picker-item-label",3),t.k0s()}if(2&a){const e=l.$implicit,n=l.$index,i=t.XpG();t.Y8G("checked",e.selected)("disabled",i.ui().disabled||e.noSelect)("tippy",e.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),t.R7$(),t.Y8G("item",e)("show",!0)("index",n)("settings",i.fieldState.settings())("uiFeatures",t.lJ4(11,wm))("actionsFirst",!0)}}let Dm=(()=>{class a extends Ui{constructor(){super(),this.fieldState.requireFeature(Rt.T.PickerUiCheckbox)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-checkboxes"]],features:[t.Vt3],ngContentSelectors:Mm,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"checked","disabled","tippy","tippyAllowHtml","tippyArrow"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures","actionsFirst"]],template:function(n,i){1&n&&(t.NAR(xm),t.j41(0,"div",0)(1,"app-picker-inline-header"),t.SdG(2,0,["addNew",""]),t.SdG(3,1,["freeTextButtons",""]),t.k0s(),t.Z7z(4,Sm,2,12,"mat-checkbox",1,km),t.k0s()),2&n&&(t.R7$(4),t.Dyx(i.options()))},dependencies:[Gt.M,nt.M,_m.So,Lt.e,vo,gr],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-checkbox[_ngcontent-%COMP%]{width:100%}"]})}return a})();const Tm=[[["","freeTextButtons",""]]],Em=["[freeTextButtons]"],Im=(a,l,e,n,i)=>({"mat-caption":a,"mat-empty":l,"mat-error":e,color__primary:n,"my-label-disabled":i}),Am=()=>({enterDuration:360}),Fm=(a,l)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":l}),Pm=a=>({"eav-more-entities-margin-right":a}),Om=(a,l)=>l.value+a;function Rm(a,l){if(1&a&&(t.j41(0,"mat-list-item",8)(1,"span",9),t.EFF(2),t.k0s()()),2&a){const e=l.$implicit;t.Y8G("tippy",e.tooltip),t.R7$(2),t.JRh(e.label)}}function Lm(a,l){if(1&a&&(t.j41(0,"mat-list",5),t.Z7z(1,Rm,3,2,"mat-list-item",8,Om),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Dyx(e.selectedItems())}}function Vm(a,l){if(1&a&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.Y8G("ngClass",t.eq3(2,Pm,e.enableTextEntry())),t.R7$(),t.SpI(" ",e.itemCount()," ")}}function Ym(a,l){1&a&&(t.j41(0,"span",7),t.SdG(1),t.k0s())}let zm=(()=>{class a extends Mn{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-pills"]],features:[t.Vt3],ngContentSelectors:Em,decls:9,vars:18,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"my-flex"],[1,"eav-list","my-pills"],[1,"eav-more-entities",3,"ngClass"],["matSuffix",""],["role","listitem",1,"eav-list-item",3,"tippy"],["mat-line",""]],template:function(n,i){1&n&&(t.NAR(Tm),t.j41(0,"div",0)(1,"mat-label",1),t.EFF(2),t.k0s(),t.j41(3,"div",2),t.bIt("click",function(){return i.expandDialog()}),t.j41(4,"div",3)(5,"div",4),t.nVh(6,Lm,3,0,"mat-list",5),t.nVh(7,Vm,2,4,"span",6),t.nVh(8,Ym,2,0,"span",7),t.k0s()()()()),2&n&&(t.R7$(),t.Y8G("ngClass",t.s1E(8,Im,i.itemCount(),!i.itemCount(),i.ui().touchedAndInvalid&&!i.config.initialDisabled,!i.ui().touchedAndInvalid&&!i.config.initialDisabled,i.config.initialDisabled)),t.R7$(),t.SpI(" ",i.basics().labelWithRequired," "),t.R7$(),t.Y8G("matRippleAnimation",t.lJ4(14,Am))("ngClass",t.l_i(15,Fm,i.ui().touchedAndInvalid,i.config.initialDisabled)),t.R7$(),t.Y8G("ngClass",i.itemCount()?"c-ew__preview-container":"c-ew__preview-container--empty"),t.R7$(2),t.vxM(i.itemCount()?6:-1),t.R7$(),t.vxM(i.itemCount()>3?7:-1),t.R7$(),t.vxM(i.enableTextEntry()?8:-1))},dependencies:[Gt.M,wt.M,wt.g,qe.YU,nt.M,Yn.M,ki,wc,wi,Lt.e],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:16px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.eav-more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.eav-more-entities-margin-right[_ngcontent-%COMP%]{margin-right:10px}.eav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-y:hidden;flex:1 1 auto;max-height:35px}.eav-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:#1d273d14;border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis;padding:0 16px}.my-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.my-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;box-sizing:border-box}"]})}return a})();var jm=m(53804);const Nm=[[["","addNew",""]],[["","freeTextButtons",""]]],Bm=["[addNew]","[freeTextButtons]"],Hm=()=>({remove:!1}),$m=(a,l)=>l.value;function Gm(a,l){if(1&a){const e=t.RV6();t.j41(0,"div")(1,"mat-radio-button",1),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG();return s.Njj(r.select(i))}),t.nrm(2,"app-picker-item-label",2),t.k0s()()}if(2&a){const e=l.$implicit,n=l.$index,i=t.XpG();t.R7$(),t.Y8G("name",i.name)("checked",e.selected)("disabled",i.ui().disabled||e.noSelect)("tippy",e.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),t.R7$(),t.Y8G("item",e)("show",!0)("index",n)("settings",i.fieldState.settings())("uiFeatures",t.lJ4(12,Hm))("actionsFirst",!0)}}let Um=(()=>{class a extends Ui{constructor(){super(),this.name=this.fieldState.name,this.fieldState.requireFeature(Rt.T.PickerUiRadio)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-radio"]],features:[t.Vt3],ngContentSelectors:Bm,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","name","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures","actionsFirst"]],template:function(n,i){1&n&&(t.NAR(Nm),t.j41(0,"div",0)(1,"app-picker-inline-header"),t.SdG(2,0,["addNew",""]),t.SdG(3,1,["freeTextButtons",""]),t.k0s(),t.Z7z(4,Gm,3,13,"div",null,$m),t.k0s()),2&n&&(t.R7$(4),t.Dyx(i.options()))},dependencies:[Gt.M,nt.M,jm._g,Lt.e,vo,gr],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-radio-button[_ngcontent-%COMP%]{width:100%}"]})}return a})();function Wm(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.isTextMode()?i.toggleFreeText(i.csDisabled()):null)}),t.j41(1,"mat-icon"),t.EFF(2,"search"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",e.isTextMode()?"":"active")("disabled",e.csDisabled())}}function Xm(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.isTextMode()?null:i.toggleFreeText(i.csDisabled()))}),t.j41(1,"mat-icon"),t.EFF(2,"text_fields"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",e.isTextMode()?"active":"")("disabled",e.csDisabled())}}function Qm(a,l){if(1&a&&(t.j41(0,"span",0),t.nVh(1,Wm,3,2,"button",1),t.nVh(2,Xm,3,2,"button",2),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.vxM(e.showBoth()||e.isTextMode()?1:-1),t.R7$(),t.vxM(e.showBoth()||!e.isTextMode()?2:-1)}}let Km=(()=>{class a{constructor(){this.csDisabled=(0,P.hFB)(),this.allowText=(0,P.hFB)(),this.isTextMode=(0,P.hFB)(!1),this.showBoth=(0,P.hFB)(!0),this.pickerData=(0,s.WQX)(at.W).pickerData}toggleFreeText(e){e||this.pickerData.toggleFreeTextMode()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-toggle-text"]],inputs:{csDisabled:[1,"csDisabled"],allowText:[1,"allowText"],isTextMode:[1,"isTextMode"],showBoth:[1,"showBoth"]},decls:1,vars:1,consts:[["matSuffix","",1,"toggle-buttons"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"]],template:function(n,i){1&n&&t.nVh(0,Qm,3,2,"span",0),2&n&&t.vxM(i.allowText()?0:-1)},dependencies:[Gt.M,wt.g,It.Hl,en.M,qe.YU,Qe.m_,Qe.An,li.c,Lt.e],styles:[".eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:3px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}.toggle-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.toggle-buttons[_ngcontent-%COMP%]   .active.mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{background-color:#1d273d3d;color:#fff}"]})}return a})();const Jm=[[["","freeTextButtons",""]]],Zm=["[freeTextButtons]"];function qm(a,l){if(1&a&&t.nrm(0,"textarea",1),2&a){const e=t.XpG();t.Y8G("required",e.basics().required)("formControlName",e.fieldState.name)("placeholder",e.basics().placeholder)}}function eh(a,l){if(1&a&&t.nrm(0,"input",1),2&a){const e=t.XpG();t.Y8G("required",e.basics().required)("formControlName",e.fieldState.name)("placeholder",e.basics().placeholder)}}let yo=(()=>{class a extends Mn{constructor(){super(),this.log=(0,p.Tq)({PickerTextComponent:a}),this.useMultiLine=(0,le.bo)("useMultiLine",()=>{const n=this.fieldState.settings().Separator;return"\\n"==n||"\n"==n})}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-text"]],features:[t.Vt3],ngContentSelectors:Zm,decls:8,vars:3,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix",""]],template:function(n,i){1&n&&(t.NAR(Jm),t.j41(0,"div")(1,"mat-form-field",0),t.nVh(2,qm,1,3,"textarea",1)(3,eh,1,3,"input",1),t.j41(4,"div",2),t.SdG(5),t.k0s(),t.j41(6,"mat-label"),t.EFF(7),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("formGroup",i.fieldState.group),t.R7$(),t.vxM(i.useMultiLine()?2:3),t.R7$(5),t.JRh(i.basics().label))},dependencies:[Gt.M,wt.j,wt.M,wt.g,Q.YN,Q.me,Q.BC,Q.cb,Q.YS,Q.X1,Q.j4,Q.JD,Ut.fS,Ut.fg],encapsulation:2})}return a})();const bo=()=>({$implicit:!1}),th=a=>({"picker-suffix-text":a});function nh(a,l){1&a&&t.eu8(0,7)}function ih(a,l){if(1&a&&(t.j41(0,"app-picker-text"),t.DNE(1,nh,1,0,"ng-container",6),t.k0s()),2&a){t.XpG();const e=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function ah(a,l){1&a&&t.eu8(0,1)}function rh(a,l){1&a&&t.eu8(0,7)}function sh(a,l){if(1&a&&(t.j41(0,"app-picker-checkboxes"),t.DNE(1,ah,1,0,"ng-container",8)(2,rh,1,0,"ng-container",9),t.k0s()),2&a){t.XpG();const e=t.sdS(11),n=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.lJ4(3,bo))}}function oh(a,l){1&a&&t.eu8(0,1)}function lh(a,l){1&a&&t.eu8(0,7)}function ch(a,l){if(1&a&&(t.j41(0,"app-picker-radio"),t.DNE(1,oh,1,0,"ng-container",8)(2,lh,1,0,"ng-container",9),t.k0s()),2&a){t.XpG();const e=t.sdS(11),n=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",t.lJ4(3,bo))}}function dh(a,l){1&a&&t.eu8(0,7)}function uh(a,l){if(1&a&&(t.j41(0,"app-picker-pills"),t.DNE(1,dh,1,0,"ng-container",6),t.k0s()),2&a){t.XpG();const e=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function ph(a,l){1&a&&t.eu8(0,7)}function mh(a,l){if(1&a&&(t.j41(0,"app-picker-search",5),t.DNE(1,ph,1,0,"ng-container",6),t.k0s()),2&a){t.XpG();const e=t.sdS(11);t.Y8G("showSelectedItem",!0)("showItemEditButtons",!0),t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function hh(a,l){1&a&&t.eu8(0)}function fh(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.expandDialog())}),t.j41(1,"mat-icon"),t.EFF(2,"post_add"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("disabled",e.ui().disabled)}}function gh(a,l){if(1&a&&(t.j41(0,"div",3),t.DNE(1,hh,1,0,"ng-container",10),t.nVh(2,fh,3,1,"button",11),t.k0s()),2&a){const e=t.XpG(),n=t.sdS(13);t.R7$(),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.vxM(e.features().showGoToListDialogButton?2:-1)}}function _h(a,l){1&a&&t.nrm(0,"app-field-helper-text")}function vh(a,l){1&a&&t.nrm(0,"br")}function yh(a,l){if(1&a&&(t.j41(0,"span",13),t.nrm(1,"app-picker-toggle-text",14),t.k0s()),2&a){const e=l.$implicit,n=t.XpG();t.Y8G("ngClass",t.eq3(5,th,e)),t.R7$(),t.Y8G("csDisabled",n.ui().disabled)("allowText",n.features().textEntry)("isTextMode",n.isInFreeTextMode())("showBoth",e??!0)}}function bh(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",18),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG(4);return s.Njj(r.openNewEntityDialog(i.guid))}),t.j41(1,"span"),t.EFF(2),t.k0s()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.label)}}function Ch(a,l){if(1&a&&(t.j41(0,"button",16)(1,"mat-icon"),t.EFF(2,"add_circle_outline"),t.k0s()(),t.j41(3,"mat-menu",null,2),t.Z7z(5,bh,3,1,"button",17,t.fX1),t.k0s()),2&a){const e=t.sdS(4),n=t.XpG(3);t.Y8G("disabled",n.ui().disabled||!n.features().create)("matMenuTriggerFor",e),t.R7$(5),t.Dyx(n.pickerData.state.typesForNew())}}function xh(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.openNewEntityDialog(null))}),t.j41(1,"mat-icon"),t.EFF(2,"add_circle_outline"),t.k0s()()}if(2&a){const e=t.XpG(3);t.Y8G("disabled",e.ui().disabled||!e.features().create)}}function Mh(a,l){if(1&a&&t.nVh(0,Ch,7,2)(1,xh,3,1,"button",15),2&a){const e=t.XpG(2);t.vxM(e.pickerData.state.typesForNew().length>1?0:1)}}function wh(a,l){if(1&a&&t.nVh(0,Mh,2,1),2&a){const e=t.XpG();t.vxM(e.features().showAddNewButton?0:-1)}}let dn=(()=>{class a extends Mn{constructor(){super(),this.log=(0,p.Tq)({PickerPreviewComponent:a}),this.#e=this.fieldState.settingExt("PickerDisplayMode"),this.mode=(0,le.bo)("mode",()=>{if(this.isInFreeTextMode())return"text";switch(this.#e()){case"radio":return"radio";case"checkbox":return"checkbox";case"auto-inline":return this.features().multiValue?"checkbox":"radio";default:return this.selectedItems().length>1?"pills":"search"}}),this.skipHelpText=(0,le.bo)("helpTextOnTop",()=>{const e=this.mode();return"radio"===e||"checkbox"===e})}#e;static#t=this.\u0275fac=function(n){return new(n||a)};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-preview"]],features:[t.Vt3],decls:14,vars:3,consts:[["textToggle",""],["addNew",""],["entityTypesMenu","matMenu"],[1,"my-flex"],[1,"eav-mat-form-field"],[3,"showSelectedItem","showItemEditButtons"],["freeTextButtons","",4,"ngTemplateOutlet"],["freeTextButtons",""],["addNew","",4,"ngTemplateOutlet"],["freeTextButtons","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"click","disabled"],[3,"ngClass"],[3,"csDisabled","allowText","isTextMode","showBoth"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"click","disabled"]],template:function(n,i){if(1&n&&(t.j41(0,"div",3)(1,"div",4),t.nVh(2,ih,2,1,"app-picker-text")(3,sh,3,4,"app-picker-checkboxes")(4,ch,3,4,"app-picker-radio")(5,uh,2,1,"app-picker-pills")(6,mh,2,3,"app-picker-search",5),t.k0s(),t.nVh(7,gh,3,2,"div",3),t.k0s(),t.nVh(8,_h,1,0,"app-field-helper-text")(9,vh,1,0,"br"),t.DNE(10,yh,2,7,"ng-template",null,0,t.C5r)(12,wh,1,1,"ng-template",null,1,t.C5r)),2&n){let r;t.R7$(2),t.vxM("text"===(r=i.mode())?2:"checkbox"===r?3:"radio"===r?4:"pills"===r?5:"search"===r?6:-1),t.R7$(5),t.vxM("radio"!==i.mode()&&"checkbox"!==i.mode()?7:-1),t.R7$(),t.vxM(i.skipHelpText()?9:8)}},dependencies:[qe.T3,qe.YU,It.Hl,en.M,Pt.Cn,Pt.kk,Pt.fb,Pt.Cp,Qe.m_,Qe.An,Lt.e,zm,Km,vr,yo,Dm,Um,Zt],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.picker-suffix-text[_ngcontent-%COMP%]{min-width:80px}.my-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}"]})}return a})();const Co=a=>({disabled:a}),kh=(a,l)=>l.value+a;function Sh(a,l){if(1&a&&(t.j41(0,"mat-label",0),t.EFF(1),t.k0s()),2&a){const e=t.XpG();t.Y8G("ngClass",t.eq3(2,Co,e.ui().disabled)),t.R7$(),t.SpI(" ",e.basics().labelWithRequired," ")}}function Dh(a,l){if(1&a&&(t.j41(0,"mat-icon",5),t.EFF(1," drag_handle "),t.k0s()),2&a){const e=t.XpG(3);t.Y8G("tippyDisabled",e.ui().disabled)}}function Th(a,l){if(1&a&&(t.j41(0,"div",3)(1,"div",4),t.nVh(2,Dh,2,1,"mat-icon",5),t.j41(3,"span",6),t.EFF(4),t.k0s()(),t.nrm(5,"app-picker-item-buttons",7),t.k0s()),2&a){const e=l.$implicit,n=l.$index,i=t.XpG(2);t.Y8G("ngClass","my-item-"+(i.features().multiValue?"draggable":"static")+" "+(i.ui().disabled?"disabled":"")),t.R7$(),t.Y8G("ngClass",t.eq3(8,Co,i.ui().disabled)),t.R7$(),t.vxM(i.features().multiValue?2:-1),t.R7$(),t.Y8G("tippy",e.tooltip),t.R7$(),t.SpI(" ",e.label," "),t.R7$(),t.Y8G("show",!0)("item",e)("index",n)}}function Eh(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",2),t.bIt("cdkDropListDropped",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.drop(i))}),t.Z7z(1,Th,6,10,"div",3,kh),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("cdkDropListDisabled",!e.features().multiValue||e.ui().disabled)("ngClass","my-list-"+(e.features().multiValue?"draggable":"static")),t.R7$(),t.Dyx(e.selectedItems())}}let Ih=(()=>{class a extends Mn{constructor(){super(),this.log=(0,p.Tq)({PickerListComponent:a})}drop(e){this.pickerData.state.reorder({previousIndex:e.previousIndex,currentIndex:e.currentIndex})}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-list"]],features:[t.Vt3],decls:2,vars:2,consts:[[1,"field-label",3,"ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDisabled","ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDropped","cdkDropListDisabled","ngClass"],["cdkDrag","",1,"my-item",3,"ngClass"],[1,"item-title",3,"ngClass"],["tippyTranslate","Fields.Picker.DragMove",1,"item-title__icon",3,"tippyDisabled"],[1,"item-title__text",3,"tippy"],["matSuffix","",1,"my-item-actions",3,"show","item","index"]],template:function(n,i){1&n&&(t.nVh(0,Sh,2,4,"mat-label",0),t.nVh(1,Eh,3,2,"div",1)),2&n&&(t.vxM(i.features().multiValue?-1:0),t.R7$(),t.vxM(i.selectedItems().length>0?1:-1))},dependencies:[Gt.M,wt.M,wt.g,Qe.m_,Qe.An,It.Hl,qe.YU,Zn.O7,Zn.T1,hr,Lt.e],styles:[".my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.my-list-static[_ngcontent-%COMP%]   .my-item-static.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:#1d273d70}.field-label.disabled[_ngcontent-%COMP%]{color:#1d273d3d}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type{height:31px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .my-item-actions[_ngcontent-%COMP%]{margin-top:-2px}.my-list-draggable[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.my-item-draggable[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.my-item-draggable[_ngcontent-%COMP%]:not(.disabled){cursor:move}.my-item-draggable[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:#1d273d3d}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.my-item-actions[_ngcontent-%COMP%]{flex-shrink:0}.my-item[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.my-list-draggable.cdk-drop-list-dragging[_ngcontent-%COMP%]   .my-item-draggable[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return a})();function Ah(a,l){1&a&&t.nrm(0,"app-picker-search",1),2&a&&t.Y8G("showSelectedItem",!1)("showItemEditButtons",!1)}function Fh(a,l){1&a&&t.nrm(0,"app-picker-text")}function Ph(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const i=s.eBV(e).$implicit,r=t.XpG(3);return s.Njj(r.openNewEntityDialog(i.guid))}),t.j41(1,"span"),t.EFF(2),t.k0s()()}if(2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.label)}}function Oh(a,l){if(1&a&&(t.j41(0,"button",4)(1,"mat-icon"),t.EFF(2,"add"),t.k0s()(),t.j41(3,"mat-menu",null,0),t.Z7z(5,Ph,3,1,"button",5,t.fX1),t.k0s()),2&a){const e=t.sdS(4),n=t.XpG(2);t.Y8G("disabled",n.ui().disabled||!n.features().create)("matMenuTriggerFor",e),t.R7$(5),t.Dyx(n.pickerData.state.typesForNew())}}function Rh(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openNewEntityDialog(null))}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("disabled",e.ui().disabled||!e.features().create)}}function Lh(a,l){if(1&a&&(t.j41(0,"div",2),t.nVh(1,Oh,7,2)(2,Rh,3,1,"button",3),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.vxM(e.pickerData.state.typesForNew().length>1?1:2)}}let un=(()=>{class a extends Mn{constructor(){super(...arguments),this.showAddNewEntityButtonInDialog=(0,le.bo)("showAddNewEntityButtonInDialog",()=>{const e=this.features(),n=this.fieldState.settings();return!this.isInFreeTextMode()&&n.EnableCreate&&n.CreateTypes&&e.multiValue})}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(a)))(i||a)}})();static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-dialog"]],features:[t.Vt3],decls:5,vars:2,consts:[["entityTypesMenu","matMenu"],[3,"showSelectedItem","showItemEditButtons"],[2,"display","flex","justify-content","end"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"click","disabled"]],template:function(n,i){1&n&&(t.nrm(0,"app-picker-list"),t.nVh(1,Ah,1,2,"app-picker-search",1)(2,Fh,1,0,"app-picker-text"),t.nrm(3,"app-field-helper-text"),t.nVh(4,Lh,3,1,"div",2)),2&n&&(t.R7$(),t.vxM(i.isInFreeTextMode()?2:1),t.R7$(3),t.vxM(i.showAddNewEntityButtonInDialog()?4:-1))},dependencies:[Ih,vr,yo,Zt,It.Hl,It.$0,Pt.Cn,Pt.kk,Pt.fb,Pt.Cp,Qe.m_,Qe.An,Lt.e],encapsulation:2})}return a})();function Vh(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Yh(a,l){1&a&&t.nrm(0,"app-picker-dialog")}let Bt=(()=>{class a extends Ce.${static#e=this.logSpecs={all:!1,focusOnSearchComponent:!0,refreshOnChildClosed:!1,childFormResult:!0};constructor(){super(),this.#t=(0,s.WQX)(s.zZn),this.#n=(0,s.WQX)(vt),this.#i=(0,s.WQX)(at.W),this.#a=this.#i.pickerData,this.showPreview=(0,le.bo)("showPreview",()=>{const e=this.#a.features();return!e.multiValue||e.multiValue&&!this.#i.isOpen()})}constructorEnd(){this.log??=(0,p.Tq)({PickerComponent:a},a.logSpecs),this.log.a("constructor"),new sr(this.#t).setupPickerData(this.#a,this.#i)}#t;#n;#i;#a;ngOnInit(){this.#a.closeWatcherAttachedWIP||(this.#r(),this.#a.closeWatcherAttachedWIP=!0)}#r(){const e=this.log.fnIf("refreshOnChildClosed"),n=this.#i.config;this.subscriptions.add(this.#n.childFormResult(n.index,n.entityGuid).subscribe(i=>this.log.fnIf("childFormResult",{result:i}).r(this.#a.addNewlyCreatedItem(i)))),e.end()}static#s=this.\u0275fac=function(n){return new(n||a)};static#o=this.\u0275cmp=t.VBU({type:a,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&t.GBs(vr,5),2&n){let r;t.mGM(r=t.lsd())&&(i.entitySearchComponent=r.first)}},features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Vh,1,0,"app-picker-preview")(1,Yh,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();const zh={all:!0,calculateDropdownOptions:!0,addSelectedIfMissing:!0};class Wi{constructor(){this.log=(0,nr.T)({DataSourceDropDownOptions:Wi},zh)}parseOptions(l,e,n,i){const r=this.log.fn("calculateDropdownOptions",{currentValue:l,type:e,dropdownValuesFormat:n,dropdownValues:i});if(!i)return r.r(this.addSelectedIfMissing([],l),"No dropdownValues");const c=i.replace(/\r/g,"").split("\n");switch(n){case"":const g=c.map(z=>{const X=z.split(":"),ie=X[1],se=X.shift(),Fe=X.join(":");return{Title:se,Value:Fe||""===ie?Fe:se}});return r.r(this.addSelectedIfMissing(g,l));case"value-label":const b=c.map(z=>{const X=[];for(let Fe=0;Fe<z.length;Fe++){const Ze=z[Fe],lt=z[Fe+1];"\\"!==Ze||null==lt?X.push({char:Ze,escaped:!1}):(X.push({char:lt,escaped:!0}),Fe++)}const ie=X.findIndex(Fe=>":"===Fe.char&&!1===Fe.escaped),se={Title:ie>=0?X.slice(ie+1,X.length).map(Fe=>Fe.char).join(""):X.map(Fe=>Fe.char).join(""),Value:ie>=0?X.slice(0,ie).map(Fe=>Fe.char).join(""):X.map(Fe=>Fe.char).join("")};return"number"===e&&(se.Value=null!=se.Value&&""!==se.Value?isNaN(Number(se.Value))?null:Number(se.Value):null),se});return r.r(this.addSelectedIfMissing(b,l))}}addSelectedIfMissing(l,e){const n=this.log.fn("addSelectedIfMissing",{options:l,currentValue:e});if(null==e||""===e)return n.r(l,"currentValue is null");const i=e.toString();return l.some(c=>c.Value?.toString()===i)?n.r(l,"found"):n.r([...l,{Title:i,Value:e}])}}var jh=m(92853),Nh=m.n(jh);const Bh={all:!0,parse:!0};class yr{constructor(){this.log=(0,p.Tq)({DataSourceParserCsv:yr},Bh)}parse(l){const e=this.log.fnIf("parse",{csv:l}),n=Nh().parse(l,{header:!0,skipEmptyLines:!0,transformHeader:ie=>ie.trim(),transform:(ie,se)=>"Value"==se?ie:ie.trim(),dynamicTyping:!0}),i=n?.data;if(!i||!Array.isArray(i)||0==i.length)return[];const r=i.filter(ie=>void 0!==ie.Value);r.length!=i.length&&console.warn("CSV contains rows without a value",{data:i,filtered:r});const c=n?.meta.fields??[],g=c.reduce((ie,se)=>({...ie,[se]:null}),{}),{Value:b,...z}=g;e.a("Parsed CSV",{header:c,empty:z,data:i,filtered:r});const X=r.map(ie=>({...z,...ie,Value:ie.Value??""}));return e.r(X)}}const Hh={all:!0,getDataSourceAndSetupFieldSettings:!0,data:!0};class gn{constructor(){this.log=(0,p.Tq)({PickerLogicShared:gn},Hh)}static setDefaultSettings(l){const e=l;return e.AllowMultiValue??=!1,e.EnableEdit??=!0,e.EnableCreate??=!0,e.EnableAddExisting??=!0,e.EnableRemove??=!0,e.EnableDelete??=!1,e.Label??="",e.EnableTextEntry??=!1,e.noAutoFocus=!0,e}static maybeOverrideEditRestrictions(l,e){const n=l;return e.eavConfig.removeEditRestrictions&&e.debug?(console.log(`SystemAdmin + Debug: Overriding edit restrictions for field '${n.Name}' (EntityType: '${n.EntityType}').`),n.EnableEdit=!0,n.EnableCreate=!0,n.EnableAddExisting=!0,n.EnableRemove=!0,n.EnableDelete=!0,{fs:n,removeEditRestrictions:!0}):{fs:n,removeEditRestrictions:!1}}preUpdate({settings:l,tools:e,value:n}){const i=gn.setDefaultSettings({...l}),{fs:r,removeEditRestrictions:c}=gn.maybeOverrideEditRestrictions(i,e),{fs:g,typeConfig:b}=(new gn).#e(n,r,e);return{fs:g,removeEditRestrictions:c,typeConfig:b}}#e(l,e,n){const i=e,r=i.DataSources?.length>0?n.contentTypeItemSvc.getMany(i.DataSources):[],c=r[0],g=c?.Type.Name;i.dataSourceType=g??"";const b=n.reader.flatten(c),z=Object.values(Vt).includes(g),X=this.log.fn("dataSources",{dataSources:r});if(X.values({typeName:g,isKnownType:z,dataSources:r,typeConfig:b}),!z)return console.error(`Unknown picker source type: '${g}' on field ${i.Name}`),{fs:i,typeConfig:b};i.CreateTypes=b.CreateTypes??"",i.MoreFields=b.MoreFields??"",i.Label=b.Label??"",i.ItemInformation=b.ItemInformation??"",i.ItemTooltip=b.ItemTooltip??"",i.ItemLink=b.ItemLink??"",i.PreviewType=b.PreviewType??"",i.Value=b.Value??"",i.PreviewValue=b.PreviewValue??"";const ie=g===Vt.UiPickerSourceQuery,se=g===Vt.UiPickerSourceEntity,Fe=g===Vt.UiPickerSourceCss,Ze=g===Vt.UiPickerSourceAppAssets;X.values({sourceIsQuery:ie,sourceIsEntity:se,sourceIsCss:Fe,sourceIsAppAssets:Ze});const lt=Object.values(rr).includes(g);if(ie){const ut=b;i.Query=ut.Query??"",i.StreamName=ut.StreamName??"Default",i.UrlParameters=ut.QueryParameters??""}if(se&&(i.EntityType=b.ContentTypeNames??""),Fe&&(i.CssSourceFile=b.CssSourceFile??"",i.CssSelectorFilter=b.CssSelectorFilter??""),Ze&&(i.AssetsRootFolder=b.AssetsRootFolder??"/",i.AssetsFileFilter=b.AssetsFileFilter??"*.*",i.AssetsType=b.AssetsType??"files",i.requiredFeatures=[Rt.T.PickerSourceAppAssets]),lt)if(g===Vt.UiPickerSourceCustomList){const ut=b.Values??"";i._options??=(new Wi).parseOptions(l,"string","value-label",ut)??[]}else if(g===Vt.UiPickerSourceCustomCsv){const ut=b.Csv;i._options??=(new yr).parse(ut),i.requiredFeatures=[Rt.T.PickerSourceCsv]}return i.AllowMultiValue?i.EnableReselect??=!1:i.EnableReselect=!1,i.AllowMultiValue?(i.AllowMultiMin??=0,i.AllowMultiMax??=0):(i.AllowMultiMin=0,i.AllowMultiMax=0),i.PickerDisplayMode??="list",i.PickerDisplayConfiguration??=[],i.PickerTreeConfiguration=this.#t(i,n),{fs:i,typeConfig:b}}#t(l,e){if(l.PickerTreeConfiguration)return l.PickerTreeConfiguration;if("tree"!==l.PickerDisplayMode)return null;const n=l.PickerDisplayConfiguration?.length>0?e.contentTypeItemSvc.getMany(l.PickerDisplayConfiguration):[];if(n[0]?.Type.Name!==Zs)return null;const r=e.reader.flatten(n[0]);return{Title:r.Title??"",ConfigModel:Zs,TreeRelationship:r.TreeRelationship??Gi,TreeBranchesStream:r.TreeBranchesStream??"Default",TreeLeavesStream:r.TreeLeavesStream??"Default",TreeParentIdField:r.TreeParentIdField??"Id",TreeChildIdField:r.TreeChildIdField??"Id",TreeParentChildRefField:r.TreeParentChildRefField??"Children",TreeChildParentRefField:r.TreeChildParentRefField??"Parent",TreeShowRoot:r.TreeShowRoot??!0,TreeDepthMax:r.TreeDepthMax??10,TreeAllowSelectRoot:r.TreeAllowSelectRoot??!0,TreeAllowSelectBranch:r.TreeAllowSelectBranch??!0,TreeAllowSelectLeaf:r.TreeAllowSelectLeaf??!0}}}class ci extends _t.S{constructor(){super({EntityDefaultLogic:ci}),this.name=Je.u.EntityDefault}update({settings:l,tools:e}){const n=gn.setDefaultSettings({...l});return n.EntityType??="",n.CreateTypes=n.EntityType??"",n.CreatePrefill??=n.Prefill,delete n.Prefill,gn.maybeOverrideEditRestrictions(n,e).fs}}function $h(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Gh(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(ci);let xo=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({EntityDefaultComponent:a},Bt.logSpecs),this.constructorEnd(),ci.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["entity-default"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,$h,1,0,"app-picker-preview")(1,Gh,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();function Uh(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Wh(a,l){1&a&&t.nrm(0,"app-picker-dialog")}let Xh=(()=>{class a extends xo{constructor(){super(),Li.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["entity-content-blocks"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Uh,1,0,"app-picker-preview")(1,Wh,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();class Xi extends _t.S{constructor(){super({EntityPickerLogic:Xi}),this.name=Je.u.EntityPicker}update(l){return(new gn).preUpdate(l).fs}}function Qh(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Kh(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(Xi);let Jh=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({EntityPickerComponent:a},Bt.logSpecs),this.constructorEnd(),Xi.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["entity-picker"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Qh,1,0,"app-picker-preview")(1,Kh,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();class Qi extends _t.S{constructor(){super({EntityQueryLogic:Qi}),this.name=Je.u.EntityQuery}update(l){const n=ve.y.singleton().get(Je.u.EntityDefault).update(l);return n.Query??="",n.StreamName||="Default",n.UrlParameters??="",n}}function Zh(a,l){1&a&&t.nrm(0,"app-picker-preview")}function qh(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(Qi);let ef=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({EntityQueryComponent:a},Bt.logSpecs),this.constructorEnd(),Qi.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["entity-query"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Zh,1,0,"app-picker-preview")(1,qh,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();var Mo=m(41134);let br=(()=>{class a extends j.B{constructor(e){super(),this.formConfig=e}getAllPromise(e,n){return this.fetchPromise(e+"/items",{params:{subfolder:n.subfolder,usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}addFolder(e,n,i){return this.http.post(n+"/folder",{},{params:{subfolder:i.subfolder,newFolder:he.SX.sanitizeName(e),usePortalRoot:i.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}renamePromise(e,n,i,r){return this.fetchPromise(i+"/rename",{params:{subfolder:r.subfolder,isFolder:e.IsFolder.toString(),id:e.Id.toString(),usePortalRoot:r.usePortalRoot.toString(),newName:he.SX.sanitizeName(n),appId:this.formConfig.config.appId}})}deleteItemPromise(e,n,i){return this.fetchPromise(n+"/delete",{params:{subfolder:i.subfolder,isFolder:e.IsFolder.toString(),id:e.Id.toString(),usePortalRoot:i.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}getLinkInfoPromise(e,n,i,r){return this.fetchPromise("cms/edit/linkInfo",{params:{link:e,...i&&{guid:i},...n&&{contentType:n},...r&&{field:r},appid:this.formConfig.config.appId}})}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(k.S))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var di=m(88857),wo=m(67419),ko=m(33518);class Cr{get field(){return this.fieldConfigSignal()}get field$(){return this.#e??=(0,rt.br)(this.fieldConfigSignal,{injector:this._experimental.injector})}#e;constructor(l,e,n,i,r){this.fieldConfigSignal=n,this._experimental=i,this.log=(0,p.Tq)({ConnectorInstance:Cr}),this.data=new tf(l,e),this.dialog=new nf(l),this.loadScript=(c,g,b)=>{if(("string"==typeof c||"function"==typeof c)&&"string"==typeof g&&"function"==typeof b)return g=mt.resolveUrlTokens(g,r),void(0,ko.P)([{test:c,src:g}],b);if(!Array.isArray(c)||"function"!=typeof g)throw new Error("Unrecognized parameters. Please double check your input");for(const X of c)X.src=mt.resolveUrlTokens(X.src,r);(0,ko.P)(c,g)}}}class tf{constructor(l,e){this._connectorHost=l,this.value$=e,this.clientValueChangeListeners=[],this.value$.subscribe(n=>{this.value=n,this.clientValueChangeListeners.forEach(i=>i(n))})}update(l){this._connectorHost.update(l)}onValueChange(l){this.clientValueChangeListeners.push(l)}}class nf{constructor(l){this._connectorHost=l}open(l){return this._connectorHost.expand(!0,l)}close(){this._connectorHost.expand(!1)}}const af={all:!1,constructor:!1,init:!0,getUrlOfId:!1,updateControl:!1,openFeatureDisabledWarning:!1};let So=(()=>{class a extends et.V{#e;#t;#n;#i;#a;#r;#s;#o;#l;#c;#d;#u;constructor(){super(),this.log=(0,p.Tq)({ConnectorHelper:a},af),this.#e=(0,s.WQX)(s.zZn),this.#t=(0,s.WQX)(at.W),this.#n=(0,s.WQX)(k.S),this.#i=(0,s.WQX)(re.c$),this.#a=(0,s.WQX)(W.n),this.#r=(0,s.WQX)(A.A),this.#s=(0,s.WQX)(_.D),this.#o=(0,s.WQX)(vt),this.#l=(0,s.WQX)(d.h),this.#c=(0,s.WQX)(Re.UG),this.#d=(0,s.WQX)(t.SKi),this.#u=(0,M.d)(br),this.#h=this.#t.ui().control.valueChanges.pipe((0,ae.Z)(this.#t.uiValue()),(0,Un.F)(_n.A)),this.#p=this.#t.config,this.#f=this.#t.group,this.log.aIf("constructor")}#m;#h;#p;#f;#g;#_;init(e,n,i,r){return this.log.a("init"),this.#g=i,this.#_=r,this.#m=document.createElement(e),this.#m.connector=this.#v(),n.nativeElement.appendChild(this.#m),this}ngOnDestroy(){this.log.a("ngOnDestroy"),this.#m?.parentNode.removeChild(this.#m),this.#m=null,super.ngOnDestroy()}#v(){const e=this.#y(),n=this.#b(),i=(0,Pe.EW)(()=>{const c=this.#t.settings();return function rf(a,l){return{name:a.fieldName,index:a.index,label:l.Name,placeholder:l.Placeholder,inputType:a.inputTypeSpecs.inputType,type:a.type,required:l.valueRequired,disabled:a.initialDisabled,settings:l}}(this.#p,c)},{equal:_n.A}),r=new Cr(e,this.#h,i,n,this.#n.config);return(0,Pe.QZ)(()=>{const c=this.#t.settings(),g=r.field;g.settings=c,g.label=c.Name,g.placeholder=c.Placeholder,g.required=c.valueRequired},{injector:this.#e}),r}#y(){return{update:n=>{this.#d.run(()=>this.#x(n))},expand:(n,i)=>{this.#d.run(()=>this.#o.expand(n,this.#p.index,this.#p.entityGuid,i))}}}#b(){const e=this.#a.get(this.#p.contentTypeNameId),n=this.#r.getAttributeInputTypes(e.Attributes),i=(0,p.Tq)("ConnectorHelperExperimental");return{entityGuid:this.#p.entityGuid,allInputTypeNames:n,formGroup:this.#f,translateService:this.#i,isExpanded$:this.#o.isExpanded$(this.#p.index,this.#p.entityGuid),dropzone:this.#p.dropzone,adam:this.#p.adam,updateField:(c,g)=>{i.fn("updateField",{name:c,value:g}),this.#d.run(()=>{this.#x(g,this.#f.controls[c])})},isFeatureEnabled:this.#s.isEnabled,setFocused:c=>{i.fn("setFocused",{focused:c}),this.#d.run(()=>{this.#p.focused$.next(c)})},openPagePicker:c=>{i.fn("openPagePicker"),this.#d.run(()=>{wo.C.open(this.#p,this.#f,this.#l,this.#g,this.#_,c)})},featureDisabledWarning:c=>{i.fn("featureDisabledWarning",{featureNameId:c}),this.#d.run(()=>{this.#M(c)})},getUrlOfId:(c,g)=>{i.fn("getUrlOfId",{value:c}),this.#d.run(()=>{this.#C(c,g)})},getSettings:c=>this.#n.config.settings?.Values[c],getFieldMask:(c,g)=>(0,M.d)(he.Nt,this.#e).init(g,c),injector:this.#e}}#C(e,n){if(!e)return;const i=this.#p.contentTypeNameId,r=this.#p.entityGuid,c=this.#p.fieldName;this.#u.getLinkInfoPromise(e,i,r,c).then(g=>{g&&n(g.Value)})}#x(e,n=null){(n?new di.a(n):this.#t.ui()).disabled||this.#t.ui().setIfChanged(e)}#M(e){e===Rt.T.PasteImageFromClipboard&&this.#c.open(this.#i.instant("Message.PastingFilesIsNotEnabled"),this.#i.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>(0,yi.j)(this.#l,Rt.T.PasteImageFromClipboard,this.#g,this.#_))}static#w=this.\u0275fac=function(n){return new(n||a)};static#k=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const sf=["customElContainer"];let of=(()=>{class a{constructor(){this.log=(0,p.Tq)({ConnectorComponent:a}),this.fieldState=(0,s.WQX)(at.W),this.connectorCreator=(0,M.d)(So),this.viewContainerRef=(0,s.WQX)(t.c1b),this.changeDetectorRef=(0,s.WQX)(P.gRc)}ngAfterViewInit(){const e=this.log.fn("ngAfterViewInit"),n=history?.state?.componentTag||this.fieldState.config.inputTypeSpecs.componentTagDialogName;e.a("Connector created for:",{componentTag:n}),this.connectorCreator.init(n,this.customElContainerRef,this.viewContainerRef,this.changeDetectorRef)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-connector"]],viewQuery:function(n,i){if(1&n&&t.GBs(sf,5),2&n){let r;t.mGM(r=t.lsd())&&(i.customElContainerRef=r.first)}},decls:2,vars:0,consts:[["customElContainer",""],[2,"height","100%","position","relative"]],template:function(n,i){1&n&&t.nrm(0,"div",1,0)},encapsulation:2})}return a})();class Ki extends _t.S{constructor(){super({CustomGpsLogic:Ki}),this.name=Je.u.CustomGps}update({settings:l}){return{...l}}}_t.S.add(Ki);class Ji extends _t.S{constructor(){super({StringWysiwygLogic:Ji}),this.name=Je.u.StringWysiwyg,this.canAutoTranslate=!0}update({settings:l,tools:e}){const n={...l};return n._allowDialog??=null==n.Dialog||""===n.Dialog,n.Dialog||="inline",n.ButtonSource||="",n.ButtonAdvanced||="",n.ContentCss||="",n.InlineInitialHeight||="3",n._advanced=this.findAndMergeAdvanced(e,n.WysiwygConfiguration,{Mode:"default",Json:""}),n}processValueOnLoad(l,e){try{const n=(new DOMParser).parseFromString(l,"text/html");return n.body.querySelectorAll("img").forEach(i=>{const r=i.getAttribute("data-cmsid")?.replace("file:",""),c=i.getAttribute("src");if(r&&c){const g=c.split("/").pop();if(r===g){const b=e.find(z=>z.Name===r);b&&i.setAttribute("src",b.Url)}}}),n.body.innerHTML}catch(n){return console.error("Error while cleaning wysiwyg content",n),l}}}function lf(a,l){1&a&&t.nrm(0,"mat-spinner",0)}function cf(a,l){1&a&&t.nrm(0,"app-connector")}_t.S.add(Ji);let df=(()=>{class a{constructor(e){this.scriptsLoaderService=e,this.log=(0,p.Tq)({ExternalWebComponentComponent:a}),this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.loading=(0,s.vPA)(!0),Ji.importMe(),Ki.importMe()}ngOnInit(){this.loadAssets()}loadAssets(){const e=this.config.inputTypeSpecs.metadata.AngularAssets.split("\n");0!==e.length&&this.scriptsLoaderService.load(e,this.assetsLoaded.bind(this))}assetsLoaded(){this.log.fn("assetsLoaded "+this.config.fieldName),this.loading.set(!1)}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(mt))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["external-web-component"]],decls:2,vars:1,consts:[["color","accent"]],template:function(n,i){1&n&&t.nVh(0,lf,1,0,"mat-spinner",0)(1,cf,1,0,"app-connector"),2&n&&t.vxM(i.loading()?0:i.fieldState.isOpen()?1:-1)},dependencies:[Mo.D6,Mo.LG,of],encapsulation:2})}return a})();const uf={all:!0,constructor:!1,handleImage:!1};let xr=(()=>{class a{#e;#t;constructor(e,n,i,r,c,g,b){this.elementRef=e,this.features=n,this.snackBar=i,this.translate=r,this.matDialog=c,this.viewContainerRef=g,this.changeDetectorRef=b,this.log=(0,p.Tq)({PasteClipboardImageDirective:a},uf),this.config=(0,P.hFB)(),this.elementType=(0,P.hFB)(),this.#e=[],this.#t=this.features.isEnabled[Rt.T.PasteImageFromClipboard](),this.log.fn("constructor",{elementType:this.elementType(),pasteImageEnabled:this.#t})}ngOnInit(){switch(this.elementType()){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}const e=n=>{this.#n(n)};this.elementRef.nativeElement.addEventListener("handleImage",e),this.#e.push({element:this.elementRef.nativeElement,type:"handleImage",listener:e})}ngOnDestroy(){this.#e.forEach(({element:e,type:n,listener:i})=>{e.removeEventListener(n,i)})}#n(e){const n=this.#t,i=this.log.fnIf("handleImage",{event:e},"handling paste image - "+(n?"enabled":"disabled"));if(n){const r=this.#i(e.detail);this.config().dropzone.uploadFile(r),i.end("started upload")}else this.snackBar.open(this.translate.instant("Message.PastingFilesIsNotEnabled"),this.translate.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{(0,yi.j)(this.matDialog,Rt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}),i.end("not enabled, showing snackbar")}#i(e){let n=e.file;try{const i=new FormData;i.append("file",e.file,e.imageFileName),n=i.get("file")}catch(i){console.error("paste image error",i)}return n}static#a=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.aKT),t.rXU(_.D),t.rXU(Re.UG),t.rXU(re.c$),t.rXU(d.h),t.rXU(t.c1b),t.rXU(P.gRc))};static#r=this.\u0275dir=t.FsC({type:a,selectors:[["","appPasteClipboardImage",""]],inputs:{config:[1,"config"],elementType:[1,"elementType"]}})}return a})(),Do=(()=>{class a{#e;#t;constructor(e,n,i,r,c,g){this.formConfig=e,this.matDialog=n,this.viewContainerRef=i,this.changeDetectorRef=r,this.linkCacheService=c,this.formsStateService=g,this.log=(0,p.Tq)({HyperlinkDefaultBaseComponent:a}),this.preview=(0,s.vPA)({url:"",thumbnailUrl:"",previewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),this.fieldState=(0,s.WQX)(at.W),this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.config=this.fieldState.config,this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.#e=(0,s.WQX)(s.zZn),this.#t=(0,s.WQX)(vt),this.adamService=(0,M.d)(br),this.adamItem=(0,le.bo)("adamItem",()=>{const b=this.uiValue(),z=this.config.adam.items();if(!b||!z.length)return;const X=b.trim().match(/^file:([0-9]+)$/i);if(!X)return;const ie=parseInt(X[1],10);return z.find(Fe=>Fe.Id===ie)})}ngOnInit(){(0,Pe.QZ)(()=>{this.log.a("controlStatus effect");const e=this.fieldState.uiValue();this.fetchLink(e)},{injector:this.#e})}openPagePicker(){wo.C.open(this.config,this.group,this.matDialog,this.viewContainerRef,this.changeDetectorRef,e=>{e&&this.fieldState.ui().setIfChanged(`page:${e.id}`)})}openImageConfiguration(e){if(this.formsStateService.readOnly().isReadOnly||!e?._imageConfigurationContentType)return;const n={items:[e._imageConfigurationId>0?F.c.editId(e._imageConfigurationId):F.c.newMetadata(e.ReferenceId,e._imageConfigurationContentType,Sn.YX.metadata.cmsObject)]};this.#t.open(this.config.index,this.config.entityGuid,n)}fetchLink(e){if(this.log.a("fetchLink",{value:e}),!e)return void this.setPreview(e,!1);if(!this.isFileOrPage(e))return void this.setPreview(e,!1);const i=this.linkCacheService.get(e);if(i){const b=!this.isFileOrPage(i.Value);this.setPreview(i.Value,b,i.Adam)}else this.adamService.getLinkInfoPromise(e,this.config.contentTypeNameId,this.config.entityGuid,this.config.fieldName).then(b=>{if(!b)return void this.setPreview(e,!1);this.linkCacheService.addLink(e,b);const z=!this.isFileOrPage(b.Value);this.setPreview(b.Value,z,b.Adam)})}setPreview(e,n,i){const r=this.getPreview(e,n,i);this.preview.set(r)}getPreview(e,n,i){return{url:e=e.replace(/\[App:Path\]/i,he.b.getUrlPrefix("app",this.formConfig.config)),floatingText:n?`.../${e.substring(e.lastIndexOf("/")+1)}`:"",thumbnailUrl:`url("${i?.ThumbnailUrl??this.buildUrl(e,1)}")`,previewUrl:i?.PreviewUrl??this.buildUrl(e,2),isImage:he.M5.isImage(e),isKnownType:he.M5.isKnownType(e),icon:he.M5.getIconClass(e)}}buildUrl(e,n){let i="";return 1===n&&(i+="w=80&h=80&mode=crop"),2===n&&(i+="w=800&h=800&mode=max"),i&&!e.includes("?")&&(i="?"+i),e+i}isFileOrPage(e){const n=e.trim().toLocaleLowerCase();return n.startsWith("file:")||n.startsWith("page:")}static#n=this.\u0275fac=function(n){return new(n||a)(t.rXU(k.S),t.rXU(d.h),t.rXU(t.c1b),t.rXU(P.gRc),t.rXU(R),t.rXU(jt))};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-base-field-hyperlink-component"]],decls:0,vars:0,template:function(n,i){},encapsulation:2})}return a})();class Zi extends _t.S{constructor(){super({HyperlinkDefaultLogic:Zi}),this.name=Je.u.HyperlinkDefault}update({settings:l}){const e={...l};return e.Buttons||="adam,more",e.FileFilter??="",e.Paths??="",e.ServerResourceMapping??="",e.EnableImageConfiguration??=!0,e}}_t.S.add(Zi);const pf=a=>({"metadata-exists":a});function mf(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.toggleAdam(!1,!1))}),t.nrm(1,"mat-icon",18),t.k0s()}if(2&a){const e=t.XpG(3);t.Y8G("disabled",e.ui().disabled)}}function hf(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.openPagePicker())}),t.nrm(1,"mat-icon",20),t.k0s()}if(2&a){const e=t.XpG(3);t.Y8G("disabled",e.ui().disabled)}}function ff(a,l){if(1&a&&(t.j41(0,"button",6)(1,"mat-icon"),t.EFF(2,"more_vert"),t.k0s()()),2&a){t.XpG();const e=t.sdS(8),n=t.XpG(2);t.Y8G("disabled",n.ui().disabled)("matMenuTriggerFor",e)}}function gf(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){s.eBV(e);const i=t.XpG(4);return s.Njj(i.toggleAdam(!1,!1))}),t.nrm(1,"mat-icon",18),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function _f(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){s.eBV(e);const i=t.XpG(4);return s.Njj(i.openPagePicker())}),t.nrm(1,"mat-icon",20),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Fields.Hyperlink.Default.MenuPage")))}function vf(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){s.eBV(e);const i=t.XpG(4);return s.Njj(i.toggleAdam(!0,!0))}),t.nrm(1,"mat-icon",23),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Fields.Hyperlink.Default.MenuImage")))}function yf(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){s.eBV(e);const i=t.XpG(4);return s.Njj(i.toggleAdam(!0,!1))}),t.nrm(1,"mat-icon",24),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&a&&(t.R7$(3),t.JRh(t.bMT(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function bf(a,l){if(1&a&&(t.nVh(0,gf,5,3,"button",21),t.nVh(1,_f,5,3,"button",21),t.nVh(2,vf,5,3,"button",21),t.nVh(3,yf,5,3,"button",21)),2&a){const e=t.XpG(3);t.vxM(e.showAdam()?0:-1),t.R7$(),t.vxM(e.showPagePicker()?1:-1),t.R7$(),t.vxM(e.showImageManager()?2:-1),t.R7$(),t.vxM(e.showFileManager()?3:-1)}}function Cf(a,l){if(1&a&&(t.j41(0,"div",15)(1,"div",25),t.EFF(2),t.k0s(),t.j41(3,"div",26)(4,"a",27)(5,"span"),t.EFF(6),t.k0s()()()()),2&a){const e=t.XpG(2),n=t.XpG();t.R7$(2),t.JRh(n.uiValue()),t.R7$(2),t.Y8G("href",e.url,t.B4B)("tippy",e.url),t.R7$(2),t.JRh(e.floatingText)}}function xf(a,l){if(1&a&&(t.j41(0,"a",28)(1,"div",30),t.nrm(2,"img",31),t.k0s()()),2&a){const e=t.XpG(3);t.Y8G("href",e.url,t.B4B),t.R7$(2),t.Y8G("src",e.previewUrl,t.B4B)}}function Mf(a,l){if(1&a&&(t.j41(0,"a",29)(1,"div",32),t.nrm(2,"mat-icon",33),t.k0s()()),2&a){const e=t.XpG(3);t.Y8G("href",e.url,t.B4B)("tippy",e.url),t.R7$(2),t.Y8G("svgIcon",e.icon)}}function wf(a,l){if(1&a&&(t.j41(0,"div",16),t.nVh(1,xf,3,2,"a",28)(2,Mf,3,3,"a",29),t.k0s()),2&a){const e=t.XpG(2);t.R7$(),t.vxM(e.isImage?1:2)}}function kf(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",1),t.nVh(1,mf,2,1,"button",2),t.j41(2,"button",3),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openImageConfiguration(i.adamItem()))}),t.j41(3,"mat-icon",4),t.EFF(4,"filter_center_focus"),t.k0s()(),t.nVh(5,hf,2,1,"button",5),t.nVh(6,ff,3,2,"button",6),t.k0s(),t.j41(7,"mat-menu",7,0),t.DNE(9,bf,4,4,"ng-template",8),t.k0s(),t.j41(10,"div",9)(11,"div",10)(12,"mat-card",11)(13,"div",12)(14,"mat-form-field",13),t.nrm(15,"input",14),t.j41(16,"mat-label"),t.EFF(17),t.k0s()(),t.nVh(18,Cf,7,4,"div",15),t.k0s(),t.nVh(19,wf,3,1,"div",16),t.k0s()()()}if(2&a){let e,n,i;const r=t.XpG(),c=t.XpG();t.R7$(),t.vxM(c.buttonAdam()?1:-1),t.R7$(),t.Y8G("disabled",!(null!=(e=c.adamItem())&&e._imageConfigurationContentType))("ngClass",t.eq3(16,pf,(null==(n=c.adamItem())?null:n._imageConfigurationId)>0)),t.R7$(),t.Y8G("tippyTranslate",c.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(i=c.adamItem())?null:i._imageConfigurationContentType),t.R7$(2),t.vxM(c.buttonPage()?5:-1),t.R7$(),t.vxM(c.buttonMore()?6:-1),t.R7$(8),t.Y8G("formGroup",c.group),t.R7$(),t.Y8G("formControlName",c.config.fieldName)("placeholder",c.basics().placeholder)("required",c.basics().required)("config",c.config)("elementType","input"),t.R7$(2),t.JRh(c.basics().label),t.R7$(),t.vxM(null!=r&&r.floatingText?18:-1),t.R7$(),t.vxM(c.uiValue()?19:-1)}}function Sf(a,l){if(1&a&&t.nVh(0,kf,20,18),2&a){const e=t.XpG();t.vxM(e.fieldState.isOpen()?0:-1)}}let Mr=class $r extends Do{constructor(l,e,n,i,r,c){super(l,e,n,i,r,c),this.buttonAdam=(0,Pe.EW)(()=>this.settings().Buttons.includes("adam"),kn.bool),this.buttonPage=(0,Pe.EW)(()=>this.settings().Buttons.includes("page"),kn.bool),this.buttonMore=(0,Pe.EW)(()=>this.settings().Buttons.includes("more"),kn.bool),this.showAdam=this.fieldState.settingExt("ShowAdam"),this.showPagePicker=this.fieldState.settingExt("ShowPagePicker"),this.showImageManager=this.fieldState.settingExt("ShowImageManager"),this.showFileManager=this.fieldState.settingExt("ShowFileManager"),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),Zi.importMe();const g=(0,le.bo)("adamSettings",()=>{const b=this.fieldState.settings();return{rootSubfolder:b.Paths,fileFilter:b.FileFilter,autoLoad:!0}});(0,Pe.QZ)(()=>{const b=g();this.config.adam.setConfig(b)})}ngOnInit(){super.ngOnInit(),this.config.adam.onItemClick=l=>{this.setValue(l)},this.config.adam.onItemUpload=l=>{this.setValue(l)}}toggleAdam(l,e){this.config.adam.toggle(l,e)}setValue(l){const n="url"===this.settings().ServerResourceMapping?l.Url:l.ReferenceId;this.fieldState.ui().setIfChanged(n)}static#e=this.\u0275fac=function(e){return new(e||$r)(t.rXU(k.S),t.rXU(d.h),t.rXU(t.c1b),t.rXU(P.gRc),t.rXU(R),t.rXU(jt))};static#t=this.\u0275cmp=t.VBU({type:$r,selectors:[["hyperlink-default"]],features:[t.Vt3],decls:1,vars:1,consts:[["menu","matMenu"],[1,"fabs-box"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.MoreOptions",3,"disabled","matMenuTriggerFor"],[1,"menu-box"],["matMenuContent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",3,"formControlName","placeholder","required","config","elementType"],[1,"hyperlink-floating"],[1,"preview-wrapper"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"click","disabled"],["svgIcon","sitemap"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","tippy"],["target","_blank",3,"href"],["target","_blank","tippyPlacement","right",3,"href","tippy"],[1,"preview-image-box"],[1,"preview-image",3,"src"],[1,"preview-icon-box"],[3,"svgIcon"]],template:function(e,n){if(1&e&&t.nVh(0,Sf,1,1),2&e){let i;t.vxM((i=n.preview())?0:-1,i)}},dependencies:[It.Hl,It.$0,Qe.m_,Qe.An,qe.YU,Pt.Cn,Pt.kk,Pt.fb,Pt.z8,Pt.Cp,gt.Hu,gt.RN,Gt.M,wt.j,wt.M,Q.YN,Q.me,Q.BC,Q.cb,Q.YS,Q.X1,Q.j4,Q.JD,Ut.fS,Ut.fg,xr,re.h,re.D9,Lt.e],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 219px - var(--edit-dialog-header-height) - var(--edit-dialog-margin-top));height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:#1d273d14}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:#1d273d70}"]})};Mr=(0,At.Cg)([Jt({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-default-expandable-wrapper","app-adam-wrapper"]}),(0,At.Sn)("design:paramtypes",[k.S,d.h,t.c1b,P.gRc,R,jt])],Mr);class qi extends _t.S{constructor(){super({HyperlinkLibraryLogic:qi}),this.name=Je.u.HyperlinkLibrary}update({settings:l}){const e={...l};return e.EnableImageConfiguration??=!0,e}}_t.S.add(qi);let wr=class Gr{constructor(){this.fieldState=(0,s.WQX)(at.W),this.injector=(0,s.WQX)(s.zZn),qi.importMe();let l=!0;(0,Pe.QZ)(()=>{const e=this.fieldState.ui().control;e.adamItems=this.fieldState.config.adam.items().length,l||e.updateValueAndValidity(),l=!1})}ngOnInit(){this.attachAdamConfig()}attachAdamConfig(){const l=(0,le.bo)("adamConfig",()=>{const e=this.fieldState.settings();return{allowAssetsInRoot:e.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:e.Paths,fileFilter:e.FileFilter,folderDepth:e.FolderDepth||0,metadataContentTypes:e.MetadataContentTypes}});(0,Pe.QZ)(()=>{const e=l();this.fieldState.config.adam.setConfig(e)},{injector:this.injector})}static#e=this.\u0275fac=function(e){return new(e||Gr)};static#t=this.\u0275cmp=t.VBU({type:Gr,selectors:[["hyperlink-library"]],decls:0,vars:0,template:function(e,n){},encapsulation:2})};wr=(0,At.Cg)([Jt({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-library-expandable-wrapper","app-adam-wrapper"]}),(0,At.Sn)("design:paramtypes",[])],wr);class ui extends _t.S{constructor(){super({StringDropdownLogic:ui}),this.name=Je.u.StringDropdown,this.type="string"}update({settings:l,value:e}){const n=gn.setDefaultSettings({...l});return n._options=(new Wi).parseOptions(e,this.type,n.DropdownValuesFormat||"",n.DropdownValues||""),n.EntityType??="",n.CreateTypes=n.EntityType,n.EnableEdit??=!1,n.EnableCreate??=!1,n.EnableRemove??=n.AllowMultiValue,n}}_t.S.add(ui);class To extends ui{constructor(){super(...arguments),this.name=Je.u.NumberDefault}update(l){return{...super.update(l)}}}_t.S.add(To);let kr=class Ur{constructor(){this.fieldState=(0,s.WQX)(at.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.min=this.fieldState.settingExt("Min"),this.max=this.fieldState.settingExt("Max"),To.importMe()}static#e=this.\u0275fac=function(e){return new(e||Ur)};static#t=this.\u0275cmp=t.VBU({type:Ur,selectors:[["number-default"]],decls:5,vars:7,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","type","number",1,"eav-translate-on-dblclick",3,"formControlName","required","placeholder","min","max"]],template:function(e,n){1&e&&(t.j41(0,"mat-form-field",0),t.nrm(1,"input",1),t.j41(2,"mat-label"),t.EFF(3),t.k0s()(),t.nrm(4,"app-field-helper-text")),2&e&&(t.Y8G("formGroup",n.group),t.R7$(),t.Y8G("formControlName",n.config.fieldName)("required",n.basics().required)("placeholder",n.basics().placeholder)("min",n.min())("max",n.max()),t.R7$(2),t.JRh(n.basics().label))},dependencies:[Gt.M,wt.j,wt.M,Q.YN,Q.me,Q.Q0,Q.BC,Q.cb,Q.YS,Q.VZ,Q.zX,Q.X1,Q.j4,Q.JD,Ut.fS,Ut.fg,Zt],encapsulation:2})};kr=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],kr);class Eo extends ui{constructor(){super(...arguments),this.name=Je.u.NumberDropdown,this.type="number"}update(l){return{...super.update(l)}}}function Df(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Tf(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(Eo);let Sr=class Wr extends Bt{constructor(){super(),this.constructorEnd(),Eo.importMe()}static#e=this.\u0275fac=function(e){return new(e||Wr)};static#t=this.\u0275cmp=t.VBU({type:Wr,selectors:[["number-dropdown"]],features:[t.Vt3],decls:2,vars:1,template:function(e,n){1&e&&t.nVh(0,Df,1,0,"app-picker-preview")(1,Tf,1,0,"app-picker-dialog"),2&e&&t.vxM(n.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})};Sr=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Sr);class ea extends _t.S{constructor(){super({NumberPickerLogic:ea}),this.name=Je.u.NumberPicker}update(l){return ve.y.singleton().get(Je.u.StringPicker).update(l)}}function Ef(a,l){1&a&&t.nrm(0,"app-picker-preview")}function If(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(ea);let Af=(()=>{class a extends Bt{constructor(){super(),this.log=(0,nr.T)({NumberPickerComponent:a},Bt.logSpecs),this.constructorEnd(),ea.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["number-picker"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Ef,1,0,"app-picker-preview")(1,If,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();class ta extends _t.S{constructor(){super({StringDefaultLogic:ta}),this.name=Je.u.StringDefault,this.canAutoTranslate=!0}update(l){const e={...l.settings};return e.InputFontFamily??="",e.RowCount||=1,e}}_t.S.add(ta);const Ff=a=>({"textarea-field":a}),Pf=a=>({"font-family":a}),Of=(a,l)=>({"font-family":a,"white-space":l});function Rf(a,l){if(1&a&&t.nrm(0,"input",1),2&a){const e=t.XpG();t.Y8G("formControlName",e.config.fieldName)("placeholder",e.basics().placeholder)("required",e.basics().required)("ngStyle",t.eq3(4,Pf,e.inputFontFamily()))}}function Lf(a,l){if(1&a&&(t.j41(0,"textarea",2),t.EFF(1,"    "),t.k0s()),2&a){const e=t.XpG();t.Y8G("formControlName",e.config.fieldName)("rows",e.rowCount())("placeholder",e.basics().placeholder)("required",e.basics().required)("ngStyle",t.l_i(5,Of,e.inputFontFamily(),e.textWrap()))}}let Dr=class Xr{constructor(){this.fieldState=(0,s.WQX)(at.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.rowCountRaw=this.fieldState.settingExt("RowCount"),this.rowCount=(0,le.bo)("rowCount",()=>Math.abs(this.rowCountRaw()||1)),this.isMultiline=(0,le.bo)("isMultiline",()=>{const l=this.rowCountRaw()||1;return l<0||l>1}),this.inputFontFamily=this.fieldState.settingExt("InputFontFamily"),this.textWrap=this.fieldState.settingExt("TextWrapping"),ta.importMe()}static#e=this.\u0275fac=function(e){return new(e||Xr)};static#t=this.\u0275cmp=t.VBU({type:Xr,selectors:[["string-default"]],decls:6,vars:6,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup","ngClass"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","placeholder","required","ngStyle"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","rows","placeholder","required","ngStyle"]],template:function(e,n){1&e&&(t.j41(0,"mat-form-field",0),t.nVh(1,Rf,1,6,"input",1)(2,Lf,2,8,"textarea",2),t.j41(3,"mat-label"),t.EFF(4),t.k0s()(),t.nrm(5,"app-field-helper-text")),2&e&&(t.Y8G("formGroup",n.group)("ngClass",t.eq3(4,Ff,n.rowCount()>1)),t.R7$(),t.vxM(n.isMultiline()?2:1),t.R7$(3),t.JRh(n.basics().label))},dependencies:[Gt.M,wt.j,wt.M,Q.YN,Q.me,Q.BC,Q.cb,Q.YS,Q.X1,Q.j4,Q.JD,qe.YU,Ut.fS,Ut.fg,qe.B3,Zt],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"]})};Dr=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Dr);class na extends _t.S{constructor(){super({StringDropdownQueryLogic:na}),this.name=Je.u.StringDropdownQuery}update(l){const n=ve.y.singleton().get(Je.u.EntityDefault).update(l);return n.Separator||=",",n}}function Vf(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Yf(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(na);let zf=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({StringDropdownQueryComponent:a},Bt.logSpecs),this.constructorEnd(),na.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["string-dropdown-query"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Vf,1,0,"app-picker-preview")(1,Yf,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();function jf(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Nf(a,l){1&a&&t.nrm(0,"app-picker-dialog")}let Bf=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({StringDropdownComponent:a},Bt.logSpecs),this.constructorEnd(),ci.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["string-dropdown"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,jf,1,0,"app-picker-preview")(1,Nf,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();class ia extends _t.S{constructor(){super({StringFontIconPickerLogic:ia}),this.name=Je.u.StringFontIconPicker}update({fieldName:l,settings:e}){const n=this.log.fnIfInList("update","fields",l,{fieldName:l,settings:e}),i={...e},r=i;return i.CssSourceFile=r.Files??"",i.CssSelectorFilter=r.CssPrefix??"",i.CssSelectorFilter=Qs(r.CssPrefix??"",":"),i.PreviewValue=`${r.PreviewCss} [Item:Value]`,i.PreviewType="icon-css",i.EnableTextEntry=!1,i.EnableAddExisting=!0,i.AllowMultiValue=!1,i.noAutoFocus=!0,i.Label=r.ShowPrefix?"Value":"Title",n.r(i)}}function Hf(a,l){1&a&&t.nrm(0,"app-picker-preview")}function $f(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(ia);let Tr=class pa extends Bt{static#e=this;constructor(){super(),this.log=(0,p.Tq)({StringFontIconPickerComponent:pa},Bt.logSpecs),this.constructorEnd(),ia.importMe()}static#t=this.\u0275fac=function(n){return new(n||pa)};static#n=this.\u0275cmp=t.VBU({type:pa,selectors:[["string-font-icon-picker"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Hf,1,0,"app-picker-preview")(1,$f,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})};Tr=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Tr);class pi extends _t.S{constructor(){super({StringPickerLogic:pi}),this.name=Je.u.StringPicker}update(l){const n=(0,p.Tq)({StringPickerLogic:pi},null).fn("update",{specs:l}),{fs:i,removeEditRestrictions:r,typeConfig:c}=(new gn).preUpdate(l);i.Separator??="\n","\\n"==i.Separator&&(i.Separator="\n");const g=i.dataSourceType,b=Object.values(rr).includes(g);return n.a(`type: ${g}`,{typeConfig:c,isCustomSource:b}),b?r||(i.EnableEdit=!1,i.EnableCreate=!1,i.EnableDelete=!1):n.a("type: not UiPickerSourceCustom-List/Csv",{typeConfig:c}),n.r(i)}}function Gf(a,l){1&a&&t.nrm(0,"app-picker-preview")}function Uf(a,l){1&a&&t.nrm(0,"app-picker-dialog")}_t.S.add(pi);let Wf=(()=>{class a extends Bt{constructor(){super(),this.log=(0,p.Tq)({StringPickerComponent:a},Bt.logSpecs),this.constructorEnd(),pi.importMe()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["string-picker"]],features:[t.Vt3],decls:2,vars:1,template:function(n,i){1&n&&t.nVh(0,Gf,1,0,"app-picker-preview")(1,Uf,1,0,"app-picker-dialog"),2&n&&t.vxM(i.showPreview()?0:1)},dependencies:[dn,un],encapsulation:2})}return a})();var Ao=m(64043),Xf=m(79996),Qf=m(54029);const Fo={Token:{ext:".html",purpose:"Template",type:"Token"},"C# Razor":{ext:".cshtml",purpose:"Template",type:"Razor"},"C# Search":{ext:".cs",purpose:"Search"}};function Kf(a,l){if(1&a&&(t.j41(0,"mat-option",4),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}let Er=class ma{static#e=this;#t;#n;#i;#a;#r;#s;#o;#l;#c;constructor(e,n){this.matDialog=e,this.viewContainerRef=n,this.log=(0,p.Tq)({StringTemplatePickerComponent:ma}),this.#t=(0,s.WQX)(at.W),this.#n=(0,s.WQX)(s.zZn),this.#i=(0,M.d)(he.Nt).init("typeMask",this.#t.settings().FileType??"[Type]"),this.#a=(0,M.d)(he.Nt).init("String-LocationMask","[Location]"),this.#r=(0,M.d)(Xf.F),this.group=this.#t.group,this.config=this.#t.config,this.basics=this.#t.basics,this.ui=this.#t.ui,this.files=(0,s.vPA)([]),this.#s=Fo.Token,this.#o=[],this.#l=!1,this.#c=!1,this.#u="",(0,Pe.QZ)(()=>this.#m(this.#a.result())),(0,Pe.QZ)(()=>this.#d(this.#i.result()))}#d(e){this.#s=Fo[e],this.#h()}#u;#m(e){this.log.fn("onLocationChange",{location:e}),this.#l="Host File System"===e||"Global"===e,this.#u!==e&&(this.#u=e,this.#r.getAllPromise().then(i=>{this.#o=i.filter(r=>r.Shared===this.#l).map(r=>r.Path),this.#c=!0,this.#h()}))}#h(){const e=this.#s.ext,n=this.#o.filter(r=>!/\.code\.[a-zA-Z0-9]+$/.test(r)).filter(r=>r.endsWith(e));this.files.set(n),this.#c&&!n.some(r=>r===this.#t.uiValue())&&this.ui().setIfChanged("")}createTemplate(){const e=(0,M.d)(he.Nt,this.#n).init("String-NameMask","[Name]"),n={global:this.#l,purpose:this.#s.purpose,type:this.#s.type,name:e.result()};e.destroy(),this.matDialog.open(Qf.g,{autoFocus:!1,data:n,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(r=>{r&&this.#r.create(r.name,this.#l,r.templateKey).subscribe(c=>{!1===c?alert("Server reported that create failed - the file probably already exists"):(this.#o.push(r.name),this.#h(),this.ui().setIfChanged(r.name))})})}static#p=this.\u0275fac=function(n){return new(n||ma)(t.rXU(d.h),t.rXU(t.c1b))};static#f=this.\u0275cmp=t.VBU({type:ma,selectors:[["string-template-picker"]],decls:14,vars:8,consts:[[1,"picker-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"eav-translate-on-dblclick",3,"formControlName","required"],["value",""],[3,"value"],["mat-icon-button","","tippyTranslate","Fields.TemplatePicker.NewTemplate",3,"click","disabled"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2)(3,"mat-option",3),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.Z7z(6,Kf,2,2,"mat-option",4,t.fX1),t.k0s(),t.j41(8,"mat-label"),t.EFF(9),t.k0s()(),t.j41(10,"button",5),t.bIt("click",function(){return i.createTemplate()}),t.j41(11,"mat-icon"),t.EFF(12,"add"),t.k0s()()(),t.nrm(13,"app-field-helper-text")),2&n&&(t.R7$(),t.Y8G("formGroup",i.group),t.R7$(),t.Y8G("formControlName",i.config.fieldName)("required",i.basics().required),t.R7$(2),t.JRh(t.bMT(5,6,"Fields.TemplatePicker.NotSelected")),t.R7$(2),t.Dyx(i.files()),t.R7$(3),t.JRh(i.basics().label),t.R7$(),t.Y8G("disabled",i.ui().disabled))},dependencies:[Gt.M,wt.j,wt.M,Q.YN,Q.BC,Q.cb,Q.YS,Q.X1,Q.j4,Q.JD,Ao.M,Ao.g,Gn.M,qs.M,It.Hl,en.M,Qe.m_,Qe.An,Zt,re.h,re.D9,Lt.e],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"]})};Er=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[d.h,t.c1b])],Er);class Oo extends _t.S{constructor(){super({InputTypeCatalog:Je.u}),this.name=Je.u.StringUrlPath}update({settings:l}){const e={...l};return e.AutoGenerateMask??=null,e.AllowSlashes??=!1,e}}_t.S.add(Oo);let Ir=class ha{static#e=this;#t;#n;#i;#a;constructor(){this.log=(0,p.Tq)({StringUrlPathComponent:ha}),this.fieldState=(0,s.WQX)(at.W),this.group=this.fieldState.group,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.#t=this.fieldState.settingExt("AutoGenerateMask"),this.#n=(0,s.vPA)(""),this.#i=(0,M.d)(he.Nt).initPreClean((e,n)=>"string"==typeof n?n.replace("/","-").replace("\\","-"):n).initSignal("UrlPath",this.#t),this.#a=(0,Pe.EW)(()=>{const e=this.#i.result();return he.b.stripNonUrlCharacters(e,this.settings().AllowSlashes,!0)}),Oo.importMe(),(0,Pe.QZ)(()=>{this.fieldState.uiValue(),this.clean(!1)}),(0,Pe.QZ)(()=>this.#r(this.#a()))}#r(e){const n=this.log.fn("#onSourcesChanged",{newValue:e}),i={uiValue:this.fieldState.uiValue(),lastAutoCopy:this.#n(),allowSlashes:this.settings().AllowSlashes,cleaned:e};return i.uiValue&&i.uiValue!==i.lastAutoCopy?n.end("UI not empty but manually modified, so no auto-update",i):i.cleaned?i.uiValue===i.cleaned?n.end("no changes",i):(this.#n.set(i.cleaned),this.fieldState.ui().setIfChanged(i.cleaned),void n.end(`updated to "${i.cleaned}"`,i)):n.end("cleaned is empty",i)}clean(e){this.log.fn("clean",{trimEnd:e});const i=this.fieldState.uiValue(),r=he.b.stripNonUrlCharacters(i,this.settings().AllowSlashes,e);this.fieldState.ui().setIfChanged(r)}static#s=this.\u0275fac=function(n){return new(n||ha)};static#o=this.\u0275cmp=t.VBU({type:ha,selectors:[["string-url-path"]],decls:5,vars:5,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",1,"eav-translate-on-dblclick",3,"blur","formControlName","placeholder","required"]],template:function(n,i){1&n&&(t.j41(0,"mat-form-field",0)(1,"input",1),t.bIt("blur",function(){return i.clean(!0)}),t.k0s(),t.j41(2,"mat-label"),t.EFF(3),t.k0s()(),t.nrm(4,"app-field-helper-text")),2&n&&(t.Y8G("formGroup",i.group),t.R7$(),t.Y8G("formControlName",i.fieldState.name)("placeholder",i.basics().placeholder)("required",i.basics().required),t.R7$(2),t.JRh(i.basics().label))},dependencies:[Gt.M,wt.j,wt.M,Q.YN,Q.me,Q.BC,Q.cb,Q.YS,Q.X1,Q.j4,Q.JD,Ut.fS,Ut.fg,Zt],encapsulation:2})};Ir=(0,At.Cg)([Jt({...on}),(0,At.Sn)("design:paramtypes",[])],Ir);var Ft=m(20748),Lo=m(16256);class aa{constructor(l){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=l}static completeConfig(l,e,n){const i=e.inputTypeSpecs.isExternal;n=n??new aa(i);const r=new aa(i);for(const g of Object.keys(r))r[g]=l[g]??n[g];if(n.usePortalRoot!==r.usePortalRoot&&(r.subfolder=""),r.usePortalRoot&&(r.rootSubfolder.includes("\\")&&(r.rootSubfolder=r.rootSubfolder.replace(/\\/g,"/")),r.rootSubfolder.startsWith("/")&&(r.rootSubfolder=r.rootSubfolder.replace("/","")),!r.subfolder.startsWith(r.rootSubfolder)&&(r.subfolder=r.rootSubfolder),r.maxDepthReached=!1),!r.usePortalRoot)if((r.subfolder?r.subfolder.split("/").length:0)>=r.folderDepth){let z=r.subfolder.split("/");z=z.slice(0,r.folderDepth),r.subfolder=z.join("/"),r.maxDepthReached=!0}else r.maxDepthReached=!1;return r}}var Vo=m(81955);const Zf=(a,l)=>({"adam-scope-site":a,"adam-scope-field":l}),ra=a=>({"adam-button-disabled":a}),Yo=a=>({"metadata-exists":a}),qf=(a,l)=>({"dz-success":a,"disable-select":l}),eg=(a,l)=>({"adam-button-disabled":a,"metadata-exists":l}),tg=(a,l)=>l.Id;function ng(a,l){1&a&&(t.j41(0,"mat-icon"),t.EFF(1,"public"),t.k0s())}function ig(a,l){1&a&&t.nrm(0,"mat-icon",8)}function ag(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",5),t.bIt("click",function(i){s.eBV(e);const r=t.XpG(2);return s.Njj(r.openUploadClick(i))}),t.j41(1,"div",6)(2,"mat-icon"),t.EFF(3,"cloud_upload"),t.k0s(),t.j41(4,"div",7),t.EFF(5),t.nI1(6,"translate"),t.nVh(7,ng,2,0,"mat-icon")(8,ig,1,0,"mat-icon",8),t.k0s()()(),t.j41(9,"div",9,0),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openFeatureInfoDialog())}),t.j41(11,"div",6)(12,"mat-icon",10),t.EFF(13," filter "),t.k0s(),t.j41(14,"div",7),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()}if(2&a){const e=t.sdS(10),n=t.XpG(2);t.R7$(5),t.SpI(" ",t.bMT(6,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),t.R7$(2),t.vxM(n.adamConfig().usePortalRoot?7:8),t.R7$(2),t.Y8G("config",n.config)("elementType","element"),t.R7$(3),t.Y8G("matBadgeHidden",n.isPasteImageFromClipboardEnabled()),t.R7$(3),t.SpI(" ",n.isPasteImageFromClipboardEnabled()?e.classList.contains("pastable-focus")?"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel":t.bMT(16,8,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"):"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"," ")}}function rg(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.addFolder())}),t.j41(1,"div",6),t.nrm(2,"mat-icon",12),t.j41(3,"div",13),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.nrm(6,"div",14),t.k0s()}2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function sg(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",15),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.goUp())}),t.j41(1,"div",6),t.nrm(2,"mat-icon",16),t.j41(3,"div",13),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"div",17)(7,"mat-icon",18),t.EFF(8,"arrow_back"),t.k0s()()()}2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"Fields.Hyperlink.AdamFileManager.BackFolder")))}function og(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",27),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.del(i))}),t.EFF(1,"clear"),t.k0s(),t.j41(2,"mat-icon",28),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.rename(i))}),t.EFF(3,"edit"),t.k0s()}if(2&a){const e=t.XpG(4);t.Y8G("ngClass",t.eq3(2,ra,e.disabled())),t.R7$(2),t.Y8G("ngClass",t.eq3(4,ra,e.disabled()))}}function lg(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",29),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.editItemMetadata(i,i._metadataContentType,i._metadataId))}),t.EFF(1,"local_offer"),t.k0s()}if(2&a){const e=t.XpG(2).$implicit;t.Y8G("tippy",t.ai1("",e._metadataContentType,": ",e._metadataId))("ngClass",t.eq3(4,Yo,e._metadataId>0))}}function cg(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",21),t.bIt("click",function(){s.eBV(e);const i=t.XpG().$implicit,r=t.XpG(2);return s.Njj(r.goIntoFolder(i))}),t.j41(1,"div",22),t.nrm(2,"mat-icon",16),t.j41(3,"div",23),t.EFF(4),t.k0s()(),t.j41(5,"div"),t.nVh(6,og,4,6),t.j41(7,"div",24)(8,"div",25),t.EFF(9),t.k0s()()(),t.nVh(10,lg,2,6,"mat-icon",26),t.k0s()}if(2&a){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(4),t.JRh(e.Name),t.R7$(),t.HbH(t.VkB("dz-details file-type-",e.Type)),t.R7$(),t.vxM(n.adamConfig().allowEdit?6:-1),t.R7$(2),t.Y8G("title",e.Name),t.R7$(),t.JRh(e.Name),t.R7$(),t.vxM(e._metadataContentType?10:-1)}}function dg(a,l){if(1&a&&(t.j41(0,"div",22)(1,"mat-icon"),t.EFF(2),t.k0s(),t.j41(3,"div",13),t.EFF(4),t.k0s()()),2&a){const e=t.XpG(2).$implicit;t.R7$(2),t.JRh(e._icon),t.R7$(2),t.JRh(e.Name)}}function ug(a,l){if(1&a&&(t.j41(0,"div",31),t.nrm(1,"img",40),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.Y8G("alt",e.Id+":"+e.Name)("src",e.ThumbnailUrl,t.B4B)}}function pg(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",27),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.del(i))}),t.EFF(1,"clear"),t.k0s(),t.j41(2,"mat-icon",28),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.rename(i))}),t.EFF(3,"edit"),t.k0s()}if(2&a){const e=t.XpG(4);t.Y8G("ngClass",t.eq3(2,ra,e.disabled())),t.R7$(2),t.Y8G("ngClass",t.eq3(4,ra,e.disabled()))}}function mg(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",41),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.editItemMetadata(i,i._imageConfigurationContentType,i._imageConfigurationId))}),t.EFF(1," filter_center_focus"),t.k0s()}if(2&a){const e=t.XpG(2).$implicit;t.Y8G("ngClass",t.l_i(2,eg,!e._imageConfigurationContentType,e._imageConfigurationId>0))("tippyTranslate",e._imageConfigurationContentType?"Fields.Hyperlink.AdamFileManager.ImageSettings":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")}}function hg(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-icon",29),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2).$implicit,r=t.XpG(2);return s.Njj(r.editItemMetadata(i,i._metadataContentType,i._metadataId))}),t.EFF(1,"local_offer"),t.k0s()}if(2&a){const e=t.XpG(2).$implicit;t.Y8G("tippy",t.ai1("",e._metadataContentType,": ",e._metadataId))("ngClass",t.eq3(4,Yo,e._metadataId>0))}}function fg(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",30),t.bIt("click",function(){s.eBV(e);const i=t.XpG().$implicit,r=t.XpG(2);return s.Njj(r.select(i))}),t.nVh(1,dg,5,2,"div",22)(2,ug,2,2,"div",31),t.j41(3,"div"),t.nVh(4,pg,4,6),t.j41(5,"div",24)(6,"div",25),t.EFF(7),t.k0s()(),t.j41(8,"div",32)(9,"span"),t.EFF(10),t.k0s()(),t.j41(11,"a",33)(12,"mat-icon",34),t.EFF(13,"open_in_new"),t.k0s()(),t.nVh(14,mg,2,5,"mat-icon",35),t.k0s(),t.nVh(15,hg,2,6,"mat-icon",26),t.j41(16,"div",36),s.qSk(),t.j41(17,"svg",37)(18,"title"),t.EFF(19,"Check"),t.k0s(),t.nrm(20,"defs"),t.j41(21,"g",38),t.nrm(22,"path",39),t.k0s()()()()}if(2&a){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngClass",t.l_i(16,qf,n.value()==="file:"+e.Id,!n.adamConfig().enableSelect)),t.R7$(),t.vxM("image"!==e.Type?1:2),t.R7$(2),t.HbH(t.VkB("dz-details file-type-",e.Type)),t.R7$(),t.vxM(n.adamConfig().allowEdit?4:-1),t.R7$(2),t.Y8G("title",e.Name),t.R7$(),t.JRh(e.Name),t.R7$(),t.Y8G("title",t.ai1("#",e.Id," - ",e._displaySize," KB")),t.R7$(2),t.Lme("#",e.Id," - ",e._displaySize," KB"),t.R7$(),t.Y8G("href",e.Url,t.B4B),t.R7$(3),t.vxM("image"===e.Type?14:-1),t.R7$(),t.vxM(e._metadataContentType?15:-1)}}function gg(a,l){if(1&a&&(t.nVh(0,cg,11,8,"div",19),t.nVh(1,fg,23,19,"div",20)),2&a){const e=l.$implicit;t.vxM(e.IsFolder?0:-1),t.R7$(),t.vxM(e.IsFolder?-1:1)}}function _g(a,l){if(1&a&&(t.j41(0,"div",2),t.nVh(1,ag,17,10),t.nVh(2,rg,7,3,"div",3),t.nVh(3,sg,9,3,"div",4),t.Z7z(4,gg,2,2,null,null,tg),t.k0s()),2&a){const e=t.XpG();t.Y8G("ngClass",t.l_i(4,Zf,e.adamConfig().usePortalRoot,!e.adamConfig().usePortalRoot)),t.R7$(),t.vxM(!e.disabled()&&e.allowAddButtons()?1:-1),t.R7$(),t.vxM(e.adamConfig().maxDepthReached||e.disabled()||!e.allowAddButtons()?-1:2),t.R7$(),t.vxM(""!==e.adamConfig().subfolder||e.adamConfig().usePortalRoot&&e.adamConfig().subfolder!==e.adamConfig().rootSubfolder?3:-1),t.R7$(),t.Dyx(e.items())}}const vg={all:!1,constructor:!1,editItemMetadata:!1,setConfig:!1,fetchItems:!0,processFetchedItems:!0};let yg=(()=>{class a{#e;#t;#n;#i;constructor(e,n,i,r,c,g,b){this.dnnContext=e,this.adamCacheService=n,this.linkCacheService=i,this.formsStateService=r,this.matDialog=c,this.viewContainerRef=g,this.changeDetectorRef=b,this.openUpload=(0,P.CGW)(),this.log=(0,p.Tq)({AdamBrowserComponent:a},vg),this.fieldState=(0,s.WQX)(at.W),this.#e=(0,s.WQX)(vt),this.#t=(0,s.WQX)(_.D),this.#n=(0,M.d)(br),this.#i=(0,M.d)(je.c),this.config=this.fieldState.config,this.group=this.fieldState.group,this.#a=this.fieldState.ui,this.disabled=(0,le.bo)("disabled",()=>this.#a().disabled),this.value=(0,le.bo)("value",()=>this.fieldState.uiValue()),this.adamConfig=(0,le.KX)("adamConfig",null),this.items=(0,le.KX)("items",[]),this.#s=!0,this.allowAddButtons=(0,le.bo)("allowAddButtons",()=>{const ie=this.adamConfig();return ie.allowEdit&&!((""===ie.subfolder||ie.usePortalRoot&&ie.subfolder===ie.rootSubfolder)&&!ie.allowAssetsInRoot)}),this.isPasteImageFromClipboardEnabled=this.#t.isEnabled[Rt.T.PasteImageFromClipboard],this.log.fnIf("constructor"),(0,Pe.QZ)(()=>{null!=this.adamConfig()&&this.fetchItems()});const X=this.config;this.#r=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${X.contentTypeNameId}/${X.entityGuid}/${X.fieldName}`)}#a;#r;#s;ngOnInit(){this.#i.doOnDialogClosed(()=>this.fetchItems()),this.config.adam.setBrowser(this)}addFolder(){if(this.#a().disabled)return;const e=window.prompt("Please enter a folder name");e&&this.#n.addFolder(e,this.#r,this.adamConfig()).subscribe(()=>this.fetchItems())}del(e){this.#a().disabled||!window.confirm("Are you sure you want to delete this item?")||this.#n.deleteItemPromise(e,this.#r,this.adamConfig()).then(()=>this.fetchItems())}editItemMetadata(e,n,i){const r=this.log.fnIf("editItemMetadata",{adamItem:e,contentTypeName:n,metadataId:i});if(this.formsStateService.readOnly().isReadOnly||!n)return r.end("readonly or no content type");const c={items:[i>0?F.c.editId(i):F.c.newMetadata(e.ReferenceId,n,Sn.YX.metadata.cmsObject)]};this.#e.open(this.config.index,this.config.entityGuid,c)}goUp(){let e=this.adamConfig().subfolder;e=e.includes("/")?e.slice(0,e.lastIndexOf("/")):"",this.setConfig({subfolder:e})}#o(e){return this.fieldState.settings().EnableImageConfiguration&&"image"===e.Type?Sn.YX.contentTypes.imageDecorator:null}#l(e){let n;return"folder"===e.Type?(n=this.adamConfig().metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),n?n[3]:null):(n=this.adamConfig().metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),n?n[1]:null)}goIntoFolder(e){let n=this.adamConfig().subfolder;n=n?`${n}/${e.Name}`:e.Name,this.setConfig({subfolder:n})}openUploadClick(e){this.openUpload.emit()}rename(e){if(this.#a().disabled)return;const n=window.prompt("Rename the file / folder to: ",e.Name);n&&this.#n.renamePromise(e,n,this.#r,this.adamConfig()).then(()=>this.fetchItems())}select(e){this.#a().disabled||!this.adamConfig().enableSelect||this.config.adam.onItemClick(e)}fetchItems(){const e=this.adamConfig();if(this.log.fnIf("fetchItems",{adamConfig:e,firstFetch:this.#s,usePortalRoot:e?.usePortalRoot}),null!=e&&e.autoLoad){if(this.#s){this.#s=!1;const i=this.adamCacheService.getAdamSnapshot(this.config.entityGuid,this.config.fieldName);if(i){const r=i.map(c=>({...c}));return void setTimeout(()=>this.#c(r,e))}}this.#n.getAllPromise(this.#r,e).then(i=>this.#c(i,e))}}openFeatureInfoDialog(){this.isPasteImageFromClipboardEnabled()||(0,yi.j)(this.matDialog,Rt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}#c(e,n){this.log.fnIf("processFetchedItems",{items:e,adamConfig:n,usePortalRoot:n.usePortalRoot}),this.linkCacheService.addAdam(e);const r=[],c=function bg(a){return a?a.split(",").map(e=>((e=e.trim()).startsWith("*.")?e=e.replace("*.",""):e.startsWith("*")&&(e=e.replace("*","")),e.toLocaleLowerCase())):[]}(n.fileFilter);for(const g of e)if("."!==g.Name){if("2sxc"!==g.Name&&"adam"!==g.Name&&(g.IsFolder||!n.showImagesOnly||"image"===g.Type)&&(!g.IsFolder||!n.maxDepthReached)){if(c.length>0){const b=g.Name.substring(g.Name.lastIndexOf(".")+1).toLocaleLowerCase();if(!c.includes(b))continue}g._imageConfigurationContentType=this.#o(g),g._imageConfigurationId=g.Metadata?.find(b=>b.Type.Name===g._imageConfigurationContentType)?.Id??0,g._metadataContentType=this.#l(g),g._metadataId=g.Metadata?.find(b=>b.Type.Name===g._metadataContentType)?.Id??0,g._icon=he.M5.getIconClass(g.Name),g._isMaterialIcon=he.M5.isKnownType(g.Name),g._displaySize=(g.Size/1024).toFixed(0),r.push(g)}}else{const b=g.AllowEdit;b!==n.allowEdit&&this.setConfig({allowEdit:b})}r.sort((g,b)=>g.Name.toLocaleLowerCase().localeCompare(b.Name.toLocaleLowerCase())),r.sort((g,b)=>b.IsFolder.toString().localeCompare(g.IsFolder.toString())),this.items.set(r)}setConfig(e){const n=this.log.fnIf("setConfig",e),i=aa.completeConfig(e,this.config,this.adamConfig());(0,_n.A)(i,this.adamConfig())?n.end("no change"):(this.adamConfig.set(i),function Jf(a,l){const e=l.dropzone.getConfig(),n={},i=he.b.getUrlParams(e.url);if((i.subfolder||"")!==a.subfolder||i.usePortalRoot!==a.usePortalRoot.toString()){let X=e.url;X=he.b.replaceUrlParam(X,"subfolder",a.subfolder),X=he.b.replaceUrlParam(X,"usePortalRoot",a.usePortalRoot.toString()),n.url=X}const b=!a.allowEdit||(""===a.subfolder||a.usePortalRoot&&a.subfolder===a.rootSubfolder)&&!a.allowAssetsInRoot;e.disabled!==b&&(n.disabled=b),Object.keys(n).length>0&&l.dropzone.setConfig(n)}(i,this.config),n.end())}toggle(e,n){const i={...this.adamConfig(),usePortalRoot:e,showImagesOnly:n};(0,_n.A)(i,this.adamConfig())?i.autoLoad=!i.autoLoad:i.autoLoad||(i.autoLoad=!0),this.setConfig(i)}static#d=this.\u0275fac=function(n){return new(n||a)(t.rXU(Vo.ob),t.rXU(T),t.rXU(R),t.rXU(jt),t.rXU(d.h),t.rXU(t.c1b),t.rXU(P.gRc))};static#u=this.\u0275cmp=t.VBU({type:a,selectors:[["adam-browser"]],outputs:{openUpload:"openUpload"},decls:2,vars:2,consts:[["pasteDiv",""],[1,"dropzone"],[3,"ngClass"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadTip",1,"dz-preview","dropzone-adam",3,"click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","apple-outlined"],["appPasteClipboardImage","","tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadPasteTip",1,"dz-preview","dropzone-adam","paste-image",3,"click","config","elementType"],["matBadgeSize","large","matBadge","\u{1f48e}","matBadgePosition","below after","matBadgeOverlap","true","aria-hidden","false",1,"adam-filter-mat-icon-with-grey-mat-badge",3,"matBadgeHidden"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview"],[1,"dz-preview",3,"ngClass"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","tippy"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Delete",1,"adam-delete-button",3,"click","ngClass"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Edit",1,"adam-rename-button",3,"click","ngClass"],["appClickStopPropagation","",1,"adam-tag",3,"click","ngClass","tippy"],[1,"dz-preview",3,"click","ngClass"],[1,"dz-image","adam-browse-background-image"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.Show"],["appClickStopPropagation","",1,"image-configuration-button",3,"ngClass","tippyTranslate"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],["vm-dz-thumbnail","",3,"alt","src"],["appClickStopPropagation","",1,"image-configuration-button",3,"click","ngClass","tippyTranslate"]],template:function(n,i){if(1&n&&(t.j41(0,"div",1),t.nVh(1,_g,6,7,"div",2),t.k0s()),2&n){let r,c;t.Y8G("@adamShowAnimate",null!=(r=i.adamConfig())&&r.autoLoad?"open":"closed"),t.R7$(),t.vxM(null!=(c=i.adamConfig())&&c.autoLoad&&i.fieldState.isOpen()?1:-1)}},dependencies:[qe.YU,Qe.m_,Qe.An,xr,Lo.Y,Lo.k,re.h,re.D9,li.c,Lt.e],styles:['.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6}.image-configuration-button[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6;cursor:pointer}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .image-configuration-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled):not(.metadata-exists), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#002753}.image-configuration-button.metadata-exists[_ngcontent-%COMP%], .adam-tag.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.adam-button-disabled[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0;cursor:pointer}.dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text;display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:#fffc;border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class^=icon-][_ngcontent-%COMP%]:before, .mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%], .dropzone.dz-drag-hover[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069BF;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:#ffffffe6;-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}[_nghost-%COMP%]     .adam-filter-mat-icon-with-grey-mat-badge .mat-badge-content{background:#fff0!important}'],data:{animation:[(0,Ft.hZ)("adamShowAnimate",[(0,Ft.wk)("closed",(0,Ft.iF)({height:"0",overflow:"hidden"})),(0,Ft.wk)("open",(0,Ft.iF)({height:"*",overflow:"hidden"})),(0,Ft.kY)("closed => open",[(0,Ft.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})}return a})();function Cg(a,l){1&a&&(t.EFF(0," \xa0 "),t.j41(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.EFF(4," \xa0 "),t.j41(5,"a",5),t.EFF(6,"2sic.com"),t.k0s()),2&a&&(t.R7$(2),t.JRh(t.bMT(3,1,"Fields.Hyperlink.AdamFileManager.SponsorLine")))}let xg=(()=>{class a{constructor(){this.features=(0,s.WQX)(_.D),this.hideAdamSponsor=this.features.isEnabled[Rt.T.NoSponsoredByToSic]}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["adam-hint"]],decls:12,vars:7,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1","tippyTranslate","Fields.Hyperlink.AdamFileManager.HelpTooltip",1,"adam-link"],["svgIcon","apple-outlined"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(n,i){1&n&&(t.nrm(0,"mat-divider"),t.j41(1,"div",0)(2,"div",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",2)(6,"a",3),t.nrm(7,"mat-icon",4),t.j41(8,"span"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nVh(11,Cg,7,3),t.k0s()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,3,"Fields.Hyperlink.AdamFileManager.Hint")),t.R7$(6),t.JRh(t.bMT(10,5,"Fields.Hyperlink.AdamFileManager.Name")),t.R7$(2),t.vxM(i.hideAdamSponsor()?-1:11))},dependencies:[ss,Zl,Qe.m_,Qe.An,re.h,re.D9,Lt.e],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:#1d273d70;display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"]})}return a})();const Mg=["fieldComponent"],wg=["invisibleClickable"],kg=(a,l)=>({"adam-in-popup":a,"c-ew__dialog-content--empty":l}),Sg=(a,l)=>({"adam-browser-container--short u-hide-scrollbar":a,"u-display-none":l}),zo=a=>({"u-display-none":a});let Dg=(()=>{class a{constructor(){this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.adamDisabled=this.config.adam.isDisabled}ngOnInit(){this.fullscreenAdam=this.config.inputTypeSpecs.inputType===Je.u.HyperlinkLibrary}openUpload(){this.invisibleClickableRef.nativeElement.click()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-adam-wrapper"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Mg,7,t.c1b),t.GBs(wg,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first),t.mGM(r=t.lsd())&&(i.invisibleClickableRef=r.first)}},decls:10,vars:16,consts:[["fieldComponent",""],["invisibleClickable",""],[3,"ngClass"],[1,"adam-dialog-content"],[1,"u-shadow-top",3,"openUpload","ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],[1,"field-hints",3,"ngClass"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3),t.eu8(2,null,0),t.k0s(),t.j41(4,"adam-browser",4),t.bIt("openUpload",function(){return s.eBV(r),s.Njj(i.openUpload())}),t.k0s(),t.j41(5,"div",2),t.nrm(6,"div",5)(7,"span",6,1),t.k0s(),t.nrm(9,"adam-hint",7),t.k0s()}2&n&&(t.Y8G("ngClass",t.l_i(6,kg,i.fieldState.isOpen(),i.fullscreenAdam)),t.R7$(4),t.Y8G("ngClass",t.l_i(9,Sg,!i.fullscreenAdam,i.adamDisabled())),t.R7$(),t.HbH(i.config.dropzonePreviewsClass),t.Y8G("ngClass",t.eq3(12,zo,i.adamDisabled())),t.R7$(4),t.Y8G("ngClass",t.eq3(14,zo,i.adamDisabled())))},dependencies:[yg,qe.YU,xg],styles:['.adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}.dropzone-previews[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;box-shadow:0 2px #ccc inset}.dropzone-previews[_ngcontent-%COMP%]     .dz-preview{padding:5px}.dropzone-previews[_ngcontent-%COMP%]     .dz-details, .dropzone-previews[_ngcontent-%COMP%]     .dz-progress, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-message, .dropzone-previews[_ngcontent-%COMP%]     .dz-success-mark, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-mark{display:none}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.dropzone-previews[_ngcontent-%COMP%]     .dz-image{position:relative}.dropzone-previews[_ngcontent-%COMP%]     .dz-image:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:32px;height:32px;margin-top:-16px;margin-left:-16px;border-radius:50%;border:4px solid #0087f4;border-top-color:transparent;animation:_ngcontent-%COMP%_spinner .6s linear infinite}.c-ew__dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar, .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{background:#fff;z-index:2}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%]{z-index:3}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{flex:1 1 100%;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}']})}return a})();var jo=m(85176);const Tg=new s.nKC("DROPZONE_CONFIG"),Eg=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class Ig{timeout;autoReset;errorReset;cancelReset;url;method;params;headers;init;accept;resize;fallback;renameFile;transformFile;chunksUploaded;withCredentials;previewsContainer;hiddenInputContainer;clickable;paramName;capture;maxFiles;maxFilesize;filesizeBase;acceptedFiles;forceFallback;addRemoveLinks;uploadMultiple;parallelUploads;resizeWidth;resizeHeight;resizeMethod;resizeQuality;resizeMimeType;thumbnailWidth;thumbnailHeight;thumbnailMethod;previewTemplate;autoQueue;autoProcessQueue;ignoreHiddenFiles;maxThumbnailFilesize;createImageThumbnails;chunking;chunkSize;retryChunks;forceChunking;retryChunksLimit;parallelChunkUploads;dictFileSizeUnits;dictDefaultMessage;dictFallbackMessage;dictFileTooBig;dictResponseError;dictInvalidFileType;dictRemoveFile;dictCancelUpload;dictUploadCanceled;dictFallbackText;dictMaxFilesExceeded;dictRemoveFileConfirmation;dictCancelUploadConfirmation;constructor(l={}){this.assign(l)}assign(l={},e){e=e||this;for(const n in l)null==l[n]||Array.isArray(l[n])||"object"!=typeof l[n]||l[n]instanceof HTMLElement?e[n]=l[n]:(e[n]={},this.assign(l[n],e[n]))}}let No=(()=>{class a{zone;renderer;elementRef;differs;platformId;defaults;instance;configDiff=null;disabled=!1;config;DZ_INIT=new t.bkB;DZ_ERROR=new t.bkB;DZ_SUCCESS=new t.bkB;DZ_SENDING=new t.bkB;DZ_CANCELED=new t.bkB;DZ_COMPLETE=new t.bkB;DZ_PROCESSING=new t.bkB;DZ_DROP=new t.bkB;DZ_DRAGSTART=new t.bkB;DZ_DRAGEND=new t.bkB;DZ_DRAGENTER=new t.bkB;DZ_DRAGOVER=new t.bkB;DZ_DRAGLEAVE=new t.bkB;DZ_THUMBNAIL=new t.bkB;DZ_ADDEDFILE=new t.bkB;DZ_ADDEDFILES=new t.bkB;DZ_REMOVEDFILE=new t.bkB;DZ_UPLOADPROGRESS=new t.bkB;DZ_MAXFILESREACHED=new t.bkB;DZ_MAXFILESEXCEEDED=new t.bkB;DZ_ERRORMULTIPLE=new t.bkB;DZ_SUCCESSMULTIPLE=new t.bkB;DZ_SENDINGMULTIPLE=new t.bkB;DZ_CANCELEDMULTIPLE=new t.bkB;DZ_COMPLETEMULTIPLE=new t.bkB;DZ_PROCESSINGMULTIPLE=new t.bkB;DZ_RESET=new t.bkB;DZ_QUEUECOMPLETE=new t.bkB;DZ_TOTALUPLOADPROGRESS=new t.bkB;constructor(e,n,i,r,c,g){this.zone=e,this.renderer=n,this.elementRef=i,this.differs=r,this.platformId=c,this.defaults=g,jo.Dropzone.autoDiscover=!1}ngOnInit(){if(!(0,ho.UE)(this.platformId))return;const e=new Ig(this.defaults);e.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===e.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===e.maxFiles?"dz-multiple":"dz-single"),Object.keys(e).forEach(n=>void 0===e[n]&&delete e[n]),this.zone.runOutsideAngular(()=>{this.instance=new jo.Dropzone(this.elementRef.nativeElement,e)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=e.autoReset&&setTimeout(()=>this.reset(),e.autoReset)}),this.instance.on("error",()=>{null!=e.errorReset&&setTimeout(()=>this.reset(),e.errorReset)}),this.instance.on("canceled",()=>{null!=e.cancelReset&&setTimeout(()=>this.reset(),e.cancelReset)}),Eg.forEach(n=>{this.instance.on(n.toLowerCase(),(...i)=>{i=1===i.length?i[0]:i;const c=this[`DZ_${n.toUpperCase()}`];c.observers.length>0&&this.zone.run(()=>{c.emit(i)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(e){this.instance&&e.disabled&&e.disabled.currentValue!==e.disabled.previousValue&&(!1===e.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===e.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(e){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(e)})}static \u0275fac=function(n){return new(n||a)(t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(P.MKu),t.rXU(t.Agw),t.rXU(Tg,8))};static \u0275dir=t.FsC({type:a,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:[0,"dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],standalone:!1,features:[t.OA$]})}return a})(),Ag=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=t.$C({type:a});static \u0275inj=s.G2t({imports:[qe.MD,qe.MD]})}return a})();class Fg{constructor(l,e,n){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=2e4,this.timeout=18e5,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=l,this.url=e,this.headers=n}}let Bo=(()=>{class a{static#e=this.classToDetectWysiwyg="class-distinguish-from-adam-dropzone"}return a})();class Ar{constructor(){this.isStringWysiwyg=!1,this.imageTypes=["image/jpeg","image/png"]}detectWysiwygOnDrop(l){this.isStringWysiwyg=Ar.isParentWysiwyg(l.toElement)}removeFilesHandledByWysiwyg(l,e){this.isStringWysiwyg&&this.imageTypes.some(n=>n===e.type)&&l.removeFile(e)}static isParentWysiwyg(l){do{if(null==l)return!1;if(l?.classList.contains(Bo.classToDetectWysiwyg))return!0;l=l.parentElement}while(!l?.classList.contains(Bo.classToDetectWysiwyg)||l.parentElement!=document.body);return!1}}const Pg=["fieldComponent"],Og=a=>({"dropzone-disabled":a});let Rg=(()=>{class a{#e;#t;#n;constructor(e,n){this.formConfig=e,this.dnnContext=n,this.log=(0,p.Tq)({DropzoneWrapperComponent:a}),this.#e=(0,s.WQX)(at.W),this.#t=this.#e.config,this.dropzoneConfig=(0,s.vPA)(null),this.dropzoneDisabled=(0,Pe.EW)(()=>this.#e.ui().disabled||(this.dropzoneConfig()?.disabled??!0)),this.#n=new Ar,this.extendFieldConfigWithDropZone(),this.#i({})}extendFieldConfigWithDropZone(){this.#t.dropzone={setConfig:e=>this.#i(e),getConfig:()=>this.dropzoneConfig(),uploadFile:e=>this.#a(e)}}ngAfterViewInit(){this.#i({previewsContainer:`.${this.#t.dropzonePreviewsClass} .dropzone-previews`,clickable:`.${this.#t.dropzonePreviewsClass} .invisible-clickable`})}onDrop(e){this.#n.detectWysiwygOnDrop(e)}onAddedFile(e){this.#n.removeFilesHandledByWysiwyg(this.dropzoneRef.dropzone(),e)}onUploadError(e){this.log.fn("onUploadError",{event:e}),alert(`Dropzone upload error. Event ${e}`),this.dropzoneRef.reset()}onUploadSuccess(e){const n=this.log.fn("onUploadSuccess",{event:e}),i=e[1];i.Error?(n.a(`Upload failed because: ${i.Error}`),alert(`Upload failed because: ${i.Error}`)):this.#t.adam?(this.#t.adam.onItemUpload(i),this.#t.adam.refresh()):n.a("Upload failed because: ADAM reference doesn't exist"),this.dropzoneRef.reset()}#i(e){const n=this.#t.contentTypeNameId,i=this.#t.entityGuid,r=this.#t.fieldName,g=this.#t.inputTypeSpecs.isExternal,b=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${n}/${i}/${r}?subfolder=&usePortalRoot=false&appId=${this.formConfig.config.appId}`),z=this.dnnContext.sxc.webApi.headers(),X=new Fg(g,b,z),ie=this.dropzoneConfig()??X;for(const Ze of Object.keys(X))X[Ze]=e[Ze]??ie[Ze];if(X.maxFiles!==X.parallelUploads){const Ze=X.maxFiles>=X.parallelUploads?X.maxFiles:X.parallelUploads;X.maxFiles=Ze,X.parallelUploads=Ze}(null==X.acceptedFiles||""===X.acceptedFiles)&&delete X.acceptedFiles,this.dropzoneConfig.set(X)}#a(e){const n=this.dropzoneRef.dropzone();e.upload={chunked:n.defaultOptions?.chunking??n.options?.chunking},n.processFile(e)}static#r=this.\u0275fac=function(n){return new(n||a)(t.rXU(k.S),t.rXU(Vo.ob))};static#s=this.\u0275cmp=t.VBU({type:a,selectors:[["app-dropzone-wrapper"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Pg,7,t.c1b),t.GBs(No,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first),t.mGM(r=t.lsd())&&(i.dropzoneRef=r.first)}},decls:3,vars:5,consts:[["fieldComponent",""],[1,"dropzone","dropzone-container",3,"error","success","addedFile","drop","ngClass","dropzone","disabled"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",1),t.bIt("error",function(g){return s.eBV(r),s.Njj(i.onUploadError(g))})("success",function(g){return s.eBV(r),s.Njj(i.onUploadSuccess(g))})("addedFile",function(g){return s.eBV(r),s.Njj(i.onAddedFile(g))})("drop",function(g){return s.eBV(r),s.Njj(i.onDrop(g))}),t.eu8(1,null,0),t.k0s()}2&n&&t.Y8G("ngClass",t.eq3(3,Og,i.dropzoneDisabled()))("dropzone",i.dropzoneConfig())("disabled",i.dropzoneDisabled())},dependencies:[qe.YU,Ag,No],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"]})}return a})();class sa{constructor(l){this.zone=l,this.eventListeners=[]}attach(l){this.zone.runOutsideAngular(()=>{function e(){(function i(r){for(const c of r)clearTimeout(c);r.splice(0,r.length)})(window.windowBodyTimeouts),document.body.classList.add(window.draggingClass)}function n(){document.body.classList.remove(window.draggingClass)}l.addEventListener("dragover",e,{passive:!0}),l.addEventListener("drop",n,{passive:!0}),this.eventListeners.push({element:l,type:"dragover",listener:e},{element:l,type:"drop",listener:n})})}detach(){this.zone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:l,type:e,listener:n})=>l.removeEventListener(e,n))})}}const mi=[(0,Ft.hZ)("itemShrinkAnimation",[(0,Ft.wk)("open",(0,Ft.iF)({height:"30vh"})),(0,Ft.wk)("closed",(0,Ft.iF)({height:"0vh"})),(0,Ft.kY)("open => closed",[(0,Ft.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),(0,Ft.hZ)("contentExpandAnimation",[(0,Ft.wk)("closed",(0,Ft.iF)({height:"0"})),(0,Ft.wk)("expanded",(0,Ft.iF)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),(0,Ft.kY)("closed => expanded",[(0,Ft.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Ft.i7)([(0,Ft.iF)({height:"0vh",overflow:"hidden"}),(0,Ft.iF)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])];let Fr=(()=>{class a{constructor(e){this.elementRef=e,this.disabled=(0,P.hFB)(!1)}ngOnChanges(e){null!=e.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{disabled:[1,"disabled"]},features:[t.OA$]})}return a})(),Pr=(()=>{class a{constructor(e){this.templateRef=e}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}return a})(),Or=(()=>{class a{constructor(e){this.templateRef=e}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}return a})(),Ho=(()=>{class a extends Ce.${constructor(){super(),this.disabled=(0,P.hFB)(!1),this.open$=new ln.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,En.z)([this.open$.pipe((0,Un.F)()),this.actionButtons.changes.pipe((0,ae.Z)(void 0))]).subscribe(([e])=>{this.actionButtons.forEach((n,i,r)=>{const g=Math.min(.3+.05*(r.length-1),.6),b=(g-.3)/(r.length-1),z=(e?.3+b*i:g-b*i)+"s";n.nativeElement.style.transitionDuration!==z&&(n.nativeElement.style.transitionDuration=z)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(e,n){"touch"!==e.pointerType&&this.open$.next(n)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["extended-fab-speed-dial"]],contentQueries:function(n,i,r){if(1&n&&(t.wni(r,Or,5),t.wni(r,Pr,5),t.wni(r,Fr,4,t.aKT)),2&n){let c;t.mGM(c=t.lsd())&&(i.trigger=c.first),t.mGM(c=t.lsd())&&(i.actions=c.first),t.mGM(c=t.lsd())&&(i.actionButtons=c)}},inputs:{disabled:[1,"disabled"]},features:[t.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.bIt("pointerenter",function(c){return i.setOpen(c,!0)})("pointerleave",function(c){return i.setOpen(c,!1)}),t.j41(1,"div",1),t.eu8(2,2),t.k0s(),t.j41(3,"div",3),t.eu8(4,2),t.k0s()()),2&n&&(t.BMQ("disabled",i.disabled()||null),t.R7$(2),t.Y8G("ngTemplateOutlet",null==i.trigger?null:i.trigger.templateRef),t.R7$(2),t.Y8G("ngTemplateOutlet",null==i.actions?null:i.actions.templateRef))},dependencies:[qe.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-trigger{position:absolute;bottom:0;right:0}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:linear-gradient(125deg,#240e12 10%,#952c42 90%);cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{color:#fff;font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{color:#fff;display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:max-width .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}\n'],encapsulation:2})}return a})(),$o=(()=>{class a{constructor(e){this.elementRef=e,this.disabled=(0,P.hFB)(!1)}ngOnChanges(e){null!=e.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[t.OA$]})}return a})();const Vg=["backdrop"],Yg=["dialog"],zg=["*"],jg=a=>({"c-ew__dialog-header mat-elevation-z2":a}),Ng=a=>({bottomPixels:a}),Bg=(a,l)=>({value:a,params:l}),Go=a=>({"appear-disabled":a});function Hg(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.closeDialog())}),t.j41(1,"mat-icon"),t.EFF(2,"done"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&a&&(t.R7$(4),t.JRh(t.bMT(5,1,"Form.Buttons.Return.Tip")))}function $g(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.saveAll(!1))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"mat-icon"),t.EFF(5,"save"),t.k0s()(),t.j41(6,"button",12),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.saveAll(!0))}),t.j41(7,"span"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"mat-icon"),t.EFF(11,"done_all"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Go,e.saveDisabled())),t.R7$(2),t.JRh(t.bMT(3,4,"Form.Buttons.Save")),t.R7$(4),t.Y8G("ngClass",t.eq3(10,Go,e.saveDisabled())),t.R7$(2),t.JRh(t.bMT(9,6,"Form.Buttons.SaveAndClose"))}}function Gg(a,l){1&a&&t.DNE(0,$g,12,12,"ng-template",10)}let oa=(()=>{class a{#e;#t;#n;#i;constructor(e){this.zone=e,this.applyEmptyClass=(0,P.hFB)(),this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.#e=(0,s.WQX)(vt),this.formsStateService=(0,s.WQX)(jt),this.featuresService=(0,s.WQX)(_.D),this.#t=(0,s.WQX)(k.S),this.enableSave=!1!==this.#t.config.save.mode,this.#i=(0,M.d)(me),this.saveDisabled=(0,le.bo)("saveDisabled",()=>this.#i.isSaving()||this.formsStateService.saveButtonDisabled()),this.open=this.fieldState.isOpen,this.#a=this.featuresService.isEnabled[Rt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,Pe.EW)(()=>this.#a()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.#n=new sa(this.zone),this.#n.attach(this.backdropRef.nativeElement),this.#n.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.#n.detach()}#a;calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}closeDialog(){this.#e.expand(!1,this.config.index,this.config.entityGuid)}saveAll(e){this.formsStateService.triggerSave(e)}static#r=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.SKi))};static#s=this.\u0275cmp=t.VBU({type:a,selectors:[["app-dialog-popup"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Vg,5),t.GBs(Yg,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.backdropRef=r.first),t.mGM(r=t.lsd())&&(i.dialogRef=r.first)}},inputs:{applyEmptyClass:[1,"applyEmptyClass"]},ngContentSelectors:zg,decls:19,vars:15,consts:[["backdrop",""],["dialog",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],[1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised",1,"mat-elevation-z0"],["mat-icon-button","","tippyTranslate","Form.Buttons.Return.Tip",1,"back-arrow",3,"click"],[1,"title","mat-headline-4"],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"]],template:function(n,i){if(1&n){const r=t.RV6();t.NAR(),t.j41(0,"div",2)(1,"div",3,0),t.bIt("click",function(){return s.eBV(r),s.Njj(i.closeDialog())}),t.k0s(),t.j41(3,"div",4,1)(5,"div",2)(6,"mat-card",5)(7,"button",6),t.bIt("click",function(){return s.eBV(r),s.Njj(i.closeDialog())}),t.j41(8,"mat-icon"),t.EFF(9,"arrow_back"),t.k0s()(),t.j41(10,"span",7),t.EFF(11),t.k0s()()(),t.j41(12,"div"),t.nrm(13,"div"),t.j41(14,"div"),t.SdG(15),t.j41(16,"extended-fab-speed-dial",8),t.DNE(17,Hg,6,3,"ng-template",9),t.nVh(18,Gg,1,0,null,10),t.k0s()()()()()}2&n&&(t.Y8G("ngClass",i.open()?"c-ew__container":"u-display-none"),t.R7$(5),t.Y8G("ngClass",t.eq3(8,jg,i.open())),t.R7$(6),t.JRh(i.basics().label),t.R7$(2),t.Y8G("@itemShrinkAnimation",i.open()?"closed":"open"),t.R7$(),t.HbH("c-ew__dialog-content u-border-radius-bottom u-add-scrollbar u-hide-scrollbar"+(i.applyEmptyClass()?" c-ew__dialog-content--empty":"")),t.Y8G("@contentExpandAnimation",t.l_i(12,Bg,i.open()?"expanded":"closed",t.eq3(10,Ng,i.calculateBottomPixels()))),t.R7$(4),t.vxM(i.enableSave?18:-1))},dependencies:[qe.YU,gt.Hu,gt.RN,nt.M,Yn.M,It.Hl,en.M,Qe.m_,Qe.An,re.h,re.D9,Ho,$o,Fr,Or,Pr,Lt.e,qe.MD],styles:[".c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;inset:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.mat-elevation-z0[_ngcontent-%COMP%]{display:flex;flex-direction:row}.c-ew__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%}.c-ew__dialog[_ngcontent-%COMP%]{z-index:3;display:flex;flex-direction:column;max-width:800px;width:100vw;margin-top:24px;min-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));max-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));padding:0}@media (max-width: 600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height));max-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height))}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-header[_ngcontent-%COMP%]{z-index:4;border-radius:8px 8px 0 0}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{padding:16px;align-items:center;border-radius:8px 8px 0 0;height:52px;z-index:1}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{scale:.6666666667}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-top:1px;line-height:20px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec;border-radius:0 0 8px 8px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:calc(100% - 32px)}"],data:{animation:[mi]}})}return a})();const Ug=["fieldComponent"],Wg=["previewContainer"],Xg=(a,l,e,n,i,r)=>({"mat-caption":a,"mat-empty":l,"mat-error":e,color__primary:n,"my-label-disabled":i,"c-ew__preview-label--focused":r}),Qg=(a,l,e)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":l,"c-ew__preview--focused":e}),Kg=a=>({"c-ew__preview-content--disabled":a}),Jg=(a,l)=>({"min-height":a,"max-height":l});let Zg=(()=>{class a{constructor(e,n,i,r){this.changeDetectorRef=e,this.viewContainerRef=n,this.zone=i,this.formsStateService=r,this.log=(0,p.Tq)({ExpandableWrapperComponent:a}),this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.settings=this.fieldState.settings,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.focused=(0,s.vPA)(!1),this.adamDisabled=this.config.adam.isDisabled,this.previewHeight=(0,Pe.EW)(()=>{const c=this.settings(),g={minHeight:"36px",maxHeight:"50vh"};if(this.config.inputTypeSpecs.inputType!==Je.u.StringWysiwyg&&"inline"!==c.Dialog)return g;let b=parseInt(c.InlineInitialHeight,10);b<1&&(b=1);const z=function Lg(a){return a*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}(50);let X=40+36*b;return X>z&&(X=z),g.minHeight=`${X}px`,g}),this.connectorCreator=(0,M.d)(So)}ngOnInit(){this.config.focused$.subscribe(this.focused.set)}ngAfterViewInit(){const e=this.log.fn("ngAfterViewInit"),n=this.config.inputTypeSpecs.componentTagName;e.a("ExpandableWrapper created for:",{componentTagName:n}),this.connectorCreator.init(n,this.previewContainerRef,this.viewContainerRef,this.changeDetectorRef),this.dropzoneDraggingHelper=new sa(this.zone)}ngOnDestroy(){this.log.fn("ngOnDestroy",null,"destroying ExpandableWrapper"),this.dropzoneDraggingHelper.detach()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(P.gRc),t.rXU(t.c1b),t.rXU(t.SKi),t.rXU(jt))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-expandable-wrapper"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Ug,7,t.c1b),t.GBs(Wg,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first),t.mGM(r=t.lsd())&&(i.previewContainerRef=r.first)}},decls:11,vars:21,consts:[["fieldComponent",""],["previewContainer",""],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass","ngStyle"]],template:function(n,i){1&n&&(t.j41(0,"app-dialog-popup"),t.eu8(1,null,0),t.k0s(),t.j41(3,"div",2)(4,"mat-label",3),t.EFF(5),t.k0s(),t.j41(6,"div",4)(7,"div",5),t.nrm(8,"div",6,1),t.k0s()(),t.nrm(10,"app-field-helper-text"),t.k0s()),2&n&&(t.R7$(4),t.Y8G("ngClass",t.l4e(5,Xg,i.uiValue(),!i.uiValue(),i.ui().invalid&&(i.ui().touched||i.ui().dirty)&&!i.ui().disabled,!i.ui().touchedAndInvalid&&!i.ui().disabled,i.ui().disabled,i.focused())),t.R7$(),t.SpI(" ",i.basics().labelWithRequired," "),t.R7$(),t.Y8G("ngClass",t.sMw(12,Qg,i.ui().invalid&&(i.ui().touched||i.ui().dirty),i.ui().disabled,i.focused())),t.R7$(2),t.Y8G("ngClass",t.eq3(16,Kg,i.ui().disabled))("ngStyle",t.l_i(18,Jg,i.previewHeight().minHeight,i.previewHeight().maxHeight)))},dependencies:[Zt,oa,qe.MD,qe.YU,qe.B3],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #002753!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#002753!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}"],data:{animation:[mi]}})}return a})();const qg=["fieldComponent"],e_=a=>({mark:a});function t_(a,l){if(1&a&&(t.EFF(0),t.nrm(1,"app-feature-icon",3)),2&a){const e=l.$implicit;t.SpI(" ",e," "),t.R7$(),t.Y8G("featureNameId",e)}}function n_(a,l){if(1&a&&(t.j41(0,"div",2),t.EFF(1," This uses features which are not licensed: "),t.Z7z(2,t_,2,2,null,null,t.fX1),t.k0s()),2&a){const e=t.XpG();t.R7$(2),t.Dyx(e.requiredFeatures())}}let i_=(()=>{class a{#e;#t;constructor(){this.#e=(0,s.WQX)(at.W),this.#t=(0,s.WQX)(_.D),this.requiredFeatures=(0,le.bo)("requiredFeatures",()=>{const e=this.#e.requiredFeatures();return 0===e.length?e:e.filter(n=>!this.#t.allowUse[n]())}),this.basics=this.#e.basics}static#n=this.\u0275fac=function(n){return new(n||a)};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-feat-warnings-wrapper"]],viewQuery:function(n,i){if(1&n&&t.GBs(qg,7,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first)}},decls:4,vars:4,consts:[["fieldComponent",""],[3,"ngClass"],[1,"feature-warning"],[3,"featureNameId"]],template:function(n,i){1&n&&(t.j41(0,"div",1),t.eu8(1,null,0),t.nVh(3,n_,4,0,"div",2),t.k0s()),2&n&&(t.Y8G("ngClass",t.eq3(2,e_,i.requiredFeatures().length)),t.R7$(3),t.vxM(-1))},dependencies:[qe.YU,mo.Z],styles:[".feature-warning[_ngcontent-%COMP%]{display:none}.mark[_ngcontent-%COMP%]{border-right:2px solid #00A6ED;--s: 2px;-webkit-mask:conic-gradient(at var(--s) var(--s),rgba(0,0,0,0) 75%,#000 0) 0 0/calc(100% - var(--s)) calc(100% - var(--s)),linear-gradient(#000 0 0) content-box;mask:conic-gradient(at var(--s) var(--s),rgba(0,0,0,0) 75%,#000 0) 0 0/calc(100% - var(--s)) calc(100% - var(--s)),linear-gradient(#000 0 0) content-box}.mark[_ngcontent-%COMP%]   .feature-warning[_ngcontent-%COMP%]{display:block;background-color:#f0ad4e;padding:4px}"]})}return a})();class la extends _t.S{constructor(){super({EmptyDefaultLogic:la}),this.name=Je.u.EmptyDefault}update({settings:l}){const e={...l};return e.Visible??=!0,e.Collapsed??=!1,e.Notes??="",e}}_t.S.add(la);const a_=["fieldComponent"],r_=a=>({"force-hide":a});function s_(a,l){1&a&&(t.j41(0,"div",9),t.nrm(1,"div",11),t.nI1(2,"safeHtml"),t.k0s()),2&a&&(t.R7$(),t.Y8G("innerHtml",t.bMT(2,1,l),t.npT))}let o_=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({CollapsibleWrapperComponent:a}),this.#e=(0,s.WQX)(at.W),this.config=this.#e.config,this.group=this.#e.group,this.basics=this.#e.basics,this.collapsed=this.#e.settingExt("Collapsed"),this.#t=(0,s.WQX)(vn),la.importMe()}toggleCollapse(){const e=this.collapsed();this.log.a("toggleCollapse",{before:e}),this.#t.updateSetting(this.#e.name,{Collapsed:!e},"CollapsibleWrapperComponent")}static#n=this.\u0275fac=function(n){return new(n||a)};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-collapsible-wrapper"]],viewQuery:function(n,i){if(1&n&&t.GBs(a_,7,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first)}},decls:14,vars:8,consts:[["fieldComponent",""],["appearance","raised",1,"eav-card-group-child","shadow-bottom-z-1",3,"ngClass"],[1,"eav-card-header-group-child",3,"click"],[1,"my-title-bar","eav-card-title-group","mat-body-2"],[1,"title-arrow"],[1,"title"],[1,"eav-card-content-group-child"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"mat-card",1)(1,"div",2),t.bIt("click",function(){return s.eBV(r),s.Njj(i.toggleCollapse())}),t.j41(2,"div",3)(3,"mat-icon",4),t.EFF(4),t.k0s(),t.j41(5,"span",5),t.EFF(6),t.k0s()()(),t.j41(7,"mat-card-content",6)(8,"div",7)(9,"div",8),t.nVh(10,s_,3,3,"div",9),t.j41(11,"div",10),t.eu8(12,null,0),t.k0s()()()()()}if(2&n){let r;t.Y8G("ngClass",t.eq3(6,r_,!1===i.basics().visible)),t.R7$(4),t.SpI("",i.collapsed()?"keyboard_arrow_down":"keyboard_arrow_up"," "),t.R7$(2),t.SpI(" ",i.basics().label||i.config.fieldName," "),t.R7$(),t.xc7("display",i.collapsed()?"none":"block"),t.R7$(3),t.vxM((r=i.basics().notes)?10:-1,r)}},dependencies:[gt.Hu,gt.RN,gt.m2,qe.YU,Qe.m_,Qe.An,Aa,Ln.$],styles:[".eav-card-content-group-child[_ngcontent-%COMP%]{padding:0}.eav-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-mdc-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.my-title-bar[_ngcontent-%COMP%]{display:flex}"]})}return a})();const l_=["fieldComponent"];let c_=(()=>{class a{constructor(){this.fieldState=(0,s.WQX)(at.W),this.basics=this.fieldState.basics}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-hidden-wrapper"]],viewQuery:function(n,i){if(1&n&&t.GBs(l_,7,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first)}},decls:3,vars:1,consts:[["fieldComponent",""],[3,"hidden"]],template:function(n,i){1&n&&(t.j41(0,"div",1),t.eu8(1,null,0),t.k0s()),2&n&&t.Y8G("hidden",!i.basics().visible)},encapsulation:2})}return a})();var Uo=m(93609);const d_=["fieldComponent"],u_=(a,l)=>({"c-ew__preview--disabled":a,"c-ew__preview--last-in-group":l}),p_=(a,l)=>({"icon-before-input":a,"thumbnail-before-input--disabled":l}),m_=a=>({"background-image":a}),h_=a=>({"mat-form-field-invalid":a}),f_=a=>({"mat-error":a}),g_=a=>({"c-ew__preview-suffix-text--disabled":a}),__=a=>({"metadata-exists":a});function v_(a,l){if(1&a&&t.nrm(0,"mat-icon",4),2&a){const e=t.XpG();t.Y8G("tippy",e.url)("svgIcon",e.icon)}}function y_(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.expandDialog())}),t.nrm(1,"mat-icon",21),t.k0s()}if(2&a){const e=t.XpG(3);t.Y8G("disabled",e.ui().disabled)}}function b_(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.openPagePicker())}),t.nrm(1,"mat-icon",23),t.k0s()}if(2&a){const e=t.XpG(3);t.Y8G("disabled",e.ui().disabled)}}function C_(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",9)(1,"div",15),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nVh(4,y_,2,1,"button",16),t.j41(5,"button",17),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.openImageConfiguration(i.adamItem()))}),t.j41(6,"mat-icon",18),t.EFF(7,"filter_center_focus"),t.k0s()(),t.nVh(8,b_,2,1,"button",19),t.k0s()}if(2&a){let e,n,i;const r=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(10,g_,r.ui().disabled)),t.R7$(),t.SpI(" ",r.buttonAdam()?t.bMT(3,8,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),t.R7$(2),t.vxM(r.buttonAdam()?4:-1),t.R7$(),t.Y8G("disabled",!(null!=(e=r.adamItem())&&e._imageConfigurationContentType))("ngClass",t.eq3(12,__,(null==(n=r.adamItem())?null:n._imageConfigurationId)>0)),t.R7$(),t.Y8G("tippyTranslate",r.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(i=r.adamItem())?null:i._imageConfigurationContentType),t.R7$(2),t.vxM(r.buttonPage()?8:-1)}}function x_(a,l){if(1&a&&(t.j41(0,"div",11)(1,"div",24),t.EFF(2),t.k0s(),t.j41(3,"div",25)(4,"a",26)(5,"span"),t.EFF(6),t.k0s()()()()),2&a){const e=t.XpG(),n=t.XpG();t.R7$(2),t.JRh(n.uiValue()),t.R7$(2),t.Y8G("href",e.url,t.B4B)("tippy",e.url),t.R7$(2),t.JRh(e.floatingText)}}function M_(a,l){if(1&a&&(t.j41(0,"div",14)(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"app-feature-icon-text",27),t.k0s()),2&a){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,e.adamSponsorI18nKey())),t.R7$(2),t.Y8G("featureNameId","NoSponsoredByToSic")}}function w_(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.expandDialog())}),t.nVh(3,v_,1,2,"mat-icon",4),t.k0s(),t.j41(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"input",8),t.bIt("change",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.setValue(i))})("blur",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.markAsTouched())})("keyup",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.setValue(i))}),t.k0s(),t.nVh(8,C_,9,14,"div",9),t.j41(9,"mat-label",10),t.EFF(10),t.k0s()(),t.nVh(11,x_,7,4,"div",11),t.k0s(),t.j41(12,"div",12),t.nrm(13,"app-field-helper-text",13),t.nVh(14,M_,5,4,"div",14),t.k0s()()()()}if(2&a){const e=l,n=t.XpG();t.R7$(),t.Y8G("ngClass",t.l_i(17,u_,n.ui().disabled,n.config.isLastInGroup)),t.R7$(),t.Y8G("tippyDisabled",n.ui().disabled)("ngClass",t.l_i(20,p_,n.uiValue()&&!e.isImage,n.ui().disabled))("ngStyle",t.eq3(23,m_,n.uiValue()&&e.isImage?e.thumbnailUrl:"")),t.R7$(),t.vxM(n.uiValue()&&!e.isImage?3:-1),t.R7$(3),t.Y8G("ngClass",t.eq3(25,h_,n.ui().touchedAndInvalid)),t.R7$(),t.Y8G("placeholder",n.basics().placeholder)("disabled",n.ui().disabled)("value",n.uiValue())("config",n.config)("elementType","input"),t.R7$(),t.vxM(n.buttonAdam()||n.buttonPage()?8:-1),t.R7$(),t.Y8G("ngClass",t.eq3(27,f_,n.ui().touchedAndInvalid)),t.R7$(),t.SpI(" ",n.basics().labelWithRequired," "),t.R7$(),t.vxM(e.floatingText?11:-1),t.R7$(2),t.Y8G("hyperlinkDefaultWrapperFix",!0),t.R7$(),t.vxM(n.buttonAdam()?14:-1)}}let k_=(()=>{class a extends Do{constructor(e,n,i,r,c,g,b,z,X){super(e,n,i,r,c,z),this.zone=b,this.formsStateService=z,this.featuresService=X,this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.buttonAdam=(0,Pe.EW)(()=>this.fieldState.settings().Buttons.includes("adam"),kn.bool),this.buttonPage=(0,Pe.EW)(()=>this.fieldState.settings().Buttons.includes("page"),kn.bool),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),this.#e=this.featuresService.isEnabled[Rt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,Pe.EW)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor"),this.editRoutingService=g}#e;ngAfterViewInit(){this.dropzoneDraggingHelper=new sa(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}markAsTouched(){this.fieldState.ui().markTouched()}setValue(e){const n=e.target.value;this.fieldState.ui().setIfChanged(n)}expandDialog(){this.fieldState.ui().disabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(k.S),t.rXU(d.h),t.rXU(t.c1b),t.rXU(P.gRc),t.rXU(R),t.rXU(vt),t.rXU(t.SKi),t.rXU(jt),t.rXU(_.D))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(n,i){if(1&n&&t.GBs(d_,7,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first)}},features:[t.Vt3],decls:4,vars:1,consts:[["fieldComponent",""],[1,"c-hyperlink-default-field-preview"],[1,"c-ew__preview","c-ew__preview--hyperlink",3,"ngClass"],["tippyTranslate","Fields.Hyperlink.Default.Fullscreen",1,"thumbnail-before-input",3,"click","tippyDisabled","ngClass","ngStyle"],["tippyPlacement","right",3,"tippy","svgIcon"],[1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"ngClass"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",1,"eav-translate-on-dblclick",3,"change","blur","keyup","placeholder","disabled","value","config","elementType"],["matTextSuffix","",1,"c-ew__preview-suffix"],[3,"ngClass"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"hyperlinkDefaultWrapperFix"],[1,"c-ew__preview-field-hint","c__helper-wrapper--right"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",1,"c-ew__preview-suffix-icon",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","sitemap"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","tippy"],[3,"featureNameId"]],template:function(n,i){if(1&n&&(t.j41(0,"app-dialog-popup"),t.eu8(1,null,0),t.k0s(),t.nVh(3,w_,15,29,"div",1)),2&n){let r;t.R7$(3),t.vxM((r=i.preview())?3:-1,r)}},dependencies:[qe.YU,Qe.m_,Qe.An,qe.B3,re.h,re.D9,Lt.e,oa,Zt,Uo.U,xr,qe.MD,Gt.M,wt.j,wt.M,wt.g,Ut.fS,Ut.fg,It.Hl,en.M],styles:[".metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview--hyperlink[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:#1d273d14;width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-field--short[_ngcontent-%COMP%]{flex:1 1 auto;width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d70;font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-suffix[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#06599a;-webkit-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:#1d273d3d}@media (min-width: 601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:flex}}@media (max-width: 600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:none}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[mi]}})}return a})();const S_=["fieldComponent"],D_=(a,l,e,n,i)=>({"mat-caption":a,"mat-empty":l,"mat-error":e,color__primary:n,"my-label-disabled":i}),T_=()=>({enterDuration:360}),E_=(a,l)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":l});function I_(a,l){if(1&a&&(t.j41(0,"div")(1,"div",11),t.nrm(2,"mat-icon",12),t.j41(3,"div",13),t.EFF(4),t.k0s()()()),2&a){const e=t.XpG().$implicit;t.R7$(4),t.JRh(e.Name)}}function A_(a,l){if(1&a&&(t.j41(0,"mat-icon"),t.EFF(1),t.k0s()),2&a){const e=t.XpG(3).$implicit;t.R7$(),t.JRh(e._icon)}}function F_(a,l){if(1&a&&(t.j41(0,"mat-icon"),t.EFF(1),t.k0s()),2&a){const e=t.XpG(3).$implicit;t.R7$(),t.JRh(e._icon)}}function P_(a,l){if(1&a&&(t.j41(0,"div",11),t.nVh(1,A_,2,1,"mat-icon"),t.nVh(2,F_,2,1,"mat-icon"),t.j41(3,"div",13),t.EFF(4),t.k0s()()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.vxM(e._isMaterialIcon?1:-1),t.R7$(),t.vxM(e._isMaterialIcon?-1:2),t.R7$(2),t.JRh(e.Name)}}function O_(a,l){if(1&a&&(t.j41(0,"div",14),t.nrm(1,"img",15),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.Y8G("alt",t.ai1("",e.Id,":",e.Name))("src",e.ThumbnailUrl,t.B4B)}}function R_(a,l){if(1&a&&(t.j41(0,"div"),t.nVh(1,P_,5,3,"div",11),t.nVh(2,O_,2,4,"div",14),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.vxM("image"!==e.Type?1:-1),t.R7$(),t.vxM("image"===e.Type?2:-1)}}function L_(a,l){if(1&a&&(t.nVh(0,I_,5,1,"div"),t.nVh(1,R_,3,2,"div")),2&a){const e=l.$implicit;t.vxM(e.IsFolder?0:-1),t.R7$(),t.vxM(e.IsFolder?-1:1)}}let V_=(()=>{class a{#e;constructor(e,n,i,r){this.zone=e,this.editRoutingService=n,this.formsStateService=i,this.featuresService=r,this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.items=(0,Pe.EW)(()=>this.config.adam.items().slice(0,9)),this.itemsNumber=(0,Pe.EW)(()=>this.config.adam.items().length,kn.number),this.#e=this.featuresService.isEnabled[Rt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,Pe.EW)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.dropzoneDraggingHelper=new sa(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}trackByFn(e,n){return n.Id}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.SKi),t.rXU(vt),t.rXU(jt),t.rXU(_.D))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(n,i){if(1&n&&t.GBs(S_,7,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first)}},decls:19,vars:20,consts:[["fieldComponent",""],[3,"applyEmptyClass"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"c-ew__preview-content"],[1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],[3,"featureNameId"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],[1,"adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"app-dialog-popup",1),t.eu8(1,null,0),t.k0s(),t.j41(3,"div",2)(4,"mat-label",3),t.EFF(5),t.k0s(),t.j41(6,"div",4),t.bIt("click",function(){return s.eBV(r),s.Njj(i.expandDialog())}),t.j41(7,"div",5)(8,"div",6),t.Z7z(9,L_,2,2,null,null,i.trackByFn,!0),t.k0s()()(),t.j41(11,"div",7)(12,"div",8),t.nrm(13,"app-field-helper-text"),t.k0s(),t.j41(14,"div",9)(15,"span"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.nrm(18,"app-feature-icon-text",10),t.k0s()()()}2&n&&(t.Y8G("applyEmptyClass",!0),t.R7$(4),t.Y8G("ngClass",t.s1E(10,D_,i.itemsNumber()>0,0===i.itemsNumber(),i.ui().invalid&&!i.config.initialDisabled,!i.ui().invalid&&!i.config.initialDisabled,i.config.initialDisabled)),t.R7$(),t.SpI(" ",i.basics().labelWithRequired," "),t.R7$(),t.Y8G("matRippleAnimation",t.lJ4(16,T_))("ngClass",t.l_i(17,E_,i.ui().invalid,i.config.initialDisabled)),t.R7$(),t.Y8G("ngClass",i.uiValue()?"c-ew__preview-container":"c-ew__preview-container--empty"),t.R7$(2),t.Dyx(i.items()),t.R7$(7),t.SpI("",t.bMT(17,8,i.adamSponsorI18nKey())," "),t.R7$(2),t.Y8G("featureNameId","NoSponsoredByToSic"))},dependencies:[oa,Qe.m_,Qe.An,nt.M,Yn.M,Zt,Uo.U,re.h,re.D9,qe.MD,qe.YU],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;gap:2px;overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[mi]}})}return a})();const Y_=["fieldComponent"],z_=["previewComponent"];let j_=(()=>{class a{constructor(e){this.formsStateService=e,this.log=(0,p.Tq)({PickerExpandableWrapperComponent:a}),this.fieldState=(0,s.WQX)(at.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(jt))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-picker-expandable-wrapper"]],viewQuery:function(n,i){if(1&n&&(t.GBs(Y_,7,t.c1b),t.GBs(z_,7,t.c1b)),2&n){let r;t.mGM(r=t.lsd())&&(i.fieldComponent=r.first),t.mGM(r=t.lsd())&&(i.previewComponent=r.first)}},decls:8,vars:0,consts:[["fieldComponent",""],["previewComponent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"]],template:function(n,i){1&n&&(t.j41(0,"app-dialog-popup")(1,"div",2)(2,"div",3)(3,"mat-card",4),t.eu8(4,null,0),t.k0s()()()(),t.eu8(6,null,1))},dependencies:[gt.Hu,gt.RN,oa],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}  .eav-layout-grid{padding:16px}  .eav-layout-grid .mat-mdc-card{height:calc(100% - 32px)}"],data:{animation:[mi]}})}return a})();const N_={[Et_AdamWrapper]:Dg,[Et_CollapsibleWrapper]:o_,[Et_DropzoneWrapper]:Rg,[Et_PickerExpandableWrapper]:j_,[Et_ExpandableWrapper]:Zg,[Et_HiddenWrapper]:c_,[Et_FeatureWarningWrapper]:i_,[Et_HyperlinkDefaultExpandableWrapper]:k_,[Et_HyperlinkLibraryExpandableWrapper]:V_,[Et_LocalizationWrapper]:sd,[Je.u.BooleanDefault]:Fa,[Je.u.BooleanTristate]:Pa,[Je.u.CustomDefault]:Ei,[Je.u.CustomJsonEditor]:Ii,[Je.u.DateTimeDefault]:Ja,[Je.u.EmptyDefault]:ju,[Je.u.EmptyMessage]:Za,[Je.u.EntityContentBlocks]:Xh,[Je.u.EntityDefault]:xo,[Je.u.EntityQuery]:ef,[Je.u.ExternalWebComponent]:df,[Je.u.HyperlinkDefault]:Mr,[Je.u.HyperlinkLibrary]:wr,[Je.u.NumberDefault]:kr,[Je.u.NumberDropdown]:Sr,[Je.u.StringDefault]:Dr,[Je.u.StringDropdown]:Bf,[Je.u.StringDropdownQuery]:zf,[Je.u.StringFontIconPicker]:Tr,[Je.u.StringJson]:Ii,[Je.u.StringTemplatePicker]:Er,[Je.u.StringUrlPath]:Ir,[Je.u.EntityPicker]:Jh,[Je.u.StringPicker]:Wf,[Je.u.NumberPicker]:Af},B_={all:!1,setConfig:!0,refresh:!0};class Rr{constructor(){this.log=(0,p.Tq)({AdamConnector:Rr},B_),this.#e=(0,s.vPA)(null),this.#t=(0,le.bo)("items",()=>this.#e()?.items()??[]),this.#n=0,this.isDisabled=(0,Pe.EW)(()=>this.#e()?.adamConfig()?.disabled??!0)}get browser(){const l=this.#e();if(l)return l;throw new Error("Browser not set")}setBrowser(l){this.#e.set(l)}#e;#t;get items(){return this.#t}toggle(l,e){this.log.fn("toggle",{usePortalRoot:l,showImagesOnly:e}),this.browser.toggle(l,e)}#n;setConfig(l){const e=this.log.fnIf("setConfig",{config:l,count:this.#n});if(this.#n++,this.#n>10)throw new Error("Infinite loop");this.browser.setConfig(l),e.end()}getConfig(){return this.browser.adamConfig()}onItemClick(){}onItemUpload(){}refresh(){this.log.fnIf("refresh"),this.browser.fetchItems()}}class H_{static fromSettings(l){const e=l?.Name??"loading...",n=l?.Notes??"",i=l?.valueRequired??!0,g=(l?.Visible??!0)&&!l?.VisibleDisabled,b=l?.Collapsed??!1;return{label:e,notes:n,placeholder:l?.Placeholder??"loading...",required:i,labelWithRequired:e+(i?" *":""),visible:g,collapsed:b}}}const $_={getInjectors:!0,fields:[...dt.z]};let U_=(()=>{class a{#e;#t;#n;#i;#a;#r;constructor(){this.log=(0,p.Tq)({FieldStateInjectorFactory:a},$_),this.#e=(0,s.WQX)(s.zZn),this.#t=(0,s.WQX)(s.uvJ),this.#n=(0,s.WQX)(vn),this.#i=(0,s.WQX)(me),this.#a=(0,s.WQX)(_.D),this.#r=(0,s.WQX)(vt)}getInjectors(e,n){const i=this.log.fnIf("getInjectors",{fieldConfig:e,inputType:n}),r=e.fieldName,c=this.#n.settings[r],g=(0,le.bo)("basics",()=>H_.fromSettings(c())),b=this.#i.formGroup,z=b.controls[r],X=this.#s(r,z,n,c),ie=(()=>{if(!z)return(0,le.KX)("value-change-empty",null);const Ze=z.valueChanges.pipe((0,st.A)(lt=>lt));return(0,rt.ot)(Ze,{injector:this.#e,initialValue:z.value})})(),se=new at.W(r,e,b,c,g,X,ie,this.#n.translationState[r],this.#r.isExpandedSignal(e.index,e.entityGuid,this.#e),this.#n.pickerData[r]??null,this.#a,this.#e),Fe=this.#o(se);return i.r(Fe)}#s(e,n,i,r){const c=this.log.fnCond(this.log.specs.fields.includes(e),"buildControlChangeSignal",{fieldName:e,inputType:i});if(n){const g=(0,rt.br)(r,{injector:this.#e});return(0,s.N4e)(this.#e,()=>{const b=n.valueChanges.pipe((0,st.A)(X=>({dirty:n.dirty,invalid:n.invalid,touched:n.touched,disabled:n.disabled})),(0,Y.M)(X=>!1)),z=(0,En.z)([b,g.pipe((0,st.A)(X=>X.uiDisabled))]).pipe((0,Y.M)(([X,ie])=>c.a("controlStateChange on control",{control:n,disabled:ie})),(0,st.A)(([X,ie])=>new di.a(n,e,ie)),(0,Y.M)(X=>c.a("controlStatusChangeSignal",{result:X})));return(0,rt.ot)(z,{initialValue:new di.a(n,e,r().uiDisabled)})})}return oe.Q.isEmpty(i.inputType)?null:(console.error(`Error: can't create signal for control of ${e} (not found). Input type is not empty, it's ${i.inputType}.`),(0,le.KX)("control-status-empty",di.a.emptyControl()))}#o(e){const n=[{provide:at.W,useValue:e}];return{injector:s.zZn.create({providers:n,parent:this.#e,name:"FieldInjector"}),environmentInjector:(0,t.Ol2)(n,this.#t,"FieldEnvInjector")}}static#l=this.\u0275fac=function(n){return new(n||a)};static#c=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const W_={all:!1,createWrapper:!0};let X_=(()=>{class a{#e;#t;#n;#i;constructor(e,n){this.formConfigService=e,this.el=n,this.renderer=(0,s.WQX)(t.sFG),this.#e=!1,this.log=(0,p.Tq)({EditControlsBuilderDirective:a},W_),this.#t=(0,M.d)(U_),this.#n=(0,s.WQX)(t.c1b),this.#i=(0,s.WQX)(vn),this.#a=[],this.onInitReady=(0,s.vPA)(!1),(0,Pe.QZ)(()=>{const i=this.onInitReady(),r=this.formConfigService.controlsCreated();this.log.a("createControls - effect",{onInitReady:i,controlsCreated:r}),i&&r&&(this.log.a("createControls RUN"),(0,Pe.O8)(()=>this.createControls()))})}#a;ngOnInit(){this.onInitReady.set(!0),this.index=parseInt(this.el.nativeElement.getAttribute("data-index"))}createControls(){this.#n.clear();let e=this.#n;const n=this.#i.allProps();for(const[i,r]of Object.entries(n)){const c={...r.constants,fieldName:i,focused$:new ln.t(!1),adam:new Rr};this.#a.push(c);const g=r.constants.inputTypeSpecs.inputType;oe.Q.isGroupStart(g)?e=this.#r(this.#n,r,c):oe.Q.isGroupEnd(g)?e=this.#n:this.#s(e,r,c)}}ngOnDestroy(){for(const e of this.#a)e.focused$.complete()}#r(e,n,i){const r=this.#t.getInjectors(i,n.constants.inputTypeSpecs);let c=new Lr(null,e,r);return n.buildWrappers&&(c=this.#c(c,n.buildWrappers)),c.contentsRef}#s(e,n,i){const r=n.constants.inputTypeSpecs;this.log.a("createComponent",{inputSpecs:r});const c=this.#t.getInjectors(i,r);let g=new Lr(null,e,c);n.buildWrappers&&(g=this.#c(g,n.buildWrappers));const z=this.#u(r.isExternal?Je.u.ExternalWebComponent:r.inputType),X=Reflect.getMetadata(_s,z);X?.wrappers&&(g=this.#c(g,X.wrappers));const ie=this.#l(z,g.contentsRef,g.injectors),se=g.wrapperRef?.instance?.previewComponent;if(null!=se){const Fe=this.#u(r.inputType);this.log.a("createComponent - add preview",{previewType:Fe}),this.#l(Fe,se,g.injectors)}!1===this.#e&&0===this.index&&!0!==n.settings.noAutoFocus&&(this.#o(ie),this.#e=!0)}#o(e){setTimeout(()=>{const n=e.location.nativeElement.querySelector("input");n&&(this.renderer.setAttribute(n,"autofocus","true"),n?.focus())},250)}#l(e,n,i){return n.createComponent(e,i)}#c(e,n){let i=e;for(const r of n)i=this.#d(i,r);return i}#d(e,n){this.log.fnIf("createWrapper",{wrapperName:n});const r=this.#u(n),c=e.contentsRef.createComponent(r,e.injectors);return new Lr(c,c.instance.fieldComponent,null)}#u(e){return N_[e]??(console.error(`Missing component class for: ${e}`),Ei)}static#m=this.\u0275fac=function(n){return new(n||a)(t.rXU(me),t.rXU(t.aKT))};static#h=this.\u0275dir=t.FsC({type:a,selectors:[["","appEditControlsBuilder",""]]})}return a})();class Lr{constructor(l,e,n){this.wrapperRef=l,this.contentsRef=e,this.injectors=n}}const Q_={all:!0,watchToRefreshOnVersionsClosed:!0};let K_=(()=>{class a{constructor(){this.log=(0,p.Tq)({EditForceReloadService:a},Q_),this.#e=(0,s.WQX)(d.k),this.#t=(0,M.d)(je.c)}#e;#t;ngOnDestroy(){this.#n?.unsubscribe()}#n;watchToRefreshOnVersionsClosed(){const e=this.log.fnIf("watchToRefreshOnVersionsClosed");this.#n=this.#t.childDialogClosed$().pipe((0,E.T)(()=>this.#t.state()),(0,Oe.p)(n=>!0===n?.refreshEdit)).subscribe(n=>{const i=this.log.fnIf("watchToRefreshOnVersionsClosed",null,"refreshEdit");e.a("version closed, refreshing edit dialog");const r=this.#t.snapshot.params,c=he.b.newUrlIfCurrentContainsOldUrl(this.#t.route,`edit/${r.items}`,`edit/refresh/${r.items}`);if(null==c)return i.end("no change");this.#e.close({navigateUrl:c}),i.end(`routed away to :${c}`)}),e.end()}static#i=this.\u0275fac=function(n){return new(n||a)};static#a=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();var Wo=m(63966);function ev(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.unlockAll())}),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"button",5),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.autoTranslateMany())}),t.EFF(4),t.nI1(5,"translate"),t.nrm(6,"app-feature-icon-indicator",6),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.lockAll())}),t.EFF(8),t.nI1(9,"translate"),t.k0s()}2&a&&(t.R7$(),t.JRh(t.bMT(2,4,"LangMenu.TranslateAll")),t.R7$(3),t.SpI(" ",t.bMT(5,6,"LangMenu.AutoTranslateAll")," "),t.R7$(2),t.Y8G("featureNameId","EditUiTranslateWithGoogle"),t.R7$(2),t.JRh(t.bMT(9,8,"LangMenu.NoTranslateAll")))}function tv(a,l){if(1&a&&(t.j41(0,"div")(1,"button",1)(2,"span",2),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"uppercase"),t.j41(6,"mat-icon",3),t.EFF(7,"translate"),t.k0s()()(),t.j41(8,"mat-menu",null,0),t.DNE(10,ev,10,10,"ng-template",4),t.k0s()()),2&a){const e=t.sdS(9),n=t.XpG();t.R7$(),t.Y8G("disabled",n.readOnly().isReadOnly||n.slotIsEmpty())("matMenuTriggerFor",e),t.R7$(2),t.SpI(" ",t.bMT(5,5,t.bMT(4,3,"LangMenu.Translate"))," \xa0\xa0 ")}}let nv=(()=>{class a{constructor(e,n,i,r,c,g){this.matDialog=e,this.itemService=n,this.eavService=i,this.fieldTranslateSvc=r,this.viewContainerRef=c,this.fieldSettingsSvc=g,this.entityGuid=(0,P.hFB)(),this.formsStateService=(0,s.WQX)(jt),this.readOnly=this.formsStateService.readOnly,this.#e=(0,Pe.EW)(()=>this.fieldTranslateSvc.findAutoTranslatableFields()),this.slotIsEmpty=(0,Pe.EW)(()=>this.itemService.slotIsEmpty(this.entityGuid())(),kn.bool),this.language=this.eavService.language}#e;unlockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!0)}lockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!1)}autoTranslateMany(){const e=this.#e();if(0===e.length)return this.fieldTranslateSvc.showMessageNoTranslatableFields(!0);const n=this.fieldSettingsSvc.translationState[e[0]]();if(e.length>0){const r={config:{entityGuid:this.entityGuid(),fieldName:e[0]},translationState:{language:n.language,linkType:n.linkType},isTranslateMany:!0,translatableFields:e};this.matDialog.open(fs,{autoFocus:!1,data:r,viewContainerRef:this.viewContainerRef,width:"400px"})}else this.matDialog.open(is,{autoFocus:!1,data:{isAutoTranslateAll:!0},viewContainerRef:this.viewContainerRef,width:"400px"})}static#t=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.h),t.rXU(G.b),t.rXU(k.S),t.rXU(On),t.rXU(t.c1b),t.rXU(vn))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-entity-translate-menu"]],inputs:{entityGuid:[1,"entityGuid"]},decls:1,vars:1,consts:[["menu","matMenu"],["mat-button","",3,"disabled","matMenuTriggerFor"],[1,"my-flex-inside"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click"],[3,"featureNameId"]],template:function(n,i){1&n&&t.nVh(0,tv,11,7,"div"),2&n&&t.vxM(i.language().current!==i.language().primary?0:-1)},dependencies:[It.Hl,It.$z,Pt.Cn,Pt.kk,Pt.fb,Pt.z8,Pt.Cp,Qe.m_,Qe.An,ns,qe.Pc,re.h,re.D9],styles:[".eav-translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return a})();const iv=["noteTrigger"],av=["noteTemplate"];function rv(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",18,1),t.bIt("pointerenter",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.noteProps().note?r.toggleNote(i):null)})("pointerleave",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.noteProps().note?r.toggleNote(i):null)})("click",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.noteProps().note?r.toggleNote(i):r.editNote())}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s()()}if(2&a){const e=t.XpG();t.HbH(t.VkB("eav-note ",e.noteProps().triggerClass)),t.Y8G("disabled",e.readOnly())("tippyTranslate",e.noteProps().tooltip)("tippyDisabled",e.readOnly())("disableRipple",e.noteProps().itemNotSaved),t.R7$(3),t.JRh(e.noteProps().iconName)}}function sv(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",19),t.bIt("pointerdown",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.noteTouched=!0)}),t.j41(1,"div",20)(2,"button",21),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.editNote(i.noteProps().note))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",21),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.deleteNote(i.noteProps().note))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s()(),t.j41(8,"button",21),t.bIt("click",function(i){s.eBV(e);const r=t.XpG();return s.Njj(r.toggleNote(i))}),t.j41(9,"mat-icon"),t.EFF(10,"close"),t.k0s()()(),t.nrm(11,"div",22),t.nI1(12,"safeHtml"),t.k0s()}if(2&a){const e=t.XpG();t.HbH(t.VkB("eav-note-wrapper ",e.noteProps().noteClass)),t.R7$(11),t.Y8G("innerHtml",t.bMT(12,4,e.noteProps().noteHtml),t.npT)}}function ov(a,l){if(1&a){const e=t.RV6();t.j41(0,"mat-slide-toggle",23),t.bIt("change",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.toggleSlotIsEmpty())}),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("checked",!e.ctSettings().slotIsEmpty)("disabled",e.readOnly()||e.languages().current!==e.languages().primary)("tippyTranslate",e.ctSettings().slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue")("tippyDisabled",e.readOnly()||e.languages().current!==e.languages().primary)}}function lv(a,l){if(1&a&&(t.j41(0,"div",9)(1,"mat-icon"),t.EFF(2,"local_offer"),t.k0s()()),2&a){const e=t.XpG();t.Y8G("tippy",e.itemForTooltip())}}function cv(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.openHistory())}),t.j41(1,"mat-icon"),t.EFF(2,"history"),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("disabled",e.readOnly())}}function dv(a,l){if(1&a&&(t.j41(0,"div",15),t.nrm(1,"div",25),t.nI1(2,"safeHtml"),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Y8G("innerHtml",t.bMT(2,1,e.ctSettings().editInstructions),t.npT)}}const uv={all:!1,fetchNote:!0,noteFormData:!0};let pv=(()=>{class a{#e;#t;#n;#i;#a;#r;#s;#o;#l;#c;#d;constructor(e,n,i,r){this.itemSvc=e,this.editRoutingSvc=n,this.matDialog=i,this.viewContainerRef=r,this.log=(0,p.Tq)({EntityFormComponent:a},uv),this.entityGuid=(0,P.hFB)(),this.index=(0,P.hFB)(),this.formConfig=(0,s.WQX)(k.S),this.#e=(0,s.WQX)(vn),this.#t=(0,s.WQX)(jt),this.#n=(0,s.WQX)(re.c$),this.#i=(0,M.d)(K_),this.collapse=!1,this.noteTouched=!1,this.#a=(0,s.WQX)(_.D),this.#r=this.#a.isEnabled[Rt.T.EditUiShowNotes],this.#s=this.#a.isEnabled[Rt.T.EditUiShowMetadataFor],this.languages=this.formConfig.language,this.ctSettings=(0,le.bo)("ctSettings",()=>{const c=this.#e.contentTypeSettings(),g=c.Features,b=function q_(a){return a.split("\n").reduce((e,n)=>{if(!n)return e;const i=n.split("=");return e[i[0]]="true"===i[1],e},{})}(c.Features);return{itemTitle:c._itemTitle,slotCanBeEmpty:c._slotCanBeEmpty,slotIsEmpty:c._slotIsEmpty,editInstructions:c.EditInstructions,features:g,showNotes:b[Rt.T.EditUiShowNotes]??this.#r(),showMdFor:b[Rt.T.EditUiShowMetadataFor]??this.#s()}}),this.readOnly=(0,le.bo)("readOnly",()=>this.#t.readOnly().isReadOnly),this.itemForTooltip=(0,le.bo)("itemForTooltip",()=>function J_(a,l){if(a)return l.instant("Form.Buttons.Metadata.Tip")+`\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.Number?`\nNumber: ${a.Number}`:"")+(a.String?`\nString: ${a.String}`:"")+(a.Guid?`\nGuid: ${a.Guid}`:"")+(a.Title?`\nTitle: ${a.Title}`:"")}(this.itemSvc.getItemFor(this.entityGuid()),this.#n)),this.#o=(0,le.KX)("retriggerNoteProps",!1),this.noteProps=(0,le.bo)("noteProps",()=>{this.#o();const c=this.entityGuid(),g=this.formConfig.language();return function Z_(a,l,e){const n={note:a,tooltip:e?"Form.Buttons.Note.ItemNotSaved":"Form.Buttons.Note.Add",triggerClass:"no-note "+(e?"item-not-saved":""),iconName:"sticky_note_2",noteClass:"",noteHtml:void 0,itemNotSaved:e};if(!a)return n;n.tooltip=void 0;const i=new he.bT(l);n.noteHtml=i.getBestValue(a.Attributes.Note);const r=i.getBestValue(a.Attributes.NoteType);return"note"===r?n.triggerClass="has-note":"warning"===r&&(n.triggerClass="has-warning",n.iconName="warning",n.noteClass="warning"),n}(this.itemSvc.getItemNote(c),g,0===this.itemSvc.get(c).Entity.Id)}),this.#l=(0,M.d)(xe),this.#c=(0,M.d)(fe.Tr),this.#d=(0,M.d)(je.c)}ngAfterViewChecked(){this.noteRef?._containerInstance?._changeDetectorRef?.detectChanges()}ngOnInit(){this.#d.doOnDialogClosed(()=>this.#u())}ngOnDestroy(){this.noteRef?.close()}toggleCollapse(){this.collapse=!this.collapse}toggleSlotIsEmpty(){const e=this.entityGuid(),n=this.itemSvc.getItemHeader(e),i={...n,IsEmpty:!n.IsEmpty},r=this.log.fn("toggleSlotIsEmpty",{oldHeader:n,newHeader:i});this.itemSvc.updater.updateItemHeader(e,i),r.end()}openHistory(){const e=this.itemSvc.get(this.entityGuid());this.#i.watchToRefreshOnVersionsClosed(),this.#d.navRelative([`versions/${e.Entity.Id}`])}toggleNote(e){const n=this.noteRef?.getState()===d.j.OPEN;"pointerenter"===e.type&&0==this.noteTouched?this.openNote():"pointerleave"===e.type&&0==this.noteTouched?this.noteRef?.close():"click"===e.type&&n&&(0==this.noteTouched?this.noteTouched=!0:(this.noteRef?.close(),this.noteTouched=!1))}openNote(){const e=this.noteTriggerRef.nativeElement.getBoundingClientRect();this.noteRef=this.matDialog.open(this.noteTemplateRef,{autoFocus:!1,hasBackdrop:!1,disableClose:!0,restoreFocus:!1,closeOnNavigation:!1,position:{top:`${e.bottom}px`,left:e.left-200+"px"},viewContainerRef:this.viewContainerRef,panelClass:"note-dialog"})}editNote(e){const n=this.entityGuid(),i=this.log.fn("editNote",{note:e});if(0===this.itemSvc.get(n).Entity.Id)return void i.end("Item not saved yet, ID = 0");const c={items:[null==e?F.c.newMetadata(n,Sn.YX.contentTypes.notes,Sn.YX.metadata.entity,!0):F.c.editId(e.Id)]};this.editRoutingSvc.open(null,null,c)}deleteNote(e){const n=this.formConfig.language(),i=new Be.b(n).getBestValue(e.Attributes.Title);confirm(this.#n.instant("Data.Delete.Question",{title:i,id:e.Id}))&&this.#c.delete(this.formConfig.config.appId,Sn.YX.contentTypes.notes,e.Id,!1).subscribe(()=>{this.noteRef?.close(),this.#u()})}#u(){const e=this.entityGuid(),n=this.itemSvc.get(e),i=this.log.fnIf("fetchNote",{entityGuid:e,item:n,id:n.Entity.Id});if(0===n.Entity.Id)return i.end("no change");const r=[F.c.editId(n.Entity.Id)];this.#l.fetchFormData(JSON.stringify(r)).subscribe(c=>{const g=this.log.fn("noteFormData",{formData:c});if(!this.itemSvc.get(e))return g.end(`Item ${e} not found in service, was probably flushed for reload`);const b=c.Items.map(z=>Wo.U.dtoToEav(z));this.itemSvc.updater.updateItemMetadata(e,b[0].Entity.Metadata),this.#o.set(!0),g.end("updated note")}),i.end("started note-loading")}static#m=this.\u0275fac=function(n){return new(n||a)(t.rXU(G.b),t.rXU(vt),t.rXU(d.h),t.rXU(t.c1b))};static#h=this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-entity-form"]],viewQuery:function(n,i){if(1&n&&(t.GBs(iv,5,t.aKT),t.GBs(av,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.noteTriggerRef=r.first),t.mGM(r=t.lsd())&&(i.noteTemplateRef=r.first)}},inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},decls:21,vars:13,consts:[["noteTemplate",""],["noteTrigger",""],["appearance","raised",1,"eav-card-group-parent","shadow-bottom-z-1"],[1,"my-title-bar-outer","eav-card-header-group-parent"],[1,"my-title-bar","eav-card-title-group","mat-headline-4",3,"click"],[1,"title-arrow"],[1,"title"],["type","button","mat-icon-button","",3,"class","disabled","tippyTranslate","tippyDisabled","disableRipple"],[1,"empty-slot-toggle",3,"checked","disabled","tippyTranslate","tippyDisabled"],[1,"icon-box",3,"tippy"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"disabled"],[3,"entityGuid"],[1,"eav-card-content-group-parent"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appEditControlsBuilder",""],["type","button","mat-icon-button","",3,"pointerenter","pointerleave","click","disabled","tippyTranslate","tippyDisabled","disableRipple"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"pointerdown"],["cdkDragHandle","",1,"eav-note-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"click"],[1,"eav-note-content","eav-hide-scrollbar",3,"innerHtml"],[1,"empty-slot-toggle",3,"change","checked","disabled","tippyTranslate","tippyDisabled"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"click","disabled"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"mat-card",2)(1,"div",3)(2,"div",4),t.bIt("click",function(){return s.eBV(r),s.Njj(i.toggleCollapse())}),t.j41(3,"mat-icon",5),t.EFF(4),t.k0s(),t.j41(5,"span",6),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.nVh(8,rv,4,8,"button",7),t.DNE(9,sv,13,6,"ng-template",null,0,t.C5r),t.nVh(11,ov,1,4,"mat-slide-toggle",8),t.nVh(12,lv,3,1,"div",9),t.nVh(13,cv,3,1,"button",10),t.nrm(14,"app-entity-translate-menu",11),t.k0s(),t.j41(15,"mat-card-content",12)(16,"div",13)(17,"div",14),t.nVh(18,dv,3,3,"div",15),t.j41(19,"div",16),t.nrm(20,"div",17),t.k0s()()()()()}2&n&&(t.R7$(4),t.SpI(" ",i.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),t.R7$(2),t.SpI(" ",i.ctSettings().itemTitle||t.bMT(7,11,"ItemCard.DefaultTitle")," "),t.R7$(2),t.vxM(i.ctSettings().showNotes?8:-1),t.R7$(3),t.vxM(i.ctSettings().slotCanBeEmpty?11:-1),t.R7$(),t.vxM(i.ctSettings().showMdFor&&i.itemForTooltip()?12:-1),t.R7$(),t.vxM(i.formConfig.config.enableHistory?13:-1),t.R7$(),t.Y8G("entityGuid",i.entityGuid()),t.R7$(),t.xc7("display",i.collapse?"none":"block"),t.R7$(3),t.vxM(i.ctSettings().editInstructions?18:-1),t.R7$(2),t.BMQ("data-index",i.index()))},dependencies:[gt.Hu,gt.RN,gt.m2,Qe.m_,Qe.An,It.Hl,en.M,Zn.T1,Zn.Fb,Rn.mV,Rn.sG,nv,Aa,X_,re.h,re.D9,Lt.e,Ln.$,Ul.z],styles:[".eav-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width: 600px){.eav-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.eav-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.eav-card-header-group-parent[_ngcontent-%COMP%]:not(:hover)   .no-note[_ngcontent-%COMP%]{display:none}.eav-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding:0}.eav-card-content-group-parent[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.empty-slot-toggle[_ngcontent-%COMP%]{padding-top:0}.icon-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.eav-note.item-not-saved[_ngcontent-%COMP%]{cursor:default}.eav-note[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d9ca1f}.eav-note.has-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e90000}.eav-note-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:300px;min-height:300px;max-height:400px;box-sizing:border-box;overflow:hidden;background-color:#fff79f}.eav-note-wrapper.warning[_ngcontent-%COMP%]{background-color:#ffdede}.eav-note-content[_ngcontent-%COMP%]{flex-shrink:1;overflow:auto}.eav-note-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end;cursor:move;margin-top:-16px;margin-left:-16px;margin-right:-16px;padding-top:8px;padding-left:8px;padding-right:8px}.my-title-bar-outer[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box}.my-title-bar[_ngcontent-%COMP%]{display:flex;flex:auto}"]})}return a})(),mv=(()=>{class a extends et.V{constructor(e,n,i,r){super(),this.entityFormSvc=e,this.formsStateSvc=n,this.formConfig=i,this.itemSvc=r,this.log=(0,p.Tq)({EntityFormSyncService:a})}setupSync(e){const n=this.entityFormSvc.formGroup;this.subscriptions.add(n.valueChanges.pipe((0,E.T)(()=>n.dirty),(0,ae.Z)(n.dirty)).subscribe(c=>{this.formsStateSvc.setFormDirty(e,c)}));const i=n.valueChanges.pipe((0,E.T)(()=>!n.invalid),(0,ae.Z)(!n.invalid),(0,st.J)(c=>c)),r=this.itemSvc.getItemHeader$(e);this.subscriptions.add((0,En.z)([i,r]).pipe((0,st.J)(([c,g])=>g?.IsEmpty||c)).subscribe(c=>{this.formsStateSvc.setFormValid(e,c)})),this.subscriptions.add(n.valueChanges.pipe((0,E.T)(()=>n.getRawValue()),(0,Un.F)((c,g)=>null==Ca.$.getItemValuesChanges(c,g))).subscribe(c=>{const g=this.formConfig.language();this.itemSvc.updater.updateItemAttributesValues(e,c,g)}))}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(me),s.KVO(jt),s.KVO(k.S),s.KVO(G.b))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})(),hv=(()=>{class a{constructor(e,n,i,r){this.fieldsSettingsSvc=e,this.adamCacheSvc=n,this.formBuilder=i,this.entityFormConfigSvc=r,this.log=(0,p.Tq)({FormFieldsBuilderService:a},null)}createFields(e,n,i){const r=this.log.fn("createFields"),c=i.filter(({inputType:g,hasControl:b})=>!oe.Q.isEmpty(g)&&!b);this.log.a(`create missing controls ${c.length} of ${i.length}`,{fieldsForNgForm:c});for(const g of c){const{name:b,props:z,inputType:X,value:ie}=g;let se=ie;if(X===Je.u.StringWysiwyg&&se){const qt=ve.y.singleton().get(Je.u.StringWysiwyg),Tt=this.adamCacheSvc.getAdamSnapshot(e,b);g.value=se=qt.processValueOnLoad(se,Tt)}const Fe=z.settings.uiDisabled,Ze=this.fieldsSettingsSvc,lt=new yl(b,X,Ze.settings[b],Ze.fieldProps[b],()=>Ze.pickerData),ut=Zr.getValidators(lt,X),Dt=this.formBuilder.control({disabled:Fe,value:se},ut);n.addControl(b,Dt)}this.entityFormConfigSvc.controlsCreated.set(!0),r.end()}static#e=this.\u0275fac=function(n){return new(n||a)(s.KVO(vn),s.KVO(T),s.KVO(Q.ze),s.KVO(me))};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const fv={keepFieldsAndStateInSync:!0};let gv=(()=>{class a extends et.V{constructor(){super(),this.log=(0,p.Tq)({FormFieldsSyncService:a},fv)}keepFieldsAndStateInSync(e,n){const i=this.log.fnIf("keepFieldsAndStateInSync");this.subscriptions.add(n.subscribe(r=>{const c=r.filter(X=>X.hasControl);i.a(`sync values for max ${c.length} controls`);const g=e.getRawValue(),b={};for(const{name:X,value:ie}of c)b[X]=ie;const z=Ca.$.getItemValuesChanges(g,b);null!=z?(i.a(`patching form as it changed (${Object.keys(z).length}`,{changes:z,oldValues:g,newValues:b}),e.patchValue(z)):i.a("no changes detected",{oldValues:g,newValues:b}),i.a('sync "disabled" state');for(const{control:X,props:ie}of c)di.a.disable(X,ie.settings.uiDisabled);i.a("run validators");for(const{control:X}of c)X.updateValueAndValidity()})),i.end()}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275prov=s.jDH({token:a,factory:a.\u0275fac})}return a})();const _v={all:!0,getFieldsToProcess:!1,ngOnInit:!1,fieldsToProcess$:!0};let Xo=(()=>{class a{#e;#t;#n;#i;#a;#r;#s;#o;constructor(){this.entityGuid=(0,P.hFB)(),this.index=(0,P.hFB)(),this.log=(0,p.Tq)({EntityFormBuilderComponent:a},_v),this.#e=(0,s.WQX)(me),this.#t=(0,s.WQX)(Ge.f),this.#n=(0,s.WQX)(On),this.#i=(0,s.WQX)(vn),this.#a=(0,s.WQX)(s.zZn),this.#r=(0,M.d)(hv),this.#s=(0,M.d)(gv),this.#o=(0,M.d)(mv),this.form=this.#e.formGroup}ngOnInit(){const e=this.entityGuid(),n=this.log.fnIf("ngOnInit",{entityGuid:e});this.#i.init(e),this.#t.itemSettingsServices[e]=this.#i,this.#n.init(e);const i=this.#l(e);i.pipe((0,pe.s)(1)).subscribe(r=>this.#r.createFields(e,this.form,r)),this.#s.keepFieldsAndStateInSync(this.form,i),this.#o.setupSync(e),n.end()}ngOnDestroy(){this.#i.disableForCleanUp()}#l(e){const n=this.log.fnIf("getFieldsToProcess",null,e),i=this.form,r=this.#i.allProps,g=(0,rt.br)(r,{injector:this.#a}).pipe((0,Oe.p)(b=>null!=b&&Object.keys(b).length>0),(0,E.T)(b=>{const z=Object.entries(b).map(([X,ie])=>{const se=i.controls.hasOwnProperty(X);return{name:X,props:ie,inputType:ie.constants.inputTypeSpecs.inputType,value:ie.value,hasControl:se,control:se?i.controls[X]:null}});return this.log.aIf("fieldsToProcess$",{entityGuid:e,fields:z}),z}));return n.rSilent(g)}static#c=this.\u0275fac=function(n){return new(n||a)};static#d=this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-entity-form-builder"]],inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},features:[t.Jv_([vn,On,me])],decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],[3,"entityGuid","index"]],template:function(n,i){1&n&&(t.j41(0,"form",0),t.nrm(1,"app-edit-entity-form",1),t.k0s()),2&n&&(t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("entityGuid",i.entityGuid())("index",i.index()))},dependencies:[Q.YN,Q.qT,Q.cb,Q.X1,Q.j4,pv],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"]})}return a})();class vv{static eavToDto(l){const e={};for(const n of l.Values)e[n.dimensions.map(r=>r.dimCode).join()]=n.value;return e}}class yv{static eavToDto(l){const e={};for(const[n,i]of Object.entries(l)){const r=i.Type;null==e[r]&&(e[r]={}),e[r][n]=vv.eavToDto(i)}return e}}class Vr{static eavToDto(l){const e=yv.eavToDto(l.Attributes),n=this.eavToDtoMany(l.Metadata);return{Attributes:e,Guid:l.Guid,Id:l.Id,Owner:l.Owner,Type:l.Type,Version:l.Version,For:l.For,Metadata:n}}static eavToDtoMany(l){return null==l?null:l.map(n=>Vr.eavToDto(n))}}class bv{static bundleToDto(l){return{Entity:Vr.eavToDto(l.Entity),Header:l.Header}}}var Cv=m(58275),xv=m(94065),Mv=m(51191),wv=m(45943);const kv=a=>({feature:a,showGuid:!1,showStatus:!0,showClose:!1}),Sv=(a,l)=>l.nameId;function Dv(a,l){1&a&&t.nrm(0,"app-feature-details-dialog",1)(1,"br"),2&a&&t.Y8G("specs",t.eq3(1,kv,l.$implicit))}const Tv={...p.W_,unlicensedFeatures:!1};let Ev=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({FeaturesUsedButUnlicensedComponent:a},Tv),this.#e=(0,s.WQX)(_.D),this.#t=(0,M.d)(wv.N),this.features=this.#t.getFeatureDetails(this.#e.unlicensedFeatures()),this.log.fnIf("constructor")}static#n=this.\u0275fac=function(n){return new(n||a)};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-features-used-but-unlicensed-dialog"]],decls:18,vars:0,consts:[["href","https://patrons.2sxc.org/","target","_blank"],[3,"specs"]],template:function(n,i){1&n&&(t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"Preview of Features which are not Licensed"),t.k0s()(),t.j41(4,"mat-card-content")(5,"p"),t.EFF(6," 99% of all features in 2sxc are free. But some very advanced features are only for patrons (supporters) and enterprise customers. You are permitted to try these features, but to really use them you must get a license. "),t.k0s(),t.j41(7,"p"),t.EFF(8," This message should remind you \u{1f609} of that. "),t.nrm(9,"br"),t.EFF(10," Please contact your account manager to get them licensed, or visit the "),t.j41(11,"a",0),t.EFF(12,"patrons"),t.k0s(),t.EFF(13," to learn more. "),t.k0s(),t.j41(14,"p"),t.EFF(15,"The following features are currently in preview:"),t.k0s(),t.Z7z(16,Dv,2,3,null,null,Sv),t.k0s()()),2&n&&(t.R7$(16),t.Dyx(i.features()))},dependencies:[gt.Hu,gt.RN,gt.m2,gt.MM,gt.dh,It.Hl,Qe.m_,re.h,Mv.O],encapsulation:2})}return a})();const Yr=a=>({"eav-list-item__focus":a});let Av=(()=>{class a{constructor(e,n,i){this.dialog=e,this.publishStatusService=n,this.formConfig=i,this.PublishModes=De,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.options=this.formConfig.config.versioningOptions,this.dialog.keydownEvents().subscribe(r=>{(0,ni.J)(r)&&r.preventDefault()})}setPublishMode(e){this.publishStatusService.setPublishMode(e,this.formConfig.config.formId,this.formConfig),this.closeDialog()}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.k),t.rXU(Me),t.rXU(k.S))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-publish-status-dialog"]],decls:36,vars:36,consts:[[1,"eav-card-content__no-padding"],["toggle",""],["lines","3",3,"click","disabled","ngClass"],["matListItemIcon",""],["matListItemTitle",""],["matListItemIcon","","svgIcon","draft-branch"]],template:function(n,i){1&n&&(t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"mat-card-content",0)(9,"mat-nav-list",1)(10,"mat-list-item",2),t.bIt("click",function(){return i.setPublishMode(i.PublishModes.Show)}),t.j41(11,"mat-icon",3),t.EFF(12,"visibility"),t.k0s(),t.j41(13,"span",4),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"span"),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"mat-list-item",2),t.bIt("click",function(){return i.setPublishMode(i.PublishModes.Hide)}),t.j41(20,"mat-icon",3),t.EFF(21,"visibility_off"),t.k0s(),t.j41(22,"span",4),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"span"),t.EFF(26),t.nI1(27,"translate"),t.k0s()(),t.j41(28,"mat-list-item",2),t.bIt("click",function(){return i.setPublishMode(i.PublishModes.Branch)}),t.nrm(29,"mat-icon",5),t.j41(30,"span",4),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.j41(33,"span"),t.EFF(34),t.nI1(35,"translate"),t.k0s()()()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,14,"PublishStatus.Dialog.Title")),t.R7$(3),t.JRh(t.bMT(7,16,"PublishStatus.Dialog.Intro")),t.R7$(4),t.Y8G("disabled",!0!==i.options[i.PublishModes.Show])("ngClass",t.eq3(30,Yr,i.publishMode()===i.PublishModes.Show)),t.R7$(4),t.JRh(t.bMT(15,18,"PublishStatus.Dialog.Show.Title")),t.R7$(3),t.JRh(t.bMT(18,20,"PublishStatus.Dialog.Show.Body")),t.R7$(2),t.Y8G("disabled",!0!==i.options[i.PublishModes.Hide])("ngClass",t.eq3(32,Yr,i.publishMode()===i.PublishModes.Hide)),t.R7$(4),t.JRh(t.bMT(24,22,"PublishStatus.Dialog.Hide.Title")),t.R7$(3),t.JRh(t.bMT(27,24,"PublishStatus.Dialog.Hide.Body")),t.R7$(2),t.Y8G("disabled",!0!==i.options[i.PublishModes.Branch])("ngClass",t.eq3(34,Yr,i.publishMode()===i.PublishModes.Branch)),t.R7$(3),t.JRh(t.bMT(32,26,"PublishStatus.Dialog.Branch.Title")),t.R7$(3),t.JRh(t.bMT(35,28,"PublishStatus.Dialog.Branch.Body")))},dependencies:[gt.Hu,gt.RN,gt.m2,gt.MM,gt.Lc,gt.dh,ki,ps,wi,Mi,ti,qe.YU,Qe.m_,Qe.An,re.h,re.D9],styles:[".eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}"]})}return a})();const Fv=()=>[m.e("projects_eav-ui_src_app_edit_dialog_header_language-switcher_language-switcher_component_ts").then(m.bind(m,17870)).then(a=>a.LanguageSwitcherComponent)];function Pv(a,l){if(1&a&&t.nrm(0,"app-language-switcher",9),2&a){const e=t.XpG(2);t.Y8G("disabled",e.disabled())}}function Ov(a,l){1&a&&(t.DNE(0,Pv,1,1),t.nv$(1,0,Fv),t.g25())}function Rv(a,l){if(1&a&&(t.j41(0,"mat-icon",4),t.EFF(1," lock "),t.k0s()),2&a){const e=t.XpG();t.Y8G("tippyTranslate","General.ReadOnlyHint."+e.readOnly().reason)}}function Lv(a,l){1&a&&(t.j41(0,"mat-icon",5),t.EFF(1," file_copy "),t.k0s())}function Vv(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){s.eBV(e);const i=t.XpG();return s.Njj(i.openUnlicensedDialog())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&a&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"License-EditUi-Warning-Label")," \u{1f6e1}\ufe0f "))}let Yv=(()=>{class a{#e;#t;constructor(e,n,i,r,c){this.matDialog=e,this.viewContainerRef=n,this.languageService=i,this.publishStatusService=r,this.formConfig=c,this.disabled=(0,P.hFB)(),this.closeDialog=(0,P.CGW)(),this.#e=(0,s.WQX)(jt),this.#t=(0,s.WQX)(_.D),this.config=this.formConfig.config,this.readOnly=this.#e.readOnly,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.hasLanguages=(0,Pe.EW)(()=>this.languageService.getAllSignal()().length>0),this.showLicenseWarning=this.#t.hasUnlicensedFeatures}close(){this.closeDialog.emit()}openPublishStatusDialog(){this.matDialog.open(Av,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"350px"})}openUnlicensedDialog(){!function Iv(a,l){a.open(Ev,{autoFocus:!1,viewContainerRef:l,width:"600px"})}(this.matDialog,this.viewContainerRef)}static#n=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.h),t.rXU(t.c1b),t.rXU(C.g),t.rXU(Me),t.rXU(k.S))};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-dialog-header"]],inputs:{disabled:[1,"disabled"]},outputs:{closeDialog:"closeDialog"},decls:17,vars:16,consts:[[1,"eav-header"],["mat-icon-button","",1,"eav-exit-button",3,"click","tippyTranslate"],[1,"eav-icon"],[1,"eav-languages"],[1,"eav-hint-icon",3,"tippyTranslate"],["tippyTranslate","General.CopyHint",1,"eav-hint-icon"],["mat-button","",1,"eav-publish-button",3,"click","disabled","tippyTranslate"],[1,"eav-publish-mode"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip"],[3,"disabled"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"mat-card",0)(1,"button",1),t.bIt("click",function(){return i.close()}),t.j41(2,"mat-icon",2),t.EFF(3),t.k0s()(),t.j41(4,"div",3),t.nVh(5,Ov,3,0),t.k0s(),t.nVh(6,Rv,2,1,"mat-icon",4),t.nVh(7,Lv,2,0,"mat-icon",5),t.j41(8,"button",6),t.bIt("click",function(){return i.openPublishStatusDialog()}),t.j41(9,"span",7),t.EFF(10),t.nI1(11,"translate"),t.j41(12,"b"),t.EFF(13),t.nI1(14,"translate"),t.nI1(15,"uppercase"),t.k0s()()(),t.nVh(16,Vv,3,3,"button",8),t.k0s()),2&n&&(t.R7$(),t.Y8G("tippyTranslate","Form.Buttons."+(i.config.isParentDialog?"Exit":"Return")+".Tip"),t.R7$(2),t.JRh(i.config.isParentDialog?"clear":"arrow_back"),t.R7$(2),t.vxM(i.hasLanguages()?5:-1),t.R7$(),t.vxM(i.readOnly().isReadOnly?6:-1),t.R7$(),t.vxM(i.config.isCopy?7:-1),t.R7$(),t.Y8G("disabled",i.readOnly().isReadOnly)("tippyTranslate","PublishStatus."+i.publishMode()+".Tip"),t.R7$(2),t.SpI(" ",t.bMT(11,10,"PublishStatus.Label")," "),t.R7$(3),t.JRh(t.bMT(15,14,t.bMT(14,12,"PublishStatus."+i.publishMode()))),t.R7$(3),t.vxM(i.showLicenseWarning()?16:-1))},dependencies:[gt.Hu,gt.RN,It.Hl,It.$z,en.M,Qe.m_,Qe.An,qe.Pc,re.h,re.D9,Lt.e],styles:[".eav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:var(--edit-dialog-header-height);z-index:1;box-shadow:0 2px 5px #00000042}@media (max-width: 600px){.eav-header[_ngcontent-%COMP%]{border-radius:0}}.eav-header[_ngcontent-%COMP%]   .eav-exit-button[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{scale:.6666666667}.eav-header[_ngcontent-%COMP%]   .eav-languages[_ngcontent-%COMP%]{margin-left:12px;flex-grow:1;overflow:hidden;height:100%}.eav-header[_ngcontent-%COMP%]   .eav-hint-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-header[_ngcontent-%COMP%]   .eav-publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.eav-header[_ngcontent-%COMP%]   .eav-publish-mode[_ngcontent-%COMP%]{font-weight:400}"]})}return a})();var zv=m(5057),jv=m(3140);const Ko="previous",Nv=["move-next","move-previous"];let Bv=(()=>{class a extends jv.J{constructor(e,n,i){super(),this.elementRef=e,this.languageService=n,this.formConfig=i,this.log=(0,p.Tq)({FormSlideDirective:a})}ngOnInit(){const e=this.log.fn("ngOnInit"),n=this.languageService.getAll(),i=this.elementRef.nativeElement;this.subscriptions.add((0,Vn.h)(this.formConfig.language$.pipe((0,E.T)(r=>r.current),(0,st.J)(r=>r),(0,zv.J)(),(0,E.T)(([r,c])=>{e.a("toggle",{previousLang:r,currentLang:c});const g=n.findIndex(X=>X.NameId===r),b=n.findIndex(X=>X.NameId===c),z=g>b?Ko:"next";return e.a("slide",{prevIndex:g,currentIndex:b,slide:z}),z})),(0,ue.R)(i,"animationend").pipe((0,Oe.p)(r=>void 0!==Nv.find(c=>r.animationName.endsWith(c))),(0,E.T)(()=>""),(0,te.c)(0))).subscribe(r=>{const c=i.classList;""===r?(e.a("stop-slide"),c.remove("next"),c.remove(Ko)):(e.a(`start-slide to '${r}'`),c.add(r))}))}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(t.aKT),t.rXU(C.g),t.rXU(k.S))};static#t=this.\u0275dir=t.FsC({type:a,selectors:[["","appFormSlide",""]],features:[t.Vt3]})}return a})();function Hv(a,l){if(1&a&&(t.j41(0,"div")(1,"span"),t.EFF(2),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()),2&a){const e=l.$implicit;t.R7$(2),t.JRh(e.field),t.R7$(2),t.SpI(": ",t.bMT(5,2,e.message))}}let $v=(()=>{class a{constructor(e){this.snackBarData=e}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(Re.ht))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-snack-bar-save-errors"]],decls:7,vars:3,consts:[[1,"save-errors-container"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.nrm(4,"br"),t.Z7z(5,Hv,6,4,"div",null,t.fX1),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Errors.SaveErrors")),t.R7$(3),t.Dyx(i.snackBarData.fieldErrors))},dependencies:[re.h,re.D9],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"]})}return a})(),Gv=(()=>{class a{constructor(e,n){this.snackRef=e,this.snackBarData=n}saveChanges(e){this.snackBarData.save=e,this.snackRef.dismissWithAction()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(Re.TQ),t.rXU(Re.ht))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-snack-bar-unsaved-changes"]],decls:12,vars:13,consts:[[1,"error-message"],[1,"my-flex-right"],["mat-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"span",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",1)(4,"button",2),t.bIt("click",function(){return i.saveChanges(!1)}),t.EFF(5),t.nI1(6,"translate"),t.nI1(7,"uppercase"),t.k0s(),t.j41(8,"button",2),t.bIt("click",function(){return i.saveChanges(!0)}),t.EFF(9),t.nI1(10,"translate"),t.nI1(11,"uppercase"),t.k0s()()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,3,"Errors.UnsavedChanges"),"\n"),t.R7$(4),t.SpI(" ",t.bMT(7,7,t.bMT(6,5,"General.Buttons.NotSave"))," "),t.R7$(4),t.SpI(" ",t.bMT(11,11,t.bMT(10,9,"General.Buttons.Save"))," "))},dependencies:[It.Hl,It.$z,qe.Pc,re.h,re.D9],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}.my-flex-right[_ngcontent-%COMP%]{display:flex;justify-content:end}"]})}return a})();const Uv=()=>[d.M,m.e("projects_eav-ui_src_app_edit_dialog_footer_edit-dialog-footer_component_ts").then(m.bind(m,86054)).then(a=>a.EditDialogFooterComponent)],Wv=a=>({"u-display-none":a}),Xv=(a,l,e,n)=>({"debug-enabled":a,"debug-info-is-open":l,"footer-xl":e,"hide-header-height-fix":n}),Jo=a=>({"appear-disabled":a}),Qv=(a,l)=>l.Entity.Guid;function Kv(a,l){if(1&a&&(t.j41(0,"div"),t.nrm(1,"app-edit-entity-form-builder",8),t.k0s()),2&a){const e=l.$implicit,n=l.$index;t.R7$(),t.Y8G("entityGuid",e.Entity.Guid)("index",n)}}function Jv(a,l){if(1&a&&(t.j41(0,"div",7),t.Z7z(1,Kv,2,2,"div",null,Qv),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Dyx(e.items())}}function Zv(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){s.eBV(e);const i=t.XpG(2);return s.Njj(i.saveAll(!0))}),t.j41(1,"mat-icon"),t.EFF(2,"done"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}if(2&a){const e=t.XpG(2);t.Y8G("ngClass",t.eq3(4,Jo,e.saveDisabled())),t.R7$(4),t.JRh(t.bMT(5,2,"Form.Buttons."+(e.enableSave?"SaveAndClose":"Done")))}}function qv(a,l){if(1&a){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){s.eBV(e);const i=t.XpG(3);return s.Njj(i.saveAll(!1))}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"mat-icon"),t.EFF(5,"save"),t.k0s()()}if(2&a){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(4,Jo,e.saveDisabled())),t.R7$(2),t.JRh(t.bMT(3,2,"Form.Buttons.Save"))}}function ey(a,l){1&a&&t.DNE(0,qv,6,6,"ng-template",10)}function ty(a,l){if(1&a&&(t.j41(0,"extended-fab-speed-dial"),t.DNE(1,Zv,6,6,"ng-template",9),t.nVh(2,ey,1,0,null,10),t.k0s()),2&a){const e=t.XpG();t.R7$(2),t.vxM(e.enableSave?2:-1)}}function ny(a,l){if(1&a&&t.nrm(0,"app-edit-dialog-footer",13),2&a){const e=t.XpG(2);t.xc7("display",e.footerShow()?"block":"none")}}function iy(a,l){1&a&&(t.DNE(0,ny,1,2),t.nv$(1,0,Uv),t.g25())}const ay={all:!1,constructor:!0,saveAll:!0};let ry=(()=>{class a extends Ce.${#e;#t;#n;#i;#a;#r;constructor(e,n,i,r,c,g,b,z,X,ie,se,Fe,Ze,lt,ut,Dt){super(),this.dialog=e,this.contentTypeItemService=n,this.contentTypeService=i,this.inputTypeService=r,this.itemService=c,this.languageService=g,this.languageStore=b,this.snackBar=z,this.translate=X,this.editRoutingService=ie,this.publishStatusService=se,this.formsStateService=Fe,this.adamCacheService=Ze,this.linkCacheService=lt,this.formulaDesignerService=ut,this.log=(0,p.Tq)({EditDialogMainComponent:a},ay),this.#e=(0,s.WQX)(ee.B),this.#t=(0,s.WQX)(k.S),this.enableSave=this.#t.config.save.mode,this.#n=(0,s.WQX)(Mt.i).part(xv.K),this.footerSize=(0,Pe.EW)(()=>this.#n.data().size),this.#i=(0,M.d)(U),this.#a=(0,M.d)(xe),this.#r=(0,M.d)(me),this.router=(0,s.WQX)(D.Ix),this.route=(0,s.WQX)(D.nX),this.viewInitiated=(0,s.vPA)(!1),this.isReturnValueMode=!1,this.items=this.itemService.getManySignal(this.#t.config.itemGuids),this.formsValid=this.formsStateService.formsValidTemp,this.saveDisabled=(0,Pe.EW)(()=>this.#r.isSaving()||this.formsStateService.saveButtonDisabled()),this.hideHeader=this.languageStore.getHideHeaderSignal(this.#t.config.formId),this.footerShow=(0,Pe.EW)(()=>this.#e.isDebug()?(this.#o=!0,!0):!this.#o&&this.#n.data().pinned),this.footerShowOnceOrMore=(0,le.tD)(zt=>zt||this.footerShow(),!1),this.#o=!1,this.delayForm=(0,rt.ot)((0,pt.of)(!1).pipe((0,te.c)(0),(0,ae.Z)(!0))),this.log.fnIf("constructor"),this.dialog.disableClose=!0,this.isReturnValueMode=Dt?.returnValue;const Tt=this.#n;null==Tt.data().pinned&&Tt.set("pinned",this.#t.config.dialogContext.User?.IsSystemAdmin??!1),(0,Pe.QZ)(()=>{const zt=this.formsStateService.triggerTrySaveAndMaybeClose();zt.tryToSave&&(0,Pe.O8)(()=>this.saveAll(zt.close))})}#s;#o;ngOnInit(){this.editRoutingService.init(),this.#i.load(),this.formulaDesignerService.cache.init(),this.#c(),this.#d()}ngAfterViewInit(){setTimeout(()=>this.viewInitiated.set(!0))}ngOnDestroy(){this.languageStore.remove(this.#t.config.formId),this.publishStatusService.remove(this.#t.config.formId),this.#t.config.isParentDialog&&(this.languageStore.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.contentTypeItemService.clearCache(),this.contentTypeService.clearCache(),this.publishStatusService.clearCache(),this.adamCacheService.clearCache(),this.linkCacheService.clearCache()),super.ngOnDestroy()}closeDialog(e){return e?this.dialog.close(this.#t.config.createMode?this.#s:void 0):!this.formsStateService.readOnly().isReadOnly&&this.formsStateService.formsAreDirty()?this.#u():void this.dialog.close(this.#t.config.createMode?this.#s:void 0)}saveAll(e){this.#r.isSaving.set(!0);const n=this.log.fnIf("saveAll",{close:e});if(this.formsStateService.formsAreValid()){if(!1===this.#t.config.save.mode)return n.a("No save mode, just closing dialog"),void this.dialog.close();if(this.isReturnValueMode){const b={objData:this.#l(z=>Wo.U.eavToObj(z))[0]};return n.a("Returning wrapped data:",{wrappedData:b}),void this.dialog.close(b)}const i=this.#l(g=>bv.bundleToDto(g)),r=this.publishStatusService.get(this.#t.config.formId),c={Items:i,IsPublished:r.IsPublished,DraftShouldBranch:r.DraftShouldBranch};n.a("SAVE FORM DATA:",{saveFormData:c}),this.snackBar.open(this.translate.instant("Message.Saving"),null,{duration:2e3}),this.#a.saveFormData(c,this.#t.config.partOfPage).subscribe({next:g=>{n.a("SAVED!, result:",{result:g,close:e}),this.itemService.updater.updateItemId(g),this.snackBar.open(this.translate.instant("Message.Saved"),null,{duration:2e3}),this.formsStateService.formsAreDirty.set(!1),this.#s=g,e&&this.closeDialog(),setTimeout(()=>this.#r.isSaving.set(!1),500)},error:g=>{n.a("SAVE FAILED:",g),this.snackBar.open("Error",null,{duration:2e3}),this.#r.isSaving.set(!1)}})}else{if(this.#r.isSaving.set(!1),null==this.formBuilderRefs)return;const i=[];this.formBuilderRefs.forEach(c=>{c.form.invalid&&i.push(Cv.n.validateForm(c.form))});const r=[];i.forEach(c=>{Object.keys(c).forEach(g=>{r.push({field:g,message:c[g]})})}),this.snackBar.openFromComponent($v,{data:{fieldErrors:r},duration:5e3})}}#l(e){return this.formBuilderRefs.map(n=>{const i=this.itemService.get(n.entityGuid());if(!this.formsStateService.getFormValid(i.Entity.Guid))return null;const c=Object.keys(i.Entity.Attributes).length>0,b=this.contentTypeService.getContentTypeOfItem(i).Metadata.some(z=>"SaveEmptyDecorator"===z.Type.Name);return c||b?e(i):null}).filter(n=>null!=n)}#c(){this.subscriptions.add((0,ue.R)(window,"beforeunload").subscribe(e=>{this.formsStateService.readOnly().isReadOnly||!this.formsStateService.formsAreDirty()||(e.preventDefault(),e.returnValue="",this.#u())})),this.subscriptions.add(this.dialog.backdropClick().subscribe(e=>this.closeDialog()))}#d(){this.dialog.keydownEvents().subscribe(e=>{if((0,ni.K)(e))return this.closeDialog();(0,ni.J)(e)&&(e.preventDefault(),!this.formsStateService.readOnly().isReadOnly&&!this.#r.isSaving()&&this.saveAll(e.altKey))})}#u(){const e=this.snackBar.openFromComponent(Gv,{data:{save:!1},duration:5e3});e.onAction().subscribe(()=>{if(e.containerInstance.snackBarConfig.data.save)return this.saveAll(!0);this.closeDialog(!0)})}static#m=this.\u0275fac=function(n){return new(n||a)(t.rXU(d.k),t.rXU(H.k),t.rXU(W.n),t.rXU(A.A),t.rXU(G.b),t.rXU(C.g),t.rXU(He.A),t.rXU(Re.UG),t.rXU(re.c$),t.rXU(vt),t.rXU(Me),t.rXU(jt),t.rXU(T),t.rXU(R),t.rXU(Ge.f),t.rXU(d.e))};static#h=this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-dialog-main"]],viewQuery:function(n,i){if(1&n&&t.GBs(Xo,5),2&n){let r;t.mGM(r=t.lsd())&&(i.formBuilderRefs=r)}},features:[t.Jv_([vt,jt,Ge.f,_r]),t.Vt3],decls:10,vars:13,consts:[["mat-dialog__container","","appToggleDebug","",2,"position","relative"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"closeDialog","disabled"],[2,"position","relative"],["mat-mdc-dialog-content","","cdkScrollable","",1,"eav-dialog-content","u-hide-scrollbar",3,"ngClass"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["appFormSlide","",1,"eav-layout-grid__cell--span-12"],[3,"entityGuid","index"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click","ngClass"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"],["mat-dialog-actions",""]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"app-edit-dialog-header",2),t.bIt("closeDialog",function(){return i.closeDialog()}),t.k0s()(),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nVh(7,Jv,3,0,"div",7),t.k0s()()(),t.nVh(8,ty,3,1,"extended-fab-speed-dial"),t.k0s(),t.nVh(9,iy,3,0),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngClass",t.eq3(6,Wv,i.hideHeader())),t.R7$(),t.Y8G("disabled",!i.formsValid()),t.R7$(2),t.Y8G("ngClass",t.ziG(8,Xv,i.footerShow(),i.footerShow()&&i.footerSize(),i.footerShow()&&2==i.footerSize(),i.hideHeader())),t.R7$(3),t.vxM(i.delayForm()?-1:7),t.R7$(),t.vxM(i.viewInitiated()?8:-1),t.R7$(),t.vxM(i.footerShowOnceOrMore()?9:-1))},dependencies:[d.M,qe.YU,Yv,ht.uv,Bv,Xo,nt.M,Yn.M,Qe.m_,Qe.An,re.h,re.D9,Ho,$o,Fr,Or,Pr,Ue.V],styles:["@keyframes _ngcontent-%COMP%_move-next{0%{transform:translate(0)}49%{transform:translate(-800px);animation-timing-function:step-end}50%{transform:translate(800px);animation-timing-function:ease-out}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_move-previous{0%{transform:translate(0)}49%{transform:translate(800px);animation-timing-function:step-end}50%{transform:translate(-800px);animation-timing-function:ease-out}to{transform:translate(0)}}.next[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-next}.previous[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-previous}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.eav-dialog-content[_ngcontent-%COMP%]{--edit-content-max-height: var(--edit-content-max-height-no-margins);--edit-footer-height: 0px;--edit-margins-vertical: var(--edit-dialog-margins-vertical);--edit-safari-fix: 0px;margin:0;padding:0;max-height:calc(var(--edit-content-max-height) - var(--edit-footer-height) - var(--edit-margins-vertical) + var(--edit-safari-fix));background-color:#0000000f}@media (max-width: 600px){.eav-dialog-content[_ngcontent-%COMP%]{--edit-margins-vertical: 0px}}.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{--edit-safari-fix: var(--edit-dialog-header-height)}.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{--edit-footer-height: var(--edit-footer-bar-height)}.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total))}.eav-dialog-content.debug-enabled.debug-info-is-open.footer-xl[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total) + var(--edit-footer-container-height))}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.eav-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width: 600px){.eav-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"]})}return a})();function sy(a,l){1&a&&t.nrm(0,"app-edit-dialog-main")}let oy=(()=>{class a{constructor(e){this.log=(0,p.Tq)({EditEntryComponent:a}),this.editInitializerService=(0,M.d)(Ne),this.log.aIf("constructor")}ngOnInit(){this.editInitializerService.fetchFormData()}static#e=this.\u0275fac=function(n){return new(n||a)(t.rXU(_.D))};static#t=this.\u0275cmp=t.VBU({type:a,selectors:[["app-edit-entry"]],features:[t.Jv_([Ae.J,_.D,o.o,k.S,mt,ne])],decls:2,vars:1,template:function(n,i){1&n&&(t.nrm(0,"router-outlet"),t.nVh(1,sy,1,0,"app-edit-dialog-main")),2&n&&(t.R7$(),t.vxM(i.editInitializerService.loaded()?1:-1))},dependencies:[D.n3,ry],encapsulation:2})}return a})()},22256:()=>{var ge,_e;_e=ge||(ge={}),function(){var D="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function s(){return function p(){try{return Function("return this;")()}catch{}}()||function o(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),M=_(_e);function _(d,u){return function(h,f){Object.defineProperty(d,h,{configurable:!0,writable:!0,value:f}),u&&u(h,f)}}typeof D.Reflect<"u"&&(M=_(D.Reflect,M)),function(m,D){var M=Object.prototype.hasOwnProperty,_="function"==typeof Symbol,p=_&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=_&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,d={__proto__:[]}instanceof Array,u=!s&&!d,h={create:s?function(){return pt(Object.create(null))}:d?function(){return pt({__proto__:null})}:function(){return pt({})},has:u?function(te,ae){return M.call(te,ae)}:function(te,ae){return ae in te},get:u?function(te,ae){return M.call(te,ae)?te[ae]:void 0}:function(te,ae){return te[ae]}},f=Object.getPrototypeOf(Function),v="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function rt(){var te={},ae=[],ue=function(){function ct(Xe,We,Se){this._index=0,this._keys=Xe,this._values=We,this._selector=Se}return ct.prototype["@@iterator"]=function(){return this},ct.prototype[o]=function(){return this},ct.prototype.next=function(){var Xe=this._index;if(Xe>=0&&Xe<this._keys.length){var We=this._selector(this._keys[Xe],this._values[Xe]);return Xe+1>=this._keys.length?(this._index=-1,this._keys=ae,this._values=ae):this._index++,{value:We,done:!1}}return{value:void 0,done:!0}},ct.prototype.throw=function(Xe){throw this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),Xe},ct.prototype.return=function(Xe){return this._index>=0&&(this._index=-1,this._keys=ae,this._values=ae),{value:Xe,done:!0}},ct}();return function(){function ct(){this._keys=[],this._values=[],this._cacheKey=te,this._cacheIndex=-2}return Object.defineProperty(ct.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ct.prototype.has=function(Xe){return this._find(Xe,!1)>=0},ct.prototype.get=function(Xe){var We=this._find(Xe,!1);return We>=0?this._values[We]:void 0},ct.prototype.set=function(Xe,We){var Se=this._find(Xe,!0);return this._values[Se]=We,this},ct.prototype.delete=function(Xe){var We=this._find(Xe,!1);if(We>=0){for(var Se=this._keys.length,tt=We+1;tt<Se;tt++)this._keys[tt-1]=this._keys[tt],this._values[tt-1]=this._values[tt];return this._keys.length--,this._values.length--,re(Xe,this._cacheKey)&&(this._cacheKey=te,this._cacheIndex=-2),!0}return!1},ct.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=te,this._cacheIndex=-2},ct.prototype.keys=function(){return new ue(this._keys,this._values,Ue)},ct.prototype.values=function(){return new ue(this._keys,this._values,le)},ct.prototype.entries=function(){return new ue(this._keys,this._values,Mt)},ct.prototype["@@iterator"]=function(){return this.entries()},ct.prototype[o]=function(){return this.entries()},ct.prototype._find=function(Xe,We){if(!re(this._cacheKey,Xe)){this._cacheIndex=-1;for(var Se=0;Se<this._keys.length;Se++)if(re(this._keys[Se],Xe)){this._cacheIndex=Se;break}}return this._cacheIndex<0&&We&&(this._cacheIndex=this._keys.length,this._keys.push(Xe),this._values.push(void 0)),this._cacheIndex},ct}();function Ue(ct,Xe){return ct}function le(ct,Xe){return Xe}function Mt(ct,Xe){return[ct,Xe]}}(),y="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function nt(){return function(){function ae(){this._map=new v}return Object.defineProperty(ae.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ae.prototype.has=function(ue){return this._map.has(ue)},ae.prototype.add=function(ue){return this._map.set(ue,ue),this},ae.prototype.delete=function(ue){return this._map.delete(ue)},ae.prototype.clear=function(){this._map.clear()},ae.prototype.keys=function(){return this._map.keys()},ae.prototype.values=function(){return this._map.keys()},ae.prototype.entries=function(){return this._map.entries()},ae.prototype["@@iterator"]=function(){return this.keys()},ae.prototype[o]=function(){return this.keys()},ae}()}(),C="function"==typeof WeakMap?WeakMap:function Qe(){var ae=h.create(),ue=Ce();return function(){function Xe(){this._key=Ce()}return Xe.prototype.has=function(We){var Se=Ue(We,!1);return void 0!==Se&&h.has(Se,this._key)},Xe.prototype.get=function(We){var Se=Ue(We,!1);return void 0!==Se?h.get(Se,this._key):void 0},Xe.prototype.set=function(We,Se){return Ue(We,!0)[this._key]=Se,this},Xe.prototype.delete=function(We){var Se=Ue(We,!1);return void 0!==Se&&delete Se[this._key]},Xe.prototype.clear=function(){this._key=Ce()},Xe}();function Ce(){var Xe;do{Xe="@@WeakMap@@"+ct()}while(h.has(ae,Xe));return ae[Xe]=!0,Xe}function Ue(Xe,We){if(!M.call(Xe,ue)){if(!We)return;Object.defineProperty(Xe,ue,{value:h.create()})}return Xe[ue]}function le(Xe,We){for(var Se=0;Se<We;++Se)Xe[Se]=255*Math.random()|0;return Xe}function ct(){var Xe=function Mt(Xe){if("function"==typeof Uint8Array){var We=new Uint8Array(Xe);return typeof crypto<"u"?crypto.getRandomValues(We):typeof msCrypto<"u"?msCrypto.getRandomValues(We):le(We,Xe),We}return le(new Array(Xe),Xe)}(16);Xe[6]=79&Xe[6]|64,Xe[8]=191&Xe[8]|128;for(var We="",Se=0;Se<16;++Se){var tt=Xe[Se];(4===Se||6===Se||8===Se)&&(We+="-"),tt<16&&(We+="0"),We+=tt.toString(16).toLowerCase()}return We}}(),I=_?Symbol.for("@reflect-metadata:registry"):void 0,T=function mt(){var te;return!De(I)&&$(D.Reflect)&&Object.isExtensible(D.Reflect)&&(te=D.Reflect[I]),De(te)&&(te=function $e(){var te;!De(I)&&typeof D.Reflect<"u"&&!(I in D.Reflect)&&"function"==typeof D.Reflect.defineMetadata&&(te=function qe(te){var ae=te.defineMetadata,ue=te.hasOwnMetadata,Ce=te.getOwnMetadata,Ue=te.getOwnMetadataKeys,le=te.deleteMetadata,Mt=new C;return{isProviderFor:function(Xe,We){var Se=Mt.get(Xe);return!(De(Se)||!Se.has(We))||!!Ue(Xe,We).length&&(De(Se)&&(Se=new y,Mt.set(Xe,Se)),Se.add(We),!0)},OrdinaryDefineOwnMetadata:ae,OrdinaryHasOwnMetadata:ue,OrdinaryGetOwnMetadata:Ce,OrdinaryOwnMetadataKeys:Ue,OrdinaryDeleteMetadata:le}}(D.Reflect));var ae,ue,Ce,Ue=new C,le={registerProvider:Mt,getProvider:Xe,setProvider:Se};return le;function Mt(tt){if(!Object.isExtensible(le))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case te===tt:break;case De(ae):ae=tt;break;case ae===tt:break;case De(ue):ue=tt;break;case ue===tt:break;default:void 0===Ce&&(Ce=new y),Ce.add(tt)}}function ct(tt,ft){if(!De(ae)){if(ae.isProviderFor(tt,ft))return ae;if(!De(ue)){if(ue.isProviderFor(tt,ft))return ae;if(!De(Ce))for(var yt=ze(Ce);;){var bt=Ae(yt);if(!bt)return;var Yt=Ne(bt);if(Yt.isProviderFor(tt,ft))return ce(yt),Yt}}}if(!De(te)&&te.isProviderFor(tt,ft))return te}function Xe(tt,ft){var bt,yt=Ue.get(tt);return De(yt)||(bt=yt.get(ft)),De(bt)&&(De(bt=ct(tt,ft))||(De(yt)&&(yt=new v,Ue.set(tt,yt)),yt.set(ft,bt))),bt}function We(tt){if(De(tt))throw new TypeError;return ae===tt||ue===tt||!De(Ce)&&Ce.has(tt)}function Se(tt,ft,yt){if(!We(yt))throw new Error("Metadata provider not registered.");var bt=Xe(tt,ft);if(bt!==yt){if(!De(bt))return!1;var Yt=Ue.get(tt);De(Yt)&&(Yt=new v,Ue.set(tt,Yt)),Yt.set(ft,yt)}return!0}}()),!De(I)&&$(D.Reflect)&&Object.isExtensible(D.Reflect)&&Object.defineProperty(D.Reflect,I,{enumerable:!1,configurable:!1,writable:!1,value:te}),te}(),R=function ht(te){var ae=new C,ue={isProviderFor:function(We,Se){var tt=ae.get(We);return!De(tt)&&tt.has(Se)},OrdinaryDefineOwnMetadata:function Mt(We,Se,tt,ft){Ce(tt,ft,!0).set(We,Se)},OrdinaryHasOwnMetadata:function Ue(We,Se,tt){var ft=Ce(Se,tt,!1);return!De(ft)&&ve(ft.has(We))},OrdinaryGetOwnMetadata:function le(We,Se,tt){var ft=Ce(Se,tt,!1);if(!De(ft))return ft.get(We)},OrdinaryOwnMetadataKeys:function ct(We,Se){var tt=[],ft=Ce(We,Se,!1);if(De(ft))return tt;for(var bt=ze(ft.keys()),Yt=0;;){var Qt=Ae(bt);if(!Qt)return tt.length=Yt,tt;var Wt=Ne(Qt);try{tt[Yt]=Wt}catch(Ht){try{ce(bt)}finally{throw Ht}}Yt++}},OrdinaryDeleteMetadata:function Xe(We,Se,tt){var ft=Ce(Se,tt,!1);if(De(ft)||!ft.delete(We))return!1;if(0===ft.size){var yt=ae.get(Se);De(yt)||(yt.delete(tt),0===yt.size&&ae.delete(yt))}return!0}};return T.registerProvider(ue),ue;function Ce(We,Se,tt){var ft=ae.get(We),yt=!1;if(De(ft)){if(!tt)return;ft=new v,ae.set(We,ft),yt=!0}var bt=ft.get(Se);if(De(bt)){if(!tt)return;if(bt=new v,ft.set(Se,bt),!te.setProvider(We,Se,ue))throw ft.delete(Se),yt&&ae.delete(We),new Error("Wrong provider for target.")}return bt}}(T);function j(te,ae,ue){if(ee(te,ae,ue))return!0;var Ue=Le(ae);return!Me(Ue)&&j(te,Ue,ue)}function ee(te,ae,ue){var Ce=Pe(ae,ue,!1);return!De(Ce)&&ve(Ce.OrdinaryHasOwnMetadata(te,ae,ue))}function q(te,ae,ue){if(ee(te,ae,ue))return de(te,ae,ue);var Ue=Le(ae);return Me(Ue)?void 0:q(te,Ue,ue)}function de(te,ae,ue){var Ce=Pe(ae,ue,!1);if(!De(Ce))return Ce.OrdinaryGetOwnMetadata(te,ae,ue)}function we(te,ae,ue,Ce){Pe(ue,Ce,!0).OrdinaryDefineOwnMetadata(te,ae,ue,Ce)}function xe(te,ae){var ue=He(te,ae),Ce=Le(te);if(null===Ce)return ue;var Ue=xe(Ce,ae);if(Ue.length<=0)return ue;if(ue.length<=0)return Ue;for(var le=new y,Mt=[],ct=0,Xe=ue;ct<Xe.length;ct++)le.has(We=Xe[ct])||(le.add(We),Mt.push(We));for(var tt=0,ft=Ue;tt<ft.length;tt++){var We;le.has(We=ft[tt])||(le.add(We),Mt.push(We))}return Mt}function He(te,ae){var ue=Pe(te,ae,!1);return ue?ue.OrdinaryOwnMetadataKeys(te,ae):[]}function Te(te){if(null===te)return 1;switch(typeof te){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===te?1:6;default:return 6}}function De(te){return void 0===te}function Me(te){return null===te}function $(te){return"object"==typeof te?null!==te:"function"==typeof te}function ne(te,ae){switch(Te(te)){case 0:case 1:case 2:case 3:case 4:case 5:return te}var ue=3===ae?"string":5===ae?"number":"default",Ce=Re(te,p);if(void 0!==Ce){var Ue=Ce.call(te,ue);if($(Ue))throw new TypeError;return Ue}return function oe(te,ae){if("string"===ae){var ue=te.toString;if(Ke(ue)&&!$(Ce=ue.call(te)))return Ce;if(Ke(Ue=te.valueOf)&&!$(Ce=Ue.call(te)))return Ce}else{var Ue;if(Ke(Ue=te.valueOf)&&!$(Ce=Ue.call(te)))return Ce;var Ce,le=te.toString;if(Ke(le)&&!$(Ce=le.call(te)))return Ce}throw new TypeError}(te,"default"===ue?"number":ue)}function ve(te){return!!te}function he(te){var ae=ne(te,3);return function Be(te){return"symbol"==typeof te}(ae)?ae:function be(te){return""+te}(ae)}function Ie(te){return Array.isArray?Array.isArray(te):te instanceof Object?te instanceof Array:"[object Array]"===Object.prototype.toString.call(te)}function Ke(te){return"function"==typeof te}function ye(te){return"function"==typeof te}function re(te,ae){return te===ae||te!=te&&ae!=ae}function Re(te,ae){var ue=te[ae];if(null!=ue){if(!Ke(ue))throw new TypeError;return ue}}function ze(te){var ae=Re(te,o);if(!Ke(ae))throw new TypeError;var ue=ae.call(te);if(!$(ue))throw new TypeError;return ue}function Ne(te){return te.value}function Ae(te){var ae=te.next();return!ae.done&&ae}function ce(te){var ae=te.return;ae&&ae.call(te)}function Le(te){var ae=Object.getPrototypeOf(te);if("function"!=typeof te||te===f||ae!==f)return ae;var ue=te.prototype,Ce=ue&&Object.getPrototypeOf(ue);if(null==Ce||Ce===Object.prototype)return ae;var Ue=Ce.constructor;return"function"!=typeof Ue||Ue===te?ae:Ue}function Pe(te,ae,ue){var Ce=T.getProvider(te,ae);if(!De(Ce))return Ce;if(ue){if(T.setProvider(te,ae,R))return R;throw new Error("Illegal state.")}}function pt(te){return te.__=void 0,delete te.__,te}m("decorate",function H(te,ae,ue,Ce){if(De(ue)){if(!Ie(te))throw new TypeError;if(!ye(ae))throw new TypeError;return function E(te,ae){for(var ue=te.length-1;ue>=0;--ue){var Ue=(0,te[ue])(ae);if(!De(Ue)&&!Me(Ue)){if(!ye(Ue))throw new TypeError;ae=Ue}}return ae}(te,ae)}if(!Ie(te))throw new TypeError;if(!$(ae))throw new TypeError;if(!$(Ce)&&!De(Ce)&&!Me(Ce))throw new TypeError;return Me(Ce)&&(Ce=void 0),function Y(te,ae,ue,Ce){for(var Ue=te.length-1;Ue>=0;--Ue){var Mt=(0,te[Ue])(ae,ue,Ce);if(!De(Mt)&&!Me(Mt)){if(!$(Mt))throw new TypeError;Ce=Mt}}return Ce}(te,ae,ue=he(ue),Ce)}),m("metadata",function W(te,ae){return function ue(Ce,Ue){if(!$(Ce))throw new TypeError;if(!De(Ue)&&!function Ee(te){switch(Te(te)){case 3:case 4:return!0;default:return!1}}(Ue))throw new TypeError;we(te,ae,Ce,Ue)}}),m("defineMetadata",function A(te,ae,ue,Ce){if(!$(ue))throw new TypeError;return De(Ce)||(Ce=he(Ce)),we(te,ae,ue,Ce)}),m("hasMetadata",function O(te,ae,ue){if(!$(ae))throw new TypeError;return De(ue)||(ue=he(ue)),j(te,ae,ue)}),m("hasOwnMetadata",function V(te,ae,ue){if(!$(ae))throw new TypeError;return De(ue)||(ue=he(ue)),ee(te,ae,ue)}),m("getMetadata",function G(te,ae,ue){if(!$(ae))throw new TypeError;return De(ue)||(ue=he(ue)),q(te,ae,ue)}),m("getOwnMetadata",function N(te,ae,ue){if(!$(ae))throw new TypeError;return De(ue)||(ue=he(ue)),de(te,ae,ue)}),m("getMetadataKeys",function L(te,ae){if(!$(te))throw new TypeError;return De(ae)||(ae=he(ae)),xe(te,ae)}),m("getOwnMetadataKeys",function w(te,ae){if(!$(te))throw new TypeError;return De(ae)||(ae=he(ae)),He(te,ae)}),m("deleteMetadata",function k(te,ae,ue){if(!$(ae))throw new TypeError;if(De(ue)||(ue=he(ue)),!$(ae))throw new TypeError;De(ue)||(ue=he(ue));var Ce=Pe(ae,ue,!1);return!De(Ce)&&Ce.OrdinaryDeleteMetadata(te,ae,ue)})}(M,D),typeof D.Reflect>"u"&&(D.Reflect=_e)}()},22490:(ge,_e,m)=>{"use strict";m.d(_e,{S:()=>o});var D=m(34435),M=m(36740),_=m(44031);const p={all:!1,constructor:!0,update:!0,fields:[...M.z,"Icon"]};class o{get log(){return this.#e??=(0,D.Tq)({FieldLogicBase:o},p).extendName(`[${this.name}]`)}#e;constructor(d,u){this.canAutoTranslate=!1,this.#e=(0,D.Tq)(d??{FieldLogicBase:o},p,null,u),this.name??=this.#e.name,this.log.fnIf("constructor")}static add(d){const u=new d;_.y.singleton().add(u)}static importMe(){}isValueEmpty(d,u){const h=this.log.fn("isValueEmpty",{value:d,isCreateMode:u}),f=Array.isArray(d)&&0===d.length&&u;return h.r(void 0===d||f)}findAndMergeAdvanced(d,u,h){if(!u)return h;const f=d.eavConfig.settings.Entities.find(y=>y.Guid===u);if(!f)return h;const v=d.reader.flatten(f);return{...h,...v}}}},24867:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D);function p(d){return d>1&&d<5&&1!=~~(d/10)}function o(d,u,h,f){var v=d+" ";switch(h){case"s":return u||f?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return u?"min\xfata":f?"min\xfatu":"min\xfatou";case"mm":return u||f?v+(p(d)?"min\xfaty":"min\xfat"):v+"min\xfatami";case"h":return u?"hodina":f?"hodinu":"hodinou";case"hh":return u||f?v+(p(d)?"hodiny":"hod\xedn"):v+"hodinami";case"d":return u||f?"de\u0148":"d\u0148om";case"dd":return u||f?v+(p(d)?"dni":"dn\xed"):v+"d\u0148ami";case"M":return u||f?"mesiac":"mesiacom";case"MM":return u||f?v+(p(d)?"mesiace":"mesiacov"):v+"mesiacmi";case"y":return u||f?"rok":"rokom";case"yy":return u||f?v+(p(d)?"roky":"rokov"):v+"rokmi"}}var s={name:"sk",weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),months:"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(d){return d+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return _.default.locale(s,null,!0),s}(m(49645))},26001:(ge,_e,m)=>{"use strict";m.d(_e,{A:()=>o});var D=m(51612),M=m(34435),_=m(16632),p=m(44444);let o=(()=>{class s extends _.r{constructor(){super((0,M.Tq)({InputTypeService:s},null)),this.getId=u=>u.Type}getAttributeInputTypes(u){const h=this.getAll();return u.map(f=>{const v=this.#e(f.InputType,h);return{name:f.Name,inputType:v.inputType}})}getSpecs(u){return this.#e(u.InputType,this.getAll())}#e(u,h){const f=h.find(C=>C.Type===u),v=u.toString();return{inputType:u,isExternal:!!f?.AngularAssets,mustUseGuid:!v.startsWith("string")&&!v.startsWith("number"),componentTagName:`field-${u}`,componentTagDialogName:`field-${u}-dialog`,metadata:f,isNewPicker:D.Q.isNewPicker(u)}}#t(u,h){const f=h.find(I=>I.Type===u.InputType),v=u.InputType,y=v.toString();return{inputType:v,isExternal:!!f?.AngularAssets,mustUseGuid:!y.startsWith("string")&&!y.startsWith("number"),componentTagName:`field-${v}`,componentTagDialogName:`field-${v}-dialog`,metadata:f,isNewPicker:D.Q.isNewPicker(v)}}static#n=this.\u0275fac=function(h){return new(h||s)};static#i=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},26058:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D),p={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(d,u,h){var f=p[h];return Array.isArray(f)&&(f=f[u?0:1]),f.replace("%d",d)}var s={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(d){return d+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return _.default.locale(s,null,!0),s}(m(49645))},28003:(ge,_e,m)=>{"use strict";m.d(_e,{d:()=>s});var D=m(1726),M=m(4202),_=m(34435);const o={all:!1,v1:!1,v2:!1,allValues:!0,oneValue:!0,fields:[...m(36740).z]};class s{constructor(h,f,v,y,C,I,T){this.contentType=h,this.entityGuid=f,this.fieldName=v,this.isValue=y,this.inputType=C,this.isOpen=I,this.valueMapper=T,this.log=(0,_.Tq)({FormulaValueCorrections:s},o)}v1(h){const f=h&&Array.isArray(h)&&h.every(C=>"string"==typeof C);if(!(["string","number","boolean"].includes(typeof h)||h instanceof Date||f)&&h)return{ok:!1,v1Result:this.toFormulaResult(void 0)};const y=this.isValue?this.#e(h):h;return{ok:!0,v1Result:this.toFormulaResult(y)}}v2(h){return{...this.allValues(h),openInDesigner:this.isOpen}}allValues(h){const f=this.log.fnIfInList("allValues","fields",this.fieldName,{result:h}),v={value:void 0,fields:[],stop:null,sleep:null};if(null==h)return f.r({...v,value:h},"null/empty");const y=this.isValue;if(Array.isArray(h))return console.warn("Formula result was an array - this is not allowed. Please return an object containing the array instead: { value: [...] }.",h),f.r(v,"array");if("object"==typeof h){if(h instanceof Date&&y)return f.r({...v,value:this.#e(h)},"date");if(h instanceof Promise)return f.r({...v,value:void 0,promise:h},"promise");const I=h;return I.stop??=null,I.sleep??=null,I.value&&y&&(I.value=Array.isArray(I.value)?this.valueMapper?.toState(I.value)??I.value:this.#e(I.value)),I.fields&&(I.fields=I.fields?.map(T=>(T.value=this.#e(T.value,T.name),T))),I.options&&(Array.isArray(I.options)?I.options.length>0&&(I.options.find(T=>!T||null==T.value)&&(console.error("some options are missing value",I.options),I.options=[]),function d(u){var h=u.map(v=>v.value),f=new Set(h);return h.length!==f.size&&(console.error("Duplicate values in options",u,h,f),!0)}(I.options)&&(console.error("duplicate values in options",I.options),I.options=[])):(console.error("options is not an array",I.options),I.options=[])),f.r(I,"object")}const C={value:h};return y?f.r({...v,value:this.#e(C.value)},"non-object, value"):f.r(C,"non-object, non-value")}#e(h,f=null){const v=this.log.fnIf("oneValue",{fieldName:this.fieldName,otherFieldName:f,value:h,type:typeof h});if(null==h)return v.r(h,"null");let y=this.inputType.inputType;if(f){const C=this.contentType.Attributes.find(I=>I.Name===f);if(!C?.InputType)return v.r(h,`other field ${f}; value not changed as target field not found`);y=C.InputType,v.a(`other field ${f} found, inputType: ${y}`)}if(y===M.u.DateTimeDefault||h instanceof Date){const C=new Date(h);return!("string"==typeof h&&h.endsWith("Z"))&&C.getTime()!==h&&C.setTime(C.getTime()-6e4*C.getTimezoneOffset()),C.setMilliseconds(0),v.r(C.toJSON(),"date")}return"string"!=typeof h&&(y?.startsWith(D.O.String.toLocaleLowerCase())||y?.startsWith(D.O.Hyperlink.toLocaleLowerCase()))?v.r(h.toString(),"not string, but input is string or hyperlink"):v.r(h,"unchanged")}toFormulaResult(h){return{value:h,fields:[],stop:null,sleep:null,openInDesigner:this.isOpen}}}},29163:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"zh",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(o,s){return"W"===s?o+"\u5468":o+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(o,s){var d=100*o+s;return d<600?"\u51cc\u6668":d<900?"\u65e9\u4e0a":d<1100?"\u4e0a\u5348":d<1300?"\u4e2d\u5348":d<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return _.default.locale(p,null,!0),p}(m(49645))},29791:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(o){return o},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return _.default.locale(p,null,!0),p}(m(49645))},30001:function(ge){ge.exports=function(){"use strict";var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},m=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,D=/\d/,M=/\d\d/,_=/\d\d?/,p=/\d*[^-_:/,()\s\d]+/,o={},s=function(C){return(C=+C)+(C>68?1900:2e3)},d=function(C){return function(I){this[C]=+I}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(I){if(!I||"Z"===I)return 0;var T=I.match(/([+-]|\d\d)/g),R=60*T[1]+(+T[2]||0);return 0===R?0:"+"===T[0]?-R:R}(C)}],h=function(C){var I=o[C];return I&&(I.indexOf?I:I.s.concat(I.f))},f=function(C,I){var T,R=o.meridiem;if(R){for(var H=1;H<=24;H+=1)if(C.indexOf(R(H,0,I))>-1){T=H>12;break}}else T=C===(I?"pm":"PM");return T},v={A:[p,function(C){this.afternoon=f(C,!1)}],a:[p,function(C){this.afternoon=f(C,!0)}],Q:[D,function(C){this.month=3*(C-1)+1}],S:[D,function(C){this.milliseconds=100*+C}],SS:[M,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[_,d("seconds")],ss:[_,d("seconds")],m:[_,d("minutes")],mm:[_,d("minutes")],H:[_,d("hours")],h:[_,d("hours")],HH:[_,d("hours")],hh:[_,d("hours")],D:[_,d("day")],DD:[M,d("day")],Do:[p,function(C){var I=o.ordinal,T=C.match(/\d+/);if(this.day=T[0],I)for(var R=1;R<=31;R+=1)I(R).replace(/\[|\]/g,"")===C&&(this.day=R)}],w:[_,d("week")],ww:[M,d("week")],M:[_,d("month")],MM:[M,d("month")],MMM:[p,function(C){var I=h("months"),T=(h("monthsShort")||I.map(function(R){return R.slice(0,3)})).indexOf(C)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[p,function(C){var I=h("months").indexOf(C)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[/[+-]?\d+/,d("year")],YY:[M,function(C){this.year=s(C)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};return function(C,I,T){T.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(s=C.parseTwoDigitYear);var R=I.prototype,H=R.parse;R.parse=function(W){var A=W.date,O=W.utc,V=W.args;this.$u=O;var G=V[1];if("string"==typeof G){var N=!0===V[2],L=!0===V[3],w=N||L,k=V[2];L&&(k=V[2]),o=this.$locale(),!N&&k&&(o=T.Ls[k]),this.$d=function(ee,q,de,we){try{if(["x","X"].indexOf(q)>-1)return new Date(("X"===q?1e3:1)*ee);var xe=function y(C){var T;T=o&&o.formats;for(var R=(C=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,L,w){var k=w&&w.toUpperCase();return L||T[w]||_e[w]||T[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,Y,j){return Y||j.slice(1)})})).match(m),H=R.length,W=0;W<H;W+=1){var A=R[W],O=v[A],G=O&&O[1];R[W]=G?{regex:O&&O[0],parser:G}:A.replace(/^\[|\]$/g,"")}return function(N){for(var L={},w=0,k=0;w<H;w+=1){var E=R[w];if("string"==typeof E)k+=E.length;else{var Y=E.regex,j=E.parser,ee=N.slice(k),q=Y.exec(ee)[0];j.call(L,q),N=N.replace(q,"")}}return function(de){var we=de.afternoon;if(void 0!==we){var xe=de.hours;we?xe<12&&(de.hours+=12):12===xe&&(de.hours=0),delete de.afternoon}}(L),L}}(q)(ee),He=xe.year,Te=xe.month,De=xe.day,Me=xe.hours,Be=xe.minutes,$=xe.seconds,ne=xe.milliseconds,oe=xe.zone,ve=xe.week,be=new Date,he=De||(He||Te?1:be.getDate()),Ie=He||be.getFullYear(),Ke=0;He&&!Te||(Ke=Te>0?Te-1:be.getMonth());var ye,Ee=Me||0,re=Be||0,Re=$||0,ze=ne||0;return oe?new Date(Date.UTC(Ie,Ke,he,Ee,re,Re,ze+60*oe.offset*1e3)):de?new Date(Date.UTC(Ie,Ke,he,Ee,re,Re,ze)):(ye=new Date(Ie,Ke,he,Ee,re,Re,ze),ve&&(ye=we(ye).week(ve).toDate()),ye)}catch{return new Date("")}}(A,G,O,T),this.init(),k&&!0!==k&&(this.$L=this.locale(k).$L),w&&A!=this.format(G)&&(this.$d=new Date("")),o={}}else if(G instanceof Array)for(var E=G.length,Y=1;Y<=E;Y+=1){V[1]=G[Y-1];var j=T.apply(this,V);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}Y===E&&(this.$d=new Date(""))}else H.call(this,W)}}}()},31444:function(ge){ge.exports=function(){"use strict";return function(_e,m,D){var _=function(u){return u&&(u.indexOf?u:u.s)},p=function(u,h,f,v,y){var C=u.name?u:u.$locale(),I=_(C[h]),T=_(C[f]),R=I||T.map(function(W){return W.slice(0,v)});if(!y)return R;var H=C.weekStart;return R.map(function(W,A){return R[(A+(H||0))%7]})},o=function(){return D.Ls[D.locale()]},s=function(u,h){return u.formats[h]||u.formats[h.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,y,C){return y||C.slice(1)})},d=function(){var u=this;return{months:function(h){return h?h.format("MMMM"):p(u,"months")},monthsShort:function(h){return h?h.format("MMM"):p(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):p(u,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):p(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):p(u,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return s(u.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.prototype.localeData=function(){return d.bind(this)()},D.localeData=function(){var u=o();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return D.weekdays()},weekdaysShort:function(){return D.weekdaysShort()},weekdaysMin:function(){return D.weekdaysMin()},months:function(){return D.months()},monthsShort:function(){return D.monthsShort()},longDateFormat:function(h){return s(u,h)},meridiem:u.meridiem,ordinal:u.ordinal}},D.months=function(){return p(o(),"months")},D.monthsShort=function(){return p(o(),"monthsShort","months",3)},D.weekdays=function(u){return p(o(),"weekdays",null,null,u)},D.weekdaysShort=function(u){return p(o(),"weekdaysShort","weekdays",3,u)},D.weekdaysMin=function(u){return p(o(),"weekdaysMin","weekdays",2,u)}}}()},33688:(ge,_e,m)=>{"use strict";m.d(_e,{f:()=>De});var D=m(12938),M=m(34435),_=m(67993),p=m(90927),o=m(64173),s=m(36740),d=m(55970),u=m(75797),h=m(51567),f=m(36647),v=m(14600),y=m(70271),C=m(19999),I=m(4979),T=m(8265),R=m(53991),H=m(36849),W=m(13050),A=m(26001),O=m(87149),V=m(77706),G=m(60827);class N{static#e(Be){if(!Be)return Be;let $=Be.trim();return $.startsWith("//")&&($=$.replace(/^\/\/.*\n/gm,"").trim()),$.startsWith(G.GI.V1)?`${G.qe}${$}`:$.startsWith(`${G.qe}${G.GI.V1}`)?$:$.startsWith("v2(")?($=$.substring(3,$.lastIndexOf("}")+1),$=$.replace("=>",""),`${G.qe}v2 ${$}`):$}static findFormulaVersion(Be){const $=this.#e(Be),ne=$.substring(G.qe.length,$.indexOf("(")).trim();return Object.values(G.GI).includes(ne)?ne:void 0}static buildFormulaFunction(Be){const $=this.#e(Be);return new Function(`return ${$}`)()}}var L=m(44444),w=m(90852);const k={all:!1,buildFormulaCache:!1,updateFormulaFromEditor:!1,createPromisedParts:!1,getSharedParts:!1};let E=(()=>{class Me extends I.V{constructor($,ne,oe,ve,be,he,Ie){super(),this.formConfig=$,this.itemService=ne,this.contentTypeService=oe,this.contentTypeItemService=ve,this.loggingService=be,this.translate=he,this.inputTypes=Ie,this.log=(0,M.Tq)({FormulaCacheBuilder:Me},k),this.#i={}}buildFormulaCache($){const ne=this.log.fnIf("buildFormulaCache"),oe=[],ve=this.formConfig.language(),be=new W.bT(ve),he=new V.q(this.log.name);for(const Ie of this.formConfig.config.itemGuids){const Ke=this.itemService.get(Ie),ye=this.#n(Ie,Ke),Ee=this.contentTypeService.getContentTypeOfItem(Ke);for(const re of Ee.Attributes){const Re=he.getDefaultSettings(be.flatten(re.Metadata)),ze=this.inputTypes.getSpecs(re),Ne=this.contentTypeItemService.getMany(Re.Formulas).filter(Ae=>be.getBestValue(Ae.Attributes.Enabled));for(const Ae of Ne){const ce=be.getBestValue(Ae.Attributes.Formula);if(!ce)continue;const Le=be.getBestValue(Ae.Attributes.Target);let $e;try{$e=N.buildFormulaFunction(ce)}catch(ht){$.cacheResults({entityGuid:Ie,fieldName:re.Name,target:Le},void 0,!0,!1);const qe=W.im.getTitle(Ee,ve);this.loggingService.addLog(O.E.Error,`Error building formula for Entity: "${qe}", Field: "${re.Name}", Target: "${Le}"`,ht),this.loggingService.showMessage(this.translate.instant("Errors.FormulaConfiguration"),2e3)}const mt={cache:{},entityGuid:Ie,fieldName:re.Name,fn:$e?.bind({}),isDraft:null==$e,sourceCode:ce,sourceCodeSaved:ce,sourceCodeGuid:Ae.Guid,sourceCodeId:Ae.Id,target:Le,...this.#e(Le,ze),version:N.findFormulaVersion(ce),...ye,stop:!1,sleep:!1,fieldIsSpecialPicker:d.Yb.includes(Le),...this.#a(),...this.#t(Le)};oe.push(mt)}}}return ne.r(oe)}#e($,ne){return{inputType:ne,isNewPicker:ne.isNewPicker,disabled:!1,disabledReason:""}}#t($){return $.startsWith(d.si)?{isSetting:!0,settingName:$.substring(d.si.length),isValue:!1,isValidation:!1}:{isSetting:!1,settingName:"",isValue:$===d.a2.Value,isValidation:$===d.a2.Validation}}#n($,ne=null){if(this.log.fnIf("getSharedParts",{item:ne,entityGuid:$}),this.#i[$])return this.#i[$];const oe=(ne=ne??this.itemService.get($)).Entity,ve=oe.For,he=this.formConfig.config,Ie=he.dialogContext.User??{},Ke={targetEntity:{guid:oe.Guid,id:oe.Id,type:{guid:oe.Type.Id,name:oe.Type.Name},for:{targetType:ve?.TargetType??0,guid:ve?.Guid,number:ve?.Number,string:ve?.String}},user:{email:Ie.Email,guid:Ie.Guid,id:Ie.Id,isAnonymous:Ie.IsAnonymous,isSiteAdmin:Ie.IsSiteAdmin,isContentAdmin:Ie.IsContentAdmin,isSystemAdmin:Ie.IsSystemAdmin,name:Ie.Name,username:Ie.Username},app:{appId:he.appId,zoneId:he.zoneId,isGlobal:he.dialogContext.App.IsGlobalApp,isSite:he.dialogContext.App.IsSiteApp,isContent:he.dialogContext.App.IsContentApp,getSetting:ye=>{}},sxc:window.$2sxc({zoneId:he.zoneId,appId:he.appId,pageId:he.tabId,moduleId:he.moduleId,_noContextInHttpHeaders:!0,_autoAppIdsInUrl:!0})};return this.#i[$]=Ke,Ke}#i;#a(){this.log.fnIf("createPromisedParts");const $=new u.t(null),ne=new u.t(null),oe=$.pipe((0,h.p)(ve=>!!ve),(0,f.n)(ve=>(0,v.H)(ve.promise).pipe((0,y.T)(be=>({set:ve,result:be})))));return this.subscriptions.add((0,C.z)([oe,ne.pipe((0,h.p)(ve=>!!ve))]).subscribe(([ve,be])=>(ve.set.completed=!0,ve.set.sleep=!1,be(ve.result)))),{promises$:$,updateCallback$:ne}}updateFormulaFromEditor($,ne,oe,ve){let be;if(this.log.fnIf("updateFormulaFromEditor",{id:ne,sourceCode:oe,run:ve}),ve)try{be=N.buildFormulaFunction(oe)}catch(Le){$.cacheResults(ne,void 0,!0,!1);const $e=this.itemService.get(ne.entityGuid),mt=this.contentTypeService.getContentTypeOfItem($e),ht=this.formConfig.language(),Pe=`Error building formula for Entity: "${W.im.getTitle(mt,ht)}", Field: "${ne.fieldName}", Target: "${ne.target}"`;this.loggingService.addLog(O.E.Error,Pe,Le),console.error(Pe,Le)}const he=this.itemService.get(ne.entityGuid),Ie=this.contentTypeService.getAttributeOfItem(he,ne.fieldName),Ke=this.inputTypes.getSpecs(Ie),{list:ye,index:Ee,value:re}=$.formulaListIndexAndOriginal(ne),Re=re??{},ze=this.#n(ne.entityGuid),Ne=Re.promises$&&Re.updateCallback$?{promises$:re.promises$,updateCallback$:re.updateCallback$}:this.#a(),Ae={...ne,cache:Re.cache??{},fn:be?.bind({}),isDraft:!ve||null==be,sourceCode:oe,sourceCodeSaved:Re.sourceCodeSaved,sourceCodeGuid:Re.sourceCodeGuid,sourceCodeId:Re.sourceCodeId,version:N.findFormulaVersion(oe),...this.#e(ne.target,Ke),...ze,stop:!1,sleep:!1,fieldIsSpecialPicker:d.Yb.includes(ne.target),...Ne,...this.#t(ne.target)};return Ee>=0?[...ye.slice(0,Ee),Ae,...ye.slice(Ee+1)]:[Ae,...ye]}static#r=this.\u0275fac=function(ne){return new(ne||Me)(L.KVO(T.S),L.KVO(p.b),L.KVO(H.n),L.KVO(R.k),L.KVO(O.J),L.KVO(w.c$),L.KVO(A.A))};static#s=this.\u0275prov=L.jDH({token:Me,factory:Me.\u0275fac})}return Me})();const Y={all:!0,getActive:!0,fields:[...s.z]};let j=(()=>{class Me{#e;constructor(){this.log=(0,M.Tq)({FormulaCacheService:Me},Y),this.#e=(0,D.d)(E),this.formulas=(0,_.KX)("formulas",[]),this.#t=(0,_.KX)("formula-results",[])}#t;init(){const $=this.#e.buildFormulaCache(this);this.formulas.set($)}#n($,ne,oe,ve){return this.formulas().filter(be=>(!$||be.entityGuid===$)&&(!ne||be.fieldName===ne)&&(!oe||oe?.find(he=>be.target==he))&&(!!ve||!be.isDraft))}getActive($,ne,oe){const ve=this.log.fnIfInList("getActive","fields",ne,()=>({name:ne,forNewPicker:oe,formulas:this.formulas()})),be=d.zD.concat(oe?d.AJ:d.K3),he=this.#n($,ne,be,!1),Ie=he.filter(Ke=>!Ke.stop);return ve.r(Ie,`all: ${he.length}, unstopped: ${Ie.length}`)}formulaListIndexAndOriginal($){const ne=this.formulas(),oe=ne.findIndex(be=>be.entityGuid===$.entityGuid&&be.fieldName===$.fieldName&&be.target===$.target);return{list:ne,index:oe,value:ne[oe]}}updateSaved($,ne,oe){const{list:ve,index:be,value:he}=this.formulaListIndexAndOriginal($);if(null==he)return;const Ie={...he,sourceCodeSaved:$.sourceCode,sourceCodeGuid:ne,sourceCodeId:oe},Ke=[...ve.slice(0,be),Ie,...ve.slice(be+1)];this.formulas.set(Ke)}updateFormulaFromEditor($,ne,oe){const ve=this.#e.updateFormulaFromEditor(this,$,ne,oe);this.formulas.set(ve)}delete($){const{list:ne,index:oe}=this.formulaListIndexAndOriginal($);if(oe<0)return;const ve=[...ne.slice(0,oe),...ne.slice(oe+1)];this.formulas.set(ve)}resetFormula($){this.#i($);const ne=this.formulaListIndexAndOriginal($).value?.sourceCodeSaved;null!=ne?this.updateFormulaFromEditor($,ne,!0):this.delete($)}cacheResults($,ne,oe,ve){const be={entityGuid:$.entityGuid,fieldName:$.fieldName,target:$.target,value:ne,isError:oe,isOnlyPromise:ve},he=this.log.fn("cacheResults",{newResult:be});(0,o.O8)(()=>{const{list:Ie,index:Ke}=this.resultListIndexAndOriginal($),ye=Ke>=0?[...Ie.slice(0,Ke),be,...Ie.slice(Ke+1)]:[be,...Ie];he.a("set results",{list:Ie,index:Ke,newResults:ye}),this.#t.set(ye)}),he.end("ok")}resultListIndexAndOriginal($){const ne=this.#t(),oe=ne.findIndex(be=>be.entityGuid===$.entityGuid&&be.fieldName===$.fieldName&&be.target===$.target);return{list:ne,index:oe,value:ne[oe]}}#i($){const{list:ne,index:oe}=this.resultListIndexAndOriginal($);if(oe<0)return;const ve=[...ne.slice(0,oe),...ne.slice(oe+1)];this.#t.set(ve)}static#a=this.\u0275fac=function(ne){return new(ne||Me)};static#r=this.\u0275prov=L.jDH({token:Me,factory:Me.\u0275fac})}return Me})();var ee=m(51612);let q=(()=>{class Me{constructor($,ne){this.itemService=$,this.contentTypeService=ne}getTargetOptions($,ne){const oe=[];if(null==$.entityGuid||null==$.fieldName)return oe;const ve=ne.filter(ye=>ye.entityGuid===$.entityGuid&&ye.fieldName===$.fieldName);for(const ye of Object.values(d.a2)){const Ee={hasFormula:ve.some(re=>re.target===ye),label:ye.substring(ye.lastIndexOf(".")+1),target:ye};oe.push(Ee)}const be=this.itemService.get($.entityGuid),Ie=this.contentTypeService.getAttributeOfItem(be,$.fieldName).InputType;if(ee.Q.isGroupStart(Ie))for(const ye of[d.j5.Collapsed]){const Ee={hasFormula:ve.some(re=>re.target===ye),label:ye.substring(ye.lastIndexOf(".")+1),target:ye};oe.push(Ee)}if(ee.Q.isOldValuePicker(Ie))for(const ye of[d.j5.DropdownValues]){const Ee={hasFormula:ve.some(re=>re.target===ye),label:ye.substring(ye.lastIndexOf(".")+1),target:ye};oe.push(Ee)}if(ee.Q.isNewPicker(Ie))for(const ye of Object.values(d.jk)){const Ee={hasFormula:ve.some(re=>re.target===ye),label:"Picker "+ye.substring(ye.lastIndexOf(".")+1),target:ye};oe.push(Ee)}for(const ye of ve){if(oe.some(Re=>Re.target===ye.target))continue;const re={hasFormula:!0,label:ye.target.substring(ye.target.lastIndexOf(".")+1),target:ye.target};oe.push(re)}if(!oe.some(ye=>ye.target===$.target)){const ye={hasFormula:ve.some(Ee=>Ee.target===$.target),label:$.target.substring($.target.lastIndexOf(".")+1),target:$.target};oe.push(ye)}return oe}static#e=this.\u0275fac=function(ne){return new(ne||Me)(L.KVO(p.b),L.KVO(H.n))};static#t=this.\u0275prov=L.jDH({token:Me,factory:Me.\u0275fac})}return Me})();var de=m(75067);class we{static buildDesignerSnippetsContext(Be){if(Be.version===G.GI.V1)return["app.appId","app.zoneId","app.isGlobal","app.isSite","app.isContent","cache.ChangeThis","culture.code","culture.name","debug","features.isEnabled('nameId')","form.runFormulas()","sxc.ChangeThis","target.entity.id","target.entity.guid","target.name","target.type","user.id","user.isAnonymous","user.isSiteAdmin","user.isSystemAdmin"].map(ne=>{const oe=`context.${ne}`;return{code:oe,label:oe}})}static getSnippets(Be,$,ne){if(Be.version===G.GI.V1){const oe=new de.Z(ne).all;return["value","default","prefill","initial",...$.map(be=>be.fieldName),"parameters.ChangeThis",...Object.keys(oe).map(be=>`parameters.${be}`)].map(be=>{const he=`data.${be}`;return{code:he,label:he}})}}}class He{static getTypings(Be,$,ne){if(Be.version===G.GI.V2){const oe=new de.Z(ne).all,ve=$.map(Ie=>`${Ie.fieldName}: ${this.#e(Ie.inputType)};`).join("\n"),be=Object.keys(oe).map(Ie=>`${Ie}: any;`).join("\n");return"/*\r\n  This is a special file which is not compiled as a normal TypeScript.\r\n  Instead it's loaded as raw text, to hand over to Monaco.\r\n  It ensures that v2 functions have intellisense.\r\n\r\n  TIP: To edit this file, briefly rename it to ...raw.ts, then back to ...rawts\r\n       This will make VSCode load it as a normal TypeScript file, so you can edit it.\r\n\r\n  - Try to keep in sync with the real code in the 2sxc project.\r\n  - The comments are _documentation_ for the user, so they can see what's available\r\n  - If you need any \"internal\" comments, use // instead\r\n  - Note that the [inject:...] comments are replaced by the build process\r\n*/\r\n\r\n/**\r\n * The data object is the main object for figuring out what the field or setting contained and what other fields currently store.\r\n * It has properties such as `.value` etc.\r\n * Just start typing to see the intellisense.\r\n */\r\n// Note that the type must be explicitly like `string | boolean | number | string[]`\r\n// Otherwise it won't show the details to the user\r\ndeclare interface FormulaData {\r\n  /**\r\n   * The value of the current field/setting when the formula runs.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  value: string | boolean | number | string[];\r\n  /**\r\n   * The _default_ value of the current field/setting as defined in the field settings.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  default: string | boolean | number | string[];\r\n  /**\r\n   * A prefill value that was passed into the form when it was loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  prefill: string | boolean | number | string[];\r\n  /**\r\n   * The value of the current field/setting when the form initially loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  initial: string | boolean | number | string[];\r\n  /* [inject:AllFields] */\r\n  /**\r\n   * All parameters which were passed to the form when it was loaded\r\n   *\r\n   * _It's exact type depends on the parameter, but it's usually a string._\r\n   */\r\n  parameters: {\r\n    /* [inject:AllParameters] */\r\n  };\r\n}\r\n\r\ndeclare interface FormulaContext {\r\n  /**\r\n   * Information about the current App\r\n   */\r\n  app: {\r\n    /** The current App ID */\r\n    appId: number;\r\n    /** The current Zone ID */\r\n    zoneId: number;\r\n    /** Determines if the current App is the global App */\r\n    isGlobal: boolean;\r\n    /** Determines if the current App is the primary (main) App on the site */\r\n    isSite: boolean;\r\n    /** Determines if the current App is a content App */\r\n    isContent: boolean;\r\n    /**\r\n     * Retrieve a setting like an App setting.\r\n     * You need the full path like `Settings.ShowCategories`.\r\n     * \r\n     * Important: For security reasons formulas will only get settings which where configured in the ContentType for use in Formulas.\r\n     */\r\n    getSetting(settingPath: string): string;\r\n  };\r\n  /**\r\n   * Cache for this formula. You can store any data here and it will be available in the next run.\r\n   */\r\n  cache: Record<string, any>;\r\n  /**\r\n   * Information about the current language\r\n   */\r\n  culture: {\r\n    code: string;\r\n    name: string;\r\n  };\r\n  debug: boolean;\r\n  /**\r\n   * API to detect what features are currently enabled/available\r\n   */\r\n  features: {\r\n    // /**\r\n    //  * Get internal information about a feature if it's available. This is rarely used.\r\n    //  * @param nameId The name of the feature, eg. `PasteImageFromClipboard`\r\n    //  */\r\n    // get(nameId: string): Record<string, any>;\r\n    /** Find out if the feature is enabled. Eg. `...isEnabled('PasteImageFromClipboard')` */\r\n    isEnabled(nameId: string): boolean;\r\n  };\r\n  /**\r\n   * Work with the current form\r\n   */\r\n  form: {\r\n    // v16 Deprecated for v2\r\n    // /** Re-trigger all formulas. Usually used inside promises when they complete. */\r\n    // runFormulas(): void;\r\n  };\r\n  /**\r\n   * The standard sxc object for the current App.\r\n   * It's the same as the sxc-instance in the page.\r\n   *\r\n   * You can use it to make API calls to the server.\r\n   */\r\n  sxc: {\r\n    /** The module ID */\r\n    id: number;\r\n    /** The Content-Block ID - matches the module ID unless it's an inner-content block inside another module */\r\n    cbid: number;\r\n    /** The sxc WebAPI object. Check the docs: https://docs.2sxc.org/api/js/SxcWebApi.html */\r\n    webApi: {\r\n      /**\r\n       * Get data from a url and return the json-object\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchJson<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n      /**\r\n       * Get data from a url and return the response (not a nice object)\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchRaw<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n    };\r\n    // turn off for now v16.00 - confusing\r\n    // [key: string]: any;\r\n  };\r\n  /**\r\n   * Information about the item this formula targets.\r\n   */\r\n  target: {\r\n    /** The entity the current formula affects */\r\n    entity: {\r\n      /** The entity ID */\r\n      id: number;\r\n      /** The entity GUID */\r\n      guid: string;\r\n      /** Metadata For information */\r\n      for: {\r\n        /** The target type like `4` (Entity). `0` if it's not metadata  */\r\n        targetType: number;\r\n        /** The int-key if it uses number keys, otherwise null */\r\n        number?: number;\r\n        /** The string-key if it uses string keys, otherwise null */\r\n        string?: string;\r\n        /** The GUID-key if it uses GUIDs, otherwise null */\r\n        guid?: string;\r\n      }\r\n    };\r\n    name: string;\r\n    /** The entity type name */\r\n    type: string;\r\n  };\r\n  /**\r\n   * Information about the current user\r\n   */\r\n  user: {\r\n    /** The current user ID */\r\n    id: number;\r\n    /** Check if the current user is anonymous eg. not logged in */\r\n    isAnonymous: boolean;\r\n    /** Check if the current user is a content admin */\r\n    isContentAdmin: boolean;\r\n    /** Check if the current user is a site admin */\r\n    isSiteAdmin: boolean;\r\n    /** Check if the current user is a system admin */\r\n    isSystemAdmin: boolean;\r\n    /** current user e-mail */\r\n    email: string;\r\n    /** The user GUID */\r\n    guid: string;\r\n    /** the name usually shown in greetings */\r\n    name: string;\r\n    /** The user name used for login */\r\n    username: string;\r\n  };\r\n}\r\n\r\n// /**\r\n//  * Test docs\r\n//  * @param data The data object\r\n//  */\r\n// declare function callbackV2(data: FormulaData): string | string[];\r\n\r\n// /**\r\n//  * test docs 3\r\n//  * @param callback The real code of the formula\r\n//  */\r\n// declare function v3(callback: typeof callbackV2);\r\n\r\n/**\r\n * This `v2` wrapper is required for the intellisense to work.\r\n * @param callback The real code of the formula\r\n * @returns A string, boolean, number, date or an advanced object\r\n */\r\ndeclare function v2(\r\n  // The main function - adding comments here does not show up, so we don't have them ATM\r\n  callback: (\r\n    data: FormulaData,\r\n    context: FormulaContext,\r\n  ) => string | boolean | number | Date | {\r\n    value?: string | boolean | number | Date | { severity: 'warning' | 'error', message: string },\r\n    fields?: {\r\n      name: string,\r\n      value: string | boolean | number | Date\r\n    }[],\r\n    promise?: Promise<any>,\r\n    stop?: boolean,\r\n  },\r\n): void;\r\n".replace("/* [inject:AllFields] */",ve).replace("/* [inject:AllParameters] */",be)}}static#e(Be){const $=Be.toLowerCase();return $.startsWith("string")?"string":$.startsWith("number")?"number":$.startsWith("date")?"Date":$.startsWith("boolean")?"boolean":"any"}}const Te={all:!1,constructor:!1,setDesignerOpen:!1};let De=(()=>{class Me{#e;constructor($){this.itemService=$,this.log=(0,M.Tq)({FormulaDesignerService:Me},Te),this.cache=(0,D.d)(j),this.#e=(0,D.d)(q),this.itemSettingsServices={},this.designerState=(0,_.KX)("designerState",{editMode:!1,entityGuid:void 0,fieldName:void 0,isOpen:!1,target:void 0}),this.formulaResult=(0,_.bo)("formulaResult",()=>{const ne=this.designerState();return this.cache.resultListIndexAndOriginal(ne).value}),this.currentTargetOptions=(0,_.bo)("currentTargetOptions",()=>{const ne=this.designerState(),oe=this.cache.formulas();return this.#e.getTargetOptions(ne,oe)}),this.entityOptions=(0,_.bo)("entityOptions",()=>{const ne=this.cache.formulas();return Object.entries(this.itemSettingsServices).map(([oe,ve])=>{const be=ne.filter(he=>he.entityGuid===oe);return{entityGuid:oe,formulas:be,hasFormula:be.length>0,label:ve.contentTypeSettings()._itemTitle}})}),this.fieldsOptions=(0,_.bo)("fieldsOptions",()=>{const ne=this.designerState().entityGuid;if(null==ne)return[];const oe=this.entityOptions().find(Ie=>Ie.entityGuid==ne).formulas,be=this.itemSettingsServices[ne].allProps();return Object.keys(be).map(Ie=>{const Ke=oe.filter(ye=>ye.fieldName===Ie);return{fieldName:Ie,formulas:Ke,hasFormula:Ke.length>0,inputType:be[Ie].settings.InputType,label:Ie}})}),this.currentFormula=(0,_.bo)("currentFormula",()=>{const ne=this.designerState(),{value:oe}=this.cache.formulaListIndexAndOriginal(ne);return oe}),this.v1ContextSnippets=(0,_.bo)("v1ContextSnippets",()=>{const ne=this.currentFormula();return null!=ne?we.buildDesignerSnippetsContext(ne):[]}),this.#t=(0,_.bo)("currentItemHeader",()=>{const ne=this.designerState().entityGuid;return null==ne?null:this.itemService.getItemHeader(ne)}),this.v2JsTypings=(0,_.bo)("v2JsTypings",()=>{const ne=this.currentFormula(),oe=this.#t();return null!=ne&&null!=oe?He.getTypings(ne,this.fieldsOptions(),oe.Prefill):""}),this.v1DataSnippets=(0,_.bo)("v1DataSnippets",()=>{const ne=this.currentFormula(),oe=this.#t();return null!=ne&&null!=oe?we.getSnippets(ne,this.fieldsOptions(),oe.Prefill):[]}),this.log.fnIf("constructor")}initAfterItemSettingsAreReady(){const $=this.designerState(),[ne,oe]=Object.entries(this.itemSettingsServices)[0],ve=oe.allProps(),be=Object.keys(ve)[0],Ie={...$,entityGuid:ne,fieldName:be,target:null!=be?d.tC.Value:null};this.designerState.set(Ie)}#t;setDesignerOpen($){this.log.fnIf("setDesignerOpen",{isOpen:$}),this.designerState.set({...this.designerState(),isOpen:$})}static#n=this.\u0275fac=function(ne){return new(ne||Me)(L.KVO(p.b))};static#i=this.\u0275prov=L.jDH({token:Me,factory:Me.\u0275fac})}return Me})()},35416:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+"\xba"}};return _.default.locale(p,null,!0),p}(m(49645))},36626:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D),p={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(d,u,h){var f=p[h];return Array.isArray(f)&&(f=f[u?0:1]),f.replace("%d",d)}var s={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(d){return d+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return _.default.locale(s,null,!0),s}(m(49645))},36795:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(o){return o+"."}};return _.default.locale(p,null,!0),p}(m(49645))},36849:(ge,_e,m)=>{"use strict";m.d(_e,{n:()=>s});var D=m(34435),M=m(69765),_=m(44813),p=m(16632),o=m(44444);let s=(()=>{class d extends p.r{constructor(){super((0,D.Tq)({ContentTypeService:d})),this.getId=h=>h.Id}addContentTypes(h){const f=_._.dtoToEavMany(h);this.addMany(f)}getContentTypeOfItem(h){const f=M.i.getContentTypeNameId(h);return this.get(f)}getAttribute(h,f){return this.get(h).Attributes.find(v=>v.Name===f)}getAttributeOfItem(h,f){return this.getContentTypeOfItem(h).Attributes.find(v=>v.Name===f)}static#e=this.\u0275fac=function(f){return new(f||d)};static#t=this.\u0275prov=o.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},40598:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D),p={s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:"%d \u05e9\u05e2\u05d5\u05ea",hh2:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",d:"\u05d9\u05d5\u05dd",dd:"%d \u05d9\u05de\u05d9\u05dd",dd2:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",M:"\u05d7\u05d5\u05d3\u05e9",MM:"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",MM2:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",y:"\u05e9\u05e0\u05d4",yy:"%d \u05e9\u05e0\u05d9\u05dd",yy2:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd"};function o(d,u,h){return(p[h+(2===d?"2":"")]||p[h]).replace("%d",d)}var s={name:"he",weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5_\u05e9\u05f3".split("_"),months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5_\u05e4\u05d1\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0_\u05d9\u05d5\u05dc_\u05d0\u05d5\u05d2_\u05e1\u05e4\u05d8_\u05d0\u05d5\u05e7_\u05e0\u05d5\u05d1_\u05d3\u05e6\u05de".split("_"),relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},ordinal:function(d){return d},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return _.default.locale(s,null,!0),s}(m(49645))},40623:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(o){return o+"\uc77c"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(o){return o<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return _.default.locale(p,null,!0),p}(m(49645))},41134:(ge,_e,m)=>{"use strict";m.d(_e,{D6:()=>T,LG:()=>C});var D=m(44444),M=m(99293),_=m(37580),p=m(87945),o=m(73388),s=m(8126);const d=["determinateSpinner"];function u(R,H){if(1&R&&(D.qSk(),M.j41(0,"svg",11),M.nrm(1,"circle",12),M.k0s()),2&R){const W=M.XpG();M.BMQ("viewBox",W._viewBox()),M.R7$(),M.xc7("stroke-dasharray",W._strokeCircumference(),"px")("stroke-dashoffset",W._strokeCircumference()/2,"px")("stroke-width",W._circleStrokeWidth(),"%"),M.BMQ("r",W._circleRadius())}}const h=new D.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function f(){return{diameter:v}}}),v=100;let C=(()=>{class R{_elementRef=(0,D.WQX)(M.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(W){this._color=W}_color;_defaultColor="primary";_determinateCircle;constructor(){const W=(0,D.WQX)(h);this._noopAnimations=(0,o._)()&&!!W&&!W._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",W&&(W.color&&(this.color=this._defaultColor=W.color),W.diameter&&(this.diameter=W.diameter),W.strokeWidth&&(this.strokeWidth=W.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(W){this._value=Math.max(0,Math.min(100,W||0))}_value=0;get diameter(){return this._diameter}set diameter(W){this._diameter=W||0}_diameter=v;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(W){this._strokeWidth=W||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const W=2*this._circleRadius()+this.strokeWidth;return`0 0 ${W} ${W}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(A){return new(A||R)};static \u0275cmp=M.VBU({type:R,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(A,O){if(1&A&&M.GBs(d,5),2&A){let V;M.mGM(V=M.lsd())&&(O._determinateCircle=V.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(A,O){2&A&&(M.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===O.mode?O.value:null)("mode",O.mode),M.HbH("mat-"+O.color),M.xc7("width",O.diameter,"px")("height",O.diameter,"px")("--mat-progress-spinner-size",O.diameter+"px")("--mat-progress-spinner-active-indicator-width",O.diameter+"px"),M.AVh("_mat-animation-noopable",O._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===O.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",_.Udg],diameter:[2,"diameter","diameter",_.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",_.Udg]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(A,O){if(1&A&&(M.DNE(0,u,2,8,"ng-template",null,0,M.C5r),M.j41(2,"div",2,1),D.qSk(),M.j41(4,"svg",3),M.nrm(5,"circle",4),M.k0s()(),D.joV(),M.j41(6,"div",5)(7,"div",6)(8,"div",7),M.eu8(9,8),M.k0s(),M.j41(10,"div",9),M.eu8(11,8),M.k0s(),M.j41(12,"div",10),M.eu8(13,8),M.k0s()()()),2&A){const V=M.sdS(1);M.R7$(4),M.BMQ("viewBox",O._viewBox()),M.R7$(),M.xc7("stroke-dasharray",O._strokeCircumference(),"px")("stroke-dashoffset",O._strokeDashOffset(),"px")("stroke-width",O._circleStrokeWidth(),"%"),M.BMQ("r",O._circleRadius()),M.R7$(4),M.Y8G("ngTemplateOutlet",V),M.R7$(2),M.Y8G("ngTemplateOutlet",V),M.R7$(2),M.Y8G("ngTemplateOutlet",V)}},dependencies:[p.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return R})(),T=(()=>{class R{static \u0275fac=function(A){return new(A||R)};static \u0275mod=M.$C({type:R});static \u0275inj=D.G2t({imports:[s.M]})}return R})()},41624:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(s){return s&&"object"==typeof s&&"default"in s?s:{default:s}}(D);function p(s,d,u,h){var f={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"p\xe4iv\xe4",dd:"%d p\xe4iv\xe4\xe4",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj\xe4_viisi_kuusi_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},v={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"p\xe4iv\xe4n",dd:"%d p\xe4iv\xe4n",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_nelj\xe4n_viiden_kuuden_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},y=h&&!d?v:f;return y[u].replace("%d",s<10?y.numbers[s]:s)}var o={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),ordinal:function(s){return s+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:p,m:p,mm:p,h:p,hh:p,d:p,dd:p,M:p,MM:p,y:p,yy:p},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return _.default.locale(o,null,!0),o}(m(49645))},42434:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"it-ch",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}};return _.default.locale(p,null,!0),p}(m(49645))},43176:(ge,_e,m)=>{"use strict";m.d(_e,{$:()=>_});var D=m(27092),M=m(99293);let _=(()=>{class p{constructor(){this.subscriptions=new D.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||p)};static#t=this.\u0275cmp=M.VBU({type:p,selectors:[["app-base-component"]],decls:0,vars:0,template:function(d,u){},encapsulation:2})}return p})()},44031:(ge,_e,m)=>{"use strict";m.d(_e,{y:()=>s});var D=m(4202),M=m(34435),_=m(22490);class p extends _.S{constructor(){super({UnknownLogic:p}),this.name=D.u.Unknown,this.canAutoTranslate=!1}update({settings:u}){return u}}const o={all:!1,get:!0};class s{constructor(){this.logics={},this.log=(0,M.Tq)({FieldLogicManager:s},o),this.add(new p)}static singleton(){return window.eavFieldLogicManager??=new s}add(u){this.logics[u.name]=u}get(u){return this.log.fnIf("get",{inputTypeName:u}).r(this.logics[u]??null)}getOrUnknown(u){return this.get(u)??this.get(D.u.Unknown)}}},44813:(ge,_e,m)=>{"use strict";m.d(_e,{_:()=>p});var D=m(48394),M=m(3346);class _{static dtoToEav(s){const d=D.g.dtoToEavMany(s.Metadata),u=M.h.mergeSettings(d);return{InputType:s.InputType,IsTitle:s.IsTitle,Metadata:d,Name:s.Name,Settings:u,Type:s.Type}}static dtoToEavMany(s){return null==s?[]:s.map(u=>_.dtoToEav(u))}}class p{static dtoToEav(s){const d=_.dtoToEavMany(s.Attributes),u=D.g.dtoToEavMany(s.Metadata),h=M.h.mergeSettings(u);return{Attributes:d,Id:s.Id,Metadata:u,Name:s.Name,Scope:s.Scope,Settings:h,Title:s.Title}}static dtoToEavMany(s){return null==s?null:s.map(u=>p.dtoToEav(u))}}},45129:(ge,_e,m)=>{"use strict";m.d(_e,{U:()=>M});var D=m(58021);class M{static create(p,o){return{value:p,dimensions:o}}static dtoToEav(p){return Object.entries(p).map(([s,d])=>{const u=s.split(",").map(h=>D.v.create(h));return this.create(d,u)})}static createEavFieldValue(p){return[{value:p,dimensions:[{dimCode:"*"}]}]}}},46155:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D);function p(d){return d>1&&d<5&&1!=~~(d/10)}function o(d,u,h,f){var v=d+" ";switch(h){case"s":return u||f?"p\xe1r sekund":"p\xe1r sekundami";case"m":return u?"minuta":f?"minutu":"minutou";case"mm":return u||f?v+(p(d)?"minuty":"minut"):v+"minutami";case"h":return u?"hodina":f?"hodinu":"hodinou";case"hh":return u||f?v+(p(d)?"hodiny":"hodin"):v+"hodinami";case"d":return u||f?"den":"dnem";case"dd":return u||f?v+(p(d)?"dny":"dn\xed"):v+"dny";case"M":return u||f?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return u||f?v+(p(d)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):v+"m\u011bs\xedci";case"y":return u||f?"rok":"rokem";case"yy":return u||f?v+(p(d)?"roky":"let"):v+"lety"}}var s={name:"cs",weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),months:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),monthsShort:"led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(d){return d+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return _.default.locale(s,null,!0),s}(m(49645))},48394:(ge,_e,m)=>{"use strict";m.d(_e,{g:()=>M});var D=m(3346);class M{static dtoToEav(p){const o=D.h.dtoToEav(p.Attributes),s=this.dtoToEavMany(p.Metadata);return{Attributes:o,Guid:p.Guid,Id:p.Id,Owner:p.Owner,Type:p.Type,Version:p.Version,For:p.For??null,Metadata:s}}static dtoToEavMany(p){return null==p?null:p.map(s=>M.dtoToEav(s))}}},49645:function(ge){ge.exports=function(){"use strict";var m=6e4,D=36e5,M="millisecond",_="second",p="minute",o="hour",s="day",d="week",u="month",h="quarter",f="year",v="date",y="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var Y=["th","st","nd","rd"],j=E%100;return"["+E+(Y[(j-20)%10]||Y[j]||Y[0])+"]"}},R=function(E,Y,j){var ee=String(E);return!ee||ee.length>=Y?E:""+Array(Y+1-ee.length).join(j)+E},H={s:R,z:function(E){var Y=-E.utcOffset(),j=Math.abs(Y),ee=Math.floor(j/60),q=j%60;return(Y<=0?"+":"-")+R(ee,2,"0")+":"+R(q,2,"0")},m:function E(Y,j){if(Y.date()<j.date())return-E(j,Y);var ee=12*(j.year()-Y.year())+(j.month()-Y.month()),q=Y.clone().add(ee,u),de=j-q<0,we=Y.clone().add(ee+(de?-1:1),u);return+(-(ee+(j-q)/(de?q-we:we-q))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:u,y:f,w:d,d:s,D:v,h:o,m:p,s:_,ms:M,Q:h}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return void 0===E}},W="en",A={};A[W]=T;var O="$isDayjsObject",V=function(E){return E instanceof w||!(!E||!E[O])},G=function E(Y,j,ee){var q;if(!Y)return W;if("string"==typeof Y){var de=Y.toLowerCase();A[de]&&(q=de),j&&(A[de]=j,q=de);var we=Y.split("-");if(!q&&we.length>1)return E(we[0])}else{var xe=Y.name;A[xe]=Y,q=xe}return!ee&&q&&(W=q),q||!ee&&W},N=function(E,Y){if(V(E))return E.clone();var j="object"==typeof Y?Y:{};return j.date=E,j.args=arguments,new w(j)},L=H;L.l=G,L.i=V,L.w=function(E,Y){return N(E,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var w=function(){function E(j){this.$L=G(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[O]=!0}var Y=E.prototype;return Y.parse=function(j){this.$d=function(ee){var q=ee.date,de=ee.utc;if(null===q)return new Date(NaN);if(L.u(q))return new Date;if(q instanceof Date)return new Date(q);if("string"==typeof q&&!/Z$/i.test(q)){var we=q.match(C);if(we){var xe=we[2]-1||0,He=(we[7]||"0").substring(0,3);return de?new Date(Date.UTC(we[1],xe,we[3]||1,we[4]||0,we[5]||0,we[6]||0,He)):new Date(we[1],xe,we[3]||1,we[4]||0,we[5]||0,we[6]||0,He)}}return new Date(q)}(j),this.init()},Y.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},Y.$utils=function(){return L},Y.isValid=function(){return this.$d.toString()!==y},Y.isSame=function(j,ee){var q=N(j);return this.startOf(ee)<=q&&q<=this.endOf(ee)},Y.isAfter=function(j,ee){return N(j)<this.startOf(ee)},Y.isBefore=function(j,ee){return this.endOf(ee)<N(j)},Y.$g=function(j,ee,q){return L.u(j)?this[ee]:this.set(q,j)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(j,ee){var q=this,de=!!L.u(ee)||ee,we=L.p(j),xe=function(oe,ve){var be=L.w(q.$u?Date.UTC(q.$y,ve,oe):new Date(q.$y,ve,oe),q);return de?be:be.endOf(s)},He=function(oe,ve){return L.w(q.toDate()[oe].apply(q.toDate("s"),(de?[0,0,0,0]:[23,59,59,999]).slice(ve)),q)},Te=this.$W,De=this.$M,Me=this.$D,Be="set"+(this.$u?"UTC":"");switch(we){case f:return de?xe(1,0):xe(31,11);case u:return de?xe(1,De):xe(0,De+1);case d:var $=this.$locale().weekStart||0,ne=(Te<$?Te+7:Te)-$;return xe(de?Me-ne:Me+(6-ne),De);case s:case v:return He(Be+"Hours",0);case o:return He(Be+"Minutes",1);case p:return He(Be+"Seconds",2);case _:return He(Be+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(j){return this.startOf(j,!1)},Y.$set=function(j,ee){var q,de=L.p(j),we="set"+(this.$u?"UTC":""),xe=(q={},q[s]=we+"Date",q[v]=we+"Date",q[u]=we+"Month",q[f]=we+"FullYear",q[o]=we+"Hours",q[p]=we+"Minutes",q[_]=we+"Seconds",q[M]=we+"Milliseconds",q)[de],He=de===s?this.$D+(ee-this.$W):ee;if(de===u||de===f){var Te=this.clone().set(v,1);Te.$d[xe](He),Te.init(),this.$d=Te.set(v,Math.min(this.$D,Te.daysInMonth())).$d}else xe&&this.$d[xe](He);return this.init(),this},Y.set=function(j,ee){return this.clone().$set(j,ee)},Y.get=function(j){return this[L.p(j)]()},Y.add=function(j,ee){var q,de=this;j=Number(j);var we=L.p(ee),xe=function(De){var Me=N(de);return L.w(Me.date(Me.date()+Math.round(De*j)),de)};if(we===u)return this.set(u,this.$M+j);if(we===f)return this.set(f,this.$y+j);if(we===s)return xe(1);if(we===d)return xe(7);var He=(q={},q[p]=m,q[o]=D,q[_]=1e3,q)[we]||1,Te=this.$d.getTime()+j*He;return L.w(Te,this)},Y.subtract=function(j,ee){return this.add(-1*j,ee)},Y.format=function(j){var ee=this,q=this.$locale();if(!this.isValid())return q.invalidDate||y;var de=j||"YYYY-MM-DDTHH:mm:ssZ",we=L.z(this),xe=this.$H,He=this.$m,Te=this.$M,De=q.weekdays,Me=q.months,$=function(ve,be,he,Ie){return ve&&(ve[be]||ve(ee,de))||he[be].slice(0,Ie)},ne=function(ve){return L.s(xe%12||12,ve,"0")},oe=q.meridiem||function(ve,be,he){var Ie=ve<12?"AM":"PM";return he?Ie.toLowerCase():Ie};return de.replace(I,function(ve,be){return be||function(he){switch(he){case"YY":return String(ee.$y).slice(-2);case"YYYY":return L.s(ee.$y,4,"0");case"M":return Te+1;case"MM":return L.s(Te+1,2,"0");case"MMM":return $(q.monthsShort,Te,Me,3);case"MMMM":return $(Me,Te);case"D":return ee.$D;case"DD":return L.s(ee.$D,2,"0");case"d":return String(ee.$W);case"dd":return $(q.weekdaysMin,ee.$W,De,2);case"ddd":return $(q.weekdaysShort,ee.$W,De,3);case"dddd":return De[ee.$W];case"H":return String(xe);case"HH":return L.s(xe,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return oe(xe,He,!0);case"A":return oe(xe,He,!1);case"m":return String(He);case"mm":return L.s(He,2,"0");case"s":return String(ee.$s);case"ss":return L.s(ee.$s,2,"0");case"SSS":return L.s(ee.$ms,3,"0");case"Z":return we}return null}(ve)||we.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(j,ee,q){var de,we=this,xe=L.p(ee),He=N(j),Te=(He.utcOffset()-this.utcOffset())*m,De=this-He,Me=function(){return L.m(we,He)};switch(xe){case f:de=Me()/12;break;case u:de=Me();break;case h:de=Me()/3;break;case d:de=(De-Te)/6048e5;break;case s:de=(De-Te)/864e5;break;case o:de=De/D;break;case p:de=De/m;break;case _:de=De/1e3;break;default:de=De}return q?de:L.a(de)},Y.daysInMonth=function(){return this.endOf(u).$D},Y.$locale=function(){return A[this.$L]},Y.locale=function(j,ee){if(!j)return this.$L;var q=this.clone(),de=G(j,ee,!0);return de&&(q.$L=de),q},Y.clone=function(){return L.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},E}(),k=w.prototype;return N.prototype=k,[["$ms",M],["$s",_],["$m",p],["$H",o],["$W",s],["$M",u],["$y",f],["$D",v]].forEach(function(E){k[E[1]]=function(Y){return this.$g(Y,E[0],E[1])}}),N.extend=function(E,Y){return E.$i||(E(Y,w,N),E.$i=!0),N},N.locale=G,N.isDayjs=V,N.unix=function(E){return N(1e3*E)},N.en=A[W],N.Ls=A,N.p={},N}()},53991:(ge,_e,m)=>{"use strict";m.d(_e,{k:()=>o});var D=m(34435),M=m(48394),_=m(16632),p=m(44444);let o=(()=>{class s extends _.r{constructor(){super((0,D.Tq)({ContentTypeItemService:s})),this.getId=u=>u.Guid}addContentTypeItems(u){const h=M.g.dtoToEavMany(u);this.addMany(h)}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},54839:(ge,_e,m)=>{"use strict";m.d(_e,{c:()=>s});var D=m(34435),M=m(68873),_=m(44444),p=m(47215);const o={all:!1,getAvailableEntities:!1,getEntities:!1};let s=(()=>{class d{constructor(h,f){this.http=h,this.context=f,this.log=(0,D.Tq)({QueryService:d},o)}getFromQuery(h,f,v,y){this.log.fnIf("getAvailableEntities",{queryUrl:h,params:f,fields:v,entitiesFilter:y});const C=!!f,H=(((f?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(C?`&${f}`:"")+"&$select="+(v??"")).substring(1);return this.http.post(`app/auto/query/${h}?${H}`,{Guids:y})}getEntities({contentTypes:h,itemIds:f,fields:v,log:y}){this.log.fnIf("getEntities",{log:y,contentTypes:h,itemIds:f,fields:v});const I=("&typeNames="+(h?.join(",")??"")+`&appId=${this.context.appId}&$select=`+(v??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${I}`,{Guids:f})}static#e=this.\u0275fac=function(f){return new(f||d)(_.KVO(p.Qq),_.KVO(M.o))};static#t=this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}return d})()},55675:(ge,_e,m)=>{"use strict";m.d(_e,{J:()=>D});const D={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"}},55970:(ge,_e,m)=>{"use strict";m.d(_e,{AJ:()=>o,K3:()=>h,Yb:()=>s,a2:()=>M,j5:()=>u,jk:()=>p,si:()=>D,tC:()=>f,wB:()=>d,zD:()=>_});const D="Field.Settings.",M={Disabled:`${D}Disabled`,Name:`${D}Name`,Notes:`${D}Notes`,Required:`${D}Required`,Value:"Field.Value",Visible:`${D}Visible`,Validation:"Field.Validation"},_=Object.values(M),p={Options:"Field.Options",Selected:"Field.Selected"},o=Object.values(p),s=[p.Options,p.Selected],d=[p.Options,p.Selected],u={Collapsed:`${D}Collapsed`,DropdownValues:`${D}DropdownValues`},h=Object.values(u),f={...M,...u,...p}},56344:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(C){return C&&"object"==typeof C&&"default"in C?C:{default:C}}(D),p="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),o="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),s="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),d="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),u=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function h(C,I,T){var R,H;return"m"===T?I?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":C+" "+(R=+C,H={mm:I?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[T].split("_"),R%10==1&&R%100!=11?H[0]:R%10>=2&&R%10<=4&&(R%100<10||R%100>=20)?H[1]:H[2])}var f=function(C,I){return u.test(I)?p[C.month()]:o[C.month()]};f.s=o,f.f=p;var v=function(C,I){return u.test(I)?s[C.month()]:d[C.month()]};v.s=d,v.f=s;var y={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:f,monthsShort:v,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:h,mm:h,h:"\u0447\u0430\u0441",hh:h,d:"\u0434\u0435\u043d\u044c",dd:h,M:"\u043c\u0435\u0441\u044f\u0446",MM:h,y:"\u0433\u043e\u0434",yy:h},ordinal:function(C){return C},meridiem:function(C){return C<4?"\u043d\u043e\u0447\u0438":C<12?"\u0443\u0442\u0440\u0430":C<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return _.default.locale(y,null,!0),y}(m(49645))},58021:(ge,_e,m)=>{"use strict";m.d(_e,{v:()=>D});class D{static create(_){return{dimCode:_}}}},58403:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(o){return o+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return _.default.locale(p,null,!0),p}(m(49645))},60827:(ge,_e,m)=>{"use strict";m.d(_e,{GI:()=>s,OK:()=>_,pk:()=>o,qe:()=>D});const D="function ",_="v2((data, context) => {\n  return data.value;\n});",o="v2((data, context, item) => {\n  return data.value;\n});",s={V1:"v1",V2:"v2"}},62725:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"th",weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},ordinal:function(o){return o+"."}};return _.default.locale(p,null,!0),p}(m(49645))},63238:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(o){var s=["th","st","nd","rd"],d=o%100;return"["+o+(s[(d-20)%10]||s[d]||s[0])+"]"}};return _.default.locale(p,null,!0),p}(m(49645))},63966:(ge,_e,m)=>{"use strict";m.d(_e,{U:()=>_});var D=m(48394),M=m(45129);class _{static anyToEav(o){const s=o.Header.ClientData?.overrideContents;return s?_.objToEav(s,o.Header,o.Entity):_.dtoToEav(o)}static dtoToEav(o){return{Entity:D.g.dtoToEav(o.Entity),Header:o.Header}}static objToEav(o,s,d){const u={};for(const f in o){const v=o[f],y=this.getType(v);u[f]={Values:M.U.createEavFieldValue(v),Type:y}}const h=D.g.dtoToEav(d);return h.Attributes=u,{Entity:h,Header:s}}static eavToObj(o){const s=o.Entity.Attributes,d={};for(const u in s){const h=s[u];!h.Values||0===h.Values.length||(d[u]=h.Values[0].value)}return d}static getType(o){switch(typeof o){case"string":return"String";case"number":return"Number";case"boolean":return"Boolean";default:return"Unknown"}}}},64684:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(o){return o+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(o){return o<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return _.default.locale(p,null,!0),p}(m(49645))},64848:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"fa",weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekStart:6,months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"}};return _.default.locale(p,null,!0),p}(m(49645))},65593:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(D),p="\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),o="\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),s=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function d(f,v,y){var C,I;return"m"===y?v?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===y?v?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":f+" "+(C=+f,I={ss:v?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:v?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:v?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[y].split("_"),C%10==1&&C%100!=11?I[0]:C%10>=2&&C%10<=4&&(C%100<10||C%100>=20)?I[1]:I[2])}var u=function(f,v){return s.test(v)?p[f.month()]:o[f.month()]};u.s=o,u.f=p;var h={name:"uk",weekdays:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0434\u043b_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:u,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekStart:1,relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:d,mm:d,h:d,hh:d,d:"\u0434\u0435\u043d\u044c",dd:d,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:d,y:"\u0440\u0456\u043a",yy:d},ordinal:function(f){return f},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"}};return _.default.locale(h,null,!0),h}(m(49645))},66177:(ge,_e,m)=>{"use strict";m.d(_e,{x:()=>M});var D=m(55675);class M{static getTranslationStateClass(p){switch(p){case D.J.MissingDefaultLangValue:return"localization-missing-default-lang-value";case D.J.Translate:case D.J.LinkCopyFrom:return"localization-translate";case D.J.DontTranslate:return"";case D.J.LinkReadOnly:return"localization-link-read-only";case D.J.LinkReadWrite:return"localization-link-read-write";default:return""}}static calculateSharedInfoMessage(p,o){p=M.calculateShortDimensions(p,o);const s=M.calculateEditAndReadDimensions(p),d=s.editableDimensions,u=s.readOnlyDimensions;let h="";const f=d.length>0,v=u.length>0;return f&&v?h=`${d.join(", ")}, (${u.join(", ")})`:f?h=d.join(", "):v&&(h=`(${u.join(", ")})`),h}static calculateShortDimensions(p,o){const s={},d=o.slice(0,o.indexOf("-"));return s[d]=[d],p.forEach(u=>{const f=u.slice(0,u.indexOf("-")).replace("~","");s[f]?s[f].push(u):s[f]=[u]}),p.map(u=>{const h=u.slice(0,u.indexOf("-")),f=h.replace("~","");return s[f].length>1?u:h})}static calculateEditAndReadDimensions(p){return{editableDimensions:[],readOnlyDimensions:p.map(o=>o.replace("~",""))}}}},68224:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"pa-in",weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),ordinal:function(o){return o},formats:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"}};return _.default.locale(p,null,!0),p}(m(49645))},69765:(ge,_e,m)=>{"use strict";m.d(_e,{i:()=>D});class D{static getContentTypeNameId(_){return _.Entity.Type?.Id??_.Header.ContentTypeName}}},69869:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"pt",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_Sa".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+"\xba"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return _.default.locale(p,null,!0),p}(m(49645))},70116:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(o){return o},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return _.default.locale(p,null,!0),p}(m(49645))},73857:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(o){return o+"\xba"}};return _.default.locale(p,null,!0),p}(m(49645))},75067:(ge,_e,m)=>{"use strict";m.d(_e,{Z:()=>H,$:()=>R});var D=m(60827),M=m(64173),_=m(87149);class p{constructor(A,O,V,G,N,L){this.designerSvc=A,this.translate=O,this.logSvc=V,this.formula=G,this.ctTitle=N,this.formulaProps=L,this.isOpen=!1,this.isOpen=this.#e(G)}showStart(){if(!this.isOpen)return;const A=this.formula;console.log(`Running formula${A.version?.toLocaleUpperCase()} for Entity: "${this.ctTitle}", Field: "${A.fieldName}", Target: "${A.target}", arguments:`,this.formulaProps)}showResult(A,O,V){this.designerSvc.cache.cacheResults(this.formula,A,!1,!1),this.isOpen&&console.log("Formula result:",A)}showError(A){const O=this.formula,V=`Error in formula calculation for Entity: "${this.ctTitle}", Field: "${O.fieldName}", Target: "${O.target}"`;this.designerSvc.cache.cacheResults(O,void 0,!0,!1),this.logSvc.addLog(_.E.Error,V,A),this.isOpen?console.error(V,A):this.logSvc.showMessage(this.translate.instant("Errors.FormulaCalculation"),2e3)}#e(A){return(0,M.O8)(()=>{const O=this.designerSvc.designerState();return O.isOpen&&O.entityGuid===A.entityGuid&&O.fieldName===A.fieldName&&O.target===A.target})}}var o=m(28003),s=m(13050);class u{#e;constructor(A){this.#e=A}getEntities(){return this.#t("getEntities"),this.#e.itemService.getMany(this.#e.formConfig.config.itemGuids).map(O=>({guid:O.Entity.Guid,id:O.Entity.Id,type:{guid:O.Entity.Type.Id,name:O.Entity.Type.Name}}))}getSettings(A){return this.#t("getSettings"),this.#e.fieldsSettingsSvc.settings[A]()}getValues(A){this.#t("getValues");const O=this.#e.itemService.get(A);return new s.bT(this.#e.language).currentValues(O.Entity.Attributes)}#t(A){const O='A formula in this dialog is using an experimental feature: "{0}" - this will be removed soon.'.replace("{0}",A);console.error(O),!this.#e.warningsObsolete[A]&&(this.#e.warningsObsolete[A]=!0,alert(O))}}class h{constructor(A,O){const V=A.runParameters.formula;this.cache=V.cache,this.debug=A.debugEnabled,this.sxc=V.sxc,this.user=V.user;const{getSetting:G,...N}=A.runParameters.formula.app;this.app=Object.assign(new C(A),N),this.target=new I(A);const L=A.language,w=A.languages;this.culture={code:L.current,name:w.find(k=>k.NameId===L.current)?.Culture},this.features=new v(A),this.form=new y(A),this.entities=new f(A),this.xp=O}}class f{#e;constructor(A){this.#e=A}getAll(){return this.#e.itemService.getMany(this.#e.formConfig.config.itemGuids).map(O=>({guid:O.Entity.Guid,id:O.Entity.Id,type:{guid:O.Entity.Type.Id,name:O.Entity.Type.Name}}))}getOfType(A){return this.getAll().find(O=>O.type.guid==A||O.type.name==A)}}class v{#e;constructor(A){this.#e=A}isEnabled(A){return this.#e.features().find(O=>O.nameId===A)?.isEnabled??!1}}class y{#e;constructor(A){this.#e=A}runFormulas(){console.error("A formula uses form.runFormulas(). This is deprecated since v18.. It is now disabled. Change formula to V2 and return a promise to achieve the same effect.")}}class C{#e;constructor(A){this.#e=A}getSetting(A){return this.#e.runParameters.formula.version===D.GI.V1?(console.warn("app.getSetting() is not available in v1 formulas, please use v2."),"\u26a0\ufe0f error - see console"):this.#e.formConfig.config.settings.Values[A]??(console.warn(`Error: Setting '${A}' not found. Did you configure it in the ContentType to be included? See https://go.2sxc.org/formulas`),"\u26a0\ufe0f error - see console")}}class I{#e;constructor(A){this.#e=A;const O=A.runParameters.formula;this.entity=O.targetEntity;const V=O.isValue||O.isValidation;this.name=V?O.fieldName:O.target.substring(O.target.lastIndexOf(".")+1),this.type=V?O.target:O.target.substring(0,O.target.lastIndexOf("."))}}class T{#e;#t;#n;#i;constructor(A){this.#e=A,this.#t=A.runParameters,this.#i=this.#t.pickerHelper.infos,this.#n=this.#t.pickerHelper.infos.mapper}get default(){const{formula:A}=this.#t;return A.isValue?this.#s(this.#t.defaultValueHelper().getDefaultOrPrefillValue()):A.isSetting?this.#t.settingsInitial[A.settingName]:A.isNewPicker?this.#i.options.list:void 0}get initial(){const A=this.#t.formula;return A.isValue?this.#s(this.#e.initialFormValues[A.fieldName]):null}get parameters(){return this.#e.parameters.all()}get prefill(){const{formula:A}=this.#t;return A.isValue?this.#s(this.#t.defaultValueHelper().getDefaultOrPrefillValue(!0)):null}get value(){const A=this.#t.formula;return A.isValue?this.#s(this.#t.currentValues[A.fieldName]):A.isSetting?this.#t.settingsCurrent[A.settingName]:A.isValidation?{severity:"",message:""}:void 0}get selected(){return this.#a("list")}get selectedRaw(){return this.#a("listRaw")}#a(A){const O=this.#i.selected[A];return this.#i.picker.selectedCopy(O)}get options(){return this.#r("list")}get optionsRaw(){return this.#r("listRaw")}#r(A){return this.#i.options[A]}#s(A){return this.#n?.toUi(A)??A}}class R{constructor(A,O,V,G,N,L){this.designerSvc=A,this.translate=O,this.logSvc=V,this.contentType=G,this.entityGuid=N,this.ctTitle=L}getPartsFor(A){const O=A.runParameters.formula,V=this.#e(A),G=new p(this.designerSvc,this.translate,this.logSvc,O,this.ctTitle,V);return{formula:O,fieldName:O.fieldName,params:V,title:this.ctTitle,devHelper:G,valHelper:new o.d(this.contentType,this.entityGuid,O.fieldName,O.isValue,O.inputType,G.isOpen,A.runParameters.pickerHelper.infos.mapper)}}#e(A){const{formula:O,currentValues:V}=A.runParameters;switch(O.version){case D.GI.V1:case D.GI.V2:const G=Object.assign(new T(A),V),N=new u(A);return{data:G,context:new h(A,N)};default:throw new Error(`Formula version '${O.version}' unknown not supported`)}}}class H{constructor(A){this.prefill=A}all(){return this.#e||(this.#e=this.prefill?JSON.parse(JSON.stringify(this.prefill)):{}),this.#e}#e}},75240:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"sv",weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(o){var s=o%10;return"["+o+(1===s||2===s?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"}};return _.default.locale(p,null,!0),p}(m(49645))},75555:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"lb",weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),ordinal:function(o){return o},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return _.default.locale(p,null,!0),p}(m(49645))},77706:(ge,_e,m)=>{"use strict";m.d(_e,{q:()=>h});var D=m(51612),M=m(34435),_=m(36740),p=m(44031),o=m(66177),s=m(47314),d=m(55675);const u={all:!1,mergeGenericSettings:!0,getDefaultSettings:!1,fields:[..._.z,"GroupPreview"]};class h{constructor(y){this.log=(0,M.Tq)({FieldsSettingsHelpers:h},u)}mergeGenericSettings(y,C){const I=this.log.fnIfInList("mergeGenericSettings","fields",y,{fieldName:y,settings:C}),T=C;if(null==T.SettingsGeneric)return I.r(C,"No generic settings");try{const R=JSON.parse(T.SettingsGeneric);return I.r({...C,...R},"Merged generic settings")}catch(R){return console.error("mergeGenericSettings",R),I.r(C,"Error parsing generic settings")}}getDefaultSettings(y){const C=f.moveDeprecatedSettings({...y});C.Name??="",C.Placeholder??="",C.Notes??="",C.Required??=!1,C.Disabled??=!1,C.DisableTranslation??=!1,C.Visible??=!0,null!=C.DefaultCollapsed&&(C.Collapsed=C.DefaultCollapsed,delete C.DefaultCollapsed),C.Formulas??=[];let I=p.y.singleton().get(y.InputType);return C.DisableAutoTranslation??=!I?.canAutoTranslate,C}isLastInGroup(y,C){const I=y.Attributes.indexOf(C);return null==y.Attributes[I+1]||!(I<y.Attributes.findIndex(R=>D.Q.isGroupStart(R.InputType))||!D.Q.isGroupEnd(C.InputType)&&!D.Q.endsPreviousGroup(y.Attributes[I+1].InputType))}getDisabledBecauseTranslations(y,C,I){const T=new s.U(y,I);return!(I.current===I.primary||T.hasPrimary&&!C&&T.hasEditableValues)}getTranslationState(y,C,I,T){let R,H;T&&this.log.fn("getTranslationState",{attributeValues:y,disableTranslation:C,language:I});const W=new s.U(y,I);if(C)R="LangMenu.InAllLanguages",H="";else if(W.hasPrimary){const V=W.hasEditableValues,G=W.hasCurrentReadonly;if(V||G){const N=W.current.dimensions.map(w=>w.dimCode).filter(w=>!w.includes(I.current));N.length>0?(V?R="LangMenu.In":G&&(R="LangMenu.From"),H=o.x.calculateSharedInfoMessage(N,I.current)):(R="",H="")}else R="LangMenu.UseDefault",H=""}else R="LangMenu.MissingDefaultLangValue",H=I.primary;const A=this.#e(y,C,I);return{infoLabel:R,infoMessage:H,language:A.language,linkType:A.linkType}}#e(y,C,I){const T=new s.U(y,I);if(!T.hasPrimary)return{language:"",linkType:d.J.MissingDefaultLangValue};if(C)return{language:"",linkType:d.J.DontTranslate};if(T.hasEditableValues){const R=T.current.dimensions.filter(H=>H.dimCode!==I.current);return R.length>0?{language:R[0].dimCode,linkType:d.J.LinkReadWrite}:{language:"",linkType:d.J.Translate}}return T.hasCurrentReadonly?{language:T.current.dimensions.filter(H=>H.dimCode!==I.current)[0].dimCode,linkType:d.J.LinkReadOnly}:{language:"",linkType:d.J.DontTranslate}}}class f{static moveDeprecatedSettings(y){var C=y;return null==C.VisibleInEditUI||(y.Visible=C.VisibleInEditUI,delete C.VisibleInEditUI),y}}},78656:(ge,_e,m)=>{"use strict";m.d(_e,{i:()=>o});var D=m(44444),M=m(34435),_=m(58798);const p="user-settings";let o=(()=>{class d{constructor(){this.log=(0,M.Tq)({UserPreferences:d}),this.#i={},this.log.fn("constructor")}get local(){return this.#e??=new _.Yz(p)}#e;get session(){return this.#t??=new _.pj(p)}#t;get(h,f=!1){return(f?this.local:this.session).get(h)}set(h,f,v=!1){(v?this.local:this.session).add(h,f)}part({key:h,data:f}){return this.#n(h,f,!0)}#n(h,f,v=!1){if(this.#i[h])return this.#i[h];const y=new s(this,h,f,v);return this.#i[h]=y,y}#i;static#a=this.\u0275fac=function(f){return new(f||d)};static#r=this.\u0275prov=D.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();class s{constructor(u,h,f,v=!1){this.userSettings=u,this.storeKey=h,this.longTerm=v,this.log=(0,M.Tq)({UserPreferencesPart:s});const y={...f,...u.get(h,v)};this.log.fn("constructor",y),this.#e=(0,D.vPA)(y)}#e;get snapshot(){return this.#e()}get data(){return this.#e.asReadonly()}get(u){return this.#e()[u]}set(u,h){this.#e.update(f=>({...f,[u]:h})),this.#t()}toggle(u){this.#e.update(h=>({...h,[u]:!h[u]})),this.#t()}setAll(u){this.#e.set(u),this.#t()}setMany(u){this.#e.update(h=>({...h,...u})),this.#t()}#t(){const u=this.#e();this.log.fn("save",u),this.userSettings.set(this.storeKey,this.#e(),this.longTerm)}}},79733:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(v){return v&&"object"==typeof v&&"default"in v?v:{default:v}}(D);function p(v){return v%10<5&&v%10>1&&~~(v/10)%10!=1}function o(v,y,C){var I=v+" ";switch(C){case"m":return y?"minuta":"minut\u0119";case"mm":return I+(p(v)?"minuty":"minut");case"h":return y?"godzina":"godzin\u0119";case"hh":return I+(p(v)?"godziny":"godzin");case"MM":return I+(p(v)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return I+(p(v)?"lata":"lat")}}var s="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),d="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),u=/D MMMM/,h=function(v,y){return u.test(y)?s[v.month()]:d[v.month()]};h.s=d,h.f=s;var f={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),months:h,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),ordinal:function(v){return v+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:o,mm:o,h:o,hh:o,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:o,y:"rok",yy:o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return _.default.locale(f,null,!0),f}(m(49645))},80413:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"}};return _.default.locale(p,null,!0),p}(m(49645))},83066:function(ge){ge.exports=function(){"use strict";var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(m,D,M){var _=D.prototype,p=_.format;M.en.formats=_e,_.format=function(o){void 0===o&&(o="YYYY-MM-DDTHH:mm:ssZ");var h,s=this.$locale().formats,d=(h=void 0===s?{}:s,o.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,v,y){var C=y&&y.toUpperCase();return v||h[y]||_e[y]||h[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,T,R){return T||R.slice(1)})}));return p.call(this,d)}}}()},83821:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(o){return o},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return _.default.locale(p,null,!0),p}(m(49645))},85176:ge=>{self,ge.exports=function(){var _e={3099:function(_){_.exports=function(p){if("function"!=typeof p)throw TypeError(String(p)+" is not a function");return p}},6077:function(_,p,o){var s=o(111);_.exports=function(d){if(!s(d)&&null!==d)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},1223:function(_,p,o){var s=o(5112),d=o(30),u=o(3070),h=s("unscopables"),f=Array.prototype;null==f[h]&&u.f(f,h,{configurable:!0,value:d(null)}),_.exports=function(v){f[h][v]=!0}},1530:function(_,p,o){"use strict";var s=o(8710).charAt;_.exports=function(d,u,h){return u+(h?s(d,u).length:1)}},5787:function(_){_.exports=function(p,o,s){if(!(p instanceof o))throw TypeError("Incorrect "+(s?s+" ":"")+"invocation");return p}},9670:function(_,p,o){var s=o(111);_.exports=function(d){if(!s(d))throw TypeError(String(d)+" is not an object");return d}},4019:function(_){_.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:function(_,p,o){"use strict";var q,s=o(4019),d=o(9781),u=o(7854),h=o(111),f=o(6656),v=o(648),y=o(8880),C=o(1320),I=o(3070).f,T=o(9518),R=o(7674),H=o(5112),W=o(9711),A=u.Int8Array,O=A&&A.prototype,V=u.Uint8ClampedArray,G=V&&V.prototype,N=A&&T(A),L=O&&T(O),w=Object.prototype,k=w.isPrototypeOf,E=H("toStringTag"),Y=W("TYPED_ARRAY_TAG"),j=s&&!!R&&"Opera"!==v(u.opera),ee=!1,de={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},we={BigInt64Array:8,BigUint64Array:8},He=function($){if(!h($))return!1;var ne=v($);return f(de,ne)||f(we,ne)};for(q in de)u[q]||(j=!1);if((!j||"function"!=typeof N||N===Function.prototype)&&(N=function(){throw TypeError("Incorrect invocation")},j))for(q in de)u[q]&&R(u[q],N);if((!j||!L||L===w)&&(L=N.prototype,j))for(q in de)u[q]&&R(u[q].prototype,L);if(j&&T(G)!==L&&R(G,L),d&&!f(L,E))for(q in ee=!0,I(L,E,{get:function(){return h(this)?this[Y]:void 0}}),de)u[q]&&y(u[q],Y,q);_.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:ee&&Y,aTypedArray:function($){if(He($))return $;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function($){if(R){if(k.call(N,$))return $}else for(var ne in de)if(f(de,q)){var oe=u[ne];if(oe&&($===oe||k.call(oe,$)))return $}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function($,ne,oe){if(d){if(oe)for(var ve in de){var be=u[ve];be&&f(be.prototype,$)&&delete be.prototype[$]}(!L[$]||oe)&&C(L,$,oe?ne:j&&O[$]||ne)}},exportTypedArrayStaticMethod:function($,ne,oe){var ve,be;if(d){if(R){if(oe)for(ve in de)(be=u[ve])&&f(be,$)&&delete be[$];if(N[$]&&!oe)return;try{return C(N,$,oe?ne:j&&A[$]||ne)}catch{}}for(ve in de)(be=u[ve])&&(!be[$]||oe)&&C(be,$,ne)}},isView:function(ne){if(!h(ne))return!1;var oe=v(ne);return"DataView"===oe||f(de,oe)||f(we,oe)},isTypedArray:He,TypedArray:N,TypedArrayPrototype:L}},3331:function(_,p,o){"use strict";var s=o(7854),d=o(9781),u=o(4019),h=o(8880),f=o(2248),v=o(7293),y=o(5787),C=o(9958),I=o(7466),T=o(7067),R=o(1179),H=o(9518),W=o(7674),A=o(8006).f,O=o(3070).f,V=o(1285),G=o(8003),N=o(9909),L=N.get,w=N.set,k="ArrayBuffer",E="DataView",Y="prototype",ee="Wrong index",q=s[k],de=q,we=s[E],xe=we&&we[Y],He=Object.prototype,Te=s.RangeError,De=R.pack,Me=R.unpack,Be=function(Ae){return[255&Ae]},$=function(Ae){return[255&Ae,Ae>>8&255]},ne=function(Ae){return[255&Ae,Ae>>8&255,Ae>>16&255,Ae>>24&255]},oe=function(Ae){return Ae[3]<<24|Ae[2]<<16|Ae[1]<<8|Ae[0]},ve=function(Ae){return De(Ae,23,4)},be=function(Ae){return De(Ae,52,8)},he=function(Ae,ce){O(Ae[Y],ce,{get:function(){return L(this)[ce]}})},Ie=function(Ae,ce,Le,$e){var mt=T(Le),ht=L(Ae);if(mt+ce>ht.byteLength)throw Te(ee);var qe=L(ht.buffer).bytes,Pe=mt+ht.byteOffset,rt=qe.slice(Pe,Pe+ce);return $e?rt:rt.reverse()},Ke=function(Ae,ce,Le,$e,mt,ht){var qe=T(Le),Pe=L(Ae);if(qe+ce>Pe.byteLength)throw Te(ee);for(var rt=L(Pe.buffer).bytes,nt=qe+Pe.byteOffset,Qe=$e(+mt),pt=0;pt<ce;pt++)rt[nt+pt]=Qe[ht?pt:ce-pt-1]};if(u){if(!v(function(){q(1)})||!v(function(){new q(-1)})||v(function(){return new q,new q(1.5),new q(NaN),q.name!=k})){for(var Re,ye=(de=function(ce){return y(this,de),new q(T(ce))})[Y]=q[Y],Ee=A(q),re=0;Ee.length>re;)(Re=Ee[re++])in de||h(de,Re,q[Re]);ye.constructor=de}W&&H(xe)!==He&&W(xe,He);var ze=new we(new de(2)),Ne=xe.setInt8;ze.setInt8(0,2147483648),ze.setInt8(1,2147483649),(ze.getInt8(0)||!ze.getInt8(1))&&f(xe,{setInt8:function(ce,Le){Ne.call(this,ce,Le<<24>>24)},setUint8:function(ce,Le){Ne.call(this,ce,Le<<24>>24)}},{unsafe:!0})}else de=function(ce){y(this,de,k);var Le=T(ce);w(this,{bytes:V.call(new Array(Le),0),byteLength:Le}),d||(this.byteLength=Le)},we=function(ce,Le,$e){y(this,we,E),y(ce,de,E);var mt=L(ce).byteLength,ht=C(Le);if(ht<0||ht>mt)throw Te("Wrong offset");if(ht+($e=void 0===$e?mt-ht:I($e))>mt)throw Te("Wrong length");w(this,{buffer:ce,byteLength:$e,byteOffset:ht}),d||(this.buffer=ce,this.byteLength=$e,this.byteOffset=ht)},d&&(he(de,"byteLength"),he(we,"buffer"),he(we,"byteLength"),he(we,"byteOffset")),f(we[Y],{getInt8:function(ce){return Ie(this,1,ce)[0]<<24>>24},getUint8:function(ce){return Ie(this,1,ce)[0]},getInt16:function(ce){var Le=Ie(this,2,ce,arguments.length>1?arguments[1]:void 0);return(Le[1]<<8|Le[0])<<16>>16},getUint16:function(ce){var Le=Ie(this,2,ce,arguments.length>1?arguments[1]:void 0);return Le[1]<<8|Le[0]},getInt32:function(ce){return oe(Ie(this,4,ce,arguments.length>1?arguments[1]:void 0))},getUint32:function(ce){return oe(Ie(this,4,ce,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ce){return Me(Ie(this,4,ce,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ce){return Me(Ie(this,8,ce,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ce,Le){Ke(this,1,ce,Be,Le)},setUint8:function(ce,Le){Ke(this,1,ce,Be,Le)},setInt16:function(ce,Le){Ke(this,2,ce,$,Le,arguments.length>2?arguments[2]:void 0)},setUint16:function(ce,Le){Ke(this,2,ce,$,Le,arguments.length>2?arguments[2]:void 0)},setInt32:function(ce,Le){Ke(this,4,ce,ne,Le,arguments.length>2?arguments[2]:void 0)},setUint32:function(ce,Le){Ke(this,4,ce,ne,Le,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ce,Le){Ke(this,4,ce,ve,Le,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ce,Le){Ke(this,8,ce,be,Le,arguments.length>2?arguments[2]:void 0)}});G(de,k),G(we,E),_.exports={ArrayBuffer:de,DataView:we}},1048:function(_,p,o){"use strict";var s=o(7908),d=o(1400),u=o(7466),h=Math.min;_.exports=[].copyWithin||function(v,y){var C=s(this),I=u(C.length),T=d(v,I),R=d(y,I),H=arguments.length>2?arguments[2]:void 0,W=h((void 0===H?I:d(H,I))-R,I-T),A=1;for(R<T&&T<R+W&&(A=-1,R+=W-1,T+=W-1);W-- >0;)R in C?C[T]=C[R]:delete C[T],T+=A,R+=A;return C}},1285:function(_,p,o){"use strict";var s=o(7908),d=o(1400),u=o(7466);_.exports=function(f){for(var v=s(this),y=u(v.length),C=arguments.length,I=d(C>1?arguments[1]:void 0,y),T=C>2?arguments[2]:void 0,R=void 0===T?y:d(T,y);R>I;)v[I++]=f;return v}},8533:function(_,p,o){"use strict";var s=o(2092).forEach,u=o(9341)("forEach");_.exports=u?[].forEach:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}},8457:function(_,p,o){"use strict";var s=o(9974),d=o(7908),u=o(3411),h=o(7659),f=o(7466),v=o(6135),y=o(1246);_.exports=function(I){var G,N,L,w,k,E,T=d(I),R="function"==typeof this?this:Array,H=arguments.length,W=H>1?arguments[1]:void 0,A=void 0!==W,O=y(T),V=0;if(A&&(W=s(W,H>2?arguments[2]:void 0,2)),null==O||R==Array&&h(O))for(N=new R(G=f(T.length));G>V;V++)E=A?W(T[V],V):T[V],v(N,V,E);else for(k=(w=O.call(T)).next,N=new R;!(L=k.call(w)).done;V++)E=A?u(w,W,[L.value,V],!0):L.value,v(N,V,E);return N.length=V,N}},1318:function(_,p,o){var s=o(5656),d=o(7466),u=o(1400),h=function(f){return function(v,y,C){var H,I=s(v),T=d(I.length),R=u(C,T);if(f&&y!=y){for(;T>R;)if((H=I[R++])!=H)return!0}else for(;T>R;R++)if((f||R in I)&&I[R]===y)return f||R||0;return!f&&-1}};_.exports={includes:h(!0),indexOf:h(!1)}},2092:function(_,p,o){var s=o(9974),d=o(8361),u=o(7908),h=o(7466),f=o(5417),v=[].push,y=function(C){var I=1==C,T=2==C,R=3==C,H=4==C,W=6==C,A=7==C,O=5==C||W;return function(V,G,N,L){for(var de,we,w=u(V),k=d(w),E=s(G,N,3),Y=h(k.length),j=0,ee=L||f,q=I?ee(V,Y):T||A?ee(V,0):void 0;Y>j;j++)if((O||j in k)&&(we=E(de=k[j],j,w),C))if(I)q[j]=we;else if(we)switch(C){case 3:return!0;case 5:return de;case 6:return j;case 2:v.call(q,de)}else switch(C){case 4:return!1;case 7:v.call(q,de)}return W?-1:R||H?H:q}};_.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterOut:y(7)}},6583:function(_,p,o){"use strict";var s=o(5656),d=o(9958),u=o(7466),h=o(9341),f=Math.min,v=[].lastIndexOf,y=!!v&&1/[1].lastIndexOf(1,-0)<0,C=h("lastIndexOf");_.exports=y||!C?function(R){if(y)return v.apply(this,arguments)||0;var H=s(this),W=u(H.length),A=W-1;for(arguments.length>1&&(A=f(A,d(arguments[1]))),A<0&&(A=W+A);A>=0;A--)if(A in H&&H[A]===R)return A||0;return-1}:v},1194:function(_,p,o){var s=o(7293),d=o(5112),u=o(7392),h=d("species");_.exports=function(f){return u>=51||!s(function(){var v=[];return(v.constructor={})[h]=function(){return{foo:1}},1!==v[f](Boolean).foo})}},9341:function(_,p,o){"use strict";var s=o(7293);_.exports=function(d,u){var h=[][d];return!!h&&s(function(){h.call(null,u||function(){throw 1},1)})}},3671:function(_,p,o){var s=o(3099),d=o(7908),u=o(8361),h=o(7466),f=function(v){return function(y,C,I,T){s(C);var R=d(y),H=u(R),W=h(R.length),A=v?W-1:0,O=v?-1:1;if(I<2)for(;;){if(A in H){T=H[A],A+=O;break}if(A+=O,v?A<0:W<=A)throw TypeError("Reduce of empty array with no initial value")}for(;v?A>=0:W>A;A+=O)A in H&&(T=C(T,H[A],A,R));return T}};_.exports={left:f(!1),right:f(!0)}},5417:function(_,p,o){var s=o(111),d=o(3157),h=o(5112)("species");_.exports=function(f,v){var y;return d(f)&&("function"!=typeof(y=f.constructor)||y!==Array&&!d(y.prototype)?s(y)&&null===(y=y[h])&&(y=void 0):y=void 0),new(void 0===y?Array:y)(0===v?0:v)}},3411:function(_,p,o){var s=o(9670),d=o(9212);_.exports=function(u,h,f,v){try{return v?h(s(f)[0],f[1]):h(f)}catch(y){throw d(u),y}}},7072:function(_,p,o){var d=o(5112)("iterator"),u=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){u=!0}};f[d]=function(){return this},Array.from(f,function(){throw 2})}catch{}_.exports=function(v,y){if(!y&&!u)return!1;var C=!1;try{var I={};I[d]=function(){return{next:function(){return{done:C=!0}}}},v(I)}catch{}return C}},4326:function(_){var p={}.toString;_.exports=function(o){return p.call(o).slice(8,-1)}},648:function(_,p,o){var s=o(1694),d=o(4326),h=o(5112)("toStringTag"),f="Arguments"==d(function(){return arguments}());_.exports=s?d:function(y){var C,I,T;return void 0===y?"Undefined":null===y?"Null":"string"==typeof(I=function(y,C){try{return y[C]}catch{}}(C=Object(y),h))?I:f?d(C):"Object"==(T=d(C))&&"function"==typeof C.callee?"Arguments":T}},9920:function(_,p,o){var s=o(6656),d=o(3887),u=o(1236),h=o(3070);_.exports=function(f,v){for(var y=d(v),C=h.f,I=u.f,T=0;T<y.length;T++){var R=y[T];s(f,R)||C(f,R,I(v,R))}}},8544:function(_,p,o){var s=o(7293);_.exports=!s(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},4994:function(_,p,o){"use strict";var s=o(3383).IteratorPrototype,d=o(30),u=o(9114),h=o(8003),f=o(7497),v=function(){return this};_.exports=function(y,C,I){var T=C+" Iterator";return y.prototype=d(s,{next:u(1,I)}),h(y,T,!1,!0),f[T]=v,y}},8880:function(_,p,o){var s=o(9781),d=o(3070),u=o(9114);_.exports=s?function(h,f,v){return d.f(h,f,u(1,v))}:function(h,f,v){return h[f]=v,h}},9114:function(_){_.exports=function(p,o){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:o}}},6135:function(_,p,o){"use strict";var s=o(7593),d=o(3070),u=o(9114);_.exports=function(h,f,v){var y=s(f);y in h?d.f(h,y,u(0,v)):h[y]=v}},654:function(_,p,o){"use strict";var s=o(2109),d=o(4994),u=o(9518),h=o(7674),f=o(8003),v=o(8880),y=o(1320),C=o(5112),I=o(1913),T=o(7497),R=o(3383),H=R.IteratorPrototype,W=R.BUGGY_SAFARI_ITERATORS,A=C("iterator"),O="keys",V="values",G="entries",N=function(){return this};_.exports=function(L,w,k,E,Y,j,ee){d(k,w,E);var Me,Be,$,q=function(ne){if(ne===Y&&Te)return Te;if(!W&&ne in xe)return xe[ne];switch(ne){case O:case V:case G:return function(){return new k(this,ne)}}return function(){return new k(this)}},de=w+" Iterator",we=!1,xe=L.prototype,He=xe[A]||xe["@@iterator"]||Y&&xe[Y],Te=!W&&He||q(Y),De="Array"==w&&xe.entries||He;if(De&&(Me=u(De.call(new L)),H!==Object.prototype&&Me.next&&(!I&&u(Me)!==H&&(h?h(Me,H):"function"!=typeof Me[A]&&v(Me,A,N)),f(Me,de,!0,!0),I&&(T[de]=N))),Y==V&&He&&He.name!==V&&(we=!0,Te=function(){return He.call(this)}),(!I||ee)&&xe[A]!==Te&&v(xe,A,Te),T[w]=Te,Y)if(Be={values:q(V),keys:j?Te:q(O),entries:q(G)},ee)for($ in Be)(W||we||!($ in xe))&&y(xe,$,Be[$]);else s({target:w,proto:!0,forced:W||we},Be);return Be}},9781:function(_,p,o){var s=o(7293);_.exports=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(_,p,o){var s=o(7854),d=o(111),u=s.document,h=d(u)&&d(u.createElement);_.exports=function(f){return h?u.createElement(f):{}}},8324:function(_){_.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(_,p,o){var s=o(5005);_.exports=s("navigator","userAgent")||""},7392:function(_,p,o){var v,y,s=o(7854),d=o(8113),u=s.process,h=u&&u.versions,f=h&&h.v8;f?y=(v=f.split("."))[0]+v[1]:d&&(!(v=d.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=d.match(/Chrome\/(\d+)/))&&(y=v[1]),_.exports=y&&+y},748:function(_){_.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(_,p,o){var s=o(7854),d=o(1236).f,u=o(8880),h=o(1320),f=o(3505),v=o(9920),y=o(4705);_.exports=function(C,I){var A,O,V,G,N,T=C.target,R=C.global,H=C.stat;if(A=R?s:H?s[T]||f(T,{}):(s[T]||{}).prototype)for(O in I){if(G=I[O],V=C.noTargetGet?(N=d(A,O))&&N.value:A[O],!y(R?O:T+(H?".":"#")+O,C.forced)&&void 0!==V){if(typeof G==typeof V)continue;v(G,V)}(C.sham||V&&V.sham)&&u(G,"sham",!0),h(A,O,G,C)}}},7293:function(_){_.exports=function(p){try{return!!p()}catch{return!0}}},7007:function(_,p,o){"use strict";o(4916);var s=o(1320),d=o(7293),u=o(5112),h=o(2261),f=o(8880),v=u("species"),y=!d(function(){var H=/./;return H.exec=function(){var W=[];return W.groups={a:"7"},W},"7"!=="".replace(H,"$<a>")}),C="$0"==="a".replace(/./,"$0"),I=u("replace"),T=!!/./[I]&&""===/./[I]("a","$0"),R=!d(function(){var H=/(?:)/,W=H.exec;H.exec=function(){return W.apply(this,arguments)};var A="ab".split(H);return 2!==A.length||"a"!==A[0]||"b"!==A[1]});_.exports=function(H,W,A,O){var V=u(H),G=!d(function(){var Y={};return Y[V]=function(){return 7},7!=""[H](Y)}),N=G&&!d(function(){var Y=!1,j=/a/;return"split"===H&&((j={}).constructor={},j.constructor[v]=function(){return j},j.flags="",j[V]=/./[V]),j.exec=function(){return Y=!0,null},j[V](""),!Y});if(!G||!N||"replace"===H&&(!y||!C||T)||"split"===H&&!R){var L=/./[V],w=A(V,""[H],function(Y,j,ee,q,de){return j.exec===h?G&&!de?{done:!0,value:L.call(j,ee,q)}:{done:!0,value:Y.call(ee,j,q)}:{done:!1}},{REPLACE_KEEPS_$0:C,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:T}),E=w[1];s(String.prototype,H,w[0]),s(RegExp.prototype,V,2==W?function(Y,j){return E.call(Y,this,j)}:function(Y){return E.call(Y,this)})}O&&f(RegExp.prototype[V],"sham",!0)}},9974:function(_,p,o){var s=o(3099);_.exports=function(d,u,h){if(s(d),void 0===u)return d;switch(h){case 0:return function(){return d.call(u)};case 1:return function(f){return d.call(u,f)};case 2:return function(f,v){return d.call(u,f,v)};case 3:return function(f,v,y){return d.call(u,f,v,y)}}return function(){return d.apply(u,arguments)}}},5005:function(_,p,o){var s=o(857),d=o(7854),u=function(h){return"function"==typeof h?h:void 0};_.exports=function(h,f){return arguments.length<2?u(s[h])||u(d[h]):s[h]&&s[h][f]||d[h]&&d[h][f]}},1246:function(_,p,o){var s=o(648),d=o(7497),h=o(5112)("iterator");_.exports=function(f){if(null!=f)return f[h]||f["@@iterator"]||d[s(f)]}},8554:function(_,p,o){var s=o(9670),d=o(1246);_.exports=function(u){var h=d(u);if("function"!=typeof h)throw TypeError(String(u)+" is not iterable");return s(h.call(u))}},647:function(_,p,o){var s=o(7908),d=Math.floor,u="".replace,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g;_.exports=function(v,y,C,I,T,R){var H=C+v.length,W=I.length,A=f;return void 0!==T&&(T=s(T),A=h),u.call(R,A,function(O,V){var G;switch(V.charAt(0)){case"$":return"$";case"&":return v;case"`":return y.slice(0,C);case"'":return y.slice(H);case"<":G=T[V.slice(1,-1)];break;default:var N=+V;if(0===N)return O;if(N>W){var L=d(N/10);return 0===L?O:L<=W?void 0===I[L-1]?V.charAt(1):I[L-1]+V.charAt(1):O}G=I[N-1]}return void 0===G?"":G})}},7854:function(_,p,o){var s=function(d){return d&&d.Math==Math&&d};_.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof o.g&&o.g)||function(){return this}()||Function("return this")()},6656:function(_){var p={}.hasOwnProperty;_.exports=function(o,s){return p.call(o,s)}},3501:function(_){_.exports={}},490:function(_,p,o){var s=o(5005);_.exports=s("document","documentElement")},4664:function(_,p,o){var s=o(9781),d=o(7293),u=o(317);_.exports=!s&&!d(function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},1179:function(_){var p=Math.abs,o=Math.pow,s=Math.floor,d=Math.log,u=Math.LN2;_.exports={pack:function(v,y,C){var V,G,N,I=new Array(C),T=8*C-y-1,R=(1<<T)-1,H=R>>1,W=23===y?o(2,-24)-o(2,-77):0,A=v<0||0===v&&1/v<0?1:0,O=0;for((v=p(v))!=v||v===1/0?(G=v!=v?1:0,V=R):(V=s(d(v)/u),v*(N=o(2,-V))<1&&(V--,N*=2),(v+=V+H>=1?W/N:W*o(2,1-H))*N>=2&&(V++,N/=2),V+H>=R?(G=0,V=R):V+H>=1?(G=(v*N-1)*o(2,y),V+=H):(G=v*o(2,H-1)*o(2,y),V=0));y>=8;I[O++]=255&G,G/=256,y-=8);for(V=V<<y|G,T+=y;T>0;I[O++]=255&V,V/=256,T-=8);return I[--O]|=128*A,I},unpack:function(v,y){var V,C=v.length,I=8*C-y-1,T=(1<<I)-1,R=T>>1,H=I-7,W=C-1,A=v[W--],O=127&A;for(A>>=7;H>0;O=256*O+v[W],W--,H-=8);for(V=O&(1<<-H)-1,O>>=-H,H+=y;H>0;V=256*V+v[W],W--,H-=8);if(0===O)O=1-R;else{if(O===T)return V?NaN:A?-1/0:1/0;V+=o(2,y),O-=R}return(A?-1:1)*V*o(2,O-y)}}},8361:function(_,p,o){var s=o(7293),d=o(4326),u="".split;_.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return"String"==d(h)?u.call(h,""):Object(h)}:Object},9587:function(_,p,o){var s=o(111),d=o(7674);_.exports=function(u,h,f){var v,y;return d&&"function"==typeof(v=h.constructor)&&v!==f&&s(y=v.prototype)&&y!==f.prototype&&d(u,y),u}},2788:function(_,p,o){var s=o(5465),d=Function.toString;"function"!=typeof s.inspectSource&&(s.inspectSource=function(u){return d.call(u)}),_.exports=s.inspectSource},9909:function(_,p,o){var T,R,H,s=o(8536),d=o(7854),u=o(111),h=o(8880),f=o(6656),v=o(5465),y=o(6200),C=o(3501);if(s){var O=v.state||(v.state=new(0,d.WeakMap)),V=O.get,G=O.has,N=O.set;T=function(w,k){return k.facade=w,N.call(O,w,k),k},R=function(w){return V.call(O,w)||{}},H=function(w){return G.call(O,w)}}else{var L=y("state");C[L]=!0,T=function(w,k){return k.facade=w,h(w,L,k),k},R=function(w){return f(w,L)?w[L]:{}},H=function(w){return f(w,L)}}_.exports={set:T,get:R,has:H,enforce:function(w){return H(w)?R(w):T(w,{})},getterFor:function(w){return function(k){var E;if(!u(k)||(E=R(k)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return E}}}},7659:function(_,p,o){var s=o(5112),d=o(7497),u=s("iterator"),h=Array.prototype;_.exports=function(f){return void 0!==f&&(d.Array===f||h[u]===f)}},3157:function(_,p,o){var s=o(4326);_.exports=Array.isArray||function(u){return"Array"==s(u)}},4705:function(_,p,o){var s=o(7293),d=/#|\.prototype\./,u=function(C,I){var T=f[h(C)];return T==y||T!=v&&("function"==typeof I?s(I):!!I)},h=u.normalize=function(C){return String(C).replace(d,".").toLowerCase()},f=u.data={},v=u.NATIVE="N",y=u.POLYFILL="P";_.exports=u},111:function(_){_.exports=function(p){return"object"==typeof p?null!==p:"function"==typeof p}},1913:function(_){_.exports=!1},7850:function(_,p,o){var s=o(111),d=o(4326),h=o(5112)("match");_.exports=function(f){var v;return s(f)&&(void 0!==(v=f[h])?!!v:"RegExp"==d(f))}},9212:function(_,p,o){var s=o(9670);_.exports=function(d){var u=d.return;if(void 0!==u)return s(u.call(d)).value}},3383:function(_,p,o){"use strict";var T,R,H,s=o(7293),d=o(9518),u=o(8880),h=o(6656),f=o(5112),v=o(1913),y=f("iterator"),C=!1;[].keys&&("next"in(H=[].keys())?(R=d(d(H)))!==Object.prototype&&(T=R):C=!0);var W=null==T||s(function(){var A={};return T[y].call(A)!==A});W&&(T={}),(!v||W)&&!h(T,y)&&u(T,y,function(){return this}),_.exports={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:C}},7497:function(_){_.exports={}},133:function(_,p,o){var s=o(7293);_.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},590:function(_,p,o){var s=o(7293),d=o(5112),u=o(1913),h=d("iterator");_.exports=!s(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),v=f.searchParams,y="";return f.pathname="c%20d",v.forEach(function(C,I){v.delete("b"),y+=I+C}),u&&!f.toJSON||!v.sort||"http://a/c%20d?a=1&c=3"!==f.href||"3"!==v.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!v[h]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==y||"x"!==new URL("http://x",void 0).host})},8536:function(_,p,o){var s=o(7854),d=o(2788),u=s.WeakMap;_.exports="function"==typeof u&&/native code/.test(d(u))},1574:function(_,p,o){"use strict";var s=o(9781),d=o(7293),u=o(1956),h=o(5181),f=o(5296),v=o(7908),y=o(8361),C=Object.assign,I=Object.defineProperty;_.exports=!C||d(function(){if(s&&1!==C({b:1},C(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var T={},R={},H=Symbol(),W="abcdefghijklmnopqrst";return T[H]=7,W.split("").forEach(function(A){R[A]=A}),7!=C({},T)[H]||u(C({},R)).join("")!=W})?function(R,H){for(var W=v(R),A=arguments.length,O=1,V=h.f,G=f.f;A>O;)for(var E,N=y(arguments[O++]),L=V?u(N).concat(V(N)):u(N),w=L.length,k=0;w>k;)E=L[k++],(!s||G.call(N,E))&&(W[E]=N[E]);return W}:C},30:function(_,p,o){var G,s=o(9670),d=o(6048),u=o(748),h=o(3501),f=o(490),v=o(317),y=o(6200),T="prototype",R="script",H=y("IE_PROTO"),W=function(){},A=function(L){return"<"+R+">"+L+"</"+R+">"},N=function(){try{G=document.domain&&new ActiveXObject("htmlfile")}catch{}N=G?function(L){L.write(A("")),L.close();var w=L.parentWindow.Object;return L=null,w}(G):function(){var k,L=v("iframe"),w="java"+R+":";return L.style.display="none",f.appendChild(L),L.src=String(w),(k=L.contentWindow.document).open(),k.write(A("document.F=Object")),k.close(),k.F}();for(var L=u.length;L--;)delete N[T][u[L]];return N()};h[H]=!0,_.exports=Object.create||function(w,k){var E;return null!==w?(W[T]=s(w),E=new W,W[T]=null,E[H]=w):E=N(),void 0===k?E:d(E,k)}},6048:function(_,p,o){var s=o(9781),d=o(3070),u=o(9670),h=o(1956);_.exports=s?Object.defineProperties:function(v,y){u(v);for(var R,C=h(y),I=C.length,T=0;I>T;)d.f(v,R=C[T++],y[R]);return v}},3070:function(_,p,o){var s=o(9781),d=o(4664),u=o(9670),h=o(7593),f=Object.defineProperty;p.f=s?f:function(y,C,I){if(u(y),C=h(C,!0),u(I),d)try{return f(y,C,I)}catch{}if("get"in I||"set"in I)throw TypeError("Accessors not supported");return"value"in I&&(y[C]=I.value),y}},1236:function(_,p,o){var s=o(9781),d=o(5296),u=o(9114),h=o(5656),f=o(7593),v=o(6656),y=o(4664),C=Object.getOwnPropertyDescriptor;p.f=s?C:function(T,R){if(T=h(T),R=f(R,!0),y)try{return C(T,R)}catch{}if(v(T,R))return u(!d.f.call(T,R),T[R])}},8006:function(_,p,o){var s=o(6324),u=o(748).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(f){return s(f,u)}},5181:function(_,p){p.f=Object.getOwnPropertySymbols},9518:function(_,p,o){var s=o(6656),d=o(7908),u=o(6200),h=o(8544),f=u("IE_PROTO"),v=Object.prototype;_.exports=h?Object.getPrototypeOf:function(y){return y=d(y),s(y,f)?y[f]:"function"==typeof y.constructor&&y instanceof y.constructor?y.constructor.prototype:y instanceof Object?v:null}},6324:function(_,p,o){var s=o(6656),d=o(5656),u=o(1318).indexOf,h=o(3501);_.exports=function(f,v){var T,y=d(f),C=0,I=[];for(T in y)!s(h,T)&&s(y,T)&&I.push(T);for(;v.length>C;)s(y,T=v[C++])&&(~u(I,T)||I.push(T));return I}},1956:function(_,p,o){var s=o(6324),d=o(748);_.exports=Object.keys||function(h){return s(h,d)}},5296:function(_,p){"use strict";var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,d=s&&!o.call({1:2},1);p.f=d?function(h){var f=s(this,h);return!!f&&f.enumerable}:o},7674:function(_,p,o){var s=o(9670),d=o(6077);_.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,u=!1,h={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(h,[]),u=h instanceof Array}catch{}return function(y,C){return s(y),d(C),u?f.call(y,C):y.__proto__=C,y}}():void 0)},288:function(_,p,o){"use strict";var s=o(1694),d=o(648);_.exports=s?{}.toString:function(){return"[object "+d(this)+"]"}},3887:function(_,p,o){var s=o(5005),d=o(8006),u=o(5181),h=o(9670);_.exports=s("Reflect","ownKeys")||function(v){var y=d.f(h(v)),C=u.f;return C?y.concat(C(v)):y}},857:function(_,p,o){var s=o(7854);_.exports=s},2248:function(_,p,o){var s=o(1320);_.exports=function(d,u,h){for(var f in u)s(d,f,u[f],h);return d}},1320:function(_,p,o){var s=o(7854),d=o(8880),u=o(6656),h=o(3505),f=o(2788),v=o(9909),y=v.get,C=v.enforce,I=String(String).split("String");(_.exports=function(T,R,H,W){var G,A=!!W&&!!W.unsafe,O=!!W&&!!W.enumerable,V=!!W&&!!W.noTargetGet;"function"==typeof H&&("string"==typeof R&&!u(H,"name")&&d(H,"name",R),(G=C(H)).source||(G.source=I.join("string"==typeof R?R:""))),T!==s?(A?!V&&T[R]&&(O=!0):delete T[R],O?T[R]=H:d(T,R,H)):O?T[R]=H:h(R,H)})(Function.prototype,"toString",function(){return"function"==typeof this&&y(this).source||f(this)})},7651:function(_,p,o){var s=o(4326),d=o(2261);_.exports=function(u,h){var f=u.exec;if("function"==typeof f){var v=f.call(u,h);if("object"!=typeof v)throw TypeError("RegExp exec method returned something other than an Object or null");return v}if("RegExp"!==s(u))throw TypeError("RegExp#exec called on incompatible receiver");return d.call(u,h)}},2261:function(_,p,o){"use strict";var T,R,s=o(7066),d=o(2999),u=RegExp.prototype.exec,h=String.prototype.replace,f=u,v=(R=/b*/g,u.call(T=/a/,"a"),u.call(R,"a"),0!==T.lastIndex||0!==R.lastIndex),y=d.UNSUPPORTED_Y||d.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(v||C||y)&&(f=function(R){var W,A,O,V,H=this,G=y&&H.sticky,N=s.call(H),L=H.source,w=0,k=R;return G&&(-1===(N=N.replace("y","")).indexOf("g")&&(N+="g"),k=String(R).slice(H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&"\n"!==R[H.lastIndex-1])&&(L="(?: "+L+")",k=" "+k,w++),A=new RegExp("^(?:"+L+")",N)),C&&(A=new RegExp("^"+L+"$(?!\\s)",N)),v&&(W=H.lastIndex),O=u.call(G?A:H,k),G?O?(O.input=O.input.slice(w),O[0]=O[0].slice(w),O.index=H.lastIndex,H.lastIndex+=O[0].length):H.lastIndex=0:v&&O&&(H.lastIndex=H.global?O.index+O[0].length:W),C&&O&&O.length>1&&h.call(O[0],A,function(){for(V=1;V<arguments.length-2;V++)void 0===arguments[V]&&(O[V]=void 0)}),O}),_.exports=f},7066:function(_,p,o){"use strict";var s=o(9670);_.exports=function(){var d=s(this),u="";return d.global&&(u+="g"),d.ignoreCase&&(u+="i"),d.multiline&&(u+="m"),d.dotAll&&(u+="s"),d.unicode&&(u+="u"),d.sticky&&(u+="y"),u}},2999:function(_,p,o){"use strict";var s=o(7293);function d(u,h){return RegExp(u,h)}p.UNSUPPORTED_Y=s(function(){var u=d("a","y");return u.lastIndex=2,null!=u.exec("abcd")}),p.BROKEN_CARET=s(function(){var u=d("^r","gy");return u.lastIndex=2,null!=u.exec("str")})},4488:function(_){_.exports=function(p){if(null==p)throw TypeError("Can't call method on "+p);return p}},3505:function(_,p,o){var s=o(7854),d=o(8880);_.exports=function(u,h){try{d(s,u,h)}catch{s[u]=h}return h}},6340:function(_,p,o){"use strict";var s=o(5005),d=o(3070),u=o(5112),h=o(9781),f=u("species");_.exports=function(v){var y=s(v);h&&y&&!y[f]&&(0,d.f)(y,f,{configurable:!0,get:function(){return this}})}},8003:function(_,p,o){var s=o(3070).f,d=o(6656),h=o(5112)("toStringTag");_.exports=function(f,v,y){f&&!d(f=y?f:f.prototype,h)&&s(f,h,{configurable:!0,value:v})}},6200:function(_,p,o){var s=o(2309),d=o(9711),u=s("keys");_.exports=function(h){return u[h]||(u[h]=d(h))}},5465:function(_,p,o){var s=o(7854),d=o(3505),u="__core-js_shared__",h=s[u]||d(u,{});_.exports=h},2309:function(_,p,o){var s=o(1913),d=o(5465);(_.exports=function(u,h){return d[u]||(d[u]=void 0!==h?h:{})})("versions",[]).push({version:"3.9.0",mode:s?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(_,p,o){var s=o(9670),d=o(3099),h=o(5112)("species");_.exports=function(f,v){var C,y=s(f).constructor;return void 0===y||null==(C=s(y)[h])?v:d(C)}},8710:function(_,p,o){var s=o(9958),d=o(4488),u=function(h){return function(f,v){var T,R,y=String(d(f)),C=s(v),I=y.length;return C<0||C>=I?h?"":void 0:(T=y.charCodeAt(C))<55296||T>56319||C+1===I||(R=y.charCodeAt(C+1))<56320||R>57343?h?y.charAt(C):T:h?y.slice(C,C+2):R-56320+(T-55296<<10)+65536}};_.exports={codeAt:u(!1),charAt:u(!0)}},3197:function(_){"use strict";var p=2147483647,C=/[^\0-\u007E]/,I=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",H=Math.floor,W=String.fromCharCode,O=function(N){return N+22+75*(N<26)},V=function(N,L,w){var k=0;for(N=w?H(N/700):N>>1,N+=H(N/L);N>455;k+=36)N=H(N/35);return H(k+36*N/(N+38))},G=function(N){var j,ee,L=[],w=(N=function(N){for(var L=[],w=0,k=N.length;w<k;){var E=N.charCodeAt(w++);if(E>=55296&&E<=56319&&w<k){var Y=N.charCodeAt(w++);56320==(64512&Y)?L.push(((1023&E)<<10)+(1023&Y)+65536):(L.push(E),w--)}else L.push(E)}return L}(N)).length,k=128,E=0,Y=72;for(j=0;j<N.length;j++)(ee=N[j])<128&&L.push(W(ee));var q=L.length,de=q;for(q&&L.push("-");de<w;){var we=p;for(j=0;j<N.length;j++)(ee=N[j])>=k&&ee<we&&(we=ee);var xe=de+1;if(we-k>H((p-E)/xe))throw RangeError(T);for(E+=(we-k)*xe,k=we,j=0;j<N.length;j++){if((ee=N[j])<k&&++E>p)throw RangeError(T);if(ee==k){for(var He=E,Te=36;;Te+=36){var De=Te<=Y?1:Te>=Y+26?26:Te-Y;if(He<De)break;var Me=He-De,Be=36-De;L.push(W(O(De+Me%Be))),He=H(Me/Be)}L.push(W(O(He))),Y=V(E,xe,de==q),E=0,++de}}++E,++k}return L.join("")};_.exports=function(N){var k,E,L=[],w=N.toLowerCase().replace(I,".").split(".");for(k=0;k<w.length;k++)L.push(C.test(E=w[k])?"xn--"+G(E):E);return L.join(".")}},6091:function(_,p,o){var s=o(7293),d=o(1361);_.exports=function(h){return s(function(){return!!d[h]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[h]()||d[h].name!==h})}},3111:function(_,p,o){var s=o(4488),u="["+o(1361)+"]",h=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),v=function(y){return function(C){var I=String(s(C));return 1&y&&(I=I.replace(h,"")),2&y&&(I=I.replace(f,"")),I}};_.exports={start:v(1),end:v(2),trim:v(3)}},1400:function(_,p,o){var s=o(9958),d=Math.max,u=Math.min;_.exports=function(h,f){var v=s(h);return v<0?d(v+f,0):u(v,f)}},7067:function(_,p,o){var s=o(9958),d=o(7466);_.exports=function(u){if(void 0===u)return 0;var h=s(u),f=d(h);if(h!==f)throw RangeError("Wrong length or index");return f}},5656:function(_,p,o){var s=o(8361),d=o(4488);_.exports=function(u){return s(d(u))}},9958:function(_){var p=Math.ceil,o=Math.floor;_.exports=function(s){return isNaN(s=+s)?0:(s>0?o:p)(s)}},7466:function(_,p,o){var s=o(9958),d=Math.min;_.exports=function(u){return u>0?d(s(u),9007199254740991):0}},7908:function(_,p,o){var s=o(4488);_.exports=function(d){return Object(s(d))}},4590:function(_,p,o){var s=o(3002);_.exports=function(d,u){var h=s(d);if(h%u)throw RangeError("Wrong offset");return h}},3002:function(_,p,o){var s=o(9958);_.exports=function(d){var u=s(d);if(u<0)throw RangeError("The argument can't be less than 0");return u}},7593:function(_,p,o){var s=o(111);_.exports=function(d,u){if(!s(d))return d;var h,f;if(u&&"function"==typeof(h=d.toString)&&!s(f=h.call(d))||"function"==typeof(h=d.valueOf)&&!s(f=h.call(d))||!u&&"function"==typeof(h=d.toString)&&!s(f=h.call(d)))return f;throw TypeError("Can't convert object to primitive value")}},1694:function(_,p,o){var u={};u[o(5112)("toStringTag")]="z",_.exports="[object z]"===String(u)},9843:function(_,p,o){"use strict";var s=o(2109),d=o(7854),u=o(9781),h=o(3832),f=o(260),v=o(3331),y=o(5787),C=o(9114),I=o(8880),T=o(7466),R=o(7067),H=o(4590),W=o(7593),A=o(6656),O=o(648),V=o(111),G=o(30),N=o(7674),L=o(8006).f,w=o(7321),k=o(2092).forEach,E=o(6340),Y=o(3070),j=o(1236),ee=o(9909),q=o(9587),de=ee.get,we=ee.set,xe=Y.f,He=j.f,Te=Math.round,De=d.RangeError,Me=v.ArrayBuffer,Be=v.DataView,$=f.NATIVE_ARRAY_BUFFER_VIEWS,ne=f.TYPED_ARRAY_TAG,oe=f.TypedArray,ve=f.TypedArrayPrototype,be=f.aTypedArrayConstructor,he=f.isTypedArray,Ie="BYTES_PER_ELEMENT",Ke="Wrong length",ye=function(Ae,ce){for(var Le=0,$e=ce.length,mt=new(be(Ae))($e);$e>Le;)mt[Le]=ce[Le++];return mt},Ee=function(Ae,ce){xe(Ae,ce,{get:function(){return de(this)[ce]}})},re=function(Ae){var ce;return Ae instanceof Me||"ArrayBuffer"==(ce=O(Ae))||"SharedArrayBuffer"==ce},Re=function(Ae,ce){return he(Ae)&&"symbol"!=typeof ce&&ce in Ae&&String(+ce)==String(ce)},ze=function(ce,Le){return Re(ce,Le=W(Le,!0))?C(2,ce[Le]):He(ce,Le)},Ne=function(ce,Le,$e){return!(Re(ce,Le=W(Le,!0))&&V($e)&&A($e,"value"))||A($e,"get")||A($e,"set")||$e.configurable||A($e,"writable")&&!$e.writable||A($e,"enumerable")&&!$e.enumerable?xe(ce,Le,$e):(ce[Le]=$e.value,ce)};u?($||(j.f=ze,Y.f=Ne,Ee(ve,"buffer"),Ee(ve,"byteOffset"),Ee(ve,"byteLength"),Ee(ve,"length")),s({target:"Object",stat:!0,forced:!$},{getOwnPropertyDescriptor:ze,defineProperty:Ne}),_.exports=function(Ae,ce,Le){var $e=Ae.match(/\d+$/)[0]/8,mt=Ae+(Le?"Clamped":"")+"Array",ht="get"+Ae,qe="set"+Ae,Pe=d[mt],rt=Pe,nt=rt&&rt.prototype,Qe={},ae=function(ue,Ce){xe(ue,Ce,{get:function(){return function(ue,Ce){var Ue=de(ue);return Ue.view[ht](Ce*$e+Ue.byteOffset,!0)}(this,Ce)},set:function(Ue){return function(ue,Ce,Ue){var le=de(ue);Le&&(Ue=(Ue=Te(Ue))<0?0:Ue>255?255:255&Ue),le.view[qe](Ce*$e+le.byteOffset,Ue,!0)}(this,Ce,Ue)},enumerable:!0})};$?h&&(rt=ce(function(ue,Ce,Ue,le){return y(ue,rt,mt),q(V(Ce)?re(Ce)?void 0!==le?new Pe(Ce,H(Ue,$e),le):void 0!==Ue?new Pe(Ce,H(Ue,$e)):new Pe(Ce):he(Ce)?ye(rt,Ce):w.call(rt,Ce):new Pe(R(Ce)),ue,rt)}),N&&N(rt,oe),k(L(Pe),function(ue){ue in rt||I(rt,ue,Pe[ue])}),rt.prototype=nt):(rt=ce(function(ue,Ce,Ue,le){y(ue,rt,mt);var Xe,We,Se,Mt=0,ct=0;if(V(Ce)){if(!re(Ce))return he(Ce)?ye(rt,Ce):w.call(rt,Ce);Xe=Ce,ct=H(Ue,$e);var tt=Ce.byteLength;if(void 0===le){if(tt%$e||(We=tt-ct)<0)throw De(Ke)}else if((We=T(le)*$e)+ct>tt)throw De(Ke);Se=We/$e}else Se=R(Ce),Xe=new Me(We=Se*$e);for(we(ue,{buffer:Xe,byteOffset:ct,byteLength:We,length:Se,view:new Be(Xe)});Mt<Se;)ae(ue,Mt++)}),N&&N(rt,oe),nt=rt.prototype=G(ve)),nt.constructor!==rt&&I(nt,"constructor",rt),ne&&I(nt,ne,mt),Qe[mt]=rt,s({global:!0,forced:rt!=Pe,sham:!$},Qe),Ie in rt||I(rt,Ie,$e),Ie in nt||I(nt,Ie,$e),E(mt)}):_.exports=function(){}},3832:function(_,p,o){var s=o(7854),d=o(7293),u=o(7072),h=o(260).NATIVE_ARRAY_BUFFER_VIEWS,f=s.ArrayBuffer,v=s.Int8Array;_.exports=!h||!d(function(){v(1)})||!d(function(){new v(-1)})||!u(function(y){new v,new v(null),new v(1.5),new v(y)},!0)||d(function(){return 1!==new v(new f(2),1,void 0).length})},3074:function(_,p,o){var s=o(260).aTypedArrayConstructor,d=o(6707);_.exports=function(u,h){for(var f=d(u,u.constructor),v=0,y=h.length,C=new(s(f))(y);y>v;)C[v]=h[v++];return C}},7321:function(_,p,o){var s=o(7908),d=o(7466),u=o(1246),h=o(7659),f=o(9974),v=o(260).aTypedArrayConstructor;_.exports=function(C){var A,O,V,G,N,L,I=s(C),T=arguments.length,R=T>1?arguments[1]:void 0,H=void 0!==R,W=u(I);if(null!=W&&!h(W))for(L=(N=W.call(I)).next,I=[];!(G=L.call(N)).done;)I.push(G.value);for(H&&T>2&&(R=f(R,arguments[2],2)),O=d(I.length),V=new(v(this))(O),A=0;O>A;A++)V[A]=H?R(I[A],A):I[A];return V}},9711:function(_){var p=0,o=Math.random();_.exports=function(s){return"Symbol("+String(void 0===s?"":s)+")_"+(++p+o).toString(36)}},3307:function(_,p,o){var s=o(133);_.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(_,p,o){var s=o(7854),d=o(2309),u=o(6656),h=o(9711),f=o(133),v=o(3307),y=d("wks"),C=s.Symbol,I=v?C:C&&C.withoutSetter||h;_.exports=function(T){return u(y,T)||(y[T]=f&&u(C,T)?C[T]:I("Symbol."+T)),y[T]}},1361:function(_){_.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8264:function(_,p,o){"use strict";var s=o(2109),d=o(7854),u=o(3331),h=o(6340),f="ArrayBuffer",v=u[f];s({global:!0,forced:d[f]!==v},{ArrayBuffer:v}),h(f)},2222:function(_,p,o){"use strict";var s=o(2109),d=o(7293),u=o(3157),h=o(111),f=o(7908),v=o(7466),y=o(6135),C=o(5417),I=o(1194),T=o(5112),R=o(7392),H=T("isConcatSpreadable"),W=9007199254740991,A="Maximum allowed index exceeded",O=R>=51||!d(function(){var L=[];return L[H]=!1,L.concat()[0]!==L}),V=I("concat"),G=function(L){if(!h(L))return!1;var w=L[H];return void 0!==w?!!w:u(L)};s({target:"Array",proto:!0,forced:!O||!V},{concat:function(w){var j,ee,q,de,we,k=f(this),E=C(k,0),Y=0;for(j=-1,q=arguments.length;j<q;j++)if(G(we=-1===j?k:arguments[j])){if(Y+(de=v(we.length))>W)throw TypeError(A);for(ee=0;ee<de;ee++,Y++)ee in we&&y(E,Y,we[ee])}else{if(Y>=W)throw TypeError(A);y(E,Y++,we)}return E.length=Y,E}})},7327:function(_,p,o){"use strict";var s=o(2109),d=o(2092).filter;s({target:"Array",proto:!0,forced:!o(1194)("filter")},{filter:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}})},2772:function(_,p,o){"use strict";var s=o(2109),d=o(1318).indexOf,u=o(9341),h=[].indexOf,f=!!h&&1/[1].indexOf(1,-0)<0,v=u("indexOf");s({target:"Array",proto:!0,forced:f||!v},{indexOf:function(C){return f?h.apply(this,arguments)||0:d(this,C,arguments.length>1?arguments[1]:void 0)}})},6992:function(_,p,o){"use strict";var s=o(5656),d=o(1223),u=o(7497),h=o(9909),f=o(654),v="Array Iterator",y=h.set,C=h.getterFor(v);_.exports=f(Array,"Array",function(I,T){y(this,{type:v,target:s(I),index:0,kind:T})},function(){var I=C(this),T=I.target,R=I.kind,H=I.index++;return!T||H>=T.length?(I.target=void 0,{value:void 0,done:!0}):"keys"==R?{value:H,done:!1}:"values"==R?{value:T[H],done:!1}:{value:[H,T[H]],done:!1}},"values"),u.Arguments=u.Array,d("keys"),d("values"),d("entries")},1249:function(_,p,o){"use strict";var s=o(2109),d=o(2092).map;s({target:"Array",proto:!0,forced:!o(1194)("map")},{map:function(v){return d(this,v,arguments.length>1?arguments[1]:void 0)}})},7042:function(_,p,o){"use strict";var s=o(2109),d=o(111),u=o(3157),h=o(1400),f=o(7466),v=o(5656),y=o(6135),C=o(5112),T=o(1194)("slice"),R=C("species"),H=[].slice,W=Math.max;s({target:"Array",proto:!0,forced:!T},{slice:function(O,V){var k,E,Y,G=v(this),N=f(G.length),L=h(O,N),w=h(void 0===V?N:V,N);if(u(G)&&("function"!=typeof(k=G.constructor)||k!==Array&&!u(k.prototype)?d(k)&&null===(k=k[R])&&(k=void 0):k=void 0,k===Array||void 0===k))return H.call(G,L,w);for(E=new(void 0===k?Array:k)(W(w-L,0)),Y=0;L<w;L++,Y++)L in G&&y(E,Y,G[L]);return E.length=Y,E}})},561:function(_,p,o){"use strict";var s=o(2109),d=o(1400),u=o(9958),h=o(7466),f=o(7908),v=o(5417),y=o(6135),I=o(1194)("splice"),T=Math.max,R=Math.min;s({target:"Array",proto:!0,forced:!I},{splice:function(O,V){var k,E,Y,j,ee,q,G=f(this),N=h(G.length),L=d(O,N),w=arguments.length;if(0===w?k=E=0:1===w?(k=0,E=N-L):(k=w-2,E=R(T(u(V),0),N-L)),N+k-E>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(Y=v(G,E),j=0;j<E;j++)(ee=L+j)in G&&y(Y,j,G[ee]);if(Y.length=E,k<E){for(j=L;j<N-E;j++)q=j+k,(ee=j+E)in G?G[q]=G[ee]:delete G[q];for(j=N;j>N-E+k;j--)delete G[j-1]}else if(k>E)for(j=N-E;j>L;j--)q=j+k-1,(ee=j+E-1)in G?G[q]=G[ee]:delete G[q];for(j=0;j<k;j++)G[j+L]=arguments[j+2];return G.length=N-E+k,Y}})},8309:function(_,p,o){var s=o(9781),d=o(3070).f,u=Function.prototype,h=u.toString,f=/^\s*function ([^ (]*)/,v="name";s&&!(v in u)&&d(u,v,{configurable:!0,get:function(){try{return h.call(this).match(f)[1]}catch{return""}}})},489:function(_,p,o){var s=o(2109),d=o(7293),u=o(7908),h=o(9518),f=o(8544);s({target:"Object",stat:!0,forced:d(function(){h(1)}),sham:!f},{getPrototypeOf:function(C){return h(u(C))}})},1539:function(_,p,o){var s=o(1694),d=o(1320),u=o(288);s||d(Object.prototype,"toString",u,{unsafe:!0})},4916:function(_,p,o){"use strict";var s=o(2109),d=o(2261);s({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},9714:function(_,p,o){"use strict";var s=o(1320),d=o(9670),u=o(7293),h=o(7066),f="toString",v=RegExp.prototype,y=v[f];(u(function(){return"/a/b"!=y.call({source:"a",flags:"b"})})||y.name!=f)&&s(RegExp.prototype,f,function(){var R=d(this),H=String(R.source),W=R.flags;return"/"+H+"/"+String(void 0===W&&R instanceof RegExp&&!("flags"in v)?h.call(R):W)},{unsafe:!0})},8783:function(_,p,o){"use strict";var s=o(8710).charAt,d=o(9909),u=o(654),h="String Iterator",f=d.set,v=d.getterFor(h);u(String,"String",function(y){f(this,{type:h,string:String(y),index:0})},function(){var R,C=v(this),I=C.string,T=C.index;return T>=I.length?{value:void 0,done:!0}:(R=s(I,T),C.index+=R.length,{value:R,done:!1})})},4723:function(_,p,o){"use strict";var s=o(7007),d=o(9670),u=o(7466),h=o(4488),f=o(1530),v=o(7651);s("match",1,function(y,C,I){return[function(R){var H=h(this),W=R?.[y];return void 0!==W?W.call(R,H):new RegExp(R)[y](String(H))},function(T){var R=I(C,T,this);if(R.done)return R.value;var H=d(T),W=String(this);if(!H.global)return v(H,W);var A=H.unicode;H.lastIndex=0;for(var G,O=[],V=0;null!==(G=v(H,W));){var N=String(G[0]);O[V]=N,""===N&&(H.lastIndex=f(W,u(H.lastIndex),A)),V++}return 0===V?null:O}]})},5306:function(_,p,o){"use strict";var s=o(7007),d=o(9670),u=o(7466),h=o(9958),f=o(4488),v=o(1530),y=o(647),C=o(7651),I=Math.max,T=Math.min,R=function(H){return void 0===H?H:String(H)};s("replace",2,function(H,W,A,O){var V=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,G=O.REPLACE_KEEPS_$0,N=V?"$":"$0";return[function(w,k){var E=f(this),Y=w?.[H];return void 0!==Y?Y.call(w,E,k):W.call(String(E),w,k)},function(L,w){if(!V&&G||"string"==typeof w&&-1===w.indexOf(N)){var k=A(W,L,this,w);if(k.done)return k.value}var E=d(L),Y=String(this),j="function"==typeof w;j||(w=String(w));var ee=E.global;if(ee){var q=E.unicode;E.lastIndex=0}for(var de=[];;){var we=C(E,Y);if(null===we||(de.push(we),!ee))break;""===String(we[0])&&(E.lastIndex=v(Y,u(E.lastIndex),q))}for(var He="",Te=0,De=0;De<de.length;De++){we=de[De];for(var Me=String(we[0]),Be=I(T(h(we.index),Y.length),0),$=[],ne=1;ne<we.length;ne++)$.push(R(we[ne]));var oe=we.groups;if(j){var ve=[Me].concat($,Be,Y);void 0!==oe&&ve.push(oe);var be=String(w.apply(void 0,ve))}else be=y(Me,Y,Be,$,oe,w);Be>=Te&&(He+=Y.slice(Te,Be)+be,Te=Be+Me.length)}return He+Y.slice(Te)}]})},3123:function(_,p,o){"use strict";var s=o(7007),d=o(7850),u=o(9670),h=o(4488),f=o(6707),v=o(1530),y=o(7466),C=o(7651),I=o(2261),T=o(7293),R=[].push,H=Math.min,W=4294967295,A=!T(function(){return!RegExp(W,"y")});s("split",2,function(O,V,G){var N;return N="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(L,w){var k=String(h(this)),E=void 0===w?W:w>>>0;if(0===E)return[];if(void 0===L)return[k];if(!d(L))return V.call(k,L,E);for(var de,we,xe,Y=[],ee=0,q=new RegExp(L.source,(L.ignoreCase?"i":"")+(L.multiline?"m":"")+(L.unicode?"u":"")+(L.sticky?"y":"")+"g");(de=I.call(q,k))&&!((we=q.lastIndex)>ee&&(Y.push(k.slice(ee,de.index)),de.length>1&&de.index<k.length&&R.apply(Y,de.slice(1)),xe=de[0].length,ee=we,Y.length>=E));)q.lastIndex===de.index&&q.lastIndex++;return ee===k.length?(xe||!q.test(""))&&Y.push(""):Y.push(k.slice(ee)),Y.length>E?Y.slice(0,E):Y}:"0".split(void 0,0).length?function(L,w){return void 0===L&&0===w?[]:V.call(this,L,w)}:V,[function(w,k){var E=h(this),Y=w?.[O];return void 0!==Y?Y.call(w,E,k):N.call(String(E),w,k)},function(L,w){var k=G(N,L,this,w,N!==V);if(k.done)return k.value;var E=u(L),Y=String(this),j=f(E,RegExp),ee=E.unicode,de=new j(A?E:"^(?:"+E.source+")",(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(A?"y":"g")),we=void 0===w?W:w>>>0;if(0===we)return[];if(0===Y.length)return null===C(de,Y)?[Y]:[];for(var xe=0,He=0,Te=[];He<Y.length;){de.lastIndex=A?He:0;var Me,De=C(de,A?Y:Y.slice(He));if(null===De||(Me=H(y(de.lastIndex+(A?0:He)),Y.length))===xe)He=v(Y,He,ee);else{if(Te.push(Y.slice(xe,He)),Te.length===we)return Te;for(var Be=1;Be<=De.length-1;Be++)if(Te.push(De[Be]),Te.length===we)return Te;He=xe=Me}}return Te.push(Y.slice(xe)),Te}]},!A)},3210:function(_,p,o){"use strict";var s=o(2109),d=o(3111).trim;s({target:"String",proto:!0,forced:o(6091)("trim")},{trim:function(){return d(this)}})},2990:function(_,p,o){"use strict";var s=o(260),d=o(1048),u=s.aTypedArray;(0,s.exportTypedArrayMethod)("copyWithin",function(v,y){return d.call(u(this),v,y,arguments.length>2?arguments[2]:void 0)})},8927:function(_,p,o){"use strict";var s=o(260),d=o(2092).every,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("every",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},3105:function(_,p,o){"use strict";var s=o(260),d=o(1285),u=s.aTypedArray;(0,s.exportTypedArrayMethod)("fill",function(v){return d.apply(u(this),arguments)})},5035:function(_,p,o){"use strict";var s=o(260),d=o(2092).filter,u=o(3074),h=s.aTypedArray;(0,s.exportTypedArrayMethod)("filter",function(y){var C=d(h(this),y,arguments.length>1?arguments[1]:void 0);return u(this,C)})},7174:function(_,p,o){"use strict";var s=o(260),d=o(2092).findIndex,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("findIndex",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},4345:function(_,p,o){"use strict";var s=o(260),d=o(2092).find,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("find",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},2846:function(_,p,o){"use strict";var s=o(260),d=o(2092).forEach,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("forEach",function(v){d(u(this),v,arguments.length>1?arguments[1]:void 0)})},4731:function(_,p,o){"use strict";var s=o(260),d=o(1318).includes,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("includes",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},7209:function(_,p,o){"use strict";var s=o(260),d=o(1318).indexOf,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("indexOf",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},6319:function(_,p,o){"use strict";var s=o(7854),d=o(260),u=o(6992),f=o(5112)("iterator"),v=s.Uint8Array,y=u.values,C=u.keys,I=u.entries,T=d.aTypedArray,R=d.exportTypedArrayMethod,H=v&&v.prototype[f],W=!!H&&("values"==H.name||null==H.name),A=function(){return y.call(T(this))};R("entries",function(){return I.call(T(this))}),R("keys",function(){return C.call(T(this))}),R("values",A,!W),R(f,A,!W)},8867:function(_,p,o){"use strict";var s=o(260),d=s.aTypedArray,h=[].join;(0,s.exportTypedArrayMethod)("join",function(v){return h.apply(d(this),arguments)})},7789:function(_,p,o){"use strict";var s=o(260),d=o(6583),u=s.aTypedArray;(0,s.exportTypedArrayMethod)("lastIndexOf",function(v){return d.apply(u(this),arguments)})},3739:function(_,p,o){"use strict";var s=o(260),d=o(2092).map,u=o(6707),h=s.aTypedArray,f=s.aTypedArrayConstructor;(0,s.exportTypedArrayMethod)("map",function(C){return d(h(this),C,arguments.length>1?arguments[1]:void 0,function(I,T){return new(f(u(I,I.constructor)))(T)})})},4483:function(_,p,o){"use strict";var s=o(260),d=o(3671).right,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduceRight",function(v){return d(u(this),v,arguments.length,arguments.length>1?arguments[1]:void 0)})},9368:function(_,p,o){"use strict";var s=o(260),d=o(3671).left,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("reduce",function(v){return d(u(this),v,arguments.length,arguments.length>1?arguments[1]:void 0)})},2056:function(_,p,o){"use strict";var s=o(260),d=s.aTypedArray,h=Math.floor;(0,s.exportTypedArrayMethod)("reverse",function(){for(var T,v=this,y=d(v).length,C=h(y/2),I=0;I<C;)T=v[I],v[I++]=v[--y],v[y]=T;return v})},3462:function(_,p,o){"use strict";var s=o(260),d=o(7466),u=o(4590),h=o(7908),f=o(7293),v=s.aTypedArray;(0,s.exportTypedArrayMethod)("set",function(T){v(this);var R=u(arguments.length>1?arguments[1]:void 0,1),H=this.length,W=h(T),A=d(W.length),O=0;if(A+R>H)throw RangeError("Wrong length");for(;O<A;)this[R+O]=W[O++]},f(function(){new Int8Array(1).set({})}))},678:function(_,p,o){"use strict";var s=o(260),d=o(6707),u=o(7293),h=s.aTypedArray,f=s.aTypedArrayConstructor,y=[].slice;(0,s.exportTypedArrayMethod)("slice",function(T,R){for(var H=y.call(h(this),T,R),W=d(this,this.constructor),A=0,O=H.length,V=new(f(W))(O);O>A;)V[A]=H[A++];return V},u(function(){new Int8Array(1).slice()}))},7462:function(_,p,o){"use strict";var s=o(260),d=o(2092).some,u=s.aTypedArray;(0,s.exportTypedArrayMethod)("some",function(v){return d(u(this),v,arguments.length>1?arguments[1]:void 0)})},3824:function(_,p,o){"use strict";var s=o(260),d=s.aTypedArray,h=[].sort;(0,s.exportTypedArrayMethod)("sort",function(v){return h.call(d(this),v)})},5021:function(_,p,o){"use strict";var s=o(260),d=o(7466),u=o(1400),h=o(6707),f=s.aTypedArray;(0,s.exportTypedArrayMethod)("subarray",function(C,I){var T=f(this),R=T.length,H=u(C,R);return new(h(T,T.constructor))(T.buffer,T.byteOffset+H*T.BYTES_PER_ELEMENT,d((void 0===I?R:u(I,R))-H))})},2974:function(_,p,o){"use strict";var s=o(7854),d=o(260),u=o(7293),h=s.Int8Array,f=d.aTypedArray,v=d.exportTypedArrayMethod,y=[].toLocaleString,C=[].slice,I=!!h&&u(function(){y.call(new h(1))});v("toLocaleString",function(){return y.apply(I?C.call(f(this)):f(this),arguments)},u(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!u(function(){h.prototype.toLocaleString.call([1,2])}))},5016:function(_,p,o){"use strict";var s=o(260).exportTypedArrayMethod,d=o(7293),h=o(7854).Uint8Array,f=h&&h.prototype||{},v=[].toString,y=[].join;d(function(){v.call({})})&&(v=function(){return y.call(this)}),s("toString",v,f.toString!=v)},2472:function(_,p,o){o(9843)("Uint8",function(d){return function(h,f,v){return d(this,h,f,v)}})},4747:function(_,p,o){var s=o(7854),d=o(8324),u=o(8533),h=o(8880);for(var f in d){var v=s[f],y=v&&v.prototype;if(y&&y.forEach!==u)try{h(y,"forEach",u)}catch{y.forEach=u}}},3948:function(_,p,o){var s=o(7854),d=o(8324),u=o(6992),h=o(8880),f=o(5112),v=f("iterator"),y=f("toStringTag"),C=u.values;for(var I in d){var T=s[I],R=T&&T.prototype;if(R){if(R[v]!==C)try{h(R,v,C)}catch{R[v]=C}if(R[y]||h(R,y,I),d[I])for(var H in u)if(R[H]!==u[H])try{h(R,H,u[H])}catch{R[H]=u[H]}}}},1637:function(_,p,o){"use strict";o(6992);var s=o(2109),d=o(5005),u=o(590),h=o(1320),f=o(2248),v=o(8003),y=o(4994),C=o(9909),I=o(5787),T=o(6656),R=o(9974),H=o(648),W=o(9670),A=o(111),O=o(30),V=o(9114),G=o(8554),N=o(1246),L=o(5112),w=d("fetch"),k=d("Headers"),E=L("iterator"),Y="URLSearchParams",j=Y+"Iterator",ee=C.set,q=C.getterFor(Y),de=C.getterFor(j),we=/\+/g,xe=Array(4),He=function(ye){return xe[ye-1]||(xe[ye-1]=RegExp("((?:%[\\da-f]{2}){"+ye+"})","gi"))},Te=function(ye){try{return decodeURIComponent(ye)}catch{return ye}},De=function(ye){var Ee=ye.replace(we," "),re=4;try{return decodeURIComponent(Ee)}catch{for(;re;)Ee=Ee.replace(He(re--),Te);return Ee}},Me=/[!'()~]|%20/g,Be={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},$=function(ye){return Be[ye]},ne=function(ye){return encodeURIComponent(ye).replace(Me,$)},oe=function(ye,Ee){if(Ee)for(var ze,Ne,re=Ee.split("&"),Re=0;Re<re.length;)(ze=re[Re++]).length&&(Ne=ze.split("="),ye.push({key:De(Ne.shift()),value:De(Ne.join("="))}))},ve=function(ye){this.entries.length=0,oe(this.entries,ye)},be=function(ye,Ee){if(ye<Ee)throw TypeError("Not enough arguments")},he=y(function(Ee,re){ee(this,{type:j,iterator:G(q(Ee).entries),kind:re})},"Iterator",function(){var Ee=de(this),re=Ee.kind,Re=Ee.iterator.next(),ze=Re.value;return Re.done||(Re.value="keys"===re?ze.key:"values"===re?ze.value:[ze.key,ze.value]),Re}),Ie=function(){I(this,Ie,Y);var ze,Ne,Ae,ce,Le,$e,mt,ht,qe,Ee=arguments.length>0?arguments[0]:void 0,Re=[];if(ee(this,{type:Y,entries:Re,updateURL:function(){},updateSearchParams:ve}),void 0!==Ee)if(A(Ee))if("function"==typeof(ze=N(Ee)))for(Ae=(Ne=ze.call(Ee)).next;!(ce=Ae.call(Ne)).done;){if((mt=($e=(Le=G(W(ce.value))).next).call(Le)).done||(ht=$e.call(Le)).done||!$e.call(Le).done)throw TypeError("Expected sequence with length 2");Re.push({key:mt.value+"",value:ht.value+""})}else for(qe in Ee)T(Ee,qe)&&Re.push({key:qe,value:Ee[qe]+""});else oe(Re,"string"==typeof Ee?"?"===Ee.charAt(0)?Ee.slice(1):Ee:Ee+"")},Ke=Ie.prototype;f(Ke,{append:function(Ee,re){be(arguments.length,2);var Re=q(this);Re.entries.push({key:Ee+"",value:re+""}),Re.updateURL()},delete:function(ye){be(arguments.length,1);for(var Ee=q(this),re=Ee.entries,Re=ye+"",ze=0;ze<re.length;)re[ze].key===Re?re.splice(ze,1):ze++;Ee.updateURL()},get:function(Ee){be(arguments.length,1);for(var re=q(this).entries,Re=Ee+"",ze=0;ze<re.length;ze++)if(re[ze].key===Re)return re[ze].value;return null},getAll:function(Ee){be(arguments.length,1);for(var re=q(this).entries,Re=Ee+"",ze=[],Ne=0;Ne<re.length;Ne++)re[Ne].key===Re&&ze.push(re[Ne].value);return ze},has:function(Ee){be(arguments.length,1);for(var re=q(this).entries,Re=Ee+"",ze=0;ze<re.length;)if(re[ze++].key===Re)return!0;return!1},set:function(Ee,re){be(arguments.length,1);for(var $e,Re=q(this),ze=Re.entries,Ne=!1,Ae=Ee+"",ce=re+"",Le=0;Le<ze.length;Le++)($e=ze[Le]).key===Ae&&(Ne?ze.splice(Le--,1):(Ne=!0,$e.value=ce));Ne||ze.push({key:Ae,value:ce}),Re.updateURL()},sort:function(){var ze,Ne,Ae,Ee=q(this),re=Ee.entries,Re=re.slice();for(re.length=0,Ae=0;Ae<Re.length;Ae++){for(ze=Re[Ae],Ne=0;Ne<Ae;Ne++)if(re[Ne].key>ze.key){re.splice(Ne,0,ze);break}Ne===Ae&&re.push(ze)}Ee.updateURL()},forEach:function(Ee){for(var Ne,re=q(this).entries,Re=R(Ee,arguments.length>1?arguments[1]:void 0,3),ze=0;ze<re.length;)Re((Ne=re[ze++]).value,Ne.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),h(Ke,E,Ke.entries),h(Ke,"toString",function(){for(var ze,Ee=q(this).entries,re=[],Re=0;Re<Ee.length;)ze=Ee[Re++],re.push(ne(ze.key)+"="+ne(ze.value));return re.join("&")},{enumerable:!0}),v(Ie,Y),s({global:!0,forced:!u},{URLSearchParams:Ie}),!u&&"function"==typeof w&&"function"==typeof k&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(Ee){var Re,ze,Ne,re=[Ee];return arguments.length>1&&(A(Re=arguments[1])&&H(ze=Re.body)===Y&&((Ne=Re.headers?new k(Re.headers):new k).has("content-type")||Ne.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Re=O(Re,{body:V(0,String(ze)),headers:V(0,Ne)})),re.push(Re)),w.apply(this,re)}}),_.exports={URLSearchParams:Ie,getState:q}},285:function(_,p,o){"use strict";o(8783);var ve,s=o(2109),d=o(9781),u=o(590),h=o(7854),f=o(6048),v=o(1320),y=o(5787),C=o(6656),I=o(1574),T=o(8457),R=o(8710).codeAt,H=o(3197),W=o(8003),A=o(1637),O=o(9909),V=h.URL,G=A.URLSearchParams,N=A.getState,L=O.set,w=O.getterFor("URL"),k=Math.floor,E=Math.pow,j="Invalid scheme",ee="Invalid host",q="Invalid port",de=/[A-Za-z]/,we=/[\d+-.A-Za-z]/,xe=/\d/,He=/^(0x|0X)/,Te=/^[0-7]+$/,De=/^\d+$/,Me=/^[\dA-Fa-f]+$/,Be=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,$=/[\u0000\t\u000A\u000D #/:?@[\\]]/,ne=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,oe=/[\t\u000A\u000D]/g,be=function(F,fe){var me,ke,je;if("["==fe.charAt(0)){if("]"!=fe.charAt(fe.length-1)||!(me=Ie(fe.slice(1,-1))))return ee;F.host=me}else if(ce(F)){if(fe=H(fe),Be.test(fe)||null===(me=he(fe)))return ee;F.host=me}else{if($.test(fe))return ee;for(me="",ke=T(fe),je=0;je<ke.length;je++)me+=Ne(ke[je],Ee);F.host=me}},he=function(F){var me,ke,je,st,et,Ct,vt,fe=F.split(".");if(fe.length&&""==fe[fe.length-1]&&fe.pop(),(me=fe.length)>4)return F;for(ke=[],je=0;je<me;je++){if(""==(st=fe[je]))return F;if(et=10,st.length>1&&"0"==st.charAt(0)&&(et=He.test(st)?16:8,st=st.slice(8==et?1:2)),""===st)Ct=0;else{if(!(10==et?De:8==et?Te:Me).test(st))return F;Ct=parseInt(st,et)}ke.push(Ct)}for(je=0;je<me;je++)if(Ct=ke[je],je==me-1){if(Ct>=E(256,5-me))return null}else if(Ct>255)return null;for(vt=ke.pop(),je=0;je<ke.length;je++)vt+=ke[je]*E(256,3-je);return vt},Ie=function(F){var st,et,Ct,vt,at,Ot,Ve,fe=[0,0,0,0,0,0,0,0],me=0,ke=null,je=0,kt=function(){return F.charAt(je)};if(":"==kt()){if(":"!=F.charAt(1))return;je+=2,ke=++me}for(;kt();){if(8==me)return;if(":"!=kt()){for(st=et=0;et<4&&Me.test(kt());)st=16*st+parseInt(kt(),16),je++,et++;if("."==kt()){if(0==et||(je-=et,me>6))return;for(Ct=0;kt();){if(vt=null,Ct>0){if(!("."==kt()&&Ct<4))return;je++}if(!xe.test(kt()))return;for(;xe.test(kt());){if(at=parseInt(kt(),10),null===vt)vt=at;else{if(0==vt)return;vt=10*vt+at}if(vt>255)return;je++}fe[me]=256*fe[me]+vt,(2==++Ct||4==Ct)&&me++}if(4!=Ct)return;break}if(":"==kt()){if(je++,!kt())return}else if(kt())return;fe[me++]=st}else{if(null!==ke)return;je++,ke=++me}}if(null!==ke)for(Ot=me-ke,me=7;0!=me&&Ot>0;)Ve=fe[me],fe[me--]=fe[ke+Ot-1],fe[ke+--Ot]=Ve;else if(8!=me)return;return fe},ye=function(F){var fe,me,ke,je;if("number"==typeof F){for(fe=[],me=0;me<4;me++)fe.unshift(F%256),F=k(F/256);return fe.join(".")}if("object"==typeof F){for(fe="",ke=function(F){for(var fe=null,me=1,ke=null,je=0,st=0;st<8;st++)0!==F[st]?(je>me&&(fe=ke,me=je),ke=null,je=0):(null===ke&&(ke=st),++je);return je>me&&(fe=ke,me=je),fe}(F),me=0;me<8;me++)je&&0===F[me]||(je&&(je=!1),ke===me?(fe+=me?":":"::",je=!0):(fe+=F[me].toString(16),me<7&&(fe+=":")));return"["+fe+"]"}return F},Ee={},re=I({},Ee,{" ":1,'"':1,"<":1,">":1,"`":1}),Re=I({},re,{"#":1,"?":1,"{":1,"}":1}),ze=I({},Re,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ne=function(F,fe){var me=R(F,0);return me>32&&me<127&&!C(fe,F)?F:encodeURIComponent(F)},Ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ce=function(F){return C(Ae,F.scheme)},Le=function(F){return""!=F.username||""!=F.password},$e=function(F){return!F.host||F.cannotBeABaseURL||"file"==F.scheme},mt=function(F,fe){var me;return 2==F.length&&de.test(F.charAt(0))&&(":"==(me=F.charAt(1))||!fe&&"|"==me)},ht=function(F){var fe;return F.length>1&&mt(F.slice(0,2))&&(2==F.length||"/"===(fe=F.charAt(2))||"\\"===fe||"?"===fe||"#"===fe)},qe=function(F){var fe=F.path,me=fe.length;me&&("file"!=F.scheme||1!=me||!mt(fe[0],!0))&&fe.pop()},Pe=function(F){return"."===F||"%2e"===F.toLowerCase()},rt=function(F){return".."===(F=F.toLowerCase())||"%2e."===F||".%2e"===F||"%2e%2e"===F},nt={},Qe={},pt={},te={},ae={},ue={},Ce={},Ue={},le={},Mt={},ct={},Xe={},We={},Se={},tt={},ft={},yt={},bt={},Yt={},Qt={},Wt={},Ht=function(F,fe,me,ke){var Ot,Ve,kt,Kt,je=me||nt,st=0,et="",Ct=!1,vt=!1,at=!1;for(me||(F.scheme="",F.username="",F.password="",F.host=null,F.port=null,F.path=[],F.query=null,F.fragment=null,F.cannotBeABaseURL=!1,fe=fe.replace(ne,"")),fe=fe.replace(oe,""),Ot=T(fe);st<=Ot.length;){switch(Ve=Ot[st],je){case nt:if(!Ve||!de.test(Ve)){if(me)return j;je=pt;continue}et+=Ve.toLowerCase(),je=Qe;break;case Qe:if(Ve&&(we.test(Ve)||"+"==Ve||"-"==Ve||"."==Ve))et+=Ve.toLowerCase();else{if(":"!=Ve){if(me)return j;et="",je=pt,st=0;continue}if(me&&(ce(F)!=C(Ae,et)||"file"==et&&(Le(F)||null!==F.port)||"file"==F.scheme&&!F.host))return;if(F.scheme=et,me)return void(ce(F)&&Ae[F.scheme]==F.port&&(F.port=null));et="","file"==F.scheme?je=Se:ce(F)&&ke&&ke.scheme==F.scheme?je=te:ce(F)?je=Ue:"/"==Ot[st+1]?(je=ae,st++):(F.cannotBeABaseURL=!0,F.path.push(""),je=Yt)}break;case pt:if(!ke||ke.cannotBeABaseURL&&"#"!=Ve)return j;if(ke.cannotBeABaseURL&&"#"==Ve){F.scheme=ke.scheme,F.path=ke.path.slice(),F.query=ke.query,F.fragment="",F.cannotBeABaseURL=!0,je=Wt;break}je="file"==ke.scheme?Se:ue;continue;case te:if("/"!=Ve||"/"!=Ot[st+1]){je=ue;continue}je=le,st++;break;case ae:if("/"==Ve){je=Mt;break}je=bt;continue;case ue:if(F.scheme=ke.scheme,Ve==ve)F.username=ke.username,F.password=ke.password,F.host=ke.host,F.port=ke.port,F.path=ke.path.slice(),F.query=ke.query;else if("/"==Ve||"\\"==Ve&&ce(F))je=Ce;else if("?"==Ve)F.username=ke.username,F.password=ke.password,F.host=ke.host,F.port=ke.port,F.path=ke.path.slice(),F.query="",je=Qt;else{if("#"!=Ve){F.username=ke.username,F.password=ke.password,F.host=ke.host,F.port=ke.port,F.path=ke.path.slice(),F.path.pop(),je=bt;continue}F.username=ke.username,F.password=ke.password,F.host=ke.host,F.port=ke.port,F.path=ke.path.slice(),F.query=ke.query,F.fragment="",je=Wt}break;case Ce:if(!ce(F)||"/"!=Ve&&"\\"!=Ve){if("/"!=Ve){F.username=ke.username,F.password=ke.password,F.host=ke.host,F.port=ke.port,je=bt;continue}je=Mt}else je=le;break;case Ue:if(je=le,"/"!=Ve||"/"!=et.charAt(st+1))continue;st++;break;case le:if("/"!=Ve&&"\\"!=Ve){je=Mt;continue}break;case Mt:if("@"==Ve){Ct&&(et="%40"+et),Ct=!0,kt=T(et);for(var Fn=0;Fn<kt.length;Fn++){var hi=kt[Fn];if(":"!=hi||at){var Kn=Ne(hi,ze);at?F.password+=Kn:F.username+=Kn}else at=!0}et=""}else if(Ve==ve||"/"==Ve||"?"==Ve||"#"==Ve||"\\"==Ve&&ce(F)){if(Ct&&""==et)return"Invalid authority";st-=T(et).length+1,et="",je=ct}else et+=Ve;break;case ct:case Xe:if(me&&"file"==F.scheme){je=ft;continue}if(":"!=Ve||vt){if(Ve==ve||"/"==Ve||"?"==Ve||"#"==Ve||"\\"==Ve&&ce(F)){if(ce(F)&&""==et)return ee;if(me&&""==et&&(Le(F)||null!==F.port))return;if(Kt=be(F,et))return Kt;if(et="",je=yt,me)return;continue}"["==Ve?vt=!0:"]"==Ve&&(vt=!1),et+=Ve}else{if(""==et)return ee;if(Kt=be(F,et))return Kt;if(et="",je=We,me==Xe)return}break;case We:if(!xe.test(Ve)){if(Ve==ve||"/"==Ve||"?"==Ve||"#"==Ve||"\\"==Ve&&ce(F)||me){if(""!=et){var Jn=parseInt(et,10);if(Jn>65535)return q;F.port=ce(F)&&Jn===Ae[F.scheme]?null:Jn,et=""}if(me)return;je=yt;continue}return q}et+=Ve;break;case Se:if(F.scheme="file","/"==Ve||"\\"==Ve)je=tt;else{if(!ke||"file"!=ke.scheme){je=bt;continue}if(Ve==ve)F.host=ke.host,F.path=ke.path.slice(),F.query=ke.query;else if("?"==Ve)F.host=ke.host,F.path=ke.path.slice(),F.query="",je=Qt;else{if("#"!=Ve){ht(Ot.slice(st).join(""))||(F.host=ke.host,F.path=ke.path.slice(),qe(F)),je=bt;continue}F.host=ke.host,F.path=ke.path.slice(),F.query=ke.query,F.fragment="",je=Wt}}break;case tt:if("/"==Ve||"\\"==Ve){je=ft;break}ke&&"file"==ke.scheme&&!ht(Ot.slice(st).join(""))&&(mt(ke.path[0],!0)?F.path.push(ke.path[0]):F.host=ke.host),je=bt;continue;case ft:if(Ve==ve||"/"==Ve||"\\"==Ve||"?"==Ve||"#"==Ve){if(!me&&mt(et))je=bt;else if(""==et){if(F.host="",me)return;je=yt}else{if(Kt=be(F,et))return Kt;if("localhost"==F.host&&(F.host=""),me)return;et="",je=yt}continue}et+=Ve;break;case yt:if(ce(F)){if(je=bt,"/"!=Ve&&"\\"!=Ve)continue}else if(me||"?"!=Ve)if(me||"#"!=Ve){if(Ve!=ve&&(je=bt,"/"!=Ve))continue}else F.fragment="",je=Wt;else F.query="",je=Qt;break;case bt:if(Ve==ve||"/"==Ve||"\\"==Ve&&ce(F)||!me&&("?"==Ve||"#"==Ve)){if(rt(et)?(qe(F),"/"!=Ve&&!("\\"==Ve&&ce(F))&&F.path.push("")):Pe(et)?"/"!=Ve&&!("\\"==Ve&&ce(F))&&F.path.push(""):("file"==F.scheme&&!F.path.length&&mt(et)&&(F.host&&(F.host=""),et=et.charAt(0)+":"),F.path.push(et)),et="","file"==F.scheme&&(Ve==ve||"?"==Ve||"#"==Ve))for(;F.path.length>1&&""===F.path[0];)F.path.shift();"?"==Ve?(F.query="",je=Qt):"#"==Ve&&(F.fragment="",je=Wt)}else et+=Ne(Ve,Re);break;case Yt:"?"==Ve?(F.query="",je=Qt):"#"==Ve?(F.fragment="",je=Wt):Ve!=ve&&(F.path[0]+=Ne(Ve,Ee));break;case Qt:me||"#"!=Ve?Ve!=ve&&("'"==Ve&&ce(F)?F.query+="%27":F.query+="#"==Ve?"%23":Ne(Ve,Ee)):(F.fragment="",je=Wt);break;case Wt:Ve!=ve&&(F.fragment+=Ne(Ve,re))}st++}},sn=function(fe){var et,Ct,me=y(this,sn,"URL"),ke=arguments.length>1?arguments[1]:void 0,je=String(fe),st=L(me,{type:"URL"});if(void 0!==ke)if(ke instanceof sn)et=w(ke);else if(Ct=Ht(et={},String(ke)))throw TypeError(Ct);if(Ct=Ht(st,je,null,et))throw TypeError(Ct);var vt=st.searchParams=new G,at=N(vt);at.updateSearchParams(st.query),at.updateURL=function(){st.query=String(vt)||null},d||(me.href=Z.call(me),me.origin=B.call(me),me.protocol=K.call(me),me.username=x.call(me),me.password=S.call(me),me.host=U.call(me),me.hostname=P.call(me),me.port=Q.call(me),me.pathname=pe.call(me),me.search=Oe.call(me),me.searchParams=Ge.call(me),me.hash=Ye.call(me))},J=sn.prototype,Z=function(){var F=w(this),fe=F.scheme,me=F.username,ke=F.password,je=F.host,st=F.port,et=F.path,Ct=F.query,vt=F.fragment,at=fe+":";return null!==je?(at+="//",Le(F)&&(at+=me+(ke?":"+ke:"")+"@"),at+=ye(je),null!==st&&(at+=":"+st)):"file"==fe&&(at+="//"),at+=F.cannotBeABaseURL?et[0]:et.length?"/"+et.join("/"):"",null!==Ct&&(at+="?"+Ct),null!==vt&&(at+="#"+vt),at},B=function(){var F=w(this),fe=F.scheme,me=F.port;if("blob"==fe)try{return new URL(fe.path[0]).origin}catch{return"null"}return"file"!=fe&&ce(F)?fe+"://"+ye(F.host)+(null!==me?":"+me:""):"null"},K=function(){return w(this).scheme+":"},x=function(){return w(this).username},S=function(){return w(this).password},U=function(){var F=w(this),fe=F.host,me=F.port;return null===fe?"":null===me?ye(fe):ye(fe)+":"+me},P=function(){var F=w(this).host;return null===F?"":ye(F)},Q=function(){var F=w(this).port;return null===F?"":String(F)},pe=function(){var F=w(this),fe=F.path;return F.cannotBeABaseURL?fe[0]:fe.length?"/"+fe.join("/"):""},Oe=function(){var F=w(this).query;return F?"?"+F:""},Ge=function(){return w(this).searchParams},Ye=function(){var F=w(this).fragment;return F?"#"+F:""},it=function(F,fe){return{get:F,set:fe,configurable:!0,enumerable:!0}};if(d&&f(J,{href:it(Z,function(F){var fe=w(this),me=String(F),ke=Ht(fe,me);if(ke)throw TypeError(ke);N(fe.searchParams).updateSearchParams(fe.query)}),origin:it(B),protocol:it(K,function(F){var fe=w(this);Ht(fe,String(F)+":",nt)}),username:it(x,function(F){var fe=w(this),me=T(String(F));if(!$e(fe)){fe.username="";for(var ke=0;ke<me.length;ke++)fe.username+=Ne(me[ke],ze)}}),password:it(S,function(F){var fe=w(this),me=T(String(F));if(!$e(fe)){fe.password="";for(var ke=0;ke<me.length;ke++)fe.password+=Ne(me[ke],ze)}}),host:it(U,function(F){var fe=w(this);fe.cannotBeABaseURL||Ht(fe,String(F),ct)}),hostname:it(P,function(F){var fe=w(this);fe.cannotBeABaseURL||Ht(fe,String(F),Xe)}),port:it(Q,function(F){var fe=w(this);$e(fe)||(""==(F=String(F))?fe.port=null:Ht(fe,F,We))}),pathname:it(pe,function(F){var fe=w(this);fe.cannotBeABaseURL||(fe.path=[],Ht(fe,F+"",yt))}),search:it(Oe,function(F){var fe=w(this);""==(F=String(F))?fe.query=null:("?"==F.charAt(0)&&(F=F.slice(1)),fe.query="",Ht(fe,F,Qt)),N(fe.searchParams).updateSearchParams(fe.query)}),searchParams:it(Ge),hash:it(Ye,function(F){var fe=w(this);""!=(F=String(F))?("#"==F.charAt(0)&&(F=F.slice(1)),fe.fragment="",Ht(fe,F,Wt)):fe.fragment=null})}),v(J,"toJSON",function(){return Z.call(this)},{enumerable:!0}),v(J,"toString",function(){return Z.call(this)},{enumerable:!0}),V){var xt=V.createObjectURL,dt=V.revokeObjectURL;xt&&v(sn,"createObjectURL",function(fe){return xt.apply(V,arguments)}),dt&&v(sn,"revokeObjectURL",function(fe){return dt.apply(V,arguments)})}W(sn,"URL"),s({global:!0,forced:!u,sham:!d},{URL:sn})}},m={};function D(_){if(m[_])return m[_].exports;var p=m[_]={exports:{}};return _e[_](p,p.exports,D),p.exports}D.d=function(_,p){for(var o in p)D.o(p,o)&&!D.o(_,o)&&Object.defineProperty(_,o,{enumerable:!0,get:p[o]})},D.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),D.o=function(_,p){return Object.prototype.hasOwnProperty.call(_,p)},D.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var M={};return function(){"use strict";function ye(J,Z){var B;if(typeof Symbol>"u"||null==J[Symbol.iterator]){if(Array.isArray(J)||(B=function Ee(J,Z){if(J){if("string"==typeof J)return re(J,Z);var B=Object.prototype.toString.call(J).slice(8,-1);if("Object"===B&&J.constructor&&(B=J.constructor.name),"Map"===B||"Set"===B)return Array.from(J);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return re(J,Z)}}(J))||Z&&J&&"number"==typeof J.length){B&&(J=B);var K=0,x=function(){};return{s:x,n:function(){return K>=J.length?{done:!0}:{done:!1,value:J[K++]}},e:function(pe){throw pe},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,S=!0,U=!1;return{s:function(){B=J[Symbol.iterator]()},n:function(){var pe=B.next();return S=pe.done,pe},e:function(pe){U=!0,P=pe},f:function(){try{!S&&null!=B.return&&B.return()}finally{if(U)throw P}}}}function re(J,Z){(null==Z||Z>J.length)&&(Z=J.length);for(var B=0,K=new Array(Z);B<Z;B++)K[B]=J[B];return K}function ze(J,Z){for(var B=0;B<Z.length;B++){var K=Z[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(J,K.key,K)}}D.r(M),D.d(M,{Dropzone:function(){return Se},default:function(){return sn}}),D(2222),D(7327),D(2772),D(6992),D(1249),D(7042),D(561),D(8264),D(8309),D(489),D(1539),D(4916),D(9714),D(8783),D(4723),D(5306),D(3123),D(3210),D(2472),D(2990),D(8927),D(3105),D(5035),D(4345),D(7174),D(2846),D(4731),D(7209),D(6319),D(8867),D(7789),D(3739),D(9368),D(4483),D(2056),D(3462),D(678),D(7462),D(3824),D(5021),D(2974),D(5016),D(4747),D(3948),D(285);var Ae=function(){function J(){!function Re(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,J)}return function Ne(J,Z,B){return Z&&ze(J.prototype,Z),B&&ze(J,B),J}(J,[{key:"on",value:function(B,K){return this._callbacks=this._callbacks||{},this._callbacks[B]||(this._callbacks[B]=[]),this._callbacks[B].push(K),this}},{key:"emit",value:function(B){this._callbacks=this._callbacks||{};for(var K=this._callbacks[B],x=arguments.length,S=new Array(x>1?x-1:0),U=1;U<x;U++)S[U-1]=arguments[U];if(K){var Q,P=ye(K,!0);try{for(P.s();!(Q=P.n()).done;)Q.value.apply(this,S)}catch(Oe){P.e(Oe)}finally{P.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+B,{args:S})),this}},{key:"makeEvent",value:function(B,K){var x={bubbles:!0,cancelable:!0,detail:K};if("function"==typeof window.CustomEvent)return new CustomEvent(B,x);var S=document.createEvent("CustomEvent");return S.initCustomEvent(B,x.bubbles,x.cancelable,x.detail),S}},{key:"off",value:function(B,K){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var x=this._callbacks[B];if(!x)return this;if(1===arguments.length)return delete this._callbacks[B],this;for(var S=0;S<x.length;S++)if(x[S]===K){x.splice(S,1);break}return this}}]),J}();function $e(J,Z){var B;if(typeof Symbol>"u"||null==J[Symbol.iterator]){if(Array.isArray(J)||(B=function mt(J,Z){if(J){if("string"==typeof J)return ht(J,Z);var B=Object.prototype.toString.call(J).slice(8,-1);if("Object"===B&&J.constructor&&(B=J.constructor.name),"Map"===B||"Set"===B)return Array.from(J);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return ht(J,Z)}}(J))||Z&&J&&"number"==typeof J.length){B&&(J=B);var K=0,x=function(){};return{s:x,n:function(){return K>=J.length?{done:!0}:{done:!1,value:J[K++]}},e:function(pe){throw pe},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,S=!0,U=!1;return{s:function(){B=J[Symbol.iterator]()},n:function(){var pe=B.next();return S=pe.done,pe},e:function(pe){U=!0,P=pe},f:function(){try{!S&&null!=B.return&&B.return()}finally{if(U)throw P}}}}function ht(J,Z){(null==Z||Z>J.length)&&(Z=J.length);for(var B=0,K=new Array(Z);B<Z;B++)K[B]=J[B];return K}var Pe={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(Z,B,K){if(K)return{dzuuid:K.file.upload.uuid,dzchunkindex:K.index,dztotalfilesize:K.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:K.file.upload.totalChunkCount,dzchunkbyteoffset:K.index*this.options.chunkSize}},accept:function(Z,B){return B()},chunksUploaded:function(Z,B){B()},fallback:function(){var Z;this.element.className="".concat(this.element.className," dz-browser-not-supported");var K,B=$e(this.element.getElementsByTagName("div"),!0);try{for(B.s();!(K=B.n()).done;){var x=K.value;if(/(^| )dz-message($| )/.test(x.className)){Z=x,x.className="dz-message";break}}}catch(U){B.e(U)}finally{B.f()}Z||(Z=Se.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(Z));var S=Z.getElementsByTagName("span")[0];return S&&(null!=S.textContent?S.textContent=this.options.dictFallbackMessage:null!=S.innerText&&(S.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(Z,B,K,x){var S={srcX:0,srcY:0,srcWidth:Z.width,srcHeight:Z.height},U=Z.width/Z.height;null==B&&null==K?(B=S.srcWidth,K=S.srcHeight):null==B?B=K*U:null==K&&(K=B/U);var P=(B=Math.min(B,S.srcWidth))/(K=Math.min(K,S.srcHeight));if(S.srcWidth>B||S.srcHeight>K)if("crop"===x)U>P?(S.srcHeight=Z.height,S.srcWidth=S.srcHeight*P):(S.srcWidth=Z.width,S.srcHeight=S.srcWidth/P);else{if("contain"!==x)throw new Error("Unknown resizeMethod '".concat(x,"'"));U>P?K=B/U:B=K*U}return S.srcX=(Z.width-S.srcWidth)/2,S.srcY=(Z.height-S.srcHeight)/2,S.trgWidth=B,S.trgHeight=K,S},transformFile:function(Z,B){return(this.options.resizeWidth||this.options.resizeHeight)&&Z.type.match(/image.*/)?this.resizeImage(Z,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,B):B(Z)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(Z){return this.element.classList.remove("dz-drag-hover")},dragstart:function(Z){},dragend:function(Z){return this.element.classList.remove("dz-drag-hover")},dragenter:function(Z){return this.element.classList.add("dz-drag-hover")},dragover:function(Z){return this.element.classList.add("dz-drag-hover")},dragleave:function(Z){return this.element.classList.remove("dz-drag-hover")},paste:function(Z){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(Z){var B=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){Z.previewElement=Se.createElement(this.options.previewTemplate.trim()),Z.previewTemplate=Z.previewElement,this.previewsContainer.appendChild(Z.previewElement);var x,K=$e(Z.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(K.s();!(x=K.n()).done;){var S=x.value;S.textContent=Z.name}}catch(Ye){K.e(Ye)}finally{K.f()}var P,U=$e(Z.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(U.s();!(P=U.n()).done;)(S=P.value).innerHTML=this.filesize(Z.size)}catch(Ye){U.e(Ye)}finally{U.f()}this.options.addRemoveLinks&&(Z._removeLink=Se.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),Z.previewElement.appendChild(Z._removeLink));var Oe,Q=function(it){return it.preventDefault(),it.stopPropagation(),Z.status===Se.UPLOADING?Se.confirm(B.options.dictCancelUploadConfirmation,function(){return B.removeFile(Z)}):B.options.dictRemoveFileConfirmation?Se.confirm(B.options.dictRemoveFileConfirmation,function(){return B.removeFile(Z)}):B.removeFile(Z)},pe=$e(Z.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(pe.s();!(Oe=pe.n()).done;)Oe.value.addEventListener("click",Q)}catch(Ye){pe.e(Ye)}finally{pe.f()}}},removedfile:function(Z){return null!=Z.previewElement&&null!=Z.previewElement.parentNode&&Z.previewElement.parentNode.removeChild(Z.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(Z,B){if(Z.previewElement){Z.previewElement.classList.remove("dz-file-preview");var x,K=$e(Z.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(K.s();!(x=K.n()).done;){var S=x.value;S.alt=Z.name,S.src=B}}catch(U){K.e(U)}finally{K.f()}return setTimeout(function(){return Z.previewElement.classList.add("dz-image-preview")},1)}},error:function(Z,B){if(Z.previewElement){Z.previewElement.classList.add("dz-error"),"string"!=typeof B&&B.error&&(B=B.error);var x,K=$e(Z.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(K.s();!(x=K.n()).done;)x.value.textContent=B}catch(U){K.e(U)}finally{K.f()}}},errormultiple:function(){},processing:function(Z){if(Z.previewElement&&(Z.previewElement.classList.add("dz-processing"),Z._removeLink))return Z._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(Z,B,K){if(Z.previewElement){var S,x=$e(Z.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(x.s();!(S=x.n()).done;){var U=S.value;"PROGRESS"===U.nodeName?U.value=B:U.style.width="".concat(B,"%")}}catch(P){x.e(P)}finally{x.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(Z){if(Z.previewElement)return Z.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(Z){return this.emit("error",Z,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(Z){if(Z._removeLink&&(Z._removeLink.innerHTML=this.options.dictRemoveFile),Z.previewElement)return Z.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function rt(J){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(J)}function nt(J,Z){var B;if(typeof Symbol>"u"||null==J[Symbol.iterator]){if(Array.isArray(J)||(B=function Qe(J,Z){if(J){if("string"==typeof J)return pt(J,Z);var B=Object.prototype.toString.call(J).slice(8,-1);if("Object"===B&&J.constructor&&(B=J.constructor.name),"Map"===B||"Set"===B)return Array.from(J);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return pt(J,Z)}}(J))||Z&&J&&"number"==typeof J.length){B&&(J=B);var K=0,x=function(){};return{s:x,n:function(){return K>=J.length?{done:!0}:{done:!1,value:J[K++]}},e:function(pe){throw pe},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,S=!0,U=!1;return{s:function(){B=J[Symbol.iterator]()},n:function(){var pe=B.next();return S=pe.done,pe},e:function(pe){U=!0,P=pe},f:function(){try{!S&&null!=B.return&&B.return()}finally{if(U)throw P}}}}function pt(J,Z){(null==Z||Z>J.length)&&(Z=J.length);for(var B=0,K=new Array(Z);B<Z;B++)K[B]=J[B];return K}function te(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")}function ae(J,Z){for(var B=0;B<Z.length;B++){var K=Z[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(J,K.key,K)}}function ue(J,Z,B){return Z&&ae(J.prototype,Z),B&&ae(J,B),J}function Ue(J,Z){return(Ue=Object.setPrototypeOf||function(K,x){return K.__proto__=x,K})(J,Z)}function le(J){var Z=function Xe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var x,K=We(J);if(Z){var S=We(this).constructor;x=Reflect.construct(K,arguments,S)}else x=K.apply(this,arguments);return Mt(this,x)}}function Mt(J,Z){return!Z||"object"!==rt(Z)&&"function"!=typeof Z?ct(J):Z}function ct(J){if(void 0===J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function We(J){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(J)}var Se=function(J){!function Ce(J,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Z&&Z.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Z&&Ue(J,Z)}(B,J);var Z=le(B);function B(K,x){var S,U,P;if(te(this,B),(S=Z.call(this)).element=K,S.version=B.version,S.clickableElements=[],S.listeners=[],S.files=[],"string"==typeof S.element&&(S.element=document.querySelector(S.element)),!S.element||null==S.element.nodeType)throw new Error("Invalid dropzone element.");if(S.element.dropzone)throw new Error("Dropzone already attached.");B.instances.push(ct(S)),S.element.dropzone=ct(S);var Q=null!=(P=B.optionsForElement(S.element))?P:{};if(S.options=B.extend({},Pe,Q,x??{}),S.options.previewTemplate=S.options.previewTemplate.replace(/\n*/g,""),S.options.forceFallback||!B.isBrowserSupported())return Mt(S,S.options.fallback.call(ct(S)));if(null==S.options.url&&(S.options.url=S.element.getAttribute("action")),!S.options.url)throw new Error("No URL provided.");if(S.options.acceptedFiles&&S.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(S.options.uploadMultiple&&S.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return S.options.acceptedMimeTypes&&(S.options.acceptedFiles=S.options.acceptedMimeTypes,delete S.options.acceptedMimeTypes),null!=S.options.renameFilename&&(S.options.renameFile=function(pe){return S.options.renameFilename.call(ct(S),pe.name,pe)}),"string"==typeof S.options.method&&(S.options.method=S.options.method.toUpperCase()),(U=S.getExistingFallback())&&U.parentNode&&U.parentNode.removeChild(U),!1!==S.options.previewsContainer&&(S.previewsContainer=S.options.previewsContainer?B.getElement(S.options.previewsContainer,"previewsContainer"):S.element),S.options.clickable&&(S.clickableElements=!0===S.options.clickable?[S.element]:B.getElements(S.options.clickable,"clickable")),S.init(),S}return ue(B,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(x){return x.accepted}).map(function(x){return x})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(x){return!x.accepted}).map(function(x){return x})}},{key:"getFilesWithStatus",value:function(x){return this.files.filter(function(S){return S.status===x}).map(function(S){return S})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(B.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(B.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(B.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(x){return x.status===B.UPLOADING||x.status===B.QUEUED}).map(function(x){return x})}},{key:"init",value:function(){var x=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(B.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function Ge(){x.hiddenFileInput&&x.hiddenFileInput.parentNode.removeChild(x.hiddenFileInput),x.hiddenFileInput=document.createElement("input"),x.hiddenFileInput.setAttribute("type","file"),(null===x.options.maxFiles||x.options.maxFiles>1)&&x.hiddenFileInput.setAttribute("multiple","multiple"),x.hiddenFileInput.className="dz-hidden-input",null!==x.options.acceptedFiles&&x.hiddenFileInput.setAttribute("accept",x.options.acceptedFiles),null!==x.options.capture&&x.hiddenFileInput.setAttribute("capture",x.options.capture),x.hiddenFileInput.setAttribute("tabindex","-1"),x.hiddenFileInput.style.visibility="hidden",x.hiddenFileInput.style.position="absolute",x.hiddenFileInput.style.top="0",x.hiddenFileInput.style.left="0",x.hiddenFileInput.style.height="0",x.hiddenFileInput.style.width="0",B.getElement(x.options.hiddenInputContainer,"hiddenInputContainer").appendChild(x.hiddenFileInput),x.hiddenFileInput.addEventListener("change",function(){var Ye=x.hiddenFileInput.files;if(Ye.length){var xt,it=nt(Ye,!0);try{for(it.s();!(xt=it.n()).done;)x.addFile(xt.value)}catch(F){it.e(F)}finally{it.f()}}x.emit("addedfiles",Ye),Ge()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var P,U=nt(this.events,!0);try{for(U.s();!(P=U.n()).done;){var Q=P.value;this.on(Q,this.options[Q])}}catch(Ge){U.e(Ge)}finally{U.f()}this.on("uploadprogress",function(){return x.updateTotalUploadProgress()}),this.on("removedfile",function(){return x.updateTotalUploadProgress()}),this.on("canceled",function(Ge){return x.emit("complete",Ge)}),this.on("complete",function(Ge){if(0===x.getAddedFiles().length&&0===x.getUploadingFiles().length&&0===x.getQueuedFiles().length)return setTimeout(function(){return x.emit("queuecomplete")},0)});var Oe=function(Ye){if(function(Ye){if(Ye.dataTransfer.types)for(var it=0;it<Ye.dataTransfer.types.length;it++)if("Files"===Ye.dataTransfer.types[it])return!0;return!1}(Ye))return Ye.stopPropagation(),Ye.preventDefault?Ye.preventDefault():Ye.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(Ye){return x.emit("dragstart",Ye)},dragenter:function(Ye){return Oe(Ye),x.emit("dragenter",Ye)},dragover:function(Ye){var it;try{it=Ye.dataTransfer.effectAllowed}catch{}return Ye.dataTransfer.dropEffect="move"===it||"linkMove"===it?"move":"copy",Oe(Ye),x.emit("dragover",Ye)},dragleave:function(Ye){return x.emit("dragleave",Ye)},drop:function(Ye){return Oe(Ye),x.drop(Ye)},dragend:function(Ye){return x.emit("dragend",Ye)}}}],this.clickableElements.forEach(function(Ge){return x.listeners.push({element:Ge,events:{click:function(it){return(Ge!==x.element||it.target===x.element||B.elementInside(it.target,x.element.querySelector(".dz-message")))&&x.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,B.instances.splice(B.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var x,S=0,U=0;if(this.getActiveFiles().length){var pe,Q=nt(this.getActiveFiles(),!0);try{for(Q.s();!(pe=Q.n()).done;){var Oe=pe.value;S+=Oe.upload.bytesSent,U+=Oe.upload.total}}catch(Ge){Q.e(Ge)}finally{Q.f()}x=100*S/U}else x=100;return this.emit("totaluploadprogress",x,U,S)}},{key:"_getParamName",value:function(x){return"function"==typeof this.options.paramName?this.options.paramName(x):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(x,"]"):"")}},{key:"_renameFile",value:function(x){return"function"!=typeof this.options.renameFile?x.name:this.options.renameFile(x)}},{key:"getFallbackForm",value:function(){var x,S;if(x=this.getExistingFallback())return x;var U='<div class="dz-fallback">';this.options.dictFallbackText&&(U+="<p>".concat(this.options.dictFallbackText,"</p>")),U+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var P=B.createElement(U);return"FORM"!==this.element.tagName?(S=B.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(P):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),S??P}},{key:"getExistingFallback",value:function(){for(var x=function(Oe){var Ye,Ge=nt(Oe,!0);try{for(Ge.s();!(Ye=Ge.n()).done;){var it=Ye.value;if(/(^| )fallback($| )/.test(it.className))return it}}catch(xt){Ge.e(xt)}finally{Ge.f()}},S=0,U=["div","form"];S<U.length;S++){var Q;if(Q=x(this.element.getElementsByTagName(U[S])))return Q}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(x){return function(){var S=[];for(var U in x.events)S.push(x.element.addEventListener(U,x.events[U],!1));return S}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(x){return function(){var S=[];for(var U in x.events)S.push(x.element.removeEventListener(U,x.events[U],!1));return S}()})}},{key:"disable",value:function(){var x=this;return this.clickableElements.forEach(function(S){return S.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(S){return x.cancelUpload(S)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(x){return x.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(x){var S=0,U="b";if(x>0){for(var P=["tb","gb","mb","kb","b"],Q=0;Q<P.length;Q++){var pe=P[Q];if(x>=Math.pow(this.options.filesizeBase,4-Q)/10){S=x/Math.pow(this.options.filesizeBase,4-Q),U=pe;break}}S=Math.round(10*S)/10}return"<strong>".concat(S,"</strong> ").concat(this.options.dictFileSizeUnits[U])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(x){if(x.dataTransfer){this.emit("drop",x);for(var S=[],U=0;U<x.dataTransfer.files.length;U++)S[U]=x.dataTransfer.files[U];if(S.length){var P=x.dataTransfer.items;P&&P.length&&null!=P[0].webkitGetAsEntry?this._addFilesFromItems(P):this.handleFiles(S)}this.emit("addedfiles",S)}}},{key:"paste",value:function(x){if(null!=function Wt(J,Z){return typeof J<"u"&&null!==J?Z(J):void 0}(x?.clipboardData,function(U){return U.items})){this.emit("paste",x);var S=x.clipboardData.items;if(S.length)return this._addFilesFromItems(S)}}},{key:"handleFiles",value:function(x){var U,S=nt(x,!0);try{for(S.s();!(U=S.n()).done;)this.addFile(U.value)}catch(Q){S.e(Q)}finally{S.f()}}},{key:"_addFilesFromItems",value:function(x){var S=this;return function(){var Q,U=[],P=nt(x,!0);try{for(P.s();!(Q=P.n()).done;){var Oe,pe=Q.value;null!=pe.webkitGetAsEntry&&(Oe=pe.webkitGetAsEntry())?U.push(Oe.isFile?S.addFile(pe.getAsFile()):Oe.isDirectory?S._addFilesFromDirectory(Oe,Oe.name):void 0):U.push(null==pe.getAsFile||null!=pe.kind&&"file"!==pe.kind?void 0:S.addFile(pe.getAsFile()))}}catch(Ge){P.e(Ge)}finally{P.f()}return U}()}},{key:"_addFilesFromDirectory",value:function(x,S){var U=this,P=x.createReader(),Q=function(Ge){return function Ht(J,Z,B){if(typeof J<"u"&&null!==J&&"function"==typeof J[Z])return B(J,Z)}(console,"log",function(Ye){return Ye.log(Ge)})};return function Oe(){return P.readEntries(function(Ge){if(Ge.length>0){var it,Ye=nt(Ge,!0);try{for(Ye.s();!(it=Ye.n()).done;){var xt=it.value;xt.isFile?xt.file(function(dt){if(!U.options.ignoreHiddenFiles||"."!==dt.name.substring(0,1))return dt.fullPath="".concat(S,"/").concat(dt.name),U.addFile(dt)}):xt.isDirectory&&U._addFilesFromDirectory(xt,"".concat(S,"/").concat(xt.name))}}catch(dt){Ye.e(dt)}finally{Ye.f()}Oe()}return null},Q)}()}},{key:"accept",value:function(x,S){this.options.maxFilesize&&x.size>1024*this.options.maxFilesize*1024?S(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(x.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):B.isValidFile(x,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(S(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",x)):this.options.accept.call(this,x,S):S(this.options.dictInvalidFileType)}},{key:"addFile",value:function(x){var S=this;x.upload={uuid:B.uuidv4(),progress:0,total:x.size,bytesSent:0,filename:this._renameFile(x)},this.files.push(x),x.status=B.ADDED,this.emit("addedfile",x),this._enqueueThumbnail(x),this.accept(x,function(U){U?(x.accepted=!1,S._errorProcessing([x],U)):(x.accepted=!0,S.options.autoQueue&&S.enqueueFile(x)),S._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(x){var U,S=nt(x,!0);try{for(S.s();!(U=S.n()).done;)this.enqueueFile(U.value)}catch(Q){S.e(Q)}finally{S.f()}return null}},{key:"enqueueFile",value:function(x){var S=this;if(x.status!==B.ADDED||!0!==x.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(x.status=B.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return S.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(x){var S=this;if(this.options.createImageThumbnails&&x.type.match(/image.*/)&&x.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(x),setTimeout(function(){return S._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var x=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var S=this._thumbnailQueue.shift();return this.createThumbnail(S,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(U){return x.emit("thumbnail",S,U),x._processingThumbnail=!1,x._processThumbnailQueue()})}}},{key:"removeFile",value:function(x){if(x.status===B.UPLOADING&&this.cancelUpload(x),this.files=tt(this.files,x),this.emit("removedfile",x),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(x){null==x&&(x=!1);var U,S=nt(this.files.slice(),!0);try{for(S.s();!(U=S.n()).done;){var P=U.value;(P.status!==B.UPLOADING||x)&&this.removeFile(P)}}catch(Q){S.e(Q)}finally{S.f()}return null}},{key:"resizeImage",value:function(x,S,U,P,Q){var pe=this;return this.createThumbnail(x,S,U,P,!0,function(Oe,Ge){if(null==Ge)return Q(x);var Ye=pe.options.resizeMimeType;null==Ye&&(Ye=x.type);var it=Ge.toDataURL(Ye,pe.options.resizeQuality);return("image/jpeg"===Ye||"image/jpg"===Ye)&&(it=Yt.restore(x.dataURL,it)),Q(B.dataURItoBlob(it))})}},{key:"createThumbnail",value:function(x,S,U,P,Q,pe){var Oe=this,Ge=new FileReader;Ge.onload=function(){x.dataURL=Ge.result,"image/svg+xml"!==x.type?Oe.createThumbnailFromUrl(x,S,U,P,Q,pe):pe?.(Ge.result)},Ge.readAsDataURL(x)}},{key:"displayExistingFile",value:function(x,S,U,P){var Q=this,pe=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",x),this.emit("complete",x),pe){x.dataURL=S,this.createThumbnailFromUrl(x,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,function(Ye){Q.emit("thumbnail",x,Ye),U&&U()},P)}else this.emit("thumbnail",x,S),U&&U()}},{key:"createThumbnailFromUrl",value:function(x,S,U,P,Q,pe,Oe){var Ge=this,Ye=document.createElement("img");return Oe&&(Ye.crossOrigin=Oe),Q="from-image"!=getComputedStyle(document.body).imageOrientation&&Q,Ye.onload=function(){var it=function(dt){return dt(1)};return typeof EXIF<"u"&&null!==EXIF&&Q&&(it=function(dt){return EXIF.getData(Ye,function(){return dt(EXIF.getTag(this,"Orientation"))})}),it(function(xt){x.width=Ye.width,x.height=Ye.height;var dt=Ge.options.resize.call(Ge,x,S,U,P),F=document.createElement("canvas"),fe=F.getContext("2d");switch(F.width=dt.trgWidth,F.height=dt.trgHeight,xt>4&&(F.width=dt.trgHeight,F.height=dt.trgWidth),xt){case 2:fe.translate(F.width,0),fe.scale(-1,1);break;case 3:fe.translate(F.width,F.height),fe.rotate(Math.PI);break;case 4:fe.translate(0,F.height),fe.scale(1,-1);break;case 5:fe.rotate(.5*Math.PI),fe.scale(1,-1);break;case 6:fe.rotate(.5*Math.PI),fe.translate(0,-F.width);break;case 7:fe.rotate(.5*Math.PI),fe.translate(F.height,-F.width),fe.scale(-1,1);break;case 8:fe.rotate(-.5*Math.PI),fe.translate(-F.height,0)}bt(fe,Ye,null!=dt.srcX?dt.srcX:0,null!=dt.srcY?dt.srcY:0,dt.srcWidth,dt.srcHeight,null!=dt.trgX?dt.trgX:0,null!=dt.trgY?dt.trgY:0,dt.trgWidth,dt.trgHeight);var me=F.toDataURL("image/png");if(null!=pe)return pe(me,F)})},null!=pe&&(Ye.onerror=pe),Ye.src=x.dataURL}},{key:"processQueue",value:function(){var x=this.options.parallelUploads,S=this.getUploadingFiles().length,U=S;if(!(S>=x)){var P=this.getQueuedFiles();if(P.length>0){if(this.options.uploadMultiple)return this.processFiles(P.slice(0,x-S));for(;U<x;){if(!P.length)return;this.processFile(P.shift()),U++}}}}},{key:"processFile",value:function(x){return this.processFiles([x])}},{key:"processFiles",value:function(x){var U,S=nt(x,!0);try{for(S.s();!(U=S.n()).done;){var P=U.value;P.processing=!0,P.status=B.UPLOADING,this.emit("processing",P)}}catch(Q){S.e(Q)}finally{S.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",x),this.uploadFiles(x)}},{key:"_getFilesWithXhr",value:function(x){return this.files.filter(function(U){return U.xhr===x}).map(function(U){return U})}},{key:"cancelUpload",value:function(x){if(x.status===B.UPLOADING){var P,S=this._getFilesWithXhr(x.xhr),U=nt(S,!0);try{for(U.s();!(P=U.n()).done;)P.value.status=B.CANCELED}catch(Ye){U.e(Ye)}finally{U.f()}typeof x.xhr<"u"&&x.xhr.abort();var Oe,pe=nt(S,!0);try{for(pe.s();!(Oe=pe.n()).done;)this.emit("canceled",Oe.value)}catch(Ye){pe.e(Ye)}finally{pe.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",S)}else(x.status===B.ADDED||x.status===B.QUEUED)&&(x.status=B.CANCELED,this.emit("canceled",x),this.options.uploadMultiple&&this.emit("canceledmultiple",[x]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(x){if("function"==typeof x){for(var S=arguments.length,U=new Array(S>1?S-1:0),P=1;P<S;P++)U[P-1]=arguments[P];return x.apply(this,U)}return x}},{key:"uploadFile",value:function(x){return this.uploadFiles([x])}},{key:"uploadFiles",value:function(x){var S=this;this._transformFiles(x,function(U){if(S.options.chunking){var P=U[0];x[0].upload.chunked=S.options.chunking&&(S.options.forceChunking||P.size>S.options.chunkSize),x[0].upload.totalChunkCount=Math.ceil(P.size/S.options.chunkSize)}if(x[0].upload.chunked){var Q=x[0],pe=U[0];Q.upload.chunks=[];var Ge=function(){for(var F=0;void 0!==Q.upload.chunks[F];)F++;if(!(F>=Q.upload.totalChunkCount)){var fe=F*S.options.chunkSize,me=Math.min(fe+S.options.chunkSize,pe.size),ke={name:S._getParamName(0),data:pe.webkitSlice?pe.webkitSlice(fe,me):pe.slice(fe,me),filename:Q.upload.filename,chunkIndex:F};Q.upload.chunks[F]={file:Q,index:F,dataBlock:ke,status:B.UPLOADING,progress:0,retries:0},S._uploadData(x,[ke])}};if(Q.upload.finishedChunkUpload=function(dt,F){var fe=!0;dt.status=B.SUCCESS,dt.dataBlock=null,dt.xhr=null;for(var me=0;me<Q.upload.totalChunkCount;me++){if(void 0===Q.upload.chunks[me])return Ge();Q.upload.chunks[me].status!==B.SUCCESS&&(fe=!1)}fe&&S.options.chunksUploaded(Q,function(){S._finished(x,F,null)})},S.options.parallelChunkUploads)for(var Ye=0;Ye<Q.upload.totalChunkCount;Ye++)Ge();else Ge()}else{for(var it=[],xt=0;xt<x.length;xt++)it[xt]={name:S._getParamName(xt),data:U[xt],filename:x[xt].upload.filename};S._uploadData(x,it)}})}},{key:"_getChunk",value:function(x,S){for(var U=0;U<x.upload.totalChunkCount;U++)if(void 0!==x.upload.chunks[U]&&x.upload.chunks[U].xhr===S)return x.upload.chunks[U]}},{key:"_uploadData",value:function(x,S){var pe,U=this,P=new XMLHttpRequest,Q=nt(x,!0);try{for(Q.s();!(pe=Q.n()).done;)pe.value.xhr=P}catch(kt){Q.e(kt)}finally{Q.f()}x[0].upload.chunked&&(x[0].upload.chunks[S[0].chunkIndex].xhr=P);var Ge=this.resolveOption(this.options.method,x),Ye=this.resolveOption(this.options.url,x);P.open(Ge,Ye,!0),this.resolveOption(this.options.timeout,x)&&(P.timeout=this.resolveOption(this.options.timeout,x)),P.withCredentials=!!this.options.withCredentials,P.onload=function(kt){U._finishedUploading(x,P,kt)},P.ontimeout=function(){U._handleUploadError(x,P,"Request timedout after ".concat(U.options.timeout/1e3," seconds"))},P.onerror=function(){U._handleUploadError(x,P)},(null!=P.upload?P.upload:P).onprogress=function(kt){return U._updateFilesUploadProgress(x,P,kt)};var dt={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var F in this.options.headers&&B.extend(dt,this.options.headers),dt){var fe=dt[F];fe&&P.setRequestHeader(F,fe)}var me=new FormData;if(this.options.params){var ke=this.options.params;for(var je in"function"==typeof ke&&(ke=ke.call(this,x,P,x[0].upload.chunked?this._getChunk(x[0],P):null)),ke){var st=ke[je];if(Array.isArray(st))for(var et=0;et<st.length;et++)me.append(je,st[et]);else me.append(je,st)}}var vt,Ct=nt(x,!0);try{for(Ct.s();!(vt=Ct.n()).done;)this.emit("sending",vt.value,P,me)}catch(kt){Ct.e(kt)}finally{Ct.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",x,P,me),this._addFormElementData(me);for(var Ot=0;Ot<S.length;Ot++){var Ve=S[Ot];me.append(Ve.name,Ve.data,Ve.filename)}this.submitRequest(P,me,x)}},{key:"_transformFiles",value:function(x,S){for(var U=this,P=[],Q=0,pe=function(Ye){U.options.transformFile.call(U,x[Ye],function(it){P[Ye]=it,++Q===x.length&&S(P)})},Oe=0;Oe<x.length;Oe++)pe(Oe)}},{key:"_addFormElementData",value:function(x){if("FORM"===this.element.tagName){var U,S=nt(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(S.s();!(U=S.n()).done;){var P=U.value,Q=P.getAttribute("name"),pe=P.getAttribute("type");if(pe&&(pe=pe.toLowerCase()),!(typeof Q>"u"||null===Q))if("SELECT"===P.tagName&&P.hasAttribute("multiple")){var Ge,Oe=nt(P.options,!0);try{for(Oe.s();!(Ge=Oe.n()).done;){var Ye=Ge.value;Ye.selected&&x.append(Q,Ye.value)}}catch(it){Oe.e(it)}finally{Oe.f()}}else(!pe||"checkbox"!==pe&&"radio"!==pe||P.checked)&&x.append(Q,P.value)}}catch(it){S.e(it)}finally{S.f()}}}},{key:"_updateFilesUploadProgress",value:function(x,S,U){if(x[0].upload.chunked){var Oe=x[0],Ge=this._getChunk(Oe,S);U?(Ge.progress=100*U.loaded/U.total,Ge.total=U.total,Ge.bytesSent=U.loaded):(Ge.progress=100,Ge.bytesSent=Ge.total),Oe.upload.progress=0,Oe.upload.total=0,Oe.upload.bytesSent=0;for(var Ye=0;Ye<Oe.upload.totalChunkCount;Ye++)Oe.upload.chunks[Ye]&&typeof Oe.upload.chunks[Ye].progress<"u"&&(Oe.upload.progress+=Oe.upload.chunks[Ye].progress,Oe.upload.total+=Oe.upload.chunks[Ye].total,Oe.upload.bytesSent+=Oe.upload.chunks[Ye].bytesSent);Oe.upload.progress=Oe.upload.progress/Oe.upload.totalChunkCount,this.emit("uploadprogress",Oe,Oe.upload.progress,Oe.upload.bytesSent)}else{var Q,P=nt(x,!0);try{for(P.s();!(Q=P.n()).done;){var pe=Q.value;pe.upload.total&&pe.upload.bytesSent&&pe.upload.bytesSent==pe.upload.total||(U?(pe.upload.progress=100*U.loaded/U.total,pe.upload.total=U.total,pe.upload.bytesSent=U.loaded):(pe.upload.progress=100,pe.upload.bytesSent=pe.upload.total),this.emit("uploadprogress",pe,pe.upload.progress,pe.upload.bytesSent))}}catch(it){P.e(it)}finally{P.f()}}}},{key:"_finishedUploading",value:function(x,S,U){var P;if(x[0].status!==B.CANCELED&&4===S.readyState){if("arraybuffer"!==S.responseType&&"blob"!==S.responseType&&(P=S.responseText,S.getResponseHeader("content-type")&&~S.getResponseHeader("content-type").indexOf("application/json")))try{P=JSON.parse(P)}catch(Q){U=Q,P="Invalid JSON response from server."}this._updateFilesUploadProgress(x,S),200<=S.status&&S.status<300?x[0].upload.chunked?x[0].upload.finishedChunkUpload(this._getChunk(x[0],S),P):this._finished(x,P,U):this._handleUploadError(x,S,P)}}},{key:"_handleUploadError",value:function(x,S,U){if(x[0].status!==B.CANCELED){if(x[0].upload.chunked&&this.options.retryChunks){var P=this._getChunk(x[0],S);if(P.retries++<this.options.retryChunksLimit)return void this._uploadData(x,[P.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(x,U||this.options.dictResponseError.replace("{{statusCode}}",S.status),S)}}},{key:"submitRequest",value:function(x,S,U){1==x.readyState?x.send(S):console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(x,S,U){var Q,P=nt(x,!0);try{for(P.s();!(Q=P.n()).done;){var pe=Q.value;pe.status=B.SUCCESS,this.emit("success",pe,S,U),this.emit("complete",pe)}}catch(Oe){P.e(Oe)}finally{P.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",x,S,U),this.emit("completemultiple",x)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(x,S,U){var Q,P=nt(x,!0);try{for(P.s();!(Q=P.n()).done;){var pe=Q.value;pe.status=B.ERROR,this.emit("error",pe,S,U),this.emit("complete",pe)}}catch(Oe){P.e(Oe)}finally{P.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",x,S,U),this.emit("completemultiple",x)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=Ae,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(x){for(var S=arguments.length,U=new Array(S>1?S-1:0),P=1;P<S;P++)U[P-1]=arguments[P];for(var Q=0,pe=U;Q<pe.length;Q++){var Oe=pe[Q];for(var Ge in Oe)x[Ge]=Oe[Ge]}return x}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var S=16*Math.random()|0;return("x"===x?S:3&S|8).toString(16)})}}]),B}(Ae);Se.initClass(),Se.version="5.9.3",Se.options={},Se.optionsForElement=function(J){if(J.getAttribute("id"))return Se.options[ft(J.getAttribute("id"))]},Se.instances=[],Se.forElement=function(J){if("string"==typeof J&&(J=document.querySelector(J)),null==J?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return J.dropzone},Se.autoDiscover=!0,Se.discover=function(){var J;if(document.querySelectorAll)J=document.querySelectorAll(".dropzone");else{J=[];var Z=function(K){return function(){var U,x=[],S=nt(K,!0);try{for(S.s();!(U=S.n()).done;){var P=U.value;/(^| )dropzone($| )/.test(P.className)?x.push(J.push(P)):x.push(void 0)}}catch(Q){S.e(Q)}finally{S.f()}return x}()};Z(document.getElementsByTagName("div")),Z(document.getElementsByTagName("form"))}return function(){var x,B=[],K=nt(J,!0);try{for(K.s();!(x=K.n()).done;){var S=x.value;!1!==Se.optionsForElement(S)?B.push(new Se(S)):B.push(void 0)}}catch(U){K.e(U)}finally{K.f()}return B}()},Se.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Se.isBrowserSupported=function(){var J=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==Se.blacklistedBrowsers&&(Se.blockedBrowsers=Se.blacklistedBrowsers);var B,Z=nt(Se.blockedBrowsers,!0);try{for(Z.s();!(B=Z.n()).done;)B.value.test(navigator.userAgent)&&(J=!1)}catch(x){Z.e(x)}finally{Z.f()}}else J=!1;else J=!1;return J},Se.dataURItoBlob=function(J){for(var Z=atob(J.split(",")[1]),B=J.split(",")[0].split(":")[1].split(";")[0],K=new ArrayBuffer(Z.length),x=new Uint8Array(K),S=0,U=Z.length,P=0<=U;P?S<=U:S>=U;P?S++:S--)x[S]=Z.charCodeAt(S);return new Blob([K],{type:B})};var tt=function(Z,B){return Z.filter(function(K){return K!==B}).map(function(K){return K})},ft=function(Z){return Z.replace(/[\-_](\w)/g,function(B){return B.charAt(1).toUpperCase()})};Se.createElement=function(J){var Z=document.createElement("div");return Z.innerHTML=J,Z.childNodes[0]},Se.elementInside=function(J,Z){if(J===Z)return!0;for(;J=J.parentNode;)if(J===Z)return!0;return!1},Se.getElement=function(J,Z){var B;if("string"==typeof J?B=document.querySelector(J):null!=J.nodeType&&(B=J),null==B)throw new Error("Invalid `".concat(Z,"` option provided. Please provide a CSS selector or a plain HTML element."));return B},Se.getElements=function(J,Z){var K;if(J instanceof Array){K=[];try{var S,x=nt(J,!0);try{for(x.s();!(S=x.n()).done;)K.push(this.getElement(S.value,Z))}catch(Q){x.e(Q)}finally{x.f()}}catch{K=null}}else if("string"==typeof J){K=[];var P,U=nt(document.querySelectorAll(J),!0);try{for(U.s();!(P=U.n()).done;)K.push(P.value)}catch(Q){U.e(Q)}finally{U.f()}}else null!=J.nodeType&&(K=[J]);if(null==K||!K.length)throw new Error("Invalid `".concat(Z,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return K},Se.confirm=function(J,Z,B){return window.confirm(J)?Z():null!=B?B():void 0},Se.isValidFile=function(J,Z){if(!Z)return!0;Z=Z.split(",");var S,B=J.type,K=B.replace(/\/.*$/,""),x=nt(Z,!0);try{for(x.s();!(S=x.n()).done;){var U=S.value;if("."===(U=U.trim()).charAt(0)){if(-1!==J.name.toLowerCase().indexOf(U.toLowerCase(),J.name.length-U.length))return!0}else if(/\/\*$/.test(U)){if(K===U.replace(/\/.*$/,""))return!0}else if(B===U)return!0}}catch(P){x.e(P)}finally{x.f()}return!1},typeof jQuery<"u"&&null!==jQuery&&(jQuery.fn.dropzone=function(J){return this.each(function(){return new Se(this,J)})}),Se.ADDED="added",Se.QUEUED="queued",Se.ACCEPTED=Se.QUEUED,Se.UPLOADING="uploading",Se.PROCESSING=Se.UPLOADING,Se.CANCELED="canceled",Se.ERROR="error",Se.SUCCESS="success";var bt=function(Z,B,K,x,S,U,P,Q,pe,Oe){var Ge=function(Z){var K=Z.naturalHeight,x=document.createElement("canvas");x.width=1,x.height=K;var S=x.getContext("2d");S.drawImage(Z,0,0);for(var P=S.getImageData(1,0,1,K).data,Q=0,pe=K,Oe=K;Oe>Q;)0===P[4*(Oe-1)+3]?pe=Oe:Q=Oe,Oe=pe+Q>>1;var Ye=Oe/K;return 0===Ye?1:Ye}(B);return Z.drawImage(B,K,x,S,U,P,Q,pe,Oe/Ge)},Yt=function(){function J(){te(this,J)}return ue(J,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(B){for(var K="",x=void 0,S=void 0,U="",P=void 0,Q=void 0,pe=void 0,Oe="",Ge=0;P=(x=B[Ge++])>>2,Q=(3&x)<<4|(S=B[Ge++])>>4,pe=(15&S)<<2|(U=B[Ge++])>>6,Oe=63&U,isNaN(S)?pe=Oe=64:isNaN(U)&&(Oe=64),K=K+this.KEY_STR.charAt(P)+this.KEY_STR.charAt(Q)+this.KEY_STR.charAt(pe)+this.KEY_STR.charAt(Oe),x=S=U="",P=Q=pe=Oe="",Ge<B.length;);return K}},{key:"restore",value:function(B,K){if(!B.match("data:image/jpeg;base64,"))return K;var x=this.decode64(B.replace("data:image/jpeg;base64,","")),S=this.slice2Segments(x),U=this.exifManipulation(K,S);return"data:image/jpeg;base64,".concat(this.encode64(U))}},{key:"exifManipulation",value:function(B,K){var x=this.getExifArray(K),S=this.insertExif(B,x);return new Uint8Array(S)}},{key:"getExifArray",value:function(B){for(var K=void 0,x=0;x<B.length;){if(255===(K=B[x])[0]&225===K[1])return K;x++}return[]}},{key:"insertExif",value:function(B,K){var x=B.replace("data:image/jpeg;base64,",""),S=this.decode64(x),U=S.indexOf(255,3),P=S.slice(0,U),Q=S.slice(U),pe=P;return(pe=pe.concat(K)).concat(Q)}},{key:"slice2Segments",value:function(B){for(var K=0,x=[];!(255===B[K]&218===B[K+1]);){if(255===B[K]&216===B[K+1])K+=2;else{var U=K+(256*B[K+2]+B[K+3])+2,P=B.slice(K,U);x.push(P),K=U}if(K>B.length)break}return x}},{key:"decode64",value:function(B){var S=void 0,U="",P=void 0,Q=void 0,pe=void 0,Oe="",Ge=0,Ye=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(B)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),B=B.replace(/[^A-Za-z0-9\+\/\=]/g,"");P=this.KEY_STR.indexOf(B.charAt(Ge++)),S=(15&(Q=this.KEY_STR.indexOf(B.charAt(Ge++))))<<4|(pe=this.KEY_STR.indexOf(B.charAt(Ge++)))>>2,U=(3&pe)<<6|(Oe=this.KEY_STR.indexOf(B.charAt(Ge++))),Ye.push(P<<2|Q>>4),64!==pe&&Ye.push(S),64!==Oe&&Ye.push(U),S=U="",P=Q=pe=Oe="",Ge<B.length;);return Ye}}]),J}();Yt.initClass();Se._autoDiscoverFunction=function(){if(Se.autoDiscover)return Se.discover()},function(Z,B){var K=!1,x=!0,S=Z.document,U=S.documentElement,P=S.addEventListener?"addEventListener":"attachEvent",Q=S.addEventListener?"removeEventListener":"detachEvent",pe=S.addEventListener?"":"on",Oe=function Ye(it){if(("readystatechange"!==it.type||"complete"===S.readyState)&&(("load"===it.type?Z:S)[Q](pe+it.type,Ye,!1),!K&&(K=!0)))return B.call(Z,it.type||it)};if("complete"!==S.readyState){if(S.createEventObject&&U.doScroll){try{x=!Z.frameElement}catch{}x&&function Ye(){try{U.doScroll("left")}catch{return void setTimeout(Ye,50)}return Oe("poll")}()}S[P](pe+"DOMContentLoaded",Oe,!1),S[P](pe+"readystatechange",Oe,!1),Z[P](pe+"load",Oe,!1)}}(window,Se._autoDiscoverFunction),window.Dropzone=Se;var sn=Se}(),M}()},86886:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"hu",weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),ordinal:function(o){return o+"."},weekStart:1,relativeTime:{future:"%s m\xfalva",past:"%s",s:function(o,s,d,u){return"n\xe9h\xe1ny m\xe1sodperc"+(u||s?"":"e")},m:function(o,s,d,u){return"egy perc"+(u||s?"":"e")},mm:function(o,s,d,u){return o+" perc"+(u||s?"":"e")},h:function(o,s,d,u){return"egy "+(u||s?"\xf3ra":"\xf3r\xe1ja")},hh:function(o,s,d,u){return o+" "+(u||s?"\xf3ra":"\xf3r\xe1ja")},d:function(o,s,d,u){return"egy "+(u||s?"nap":"napja")},dd:function(o,s,d,u){return o+" "+(u||s?"nap":"napja")},M:function(o,s,d,u){return"egy "+(u||s?"h\xf3nap":"h\xf3napja")},MM:function(o,s,d,u){return o+" "+(u||s?"h\xf3nap":"h\xf3napja")},y:function(o,s,d,u){return"egy "+(u||s?"\xe9v":"\xe9ve")},yy:function(o,s,d,u){return o+" "+(u||s?"\xe9v":"\xe9ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return _.default.locale(p,null,!0),p}(m(49645))},87149:(ge,_e,m)=>{"use strict";m.d(_e,{E:()=>s,J:()=>o});var D=m(49074),M=m(75797),_=m(44444),p=m(3347);let o=(()=>{class d{constructor(h){this.snackBar=h,this.logs$=new M.t([]),this.logLimit=50,this.lastSnackBarTime=0,this.snackBarDebounce=1e4}ngOnDestroy(){this.logs$.complete()}addLog(h,f,v){const I=[{error:v,label:f,severity:h,time:Date.now()},...this.logs$.value.slice(0,this.logLimit-2)];this.logs$.next(I)}showMessage(h,f,v){const y=Date.now();!v&&y-this.lastSnackBarTime<=this.snackBarDebounce||(null!=f&&f>0?this.snackBar.open(h,null,{duration:f}):this.snackBar.open(h),this.lastSnackBarTime=y)}getLogs$(){return this.logs$.asObservable()}getLogsSignal(){return(0,D.ot)(this.logs$)}static#e=this.\u0275fac=function(f){return new(f||d)(_.KVO(p.UG))};static#t=this.\u0275prov=_.jDH({token:d,factory:d.\u0275fac})}return d})();const s={Error:"error",Log:"log",Warn:"warn"}},90396:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"el",weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03b9_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0\u03c4_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),ordinal:function(o){return o},weekStart:1,relativeTime:{future:"\u03c3\u03b5 %s",past:"\u03c0\u03c1\u03b9\u03bd %s",s:"\u03bc\u03b5\u03c1\u03b9\u03ba\u03ac \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return _.default.locale(p,null,!0),p}(m(49645))},90927:(ge,_e,m)=>{"use strict";m.d(_e,{b:()=>W});var D=m(70271),M=m(50052),_=m(34435),p=m(48021),o=m(98503),s=m(63966),d=m(89964),u=m(47314),h=m(58021),f=m(45129),v=m(89274);class y{constructor(){this.log=(0,_.Tq)({FieldWriter:y})}#e(O,V,G){const N={};if(0===Object.keys(O).length){const L={...G};return N[V]=L,N}for(const L of Object.keys(O))if(L===V){const w={...G};N[L]=w}else{const w={...O[L]};N[L]=w}if(null==O[V]){const L={...G};N[V]=L}return N}updateAttributesValues(O,V,G){const N=this.log.fn("updateAttributesValues",{allFields:O,updateValues:V,language:G}),L={};return Object.keys(O).forEach(w=>{const k=V[w];if(void 0!==k)if(new u.U(O[w],G).isEditableOrReadonlyTranslationExist()){const j={...O[w],Values:O[w].Values.map(ee=>new v.Y(ee.dimensions,G).hasCurrent?{...ee,value:k}:ee)};L[w]=j}else{N.a("saveAttributeValues add values ",{newItemValue:k});const j=f.U.create(k,[h.v.create(G.current)]);L[w]={...O[w],Values:[...O[w].Values,j]}}else L[w]={...O[w]}}),L}updateAttributeValue(O,V,G,N,L){let w={},k=N.current;L&&(k=`~${N.current}`);const E={...O[V],Values:O[V].Values.map(Y=>new v.Y(Y.dimensions,N).hasCurrent?{...Y,value:G,dimensions:Y.dimensions.map(q=>q.dimCode===N.current||q.dimCode===`~${N.current}`||N.current===N.primary&&"*"===q.dimCode?{dimCode:k}:q)}:Y)};return w=this.#e(O,V,E),w}addAttributeValue(O,V,G,N){let L={};const w=0!==Object.keys(O).length&&O[G]?{...O[G],Values:[...O[G].Values,V],Type:N}:{...O[G],Values:[V],Type:N};return L=this.#e(O,G,w),L}addAttributeDimension(O,V,G,N,L,w){let k={},E=G;w&&(E=`~${G}`);const Y={...O[V],Values:O[V].Values.map(j=>j.dimensions.find(q=>q.dimCode===N||N===L&&"*"===q.dimCode)?{...j,dimensions:j.dimensions.concat({dimCode:E})}:j)};return k=this.#e(O,V,Y),k}removeAttributeDimension(O,V,G){const N=O,L=[G,`~${G}`],w=N[V].Values.find(Y=>Y.dimensions.some(ee=>L.includes(ee.dimCode)));if(!w)return{...N};let k;return w.dimensions.length>1?k={...N[V],Values:N[V].Values.map(Y=>Y.dimensions.some(ee=>L.includes(ee.dimCode))?{...Y,dimensions:Y.dimensions.filter(ee=>!L.includes(ee.dimCode))}:Y)}:1===w.dimensions.length&&(k={...N[V],Values:N[V].Values.filter(Y=>!Y.dimensions.some(ee=>L.includes(ee.dimCode)))}),this.#e(N,V,k)}}var C=m(13050),I=m(6953);const T={all:!0,updateItemId:!1,updateItemHeader:!1,addItemAttributeValue:!1,updateItemAttributeValue:!1,setDefaultValue:!1,updateItemAttributesValues:!1,addItemAttributeDimension:!1,removeItemAttributeDimension:!1,updateItemMetadata:!1};class R{constructor(O){this.itemSvc=O,this.log=(0,_.Tq)({ItemUpdateHelper:R},T)}updateItemId(O){this.log.fnIf("updateItemId",{saveResult:O});const G=Object.keys(O)[0],N=O[G],L=this.itemSvc.get(G);if(!L||0!==L.Header.EntityId&&0!==L.Entity.Id)return;const w={...L,Header:{...L.Header,EntityId:N},Entity:{...L.Entity,Id:N}};this.itemSvc.add(w)}updateItemHeader(O,V){const G=this.log.fnIf("updateItemHeader",{entityGuid:O,header:V}),N=this.itemSvc.get(O);if(!N)return;const L={...N,Header:{...V}};this.itemSvc.add(L),G.end()}addItemAttributeValue(O,V,G,N,L,w,k=!1,E){this.log.fnIf("addItemAttributeValue",{entityGuid:O,attributeKey:V,newValue:G,currentLanguage:N,isReadOnly:L,attributeType:w,isTransaction:k,transactionItem:E});const ee=f.U.create(G,[h.v.create(L?`~${N}`:N)]),q=E??this.itemSvc.get(O),de={...q,Entity:{...q.Entity,Attributes:(new y).addAttributeValue(q.Entity.Attributes,ee,V,w)}};return k||this.itemSvc.add(de),de}updateItemAttributeValue(O,V,G,N,L){this.log.fnIf("updateItemAttributeValue",{entityGuid:O,attributeKey:V,newValue:G,language:N,isReadOnly:L});const k=this.itemSvc.get(O);if(!k)return;const E={...k,Entity:{...k.Entity,Attributes:(new y).updateAttributeValue(k.Entity.Attributes,V,G,N,L)}};this.itemSvc.add(E)}setDefaultValue(O,V,G,N,L,w){const k=this.log.fnIf("setDefaultValue",{item:O,ctAttribute:V,inputType:G,settings:N,languages:L,defaultLanguage:w},`Name: ${V.Name}`),E=new C.X3(V.Name,G?.Type,N,O.Header).getDefaultOrPrefillValue(),Y=new u.U(O.Entity.Attributes[V.Name],w).currentOrDefault?.value,j=0===L.length||G?.DisableI18n?"*":w;return void 0===Y?this.addItemAttributeValue(O.Entity.Guid,V.Name,E,j,!1,V.Type):this.updateItemAttributeValue(O.Entity.Guid,V.Name,E,{current:j,primary:w},!1),k.r(E)}updateItemAttributesValues(O,V,G){const N=this.log.fnIf("updateItemAttributesValues",{entityGuid:O,newValues:V,language:G}),L=this.itemSvc.get(O);if(!L)return N.end("Item not found");const w=new C.bT(G),k={},E=Object.entries(L.Entity.Attributes).filter(([q])=>V.hasOwnProperty(q));for(const[q,de]of E)k[q]=w.getBestValue(de);const Y=I.$.getItemValuesChanges(k,V);if(null==Y)return N.end("No changes");const j=(new y).updateAttributesValues(L.Entity.Attributes,Y,G),ee={...L,Entity:{...L.Entity,Attributes:j}};this.itemSvc.add(ee)}addItemAttributeDimension(O,V,G,N,L,w,k){this.log.fnIf("addItemAttributeDimension",{entityGuid:O,attributeKey:V,currentLanguage:G,shareWithLanguage:N,defaultLanguage:L,isReadOnly:w,transactionItem:k});const Y=k??this.itemSvc.get(O),j={...Y,Entity:{...Y.Entity,Attributes:(new y).addAttributeDimension(Y.Entity.Attributes,V,G,N,L,w)}};this.itemSvc.add(j)}removeItemAttributeDimension(O,V,G,N=!1,L){const w=this.log.fnIf("removeItemAttributeDimension",{entityGuid:O,attributeKey:V,currentLanguage:G,isTransaction:N,transactionItem:L}),k=L??this.itemSvc.get(O),E={...k,Entity:{...k.Entity,Attributes:(new y).removeAttributeDimension(k.Entity.Attributes,V,G)}};return N||this.itemSvc.add(E),w.r(E)}updateItemMetadata(O,V){const G=this.log.fnIf("updateItemMetadata",{entityGuid:O,metadata:V}),N=this.itemSvc.get(O),L={...N,Entity:{...N.Entity,Metadata:V}};this.itemSvc.add(L),G.end("ok",{newItem:L})}}var H=m(44444);let W=(()=>{class A extends d.k{constructor(){super((0,_.Tq)({ItemService:A})),this.getId=V=>V.Entity.Guid,this.updater=new R(this),this.#e=new o.K("itemAttributes"),this.#t=new o.K("itemHeader"),this.#n=new o.K("slotIsEmpty")}loadItems(V){const G=V.map(N=>s.U.anyToEav(N));this.addMany(G)}itemAttributesSignal(V){const G=this.log.fn("itemAttributes",{entityGuid:V}),N=this.#e.getOrCreate(V,()=>this.getSignal(V)()?.Entity.Attributes);return G.r(N)}#e;getItemAttributes(V){const G=this.log.fn("getItemAttributes",{entityGuid:V}),N=this.get(V)?.Entity.Attributes;return G.r(N)}getItemAttributes$(V){return this.list$.pipe((0,D.T)(G=>G.find(N=>N.Entity.Guid===V)?.Entity.Attributes),(0,p.J)(G=>G))}getItemHeader(V){return this.get(V)?.Header}getItemHeader$(V){return this.list$.pipe((0,D.T)(G=>G.find(N=>N.Entity.Guid===V)?.Header),(0,p.A)(G=>G))}getItemHeaderSignal(V){return this.#t.getOrCreate(V,()=>this.getSignal(V)()?.Header)}#t;slotIsEmpty(V){return this.#n.getOrCreate(V,()=>{const G=this.getSignal(V)()?.Header;return null==G||G.IsEmptyAllowed&&G.IsEmpty})}#n;getItemFor(V){return this.get(V)?.Entity.For}getItemNote(V){return this.get(V)?.Entity.Metadata?.find(G=>G.Type.Name===M.YX.contentTypes.notes)}static#i=this.\u0275fac=function(G){return new(G||A)};static#a=this.\u0275prov=H.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},91686:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"es-us",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(o){return o+"\xba"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return _.default.locale(p,null,!0),p}(m(49645))},91810:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"bg",weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekStart:1,ordinal:function(o){var s=o%100;if(s>10&&s<20)return o+"-\u0442\u0438";var d=o%10;return 1===d?o+"-\u0432\u0438":2===d?o+"-\u0440\u0438":7===d||8===d?o+"-\u043c\u0438":o+"-\u0442\u0438"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"}};return _.default.locale(p,null,!0),p}(m(49645))},92853:function(ge,_e){var m,M;m=function _(){var o,p=typeof self<"u"?self:typeof window<"u"?window:void 0!==p?p:{},s=!p.document&&!!p.postMessage,d=p.IS_PAPA_WORKER||!1,u={},h=0,f={};function v(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(k){var E=G(k);E.chunkSize=parseInt(E.chunkSize),k.step||k.chunk||(E.chunkSize=null),this._handle=new R(E),(this._handle.streamer=this)._config=E}.call(this,w),this.parseChunk=function(k,E){var Y=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Y){let ee=this._config.newline;ee||(ee=this._handle.guessLineEndings(k,j=this._config.quoteChar||'"')),k=[...k.split(ee).slice(Y)].join(ee)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&void 0!==(j=this._config.beforeFirstChunk(k))&&(k=j),this.isFirstChunk=!1,this._halted=!1,Y=this._partialLine+k;var j=(this._partialLine="",this._handle.parse(Y,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=j.meta.cursor,this._finished||(this._partialLine=Y.substring(k-this._baseIndex),this._baseIndex=k),j&&j.data&&(this._rowCount+=j.data.length),Y=this._finished||this._config.preview&&this._rowCount>=this._config.preview,d)p.postMessage({results:j,workerId:f.WORKER_ID,finished:Y});else if(L(this._config.chunk)&&!E){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!Y||!L(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Y||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(k){L(this._config.error)?this._config.error(k):d&&this._config.error&&p.postMessage({workerId:f.WORKER_ID,error:k,finished:!1})}}function y(w){var k;(w=w||{}).chunkSize||(w.chunkSize=f.RemoteChunkSize),v.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=N(this._chunkLoaded,this),k.onerror=N(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var E,Y=this._config.downloadRequestHeaders;for(E in Y)k.setRequestHeader(E,Y[E])}this._config.chunkSize&&k.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{k.send(this._config.downloadRequestBody)}catch(ee){this._chunkError(ee.message)}s&&0===k.status&&this._chunkError()}},this._chunkLoaded=function(){var E;4===k.readyState&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(E=(E=k).getResponseHeader("Content-Range"))?parseInt(E.substring(E.lastIndexOf("/")+1)):-1),this.parseChunk(k.responseText)))},this._chunkError=function(E){E=k.statusText||E,this._sendError(new Error(E))}}function C(w){(w=w||{}).chunkSize||(w.chunkSize=f.LocalChunkSize),v.call(this,w);var k,E,Y=typeof FileReader<"u";this.stream=function(j){this._input=j,E=j.slice||j.webkitSlice||j.mozSlice,Y?((k=new FileReader).onload=N(this._chunkLoaded,this),k.onerror=N(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,ee=(this._config.chunkSize&&(ee=Math.min(this._start+this._config.chunkSize,this._input.size),j=E.call(j,this._start,ee)),k.readAsText(j,this._config.encoding));Y||this._chunkLoaded({target:{result:ee}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(k.error)}}function I(w){var k;v.call(this,w=w||{}),this.stream=function(E){return k=E,this._nextChunk()},this._nextChunk=function(){var E,Y;if(!this._finished)return k=(E=this._config.chunkSize)?(Y=k.substring(0,E),k.substring(E)):(Y=k,""),this._finished=!k,this.parseChunk(Y)}}function T(w){v.call(this,w=w||{});var k=[],E=!0,Y=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Y&&1===k.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):E=!0},this._streamData=N(function(j){try{k.push("string"==typeof j?j:j.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(ee){this._streamError(ee)}},this),this._streamError=N(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=N(function(){this._streamCleanUp(),Y=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function R(w){var k,E,Y,j,ee=Math.pow(2,53),q=-ee,de=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,we=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,xe=this,He=0,Te=0,De=!1,Me=!1,Be=[],$={data:[],errors:[],meta:{}};function ne(he){return"greedy"===w.skipEmptyLines?""===he.join("").trim():1===he.length&&0===he[0].length}function oe(){if($&&Y&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),Y=!1),w.skipEmptyLines&&($.data=$.data.filter(function(Ee){return!ne(Ee)})),ve()){let Ee=function(re,Re){L(w.transformHeader)&&(re=w.transformHeader(re,Re)),Be.push(re)};if($)if(Array.isArray($.data[0])){for(var he=0;ve()&&he<$.data.length;he++)$.data[he].forEach(Ee);$.data.splice(0,1)}else $.data.forEach(Ee)}function Ie(Ee,re){for(var Re=w.header?{}:[],ze=0;ze<Ee.length;ze++){var Ne=ze,Ae=Ee[ze];ce=Ne=w.header?ze>=Be.length?"__parsed_extra":Be[ze]:Ne,Le=Ae=w.transform?w.transform(Ae,Ne):Ae,void 0,$e=ce,w.dynamicTypingFunction&&void 0===w.dynamicTyping[$e]&&(w.dynamicTyping[$e]=w.dynamicTypingFunction($e)),Ae=!0===(w.dynamicTyping[$e]||w.dynamicTyping)?"true"===Le||"TRUE"===Le||"false"!==Le&&"FALSE"!==Le&&(($e=>{if(de.test($e)&&($e=parseFloat($e),q<$e&&$e<ee))return 1})(Le)?parseFloat(Le):we.test(Le)?new Date(Le):""===Le?null:Le):Le,"__parsed_extra"===Ne?(Re[Ne]=Re[Ne]||[],Re[Ne].push(Ae)):Re[Ne]=Ae}var ce,Le,$e;return w.header&&(ze>Be.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+Be.length+" fields but parsed "+ze,Te+re):ze<Be.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+Be.length+" fields but parsed "+ze,Te+re)),Re}var Ke;$&&(w.header||w.dynamicTyping||w.transform)&&(Ke=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(Ie),Ke=$.data.length):$.data=Ie($.data,0),w.header&&$.meta&&($.meta.fields=Be),Te+=Ke)}function ve(){return w.header&&0===Be.length}function be(he,Ie,Ke,ye){he={type:he,code:Ie,message:Ke},void 0!==ye&&(he.row=ye),$.errors.push(he)}L(w.step)&&(j=w.step,w.step=function(he){$=he,ve()?oe():(oe(),0!==$.data.length&&(He+=he.data.length,w.preview&&He>w.preview?E.abort():($.data=$.data[0],j($,xe))))}),this.parse=function(he,Ie,Ke){var ye=w.quoteChar||'"';return w.newline||(w.newline=this.guessLineEndings(he,ye)),Y=!1,w.delimiter?L(w.delimiter)&&(w.delimiter=w.delimiter(he),$.meta.delimiter=w.delimiter):((ye=((Ee,re,Re,ze,Ne)=>{var Ae,ce,Le,$e;Ne=Ne||[",","\t","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var mt=0;mt<Ne.length;mt++){for(var ht,qe=Ne[mt],Pe=0,rt=0,nt=0,Qe=(Le=void 0,new W({comments:ze,delimiter:qe,newline:re,preview:10}).parse(Ee)),pt=0;pt<Qe.data.length;pt++)Re&&ne(Qe.data[pt])?nt++:(rt+=ht=Qe.data[pt].length,void 0===Le?Le=ht:0<ht&&(Pe+=Math.abs(ht-Le),Le=ht));0<Qe.data.length&&(rt/=Qe.data.length-nt),(void 0===ce||Pe<=ce)&&(void 0===$e||$e<rt)&&1.99<rt&&(ce=Pe,Ae=qe,$e=rt)}return{successful:!!(w.delimiter=Ae),bestDelimiter:Ae}})(he,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=ye.bestDelimiter:(Y=!0,w.delimiter=f.DefaultDelimiter),$.meta.delimiter=w.delimiter),ye=G(w),w.preview&&w.header&&ye.preview++,k=he,E=new W(ye),$=E.parse(k,Ie,Ke),oe(),De?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return De},this.pause=function(){De=!0,E.abort(),k=L(w.chunk)?"":k.substring(E.getCharIndex())},this.resume=function(){xe.streamer._halted?(De=!1,xe.streamer.parseChunk(k,!0)):setTimeout(xe.resume,3)},this.aborted=function(){return Me},this.abort=function(){Me=!0,E.abort(),$.meta.aborted=!0,L(w.complete)&&w.complete($),k=""},this.guessLineEndings=function(Ee,ye){Ee=Ee.substring(0,1048576),ye=new RegExp(H(ye)+"([^]*?)"+H(ye),"gm");var Ke=(Ee=Ee.replace(ye,"")).split("\r");if(Ee=1<(ye=Ee.split("\n")).length&&ye[0].length<Ke[0].length,1===Ke.length||Ee)return"\n";for(var re=0,Re=0;Re<Ke.length;Re++)"\n"===Ke[Re][0]&&re++;return re>=Ke.length/2?"\r\n":"\r"}}function H(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function W(w){var k=(w=w||{}).delimiter,E=w.newline,Y=w.comments,j=w.step,ee=w.preview,q=w.fastMode,de=null,we=!1,xe=null==w.quoteChar?'"':w.quoteChar,He=xe;if(void 0!==w.escapeChar&&(He=w.escapeChar),("string"!=typeof k||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=","),Y===k)throw new Error("Comment character same as delimiter");!0===Y?Y="#":("string"!=typeof Y||-1<f.BAD_DELIMITERS.indexOf(Y))&&(Y=!1),"\n"!==E&&"\r"!==E&&"\r\n"!==E&&(E="\n");var Te=0,De=!1;this.parse=function(Me,Be,$){if("string"!=typeof Me)throw new Error("Input must be a string");var ne=Me.length,oe=k.length,ve=E.length,be=Y.length,he=L(j),Ie=[],Ke=[],ye=[],Ee=Te=0;if(!Me)return Pe();if(q||!1!==q&&-1===Me.indexOf(xe)){for(var re=Me.split(E),Re=0;Re<re.length;Re++){if(Te+=(ye=re[Re]).length,Re!==re.length-1)Te+=E.length;else if($)return Pe();if(!Y||ye.substring(0,be)!==Y){if(he){if(Ie=[],$e(ye.split(k)),rt(),De)return Pe()}else $e(ye.split(k));if(ee&&ee<=Re)return Ie=Ie.slice(0,ee),Pe(!0)}}return Pe()}for(var ze=Me.indexOf(k,Te),Ne=Me.indexOf(E,Te),Ae=new RegExp(H(He)+H(xe),"g"),ce=Me.indexOf(xe,Te);;)if(Me[Te]===xe)for(ce=Te,Te++;;){if(-1===(ce=Me.indexOf(xe,ce+1)))return $||Ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ie.length,index:Te}),ht();if(ce===ne-1)return ht(Me.substring(Te,ce).replace(Ae,xe));if(xe===He&&Me[ce+1]===He)ce++;else if(xe===He||0===ce||Me[ce-1]!==He){-1!==ze&&ze<ce+1&&(ze=Me.indexOf(k,ce+1));var Le=mt(-1===(Ne=-1!==Ne&&Ne<ce+1?Me.indexOf(E,ce+1):Ne)?ze:Math.min(ze,Ne));if(Me.substr(ce+1+Le,oe)===k){ye.push(Me.substring(Te,ce).replace(Ae,xe)),Me[Te=ce+1+Le+oe]!==xe&&(ce=Me.indexOf(xe,Te)),ze=Me.indexOf(k,Te),Ne=Me.indexOf(E,Te);break}if(Le=mt(Ne),Me.substring(ce+1+Le,ce+1+Le+ve)===E){if(ye.push(Me.substring(Te,ce).replace(Ae,xe)),qe(ce+1+Le+ve),ze=Me.indexOf(k,Te),ce=Me.indexOf(xe,Te),he&&(rt(),De))return Pe();if(ee&&Ie.length>=ee)return Pe(!0);break}Ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ie.length,index:Te}),ce++}}else if(Y&&0===ye.length&&Me.substring(Te,Te+be)===Y){if(-1===Ne)return Pe();Ne=Me.indexOf(E,Te=Ne+ve),ze=Me.indexOf(k,Te)}else if(-1!==ze&&(ze<Ne||-1===Ne))ye.push(Me.substring(Te,ze)),ze=Me.indexOf(k,Te=ze+oe);else{if(-1===Ne)break;if(ye.push(Me.substring(Te,Ne)),qe(Ne+ve),he&&(rt(),De))return Pe();if(ee&&Ie.length>=ee)return Pe(!0)}return ht();function $e(nt){Ie.push(nt),Ee=Te}function mt(nt){return-1!==nt&&(nt=Me.substring(ce+1,nt))&&""===nt.trim()?nt.length:0}function ht(nt){return $||(void 0===nt&&(nt=Me.substring(Te)),ye.push(nt),Te=ne,$e(ye),he&&rt()),Pe()}function qe(nt){Te=nt,$e(ye),ye=[],Ne=Me.indexOf(E,Te)}function Pe(nt){if(w.header&&!Be&&Ie.length&&!we){var Qe=Ie[0],pt=Object.create(null),te=new Set(Qe);let ae=!1;for(let ue=0;ue<Qe.length;ue++){let Ce=Qe[ue];if(pt[Ce=L(w.transformHeader)?w.transformHeader(Ce,ue):Ce]){let Ue,le=pt[Ce];for(;Ue=Ce+"_"+le,le++,te.has(Ue););te.add(Ue),Qe[ue]=Ue,pt[Ce]++,ae=!0,(de=null===de?{}:de)[Ue]=Ce}else pt[Ce]=1,Qe[ue]=Ce;te.add(Ce)}ae&&console.warn("Duplicate headers found and renamed."),we=!0}return{data:Ie,errors:Ke,meta:{delimiter:k,linebreak:E,aborted:De,truncated:!!nt,cursor:Ee+(Be||0),renamedHeaders:de}}}function rt(){j(Pe()),Ie=[],Ke=[]}},this.abort=function(){De=!0},this.getCharIndex=function(){return Te}}function A(w){var k=w.data,E=u[k.workerId],Y=!1;if(k.error)E.userError(k.error,k.file);else if(k.results&&k.results.data){var j={abort:function(){Y=!0,O(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(L(E.userStep)){for(var ee=0;ee<k.results.data.length&&(E.userStep({data:k.results.data[ee],errors:k.results.errors,meta:k.results.meta},j),!Y);ee++);delete k.results}else L(E.userChunk)&&(E.userChunk(k.results,j,k.file),delete k.results)}k.finished&&!Y&&O(k.workerId,k.results)}function O(w,k){var E=u[w];L(E.userComplete)&&E.userComplete(k),E.terminate(),delete u[w]}function V(){throw new Error("Not implemented.")}function G(w){if("object"!=typeof w||null===w)return w;var k,E=Array.isArray(w)?[]:{};for(k in w)E[k]=G(w[k]);return E}function N(w,k){return function(){w.apply(k,arguments)}}function L(w){return"function"==typeof w}return f.parse=function(w,k){var Y,E=(k=k||{}).dynamicTyping||!1;if(L(E)&&(k.dynamicTypingFunction=E,E={}),k.dynamicTyping=E,k.transform=!!L(k.transform)&&k.transform,!k.worker||!f.WORKERS_SUPPORTED)return E=null,"string"==typeof w?(w=65279!==(Y=w).charCodeAt(0)?Y:Y.slice(1),E=new(k.download?y:I)(k)):!0===w.readable&&L(w.read)&&L(w.on)?E=new T(k):(p.File&&w instanceof File||w instanceof Object)&&(E=new C(k)),E.stream(w);(E=(()=>{var Y,j,ee;return!!f.WORKERS_SUPPORTED&&(j=p.URL||p.webkitURL||null,ee=_.toString(),Y=f.BLOB_URL||(f.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ee,")();"],{type:"text/javascript"}))),(Y=new p.Worker(Y)).onmessage=A,Y.id=h++,u[Y.id]=Y)})()).userStep=k.step,E.userChunk=k.chunk,E.userComplete=k.complete,E.userError=k.error,k.step=L(k.step),k.chunk=L(k.chunk),k.complete=L(k.complete),k.error=L(k.error),delete k.worker,E.postMessage({input:w,config:k,workerId:E.id})},f.unparse=function(w,k){var E=!1,Y=!0,j=",",ee="\r\n",q='"',de=q+q,we=!1,xe=null,He=!1,Te=((()=>{if("object"==typeof k){if("string"!=typeof k.delimiter||f.BAD_DELIMITERS.filter(function(Be){return-1!==k.delimiter.indexOf(Be)}).length||(j=k.delimiter),"boolean"!=typeof k.quotes&&"function"!=typeof k.quotes&&!Array.isArray(k.quotes)||(E=k.quotes),"boolean"!=typeof k.skipEmptyLines&&"string"!=typeof k.skipEmptyLines||(we=k.skipEmptyLines),"string"==typeof k.newline&&(ee=k.newline),"string"==typeof k.quoteChar&&(q=k.quoteChar),"boolean"==typeof k.header&&(Y=k.header),Array.isArray(k.columns)){if(0===k.columns.length)throw new Error("Option columns is empty");xe=k.columns}void 0!==k.escapeChar&&(de=k.escapeChar+q),k.escapeFormulae instanceof RegExp?He=k.escapeFormulae:"boolean"==typeof k.escapeFormulae&&k.escapeFormulae&&(He=/^[=+\-@\t\r].*$/)}})(),new RegExp(H(q),"g"));if("string"==typeof w&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return De(null,w,we);if("object"==typeof w[0])return De(xe||Object.keys(w[0]),w,we)}else if("object"==typeof w)return"string"==typeof w.data&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||xe),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:"object"==typeof w.data[0]?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||"object"==typeof w.data[0]||(w.data=[w.data])),De(w.fields||[],w.data||[],we);throw new Error("Unable to serialize unrecognized input");function De(Be,$,ne){var oe="",ve=("string"==typeof Be&&(Be=JSON.parse(Be)),"string"==typeof $&&($=JSON.parse($)),Array.isArray(Be)&&0<Be.length),be=!Array.isArray($[0]);if(ve&&Y){for(var he=0;he<Be.length;he++)0<he&&(oe+=j),oe+=Me(Be[he],he);0<$.length&&(oe+=ee)}for(var Ie=0;Ie<$.length;Ie++){var Ke=(ve?Be:$[Ie]).length,ye=!1,Ee=ve?0===Object.keys($[Ie]).length:0===$[Ie].length;if(ne&&!ve&&(ye="greedy"===ne?""===$[Ie].join("").trim():1===$[Ie].length&&0===$[Ie][0].length),"greedy"===ne&&ve){for(var re=[],Re=0;Re<Ke;Re++)re.push($[Ie][be?Be[Re]:Re]);ye=""===re.join("").trim()}if(!ye){for(var Ne=0;Ne<Ke;Ne++)0<Ne&&!Ee&&(oe+=j),oe+=Me($[Ie][ve&&be?Be[Ne]:Ne],Ne);Ie<$.length-1&&(!ne||0<Ke&&!Ee)&&(oe+=ee)}}return oe}function Me(Be,$){var ne,oe;return null==Be?"":Be.constructor===Date?JSON.stringify(Be).slice(1,25):(oe=!1,He&&"string"==typeof Be&&He.test(Be)&&(Be="'"+Be,oe=!0),ne=Be.toString().replace(Te,de),(oe=oe||!0===E||"function"==typeof E&&E(Be,$)||Array.isArray(E)&&E[$]||((ve,be)=>{for(var he=0;he<be.length;he++)if(-1<ve.indexOf(be[he]))return!0;return!1})(ne,f.BAD_DELIMITERS)||-1<ne.indexOf(j)||" "===ne.charAt(0)||" "===ne.charAt(ne.length-1))?q+ne+q:ne)}},f.RECORD_SEP="\x1e",f.UNIT_SEP="\x1f",f.BYTE_ORDER_MARK="\ufeff",f.BAD_DELIMITERS=["\r","\n",'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!p.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=W,f.ParserHandle=R,f.NetworkStreamer=y,f.FileStreamer=C,f.StringStreamer=I,f.ReadableStreamStreamer=T,p.jQuery&&((o=p.jQuery).fn.parse=function(w){var k=w.config||{},E=[];return this.each(function(ee){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!p.FileReader||!this.files||0===this.files.length)return!0;for(var q=0;q<this.files.length;q++)E.push({file:this.files[q],inputElem:this,instanceConfig:o.extend({},k)})}),Y(),this;function Y(){if(0===E.length)L(w.complete)&&w.complete();else{var q,de,we,xe=E[0];if(L(w.before)){var He=w.before(xe.file,xe.inputElem);if("object"==typeof He){if("abort"===He.action)return q=xe.file,de=xe.inputElem,we=He.reason,void(L(w.error)&&w.error({name:"AbortError"},q,de,we));if("skip"===He.action)return void j();"object"==typeof He.config&&(xe.instanceConfig=o.extend(xe.instanceConfig,He.config))}else if("skip"===He)return void j()}var Te=xe.instanceConfig.complete;xe.instanceConfig.complete=function(De){L(Te)&&Te(De,xe.file,xe.inputElem),j()},f.parse(xe.file,xe.instanceConfig)}}function j(){E.splice(0,1),Y()}}),d&&(p.onmessage=function(w){w=w.data,void 0===f.WORKER_ID&&w&&(f.WORKER_ID=w.workerId),"string"==typeof w.input?p.postMessage({workerId:f.WORKER_ID,results:f.parse(w.input,w.config),finished:!0}):(p.File&&w.input instanceof File||w.input instanceof Object)&&(w=f.parse(w.input,w.config))&&p.postMessage({workerId:f.WORKER_ID,results:w,finished:!0})}),(y.prototype=Object.create(v.prototype)).constructor=y,(C.prototype=Object.create(v.prototype)).constructor=C,(I.prototype=Object.create(I.prototype)).constructor=I,(T.prototype=Object.create(v.prototype)).constructor=T,f},void 0!==(M=m.apply(_e,[]))&&(ge.exports=M)},93996:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(D),p={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(d,u,h){var f=p[h];return Array.isArray(f)&&(f=f[u?0:1]),f.replace("%d",d)}var s={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(d){return d+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return _.default.locale(s,null,!0),s}(m(49645))},94065:(ge,_e,m)=>{"use strict";m.d(_e,{K:()=>D});const D={key:"edit-dialog-footer",data:{tab:null,expanded:!1,size:0,pinned:null}}},96361:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(o){return o&&"object"==typeof o&&"default"in o?o:{default:o}}(D),p={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(o){return o+"."}};return _.default.locale(p,null,!0),p}(m(49645))},99718:function(ge,_e,m){ge.exports=function(D){"use strict";var _=function M(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}(D),p="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),o={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},s={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},d={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:p,monthsShort:p,weekStart:6,meridiem:function(u){return u>12?"\u0645":"\u0635"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",m:"\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",yy:"%d \u0623\u0639\u0648\u0627\u0645"},preparse:function(u){return u.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(h){return s[h]}).replace(/\u060c/g,",")},postformat:function(u){return u.replace(/\d/g,function(h){return o[h]}).replace(/,/g,"\u060c")},ordinal:function(u){return u},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return _.default.locale(d,null,!0),d}(m(49645))}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.04/dist/ng-edit/projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts.2ab910d5300b2419.js.map
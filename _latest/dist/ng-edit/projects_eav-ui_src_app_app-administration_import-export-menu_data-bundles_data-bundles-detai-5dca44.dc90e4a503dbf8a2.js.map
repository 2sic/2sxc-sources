{"version":3,"file":"projects_eav-ui_src_app_app-administration_import-export-menu_data-bundles_data-bundles-detai-5dca44.dc90e4a503dbf8a2.js","mappings":"wXAqBO,IAAMA,EAAiC,MAAxC,MAAOA,EAKXC,OAAOC,GACLC,KAAKD,OAASA,EACdC,KAAKC,KAAOF,EAAOG,IACrB,CAEAC,QAAQJ,GACN,OAAO,CACT,CAGAK,GAAGC,GACDL,KAAKD,OAAOK,GAAGC,EAAML,KAAKC,KAC5B,iDAjBWJ,EAAiC,oCAAjCA,EAAiCS,UAAA,8BAAAC,YAAA,EAAAC,SAAA,CAAAC,OAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,mIAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ICpB5CL,MADF,UACEA,CAD6B,WACgEA,MAAA,0BAASM,EAAAX,GAAG,SAAS,GAChHK,MAAA,cAAUA,MAAA,uBAEdA,4BDWIO,KAAeC,KACfC,KAAaC,KACbC,KACAC,KAAcC,cAAA,YAGLzB,CAAiC,+EElBxCY,MAFJ,UAEIA,CAFyD,UAEzDA,CAD6B,WACSA,MAAA,GAA6BA,QACnEA,MAAA,cAA6CA,MAAA,mBAAAA,MAAAc,GAAA,MAAAC,EAAAf,QAAA,OAAAA,MAASe,EAAAC,cAAa,GACjEhB,MAAA,cAAUA,MAAA,WAEdA,YAEEA,MADF,UACEA,CADoD,WAElDA,MAAA,uBAGNA,oCAV0CA,MAAA,GAAAA,MAAA,GAAAe,EAAAE,iBAAA,WAOOjB,MAAA,GAA0BA,MAA1B,UAAAe,EAAAG,cAA0BlB,CAAD,cAAAe,EAAAI,cCiBrE,IAAMC,EAA0B,MAAjC,MAAOA,EAEXC,GAKAC,YACUC,EACAC,GADAjC,KAAAgC,SACAhC,KAAAiC,QAPVjC,MAAA8B,KAAsBI,KAAUC,KAChCnC,KAAA2B,eAAcS,OAAsB,MACpCpC,KAAA0B,kBAAiBU,OAAe,MAQhCpC,KAAA4B,YAAc5B,MAAKqC,GAFf,CAIJC,WACEtC,KAAKiC,MAAMlC,OACRwC,QACCC,KAAIzC,IACFC,KAAK0B,eAAee,IAAI1C,EAAO2C,KAAI,IACpC,EACDC,KAAU5C,GAAUC,MAAK8B,EAAoBc,WAAW7C,EAAO8C,QAAK,EACpEL,KAAIM,GAAK9C,KAAK2B,YAAYc,IAAIK,KAE/BC,WACL,CAEAtB,cACEzB,KAAKgC,OAAOgB,OACd,CAEAC,GAAYhD,GACViD,QAAQC,IAAIlD,GACZmD,MAAM,6BACR,CAEAf,KAgCE,MA/BiC,IAC5BgB,IACHC,WAAY,CACV,IACKC,IAAkBC,eACrBC,WAAY,QACZC,MAAO,QACPC,KAAM,GAER,IACKJ,IAAkBC,eACrBC,WAAY,WACZC,MAAO,WACPC,KAAM,GAER,IACKJ,IAAkBK,oBACrBC,aAAchE,EACdiE,mBACiD,CAC7C1D,GAAIA,CAACC,EAAMJ,KAEF,WADCI,GACSL,MAAKiD,EAAYhD,EAClC,KASd,iDApEW4B,GAA0BpB,MAAAQ,MAAAR,MAAAU,MAAA,oCAA1BU,EAA0BvB,UAAA,8BAAAC,YAAA,EAAAC,SAAA,CAAAC,OAAAC,MAAA,EAAAC,KAAA,EAAAC,OAAA,2TAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,GD3BvCL,MAAA,EAAAsD,EAAA,mBAAAtD,MAAAM,EAAAY,cAAA,qBCoBIqC,KAAeC,KACf/C,KAAagD,KACbC,IAAaC,MAAAC,OAAA,+FAKJxC,CAA0B","names":["DataBundlesDetailActionsComponent","agInit","params","this","item","data","refresh","do","verb","selectors","standalone","features","i0","decls","vars","consts","template","rf","ctx","MatRippleModule","i1","MatIconModule","i2","MatMenuModule","TippyDirective","encapsulation","_r1","ctx_r1","closeDialog","dataBundleName","dataBundles","gridOptions","DataBundlesDetailComponent","#dataBundlesService","constructor","dialog","route","transient","DataBundlesService","signal","#buildGridOptions","ngOnInit","pipe","tap","set","name","switchMap","fetchQuery","guid","d","subscribe","close","#deleteItem","console","log","alert","defaultGridOptions","columnDefs","ColumnDefinitions","TextWideMin100","headerName","field","flex","ActionsPinnedRight3","cellRenderer","cellRendererParams","DataBundlesDetailComponent_Conditional_0_Template","MatButtonModule","i3","i4","SxcGridModule","i5","styles"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.ts"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { DataBundlesDetailActionsParams, DataBundlesType } from './data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-data-bundle-actions',\r\n  templateUrl: './data-bundles-detail-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataBundlesDetailActionsComponent implements ICellRendererAngularComp {\r\n  item: ContentItem;\r\n\r\n  private params: ICellRendererParams & DataBundlesDetailActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & DataBundlesDetailActionsParams): void {\r\n    this.params = params;\r\n    this.item = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n\r\n  do(verb: DataBundlesType) {\r\n    this.params.do(verb, this.item);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Remove (not yet implemented)\" (click)=\"do('delete')\">\r\n    <mat-icon>do_not_disturb_on</mat-icon>\r\n  </div>\r\n</div>\r\n","@if (dataBundles()) {\r\n  <div appToggleDebug class=\"eav-dialog nav-component-wrapper\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">{{ dataBundleName() }} Detail</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"eav-dialog-content nav-component-wrapper\">\r\n      <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n        <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"dataBundles()\" [gridOptions]=\"gridOptions\"> </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { transient } from 'projects/core';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { defaultGridOptions } from 'projects/eav-ui/src/app/shared/constants/default-grid-options.constants';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { switchMap, tap } from 'rxjs';\r\nimport { DataBundlesService } from '../data-bundles-query.service';\r\nimport { DataBundlesDetailActionsComponent } from './data-bundles-detail-actions/data-bundles-detail-actions.component';\r\nimport { DataBundlesDetailActionsParams } from './data-bundles-detail-actions/data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-data-bundles-detail',\r\n  standalone: true,\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    SxcGridModule,\r\n  ],\r\n  templateUrl: './data-bundles-detail.component.html',\r\n  styleUrl: './data-bundles-detail.component.scss'\r\n})\r\nexport class DataBundlesDetailComponent {\r\n\r\n  #dataBundlesService = transient(DataBundlesService);\r\n  dataBundles = signal<ContentItem[]>(null);\r\n  dataBundleName = signal<string>(null);\r\n\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<DataBundlesDetailComponent>,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(\r\n        tap(params => {\r\n          this.dataBundleName.set(params.name);\r\n        }),\r\n        switchMap(params => this.#dataBundlesService.fetchQuery(params.guid)),\r\n        tap(d => this.dataBundles.set(d))\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  #deleteItem(item: ContentItem) {\r\n    console.log(item);\r\n    alert('remove not yet implemented');\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Title',\r\n          field: 'Title',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Typename',\r\n          field: 'TypeName',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: DataBundlesDetailActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataBundlesDetailActionsParams = {\r\n              do: (verb, item) => {\r\n                switch (verb) {\r\n                  case 'delete': this.#deleteItem(item); break;\r\n                }\r\n              }\r\n            } satisfies DataBundlesDetailActionsParams;\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n}\r\n"],"x_google_ignoreList":[]}
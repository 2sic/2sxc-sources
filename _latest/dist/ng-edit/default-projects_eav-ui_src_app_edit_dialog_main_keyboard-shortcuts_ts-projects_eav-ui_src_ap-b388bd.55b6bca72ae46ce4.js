"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_edit_dialog_main_keyboard-shortcuts_ts-projects_eav-ui_src_ap-b388bd"],{2549:(O,m,h)=>{h.d(m,{A:()=>o});const o=(0,h(9093).A)(Object.getPrototypeOf,Object)},2760:(O,m,h)=>{function u(o){return"Escape"===o.key}function v(o){return("s"===o.key||"S"===o.key)&&(o.ctrlKey||o.metaKey)}h.d(m,{J:()=>v,K:()=>u})},3826:(O,m,h)=>{h.d(m,{a:()=>u});class u{static boolEquals(o,f){return o===f}static stringEquals(o,f){return o===f}static valueEquals(o,f){return o===f}static objectsEqual(o,f){if(null==o||null==f)return o===f;const d=o,p=f,b=Object.keys(d),M=Object.keys(p);return b.length===M.length&&b.every(_=>!!p.hasOwnProperty(_)&&d[_]===p[_])}static arraysEqual(o,f){return null==o||null==f?o===f:o.length===f.length&&o.every((p,b)=>o[b]===f[b])}static distinct(o,f,d){return d.indexOf(o)===f}}},5839:(O,m,h)=>{h.d(m,{A:()=>v});const v=function u(o,f){for(var d=-1,p=null==o?0:o.length;++d<p&&!1!==f(o[d],d,o););return o}},7836:(O,m,h)=>{h.d(m,{K:()=>Re});var u=h(1659);function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(r){K(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(n,[].concat(s,l))}}}function E(t){return{}.toString.call(t).includes("Object")}function C(t){return"function"==typeof t}var j=w(function Z(t,e){throw new Error(t[e]||t.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),P_changes=function H(t,e){return E(e)||j("changeType"),Object.keys(e).some(function(n){return!function G(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)})&&j("changeField"),e},P_selector=function X(t){C(t)||j("selectorType")},P_handler=function Q(t){C(t)||E(t)||j("handlerType"),E(t)&&Object.values(t).some(function(e){return!C(e)})&&j("handlersType")},P_initial=function Y(t){t||j("initialIsRequired"),E(t)||j("initialType"),function $(t){return!Object.keys(t).length}(t)&&j("initialContent")};function ne(t,e){return C(e)?e(t.current):e}function re(t,e){return t.current=N(N({},t.current),e),e}function se(t,e,n){return C(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return null===(s=e[r])||void 0===s?void 0:s.call(e,t.current[r])}),n}const oe_create=function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P_initial(t),P_handler(e);var n={current:t},r=w(se)(n,e),s=w(re)(n),i=w(P_changes)(t),a=w(ne)(n);return[function l(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(D){return D};return P_selector(g),g(n.current)},function c(g){!function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}(r,s,i,a)(g)}]};var x={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "};(function ue(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e.apply(n,[].concat(s,l))}}})(function pe(t,e){throw new Error(t[e]||t.default)})(x);var Oe={type:"cancelation",msg:"operation is manually canceled"};const L=function _e(t){var e=!1,n=new Promise(function(r,s){t.then(function(i){return e?s(Oe):r(i)}),t.catch(s)});return n.cancel=function(){return e=!0},n};var q=function b(t,e){return function M(t){if(Array.isArray(t))return t}(t)||function k(t,e){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(t)){var n=[],r=!0,s=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(c){s=!0,i=c}finally{try{!r&&null!=a.return&&a.return()}finally{if(s)throw i}}return n}}(t,e)||function _(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}}(t,e)||function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(oe_create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),I=q[0],T=q[1];function Se(t){return document.body.appendChild(t)}function Pe(t){var e=I(function(r){return{config:r.config,reject:r.reject}}),n=function Ee(t){var e=document.createElement("script");return t&&(e.src=t),e}("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Te(){var t=I(function(n){return{config:n.config,resolve:n.resolve,reject:n.reject}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){W(n),t.resolve(n)},function(n){t.reject(n)})}function W(t){I().monaco||T({monaco:t})}var F=new Promise(function(t,e){return T({resolve:t,reject:e})});const Me_init=function Ie(){var t=I(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!t.isInitialized){if(T({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),L(F);if(window.monaco&&window.monaco.editor)return W(window.monaco),t.resolve(window.monaco),L(F);!function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,a){return a(i)},s)}}(Se,Pe)(Te)}return L(F)},Le="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(t=>t.trim().toLocaleLowerCase());class Fe{constructor(e,n,r,s,i,a,l){this.monaco=e,this.filename=n,this.snippets=a,this.tooltips=l,this.globalCache=this.createGlobalCache(e),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=r,this.editorInstance=this.createInstance(this.monaco,n,r,s,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(s,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>e.dispose()),this.jsTypingsLib?.dispose(),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}focus(){this.editorInstance.focus()}onValueChange(e){this.valueChangedCallback=e}onFocus(e){this.focusedCallback=e}onBlur(e){this.blurredCallback=e}insertSnippet(e){this.editorInstance.getContribution("snippetController2").insert(e)}setSnippets(e){this.snippets=e}setTooltips(e){this.tooltips=e}setJsonSchema(e){const n=this.editorInstance.getModel().uri.toString(),r=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,s=r.schemas?.some(l=>l.fileMatch[0]===n)??!1,i="link"===e?.type?{uri:e.value,fileMatch:[n]}:"raw"===e?.type?{uri:n,fileMatch:[n],schema:JSON.parse(e.value)}:void 0;if(!s&&!i)return;const a={...r,enableSchemaRequest:!0,schemas:s&&!i?r.schemas.filter(l=>l.fileMatch[0]!==n):s?r.schemas.map(l=>l.fileMatch[0]===n?i:l):[...r.schemas??[],i]};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(a)}setJsonComments(e){if(!e)return;const n={...this.monaco.languages.json.jsonDefaults.diagnosticsOptions,comments:e};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(n)}setJsDiagnostics(e){if(!e)return;const n={...this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions(),...e};this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(n)}setJsTypings(e){e?this.jsTypingsLib=this.monaco.languages.typescript.javascriptDefaults.addExtraLib(e,`js-typings-${this.filename}`):this.jsTypingsLib?.dispose()}createGlobalCache(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}defineThemes(e,n){e.themesAreDefined||(e.themesAreDefined=!0,n.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(e,n,r,s,i){const a=e.editor.create(s,i),l=e.Uri.file(n),c=e.editor.createModel(r,void 0,l);return a.setModel(c),a}saveState(e,n){const r=n.getModel().uri.toString(),s=JSON.stringify(n.saveViewState());null==e.savedStates[r]?e.savedStates[r]={viewState:s}:e.savedStates[r].viewState=s}restoreState(e,n){const r=n.getModel().uri.toString(),s=e.savedStates[r];if(null==s)return;const i=JSON.parse(s.viewState);n.restoreViewState(i)}addSnippets(e,n){return[e.languages.registerCompletionItemProvider(n.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(s,i)=>{if(n.getModel()!==s)return{suggestions:[]};const a=s.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==a[a.length-1])return{suggestions:[]};const c=a.lastIndexOf("<");if(-1===c)return{suggestions:[]};const g=a.substring(c);let D=0;if(Array.from(g).forEach(Be=>{'"'===Be&&D++}),D%2!=0)return{suggestions:[]};if(g.startsWith("</"))return{suggestions:[]};if(g.indexOf(">")!==g.length-1)return{suggestions:[]};let A=g.indexOf(" ");if(-1===A&&(A=g.indexOf(">")),-1===A)return{suggestions:[]};const S=g.substring(1,A);return S?Le.includes(S.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(S)?{suggestions:[{label:`</${S}>`,kind:e.languages.CompletionItemKind.Snippet,insertText:`$0</${S}>`,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(n.getModel().getLanguageId(),{provideCompletionItems:(s,i)=>{if(null==this.snippets||n.getModel()!==s)return{suggestions:[]};const a=s.getWordUntilPosition(i);return{suggestions:this.snippets.map(c=>c.content?{label:c.name,kind:e.languages.CompletionItemKind.Snippet,documentation:`${c.title??""}\n${c.help??""}\n${c.links??""}`,insertText:c.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:a.startColumn,endColumn:a.endColumn}}:void 0).filter(c=>!!c)}}}),e.languages.registerHoverProvider(n.getModel().getLanguageId(),{provideHover:(s,i)=>{if(null==this.tooltips||n.getModel()!==s)return;const a=s.getWordAtPosition(i);if(!a)return;const l=this.tooltips.find(c=>c.Term===a.word);return l?{contents:l.Help.map(c=>({value:c})),range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:a.startColumn,endColumn:a.endColumn}}:void 0}})]}createResizeObserver(e,n){const r=new ResizeObserver(()=>{n.layout()});return r.observe(e),r}addEvents(e){e.getModel().onDidChangeContent(()=>{const n=e.getModel().getValue();n!==this.cachedValue&&(this.cachedValue=n,this.valueChangedCallback?.(n))}),e.onDidFocusEditorWidget(()=>{this.focusedCallback?.()}),e.onDidBlurEditorWidget(()=>{this.blurredCallback?.()})}}const ke=["editor"];let Re=(()=>{class t{constructor(){this.filename=(0,u.hFB)(),this.value=(0,u.hFB)(),this.tooltips=(0,u.hFB)(),this.snippets=(0,u.hFB)(),this.options=(0,u.hFB)(),this.jsonSchema=(0,u.hFB)(),this.jsonComments=(0,u.hFB)(),this.jsTypings=(0,u.hFB)(),this.jsDiagnostics=(0,u.hFB)(),this.autoFocus=(0,u.hFB)(!1),this.valueChanged=(0,u.CGW)(),this.focused=(0,u.CGW)(),this.blurred=(0,u.CGW)()}ngAfterViewInit(){Me_init().then(n=>{this.monaco=n,this.createEditor(this.autoFocus())})}ngOnChanges(n){null!=n.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=n.value&&this.monacoInstance?.updateValue(this.value()),null!=n.jsonSchema&&this.monacoInstance?.setJsonSchema(this.jsonSchema()),null!=n.jsonComments&&this.monacoInstance?.setJsonComments(this.jsonComments()),null!=n.snippets&&this.monacoInstance?.setSnippets(this.snippets()),null!=n.tooltips&&this.monacoInstance?.setTooltips(this.tooltips()),null!=n.jsTypings&&this.monacoInstance?.setJsTypings(this.jsTypings()),null!=n.jsDiagnostics&&this.monacoInstance?.setJsDiagnostics(this.jsDiagnostics())}insertSnippet(n){this.monacoInstance?.insertSnippet(n),this.monacoInstance?.focus()}ngOnDestroy(){this.monacoInstance?.destroy()}createEditor(n){this.monacoInstance=new Fe(this.monaco,this.filename(),this.value(),this.editorRef.nativeElement,this.options(),this.snippets(),this.tooltips()),this.monacoInstance.setJsonSchema(this.jsonSchema()),this.monacoInstance.setJsonComments(this.jsonComments()),this.monacoInstance.setJsTypings(this.jsTypings()),this.monacoInstance.setJsDiagnostics(this.jsDiagnostics()),this.monacoInstance.onValueChange(r=>{this.valueChanged.emit(r)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),n&&this.monacoInstance.focus()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=u.VBU({type:t,selectors:[["app-monaco-editor"]],viewQuery:function(r,s){if(1&r&&u.GBs(ke,5),2&r){let i;u.mGM(i=u.lsd())&&(s.editorRef=i.first)}},inputs:{filename:[1,"filename"],value:[1,"value"],tooltips:[1,"tooltips"],snippets:[1,"snippets"],options:[1,"options"],jsonSchema:[1,"jsonSchema"],jsonComments:[1,"jsonComments"],jsTypings:[1,"jsTypings"],jsDiagnostics:[1,"jsDiagnostics"],autoFocus:[1,"autoFocus"]},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[u.OA$],decls:2,vars:0,consts:[["editor",""],[1,"editor"]],template:function(r,s){1&r&&u.nrm(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]})}}return t})()},9934:(O,m,h)=>{h.d(m,{A:()=>f});var u=h(3151),v=Object.create;const f=function(){function d(){}return function(p){if(!(0,u.A)(p))return{};if(v)return v(p);d.prototype=p;var b=new d;return d.prototype=void 0,b}}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.03/dist/ng-edit/default-projects_eav-ui_src_app_edit_dialog_main_keyboard-shortcuts_ts-projects_eav-ui_src_ap-b388bd.55b6bca72ae46ce4.js.map
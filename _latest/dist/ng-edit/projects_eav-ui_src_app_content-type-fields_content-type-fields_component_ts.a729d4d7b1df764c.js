"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts"],{1191:(U,T,l)=>{l.d(T,{O:()=>k});var o=l(9148),t=l(4175),m=l(3777),F=l(7941),p=l(3840),M=l(852),D=l(2938),y=l(9914),S=l(5081),C=l(7993);function v(_,j){if(1&_&&(o.j41(0,"div",1)(1,"div",2),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"div",3)(5,"span"),o.EFF(6),o.nI1(7,"translate"),o.k0s()()()),2&_){const w=o.XpG(2);o.R7$(2),o.SpI("",o.bMT(3,2,"Features.Status"),":"),o.R7$(4),o.JRh(o.bMT(7,4,w.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function g(_,j){if(1&_){const w=o.RV6();o.j41(0,"div",1)(1,"div",2),o.EFF(2,"GUID:"),o.k0s(),o.j41(3,"div",8)(4,"span",4),o.bIt("click",function(){o.eBV(w);const A=o.XpG(2);return o.Njj(A.clipboard.copyToClipboard(A.feature().guid))}),o.EFF(5),o.k0s()()()}if(2&_){const w=o.XpG(2);o.R7$(5),o.JRh(w.feature().guid)}}function h(_,j){if(1&_){const w=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(w);const A=o.XpG(2);return o.Njj(A.dialog.close())}),o.EFF(1,"Close"),o.k0s()}}function u(_,j){if(1&_){const w=o.RV6();o.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o.EFF(3),o.k0s()(),o.j41(4,"mat-card-content"),o.nrm(5,"p",0),o.nI1(6,"safeHtml"),o.j41(7,"div",1)(8,"div",2),o.EFF(9,"ID:"),o.k0s(),o.j41(10,"div",3)(11,"span",4),o.bIt("click",function(){o.eBV(w);const A=o.XpG();return o.Njj(A.clipboard.copyToClipboard(A.feature().nameId))}),o.EFF(12),o.k0s()()(),o.DNE(13,v,8,6,"div",1)(14,g,6,1,"div",1),o.j41(15,"div",1)(16,"div",2),o.EFF(17,"Security Rating:"),o.k0s(),o.j41(18,"div",3)(19,"span"),o.EFF(20),o.k0s()()()(),o.j41(21,"mat-card-actions",5)(22,"a",6)(23,"mat-icon"),o.EFF(24,"open_in_new"),o.k0s(),o.EFF(25," Find out more "),o.k0s(),o.DNE(26,h,2,0,"button",7),o.k0s()()}if(2&_){const w=o.XpG();o.R7$(3),o.JRh(w.feature().name),o.R7$(2),o.Y8G("innerHtml",o.bMT(6,8,w.feature().description),o.npT),o.R7$(7),o.JRh(w.feature().nameId),o.R7$(),o.vxM(w.mySpecs().showStatus?13:-1),o.R7$(),o.vxM(w.mySpecs().showGuid?14:-1),o.R7$(6),o.JRh(w.feature().security.Impact+": "+w.feature().security.Message),o.R7$(2),o.Y8G("href",w.feature().link,o.B4B),o.R7$(4),o.vxM(0!=w.mySpecs().showClose?26:-1)}}let k=(()=>{class _{constructor(w,E){this.dialogSpecs=w,this.dialog=E,this.specs=(0,o.hFB)(),this.mySpecs=(0,C.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,C.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,D.d)(S.W)}static{this.\u0275fac=function(E){return new(E||_)(o.rXU(F.Vh,8),o.rXU(F.CP))}}static{this.\u0275cmp=o.VBU({type:_,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},standalone:!0,features:[o.aNF],decls:1,vars:1,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","","color","accent",1,"eav-card-action-button",3,"href"],["mat-raised-button","",1,"eav-card-action-button"],[1,"eav-info-row__value","eav_click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"]],template:function(E,A){1&E&&o.DNE(0,u,27,10,"mat-card"),2&E&&o.vxM(A.feature()?0:-1)},dependencies:[m.Hu,m.RN,m.YY,m.m2,m.MM,m.dh,t.Hl,t.It,t.$z,p.m_,p.An,y.$,M.h,M.D9],encapsulation:2})}}return _})()},5715:(U,T,l)=>{l.r(T),l.d(T,{ContentTypeFieldsComponent:()=>ri});var o=l(316),t=l(9148),m=l(4175),F=l(7941),p=l(3840),M=l(2159),D=l(852),y=l(9452),S=l(1873),C=l(2938),v=l(7693),g=l(3454),h=l(2437),u=l(1828),k=l(251),_=l(52),j=l(5699),w=l(5959),E=l(1612),A=l(3216),Z=l(334),te=l(7037),ee=l(8471),ne=l(1726),ie=l(4202),K=l(1034),At=l(6256),V=l(5060),ht=l(4601);function se(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.do("shareOrInherit"))}),t.j41(1,"mat-icon",12),t.EFF(2),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText()),t.R7$(2),t.SpI(" ",e.shareOrInheritIcon()," ")}}function oe(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.do("shareOrInherit"))}),t.j41(1,"mat-icon",14),t.EFF(2," share "),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText())}}function ae(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.do("rename"))}),t.j41(1,"mat-icon"),t.EFF(2,"text_fields"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Rename"),t.k0s()(),t.j41(5,"button",15),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.do("delete"))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Delete"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.field.EditInfo.DisableRename),t.R7$(5),t.Y8G("disabled",e.field.EditInfo.DisableDelete||e.field.IsTitle)}}let re=(()=>{class n{agInit(e){this.params=e,this.field=this.params.data;const i=this.field.EditInfo.DisableEdit;this.enablePermissions=!i&&(this.field.InputType===ie.u.StringWysiwyg||this.field.Type===ne.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(s=>"merged"!==s).length:0,this.enableImageConfig=!i&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(e){return e?"highlight":"disabled"}shareText(){const e="click to configure sharing",i=this.field.SysSettings;return i?i.Share?"shared enabled as "+this.field.Guid:i.InheritMetadataOf?"inherits "+i.InheritMetadataOf:e:e}shareOrInheritIcon(){const e=this.field.SysSettings;return e?e.Share?"share":e.InheritMetadataOf?"adjust":"":""}refresh(e){return!0}do(e){this.params.do(e,this.field)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-actions"]],standalone:!0,features:[t.aNF],decls:18,vars:22,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(i,s){if(1&i){const a=t.RV6();t.j41(0,"div",1)(1,"div",2),t.bIt("click",function(){return t.eBV(a),t.Njj(s.enableMetadata?s.do("metadata"):"")}),t.j41(2,"mat-icon",3),t.EFF(3,"local_offer"),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(){return t.eBV(a),t.Njj(s.enableImageConfig?s.do("image"):"")}),t.j41(5,"mat-icon",5),t.EFF(6,"filter_center_focus"),t.k0s()(),t.j41(7,"div",4),t.bIt("click",function(){return t.eBV(a),t.Njj(s.enablePermissions?s.do("permissions"):"")}),t.j41(8,"mat-icon",3),t.EFF(9,"person"),t.k0s()(),t.DNE(10,se,3,2,"div",6)(11,oe,3,1,"div",7),t.j41(12,"div",8)(13,"mat-icon"),t.EFF(14,"more_horiz"),t.k0s()()(),t.j41(15,"mat-menu",9,0),t.DNE(17,ae,10,2,"ng-template",10),t.k0s()}if(2&i){const a=t.sdS(16);t.R7$(),t.ZvI("eav-grid-action-button ",s.highlightOrDisabled(s.enableMetadata),""),t.R7$(),t.Y8G("matBadge",s.metadataCount)("matBadgeDisabled",!s.enableMetadata)("matBadgeHidden",!s.metadataCount),t.R7$(2),t.ZvI("eav-grid-action-button ",s.highlightOrDisabled(s.enableImageConfig),""),t.FS9("tippy",s.enableImageConfig?"Image Configuration":"no image configuration for this field"),t.R7$(),t.Y8G("matBadge",s.imgConfigCount)("matBadgeHidden",!s.imgConfigCount)("matBadgeDisabled",!s.enableImageConfig),t.R7$(2),t.ZvI("eav-grid-action-button ",s.highlightOrDisabled(s.enablePermissions),""),t.FS9("tippy",s.enablePermissions?"Permissions":"no permissions to configure on this field"),t.R7$(),t.Y8G("matBadge",s.field.Permissions.Count)("matBadgeDisabled",!s.enablePermissions)("matBadgeHidden",!s.field.Permissions.Count),t.R7$(2),t.vxM(""!=s.shareOrInheritIcon()?10:11),t.R7$(2),t.Y8G("matMenuTriggerFor",a)}},dependencies:[V.pZ,V.r6,p.m_,p.An,At.Y,At.k,K.Cn,K.kk,K.fb,K.z8,K.Cp,ht.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}}return n})();function le(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.changeInputType())}),t.j41(1,"div",3),t.EFF(2),t.k0s(),t.j41(3,"div",4)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}function de(n,r){if(1&n&&(t.j41(0,"div",1)(1,"div",5),t.EFF(2),t.k0s(),t.j41(3,"div",6)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}let ce=(()=>{class n{agInit(e){this.params=e,this.value=e.value,this.field=e.data}refresh(e){return!0}changeInputType(){this.params.onChangeInputType(this.field)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-input-type"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["matRipple","",1,"input-component","highlight"],[1,"input-component","disabled"],["matRipple","",1,"input-component","highlight",3,"click"],[1,"text"],[1,"eav-grid-action-button"],[1,"text","disabled"],[1,"eav-grid-action-button","disabled"]],template:function(i,s){1&i&&t.DNE(0,le,6,1,"div",0)(1,de,6,1,"div",1),2&i&&(t.vxM(s.field.EditInfo.DisableEdit?-1:0),t.R7$(),t.vxM(s.field.EditInfo.DisableEdit?1:-1))},dependencies:[V.pZ,V.r6,p.m_,p.An],encapsulation:2})}}return n})();function he(n,r){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"functions"),t.k0s())}function ue(n,r){1&n&&(t.j41(0,"mat-icon",2),t.EFF(1,"mobiledata_off"),t.k0s())}let fe=(()=>{class n{agInit(e){const i=e.data;this.hasFormulas=i.HasFormulas,this.isEphemeral=i.IsEphemeral}refresh(e){return!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-special"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"icon-container"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.DNE(1,he,2,0,"mat-icon",1)(2,ue,2,0,"mat-icon",2),t.k0s()),2&i&&(t.R7$(),t.vxM(s.hasFormulas?1:-1),t.R7$(),t.vxM(s.isEphemeral?2:-1))},dependencies:[p.m_,p.An],encapsulation:2})}}return n})();function me(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.setTitle())}),t.j41(1,"mat-icon"),t.EFF(2,"star"),t.k0s()()}if(2&n){const e=t.XpG();t.ZvI("eav-grid-action-button highlight ",e.isTitle?"":e.suitableForTitle?"hover-only":"no-button",""),t.BMQ("disabled",e.isTitle||!e.suitableForTitle)}}function pe(n,r){if(1&n&&(t.j41(0,"div",2)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.isTitle?"star":"")}}let ge=(()=>{class n{constructor(){this.suitableForTitle=!0}agInit(e){this.params=e,this.isTitle=e.value,this.field=e.data,this.suitableForTitle=!E.Q.isEmpty(this.field.InputType)}refresh(e){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-title"]],standalone:!0,features:[t.aNF],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.DNE(1,me,3,4,"div",1)(2,pe,3,1,"div",2),t.k0s()),2&i&&(t.R7$(),t.vxM(s.field.EditInfo.ReadOnly?2:1))},dependencies:[V.pZ,V.r6,p.m_,p.An,ht.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}}return n})();var _e=l(4007);let ye=(()=>{class n{agInit(e){this.value=e.value,this.icon=(0,_e.y)(this.value)}refresh(e){return!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-type"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&i&&(t.Y8G("tippy",s.value),t.R7$(2),t.JRh(s.icon))},dependencies:[p.m_,p.An,ht.e],encapsulation:2})}}return n})();var G=l(4456),q=l(3777),ut=l(4950),jt=l(7984),Ce=l(3680),I=l(7989),ve=l(7699),Pt=l(2275),Bt=l(4205),tt=l(5797),De=l(2551),ft=l(3900);const we=[[["caption"]],[["colgroup"],["col"]],"*"],Fe=["caption","colgroup, col","*"];function Re(n,r){1&n&&t.SdG(0,2)}function be(n,r){1&n&&(t.j41(0,"thead",0),t.eu8(1,1),t.k0s(),t.j41(2,"tbody",0),t.eu8(3,2)(4,3),t.k0s(),t.j41(5,"tfoot",0),t.eu8(6,4),t.k0s())}function Te(n,r){1&n&&t.eu8(0,1)(1,2)(2,3)(3,4)}const P=new t.nKC("CDK_TABLE");let H=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}}return n})(),W=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return n})(),et=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return n})(),$=(()=>{class n{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(P,8))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,s,a){if(1&i&&(t.wni(a,H,5),t.wni(a,W,5),t.wni(a,et,5)),2&i){let d;t.mGM(d=t.lsd())&&(s.cell=d.first),t.mGM(d=t.lsd())&&(s.headerCell=d.first),t.mGM(d=t.lsd())&&(s.footerCell=d.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",t.L39],stickyEnd:[2,"stickyEnd","stickyEnd",t.L39]},standalone:!0,features:[t.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),t.GFd]})}}return n})();class mt{constructor(r,e){e.nativeElement.classList.add(...r._columnCssClassName)}}let pt=(()=>{class n extends mt{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU($),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[t.Vt3]})}}return n})(),gt=(()=>{class n extends mt{constructor(e,i){super(e,i);const s=e._table?._getCellRole();s&&i.nativeElement.setAttribute("role",s)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU($),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[t.Vt3]})}}return n})();class Gt{constructor(){this.tasks=[],this.endTasks=[]}}const _t=new t.nKC("_COALESCED_STYLE_SCHEDULER");let $t=(()=>{class n{constructor(e){this._currentSchedule=null,this._ngZone=(0,t.WQX)(t.SKi)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Gt,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Gt;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null})))}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),yt=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Y?e.headerCell.template:this instanceof z?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q),t.rXU(t._q3))}}static{this.\u0275dir=t.FsC({type:n,features:[t.OA$]})}}return n})(),Y=(()=>{class n extends yt{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,s){super(e,i),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q),t.rXU(t._q3),t.rXU(P,8))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",t.L39]},standalone:!0,features:[t.GFd,t.Vt3,t.OA$]})}}return n})(),z=(()=>{class n extends yt{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,s){super(e,i),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q),t.rXU(t._q3),t.rXU(P,8))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",t.L39]},standalone:!0,features:[t.GFd,t.Vt3,t.OA$]})}}return n})(),nt=(()=>{class n extends yt{constructor(e,i,s){super(e,i),this._table=s}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q),t.rXU(t._q3),t.rXU(P,8))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[t.Vt3]})}}return n})(),X=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return n})(),Ct=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[t.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}}return n})(),Dt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[t.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}}return n})(),it=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.C4Q))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return n})();const Xt=["top","bottom","left","right"];class xe{constructor(r,e,i,s,a=!0,d=!0,c){this._isNativeHtmlTable=r,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=s,this._isBrowser=a,this._needsPositionStickyOnElement=d,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(r,e){const i=[];for(const s of r)if(s.nodeType===s.ELEMENT_NODE){i.push(s);for(let a=0;a<s.children.length;a++)i.push(s.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const s of i)this._removeStickyStyle(s,e)})}updateStickyColumns(r,e,i,s=!0){r.length&&this._isBrowser&&(e.some(a=>a)||i.some(a=>a))?this._coalescedStyleScheduler.schedule(()=>{const a=r[0],d=a.children.length,c=this._getCellWidths(a,s),f=this._getStickyStartColumnPositions(c,e),b=this._getStickyEndColumnPositions(c,i),R=e.lastIndexOf(!0),O=i.indexOf(!0),x="rtl"===this.direction,L=x?"right":"left",li=x?"left":"right";for(const J of r)for(let N=0;N<d;N++){const qt=J.children[N];e[N]&&this._addStickyStyle(qt,L,f[N],N===R),i[N]&&this._addStickyStyle(qt,li,b[N],N===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===R?[]:c.slice(0,R+1).map((J,N)=>e[N]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:c.slice(O).map((J,N)=>i[N+O]?J:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(r,e,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const s="bottom"===i?r.slice().reverse():r,a="bottom"===i?e.slice().reverse():e,d=[],c=[],f=[];for(let R=0,O=0;R<s.length;R++){if(!a[R])continue;d[R]=O;const x=s[R];f[R]=this._isNativeHtmlTable?Array.from(x.children):[x];const L=x.getBoundingClientRect().height;O+=L,c[R]=L}const b=a.lastIndexOf(!0);for(let R=0;R<s.length;R++){if(!a[R])continue;const O=d[R],x=R===b;for(const L of f[R])this._addStickyStyle(L,i,O,x)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:d,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:d,elements:f})})}updateStickyFooterContainer(r,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const i=r.querySelector("tfoot");i&&(e.some(s=>!s)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(r,e){for(const s of e)r.style[s]="",r.classList.remove(this._borderCellCss[s]);Xt.some(s=>-1===e.indexOf(s)&&r.style[s])?r.style.zIndex=this._getCalculatedZIndex(r):(r.style.zIndex="",this._needsPositionStickyOnElement&&(r.style.position=""),r.classList.remove(this._stickCellCss))}_addStickyStyle(r,e,i,s){r.classList.add(this._stickCellCss),s&&r.classList.add(this._borderCellCss[e]),r.style[e]=`${i}px`,r.style.zIndex=this._getCalculatedZIndex(r),this._needsPositionStickyOnElement&&(r.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(r){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const s of Xt)r.style[s]&&(i+=e[s]);return i?`${i}`:""}_getCellWidths(r,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],s=r.children;for(let a=0;a<s.length;a++)i.push(s[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(r,e){const i=[];let s=0;for(let a=0;a<r.length;a++)e[a]&&(i[a]=s,s+=r[a]);return i}_getStickyEndColumnPositions(r,e){const i=[];let s=0;for(let a=r.length;a>0;a--)e[a]&&(i[a]=s,s+=r[a]);return i}}const wt=new t.nKC("CDK_SPL");let Ft=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const s=(0,t.WQX)(P);s._rowOutlet=this,s._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}}return n})(),Rt=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const s=(0,t.WQX)(P);s._headerRowOutlet=this,s._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return n})(),bt=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const s=(0,t.WQX)(P);s._footerRowOutlet=this,s._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return n})(),Tt=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const s=(0,t.WQX)(P);s._noDataRowOutlet=this,s._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.c1b),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return n})(),st=(()=>{class n{_getCellRole(){if(void 0===this._cellRoleInternal){const e=this._elementRef.nativeElement.getAttribute("role"),i="grid"===e||"treegrid"===e?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===i?null:i}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,s,a,d,c,f,b,R,O,x,L){this._differs=e,this._changeDetectorRef=i,this._elementRef=s,this._dir=d,this._platform=f,this._viewRepeater=b,this._coalescedStyleScheduler=R,this._viewportRuler=O,this._stickyPositioningListener=x,this._onDestroy=new Bt.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new t.bkB,this.viewChange=new tt.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,t.WQX)(t.zZn),a||s.nativeElement.setAttribute("role","table"),this._document=c,this._isServer=!f.isBrowser,this._isNativeHtmlTable="TABLE"===s.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe((0,ft.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,I.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(s,a,d)=>this._getEmbeddedViewArgs(s.item,d),s=>s.item.data,s=>{s.operation===I.Q3.INSERTED&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{i.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),(0,t.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const s=Vt(this._headerRowOutlet,"thead");s&&(s.style.display=e.length?"":"none")}const i=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const s=Vt(this._footerRowOutlet,"tfoot");s&&(s.style.display=e.length?"":"none")}const i=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,d)=>{this._addStickyColumnStyles([a],this._headerRowDefs[d])}),this._rowDefs.forEach(a=>{const d=[];for(let c=0;c<i.length;c++)this._renderRows[c].rowDef===a&&d.push(i[c]);this._addStickyColumnStyles(d,a)}),s.forEach((a,d)=>{this._addStickyColumnStyles([a],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let a=this._data[s];const d=this._getRenderRowsForData(a,s,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let c=0;c<d.length;c++){let f=d[c];const b=this._cachedRenderRowsMap.get(f.data);b.has(f.rowDef)?b.get(f.rowDef).push(f):b.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,s){return this._getRowDefs(e,i).map(d=>{const c=s&&s.has(d)?s.get(d):[];if(c.length){const f=c.shift();return f.dataIndex=i,f}return{data:e,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ot(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=ot(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ot(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ot(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(d,c)=>d||!!c.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||s||a}_switchDataSource(e){this._data=[],(0,I.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,I.y4)(this.dataSource)?e=this.dataSource.connect(this):(0,De.A)(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,y.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,ft.Q)(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const s=Array.from(i.columns||[]).map(c=>this._columnDefsByName.get(c)),a=s.map(c=>c.sticky),d=s.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let s=0;s<e.viewContainer.length;s++){const a=e.viewContainer.get(s);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(d=>d.when&&d.when(i,e))||this._defaultRowDef;a&&s.push(a)}return s}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,s,a={}){const d=e.viewContainer.createEmbeddedView(i.template,a,s);return this._renderCellTemplateForItem(i,a),d}_renderCellTemplateForItem(e,i){for(let s of this._getCellTemplates(e))X.mostRecentCellOutlet&&X.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,s=e.length;i<s;i++){const d=e.get(i).context;d.count=s,d.first=0===i,d.last=i===s-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const s=this._columnDefsByName.get(i);return e.extractCellTemplate(s)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,s)=>i||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new xe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,ft.Q)(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(i){const a=s.createEmbeddedView(e.templateRef),d=a.rootNodes[0];1===a.rootNodes.length&&d?.nodeType===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(e._contentClassName))}else s.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t._q3),t.rXU(t.gRc),t.rXU(t.aKT),t.kS0("role"),t.rXU(Ce.dS,8),t.rXU(o.qQ),t.rXU(ve.OD),t.rXU(I.sL),t.rXU(_t),t.rXU(Pt.Xj),t.rXU(wt,12),t.rXU(t.SKi,8))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,s,a){if(1&i&&(t.wni(a,it,5),t.wni(a,$,5),t.wni(a,nt,5),t.wni(a,Y,5),t.wni(a,z,5)),2&i){let d;t.mGM(d=t.lsd())&&(s._noDataRow=d.first),t.mGM(d=t.lsd())&&(s._contentColumnDefs=d),t.mGM(d=t.lsd())&&(s._contentRowDefs=d),t.mGM(d=t.lsd())&&(s._contentHeaderRowDefs=d),t.mGM(d=t.lsd())&&(s._contentFooterRowDefs=d)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,s){2&i&&t.AVh("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",t.L39],fixedLayout:[2,"fixedLayout","fixedLayout",t.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[t.Jv_([{provide:P,useExisting:n},{provide:I.sL,useClass:I.xn},{provide:_t,useClass:$t},{provide:wt,useValue:null}]),t.GFd,t.aNF],ngContentSelectors:Fe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,s){1&i&&(t.NAR(we),t.SdG(0),t.SdG(1,1),t.DNE(2,Re,1,0)(3,be,7,0)(4,Te,4,0)),2&i&&(t.R7$(2),t.vxM(s._isServer?2:-1),t.R7$(),t.vxM(s._isNativeHtmlTable?3:4))},dependencies:[Rt,Ft,Tt,bt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function ot(n,r){return n.concat(Array.from(r))}function Vt(n,r){const e=r.toUpperCase();let i=n.viewContainer.element.nativeElement;for(;i;){const s=1===i.nodeType?i.nodeName:null;if(s===e)return i;if("TABLE"===s)break;i=i.parentNode}return null}let Ie=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[Pt.E9]})}}return n})();var Ht=l(3617),kt=l(9999),Oe=l(2814),St=l(271);const Ne=[[["caption"]],[["colgroup"],["col"]],"*"],Ae=["caption","colgroup, col","*"];function je(n,r){1&n&&t.SdG(0,2)}function Pe(n,r){1&n&&(t.j41(0,"thead",0),t.eu8(1,1),t.k0s(),t.j41(2,"tbody",2),t.eu8(3,3)(4,4),t.k0s(),t.j41(5,"tfoot",0),t.eu8(6,5),t.k0s())}function Be(n,r){1&n&&t.eu8(0,1)(1,3)(2,4)(3,5)}let Et=(()=>{class n extends st{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,s){2&i&&t.AVh("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[t.Jv_([{provide:st,useExisting:n},{provide:P,useExisting:n},{provide:_t,useClass:$t},{provide:I.sL,useClass:I.xn},{provide:wt,useValue:null}]),t.Vt3,t.aNF],ngContentSelectors:Ae,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,s){1&i&&(t.NAR(Ne),t.SdG(0),t.SdG(1,1),t.DNE(2,je,1,0)(3,Pe,7,0)(4,Be,4,0)),2&i&&(t.R7$(2),t.vxM(s._isServer?2:-1),t.R7$(),t.vxM(s._isNativeHtmlTable?3:4))},dependencies:[Rt,Ft,Tt,bt],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),at=(()=>{class n extends H{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[t.Jv_([{provide:H,useExisting:n}]),t.Vt3]})}}return n})(),rt=(()=>{class n extends W{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[t.Jv_([{provide:W,useExisting:n}]),t.Vt3]})}}return n})(),lt=(()=>{class n extends ${get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[t.Jv_([{provide:$,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),t.Vt3]})}}return n})(),dt=(()=>{class n extends pt{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[t.Vt3]})}}return n})(),ct=(()=>{class n extends gt{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[t.Vt3]})}}return n})(),xt=(()=>{class n extends Y{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",t.L39]},standalone:!0,features:[t.Jv_([{provide:Y,useExisting:n}]),t.GFd,t.Vt3]})}}return n})(),Mt=(()=>{class n extends nt{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275dir=t.FsC({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[t.Jv_([{provide:nt,useExisting:n}]),t.Vt3]})}}return n})(),It=(()=>{class n extends Ct{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[t.Jv_([{provide:Ct,useExisting:n}]),t.Vt3,t.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}}return n})(),Ot=(()=>{class n extends Dt{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=t.xGo(n)))(s||n)}})()}static{this.\u0275cmp=t.VBU({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[t.Jv_([{provide:Dt,useExisting:n}]),t.Vt3,t.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&t.eu8(0,0)},dependencies:[X],encapsulation:2})}}return n})(),Wt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[V.yE,Ie,V.yE]})}}return n})();class Kt extends I.qS{get data(){return this._data.value}set data(r){r=Array.isArray(r)?r:[],this._data.next(r),this._renderChangesSubscription||this._filterData(r)}get filter(){return this._filter.value}set filter(r){this._filter.next(r),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(r){this._sort=r,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(r){this._paginator=r,this._updateChangeSubscription()}constructor(r=[]){super(),this._renderData=new tt.t([]),this._filter=new tt.t(""),this._internalPageChanges=new Bt.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const s=e[i];if((0,Oe.o1)(s)){const a=Number(s);return a<9007199254740991?a:s}return s},this.sortData=(e,i)=>{const s=i.active,a=i.direction;return s&&""!=a?e.sort((d,c)=>{let f=this.sortingDataAccessor(d,s),b=this.sortingDataAccessor(c,s);const R=typeof f,O=typeof b;R!==O&&("number"===R&&(f+=""),"number"===O&&(b+=""));let x=0;return null!=f&&null!=b?f>b?x=1:f<b&&(x=-1):null!=f?x=1:null!=b&&(x=-1),x*("asc"==a?1:-1)}):e},this.filterPredicate=(e,i)=>{const s=Object.keys(e).reduce((d,c)=>d+e[c]+"\u25ec","").toLowerCase(),a=i.trim().toLowerCase();return-1!=s.indexOf(a)},this._data=new tt.t(r),this._updateChangeSubscription()}_updateChangeSubscription(){const r=this._sort?(0,Ht.h)(this._sort.sortChange,this._sort.initialized):(0,y.of)(null),e=this._paginator?(0,Ht.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,y.of)(null),s=(0,kt.z)([this._data,this._filter]).pipe((0,St.T)(([c])=>this._filterData(c))),a=(0,kt.z)([s,r]).pipe((0,St.T)(([c])=>this._orderData(c))),d=(0,kt.z)([a,e]).pipe((0,St.T)(([c])=>this._pageData(c)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=d.subscribe(c=>this._renderData.next(c))}_filterData(r){return this.filteredData=null==this.filter||""===this.filter?r:r.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(r){return this.sort?this.sortData(r.slice(),this.sort):r}_pageData(r){if(!this.paginator)return r;const e=this.paginator.pageIndex*this.paginator.pageSize;return r.slice(e,e+this.paginator.pageSize)}_updatePaginator(r){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=r,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,s=Math.min(e.pageIndex,i);s!==e.pageIndex&&(e.pageIndex=s,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var Ke=l(1567),Ye=l(1903),ze=l(1318),Qe=l(3143),Yt=l(7703),Nt=l(8136),zt=l(5469),Qt=l(4824),Je=l(9006),Ze=l(3176),qe=l(3758),Q=l(7993),Jt=l(5160),Zt=l(3347);const tn=["ngForm"];function en(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function nn(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.ContentType.Name," ")}}function sn(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function on(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.StaticName," ")}}function an(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function rn(n,r){if(1&n&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.Type," ")}}function ln(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Share"),t.k0s()())}function dn(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"button",24),t.bIt("click",function(){const s=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.selectField(s))}),t.EFF(2,"Select"),t.k0s()()}}function cn(n,r){1&n&&t.nrm(0,"tr",28)}function hn(n,r){1&n&&t.nrm(0,"tr",29)}function un(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"New Name"),t.k0s()())}function fn(n,r){if(1&n&&(t.j41(0,"app-field-hint",32),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.Y8G("isError",!0),t.R7$(),t.JRh(e.fieldNameError)}}function mn(n,r){if(1&n&&(t.j41(0,"app-field-hint",32),t.EFF(1),t.k0s()),2&n){t.XpG(2);const e=t.sdS(5);t.Y8G("isError",!0),t.R7$(),t.SpI(" ",e.errors.reservedNames," ")}}function pn(n,r){if(1&n&&t.DNE(0,fn,2,2,"app-field-hint",32)(1,mn,2,2,"app-field-hint",32),2&n){t.XpG();const e=t.sdS(5);t.vxM(e.errors.pattern?0:-1),t.R7$(),t.vxM(e.errors.reservedNames?1:-1)}}function gn(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"mat-form-field",30)(2,"mat-label"),t.EFF(3,"New Name"),t.k0s(),t.j41(4,"input",31,1),t.mxI("ngModelChange",function(s){const a=t.eBV(e).$implicit;return t.DH7(a.newName,s)||(a.newName=s),t.Njj(s)}),t.k0s()(),t.DNE(6,pn,2,2),t.k0s()}if(2&n){const e=r.$implicit,i=r.index,s=t.sdS(5),a=t.XpG();t.R7$(4),t.Y8G("pattern",a.fieldNamePattern),t.R50("ngModel",e.newName),t.Y8G("name","StaticName"+i)("appReservedNames",a.reservedNames),t.R7$(2),t.vxM(s.errors?6:-1)}}function _n(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Source"),t.k0s()())}function yn(n,r){if(1&n&&(t.j41(0,"td",33),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.E5c(" ",e.field.ContentType.Name,"/",e.field.StaticName," (",e.field.Type,") ")}}function Cn(n,r){1&n&&(t.j41(0,"th",26)(1,"b"),t.EFF(2,"Remove"),t.k0s()())}function vn(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",27)(1,"button",24),t.bIt("click",function(){const s=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.removeField(s))}),t.EFF(2,"Remove"),t.k0s()()}}function Dn(n,r){1&n&&t.nrm(0,"tr",28)}function wn(n,r){1&n&&t.nrm(0,"tr",29)}let Fn=(()=>{class n extends Ze.${#t;#e;constructor(e,i,s,a,d,c){super(),this.dialogData=e,this.dialog=i,this.snackBar=s,this.matDialog=a,this.viewContainerRef=d,this.changeDetectorRef=c,this.hostClass="dialog-component",this.#t=(0,t.WQX)(Qt.t),this.#e=(0,C.d)(w.h),this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new Kt([]),this.selectedFields=new Kt([]),this.fieldNamePattern=Yt.w,this.fieldNameError=Yt.s,this.reservedNames={},this.saving=(0,Q.KX)("saving",!1),this.#i=this.#t.isEnabled[Nt.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.form.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#i;ngOnInit(){this.#e.getShareableFields().subscribe(e=>this.shareableFields.data=e),this.#e.getReservedNames().subscribe(e=>{this.reservedNames=Jt.O.mergeReserved(e,this.dialogData.existingFields)})}selectField(e){this.selectedFields.data=[...this.selectedFields.data,{newName:e.StaticName,field:e}]}removeField(e){const i=this.selectedFields.data;i.splice(i.indexOf(e),1),this.selectedFields.data=[...i]}save(){this.#i()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,y.of)(...this.selectedFields.data).pipe((0,Ke.p)(e=>!!e.newName),(0,Ye.H)(e=>this.#e.addInheritedField(this.dialogData.contentType.Id,e.field.ContentType.Id,e.field.Guid,e.newName).pipe((0,ze.W)(i=>(0,y.of)(null)))),(0,Qe.$)()).subscribe(e=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,Je.j)(this.matDialog,Nt.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.Vh),t.rXU(F.CP),t.rXU(Zt.UG),t.rXU(F.bZ),t.rXU(t.c1b),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-field-sharing-add-many"]],viewQuery:function(i,s){if(1&i&&t.GBs(tn,5,G.cV),2&i){let a;t.mGM(a=t.lsd())&&(s.form=a.first)}},hostVars:1,hostBindings:function(i,s){2&i&&t.Mr5("className",s.hostClass)},standalone:!0,features:[t.Vt3,t.aNF],decls:62,vars:15,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break:break-all;","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","submit","color","accent",3,"click","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(i,s){if(1&i){const a=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div",5)(6,"p"),t.EFF(7," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),t.k0s(),t.j41(8,"p"),t.EFF(9," This is a bit like "),t.j41(10,"strong"),t.EFF(11,"Content-Type Inheritance"),t.k0s(),t.EFF(12,", but instead of inheritance we're using "),t.j41(13,"strong"),t.EFF(14,"composition"),t.k0s(),t.EFF(15,", which is much more powerful. "),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.nrm(19,"br"),t.j41(20,"em"),t.EFF(21," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),t.k0s()(),t.j41(22,"div",6)(23,"mat-card",7)(24,"table",8),t.qex(25,9),t.DNE(26,en,3,0,"th",10)(27,nn,2,1,"td",11),t.bVm(),t.qex(28,12),t.DNE(29,sn,3,0,"th",10)(30,on,2,1,"td",11),t.bVm(),t.qex(31,13),t.DNE(32,an,3,0,"th",10)(33,rn,2,1,"td",11),t.bVm(),t.qex(34,14),t.DNE(35,ln,3,0,"th",10)(36,dn,3,0,"td",11),t.bVm(),t.DNE(37,cn,1,0,"tr",15)(38,hn,1,0,"tr",16),t.k0s()(),t.j41(39,"mat-card",17)(40,"form",null,0)(42,"table",8),t.qex(43,18),t.DNE(44,un,3,0,"th",10)(45,gn,7,5,"td",11),t.bVm(),t.qex(46,19),t.DNE(47,_n,3,0,"th",10)(48,yn,2,3,"td",20),t.bVm(),t.qex(49,21),t.DNE(50,Cn,3,0,"th",10)(51,vn,3,0,"td",11),t.bVm(),t.DNE(52,Dn,1,0,"tr",15)(53,wn,1,0,"tr",16),t.k0s()()()(),t.j41(54,"app-feature-text-info",22)(55,"em"),t.EFF(56," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()(),t.j41(57,"mat-dialog-actions",23)(58,"button",24),t.bIt("click",function(){return t.eBV(a),t.Njj(s.dialog.close())}),t.EFF(59,"Cancel"),t.k0s(),t.j41(60,"button",25),t.bIt("click",function(){return t.eBV(a),t.Njj(s.save())}),t.EFF(61," Save "),t.k0s()()()()}if(2&i){const a=t.sdS(41);t.R7$(3),t.SpI(" ",t.bMT(4,11,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18) "),t.R7$(14),t.SpI(" ",t.bMT(18,13,"SharingOrInheriting.PickFieldsToInheritFrom")," "),t.R7$(7),t.Y8G("dataSource",s.shareableFields),t.R7$(13),t.Y8G("matHeaderRowDef",s.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",s.optionsColumns),t.R7$(4),t.Y8G("dataSource",s.selectedFields),t.R7$(10),t.Y8G("matHeaderRowDef",s.selectedColumns),t.R7$(),t.Y8G("matRowDefColumns",s.selectedColumns),t.R7$(),t.Y8G("featureNameId","ContentTypeFieldsReuseDefinitions")("asInfo",!0),t.R7$(6),t.Y8G("disabled",!a.form.valid||0==s.selectedFields.data.length||s.saving())}},dependencies:[q.Hu,q.RN,Wt,Et,rt,xt,lt,at,Mt,dt,ct,It,Ot,m.Hl,m.$z,G.YN,G.qT,G.me,G.BC,G.cb,G.R_,G.vS,G.cV,ut.RG,ut.rl,ut.nJ,jt.fS,jt.fg,Jt.O,F.E7,D.h,D.D9,zt.L,qe.F],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}.my-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.my-button[_ngcontent-%COMP%]   .my-button-icon[_ngcontent-%COMP%]{margin-left:4px;margin-top:6px}"]})}}return n})();var Rn=l(7739),bn=l(3609),Tn=l(4435),B=function(n){return n[n.None=0]="None",n[n.Sharing=1]="Sharing",n[n.Inheriting=2]="Inheriting",n}(B||{});const kn=(n,r)=>r.complete,Sn=(n,r)=>r.AttributeId,En=n=>({"my-selected":n});function xn(n,r){1&n&&t.eu8(0)}function Mn(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),t.k0s(),t.j41(2,"div"),t.EFF(3," Global Identifier: "),t.j41(4,"strong"),t.EFF(5),t.k0s()(),t.j41(6,"h4"),t.EFF(7,"Inherited by"),t.k0s(),t.DNE(8,xn,1,0,"ng-container",8)),2&n){const e=t.XpG(),i=t.sdS(18);t.R7$(5),t.JRh(e.dialogData.Guid),t.R7$(3),t.Y8G("ngTemplateOutlet",i)}}function In(n,r){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.complete)}}function On(n,r){if(1&n&&(t.j41(0,"ol"),t.Z7z(1,In,2,1,"li",null,kn),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Dyx(e.inherited())}}function Nn(n,r){1&n&&t.eu8(0)}function An(n,r){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e)}}function jn(n,r){if(1&n&&(t.j41(0,"h4"),t.EFF(1,"Not Inherited Definitions"),t.k0s(),t.j41(2,"p"),t.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),t.k0s(),t.j41(4,"ol"),t.Z7z(5,An,2,1,"li",null,t.fX1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(5),t.Dyx(e.notInherited())}}function Pn(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1," This field is inheriting it's definition from another previously shared field. "),t.k0s(),t.j41(2,"h4"),t.EFF(3,"Inherits Definition from"),t.k0s(),t.DNE(4,On,3,0,"ol")(5,Nn,1,0,"ng-container",8)(6,jn,7,0)),2&n){const e=t.XpG(),i=t.sdS(18);t.R7$(4),t.vxM(e.features.isEnabled[e.requiredFeature]()?-1:4),t.R7$(),t.Y8G("ngTemplateOutlet",i),t.R7$(),t.vxM(e.notInherited().length?6:-1)}}function Bn(n,r){1&n&&(t.j41(0,"p"),t.EFF(1," This will share the field definition for others to use. Save to complete the operation. "),t.k0s())}function Un(n,r){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function Gn(n,r){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.ContentType.Name," ")}}function $n(n,r){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function Xn(n,r){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.StaticName," ")}}function Vn(n,r){1&n&&(t.j41(0,"th",19)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function Ln(n,r){if(1&n&&(t.j41(0,"td",20),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.Type," ")}}function Hn(n,r){1&n&&t.nrm(0,"tr",21)}function Wn(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr",22),t.bIt("click",function(){const s=t.eBV(e).$implicit,a=t.XpG(3);return t.Njj(a.inheritField(s))}),t.k0s()}if(2&n){const e=r.$implicit,i=t.XpG(3);t.Y8G("ngClass",t.eq3(1,En,i.guid===e.Guid))}}function Kn(n,r){if(1&n&&(t.j41(0,"p"),t.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),t.nrm(2,"br"),t.k0s(),t.j41(3,"ul")(4,"li"),t.EFF(5," Inheriting will remove/ignore all current definition of this field such as label, hidden, etc. "),t.k0s(),t.j41(6,"li"),t.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),t.k0s()(),t.j41(8,"mat-card",10)(9,"table",11),t.qex(10,12),t.DNE(11,Un,3,0,"th",13)(12,Gn,2,1,"td",14),t.bVm(),t.qex(13,15),t.DNE(14,$n,3,0,"th",13)(15,Xn,2,1,"td",14),t.bVm(),t.qex(16,16),t.DNE(17,Vn,3,0,"th",13)(18,Ln,2,1,"td",14),t.bVm(),t.DNE(19,Hn,1,0,"tr",17)(20,Wn,1,3,"tr",18),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(9),t.Y8G("dataSource",e.shareableFields()),t.R7$(10),t.Y8G("matHeaderRowDef",e.optionsColumns),t.R7$(),t.Y8G("matRowDefColumns",e.optionsColumns)}}function Yn(n,r){if(1&n){const e=t.RV6();t.j41(0,"p"),t.EFF(1," This field is currently not shared or inherited. You can choose to: "),t.k0s(),t.j41(2,"ul")(3,"li"),t.EFF(4,"Make it public ("),t.j41(5,"strong"),t.EFF(6,"share"),t.k0s(),t.EFF(7,") so it can be re-used by other Content Types"),t.k0s(),t.j41(8,"li"),t.EFF(9,"Change it to "),t.j41(10,"strong"),t.EFF(11,"inherit"),t.k0s(),t.EFF(12," it's definition from another previously shared field"),t.k0s()(),t.nrm(13,"br"),t.j41(14,"div")(15,"button",9),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.setShare())}),t.EFF(16," Share "),t.k0s(),t.j41(17,"button",9),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.startInherit())}),t.EFF(18," Inherit "),t.k0s(),t.DNE(19,Bn,2,0,"p")(20,Kn,21,3),t.k0s()}if(2&n){let e;const i=t.XpG();t.R7$(15),t.Y8G("color",i.state==i.sharingOrInheriting.Sharing?"accent":""),t.R7$(2),t.Y8G("color",i.state==i.sharingOrInheriting.Inheriting?"accent":""),t.R7$(2),t.vxM((e=i.state)===i.sharingOrInheriting.Sharing?19:e===i.sharingOrInheriting.Inheriting?20:-1)}}function zn(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.dialog.close())}),t.EFF(1,"Cancel"),t.k0s(),t.j41(2,"button",24),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.save())}),t.j41(3,"span"),t.EFF(4,"Save"),t.k0s()()}}function Qn(n,r){if(1&n&&(t.j41(0,"li"),t.EFF(1," Guid: "),t.j41(2,"strong"),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.EFF(5," Content Type: "),t.j41(6,"strong"),t.EFF(7),t.k0s(),t.nrm(8,"br"),t.EFF(9," Field: "),t.j41(10,"strong"),t.EFF(11),t.k0s(),t.EFF(12),t.k0s()),2&n){const e=r.$implicit;t.R7$(3),t.JRh(e.Guid),t.R7$(4),t.JRh(e.ContentType.Name),t.R7$(4),t.JRh(e.StaticName),t.R7$(),t.SpI(" (",e.AttributeId,") ")}}function Jn(n,r){if(1&n&&(t.j41(0,"ul"),t.Z7z(1,Qn,13,4,"li",null,Sn),t.k0s()),2&n){const e=t.XpG(3);t.R7$(),t.Dyx(e.details())}}function Zn(n,r){1&n&&(t.j41(0,"em"),t.EFF(1," No details available. This field probably does not have any inheriting fields. "),t.k0s())}function qn(n,r){if(1&n&&t.DNE(0,Jn,3,0,"ul")(1,Zn,2,0,"em"),2&n){const e=t.XpG(2);t.vxM(e.details().length?0:1)}}function ti(n,r){if(1&n&&(t.j41(0,"em"),t.EFF(1," You can get more details about the parents by enabling the feature "),t.nrm(2,"br"),t.EFF(3),t.nrm(4,"app-feature-icon-text",25),t.EFF(5,". "),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",e.requiredFeature," "),t.R7$(),t.Y8G("featureNameId",e.requiredFeature)}}function ei(n,r){if(1&n&&t.DNE(0,qn,2,1)(1,ti,6,2,"em"),2&n){const e=t.XpG();t.vxM(e.features.isEnabled[e.requiredFeature]()?0:1)}}const ni={all:!0,constructor:!0};let si=(()=>{class n{#t;constructor(e,i,s){this.dialogData=e,this.features=i,this.dialog=s,this.log=(0,Tn.T)({ShareOrInheritDialogComponent:n},ni,!0),this.#t=(0,C.d)(w.h),this.requiredFeature=Nt.T.ContentTypeFieldsReuseDefinitions,this.details=(0,Q.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=B.None,this.sharingOrInheriting=B,this.guid=null,this.shareableFields=(0,t.vPA)(void 0),this.initialState=(()=>{const c=this.dialogData.SysSettings;return c&&(c.Share||c.InheritMetadataOf)?c.Share?B.Sharing:B.Inheriting:B.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#e=(0,Q.bo)("inheritsInfo",()=>{const f=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(b=>({complete:b,guid:b.substring(0,36),name:b.substring(36)}));return(0,Rn.A)(f,b=>"00000000-0000-0000-0000-000000000000"===b.guid?"none":"inherits")}),this.notInherited=(0,Q.bo)("notInherited",()=>this.#e().none?.map(c=>c.name)??[]),this.inherited=(0,Q.bo)("inherited",()=>this.#e().inherits??[]),this.log.fnIf("constructor",{dialogData:e});const d=e.SysSettings;d&&(d.Share?this.#t.getDescendants(e.Id).subscribe(c=>this.details.set(c)):d.InheritMetadataOf&&this.#t.getAncestors(e.Id).subscribe(c=>this.details.set(c)))}#e;setShare(){this.guid=null,this.state=B.Sharing}startInherit(){this.guid=null,this.state=B.Inheriting,this.#t.getShareableFieldsFor(this.dialogData.AttributeId).subscribe(e=>this.shareableFields.set(e))}inheritField(e){this.guid=e.Guid}save(){this.state==B.Sharing?this.#t.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==B.Inheriting&&this.#t.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.Vh),t.rXU(Qt.t),t.rXU(F.CP))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-field-sharing-configure"]],standalone:!0,features:[t.aNF],decls:19,vars:7,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],[1,"my-actions"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",1,"eav-dialog-action-button",3,"click","color"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],["mat-raised-button","","type","button",1,"eav-dialog-action-button",3,"click"],["mat-raised-button","","type","submit","color","accent",1,"eav-dialog-action-button",3,"click"],[3,"featureNameId"]],template:function(i,s){if(1&i){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return t.eBV(a),t.Njj(s.dialog.close())}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.DNE(9,Mn,9,2)(10,Pn,7,3)(11,Yn,21,3),t.k0s(),t.j41(12,"app-feature-text-info",6)(13,"em"),t.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),t.k0s()(),t.j41(15,"div",7),t.DNE(16,zn,5,0),t.k0s()(),t.DNE(17,ei,2,1,"ng-template",null,0,t.C5r)}if(2&i){let a;t.R7$(3),t.SpI(" ",t.bMT(4,5,s.title)," "),t.R7$(6),t.vxM((a=s.initialState)===s.sharingOrInheriting.Sharing?9:a===s.sharingOrInheriting.Inheriting?10:a===s.sharingOrInheriting.None?11:-1),t.R7$(3),t.Y8G("featureNameId",s.requiredFeature)("asInfo",!0),t.R7$(4),t.vxM(s.initialState==s.sharingOrInheriting.None?16:-1)}},dependencies:[m.Hl,m.$z,m.iY,p.m_,p.An,q.Hu,q.RN,Wt,Et,rt,xt,lt,at,Mt,dt,ct,It,Ot,o.YU,o.T3,D.h,D.D9,zt.L,bn.U],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.my-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:8px 0}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}}return n})();var oi=l(9841);const ai=(n,r)=>({"grid-sorted":n,"grid-filtered":r});let ri=(()=>{class n{#t;#e;#i;constructor(e,i,s){this.dialog=e,this.snackBar=i,this.matDialog=s,this.#t=(0,C.d)(ee.c),this.#e=(0,C.d)(v.g),this.#i=(0,C.d)(w.h),this.contentType=(0,t.vPA)(void 0),this.fields=(0,t.vPA)(void 0),this.gridOptions=this.#D(),this.sortApplied=!1,this.filterApplied=!1,this.#a=!1,this.#o=this.#t.getParam("contentTypeStaticName")}#n;#r;#a;#o;ngOnInit(){this.#s(),this.#t.doOnDialogClosed(()=>this.#s())}onGridReady(e){this.#n=e.api,this.#r=e.columnApi}onRowDragEnter(e){this.#n.setEnableCellTextSelection(!1)}onRowDragEnd(e){this.#n.setSuppressRowDrag(!0);const i=this.fields().map(s=>s.Id);this.#i.reOrder(i,this.contentType()).subscribe(()=>{this.#s(()=>{this.#n.setEnableCellTextSelection(!0),this.#n.setSuppressRowDrag(!1)})})}onRowDragMove(e){const i=e.overNode;if(!i)return;const s=e.node;if(s===i)return;const a=[...this.fields()],d=a.indexOf(s.data),c=a.indexOf(i.data),f=this.#d(a,d,c);this.fields.set(f),this.#n.clearFocusedCell()}#d(e,i,s){const a=e[i];return e.splice(i,1),e.splice(s,0,a),[...e]}onSortChanged(e){const i=this.#r.getColumnState();this.sortApplied=i.some(s=>null!=s.sort),this.#l()}onFilterChanged(e){const i=this.#n.getFilterModel(),s=Object.keys(i);this.filterApplied=s.length>0,this.#l()}#l(){const e=this.sortApplied||this.filterApplied;e&&!this.#a?(this.#a=!0,this.#n.setSuppressRowDrag(!0)):!e&&this.#a&&(this.#a=!1,this.#n.setSuppressRowDrag(!1))}add(){this.#t.navRelative([`add/${this.#o}`])}addSharedField(){this.matDialog.open(Fn,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()}}).afterClosed().subscribe(()=>this.#s())}#c(e){const i=e.data.InputType;if(E.Q.endsPreviousGroup(i))return e.value;let s=!1;for(const a of this.fields())if(E.Q.isGroupStart(i))s=!0;else if(E.Q.isGroupEnd(i))s=!1;else if(a.StaticName===e.data.StaticName)break;return s?`<span class="is-in-group">${e.value}</span>`:e.value}#s(e){const i=null==this.contentType()?this.#e.retrieveContentType(this.#o):(0,y.of)(this.contentType()),s=this.#i.getFields(this.#o);(0,S.p)([i,s]).subscribe(([a,d])=>{this.contentType.set(a),this.fields.set(d),e?.()})}#h(e){if(e.SysSettings?.InheritMetadataOf){if(!Object.keys(e.ConfigTypes).length)return void this.snackBar.open("This field inherits all configuration so there is nothing to edit.",null,{duration:3e3});this.snackBar.open("This field inherits some configuration. Edit will only show configuration which is not inherited.",null,{duration:5e3})}e.SysSettings?.Share&&this.snackBar.open("This field is shared, so changing it will affect all other fields inheriting it.",null,{duration:5e3});const i={items:Object.keys(e.ConfigTypes).map(a=>this.#u(e,a))},s=(0,A.s)(i);this.#t.navRelative([`edit/${s}`])}#u(e,i){const s=i.replace("@",""),a=("@"+i).replace("@@","@"),d=e.Metadata[s];return null!=d?Z.c.editId(d.Id):{...Z.c.newMetadata(e.Id,a,_.YX.metadata.attribute),Prefill:{Name:e.StaticName}}}#f(e){this.snackBar.open("Setting title..."),this.#i.setTitle(e,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#s()})}#m(e){this.#t.navRelative([`update/${this.#o}/${e.Id}/inputType`])}#p(e){this.#t.navRelative([`update/${this.#o}/${e.Id}/name`])}#g(e){confirm(`Are you sure you want to delete '${e.StaticName}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.#i.delete(e,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#s()}))}#_(e){this.#t.navRelative([h.k.getUrlAttribute(e.Id)])}#y(e){const i=e.imageConfiguration;if(1!=i?.isRecommended)throw new Error("This field does not expect to have an image configuration");const s=i.entityId?Z.c.editId(i.entityId):Z.c.newMetadata(e.Id,i.typeName,_.YX.metadata.attribute),a=(0,A.s)({items:[s]});this.#t.navRelative([`edit/${a}`])}#C(e){const i=g.H.getUrlAttribute(e.Id,`Metadata for Field: ${e.StaticName} (${e.Id})`);this.#t.navRelative([i])}#v(e){this.matDialog.open(si,{autoFocus:!1,width:"800px",data:e}).afterClosed().subscribe(()=>this.#s())}#D(){return{...k.C,getRowClass(i){const s=i.data,a=[];return s.EditInfo.DisableSort&&a.push("disable-row-drag"),E.Q.isGroupStart(s.InputType)&&a.push("group-start-row"),E.Q.isGroupEnd(s.InputType)&&a.push("group-end-row"),a},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" ")},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:i=>i.data.IsTitle,cellRenderer:ge,cellRendererParams:{onSetTitle:i=>this.#f(i)}},{...u.r.TextWidePrimary,headerName:"Name",field:"StaticName",onCellClicked:i=>this.#h(i.data),cellRenderer:i=>this.#c(i)},{...u.r.ItemsText,field:"Type",width:70,valueGetter:i=>i.data.Type,cellRenderer:ye},{...u.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline no-padding":"secondary-action no-padding").split(" "),valueGetter:i=>i.data.InputType.substring(i.data.InputType.indexOf("-")+1),cellRenderer:ce,cellRendererParams:{onChangeInputType:i=>this.#m(i)}},{field:"Label",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Name},{field:"Special",width:66,headerClass:"dense",cellClass:"no-outline",cellRenderer:fe},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Notes},{...u.r.ActionsPinnedRight5,cellRenderer:re,cellRendererParams:{do:(i,s)=>{switch(i){case"rename":this.#p(s);break;case"delete":this.#g(s);break;case"permissions":this.#_(s);break;case"metadata":this.#C(s);break;case"shareOrInherit":this.#v(s);break;case"image":this.#y(s)}}}}]}}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(F.CP),t.rXU(Zt.UG),t.rXU(F.bZ))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields"]],standalone:!0,features:[t.aNF],decls:18,vars:11,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"]],template:function(i,s){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return s.dialog.close()}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",4),t.nrm(8,"router-outlet"),t.j41(9,"div",5)(10,"ag-grid-angular",6),t.bIt("rowDragEnter",function(d){return s.onRowDragEnter(d)})("rowDragEnd",function(d){return s.onRowDragEnd(d)})("rowDragMove",function(d){return s.onRowDragMove(d)})("gridReady",function(d){return s.onGridReady(d)})("sortChanged",function(d){return s.onSortChanged(d)})("filterChanged",function(d){return s.onFilterChanged(d)}),t.k0s()()(),t.j41(11,"mat-dialog-actions",7)(12,"button",8),t.bIt("click",function(){return s.addSharedField()}),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"button",9),t.bIt("click",function(){return s.add()}),t.j41(16,"mat-icon"),t.EFF(17,"add"),t.k0s()()()()),2&i){let a;t.R7$(3),t.SpI(" ",(null==(a=s.contentType())?null:a.Label)||(null==(a=s.contentType())?null:a.Name)," Fields "),t.R7$(7),t.Y8G("rowData",s.fields())("gridOptions",s.gridOptions)("ngClass",t.l_i(8,ai,s.sortApplied,s.filterApplied)),t.R7$(3),t.JRh(t.bMT(14,6,"SharingOrInheriting.AddSharedField")),t.R7$(2),t.Y8G("disabled",null==s.contentType()||s.contentType().EditInfo.ReadOnly)}},dependencies:[m.Hl,m.$z,m.iY,m.Sr,p.m_,p.An,M.n3,o.YU,F.E7,j.V,te.p,oi.xs,D.h,D.D9],encapsulation:2})}}return n})()},6133:(U,T,l)=>{l.r(T),l.d(T,{FeatureInfoDialogComponent:()=>C});var o=l(9148),t=l(7941),m=l(2938),F=l(1191),p=l(5081),M=l(5943),D=l(2159);const y=v=>({feature:v,showGuid:!1,showStatus:!0,showClose:!0});function S(v,g){1&v&&o.nrm(0,"app-feature-details-dialog",0),2&v&&o.Y8G("specs",o.eq3(1,y,g))}let C=(()=>{class v{#t;constructor(h,u,k){this.dialogData=h,this.dialog=u,this.route=k,this.#t=(0,m.d)(M.N),this.featureId=(0,o.vPA)(""),this.clipboard=(0,m.d)(p.W)}ngOnInit(){this.featureId.set(this.route.snapshot.data.featureId||this.dialogData||""),this.featureDetails=this.#t.getFeatureDetail(this.featureId())}static{this.\u0275fac=function(u){return new(u||v)(o.rXU(t.Vh),o.rXU(t.CP),o.rXU(D.nX))}}static{this.\u0275cmp=o.VBU({type:v,selectors:[["app-feature-info-dialog"]],standalone:!0,features:[o.aNF],decls:1,vars:1,consts:[[3,"specs"]],template:function(u,k){if(1&u&&o.DNE(0,S,1,3,"app-feature-details-dialog",0),2&u){let _;o.vxM((_=k.featureDetails())?0:-1,_)}},dependencies:[F.O],encapsulation:2})}}return v})()},8136:(U,T,l)=>{l.d(T,{T:()=>o});const o={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",ContentTypeFieldsReuseDefinitions:"ContentTypeFieldsReuseDefinitions",AppExportAssetsAdvanced:"AppExportAssetsAdvanced",PickerUiCheckbox:"PickerUiCheckbox",PickerUiRadio:"PickerUiRadio",PickerSourceCsv:"PickerSourceCsv",PickerSourceAppAssets:"PickerSourceAppAssets",PickerFormulas:"PickerFormulas",PickerUiMoreInfo:"PickerUiMoreInfo"}},5469:(U,T,l)=>{l.d(T,{L:()=>S});var o=l(9148),t=l(3840),m=l(852),F=l(4601),p=l(7993),M=l(9006);const D=["*"];function y(C,v){if(1&C){const g=o.RV6();o.j41(0,"div",1),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(g);const u=o.XpG();return o.Njj(u.openDialog())}),o.j41(2,"mat-icon"),o.EFF(3),o.k0s(),o.j41(4,"div",2)(5,"div",3),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"div",4),o.EFF(9),o.nI1(10,"translate"),o.k0s(),o.SdG(11),o.k0s()()}if(2&C){const g=o.XpG();o.Y8G("tippy",o.i5U(1,7,"Features.Tooltip",g.feature())),o.R7$(2),o.ZvI("icon icon-",g.icon(),""),o.R7$(),o.JRh(g.icon()),o.R7$(3),o.JRh(o.bMT(7,10,"Features.FeatureNotActivated")),o.R7$(3),o.JRh(o.bMT(10,12,"Features.ClickToFindOutMore"))}}let S=(()=>{class C extends M.x{constructor(){super(),this.asInfo=(0,o.hFB)(!1),this.icon=(0,p.bo)("icon",()=>this.asInfo()?"info":"warning")}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275cmp=o.VBU({type:C,selectors:[["app-feature-text-info"]],inputs:{asInfo:[1,"asInfo"]},standalone:!0,features:[o.Vt3,o.aNF],ngContentSelectors:D,decls:1,vars:1,consts:[[1,"feature-text-info",3,"tippy"],[1,"feature-text-info",3,"click","tippy"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(h,u){1&h&&(o.NAR(),o.DNE(0,y,12,14,"div",0)),2&h&&o.vxM(u.show()?0:-1)},dependencies:[t.m_,t.An,m.h,m.D9,F.e],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}}return C})()},5943:(U,T,l)=>{l.d(T,{N:()=>F});var o=l(9148),t=l(6474);const m="admin/feature/details";let F=(()=>{class p extends t.D{getFeatureDetail(D){return this.getSignal(m,{params:{nameId:D}})}getFeatureDetails(D){const y=(0,o.vPA)([]);for(const S of D)this.xx(S).subscribe(C=>{y.update(v=>[...v,C])});return y}xx(D){return this.getHttpApiUrl(m,{params:{nameId:D}})}static{this.\u0275fac=(()=>{let D;return function(S){return(D||(D=o.xGo(p)))(S||p)}})()}static{this.\u0275prov=o.jDH({token:p,factory:p.\u0275fac})}}return p})()},9006:(U,T,l)=>{l.d(T,{j:()=>D,x:()=>M});var o=l(9148),t=l(7941),m=l(7993),F=l(6133),p=l(4824);let M=(()=>{class y{#t;#e;#i;#n;constructor(){this.featureNameId=o.hFB.required(),this.showIf=(0,o.hFB)(!1),this.#t=(0,o.WQX)(t.bZ),this.#e=(0,o.WQX)(o.c1b),this.#i=(0,o.WQX)(o.gRc),this.#n=(0,o.WQX)(p.t),this.feature=(0,m.bo)("feature",()=>this.#n.getCurrent(this.featureNameId())),this.show=(0,m.bo)("show",()=>{const C=this.feature();return null!=C&&this.showIf()==(C?.isEnabled??!1)})}openDialog(){D(this.#t,this.featureNameId(),this.#e,this.#i)}static{this.\u0275fac=function(v){return new(v||y)}}static{this.\u0275dir=o.FsC({type:y,inputs:{featureNameId:[1,"featureNameId"],showIf:[1,"showIf"]}})}}return y})();function D(y,S,C,v){y.open(F.FeatureInfoDialogComponent,{autoFocus:!1,data:S,viewContainerRef:C,width:"400px"}),v?.markForCheck()}},3758:(U,T,l)=>{l.d(T,{F:()=>v});var o=l(316),t=l(9148),m=l(4950);const F=["*"],p=g=>({"hint-box__short":g});function M(g,h){1&g&&t.eu8(0)}function D(g,h){if(1&g&&(t.j41(0,"mat-hint"),t.DNE(1,M,1,0,"ng-container",2),t.k0s()),2&g){t.XpG();const u=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",u)}}function y(g,h){1&g&&t.eu8(0)}function S(g,h){if(1&g&&(t.j41(0,"mat-error"),t.DNE(1,y,1,0,"ng-container",2),t.k0s()),2&g){t.XpG();const u=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",u)}}function C(g,h){1&g&&t.SdG(0)}let v=(()=>{class g{constructor(){this.isError=(0,t.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static{this.\u0275fac=function(k){return new(k||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},standalone:!0,features:[t.aNF],ngContentSelectors:F,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(k,_){if(1&k){const j=t.RV6();t.NAR(),t.j41(0,"div",1),t.bIt("click",function(){return t.eBV(j),t.Njj(_.toggleIsShort())}),t.DNE(1,D,2,1,"mat-hint")(2,S,2,1,"mat-error"),t.k0s(),t.DNE(3,C,1,0,"ng-template",null,0,t.C5r)}if(2&k){let j;t.Y8G("ngClass",t.eq3(2,p,_.isShort)),t.R7$(),t.vxM(!1===(j=_.isError())?1:!0===j?2:-1)}},dependencies:[m.RG,m.MV,m.TL,o.YU,o.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return g})()},4202:(U,T,l)=>{l.d(T,{u:()=>o});const o={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomGps:"custom-gps",CustomJsonEditor:"custom-json-editor",DateTimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg",EntityPicker:"entity-picker",StringPicker:"string-picker",NumberPicker:"number-picker",Unknown:"unknown"}},8471:(U,T,l)=>{l.d(T,{c:()=>C});var o=l(2159),t=l(1567),m=l(3037),F=l(271),p=l(5057),M=l(4435),D=l(4979),y=l(9148);const S={doOnDialogClosed:!0};let C=(()=>{class v extends D.V{constructor(h,u){super(),this.router=h,this.route=u,this.log=(0,M.T)({DialogRoutingService:v},S)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}getParam(h){return this.route.snapshot.paramMap.get(h)}getParams(h){const u=this.route.snapshot.paramMap;return h.reduce((k,_)=>(k[_]=u.get(_),k),{})}getQueryParam(h){return this.route.snapshot.queryParamMap.get(h)}getQueryParams(h){const u=this.route.snapshot.queryParamMap;return h.reduce((k,_)=>(k[_]=u.get(_),k),{})}state(){return this.router.getCurrentNavigation().extras?.state}doOnDialogClosed(h){const u=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(()=>h())),u.end()}urlSubRoute(h){const u=this.router.createUrlTree([h],{relativeTo:this.route});return this.router.serializeUrl(u)}navPath(h,u){return this.router.navigate([h],u)}navRelative(h,u){return this.router.navigate(h,{...u,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,t.p)(h=>h instanceof o.wF),(0,m.Z)(!!this.route.snapshot.firstChild),(0,F.T)(()=>!!this.route.snapshot.firstChild),(0,p.J)(),(0,t.p)(([h,u])=>h&&!u))}static{this.\u0275fac=function(u){return new(u||v)(y.KVO(o.Ix),y.KVO(o.nX))}}static{this.\u0275prov=y.jDH({token:v,factory:v.\u0275fac})}}return v})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.05.00/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts.a729d4d7b1df764c.js.map
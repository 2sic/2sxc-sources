(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"/ciH":function(e,t,n){"use strict";var i=n("PYp2"),o=n("SEb4"),a=n("TPB+"),r=/^(?:0|[1-9]\d*)$/,c=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t},s=n("HuQ3"),l=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),r=!n&&Object(i.a)(e),d=!n&&!r&&Object(a.a)(e),u=!n&&!r&&!d&&Object(s.a)(e),p=n||r||d||u,f=p?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],g=f.length;for(var b in e)!t&&!l.call(e,b)||p&&("length"==b||d&&("offset"==b||"parent"==b)||u&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||c(b,g))||f.push(b);return f}},"1/u/":function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n=0);var o=e.length===n+1?t:i.bind(this,e,t,n+1),a=e[n],r="string"==typeof a.test?a.test:null,c="function"==typeof a.test?a.test:null;if(null!=r&&window[r])t();else if(null!=c&&c())t();else{var s=document.querySelector('script[src="'+a.src+'"]');if(s)s.addEventListener("load",o,{once:!0});else{var l=document.createElement("script");l.src=a.src,l.addEventListener("load",o,{once:!0}),document.head.appendChild(l)}}}n.d(t,"a",(function(){return i}))},BaCy:function(e,t,n){"use strict";var i=n("lnqP"),o=n("qd5q"),a=n("FoV5");t.a=function(e){return Object(i.a)(e,a.a,o.a)}},CYhr:function(e,t,n){"use strict";var i=n("y7Du"),o=Object(i.a)(Object,"create"),a=Object.prototype.hasOwnProperty,r=Object.prototype.hasOwnProperty;function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=function(){this.__data__=o?o(null):{},this.size=0},c.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},c.prototype.get=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0},c.prototype.has=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)},c.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};var s=c,l=n("Go5w"),d=n("OJPH"),u=function(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}p.prototype.clear=function(){this.size=0,this.__data__={hash:new s,map:new(d.a||l.a),string:new s}},p.prototype.delete=function(e){var t=u(this,e).delete(e);return this.size-=t?1:0,t},p.prototype.get=function(e){return u(this,e).get(e)},p.prototype.has=function(e){return u(this,e).has(e)},p.prototype.set=function(e,t){var n=u(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},t.a=p},DHAC:function(e,t,n){"use strict";var i=n("Go5w"),o=n("OJPH"),a=n("CYhr");function r(e){var t=this.__data__=new i.a(e);this.size=t.size}r.prototype.clear=function(){this.__data__=new i.a,this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},r.prototype.get=function(e){return this.__data__.get(e)},r.prototype.has=function(e){return this.__data__.has(e)},r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.a){var r=n.__data__;if(!o.a||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a.a(r)}return n.set(e,t),this.size=n.size,this},t.a=r},FoV5:function(e,t,n){"use strict";var i=n("/ciH"),o=n("tyTC"),a=n("GIvL");t.a=function(e){return Object(a.a)(e)?Object(i.a)(e):Object(o.a)(e)}},Go5w:function(e,t,n){"use strict";var i=n("HVAe"),o=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}r.prototype.clear=function(){this.__data__=[],this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))},r.prototype.get=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]},r.prototype.has=function(e){return o(this.__data__,e)>-1},r.prototype.set=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},t.a=r},HVAe:function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},NUo7:function(e,t,n){"use strict";t.a=function(){return[]}},gFym:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},ji8j:function(e,t,n){"use strict";n.r(t);var i=n("D57K"),o=n("S6KJ"),a=n("LiEJ"),r=n("gQst"),c=n("iUUs"),s=n("sna8"),l=n("snle"),d=n("DwTn"),u=n("leiK"),p=n("Lh+r"),f=n("e7y7");function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(s.a)(e,void 0).lift(new b(n))}var b=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var o=e.call(this,t)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=i,o}return i.d(t,e),t.prototype._next=function(e){var t=this.iterators;Object(l.a)(e)?t.push(new v(e)):t.push("function"==typeof e[f.a]?new m(e[f.a]()):new y(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++)if("function"==typeof(r=e[i]).hasValue&&!r.hasValue())return;var o=!1,a=[];for(i=0;i<t;i++){var r,c=(r=e[i]).next();if(r.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(d.a),m=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),v=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[f.a]=function(){return this},e.prototype.next=function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),y=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return i.d(t,e),t.prototype[f.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,o){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(p.a)(this,this.observable,this,t)},t}(u.a),w=n("pN2L"),_=n("U3QC"),O=n("pday"),C=n("G2Mx"),x=n("QagP"),M=n("Jg5f"),P=n("z5yO"),I=n("AouM"),k=n("IMYO"),S=(n("qzOT"),n("gZep")),T=n("1C3z"),j=n("LR82"),V=n("ZSGP"),$=n("50eG"),E=n("nsG0"),D=n("W/Ou"),B=n("lqvn"),U=n("EfUY"),L=n("JXuk"),z=n("ubup"),A=function(){function e(e,t){this.eavService=e,this.validationMessagesService=t,this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.control=this.group.controls[this.config.field.name],this.settings$=this.config.field.settings$,this.label$=this.settings$.pipe(Object(M.a)((function(e){return e.Name}))),this.placeholder$=this.settings$.pipe(Object(M.a)((function(e){return e.Placeholder}))),this.required$=this.settings$.pipe(Object(M.a)((function(e){return U.a.isRequired(e)}))),this.invalid$=this.control.statusChanges.pipe(Object(M.a)((function(e){return"INVALID"===e})),Object(D.a)(this.control.invalid)),this.showValidation$=this.validationMessagesService.showValidation$.pipe(Object(P.a)((function(t){return t===e.control}))),this.value$=this.eavService.formValueChange$.pipe(Object(P.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(M.a)((function(t){return e.control.value})),Object(D.a)(this.control.value),Object(B.a)()),this.disabled$=this.eavService.formDisabledChange$.asObservable().pipe(Object(P.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(M.a)((function(t){return e.control.disabled})),Object(D.a)(this.control.disabled),Object(B.a)())},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(T.Pb(L.a),T.Pb(z.a))},e.\u0275dir=T.Kb({type:e,inputs:{config:"config",group:"group"}}),e}(),F=n("1MVu"),R=function(e){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=e},G=n("o9tz"),N=n("4UCL"),Q=n("mULc"),q=n("IMfk"),W=n("tPMb"),H=function(){function e(e,t,n,i,o){this.enabled=e,this.expires=t,this.id=n,this.isPublic=i,this.ui=o,this.enabled=e,this.expires=t,this.id=n,this.isPublic=i,this.ui=o}return e.createFeatureArray=function(t){var n=[];return t.forEach((function(t){n.push(new e(t.enabled,t.expires,t.id,t.public,t.ui))})),n},e}(),J=function(e){function t(t){return e.call(this,"Feature",t)||this}return Object(i.d)(t,e),t.prototype.loadFeatures=function(e){var t=H.createFeatureArray(e);this.addAllToCache(t)},t.prototype.isFeatureEnabled=function(e){var t=!1;return this.entities$.pipe(Object(C.a)(1)).subscribe((function(n){var i=n.find((function(t){return t.id===e}));null!=i&&(t=i.enabled)})),t},t.\u0275fac=function(e){return new(e||t)(T.Zb(W.b))},t.\u0275prov=T.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(W.a),K=n("dkRO"),X=n("0adC"),Z=n("8AiQ"),Y=n("pJJP"),ee=n("Qc/f"),te=n("r4gC"),ne=function(){function e(e,t){this.elementRef=e,this.featureService=t,this.eventListeners=[]}return e.prototype.ngOnInit=function(){if(this.featureService.isFeatureEnabled("f6b8d6da-4744-453b-9543-0de499aa2352")){switch(this.elementType){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}var e=this.handleImage.bind(this);this.elementRef.nativeElement.addEventListener("handleImage",e),this.eventListeners.push({element:this.elementRef.nativeElement,type:"handleImage",listener:e})}},e.prototype.ngOnDestroy=function(){this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener)}))},e.prototype.handleImage=function(e){Object($.a)("PASTE IMAGE","event:",e);var t=this.getFile(e.detail);this.config.dropzone.uploadFile(t)},e.prototype.getFile=function(e){var t=e.file;try{var n=new FormData;n.append("file",e.file,e.imageFileName),t=n.get("file")}catch(i){console.error("paste image error",i)}return t},e.\u0275fac=function(t){return new(t||e)(T.Pb(T.l),T.Pb(J))},e.\u0275dir=T.Kb({type:e,selectors:[["","appPasteClipboardImage",""]],inputs:{config:"config",elementType:"elementType"}}),e}(),ie=n("Zfm5"),oe=n("D3iX");function ae(e,t){1&e&&(T.Vb(0,"mat-icon"),T.Oc(1,"public"),T.Ub())}function re(e,t){1&e&&T.Qb(0,"mat-icon",12)}function ce(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",8),T.dc("click",(function(e){return T.Dc(n),T.hc(3).openUploadClick(e)})),T.ic(1,"translate"),T.Vb(2,"div",9),T.Vb(3,"mat-icon"),T.Oc(4,"cloud_upload"),T.Ub(),T.Vb(5,"div",10),T.Oc(6),T.ic(7,"translate"),T.Mc(8,ae,2,0,"mat-icon",0),T.Mc(9,re,1,0,"mat-icon",11),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=T.hc(2).ngIf;T.nc("matTooltip",T.jc(1,4,"Fields.Hyperlink.AdamFileManager.UploadTip")),T.Bb(6),T.Qc(" ",T.jc(7,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),T.Bb(2),T.nc("ngIf",i.adamConfig.usePortalRoot),T.Bb(1),T.nc("ngIf",!i.adamConfig.usePortalRoot)}}function se(e,t){1&e&&(T.Vb(0,"div",10),T.Oc(1),T.ic(2,"translate"),T.Ub()),2&e&&(T.Bb(1),T.Qc(" ",T.jc(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel")," "))}function le(e,t){1&e&&(T.Vb(0,"div",10),T.Oc(1),T.ic(2,"translate"),T.Ub()),2&e&&(T.Bb(1),T.Qc(" ",T.jc(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel")," "))}function de(e,t){if(1&e&&(T.Vb(0,"div",13,14),T.ic(2,"translate"),T.Vb(3,"div",9),T.Vb(4,"mat-icon"),T.Oc(5,"filter"),T.Ub(),T.Mc(6,se,3,3,"div",15),T.Mc(7,le,3,3,"div",15),T.Ub(),T.Ub()),2&e){var n=T.Bc(1),i=T.hc(3);T.nc("config",i.config)("elementType","element")("matTooltip",T.jc(2,5,"Fields.Hyperlink.AdamFileManager.UploadPasteTip")),T.Bb(6),T.nc("ngIf",!n.classList.contains("pastable-focus")),T.Bb(1),T.nc("ngIf",n.classList.contains("pastable-focus"))}}function ue(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",16),T.dc("click",(function(){return T.Dc(n),T.hc(3).addFolder()})),T.ic(1,"translate"),T.Vb(2,"div",9),T.Qb(3,"mat-icon",17),T.Vb(4,"div",18),T.Oc(5),T.ic(6,"translate"),T.Ub(),T.Ub(),T.Qb(7,"div",19),T.Ub()}2&e&&(T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.AdamFileManager.NewFolderTip")),T.Bb(5),T.Pc(T.jc(6,4,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function pe(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"div",16),T.dc("click",(function(){return T.Dc(n),T.hc(3).goUp()})),T.ic(2,"translate"),T.Vb(3,"div",9),T.Qb(4,"mat-icon",20),T.Vb(5,"div",18),T.Oc(6),T.ic(7,"translate"),T.Ub(),T.Ub(),T.Vb(8,"div",21),T.Vb(9,"mat-icon",22),T.Oc(10,"arrow_back"),T.Ub(),T.Ub(),T.Ub(),T.Sb()}2&e&&(T.Bb(1),T.nc("matTooltip",T.jc(2,2,"Fields.Hyperlink.AdamFileManager.BackFolderTip")),T.Bb(5),T.Pc(T.jc(7,4,"Fields.Hyperlink.AdamFileManager.BackFolder")))}var fe=function(e){return{"adam-button-disabled":e}};function ge(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",31),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).del(e)})),T.ic(1,"translate"),T.Oc(2,"clear "),T.Ub()}if(2&e){var i=T.hc(4).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",T.rc(4,fe,i.disabled))}}function be(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",32),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).rename(e)})),T.ic(1,"translate"),T.Oc(2,"edit "),T.Ub()}if(2&e){var i=T.hc(4).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",T.rc(4,fe,i.disabled))}}var he=function(e){return{"metadata-exists":e}};function me(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",33),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).editItemMetadata(e)})),T.Oc(1,"local_offer"),T.Ub()}if(2&e){var i=T.hc(2).$implicit;T.pc("matTooltip","",i._metadataContentType,": ",i.MetadataId,""),T.nc("ngClass",T.rc(3,he,i.MetadataId>0))}}function ve(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"div",23),T.dc("click",(function(){T.Dc(n);var e=T.hc().$implicit;return T.hc(3).goIntoFolder(e)})),T.Vb(2,"div",24),T.Qb(3,"mat-icon",20),T.Vb(4,"div",25),T.Oc(5),T.Ub(),T.Ub(),T.Vb(6,"div"),T.Mc(7,ge,3,6,"mat-icon",26),T.Mc(8,be,3,6,"mat-icon",27),T.Vb(9,"div",28),T.Vb(10,"div",29),T.Oc(11),T.Ub(),T.Ub(),T.Ub(),T.Mc(12,me,2,5,"mat-icon",30),T.Ub(),T.Sb()}if(2&e){var i=T.hc().$implicit,o=T.hc(2).ngIf;T.Bb(5),T.Pc(i.Name),T.Bb(1),T.Db("dz-details file-type-",i.Type,""),T.Bb(1),T.nc("ngIf",o.adamConfig.allowEdit),T.Bb(1),T.nc("ngIf",o.adamConfig.allowEdit),T.Bb(2),T.nc("title",i.Name),T.Bb(1),T.Pc(i.Name),T.Bb(1),T.nc("ngIf",i._metadataContentType)}}function ye(e,t){if(1&e&&(T.Vb(0,"mat-icon"),T.Oc(1),T.Ub()),2&e){var n=T.hc(3).$implicit;T.Bb(1),T.Pc(n._icon)}}function we(e,t){if(1&e&&T.Qb(0,"mat-icon",45),2&e){var n=T.hc(3).$implicit;T.nc("svgIcon",n._icon)}}function _e(e,t){if(1&e&&(T.Vb(0,"div",24),T.Mc(1,ye,2,1,"mat-icon",0),T.Mc(2,we,1,1,"mat-icon",44),T.Vb(3,"div",18),T.Oc(4),T.Ub(),T.Ub()),2&e){var n=T.hc(2).$implicit;T.Bb(1),T.nc("ngIf",n._isMaterialIcon),T.Bb(1),T.nc("ngIf",!n._isMaterialIcon),T.Bb(2),T.Pc(n.Name)}}function Oe(e,t){if(1&e&&(T.Vb(0,"div",46),T.Qb(1,"img",47),T.Ub()),2&e){var n=T.hc(2).$implicit;T.Bb(1),T.nc("alt",n.Id+":"+n.Name)("src",n.FullPath+"?w=120&h=120&mode=crop",T.Gc)}}function Ce(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",31),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).del(e)})),T.ic(1,"translate"),T.Oc(2,"clear "),T.Ub()}if(2&e){var i=T.hc(4).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",T.rc(4,fe,i.disabled))}}function xe(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",32),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).rename(e)})),T.ic(1,"translate"),T.Oc(2,"edit "),T.Ub()}if(2&e){var i=T.hc(4).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",T.rc(4,fe,i.disabled))}}function Me(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-icon",33),T.dc("click",(function(){T.Dc(n);var e=T.hc(2).$implicit;return T.hc(3).editItemMetadata(e)})),T.Oc(1,"local_offer"),T.Ub()}if(2&e){var i=T.hc(2).$implicit;T.pc("matTooltip","",i._metadataContentType,": ",i.MetadataId,""),T.nc("ngClass",T.rc(3,he,i.MetadataId>0))}}var Pe=function(e,t){return{"dz-success":e,"disable-select":t}};function Ie(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"div",34),T.dc("click",(function(){T.Dc(n);var e=T.hc().$implicit;return T.hc(3).select(e)})),T.ic(2,"async"),T.Mc(3,_e,5,3,"div",35),T.Mc(4,Oe,2,2,"div",36),T.Vb(5,"div"),T.Mc(6,Ce,3,6,"mat-icon",26),T.Mc(7,xe,3,6,"mat-icon",27),T.Vb(8,"div",28),T.Vb(9,"div",29),T.Oc(10),T.Ub(),T.Ub(),T.Vb(11,"div",37),T.Vb(12,"span"),T.Oc(13),T.Ub(),T.Ub(),T.Vb(14,"a",38),T.Vb(15,"mat-icon",39),T.ic(16,"translate"),T.Oc(17,"open_in_new"),T.Ub(),T.Ub(),T.Ub(),T.Mc(18,Me,2,5,"mat-icon",30),T.Vb(19,"div",40),T.gc(),T.Vb(20,"svg",41),T.Vb(21,"title"),T.Oc(22,"Check"),T.Ub(),T.Qb(23,"defs"),T.Vb(24,"g",42),T.Qb(25,"path",43),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Sb()}if(2&e){var i=T.hc().$implicit,o=T.hc(2).ngIf,a=T.hc();T.Bb(1),T.nc("ngClass",T.sc(21,Pe,T.jc(2,17,a.value$)==="file:"+i.Id,!o.adamConfig.enableSelect)),T.Bb(2),T.nc("ngIf","image"!==i.Type),T.Bb(1),T.nc("ngIf","image"===i.Type),T.Bb(1),T.Db("dz-details file-type-",i.Type,""),T.Bb(1),T.nc("ngIf",o.adamConfig.allowEdit),T.Bb(1),T.nc("ngIf",o.adamConfig.allowEdit),T.Bb(2),T.nc("title",i.Name),T.Bb(1),T.Pc(i.Name),T.Bb(1),T.pc("title","#",i.Id," - ",i._displaySize," KB"),T.Bb(2),T.Rc("#",i.Id," - ",i._displaySize," KB"),T.Bb(1),T.nc("href",i.FullPath,T.Gc),T.Bb(1),T.nc("matTooltip",T.jc(16,19,"Fields.Hyperlink.AdamFileManager.Show")),T.Bb(3),T.nc("ngIf",i._metadataContentType)}}function ke(e,t){if(1&e&&(T.Tb(0),T.Mc(1,ve,13,9,"ng-container",0),T.Mc(2,Ie,26,24,"ng-container",0),T.Sb()),2&e){var n=t.$implicit;T.Bb(1),T.nc("ngIf",n.IsFolder),T.Bb(1),T.nc("ngIf",!n.IsFolder)}}var Se=function(e,t){return{"adam-scope-site":e,"adam-scope-field":t}};function Te(e,t){if(1&e&&(T.Vb(0,"div",3),T.Mc(1,ce,10,8,"div",4),T.Mc(2,de,8,7,"div",5),T.Mc(3,ue,8,6,"div",6),T.Mc(4,pe,11,6,"ng-container",0),T.Mc(5,ke,3,2,"ng-container",7),T.ic(6,"async"),T.Ub()),2&e){var n=T.hc().ngIf,i=T.hc();T.nc("ngClass",T.sc(9,Se,n.adamConfig.usePortalRoot,!n.adamConfig.usePortalRoot)),T.Bb(1),T.nc("ngIf",!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),T.Bb(1),T.nc("ngIf",i.pasteClipboardImage&&!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),T.Bb(1),T.nc("ngIf",!n.adamConfig.maxDepthReached&&!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),T.Bb(1),T.nc("ngIf",""!==n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder!==n.adamConfig.rootSubfolder),T.Bb(1),T.nc("ngForOf",T.jc(6,7,i.items$))("ngForTrackBy",i.trackByFn)}}function je(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"div",1),T.Mc(2,Te,7,12,"div",2),T.ic(3,"async"),T.Ub(),T.Sb()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("@adamShowAnimate",null!=n.adamConfig&&n.adamConfig.autoLoad?"open":"closed"),T.Bb(1),T.nc("ngIf",(null==n.adamConfig?null:n.adamConfig.autoLoad)&&T.jc(3,2,i.expanded$))}}var Ve=function(e,t){return{adamConfig:e,disabled:t}},$e=function(){function e(e,t,n,i,o,r,c){this.adamService=e,this.fileTypeService=t,this.featureService=n,this.dnnContext=i,this.eavService=o,this.editRoutingService=r,this.zone=c,this.openUpload=new T.n,this.adamConfig$=new a.a(null),this.items$=new a.a([]),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.control=this.group.controls[this.config.field.name],this.refreshOnChildClosed(),this.url=this.dnnContext.$2sxc.http.apiUrl("app-content/"+this.config.entity.header.ContentTypeName+"/"+this.config.entity.header.Guid+"/"+this.config.field.name),this.pasteClipboardImage=this.featureService.isFeatureEnabled("f6b8d6da-4744-453b-9543-0de499aa2352"),this.config.adam={items$:this.items$.asObservable(),toggle:function(t,n){e.zone.run((function(){e.toggle(t,n)}))},setConfig:function(t){e.zone.run((function(){e.setConfig(t)}))},getConfig:function(){return e.adamConfig$.value},getConfig$:function(){return e.adamConfig$.asObservable()},onItemClick:function(){},onItemUpload:function(){},refresh:function(){e.zone.run((function(){e.fetchItems()}))},addFullPath:function(t){e.adamService.addFullPath(t)}},this.subscription.add(this.adamConfig$.subscribe((function(t){e.fetchItems()}))),this.expanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.value$=this.eavService.formValueChange$.pipe(Object(P.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(M.a)((function(t){return e.control.value})),Object(D.a)(this.control.value),Object(B.a)()),this.disabled$=this.eavService.formDisabledChange$.asObservable().pipe(Object(P.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(M.a)((function(t){return e.control.disabled})),Object(D.a)(this.control.disabled),Object(B.a)())},e.prototype.ngOnDestroy=function(){this.adamConfig$.complete(),this.items$.complete(),this.subscription.unsubscribe()},e.prototype.addFolder=function(){var e=this;if(!this.control.disabled){var t=window.prompt("Please enter a folder name");t&&this.adamService.addFolder(t,this.url,this.adamConfig$.value).subscribe((function(t){e.fetchItems()}))}},e.prototype.del=function(e){var t=this;this.control.disabled||window.confirm("Are you sure you want to delete this item?")&&this.adamService.deleteItem(e,this.url,this.adamConfig$.value).subscribe((function(e){t.fetchItems()}))},e.prototype.editItemMetadata=function(e){this.editRoutingService.open(this.config.field.index,this.config.entity.entityGuid,{items:[0===e.MetadataId?{ContentTypeName:e._metadataContentType,For:{Target:G.a.metadata.cmsObject.target,String:("folder"===e.Type?"folder":"file")+":"+e.Id}}:{EntityId:e.MetadataId}]})},e.prototype.goUp=function(){var e=this.adamConfig$.value.subfolder;e=e.includes("/")?e.slice(0,e.lastIndexOf("/")):"",this.config.adam.setConfig({subfolder:e})},e.prototype.getMetadataContentType=function(e){var t;return"folder"===e.Type?(t=this.adamConfig$.value.metadataContentTypes.match(/^(folder)(:)([^\n]*)/im))?t[3]:null:(t=this.adamConfig$.value.metadataContentTypes.match(/^([^:\n]*)(\n|$)/im))?t[1]:null},e.prototype.goIntoFolder=function(e){var t=this.adamConfig$.value.subfolder;this.config.adam.setConfig({subfolder:t=t?t+"/"+e.Name:e.Name})},e.prototype.openUploadClick=function(e){this.openUpload.emit()},e.prototype.rename=function(e){var t=this;if(!this.control.disabled){var n=window.prompt("Rename the file / folder to: ",e.Name);n&&this.adamService.rename(e,n,this.url,this.adamConfig$.value).subscribe((function(e){t.fetchItems()}))}},e.prototype.select=function(e){!this.control.disabled&&this.adamConfig$.value.enableSelect&&this.config.adam.onItemClick(e)},e.prototype.fetchItems=function(){var e=this,t=this.adamConfig$.value;null!=t&&t.autoLoad&&this.adamService.getAll(this.url,t).subscribe((function(n){var o,a,r=[],c=t.fileFilter?t.fileFilter.split(",").map((function(e){return e.replace("*","").trim()})):[];try{for(var s=Object(i.i)(n),l=s.next();!l.done;l=s.next()){var d=l.value;if("."!==d.Name){if("2sxc"!==d.Name&&"adam"!==d.Name&&(d.IsFolder||!t.showImagesOnly||"image"===d.Type)&&(!d.IsFolder||!t.maxDepthReached)){if(c.length>0){var u=d.Name.substring(d.Name.lastIndexOf("."));if(!c.includes(u))continue}d._metadataContentType=e.getMetadataContentType(d),d._icon=e.fileTypeService.getIconClass(d.Name),d._isMaterialIcon=e.fileTypeService.isKnownType(d.Name),d._displaySize=(d.Size/1024).toFixed(0),r.push(d)}}else{var p=d.AllowEdit;p!==t.allowEdit&&e.config.adam.setConfig({allowEdit:p})}}}catch(f){o={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}r.sort((function(e,t){return e.Name.toLocaleLowerCase().localeCompare(t.Name.toLocaleLowerCase())})),r.sort((function(e,t){return t.IsFolder.toString().localeCompare(e.IsFolder.toString())})),e.items$.next(r)}))},e.prototype.toggle=function(e,t){var n=Object(i.a)(Object(i.a)({},this.adamConfig$.value),{usePortalRoot:e,showImagesOnly:t});JSON.stringify(n)===JSON.stringify(this.adamConfig$.value)?n.autoLoad=!n.autoLoad:n.autoLoad||(n.autoLoad=!0),this.config.adam.setConfig(n)},e.prototype.trackByFn=function(e,t){return t.Id},e.prototype.setConfig=function(e){var t,n,o=this.config.field.isExternal,a=null!=this.adamConfig$.value?this.adamConfig$.value:new R(o),r=new R(o),c=Object.keys(r);try{for(var s=Object(i.i)(c),l=s.next();!l.done;l=s.next()){var d=l.value;r[d]=null!=e[d]?e[d]:a[d]}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(a.usePortalRoot!==r.usePortalRoot&&(r.subfolder=""),r.usePortalRoot&&(r.rootSubfolder.includes("\\")&&(r.rootSubfolder=r.rootSubfolder.replace(/\\/g,"/")),r.rootSubfolder.startsWith("/")&&(r.rootSubfolder=r.rootSubfolder.replace("/","")),!r.subfolder.startsWith(r.rootSubfolder)&&(r.subfolder=r.rootSubfolder),r.maxDepthReached=!1),!r.usePortalRoot)if((r.subfolder?r.subfolder.split("/").length:0)>=r.folderDepth){var u=r.subfolder.split("/");u=u.slice(0,r.folderDepth),r.subfolder=u.join("/"),r.maxDepthReached=!0}else r.maxDepthReached=!1;this.adamConfig$.next(r);var p=this.config.dropzone.getConfig(),f={},g=N.a.getUrlParams(p.url);if((g.subfolder||"")!==r.subfolder||g.usePortalRoot!==r.usePortalRoot.toString()){var b=p.url;b=N.a.replaceUrlParam(b,"subfolder",r.subfolder),b=N.a.replaceUrlParam(b,"usePortalRoot",r.usePortalRoot.toString()),f.url=b}var h=!r.allowEdit||(""===r.subfolder||r.usePortalRoot&&r.subfolder===r.rootSubfolder)&&!r.allowAssetsInRoot;p.disabled!==h&&(f.disabled=h),Object.keys(f).length>0&&this.config.dropzone.setConfig(f)},e.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.editRoutingService.childFormClosed().subscribe((function(t){e.fetchItems()})))},e.\u0275fac=function(t){return new(t||e)(T.Pb(Q.a),T.Pb(q.a),T.Pb(J),T.Pb(K.a),T.Pb(L.a),T.Pb(X.a),T.Pb(T.z))},e.\u0275cmp=T.Jb({type:e,selectors:[["adam-browser"]],inputs:{config:"config",group:"group"},outputs:{openUpload:"openUpload"},decls:3,vars:8,consts:[[4,"ngIf"],[1,"dropzone"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","dz-preview dropzone-adam",3,"matTooltip","click",4,"ngIf"],["appPasteClipboardImage","","class","dz-preview dropzone-adam paste-image",3,"config","elementType","matTooltip",4,"ngIf"],["class","dz-preview",3,"matTooltip","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dz-preview","dropzone-adam",3,"matTooltip","click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","appleFilled",4,"ngIf"],["svgIcon","appleFilled"],["appPasteClipboardImage","",1,"dz-preview","dropzone-adam","paste-image",3,"config","elementType","matTooltip"],["pasteDiv",""],["class","adam-upload-label",4,"ngIf"],[1,"dz-preview",3,"matTooltip","click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],["appClickStopPropagation","","class","adam-delete-button",3,"matTooltip","ngClass","click",4,"ngIf"],["appClickStopPropagation","","class","adam-rename-button",3,"matTooltip","ngClass","click",4,"ngIf"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["class","adam-tag","appClickStopPropagation","",3,"ngClass","matTooltip","click",4,"ngIf"],["appClickStopPropagation","",1,"adam-delete-button",3,"matTooltip","ngClass","click"],["appClickStopPropagation","",1,"adam-rename-button",3,"matTooltip","ngClass","click"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","matTooltip","click"],[1,"dz-preview",3,"ngClass","click"],["class","dz-image adam-blur adam-browse-background-icon adam-browse-background",4,"ngIf"],["class","dz-image adam-browse-background-image",4,"ngIf"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],[3,"matTooltip"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"],[1,"dz-image","adam-browse-background-image"],["data-dz-thumbnail","",3,"alt","src"]],template:function(e,t){1&e&&(T.Mc(0,je,4,4,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,Ve,T.jc(1,1,t.adamConfig$),T.jc(2,3,t.disabled$)))},directives:[Z.m,Z.k,Y.a,Z.l,ee.a,te.a,ne,ie.a],pipes:[Z.b,oe.d],styles:['.metadata-exists[_ngcontent-%COMP%]{color:#0088f4}.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .adam-tag[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{font-size:large;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{left:4px;color:rgba(0,0,0,.9)}.adam-delete-button[_ngcontent-%COMP%], .adam-link-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{right:4px;cursor:pointer;font-weight:700}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#0088f4}.adam-button-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24);cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0}.dz-details[_ngcontent-%COMP%], .dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text}.adam-short-label[_ngcontent-%COMP%], .adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.8);border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before, .mce-ico[class^=icon-][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.dropzone.dz-drag-hover[_ngcontent-%COMP%], .eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069bf;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone-previews[_ngcontent-%COMP%]{margin:5px -5px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(180deg,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:rgba(0,0,0,.9);line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,78.4%,.8);background-color:hsla(0,0%,100%,.8)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.4);padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{-webkit-animation:passing-through 3s cubic-bezier(.77,0,.175,1);animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;-webkit-animation:slide-in 3s cubic-bezier(.77,0,.175,1);animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{-webkit-animation:pulse 6s ease infinite;animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:hsla(0,0%,100%,.9);-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(180deg,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(180deg,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}'],data:{animation:[Object(F.n)("adamShowAnimate",[Object(F.k)("closed",Object(F.l)({height:"0",overflow:"hidden"})),Object(F.k)("open",Object(F.l)({height:"*",overflow:"hidden"})),Object(F.m)("closed => open",[Object(F.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]},changeDetection:0}),e}(),Ee=n("obyE"),De=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T.Jb({type:e,selectors:[["adam-hint"]],decls:18,vars:9,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1",1,"adam-link",3,"matTooltip"],["svgIcon","appleFilled"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(e,t){1&e&&(T.Qb(0,"mat-divider"),T.Vb(1,"div",0),T.Vb(2,"div",1),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Vb(5,"div",2),T.Vb(6,"a",3),T.ic(7,"translate"),T.Qb(8,"mat-icon",4),T.Vb(9,"span"),T.Oc(10,"Adam"),T.Ub(),T.Ub(),T.Oc(11," \xa0 "),T.Vb(12,"span"),T.Oc(13),T.ic(14,"translate"),T.Ub(),T.Oc(15," \xa0 "),T.Vb(16,"a",5),T.Oc(17,"2sic.com"),T.Ub(),T.Ub(),T.Ub()),2&e&&(T.Bb(3),T.Pc(T.jc(4,3,"Fields.Hyperlink.AdamFileManager.Hint")),T.Bb(3),T.nc("matTooltip",T.jc(7,5,"Fields.Hyperlink.AdamFileManager.SponsorTooltip")),T.Bb(7),T.Pc(T.jc(14,7,"Fields.Hyperlink.AdamFileManager.SponsorLine")))},directives:[Ee.a,ee.a,te.a],pipes:[oe.d],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:rgba(29,39,61,.44);display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"],changeDetection:0}),e}(),Be=["fieldComponent"],Ue=["invisibleClickable"],Le=function(e,t){return{"adam-browser-container--short u-hide-scrollbar":e,"u-display-none":t}},ze=function(e){return{"u-display-none":e}},Ae=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.adamDisabled$=new a.a(!0),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.fullscreenAdam=this.config.field.inputType===E.a.HyperlinkLibrary},t.prototype.ngAfterViewInit=function(){var e=this;this.subscription.add(this.config.adam.getConfig$().subscribe((function(t){null!=t&&e.adamDisabled$.next(t.disabled)})))},t.prototype.ngOnDestroy=function(){this.adamDisabled$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.openUpload=function(){this.invisibleClickableRef.nativeElement.click()},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-adam-attach-wrapper"]],viewQuery:function(e,t){var n;1&e&&(T.Jc(Be,!0,T.O),T.Uc(Ue,!0)),2&e&&(T.Ac(n=T.ec())&&(t.fieldComponent=n.first),T.Ac(n=T.ec())&&(t.invisibleClickableRef=n.first))},features:[T.yb],decls:13,vars:21,consts:[[1,"adam-dialog-container"],[1,"adam-dialog-content"],["fieldComponent",""],[1,"u-shadow-top",3,"config","group","ngClass","openUpload"],[3,"ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],["invisibleClickable",""],[1,"field-hints",3,"ngClass"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.Rb(2,null,2),T.Ub(),T.Vb(4,"adam-browser",3),T.dc("openUpload",(function(){return t.openUpload()})),T.ic(5,"async"),T.Ub(),T.Vb(6,"div",4),T.ic(7,"async"),T.Qb(8,"div",5),T.Qb(9,"span",6,7),T.Ub(),T.Qb(11,"adam-hint",8),T.ic(12,"async"),T.Ub()),2&e&&(T.Bb(4),T.nc("config",t.config)("group",t.group)("ngClass",T.sc(14,Le,!t.fullscreenAdam,T.jc(5,8,t.adamDisabled$))),T.Bb(2),T.Db("field-",t.config.field.index,""),T.nc("ngClass",T.rc(17,ze,T.jc(7,10,t.adamDisabled$))),T.Bb(5),T.nc("ngClass",T.rc(19,ze,T.jc(12,12,t.adamDisabled$))))},directives:[$e,Z.k,Y.a,De],pipes:[Z.b],styles:[".adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}"],changeDetection:0}),t}(A),Fe=n("oi6A"),Re=["fieldComponent"],Ge=function(e){return{display:e}},Ne=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.collapse$=new a.a(!0),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){this.collapse$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleCollapse=function(){this.collapse$.next(!this.collapse$.value)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-collapsible-field-wrapper"]],viewQuery:function(e,t){var n;1&e&&T.Jc(Re,!0,T.O),2&e&&T.Ac(n=T.ec())&&(t.fieldComponent=n.first)},features:[T.yb],decls:14,vars:14,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"mat-card-header-group-child"],["fxFlex","auto","fxLayoutAlign","start center",1,"mat-caption",3,"click"],["fxLayoutAlign","start center",1,"mat-caption","field-title"],[2,"padding-top","8px",3,"ngStyle"],["fieldComponent",""]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.dc("click",(function(){return t.toggleCollapse()})),T.Vb(2,"div",2),T.Vb(3,"mat-icon"),T.Oc(4),T.ic(5,"async"),T.Ub(),T.Vb(6,"span"),T.Oc(7),T.ic(8,"async"),T.ic(9,"async"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(10,"div",3),T.ic(11,"async"),T.Rb(12,null,4),T.Ub()),2&e&&(T.Bb(4),T.Qc(" ",T.jc(5,4,t.collapse$)?"keyboard_arrow_down":"keyboard_arrow_up",""),T.Bb(3),T.Rc("",T.jc(8,6,t.label$),"\xa0",T.jc(9,8,t.required$)?"*":"",""),T.Bb(3),T.nc("ngStyle",T.rc(12,Ge,T.jc(11,10,t.collapse$)?"none":"block")))},directives:[Fe.c,Fe.b,Fe.a,te.a,Z.n,Y.c],pipes:[Z.b],styles:[".mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;margin-right:8px}.field-title[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t}(A),Qe=n("qRWW"),qe=n("DHBU"),We=n("ywpU"),He=n("C+g0"),Je=function(e){function t(t){return e.call(this,"ContentType",t)||this}return Object(i.d)(t,e),t.prototype.addContentTypes=function(e){var t=e.map((function(e){return He.a.create(e)}));this.addManyToCache(t)},t.prototype.getContentTypeById=function(e){return this.entities$.pipe(Object(M.a)((function(t){return t.find((function(t){return t.contentType.id===e}))})))},t.\u0275fac=function(e){return new(e||t)(T.Zb(W.b))},t.\u0275prov=T.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(W.a),Ke=n("Bata"),Xe=n("F7GT"),Ze=n("DHAC"),Ye=n("CYhr");function et(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ye.a;++t<n;)this.add(e[t])}et.prototype.add=et.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},et.prototype.has=function(e){return this.__data__.has(e)};var tt=et,nt=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},it=function(e,t,n,i,o,a){var r=1&n,c=e.length,s=t.length;if(c!=s&&!(r&&s>c))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var d=-1,u=!0,p=2&n?new tt:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var f=e[d],g=t[d];if(i)var b=r?i(g,f,d,t,e,a):i(f,g,d,e,t,a);if(void 0!==b){if(b)continue;u=!1;break}if(p){if(!nt(t,(function(e,t){if(!p.has(t)&&(f===e||o(f,e,n,i,a)))return p.push(t)}))){u=!1;break}}else if(f!==g&&!o(f,g,n,i,a)){u=!1;break}}return a.delete(e),a.delete(t),u},ot=n("GAvS"),at=n("mY74"),rt=n("HVAe"),ct=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},st=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},lt=ot.a?ot.a.prototype:void 0,dt=lt?lt.valueOf:void 0,ut=n("BaCy"),pt=Object.prototype.hasOwnProperty,ft=n("EaxY"),gt=n("SEb4"),bt=n("TPB+"),ht=n("HuQ3"),mt="[object Object]",vt=Object.prototype.hasOwnProperty,yt=n("gfy7"),wt=function(e,t){return function e(t,n,i,o,a){return t===n||(null==t||null==n||!Object(yt.a)(t)&&!Object(yt.a)(n)?t!=t&&n!=n:function(e,t,n,i,o,a){var r=Object(gt.a)(e),c=Object(gt.a)(t),s=r?"[object Array]":Object(ft.a)(e),l=c?"[object Array]":Object(ft.a)(t),d=(s="[object Arguments]"==s?mt:s)==mt,u=(l="[object Arguments]"==l?mt:l)==mt,p=s==l;if(p&&Object(bt.a)(e)){if(!Object(bt.a)(t))return!1;r=!0,d=!1}if(p&&!d)return a||(a=new Ze.a),r||Object(ht.a)(e)?it(e,t,n,i,o,a):function(e,t,n,i,o,a,r){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new at.a(e),new at.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(rt.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=ct;case"[object Set]":if(c||(c=st),e.size!=t.size&&!(1&i))return!1;var s=r.get(e);if(s)return s==t;i|=2,r.set(e,t);var l=it(c(e),c(t),i,o,a,r);return r.delete(e),l;case"[object Symbol]":if(dt)return dt.call(e)==dt.call(t)}return!1}(e,t,s,n,i,o,a);if(!(1&n)){var f=d&&vt.call(e,"__wrapped__"),g=u&&vt.call(t,"__wrapped__");if(f||g){var b=f?e.value():e,h=g?t.value():t;return a||(a=new Ze.a),o(b,h,n,i,a)}}return!!p&&(a||(a=new Ze.a),function(e,t,n,i,o,a){var r=1&n,c=Object(ut.a)(e),s=c.length;if(s!=Object(ut.a)(t).length&&!r)return!1;for(var l=s;l--;){var d=c[l];if(!(r?d in t:pt.call(t,d)))return!1}var u=a.get(e);if(u&&a.get(t))return u==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=r;++l<s;){var g=e[d=c[l]],b=t[d];if(i)var h=r?i(b,g,d,t,e,a):i(g,b,d,e,t,a);if(!(void 0===h?g===b||o(g,b,n,i,a):h)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var m=e.constructor,v=t.constructor;m!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,i,o,a))}(t,n,i,o,e,a))}(e,t)},_t=n("nwk6"),Ot=n("BLjT"),Ct=n("3riI"),xt=function(){function e(){}return e.Translate="translate",e.DontTranslate="dontTranslate",e.MissingDefaultLangValue="missingDefaultLangValue",e.LinkReadOnly="linkReadOnly",e.LinkReadWrite="linkReadWrite",e.LinkCopyFrom="linkCopyFrom",e}(),Mt=function(){function e(){}return e.NoTranslate="NoTranslate",e.FromPrimary="FromPrimary",e.FromOther="FromOther",e.LinkReadOnly="LinkReadOnly",e.LinkShared="LinkShared",e}(),Pt=n("+Isi"),It=n("t4s+"),kt=n("9HSk"),St=n("OeRG");function Tt(e,t){1&e&&T.Rb(0)}function jt(e,t){1&e&&T.Rb(0)}function Vt(e,t){1&e&&T.Rb(0)}function $t(e,t){1&e&&T.Rb(0)}function Et(e,t){1&e&&T.Rb(0)}var Dt=function(e){return{"mat-list-item-focus":e}},Bt=function(e){return{primary:e}};function Ut(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-list-item",11),T.dc("click",(function(){T.Dc(n);var e=t.i18nKey;return T.hc(2).select(e)})),T.Vb(1,"mat-icon",12),T.Oc(2),T.Ub(),T.Vb(3,"div",13),T.Oc(4),T.ic(5,"translate"),T.Ub(),T.Vb(6,"div",14),T.Oc(7),T.ic(8,"translate"),T.Ub(),T.Ub()}if(2&e){var i=t.icon,o=t.link,a=t.i18nKey,r=T.hc().ngIf,c=T.hc();T.nc("ngClass",T.rc(10,Dt,r.selected.linkType===o)),T.Bb(2),T.Pc(i),T.Bb(2),T.Qc(" ",T.kc(5,4,"LangMenu.Dialog."+a+".Title",T.rc(12,Bt,c.dialogData.defaultLanguage)),""),T.Bb(3),T.Qc(" ",T.kc(8,7,"LangMenu.Dialog."+a+".Body",T.rc(14,Bt,c.dialogData.defaultLanguage)),"")}}var Lt=function(e,t){return{"mat-list-item-focus":e,"mat-list-item--disabled":t}};function zt(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",16),T.dc("click",(function(){T.Dc(n);var e=t.$implicit;return T.hc(3).selectLanguage(e.key)})),T.Vb(1,"mat-icon",12),T.Oc(2,"language"),T.Ub(),T.Oc(3),T.Ub()}if(2&e){var i=t.$implicit,o=T.hc(2).ngIf,a=T.hc();T.nc("disabled",a.isLanguageDisabled(i.key))("ngClass",T.sc(3,Lt,o.selected.language===i.key,a.isLanguageDisabled(i.key))),T.Bb(3),T.Qc(" ",i.key," ")}}function At(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"div",2),T.Vb(2,"div",3),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Vb(5,"div",4),T.Oc(6),T.ic(7,"translate"),T.Ub(),T.Ub(),T.Vb(8,"mat-action-list"),T.Mc(9,zt,4,6,"button",15),T.Ub(),T.Ub()),2&e){var n=T.hc().ngIf;T.Bb(3),T.Qc(" ",T.jc(4,3,n.i18nRoot+".Subtitle")," "),T.Bb(3),T.Qc(" ",T.jc(7,5,"LangMenu.Dialog.PickLanguageIntro")," "),T.Bb(3),T.nc("ngForOf",n.languages)}}var Ft=function(e){return{name:e}},Rt=function(e,t){return{link:e,icon:"lock",i18nKey:t}},Gt=function(e,t){return{link:e,icon:"lock_open",i18nKey:t}},Nt=function(e,t){return{link:e,icon:"translate",i18nKey:t}},Qt=function(e,t){return{link:e,icon:"link",i18nKey:t}},qt=function(e,t){return{link:e,icon:"share",i18nKey:t}};function Wt(e,t){if(1&e&&(T.Vb(0,"mat-card",1),T.Vb(1,"div",2),T.Vb(2,"div",3),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Vb(5,"div",4),T.Oc(6),T.ic(7,"translate"),T.Ub(),T.Ub(),T.Vb(8,"mat-nav-list",5),T.Mc(9,Tt,1,0,"ng-container",6),T.Mc(10,jt,1,0,"ng-container",6),T.Mc(11,Vt,1,0,"ng-container",6),T.Mc(12,$t,1,0,"ng-container",6),T.Mc(13,Et,1,0,"ng-container",6),T.Ub(),T.Mc(14,Ut,9,16,"ng-template",null,7,T.Nc),T.Mc(16,At,10,7,"div",8),T.Vb(17,"mat-dialog-actions",9),T.Vb(18,"button",10),T.Oc(19,"OK"),T.Ub(),T.Ub(),T.Ub()),2&e){var n=t.ngIf,i=T.Bc(15),o=T.hc();T.Bb(3),T.Qc(" ",T.kc(4,15,"LangMenu.Dialog.Title",T.rc(20,Ft,o.dialogData.attributeKey))," "),T.Bb(3),T.Qc(" ",T.jc(7,18,"LangMenu.Dialog.Intro")," "),T.Bb(3),T.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",T.sc(22,Rt,o.TranslationLinks.DontTranslate,o.I18nKeys.NoTranslate)),T.Bb(1),T.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",T.sc(25,Gt,o.TranslationLinks.Translate,o.I18nKeys.FromPrimary)),T.Bb(1),T.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",T.sc(28,Nt,o.TranslationLinks.LinkCopyFrom,o.I18nKeys.FromOther)),T.Bb(1),T.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",T.sc(31,Qt,o.TranslationLinks.LinkReadOnly,o.I18nKeys.LinkReadOnly)),T.Bb(1),T.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",T.sc(34,qt,o.TranslationLinks.LinkReadWrite,o.I18nKeys.LinkShared)),T.Bb(3),T.nc("ngIf",n.showLanguages),T.Bb(2),T.nc("disabled",o.isOkDisabled(n.selected))("mat-dialog-close",n.selected)}}var Ht=function(e,t,n,i){return{languages:e,selected:t,showLanguages:n,i18nRoot:i}},Jt=function(){function e(e,t,n){this.dialogData=e,this.languageService=t,this.languageInstanceService=n,this.TranslationLinks=xt,this.I18nKeys=Mt,this.selected$=new a.a(Object(i.a)({},this.dialogData)),this.showLanguages$=new a.a(""!==this.dialogData.language);var o=function(e){switch(e){case xt.Translate:return Mt.FromPrimary;case xt.DontTranslate:return Mt.NoTranslate;case xt.LinkReadOnly:return Mt.LinkReadOnly;case xt.LinkReadWrite:return Mt.LinkShared;case xt.LinkCopyFrom:return Mt.FromOther}}(this.dialogData.linkType);this.i18nRoot$=new a.a("LangMenu.Dialog."+o)}return e.prototype.ngOnInit=function(){this.languages$=Object(Ct.a)([this.languageService.entities$,this.languageInstanceService.getCurrentLanguage(this.dialogData.formId)]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,2),n=t[1];return t[0].filter((function(e){return e.key!==n}))})))},e.prototype.ngOnDestroy=function(){this.selected$.complete(),this.showLanguages$.complete(),this.i18nRoot$.complete()},e.prototype.select=function(e){var t=e!==Mt.FromPrimary&&e!==Mt.NoTranslate,n=Object(i.a)({},this.selected$.value);t||(n.language=""),n.linkType=function(e){switch(e){case Mt.FromPrimary:return xt.Translate;case Mt.NoTranslate:return xt.DontTranslate;case Mt.LinkReadOnly:return xt.LinkReadOnly;case Mt.LinkShared:return xt.LinkReadWrite;case Mt.FromOther:return xt.LinkCopyFrom}}(e),this.showLanguages$.next(t),this.selected$.next(n),this.i18nRoot$.next("LangMenu.Dialog."+e)},e.prototype.selectLanguage=function(e){this.selected$.next(Object(i.a)(Object(i.a)({},this.selected$.value),{language:e}))},e.prototype.isOkDisabled=function(e){return""===e.language&&e.linkType!==xt.Translate&&e.linkType!==xt.DontTranslate},e.prototype.isLanguageDisabled=function(e){return!this.dialogData.attributes||!Qe.a.isEditableTranslationExist(this.dialogData.attributes[this.dialogData.attributeKey],e,this.dialogData.defaultLanguage)},e.\u0275fac=function(t){return new(t||e)(T.Pb(Ot.a),T.Pb(Pt.a),T.Pb(We.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-link-to-other-language"]],decls:5,vars:14,consts:[["class","link-other-lang-container u-hide-scrollbar",4,"ngIf"],[1,"link-other-lang-container","u-hide-scrollbar"],[1,"mat-card__header"],[1,"mat-card__title"],[1,"mat-card__description"],["toggle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["item",""],[4,"ngIf"],["fxLayoutAlign","end center"],["mat-button","","color","accent",3,"disabled","mat-dialog-close"],[3,"ngClass","click"],["matListIcon","","color","accent"],["matLine","",1,"mat-list-item__title"],["matLine","",1,"mat-list-item__body"],["mat-list-item","",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["mat-list-item","",3,"disabled","ngClass","click"]],template:function(e,t){1&e&&(T.Mc(0,Wt,20,37,"mat-card",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async")),2&e&&T.nc("ngIf",T.uc(9,Ht,T.jc(1,1,t.languages$),T.jc(2,3,t.selected$),T.jc(3,5,t.showLanguages$),T.jc(4,7,t.i18nRoot$)))},directives:[Z.m,Ke.a,It.e,Z.r,Ot.c,Fe.b,kt.a,Ot.d,It.c,Z.k,Y.a,te.a,It.b,St.i,It.a,Z.l],pipes:[Z.b,oe.d],styles:[".link-other-lang-container[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.mat-list-item-focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.mat-list-item--disabled[_ngcontent-%COMP%]{cursor:default;color:rgba(29,39,61,.24)}"],changeDetection:0}),e}(),Kt=function(){function e(){}return e.calculateSharedInfoMessage=function(t,n){t=e.calculateShortDimensions(t,n);var i=e.calculateEditAndReadDimensions(t),o=i.editableDimensions,a=i.readOnlyDimensions,r="",c=o.length>0,s=a.length>0;return c&&s?r=o.join(", ")+", ("+a.join(", ")+")":c?r=o.join(", "):s&&(r="("+a.join(", ")+")"),r},e.calculateShortDimensions=function(e,t){var n={},i=t.slice(0,t.indexOf("-"));return n[i]=[],n[i].push(i),e.forEach((function(e){var t=e.slice(0,e.indexOf("-")).replace("~","");n[t]?n[t].push(e):(n[t]=[],n[t].push(e))})),e.map((function(e){var t=e.slice(0,e.indexOf("-")),i=t.replace("~","");return n[i].length>1?e:t}))},e.calculateEditAndReadDimensions=function(e){var t=[],n=[];return e.forEach((function(e){e.includes("~")?n.push(e.replace("~","")):t.push(e)})),{editableDimensions:t,readOnlyDimensions:n}},e}(),Xt=n("9LM3"),Zt=n("C8ME"),Yt=function(e){return{"menu-item-selected":e}};function en(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",2),T.Vb(1,"button",3),T.Vb(2,"span",2),T.Oc(3),T.ic(4,"translate"),T.Vb(5,"mat-icon",4),T.Oc(6,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Vb(7,"mat-menu",5,6),T.Vb(9,"button",7),T.dc("click",(function(){return T.Dc(n),T.hc(3).translateAll()})),T.Oc(10),T.ic(11,"translate"),T.Ub(),T.Vb(12,"button",7),T.dc("click",(function(){return T.Dc(n),T.hc(3).dontTranslateAll()})),T.Oc(13),T.ic(14,"translate"),T.Ub(),T.Vb(15,"button",7),T.dc("click",(function(){return T.Dc(n),T.hc(3).openLinkToOtherLanguage()})),T.Oc(16),T.ic(17,"translate"),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=T.Bc(8),o=T.hc(2).ngIf,a=T.hc();T.Bb(1),T.nc("matMenuTriggerFor",i),T.Bb(2),T.Qc(" ",T.jc(4,9,"LangMenu.Translate").toUpperCase()," \xa0\xa0 "),T.Bb(4),T.nc("overlapTrigger",!0),T.Bb(2),T.nc("ngClass",T.rc(17,Yt,o.translationState.linkType===a.translationLinkConstants.Translate)),T.Bb(1),T.Qc(" ",T.jc(11,11,"LangMenu.TranslateAll")," "),T.Bb(2),T.nc("ngClass",T.rc(19,Yt,o.translationState.linkType===a.translationLinkConstants.DontTranslate)),T.Bb(1),T.Qc(" ",T.jc(14,13,"LangMenu.NoTranslateAll")," "),T.Bb(2),T.nc("ngClass",T.rc(21,Yt,""!==o.translationState.language)),T.Bb(1),T.Qc(" ",T.jc(17,15,"LangMenu.Link")," ")}}var tn=function(e){return{"shared-languages--disabled":e}},nn=function(e){return{languages:e}};function on(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",2),T.Vb(1,"div",8),T.Vb(2,"div",9),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Vb(5,"button",10),T.Vb(6,"mat-icon",4),T.Oc(7,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Vb(8,"mat-menu",5,11),T.Vb(10,"button",7),T.dc("click",(function(){T.Dc(n);var e=T.hc(3);return e.translateUnlink(e.config.field.name)})),T.Oc(11),T.ic(12,"translate"),T.Ub(),T.Vb(13,"button",7),T.dc("click",(function(){T.Dc(n);var e=T.hc(3);return e.linkToDefault(e.config.field.name)})),T.Oc(14),T.ic(15,"translate"),T.Ub(),T.Vb(16,"button",7),T.dc("click",(function(){return T.Dc(n),T.hc(3).openLinkToOtherLanguage()})),T.Oc(17),T.ic(18,"translate"),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=T.Bc(9),o=T.hc(2).ngIf,a=T.hc();T.Bb(1),T.nc("ngClass",a.getTranslationStateClass(o.translationState.linkType)),T.Bb(1),T.nc("ngClass",T.rc(21,tn,o.disabled)),T.Bb(1),T.Qc(" ",o.infoMessageLabel?T.kc(4,12,o.infoMessageLabel,T.rc(23,nn,o.infoMessage)):"",""),T.Bb(2),T.nc("disabled",a.fieldConfig.disableI18n||o.defaultLanguageMissingValue)("matMenuTriggerFor",i),T.Bb(3),T.nc("overlapTrigger",!0),T.Bb(2),T.nc("ngClass",T.rc(25,Yt,o.translationState.linkType===a.translationLinkConstants.Translate)),T.Bb(1),T.Qc(" ",T.jc(12,15,"LangMenu.Translate")," "),T.Bb(2),T.nc("ngClass",T.rc(27,Yt,o.translationState.linkType===a.translationLinkConstants.DontTranslate)),T.Bb(1),T.Qc(" ",T.jc(15,17,"LangMenu.NoTranslate")," "),T.Bb(2),T.nc("ngClass",T.rc(29,Yt,""!==o.translationState.language)),T.Bb(1),T.Qc(" ",T.jc(18,19,"LangMenu.Link")," ")}}function an(e,t){if(1&e&&(T.Tb(0),T.Mc(1,en,18,23,"div",1),T.Mc(2,on,19,31,"div",1),T.Sb()),2&e){var n=T.hc(2);T.Bb(1),T.nc("ngIf",n.fieldConfig.isParentGroup),T.Bb(1),T.nc("ngIf",!n.fieldConfig.isParentGroup)}}function rn(e,t){if(1&e&&(T.Tb(0),T.Mc(1,an,3,2,"ng-container",0),T.Sb()),2&e){var n=t.ngIf;T.Bb(1),T.nc("ngIf",n.currentLanguage!==n.defaultLanguage)}}var cn=function(e,t,n,i,o,a,r){return{currentLanguage:e,defaultLanguage:t,translationState:n,disabled:i,defaultLanguageMissingValue:o,infoMessage:a,infoMessageLabel:r}},sn=function(){function e(e,t,n,i,o,r){this.dialog=e,this.languageInstanceService=t,this.itemService=n,this.inputTypeService=i,this.contentTypeService=o,this.eavService=r,this.translationLinkConstants=xt,this.currentLanguage="",this.defaultLanguage="",this.defaultLanguageMissingValue$=new a.a(!1),this.headerGroupSlotIsEmpty=!1,this.translationState$=new a.a({formId:null,linkType:"",language:""}),this.infoMessage$=new a.a(""),this.infoMessageLabel$=new a.a(""),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.fieldConfig=this.config.field,this.control=this.group.controls[this.config.field.name],this.disabled$=this.fieldConfig.isParentGroup?Object(w.a)(!1):this.eavService.formDisabledChange$.asObservable().pipe(Object(P.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(M.a)((function(t){return e.control.disabled})),Object(D.a)(this.control.disabled),Object(B.a)()),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.attributes$=this.itemService.selectAttributesByEntityId(this.config.entity.entityId,this.config.entity.entityGuid),this.subscribeToAttributeValues(),this.subscribeMenuChange(),this.subscribeToItemFromStore(),this.subscribeToContentTypeFromStore(),this.subscribeToCurrentLanguageFromStore(),this.subscribeToDefaultLanguageFromStore(),this.subscribeToEntityHeaderFromStore()},e.prototype.ngOnChanges=function(e){null!=e.toggleTranslateField&&this.currentLanguage!==this.defaultLanguage&&this.control.disabled&&this.translateUnlink(this.config.field.name)},e.prototype.ngOnDestroy=function(){this.defaultLanguageMissingValue$.complete(),this.translationState$.complete(),this.infoMessage$.complete(),this.infoMessageLabel$.complete(),this.subscription.unsubscribe()},e.prototype.openLinkToOtherLanguage=function(){var e=this,t=this.dialog.open(Jt,{panelClass:"c-link-to-other-language",autoFocus:!1,width:"350px",data:{formId:this.config.form.formId,linkType:this.translationState$.value.linkType,language:this.translationState$.value.language,defaultLanguage:this.defaultLanguage,attributes:this.attributes,attributeKey:this.config.field.name}});t.keydownEvents().subscribe((function(e){83===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()})),t.afterClosed().subscribe((function(t){t&&e.triggerTranslation(t)}))},e.prototype.translateUnlink=function(e){if(!this.isTranslateDisabled(e)){this.itemService.removeItemAttributeDimension(this.config.entity.entityId,e,this.currentLanguage,this.config.entity.entityGuid);var t=Qe.a.getValueTranslation(this.attributes[e],this.defaultLanguage,this.defaultLanguage);if(t){var n=_t.a.getFieldType(this.config,e);this.itemService.addAttributeValue(this.config.entity.entityId,e,t.value,this.currentLanguage,!1,this.config.entity.entityGuid,n)}else Object($.a)(this.currentLanguage+": Cant copy value from "+this.defaultLanguage+" because that value does not exist.");this.refreshControlConfig(e)}},e.prototype.linkToDefault=function(e){this.isTranslateDisabled(e)||(this.itemService.removeItemAttributeDimension(this.config.entity.entityId,e,this.currentLanguage,this.config.entity.entityGuid),this.refreshControlConfig(e))},e.prototype.translateAll=function(){var e=this;this.setTranslationState(xt.Translate,""),Object.keys(this.attributes).forEach((function(t){e.translateUnlink(t)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.dontTranslateAll=function(){var e=this;this.setTranslationState(xt.DontTranslate,""),Object.keys(this.attributes).forEach((function(t){e.linkToDefault(t)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.copyFromAll=function(e){var t=this;this.setTranslationState(xt.LinkCopyFrom,e),Object.keys(this.attributes).forEach((function(n){t.copyFrom(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.copyFrom=function(e,t){if(!this.isTranslateDisabled(t)){var n=Qe.a.getValueTranslation(this.attributes[t],e,this.defaultLanguage);n?this.attributes&&Qe.a.isEditableOrReadonlyTranslationExist(this.attributes[t],this.currentLanguage,this.defaultLanguage)?this.itemService.updateItemAttributeValue(this.config.entity.entityId,t,n.value,this.currentLanguage,this.defaultLanguage,!1,this.config.entity.entityGuid):this.itemService.addAttributeValue(this.config.entity.entityId,t,n.value,this.currentLanguage,!1,this.config.entity.entityGuid,this.config.field.type):Object($.a)(this.currentLanguage+": Cant copy value from "+e+" because that value does not exist."),this.refreshControlConfig(t)}},e.prototype.linkReadOnlyAll=function(e){var t=this;this.setTranslationState(xt.LinkReadOnly,e),Object.keys(this.attributes).forEach((function(n){t.linkReadOnly(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.linkReadOnly=function(e,t){this.isTranslateDisabled(t)||(this.setTranslationState(xt.LinkReadOnly,e),this.itemService.removeItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,this.config.entity.entityGuid),this.itemService.addItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,e,this.defaultLanguage,!0,this.config.entity.entityGuid),this.refreshControlConfig(t))},e.prototype.linkReadWriteAll=function(e){var t=this;this.setTranslationState(xt.LinkReadWrite,e),Object.keys(this.attributes).forEach((function(n){t.linkReadWrite(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.linkReadWrite=function(e,t){this.isTranslateDisabled(t)||(this.setTranslationState(xt.LinkReadWrite,e),this.itemService.removeItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,this.config.entity.entityGuid),this.itemService.addItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,e,this.defaultLanguage,!1,this.config.entity.entityGuid),this.refreshControlConfig(t))},e.prototype.getTranslationStateClass=function(e){switch(e){case xt.MissingDefaultLangValue:return"eav-localization-missing-default-lang-value";case xt.Translate:case xt.LinkCopyFrom:return"eav-localization-translate";case xt.DontTranslate:return"";case xt.LinkReadOnly:return"eav-localization-link-read-only";case xt.LinkReadWrite:return"eav-localization-link-read-write";default:return""}},e.prototype.refreshControlConfig=function(e){this.fieldConfig.isParentGroup||(this.setControlDisable(this.attributes[e],e,this.currentLanguage,this.defaultLanguage),this.readTranslationState(this.attributes[e],e,this.currentLanguage,this.defaultLanguage),this.setInfoMessage(this.attributes[e],e,this.currentLanguage,this.defaultLanguage))},e.prototype.triggerTranslation=function(e){if(!wt(this.translationState$.value,e))switch(e.linkType){case xt.Translate:this.fieldConfig.isParentGroup?this.translateAll():this.translateUnlink(this.config.field.name);break;case xt.DontTranslate:this.fieldConfig.isParentGroup?this.dontTranslateAll():this.linkToDefault(this.config.field.name);break;case xt.LinkReadOnly:this.fieldConfig.isParentGroup?this.linkReadOnlyAll(e.language):this.linkReadOnly(e.language,this.config.field.name);break;case xt.LinkReadWrite:this.fieldConfig.isParentGroup?this.linkReadWriteAll(e.language):this.linkReadWrite(e.language,this.config.field.name);break;case xt.LinkCopyFrom:this.fieldConfig.isParentGroup?this.copyFromAll(e.language):this.copyFrom(e.language,this.config.field.name)}},e.prototype.setTranslationState=function(e,t){var n=Object(i.a)(Object(i.a)({},this.translationState$.value),{linkType:e,language:t});this.translationState$.next(n)},e.prototype.setControlDisable=function(e,t,n,i){this.config.field.disabled||(this.headerGroupSlotIsEmpty?(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):n===i?(this.group.controls[t].enable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):Qe.a.translationExistsInDefault(e,i)?(this.defaultLanguageMissingValue$.next(!1),this.isTranslateDisabled(t)?(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):Qe.a.isEditableTranslationExist(e,n,i)?(this.group.controls[t].enable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):(Qe.a.isReadonlyTranslationExist(e,n),this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid}))):(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid}),this.defaultLanguageMissingValue$.next(!0)))},e.prototype.translateAllConfiguration=function(){var e,t=Qe.a.translateSettings(this.config.field.fullSettings,this.currentLanguage,this.defaultLanguage);this.config.field.settings=t,this.config.field.label=this.config.field.settings.Name||null,this.config.field.validation=U.a.getValidations(this.config.field.settings),this.config.field.required=U.a.isRequired(this.config.field.settings),null===(e=this.config.field.settings$)||void 0===e||e.next(t)},e.prototype.subscribeToCurrentLanguageFromStore=function(){var e=this;this.subscription.add(this.currentLanguage$.subscribe((function(t){e.currentLanguage=t,e.translateAllConfiguration(),e.refreshControlConfig(e.config.field.name)})))},e.prototype.subscribeToDefaultLanguageFromStore=function(){var e=this;this.subscription.add(this.defaultLanguage$.subscribe((function(t){e.defaultLanguage=t,e.translateAllConfiguration(),e.refreshControlConfig(e.config.field.name)})))},e.prototype.subscribeToAttributeValues=function(){var e=this;this.subscription.add(this.attributes$.subscribe((function(t){e.attributes=t})))},e.prototype.subscribeToEntityHeaderFromStore=function(){var e=this;this.config.entity.header.Group&&this.config.entity.header.Group.SlotCanBeEmpty&&this.subscription.add(this.itemService.selectHeaderByEntityId(this.config.entity.entityId,this.config.entity.entityGuid).subscribe((function(t){t.Group&&!e.fieldConfig.isParentGroup&&(e.headerGroupSlotIsEmpty=t.Group.SlotIsEmpty,e.setControlDisable(e.attributes[e.config.field.name],e.config.field.name,e.currentLanguage,e.defaultLanguage))})))},e.prototype.subscribeToItemFromStore=function(){var e=this;this.subscription.add(this.itemService.selectItemById(this.config.entity.entityId).subscribe((function(t){e.item=t})))},e.prototype.subscribeToContentTypeFromStore=function(){var e=this;this.subscription.add(this.contentTypeService.getContentTypeById(null===this.item.entity.type?this.item.header.ContentTypeName:this.item.entity.type.id).subscribe((function(t){e.contentType=t})))},e.prototype.isTranslateDisabled=function(e){if(!Qe.a.translationExistsInDefault(this.attributes[e],this.defaultLanguage))return!0;var t=this.contentType.contentType.attributes.find((function(t){return t.name===e}));if(null==t)return!1;var n=_t.a.calculateInputType(t,this.inputTypeService);return Qe.a.isI18nDisabled(this.inputTypeService,n,t.settings)},e.prototype.readTranslationState=function(e,t,n,i){if(Qe.a.translationExistsInDefault(e,i))if(this.isTranslateDisabled(t))this.setTranslationState(xt.DontTranslate,"");else if(Qe.a.isEditableTranslationExist(e,n,i)){var o=Qe.a.getValueTranslation(e,n,i).dimensions.filter((function(e){return e.value!==n}));o.length>0?this.setTranslationState(xt.LinkReadWrite,o[0].value):this.setTranslationState(xt.Translate,"")}else if(Qe.a.isReadonlyTranslationExist(e,n)){var a=Qe.a.getValueTranslation(e,n,i).dimensions.filter((function(e){return e.value!==n}));this.setTranslationState(xt.LinkReadOnly,a[0].value)}else this.setTranslationState(xt.DontTranslate,"");else this.setTranslationState(xt.MissingDefaultLangValue,"")},e.prototype.subscribeMenuChange=function(){var e=this;this.subscription.add(this.languageInstanceService.localizationWrapperMenuChange$.subscribe((function(t){e.fieldConfig.isParentGroup||e.refreshControlConfig(e.config.field.name)})))},e.prototype.setInfoMessage=function(e,t,n,i){if(this.isTranslateDisabled(t))return this.infoMessage$.next(""),void this.infoMessageLabel$.next("LangMenu.InAllLanguages");if(!Qe.a.translationExistsInDefault(e,i))return this.infoMessage$.next(i),void this.infoMessageLabel$.next("LangMenu.MissingDefaultLangValue");var o=Qe.a.isEditableTranslationExist(e,n,i),a=Qe.a.isReadonlyTranslationExist(e,n);if(o||a){var r=Qe.a.getValueTranslation(e,n,i).dimensions.map((function(e){return e.value}));(r=r.filter((function(e){return!e.includes(n)}))).length>0?(this.infoMessage$.next(Kt.calculateSharedInfoMessage(r,n)),o?this.infoMessageLabel$.next("LangMenu.In"):a&&this.infoMessageLabel$.next("LangMenu.From")):(this.infoMessage$.next(""),this.infoMessageLabel$.next(""))}else this.infoMessage$.next(""),this.infoMessageLabel$.next("LangMenu.UseDefault")},e.\u0275fac=function(t){return new(t||e)(T.Pb(Ot.b),T.Pb(We.a),T.Pb(qe.a),T.Pb(Xt.a),T.Pb(Je),T.Pb(L.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-translate-group-menu"]],inputs:{config:"config",group:"group",toggleTranslateField:"toggleTranslateField"},features:[T.zb],decls:8,vars:23,consts:[[4,"ngIf"],["fxLayoutAlign","end center",4,"ngIf"],["fxLayoutAlign","end center"],["mat-button","","fxLayoutAlign","end center",3,"matMenuTriggerFor"],[1,"translate-icon"],[3,"overlapTrigger"],["rootMenu","matMenu"],["mat-menu-item","",3,"ngClass","click"],["fxLayoutAlign","end center",1,"shared-languages-container",3,"ngClass"],[1,"shared-languages","mat-caption",3,"ngClass"],["mat-icon-button","",3,"disabled","matMenuTriggerFor"],["rootMenu2","matMenu"]],template:function(e,t){1&e&&(T.Mc(0,rn,2,1,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async")),2&e&&T.nc("ngIf",T.xc(15,cn,T.jc(1,1,t.currentLanguage$),T.jc(2,3,t.defaultLanguage$),T.jc(3,5,t.translationState$),T.jc(4,7,t.disabled$),T.jc(5,9,t.defaultLanguageMissingValue$),T.jc(6,11,t.infoMessage$),T.jc(7,13,t.infoMessageLabel$)))},directives:[Z.m,Fe.b,kt.a,Zt.c,te.a,Zt.d,Zt.a,Z.k,Y.a],pipes:[Z.b,oe.d],styles:[".menu-item-selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.eav-localization-lock-open[_ngcontent-%COMP%]{color:green}.eav-localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.eav-localization-translate[_ngcontent-%COMP%]{color:green}.eav-localization-link-read-only[_ngcontent-%COMP%], .eav-localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-1px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:rgba(29,39,61,.44)}.shared-languages--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}"],changeDetection:0}),e}(),ln=function(){function e(e,t){this.zone=t,this.target="_blank",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular((function(){e.observer=new MutationObserver((function(t){"A"===e.element.tagName&&(o=e.element).target!==e.target&&(o.target=e.target);for(var n=e.element.getElementsByTagName("a"),i=0;i<n.length;i++){var o;(o=n[i]).target!==e.target&&(o.target=e.target)}})),e.observer.observe(e.element,{childList:!0,subtree:!0})}))},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular((function(){e.observer.disconnect()}))},e.\u0275fac=function(t){return new(t||e)(T.Pb(T.l),T.Pb(T.z))},e.\u0275dir=T.Kb({type:e,selectors:[["","appChangeAnchorTarget",""]]}),e}(),dn=n("KSFr"),un=["fieldComponent"];function pn(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-slide-toggle",14),T.dc("change",(function(){return T.Dc(n),T.hc(2).toggleSlotIsEmpty()})),T.ic(1,"translate"),T.Ub()}if(2&e){var i=T.hc().ngIf;T.nc("checked",!i.slotIsEmpty)("disabled",i.currentLanguage!==i.defaultLanguage)("matTooltip",T.jc(1,4,i.slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue"))("matTooltipDisabled",i.currentLanguage!==i.defaultLanguage)}}function fn(e,t){if(1&e&&T.Qb(0,"app-translate-group-menu",15),2&e){var n=T.hc(2);T.nc("config",n.config)("group",n.group)}}function gn(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",8),T.Vb(1,"div",9),T.dc("click",(function(){return T.Dc(n),T.hc().toggleCollapse()})),T.Vb(2,"div",10),T.Vb(3,"mat-icon"),T.Oc(4),T.Ub(),T.Vb(5,"span",11),T.Oc(6),T.ic(7,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Mc(8,pn,2,6,"mat-slide-toggle",12),T.Mc(9,fn,1,2,"app-translate-group-menu",13),T.Ub()}if(2&e){var i=t.ngIf,o=T.hc();T.nc("ngClass",o.fieldConfig.isParentGroup?"mat-card-header-group-parent":"mat-card-header-group-child"),T.Bb(2),T.nc("ngClass",o.fieldConfig.isParentGroup?"mat-display-1":"mat-body-1"),T.Bb(2),T.Qc(" ",i.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),T.Bb(2),T.Qc(" ",i.itemTitle||T.jc(7,6,"ItemCard.DefaultTitle")," "),T.Bb(2),T.nc("ngIf",i.slotCanBeEmpty),T.Bb(1),T.nc("ngIf",o.fieldConfig.isParentGroup)}}function bn(e,t){if(1&e&&(T.Vb(0,"div",16),T.Qb(1,"div",17),T.ic(2,"safeHtml"),T.ic(3,"async"),T.Ub()),2&e){var n=T.hc();T.Bb(1),T.nc("innerHtml",T.jc(2,1,T.jc(3,3,n.description$)),T.Ec)}}var hn=function(e,t,n,i,o,a){return{collapse:e,itemTitle:t,currentLanguage:n,defaultLanguage:i,slotCanBeEmpty:o,slotIsEmpty:a}},mn=function(e){return{display:e}},vn=function(){function e(e,t,n){this.itemService=e,this.languageInstanceService=t,this.contentTypeService=n,this.collapse$=new a.a(!1),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.fieldConfig=this.config.field,this.header$=this.itemService.selectHeaderByEntityId(this.config.entity.entityId,this.config.entity.entityGuid),this.collapse$.next(this.fieldConfig.settings$.value.DefaultCollapsed||!1),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.slotCanBeEmpty$=this.header$.pipe(Object(M.a)((function(e){var t;return(null===(t=null==e?void 0:e.Group)||void 0===t?void 0:t.SlotCanBeEmpty)||!1}))),this.slotIsEmpty$=this.header$.pipe(Object(M.a)((function(e){var t;return(null===(t=null==e?void 0:e.Group)||void 0===t?void 0:t.SlotIsEmpty)||!1}))),this.itemTitle$=this.fieldConfig.isParentGroup?this.currentLanguage$.pipe(Object(M.a)((function(t){var n,i,o,a;e.contentTypeService.getContentTypeById(e.config.entity.contentTypeId).pipe(Object(C.a)(1)).subscribe((function(e){i=e})),e.defaultLanguage$.pipe(Object(C.a)(1)).subscribe((function(e){o=e}));try{var r=i.contentType.metadata.find((function(e){return"ContentType"===e.type.name||"xx ContentType"===e.type.name}));r&&(a=null===(n=Qe.a.getValueOrDefault(r.attributes.Label,t,o))||void 0===n?void 0:n.value),a=a||i.contentType.name}catch(c){a=i.contentType.name}return a}))):this.fieldConfig.settings$.pipe(Object(M.a)((function(e){return e.Name}))),this.description$=this.fieldConfig.settings$.pipe(Object(M.a)((function(t){return e.fieldConfig.isParentGroup?null!=t.EditInstructions?t.EditInstructions:"":null!=t.Notes?t.Notes:""}))),this.subscription.add(this.currentLanguage$.subscribe((function(t){var n;e.defaultLanguage$.pipe(Object(C.a)(1)).subscribe((function(e){n=e})),e.translateAllConfiguration(t,n)})))},e.prototype.ngOnDestroy=function(){this.collapse$.complete(),this.subscription.unsubscribe()},e.prototype.toggleCollapse=function(){this.collapse$.next(!this.collapse$.value)},e.prototype.toggleSlotIsEmpty=function(){var e;this.header$.pipe(Object(C.a)(1)).subscribe((function(t){e=t}));var t=Object(i.a)(Object(i.a)({},e),{Group:Object(i.a)(Object(i.a)({},e.Group),{SlotIsEmpty:!e.Group.SlotIsEmpty})});this.itemService.updateItemHeader(this.config.entity.entityId,this.config.entity.entityGuid,t)},e.prototype.translateAllConfiguration=function(e,t){var n,i=Qe.a.translateSettings(this.fieldConfig.fullSettings,e,t);this.fieldConfig.settings=i,this.fieldConfig.label=this.fieldConfig.settings.Name||null,this.fieldConfig.validation=U.a.getValidations(this.fieldConfig.settings),this.fieldConfig.required=U.a.isRequired(this.fieldConfig.settings),null===(n=this.config.field.settings$)||void 0===n||n.next(i)},e.\u0275fac=function(t){return new(t||e)(T.Pb(qe.a),T.Pb(We.a),T.Pb(Je))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-collapsible-wrapper"]],viewQuery:function(e,t){var n;1&e&&T.Jc(un,!0,T.O),2&e&&T.Ac(n=T.ec())&&(t.fieldComponent=n.first)},inputs:{config:"config",group:"group"},decls:17,vars:30,consts:[[1,"shadow-bottom-z-1",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-12 mat-body-1","align","start",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],["fieldComponent",""],["fxLayout","row","fxLayoutAlign","start center",3,"ngClass"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"mat-card-title-group",3,"ngClass"],[1,"title"],["fxLayoutAlign","start center",3,"checked","disabled","matTooltip","matTooltipDisabled","change",4,"ngIf"],["fxLayoutAlign","end center",3,"config","group",4,"ngIf"],["fxLayoutAlign","start center",3,"checked","disabled","matTooltip","matTooltipDisabled","change"],["fxLayoutAlign","end center",3,"config","group"],["align","start",1,"mdc-layout-grid__cell--span-12","mat-body-1"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(e,t){1&e&&(T.Vb(0,"mat-card",0),T.Mc(1,gn,10,8,"div",1),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.Vb(8,"mat-card-content",2),T.ic(9,"async"),T.Vb(10,"div",3),T.Vb(11,"div",4),T.Mc(12,bn,4,5,"div",5),T.ic(13,"async"),T.Vb(14,"div",6),T.Rb(15,null,7),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub()),2&e&&(T.nc("ngClass",t.fieldConfig.isParentGroup?"mat-card-group-parent":"mat-card-group-child"),T.Bb(1),T.nc("ngIf",T.wc(21,hn,T.jc(2,5,t.collapse$),T.jc(3,7,t.itemTitle$),T.jc(4,9,t.currentLanguage$),T.jc(5,11,t.defaultLanguage$),T.jc(6,13,t.slotCanBeEmpty$),T.jc(7,15,t.slotIsEmpty$))),T.Bb(7),T.nc("ngStyle",T.rc(28,mn,T.jc(9,17,t.collapse$)?"none":"block"))("ngClass",t.fieldConfig.isParentGroup?"mat-card-content-group-parent":"mat-card-content-group-child"),T.Bb(4),T.nc("ngIf",T.jc(13,19,t.description$)))},directives:[Ke.a,Z.k,Y.a,Z.m,Ke.b,Z.n,Y.c,Fe.c,Fe.b,Fe.a,te.a,Xe.a,ee.a,sn,ln],pipes:[Z.b,oe.d,dn.a],styles:[".mat-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width:600px){.mat-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.mat-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.mat-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.mat-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.mat-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding-bottom:0}.mat-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px}.mat-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#0088f4}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important;margin-right:6px}.mdc-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}"],changeDetection:0}),e}(),yn=n("4RZX"),wn=function(){return function(e,t,n){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=1e4,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=e,this.url=t,this.headers=n}}(),_n=["fieldComponent"],On=function(e){return{"dropzone-disabled":e}},Cn=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.dnnContext=i,r.zone=o,r.dropzoneConfig$=new a.a(null),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.dropzoneDisabled$=Object(Ct.a)([this.disabled$,this.dropzoneConfig$]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,2),n=t[1];return t[0]||null==n||n.disabled}))),this.config.dropzone={setConfig:function(e){t.zone.run((function(){t.setConfig(e)}))},getConfig:function(){return t.dropzoneConfig$.value},getConfig$:function(){return t.dropzoneConfig$.asObservable()},uploadFile:function(e){t.zone.run((function(){t.uploadFile(e)}))}},this.config.dropzone.setConfig({})},t.prototype.ngAfterViewInit=function(){this.config.dropzone.setConfig({previewsContainer:".field-"+this.config.field.index+" .dropzone-previews",clickable:".field-"+this.config.field.index+" .invisible-clickable"})},t.prototype.ngOnDestroy=function(){this.dropzoneConfig$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.onUploadError=function(e){Object($.a)("Dropzone upload error. Args:",e),this.dropzoneRef.reset()},t.prototype.onUploadSuccess=function(e){var t=e[1];t.Success?this.config.adam?(this.config.adam.addFullPath(t),this.config.adam.onItemUpload(t),this.config.adam.refresh()):alert("Upload failed because: ADAM reference doesn't exist"):alert("Upload failed because: "+t.Error),this.dropzoneRef.reset()},t.prototype.setConfig=function(e){var t,n,o=this.config.field.isExternal,a=this.dnnContext.$2sxc.http.apiUrl("app-content/"+this.config.entity.header.ContentTypeName+"/"+this.config.entity.header.Guid+"/"+this.config.field.name+"?subfolder=&usePortalRoot=false&appId="+this.eavService.eavConfig.appId),r=this.dnnContext.sxc.webApi.headers(),c=null!=this.dropzoneConfig$.value?this.dropzoneConfig$.value:new wn(o,a,r),s=new wn(o,a,r),l=Object.keys(s);try{for(var d=Object(i.i)(l),u=d.next();!u.done;u=d.next()){var p=u.value;s[p]=null!=e[p]?e[p]:c[p]}}catch(g){t={error:g}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(s.maxFiles!==s.parallelUploads){var f=s.maxFiles>=s.parallelUploads?s.maxFiles:s.parallelUploads;s.maxFiles=f,s.parallelUploads=f}(null==s.acceptedFiles||""===s.acceptedFiles)&&delete s.acceptedFiles,this.dropzoneConfig$.next(s)},t.prototype.uploadFile=function(e){var t=this.dropzoneRef.dropzone();e.upload={chunked:t.defaultOptions.chunking},t.processFile(e)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(K.a),T.Pb(T.z))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-dropzone-wrapper"]],viewQuery:function(e,t){var n;1&e&&(T.Jc(_n,!0,T.O),T.Uc(yn.a,!0)),2&e&&(T.Ac(n=T.ec())&&(t.fieldComponent=n.first),T.Ac(n=T.ec())&&(t.dropzoneRef=n.first))},features:[T.yb],decls:6,vars:11,consts:[[1,"dropzone","dropzone-container",3,"ngClass","dropzone","disabled","error","success"],["fieldComponent",""]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.dc("error",(function(e){return t.onUploadError(e)}))("success",(function(e){return t.onUploadSuccess(e)})),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.Rb(4,null,1),T.Ub()),2&e&&T.nc("ngClass",T.rc(9,On,T.jc(1,3,t.dropzoneDisabled$)))("dropzone",T.jc(2,5,t.dropzoneConfig$))("disabled",T.jc(3,7,t.dropzoneDisabled$))},directives:[Z.k,Y.a,yn.a],pipes:[Z.b],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"],changeDetection:0}),t}(A),xn=["fieldComponent"],Mn=function(e){return{"language-wrap__field-short":e}},Pn=function(e){return{"language-wrap__translate--hidden":e}},In=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.languageInstanceService=i,r.editRoutingService=o,r.toggleTranslateField$=new a.a(!1),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngOnDestroy=function(){this.toggleTranslateField$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleTranslate=function(){var e,t,n;this.open$.pipe(Object(C.a)(1)).subscribe((function(t){e=t})),this.currentLanguage$.pipe(Object(C.a)(1)).subscribe((function(e){t=e})),this.defaultLanguage$.pipe(Object(C.a)(1)).subscribe((function(e){n=e})),!e&&t!==n&&this.toggleTranslateField$.next(!this.toggleTranslateField$.value)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(We.a),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-eav-localization-wrapper"]],viewQuery:function(e,t){var n;1&e&&T.Jc(xn,!0,T.O),2&e&&T.Ac(n=T.ec())&&(t.fieldComponent=n.first)},features:[T.yb],decls:10,vars:19,consts:[[1,"language-wrap"],[1,"language-wrap__field",3,"ngClass","dblclick"],["fieldComponent",""],[1,"language-wrap__translate",3,"ngClass","config","group","toggleTranslateField"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.dc("dblclick",(function(){return t.toggleTranslate()})),T.ic(2,"async"),T.ic(3,"async"),T.Rb(4,null,2),T.Ub(),T.Qb(6,"app-translate-group-menu",3),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.Ub()),2&e&&(T.Bb(1),T.nc("ngClass",T.rc(15,Mn,T.jc(2,5,t.currentLanguage$)!==T.jc(3,7,t.defaultLanguage$))),T.Bb(5),T.nc("ngClass",T.rc(17,Pn,T.jc(7,9,t.currentLanguage$)===T.jc(8,11,t.defaultLanguage$)))("config",t.config)("group",t.group)("toggleTranslateField",T.jc(9,13,t.toggleTranslateField$)))},directives:[Z.k,Y.a,sn],pipes:[Z.b],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"],changeDetection:0}),t}(A),kn=[Object(F.n)("itemShrinkAnimation",[Object(F.k)("open",Object(F.l)({height:"30vh"})),Object(F.k)("closed",Object(F.l)({height:"0vh"})),Object(F.m)("open => closed",[Object(F.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),Object(F.n)("contentExpandAnimation",[Object(F.k)("closed",Object(F.l)({height:"0"})),Object(F.k)("expanded",Object(F.l)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),Object(F.m)("closed => expanded",[Object(F.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(F.h)([Object(F.l)({height:"0vh",overflow:"hidden"}),Object(F.l)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])],Sn=n("bRQ+");function Tn(e,t,n,i){return("string"==typeof e?Sn.a.convertValueToArray(e,t):e).map((function(t){var o,a=n.find((function(e){return e.Value===t}));return o=null==t?"empty slot":"string"==typeof e?null!=a?a.Text:t:null!=a?a.Text:i.instant("Fields.Entity.EntityNotFound"),{value:t,label:o,tooltip:o+" ("+t+")",isFreeTextOrNotFound:null==a}}))}var jn=n("hOvr"),Vn=function(e){return{"c-fht__container-hint--ellipsis":e}};function $n(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-hint",4),T.dc("click",(function(e){return T.Dc(n),T.hc(2).toggleHint(e)})),T.Qb(1,"span",5),T.ic(2,"safeHtml"),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.nc("ngClass",o.control.disabled?"c-fht__container-hint--disabled":"c-fht__container-hint"),T.Bb(1),T.nc("ngClass",T.rc(5,Vn,!o.isFullText))("innerHtml",T.jc(2,3,i.description),T.Ec)}}var En=function(e){return{param:e}};function Dn(e,t){if(1&e&&(T.Vb(0,"mat-error",6),T.Oc(1),T.ic(2,"translate"),T.Ub()),2&e){var n=T.hc(2);T.Bb(1),T.Qc(" ",T.kc(2,1,n.getErrorMessage(),T.rc(4,En,n.config.field.settings))," ")}}var Bn=function(e,t,n){return{"c-fht__container--no-hint":e,"c-fht__container--last":t,"c-fht__container--last--no-hint":n}};function Un(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"div",1),T.Mc(2,$n,3,7,"mat-hint",2),T.Mc(3,Dn,3,6,"mat-error",3),T.Ub(),T.Sb()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("ngClass",T.tc(3,Bn,!(n.description||n.invalid&&!i.disableError),i.config.field.isLastInGroup,i.config.field.isLastInGroup&&!n.description&&!(n.invalid&&!i.disableError))),T.Bb(1),T.nc("ngIf",n.description),T.Bb(1),T.nc("ngIf",n.invalid&&!i.disableError)}}var Ln=function(e,t){return{invalid:e,description:t}},zn=function(){function e(e){this.validationMessagesService=e,this.disableError=!1,this.isFullText=!1}return e.prototype.ngOnInit=function(){this.control=this.group.controls[this.config.field.name],this.invalid$=this.control.statusChanges.pipe(Object(M.a)((function(e){return"INVALID"===e})),Object(D.a)(this.control.invalid)),this.description$=this.config.field.settings$.pipe(Object(M.a)((function(e){return e.Notes})))},e.prototype.toggleHint=function(e){var t=e.target;if("A"!==t.tagName){for(;t&&t.classList&&!t.classList.contains("notes-container");){if(!(t=t.parentNode))return;if("A"===t.tagName)return}this.isFullText=!this.isFullText}},e.prototype.getErrorMessage=function(){return this.validationMessagesService.getErrorMessage(this.control,this.config)},e.\u0275fac=function(t){return new(t||e)(T.Pb(z.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-field-helper-text"]],inputs:{config:"config",group:"group",disableError:"disableError"},decls:3,vars:8,consts:[[4,"ngIf"],[1,"c-fht__container",3,"ngClass"],["class","mat-caption","align","start","fxLayout","row","fxLayoutAlign","start start",3,"ngClass","click",4,"ngIf"],["class","mat-caption",4,"ngIf"],["align","start","fxLayout","row","fxLayoutAlign","start start",1,"mat-caption",3,"ngClass","click"],["appChangeAnchorTarget","",1,"notes-container",3,"ngClass","innerHtml"],[1,"mat-caption"]],template:function(e,t){1&e&&(T.Mc(0,Un,4,7,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,Ln,T.jc(1,1,t.invalid$),T.jc(2,3,t.description$)))},directives:[Z.m,Z.k,Y.a,jn.f,Fe.c,Fe.b,ln,jn.b],pipes:[Z.b,dn.a,oe.d],styles:[".c-fht__container[_ngcontent-%COMP%], .c-fht__container--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 13px}.c-fht__container--last[_ngcontent-%COMP%], .c-fht__container--last--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 5px}.c-fht__container-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-fht__container-hint--ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.c-fht__container-hint--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-fht__container--input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#0087f4}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}"],changeDetection:0}),e}(),An=["fieldComponent"];function Fn(e,t){if(1&e&&(T.Vb(0,"mat-list-item",21),T.Vb(1,"span",22),T.Oc(2),T.Ub(),T.Ub()),2&e){var n=t.$implicit;T.Bb(2),T.Pc(n.label)}}function Rn(e,t){if(1&e&&(T.Vb(0,"mat-list",19),T.Mc(1,Fn,3,1,"mat-list-item",20),T.Ub()),2&e){var n=T.hc().ngIf,i=T.hc();T.Bb(1),T.nc("ngForOf",n.selectedEntities)("ngForTrackBy",i.trackByFn)}}function Gn(e,t){if(1&e&&(T.Vb(0,"span",23),T.Oc(1),T.Ub()),2&e){var n=T.hc().ngIf;T.Bb(1),T.Qc(" ",n.entitiesNumber," ")}}var Nn=function(e,t,n,i,o){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o}},Qn=function(){return{enterDuration:360}},qn=function(e,t){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t}};function Wn(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",12),T.Vb(1,"mat-label",13),T.Oc(2),T.Ub(),T.Vb(3,"div",14),T.dc("click",(function(){return T.Dc(n),T.hc().expandDialog()})),T.Vb(4,"div",0),T.Vb(5,"div",15),T.Mc(6,Rn,2,2,"mat-list",16),T.Mc(7,Gn,2,1,"span",17),T.Ub(),T.Ub(),T.Ub(),T.Qb(8,"app-field-helper-text",18),T.Ub()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngClass",T.vc(10,Nn,i.entitiesNumber,!i.entitiesNumber,i.invalid&&i.touched&&!o.config.field.disabled,!(i.invalid&&i.touched||o.config.field.disabled),o.config.field.disabled)),T.Bb(1),T.Rc(" ",i.label," ",i.required?"*":""," "),T.Bb(1),T.nc("matRippleAnimation",T.qc(16,Qn))("ngClass",T.sc(17,qn,i.invalid&&i.touched,o.config.field.disabled)),T.Bb(1),T.nc("ngClass",i.entitiesNumber?"c-ew__preview-container":"c-ew__preview-container--empty"),T.Bb(2),T.nc("ngIf",i.entitiesNumber),T.Bb(1),T.nc("ngIf",i.entitiesNumber>5),T.Bb(1),T.nc("config",o.config)("group",o.group)}}var Hn=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},Jn=function(e){return{bottomPixels:e}},Kn=function(e,t){return{value:e,params:t}},Xn=function(){return[]},Zn=function(e,t,n,i,o,a,r){return{label:e,required:t,invalid:n,touched:i,selectedEntities:o,entitiesNumber:a,showValidation:r}},Yn=function(e){function t(t,n,i,o){var a=e.call(this,t,n)||this;return a.translate=i,a.editRoutingService=o,a}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.dialogIsOpen$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e=this;this.selectedEntities$=Object(Ct.a)([this.value$,this.settings$,this.config.entityCache$]).pipe(Object(M.a)((function(t){var n=Object(i.f)(t,3);return Tn(n[0],n[1].Separator,n[2],e.translate)})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.trackByFn=function(e,t){return t.value},t.prototype.expandDialog=function(){this.config.field.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(oe.e),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-entity-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&T.Jc(An,!0,T.O),2&e&&T.Ac(n=T.ec())&&(t.fieldComponent=n.first)},features:[T.yb],decls:31,vars:47,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24"],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-add-scrollbar","u-hide-scrollbar"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row",4,"ngIf"],["class","more-entities mat-body-1",4,"ngIf"],[3,"config","group"],["fxLayout","row"],["role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem"],["mat-line",""],[1,"more-entities","mat-body-1"]],template:function(e,t){if(1&e&&(T.Vb(0,"div",0),T.ic(1,"async"),T.Vb(2,"div",1),T.dc("click",(function(){return t.closeDialog()})),T.Ub(),T.Vb(3,"div",2),T.Vb(4,"div",0),T.ic(5,"async"),T.Vb(6,"mat-card",3),T.Vb(7,"button",4),T.dc("click",(function(){return t.closeDialog()})),T.ic(8,"translate"),T.Vb(9,"mat-icon"),T.Oc(10,"arrow_back"),T.Ub(),T.Ub(),T.Vb(11,"span",5),T.Oc(12),T.ic(13,"async"),T.Ub(),T.Ub(),T.Ub(),T.Vb(14,"div"),T.Qb(15,"div"),T.ic(16,"async"),T.Vb(17,"div",6),T.ic(18,"async"),T.Vb(19,"div",7),T.Vb(20,"div",8),T.Vb(21,"mat-card",9),T.Rb(22,null,10),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Mc(24,Wn,9,20,"div",11),T.ic(25,"async"),T.ic(26,"async"),T.ic(27,"async"),T.ic(28,"async"),T.ic(29,"async"),T.ic(30,"async")),2&e){var n=null,i=T.xc(39,Zn,T.jc(25,19,t.label$),T.jc(26,21,t.required$),T.jc(27,23,t.invalid$),t.control.touched,(null==(n=T.jc(28,25,t.selectedEntities$))?null:n.slice(0,9))||T.qc(38,Xn),(null==(n=T.jc(29,27,t.selectedEntities$))?null:n.length)||0,T.jc(30,29,t.showValidation$));T.nc("ngClass",T.jc(1,7,t.dialogIsOpen$)?"c-ew__container":"u-display-none"),T.Bb(4),T.nc("ngClass",T.rc(31,Hn,T.jc(5,9,t.dialogIsOpen$))),T.Bb(3),T.nc("matTooltip",T.jc(8,11,"Form.Buttons.Return.Tip")),T.Bb(5),T.Pc(T.jc(13,13,t.label$)),T.Bb(3),T.nc("@itemShrinkAnimation",T.jc(16,15,t.dialogIsOpen$)?"closed":"open"),T.Bb(2),T.nc("@contentExpandAnimation",T.sc(35,Kn,T.jc(18,17,t.dialogIsOpen$)?"expanded":"closed",T.rc(33,Jn,t.calculateBottomPixels()))),T.Bb(7),T.nc("ngIf",i)}},directives:[Z.k,Y.a,Fe.c,Ke.a,kt.a,Fe.b,ee.a,te.a,Z.m,jn.g,St.q,zn,It.a,Z.l,It.c,St.i],pipes:[Z.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:28px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.mat-list[_ngcontent-%COMP%]{overflow:hidden;padding:0;margin-top:9px;flex:1 1 auto}.mat-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:rgba(29,39,61,.08);border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis}"],data:{animation:[kn]},changeDetection:0}),t}(A),ei=n("1/u/"),ti=function(){function e(e,t,n,o,a){var r=this;this.field=n,this._experimental=o,this.data=new ni(e,t),this.dialog=new ii(e),this.loadScript=function(e,t,n){var o,c;if(("string"==typeof e||"function"==typeof e)&&"string"==typeof t&&"function"==typeof n)return t=r.resolveTokens(t,a),void Object(ei.a)([{test:e,src:t}],n);if(!Array.isArray(e)||"function"!=typeof t)throw new Error("Unrecognized parameters. Please double check your input");try{for(var s=Object(i.i)(e),l=s.next();!l.done;l=s.next()){var d=l.value;d.src=r.resolveTokens(d.src,a)}}catch(u){o={error:u}}finally{try{l&&!l.done&&(c=s.return)&&c.call(s)}finally{if(o)throw o.error}}Object(ei.a)(e,t)}}return e.prototype.resolveTokens=function(e,t){return(e=e.replace(/\[System:Path\]/i,N.a.getUrlPrefix("system",t)).replace(/\[Zone:Path\]/i,N.a.getUrlPrefix("zone",t)).replace(/\[App:Path\]/i,N.a.getUrlPrefix("app",t))).includes("?")||(e=e+"?sxcver="+sxcVersion),e},e}(),ni=function(){function e(e,t){var n=this;this._connectorHost=e,this.clientValueChangeListeners=[],this.value$=t,this.forceConnectorSave$=e.forceConnectorSave$,this.value$.subscribe((function(e){n.value=e,n.clientValueChangeListeners.forEach((function(t){return t(e)}))}))}return e.prototype.update=function(e){this._connectorHost.update(e)},e.prototype.onValueChange=function(e){this.clientValueChangeListeners.push(e)},e}(),ii=function(){return function(e){this.open=function(t){return e.expand(!0,t)},this.close=function(){return e.expand(!1)}}}(),oi=function(){function e(e,t,n,i,o,r,c,s,l,d,u,p){var f=this;this.config=e,this.group=t,this.customElContainerRef=n,this.customElName=i,this.eavService=o,this.translateService=r,this.contentTypeService=c,this.inputTypeService=s,this.featureService=l,this.editRoutingService=d,this.dnnBridgeService=u,this.zone=p,this.value$=new a.a(null),this.subscription=new j.a,this.control=this.group.controls[this.config.field.name],this.subscription.add(this.eavService.formValueChange$.pipe(Object(P.a)((function(e){return e.formId===f.config.form.formId&&e.entityGuid===f.config.entity.entityGuid})),Object(M.a)((function(e){return f.control.value})),Object(D.a)(this.control.value),Object(B.a)()).subscribe((function(e){f.value$.next(e)}))),this.customEl=document.createElement(this.customElName),this.customEl.connector=this.buildConnector(),this.customElContainerRef.nativeElement.appendChild(this.customEl)}return e.prototype.destroy=function(){var e;this.subscription.unsubscribe(),this.value$.complete(),null===(e=this.customEl)||void 0===e||e.parentNode.removeChild(this.customEl),this.customEl=null},e.prototype.buildConnector=function(){var e=this.calculateRegularProps(),t=this.calculateExperimentalProps();return new ti(e,this.value$.asObservable(),this.config.field,t,this.eavService.eavConfig)},e.prototype.calculateRegularProps=function(){var e=this;return{forceConnectorSave$:this.eavService.forceConnectorSave$,update:function(t){e.zone.run((function(){e.updateControl(e.control,t)}))},expand:function(t,n){e.zone.run((function(){e.editRoutingService.expand(t,e.config.field.index,e.config.entity.entityGuid,n)}))}}},e.prototype.calculateExperimentalProps=function(){var e,t=this;return this.contentTypeService.getContentTypeById(this.config.entity.contentTypeId).pipe(Object(C.a)(1)).subscribe((function(n){e=_t.a.calculateInputTypes(n.contentType.attributes,t.inputTypeService)})),{entityGuid:this.config.entity.entityGuid,allInputTypeNames:e,formGroup:this.group,translateService:this.translateService,isExpanded$:this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),dropzone:this.config.dropzone,adam:this.config.adam,updateField:function(e,n){t.zone.run((function(){t.updateControl(t.group.controls[e],n)}))},isFeatureEnabled:function(e){return t.featureService.isFeatureEnabled(e)},setFocused:function(e){t.zone.run((function(){t.config.field.focused$.next(e)}))},openPagePicker:function(e,n){t.zone.run((function(){t.dnnBridgeService.open(e,n)}))},getUrlOfId:function(e,n){t.zone.run((function(){t.getUrlOfId(e,n)}))}}},e.prototype.getUrlOfId=function(e,t){e&&this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name).subscribe((function(e){e&&t(e)}))},e.prototype.updateControl=function(e,t){null==e||e.disabled||(e.value!==t&&e.patchValue(t),e.dirty||e.markAsDirty(),e.touched||e.markAsTouched())},e}(),ai=function(){function e(e){this.zone=e,this.eventListeners=[]}return e.prototype.attach=function(e){var t=this;this.zone.runOutsideAngular((function(){function n(){!function(e){var t,n;try{for(var o=Object(i.i)(e),a=o.next();!a.done;a=o.next())clearTimeout(a.value)}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.splice(0,e.length)}(windowBodyTimeouts),document.body.classList.add(draggingClass)}function o(){document.body.classList.remove(draggingClass)}e.addEventListener("dragover",n,{passive:!0}),e.addEventListener("drop",o,{passive:!0}),t.eventListeners.push({element:e,type:"dragover",listener:n},{element:e,type:"drop",listener:o})}))},e.prototype.detach=function(){var e=this;this.zone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener)}))}))},e}(),ri=n("iKpp"),ci=["fieldComponent"],si=["previewContainer"],li=["backdrop"],di=["dialog"],ui=function(e,t,n,i,o,a){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o,"c-ew__preview-label--focused":a}},pi=function(e,t,n){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t,"c-ew__preview--focused":n}},fi=function(e){return{"c-ew__preview-content--disabled":e}};function gi(e,t){if(1&e&&(T.Vb(0,"div",11),T.Vb(1,"mat-label",12),T.Oc(2),T.Ub(),T.Vb(3,"div",13),T.Vb(4,"div",14),T.Qb(5,"div",15,16),T.Ub(),T.Ub(),T.Qb(7,"app-field-helper-text",17),T.Ub()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("ngClass",T.wc(7,ui,n.value,!n.value,n.invalid&&n.touched&&!n.disabled,!(n.invalid&&n.touched||n.disabled),n.disabled,n.focused)),T.Bb(1),T.Rc(" ",n.label," ",n.required?"*":""," "),T.Bb(1),T.nc("ngClass",T.tc(14,pi,n.invalid&&(n.touched||n.dirty),n.disabled,n.focused)),T.Bb(2),T.nc("ngClass",T.rc(18,fi,n.disabled)),T.Bb(2),T.nc("config",i.config)("group",i.group)}}var bi=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},hi=function(e){return{bottomPixels:e}},mi=function(e,t){return{value:e,params:t}},vi=function(e,t,n,i,o,a,r,c,s){return{value:e,label:t,required:n,invalid:i,touched:o,dirty:a,focused:r,disabled:c,showValidation:s}},yi=function(e){function t(t,n,i,o,a,r,c,s,l){var d=e.call(this,t,n)||this;return d.translateService=i,d.contentTypeService=o,d.inputTypeService=a,d.featureService=r,d.editRoutingService=c,d.dnnBridgeService=s,d.zone=l,d}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e="field-"+this.config.field.inputType;Object($.a)("ExpandableWrapper created for:",e),this.connectorCreator=new oi(this.config,this.group,this.previewContainerRef,e,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featureService,this.editRoutingService,this.dnnBridgeService,this.zone),this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)},t.prototype.ngOnDestroy=function(){Object($.a)("ExpandableWrapper destroyed"),this.connectorCreator.destroy(),this.dropzoneDraggingHelper.detach(),e.prototype.ngOnDestroy.call(this)},t.prototype.expandDialog=function(){this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(oe.e),T.Pb(Je),T.Pb(Xt.a),T.Pb(J),T.Pb(X.a),T.Pb(ri.a),T.Pb(T.z))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(T.Jc(ci,!0,T.O),T.Uc(si,!0),T.Uc(li,!0),T.Uc(di,!0)),2&e&&(T.Ac(n=T.ec())&&(t.fieldComponent=n.first),T.Ac(n=T.ec())&&(t.previewContainerRef=n.first),T.Ac(n=T.ec())&&(t.backdropRef=n.first),T.Ac(n=T.ec())&&(t.dialogRef=n.first))},features:[T.yb],decls:31,vars:50,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass"],["previewContainer",""],[3,"config","group"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.ic(1,"async"),T.Vb(2,"div",1,2),T.dc("click",(function(){return t.closeDialog()})),T.Ub(),T.Vb(4,"div",3,4),T.Vb(6,"div",0),T.ic(7,"async"),T.Vb(8,"mat-card",5),T.Vb(9,"button",6),T.dc("click",(function(){return t.closeDialog()})),T.ic(10,"translate"),T.Vb(11,"mat-icon"),T.Oc(12,"arrow_back"),T.Ub(),T.Ub(),T.Vb(13,"span",7),T.Oc(14),T.ic(15,"async"),T.Ub(),T.Ub(),T.Ub(),T.Vb(16,"div"),T.Qb(17,"div"),T.ic(18,"async"),T.Vb(19,"div",8),T.ic(20,"async"),T.Rb(21,null,9),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Mc(23,gi,8,20,"div",10),T.ic(24,"async"),T.ic(25,"async"),T.ic(26,"async"),T.ic(27,"async"),T.ic(28,"async"),T.ic(29,"async"),T.ic(30,"async")),2&e&&(T.nc("ngClass",T.jc(1,7,t.open$)?"c-ew__container":"u-display-none"),T.Bb(6),T.nc("ngClass",T.rc(33,bi,T.jc(7,9,t.open$))),T.Bb(3),T.nc("matTooltip",T.jc(10,11,"Form.Buttons.Return.Tip")),T.Bb(5),T.Pc(T.jc(15,13,t.label$)),T.Bb(3),T.nc("@itemShrinkAnimation",T.jc(18,15,t.open$)?"closed":"open"),T.Bb(2),T.nc("@contentExpandAnimation",T.sc(37,mi,T.jc(20,17,t.open$)?"expanded":"closed",T.rc(35,hi,t.calculateBottomPixels()))),T.Bb(4),T.nc("ngIf",T.zc(40,vi,[T.jc(24,19,t.value$),T.jc(25,21,t.label$),T.jc(26,23,t.required$),T.jc(27,25,t.invalid$),t.control.touched,t.control.dirty,T.jc(28,27,t.config.field.focused$),T.jc(29,29,t.disabled$),T.jc(30,31,t.showValidation$)])))},directives:[Z.k,Y.a,Fe.c,Ke.a,kt.a,Fe.b,ee.a,te.a,Z.m,jn.g,zn],pipes:[Z.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #0085f4!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-error){color:#0087f4!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;top:0;left:0;right:0;bottom:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.c-ew__dialog[_ngcontent-%COMP%]{flex-direction:column;display:flex;max-width:800px;width:100vw;margin-top:24px;min-height:calc(100vh - 48px);max-height:calc(100vh - 48px);padding:0}@media (max-width:600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:100vh;max-height:100vh}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec}"],data:{animation:[kn]},changeDetection:0}),t}(A),wi=["fieldComponent"],_i=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.visibleInEditUI$=this.settings$.pipe(Object(M.a)((function(e){return!1!==e.VisibleInEditUI})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-hidden-wrapper"]],viewQuery:function(e,t){var n;1&e&&T.Jc(wi,!0,T.O),2&e&&T.Ac(n=T.ec())&&(t.fieldComponent=n.first)},features:[T.yb],decls:4,vars:3,consts:[[3,"hidden"],["fieldComponent",""]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.ic(1,"async"),T.Rb(2,null,1),T.Ub()),2&e&&T.nc("hidden",!(!0===T.jc(1,1,t.visibleInEditUI$)))},pipes:[Z.b],styles:[""],changeDetection:0}),t}(A),Oi=n("TDrE"),Ci=["fieldComponent"],xi=["backdrop"],Mi=["dialog"];function Pi(e,t){if(1&e&&(T.Vb(0,"mat-icon",25),T.Oc(1),T.Ub()),2&e){var n=T.hc().ngIf;T.nc("matTooltip",n.preview.url),T.Bb(1),T.Qc(" ",n.preview.icon," ")}}function Ii(e,t){if(1&e&&T.Qb(0,"mat-icon",26),2&e){var n=T.hc().ngIf;T.nc("matTooltip",n.preview.url)("svgIcon",n.preview.icon)}}function ki(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",30),T.dc("click",(function(){return T.Dc(n),T.hc(3).expandDialog()})),T.ic(1,"translate"),T.Qb(2,"mat-icon",31),T.Ub()}if(2&e){var i=T.hc(2).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.Default.Fullscreen"))("disabled",i.disabled)}}function Si(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",30),T.dc("click",(function(){return T.Dc(n),T.hc(3).openPagePicker()})),T.ic(1,"translate"),T.Qb(2,"mat-icon",32),T.Ub()}if(2&e){var i=T.hc(2).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",i.disabled)}}var Ti=function(e){return{"c-ew__preview-suffix-text--disabled":e}};function ji(e,t){if(1&e&&(T.Vb(0,"div",27),T.Vb(1,"div",28),T.Oc(2),T.ic(3,"translate"),T.Ub(),T.Mc(4,ki,3,4,"button",29),T.Mc(5,Si,3,4,"button",29),T.Ub()),2&e){var n=T.hc().ngIf;T.Bb(1),T.nc("ngClass",T.rc(6,Ti,n.disabled)),T.Bb(1),T.Qc(" ",n.adamButton?T.jc(3,4,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),T.Bb(2),T.nc("ngIf",n.adamButton),T.Bb(1),T.nc("ngIf",n.pageButton)}}function Vi(e,t){if(1&e&&(T.Vb(0,"div",33),T.Vb(1,"div",34),T.Oc(2),T.Ub(),T.Vb(3,"div",35),T.Vb(4,"a",36),T.Vb(5,"span"),T.Oc(6),T.Ub(),T.Ub(),T.Ub(),T.Ub()),2&e){var n=T.hc().ngIf;T.Bb(2),T.Pc(n.value),T.Bb(2),T.nc("href",n.preview.url,T.Gc)("matTooltip",n.preview.url),T.Bb(2),T.Pc(n.preview.floatingText)}}function $i(e,t){1&e&&(T.Vb(0,"div",37),T.Vb(1,"span"),T.Oc(2),T.ic(3,"translate"),T.Ub(),T.Ub()),2&e&&(T.Bb(2),T.Pc(T.jc(3,1,"Fields.Hyperlink.Default.Sponsor")))}var Ei=function(e,t){return{"c-ew__preview--disabled":e,"c-ew__preview--last-in-group":t}},Di=function(e,t){return{"icon-before-input":e,"thumbnail-before-input--disabled":t}},Bi=function(e){return{"background-image":e}},Ui=function(e){return{"mat-form-field-invalid":e}},Li=function(e){return{"mat-error":e}};function zi(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",11),T.Vb(1,"div",12),T.Vb(2,"div",13),T.dc("click",(function(){return T.Dc(n),T.hc().expandDialog()})),T.ic(3,"translate"),T.Mc(4,Pi,2,2,"mat-icon",14),T.Mc(5,Ii,1,2,"mat-icon",15),T.Ub(),T.Vb(6,"div",16),T.Vb(7,"div",17),T.Vb(8,"mat-form-field",18),T.Vb(9,"input",19),T.dc("change",(function(e){return T.Dc(n),T.hc().setValue(e)}))("blur",(function(){return T.Dc(n),T.hc().control.markAsTouched()}))("keyup",(function(e){return T.Dc(n),T.hc().setValue(e)})),T.ic(10,"translate"),T.Ub(),T.Mc(11,ji,6,8,"div",20),T.Vb(12,"mat-label",0),T.Oc(13),T.Ub(),T.Ub(),T.Mc(14,Vi,7,4,"div",21),T.Ub(),T.Vb(15,"div",22),T.Qb(16,"app-field-helper-text",23),T.Mc(17,$i,4,3,"div",24),T.Ub(),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngClass",T.sc(26,Ei,i.disabled,o.config.field.isLastInGroup)),T.Bb(1),T.nc("matTooltip",T.jc(3,22,"Fields.Hyperlink.Default.Fullscreen"))("matTooltipDisabled",i.disabled)("ngClass",T.sc(29,Di,i.value&&!i.preview.isImage,i.disabled))("ngStyle",T.rc(32,Bi,i.value&&i.preview.isImage?i.preview.thumbnailUrl:"")),T.Bb(2),T.nc("ngIf",i.value&&!i.preview.isImage&&i.preview.isKnownType),T.Bb(1),T.nc("ngIf",i.value&&!i.preview.isImage&&!i.preview.isKnownType),T.Bb(3),T.nc("ngClass",T.rc(34,Ui,i.invalid&&i.touched)),T.Bb(1),T.nc("matTooltip",T.jc(10,24,"Fields.Hyperlink.Default.Tooltip"))("placeholder",i.placeholder)("disabled",i.disabled)("value",i.value)("config",o.config)("elementType","input"),T.Bb(2),T.nc("ngIf",i.adamButton||i.pageButton),T.Bb(1),T.nc("ngClass",T.rc(36,Li,i.invalid&&i.touched)),T.Bb(1),T.Rc(" ",i.label," ",i.required?"*":""," "),T.Bb(1),T.nc("ngIf",i.preview.floatingText),T.Bb(2),T.nc("config",o.config)("group",o.group),T.Bb(1),T.nc("ngIf",i.adamButton)}}var Ai=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},Fi=function(e){return{bottomPixels:e}},Ri=function(e,t){return{value:e,params:t}},Gi=function(e,t,n,i,o,a,r,c,s,l,d){return{value:e,preview:t,label:n,placeholder:i,invalid:o,touched:a,required:r,disabled:c,adamButton:s,pageButton:l,showValidation:d}},Ni=function(e){function t(t,n,i,o,r,c){var s=e.call(this,t,n)||this;return s.fileTypeService=i,s.dnnBridgeService=o,s.zone=r,s.editRoutingService=c,s.preview$=new a.a({url:"",thumbnailUrl:"",thumbnailPreviewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.value$.subscribe((function(e){t.setLink(e)}))),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.adamButton$=this.settings$.pipe(Object(M.a)((function(e){var t;return null===(t=e.Buttons)||void 0===t?void 0:t.includes("adam")}))),this.pageButton$=this.settings$.pipe(Object(M.a)((function(e){var t;return null===(t=e.Buttons)||void 0===t?void 0:t.includes("page")})))},t.prototype.ngAfterViewInit=function(){this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)},t.prototype.ngOnDestroy=function(){this.dropzoneDraggingHelper.detach(),this.preview$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.setValue=function(e){var t=e.target.value;this.control.value!==t&&(this.control.patchValue(t),this.control.markAsDirty())},t.prototype.expandDialog=function(){this.control.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.prototype.openPagePicker=function(){var e=this.settings$.value;this.dnnBridgeService.open({CurrentValue:this.control.value,FileFilter:null!=e.FileFilter?e.FileFilter:"",Paths:null!=e.Paths?e.Paths:""},this.pagePickerCallback.bind(this))},t.prototype.pagePickerCallback=function(e){e&&this.control.patchValue("page:"+e.id)},t.prototype.setLink=function(e){var t=this;e&&this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name).subscribe((function(e){if(e){var n=e.toLowerCase(),i={url:e,floatingText:n.includes("file:")||n.includes("page:")?".../"+e.substring(e.lastIndexOf("/")+1,e.length):"",thumbnailUrl:t.thumbnailUrl(e,1,!0),thumbnailPreviewUrl:t.thumbnailUrl(e,2,!1),isImage:t.fileTypeService.isImage(e),isKnownType:t.fileTypeService.isKnownType(e),icon:t.fileTypeService.getIconClass(e)};t.preview$.next(i)}}))},t.prototype.thumbnailUrl=function(e,t,n){1===t&&(e+="?w=80&h=80&mode=crop"),2===t&&(e+="?w=500&h=400&mode=max");var i=n?'"':"";return"url("+i+e+i+")"},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(q.a),T.Pb(ri.a),T.Pb(T.z),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(T.Jc(Ci,!0,T.O),T.Uc(xi,!0),T.Uc(Mi,!0)),2&e&&(T.Ac(n=T.ec())&&(t.fieldComponent=n.first),T.Ac(n=T.ec())&&(t.backdropRef=n.first),T.Ac(n=T.ec())&&(t.dialogRef=n.first))},features:[T.yb],decls:34,vars:58,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-hyperlink-default-field-preview",4,"ngIf"],[1,"c-hyperlink-default-field-preview"],["fxLayout","row","fxLayoutAlign","start start",1,"c-ew__preview",3,"ngClass"],[1,"thumbnail-before-input",3,"matTooltip","matTooltipDisabled","ngClass","ngStyle","click"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip","svgIcon",4,"ngIf"],["fxFlex","auto",1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["appearance","standard","color","accent",3,"ngClass"],["matInput","","matTooltipPosition","above","appPasteClipboardImage","",3,"matTooltip","placeholder","disabled","value","config","elementType","change","blur","keyup"],["matSuffix","","fxLayoutAlign","center center",4,"ngIf"],["class","hyperlink-floating","fxHide","","fxShow.gt-xs","",4,"ngIf"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"config","group"],["align","end","class","c-ew__preview-field-hint c__helper-wrapper--right","fxHide","","fxShow.gt-xs","",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["matTooltipPosition","right",3,"matTooltip","svgIcon"],["matSuffix","","fxLayoutAlign","center center"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","class","c-ew__preview-suffix-icon","appClickStopPropagation","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"matTooltip","disabled","click"],["svgIcon","apple"],["svgIcon","sitemap"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","matTooltip"],["align","end","fxHide","","fxShow.gt-xs","",1,"c-ew__preview-field-hint","c__helper-wrapper--right"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.ic(1,"async"),T.Vb(2,"div",1,2),T.dc("click",(function(){return t.closeDialog()})),T.Ub(),T.Vb(4,"div",3,4),T.Vb(6,"div",0),T.ic(7,"async"),T.Vb(8,"mat-card",5),T.Vb(9,"button",6),T.dc("click",(function(){return t.closeDialog()})),T.ic(10,"translate"),T.Vb(11,"mat-icon"),T.Oc(12,"arrow_back"),T.Ub(),T.Ub(),T.Vb(13,"span",7),T.Oc(14),T.ic(15,"async"),T.Ub(),T.Ub(),T.Ub(),T.Vb(16,"div"),T.Qb(17,"div"),T.ic(18,"async"),T.Vb(19,"div",8),T.ic(20,"async"),T.Rb(21,null,9),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Mc(23,zi,18,38,"div",10),T.ic(24,"async"),T.ic(25,"async"),T.ic(26,"async"),T.ic(27,"async"),T.ic(28,"async"),T.ic(29,"async"),T.ic(30,"async"),T.ic(31,"async"),T.ic(32,"async"),T.ic(33,"async")),2&e&&(T.nc("ngClass",T.jc(1,7,t.open$)?"c-ew__container":"u-display-none"),T.Bb(6),T.nc("ngClass",T.rc(39,Ai,T.jc(7,9,t.open$))),T.Bb(3),T.nc("matTooltip",T.jc(10,11,"Form.Buttons.Return.Tip")),T.Bb(5),T.Pc(T.jc(15,13,t.label$)),T.Bb(3),T.nc("@itemShrinkAnimation",T.jc(18,15,t.open$)?"closed":"open"),T.Bb(2),T.nc("@contentExpandAnimation",T.sc(43,Ri,T.jc(20,17,t.open$)?"expanded":"closed",T.rc(41,Fi,t.calculateBottomPixels()))),T.Bb(4),T.nc("ngIf",T.zc(46,Gi,[T.jc(24,19,t.value$),T.jc(25,21,t.preview$),T.jc(26,23,t.label$),T.jc(27,25,t.placeholder$),T.jc(28,27,t.invalid$),t.control.touched,T.jc(29,29,t.required$),T.jc(30,31,t.disabled$),T.jc(31,33,t.adamButton$),T.jc(32,35,t.pageButton$),T.jc(33,37,t.showValidation$)])))},directives:[Z.k,Y.a,Fe.c,Ke.a,kt.a,Fe.b,ee.a,te.a,Z.m,Z.n,Y.c,Fe.a,jn.c,Oi.b,ne,jn.g,zn,jn.h,Y.b,ie.a],pipes:[Z.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding-top:12px}.c-ew__preview-field--short[_ngcontent-%COMP%]{width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.44);font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:rgba(29,39,61,.08);width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:50%}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#4dabf7;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}@media (min-width:601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}}@media (max-width:600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[kn]},changeDetection:0}),t}(A),Qi=["fieldComponent"],qi=["backdrop"],Wi=["dialog"];function Hi(e,t){if(1&e&&(T.Vb(0,"div",22),T.Vb(1,"div",23),T.Qb(2,"mat-icon",24),T.Vb(3,"div",25),T.Oc(4),T.Ub(),T.Ub(),T.Ub()),2&e){var n=T.hc().$implicit;T.Bb(4),T.Pc(n.Name)}}function Ji(e,t){if(1&e&&(T.Vb(0,"mat-icon"),T.Oc(1),T.Ub()),2&e){var n=T.hc(3).$implicit;T.Bb(1),T.Pc(n._icon)}}function Ki(e,t){if(1&e&&T.Qb(0,"mat-icon",29),2&e){var n=T.hc(3).$implicit;T.nc("svgIcon",n._icon)}}function Xi(e,t){if(1&e&&(T.Vb(0,"div",23),T.Mc(1,Ji,2,1,"mat-icon",21),T.Mc(2,Ki,1,1,"mat-icon",28),T.Vb(3,"div",25),T.Oc(4),T.Ub(),T.Ub()),2&e){var n=T.hc(2).$implicit;T.Bb(1),T.nc("ngIf",n._isMaterialIcon),T.Bb(1),T.nc("ngIf",!n._isMaterialIcon),T.Bb(2),T.Pc(n.Name)}}function Zi(e,t){if(1&e&&(T.Vb(0,"div",30),T.Qb(1,"img",31),T.Ub()),2&e){var n=T.hc(2).$implicit;T.Bb(1),T.pc("alt","",n.Id,":",n.Name,""),T.oc("src","",n.FullPath,"?w=78&h=78&mode=crop",T.Gc)}}function Yi(e,t){if(1&e&&(T.Vb(0,"div"),T.Mc(1,Xi,5,3,"div",26),T.Mc(2,Zi,2,3,"div",27),T.Ub()),2&e){var n=T.hc().$implicit;T.Bb(1),T.nc("ngIf","image"!==n.Type),T.Bb(1),T.nc("ngIf","image"===n.Type)}}function eo(e,t){if(1&e&&(T.Tb(0),T.Mc(1,Hi,5,1,"div",20),T.Mc(2,Yi,3,2,"div",21),T.Sb()),2&e){var n=t.$implicit;T.Bb(1),T.nc("ngIf",n.IsFolder),T.Bb(1),T.nc("ngIf",!n.IsFolder)}}var to=function(e,t,n,i,o){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o}},no=function(){return{enterDuration:360}},io=function(e,t){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t}};function oo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",11),T.Vb(1,"mat-label",12),T.Oc(2),T.Ub(),T.Vb(3,"div",13),T.dc("click",(function(){return T.Dc(n),T.hc().expandDialog()})),T.Vb(4,"div",0),T.Vb(5,"div",14),T.Mc(6,eo,3,2,"ng-container",15),T.Ub(),T.Ub(),T.Ub(),T.Vb(7,"div",16),T.Vb(8,"div",17),T.Qb(9,"app-field-helper-text",18),T.Ub(),T.Vb(10,"div",19),T.Vb(11,"span"),T.Oc(12),T.ic(13,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngClass",T.vc(13,to,i.itemsNumber>0,0===i.itemsNumber,i.invalid&&!o.config.field.disabled,!i.invalid&&!o.config.field.disabled,o.config.field.disabled)),T.Bb(1),T.Rc(" ",i.label," ",i.required?"*":""," "),T.Bb(1),T.nc("matRippleAnimation",T.qc(19,no))("ngClass",T.sc(20,io,i.invalid,o.config.field.disabled)),T.Bb(1),T.nc("ngClass",i.value?"c-ew__preview-container":"c-ew__preview-container--empty"),T.Bb(2),T.nc("ngForOf",i.items)("ngForTrackBy",o.trackByFn),T.Bb(3),T.nc("config",o.config)("group",o.group),T.Bb(3),T.Pc(T.jc(13,11,"Fields.Hyperlink.Default.Sponsor"))}}var ao=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},ro=function(e){return{bottomPixels:e}},co=function(e,t){return{value:e,params:t}},so=function(e,t,n,i,o,a,r){return{value:e,label:t,required:n,invalid:i,items:o,itemsNumber:a,showValidation:r}},lo=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.zone=i,r.editRoutingService=o,r.adamItems$=new a.a([]),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e=this;this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement),this.subscription.add(this.config.adam.items$.subscribe((function(t){e.adamItems$.next(t)})))},t.prototype.ngOnDestroy=function(){this.dropzoneDraggingHelper.detach(),this.adamItems$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.trackByFn=function(e,t){return t.Id},t.prototype.expandDialog=function(){this.config.field.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(T.z),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(T.Jc(Qi,!0,T.O),T.Uc(qi,!0),T.Uc(Wi,!0)),2&e&&(T.Ac(n=T.ec())&&(t.fieldComponent=n.first),T.Ac(n=T.ec())&&(t.backdropRef=n.first),T.Ac(n=T.ec())&&(t.dialogRef=n.first))},features:[T.yb],decls:31,vars:48,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","c-ew__dialog-content--empty","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","2px",1,"c-ew__preview-content"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutAlign","start start",1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],[3,"config","group"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],["fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start start"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],["class","adam-browse-background-icon",4,"ngIf"],["class","adam-browse-background-image",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"],[1,"adam-browse-background-image"],["data-dz-thumbnail","",3,"alt","src"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.ic(1,"async"),T.Vb(2,"div",1,2),T.dc("click",(function(){return t.closeDialog()})),T.Ub(),T.Vb(4,"div",3,4),T.Vb(6,"div",0),T.ic(7,"async"),T.Vb(8,"mat-card",5),T.Vb(9,"button",6),T.dc("click",(function(){return t.closeDialog()})),T.ic(10,"translate"),T.Vb(11,"mat-icon"),T.Oc(12,"arrow_back"),T.Ub(),T.Ub(),T.Vb(13,"span",7),T.Oc(14),T.ic(15,"async"),T.Ub(),T.Ub(),T.Ub(),T.Vb(16,"div"),T.Qb(17,"div"),T.ic(18,"async"),T.Vb(19,"div",8),T.ic(20,"async"),T.Rb(21,null,9),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Mc(23,oo,14,23,"div",10),T.ic(24,"async"),T.ic(25,"async"),T.ic(26,"async"),T.ic(27,"async"),T.ic(28,"async"),T.ic(29,"async"),T.ic(30,"async")),2&e&&(T.nc("ngClass",T.jc(1,7,t.open$)?"c-ew__container":"u-display-none"),T.Bb(6),T.nc("ngClass",T.rc(33,ao,T.jc(7,9,t.open$))),T.Bb(3),T.nc("matTooltip",T.jc(10,11,"Form.Buttons.Return.Tip")),T.Bb(5),T.Pc(T.jc(15,13,t.label$)),T.Bb(3),T.nc("@itemShrinkAnimation",T.jc(18,15,t.open$)?"closed":"open"),T.Bb(2),T.nc("@contentExpandAnimation",T.sc(37,co,T.jc(20,17,t.open$)?"expanded":"closed",T.rc(35,ro,t.calculateBottomPixels()))),T.Bb(4),T.nc("ngIf",T.xc(40,so,T.jc(24,19,t.value$),T.jc(25,21,t.label$),T.jc(26,23,t.required$),T.jc(27,25,t.invalid$),T.jc(28,27,t.adamItems$).slice(0,9),T.jc(29,29,t.adamItems$).length,T.jc(30,31,t.showValidation$))))},directives:[Z.k,Y.a,Fe.c,Ke.a,kt.a,Fe.b,ee.a,te.a,Z.m,jn.g,St.q,Fe.d,Z.l,zn,Y.b],pipes:[Z.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[kn]},changeDetection:0}),t}(A);function uo(e){return function(t){Reflect.defineMetadata("inputTypeAnnotations",e,t)}}var po=n("WcVu");function fo(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"div",1),T.Vb(2,"mat-slide-toggle",2),T.Oc(3),T.ic(4,"async"),T.Ub(),T.Qb(5,"app-field-helper-text",3),T.Ub(),T.Sb()),2&e){var n=T.hc();T.Bb(1),T.nc("formGroup",n.group),T.Bb(1),T.nc("formControlName",n.config.field.name),T.Bb(1),T.Pc(T.jc(4,5,n.label$)),T.Bb(2),T.nc("config",n.config)("group",n.group)}}var go=function(e,t){return{disabled:e,showValidation:t}},bo=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.label$=Object(Ct.a)([this.value$,this.settings$,this.label$]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,3),n=t[0],o=t[1];return!0===n&&null!=o.TitleTrue&&""!==o.TitleTrue?o.TitleTrue:!1===n&&null!=o.TitleFalse&&""!==o.TitleFalse?o.TitleFalse:t[2]})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["boolean-default"]],features:[T.yb],decls:3,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],[3,"formControlName"],["disableError","true",3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,fo,6,7,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,go,T.jc(1,1,t.disabled$),T.jc(2,3,t.showValidation$)))},directives:[Z.m,V.m,V.f,Xe.a,V.l,V.d,zn],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),ho=n("z2MI"),mo=n("M/RD");function vo(e,t){if(1&e&&(T.Vb(0,"mat-form-field",3),T.Qb(1,"input",4),T.Qb(2,"mat-datepicker-toggle",5),T.ic(3,"translate"),T.Qb(4,"mat-datepicker",null,6),T.Vb(6,"mat-label"),T.Oc(7),T.Ub(),T.Ub()),2&e){var n=T.Bc(5),i=T.hc().ngIf,o=T.hc();T.nc("formGroup",o.group),T.Bb(1),T.nc("formControlName",o.config.field.name)("matDatepicker",n)("placeholder",i.placeholder)("required",i.required),T.Bb(1),T.nc("for",n)("matTooltip",T.jc(3,8,"Fields.DateTime.Open")),T.Bb(5),T.Pc(i.label)}}function yo(e,t){if(1&e&&(T.Vb(0,"mat-form-field",3),T.Qb(1,"input",7),T.Qb(2,"mat-datepicker-toggle",5),T.ic(3,"translate"),T.Qb(4,"ngx-mat-datetime-picker",null,6),T.Vb(6,"mat-label"),T.Oc(7),T.Ub(),T.Ub()),2&e){var n=T.Bc(5),i=T.hc().ngIf,o=T.hc();T.nc("formGroup",o.group),T.Bb(1),T.nc("formControlName",o.config.field.name)("ngxMatDatetimePicker",n)("placeholder",i.placeholder)("required",i.required),T.Bb(1),T.nc("for",n)("matTooltip",T.jc(3,8,"Fields.DateTime.Open")),T.Bb(5),T.Pc(i.label)}}function wo(e,t){if(1&e&&(T.Tb(0),T.Mc(1,vo,8,10,"mat-form-field",1),T.Mc(2,yo,8,10,"mat-form-field",1),T.Qb(3,"app-field-helper-text",2),T.Sb()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("ngIf",!n.useTimePicker),T.Bb(1),T.nc("ngIf",n.useTimePicker),T.Bb(1),T.nc("config",i.config)("group",i.group)}}var _o=function(e,t,n,i,o,a){return{useTimePicker:e,placeholder:t,required:n,disabled:i,label:o,showValidation:a}},Oo=function(e){function t(t,n,i,o,a){var r=e.call(this,t,n)||this;r.translate=i,r.dateAdapter=o,r.ngxDateTimeAdapter=a;var c=r.translate.currentLang;return r.dateAdapter.setLocale(c),r.ngxDateTimeAdapter.setLocale(c),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.useTimePicker$=this.settings$.pipe(Object(M.a)((function(e){return e.UseTimePicker})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(oe.e),T.Pb(St.a),T.Pb(ho.b))},t.\u0275cmp=T.Jb({type:t,selectors:[["datetime-default"]],features:[T.yb],decls:7,vars:20,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup",4,"ngIf"],[3,"config","group"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"formControlName","matDatepicker","placeholder","required"],["matSuffix","",3,"for","matTooltip"],["picker",""],["matInput","",3,"formControlName","ngxMatDatetimePicker","placeholder","required"]],template:function(e,t){1&e&&(T.Mc(0,wo,4,4,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async")),2&e&&T.nc("ngIf",T.wc(13,_o,T.jc(1,1,t.useTimePicker$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.required$),T.jc(4,7,t.disabled$),T.jc(5,9,t.label$),T.jc(6,11,t.showValidation$)))},directives:[Z.m,zn,jn.c,V.m,V.f,Oi.b,V.b,mo.f,V.l,V.d,V.s,mo.i,jn.h,ee.a,mo.e,jn.g,ho.c,ho.d],pipes:[Z.b,oe.d],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),Co=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T.Jb({type:e,selectors:[["empty-default"]],decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),e}(),xo=n("9Saw"),Mo=n("b67o"),Po=function(){function e(e,t,n,i,o){this.changeEvent=n,this.eavConfig=o,this.fields=[],this.findFields=/\[.*?\]/gi,this.unwrapField=/[\[\]]/gi,this.subscriptions=[],this.mask=e,this.model=t,this.fields=this.fieldList(),i&&(this.preClean=i),t&&n&&this.watchAllFields()}return e.prototype.resolve=function(){var e=this,t=this.mask;return null!=this.eavConfig&&null!=t&&(t=(t=t.replace("[App:AppId]",this.eavConfig.appId)).replace("[App:ZoneId]",this.eavConfig.zoneId)),this.fields.forEach((function(n,i){var o=e.model.hasOwnProperty(n)&&e.model[n]&&e.model[n].value?e.model[n].value:"",a=e.preClean(n,o);t=t.replace("["+n+"]",a)})),t},e.prototype.fieldList=function(){var e=this,t=[];if(!this.mask)return t;var n=this.mask.match(this.findFields);return n?n.forEach((function(n,i){var o=n.replace(e.unwrapField,"");t.push(o)})):t.push(this.mask),t},e.prototype.preClean=function(e,t){return t},e.prototype.onChange=function(){var e=this.resolve();this.value!==e&&this.changeEvent(e),this.value=e},e.prototype.watchAllFields=function(){var e=this;this.fields.forEach((function(t){if(e.model[t]){var n=e.model[t].valueChanges.subscribe((function(t){return e.onChange()}));e.subscriptions.push(n)}}))},e.prototype.destroy=function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))},e}(),Io=n("2FQU"),ko=n("tR80"),So=["autocomplete"];function To(e,t){if(1&e&&(T.Vb(0,"button",16),T.Vb(1,"mat-icon"),T.Oc(2,"arrow_drop_down"),T.Ub(),T.Ub()),2&e){var n=T.hc();T.nc("disabled",n.disabled||!n.settings.EnableAddExisting)}}function jo(e,t){if(1&e&&(T.Vb(0,"button",18),T.Vb(1,"mat-icon"),T.Oc(2,"arrow_drop_down"),T.Ub(),T.Ub()),2&e){var n=T.hc(2);T.nc("disabled",n.disabled)}}function Vo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"a",17),T.dc("click",(function(){return T.Dc(n),T.hc().toggleFreeText()})),T.Vb(1,"button",18),T.Vb(2,"mat-icon",19),T.ic(3,"translate"),T.Oc(4,"text_fields"),T.Ub(),T.Ub(),T.Mc(5,jo,3,1,"button",20),T.Ub()}if(2&e){var i=T.hc();T.Bb(1),T.nc("disabled",i.disabled),T.Bb(1),T.nc("matTooltip",T.jc(3,3,"Fields.String.Freetext")),T.Bb(3),T.nc("ngIf",i.freeTextMode)}}function $o(e,t){if(1&e&&(T.Vb(0,"mat-option",21),T.Vb(1,"span"),T.Oc(2),T.Ub(),T.Ub()),2&e){var n=t.$implicit,i=T.hc();T.nc("value",n.Value)("disabled",i.isOptionDisabled(n.Value)),T.Bb(2),T.Pc(n.Text?n.Text:n.Value)}}function Eo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",22),T.dc("click",(function(){return T.Dc(n),T.hc().openNewEntityDialog()})),T.ic(1,"translate"),T.Vb(2,"mat-icon"),T.Oc(3,"add_circle_outline"),T.Ub(),T.Ub()}if(2&e){var i=T.hc();T.nc("matTooltip",T.jc(1,2,"Fields.Entity.New"))("disabled",i.disabled||i.disableAddNew)}}function Do(e,t){if(1&e){var n=T.Wb();T.Vb(0,"mat-form-field",23),T.Qb(1,"input",24),T.Vb(2,"a",25),T.dc("click",(function(){return T.Dc(n),T.hc().toggleFreeText()})),T.Vb(3,"button",18),T.Vb(4,"mat-icon"),T.Oc(5,"arrow_drop_down"),T.Ub(),T.Ub(),T.Ub(),T.Vb(6,"mat-label"),T.Oc(7),T.Ub(),T.Ub()}if(2&e){var i=T.hc();T.nc("formGroup",i.group),T.Bb(1),T.nc("required",i.required)("formControlName",i.config.field.name)("placeholder",i.placeholder),T.Bb(2),T.nc("disabled",i.disabled),T.Bb(4),T.Pc(i.label)}}function Bo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div"),T.Oc(1,"debug: "),T.Vb(2,"span",26),T.dc("click",(function(){return T.Dc(n),T.hc().insertNull()})),T.Oc(3,"add null-item"),T.Ub(),T.Ub()}}function Uo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div"),T.Vb(1,"button",27),T.dc("click",(function(){return T.Dc(n),T.hc().openNewEntityDialog()})),T.ic(2,"translate"),T.Vb(3,"mat-icon"),T.Oc(4,"add"),T.Ub(),T.Ub(),T.Ub()}if(2&e){var i=T.hc();T.Bb(1),T.nc("matTooltip",T.jc(2,2,"Fields.Entity.New"))("disabled",i.disabled||i.disableAddNew)}}var Lo=function(e){return{"mat-form-field-invalid":e}},zo=function(e){return{"mat-error":e}},Ao=function(){function e(e,t){this.translate=e,this.globalConfigurationService=t,this.toggleFreeTextMode=new T.n,this.addSelected=new T.n,this.editEntity=new T.n,this.filteredEntities=[]}return e.prototype.ngOnInit=function(){this.debugEnabled$=this.globalConfigurationService.getDebugEnabled()},e.prototype.ngOnChanges=function(e){var t,n;if(null!=(null===(t=e.availableEntities)||void 0===t?void 0:t.currentValue)){var i=(null===(n=this.autocompleteRef)||void 0===n?void 0:n.nativeElement.value)||"";this.filterSelectionList(i)}},e.prototype.getPlaceholder=function(){return this.availableEntities.length?"search":this.error?this.error:this.translate.instant("Fields.EntityQuery.QueryNoItems")},e.prototype.toggleFreeText=function(){this.disabled||this.toggleFreeTextMode.emit()},e.prototype.filterSelectionList=function(e){this.filteredEntities=""!==e?this.availableEntities.filter((function(t){return t.Text?t.Text.toLowerCase().includes(e.toLowerCase()):t.Value.toLowerCase().includes(e.toLowerCase())})):this.availableEntities},e.prototype.optionSelected=function(e){this.addSelected.emit(e.option.value),this.autocompleteRef.nativeElement.value="",this.autocompleteRef.nativeElement.blur()},e.prototype.insertNull=function(){this.addSelected.emit(null)},e.prototype.isOptionDisabled=function(e){return!!this.selectedEntities.find((function(t){return t.value===e}))},e.prototype.openNewEntityDialog=function(){this.editEntity.emit(null)},e.\u0275fac=function(t){return new(t||e)(T.Pb(oe.e),T.Pb(Io.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-entity-default-search"]],viewQuery:function(e,t){var n;1&e&&T.Uc(So,!0),2&e&&T.Ac(n=T.ec())&&(t.autocompleteRef=n.first)},inputs:{config:"config",group:"group",control:"control",label:"label",placeholder:"placeholder",required:"required",invalid:"invalid",touched:"touched",disabled:"disabled",freeTextMode:"freeTextMode",settings:"settings",error:"error",disableAddNew:"disableAddNew",selectedEntities:"selectedEntities",availableEntities:"availableEntities"},outputs:{toggleFreeTextMode:"toggleFreeTextMode",addSelected:"addSelected",editEntity:"editEntity"},features:[T.zb],decls:22,vars:29,consts:[[3,"hidden"],["fxLayout","row","fxLayoutAlign","start end",1,"ed-field"],[3,"ngClass"],["appearance","standard","color","accent",3,"formGroup","ngClass"],["matInput","",3,"placeholder","matAutocomplete","disabled","blur","input"],["autocomplete",""],["mat-icon-button","","matSuffix","",3,"disabled",4,"ngIf"],["matSuffix","","fxLayoutAlign","center center","appClickStopPropagation","",3,"click",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["fxLayoutAlign","end center",3,"ngClass"],["mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["appearance","standard","color","accent",3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"config","group"],["mat-icon-button","","matSuffix","",3,"disabled"],["matSuffix","","fxLayoutAlign","center center","appClickStopPropagation","",3,"click"],["mat-icon-button","",3,"disabled"],[3,"matTooltip"],["mat-icon-button","",3,"disabled",4,"ngIf"],[3,"value","disabled"],["mat-icon-button","",3,"matTooltip","disabled","click"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix","","appClickStopPropagation","",3,"click"],[3,"click"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click"]],template:function(e,t){if(1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.Vb(2,"div",2),T.Vb(3,"div",0),T.Vb(4,"mat-form-field",3),T.Vb(5,"input",4,5),T.dc("blur",(function(){return t.control.markAsTouched()}))("input",(function(e){return t.filterSelectionList(e.target.value)})),T.Ub(),T.Mc(7,To,3,1,"button",6),T.Mc(8,Vo,6,5,"a",7),T.Vb(9,"mat-label",2),T.Oc(10),T.ic(11,"translate"),T.Ub(),T.Ub(),T.Vb(12,"mat-autocomplete",8,9),T.dc("optionSelected",(function(e){return t.optionSelected(e)})),T.Mc(14,$o,3,3,"mat-option",10),T.Ub(),T.Ub(),T.Ub(),T.Vb(15,"div",11),T.Mc(16,Eo,4,4,"button",12),T.Ub(),T.Ub(),T.Ub(),T.Mc(17,Do,8,6,"mat-form-field",13),T.Mc(18,Bo,4,0,"div",14),T.ic(19,"async"),T.Qb(20,"app-field-helper-text",15),T.Mc(21,Uo,5,4,"div",14)),2&e){var n=T.Bc(13);T.nc("hidden",t.freeTextMode),T.Bb(2),T.nc("ngClass",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue?"ed-field__field-short":"ed-field__field"),T.Bb(1),T.nc("hidden",!t.settings.AllowMultiValue&&t.selectedEntities.length),T.Bb(1),T.nc("formGroup",t.group)("ngClass",T.rc(25,Lo,t.invalid&&t.touched)),T.Bb(1),T.nc("placeholder",t.getPlaceholder())("matAutocomplete",n)("disabled",t.disabled||!t.settings.EnableAddExisting),T.Bb(2),T.nc("ngIf",!t.settings.EnableTextEntry),T.Bb(1),T.nc("ngIf",t.settings.EnableTextEntry),T.Bb(1),T.nc("ngClass",T.rc(27,zo,t.invalid&&t.touched)),T.Bb(1),T.Rc(" ",t.settings.AllowMultiValue?T.jc(11,21,"Fields.Entity.Choose"):t.label," ",t.required?"*":""," "),T.Bb(4),T.nc("ngForOf",t.filteredEntities),T.Bb(1),T.nc("ngClass",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue?"ed-field__create-icon":"ed-field__create-icon-hide"),T.Bb(1),T.nc("ngIf",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue),T.Bb(1),T.nc("ngIf",t.freeTextMode),T.Bb(1),T.nc("ngIf",T.jc(19,23,t.debugEnabled$)),T.Bb(2),T.nc("config",t.config)("group",t.group),T.Bb(1),T.nc("ngIf",!t.freeTextMode&&t.settings.EnableCreate&&t.settings.EntityType&&t.settings.AllowMultiValue)}},directives:[Fe.c,Fe.b,Z.k,Y.a,jn.c,V.m,V.f,Oi.b,ko.c,Z.m,jn.g,ko.a,Z.l,zn,kt.a,jn.h,te.a,ie.a,ee.a,St.l,V.b,V.s,V.l,V.d],pipes:[oe.d,Z.b],styles:[".ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px;padding-bottom:4px}.ed-field__create-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e}(),Fo=n("2pW/"),Ro=n("kVtj"),Go=function(e){return{disabled:e}};function No(e,t){if(1&e&&(T.Vb(0,"mat-label",3),T.Oc(1),T.Ub()),2&e){var n=T.hc();T.nc("ngClass",T.rc(3,Go,n.disabled)),T.Bb(1),T.Rc(" ",n.label," ",n.required?"*":"","\n")}}function Qo(e,t){if(1&e&&(T.Vb(0,"mat-icon",10),T.ic(1,"translate"),T.Oc(2," drag_handle "),T.Ub()),2&e){var n=T.hc(2);T.nc("matTooltipDisabled",n.disabled)("matTooltip",T.jc(1,2,"Fields.Entity.DragMove"))}}function qo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",11),T.dc("click",(function(){T.Dc(n);var e=T.hc().$implicit;return T.hc().edit(e.value)})),T.ic(1,"translate"),T.Vb(2,"mat-icon"),T.Oc(3,"edit"),T.Ub(),T.Ub()}if(2&e){var i=T.hc(2);T.nc("matTooltip",T.jc(1,2,"Fields.Entity.Edit"))("disabled",i.config.field.disabled)}}function Wo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",11),T.dc("click",(function(){T.Dc(n);var e=T.hc(),t=e.index,i=e.$implicit;return T.hc().deleteItem(t,i.value)})),T.ic(1,"translate"),T.Vb(2,"mat-icon"),T.Oc(3,"delete"),T.Ub(),T.Ub()}if(2&e){var i=T.hc(2);T.nc("matTooltip",T.jc(1,2,"Fields.Entity.Delete"))("disabled",i.disabled)}}function Ho(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",11),T.dc("click",(function(){T.Dc(n);var e=T.hc().index;return T.hc().removeItem(e)})),T.ic(1,"translate"),T.Vb(2,"mat-icon"),T.Oc(3),T.Ub(),T.Ub()}if(2&e){var i=T.hc(2);T.nc("matTooltip",T.jc(1,3,"Fields.Entity.Remove"))("disabled",i.disabled),T.Bb(3),T.Pc(i.settings.AllowMultiValue?"clear":"arrow_drop_down")}}var Jo=function(e,t,n){return{"normal-item":e,"dnd-item":t,disabled:n}};function Ko(e,t){if(1&e&&(T.Vb(0,"div",4),T.Vb(1,"div",5),T.Mc(2,Qo,3,4,"mat-icon",6),T.Vb(3,"span",7),T.Oc(4),T.Ub(),T.Ub(),T.Vb(5,"div",8),T.Mc(6,qo,4,4,"button",9),T.Mc(7,Wo,4,4,"button",9),T.Mc(8,Ho,4,5,"button",9),T.Ub(),T.Ub()),2&e){var n=t.$implicit,i=T.hc();T.nc("ngClass",T.tc(8,Jo,!i.settings.AllowMultiValue,i.settings.AllowMultiValue,i.disabled)),T.Bb(1),T.nc("ngClass",T.rc(12,Go,i.disabled)),T.Bb(1),T.nc("ngIf",i.settings.AllowMultiValue),T.Bb(1),T.nc("matTooltip",n.tooltip),T.Bb(1),T.Qc(" ",n.label," "),T.Bb(2),T.nc("ngIf",i.settings.EnableEdit&&!n.isFreeTextOrNotFound),T.Bb(1),T.nc("ngIf",i.settings.EnableDelete&&!n.isFreeTextOrNotFound),T.Bb(1),T.nc("ngIf",i.settings.EnableRemove)}}var Xo=function(e,t){return{"normal-list":e,"dnd-list":t}},Zo=function(){function e(){this.reorder=new T.n,this.removeSelected=new T.n,this.editEntity=new T.n,this.deleteEntity=new T.n}return e.prototype.trackByFn=function(e,t){return t.value},e.prototype.drop=function(e){Object(xo.d)(this.selectedEntities,e.previousIndex,e.currentIndex),this.reorder.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex})},e.prototype.edit=function(e){this.editEntity.emit(e)},e.prototype.removeItem=function(e){this.removeSelected.emit(e)},e.prototype.deleteItem=function(e,t){this.deleteEntity.emit({index:e,entityGuid:t})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T.Jb({type:e,selectors:[["app-entity-default-list"]],inputs:{config:"config",label:"label",required:"required",disabled:"disabled",freeTextMode:"freeTextMode",settings:"settings",selectedEntities:"selectedEntities"},outputs:{reorder:"reorder",removeSelected:"removeSelected",editEntity:"editEntity",deleteEntity:"deleteEntity"},decls:3,vars:8,consts:[["class","field-label",3,"ngClass",4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","ngClass","cdkDropListDropped"],["cdkDrag","",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"field-label",3,"ngClass"],["cdkDrag","",3,"ngClass"],[1,"item-title",3,"ngClass"],["class","item-title__icon",3,"matTooltipDisabled","matTooltip",4,"ngIf"],[1,"item-title__text",3,"matTooltip"],[1,"item-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"matTooltip","disabled","click",4,"ngIf"],[1,"item-title__icon",3,"matTooltipDisabled","matTooltip"],["mat-icon-button","","appMousedownStopPropagation","",3,"matTooltip","disabled","click"]],template:function(e,t){1&e&&(T.Mc(0,No,2,5,"mat-label",0),T.Vb(1,"div",1),T.dc("cdkDropListDropped",(function(e){return t.drop(e)})),T.Mc(2,Ko,9,14,"div",2),T.Ub()),2&e&&(T.nc("ngIf",!t.settings.AllowMultiValue),T.Bb(1),T.nc("cdkDropListDisabled",!t.settings.AllowMultiValue||t.disabled)("ngClass",T.sc(5,Xo,!t.settings.AllowMultiValue,t.settings.AllowMultiValue)),T.Bb(1),T.nc("ngForOf",t.selectedEntities)("ngForTrackBy",t.trackByFn))},directives:[Z.m,xo.b,Z.k,Y.a,Z.l,jn.g,xo.a,ee.a,te.a,kt.a,Ro.a],pipes:[oe.d],styles:[".normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.normal-list[_ngcontent-%COMP%]   .normal-item.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:rgba(29,39,61,.44)}.field-label.disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type{height:31px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-actions[_ngcontent-%COMP%], .normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.dnd-list[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.dnd-item[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.dnd-item[_ngcontent-%COMP%]:not(.disabled){cursor:move}.dnd-item[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:rgba(29,39,61,.24);cursor:default}.item-actions[_ngcontent-%COMP%]{flex-shrink:0}.item-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .dnd-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dnd-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),e}();function Yo(e,t){if(1&e){var n=T.Wb();T.Vb(0,"app-entity-default-list",3),T.dc("reorder",(function(e){return T.Dc(n),T.hc(2).reorder(e)}))("removeSelected",(function(e){return T.Dc(n),T.hc(2).removeSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc(2).editEntity(e)}))("deleteEntity",(function(e){return T.Dc(n),T.hc(2).deleteEntity(e)})),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.nc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function ea(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Mc(1,Yo,1,7,"app-entity-default-list",1),T.Vb(2,"app-entity-default-search",2),T.dc("toggleFreeTextMode",(function(){return T.Dc(n),T.hc().toggleFreeTextMode()}))("addSelected",(function(e){return T.Dc(n),T.hc().addSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc().editEntity(e)})),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),T.Bb(1),T.nc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var ta=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},na=function(e){function t(t,n,i,o,r,c){var s=e.call(this,t,n)||this;return s.entityService=i,s.translate=o,s.editRoutingService=r,s.snackBar=c,s.useQuery=!1,s.error$=new a.a(""),s.freeTextMode$=new a.a(!1),s.disableAddNew$=new a.a(!0),s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.config.entityCache$=new a.a([]),this.settings$=new a.a(null),this.subscription.add(this.config.field.settings$.pipe(Object(M.a)((function(e){return t.calculateSettings(e)}))).subscribe((function(e){t.settings$.next(e)}))),this.selectedEntities$=Object(Ct.a)([this.value$,this.settings$,this.config.entityCache$]).pipe(Object(M.a)((function(e){var n=Object(i.f)(e,3);return Tn(n[0],n[1].Separator,n[2],t.translate)}))),this.isExpanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.subscription.add(this.settings$.subscribe((function(e){var n;null===(n=t.contentTypeMask)||void 0===n||n.destroy(),t.contentTypeMask=new Po(e.EntityType,t.group.controls,t.useQuery?t.updateAddNew.bind(t):t.fetchAvailableEntities.bind(t),null,t.eavService.eavConfig)}))),this.useQuery?this.updateAddNew():this.fetchAvailableEntities(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.settings$.complete(),this.error$.complete(),this.freeTextMode$.complete(),this.disableAddNew$.complete(),this.config.entityCache$.complete(),this.contentTypeMask.destroy(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleFreeTextMode=function(){this.freeTextMode$.next(!this.freeTextMode$.value)},t.prototype.calculateSettings=function(e){var t=Object(i.a)({},e);return null==t.EntityType&&(t.EntityType=""),null==t.AllowMultiValue&&(t.AllowMultiValue=!1),null==t.EnableEdit&&(t.EnableEdit=!0),null==t.EnableCreate&&(t.EnableCreate=!0),null==t.EnableAddExisting&&(t.EnableAddExisting=!0),null==t.EnableRemove&&(t.EnableRemove=!0),null==t.EnableDelete&&(t.EnableDelete=!1),t},t.prototype.fetchAvailableEntities=function(){var e=this;this.updateAddNew();var t=this.contentTypeMask.resolve();this.entityService.getAvailableEntities(this.settings$.value.EnableAddExisting?null:this.control.value,t).subscribe((function(t){e.config.entityCache$.next(t)}))},t.prototype.updateAddNew=function(){var e=this.contentTypeMask.resolve();this.disableAddNew$.next(!e)},t.prototype.reorder=function(e){this.updateValue("reorder",e)},t.prototype.addSelected=function(e){this.updateValue("add",e)},t.prototype.removeSelected=function(e){this.updateValue("delete",e)},t.prototype.editEntity=function(e){var t;t=null==e?{items:[{ContentTypeName:this.contentTypeMask.resolve()}]}:{items:[{EntityId:this.config.entityCache$.value.find((function(t){return t.Value===e})).Id}]},this.editRoutingService.open(this.config.field.index,this.config.entity.entityGuid,t)},t.prototype.deleteEntity=function(e){var t=this,n=this.config.entityCache$.value.find((function(t){return t.Value===e.entityGuid})),i=n.Id.toString(),o=n.Text,a=this.contentTypeMask.resolve();confirm(this.translate.instant("Data.Delete.Question",{title:o,id:i}))&&(this.snackBar.open("Deleting..."),this.entityService.delete(a,i,!1).subscribe({next:function(){t.snackBar.open("Deleted",null,{duration:2e3}),t.removeSelected(e.index),t.fetchAvailableEntities()},error:function(n){t.snackBar.dismiss(),confirm(t.translate.instant("Data.Delete.Question",{title:o,id:i}))&&(t.snackBar.open("Deleting..."),t.entityService.delete(a,i,!0).subscribe((function(n){t.snackBar.open("Deleted",null,{duration:2e3}),t.removeSelected(e.index),t.fetchAvailableEntities()})))}}))},t.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.editRoutingService.childFormClosed().subscribe((function(){e.fetchAvailableEntities()}))),this.subscription.add(this.editRoutingService.childFormResult(this.config.field.index,this.config.entity.entityGuid).subscribe((function(t){var n=Object.keys(t)[0];e.addSelected(n)})))},t.prototype.updateValue=function(e,t){var n=this,o="string"==typeof this.control.value?Sn.a.convertValueToArray(this.control.value,this.settings$.value.Separator):Object(i.g)(this.control.value);switch(e){case"add":o.push(t);break;case"delete":o.splice(t,1);break;case"reorder":var a=t;Object(xo.d)(o,a.previousIndex,a.currentIndex)}if("string"==typeof this.control.value){var r=Sn.a.convertArrayToString(o,this.settings$.value.Separator);this.control.patchValue(r)}else this.control.patchValue(o);this.control.dirty||this.control.markAsDirty(),"delete"!==e||o.length||setTimeout((function(){var e;null===(e=n.entitySearchComponent.autocompleteRef)||void 0===e||e.nativeElement.focus()}))},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Mo.a),T.Pb(oe.e),T.Pb(X.a),T.Pb(Fo.b))},t.\u0275cmp=T.Jb({type:t,selectors:[["entity-default"]],viewQuery:function(e,t){var n;1&e&&T.Uc(Ao,!0),2&e&&T.Ac(n=T.ec())&&(t.entitySearchComponent=n.first)},features:[T.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(T.Mc(0,ea,3,16,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.ic(10,"async"),T.ic(11,"async"),T.ic(12,"async"),T.ic(13,"async")),2&e&&T.nc("ngIf",T.zc(27,ta,[T.jc(1,1,t.label$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.required$),T.jc(4,7,t.invalid$),t.control.touched,T.jc(5,9,t.disabled$),T.jc(6,11,t.freeTextMode$),T.jc(7,13,t.settings$),T.jc(8,15,t.selectedEntities$),T.jc(9,17,t.config.entityCache$),T.jc(10,19,t.disableAddNew$),T.jc(11,21,t.isExpanded$),T.jc(12,23,t.error$),T.jc(13,25,t.showValidation$)]))},directives:[Z.m,Ao,Zo],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(A);function ia(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",16),T.dc("click",(function(){return T.Dc(n),T.hc(3).toggleAdam(!1,!1)})),T.ic(1,"translate"),T.Qb(2,"mat-icon",17),T.Ub()}if(2&e){var i=T.hc(2).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.Default.AdamTip"))("disabled",i.disabled)}}function oa(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",18),T.dc("click",(function(){return T.Dc(n),T.hc(3).openPagePicker()})),T.ic(1,"translate"),T.Qb(2,"mat-icon",19),T.Ub()}if(2&e){var i=T.hc(2).ngIf;T.nc("matTooltip",T.jc(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",i.disabled)}}function aa(e,t){if(1&e&&(T.Vb(0,"button",20),T.ic(1,"translate"),T.Vb(2,"mat-icon"),T.Oc(3,"more_vert"),T.Ub(),T.Ub()),2&e){T.hc();var n=T.Bc(6),i=T.hc().ngIf;T.nc("matTooltip",T.jc(1,3,"Fields.Hyperlink.Default.MoreOptions"))("disabled",i.disabled)("matMenuTriggerFor",n)}}function ra(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",21),T.dc("click",(function(){return T.Dc(n),T.hc(3).toggleAdam(!1,!1)})),T.Qb(1,"mat-icon",17),T.Vb(2,"span"),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Ub()}2&e&&(T.Bb(3),T.Pc(T.jc(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function ca(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",21),T.dc("click",(function(){return T.Dc(n),T.hc(3).openPagePicker()})),T.Qb(1,"mat-icon",19),T.Vb(2,"span"),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Ub()}2&e&&(T.Bb(3),T.Pc(T.jc(4,1,"Fields.Hyperlink.Default.MenuPage")))}function sa(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",21),T.dc("click",(function(){return T.Dc(n),T.hc(3).toggleAdam(!0,!0)})),T.Qb(1,"mat-icon",22),T.Vb(2,"span"),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Ub()}2&e&&(T.Bb(3),T.Pc(T.jc(4,1,"Fields.Hyperlink.Default.MenuImage")))}function la(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",21),T.dc("click",(function(){return T.Dc(n),T.hc(3).toggleAdam(!0,!1)})),T.Qb(1,"mat-icon",23),T.Vb(2,"span"),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Ub()}2&e&&(T.Bb(3),T.Pc(T.jc(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function da(e,t){if(1&e&&(T.Vb(0,"div",24),T.Vb(1,"div",25),T.Oc(2),T.Ub(),T.Vb(3,"div",26),T.Vb(4,"a",27),T.Vb(5,"span"),T.Oc(6),T.Ub(),T.Ub(),T.Ub(),T.Ub()),2&e){var n=T.hc(2).ngIf;T.Bb(2),T.Pc(n.value),T.Bb(2),T.nc("href",n.preview.url,T.Gc)("matTooltip",n.preview.url),T.Bb(2),T.Pc(n.preview.floatingText)}}function ua(e,t){if(1&e&&(T.Vb(0,"a",31),T.Vb(1,"div",32),T.Qb(2,"img",33),T.Ub(),T.Ub()),2&e){var n=T.hc(3).ngIf;T.nc("href",n.preview.thumbnailUrl,T.Gc),T.Bb(2),T.nc("src",n.preview.thumbnailPreviewUrl,T.Gc)}}function pa(e,t){if(1&e&&(T.Vb(0,"mat-icon"),T.Oc(1),T.Ub()),2&e){var n=T.hc(4).ngIf;T.Bb(1),T.Pc(n.preview.icon)}}function fa(e,t){if(1&e&&T.Qb(0,"mat-icon",37),2&e){var n=T.hc(4).ngIf;T.nc("svgIcon",n.preview.icon)}}function ga(e,t){if(1&e&&(T.Vb(0,"a",34),T.Vb(1,"div",35),T.Mc(2,pa,2,1,"mat-icon",0),T.Mc(3,fa,1,1,"mat-icon",36),T.Ub(),T.Ub()),2&e){var n=T.hc(3).ngIf;T.nc("href",n.preview.url,T.Gc)("matTooltip",n.preview.url),T.Bb(2),T.nc("ngIf",n.preview.isKnownType),T.Bb(1),T.nc("ngIf",!n.preview.isKnownType)}}function ba(e,t){if(1&e&&(T.Vb(0,"div",28),T.Mc(1,ua,3,2,"a",29),T.Mc(2,ga,4,4,"a",30),T.Ub()),2&e){var n=T.hc(2).ngIf;T.Bb(1),T.nc("ngIf",n.preview.isImage),T.Bb(1),T.nc("ngIf",!n.preview.isImage)}}function ha(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"div",1),T.Mc(2,ia,3,4,"button",2),T.Mc(3,oa,3,4,"button",3),T.Mc(4,aa,4,5,"button",4),T.Ub(),T.Vb(5,"mat-menu",5,6),T.Mc(7,ra,5,3,"button",7),T.Mc(8,ca,5,3,"button",7),T.Mc(9,sa,5,3,"button",7),T.Mc(10,la,5,3,"button",7),T.Ub(),T.Vb(11,"div",8),T.Vb(12,"div",9),T.Vb(13,"mat-card",10),T.Vb(14,"div",11),T.Vb(15,"mat-form-field",12),T.Qb(16,"input",13),T.ic(17,"translate"),T.ic(18,"async"),T.ic(19,"async"),T.Vb(20,"mat-label"),T.Oc(21),T.ic(22,"async"),T.Ub(),T.Ub(),T.Mc(23,da,7,4,"div",14),T.Ub(),T.Mc(24,ba,3,2,"div",15),T.Ub(),T.Ub(),T.Ub(),T.Sb()),2&e){var n=T.hc().ngIf,i=T.hc();T.Bb(2),T.nc("ngIf",n.buttons.includes("adam")),T.Bb(1),T.nc("ngIf",n.buttons.includes("page")),T.Bb(1),T.nc("ngIf",n.buttons.includes("more")),T.Bb(3),T.nc("ngIf",n.settings.ShowAdam),T.Bb(1),T.nc("ngIf",n.settings.ShowPagePicker),T.Bb(1),T.nc("ngIf",n.settings.ShowImageManager),T.Bb(1),T.nc("ngIf",n.settings.ShowFileManager),T.Bb(5),T.nc("formGroup",i.group),T.Bb(1),T.nc("formControlName",i.config.field.name)("matTooltip",T.jc(17,17,"Fields.Hyperlink.Default.Tooltip"))("placeholder",T.jc(18,19,i.placeholder$))("required",T.jc(19,21,i.required$))("config",i.config)("elementType","input"),T.Bb(5),T.Pc(T.jc(22,23,i.label$)),T.Bb(2),T.nc("ngIf",null==n.preview?null:n.preview.floatingText),T.Bb(1),T.nc("ngIf",n.value&&n.preview)}}function ma(e,t){if(1&e&&(T.Tb(0),T.Mc(1,ha,25,25,"ng-container",0),T.ic(2,"async"),T.Sb()),2&e){var n=T.hc();T.Bb(1),T.nc("ngIf",T.jc(2,1,n.open$))}}var va=function(e,t,n,i,o,a){return{disabled:e,buttons:t,settings:n,value:i,preview:o,showValidation:a}},ya=function(e){function t(t,n,i,o,r){var c=e.call(this,t,n)||this;return c.fileTypeService=i,c.dnnBridgeService=o,c.editRoutingService=r,c.preview$=new a.a({url:"",thumbnailUrl:"",thumbnailPreviewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),c}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.buttons$=this.settings$.pipe(Object(M.a)((function(e){return e.Buttons||"adam,more"}))),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.subscription.add(this.settings$.subscribe((function(e){t.attachAdam(e)}))),this.subscription.add(this.value$.subscribe((function(e){t.setLink(e)})))},t.prototype.ngOnDestroy=function(){this.preview$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.openPagePicker=function(){var e=this.settings$.value;this.dnnBridgeService.open({CurrentValue:this.control.value,FileFilter:null!=e.FileFilter?e.FileFilter:"",Paths:null!=e.Paths?e.Paths:""},this.pagePickerCallback.bind(this))},t.prototype.pagePickerCallback=function(e){e&&this.control.patchValue("page:"+e.id)},t.prototype.setLink=function(e){var t=this;e&&this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name).subscribe((function(e){if(e){var n=e.toLowerCase(),i={url:e,floatingText:n.includes("file:")||n.includes("page:")?".../"+e.substring(e.lastIndexOf("/")+1,e.length):"",thumbnailUrl:t.thumbnailUrl(e),thumbnailPreviewUrl:t.thumbnailUrl(e,2),isImage:t.fileTypeService.isImage(e),isKnownType:t.fileTypeService.isKnownType(e),icon:t.fileTypeService.getIconClass(e)};t.preview$.next(i)}}))},t.prototype.thumbnailUrl=function(e,t,n){var i=e;1===t&&(i+="?w=72&h=72&mode=crop"),2===t&&(i+="?w=800&h=800&mode=max");var o=n?'"':"";return o+i+o},t.prototype.toggleAdam=function(e,t){this.config.adam.toggle(e,t)},t.prototype.attachAdam=function(e){var t=this;this.config.adam.onItemClick=function(e){t.setValue(e)},this.config.adam.onItemUpload=function(e){t.setValue(e)},this.config.adam.setConfig({rootSubfolder:e.Paths,fileFilter:e.FileFilter,autoLoad:!0})},t.prototype.setValue=function(e){this.control.patchValue("url"===this.settings$.value.ServerResourceMapping?e.FullPath:"file:"+e.Id)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(q.a),T.Pb(ri.a),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["hyperlink-default"]],features:[T.yb],decls:7,vars:20,consts:[[4,"ngIf"],[1,"fabs-box"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","matMenuTriggerFor",4,"ngIf"],[1,"menu-box"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["appearance","standard","color","accent",3,"formGroup"],["matInput","","matTooltipPosition","above","appPasteClipboardImage","",3,"formControlName","matTooltip","placeholder","required","config","elementType"],["class","hyperlink-floating",4,"ngIf"],["class","preview-wrapper",4,"ngIf"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click"],["svgIcon","appleFilled"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","sitemap"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","matTooltip"],[1,"preview-wrapper"],["target","_blank",3,"href",4,"ngIf"],["target","_blank","matTooltipPosition","right",3,"href","matTooltip",4,"ngIf"],["target","_blank",3,"href"],[1,"preview-image-box"],[1,"preview-image",3,"src"],["target","_blank","matTooltipPosition","right",3,"href","matTooltip"],[1,"preview-icon-box"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(e,t){1&e&&(T.Mc(0,ma,3,3,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async")),2&e&&T.nc("ngIf",T.wc(13,va,T.jc(1,1,t.disabled$),T.jc(2,3,t.buttons$),T.jc(3,5,t.settings$),T.jc(4,7,t.value$),T.jc(5,9,t.preview$),T.jc(6,11,t.showValidation$)))},directives:[Z.m,Zt.d,Ke.a,jn.c,V.m,V.f,Oi.b,V.b,ne,V.l,V.d,ee.a,V.s,jn.g,kt.a,te.a,Zt.c,Zt.a],pipes:[Z.b,oe.d],styles:[".fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 295px);height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:rgba(29,39,61,.08)}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:rgba(29,39,61,.44)}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.DropzoneWrapper,po.a.EavLocalizationWrapper,po.a.HyperlinkDefaultExpandableWrapper,po.a.AdamAttachWrapper]})],t)}(A);function wa(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"mat-form-field",1),T.Qb(2,"input",2),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.Vb(7,"mat-label"),T.Oc(8),T.ic(9,"async"),T.Ub(),T.Ub(),T.Qb(10,"app-field-helper-text",3),T.Sb()),2&e){var n=T.hc();T.Bb(1),T.nc("formGroup",n.group),T.Bb(1),T.nc("formControlName",n.config.field.name)("required",T.jc(3,9,n.required$))("placeholder",T.jc(4,11,n.placeholder$))("min",T.jc(5,13,n.min$))("max",T.jc(6,15,n.max$)),T.Bb(6),T.Pc(T.jc(9,17,n.label$)),T.Bb(2),T.nc("config",n.config)("group",n.group)}}var _a=function(e,t){return{disabled:e,showValidation:t}},Oa=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.min$=this.settings$.pipe(Object(M.a)((function(e){return e.Min}))),this.max$=this.settings$.pipe(Object(M.a)((function(e){return e.Max})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["number-default"]],features:[T.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],["matInput","","type","number",3,"formControlName","required","placeholder","min","max"],[3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,wa,11,19,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,_a,T.jc(1,1,t.disabled$),T.jc(2,3,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Oi.b,V.p,V.b,V.l,V.d,V.s,jn.g,zn],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A);function Ca(e,t){if(1&e&&T.Qb(0,"input",5),2&e){var n=T.hc().ngIf,i=T.hc();T.nc("formControlName",i.config.field.name)("placeholder",n.placeholder)("required",n.required)}}function xa(e,t){if(1&e&&(T.Vb(0,"textarea",6),T.Oc(1,"    "),T.Ub()),2&e){var n=T.hc().ngIf,i=T.hc();T.nc("formControlName",i.config.field.name)("rows",n.rowCount)("placeholder",n.placeholder)("required",n.required)}}var Ma=function(e){return{"textarea-field":e}};function Pa(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"mat-form-field",1),T.Mc(2,Ca,1,3,"input",2),T.Mc(3,xa,2,4,"textarea",3),T.Vb(4,"mat-label"),T.Oc(5),T.Ub(),T.Ub(),T.Qb(6,"app-field-helper-text",4),T.Sb()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("formGroup",i.group)("ngClass",T.rc(7,Ma,n.rowCount>1)),T.Bb(1),T.nc("ngIf",n.rowCount<=1),T.Bb(1),T.nc("ngIf",n.rowCount>1),T.Bb(2),T.Pc(n.label),T.Bb(1),T.nc("config",i.config)("group",i.group)}}var Ia=function(e,t,n,i,o,a){return{rowCount:e,label:t,placeholder:n,required:i,disabled:o,showValidation:a}},ka=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rowCount$=this.settings$.pipe(Object(M.a)((function(e){return e.RowCount||1})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-default"]],features:[T.yb],decls:7,vars:20,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup","ngClass"],["matInput","",3,"formControlName","placeholder","required",4,"ngIf"],["matInput","",3,"formControlName","rows","placeholder","required",4,"ngIf"],[3,"config","group"],["matInput","",3,"formControlName","placeholder","required"],["matInput","",3,"formControlName","rows","placeholder","required"]],template:function(e,t){1&e&&(T.Mc(0,Pa,7,9,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async")),2&e&&T.nc("ngIf",T.wc(13,Ia,T.jc(1,1,t.rowCount$),T.jc(2,3,t.label$),T.jc(3,5,t.placeholder$),T.jc(4,7,t.required$),T.jc(5,9,t.disabled$),T.jc(6,11,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Z.k,Y.a,jn.g,zn,Oi.b,V.b,V.l,V.d,V.s],pipes:[Z.b],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),Sa=n("LuBX");function Ta(e,t){if(1&e&&(T.Vb(0,"mat-option",8),T.Oc(1),T.Ub()),2&e){var n=t.$implicit;T.nc("value",n.value),T.Bb(1),T.Qc(" ",n.label," ")}}function ja(e,t){if(1&e&&(T.Vb(0,"mat-select",6),T.Mc(1,Ta,2,2,"mat-option",7),T.Ub()),2&e){var n=T.hc().ngIf,i=T.hc();T.nc("formControlName",i.config.field.name)("required",n.required)("placeholder",n.placeholder),T.Bb(1),T.nc("ngForOf",n.dropdownOptions)}}function Va(e,t){if(1&e&&T.Qb(0,"input",9),2&e){var n=T.hc().ngIf,i=T.hc();T.nc("formControlName",i.config.field.name)("required",n.required)("placeholder",n.placeholder)}}function $a(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",10),T.dc("click",(function(){return T.Dc(n),T.hc(2).toggleFreeTextMode()})),T.Vb(1,"mat-icon",11),T.ic(2,"translate"),T.Oc(3),T.Ub(),T.Ub()}if(2&e){var i=T.hc().ngIf;T.nc("disabled",i.disabled),T.Bb(1),T.nc("matTooltip",T.jc(2,3,i.freeTextMode?"Fields.String.Dropdown":"Fields.String.Freetext")),T.Bb(2),T.Qc(" ",i.freeTextMode?"arrow_drop_down_circle":"text_fields"," ")}}function Ea(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"mat-form-field",1),T.Mc(2,ja,2,4,"mat-select",2),T.Mc(3,Va,1,3,"input",3),T.Mc(4,$a,4,5,"button",4),T.Vb(5,"mat-label"),T.Oc(6),T.Ub(),T.Ub(),T.Qb(7,"app-field-helper-text",5),T.Sb()),2&e){var n=t.ngIf,i=T.hc();T.Bb(1),T.nc("formGroup",i.group),T.Bb(1),T.nc("ngIf",!n.freeTextMode),T.Bb(1),T.nc("ngIf",n.freeTextMode),T.Bb(1),T.nc("ngIf",n.enableTextEntry),T.Bb(2),T.Pc(n.label),T.Bb(1),T.nc("config",i.config)("group",i.group)}}var Da=function(e,t,n,i,o,a,r,c){return{required:e,placeholder:t,label:n,disabled:i,enableTextEntry:o,dropdownOptions:a,freeTextMode:r,showValidation:c}},Ba=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.toggleFreeText$=new a.a(!1),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.enableTextEntry$=this.settings$.pipe(Object(M.a)((function(e){return e.EnableTextEntry||!1}))),this.dropdownOptions$=Object(Ct.a)([this.value$,this.settings$]).pipe(Object(M.a)((function(e){var t,n,o,a,r=Object(i.f)(e,2);return t=r[0],o=!1,a=[],(n=r[1].DropdownValues)&&(a=n.replace(/\r/g,"").split("\n").map((function(e){var n=e.split(":"),i=n[1],a=n.shift(),r=n.join(":"),c={label:a,value:r||""===i?r:a};return c.value===t&&(o=!0),c}))),o||a.push({label:t,value:t}),a}))),this.freeTextMode$=Object(Ct.a)([this.enableTextEntry$,this.toggleFreeText$]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,2);return!!t[0]&&t[1]})))},t.prototype.ngOnDestroy=function(){this.toggleFreeText$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleFreeTextMode=function(){this.toggleFreeText$.next(!this.toggleFreeText$.value)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-dropdown"]],features:[T.yb],decls:9,vars:26,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],[3,"formControlName","required","placeholder",4,"ngIf"],["matInput","",3,"formControlName","required","placeholder",4,"ngIf"],["matSuffix","","mat-icon-button","","appClickStopPropagation","",3,"disabled","click",4,"ngIf"],[3,"config","group"],[3,"formControlName","required","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","",3,"formControlName","required","placeholder"],["matSuffix","","mat-icon-button","","appClickStopPropagation","",3,"disabled","click"],[3,"matTooltip"]],template:function(e,t){1&e&&(T.Mc(0,Ea,8,7,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async")),2&e&&T.nc("ngIf",T.yc(17,Da,T.jc(1,1,t.required$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.label$),T.jc(4,7,t.disabled$),T.jc(5,9,t.enableTextEntry$),T.jc(6,11,t.dropdownOptions$),T.jc(7,13,t.freeTextMode$),T.jc(8,15,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,jn.g,zn,Sa.a,V.l,V.d,V.s,Z.l,St.l,Oi.b,V.b,kt.a,jn.h,ie.a,te.a,ee.a],pipes:[Z.b,oe.d],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),Ua=n("gatd");function La(e,t){if(1&e){var n=T.Wb();T.Vb(0,"app-entity-default-list",3),T.dc("reorder",(function(e){return T.Dc(n),T.hc(2).reorder(e)}))("removeSelected",(function(e){return T.Dc(n),T.hc(2).removeSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc(2).editEntity(e)}))("deleteEntity",(function(e){return T.Dc(n),T.hc(2).deleteEntity(e)})),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.nc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function za(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Mc(1,La,1,7,"app-entity-default-list",1),T.Vb(2,"app-entity-default-search",2),T.dc("toggleFreeTextMode",(function(){return T.Dc(n),T.hc().toggleFreeTextMode()}))("addSelected",(function(e){return T.Dc(n),T.hc().addSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc().editEntity(e)})),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),T.Bb(1),T.nc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var Aa=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},Fa=function(e){function t(t,n,i,o,a,r,c){var s=e.call(this,t,n,i,o,a,r)||this;return s.queryService=c,s.useQuery=!0,s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){var n;null===(n=t.paramsMask)||void 0===n||n.destroy(),t.paramsMask=new Po(e.UrlParameters,t.group.controls,t.fetchAvailableEntities.bind(t),null,t.eavService.eavConfig)}))),this.fetchAvailableEntities()},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return null==n.Query&&(n.Query=""),null!=n.StreamName&&""!==n.StreamName||(n.StreamName="Default"),null==n.UrlParameters&&(n.UrlParameters=""),n},t.prototype.fetchAvailableEntities=function(){var e=this,t=this.settings$.value;if(t.Query){var n=t.StreamName,i=t.Query.includes("/")?t.Query:t.Query+"/"+n,o=this.paramsMask.resolve();this.queryService.getAvailableEntities(i,!0,o).subscribe({next:function(t){if(t)if(t[n]){var i=t[n].map(e.queryEntityMapping.bind(e));e.config.entityCache$.next(i)}else e.error$.next(e.translate.instant("Fields.EntityQuery.QueryStreamNotFound")+n);else e.error$.next(e.translate.instant("Fields.EntityQuery.QueryError"))},error:function(t){console.error(t),console.error(e.translate.instant("Fields.EntityQuery.QueryError")+" - "+t.data)}})}else alert("No query defined for "+this.config.field.name+" - can't load entities")},t.prototype.queryEntityMapping=function(e){return{Id:e.Id,Value:e.Guid,Text:e.Title}},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Mo.a),T.Pb(oe.e),T.Pb(X.a),T.Pb(Fo.b),T.Pb(Ua.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["entity-query"]],features:[T.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(T.Mc(0,za,3,16,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.ic(10,"async"),T.ic(11,"async"),T.ic(12,"async"),T.ic(13,"async")),2&e&&T.nc("ngIf",T.zc(27,Aa,[T.jc(1,1,t.label$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.required$),T.jc(4,7,t.invalid$),t.control.touched,T.jc(5,9,t.disabled$),T.jc(6,11,t.freeTextMode$),T.jc(7,13,t.settings$),T.jc(8,15,t.selectedEntities$),T.jc(9,17,t.config.entityCache$),T.jc(10,19,t.disableAddNew$),T.jc(11,21,t.isExpanded$),T.jc(12,23,t.error$),T.jc(13,25,t.showValidation$)]))},directives:[Z.m,Ao,Zo],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(na);function Ra(e,t){if(1&e){var n=T.Wb();T.Vb(0,"app-entity-default-list",3),T.dc("reorder",(function(e){return T.Dc(n),T.hc(2).reorder(e)}))("removeSelected",(function(e){return T.Dc(n),T.hc(2).removeSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc(2).editEntity(e)}))("deleteEntity",(function(e){return T.Dc(n),T.hc(2).deleteEntity(e)})),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.nc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function Ga(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Mc(1,Ra,1,7,"app-entity-default-list",1),T.Vb(2,"app-entity-default-search",2),T.dc("toggleFreeTextMode",(function(){return T.Dc(n),T.hc().toggleFreeTextMode()}))("addSelected",(function(e){return T.Dc(n),T.hc().addSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc().editEntity(e)})),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),T.Bb(1),T.nc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var Na=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},Qa=function(e){function t(t,n,i,o,a,r,c){return e.call(this,t,n,i,o,a,r,c)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return null==n.Value&&(n.Value=""),null==n.Label&&(n.Label=""),null==n.EnableTextEntry&&(n.EnableTextEntry=!1),null!=n.Separator&&""!==n.Separator||(n.Separator=","),n},t.prototype.queryEntityMapping=function(e){var t=this.settings$.value;return{Id:e.Id,Value:e[t.Value],Text:e[t.Label]}},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Mo.a),T.Pb(oe.e),T.Pb(X.a),T.Pb(Fo.b),T.Pb(Ua.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-dropdown-query"]],features:[T.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(T.Mc(0,Ga,3,16,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.ic(10,"async"),T.ic(11,"async"),T.ic(12,"async"),T.ic(13,"async")),2&e&&T.nc("ngIf",T.zc(27,Na,[T.jc(1,1,t.label$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.required$),T.jc(4,7,t.invalid$),t.control.touched,T.jc(5,9,t.disabled$),T.jc(6,11,t.freeTextMode$),T.jc(7,13,t.settings$),T.jc(8,15,t.selectedEntities$),T.jc(9,17,t.config.entityCache$),T.jc(10,19,t.disableAddNew$),T.jc(11,21,t.isExpanded$),T.jc(12,23,t.error$),T.jc(13,25,t.showValidation$)]))},directives:[Z.m,Ao,Zo],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(Fa),qa=n("Scw0"),Wa=n("wrf9");function Ha(e,t){if(1&e&&T.Qb(0,"i"),2&e){var n=T.hc().ngIf;T.Eb("icon-preview ",n.previewCss," ",n.value,"")}}function Ja(e,t){if(1&e&&(T.Vb(0,"mat-option",9),T.Vb(1,"div",2),T.Qb(2,"i"),T.Vb(3,"span"),T.Oc(4),T.Ub(),T.Ub(),T.Ub()),2&e){var n=t.$implicit,i=T.hc().ngIf;T.nc("value",n.class),T.Bb(2),T.Eb("icon-preview ",i.previewCss," ",n.class,""),T.Bb(2),T.Pc(n.label)}}function Ka(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"mat-form-field",1),T.Vb(2,"div",2),T.Mc(3,Ha,1,4,"i",3),T.Qb(4,"input",4),T.ic(5,"async"),T.ic(6,"async"),T.Ub(),T.Vb(7,"mat-autocomplete",null,5),T.Vb(9,"cdk-virtual-scroll-viewport",6),T.Mc(10,Ja,5,6,"mat-option",7),T.Ub(),T.Ub(),T.Vb(11,"mat-label"),T.Oc(12),T.ic(13,"async"),T.Ub(),T.Ub(),T.Qb(14,"app-field-helper-text",8),T.Sb()),2&e){var n=t.ngIf,i=T.Bc(8),o=T.hc();T.Bb(1),T.nc("formGroup",o.group),T.Bb(2),T.nc("ngIf",n.value),T.Bb(1),T.nc("formControlName",o.config.field.name)("placeholder",T.jc(5,12,o.placeholder$))("required",T.jc(6,14,o.required$))("matAutocomplete",i),T.Bb(5),T.Lc("height",n.filteredIcons.length<6?48*n.filteredIcons.length:240,"px"),T.Bb(1),T.nc("cdkVirtualForOf",n.filteredIcons),T.Bb(2),T.Pc(T.jc(13,16,o.label$)),T.Bb(2),T.nc("config",o.config)("group",o.group)}}var Xa=function(e,t,n,i,o){return{value:e,filteredIcons:t,disabled:n,previewCss:i,showValidation:o}},Za=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.scriptsLoaderService=i,o.iconOptions$=new a.a([]),o}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){var n=e.CssPrefix||"",i=e.ShowPrefix||!1;t.scriptsLoaderService.load((e.Files||"").split("\n"),(function(){var e=function(e,t){var n=[],i={};if(!e)return n;for(var o=t?0:e.length-1,a=0;a<document.styleSheets.length;a++){var r=document.styleSheets[a];if(r){var c=void 0;try{c=r.rules}catch(p){}if(!c)try{c=r.cssRules}catch(p){}if(c)for(var s=0;s<c.length;s++){var l=c[s];if(l.selectorText&&l.selectorText.startsWith(e)){var d=l.selectorText,u=d.substring(0,d.indexOf(":")).replace(".","");i[u]||(n.push({rule:l,class:u,search:null==u?void 0:u.toLowerCase(),label:u.substring(o)}),i[u]=!0)}}}}return n}(n,i);t.iconOptions$.next(e)}))}))),this.previewCss$=this.settings$.pipe(Object(M.a)((function(e){return e.PreviewCss}))),this.filteredIcons$=Object(Ct.a)([this.value$,this.iconOptions$]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,2),n=t[0],o=t[1];return n?o.filter((function(e){var t,i;return null!==(i=null===(t=e.search)||void 0===t?void 0:t.includes(n.toLowerCase()))&&void 0!==i&&i})):o})))},t.prototype.ngOnDestroy=function(){this.iconOptions$.complete(),e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(qa.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-font-icon-picker"]],features:[T.yb],decls:6,vars:17,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],[1,"icon-option"],[3,"class",4,"ngIf"],["matInput","",3,"formControlName","placeholder","required","matAutocomplete"],["auto","matAutocomplete"],["itemSize","48","minBufferPx","500","maxBufferPx","1000"],[3,"value",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"config","group"],[3,"value"]],template:function(e,t){1&e&&(T.Mc(0,Ka,15,18,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async")),2&e&&T.nc("ngIf",T.vc(11,Xa,T.jc(1,1,t.value$),T.jc(2,3,t.filteredIcons$),T.jc(3,5,t.disabled$),T.jc(4,7,t.previewCss$),T.jc(5,9,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Oi.b,V.b,ko.c,V.l,V.d,V.s,ko.a,Wa.c,Wa.a,Wa.b,jn.g,zn,St.l],pipes:[Z.b],styles:[".icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),Ya=n("6fnQ"),er=n("Q+Kz"),tr={Token:{ext:".html",prefix:"",suggestion:er.c},"C# Razor":{ext:".cshtml",prefix:"_",suggestion:er.b}};function nr(e,t){if(1&e&&(T.Vb(0,"mat-option",8),T.Oc(1),T.Ub()),2&e){var n=t.$implicit;T.nc("value",n),T.Bb(1),T.Qc(" ",n," ")}}function ir(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"div",1),T.Vb(2,"mat-form-field",2),T.Vb(3,"mat-select",3),T.ic(4,"async"),T.Vb(5,"mat-option",4),T.Oc(6,"(no file selected)"),T.Ub(),T.Mc(7,nr,2,2,"mat-option",5),T.ic(8,"async"),T.Ub(),T.Vb(9,"mat-label"),T.Oc(10),T.ic(11,"async"),T.Ub(),T.Ub(),T.Vb(12,"button",6),T.dc("click",(function(){return T.Dc(n),T.hc().createTemplate()})),T.ic(13,"async"),T.Vb(14,"mat-icon"),T.Oc(15,"add"),T.Ub(),T.Ub(),T.Ub(),T.Qb(16,"app-field-helper-text",7),T.Sb()}if(2&e){var i=T.hc();T.Bb(2),T.nc("formGroup",i.group),T.Bb(1),T.nc("formControlName",i.config.field.name)("required",T.jc(4,8,i.required$)),T.Bb(4),T.nc("ngForOf",T.jc(8,10,i.templateOptions$)),T.Bb(3),T.Pc(T.jc(11,12,i.label$)),T.Bb(2),T.nc("disabled",T.jc(13,14,i.disabled$)),T.Bb(4),T.nc("config",i.config)("group",i.group)}}var or=function(e){return{showValidation:e}},ar=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.assetsService=i,o.templateOptions$=new a.a([]),o.activeSpec=tr.Token,o.templates=[],o.global=!1,o.resetIfNotFound=!1,o}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.typeWatcher=new Po("[Type]",this.group.controls,this.setFileConfig.bind(this),null),this.locationWatcher=new Po("[Location]",this.group.controls,this.onLocationChange.bind(this),null),this.setFileConfig(this.typeWatcher.resolve()||"Token"),this.onLocationChange(this.locationWatcher.resolve()||null)},t.prototype.ngOnDestroy=function(){this.templateOptions$.complete(),this.typeWatcher.destroy(),this.locationWatcher.destroy(),e.prototype.ngOnDestroy.call(this)},t.prototype.setFileConfig=function(e){this.activeSpec=tr[e],this.setTemplateOptions()},t.prototype.onLocationChange=function(e){var t=this;this.global="Host File System"===e,this.assetsService.getAll(this.global).subscribe((function(e){t.templates=e,t.resetIfNotFound=!0,t.setTemplateOptions()}))},t.prototype.setTemplateOptions=function(){var e=this,t=this.templates,n=this.activeSpec.ext;t=(t=t.filter((function(e){return!e.includes(".code.")}))).filter((function(e){return e.slice(e.length-n.length)===n})),this.templateOptions$.next(t),this.resetIfNotFound&&!t.find((function(t){return t===e.control.value}))&&this.control.patchValue("")},t.prototype.createTemplate=function(){var e=this,t=prompt("Enter new file name",this.activeSpec.suggestion);if(t){var n="",i=(t=t.replace("\\","/")).lastIndexOf("/");i>-1&&(n=t.substring(0,i+1),t=t.substring(i+1)),t.endsWith(this.activeSpec.ext)||(t+=this.activeSpec.ext),""!==this.activeSpec.prefix&&t[0]!==this.activeSpec.prefix&&(t=this.activeSpec.prefix+t);var o=n+t;this.assetsService.create(o,this.global).subscribe((function(t){!1===t?alert("Server reported that create failed - the file probably already exists"):(e.templates.push(o),e.setTemplateOptions(),e.control.patchValue(o))}))}},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Ya.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-template-picker"]],features:[T.yb],decls:2,vars:5,consts:[[4,"ngIf"],[1,"picker-wrapper"],["appearance","standard","color","accent",3,"formGroup"],[3,"formControlName","required"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Create a new file",3,"disabled","click"],[3,"config","group"],[3,"value"]],template:function(e,t){1&e&&(T.Mc(0,ir,17,16,"ng-container",0),T.ic(1,"async")),2&e&&T.nc("ngIf",T.rc(3,or,T.jc(1,1,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Sa.a,V.l,V.d,V.s,St.l,Z.l,jn.g,kt.a,ee.a,te.a,zn],pipes:[Z.b],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A);function rr(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"mat-form-field",1),T.Vb(2,"input",2),T.dc("blur",(function(){return T.Dc(n),T.hc().clean(!0)})),T.ic(3,"async"),T.ic(4,"async"),T.Ub(),T.Vb(5,"mat-label"),T.Oc(6),T.ic(7,"async"),T.Ub(),T.Ub(),T.Qb(8,"app-field-helper-text",3),T.Sb()}if(2&e){var i=T.hc();T.Bb(1),T.nc("formGroup",i.group),T.Bb(1),T.nc("formControlName",i.config.field.name)("placeholder",T.jc(3,7,i.placeholder$))("required",T.jc(4,9,i.required$)),T.Bb(4),T.Pc(T.jc(7,11,i.label$)),T.Bb(2),T.nc("config",i.config)("group",i.group)}}var cr=function(e,t){return{disabled:e,showValidation:t}},sr=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.lastAutoCopy="",i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){t.autoGenerateMask=e.AutoGenerateMask||null,t.allowSlashes=e.AllowSlashes||!1,null!=t.fieldMaskService&&(t.fieldMaskService.destroy(),t.fieldMaskService=null),t.fieldMaskService=new Po(t.autoGenerateMask,t.group.controls,t.onSourcesChanged.bind(t),t.preClean)}))),this.onSourcesChanged(this.fieldMaskService.resolve()),this.subscription.add(this.control.valueChanges.subscribe((function(e){t.clean(!1)})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.onSourcesChanged=function(e){var t=this.control.value;if(!t||t===this.lastAutoCopy){var n=Sn.a.stripNonUrlCharacters(e,this.allowSlashes,!0);n&&(this.lastAutoCopy=n,t!==n&&this.control.patchValue(n))}},t.prototype.preClean=function(e,t){return t.replace("/","-").replace("\\","-")},t.prototype.clean=function(e){var t=this.control.value,n=Sn.a.stripNonUrlCharacters(t,this.allowSlashes,e);t!==n&&this.control.patchValue(n)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["string-url-path"]],features:[T.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"formControlName","placeholder","required","blur"],[3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,rr,9,13,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,cr,T.jc(1,1,t.disabled$),T.jc(2,3,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Oi.b,V.b,V.l,V.d,V.s,jn.g,zn],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),lr=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["custom-default"]],features:[T.yb],decls:2,vars:1,consts:[[1,"message"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Oc(1),T.Ub()),2&e&&(T.Bb(1),T.Qc("",t.config.field.name,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0}),t=Object(i.c)([uo({})],t)}(A);function dr(e,t){if(1&e){var n=T.Wb();T.Vb(0,"app-entity-default-list",3),T.dc("reorder",(function(e){return T.Dc(n),T.hc(2).reorder(e)}))("removeSelected",(function(e){return T.Dc(n),T.hc(2).removeSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc(2).editEntity(e)}))("deleteEntity",(function(e){return T.Dc(n),T.hc(2).deleteEntity(e)})),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.nc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function ur(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Mc(1,dr,1,7,"app-entity-default-list",1),T.Vb(2,"app-entity-default-search",2),T.dc("toggleFreeTextMode",(function(){return T.Dc(n),T.hc().toggleFreeTextMode()}))("addSelected",(function(e){return T.Dc(n),T.hc().addSelected(e)}))("editEntity",(function(e){return T.Dc(n),T.hc().editEntity(e)})),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),T.Bb(1),T.nc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var pr=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},fr=function(e){function t(t,n,i,o,a,r){return e.call(this,t,n,i,o,a,r)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return n.AllowMultiValue=!1,n.EnableRemove=!0,n.AllowMultiValue=!0,n.EnableAddExisting=!1,n.EnableCreate=!1,n.EnableEdit=!1,n.EntityType="ContentGroupReference",n},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Mo.a),T.Pb(oe.e),T.Pb(X.a),T.Pb(Fo.b))},t.\u0275cmp=T.Jb({type:t,selectors:[["entity-content-blocks"]],features:[T.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(T.Mc(0,ur,3,16,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.ic(10,"async"),T.ic(11,"async"),T.ic(12,"async"),T.ic(13,"async")),2&e&&T.nc("ngIf",T.zc(27,pr,[T.jc(1,1,t.label$),T.jc(2,3,t.placeholder$),T.jc(3,5,t.required$),T.jc(4,7,t.invalid$),t.control.touched,T.jc(5,9,t.disabled$),T.jc(6,11,t.freeTextMode$),T.jc(7,13,t.settings$),T.jc(8,15,t.selectedEntities$),T.jc(9,17,t.config.entityCache$),T.jc(10,19,t.disableAddNew$),T.jc(11,21,t.isExpanded$),T.jc(12,23,t.error$),T.jc(13,25,t.showValidation$)]))},directives:[Z.m,Ao,Zo],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(na),gr=n("nYrE"),br=["customElContainer"],hr=function(){function e(e,t,n,i,o,a,r,c){this.eavService=e,this.translateService=t,this.contentTypeService=n,this.inputTypeService=i,this.featureService=o,this.editRoutingService=a,this.dnnBridgeService=r,this.zone=c}return e.prototype.ngAfterViewInit=function(){var e,t=(null===(e=null===history||void 0===history?void 0:history.state)||void 0===e?void 0:e.componentTag)||"field-"+this.config.field.inputType+"-dialog";Object($.a)("Connector created for:",t),this.connectorCreator=new oi(this.config,this.group,this.customElContainerRef,t,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featureService,this.editRoutingService,this.dnnBridgeService,this.zone)},e.prototype.ngOnDestroy=function(){Object($.a)("Connector destroyed"),this.connectorCreator.destroy()},e.\u0275fac=function(t){return new(t||e)(T.Pb(L.a),T.Pb(oe.e),T.Pb(Je),T.Pb(Xt.a),T.Pb(J),T.Pb(X.a),T.Pb(ri.a),T.Pb(T.z))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-connector"]],viewQuery:function(e,t){var n;1&e&&T.Uc(br,!0),2&e&&T.Ac(n=T.ec())&&(t.customElContainerRef=n.first)},inputs:{config:"config",group:"group"},decls:2,vars:0,consts:[[2,"height","100%","position","relative"],["customElContainer",""]],template:function(e,t){1&e&&T.Qb(0,"div",0,1)},styles:[""],changeDetection:0}),e}();function mr(e,t){1&e&&T.Qb(0,"mat-spinner",3)}function vr(e,t){if(1&e&&T.Qb(0,"app-connector",4),2&e){var n=T.hc(2);T.nc("config",n.config)("group",n.group)}}function yr(e,t){if(1&e&&(T.Tb(0),T.Mc(1,mr,1,0,"mat-spinner",1),T.Mc(2,vr,1,2,"app-connector",2),T.Sb()),2&e){var n=t.ngIf;T.Bb(1),T.nc("ngIf",n.loading),T.Bb(1),T.nc("ngIf",!n.loading&&n.isExpanded)}}var wr=function(e,t,n){return{loading:e,isExpanded:t,showValidation:n}},_r=function(e){function t(t,n,i,o,r){var c=e.call(this,t,n)||this;return c.inputTypeService=i,c.scriptsLoaderService=o,c.editRoutingService=r,c.loading$=new a.a(!0),c}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.isExpanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.loadAssets()},t.prototype.ngOnDestroy=function(){this.loading$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.loadAssets=function(){var e;this.inputTypeService.getInputTypeById(this.config.field.inputType).pipe(Object(C.a)(1)).subscribe((function(t){e=t}));var t=e.AngularAssets.split("\n");0!==t.length&&this.scriptsLoaderService.load(t,this.assetsLoaded.bind(this))},t.prototype.assetsLoaded=function(){Object($.a)("ExternalWebcomponentComponent",this.config.field.name,"loaded"),this.loading$.next(!1)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a),T.Pb(Xt.a),T.Pb(qa.a),T.Pb(X.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["external-web-component"]],features:[T.yb],decls:4,vars:11,consts:[[4,"ngIf"],["color","accent",4,"ngIf"],[3,"config","group",4,"ngIf"],["color","accent"],[3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,yr,3,2,"ng-container",0),T.ic(1,"async"),T.ic(2,"async"),T.ic(3,"async")),2&e&&T.nc("ngIf",T.tc(7,wr,T.jc(1,1,t.loading$),T.jc(2,3,t.isExpanded$),T.jc(3,5,t.showValidation$)))},directives:[Z.m,gr.b,hr],pipes:[Z.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(A),Or=n("mpfY"),Cr=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){t.attachAdam(e),t.attachAdamValidator(e.Required)})))},t.prototype.ngOnDestroy=function(){var t;null===(t=this.adamValidation)||void 0===t||t.unsubscribe(),e.prototype.ngOnDestroy.call(this)},t.prototype.attachAdam=function(e){this.config.adam.setConfig({allowAssetsInRoot:e.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:e.Paths,fileFilter:e.FileFilter,folderDepth:e.FolderDepth||0,metadataContentTypes:e.MetadataContentTypes})},t.prototype.attachAdamValidator=function(e){var t,n=this;if(!e)return null===(t=this.adamValidation)||void 0===t||t.unsubscribe(),void this.control.setValidators(this.config.field.validation);var o=Object(i.g)(this.config.field.validation,[Or.a.validateAdam()]);this.control.setValidators(o),this.adamValidation=this.config.adam.items$.subscribe((function(e){n.control.adamItems=e.length,n.control.updateValueAndValidity()}))},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["hyperlink-library"]],features:[T.yb],decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.DropzoneWrapper,po.a.EavLocalizationWrapper,po.a.HyperlinkLibraryExpandableWrapper,po.a.AdamAttachWrapper]})],t)}(A),xr=function(e,t){return{"toggle-false":e,"toggle-null":t}};function Mr(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"div",1),T.Vb(2,"mat-slide-toggle",2),T.dc("toggleChange",(function(){return T.Dc(n),T.hc().toggle()})),T.ic(3,"async"),T.Oc(4),T.ic(5,"async"),T.Ub(),T.Qb(6,"app-field-helper-text",3),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("formGroup",o.group),T.Bb(1),T.nc("disabled",T.jc(3,7,o.disabled$))("checked",i.value)("ngClass",T.sc(11,xr,!1===i.value,null===i.value)),T.Bb(2),T.Qc(" ",T.jc(5,9,o.label$)," "),T.Bb(2),T.nc("config",o.config)("group",o.group)}}var Pr=function(e,t){return{value:e,showValidation:t}},Ir=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.value$=this.value$.pipe(Object(M.a)((function(e){return""===e?null:e}))),this.label$=Object(Ct.a)([this.value$,this.settings$,this.label$]).pipe(Object(M.a)((function(e){var t=Object(i.f)(e,3),n=t[0],o=t[1];return!0===n&&null!=o.TitleTrue&&""!==o.TitleTrue?o.TitleTrue:!1===n&&null!=o.TitleFalse&&""!==o.TitleFalse?o.TitleFalse:null===n&&null!=o.TitleIndeterminate&&""!==o.TitleIndeterminate?o.TitleIndeterminate:t[2]})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.toggle=function(){var e;switch(this.control.value){case!1:e=null;break;case"":case null:e=!0;break;case!0:e=!1}this.control.patchValue(e)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["boolean-tristate"]],features:[T.yb],decls:3,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],[3,"disabled","checked","ngClass","toggleChange"],["disableError","true",3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,Mr,7,14,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,Pr,T.jc(1,1,t.value$),T.jc(2,3,t.showValidation$)))},directives:[Z.m,V.m,V.f,Xe.a,Z.k,Y.a,zn],pipes:[Z.b],styles:[".toggle-false .mat-slide-toggle-bar{background-color:orange}  .toggle-null .mat-slide-toggle-thumb-container{margin-left:8px}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A);function kr(e,t){if(1&e&&(T.Tb(0),T.Vb(1,"mat-form-field",1),T.Qb(2,"textarea",2),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.Vb(6,"mat-label"),T.Oc(7),T.ic(8,"async"),T.Ub(),T.Ub(),T.Qb(9,"app-field-helper-text",3),T.Sb()),2&e){var n=T.hc();T.Bb(1),T.nc("formGroup",n.group),T.Bb(1),T.nc("formControlName",n.config.field.name)("rows",T.jc(3,8,n.rowCount$))("placeholder",T.jc(4,10,n.placeholder$))("required",T.jc(5,12,n.required$)),T.Bb(5),T.Pc(T.jc(8,14,n.label$)),T.Bb(2),T.nc("config",n.config)("group",n.group)}}var Sr=function(e,t){return{disabled:e,showValidation:t}},Tr=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rowCount$=this.settings$.pipe(Object(M.a)((function(e){return e.Rows||5})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(T.Pb(L.a),T.Pb(z.a))},t.\u0275cmp=T.Jb({type:t,selectors:[["custom-json-editor"]],features:[T.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",1,"textarea-field",3,"formGroup"],["matInput","",3,"formControlName","rows","placeholder","required"],[3,"config","group"]],template:function(e,t){1&e&&(T.Mc(0,kr,10,16,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,Sr,T.jc(1,1,t.disabled$),T.jc(2,3,t.showValidation$)))},directives:[Z.m,jn.c,V.m,V.f,Oi.b,V.b,V.l,V.d,V.s,jn.g,zn],pipes:[Z.b],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(A),jr=function(){function e(e,t){this.resolver=e,this.container=t,this.components={"app-adam-attach-wrapper":Ae,"app-collapsible-field-wrapper":Ne,"app-collapsible-wrapper":vn,"app-dropzone-wrapper":Cn,"app-eav-localization-wrapper":In,"app-entity-expandable-wrapper":Yn,"app-expandable-wrapper":yi,"app-hidden-wrapper":_i,"app-hyperlink-default-expandable-wrapper":Ni,"app-hyperlink-library-expandable-wrapper":lo,"boolean-default":bo,"boolean-tristate":Ir,"custom-default":lr,"custom-json-editor":Tr,"datetime-default":Oo,"empty-default":Co,"entity-content-blocks":fr,"entity-default":na,"entity-query":Fa,"external-web-component":_r,"hyperlink-default":ya,"hyperlink-library":Cr,"number-default":Oa,"string-default":ka,"string-dropdown":Ba,"string-dropdown-query":Qa,"string-font-icon-picker":Za,"string-template-picker":ar,"string-url-path":sr}}return e.prototype.ngOnInit=function(){var e=this;this.container.clear(),this.config.forEach((function(t){Object($.a)("create controlConfiguration",t),e.createFieldOrGroup(e.container,t)}))},e.prototype.createFieldOrGroup=function(e,t){t.field.fieldGroup?this.createGroupComponents(e,t):(Object($.a)("create createFieldOrGroup:",t.field.inputType),this.createComponent(e,t))},e.prototype.createGroupComponents=function(e,t){var n=this;t.field.wrappers&&(e=this.createComponentWrappers(e,t,t.field.wrappers)),t.field.fieldGroup.forEach((function(t){n.createFieldOrGroup(e,t)}))},e.prototype.createComponent=function(e,t){var n;t.field.wrappers&&(e=this.createComponentWrappers(e,t,t.field.wrappers)),Object($.a)("EavFieldDirective createComponent inputType:",t.field.inputType),n=this.readComponentType(t.field.isExternal?E.a.ExternalWebComponent:t.field.inputType);var i=Reflect.getMetadata("inputTypeAnnotations",n);if(i){i.wrapper&&(e=this.createComponentWrappers(e,t,i.wrapper));var o=this.resolver.resolveComponentFactory(n),a=e.createComponent(o);return Object.assign(a.instance,{group:this.group,config:t}),a}return null},e.prototype.readComponentType=function(e){var t=this.components[e];return void 0===t?(console.error("Missing component class for: "+e),lr):t},e.prototype.createComponentWrappers=function(e,t,n){var i=this;return n.forEach((function(n){e=i.createWrapper(e,t,n)})),e},e.prototype.createWrapper=function(e,t,n){var i=this.readComponentType(n),o=this.resolver.resolveComponentFactory(i),a=e.createComponent(o);return Object.assign(a.instance,{group:this.group,config:t}),a.instance.fieldComponent},e.\u0275fac=function(t){return new(t||e)(T.Pb(T.j),T.Pb(T.O))},e.\u0275dir=T.Kb({type:e,selectors:[["","appEavField",""]],inputs:{config:"config",group:"group"}}),e}(),Vr=function(){function e(e){this.formBuilder=e,this.config=[],this.formSubmit=new T.n,this.formValueChange=new T.n,this.form=new V.e({}),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.createControlsInFormGroup(this.config),this.subscription.add(this.form.valueChanges.subscribe((function(t){e.formValueChange.emit(t)})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.submitOutside=function(){Object($.a)("form save"),this.formSubmit.emit()},e.prototype.patchValue=function(e,t){this.form.patchValue(e,{emitEvent:t})},e.prototype.valueIsChanged=function(e){var t,n,o=!1,a=Object.keys(e);try{for(var r=Object(i.i)(a),c=r.next();!c.done;c=r.next()){var s=c.value;if(e[s]!==this.form.value[s]){o=!0;break}}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return Object($.a)("VALUECHANGED:",o,"VALUES:",e,"FORM VALUES:",this.form.value),o},e.prototype.createControlsInFormGroup=function(e){var t=this;try{return e.forEach((function(e){var n=e.field;n.fieldGroup?t.createControlsInFormGroup(n.fieldGroup):t.form.addControl(e.field.name,t.createControl(e))})),this.form}catch(n){throw console.error("Error creating form controls: "+n+"\nFieldConfig: "+e),n}},e.prototype.createControl=function(e){try{var t=e.field;return this.formBuilder.control({disabled:t.disabled,value:t.initialValue},t.validation)}catch(n){throw console.error("Error creating form control: "+n+"\nConfig: "+e),n}},e.\u0275fac=function(t){return new(t||e)(T.Pb(V.c))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-eav-form"]],inputs:{config:"config"},outputs:{formSubmit:"formSubmit",formValueChange:"formValueChange"},decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],["appEavField","",3,"config","group"]],template:function(e,t){1&e&&(T.Vb(0,"form",0),T.Rb(1,1),T.Ub()),2&e&&(T.nc("formGroup",t.form),T.Bb(1),T.nc("config",t.config)("group",t.form))},directives:[V.u,V.m,V.f,jr],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),e}(),$r=n("V06R");function Er(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div"),T.Vb(1,"app-eav-form",1),T.dc("formSubmit",(function(){return T.Dc(n),T.hc().submit()}))("formValueChange",(function(e){return T.Dc(n),T.hc().formValueChange(e)})),T.ic(2,"async"),T.Ub(),T.Ub()}if(2&e){var i=T.hc();T.Bb(1),T.nc("config",T.jc(2,1,i.itemFields$))}}var Dr=function(){function e(e,t,n,i,o,a){this.languageInstanceService=e,this.itemService=t,this.contentTypeService=n,this.eavService=i,this.actions$=o,this.buildFieldsService=a,this.itemFormValueChange=new T.n,this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.subscription.add(this.languageInstanceService.getDefaultLanguage(this.formId).subscribe((function(t){e.defaultLanguage=t}))),this.subscription.add(this.languageInstanceService.getCurrentLanguage(this.formId).subscribe((function(t){e.currentLanguage=t,e.setFormValues()})));var t=_t.a.getContentTypeId(this.item);this.contentType$=this.contentTypeService.getContentTypeById(t),this.itemFields$=this.buildFieldsService.buildFields(this.contentType$,this.item,this.formId,this.currentLanguage,this.defaultLanguage)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(e){null!=e.item&&this.setFormValues()},e.prototype.formSaveObservable=function(){var e=this;return this.actions$.pipe(Object(o.e)(S.a),Object(P.a)((function(t){return 0===e.item.entity.id?e.item.entity.guid===t.item.entity.guid:e.item.entity.id===t.item.entity.id})))},e.prototype.formValueChange=function(e){this.itemService.updateItemAttributesValues(this.item.entity.id,e,this.currentLanguage,this.defaultLanguage,this.item.entity.guid),this.itemFormValueChange.emit()},e.prototype.submit=function(){(this.form.form.valid||this.checkAreAllControlsDisabled()||this.item.header.Group&&this.item.header.Group.SlotCanBeEmpty)&&this.eavService.saveItem(this.item)},e.prototype.checkAreAllControlsDisabled=function(){var e,t,n=!0,o=Object.keys(this.form.form.controls);try{for(var a=Object(i.i)(o),r=a.next();!r.done;r=a.next())if(!this.form.form.controls[r.value].disabled){n=!1;break}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.setFormValues=function(){var e=this;if(this.form){var t={};Object.keys(this.item.entity.attributes).forEach((function(n){t[n]=Qe.a.translate(e.currentLanguage,e.defaultLanguage,e.item.entity.attributes[n],null)})),this.form.valueIsChanged(t)&&this.form.patchValue(t,!1),this.eavService.formValueChange$.next({formId:this.formId,entityGuid:this.item.entity.guid,entityValues:t})}},e.\u0275fac=function(t){return new(t||e)(T.Pb(We.a),T.Pb(qe.a),T.Pb(Je),T.Pb(L.a),T.Pb(o.a),T.Pb($r.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-item-edit-form"]],viewQuery:function(e,t){var n;1&e&&T.Uc(Vr,!0),2&e&&T.Ac(n=T.ec())&&(t.form=n.first)},inputs:{item:"item",formId:"formId"},outputs:{itemFormValueChange:"itemFormValueChange"},features:[T.zb],decls:2,vars:3,consts:[[4,"ngIf"],[3,"config","formSubmit","formValueChange"]],template:function(e,t){1&e&&(T.Mc(0,Er,3,3,"div",0),T.ic(1,"async")),2&e&&T.nc("ngIf",T.jc(1,1,t.contentType$))},directives:[Z.m,Vr],pipes:[Z.b],styles:[""],changeDetection:0}),e}(),Br=function(){function e(){}return e.create=function(e){var t={};return Object($.a)("eavValues.values.forEach: ",e.values),e.values.forEach((function(e){var n=e.dimensions.map((function(e){return e.value})).join();t[n]=e.value})),t},e}(),Ur=function(){function e(){}return e.create=function(t){var n=new e;return Object.keys(t).forEach((function(e){var i=t[e].type;n[i]||(n[i]={}),n[i][e]=Br.create(t[e])})),n},e}(),Lr=function(){return function(e,t){this.Id=e,this.Name=t}}(),zr=function(){return function(e){this.Target=e.Target,e.Number&&(this.Number=e.Number),e.String&&(this.String=e.String),e.Guid&&(this.Guid=e.Guid)}}(),Ar=function(){function e(e,t,n,i,o,a,r,c){this.Id=e,this.Version=t,this.Guid=n,this.Type=i,this.Attributes=o,this.Owner=a,this.Metadata=r,c&&(this.For=c)}return e.create=function(t){var n=Ur.create(t.attributes),i=this.createArray(t.metadata),o=t.For?new zr(t.For):null;return new e(t.id,t.version,t.guid,new Lr(t.type.id,t.type.name),n,t.owner,i,o)},e.createArray=function(t){if(!t)return null;var n=new Array;return t.forEach((function(t){n.push(e.create(t))})),n},e}(),Fr=function(){function e(e,t){this.Header=e,this.Entity=t}return e.create=function(t){return new e(t.header,Ar.create(t.entity))},e}(),Rr=function(){function e(e,t){this.snackRef=e,this.snackBarData=t}return e.prototype.ngOnInit=function(){},e.prototype.saveChanges=function(e){this.snackBarData.save=e,this.snackRef.dismissWithAction()},e.\u0275fac=function(t){return new(t||e)(T.Pb(Fo.d),T.Pb(Fo.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-snack-bar-unsaved-changes"]],decls:10,vars:9,consts:[[1,"error-message"],["fxLayoutAlign","end end"],["mat-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(T.Vb(0,"span",0),T.Oc(1),T.ic(2,"translate"),T.Ub(),T.Vb(3,"div",1),T.Vb(4,"button",2),T.dc("click",(function(){return t.saveChanges(!1)})),T.Oc(5),T.ic(6,"translate"),T.Ub(),T.Vb(7,"button",2),T.dc("click",(function(){return t.saveChanges(!0)})),T.Oc(8),T.ic(9,"translate"),T.Ub(),T.Ub()),2&e&&(T.Bb(1),T.Pc(T.jc(2,3,"Errors.UnsavedChanges")),T.Bb(4),T.Qc(" ",T.jc(6,5,"General.Buttons.NotSave").toUpperCase()," "),T.Bb(3),T.Qc(" ",T.jc(9,7,"General.Buttons.Save").toUpperCase()," "))},directives:[Fe.b,kt.a],pipes:[oe.d],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),e}();function Gr(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span"),T.Oc(2),T.Vb(3,"span"),T.Oc(4),T.ic(5,"translate"),T.Ub(),T.Ub(),T.Ub()),2&e){var n=t.$implicit;T.Bb(2),T.Pc(n.field),T.Bb(2),T.Qc(": ",T.jc(5,2,n.message),"")}}var Nr=function(){function e(e){this.snackBarData=e,this.fieldErrors=[]}return e.prototype.ngOnInit=function(){this.fieldErrors=this.snackBarData.fieldErrors},e.\u0275fac=function(t){return new(t||e)(T.Pb(Fo.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-snack-bar-save-errors"]],decls:6,vars:4,consts:[[1,"save-errors-container"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div"),T.Oc(2),T.ic(3,"translate"),T.Ub(),T.Qb(4,"br"),T.Mc(5,Gr,6,4,"div",1),T.Ub()),2&e&&(T.Bb(2),T.Pc(T.jc(3,2,"Errors.SaveErrors")),T.Bb(3),T.nc("ngForOf",t.fieldErrors))},directives:[Z.l],pipes:[oe.d],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),e}();function Qr(e,t){return e.key<t.key?-1:e.key>t.key?1:0}var qr=function(){function e(){}return e.Show="show",e.Hide="hide",e.Branch="branch",e}(),Wr=n("uuTa"),Hr=n("39Ct"),Jr=n("5/c3"),Kr=function(e){return{"mat-list-item-focus":e}},Xr=function(){function e(e,t){this.dialogRef=e,this.data=t,this.Modes=qr}return e.prototype.ngOnInit=function(){this.publishMode=this.data},e.prototype.setMode=function(e){this.dialogRef.close(e)},e.\u0275fac=function(t){return new(t||e)(T.Pb(Ot.g),T.Pb(Ot.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-save-status-dialog"]],decls:35,vars:33,consts:[[1,"mat-card__header"],[1,"mat-card__title"],[1,"mat-card__description"],["toggle",""],[3,"ngClass","click"],["matListIcon","","color","accent"],["matLine","",1,"mat-list-item__title"],["matLine","",1,"mat-list-item__body"],["matListIcon","","color","accent","svgIcon","draft-branch"]],template:function(e,t){1&e&&(T.Vb(0,"mat-card"),T.Vb(1,"div",0),T.Vb(2,"div",1),T.Oc(3),T.ic(4,"translate"),T.Ub(),T.Vb(5,"div",2),T.Oc(6),T.ic(7,"translate"),T.Ub(),T.Ub(),T.Vb(8,"mat-nav-list",3),T.Vb(9,"mat-list-item",4),T.dc("click",(function(){return t.setMode(t.Modes.Show)})),T.Vb(10,"mat-icon",5),T.Oc(11,"visibility"),T.Ub(),T.Vb(12,"div",6),T.Oc(13),T.ic(14,"translate"),T.Ub(),T.Vb(15,"div",7),T.Oc(16),T.ic(17,"translate"),T.Ub(),T.Ub(),T.Vb(18,"mat-list-item",4),T.dc("click",(function(){return t.setMode(t.Modes.Hide)})),T.Vb(19,"mat-icon",5),T.Oc(20,"visibility_off"),T.Ub(),T.Vb(21,"div",6),T.Oc(22),T.ic(23,"translate"),T.Ub(),T.Vb(24,"div",7),T.Oc(25),T.ic(26,"translate"),T.Ub(),T.Ub(),T.Vb(27,"mat-list-item",4),T.dc("click",(function(){return t.setMode(t.Modes.Branch)})),T.Qb(28,"mat-icon",8),T.Vb(29,"div",6),T.Oc(30),T.ic(31,"translate"),T.Ub(),T.Vb(32,"div",7),T.Oc(33),T.ic(34,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Ub()),2&e&&(T.Bb(3),T.Pc(T.jc(4,11,"SaveMode.Dialog.Title")),T.Bb(3),T.Pc(T.jc(7,13,"SaveMode.Dialog.Intro")),T.Bb(3),T.nc("ngClass",T.rc(27,Kr,t.publishMode===t.Modes.Show)),T.Bb(4),T.Pc(T.jc(14,15,"SaveMode.Dialog.Show.Title")),T.Bb(3),T.Pc(T.jc(17,17,"SaveMode.Dialog.Show.Body")),T.Bb(2),T.nc("ngClass",T.rc(29,Kr,t.publishMode===t.Modes.Hide)),T.Bb(4),T.Pc(T.jc(23,19,"SaveMode.Dialog.Hide.Title")),T.Bb(3),T.Pc(T.jc(26,21,"SaveMode.Dialog.Hide.Body")),T.Bb(2),T.nc("ngClass",T.rc(31,Kr,t.publishMode===t.Modes.Branch)),T.Bb(3),T.Pc(T.jc(31,23,"SaveMode.Dialog.Branch.Title")),T.Bb(3),T.Pc(T.jc(34,25,"SaveMode.Dialog.Branch.Body")))},directives:[Ke.a,It.e,It.c,Z.k,Y.a,te.a,It.b,St.i],pipes:[oe.d],styles:[".mat-list-item-focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}"],changeDetection:0}),e}(),Zr=function(){function e(e,t,n){var i=this;this.ngZone=e,this.header=t,this.areButtonsDisabled=n,this.eventListeners=[],this.ngZone.runOutsideAngular((function(){var e=i.registerScroll.bind(i);i.header.addEventListener("pointerdown",e,{passive:!0}),i.headerDownListener={element:i.header,type:"pointerdown",listener:e}}))}return e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.headerDownListener.element.removeEventListener(e.headerDownListener.type,e.headerDownListener.listener),e.headerDownListener=null,e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null})),this.ngZone=null,this.header=null,this.areButtonsDisabled=null},e.prototype.registerScroll=function(e){if(!this.areButtonsDisabled()&&0===e.button){window.getSelection().removeAllRanges(),this.oldScrollBehavior=getComputedStyle(this.header).getPropertyValue("scroll-behavior"),this.header.style.scrollBehavior="auto",this.positionX=e.pageX;var t=this.doScroll.bind(this),n=this.removeScroll.bind(this);document.addEventListener("pointermove",t,{passive:!0}),document.addEventListener("pointerup",n,{passive:!0}),document.addEventListener("pointerleave",n,{passive:!0}),this.eventListeners.push({element:document,type:"pointermove",listener:t},{element:document,type:"pointerup",listener:n},{element:document,type:"pointerleave",listener:n})}},e.prototype.removeScroll=function(){this.header.style.scrollBehavior=this.oldScrollBehavior,this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),this.eventListeners.splice(0,this.eventListeners.length)},e.prototype.doScroll=function(e){var t=e.pageX;t<this.positionX?this.header.scrollLeft+=this.positionX-t:t>this.positionX&&(this.header.scrollLeft+=-(t-this.positionX)),this.positionX=t},e}(),Yr=function(){function e(e,t){var n=this;this.ngZone=e,this.header=t,this.moveThreshold=2,this.stopClick=!1,this.eventListeners=[],this.ngZone.runOutsideAngular((function(){var e=n.checkIfMouseMoved.bind(n);document.addEventListener("mouseup",e,{passive:!0}),n.eventListeners.push({element:document,type:"mouseup",listener:e})}))}return e.prototype.lngButtonDown=function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.saveInitialPosition(e)}))},e.prototype.lngButtonClick=function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.doMove(e)}))},e.prototype.stopClickIfMouseMoved=function(){return this.stopClick},e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null}))},e.prototype.saveInitialPosition=function(e){this.stopClick=!1,this.positionX=e.pageX,this.positionY=e.pageY},e.prototype.checkIfMouseMoved=function(e){this.positionX&&this.positionY?(this.stopClick=Math.abs(this.positionX+this.positionY-(e.pageX+e.pageY))>this.moveThreshold,this.positionX=null,this.positionY=null):this.stopClick=!1},e.prototype.doMove=function(e){if(!this.stopClick){var t=e.target,n=t.getBoundingClientRect().left,i=t.getBoundingClientRect().width,o=this.header.getBoundingClientRect().left,a=this.header.getBoundingClientRect().width;this.header.scrollLeft+=n+i/2-(o+a/2)}},e}(),ec=function(){function e(e,t,n,i){var o=this;this.ngZone=e,this.header=t,this.leftShadow=n,this.rightShadow=i,this.hidden="hidden",this.eventListeners=[],this.ngZone.runOutsideAngular((function(){o.calculateShadows();var e=o.calculateShadows.bind(o);o.header.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),o.eventListeners.push({element:o.header,type:"scroll",listener:e},{element:window,type:"resize",listener:e})}))}return e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null})),this.ngZone=null,this.header=null,this.leftShadow=null,this.rightShadow=null},e.prototype.calculateShadows=function(){this.maxScrollLeft=this.header.scrollWidth-this.header.clientWidth,0===this.maxScrollLeft?this.hideBoth():0===this.header.scrollLeft?this.hideLeft():this.header.scrollLeft===this.maxScrollLeft?this.hideRight():this.showBoth()},e.prototype.hideBoth=function(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.add(this.hidden)},e.prototype.hideLeft=function(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.remove(this.hidden)},e.prototype.hideRight=function(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.add(this.hidden)},e.prototype.showBoth=function(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.remove(this.hidden)},e}();function tc(e){return e.substring(0,e.indexOf("(")>0?e.indexOf("(")-1:100).toLocaleUpperCase()}var nc=["scrollable"],ic=["leftShadow"],oc=["rightShadow"];function ac(e,t){if(1&e){var n=T.Wb();T.Vb(0,"button",9),T.dc("mousedown",(function(e){return T.Dc(n),T.hc(2).lngButtonMouseDown(e)}))("click",(function(e){T.Dc(n);var i=t.$implicit;return T.hc(2).lngButtonClick(e,i)})),T.Oc(1),T.Ub()}if(2&e){var i=t.$implicit,o=T.hc().ngIf,a=T.hc();T.nc("disabled",a.disabled&&o.currentLanguage!==i.key)("color",o.currentLanguage===i.key?"accent":"white")("matTooltip",i.name)("matTooltipDisabled",a.disabled),T.Bb(1),T.Qc(" ",i.buttonText," ")}}function rc(e,t){if(1&e&&(T.Vb(0,"div",1),T.Qb(1,"div",2,3),T.Qb(3,"div",4,5),T.Vb(5,"div",6,7),T.ic(7,"translate"),T.Mc(8,ac,2,5,"button",8),T.ic(9,"async"),T.Ub(),T.Ub()),2&e){var n=T.hc();T.Bb(5),T.nc("matTooltip",T.jc(7,3,"Message.CantSwitchLanguage"))("matTooltipDisabled",!n.disabled),T.Bb(3),T.nc("ngForOf",T.jc(9,5,n.languageButtons$))}}var cc=function(e){return{currentLanguage:e}},sc=function(){function e(e,t,n){this.languageService=e,this.languageInstanceService=t,this.ngZone=n}return e.prototype.ngOnInit=function(){this.languageButtons$=this.languageService.entities$.pipe(Object(M.a)((function(e){return n=[],i={},(t=e).forEach((function(e){var t=tc(e.name);i[t]?i[t]++:i[t]=1})),t.forEach((function(e){var t=tc(e.name);n.push({name:e.name,key:e.key,buttonText:i[t]>1?t+" ("+e.key+")":t})})),n;var t,n,i}))),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.formId)},e.prototype.ngAfterViewInit=function(){this.showShadowsService=new ec(this.ngZone,this.headerRef.nativeElement,this.leftShadowRef.nativeElement,this.rightShadowRef.nativeElement),this.mouseScrollHelper=new Zr(this.ngZone,this.headerRef.nativeElement,this.areButtonsDisabled.bind(this)),this.centerSelectedService=new Yr(this.ngZone,this.headerRef.nativeElement)},e.prototype.ngOnDestroy=function(){this.centerSelectedService.destroy(),this.mouseScrollHelper.destroy(),this.showShadowsService.destroy()},e.prototype.lngButtonMouseDown=function(e){this.centerSelectedService.lngButtonDown(e)},e.prototype.lngButtonClick=function(e,t){this.disabled||(this.centerSelectedService.lngButtonClick(e),this.centerSelectedService.stopClickIfMouseMoved()||this.languageInstanceService.updateCurrentLanguage(this.formId,t.key))},e.prototype.areButtonsDisabled=function(){return this.disabled},e.\u0275fac=function(t){return new(t||e)(T.Pb(Pt.a),T.Pb(We.a),T.Pb(T.z))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-eav-language-switcher"]],viewQuery:function(e,t){var n;1&e&&(T.Uc(nc,!0),T.Uc(ic,!0),T.Uc(oc,!0)),2&e&&(T.Ac(n=T.ec())&&(t.headerRef=n.first),T.Ac(n=T.ec())&&(t.leftShadowRef=n.first),T.Ac(n=T.ec())&&(t.rightShadowRef=n.first))},inputs:{formId:"formId",disabled:"disabled"},decls:2,vars:5,consts:[["class","scrollable__overlay",4,"ngIf"],[1,"scrollable__overlay"],[1,"scrollable__overlay--left-shadow"],["leftShadow",""],[1,"scrollable__overlay--right-shadow"],["rightShadow",""],[1,"scrollable","lang-switch",3,"matTooltip","matTooltipDisabled"],["scrollable",""],["mat-flat-button","","class","lang-switch__button",3,"disabled","color","matTooltip","matTooltipDisabled","mousedown","click",4,"ngFor","ngForOf"],["mat-flat-button","",1,"lang-switch__button",3,"disabled","color","matTooltip","matTooltipDisabled","mousedown","click"]],template:function(e,t){1&e&&(T.Mc(0,rc,10,7,"div",0),T.ic(1,"async")),2&e&&T.nc("ngIf",T.rc(3,cc,T.jc(1,1,t.currentLanguage$)))},directives:[Z.m,ee.a,Z.l,kt.a],pipes:[Z.b,oe.d],styles:['.scrollable__overlay[_ngcontent-%COMP%]{position:relative;height:100%}.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{content:"";position:absolute;top:0;display:block;z-index:1;pointer-events:none;height:100%;width:80px;background-image:linear-gradient(90deg,#fff 8px,hsla(0,0%,100%,0))}@media (max-width:600px){.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{width:24px}}.scrollable__overlay--right-shadow[_ngcontent-%COMP%]{right:0;background-image:linear-gradient(270deg,#fff 8px,hsla(0,0%,100%,0))}.scrollable[_ngcontent-%COMP%]{overflow:hidden;scroll-behavior:smooth;height:100%}.lang-switch[_ngcontent-%COMP%]{display:flex}.lang-switch__button[_ngcontent-%COMP%]{height:100%;flex-shrink:0;border-radius:0;margin-left:0!important;color:rgba(0,0,0,.4);border-bottom:none;font-size:12px;line-height:54px;padding:0 6px;background-color:#fff!important}.lang-switch__button.mat-accent[_ngcontent-%COMP%]{color:#2680eb;border-bottom:2px solid #2680eb;background-color:inherit}.hidden[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),e}();function lc(e,t){if(1&e&&T.Qb(0,"app-eav-language-switcher",6),2&e){var n=T.hc();T.nc("formId",n.formId)("disabled",!n.formsAreValid&&!n.allControlsAreDisabled)}}var dc=function(){function e(e,t){this.dialog=e,this.languageService=t,this.closeDialog=new T.n,this.setPublishMode=new T.n}return e.prototype.ngOnInit=function(){this.hasLanguages$=this.languageService.entities$.pipe(Object(M.a)((function(e){return e.length>0})))},e.prototype.close=function(){this.closeDialog.emit()},e.prototype.openSaveStatusDialog=function(){var e=this,t=this.dialog.open(Xr,{panelClass:"c-save-status-dialog",autoFocus:!1,width:"350px",data:this.publishMode});t.keydownEvents().subscribe((function(e){83===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()})),t.afterClosed().subscribe((function(t){null!=t&&e.setPublishMode.emit(t)}))},e.\u0275fac=function(t){return new(t||e)(T.Pb(Ot.b),T.Pb(Pt.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-multi-item-edit-form-header"]],inputs:{formId:"formId",formsAreValid:"formsAreValid",allControlsAreDisabled:"allControlsAreDisabled",isParentDialog:"isParentDialog",publishMode:"publishMode"},outputs:{closeDialog:"closeDialog",setPublishMode:"setPublishMode"},decls:16,vars:17,consts:[[1,"header"],["mat-icon-button","",1,"header__exit-button",3,"matTooltip","click"],[1,"header__langs"],[3,"formId","disabled",4,"ngIf"],["mat-button","",1,"header__publish-button",3,"matTooltip","click"],[1,"header__publish-mode"],[3,"formId","disabled"]],template:function(e,t){1&e&&(T.Vb(0,"mat-card",0),T.Vb(1,"button",1),T.dc("click",(function(){return t.close()})),T.ic(2,"translate"),T.Vb(3,"mat-icon"),T.Oc(4),T.Ub(),T.Ub(),T.Vb(5,"div",2),T.Mc(6,lc,1,2,"app-eav-language-switcher",3),T.ic(7,"async"),T.Ub(),T.Vb(8,"button",4),T.dc("click",(function(){return t.openSaveStatusDialog()})),T.ic(9,"translate"),T.Vb(10,"span",5),T.Oc(11),T.ic(12,"translate"),T.Vb(13,"b"),T.Oc(14),T.ic(15,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Ub()),2&e&&(T.Bb(1),T.nc("matTooltip",T.jc(2,6,t.isParentDialog?"Form.Buttons.Exit.Tip":"Form.Buttons.Return.Tip")),T.Bb(3),T.Pc(t.isParentDialog?"clear":"arrow_back"),T.Bb(2),T.nc("ngIf",T.jc(7,8,t.hasLanguages$)),T.Bb(2),T.nc("matTooltip",T.jc(9,10,"SaveMode."+t.publishMode+".Tip")),T.Bb(3),T.Qc(" ",T.jc(12,12,"SaveMode.Label")," "),T.Bb(3),T.Pc(T.kc(15,14,"SaveMode."+t.publishMode,"").toUpperCase()))},directives:[Ke.a,kt.a,ee.a,te.a,Z.m,sc],pipes:[oe.d,Z.b],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:52px;z-index:1;box-shadow:0 2px 5px rgba(0,0,0,.26)}@media (max-width:600px){.header[_ngcontent-%COMP%]{border-radius:0}}.header__exit-button[_ngcontent-%COMP%]{margin-right:12px;width:30px;height:30px;flex-shrink:0;line-height:30px}.header__exit-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px!important}.header__langs[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;height:100%}.header__publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.header__publish-mode[_ngcontent-%COMP%]{font-weight:400}"],changeDetection:0}),e}();function uc(e,t){if(1&e&&(T.Vb(0,"div",6),T.Vb(1,"textarea",7),T.Oc(2),T.ic(3,"json"),T.Ub(),T.Ub()),2&e){var n=T.hc().ngIf;T.Bb(2),T.Pc(T.jc(3,1,n.items))}}var pc=function(e){return{"debug-enabled":e}};function fc(e,t){if(1&e){var n=T.Wb();T.Tb(0),T.Vb(1,"mat-card",1),T.Vb(2,"div",2),T.Vb(3,"button",3),T.dc("click",(function(){return T.Dc(n),T.hc().toggleDebugInfo()})),T.ic(4,"translate"),T.Vb(5,"mat-icon"),T.Oc(6,"offline_bolt"),T.Ub(),T.Ub(),T.Vb(7,"div"),T.Oc(8),T.Ub(),T.Vb(9,"button",4),T.Vb(10,"mat-icon"),T.Oc(11,"offline_bolt"),T.Ub(),T.Ub(),T.Ub(),T.Mc(12,uc,4,3,"div",5),T.Ub(),T.Sb()}if(2&e){var i=t.ngIf,o=T.hc();T.Bb(1),T.nc("ngClass",T.rc(6,pc,i.showDebugInfo)),T.Bb(2),T.nc("matTooltip",T.jc(4,4,"General.Buttons.Debug")),T.Bb(5),T.Qc("2sxc ",o.sxcVer,""),T.Bb(4),T.nc("ngIf",i.showDebugInfo)}}var gc=function(e,t){return{showDebugInfo:e,items:t}},bc=function(){function e(e){this.itemService=e,this.debugInfoOpened=new T.n,this.sxcVer=sxcVersion.substring(0,sxcVersion.lastIndexOf(".")),this.showDebugInfo$=new a.a(!1)}return e.prototype.ngOnInit=function(){this.items$=this.itemService.selectAllItems()},e.prototype.ngOnDestroy=function(){this.showDebugInfo$.complete()},e.prototype.toggleDebugInfo=function(){this.showDebugInfo$.next(!this.showDebugInfo$.value),this.debugInfoOpened.emit(this.showDebugInfo$.value)},e.\u0275fac=function(t){return new(t||e)(T.Pb(qe.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-multi-item-edit-form-debug"]],outputs:{debugInfoOpened:"debugInfoOpened"},decls:3,vars:8,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center start",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"debug-buttons-container"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",1,"hidden"],["class","debug-info-container",4,"ngIf"],[1,"debug-info-container"],["readonly","",1,"debug-dump"]],template:function(e,t){1&e&&(T.Mc(0,fc,13,8,"ng-container",0),T.ic(1,"async"),T.ic(2,"async")),2&e&&T.nc("ngIf",T.sc(5,gc,T.jc(1,1,t.showDebugInfo$),T.jc(2,3,t.items$)))},directives:[Z.m,Ke.a,Fe.c,Fe.b,Z.k,Y.a,kt.a,ee.a,te.a],pipes:[Z.b,oe.d,Z.f],styles:[".mat-card[_ngcontent-%COMP%]{padding:0;margin:0;border-top-left-radius:0;border-top-right-radius:0;height:52px;z-index:1;width:100%}@media (max-width:600px){.mat-card[_ngcontent-%COMP%]{border-radius:0}}.mat-card.debug-enabled[_ngcontent-%COMP%]{height:auto}.debug-buttons-container[_ngcontent-%COMP%]{padding:17px 16px 15px;height:52px;width:100%}.debug-info-container[_ngcontent-%COMP%]{margin:0 16px 16px!important;width:calc(100% - 32px);height:300px;position:relative}.debug-dump[_ngcontent-%COMP%]{width:calc(100% - 10px);margin:0;padding:10px 0 10px 10px;border:0;height:calc(100% - 20px);resize:none;background-color:rgba(29,39,61,.04)}.mat-icon-button[_ngcontent-%COMP%]{margin-right:12px;width:30px;height:30px;line-height:30px}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),e}();n.d(t,"MultiItemEditFormComponent",(function(){return Mc}));var hc=["slideable"];function mc(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div"),T.Vb(1,"app-item-edit-form",16),T.dc("itemFormValueChange",(function(){return T.Dc(n),T.hc(3).formValueChange()})),T.Ub(),T.Ub()}if(2&e){var i=t.$implicit,o=T.hc(3);T.Bb(1),T.nc("item",i)("formId",o.formId)}}function vc(e,t){if(1&e){var n=T.Wb();T.Vb(0,"app-multi-item-edit-form-debug",17),T.dc("debugInfoOpened",(function(e){return T.Dc(n),T.hc(3).debugInfoOpened(e)})),T.Ub()}}var yc=function(e){return{"u-display-none":e}},wc=function(e,t,n){return{"debug-enabled":e,"debug-info-is-open":t,"hide-header-height-fix":n}},_c=function(e,t,n){return{"mat-fab--compact":e,"mat-fab--extended":t,"mat-fab--disabled":n}};function Oc(e,t){if(1&e){var n=T.Wb();T.Vb(0,"div",2),T.dc("click",(function(e){return T.Dc(n),T.hc(2).toggleDebugEnabled(e)})),T.Vb(1,"div",3),T.Vb(2,"app-multi-item-edit-form-header",4),T.dc("closeDialog",(function(){return T.Dc(n),T.hc(2).closeDialog()}))("setPublishMode",(function(e){return T.Dc(n),T.hc(2).setPublishMode(e)})),T.Ub(),T.Ub(),T.Vb(3,"div",5),T.Vb(4,"div",6),T.Vb(5,"div",7),T.Vb(6,"div",8),T.Vb(7,"div",9,10),T.Mc(9,mc,2,2,"div",11),T.Ub(),T.Ub(),T.Ub(),T.Vb(10,"div",12),T.Vb(11,"div",13),T.Vb(12,"button",14),T.dc("click",(function(){return T.Dc(n),T.hc(2).saveAll(!0)})),T.ic(13,"translate"),T.Vb(14,"mat-icon"),T.Oc(15,"done"),T.Ub(),T.Oc(16),T.ic(17,"translate"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Mc(18,vc,1,0,"app-multi-item-edit-form-debug",15),T.Ub()}if(2&e){var i=T.hc().ngIf,o=T.hc();T.Bb(1),T.nc("ngClass",T.rc(18,yc,i.hideHeader)),T.Bb(1),T.nc("formId",o.formId)("formsAreValid",i.formsAreValid)("allControlsAreDisabled",i.allControlsAreDisabled)("isParentDialog",o.isParentDialog)("publishMode",i.publishMode),T.Bb(2),T.nc("ngClass",T.tc(20,wc,i.debugEnabled,i.debugInfoIsOpen,i.hideHeader)),T.Bb(3),T.nc("ngClass",i.slide),T.Bb(2),T.nc("ngForOf",i.items)("ngForTrackBy",o.trackByFn),T.Bb(3),T.nc("matTooltip",T.jc(13,14,"Form.Buttons.Save.Tip"))("ngClass",T.tc(24,_c,i.reduceSaveButton,!i.reduceSaveButton,!i.formsAreValid&&!i.allControlsAreDisabled)),T.Bb(4),T.Qc(" ",i.reduceSaveButton?"":T.jc(17,16,"Form.Buttons.Save").toUpperCase()," "),T.Bb(2),T.nc("ngIf",i.debugEnabled)}}function Cc(e,t){if(1&e&&(T.Tb(0),T.Mc(1,Oc,19,28,"div",1),T.Sb()),2&e){var n=t.ngIf;T.Bb(1),T.nc("ngIf",n.eavConfigLoaded)}}var xc=function(e,t,n,i,o,a,r,c,s,l){return{items:e,formsAreValid:t,allControlsAreDisabled:n,publishMode:i,reduceSaveButton:o,debugEnabled:a,debugInfoIsOpen:r,hideHeader:c,slide:s,eavConfigLoaded:l}},Mc=function(){function e(e,t,n,o,r,c,s,l,d,u,p,f,g,b,h,m,v){var y=this;this.dialogRef=e,this.actions$=t,this.changeDetectorRef=n,this.contentTypeService=o,this.globalConfigurationService=r,this.eavService=c,this.featureService=s,this.inputTypeService=l,this.itemService=d,this.languageService=u,this.languageInstanceService=p,this.snackBar=f,this.translate=g,this.validationMessagesService=b,this.loadIconsService=h,this.route=m,this.editRoutingService=v,this.isParentDialog=function(e){var t,n,o,a,r=0;try{for(var c=Object(i.i)(e.snapshot.pathFromRoot),s=c.next();!s.done;s=c.next()){var l=s.value;if(!(l.url.length<=0))try{for(var d=(o=void 0,Object(i.i)(l.url)),u=d.next();!u.done;u=d.next())"edit"===u.value.path&&r++}catch(p){o={error:p}}finally{try{u&&!u.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return 1===r}(this.route),this.formId=Math.floor(99999*Math.random()),this.formsAreValid$=new a.a(!1),this.allControlsAreDisabled$=new a.a(!0),this.publishMode$=new a.a("hide"),this.reduceSaveButton$=new a.a(!1),this.hideHeader$=this.languageInstanceService.getHideHeader(this.formId),this.debugEnabled$=this.globalConfigurationService.getDebugEnabled().pipe(Object(_.a)((function(e){y.debugInfoIsOpen$.value&&!e&&y.debugInfoIsOpen$.next(!1)}))),this.debugInfoIsOpen$=new a.a(!1),this.eavConfigLoaded$=new a.a(!1),this.formErrors=[],this.formsAreDirty={},this.formSaveAllObservables$=[],this.createMode=!1,this.formIsSaved=!1,this.subscriptions=[],this.editRoutingService.init(this.route,this.formId),this.loadIconsService.load()}return e.prototype.ngOnInit=function(){this.fetchFormData()},e.prototype.ngAfterViewChecked=function(){this.attachAllSaveFormObservables(),this.changeDetectorRef.detectChanges(),this.initSlider()},e.prototype.ngOnDestroy=function(){this.reduceSaveButton$.complete(),this.debugInfoIsOpen$.complete(),this.formsAreValid$.complete(),this.allControlsAreDisabled$.complete(),this.publishMode$.complete(),this.eavConfigLoaded$.complete(),this.subscriptions.forEach((function(e){e.unsubscribe()})),this.languageInstanceService.removeLanguageInstance(this.formId),this.isParentDialog&&(this.languageInstanceService.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.featureService.clearCache(),this.contentTypeService.clearCache())},e.prototype.toggleDebugEnabled=function(e){(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.shiftKey&&e.altKey&&this.globalConfigurationService.toggleDebugEnabled()},e.prototype.closeDialog=function(e){this.dialogRef.disableClose?this.snackBarYouHaveUnsavedChanges():this.dialogRef.close(this.createMode?e:void 0)},e.prototype.setPublishMode=function(e){null==this.eavService.eavConfig.versioningOptions[e]&&(e=Object.keys(this.eavService.eavConfig.versioningOptions)[0]),this.publishMode$.next(e)},e.prototype.trackByFn=function(e,t){return 0===t.entity.id?t.entity.guid:t.entity.id},e.prototype.formValueChange=function(){this.checkFormsState(),this.formErrors=[]},e.prototype.saveAll=function(e){var t=this;this.eavService.forceConnectorSave$.next(),setTimeout((function(){if(t.formsAreValid$.value||t.allControlsAreDisabled$.value)t.itemEditFormRefs.forEach((function(e){e.form.submitOutside()})),Object($.a)("saveAll",e),t.snackBar.open(t.translate.instant("Message.Saving"),null,{duration:2e3}),e&&(t.formIsSaved=!0);else{t.calculateAllValidationMessages();var n=[];t.formErrors.forEach((function(e){Object.keys(e).forEach((function(t){n.push({field:t,message:e[t]})}))})),t.snackBar.openFromComponent(Nr,{data:{fieldErrors:n},duration:5e3})}}),100)},e.prototype.debugInfoOpened=function(e){this.debugInfoIsOpen$.next(e)},e.prototype.fetchFormData=function(){var e=this,t=Object(Wr.b)(this.route.snapshot.params.items),n=JSON.stringify(t.items);this.eavService.fetchFormData(n).subscribe((function(t){setTimeout((function(){e.reduceSaveButton$.next(!0)}),5e3),e.itemService.loadItems(t.Items),e.inputTypeService.addInputTypes(t.InputTypes),e.contentTypeService.addContentTypes(t.ContentTypes),e.featureService.loadFeatures(t.Features),e.eavService.setEavConfig(t.Context),e.eavConfigLoaded$.next(!0);var n=e.eavService.eavConfig.lang.split("-")[0];if(e.translate.use(n),e.isParentDialog){var o=e.eavService.eavConfig.langs,a=Object.keys(o).map((function(e){return{key:e,name:o[e]}})),r=function(e,t){var n,o,a;if(0===t.length)return t;var r=[],c=[];try{for(var s=Object(i.i)(t),l=s.next();!l.done;l=s.next()){var d=l.value;d.key===e?a=d:d.key.startsWith(e.split("-")[0])?r.push(d):c.push(d)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r.sort(Qr),c.sort(Qr),a?Object(i.g)([a],r,c):Object(i.g)(r,c)}(e.eavService.eavConfig.langPri,a);e.languageService.loadLanguages(r)}if(e.languageInstanceService.addLanguageInstance(e.formId,e.eavService.eavConfig.lang,e.eavService.eavConfig.langPri,e.eavService.eavConfig.lang,!1),e.setPublishMode(t.DraftShouldBranch?qr.Branch:t.IsPublished?qr.Show:qr.Hide),e.eavService.eavConfig.lang!==e.eavService.eavConfig.langPri&&!e.itemService.valuesExistInDefaultLanguage(t.Items.map((function(e){return 0===e.Entity.Id?e.Entity.Guid:e.Entity.Id})),e.eavService.eavConfig.langPri,e.inputTypeService,e.contentTypeService)){e.languageInstanceService.updateCurrentLanguage(e.formId,e.eavService.eavConfig.langPri);var c=e.translate.instant("Message.SwitchedLanguageToDefault",{language:e.eavService.eavConfig.langPri});e.snackBar.open(c,null,{duration:5e3})}e.items$=e.itemService.selectItemsByIdList(t.Items.map((function(e){return 0===e.Entity.Id?e.Entity.Guid:e.Entity.Id}))).pipe(Object(O.a)(0)),e.items$.pipe(Object(C.a)(1)).subscribe((function(t){(null==t?void 0:t.length)>0&&0===t[0].entity.id&&(e.createMode=!0)})),e.languageChangeSubscribe(),e.dialogBackdropClickSubscribe(),e.saveFormMessagesSubscribe(),e.formSetValueChangeSubscribe()}))},e.prototype.initSlider=function(){var e=this;null!=this.slideableRef&&null==this.slide$&&(this.slide$=Object(r.a)(this.languageInstanceService.getCurrentLanguage(this.formId).pipe(Object(x.a)(),Object(M.a)((function(t){var n,o=Object(i.f)(t,2),a=o[0],r=o[1];return e.languageService.entities$.pipe(Object(C.a)(1)).subscribe((function(e){n=e})),n.findIndex((function(e){return e.key===a}))>n.findIndex((function(e){return e.key===r}))?"previous":"next"}))),Object(c.a)(this.slideableRef.nativeElement,"animationend").pipe(Object(P.a)((function(e){return"move-next"===e.animationName||"move-previous"===e.animationName})),Object(M.a)((function(){return""})),Object(O.a)(0))))},e.prototype.languageChangeSubscribe=function(){var e=this;this.subscriptions.push(this.languageInstanceService.getCurrentLanguage(this.formId).subscribe((function(t){e.formErrors=[]})))},e.prototype.dialogBackdropClickSubscribe=function(){var e=this;this.subscriptions.push(Object(c.a)(window,"beforeunload").subscribe((function(t){e.dialogRef.disableClose&&(t.preventDefault(),t.returnValue="",e.snackBarYouHaveUnsavedChanges())}))),this.dialogRef.backdropClick().subscribe((function(t){e.closeDialog()})),this.dialogRef.keydownEvents().subscribe((function(t){27===t.keyCode?e.closeDialog():(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&83===t.keyCode&&(t.preventDefault(),e.saveAll(!1))}))},e.prototype.saveFormMessagesSubscribe=function(){var e=this;this.subscriptions.push(this.actions$.pipe(Object(o.e)(S.c)).subscribe((function(t){e.itemService.updateItemId(t.data),Object($.a)("success END: ",t.data),e.snackBar.open(e.translate.instant("Message.Saved"),null,{duration:2e3}),e.dialogRef.disableClose=!1,e.formIsSaved&&e.closeDialog(t.data)}))),this.subscriptions.push(this.actions$.pipe(Object(o.e)(S.b)).subscribe((function(t){Object($.a)("error END",t.error),e.snackBar.open("Error",null,{duration:2e3})})))},e.prototype.formSetValueChangeSubscribe=function(){var e=this;this.subscriptions.push(this.eavService.formValueChange$.pipe(Object(P.a)((function(t){return t.formId===e.formId}))).subscribe((function(t){e.checkFormsState()})))},e.prototype.checkFormsState=function(){var e,t,n=this;if((null===(e=this.itemEditFormRefs)||void 0===e?void 0:e.length)>0&&(null===(t=this.itemEditFormRefs)||void 0===t?void 0:t.first.currentLanguage)){var i=!0,o=!0;this.formsAreDirty[this.itemEditFormRefs.first.currentLanguage]=!1,this.itemEditFormRefs.forEach((function(e){!0!==e.form.form.invalid||e.item.header.Group&&!1!==e.item.header.Group.SlotCanBeEmpty||(i=!1),e.form.form.dirty&&(n.formsAreDirty[e.currentLanguage]=!0),e.checkAreAllControlsDisabled()||(o=!1)})),this.formsAreValid$.value!==i&&this.formsAreValid$.next(i),this.allControlsAreDisabled$.value!==o&&this.allControlsAreDisabled$.next(o)}this.dialogRef.disableClose=this.areFormsDirtyAnyLanguage()},e.prototype.areFormsDirtyAnyLanguage=function(){var e,t,n=!1,o=Object.keys(this.formsAreDirty);try{for(var a=Object(i.i)(o),r=a.next();!r.done;r=a.next())if(!0===this.formsAreDirty[r.value]){n=!0;break}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.calculateAllValidationMessages=function(){var e,t=this;this.formErrors=[],null===(e=this.itemEditFormRefs)||void 0===e||e.forEach((function(e){e.form.form.invalid&&t.formErrors.push(t.validationMessagesService.validateForm(e.form.form,!1))}))},e.prototype.attachAllSaveFormObservables=function(){var e,t=this;0===this.formSaveAllObservables$.length&&(null===(e=this.itemEditFormRefs)||void 0===e||e.forEach((function(e){t.formSaveAllObservables$.push(e.formSaveObservable())})),this.formSaveAllObservables$.length>0&&(this.saveFormSubscribe(),this.checkFormsState()))},e.prototype.saveFormSubscribe=function(){var e=this;this.subscriptions.push(g.apply(void 0,Object(i.g)(this.formSaveAllObservables$)).pipe(Object(I.a)((function(t){Object($.a)("ZIP ACTIONS ITEM: ",Fr.create(t[0].item));var n=[];return t.forEach((function(e){var t=Fr.create(e.item);Object.keys(t.Entity.Attributes).length>0&&n.push(t)})),e.eavService.saveFormData(JSON.stringify({Items:n,IsPublished:e.publishMode$.value===qr.Show,DraftShouldBranch:e.publishMode$.value===qr.Branch})).pipe(Object(M.a)((function(t){e.eavService.saveItemSuccess(t)})),Object(_.a)((function(e){return Object($.a)("working")})))})),Object(k.a)((function(t){return Object(w.a)(e.eavService.saveItemError(t))}))).subscribe())},e.prototype.snackBarYouHaveUnsavedChanges=function(){var e=this,t=this.snackBar.openFromComponent(Rr,{data:{save:!1},duration:5e3});t.onAction().subscribe((function(){t.containerInstance.snackBarConfig.data.save?e.saveAll(!0):(e.dialogRef.disableClose=!1,e.closeDialog())}))},e.\u0275fac=function(t){return new(t||e)(T.Pb(Ot.g),T.Pb(o.a),T.Pb(T.h),T.Pb(Je),T.Pb(Io.a),T.Pb(L.a),T.Pb(J),T.Pb(Xt.a),T.Pb(qe.a),T.Pb(Pt.a),T.Pb(We.a),T.Pb(Fo.b),T.Pb(oe.e),T.Pb(z.a),T.Pb(Hr.a),T.Pb(Jr.a),T.Pb(X.a))},e.\u0275cmp=T.Jb({type:e,selectors:[["app-multi-item-edit-form"]],viewQuery:function(e,t){var n;1&e&&(T.Uc(hc,!0),T.Uc(Dr,!0)),2&e&&(T.Ac(n=T.ec())&&(t.slideableRef=n.first),T.Ac(n=T.ec())&&(t.itemEditFormRefs=n))},decls:12,vars:32,consts:[[4,"ngIf"],["mat-dialog-container","","style","position: relative",3,"click",4,"ngIf"],["mat-dialog-container","",2,"position","relative",3,"click"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"formId","formsAreValid","allControlsAreDisabled","isParentDialog","publishMode","closeDialog","setPublishMode"],[2,"position","relative"],["mat-dialog-content","",1,"u-hide-scrollbar",3,"ngClass"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12",3,"ngClass"],["slideable",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-multi-item-dialog__save-container"],[1,"c-multi-item-dialog__save-button"],["mat-fab","",1,"mat-elevation-z24",3,"matTooltip","ngClass","click"],["mat-dialog-actions","",3,"debugInfoOpened",4,"ngIf"],[3,"item","formId","itemFormValueChange"],["mat-dialog-actions","",3,"debugInfoOpened"]],template:function(e,t){1&e&&(T.Qb(0,"router-outlet"),T.Mc(1,Cc,2,1,"ng-container",0),T.ic(2,"async"),T.ic(3,"async"),T.ic(4,"async"),T.ic(5,"async"),T.ic(6,"async"),T.ic(7,"async"),T.ic(8,"async"),T.ic(9,"async"),T.ic(10,"async"),T.ic(11,"async")),2&e&&(T.Bb(1),T.nc("ngIf",T.zc(21,xc,[T.jc(2,1,t.items$),T.jc(3,3,t.formsAreValid$),T.jc(4,5,t.allControlsAreDisabled$),T.jc(5,7,t.publishMode$),T.jc(6,9,t.reduceSaveButton$),T.jc(7,11,t.debugEnabled$),T.jc(8,13,t.debugInfoIsOpen$),T.jc(9,15,t.hideHeader$),T.jc(10,17,t.slide$),T.jc(11,19,t.eavConfigLoaded$)])))},directives:[Jr.e,Z.m,Ot.c,Z.k,Y.a,dc,Ot.e,Z.l,kt.a,ee.a,te.a,Dr,bc],pipes:[Z.b,oe.d],styles:["@-webkit-keyframes move-next{0%{transform:translateX(0)}49%{transform:translateX(-800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@keyframes move-next{0%{transform:translateX(0)}49%{transform:translateX(-800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@-webkit-keyframes move-previous{0%{transform:translateX(0)}49%{transform:translateX(800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(-800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@keyframes move-previous{0%{transform:translateX(0)}49%{transform:translateX(800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(-800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}.next[_ngcontent-%COMP%]{-webkit-animation:move-next .2s ease-in;animation:move-next .2s ease-in}.previous[_ngcontent-%COMP%]{-webkit-animation:move-previous .2s ease-in;animation:move-previous .2s ease-in}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.mat-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0;max-height:calc(100vh - 100px)}@media (max-width:600px){.mat-dialog-content[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)}}.mat-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 48px)!important}@media (max-width:600px){.mat-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:100vh!important}}.mat-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 152px)}@media (max-width:600px){.mat-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 104px)}}.mat-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 100px)!important}@media (max-width:600px){.mat-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)!important}}.mat-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 468px)}@media (max-width:600px){.mat-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 420px)}}.mat-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 416px)!important}@media (max-width:600px){.mat-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 368px)!important}}.mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.c-multi-item-dialog__save-container[_ngcontent-%COMP%]{z-index:1;position:absolute;bottom:14px;right:24px}@media (max-width:600px){.c-multi-item-dialog__save-container[_ngcontent-%COMP%]{bottom:4px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{border-radius:16px 0;overflow:hidden}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]    .mat-button-wrapper{padding:0;font-size:14px;height:20px;line-height:20px}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--compact[_ngcontent-%COMP%]{height:48px;width:48px;transition:width 1s}@media (max-width:600px){.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--compact[_ngcontent-%COMP%]{height:42px;width:42px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--extended[_ngcontent-%COMP%]{height:48px;width:200px;transition:width 1s}@media (max-width:600px){.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--extended[_ngcontent-%COMP%]{height:42px;width:170px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.26);background-color:rgba(29,39,61,.12)}.mdc-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width:600px){.mdc-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"],changeDetection:0}),e}()},lnqP:function(e,t,n){"use strict";var i=n("gFym"),o=n("SEb4");t.a=function(e,t,n){var a=t(e);return Object(o.a)(e)?a:Object(i.a)(a,n(e))}},mY74:function(e,t,n){"use strict";var i=n("fw2E");t.a=i.a.Uint8Array},qd5q:function(e,t,n){"use strict";var i=n("NUo7"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;t.a=a?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,a=null==t?0:t.length,r=0,c=[];++i<a;){var s=t[i];o.call(e,s)&&(c[r++]=s)}return c}(a(e)))}:i.a},qzOT:function(e,t){var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,i){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0===n.Reflect?n.Reflect=e:i=o(n.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,r={__proto__:[]}instanceof Array,c=!a&&!r,s={create:a?function(){return j(Object.create(null))}:r?function(){return j({__proto__:null})}:function(){return j({})},has:c?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:c?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),d="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,u=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,o=n+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,r)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function a(e,t){return t}function r(e,t){return[e,t]}}():Map,p=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new u}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,f=new(d||"function"!=typeof WeakMap?function(){var e=s.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+r()}while(s.has(e,t));return e[t]=!0,t}function o(e,i){if(!t.call(e,n)){if(!i)return;Object.defineProperty(e,n,{value:s.create()})}return e[n]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function r(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16),16):a(new Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var i=e[n];4!==n&&6!==n&&8!==n||(t+="-"),i<16&&(t+="0"),t+=i.toString(16).toLowerCase()}return t}}():WeakMap);function g(e,t,n){var i=f.get(e);if(w(i)){if(!n)return;i=new u,f.set(e,i)}var o=i.get(t);if(w(o)){if(!n)return;o=new u,i.set(t,o)}return o}function b(e,t,n){var i=g(t,n,!1);return!w(i)&&!!i.has(e)}function h(e,t,n){var i=g(t,n,!1);if(!w(i))return i.get(e)}function m(e,t,n,i){g(n,i,!0).set(e,t)}function v(e,t){var n=[],i=g(e,t,!1);if(w(i))return n;for(var a=function(e){var t=I(e,o);if(!M(t))throw new TypeError;var n=t.call(e);if(!O(n))throw new TypeError;return n}(i.keys()),r=0;;){var c=k(a);if(!c)return n.length=r,n;var s=c.value;try{n[r]=s}catch(l){try{S(a)}finally{throw l}}r++}}function y(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function _(e){return null===e}function O(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e){var t=function(e,t){switch(y(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=I(e,i);if(void 0!==n){var o=n.call(e,"string");if(O(o))throw new TypeError;return o}return function(e,t){var n,i,o=e.toString;if(M(o)&&!O(i=o.call(e)))return i;if(M(n=e.valueOf)&&!O(i=n.call(e)))return i;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function x(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"function"==typeof e}function P(e){return"function"==typeof e}function I(e,t){var n=e[t];if(null!=n){if(!M(n))throw new TypeError;return n}}function k(e){var t=e.next();return!t.done&&t}function S(e){var t=e.return;t&&t.call(e)}function T(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var o=i.constructor;return"function"!=typeof o?t:o===e?t:o}function j(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,i){if(w(n)){if(!x(e))throw new TypeError;if(!P(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!w(i)&&!_(i)){if(!P(i))throw new TypeError;t=i}}return t}(e,t)}if(!x(e))throw new TypeError;if(!O(t))throw new TypeError;if(!O(i)&&!w(i)&&!_(i))throw new TypeError;return _(i)&&(i=void 0),function(e,t,n,i){for(var o=e.length-1;o>=0;--o){var a=(0,e[o])(t,n,i);if(!w(a)&&!_(a)){if(!O(a))throw new TypeError;i=a}}return i}(e,t,n=C(n),i)})),e("metadata",(function(e,t){return function(n,i){if(!O(n))throw new TypeError;if(!w(i)&&!function(e){switch(y(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;m(e,t,n,i)}})),e("defineMetadata",(function(e,t,n,i){if(!O(n))throw new TypeError;return w(i)||(i=C(i)),m(e,t,n,i)})),e("hasMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return w(n)||(n=C(n)),function e(t,n,i){if(b(t,n,i))return!0;var o=T(n);return!_(o)&&e(t,o,i)}(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return w(n)||(n=C(n)),b(e,t,n)})),e("getMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return w(n)||(n=C(n)),function e(t,n,i){if(b(t,n,i))return h(t,n,i);var o=T(n);return _(o)?void 0:e(t,o,i)}(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return w(n)||(n=C(n)),h(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return w(t)||(t=C(t)),function e(t,n){var i=v(t,n),o=T(t);if(null===o)return i;var a=e(o,n);if(a.length<=0)return i;if(i.length<=0)return a;for(var r=new p,c=[],s=0,l=i;s<l.length;s++)r.has(f=l[s])||(r.add(f),c.push(f));for(var d=0,u=a;d<u.length;d++){var f;r.has(f=u[d])||(r.add(f),c.push(f))}return c}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return w(t)||(t=C(t)),v(e,t)})),e("deleteMetadata",(function(e,t,n){if(!O(t))throw new TypeError;w(n)||(n=C(n));var i=g(t,n,!1);if(w(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var o=f.get(t);return o.delete(n),o.size>0||(f.delete(t),!0)}))}(i)}()}(n||(n={}))}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.05.01/ng-edit/multi-item-edit-form-component.25e86f65b26262c996c4.js.map
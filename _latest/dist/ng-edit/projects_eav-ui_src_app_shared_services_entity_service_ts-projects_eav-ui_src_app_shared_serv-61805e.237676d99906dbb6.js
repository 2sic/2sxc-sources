"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-61805e"],{9234:(P,u,t)=>{t.d(u,{Gg:()=>d,Tr:()=>v,gb:()=>_});var E=t(1567),c=t(6647),r=t(6301),a=t(271),m=t(2938),h=t(4435),o=t(6474),O=t(4839),e=t(9148);const s={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},_="admin/entity/",d="admin/entity/list";let v=(()=>{class i extends o.D{constructor(){super(...arguments),this.log=(0,h.T)({EntityService:i},s),this.queryService=(0,m.d)(O.c)}getEntities$(l){return this.log.fnIf("getEntities"),l.pipe((0,E.p)(n=>null!=n),(0,c.n)(n=>this.getAvailableEntities(n.contentTypeName).pipe((0,r.t)(1))))}getAvailableEntities(l,n){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[l],itemIds:n,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,a.T)(f=>f.Default))}delete(l,n,g,f,p,D){return this.log.fnIf("delete",{appId:l,contentType:n,entityId:g,force:f,parentId:p,parent}),this.http.delete(this.apiUrl(_+"delete"),{params:{contentType:n,id:g.toString(),appId:l,force:f.toString(),...p&&{parentId:p.toString()},...p&&D&&{parentField:D}}})}static{this.\u0275fac=(()=>{let l;return function(g){return(l||(l=e.xGo(i)))(g||i)}})()}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac})}}return i})()},4839:(P,u,t)=>{t.d(u,{c:()=>h});var E=t(4435),c=t(8873),r=t(9148),a=t(6443);const m={all:!1,getAvailableEntities:!1,getEntities:!1};let h=(()=>{class o{constructor(e,s){this.http=e,this.context=s,this.log=(0,E.T)({QueryService:o},m)}getFromQuery(e,s,_,d){this.log.fnIf("getAvailableEntities",{queryUrl:e,params:s,fields:_,entitiesFilter:d});const v=!!s,n=(((s?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(v?`&${s}`:"")+"&$select="+(_??"")).substring(1);return this.http.post(`app/auto/query/${e}?${n}`,{Guids:d})}getEntities({contentTypes:e,itemIds:s,fields:_,log:d}){this.log.fnIf("getEntities",{log:d,contentTypes:e,itemIds:s,fields:_});const i=("&typeNames="+(e?.join(",")??"")+`&appId=${this.context.appId}&itemIds=`+(s?.join(",")??"")+"&$select="+(_??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${i}`,{})}static{this.\u0275fac=function(s){return new(s||o)(r.KVO(a.Qq),r.KVO(c.o))}}static{this.\u0275prov=r.jDH({token:o,factory:o.\u0275fac})}}return o})()},4979:(P,u,t)=>{t.d(u,{V:()=>r});var E=t(7092),c=t(9148);let r=(()=>{class a{constructor(){this.subscriptions=new E.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275prov=c.jDH({token:a,factory:a.\u0275fac})}}return a})()},5932:(P,u,t)=>{t.r(u),t.d(u,{visualQueryRoutes:()=>r});var E=t(4079),c=t(1195);const r=[{path:"",loadComponent:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),t.e("default-projects_eav-ui_src_app_edit_dialog_main_keyboard-shortcuts_ts-projects_eav-ui_src_ap-97d1ef"),t.e("common"),t.e("projects_eav-ui_src_app_visual-query_visual-query_component_ts")]).then(t.bind(t,3717)).then(a=>a.VisualQueryComponent),children:[E.N5.route,...c.Ed]}]}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.03.00/dist/ng-edit/projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-61805e.237676d99906dbb6.js.map
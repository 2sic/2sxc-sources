(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7lgs":function(e,t,n){"use strict";n.r(t),n.d(t,"ContentExportComponent",(function(){return V}));var o=n("1C3z"),a=n("BLjT"),r=n("5/c3"),c=n("Xi8o"),i=n("KoVM"),s=n("8AiQ"),l=n("ZSGP"),u=n("hOvr"),b=n("LuBX"),d=n("OeRG"),g=n("+raR"),p=n("9HSk");function f(e,t){if(1&e&&(o.Vb(0,"mat-option",25),o.Oc(1),o.Ub()),2&e){var n=t.$implicit;o.nc("value",n.key),o.Bb(1),o.Pc(n.key)}}function m(e,t){if(1&e&&(o.Vb(0,"mat-radio-button",26),o.Oc(1),o.Ub()),2&e){var n=o.hc(2);o.Bb(1),o.Qc("Export selected ",n.itemIds.length," items")}}function h(e,t){if(1&e){var n=o.Wb();o.Vb(0,"form",5,6),o.Vb(2,"div",7),o.Vb(3,"div"),o.Vb(4,"mat-form-field",8),o.Vb(5,"mat-label"),o.Oc(6,"Languages"),o.Ub(),o.Vb(7,"mat-select",9),o.dc("ngModelChange",(function(e){return o.Dc(n),o.hc().formValues.language=e})),o.Vb(8,"mat-option",10),o.Oc(9,"All"),o.Ub(),o.Mc(10,f,2,2,"mat-option",11),o.Ub(),o.Ub(),o.Ub(),o.Vb(11,"div"),o.Vb(12,"p",12),o.Oc(13,"Export data"),o.Ub(),o.Vb(14,"mat-radio-group",13),o.dc("ngModelChange",(function(e){return o.Dc(n),o.hc().formValues.recordExport=e})),o.Vb(15,"mat-radio-button",14),o.Oc(16,"No, just export blank data schema (for new data import) "),o.Ub(),o.Vb(17,"mat-radio-button",15),o.Oc(18,"Yes, export all content-items"),o.Ub(),o.Mc(19,m,2,1,"mat-radio-button",16),o.Ub(),o.Ub(),o.Vb(20,"div"),o.Vb(21,"p",12),o.Oc(22,"Value references to other languages"),o.Ub(),o.Vb(23,"mat-radio-group",17),o.dc("ngModelChange",(function(e){return o.Dc(n),o.hc().formValues.languageReferences=e})),o.Vb(24,"mat-radio-button",18),o.Oc(25,"Keep references to other languages (for re-import) "),o.Ub(),o.Vb(26,"mat-radio-button",19),o.Oc(27,"Replace references with values"),o.Ub(),o.Ub(),o.Ub(),o.Vb(28,"div"),o.Vb(29,"p",12),o.Oc(30,"File / page references"),o.Ub(),o.Vb(31,"mat-radio-group",20),o.dc("ngModelChange",(function(e){return o.Dc(n),o.hc().formValues.resourcesReferences=e})),o.Vb(32,"mat-radio-button",18),o.Oc(33,"Keep references (for re-import, for example Page:4711) "),o.Ub(),o.Vb(34,"mat-radio-button",19),o.Oc(35,"Replace references with real URLs (for example /Portals/0...) "),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(36,"div",21),o.Vb(37,"button",22),o.dc("click",(function(){return o.Dc(n),o.hc().closeDialog()})),o.Oc(38,"Cancel"),o.Ub(),o.Vb(39,"button",23),o.dc("click",(function(){return o.Dc(n),o.hc().exportJson()})),o.Oc(40," Export Type Definition as Json (for developers) "),o.Ub(),o.Vb(41,"button",24),o.dc("click",(function(){return o.Dc(n),o.hc().exportContent()})),o.Oc(42," Export "),o.Ub(),o.Ub(),o.Ub()}if(2&e){var a=o.Bc(1),r=o.hc();o.Bb(7),o.nc("ngModel",r.formValues.language),o.Bb(3),o.nc("ngForOf",r.languages),o.Bb(4),o.nc("ngModel",r.formValues.recordExport),o.Bb(5),o.nc("ngIf",r.hasIdList),o.Bb(4),o.nc("ngModel",r.formValues.languageReferences)("disabled","Blank"===r.formValues.recordExport),o.Bb(8),o.nc("ngModel",r.formValues.resourcesReferences)("disabled","Blank"===r.formValues.recordExport),o.Bb(8),o.nc("disabled",!a.form.valid),o.Bb(2),o.nc("disabled",!a.form.valid)}}var V=function(){function e(e,t,n,o){this.dialogRef=e,this.route=t,this.contentExportService=n,this.appDialogConfigService=o,this.hostClass="dialog-component",this.hasIdList=!1;var a=this.route.snapshot.paramMap.get("selectedIds");this.hasIdList=!!a,this.hasIdList&&(this.itemIds=a.split(",").map((function(e){return parseInt(e,10)})))}return e.prototype.ngOnInit=function(){var e=this;this.appDialogConfigService.getDialogSettings().subscribe((function(t){var n=t.Context.Language.All;e.languages=Object.keys(n).map((function(e){return{key:e,name:n[e]}})),e.formValues={defaultLanguage:t.Context.Language.Primary,contentTypeStaticName:e.route.snapshot.paramMap.get("contentTypeStaticName"),language:"",recordExport:e.hasIdList?"Selection":"All",languageReferences:"Link",resourcesReferences:"Link"}}))},e.prototype.exportContent=function(){this.contentExportService.exportContent(this.formValues,this.hasIdList&&"Selection"===this.formValues.recordExport?this.itemIds:null)},e.prototype.exportJson=function(){this.contentExportService.exportJson(this.formValues.contentTypeStaticName)},e.prototype.closeDialog=function(){this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(o.Pb(a.g),o.Pb(r.a),o.Pb(c.a),o.Pb(i.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-content-export"]],hostVars:1,hostBindings:function(e,t){2&e&&o.Yb("className",t.hostClass)},decls:9,vars:1,consts:[["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],["href","http://2sxc.org/help","target","_blank"],["class","dialog-form",4,"ngIf"],[1,"dialog-form"],["ngForm","ngForm"],[1,"dialog-form-content","fancy-scrollbar-light"],["appearance","standard","color","accent"],["name","Language",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"field-label"],["name","RecordExport",3,"ngModel","ngModelChange"],["value","Blank"],["value","All"],["value","Selection",4,"ngIf"],["name","LanguageReferences",3,"ngModel","disabled","ngModelChange"],["value","Link"],["value","Resolve"],["name","ResourcesReferences",3,"ngModel","disabled","ngModelChange"],[1,"dialog-form-actions"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],[3,"value"],["value","Selection"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Oc(2,"Export Content / Data"),o.Ub(),o.Ub(),o.Vb(3,"p",2),o.Oc(4," This will generate an XML file which you can edit in Excel. If you just want to import new data, use this to export the schema that you can then fill in using Excel. Please visit "),o.Vb(5,"a",3),o.Oc(6,"http://2sxc.org/help"),o.Ub(),o.Oc(7," for more instructions.\n"),o.Ub(),o.Mc(8,h,43,10,"form",4)),2&e&&(o.Bb(8),o.nc("ngIf",t.languages&&t.formValues))},directives:[a.h,s.m,l.u,l.m,l.n,u.c,u.g,b.a,l.l,l.o,d.l,s.l,g.b,g.a,p.a],styles:[".field-label[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0}.mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px;font-size:14px}"]}),e}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.05.01/ng-edit/content-export-component.f6c6d284debbd8549e3f.js.map
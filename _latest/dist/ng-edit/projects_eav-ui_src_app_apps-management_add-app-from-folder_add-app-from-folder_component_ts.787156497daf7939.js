"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts"],{8242:(y,_,e)=>{e.r(_),e.d(_,{AddAppFromFolderComponent:()=>x});var t=e(9148),p=e(4175),l=e(7941),u=e(2938),h=e(8136),v=e(5469),d=e(4824),E=e(1828),D=e(251),f=e(7037),P=e(3583),g=e(3840),C=e(4601);let o=(()=>{class c{agInit(s){this.name=s.value,this.tooltip=s.tooltipGetter(s.data)}refresh(s){return!0}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-app-name-show"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"name-box"],[1,"info-icon",3,"tippy"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"mat-icon",1),t.EFF(4,"info"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(i.name),t.R7$(),t.Y8G("tippy",i.tooltip))},dependencies:[g.m_,g.An,C.e],styles:[".name-box[_ngcontent-%COMP%]{display:flex;align-items:center}.info-icon[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:3px}"]})}}return c})(),A=(()=>{class c{agInit(s){this.params=s}refresh(s){return!0}onChange(s){this.params.onChange(this.params.data,s.currentTarget.checked)}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-checkbox-cell"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[1,"checkbox-box"],["type","checkbox",1,"checkbox-input",3,"change","disabled","checked"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"input",1),t.bIt("change",function(M){return i.onChange(M)}),t.k0s()()),2&r&&(t.R7$(),t.Y8G("disabled",i.params.isDisabled)("checked",i.params.value))},styles:[".checkbox-box[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.checkbox-input[_ngcontent-%COMP%]{height:15px;width:15px}"]})}}return c})();var n=e(3347),m=e(9841);function a(c,R){1&c&&(t.j41(0,"p"),t.EFF(1," Nothing to show. All apps in the 2sxc folder are already installed. "),t.k0s())}function F(c,R){if(1&c&&(t.j41(0,"div"),t.nrm(1,"ag-grid-angular",8),t.k0s()),2&c){const s=t.XpG();t.R7$(),t.Y8G("rowData",s.pendingApps())("gridOptions",s.gridOptions)}}let x=(()=>{class c{#t;#e;constructor(s,r){this.dialog=s,this.snackBar=r,this.hostClass="dialog-component",this.gridOptions=this.buildGridOptions(),this.installing=!1,this.features=(0,t.WQX)(d.t),this.#t=this.features.isEnabled[h.T.AppSyncWithSiteFiles],this.#e=(0,u.d)(P.U),this.pendingApps=this.#e.getPendingApps()}closeDialog(){this.dialog.close()}onChange(s,r){const i=this.pendingApps();r?i.push(s):i.splice(i.indexOf(s),1),this.pendingApps.set(i)}install(){this.installing=!0,this.snackBar.open("Installing",void 0,{duration:2e3}),this.#e.installPendingApps(this.pendingApps()).subscribe({error:()=>{this.installing=!1,this.snackBar.open("Failed to install app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.installing=!1,this.snackBar.open("Installed app",void 0,{duration:2e3}),this.closeDialog()}})}buildGridOptions(){return{...D.C,columnDefs:[{field:"",width:40,cellClass:"no-outline",sortable:!0,cellRenderer:A,cellRendererParams:()=>({isDisabled:!this.#t(),onChange:(i,I)=>this.onChange(i,I)})},{...E.r.ItemsText,field:"Name",flex:1,sort:"asc",cellRenderer:o,cellRendererParams:{tooltipGetter:i=>`Server folder: ${i.ServerFolder}\nFolder: ${i.Folder}\nVersion: ${i.Version}\nDescription: ${i.Description}`}}]}}static{this.\u0275fac=function(r){return new(r||c)(t.rXU(l.CP),t.rXU(n.UG))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-add-app-from-folder"]],hostVars:1,hostBindings:function(r,i){2&r&&t.Mr5("className",i.hostClass)},standalone:!0,features:[t.aNF],decls:15,vars:4,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[3,"featureNameId"],["align","end"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"],[1,"ag-theme-material","eav-grid",3,"rowData","gridOptions"]],template:function(r,i){if(1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3,"Add App from Folder"),t.k0s()(),t.j41(4,"div",3),t.nrm(5,"app-feature-text-info",4),t.j41(6,"p"),t.EFF(7," Select an app from the apps-folder which has been copied there (or git-cloned) but not installed yet. "),t.k0s(),t.DNE(8,a,2,0,"p")(9,F,2,2,"div"),t.k0s(),t.j41(10,"mat-dialog-actions",5)(11,"button",6),t.bIt("click",function(){return i.closeDialog()}),t.EFF(12," Cancel "),t.k0s(),t.j41(13,"button",7),t.bIt("click",function(){return i.install()}),t.EFF(14," Install "),t.k0s()()()),2&r){let I,M;t.R7$(5),t.Y8G("featureNameId","AppSyncWithSiteFiles"),t.R7$(3),t.vxM(0==(null==(I=i.pendingApps())?null:I.length)?8:-1),t.R7$(),t.vxM((null==(M=i.pendingApps())?null:M.length)>0?9:-1),t.R7$(4),t.Y8G("disabled",0===i.pendingApps().length||i.installing)}},dependencies:[l.E7,p.Hl,p.$z,v.L,f.p,m.xs],styles:[".eav-grid[_ngcontent-%COMP%]{height:200px;width:auto}"]})}}return c})()},1191:(y,_,e)=>{e.d(_,{O:()=>A});var t=e(9148),p=e(4175),l=e(3777),u=e(7941),h=e(3840),v=e(852),d=e(2938),E=e(9914),D=e(5081),f=e(7993);function P(n,m){if(1&n&&(t.j41(0,"div",1)(1,"div",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",3)(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&n){const a=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,2,"Features.Status"),":"),t.R7$(4),t.JRh(t.bMT(7,4,a.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function g(n,m){if(1&n){const a=t.RV6();t.j41(0,"div",1)(1,"div",2),t.EFF(2,"GUID:"),t.k0s(),t.j41(3,"div",8)(4,"span",4),t.bIt("click",function(){t.eBV(a);const x=t.XpG(2);return t.Njj(x.clipboard.copyToClipboard(x.feature().guid))}),t.EFF(5),t.k0s()()()}if(2&n){const a=t.XpG(2);t.R7$(5),t.JRh(a.feature().guid)}}function C(n,m){if(1&n){const a=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(a);const x=t.XpG(2);return t.Njj(x.dialog.close())}),t.EFF(1,"Close"),t.k0s()}}function o(n,m){if(1&n){const a=t.RV6();t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.k0s()(),t.j41(4,"mat-card-content"),t.nrm(5,"p",0),t.nI1(6,"safeHtml"),t.j41(7,"div",1)(8,"div",2),t.EFF(9,"ID:"),t.k0s(),t.j41(10,"div",3)(11,"span",4),t.bIt("click",function(){t.eBV(a);const x=t.XpG();return t.Njj(x.clipboard.copyToClipboard(x.feature().nameId))}),t.EFF(12),t.k0s()()(),t.DNE(13,P,8,6,"div",1)(14,g,6,1,"div",1),t.j41(15,"div",1)(16,"div",2),t.EFF(17,"Security Rating:"),t.k0s(),t.j41(18,"div",3)(19,"span"),t.EFF(20),t.k0s()()()(),t.j41(21,"mat-card-actions",5)(22,"a",6)(23,"mat-icon"),t.EFF(24,"open_in_new"),t.k0s(),t.EFF(25," Find out more "),t.k0s(),t.DNE(26,C,2,0,"button",7),t.k0s()()}if(2&n){const a=t.XpG();t.R7$(3),t.JRh(a.feature().name),t.R7$(2),t.Y8G("innerHtml",t.bMT(6,8,a.feature().description),t.npT),t.R7$(7),t.JRh(a.feature().nameId),t.R7$(),t.vxM(a.mySpecs().showStatus?13:-1),t.R7$(),t.vxM(a.mySpecs().showGuid?14:-1),t.R7$(6),t.JRh(a.feature().security.Impact+": "+a.feature().security.Message),t.R7$(2),t.Y8G("href",a.feature().link,t.B4B),t.R7$(4),t.vxM(0!=a.mySpecs().showClose?26:-1)}}let A=(()=>{class n{constructor(a,F){this.dialogSpecs=a,this.dialog=F,this.specs=(0,t.hFB)(),this.mySpecs=(0,f.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,f.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,d.d)(D.W)}static{this.\u0275fac=function(F){return new(F||n)(t.rXU(u.Vh,8),t.rXU(u.CP))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","","color","accent",1,"eav-card-action-button",3,"href"],["mat-raised-button","",1,"eav-card-action-button"],[1,"eav-info-row__value","eav_click"],["mat-raised-button","",1,"eav-card-action-button",3,"click"]],template:function(F,x){1&F&&t.DNE(0,o,27,10,"mat-card"),2&F&&t.vxM(x.feature()?0:-1)},dependencies:[l.Hu,l.RN,l.YY,l.m2,l.MM,l.dh,p.Hl,p.It,p.$z,h.m_,h.An,E.$,v.h,v.D9],encapsulation:2})}}return n})()},8136:(y,_,e)=>{e.d(_,{T:()=>t});const t={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",ContentTypeFieldsReuseDefinitions:"ContentTypeFieldsReuseDefinitions",AppExportAssetsAdvanced:"AppExportAssetsAdvanced",PickerUiCheckbox:"PickerUiCheckbox",PickerUiRadio:"PickerUiRadio",PickerSourceCsv:"PickerSourceCsv",PickerSourceAppAssets:"PickerSourceAppAssets",PickerFormulas:"PickerFormulas",PickerUiMoreInfo:"PickerUiMoreInfo"}},5469:(y,_,e)=>{e.d(_,{L:()=>D});var t=e(9148),p=e(3840),l=e(852),u=e(4601),h=e(7993),v=e(6838);const d=["*"];function E(f,P){if(1&f){const g=t.RV6();t.j41(0,"div",1),t.nI1(1,"translate"),t.bIt("click",function(){t.eBV(g);const o=t.XpG();return t.Njj(o.openDialog())}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"div",2)(5,"div",3),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",4),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.SdG(11),t.k0s()()}if(2&f){const g=t.XpG();t.Y8G("tippy",t.i5U(1,7,"Features.Tooltip",g.feature())),t.R7$(2),t.ZvI("icon icon-",g.icon(),""),t.R7$(),t.JRh(g.icon()),t.R7$(3),t.JRh(t.bMT(7,10,"Features.FeatureNotActivated")),t.R7$(3),t.JRh(t.bMT(10,12,"Features.ClickToFindOutMore"))}}let D=(()=>{class f extends v.x{constructor(){super(),this.asInfo=(0,t.hFB)(!1),this.icon=(0,h.bo)("icon",()=>this.asInfo()?"info":"warning")}static{this.\u0275fac=function(C){return new(C||f)}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-feature-text-info"]],inputs:{asInfo:[1,"asInfo"]},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:d,decls:1,vars:1,consts:[[1,"feature-text-info",3,"tippy"],[1,"feature-text-info",3,"click","tippy"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(C,o){1&C&&(t.NAR(),t.DNE(0,E,12,14,"div",0)),2&C&&t.vxM(o.show()?0:-1)},dependencies:[p.m_,p.An,l.h,l.D9,u.e],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}}return f})()},5943:(y,_,e)=>{e.d(_,{N:()=>u});var t=e(9148),p=e(6474);const l="admin/feature/details";let u=(()=>{class h extends p.D{getFeatureDetail(d){return this.getSignal(l,{params:{nameId:d}})}getFeatureDetails(d){const E=(0,t.vPA)([]);for(const D of d)this.xx(D).subscribe(f=>{E.update(P=>[...P,f])});return E}xx(d){return this.getHttpApiUrl(l,{params:{nameId:d}})}static{this.\u0275fac=(()=>{let d;return function(D){return(d||(d=t.xGo(h)))(D||h)}})()}static{this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}}return h})()},6838:(y,_,e)=>{e.d(_,{x:()=>g,j:()=>C});var t=e(9148),p=e(7941),l=e(7993),u=e(2938),h=e(1191),v=e(5081),d=e(5943);const E=o=>({feature:o,showGuid:!1,showStatus:!0,showClose:!0});function D(o,A){1&o&&t.nrm(0,"app-feature-details-dialog",0),2&o&&t.Y8G("specs",t.eq3(1,E,A))}let f=(()=>{class o{#t;constructor(n,m){this.dialogData=n,this.dialog=m,this.#t=(0,u.d)(d.N),this.featureDetails=this.#t.getFeatureDetail(this.dialogData),this.clipboard=(0,u.d)(v.W)}static{this.\u0275fac=function(m){return new(m||o)(t.rXU(p.Vh),t.rXU(p.CP))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-feature-info-dialog"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"specs"]],template:function(m,a){if(1&m&&t.DNE(0,D,1,3,"app-feature-details-dialog",0),2&m){let F;t.vxM((F=a.featureDetails())?0:-1,F)}},dependencies:[h.O],encapsulation:2})}}return o})();var P=e(4824);let g=(()=>{class o{#t;#e;#n;#a;constructor(){this.featureNameId=t.hFB.required(),this.showIf=(0,t.hFB)(!1),this.#t=(0,t.WQX)(p.bZ),this.#e=(0,t.WQX)(t.c1b),this.#n=(0,t.WQX)(t.gRc),this.#a=(0,t.WQX)(P.t),this.feature=(0,l.bo)("feature",()=>this.#a.getCurrent(this.featureNameId())),this.show=(0,l.bo)("show",()=>{const n=this.feature();return null!=n&&this.showIf()==(n?.isEnabled??!1)})}openDialog(){C(this.#t,this.featureNameId(),this.#e,this.#n)}static{this.\u0275fac=function(m){return new(m||o)}}static{this.\u0275dir=t.FsC({type:o,inputs:{featureNameId:[1,"featureNameId"],showIf:[1,"showIf"]}})}}return o})();function C(o,A,n,m){o.open(f,{autoFocus:!1,data:A,viewContainerRef:n,width:"400px"}),m?.markForCheck()}},9914:(y,_,e)=>{e.d(_,{$:()=>l});var t=e(9148),p=e(436);let l=(()=>{class u{constructor(v){this.sanitizer=v}transform(v){return this.sanitizer.bypassSecurityTrustHtml(v)}static{this.\u0275fac=function(d){return new(d||u)(t.rXU(p.up,16))}}static{this.\u0275pipe=t.EJ8({name:"safeHtml",type:u,pure:!0,standalone:!0})}}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.03.00/dist/ng-edit/projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts.787156497daf7939.js.map
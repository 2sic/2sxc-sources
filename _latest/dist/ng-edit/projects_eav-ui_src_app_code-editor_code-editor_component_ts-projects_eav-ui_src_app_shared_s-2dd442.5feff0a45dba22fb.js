"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_code-editor_code-editor_component_ts-projects_eav-ui_src_app_shared_s-2dd442"],{2934:(Z,M,r)=>{r.r(M),r.d(M,{CodeEditorComponent:()=>ne});var t=r(7580),E=r(436),O=r(1873),x=r(1870),b=r(6647),w=r(9452),k=r(8537),G=r(6068),S=r(8801),it=r(3176),d=r(8172),m=r(8873),h=r(3347),F=r(4175);function N(o,l){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&o){const e=t.XpG();t.R7$(),t.Lme('"',e.snackBarData.fileName,'" also has a code-behind file "',e.snackBarData.codeFile,'".')}}function X(o,l){if(1&o&&t.EFF(0),2&o){const e=t.XpG(2);t.SpI(' You are editing "',e.snackBarData.edition,'" edition. ')}}function B(o,l){1&o&&t.EFF(0," You may be editing an edition which is not the one you see. ")}function ot(o,l){if(1&o&&(t.j41(0,"div"),t.DNE(1,X,1,1),t.EFF(2),t.DNE(3,B,1,0),t.EFF(4," See "),t.j41(5,"a",3),t.EFF(6,"docs"),t.k0s(),t.EFF(7,". "),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.vxM(1,e.snackBarData.edition?1:-1),t.R7$(),t.Lme(" There are ",e.snackBarData.otherEditions,' other editions of "',e.snackBarData.fileName,'". '),t.R7$(),t.vxM(3,e.snackBarData.edition?-1:3)}}function st(o,l){if(1&o){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openCodeBehind())}),t.EFF(1," Open code-behind file "),t.k0s()}}let at=(()=>{class o{constructor(e,i){this.snackRef=e,this.snackBarData=i}openCodeBehind(){this.snackBarData.openCodeBehind=!0,this.snackRef.dismissWithAction()}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(h.TQ),t.rXU(h.ht))};static#n=this.\u0275cmp=t.VBU({type:o,selectors:[["app-code-and-edition-warnings"]],standalone:!0,features:[t.aNF],decls:5,vars:3,consts:[[1,"messages"],[1,"actions"],["mat-button","","color","primary"],["href","https://go.2sxc.org/polymorphism","target","_blank"],["mat-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(t.j41(0,"div",0),t.DNE(1,N,3,2)(2,ot,8,4,"div"),t.k0s(),t.j41(3,"div",1),t.DNE(4,st,2,0,"button",2),t.k0s()),2&i&&(t.R7$(),t.vxM(1,n.snackBarData.codeFile?1:-1),t.R7$(),t.vxM(2,n.snackBarData.otherEditions?2:-1),t.R7$(2),t.vxM(4,n.snackBarData.codeFile?4:-1))},dependencies:[F.Hl,F.$z],styles:[".messages[_ngcontent-%COMP%]{font-size:14px}.messages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}"]})}return o})();const J={Templates:"Templates",Snippets:"Snippets"};var rt=r(9686),K=r(271),pt=r(1726),lt=r(5959),ct=r(6474),U=r(852);let _t=(()=>{class o extends ct.D{constructor(e){super(),this.translate=e}getTooltips(e){return this.http.get(this.apiUrl("admin/Code/InlineHelp"),{params:{language:e}})}getSnippets(e){return this.http.get("../ng-assets/snippets.json.js").pipe((0,K.T)(i=>{const n=this.filterAwayNotNeededSnippetsList(i.snippets,e),s=this.extractInputTypeSnippets(n),a=this.initSnippetsWithConfig(s.standardArray,e,s.inputTypeSnippets);return{list:s.standardArray,sets:a}}))}filterAwayNotNeededSnippetsList(e,i){const n=["@","["],s=p=>p.Type.indexOf("Razor")>-1?0:1,a=[];for(const p of e){const c=n.indexOf(p.set[0]);(-1===c||c===s(i))&&(c===s(i)&&(p.set=p.set.substring(1)),a.push(p))}return a}extractInputTypeSnippets(e){const i=[],n=[];for(const p of e)"\\"===p.set[0]?(p.set=p.set.substring(1),n.push(p)):i.push(p);return{standardArray:i,inputTypeSnippets:this.catalogInputTypeSnippets(n)}}catalogInputTypeSnippets(e){const i={};for(const n of e)void 0===i[n.subset]&&(i[n.subset]=[]),i[n.subset].push(n);return i}initSnippetsWithConfig(e,i,n){const s=this.makeTree(e);return s.Content=Object.assign({},s.Content,{Fields:{},PresentationFields:{}}),i.TypeContent&&this.loadContentType(s.Content.Fields,i.TypeContent,"Content",i,n),i.TypeContentPresentation&&this.loadContentType(s.Content.PresentationFields,i.TypeContentPresentation,"Content.Presentation",i,n),i.HasList?(s.List=Object.assign({},s.List,{Fields:{},PresentationFields:{}}),i.TypeList&&this.loadContentType(s.List.Fields,i.TypeList,"Header",i,n),i.TypeListPresentation&&this.loadContentType(s.List.PresentationFields,i.TypeListPresentation,"Header.Presentation",i,n)):delete s.List,i.HasApp&&(s.App.Resources={},s.App.Settings={},this.loadContentType(s.App.Resources,"App-Resources","App.Resources",i,n),this.loadContentType(s.App.Settings,"App-Settings","App.Settings",i,n)),s}makeTree(e){const i={};for(const n of e){void 0===i[n.set]&&(i[n.set]={}),void 0===i[n.set][n.subset]&&(i[n.set][n.subset]=[]);const s={key:n.name,label:this.label(n.set,n.subset,n.name),snip:n.content,help:n.help||this.help(n.set,n.subset,n.name),links:this.linksList(n.links)};i[n.set][n.subset].push(s)}return i}label(e,i,n){const s=this.getHelpKey(e,i,n,".Key");let a=this.translate.instant(s);return a===s&&(a=n),a}getHelpKey(e,i,n,s){return"SourceEditorSnippets."+e+"."+i+"."+n+s}help(e,i,n){const s=this.getHelpKey(e,i,n,".Help");let a=this.translate.instant(s);return a===s&&(a=""),a}linksList(e){if(!e)return null;const i=[],n=e.split("\n");for(const s of n){const a=s.split(":");if(3===a.length){const p={name:a[0].trim(),url:a[1].trim()+":"+a[2].trim()};i.push(p)}}return 0===i.length?null:i}loadContentType(e,i,n,s,a){this.getFields(s.AppId,i).subscribe(p=>{for(const c of p){const u=c.StaticName;e[u]={key:u,label:u,snip:this.valuePlaceholder(n,u,s),help:c.Metadata.merged.Notes||" ("+c.Type.toLowerCase()+") "};const _=(0,rt.A)(e[u]);this.attachSnippets(e,n,u,c.InputType,_,a)}if(p.length){const c=["EntityId","EntityTitle","EntityGuid","EntityType","IsPublished","Modified"];for(let u=0;u<c.length;u++)e[c[u]]={key:c[u],label:c[u],snip:this.valuePlaceholder(n,c[u],s),help:this.translate.instant("SourceEditorSnippets.StandardFields."+c[u]+".Help")}}})}valuePlaceholder(e,i,n){return n.Type.indexOf("Razor")>-1?"@"+e+"."+i:"["+e.replace(".",":")+":"+i+"]"}getFields(e,i){return this.http.get(this.apiUrl(lt.zZ),{params:{appid:e.toString(),staticName:i}}).pipe((0,K.T)(n=>{n=n.filter(s=>s.Type!==pt.O.Empty);for(const s of n){if(!s.Metadata)continue;const a=s.Metadata;a.merged={...a.All,...a[s.Type],...a[s.InputType]}}return n}))}attachSnippets(e,i,n,s,a,p){let c=p[s];if(s.indexOf("-")){const _=s.substring(0,s.indexOf("-"));if(_){const v=p[_];v&&(c=c?c.concat(v):v)}}if(!c)return;void 0===e[n].more&&(e[n].more={});const u=e[n].more;for(let _=0;_<c.length;_++)try{u[n+"-"+c[_].name]=Object.assign({},a,{key:n+" - "+c[_].name,label:c[_].name,snip:this.localizeGenericSnippet(c[_].content,i,n),collapse:!0})}finally{}}localizeGenericSnippet(e,i,n){return e.replace(/(\$\{[0-9]+\:)var(\})/gi,"$1"+i+"$2").replace(/(\$\{[0-9]+\:)prop(\})/gi,"$1"+n+"$2")}static#t=this.\u0275fac=function(i){return new(i||o)(t.KVO(U.c$))};static#n=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();var ht=r(9996),Q=r(1134);let ut=(()=>{class o{transform(e){if(null!=e)return Array.isArray(e)?e:Object.values(e)}static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275pipe=t.EJ8({name:"objectToArray",type:o,pure:!0,standalone:!0})}return o})();var D=r(316),q=r(5060),P=r(3840),L=r(9333),j=r(4981),z=r(7896),mt=r(9914);function gt(o,l){if(1&o){const e=t.RV6();t.j41(0,"mat-icon",9),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG(5);return t.Njj(s.toggleMore(n.key))}),t.EFF(1),t.k0s()}if(2&o){const e=t.XpG().$implicit,i=t.XpG(5);t.R7$(),t.SpI(" ",i.toggledMores.includes(e.key)?"more_vert":"more_horiz"," ")}}function ft(o,l){if(1&o&&(t.j41(0,"div")(1,"a",11),t.EFF(2),t.k0s()()),2&o){const e=l.$implicit;t.R7$(),t.Y8G("href",e.url,t.B4B),t.R7$(),t.JRh(e.name)}}function Ct(o,l){if(1&o&&(t.j41(0,"div",8),t.nrm(1,"div",10),t.nI1(2,"safeHtml"),t.Z7z(3,ft,3,2,"div",null,t.fX1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,e.help),t.npT),t.R7$(2),t.Dyx(e.links)}}function vt(o,l){if(1&o&&(t.j41(0,"div")(1,"a",11),t.EFF(2),t.k0s()()),2&o){const e=l.$implicit;t.R7$(),t.Y8G("href",e.url,t.B4B),t.R7$(),t.JRh(e.name)}}function yt(o,l){if(1&o&&(t.j41(0,"div",13),t.nrm(1,"div",10),t.nI1(2,"safeHtml"),t.Z7z(3,vt,3,2,"div",null,t.fX1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,e.help),t.npT),t.R7$(2),t.Dyx(e.links)}}function bt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"div",4)(2,"div",12),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(7);return t.Njj(s.addSnippet(n.snip))}),t.EFF(3),t.k0s(),t.j41(4,"mat-icon",7),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(7);return t.Njj(s.toggleInfo(n.key))}),t.EFF(5,"info"),t.k0s()(),t.DNE(6,yt,5,3,"div",13),t.k0s()}if(2&o){const e=l.$implicit,i=t.XpG(7);t.R7$(2),t.Y8G("tippy",e.snip),t.R7$(),t.SpI(" ",e.label," "),t.R7$(3),t.vxM(6,i.toggledInfos.includes(e.key)?6:-1)}}function Ft(o,l){if(1&o&&(t.Z7z(0,bt,7,3,"div",null,t.fX1),t.nI1(2,"objectToArray")),2&o){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.more))}}function Tt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(5);return t.Njj(s.addSnippet(n.snip))}),t.EFF(3),t.k0s(),t.DNE(4,gt,2,1,"mat-icon",6),t.j41(5,"mat-icon",7),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(5);return t.Njj(s.toggleInfo(n.key))}),t.EFF(6,"info"),t.k0s()(),t.DNE(7,Ct,5,3,"div",8)(8,Ft,3,2),t.k0s()}if(2&o){const e=l.$implicit,i=t.XpG(5);t.R7$(2),t.Y8G("tippy",e.snip),t.R7$(),t.SpI(" ",e.label," "),t.R7$(),t.vxM(4,e.more?4:-1),t.R7$(3),t.vxM(7,i.toggledInfos.includes(e.key)?7:-1),t.R7$(),t.vxM(8,i.toggledMores.includes(e.key)?8:-1)}}function xt(o,l){if(1&o&&(t.Z7z(0,Tt,9,5,"div",3,t.fX1),t.nI1(2,"objectToArray")),2&o){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.value))}}function St(o,l){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"div",2),t.nI1(2,"translate"),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.toggleFolder(n.key))}),t.j41(3,"mat-icon"),t.EFF(4),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,xt,3,2),t.k0s()}if(2&o){const e=l.$implicit,i=t.XpG(2).$implicit,n=t.XpG();t.R7$(),t.Y8G("tippy",t.bMT(2,4,"SourceEditorSnippets."+i.key+"."+e.key+".Help")),t.R7$(3),t.SpI(" ",n.toggledFolders.includes(e.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(t.bMT(7,6,"SourceEditorSnippets."+i.key+"."+e.key+".Title")),t.R7$(2),t.vxM(8,n.toggledFolders.includes(e.key)?8:-1)}}function It(o,l){if(1&o&&(t.Z7z(0,St,9,8,"div",null,t.fX1),t.nI1(2,"keyvalue")),2&o){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.value))}}function kt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"div",1),t.nI1(2,"translate"),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.toggleSection(n.key))}),t.j41(3,"mat-icon"),t.EFF(4),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,It,3,2),t.k0s()}if(2&o){const e=l.$implicit,i=t.XpG();t.R7$(),t.Y8G("tippy",t.bMT(2,4,"SourceEditorSnippets."+e.key+".Help")),t.R7$(3),t.SpI(" ",i.toggledSections.includes(e.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(t.bMT(7,6,"SourceEditorSnippets."+e.key+".Title")),t.R7$(2),t.vxM(8,i.toggledSections.includes(e.key)?8:-1)}}let Mt=(()=>{class o{constructor(){this.insertSnippet=new t.bkB,this.toggledSections=[],this.toggledFolders=[],this.toggledInfos=[],this.toggledMores=[]}addSnippet(e){this.insertSnippet.emit(e)}toggleSection(e){j.f.toggleInArray(e,this.toggledSections)}toggleFolder(e){j.f.toggleInArray(e,this.toggledFolders)}toggleInfo(e){j.f.toggleInArray(e,this.toggledInfos)}toggleMore(e){j.f.toggleInArray(e,this.toggledMores)}static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=t.VBU({type:o,selectors:[["app-code-snippets"]],inputs:{snippets:"snippets"},outputs:{insertSnippet:"insertSnippet"},standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark"],["tippyShowDelay","750",1,"collapsible-header","section",3,"click","tippy"],["tippyShowDelay","750",1,"collapsible-header","folder",3,"click","tippy"],[1,"snippet"],[1,"snippet-label"],["matRipple","","tippyShowDelay","750",1,"text",3,"click","tippy"],["tippy","Show More","tippyShowDelay","750"],["tippy","Show Help","tippyShowDelay","750","appClickStopPropagation","",3,"click"],[1,"snippet-help"],["tippy","Show More","tippyShowDelay","750",3,"click"],[1,"text",3,"innerHTML"],["target","_blank",3,"href"],["matRipple","","tippyShowDelay","750",1,"text","text-more",3,"click","tippy"],[1,"snippet-help","snippet-help-more"]],template:function(i,n){1&i&&(t.j41(0,"div",0),t.Z7z(1,kt,9,8,"div",null,t.fX1),t.nI1(3,"keyvalue"),t.k0s()),2&i&&(t.R7$(),t.Dyx(t.bMT(3,0,n.snippets)))},dependencies:[P.m_,P.An,q.pZ,q.r6,D.lG,U.h,U.D9,ut,L.c,z.e,mt.$],styles:[".collapsible-header[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;overflow:hidden;white-space:nowrap;-webkit-user-select:none;user-select:none;padding:3px 0}.collapsible-header.section[_ngcontent-%COMP%]{background-color:#383838;font-weight:500}.collapsible-header.folder[_ngcontent-%COMP%]{padding-left:8px}.collapsible-header.folder[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.collapsible-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.snippet[_ngcontent-%COMP%]{padding-right:8px}.snippet[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.snippet-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.snippet-label[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{cursor:pointer;padding:3px 0 3px 32px;flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.snippet-label[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-label[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:18px;height:18px;font-size:18px}.snippet-help[_ngcontent-%COMP%]{padding:3px 18px 3px 32px}.snippet-help-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;font-style:oblique;word-break:break-word}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]     p{margin:0}"]})}return o})();function tt(o){if(!o)return[];const l=[];for(const e of o){let i=l;const n=e.Path.split("/"),s=n[n.length-1];let a="";for(let p=0;p<n.length;p++){const c=n[p];a+=p?`/${c}`:c;const u=i.find(_=>_.name===c);if(u)i=u.children;else{const _={depth:p,name:c,pathFromRoot:a,isShared:e.Shared,isFolder:c!==s,...c!==s&&{children:[]}};i.push(_),i=_.children}}}return l}let Ot=(()=>{class o{transform(e){return null==e||e.sort((i,n)=>i.isFolder<n.isFolder?1:i.isFolder>n.isFolder?-1:0),e}static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275pipe=t.EJ8({name:"sortItems",type:o,pure:!0,standalone:!0})}return o})(),Pt=(()=>{class o{constructor(e){this.sanitizer=e}transform(e,i){let n;return n=i?8*e:0===e?8:8*e+16,this.sanitizer.bypassSecurityTrustStyle(`padding-left: ${n}px;`)}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(E.up,16))};static#n=this.\u0275pipe=t.EJ8({name:"depthPadding",type:o,pure:!0,standalone:!0})}return o})();var V=r(1034);const et=o=>({item:o}),wt=o=>({active:o}),jt=o=>({"app-shared-root":o});function Rt(o,l){1&o&&t.eu8(0)}function $t(o,l){if(1&o&&t.DNE(0,Rt,1,0,"ng-container",6),2&o){const e=l.$implicit;t.XpG();const i=t.sdS(6);t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(2,et,e))}}function Dt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div",8),t.nI1(1,"depthPadding"),t.bIt("click",function(){t.eBV(e);const n=t.XpG().item,s=t.XpG();return t.Njj(s.openTemplate(n.pathFromRoot,n.isShared))}),t.EFF(2),t.k0s()}if(2&o){const e=t.XpG().item,i=t.XpG();t.Aen(t.i5U(1,5,e.depth,e.isFolder)),t.Y8G("ngClass",t.eq3(8,wt,i.isToggled(e.pathFromRoot,e.isShared)))("tippy",e.name),t.R7$(2),t.SpI(" ",e.name," ")}}function Vt(o,l){1&o&&t.eu8(0)}function At(o,l){if(1&o&&t.DNE(0,Vt,1,0,"ng-container",6),2&o){const e=l.$implicit;t.XpG(4);const i=t.sdS(6);t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(2,et,e))}}function Gt(o,l){if(1&o&&(t.Z7z(0,At,1,4,"ng-container",null,t.fX1),t.nI1(2,"sortItems")),2&o){const e=t.XpG(2).item;t.Dyx(t.bMT(2,0,e.children))}}function Nt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"div",9),t.nI1(2,"depthPadding"),t.bIt("click",function(){t.eBV(e);const n=t.XpG().item,s=t.XpG();return t.Njj(s.toggleItem(n.pathFromRoot,n.isShared))}),t.j41(3,"div",10)(4,"mat-icon"),t.EFF(5),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",11),t.bIt("click",function(){t.eBV(e);const n=t.XpG().item,s=t.XpG();return t.Njj(s.addFile(n.pathFromRoot,n.isShared))}),t.j41(9,"mat-icon"),t.EFF(10,"add"),t.k0s()()(),t.DNE(11,Gt,3,2),t.k0s()}if(2&o){const e=t.XpG().item,i=t.XpG();t.R7$(),t.Aen(t.i5U(2,7,e.depth+1,e.isFolder)),t.Y8G("ngClass",t.eq3(10,jt,e.depth<0)),t.R7$(2),t.Y8G("tippy",e.name),t.R7$(2),t.SpI(" ",i.isToggled(e.pathFromRoot,e.isShared)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(e.name),t.R7$(4),t.vxM(11,i.isToggled(e.pathFromRoot,e.isShared)?11:-1)}}function Xt(o,l){if(1&o&&t.DNE(0,Dt,3,10,"div",7)(1,Nt,12,12,"div"),2&o){const e=l.item;t.vxM(0,e.isFolder?-1:0),t.R7$(),t.vxM(1,e.isFolder?1:-1)}}let Bt=(()=>{class o{constructor(){this.openView=new t.bkB,this.createTemplate=new t.bkB,this.toggledItemsApp=[],this.toggledItemsShared=[]}ngOnChanges(e){if(null!=e.templates&&(this.tree=function Et(o){return[{depth:-1,name:"App Files",pathFromRoot:"",isShared:!1,isFolder:!0,children:tt(o.filter(e=>!e.Shared))},{depth:-1,name:"Shared App Files",pathFromRoot:"",isShared:!0,isFolder:!0,children:tt(o.filter(e=>e.Shared))}]}(this.templates)),null!=e.view){const i=e.view?.previousValue;i&&this.toggleItem(i.FileName,i.IsShared),this.view&&this.showFileInTree(this.view.FileName,this.view.IsShared)}}isToggled(e,i){return(i?this.toggledItemsShared:this.toggledItemsApp).includes(e)}openTemplate(e,i){this.openView.emit({key:e,shared:i})}toggleItem(e,i){j.f.toggleInArray(e,i?this.toggledItemsShared:this.toggledItemsApp)}addFile(e,i){this.createTemplate.emit({folder:e,isShared:i})}showFileInTree(e,i){if(null==e)return;const n=i?this.toggledItemsShared:this.toggledItemsApp;if(n.includes(e))return;const s=["",...e.split("/")];let a="";for(const p of s)a=a?`${a}/${p}`:p,!n.includes(a)&&this.toggleItem(a,i)}static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=t.VBU({type:o,selectors:[["app-code-templates"]],inputs:{view:"view",templates:"templates"},outputs:{openView:"openView",createTemplate:"createTemplate"},standalone:!0,features:[t.OA$,t.aNF],decls:19,vars:3,consts:[["fileOrFolder",""],["menu","matMenu"],[1,"editor-active-explorer","fancy-scrollbar-dark","explorer-wrapper"],[1,"create-button-wrapper"],["mat-icon-button","","tippy","Create file","tippyPlacement","left",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tippyShowDelay","750",1,"file",3,"style","ngClass","tippy"],["tippyShowDelay","750",1,"file",3,"click","ngClass","tippy"],[1,"folder-name-wrapper",3,"click","ngClass"],["tippyShowDelay","750",1,"folder-name",3,"tippy"],["tippy","Create file in this folder","tippyShowDelay","750","appClickStopPropagation","",1,"add-item",3,"click"]],template:function(i,n){if(1&i){const s=t.RV6();t.j41(0,"div",2)(1,"div"),t.Z7z(2,$t,1,4,"ng-container",null,t.fX1),t.nI1(4,"sortItems"),t.DNE(5,Xt,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.j41(7,"div",3)(8,"button",4)(9,"mat-icon"),t.EFF(10,"add"),t.k0s()(),t.j41(11,"mat-menu",null,1)(13,"button",5),t.bIt("click",function(){return t.eBV(s),t.Njj(n.addFile("",!1))}),t.j41(14,"span"),t.EFF(15,"App"),t.k0s()(),t.j41(16,"button",5),t.bIt("click",function(){return t.eBV(s),t.Njj(n.addFile("",!0))}),t.j41(17,"span"),t.EFF(18,"Shared (global)"),t.k0s()()()()()}if(2&i){const s=t.sdS(12);t.R7$(2),t.Dyx(t.bMT(4,1,n.tree)),t.R7$(6),t.Y8G("matMenuTriggerFor",s)}},dependencies:[D.T3,D.YU,P.m_,P.An,F.Hl,F.iY,V.Cn,V.kk,V.fb,V.Cp,Pt,Ot,L.c,z.e],styles:[".explorer-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.create-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.file[_ngcontent-%COMP%]{cursor:pointer;padding:4px 0 4px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.file[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.file.active[_ngcontent-%COMP%]{background-color:#37373d}.folder-name-wrapper[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center}.folder-name-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.folder-name-wrapper[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;white-space:nowrap;padding:3px 0;flex:1 1 auto}.folder-name-wrapper[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{margin-right:4px;display:none;align-items:center;justify-content:center;padding:3px}.folder-name-wrapper.app-shared-root[_ngcontent-%COMP%]{color:#fff;font-weight:500}.folder-name-wrapper[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.folder-name-wrapper[_ngcontent-%COMP%]:hover   .add-item[_ngcontent-%COMP%]{display:flex}"]})}return o})();var y=r(3826),Ut=r(5699),H=r(5437),Lt=r(2760),zt=r(2159),Yt=r(7941);const Ht=o=>({"sxc-dark":o}),nt=o=>({active:o}),Wt=(o,l,e)=>({active:o,modified:l,loading:e});function Zt(o,l){1&o&&(t.j41(0,"mat-icon",13),t.EFF(1,"share"),t.k0s())}function Jt(o,l){1&o&&(t.j41(0,"mat-icon",16),t.EFF(1,"circle"),t.k0s())}function Kt(o,l){1&o&&t.nrm(0,"mat-spinner",17)}function Qt(o,l){if(1&o){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.openView(n.viewKey))}),t.j41(1,"div",12),t.DNE(2,Zt,2,0,"mat-icon",13),t.j41(3,"span",14),t.EFF(4),t.k0s()(),t.j41(5,"div",15),t.DNE(6,Jt,2,0,"mat-icon",16)(7,Kt,1,0,"mat-spinner",17),t.j41(8,"mat-icon",18),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.closeEditor(n.viewKey))}),t.EFF(9,"close"),t.k0s()()()}if(2&o){const e=l.$implicit;t.Y8G("ngClass",t.sMw(6,Wt,e.isActive,e.isModified,e.isLoading)),t.R7$(),t.Y8G("tippy",e.label),t.R7$(),t.vxM(2,e.viewKey.shared?2:-1),t.R7$(2),t.JRh(e.label),t.R7$(2),t.vxM(6,e.isModified?6:-1),t.R7$(),t.vxM(7,e.isLoading?7:-1)}}function qt(o,l){if(1&o&&(t.j41(0,"div",7),t.Z7z(1,Qt,10,10,"div",10,t.fX1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Dyx(e.tabs())}}function te(o,l){if(1&o){const e=t.RV6();t.j41(0,"app-monaco-editor",19),t.bIt("valueChanged",function(n){let s;t.eBV(e);const a=t.XpG();return t.Njj(a.codeChanged(n,null==(s=a.active())?null:s.viewKey))}),t.k0s()}if(2&o){let e,i,n,s;const a=t.XpG();t.Y8G("filename",null==(e=a.active())?null:e.view.FileName)("value",null==(i=a.active())?null:i.view.Code)("options",a.monacoOptions)("snippets",null==(n=a.active())?null:n.editorSnipps)("tooltips",null==(s=a.active())?null:s.tooltips)("autoFocus",!0)}}function ee(o,l){if(1&o){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.save())}),t.j41(1,"mat-icon"),t.EFF(2,"done"),t.k0s()()}}let ne=(()=>{class o extends it.${#t;#n;#s;#i;#e;#o;constructor(e,i,n,s,a,p){super(),this.context=e,this.route=i,this.snackBar=n,this.zone=s,this.dialog=a,this.viewContainerRef=p,this.Explorers=J,this.activeExplorer=J.Templates,this.monacoOptions={theme:"2sxc-dark",tabSize:2,fixedOverflowWidgets:!0},this.#t=(0,H.d)(ht.F),this.#n=(0,H.d)(_t),this.#s=(0,H.d)(E.hE),this.templates=(0,t.vPA)([]),this.activeView=(0,t.vPA)(void 0),this.#i=(0,t.vPA)([]),this.#e=(0,t.vPA)([]),this.active=(0,t.EWP)(()=>{const _=this.activeView();return this.#e().find(v=>y.a.objectsEqual(v.viewKey,_))}),this.tabs=(0,t.EWP)(()=>{const _=this.#i(),v=this.activeView(),T=this.#e();return _.map(C=>{const g=T.find(f=>y.a.objectsEqual(f.viewKey,C));return{viewKey:C,label:g?.view?.FileName??C.key,isActive:y.a.objectsEqual(C,v),isModified:g?.view?.Code!==g?.savedCode,isLoading:null==g?.view}})}),this.context.init(this.route);const c=JSON.parse(sessionStorage.getItem(d.Ul)),u="true"===sessionStorage.getItem(d.P3);c.forEach(_=>{_.Path.startsWith("/")&&(_.Path=_.Path.substring(1)),_.IsShared??=u}),this.#o=c,(0,t.QZP)(()=>{const _=this.templates(),v=this.#i();if(0===_.length)return;let T=this.#e();const C=v.filter(g=>!T.some(f=>y.a.objectsEqual(f.viewKey,g)));0!==C.length&&((0,O.p)(C.map(g=>{const f={viewKey:g};T=[...T,f];const I=this.#t.get(g.key,g.shared,this.#o).pipe((0,x.u)()),R=I.pipe((0,b.n)($=>this.#n.getSnippets($))),A=I.pipe((0,b.n)($=>this.#n.getTooltips($.Extension.substring(1))));return(0,O.p)([(0,w.of)(g),I,R,A])})).subscribe(g=>{let f=this.#e();g.forEach(([I,R,A,$])=>{const W=f.findIndex(oe=>y.a.objectsEqual(oe.viewKey,I));if(W<0)return;const ie={viewKey:I,view:R,explorerSnipps:A.sets,editorSnipps:A.list,tooltips:$,savedCode:R.Code};f=[...f.slice(0,W),ie,...f.slice(W+1)],this.#a(I,R,_)}),this.#e.set(f)}),this.#e.set(T))},{allowSignalWrites:!0}),(0,t.QZP)(()=>{const _=this.activeView(),v=this.#e();if(!v)return;const T=v.find(I=>y.a.objectsEqual(I.viewKey,_)),C="Code Editor",g=null==T?C:`${T.view?.FileName} - ${C}`;g!==this.#s.getTitle()&&(console.log("newTitle",g),this.#s.setTitle(g))})}ngOnInit(){const e=this.#o.map(i=>({key:i.EntityId?.toString()??i.Path,shared:i.IsShared}));this.activeView.set(e[0]),this.#i.set(e),this.#r(),this.#t.getAll().subscribe(i=>{this.templates.set(i)})}ngOnDestroy(){super.ngOnDestroy()}toggleExplorer(e){this.activeExplorer=this.activeExplorer!==e?e:null}createTemplate(e){const i={folder:e.folder,global:e.isShared,purpose:"api"===e.folder||e.folder?.startsWith("api/")?"Api":void 0};this.dialog.open(G.g,{autoFocus:!1,data:i,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(s=>{s&&this.#t.create(s.name,e.isShared,s.templateKey).subscribe(()=>{this.#t.getAll().subscribe(a=>{this.templates.set(a)})})})}insertSnippet(e){this.monacoEditorRef?.insertSnippet(e)}codeChanged(e,i){let n=this.#e();const s=n.findIndex(c=>y.a.objectsEqual(c.viewKey,i)),a=n[s],p={...a,view:{...a.view,Code:e}};n=[...n.slice(0,s),p,...n.slice(s+1)],this.#e.set(n)}openView(e){e=this.#e().find(s=>!y.a.objectsEqual(s.viewKey,e)&&s.view?.FileName===e.key&&s.view?.IsShared===e.shared)?.viewKey??e;const i=this.activeView();y.a.objectsEqual(i,e)||this.activeView.set(e);const n=this.#i();if(!n.some(s=>y.a.objectsEqual(s,e))){const s=[...n,e];this.#i.set(s)}}closeEditor(e){const i=this.#i(),n=i.filter(a=>!y.a.objectsEqual(a,e)),s=this.activeView();if(y.a.objectsEqual(s,e)){const a=i[i.findIndex(p=>y.a.objectsEqual(p,s))-1]??n[0];this.activeView.set(a)}this.#i.set(n)}save(e){e??=this.activeView();const i=this.#e().find(s=>y.a.objectsEqual(s.viewKey,e));if(null==i?.view)return;this.snackBar.open("Saving...");const n=i.view.Code;this.#t.save(e.key,e.shared,i.view,this.#o).subscribe({next:s=>{if(!s)return void this.snackBar.open("Failed",null,{duration:2e3});let a=[...this.#e()];const p=a.findIndex(_=>y.a.objectsEqual(_.viewKey,e));if(p<0)return;const u={...a[p],savedCode:n};a=[...a.slice(0,p),u,...a.slice(p+1)],this.#e.set(a),this.snackBar.open("Saved",null,{duration:2e3})},error:()=>this.snackBar.open("Failed",null,{duration:2e3})})}#a(e,i,n){const s=i.FileName,a=s.indexOf("/")>-1?s.lastIndexOf("/")+1:0,p=0===a?"":s.substring(0,a),c=s.substring(a),_=c.substring(0,c.length-i.Extension.length)+".code"+i.Extension,v=n.find(C=>C.Path===p+_&&C.Shared===i.IsShared),T=n.filter(C=>C.Path.endsWith(c)&&C.Shared===i.IsShared).length-1;if(v||T){const C={fileName:c,codeFile:v?.Path,edition:this.#o.find(f=>f.EntityId?.toString()===e.key&&f.IsShared===i.IsShared&&f.Path===i.FileName)?.Edition,otherEditions:T,openCodeBehind:!1},g=this.snackBar.openFromComponent(at,{data:C,duration:1e4});g.onAction().subscribe(()=>{g.containerInstance.snackBarConfig.data.openCodeBehind&&this.openView({key:v?.Path,shared:v?.Shared})})}}#r(){this.zone.runOutsideAngular(()=>{this.subscriptions.add((0,k.R)(window,"beforeunload").subscribe(e=>{this.#e().some(n=>null!=n.view&&n.view.Code!==n.savedCode)&&(e.preventDefault(),e.returnValue="")})),this.subscriptions.add((0,k.R)(window,"keydown").subscribe(e=>{(0,Lt.J)(e)&&(e.preventDefault(),this.zone.run(()=>this.save()))}))})}static#p=this.\u0275fac=function(i){return new(i||o)(t.rXU(m.o),t.rXU(zt.nX),t.rXU(h.UG),t.rXU(t.SKi),t.rXU(Yt.bZ),t.rXU(t.c1b))};static#l=this.\u0275cmp=t.VBU({type:o,selectors:[["app-code-editor"]],viewQuery:function(i,n){if(1&i&&t.GBs(S.K,5),2&i){let s;t.mGM(s=t.lsd())&&(n.monacoEditorRef=s.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:17,consts:[["appToggleDebug","",1,"editor-root",3,"ngClass"],[1,"editor-side-toolbar"],["tippy","Templates",1,"button",3,"click","ngClass"],["tippy","Snippets",1,"button",3,"click","ngClass"],[3,"openView","createTemplate","hidden","view","templates"],[3,"insertSnippet","hidden","snippets"],[1,"editor-group"],[1,"tabs-container","fancy-scrollbar-dark"],[3,"filename","value","options","snippets","tooltips","autoFocus"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S"],[1,"tab",3,"ngClass"],[1,"tab",3,"click","ngClass"],["tippyShowDelay","750",1,"tab-label-container",3,"tippy"],[1,"icon-shared"],[1,"tab-label"],[1,"tab-actions-container"],["fontSet","material-icons",1,"tab-action","icon-modified"],["mode","indeterminate","diameter","14","color","white",1,"spinner"],["tippy","Close","appClickStopPropagation","",1,"tab-action","icon-close",3,"click"],[3,"valueChanged","filename","value","options","snippets","tooltips","autoFocus"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.bIt("click",function(){return n.toggleExplorer(n.Explorers.Templates)}),t.j41(3,"mat-icon"),t.EFF(4,"file_copy"),t.k0s()(),t.j41(5,"div",3),t.bIt("click",function(){return n.toggleExplorer(n.Explorers.Snippets)}),t.j41(6,"mat-icon"),t.EFF(7,"code"),t.k0s()()(),t.j41(8,"app-code-templates",4),t.bIt("openView",function(a){return n.openView(a)})("createTemplate",function(a){return n.createTemplate(a)}),t.k0s(),t.j41(9,"app-code-snippets",5),t.bIt("insertSnippet",function(a){return n.insertSnippet(a)}),t.k0s(),t.j41(10,"div",6),t.DNE(11,qt,3,0,"div",7)(12,te,1,6,"app-monaco-editor",8),t.k0s(),t.DNE(13,ee,3,0,"button",9),t.k0s()),2&i){let s,a,p;t.Y8G("ngClass",t.eq3(11,Ht,"2sxc-dark"===n.monacoOptions.theme)),t.R7$(2),t.Y8G("ngClass",t.eq3(13,nt,n.activeExplorer===n.Explorers.Templates)),t.R7$(3),t.Y8G("ngClass",t.eq3(15,nt,n.activeExplorer===n.Explorers.Snippets)),t.R7$(3),t.Y8G("hidden",n.activeExplorer!==n.Explorers.Templates)("view",null==(s=n.active())?null:s.view)("templates",n.templates()),t.R7$(),t.Y8G("hidden",n.activeExplorer!==n.Explorers.Snippets)("snippets",null==(a=n.active())?null:a.explorerSnipps),t.R7$(2),t.vxM(11,n.tabs().length>0?11:-1),t.R7$(),t.vxM(12,null!=(p=n.active())&&p.view?12:-1),t.R7$(),t.vxM(13,n.activeView()?13:-1)}},dependencies:[D.YU,P.m_,P.An,Bt,Mt,Q.D6,Q.LG,S.K,F.Hl,F.Sr,L.c,z.e,Ut.V],styles:[".sxc-dark[_ngcontent-%COMP%]{background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{display:flex;height:35px;background-color:#252526;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]:hover{overflow-x:auto}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;align-items:center;cursor:pointer;color:#ccc;font-size:13px;padding-left:10px;border-right:1px solid rgb(37,37,38);background-color:#2d2d2d;-webkit-user-select:none;user-select:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]   .icon-shared[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px;margin-right:4px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]{height:100%;width:28px;display:flex;align-items:center;justify-content:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;width:16px;height:16px;padding:2px;font-size:16px;border-radius:5px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action.icon-modified[_ngcontent-%COMP%]{width:10px;height:10px;font-size:10px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]:hover{background-color:#5a5d5e4f}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover   .icon-close[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).modified   .icon-modified[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).loading   .spinner[_ngcontent-%COMP%]{display:block}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover):not(.modified):not(.loading).active   .icon-close[_ngcontent-%COMP%]{display:flex}.mat-mdc-fab[_ngcontent-%COMP%]{position:absolute;right:48px;bottom:32px;z-index:10}"]})}return o})()},5959:(Z,M,r)=>{r.d(M,{h6:()=>G,zZ:()=>w});var t=r(271),E=r(7693),O=r(6474),x=r(7580);const b="admin/field/",w="admin/field/all",k="admin/field/GetSharedFields";let G=(()=>{class S extends O.D{typeListRetrieve(){return this.http.get(this.apiUrl(b+"DataTypes"),{params:{appid:this.appId}})}getInputTypesList(){return this.http.get(this.apiUrl(b+"InputTypes"),{params:{appid:this.appId}}).pipe((0,t.T)(d=>d.map(h=>({dataType:h.Type.substring(0,h.Type.indexOf("-")),inputType:h.Type,label:h.Label,description:h.Description,isDefault:h.IsDefault,isObsolete:h.IsObsolete,isRecommended:h.IsRecommended,obsoleteMessage:h.ObsoleteMessage,icon:h.IsDefault?"star":h.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(b+"ReservedNames"))}getFields(d){return this.http.get(this.apiUrl(w),{params:{appid:this.appId,staticName:d}}).pipe((0,t.T)(m=>{if(m)for(const h of m){if(!h.Metadata)continue;const F=h.Metadata;F.merged={...F.All,...F[h.Type],...F[h.InputType]}}return m}))}getShareableFields(){return this.http.get(this.apiUrl(k),{params:{appid:this.appId}})}getShareableFieldsFor(d){return this.http.get(this.apiUrl(k),{params:{appid:this.appId,attributeId:d.toString()}})}addInheritedField(d,m,h,F){return this.http.post(this.apiUrl(b+"AddInheritedField"),null,{params:{AppId:this.appId,ContentTypeId:d.toString(),SourceType:m,SourceField:h,name:F}})}share(d,m=!0){return this.http.post(this.apiUrl(b+"Share"),null,{params:{appid:this.appId,attributeId:d.toString(),share:m}})}inherit(d,m){return this.http.post(this.apiUrl(b+"Inherit"),null,{params:{appid:this.appId,attributeId:d.toString(),inheritMetadataOf:m}})}reOrder(d,m){return this.http.post(this.apiUrl(b+"Sort"),null,{params:{appid:this.appId,contentTypeId:m.Id.toString(),order:JSON.stringify(d)}})}setTitle(d,m){return this.http.post(this.apiUrl(E.X+"SetTitle"),null,{params:{appid:this.appId,contentTypeId:m.Id.toString(),attributeId:d.Id.toString()}})}rename(d,m,h){return this.http.post(this.apiUrl(b+"Rename"),null,{params:{appid:this.appId,contentTypeId:m.toString(),attributeId:d.toString(),newName:h}})}delete(d,m){if(d.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(b+"Delete"),{params:{appid:this.appId,contentTypeId:m.Id.toString(),attributeId:d.Id.toString()}})}add(d,m){return this.http.post(this.apiUrl(b+"Add"),null,{params:{AppId:this.appId,ContentTypeId:m.toString(),Id:d.Id.toString(),Type:d.Type,InputType:d.InputType,StaticName:d.StaticName,IsTitle:d.IsTitle.toString(),Index:d.SortOrder.toString()}})}updateInputType(d,m,h){return this.http.post(this.apiUrl(b+"InputType"),null,{params:{appId:this.appId,attributeId:d.toString(),field:m,inputType:h}})}static#t=this.\u0275fac=(()=>{let d;return function(h){return(d||(d=x.xGo(S)))(h||S)}})();static#n=this.\u0275prov=x.jDH({token:S,factory:S.\u0275fac})}return S})()},4979:(Z,M,r)=>{r.d(M,{V:()=>O});var t=r(7092),E=r(7580);let O=(()=>{class x{constructor(){this.subscriptions=new t.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(k){return new(k||x)};static#n=this.\u0275prov=E.jDH({token:x,factory:x.\u0275fac})}return x})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.01.00/dist/ng-edit/projects_eav-ui_src_app_code-editor_code-editor_component_ts-projects_eav-ui_src_app_shared_s-2dd442.5feff0a45dba22fb.js.map
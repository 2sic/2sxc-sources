"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_code-editor_code-editor_module_ts-projects_ng-dialogs_src_app_sha-ff0107"],{5005:function(K,j,l){l.d(j,{_:function(){return P},s:function(){return M}});var Z=l(5106),b=l(8069),v=l(8047),k=l(635),U=l(8598),F=l(7133),A=l(8784),R=l(2425),P="admin/type/",M=function(){var E=function(){function L(T,g,C){(0,b.Z)(this,L),this.http=T,this.context=g,this.dnnContext=C}return(0,v.Z)(L,[{key:"apiUrl",value:function(g){return this.dnnContext.$2sxc.http.apiUrl(g)}},{key:"retrieveContentType",value:function(g){return this.http.get(this.apiUrl(P+"get"),{params:{appId:this.context.appId.toString(),contentTypeId:g}})}},{key:"retrieveContentTypes",value:function(g){return this.http.get(this.apiUrl(P+"list"),{params:{appId:this.context.appId.toString(),scope:g}})}},{key:"getScopes",value:function(){return this.http.get(this.apiUrl(P+"scopes"),{params:{appId:this.context.appId.toString()}}).pipe((0,k.U)(function(g){return Object.keys(g).map(function(_){return{name:g[_],value:_}})}))}},{key:"save",value:function(g){return this.http.post(this.apiUrl(P+"save"),g,{params:{appid:this.context.appId.toString()}})}},{key:"delete",value:function(g){return this.http.delete(this.apiUrl(P+"delete"),{params:{appid:this.context.appId.toString(),staticName:g.StaticName}})}},{key:"import",value:function(g){var x,C=new FormData,_=(0,Z.Z)(g);try{for(_.s();!(x=_.n()).done;)C.append("File",x.value)}catch(D){_.e(D)}finally{_.f()}return this.http.post(this.apiUrl(P+"import"),C,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}},{key:"createGhost",value:function(g){return this.http.post(this.apiUrl(P+"addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:g}})}}]),L}();return E.\u0275fac=function(T){return new(T||E)(F.LFG(A.eN),F.LFG(U._),F.LFG(R._y))},E.\u0275prov=F.Yz7({token:E,factory:E.\u0275fac}),E}()},3279:function(K,j,l){l.r(j),l.d(j,{CodeEditorModule:function(){return lt},translateLoaderFactoryCode:function(){return pe}});var Z=l(8047),b=l(8069),v=l(6362),k=l(7317),U=l(1130),F=l(5758),A=l(5590),R=l(4742),P=l(2528),M=l(7514),E=l(4909),L=l(7200),T=l(8598),g=l(8450),C=l(8865),_=l(162),x=l(2977),y=l(6170),D=l(2090),V=l(7714),J=l(6317),B=l(6562),Y=l(1640),z=l(745),W=l(3280),ce=l(1203),le=l(9525),G=l(635),te=l(7472),de=l(8254),e=l(7133);function ue(n,p){if(1&n&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.BQk()),2&n){var i=e.oxw();e.xp6(2),e.AsE('"',i.snackBarData.fileName,'" also has a code-behind file "',i.snackBarData.codeFile,'".')}}function ve(n,p){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){var i=e.oxw(2);e.xp6(1),e.hij(' You are editing "',i.snackBarData.edition,'" edition. ')}}function _e(n,p){1&n&&(e.ynx(0),e._uU(1," You may be editing an edition which is not the one you see. "),e.BQk())}function ge(n,p){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ve,2,1,"ng-container",1),e._uU(2),e.YNc(3,_e,2,0,"ng-container",1),e._uU(4," See "),e.TgZ(5,"a",4),e._uU(6,"docs"),e.qZA(),e._uU(7,". "),e.qZA()),2&n){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.snackBarData.edition),e.xp6(1),e.AsE(" There are ",i.snackBarData.otherEditions,' other editions of "',i.snackBarData.fileName,'". '),e.xp6(1),e.Q6J("ngIf",!i.snackBarData.edition)}}function fe(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(i),e.oxw().openCodeBehind()}),e._uU(1," Open code-behind file "),e.qZA()}}var me=function(){var n=function(){function p(i,t){(0,b.Z)(this,p),this.snackRef=i,this.snackBarData=t}return(0,Z.Z)(p,[{key:"openCodeBehind",value:function(){this.snackBarData.openCodeBehind=!0,this.snackRef.dismissWithAction()}}]),p}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(P.OX),e.Y36(P.qD))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-code-and-edition-warnings"]],decls:5,vars:3,consts:[[1,"messages"],[4,"ngIf"],[1,"actions"],["mat-button","","color","primary",3,"click",4,"ngIf"],["href","http://r.2sxc.org/polymorphism","target","_blank"],["mat-button","","color","primary",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,ue,4,2,"ng-container",1),e.YNc(2,ge,8,4,"div",1),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,fe,2,0,"button",3),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",t.snackBarData.codeFile),e.xp6(1),e.Q6J("ngIf",t.snackBarData.otherEditions),e.xp6(2),e.Q6J("ngIf",t.snackBarData.codeFile))},directives:[v.O5,k.lW],styles:[".messages[_ngcontent-%COMP%]{font-size:14px}.messages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}"]}),n}(),ne={Templates:"Templates",Snippets:"Snippets"},$=l(5106),he=l(2215),Ce=l(9702),ye=l(4722),xe=l(8784),Te=l(2425),ie=function(){var n=function(){function p(i,t,o){(0,b.Z)(this,p),this.http=i,this.dnnContext=t,this.translate=o}return(0,Z.Z)(p,[{key:"getSnippets",value:function(t){var o=this;return this.http.get("../ng-assets/snippets.json.js").pipe((0,G.U)(function(r){var a=o.filterAwayNotNeededSnippetsList(r.snippets,t),s=o.extractInputTypeSnippets(a),c=o.initSnippetsWithConfig(s.standardArray,t,s.inputTypeSnippets);return{list:s.standardArray,sets:c}}))}},{key:"filterAwayNotNeededSnippetsList",value:function(t,o){var d,r=["@","["],a=function(h){return h.Type.indexOf("Razor")>-1?0:1},s=[],c=(0,$.Z)(t);try{for(c.s();!(d=c.n()).done;){var f=d.value,m=r.indexOf(f.set[0]);(-1===m||m===a(o))&&(m===a(o)&&(f.set=f.set.substr(1)),s.push(f))}}catch(u){c.e(u)}finally{c.f()}return s}},{key:"extractInputTypeSnippets",value:function(t){var s,o=[],r=[],a=(0,$.Z)(t);try{for(a.s();!(s=a.n()).done;){var c=s.value;"\\"===c.set[0]?(c.set=c.set.substr(1),r.push(c)):o.push(c)}}catch(u){a.e(u)}finally{a.f()}return{standardArray:o,inputTypeSnippets:this.catalogInputTypeSnippets(r)}}},{key:"catalogInputTypeSnippets",value:function(t){var a,o={},r=(0,$.Z)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;void 0===o[s.subset]&&(o[s.subset]=[]),o[s.subset].push(s)}}catch(c){r.e(c)}finally{r.f()}return o}},{key:"initSnippetsWithConfig",value:function(t,o,r){var a=this.makeTree(t);return a.Content=Object.assign({},a.Content,{Fields:{},PresentationFields:{}}),o.TypeContent&&this.loadContentType(a.Content.Fields,o.TypeContent,"Content",o,r),o.TypeContentPresentation&&this.loadContentType(a.Content.PresentationFields,o.TypeContentPresentation,"Content.Presentation",o,r),o.HasList?(a.List=Object.assign({},a.List,{Fields:{},PresentationFields:{}}),o.TypeList&&this.loadContentType(a.List.Fields,o.TypeList,"Header",o,r),o.TypeListPresentation&&this.loadContentType(a.List.PresentationFields,o.TypeListPresentation,"Header.Presentation",o,r)):delete a.List,o.HasApp&&(a.App.Resources={},a.App.Settings={},this.loadContentType(a.App.Resources,"App-Resources","App.Resources",o,r),this.loadContentType(a.App.Settings,"App-Settings","App.Settings",o,r)),a}},{key:"makeTree",value:function(t){var a,o={},r=(0,$.Z)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;void 0===o[s.set]&&(o[s.set]={}),void 0===o[s.set][s.subset]&&(o[s.set][s.subset]=[]);var c={key:s.name,label:this.label(s.set,s.subset,s.name),snip:s.content,help:s.help||this.help(s.set,s.subset,s.name),links:this.linksList(s.links)};o[s.set][s.subset].push(c)}}catch(d){r.e(d)}finally{r.f()}return o}},{key:"label",value:function(t,o,r){var a=this.getHelpKey(t,o,r,".Key"),s=this.translate.instant(a);return s===a&&(s=r),s}},{key:"getHelpKey",value:function(t,o,r,a){return"SourceEditorSnippets."+t+"."+o+"."+r+a}},{key:"help",value:function(t,o,r){var a=this.getHelpKey(t,o,r,".Help"),s=this.translate.instant(a);return s===a&&(s=""),s}},{key:"linksList",value:function(t){if(!t)return null;var s,o=[],r=t.split("\n"),a=(0,$.Z)(r);try{for(a.s();!(s=a.n()).done;){var d=s.value.split(":");if(3===d.length){var f={name:d[0].trim(),url:d[1].trim()+":"+d[2].trim()};o.push(f)}}}catch(m){a.e(m)}finally{a.f()}return 0===o.length?null:o}},{key:"loadContentType",value:function(t,o,r,a,s){var c=this;this.getFields(a.AppId,o).subscribe(function(d){var m,f=(0,$.Z)(d);try{for(f.s();!(m=f.n()).done;){var u=m.value,h=u.StaticName;t[h]={key:h,label:h,snip:c.valuePlaceholder(r,h,a),help:u.Metadata.merged.Notes||" ("+u.Type.toLowerCase()+") "};var O=(0,he.Z)(t[h]);c.attachSnippets(t,r,h,u.InputType,O,s)}}catch(N){f.e(N)}finally{f.f()}if(d.length)for(var I=["EntityId","EntityTitle","EntityGuid","EntityType","IsPublished","Modified"],S=0;S<I.length;S++)t[I[S]]={key:I[S],label:I[S],snip:c.valuePlaceholder(r,I[S],a),help:c.translate.instant("SourceEditorSnippets.StandardFields."+I[S]+".Help")}})}},{key:"valuePlaceholder",value:function(t,o,r){return r.Type.indexOf("Razor")>-1?"@"+t+"."+o:"["+t.replace(".",":")+":"+o+"]"}},{key:"getFields",value:function(t,o){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(ye.jt),{params:{appid:t.toString(),staticName:o}}).pipe((0,G.U)(function(r){r=r.filter(function(h){return h.Type!==Ce.Q.Empty});var s,a=(0,$.Z)(r);try{for(a.s();!(s=a.n()).done;){var c=s.value;if(c.Metadata){var d=c.Metadata,m=d[c.Type],u=d[c.InputType];d.merged=Object.assign(Object.assign(Object.assign({},d.All),m),u)}}}catch(h){a.e(h)}finally{a.f()}return r}))}},{key:"attachSnippets",value:function(t,o,r,a,s,c){var d=c[a];if(a.indexOf("-")){var f=a.substr(0,a.indexOf("-"));if(f){var m=c[f];m&&(d=d?d.concat(m):m)}}if(d){void 0===t[r].more&&(t[r].more={});for(var u=t[r].more,h=0;h<d.length;h++)try{u[r+"-"+d[h].name]=Object.assign({},s,{key:r+" - "+d[h].name,label:d[h].name,snip:this.localizeGenericSnippet(d[h].content,o,r),collapse:!0})}finally{}}}},{key:"localizeGenericSnippet",value:function(t,o,r){return t.replace(/(\$\{[0-9]+\:)var(\})/gi,"$1"+o+"$2").replace(/(\$\{[0-9]+\:)prop(\})/gi,"$1"+r+"$2")}}]),p}();return n.\u0275fac=function(i){return new(i||n)(e.LFG(xe.eN),e.LFG(Te._y),e.LFG(M.sK))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n}(),oe=l(1183),ae=l(318),Oe=l(5469),X=l(785),H=l(5656),q=l(491),Ie=function(){var n=function(){function p(){(0,b.Z)(this,p)}return(0,Z.Z)(p,[{key:"transform",value:function(t){return null==t||t.sort(function(o,r){return o.isFolder<r.isFolder?1:o.isFolder>r.isFolder?-1:0}),t}}]),p}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=e.Yjl({name:"sortItems",type:n,pure:!0}),n}(),Se=function(){var n=function(){function p(i){(0,b.Z)(this,p),this.sanitizer=i}return(0,Z.Z)(p,[{key:"transform",value:function(t,o){return this.sanitizer.bypassSecurityTrustStyle("padding-left: ".concat(o?8*t:0===t?8:8*t+16,"px;"))}}]),p}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(ae.H7,16))},n.\u0275pipe=e.Yjl({name:"depthPadding",type:n,pure:!0}),n}();function Me(n,p){1&n&&e.GkF(0)}var re=function(p){return{item:p}};function Pe(n,p){if(1&n&&(e.ynx(0),e.YNc(1,Me,1,0,"ng-container",5),e.BQk()),2&n){var i=p.$implicit;e.oxw();var t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,re,i))}}var Ze=function(p){return{active:p}};function be(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(i);var a=e.oxw().item;return e.oxw().openTemplate(a.pathFromRoot)}),e.ALo(1,"depthPadding"),e._uU(2),e.qZA()}if(2&n){var t=e.oxw().item,o=e.oxw();e.Akn(e.xi3(1,5,t.depth,t.isFolder)),e.Q6J("ngClass",e.VKq(8,Ze,o.toggledItems.includes(t.pathFromRoot)))("tippy",t.name),e.xp6(2),e.hij(" ",t.name," ")}}function ke(n,p){1&n&&e.GkF(0)}function Ee(n,p){if(1&n&&(e.ynx(0),e.YNc(1,ke,1,0,"ng-container",5),e.BQk()),2&n){var i=p.$implicit;e.oxw(4);var t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,re,i))}}function Ae(n,p){if(1&n&&(e.ynx(0),e.YNc(1,Ee,2,4,"ng-container",1),e.ALo(2,"sortItems"),e.BQk()),2&n){var i=e.oxw(2).item;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,i.children))}}function Fe(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",9),e.NdJ("click",function(){e.CHM(i);var a=e.oxw().item;return e.oxw().toggleItem(a.pathFromRoot)}),e.ALo(2,"depthPadding"),e.TgZ(3,"div",10),e.TgZ(4,"mat-icon"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.NdJ("click",function(){e.CHM(i);var a=e.oxw().item;return e.oxw().addFile(a.pathFromRoot)}),e.TgZ(9,"mat-icon"),e._uU(10,"add"),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,Ae,3,3,"ng-container",7),e.qZA()}if(2&n){var t=e.oxw().item,o=e.oxw();e.xp6(1),e.Akn(e.xi3(2,6,t.depth,t.isFolder)),e.xp6(2),e.Q6J("tippy",t.name),e.xp6(2),e.hij(" ",o.toggledItems.includes(t.pathFromRoot)?"keyboard_arrow_down":"keyboard_arrow_right"," "),e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Q6J("ngIf",o.toggledItems.includes(t.pathFromRoot))}}function De(n,p){if(1&n&&(e.YNc(0,be,3,10,"div",6),e.YNc(1,Fe,12,9,"div",7)),2&n){var i=p.item;e.Q6J("ngIf",!i.isFolder),e.xp6(1),e.Q6J("ngIf",i.isFolder)}}var Ne=function(){var n=function(){function p(){(0,b.Z)(this,p),this.openView=new e.vpe,this.createTemplate=new e.vpe,this.toggledItems=[]}return(0,Z.Z)(p,[{key:"ngOnChanges",value:function(t){var o;if(null!=t.templates&&(this.tree=function we(n){if(!n)return[];var t,p=[],i=(0,$.Z)(n);try{for(i.s();!(t=i.n()).done;)for(var r=p,a=t.value.split("/"),s=a[a.length-1],c="",d=function(u){var h=a[u];c+=u?"/".concat(h):h;var O=r.find(function(S){return S.name===h});if(O)r=O.children;else{var I=Object.assign({depth:u,name:h,pathFromRoot:c,isFolder:h!==s},h!==s&&{children:[]});r.push(I),r=I.children}},f=0;f<a.length;f++)d(f)}catch(m){i.e(m)}finally{i.f()}return p}(null!==(o=this.templates)&&void 0!==o?o:[])),null!=t.filename){var r=t.filename.previousValue;r&&this.toggleItem(r),this.filename&&this.showFileInTree(this.filename)}}},{key:"openTemplate",value:function(t){this.openView.emit(t)}},{key:"toggleItem",value:function(t){H.iX.toggleInArray(t,this.toggledItems)}},{key:"addFile",value:function(t){this.createTemplate.emit(t)}},{key:"showFileInTree",value:function(t){if(null!=t&&!this.toggledItems.includes(t)){var s,o=t.split("/"),r="",a=(0,$.Z)(o);try{for(a.s();!(s=a.n()).done;){var c=s.value;r=r?"".concat(r,"/").concat(c):c,!this.toggledItems.includes(r)&&this.toggleItem(r)}}catch(d){a.e(d)}finally{a.f()}}}}]),p}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-code-templates"]],inputs:{filename:"filename",templates:"templates"},outputs:{openView:"openView",createTemplate:"createTemplate"},features:[e.TTD],decls:10,vars:3,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark","explorer-wrapper"],[4,"ngFor","ngForOf"],["fileOrFolder",""],[1,"create-button-wrapper"],["mat-icon-button","","tippy","Create file",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","file","tippyShowDelay","750",3,"style","ngClass","tippy","click",4,"ngIf"],[4,"ngIf"],["tippyShowDelay","750",1,"file",3,"ngClass","tippy","click"],[1,"folder-name-wrapper",3,"click"],["tippyShowDelay","750",1,"folder-name",3,"tippy"],["tippy","Create file in this folder","tippyShowDelay","750","appClickStopPropagation","",1,"add-item",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.YNc(2,Pe,2,4,"ng-container",1),e.ALo(3,"sortItems"),e.YNc(4,De,2,2,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"button",4),e.NdJ("click",function(){return t.addFile()}),e.TgZ(8,"mat-icon"),e._uU(9,"add"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,t.tree)))},directives:[v.sg,k.lW,X.$,A.Hw,v.tP,v.O5,v.mk,q.E],pipes:[Ie,Se],styles:[".explorer-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.create-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.file[_ngcontent-%COMP%]{cursor:pointer;padding:4px 0 4px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.file[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.file.active[_ngcontent-%COMP%]{background-color:#37373d}.folder-name-wrapper[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center}.folder-name-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.folder-name-wrapper[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;white-space:nowrap;padding:3px 0;flex:1 1 auto}.folder-name-wrapper[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{margin-right:4px;display:none;align-items:center;justify-content:center;padding:3px}.folder-name-wrapper[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.folder-name-wrapper[_ngcontent-%COMP%]:hover   .add-item[_ngcontent-%COMP%]{display:flex}"]}),n}(),Le=function(){var n=function(){function p(){(0,b.Z)(this,p)}return(0,Z.Z)(p,[{key:"transform",value:function(t){if(null!=t)return Array.isArray(t)?t:Object.values(t)}}]),p}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=e.Yjl({name:"objectToArray",type:n,pure:!0}),n}(),Ue=l(845);function Je(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"mat-icon",12),e.NdJ("click",function(){e.CHM(i);var a=e.oxw().$implicit;return e.oxw(5).toggleMore(a.key)}),e._uU(1),e.qZA()}if(2&n){var t=e.oxw().$implicit,o=e.oxw(5);e.xp6(1),e.hij(" ",o.toggledMores.includes(t.key)?"more_vert":"more_horiz"," ")}}function $e(n,p){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"a",15),e._uU(2),e.qZA(),e.qZA()),2&n){var i=p.$implicit;e.xp6(1),e.Q6J("href",i.url,e.LSH),e.xp6(1),e.Oqu(i.name)}}function je(n,p){if(1&n&&(e.TgZ(0,"div",13),e._UZ(1,"div",14),e.ALo(2,"safeHtml"),e.YNc(3,$e,3,2,"div",1),e.qZA()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,2,i.help),e.oJD),e.xp6(2),e.Q6J("ngForOf",i.links)}}function Re(n,p){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"a",15),e._uU(2),e.qZA(),e.qZA()),2&n){var i=p.$implicit;e.xp6(1),e.Q6J("href",i.url,e.LSH),e.xp6(1),e.Oqu(i.name)}}function Qe(n,p){if(1&n&&(e.TgZ(0,"div",18),e._UZ(1,"div",14),e.ALo(2,"safeHtml"),e.YNc(3,Re,3,2,"div",1),e.qZA()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,2,i.help),e.oJD),e.xp6(2),e.Q6J("ngForOf",i.links)}}function Ve(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",7),e.TgZ(2,"div",16),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw(7).addSnippet(s.snip)}),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",10),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw(7).toggleInfo(s.key)}),e._uU(5," info "),e.qZA(),e.qZA(),e.YNc(6,Qe,4,4,"div",17),e.qZA()}if(2&n){var t=p.$implicit,o=e.oxw(7);e.xp6(2),e.Q6J("tippy",t.snip),e.xp6(1),e.hij(" ",t.label," "),e.xp6(3),e.Q6J("ngIf",o.toggledInfos.includes(t.key))}}function Be(n,p){if(1&n&&(e.ynx(0),e.YNc(1,Ve,7,3,"div",1),e.ALo(2,"objectToArray"),e.BQk()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,i.more))}}function He(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw(5).addSnippet(s.snip)}),e._uU(3),e.qZA(),e.YNc(4,Je,2,1,"mat-icon",9),e.TgZ(5,"mat-icon",10),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw(5).toggleInfo(s.key)}),e._uU(6," info "),e.qZA(),e.qZA(),e.YNc(7,je,4,4,"div",11),e.YNc(8,Be,3,3,"ng-container",3),e.qZA()}if(2&n){var t=p.$implicit,o=e.oxw(5);e.xp6(2),e.Q6J("tippy",t.snip),e.xp6(1),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("ngIf",t.more),e.xp6(3),e.Q6J("ngIf",o.toggledInfos.includes(t.key)),e.xp6(1),e.Q6J("ngIf",o.toggledMores.includes(t.key))}}function Ye(n,p){if(1&n&&(e.ynx(0),e.YNc(1,He,9,5,"div",5),e.ALo(2,"objectToArray"),e.BQk()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,i.value))}}function We(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",4),e.NdJ("click",function(){var c=e.CHM(i).$implicit;return e.oxw(3).toggleFolder(c.key)}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.YNc(8,Ye,3,3,"ng-container",3),e.qZA()}if(2&n){var t=p.$implicit,o=e.oxw(2).$implicit,r=e.oxw();e.xp6(1),e.Q6J("tippy",e.lcZ(2,4,"SourceEditorSnippets."+o.key+"."+t.key+".Help")),e.xp6(3),e.hij(" ",r.toggledFolders.includes(t.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),e.xp6(2),e.Oqu(e.lcZ(7,6,"SourceEditorSnippets."+o.key+"."+t.key+".Title")),e.xp6(2),e.Q6J("ngIf",r.toggledFolders.includes(t.key))}}function Ke(n,p){if(1&n&&(e.ynx(0),e.YNc(1,We,9,8,"div",1),e.ALo(2,"keyvalue"),e.BQk()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,i.value))}}function ze(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",2),e.NdJ("click",function(){var s=e.CHM(i).$implicit;return e.oxw().toggleSection(s.key)}),e.ALo(2,"translate"),e.TgZ(3,"mat-icon"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.YNc(8,Ke,3,3,"ng-container",3),e.qZA()}if(2&n){var t=p.$implicit,o=e.oxw();e.xp6(1),e.Q6J("tippy",e.lcZ(2,4,"SourceEditorSnippets."+t.key+".Help")),e.xp6(3),e.hij(" ",o.toggledSections.includes(t.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),e.xp6(2),e.Oqu(e.lcZ(7,6,"SourceEditorSnippets."+t.key+".Title")),e.xp6(2),e.Q6J("ngIf",o.toggledSections.includes(t.key))}}var Ge=function(){var n=function(){function p(){(0,b.Z)(this,p),this.insertSnippet=new e.vpe,this.toggledSections=[],this.toggledFolders=[],this.toggledInfos=[],this.toggledMores=[]}return(0,Z.Z)(p,[{key:"addSnippet",value:function(t){this.insertSnippet.emit(t)}},{key:"toggleSection",value:function(t){H.iX.toggleInArray(t,this.toggledSections)}},{key:"toggleFolder",value:function(t){H.iX.toggleInArray(t,this.toggledFolders)}},{key:"toggleInfo",value:function(t){H.iX.toggleInArray(t,this.toggledInfos)}},{key:"toggleMore",value:function(t){H.iX.toggleInArray(t,this.toggledMores)}}]),p}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-code-snippets"]],inputs:{snippets:"snippets"},outputs:{insertSnippet:"insertSnippet"},decls:3,vars:3,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark"],[4,"ngFor","ngForOf"],["tippyShowDelay","750",1,"collapsible-header","section",3,"tippy","click"],[4,"ngIf"],["tippyShowDelay","750",1,"collapsible-header","folder",3,"tippy","click"],["class","snippet",4,"ngFor","ngForOf"],[1,"snippet"],[1,"snippet-label"],["matRipple","","tippyShowDelay","750",1,"text",3,"tippy","click"],["tippy","Show More","tippyShowDelay","750",3,"click",4,"ngIf"],["tippy","Show Help","tippyShowDelay","750","appClickStopPropagation","",3,"click"],["class","snippet-help",4,"ngIf"],["tippy","Show More","tippyShowDelay","750",3,"click"],[1,"snippet-help"],[1,"text",3,"innerHTML"],["target","_blank",3,"href"],["matRipple","","tippyShowDelay","750",1,"text","text-more",3,"tippy","click"],["class","snippet-help snippet-help-more",4,"ngIf"],[1,"snippet-help","snippet-help-more"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,ze,9,8,"div",1),e.ALo(2,"keyvalue"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.snippets)))},directives:[v.sg,X.$,A.Hw,v.O5,U.wG,q.E],pipes:[v.Nd,M.X$,Le,Ue.z],styles:[".collapsible-header[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;overflow:hidden;white-space:nowrap;-webkit-user-select:none;user-select:none;padding:3px 0}.collapsible-header.section[_ngcontent-%COMP%]{background-color:#383838;font-weight:500}.collapsible-header.folder[_ngcontent-%COMP%]{padding-left:8px}.collapsible-header.folder[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.collapsible-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.snippet[_ngcontent-%COMP%]{padding-right:8px}.snippet[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.snippet-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.snippet-label[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{cursor:pointer;padding:3px 0 3px 32px;flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.snippet-label[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-label[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:18px;height:18px;font-size:18px}.snippet-help[_ngcontent-%COMP%]{padding:3px 18px 3px 32px}.snippet-help-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;font-style:oblique;word-break:break-word}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]     p{margin:0}"]}),n}();function Xe(n,p){1&n&&e._UZ(0,"mat-icon",20)}function qe(n,p){1&n&&e._UZ(0,"mat-spinner",21)}var et=function(p,i,t){return{active:p,modified:i,loading:t}};function tt(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){var a=e.CHM(i).$implicit;return e.oxw(3).openView(a.viewKey)}),e.TgZ(1,"div",14),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",16),e.YNc(5,Xe,1,0,"mat-icon",17),e.YNc(6,qe,1,0,"mat-spinner",18),e.TgZ(7,"mat-icon",19),e.NdJ("click",function(){var a=e.CHM(i).$implicit;return e.oxw(3).closeEditor(a.viewKey)}),e._uU(8," close "),e.qZA(),e.qZA(),e.qZA()}if(2&n){var t=p.$implicit;e.Q6J("ngClass",e.kEZ(5,et,t.isActive,t.isModified,t.isLoading)),e.xp6(1),e.Q6J("tippy",t.label),e.xp6(2),e.Oqu(t.label),e.xp6(2),e.Q6J("ngIf",t.isModified),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}function nt(n,p){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,tt,9,9,"div",12),e.qZA()),2&n){var i=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",i.tabs)}}function it(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"app-monaco-editor",22),e.NdJ("valueChanged",function(a){e.CHM(i);var s=e.oxw().ngIf;return e.oxw().codeChanged(a,s.viewKey)}),e.qZA()}if(2&n){var t=e.oxw().ngIf,o=e.oxw();e.Q6J("filename",t.view.FileName)("value",t.view.Code)("options",o.monacoOptions)("snippets",t.editorSnipps)("autoFocus",!0)}}function ot(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).save()}),e.TgZ(1,"mat-icon"),e._uU(2,"done"),e.qZA(),e.qZA()}}var at=function(p){return{"sxc-dark":p}},se=function(p){return{active:p}};function rt(n,p){if(1&n){var i=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.NdJ("click",function(){e.CHM(i);var a=e.oxw();return a.toggleExplorer(a.Explorers.Templates)}),e.TgZ(3,"mat-icon"),e._uU(4,"file_copy"),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.NdJ("click",function(){e.CHM(i);var a=e.oxw();return a.toggleExplorer(a.Explorers.Snippets)}),e.TgZ(6,"mat-icon"),e._uU(7,"code"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"app-code-templates",5),e.NdJ("openView",function(a){return e.CHM(i),e.oxw().openView(a)})("createTemplate",function(a){return e.CHM(i),e.oxw().createTemplate(a)}),e.qZA(),e.TgZ(9,"app-code-snippets",6),e.NdJ("insertSnippet",function(a){return e.CHM(i),e.oxw().insertSnippet(a)}),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,nt,2,1,"div",8),e.YNc(12,it,1,5,"app-monaco-editor",9),e.qZA(),e.YNc(13,ot,3,0,"button",10),e.qZA()}if(2&n){var t=p.ngIf,o=e.oxw();e.Q6J("ngClass",e.VKq(11,at,"2sxc-dark"===o.monacoOptions.theme)),e.xp6(2),e.Q6J("ngClass",e.VKq(13,se,o.activeExplorer===o.Explorers.Templates)),e.xp6(3),e.Q6J("ngClass",e.VKq(15,se,o.activeExplorer===o.Explorers.Snippets)),e.xp6(3),e.Q6J("hidden",o.activeExplorer!==o.Explorers.Templates)("filename",null==t.view?null:t.view.FileName)("templates",t.templates),e.xp6(1),e.Q6J("hidden",o.activeExplorer!==o.Explorers.Snippets)("snippets",t.explorerSnipps),e.xp6(2),e.Q6J("ngIf",t.tabs.length>0),e.xp6(1),e.Q6J("ngIf",t.view),e.xp6(1),e.Q6J("ngIf",t.activeView)}}var pt=[{path:"",component:function(){var n=function(){function p(i,t,o,r,a,s,c,d,f){(0,b.Z)(this,p),this.context=i,this.route=t,this.snackBar=o,this.sourceService=r,this.snippetsService=a,this.zone=s,this.titleService=c,this.dialog=d,this.viewContainerRef=f,this.Explorers=ne,this.activeExplorer=ne.Templates,this.monacoOptions={theme:"2sxc-dark",tabSize:2},this.context.init(this.route);var m=JSON.parse(sessionStorage.getItem(de.kF));m.forEach(function(u){u.Path.startsWith("/")&&(u.Path=u.Path.substring(1))}),this.urlItems=m}return(0,Z.Z)(p,[{key:"ngOnInit",value:function(){var t=this;this.subscription=new V.w0,this.templates$=new J.X([]);var o=this.urlItems.map(function(r){var a,s;return null!==(s=null===(a=r.EntityId)||void 0===a?void 0:a.toString())&&void 0!==s?s:r.Path});this.activeView$=new J.X(o[0]),this.openViews$=new J.X(o),this.viewInfos$=new J.X([]),this.attachListeners(),this.sourceService.getTemplates().subscribe(function(r){t.templates$.next(r)}),this.subscription.add((0,B.a)([this.templates$,this.openViews$]).subscribe(function(r){var a=(0,D.Z)(r,2),s=a[0];if(0!==s.length){var d=t.viewInfos$.value,f=a[1].filter(function(m){return!d.some(function(u){return u.viewKey===m})});0!==f.length&&((0,Y.D)(f.map(function(m){var u={viewKey:m};d=[].concat((0,y.Z)(d),[u]);var h=t.sourceService.get(m,t.urlItems).pipe((0,ce.B)()),O=h.pipe((0,le.z)(function(I){return t.snippetsService.getSnippets(I)}));return(0,Y.D)([(0,z.of)(m),h,O])})).subscribe(function(m){var u=t.viewInfos$.value;m.forEach(function(h){var O=(0,D.Z)(h,3),I=O[0],S=O[1],N=O[2],w=u.findIndex(function(ee){return ee.viewKey===I});if(!(w<0)){var Q={viewKey:I,view:S,explorerSnipps:N.sets,editorSnipps:N.list,savedCode:S.Code};u=[].concat((0,y.Z)(u.slice(0,w)),[Q],(0,y.Z)(u.slice(w+1))),t.showCodeAndEditionWarnings(I,S,s)}}),t.viewInfos$.next(u)}),t.viewInfos$.next(d))}})),this.subscription.add((0,B.a)([this.activeView$,this.viewInfos$]).subscribe(function(r){var d,a=(0,D.Z)(r,2),s=a[0],f=a[1].find(function(O){return O.viewKey===s}),m="Code Editor",u=null==f?m:"".concat(null===(d=f.view)||void 0===d?void 0:d.FileName," - ").concat(m);u!==t.titleService.getTitle()&&t.titleService.setTitle(u)})),this.templateVars$=(0,B.a)([this.templates$,this.activeView$,this.openViews$,this.viewInfos$]).pipe((0,G.U)(function(r){var a=(0,D.Z)(r,4),s=a[0],c=a[1],f=a[3],m=a[2].map(function(O){var I,S,N,w=f.find(function(ee){return ee.viewKey===O});return{viewKey:O,label:null!==(S=null===(I=null==w?void 0:w.view)||void 0===I?void 0:I.FileName)&&void 0!==S?S:O,isActive:O===c,isModified:(null===(N=null==w?void 0:w.view)||void 0===N?void 0:N.Code)!==(null==w?void 0:w.savedCode),isLoading:null==(null==w?void 0:w.view)}}),u=f.find(function(O){return O.viewKey===c});return{activeView:c,tabs:m,viewKey:null==u?void 0:u.viewKey,view:null==u?void 0:u.view,templates:s,explorerSnipps:null==u?void 0:u.explorerSnipps,editorSnipps:null==u?void 0:u.editorSnipps}}))}},{key:"ngOnDestroy",value:function(){this.templates$.complete(),this.activeView$.complete(),this.openViews$.complete(),this.viewInfos$.complete(),this.subscription.unsubscribe()}},{key:"toggleExplorer",value:function(t){this.activeExplorer=this.activeExplorer!==t?t:null}},{key:"createTemplate",value:function(t){var o=this,r={folder:t,purpose:"api"===t||(null==t?void 0:t.startsWith("api/"))?"Api":void 0};this.dialog.open(E.U,{autoFocus:!1,data:r,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(function(s){!s||o.sourceService.createTemplate(s.name,s.templateKey).subscribe(function(){o.sourceService.getTemplates().subscribe(function(c){o.templates$.next(c)})})})}},{key:"insertSnippet",value:function(t){var o;null===(o=this.monacoEditorRef)||void 0===o||o.insertSnippet(t)}},{key:"codeChanged",value:function(t,o){var r=this.viewInfos$.value,a=r.findIndex(function(d){return d.viewKey===o}),s=r[a],c=Object.assign(Object.assign({},s),{view:Object.assign(Object.assign({},s.view),{Code:t})});r=[].concat((0,y.Z)(r.slice(0,a)),[c],(0,y.Z)(r.slice(a+1))),this.viewInfos$.next(r)}},{key:"openView",value:function(t){var o,r;t=null!==(r=null===(o=this.viewInfos$.value.find(function(d){var f;return d.viewKey!==t&&(null===(f=d.view)||void 0===f?void 0:f.FileName)===t}))||void 0===o?void 0:o.viewKey)&&void 0!==r?r:t,this.activeView$.value!==t&&this.activeView$.next(t);var s=this.openViews$.value;if(!s.includes(t)){var c=[].concat((0,y.Z)(s),[t]);this.openViews$.next(c)}}},{key:"closeEditor",value:function(t){var o,r=this.openViews$.value,a=r.filter(function(d){return d!==t}),s=this.activeView$.value;if(s===t){var c=null!==(o=r[r.indexOf(s)-1])&&void 0!==o?o:a[0];this.activeView$.next(c)}this.openViews$.next(a)}},{key:"save",value:function(t){var o=this;null!=t||(t=this.activeView$.value);var r=this.viewInfos$.value.find(function(s){return s.viewKey===t});if(null!=(null==r?void 0:r.view)){this.snackBar.open("Saving...");var a=r.view.Code;this.sourceService.save(t,r.view,this.urlItems).subscribe({next:function(c){if(c){var d=(0,y.Z)(o.viewInfos$.value),f=d.findIndex(function(h){return h.viewKey===t});if(!(f<0)){var u=Object.assign(Object.assign({},d[f]),{savedCode:a});d=[].concat((0,y.Z)(d.slice(0,f)),[u],(0,y.Z)(d.slice(f+1))),o.viewInfos$.next(d),o.snackBar.open("Saved",null,{duration:2e3})}}else o.snackBar.open("Failed",null,{duration:2e3})},error:function(){o.snackBar.open("Failed",null,{duration:2e3})}})}}},{key:"showCodeAndEditionWarnings",value:function(t,o,r){var s,a=this,c=o.FileName,d=c.indexOf("/")>-1?c.lastIndexOf("/")+1:0,f=0===d?"":c.substring(0,d),m=c.substring(d),h=m.substring(0,m.length-o.Extension.length)+".code"+o.Extension,O=r.find(function(w){return w===f+h}),I=r.filter(function(w){return w.endsWith(m)}).length-1;if(O||I){var S={fileName:m,codeFile:O,edition:null===(s=this.urlItems.find(function(w){var Q;return(null===(Q=w.EntityId)||void 0===Q?void 0:Q.toString())===t&&w.Path===o.FileName}))||void 0===s?void 0:s.Edition,otherEditions:I,openCodeBehind:!1},N=this.snackBar.openFromComponent(me,{data:S,duration:1e4});N.onAction().subscribe(function(){N.containerInstance.snackBarConfig.data.openCodeBehind&&a.openView(O)})}}},{key:"attachListeners",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.subscription.add((0,W.R)(window,"beforeunload").subscribe(function(o){!t.viewInfos$.value.some(function(a){return null!=a.view&&a.view.Code!==a.savedCode})||(o.preventDefault(),o.returnValue="")})),t.subscription.add((0,W.R)(window,"keydown").subscribe(function(o){83!==o.keyCode||!(navigator.platform.match("Mac")?o.metaKey:o.ctrlKey)||(o.preventDefault(),t.zone.run(function(){t.save()}))}))})}}]),p}();return n.\u0275fac=function(i){return new(i||n)(e.Y36(T._),e.Y36(x.gz),e.Y36(P.ux),e.Y36(oe.tk),e.Y36(ie),e.Y36(e.R0b),e.Y36(ae.Dx),e.Y36(F.uw),e.Y36(e.s_b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-code-editor"]],viewQuery:function(i,t){var o;1&i&&e.Gf(te.T,5),2&i&&e.iGM(o=e.CRH())&&(t.monacoEditorRef=o.first)},decls:2,vars:3,consts:[["class","editor-root","appToggleDebug","",3,"ngClass",4,"ngIf"],["appToggleDebug","",1,"editor-root",3,"ngClass"],[1,"editor-side-toolbar"],["tippy","Templates",1,"button",3,"ngClass","click"],["tippy","Snippets",1,"button",3,"ngClass","click"],[3,"hidden","filename","templates","openView","createTemplate"],[3,"hidden","snippets","insertSnippet"],[1,"editor-group"],["class","tabs-container fancy-scrollbar-dark",4,"ngIf"],[3,"filename","value","options","snippets","autoFocus","valueChanged",4,"ngIf"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click",4,"ngIf"],[1,"tabs-container","fancy-scrollbar-dark"],["class","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tab",3,"ngClass","click"],["tippyShowDelay","750",1,"tab-label-container",3,"tippy"],[1,"tab-label"],[1,"tab-actions-container"],["class","tab-action icon-modified","svgIcon","circle",4,"ngIf"],["class","spinner","mode","indeterminate","diameter","14","color","white",4,"ngIf"],["tippy","Close","appClickStopPropagation","",1,"tab-action","icon-close",3,"click"],["svgIcon","circle",1,"tab-action","icon-modified"],["mode","indeterminate","diameter","14","color","white",1,"spinner"],[3,"filename","value","options","snippets","autoFocus","valueChanged"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click"]],template:function(i,t){1&i&&(e.YNc(0,rt,14,17,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,t.templateVars$))},directives:[v.O5,Oe.D,v.mk,X.$,A.Hw,Ne,Ge,v.sg,q.E,R.$g,te.T,k.lW],pipes:[v.Ov],styles:[".sxc-dark[_ngcontent-%COMP%]{background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{display:flex;height:35px;background-color:#252526;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]:hover{overflow-x:auto}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;align-items:center;cursor:pointer;color:#ccc;font-size:13px;padding-left:10px;border-right:1px solid #252526;background-color:#2d2d2d;-webkit-user-select:none;user-select:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]{height:100%;width:28px;display:flex;align-items:center;justify-content:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;width:16px;height:16px;padding:2px;font-size:16px;border-radius:5px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action.icon-modified[_ngcontent-%COMP%]{width:10px;height:10px;font-size:10px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]:hover{background-color:#5a5d5e4f}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover   .icon-close[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).modified   .icon-modified[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).loading   .spinner[_ngcontent-%COMP%]{display:block}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover):not(.modified):not(.loading).active   .icon-close[_ngcontent-%COMP%]{display:flex}.mat-fab[_ngcontent-%COMP%]{position:absolute;right:48px;bottom:32px;z-index:10}"]}),n}()}],ct=function(){var n=(0,Z.Z)(function p(){(0,b.Z)(this,p)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[x.Bz.forChild(pt)],x.Bz]}),n}();function pe(n){return new C.M(n,"./i18n/code-editor.",".js?".concat(window.sxcVersion))}var lt=function(){var n=(0,Z.Z)(function p(){(0,b.Z)(this,p)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T._,oe.tk,ie,M.sK],imports:[[ct,g.q,v.ez,F.Is,k.ot,A.Ps,P.ZX,U.si,M.aw.forChild((0,_.f)(pe)),L.n,R.Cq,E.q]]}),n}()},4722:function(K,j,l){l.d(j,{jt:function(){return E},Mr:function(){return L}});var Z=l(5106),b=l(8069),v=l(8047),k=l(635),U=l(5005),F=l(8598),A=l(7133),R=l(8784),P=l(2425),M="admin/field/",E=M+"all",L=function(){var T=function(){function g(C,_,x){(0,b.Z)(this,g),this.http=C,this.context=_,this.dnnContext=x}return(0,v.Z)(g,[{key:"apiUrl",value:function(_){return this.dnnContext.$2sxc.http.apiUrl(_)}},{key:"typeListRetrieve",value:function(){return this.http.get(this.apiUrl(M+"DataTypes"),{params:{appid:this.context.appId.toString()}})}},{key:"getInputTypesList",value:function(){return this.http.get(this.apiUrl(M+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,k.U)(function(_){return _.map(function(y){return{dataType:y.Type.substring(0,y.Type.indexOf("-")),inputType:y.Type,label:y.Label,description:y.Description,isDefault:y.IsDefault,isObsolete:y.IsObsolete,isRecommended:y.IsRecommended,obsoleteMessage:y.ObsoleteMessage,icon:y.IsDefault?"star":y.IsRecommended?"star_outlined":null}})}))}},{key:"getReservedNames",value:function(){return this.http.get(this.apiUrl(M+"ReservedNames"))}},{key:"getFields",value:function(_){return this.http.get(this.apiUrl(E),{params:{appid:this.context.appId.toString(),staticName:_}}).pipe((0,k.U)(function(x){if(x){var D,y=(0,Z.Z)(x);try{for(y.s();!(D=y.n()).done;){var V=D.value;if(V.Metadata){var J=V.Metadata,Y=J[V.Type],z=J[V.InputType];J.merged=Object.assign(Object.assign(Object.assign({},J.All),Y),z)}}}catch(W){y.e(W)}finally{y.f()}}return x}))}},{key:"reOrder",value:function(_,x){return this.http.post(this.apiUrl(M+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:x.Id.toString(),order:JSON.stringify(_)}})}},{key:"setTitle",value:function(_,x){return this.http.post(this.apiUrl(U._+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:x.Id.toString(),attributeId:_.Id.toString()}})}},{key:"rename",value:function(_,x,y){return this.http.post(this.apiUrl(M+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:x.toString(),attributeId:_.toString(),newName:y}})}},{key:"delete",value:function(_,x){if(_.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(M+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:x.Id.toString(),attributeId:_.Id.toString()}})}},{key:"add",value:function(_,x){return this.http.post(this.apiUrl(M+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:x.toString(),Id:_.Id.toString(),Type:_.Type,InputType:_.InputType,StaticName:_.StaticName,IsTitle:_.IsTitle.toString(),Index:_.SortOrder.toString()}})}},{key:"updateInputType",value:function(_,x,y){return this.http.post(this.apiUrl(M+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:_.toString(),field:x,inputType:y}})}}]),g}();return T.\u0275fac=function(C){return new(C||T)(A.LFG(R.eN),A.LFG(F._),A.LFG(P._y))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac}),T}()},3135:function(K,j,l){l.d(j,{Y:function(){return T}});var Z=l(8069),b=l(8047),v=l(7133),k=l(6362),U=l(4770);function F(g,C){1&g&&v.GkF(0)}function A(g,C){if(1&g&&(v.TgZ(0,"mat-hint"),v.YNc(1,F,1,0,"ng-container",3),v.qZA()),2&g){v.oxw();var _=v.MAs(4);v.xp6(1),v.Q6J("ngTemplateOutlet",_)}}function R(g,C){1&g&&v.GkF(0)}function P(g,C){if(1&g&&(v.TgZ(0,"mat-error"),v.YNc(1,R,1,0,"ng-container",3),v.qZA()),2&g){v.oxw();var _=v.MAs(4);v.xp6(1),v.Q6J("ngTemplateOutlet",_)}}function M(g,C){1&g&&v.Hsn(0)}var E=function(C){return{"hint-box__short":C}},L=["*"],T=function(){var g=function(){function C(){(0,Z.Z)(this,C),this.isError=!1,this.isShort=!0}return(0,b.Z)(C,[{key:"toggleIsShort",value:function(){this.isShort=!this.isShort}}]),C}();return g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=v.Xpm({type:g,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:L,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(_,x){1&_&&(v.F$t(),v.TgZ(0,"div",0),v.NdJ("click",function(){return x.toggleIsShort()}),v.YNc(1,A,2,1,"mat-hint",1),v.YNc(2,P,2,1,"mat-error",1),v.qZA(),v.YNc(3,M,1,0,"ng-template",null,2,v.W1O)),2&_&&(v.Q6J("ngClass",v.VKq(4,E,x.isShort))("ngSwitch",x.isError),v.xp6(1),v.Q6J("ngSwitchCase",!1),v.xp6(1),v.Q6J("ngSwitchCase",!0))},directives:[k.mk,k.RF,k.n9,U.bx,k.tP,U.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),g}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.01.00/ng-edit/projects_ng-dialogs_src_app_code-editor_code-editor_module_ts-projects_ng-dialogs_src_app_sha-ff0107.8a8a559be7dded86.js.map
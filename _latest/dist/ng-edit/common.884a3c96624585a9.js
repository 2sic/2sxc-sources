"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["common"],{1657:(v,l,t)=>{t.d(l,{E:()=>r});var s=t(7580),e=t(6256),i=t(4646),c=t(3840),m=t(8136),u=t(9001),o=t(4601);function d(h,f){if(1&h){const _=s.RV6();s.j41(0,"div",2),s.bIt("click",function(){s.eBV(_);const P=s.XpG();return s.Njj(P.openLightspeedFeatureInfo())}),s.j41(1,"mat-icon",3),s.EFF(2," bolt "),s.k0s()()}}function p(h,f){if(1&h&&(s.j41(0,"a",5)(1,"mat-icon",6),s.EFF(2," bolt "),s.k0s()()),2&h){const _=s.XpG(2);s.Y8G("href","#"+_.params().lightSpeedLink(_.lightSpeedOwner()),s.B4B)}}function n(h,f){if(1&h&&(s.j41(0,"a",5)(1,"mat-icon",7),s.EFF(2," bolt "),s.k0s()()),2&h){const _=s.XpG(2);s.Y8G("href","#"+_.params().lightSpeedLink(_.lightSpeedOwner()),s.B4B)}}function a(h,f){if(1&h&&(s.j41(0,"div",4),s.DNE(1,p,3,1,"a",5)(2,n,3,1,"a",5),s.k0s()),2&h){const _=s.XpG();s.ZvI("eav-grid-action-button ",_.appHasLightSpeed?"":"disabled",""),s.Y8G("tippy",_.appHasLightSpeed?_.lightSpeed().Title:"Not yet configured for LightSpeed"),s.R7$(),s.vxM(_.appLightSpeedEnabled?1:2)}}let r=(()=>{class h{constructor(){this.lightSpeedOwner=s.hFB.required(),this.params=s.hFB.required(),this.lightSpeed=s.hFB.required(),this.features=(0,s.WQX)(u.D),this.lightSpeedEnabled=this.features.isEnabled[m.T.LightSpeed]}get appHasLightSpeed(){return null!=this.lightSpeed()?.Id}get appLightSpeedEnabled(){return 1==this.lightSpeed()?.IsEnabled}openLightspeedFeatureInfo(){this.params().openLightspeedFeatureInfo()}static{this.\u0275fac=function(I){return new(I||h)}}static{this.\u0275cmp=s.VBU({type:h,selectors:[["app-lightspeed-action"]],inputs:{lightSpeedOwner:[1,"lightSpeedOwner"],params:[1,"params"],lightSpeed:[1,"lightSpeed"]},decls:2,vars:1,consts:[["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled"],["matRipple","",3,"class","tippy"],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy"],[1,"default-link",3,"href"],["matBadgeSize","small","matBadge","\u2705","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadge","\u26d4","matBadgePosition","below after","aria-hidden","false"]],template:function(I,P){1&I&&s.DNE(0,d,3,0,"div",0)(1,a,3,5,"div",1),2&I&&s.vxM(P.lightSpeedEnabled()?1:0)},dependencies:[o.e,c.m_,c.An,e.Y,e.k,i.pZ,i.r6],encapsulation:2})}}return h})()},8713:(v,l,t)=>{t.d(l,{g:()=>i});var s=t(52),e=t(334);class i{static getLightSpeedEditParams(m){return{items:[e.c.newMetadata(m,s.YX.appMetadata.LightSpeed.ContentTypeName,s.YX.metadata.app,!0)]}}}},7703:(v,l,t)=>{t.d(l,{s:()=>e,w:()=>s});const s=/^[A-Za-z][A-Za-z0-9]+$/,e="Standard letters and numbers are allowed. Must start with a letter."},1902:(v,l,t)=>{t.r(l),t.d(l,{CopilotPageComponent:()=>U});var f,s=t(316),e=t(7580),i=t(4175),c=t(3777),m=t(3840),u=t(5175),o=t(271),d=t(4334),p=t(2938),n=t(8873),a=t(6301),r=t(4435),h=t(6443);let _=(()=>{class E{static{this.webApiEditions="admin/code/getEditions"}static{this.webApiGeneratedCode="admin/code/generateDataModels"}constructor(g,C){this.http=g,this.context=C,this.log=(0,r.Tq)({CopilotService:E}),this.specs=this.#e()}getEditions(){return this.specs.pipe((0,o.T)(g=>g.editions))}getDefaultEdition(){return this.specs.pipe((0,o.T)(g=>g.editions.find(C=>C.isDefault)))}getGenerators(){return this.specs.pipe((0,o.T)(g=>g.generators))}#e(){return this.http.get(f.webApiEditions,{params:{appId:this.context.appId.toString()}}).pipe((0,o.T)(g=>{const C=this.#t(g.editions),D=g.editions.map(y=>{const O=y==C;return{...y,isDefault:O,description:(y.description||"no description provided")+(O?" \u2705":""),label:`/${y.name}/AppCode/Data`.replace(/\/\//g,"/")}});return{...g,editions:D}}),(0,a.t)(1))}#t(g){return g.find(C=>C.isDefault)??g.find(C=>""===C.name)??g[0]}static{this.\u0275fac=function(C){return new(C||E)(e.KVO(h.Qq),e.KVO(n.o))}}static{this.\u0275prov=e.jDH({token:E,factory:E.\u0275fac})}}return E})();f=_;var I=t(3347),P=t(4950),T=t(4646);function R(E,A){if(1&E&&(e.j41(0,"mat-option",9)(1,"strong"),e.EFF(2),e.k0s(),e.nrm(3,"br"),e.EFF(4),e.k0s()),2&E){const g=A.$implicit;e.Y8G("value",g.name),e.R7$(2),e.Lme("",g.name," v",g.version,""),e.R7$(2),e.SpI(" ",g.description," ")}}function M(E,A){1&E&&e.nrm(0,"mat-hint",10),2&E&&e.Y8G("innerHTML",A.descriptionHtml,e.npT)}function S(E,A){if(1&E){const g=e.RV6();e.j41(0,"mat-form-field",3)(1,"mat-label"),e.EFF(2,"Generator"),e.k0s(),e.j41(3,"mat-select",8),e.mxI("valueChange",function(D){e.eBV(g);const y=e.XpG();return e.DH7(y.selectedGenerator,D)||(y.selectedGenerator=D),e.Njj(D)}),e.j41(4,"mat-select-trigger"),e.EFF(5),e.k0s(),e.Z7z(6,R,5,4,"mat-option",9,e.fX1),e.k0s(),e.DNE(8,M,1,1,"mat-hint",10),e.nI1(9,"async"),e.k0s(),e.nrm(10,"br")}if(2&E){let g;const C=e.XpG();e.R7$(3),e.R50("value",C.selectedGenerator),e.R7$(2),e.SpI(" ",C.selectedGenerator," "),e.R7$(),e.Dyx(A.sort()),e.R7$(2),e.vxM((g=e.bMT(9,3,C.selectedGenerator$))?8:-1,g)}}function L(E,A){if(1&E&&(e.j41(0,"mat-option",9)(1,"strong"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&E){const g=A.$implicit;e.Y8G("value",g.name),e.R7$(2),e.JRh(g.label),e.R7$(),e.SpI(" (",g.description,") ")}}function j(E,A){if(1&E){const g=e.RV6();e.j41(0,"mat-form-field",3)(1,"mat-label"),e.EFF(2,"Select an Edition to generate code for"),e.k0s(),e.j41(3,"mat-select",8),e.mxI("valueChange",function(D){e.eBV(g);const y=e.XpG();return e.DH7(y.selectedEdition,D)||(y.selectedEdition=D),e.Njj(D)}),e.Z7z(4,L,4,3,"mat-option",9,e.fX1),e.k0s(),e.j41(6,"mat-hint"),e.EFF(7," Editions are managed in the "),e.j41(8,"code"),e.EFF(9,"/App_Data/app.json"),e.k0s(),e.EFF(10," file. See "),e.j41(11,"a",11),e.EFF(12,"docs"),e.k0s(),e.EFF(13,". "),e.k0s()()}if(2&E){const g=e.XpG();e.R7$(3),e.R50("value",g.selectedEdition),e.R7$(),e.Dyx(A.sort())}}let x=(()=>{class E{constructor(g,C,D){this.http=g,this.context=C,this.snackBar=D,this.outputType=(0,e.hFB)(),this.title=(0,e.hFB)("Copilot Generator"),this.copilotSvc=(0,p.d)(_),this.webApiGeneratedCode="admin/code/generateDataModels",this.editions$=this.copilotSvc.getEditions(),this.generators$=this.copilotSvc.getGenerators().pipe((0,o.T)(y=>y.filter(O=>O.outputType===this.outputType()))),this.selectedGenerator$=this.generators$.pipe((0,o.T)(y=>y.find(O=>O.name===this.selectedGenerator))),this.selectedGenerator="",this.selectedEdition=""}ngOnInit(){this.generators$.pipe((0,d.s)(1)).subscribe(g=>{this.selectedGenerator=g[0]?.name??""}),this.copilotSvc.specs.pipe((0,d.s)(1)).subscribe(g=>{this.selectedEdition=g.editions.find(C=>C.isDefault)?.name??""})}autoGeneratedCode(){this.http.get(this.webApiGeneratedCode,{params:{appId:this.context.appId.toString(),edition:this.selectedEdition,generator:this.selectedGenerator}}).subscribe(g=>{console.log(g),this.snackBar.open(g.message+`\n (this took ${g.timeTaken}ms)`,null,{duration:5e3})})}static{this.\u0275fac=function(C){return new(C||E)(e.rXU(h.Qq),e.rXU(n.o),e.rXU(I.UG))}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["app-copilot-generator"]],inputs:{outputType:[1,"outputType"],title:[1,"title"]},decls:21,vars:7,consts:[[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],["color","accent",1,"eav-mat-form-field"],[1,"eav-card-space-div"],["align","end"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["required","",3,"valueChange","value"],[3,"value"],[3,"innerHTML"],["href","https://go.2sxc.org/app-json","target","_blank"]],template:function(C,D){if(1&C&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),e.EFF(4),e.k0s(),e.j41(5,"mat-icon"),e.EFF(6,"support_agent"),e.k0s()(),e.j41(7,"mat-card-content"),e.nrm(8,"br"),e.DNE(9,S,11,5),e.nI1(10,"async"),e.nrm(11,"br"),e.DNE(12,j,14,1,"mat-form-field",3),e.nI1(13,"async"),e.k0s(),e.nrm(14,"div",4),e.j41(15,"mat-card-actions",5)(16,"button",6),e.bIt("click",function(){return D.autoGeneratedCode()}),e.j41(17,"mat-icon",7),e.EFF(18,"code"),e.k0s(),e.j41(19,"span"),e.EFF(20,"Generate Code"),e.k0s()()()()()),2&C){let y,O;e.R7$(4),e.JRh(D.title()),e.R7$(5),e.vxM((y=e.bMT(10,3,D.generators$))?9:-1,y),e.R7$(3),e.vxM((O=e.bMT(13,5,D.editions$))?12:-1,O)}},dependencies:[u.Ve,P.rl,P.nJ,P.MV,u.VO,u.$2,T.wT,i.Hl,i.$z,c.Hu,c.RN,c.YY,c.m2,c.MM,c.dh,m.m_,m.An,s.MD,s.Jj],encapsulation:2})}}return E})();var F=t(2159);let U=(()=>{class E{constructor(g){this.data=g.snapshot.data}static{this.\u0275fac=function(C){return new(C||E)(e.rXU(F.nX))}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["app-data-copilot"]],decls:6,vars:4,consts:[[1,"outer-container"],[3,"outputType","title"]],template:function(C,D){1&C&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2),e.k0s(),e.j41(3,"p"),e.EFF(4),e.k0s()(),e.nrm(5,"app-copilot-generator",1)),2&C&&(e.R7$(2),e.JRh(D.data.heading),e.R7$(2),e.SpI(" ",D.data.intro," "),e.R7$(),e.Y8G("outputType",D.data.outputType)("title",D.data.title))},dependencies:[x],styles:[".outer-container[_ngcontent-%COMP%]{padding:10px 20px}"]})}}return E})()},2620:(v,l,t)=>{t.d(l,{y:()=>s});class s{refresh(i){return!0}}},8362:(v,l,t)=>{t.d(l,{l:()=>m});var s=t(7580),e=t(271),i=t(1772),c=t(6474);let m=(()=>{class u extends c.D{getStackSig(d,p,n,a=!1){const r=(0,s.vPA)([]);return this.getAndWrite(i.u+"GetStack",{params:{appId:this.appId,part:d,...p&&{key:p},...n&&{view:n}}},r),(0,s.EWP)(()=>a?r().map(h=>({...h,_value:JSON.stringify(h.Value)})):r())}getStack(d,p,n,a=!1){return this.getHttp(i.u+"GetStack",{params:{appId:this.appId,part:d,...p&&{key:p},...n&&{view:n}}}).pipe((0,e.T)(r=>{if(!a)return r;for(const h of r)h._value=JSON.stringify(h.Value);return r}))}static{this.\u0275fac=(()=>{let d;return function(n){return(d||(d=s.xGo(u)))(n||u)}})()}static{this.\u0275prov=s.jDH({token:u,factory:u.\u0275fac})}}return u})()},1423:(v,l,t)=>{t.d(l,{g:()=>o});var s=t(4646),e=t(2938),i=t(4601),c=t(4038),m=t(5081),u=t(7580);let o=(()=>{class d{constructor(){this.clipboard=(0,e.d)(m.W)}agInit(n){this.value=n.value}refresh(n){return!0}copy(n){n=c.i.tryParse(n)??n,this.clipboard.copyToClipboard(n)}static{this.\u0275fac=function(a){return new(a||d)}}static{this.\u0275cmp=u.VBU({type:d,selectors:[["app-analyze-settings-value"]],decls:3,vars:2,consts:[["matRipple","",1,"value-box","highlight",3,"click","tippy"],[1,"value"]],template:function(a,r){1&a&&(u.j41(0,"div",0),u.bIt("click",function(){return r.copy(r.value)}),u.j41(1,"span",1),u.EFF(2),u.k0s()()),2&a&&(u.Y8G("tippy",r.value),u.R7$(2),u.JRh(r.value))},dependencies:[s.pZ,s.r6,i.e],styles:[".value-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.value-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}}return d})()},3583:(v,l,t)=>{t.d(l,{U:()=>p});var s=t(6474),e=t(7580);const u="admin/app/app";let p=(()=>{class n extends s.D{getAll(){return this.getSignal("admin/app/list",{params:{zoneId:this.zoneId}})}getInheritable(){return this.getSignal("admin/app/InheritableApps",{params:{zoneId:this.zoneId}})}getPendingApps(){return this.getSignal("admin/app/GetPendingApps",{params:{zoneId:this.zoneId}})}create(r,h,f){return this.http.post(this.apiUrl(u),{},{params:{zoneId:this.zoneId,name:r,...null!=h&&{inheritAppId:h},...null!=f&&{templateId:f}}})}installPendingApps(r){return this.http.post(this.apiUrl("admin/app/InstallPendingApps"),r,{params:{zoneId:this.zoneId}})}delete(r){return this.http.delete(this.apiUrl(u),{params:{zoneId:this.zoneId,appId:r.toString()}})}flushCache(r){return this.getHttpApiUrl("admin/app/flushcache",{params:{zoneId:this.zoneId,appId:r.toString()}})}static{this.\u0275fac=(()=>{let r;return function(f){return(r||(r=e.xGo(n)))(f||n)}})()}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})()},3992:(v,l,t)=>{t.d(l,{b:()=>p});var s=t(271),e=t(3550),i=t(6474),c=t(7580);const o="sys/license/Summary";let p=(()=>{class n extends i.D{saveFeatures(r){return this.http.post(this.apiUrl("admin/feature/SaveNew"),r)}getLicenses(){return this.getHttpApiUrl(o)}getLicensesSig(){return this.getSignal(o)}uploadLicense(r){const h=new FormData;return h.append("File",r),this.http.post(this.apiUrl("sys/license/Upload"),h).pipe((0,s.T)(f=>({Success:f.Success,Messages:[{MessageType:f.Success?e.G1.Success:e.G1.Error,Text:`License ${f.Success?"uploaded":"upload failed"}: ${f.Message}`}]})))}retrieveLicense(){return this.getHttpApiUrl("sys/license/Retrieve")}static{this.\u0275fac=(()=>{let r;return function(f){return(r||(r=c.xGo(n)))(f||n)}})()}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac})}}return n})()},7130:(v,l,t)=>{t.d(l,{U:()=>o});var s=t(6474),e=t(7580);let o=(()=>{class d extends s.D{getLanguage(n){return this.getSignal("admin/zone/GetLanguages",{},n)}toggleLanguage(n,a){return this.getHttpApiUrl("admin/zone/SwitchLanguage",{params:{cultureCode:n,enable:a.toString()}})}getSystemInfo(n){return this.getSignal("admin/zone/GetSystemInfo",{},n)}getLanguagesPermissions(n){return this.getSignal("admin/app/languages",{params:{appId:this.appId}},n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=e.xGo(d)))(r||d)}})()}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}}return d})()},4350:(v,l,t)=>{t.r(l),t.d(l,{ContentExportRoutes:()=>c});var s=t(5544),e=t(9204);const c=[{path:"",component:s.DialogEntryComponent,data:{dialog:{name:"EXPORT_CONTENT_TYPE_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ContentExportComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-export_content-export_component_ts")]).then(t.bind(t,5727));return m})()}}}]},6360:(v,l,t)=>{t.d(l,{D:()=>d});var s=t(6474),e=t(7580);let d=(()=>{class p extends s.D{exportContent(a,r){const h=r?"&selectedids="+r.join():"",f=this.apiUrl("admin/entity/Download")+"?appId="+this.appId+"&language="+a.language+"&defaultLanguage="+a.defaultLanguage+"&contentType="+a.contentTypeStaticName+"&recordExport="+a.recordExport+"&resourcesReferences="+a.resourcesReferences+"&languageReferences="+a.languageReferences+h;window.open(f,"_blank","")}exportJson(a){const r=this.apiUrl("admin/type/Json")+"?appId="+this.appId+"&name="+a;window.open(r,"_blank","")}exportEntity(a,r,h){const f=this.apiUrl("admin/entity/Json")+"?appId="+this.appId+"&id="+a+"&prefix="+r+"&withMetadata="+h;window.open(f,"_blank","")}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=e.xGo(p)))(h||p)}})()}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},3031:(v,l,t)=>{t.r(l),t.d(l,{contentImportRoutes:()=>c});var s=t(5544),e=t(9204);const c=[{path:"",component:s.DialogEntryComponent,data:{dialog:{name:"IMPORT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ContentImportComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("projects_eav-ui_src_app_content-import_content-import_component_ts")]).then(t.bind(t,2795));return m})()}}}]},753:(v,l,t)=>{t.r(l),t.d(l,{contentItemsRoutes:()=>o});var s=t(3454),e=t(5544),i=t(9204);const c={name:"IMPORT_CONTENT_ITEM_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,i.A)(function*(){const{ImportContentItemComponent:d}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts")]).then(t.bind(t,6754));return d})()},m={name:"CONTENT_ITEMS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,i.A)(function*(){const{ContentItemsComponent:d}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_content-items_component_ts")]).then(t.bind(t,7730));return d})()};var u=t(1195);const o=[{path:"",component:e.DialogEntryComponent,data:{dialog:m},children:[...s.H.getRoutes(),{path:"export/:contentTypeStaticName",loadChildren:()=>t.e("common").then(t.bind(t,4350)).then(d=>d.ContentExportRoutes)},{path:"export/:contentTypeStaticName/:selectedIds",loadChildren:()=>t.e("common").then(t.bind(t,4350)).then(d=>d.ContentExportRoutes)},{path:"import",component:e.DialogEntryComponent,data:{dialog:c}},{path:":contentTypeStaticName/import",loadChildren:()=>t.e("common").then(t.bind(t,3031)).then(d=>d.contentImportRoutes),data:{title:"Import Items"}},...u.RD]}]},5733:(v,l,t)=>{t.r(l),t.d(l,{contentTypeFieldsRoutes:()=>d});var s=t(1195),e=t(3454),i=t(2437),c=t(5544),m=t(9204);const o={name:"EDIT_CONTENT_TYPE_FIELDS_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,m.A)(function*(){const{EditContentTypeFieldsComponent:p}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_edit-content-type-fields_edit-content-type-fields-974b18")]).then(t.bind(t,5604));return p})()},d=[{path:"",component:c.DialogEntryComponent,data:{dialog:{name:"CONTENT_TYPE_FIELDS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,m.A)(function*(){const{ContentTypeFieldsComponent:p}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_services_clipboard_service_ts-node_modules_angular_mat-15cf82"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-projects_eav-ui_src_app_features_feature-icon-text_feature-icon-text_component_ts-pro-ffb1c9"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts")]).then(t.bind(t,5715));return p})()}},children:[{path:"add/:contentTypeStaticName",component:c.DialogEntryComponent,data:{dialog:o}},{path:"update/:contentTypeStaticName/:id/:editMode",component:c.DialogEntryComponent,data:{dialog:o}},...e.H.getRoutes(),i.k.route,...s.RD]}]},5160:(v,l,t)=>{t.d(l,{O:()=>i});var s=t(7580),e=t(4456);let i=(()=>{class c{constructor(){this.appReservedNames=(0,s.hFB)({})}validate(u){if(!u.value)return null;const o=u.value.toLocaleLowerCase(),d=Object.keys(this.appReservedNames()).find(p=>p.toLocaleLowerCase()===o);return d?{reservedNames:this.appReservedNames()[d]}:null}static mergeReserved(u,o){const d={};return o.forEach(p=>{d[p.StaticName]="this field already exists"}),{...u,...d}}static{this.\u0275fac=function(o){return new(o||c)}}static{this.\u0275dir=s.FsC({type:c,selectors:[["","appReservedNames",""]],inputs:{appReservedNames:[1,"appReservedNames"]},features:[s.Jv_([{provide:e.cz,useExisting:c,multi:!0}])]})}}return c})()},6068:(v,l,t)=>{t.d(l,{g:()=>s.g});var s=t(4029)},6740:(v,l,t)=>{t.d(l,{z:()=>e});const e=t(6619).c.production?[]:["ViewController"]},8857:(v,l,t)=>{t.d(l,{a:()=>d});var s=t(2434),e=t(4435),i=t(6740),c=t(6953),m=t(8275);const u={all:!0,constructor:!1,markTouched:!1,set:!1,disable:!1,getErrors:!0,fields:[...i.z,"*"]},o="ValidationMessage.";class d{constructor(n,a="unknown",r=!1){this.control=n,this.name=a,this.moreDisabled=r,this.log=(0,e.Tq)({UiControl:d},u),this.#t={jsonWarning:`${o}JsonWarning`,formulaWarning:`${o}NotValid`},this.control??={dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1},this.log.extendName(`[${a}]`),this.log.aIfInList("fields",this.name,{moreDisabled:r},"constructor")}static emptyControl(){return new d({dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1})}get dirty(){return this.control.dirty}get invalid(){return this.control.invalid}get touched(){return this.control.touched}get disabled(){return this.control.disabled||this.moreDisabled}get touchedAndInvalid(){return this.control.touched&&this.control.invalid}markTouched(){this.log.aIfInList("fields",this.name,null,"markTouched"),d.markTouched(this.control)}setIfChanged(n){this.log.aIfInList("fields",this.name,{before:this.control.value,newValue:n},"setIfChanged"),!(0,s.A)(n,this.control.value)&&this.#e(n)}#e(n){const a=this.control,r=a.value;this.log.aIfInList("fields",this.name,{before:r,newValue:n},"set"),a.touched||a.markAsTouched(),!a.dirty&&!c.$.fieldValuesAreEqual(r,n)&&a.markAsDirty(),a.patchValue(n)}disable(n){this.log.aIfInList("fields",this.name,null,`disable: ${n}`),d.disable(this.control,n)}static markTouched(n){n.touched||(n.markAsTouched(),n.updateValueAndValidity())}static disable(n,a){n.disabled!==a&&(a?n.disable():n.enable())}getErrors(){const n=this.control,a=n.errors,r=this.log.fnIfInList("getErrors","fields",this.name,{control:n,name:this.name});if(!n.invalid)return r.r("","valid");if(!n.dirty&&!n.touched)return r.r("","not dirty or touched");for(const h of Object.keys(a)){const f="formulaError"===h?n.errors.formulaMessage??m.n.messages[h]?.(!0):m.n.messages[h]?.(!0);if(f)return r.r(f,"error found")}return r.r("","no error")}#t;getWarnings(){const n=this.control;if(null==n._warning||!n.dirty&&!n.touched)return"";let a="";for(const r of Object.keys(n._warning))if(a="formulaWarning"===r?n._warning.formulaMessage??this.#t[r]:this.#t[r],a)break;return a}}},6953:(v,l,t)=>{t.d(l,{$:()=>e});var s=t(3826);class e{static fieldValuesAreEqual(c,m){return!!(c===m||"number"==typeof c&&"number"==typeof m&&isNaN(c)&&isNaN(m)||Array.isArray(c)&&Array.isArray(m)&&s.a.arraysEqual(c,m))}static getItemValuesChanges(c,m){const u={};for(const o of Object.keys(m)){const d=m[o];e.fieldValuesAreEqual(d,c[o])||(u[o]=d)}return 0===Object.keys(u).length?void 0:u}}},8275:(v,l,t)=>{t.d(l,{n:()=>c});var s=t(8857);const e="ValidationMessage.",i="ValidationMessage.NotValid";let c=(()=>{class m{static{this.messages={required:o=>o?`${e}Required`:`${e}RequiredShort`,min:o=>o?`${e}Min`:i,max:o=>o?`${e}Max`:i,minNoItems:o=>o?`${e}MinNoItems`:i,maxNoItems:o=>o?`${e}MaxNoItems`:i,pattern:o=>o?`${e}Pattern`:i,decimals:o=>o?`${e}Decimals`:i,jsonError:o=>o?`${e}JsonError`:i,formulaError:o=>i}}static validateForm(o){const d={};for(const[p,n]of Object.entries(o.controls))if(s.a.markTouched(n),n.invalid)for(const a of Object.keys(n.errors))if(d[p]=this.messages[a]?.(!1),d[p])break;return d}}return m})()},7903:(v,l,t)=>{t.r(l),t.d(l,{importRoutes:()=>c});var s=t(5544),e=t(9204);const c=[{path:"",component:s.DialogEntryComponent,data:{dialog:{name:"IMPORT_APP_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ImportAppComponent:m}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("projects_eav-ui_src_app_import-app_import-app_component_ts")]).then(t.bind(t,781));return m})()}}}]},6860:(v,l,t)=>{t.r(l),t.d(l,{historyRoutes:()=>c});var s=t(5544),e=t(9204);const c=[{path:"",component:s.DialogEntryComponent,data:{dialog:{name:"ITEM_HISTORY_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ItemHistoryComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),t.e("projects_eav-ui_src_app_item-history_item-history_component_ts")]).then(t.bind(t,9642));return m})()},title:"Item History"}}]},9669:(v,l,t)=>{t.d(l,{y:()=>c});var s=t(6474),e=t(7580);const i="cms/contentgroup/";let c=(()=>{class m extends s.D{getItems(o){return this.getHttpApiUrl(i+"replace",{params:{appId:this.appId,guid:o.guid,part:o.part,index:o.index.toString()}})}saveItem(o){return this.http.post(this.apiUrl(i+"replace"),{},{params:{guid:o.guid,part:o.part,index:o.index.toString(),entityId:o.id.toString(),add:`${o.add}`}})}removeItem(o,d){return this.http.delete(this.apiUrl("cms/list/delete"),{params:{index:d,parent:o.guid,fields:o.part}})}getList(o){return this.getHttpApiUrl(i+"itemlist",{params:{appId:this.appId,guid:o.guid,part:o.part}})}saveList(o,d){return this.http.post(this.apiUrl(i+"itemlist"),d,{params:{appId:this.appId,guid:o.guid,part:o.part}})}getHeader(o,d){return this.getSignal(i+"header",{params:{appId:this.appId,guid:o.guid}},d)}static{this.\u0275fac=(()=>{let o;return function(p){return(o||(o=e.xGo(m)))(p||m)}})()}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},318:(v,l,t)=>{t.r(l),t.d(l,{replaceContentRoutes:()=>m});var s=t(5544),e=t(9204);const i={name:"REPLACE_CONTENT_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,e.A)(function*(){const{ReplaceContentComponent:u}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_replace-content_replace-content_component_ts-node_modules_rxjs_dist_e-178ebb")]).then(t.bind(t,4513));return u})()};var c=t(1195);const m=[{path:"",component:s.DialogEntryComponent,data:{dialog:i},children:[...c.Ed]}]},5544:(v,l,t)=>{t.r(l),t.d(l,{DialogEntryComponent:()=>u});var s=t(4435),e=t(8873),i=t(7580),c=t(7941),m=t(2159);let u=(()=>{class o{#e;#t;constructor(p,n,a,r,h,f,_){this.matDialog=p,this.viewContainerRef=n,this.router=a,this.route=r,this.context=h,this.changeDetectorRef=f,this.injector=_,this.log=(0,s.Tq)({DialogEntryComponent:o});const I=this.router.getCurrentNavigation();this.#e=I?.extras?.state||{}}ngOnInit(){const p=this.log.fn("ngOnInit"),n=this.route.snapshot.data.dialog;if(null==n)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");p.a("Open dialog: "+n.name,{id:this.context.id,context:this.context}),n.getComponent(this.injector).then(a=>{const r=this.matDialog;r._dialogAnimatingOpen&&r._lastDialogRef?r._lastDialogRef.afterOpened().subscribe(()=>this.openDialogComponent(n,a)):this.openDialogComponent(n,a)})}ngOnDestroy(){this.#t.close()}openDialogComponent(p,n){this.log.a(`Open dialog(initContext: ${p.initContext})`,{name:p.name,"Contextid:":this.context.log.svcId,"Context:":this.context}),p.initContext&&this.context.init(this.route),this.#t=this.matDialog.open(n,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.#e,panelClass:["dialog-panel",`dialog-panel-${p.panelSize}`,p.showScrollbar?"show-scrollbar":"no-scrollbar",...p.panelClass?p.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.#t.afterClosed().subscribe(a=>{this.log.a("Dialog was closed - name:"+p.name,{data:a});const r=a;if(null==r?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:a}:{relativeTo:this.route.parent.parent,state:a});else this.router.navigate([r.navigateUrl])}),this.changeDetectorRef.markForCheck()}static{this.\u0275fac=function(n){return new(n||o)(i.rXU(c.bZ),i.rXU(i.c1b),i.rXU(m.Ix),i.rXU(m.nX),i.rXU(e.o),i.rXU(i.gRc),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:o,selectors:[["app-dialog-entry"]],features:[i.Jv_([e.o])],decls:0,vars:0,template:function(n,a){},encapsulation:2})}}return o})()},9417:(v,l,t)=>{function s(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}t.d(l,{L:()=>s})},4038:(v,l,t)=>{t.d(l,{i:()=>s});class s{static tryParse(i){try{return JSON.parse(i)}catch{}}}},3518:(v,l,t)=>{function s(e,i,c=0){const u=e.length===c+1?i:s.bind(this,e,i,c+1),o=e[c],d="string"==typeof o.test?o.test:null,p="function"==typeof o.test?o.test:null,n=window;null!=d&&n[d]||null!=p&&p()?i():window.require([o.src],a=>{a&&!n[d]&&(n[d]=a),u()})}t.d(l,{P:()=>s})},1477:(v,l,t)=>{function s(e){try{const i=e?.Api;if(!i)return;const m={...window.$2sxc.env.header,appApi:i};window.$2sxc.env.load(m)}catch{}}t.d(l,{W:()=>s})},6666:(v,l,t)=>{t.d(l,{F:()=>s});const s={App:"App",Site:"Site",Global:"Global"}},2785:(v,l,t)=>{t.d(l,{o:()=>u});var s=t(7567),e=t(8172),i=t(334),c=t(6474),m=t(7580);let u=(()=>{class o extends c.D{openCodeFile(p,n,a){const r=s.Y.Develop,h={items:[{Path:p,...null!=a&&i.c.editId(a)}]},f={...this.buildHashParam(e.Q$,r),...this.buildHashParam(e.P3,n.toString()),...this.buildHashParam(e.Ul,JSON.stringify(h.items))},_=this.buildFullUrl(f);window.open(_,"_blank")}openQueryDesigner(p){const n=s.Y.PipelineDesigner,a={items:[i.c.editId(p)]},r={...this.buildHashParam(e.Q$,n),...this.buildHashParam(e.Xw,p.toString()),...this.buildHashParam(e.Ul,JSON.stringify(a.items))},h=this.buildFullUrl(r);window.open(h,"_blank")}openAppsManagement(p,n){const a={...n&&{tab:n}},r={...this.buildHashParam(e.v4,p.toString()),...this.buildHashParam(e.Q$,s.Y.Zone),...Object.keys(a).length?this.buildHashParam(e.z0,JSON.stringify(a)):""},h=this.buildFullUrl(r);window.open(h,"_blank")}openAppAdministration(p,n,a,r){const h={...a&&{tab:a},...r&&{scope:r}},f={...this.buildHashParam(e.v4,p.toString()),...this.buildHashParam(e.K7,n.toString()),...this.buildHashParam(e.Q$,s.Y.App),...Object.keys(h).length?this.buildHashParam(e.z0,JSON.stringify(h)):""},_=this.buildFullUrl(f);window.open(_,"_blank")}buildSharedHashParams(){return{...this.buildHashParam(e.v4,this.zoneId),...this.buildHashParam(e.K7,this.appId),...this.buildHashParam(e.Zm,this.context.moduleId?.toString()),...this.buildHashParam(e.p$,this.context.contentBlockId?.toString()),...this.buildHashParam(e.h9),...sessionStorage.getItem(e.tn)?this.buildHashParam(e.tn):{}}}buildHashParam(p,n){const a=p.replace(e.Pl,""),r=n??sessionStorage.getItem(p),h=encodeURIComponent(r);return{[a]:h}}buildFullUrl(p){const n=sessionStorage.getItem(e.zX),a=new URL(n),r=a.origin+a.pathname+a.search,h={...this.buildSharedHashParams(),...p};return r+Object.entries(h).reduce((_,[I,P])=>`${_}&${I}=${P}`,"").replace("&","#")}static{this.\u0275fac=(()=>{let p;return function(a){return(p||(p=m.xGo(o)))(a||o)}})()}static{this.\u0275prov=m.jDH({token:o,factory:o.\u0275fac})}}return o})()},3143:(v,l,t)=>{t.d(l,{$:()=>c});var s=t(9923),e=t(819);const i=(m,u)=>(m.push(u),m);function c(){return(0,e.N)((m,u)=>{(0,s.T)(i,[])(m).subscribe(u)})}}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.02/dist/ng-edit/common.884a3c96624585a9.js.map
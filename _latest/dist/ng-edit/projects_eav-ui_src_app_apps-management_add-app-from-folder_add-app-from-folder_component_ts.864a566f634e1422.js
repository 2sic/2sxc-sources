"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts"],{1205:(I,f,n)=>{n.r(f),n.d(f,{AddAppFromFolderComponent:()=>N});var d=n(253),i=n(4874),t=n(2673),v=n(3158),T=n(745),y=n(1203),O=n(5457),Z=n(4153),D=n(5446),e=n(3184),g=n(5590),C=n(6190);let p=(()=>{class s{agInit(o){this.name=o.value,this.tooltip=o.tooltipGetter(o.data)}refresh(o){return!0}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-app-name-show"]],decls:5,vars:2,consts:[[1,"name-box"],[1,"info-icon",3,"tippy"]],template:function(o,l){1&o&&(e.TgZ(0,"div",0)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"mat-icon",1),e._uU(4,"info"),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(l.name),e.xp6(1),e.Q6J("tippy",l.tooltip))},directives:[g.Hw,C.$],styles:[".name-box[_ngcontent-%COMP%]{display:flex;align-items:center}.info-icon[_ngcontent-%COMP%]{margin-left:7px;margin-bottom:3px}"]}),s})(),x=(()=>{class s{agInit(o){this.params=o}refresh(o){return!0}onChange(o){this.params.onChange(this.params.data,o.currentTarget.checked)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-checkbox-cell"]],decls:2,vars:2,consts:[[1,"checkbox-box"],["type","checkbox",1,"checkbox-input",3,"disabled","checked","change"]],template:function(o,l){1&o&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("change",function(b){return l.onChange(b)}),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("disabled",l.params.isDisabled)("checked",l.params.value))},styles:[".checkbox-box[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.checkbox-input[_ngcontent-%COMP%]{height:15px;width:15px}"]}),s})();var A=n(5758),E=n(2528),M=n(5916),S=n(6362),r=n(9669),c=n(1350),a=n(7317);function h(s,u){1&s&&(e.TgZ(0,"p",4),e._uU(1," No apps found which are not already installed. "),e.qZA())}function _(s,u){if(1&s&&(e.TgZ(0,"div",10),e._UZ(1,"ag-grid-angular",11),e.qZA()),2&s){const o=e.oxw().ngIf,l=e.oxw();e.xp6(1),e.Q6J("rowData",o.pendingApps)("gridOptions",l.gridOptions)}}function F(s,u){if(1&s){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e._uU(3,"Add App from Folder BETA"),e.qZA()(),e._UZ(4,"app-feature-text-info",3),e.TgZ(5,"p",4),e._uU(6," Select an app from the apps-folder which has been copied there (or git-cloned) but not installed yet. "),e.qZA(),e.YNc(7,h,2,0,"p",5),e.YNc(8,_,2,2,"div",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return e.CHM(o),e.oxw().closeDialog()}),e._uU(11," Cancel "),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return e.CHM(o),e.oxw().install()}),e._uU(13," Install "),e.qZA()(),e.BQk()}if(2&s){const o=u.ngIf,l=e.oxw();e.xp6(4),e.Q6J("featureNameId","AppSyncWithSiteFiles"),e.xp6(3),e.Q6J("ngIf",0==(null==o.pendingApps?null:o.pendingApps.length)),e.xp6(1),e.Q6J("ngIf",(null==o.pendingApps?null:o.pendingApps.length)>0),e.xp6(4),e.Q6J("disabled",0===l.pendingApps.length||l.installing)}}const P=function(s){return{pendingApps:s}};let N=(()=>{class s{constructor(o,l,m,b){this.dialogRef=o,this.appsListService=l,this.snackBar=m,this.featuresService=b,this.hostClass="dialog-component",this.gridOptions=this.buildGridOptions(),this.refreshApps$=new d.x,this.pendingApps=[],this.installing=!1}ngOnInit(){this.pendingApps$=this.refreshApps$.pipe((0,i.O)(void 0),(0,t.w)(()=>this.appsListService.getPendingApps().pipe((0,v.K)(()=>(0,T.of)(void 0)))),(0,y.B)()),this.isAddFromFolderEnabled=this.featuresService.isEnabled(O.C.AppSyncWithSiteFiles)}ngOnDestroy(){this.refreshApps$.complete()}closeDialog(){this.dialogRef.close()}onChange(o,l){l?this.pendingApps.push(o):this.pendingApps.splice(this.pendingApps.indexOf(o),1)}install(){this.installing=!0,this.snackBar.open("Installing",void 0,{duration:2e3}),this.appsListService.installPendingApps(this.pendingApps).subscribe({error:()=>{this.installing=!1,this.snackBar.open("Failed to install app. Please check console for more information",void 0,{duration:3e3})},next:()=>{this.installing=!1,this.snackBar.open("Installed app",void 0,{duration:2e3}),this.closeDialog()}})}buildGridOptions(){return Object.assign(Object.assign({},Z.f),{columnDefs:[{field:"",width:40,cellClass:"no-outline",sortable:!0,cellRenderer:x,cellRendererParams:()=>({isDisabled:!this.isAddFromFolderEnabled,onChange:(m,b)=>this.onChange(m,b)})},{field:"Name",flex:1,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter",cellRenderer:p,cellRendererParams:{tooltipGetter:m=>`Server folder: ${m.ServerFolder}\nFolder: ${m.Folder}\nVersion: ${m.Version}\nDescription: ${m.Description}`}}]})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(A.so),e.Y36(D.A),e.Y36(E.ux),e.Y36(M.k))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-add-app-from-folder"]],hostVars:1,hostBindings:function(o,l){2&o&&e.Ikx("className",l.hostClass)},decls:2,vars:5,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[3,"featureNameId"],[1,"dialog-description"],["class","dialog-description",4,"ngIf"],["class","grid-wrapper",4,"ngIf"],[1,"dialog-component-actions"],["type","button","mat-raised-button","",3,"click"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[1,"grid-wrapper"],[1,"ag-theme-material",2,"height","200px","width","auto",3,"rowData","gridOptions"]],template:function(o,l){1&o&&(e.YNc(0,F,14,4,"ng-container",0),e.ALo(1,"async")),2&o&&e.Q6J("ngIf",e.VKq(3,P,e.lcZ(1,1,l.pendingApps$)))},directives:[S.O5,A.uh,r.B,c.N8,a.lW],pipes:[S.Ov],styles:[""]}),s})()},5457:(I,f,n)=>{n.d(f,{C:()=>d});const d={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle"}},9669:(I,f,n)=>{n.d(f,{B:()=>e});var d=n(1329),i=n(3184),t=n(5758),v=n(5916),T=n(6362),y=n(6190),O=n(5590),Z=n(7514);function D(g,C){if(1&g){const p=i.EpF();i.TgZ(0,"div",1),i.NdJ("click",function(){return i.CHM(p),i.oxw().openDialog()}),i.ALo(1,"translate"),i.TgZ(2,"mat-icon",2),i._uU(3,"warning"),i.qZA(),i.TgZ(4,"div",3)(5,"div",4),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"div",5),i._uU(9),i.ALo(10,"translate"),i.qZA()()()}if(2&g){const p=i.oxw();i.Q6J("tippy",i.xi3(1,3,"Features.Tooltip",p.featureSummary)),i.xp6(6),i.Oqu(i.lcZ(7,6,"Features.FeatureNotActivated")),i.xp6(3),i.Oqu(i.lcZ(10,8,"Features.ClickToFindOutMore"))}}let e=(()=>{class g extends d.s{constructor(p,x,A){super(p,x,A)}ngOnInit(){super.ngOnInit(),this.featureSummary=this.featuresService.getFeature(this.featureNameId)}}return g.\u0275fac=function(p){return new(p||g)(i.Y36(t.uw),i.Y36(i.s_b),i.Y36(v.k))},g.\u0275cmp=i.Xpm({type:g,selectors:[["app-feature-text-info"]],features:[i.qOj],decls:1,vars:1,consts:[["class","feature-text-info",3,"tippy","click",4,"ngIf"],[1,"feature-text-info",3,"tippy","click"],[1,"feature-text-info-icon"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(p,x){1&p&&i.YNc(0,D,11,10,"div",0),2&p&&i.Q6J("ngIf",!x.featureOn)},directives:[T.O5,y.$,O.Hw],pipes:[Z.X$],styles:[".feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.feature-text-info-icon[_ngcontent-%COMP%]{font-size:45px;color:red;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content}"]}),g})()},1329:(I,f,n)=>{n.d(f,{s:()=>S});var d=n(5758),i=n(9673),t=n(3184),v=n(2528),T=n(3265),y=n(6362),O=n(7317),Z=n(6190),D=n(5590),e=n(1555),g=n(7514);function C(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"div",10)(4,"span",11),t.NdJ("click",function(){const F=t.CHM(a).ngIf;return t.oxw(2).copyToClipboard(F)}),t._uU(5),t.qZA()()()}if(2&r){const a=c.ngIf;t.xp6(4),t.Q6J("tippy",a),t.xp6(1),t.Oqu(a)}}function p(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"GUID"),t.qZA(),t.TgZ(3,"div",10)(4,"span",11),t.NdJ("click",function(){const F=t.CHM(a).ngIf;return t.oxw(2).copyToClipboard(F)}),t._uU(5),t.qZA()()()}if(2&r){const a=c.ngIf;t.xp6(4),t.Q6J("tippy",a),t.xp6(1),t.Oqu(a)}}function x(r,c){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8)(5,"span"),t._uU(6),t.qZA()()()),2&r){const a=c.ngIf;t.xp6(2),t.Oqu(t.lcZ(3,2,"Features.SecurityRating")),t.xp6(4),t.Oqu(a)}}function A(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return t.CHM(a),t.oxw().closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()()(),t._UZ(8,"p",4),t.ALo(9,"safeHtml"),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",8)(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t.YNc(19,C,6,2,"div",9),t.YNc(20,p,6,2,"div",9),t.YNc(21,x,7,4,"div",9),t.qZA()()}if(2&r){const a=c.ngIf;t.xp6(4),t.Oqu(a.Name),t.xp6(4),t.Q6J("innerHtml",t.lcZ(9,7,a.Description),t.oJD),t.xp6(5),t.Oqu(t.lcZ(14,9,"Features.Status")),t.xp6(4),t.Oqu(a.Enabled?"Features.Active":t.lcZ(18,11,"Features.NotActive")),t.xp6(2),t.Q6J("ngIf",a.NameId),t.xp6(1),t.Q6J("ngIf",a.Guid),t.xp6(1),t.Q6J("ngIf",a.Security.Impact+": "+a.Security.Message)}}let E=(()=>{class r{constructor(a,h,_,F){this.dialogData=a,this.dialogRef=h,this.snackBar=_,this.featureDetailService=F,this.feature$=this.featureDetailService.getFeatureDetails(a)}ngOnInit(){}copyToClipboard(a){(0,i.v)(a),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}closeDialog(){this.dialogRef.close()}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(d.WI),t.Y36(d.so),t.Y36(v.ux),t.Y36(T.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-feature-info-dialog"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"dialog-description",3,"innerHtml"],[1,"info-box"],[1,"info-row"],[1,"info-row__label"],[1,"info-row__value"],["class","info-row",4,"ngIf"],[1,"info-row__value","click"],[3,"tippy","click"]],template:function(a,h){1&a&&(t.YNc(0,A,22,13,"div",0),t.ALo(1,"async")),2&a&&t.Q6J("ngIf",t.lcZ(1,1,h.feature$))},directives:[y.O5,O.lW,Z.$,D.Hw],pipes:[y.Ov,e.z,g.X$],styles:[".info-box[_ngcontent-%COMP%]{margin-top:32px}.info-row[_ngcontent-%COMP%]{display:flex;overflow-wrap:anywhere;margin-top:4px;margin-bottom:4px;font-size:14px}.info-row__label[_ngcontent-%COMP%]{flex:1;font-weight:500}.info-row__value[_ngcontent-%COMP%]{flex:2}.info-row__value.click[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]}),r})();var M=n(5916);let S=(()=>{class r{constructor(a,h,_){this.dialog=a,this.viewContainerRef=h,this.featuresService=_,this.featureOn=!0}ngOnInit(){this.featureOn=this.featuresService.isEnabled(this.featureNameId)}openDialog(){this.dialog.open(E,{autoFocus:!1,data:this.featureNameId,viewContainerRef:this.viewContainerRef,width:"650px"})}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(d.uw),t.Y36(t.s_b),t.Y36(M.k))},r.\u0275dir=t.lG2({type:r,inputs:{featureNameId:"featureNameId"}}),r})()},4153:(I,f,n)=>{n.d(f,{f:()=>d});const d={accentedSort:!0,animateRows:!0,enableCellTextSelection:!0,headerHeight:32,suppressScrollOnNewData:!0,valueCache:!0,defaultColDef:{filterParams:{newRowsAction:"keep"}},tooltipShowDelay:0,tooltipHideDelay:1e5,suppressMovableColumns:!0}},9673:(I,f,n)=>{function d(i){const t=document.createElement("textarea");t.value=i,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const v=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),v&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(v))}n.d(f,{v:()=>d})}}]);
//# sourceMappingURL=https://sources.2sxc.org/15.00.00/ng-edit/projects_eav-ui_src_app_apps-management_add-app-from-folder_add-app-from-folder_component_ts.864a566f634e1422.js.map
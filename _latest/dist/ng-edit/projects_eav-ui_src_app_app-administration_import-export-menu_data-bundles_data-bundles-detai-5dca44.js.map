{"version":3,"file":"projects_eav-ui_src_app_app-administration_import-export-menu_data-bundles_data-bundles-detai-5dca44.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail-actions/data-bundles-detail-actions.component.html","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.ts","./projects/eav-ui/src/app/app-administration/import-export-menu/data-bundles/data-bundles-detail/data-bundles-detail.component.html"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { TippyDirective } from 'projects/eav-ui/src/app/shared/directives/tippy.directive';\r\nimport { DataBundlesDetailActionsParams, DataBundlesType } from './data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-data-bundle-actions',\r\n  templateUrl: './data-bundles-detail-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatMenuModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataBundlesDetailActionsComponent implements ICellRendererAngularComp {\r\n  item: ContentItem;\r\n\r\n  private params: ICellRendererParams & DataBundlesDetailActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & DataBundlesDetailActionsParams): void {\r\n    this.params = params;\r\n    this.item = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n\r\n  do(verb: DataBundlesType) {\r\n    this.params.do(verb, this.item);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Remove (not yet implemented)\" (click)=\"do('delete')\">\r\n    <mat-icon>do_not_disturb_on</mat-icon>\r\n  </div>\r\n</div>\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { transient } from 'projects/core';\r\nimport { ContentItem } from 'projects/eav-ui/src/app/content-items/models/content-item.model';\r\nimport { ColumnDefinitions } from 'projects/eav-ui/src/app/shared/ag-grid/column-definitions';\r\nimport { defaultGridOptions } from 'projects/eav-ui/src/app/shared/constants/default-grid-options.constants';\r\nimport { SxcGridModule } from 'projects/eav-ui/src/app/shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { switchMap, tap } from 'rxjs';\r\nimport { DataBundlesService } from '../data-bundles-query.service';\r\nimport { DataBundlesDetailActionsComponent } from './data-bundles-detail-actions/data-bundles-detail-actions.component';\r\nimport { DataBundlesDetailActionsParams } from './data-bundles-detail-actions/data-bundles-detail-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-data-bundles-detail',\r\n  standalone: true,\r\n  imports: [\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    SxcGridModule,\r\n  ],\r\n  templateUrl: './data-bundles-detail.component.html',\r\n  styleUrl: './data-bundles-detail.component.scss'\r\n})\r\nexport class DataBundlesDetailComponent {\r\n\r\n  #dataBundlesService = transient(DataBundlesService);\r\n  dataBundles = signal<ContentItem[]>(null);\r\n  dataBundleName = signal<string>(null);\r\n\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<DataBundlesDetailComponent>,\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  ngOnInit() {\r\n    this.route.params\r\n      .pipe(\r\n        tap(params => {\r\n          this.dataBundleName.set(params.name);\r\n        }),\r\n        switchMap(params => this.#dataBundlesService.fetchQuery(params.guid)),\r\n        tap(d => this.dataBundles.set(d))\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  #deleteItem(item: ContentItem) {\r\n    console.log(item);\r\n    alert('remove not yet implemented');\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Title',\r\n          field: 'Title',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          headerName: 'Typename',\r\n          field: 'TypeName',\r\n          flex: 2,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: DataBundlesDetailActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataBundlesDetailActionsParams = {\r\n              do: (verb, item) => {\r\n                switch (verb) {\r\n                  case 'delete': this.#deleteItem(item); break;\r\n                }\r\n              }\r\n            } satisfies DataBundlesDetailActionsParams;\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n}\r\n","@if (dataBundles()) {\r\n  <div appToggleDebug class=\"eav-dialog nav-component-wrapper\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">{{ dataBundleName() }} Detail</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n    <div class=\"eav-dialog-content nav-component-wrapper\">\r\n      <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n        <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"dataBundles()\" [gridOptions]=\"gridOptions\"> </ag-grid-angular>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n"],"names":["MatRippleModule","MatIconModule","MatMenuModule","TippyDirective","DataBundlesDetailActionsComponent","agInit","params","item","data","refresh","do","verb","selectors","standalone","features","i0","ɵɵStandaloneFeature","decls","vars","consts","template","DataBundlesDetailActionsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","DataBundlesDetailActionsComponent_Template_div_click_1_listener","ɵɵtext","ɵɵelementEnd","i1","MatRipple","i2","MatIcon","encapsulation","signal","MatButtonModule","MatDialogRef","ActivatedRoute","transient","ColumnDefinitions","defaultGridOptions","SxcGridModule","switchMap","tap","DataBundlesService","DataBundlesDetailComponent_Conditional_0_Template_button_click_4_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","closeDialog","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","dataBundleName","ɵɵproperty","dataBundles","gridOptions","DataBundlesDetailComponent","dataBundlesService","constructor","dialog","route","buildGridOptions","ngOnInit","pipe","set","name","fetchQuery","guid","d","subscribe","close","deleteItem","#deleteItem","console","log","alert","#buildGridOptions","columnDefs","TextWideMin100","headerName","field","flex","ActionsPinnedRight3","cellRenderer","cellRendererParams","ɵɵdirectiveInject","DataBundlesDetailComponent_Template","ɵɵtemplate","DataBundlesDetailComponent_Conditional_0_Template","ɵɵconditional","i3","MatIconButton","i4","i5","AgGridAngular","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
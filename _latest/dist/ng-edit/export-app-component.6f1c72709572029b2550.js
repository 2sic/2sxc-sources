(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{qtGM:function(t,n,e){"use strict";e.r(n),e.d(n,"ExportAppComponent",(function(){return U}));var o=e("D57K"),i=e("LiEJ"),p=e("3riI"),c=e("LR82"),s=e("iUUs"),a=e("Jg5f"),r=e("G2Mx"),b=e("1C3z"),l=e("BLjT"),u=e("q3Tv"),d=e("8AiQ"),f=e("9HSk"),g=e("nYrE"),h=e("mPmy"),x=e("ZSGP");function m(t,n){1&t&&b.Qb(0,"mat-spinner",10)}function O(t,n){if(1&t){var e=b.Wb();b.Vb(0,"div",11),b.Vb(1,"p",12),b.Oc(2,"Specs"),b.Ub(),b.Vb(3,"ul",13),b.Vb(4,"li"),b.Oc(5),b.Ub(),b.Vb(6,"li"),b.Oc(7),b.Ub(),b.Vb(8,"li"),b.Oc(9),b.Ub(),b.Ub(),b.Vb(10,"p",12),b.Oc(11,"Contains"),b.Ub(),b.Vb(12,"ul",13),b.Vb(13,"li"),b.Oc(14),b.Ub(),b.Vb(15,"li"),b.Oc(16),b.Ub(),b.Vb(17,"li"),b.Oc(18),b.Ub(),b.Vb(19,"li"),b.Oc(20),b.Ub(),b.Vb(21,"li"),b.Oc(22),b.Ub(),b.Ub(),b.Vb(23,"div",14),b.Vb(24,"div",15),b.Vb(25,"mat-checkbox",16),b.dc("ngModelChange",(function(t){return b.Dc(e),b.hc(2).includeContentGroups=t})),b.Vb(26,"span",17),b.Oc(27," Include all content-groups to re-import the app in an exact copy of this site. Only select this option when you copy an entire DNN site. "),b.Ub(),b.Ub(),b.Ub(),b.Vb(28,"div",15),b.Vb(29,"mat-checkbox",16),b.dc("ngModelChange",(function(t){return b.Dc(e),b.hc(2).resetAppGuid=t})),b.Vb(30,"span",17),b.Oc(31," Reset the app GUID to zero. You only need this option for special tutorial apps, and usually must not select it. "),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub()}if(2&t){var o=b.hc().ngIf,i=b.hc();b.Bb(5),b.Qc("Name: ",o.appInfo.Name,""),b.Bb(2),b.Qc("Guid: ",o.appInfo.Guid,""),b.Bb(2),b.Qc("Version: ",o.appInfo.Version,""),b.Bb(5),b.Qc("",o.appInfo.EntitiesCount," entities"),b.Bb(2),b.Qc("",o.appInfo.LanguagesCount," languages"),b.Bb(2),b.Sc(" ",o.appInfo.TemplatesCount," templates (Token: ",o.appInfo.HasTokenTemplates,", Razor: ",o.appInfo.HasRazorTemplates,") "),b.Bb(2),b.Qc("",o.appInfo.TransferableFilesCount," files to export"),b.Bb(2),b.Qc("",o.appInfo.FilesCount," files in the app folder totally"),b.Bb(3),b.nc("ngModel",i.includeContentGroups)("disabled",i.resetAppGuid||o.isExporting),b.Bb(4),b.nc("ngModel",i.resetAppGuid)("disabled",i.includeContentGroups||o.isExporting)}}function V(t,n){if(1&t){var e=b.Wb();b.Tb(0),b.Vb(1,"div",1),b.Vb(2,"div",2),b.Oc(3,"Export app"),b.Ub(),b.Ub(),b.Mc(4,m,1,0,"mat-spinner",3),b.Vb(5,"p",4),b.Oc(6," Pack the entire app to a "),b.Vb(7,"em"),b.Oc(8,"zip"),b.Ub(),b.Oc(9," folder which can be imported again to another site. For further help visit "),b.Vb(10,"a",5),b.Oc(11,"2sxc Help"),b.Ub(),b.Oc(12,". "),b.Ub(),b.Mc(13,O,32,14,"div",6),b.Vb(14,"div",7),b.Vb(15,"button",8),b.dc("click",(function(){return b.Dc(e),b.hc().closeDialog()})),b.Oc(16," Cancel "),b.Ub(),b.Vb(17,"button",8),b.dc("click",(function(){return b.Dc(e),b.hc().exportGit()})),b.Oc(18," Export Data for Github versioning "),b.Ub(),b.Vb(19,"button",9),b.dc("click",(function(){return b.Dc(e),b.hc().exportApp()})),b.Oc(20," Export App "),b.Ub(),b.Ub(),b.Sb()}if(2&t){var o=n.ngIf;b.Bb(4),b.nc("ngIf",o.isExporting),b.Bb(9),b.nc("ngIf",o.appInfo),b.Bb(2),b.nc("disabled",o.isExporting),b.Bb(2),b.nc("disabled",o.isExporting),b.Bb(2),b.nc("disabled",o.isExporting)}}var U=function(){function t(t,n,e){this.dialogRef=t,this.exportAppService=n,this.zone=e,this.hostClass="dialog-component",this.includeContentGroups=!1,this.resetAppGuid=!1,this.appInfo$=new i.a(null),this.isExporting$=new i.a(!1),this.templateVars$=Object(p.a)([this.appInfo$,this.isExporting$]).pipe(Object(a.a)((function(t){var n=Object(o.f)(t,2);return{appInfo:n[0],isExporting:n[1]}}))),this.subscription=new c.a}return t.prototype.ngOnInit=function(){var t=this;this.exportAppService.getAppInfo().subscribe((function(n){t.appInfo$.next(n)}))},t.prototype.ngOnDestroy=function(){this.appInfo$.complete(),this.isExporting$.complete(),this.subscription.unsubscribe()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.exportApp=function(){var t=this;this.isExporting$.next(!0);var n=this.exportAppService.exportApp(this.includeContentGroups,this.resetAppGuid);this.subscription.add(Object(s.a)(n,"load").pipe(Object(r.a)(1)).subscribe((function(n){t.zone.run((function(){t.isExporting$.next(!1)}))})))},t.prototype.exportGit=function(){var t=this;this.isExporting$.next(!0),this.exportAppService.exportForVersionControl(this.includeContentGroups,this.resetAppGuid).subscribe({next:function(n){t.isExporting$.next(!1),alert("Done - please check your '.data' folder")},error:function(n){t.isExporting$.next(!1)}})},t.\u0275fac=function(n){return new(n||t)(b.Pb(l.g),b.Pb(u.a),b.Pb(b.z))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-export-app"]],hostVars:1,hostBindings:function(t,n){2&t&&b.Yb("className",n.hostClass)},decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],["mode","indeterminate","diameter","20","color","accent",4,"ngIf"],[1,"dialog-description"],["href","https://2sxc.org/en/help?tag=export-app","target","_blank"],["class","dialog-component-content fancy-scrollbar-light",4,"ngIf"],[1,"dialog-component-actions"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","","color","accent",3,"disabled","click"],["mode","indeterminate","diameter","20","color","accent"],[1,"dialog-component-content","fancy-scrollbar-light"],[1,"app-info__title"],[1,"app-info__content"],[1,"options-wrapper"],[1,"option-box"],[3,"ngModel","disabled","ngModelChange"],[1,"option-box__text"]],template:function(t,n){1&t&&(b.Mc(0,V,21,5,"ng-container",0),b.ic(1,"async")),2&t&&b.nc("ngIf",b.jc(1,1,n.templateVars$))},directives:[d.m,l.h,f.a,g.b,h.a,x.l,x.o],pipes:[d.b],styles:[".app-info__title[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0;font-weight:700}.app-info__content[_ngcontent-%COMP%]{font-size:14px}.app-info__content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 0}.options-wrapper[_ngcontent-%COMP%]{margin:24px 0}.option-box[_ngcontent-%COMP%]{margin:2px 0}.option-box__text[_ngcontent-%COMP%]{white-space:normal;font-size:14px}"],changeDetection:0}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.07.00/ng-edit/export-app-component.6f1c72709572029b2550.js.map
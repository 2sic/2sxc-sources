{"version":3,"sources":["./projects/ng-dialogs/src/app/app-administration/sub-dialogs/language-permissions/language-permissions.component.html","./projects/ng-dialogs/src/app/app-administration/sub-dialogs/language-permissions/language-permissions.component.ts"],"names":["dialogRef","zoneService","router","route","hostClass","this","languages$","undefined","ngOnInit","getLanguages","ngOnDestroy","complete","closeDialog","close","openPermissions","language","navigate","Code","relativeTo","subscribe","error","next","languages","LanguagePermissionsComponent"],"mappings":"wZAcE,iBACE,iBAAgC,SAAmB,QACnD,iBAAmC,SAAsB,QACzD,kBACE,qBAA4C,uFAC1C,oBAAU,kBAAM,QAClB,QACF,QACF,Q,0BAPkC,uBACG,2B,yBAHvC,iBACE,uBASF,S,kBATiD,6BCNjD,iBAUE,WACUA,EACAC,EACAC,EACAC,GAHA,KAAAH,YACA,KAAAC,cACA,KAAAC,SACA,KAAAC,QARgB,KAAAC,UAAY,mBAUpCC,KAAKC,WAAa,IAAI,SAA4CC,G,OAGpE,YAAAC,SAAA,WACEH,KAAKI,gBAGP,YAAAC,YAAA,WACEL,KAAKC,WAAWK,YAGlB,YAAAC,YAAA,WACEP,KAAKL,UAAUa,SAGjB,YAAAC,gBAAA,SAAgBC,GACdV,KAAKH,OAAOc,SAAS,CAAC,oBAA+BD,EAASE,OAAQ,CAAEC,WAAYb,KAAKF,SAGnF,YAAAM,aAAR,sBACEJ,KAAKJ,YAAYQ,eAAeU,UAAU,CACxCC,MAAO,WACL,EAAKd,WAAWe,UAAKd,IAEvBc,KAAM,SAACC,GACL,EAAKhB,WAAWe,KAAKC,O,sCApChBC,GAA4B,iD,wBAA5BA,EAA4B,oF,whBDbzC,iBACE,iBACE,eAAK,gCAAoB,QACzB,oBAA6C,gCAAS,EAAAX,gBACpD,oBAAU,iBAAK,QACjB,QACF,QACF,QAEA,yBAEA,eAEA,uB,yBAA6D,kD,yQCL7D","file":"projects_ng-dialogs_src_app_app-administration_sub-dialogs_language-permissions_language-perm-0f00b8.acb5cb0ac89678900032.js","sourcesContent":["<div mat-dialog-title>\r\n  <div class=\"dialog-title-box\">\r\n    <div>Language permissions</div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<p class=\"dialog-description\"></p>\r\n\r\n<div class=\"dialog-component-content fancy-scrollbar-light\" *ngIf=\"languages$ | async as languages\">\r\n  <div class=\"language-row\" *ngFor=\"let language of languages\">\r\n    <div class=\"language-row__code\">{{ language.Code }}</div>\r\n    <div class=\"language-row__culture\">{{ language.Culture }}</div>\r\n    <div class=\"language-row__action\">\r\n      <button mat-icon-button tippy=\"Permissions\" (click)=\"openPermissions(language)\">\r\n        <mat-icon>person</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { SiteLanguage } from '../../../apps-management/models/site-language.model';\r\nimport { ZoneService } from '../../../apps-management/services/zone.service';\r\nimport { GoToPermissions } from '../../../permissions';\r\n\r\n@Component({\r\n  selector: 'app-language-permissions',\r\n  templateUrl: './language-permissions.component.html',\r\n  styleUrls: ['./language-permissions.component.scss'],\r\n})\r\nexport class LanguagePermissionsComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  languages$: BehaviorSubject<SiteLanguage[] | undefined>;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<LanguagePermissionsComponent>,\r\n    private zoneService: ZoneService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n  ) {\r\n    this.languages$ = new BehaviorSubject<SiteLanguage[] | undefined>(undefined);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getLanguages();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.languages$.complete();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  openPermissions(language: SiteLanguage): void {\r\n    this.router.navigate([GoToPermissions.getUrlLanguage(language.Code)], { relativeTo: this.route });\r\n  }\r\n\r\n  private getLanguages(): void {\r\n    this.zoneService.getLanguages().subscribe({\r\n      error: () => {\r\n        this.languages$.next(undefined);\r\n      },\r\n      next: (languages) => {\r\n        this.languages$.next(languages);\r\n      },\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-1a6d8f"],{2188:(E,g,n)=>{n.d(g,{i:()=>d});var o=n(7066),m=n(2847),c=n(5368),s=n(3184),l=n(2425);let d=(()=>{class i{constructor(r,p){this.context=r,this.dnnContext=p}exportContent(r,p){const _=p?"&selectedids="+p.join():"",a=this.dnnContext.$2sxc.http.apiUrl(m.Uo+"Download")+"?appId="+this.context.appId+"&language="+r.language+"&defaultLanguage="+r.defaultLanguage+"&contentType="+r.contentTypeStaticName+"&recordExport="+r.recordExport+"&resourcesReferences="+r.resourcesReferences+"&languageReferences="+r.languageReferences+_;window.open(a,"_blank","")}exportJson(r){const p=this.dnnContext.$2sxc.http.apiUrl(o._+"Json")+"?appId="+this.context.appId+"&name="+r;window.open(p,"_blank","")}exportEntity(r,p,_){const a=this.dnnContext.$2sxc.http.apiUrl(m.Uo+"Json")+"?appId="+this.context.appId+"&id="+r+"&prefix="+p+"&withMetadata="+_;window.open(a,"_blank","")}}return i.\u0275fac=function(r){return new(r||i)(s.LFG(c._),s.LFG(l._y))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})()},8812:(E,g,n)=>{n.d(g,{l:()=>_});var o=n(7400),m=n(2673),c=n(635),s=n(898),l=n(2847),d=n(9934),i=n(5368),h=n(3184),r=n(8784),p=n(2425);let _=(()=>{class a{constructor(e,u,v){this.http=e,this.context=u,this.dnnContext=v}getAll(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(l.PS),{params:{appId:this.context.appId.toString(),contentType:e}})}getColumns(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(s.jt),{params:{appId:this.context.appId.toString(),staticName:e}})}importItem(e){return(0,o.D)((0,d.s)(e)).pipe((0,m.w)(u=>this.http.post(this.dnnContext.$2sxc.http.apiUrl(l.Uo+"upload"),{AppId:this.context.appId.toString(),ContentBase64:u})),(0,c.U)(u=>({Success:u,Messages:[]})))}}return a.\u0275fac=function(e){return new(e||a)(h.LFG(r.eN),h.LFG(i._),h.LFG(p._y))},a.\u0275prov=h.Yz7({token:a,factory:a.\u0275fac}),a})()},4272:(E,g,n)=>{n.d(g,{g:()=>d});var o=n(2847),m=n(5368),c=n(3184),s=n(8784),l=n(2425);let d=(()=>{class i{constructor(r,p,_){this.http=r,this.context=p,this.dnnContext=_}create(r,p){return this.http.post(`app/auto/data/${r}`,p,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}update(r,p,_){return this.http.post(`app/auto/data/${r}/${p}`,_,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}delete(r,p,_){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(o.Uo+"delete"),{params:{contentType:r,id:p.toString(),appId:this.context.appId.toString(),force:_.toString()}})}}return i.\u0275fac=function(r){return new(r||i)(c.LFG(s.eN),c.LFG(m._),c.LFG(l._y))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i})()},898:(E,g,n)=>{n.d(g,{Mr:()=>r,jt:()=>h});var o=n(635),m=n(7066),c=n(5368),s=n(3184),l=n(8784),d=n(2425);const i="admin/field/",h=i+"all";let r=(()=>{class p{constructor(a,t,e){this.http=a,this.context=t,this.dnnContext=e}apiUrl(a){return this.dnnContext.$2sxc.http.apiUrl(a)}typeListRetrieve(){return this.http.get(this.apiUrl(i+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(i+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,o.U)(a=>a.map(e=>({dataType:e.Type.substring(0,e.Type.indexOf("-")),inputType:e.Type,label:e.Label,description:e.Description,isDefault:e.IsDefault,isObsolete:e.IsObsolete,isRecommended:e.IsRecommended,obsoleteMessage:e.ObsoleteMessage,icon:e.IsDefault?"star":e.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(i+"ReservedNames"))}getFields(a){return this.http.get(this.apiUrl(h),{params:{appid:this.context.appId.toString(),staticName:a}}).pipe((0,o.U)(t=>{if(t)for(const e of t){if(!e.Metadata)continue;const u=e.Metadata,I=u[e.Type],M=u[e.InputType];u.merged=Object.assign(Object.assign(Object.assign({},u.All),I),M)}return t}))}reOrder(a,t){return this.http.post(this.apiUrl(i+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:t.Id.toString(),order:JSON.stringify(a)}})}setTitle(a,t){return this.http.post(this.apiUrl(m._+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:t.Id.toString(),attributeId:a.Id.toString()}})}rename(a,t,e){return this.http.post(this.apiUrl(i+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:t.toString(),attributeId:a.toString(),newName:e}})}delete(a,t){if(a.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(i+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:t.Id.toString(),attributeId:a.Id.toString()}})}add(a,t){return this.http.post(this.apiUrl(i+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:t.toString(),Id:a.Id.toString(),Type:a.Type,InputType:a.InputType,StaticName:a.StaticName,IsTitle:a.IsTitle.toString(),Index:a.SortOrder.toString()}})}updateInputType(a,t,e){return this.http.post(this.apiUrl(i+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:a.toString(),field:t,inputType:e}})}}return p.\u0275fac=function(a){return new(a||p)(s.LFG(l.eN),s.LFG(c._),s.LFG(d._y))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac}),p})()},2409:(E,g,n)=>{n.d(g,{U:()=>m});var o=n(941);class m{static getRoutes(){const s={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>Promise.all([n.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),n.e("default-node_modules_angular_material_fesm2015_slide-toggle_mjs"),n.e("default-projects_eav-ui_src_app_permissions_index_ts"),n.e("common"),n.e("projects_eav-ui_src_app_metadata_metadata_module_ts")]).then(n.bind(n,1901)).then(d=>d.MetadataModule),data:{title:"Metadata"}};return[s,Object.assign(Object.assign({},s),{path:`${s.path}/title/:title`}),Object.assign(Object.assign({},s),{path:`${s.path}/contentType/:contentTypeStaticName`}),Object.assign(Object.assign({},s),{path:`${s.path}/title/:title/contentType/:contentTypeStaticName`})]}static getUrl(s,l,d,i,h){let r=`metadata/${s}/${l}/${d}`;return i&&(r+=`/title/${encodeURIComponent(i)}`),h&&(r+=`/contentType/${h}`),r}static getUrlApp(s,l){return this.getUrl(o.Z.metadata.app.targetType,o.Z.metadata.app.keyType,s.toString(),l)}static getUrlAttribute(s,l,d){return this.getUrl(o.Z.metadata.attribute.targetType,o.Z.metadata.attribute.keyType,s.toString(),l,d)}static getUrlContentType(s,l){return this.getUrl(o.Z.metadata.contentType.targetType,o.Z.metadata.contentType.keyType,s,l)}static getUrlEntity(s,l,d){return this.getUrl(o.Z.metadata.entity.targetType,o.Z.metadata.entity.keyType,s,l,d)}}},9934:(E,g,n)=>{function o(c){return new Promise((s,l)=>{const d=new FileReader;d.readAsDataURL(c),d.onload=()=>{s(d.result.split(",")[1])},d.onerror=i=>{l(i)}})}function m(c){return new Promise((s,l)=>{const d=new FileReader;d.readAsText(c),d.onload=()=>{s(d.result)},d.onerror=i=>{l(i)}})}n.d(g,{B:()=>m,s:()=>o})},178:(E,g,n)=>{n.d(g,{g:()=>p,k:()=>r});var o=n(3184),m=n(1130),c=n(4128),s=n(6484),l=n(7481);let d=0;const i=(0,m.Id)(class{}),h="mat-badge-content";let r=(()=>{class _ extends i{constructor(t,e,u,v,I){super(),this._ngZone=t,this._elementRef=e,this._ariaDescriber=u,this._renderer=v,this._animationMode=I,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=d++,this._isInitialized=!1}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=(0,s.Ig)(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateHostAriaDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=(0,s.Ig)(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const t=this._renderer.createElement("span"),e="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(h),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(e)})}):t.classList.add(e),t}_updateRenderedContent(t){const e=`${null!=t?t:""}`.trim();this._isInitialized&&e&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=e),this._content=e}_updateHostAriaDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),t&&this._ariaDescriber.describe(this._elementRef.nativeElement,t),this._description=t}_setColor(t){const e=this._elementRef.nativeElement.classList;e.remove(`mat-badge-${this._color}`),t&&e.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${h}`);for(const e of Array.from(t))e!==this._badgeElement&&e.remove()}}return _.\u0275fac=function(t){return new(t||_)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(c.$s),o.Y36(o.Qsj),o.Y36(l.Qb,8))},_.\u0275dir=o.lG2({type:_,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,e){2&t&&o.ekj("mat-badge-overlap",e.overlap)("mat-badge-above",e.isAbove())("mat-badge-below",!e.isAbove())("mat-badge-before",!e.isAfter())("mat-badge-after",e.isAfter())("mat-badge-small","small"===e.size)("mat-badge-medium","medium"===e.size)("mat-badge-large","large"===e.size)("mat-badge-hidden",e.hidden||!e.content)("mat-badge-disabled",e.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[o.qOj]}),_})(),p=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[c.rt,m.BQ],m.BQ]}),_})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/15.00.00/ng-edit/projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_eav-ui_src-1a6d8f.1babbebade728e9e.js.map
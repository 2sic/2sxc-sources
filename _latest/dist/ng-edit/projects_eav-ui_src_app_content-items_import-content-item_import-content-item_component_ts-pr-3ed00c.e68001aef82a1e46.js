"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-3ed00c"],{7693:(S,m,n)=>{n.d(m,{X:()=>r,g:()=>p});var c=n(271),I=n(8873),o=n(8559),s=n(6443),u=n(4821);const r="admin/type/",d="admin/type/scopes";let p=(()=>{class e{constructor(i,h,y){this.http=i,this.context=h,this.dnnContext=y}apiUrl(i){return this.dnnContext.$2sxc.http.apiUrl(i)}retrieveContentType(i){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:i}})}retrieveContentTypes(i){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:i}})}getScopes(){return this.http.get(this.apiUrl(d),{params:{appId:this.context.appId.toString()}}).pipe((0,c.T)(i=>{const h=i.old;return Object.keys(h).map(O=>({name:h[O],value:O}))}))}getScopesV2(){return this.http.get(this.apiUrl(d),{params:{appId:this.context.appId.toString()}}).pipe((0,c.T)(i=>i.scopes))}save(i){return this.http.post(this.apiUrl("admin/type/save"),i,{params:{appid:this.context.appId.toString()}})}delete(i){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:i.StaticName}})}import(i){const h=new FormData;for(const y of i)h.append("File",y);return this.http.post(this.apiUrl("admin/type/import"),h,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(i){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:i}})}static#t=this.\u0275fac=function(h){return new(h||e)(o.KVO(s.Qq),o.KVO(I.o),o.KVO(u.ob))};static#e=this.\u0275prov=o.jDH({token:e,factory:e.\u0275fac})}return e})()},6754:(S,m,n)=>{n.r(m),n.d(m,{ImportContentItemComponent:()=>u});var c=n(7941),I=n(3550),o=n(336),s=n(8559);let u=(()=>{class r{constructor(l,d){this.uploadType=I.HL.ContentItem,l.title??="Import Single Item",l.description??="Select an item file (json) from your computer to import.",l.allowedFileTypes??="json",l.upload$??=_=>d.importItem(_[0])}static#t=this.\u0275fac=function(d){return new(d||r)(s.rXU(c.Vh),s.rXU(o.F))};static#e=this.\u0275cmp=s.VBU({type:r,selectors:[["app-import-content-item"]],standalone:!0,features:[s.aNF],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(d,_){1&d&&s.nrm(0,"app-file-upload-dialog",0),2&d&&s.Y8G("uploadType",_.uploadType)},dependencies:[I.jj]})}return r})()},3051:(S,m,n)=>{n.d(m,{h6:()=>_,zZ:()=>l});var c=n(271),I=n(7693),o=n(8873),s=n(8559),u=n(6443),r=n(4821);const a="admin/field/",l="admin/field/all",d="admin/field/GetSharedFields";let _=(()=>{class T{constructor(t,p,e){this.http=t,this.context=p,this.dnnContext=e}apiUrl(t){return this.dnnContext.$2sxc.http.apiUrl(t)}typeListRetrieve(){return this.http.get(this.apiUrl(a+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(a+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,c.T)(t=>t.map(e=>({dataType:e.Type.substring(0,e.Type.indexOf("-")),inputType:e.Type,label:e.Label,description:e.Description,isDefault:e.IsDefault,isObsolete:e.IsObsolete,isRecommended:e.IsRecommended,obsoleteMessage:e.ObsoleteMessage,icon:e.IsDefault?"star":e.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(a+"ReservedNames"))}getFields(t){return this.http.get(this.apiUrl(l),{params:{appid:this.context.appId.toString(),staticName:t}}).pipe((0,c.T)(p=>{if(p)for(const e of p){if(!e.Metadata)continue;const g=e.Metadata;g.merged={...g.All,...g[e.Type],...g[e.InputType]}}return p}))}getShareableFields(){return this.http.get(this.apiUrl(d),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(t){return this.http.get(this.apiUrl(d),{params:{appid:this.context.appId.toString(),attributeId:t.toString()}})}addInheritedField(t,p,e,g){return this.http.post(this.apiUrl(a+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:t.toString(),SourceType:p,SourceField:e,name:g}})}share(t,p=!0){return this.http.post(this.apiUrl(a+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),share:p}})}inherit(t,p){return this.http.post(this.apiUrl(a+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),inheritMetadataOf:p}})}reOrder(t,p){return this.http.post(this.apiUrl(a+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:p.Id.toString(),order:JSON.stringify(t)}})}setTitle(t,p){return this.http.post(this.apiUrl(I.X+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:p.Id.toString(),attributeId:t.Id.toString()}})}rename(t,p,e){return this.http.post(this.apiUrl(a+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:p.toString(),attributeId:t.toString(),newName:e}})}delete(t,p){if(t.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(a+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:p.Id.toString(),attributeId:t.Id.toString()}})}add(t,p){return this.http.post(this.apiUrl(a+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:p.toString(),Id:t.Id.toString(),Type:t.Type,InputType:t.InputType,StaticName:t.StaticName,IsTitle:t.IsTitle.toString(),Index:t.SortOrder.toString()}})}updateInputType(t,p,e){return this.http.post(this.apiUrl(a+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:t.toString(),field:p,inputType:e}})}static#t=this.\u0275fac=function(p){return new(p||T)(s.KVO(u.Qq),s.KVO(o.o),s.KVO(r.ob))};static#e=this.\u0275prov=s.jDH({token:T,factory:T.\u0275fac})}return T})()},693:(S,m,n)=>{function c(o){return new Promise((s,u)=>{const r=new FileReader;r.readAsDataURL(o),r.onload=()=>{s(r.result.split(",")[1])},r.onerror=a=>{u(a)}})}function I(o){return new Promise((s,u)=>{const r=new FileReader;r.readAsText(o),r.onload=()=>{s(r.result)},r.onerror=a=>{u(a)}})}n.d(m,{d:()=>I,n:()=>c})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.00/dist/ng-edit/projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-3ed00c.e68001aef82a1e46.js.map
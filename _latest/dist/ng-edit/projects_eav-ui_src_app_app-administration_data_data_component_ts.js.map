{"version":3,"file":"projects_eav-ui_src_app_app-administration_data_data_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/data/data-actions/data-actions.component.ts","./projects/eav-ui/src/app/app-administration/data/data-actions/data-actions.component.html","./projects/eav-ui/src/app/app-administration/data/data-fields/data-fields.component.ts","./projects/eav-ui/src/app/app-administration/data/data-fields/data-fields.component.html","./projects/eav-ui/src/app/app-administration/data/data-items/data-items.component.ts","./projects/eav-ui/src/app/app-administration/data/data-items/data-items.component.html","./projects/eav-ui/src/app/app-administration/data/data.component.ts","./projects/eav-ui/src/app/app-administration/data/data.component.html","./projects/eav-ui/src/app/shared/rxJs/mapUntilChanged.ts"],"sourcesContent":["import { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { guidRegex } from '../../../shared/constants/guid.constants';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { ContentType } from '../../models/content-type.model';\r\nimport { AgActionsAlwaysRefresh } from '../../queries/ag-actions/ag-actions-component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-data-actions',\r\n  templateUrl: './data-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatMenuModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataActionsComponent extends AgActionsAlwaysRefresh {\r\n  contentType: ContentType;\r\n  enablePermissions: boolean;\r\n\r\n  public params: {\r\n    enablePermissionsGetter(): boolean;\r\n\r\n    do(verb: 'typeExport' | 'deleteContentType', contentType: ContentType): void;\r\n    urlTo(verb: 'createUpdateMetaData'\r\n      | 'openPermissions'\r\n      | 'editContentType'\r\n      | 'openMetadata'\r\n      | 'openRestApi'\r\n      | 'dataExport'\r\n      | 'dataImport', contentType: ContentType): string;\r\n  };\r\n\r\n  agInit(params: ICellRendererParams & DataActionsComponent['params']): void {\r\n    this.params = params;\r\n    this.contentType = params.data;\r\n    const enablePermissions = this.params.enablePermissionsGetter();\r\n    this.enablePermissions = enablePermissions && guidRegex().test(this.contentType.NameId);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  @if (!contentType.EditInfo.DisableEdit || contentType.Properties) {\r\n    <a [href]=\"params.urlTo('createUpdateMetaData', contentType)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Description and more\">\r\n      <mat-icon>edit</mat-icon>\r\n    </a>\r\n  } @else {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon>edit</mat-icon>\r\n    </div>\r\n  }\r\n\r\n  @if (!contentType.EditInfo.DisableMetadata) {\r\n    <a [href]=\"params.urlTo('openMetadata', contentType)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Metadata\">\r\n      <mat-icon\r\n        [matBadge]=\"contentType.Metadata.length\"\r\n        matBadgePosition=\"below after\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!contentType.Metadata.length\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </a>\r\n  } @else {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"contentType.Metadata.length\"\r\n        matBadgePosition=\"below after\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!contentType.Metadata.length\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  @if (!contentType.EditInfo.DisableEdit && enablePermissions) {\r\n    <a [href]=\"params.urlTo('openPermissions', contentType)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Permissions\">\r\n      <mat-icon\r\n        [matBadge]=\"contentType.Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!contentType.Permissions.Count\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person</mat-icon\r\n      >\r\n    </a>\r\n  } @else {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"contentType.Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!contentType.Permissions.Count\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <a [href]=\"params.urlTo('editContentType', contentType)\" mat-menu-item [disabled]=\"contentType.EditInfo.DisableRename\">\r\n      <mat-icon>settings</mat-icon>\r\n      <span>Rename</span>\r\n    </a>\r\n    <a mat-menu-item [href]=\"params.urlTo('openRestApi', contentType)\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </a>\r\n    <button mat-menu-item (click)=\"params.do('typeExport', contentType)\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export content type</span>\r\n    </button>\r\n    <a mat-menu-item [href]=\"params.urlTo('dataExport', contentType)\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export data</span>\r\n    </a>\r\n    <a mat-menu-item [href]=\"params.urlTo('dataImport', contentType)\">\r\n      <mat-icon>cloud_upload</mat-icon>\r\n      <span>Import data</span>\r\n    </a>\r\n    <button mat-menu-item [disabled]=\"contentType.EditInfo.DisableDelete\" (click)=\"params.do('deleteContentType', contentType)\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { ContentType } from '../../models/content-type.model';\r\n\r\n@Component({\r\n  selector: 'app-data-fields',\r\n  templateUrl: './data-fields.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataFieldsComponent implements ICellRendererAngularComp {\r\n  value: number;\r\n  tooltip: string;\r\n  icon: string;\r\n\r\n  // TODO: @2pp - change all cases where Ag-Grid has separate interfaces to use this params mechanism\r\n  // 2dm will brief you\r\n  // 1. put type directly on the params (and make public)\r\n  // 2. make type checks (like in agInit) use this, as well as the type checks in the grid-definitions\r\n  // 3. where simple, call it directly from the HTML, don't create more methods which just call this again\r\n  public params: {\r\n    fieldsUrl(contentType: ContentType): string;\r\n  };\r\n  protected contentType: ContentType;\r\n\r\n  agInit(params: ICellRendererParams & DataFieldsComponent[\"params\"]): void {\r\n    this.params = params;\r\n    this.contentType = params.data;\r\n    this.value = params.value;\r\n    this.tooltip = !this.contentType.EditInfo.ReadOnly\r\n      ? 'Edit fields'\r\n      : `${this.contentType.EditInfo.ReadOnlyMessage ? `${this.contentType.EditInfo.ReadOnlyMessage}\\n\\n` : ''}This ContentType shares the definition of #${this.contentType.SharedDefId} so you can't edit it here. Read 2sxc.org/help?tag=shared-types`;\r\n    this.icon = !this.contentType.EditInfo.ReadOnly ? 'dns' : 'share';\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <a class=\"eav-grid-action-button default-link highlight\" matRipple [tippy]=\"tooltip\" [href]=\"params.fieldsUrl(contentType)\">\r\n    <mat-icon [matBadge]=\"value\" matBadgePosition=\"below after\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!value\" aria-hidden=\"false\">\r\n      {{icon}}\r\n    </mat-icon>\r\n  </a>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { ContentType } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-data-items',\r\n  templateUrl: './data-items.component.html',\r\n  styleUrls: ['./data-items.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataItemsComponent implements ICellRendererAngularComp {\r\n  value: number;\r\n  \r\n  /** Params, directly typed here and anywhere it's used should use this type definition */\r\n  public params: {\r\n    addItemUrl(contentType: ContentType): string;\r\n    itemsUrl(contentType: ContentType): string;\r\n  };\r\n\r\n  protected contentType: ContentType;\r\n\r\n  agInit(params: ICellRendererParams & DataItemsComponent[\"params\"]): void {\r\n    this.params = params;\r\n    this.contentType = params.data;\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <a class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"{{ value }} items\" [href]=\"params.itemsUrl(contentType)\">\r\n    <div class=\"text-icon\">{{ value }}</div>\r\n  </a>\r\n\r\n  <!-- TODO: fix color again -->\r\n  <a class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Add item\" [href]=\"params.addItemUrl(contentType)\">\r\n    <mat-icon>add</mat-icon>\r\n  </a>\r\n</div>","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, inject, OnDestroy, OnInit, signal } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialogActions } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { NavigationEnd, RouterOutlet } from '@angular/router';\r\nimport { filter, from, map, startWith, take } from 'rxjs';\r\nimport { transient } from '../../../../../core';\r\nimport { ContentExportService } from '../../content-export/services/content-export.service';\r\nimport { ContentImportDialogData } from '../../content-import/content-import-dialog.config';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { AgGridHelper } from '../../shared/ag-grid/ag-grid-helper';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { BaseComponent } from '../../shared/components/base.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { dropdownInsertValue } from '../../shared/constants/dropdown-insert-value.constant';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { DragAndDropDirective } from '../../shared/directives/drag-and-drop.directive';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { toString } from '../../shared/helpers/file-to-base64.helper';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { EditForm, EditPrep } from '../../shared/models/edit-form.model';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { mapUntilChanged } from '../../shared/rxJs/mapUntilChanged';\r\nimport { GlobalConfigService } from '../../shared/services/global-config.service';\r\nimport { ContentType } from '../models/content-type.model';\r\nimport { ScopeDetailsDto } from '../models/scopedetails.dto';\r\nimport { ContentTypesService } from '../services/content-types.service';\r\nimport { DialogConfigAppService } from '../services/dialog-config-app.service';\r\nimport { DataActionsComponent } from './data-actions/data-actions.component';\r\nimport { DataFieldsComponent } from './data-fields/data-fields.component';\r\nimport { DataItemsComponent } from './data-items/data-items.component';\r\n\r\n@Component({\r\n  selector: 'app-data',\r\n  templateUrl: './data.component.html',\r\n  styleUrls: ['./data.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatDialogActions,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    FormsModule,\r\n    MatOptionModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    SxcGridModule,\r\n    DragAndDropDirective,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class DataComponent extends BaseComponent implements OnInit, OnDestroy {\r\n\r\n  isDebug = inject(GlobalConfigService).isDebug;\r\n  #snackBar = inject(MatSnackBar);\r\n\r\n  #contentTypeSvc = transient(ContentTypesService);\r\n  #contentExportSvc = transient(ContentExportService);\r\n  #dialogConfigSvc = transient(DialogConfigAppService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor() { super(); }\r\n\r\n  contentTypes = signal<ContentType[]>(undefined);\r\n  scope = signal<string>(undefined);\r\n  scopeOptions = signal<ScopeDetailsDto[]>([]);\r\n\r\n  /** Possible scopes - the ones from the backend + manually entered scopes by the current user */\r\n  gridOptions = this.#buildGridOptions();\r\n  dropdownInsertValue = dropdownInsertValue;\r\n  enablePermissions!: boolean;\r\n\r\n  ngOnInit() {\r\n    this.#fetchScopes();\r\n    this.#refreshScopeOnRouteChange();\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#fetchContentTypes());\r\n\r\n    this.#dialogConfigSvc.getCurrent$().subscribe(data => {\r\n      this.enablePermissions = data.Context.Enable.AppPermissions;\r\n    });\r\n  }\r\n\r\n  filesDropped(files: File[]) {\r\n    const importFile = files[0];\r\n    const ext = importFile.name.substring(importFile.name.lastIndexOf('.') + 1).toLocaleLowerCase();\r\n    switch (ext) {\r\n      case 'xml':\r\n        from(toString(files[0])).pipe(take(1)).subscribe(fileString => {\r\n          const contentTypeName = fileString.split('<Entity Type=\"')[1]?.split('\"')[0];\r\n          const contentType = this.contentTypes().find(ct => ct.Name === contentTypeName);\r\n          if (contentType == null) {\r\n            const message = `Cannot find Content Type named '${contentTypeName}'. Please open Content Type Import dialog manually.`;\r\n            this.#snackBar.open(message, null, { duration: 5000 });\r\n            return;\r\n          }\r\n          this.#openDataImport(contentType, files);\r\n        });\r\n        break;\r\n      case 'json':\r\n        this.importType(files);\r\n        break;\r\n    }\r\n  }\r\n\r\n  importType(files?: File[]) {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.#dialogRouter.navRelative(['import'], { state: dialogData });\r\n  }\r\n\r\n  urlToImportType() {\r\n    return this.#urlTo('import');\r\n  }\r\n\r\n  editContentType(contentType: ContentType) {\r\n    if (!contentType) {\r\n      this.#dialogRouter.navRelative(['add']);\r\n    } else {\r\n      if (contentType.EditInfo.ReadOnly) return;\r\n      this.#dialogRouter.navRelative([`${contentType.NameId}/edit`]);\r\n    }\r\n  }\r\n\r\n  #fetchContentTypes() {\r\n    this.#contentTypeSvc.retrieveContentTypes(this.scope()).subscribe(contentTypes => {\r\n      for (const contentType of contentTypes) {\r\n        contentType._compareLabel = contentType.Label.replace(/\\p{Emoji}/gu, 'ž');\r\n      }\r\n      this.contentTypes.set(contentTypes);\r\n      if (this.scope() !== eavConstants.scopes.default.value) {\r\n        const message = 'Warning! You are in a special scope. Changing things here could easily break functionality';\r\n        this.#snackBar.open(message, null, { duration: 2000 });\r\n      }\r\n    });\r\n  }\r\n\r\n  #fetchScopes() {\r\n    this.#contentTypeSvc.getScopesV2().subscribe(scopeList => {\r\n      // Merge the new scopes with the existing ones - in case there were manual scopes added\r\n      // If old scope list had a manual scope which the server didn't send, re-add it here\r\n      const manual = this.scopeOptions()\r\n        .filter(sOld => scopeList.find(sNew => sNew.name === sOld.name) == null);\r\n\r\n      // Add a nice label to each scope containing count-information of types\r\n      const withNiceLabel = scopeList.map(s => {\r\n        let countInfo = !s.typesInherited\r\n          ? `${s.typesTotal} types`               // only not-inherited\r\n          : (s.typesInherited == s.typesTotal)\r\n            ? s.typesInherited + ' sys types'     // only inherited\r\n            : `${s.typesTotal} types / ${s.typesInherited} system`;\r\n        return ({ ...s, label: s.name + ` - ${countInfo}` });\r\n      });\r\n\r\n      this.scopeOptions.set([...withNiceLabel, ...manual]);\r\n    });\r\n  }\r\n\r\n  createGhost() {\r\n    const sourceName = window.prompt('To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost');\r\n    if (!sourceName) return;\r\n    this.#snackBar.open('Saving...');\r\n    this.#contentTypeSvc.createGhost(sourceName).subscribe(_ => {\r\n      this.#snackBar.open('Saved', null, { duration: 2000 });\r\n      this.#fetchContentTypes();\r\n    });\r\n  }\r\n\r\n  changeScope(newScope: string) {\r\n    if (newScope === dropdownInsertValue) {\r\n      newScope = prompt('This is an advanced feature to show content-types of another scope. Don\\'t use this if you don\\'t know what you\\'re doing, as content-types of other scopes are usually hidden for a good reason.') || eavConstants.scopes.default.value;\r\n    }\r\n    this.#dialogRouter.navRelative(['..', newScope]);\r\n  }\r\n\r\n  /**\r\n   * Refreshes the scope when the route changes.\r\n   * ...also adds a scope name if the route scope is not found in the list of possible scopes.\r\n   * This is to allow an admin to enter a custom scope.\r\n   * Note 2024-03-04 2dm - not sure if this auto-add feature is still needed though...\r\n   */\r\n  #refreshScopeOnRouteChange() {\r\n    this.subscriptions.add(\r\n      this.#dialogRouter.router.events.pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        map(() => this.#dialogRouter.getParam('scope')),\r\n        startWith(this.#dialogRouter.getParam('scope')),\r\n        filter(scope => !!scope),\r\n        mapUntilChanged(m => m),\r\n      ).subscribe(scope => {\r\n        this.scope.set(scope);\r\n\r\n        // If we can't find the scope in the list of options, add it as it was entered manually\r\n        if (!this.scopeOptions().map(option => option.name).includes(scope)) {\r\n          const newScopeOption: ScopeDetailsDto = {\r\n            name: scope,\r\n            label: scope,\r\n            typesTotal: 0,\r\n            typesInherited: 0,\r\n            typesOfApp: 0,\r\n          };\r\n          this.scopeOptions.set([...this.scopeOptions(), newScopeOption]);\r\n        }\r\n        this.#fetchContentTypes();\r\n      })\r\n    );\r\n  }\r\n\r\n  //#region Grid\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          cellRendererParams: ColumnDefinitions.idFieldParamsTooltipGetter<ContentType>('StaticName'),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWidePrimary,\r\n          headerName: 'ContentType',\r\n          field: 'Label',\r\n          sort: 'asc',\r\n          comparator: (valueA, valueB, nodeA, nodeB, isInverted) => {\r\n            const contentTypeA: ContentType = nodeA.data;\r\n            const contentTypeB: ContentType = nodeB.data;\r\n            return contentTypeA._compareLabel.localeCompare(contentTypeB._compareLabel);\r\n          },\r\n          cellRenderer: (p: { data: ContentType }) => AgGridHelper.cellLink(this.#urlTo(`items/${p.data.NameId}`), p.data.Label),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Items,\r\n          field: 'Items',\r\n          cellRenderer: DataItemsComponent,\r\n          cellRendererParams: ({\r\n            addItemUrl: (ct) => this.#urlTo(`edit/${this.#routeAddItem(ct)}`),\r\n            itemsUrl: (ct) => this.#urlTo(`items/${ct.NameId}`),\r\n          } satisfies DataItemsComponent[\"params\"]),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Fields,\r\n          field: 'Fields',\r\n          cellRenderer: DataFieldsComponent,\r\n          cellRendererParams: ({\r\n            fieldsUrl: (contentType) => this.#urlTo(`fields/${contentType.NameId}`),\r\n          } satisfies DataFieldsComponent[\"params\"]),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideMin100,\r\n          field: 'Name',\r\n          cellClass: (p) => `${p.data.EditInfo.DisableEdit ? 'no-outline' : 'primary-action highlight'}`.split(' '),\r\n          valueGetter: (p: { data: ContentType }) => p.data?.Name,\r\n          onCellClicked: (p) => this.editContentType(p.data),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideFlex3,\r\n          field: 'Description',\r\n          valueGetter: (p: { data: ContentType }) => p.data?.Properties?.Description,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight4,\r\n          cellRenderer: DataActionsComponent,\r\n          cellRendererParams: ({\r\n            enablePermissionsGetter: () => this.enablePermissions,\r\n            urlTo: (verb, ct) => {\r\n              switch (verb) {\r\n                case 'createUpdateMetaData': return this.#urlTo(`edit/${this.#routeCreateOrEditMetadata(ct)}`);\r\n                case 'openPermissions': return this.#urlTo(GoToPermissions.getUrlContentType(ct.NameId));\r\n                case 'editContentType': return this.#urlTo(ct.EditInfo.ReadOnly ? '' : `${ct.NameId}/edit`);\r\n                case 'openMetadata': return this.#urlTo(GoToMetadata.getUrlContentType(ct.NameId, `Metadata for Content Type: ${ct.Name} (${ct.Id})`));\r\n                case 'openRestApi': return this.#urlTo(GoToDevRest.getUrlData(ct));\r\n                case 'dataExport': return this.#urlTo(`export/${ct.NameId}`);\r\n                case 'dataImport': return this.#urlTo(`${ct.NameId}/import`);\r\n              }\r\n            },\r\n            do: (verb, ct) => {\r\n              switch (verb) {\r\n                case 'typeExport': this.#exportType(ct); break;\r\n                case 'deleteContentType': this.#deleteContentType(ct); break;\r\n              }\r\n            }\r\n          } satisfies DataActionsComponent['params']),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n  //#endregion\r\n\r\n  //#region Actions in the grid\r\n\r\n  #urlTo(url: string) {\r\n    return '#' + this.#dialogRouter.urlSubRoute(url);\r\n  }\r\n\r\n  #routeAddItem(contentType: ContentType): string {\r\n    return convertFormToUrl({\r\n      items: [EditPrep.newFromType(contentType.NameId)],\r\n    } satisfies EditForm);\r\n  }\r\n\r\n  urlToNewContentType(): string {\r\n    return this.#urlTo('add');\r\n  }\r\n\r\n  #routeCreateOrEditMetadata(contentType: ContentType): string {\r\n    const form: EditForm = {\r\n      items: [\r\n        !contentType.Properties\r\n          ? {\r\n            ...EditPrep.newMetadata(contentType.NameId, eavConstants.contentTypes.contentType, eavConstants.metadata.contentType),\r\n            Prefill: {\r\n              Label: contentType.Name,\r\n              Description: contentType.Description\r\n            },\r\n          }\r\n          : EditPrep.editId(contentType.Properties.Id),\r\n      ],\r\n    };\r\n    return convertFormToUrl(form);\r\n  }\r\n\r\n  // 2pp | not in use?\r\n  // #createOrEditMetadata(contentType: ContentType) {\r\n  //   this.#dialogRouter.navParentFirstChild([`edit/${this.#routeCreateOrEditMetadata(contentType)}`]);\r\n  // }\r\n\r\n  // #openPermissions(contentType: ContentType) {\r\n  //   this.#dialogRouter.navParentFirstChild([GoToPermissions.getUrlContentType(contentType.NameId)]);\r\n  // }\r\n\r\n  // #routeMetadata(ct: ContentType) {\r\n  //   return GoToMetadata.getUrlContentType(ct.NameId, `Metadata for Content Type: ${ct.Name} (${ct.Id})`);\r\n  // }\r\n\r\n  // #openMetadata(contentType: ContentType) {\r\n  //   this.#dialogRouter.navParentFirstChild([this.#routeMetadata(contentType)]);\r\n  // }\r\n\r\n  // #openRestApi(contentType: ContentType) {\r\n  //   this.#dialogRouter.navParentFirstChild([GoToDevRest.getUrlData(contentType)]);\r\n  // }\r\n\r\n  #exportType(contentType: ContentType) {\r\n    this.#contentExportSvc.exportJson(contentType.NameId);\r\n  }\r\n\r\n\r\n  #openDataImport(contentType: ContentType, files?: File[]) {\r\n    this.#dialogRouter.navRelative([`${contentType.NameId}/import`], { state: { files } satisfies ContentImportDialogData });\r\n  }\r\n\r\n  #deleteContentType(contentType: ContentType) {\r\n    if (!confirm(`Are you sure you want to delete '${contentType.Name}' (${contentType.Id})?`)) return;\r\n    this.#snackBar.open('Deleting...');\r\n    this.#contentTypeSvc.delete(contentType).subscribe(_ => {\r\n      this.#snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.#fetchContentTypes();\r\n    });\r\n  }\r\n\r\n  //#endregion\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <!-- This is the table, you see in the Data Tab. The fields are defined inside the TS file -->\r\n  <ag-grid-angular\r\n    class=\"ag-theme-material\"\r\n    [rowData]=\"contentTypes()\"\r\n    [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop\r\n    [allowedFileTypes]=\"'xml,json'\"\r\n    (filesDropped)=\"filesDropped($event)\"\r\n  >\r\n  </ag-grid-angular>\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <div class=\"eav-dialog-actions-div\">\r\n      <mat-form-field color=\"accent\" class=\"eav-mat-form-field eav-scope-dropdown\">\r\n        <mat-select [ngModel]=\"scope()\" name=\"Scope\" (ngModelChange)=\"changeScope($event)\">\r\n          @for (scopeOption of scopeOptions(); track scopeOption) {\r\n            <mat-option [value]=\"scopeOption.name\">\r\n              {{ 'Scope: ' + scopeOption.label }}\r\n            </mat-option>\r\n          }\r\n          <mat-option [value]=\"dropdownInsertValue\">Scope: Other...</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <a [href]=\"urlToImportType()\">\r\n        <button mat-button class=\"eav-button__with-icon\" tippy=\"Import content type\" tippyPlacement=\"top\">\r\n          <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n          <span>Content Type</span>\r\n        </button>\r\n      </a>\r\n      @if (isDebug()) {\r\n        <button\r\n          mat-button\r\n          class=\"eav-button__with-icon\"\r\n          color=\"accent\"\r\n          tippy=\"Create a ghost content type\"\r\n          tippyPlacement=\"top\"\r\n          (click)=\"createGhost()\"\r\n        >\r\n          <mat-icon class=\"eav-icon\">share</mat-icon>\r\n          <span>Ghost</span>\r\n        </button>\r\n      }\r\n    </div>\r\n    <a [href]=\"urlToNewContentType()\">\r\n      <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new content type\" tippyPlacement=\"top\">\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n    </a>\r\n  </mat-dialog-actions>\r\n</div>\r\n<router-outlet></router-outlet>\r\n","import { Observable, pipe, UnaryFunction } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\nimport isEqual from 'lodash-es/isEqual';\r\n\r\n/**\r\n * Combine map and distinctUntilChanged, as this is a very common pattern.\r\n * @param fn the mapping function\r\n * @returns\r\n */\r\nexport function mapUntilChanged<T, R>(\r\n  fn: (state: T) => R\r\n): UnaryFunction<Observable<T>, Observable<R>> {\r\n  return pipe(\r\n    distinctUntilChanged(),\r\n    map(fn),\r\n    distinctUntilChanged(),\r\n  );\r\n}\r\n\r\nexport function mapUntilObjChanged<T, R>(\r\n  fn: (state: T) => R\r\n): UnaryFunction<Observable<T>, Observable<R>> {\r\n  return pipe(\r\n    distinctUntilChanged(isEqual),\r\n    map(fn),\r\n    distinctUntilChanged(isEqual),\r\n  );\r\n}\r\n"],"names":["MatBadgeModule","MatRippleModule","MatIconModule","MatMenuModule","guidRegex","TippyDirective","AgActionsAlwaysRefresh","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","params","urlTo","contentType","ɵɵsanitizeUrl","ɵɵadvance","Metadata","length","Permissions","Count","ɵɵelement","ɵɵlistener","DataActionsComponent_ng_template_12_Template_button_click_9_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","do","DataActionsComponent_ng_template_12_Template_button_click_24_listener","EditInfo","DisableRename","DisableDelete","DataActionsComponent","agInit","data","enablePermissions","enablePermissionsGetter","test","NameId","__ngFactoryType__","selectors","standalone","features","ɵɵInheritDefinitionFeature","ɵɵStandaloneFeature","decls","vars","consts","template","DataActionsComponent_Template","rf","ctx","ɵɵtemplate","DataActionsComponent_Conditional_1_Template","DataActionsComponent_Conditional_2_Template","DataActionsComponent_Conditional_3_Template","DataActionsComponent_Conditional_4_Template","DataActionsComponent_Conditional_5_Template","DataActionsComponent_Conditional_6_Template","DataActionsComponent_ng_template_12_Template","ɵɵconditional","DisableEdit","Properties","DisableMetadata","menu_r3","i1","MatRipple","i2","MatIcon","i3","MatBadge","i4","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","encapsulation","DataFieldsComponent","value","tooltip","ReadOnly","ReadOnlyMessage","SharedDefId","icon","refresh","DataFieldsComponent_Template","fieldsUrl","ɵɵtextInterpolate1","DataItemsComponent","DataItemsComponent_Template","ɵɵpropertyInterpolate1","itemsUrl","ɵɵtextInterpolate","addItemUrl","styles","inject","signal","FormsModule","MatButtonModule","MatOptionModule","MatDialogActions","MatFormFieldModule","MatSelectModule","MatSnackBar","NavigationEnd","RouterOutlet","filter","from","map","startWith","take","transient","ContentExportService","GoToDevRest","GoToMetadata","GoToPermissions","AgGridHelper","ColumnDefinitions","BaseComponent","defaultGridOptions","dropdownInsertValue","eavConstants","DragAndDropDirective","toString","convertFormToUrl","EditPrep","SxcGridModule","DialogRoutingService","mapUntilChanged","GlobalConfigService","ContentTypesService","DialogConfigAppService","scopeOption_r1","name","label","DataComponent_Conditional_16_Template_button_click_0_listener","ctx_r2","createGhost","DataComponent","snackBar","contentTypeSvc","contentExportSvc","dialogConfigSvc","dialogRouter","constructor","isDebug","contentTypes","undefined","scope","scopeOptions","gridOptions","buildGridOptions","ngOnInit","fetchScopes","refreshScopeOnRouteChange","doOnDialogClosed","fetchContentTypes","getCurrent$","subscribe","Context","Enable","AppPermissions","filesDropped","files","importFile","ext","substring","lastIndexOf","toLocaleLowerCase","pipe","fileString","contentTypeName","split","find","ct","Name","message","open","duration","openDataImport","importType","dialogData","navRelative","state","urlToImportType","editContentType","#fetchContentTypes","retrieveContentTypes","_compareLabel","Label","replace","set","scopes","default","#fetchScopes","getScopesV2","scopeList","manual","sOld","sNew","withNiceLabel","s","countInfo","typesInherited","typesTotal","sourceName","window","prompt","_","changeScope","newScope","#refreshScopeOnRouteChange","subscriptions","add","router","events","event","getParam","m","option","includes","newScopeOption","typesOfApp","#buildGridOptions","columnDefs","IdWithDefaultRenderer","cellRendererParams","idFieldParamsTooltipGetter","TextWidePrimary","headerName","field","sort","comparator","valueA","valueB","nodeA","nodeB","isInverted","contentTypeA","contentTypeB","localeCompare","cellRenderer","p","cellLink","Items","routeAddItem","Fields","TextWideMin100","cellClass","valueGetter","onCellClicked","TextWideFlex3","Description","ActionsPinnedRight4","verb","routeCreateOrEditMetadata","getUrlContentType","Id","getUrlData","exportType","deleteContentType","#urlTo","url","urlSubRoute","#routeAddItem","items","newFromType","urlToNewContentType","#routeCreateOrEditMetadata","form","newMetadata","metadata","Prefill","editId","#exportType","exportJson","#openDataImport","#deleteContentType","confirm","delete","DataComponent_Template","DataComponent_Template_ag_grid_angular_filesDropped_1_listener","$event","DataComponent_Template_mat_select_ngModelChange_5_listener","ɵɵrepeaterCreate","DataComponent_For_7_Template","ɵɵrepeaterTrackByIdentity","DataComponent_Conditional_16_Template","ɵɵrepeater","MatFormField","MatSelect","MatOption","NgControlStatus","NgModel","i5","MatButton","MatFabButton","i6","i7","AgGridAngular","distinctUntilChanged","isEqual","fn","mapUntilObjChanged"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
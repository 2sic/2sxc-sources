(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_ng-dialogs_src_app_content-items_content-items_component_ts","projects_ng-dialogs_src_app_app-administration_services_app-dialog-config_service_ts-_31ae0","projects_ng-dialogs_src_app_app-administration_services_app-dialog-config_service_ts-_31ae1"],{2887:function(t,e,n){"use strict";n.d(e,{K:function(){return p}});var o=n(1785),i=n(2693),r=n(3582),a=n(2837),p=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getDialogSettings=function(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/dialog/settings"),{params:{appid:this.context.appId.toString()}})},t.\u0275fac=function(e){return new(e||t)(o.LFG(i.eN),o.LFG(r._),o.LFG(a._y))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t}()},3466:function(t,e,n){"use strict";n.d(e,{T:function(){return s}});var o=n(3475),i=n(1785),r=n(2693),a=n(3582),p=n(2837),s=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getContentInfo=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o.v+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:t}})},t.prototype.exportParts=function(t,e,n){var i=this.dnnContext.$2sxc.http.apiUrl(o.v+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+t.join(";")+"&entityIdsString="+e.join(";")+"&templateIdsString="+n.join(";");window.open(i,"_blank","")},t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a._),i.LFG(p._y))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}()},271:function(t,e,n){"use strict";n.d(e,{v:function(){return s}});var o=n(6466),i=n(1785),r=n(2693),a=n(3582),p=n(2837),s=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getAppInfo=function(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o.H+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})},t.prototype.exportApp=function(t,e){var n=this.dnnContext.$2sxc.http.apiUrl(o.H+"Export")+"?appId="+this.context.appId+"&zoneId="+this.context.zoneId+"&includeContentGroups="+t+"&resetAppGuid="+e;window.open(n,"_blank","")},t.prototype.exportForVersionControl=function(t,e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o.H+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:t.toString(),resetAppGuid:e.toString()}})},t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a._),i.LFG(p._y))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}()},3475:function(t,e,n){"use strict";n.d(e,{v:function(){return s},z:function(){return c}});var o=n(6466),i=n(1785),r=n(2693),a=n(3582),p=n(2837),s="admin/appParts/",c=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.importAppParts=function(t){var e=new FormData;return e.append("File",t),this.http.post(this.dnnContext.$2sxc.http.apiUrl(s+"Import"),e,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})},t.prototype.resetApp=function(){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(o.H+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})},t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN),i.LFG(a._),i.LFG(p._y))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}()},5151:function(t,e,n){"use strict";n.d(e,{Kw:function(){return o.K},sF:function(){return i.s},vG:function(){return r.vG},bf:function(){return r.bf},Az:function(){return r.Az},TB:function(){return r.TB},cv:function(){return r.cv},nt:function(){return r.nt}});var o=n(2887),i=n(2832),r=(n(3466),n(271),n(3475),n(2394));n(1916),n(7915)},2394:function(t,e,n){"use strict";n.d(e,{cv:function(){return l},Az:function(){return d},nt:function(){return f},TB:function(){return g},bf:function(){return m},vG:function(){return h}});var o=n(9764),i=n(3982),r=n(1407),a=n(8442),p=n(1785),s=n(2693),c=n(3582),u=n(2837),l="admin/query/Run",d="admin/query/DebugStream",f="admin/query/Save",g="admin/query/Get",m="admin/query/DataSources",h=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getAll=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r.PS),{params:{appId:this.context.appId.toString(),contentType:t}})},t.prototype.importQuery=function(t){var e=this;return(0,o.D)((0,a.s)(t)).pipe((0,i.zg)(function(t){return e.http.post(e.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:e.context.appId.toString(),ContentBase64:t})}))},t.prototype.clonePipeline=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:t.toString(),appId:this.context.appId.toString()}})},t.prototype.delete=function(t){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:t.toString()}})},t.\u0275fac=function(e){return new(e||t)(p.LFG(s.eN),p.LFG(c._),p.LFG(u._y))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t}()},1916:function(t,e,n){"use strict";n.d(e,{h:function(){return p}});var o=n(1785),i=n(2693),r=n(3582),a=n(2837),p=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getAll=function(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/view/all"),{params:{appId:this.context.appId.toString()}})},t.prototype.delete=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/view/delete"),{params:{appId:this.context.appId.toString(),Id:t.toString()}})},t.prototype.import=function(t){var e=new FormData;return e.append("File",t),this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/view/import"),e,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})},t.prototype.export=function(t){var e=this.dnnContext.$2sxc.http.apiUrl("admin/view/json")+"?appId="+this.context.appId+"&viewId="+t;window.open(e,"_blank","")},t.prototype.getPolymorphism=function(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/view/polymorphism"),{params:{appId:this.context.appId.toString()}})},t.prototype.getUsage=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/view/usage"),{params:{appId:this.context.appId.toString(),guid:t}})},t.\u0275fac=function(e){return new(e||t)(o.LFG(i.eN),o.LFG(r._),o.LFG(a._y))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t}()},7915:function(t,e,n){"use strict";n.d(e,{n:function(){return c}});var o=n(9996),i=n(1407),r=n(1785),a=n(2693),p=n(3582),s=n(2837),c=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.getAll=function(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i.nu),{params:{appId:this.context.appId.toString(),global:"false",path:"",mask:"*Controller.cs",withSubfolders:"true"}}).pipe((0,o.U)(function(t){return t.map(function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("."),o=t.substring(0,e),i=t.substring(e+1,n);return{path:t,folder:o,name:i}})}))},t.prototype.create=function(t){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(i.yE),{},{params:{appId:this.context.appId.toString(),purpose:"api",global:"false",path:"api/"+t}})},t.prototype.details=function(t){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i.BQ),{params:{path:t}})},t.\u0275fac=function(e){return new(e||t)(r.LFG(a.eN),r.LFG(p._),r.LFG(s._y))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t}()},6582:function(t,e,n){"use strict";n.r(e),n.d(e,{ContentItemsComponent:function(){return Pt}});var o=n(4762),i=n(9206),r=n(1282),a=n(8512),p=n(7570),s=n(3835),c=n(611),u=n(6238),l=n(9996),d=n(2855),f=n(3667),g=n(7867),m=n(6085),h=n(8579),y=n(5803),v=n(5549),T=n(9081),x=n(2420),b=n(1785),I=n(7064),Z=n(7512),C=n(7307),k=n(7070),_=function(){function t(){}return t.prototype.agInit=function(t){this.params=t,this.item=t.data},t.prototype.refresh=function(t){return!0},t.prototype.clone=function(){this.params.onClone(this.item)},t.prototype.export=function(){this.params.onExport(this.item)},t.prototype.deleteItem=function(){this.params.onDelete(this.item)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-content-items-actions"]],decls:17,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Copy",1,"like-button","highlight",3,"click"],["matRipple","","tippy","Export",1,"like-button","highlight",3,"click"],["matRipple","","tippy","More",1,"like-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.NdJ("click",function(){return e.clone()}),b.TgZ(2,"mat-icon"),b._uU(3,"file_copy"),b.qZA(),b.qZA(),b.TgZ(4,"div",2),b.NdJ("click",function(){return e.export()}),b.TgZ(5,"mat-icon"),b._uU(6,"cloud_download"),b.qZA(),b.qZA(),b.TgZ(7,"div",3),b.TgZ(8,"mat-icon"),b._uU(9,"more_horiz"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(10,"mat-menu",4,5),b.TgZ(12,"button",6),b.NdJ("click",function(){return e.deleteItem()}),b.TgZ(13,"mat-icon"),b._uU(14,"delete"),b.qZA(),b.TgZ(15,"span"),b._uU(16,"Delete"),b.qZA(),b.qZA(),b.qZA()),2&t){var n=b.MAs(11);b.xp6(7),b.Q6J("matMenuTriggerFor",n)}},directives:[I.wG,Z.$,C.Hw,k.p6,k.VK,k.OP],styles:[""]}),t}(),A=n(1116);function w(t,e){if(1&t&&(b.TgZ(0,"span",2),b._uU(1),b.qZA()),2&t){var n=b.oxw();b.xp6(1),b.Oqu(n.entities)}}var q=function(){function t(){}return t.prototype.agInit=function(t){Array.isArray(t.value)&&(this.encodedValue=this.htmlEncode(t.value.join(", ")),t.colDef.allowMultiValue&&(this.entities=t.value.length))},t.prototype.refresh=function(t){return!0},t.prototype.htmlEncode=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-content-items-entity"]],decls:3,vars:3,consts:[[3,"tippy"],["class","more-entities",4,"ngIf"],[1,"more-entities"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b.YNc(1,w,2,1,"span",1),b._uU(2),b.qZA()),2&t&&(b.Q6J("tippy",e.encodedValue),b.xp6(1),b.Q6J("ngIf",e.entities),b.xp6(1),b.hij(" ",e.encodedValue,"\n"))},directives:[Z.$,A.O5],styles:[".more-entities[_ngcontent-%COMP%]{padding:0 8px;border-radius:10px;border:1px solid rgba(29,39,61,.44);-webkit-user-select:none;user-select:none}"]}),t}();function N(t,e){1&t&&(b.TgZ(0,"mat-icon",4),b._uU(1,"visibility"),b.qZA())}function S(t,e){1&t&&(b.TgZ(0,"mat-icon",5),b._uU(1,"visibility_off"),b.qZA())}function U(t,e){if(1&t&&(b.TgZ(0,"mat-icon",6),b._uU(1,"local_offer"),b.qZA()),2&t){var n=b.oxw();b.Q6J("tippy",n.metadataTooltip)}}var F=function(){function t(){}return t.prototype.agInit=function(t){this.value=t.value;var e=t.data;e.For&&(this.metadataTooltip="Metadata\nType: "+e.For.Target+(e.For.Number?"\nNumber: "+e.For.Number:"")+(e.For.String?"\nString: "+e.For.String:"")+(e.For.Guid?"\nGuid: "+e.For.Guid:""))},t.prototype.refresh=function(t){return!0},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-content-items-status"]],decls:4,vars:3,consts:[[1,"icon-container"],["tippy","Published",4,"ngIf"],["tippy","Not published",4,"ngIf"],["class","meta-icon",3,"tippy",4,"ngIf"],["tippy","Published"],["tippy","Not published"],[1,"meta-icon",3,"tippy"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b.YNc(1,N,2,0,"mat-icon",1),b.YNc(2,S,2,0,"mat-icon",2),b.YNc(3,U,2,1,"mat-icon",3),b.qZA()),2&t&&(b.xp6(1),b.Q6J("ngIf",e.value.published),b.xp6(1),b.Q6J("ngIf",!e.value.published),b.xp6(1),b.Q6J("ngIf",e.value.metadata))},directives:[A.O5,C.Hw,Z.$],styles:[".meta-icon[_ngcontent-%COMP%]{margin-left:8px}"]}),t}(),J=n(7436),M=n(1041),$=function(){function t(){this.published="",this.metadata=""}return t.prototype.agInit=function(t){this.params=t},t.prototype.isFilterActive=function(){return""!==this.published||""!==this.metadata},t.prototype.doesFilterPass=function(t){var e,n,o=this.params.valueGetter(t.node);return e=""===this.published||null!=o.published&&o.published.toString()===this.published,n=""===this.metadata||null!=o.metadata&&o.metadata.toString()===this.metadata,e&&n},t.prototype.getModel=function(){if(this.isFilterActive())return{filterType:"pub-meta",published:this.published,metadata:this.metadata}},t.prototype.setModel=function(t){this.published=t?t.published:"",this.metadata=t?t.metadata:""},t.prototype.afterGuiAttached=function(t){},t.prototype.filterChanged=function(){this.params.filterChangedCallback()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-pub-meta-filter"]],decls:18,vars:2,consts:[[1,"title"],[3,"ngModel","ngModelChange"],["value",""],["value","true"],["value","false"]],template:function(t,e){1&t&&(b.TgZ(0,"div",0),b._uU(1,"Published"),b.qZA(),b.TgZ(2,"mat-radio-group",1),b.NdJ("ngModelChange",function(t){return e.published=t})("ngModelChange",function(){return e.filterChanged()}),b.TgZ(3,"mat-radio-button",2),b._uU(4,"All"),b.qZA(),b.TgZ(5,"mat-radio-button",3),b._uU(6,"Published"),b.qZA(),b.TgZ(7,"mat-radio-button",4),b._uU(8,"Not published"),b.qZA(),b.qZA(),b.TgZ(9,"div",0),b._uU(10,"Metadata"),b.qZA(),b.TgZ(11,"mat-radio-group",1),b.NdJ("ngModelChange",function(t){return e.metadata=t})("ngModelChange",function(){return e.filterChanged()}),b.TgZ(12,"mat-radio-button",2),b._uU(13,"All"),b.qZA(),b.TgZ(14,"mat-radio-button",3),b._uU(15,"Is metadata"),b.qZA(),b.TgZ(16,"mat-radio-button",4),b._uU(17,"Is not metadata"),b.qZA(),b.qZA()),2&t&&(b.xp6(2),b.Q6J("ngModel",e.published),b.xp6(9),b.Q6J("ngModel",e.metadata))},directives:[J.VQ,M.JJ,M.On,J.U0],styles:[".title[_ngcontent-%COMP%]{padding:12px 12px 0}.mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]}),t}(),Q=n(1906),O=n(1305),G=n(8720),Y=n(447),D=n(7289),E=n(2935),R=n(3582),P=n(5223),z=n(5151),L=n(3070),j=n(3841),K=n(9572),V=n(4369),H=n(9550),B=n(7110);function X(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=e.$implicit;b.Q6J("value",n.type),b.xp6(1),b.hij(" ",n.label," ")}}function W(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=b.oxw(2).ngIf;b.Q6J("value",n.formValues.targetType),b.xp6(1),b.hij(" ",n.formValues.targetType," ")}}function tt(t,e){if(1&t&&(b.TgZ(0,"mat-select",22),b.YNc(1,X,2,2,"mat-option",12),b.YNc(2,W,2,2,"mat-option",23),b.qZA()),2&t){var n=b.oxw().ngIf,o=b.oxw();b.xp6(1),b.Q6J("ngForOf",o.targetTypeOptions),b.xp6(1),b.Q6J("ngIf",n.unknownTargetType)}}function et(t,e){1&t&&b._UZ(0,"input",25)}function nt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," Warning: you entered an unknown target type. This may work or may not. Please be sure you know what you're doing "),b.qZA()),2&t&&b.Q6J("isError",!1)}function ot(t,e){if(1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1),b.qZA()),2&t){var n=b.oxw().ngIf;b.Q6J("isError",!1),b.xp6(1),b.Oqu(n.targetTypeHint)}}function it(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," This field is required "),b.qZA()),2&t&&b.Q6J("isError",!0)}function rt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," Must be a whole number "),b.qZA()),2&t&&b.Q6J("isError",!0)}function at(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=e.$implicit;b.Q6J("value",n),b.xp6(1),b.hij(" ",n," ")}}function pt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," This field is required "),b.qZA()),2&t&&b.Q6J("isError",!0)}function st(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=e.$implicit;b.Q6J("value",n.StaticName),b.xp6(1),b.hij(" ",n.Label," ")}}function ct(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," This field is required "),b.qZA()),2&t&&b.Q6J("isError",!0)}function ut(t,e){if(1&t&&(b.ynx(0),b.TgZ(1,"mat-form-field",7),b.TgZ(2,"mat-label"),b._uU(3,"Content Type"),b.qZA(),b.TgZ(4,"mat-select",27),b.YNc(5,st,2,2,"mat-option",12),b.qZA(),b.qZA(),b.YNc(6,ct,2,1,"app-field-hint",10),b.BQk()),2&t){var n=b.oxw().ngIf,o=b.oxw();b.xp6(4),b.Q6J("placeholder",n.contentTypes.length?"":"No items found"),b.xp6(1),b.Q6J("ngForOf",n.contentTypes),b.xp6(1),b.Q6J("ngIf",o.form.controls.contentTypeForContentItems.touched&&(null==o.form.controls.contentTypeForContentItems.errors?null:o.form.controls.contentTypeForContentItems.errors.required))}}function lt(t,e){1&t&&b.GkF(0)}function dt(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=e.$implicit;b.Q6J("value",n.Guid),b.xp6(1),b.AsE(" ",n.Title," (",n.Id,") ")}}function ft(t,e){if(1&t&&(b.TgZ(0,"mat-select",33),b.YNc(1,dt,2,3,"mat-option",12),b.qZA()),2&t){var n=b.oxw(3).ngIf;b.Q6J("placeholder",n.contentItems.length?"":"No items found"),b.xp6(1),b.Q6J("ngForOf",n.contentItems)}}function gt(t,e){1&t&&b._UZ(0,"input",34)}function mt(t,e){if(1&t&&(b.ynx(0),b.YNc(1,ft,2,2,"mat-select",31),b.YNc(2,gt,1,0,"input",32),b.BQk()),2&t){var n=b.oxw(2).ngIf;b.xp6(1),b.Q6J("ngIf",n.guidedKey),b.xp6(1),b.Q6J("ngIf",!n.guidedKey)}}function ht(t,e){if(1&t&&(b.TgZ(0,"mat-option",24),b._uU(1),b.qZA()),2&t){var n=e.$implicit;b.Q6J("value",n.StaticName),b.xp6(1),b.hij(" ",n.Label," ")}}function yt(t,e){if(1&t&&(b.TgZ(0,"mat-select",33),b.YNc(1,ht,2,2,"mat-option",12),b.qZA()),2&t){var n=b.oxw(3).ngIf;b.Q6J("placeholder",n.contentTypes.length?"":"No items found"),b.xp6(1),b.Q6J("ngForOf",n.contentTypes)}}function vt(t,e){1&t&&b._UZ(0,"input",34)}function Tt(t,e){if(1&t&&(b.ynx(0),b.YNc(1,yt,2,2,"mat-select",31),b.YNc(2,vt,1,0,"input",32),b.BQk()),2&t){var n=b.oxw(2).ngIf;b.xp6(1),b.Q6J("ngIf",n.guidedKey),b.xp6(1),b.Q6J("ngIf",!n.guidedKey)}}function xt(t,e){1&t&&b.GkF(0)}function bt(t,e){if(1&t&&(b.ynx(0),b.YNc(1,xt,1,0,"ng-container",35),b.BQk()),2&t){b.oxw(2);var n=b.MAs(34);b.xp6(1),b.Q6J("ngTemplateOutlet",n)}}function It(t,e){if(1&t&&(b.ynx(0,28),b.YNc(1,mt,3,2,"ng-container",29),b.YNc(2,Tt,3,2,"ng-container",29),b.YNc(3,bt,2,1,"ng-container",30),b.BQk()),2&t){var n=b.oxw().ngIf,o=b.oxw();b.Q6J("ngSwitch",n.formValues.targetType),b.xp6(1),b.Q6J("ngSwitchCase",o.eavConstants.metadata.entity.type),b.xp6(1),b.Q6J("ngSwitchCase",o.eavConstants.metadata.contentType.type)}}function Zt(t,e){1&t&&b._UZ(0,"input",34)}function Ct(t,e){1&t&&b._UZ(0,"input",37)}function kt(t,e){if(1&t&&(b.YNc(0,Zt,1,0,"input",32),b.YNc(1,Ct,1,0,"input",36)),2&t){var n=b.oxw().ngIf;b.Q6J("ngIf","number"!==n.formValues.keyType),b.xp6(1),b.Q6J("ngIf","number"===n.formValues.keyType)}}var _t=function(t){return{active:t}};function At(t,e){if(1&t){var n=b.EpF();b.TgZ(0,"div",38),b.TgZ(1,"button",39),b.NdJ("click",function(){return b.CHM(n),b.oxw(2).toggleGuidedKey(!0)}),b.TgZ(2,"mat-icon"),b._uU(3,"search"),b.qZA(),b.qZA(),b.TgZ(4,"button",40),b.NdJ("click",function(){return b.CHM(n),b.oxw(2).toggleGuidedKey(!1)}),b.TgZ(5,"mat-icon"),b._uU(6,"text_fields"),b.qZA(),b.qZA(),b.qZA()}if(2&t){var o=b.oxw().ngIf;b.xp6(1),b.Q6J("ngClass",b.VKq(2,_t,o.guidedKey)),b.xp6(3),b.Q6J("ngClass",b.VKq(4,_t,!o.guidedKey))}}function wt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," This field is required "),b.qZA()),2&t&&b.Q6J("isError",!0)}function qt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," Must be a whole number "),b.qZA()),2&t&&b.Q6J("isError",!0)}function Nt(t,e){1&t&&(b.TgZ(0,"app-field-hint",26),b._uU(1," Must be a valid GUID "),b.qZA()),2&t&&b.Q6J("isError",!0)}function St(t,e){if(1&t){var n=b.EpF();b.ynx(0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b._uU(3,"Create Metadata Info"),b.qZA(),b.qZA(),b.TgZ(4,"p",3),b._uU(5," This is a special operation to add an item which is metadata for another item, see "),b.TgZ(6,"a",4),b._uU(7,"docs"),b.qZA(),b._uU(8,". "),b.qZA(),b.TgZ(9,"form",5),b.TgZ(10,"div",6),b.TgZ(11,"mat-form-field",7),b.TgZ(12,"mat-label"),b._uU(13,"Target"),b.qZA(),b.YNc(14,tt,3,2,"mat-select",8),b.YNc(15,et,1,0,"input",9),b.qZA(),b.YNc(16,nt,2,1,"app-field-hint",10),b.YNc(17,ot,2,2,"app-field-hint",10),b.YNc(18,it,2,1,"app-field-hint",10),b.YNc(19,rt,2,1,"app-field-hint",10),b.TgZ(20,"mat-form-field",7),b.TgZ(21,"mat-label"),b._uU(22,"Key type"),b.qZA(),b.TgZ(23,"mat-select",11),b.YNc(24,at,2,2,"mat-option",12),b.qZA(),b.qZA(),b.YNc(25,pt,2,1,"app-field-hint",10),b.YNc(26,ut,7,3,"ng-container",0),b.TgZ(27,"mat-form-field",7),b.TgZ(28,"mat-label"),b._uU(29,"Key"),b.qZA(),b.YNc(30,lt,1,0,"ng-container",13),b.YNc(31,It,4,3,"ng-template",null,14,b.W1O),b.YNc(33,kt,2,2,"ng-template",null,15,b.W1O),b.YNc(35,At,7,6,"div",16),b.qZA(),b.YNc(36,wt,2,1,"app-field-hint",10),b.YNc(37,qt,2,1,"app-field-hint",10),b.YNc(38,Nt,2,1,"app-field-hint",10),b.qZA(),b.TgZ(39,"div",17),b.TgZ(40,"mat-slide-toggle",18),b.NdJ("change",function(t){return b.CHM(n),b.oxw().toggleGuidedMode(t)}),b._uU(41),b.qZA(),b._UZ(42,"div",19),b.TgZ(43,"button",20),b.NdJ("click",function(){return b.CHM(n),b.oxw().closeDialog()}),b._uU(44,"Cancel"),b.qZA(),b.TgZ(45,"button",21),b.NdJ("click",function(){return b.CHM(n),b.oxw().confirm()}),b._uU(46," Confirm "),b.qZA(),b.qZA(),b.qZA(),b.BQk()}if(2&t){var o=e.ngIf,i=b.MAs(32),r=b.MAs(34),a=b.oxw();b.xp6(9),b.Q6J("formGroup",a.form),b.xp6(5),b.Q6J("ngIf",o.guidedMode),b.xp6(1),b.Q6J("ngIf",!o.guidedMode),b.xp6(1),b.Q6J("ngIf",a.form.controls.targetType.touched&&!a.form.controls.targetType.invalid&&o.unknownTargetType),b.xp6(1),b.Q6J("ngIf",o.targetTypeHint),b.xp6(1),b.Q6J("ngIf",a.form.controls.targetType.touched&&(null==a.form.controls.targetType.errors?null:a.form.controls.targetType.errors.required)),b.xp6(1),b.Q6J("ngIf",a.form.controls.targetType.touched&&(null==a.form.controls.targetType.errors?null:a.form.controls.targetType.errors.pattern)),b.xp6(5),b.Q6J("ngForOf",o.keyTypeOptions),b.xp6(1),b.Q6J("ngIf",a.form.controls.keyType.touched&&(null==a.form.controls.keyType.errors?null:a.form.controls.keyType.errors.required)),b.xp6(1),b.Q6J("ngIf",o.guidedMode&&o.formValues.targetType===a.eavConstants.metadata.entity.type),b.xp6(4),b.Q6J("ngIf",o.guidedMode)("ngIfThen",i)("ngIfElse",r),b.xp6(5),b.Q6J("ngIf",o.guidedMode&&o.guidedKeyExists),b.xp6(1),b.Q6J("ngIf",a.form.controls.key.touched&&(null==a.form.controls.key.errors?null:a.form.controls.key.errors.required)),b.xp6(1),b.Q6J("ngIf",a.form.controls.key.touched&&(null==a.form.controls.key.errors?null:a.form.controls.key.errors.patternWholeNumber)),b.xp6(1),b.Q6J("ngIf",a.form.controls.key.touched&&(null==a.form.controls.key.errors?null:a.form.controls.key.errors.patternGuid)),b.xp6(2),b.Q6J("tippy",o.guidedMode?"Guided mode helps you select options that work":"Manual mode is for advanced uses and allows you to insert any values")("checked",o.guidedMode),b.xp6(1),b.hij(" ",o.guidedMode?"Guided":"Manual"," "),b.xp6(4),b.Q6J("disabled",!a.form.valid)}}var Ut=function(){function t(t,e,n,o,i){this.dialogRef=t,this.context=e,this.route=n,this.contentItemsService=o,this.contentTypesService=i,this.hostClass="dialog-component",this.eavConstants=y.Z,this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName")}return t.prototype.ngOnInit=function(){var t,e=this;this.subscription=new p.w,this.targetTypeOptions=Object.values(y.Z.metadata).map(function(t){return(0,o.pi)({},t)}),this.keyTypeOptions=Object.values(y.Z.keyTypes),this.keyTypeOptions$=new a.X([]),this.guidedMode$=new a.X(!0),this.contentItems$=new a.X([]),this.contentTypes$=new a.X([]),this.guidedKey$=new a.X(!0),this.form=new M.cw({}),this.form.addControl("targetType",new M.NI(y.Z.metadata.entity.type,[M.kI.required,M.kI.pattern(/^[0-9]+$/)])),this.form.addControl("keyType",new M.NI(y.Z.keyTypes.guid,[M.kI.required])),this.form.addControl("contentTypeForContentItems",new M.NI(this.contentTypeStaticName,[M.kI.required])),this.form.addControl("key",new M.NI(null,[M.kI.required,(t=this.form,function(e){if(!e.value)return null;var n=t.controls.keyType.value,o=e.value.toString();switch(n){case"number":return/^[0-9]+$/.test(o)?null:{patternWholeNumber:!0};case"guid":var i=["{","}"].some(function(t){return o.includes(t)}),r=o.substring(i?1:0,i?o.length-1:o.length);return(0,D.M)().test(r)?null:{patternGuid:!0};default:return null}})])),this.contentTypesService.retrieveContentTypes(y.Z.scopes.default.value).subscribe(function(t){e.contentTypes$.next(t)}),this.subscription.add((0,Q.T)(this.form.controls.targetType.valueChanges.pipe((0,G.x)()),this.form.controls.keyType.valueChanges.pipe((0,G.x)())).subscribe(function(){e.guidedKey$.next(!0),null!=e.form.getRawValue().key&&e.form.patchValue({key:null})})),this.subscription.add(this.form.controls.contentTypeForContentItems.valueChanges.pipe((0,u.O)(this.form.controls.contentTypeForContentItems.value),(0,G.x)()).subscribe(function(t){var n=e.form.getRawValue();n.targetType===y.Z.metadata.entity.type&&null!=n.key&&e.form.patchValue({key:null}),e.contentItemsService.getAll(t).subscribe(function(t){e.contentItems$.next(t)})}));var n=this.form.valueChanges.pipe((0,u.O)(this.form.getRawValue()),(0,l.U)(function(){return e.form.getRawValue()}),(0,G.x)(Y.iX.objectsEqual));this.subscription.add((0,O.aj)([n,this.guidedMode$]).subscribe(function(t){var n=(0,o.CR)(t,2),i=n[0],r=n[1],a=e.targetTypeOptions.find(function(t){return t.type===i.targetType}),p=r&&a?[a.keyType]:(0,o.ev)([],(0,o.CR)(e.keyTypeOptions));Y.iX.arraysEqual(p,e.keyTypeOptions$.value)||e.keyTypeOptions$.next(p);var s={};e.keyTypeOptions$.value.includes(i.keyType)||(s.keyType=e.keyTypeOptions$.value[0]);var c=r&&i.targetType===y.Z.metadata.app.type;c&&i.key!==e.context.appId&&(s.key=e.context.appId),Object.keys(s).length&&e.form.patchValue(s),Y.iX.disableControl(e.form.controls.keyType,r&&e.keyTypeOptions$.value.length<=1),Y.iX.disableControl(e.form.controls.key,c)})),this.templateVars$=(0,O.aj)([(0,O.aj)([this.guidedMode$,this.keyTypeOptions$,this.contentItems$,this.contentTypes$]),(0,O.aj)([n,this.guidedKey$])]).pipe((0,l.U)(function(t){var n,i=(0,o.CR)(t,2),r=(0,o.CR)(i[0],4),a=r[0],p=r[1],s=r[2],c=r[3],u=(0,o.CR)(i[1],2),l=u[0],d=u[1];return{guidedMode:a,unknownTargetType:!e.targetTypeOptions.some(function(t){return t.type===l.targetType}),targetTypeHint:a&&(null===(n=e.targetTypeOptions.find(function(t){return t.type===l.targetType}))||void 0===n?void 0:n.hint),keyTypeOptions:p,guidedKey:d,guidedKeyExists:[y.Z.metadata.entity.type,y.Z.metadata.contentType.type].includes(l.targetType),formValues:l,contentItems:s,contentTypes:c}}))},t.prototype.ngOnDestroy=function(){this.guidedMode$.complete(),this.keyTypeOptions$.complete(),this.contentItems$.complete(),this.contentTypes$.complete(),this.guidedKey$.complete(),this.subscription.unsubscribe()},t.prototype.closeDialog=function(t){this.dialogRef.close(t)},t.prototype.toggleGuidedKey=function(t){this.guidedKey$.next(t)},t.prototype.toggleGuidedMode=function(t){this.guidedMode$.next(t.checked)},t.prototype.confirm=function(){var t,e,n=this.form.getRawValue(),o={target:null!==(e=null===(t=this.targetTypeOptions.find(function(t){return t.type===n.targetType}))||void 0===t?void 0:t.target)&&void 0!==e?e:n.targetType.toString(),keyType:n.keyType,key:n.keyType===y.Z.keyTypes.guid?n.key.replace(/{|}/g,""):n.key.toString()};this.closeDialog(o)},t.\u0275fac=function(e){return new(e||t)(b.Y36(E.so),b.Y36(R._),b.Y36(r.gz),b.Y36(P.l),b.Y36(z.sF))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-create-metadata-dialog"]],hostVars:1,hostBindings:function(t,e){2&t&&b.Ikx("className",e.hostClass)},decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],["href","https://r.2sxc.org/metadata","target","_blank"],[1,"dialog-form",3,"formGroup"],[1,"dialog-form-content","fancy-scrollbar-light"],["appearance","standard","color","accent"],["formControlName","targetType","required","",4,"ngIf"],["matInput","","type","number","min","0","formControlName","targetType","required","",4,"ngIf"],[3,"isError",4,"ngIf"],["formControlName","keyType","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["specialKeyInputs",""],["defaultKeyInput",""],["matSuffix","","class","selection-suffix",4,"ngIf"],[1,"dialog-form-actions"],["color","accent",3,"tippy","checked","change"],[1,"spacer"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["formControlName","targetType","required",""],[3,"value",4,"ngIf"],[3,"value"],["matInput","","type","number","min","0","formControlName","targetType","required",""],[3,"isError"],["formControlName","contentTypeForContentItems","required","",3,"placeholder"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["formControlName","key","required","",3,"placeholder",4,"ngIf"],["matInput","","type","text","formControlName","key","required","",4,"ngIf"],["formControlName","key","required","",3,"placeholder"],["matInput","","type","text","formControlName","key","required",""],[4,"ngTemplateOutlet"],["matInput","","type","number","formControlName","key","required","",4,"ngIf"],["matInput","","type","number","formControlName","key","required",""],["matSuffix","",1,"selection-suffix"],["mat-icon-button","","tippy","Select option",3,"ngClass","click"],["mat-icon-button","","tippy","Insert value",3,"ngClass","click"]],template:function(t,e){1&t&&(b.YNc(0,St,47,21,"ng-container",0),b.ALo(1,"async")),2&t&&b.Q6J("ngIf",b.lcZ(1,1,e.templateVars$))},directives:[A.O5,E.uh,M._Y,M.JL,M.sg,L.KE,L.hX,j.gD,M.JJ,M.u,M.Q7,A.sg,K.Rr,Z.$,V.lW,I.ey,H.Nt,M.qQ,M.wV,M.Fj,B.Y,A.RF,A.n9,A.ED,A.tP,L.R9,A.mk,C.Hw],pipes:[A.Ov],styles:[".dialog-form-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:not(:first-of-type){margin-top:8px}.selection-suffix[_ngcontent-%COMP%]{display:flex}.selection-suffix[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t}(),Ft=n(2832),Jt=n(7553),Mt=n(3653),$t=n(3589),Qt=n(9886),Ot=n(6146),Gt=n(9825),Yt=n(5921),Dt=n(6207);function Et(t,e){1&t&&(b._UZ(0,"div",14),b.ALo(1,"safeHtml")),2&t&&b.Q6J("innerHTML",b.lcZ(1,1,e.ngIf),b.oJD)}function Rt(t,e){if(1&t){var n=b.EpF();b.TgZ(0,"button",15),b.NdJ("click",function(){return b.CHM(n),b.oxw().debugFilter()}),b.TgZ(1,"mat-icon"),b._uU(2,"filter_list"),b.qZA(),b.TgZ(3,"span"),b._uU(4,"Filter"),b.qZA(),b.qZA()}}var Pt=function(){function t(t,e,n,r,s,c,u,l,d,f,y,v){this.dialogRef=t,this.contentTypesService=e,this.router=n,this.route=r,this.contentItemsService=s,this.entitiesService=c,this.contentExportService=u,this.snackBar=l,this.globalConfigService=d,this.dialog=f,this.viewContainerRef=y,this.changeDetectorRef=v,this.contentType$=new a.X(null),this.items$=new a.X(null),this.debugEnabled$=this.globalConfigService.getDebugEnabled$(),this.modules=i.F$,this.gridOptions=(0,o.pi)((0,o.pi)({},h.f),{frameworkComponents:{pubMetaFilterComponent:$,booleanFilterComponent:g.U,idFieldComponent:m.m,contentItemsStatusComponent:F,contentItemsActionsComponent:_,contentItemsEntityComponent:q}}),this.gridApi$=new a.X(null),this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName"),this.subscription=new p.w}return t.prototype.ngOnInit=function(){this.fetchContentType(),this.fetchItems(),this.fetchColumns(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.contentType$.complete(),this.items$.complete(),this.gridApi$.complete(),this.subscription.unsubscribe()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.onGridReady=function(t){this.gridApi$.next(t.api)},t.prototype.fetchContentType=function(){var t=this;this.contentTypesService.retrieveContentType(this.contentTypeStaticName).subscribe(function(e){t.contentType$.next(e)})},t.prototype.fetchItems=function(){var t=this;this.contentItemsService.getAll(this.contentTypeStaticName).subscribe(function(e){t.items$.next(e)})},t.prototype.fetchColumns=function(){var t=this;this.contentItemsService.getColumns(this.contentTypeStaticName).subscribe(function(e){var n=t.buildColumnDefs(e),i=function(t){var e,n;if(t){var i;"="===t.charAt(t.length-1)&&(t=atob(t));try{i=JSON.parse(t)}catch(d){console.error("Can't parse JSON with filters from url:",t)}if(i){var r={};(i.IsPublished||i.IsMetadata)&&(r.Status=l={filterType:"pub-meta",published:i.IsPublished?i.IsPublished:"",metadata:i.IsMetadata?i.IsMetadata:""});var a=Object.keys(i);try{for(var p=(0,o.XA)(a),s=p.next();!s.done;s=p.next()){var c=s.value;if("IsPublished"!==c&&"IsMetadata"!==c){var u=i[c];if("string"==typeof u)r[c]=l={filterType:"text",type:"equals",filter:u};else if("number"==typeof u)r[c]=l={filterType:"number",type:"equals",filter:u,filterTo:null};else if("boolean"==typeof u){var l={filterType:"boolean",filter:u.toString()};r[c]=l}}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}return r}}}(sessionStorage.getItem(v.JA));t.gridApi$.value?t.setColumnDefs(n,i):t.gridApi$.pipe((0,s.h)(function(t){return null!=t}),(0,c.q)(1)).subscribe(function(e){t.setColumnDefs(n,i)})})},t.prototype.setColumnDefs=function(t,e){this.gridApi$.value.setColumnDefs(t),e&&((0,T.P)("Will try to apply filter:",e),this.gridApi$.value.setFilterModel(e))},t.prototype.editItem=function(t){var e=null==t?void 0:t.data,n=(0,x.f)({items:[null==e?{ContentTypeName:this.contentTypeStaticName}:{EntityId:e.Id}]});this.router.navigate(["edit/"+n],{relativeTo:this.route})},t.prototype.exportContent=function(){var t=this.gridApi$.value.getFilterModel(),e=Object.keys(t).length>0,n=[];e&&this.gridApi$.value.forEachNodeAfterFilterAndSort(function(t){n.push(t.data.Id)}),this.router.navigate(["export/"+this.contentTypeStaticName+(n.length>0?"/"+n:"")],{relativeTo:this.route})},t.prototype.filesDropped=function(t){var e=t[0];switch(e.name.substring(e.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":this.importContent(t);break;case"json":this.importItem(t)}},t.prototype.importContent=function(t){this.router.navigate([this.contentTypeStaticName+"/import"],{relativeTo:this.route,state:{files:t}})},t.prototype.importItem=function(t){this.router.navigate(["import"],{relativeTo:this.route,state:{files:t}})},t.prototype.addMetadata=function(){var t=this;this.dialog.open(Ut,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().pipe((0,c.q)(1)).subscribe(function(e){if(null!=e){var n={items:[{ContentTypeName:t.contentTypeStaticName,For:(0,o.pi)((0,o.pi)((0,o.pi)({Target:e.target},e.keyType===y.Z.keyTypes.guid&&{Guid:e.key}),e.keyType===y.Z.keyTypes.number&&{Number:parseInt(e.key,10)}),e.keyType===y.Z.keyTypes.string&&{String:e.key})}]},i=(0,x.f)(n);t.router.navigate(["edit/"+i],{relativeTo:t.route}),t.changeDetectorRef.markForCheck()}})},t.prototype.debugFilter=function(){console.warn("Current filter:",this.gridApi$.value.getFilterModel()),alert("Check console for filter information")},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe((0,s.h)(function(t){return t instanceof r.m2}),(0,u.O)(!!this.route.snapshot.firstChild),(0,l.U)(function(){return!!t.route.snapshot.firstChild}),(0,d.G)(),(0,s.h)(function(t){var e=(0,o.CR)(t,2);return e[0]&&!e[1]})).subscribe(function(){t.fetchItems()}))},t.prototype.buildColumnDefs=function(t){var e,n,i=[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",cellRendererParams:{tooltipGetter:function(t){return"ID: "+t.Id+"\nRepoID: "+t._RepositoryId+"\nGUID: "+t.Guid}}},{headerName:"Status",field:"Status",width:80,headerClass:"dense",cellClass:"no-outline",filter:"pubMetaFilterComponent",cellRenderer:"contentItemsStatusComponent",valueGetter:this.valueGetterStatus},{headerName:"Item (Entity)",field:"_Title",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,filter:"agTextColumnFilter",onCellClicked:this.editItem.bind(this)},{headerName:"Stats",headerTooltip:"Used by others / uses others",field:"_Used",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:this.valueGetterUsage},{cellClass:"secondary-action no-padding",width:120,cellRenderer:"contentItemsActionsComponent",pinned:"right",cellRendererParams:{onClone:this.clone.bind(this),onExport:this.export.bind(this),onDelete:this.delete.bind(this)}}];try{for(var r=(0,o.XA)(t),a=r.next();!a.done;a=r.next()){var p=a.value,s={headerName:p.StaticName,field:p.StaticName,flex:2,minWidth:250,cellClass:"no-outline",sortable:!0};switch(p.Type){case f.Q.Entity:try{s.allowMultiValue=p.Metadata.Entity.AllowMultiValue}catch(c){s.allowMultiValue=!0}s.cellRenderer="contentItemsEntityComponent",s.valueGetter=this.valueGetterEntityField,s.filter="agTextColumnFilter";break;case f.Q.DateTime:try{s.useTimePicker=p.Metadata.DateTime.UseTimePicker}catch(c){s.useTimePicker=!1}s.valueGetter=this.valueGetterDateTime,s.filter="agTextColumnFilter";break;case f.Q.Boolean:s.valueGetter=this.valueGetterBoolean,s.filter="booleanFilterComponent";break;case f.Q.Number:s.filter="agNumberColumnFilter";break;default:s.filter="agTextColumnFilter"}i.push(s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.prototype.clone=function(t){var e=(0,x.f)({items:[{ContentTypeName:this.contentTypeStaticName,DuplicateEntity:t.Id}]});this.router.navigate(["edit/"+e],{relativeTo:this.route})},t.prototype.export=function(t){this.contentExportService.exportEntity(t.Id,this.contentTypeStaticName,!0)},t.prototype.delete=function(t){var e=this;confirm("Delete '"+t._Title+"' ("+t._RepositoryId+")?")&&(this.snackBar.open("Deleting..."),this.entitiesService.delete(this.contentTypeStaticName,t._RepositoryId,!1).subscribe({next:function(){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchItems()},error:function(n){e.snackBar.dismiss(),confirm(n.error.ExceptionMessage+"\n\nDo you want to force delete '"+t._Title+"' ("+t._RepositoryId+")?")&&(e.snackBar.open("Deleting..."),e.entitiesService.delete(e.contentTypeStaticName,t._RepositoryId,!0).subscribe(function(){e.snackBar.open("Deleted",null,{duration:2e3}),e.fetchItems()}))}}))},t.prototype.valueGetterStatus=function(t){var e=t.data;return{published:e.IsPublished,metadata:!!e.For}},t.prototype.valueGetterUsage=function(t){var e=t.data;return e._Used+" / "+e._Uses},t.prototype.valueGetterEntityField=function(t){var e=t.data[t.colDef.field];return 0===e.length?null:e.map(function(t){return t.Title})},t.prototype.valueGetterDateTime=function(t){var e=t.data[t.colDef.field];return e?t.colDef.useTimePicker?e.substring(0,19).replace("T"," "):e.substring(0,10):null},t.prototype.valueGetterBoolean=function(t){var e=t.data[t.colDef.field];return"boolean"!=typeof e?null:e.toString()},t.\u0275fac=function(e){return new(e||t)(b.Y36(E.so),b.Y36(Ft.s),b.Y36(r.F0),b.Y36(r.gz),b.Y36(P.l),b.Y36(Jt.g),b.Y36(Mt.i),b.Y36($t.ux),b.Y36(Qt.bE),b.Y36(E.uw),b.Y36(b.s_b),b.Y36(b.sBO))},t.\u0275cmp=b.Xpm({type:t,selectors:[["app-content-items"]],decls:41,vars:15,consts:[["appToggleDebug","",1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"innerHTML",4,"ngIf"],[1,"grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","modules","gridOptions","allowedFileTypes","gridReady","filesDropped"],[1,"grid-more-actions-box"],["mat-button","","tippy","Export xml list",3,"click"],["mat-button","","tippy","Import xml list",3,"click"],["mat-button","","tippy","Import single json item",3,"click"],["mat-button","","tippy","Add metadata to entity",3,"click"],["mat-button","","color","accent","tippy","Print filter to console",3,"click",4,"ngIf"],["mat-fab","","mat-elevation-z24","","tippy","Add item",1,"grid-fab",3,"click"],[3,"innerHTML"],["mat-button","","color","accent","tippy","Print filter to console",3,"click"]],template:function(t,e){var n,o;1&t&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div"),b._uU(4),b.ALo(5,"async"),b.qZA(),b.TgZ(6,"button",3),b.NdJ("click",function(){return e.closeDialog()}),b.TgZ(7,"mat-icon"),b._uU(8,"close"),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b._UZ(9,"router-outlet"),b.YNc(10,Et,2,3,"div",4),b.ALo(11,"async"),b.TgZ(12,"div",5),b.TgZ(13,"ag-grid-angular",6),b.NdJ("gridReady",function(t){return e.onGridReady(t)})("filesDropped",function(t){return e.filesDropped(t)}),b.ALo(14,"async"),b.qZA(),b.TgZ(15,"div",7),b.TgZ(16,"button",8),b.NdJ("click",function(){return e.exportContent()}),b.TgZ(17,"mat-icon"),b._uU(18,"cloud_download"),b.qZA(),b.TgZ(19,"span"),b._uU(20,"Data"),b.qZA(),b.qZA(),b.TgZ(21,"button",9),b.NdJ("click",function(){return e.importContent()}),b.TgZ(22,"mat-icon"),b._uU(23,"cloud_upload"),b.qZA(),b.TgZ(24,"span"),b._uU(25,"Data"),b.qZA(),b.qZA(),b.TgZ(26,"button",10),b.NdJ("click",function(){return e.importItem()}),b.TgZ(27,"mat-icon"),b._uU(28,"cloud_upload"),b.qZA(),b.TgZ(29,"span"),b._uU(30,"Item"),b.qZA(),b.qZA(),b.TgZ(31,"button",11),b.NdJ("click",function(){return e.addMetadata()}),b.TgZ(32,"mat-icon"),b._uU(33,"local_offer"),b.qZA(),b.TgZ(34,"span"),b._uU(35,"Metadata"),b.qZA(),b.qZA(),b.YNc(36,Rt,5,0,"button",12),b.ALo(37,"async"),b.qZA(),b.TgZ(38,"button",13),b.NdJ("click",function(){return e.editItem(null)}),b.TgZ(39,"mat-icon"),b._uU(40,"add"),b.qZA(),b.qZA(),b.qZA(),b.qZA()),2&t&&(b.xp6(4),b.hij("",null==(n=b.lcZ(5,7,e.contentType$))?null:n.Name," Data"),b.xp6(6),b.Q6J("ngIf",null==(o=b.lcZ(11,9,e.contentType$))||null==o.Metadata?null:o.Metadata.ListInstructions),b.xp6(3),b.Q6J("rowData",b.lcZ(14,11,e.items$))("modules",e.modules)("gridOptions",e.gridOptions)("allowedFileTypes","xml,json"),b.xp6(23),b.Q6J("ngIf",b.lcZ(37,13,e.debugEnabled$)))},directives:[Ot.D,E.uh,V.lW,Z.$,C.Hw,r.lC,A.O5,Gt.N8,Yt.z],pipes:[A.Ov,Dt.z],styles:[""]}),t}()},6466:function(t,e,n){"use strict";n.d(e,{H:function(){return p},a:function(){return s}});var o=n(1785),i=n(2693),r=n(3582),a=n(2837),p="admin/app/",s=function(){function t(t,e,n){this.http=t,this.context=e,this.dnnContext=n}return t.prototype.importApp=function(t,e){var n=new FormData;return n.append("File",t),n.append("Name",e||""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(p+"Import"),n,{params:{zoneId:this.context.zoneId.toString()}})},t.\u0275fac=function(e){return new(e||t)(o.LFG(i.eN),o.LFG(r._),o.LFG(a._y))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t}()},6085:function(t,e,n){"use strict";n.d(e,{m:function(){return c}});var o=n(8838),i=n(1785),r=n(3589),a=n(7064),p=n(7512),s=n(7307),c=function(){function t(t){this.snackBar=t}return t.prototype.agInit=function(t){this.id=t.value,this.tooltip=t.tooltipGetter(t.data)},t.prototype.refresh=function(t){return!0},t.prototype.copy=function(){(0,o.v)(this.tooltip),this.snackBar.open("Copied to clipboard",null,{duration:2e3})},t.\u0275fac=function(e){return new(e||t)(i.Y36(r.ux))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-id-field"]],decls:5,vars:2,consts:[["matRipple","",1,"id-box","highlight",3,"tippy","click"],[1,"id"],[1,"icon"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.NdJ("click",function(){return e.copy()}),i.TgZ(1,"span",1),i._uU(2),i.qZA(),i.TgZ(3,"mat-icon",2),i._uU(4,"file_copy"),i.qZA(),i.qZA()),2&t&&(i.Q6J("tippy",e.tooltip),i.xp6(2),i.Oqu(e.id))},directives:[a.wG,p.$,s.Hw],styles:[".id-box[_ngcontent-%COMP%]{padding:0 8px;text-align:end;height:100%;display:flex;align-items:center;justify-content:flex-end}.id-box[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{max-width:100%;text-overflow:ellipsis;overflow:hidden}.id-box[_ngcontent-%COMP%]:hover{text-decoration:none}.id-box[_ngcontent-%COMP%]:hover   .id[_ngcontent-%COMP%], .id-box[_ngcontent-%COMP%]:not(:hover)   .icon[_ngcontent-%COMP%]{display:none}"]}),t}()},7289:function(t,e,n){"use strict";function o(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}n.d(e,{M:function(){return o}})},6146:function(t,e,n){"use strict";n.d(e,{D:function(){return r}});var o=n(1785),i=n(9886),r=function(){function t(t){this.globalConfigService=t}return t.prototype.onClick=function(t){(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&t.shiftKey&&t.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())},t.\u0275fac=function(e){return new(e||t)(o.Y36(i.bE))},t.\u0275dir=o.lG2({type:t,selectors:[["","appToggleDebug",""]],hostBindings:function(t,e){1&t&&o.NdJ("click",function(t){return e.onClick(t)})}}),t}()},8838:function(t,e,n){"use strict";function o(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}n.d(e,{v:function(){return o}})},6207:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var o=n(1785),i=n(9624),r=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},t.\u0275fac=function(e){return new(e||t)(o.Y36(i.H7,16))},t.\u0275pipe=o.Yjl({name:"safeHtml",type:t,pure:!0}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/12.04.00/ng-edit/projects_ng-dialogs_src_app_content-items_content-items_component_ts.3a6fad65453a6ce1d684.js.map
{"version":3,"file":"default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/services/app-dialog-config.service.ts","./projects/eav-ui/src/app/app-administration/services/content-types.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app.service.ts","./projects/eav-ui/src/app/app-administration/services/import-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/services/index.ts","./projects/eav-ui/src/app/app-administration/services/pipelines.service.ts","./projects/eav-ui/src/app/app-administration/services/views.service.ts","./projects/eav-ui/src/app/import-app/services/import-app.service.ts","./projects/eav-ui/src/app/shared/components/base-with-child-dialog.component.ts","./projects/eav-ui/src/app/shared/helpers/file-to-base64.helper.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, OnDestroy } from '@angular/core';\r\nimport { map, Observable, shareReplay, tap } from 'rxjs';\r\nimport { GlobalConfigService } from '../../edit/shared/store/ngrx-data';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { Context } from '../../shared/services/context';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { ServiceBase } from '../../shared/services/service-base';\r\nimport { EavLogger } from '../../shared/logging/eav-logger';\r\nimport { DialogContextSiteApp } from '../../shared/models/dialog-context.models';\r\n\r\nconst logThis = false;\r\n\r\nconst webApiSettings = 'admin/dialog/settings';\r\n\r\n\r\n@Injectable()\r\nexport class AppDialogConfigService extends ServiceBase implements OnDestroy {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private context: Context,\r\n    // private dnnContext: DnnContext,\r\n    private globalConfigService: GlobalConfigService,\r\n    featuresService: FeaturesService,\r\n  ) {\r\n    super(new EavLogger('AppDialogConfigService', logThis));\r\n    this.log.a(`using context #${this.context.log.svcId}`);\r\n    featuresService.loadFromService(this);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.destroy();\r\n    // TODO: probably should add an onDestroy and ensure all subscriptions in dialogSettings$ are killed\r\n  }\r\n\r\n  private dialogSettings$: Record<number, Observable<DialogSettings>> = {};\r\n\r\n  getCurrent$(): Observable<DialogSettings> {\r\n    const appId = this.context.appId;\r\n    this.log.a(`getCurrent\\$ - appId:${appId}`);\r\n    return this.getShared$(appId);\r\n  }\r\n\r\n    // new 2dg\r\n    getSitePrimaryApp$(): Observable<DialogContextSiteApp> {\r\n      return this.getCurrent$().pipe(map(dc => dc?.Context.Site.PrimaryApp));\r\n    }\r\n\r\n    getGlobalPrimaryApp$(): Observable<DialogContextSiteApp> {\r\n      return this.getCurrent$().pipe(map(dc => dc?.Context.System.PrimaryApp));\r\n    }\r\n\r\n\r\n  getShared$(appId: number): Observable<DialogSettings> {\r\n    this.log.a('getShared$ appId: ' + appId);\r\n    // if (!this.dialogSettings$[appIdToUse])\r\n    this.dialogSettings$[appId] ??= this.getDialogSettings(appId, 'getShared$').pipe(shareReplay({ refCount: false }));\r\n    return this.dialogSettings$[appId];\r\n  }\r\n\r\n  getDialogSettings(appId?: number, reqBy?: string): Observable<DialogSettings> {\r\n    this.log.a('getDialogSettings', {appId, reqBy});\r\n    return this.http.get<DialogSettings>(webApiSettings, {\r\n      params: { appId: appId ?? this.context.appId.toString() },\r\n    }).pipe(\r\n      map(dlgSettings => {\r\n        dlgSettings.Context.Language.List = dlgSettings.Context.Language.List.filter(language => language.IsEnabled);\r\n        return dlgSettings;\r\n      }),\r\n      tap(dlgSettings => {\r\n        this.globalConfigService.allowDebug(dlgSettings.Context.Enable.DebugMode);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map } from 'rxjs';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentType, ContentTypeEdit } from '../models/content-type.model';\r\nimport { ScopeDetailsDto } from '../models/scopedetails.dto';\r\n\r\n// We should list all the \"full\" paths here, so it's easier to find when searching for API calls\r\nexport const webApiTypeRoot = 'admin/type/';\r\nconst webApiTypeGet = 'admin/type/get';\r\nconst webApiTypes = 'admin/type/list';\r\nconst webApiTypeScopes = 'admin/type/scopes';\r\nconst webApiTypeSave = 'admin/type/save';\r\nconst webApiTypeDelete = 'admin/type/delete';\r\nconst webApiTypeImport = 'admin/type/import';\r\nconst webApiTypeAddGhost = 'admin/type/addghost';\r\n\r\n@Injectable()\r\nexport class ContentTypesService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  private apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  retrieveContentType(staticName: string) {\r\n    return this.http.get<ContentType>(this.apiUrl(webApiTypeGet), {\r\n      params: { appId: this.context.appId.toString(), contentTypeId: staticName }\r\n    });\r\n  }\r\n\r\n  retrieveContentTypes(scope: string) {\r\n    return this.http.get<ContentType[]>(this.apiUrl(webApiTypes), {\r\n      params: { appId: this.context.appId.toString(), scope }\r\n    });\r\n  }\r\n\r\n  // TODO: remove this method after upgrade to V2\r\n  getScopes() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.context.appId.toString() }\r\n    }).pipe(\r\n      map(scopesData => {\r\n        // wip during upgrade:\r\n        const scopes = scopesData.old;\r\n        const scopeOptions: ScopeOption[] = Object.keys(scopes).map(key => ({ name: scopes[key], value: key }));\r\n        return scopeOptions;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getScopesV2() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.context.appId.toString() }\r\n    }).pipe(\r\n      map(scopesData => scopesData.scopes),\r\n    );\r\n  }\r\n\r\n  save(contentType: ContentTypeEdit) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeSave), contentType, {\r\n      params: { appid: this.context.appId.toString() },\r\n    });\r\n  }\r\n\r\n  delete(contentType: ContentType) {\r\n    return this.http.delete<boolean>(this.apiUrl(webApiTypeDelete), {\r\n      params: { appid: this.context.appId.toString(), staticName: contentType.StaticName },\r\n    });\r\n  }\r\n\r\n  import(files: File[]) {\r\n    const formData = new FormData();\r\n    for (const file of files) {\r\n      formData.append('File', file);\r\n    }\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiTypeImport), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  createGhost(sourceStaticName: string) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeAddGhost), null, {\r\n      params: { appid: this.context.appId.toString(), sourceStaticName },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentInfo } from '../models/content-info.model';\r\nimport { webApiAppPartsRoot } from './import-app-parts.service';\r\n\r\n@Injectable()\r\nexport class ExportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getContentInfo(scope: string) {\r\n    return this.http.get<ContentInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Get'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString(), scope },\r\n    });\r\n  }\r\n\r\n  exportParts(contentTypeIds: number[], entityIds: number[], templateIds: number[]) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Export')\r\n      + '?appId=' + this.context.appId.toString()\r\n      + '&zoneId=' + this.context.zoneId.toString()\r\n      + '&contentTypeIdsString=' + contentTypeIds.join(';')\r\n      + '&entityIdsString=' + entityIds.join(';')\r\n      + '&templateIdsString=' + templateIds.join(';');\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { AppInfo } from '../models/app-info.model';\r\n\r\n@Injectable()\r\nexport class ExportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAppInfo() {\r\n    return this.http.get<AppInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Statistics'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString() },\r\n    });\r\n  }\r\n\r\n  exportApp(includeContentGroups: boolean, resetAppGuid: boolean) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Export')\r\n      + '?appId=' + this.context.appId\r\n      + '&zoneId=' + this.context.zoneId\r\n      + '&includeContentGroups=' + includeContentGroups\r\n      + '&resetAppGuid=' + resetAppGuid;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  exportForVersionControl({ includeContentGroups, resetAppGuid, withFiles }:\r\n    { includeContentGroups: boolean; resetAppGuid: boolean; withFiles: boolean; }) {\r\n    return this.http.get<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'SaveData'), {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        includeContentGroups: includeContentGroups.toString(),\r\n        resetAppGuid: resetAppGuid.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppPartsRoot = 'admin/appParts/';\r\n\r\n@Injectable()\r\nexport class ImportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importAppParts(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Import'), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  /** Reset the App back to the state it was in the last xml export */\r\n  resetApp(withFiles: boolean) {\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Reset'), {}, {\r\n      params: {\r\n        appId: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      }\r\n    });\r\n  }\r\n}\r\n","export * from './app-dialog-config.service';\r\nexport * from './content-types.service';\r\nexport * from './export-app-parts.service';\r\nexport * from './export-app.service';\r\nexport * from './import-app-parts.service';\r\nexport * from './pipelines.service';\r\nexport * from './views.service';\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { from, map, switchMap } from 'rxjs';\r\nimport { webApiEntityList } from '../../edit/shared/services';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { toBase64 } from '../../shared/helpers/file-to-base64.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Query } from '../models/query.model';\r\n\r\nconst webApiQueryImport = 'admin/query/import';\r\nconst webApiQueryClone = 'admin/query/Clone';\r\nconst webApiQueryDelete = 'admin/query/Delete';\r\nexport const webApiQueryRun = 'admin/query/Run';\r\nexport const webApiQueryDebugStream = 'admin/query/DebugStream';\r\nexport const webApiQuerySave = 'admin/query/Save';\r\nexport const webApiQueryGet = 'admin/query/Get';\r\nexport const webApiQueryDataSources = 'admin/query/DataSources';\r\n\r\n@Injectable()\r\nexport class PipelinesService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAll(contentType: string) {\r\n    return this.http.get<Query[]>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityList), {\r\n      params: { appId: this.context.appId.toString(), contentType }\r\n    });\r\n  }\r\n\r\n  importQuery(file: File) {\r\n    return from(toBase64(file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryImport), {\r\n          AppId: this.context.appId.toString(),\r\n          ContentBase64: fileBase64,\r\n        });\r\n      }),\r\n      map(success => {\r\n        const result: FileUploadResult = {\r\n          Success: success,\r\n          Messages: [],\r\n        };\r\n        return result;\r\n      }),\r\n    );\r\n  }\r\n\r\n  clonePipeline(id: number) {\r\n    return this.http.get<null>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryClone), {\r\n      params: { Id: id.toString(), appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  delete(id: number) {\r\n    return this.http.delete<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryDelete), {\r\n      params: { appId: this.context.appId.toString(), Id: id.toString() },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Polymorphism } from '../models/polymorphism.model';\r\nimport { ViewUsage } from '../models/view-usage.model';\r\nimport { View } from '../models/view.model';\r\n\r\nconst webApiViewRoot = 'admin/view/';\r\nconst webApiViews = webApiViewRoot + 'all';\r\nconst webApiViewDelete = webApiViewRoot + 'delete';\r\nconst webApiViewImport = webApiViewRoot + 'import';\r\nconst webApiViewPolymorph = webApiViewRoot + 'polymorphism';\r\nconst webApiViewUsage = webApiViewRoot + 'usage';\r\n\r\n@Injectable()\r\nexport class ViewsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAll() {\r\n    return this.http.get<View[]>(this.dnnContext.$2sxc.http.apiUrl(webApiViews), {\r\n      params: { appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  delete(id: number) {\r\n    return this.http.get<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiViewDelete), {\r\n      params: { appId: this.context.appId.toString(), Id: id.toString() },\r\n    });\r\n  }\r\n\r\n  import(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiViewImport), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  export(id: number) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiViewRoot + 'json')\r\n      + '?appId=' + this.context.appId\r\n      + '&viewId=' + id;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  getPolymorphism() {\r\n    return this.http.get<Polymorphism>(this.dnnContext.$2sxc.http.apiUrl(webApiViewPolymorph), {\r\n      params: { appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  getUsage(guid: string) {\r\n    return this.http.get<ViewUsage[]>(this.dnnContext.$2sxc.http.apiUrl(webApiViewUsage), {\r\n      params: { appId: this.context.appId.toString(), guid }\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of, switchMap } from 'rxjs';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppRoot = 'admin/app/';\r\n\r\n@Injectable()\r\nexport class ImportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importApp(file: File, changedName: string, retryOnDuplicate = false): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    formData.append('Name', changedName ?? '');\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Import'), formData, {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    }).pipe(\r\n      switchMap(result => {\r\n        if (retryOnDuplicate && result.Messages[0]?.MessageType === FileUploadMessageTypes.Warning) {\r\n          const folderName = prompt(result.Messages[0].Text + ' Would you like to install it using another folder name?');\r\n          if (folderName) {\r\n            return this.importApp(file, folderName, true);\r\n          }\r\n        }\r\n        return of(result);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Directive, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { filter, map, pairwise, startWith, tap } from 'rxjs';\r\nimport { BaseComponent } from './base.component';\r\nimport { EavLogger } from '../logging/eav-logger';\r\n\r\nconst logThis = false;\r\n\r\n// 2024-06-12 2dm experimental - remove comments if all is good mid of June\r\n// - previously had\r\n// @Directive()   // Needs the @Directive() so the compiler allows OnDestroy to be implemented\r\n// ...then tried this\r\n// @Component({\r\n//   selector: 'app-base-component-with-child',\r\n//   template: ''\r\n// })\r\n// ...but then added abstract, so I think it doesn't actually need all that\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseWithChildDialogComponent extends BaseComponent implements OnDestroy {\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    public log?: EavLogger\r\n  ) {\r\n    super();\r\n    this.log ??= new EavLogger('BaseComponent', logThis);\r\n  }\r\n\r\n  // 2024-06-12 2dm - don't think this is needed since it's already on the base class\r\n  // ngOnDestroy() {\r\n  //   super.ngOnDestroy();\r\n  // }\r\n\r\n  // TODO @2dg not longer in use after refactoring SideNav with Routing\r\n  // protected refreshOnChildClosedDeep() {\r\n  //   return this.router.events.pipe(\r\n  //     filter(event => event instanceof NavigationEnd),\r\n  //     startWith(!!this.route.snapshot.firstChild.firstChild),\r\n  //     map(() => !!this.route.snapshot.firstChild.firstChild),\r\n  //     pairwise(),\r\n  //     filter(([hadChild, hasChild]) => hadChild && !hasChild),\r\n  //   )\r\n  // }\r\n\r\n  protected childDialogClosed$() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild),\r\n      pairwise(),\r\n      filter(([hadChildBefore, hasChildNow]) => hadChildBefore && !hasChildNow),\r\n      // tap(() => console.log('2dm ' + 'childDialogClosed$'))\r\n    )\r\n  }\r\n}\r\n","export function toBase64(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      resolve((reader.result as string).split(',')[1]);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n\r\nexport function toString(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n    reader.onload = () => {\r\n      resolve(reader.result as string);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n"],"names":["HttpClient","map","shareReplay","tap","GlobalConfigService","Context","FeaturesService","ServiceBase","EavLogger","logThis","webApiSettings","AppDialogConfigService","constructor","http","context","globalConfigService","featuresService","dialogSettings$","log","a","svcId","loadFromService","ngOnDestroy","destroy","getCurrent$","appId","getShared$","getSitePrimaryApp$","pipe","dc","Site","PrimaryApp","getGlobalPrimaryApp$","System","getDialogSettings","refCount","reqBy","get","params","toString","dlgSettings","Language","List","filter","language","IsEnabled","allowDebug","Enable","DebugMode","_","i0","ɵɵinject","i1","i2","i3","i4","_2","factory","ɵfac","DnnContext","webApiTypeRoot","webApiTypeGet","webApiTypes","webApiTypeScopes","webApiTypeSave","webApiTypeDelete","webApiTypeImport","webApiTypeAddGhost","ContentTypesService","dnnContext","apiUrl","name","$2sxc","retrieveContentType","staticName","contentTypeId","retrieveContentTypes","scope","getScopes","scopesData","scopes","old","scopeOptions","Object","keys","key","value","getScopesV2","save","contentType","post","appid","delete","StaticName","import","files","formData","FormData","file","append","zoneId","createGhost","sourceStaticName","webApiAppPartsRoot","ExportAppPartsService","getContentInfo","exportParts","contentTypeIds","entityIds","templateIds","url","join","window","open","webApiAppRoot","ExportAppService","getAppInfo","exportApp","includeContentGroups","resetAppGuid","exportForVersionControl","withFiles","withPortalFiles","ImportAppPartsService","importAppParts","resetApp","from","switchMap","webApiEntityList","toBase64","webApiQueryImport","webApiQueryClone","webApiQueryDelete","webApiQueryRun","webApiQueryDebugStream","webApiQuerySave","webApiQueryGet","webApiQueryDataSources","PipelinesService","getAll","importQuery","fileBase64","AppId","ContentBase64","success","result","Success","Messages","clonePipeline","id","Id","webApiViewRoot","webApiViews","webApiViewDelete","webApiViewImport","webApiViewPolymorph","webApiViewUsage","ViewsService","export","getPolymorphism","getUsage","guid","of","FileUploadMessageTypes","ImportAppService","importApp","changedName","retryOnDuplicate","MessageType","Warning","folderName","prompt","Text","NavigationEnd","pairwise","startWith","BaseComponent","BaseWithChildDialogComponent","router","route","childDialogClosed$","events","event","snapshot","firstChild","hadChildBefore","hasChildNow","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","split","onerror","error","readAsText"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["common"],{318:(f,p,t)=>{t.r(p),t.d(p,{replaceContentRoutes:()=>c});var n=t(5544),r=t(9204);const a={name:"REPLACE_CONTENT_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,r.A)(function*(){const{ReplaceContentComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_replace-content_replace-content_component_ts")]).then(t.bind(t,4513));return m})()};var u=t(1195);const c=[{path:"",component:n.DialogEntryComponent,data:{dialog:a},children:[...u.Ed]}]},753:(f,p,t)=>{t.r(p),t.d(p,{contentItemsRoutes:()=>s});var n=t(3454),r=t(5544),a=t(9204);const u={name:"IMPORT_CONTENT_ITEM_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,a.A)(function*(){const{ImportContentItemComponent:l}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts")]).then(t.bind(t,6754));return l})()},c={name:"CONTENT_ITEMS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,a.A)(function*(){const{ContentItemsComponent:l}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_content-items_component_ts")]).then(t.bind(t,7730));return l})()};var m=t(1195);const s=[{path:"",component:r.DialogEntryComponent,data:{dialog:c},children:[...n.H.getRoutes(),{path:"export/:contentTypeStaticName",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,4350)).then(l=>l.ContentExportRoutes)},{path:"export/:contentTypeStaticName/:selectedIds",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,4350)).then(l=>l.ContentExportRoutes)},{path:"import",component:r.DialogEntryComponent,data:{dialog:u}},{path:":contentTypeStaticName/import",loadChildren:()=>t.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(t.bind(t,3031)).then(l=>l.contentImportRoutes),data:{title:"Import Items"}},...m.RD]}]},1423:(f,p,t)=>{t.d(p,{g:()=>s});var n=t(4646),r=t(2938),a=t(4601),u=t(4038),c=t(5081),m=t(1659);let s=(()=>{class l{constructor(){this.clipboard=(0,r.d)(c.W)}agInit(e){this.value=e.value}refresh(e){return!0}copy(e){e=u.i.tryParse(e)??e,this.clipboard.copyToClipboard(e)}static{this.\u0275fac=function(o){return new(o||l)}}static{this.\u0275cmp=m.VBU({type:l,selectors:[["app-analyze-settings-value"]],decls:3,vars:2,consts:[["matRipple","",1,"value-box","highlight",3,"click","tippy"],[1,"value"]],template:function(o,i){1&o&&(m.j41(0,"div",0),m.bIt("click",function(){return i.copy(i.value)}),m.j41(1,"span",1),m.EFF(2),m.k0s()()),2&o&&(m.Y8G("tippy",i.value),m.R7$(2),m.JRh(i.value))},dependencies:[n.pZ,n.r6,a.e],styles:[".value-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.value-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}}return l})()},1477:(f,p,t)=>{function n(r){try{const a=r?.Api;if(!a)return;const c={...window.$2sxc.env.header,appApi:a};window.$2sxc.env.load(c)}catch{}}t.d(p,{W:()=>n})},1657:(f,p,t)=>{t.d(p,{E:()=>i});var n=t(1659),r=t(6256),a=t(4646),u=t(3840),c=t(8136),m=t(9001),s=t(4601);function l(h,g){if(1&h){const _=n.RV6();n.j41(0,"div",2),n.bIt("click",function(){n.eBV(_);const E=n.XpG();return n.Njj(E.openLightspeedFeatureInfo())}),n.j41(1,"mat-icon",3),n.EFF(2," bolt "),n.k0s()()}}function d(h,g){if(1&h&&(n.j41(0,"a",5)(1,"mat-icon",6),n.EFF(2," bolt "),n.k0s()()),2&h){const _=n.XpG(2);n.Y8G("href","#"+_.params().lightSpeedLink(_.lightSpeedOwner()),n.B4B)}}function e(h,g){if(1&h&&(n.j41(0,"a",5)(1,"mat-icon",7),n.EFF(2," bolt "),n.k0s()()),2&h){const _=n.XpG(2);n.Y8G("href","#"+_.params().lightSpeedLink(_.lightSpeedOwner()),n.B4B)}}function o(h,g){if(1&h&&(n.j41(0,"div",4),n.DNE(1,d,3,1,"a",5)(2,e,3,1,"a",5),n.k0s()),2&h){const _=n.XpG();n.ZvI("eav-grid-action-button ",_.appHasLightSpeed?"":"disabled",""),n.Y8G("tippy",_.appHasLightSpeed?_.lightSpeed().Title:"Not yet configured for LightSpeed"),n.R7$(),n.vxM(_.appLightSpeedEnabled?1:2)}}let i=(()=>{class h{constructor(){this.lightSpeedOwner=n.hFB.required(),this.params=n.hFB.required(),this.lightSpeed=n.hFB.required(),this.features=(0,n.WQX)(m.D),this.lightSpeedEnabled=this.features.isEnabled[c.T.LightSpeed]}get appHasLightSpeed(){return null!=this.lightSpeed()?.Id}get appLightSpeedEnabled(){return 1==this.lightSpeed()?.IsEnabled}openLightspeedFeatureInfo(){this.params().openLightspeedFeatureInfo()}static{this.\u0275fac=function(v){return new(v||h)}}static{this.\u0275cmp=n.VBU({type:h,selectors:[["app-lightspeed-action"]],inputs:{lightSpeedOwner:[1,"lightSpeedOwner"],params:[1,"params"],lightSpeed:[1,"lightSpeed"]},decls:2,vars:1,consts:[["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled"],["matRipple","",3,"class","tippy"],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy"],[1,"default-link",3,"href"],["matBadgeSize","small","matBadge","\u2705","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadge","\u26d4","matBadgePosition","below after","aria-hidden","false"]],template:function(v,E){1&v&&n.DNE(0,l,3,0,"div",0)(1,o,3,5,"div",1),2&v&&n.vxM(E.lightSpeedEnabled()?1:0)},dependencies:[s.e,u.m_,u.An,r.Y,r.k,a.pZ,a.r6],encapsulation:2})}}return h})()},1693:(f,p,t)=>{t.d(p,{d:()=>m});var n=t(1659),r=t(7567),a=t(8172),u=t(334),c=t(8873);let m=(()=>{class s{constructor(){this.context=(0,n.WQX)(c.o)}openCodeFile(d,e,o){const i={items:[{Path:d,...null!=o&&u.c.editId(o)}]},h={...this.#t(a.Q$,r.Y.Develop),...this.#t(a.P3,e.toString()),...this.#t(a.Ul,JSON.stringify(i.items))},g=this.#n(h);window.open(g,"_blank")}openAppAdministration(d,e,o,i){const h={...o&&{tab:o},...i&&{scope:i}},g={...this.#t(a.v4,d.toString()),...this.#t(a.K7,e.toString()),...this.#t(a.Q$,r.Y.App),...Object.keys(h).length?this.#t(a.z0,JSON.stringify(h)):""},_=this.#n(g);window.open(_,"_blank")}#e(){return{...this.#t(a.v4,this.context.zoneId),...this.#t(a.K7,this.context.appId),...this.#t(a.Zm,this.context.moduleId?.toString()),...this.#t(a.p$,this.context.contentBlockId?.toString()),...this.#t(a.h9),...sessionStorage.getItem(a.tn)?this.#t(a.tn):{}}}#t(d,e){const o=d.replace(a.Pl,""),i=e??sessionStorage.getItem(d),h=encodeURIComponent(i);return{[o]:h}}#n(d){const e=sessionStorage.getItem(a.zX),o=new URL(e),i=o.origin+o.pathname+o.search,h={...this.#e(),...d};return i+Object.entries(h).reduce((_,[v,E])=>`${_}&${v}=${E}`,"").replace("&","#")}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=n.jDH({token:s,factory:s.\u0275fac})}}return s})()},2620:(f,p,t)=>{t.d(p,{y:()=>n});class n{refresh(a){return!0}}},3143:(f,p,t)=>{t.d(p,{$:()=>u});var n=t(9923),r=t(819);const a=(c,m)=>(c.push(m),c);function u(){return(0,r.N)((c,m)=>{(0,n.T)(a,[])(c).subscribe(m)})}},3518:(f,p,t)=>{function n(r,a,u=0){const m=r.length===u+1?a:n.bind(this,r,a,u+1),s=r[u],l="string"==typeof s.test?s.test:null,d="function"==typeof s.test?s.test:null,e=window;null!=l&&e[l]||null!=d&&d()?a():window.require([s.src],o=>{o&&!e[l]&&(e[l]=o),m()})}t.d(p,{P:()=>n})},3583:(f,p,t)=>{t.d(p,{U:()=>d});var n=t(6474),r=t(1659);const m="admin/app/app";let d=(()=>{class e extends n.D{getAll(){return this.getSignal("admin/app/list",{params:{zoneId:this.zoneId}})}getInheritable(){return this.getSignal("admin/app/InheritableApps",{params:{zoneId:this.zoneId}})}getPendingApps(){return this.getSignal("admin/app/GetPendingApps",{params:{zoneId:this.zoneId}})}create(i,h,g){return this.http.post(this.apiUrl(m),{},{params:{zoneId:this.zoneId,name:i,...null!=h&&{inheritAppId:h},...null!=g&&{templateId:g}}})}installPendingApps(i){return this.http.post(this.apiUrl("admin/app/InstallPendingApps"),i,{params:{zoneId:this.zoneId}})}delete(i){return this.http.delete(this.apiUrl(m),{params:{zoneId:this.zoneId,appId:i.toString()}})}flushCache(i){return this.getHttpApiUrl("admin/app/flushcache",{params:{zoneId:this.zoneId,appId:i.toString()}})}static{this.\u0275fac=(()=>{let i;return function(g){return(i||(i=r.xGo(e)))(g||e)}})()}static{this.\u0275prov=r.jDH({token:e,factory:e.\u0275fac})}}return e})()},3992:(f,p,t)=>{t.d(p,{b:()=>d});var n=t(271),r=t(3550),a=t(6474),u=t(1659);const s="sys/license/Summary";let d=(()=>{class e extends a.D{saveFeatures(i){return this.http.post(this.apiUrl("admin/feature/SaveNew"),i)}getLicenses(){return this.getHttpApiUrl(s)}getLicensesSig(){return this.getSignal(s)}uploadLicense(i){const h=new FormData;return h.append("File",i),this.http.post(this.apiUrl("sys/license/Upload"),h).pipe((0,n.T)(g=>({Success:g.Success,Messages:[{MessageType:g.Success?r.G1.Success:r.G1.Error,Text:`License ${g.Success?"uploaded":"upload failed"}: ${g.Message}`}]})))}retrieveLicense(){return this.getHttpApiUrl("sys/license/Retrieve")}static{this.\u0275fac=(()=>{let i;return function(g){return(i||(i=u.xGo(e)))(g||e)}})()}static{this.\u0275prov=u.jDH({token:e,factory:e.\u0275fac})}}return e})()},4038:(f,p,t)=>{t.d(p,{i:()=>n});class n{static tryParse(a){try{return JSON.parse(a)}catch{}}}},5160:(f,p,t)=>{t.d(p,{O:()=>a});var n=t(1659),r=t(4456);let a=(()=>{class u{constructor(){this.appReservedNames=(0,n.hFB)({})}validate(m){if(!m.value)return null;const s=m.value.toLocaleLowerCase(),l=Object.keys(this.appReservedNames()).find(d=>d.toLocaleLowerCase()===s);return l?{reservedNames:this.appReservedNames()[l]}:null}static mergeReserved(m,s){const l={};return s.forEach(d=>{l[d.StaticName]="this field already exists"}),{...m,...l}}static{this.\u0275fac=function(s){return new(s||u)}}static{this.\u0275dir=n.FsC({type:u,selectors:[["","appReservedNames",""]],inputs:{appReservedNames:[1,"appReservedNames"]},features:[n.Jv_([{provide:r.cz,useExisting:u,multi:!0}])]})}}return u})()},5544:(f,p,t)=>{t.r(p),t.d(p,{DialogEntryComponent:()=>m});var n=t(4435),r=t(8873),a=t(1659),u=t(7941),c=t(2159);let m=(()=>{class s{#e;#t;constructor(d,e,o,i,h,g,_){this.matDialog=d,this.viewContainerRef=e,this.router=o,this.route=i,this.context=h,this.changeDetectorRef=g,this.injector=_,this.log=(0,n.Tq)({DialogEntryComponent:s});const v=this.router.getCurrentNavigation();this.#e=v?.extras?.state||{}}ngOnInit(){const d=this.log.fn("ngOnInit"),e=this.route.snapshot.data.dialog;if(null==e)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");d.a("Open dialog: "+e.name,{id:this.context.id,context:this.context}),e.getComponent(this.injector).then(o=>{const i=this.matDialog;i._dialogAnimatingOpen&&i._lastDialogRef?i._lastDialogRef.afterOpened().subscribe(()=>this.openDialogComponent(e,o)):this.openDialogComponent(e,o)})}ngOnDestroy(){this.#t.close()}openDialogComponent(d,e){this.log.a(`Open dialog(initContext: ${d.initContext})`,{name:d.name,"Contextid:":this.context.log.svcId,"Context:":this.context}),d.initContext&&this.context.init(this.route),this.#t=this.matDialog.open(e,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.#e,panelClass:["dialog-panel",`dialog-panel-${d.panelSize}`,d.showScrollbar?"show-scrollbar":"no-scrollbar",...d.panelClass?d.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.#t.afterClosed().subscribe(o=>{this.log.a("Dialog was closed - name:"+d.name,{data:o});const i=o;if(null==i?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:o}:{relativeTo:this.route.parent.parent,state:o});else this.router.navigate([i.navigateUrl])}),this.changeDetectorRef.markForCheck()}static{this.\u0275fac=function(e){return new(e||s)(a.rXU(u.bZ),a.rXU(a.c1b),a.rXU(c.Ix),a.rXU(c.nX),a.rXU(r.o),a.rXU(a.gRc),a.rXU(a.zZn))}}static{this.\u0275cmp=a.VBU({type:s,selectors:[["app-dialog-entry"]],features:[a.Jv_([r.o])],decls:0,vars:0,template:function(e,o){},encapsulation:2})}}return s})()},5733:(f,p,t)=>{t.r(p),t.d(p,{contentTypeFieldsRoutes:()=>l});var n=t(1195),r=t(3454),a=t(2437),u=t(5544),c=t(9204);const s={name:"EDIT_CONTENT_TYPE_FIELDS_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{EditContentTypeFieldsComponent:d}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_edit-content-type-fields_edit-content-type-fields-974b18")]).then(t.bind(t,5604));return d})()},l=[{path:"",component:u.DialogEntryComponent,data:{dialog:{name:"CONTENT_TYPE_FIELDS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ContentTypeFieldsComponent:d}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_services_clipboard_service_ts-node_modules_angular_mat-15cf82"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-projects_eav-ui_src_app_features_feature-icon-text_feature-icon-text_component_ts-pro-ffb1c9"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts")]).then(t.bind(t,5715));return d})()}},children:[{path:"add/:contentTypeStaticName",component:u.DialogEntryComponent,data:{dialog:s}},{path:"update/:contentTypeStaticName/:id/:editMode",component:u.DialogEntryComponent,data:{dialog:s}},...r.H.getRoutes(),a.k.route,...n.RD]}]},6068:(f,p,t)=>{t.d(p,{g:()=>n.g});var n=t(4029)},6360:(f,p,t)=>{t.d(p,{D:()=>l});var n=t(6474),r=t(1659);let l=(()=>{class d extends n.D{exportContent(o,i){const h=i?"&selectedids="+i.join():"",g=this.apiUrl("admin/entity/Download")+"?appId="+this.appId+"&language="+o.language+"&defaultLanguage="+o.defaultLanguage+"&contentType="+o.contentTypeStaticName+"&recordExport="+o.recordExport+"&resourcesReferences="+o.resourcesReferences+"&languageReferences="+o.languageReferences+h;window.open(g,"_blank","")}exportJson(o){const i=this.apiUrl("admin/type/Json")+"?appId="+this.appId+"&name="+o;window.open(i,"_blank","")}exportEntity(o,i,h){const g=this.apiUrl("admin/entity/Json")+"?appId="+this.appId+"&id="+o+"&prefix="+i+"&withMetadata="+h;window.open(g,"_blank","")}static{this.\u0275fac=(()=>{let o;return function(h){return(o||(o=r.xGo(d)))(h||d)}})()}static{this.\u0275prov=r.jDH({token:d,factory:d.\u0275fac})}}return d})()},6666:(f,p,t)=>{t.d(p,{F:()=>n});const n={App:"App",Site:"Site",Global:"Global"}},6740:(f,p,t)=>{t.d(p,{z:()=>r});const r=t(6619).c.production?[]:["ViewController"]},6953:(f,p,t)=>{t.d(p,{$:()=>r});var n=t(3826);class r{static fieldValuesAreEqual(u,c){return!!(u===c||"number"==typeof u&&"number"==typeof c&&isNaN(u)&&isNaN(c)||Array.isArray(u)&&Array.isArray(c)&&n.a.arraysEqual(u,c))}static getItemValuesChanges(u,c){const m={};for(const s of Object.keys(c)){const l=c[s];r.fieldValuesAreEqual(l,u[s])||(m[s]=l)}return 0===Object.keys(m).length?void 0:m}}},7130:(f,p,t)=>{t.d(p,{U:()=>s});var n=t(6474),r=t(1659);let s=(()=>{class l extends n.D{getLanguage(e){return this.getSignal("admin/zone/GetLanguages",{},e)}toggleLanguage(e,o){return this.getHttpApiUrl("admin/zone/SwitchLanguage",{params:{cultureCode:e,enable:o.toString()}})}getSystemInfo(e){return this.getSignal("admin/zone/GetSystemInfo",{},e)}getLanguagesPermissions(e){return this.getSignal("admin/app/languages",{params:{appId:this.appId}},e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=r.xGo(l)))(i||l)}})()}static{this.\u0275prov=r.jDH({token:l,factory:l.\u0275fac})}}return l})()},7703:(f,p,t)=>{t.d(p,{s:()=>r,w:()=>n});const n=/^[A-Za-z][A-Za-z0-9]+$/,r="Standard letters and numbers are allowed. Must start with a letter."},7903:(f,p,t)=>{t.r(p),t.d(p,{importRoutes:()=>u});var n=t(5544),r=t(9204);const u=[{path:"",component:n.DialogEntryComponent,data:{dialog:{name:"IMPORT_APP_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,r.A)(function*(){const{ImportAppComponent:c}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("projects_eav-ui_src_app_import-app_import-app_component_ts")]).then(t.bind(t,781));return c})()}}}]},8275:(f,p,t)=>{t.d(p,{n:()=>u});var n=t(8857);const r="ValidationMessage.",a="ValidationMessage.NotValid";let u=(()=>{class c{static{this.messages={required:s=>s?`${r}Required`:`${r}RequiredShort`,min:s=>s?`${r}Min`:a,max:s=>s?`${r}Max`:a,minNoItems:s=>s?`${r}MinNoItems`:a,maxNoItems:s=>s?`${r}MaxNoItems`:a,pattern:s=>s?`${r}Pattern`:a,decimals:s=>s?`${r}Decimals`:a,jsonError:s=>s?`${r}JsonError`:a,formulaError:s=>a}}static validateForm(s){const l={};for(const[d,e]of Object.entries(s.controls))if(n.a.markTouched(e),e.invalid)for(const o of Object.keys(e.errors))if(l[d]=this.messages[o]?.(!1),l[d])break;return l}}return c})()},8362:(f,p,t)=>{t.d(p,{l:()=>c});var n=t(1659),r=t(271),a=t(1772),u=t(6474);let c=(()=>{class m extends u.D{getStackSig(l,d,e,o=!1){const i=(0,n.vPA)([]);return this.getAndWrite(a.u+"GetStack",{params:{appId:this.appId,part:l,...d&&{key:d},...e&&{view:e}}},i),(0,n.EWP)(()=>o?i().map(h=>({...h,_value:JSON.stringify(h.Value)})):i())}getStack(l,d,e,o=!1){return this.getHttp(a.u+"GetStack",{params:{appId:this.appId,part:l,...d&&{key:d},...e&&{view:e}}}).pipe((0,r.T)(i=>{if(!o)return i;for(const h of i)h._value=JSON.stringify(h.Value);return i}))}static{this.\u0275fac=(()=>{let l;return function(e){return(l||(l=n.xGo(m)))(e||m)}})()}static{this.\u0275prov=n.jDH({token:m,factory:m.\u0275fac})}}return m})()},8713:(f,p,t)=>{t.d(p,{g:()=>a});var n=t(52),r=t(334);class a{static getLightSpeedEditParams(c){return{items:[r.c.newMetadata(c,n.YX.appMetadata.LightSpeed.ContentTypeName,n.YX.metadata.app,!0)]}}}},8857:(f,p,t)=>{t.d(p,{a:()=>l});var n=t(2434),r=t(4435),a=t(6740),u=t(6953),c=t(8275);const m={all:!0,constructor:!1,markTouched:!1,set:!1,disable:!1,getErrors:!0,fields:[...a.z,"*"]},s="ValidationMessage.";class l{constructor(e,o="unknown",i=!1){this.control=e,this.name=o,this.moreDisabled=i,this.log=(0,r.Tq)({UiControl:l},m),this.#t={jsonWarning:`${s}JsonWarning`,formulaWarning:`${s}NotValid`},this.control??={dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1},this.log.extendName(`[${o}]`),this.log.aIfInList("fields",this.name,{moreDisabled:i},"constructor")}static emptyControl(){return new l({dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1})}get dirty(){return this.control.dirty}get invalid(){return this.control.invalid}get touched(){return this.control.touched}get disabled(){return this.control.disabled||this.moreDisabled}get touchedAndInvalid(){return this.control.touched&&this.control.invalid}markTouched(){this.log.aIfInList("fields",this.name,null,"markTouched"),l.markTouched(this.control)}setIfChanged(e){this.log.aIfInList("fields",this.name,{before:this.control.value,newValue:e},"setIfChanged"),!(0,n.A)(e,this.control.value)&&this.#e(e)}#e(e){const o=this.control,i=o.value;this.log.aIfInList("fields",this.name,{before:i,newValue:e},"set"),o.touched||o.markAsTouched(),!o.dirty&&!u.$.fieldValuesAreEqual(i,e)&&o.markAsDirty(),o.patchValue(e)}disable(e){this.log.aIfInList("fields",this.name,null,`disable: ${e}`),l.disable(this.control,e)}static markTouched(e){e.touched||(e.markAsTouched(),e.updateValueAndValidity())}static disable(e,o){e.disabled!==o&&(o?e.disable():e.enable())}getErrors(){const e=this.control,o=e.errors,i=this.log.fnIfInList("getErrors","fields",this.name,{control:e,name:this.name});if(!e.invalid)return i.r("","valid");if(!e.dirty&&!e.touched)return i.r("","not dirty or touched");for(const h of Object.keys(o)){const g="formulaError"===h?e.errors.formulaMessage??c.n.messages[h]?.(!0):c.n.messages[h]?.(!0);if(g)return i.r(g,"error found")}return i.r("","no error")}#t;getWarnings(){const e=this.control;if(null==e._warning||!e.dirty&&!e.touched)return"";let o="";for(const i of Object.keys(e._warning))if(o="formulaWarning"===i?e._warning.formulaMessage??this.#t[i]:this.#t[i],o)break;return o}}},9417:(f,p,t)=>{function n(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}t.d(p,{L:()=>n})},9669:(f,p,t)=>{t.d(p,{y:()=>u});var n=t(6474),r=t(1659);const a="cms/contentgroup/";let u=(()=>{class c extends n.D{getItems(s){return this.getHttpApiUrl(a+"replace",{params:{appId:this.appId,guid:s.guid,part:s.part,index:s.index.toString()}})}saveItem(s){return this.http.post(this.apiUrl(a+"replace"),{},{params:{guid:s.guid,part:s.part,index:s.index.toString(),entityId:s.id.toString(),add:`${s.add}`}})}removeItem(s,l){return this.http.delete(this.apiUrl("cms/list/delete"),{params:{index:l,parent:s.guid,fields:s.part}})}getList(s){return this.getHttpApiUrl(a+"itemlist",{params:{appId:this.appId,guid:s.guid,part:s.part}})}saveList(s,l){return this.http.post(this.apiUrl(a+"itemlist"),l,{params:{appId:this.appId,guid:s.guid,part:s.part}})}getHeader(s,l){return this.getSignal(a+"header",{params:{appId:this.appId,guid:s.guid}},l)}static{this.\u0275fac=(()=>{let s;return function(d){return(s||(s=r.xGo(c)))(d||c)}})()}static{this.\u0275prov=r.jDH({token:c,factory:c.\u0275fac})}}return c})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.03/dist/ng-edit/common.8d5ea6d0ceff6fc0.js.map
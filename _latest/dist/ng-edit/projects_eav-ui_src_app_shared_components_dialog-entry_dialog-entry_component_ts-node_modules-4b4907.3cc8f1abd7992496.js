"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-node_modules-4b4907"],{891:(f,g,a)=>{a.d(g,{r:()=>_});var c=a(1766),p=a(2611),o=a(1699),u=a(6861),l=a(91);let _=(()=>{var n;class s{constructor(t,e,i,h,d,v){this.dialog=t,this.viewContainerRef=e,this.router=i,this.route=h,this.context=d,this.changeDetectorRef=v;const D=this.router.getCurrentNavigation();this.dialogData=D?.extras?.state||{}}ngOnInit(){const t=this.route.snapshot.data.dialog;if(null==t)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,c.P)("Open dialog:",t.name,"Context id:",this.context.id,"Context:",this.context),t.getComponent().then(e=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(t,e)}):this.openDialogComponent(t,e)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(t,e){t.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(e,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${t.panelSize}`,t.showScrollbar?"show-scrollbar":"no-scrollbar",...t.panelClass?t.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(i=>{(0,c.P)("Dialog was closed:",t.name,"Data:",i);const h=i;if(null==h?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:i}:{relativeTo:this.route.parent.parent,state:i});else this.router.navigate([h.navigateUrl])}),this.changeDetectorRef.markForCheck()}}return(n=s).\u0275fac=function(t){return new(t||n)(o.Y36(u.uw),o.Y36(o.s_b),o.Y36(l.F0),o.Y36(l.gz),o.Y36(p._),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(t,e){}}),s})()},1670:(f,g,a)=>{function c(o,u,l,_,n,s,r){try{var t=o[s](r),e=t.value}catch(i){return void l(i)}t.done?u(e):Promise.resolve(e).then(_,n)}function p(o){return function(){var u=this,l=arguments;return new Promise(function(_,n){var s=o.apply(u,l);function r(e){c(s,_,n,r,t,"next",e)}function t(e){c(s,_,n,r,t,"throw",e)}r(void 0)})}}a.d(g,{Z:()=>p})}}]);
//# sourceMappingURL=https://sources.2sxc.org/16.17.00/dist/ng-edit/projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-node_modules-4b4907.3cc8f1abd7992496.js.map
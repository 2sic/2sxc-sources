"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_permissions_index_ts-projects_ng-dialogs_src_app_shared_component-959d225","projects_ng-dialogs_src_app_permissions_permissions_component_ts","projects_ng-dialogs_src_app_shared_directives_click-stop-propagation_directive_ts","node_modules_angular_material_fesm2015_card_mjs","projects_ng-dialogs_src_app_shared_components_field-hint_field-hint_component_ts-projects_ng--6652ec"],{6307:function(b,h,e){e.d(h,{iK:function(){return l.i},Do:function(){return g.D},qQ:function(){return v.q}});var l=e(7297),g=(e(1157),e(7725),e(5620),e(4484),e(4753)),v=e(7170)},5620:function(b,h,e){e.r(h),e.d(h,{PermissionsComponent:function(){return r}});var l=e(2090),u=e(7797),t=e(8069),d=e(8047),C=e(1276),g=e(2977),v=e(6317),D=e(7714),T=e(116),x=e(4874),Z=e(635),P=e(679),M=e(5578),o=e(9119),s=e(1825),y=e(5137),n=e(7133),S=e(1130),k=e(785),B=e(5590),U=function(){var i=function(){function p(){(0,t.Z)(this,p)}return(0,d.Z)(p,[{key:"agInit",value:function(c){this.params=c}},{key:"refresh",value:function(c){return!0}},{key:"deletePermission",value:function(){this.params.onDelete(this.params.data)}}]),p}();return i.\u0275fac=function(m){return new(m||i)},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-permissions-actions"]],decls:4,vars:0,consts:[[1,"actions-component"],["matRipple","","tippy","Delete",1,"like-button","highlight",3,"click"]],template:function(m,c){1&m&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.NdJ("click",function(){return c.deletePermission()}),n.TgZ(2,"mat-icon"),n._uU(3,"delete"),n.qZA(),n.qZA(),n.qZA())},directives:[S.wG,k.$,B.Hw],styles:[""]}),i}(),j=e(7170),F=e(5758),L=e(2528),G=e(7317),R=e(1350),a=e(6362),r=function(){var i=function(){function p(m,c,_,O,E){var A=this;(0,t.Z)(this,p),this.dialogRef=m,this.router=c,this.route=_,this.permissionsService=O,this.snackBar=E,this.permissions$=new v.X(null),this.modules=C.F$,this.gridOptions=Object.assign(Object.assign({},o.f),{frameworkComponents:{idFieldComponent:M.m,permissionsActionsComponent:U},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agNumberColumnFilter",valueGetter:function(f){return f.data.Id},cellRendererParams:{tooltipGetter:function(f){return"ID: ".concat(f.Id,"\nGUID: ").concat(f.Guid)}}},{field:"Name",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,sort:"asc",filter:"agTextColumnFilter",onCellClicked:function(f){return A.editPermission(f.data)},valueGetter:function(f){return f.data.Title}},{field:"Identity",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:function(f){return f.data.Identity}},{field:"Condition",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:function(f){return f.data.Condition}},{field:"Grant",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:function(f){return f.data.Grant}},{width:42,cellClass:"secondary-action no-padding",cellRenderer:"permissionsActionsComponent",pinned:"right",cellRendererParams:{onDelete:function(f){return A.deletePermission(f)}}}]}),this.subscription=new D.w0,this.targetType=parseInt(this.route.snapshot.paramMap.get("targetType"),10),this.keyType=this.route.snapshot.paramMap.get("keyType"),this.key=this.route.snapshot.paramMap.get("key"),this.prefills=(0,u.Z)({},s.Z.metadata.language.targetType,{PermissionType:"language"})}return(0,d.Z)(p,[{key:"ngOnInit",value:function(){this.fetchPermissions(),this.refreshOnChildClosed()}},{key:"ngOnDestroy",value:function(){this.permissions$.complete(),this.subscription.unsubscribe()}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"fetchPermissions",value:function(){var c=this;this.permissionsService.getAll(this.targetType,this.keyType,this.key).subscribe(function(_){c.permissions$.next(_)})}},{key:"editPermission",value:function(c){var O,E,A,_=this;A=null==c?{items:[Object.assign({ContentTypeName:s.Z.contentTypes.permissions,For:Object.assign(Object.assign(Object.assign({Target:null!==(E=null===(O=Object.values(s.Z.metadata).find(function(f){return f.targetType===_.targetType}))||void 0===O?void 0:O.target)&&void 0!==E?E:this.targetType.toString(),TargetType:this.targetType},this.keyType===s.Z.keyTypes.guid&&{Guid:this.key}),this.keyType===s.Z.keyTypes.number&&{Number:parseInt(this.key,10)}),this.keyType===s.Z.keyTypes.string&&{String:this.key})},this.prefills[this.targetType]&&{Prefill:this.prefills[this.targetType]})]}:{items:[{EntityId:c.Id}]};var I=(0,y.f)(A);this.router.navigate(["edit/".concat(I)],{relativeTo:this.route})}},{key:"deletePermission",value:function(c){var _=this;!confirm("Delete '".concat(c.Title,"' (").concat(c.Id,")?"))||(this.snackBar.open("Deleting..."),this.permissionsService.delete(c.Id).subscribe(function(){_.snackBar.open("Deleted",null,{duration:2e3}),_.fetchPermissions()}))}},{key:"refreshOnChildClosed",value:function(){var c=this;this.subscription.add(this.router.events.pipe((0,T.h)(function(_){return _ instanceof g.m2}),(0,x.O)(!!this.route.snapshot.firstChild),(0,Z.U)(function(){return!!c.route.snapshot.firstChild}),(0,P.G)(),(0,T.h)(function(_){var O=(0,l.Z)(_,2);return O[0]&&!O[1]})).subscribe(function(){c.fetchPermissions()}))}}]),p}();return i.\u0275fac=function(m){return new(m||i)(n.Y36(F.so),n.Y36(g.F0),n.Y36(g.gz),n.Y36(j.q),n.Y36(L.ux))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-permissions"]],decls:16,vars:5,consts:[[1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"grid-more-actions-box"],["mat-fab","","mat-elevation-z24","","tippy","Create a new permission",1,"grid-fab",3,"click"]],template:function(m,c){1&m&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div"),n._uU(4,"Permissions"),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return c.closeDialog()}),n.TgZ(6,"mat-icon"),n._uU(7,"close"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(8,"router-outlet"),n.TgZ(9,"div",4),n._UZ(10,"ag-grid-angular",5),n.ALo(11,"async"),n._UZ(12,"div",6),n.TgZ(13,"button",7),n.NdJ("click",function(){return c.editPermission(null)}),n.TgZ(14,"mat-icon"),n._uU(15,"add"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&m&&(n.xp6(10),n.Q6J("rowData",n.lcZ(11,3,c.permissions$))("modules",c.modules)("gridOptions",c.gridOptions))},directives:[F.uh,G.lW,k.$,B.Hw,g.lC,R.N8],pipes:[a.Ov],styles:[""]}),i}()},3135:function(b,h,e){e.d(h,{Y:function(){return M}});var l=e(8069),u=e(8047),t=e(7133),d=e(6362),C=e(4770);function g(o,s){1&o&&t.GkF(0)}function v(o,s){if(1&o&&(t.TgZ(0,"mat-hint"),t.YNc(1,g,1,0,"ng-container",3),t.qZA()),2&o){t.oxw();var y=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",y)}}function D(o,s){1&o&&t.GkF(0)}function T(o,s){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,D,1,0,"ng-container",3),t.qZA()),2&o){t.oxw();var y=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",y)}}function x(o,s){1&o&&t.Hsn(0)}var Z=function(s){return{"hint-box__short":s}},P=["*"],M=function(){var o=function(){function s(){(0,l.Z)(this,s),this.isError=!1,this.isShort=!0}return(0,u.Z)(s,[{key:"toggleIsShort",value:function(){this.isShort=!this.isShort}}]),s}();return o.\u0275fac=function(y){return new(y||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:P,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(y,n){1&y&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(){return n.toggleIsShort()}),t.YNc(1,v,2,1,"mat-hint",1),t.YNc(2,T,2,1,"mat-error",1),t.qZA(),t.YNc(3,x,1,0,"ng-template",null,2,t.W1O)),2&y&&(t.Q6J("ngClass",t.VKq(4,Z,n.isShort))("ngSwitch",n.isError),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0))},directives:[d.mk,d.RF,d.n9,C.bx,d.tP,C.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),o}()},5578:function(b,h,e){e.d(h,{m:function(){return Z}});var l=e(8069),u=e(8047),t=e(5388),d=e(7133),C=e(2528),g=e(1130),v=e(785),D=e(6362),T=e(5590),x=function(M,o){return{"align-start":M,"align-end":o}},Z=function(){var P=function(){function M(o){(0,l.Z)(this,M),this.snackBar=o}return(0,u.Z)(M,[{key:"agInit",value:function(s){this.id=s.value,this.align="number"==typeof this.id?"end":"start",this.tooltip=s.tooltipGetter(s.data)}},{key:"refresh",value:function(s){return!0}},{key:"copy",value:function(){(0,t.v)(this.tooltip),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}}]),M}();return P.\u0275fac=function(o){return new(o||P)(d.Y36(C.ux))},P.\u0275cmp=d.Xpm({type:P,selectors:[["app-id-field"]],decls:5,vars:6,consts:[["matRipple","",1,"id-box","highlight",3,"tippy","ngClass","click"],[1,"id"],[1,"icon"]],template:function(o,s){1&o&&(d.TgZ(0,"div",0),d.NdJ("click",function(){return s.copy()}),d.TgZ(1,"span",1),d._uU(2),d.qZA(),d.TgZ(3,"mat-icon",2),d._uU(4,"file_copy"),d.qZA(),d.qZA()),2&o&&(d.Q6J("tippy",s.tooltip)("ngClass",d.WLB(3,x,"start"===s.align,"end"===s.align)),d.xp6(2),d.Oqu(s.id))},directives:[g.wG,v.$,D.mk,T.Hw],styles:[".id-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.id-box.align-start[_ngcontent-%COMP%]{justify-content:flex-start}.id-box.align-end[_ngcontent-%COMP%]{justify-content:flex-end}.id-box[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{max-width:100%;text-overflow:ellipsis;overflow:hidden}.id-box[_ngcontent-%COMP%]:hover{text-decoration:none}.id-box[_ngcontent-%COMP%]:hover   .id[_ngcontent-%COMP%]{display:none}.id-box[_ngcontent-%COMP%]:not(:hover)   .icon[_ngcontent-%COMP%]{display:none}"]}),P}()},491:function(b,h,e){e.d(h,{E:function(){return d}});var l=e(8069),u=e(8047),t=e(7133),d=function(){var C=function(){function g(){(0,l.Z)(this,g)}return(0,u.Z)(g,[{key:"onClick",value:function(D){D.stopPropagation()}}]),g}();return C.\u0275fac=function(v){return new(v||C)},C.\u0275dir=t.lG2({type:C,selectors:[["","appClickStopPropagation",""]],hostBindings:function(v,D){1&v&&t.NdJ("click",function(x){return D.onClick(x)})}}),C}()},5388:function(b,h,e){function l(u){var t=document.createElement("textarea");t.value=u,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var d=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),d&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(d))}e.d(h,{v:function(){return l}})},1961:function(b,h,e){e.d(h,{a8:function(){return F},hq:function(){return s},kc:function(){return j},dn:function(){return P},dk:function(){return L},QW:function(){return R},$j:function(){return o},n5:function(){return M}});var l=e(8047),u=e(8069),t=e(7133),d=e(7481),C=e(1130),g=["*",[["mat-card-footer"]]],v=["*","mat-card-footer"],D=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],T=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],P=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),a}(),M=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),a}(),o=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),a}(),s=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r),this.align="start"});return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,p){2&i&&t.ekj("mat-card-actions-align-end","end"===p.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),a}(),j=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),a}(),F=function(){var a=(0,l.Z)(function r(i){(0,u.Z)(this,r),this._animationMode=i});return a.\u0275fac=function(i){return new(i||a)(t.Y36(d.Qb,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,p){2&i&&t.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)},exportAs:["matCard"],ngContentSelectors:v,decls:2,vars:0,template:function(i,p){1&i&&(t.F$t(g),t.Hsn(0),t.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),a}(),L=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:T,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(i,p){1&i&&(t.F$t(D),t.Hsn(0),t.TgZ(1,"div",0),t.Hsn(2,1),t.qZA(),t.Hsn(3,2))},encapsulation:2,changeDetection:0}),a}(),R=function(){var a=(0,l.Z)(function r(){(0,u.Z)(this,r)});return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[C.BQ],C.BQ]}),a}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/projects_ng-dialogs_src_app_permissions_index_ts-projects_ng-dialogs_src_app_shared_component-959d225.e9390e1ae0c22889.js.map
"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["projects_ng-dialogs_src_app_metadata_metadata_component_ts","projects_ng-dialogs_src_app_shared_directives_click-stop-propagation_directive_ts"],{803:function(U,M,a){a.d(M,{l:function(){return F}});var v=a(8069),C=a(8047),s=a(7400),_=a(9525),m=a(8507),d=a(4722),h=a(7396),Z=a(8598),T=a(7133),b=a(8784),A=a(2425),F=function(){var O=function(){function p(u,f,y){(0,v.Z)(this,p),this.http=u,this.context=f,this.dnnContext=y}return(0,C.Z)(p,[{key:"getAll",value:function(f){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(m.PS),{params:{appId:this.context.appId.toString(),contentType:f}})}},{key:"getColumns",value:function(f){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d.jt),{params:{appId:this.context.appId.toString(),staticName:f}})}},{key:"importItem",value:function(f){var y=this;return(0,s.D)((0,h.s)(f)).pipe((0,_.z)(function(I){return y.http.post(y.dnnContext.$2sxc.http.apiUrl(m.Uo+"upload"),{AppId:y.context.appId.toString(),ContentBase64:I})}))}}]),p}();return O.\u0275fac=function(u){return new(u||O)(T.LFG(b.eN),T.LFG(Z._),T.LFG(A._y))},O.\u0275prov=T.Yz7({token:O,factory:O.\u0275fac}),O}()},326:function(U,M,a){a.r(M),a.d(M,{MetadataComponent:function(){return Mt}});var v=a(2090),C=a(8069),s=a(8047),_=a(1276),m=a(2977),d=a(6317),h=a(7714),Z=a(6562),T=a(635),b=a(116),A=a(4874),F=a(679),O=a(803),p=a(8130),u=a(6307),f=a(5578),y=a(9119),I=a(1825),Y=a(5137),t=a(7133),j=a(1130),P=a(785),S=a(5590),W=function(){var o=function(){function c(){(0,C.Z)(this,c)}return(0,s.Z)(c,[{key:"agInit",value:function(e){this.params=e}},{key:"refresh",value:function(e){return!0}},{key:"deleteMetadata",value:function(){this.params.onDelete(this.params.data)}}]),c}();return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-metadata-actions"]],decls:4,vars:0,consts:[[1,"actions-component"],["matRipple","","tippy","Delete",1,"like-button","highlight",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.NdJ("click",function(){return e.deleteMetadata()}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA(),t.qZA(),t.qZA())},directives:[j.wG,P.$,S.Hw],styles:[""]}),o}(),K=a(6170),x=a(587),w=a(8977),V=a(7854),H=a(9670),k=a(5758),D=a(6362),N=a(4770),L=a(7317),X=a(6623),q=a(1434),z=a(3135),tt=a(491),et=a(4683);function nt(o,c){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){var n=c.$implicit;t.Q6J("value",n.value),t.xp6(1),t.hij(" ",n.name," ")}}function at(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-form-field",7),t.TgZ(2,"mat-label"),t._uU(3,"Scope"),t.qZA(),t.TgZ(4,"mat-select",19),t.YNc(5,nt,2,2,"mat-option",20),t.TgZ(6,"mat-option",21),t._uU(7,"Other..."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"app-field-hint"),t._uU(9," The scope should almost never be changed - "),t.TgZ(10,"a",22),t._uU(11,"see help"),t.qZA(),t.qZA(),t.BQk()),2&o){var n=t.oxw().ngIf,e=t.oxw();t.xp6(4),t.Q6J("placeholder",n.scopeOptions.length?"":"No items found"),t.xp6(1),t.Q6J("ngForOf",n.scopeOptions),t.xp6(1),t.Q6J("value",e.dropdownInsertValue)}}function ot(o,c){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){var n=c.$implicit;t.Q6J("value",n.StaticName),t.xp6(1),t.hij(" ",n.Label," ")}}function it(o,c){if(1&o&&(t.TgZ(0,"mat-select",23),t.YNc(1,ot,2,2,"mat-option",20),t.qZA()),2&o){var n=t.oxw().ngIf;t.Q6J("placeholder",n.contentTypes.length?"":"No items found"),t.xp6(1),t.Q6J("ngForOf",n.contentTypes)}}function rt(o,c){1&o&&t._UZ(0,"input",24)}function st(o,c){1&o&&(t.TgZ(0,"app-field-hint",25),t._uU(1," This field is required "),t.qZA()),2&o&&t.Q6J("isError",!0)}var G=function(c){return{active:c}};function ct(o,c){if(1&o){var n=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3,"Create Metadata"),t.qZA(),t.qZA(),t.TgZ(4,"p",3),t._uU(5," This is a special operation to add an item which is metadata for another item, see "),t.TgZ(6,"a",4),t._uU(7,"docs"),t.qZA(),t._uU(8,". "),t.qZA(),t.TgZ(9,"form",5),t.TgZ(10,"div",6),t.YNc(11,at,12,3,"ng-container",0),t.TgZ(12,"mat-form-field",7),t.TgZ(13,"mat-label"),t._uU(14,"Content Type"),t.qZA(),t.YNc(15,it,2,2,"mat-select",8),t.YNc(16,rt,1,0,"input",9),t.TgZ(17,"div",10),t.TgZ(18,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw().toggleGuidedContentType(!0)}),t.TgZ(19,"mat-icon"),t._uU(20,"search"),t.qZA(),t.qZA(),t.TgZ(21,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw().toggleGuidedContentType(!1)}),t.TgZ(22,"mat-icon"),t._uU(23,"text_fields"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,st,2,1,"app-field-hint",13),t.qZA(),t.TgZ(25,"div",14),t.TgZ(26,"mat-slide-toggle",15),t.NdJ("change",function(r){return t.CHM(n),t.oxw().toggleAdvancedMode(r)}),t._uU(27),t.qZA(),t._UZ(28,"div",16),t.TgZ(29,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeDialog()}),t._uU(30,"Cancel"),t.qZA(),t.TgZ(31,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().confirm()}),t._uU(32," Confirm "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){var e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("ngIf",e.advancedMode&&e.guidedContentType),t.xp6(4),t.Q6J("ngIf",e.guidedContentType),t.xp6(1),t.Q6J("ngIf",!e.guidedContentType),t.xp6(2),t.Q6J("ngClass",t.VKq(10,G,e.guidedContentType)),t.xp6(3),t.Q6J("ngClass",t.VKq(12,G,!e.guidedContentType)),t.xp6(3),t.Q6J("ngIf",e.form.controls.contentType.touched&&(null==e.form.controls.contentType.errors?null:e.form.controls.contentType.errors.required)),t.xp6(2),t.Q6J("checked",e.advancedMode),t.xp6(1),t.hij(" ",e.advancedMode?"Advanced":"Simple"," "),t.xp6(4),t.Q6J("disabled",!e.form.valid)}}var lt=function(){var o=function(){function c(n,e){(0,C.Z)(this,c),this.dialogRef=n,this.contentTypesService=e,this.hostClass="dialog-component",this.dropdownInsertValue=H.G,this.guidedContentType=!0,this.advancedMode=!1}return(0,s.Z)(c,[{key:"ngOnInit",value:function(){this.contentTypes$=new d.X([]),this.scopeOptions$=new d.X([]),this.buildForm(),this.fetchScopes(),this.templateVars$=(0,Z.a)([this.contentTypes$,this.scopeOptions$]).pipe((0,T.U)(function(e){var i=(0,v.Z)(e,2);return{contentTypes:i[0],scopeOptions:i[1]}}))}},{key:"ngOnDestroy",value:function(){this.contentTypes$.complete(),this.scopeOptions$.complete()}},{key:"closeDialog",value:function(e){this.dialogRef.close(e)}},{key:"toggleGuidedContentType",value:function(e){this.guidedContentType=e}},{key:"toggleAdvancedMode",value:function(e){this.advancedMode=e.checked}},{key:"confirm",value:function(){var e=this.form.getRawValue();this.closeDialog(e.contentType)}},{key:"buildForm",value:function(){var e=this;this.form=new x.cw({}),this.form.addControl("contentType",new x.NI(null,[x.kI.required])),this.form.addControl("scope",new x.NI(I.Z.scopes.default.value)),this.form.controls.scope.valueChanges.pipe((0,A.O)(this.form.controls.scope.value),(0,w.x)()).subscribe(function(i){null!=e.form.controls.contentType.value&&e.form.controls.contentType.patchValue(null),i===H.G?(i=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||I.Z.scopes.default.value,e.scopeOptions$.value.some(function(l){return l.value===i})||e.scopeOptions$.next([{name:i,value:i}].concat((0,K.Z)(e.scopeOptions$.value))),e.form.controls.scope.patchValue(i)):e.fetchContentTypes(i)})}},{key:"fetchContentTypes",value:function(e){var i=this;this.contentTypesService.retrieveContentTypes(e).subscribe(function(r){i.contentTypes$.next(r)})}},{key:"fetchScopes",value:function(){var e=this;this.contentTypesService.getScopes().subscribe(function(i){e.scopeOptions$.next(i)})}}]),c}();return o.\u0275fac=function(n){return new(n||o)(t.Y36(k.so),t.Y36(V.sF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-metadata-save-dialog"]],hostVars:1,hostBindings:function(n,e){2&n&&t.Ikx("className",e.hostClass)},decls:2,vars:3,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],["href","http://r.2sxc.org/metadata","target","_blank"],[1,"dialog-form",3,"formGroup"],[1,"dialog-form-content","fancy-scrollbar-light"],["appearance","standard","color","accent"],["formControlName","contentType","required","",3,"placeholder",4,"ngIf"],["matInput","","type","text","formControlName","contentType","required","",4,"ngIf"],["matSuffix","",1,"selection-suffix"],["mat-icon-button","","type","button","tippy","Pick existing value",3,"ngClass","click"],["mat-icon-button","","type","button","tippy","Manual entry",3,"ngClass","click"],[3,"isError",4,"ngIf"],[1,"dialog-form-actions"],["color","accent",3,"checked","change"],[1,"spacer"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"disabled","click"],["formControlName","scope",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["href","https://2sxc.org/help?tag=scope","target","_blank","appClickStopPropagation",""],["formControlName","contentType","required","",3,"placeholder"],["matInput","","type","text","formControlName","contentType","required",""],[3,"isError"]],template:function(n,e){1&n&&(t.YNc(0,ct,33,14,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.templateVars$))},directives:[D.O5,k.uh,x._Y,x.JL,x.sg,N.KE,N.hX,N.R9,L.lW,P.$,D.mk,S.Hw,X.Rr,q.gD,x.JJ,x.u,D.sg,j.ey,z.Y,tt.E,x.Q7,et.Nt,x.Fj],pipes:[D.Ov],styles:[".dialog-form-content[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:not(:first-of-type){margin-top:8px}"]}),o}(),dt=a(2528),pt=a(1350),J=a(5718);function ut(o,c){1&o&&(t.ynx(0),t._uU(1,"This item is not metadata for anything else."),t.BQk())}function mt(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&o){var n=t.oxw(2).ngIf;t.xp6(2),t.hij("Number: ",n.itemFor.Number,"")}}function ft(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&o){var n=t.oxw(2).ngIf;t.xp6(2),t.hij("Guid: ",n.itemFor.Guid,"")}}function gt(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&o){var n=t.oxw(2).ngIf;t.xp6(2),t.hij("String: ",n.itemFor.String,"")}}function _t(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"br"),t._uU(2),t.BQk()),2&o){var n=t.oxw(2).ngIf;t.xp6(2),t.hij("Title: ",n.itemFor.String,"")}}function ht(o,c){if(1&o&&(t.ynx(0),t._uU(1," This item is metadata for: "),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.YNc(6,mt,3,1,"ng-container",0),t.YNc(7,ft,3,1,"ng-container",0),t.YNc(8,gt,3,1,"ng-container",0),t.YNc(9,_t,3,1,"ng-container",0),t.BQk()),2&o){var n=t.oxw().ngIf;t.xp6(3),t.hij("Target: ",n.itemFor.Target," "),t.xp6(2),t.hij("TargetType: ",n.itemFor.TargetType," "),t.xp6(1),t.Q6J("ngIf",n.itemFor.Number),t.xp6(1),t.Q6J("ngIf",n.itemFor.Guid),t.xp6(1),t.Q6J("ngIf",n.itemFor.String),t.xp6(1),t.Q6J("ngIf",n.itemFor.Title)}}function vt(o,c){if(1&o){var n=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).createMetadata()}),t.TgZ(1,"mat-icon"),t._uU(2,"add"),t.qZA(),t.qZA()}}function Ct(o,c){if(1&o){var n=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){var l=t.CHM(n).$implicit;return t.oxw(3).createMetadata(l)}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.qZA()}if(2&o){var e=c.$implicit;t.uIk("label",e.Title),t.xp6(2),t.Oqu(e.Icon||"add")}}var Tt=function(c){return{"fab-opened":c}};function yt(o,c){if(1&o){var n=t.EpF();t.TgZ(0,"eco-fab-speed-dial",12),t.NdJ("openChange",function(r){return t.CHM(n),t.oxw(2).openChange(r)}),t.TgZ(1,"eco-fab-speed-dial-trigger",13),t.TgZ(2,"button",14),t.TgZ(3,"mat-icon",15),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"eco-fab-speed-dial-actions"),t.TgZ(6,"button",16),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).createMetadata()}),t.TgZ(7,"mat-icon"),t._uU(8,"search"),t.qZA(),t.qZA(),t.YNc(9,Ct,3,2,"button",17),t.qZA(),t.qZA()}if(2&o){var e=t.oxw().ngIf;t.Q6J("ngClass",t.VKq(4,Tt,e.fabOpen)),t.xp6(1),t.Q6J("spin",!0),t.xp6(3),t.Oqu(e.fabOpen?"close":"add"),t.xp6(5),t.Q6J("ngForOf",e.recommendations)}}function xt(o,c){if(1&o){var n=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return t.CHM(n),t.oxw().closeDialog()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"p",5),t.YNc(10,ut,2,0,"ng-container",0),t.YNc(11,ht,10,6,"ng-container",0),t.qZA(),t._UZ(12,"router-outlet"),t.TgZ(13,"div",6),t._UZ(14,"ag-grid-angular",7),t._UZ(15,"div",8),t.YNc(16,vt,3,0,"button",9),t.YNc(17,yt,10,6,"eco-fab-speed-dial",10),t.qZA(),t.qZA(),t.BQk()}if(2&o){var e=c.ngIf,i=t.oxw();t.xp6(5),t.Oqu(i.title||"Metadata"),t.xp6(5),t.Q6J("ngIf",!e.itemFor),t.xp6(1),t.Q6J("ngIf",e.itemFor),t.xp6(3),t.Q6J("rowData",e.metadata)("modules",i.modules)("gridOptions",i.gridOptions),t.xp6(2),t.Q6J("ngIf",0===e.recommendations.length),t.xp6(1),t.Q6J("ngIf",e.recommendations.length>0)}}var Mt=function(){var o=function(){function c(n,e,i,r,l,g,Q,B,Zt,Ot){var $;(0,C.Z)(this,c),this.dialogRef=n,this.router=e,this.route=i,this.metadataService=r,this.snackBar=l,this.entitiesService=g,this.contentItemsService=Q,this.dialog=B,this.viewContainerRef=Zt,this.changeDetectorRef=Ot,this.modules=_.F$,this.gridOptions=Object.assign(Object.assign({},y.f),{frameworkComponents:{idFieldComponent:f.m,metadataActionsComponent:W},columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline",cellRenderer:"idFieldComponent",sortable:!0,filter:"agTextColumnFilter",cellRendererParams:{tooltipGetter:function(E){return"ID: ".concat(E.Id,"\nGUID: ").concat(E.Guid)}}},{headerName:"Title",field:"Title",flex:2,minWidth:250,cellClass:"primary-action highlight",sortable:!0,sort:"asc",filter:"agTextColumnFilter",onCellClicked:this.editMetadata.bind(this)},{headerName:"Content Type",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:function(E){var R=E.data;return"".concat(R._Type.Name).concat(R._Type.Description?" (".concat(R._Type.Description,")"):"")}},{width:42,cellClass:"secondary-action no-padding",cellRenderer:"metadataActionsComponent",pinned:"right",cellRendererParams:{onDelete:this.deleteMetadata.bind(this)}}]}),this.metadata$=new d.X([]),this.recommendations$=new d.X([]),this.itemFor$=new d.X(void 0),this.fabOpen$=new d.X(!1),this.subscription=new h.w0,this.targetType=parseInt(this.route.snapshot.paramMap.get("targetType"),10),this.keyType=this.route.snapshot.paramMap.get("keyType"),this.key=this.route.snapshot.paramMap.get("key"),this.title=decodeURIComponent(null!==($=this.route.snapshot.paramMap.get("title"))&&void 0!==$?$:""),this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName")}return(0,s.Z)(c,[{key:"ngOnInit",value:function(){this.fetchFor(),this.fetchMetadata(),this.refreshOnChildClosed(),this.templateVars$=(0,Z.a)([this.metadata$,this.recommendations$,this.itemFor$,this.fabOpen$]).pipe((0,T.U)(function(e){var i=(0,v.Z)(e,4);return{metadata:i[0],recommendations:i[1],itemFor:i[2],fabOpen:i[3]}}))}},{key:"ngOnDestroy",value:function(){this.metadata$.complete(),this.recommendations$.complete(),this.itemFor$.complete(),this.fabOpen$.complete(),this.subscription.unsubscribe()}},{key:"closeDialog",value:function(){this.dialogRef.close()}},{key:"openChange",value:function(e){this.fabOpen$.next(e)}},{key:"createMetadata",value:function(e){var i=this;e?e.CreateEmpty?(this.snackBar.open("Creating ".concat(e.Name,"...")),this.entitiesService.create(e.Id,{For:this.calculateItemFor()}).subscribe({error:function(){i.snackBar.open("Creating ".concat(e.Name," failed. Please check console for more info"),void 0,{duration:3e3}),i.fetchMetadata()},next:function(){i.snackBar.open("Created ".concat(e.Name),void 0,{duration:3e3}),i.fetchMetadata()}})):this.createMetadataForm(e.Id):this.dialog.open(lt,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(function(l){null!=l&&i.createMetadataForm(l)})}},{key:"createMetadataForm",value:function(e){var i={items:[{ContentTypeName:e,For:this.calculateItemFor()}]},r=(0,Y.f)(i);this.router.navigate(["edit/".concat(r)],{relativeTo:this.route}),this.changeDetectorRef.markForCheck()}},{key:"calculateItemFor",value:function(){var i,r,e=this;return Object.assign(Object.assign(Object.assign({Target:null!==(r=null===(i=Object.values(I.Z.metadata).find(function(g){return g.targetType===e.targetType}))||void 0===i?void 0:i.target)&&void 0!==r?r:this.targetType.toString(),TargetType:this.targetType},this.keyType===I.Z.keyTypes.guid&&{Guid:this.key}),this.keyType===I.Z.keyTypes.number&&{Number:parseInt(this.key,10)}),this.keyType===I.Z.keyTypes.string&&{String:this.key})}},{key:"fetchFor",value:function(){var e=this;!this.contentTypeStaticName||this.contentItemsService.getAll(this.contentTypeStaticName).subscribe(function(i){var r=i.find(function(l){return l.Guid===e.key});(null==r?void 0:r.For)&&e.itemFor$.next(r.For)})}},{key:"fetchMetadata",value:function(){var e=this;this.metadataService.getMetadata(this.targetType,this.keyType,this.key).subscribe(function(i){e.metadata$.next(i.Items);var r=i.Recommendations.filter(function(l){return 1===l.Count&&!i.Items.some(function(g){return g._Type.Id===l.Id})});e.recommendations$.next(r)})}},{key:"editMetadata",value:function(e){var l=(0,Y.f)({items:[{EntityId:e.data.Id}]});this.router.navigate(["edit/".concat(l)],{relativeTo:this.route})}},{key:"deleteMetadata",value:function(e){var r,i=this,l=(null===(r=this.recommendations$.value.find(function(g){return g.Id===e._Type.Id}))||void 0===r?void 0:r.DeleteWarning)||"";l=l?"".concat(l,"\n\nAre you sure you want to delete '").concat(e.Title,"' (").concat(e.Id,")?"):"Delete '".concat(e.Title,"' (").concat(e.Id,")?"),confirm(l)&&(this.snackBar.open("Deleting..."),this.entitiesService.delete(e._Type.Id,e.Id,!1).subscribe({next:function(){i.snackBar.open("Deleted",null,{duration:2e3}),i.fetchMetadata()},error:function(){i.snackBar.open("Delete failed. Please check console for more information",null,{duration:3e3})}}))}},{key:"refreshOnChildClosed",value:function(){var e=this;this.subscription.add(this.router.events.pipe((0,b.h)(function(i){return i instanceof m.m2}),(0,A.O)(!!this.route.snapshot.firstChild),(0,T.U)(function(){return!!e.route.snapshot.firstChild}),(0,F.G)(),(0,b.h)(function(i){var r=(0,v.Z)(i,2);return r[0]&&!r[1]})).subscribe(function(){e.fetchMetadata()}))}}]),c}();return o.\u0275fac=function(n){return new(n||o)(t.Y36(k.so),t.Y36(m.F0),t.Y36(m.gz),t.Y36(u.Do),t.Y36(dt.ux),t.Y36(p.g),t.Y36(O.l),t.Y36(k.uw),t.Y36(t.s_b),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-metadata"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"dialog-description"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","modules","gridOptions"],[1,"grid-more-actions-box"],["mat-fab","","mat-elevation-z24","","class","grid-fab","tippy","Create a new metadata for this item",3,"click",4,"ngIf"],["class","grid-fab",3,"ngClass","openChange",4,"ngIf"],["mat-fab","","mat-elevation-z24","","tippy","Create a new metadata for this item",1,"grid-fab",3,"click"],[1,"grid-fab",3,"ngClass","openChange"],[3,"spin"],["mat-fab",""],[1,"spin180"],["mat-mini-fab","","label","Other Content Type",3,"click"],["mat-mini-fab","",3,"click",4,"ngFor","ngForOf"],["mat-mini-fab","",3,"click"]],template:function(n,e){1&n&&(t.YNc(0,xt,18,8,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,e.templateVars$))},directives:[D.O5,k.uh,L.lW,P.$,S.Hw,m.lC,pt.N8,J.W7,D.mk,J.YI,J.Lp,D.sg],pipes:[D.Ov],styles:[""]}),o}()},3135:function(U,M,a){a.d(M,{Y:function(){return O}});var v=a(8069),C=a(8047),s=a(7133),_=a(6362),m=a(4770);function d(p,u){1&p&&s.GkF(0)}function h(p,u){if(1&p&&(s.TgZ(0,"mat-hint"),s.YNc(1,d,1,0,"ng-container",3),s.qZA()),2&p){s.oxw();var f=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",f)}}function Z(p,u){1&p&&s.GkF(0)}function T(p,u){if(1&p&&(s.TgZ(0,"mat-error"),s.YNc(1,Z,1,0,"ng-container",3),s.qZA()),2&p){s.oxw();var f=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",f)}}function b(p,u){1&p&&s.Hsn(0)}var A=function(u){return{"hint-box__short":u}},F=["*"],O=function(){var p=function(){function u(){(0,v.Z)(this,u),this.isError=!1,this.isShort=!0}return(0,C.Z)(u,[{key:"toggleIsShort",value:function(){this.isShort=!this.isShort}}]),u}();return p.\u0275fac=function(f){return new(f||p)},p.\u0275cmp=s.Xpm({type:p,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:F,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(f,y){1&f&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("click",function(){return y.toggleIsShort()}),s.YNc(1,h,2,1,"mat-hint",1),s.YNc(2,T,2,1,"mat-error",1),s.qZA(),s.YNc(3,b,1,0,"ng-template",null,2,s.W1O)),2&f&&(s.Q6J("ngClass",s.VKq(4,A,y.isShort))("ngSwitch",y.isError),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0))},directives:[_.mk,_.RF,_.n9,m.bx,_.tP,m.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),p}()},491:function(U,M,a){a.d(M,{E:function(){return _}});var v=a(8069),C=a(8047),s=a(7133),_=function(){var m=function(){function d(){(0,v.Z)(this,d)}return(0,C.Z)(d,[{key:"onClick",value:function(Z){Z.stopPropagation()}}]),d}();return m.\u0275fac=function(h){return new(h||m)},m.\u0275dir=s.lG2({type:m,selectors:[["","appClickStopPropagation",""]],hostBindings:function(h,Z){1&h&&s.NdJ("click",function(b){return Z.onClick(b)})}}),m}()},7396:function(U,M,a){function v(s){return new Promise(function(_,m){var d=new FileReader;d.readAsDataURL(s),d.onload=function(){_(d.result.split(",")[1])},d.onerror=function(h){m(h)}})}function C(s){return new Promise(function(_,m){var d=new FileReader;d.readAsText(s),d.onload=function(){_(d.result)},d.onerror=function(h){m(h)}})}a.d(M,{s:function(){return v},B:function(){return C}})}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.01.00/ng-edit/projects_ng-dialogs_src_app_metadata_metadata_component_ts.851d89a47a1e81b8.js.map
"use strict";(self.webpackChunkng_dialogs=self.webpackChunkng_dialogs||[]).push([["default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1"],{5432:function(D,C,i){i.d(C,{T:function(){return m.T},n:function(){return c}});var m=i(7472),_=i(8047),l=i(8069),h=i(6362),p=i(7133),c=function(){var r=(0,_.Z)(function u(){(0,l.Z)(this,u)});return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[h.ez]]}),r}()},7472:function(D,C,i){i.d(C,{T:function(){return u}});var m=i(8069),_=i(8047),l=i(7133),h=i(6170),p="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(function(a){return a.trim().toLocaleLowerCase()}),c=function(){function a(s,e,t,n,o,v){(0,m.Z)(this,a),this.monaco=s,this.snippets=v,this.globalCache=this.createGlobalCache(s),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=t,this.editorInstance=this.createInstance(this.monaco,e,t,n,o),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(n,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}return(0,_.Z)(a,[{key:"destroy",value:function(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(function(e){e.dispose()}),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}},{key:"updateValue",value:function(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}},{key:"focus",value:function(){this.editorInstance.focus()}},{key:"onValueChange",value:function(e){this.valueChangedCallback=e}},{key:"onFocus",value:function(e){this.focusedCallback=e}},{key:"onBlur",value:function(e){this.blurredCallback=e}},{key:"insertSnippet",value:function(e){this.editorInstance.getContribution("snippetController2").insert(e)}},{key:"setSnippets",value:function(e){this.snippets=e}},{key:"setJsonSchema",value:function(e){var t=this.editorInstance.getModel().uri.toString(),n=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{enableSchemaRequest:!0}),o=n.schemas.some(function(f){return f.fileMatch[0]===t});if(null==e?void 0:e.value){var v="link"===e.type?{uri:e.value,fileMatch:[t]}:{uri:t,fileMatch:[t],schema:JSON.parse(e.value)};n.schemas=o?n.schemas.map(function(f){return f.fileMatch[0]===t?v:f}):[].concat((0,h.Z)(n.schemas),[v])}else{if(!o)return;n.schemas=n.schemas.filter(function(f){return f.fileMatch[0]!==t})}this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(n)}},{key:"createGlobalCache",value:function(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}},{key:"defineThemes",value:function(e,t){e.themesAreDefined||(e.themesAreDefined=!0,t.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}]}))}},{key:"createInstance",value:function(e,t,n,o,v){var f=e.editor.create(o,v),g=e.Uri.file(t),M=e.editor.createModel(n,void 0,g);return f.setModel(M),f}},{key:"saveState",value:function(e,t){var n=t.getModel().uri.toString(),o=JSON.stringify(t.saveViewState());null==e.savedStates[n]?e.savedStates[n]={viewState:o}:e.savedStates[n].viewState=o}},{key:"restoreState",value:function(e,t){var n=t.getModel().uri.toString(),o=e.savedStates[n];if(null!=o){var v=JSON.parse(o.viewState);t.restoreViewState(v)}}},{key:"addSnippets",value:function(e,t){var n=this;return[e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{triggerCharacters:[">"],provideCompletionItems:function(f,g){if(t.getModel()!==f)return{suggestions:[]};var M=f.getValueInRange({startLineNumber:g.lineNumber,startColumn:1,endLineNumber:g.lineNumber,endColumn:g.column});if(">"!==M[M.length-1])return{suggestions:[]};var S=M.lastIndexOf("<");if(-1===S)return{suggestions:[]};var d=M.substring(S),I=0;if(Array.from(d).forEach(function(T){'"'===T&&I++}),I%2!=0)return{suggestions:[]};if(d.startsWith("</"))return{suggestions:[]};if(d.indexOf(">")!==d.length-1)return{suggestions:[]};var b=d.indexOf(" ");if(-1===b&&(b=d.indexOf(">")),-1===b)return{suggestions:[]};var E=d.substring(1,b);return E?p.includes(E.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(E)?{suggestions:[{label:"</".concat(E,">"),kind:e.languages.CompletionItemKind.Snippet,insertText:"$0</".concat(E,">"),insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:g.lineNumber,endLineNumber:g.lineNumber,startColumn:g.column,endColumn:g.column}}]}:{suggestions:[]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(t.getModel().getModeId(),{provideCompletionItems:function(f,g){if(null==n.snippets||t.getModel()!==f)return{suggestions:[]};var M=f.getWordUntilPosition(g),y={startLineNumber:g.lineNumber,endLineNumber:g.lineNumber,startColumn:M.startColumn,endColumn:M.endColumn};return{suggestions:n.snippets.map(function(d){var I,b,E;if(d.content)return{label:d.name,kind:e.languages.CompletionItemKind.Snippet,documentation:"".concat(null!==(I=d.title)&&void 0!==I?I:"","\n").concat(null!==(b=d.help)&&void 0!==b?b:"","\n").concat(null!==(E=d.links)&&void 0!==E?E:""),insertText:d.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:y}}).filter(function(d){return!!d})}}})]}},{key:"createResizeObserver",value:function(e,t){var n=new ResizeObserver(function(){t.layout()});return n.observe(e),n}},{key:"addEvents",value:function(e){var t=this;e.getModel().onDidChangeContent(function(){var n,o=e.getModel().getValue();o!==t.cachedValue&&(t.cachedValue=o,null===(n=t.valueChangedCallback)||void 0===n||n.call(t,o))}),e.onDidFocusEditorWidget(function(){var n;null===(n=t.focusedCallback)||void 0===n||n.call(t)}),e.onDidBlurEditorWidget(function(){var n;null===(n=t.blurredCallback)||void 0===n||n.call(t)})}}]),a}(),r=["editor"],u=function(){var a=function(){function s(){(0,m.Z)(this,s),this.autoFocus=!1,this.valueChanged=new l.vpe,this.focused=new l.vpe,this.blurred=new l.vpe}return(0,_.Z)(s,[{key:"ngAfterViewInit",value:function(){var t=this;window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.25.2/min/vs"]}}),window.require(["vs/editor/editor.main"],function(n){t.monaco=n,t.createEditor(t.autoFocus)})}},{key:"ngOnChanges",value:function(t){var n,o,v;null!=t.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=t.value&&(null===(n=this.monacoInstance)||void 0===n||n.updateValue(this.value)),null!=t.jsonSchema&&(null===(o=this.monacoInstance)||void 0===o||o.setJsonSchema(this.jsonSchema)),null!=t.snippets&&(null===(v=this.monacoInstance)||void 0===v||v.setSnippets(this.snippets))}},{key:"insertSnippet",value:function(t){var n,o;null===(n=this.monacoInstance)||void 0===n||n.insertSnippet(t),null===(o=this.monacoInstance)||void 0===o||o.focus()}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.monacoInstance)||void 0===t||t.destroy()}},{key:"createEditor",value:function(t){var n=this;this.monacoInstance=new c(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets),this.jsonSchema&&this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.onValueChange(function(o){n.valueChanged.emit(o)}),this.monacoInstance.onFocus(function(){n.focused.emit()}),this.monacoInstance.onBlur(function(){n.blurred.emit()}),t&&this.monacoInstance.focus()}}]),s}();return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-monaco-editor"]],viewQuery:function(e,t){var n;1&e&&l.Gf(r,5),2&e&&l.iGM(n=l.CRH())&&(t.editorRef=n.first)},inputs:{filename:"filename",value:"value",snippets:"snippets",options:"options",jsonSchema:"jsonSchema",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[l.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(e,t){1&e&&l._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),a}()},5469:function(D,C,i){i.d(C,{D:function(){return p}});var m=i(8069),_=i(8047),l=i(5266),h=i(7133),p=function(){var c=function(){function r(u){(0,m.Z)(this,r),this.globalConfigService=u}return(0,_.Z)(r,[{key:"onClick",value:function(a){(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)&&a.shiftKey&&a.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}]),r}();return c.\u0275fac=function(u){return new(u||c)(h.Y36(l.bE))},c.\u0275dir=h.lG2({type:c,selectors:[["","appToggleDebug",""]],hostBindings:function(u,a){1&u&&h.NdJ("click",function(e){return a.onClick(e)})}}),c}()},845:function(D,C,i){i.d(C,{z:function(){return p}});var m=i(8069),_=i(8047),l=i(7133),h=i(318),p=function(){var c=function(){function r(u){(0,m.Z)(this,r),this.sanitizer=u}return(0,_.Z)(r,[{key:"transform",value:function(a){return this.sanitizer.bypassSecurityTrustHtml(a)}}]),r}();return c.\u0275fac=function(u){return new(u||c)(l.Y36(h.H7,16))},c.\u0275pipe=l.Yjl({name:"safeHtml",type:c,pure:!0}),c}()},162:function(D,C,i){i.d(C,{f:function(){return l}});var m=i(8784),_=i(7514);function l(h){return{loader:{provide:_.Zw,useFactory:h,deps:[m.eN]},defaultLanguage:"en",isolate:!0}}},8865:function(D,C,i){i.d(C,{M:function(){return p}});var m=i(8069),_=i(8047),l=i(745),h=i(3158),p=function(){function c(r,u,a){(0,m.Z)(this,c),this.http=r,this.prefix=u,this.suffix=a}return(0,_.Z)(c,[{key:"getTranslation",value:function(u){var a=this;return this.http.get("".concat(this.prefix).concat(u).concat(this.suffix)).pipe((0,h.K)(function(s){return console.warn("Translation: Failed to get language '".concat(u,"' from ").concat(a.prefix),s),(0,l.of)({})}))}}]),c}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.03.00/ng-edit/default-projects_ng-dialogs_src_app_monaco-editor_index_ts-projects_ng-dialogs_src_app_shared-7048b1.8542e55ed3a69188.js.map
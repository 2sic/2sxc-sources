{"version":3,"file":"projects_eav-ui_src_app_metadata_metadata_component_ts-projects_eav-ui_src_app_shared_service-802177.js","mappings":"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","sources":["./projects/eav-ui/src/app/content-items/services/content-items.service.ts","./projects/eav-ui/src/app/metadata/confirm-delete-dialog/confirm-delete-dialog.component.ts","./projects/eav-ui/src/app/metadata/confirm-delete-dialog/confirm-delete-dialog.component.html","./projects/eav-ui/src/app/metadata/metadata-actions/metadata-actions.component.ts","./projects/eav-ui/src/app/metadata/metadata-actions/metadata-actions.component.html","./projects/eav-ui/src/app/metadata/metadata-content-type/metadata-content-type.component.ts","./projects/eav-ui/src/app/metadata/metadata-content-type/metadata-content-type.component.html","./projects/eav-ui/src/app/metadata/metadata-save-dialog/metadata-save-dialog.component.ts","./projects/eav-ui/src/app/metadata/metadata-save-dialog/metadata-save-dialog.component.html","./projects/eav-ui/src/app/metadata/metadata.component.ts","./projects/eav-ui/src/app/metadata/metadata.component.html","./projects/eav-ui/src/app/permissions/go-to-permissions.ts","./projects/eav-ui/src/app/permissions/index.ts","./projects/eav-ui/src/app/permissions/permissions-dialog.config.ts","./projects/eav-ui/src/app/permissions/permissions.routing.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.ts","./projects/eav-ui/src/app/shared/components/field-hint/field-hint.component.html","./projects/eav-ui/src/app/shared/constants/dropdown-insert-value.constant.ts","./projects/eav-ui/src/app/shared/directives/click-stop-propagation.directive.ts","./projects/eav-ui/src/app/shared/services/service-base.ts"],"sourcesContent":["import { Injectable, Signal } from '@angular/core';\r\nimport { from, map, switchMap } from 'rxjs';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { webApiFieldsAll } from '../../shared/fields/content-types-fields.service';\r\nimport { Field } from '../../shared/fields/field.model';\r\nimport { toBase64 } from '../../shared/helpers/file-to-base64.helper';\r\nimport { webApiEntityList, webApiEntityRoot } from '../../shared/services/entity.service';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\nimport { ContentItem } from '../models/content-item.model';\r\n\r\n@Injectable()\r\nexport class ContentItemsService extends HttpServiceBase {\r\n\r\n  getAll(contentTypeStaticName: string) {\r\n    return this.getHttpApiUrl<ContentItem[]>(webApiEntityList, {\r\n      params: { appId: this.appId, contentType: contentTypeStaticName }\r\n    });\r\n  }\r\n\r\n  getAllSig(contentTypeStaticName: string, initial: undefined): Signal<ContentItem[]> {\r\n    return this.getSignal<ContentItem[]>(webApiEntityList, {\r\n      params: { appId: this.appId, contentType: contentTypeStaticName }\r\n    }, initial);\r\n  }\r\n\r\n  getColumns(contentTypeStaticName: string) {\r\n    return this.getHttpApiUrl<Field[]>(webApiFieldsAll, {\r\n      params: { appId: this.appId, staticName: contentTypeStaticName }\r\n    });\r\n  }\r\n\r\n  importItem(file: File) {\r\n    return from(toBase64(file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        return this.http.post<boolean>(this.apiUrl(webApiEntityRoot + 'upload'), {\r\n          AppId: this.appId,\r\n          ContentBase64: fileBase64,\r\n        });\r\n      }),\r\n      map(success => {\r\n        const result: FileUploadResult = {\r\n          Success: success,\r\n          Messages: [],\r\n        };\r\n        return result;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Component, HostBinding, Inject } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\nimport { SafeHtmlPipe } from '../../shared/pipes/safe-html.pipe';\r\nimport { ConfirmDeleteDialogData } from './confirm-delete-dialog.models';\r\n\r\n@Component({\r\n    selector: 'app-confirm-delete-dialog',\r\n    templateUrl: './confirm-delete-dialog.component.html',\r\n    styleUrls: ['./confirm-delete-dialog.component.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        MatButtonModule,\r\n        SafeHtmlPipe,\r\n    ]\r\n})\r\nexport class ConfirmDeleteDialogComponent {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: ConfirmDeleteDialogData,\r\n    private dialog: MatDialogRef<ConfirmDeleteDialogComponent>,\r\n  ) { }\r\n\r\n  closeDialog(confirm?: boolean) {\r\n    this.dialog.close(confirm);\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>Delete {{ dialogData.entityTitle }} ({{ dialogData.entityId }})?</mat-card-title>\r\n    @if (dialogData.message) {\r\n      <mat-card-subtitle [innerHtml]=\"dialogData.message | safeHtml\"></mat-card-subtitle>\r\n    }\r\n  </mat-card-header>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog(true)\">Delete</button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { MetadataItem } from '../models/metadata.model';\r\nimport { MetadataActionsParams } from './metadata-actions.models';\r\n\r\n@Component({\r\n    selector: 'app-metadata-actions',\r\n    templateUrl: './metadata-actions.component.html',\r\n    imports: [\r\n        MatRippleModule,\r\n        MatIconModule,\r\n        TippyDirective,\r\n    ]\r\n})\r\nexport class MetadataActionsComponent implements ICellRendererAngularComp {\r\n  private params: ICellRendererParams & MetadataActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & MetadataActionsParams): void {\r\n    this.params = params;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  deleteMetadata(): void {\r\n    const metadata: MetadataItem = this.params.data;\r\n    this.params.onDelete(metadata);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Delete\" (click)=\"deleteMetadata()\">\r\n    <mat-icon>delete</mat-icon>\r\n  </div>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MetadataItem } from '../models/metadata.model';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n    selector: 'app-metadata-content-type',\r\n    templateUrl: './metadata-content-type.component.html',\r\n    styleUrls: ['./metadata-content-type.component.scss'],\r\n    imports: [TippyDirective,]\r\n})\r\nexport class MetadataContentTypeComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n  metadata: MetadataItem;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n    this.metadata = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"container\" [tippy]=\"metadata._Type.Description\">\r\n  {{ value }}\r\n</div>\r\n","import { NgClass } from '@angular/common';\r\nimport { Component, computed, HostBinding, OnInit, signal, WritableSignal } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatOptionModule } from '@angular/material/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSlideToggleChange, MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { distinctUntilChanged, startWith } from 'rxjs';\r\nimport { transient } from '../../../../../core';\r\nimport { ContentTypesService } from '../../app-administration/services';\r\nimport { FieldHintComponent } from '../../shared/components/field-hint/field-hint.component';\r\nimport { dropdownInsertValue } from '../../shared/constants/dropdown-insert-value.constant';\r\nimport { eavConstants, ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { ClickStopPropagationDirective } from '../../shared/directives/click-stop-propagation.directive';\r\nimport { MetadataSaveFormValues } from './metadata-save-dialog.models';\r\n\r\n@Component({\r\n    selector: 'app-metadata-save-dialog',\r\n    templateUrl: './metadata-save-dialog.component.html',\r\n    styleUrls: ['./metadata-save-dialog.component.scss'],\r\n    imports: [\r\n        MatCardModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        MatOptionModule,\r\n        MatInputModule,\r\n        MatButtonModule,\r\n        NgClass,\r\n        MatIconModule,\r\n        MatSlideToggleModule,\r\n        FieldHintComponent,\r\n        ClickStopPropagationDirective,\r\n    ]\r\n})\r\nexport class MetadataSaveDialogComponent implements OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  form: UntypedFormGroup;\r\n  dropdownInsertValue = dropdownInsertValue;\r\n  guidedContentType = true;\r\n  advancedMode = false;\r\n\r\n  #contentTypesService = transient(ContentTypesService);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<MetadataSaveDialogComponent>,\r\n  ) { }\r\n\r\n  scope = signal(eavConstants.scopes.default.value);\r\n  scopeOptions = this.#contentTypesService.getScopesSig(undefined) as WritableSignal<ScopeOption[]>;\r\n\r\n  contentTypes = computed(() => {\r\n    const scope = this.scope();\r\n    return this.#contentTypesService.retrieveContentTypesSig(scope, undefined);\r\n  });\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.buildForm();\r\n  }\r\n\r\n  closeDialog(contentType?: string): void {\r\n    this.dialog.close(contentType);\r\n  }\r\n\r\n  toggleGuidedContentType(guidedContentType: boolean): void {\r\n    this.guidedContentType = guidedContentType;\r\n  }\r\n\r\n  toggleAdvancedMode(event: MatSlideToggleChange): void {\r\n    this.advancedMode = event.checked;\r\n  }\r\n\r\n  confirm(): void {\r\n    const formValues: MetadataSaveFormValues = this.form.getRawValue();\r\n    this.closeDialog(formValues.contentType);\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.form = new UntypedFormGroup({});\r\n    this.form.addControl('contentType', new UntypedFormControl(null, [Validators.required]));\r\n    this.form.addControl('scope', new UntypedFormControl(eavConstants.scopes.default.value));\r\n\r\n    this.form.controls.scope.valueChanges.pipe(\r\n      startWith(this.form.controls.scope.value),\r\n      distinctUntilChanged(),\r\n    ).subscribe((newScope: string) => {\r\n      // reset content types when scope changes\r\n      if (this.form.controls.contentType.value != null) {\r\n        this.form.controls.contentType.patchValue(null);\r\n      }\r\n\r\n      // add new scope on manual entry\r\n      if (newScope === dropdownInsertValue) {\r\n        newScope = prompt('This is an advanced feature to show content-types of another scope. Don\\'t use this if you don\\'t know what you\\'re doing, as content-types of other scopes are usually hidden for a good reason.') || eavConstants.scopes.default.value;\r\n        if (!this.scopeOptions().some(option => option.value === newScope)) {\r\n          const newScopeOption: ScopeOption = {\r\n            name: newScope,\r\n            value: newScope,\r\n          };\r\n          this.scopeOptions.set([newScopeOption, ...this.scopeOptions()]);\r\n        }\r\n        this.form.controls.scope.patchValue(newScope);\r\n      } else {\r\n        this.scope.set(newScope);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>Create Metadata</mat-card-title>\r\n    <mat-card-subtitle>\r\n      This is a special operation to add an item which is metadata for another item,\r\n      see <a href=\"https://go.2sxc.org/metadata\" target=\"_blank\">docs</a>.\r\n    </mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <form [formGroup]=\"form\">\r\n      <!-- Scope -->\r\n      @if (advancedMode && guidedContentType) {\r\n      <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n        <mat-label>Scope</mat-label>\r\n        <mat-select formControlName=\"scope\" [placeholder]=\"!scopeOptions().length ? 'No items found' : ''\">\r\n          @for (scopeOption of scopeOptions(); track scopeOption) {\r\n          <mat-option [value]=\"scopeOption.value\">\r\n            {{ scopeOption.name }}\r\n          </mat-option>\r\n          }\r\n          <mat-option [value]=\"dropdownInsertValue\">Other...</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <app-field-hint>\r\n        The scope should almost never be changed -\r\n        <a href=\"https://2sxc.org/help?tag=scope\" target=\"_blank\" appClickStopPropagation>see help</a>\r\n      </app-field-hint>\r\n      }\r\n      <!-- Content Type of metadata item -->\r\n      <mat-form-field color=\"accent\" class=\"eav-mat-form-field\">\r\n        <mat-label>Content Type</mat-label>\r\n        @if (guidedContentType) {\r\n        <mat-select formControlName=\"contentType\" required\r\n          [placeholder]=\"!contentTypes()()?.length ? 'No items found' : ''\">\r\n          @for (contentType of contentTypes()(); track contentType) {\r\n          <mat-option [value]=\"contentType.NameId\">\r\n            {{ contentType.Label }}\r\n          </mat-option>\r\n          }\r\n        </mat-select>\r\n        }\r\n        @if (!guidedContentType) {\r\n        <input matInput type=\"text\" formControlName=\"contentType\" required>\r\n        }\r\n        <div matTextSuffix>\r\n          <button mat-icon-button type=\"button\" [ngClass]=\"{ 'active': guidedContentType }\" tippy=\"Pick existing value\"\r\n            (click)=\"toggleGuidedContentType(true)\">\r\n            <mat-icon>search</mat-icon>\r\n          </button>\r\n          <button mat-icon-button type=\"button\" [ngClass]=\"{ 'active': !guidedContentType }\" tippy=\"Manual entry\"\r\n            (click)=\"toggleGuidedContentType(false)\">\r\n            <mat-icon>text_fields</mat-icon>\r\n          </button>\r\n        </div>\r\n      </mat-form-field>\r\n      @if (form.controls.contentType.touched && form.controls.contentType.errors?.required) {\r\n      <app-field-hint [isError]=\"true\">\r\n        This field is required\r\n      </app-field-hint>\r\n      }\r\n    </form>\r\n  </mat-card-content>\r\n  <mat-card-actions class=\"eav-card-actions\">\r\n    <mat-slide-toggle color=\"accent\" [checked]=\"advancedMode\" (change)=\"toggleAdvancedMode($event)\">\r\n      {{ advancedMode ? 'Advanced' : 'Simple' }}\r\n    </mat-slide-toggle>\r\n    <div>\r\n      <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">Cancel</button>\r\n      <button mat-raised-button color=\"accent\" class=\"eav-card-action-button\" [disabled]=\"!form.valid\"\r\n        (click)=\"confirm()\">\r\n        Confirm\r\n      </button>\r\n    </div>\r\n  </mat-card-actions>\r\n</mat-card>\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { NgClass } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, computed, OnInit, signal, ViewContainerRef } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialog, MatDialogActions, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { EcoFabSpeedDialActionsComponent, EcoFabSpeedDialComponent, EcoFabSpeedDialTriggerComponent } from '@ecodev/fab-speed-dial';\r\nimport { map, take } from 'rxjs';\r\nimport { convert, Of, transient } from '../../../../core';\r\nimport { ContentItemsService } from '../content-items/services/content-items.service';\r\nimport { EavForInAdminUi } from '../edit/shared/models/eav';\r\nimport { openFeatureDialog } from '../features/shared/base-feature.component';\r\nimport { MetadataService } from '../permissions';\r\nimport { ColumnDefinitions } from '../shared/ag-grid/column-definitions';\r\nimport { defaultGridOptions } from '../shared/constants/default-grid-options.constants';\r\nimport { MetadataKeyTypes } from '../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../shared/helpers/url-prep.helper';\r\nimport { classLog } from '../shared/logging';\r\nimport { EditForm, EditPrep, ItemAddIdentifier } from '../shared/models/edit-form.model';\r\nimport { SxcGridModule } from '../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { SafeHtmlPipe } from '../shared/pipes/safe-html.pipe';\r\nimport { DialogRoutingService } from '../shared/routing/dialog-routing.service';\r\nimport { EntityEditService } from '../shared/services/entity-edit.service';\r\nimport { ConfirmDeleteDialogComponent } from './confirm-delete-dialog/confirm-delete-dialog.component';\r\nimport { ConfirmDeleteDialogData } from './confirm-delete-dialog/confirm-delete-dialog.models';\r\nimport { MetadataActionsComponent } from './metadata-actions/metadata-actions.component';\r\nimport { MetadataActionsParams } from './metadata-actions/metadata-actions.models';\r\nimport { MetadataContentTypeComponent } from './metadata-content-type/metadata-content-type.component';\r\nimport { MetadataSaveDialogComponent } from './metadata-save-dialog/metadata-save-dialog.component';\r\nimport { MetadataDto, MetadataItem, MetadataRecommendation } from './models/metadata.model';\r\n\r\n@Component({\r\n    selector: 'app-metadata',\r\n    templateUrl: './metadata.component.html',\r\n    styleUrls: ['./metadata.component.scss'],\r\n    imports: [\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        RouterOutlet,\r\n        SxcGridModule,\r\n        MatDialogActions,\r\n        EcoFabSpeedDialComponent,\r\n        NgClass,\r\n        EcoFabSpeedDialTriggerComponent,\r\n        EcoFabSpeedDialActionsComponent,\r\n        MatBadgeModule,\r\n        SafeHtmlPipe,\r\n    ]\r\n})\r\nexport class MetadataComponent implements OnInit {\r\n\r\n  log = classLog({ MetadataComponent });\r\n\r\n  #entitiesSvc = transient(EntityEditService);\r\n  #metadataSvc = transient(MetadataService);\r\n  #contentItemSvc = transient(ContentItemsService);\r\n  #dialogRoutes = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private dialog: MatDialogRef<MetadataComponent>,\r\n    private snackBar: MatSnackBar,\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) { }\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  fabOpen = signal(false);\r\n\r\n  #params = convert(this.#dialogRoutes.getParams(['targetType', 'keyType', 'key', 'title', 'contentTypeStaticName']), p => ({\r\n    targetType: parseInt(p.targetType, 10),\r\n    keyType: p.keyType as Of<typeof MetadataKeyTypes>,\r\n    key: p.key,\r\n    contentTypeStaticName: p.contentTypeStaticName,\r\n  }));\r\n\r\n  // 2024-11-05 2dm: broken, must inform @2dg\r\n  // itemFor = computed<EavForInAdminUi | undefined>(() => {\r\n  //   const items = this.#contentItemSvc.getAllSig(this.#params.contentTypeStaticName, undefined)\r\n  //   const item = items()?.find(i => i.Guid === this.#params.key);\r\n  //   if (item?.For)\r\n  //     return item.For;\r\n  //   return undefined;\r\n  // });\r\n\r\n  // Signal to get itemFor - must be _outside_ the computed property, otherwise it regenerates infinitely\r\n  #itemsFromHttp = this.#contentItemSvc.getAllSig(this.#params.contentTypeStaticName, undefined);\r\n\r\n  itemFor = computed<EavForInAdminUi | undefined>(() => {\r\n    const item = this.#itemsFromHttp()?.find(i => i.Guid === this.#params.key);\r\n    return (item?.For)\r\n      ? item.For\r\n      : undefined;\r\n  });\r\n\r\n  metadataSet = signal<MetadataDto>({ Items: [], Recommendations: [] } as MetadataDto);\r\n\r\n  recommendations = computed(() => {\r\n    const metadata = this.metadataSet();\r\n    return metadata.Recommendations.filter(r =>\r\n      metadata.Items.filter(i => i._Type.Id === r.Id).length < r.Count\r\n    );\r\n  });\r\n\r\n  protected title = (() => {\r\n    try {\r\n      return decodeURIComponent(this.#dialogRoutes.getParam('title') ?? '');\r\n    } catch (e) {\r\n      console.error('Couldn\\'t properly decode title');\r\n      return this.#dialogRoutes.getParam('title') ?? '';\r\n    }\r\n  })();\r\n\r\n  ngOnInit() {\r\n    this.#fetchMetadata();\r\n    this.#dialogRoutes.doOnDialogClosed(() => this.#fetchMetadata());\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialog.close();\r\n  }\r\n\r\n  openChange(open: boolean) {\r\n    this.fabOpen.set(open);\r\n  }\r\n\r\n  createMetadata(recommendation?: MetadataRecommendation) {\r\n    if (recommendation) {\r\n      // If the feature is not enabled, open the info dialog instead of metadata\r\n      if (!recommendation.Enabled) {\r\n        openFeatureDialog(this.matDialog, recommendation.MissingFeature, this.viewContainerRef, this.changeDetectorRef);\r\n        return;\r\n      }\r\n      // Feature is enabled, check if it's an empty metadata\r\n      if (recommendation.CreateEmpty) {\r\n        this.snackBar.open(`Creating ${recommendation.Name}...`);\r\n        this.#entitiesSvc.create(recommendation.Id, { For: this.calculateItemFor('dummy').For }).subscribe({\r\n          error: () => {\r\n            this.snackBar.open(`Creating ${recommendation.Name} failed. Please check console for more info`, undefined, { duration: 3000 });\r\n            this.#fetchMetadata();\r\n          },\r\n          next: () => {\r\n            this.snackBar.open(`Created ${recommendation.Name}`, undefined, { duration: 3000 });\r\n            this.#fetchMetadata();\r\n          },\r\n        });\r\n      } else {\r\n        // Default case - open new-metadata dialog\r\n        this.createMetadataForm(recommendation.Id);\r\n      }\r\n      return;\r\n    }\r\n    const metadataDialogRef = this.matDialog.open(MetadataSaveDialogComponent, {\r\n      autoFocus: false,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n    metadataDialogRef.afterClosed().subscribe((contentType?: string) => {\r\n      if (contentType == null) return;\r\n      this.createMetadataForm(contentType);\r\n    });\r\n  }\r\n\r\n  private createMetadataForm(contentType: string) {\r\n    const form: EditForm = {\r\n      items: [this.calculateItemFor(contentType)],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.#dialogRoutes.navRelative([`edit/${formUrl}`]);\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private calculateItemFor(contentType: string): ItemAddIdentifier {\r\n    const x = EditPrep.constructMetadataInfo(this.#params.targetType, this.#params.keyType, this.#params.key);\r\n    return EditPrep.newMetadataFromInfo(contentType, x);\r\n  }\r\n\r\n  #fetchMetadata() {\r\n    const logGetMetadata = this.log.rxTap('getMetadata');\r\n    this.#metadataSvc.getMetadata(this.#params.targetType, this.#params.keyType, this.#params.key)\r\n      .pipe(\r\n        logGetMetadata.pipe(),\r\n        take(1),\r\n        map(metadata => {\r\n          metadata.Recommendations.forEach(r => {\r\n            if (r.Icon?.startsWith('base64:')) {\r\n              r.Icon = r.Icon.replace('base64:', '');\r\n              r.Icon = window.atob(r.Icon);\r\n              // used for coloring black icons to white\r\n              r.Icon = r.Icon.replace('fill=\"#000000\"', 'fill=\"#ffffff\"');\r\n            }\r\n          });\r\n          return metadata;\r\n        }),\r\n        logGetMetadata.map(),\r\n      )\r\n      // 2024-05-30 2dm - this standard shorthand seems to fail\r\n      // for reasons unknown to me. I've replaced it with the longhand\r\n      // The problem occurs when the metadataSet$ is updated after the initial load.\r\n      // .subscribe(this.metadataSet$);\r\n      .subscribe(data => {\r\n        this.metadataSet.set(data);\r\n      }\r\n      );\r\n  }\r\n\r\n  #editMetadata(metadata: MetadataItem) {\r\n    const form: EditForm = {\r\n      items: [EditPrep.editId(metadata.Id)],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.#dialogRoutes.navRelative([`edit/${formUrl}`]);\r\n  }\r\n\r\n  #deleteMetadata(metadata: MetadataItem, confirmed = false) {\r\n    if (!confirmed) {\r\n      const data: ConfirmDeleteDialogData = {\r\n        entityId: metadata.Id,\r\n        entityTitle: metadata.Title,\r\n        message: this.metadataSet().Recommendations.find(r => r.Id === metadata._Type.Id)?.DeleteWarning,\r\n      };\r\n      const confirmationDialogRef = this.matDialog.open(ConfirmDeleteDialogComponent, {\r\n        autoFocus: false,\r\n        data,\r\n        viewContainerRef: this.viewContainerRef,\r\n        width: '400px',\r\n      });\r\n      confirmationDialogRef.afterClosed().subscribe((isConfirmed: boolean) => {\r\n        if (isConfirmed)\r\n          this.#deleteMetadata(metadata, true);\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.snackBar.open('Deleting...');\r\n    this.#entitiesSvc.delete(metadata._Type.Id, metadata.Id, false).subscribe({\r\n      next: () => {\r\n        this.snackBar.open('Deleted', null, { duration: 2000 });\r\n        this.#fetchMetadata();\r\n      },\r\n      error: () => {\r\n        this.snackBar.open('Delete failed. Please check console for more information', null, { duration: 3000 });\r\n      }\r\n    });\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          cellRendererParams: ColumnDefinitions.idFieldParamsTooltipGetter<MetadataItem>()\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Title',\r\n          onCellClicked: (p: { data: MetadataItem }) => this.#editMetadata(p.data),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          headerName: 'Content Type',\r\n          field: 'ContentType',\r\n          valueGetter: (p: { data: MetadataItem }) => `${p.data._Type.Name}${p.data._Type.Title !== p.data._Type.Name ? ` (${p.data._Type.Title})` : ''}`,\r\n          cellRenderer: MetadataContentTypeComponent,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight1,\r\n          cellRenderer: MetadataActionsComponent,\r\n          cellRendererParams: (() => ({\r\n            onDelete: (metadata) => this.#deleteMetadata(metadata),\r\n          } satisfies MetadataActionsParams))(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","<div class=\"eav-dialog nav-component-wrapper\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">\r\n      {{ title || 'Metadata' }}\r\n    </div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-content nav-component-wrapper\">\r\n    <p>\r\n      @if (!itemFor()) {\r\n      This item is not metadata for anything else.\r\n      }\r\n      @else {\r\n      This item is metadata for:\r\n      <br>Target: {{ itemFor().Target }}\r\n      <br>TargetType: {{ itemFor().TargetType }}\r\n      @if (itemFor().KeyNumber) {\r\n      <br>Key Number: {{ itemFor().KeyNumber }}\r\n      }\r\n      @if (itemFor().KeyGuid) {\r\n      <br>Key Guid: {{ itemFor().KeyGuid }}\r\n      }\r\n      @if (itemFor().KeyString) {\r\n      <br>Key String: {{ itemFor().KeyString }}\r\n      }\r\n      @if (itemFor().Title) {\r\n      <br>Title: {{ itemFor().Title }}\r\n      }\r\n      }\r\n    </p>\r\n    <router-outlet></router-outlet>\r\n    <div class=\"grid-wrapper\">\r\n      <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"metadataSet().Items\" [gridOptions]=\"gridOptions\">\r\n      </ag-grid-angular>\r\n    </div>\r\n  </div>\r\n  <mat-dialog-actions align=\"end\">\r\n    @if (recommendations().length === 0) {\r\n    <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new metadata for this item\"\r\n      (click)=\"createMetadata()\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n    }\r\n    @if (recommendations().length > 0) {\r\n    <eco-fab-speed-dial class=\"eav-eco-fab-speed-dial\" [ngClass]=\"{ 'fab-opened': fabOpen() }\"\r\n      (openChange)=\"openChange($event)\">\r\n      <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n        <button mat-fab>\r\n          <mat-icon class=\"spin180\">{{ fabOpen() ? 'close' : 'add' }}</mat-icon>\r\n        </button>\r\n      </eco-fab-speed-dial-trigger>\r\n      <eco-fab-speed-dial-actions class=\"eav-eco-fab-speed-dial-actions\">\r\n        <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Other Content Type\"\r\n          (click)=\"createMetadata()\">\r\n          <mat-icon>search</mat-icon>\r\n        </button>\r\n        @for (recommendation of recommendations(); track recommendation) {\r\n        <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" [attr.label]=\"recommendation.Title\"\r\n          (click)=\"createMetadata(recommendation)\">\r\n          @if (recommendation.Icon) {\r\n          <div style=\"color: white; fill: white;\" [innerHTML]=\"recommendation.Icon | safeHtml\"\r\n            [matBadgeHidden]=\"recommendation.Enabled\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadge=\"💎\"\r\n            matBadgePosition=\"below after\" aria-hidden=\"false\"></div>\r\n          } @else {\r\n          <mat-icon>add</mat-icon>\r\n          }\r\n        </button>\r\n        }\r\n      </eco-fab-speed-dial-actions>\r\n    </eco-fab-speed-dial>\r\n    }\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { Route } from '@angular/router';\r\nimport { Of } from '../../../../core';\r\nimport { eavConstants, MetadataKeyTypes } from '../shared/constants/eav.constants';\r\n\r\nexport class GoToPermissions {\r\n\r\n  static route: Route = {\r\n    path: 'permissions/:targetType/:keyType/:key',\r\n    loadChildren: () => import('./permissions.routing').then(m => m.permissionRoutes),\r\n    // loadChildren: () => import('./permissions.module').then(m => m.PermissionsModule),\r\n    data: { title: 'Permissions' },\r\n  };\r\n\r\n  static getUrl(targetType: number, keyType: Of<typeof MetadataKeyTypes>, key: string): string {\r\n    return `permissions/${targetType}/${keyType}/${key}`;\r\n  }\r\n\r\n  static getUrlApp(appId: number): string {\r\n    return this.getUrl(eavConstants.metadata.app.targetType, eavConstants.metadata.app.keyType, appId.toString());\r\n  }\r\n\r\n  static getUrlAttribute(id: number): string {\r\n    return this.getUrl(eavConstants.metadata.attribute.targetType, eavConstants.metadata.attribute.keyType, id.toString());\r\n  }\r\n\r\n  /** For historic reasons, it's the same as Entity */\r\n  static getUrlContentType(guid: string): string {\r\n    return this.getUrlEntity(guid);\r\n  }\r\n\r\n  static getUrlEntity(guid: string): string {\r\n    return this.getUrl(eavConstants.metadata.entity.targetType, eavConstants.metadata.entity.keyType, guid);\r\n  }\r\n\r\n  static getUrlLanguage(id: string): string {\r\n    return this.getUrl(eavConstants.metadata.language.targetType, eavConstants.metadata.language.keyType, id);\r\n  }\r\n\r\n}\r\n","\r\nexport * from './go-to-permissions';\r\nexport * from './models/permission.model';\r\nexport * from './permissions-dialog.config';\r\nexport * from './permissions.routing';\r\nexport * from './permissions.component';\r\n// export * from './permissions.module'; // TOOD:: für was wird der index verwendet?\r\nexport * from './services/metadata.service';\r\nexport * from './services/permissions.service';\r\n","import { DialogConfig } from '../shared/models/dialog-config.model';\r\n\r\nexport const permissionsDialog: DialogConfig = {\r\n  name: 'SET_PERMISSIONS_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { PermissionsComponent } = await import('./permissions.component');\r\n    return PermissionsComponent;\r\n  }\r\n};\r\n","import { Routes } from '@angular/router';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { permissionsDialog } from './permissions-dialog.config';\r\nimport { EditRoutes } from '../edit/edit.routing';\r\n\r\nexport const permissionRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DialogEntryComponent,\r\n    data: { dialog: permissionsDialog },\r\n    children: EditRoutes\r\n  },\r\n];\r\n","import { NgClass, NgTemplateOutlet } from '@angular/common';\r\nimport { Component, input } from '@angular/core';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\n\r\n@Component({\r\n    selector: 'app-field-hint',\r\n    templateUrl: './field-hint.component.html',\r\n    styleUrls: ['./field-hint.component.scss'],\r\n    imports: [\r\n        MatFormFieldModule,\r\n        NgClass,\r\n        NgTemplateOutlet\r\n    ]\r\n})\r\nexport class FieldHintComponent {\r\n  isError = input<boolean>(false);\r\n  isShort = true;\r\n\r\n  constructor() { }\r\n\r\n  toggleIsShort() {\r\n    this.isShort = !this.isShort;\r\n  }\r\n}\r\n","<div class=\"hint-box\" (click)=\"toggleIsShort()\" [ngClass]=\"{ 'hint-box__short': isShort }\">\r\n  @switch (isError()) {\r\n    @case (false) {\r\n      <mat-hint>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-hint>\r\n    }\r\n    @case (true) {\r\n      <mat-error>\r\n        <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n      </mat-error>\r\n    }\r\n  }\r\n</div>\r\n\r\n<ng-template #content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n","export const dropdownInsertValue = 'DROPDOWN_INSERT_VALUE' as const;\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { classLog } from '../logging';\r\n\r\n@Directive({\r\n  selector: '[appClickStopPropagation]',\r\n})\r\nexport class ClickStopPropagationDirective {\r\n\r\n  log = classLog({ClickStopPropagationDirective});\r\n\r\n  // Log constructor to detect that it was really attached/created\r\n  constructor() {\r\n    this.log.a('constructor');\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent): void {\r\n    this.log.a('onClick', { event });\r\n    event.stopPropagation();\r\n\r\n    // This should never be added here, as it's often on a link, and the default behavior (link open) should happen\r\n    // event.preventDefault();\r\n  }\r\n\r\n}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * Base class for services - just to standardize use of subscriptions.\r\n * Has @Injectable() just to allow it ot use the standard OnDestroy interface.\r\n */\r\n@Injectable()\r\nexport abstract class ServiceBase implements OnDestroy {\r\n\r\n  protected subscriptions = new Subscription();\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy();\r\n  }\r\n\r\n  // TODO: TRY TO GET RID OF THIS. AFAIK it's just used in the mask, which should switch over to signals.\r\n  destroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n"],"names":["Signal","from","map","switchMap","webApiFieldsAll","toBase64","webApiEntityList","webApiEntityRoot","HttpServiceBase","ContentItemsService","getAll","contentTypeStaticName","getHttpApiUrl","params","appId","contentType","getAllSig","initial","getSignal","getColumns","staticName","importItem","file","pipe","fileBase64","http","post","apiUrl","AppId","ContentBase64","success","result","Success","Messages","__ngFactoryType__","factory","ɵfac","MatButtonModule","MatCardModule","MAT_DIALOG_DATA","MatDialogRef","SafeHtmlPipe","i0","ɵɵelement","ɵɵproperty","ɵɵpipeBind1","ctx_r0","dialogData","message","ɵɵsanitizeHtml","ConfirmDeleteDialogComponent","constructor","dialog","hostClass","closeDialog","confirm","close","ɵɵdirectiveInject","i1","selectors","hostVars","hostBindings","ConfirmDeleteDialogComponent_HostBindings","rf","ctx","ɵɵhostProperty","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ConfirmDeleteDialogComponent_Conditional_4_Template","ɵɵlistener","ConfirmDeleteDialogComponent_Template_button_click_6_listener","ConfirmDeleteDialogComponent_Template_button_click_8_listener","ɵɵadvance","ɵɵtextInterpolate2","entityTitle","entityId","ɵɵconditional","i2","MatCard","MatCardActions","MatCardHeader","MatCardSubtitle","MatCardTitle","i3","MatButton","styles","MatRippleModule","MatIconModule","TippyDirective","MetadataActionsComponent","agInit","refresh","deleteMetadata","metadata","data","onDelete","decls","vars","consts","template","MetadataActionsComponent_Template","MetadataActionsComponent_Template_div_click_1_listener","MatRipple","MatIcon","encapsulation","MetadataContentTypeComponent","value","MetadataContentTypeComponent_Template","_Type","Description","ɵɵtextInterpolate1","NgClass","computed","signal","WritableSignal","FormsModule","ReactiveFormsModule","UntypedFormControl","UntypedFormGroup","Validators","MatOptionModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatSlideToggleModule","distinctUntilChanged","startWith","transient","ContentTypesService","FieldHintComponent","dropdownInsertValue","eavConstants","ClickStopPropagationDirective","scopeOption_r1","name","ɵɵrepeaterCreate","MetadataSaveDialogComponent_Conditional_11_For_5_Template","ɵɵrepeaterTrackByIdentity","ctx_r1","scopeOptions","length","ɵɵrepeater","contentType_r3","NameId","Label","MetadataSaveDialogComponent_Conditional_15_For_2_Template","tmp_1_0","contentTypes","MetadataSaveDialogComponent","contentTypesService","guidedContentType","advancedMode","scope","scopes","default","getScopesSig","undefined","retrieveContentTypesSig","ngOnInit","buildForm","toggleGuidedContentType","toggleAdvancedMode","event","checked","formValues","form","getRawValue","addControl","required","controls","valueChanges","subscribe","newScope","patchValue","prompt","some","option","newScopeOption","set","MetadataSaveDialogComponent_HostBindings","MetadataSaveDialogComponent_Conditional_11_Template","MetadataSaveDialogComponent_Conditional_15_Template","MetadataSaveDialogComponent_Conditional_16_Template","MetadataSaveDialogComponent_Template_button_click_18_listener","MetadataSaveDialogComponent_Template_button_click_21_listener","MetadataSaveDialogComponent_Conditional_24_Template","MetadataSaveDialogComponent_Template_mat_slide_toggle_change_26_listener","$event","MetadataSaveDialogComponent_Template_button_click_29_listener","MetadataSaveDialogComponent_Template_button_click_31_listener","ɵɵpureFunction1","_c0","touched","errors","valid","MatCardContent","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","FormGroupDirective","FormControlName","i4","MatFormField","MatLabel","MatSuffix","i5","MatSelect","i6","MatOption","i7","MatInput","i8","MatIconButton","i9","i10","MatSlideToggle","ChangeDetectorRef","ViewContainerRef","MatBadgeModule","MatDialog","MatDialogActions","MatSnackBar","RouterOutlet","EcoFabSpeedDialActionsComponent","EcoFabSpeedDialComponent","EcoFabSpeedDialTriggerComponent","take","convert","openFeatureDialog","MetadataService","ColumnDefinitions","defaultGridOptions","convertFormToUrl","classLog","EditPrep","SxcGridModule","DialogRoutingService","EntityEditService","itemFor","KeyNumber","KeyGuid","KeyString","Title","MetadataComponent_Conditional_10_Conditional_5_Template","MetadataComponent_Conditional_10_Conditional_6_Template","MetadataComponent_Conditional_10_Conditional_7_Template","MetadataComponent_Conditional_10_Conditional_8_Template","Target","TargetType","MetadataComponent_Conditional_15_Template_button_click_0_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","createMetadata","recommendation_r5","Icon","Enabled","MetadataComponent_Conditional_16_For_10_Template_button_click_0_listener","_r4","$implicit","MetadataComponent_Conditional_16_For_10_Conditional_1_Template","MetadataComponent_Conditional_16_For_10_Conditional_2_Template","MetadataComponent_Conditional_16_Template_eco_fab_speed_dial_openChange_0_listener","_r3","openChange","MetadataComponent_Conditional_16_Template_button_click_6_listener","MetadataComponent_Conditional_16_For_10_Template","fabOpen","ɵɵtextInterpolate","recommendations","MetadataComponent","entitiesSvc","metadataSvc","contentItemSvc","dialogRoutes","snackBar","matDialog","viewContainerRef","changeDetectorRef","log","gridOptions","buildGridOptions","getParams","p","targetType","parseInt","keyType","key","itemsFromHttp","item","find","i","Guid","For","metadataSet","Items","Recommendations","filter","r","Id","Count","title","decodeURIComponent","getParam","e","console","error","fetchMetadata","doOnDialogClosed","open","recommendation","MissingFeature","CreateEmpty","Name","create","calculateItemFor","duration","next","createMetadataForm","metadataDialogRef","autoFocus","width","afterClosed","items","formUrl","navRelative","markForCheck","x","constructMetadataInfo","newMetadataFromInfo","#fetchMetadata","logGetMetadata","rxTap","getMetadata","forEach","startsWith","replace","window","atob","editMetadata","#editMetadata","editId","#deleteMetadata","confirmed","DeleteWarning","confirmationDialogRef","isConfirmed","delete","#buildGridOptions","columnDefs","IdWithDefaultRenderer","cellRendererParams","idFieldParamsTooltipGetter","TextWide","field","onCellClicked","headerName","valueGetter","cellRenderer","ActionsPinnedRight1","MetadataComponent_Template","MetadataComponent_Template_button_click_4_listener","MetadataComponent_Conditional_9_Template","MetadataComponent_Conditional_10_Template","MetadataComponent_Conditional_15_Template","MetadataComponent_Conditional_16_Template","MatMiniFabButton","MatFabButton","AgGridAngular","MatBadge","GoToPermissions","route","path","loadChildren","then","m","permissionRoutes","getUrl","getUrlApp","app","toString","getUrlAttribute","id","attribute","getUrlContentType","guid","getUrlEntity","entity","getUrlLanguage","language","permissionsDialog","initContext","panelSize","panelClass","getComponent","_asyncToGenerator","PermissionsComponent","DialogEntryComponent","EditRoutes","component","children","NgTemplateOutlet","input","ɵɵelementContainer","FieldHintComponent_Case_1_ng_container_1_Template","content_r2","FieldHintComponent_Case_2_ng_container_1_Template","ɵɵprojection","isError","isShort","toggleIsShort","inputs","ngContentSelectors","FieldHintComponent_Template","FieldHintComponent_Template_div_click_0_listener","_r1","FieldHintComponent_Case_1_Template","FieldHintComponent_Case_2_Template","FieldHintComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","_c1","tmp_2_0","MatHint","MatError","a","onClick","stopPropagation","ClickStopPropagationDirective_HostBindings","ClickStopPropagationDirective_click_HostBindingHandler","Subscription","ServiceBase","subscriptions","ngOnDestroy","destroy","unsubscribe"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
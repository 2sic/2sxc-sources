"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-3573f6"],{5501:(I,_,r)=>{r.d(_,{T:()=>d.T,n:()=>f});var d=r(1551),l=r(6362),v=r(3184);let f=(()=>{class g{}return g.\u0275fac=function(h){return new(h||g)},g.\u0275mod=v.oAB({type:g}),g.\u0275inj=v.cJS({imports:[[l.ez]]}),g})()},1551:(I,_,r)=>{r.d(_,{T:()=>c});var d=r(3184);const v="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(h=>h.trim().toLocaleLowerCase());class f{constructor(t,e,s,n,i,o,m){this.monaco=t,this.filename=e,this.snippets=o,this.tooltips=m,this.globalCache=this.createGlobalCache(t),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=s,this.editorInstance=this.createInstance(this.monaco,e,s,n,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(n,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){var t;this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>e.dispose()),null===(t=this.jsTypingsLib)||void 0===t||t.dispose(),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(t){this.cachedValue!==t&&(this.cachedValue=t,this.editorInstance.getModel().setValue(t))}focus(){this.editorInstance.focus()}onValueChange(t){this.valueChangedCallback=t}onFocus(t){this.focusedCallback=t}onBlur(t){this.blurredCallback=t}insertSnippet(t){this.editorInstance.getContribution("snippetController2").insert(t)}setSnippets(t){this.snippets=t}setTooltips(t){this.tooltips=t}setJsonSchema(t){var e,s,n;const i=this.editorInstance.getModel().uri.toString(),o=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,m=null!==(s=null===(e=o.schemas)||void 0===e?void 0:e.some(p=>p.fileMatch[0]===i))&&void 0!==s&&s,a="link"===(null==t?void 0:t.type)?{uri:t.value,fileMatch:[i]}:"raw"===(null==t?void 0:t.type)?{uri:i,fileMatch:[i],schema:JSON.parse(t.value)}:void 0;if(!m&&!a)return;const u=Object.assign(Object.assign({},o),{enableSchemaRequest:!0,schemas:m&&!a?o.schemas.filter(p=>p.fileMatch[0]!==i):m?o.schemas.map(p=>p.fileMatch[0]===i?a:p):[...null!==(n=o.schemas)&&void 0!==n?n:[],a]});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(u)}setJsonComments(t){if(!t)return;const e=Object.assign(Object.assign({},this.monaco.languages.json.jsonDefaults.diagnosticsOptions),{comments:t});this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(e)}setJsDiagnostics(t){if(!t)return;const e=Object.assign(Object.assign({},this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions()),t);this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(e)}setJsTypings(t){var e;t?this.jsTypingsLib=this.monaco.languages.typescript.javascriptDefaults.addExtraLib(t,`js-typings-${this.filename}`):null===(e=this.jsTypingsLib)||void 0===e||e.dispose()}createGlobalCache(t){return null==t._2sxc&&(t._2sxc={themesAreDefined:!1,savedStates:{}}),t._2sxc}defineThemes(t,e){t.themesAreDefined||(t.themesAreDefined=!0,e.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(t,e,s,n,i){const o=t.editor.create(n,i),m=t.Uri.file(e),a=t.editor.createModel(s,void 0,m);return o.setModel(a),o}saveState(t,e){const s=e.getModel().uri.toString(),n=JSON.stringify(e.saveViewState());null==t.savedStates[s]?t.savedStates[s]={viewState:n}:t.savedStates[s].viewState=n}restoreState(t,e){const s=e.getModel().uri.toString(),n=t.savedStates[s];if(null==n)return;const i=JSON.parse(n.viewState);e.restoreViewState(i)}addSnippets(t,e){return[t.languages.registerCompletionItemProvider(e.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(n,i)=>{if(e.getModel()!==n)return{suggestions:[]};const o=n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==o[o.length-1])return{suggestions:[]};const a=o.lastIndexOf("<");if(-1===a)return{suggestions:[]};const u=o.substring(a);let p=0;if(Array.from(u).forEach(D=>{'"'===D&&p++}),p%2!=0)return{suggestions:[]};if(u.startsWith("</"))return{suggestions:[]};if(u.indexOf(">")!==u.length-1)return{suggestions:[]};let C=u.indexOf(" ");if(-1===C&&(C=u.indexOf(">")),-1===C)return{suggestions:[]};const b=u.substring(1,C);return b?v.includes(b.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(b)?{suggestions:[{label:`</${b}>`,kind:t.languages.CompletionItemKind.Snippet,insertText:`$0</${b}>`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),t.languages.registerCompletionItemProvider(e.getModel().getLanguageId(),{provideCompletionItems:(n,i)=>{if(null==this.snippets||e.getModel()!==n)return{suggestions:[]};const o=n.getWordUntilPosition(i);return{suggestions:this.snippets.map(a=>{var u,p,C;return a.content?{label:a.name,kind:t.languages.CompletionItemKind.Snippet,documentation:`${null!==(u=a.title)&&void 0!==u?u:""}\n${null!==(p=a.help)&&void 0!==p?p:""}\n${null!==(C=a.links)&&void 0!==C?C:""}`,insertText:a.content,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}).filter(a=>!!a)}}}),t.languages.registerHoverProvider(e.getModel().getLanguageId(),{provideHover:(n,i)=>{if(null==this.tooltips||e.getModel()!==n)return;const o=n.getWordAtPosition(i);if(!o)return;const m=this.tooltips.find(a=>a.Term===o.word);return m?{contents:m.Help.map(a=>({value:a})),range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}})]}createResizeObserver(t,e){const s=new ResizeObserver(()=>{e.layout()});return s.observe(t),s}addEvents(t){t.getModel().onDidChangeContent(()=>{var e;const s=t.getModel().getValue();s!==this.cachedValue&&(this.cachedValue=s,null===(e=this.valueChangedCallback)||void 0===e||e.call(this,s))}),t.onDidFocusEditorWidget(()=>{var e;null===(e=this.focusedCallback)||void 0===e||e.call(this)}),t.onDidBlurEditorWidget(()=>{var e;null===(e=this.blurredCallback)||void 0===e||e.call(this)})}}const g=["editor"];let c=(()=>{class h{constructor(){this.autoFocus=!1,this.valueChanged=new d.vpe,this.focused=new d.vpe,this.blurred=new d.vpe}ngAfterViewInit(){window.require.config({paths:{vs:["https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs"]}}),window.require(["vs/editor/editor.main"],e=>{this.monaco=e,this.createEditor(this.autoFocus)})}ngOnChanges(e){var s,n,i,o,m,a,u;null!=e.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=e.value&&(null===(s=this.monacoInstance)||void 0===s||s.updateValue(this.value)),null!=e.jsonSchema&&(null===(n=this.monacoInstance)||void 0===n||n.setJsonSchema(this.jsonSchema)),null!=e.jsonComments&&(null===(i=this.monacoInstance)||void 0===i||i.setJsonComments(this.jsonComments)),null!=e.snippets&&(null===(o=this.monacoInstance)||void 0===o||o.setSnippets(this.snippets)),null!=e.tooltips&&(null===(m=this.monacoInstance)||void 0===m||m.setTooltips(this.tooltips)),null!=e.jsTypings&&(null===(a=this.monacoInstance)||void 0===a||a.setJsTypings(this.jsTypings)),null!=e.jsDiagnostics&&(null===(u=this.monacoInstance)||void 0===u||u.setJsDiagnostics(this.jsDiagnostics))}insertSnippet(e){var s,n;null===(s=this.monacoInstance)||void 0===s||s.insertSnippet(e),null===(n=this.monacoInstance)||void 0===n||n.focus()}ngOnDestroy(){var e;null===(e=this.monacoInstance)||void 0===e||e.destroy()}createEditor(e){this.monacoInstance=new f(this.monaco,this.filename,this.value,this.editorRef.nativeElement,this.options,this.snippets,this.tooltips),this.monacoInstance.setJsonSchema(this.jsonSchema),this.monacoInstance.setJsonComments(this.jsonComments),this.monacoInstance.setJsTypings(this.jsTypings),this.monacoInstance.setJsDiagnostics(this.jsDiagnostics),this.monacoInstance.onValueChange(s=>{this.valueChanged.emit(s)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),e&&this.monacoInstance.focus()}}return h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-monaco-editor"]],viewQuery:function(e,s){if(1&e&&d.Gf(g,5),2&e){let n;d.iGM(n=d.CRH())&&(s.editorRef=n.first)}},inputs:{filename:"filename",value:"value",snippets:"snippets",tooltips:"tooltips",options:"options",jsonSchema:"jsonSchema",jsonComments:"jsonComments",jsTypings:"jsTypings",jsDiagnostics:"jsDiagnostics",autoFocus:"autoFocus"},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[d.TTD],decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(e,s){1&e&&d._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]}),h})()},6108:(I,_,r)=>{r.d(_,{D:()=>v});var d=r(51),l=r(3184);let v=(()=>{class f{constructor(c){this.globalConfigService=c}onClick(c){(navigator.platform.match("Mac")?c.metaKey:c.ctrlKey)&&c.shiftKey&&c.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}}return f.\u0275fac=function(c){return new(c||f)(l.Y36(d.bE))},f.\u0275dir=l.lG2({type:f,selectors:[["","appToggleDebug",""]],hostBindings:function(c,h){1&c&&l.NdJ("click",function(e){return h.onClick(e)})}}),f})()},4789:(I,_,r)=>{r.d(_,{f:()=>v});var d=r(8784),l=r(7514);function v(f){return{loader:{provide:l.Zw,useFactory:f,deps:[d.eN]},defaultLanguage:"en",isolate:!0}}},7392:(I,_,r)=>{r.d(_,{M:()=>v});var d=r(3158),l=r(745);class v{constructor(g,c,h){this.http=g,this.prefix=c,this.suffix=h}getTranslation(g){return this.http.get(`${this.prefix}${g}${this.suffix}`).pipe((0,d.K)(c=>(console.warn(`Translation: Failed to get language '${g}' from ${this.prefix}`,c),(0,l.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/14.07.02/ng-edit/default-projects_eav-ui_src_app_monaco-editor_index_ts-projects_eav-ui_src_app_shared_directi-3573f6.acc7f8f188c113c5.js.map
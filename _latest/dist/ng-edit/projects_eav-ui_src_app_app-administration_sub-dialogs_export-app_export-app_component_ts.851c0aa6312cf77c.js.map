{"version":3,"mappings":"qWAMEA,kEAOAA,kBAAiF,UACpDA,iBAAKA,QAChCA,iBAA8B,QACxBA,SAA6BA,QACjCA,cAAIA,SAA6BA,QACjCA,cAAIA,SAAmCA,UAGzCA,iBAA2BA,qBAAQA,QACnCA,kBAA8B,SACxBA,UAAyCA,QAC7CA,eAAIA,UAA2CA,QAC/CA,eACEA,UAEFA,QACAA,eAAIA,UAAyDA,QAC7DA,eAAIA,UAA6DA,UAGnEA,mBAA6B,YAA7BA,CAA6B,sBAEXA,oFACZA,oBACEA,uJAEFA,YAGJA,mBAAwB,sBACRA,4EACZA,oBACEA,+HAEFA,uDA/BAA,2CACAA,2CACAA,iDAKAA,uDACAA,yDAEFA,4IAGEA,uEACAA,2EAKYA,iDAAkC,0CAQlCA,yCAA0B,2FA3ChDA,SAEEA,iBAAsB,WACUA,sBAAUA,UAG1CA,+BAEAA,eACEA,sCAAyBA,cAAIA,eAAGA,QAAMA,wFACfA,gBAAkEA,sBAASA,QAAIA,eACxGA,QAEAA,0BAwCAA,kBAAsC,eACoBA,iDAASC,gBAC/DD,qBACFA,QACAA,qBAAuEA,iDAASE,cAC9EF,yBACFA,UAEJA,+BAvDgBA,qCAO+CA,iCAyCjCA,yCAGeA,0CC9CtC,IAAMG,EAAb,MAAM,QAWJC,YAAoBC,EAAqDC,GAArDC,iBAAqDA,wBAV/CA,eAAY,mBAEtCA,2BAAuB,EACvBA,mBAAe,EACPA,cAAW,IAAIC,IAAyB,MACxCD,kBAAe,IAAIC,KAAgB,GAC3CD,oBAAgBE,OAAc,CAACF,KAAKG,SAAUH,KAAKI,eAAeC,MAChEC,OAAI,EAAEC,EAASC,MAAkB,CAAED,UAASC,kBAK9CC,WACET,KAAKD,iBAAiBW,aAAaC,UAAUJ,IAC3CP,KAAKG,SAASS,KAAKL,KAIvBM,cACEb,KAAKG,SAASW,WACdd,KAAKI,aAAaU,WAGpBC,cACEf,KAAKF,UAAUkB,QAGjBC,YACEjB,KAAKI,aAAaQ,MAAK,GACvBZ,KAAKD,iBAAiBkB,UAAUjB,KAAKkB,qBAAsBlB,KAAKmB,cAChEnB,KAAKI,aAAaQ,MAAK,iDA/BdhB,GAAkBH,iDAAlBG,EAAkBwB,g1BDX/B3B,wDAAeA,8eCWFG,GAAb","names":["i0","ctx_r8","ctx_r10","ExportAppComponent","constructor","dialogRef","exportAppService","this","BehaviorSubject","combineLatest","appInfo$","isExporting$","pipe","map","appInfo","isExporting","ngOnInit","getAppInfo","subscribe","next","ngOnDestroy","complete","closeDialog","close","exportApp","includeContentGroups","resetAppGuid","selectors"],"sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/export-app/export-app.component.ts"],"sourcesContent":["<ng-container *ngIf=\"(templateVars$ | async) as data\">\r\n\r\n  <div mat-dialog-title>\r\n    <div class=\"dialog-title-box\">Export app</div>\r\n  </div>\r\n\r\n  <mat-spinner *ngIf=\"data.isExporting\" mode=\"indeterminate\" diameter=\"20\" color=\"accent\"></mat-spinner>\r\n\r\n  <p class=\"dialog-description\">\r\n    Pack the entire app to a <em>zip</em> folder which can be imported again to another site.\r\n    For further help visit <a href=\"https://2sxc.org/en/help?tag=export-app\" target=\"_blank\">2sxc Help</a>.\r\n  </p>\r\n\r\n  <div class=\"dialog-component-content fancy-scrollbar-light\" *ngIf=\"data.appInfo\">\r\n    <p class=\"app-info__title\">Specs</p>\r\n    <ul class=\"app-info__content\">\r\n      <li>Name: {{ data.appInfo.Name }}</li>\r\n      <li>Guid: {{ data.appInfo.Guid }}</li>\r\n      <li>Version: {{ data.appInfo.Version }}</li>\r\n    </ul>\r\n\r\n    <p class=\"app-info__title\">Contains</p>\r\n    <ul class=\"app-info__content\">\r\n      <li>{{ data.appInfo.EntitiesCount }} entities</li>\r\n      <li>{{ data.appInfo.LanguagesCount }} languages</li>\r\n      <li>\r\n        {{ data.appInfo.TemplatesCount }} templates (Token: {{ data.appInfo.HasTokenTemplates }}, Razor:\r\n        {{ data.appInfo.HasRazorTemplates }})\r\n      </li>\r\n      <li>{{ data.appInfo.TransferableFilesCount }} files to export</li>\r\n      <li>{{ data.appInfo.FilesCount }} files in the app folder totally</li>\r\n    </ul>\r\n\r\n    <div class=\"options-wrapper\">\r\n      <div class=\"option-box\">\r\n        <mat-checkbox [(ngModel)]=\"includeContentGroups\" [disabled]=\"resetAppGuid || data.isExporting\">\r\n          <span class=\"option-box__text\">\r\n            Include all content-groups to re-import the app in an exact copy of this site.\r\n            Only select this option when you copy an entire DNN site.\r\n          </span>\r\n        </mat-checkbox>\r\n      </div>\r\n      <div class=\"option-box\">\r\n        <mat-checkbox [(ngModel)]=\"resetAppGuid\" [disabled]=\"includeContentGroups || data.isExporting\">\r\n          <span class=\"option-box__text\">\r\n            Reset the app GUID to zero. You only need this option for special tutorial apps,\r\n            and usually must not select it.\r\n          </span>\r\n        </mat-checkbox>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"dialog-component-actions\">\r\n    <button mat-raised-button [disabled]=\"data.isExporting\" (click)=\"closeDialog()\">\r\n      Cancel\r\n    </button>\r\n    <button mat-raised-button color=\"accent\" [disabled]=\"data.isExporting\" (click)=\"exportApp()\">\r\n      Export App\r\n    </button>\r\n  </div>\r\n</ng-container>\r\n","import { Component, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { BehaviorSubject, combineLatest, map } from 'rxjs';\r\nimport { AppInfo } from '../../models/app-info.model';\r\nimport { ExportAppService } from '../../services/export-app.service';\r\n\r\n@Component({\r\n  selector: 'app-export-app',\r\n  templateUrl: './export-app.component.html',\r\n  styleUrls: ['./export-app.component.scss'],\r\n})\r\nexport class ExportAppComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  includeContentGroups = false;\r\n  resetAppGuid = false;\r\n  private appInfo$ = new BehaviorSubject<AppInfo>(null);\r\n  private isExporting$ = new BehaviorSubject(false);\r\n  templateVars$ = combineLatest([this.appInfo$, this.isExporting$]).pipe(\r\n    map(([appInfo, isExporting]) => ({ appInfo, isExporting })),\r\n  );\r\n\r\n  constructor(private dialogRef: MatDialogRef<ExportAppComponent>, private exportAppService: ExportAppService) { }\r\n\r\n  ngOnInit() {\r\n    this.exportAppService.getAppInfo().subscribe(appInfo => {\r\n      this.appInfo$.next(appInfo);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.appInfo$.complete();\r\n    this.isExporting$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  exportApp() {\r\n    this.isExporting$.next(true);\r\n    this.exportAppService.exportApp(this.includeContentGroups, this.resetAppGuid);\r\n    this.isExporting$.next(false);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"projects_eav-ui_src_app_app-administration_sub-dialogs_export-app_export-app_component_ts.851c0aa6312cf77c.js"}
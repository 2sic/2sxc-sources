{"version":3,"file":"projects_eav-ui_src_app_app-administration_queries_queries_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.html","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.ts","./projects/eav-ui/src/app/app-administration/queries/queries.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries.component.html"],"sourcesContent":["import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { Query } from '../../models/query.model';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions';\r\n\r\n@Component({\r\n  selector: 'app-queries-actions',\r\n  templateUrl: './queries-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatRippleModule,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatMenuModule,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class QueriesActionsComponent implements ICellRendererAngularComp {\r\n  item: Query;\r\n  params: ICellRendererParams & QueriesActionsParams;\r\n  enablePermissions: boolean;\r\n  actions = QueryActions;\r\n\r\n  agInit(params: ICellRendererParams & QueriesActionsParams): void {\r\n    this.params = params;\r\n    this.item = this.params.data;\r\n    this.enablePermissions = this.params.getEnablePermissions();\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <a [href]=\"params.urlTo(actions.Edit, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Edit\">\r\n    <mat-icon>edit</mat-icon>\r\n  </a>\r\n\r\n  @if (!item._EditInfo.DisableMetadata) {\r\n    <a [href]=\"params.urlTo(actions.Metadata, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Metadata\">\r\n      <mat-icon\r\n        [matBadge]=\"item.Metadata?.length\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!item.Metadata?.length\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </a>\r\n  }\r\n  @if (item._EditInfo.DisableMetadata) {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"item.Metadata?.length\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!item.Metadata?.length\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        local_offer\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  @if (!item._EditInfo.DisableEdit && enablePermissions) {\r\n    <a [href]=\"params.urlTo(actions.Permissions, item)\" class=\"eav-grid-action-button default-link highlight\" matRipple tippy=\"Permissions\">\r\n      <mat-icon\r\n        [matBadge]=\"item._Permissions.Count\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        [matBadgeHidden]=\"!item._Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person\r\n      </mat-icon>\r\n    </a>\r\n  }\r\n  @if (item._EditInfo.DisableEdit || !enablePermissions) {\r\n    <div class=\"eav-grid-action-button disabled\">\r\n      <mat-icon\r\n        [matBadge]=\"item._Permissions.Count\"\r\n        matBadgeColor=\"accent\"\r\n        matBadgeSize=\"small\"\r\n        matBadgeDisabled=\"true\"\r\n        [matBadgeHidden]=\"!item._Permissions.Count\"\r\n        matBadgePosition=\"below after\"\r\n        aria-hidden=\"false\"\r\n      >\r\n        person\r\n      </mat-icon>\r\n    </div>\r\n  }\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <a [href]=\"params.urlTo(actions.Rest, item)\" mat-menu-item class=\"default-link\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </a>\r\n    <button mat-menu-item (click)=\"params.do(actions.Clone, item)\">\r\n      <mat-icon>file_copy</mat-icon>\r\n      <span>Copy</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"params.do(actions.Export, item)\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"item._EditInfo.DisableDelete\" (click)=\"params.do(actions.Delete, item)\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>\r\n","import { Query } from '../../models/query.model';\r\n\r\n// Test @2dm 2020-11-20 - I believe the current model has way too much ceremony\r\n// I need to change ca. 10 places just to get one more action to work\r\n// that's not great\r\nexport enum QueryActions {\r\n  Edit,\r\n  Metadata,\r\n  Rest,\r\n  Clone,\r\n  Permissions,\r\n  Export,\r\n  Delete,\r\n}\r\n\r\nexport interface QueriesActionsParams {\r\n  getEnablePermissions(): boolean;\r\n  \r\n  urlTo(action: QueryActions, query: Query): void;\r\n  do(action: QueryActions, query: Query): void;\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, computed, OnInit, signal } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogActions } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { transient } from '../../../../../core';\r\nimport { ContentExportService } from '../../content-export/services/content-export.service';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { DragAndDropDirective } from '../../shared/directives/drag-and-drop.directive';\r\nimport { TippyDirective } from '../../shared/directives/tippy.directive';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { EditForm, EditPrep } from '../../shared/models/edit-form.model';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { Query } from '../models/query.model';\r\nimport { DialogConfigAppService } from '../services/dialog-config-app.service';\r\nimport { PipelinesService } from '../services/pipelines.service';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions/queries-actions';\r\nimport { QueriesActionsComponent } from './queries-actions/queries-actions.component';\r\n\r\n@Component({\r\n  selector: 'app-queries',\r\n  templateUrl: './queries.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    RouterOutlet,\r\n    // AsyncPipe,\r\n    SxcGridModule,\r\n    DragAndDropDirective,\r\n    TippyDirective,\r\n  ],\r\n})\r\nexport class QueriesComponent implements OnInit {\r\n\r\n  #pipelineSvc = transient(PipelinesService);\r\n  #contentExportSvc = transient(ContentExportService);\r\n  #dialogSvc = transient(DialogService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n  #dialogConfigSvc = transient(DialogConfigAppService);\r\n\r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  enablePermissions!: boolean;\r\n  public gridOptions = this.buildGridOptions();\r\n\r\n  #refresh = signal(0);\r\n\r\n  queries = computed(() => {\r\n    const refresh = this.#refresh();\r\n    return this.#pipelineSvc.getAllSig(eavConstants.contentTypes.query, undefined)\r\n  });\r\n\r\n  ngOnInit() {\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#fetchQueries());\r\n    this.#dialogConfigSvc.getCurrent$().subscribe(settings => {\r\n      this.enablePermissions = settings.Context.Enable.AppPermissions;\r\n    });\r\n  }\r\n\r\n  #fetchQueries() {\r\n    this.#refresh.update(value => value + 1);\r\n  }\r\n\r\n  #urlTo(url: string) {\r\n    return '#' + this.#dialogRouter.urlSubRoute(url);\r\n  }\r\n\r\n  urlToImportQuery() {\r\n    return this.#urlTo(`import`);\r\n  }\r\n\r\n  #urlToEdit(query: Query) {\r\n    return this.#urlTo(\r\n      `edit/${convertFormToUrl({\r\n        items: [\r\n          query == null\r\n            ? EditPrep.newFromType(eavConstants.contentTypes.query, { TestParameters: eavConstants.pipelineDesigner.testParameters })\r\n            : EditPrep.editId(query.Id),\r\n        ],\r\n      })}`\r\n    );\r\n  }\r\n\r\n  importQuery(files?: File[]) {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.#dialogRouter.navRelative(['import'], { state: dialogData });\r\n  }\r\n\r\n  urlToNewQuery() {\r\n    return this.#urlTo(\r\n      `edit/${convertFormToUrl({\r\n        items: [\r\n          EditPrep.newFromType(eavConstants.contentTypes.query, { TestParameters: eavConstants.pipelineDesigner.testParameters })\r\n        ],\r\n      })}`\r\n    );\r\n  }\r\n\r\n  #urlToOpenVisualQueryDesigner(query: Query): string {\r\n    // \"../../\" is needed, because the routing is that way\r\n    return this.#urlTo(\r\n      `../../query/${convertFormToUrl({\r\n        items: [EditPrep.editId(query.Id)],\r\n      } satisfies EditForm)}`\r\n    );\r\n  }\r\n\r\n  #urlToOpenMetadata(query: Query): string {\r\n    return this.#urlTo(\r\n      GoToMetadata.getUrlEntity(\r\n        query.Guid,\r\n        `Metadata for Query: ${query.Name} (${query.Id})`,\r\n      )\r\n    );\r\n  }\r\n\r\n  #urlToPermissoins(query: Query): string {\r\n    return this.#urlTo(GoToPermissions.getUrlEntity(query.Guid));\r\n  }\r\n\r\n  #urlToRestApi(query: Query): string {\r\n    return this.#urlTo(GoToDevRest.getUrlQueryInAdmin(query.Guid));\r\n  }\r\n\r\n  private cloneQuery(query: Query) {\r\n    this.snackBar.open('Copying...');\r\n    this.#pipelineSvc.clonePipeline(query.Id).subscribe(() => {\r\n      this.snackBar.open('Copied', null, { duration: 2000 });\r\n      this.#fetchQueries();\r\n    });\r\n  }\r\n\r\n  private exportQuery(query: Query) {\r\n    this.#contentExportSvc.exportEntity(query.Id, 'Query', true);\r\n  }\r\n\r\n  private deleteQuery(query: Query) {\r\n    if (!confirm(`Delete Pipeline '${query.Name}' (${query.Id})?`)) return;\r\n    this.snackBar.open('Deleting...');\r\n    this.#pipelineSvc.delete(query.Id).subscribe(res => {\r\n      this.snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.#fetchQueries();\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          cellClass: (p) => {\r\n            return `id-action no-padding no-outline ${p.data._EditInfo.ReadOnly ? 'disabled' : ''}`.split(' ');\r\n          },\r\n          cellRendererParams: ColumnDefinitions.idFieldParamsTooltipGetter<Query>(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          sort: 'asc',\r\n          cellClass: (p) => {\r\n            const query: Query = p.data;\r\n            return `${query._EditInfo.DisableEdit ? 'no-outline' : 'primary-action highlight'}`.split(' ');\r\n          },\r\n          cellRenderer: (p: { data: Query }) =>\r\n            `<a href=\"${this.#urlToOpenVisualQueryDesigner(p.data)}\" target=\"_blank\" class=\"default-link\" style=\"display: block; width: 100%; height: 100%;\">\r\n              ${p.data.Name}\r\n            </a>`,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWideFlex3,\r\n          field: 'Description',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight4,\r\n          cellRenderer: QueriesActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: QueriesActionsParams = {\r\n              getEnablePermissions: () => this.enablePermissions,\r\n              do: (action, query) => {\r\n                switch (action) {\r\n                  case QueryActions.Clone: return this.cloneQuery(query);\r\n                  case QueryActions.Export: return this.exportQuery(query);\r\n                  case QueryActions.Delete: return this.deleteQuery(query);\r\n                }\r\n              },\r\n              urlTo: (action, query) => {\r\n                switch (action) {\r\n                  case QueryActions.Edit: return this.#urlToEdit(query);\r\n                  case QueryActions.Metadata: return this.#urlToOpenMetadata(query);\r\n                  case QueryActions.Rest: return this.#urlToRestApi(query);\r\n                  case QueryActions.Permissions: return this.#urlToPermissoins(query);\r\n                }\r\n              },\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <ag-grid-angular\r\n    class=\"ag-theme-material\"\r\n    [rowData]=\"queries()()\"\r\n    [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop\r\n    [allowedFileTypes]=\"'json'\"\r\n    (filesDropped)=\"importQuery($event)\"\r\n  >\r\n  </ag-grid-angular>\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <a [href]=\"urlToImportQuery()\" mat-button class=\"eav-button__with-icon\" tippy=\"Import query\" tippyPlacement=\"top\">\r\n      <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n      <span>Query</span>\r\n    </a>\r\n    <a [href]=\"urlToNewQuery()\" mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new query\" tippyPlacement=\"top\">\r\n      <mat-icon>add</mat-icon>\r\n    </a>\r\n  </mat-dialog-actions>\r\n</div>\r\n<router-outlet></router-outlet>\r\n"],"names":["MatBadgeModule","MatRippleModule","MatIconModule","MatMenuModule","TippyDirective","QueryActions","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ctx_r0","params","urlTo","actions","Metadata","item","ɵɵsanitizeUrl","ɵɵadvance","length","Permissions","_Permissions","Count","ɵɵelement","ɵɵlistener","QueriesActionsComponent_ng_template_13_Template_button_click_4_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","do","Clone","QueriesActionsComponent_ng_template_13_Template_button_click_9_listener","Export","QueriesActionsComponent_ng_template_13_Template_button_click_14_listener","Delete","Rest","_EditInfo","DisableDelete","QueriesActionsComponent","constructor","agInit","data","enablePermissions","getEnablePermissions","refresh","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","QueriesActionsComponent_Template","rf","ctx","ɵɵtemplate","QueriesActionsComponent_Conditional_4_Template","QueriesActionsComponent_Conditional_5_Template","QueriesActionsComponent_Conditional_6_Template","QueriesActionsComponent_Conditional_7_Template","QueriesActionsComponent_ng_template_13_Template","Edit","ɵɵconditional","DisableMetadata","DisableEdit","menu_r3","i1","MatRipple","i2","MatIcon","i3","MatBadge","i4","MatMenu","MatMenuItem","MatMenuContent","MatMenuTrigger","encapsulation","computed","signal","MatButtonModule","MatDialogActions","MatSnackBar","RouterOutlet","transient","ContentExportService","GoToDevRest","GoToMetadata","GoToPermissions","ColumnDefinitions","defaultGridOptions","eavConstants","DragAndDropDirective","convertFormToUrl","EditPrep","SxcGridModule","DialogRoutingService","DialogService","DialogConfigAppService","PipelinesService","QueriesComponent","pipelineSvc","contentExportSvc","dialogSvc","dialogRouter","dialogConfigSvc","snackBar","gridOptions","buildGridOptions","queries","getAllSig","contentTypes","query","undefined","ngOnInit","doOnDialogClosed","fetchQueries","getCurrent$","subscribe","settings","Context","Enable","AppPermissions","#fetchQueries","update","value","#urlTo","url","urlSubRoute","urlToImportQuery","urlToEdit","#urlToEdit","items","newFromType","TestParameters","pipelineDesigner","testParameters","editId","Id","importQuery","files","dialogData","navRelative","state","urlToNewQuery","urlToOpenVisualQueryDesigner","#urlToOpenVisualQueryDesigner","urlToOpenMetadata","#urlToOpenMetadata","getUrlEntity","Guid","Name","urlToPermissoins","#urlToPermissoins","urlToRestApi","#urlToRestApi","getUrlQueryInAdmin","cloneQuery","open","clonePipeline","duration","exportQuery","exportEntity","deleteQuery","confirm","delete","res","columnDefs","IdWithDefaultRenderer","cellClass","p","ReadOnly","split","cellRendererParams","idFieldParamsTooltipGetter","TextWide","field","sort","cellRenderer","TextWideFlex3","ActionsPinnedRight4","action","ɵɵdirectiveInject","QueriesComponent_Template","QueriesComponent_Template_ag_grid_angular_filesDropped_1_listener","$event","MatAnchor","MatFabAnchor","AgGridAngular"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
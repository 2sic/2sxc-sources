"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_code-editor_code-editor_module_ts-projects_eav-ui_src_app_shared_comp-2b2737"],{7066:($,P,l)=>{l.d(P,{_:()=>x,s:()=>T});var d=l(635),O=l(5368),I=l(3184),y=l(8784),w=l(2425);const x="admin/type/";let T=(()=>{class M{constructor(h,A,_){this.http=h,this.context=A,this.dnnContext=_}apiUrl(h){return this.dnnContext.$2sxc.http.apiUrl(h)}retrieveContentType(h){return this.http.get(this.apiUrl(x+"get"),{params:{appId:this.context.appId.toString(),contentTypeId:h}})}retrieveContentTypes(h){return this.http.get(this.apiUrl(x+"list"),{params:{appId:this.context.appId.toString(),scope:h}})}getScopes(){return this.http.get(this.apiUrl(x+"scopes"),{params:{appId:this.context.appId.toString()}}).pipe((0,d.U)(h=>Object.keys(h).map(_=>({name:h[_],value:_}))))}save(h){return this.http.post(this.apiUrl(x+"save"),h,{params:{appid:this.context.appId.toString()}})}delete(h){return this.http.delete(this.apiUrl(x+"delete"),{params:{appid:this.context.appId.toString(),staticName:h.StaticName}})}import(h){const A=new FormData;for(const _ of h)A.append("File",_);return this.http.post(this.apiUrl(x+"import"),A,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(h){return this.http.post(this.apiUrl(x+"addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:h}})}}return M.\u0275fac=function(h){return new(h||M)(I.LFG(y.eN),I.LFG(O._),I.LFG(w._y))},M.\u0275prov=I.Yz7({token:M,factory:M.\u0275fac}),M})()},1743:($,P,l)=>{l.r(P),l.d(P,{CodeEditorModule:()=>re,translateLoaderFactoryCode:()=>nt});var d=l(6362),O=l(7317),I=l(1130),y=l(5758),w=l(5590),x=l(4742),T=l(2528),M=l(7514),F=l(7383),h=l(5501),A=l(5368),_=l(3135),f=l(7392),m=l(4789),E=l(2977),L=l(7714),N=l(6317),J=l(6562),B=l(1640),ot=l(1203),Y=l(2673),it=l(745),U=l(635),V=l(3280),S=l(2423),W=l(6922),t=l(3184);function st(i,p){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t._UZ(3,"br"),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.AsE('"',e.snackBarData.fileName,'" also has a code-behind file "',e.snackBarData.codeFile,'".')}}function rt(i,p){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(' You are editing "',e.snackBarData.edition,'" edition. ')}}function at(i,p){1&i&&(t.ynx(0),t._uU(1," You may be editing an edition which is not the one you see. "),t.BQk())}function ct(i,p){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,rt,2,1,"ng-container",1),t._uU(2),t.YNc(3,at,2,0,"ng-container",1),t._uU(4," See "),t.TgZ(5,"a",4),t._uU(6,"docs"),t.qZA(),t._uU(7,". "),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.snackBarData.edition),t.xp6(1),t.AsE(" There are ",e.snackBarData.otherEditions,' other editions of "',e.snackBarData.fileName,'". '),t.xp6(1),t.Q6J("ngIf",!e.snackBarData.edition)}}function pt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().openCodeBehind()}),t._uU(1," Open code-behind file "),t.qZA()}}let lt=(()=>{class i{constructor(e,n){this.snackRef=e,this.snackBarData=n}openCodeBehind(){this.snackBarData.openCodeBehind=!0,this.snackRef.dismissWithAction()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.OX),t.Y36(T.qD))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-code-and-edition-warnings"]],decls:5,vars:3,consts:[[1,"messages"],[4,"ngIf"],[1,"actions"],["mat-button","","color","primary",3,"click",4,"ngIf"],["href","http://r.2sxc.org/polymorphism","target","_blank"],["mat-button","","color","primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,st,4,2,"ng-container",1),t.YNc(2,ct,8,4,"div",1),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,pt,2,0,"button",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.snackBarData.codeFile),t.xp6(1),t.Q6J("ngIf",n.snackBarData.otherEditions),t.xp6(2),t.Q6J("ngIf",n.snackBarData.codeFile))},directives:[d.O5,O.lW],styles:[".messages[_ngcontent-%COMP%]{font-size:14px}.messages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}"]}),i})();const z={Templates:"Templates",Snippets:"Snippets"};var dt=l(2215),_t=l(6386),gt=l(898),ut=l(8784),mt=l(2425);let K=(()=>{class i{constructor(e,n,o){this.http=e,this.dnnContext=n,this.translate=o}getTooltips(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/Code/InlineHelp"),{params:{language:e}})}getSnippets(e){return this.http.get("../ng-assets/snippets.json.js").pipe((0,U.U)(n=>{const o=this.filterAwayNotNeededSnippetsList(n.snippets,e),s=this.extractInputTypeSnippets(o),r=this.initSnippetsWithConfig(s.standardArray,e,s.inputTypeSnippets);return{list:s.standardArray,sets:r}}))}filterAwayNotNeededSnippetsList(e,n){const o=["@","["],s=c=>c.Type.indexOf("Razor")>-1?0:1,r=[];for(const c of e){const a=o.indexOf(c.set[0]);(-1===a||a===s(n))&&(a===s(n)&&(c.set=c.set.substring(1)),r.push(c))}return r}extractInputTypeSnippets(e){const n=[],o=[];for(const c of e)"\\"===c.set[0]?(c.set=c.set.substring(1),o.push(c)):n.push(c);return{standardArray:n,inputTypeSnippets:this.catalogInputTypeSnippets(o)}}catalogInputTypeSnippets(e){const n={};for(const o of e)void 0===n[o.subset]&&(n[o.subset]=[]),n[o.subset].push(o);return n}initSnippetsWithConfig(e,n,o){const s=this.makeTree(e);return s.Content=Object.assign({},s.Content,{Fields:{},PresentationFields:{}}),n.TypeContent&&this.loadContentType(s.Content.Fields,n.TypeContent,"Content",n,o),n.TypeContentPresentation&&this.loadContentType(s.Content.PresentationFields,n.TypeContentPresentation,"Content.Presentation",n,o),n.HasList?(s.List=Object.assign({},s.List,{Fields:{},PresentationFields:{}}),n.TypeList&&this.loadContentType(s.List.Fields,n.TypeList,"Header",n,o),n.TypeListPresentation&&this.loadContentType(s.List.PresentationFields,n.TypeListPresentation,"Header.Presentation",n,o)):delete s.List,n.HasApp&&(s.App.Resources={},s.App.Settings={},this.loadContentType(s.App.Resources,"App-Resources","App.Resources",n,o),this.loadContentType(s.App.Settings,"App-Settings","App.Settings",n,o)),s}makeTree(e){const n={};for(const o of e){void 0===n[o.set]&&(n[o.set]={}),void 0===n[o.set][o.subset]&&(n[o.set][o.subset]=[]);const s={key:o.name,label:this.label(o.set,o.subset,o.name),snip:o.content,help:o.help||this.help(o.set,o.subset,o.name),links:this.linksList(o.links)};n[o.set][o.subset].push(s)}return n}label(e,n,o){const s=this.getHelpKey(e,n,o,".Key");let r=this.translate.instant(s);return r===s&&(r=o),r}getHelpKey(e,n,o,s){return"SourceEditorSnippets."+e+"."+n+"."+o+s}help(e,n,o){const s=this.getHelpKey(e,n,o,".Help");let r=this.translate.instant(s);return r===s&&(r=""),r}linksList(e){if(!e)return null;const n=[],o=e.split("\n");for(const s of o){const r=s.split(":");if(3===r.length){const c={name:r[0].trim(),url:r[1].trim()+":"+r[2].trim()};n.push(c)}}return 0===n.length?null:n}loadContentType(e,n,o,s,r){this.getFields(s.AppId,n).subscribe(c=>{for(const a of c){const g=a.StaticName;e[g]={key:g,label:g,snip:this.valuePlaceholder(o,g,s),help:a.Metadata.merged.Notes||" ("+a.Type.toLowerCase()+") "};const u=(0,dt.Z)(e[g]);this.attachSnippets(e,o,g,a.InputType,u,r)}if(c.length){const a=["EntityId","EntityTitle","EntityGuid","EntityType","IsPublished","Modified"];for(let g=0;g<a.length;g++)e[a[g]]={key:a[g],label:a[g],snip:this.valuePlaceholder(o,a[g],s),help:this.translate.instant("SourceEditorSnippets.StandardFields."+a[g]+".Help")}}})}valuePlaceholder(e,n,o){return o.Type.indexOf("Razor")>-1?"@"+e+"."+n:"["+e.replace(".",":")+":"+n+"]"}getFields(e,n){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(gt.jt),{params:{appid:e.toString(),staticName:n}}).pipe((0,U.U)(o=>{o=o.filter(s=>s.Type!==_t.Q.Empty);for(const s of o){if(!s.Metadata)continue;const r=s.Metadata,a=r[s.Type],g=r[s.InputType];r.merged=Object.assign(Object.assign(Object.assign({},r.All),a),g)}return o}))}attachSnippets(e,n,o,s,r,c){let a=c[s];if(s.indexOf("-")){const u=s.substring(0,s.indexOf("-"));if(u){const b=c[u];b&&(a=a?a.concat(b):b)}}if(!a)return;void 0===e[o].more&&(e[o].more={});const g=e[o].more;for(let u=0;u<a.length;u++)try{g[o+"-"+a[u].name]=Object.assign({},r,{key:o+" - "+a[u].name,label:a[u].name,snip:this.localizeGenericSnippet(a[u].content,n,o),collapse:!0})}finally{}}localizeGenericSnippet(e,n,o){return e.replace(/(\$\{[0-9]+\:)var(\})/gi,"$1"+n+"$2").replace(/(\$\{[0-9]+\:)prop(\})/gi,"$1"+o+"$2")}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ut.eN),t.LFG(mt._y),t.LFG(M.sK))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var X=l(7207),G=l(318),ft=l(6108),R=l(6190);function q(i){if(!i)return[];const p=[];for(const e of i){let n=p;const o=e.Path.split("/"),s=o[o.length-1];let r="";for(let c=0;c<o.length;c++){const a=o[c];r+=c?`/${a}`:a;const g=n.find(u=>u.name===a);if(g)n=g.children;else{const u=Object.assign({depth:c,name:a,pathFromRoot:r,isShared:e.Shared,isFolder:a!==s},a!==s&&{children:[]});n.push(u),n=u.children}}}return p}var H=l(7294);let xt=(()=>{class i{transform(e){return null==e||e.sort((n,o)=>n.isFolder<o.isFolder?1:n.isFolder>o.isFolder?-1:0),e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"sortItems",type:i,pure:!0}),i})(),Ct=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,n){let o;return o=n?8*e:0===e?8:8*e+16,this.sanitizer.bypassSecurityTrustStyle(`padding-left: ${o}px;`)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(G.H7,16))},i.\u0275pipe=t.Yjl({name:"depthPadding",type:i,pure:!0}),i})();function yt(i,p){1&i&&t.GkF(0)}const tt=function(i){return{item:i}};function Tt(i,p){if(1&i&&(t.ynx(0),t.YNc(1,yt,1,0,"ng-container",6),t.BQk()),2&i){const e=p.$implicit;t.oxw();const n=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,tt,e))}}const St=function(i){return{active:i}};function Ot(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().item;return t.oxw().openTemplate(o.pathFromRoot,o.isShared)}),t.ALo(1,"depthPadding"),t._uU(2),t.qZA()}if(2&i){const e=t.oxw().item,n=t.oxw();t.Akn(t.xi3(1,5,e.depth,e.isFolder)),t.Q6J("ngClass",t.VKq(8,St,n.isToggled(e.pathFromRoot,e.isShared)))("tippy",e.name),t.xp6(2),t.hij(" ",e.name," ")}}function It(i,p){1&i&&t.GkF(0)}function wt(i,p){if(1&i&&(t.ynx(0),t.YNc(1,It,1,0,"ng-container",6),t.BQk()),2&i){const e=p.$implicit;t.oxw(4);const n=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,tt,e))}}function bt(i,p){if(1&i&&(t.ynx(0),t.YNc(1,wt,2,4,"ng-container",1),t.ALo(2,"sortItems"),t.BQk()),2&i){const e=t.oxw(2).item;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.children))}}const Mt=function(i){return{"app-shared-root":i}};function Pt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().item;return t.oxw().toggleItem(o.pathFromRoot,o.isShared)}),t.ALo(2,"depthPadding"),t.TgZ(3,"div",11),t._UZ(4,"mat-icon",12),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().item;return t.oxw().addFile(o.pathFromRoot,o.isShared)}),t._UZ(8,"mat-icon",5),t.qZA()(),t.YNc(9,bt,3,3,"ng-container",8),t.qZA()}if(2&i){const e=t.oxw().item,n=t.oxw();t.xp6(1),t.Akn(t.xi3(2,7,e.depth+1,e.isFolder)),t.Q6J("ngClass",t.VKq(10,Mt,e.depth<0)),t.xp6(2),t.Q6J("tippy",e.name),t.xp6(1),t.Q6J("svgIcon",n.isToggled(e.pathFromRoot,e.isShared)?"keyboard-arrow-down":"keyboard-arrow-right"),t.xp6(2),t.Oqu(e.name),t.xp6(3),t.Q6J("ngIf",n.isToggled(e.pathFromRoot,e.isShared))}}function Et(i,p){if(1&i&&(t.YNc(0,Ot,3,10,"div",7),t.YNc(1,Pt,10,12,"div",8)),2&i){const e=p.item;t.Q6J("ngIf",!e.isFolder),t.xp6(1),t.Q6J("ngIf",e.isFolder)}}let At=(()=>{class i{constructor(){this.openView=new t.vpe,this.createTemplate=new t.vpe,this.toggledItemsApp=[],this.toggledItemsShared=[]}ngOnChanges(e){var n;if(null!=e.templates&&(this.tree=function vt(i){return[{depth:-1,name:"App Files",pathFromRoot:"",isShared:!1,isFolder:!0,children:q(i.filter(e=>!e.Shared))},{depth:-1,name:"Shared App Files",pathFromRoot:"",isShared:!0,isFolder:!0,children:q(i.filter(e=>e.Shared))}]}(this.templates)),null!=e.view){const o=null===(n=e.view)||void 0===n?void 0:n.previousValue;o&&this.toggleItem(o.FileName,o.IsShared),this.view&&this.showFileInTree(this.view.FileName,this.view.IsShared)}}isToggled(e,n){return(n?this.toggledItemsShared:this.toggledItemsApp).includes(e)}openTemplate(e,n){this.openView.emit({key:e,shared:n})}toggleItem(e,n){S.iX.toggleInArray(e,n?this.toggledItemsShared:this.toggledItemsApp)}addFile(e,n){this.createTemplate.emit({folder:e,isShared:n})}showFileInTree(e,n){if(null==e)return;const o=n?this.toggledItemsShared:this.toggledItemsApp;if(o.includes(e))return;const s=["",...e.split("/")];let r="";for(const c of s)r=r?`${r}/${c}`:c,!o.includes(r)&&this.toggleItem(r,n)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-code-templates"]],inputs:{view:"view",templates:"templates"},outputs:{openView:"openView",createTemplate:"createTemplate"},features:[t.TTD],decls:9,vars:3,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark","explorer-wrapper"],[4,"ngFor","ngForOf"],["fileOrFolder",""],[1,"create-button-wrapper"],["mat-icon-button","","tippy","Create file",3,"click"],["svgIcon","add"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","file","tippyShowDelay","750",3,"style","ngClass","tippy","click",4,"ngIf"],[4,"ngIf"],["tippyShowDelay","750",1,"file",3,"ngClass","tippy","click"],[1,"folder-name-wrapper",3,"ngClass","click"],["tippyShowDelay","750",1,"folder-name",3,"tippy"],[3,"svgIcon"],["tippy","Create file in this folder","tippyShowDelay","750","appClickStopPropagation","",1,"add-item",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,Tt,2,4,"ng-container",1),t.ALo(3,"sortItems"),t.YNc(4,Et,2,2,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(6,"div",3)(7,"button",4),t.NdJ("click",function(){return n.addFile()}),t._UZ(8,"mat-icon",5),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,n.tree)))},directives:[d.sg,d.tP,d.O5,d.mk,R.$,w.Hw,H.E,O.lW],pipes:[xt,Ct],styles:[".explorer-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.create-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.file[_ngcontent-%COMP%]{cursor:pointer;padding:4px 0 4px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.file[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.file.active[_ngcontent-%COMP%]{background-color:#37373d}.folder-name-wrapper[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center}.folder-name-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.folder-name-wrapper[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;white-space:nowrap;padding:3px 0;flex:1 1 auto}.folder-name-wrapper[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{margin-right:4px;display:none;align-items:center;justify-content:center;padding:3px}.folder-name-wrapper.app-shared-root[_ngcontent-%COMP%]{color:#fff;font-weight:500}.folder-name-wrapper[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.folder-name-wrapper[_ngcontent-%COMP%]:hover   .add-item[_ngcontent-%COMP%]{display:flex}"]}),i})(),kt=(()=>{class i{transform(e){if(null!=e)return Array.isArray(e)?e:Object.values(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"objectToArray",type:i,pure:!0}),i})();var Ft=l(1555);function Zt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.oxw(5).toggleMore(o.key)}),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(5);t.Q6J("svgIcon",n.toggledMores.includes(e.key)?"more-vert":"more-horiz")}}function Dt(i,p){if(1&i&&(t.TgZ(0,"div")(1,"a",16),t._uU(2),t.qZA()()),2&i){const e=p.$implicit;t.xp6(1),t.Q6J("href",e.url,t.LSH),t.xp6(1),t.Oqu(e.name)}}function $t(i,p){if(1&i&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.ALo(2,"safeHtml"),t.YNc(3,Dt,3,2,"div",1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e.help),t.oJD),t.xp6(2),t.Q6J("ngForOf",e.links)}}function Nt(i,p){if(1&i&&(t.TgZ(0,"div")(1,"a",16),t._uU(2),t.qZA()()),2&i){const e=p.$implicit;t.xp6(1),t.Q6J("href",e.url,t.LSH),t.xp6(1),t.Oqu(e.name)}}function Jt(i,p){if(1&i&&(t.TgZ(0,"div",19),t._UZ(1,"div",15),t.ALo(2,"safeHtml"),t.YNc(3,Nt,3,2,"div",1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e.help),t.oJD),t.xp6(2),t.Q6J("ngForOf",e.links)}}function Lt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",8)(2,"div",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(7).addSnippet(s.snip)}),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(7).toggleInfo(s.key)}),t.qZA()(),t.YNc(5,Jt,4,4,"div",18),t.qZA()}if(2&i){const e=p.$implicit,n=t.oxw(7);t.xp6(2),t.Q6J("tippy",e.snip),t.xp6(1),t.hij(" ",e.label," "),t.xp6(2),t.Q6J("ngIf",n.toggledInfos.includes(e.key))}}function Ut(i,p){if(1&i&&(t.ynx(0),t.YNc(1,Lt,6,3,"div",1),t.ALo(2,"objectToArray"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.more))}}function Rt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(5).addSnippet(s.snip)}),t._uU(3),t.qZA(),t.YNc(4,Zt,1,1,"mat-icon",10),t.TgZ(5,"mat-icon",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(5).toggleInfo(s.key)}),t.qZA()(),t.YNc(6,$t,4,4,"div",12),t.YNc(7,Ut,3,3,"ng-container",4),t.qZA()}if(2&i){const e=p.$implicit,n=t.oxw(5);t.xp6(2),t.Q6J("tippy",e.snip),t.xp6(1),t.hij(" ",e.label," "),t.xp6(1),t.Q6J("ngIf",e.more),t.xp6(2),t.Q6J("ngIf",n.toggledInfos.includes(e.key)),t.xp6(1),t.Q6J("ngIf",n.toggledMores.includes(e.key))}}function Qt(i,p){if(1&i&&(t.ynx(0),t.YNc(1,Rt,8,5,"div",6),t.ALo(2,"objectToArray"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.value))}}function Ht(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",5),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).toggleFolder(s.key)}),t.ALo(2,"translate"),t._UZ(3,"mat-icon",3),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,Qt,3,3,"ng-container",4),t.qZA()}if(2&i){const e=p.$implicit,n=t.oxw(2).$implicit,o=t.oxw();t.xp6(1),t.Q6J("tippy",t.lcZ(2,4,"SourceEditorSnippets."+n.key+"."+e.key+".Help")),t.xp6(2),t.Q6J("svgIcon",o.toggledFolders.includes(e.key)?"keyboard-arrow-down":"keyboard-arrow-right"),t.xp6(2),t.Oqu(t.lcZ(6,6,"SourceEditorSnippets."+n.key+"."+e.key+".Title")),t.xp6(2),t.Q6J("ngIf",o.toggledFolders.includes(e.key))}}function jt(i,p){if(1&i&&(t.ynx(0),t.YNc(1,Ht,8,8,"div",1),t.ALo(2,"keyvalue"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e.value))}}function Bt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",2),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().toggleSection(s.key)}),t.ALo(2,"translate"),t._UZ(3,"mat-icon",3),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,jt,3,3,"ng-container",4),t.qZA()}if(2&i){const e=p.$implicit,n=t.oxw();t.xp6(1),t.Q6J("tippy",t.lcZ(2,4,"SourceEditorSnippets."+e.key+".Help")),t.xp6(2),t.Q6J("svgIcon",n.toggledSections.includes(e.key)?"keyboard-arrow-down":"keyboard-arrow-right"),t.xp6(2),t.Oqu(t.lcZ(6,6,"SourceEditorSnippets."+e.key+".Title")),t.xp6(2),t.Q6J("ngIf",n.toggledSections.includes(e.key))}}let Yt=(()=>{class i{constructor(){this.insertSnippet=new t.vpe,this.toggledSections=[],this.toggledFolders=[],this.toggledInfos=[],this.toggledMores=[]}addSnippet(e){this.insertSnippet.emit(e)}toggleSection(e){S.iX.toggleInArray(e,this.toggledSections)}toggleFolder(e){S.iX.toggleInArray(e,this.toggledFolders)}toggleInfo(e){S.iX.toggleInArray(e,this.toggledInfos)}toggleMore(e){S.iX.toggleInArray(e,this.toggledMores)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-code-snippets"]],inputs:{snippets:"snippets"},outputs:{insertSnippet:"insertSnippet"},decls:3,vars:3,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark"],[4,"ngFor","ngForOf"],["tippyShowDelay","750",1,"collapsible-header","section",3,"tippy","click"],[3,"svgIcon"],[4,"ngIf"],["tippyShowDelay","750",1,"collapsible-header","folder",3,"tippy","click"],["class","snippet",4,"ngFor","ngForOf"],[1,"snippet"],[1,"snippet-label"],["matRipple","","tippyShowDelay","750",1,"text",3,"tippy","click"],["tippy","Show More","tippyShowDelay","750",3,"svgIcon","click",4,"ngIf"],["tippy","Show Help","tippyShowDelay","750","appClickStopPropagation","","svgIcon","info",3,"click"],["class","snippet-help",4,"ngIf"],["tippy","Show More","tippyShowDelay","750",3,"svgIcon","click"],[1,"snippet-help"],[1,"text",3,"innerHTML"],["target","_blank",3,"href"],["matRipple","","tippyShowDelay","750",1,"text","text-more",3,"tippy","click"],["class","snippet-help snippet-help-more",4,"ngIf"],[1,"snippet-help","snippet-help-more"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Bt,8,8,"div",1),t.ALo(2,"keyvalue"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n.snippets)))},directives:[d.sg,R.$,w.Hw,d.O5,I.wG,H.E],pipes:[d.Nd,M.X$,kt,Ft.z],styles:[".collapsible-header[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;overflow:hidden;white-space:nowrap;-webkit-user-select:none;user-select:none;padding:3px 0}.collapsible-header.section[_ngcontent-%COMP%]{background-color:#383838;font-weight:500}.collapsible-header.folder[_ngcontent-%COMP%]{padding-left:8px}.collapsible-header.folder[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.collapsible-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.snippet[_ngcontent-%COMP%]{padding-right:8px}.snippet[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.snippet-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.snippet-label[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{cursor:pointer;padding:3px 0 3px 32px;flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.snippet-label[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-label[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:18px;height:18px;font-size:18px}.snippet-help[_ngcontent-%COMP%]{padding:3px 18px 3px 32px}.snippet-help-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;font-style:oblique;word-break:break-word}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]     p{margin:0}"]}),i})();var Vt=l(1551);function Wt(i,p){1&i&&t._UZ(0,"mat-icon",23)}function zt(i,p){1&i&&t._UZ(0,"mat-icon",24)}function Kt(i,p){1&i&&t._UZ(0,"mat-spinner",25)}const Xt=function(i,p,e){return{active:i,modified:p,loading:e}};function Gt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).openView(s.viewKey)}),t.TgZ(1,"div",16),t.YNc(2,Wt,1,0,"mat-icon",17),t.TgZ(3,"span",18),t._uU(4),t.qZA()(),t.TgZ(5,"div",19),t.YNc(6,zt,1,0,"mat-icon",20),t.YNc(7,Kt,1,0,"mat-spinner",21),t.TgZ(8,"mat-icon",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).closeEditor(s.viewKey)}),t.qZA()()()}if(2&i){const e=p.$implicit;t.Q6J("ngClass",t.kEZ(6,Xt,e.isActive,e.isModified,e.isLoading)),t.xp6(1),t.Q6J("tippy",e.label),t.xp6(1),t.Q6J("ngIf",e.viewKey.shared),t.xp6(2),t.Oqu(e.label),t.xp6(2),t.Q6J("ngIf",e.isModified),t.xp6(1),t.Q6J("ngIf",e.isLoading)}}function qt(i,p){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Gt,9,10,"div",14),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.tabs)}}function te(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"app-monaco-editor",26),t.NdJ("valueChanged",function(o){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().codeChanged(o,s.viewKey)}),t.qZA()}if(2&i){const e=t.oxw().ngIf,n=t.oxw();t.Q6J("filename",e.view.FileName)("value",e.view.Code)("options",n.monacoOptions)("snippets",e.editorSnipps)("tooltips",e.tooltips)("autoFocus",!0)}}function ee(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).save()}),t._UZ(1,"mat-icon",28),t.qZA()}}const ne=function(i){return{"sxc-dark":i}},et=function(i){return{active:i}};function oe(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.toggleExplorer(o.Explorers.Templates)}),t._UZ(3,"mat-icon",4),t.qZA(),t.TgZ(4,"div",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.toggleExplorer(o.Explorers.Snippets)}),t._UZ(5,"mat-icon",6),t.qZA()(),t.TgZ(6,"app-code-templates",7),t.NdJ("openView",function(o){return t.CHM(e),t.oxw().openView(o)})("createTemplate",function(o){return t.CHM(e),t.oxw().createTemplate(o)}),t.qZA(),t.TgZ(7,"app-code-snippets",8),t.NdJ("insertSnippet",function(o){return t.CHM(e),t.oxw().insertSnippet(o)}),t.qZA(),t.TgZ(8,"div",9),t.YNc(9,qt,2,1,"div",10),t.YNc(10,te,1,6,"app-monaco-editor",11),t.qZA(),t.YNc(11,ee,2,0,"button",12),t.qZA()}if(2&i){const e=p.ngIf,n=t.oxw();t.Q6J("ngClass",t.VKq(11,ne,"2sxc-dark"===n.monacoOptions.theme)),t.xp6(2),t.Q6J("ngClass",t.VKq(13,et,n.activeExplorer===n.Explorers.Templates)),t.xp6(2),t.Q6J("ngClass",t.VKq(15,et,n.activeExplorer===n.Explorers.Snippets)),t.xp6(2),t.Q6J("hidden",n.activeExplorer!==n.Explorers.Templates)("view",e.view)("templates",e.templates),t.xp6(1),t.Q6J("hidden",n.activeExplorer!==n.Explorers.Snippets)("snippets",e.explorerSnipps),t.xp6(2),t.Q6J("ngIf",e.tabs.length>0),t.xp6(1),t.Q6J("ngIf",e.view),t.xp6(1),t.Q6J("ngIf",e.activeView)}}const ie=[{path:"",component:(()=>{class i{constructor(e,n,o,s,r,c,a,g,u){var b;this.context=e,this.route=n,this.snackBar=o,this.sourceService=s,this.snippetsService=r,this.zone=c,this.titleService=a,this.dialog=g,this.viewContainerRef=u,this.Explorers=z,this.activeExplorer=z.Templates,this.monacoOptions={theme:"2sxc-dark",tabSize:2,fixedOverflowWidgets:!0},this.context.init(this.route);const C=JSON.parse(sessionStorage.getItem(W.kF)),k=null!==(b="true"===sessionStorage.getItem(W.PH))&&void 0!==b&&b;C.forEach(v=>{var Z;v.Path.startsWith("/")&&(v.Path=v.Path.substring(1)),null!==(Z=v.IsShared)&&void 0!==Z||(v.IsShared=k)}),this.urlItems=C}ngOnInit(){this.subscription=new L.w0,this.templates$=new N.X([]);const e=this.urlItems.map(n=>{var o,s;return{key:null!==(s=null===(o=n.EntityId)||void 0===o?void 0:o.toString())&&void 0!==s?s:n.Path,shared:n.IsShared}});this.activeView$=new N.X(e[0]),this.openViews$=new N.X(e),this.viewInfos$=new N.X([]),this.attachListeners(),this.sourceService.getAll().subscribe(n=>{this.templates$.next(n)}),this.subscription.add((0,J.a)([this.templates$,this.openViews$]).subscribe(([n,o])=>{if(0===n.length)return;let s=this.viewInfos$.value;const r=o.filter(c=>!s.some(a=>S.iX.objectsEqual(a.viewKey,c)));0!==r.length&&((0,B.D)(r.map(c=>{const a={viewKey:c};s=[...s,a];const g=this.sourceService.get(c.key,c.shared,this.urlItems).pipe((0,ot.B)()),u=g.pipe((0,Y.w)(C=>this.snippetsService.getSnippets(C))),b=g.pipe((0,Y.w)(C=>this.snippetsService.getTooltips(C.Extension.substring(1))));return(0,B.D)([(0,it.of)(c),g,u,b])})).subscribe(c=>{let a=this.viewInfos$.value;c.forEach(([g,u,b,C])=>{const k=a.findIndex(Z=>S.iX.objectsEqual(Z.viewKey,g));if(k<0)return;const v={viewKey:g,view:u,explorerSnipps:b.sets,editorSnipps:b.list,tooltips:C,savedCode:u.Code};a=[...a.slice(0,k),v,...a.slice(k+1)],this.showCodeAndEditionWarnings(g,u,n)}),this.viewInfos$.next(a)}),this.viewInfos$.next(s))})),this.subscription.add((0,J.a)([this.activeView$,this.viewInfos$]).subscribe(([n,o])=>{var s;const r=o.find(u=>S.iX.objectsEqual(u.viewKey,n)),c="Code Editor",a=null==r?c:`${null===(s=r.view)||void 0===s?void 0:s.FileName} - ${c}`;a!==this.titleService.getTitle()&&this.titleService.setTitle(a)})),this.templateVars$=(0,J.a)([this.templates$,this.activeView$,this.openViews$,this.viewInfos$]).pipe((0,U.U)(([n,o,s,r])=>{const c=s.map(u=>{var b,C,k;const v=r.find(D=>S.iX.objectsEqual(D.viewKey,u));return{viewKey:u,label:null!==(C=null===(b=null==v?void 0:v.view)||void 0===b?void 0:b.FileName)&&void 0!==C?C:u.key,isActive:S.iX.objectsEqual(u,o),isModified:(null===(k=null==v?void 0:v.view)||void 0===k?void 0:k.Code)!==(null==v?void 0:v.savedCode),isLoading:null==(null==v?void 0:v.view)}}),a=r.find(u=>S.iX.objectsEqual(u.viewKey,o));return{activeView:o,tabs:c,viewKey:null==a?void 0:a.viewKey,view:null==a?void 0:a.view,templates:n,explorerSnipps:null==a?void 0:a.explorerSnipps,editorSnipps:null==a?void 0:a.editorSnipps,tooltips:null==a?void 0:a.tooltips}}))}ngOnDestroy(){this.templates$.complete(),this.activeView$.complete(),this.openViews$.complete(),this.viewInfos$.complete(),this.subscription.unsubscribe()}toggleExplorer(e){this.activeExplorer=this.activeExplorer!==e?e:null}createTemplate(e){var n;if(null==e.isShared)return void this.dialog.open(F.i6,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(c=>{null!=c&&(e.isShared=c,this.createTemplate(e))});const o={folder:e.folder,global:e.isShared,purpose:"api"===e.folder||(null===(n=e.folder)||void 0===n?void 0:n.startsWith("api/"))?"Api":void 0};this.dialog.open(F.UH,{autoFocus:!1,data:o,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(r=>{!r||this.sourceService.create(r.name,e.isShared,r.templateKey).subscribe(()=>{this.sourceService.getAll().subscribe(c=>{this.templates$.next(c)})})})}insertSnippet(e){var n;null===(n=this.monacoEditorRef)||void 0===n||n.insertSnippet(e)}codeChanged(e,n){let o=this.viewInfos$.value;const s=o.findIndex(a=>S.iX.objectsEqual(a.viewKey,n)),r=o[s],c=Object.assign(Object.assign({},r),{view:Object.assign(Object.assign({},r.view),{Code:e})});o=[...o.slice(0,s),c,...o.slice(s+1)],this.viewInfos$.next(o)}openView(e){var n,o;e=null!==(o=null===(n=this.viewInfos$.value.find(c=>{var a,g;return!S.iX.objectsEqual(c.viewKey,e)&&(null===(a=c.view)||void 0===a?void 0:a.FileName)===e.key&&(null===(g=c.view)||void 0===g?void 0:g.IsShared)===e.shared}))||void 0===n?void 0:n.viewKey)&&void 0!==o?o:e,S.iX.objectsEqual(this.activeView$.value,e)||this.activeView$.next(e);const r=this.openViews$.value;if(!r.some(c=>S.iX.objectsEqual(c,e))){const c=[...r,e];this.openViews$.next(c)}}closeEditor(e){var n;const o=this.openViews$.value,s=o.filter(c=>!S.iX.objectsEqual(c,e)),r=this.activeView$.value;if(S.iX.objectsEqual(r,e)){const c=null!==(n=o[o.findIndex(a=>S.iX.objectsEqual(a,r))-1])&&void 0!==n?n:s[0];this.activeView$.next(c)}this.openViews$.next(s)}save(e){null!=e||(e=this.activeView$.value);const n=this.viewInfos$.value.find(s=>S.iX.objectsEqual(s.viewKey,e));if(null==(null==n?void 0:n.view))return;this.snackBar.open("Saving...");const o=n.view.Code;this.sourceService.save(e.key,e.shared,n.view,this.urlItems).subscribe({next:s=>{if(!s)return void this.snackBar.open("Failed",null,{duration:2e3});let r=[...this.viewInfos$.value];const c=r.findIndex(u=>S.iX.objectsEqual(u.viewKey,e));if(c<0)return;const g=Object.assign(Object.assign({},r[c]),{savedCode:o});r=[...r.slice(0,c),g,...r.slice(c+1)],this.viewInfos$.next(r),this.snackBar.open("Saved",null,{duration:2e3})},error:()=>{this.snackBar.open("Failed",null,{duration:2e3})}})}showCodeAndEditionWarnings(e,n,o){var s;const r=n.FileName,c=r.indexOf("/")>-1?r.lastIndexOf("/")+1:0,a=0===c?"":r.substring(0,c),g=r.substring(c),b=g.substring(0,g.length-n.Extension.length)+".code"+n.Extension,C=o.find(v=>v.Path===a+b&&v.Shared===n.IsShared),k=o.filter(v=>v.Path.endsWith(g)&&v.Shared===n.IsShared).length-1;if(C||k){const v={fileName:g,codeFile:null==C?void 0:C.Path,edition:null===(s=this.urlItems.find(D=>{var j;return(null===(j=D.EntityId)||void 0===j?void 0:j.toString())===e.key&&D.IsShared===n.IsShared&&D.Path===n.FileName}))||void 0===s?void 0:s.Edition,otherEditions:k,openCodeBehind:!1},Z=this.snackBar.openFromComponent(lt,{data:v,duration:1e4});Z.onAction().subscribe(()=>{Z.containerInstance.snackBarConfig.data.openCodeBehind&&this.openView({key:null==C?void 0:C.Path,shared:null==C?void 0:C.Shared})})}}attachListeners(){this.zone.runOutsideAngular(()=>{this.subscription.add((0,V.R)(window,"beforeunload").subscribe(e=>{!this.viewInfos$.value.some(o=>null!=o.view&&o.view.Code!==o.savedCode)||(e.preventDefault(),e.returnValue="")})),this.subscription.add((0,V.R)(window,"keydown").subscribe(e=>{83!==e.keyCode||!(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)||(e.preventDefault(),this.zone.run(()=>{this.save()}))}))})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A._),t.Y36(E.gz),t.Y36(T.ux),t.Y36(X.t),t.Y36(K),t.Y36(t.R0b),t.Y36(G.Dx),t.Y36(y.uw),t.Y36(t.s_b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-code-editor"]],viewQuery:function(e,n){if(1&e&&t.Gf(h.T,5),2&e){let o;t.iGM(o=t.CRH())&&(n.monacoEditorRef=o.first)}},decls:2,vars:3,consts:[["class","editor-root","appToggleDebug","",3,"ngClass",4,"ngIf"],["appToggleDebug","",1,"editor-root",3,"ngClass"],[1,"editor-side-toolbar"],["tippy","Templates",1,"button",3,"ngClass","click"],["svgIcon","file-copy"],["tippy","Snippets",1,"button",3,"ngClass","click"],["svgIcon","code"],[3,"hidden","view","templates","openView","createTemplate"],[3,"hidden","snippets","insertSnippet"],[1,"editor-group"],["class","tabs-container fancy-scrollbar-dark",4,"ngIf"],[3,"filename","value","options","snippets","tooltips","autoFocus","valueChanged",4,"ngIf"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click",4,"ngIf"],[1,"tabs-container","fancy-scrollbar-dark"],["class","tab",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tab",3,"ngClass","click"],["tippyShowDelay","750",1,"tab-label-container",3,"tippy"],["class","icon-shared","svgIcon","share",4,"ngIf"],[1,"tab-label"],[1,"tab-actions-container"],["class","tab-action icon-modified","fontSet","material-icons","svgIcon","circle",4,"ngIf"],["class","spinner","mode","indeterminate","diameter","14","color","white",4,"ngIf"],["tippy","Close","appClickStopPropagation","","svgIcon","close",1,"tab-action","icon-close",3,"click"],["svgIcon","share",1,"icon-shared"],["fontSet","material-icons","svgIcon","circle",1,"tab-action","icon-modified"],["mode","indeterminate","diameter","14","color","white",1,"spinner"],[3,"filename","value","options","snippets","tooltips","autoFocus","valueChanged"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click"],["svgIcon","done"]],template:function(e,n){1&e&&(t.YNc(0,oe,12,17,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.templateVars$))},directives:[d.O5,ft.D,d.mk,R.$,w.Hw,At,Yt,d.sg,x.Ou,H.E,Vt.T,O.lW],pipes:[d.Ov],styles:[".sxc-dark[_ngcontent-%COMP%]{background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{display:flex;height:35px;background-color:#252526;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]:hover{overflow-x:auto}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;align-items:center;cursor:pointer;color:#ccc;font-size:13px;padding-left:10px;border-right:1px solid #252526;background-color:#2d2d2d;-webkit-user-select:none;user-select:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]   .icon-shared[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px;margin-right:4px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]{height:100%;width:28px;display:flex;align-items:center;justify-content:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;width:16px;height:16px;padding:2px;font-size:16px;border-radius:5px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action.icon-modified[_ngcontent-%COMP%]{width:10px;height:10px;font-size:10px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]:hover{background-color:#5a5d5e4f}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover   .icon-close[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).modified   .icon-modified[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).loading   .spinner[_ngcontent-%COMP%]{display:block}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover):not(.modified):not(.loading).active   .icon-close[_ngcontent-%COMP%]{display:flex}.mat-fab[_ngcontent-%COMP%]{position:absolute;right:48px;bottom:32px;z-index:10}"]}),i})()}];let se=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[E.Bz.forChild(ie)],E.Bz]}),i})();function nt(i){return new f.M(i,"./i18n/code-editor.",`.js?${window.sxcVersion}`)}let re=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[A._,X.t,K,M.sK],imports:[[se,_.q,d.ez,y.Is,O.ot,w.Ps,T.ZX,I.si,M.aw.forChild((0,m.f)(nt)),h.n,x.Cq,F.qH]]}),i})()},898:($,P,l)=>{l.d(P,{Mr:()=>F,jt:()=>M});var d=l(635),O=l(7066),I=l(5368),y=l(3184),w=l(8784),x=l(2425);const T="admin/field/",M=T+"all";let F=(()=>{class h{constructor(_,f,m){this.http=_,this.context=f,this.dnnContext=m}apiUrl(_){return this.dnnContext.$2sxc.http.apiUrl(_)}typeListRetrieve(){return this.http.get(this.apiUrl(T+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(T+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,d.U)(_=>_.map(m=>({dataType:m.Type.substring(0,m.Type.indexOf("-")),inputType:m.Type,label:m.Label,description:m.Description,isDefault:m.IsDefault,isObsolete:m.IsObsolete,isRecommended:m.IsRecommended,obsoleteMessage:m.ObsoleteMessage,icon:m.IsDefault?"star":m.IsRecommended?"star-outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(T+"ReservedNames"))}getFields(_){return this.http.get(this.apiUrl(M),{params:{appid:this.context.appId.toString(),staticName:_}}).pipe((0,d.U)(f=>{if(f)for(const m of f){if(!m.Metadata)continue;const E=m.Metadata,N=E[m.Type],J=E[m.InputType];E.merged=Object.assign(Object.assign(Object.assign({},E.All),N),J)}return f}))}reOrder(_,f){return this.http.post(this.apiUrl(T+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:f.Id.toString(),order:JSON.stringify(_)}})}setTitle(_,f){return this.http.post(this.apiUrl(O._+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:f.Id.toString(),attributeId:_.Id.toString()}})}rename(_,f,m){return this.http.post(this.apiUrl(T+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:f.toString(),attributeId:_.toString(),newName:m}})}delete(_,f){if(_.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(T+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:f.Id.toString(),attributeId:_.Id.toString()}})}add(_,f){return this.http.post(this.apiUrl(T+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:f.toString(),Id:_.Id.toString(),Type:_.Type,InputType:_.InputType,StaticName:_.StaticName,IsTitle:_.IsTitle.toString(),Index:_.SortOrder.toString()}})}updateInputType(_,f,m){return this.http.post(this.apiUrl(T+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:_.toString(),field:f,inputType:m}})}}return h.\u0275fac=function(_){return new(_||h)(y.LFG(w.eN),y.LFG(I._),y.LFG(x._y))},h.\u0275prov=y.Yz7({token:h,factory:h.\u0275fac}),h})()},8352:($,P,l)=>{l.d(P,{Y:()=>A});var d=l(3184),O=l(6362),I=l(4770);function y(_,f){1&_&&d.GkF(0)}function w(_,f){if(1&_&&(d.TgZ(0,"mat-hint"),d.YNc(1,y,1,0,"ng-container",3),d.qZA()),2&_){d.oxw();const m=d.MAs(4);d.xp6(1),d.Q6J("ngTemplateOutlet",m)}}function x(_,f){1&_&&d.GkF(0)}function T(_,f){if(1&_&&(d.TgZ(0,"mat-error"),d.YNc(1,x,1,0,"ng-container",3),d.qZA()),2&_){d.oxw();const m=d.MAs(4);d.xp6(1),d.Q6J("ngTemplateOutlet",m)}}function M(_,f){1&_&&d.Hsn(0)}const F=function(_){return{"hint-box__short":_}},h=["*"];let A=(()=>{class _{constructor(){this.isError=!1,this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:h,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(m,E){1&m&&(d.F$t(),d.TgZ(0,"div",0),d.NdJ("click",function(){return E.toggleIsShort()}),d.YNc(1,w,2,1,"mat-hint",1),d.YNc(2,T,2,1,"mat-error",1),d.qZA(),d.YNc(3,M,1,0,"ng-template",null,2,d.W1O)),2&m&&(d.Q6J("ngClass",d.VKq(4,F,E.isShort))("ngSwitch",E.isError),d.xp6(1),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0))},directives:[O.mk,O.RF,O.n9,I.bx,O.tP,I.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),_})()},1555:($,P,l)=>{l.d(P,{z:()=>I});var d=l(3184),O=l(318);let I=(()=>{class y{constructor(x){this.sanitizer=x}transform(x){return this.sanitizer.bypassSecurityTrustHtml(x)}}return y.\u0275fac=function(x){return new(x||y)(d.Y36(O.H7,16))},y.\u0275pipe=d.Yjl({name:"safeHtml",type:y,pure:!0}),y})()},4789:($,P,l)=>{l.d(P,{f:()=>I});var d=l(8784),O=l(7514);function I(y){return{loader:{provide:O.Zw,useFactory:y,deps:[d.eN]},defaultLanguage:"en",isolate:!0}}},7392:($,P,l)=>{l.d(P,{M:()=>I});var d=l(3158),O=l(745);class I{constructor(w,x,T){this.http=w,this.prefix=x,this.suffix=T}getTranslation(w){return this.http.get(`${this.prefix}${w}${this.suffix}`).pipe((0,d.K)(x=>(console.warn(`Translation: Failed to get language '${w}' from ${this.prefix}`,x),(0,O.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/14.11.00/ng-edit/projects_eav-ui_src_app_code-editor_code-editor_module_ts-projects_eav-ui_src_app_shared_comp-2b2737.f713833347ddbd43.js.map
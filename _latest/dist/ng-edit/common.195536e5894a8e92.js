"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["common"],{4038:(f,d,t)=>{t.d(d,{i:()=>c});class c{static tryParse(s){try{return JSON.parse(s)}catch{}}}},6953:(f,d,t)=>{t.d(d,{$:()=>o});var c=t(93826);class o{static fieldValuesAreEqual(_,l){return!!(_===l||"number"==typeof _&&"number"==typeof l&&isNaN(_)&&isNaN(l)||Array.isArray(_)&&Array.isArray(l)&&c.a.arraysEqual(_,l))}static getItemValuesChanges(_,l){const m={};for(const i of Object.keys(l)){const r=l[i];o.fieldValuesAreEqual(r,_[i])||(m[i]=r)}return 0===Object.keys(m).length?void 0:m}}},20753:(f,d,t)=>{t.r(d),t.d(d,{contentItemsRoutes:()=>i});var c=t(93454),o=t(85544),s=t(89204);const _={name:"IMPORT_CONTENT_ITEM_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,s.A)(function*(){const{ImportContentItemComponent:r}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-e25391")]).then(t.bind(t,66754));return r})()},l={name:"CONTENT_ITEMS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,s.A)(function*(){const{ContentItemsComponent:r}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts-node_modules_angular_mat-ab6e25"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-projects_eav-ui_src_app_shared_helpers_copy-to-clipboard_helper_ts-projects_eav-ui_sr-443b17"),t.e("default-node_modules_angular_material_fesm2022_module-BDiw_nWS_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_content-items_component_ts")]).then(t.bind(t,77730));return r})()};var m=t(51195);const i=[{path:"",component:o.DialogEntryComponent,data:{dialog:l},children:[...c.H.getRoutes(),{path:"export/:contentTypeStaticName",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(r=>r.ContentExportRoutes)},{path:"export/:contentTypeStaticName/:selectedIds",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(r=>r.ContentExportRoutes)},{path:"import",component:o.DialogEntryComponent,data:{dialog:_}},{path:":contentTypeStaticName/import",loadChildren:()=>t.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(t.bind(t,3031)).then(r=>r.contentImportRoutes),data:{title:"Import Items"}},...m.RD]}]},33518:(f,d,t)=>{function c(o,s,_=0){const m=o.length===_+1?s:c.bind(this,o,s,_+1),i=o[_],r="string"==typeof i.test?i.test:null,u="function"==typeof i.test?i.test:null,e=window;null!=r&&e[r]||null!=u&&u()?s():window.require([i.src],n=>{n&&!e[r]&&(e[r]=n),m()})}t.d(d,{P:()=>c})},33992:(f,d,t)=>{t.d(d,{b:()=>n});var c=t(46443),o=t(70271),s=t(13550),_=t(24467),l=t(99293),m=t(44444);let n=(()=>{class p extends _.B{saveFeatures(h){return this.http.post(this.apiUrl("admin/feature/SaveNew"),h)}getLicensesLive(h){return(0,c.fx)(()=>(h(),this.apiUrl("sys/license/Summary")))}uploadLicense(h){const g=new FormData;return g.append("File",h),this.http.post(this.apiUrl("sys/license/Upload"),g).pipe((0,o.T)(v=>({Success:v.Success,Messages:[{MessageType:v.Success?s.G1.Success:s.G1.Error,Text:`License ${v.Success?"uploaded":"upload failed"}: ${v.Message}`}]})))}retrieveLicensePromise(){return this.fetchPromise("sys/license/Retrieve",{})}static#e=this.\u0275fac=(()=>{let h;return function(v){return(h||(h=l.xGo(p)))(v||p)}})();static#t=this.\u0275prov=m.jDH({token:p,factory:p.\u0275fac})}return p})()},35160:(f,d,t)=>{t.d(d,{O:()=>_});var c=t(37580),o=t(34456),s=t(99293);let _=(()=>{class l{constructor(){this.appReservedNames=(0,c.hFB)({})}validate(i){if(!i.value)return null;const r=i.value.toLocaleLowerCase(),u=Object.keys(this.appReservedNames()).find(e=>e.toLocaleLowerCase()===r);return u?{reservedNames:this.appReservedNames()[u]}:null}static mergeReserved(i,r){const u={};return r.forEach(e=>{u[e.StaticName]="this field already exists"}),{...i,...u}}static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275dir=s.FsC({type:l,selectors:[["","appReservedNames",""]],inputs:{appReservedNames:[1,"appReservedNames"]},features:[s.Jv_([{provide:o.cz,useExisting:l,multi:!0}])]})}return l})()},36740:(f,d,t)=>{t.d(d,{z:()=>o});const o=t(66619).c.production?[]:["ViewController"]},41657:(f,d,t)=>{t.d(d,{E:()=>v});var c=t(37580),o=t(44444),s=t(16256),_=t(89061),l=t(93840),m=t(28136),i=t(9001),r=t(59339),u=t(34601),e=t(99293),n=t(29968);function p(E,P){if(1&E){const D=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){o.eBV(D);const I=e.XpG();return o.Njj(I.openLightspeedFeatureInfo())}),e.j41(1,"mat-icon",3),e.EFF(2," bolt "),e.k0s()()}}function a(E,P){if(1&E&&(e.j41(0,"a",5)(1,"mat-icon",6),e.EFF(2," bolt "),e.k0s()()),2&E){const D=e.XpG(2);e.Y8G("href","#"+D.params().lightSpeedLink(D.lightSpeedOwner()),e.B4B)}}function h(E,P){if(1&E&&(e.j41(0,"a",5)(1,"mat-icon",7),e.EFF(2," bolt "),e.k0s()()),2&E){const D=e.XpG(2);e.Y8G("href","#"+D.params().lightSpeedLink(D.lightSpeedOwner()),e.B4B)}}function g(E,P){if(1&E&&(e.j41(0,"div",4),e.nVh(1,a,3,1,"a",5)(2,h,3,1,"a",5),e.k0s()),2&E){const D=e.XpG();e.HbH(e.VkB("eav-grid-action-button ",D.appHasLightSpeed?"":"disabled")),e.Y8G("tippy",D.appHasLightSpeed?D.lightSpeed().Title:"Not yet configured for LightSpeed"),e.R7$(),e.vxM(D.appLightSpeedEnabled?1:2)}}let v=(()=>{class E{constructor(){this.lightSpeedOwner=c.hFB.required(),this.params=c.hFB.required(),this.lightSpeed=c.hFB.required(),this.features=(0,o.WQX)(i.D),this.lightSpeedEnabled=this.features.isEnabled[m.T.LightSpeed]}get appHasLightSpeed(){return null!=this.lightSpeed()?.Id}get appLightSpeedEnabled(){return 1==this.lightSpeed()?.IsEnabled}openLightspeedFeatureInfo(){this.params().openLightspeedFeatureInfo()}static#e=this.\u0275fac=function(C){return new(C||E)};static#t=this.\u0275cmp=e.VBU({type:E,selectors:[["app-lightspeed-action"]],inputs:{lightSpeedOwner:[1,"lightSpeedOwner"],params:[1,"params"],lightSpeed:[1,"lightSpeed"]},decls:2,vars:1,consts:[["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled"],["matRipple","",3,"class","tippy"],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadgeIcon","diamond","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy"],[1,"default-link",3,"href"],["matBadgeSize","small","matBadge","\u2705","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadge","\u26d4","matBadgePosition","below after","aria-hidden","false"]],template:function(C,I){1&C&&e.nVh(0,p,3,0,"div",0)(1,g,3,5,"div",1),2&C&&e.vxM(I.lightSpeedEnabled()?1:0)},dependencies:[u.e,l.m_,l.An,s.Y,s.k,r.A,_.M,n.M],encapsulation:2})}return E})()},43143:(f,d,t)=>{t.d(d,{$:()=>_});var c=t(49923),o=t(50819);const s=(l,m)=>(l.push(m),l);function _(){return(0,o.N)((l,m)=>{(0,c.T)(s,[])(l).subscribe(m)})}},45733:(f,d,t)=>{t.r(d),t.d(d,{contentTypeFieldsRoutes:()=>r});var c=t(51195),o=t(93454),s=t(72437),_=t(85544),l=t(89204);const i={name:"EDIT_CONTENT_TYPE_FIELDS_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,l.A)(function*(){const{EditContentTypeFieldsComponent:u}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-node_modules_angular_material_fesm2022_module-BDiw_nWS_mjs"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_edit-content-type-fields_edit-content-type-fields-9a8a92")]).then(t.bind(t,15604));return u})()},r=[{path:"",component:_.DialogEntryComponent,data:{dialog:{name:"CONTENT_TYPE_FIELDS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,l.A)(function*(){const{ContentTypeFieldsComponent:u}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts-node_modules_angular_mat-ab6e25"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_helpers_copy-to-clipboard_helper_ts-projects_eav-ui_sr-443b17"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-projects_eav-ui_src_app_features_feature-icon-text_feature-icon-text_component_ts-pro-ffb1c9"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62")]).then(t.bind(t,91574));return u})()}},children:[{path:"add/:contentTypeStaticName",component:_.DialogEntryComponent,data:{dialog:i}},{path:"update/:contentTypeStaticName/:id/:editMode",component:_.DialogEntryComponent,data:{dialog:i}},...o.H.getRoutes(),s.k.route,...c.RD]}]},46666:(f,d,t)=>{t.d(d,{F:()=>c});const c={App:"App",Site:"Site",Global:"Global"}},47703:(f,d,t)=>{t.d(d,{s:()=>o,w:()=>c});const c=/^[A-Za-z][A-Za-z0-9]+$/,o="Standard letters and numbers are allowed. Must start with a letter."},47903:(f,d,t)=>{t.r(d),t.d(d,{importRoutes:()=>_});var c=t(85544),o=t(89204);const _=[{path:"",component:c.DialogEntryComponent,data:{dialog:{name:"IMPORT_APP_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,o.A)(function*(){const{ImportAppComponent:l}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-0cc7b2")]).then(t.bind(t,60781));return l})()}}}]},49417:(f,d,t)=>{function c(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}t.d(d,{L:()=>c})},56360:(f,d,t)=>{t.d(d,{D:()=>i});var c=t(24467),o=t(99293),s=t(44444);let i=(()=>{class r extends c.B{exportContent(e,n){const p=n?"&selectedids="+n.join():"",a=this.apiUrl("admin/entity/Download")+"?appId="+this.appId+"&language="+e.language+"&defaultLanguage="+e.defaultLanguage+"&contentType="+e.contentTypeStaticName+"&recordExport="+e.recordExport+"&resourcesReferences="+e.resourcesReferences+"&languageReferences="+e.languageReferences+p;window.open(a,"_blank","")}exportJson(e){const n=this.apiUrl("admin/type/Json")+"?appId="+this.appId+"&name="+e;window.open(n,"_blank","")}exportEntity(e,n,p){const a=this.apiUrl("admin/entity/Json")+"?appId="+this.appId+"&id="+e+"&prefix="+n+"&withMetadata="+p;window.open(a,"_blank","")}static#e=this.\u0275fac=(()=>{let e;return function(p){return(e||(e=o.xGo(r)))(p||r)}})();static#t=this.\u0275prov=s.jDH({token:r,factory:r.\u0275fac})}return r})()},58275:(f,d,t)=>{t.d(d,{n:()=>_});var c=t(88857);const o="ValidationMessage.",s="ValidationMessage.NotValid";let _=(()=>{class l{static#e=this.messages={required:i=>i?`${o}Required`:`${o}RequiredShort`,min:i=>i?`${o}Min`:s,max:i=>i?`${o}Max`:s,minNoItems:i=>i?`${o}MinNoItems`:s,maxNoItems:i=>i?`${o}MaxNoItems`:s,pattern:i=>i?`${o}Pattern`:s,decimals:i=>i?`${o}Decimals`:s,jsonError:i=>i?`${o}JsonError`:s,formulaError:i=>s};static validateForm(i){const r={};for(const[u,e]of Object.entries(i.controls))if(c.a.markTouched(e),e.invalid)for(const n of Object.keys(e.errors))if(r[u]=this.messages[n]?.(!1),r[u])break;return r}}return l})()},58362:(f,d,t)=>{t.d(d,{l:()=>l});var c=t(71772),o=t(24467),s=t(99293),_=t(44444);let l=(()=>{class m extends o.B{getStack(r,u,e){return this.newHttpResource(()=>({url:this.apiUrl(c.u+"GetStack"),params:{appId:this.appId,part:r,...u&&{key:u},...e&&{view:e}}}))}static#e=this.\u0275fac=(()=>{let r;return function(e){return(r||(r=s.xGo(m)))(e||m)}})();static#t=this.\u0275prov=_.jDH({token:m,factory:m.\u0275fac})}return m})()},58713:(f,d,t)=>{t.d(d,{g:()=>s});var c=t(50052),o=t(70334);class s{static getLightSpeedEditParams(l){return{items:[o.c.newMetadata(l,c.YX.appMetadata.LightSpeed.ContentTypeName,c.YX.metadata.app,!0)]}}}},59669:(f,d,t)=>{t.d(d,{y:()=>e});var c=t(46443),o=t(24467),s=t(99293),_=t(44444);const l="cms/contentgroup/",m=l+"replace",i=l+"itemlist",r=l+"header";let e=(()=>{class n extends o.B{getItemsPromise(a){return this.fetchPromise(m,{params:{appId:this.appId,guid:a.guid,part:a.part,index:a.index.toString()}})}saveItem(a){return this.http.post(this.apiUrl(m),{},{params:{guid:a.guid,part:a.part,index:a.index.toString(),entityId:a.id.toString(),add:`${a.add}`}})}removeItem(a,h){return this.http.delete(this.apiUrl("cms/list/delete"),{params:{index:h,parent:a.guid,fields:a.part}})}getListPromise(a){return this.fetchPromise(i,{params:{appId:this.appId,guid:a.guid,part:a.part}})}saveList(a,h){return this.http.post(this.apiUrl(i),h,{params:{appId:this.appId,guid:a.guid,part:a.part}})}getAllLive(a,h){return(0,c.fx)(()=>(h(),{url:this.apiUrl(r),params:{appId:this.appId,guid:a.guid}}))}static#e=this.\u0275fac=(()=>{let a;return function(g){return(a||(a=s.xGo(n)))(g||n)}})();static#t=this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}return n})()},67130:(f,d,t)=>{t.d(d,{U:()=>e});var c=t(89204),o=t(46443),s=t(24467),_=t(99293),l=t(44444);let e=(()=>{class n extends s.B{getLanguageLive(a){return(0,o.fx)(()=>(a(),{url:this.apiUrl("admin/zone/GetLanguages"),params:{appId:this.appId}}))}toggleLanguage(a,h){var g=this;return(0,c.A)(function*(){return g.getStatusPromise("admin/zone/SwitchLanguage",{params:{cultureCode:a,enable:h.toString()}})})()}getSystemInfoLive(a){return(0,o.fx)(()=>(a(),{url:this.apiUrl("admin/zone/GetSystemInfo")}))}getLanguagesPermissionsLive(a){return(0,o.fx)(()=>(a(),{url:this.apiUrl("admin/app/languages"),params:{appId:this.appId}}))}static#e=this.\u0275fac=(()=>{let a;return function(g){return(a||(a=_.xGo(n)))(g||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})()},71477:(f,d,t)=>{function c(o){try{const s=o?.Api;if(!s)return;const l={...window.$2sxc.env.header,appApi:s};window.$2sxc.env.load(l)}catch{}}t.d(d,{g:()=>c})},71693:(f,d,t)=>{t.d(d,{d:()=>m});var c=t(44444),o=t(37567),s=t(38172),_=t(70334),l=t(68873);let m=(()=>{class i{constructor(){this.context=(0,c.WQX)(l.o)}openCodeFile(u,e,n){const p={items:[{Path:u,...null!=n&&_.c.editId(n)}]},a={...this.#t(s.Q$,o.Y.Develop),...this.#t(s.P3,e.toString()),...this.#t(s.Ul,JSON.stringify(p.items))},h=this.#n(a);window.open(h,"_blank")}openAppAdministration(u,e,n,p){const a={...n&&{tab:n},...p&&{scope:p}},h={...this.#t(s.v4,u.toString()),...this.#t(s.K7,e.toString()),...this.#t(s.Q$,o.Y.App),...Object.keys(a).length?this.#t(s.z0,JSON.stringify(a)):""},g=this.#n(h);window.open(g,"_blank")}#e(){return{...this.#t(s.v4,this.context.zoneId),...this.#t(s.K7,this.context.appId),...this.#t(s.Zm,this.context.moduleId?.toString()),...this.#t(s.p$,this.context.contentBlockId?.toString()),...this.#t(s.h9),...sessionStorage.getItem(s.tn)?this.#t(s.tn):{}}}#t(u,e){const n=u.replace(s.Pl,""),p=e??sessionStorage.getItem(u),a=encodeURIComponent(p);return{[n]:a}}#n(u){const e=sessionStorage.getItem(s.zX),n=new URL(e),p=n.origin+n.pathname+n.search,a={...this.#e(),...u};return p+Object.entries(a).reduce((g,[v,E])=>`${g}&${v}=${E}`,"").replace("&","#")}static#s=this.\u0275fac=function(e){return new(e||i)};static#a=this.\u0275prov=c.jDH({token:i,factory:i.\u0275fac})}return i})()},76068:(f,d,t)=>{t.d(d,{g:()=>c.g});var c=t(54029)},83583:(f,d,t)=>{t.d(d,{U:()=>p});var c=t(89204),o=t(46443),s=t(24467),_=t(99293),l=t(44444);const u="admin/app/app";let p=(()=>{class a extends s.B{getAllLive(g){return(0,o.fx)(()=>(g(),{url:this.apiUrl("admin/app/list"),params:{zoneId:this.zoneId}}))}getInheritable(){return(0,o.fx)(()=>({url:this.apiUrl("admin/app/InheritableApps"),params:{zoneId:this.zoneId}}))}getPendingApps(){return(0,o.fx)(()=>({url:this.apiUrl("admin/app/GetPendingApps"),params:{zoneId:this.zoneId}}))}create(g,v,E){return this.http.post(this.apiUrl(u),{},{params:{zoneId:this.zoneId,name:g,...null!=v&&{inheritAppId:v},...null!=E&&{templateId:E}}})}createTemplate(g,v){const E=encodeURIComponent(v);return this.http.post(`sys/install/RemotePackage?packageUrl=${g}&newName=${E}`,{})}installPendingApps(g){return this.http.post(this.apiUrl("admin/app/InstallPendingApps"),g,{params:{zoneId:this.zoneId}})}delete(g){return this.http.delete(this.apiUrl(u),{params:{zoneId:this.zoneId,appId:g.toString()}})}flushCache(g){var v=this;return(0,c.A)(function*(){return v.getStatusPromise("admin/app/flushcache",{params:{zoneId:v.zoneId,appId:g.toString()}})})()}static#e=this.\u0275fac=(()=>{let g;return function(E){return(g||(g=_.xGo(a)))(E||a)}})();static#t=this.\u0275prov=l.jDH({token:a,factory:a.\u0275fac})}return a})()},83804:(f,d,t)=>{t.d(d,{g:()=>r});var c=t(89061),o=t(12938),s=t(34601),_=t(4038),l=t(25081),m=t(99293),i=t(29968);let r=(()=>{class u{constructor(){this.clipboard=(0,o.d)(l.W)}agInit(n){this.value=n.value}refresh(n){return!0}copy(n){n=_.i.tryParse(n)??n,this.clipboard.copyToClipboard(n)}static#e=this.\u0275fac=function(p){return new(p||u)};static#t=this.\u0275cmp=m.VBU({type:u,selectors:[["app-analyze-settings-value"]],decls:3,vars:2,consts:[["matRipple","",1,"value-box","highlight",3,"click","tippy"],[1,"value"]],template:function(p,a){1&p&&(m.j41(0,"div",0),m.bIt("click",function(){return a.copy(a.value)}),m.j41(1,"span",1),m.EFF(2),m.k0s()()),2&p&&(m.Y8G("tippy",a.value),m.R7$(2),m.JRh(a.value))},dependencies:[c.M,i.M,s.e],styles:[".value-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.value-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}return u})()},85544:(f,d,t)=>{t.r(d),t.d(d,{DialogEntryComponent:()=>r});var c=t(34435),o=t(68873),s=t(99293),_=t(37580),l=t(44444),m=t(81863),i=t(29658);let r=(()=>{class u{#e;#t;constructor(n,p,a,h,g,v,E){this.matDialog=n,this.viewContainerRef=p,this.router=a,this.route=h,this.context=g,this.changeDetectorRef=v,this.injector=E,this.log=(0,c.Tq)({DialogEntryComponent:u});const P=this.router.getCurrentNavigation();this.#e=P?.extras?.state||{}}ngOnInit(){const n=this.log.fn("ngOnInit"),p=this.route.snapshot.data.dialog;if(null==p)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");n.a("Open dialog: "+p.name,{id:this.context.id,context:this.context}),p.getComponent(this.injector).then(a=>{const h=this.matDialog;h._dialogAnimatingOpen&&h._lastDialogRef?h._lastDialogRef.afterOpened().subscribe(()=>this.openDialogComponent(p,a)):this.openDialogComponent(p,a)})}ngOnDestroy(){this.#t.close()}openDialogComponent(n,p){this.log.a(`Open dialog(initContext: ${n.initContext})`,{name:n.name,"Contextid:":this.context.log.svcId,"Context:":this.context}),n.initContext&&this.context.init(this.route),this.#t=this.matDialog.open(p,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.#e,panelClass:["dialog-panel",`dialog-panel-${n.panelSize}`,n.showScrollbar?"show-scrollbar":"no-scrollbar",...n.panelClass?n.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.#t.afterClosed().subscribe(a=>{this.log.a("Dialog was closed - name:"+n.name,{data:a});const h=a;if(null==h?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:a}:{relativeTo:this.route.parent.parent,state:a});else this.router.navigate([h.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#n=this.\u0275fac=function(p){return new(p||u)(s.rXU(m.h),s.rXU(s.c1b),s.rXU(i.Ix),s.rXU(i.nX),s.rXU(o.o),s.rXU(_.gRc),s.rXU(l.zZn))};static#s=this.\u0275cmp=s.VBU({type:u,selectors:[["app-dialog-entry"]],features:[s.Jv_([o.o])],decls:0,vars:0,template:function(p,a){},encapsulation:2})}return u})()},88857:(f,d,t)=>{t.d(d,{a:()=>r});var c=t(92434),o=t(34435),s=t(36740),_=t(6953),l=t(58275);const m={all:!0,constructor:!1,markTouched:!1,set:!1,disable:!1,getErrors:!0,fields:[...s.z,"*"]},i="ValidationMessage.";class r{constructor(e,n="unknown",p=!1){this.control=e,this.name=n,this.moreDisabled=p,this.log=(0,o.Tq)({UiControl:r},m),this.#t={jsonWarning:`${i}JsonWarning`,formulaWarning:`${i}NotValid`},this.control??={dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1},this.log.extendName(`[${n}]`),this.log.aIfInList("fields",this.name,{moreDisabled:p},"constructor")}static emptyControl(){return new r({dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1})}get dirty(){return this.control.dirty}get invalid(){return this.control.invalid}get touched(){return this.control.touched}get disabled(){return this.control.disabled||this.moreDisabled}get touchedAndInvalid(){return this.control.touched&&this.control.invalid}markTouched(){this.log.aIfInList("fields",this.name,null,"markTouched"),r.markTouched(this.control)}setIfChanged(e){this.log.aIfInList("fields",this.name,{before:this.control.value,newValue:e},"setIfChanged"),!(0,c.A)(e,this.control.value)&&this.#e(e)}#e(e){const n=this.control,p=n.value;this.log.aIfInList("fields",this.name,{before:p,newValue:e},"set"),n.touched||n.markAsTouched(),!n.dirty&&!_.$.fieldValuesAreEqual(p,e)&&n.markAsDirty(),n.patchValue(e)}disable(e){this.log.aIfInList("fields",this.name,null,`disable: ${e}`),r.disable(this.control,e)}static markTouched(e){e.touched||(e.markAsTouched(),e.updateValueAndValidity())}static disable(e,n){e.disabled!==n&&(n?e.disable():e.enable())}getErrors(){const e=this.control,n=e.errors,p=this.log.fnIfInList("getErrors","fields",this.name,{control:e,name:this.name});if(!e.invalid)return p.r("","valid");if(!e.dirty&&!e.touched)return p.r("","not dirty or touched");for(const a of Object.keys(n)){const h="formulaError"===a?e.errors.formulaMessage??l.n.messages[a]?.(!0):l.n.messages[a]?.(!0);if(h)return p.r(h,"error found")}return p.r("","no error")}#t;getWarnings(){const e=this.control;if(null==e._warning||!e.dirty&&!e.touched)return"";let n="";for(const p of Object.keys(e._warning))if(n="formulaWarning"===p?e._warning.formulaMessage??this.#t[p]:this.#t[p],n)break;return n}}},90318:(f,d,t)=>{t.r(d),t.d(d,{replaceContentRoutes:()=>l});var c=t(85544),o=t(89204);const s={name:"REPLACE_CONTENT_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,o.A)(function*(){const{ReplaceContentComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_replace-content_replace-content_component_ts")]).then(t.bind(t,4513));return m})()};var _=t(51195);const l=[{path:"",component:c.DialogEntryComponent,data:{dialog:s},children:[..._.Ed]}]}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.02/dist/ng-edit/common.195536e5894a8e92.js.map
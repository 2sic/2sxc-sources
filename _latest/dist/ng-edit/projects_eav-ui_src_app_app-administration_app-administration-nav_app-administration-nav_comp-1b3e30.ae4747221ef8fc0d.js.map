{"version":3,"file":"projects_eav-ui_src_app_app-administration_app-administration-nav_app-administration-nav_comp-1b3e30.ae4747221ef8fc0d.js","mappings":"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","names":["AppScopes","App","Site","Global","SafeResourceUrlPipe","_class","constructor","sanitizer","this","transform","resourceUrl","bypassSecurityTrustResourceUrl","i0","i1","pure","GettingStartedComponent","ngOnInit","selectors","inputs","gettingStartedUrl","decls","vars","consts","template","rf","ctx","_r9","ctx_r8","createOrEditMetadata","_r11","ctx_r10","openMetadata","ctx_r2","contentType","Metadata","length","ctx_r3","_r13","ctx_r12","openPermissions","ctx_r4","Permissions","Count","ctx_r5","_r15","ctx_r14","editContentType","ctx_r16","openRestApi","ctx_r17","exportType","ctx_r18","openDataExport","ctx_r19","openDataImport","ctx_r20","deleteContentType","ctx_r7","EditInfo","DisableRename","DisableDelete","DataActionsComponent","agInit","params","data","enablePermissions","enablePermissionsGetter","guidRegex","test","StaticName","refresh","onCreateOrEditMetadata","onOpenPermissions","onEdit","onOpenMetadata","onOpenRestApi","onTypeExport","onOpenDataExport","onOpenDataImport","onDelete","DataActionsComponent_div_1_Template","DataActionsComponent_div_2_Template","DataActionsComponent_div_3_Template","DataActionsComponent_div_4_Template","DataActionsComponent_div_5_Template","DataActionsComponent_div_6_Template","DataActionsComponent_ng_template_12_Template","DisableEdit","Properties","DisableMetadata","_r6","DataFieldsComponent","value","tooltip","ReadOnly","ReadOnlyMessage","SharedDefId","icon","editFields","onEditFields","DataItemsComponent","showItems","onShowItems","addItem","onAddItem","scopeOption_r4","name","createGhost","$event","_r8","filesDropped","ctx_r9","changeScope","DataComponent_div_0_mat_option_6_Template","importType","DataComponent_div_0_button_14_Template","ctx_r11","vm_r1","contentTypes","ctx_r0","gridOptions","scope","scopeOptions","dropdownInsertValue","debugEnabled","DataComponent","BaseComponent","router","route","contentTypesService","globalConfigService","snackBar","contentExportService","super","contentTypes$","BehaviorSubject","undefined","scope$","scopeOptions$","buildGridOptions","viewModel$","combineLatest","getDebugEnabled$","pipe","map","fetchScopes","refreshScopeOnRouteChange","subscription","add","refreshOnChildClosedDeep","subscribe","fetchContentTypes","ngOnDestroy","complete","files","importFile","substring","lastIndexOf","toLocaleLowerCase","from","toString","take","fileString","contentTypeName","split","find","ct","Name","open","duration","navigate","relativeTo","firstChild","state","showContentItems","retrieveContentTypes","_compareLabel","Label","replace","next","eavConstants","scopes","default","getScopes","newScopes","forEach","scopeOption","existing","push","sourceName","window","prompt","res","newScope","formUrl","convertFormToUrl","items","ContentTypeName","EntityId","Id","For","Target","metadata","target","TargetType","targetType","String","Prefill","Description","url","GoToMetadata","getUrlContentType","GoToDevRest","getUrlData","exportJson","GoToPermissions","confirm","delete","result","events","filter","event","NavigationEnd","snapshot","paramMap","get","startWith","distinctUntilChanged","option","includes","defaultGridOptions","columnDefs","headerName","field","width","headerClass","sortable","cellClass","valueGetter","cellRenderer","IdFieldComponent","cellRendererParams","tooltipGetter","flex","minWidth","sort","onCellClicked","comparator","valueA","valueB","nodeA","nodeB","isInverted","localeCompare","Items","Fields","pinned","i2","i3","i4","i5","features","DataComponent_div_0_Template","QueryActions","Edit","Rest","Clone","Export","Delete","AgActionsComponent","item","_r7","ctx_r6","do","actions","ctx_r1","_Permissions","ctx_r13","_EditInfo","QueriesActionsComponent","getEnablePermissions","t","QueriesActionsComponent_div_4_Template","QueriesActionsComponent_div_5_Template","QueriesActionsComponent_div_6_Template","QueriesActionsComponent_div_7_Template","QueriesActionsComponent_ng_template_13_Template","_r4","_r3","importQuery","editQuery","queries","QueriesComponent","pipelinesService","dialogService","queries$","fetchQueries","getAll","query","doMenuAction","action","getUrlQuery","Guid","cloneQuery","exportQuery","deleteQuery","TestParameters","pipelineDesigner","testParameters","openVisualQueryDesigner","openQueryDesigner","getUrlEntity","clonePipeline","exportEntity","QueriesComponent_div_0_Template","openCode","view","cloneView","exportView","deleteView","ViewsActionsComponent","enableCode","enableCodeGetter","onOpenCode","onClone","onExport","ViewsActionsComponent_div_1_Template","ViewsActionsComponent_div_2_Template","ViewsActionsComponent_div_3_Template","ViewsActionsComponent_div_4_Template","ViewsActionsComponent_div_5_Template","ViewsActionsComponent_div_6_Template","ViewsActionsComponent_ng_template_12_Template","ViewsShowComponent","calculateViewType","HasQuery","List","ContentType","ViewsTypeComponent","type","isShared","IsShared","ViewsTypeComponent_div_4_Template","importView","editPolymorphisms","editView","views","appIsInherited","polymorphLogo","polymorphStatus","ViewsComponent","viewsService","views$","polymorphStatus$","fetchTemplates","fetchPolymorphism","getPolymorphism","polymorphism","Resolver","form","appIsGlobal","Location","TypeName","openUsage","openCodeFile","TemplatePath","DuplicateEntity","export","BooleanFilterComponent","IsHidden","Used","ViewNameInUrl","DemoId","DemoTitle","PresentationType","ListContentType","ListPresentationType","ViewsComponent_div_0_Template","_r5","WebApiActionsComponent","WebApiActionsComponent_div_1_Template","WebApiActionsComponent_div_2_Template","WebApiActionsComponent_ng_template_8_Template","_r2","WebApiTypeComponent","WebApiTypeComponent_div_1_Template","createController","webApis","WebApiComponent","sourceService","dialog","viewContainerRef","webApis$","fetchWebApis","global","CreateFileDialogComponent","autoFocus","folder","purpose","afterClosed","endsWith","fileName","create","templateKey","getWebApis","api","path","getUrlWebApi","WebApiComponent_div_0_Template","AnalyzeParts","Settings","Resources","vm_r3","ngIf","copyToClipboard","displayName","version","toSxc","dnn","oqt","AppConfigurationCardComponent_mat_card_0_ng_container_44_Template","edit","_r1","_c1","appConfigurationsCount","appMetadataCount","tmp_2_0","icon_r14","label_r15","AppConfigurationCardComponent","contentItemsService","context","appInternalsService","appSettingsInternal$","Subject","appConfiguration","settings","contentItems","contentItem","EntityLists","ToSxcContentApp","MetadataList","DisplayName","Folder","Version","RequiredVersion","RequiredDnnVersion","RequiredOqtaneVersion","fetchSettings","dismiss","text","staticName","Error","getUrlApp","appId","dialogSettings","Context","getAppInternals","app","keyType","x","AppConfigurationCardComponent_mat_card_0_Template","AppConfigurationCardComponent_ng_template_2_Template","AppConfigurationComponent_ng_container_0_div_1_ng_container_1_Template","AppConfigurationComponent_ng_container_0_div_1_ng_container_2_Template","isGlobal","isPrimary","_r25","ctx_r24","systemSettings","SystemSettingsScopes","ctx_r26","fixContentType","customSettings","ctx_r27","systemSettingsCount","customSettingsCount","customSettingsFieldsCount","_r31","ctx_r30","ctx_r32","ctx_r33","AppConfigurationComponent_ng_container_0_ng_container_24_ng_container_15_Template","_r38","ctx_r37","ctx_r39","ctx_r40","config","AppConfigurationComponent_ng_container_0_ng_container_25_ng_container_15_Template","AppConfigurationComponent_ng_container_0_ng_container_25_ng_container_16_Template","_r43","ctx_r42","systemResources","ctx_r44","customResources","ctx_r45","systemResourcesCount","customResourcesCount","customResourcesFieldsCount","_r49","ctx_r48","ctx_r50","ctx_r51","AppConfigurationComponent_ng_container_0_ng_container_55_ng_container_15_Template","_r56","ctx_r55","ctx_r57","resources","ctx_r58","AppConfigurationComponent_ng_container_0_ng_container_56_ng_container_15_Template","AppConfigurationComponent_ng_container_0_ng_container_56_ng_container_16_Template","_r61","ctx_r60","openGlobalSettings","_r63","ctx_r62","openSiteSettings","AppConfigurationComponent_ng_container_0_ng_container_119_ng_container_1_Template","AppConfigurationComponent_ng_container_0_ng_container_119_ng_container_2_Template","isApp","AppConfigurationComponent_ng_container_0_div_1_Template","AppConfigurationComponent_ng_container_0_ng_container_23_Template","AppConfigurationComponent_ng_container_0_ng_container_24_Template","AppConfigurationComponent_ng_container_0_ng_container_25_Template","AppConfigurationComponent_ng_container_0_ng_container_28_Template","_r67","ctx_r66","analyze","AppConfigurationComponent_ng_container_0_ng_container_54_Template","AppConfigurationComponent_ng_container_0_ng_container_55_Template","AppConfigurationComponent_ng_container_0_ng_container_56_Template","AppConfigurationComponent_ng_container_0_ng_container_59_Template","ctx_r68","AppConfigurationComponent_ng_container_0_ng_template_65_Template","AppConfigurationComponent_ng_container_0_ng_template_67_Template","AppConfigurationComponent_ng_container_0_ng_container_83_Template","ctx_r69","openLightSpeed","AppConfigurationComponent_ng_container_0_ng_container_101_Template","AppConfigurationComponent_ng_container_0_ng_container_113_Template","ctx_r70","AppConfigurationComponent_ng_container_0_ng_container_119_Template","AppConfigurationComponent_ng_container_0_ng_container_120_Template","ctx_r71","openLanguagePermissions","langPermsEnabled","_c0","lightSpeedEnabled","appLightSpeedCount","_c2","_c3","Enable","AppPermissions","_c5","icon_r72","label_r73","AppConfigurationComponent","importAppPartsService","appDialogConfigService","changeDetectorRef","debugEnabled$","appStateAdvanced","FeaturesService","loadFromService","isEnabled$","FeatureNames","LightSpeed","ContentSecurityPolicy","PermissionsByLanguage","cspEnabled","i","_Type","appMetadata","SettingsSystem","SettingsEntityScope","AppSettings","FieldAll","ResourcesSystem","AppResources","ngOnChanges","changes","appScope","SettingsScope","systemSettingsScope","systemSettingsEntities","systemSettingsEntity","customSettingsEntity","AppAdminHelpers","getLightSpeedEditParams","sitePrimaryApp","PrimaryApp","openAppAdministration","ZoneId","AppId","globalPrimaryApp","System","enabled","FeatureComponentBase","openDialog","part","configuration","some","save","Scope","ChangeStaticName","NewStaticName","success","i6","i7","i8","i9","i10","AppConfigurationComponent_ng_container_0_Template","AppConfigurationComponent_ng_template_2_Template","exportAppXml","resetApp","SyncConfigurationComponent","exportAppService","exportApp","exportParts","importParts","withFiles","exportForVersionControl","includeContentGroups","resetAppGuid","error","SyncConfigurationComponent_p_67_Template","SyncConfigurationComponent_app_feature_text_info_68_Template","SyncConfigurationComponent_ng_container_71_Template","SyncConfigurationComponent_ng_container_72_Template","Icon","GettingStartedUrl","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_7_div_1_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_7_app_queries_2_Template","CodeEditor","IsInherited","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_11_div_1_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_11_app_web_api_2_Template","_r32","ctx_r31","changeTab","AppAdministrationNavComponent_div_0_mat_tab_group_12_div_2_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_app_getting_started_3_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_div_5_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_app_data_6_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_7_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_div_9_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_app_views_10_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_mat_tab_11_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_div_13_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_app_app_configuration_14_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_div_16_Template","AppAdministrationNavComponent_div_0_mat_tab_group_12_app_sync_configuration_17_Template","tabIndex","Query","AppAdministrationNavComponent_div_0_img_3_Template","AppAdministrationNavComponent_div_0_ng_container_4_Template","AppAdministrationNavComponent_div_0_ng_container_5_Template","_r35","ctx_r34","closeDialog","AppAdministrationNavComponent_div_0_mat_tab_group_12_Template","AppAdministrationNavComponent","dialogRef","dialogSettings$","tabs$","tabIndex$","tabs","indexOf","fetchDialogSettings","close","index","getShared$","UpdateEnvVarsFromDialogSettings","tab","AppAdministrationNavComponent_div_0_Template"],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/shared/models/dialog-context.models.ts","./projects/eav-ui/src/app/shared/pipes/safe-resource-url.ts","./projects/eav-ui/src/app/app-administration/getting-started/getting-started.component.ts","./projects/eav-ui/src/app/app-administration/getting-started/getting-started.component.html","./projects/eav-ui/src/app/app-administration/data/data-actions/data-actions.component.html","./projects/eav-ui/src/app/app-administration/data/data-actions/data-actions.component.ts","./projects/eav-ui/src/app/app-administration/data/data-fields/data-fields.component.ts","./projects/eav-ui/src/app/app-administration/data/data-fields/data-fields.component.html","./projects/eav-ui/src/app/app-administration/data/data-items/data-items.component.ts","./projects/eav-ui/src/app/app-administration/data/data-items/data-items.component.html","./projects/eav-ui/src/app/app-administration/data/data.component.html","./projects/eav-ui/src/app/app-administration/data/data.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.ts","./projects/eav-ui/src/app/app-administration/queries/ag-actions/ag-actions-component.ts","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.html","./projects/eav-ui/src/app/app-administration/queries/queries-actions/queries-actions.component.ts","./projects/eav-ui/src/app/app-administration/queries/queries.component.html","./projects/eav-ui/src/app/app-administration/queries/queries.component.ts","./projects/eav-ui/src/app/app-administration/views/views-actions/views-actions.component.html","./projects/eav-ui/src/app/app-administration/views/views-actions/views-actions.component.ts","./projects/eav-ui/src/app/app-administration/views/views-show/views-show.component.ts","./projects/eav-ui/src/app/app-administration/views/views-show/views-show.component.html","./projects/eav-ui/src/app/app-administration/views/views.helpers.ts","./projects/eav-ui/src/app/app-administration/views/views-type/views-type.component.html","./projects/eav-ui/src/app/app-administration/views/views-type/views-type.component.ts","./projects/eav-ui/src/app/app-administration/views/views.component.html","./projects/eav-ui/src/app/app-administration/views/views.component.ts","./projects/eav-ui/src/app/app-administration/views/polymorph-logo.png","./projects/eav-ui/src/app/app-administration/web-api/web-api-actions/web-api-actions.component.html","./projects/eav-ui/src/app/app-administration/web-api/web-api-actions/web-api-actions.component.ts","./projects/eav-ui/src/app/app-administration/web-api/web-api-type/web-api-type.component.html","./projects/eav-ui/src/app/app-administration/web-api/web-api-type/web-api-type.component.ts","./projects/eav-ui/src/app/app-administration/web-api/web-api.component.html","./projects/eav-ui/src/app/app-administration/web-api/web-api.component.ts","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/analyze-settings.models.ts","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration-card/app-configuration-card.component.html","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration-card/app-configuration-card.component.ts","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration.component.html","./projects/eav-ui/src/app/app-administration/app-configuration/app-configuration.component.ts","./projects/eav-ui/src/app/app-administration/sync-configuration/sync-configuration.component.html","./projects/eav-ui/src/app/app-administration/sync-configuration/sync-configuration.component.ts","./projects/eav-ui/src/app/app-administration/app-administration-nav/app-administration-nav.component.html","./projects/eav-ui/src/app/app-administration/app-administration-nav/app-administration-nav.component.ts","./projects/eav-ui/src/app/shared/constants/guid.constants.ts"],"sourcesContent":["import { PermissionsCount } from '../../app-administration/models/permissions-count.model';\r\nimport { Language } from '../../edit/shared/models';\r\n\r\nexport interface DialogContextApp {\r\n  /** Root for app APIs and content/query */\r\n  Api: string;\r\n  Folder: string;\r\n  GettingStartedUrl: string;\r\n  Id: number;\r\n  Identifier: string;\r\n  IsContentApp: boolean;\r\n  IsGlobalApp: boolean;\r\n  IsInherited: boolean;\r\n  IsShared: boolean;\r\n  IsSiteApp: boolean;\r\n  Name: string;\r\n  Permissions: PermissionsCount;\r\n  SettingsScope: AppScope;\r\n  Url: string;\r\n  SharedUrl: string;\r\n\r\n  /** New app icon */\r\n  Icon: string;\r\n}\r\n\r\nexport interface ApiKeySpecs {\r\n  NameId: string;\r\n  ApiKey: string;\r\n  IsDemo: boolean;\r\n}\r\n\r\nexport const AppScopes = {\r\n  App: 'App',\r\n  Site: 'Site',\r\n  Global: 'Global',\r\n} as const;\r\nexport type AppScope = typeof AppScopes[keyof typeof AppScopes];\r\n\r\nexport interface DialogContextEnable {\r\n  /** Determines if app admin should show app-permissions (true for Apps, false for Content and Global) */\r\n  AppPermissions?: boolean;\r\n  /** Determines if Code editing should be enabled (true for super-users) */\r\n  CodeEditor?: boolean;\r\n  DebugMode: boolean;\r\n  /** True if saving of formulas should be enabled (for edit-ui) */\r\n  FormulaSave?: boolean;\r\n  /** While debug is enabled, this allows some Edit Ui actions even when they are disabled in fields settings */\r\n  OverrideEditRestrictions?: boolean;\r\n  /** Determines if Queries should be enabled (true for Apps) */\r\n  Query?: boolean;\r\n}\r\n\r\nexport interface DialogContextLanguage {\r\n  Current: string;\r\n  List: Language[];\r\n  Primary: string;\r\n}\r\n\r\nexport interface DialogContextPage {\r\n  Id: number;\r\n}\r\n\r\nexport interface DialogContextSite {\r\n  DefaultApp: DialogContextSiteApp;\r\n  Id: number;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSystem {\r\n  DefaultApp: DialogContextSiteApp;\r\n  PrimaryApp: DialogContextSiteApp;\r\n  Url: string;\r\n}\r\n\r\nexport interface DialogContextSiteApp {\r\n  ZoneId: number;\r\n  AppId: number;\r\n}\r\n\r\nexport interface DialogContextUser {\r\n  Email: string;\r\n  Id: number;\r\n  Guid: string;\r\n  IsAnonymous: boolean;\r\n  IsSiteAdmin: boolean;\r\n  IsContentAdmin: boolean;\r\n  IsSystemAdmin: boolean;\r\n  Name: string;\r\n  Username: string;\r\n}\r\n\r\n// export interface DialogContextFeature {\r\n//   NameId: string;\r\n//   Enabled: boolean;\r\n// }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeResourceUrl' })\r\nexport class SafeResourceUrlPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  transform(resourceUrl: string) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(resourceUrl);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-getting-started',\r\n  templateUrl: './getting-started.component.html',\r\n  styleUrls: ['./getting-started.component.scss'],\r\n})\r\nexport class GettingStartedComponent implements OnInit {\r\n  @Input() gettingStartedUrl: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<iframe class=\"iframe\" [src]=\"gettingStartedUrl | safeResourceUrl\"></iframe>\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple\r\n    *ngIf=\"!contentType.EditInfo.DisableEdit || contentType.Properties\" tippy=\"Description and more\"\r\n    (click)=\"createOrEditMetadata()\">\r\n    <mat-icon>edit</mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"contentType.EditInfo.DisableEdit && !contentType.Properties\">\r\n    <mat-icon>edit</mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!contentType.EditInfo.DisableMetadata\" tippy=\"Metadata\"\r\n    (click)=\"openMetadata()\">\r\n    <mat-icon [matBadge]=\"contentType.Metadata.length\" matBadgePosition=\"below after\" matBadgeColor=\"accent\"\r\n      matBadgeSize=\"small\" [matBadgeHidden]=\"!contentType.Metadata.length\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"contentType.EditInfo.DisableMetadata\">\r\n    <mat-icon [matBadge]=\"contentType.Metadata.length\" matBadgePosition=\"below after\" matBadgeColor=\"accent\"\r\n      matBadgeSize=\"small\" matBadgeDisabled=\"true\" [matBadgeHidden]=\"!contentType.Metadata.length\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!contentType.EditInfo.DisableEdit && enablePermissions\"\r\n    tippy=\"Permissions\" (click)=\"openPermissions()\">\r\n    <mat-icon [matBadge]=\"contentType.Permissions.Count\" matBadgePosition=\"below after\" matBadgeColor=\"accent\"\r\n      matBadgeSize=\"small\" [matBadgeHidden]=\"!contentType.Permissions.Count\" aria-hidden=\"false\">\r\n      person</mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"contentType.EditInfo.DisableEdit || !enablePermissions\">\r\n    <mat-icon [matBadge]=\"contentType.Permissions.Count\" matBadgePosition=\"below after\" matBadgeColor=\"accent\"\r\n      matBadgeSize=\"small\" matBadgeDisabled=\"true\" [matBadgeHidden]=\"!contentType.Permissions.Count\"\r\n      aria-hidden=\"false\">\r\n      person</mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item [disabled]=\"contentType.EditInfo.DisableRename\" (click)=\"editContentType()\">\r\n      <mat-icon>settings</mat-icon>\r\n      <span>Rename</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"openRestApi()\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"exportType()\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export content type</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"openDataExport()\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export data</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"openDataImport()\">\r\n      <mat-icon>cloud_upload</mat-icon>\r\n      <span>Import data</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"contentType.EditInfo.DisableDelete\" (click)=\"deleteContentType()\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { guidRegex } from '../../../shared/constants/guid.constants';\r\nimport { ContentType } from '../../models/content-type.model';\r\nimport { DataActionsParams } from './data-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-data-actions',\r\n  templateUrl: './data-actions.component.html',\r\n  styleUrls: ['./data-actions.component.scss'],\r\n})\r\nexport class DataActionsComponent implements ICellRendererAngularComp {\r\n  contentType: ContentType;\r\n  enablePermissions: boolean;\r\n  private params: ICellRendererParams & DataActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & DataActionsParams): void {\r\n    this.params = params;\r\n    this.contentType = this.params.data;\r\n    const enablePermissions = this.params.enablePermissionsGetter();\r\n    this.enablePermissions = enablePermissions && guidRegex().test(this.contentType.StaticName);\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  createOrEditMetadata(): void {\r\n    this.params.onCreateOrEditMetadata(this.contentType);\r\n  }\r\n\r\n  openPermissions(): void {\r\n    this.params.onOpenPermissions(this.contentType);\r\n  }\r\n\r\n  editContentType(): void {\r\n    this.params.onEdit(this.contentType);\r\n  }\r\n\r\n  openMetadata(): void {\r\n    this.params.onOpenMetadata(this.contentType);\r\n  }\r\n\r\n  openRestApi(): void {\r\n    this.params.onOpenRestApi(this.contentType);\r\n  }\r\n\r\n  exportType(): void {\r\n    this.params.onTypeExport(this.contentType);\r\n  }\r\n\r\n  openDataExport(): void {\r\n    this.params.onOpenDataExport(this.contentType);\r\n  }\r\n\r\n  openDataImport(): void {\r\n    this.params.onOpenDataImport(this.contentType);\r\n  }\r\n\r\n  deleteContentType(): void {\r\n    this.params.onDelete(this.contentType);\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { ContentType } from '../../models/content-type.model';\r\nimport { DataFieldsParams } from './data-fields.models';\r\n\r\n@Component({\r\n  selector: 'app-data-fields',\r\n  templateUrl: './data-fields.component.html',\r\n  styleUrls: ['./data-fields.component.scss'],\r\n})\r\nexport class DataFieldsComponent implements ICellRendererAngularComp {\r\n  value: number;\r\n  tooltip: string;\r\n  icon: string;\r\n\r\n  private params: ICellRendererParams & DataFieldsParams;\r\n  private contentType: ContentType;\r\n\r\n  agInit(params: ICellRendererParams & DataFieldsParams): void {\r\n    this.params = params;\r\n    this.contentType = params.data;\r\n    this.value = params.value;\r\n    this.tooltip = !this.contentType.EditInfo.ReadOnly\r\n      ? 'Edit fields'\r\n      : `${this.contentType.EditInfo.ReadOnlyMessage ? `${this.contentType.EditInfo.ReadOnlyMessage}\\n\\n` : ''}This ContentType shares the definition of #${this.contentType.SharedDefId} so you can't edit it here. Read 2sxc.org/help?tag=shared-types`;\r\n    this.icon = !this.contentType.EditInfo.ReadOnly ? 'dns' : 'share';\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  editFields(): void {\r\n    this.params.onEditFields(this.contentType);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple [tippy]=\"tooltip\" (click)=\"editFields()\">\r\n    <mat-icon [matBadge]=\"value\" matBadgePosition=\"below after\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!value\" aria-hidden=\"false\">\r\n      {{icon}}\r\n    </mat-icon>\r\n  </div>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { ContentType } from '../../models';\r\nimport { DataItemsParams } from './data-items.models';\r\n\r\n@Component({\r\n  selector: 'app-data-items',\r\n  templateUrl: './data-items.component.html',\r\n  styleUrls: ['./data-items.component.scss'],\r\n})\r\nexport class DataItemsComponent implements ICellRendererAngularComp {\r\n  value: number;\r\n  private params: DataItemsParams;\r\n  private contentType: ContentType;\r\n\r\n  agInit(params: ICellRendererParams & DataItemsParams): void {\r\n    this.params = params;\r\n    this.contentType = params.data;\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  showItems(): void {\r\n    this.params.onShowItems(this.contentType);\r\n  }\r\n\r\n  addItem(): void {\r\n    this.params.onAddItem(this.contentType);\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"{{ value }} items\" (click)=\"showItems()\">\r\n    <div class=\"text-icon\">{{ value }}</div>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Add item\" (click)=\"addItem()\">\r\n    <mat-icon>add</mat-icon>\r\n  </div>\r\n</div>","<div class=\"grid-wrapper mat-tab-grid-wrapper\" *ngIf=\"viewModel$ | async as vm\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.contentTypes\" [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop [allowedFileTypes]=\"'xml,json'\" (filesDropped)=\"filesDropped($event)\">\r\n  </ag-grid-angular>\r\n\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <div class=\"eav-dialog-actions-div\">\r\n      <mat-form-field color=\"accent\" class=\"eav-form-field eav-scope-dropdown\">\r\n        <mat-select [ngModel]=\"vm.scope\" name=\"Scope\" (ngModelChange)=\"changeScope($event)\">\r\n          <mat-option *ngFor=\"let scopeOption of (vm.scopeOptions)\" [value]=\"scopeOption.value\">\r\n            {{ 'Scope: ' + scopeOption.name }}\r\n          </mat-option>\r\n          <mat-option [value]=\"dropdownInsertValue\">Scope: Other...</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      \r\n      <button mat-button class=\"eav-button__with-icon\" tippy=\"Import content type\" (click)=\"importType()\">\r\n        <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n        <span>Content Type</span>\r\n      </button>\r\n      \r\n      <button mat-button class=\"eav-button__with-icon\" color=\"accent\" tippy=\"Create a ghost content type\" *ngIf=\"vm.debugEnabled\" (click)=\"createGhost()\">\r\n        <mat-icon class=\"eav-icon\">share</mat-icon>\r\n        <span>Ghost</span>\r\n      </button>\r\n    </div>\r\n    \r\n    <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new content type\" (click)=\"editContentType(null)\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, distinctUntilChanged, filter, from, map, startWith, take } from 'rxjs';\r\nimport { ContentExportService } from '../../content-export/services/content-export.service';\r\nimport { ContentImportDialogData } from '../../content-import/content-import-dialog.config';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { GlobalConfigService } from '../../edit/shared/store/ngrx-data';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { dropdownInsertValue } from '../../shared/constants/dropdown-insert-value.constant';\r\nimport { eavConstants, ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { toString } from '../../shared/helpers/file-to-base64.helper';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { EditForm } from '../../shared/models/edit-form.model';\r\nimport { ContentType } from '../models/content-type.model';\r\nimport { ContentTypesService } from '../services/content-types.service';\r\nimport { DataActionsComponent } from './data-actions/data-actions.component';\r\nimport { DataActionsParams } from './data-actions/data-actions.models';\r\nimport { DataFieldsComponent } from './data-fields/data-fields.component';\r\nimport { DataFieldsParams } from './data-fields/data-fields.models';\r\nimport { DataItemsComponent } from './data-items/data-items.component';\r\nimport { DataItemsParams } from './data-items/data-items.models';\r\n\r\n@Component({\r\n  selector: 'app-data',\r\n  templateUrl: './data.component.html',\r\n  styleUrls: ['./data.component.scss'],\r\n})\r\nexport class DataComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @Input() enablePermissions: boolean;\r\n\r\n  contentTypes$ = new BehaviorSubject<ContentType[]>(undefined);\r\n  scope$ = new BehaviorSubject<string>(undefined);\r\n  scopeOptions$ = new BehaviorSubject<ScopeOption[]>([]);\r\n  gridOptions = this.buildGridOptions();\r\n  dropdownInsertValue = dropdownInsertValue;\r\n\r\n  viewModel$ = combineLatest([this.contentTypes$, this.scope$, this.scopeOptions$, this.globalConfigService.getDebugEnabled$()]).pipe(\r\n    map(([contentTypes, scope, scopeOptions, debugEnabled]) =>\r\n      ({ contentTypes, scope, scopeOptions, debugEnabled })),\r\n  );\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private contentTypesService: ContentTypesService,\r\n    private globalConfigService: GlobalConfigService,\r\n    private snackBar: MatSnackBar,\r\n    private contentExportService: ContentExportService,\r\n  ) { \r\n    super(router, route);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchScopes();\r\n    this.refreshScopeOnRouteChange();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { this.fetchContentTypes(); }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.contentTypes$.complete();\r\n    this.scope$.complete();\r\n    this.scopeOptions$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  filesDropped(files: File[]) {\r\n    const importFile = files[0];\r\n    const ext = importFile.name.substring(importFile.name.lastIndexOf('.') + 1).toLocaleLowerCase();\r\n    switch (ext) {\r\n      case 'xml':\r\n        from(toString(files[0])).pipe(take(1)).subscribe(fileString => {\r\n          const contentTypeName = fileString.split('<Entity Type=\"')[1]?.split('\"')[0];\r\n          const contentType = this.contentTypes$.value.find(ct => ct.Name === contentTypeName);\r\n          if (contentType == null) {\r\n            const message = `Cannot find Content Type named '${contentTypeName}'. Please open Content Type Import dialog manually.`;\r\n            this.snackBar.open(message, null, { duration: 5000 });\r\n            return;\r\n          }\r\n          this.openDataImport(contentType, files);\r\n        });\r\n        break;\r\n      case 'json':\r\n        this.importType(files);\r\n        break;\r\n    }\r\n  }\r\n\r\n  importType(files?: File[]) {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.firstChild, state: dialogData });\r\n  }\r\n\r\n  private showContentItems(contentType: ContentType) {\r\n    this.router.navigate([`items/${contentType.StaticName}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  editContentType(contentType: ContentType) {\r\n    if (!contentType) {\r\n      this.router.navigate(['add'], { relativeTo: this.route.firstChild });\r\n    } else {\r\n      if (contentType.EditInfo.ReadOnly) { return; }\r\n      this.router.navigate([`${contentType.StaticName}/edit`], { relativeTo: this.route.firstChild });\r\n    }\r\n  }\r\n\r\n  private fetchContentTypes() {\r\n    this.contentTypesService.retrieveContentTypes(this.scope$.value).subscribe(contentTypes => {\r\n      for (const contentType of contentTypes) {\r\n        contentType._compareLabel = contentType.Label.replace(/\\p{Emoji}/gu, 'ž');\r\n      }\r\n      this.contentTypes$.next(contentTypes);\r\n      if (this.scope$.value !== eavConstants.scopes.default.value) {\r\n        const message = 'Warning! You are in a special scope. Changing things here could easily break functionality';\r\n        this.snackBar.open(message, null, { duration: 2000 });\r\n      }\r\n    });\r\n  }\r\n\r\n  private fetchScopes() {\r\n    this.contentTypesService.getScopes().subscribe(scopeOptions => {\r\n      const newScopes = [...this.scopeOptions$.value];\r\n      scopeOptions.forEach(scopeOption => {\r\n        const existing = newScopes.find(scope => scope.value === scopeOption.value);\r\n        if (existing) {\r\n          existing.name = scopeOption.name;\r\n        } else {\r\n          newScopes.push(scopeOption);\r\n        }\r\n      });\r\n      this.scopeOptions$.next(newScopes);\r\n    });\r\n  }\r\n\r\n  createGhost() {\r\n    const sourceName = window.prompt('To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost');\r\n    if (!sourceName) { return; }\r\n    this.snackBar.open('Saving...');\r\n    this.contentTypesService.createGhost(sourceName).subscribe(res => {\r\n      this.snackBar.open('Saved', null, { duration: 2000 });\r\n      this.fetchContentTypes();\r\n    });\r\n  }\r\n\r\n  changeScope(newScope: string) {\r\n    if (newScope === dropdownInsertValue) {\r\n      newScope = prompt('This is an advanced feature to show content-types of another scope. Don\\'t use this if you don\\'t know what you\\'re doing, as content-types of other scopes are usually hidden for a good reason.') || eavConstants.scopes.default.value;\r\n    }\r\n    this.router.navigate([`data/${newScope}`], { relativeTo: this.route });\r\n  }\r\n\r\n  private enablePermissionsGetter() {\r\n    return this.enablePermissions;\r\n  }\r\n\r\n  private addItem(contentType: ContentType) {\r\n    const form: EditForm = {\r\n      items: [{ ContentTypeName: contentType.StaticName }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private editFields(contentType: ContentType) {\r\n    this.router.navigate([`fields/${contentType.StaticName}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private createOrEditMetadata(contentType: ContentType) {\r\n    const form: EditForm = {\r\n      items: [\r\n        !contentType.Properties\r\n          ? {\r\n            ContentTypeName: eavConstants.contentTypes.contentType,\r\n            For: {\r\n              Target: eavConstants.metadata.contentType.target,\r\n              TargetType: eavConstants.metadata.contentType.targetType,\r\n              String: contentType.StaticName,\r\n            },\r\n            Prefill: { Label: contentType.Name, Description: contentType.Description },\r\n          }\r\n          : { EntityId: contentType.Properties.Id }\r\n      ],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private openMetadata(contentType: ContentType) {\r\n    const url = GoToMetadata.getUrlContentType(\r\n      contentType.StaticName,\r\n      `Metadata for Content Type: ${contentType.Name} (${contentType.Id})`,\r\n    );\r\n    this.router.navigate([url], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private openRestApi(contentType: ContentType) {\r\n    this.router.navigate([GoToDevRest.getUrlData(contentType)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private exportType(contentType: ContentType) {\r\n    this.contentExportService.exportJson(contentType.StaticName);\r\n  }\r\n\r\n  private openDataExport(contentType: ContentType) {\r\n    this.router.navigate([`export/${contentType.StaticName}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private openDataImport(contentType: ContentType, files?: File[]) {\r\n    const contentImportData: ContentImportDialogData = { files };\r\n    this.router.navigate([`${contentType.StaticName}/import`], { relativeTo: this.route.firstChild, state: contentImportData });\r\n  }\r\n\r\n  private openPermissions(contentType: ContentType) {\r\n    this.router.navigate([GoToPermissions.getUrlContentType(contentType.StaticName)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private deleteContentType(contentType: ContentType) {\r\n    if (!confirm(`Are you sure you want to delete '${contentType.Name}' (${contentType.Id})?`)) { return; }\r\n    this.snackBar.open('Deleting...');\r\n    this.contentTypesService.delete(contentType).subscribe(result => {\r\n      this.snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.fetchContentTypes();\r\n    });\r\n  }\r\n\r\n  private refreshScopeOnRouteChange() {\r\n    this.subscription.add(\r\n      this.router.events.pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        map(() => this.route.snapshot.firstChild.paramMap.get('scope')),\r\n        startWith(this.route.snapshot.firstChild.paramMap.get('scope')),\r\n        filter(scope => !!scope),\r\n        distinctUntilChanged(),\r\n      ).subscribe(scope => {\r\n        this.scope$.next(scope);\r\n        if (!this.scopeOptions$.value.map(option => option.value).includes(scope)) {\r\n          const newScopeOption: ScopeOption = {\r\n            name: scope,\r\n            value: scope,\r\n          };\r\n          this.scopeOptions$.next([...this.scopeOptions$.value, newScopeOption]);\r\n        }\r\n        this.fetchContentTypes();\r\n      })\r\n    );\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          headerName: 'ID',\r\n          field: 'Id',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          cellClass: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return `id-action no-padding no-outline ${contentType.EditInfo.ReadOnly ? 'disabled' : ''}`.split(' ');\r\n          },\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Id;\r\n          },\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<ContentType> = {\r\n              tooltipGetter: (contentType) => `ID: ${contentType.Id}\\nGUID: ${contentType.StaticName}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          headerName: 'Content Type',\r\n          field: 'ContentType',\r\n          flex: 3,\r\n          minWidth: 250,\r\n          cellClass: 'primary-action highlight'.split(' '),\r\n          sortable: true,\r\n          sort: 'asc',\r\n          filter: 'agTextColumnFilter',\r\n          onCellClicked: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            this.showContentItems(contentType);\r\n          },\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Label;\r\n          },\r\n          comparator: (valueA, valueB, nodeA, nodeB, isInverted) => {\r\n            const contentTypeA: ContentType = nodeA.data;\r\n            const contentTypeB: ContentType = nodeB.data;\r\n            return contentTypeA._compareLabel.localeCompare(contentTypeB._compareLabel);\r\n          },\r\n        },\r\n        {\r\n          field: 'Items',\r\n          width: 102,\r\n          headerClass: 'dense',\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Items;\r\n          },\r\n          cellRenderer: DataItemsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataItemsParams = {\r\n              onShowItems: (contentType) => this.showContentItems(contentType),\r\n              onAddItem: (contentType) => this.addItem(contentType),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          field: 'Fields',\r\n          width: 94,\r\n          headerClass: 'dense',\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Fields;\r\n          },\r\n          cellRenderer: DataFieldsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataFieldsParams = {\r\n              onEditFields: (contentType) => this.editFields(contentType),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          field: 'Name',\r\n          flex: 1,\r\n          minWidth: 100,\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          cellClass: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return `${contentType.EditInfo.DisableEdit ? 'no-outline' : 'primary-action highlight'}`.split(' ');\r\n          },\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Name;\r\n          },\r\n          onCellClicked: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            this.editContentType(contentType);\r\n          },\r\n        },\r\n        {\r\n          field: 'Description',\r\n          flex: 3,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const contentType: ContentType = params.data;\r\n            return contentType.Properties?.Description;\r\n          },\r\n        },\r\n        {\r\n          width: 162,\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          pinned: 'right',\r\n          cellRenderer: DataActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: DataActionsParams = {\r\n              enablePermissionsGetter: () => this.enablePermissionsGetter(),\r\n              onCreateOrEditMetadata: (contentType) => this.createOrEditMetadata(contentType),\r\n              onOpenPermissions: (contentType) => this.openPermissions(contentType),\r\n              onEdit: (contentType) => this.editContentType(contentType),\r\n              onOpenRestApi: (contentType) => this.openRestApi(contentType),\r\n              onOpenMetadata: (contentType) => this.openMetadata(contentType),\r\n              onTypeExport: (contentType) => this.exportType(contentType),\r\n              onOpenDataExport: (contentType) => this.openDataExport(contentType),\r\n              onOpenDataImport: (contentType) => this.openDataImport(contentType),\r\n              onDelete: (contentType) => this.deleteContentType(contentType),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","import { Query } from '../../models/query.model';\r\nimport { IAgActions } from '../ag-actions';\r\n\r\n// Test 2dm 2020-11-20 - I believe the current model has way too much ceremony\r\n// I need to change ca. 10 places just to get one more action to work\r\n// that's not great\r\nexport enum QueryActions {\r\n  Edit,\r\n  Metadata,\r\n  Rest,\r\n  Clone,\r\n  Permissions,\r\n  Export,\r\n  Delete,\r\n}\r\n\r\nexport interface QueriesActionsParams extends IAgActions<QueryActions, Query> {\r\n  getEnablePermissions(): boolean;\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\n\r\nexport class AgActionsComponent<TParams extends ICellRendererParams, TData> implements ICellRendererAngularComp {\r\n  item: TData;\r\n  params: TParams;\r\n\r\n  agInit(params: TParams): void {\r\n    this.params = params;\r\n    this.item = this.params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"Edit\" (click)=\"params.do(actions.Edit, item)\">\r\n    <mat-icon>edit</mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!item._EditInfo.DisableMetadata\" tippy=\"Metadata\"\r\n    (click)=\"params.do(actions.Metadata, item)\">\r\n    <mat-icon [matBadge]=\"item.Metadata?.length\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!item.Metadata?.length\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"item._EditInfo.DisableMetadata\">\r\n    <mat-icon [matBadge]=\"item.Metadata?.length\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgeDisabled=\"true\"\r\n      [matBadgeHidden]=\"!item.Metadata?.length\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!item._EditInfo.DisableEdit && enablePermissions\"\r\n    tippy=\"Permissions\" (click)=\"params.do(actions.Permissions, item)\">\r\n    <mat-icon [matBadge]=\"item._Permissions.Count\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!item._Permissions.Count\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      person\r\n    </mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"item._EditInfo.DisableEdit || !enablePermissions\">\r\n    <mat-icon [matBadge]=\"item._Permissions.Count\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgeDisabled=\"true\"\r\n      [matBadgeHidden]=\"!item._Permissions.Count\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      person\r\n    </mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"params.do(actions.Rest, item)\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\"params.do(actions.Clone, item)\">\r\n      <mat-icon>file_copy</mat-icon>\r\n      <span>Copy</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\" params.do(actions.Export, item)\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"item._EditInfo.DisableDelete\" (click)=\"params.do(actions.Delete, item)\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { Query } from '../../models/query.model';\r\nimport { AgActionsComponent } from '../ag-actions';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions';\r\n\r\n@Component({\r\n  selector: 'app-queries-actions',\r\n  templateUrl: './queries-actions.component.html',\r\n})\r\nexport class QueriesActionsComponent extends AgActionsComponent<ICellRendererParams & QueriesActionsParams, Query> {\r\n  enablePermissions: boolean;\r\n  actions = QueryActions;\r\n\r\n  agInit(params: ICellRendererParams & QueriesActionsParams): void {\r\n    super.agInit(params);\r\n    this.enablePermissions = this.params.getEnablePermissions();\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\" *ngIf=\"viewModel$ | async as vm\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.queries\" [gridOptions]=\"gridOptions\" appDragAndDrop\r\n    [allowedFileTypes]=\"'json'\" (filesDropped)=\"importQuery($event)\">\r\n  </ag-grid-angular>\r\n\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <button mat-button class=\"eav-button__with-icon\" tippy=\"Import query\" (click)=\"importQuery()\">\r\n      <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n      <span>Query</span>\r\n    </button>\r\n  \r\n\r\n    <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new query\" (click)=\"editQuery(null)\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, map } from 'rxjs';\r\nimport { ContentExportService } from '../../content-export/services/content-export.service';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { EditForm } from '../../shared/models/edit-form.model';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { Query } from '../models/query.model';\r\nimport { PipelinesService } from '../services/pipelines.service';\r\nimport { QueriesActionsParams, QueryActions } from './queries-actions/queries-actions';\r\nimport { QueriesActionsComponent } from './queries-actions/queries-actions.component';\r\n\r\n@Component({\r\n  selector: 'app-queries',\r\n  templateUrl: './queries.component.html',\r\n  styleUrls: ['./queries.component.scss'],\r\n})\r\nexport class QueriesComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @Input() enablePermissions: boolean;\r\n\r\n  queries$ = new BehaviorSubject<Query[]>(undefined);\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$ = combineLatest([this.queries$]).pipe(\r\n    map(([queries]) => ({ queries }))\r\n  );\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private pipelinesService: PipelinesService,\r\n    private contentExportService: ContentExportService,\r\n    private snackBar: MatSnackBar,\r\n    private dialogService: DialogService,\r\n  ) {\r\n    super(router, route);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.fetchQueries();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { this.fetchQueries(); }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.queries$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  private fetchQueries() {\r\n    this.pipelinesService.getAll(eavConstants.contentTypes.query).subscribe((queries: Query[]) => {\r\n      this.queries$.next(queries);\r\n    });\r\n  }\r\n\r\n  importQuery(files?: File[]) {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.firstChild, state: dialogData });\r\n  }\r\n\r\n  /**\r\n   * Experiment by 2dm 2020-11-20 - trying to reduce the ceremony around menus\r\n   * Once this works, we would then remove all the 3-line functions below, as they\r\n   * would just be added here (if that's the only place they are used)\r\n   */\r\n  private doMenuAction(action: QueryActions, query: Query) {\r\n    switch (action) {\r\n      case QueryActions.Edit:\r\n        return this.editQuery(query);\r\n      case QueryActions.Metadata:\r\n        return this.openMetadata(query);\r\n      case QueryActions.Rest:\r\n        return this.router.navigate([GoToDevRest.getUrlQuery(query.Guid)], { relativeTo: this.route.firstChild });\r\n      case QueryActions.Clone:\r\n        return this.cloneQuery(query);\r\n      case QueryActions.Permissions:\r\n        return this.openPermissions(query);\r\n      case QueryActions.Export:\r\n        return this.exportQuery(query);\r\n      case QueryActions.Delete:\r\n        return this.deleteQuery(query);\r\n    }\r\n  }\r\n\r\n  editQuery(query: Query) {\r\n    const form: EditForm = {\r\n      items: [\r\n        query == null\r\n          ? {\r\n            ContentTypeName: eavConstants.contentTypes.query,\r\n            Prefill: { TestParameters: eavConstants.pipelineDesigner.testParameters }\r\n          }\r\n          : { EntityId: query.Id }\r\n      ],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private enablePermissionsGetter() {\r\n    return this.enablePermissions;\r\n  }\r\n\r\n  private openVisualQueryDesigner(query: Query) {\r\n    if (query._EditInfo.ReadOnly) { return; }\r\n    this.dialogService.openQueryDesigner(query.Id);\r\n  }\r\n\r\n  private openMetadata(query: Query) {\r\n    const url = GoToMetadata.getUrlEntity(\r\n      query.Guid,\r\n      `Metadata for Query: ${query.Name} (${query.Id})`,\r\n    );\r\n    this.router.navigate([url], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private cloneQuery(query: Query) {\r\n    this.snackBar.open('Copying...');\r\n    this.pipelinesService.clonePipeline(query.Id).subscribe(() => {\r\n      this.snackBar.open('Copied', null, { duration: 2000 });\r\n      this.fetchQueries();\r\n    });\r\n  }\r\n\r\n  private openPermissions(query: Query) {\r\n    this.router.navigate([GoToPermissions.getUrlEntity(query.Guid)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private exportQuery(query: Query) {\r\n    this.contentExportService.exportEntity(query.Id, 'Query', true);\r\n  }\r\n\r\n  private deleteQuery(query: Query) {\r\n    if (!confirm(`Delete Pipeline '${query.Name}' (${query.Id})?`)) { return; }\r\n    this.snackBar.open('Deleting...');\r\n    this.pipelinesService.delete(query.Id).subscribe(res => {\r\n      this.snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.fetchQueries();\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          headerName: 'ID',\r\n          field: 'Id',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          cellClass: (params) => {\r\n            const query: Query = params.data;\r\n            return `id-action no-padding no-outline ${query._EditInfo.ReadOnly ? 'disabled' : ''}`.split(' ');\r\n          },\r\n          valueGetter: (params) => {\r\n            const query: Query = params.data;\r\n            return query.Id;\r\n          },\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<Query> = {\r\n              tooltipGetter: (query) => `ID: ${query.Id}\\nGUID: ${query.Guid}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          field: 'Name',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          sortable: true,\r\n          sort: 'asc',\r\n          filter: 'agTextColumnFilter',\r\n          cellClass: (params) => {\r\n            const query: Query = params.data;\r\n            return `${query._EditInfo.DisableEdit ? 'no-outline' : 'primary-action highlight'}`.split(' ');\r\n          },\r\n          onCellClicked: (params) => {\r\n            const query: Query = params.data;\r\n            this.openVisualQueryDesigner(query);\r\n          },\r\n          valueGetter: (params) => {\r\n            const query: Query = params.data;\r\n            return query.Name;\r\n          },\r\n        },\r\n        {\r\n          field: 'Description',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const query: Query = params.data;\r\n            return query.Description;\r\n          },\r\n        },\r\n        {\r\n          width: 162,\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          pinned: 'right',\r\n          cellRenderer: QueriesActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: QueriesActionsParams = {\r\n              getEnablePermissions: () => this.enablePermissionsGetter(),\r\n              do: (action, query) => this.doMenuAction(action, query),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!view.EditInfo.DisableEdit && enableCode\" tippy=\"Code\"\r\n    (click)=\"openCode()\">\r\n    <mat-icon>code</mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"view.EditInfo.DisableEdit || !enableCode\">\r\n    <mat-icon>code</mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!view.EditInfo.DisableMetadata\" tippy=\"Metadata\"\r\n    (click)=\"openMetadata()\">\r\n    <mat-icon [matBadge]=\"view.Metadata.length\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!view.Metadata.length\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"view.EditInfo.DisableMetadata\">\r\n    <mat-icon [matBadge]=\"view.Metadata.length\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgeDisabled=\"true\"\r\n      [matBadgeHidden]=\"!view.Metadata.length\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      local_offer\r\n    </mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"!view.EditInfo.DisableEdit && enablePermissions\"\r\n    tippy=\"Permissions\" (click)=\"openPermissions()\">\r\n    <mat-icon [matBadge]=\"view.Permissions.Count\" matBadgeColor=\"accent\" matBadgeSize=\"small\"\r\n      [matBadgeHidden]=\"!view.Permissions.Count\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      person\r\n    </mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"view.EditInfo.DisableEdit || !enablePermissions\">\r\n    <mat-icon [matBadge]=\"view.Permissions.Count\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgeDisabled=\"true\"\r\n      [matBadgeHidden]=\"!view.Permissions.Count\" matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n      person\r\n    </mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"cloneView()\">\r\n      <mat-icon>file_copy</mat-icon>\r\n      <span>Copy</span>\r\n    </button>\r\n    <button mat-menu-item (click)=\" exportView()\">\r\n      <mat-icon>cloud_download</mat-icon>\r\n      <span>Export</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"view.EditInfo.DisableDelete\" (click)=\"deleteView()\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { View } from '../../models/view.model';\r\nimport { ViewActionsParams } from './views-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-views-actions',\r\n  templateUrl: './views-actions.component.html',\r\n  styleUrls: ['./views-actions.component.scss'],\r\n})\r\nexport class ViewsActionsComponent implements ICellRendererAngularComp {\r\n  view: View;\r\n  enableCode: boolean;\r\n  enablePermissions: boolean;\r\n  private params: ICellRendererParams & ViewActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & ViewActionsParams): void {\r\n    this.params = params;\r\n    this.view = this.params.data;\r\n    this.enableCode = this.params.enableCodeGetter();\r\n    this.enablePermissions = this.params.enablePermissionsGetter();\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  openCode(): void {\r\n    this.params.onOpenCode(this.view);\r\n  }\r\n\r\n  openPermissions(): void {\r\n    this.params.onOpenPermissions(this.view);\r\n  }\r\n\r\n  openMetadata(): void {\r\n    this.params.onOpenMetadata(this.view);\r\n  }\r\n\r\n  cloneView(): void {\r\n    this.params.onClone(this.view);\r\n  }\r\n\r\n  exportView(): void {\r\n    this.params.onExport(this.view);\r\n  }\r\n\r\n  deleteView(): void {\r\n    this.params.onDelete(this.view);\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-views-show',\r\n  templateUrl: './views-show.component.html',\r\n  styleUrls: ['./views-show.component.scss'],\r\n})\r\nexport class ViewsShowComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon>{{ value ? 'visibility' : 'visibility_off' }}</mat-icon>\r\n</div>\r\n","import { View } from '../models/view.model';\r\n\r\nexport function calculateViewType(view: View) {\r\n  let value = '';\r\n  let icon = '';\r\n  if (view.HasQuery) {\r\n    value = 'Data (from query)';\r\n    icon = 'filter_list';\r\n  } else if (view.List) {\r\n    value = 'Items (list)';\r\n    icon = 'format_list_numbered';\r\n  } else if (!view.ContentType && !view.HasQuery) {\r\n    value = 'Code';\r\n    icon = 'check_box_outline_blank';\r\n  } else if (!view.List) {\r\n    value = 'Item (one)';\r\n    icon = 'looks_one';\r\n  }\r\n  return { value, icon };\r\n}\r\n","<div class=\"icon-container\">\r\n  <div class=\"eav-grid-action-button icon\" [tippy]=\"value\">\r\n    <mat-icon>{{ icon }}</mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button icon\" tippy=\"View is shared\" *ngIf=\"isShared\">\r\n    <mat-icon>share</mat-icon>\r\n  </div>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { View } from '../../models';\r\nimport { calculateViewType } from '../views.helpers';\r\n\r\n@Component({\r\n  selector: 'app-views-type',\r\n  templateUrl: './views-type.component.html',\r\n  styleUrls: ['./views-type.component.scss'],\r\n})\r\nexport class ViewsTypeComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n  icon: string;\r\n  isShared: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n    const view: View = params.data;\r\n    const type = calculateViewType(view);\r\n    this.icon = type.icon;\r\n    this.isShared = view.IsShared;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\" *ngIf=\"viewModel$ | async as vm\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.views\" [gridOptions]=\"gridOptions\" appDragAndDrop\r\n    [allowedFileTypes]=\"'json'\" (filesDropped)=\"importView($event)\">\r\n  </ag-grid-angular>\r\n\r\n  <mat-dialog-actions class=\"eav-dialog-actions\">\r\n    <div class=\"eav-dialog-actions-div\">\r\n      <button mat-button class=\"eav-polymorph-button\" tippy=\"Configure polymorphism\" [disabled]=\"appIsInherited\"\r\n        (click)=\"editPolymorphisms()\">\r\n        <span class=\"eav-polymorph-button-span\">\r\n          <img class=\"eav-polymorph-logo\" [src]=\"polymorphLogo\">\r\n          <span>Polymorphism {{ vm.polymorphStatus }}</span>\r\n        </span>\r\n      </button>\r\n      \r\n      <button mat-button class=\"eav-button__with-icon\" tippy=\"Import view\" (click)=\"importView()\">\r\n        <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n        <span>View</span>\r\n      </button>\r\n    </div>\r\n\r\n    <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Create a new view\" (click)=\"editView(null)\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>","import polymorphLogo from '!url-loader!./polymorph-logo.png';\r\nimport { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { GoToMetadata } from '../../metadata';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { EditForm } from '../../shared/models/edit-form.model';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { Polymorphism } from '../models/polymorphism.model';\r\nimport { View } from '../models/view.model';\r\nimport { ViewsService } from '../services/views.service';\r\nimport { ViewsActionsComponent } from './views-actions/views-actions.component';\r\nimport { ViewActionsParams } from './views-actions/views-actions.models';\r\nimport { ViewsShowComponent } from './views-show/views-show.component';\r\nimport { ViewsTypeComponent } from './views-type/views-type.component';\r\nimport { calculateViewType } from './views.helpers';\r\n\r\n@Component({\r\n  selector: 'app-views',\r\n  templateUrl: './views.component.html',\r\n  styleUrls: ['./views.component.scss'],\r\n})\r\nexport class ViewsComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @Input() enableCode: boolean;\r\n  @Input() enablePermissions: boolean;\r\n  @Input() appIsGlobal: boolean;\r\n  @Input() appIsInherited: boolean;\r\n\r\n  views$ = new BehaviorSubject<View[]>(undefined);\r\n  polymorphStatus$ = new BehaviorSubject(undefined);\r\n  polymorphLogo = polymorphLogo;\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  private polymorphism: Polymorphism;\r\n  \r\n  viewModel$: Observable<ViewsViewModel>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private viewsService: ViewsService,\r\n    private snackBar: MatSnackBar,\r\n    private dialogService: DialogService,\r\n  ) {\r\n    super(router, route);\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.fetchTemplates();\r\n    this.fetchPolymorphism();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { \r\n      this.fetchTemplates();\r\n      this.fetchPolymorphism();\r\n    }));\r\n    this.viewModel$ = combineLatest([this.views$, this.polymorphStatus$]).pipe(\r\n      map(([views, polymorphStatus]) => ({ views, polymorphStatus }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.views$.complete();\r\n    this.polymorphStatus$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  importView(files?: File[]) {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.firstChild, state: dialogData });\r\n  }\r\n\r\n  private fetchTemplates() {\r\n    this.viewsService.getAll().subscribe(views => {\r\n      this.views$.next(views);\r\n    });\r\n  }\r\n\r\n  private fetchPolymorphism() {\r\n    this.viewsService.getPolymorphism().subscribe(polymorphism => {\r\n      this.polymorphism = polymorphism;\r\n      const polymorphStatus = (polymorphism.Id === null)\r\n        ? 'not configured'\r\n        : (polymorphism.Resolver === null ? 'disabled' : 'using ' + polymorphism.Resolver);\r\n      this.polymorphStatus$.next(polymorphStatus);\r\n    });\r\n  }\r\n\r\n  editView(view?: View) {\r\n    const form: EditForm = {\r\n      items: [\r\n        view == null\r\n          ? {\r\n            ContentTypeName: eavConstants.contentTypes.template,\r\n            Prefill: {\r\n              ...(this.appIsGlobal && { Location: 'Global' }),\r\n            },\r\n          }\r\n          : { EntityId: view.Id }\r\n      ],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  editPolymorphisms() {\r\n    if (!this.polymorphism) { return; }\r\n\r\n    const form: EditForm = {\r\n      items: [\r\n        !this.polymorphism.Id\r\n          ? { ContentTypeName: this.polymorphism.TypeName }\r\n          : { EntityId: this.polymorphism.Id }\r\n      ],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private enableCodeGetter() {\r\n    return this.enableCode;\r\n  }\r\n\r\n  private enablePermissionsGetter() {\r\n    return this.enablePermissions;\r\n  }\r\n\r\n  private openUsage(view: View) {\r\n    this.router.navigate([`usage/${view.Guid}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private openCode(view: View) {\r\n    this.dialogService.openCodeFile(view.TemplatePath, view.IsShared, view.Id);\r\n  }\r\n\r\n  private openPermissions(view: View) {\r\n    this.router.navigate([GoToPermissions.getUrlEntity(view.Guid)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private openMetadata(view: View) {\r\n    const url = GoToMetadata.getUrlEntity(\r\n      view.Guid,\r\n      `Metadata for View: ${view.Name} (${view.Id})`,\r\n    );\r\n    this.router.navigate([url], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private cloneView(view: View) {\r\n    const form: EditForm = {\r\n      items: [{ ContentTypeName: eavConstants.contentTypes.template, DuplicateEntity: view.Id }],\r\n    };\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private exportView(view: View) {\r\n    this.viewsService.export(view.Id);\r\n  }\r\n\r\n  private deleteView(view: View) {\r\n    if (!confirm(`Delete '${view.Name}' (${view.Id})?`)) { return; }\r\n    this.snackBar.open('Deleting...');\r\n    this.viewsService.delete(view.Id).subscribe(res => {\r\n      this.snackBar.open('Deleted', null, { duration: 2000 });\r\n      this.fetchTemplates();\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          headerName: 'ID',\r\n          field: 'Id',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          cellClass: (params) => {\r\n            const view: View = params.data;\r\n            return `id-action no-padding no-outline ${view.EditInfo.ReadOnly ? 'disabled' : ''}`.split(' ');\r\n          },\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.Id;\r\n          },\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<View> = {\r\n              tooltipGetter: (view) => `ID: ${view.Id}\\nGUID: ${view.Guid}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          field: 'Show',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: BooleanFilterComponent,\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return !view.IsHidden;\r\n          },\r\n          cellRenderer: ViewsShowComponent,\r\n        },\r\n        {\r\n          field: 'Name',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'primary-action highlight'.split(' '),\r\n          sortable: true,\r\n          sort: 'asc',\r\n          filter: 'agTextColumnFilter',\r\n          onCellClicked: (params) => {\r\n            const view: View = params.data;\r\n            this.editView(view);\r\n          },\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.Name;\r\n          },\r\n        },\r\n        {\r\n          field: 'Type',\r\n          width: 82,\r\n          headerClass: 'dense',\r\n          cellClass: 'no-padding no-outline'.split(' '),\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            const type = calculateViewType(view);\r\n            return type.value;\r\n          },\r\n          cellRenderer: ViewsTypeComponent,\r\n        },\r\n        {\r\n          field: 'Used',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          cellClass: 'primary-action highlight'.split(' '),\r\n          sortable: true,\r\n          filter: 'agNumberColumnFilter',\r\n          onCellClicked: (params) => {\r\n            const view: View = params.data;\r\n            this.openUsage(view);\r\n          },\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.Used;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Url Key',\r\n          field: 'UrlKey',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.ViewNameInUrl;\r\n          },\r\n        },\r\n        {\r\n          field: 'Path',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.TemplatePath;\r\n          },\r\n        },\r\n        {\r\n          field: 'Content',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.ContentType.Name;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Default',\r\n          field: 'ContentDemo',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return `${view.ContentType.DemoId} ${view.ContentType.DemoTitle}`;\r\n          },\r\n        },\r\n        {\r\n          field: 'Presentation',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.PresentationType.Name;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Default',\r\n          field: 'PresentationDemo',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return `${view.PresentationType.DemoId} ${view.PresentationType.DemoTitle}`;\r\n          },\r\n        },\r\n        {\r\n          field: 'Header',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.ListContentType.Name;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Default',\r\n          field: 'HeaderDemo',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return `${view.ListContentType.DemoId} ${view.ListContentType.DemoTitle}`;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Header Presentation',\r\n          field: 'HeaderPresentation',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return view.ListPresentationType.Name;\r\n          },\r\n        },\r\n        {\r\n          headerName: 'Default',\r\n          field: 'HeaderPresentationDemo',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const view: View = params.data;\r\n            return `${view.ListPresentationType.DemoId} ${view.ListPresentationType.DemoTitle}`;\r\n          },\r\n        },\r\n        {\r\n          width: 162,\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          pinned: 'right',\r\n          cellRenderer: ViewsActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: ViewActionsParams = {\r\n              enableCodeGetter: () => this.enableCodeGetter(),\r\n              enablePermissionsGetter: () => this.enablePermissionsGetter(),\r\n              onOpenCode: (view) => this.openCode(view),\r\n              onOpenPermissions: (view) => this.openPermissions(view),\r\n              onOpenMetadata: (view) => this.openMetadata(view),\r\n              onClone: (view) => this.cloneView(view),\r\n              onExport: (view) => this.exportView(view),\r\n              onDelete: (view) => this.deleteView(view),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface ViewsViewModel {\r\n  views: View[];\r\n  polymorphStatus: any;\r\n}\r\n","export default \"data:image/png;base64,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\"","<div class=\"actions-component\">\r\n  <div class=\"eav-grid-action-button highlight\" matRipple *ngIf=\"enableCode\" tippy=\"Code\" (click)=\"openCode()\">\r\n    <mat-icon>code</mat-icon>\r\n  </div>\r\n  <div class=\"eav-grid-action-button disabled\" *ngIf=\"!enableCode\">\r\n    <mat-icon>code</mat-icon>\r\n  </div>\r\n\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"openRestApi()\">\r\n      <mat-icon svgIcon=\"code-curly\"></mat-icon>\r\n      <span>REST API</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { WebApi } from '../../models/web-api.model';\r\nimport { WebApiActionsParams } from './web-api-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-web-api-actions',\r\n  templateUrl: './web-api-actions.component.html',\r\n  styleUrls: ['./web-api-actions.component.scss'],\r\n})\r\nexport class WebApiActionsComponent implements ICellRendererAngularComp {\r\n  enableCode: boolean;\r\n  private params: ICellRendererParams & WebApiActionsParams;\r\n\r\n  agInit(params: ICellRendererParams & WebApiActionsParams): void {\r\n    this.params = params;\r\n    this.enableCode = this.params.enableCodeGetter();\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  openCode(): void {\r\n    const api: WebApi = this.params.data;\r\n    this.params.onOpenCode(api);\r\n  }\r\n\r\n  openRestApi(): void {\r\n    const api: WebApi = this.params.data;\r\n    this.params.onOpenRestApi(api);\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <div class=\"eav-grid-action-button icon\" tippy=\"WebApi is shared\" *ngIf=\"value\">\r\n    <mat-icon>share</mat-icon>\r\n  </div>\r\n</div>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-web-api-type',\r\n  templateUrl: './web-api-type.component.html',\r\n  styleUrls: ['./web-api-type.component.scss'],\r\n})\r\nexport class WebApiTypeComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\"  *ngIf=\"viewModel$ | async as vm\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.webApis\" [gridOptions]=\"gridOptions\">\r\n  </ag-grid-angular>\r\n\r\n  <mat-dialog-actions align=\"end\">\r\n    <button mat-fab mat-elevation-z24 [matMenuTriggerFor]=\"menu\" class=\"grid-fab\" tippy=\"Create a new controller\" tippyPlacement=\"left\">\r\n      <mat-icon>add</mat-icon>\r\n    </button>\r\n    <mat-menu #menu=\"matMenu\">\r\n      <button mat-menu-item (click)=\"createController(false)\">\r\n        <span>App</span>\r\n      </button>\r\n      <button mat-menu-item (click)=\"createController(true)\">\r\n        <span>Shared (global)</span>\r\n      </button>\r\n    </mat-menu>\r\n  </mat-dialog-actions>\r\n</div>","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, Input, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { SourceService } from '../../code-editor/services/source.service';\r\nimport { CreateFileDialogComponent, CreateFileDialogData, CreateFileDialogResult, FileLocationDialogComponent } from '../../create-file-dialog';\r\nimport { GoToDevRest } from '../../dev-rest/go-to-dev-rest';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { WebApi } from '../models/web-api.model';\r\nimport { WebApiActionsComponent } from './web-api-actions/web-api-actions.component';\r\nimport { WebApiActionsParams } from './web-api-actions/web-api-actions.models';\r\nimport { WebApiTypeComponent } from './web-api-type/web-api-type.component';\r\n\r\n@Component({\r\n  selector: 'app-web-api',\r\n  templateUrl: './web-api.component.html',\r\n  styleUrls: ['./web-api.component.scss'],\r\n})\r\nexport class WebApiComponent implements OnInit, OnDestroy {\r\n  @Input() enableCode: boolean;\r\n\r\n  webApis$ = new BehaviorSubject<WebApi[]>(undefined);\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<WebApiViewModel>;\r\n\r\n  constructor(\r\n    private sourceService: SourceService,\r\n    private snackBar: MatSnackBar,\r\n    private dialogService: DialogService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchWebApis();\r\n    this.viewModel$ = combineLatest([this.webApis$]).pipe(\r\n      map(([webApis]) => ({ webApis }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.webApis$.complete();\r\n  }\r\n\r\n  createController(global?: boolean): void {\r\n    // This FileLocationDialogComponent dialog is currently never going to be opened because it has been replaced by mat-menu\r\n    // in the web-api.component.html template. If you want to use the dialog instead of the menu, you need to remove the\r\n    // mat-menu and replace it with a button that opens the dialog with empty parameters.\r\n    // Dialog has been replaced by menu because from update to Angular 16 CreateFileDialogComponent wasn't opening anymore if \r\n    // FileLocationDialogComponent dialog was used.\r\n    // if (global == null) {\r\n    //   const fileLocationDialogRef = this.dialog.open(FileLocationDialogComponent, {\r\n    //     autoFocus: false,\r\n    //     viewContainerRef: this.viewContainerRef,\r\n    //     width: '650px',\r\n    //   });\r\n    //   fileLocationDialogRef.afterClosed().subscribe((isShared?: boolean) => {\r\n    //     if (isShared == null) { return; }\r\n    //     this.createController(isShared);\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    const createFileDialogData: CreateFileDialogData = {\r\n      folder: 'api',\r\n      global,\r\n      purpose: 'Api',\r\n    };\r\n    const createFileDialogRef = this.dialog.open(CreateFileDialogComponent, {\r\n      autoFocus: false,\r\n      data: createFileDialogData,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n\r\n    createFileDialogRef.afterClosed().subscribe((result?: CreateFileDialogResult) => {\r\n      if (!result) { return; }\r\n\r\n      if (result.name.endsWith('Controller.cs')) {\r\n        const fileName = result.name.substring(result.name.lastIndexOf('/') + 1);\r\n        if (!/^[A-Z][a-zA-Z0-9]*Controller\\.cs$/g.test(fileName)) {\r\n          const message = `\"${fileName}\" is invalid controller name. Should be something like \"MyController.cs\"`;\r\n          this.snackBar.open(message, null, { duration: 5000 });\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.snackBar.open('Saving...');\r\n      this.sourceService.create(result.name, global, result.templateKey).subscribe(() => {\r\n        this.snackBar.open('Saved', null, { duration: 2000 });\r\n        this.fetchWebApis();\r\n      });\r\n    });\r\n  }\r\n\r\n  private fetchWebApis() {\r\n    this.sourceService.getWebApis().subscribe(webApis => {\r\n      this.webApis$.next(webApis);\r\n    });\r\n  }\r\n\r\n  private enableCodeGetter() {\r\n    return this.enableCode;\r\n  }\r\n\r\n  private openCode(api: WebApi) {\r\n    this.dialogService.openCodeFile(api.path, api.isShared);\r\n  }\r\n\r\n  private openRestApi(api: WebApi) {\r\n    this.router.navigate([GoToDevRest.getUrlWebApi(api)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          field: 'Folder',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          sort: 'asc',\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const api: WebApi = params.data;\r\n            return api.folder;\r\n          },\r\n        },\r\n        {\r\n          field: 'Name',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const api: WebApi = params.data;\r\n            return api.name;\r\n          },\r\n        },\r\n        {\r\n          field: 'Type',\r\n          flex: 1,\r\n          minWidth: 250,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: BooleanFilterComponent,\r\n          valueGetter: (params) => {\r\n            const api: WebApi = params.data;\r\n            return api.isShared;\r\n          },\r\n          cellRenderer: WebApiTypeComponent,\r\n        },\r\n        {\r\n          width: 82,\r\n          cellClass: 'secondary-action no-padding'.split(' '),\r\n          pinned: 'right',\r\n          cellRenderer: WebApiActionsComponent,\r\n          cellRendererParams: (() => {\r\n            const params: WebApiActionsParams = {\r\n              enableCodeGetter: () => this.enableCodeGetter(),\r\n              onOpenCode: (api) => this.openCode(api),\r\n              onOpenRestApi: (api) => this.openRestApi(api),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface WebApiViewModel { \r\n  webApis: WebApi[];\r\n}\r\n","import { View } from '../../models';\r\n\r\nexport const AnalyzeParts = {\r\n  Settings: 'Settings',\r\n  Resources: 'Resources',\r\n} as const;\r\nexport type AnalyzePart = typeof AnalyzeParts[keyof typeof AnalyzeParts];\r\n\r\nexport interface AnalyzeSettingsViewModel {\r\n  views: View[];\r\n  selectedView: string;\r\n  stack: SettingsStackItem[];\r\n}\r\n\r\nexport interface SettingsStackItem {\r\n  Path: string;\r\n  Priority: number;\r\n  Source: string;\r\n  TotalResults: number;\r\n  Type: string;\r\n  Value: string;\r\n  _value: string;\r\n}\r\n","<!-- App Config -->\r\n<mat-card *ngIf=\"viewModel$ | async as vm\" class=\"eav-card\">\r\n  <mat-card-header class=\"eav-card-header\">\r\n    <mat-card-title>Configuration</mat-card-title>\r\n    <mat-icon>redeem</mat-icon>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <p>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Name:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.displayName)\">{{vm.displayName}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Folder:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.folder)\">{{vm.folder}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Version:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.version)\">{{vm.version}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">For</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <b>2sxc: </b><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.toSxc)\"> {{vm.toSxc}} </span>\r\n          <b> DNN: </b><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.dnn)\"> {{vm.dnn}} </span>\r\n          <b> Oqt: </b><span [tippy]=\"'Click to copy to clipboard'\" (click)=\"copyToClipboard(vm.oqt)\"> {{vm.oqt}} </span>\r\n        </div>\r\n      </div>\r\n    <!-- </p> -->\r\n  </mat-card-content>\r\n  <div class=\"eav-card-space-div\"></div>\r\n  <mat-card-actions align=\"start\">\r\n    <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://docs.2sxc.org/basics/app/configuration.html' }\"></ng-container>\r\n    <button mat-button class=\"eav-button__with-icon\" (click)=\"edit()\">\r\n      <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.appConfigurationsCount || null\"\r\n        matBadgePosition=\"below after\" aria-hidden=\"false\" class=\"eav-icon\">edit</mat-icon>\r\n      <span>Edit</span>\r\n    </button>\r\n    <button mat-button class=\"eav-button__with-icon\" (click)=\"openMetadata()\">\r\n      <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.appMetadataCount || null\"\r\n        matBadgePosition=\"below after\" aria-hidden=\"false\" class=\"eav-icon\">local_offer</mat-icon>\r\n      <span>Metadata</span>\r\n    </button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n\r\n<ng-template #docsLink let-icon let-label let-link=\"link\">\r\n  <a mat-button class=\"eav-button__with-icon\" href=\"{{link}}\" target=\"_blank\" [tippy]=\"'online documentation'\">\r\n    <mat-icon class=\"eav-icon\">{{ icon ?? \"menu_book\" }}</mat-icon>\r\n    <span>{{ label }}</span>\r\n  </a>\r\n</ng-template>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ContentItemsService } from '../../../content-items/services/content-items.service';\r\nimport { GoToMetadata } from '../../../metadata';\r\nimport { BaseComponent } from '../../../shared/components/base-component/base.component';\r\nimport { eavConstants } from '../../../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../../../shared/helpers/url-prep.helper';\r\nimport { DialogSettings } from '../../../shared/models/dialog-settings.model';\r\nimport { EditForm } from '../../../shared/models/edit-form.model';\r\nimport { Context } from '../../../shared/services/context';\r\nimport { AppInternalsService } from '../../services/app-internals.service';\r\nimport { Subject, Observable, combineLatest, map } from 'rxjs';\r\nimport { AppInternals } from '../../models/app-internals.model';\r\nimport { copyToClipboard } from '../../../shared/helpers/copy-to-clipboard.helper';\r\n\r\n@Component({\r\n  selector: 'app-app-configuration-card',\r\n  templateUrl: './app-configuration-card.component.html',\r\n  styleUrls: ['./app-configuration-card.component.scss'],\r\n})\r\nexport class AppConfigurationCardComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @Input() dialogSettings: DialogSettings;\r\n\r\n  // More proper ViewModel\r\n  appSettingsInternal$ = new Subject<AppInternals>();\r\n  viewModel$: Observable<ViewModel>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private contentItemsService: ContentItemsService,\r\n    private context: Context,\r\n    private snackBar: MatSnackBar,\r\n    private appInternalsService: AppInternalsService) {\r\n    super(router, route);\r\n\r\n    // New with proper ViewModel\r\n    this.viewModel$ = combineLatest([\r\n      this.appSettingsInternal$,\r\n      this.contentItemsService.getAll(eavConstants.contentTypes.appConfiguration),\r\n    ]).pipe(map(([settings, contentItems]) => {\r\n      const contentItem = contentItems[0];\r\n      const result: ViewModel = {\r\n        appConfigurationsCount: settings.EntityLists.ToSxcContentApp.length,\r\n        appMetadataCount: settings.MetadataList.Items.length,\r\n        displayName: contentItem?.DisplayName ?? '-',\r\n        folder: contentItem?.Folder ?? '-',\r\n        version: contentItem?.Version ?? '-',\r\n        toSxc: contentItem?.RequiredVersion ?? '-',\r\n        dnn: contentItem?.RequiredDnnVersion ?? '-',\r\n        oqt: contentItem?.RequiredOqtaneVersion ?? '-',\r\n      }\r\n      return result;\r\n    }));\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchSettings();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { this.fetchSettings(); }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.snackBar.dismiss();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  copyToClipboard(text: string): void {\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n\r\n  edit() {\r\n    const staticName = eavConstants.contentTypes.appConfiguration;\r\n    this.contentItemsService.getAll(staticName).subscribe(contentItems => {\r\n      let form: EditForm;\r\n      \r\n      if (contentItems.length < 1) throw new Error(`Found no settings for type ${staticName}`);\r\n      if (contentItems.length > 1) throw new Error(`Found too many settings for type ${staticName}`);\r\n      form = {\r\n        items: [{ EntityId: contentItems[0].Id }],\r\n      };\r\n\r\n      const formUrl = convertFormToUrl(form);\r\n      this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n    });\r\n  }\r\n\r\n  openMetadata() {\r\n    const url = GoToMetadata.getUrlApp(\r\n      this.context.appId,\r\n      `Metadata for App: ${this.dialogSettings.Context.App.Name} (${this.context.appId})`,\r\n    );\r\n    this.router.navigate([url], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private fetchSettings() {\r\n    const getObservable = this.appInternalsService.getAppInternals(eavConstants.metadata.app.targetType, eavConstants.metadata.app.keyType, this.context.appId);\r\n    getObservable.subscribe(x => {\r\n      // 2dm - New mode for Reactive UI\r\n      this.appSettingsInternal$.next(x);\r\n      });\r\n  }\r\n}\r\n\r\nclass ViewModel {\r\n  appConfigurationsCount: number;\r\n  appMetadataCount: number;\r\n  displayName: string;\r\n  folder: string;\r\n  version: string;\r\n  toSxc: string;\r\n  dnn: string;\r\n  oqt: string;\r\n}","<ng-container *ngIf=\"viewModel$ | async as vm\">\r\n\r\n  <div class=\"alert alert-info scope-info\" *ngIf=\"isGlobal || isPrimary\">\r\n    <ng-container *ngIf=\"isGlobal\">\r\n      This is the Global App. Anything configured here will affect all Sites and Apps in this installation.\r\n    </ng-container>\r\n    <ng-container *ngIf=\"isPrimary\">\r\n      This is the Primary App of this Site. You can also configure sitewide settings and resources here.\r\n    </ng-container>\r\n    See <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>.\r\n  </div>\r\n\r\n  <div class=\"eav-cards-box\">\r\n    <!-- Settings -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Settings</mat-card-title>\r\n        <mat-icon>settings</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Settings are things like SQL-connection strings, default \"items-to-show\" numbers and similar.\r\n          If necessary, settings like a link to an RSS-Feed could be different in each language.\r\n          <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>\r\n        </p>\r\n\r\n        <table class=\"eav-settings-and-resources-table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>System Settings</th>\r\n              <th>Custom Settings</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <!-- Settings for Global App -->\r\n            <ng-container *ngIf=\"isGlobal\">\r\n              <tr>\r\n                <th>Global</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemSettings, SystemSettingsScopes.App)\"\r\n                    tippy=\"Edit global system settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customSettings, 'edit')\"\r\n                    tippy=\"Edit custom global settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customSettings, 'config')\"\r\n                    tippy=\"Configure fields of the custom global settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </ng-container>\r\n            <!-- Settings for Primary App -->\r\n            <ng-container *ngIf=\"isPrimary\">\r\n              <tr>\r\n                <th>Site</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemSettings, SystemSettingsScopes.Site)\"\r\n                    tippy=\"Edit site system settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customSettings, 'edit')\"\r\n                    tippy=\"Edit custom site settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customSettings, 'config')\"\r\n                    tippy=\"Configure fields of the custom site settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            </ng-container>\r\n            <!-- Settings for App and Content -->\r\n            <ng-container *ngIf=\"isApp\">\r\n              <tr>\r\n                <th>{{ dialogSettings.Context.App.Name }}</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemSettings, SystemSettingsScopes.App)\"\r\n                    tippy=\"Edit app system settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.settings)\" tippy=\"Edit custom app settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"config(eavConstants.contentTypes.settings)\"\r\n                    tippy=\"Configure fields of the custom app settings\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customSettingsFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/settings' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"analyze(AnalyzeParts.Settings)\" tippy=\"See the result of combining all settings\">\r\n          <mat-icon class=\"eav-icon\">manage_search</mat-icon>\r\n          <span>Analyze Combined Settings</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n\r\n    <!-- Resources -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Language Resources (i18n)</mat-card-title>\r\n        <mat-icon>translate</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Resources are used for labels and things like that in the App.\r\n          They are usually needed to create multi-lingual views and such, and should not be used for App-Settings.\r\n          <a href=\"https://go.2sxc.org/settings\" target=\"_blank\">docs</a>\r\n        </p>\r\n\r\n        <table class=\"eav-settings-and-resources-table\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>System Resources</th>\r\n              <th>Custom Resources</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <!-- Resources for Global App -->\r\n            <ng-container *ngIf=\"isGlobal\">\r\n              <tr>\r\n                <th>Global</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemResources, SystemSettingsScopes.App)\"\r\n                    tippy=\"Edit global system resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customResources, 'edit')\"\r\n                    tippy=\"Edit custom global resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customResources, 'config')\"\r\n                    tippy=\"Configure fields of the custom global resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </ng-container>\r\n            <!-- Resources for Primary App -->\r\n            <ng-container *ngIf=\"isPrimary\">\r\n              <tr>\r\n                <th>Site</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemResources, SystemSettingsScopes.Site)\"\r\n                    tippy=\"Edit site system resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customResources, 'edit')\"\r\n                    tippy=\"Edit custom site resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"fixContentType(eavConstants.contentTypes.customResources, 'config')\"\r\n                    tippy=\"Configure fields of the custom site resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            </ng-container>\r\n            <!-- Resources for App and Content -->\r\n            <ng-container *ngIf=\"isApp\">\r\n              <tr>\r\n                <th>{{ dialogSettings.Context.App.Name }}</th>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.systemResources, SystemSettingsScopes.App)\"\r\n                    tippy=\"Edit app system resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.systemResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button mat-icon-button (click)=\"edit(eavConstants.contentTypes.resources)\"\r\n                    tippy=\"Edit custom app resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">edit</mat-icon>\r\n                  </button>\r\n                  <button mat-icon-button (click)=\"config(eavConstants.contentTypes.resources)\"\r\n                    tippy=\"Configure fields of the custom app resources\">\r\n                    <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.customResourcesFieldsCount || null\"\r\n                      matBadgePosition=\"below after\" aria-hidden=\"false\">dns</mat-icon>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              <ng-container *ngTemplateOutlet=\"goToSite\"></ng-container>\r\n              <ng-container *ngTemplateOutlet=\"goToGlobal\"></ng-container>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/settings' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"analyze(AnalyzeParts.Resources)\" tippy=\"See the result of combining all resources\">\r\n          <mat-icon class=\"eav-icon\">manage_search</mat-icon>\r\n          <span>Analyze Combined Resources</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n\r\n    <!-- Templates which are re-used in the table above -->\r\n    <ng-template #goToGlobal>\r\n      <tr>\r\n        <th>Global</th>\r\n        <td>\r\n          <button mat-icon-button (click)=\"openGlobalSettings()\" tippy=\"Go to global\">\r\n            <mat-icon>open_in_new</mat-icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n\r\n    <ng-template #goToSite>\r\n      <tr>\r\n        <th>Site</th>\r\n        <td>\r\n          <button mat-icon-button (click)=\"openSiteSettings()\" tippy=\"Go to site\">\r\n            <mat-icon>open_in_new</mat-icon>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n\r\n  </div>\r\n\r\n  <div class=\"eav-cards-box\">\r\n    \r\n    <app-app-configuration-card [dialogSettings]=\"dialogSettings\">\r\n    </app-app-configuration-card>\r\n\r\n    <!-- LightSpeed -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Performance</mat-card-title>\r\n        <mat-icon>bolt</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          LightSpeed Output Cache to speed up page by 50-90%\r\n        </p>\r\n        <app-feature-text-info [featureNameId]=\"'LightSpeedOutputCache'\" [asInfo]=\"true\"></app-feature-text-info>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/lightspeed' }\"></ng-container>\r\n        <button mat-button  class=\"eav-button__with-icon\" (click)=\"openLightSpeed()\" disabled=\"{{!vm.lightSpeedEnabled}}\">\r\n          <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" [matBadge]=\"vm.appLightSpeedCount || null\"\r\n            matBadgePosition=\"below after\" aria-hidden=\"false\" class=\"eav-icon\">bolt</mat-icon>\r\n          <span>Edit LightSpeed</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n\r\n    <!-- Security / CSP -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Security</mat-card-title>\r\n        <mat-icon>local_police</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          ContentSecurityPolicy (CSP) features in this App - for maximum control.\r\n        </p>\r\n        <app-feature-text-info [featureNameId]=\"'ContentSecurityPolicy'\" [asInfo]=\"true\"></app-feature-text-info>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/csp' }\"></ng-container>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    \r\n    <!-- Permissions -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Permissions</mat-card-title>\r\n        <mat-icon>person</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Give access to the entire app (all data). Use with care.\r\n        </p>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://docs.2sxc.org/basics/app/permissions.html' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" [disabled]=\"!dialogSettings.Context.Enable.AppPermissions\" (click)=\"openPermissions()\">\r\n          <mat-icon matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadgePosition=\"below after\"\r\n            [matBadge]=\"dialogSettings.Context.App.Permissions.Count || null\" aria-hidden=\"false\" class=\"eav-icon\">person</mat-icon>\r\n          <span>\r\n            Edit Permissions\r\n            <ng-container *ngIf=\"!dialogSettings.Context.Enable.AppPermissions\">\r\n              <ng-container *ngIf=\"isGlobal\">\r\n                (not on Global App)\r\n              </ng-container>\r\n              <ng-container *ngIf=\"isApp\">\r\n                (not on Content)\r\n              </ng-container>\r\n            </ng-container>\r\n          </span>\r\n        </button>\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://patrons.2sxc.org/features/feat/PermissionsByLanguage' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"openLanguagePermissions(vm.langPermsEnabled)\">\r\n          <mat-icon [matBadgeHidden]=\"vm.langPermsEnabled\" matBadgeSize=\"small\" matBadge=\"💎\" \r\n          matBadgePosition=\"below after\" aria-hidden=\"false\" class=\"eav-icon\">\r\n            person\r\n          </mat-icon>\r\n          <span>Language Permissions</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </div>\r\n\r\n</ng-container>\r\n\r\n<ng-template #docsLink let-icon let-label let-link=\"link\">\r\n  <a mat-button class=\"eav-button__with-icon\" href=\"{{link}}\" target=\"_blank\" [tippy]=\"'online documentation'\">\r\n    <mat-icon class=\"eav-icon\">{{ icon ?? \"menu_book\" }}</mat-icon>\r\n    <span>{{ label }}</span>\r\n  </a>\r\n</ng-template>","import { ChangeDetectorRef, Component, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewContainerRef } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ContentItemsService } from '../../content-items/services/content-items.service';\r\nimport { GlobalConfigService } from '../../edit/shared/store/ngrx-data';\r\nimport { GoToPermissions } from '../../permissions/go-to-permissions';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { eavConstants, SystemSettingsScope, SystemSettingsScopes } from '../../shared/constants/eav.constants';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { AppScopes } from '../../shared/models/dialog-context.models';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { EditForm } from '../../shared/models/edit-form.model';\r\nimport { Context } from '../../shared/services/context';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { AppAdminHelpers } from '../app-admin-helpers';\r\nimport { ContentTypeEdit } from '../models';\r\nimport { AppDialogConfigService, ContentTypesService } from '../services';\r\nimport { AppInternalsService } from '../services/app-internals.service';\r\nimport { ImportAppPartsService } from '../services/import-app-parts.service';\r\nimport { AnalyzePart, AnalyzeParts } from '../sub-dialogs/analyze-settings/analyze-settings.models';\r\nimport { Subject, Observable, combineLatest, map } from 'rxjs';\r\nimport { AppInternals } from '../models/app-internals.model';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { FeatureComponentBase } from '../../features/shared/base-feature.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-app-configuration',\r\n  templateUrl: './app-configuration.component.html',\r\n  styleUrls: ['./app-configuration.component.scss'],\r\n})\r\nexport class AppConfigurationComponent extends BaseComponent implements OnInit, OnChanges, OnDestroy {\r\n  @Input() dialogSettings: DialogSettings;\r\n\r\n  eavConstants = eavConstants;\r\n  AnalyzeParts = AnalyzeParts;\r\n  SystemSettingsScopes = SystemSettingsScopes;\r\n  AppScopes = AppScopes;\r\n  isGlobal: boolean;\r\n  isPrimary: boolean;\r\n  isApp: boolean;\r\n  debugEnabled$ = this.globalConfigService.getDebugEnabled$();\r\n\r\n  // More proper ViewModel\r\n  appSettingsInternal$ = new Subject<AppInternals>();\r\n  viewModel$: Observable<AppConfigurationViewModel>;\r\n\r\n  public appStateAdvanced = false;\r\n\r\n  public features: FeaturesService = new FeaturesService();\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private contentItemsService: ContentItemsService,\r\n    private context: Context,\r\n    private importAppPartsService: ImportAppPartsService,\r\n    private snackBar: MatSnackBar,\r\n    private dialogService: DialogService,\r\n    private appInternalsService: AppInternalsService,\r\n    private contentTypesService: ContentTypesService,\r\n    private globalConfigService: GlobalConfigService,\r\n    appDialogConfigService: AppDialogConfigService,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    super(router, route);\r\n    this.features.loadFromService(appDialogConfigService);\r\n\r\n    // New with proper ViewModel\r\n    this.viewModel$ = combineLatest([\r\n      this.appSettingsInternal$,\r\n      this.features.isEnabled$(FeatureNames.LightSpeed),\r\n      this.features.isEnabled$(FeatureNames.ContentSecurityPolicy),\r\n      this.features.isEnabled$(FeatureNames.PermissionsByLanguage),\r\n    ]).pipe(map(([settings, lightSpeedEnabled, cspEnabled, langPermsEnabled]) => {\r\n      const result: AppConfigurationViewModel = {\r\n        lightSpeedEnabled,\r\n        cspEnabled,\r\n        langPermsEnabled,\r\n        appLightSpeedCount: settings.MetadataList.Items.filter(i => i._Type.Name == eavConstants.appMetadata.LightSpeed.ContentTypeName).length,\r\n        systemSettingsCount: this.isPrimary\r\n          ? settings.EntityLists.SettingsSystem.filter(i => i.SettingsEntityScope === SystemSettingsScopes.Site).length\r\n          : settings.EntityLists.SettingsSystem.filter(i => !i.SettingsEntityScope).length,\r\n        customSettingsCount: settings.EntityLists.AppSettings?.length,\r\n        customSettingsFieldsCount: settings.FieldAll.AppSettings?.length,\r\n        systemResourcesCount: this.isPrimary\r\n          ? settings.EntityLists.ResourcesSystem.filter(i => i.SettingsEntityScope === SystemSettingsScopes.Site).length\r\n          : settings.EntityLists.ResourcesSystem.filter(i => !i.SettingsEntityScope).length,\r\n        customResourcesCount: settings.EntityLists.AppResources?.length,\r\n        customResourcesFieldsCount: settings.FieldAll.AppResources?.length,\r\n      }\r\n      return result;\r\n    }));\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.fetchSettings();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { this.fetchSettings(); }));\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.dialogSettings != null) {\r\n      const appScope = this.dialogSettings.Context.App.SettingsScope;\r\n      this.isGlobal = appScope === AppScopes.Global;\r\n      this.isPrimary = appScope === AppScopes.Site;\r\n      this.isApp = appScope === AppScopes.App;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.snackBar.dismiss();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  edit(staticName: string, systemSettingsScope?: SystemSettingsScope) {\r\n    this.contentItemsService.getAll(staticName).subscribe(contentItems => {\r\n      let form: EditForm;\r\n\r\n      switch (staticName) {\r\n        case eavConstants.contentTypes.systemSettings:\r\n        case eavConstants.contentTypes.systemResources:\r\n          const systemSettingsEntities = contentItems.filter(i => systemSettingsScope === SystemSettingsScopes.App\r\n            ? !i.SettingsEntityScope\r\n            : i.SettingsEntityScope === SystemSettingsScopes.Site);\r\n          if (systemSettingsEntities.length > 1) {\r\n            throw new Error(`Found too many settings for type ${staticName}`);\r\n          }\r\n          const systemSettingsEntity = systemSettingsEntities[0];\r\n          form = {\r\n            items: [\r\n              systemSettingsEntity == null\r\n                ? {\r\n                  ContentTypeName: staticName,\r\n                  Prefill: {\r\n                    ...(systemSettingsScope === SystemSettingsScopes.Site && { SettingsEntityScope: SystemSettingsScopes.Site }),\r\n                  }\r\n                }\r\n                : { EntityId: systemSettingsEntity.Id }\r\n            ],\r\n          };\r\n          break;\r\n        case eavConstants.contentTypes.customSettings:\r\n        case eavConstants.contentTypes.customResources:\r\n          if (contentItems.length > 1) {\r\n            throw new Error(`Found too many settings for type ${staticName}`);\r\n          }\r\n          const customSettingsEntity = contentItems[0];\r\n          form = {\r\n            items: [\r\n              customSettingsEntity == null\r\n                ? { ContentTypeName: staticName }\r\n                : { EntityId: customSettingsEntity.Id }\r\n            ],\r\n          };\r\n          break;\r\n        default:\r\n          if (contentItems.length < 1) throw new Error(`Found no settings for type ${staticName}`);\r\n          if (contentItems.length > 1) throw new Error(`Found too many settings for type ${staticName}`);\r\n          form = {\r\n            items: [{ EntityId: contentItems[0].Id }],\r\n          };\r\n      }\r\n\r\n      const formUrl = convertFormToUrl(form);\r\n      this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n    });\r\n  }\r\n\r\n  openLightSpeed() {\r\n    const form = AppAdminHelpers.getLightSpeedEditParams(this.context.appId);\r\n    const formUrl = convertFormToUrl(form);\r\n    this.router.navigate([`edit/${formUrl}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  openSiteSettings() {\r\n    const sitePrimaryApp = this.dialogSettings.Context.Site.PrimaryApp;\r\n    this.dialogService.openAppAdministration(sitePrimaryApp.ZoneId, sitePrimaryApp.AppId, 'app');\r\n  }\r\n\r\n  openGlobalSettings() {\r\n    const globalPrimaryApp = this.dialogSettings.Context.System.PrimaryApp;\r\n    this.dialogService.openAppAdministration(globalPrimaryApp.ZoneId, globalPrimaryApp.AppId, 'app');\r\n  }\r\n\r\n  config(staticName: string) {\r\n    this.router.navigate([`fields/${staticName}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  openPermissions() {\r\n    this.router.navigate([GoToPermissions.getUrlApp(this.context.appId)], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  openLanguagePermissions(enabled: boolean) {\r\n    if (enabled)\r\n      this.router.navigate(['language-permissions'], { relativeTo: this.route.firstChild });\r\n    else\r\n      FeatureComponentBase.openDialog(this.dialog, FeatureNames.PermissionsByLanguage, this.viewContainerRef, this.changeDetectorRef);\r\n  }\r\n\r\n  analyze(part: AnalyzePart) {\r\n    this.router.navigate([`analyze/${part}`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  private fetchSettings() {\r\n    const getObservable = this.appInternalsService.getAppInternals(eavConstants.metadata.app.targetType, eavConstants.metadata.app.keyType, this.context.appId);\r\n    getObservable.subscribe(x => {\r\n      // 2dm - New mode for Reactive UI\r\n      this.appSettingsInternal$.next(x);\r\n      });\r\n  }\r\n\r\n  fixContentType(staticName: string, action: 'edit' | 'config') {\r\n    this.contentTypesService.retrieveContentTypes(eavConstants.scopes.configuration.value).subscribe(contentTypes => {\r\n      const contentTypeExists = contentTypes.some(ct => ct.Name === staticName);\r\n      if (contentTypeExists) {\r\n        if (action === 'edit') {\r\n          this.edit(staticName);\r\n        } else if (action === 'config') {\r\n          this.config(staticName);\r\n        }\r\n      } else {\r\n        const newContentType = {\r\n          StaticName: '',\r\n          Name: staticName,\r\n          Description: '',\r\n          Scope: eavConstants.scopes.configuration.value,\r\n          ChangeStaticName: false,\r\n          NewStaticName: '',\r\n        } as ContentTypeEdit;\r\n        this.contentTypesService.save(newContentType).subscribe(success => {\r\n          if (!success) { return; }\r\n\r\n          if (action === 'edit') {\r\n            this.edit(staticName);\r\n          } else if (action === 'config') {\r\n            this.config(staticName);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nclass AppConfigurationViewModel {\r\n  // Lightspeed\r\n  lightSpeedEnabled: boolean;\r\n  appLightSpeedCount: number;\r\n\r\n  // CSP\r\n  cspEnabled: boolean;\r\n\r\n  // Language Permissions\r\n  langPermsEnabled: boolean;\r\n\r\n  systemSettingsCount: number;\r\n  customSettingsCount: number;\r\n  customSettingsFieldsCount: number;\r\n  systemResourcesCount: number;\r\n  customResourcesCount: number;\r\n  customResourcesFieldsCount: number;\r\n}","<ng-container>\r\n  <div class=\"eav-cards-box\">\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Instructions for Sync or Export/Import</mat-card-title>\r\n        <mat-icon>info</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          This section is for export/import of the entire App,\r\n          for synchronizing with the file storage (eg. for Git)\r\n          or to export parts of the App for re-import in another App.\r\n        </p>\r\n        <p>\r\n          To export/import Content-Types, Queries, Views or Data, use the respective tabs.\r\n        </p>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div class=\"eav-cards-box\">\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Export this entire App</mat-card-title>\r\n        <mat-icon>cloud_download</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Create an package (zip) which can be installed in another site.\r\n        </p>    \r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"exportApp()\">\r\n          <mat-icon class=\"eav-icon\">cloud_download</mat-icon>\r\n          <span>Export App</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <mat-card-title>Export or Import parts of this App</mat-card-title>\r\n        <mat-icon>import_export</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          Create an xml containing parts of the app, e.g. content and templates.\r\n          Import parts from such an xml into this app.\r\n        </p>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"exportParts()\">\r\n          <mat-icon class=\"eav-icon\">cloud_download</mat-icon>\r\n          <span>Export Parts</span>\r\n        </button>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"importParts()\">\r\n          <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n          <span>Import Parts</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div class=\"eav-cards-box\">\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header class=\"eav-card-header\">\r\n        <div class=\"eav-card-header-title-toggle\">\r\n          <mat-card-title>App-State Versioning</mat-card-title>\r\n          <mat-slide-toggle class=\"eav-card-header-toggle\" [(ngModel)]=\"appStateAdvanced\">{{ appStateAdvanced ? \"advanced\" : \"basic\" }}</mat-slide-toggle>\r\n        </div>\r\n        <mat-icon>history_toggle_off</mat-icon>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>\r\n          You can save / restore the app with data and configuration in <code>.data/app.xml</code>.\r\n          This file can then also be versioned using git.\r\n        </p>\r\n        <p *ngIf=\"appStateAdvanced\">\r\n          <br>\r\n          In Advanced mode you can also sync all the site files used by this app.\r\n          They will be placed in a folder inside <code>App_Data</code> and allow sync/restore with git or another server.\r\n        </p>\r\n      </mat-card-content>\r\n      <app-feature-text-info *ngIf=\"appStateAdvanced\" [featureNameId]=\"'AppSyncWithSiteFiles'\"></app-feature-text-info>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngIf=\"!appStateAdvanced\">\r\n          <button mat-button class=\"eav-button__with-icon\" (click)=\"exportAppXml(false)\">\r\n            <mat-icon class=\"eav-icon\">more_time</mat-icon>\r\n            <span>Save state</span>\r\n          </button>\r\n          <button mat-button class=\"eav-button__with-icon\" (click)=\"resetApp(false)\">\r\n            <mat-icon class=\"eav-icon\">restore</mat-icon>\r\n            <span>Restore state</span>\r\n          </button>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"appStateAdvanced\">\r\n          <button mat-button class=\"eav-button__with-icon\" (click)=\"exportAppXml(true)\">\r\n            <mat-icon class=\"eav-icon\">more_time</mat-icon>\r\n            <span>Save with Assets</span>\r\n          </button>\r\n          <button mat-button class=\"eav-button__with-icon\" (click)=\"resetApp(true)\">\r\n            <mat-icon class=\"eav-icon\">restore</mat-icon>\r\n            <span>Restore with Assets</span>\r\n          </button>\r\n        </ng-container>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </div>\r\n</ng-container>\r\n","import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { ExportAppService } from '../services/export-app.service';\r\nimport { ImportAppPartsService } from '../services/import-app-parts.service';\r\n\r\n@Component({\r\n  selector: 'app-sync-configuration',\r\n  templateUrl: './sync-configuration.component.html',\r\n  styleUrls: ['./sync-configuration.component.scss'],\r\n})\r\nexport class SyncConfigurationComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @Input() dialogSettings: DialogSettings;\r\n\r\n  public appStateAdvanced = false;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private exportAppService: ExportAppService,\r\n    private importAppPartsService: ImportAppPartsService,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    super(router, route);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnDestroy() {\r\n    this.snackBar.dismiss();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  exportApp() {\r\n    this.router.navigate([`export`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  exportParts() {\r\n    this.router.navigate([`export/parts`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  importParts() {\r\n    this.router.navigate([`import/parts`], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  exportAppXml(withFiles: boolean) {\r\n    this.snackBar.open('Exporting...');\r\n    this.exportAppService.exportForVersionControl({ includeContentGroups: true, resetAppGuid: false, withFiles }).subscribe({\r\n      next: result => {\r\n        this.snackBar.open('Export completed into the \\'App_Data\\' folder.', null, { duration: 3000 });\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this.snackBar.open('Export failed. Please check console for more information', null, { duration: 3000 });\r\n      },\r\n    });\r\n  }\r\n\r\n  resetApp(withFiles: boolean) {\r\n    if (!confirm('Are you sure? All changes since last xml export will be lost')) { return; }\r\n    this.snackBar.open('Resetting...');\r\n    this.importAppPartsService.resetApp(withFiles).subscribe({\r\n      next: result => {\r\n        this.snackBar.open(\r\n          'Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct',\r\n          null,\r\n          { duration: 30000 },\r\n        );\r\n      },\r\n      error: (error: HttpErrorResponse) => {\r\n        this.snackBar.open('Reset failed. Please check console for more information', null, { duration: 3000 });\r\n      },\r\n    });\r\n  }\r\n}","<div class=\"eav-dialog nav-component-wrapper eav-no-scrollbar\" appToggleDebug *ngIf=\"viewModel$ | async as vm\">\r\n  <div class=\"eav-dialog-header\">\r\n    <div class=\"eav-dialog-header__title\">\r\n      <img class=\"eav-dialog-header__title__image\" *ngIf=\"vm.dialogSettings?.Context.App.Icon\" \r\n        [src]=\"vm.dialogSettings?.Context.App.Icon + '?w=40&h=40&mode=crop'\"/>\r\n      <ng-container *ngIf=\"vm.dialogSettings?.Context.App.SettingsScope === AppScopes.Global\">\r\n        Global\r\n      </ng-container>\r\n      <ng-container *ngIf=\"vm.dialogSettings?.Context.App.SettingsScope !== AppScopes.Global\">\r\n        {{ vm.dialogSettings?.Context.App.Name }}\r\n      </ng-container>\r\n      Admin\r\n    </div>\r\n    <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"eav-dialog-tab-content nav-component-wrapper\">\r\n    <router-outlet></router-outlet>\r\n    \r\n    <!-- spm NOTE: we use mat-tab-group because mat-tab-nav-bar doesn't have animations and doesn't look pretty -->\r\n    <mat-tab-group class=\"mat-mdc-tab-group-max-height\" dynamicHeight color=\"accent\"\r\n      *ngIf=\"vm.dialogSettings && vm.tabIndex != null\" (selectedTabChange)=\"changeTab($event)\"\r\n      [selectedIndex]=\"vm.tabIndex\">\r\n      <mat-tab>\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"App Info\">\r\n          <mat-icon>info</mat-icon>\r\n          <span>Info</span>\r\n        </div>\r\n        <app-getting-started *matTabContent [gettingStartedUrl]=\"vm.dialogSettings.Context.App.GettingStartedUrl\">\r\n        </app-getting-started>\r\n      </mat-tab>\r\n    \r\n      <mat-tab>\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"Data / Content\">\r\n          <mat-icon>menu</mat-icon>\r\n          <span>Data</span>\r\n        </div>\r\n        <app-data *matTabContent [enablePermissions]=\"vm.dialogSettings.Context.Enable.AppPermissions\"></app-data>\r\n      </mat-tab>\r\n    \r\n      <mat-tab *ngIf=\"vm.dialogSettings.Context.Enable.Query\">\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"Queries / Visual Query Designer\">\r\n          <mat-icon>filter_list</mat-icon>\r\n          <span>Queries</span>\r\n        </div>\r\n        <app-queries *matTabContent [enablePermissions]=\"vm.dialogSettings.Context.Enable.AppPermissions\">\r\n        </app-queries>\r\n      </mat-tab>\r\n    \r\n      <mat-tab>\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"Views / Templates\">\r\n          <mat-icon>layers</mat-icon>\r\n          <span>Views</span>\r\n        </div>\r\n        <app-views *matTabContent [enableCode]=\"vm.dialogSettings.Context.Enable.CodeEditor\"\r\n          [enablePermissions]=\"vm.dialogSettings.Context.Enable.AppPermissions\"\r\n          [appIsGlobal]=\"vm.dialogSettings.Context.App.IsShared\"\r\n          [appIsInherited]=\"vm.dialogSettings.Context.App.IsInherited\">\r\n        </app-views>\r\n      </mat-tab>\r\n    \r\n      <mat-tab *ngIf=\"vm.dialogSettings.Context.Enable.Query\">\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"WebApi\">\r\n          <mat-icon>offline_bolt</mat-icon>\r\n          <span>WebApi</span>\r\n        </div>\r\n        <app-web-api *matTabContent [enableCode]=\"vm.dialogSettings.Context.Enable.CodeEditor\">\r\n        </app-web-api>\r\n      </mat-tab>\r\n    \r\n      <mat-tab>\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"App Settings\">\r\n          <mat-icon>settings_applications</mat-icon>\r\n          <span>App</span>\r\n        </div>\r\n        <app-app-configuration *matTabContent [dialogSettings]=\"vm.dialogSettings\">\r\n        </app-app-configuration>\r\n      </mat-tab>\r\n    \r\n      <mat-tab>\r\n        <div *matTabLabel class=\"mat-mdc-tab-label-box\" tippy=\"App Export / Import\">\r\n          <mat-icon>sync</mat-icon>\r\n          <span>Sync</span>\r\n        </div>\r\n        <app-sync-configuration *matTabContent [dialogSettings]=\"vm.dialogSettings\">\r\n        </app-sync-configuration>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </div>\r\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTabChangeEvent } from '@angular/material/tabs';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, filter, map, startWith } from 'rxjs';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { eavConstants } from '../../shared/constants/eav.constants';\r\nimport { UpdateEnvVarsFromDialogSettings } from '../../shared/helpers/update-env-vars-from-dialog-settings.helper';\r\nimport { AppScopes } from '../../shared/models/dialog-context.models';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { AppDialogConfigService } from '../services/app-dialog-config.service';\r\n\r\n@Component({\r\n  selector: 'app-app-administration-nav',\r\n  templateUrl: './app-administration-nav.component.html',\r\n  styleUrls: ['./app-administration-nav.component.scss'],\r\n})\r\nexport class AppAdministrationNavComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  AppScopes = AppScopes;\r\n\r\n  private dialogSettings$ = new BehaviorSubject<DialogSettings>(undefined);\r\n  private tabs$ = new BehaviorSubject<string[]>(undefined);\r\n  private tabIndex$ = combineLatest([\r\n    this.tabs$,\r\n    this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      map(() => this.route.snapshot.firstChild.url[0].path),\r\n      startWith(this.route.snapshot.firstChild.url[0].path),\r\n    )\r\n  ]).pipe(\r\n    map(([tabs, path]) => {\r\n      if (tabs == null) { return; }\r\n      const tabIndex = tabs.indexOf(path);\r\n      return tabIndex;\r\n    }),\r\n    filter(tabIndex => tabIndex >= 0),\r\n  );\r\n  viewModel$ = combineLatest([this.dialogSettings$, this.tabIndex$]).pipe(\r\n    map(([dialogSettings, tabIndex]) => {\r\n      return { dialogSettings, tabIndex };\r\n    }),\r\n  );\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private dialogRef: MatDialogRef<AppAdministrationNavComponent>,\r\n    private appDialogConfigService: AppDialogConfigService,\r\n  ) { \r\n    super(router, route);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchDialogSettings();\r\n    this.subscription.add(this.refreshOnChildClosedDeep().subscribe(() => { this.fetchDialogSettings(); }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.dialogSettings$.complete();\r\n    this.tabs$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  changeTab(event: MatTabChangeEvent) {\r\n    let path = this.tabs$.value[event.index];\r\n    if (path === 'data') {\r\n      path = `data/${eavConstants.scopes.default.value}`;\r\n    }\r\n    this.router.navigate([path], { relativeTo: this.route });\r\n  }\r\n\r\n  private fetchDialogSettings() {\r\n    this.appDialogConfigService.getShared$()/*.getDialogSettings()*/.subscribe(dialogSettings => {\r\n      UpdateEnvVarsFromDialogSettings(dialogSettings.Context.App);\r\n      this.dialogSettings$.next(dialogSettings);\r\n\r\n      let tabs = ['home', 'data', 'queries', 'views', 'web-api', 'app', 'sync']; // tabs order has to match template\r\n      if (!dialogSettings.Context.Enable.Query) {\r\n        tabs = tabs.filter(tab => tab !== 'queries' && tab !== 'web-api');\r\n      }\r\n      this.tabs$.next(tabs);\r\n    });\r\n  }\r\n}\r\n","/**\r\n * Do not reuse regex:\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test#using_test_on_a_regex_with_the_global_flag\r\n */\r\nexport function guidRegex(): RegExp {\r\n  return /^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i;\r\n}\r\n"],"x_google_ignoreList":[]}
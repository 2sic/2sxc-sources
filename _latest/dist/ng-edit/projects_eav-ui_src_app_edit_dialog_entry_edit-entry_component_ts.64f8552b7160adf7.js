(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts"],{199:(G,ae,g)=>{"use strict";g.r(ae),g.d(ae,{EditEntryComponent:()=>V1});var e=g(7580),k=g(7941),T=g(852),m=(g(2256),g(9452)),N=g(591),I=g(3037),Y=g(9999),F=g(271),K=g(8537),Q=g(3176),M=g(4456),H=g(52),se=g(334);class be{static create(r){return{Value:r}}}class ie{static create(r,t){return{Value:r,Dimensions:t}}static convert(r){return Object.entries(r).map(([i,n])=>{const s=i.split(",").map(o=>be.create(o));return this.create(n,s)})}}class Ye{static convert(r,t){return{Values:ie.convert(r),Type:t}}}class Be{static convert(r){const t={};for(const[i,n]of Object.entries(r))for(const[s,o]of Object.entries(n))t[s]=Ye.convert(o,i);return t}static mergeSettings(r){if(null==r)return{};const t={};for(const i of r)if("@All"!==i.Type.Id)for(const[n,s]of Object.entries(i.Attributes)){const o={...s};t[n]=o}for(const i of r)if("@All"===i.Type.Id)for(const[n,s]of Object.entries(i.Attributes)){if(null!=t[n]&&""===s.Values[0].Value)continue;const u={...s};t[n]=u}return t}}class Ve{static convertOne(r){const t=Be.convert(r.Attributes),i=this.convertMany(r.Metadata);return{Attributes:t,Guid:r.Guid,Id:r.Id,Owner:r.Owner,Type:r.Type,Version:r.Version,For:r.For,Metadata:i}}static convertMany(r){return null==r?null:r.map(i=>Ve.convertOne(i))}}class Xe{static convert(r){return{Entity:Ve.convertOne(r.Entity),Header:r.Header}}}var me=g(3050);let y=(()=>{class a{constructor(t,i){this.zone=i,this.target="_blank",this.element=t.nativeElement}ngOnInit(){this.zone.runOutsideAngular(()=>{this.setAnchorTargets(),this.observer=new MutationObserver(t=>{this.setAnchorTargets()}),this.observer.observe(this.element,{attributes:!0,childList:!0,subtree:!0})})}ngOnDestroy(){this.zone.runOutsideAngular(()=>{this.observer.disconnect()})}setAnchorTargets(){if("a"===this.element.nodeName.toLocaleLowerCase()){const i=this.element;i.target!==this.target&&(i.target=this.target)}const t=this.element.getElementsByTagName("a");for(const i of Array.from(t))i.target!==this.target&&(i.target=this.target)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appChangeAnchorTarget",""]],standalone:!0})}return a})();var p=g(4175),h=g(3777);function v(a,r){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.NoAutoTranslatableFields")," "))}function c(a,r){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.ThisFieldIsNotAutoTranslatable")," "))}let d=(()=>{class a{constructor(t,i){this.dialogRef=t,this.dialogData=i}ngOnInit(){}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.CP),e.rXU(k.Vh))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-disabled-warning-dialog"]],standalone:!0,features:[e.aNF],decls:11,vars:8,consts:[["align","end"],["mat-button","","color","accent",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,v,3,3,"mat-card-subtitle")(6,c,3,3,"mat-card-subtitle"),e.k0s(),e.j41(7,"mat-card-actions",0)(8,"button",1),e.bIt("click",function(){return n.closeDialog()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"LangMenu.Dialog.CantAutoTranslate")," "),e.R7$(2),e.vxM(5,n.dialogData.isAutoTranslateAll?5:-1),e.R7$(),e.vxM(6,n.dialogData.isAutoTranslateAll?-1:6),e.R7$(3),e.JRh(e.bMT(10,6,"Features.Close")))},dependencies:[h.Hu,h.RN,h.YY,h.MM,h.Lc,h.dh,p.Hl,p.$z,T.h,T.D9]})}return a})();var f=g(9914);let w=(()=>{class a{constructor(){}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-warning-demo"]],standalone:!0,features:[e.aNF],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"snack-bar-warning-demo-white-hyperlink",3,"innerHTML"]],template:function(i,n){1&i&&(e.nrm(0,"h3",0),e.nI1(1,"translate"),e.nI1(2,"safeHtml"),e.nrm(3,"p",1),e.nI1(4,"translate"),e.nI1(5,"safeHtml")),2&i&&(e.Y8G("innerHTML",e.bMT(2,4,e.bMT(1,2,"LangMenu.SnackBar.Title")),e.npT),e.R7$(3),e.Y8G("innerHTML",e.bMT(5,8,e.bMT(4,6,"LangMenu.SnackBar.Body")),e.npT))},dependencies:[T.h,T.D9,f.$],styles:[".snack-bar-warning-demo-white-hyperlink a{color:#fff;text-decoration:underline}"]})}return a})();const C={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"};var x=g(7314);const L={NoTranslate:"NoTranslate",FromPrimary:"FromPrimary",FromOther:"FromOther",LinkReadOnly:"LinkReadOnly",LinkShared:"LinkShared"};var O=g(9868);function E(a,r,t,i,n){return t.filter(o=>o.NameId!==r.current).map(o=>{const u=n===C.LinkReadWrite&&!o.IsAllowed||!new x.U(i[a.fieldName],O.N.diffCurrent(r,o.NameId)).hasEditableValues;return{key:o.NameId,disabled:u}})}function X(a){switch(a){case C.Translate:return L.FromPrimary;case C.DontTranslate:return L.NoTranslate;case C.LinkReadOnly:return L.LinkReadOnly;case C.LinkReadWrite:return L.LinkShared;case C.LinkCopyFrom:return L.FromOther}}var P=g(3840),z=g(2913),V=g(316),re=g(2814),Ce=g(7699),U=g(5060),te=g(7092),_e=g(3617),de=g(4205),je=g(9539);let Ie=(()=>{class a{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,re.he)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,re.he)(t)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("aria-orientation",n.vertical?"vertical":"horizontal"),e.AVh("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return a})(),$e=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({imports:[U.yE,U.yE]})}return a})();var Me=g(2102),Pe=g(7989),W=g(4879),We=g(3900);const ot=["*"],wt='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',ut=["unscopedContent"],Je=["text"],et=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],kt=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],He=new e.nKC("ListOption");let Qe=(()=>{class a{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return a})(),xt=(()=>{class a{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return a})(),dn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return a})(),cn=(()=>{class a{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(He,8))};static#t=this.\u0275dir=e.FsC({type:a,hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())},standalone:!0})}return a})(),wa=(()=>{class a extends cn{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[e.Vt3]})}return a})(),un=(()=>{class a extends cn{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[e.Vt3]})}return a})();const bl=new e.nKC("MAT_LIST_CONFIG");let Wt=(()=>{class a{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,e.WQX)(bl,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,re.he)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,re.he)(t)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return a})(),ka=(()=>{class a{set lines(t){this._explicitLines=(0,re.OE)(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=(0,re.he)(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=(0,re.he)(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,n,s,o,l){this._elementRef=t,this._ngZone=i,this._listBase=n,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new te.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===l,n&&!n._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new U.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,_e.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;n.classList.toggle("mdc-list-item__primary-text",s),n.classList.toggle("mdc-list-item__secondary-text",!s)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Wt,8),e.rXU(Ce.OD),e.rXU(U.$E,8),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:a,contentQueries:function(i,n,s){if(1&i&&(e.wni(s,wa,4),e.wni(s,un,4)),2&i){let o;e.mGM(o=e.lsd())&&(n._avatars=o),e.mGM(o=e.lsd())&&(n._icons=o)}},hostVars:4,hostBindings:function(i,n){2&i&&(e.BMQ("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),e.AVh("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return a})(),tr=(()=>{class a extends Wt{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],standalone:!0,features:[e.Jv_([{provide:Wt,useExisting:a}]),e.Vt3,e.aNF],ngContentSelectors:ot,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}'],encapsulation:2,changeDetection:0})}return a})(),vl=(()=>{class a extends Wt{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[e.Jv_([{provide:Wt,useExisting:a}]),e.Vt3,e.aNF],ngContentSelectors:ot,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[wt],encapsulation:2,changeDetection:0})}return a})(),mn=(()=>{class a extends ka{get activated(){return this._activated}set activated(t){this._activated=(0,re.he)(t)}constructor(t,i,n,s,o,l){super(t,i,n,s,o,l),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Wt,8),e.rXU(Ce.OD),e.rXU(U.$E,8),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,s){if(1&i&&(e.wni(s,xt,5),e.wni(s,Qe,5),e.wni(s,dn,5)),2&i){let o;e.mGM(o=e.lsd())&&(n._lines=o),e.mGM(o=e.lsd())&&(n._titles=o),e.mGM(o=e.lsd())&&(n._meta=o)}},viewQuery:function(i,n){if(1&i&&(e.GBs(ut,5),e.GBs(Je,5)),2&i){let s;e.mGM(s=e.lsd())&&(n._unscopedContent=s.first),e.mGM(s=e.lsd())&&(n._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,n){2&i&&(e.BMQ("aria-current",n._getAriaCurrent()),e.AVh("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",0!==n._avatars.length)("mdc-list-item--with-leading-icon",0!==n._icons.length)("mdc-list-item--with-trailing-meta",0!==n._meta.length)("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:kt,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,n){if(1&i){const s=e.RV6();e.NAR(et),e.SdG(0),e.j41(1,"span",1),e.SdG(2,1),e.SdG(3,2),e.j41(4,"span",2,0),e.bIt("cdkObserveContent",function(){return e.eBV(s),e.Njj(n._updateItemLines(!0))}),e.SdG(6,3),e.k0s()(),e.SdG(7,4),e.SdG(8,5),e.nrm(9,"div",3)}},dependencies:[je.Wv],encapsulation:2,changeDetection:0})}return a})(),nr=(()=>{class a extends Wt{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[e.Jv_([{provide:Wt,useExisting:a}]),e.Vt3,e.aNF],ngContentSelectors:ot,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[wt],encapsulation:2,changeDetection:0})}return a})(),hn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({imports:[je.w5,V.MD,U.yE,U.pZ,U.O5,$e]})}return a})();var Cl=g(5469),mt=g(8136),Ot=g(4824),we=g(5437),Re=g(8265),pn=g(2093);class xa{static convertOne(r){const t=Ve.convertMany(r.Metadata),i=Be.mergeSettings(t);return{InputType:r.InputType,IsTitle:r.IsTitle,Metadata:t,Name:r.Name,Settings:i,Type:r.Type}}static convertMany(r){return null==r?[]:r.map(i=>xa.convertOne(i))}}class gn{static convertOne(r){const t=xa.convertMany(r.Attributes),i=Ve.convertMany(r.Metadata),n=Be.mergeSettings(i);return{Attributes:t,Description:r.Description,Id:r.Id,Metadata:i,Name:r.Name,Scope:r.Scope,Settings:n}}static convertMany(r){return null==r?null:r.map(i=>gn.convertOne(i))}}class ar{static getContentTypeNameId(r){return r.Entity.Type?.Id??r.Header.ContentTypeName}}var xi=g(6632),ee=g(4435);let ai=(()=>{class a extends xi.r{constructor(){super((0,ee.T)({ContentTypeService:a})),this.getId=t=>t.Id}addContentTypes(t){const i=gn.convertMany(t);this.addMany(i)}getContentTypeOfItem(t){const i=ar.getContentTypeNameId(t);return this.get(i)}getAttribute(t,i){return this.get(t).Attributes.find(n=>n.Name===i)}getAttributeOfItem(t,i){return this.getContentTypeOfItem(t).Attributes.find(n=>n.Name===i)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var $t=g(8021),fn=g(6953),sr=g(9274);class hi{constructor(){this.log=(0,ee.T)({FieldWriter:hi})}#e(r,t,i){const n={};if(0===Object.keys(r).length){const s={...i};return n[t]=s,n}for(const s of Object.keys(r))if(s===t){const o={...i};n[s]=o}else{const o={...r[s]};n[s]=o}if(null==r[t]){const s={...i};n[t]=s}return n}updateAttributesValues(r,t,i){const n=this.log.fn("updateAttributesValues",{allFields:r,updateValues:t,language:i}),s={};return Object.keys(r).forEach(o=>{const l=t[o];if(void 0!==l)if(new x.U(r[o],i).isEditableOrReadonlyTranslationExist()){const b={...r[o],Values:r[o].Values.map(S=>new sr.Y(S.Dimensions,i).hasCurrent?{...S,Value:l}:S)};s[o]=b}else{n.a("saveAttributeValues add values ",{newItemValue:l});const b=ie.create(l,[be.create(i.current)]);s[o]={...r[o],Values:[...r[o].Values,b]}}else s[o]={...r[o]}}),s}updateAttributeValue(r,t,i,n,s){let o={},l=n.current;s&&(l=`~${n.current}`);const u={...r[t],Values:r[t].Values.map(_=>new sr.Y(_.Dimensions,n).hasCurrent?{..._,Value:i,Dimensions:_.Dimensions.map(j=>j.Value===n.current||j.Value===`~${n.current}`||n.current===n.primary&&"*"===j.Value?{Value:l}:j)}:_)};return o=this.#e(r,t,u),o}addAttributeValue(r,t,i,n){let s={};const o=0!==Object.keys(r).length&&r[i]?{...r[i],Values:[...r[i].Values,t],Type:n}:{...r[i],Values:[t],Type:n};return s=this.#e(r,i,o),s}addAttributeDimension(r,t,i,n,s,o){let l={},u=i;o&&(u=`~${i}`);const _={...r[t],Values:r[t].Values.map(b=>b.Dimensions.find(j=>j.Value===n||n===s&&"*"===j.Value)?{...b,Dimensions:b.Dimensions.concat({Value:u})}:b)};return l=this.#e(r,t,_),l}removeAttributeDimension(r,t,i){const n=r,s=[i,`~${i}`],o=n[t].Values.find(_=>_.Dimensions.some(S=>s.includes(S.Value)));if(!o)return{...n};let l;return o.Dimensions.length>1?l={...n[t],Values:n[t].Values.map(_=>_.Dimensions.some(S=>s.includes(S.Value))?{..._,Dimensions:_.Dimensions.filter(S=>!s.includes(S.Value))}:_)}:1===o.Dimensions.length&&(l={...n[t],Values:n[t].Values.filter(_=>!_.Dimensions.some(S=>s.includes(S.Value)))}),this.#e(n,t,l)}}const Ml={all:!0,updateItemId:!1,updateItemHeader:!1,addItemAttributeValue:!1,updateItemAttributeValue:!1,setDefaultValue:!1,updateItemAttributesValues:!1,addItemAttributeDimension:!1,removeItemAttributeDimension:!1,updateItemMetadata:!1};class Ca{constructor(r){this.itemSvc=r,this.log=(0,ee.T)({ItemUpdateHelper:Ca},Ml)}updateItemId(r){this.log.fnIf("updateItemId",{saveResult:r});const i=Object.keys(r)[0],n=r[i],s=this.itemSvc.get(i);if(!s||0!==s.Header.EntityId&&0!==s.Entity.Id)return;const o={...s,Header:{...s.Header,EntityId:n},Entity:{...s.Entity,Id:n}};this.itemSvc.add(o)}updateItemHeader(r,t){const i=this.log.fnIf("updateItemHeader",{entityGuid:r,header:t}),n=this.itemSvc.get(r);if(!n)return;const s={...n,Header:{...t}};this.itemSvc.add(s),i.end()}addItemAttributeValue(r,t,i,n,s,o,l=!1,u){this.log.fnIf("addItemAttributeValue",{entityGuid:r,attributeKey:t,newValue:i,currentLanguage:n,isReadOnly:s,attributeType:o,isTransaction:l,transactionItem:u});const S=ie.create(i,[be.create(s?`~${n}`:n)]),j=u??this.itemSvc.get(r),J={...j,Entity:{...j.Entity,Attributes:(new hi).addAttributeValue(j.Entity.Attributes,S,t,o)}};return l||this.itemSvc.add(J),J}updateItemAttributeValue(r,t,i,n,s){this.log.fnIf("updateItemAttributeValue",{entityGuid:r,attributeKey:t,newValue:i,language:n,isReadOnly:s});const l=this.itemSvc.get(r);if(!l)return;const u={...l,Entity:{...l.Entity,Attributes:(new hi).updateAttributeValue(l.Entity.Attributes,t,i,n,s)}};this.itemSvc.add(u)}setDefaultValue(r,t,i,n,s,o){const l=this.log.fnIf("setDefaultValue",{item:r,ctAttribute:t,inputType:i,settings:n,languages:s,defaultLanguage:o},`Name: ${t.Name}`),u=new me.X3(t.Name,i?.Type,n,r.Header).getDefaultOrPrefillValue(),_=new x.U(r.Entity.Attributes[t.Name],o).currentOrDefault?.Value,b=0===s.length||i?.DisableI18n?"*":o;return void 0===_?this.addItemAttributeValue(r.Entity.Guid,t.Name,u,b,!1,t.Type):this.updateItemAttributeValue(r.Entity.Guid,t.Name,u,{current:b,primary:o},!1),l.r(u)}updateItemAttributesValues(r,t,i){const n=this.log.fnIf("updateItemAttributesValues",{entityGuid:r,newValues:t,language:i}),s=this.itemSvc.get(r);if(!s)return n.end("Item not found");const o=new me.bT(i),l={},u=Object.entries(s.Entity.Attributes).filter(([j])=>t.hasOwnProperty(j));for(const[j,J]of u)l[j]=o.getBestValue(J);const _=fn.$.getItemValuesChanges(l,t);if(null==_)return n.end("No changes");const b=(new hi).updateAttributesValues(s.Entity.Attributes,_,i),S={...s,Entity:{...s.Entity,Attributes:b}};this.itemSvc.add(S)}addItemAttributeDimension(r,t,i,n,s,o,l){this.log.fnIf("addItemAttributeDimension",{entityGuid:r,attributeKey:t,currentLanguage:i,shareWithLanguage:n,defaultLanguage:s,isReadOnly:o,transactionItem:l});const _=l??this.itemSvc.get(r),b={..._,Entity:{..._.Entity,Attributes:(new hi).addAttributeDimension(_.Entity.Attributes,t,i,n,s,o)}};this.itemSvc.add(b)}removeItemAttributeDimension(r,t,i,n=!1,s){const o=this.log.fnIf("removeItemAttributeDimension",{entityGuid:r,attributeKey:t,currentLanguage:i,isTransaction:n,transactionItem:s}),l=s??this.itemSvc.get(r),u={...l,Entity:{...l.Entity,Attributes:(new hi).removeAttributeDimension(l.Entity.Attributes,t,i)}};return n||this.itemSvc.add(u),o.r(u)}updateItemMetadata(r,t){const i=this.log.fnIf("updateItemMetadata",{entityGuid:r,metadata:t}),n=this.itemSvc.get(r),s={...n,Entity:{...n.Entity,Metadata:t}};this.itemSvc.add(s),i.end("ok",{newItem:s})}}var si=g(8503),Dl=g(9964);let lt=(()=>{class a extends Dl.k{constructor(){super((0,ee.T)({ItemService:a})),this.getId=t=>t.Entity.Guid,this.updater=new Ca(this),this.#e=new si.K("itemAttributes"),this.#t=new si.K("itemHeader"),this.#i=new si.K("slotIsEmpty")}loadItems(t){const i=t.map(n=>Xe.convert(n));this.addMany(i)}itemAttributesSignal(t){const i=this.log.fn("itemAttributes",{entityGuid:t}),n=this.#e.getOrCreate(t,()=>this.getSignal(t)()?.Entity.Attributes);return i.r(n)}#e;getItemAttributes(t){const i=this.log.fn("getItemAttributes",{entityGuid:t}),n=this.get(t)?.Entity.Attributes;return i.r(n)}getItemAttributes$(t){return this.list$.pipe((0,F.T)(i=>i.find(n=>n.Entity.Guid===t)?.Entity.Attributes),(0,$t.J)(i=>i))}getItemHeader(t){return this.get(t)?.Header}getItemHeader$(t){return this.list$.pipe((0,F.T)(i=>i.find(n=>n.Entity.Guid===t)?.Header),(0,$t.A)(i=>i))}getItemHeaderSignal(t){return this.#t.getOrCreate(t,()=>this.getSignal(t)()?.Header)}#t;slotIsEmpty(t){return this.#i.getOrCreate(t,()=>{const i=this.getSignal(t)()?.Header;return null==i||i.IsEmptyAllowed&&i.IsEmpty})}#i;getItemFor(t){return this.get(t)?.Entity.For}getItemNote(t){return this.get(t)?.Entity.Metadata?.find(i=>i.Type.Name===H.YX.contentTypes.notes)}static#n=this.\u0275fac=function(i){return new(i||a)};static#a=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var jt=g(5797),oe=g(4202),ht=g(1612);class _n{constructor(r){this.defaultIsShow=!0,this.fields=null,this.log=(0,ee.T)({ItemFieldVisibility:_n});const t=this.log.fn("ctor",{identifier:r});var i=r.ClientData?.fields;if(null==i||""==i)return void t.end("no fields specified");this.defaultIsShow="-"==i[0],this.defaultIsShow&&(i=i.substring(1));const n=!this.defaultIsShow;this.fields=i.toLowerCase().split(",").reduce((s,o)=>(s[o]=n,s),{}),t.end("",{fields:this.fields,defaultIsShow:this.defaultIsShow})}hasRules(){return null!=this.fields}isVisibleDisabled(r){const t=this.log.fn("isVisibleDisabled",{fieldName:r});if(!this.hasRules())return t.r(!1,"no rules");const i=this.fields[r.toLowerCase()];return t.r(!(i??this.defaultIsShow))}static mergedVisible(r){return r.Visible&&!r.VisibleDisabled}makeParentGroupsVisible(r){const t=this.log.fn("makeParentGroupsVisible",{allConstFieldParts:r});if(!this.hasRules())return t.r(r,"no rules, no changes");try{r.forEach((i,n)=>{if(ht.Q.isGroupStart(i.inputTypeSpecs.inputType)&&0!=i.settingsInitial.VisibleDisabled)for(let s=n+1;s<r.length;s++){const o=r[s];if(ht.Q.endsPreviousGroup(o.inputTypeSpecs.inputType))return;if(0==o.settingsInitial.VisibleDisabled)return t.a("Forced visible",{fieldName:i.fieldName,reason:o.fieldName}),void(i.settingsInitial.VisibleDisabled=!1)}})}catch(i){console.error("Error trying to set item field visibility",i)}return r}}function rr(a,r,t){const i=(0,ee.T)({correctStringEmptyValue:rr},null),n="string"==typeof a?or(a,r,t):a??[],s=n.map(o=>({noEdit:!0,noDelete:!0,id:null,label:t?.find(u=>u.Value==o)?.Title??o,tooltip:`${o}`,value:o}));return i.a("correctStringEmptyValue",{fieldValue:a,separator:r,dropdownOptions:t,valueAsArray:n,result:s}),s}function or(a,r,t){return""==a&&t?.some(i=>""==i.Value)?[""]:""!=a&&a?Array.isArray(a)?a:a.split(r):[]}class Ma{static isRequired(r){return!this.#u(r)&&r.Required}static getValidators(r,t){const i=[t!==oe.u.HyperlinkLibrary?this.#t(r):this.#i(r),this.#n(r),this.#a(r),this.#s(r),this.#r(r),this.#o(r),this.#l(r),this.#c(r)];return t===oe.u.CustomJsonEditor&&i.push(this.#d(r)),i}static ensureWarning(r){null==r._warning$&&(r._warning$=new jt.t(null))}static#e(r,t){this.ensureWarning(r);const i=t.settings();return this.#u(i)?null:i}static#t(r){return t=>{const i=this.#e(t,r);return null!=i&&i.valueRequired?M.k0.required(t):null}}static#i(r){return t=>{const i=this.#e(t,r);return null!=i&&i.valueRequired&&0===t.adamItems?{required:!0}:null}}static#n(r){return t=>{const i=this.#e(t,r);return null!=i&&i.ValidationRegExJavaScript?M.k0.pattern(i.ValidationRegExJavaScript)(t):null}}static#a(r){return t=>{const i=this.#e(t,r);if(null==i?.Decimals||i.Decimals<0||null==t.value)return null;const n=0===i.Decimals?"^-?[0-9]+$":`^-?[0-9]+(.[0-9]{1,${i.Decimals}})?$`;return t.value.toString().match(n)?null:{decimals:!0}}}static#s(r){return t=>{const i=this.#e(t,r);return null==i?.Min?null:M.k0.min(i.Min)(t)}}static#r(r){return t=>{const i=this.#e(t,r);return null==i?.Max?null:M.k0.max(i.Max)(t)}}static#o(r){return t=>{const i=this.#e(t,r);return null==i||0==i.AllowMultiMin||null==i.AllowMultiMin?null:lr(t,i)<i.AllowMultiMin?{minNoItems:i.AllowMultiMin}:null}}static#l(r){return t=>{const i=this.#e(t,r);return null==i||0==i.AllowMultiMax||null==i.AllowMultiMax?null:lr(t,i)>i.AllowMultiMax?{maxNoItems:i.AllowMultiMax}:null}}static#d(r){return t=>{this.ensureWarning(t);const i=r.settings();let n,s;const o=i.JsonValidation;if(this.#u(i)||"none"===o||!t.value)n=!1,s=!1;else try{JSON.parse(t.value),n=!1,s=!1}catch{"strict"===o?(n=!0,s=!1):"light"===o&&(n=!1,s=!0)}return t._warning$.next(s?{jsonWarning:!0}:null),n?{jsonError:!0}:null}}static#c(r){return t=>{this.ensureWarning(t);const n=r.fieldsSettingsService.fieldProps[r.fieldName]().formulaValidation,{error:s,warning:o}=this.#u(r.settings())||null==n?{error:!1,warning:!1}:"error"===n.severity?{error:!0,warning:!1}:"warning"===n.severity?{error:!1,warning:!0}:{error:!1,warning:!1};return t._warning$.next(o?{formulaWarning:!0,formulaMessage:n.message}:null),s?{formulaError:!0,formulaMessage:n.message}:null}}static#u(r){return!_n.mergedVisible(r)}}function lr(a,r){return Array.isArray(a.value)?a.value.length:or(a.value,r.Separator,r._options).length}class Sl{constructor(r,t,i,n){this.fieldName=r,this.inputType=t,this.settings=i,this.fieldsSettingsService=n}}const Fl={correctSettingsAfterChanges:!0,schemaDisablesTranslation:!0,getDisabledBecauseTranslations:!0};class Da{constructor(r,t,i,n,s){this.contentTypeMetadata=r,this.language=t,this.fieldLogicTools=i,this.formReadOnly=n,this.slotIsEmpty=s,this.log=(0,ee.T)({FieldSettingsUpdateHelperFactory:Da})}create(r,t,i){return new Ta(this.contentTypeMetadata,this.language,this.fieldLogicTools,this.formReadOnly,this.slotIsEmpty,r,t,i)}}class Ta{constructor(r,t,i,n,s,o,l,u){this.contentTypeMetadata=r,this.language=t,this.fieldLogicTools=i,this.formReadOnly=n,this.formSlotIsEmpty=s,this.attribute=o,this.constantFieldPart=l,this.attributeValues=u,this.log=(0,ee.T)({FieldSettingsUpdateHelper:Ta},Fl)}correctSettingsAfterChanges(r,t){this.log.fnIf("correctSettingsAfterChanges");const n=this.constantFieldPart,s=this.formSlotIsEmpty();r.Name=r.Name||this.attribute.Name,r.valueRequired=Ma.isRequired(r);const o=this.#e();return r.DisableTranslation=s||o,r.uiDisabledInThisLanguage=this.#t(r.DisableTranslation),r.uiDisabledForced=s||r.uiDisabledInThisLanguage||this.formReadOnly,r.uiDisabled=r.uiDisabledForced||r.Disabled,r.DisableAutoTranslation=n.settingsInitial.DisableAutoTranslation||r.DisableTranslation,n.logic?.update({settings:r,value:t,tools:this.fieldLogicTools})??r}#e(){this.log.fnIf("schemaDisablesTranslation");const t=this.contentTypeMetadata,i=this.constantFieldPart.inputTypeConfiguration,n=this.attributeValues,s=this.attribute.Metadata;if(t.find(l=>"LanguagesDecorator"===l.Type.Name)?.Attributes.Enabled?.Values.some(l=>!1===l.Value)||i?.DisableI18n||!new x.U(n,this.language).hasPrimary)return!0;for(const l of s??[])if(l.Attributes.DisableTranslation?.Values.some(u=>!0===u.Value))return!0;return!1}#t(r){const t=this.log.fnIf("getDisabledBecauseTranslations"),i=this.attributeValues,n=this.language;if(n.current===n.primary)return t.r(!1,"enabled, primary language");const s=new x.U(i,n);return r?t.r(!0,"disabled, disableTranslation"):s.hasPrimary?s.hasEditableValues?t.r(!1,"disabled, has editable value"):t.r(!0,s.hasCurrentReadonly?"enabled, has readonly value":"enabled, no rule applies"):t.r(!0,"disabled, no value on primary")}}class Al{constructor(r){this.entityGuid=r,this.data={}}}const Ht="Field.Settings.",Gi={Disabled:`${Ht}Disabled`,Name:`${Ht}Name`,Notes:`${Ht}Notes`,Required:`${Ht}Required`,Value:"Field.Value",Visible:`${Ht}Visible`,Validation:"Field.Validation"},Il=Object.values(Gi),ri={Options:"Field.Options",Selected:"Field.Selected"},El=Object.values(ri),cr=[ri.Options,ri.Selected],Ol=[ri.Options,ri.Selected],bn={Collapsed:`${Ht}Collapsed`,DropdownValues:`${Ht}DropdownValues`},Ll=Object.values(bn),Pl={...Gi,...bn,...ri};var ti=g(2434);class vn{static keepSettingIfTypeOk(r,t,i,n){return vn.keepSettingIfTypeOkAndStatus(r,t,i,n).settingsNew}static keepSettingIfTypeOkAndStatus(r,t,i,n){const s=r.substring(15),o=t[s];return(0,ti.A)(o,i)?{settingsNew:n,wasChanged:!1}:Array.isArray(o)&&Array.isArray(i)||typeof o==typeof i?(n[s]=i,{settingsNew:n,wasChanged:!0}):{settingsNew:n,wasChanged:!1}}}var ur=g(1726),Jt=g(6740);const Rl={all:!1,v1:!1,v2:!1,allValues:!0,oneValue:!0,fields:[...Jt.z]};class yn{constructor(r,t,i,n,s){this.fieldName=r,this.isValue=t,this.inputType=i,this.isOpen=n,this.valueMapper=s,this.log=(0,ee.T)({FormulaValueCorrections:yn},Rl,!0)}v1(r){const t=r&&Array.isArray(r)&&r.every(s=>"string"==typeof s);if(!(["string","number","boolean"].includes(typeof r)||r instanceof Date||t)&&r)return{ok:!1,v1Result:this.toFormulaResult(void 0)};const n=this.isValue?this.#e(r):r;return{ok:!0,v1Result:this.toFormulaResult(n)}}v2(r){return{...this.allValues(r),openInDesigner:this.isOpen}}allValues(r){const t=this.log.fnIfInList("allValues","fields",this.fieldName,{result:r}),i={value:void 0,fields:[],stop:null,sleep:null};if(null==r)return t.r({...i,value:r},"null/empty");const n=this.isValue;if(Array.isArray(r))return console.warn("Formula result was an array - this is not allowed. Please return an object containing the array instead: { value: [...] }.",r),t.r(i,"array");if("object"==typeof r){if(r instanceof Date&&n)return t.r({...i,value:this.#e(r)},"date");if(r instanceof Promise)return t.r({...i,value:void 0,promise:r},"promise");const o=r;return o.stop??=null,o.sleep??=null,o.value&&n&&(o.value=Array.isArray(o.value)?this.valueMapper?.toState(o.value)??o.value:this.#e(o.value)),o.fields&&(o.fields=o.fields?.map(l=>(l.value=this.#e(l.value),l))),o.options&&(Array.isArray(o.options)?o.options.length>0&&(o.options.find(l=>!l||null==l.value)&&(console.error("some options are missing value",o.options),o.options=[]),function Vl(a){var r=a.map(i=>i.value),t=new Set(r);return r.length!==t.size&&(console.error("Duplicate values in options",a),!0)}(o.options)&&(console.error("duplicate values in options",o.options),o.options=[])):(console.error("options is not an array",o.options),o.options=[])),t.r(o,"object")}const s={value:r};return n?t.r({...i,value:this.#e(s.value)},"non-object, value"):t.r(s,"non-object, non-value")}#e(r){if(null==r)return r;const t=this.inputType.inputType;if(t===oe.u.DateTimeDefault||r instanceof Date){const i=new Date(r);return!("string"==typeof r&&r.endsWith("Z"))&&i.getTime()!==r&&i.setTime(i.getTime()-6e4*i.getTimezoneOffset()),i.setMilliseconds(0),i.toJSON()}return"string"!=typeof r&&(t?.startsWith(ur.O.String.toLocaleLowerCase())||t?.startsWith(ur.O.Hyperlink.toLocaleLowerCase()))?r.toString():r}toFormulaResult(r){return{value:r,fields:[],stop:null,sleep:null,openInDesigner:this.isOpen}}}const Yl={all:!1,handleFormulaPromise:!0,defineCallbackHandlerIfMissing:!1,changesFromQueue:!1,promiseComplete:!0,filterFormulasIfSleeping:!0,fields:[...Jt.z]};let jl=(()=>{class a{constructor(t){this.itemService=t,this.log=(0,ee.T)({FormulaPromiseHandler:a},Yl),this.#e={},this.#t=null}#e;init(t,i,n,s){this.#i=t,this.#t=n,this.#n=i,this.#a=s}#t;#i;#n;#a;addFormulaPromise(t,i){const n=this.log.fnIfInList("handleFormulaPromise","fields",t.fieldName,{promiseResult:i,formula:t},t.target),s=i.promise instanceof Promise;if(!s)return;i.openInDesigner&&null===i.stop&&console.log("FYI: formula returned a promise. This automatically stops this formula from running again. If you want it to continue running, return stop: false");const o=i.sleep??!1;t.promises$.next({promise:i.promise,sleep:o,completed:!1}),this.#s(t);const l=i.stop??(!!s||t.stop);n.a(`\u{1f9ea}\u23f9\ufe0f formula.stop: ${t.stop}; raw.stop: ${i.stop}; containsPromise: ${s}; newStop: ${l}; sleep: ${o}`),t.stop=l}filterFormulas(t,i){const n=this.log.fnIfInList("filterFormulasIfSleeping","fields",t,{enabled:i}),s=i.filter(l=>{const u=l.promises$.value;return n.a(`hasPromise: ${!!u}; completed: ${u?.completed}; sleep: ${u?.sleep}`),!u||u.completed||!u.sleep});return n.rSilent(s,`\u{1f9ea}\u{1f4ca} beforeFilter: ${i.length}; formulas: ${s.length}; `)}#s(t){const i=this.#i,n=this.log.fnIfInList("defineCallbackHandlerIfMissing","fields",t.fieldName,{formula:t,entityGuid:i},t.target);if(t.updateCallback$.value)return n.end("callback already defined");t.updateCallback$.next(s=>{this.#r(t,s)})}#r(t,i){const n=this.#i,s=this.log.fnIfInList("promiseComplete","fields",t.fieldName,{result:i,formula:t,entityGuid:n},t.target),o=t.fieldName,l=new yn(o,t.isValue,t.inputType,!1).v2(i),u=this.#e,_=u[n]??=new Al(n),b=_.data[o]??={name:o,value:t.isValue?l.value:void 0,fields:[],settings:{}};t.isSetting&&(s.a("formula promise settings"),b.settings??={},b.settings[t.settingName]=l.value),l.fields&&(s.a("formula promise fields"),b.fields.push(...l.fields)),t.stop=l.stop??t.stop,t.promiseCompleted=!0,s.end("promise complete, will retriggerFormulas",b),this.#t.retriggerFormulas("promise")}changesFromQueue(t){const i=this.#e[this.#i];if(this.#e[this.#i]=null,null==i||null==i.data||0===Object.keys(i.data).length)return{valueChanges:{},newFieldProps:null};const n=Object.entries(i.data),o=n.map(([j,J])=>({name:j,value:J.value})).reduce((j,{name:J,value:ue})=>(j[J]=ue,j),{}),l=n.filter(([j,J])=>J.fields.length>0).map(([j,J])=>J.fields).flat(),u=n.filter(([j,J])=>Object.keys(J.settings).length>0).map(([j,J])=>({fieldName:j,settings:J.settings})),_=0!==Object.keys(o).length||0!==l.length?this.#a.getValueUpdates(t,l,o):{},b=this.#n();let S=null;if(u.length){S={...t.fieldProps};const j=this.itemService.getItemAttributes(this.#i);Object.values(u).forEach(J=>{const ue=J.fieldName,ve=t.fieldProps[ue]?.settings;let ke={};Object.entries(J.settings).forEach(([xe,Ne])=>{ke=vn.keepSettingIfTypeOk(Ht+xe,ve,Ne,ke);const yt=t.getFieldConstants(ue),Yt=b.Attributes.find(_a=>_a.Name===ue),St=t.updateHelper.create(Yt,yt,j[ue]),ei={...ve,...ke},fa=St.correctSettingsAfterChanges(ei,t.values[ue]);S[ue]={...S[ue],settings:fa}})})}return{valueChanges:_,newFieldProps:S}}static#o=this.\u0275fac=function(i){return new(i||a)(e.KVO(lt))};static#l=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Nl=(()=>{class a{constructor(t,i){this.itemService=t,this.contentTypeService=i}getTargetOptions(t,i){const n=[];if(null==t.entityGuid||null==t.fieldName)return n;const s=i.filter(b=>b.entityGuid===t.entityGuid&&b.fieldName===t.fieldName);for(const b of Object.values(Gi)){const S={hasFormula:s.some(j=>j.target===b),label:b.substring(b.lastIndexOf(".")+1),target:b};n.push(S)}const o=this.itemService.get(t.entityGuid),u=this.contentTypeService.getAttributeOfItem(o,t.fieldName).InputType;if(ht.Q.isGroupStart(u))for(const b of[bn.Collapsed]){const S={hasFormula:s.some(j=>j.target===b),label:b.substring(b.lastIndexOf(".")+1),target:b};n.push(S)}if(ht.Q.isOldValuePicker(u))for(const b of[bn.DropdownValues]){const S={hasFormula:s.some(j=>j.target===b),label:b.substring(b.lastIndexOf(".")+1),target:b};n.push(S)}if(ht.Q.isNewPicker(u))for(const b of Object.values(ri)){const S={hasFormula:s.some(j=>j.target===b),label:"Picker "+b.substring(b.lastIndexOf(".")+1),target:b};n.push(S)}for(const b of s){if(n.some(J=>J.target===b.target))continue;const j={hasFormula:!0,label:b.target.substring(b.target.lastIndexOf(".")+1),target:b.target};n.push(j)}if(!n.some(b=>b.target===t.target)){const b={hasFormula:s.some(S=>S.target===t.target),label:t.target.substring(t.target.lastIndexOf(".")+1),target:t.target};n.push(b)}return n}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(lt),e.KVO(ai))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const wn="function ",Nt={V1:"v1",V2:"v2"};class Gl{#e;#t;#i;#n;constructor(r){this.#e=r,this.#t=r.runParameters,this.#n=this.#t.pickerHelper.infos,this.#i=this.#t.pickerHelper.infos.mapper}get default(){const{formula:r}=this.#t;return r.isValue?this.#r(this.#t.defaultValueHelper().getDefaultOrPrefillValue()):r.isSetting?this.#t.settingsInitial[r.settingName]:r.isNewPicker?this.#n.options.list:void 0}get initial(){const r=this.#t.formula;return r.isValue?this.#r(this.#e.initialFormValues[r.fieldName]):null}get parameters(){return this.#e.parameters.all()}get prefill(){const{formula:r}=this.#t;return r.isValue?this.#r(this.#t.defaultValueHelper().getDefaultOrPrefillValue(!0)):null}get value(){const r=this.#t.formula;return r.isValue?this.#r(this.#t.currentValues[r.fieldName]):r.isSetting?this.#t.settingsCurrent[r.settingName]:r.isValidation?{severity:"",message:""}:void 0}get selected(){return this.#a("list")}get selectedRaw(){return this.#a("listRaw")}#a(r){const t=this.#n.selected[r];return this.#n.picker.selectedCopy(t)}get options(){return this.#s("list")}get optionsRaw(){return this.#s("listRaw")}#s(r){return this.#n.options[r]}#r(r){return this.#i?.toUi(r)??r}}class $l{constructor(r,t){const i=r.runParameters.formula;this.cache=i.cache,this.debug=r.debugEnabled,this.sxc=i.sxc,this.user=i.user;const{getSetting:n,...s}=r.runParameters.formula.app;this.app=Object.assign(new Wl(r),s),this.target=new Jl(r);const o=r.language,l=r.languages;this.culture={code:o.current,name:l.find(u=>u.NameId===o.current)?.Culture},this.features=new Ul(r),this.form=new Xl(r),this.entities=new Hl(r),this.xp=t}}class Hl{constructor(r){this.specs=r}getAll(){return this.specs.itemService.getMany(this.specs.formConfig.config.itemGuids).map(t=>({guid:t.Entity.Guid,id:t.Entity.Id,type:{guid:t.Entity.Type.Id,name:t.Entity.Type.Name}}))}getOfType(r){return this.getAll().find(t=>t.type.guid==r||t.type.name==r)}}class Ul{constructor(r){this.specs=r}isEnabled(r){return this.specs.features().find(t=>t.nameId===r)?.isEnabled??!1}}class Xl{constructor(r){this.specs=r}runFormulas(){if(this.specs.runParameters.formula.version===Nt.V1)return console.error("form.runFormulas() is being deprecated and will stop working end of 2024. Use V2 formulas and return the promise. Formulas will auto-run when it completes."),void this.specs.fieldsSettingsSvc.retriggerFormulas("form.runFormulas()");console.error("form.runFormulas() is not supported in V2 formulas. Just return a promise.")}}class Wl{#e;constructor(r){this.#e=r}getSetting(r){return this.#e.runParameters.formula.version===Nt.V1?(console.warn("app.getSetting() is not available in v1 formulas, please use v2."),"\u26a0\ufe0f error - see console"):this.#e.formConfig.config.settings.Values[r]??(console.warn(`Error: Setting '${r}' not found. Did you configure it in the ContentType to be included? See https://go.2sxc.org/formulas`),"\u26a0\ufe0f error - see console")}}class Jl{#e;constructor(r){this.#e=r;const t=r.runParameters.formula;this.entity=t.targetEntity;const i=t.isValue||t.isValidation;this.name=i?t.fieldName:t.target.substring(t.target.lastIndexOf(".")+1),this.type=i?t.target:t.target.substring(0,t.target.lastIndexOf("."))}}class Kl{constructor(r){this.specs=r}getEntities(){return this.#e("getEntities"),this.specs.itemService.getMany(this.specs.formConfig.config.itemGuids).map(t=>({guid:t.Entity.Guid,id:t.Entity.Id,type:{guid:t.Entity.Type.Id,name:t.Entity.Type.Name}}))}getSettings(r){return this.#e("getSettings"),this.specs.fieldsSettingsSvc.settings[r]()}getValues(r){this.#e("getValues");const t=this.specs.itemService.get(r);return new me.bT(this.specs.language).currentValues(t.Entity.Attributes)}#e(r){const t='A formula in this dialog is using an experimental feature: "{0}" - this will be removed soon.'.replace("{0}",r);console.error(t),!this.specs.warningsObsolete[r]&&(this.specs.warningsObsolete[r]=!0,alert(t))}}var Qt=g(9074),zt=g(3347);let kn=(()=>{class a{constructor(t){this.snackBar=t,this.logs$=new jt.t([]),this.logLimit=50,this.lastSnackBarTime=0,this.snackBarDebounce=1e4}ngOnDestroy(){this.logs$.complete()}addLog(t,i,n){const l=[{error:n,label:i,severity:t,time:Date.now()},...this.logs$.value.slice(0,this.logLimit-2)];this.logs$.next(l)}showMessage(t,i,n){const s=Date.now();!n&&s-this.lastSnackBarTime<=this.snackBarDebounce||(null!=i&&i>0?this.snackBar.open(t,null,{duration:i}):this.snackBar.open(t),this.lastSnackBarTime=s)}getLogs$(){return this.logs$.asObservable()}getLogsSignal(){return(0,Qt.ot)(this.logs$)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(zt.UG))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const pi={Error:"error",Log:"log",Warn:"warn"};class Zl{constructor(r,t,i,n,s,o){this.designerSvc=r,this.translate=t,this.logSvc=i,this.formula=n,this.ctTitle=s,this.formulaProps=o,this.isOpen=!1,this.isOpen=this.#e(n)}showStart(){if(!this.isOpen)return;const r=this.formula;console.log(`Running formula${r.version?.toLocaleUpperCase()} for Entity: "${this.ctTitle}", Field: "${r.fieldName}", Target: "${r.target}", arguments:`,this.formulaProps)}showResult(r,t,i){this.designerSvc.cache.cacheResults(this.formula,r,!1,!1),this.isOpen&&console.log("Formula result:",r)}showError(r){const t=this.formula,i=`Error in formula calculation for Entity: "${this.ctTitle}", Field: "${t.fieldName}", Target: "${t.target}"`;this.designerSvc.cache.cacheResults(t,void 0,!0,!1),this.logSvc.addLog(pi.Error,i,r),this.isOpen?console.error(i,r):this.logSvc.showMessage(this.translate.instant("Errors.FormulaCalculation"),2e3)}#e(r){return(0,e.O8t)(()=>{const t=this.designerSvc.designerState();return t.isOpen&&t.entityGuid===r.entityGuid&&t.fieldName===r.fieldName&&t.target===r.target})}}class ql{constructor(r,t,i,n){this.designerSvc=r,this.translate=t,this.logSvc=i,this.ctTitle=n}getPartsFor(r){const t=r.runParameters.formula,i=this.#e(r),n=new Zl(this.designerSvc,this.translate,this.logSvc,t,this.ctTitle,i);return{formula:t,fieldName:t.fieldName,params:i,title:this.ctTitle,devHelper:n,valHelper:new yn(t.fieldName,t.isValue,t.inputType,n.isOpen,r.runParameters.pickerHelper.infos.mapper)}}#e(r){const{formula:t,currentValues:i}=r.runParameters;switch(t.version){case Nt.V1:case Nt.V2:const n=Object.assign(new Gl(r),i),s=new Kl(r);return{data:n,context:new $l(r,s),experimental:s};default:throw new Error("Formula version unknown not supported")}}}class Sa{constructor(r){this.prefill=r}all(){return this.#e||(this.#e=this.prefill?JSON.parse(JSON.stringify(this.prefill)):{}),this.#e}#e}class mr{static buildDesignerSnippetsContext(r){if(r.version===Nt.V1)return["app.appId","app.zoneId","app.isGlobal","app.isSite","app.isContent","cache.ChangeThis","culture.code","culture.name","debug","features.isEnabled('nameId')","form.runFormulas()","sxc.ChangeThis","target.entity.id","target.entity.guid","target.name","target.type","user.id","user.isAnonymous","user.isSiteAdmin","user.isSystemAdmin"].map(i=>{const n=`context.${i}`;return{code:n,label:n}})}static getSnippets(r,t,i){if(r.version===Nt.V1){const n=new Sa(i).all;return["value","default","prefill","initial",...t.map(o=>o.fieldName),"parameters.ChangeThis",...Object.keys(n).map(o=>`parameters.${o}`)].map(o=>{const l=`data.${o}`;return{code:l,label:l}})}}}var $=g(7993),Ct=g(1567),ed=g(6647),td=g(4600);class xn{static#e(r){if(!r)return r;let t=r.trim();return t.startsWith("//")&&(t=t.replace(/^\/\/.*\n/gm,"").trim()),t.startsWith(Nt.V1)?`${wn}${t}`:t.startsWith(`${wn}${Nt.V1}`)?t:t.startsWith("v2(")?(t=t.substring(3,t.lastIndexOf("}")+1),t=t.replace("=>",""),`${wn}v2 ${t}`):t}static findFormulaVersion(r){const t=this.#e(r),i=t.substring(9,t.indexOf("(")).trim();return Object.values(Nt).includes(i)?i:void 0}static buildFormulaFunction(r){const t=this.#e(r);return new Function(`return ${t}`)()}}var Ci=g(4979),Mt=g(4831);let Cn=(()=>{class a extends xi.r{constructor(){super((0,Mt.T)({ContentTypeItemService:a})),this.getId=t=>t.Guid}addContentTypeItems(t){const i=Ve.convertMany(t);this.addMany(i)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Mi=(()=>{class a extends xi.r{constructor(){super((0,ee.T)({InputTypeService:a},null)),this.getId=t=>t.Type}getAttributeInputTypes(t){const i=this.getAll();return t.map(n=>{const s=this.getSpecsInternal(n,i);return{name:n.Name,inputType:s.inputType}})}getSpecs(t){return this.getSpecsInternal(t,this.getAll())}getSpecsInternal(t,i){const n=i.find(l=>l.Type===t.InputType),s=t.InputType;return{inputType:s,isExternal:!!n?.AngularAssets,isString:s.toString().startsWith("string"),componentTagName:`field-${s}`,componentTagDialogName:`field-${s}-dialog`,metadata:n,isNewPicker:ht.Q.isNewPicker(s)}}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class Te{get log(){return this.#e??=(0,ee.T)({FieldLogicBase:Te}).extendName(`[${this.name}]`)}#e;constructor(r,t){this.canAutoTranslate=!1,this.name&&(this.#e=(0,ee.T)(r??{FieldLogicBase:Te},null,t),this.name??=this.#e.name,this.log.a(`constructor for ${r}`))}static add(r){const t=new r;Bt.singleton().add(t)}static importMe(){}isValueEmpty(r,t){const i=this.log.fn("isValueEmpty",{value:r,isCreateMode:t}),n=Array.isArray(r)&&0===r.length&&t;return i.r(void 0===r||n)}findAndMergeAdvanced(r,t,i){if(!t)return i;const n=r.eavConfig.settings.Entities.find(o=>o.Guid===t);if(!n)return i;const s=r.reader.flatten(n);return{...i,...s}}}class Fa extends Te{constructor(){super({UnknownLogic:Fa}),this.name=oe.u.Unknown,this.canAutoTranslate=!1}update({settings:r}){return r}}class Bt{constructor(){this.logics={},this.add(new Fa)}static singleton(){return window.eavFieldLogicManager??=new Bt}add(r){this.logics[r.name]=r}get(r){return this.logics[r]??null}getOrUnknown(r){return this.get(r)??this.get(oe.u.Unknown)}}class $i{static getTranslationStateClass(r){switch(r){case C.MissingDefaultLangValue:return"localization-missing-default-lang-value";case C.Translate:case C.LinkCopyFrom:return"localization-translate";case C.DontTranslate:return"";case C.LinkReadOnly:return"localization-link-read-only";case C.LinkReadWrite:return"localization-link-read-write";default:return""}}static calculateSharedInfoMessage(r,t){r=$i.calculateShortDimensions(r,t);const i=$i.calculateEditAndReadDimensions(r),n=i.editableDimensions,s=i.readOnlyDimensions;let o="";const l=n.length>0,u=s.length>0;return l&&u?o=`${n.join(", ")}, (${s.join(", ")})`:l?o=n.join(", "):u&&(o=`(${s.join(", ")})`),o}static calculateShortDimensions(r,t){const i={},n=t.slice(0,t.indexOf("-"));return i[n]=[n],r.forEach(s=>{const l=s.slice(0,s.indexOf("-")).replace("~","");i[l]?i[l].push(s):i[l]=[s]}),r.map(s=>{const o=s.slice(0,s.indexOf("-")),l=o.replace("~","");return i[l].length>1?s:o})}static calculateEditAndReadDimensions(r){return{editableDimensions:[],readOnlyDimensions:r.map(t=>t.replace("~",""))}}}class Di{constructor(r){this.log=(0,ee.T)({FieldsSettingsHelpers:Di})}getDefaultSettings(r){const t=id.moveDeprecatedSettings({...r});t.Name??="",t.Placeholder??="",t.Notes??="",t.Required??=!1,t.Disabled??=!1,t.DisableTranslation??=!1,t.Visible??=!0,null!=t.DefaultCollapsed&&(t.Collapsed=t.DefaultCollapsed,delete t.DefaultCollapsed),t.Formulas??=[];let i=Bt.singleton().get(r.InputType);return t.DisableAutoTranslation??=!i?.canAutoTranslate,t}isLastInGroup(r,t){const i=r.Attributes.indexOf(t);return null==r.Attributes[i+1]||!(i<r.Attributes.findIndex(s=>ht.Q.isGroupStart(s.InputType))||!ht.Q.isGroupEnd(t.InputType)&&!ht.Q.endsPreviousGroup(r.Attributes[i+1].InputType))}getDisabledBecauseTranslations(r,t,i){const n=new x.U(r,i);return!(i.current===i.primary||n.hasPrimary&&!t&&n.hasEditableValues)}getTranslationState(r,t,i,n){let s,o;n&&this.log.fn("getTranslationState",{attributeValues:r,disableTranslation:t,language:i});const l=new x.U(r,i);if(t)s="LangMenu.InAllLanguages",o="";else if(l.hasPrimary){const b=l.hasEditableValues,S=l.hasCurrentReadonly;if(b||S){const j=l.current.Dimensions.map(ue=>ue.Value).filter(ue=>!ue.includes(i.current));j.length>0?(b?s="LangMenu.In":S&&(s="LangMenu.From"),o=$i.calculateSharedInfoMessage(j,i.current)):(s="",o="")}else s="LangMenu.UseDefault",o=""}else s="LangMenu.MissingDefaultLangValue",o=i.primary;const u=this.#e(r,t,i);return{infoLabel:s,infoMessage:o,language:u.language,linkType:u.linkType}}#e(r,t,i){const n=new x.U(r,i);if(!n.hasPrimary)return{language:"",linkType:C.MissingDefaultLangValue};if(t)return{language:"",linkType:C.DontTranslate};if(n.hasEditableValues){const s=n.current.Dimensions.filter(o=>o.Value!==i.current);return s.length>0?{language:s[0].Value,linkType:C.LinkReadWrite}:{language:"",linkType:C.Translate}}return n.hasCurrentReadonly?{language:n.current.Dimensions.filter(o=>o.Value!==i.current)[0].Value,linkType:C.LinkReadOnly}:{language:"",linkType:C.DontTranslate}}}class id{static moveDeprecatedSettings(r){var t=r;return null==t.VisibleInEditUI||(r.Visible=t.VisibleInEditUI,delete t.VisibleInEditUI),r}}const nd={all:!1,buildFormulaCache:!1,updateFormulaFromEditor:!1,createPromisedParts:!1,getSharedParts:!1};let ad=(()=>{class a extends Ci.V{constructor(t,i,n,s,o,l,u){super(),this.formConfig=t,this.itemService=i,this.contentTypeService=n,this.contentTypeItemService=s,this.loggingService=o,this.translate=l,this.inputTypes=u,this.log=(0,ee.T)({FormulaCacheBuilder:a},nd),this.#n={}}buildFormulaCache(t){const i=this.log.fnIf("buildFormulaCache"),n=[],s=this.formConfig.language(),o=new me.bT(s),l=new Di(this.log.name);for(const u of this.formConfig.config.itemGuids){const _=this.itemService.get(u),b=this.#i(u,_),S=this.contentTypeService.getContentTypeOfItem(_);for(const j of S.Attributes){const J=l.getDefaultSettings(o.flattenAll(j.Metadata)),ue=this.inputTypes.getSpecs(j),ve=this.contentTypeItemService.getMany(J.Formulas).filter(ke=>o.getBestValue(ke.Attributes.Enabled));for(const ke of ve){const xe=o.getBestValue(ke.Attributes.Formula);if(!xe)continue;const Ne=o.getBestValue(ke.Attributes.Target);let Ge;try{Ge=xn.buildFormulaFunction(xe)}catch(Yt){t.cacheResults({entityGuid:u,fieldName:j.Name,target:Ne},void 0,!0,!1);const St=me.im.getTitle(S,s);this.loggingService.addLog(pi.Error,`Error building formula for Entity: "${St}", Field: "${j.Name}", Target: "${Ne}"`,Yt),this.loggingService.showMessage(this.translate.instant("Errors.FormulaConfiguration"),2e3)}const yt={cache:{},entityGuid:u,fieldName:j.Name,fn:Ge?.bind({}),isDraft:null==Ge,sourceCode:xe,sourceCodeSaved:xe,sourceCodeGuid:ke.Guid,sourceCodeId:ke.Id,target:Ne,...this.#e(Ne,ue),version:xn.findFormulaVersion(xe),...b,stop:!1,sleep:!1,fieldIsSpecialPicker:cr.includes(Ne),...this.#a(),...this.#t(Ne)};n.push(yt)}}}return i.r(n)}#e(t,i){return{inputType:i,isNewPicker:i.isNewPicker,disabled:!1,disabledReason:""}}#t(t){return t.startsWith(Ht)?{isSetting:!0,settingName:t.substring(15),isValue:!1,isValidation:!1}:{isSetting:!1,settingName:"",isValue:t===Gi.Value,isValidation:t===Gi.Validation}}#i(t,i=null){if(this.log.fnIf("getSharedParts",{item:i,entityGuid:t}),this.#n[t])return this.#n[t];const n=(i=i??this.itemService.get(t)).Entity,s=n.For,l=this.formConfig.config,u=l.dialogContext.User??{},_={targetEntity:{guid:n.Guid,id:n.Id,type:{guid:n.Type.Id,name:n.Type.Name},for:{targetType:s?.TargetType??0,guid:s?.Guid,number:s?.Number,string:s?.String}},user:{email:u.Email,guid:u.Guid,id:u.Id,isAnonymous:u.IsAnonymous,isSiteAdmin:u.IsSiteAdmin,isContentAdmin:u.IsContentAdmin,isSystemAdmin:u.IsSystemAdmin,name:u.Name,username:u.Username},app:{appId:l.appId,zoneId:l.zoneId,isGlobal:l.dialogContext.App.IsGlobalApp,isSite:l.dialogContext.App.IsSiteApp,isContent:l.dialogContext.App.IsContentApp,getSetting:b=>{}},sxc:window.$2sxc({zoneId:l.zoneId,appId:l.appId,pageId:l.tabId,moduleId:l.moduleId,_noContextInHttpHeaders:!0,_autoAppIdsInUrl:!0})};return this.#n[t]=_,_}#n;#a(){this.log.fnIf("createPromisedParts");const t=new jt.t(null),i=new jt.t(null),n=t.pipe((0,Ct.p)(s=>!!s),(0,ed.n)(s=>(0,td.H)(s.promise).pipe((0,F.T)(o=>({set:s,result:o})))));return this.subscriptions.add((0,Y.z)([n,i.pipe((0,Ct.p)(s=>!!s))]).subscribe(([s,o])=>(s.set.completed=!0,s.set.sleep=!1,o(s.result)))),{promises$:t,updateCallback$:i}}updateFormulaFromEditor(t,i,n,s){let o;if(this.log.fnIf("updateFormulaFromEditor",{id:i,sourceCode:n,run:s}),s)try{o=xn.buildFormulaFunction(n)}catch(Ne){t.cacheResults(i,void 0,!0,!1);const Ge=this.itemService.get(i.entityGuid),yt=this.contentTypeService.getContentTypeOfItem(Ge),Yt=this.formConfig.language(),ei=`Error building formula for Entity: "${me.im.getTitle(yt,Yt)}", Field: "${i.fieldName}", Target: "${i.target}"`;this.loggingService.addLog(pi.Error,ei,Ne),console.error(ei,Ne)}const l=this.itemService.get(i.entityGuid),u=this.contentTypeService.getAttributeOfItem(l,i.fieldName),_=this.inputTypes.getSpecs(u),{list:b,index:S,value:j}=t.formulaListIndexAndOriginal(i),J=j??{},ue=this.#i(i.entityGuid),ve=J.promises$&&J.updateCallback$?{promises$:j.promises$,updateCallback$:j.updateCallback$}:this.#a(),ke={...i,cache:J.cache??{},fn:o?.bind({}),isDraft:!s||null==o,sourceCode:n,sourceCodeSaved:J.sourceCodeSaved,sourceCodeGuid:J.sourceCodeGuid,sourceCodeId:J.sourceCodeId,version:xn.findFormulaVersion(n),...this.#e(i.target,_),...ue,stop:!1,sleep:!1,fieldIsSpecialPicker:cr.includes(i.target),...ve,...this.#t(i.target)};return S>=0?[...b.slice(0,S),ke,...b.slice(S+1)]:[ke,...b]}static#s=this.\u0275fac=function(i){return new(i||a)(e.KVO(Re.S),e.KVO(lt),e.KVO(ai),e.KVO(Cn),e.KVO(kn),e.KVO(T.c$),e.KVO(Mi))};static#r=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const sd={all:!0,getActive:!0,fields:[...Jt.z]};let rd=(()=>{class a{#e;constructor(){this.log=(0,ee.T)({FormulaCacheService:a},sd,!1),this.#e=(0,we.d)(ad),this.formulas=(0,$.KX)("formulas",[]),this.#t=(0,$.KX)("formula-results",[])}#t;init(){const t=this.#e.buildFormulaCache(this);this.formulas.set(t)}#i(t,i,n,s){return this.formulas().filter(o=>(!t||o.entityGuid===t)&&(!i||o.fieldName===i)&&(!n||n?.find(l=>o.target==l))&&(!!s||!o.isDraft))}getActive(t,i,n){const s=this.log.fnIfInList("getActive","fields",i,()=>({name:i,forNewPicker:n,formulas:this.formulas()})),o=Il.concat(n?El:Ll),l=this.#i(t,i,o,!1),u=l.filter(_=>!_.stop);return s.r(u,`all: ${l.length}, unstopped: ${u.length}`)}formulaListIndexAndOriginal(t){const i=this.formulas(),n=i.findIndex(o=>o.entityGuid===t.entityGuid&&o.fieldName===t.fieldName&&o.target===t.target);return{list:i,index:n,value:i[n]}}updateSaved(t,i,n){const{list:s,index:o,value:l}=this.formulaListIndexAndOriginal(t);if(null==l)return;const u={...l,sourceCodeSaved:t.sourceCode,sourceCodeGuid:i,sourceCodeId:n},_=[...s.slice(0,o),u,...s.slice(o+1)];this.formulas.set(_)}updateFormulaFromEditor(t,i,n){const s=this.#e.updateFormulaFromEditor(this,t,i,n);this.formulas.set(s)}delete(t){const{list:i,index:n}=this.formulaListIndexAndOriginal(t);if(n<0)return;const s=[...i.slice(0,n),...i.slice(n+1)];this.formulas.set(s)}resetFormula(t){this.#n(t);const i=this.formulaListIndexAndOriginal(t).value?.sourceCodeSaved;null!=i?this.updateFormulaFromEditor(t,i,!0):this.delete(t)}cacheResults(t,i,n,s){const o={entityGuid:t.entityGuid,fieldName:t.fieldName,target:t.target,value:i,isError:n,isOnlyPromise:s},l=this.log.fn("cacheResults",{newResult:o});(0,e.O8t)(()=>{const{list:u,index:_}=this.resultListIndexAndOriginal(t),b=_>=0?[...u.slice(0,_),o,...u.slice(_+1)]:[o,...u];l.a("set results",{list:u,index:_,newResults:b}),this.#t.set(b)}),l.end("ok")}resultListIndexAndOriginal(t){const i=this.#t(),n=i.findIndex(o=>o.entityGuid===t.entityGuid&&o.fieldName===t.fieldName&&o.target===t.target);return{list:i,index:n,value:i[n]}}#n(t){const{list:i,index:n}=this.resultListIndexAndOriginal(t);if(n<0)return;const s=[...i.slice(0,n),...i.slice(n+1)];this.#t.set(s)}static#a=this.\u0275fac=function(i){return new(i||a)};static#s=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class ld{static getTypings(r,t,i){if(r.version===Nt.V2){const n=new Sa(i).all,s=t.map(u=>`${u.fieldName}: ${this.#e(u.inputType)};`).join("\n"),o=Object.keys(n).map(u=>`${u}: any;`).join("\n");return"/*\r\n  This is a special file which is not compiled as a normal TypeScript.\r\n  Instead it's loaded as raw text, to hand over to Monaco.\r\n  It ensures that v2 functions have intellisense.\r\n\r\n  TIP: To edit this file, briefly rename it to ...raw.ts, then back to ...rawts\r\n       This will make VSCode load it as a normal TypeScript file, so you can edit it.\r\n\r\n  - Try to keep in sync with the real code in the 2sxc project.\r\n  - The comments are _documentation_ for the user, so they can see what's available\r\n  - If you need any \"internal\" comments, use // instead\r\n  - Note that the [inject:...] comments are replaced by the build process\r\n*/\r\n\r\n/**\r\n * The data object is the main object for figuring out what the field or setting contained and what other fields currently store.\r\n * It has properties such as `.value` etc.\r\n * Just start typing to see the intellisense.\r\n */\r\n// Note that the type must be explicitly like `string | boolean | number | string[]`\r\n// Otherwise it won't show the details to the user\r\ndeclare interface FormulaData {\r\n  /**\r\n   * The value of the current field/setting when the formula runs.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  value: string | boolean | number | string[];\r\n  /**\r\n   * The _default_ value of the current field/setting as defined in the field settings.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  default: string | boolean | number | string[];\r\n  /**\r\n   * A prefill value that was passed into the form when it was loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  prefill: string | boolean | number | string[];\r\n  /**\r\n   * The value of the current field/setting when the form initially loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  initial: string | boolean | number | string[];\r\n  /* [inject:AllFields] */\r\n  /**\r\n   * All parameters which were passed to the form when it was loaded\r\n   *\r\n   * _It's exact type depends on the parameter, but it's usually a string._\r\n   */\r\n  parameters: {\r\n    /* [inject:AllParameters] */\r\n  };\r\n}\r\n\r\ndeclare interface FormulaContext {\r\n  /**\r\n   * Information about the current App\r\n   */\r\n  app: {\r\n    /** The current App ID */\r\n    appId: number;\r\n    /** The current Zone ID */\r\n    zoneId: number;\r\n    /** Determines if the current App is the global App */\r\n    isGlobal: boolean;\r\n    /** Determines if the current App is the primary (main) App on the site */\r\n    isSite: boolean;\r\n    /** Determines if the current App is a content App */\r\n    isContent: boolean;\r\n    /**\r\n     * Retrieve a setting like an App setting.\r\n     * You need the full path like `Settings.ShowCategories`.\r\n     * \r\n     * Important: For security reasons formulas will only get settings which where configured in the ContentType for use in Formulas.\r\n     */\r\n    getSetting(settingPath: string): string;\r\n  };\r\n  /**\r\n   * Cache for this formula. You can store any data here and it will be available in the next run.\r\n   */\r\n  cache: Record<string, any>;\r\n  /**\r\n   * Information about the current language\r\n   */\r\n  culture: {\r\n    code: string;\r\n    name: string;\r\n  };\r\n  debug: boolean;\r\n  /**\r\n   * API to detect what features are currently enabled/available\r\n   */\r\n  features: {\r\n    // /**\r\n    //  * Get internal information about a feature if it's available. This is rarely used.\r\n    //  * @param nameId The name of the feature, eg. `PasteImageFromClipboard`\r\n    //  */\r\n    // get(nameId: string): Record<string, any>;\r\n    /** Find out if the feature is enabled. Eg. `...isEnabled('PasteImageFromClipboard')` */\r\n    isEnabled(nameId: string): boolean;\r\n  };\r\n  /**\r\n   * Work with the current form\r\n   */\r\n  form: {\r\n    // v16 Deprecated for v2\r\n    // /** Re-trigger all formulas. Usually used inside promises when they complete. */\r\n    // runFormulas(): void;\r\n  };\r\n  /**\r\n   * The standard sxc object for the current App.\r\n   * It's the same as the sxc-instance in the page.\r\n   *\r\n   * You can use it to make API calls to the server.\r\n   */\r\n  sxc: {\r\n    /** The module ID */\r\n    id: number;\r\n    /** The Content-Block ID - matches the module ID unless it's an inner-content block inside another module */\r\n    cbid: number;\r\n    /** The sxc WebAPI object. Check the docs: https://docs.2sxc.org/api/js/SxcWebApi.html */\r\n    webApi: {\r\n      /**\r\n       * Get data from a url and return the json-object\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchJson<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n      /**\r\n       * Get data from a url and return the response (not a nice object)\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchRaw<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n    };\r\n    // turn off for now v16.00 - confusing\r\n    // [key: string]: any;\r\n  };\r\n  /**\r\n   * Information about the item this formula targets.\r\n   */\r\n  target: {\r\n    /** The entity the current formula affects */\r\n    entity: {\r\n      /** The entity ID */\r\n      id: number;\r\n      /** The entity GUID */\r\n      guid: string;\r\n      /** Metadata For information */\r\n      for: {\r\n        /** The target type like `4` (Entity). `0` if it's not metadata  */\r\n        targetType: number;\r\n        /** The int-key if it uses number keys, otherwise null */\r\n        number?: number;\r\n        /** The string-key if it uses string keys, otherwise null */\r\n        string?: string;\r\n        /** The GUID-key if it uses GUIDs, otherwise null */\r\n        guid?: string;\r\n      }\r\n    };\r\n    name: string;\r\n    /** The entity type name */\r\n    type: string;\r\n  };\r\n  /**\r\n   * Information about the current user\r\n   */\r\n  user: {\r\n    /** The current user ID */\r\n    id: number;\r\n    /** Check if the current user is anonymous eg. not logged in */\r\n    isAnonymous: boolean;\r\n    /** Check if the current user is a content admin */\r\n    isContentAdmin: boolean;\r\n    /** Check if the current user is a site admin */\r\n    isSiteAdmin: boolean;\r\n    /** Check if the current user is a system admin */\r\n    isSystemAdmin: boolean;\r\n    /** current user e-mail */\r\n    email: string;\r\n    /** The user GUID */\r\n    guid: string;\r\n    /** the name usually shown in greetings */\r\n    name: string;\r\n    /** The user name used for login */\r\n    username: string;\r\n  };\r\n}\r\n\r\n// /**\r\n//  * Test docs\r\n//  * @param data The data object\r\n//  */\r\n// declare function callbackV2(data: FormulaData): string | string[];\r\n\r\n// /**\r\n//  * test docs 3\r\n//  * @param callback The real code of the formula\r\n//  */\r\n// declare function v3(callback: typeof callbackV2);\r\n\r\n/**\r\n * This `v2` wrapper is required for the intellisense to work.\r\n * @param callback The real code of the formula\r\n * @returns A string, boolean, number, date or an advanced object\r\n */\r\ndeclare function v2(\r\n  // The main function - adding comments here does not show up, so we don't have them ATM\r\n  callback: (\r\n    data: FormulaData,\r\n    context: FormulaContext,\r\n  ) => string | boolean | number | Date | {\r\n    value?: string | boolean | number | Date | { severity: 'warning' | 'error', message: string },\r\n    fields?: {\r\n      name: string,\r\n      value: string | boolean | number | Date\r\n    }[],\r\n    promise?: Promise<any>,\r\n    stop?: boolean,\r\n  },\r\n): void;\r\n".replace("/* [inject:AllFields] */",s).replace("/* [inject:AllParameters] */",o)}}static#e(r){const t=r.toLowerCase();return t.startsWith("string")?"string":t.startsWith("number")?"number":t.startsWith("date")?"Date":t.startsWith("boolean")?"boolean":"any"}}const dd={all:!1,constructor:!1,setDesignerOpen:!1};let Hi=(()=>{class a{#e;constructor(t){this.itemService=t,this.log=(0,ee.T)({FormulaDesignerService:a},dd),this.cache=(0,we.d)(rd),this.#e=(0,we.d)(Nl),this.itemSettingsServices={},this.designerState=(0,$.KX)("designerState",{editMode:!1,entityGuid:void 0,fieldName:void 0,isOpen:!1,target:void 0}),this.formulaResult=(0,$.bo)("formulaResult",()=>{const i=this.designerState();return this.cache.resultListIndexAndOriginal(i).value}),this.currentTargetOptions=(0,$.bo)("currentTargetOptions",()=>{const i=this.designerState(),n=this.cache.formulas();return this.#e.getTargetOptions(i,n)}),this.entityOptions=(0,$.bo)("entityOptions",()=>{const i=this.cache.formulas();return Object.entries(this.itemSettingsServices).map(([n,s])=>{const o=i.filter(l=>l.entityGuid===n);return{entityGuid:n,formulas:o,hasFormula:o.length>0,label:s.contentTypeSettings()._itemTitle}})}),this.fieldsOptions=(0,$.bo)("fieldsOptions",()=>{const i=this.designerState().entityGuid;if(null==i)return[];const n=this.entityOptions().find(u=>u.entityGuid==i).formulas,o=this.itemSettingsServices[i].allProps();return Object.keys(o).map(u=>{const _=n.filter(b=>b.fieldName===u);return{fieldName:u,formulas:_,hasFormula:_.length>0,inputType:o[u].settings.InputType,label:u}})}),this.currentFormula=(0,$.bo)("currentFormula",()=>{const i=this.designerState(),{value:n}=this.cache.formulaListIndexAndOriginal(i);return n}),this.v1ContextSnippets=(0,$.bo)("v1ContextSnippets",()=>{const i=this.currentFormula();return null!=i?mr.buildDesignerSnippetsContext(i):[]}),this.#t=(0,$.bo)("currentItemHeader",()=>{const i=this.designerState().entityGuid;return null==i?null:this.itemService.getItemHeader(i)}),this.v2JsTypings=(0,$.bo)("v2JsTypings",()=>{const i=this.currentFormula(),n=this.#t();return null!=i&&null!=n?ld.getTypings(i,this.fieldsOptions(),n.Prefill):""}),this.v1DataSnippets=(0,$.bo)("v1DataSnippets",()=>{const i=this.currentFormula(),n=this.#t();return null!=i&&null!=n?mr.getSnippets(i,this.fieldsOptions(),n.Prefill):[]}),this.log.fnIf("constructor")}initAfterItemSettingsAreReady(){const t=this.designerState(),[i,n]=Object.entries(this.itemSettingsServices)[0],s=n.allProps(),o=Object.keys(s)[0],u={...t,entityGuid:i,fieldName:o,target:null!=o?Pl.Value:null};this.designerState.set(u)}#t;setDesignerOpen(t){this.log.fnIf("setDesignerOpen",{isOpen:t}),this.designerState.set({...this.designerState(),isOpen:t})}static#i=this.\u0275fac=function(i){return new(i||a)(e.KVO(lt))};static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var Ui=g(9431),cd=g(1477),hr=g(3216),Mn=g(8764),pr=g(8873),Aa=g(6443),Dn=g(4821);const hd={all:!1,fetchFormData:!1,saveFormData:!1},gr="cms/edit/";let Ia=(()=>{class a{constructor(t,i,n,s){this.http=t,this.dnnContext=i,this.context=n,this.globalConfigService=s,this.log=(0,ee.T)({FormDataService:a},hd)}fetchFormData(t){return this.log.fnIf("fetchFormData",{items:t,context:this.context}),this.http.post(this.dnnContext.$2sxc.http.apiUrl(gr+"load"),t,{params:{appId:this.context.appId}}).pipe((0,F.T)(i=>(i.Context.Language.List=i.Context.Language.List.filter(n=>n.IsEnabled),i)),(0,Mn.M)(i=>{this.globalConfigService.allowDebug(i.Context.Enable.DebugMode)}))}saveFormData(t,i){return this.log.fnIf("saveFormData",{result:t,partOfPage:i}),this.http.post(this.dnnContext.$2sxc.http.apiUrl(gr+"save"),t,{params:{appId:this.context.appId,partOfPage:i}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(Aa.Qq),e.KVO(Dn.ob),e.KVO(pr.o),e.KVO(Ui.B))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Tn=(()=>{class a extends xi.r{constructor(){super((0,ee.T)({AdamCacheService:a})),this.getId=t=>t.Guid}loadPrefetch(t){if(null==t)return;const i=Object.entries(t).map(([n,s])=>({Guid:n,Attributes:s}));this.addMany(i)}getAdamSnapshot(t,i){return this.cache()[t]?.Attributes[i]}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Ti={Show:"show",Hide:"hide",Branch:"branch"};let Sn=(()=>{class a extends xi.r{constructor(){super((0,ee.T)({FormPublishingService:a})),this.getId=t=>t.formId,this.#e=new si.K("publishMode")}setPublishMode(t,i,n){null==n.config.versioningOptions[t]&&(t=Object.keys(n.config.versioningOptions)[0]),this.add({formId:i,DraftShouldBranch:t===Ti.Branch,IsPublished:t===Ti.Show})}getPublishMode(t){return this.#e.getOrCreate(t,()=>this.toPublishMode(this.get(t)))}#e;toPublishMode(t){return t.DraftShouldBranch?Ti.Branch:t.IsPublished?Ti.Show:Ti.Hide}static#t=this.\u0275fac=function(i){return new(i||a)};static#i=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var gi=g(9977);let fi=(()=>{class a extends xi.r{constructor(){super((0,ee.T)({LinkCacheService:a})),this.getId=t=>t.key.trim().toLocaleLowerCase()}addPrefetch(t,i){const n=t?Object.entries(t).map(([o,l])=>({key:o,...l})):[],s=null!=i?Object.entries(i).flatMap(([o,l])=>Object.entries(l).flatMap(([u,_])=>this.adamToLinks(_))):[];this.addMany([...n,...s])}addAdam(t){this.addMany(this.adamToLinks(t))}addLink(t,i){const n={key:t=t.trim().toLocaleLowerCase(),...i,Adam:{...i.Adam}};this.add(n)}adamToLinks(t){return t.filter(i=>!i.IsFolder).map(i=>({key:i.ReferenceId,Adam:{...i},Value:i.Url}))}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var fr=g(2159);const pd={all:!1,fetchFormData:!1,importLoadedData:!1,keepInitialValues:!1,initMissingValues:!1};let Ea=(()=>{class a{constructor(t,i,n,s,o,l,u,_,b,S,j,J,ue,ve){this.route=t,this.formConfig=i,this.itemService=n,this.inputTypeService=s,this.contentTypeItemService=o,this.contentTypeService=l,this.publishStatusService=u,this.translate=_,this.languageService=b,this.languageStore=S,this.snackBar=j,this.adamCacheService=J,this.linkCacheService=ue,this.featuresService=ve,this.log=(0,ee.T)({EditInitializerService:a},pd),this.loaded=(0,e.vPA)(!1),this.formDataService=(0,we.d)(Ia),this.initialFormValues={}}fetchFormData(){const t=this.log.fnIf("fetchFormData"),i=(0,hr.K)(this.route.snapshot.params.items),n={...i,items:i.items.map((o,l)=>({...o,clientId:l}))};t.a("fetchFormData",n);const s=JSON.stringify(n.items);this.formDataService.fetchFormData(s).subscribe(o=>{const l={...o,Items:o.Items.map(u=>{const _=n.items.find(b=>b.clientId===u.Header.clientId);return t.a("fetchFormData - remix",{item:u,originalItem:_}),null==_?u:{...u,Header:{...u.Header,Prefill:_.Prefill,ClientData:_.ClientData}}})};t.a("fetchFormData - after remix",{formData:l}),this.featuresService.load(l.Context),(0,cd.W)(l.Context.App),this.#e(l),this.#t(),this.initMissingValues(),this.loaded.set(!0)})}#e(t){this.log.fnIf("importLoadedData");const n=Math.floor(99999*Math.random()),s=function ud(a){let r=0;for(const t of a.snapshot.pathFromRoot)if(!(t.url.length<=0))for(const i of t.url)"edit"===i.path&&r++;return 1===r}(this.route),o=t.Items.map(ve=>ve.Entity.Guid);this.itemService.loadItems(t.Items),this.inputTypeService.addMany(t.InputTypes),this.contentTypeItemService.addContentTypeItems(t.ContentTypeItems),this.contentTypeService.addContentTypes(t.ContentTypes),this.adamCacheService.loadPrefetch(t.Prefetch?.Adam),this.linkCacheService.addPrefetch(t.Prefetch?.Links,t.Prefetch?.Adam);const l=this.itemService.getMany(o),u=0===l[0].Entity.Id,_=null!=l[0].Header.DuplicateEntity,b=!u&&!1!==this.route.snapshot.data.history,S={...t.Settings,Entities:Ve.convertMany(t.Settings.Entities),ContentTypes:gn.convertMany(t.Settings.ContentTypes)};this.formConfig.initFormConfig(t.Context,n,s,o,u,_,b,S);var j=t.Context.Language;const J=j.Current.split("-")[0];if(this.translate.use(J),s){const ve=function md(a,r){if(0===r.length)return r;let t;const i=[],n=[];for(const o of r)o.NameId===a?t=o:o.NameId.startsWith(a.split("-")[0])?i.push(o):n.push(o);return i.sort((o,l)=>o.NameId.localeCompare(l.NameId)),n.sort((o,l)=>o.NameId.localeCompare(l.NameId)),t?[t,...i,...n]:[...i,...n]}(j.Primary,j.List);this.languageService.addMany(ve)}this.languageStore.addForm(n,j.Primary,j.Current,!1);const ue=this.publishStatusService.toPublishMode(t);this.publishStatusService.setPublishMode(ue,n,this.formConfig)}#t(){this.log.fnIf("keepInitialValues");const i=this.itemService.getMany(this.formConfig.config.itemGuids),n=this.languageService.getAll().map(o=>o.NameId),s=this.formConfig.language();n.includes(s.current)||n.push(s.current),n.includes(s.primary)||n.push(s.primary);for(const o of i)for(const l of n){const u=new me.bT(l,s.primary).currentValues(o.Entity.Attributes);this.initialFormValues[this.initialValuesCacheKey(o.Entity.Guid,l)]=u}}initialValuesCacheKey(t,i){return`entityGuid:${t}:language:${i}`}getInitialValues(t,i){return this.initialFormValues[this.initialValuesCacheKey(t,i)]}initMissingValues(){const t=this.log.fnIf("initMissingValues"),i=this.itemService.updater,n=this.formConfig.config,s=n.formId,o=this.itemService.getMany(n.itemGuids),l=this.inputTypeService.getAll(),u=this.languageService.getAll(),_=this.formConfig.language();let b=!1;const S=n.createMode,j=new Di("EditInitializerService");for(const J of o){const ue=this.contentTypeService.getContentTypeOfItem(J);for(const ve of ue.Attributes){const ke=ve.Name,xe=l.find(St=>St.Type===ve.InputType),Ne=ht.Q.isEmpty(xe?.Type);if(t.a(`Attribute: '${ke}' InputType: '${xe?.Type}' isEmptyType: '${Ne}'`),Ne)continue;const Ge=Bt.singleton().getOrUnknown(xe?.Type),yt=J.Entity.Attributes[ve.Name],Yt=j.getDefaultSettings(new me.bT(_.primary,_.primary).flattenAll(ve.Metadata));if(0===u.length){t.a(`${ke} languages none, simple init`);const St=new x.U(yt,"*").currentOrDefaultOrAny?.Value;Ge.isValueEmpty(St,S)&&i.setDefaultValue(J,ve,xe,Yt,u,_.primary)}else{t.a(`${ke} languages many, complex init`);const St=xe?.DisableI18n,ei=new x.U(yt,"*").currentOrDefault?.Value;if(t.a(ke,{disableI18n:St,noLanguageValue:ei}),!St&&void 0!==ei){const _l=i.removeItemAttributeDimension(J.Entity.Guid,ve.Name,"*",!0);i.addItemAttributeValue(J.Entity.Guid,ve.Name,ei,_.primary,!1,ve.Type,!1,_l),t.a(`${ke} exit`);continue}const fa=new x.U(yt,_.primary).currentOrDefault?.Value,_a=Ge.isValueEmpty(fa,S);t.a(ke,{currentName:ke,valueIsEmpty:_a,defaultLanguageValue:fa,isCreateMode:S}),_a&&null!=i.setDefaultValue(J,ve,xe,Yt,u,_.primary)&&!Yt.IsEphemeral&&(b=!0)}}}if(b&&_.current!==_.primary){this.languageStore.setCurrent(s,_.primary);const J=this.translate.instant("Message.SwitchedLanguageToDefault",{language:_.primary});this.snackBar.open(J,null,{duration:5e3})}}static#i=this.\u0275fac=function(i){return new(i||a)(e.KVO(fr.nX),e.KVO(Re.S),e.KVO(lt),e.KVO(Mi),e.KVO(Cn),e.KVO(ai),e.KVO(Sn),e.KVO(T.c$),e.KVO(gi.g),e.KVO(pn.A),e.KVO(zt.UG),e.KVO(Tn),e.KVO(fi),e.KVO(Ot.t))};static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),gd=(()=>{class a{#e=(0,e.WQX)(Ot.t).getAll();constructor(t,i,n,s,o){this.formConfig=t,this.itemService=i,this.languageSvc=n,this.globalConfigSvc=s,this.editInitializerSvc=o}init(t,i,n){this.#t=i,this.#i=t,this.#n=n}#t;#i;#n;#a={};getSharedSpecs(){const t=this.formConfig.language(),i=this.languageSvc.getAll(),n=this.globalConfigSvc.isDebug();return{initialFormValues:this.editInitializerSvc.getInitialValues(this.#t,t.current),language:t,languages:i,debugEnabled:n,itemService:this.itemService,formConfig:this.formConfig,fieldsSettingsSvc:this.#i,features:this.#e,parameters:new Sa(this.#n),warningsObsolete:this.#a}}static#s=this.\u0275fac=function(i){return new(i||a)(e.KVO(Re.S),e.KVO(lt),e.KVO(gi.g),e.KVO(Ui.B),e.KVO(Ea))};static#r=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Fn{}var fd=g(8044);const bd=function _d(a,r,t,i){for(var n=-1,s=null==a?0:a.length;++n<s;){var o=a[n];r(i,o,t(o),a)}return i},wd=function vd(a){return function(r,t,i){for(var n=-1,s=Object(r),o=i(r),l=o.length;l--;){var u=o[a?l:++n];if(!1===t(s[u],u,s))break}return r}}();var _r=g(1297);const br=function kd(a,r){return a&&wd(a,r,_r.A)};var xd=g(8200);const Dd=function Cd(a,r){return function(t,i){if(null==t)return t;if(!(0,xd.A)(t))return a(t,i);for(var n=t.length,s=r?n:-1,o=Object(t);(r?s--:++s<n)&&!1!==i(o[s],s,o););return t}}(br),Sd=function Td(a,r,t,i){return Dd(a,function(n,s,o){r(i,n,t(n),o)}),i};var Fd=g(5429),vr=g(351);var An=g(3151);const yr=function Ld(a){return a==a&&!(0,An.A)(a)},wr=function Vd(a,r){return function(t){return null!=t&&t[a]===r&&(void 0!==r||a in Object(t))}},jd=function Yd(a){var r=function Pd(a){for(var r=(0,_r.A)(a),t=r.length;t--;){var i=r[t],n=a[i];r[t]=[i,n,yr(n)]}return r}(a);return 1==r.length&&r[0][2]?wr(r[0][0],r[0][1]):function(t){return t===a||function Ed(a,r,t,i){var n=t.length,s=n,o=!i;if(null==a)return!s;for(a=Object(a);n--;){var l=t[n];if(o&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++n<s;){var u=(l=t[n])[0],_=a[u],b=l[1];if(o&&l[2]){if(void 0===_&&!(u in a))return!1}else{var S=new Fd.A;if(i)var j=i(_,b,u,a,r,S);if(!(void 0===j?(0,vr.A)(b,_,3,i,S):j))return!1}}return!0}(t,a,r)}};var _i=g(9247),Nd=g(8207),zd=g(5528);const Oa=function Gd(a){return"symbol"==typeof a||(0,zd.A)(a)&&"[object Symbol]"==(0,Nd.A)(a)};var $d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hd=/^\w*$/;const La=function Ud(a,r){if((0,_i.A)(a))return!1;var t=typeof a;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=a&&!Oa(a))||Hd.test(a)||!$d.test(a)||null!=r&&a in Object(r)};var kr=g(9008);function Pa(a,r){if("function"!=typeof a||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var t=function(){var i=arguments,n=r?r.apply(this,i):i[0],s=t.cache;if(s.has(n))return s.get(n);var o=a.apply(this,i);return t.cache=s.set(n,o)||s,o};return t.cache=new(Pa.Cache||kr.A),t}Pa.Cache=kr.A;const Wd=Pa;var Zd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qd=/\\(\\)?/g;const tc=function Qd(a){var r=Wd(a,function(i){return 500===t.size&&t.clear(),i}),t=r.cache;return r}(function(a){var r=[];return 46===a.charCodeAt(0)&&r.push(""),a.replace(Zd,function(t,i,n,s){r.push(n?s.replace(qd,"$1"):i||t)}),r});var xr=g(9091);var Cr=xr.A?xr.A.prototype:void 0,Mr=Cr?Cr.toString:void 0;const sc=function Dr(a){if("string"==typeof a)return a;if((0,_i.A)(a))return function ic(a,r){for(var t=-1,i=null==a?0:a.length,n=Array(i);++t<i;)n[t]=r(a[t],t,a);return n}(a,Dr)+"";if(Oa(a))return Mr?Mr.call(a):"";var r=a+"";return"0"==r&&1/a==-1/0?"-0":r},Tr=function lc(a,r){return(0,_i.A)(a)?a:La(a,r)?[a]:tc(function rc(a){return null==a?"":sc(a)}(a))},In=function cc(a){if("string"==typeof a||Oa(a))return a;var r=a+"";return"0"==r&&1/a==-1/0?"-0":r},Sr=function uc(a,r){for(var t=0,i=(r=Tr(r,a)).length;null!=a&&t<i;)a=a[In(r[t++])];return t&&t==i?a:void 0},gc=function pc(a,r){return null!=a&&r in Object(a)};var fc=g(4113),_c=g(123),bc=g(6872);const kc=function wc(a,r){return null!=a&&function vc(a,r,t){for(var i=-1,n=(r=Tr(r,a)).length,s=!1;++i<n;){var o=In(r[i]);if(!(s=null!=a&&t(a,o)))break;a=a[o]}return s||++i!=n?s:!!(n=null==a?0:a.length)&&(0,bc.A)(n)&&(0,_c.A)(o,n)&&((0,_i.A)(a)||(0,fc.A)(a))}(a,r,gc)},Dc=function Mc(a,r){return La(a)&&yr(r)?wr(In(a),r):function(t){var i=function mc(a,r,t){var i=null==a?void 0:Sr(a,r);return void 0===i?t:i}(t,a);return void 0===i&&i===r?kc(t,a):(0,vr.A)(r,i,3)}},Sc=function Tc(a){return a},Lc=function Oc(a){return La(a)?function Fc(a){return function(r){return r?.[a]}}(In(a)):function Ic(a){return function(r){return Sr(r,a)}}(a)},Fr=function Pc(a){return"function"==typeof a?a:null==a?Sc:"object"==typeof a?(0,_i.A)(a)?Dc(a[0],a[1]):jd(a):Lc(a)};var jc=Object.prototype.hasOwnProperty;const zc=function Rc(a,r){return function(t,i){var n=(0,_i.A)(t)?bd:Sd,s=r?r():{};return n(t,a,Fr(i),s)}}(function(a,r,t){jc.call(a,t)?a[t].push(r):(0,fd.A)(a,t,[r])}),Bc={all:!1,getPickerInfos:!1,filterFormulasIfPickerNotReady:!0,fields:[...Jt.z]};class Ra{constructor(r,t,i){this.fieldName=r,this.fieldConstants=t,this.propsBefore=i,this.log=(0,ee.T)({FormulaFieldPickerHelper:Ra},Bc),this.isSpecialPicker=t.inputTypeSpecs.isNewPicker}get infos(){return this.#e??=this.#t(this.fieldName,this.fieldConstants,this.propsBefore)}#e;filterFormulasIfPickerNotReady(r){const t=this.log.fnIfInList("filterFormulasIfPickerNotReady","fields",this.fieldName,{before:r}),i=this.infos,n=this.isSpecialPicker&&!i.ready?r.filter(l=>!l.fieldIsSpecialPicker):r,s=n.filter(l=>!l.fieldIsSpecialPicker||this.isSpecialPicker&&!l.sleep||i.changed);return t.rSilent(s,`\u{1f9ea}\u{1f4ca} before: ${r.length}; ready: ${n.length}; formulas:${s.length}; pickerChanged: ${i.changed}; opts: ${i.options.changed}/${i.options.ver}; sel: ${i.selected.changed}/${i.selected.ver}`)}#t(r,t,i){const n=this.log.fnIfInList("getPickerInfos","fields",r),s=t.pickerData();if(1!=s?.ready()){const b={list:[],listRaw:[],ver:null,verBefore:null,changed:!1};return{ready:!1,mapper:null,picker:s,options:b,selected:b,changed:!1}}function o(b,S,j){const J=b(),ue=(0,$.HF)(b);return{list:S(),listRaw:J,ver:ue,verBefore:j,changed:ue!==j}}const l=o(s.optionsRaw,s.optionsAll,i.opts?.ver),u=o(s.selectedRaw,s.selectedAll,i.sel?.ver);return n.r({ready:!0,mapper:s.state.mapper,picker:s,options:l,selected:u,changed:u.changed||l.changed})}updateFormulaSleep(r,t,i){r.sleep=t.sleep??(!!Ol.includes(r.target)||r.sleep),i.a(`\u{1f9ea}\u23f8\ufe0fformula.sleep: ${r.target}; formula.sleep: ${r.sleep}; raw.sleep: ${t.sleep}`)}preserveResultsAfterRun(r,t,i,n){return i.options&&(t.options={list:i.options,ver:this.infos.options.ver},n.a("\u{1f9ea}\u{1f4c3} options returned, will add",t.options)),i.selected&&(t.selected={list:i.selected,ver:this.infos.selected.ver},n.a("\u{1f9ea}\u{1f4c3} selected returned, will add",t.selected)),t}}const Gc={all:!1,runFormula:!1,runAllOfField:!0,runOrInitSettings:!0,getPickerInfos:!1,fields:[...Jt.z,"*"]};class Va{constructor(r,t,i,n){this.promiseHandler=r,this.designerSvc=t,this.entityGuid=i,this.runOneHelper=n,this.log=(0,ee.T)({FormulaRunField:Va},Gc)}runOrInitSettings(r,t,i,n,s,o,l,u,_){const b=this.log.fnIfInList("runOrInitSettings","fields",t,{fieldName:t}),S=new Ra(t,i,l),j=(0,e.O8t)(()=>this.designerSvc.cache.getActive(this.entityGuid,t,S.isSpecialPicker)),J=zc(j,yt=>yt.disabled?"disabled":"enabled");J.disabled&&this.#e(J.disabled);const ue=J.enabled??[],ve=this.promiseHandler.filterFormulas(t,ue),ke=S.filterFormulasIfPickerNotReady(ve);if(b.a(`\u{1f9ea}\u{1f4ca} enabled: ${ue.length}; noPromisesSleep: ${ve.length}; formulas: ${ke.length}`),0==ke.length)return Ge({},o,{value:o,validation:null,fields:[],settings:{},options:new Fn,selected:new Fn});const Ne=this.#t({currentValues:r,settingsInitial:i.settingsInitial,settingsCurrent:n,pickerHelper:S,defaultValueHelper:()=>new me.X3(t,i.inputTypeSpecs.inputType,i.settingsInitial,s)},ke,u);return Ge(Ne.settings,Ne.value,Ne);function Ge(yt,Yt,St){const ei=_.correctSettingsAfterChanges({...n,...yt},Yt||o);return b.r({...St,settings:ei})}}#e(r){for(const t of r)console.warn(`Formula on field '${t.fieldName}' with target '${t.target}' is disabled. Reason: ${t.disabledReason}`)}#t(r,t,i){const n=this.log.fnIfInList("runAllOfField","fields",t[0].fieldName,{runParams:r,formulas:t});let s={value:void 0,validation:void 0,fields:[],options:new Fn,selected:new Fn,settings:{}};const o=performance.now();for(const u of t){const _={runParameters:{formula:u,...r},...i},b=this.#i(_);if(n.a("formula result",{formula:u,raw:b}),this.promiseHandler.addFormulaPromise(u,b),r.pickerHelper.updateFormulaSleep(u,b,n),s=r.pickerHelper.preserveResultsAfterRun(u,s,b,n),b.fields&&s.fields.push(...b.fields),void 0!==b.value)switch(!0){case u.isValue:s.value=b.value;break;case u.isValidation:s.validation=b.value;break;case u.isSetting:s.settings=vn.keepSettingIfTypeOk(u.target,r.settingsCurrent,b.value,s.settings)}}const l=performance.now();return n.r(s,`runAllFormulas Time: ${l-o}ms`)}#i(r){const{formula:t,fieldName:i,params:n,title:s,devHelper:o,valHelper:l}=this.runOneHelper.getPartsFor(r),u=this.log.fnIfInList("runFormula","fields",i,{fieldName:i});u.a(`formula version: ${t.version}, entity: ${s}, field: ${i}, target: ${t.target}`,{formula:t});try{switch(o.showStart(),t.version){case Nt.V1:const _=t.fn(n.data,n.context,n.experimental),{ok:b,v1Result:S}=l.v1(_);return b?(u.a("V1 formula result is pure",{v1Raw:_,valueV1:S}),o.showResult(S.value,!1,!1),S):(u.a("V1 formula result is not pure",{v1Raw:_}),console.error("V1 formulas accept only simple values in return statements. If you need to return an complex object, use V2 formulas."),l.toFormulaResult(void 0));case Nt.V2:const j=t.fn(n.data,n.context,n.experimental),J=l.v2(j);return o.showResult(J.options??J.value,!1,!!J.promise),J;default:throw new Error("Formula version unknown not supported")}}catch(_){return o.showError(_),l.toFormulaResult(void 0)}}}const $c={all:!1,getFormulas:!1,runAllFields:!0,runFormula:!1,runOneFieldOrInitSettings:!1,fields:[...Jt.z,"StringPicker"]};let Hc=(()=>{class a{#e;constructor(t,i,n){this.designerSvc=t,this.logSvc=i,this.translate=n,this.log=(0,ee.T)({FormulaEngine:a},$c),this.#e=(0,we.d)(gd)}init(t,i,n,s,o,l){this.#t=t,this.#n=s,this.#a=o.Attributes,this.#i=l,this.#e.init(n,t,i)}#t;#i;#n;#a;runAllFields(t,i){const n={},s={},o=[],l=this.#e.getSharedSpecs(),u=new Di(this.log.name);for(const _ of this.#a){const b=this.log.fnIfInList("runAllFields","fields",_.Name,{fieldName:_.Name}),S=i.allAttributes[_.Name],j=i.values[_.Name],J=i.getFieldConstants(_.Name),ue=i.getFieldSettingsInCycle(J),ve=i.updateHelper.create(_,J,S),ke=i.fieldProps[_.Name]??{},xe=new ql(this.designerSvc,this.translate,this.logSvc,this.#i),Ge=new Va(this.#n,this.designerSvc,this.#t,xe).runOrInitSettings(i.values,_.Name,J,ue,t.item.Header,j,ke,l,ve),yt=Ge.settings;s[_.Name]=Ge.value,Ge.fields&&o.push(...Ge.fields);const Yt=this.log.specs.fields?.includes(_.Name)||this.log.specs.fields?.includes("*"),St=u.getTranslationState(S,yt.DisableTranslation,t.languages,Yt);Ge.options.list&&b.a("picker options",{options:Ge.options.list,version:Ge.options.ver}),Ge.selected.list&&b.a("picker selected",{selected:Ge.selected.list,version:Ge.options.ver}),n[_.Name]={...ke,language:J.language,constants:J,settings:yt,translationState:St,value:j,buildWrappers:null,formulaValidation:Ge.validation,opts:{...ke.opts,...Ge.options},sel:{...ke.sel,...Ge.selected}}}return{fieldsProps:n,valueUpdates:s,fieldUpdates:o}}static#s=this.\u0275fac=function(i){return new(i||a)(e.KVO(Hi),e.KVO(kn),e.KVO(T.c$))};static#r=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Ya{constructor(r,t){this.contentType=r,this.slotIsEmpty=t,this.log=(0,ee.T)({FieldsValuesModifiedHelper:Ya})}getValueUpdates(r,t,i,n){const s=this.contentType(),o=this.slotIsEmpty();n??=r.values;const l=r.fieldProps,u=this.log.fn("getValueUpdates",{contentType:s,originalValues:n,fieldsProps:l,valueUpdates:i,valueUpdatesFromSideEffects:t,slotIsEmpty:o});if(o)return u.r({},"Slot is empty, exit early");const b=s.Attributes.map(S=>({name:S.Name,original:n[S.Name]})).filter(S=>void 0!==S.original&&!l[S.name]?.settings.uiDisabledForced).map(S=>({...S,value:this.#e(S.name,t,i)})).filter(S=>void 0!==S.value&&!fn.$.fieldValuesAreEqual(S.original,S.value)).reduce((S,j)=>(S[j.name]=j.value,S),{});return u.rSilent(b)}#e(r,t,i){const n=t.filter(o=>o.name===r),s=n[n.length-1]?.value;return s??i[r]}}const Ut={wrappers:["app-localization-wrapper"]};class Uc{static getWrappers(r,t){const i=t.inputType;if(ht.Q.isMessage(i))return[];if(ht.Q.isGroupStart(i))return["app-collapsible-wrapper"];const n=["app-hidden-wrapper"];return[oe.u.EntityDefault,oe.u.StringDropdownQuery,oe.u.EntityQuery,oe.u.EntityContentBlocks,oe.u.StringDropdown,oe.u.EntityPicker,oe.u.StringPicker].includes(i)&&(n.push("app-feat-warnings-wrapper"),n.push("app-localization-wrapper"),((r.AllowMultiValue??!1)||i===oe.u.EntityContentBlocks)&&n.push("app-picker-expandable-wrapper")),t.isExternal&&n.push("app-dropzone-wrapper","app-localization-wrapper","app-expandable-wrapper","app-adam-wrapper"),n}}const Xc={all:!1,getCycleSettingsAndValues:!1,getLatestSettingsAndValues:!1};class ja{constructor(r,t,i,n,s,o){this.engine=r,this.initialValues=t,this.fieldProps=i,this.allAttributes=n,this.updateHelper=s,this.fieldConstants=o,this.log=(0,ee.T)({FieldsPropsEngineCycle:ja},Xc),this.values={...t}}getFieldConstants(r){return this.fieldConstants.find(t=>t.fieldName===r)}getCycleSettingsAndValues(){const r=this.log.fnIf("getCycleSettingsAndValues");for(let i=0;i<5;i++){const n=this.#e(i),s={...this.values,...n.valueChanges};if((0,ti.A)(this.fieldProps,n.props)&&(0,ti.A)(this.values,s)){r.a("No more changes, stable, exit");break}this.fieldProps=n.props,this.values=s}return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,[],this.values,this.initialValues),props:this.fieldProps}}#e(r){const t=this.log.fnIf("getLatestSettingsAndValues",{loopIndex:r}),i=0===Object.keys(this.fieldProps).length;if(i)t.a("First round, no queue to process");else{const{valueChanges:u,newFieldProps:_}=this.engine.formulaPromises.changesFromQueue(this);_&&(t.a("New field props from queue",{newFieldProps:_}),this.fieldProps=_),Object.keys(u).length>0&&(t.a("Value changes from queue",{valueChanges:u}),this.values={...this.values,...u})}const{fieldsProps:n,valueUpdates:s,fieldUpdates:o}=this.engine.formulaEngine.runAllFields(this.engine,this);for(const[u,_]of Object.entries(n))_.buildWrappers=i?Uc.getWrappers(_.settings,_.constants.inputTypeSpecs):this.fieldProps[u]?.buildWrappers;return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,o,s),props:n}}getFieldSettingsInCycle(r){const t=this.fieldProps[r.fieldName];return r.language==t?.language?t?.settings??{...r.settingsInitial}:{...r.settingsInitial}}}var oi=g(3826);class at{static#e=this.bool={equal:oi.a.valueEquals};static#t=this.number={equal:oi.a.valueEquals};static#i=this.string={equal:oi.a.valueEquals};static#n=this.ref={}}let pt=(()=>{class a{constructor(t,i,n){this.formConfig=t,this.itemService=i,this.languageService=n,this.log=(0,ee.T)({FormsStateService:a}),this.triggerTrySaveAndMaybeClose=(0,e.vPA)({tryToSave:!1,close:!1},at.ref),this.formsAreValid=(0,e.vPA)(!1),this.formsAreDirty=(0,e.vPA)(!1),this.formsValidTemp=(0,e.vPA)(!1),this.saveButtonDisabled=(0,$.bo)("saveButtonDisabled",()=>this.readOnly().isReadOnly||!this.formsValidTemp()),this.formsValid={},this.formsDirty={}}init(){for(const n of this.formConfig.config.itemGuids)this.formsValid[n]=!1,this.formsDirty[n]=!1;const t=(0,e.vPA)(this.formConfig.config.itemGuids.map(n=>this.itemService.getItemHeaderSignal(n))),i=this.languageService.getAllSignal();this.readOnly=(0,$.bo)("readOnly",()=>{const n=t().some(u=>u().EditInfo?.ReadOnly??!1),s=i().find(u=>u.NameId===this.formConfig.language().current)?.IsAllowed??!0;return{isReadOnly:n||!s,reason:n?"Form":s?void 0:"Language"}})}getFormValid(t){return this.formsValid[t]}setFormValid(t,i){this.formsValid[t]=i;const n=!Object.values(this.formsValid).some(s=>!1===s);n!==this.formsValidTemp()&&(this.formsValidTemp.set(n),this.formsAreValid.set(n))}setFormDirty(t,i){this.formsDirty[t]=i;const n=Object.values(this.formsDirty).some(s=>!0===s);n!==this.formsAreDirty()&&this.formsAreDirty.set(n)}triggerSave(t){this.triggerTrySaveAndMaybeClose.set({tryToSave:!0,close:t})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(Re.S),e.KVO(lt),e.KVO(gi.g))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Jc={all:!1,staticPartsOfLanguage:!1,constantFieldParts:!0};let Qc=(()=>{class a{constructor(t,i){this.formConfig=t,this.inputTypeSvc=i,this.log=(0,ee.T)({FieldsSettingsConstantsService:a},Jc),this.#e=new Di(this.log.name)}#e;init(t,i,n,s){return this.#t=t,this.#a=i,this.#i=new _n(t.Header),this.#n=n,this.#s=s,this}#t;#i;#n;#a;#s;stableDataOfLanguage(){const t=this.#t.Entity.Guid,i=this.#t.Entity.Id,n=this.#a.Id,s=this.#o(t,i,n);return(0,$.bo)("stableDataOfLanguage",()=>this.#r(this.#n(),s))}#r(t,i){const n=this.#a,s=this.log.fnIf("staticPartsOfLanguage",{contentType:n,entityReader:t}),o=n.Attributes.map(u=>{const _=this.inputTypeSvc.get(u.InputType),b=t.flattenAll(u.Metadata);b.InputType=u.InputType,b.VisibleDisabled=this.#i.isVisibleDisabled(u.Name);const S=this.#e.getDefaultSettings(b);return{...i.find(J=>J.fieldName===u.Name),settingsInitial:S,inputTypeConfiguration:_,language:t.current}}),l=this.#i.makeParentGroupsVisible(o);return s.r(l)}#o(t,i,n){const s=this.#a,o=this.log.fnIf("constantFieldParts",{entityGuid:t,entityId:i,contentTypeNameId:n}),l=this.formConfig.language(),u=new me.bT(l.initial,l.primary),_=this.#s.pickerData,b=this.formConfig.config;o.a("shared across fields",{entityGuid:t,entityId:i,contentTypeNameId:n,language:l,allPickers:_});const S=s.Attributes.map((j,J)=>{const ue=j.Name,ve=u.flattenAll(j.Metadata),ke=this.#e.getDefaultSettings(ve),xe=this.inputTypeSvc.getSpecs(j);o.a("details",{fieldName:ue,contentType:s,language:l,attr:j,initialSettings:ke,inputTypeSpecs:xe});const Ne=Bt.singleton().get(j.InputType);return{entityGuid:t,entityId:i,contentTypeNameId:n,fieldName:ue,index:J,dropzonePreviewsClass:`dropzone-previews-${b.formId}-${J}`,initialDisabled:ke.Disabled??!1,inputTypeSpecs:xe,isLastInGroup:this.#e.isLastInGroup(s,j),type:j.Type,logic:Ne,pickerData:()=>_[ue]??null}});return o.r(S)}static#l=this.\u0275fac=function(i){return new(i||a)(e.KVO(Re.S),e.KVO(Mi))};static#d=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class En{constructor(){this.edit=!0,this.create=!0,this.delete=!0,this.textEntry=!0,this.multiValue=!0}static merge(r,t){return r=En.fill(r,!0),t=En.fill(t,!0),{edit:r.edit&&t.edit,create:r.create&&t.create,delete:r.delete&&t.delete,textEntry:r.textEntry&&t.textEntry,multiValue:r.multiValue&&t.multiValue}}static fill(r,t){return{edit:r.edit??t,create:r.create??t,delete:r.delete??t,textEntry:r.textEntry??t,multiValue:r.multiValue??t}}}var Ar=g(1897);const Kc={all:!0,setup:!0,addInfosFromSourceForUi:!0,optionsWithMissing:!0,fields:[...Jt.z]};let Zc=(()=>{class a{#e;constructor(){this.log=(0,ee.T)({PickerData:a},Kc),this.#e=(0,e.WQX)(T.c$),this.closeWatcherAttachedWIP=!1,this.ready=(0,$.KX)("sourceIsReady",!1),this.optionsRaw=(0,$.bo)("optionsSource",()=>(this.ready()?this.source.optionsOrHints():null)??[]),this.optionsOverride=(0,$.KX)("overrideOptions",null),this.optionsAll=(0,$.bo)("optionsFinal",()=>(0,Ar.z)(this.optionsOverride(),t=>t||this.optionsRaw())),this.selectedRaw=(0,$.bo)("selectedState",()=>this.ready()?this.#t(this.state.selectedItems(),this.optionsAll()):[]),this.selectedOverride=(0,$.KX)("selectedOverride",null),this.selectedAll=(0,$.bo)("selectedAll",()=>(0,Ar.z)(this.selectedOverride(),t=>t||this.selectedRaw())),this.selectedOne=(0,$.bo)("selectedOne",()=>this.selectedAll()[0]??null),this.optionsWithMissing=(0,$.bo)("optionsWithMissing",()=>{const t=this.log.fnIf("optionsWithMissing"),i=this.selectedAll(),n=this.optionsAll(),s=i.filter(l=>!n.find(u=>u.value===l.value));if(0===s.length)return n;const o=n.concat(s);return t.r(o)}),this.features=(0,$.bo)("features",()=>En.merge(this.source.features(),this.state.features()))}setup(t,i,n){const s=this.log.fnIfInList("setup","fields",t,{name:t,state:i,source:n});this.name=t,this.state=i,this.source=n,this.ready.set(!0);const o=i.selectedItems();return s.a("setup",{initiallySelected:o}),n.initPrefetch(o.map(l=>l.value)),s.rSilent(this)}selectedCopy(t){return t.map(i=>({...i}))}addNewlyCreatedItem(t){const i=Object.keys(t)[0],n=this.log.fn("addNewlyCreatedItem",{result:t,newItemGuid:i});this.state.values().includes(i)||(this.state.add(i),this.source.forceReloadData([i])),n.end()}#t(t,i){const n=this.log.fnIfInList("addInfosFromSourceForUi","fields",this.name,{selected:t,opts:i}),s=t.map(o=>{const l=i.find(_=>_.value===o.value);if(!l)return o;const u=l.label??this.#e.instant("Fields.Picker.EntityNotFound");return{id:l.id,value:l.value,label:u,tooltip:l.tooltip||`${u} (${l.value})`,info:l.info||null,link:l.link||null,noEdit:!0===l.noEdit,noDelete:!0===l.noDelete,noSelect:!1}});return n.r(s)}static#i=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),qc=(()=>{class a{constructor(t,i){this.injector=t,this.inputTypeSvc=i,this.log=(0,ee.T)({PickerDataFactory:a})}createPickersForAttributes(t){const i=t.map(n=>({name:n.Name,inputType:this.inputTypeSvc.getSpecs(n)}));return this.#e(i)}#e(t){return t.map(n=>({name:n.name,picker:this.#t(n.inputType)})).filter(n=>null!==n.picker).reduce((n,s)=>(n[s.name]=s.picker,n),{})}#t(t){return ht.Q.isAnyPicker(t.inputType)?(0,we.d)(Zc,this.injector):null}static#i=this.\u0275fac=function(i){return new(i||a)(e.KVO(e.zZn),e.KVO(Mi))};static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const eu={all:!1,init:!0,getPickers:!0};let tu=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;constructor(){this.log=(0,ee.T)({FieldsPropsEngine:a},eu),this.#e=(0,e.WQX)(Re.S),this.#t=(0,e.WQX)(Ui.B),this.#i=(0,e.WQX)(pt),this.#n=(0,e.WQX)(Cn),this.#a=(0,e.WQX)(lt),this.#s=(0,we.d)(Qc),this.#r=(0,we.d)(qc),this.formulaEngine=(0,we.d)(Hc),this.formulaPromises=(0,we.d)(jl)}init(t,i,n,s,o,l,u=null){this.log.extendName(`[${i.substring(0,8)}]`);const _=this.log.fnIf("init",{entityGuid:i,item:n,contentType:s,reader:o,forceDebug:u});null!=u&&this.log.forceEnable(u),this.item=n,this.languages=o(),this.#o=l;const b=this.#a.slotIsEmpty(i),S=s();return this.pickerData=this.#r.createPickersForAttributes(S.Attributes),_.a("Pickers created",this.pickerData),this.#d=this.#s.init(n,S,o,t).stableDataOfLanguage(),this.#l=this.#u(o,S,b),this.modifiedChecker=new Ya(s,b),this.formulaPromises.init(i,s,t,this.modifiedChecker),this.formulaEngine.init(i,n.Header,t,this.formulaPromises,S,t.contentTypeSettings()._itemTitle),this.#c=this.#a.itemAttributesSignal(i),this}#l;#d;#c;getLatestSettingsAndValues(t){this.log.fn("getLatestSettingsAndValues");const n=this.#o.values();this.languages=this.#e.language();const s=this.#c(),o=this.#l(),l=this.#d();return this.cycle=new ja(this,n,t,s,o,l),this.cycle.getCycleSettingsAndValues().props}#u(t,i,n){return(0,$.bo)("prepared-parts",()=>{const o=t(),l=o,u=this.#t.isDebug(),_=this.#i.readOnly(),b={eavConfig:this.#e.config,reader:o,debug:u,contentTypeItemSvc:this.#n};return new Da(i.Metadata,l,b,_.isReadOnly,n)})}static#h=this.\u0275fac=function(i){return new(i||a)};static#p=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Na{constructor(r){this.entityGuid=r,this.log=(0,ee.T)({FieldsPropertiesUpdates:Na}),this.fieldPropsMixins={},this.log.extendName(`[${r.substring(0,8)}]`)}hasChanges(){return Object.keys(this.fieldPropsMixins).length>0}updateSetting(r,t,i,n){const s=0===Object.keys(this.fieldPropsMixins).length,o=this.log.fn("updateSetting",{source:i,fieldName:r,update:t,queueWasEmpty:s}),l=n()[r].settings,u={...l,...t};if((0,ti.A)(l,u))return o.end(`no change; entityGuid: ${this.entityGuid}; fieldName: ${r}`);this.fieldPropsMixins[r]={...this.fieldPropsMixins[r]??{},...t},o.end("added to queue",{before:l,after:u,update:t})}mergeMixins(r){const t=this.log.fn("mergeMixins",{before:r,mixins:this.fieldPropsMixins}),i=this.fieldPropsMixins;if(0===Object.keys(i).length)return r;const n=Object.keys(i).reduce((s,o)=>{const l=s[o],u=i[o];return{...s,[o]:{...l,settings:{...l.settings,...u}}}},r);return this.fieldPropsMixins={},t.r(n,"merged")}}var iu=g(5839),nu=g(9934),au=g(2549),su=g(3101),ru=g(8104),ou=g(9913);let uu=(()=>{class a{constructor(t){if(this.itemSvc=t,this.log=(0,ee.T)({FieldsSignalsHelper:a},{logChanges:!1}),this.#t=(0,$.KX)("itemGuid",null),this.#i=(0,$.KX)("attributesLazy",null),this.log.specs.logChanges){const i=(0,ee.T)("FieldValues");i.a("will log value changes");let n={};(0,e.QZP)(()=>{const s=this.#t();if(!s)return i.a("no guid");const o=this.values(),l=function cu(a,r){return function t(i,n){return function lu(a,r,t){var i=(0,_i.A)(a),n=i||(0,su.A)(a)||(0,ou.A)(a);if(r=Fr(r),null==t){var s=a&&a.constructor;t=n?i?new s:[]:(0,An.A)(a)&&(0,ru.A)(s)?(0,nu.A)((0,au.A)(a)):{}}return(n?iu.A:br)(a,function(o,l,u){return r(t,o,l,u)}),t}(i,function(s,o,l){(0,ti.A)(o,n[l])||(s[l]=(0,An.A)(o)&&(0,An.A)(n[l])?t(o,n[l]):o)})}(a,r)}(o,n);n=o,i.a(`changed on guid: ${s}`,l)})}}#e;#t;init(t,i){this.#t.set(t),this.#s=new si.K(t),this.#e=i;const n=this.itemSvc.itemAttributesSignal(t);return null==n&&console.error("item-entity-attributes is null"),this.#i.set(n),this}#i;get values(){const t=this.log.fn("get-values",{itemGuid:this.#t});if(null!=this.#n)return t.rSilent(this.#n,"cached");const i=this.#a();return this.#n=i,t.rSilent(this.#n,"generated")}#n;#a(){return(0,$.bo)(`${this.#t().substring(0,8)}-ALL`,()=>{const i=this.log.fn("values"),n=this.#e(),s=this.#i();if(null==s)return i.r({},"attributes is null");const o=s();return o&&0!=Object.keys(o).length?n.currentValues(o):i.r({},"attributes is empty")})}get(t){const i=this.log.fn("get",{field:t}),n=this.#r(t);return i.rSilent(n)}#s;#r(t){const i=this.log.fn("#fieldValueOrNullSignal",{fieldName:t}),n=this.#s.getOrCreateWithInfo(t,()=>{const s=this.#i();if(null==s)return null;const o=s();if(!o||0==Object.keys(o).length)return null;const l=o[t],u=l?.Values;return null==u||0==u.length?null:this.#e().getBestValue(l)});return i.rSilent(n.signal,`isNew: ${n.isNew}`)}static#o=this.\u0275fac=function(i){return new(i||a)(e.KVO(lt))};static#l=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var mu=g(5689);class hu{constructor(r){this.computed=r}getConsumerNode(){return this.computed[mu.bh]}getProducers(){return this.getConsumerNode().producerNode}getDirtyProducers(){return this.getConsumerNode().producerNode}snapShotProducers(r=!1){return this.#e(this.getConsumerNode(),r)}#e(r,t){return this.#t(r.producerNode,r.producerLastReadVersion,t)}#t(r,t,i){if(!r)return[];let n=r.map((s,o)=>{const l=s.dirty,u=t[o],_=s.version,b=u<_,S=this.#e(s,i),j=S.some(ve=>ve.dirty),J=l||b||j,ue=S.find(ve=>ve.dirty)?.dirtyDepth+1||(J?1:0);return{name:s?.debugName||"unknown",idx:o,dirty:J,dirtyDepth:ue,dirtyPrd:l,dirtyVer:b,dirtySub:j,verOwn:u,verPrd:_,producer:s,subInfos:S}});return i&&(n=n.filter(s=>s.dirty)),n}}const pu={all:!1,startSync:!0,filterRelevant:!0,transferPickerData:!0};class za{constructor(){this.log=(0,ee.T)({FieldSettingsPickerUpdater:za},pu)}startSync(r){const t=this.log.fnIf("startSync",{source:r}),i=(0,$.bo)("optsOnly",()=>this.#e(r(),"opts")),n=(0,$.bo)("selOnly",()=>this.#e(r(),"sel"));(0,e.QZP)(()=>this.#t(i(),"opts"),{allowSignalWrites:!0}),(0,e.QZP)(()=>this.#t(n(),"sel"),{allowSignalWrites:!0}),t.end()}#e(r,t){if(!r)return[];const i=Object.entries(r).filter(([s,o])=>o[t]?.list).map(([s,o])=>({field:s,list:o[t].list,pickerData:o.constants.pickerData}));return this.log.fnIf("filterRelevant",{count:i.length,toTransfer:i},t).rSilent(i)}#t(r,t){if(!r.length)return;const i=this.log.fnIf("transferPickerData",{count:r.length,toTransfer:r},`\u{1f9ea}\u{1f501}${t}`);for(const{field:n,list:s,pickerData:o}of r){i.a("Transfer",{field:n,list:s});const l=o();("opts"==t?l.optionsOverride:l.selectedOverride).set(s)}}}const gu={effectTransferPickerData:!0,regenerateProps:!0,type:"",activateAnalyzer:!1};let Kt=(()=>{class a{#e;constructor(){this.log=(0,ee.T)({FieldsSettingsService:a},gu),this.#e=new za,this.#t=(0,e.WQX)(pn.A),this.#i=(0,e.WQX)(Re.S),this.#n=(0,e.WQX)(ai),this.#a=(0,e.WQX)(lt),this.#s=(0,we.d)(tu),this.allProps=(0,$.KX)("allProps",{}),this.#r=(0,e.vPA)(!1),this.#l=(0,$.KX)("forceRefresh",0),this.#d=(0,$.KX)("disabled",!1),this.#u=this.#t.getEntityReader(this.#i.config.formId),this.#h=(0,e.vPA)(null),this.#p=(0,e.EWP)(()=>this.#h()?this.#n.getContentTypeOfItem(this.#h()):null),this.contentTypeSettings=(0,e.EWP)(()=>this.#h()?me.im.getDefaultSettings(this.#u(),this.#p(),this.#h().Header):null),this.#m=(0,we.d)(uu),this.#f=new si.K("field-props"),this.fieldProps=this.#f.buildProxy(i=>()=>this.allProps()[i]),this.#_=new si.K("fields"),this.settings=this.#_.buildProxy(i=>()=>this.allProps()[i].settings),this.translationState=si.K.proxy("transl-state",i=>()=>this.allProps()[i].translationState);const t=(0,$.bo)("allPropsOrNull",()=>this.#r()&&this.#o());(0,e.QZP)(()=>{const i=t();i&&this.allProps.set(i)},{allowSignalWrites:!0}),this.#e.startSync(t)}#t;#i;#n;#a;#s;disableForCleanUp(){this.log.fn("cleanUp"),this.#d.set(!0)}#r;#o;#l;#d;#c;#u;#h;#p;#m;init(t){const i=this.#a.get(t);this.#h.set(i),this.#c=new Na(t);const n=this.#p(),s=this.log.specs.type,o=null===s?null:n.Id===s;null!==o&&(this.log.a(`Set debug for content type '${n.Id}' to ${o}, only debugging ${s}`),this.log.forceEnable(o));const l=this.#a.slotIsEmpty(t);this.#m.init(t,this.#u),this.#s.init(this,t,i,this.#p,this.#u,this.#m,o);const u={idMsg:`entityGuid: ${t}; contentTypeId: ${n.Id};`,cycle:0,analyzer:null,disabled:this.#d,slotIsEmpty:l,slotWasEmpty:!1,forceRefresh:this.#l,watchRestart:(0,e.vPA)(0),prevFieldProps:{},hasRunOnce:!1};setInterval(()=>{u.cycle>10&&setTimeout(()=>(this.log.a(`restarting max cycles from ${u.cycle}; ${u.idMsg}`),u.watchRestart.update(_=>_+1)),500),u.cycle=0},250),this.#o=(0,$.bo)("allFieldProps",()=>this.#g(u)),this.log.specs.activateAnalyzer&&(u.analyzer=new hu(this.#o)),this.#r.set(!0)}#g(t){t.analyzer&&console.log("analyzer",{fieldProps:this.allProps},t.analyzer.snapShotProducers(!0));const i=this.log.fnIf("regenerateProps",{cycle:t.cycle,props:this.allProps},t.idMsg),n=t.slotIsEmpty();if((this.#d()||n&&n==t.slotWasEmpty)&&t.hasRunOnce)return i.r(t.prevFieldProps,"disabled or slotIsEmpty");if(t.hasRunOnce=!0,t.slotWasEmpty=n,this.#l(),t.cycle++>10){const u=`Max cycles reached, stopping for this second; cycle: ${t.cycle}; ${t.idMsg};`;return console.warn(u),t.watchRestart(),i.r(t.prevFieldProps,u)}const o=this.#c.hasChanges()?this.#c.mergeMixins(t.prevFieldProps):t.prevFieldProps,l=this.#s.getLatestSettingsAndValues(o);return t.prevFieldProps=l,i.rSilent(l,"normal update")}#f;#_;retriggerFormulas(t){this.log.fn("retriggerFormulas",{source:t}),this.#l.update(i=>i+1)}updateSetting(t,i,n){this.#c.updateSetting(t,i,n,this.allProps),setTimeout(()=>this.retriggerFormulas("updateSetting"),10)}get pickerData(){return this.#s.pickerData}static#b=this.\u0275fac=function(i){return new(i||a)};static#v=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Ba{constructor(r){this.getFieldsProps=r,this.log=(0,ee.T)({FieldTranslationInfo:Ba})}get#e(){return this.#t??=this.getFieldsProps().settings}#t;get isAutoTranslatable(){return!this.DisableTranslation&&!this.DisableAutoTranslation}get notForAutoTranslateBecauseOfType(){return!this.DisableTranslation&&this.autoTranslateIsDisabledByTypeButNotByConfig()}get DisableTranslation(){return this.#e.DisableTranslation}get DisableAutoTranslation(){return this.#e.DisableAutoTranslation}autoTranslateIsDisabledByTypeButNotByConfig(){return!this.DisableAutoTranslation&&!Bt.singleton().get(this.getFieldsProps().constants.inputTypeSpecs.inputType).canAutoTranslate}}const yu={all:!0,constructor:!1,init:!0,unlock:!0,lock:!0,getInfo:!0,autoTranslate:!0,findAutoTranslatableFields:!0,addItemAttributeValueHelper:!0};let Si=(()=>{class a{#e;constructor(t,i,n,s,o,l,u){this.http=t,this.itemService=i,this.formConfig=n,this.contentTypeService=s,this.fieldsSettingsService=o,this.snackBar=l,this.translate=u,this.log=(0,ee.T)({FieldsTranslateService:a},yu),this.updater=this.itemService.updater,this.log.fnIf("constructor")}init(t){const i=this.log.fnIf("init");this.#t=t;const n=this.itemService.get(t);this.#i=ar.getContentTypeNameId(n),this.#e=this.itemService.itemAttributesSignal(t),i.end("",{entityGuid:t,contentTypeId:this.#i})}#t;#i;unlock(t,i=!1,n){const s=this.log.fnIf("unlock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return s.rNull("Translation is disabled for this field.");const o=this.formConfig.language();n=this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n);const l=this.#e()[t],u=null!=new x.U(l,o).currentEditable,b=new x.U(l,O.N.bothPrimary(o)).current;return u?s.rNull():s.r(this.#a(t,b.Value,o.current,!1))}lock(t,i=!1,n){const s=this.log.fnIf("lock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return s.rNull("Translation is disabled for this field.");const o=this.formConfig.language();return this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n)}toggleUnlockOnAll(t){const i=this.findTranslatableFields();if(0===i.length)return this.showMessageNoTranslatableFields(!1);let n;for(const s of i){const o=s!==i[i.length-1];n=t?this.unlock(s,o,n):this.lock(s,o,n)}}showMessageNoTranslatableFields(t){const i=this.translate.instant("LangMenu.NoAutoTranslatableFieldsFound".replace("Auto",t?"Auto":""));this.snackBar.open(i,null,{duration:2e3})}autoTranslate(t,i,n=!1,s=!1){this.log.fnIf("autoTranslate",{fieldNames:t,autoTranslateLanguageKey:i,isMany:n,areAllChecksKnown:s});const l=this.formConfig.settings.Values[H.Ox.GoogleTranslate];l.IsDemo&&alert("This translation is a demo. Please provide your own Google Translate API key in the EAV configuration.");const u=this.formConfig.language(),_=this.#e(),b=(t=t.filter(j=>!this.#n(j).DisableTranslation)).map(j=>new x.U(_[j],i).currentEditable.Value);s||t.forEach((j,J)=>{const ue=b[J],ve=this.#n(j).autoTranslateIsDisabledByTypeButNotByConfig();(null==ue||""===ue||ve)&&this.unlock(j)}),this.http.post(`https://translation.googleapis.com/language/translate/v2?key=${l.ApiKey}`,{q:b,target:u.current,source:i}).subscribe(j=>{const J=t.map(ue=>null!=new x.U(_[ue],u).currentEditable);j.data.translations.forEach((ue,ve)=>{const ke=document.createElement("textarea");ke.innerHTML=ue.translatedText;const xe=J[ve];!n&&xe?this.updater.updateItemAttributeValue(this.#t,t[ve],ke.value,u,!1):xe||this.#a(t[ve],ke.value,u.current,!1)})})}copyFrom(t,i){if(this.#n(t).DisableTranslation)return;const s=this.#e()[t],o=this.formConfig.language(),l=new x.U(s,o),u=l.ofLanguage(O.N.diffCurrent(o,i));u?s&&l.isEditableOrReadonlyTranslationExist()?this.updater.updateItemAttributeValue(this.#t,t,u.Value,o,!1):this.#a(t,u.Value,o.current,!1):this.log.a(`${o.current}: Cant copy value from ${i} because that value does not exist.`)}linkReadOnly(t,i){this.linkToOtherField(t,i,!0)}linkReadWrite(t,i){return this.linkToOtherField(t,i,!1)}linkToOtherField(t,i,n){if(this.#n(t).DisableTranslation)return;const s=this.formConfig.language(),o=this.updater.removeItemAttributeDimension(this.#t,t,s.current,!0);this.updater.addItemAttributeDimension(this.#t,t,s.current,i,s.primary,n,o)}autoTranslateMany(t){const i=this.#e(),n=[],s=this.findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault();this.findAutoTranslatableFields().filter(u=>!s.includes(u)).forEach(u=>{const _=new x.U(i[u],t).currentEditable?.Value;""!==_&&null!=_&&void 0!==_&&n.push(u)}),this.autoTranslate(n,t,!0,!0),s.forEach(u=>{this.unlock(u,!1,void 0)})}findTranslatableFields(){const t=this.#e();return Object.keys(t).filter(i=>!this.#n(i).DisableTranslation)}findAutoTranslatableFields(){const t=this.#e(),i=Object.keys(t).filter(n=>this.#n(n).isAutoTranslatable);return this.log.fnIf("findAutoTranslatableFields",{attributes:t,result:i}),i}#n(t){const i=new Ba(()=>this.fieldsSettingsService.fieldProps[t]());return this.log.fnIf("getInfo",{fieldName:t,ti:i}),i}findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault(){const t=this.#e();return Object.keys(t).filter(i=>this.#n(i).notForAutoTranslateBecauseOfType)}#a(t,i,n,s){const o=this.log.fnIf("addItemAttributeValueHelper",{fieldName:t,value:i,currentLanguage:n,isReadOnly:s}),l=this.contentTypeService.getAttribute(this.#i,t),u=this.updater.addItemAttributeValue(this.#t,t,i,n,s,l.Type);return o.r(u)}static#s=this.\u0275fac=function(i){return new(i||a)(e.KVO(Aa.Qq),e.KVO(lt),e.KVO(Re.S),e.KVO(ai),e.KVO(Kt),e.KVO(zt.UG),e.KVO(T.c$))};static#r=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Er=(()=>{class a{constructor(t){this.dialogData=t,this.languageService=(0,e.WQX)(gi.g),this.itemService=(0,e.WQX)(lt),this.formConfig=(0,e.WQX)(Re.S),this.TranslationLinks=C,this.I18nKeys=L,this.language=this.formConfig.language,this.translationStateSignal=(0,e.vPA)(this.dialogData.translationState),this.translationInfo=(0,$.bo)("translationInfo",()=>{const i=this.translationStateSignal();return this.noLanguageRequired=[C.Translate,C.DontTranslate],{showLanguageSelection:!this.noLanguageRequired.includes(i.linkType),i18nRoot:`LangMenu.Dialog.${X(i.linkType)}`,submitDisabled:""===i.language&&!this.noLanguageRequired.includes(i.linkType)}}),this.languages=this.languageService.getAllSignal(),this.itemAttributes=this.itemService.itemAttributesSignal(this.dialogData.config.entityGuid)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.Vh))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-helper-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return a})();var Xi=g(2760);const wu=(a,r)=>({"eav-list-item__focus":a,"list-item__disabled":r}),ku=a=>({"list-item-icon__disabled":a});function xu(a,r){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.NoContent"),") "))}function Cu(a,r){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),") "))}function Mu(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.E5c("(",e.bMT(2,3,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),", ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(3,5,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Du(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Cu,3,3,"span")(2,Mu,4,7,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(1,i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(2,i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Tu(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.LHq("(",t.noTranslatableFields," ",e.bMT(2,4,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,6,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields"),") ")}}function Su(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.ZXR("(",t.noTranslatableFields," ",e.bMT(2,6,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,8,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields")," , ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(4,10,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Fu(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Tu,4,8,"span")(2,Su,5,12,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(1,i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(2,i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Au(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,Du,3,2,"span")(2,Fu,3,2,"span"),e.k0s()),2&a){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(),e.vxM(1,t.noTranslatableFields==i.dialogData.translatableFields.length?1:-1),e.R7$(),e.vxM(2,t.noTranslatableFields!=i.dialogData.translatableFields.length?2:-1)}}function Iu(a,r){if(1&a&&(e.j41(0,"span"),e.DNE(1,xu,3,3,"span")(2,Au,3,2,"span"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM(1,0==t.noTranslatableFields?1:-1),e.R7$(),e.vxM(2,0!=t.noTranslatableFields?2:-1)}}function Eu(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",5),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.setLanguage(n.key))}),e.j41(1,"mat-icon",6),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",7),e.EFF(4),e.DNE(5,Iu,3,2,"span"),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("disabled",t.disabled||!i.isTranslateWithGoogleFeatureEnabled())("ngClass",e.l_i(5,wu,i.translationStateSignal().language===t.key,t.disabled||!i.isTranslateWithGoogleFeatureEnabled())),e.R7$(),e.Y8G("ngClass",e.eq3(8,ku,t.disabled)),e.R7$(3),e.SpI("",t.key," "),e.R7$(),e.vxM(5,i.dialogData.isTranslateMany?5:-1)}}let Or=(()=>{class a extends Er{constructor(t,i,n,s){super(i),this.dialogRef=t,this.dialogData=i,this.fieldsTranslateService=n,this.snackBar=s,this.features=(0,e.WQX)(Ot.t),this.isTranslateWithGoogleFeatureEnabled=this.features.isEnabled(mt.T.EditUiTranslateWithGoogle),this.languagesSig=(0,e.EWP)(()=>{const o=this.languages(),l=this.language(),u=this.itemAttributes(),_=this.translationStateSignal();return this.dialogData.isTranslateMany?function Z(a,r,t,i,n){return r.filter(o=>o.NameId!==a.current).map(o=>{let l=0,u=0,_=!1;const b=O.N.diffCurrent(a,o.NameId);return n.forEach(j=>{const ue=new x.U(t[j],b);l+=ue.countEditable(),u+=ue.countEditableWithContents(),_=i===C.LinkReadWrite&&!o.IsAllowed||0==l}),{key:o.NameId,disabled:_,noTranslatableFields:l,noTranslatableFieldsThatHaveContent:u}})}(l,o,u,_.linkType,this.dialogData.translatableFields):E(this.dialogData.config,l,o,u,_.linkType)}),this.dialogRef.keydownEvents().subscribe(o=>{(0,Xi.J)(o)&&o.preventDefault()})}ngOnInit(){this.isTranslateWithGoogleFeatureEnabled&&this.dialogRef.afterClosed().subscribe(()=>this.snackBar.dismiss()),this.formConfig.settings.Values[H.Ox.GoogleTranslate].IsDemo&&this.snackBar.openFromComponent(w)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i),this.dialogData.translationState.language!==i.language?(this.dialogData.isTranslateMany?this.fieldsTranslateService.autoTranslateMany(i.language):this.fieldsTranslateService.autoTranslate([this.dialogData.config.fieldName],i.language),this.closeDialog()):this.closeDialog()}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.CP),e.rXU(k.Vh),e.rXU(Si),e.rXU(zt.UG))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-menu-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:9,consts:[[1,"auto-translate-menu-dialog-card","u-hide-scrollbar"],[3,"featureNameId"],[3,"innerHTML"],[1,"eav-card-content__no-padding"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-feature-text-info",1)(6,"mat-card-subtitle",2),e.nI1(7,"translate"),e.nI1(8,"safeHtml"),e.k0s(),e.j41(9,"mat-card-content",3)(10,"mat-action-list"),e.Z7z(11,Eu,6,10,"mat-list-item",4,e.fX1),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"LangMenu.Dialog.AutoTranslateAll.Title")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("innerHTML",e.bMT(8,7,e.bMT(7,5,"LangMenu.Dialog.AutoTranslateAll.Body")),e.npT),e.R7$(5),e.Dyx(n.languagesSig()))},dependencies:[h.Hu,h.RN,h.m2,h.MM,h.Lc,h.dh,Cl.L,hn,tr,mn,un,Qe,V.YU,z.Cc,z.PW,P.m_,P.An,T.h,T.D9,f.$],styles:[".auto-translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return a})();var Lr=g(3703),Ke=g(1034),li=g(3680),Se=g(6479),_t=g(6686);let Ou=(()=>{class a extends Se.r3{buildStyles(t,{display:i}){const n=(0,_t.uG)(t);return{...n,display:"none"===i?i:n.display}}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Lu=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Pu=(()=>{class a extends Se.DJ{constructor(t,i,n,s,o){super(t,n,i,s),this._config=o,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const n=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Pr.get(n)??new Map,Pr.set(n,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:n}),this.currentValue=t)}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(Se.ZH),e.rXU(Ou),e.rXU(Se.qH),e.rXU(Se.EA))},a.\u0275dir=e.FsC({type:a,features:[e.Vt3]}),a})(),Lt=(()=>{class a extends Pu{constructor(){super(...arguments),this.inputs=Lu}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275dir=e.FsC({type:a,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[e.Vt3]}),a})();const Pr=new Map,Rr={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Ru=(()=>{class a extends Se.r3{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(On)?(t=t.slice(0,t.indexOf(On)),function $u(a,r){const[t,i]=a.split(" "),s=_=>`-${_}`;let o="0px",l=s(i??t),u="0px";return"rtl"===r?u=s(t):o=s(t),{margin:`0px ${o} ${l} ${u}`}}(t=(0,Se.cL)(t,this._config.multiplier),i.directionality)):{}}sideEffect(t,i,n){const s=n.items;if(t.endsWith(On)){t=t.slice(0,t.indexOf(On));const o=function Gu(a,r){const[t,i]=a.split(" ");let s="0px",l="0px";return"rtl"===r?l=t:s=t,{padding:`0px ${s} ${i??t} ${l}`}}(t=(0,Se.cL)(t,this._config.multiplier),n.directionality);this._styler.applyStyleToElements(o,n.items)}else{t=(0,Se.cL)(t,this._config.multiplier),t=this.addFallbackUnit(t);const o=s.pop(),l=function Hu(a,r){const t=Yr(r.directionality,r.layout),i={...Rr};return i[t]=a,i}(t,n);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(Rr,[o])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(Se.ZH),e.KVO(Se.EA))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Vu=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Yu=(()=>{class a extends Se.DJ{constructor(t,i,n,s,o,l){super(t,o,s,l),this.zone=i,this.directionality=n,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new de.B;const u=[this.directionality.change,this.observerSubject.asObservable()];this.init(u),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,We.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let n=t.length;n--;)i[n]=t[n];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const n=t.value.split(" ");this.layout=n[0],_t.Uo.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(n=>1===n.nodeType&&this.willDisplay(n)).sort((n,s)=>{const o=+this.styler.lookupStyle(n,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(o)||isNaN(l)||o===l?0:o>l?1:-1});if(i.length>0){const n=this.directionality.value,s=this.layout;"row"===s&&"rtl"===n?this.styleCache=ju:"row"===s&&"rtl"!==n?this.styleCache=zu:"column"===s&&"rtl"===n?this.styleCache=Nu:"column"===s&&"rtl"!==n&&(this.styleCache=Bu),this.addStyles(t,{directionality:n,items:i,layout:s})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":Yr(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{t.some(n=>n.addedNodes&&n.addedNodes.length>0||n.removedNodes&&n.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(li.dS),e.rXU(Se.ZH),e.rXU(Ru),e.rXU(Se.qH))},a.\u0275dir=e.FsC({type:a,features:[e.Vt3]}),a})(),Vr=(()=>{class a extends Yu{constructor(){super(...arguments),this.inputs=Vu}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275dir=e.FsC({type:a,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[e.Vt3]}),a})();const ju=new Map,Nu=new Map,zu=new Map,Bu=new Map,On=" grid";function Yr(a,r){switch(r){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===a?"margin-left":"margin-right";case"row-reverse":return"rtl"===a?"margin-right":"margin-left"}}let Uu=(()=>{class a extends Se.r3{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[n,s,...o]=t.split(" "),l=o.join(" ");const u=i.direction.indexOf("column")>-1?"column":"row",_=(0,_t.Vc)(u)?"max-width":"max-height",b=(0,_t.Vc)(u)?"min-width":"min-height",S=String(l).indexOf("calc")>-1,j=S||"auto"===l,J=String(l).indexOf("%")>-1&&!S,ue=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let ve=S||ue;n="0"==n?0:n,s="0"==s?0:s;const ke=!n&&!s;let xe={};const Ne={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":l="row"===u?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":n=0,s=0,l="auto";break;default:!ve&&!J&&!isNaN(l)&&(l+="%"),"0%"===l&&(ve=!0),"0px"===l&&(l="0%"),xe=(0,_t.C5)(Ne,S?{"flex-grow":n,"flex-shrink":s,"flex-basis":ve?l:"100%"}:{flex:`${n} ${s} ${ve?l:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=(0,_t.C5)(Ne,S?{"flex-grow":n,"flex-shrink":s,"flex-basis":l}:{flex:`${n} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(xe[b]=ke||ve&&n?l:null,xe[_]=ke||!j&&s?l:null),xe[b]||xe[_]?i.hasWrap&&(xe[S?"flex-basis":"flex"]=xe[_]?S?xe[_]:`${n} ${s} ${xe[_]}`:S?xe[b]:`${n} ${s} ${xe[b]}`):xe=(0,_t.C5)(Ne,S?{"flex-grow":n,"flex-shrink":s,"flex-basis":l}:{flex:`${n} ${s} ${l}`}),(0,_t.C5)(xe,{"box-sizing":"border-box"})}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(Se.EA))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Xu=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Wu=(()=>{class a extends Se.DJ{constructor(t,i,n,s,o){super(t,s,i,o),this.layoutConfig=n,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,We.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,We.Q)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const n=t.value.split(" ");this.direction=n[0],this.wrap=void 0!==n[1]&&"wrap"===n[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const n=this.direction,s=n.startsWith("row"),o=this.wrap;s&&o?this.styleCache=Ku:s&&!o?this.styleCache=Ju:!s&&o?this.styleCache=Zu:!s&&!o&&(this.styleCache=Qu);const l=String(t).replace(";",""),u=(0,Se.hN)(l,this.flexGrow,this.flexShrink);this.addStyles(u.join(" "),{direction:n,hasWrap:o})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=(0,Se.hN)(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(Se.ZH),e.rXU(Se.EA),e.rXU(Uu),e.rXU(Se.qH))},a.\u0275dir=e.FsC({type:a,inputs:{shrink:[e.Mj6.None,"fxShrink","shrink"],grow:[e.Mj6.None,"fxGrow","grow"]},features:[e.Vt3]}),a})(),Ln=(()=>{class a extends Wu{constructor(){super(...arguments),this.inputs=Xu}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275dir=e.FsC({type:a,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[e.Vt3]}),a})();const Ju=new Map,Qu=new Map,Ku=new Map,Zu=new Map;let wm=(()=>{class a extends Se.r3{buildStyles(t,i){const n={},[s,o]=t.split(" ");switch(s){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;default:n["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;default:n["align-items"]=n["align-content"]="stretch"}return(0,_t.C5)(n,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===o?(0,_t.Vc)(i.layout)?null:"100%":null,"max-height":"stretch"===o&&(0,_t.Vc)(i.layout)?"100%":null})}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const km=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let xm=(()=>{class a extends Se.DJ{constructor(t,i,n,s){super(t,n,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,We.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",n=this.inline;"row"===i&&n?this.styleCache=Sm:"row"!==i||n?"row-reverse"===i&&n?this.styleCache=Am:"row-reverse"!==i||n?"column"===i&&n?this.styleCache=Fm:"column"!==i||n?"column-reverse"===i&&n?this.styleCache=Im:"column-reverse"===i&&!n&&(this.styleCache=Tm):this.styleCache=Mm:this.styleCache=Dm:this.styleCache=Cm,this.addStyles(t,{layout:i,inline:n})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),_t.Uo.find(n=>n===this.layout)||(this.layout="row"),this.triggerUpdate()}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(Se.ZH),e.rXU(wm),e.rXU(Se.qH))},a.\u0275dir=e.FsC({type:a,features:[e.Vt3]}),a})(),Dt=(()=>{class a extends xm{constructor(){super(...arguments),this.inputs=km}}return a.\u0275fac=(()=>{let r;return function(i){return(r||(r=e.xGo(a)))(i||a)}})(),a.\u0275dir=e.FsC({type:a,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[e.Vt3]}),a})();const Cm=new Map,Mm=new Map,Dm=new Map,Tm=new Map,Sm=new Map,Fm=new Map,Am=new Map,Im=new Map;let bt=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[Se.Ui,li.jI]}),a})();function Em(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.unlockAll())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.autoTranslateMany())}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",6),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.lockAll())}),e.EFF(8),e.nI1(9,"translate"),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"LangMenu.TranslateAll")),e.R7$(3),e.SpI(" ",e.bMT(5,6,"LangMenu.AutoTranslateAll")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(2),e.JRh(e.bMT(9,8,"LangMenu.NoTranslateAll")))}function Om(a,r){if(1&a&&(e.j41(0,"div",1)(1,"button",2)(2,"span",1),e.EFF(3),e.nI1(4,"translate"),e.nI1(5,"uppercase"),e.j41(6,"mat-icon",3),e.EFF(7,"translate"),e.k0s()()(),e.j41(8,"mat-menu",null,0),e.DNE(10,Em,10,10,"ng-template",4),e.k0s()()),2&a){const t=e.sdS(9),i=e.XpG();e.R7$(),e.Y8G("disabled",i.readOnly().isReadOnly||i.slotIsEmpty())("matMenuTriggerFor",t),e.R7$(2),e.SpI(" ",e.bMT(5,5,e.bMT(4,3,"LangMenu.Translate"))," \xa0\xa0 ")}}let Lm=(()=>{class a{constructor(t,i,n,s,o,l){this.dialog=t,this.itemService=i,this.eavService=n,this.fieldTranslateSvc=s,this.viewContainerRef=o,this.fieldSettingsSvc=l,this.entityGuid=(0,e.hFB)(),this.formsStateService=(0,e.WQX)(pt),this.readOnly=this.formsStateService.readOnly,this.#e=(0,e.EWP)(()=>this.fieldTranslateSvc.findAutoTranslatableFields()),this.slotIsEmpty=(0,e.EWP)(()=>this.itemService.slotIsEmpty(this.entityGuid())(),at.bool),this.language=this.eavService.language}#e;unlockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!0)}lockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!1)}autoTranslateMany(){const t=this.#e();if(0===t.length)return this.fieldTranslateSvc.showMessageNoTranslatableFields(!0);const i=this.fieldSettingsSvc.translationState[t[0]]();if(t.length>0){const s={config:{entityGuid:this.entityGuid(),fieldName:t[0]},translationState:{language:i.language,linkType:i.linkType},isTranslateMany:!0,translatableFields:t};this.dialog.open(Or,{autoFocus:!1,data:s,viewContainerRef:this.viewContainerRef,width:"400px"})}else this.dialog.open(d,{autoFocus:!1,data:{isAutoTranslateAll:!0},viewContainerRef:this.viewContainerRef,width:"400px"})}static#t=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.bZ),e.rXU(lt),e.rXU(Re.S),e.rXU(Si),e.rXU(e.c1b),e.rXU(Kt))};static#i=this.\u0275cmp=e.VBU({type:a,selectors:[["app-entity-translate-menu"]],inputs:{entityGuid:[e.Mj6.SignalBased,"entityGuid"]},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["menu","matMenu"],["fxLayoutAlign","end center"],["mat-button","","fxLayoutAlign","end center",3,"disabled","matMenuTriggerFor"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,Om,11,7,"div",1),2&i&&e.vxM(0,n.language().current!==n.language().primary?0:-1)},dependencies:[bt,Dt,p.Hl,p.$z,Ke.Cn,Ke.kk,Ke.fb,Ke.z8,Ke.Cp,P.m_,P.An,Lr.s,V.Pc,T.h,T.D9],styles:[".eav-translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}"]})}return a})();var Fi=g(8827),Ai=g(6571),Ze=g(4398);const jr="FieldMetadata";function Ft(a){return r=>{Reflect.defineMetadata(jr,a,r)}}var Oe=g(7796);let Pn=class $s{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config}static#e=this.\u0275fac=function(t){return new(t||$s)};static#t=this.\u0275cmp=e.VBU({type:$s,selectors:[["custom-default"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"message"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.EFF(1),e.k0s()),2&t&&(e.R7$(),e.SpI("",i.config.fieldName,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"]})};Pn=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],Pn);class Rn extends Te{constructor(){super({BooleanDefaultLogic:Rn}),this.name=oe.u.BooleanDefault}update({settings:r,value:t}){const i={...r};return i.ReverseToggle??=!1,i._label=this.calculateLabel(t,i),i}calculateLabel(r,t){return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:t.Name}}Te.add(Rn);var ge=g(5944),Ii=g(8857);const st="ValidationMessage.";let Ga=(()=>{class a{static#e=this.validationMessages={required:t=>t?`${st}Required`:`${st}RequiredShort`,min:t=>t?`${st}Min`:`${st}NotValid`,max:t=>t?`${st}Max`:`${st}NotValid`,minNoItems:t=>t?`${st}MinNoItems`:`${st}NotValid`,maxNoItems:t=>t?`${st}MaxNoItems`:`${st}NotValid`,pattern:t=>t?`${st}Pattern`:`${st}NotValid`,decimals:t=>t?`${st}Decimals`:`${st}NotValid`,jsonError:t=>t?`${st}JsonError`:`${st}NotValid`,formulaError:t=>`${st}NotValid`};static#t=this.warningMessages={jsonWarning:`${st}JsonWarning`,formulaWarning:`${st}NotValid`};static validateForm(t){const i={};for(const[n,s]of Object.entries(t.controls))if(Ii.a.markTouched(s),s.invalid)for(const o of Object.keys(s.errors))if(i[n]=this.validationMessages[o]?.(void 0),i[n])break;return i}static getErrors(t,i){const n=t.control;if(!n.invalid||!n.dirty&&!n.touched)return"";for(const s of Object.keys(n.errors)){const o="formulaError"===s?n.errors.formulaMessage??this.validationMessages[s]?.(i):this.validationMessages[s]?.(i);if(o)return o}return""}static getWarnings(t){const i=t.control;if(null==i._warning$.value||!i.dirty&&!i.touched)return"";let n="";for(const s of Object.keys(i._warning$.value))if(n="formulaWarning"===s?i._warning$.value.formulaMessage??this.warningMessages[s]:this.warningMessages[s],n)break;return n}}return a})();const Pm=(a,r,t,i)=>({"c-fht__container--no-hint":a,"c-fht__container--last":r,"c-fht__container--last--no-hint":t,"c-fht__container--hyperlink-default-wrapper-fix":i}),Rm=a=>({"c-fht__container-hint--ellipsis":a});function Vm(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-hint",4),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleHint(n))}),e.nrm(1,"span",5),e.nI1(2,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.disabled()?"c-fht__container-hint--disabled":"c-fht__container-hint"),e.R7$(),e.Y8G("ngClass",e.eq3(5,Rm,t.showExpand))("innerHtml",e.bMT(2,3,t.notes()),e.npT)}}function Ym(a,r){if(1&a&&(e.j41(0,"mat-error",2),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,r,t.settings()))}}function jm(a,r){1&a&&(e.j41(0,"mat-error",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,r)))}function Nm(a,r){if(1&a&&(e.j41(0,"div",0),e.DNE(1,Vm,3,7,"mat-hint",1)(2,Ym,3,4,"mat-error",2)(3,jm,3,3,"mat-error",3),e.k0s()),2&a){let t,i;const n=e.XpG();e.Y8G("ngClass",e.ziG(4,Pm,!n.notes()&&!n.showErrors(),n.fieldState.config.isLastInGroup,n.fieldState.config.isLastInGroup&&!n.notes()&&!n.showErrors(),n.hyperlinkDefaultWrapperFix&&!n.fieldState.config.isLastInGroup)),e.R7$(),e.vxM(1,n.notes()?1:-1),e.R7$(),e.vxM(2,(t=n.showErrors()&&n.errorMessage())?2:-1,t),e.R7$(),e.vxM(3,(i=!n.disableError&&n.warningMessage())?3:-1,i)}}let gt=(()=>{class a{constructor(){this.disableError=!1,this.hyperlinkDefaultWrapperFix=!1,this.flatIfEmpty=(0,e.hFB)(!1),this.fieldState=(0,e.WQX)(Oe.W),this.settings=this.fieldState.settings,this.#e=(0,$.bo)("invalid",()=>this.fieldState.ui().invalid),this.disabled=(0,$.bo)("disabled",()=>this.fieldState.ui().disabled),this.showErrors=(0,$.bo)("showErrors",()=>this.#e()&&!this.disableError),this.notes=(0,$.bo)("notes",()=>this.settings().Notes),this.isEmpty=(0,$.bo)("isEmpty",()=>!this.notes()&&!this.showErrors()),this.errorMessage=(0,$.bo)("errorMessage",()=>Ga.getErrors(this.fieldState.ui(),this.fieldState.config)),this.warningMessage=(0,$.bo)("warningMessage",()=>Ga.getWarnings(this.fieldState.ui())),this.show=(0,$.bo)("show",()=>!this.isEmpty()||this.warningMessage()||!this.flatIfEmpty()),this.showExpand=!0}#e;toggleHint(t){let i=t.target;if("a"!==i.nodeName.toLocaleLowerCase()){for(;i&&i.classList&&!i.classList.contains("notes-container");)if(i=i.parentNode,!i||"a"===i.nodeName.toLocaleLowerCase())return;this.showExpand=!this.showExpand}}static#t=this.\u0275fac=function(i){return new(i||a)};static#i=this.\u0275cmp=e.VBU({type:a,selectors:[["app-field-helper-text"]],inputs:{disableError:"disableError",hyperlinkDefaultWrapperFix:"hyperlinkDefaultWrapperFix",flatIfEmpty:[e.Mj6.SignalBased,"flatIfEmpty"]},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[1,"c-fht__container",3,"ngClass"],["align","start","fxLayout","row","fxLayoutAlign","start start",1,"mat-caption",3,"ngClass"],[1,"mat-caption"],[1,"mat-caption","warning"],["align","start","fxLayout","row","fxLayoutAlign","start start",1,"mat-caption",3,"click","ngClass"],["appChangeAnchorTarget","",1,"notes-container",3,"ngClass","innerHtml"]],template:function(i,n){1&i&&e.DNE(0,Nm,4,9,"div",0),2&i&&e.vxM(0,n.show()?0:-1)},dependencies:[V.YU,z.Cc,z.PW,ge.RG,ge.MV,ge.TL,bt,Lt,Dt,y,T.h,T.D9,f.$],styles:[".c-fht__container[_ngcontent-%COMP%], .c-fht__container--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 13px}.c-fht__container--last[_ngcontent-%COMP%], .c-fht__container--last--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 5px}.c-fht__container--hyperlink-default-wrapper-fix[_ngcontent-%COMP%]{min-height:22px}.c-fht__container-hint[_ngcontent-%COMP%]{color:#1d273d70}.c-fht__container-hint--ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.c-fht__container-hint--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-fht__container--input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.mat-mdc-form-field-error.warning[_ngcontent-%COMP%]{color:#ffc107}"]})}return a})(),Nr=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.changedLabel=this.fieldState.setting("_label")}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-boolean-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return a})(),$a=class Hs extends Nr{constructor(){super(),this.checkedState=(0,$.bo)("checkedState",()=>{const r=this.uiValue();return this.settings().ReverseToggle?!r:r}),Rn.importMe()}updateValue(){this.ui().disabled||this.fieldState.ui().setIfChanged(!this.uiValue())}static#e=this.\u0275fac=function(t){return new(t||Hs)};static#t=this.\u0275cmp=e.VBU({type:Hs,selectors:[["boolean-default"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:7,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue()}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",i.uiValue()?"":"changeable-label-mat-slide-toggle"),e.R7$(),e.Y8G("ngClass",i.uiValue()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[M.YN,M.cb,M.X1,M.j4,Fi.mV,Fi.sG,V.YU,z.Cc,z.PW,gt],styles:["[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})};$a=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],$a);class Vn extends Te{constructor(){super({BooleanTristateLogic:Vn}),this.name=oe.u.BooleanTristate}update({settings:r,value:t}){const i={...r};return i.ReverseToggle??=!1,i._label=this.calculateLabel(t,i),i}calculateLabel(r,t){return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:!r&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}}Te.add(Vn);const zm=(a,r,t,i)=>({"toggle-false":a,"toggle-true":r,"toggle-null":t,"changeable-label-tristate-mat-slide-toggle":i});let Ha=class Us extends Nr{constructor(){super(),this.fs=this.fieldState,this.checkedState=(0,$.bo)("checkedState",()=>{const r=this.fs.uiValue();return this.settings().ReverseToggle?!0!==r&&(!1===r||r):""===r?null:r}),this.bestLabel=(0,$.bo)("bestLabel",()=>{const r=this.checkedState(),t=this.settings();return!0===r&&t.TitleTrue?t.TitleTrue:!1===r&&t.TitleFalse?t.TitleFalse:null===r&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}),Vn.importMe()}updateValue(r){r||this.fieldState.ui().setIfChanged(this.#e())}#e(){const r=this.fs.uiValue(),t=this.settings().ReverseToggle;switch(r){case!1:return!!t||null;case!0:return!!t&&null;case"":case null:return!t}}static#t=this.\u0275fac=function(t){return new(t||Us)};static#i=this.\u0275cmp=e.VBU({type:Us,selectors:[["boolean-tristate"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:12,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue(i.ui().disabled)}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",e.ziG(7,zm,!1===i.checkedState(),!0===i.checkedState(),null===i.checkedState(),i.changedLabel()!==i.basics().label)),e.R7$(),e.Y8G("ngClass",i.checkedState()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[M.YN,M.cb,M.X1,M.j4,Fi.mV,Fi.sG,V.YU,z.Cc,z.PW,gt],styles:["[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9!important}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-image:linear-gradient(to right,#7fc3f9,#bfe1fc)!important}[_nghost-%COMP%]     .toggle-null .mdc-switch__handle{margin-left:8px!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})};Ha=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],Ha);var vt=g(8004),Pt=g(9168),Ei=g(2275),dt=g(4334),ne=g(7172),it=g(7984);const Bm=["mat-calendar-body",""];function Gm(a,r){if(1&a&&(e.j41(0,"tr",0)(1,"td",3),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t.numCols),e.R7$(),e.SpI(" ",t.label," ")}}function $m(a,r){if(1&a&&(e.j41(0,"td",3),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t._firstRowOffset),e.R7$(),e.SpI(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Hm(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",6)(1,"button",7),e.bIt("click",function(n){const s=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._cellClicked(s,n))})("focus",function(n){const s=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._emitActiveDateChange(s,n))}),e.j41(2,"span",8),e.EFF(3),e.k0s(),e.nrm(4,"span",9),e.k0s()()}if(2&a){const t=r.$implicit,i=r.$index,n=e.XpG().$index,s=e.XpG();e.xc7("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),e.BMQ("data-mat-row",n)("data-mat-col",i),e.R7$(),e.AVh("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(n,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,n,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),e.Y8G("ngClass",t.cssClasses)("tabindex",s._isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",s._isSelected(t.compareValue))("aria-current",s.todayValue===t.compareValue?"date":null)("aria-describedby",s._getDescribedby(t.compareValue)),e.R7$(),e.AVh("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),e.R7$(),e.SpI(" ",t.displayValue," ")}}function Um(a,r){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,$m,2,6,"td",4),e.Z7z(2,Hm,5,48,"td",5,e.fX1),e.k0s()),2&a){const t=r.$implicit,i=r.$index,n=e.XpG();e.R7$(),e.vxM(1,0===i&&n._firstRowOffset?1:-1),e.R7$(),e.Dyx(t)}}function Xm(a,r){if(1&a&&(e.j41(0,"th",2)(1,"span",6),e.EFF(2),e.k0s(),e.j41(3,"span",3),e.EFF(4),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.long),e.R7$(2),e.JRh(t.narrow)}}const Wm=["*"];function Jm(a,r){}function Qm(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-month-view",2),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("_userSelection",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dateSelected(n))})("dragStarted",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dragStarted(n))})("dragEnded",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._dragEnded(n))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Km(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-year-view",3),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._monthSelectedInYearView(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._goToDateInView(n,"month"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Zm(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-multi-year-view",4),e.mxI("activeDateChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.activeDate,n)||(s.activeDate=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._yearSelectedInMultiYearView(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s._goToDateInView(n,"year"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function qm(a,r){}const eh=["button"],th=[[["","matDatepickerToggleIcon",""]]],ih=["[matDatepickerToggleIcon]"];function nh(a,r){1&a&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"path",3),e.k0s())}let Wi=(()=>{class a{constructor(){this.changes=new de.B,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class Ua{constructor(r,t,i,n,s={},o=r,l){this.value=r,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=s,this.compareValue=o,this.rawValue=l}}let ah=1;const zr=(0,Ce.BQ)({passive:!1,capture:!0}),di=(0,Ce.BQ)({passive:!0,capture:!0}),Yn=(0,Ce.BQ)({passive:!0});let Oi=(()=>{class a{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=(0,e.WQX)(Ce.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.bkB,this.previewChange=new e.bkB,this.activeDateChange=new e.bkB,this.dragStarted=new e.bkB,this.dragEnded=new e.bkB,this._didDragSinceMouseDown=!1,this._enterHandler=n=>{if(this._skipNextFocus&&"focus"===n.type)this._skipNextFocus=!1;else if(n.target&&this.isRange){const s=this._getCellFromElement(n.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:n}))}},this._touchmoveHandler=n=>{if(!this.isRange)return;const s=Br(n),o=s?this._getCellFromElement(s):null;s!==n.target&&(this._didDragSinceMouseDown=!0),Wa(n.target)&&n.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:n}))},this._leaveHandler=n=>{null!==this.previewEnd&&this.isRange&&("blur"!==n.type&&(this._didDragSinceMouseDown=!0),n.target&&this._getCellFromElement(n.target)&&(!n.relatedTarget||!this._getCellFromElement(n.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:n})))},this._mousedownHandler=n=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=n.target&&this._getCellFromElement(n.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:n})})},this._mouseupHandler=n=>{if(!this.isRange)return;const s=Wa(n.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const o=this._getCellFromElement(s);this.dragEnded.emit({value:o?.rawValue??null,event:n})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:n})})},this._touchendHandler=n=>{const s=Br(n);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+ah++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const n=t.nativeElement;n.addEventListener("touchmove",this._touchmoveHandler,zr),n.addEventListener("mouseenter",this._enterHandler,di),n.addEventListener("focus",this._enterHandler,di),n.addEventListener("mouseleave",this._leaveHandler,di),n.addEventListener("blur",this._leaveHandler,di),n.addEventListener("mousedown",this._mousedownHandler,Yn),n.addEventListener("touchstart",this._mousedownHandler,Yn),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:n,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?s-n[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,zr),t.removeEventListener("mouseenter",this._enterHandler,di),t.removeEventListener("focus",this._enterHandler,di),t.removeEventListener("mouseleave",this._leaveHandler,di),t.removeEventListener("blur",this._leaveHandler,di),t.removeEventListener("mousedown",this._mousedownHandler,Yn),t.removeEventListener("touchstart",this._mousedownHandler,Yn),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let n=t*this.numCols+i;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,dt.s)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Ja(t,this.startValue,this.endValue)}_isRangeEnd(t){return Qa(t,this.startValue,this.endValue)}_isInRange(t){return Ka(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Ja(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][n-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][n+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return Qa(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Ka(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Ja(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Qa(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Ka(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){const i=Wa(t);if(i){const n=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(n&&s)return this.rows[parseInt(n)][parseInt(s)]}return null}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[e.OA$,e.aNF],attrs:Bm,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(e.DNE(0,Gm,3,6,"tr",0),e.Z7z(1,Um,4,1,"tr",1,e.fX1),e.j41(3,"label",2),e.EFF(4),e.k0s(),e.j41(5,"label",2),e.EFF(6),e.k0s()),2&i&&(e.vxM(0,n._firstRowOffset<n.labelMinRequiredCells?0:-1),e.R7$(),e.Dyx(n.rows),e.R7$(2),e.Y8G("id",n._startDateLabelId),e.R7$(),e.SpI(" ",n.startDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._endDateLabelId),e.R7$(),e.SpI(" ",n.endDateAccessibleName,"\n"))},dependencies:[V.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return a})();function Xa(a){return"TD"===a?.nodeName}function Wa(a){let r;return Xa(a)?r=a:Xa(a.parentNode)?r=a.parentNode:Xa(a.parentNode?.parentNode)&&(r=a.parentNode.parentNode),null!=r?.getAttribute("data-mat-row")?r:null}function Ja(a,r,t){return null!==t&&r!==t&&a<t&&a===r}function Qa(a,r,t){return null!==r&&r!==t&&a>=r&&a===t}function Ka(a,r,t,i){return i&&null!==r&&null!==t&&r!==t&&a>=r&&a<=t}function Br(a){const r=a.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}class Tt{constructor(r,t){this.start=r,this.end=t}}let ci=(()=>{class a{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new de.B,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static#e=this.\u0275fac=function(i){e.QTQ()};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),sh=(()=>{class a extends ci{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new a(this._adapter);return t.updateSelection(this.selection,this),t}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(U.MJ))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Gr={provide:ci,deps:[[new e.Xx1,new e.kdw,ci],U.MJ],useFactory:function oh(a,r){return a||new sh(r)}},jn=new e.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let $r=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Tt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n,s,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=te.yU.EMPTY,this.activeDrag=null,this.selectedChange=new e.bkB,this._userSelection=new e.bkB,this.dragStarted=new e.bkB,this.dragEnded=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,I.Z)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,n=this._getDateFromDayOfMonth(i);let s,o;this._selected instanceof Tt?(s=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):s=o=this._getDateInCurrentMonth(this._selected),(s!==i||o!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case W.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case W.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case W.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case W.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case W.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case W.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case W.w_:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case W.dB:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case W.Fm:case W.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case W._f:return void(null!=this._previewEnd&&!(0,W.rp)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===W.t6||t.keyCode===W.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const n=i?i.rawValue:null,s=this._rangeStrategy.createPreview(n,this.selected,t);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&n){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,t);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,l)=>({long:o,narrow:i[l]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,s=this._firstWeekOffset;n<t;n++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),l=this._shouldEnableDate(o),u=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ua(n+1,i[n],u,l,_,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,n,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Tt?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(U.de,8),e.rXU(U.MJ,8),e.rXU(li.dS,8),e.rXU(jn,8))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Oi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[e.OA$,e.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.Z7z(3,Xm,5,2,"th",2,e.fX1),e.k0s(),e.j41(5,"tr",3),e.nrm(6,"th",4),e.k0s()(),e.j41(7,"tbody",5),e.bIt("selectedValueChange",function(o){return n._dateSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("previewChange",function(o){return n._previewChanged(o)})("dragStarted",function(o){return n.dragStarted.emit(o)})("dragEnded",function(o){return n._dragEnded(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(3),e.Dyx(n._weekdays),e.R7$(4),e.Y8G("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[Oi],encapsulation:2,changeDetection:0})}return a})();const Rt=24;let Hr=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Ur(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Tt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=te.yU.EMPTY,this.selectedChange=new e.bkB,this.yearSelected=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,I.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,s=[];n<Rt;n++)s.push(i+n),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,n=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(s)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case W.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case W.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case W.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case W.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case W.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case W.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Rt-Ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case W.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-Rt:-Rt);break;case W.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*Rt:Rt);break;case W.Fm:case W.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===W.t6||t.keyCode===W.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ji(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Ua(t,n,n,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Tt){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(U.MJ,8),e.rXU(li.dS,8))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Oi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._yearSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[Oi],encapsulation:2,changeDetection:0})}return a})();function Ur(a,r,t,i,n){const s=a.getYear(r),o=a.getYear(t),l=Xr(a,i,n);return Math.floor((s-l)/Rt)===Math.floor((o-l)/Rt)}function Ji(a,r,t,i){return function uh(a,r){return(a%r+r)%r}(a.getYear(r)-Xr(a,t,i),Rt)}function Xr(a,r,t){let i=0;return t?i=a.getYear(t)-Rt+1:r&&(i=a.getYear(r)),i}let Wr=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof Tt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,n,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=n,this._dir=s,this._rerenderSubscription=te.yU.EMPTY,this.selectedChange=new e.bkB,this.monthSelected=new e.bkB,this.activeDateChange=new e.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,I.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case W.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case W.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case W.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case W.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case W.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case W.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case W.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case W.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case W.Fm:case W.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===W.t6||t.keyCode===W.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(t,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(n,"year"):void 0;return new Ua(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Tt?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(U.de,8),e.rXU(U.MJ,8),e.rXU(li.dS,8))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Oi,5),2&i){let s;e.mGM(s=e.lsd())&&(n._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[e.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._monthSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[Oi],encapsulation:2,changeDetection:0})}return a})(),mh=1,Jr=(()=>{class a{constructor(t,i,n,s,o){this._intl=t,this.calendar=i,this._dateAdapter=n,this._dateFormats=s,this._id="mat-calendar-header-"+mh++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Rt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Rt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):Ur(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-Ji(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+Rt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1))]}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Wi),e.rXU((0,e.Rfq)(()=>es)),e.rXU(U.MJ,8),e.rXU(U.de,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[e.aNF],ngContentSelectors:Wm,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return n.currentPeriodClicked()}),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.qSk(),e.j41(7,"svg",5),e.nrm(8,"polygon",6),e.k0s()(),e.joV(),e.nrm(9,"div",7),e.SdG(10),e.j41(11,"button",8),e.bIt("click",function(){return n.previousClicked()}),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return n.nextClicked()}),e.k0s()()()),2&i&&(e.R7$(2),e.Y8G("id",n._periodButtonLabelId),e.R7$(),e.JRh(n.periodButtonDescription),e.R7$(),e.BMQ("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),e.R7$(2),e.JRh(n.periodButtonText),e.R7$(),e.AVh("mat-calendar-invert","month"!==n.calendar.currentView),e.R7$(4),e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[p.$z,p.iY],encapsulation:2,changeDetection:0})}return a})(),es=(()=>{class a{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof Tt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,n,s){this._dateAdapter=i,this._dateFormats=n,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.viewChanged=new e.bkB(!0),this._userSelection=new e.bkB,this._userDragDrop=new e.bkB,this._activeDrag=null,this.stateChanges=new de.B,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Pt.A8(this.headerComponent||Jr),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,s=i||n||t.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Tt||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Wi),e.rXU(U.MJ,8),e.rXU(U.de,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(e.GBs($r,5),e.GBs(Wr,5),e.GBs(Hr,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.monthView=s.first),e.mGM(s=e.lsd())&&(n.yearView=s.first),e.mGM(s=e.lsd())&&(n.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[e.Jv_([Gr]),e.OA$,e.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,n){if(1&i&&(e.DNE(0,Jm,0,0,"ng-template",0),e.j41(1,"div",1),e.DNE(2,Qm,1,11)(3,Km,1,6)(4,Zm,1,6),e.k0s()),2&i){let s;e.Y8G("cdkPortalOutlet",n._calendarHeaderPortal),e.R7$(2),e.vxM(2,"month"===(s=n.currentView)?2:"year"===s?3:"multi-year"===s?4:-1)}},dependencies:[Pt.I3,Me.vR,$r,Wr,Hr],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return a})();const Qr={transformPanel:(0,ne.hZ)("transformPanel",[(0,ne.kY)("void => enter-dropdown",(0,ne.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ne.i7)([(0,ne.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,ne.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,ne.kY)("void => enter-dialog",(0,ne.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ne.i7)([(0,ne.iF)({opacity:0,transform:"scale(0.7)"}),(0,ne.iF)({transform:"none",opacity:1})]))),(0,ne.kY)("* => void",(0,ne.i0)("100ms linear",(0,ne.iF)({opacity:0})))]),fadeInCalendar:(0,ne.hZ)("fadeInCalendar",[(0,ne.wk)("void",(0,ne.iF)({opacity:0})),(0,ne.wk)("enter",(0,ne.iF)({opacity:1})),(0,ne.kY)("void => *",(0,ne.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let hh=0;const Kr=new e.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const a=(0,e.WQX)(vt.hJ);return()=>a.scrollStrategies.reposition()}}),gh={provide:Kr,deps:[vt.hJ],useFactory:function ph(a){return()=>a.scrollStrategies.reposition()}};let Zr=(()=>{class a{constructor(t,i,n,s,o,l){this._elementRef=t,this._changeDetectorRef=i,this._globalModel=n,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new te.yU,this._animationDone=new de.B,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,n=t.value,s=i instanceof Tt;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(n,i,t.event);this._model.updateSelection(o,this)}else n&&(s||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating="start"===t.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ci),e.rXU(U.MJ),e.rXU(jn,8),e.rXU(Wi))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&e.GBs(es,5),2&i){let s;e.mGM(s=e.lsd())&&(n._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,n){1&i&&e.Kam("@transformPanel.start",function(o){return n._handleAnimationEvent(o)})("@transformPanel.done",function(o){return n._handleAnimationEvent(o)}),2&i&&(e.zvX("@transformPanel",n._animationState),e.HbH(n.color?"mat-"+n.color:""),e.AVh("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[e.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"mat-calendar",1),e.bIt("yearSelected",function(o){return n.datepicker._selectYear(o)})("monthSelected",function(o){return n.datepicker._selectMonth(o)})("viewChanged",function(o){return n.datepicker._viewChanged(o)})("_userSelection",function(o){return n._handleUserSelection(o)})("_userDragDrop",function(o){return n._handleUserDragDrop(o)}),e.k0s(),e.DNE(2,qm,0,0,"ng-template",2),e.j41(3,"button",3),e.bIt("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e.EFF(4),e.k0s()()),2&i){let s;e.AVh("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),e.BMQ("aria-modal",!0)("aria-labelledby",null!==(s=n._dialogLabelId)&&void 0!==s?s:void 0),e.R7$(),e.HbH(n.datepicker.panelClass),e.Y8G("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),e.R7$(),e.Y8G("cdkPortalOutlet",n._actionsPortal),e.R7$(),e.AVh("cdk-visually-hidden",!n._closeButtonFocused),e.Y8G("color",n.color||"primary"),e.R7$(),e.JRh(n._closeButtonText)}},dependencies:[Me.kB,es,Pt.I3,p.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Qr.transformPanel,Qr.fadeInCalendar]},changeDetection:0})}return a})(),qr=(()=>{class a{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,re.cc)(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,n,s,o,l,u){this._overlay=t,this._ngZone=i,this._viewContainerRef=n,this._dateAdapter=o,this._dir=l,this._model=u,this._inputStateChanges=te.yU.EMPTY,this._document=(0,e.WQX)(V.qQ),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.viewChanged=new e.bkB(!0),this.openedStream=new e.bkB,this.closedStream=new e.bkB,this._opened=!1,this.id="mat-datepicker-"+hh++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new de.B,this._scrollStrategy=s}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof vt.rW&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,Ce.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:n,location:s}=this._componentRef;n._startExitAnimation(),n._animationDone.pipe((0,dt.s)(1)).subscribe(()=>{const o=this._document.activeElement;t&&(!o||o===this._document.activeElement||s.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new Pt.A8(Zr,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new vt.rR({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(n).subscribe(s=>{s&&s.preventDefault(),this.close()}),n.keydownEvents().subscribe(s=>{const o=s.keyCode;(o===W.i7||o===W.n6||o===W.UQ||o===W.LE||o===W.w_||o===W.dB)&&s.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,dt.s)(1)).subscribe(()=>n.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:o}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return(0,_e.h)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Ct.p)(n=>n.keyCode===W._f&&!(0,W.rp)(n)||this.datepickerInput&&(0,W.rp)(n,"altKey")&&n.keyCode===W.i7&&i.every(s=>!(0,W.rp)(n,s)))))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(vt.hJ),e.rXU(e.SKi),e.rXU(e.c1b),e.rXU(Kr),e.rXU(U.MJ,8),e.rXU(li.dS,8),e.rXU(ci))};static#t=this.\u0275dir=e.FsC({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[e.Mj6.HasDecoratorInputTransform,"touchUi","touchUi",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[e.Mj6.HasDecoratorInputTransform,"restoreFocus","restoreFocus",e.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[e.Mj6.HasDecoratorInputTransform,"opened","opened",e.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.GFd,e.OA$]})}return a})(),fh=(()=>{class a extends qr{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[e.Jv_([Gr,{provide:qr,useExisting:a}]),e.Vt3,e.aNF],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}return a})();class Nn{constructor(r,t){this.target=r,this.targetElement=t,this.value=this.target.value}}let _h=(()=>{class a{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=t,n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new Nn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Nn(this,this._elementRef.nativeElement))}})}constructor(t,i,n){this._elementRef=t,this._dateAdapter=i,this._dateFormats=n,this.dateChange=new e.bkB,this.dateInput=new e.bkB,this.stateChanges=new de.B,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=te.yU.EMPTY,this._localeSubscription=te.yU.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!o||this._dateAdapter.compareDate(l,o)<=0?null:{matDatepickerMin:{min:l,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!o||this._dateAdapter.compareDate(l,o)>=0?null:{matDatepickerMax:{max:l,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function bh(a,r){const t=Object.keys(a);for(let i of t){const{previousValue:n,currentValue:s}=a[i];if(!r.isDateInstance(n)||!r.isDateInstance(s))return!0;if(!r.sameDate(n,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,W.rp)(t,"altKey")&&t.keyCode===W.n6&&["ctrlKey","shiftKey","metaKey"].every(s=>!(0,W.rp)(t,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const s=!this._dateAdapter.sameDate(n,this.value);!n||s?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(n),this.dateInput.emit(new Nn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Nn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(U.MJ,8),e.rXU(U.de,8))};static#t=this.\u0275dir=e.FsC({type:a,inputs:{value:"value",disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[e.GFd,e.OA$]})}return a})();const vh={provide:M.kq,useExisting:(0,e.Rfq)(()=>ts),multi:!0},yh={provide:M.cz,useExisting:(0,e.Rfq)(()=>ts),multi:!0};let ts=(()=>{class a extends _h{set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(t,i,n,s){super(t,i,n),this._formField=s,this._closedSubscription=te.yU.EMPTY,this._validator=M.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(U.MJ,8),e.rXU(U.de,8),e.rXU(ge.xb,8))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,n){1&i&&e.bIt("input",function(o){return n._onInput(o.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(o){return n._onKeydown(o)}),2&i&&(e.Mr5("disabled",n.disabled),e.BMQ("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[e.Mj6.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[e.Jv_([vh,yh,{provide:it.Oh,useExisting:a}]),e.Vt3]})}return a})(),wh=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return a})(),eo=(()=>{class a{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}constructor(t,i,n){this._intl=t,this._changeDetectorRef=i,this._stateChanges=te.yU.EMPTY;const s=Number(n);this.tabIndex=s||0===s?s:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,m.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,m.of)(),n=this.datepicker?(0,_e.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,m.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,_e.h)(this._intl.changes,t,i,n).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Wi),e.rXU(e.gRc),e.kS0("tabindex"))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,n,s){if(1&i&&e.wni(s,wh,5),2&i){let o;e.mGM(o=e.lsd())&&(n._customIcon=o.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(eh,5),2&i){let s;e.mGM(s=e.lsd())&&(n._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._open(o)}),2&i&&(e.BMQ("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),e.AVh("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:[e.Mj6.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[e.GFd,e.OA$,e.aNF],ngContentSelectors:ih,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,n){1&i&&(e.NAR(th),e.j41(0,"button",1,0),e.DNE(2,nh,2,0,":svg:svg",2),e.SdG(3),e.k0s()),2&i&&(e.Y8G("disabled",n.disabled)("disableRipple",n.disableRipple),e.BMQ("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),e.R7$(2),e.vxM(2,n._customIcon?-1:2))},dependencies:[p.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return a})(),Ch=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[Wi,gh],imports:[V.MD,p.Hl,vt.z_,Me.Pd,Pt.jc,U.yE,Zr,eo,Jr,Ei.Gj]})}return a})();var Vt=g(9645),rt=g.n(Vt),Mh=g(1102),io=g.n(Mh),Dh=g(137),Th=g(2575);const Sh=["owl-date-time-calendar-body",""],Fh=(a,r,t)=>({"owl-dt-calendar-cell-out":a,"owl-dt-calendar-cell-today":r,"owl-dt-calendar-cell-selected":t});function Ah(a,r){if(1&a){const t=e.RV6();e.j41(0,"td",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectCell(n))}),e.j41(1,"span",4),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit,i=r.index,n=e.XpG().index,s=e.XpG();e.ZvI("owl-dt-calendar-cell ",t.cellClass,""),e.xc7("width",100/s.numCols,"%")("padding-top",50*s.cellRatio/s.numCols,"%")("padding-bottom",50*s.cellRatio/s.numCols,"%"),e.AVh("owl-dt-calendar-cell-active",s.isActiveCell(n,i))("owl-dt-calendar-cell-disabled",!t.enabled)("owl-dt-calendar-cell-in-range",s.isInRange(t.value))("owl-dt-calendar-cell-range-from",s.isRangeFrom(t.value))("owl-dt-calendar-cell-range-to",s.isRangeTo(t.value)),e.Y8G("tabindex",s.isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-current",t.value===s.todayValue?"date":null)("aria-selected",s.isSelected(t.value)),e.R7$(),e.Y8G("ngClass",e.sMw(26,Fh,t.out,t.value===s.todayValue,s.isSelected(t.value))),e.R7$(),e.SpI(" ",t.displayValue," ")}}function Ih(a,r){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,Ah,3,30,"td",2),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function Eh(a,r){if(1&a&&(e.j41(0,"th",6)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.BMQ("aria-label",t.long),e.R7$(2),e.JRh(t.short)}}function Oh(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-month-view",16),e.bIt("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.dateSelected(n))})("userSelection",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.userSelected())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("firstDayOfWeek",t.firstDayOfWeek)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)("hideOtherMonths",t.hideOtherMonths)}}function Lh(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-year-view",17),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectMonthInYearView(n))})("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.goToDateInView(n,s.DateView.MONTH))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}function Ph(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-multi-year-view",18),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handlePickerMomentChange(n))})("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectYearInMultiYearView(n))})("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.goToDateInView(n,s.DateView.YEAR))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}const Rh=["valueInput"];function Vh(a,r){1&a&&e.nrm(0,"div",10)}function Yh(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer-box",1),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setSecondValue(n))})("valueChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setSecondValue(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("showDivider",!0)("upBtnAriaLabel",t.upSecondButtonLabel)("downBtnAriaLabel",t.downSecondButtonLabel)("upBtnDisabled",!t.upSecondEnabled())("downBtnDisabled",!t.downSecondEnabled())("value",t.secondValue)("min",0)("max",59)("step",t.stepSecond)("inputLabel","Second")}}function jh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",4)(1,"button",5),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setMeridiem(n))}),e.j41(2,"span",6),e.EFF(3),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.hour12ButtonLabel," ")}}const no=a=>({"owl-dt-container-info-active":a});function Nh(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-calendar",7),e.mxI("pickerMomentChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.pickerMoment,n)||(s.pickerMoment=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectYear(n))})("monthSelected",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectMonth(n))})("dateClicked",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.picker.selectDate(n))})("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.dateSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("firstDayOfWeek",t.picker.firstDayOfWeek),e.R50("pickerMoment",t.pickerMoment),e.Y8G("selected",t.picker.selected)("selecteds",t.picker.selecteds)("selectMode",t.picker.selectMode)("minDate",t.picker.minDateTime)("maxDate",t.picker.maxDateTime)("dateFilter",t.picker.dateTimeFilter)("startView",t.picker.startView)("yearOnly",t.picker.yearOnly)("multiyearOnly",t.picker.multiyearOnly)("hideOtherMonths",t.picker.hideOtherMonths)}}function zh(a,r){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer",8),e.bIt("selectedChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.timeSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("minDateTime",t.picker.minDateTime)("maxDateTime",t.picker.maxDateTime)("showSecondsTimer",t.picker.showSecondsTimer)("hour12Timer",t.picker.hour12Timer)("stepHour",t.picker.stepHour)("stepMinute",t.picker.stepMinute)("stepSecond",t.picker.stepSecond)}}function Bh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",9)(1,"div",10,0),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handleClickOnInfoGroup(n,0))})("keydown",function(n){e.eBV(t);const s=e.sdS(9),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,s,0))}),e.j41(3,"span",11)(4,"span",12),e.EFF(5),e.k0s(),e.j41(6,"span",13),e.EFF(7),e.k0s()()(),e.j41(8,"div",14,1),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handleClickOnInfoGroup(n,1))})("keydown",function(n){e.eBV(t);const s=e.sdS(2),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,s,1))}),e.j41(10,"span",11)(11,"span",12),e.EFF(12),e.k0s(),e.j41(13,"span",13),e.EFF(14),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("tabindex",0===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(10,no,0===t.activeSelectedIndex)),e.BMQ("aria-checked",0===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.fromLabel,":"),e.R7$(2),e.JRh(t.fromFormattedValue),e.R7$(),e.Y8G("tabindex",1===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(12,no,1===t.activeSelectedIndex)),e.BMQ("aria-checked",1===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.toLabel,":"),e.R7$(2),e.JRh(t.toFormattedValue)}}function Gh(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onCancelClicked(n))}),e.j41(2,"span",17),e.EFF(3),e.k0s()(),e.j41(4,"button",16),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onSetClicked(n))}),e.j41(5,"span",17),e.EFF(6),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.cancelLabel," "),e.R7$(3),e.SpI(" ",t.setLabel," ")}}function $h(a,r){}let Qi=(()=>{class a{changes=new de.B;upSecondLabel="Add a second";downSecondLabel="Minus a second";upMinuteLabel="Add a minute";downMinuteLabel="Minus a minute";upHourLabel="Add a hour";downHourLabel="Minus a hour";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 21 years";nextMultiYearLabel="Next 21 years";switchToMonthViewLabel="Change to month view";switchToMultiYearViewLabel="Choose month and year";cancelBtnLabel="Cancel";setBtnLabel="Set";rangeFromLabel="From";rangeToLabel="To";hour12AMLabel="AM";hour12PMLabel="PM";static \u0275fac=function(i){return new(i||a)};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const ns=new e.nKC("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:function Hh(){return(0,e.WQX)(e.xe9)}});class At{locale;_localeChanges=new de.B;get localeChanges(){return this._localeChanges}millisecondsInDay=864e5;milliseondsInMinute=6e4;compare(r,t){if(!this.isValid(r)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const i=this.clone(r),n=this.clone(t),s=this.getTime(i)-this.getTime(n);return s<0?-1:s>0?1:s}compareYear(r,t){if(!this.isValid(r)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const s=this.getYear(r)-this.getYear(t);return s<0?-1:s>0?1:0}deserialize(r){return null==r||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next(r)}getLocale(){return this.locale}clampDate(r,t,i){return t&&this.compare(r,t)<0?t:i&&this.compare(r,i)>0?i:r}}const ii=new e.nKC("OWL_DATE_TIME_FORMATS");let Uh=0;var nt=function(a){return a.MONTH="month",a.YEAR="year",a.MULTI_YEARS="multi-years",a}(nt||{});let ao=(()=>{class a{dateTimeAdapter;dateTimeFormats;_showSecondsTimer=!1;get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(t){this._showSecondsTimer=(0,re.he)(t)}_hour12Timer=!1;get hour12Timer(){return this._hour12Timer}set hour12Timer(t){this._hour12Timer=(0,re.he)(t)}startView=nt.MONTH;yearOnly=!1;multiyearOnly=!1;_stepHour=1;get stepHour(){return this._stepHour}set stepHour(t){this._stepHour=(0,re.OE)(t,1)}_stepMinute=1;get stepMinute(){return this._stepMinute}set stepMinute(t){this._stepMinute=(0,re.OE)(t,1)}_stepSecond=1;get stepSecond(){return this._stepSecond}set stepSecond(t){this._stepSecond=(0,re.OE)(t,1)}_firstDayOfWeek;get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t=(0,re.OE)(t),this._firstDayOfWeek=t>6||t<0?void 0:t}_hideOtherMonths=!1;get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(t){this._hideOtherMonths=(0,re.he)(t)}_id;get id(){return this._id}get formatString(){return"both"===this.pickerType?this.dateTimeFormats.fullPickerInput:"calendar"===this.pickerType?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}dateTimeChecker=t=>!!t&&(!this.dateTimeFilter||this.dateTimeFilter(t))&&(!this.minDateTime||this.dateTimeAdapter.compare(t,this.minDateTime)>=0)&&(!this.maxDateTime||this.dateTimeAdapter.compare(t,this.maxDateTime)<=0);get disabled(){return!1}constructor(t,i){if(this.dateTimeAdapter=t,this.dateTimeFormats=i,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id="owl-dt-picker-"+Uh++}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static \u0275fac=function(i){return new(i||a)(e.rXU(At,8),e.rXU(ii,8))};static \u0275dir=e.FsC({type:a,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"}})}return a})();class as{value;displayValue;ariaLabel;enabled;out;cellClass;constructor(r,t,i,n,s=!1,o=""){this.value=r,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.out=s,this.cellClass=o}}let Li=(()=>{class a{elmRef;ngZone;activeCell=0;rows;numCols=7;cellRatio=1;todayValue;selectedValues;selectMode;select=new e.bkB;get owlDTCalendarBodyClass(){return!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}constructor(t,i){this.elmRef=t,this.ngZone=i}ngOnInit(){}selectCell(t){this.select.emit(t)}isActiveCell(t,i){return t*this.numCols+i===this.activeCell}isSelected(t){return!(!this.selectedValues||0===this.selectedValues.length)&&(this.isInSingleMode?t===this.selectedValues[0]:this.isInRangeMode?t===this.selectedValues[0]||t===this.selectedValues[1]:void 0)}isInRange(t){if(this.isInRangeMode){const i=this.selectedValues[0],n=this.selectedValues[1];return null!==i&&null!==n?t>=i&&t<=n:t===i||t===n}}isRangeFrom(t){if(this.isInRangeMode){const i=this.selectedValues[0];return null!==i&&t===i}}isRangeTo(t){if(this.isInRangeMode){const i=this.selectedValues[1];return null!==i&&t===i}}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,dt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}static \u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:a,selectors:[["","owl-date-time-calendar-body",""]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-body",n.owlDTCalendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["owlDateTimeCalendarBody"],attrs:Sh,decls:1,vars:1,consts:[["role","row",4,"ngFor","ngForOf"],["role","row"],[3,"class","tabindex","owl-dt-calendar-cell-active","owl-dt-calendar-cell-disabled","owl-dt-calendar-cell-in-range","owl-dt-calendar-cell-range-from","owl-dt-calendar-cell-range-to","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],[3,"click","tabindex"],[1,"owl-dt-calendar-cell-content",3,"ngClass"]],template:function(i,n){1&i&&e.DNE(0,Ih,2,1,"tr",0),2&i&&e.Y8G("ngForOf",n.rows)},dependencies:[V.YU,V.Sq],changeDetection:0})}return a})();class Jh{static create(){return{multiYear:{yearRows:7,yearsPerRow:3}}}}class zn{static all=new e.nKC("All options token");static multiYear=new e.nKC("Grid view options token")}const Qh=[{provide:zn.all,useFactory:function Xh(){return Jh.create()}},{provide:zn.multiYear,useFactory:function Wh(a){return a.multiYear},deps:[zn.all]}];let Kh=(()=>{class a{cdRef;pickerIntl;dateTimeAdapter;options;_selectMode="single";get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}_selected;get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedYears()}_selecteds=[];get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedYears()}_pickerMoment;get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),i&&this._pickerMoment&&!this.isSameYearList(i,this._pickerMoment)&&this.generateYearList()}_dateFilter;get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateYearList()}_minDate;get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateYearList()}_maxDate;get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateYearList()}_todayYear;get todayYear(){return this._todayYear}_years;get years(){return this._years}_selectedYears;get selectedYears(){return this._selectedYears}initiated=!1;get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} - ${this._years[this.options.yearRows-1][this.options.yearsPerRow-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}change=new e.bkB;yearSelected=new e.bkB;pickerMomentChange=new e.bkB;keyboardEnter=new e.bkB;calendarBodyElm;get owlDTCalendarView(){return!0}get owlDTCalendarMultiYearView(){return!0}constructor(t,i,n,s){this.cdRef=t,this.pickerIntl=i,this.dateTimeAdapter=n,this.options=s}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(t){this.selectYear(t.value)}selectYear(t){this.yearSelected.emit(this.dateTimeAdapter.createDate(t,0,1));const i=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),1),n=this.dateTimeAdapter.getNumDaysInMonth(i),s=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}prevYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}nextYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}generateYearList(){this._years=[];const t=this.dateTimeAdapter.getYear(this._pickerMoment),i=t%(this.options.yearsPerRow*this.options.yearRows);for(let n=0;n<this.options.yearRows;n++){const s=[];for(let o=0;o<this.options.yearsPerRow;o++){const u=this.createYearCell(t-i+(o+n*this.options.yearsPerRow));s.push(u)}this._years.push(s)}}previousEnabled(){return!this.minDate||!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate)}nextEnabled(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)}handleCalendarKeydown(t){let i;switch(t.keyCode){case W.UQ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(i);break;case W.LE:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(i);break;case W.i7:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case W.n6:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case W.yZ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(i);break;case W.Kp:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow*this.options.yearRows-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)-1),this.pickerMomentChange.emit(i);break;case W.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*-10:this.options.yearsPerRow*this.options.yearRows*-1),this.pickerMomentChange.emit(i);break;case W.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*10:this.options.yearsPerRow*this.options.yearRows),this.pickerMomentChange.emit(i);break;case W.Fm:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}createYearCell(t){const i=this.dateTimeAdapter.createDate(t,0,1),n=this.dateTimeAdapter.getYearName(i),s="owl-dt-year-"+t;return new as(t,t.toString(),n,this.isYearEnabled(t),!1,s)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.getYear(t):null))}isYearEnabled(t){if(null==t||this.maxDate&&t>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&t<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this.dateTimeAdapter.createDate(t,0,1);this.dateTimeAdapter.getYear(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}isSameYearList(t,i){return Math.floor(this.dateTimeAdapter.getYear(t)/(this.options.yearsPerRow*this.options.yearRows))===Math.floor(this.dateTimeAdapter.getYear(i)/(this.options.yearsPerRow*this.options.yearRows))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(Qi),e.rXU(At,8),e.rXU(zn.multiYear))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Li,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)("owl-dt-calendar-multi-year-view",n.owlDTCalendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-table","owl-dt-calendar-multi-year-table"],[1,"owl-dt-calendar-header"],["colspan","3"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(i,n){1&i&&(e.j41(0,"button",0),e.bIt("click",function(o){return n.prevYearList(o)}),e.j41(1,"span",1),e.qSk(),e.j41(2,"svg",2),e.nrm(3,"path",3),e.k0s()()(),e.joV(),e.j41(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),e.EFF(8),e.k0s()()(),e.j41(9,"tbody",7),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()(),e.j41(10,"button",0),e.bIt("click",function(o){return n.nextYearList(o)}),e.j41(11,"span",1),e.qSk(),e.j41(12,"svg",8),e.nrm(13,"path",9),e.k0s()()()),2&i&&(e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(8),e.JRh(n.tableHeader),e.R7$(),e.Y8G("rows",n.years)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayYear)("selectedValues",n.selectedYears)("selectMode",n.selectMode),e.R7$(),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[Li],changeDetection:0})}return a})(),qh=(()=>{class a{cdRef;dateTimeAdapter;dateTimeFormats;_selectMode="single";get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}_selected;get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.setSelectedMonths()}_selecteds=[];get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=[];for(let i=0;i<t.length;i++){const n=this.dateTimeAdapter.deserialize(t[i]);this._selecteds.push(this.getValidDate(n))}this.setSelectedMonths()}_pickerMoment;get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),!this.hasSameYear(i,this._pickerMoment)&&this.initiated&&this.generateMonthList()}_dateFilter;get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateMonthList()}_minDate;get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}_maxDate;get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}monthNames;_months;get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}localeSub=te.yU.EMPTY;initiated=!1;todayMonth;selectedMonths=[];change=new e.bkB;monthSelected=new e.bkB;pickerMomentChange=new e.bkB;keyboardEnter=new e.bkB;calendarBodyElm;get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){this.selectMonth(t.value)}selectMonth(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.monthSelected.emit(i);const n=this.dateTimeAdapter.getNumDaysInMonth(i),s=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}handleCalendarKeydown(t){let i;switch(t.keyCode){case W.UQ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case W.LE:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case W.i7:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(i);break;case W.n6:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(i);break;case W.yZ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case W.Kp:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case W.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?-10:-1),this.pickerMomentChange.emit(i);break;case W.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?10:1),this.pickerMomentChange.emit(i);break;case W.Fm:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let t=0;t<4;t++){const i=[];for(let n=0;n<3;n++){const o=this.createMonthCell(n+3*t);i.push(o)}this._months.push(i)}}}createMonthCell(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1),n=this.dateTimeAdapter.format(i,this.dateTimeFormats.monthYearA11yLabel),s="owl-dt-month-"+t;return new as(t,this.monthNames[t],n,this.isMonthEnabled(t),!1,s)}isMonthEnabled(t){for(let n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.dateTimeAdapter.getMonth(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(n&&(!this.dateFilter||this.dateFilter(n))&&(!this.minDate||this.dateTimeAdapter.compare(n,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(n,this.maxDate)<=0))return!0;return!1}getMonthInCurrentYear(t){if(this.getValidDate(t)&&this.getValidDate(this._pickerMoment)){const i=this.dateTimeAdapter.compareYear(t,this._pickerMoment);return i<0?-1:i>0?12:this.dateTimeAdapter.getMonth(t)}return null}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(t,i){return!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(At,8),e.rXU(ii,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Li,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},exportAs:["owlMonthView"],decls:5,vars:7,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-year-table"],[1,"owl-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n.months)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayMonth)("selectedValues",n.selectedMonths)("selectMode",n.selectMode))},dependencies:[Li],changeDetection:0})}return a})(),tp=(()=>{class a{cdRef;dateTimeAdapter;dateTimeFormats;hideOtherMonths=!1;isDefaultFirstDayOfWeek=!0;_firstDayOfWeek;get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t>=0&&t<=6&&t!==this._firstDayOfWeek&&(this._firstDayOfWeek=t,this.isDefaultFirstDayOfWeek=!1,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}_selectMode="single";get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}_selected;get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedDates()}_selecteds=[];get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedDates()}_pickerMoment;get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(i,this._pickerMoment)&&this.initiated&&this.generateCalendar()}_dateFilter;get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}_minDate;get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}_maxDate;get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}_weekdays;get weekdays(){return this._weekdays}_days;get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}firstDateOfMonth;localeSub=te.yU.EMPTY;initiated=!1;dateNames;todayDate;selectedDates=[];firstRowOffset;selectedChange=new e.bkB;userSelection=new e.bkB;pickerMomentChange=new e.bkB;calendarBodyElm;get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n}ngOnInit(){this.updateFirstDayOfWeek(this.dateTimeAdapter.getLocale()),this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(t=>{this.updateFirstDayOfWeek(t),this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){!t.enabled||this.hideOtherMonths&&t.out||this.selectDate(t.value)}selectDate(t){const n=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t-1);this.selectedChange.emit(n),this.userSelection.emit()}handleCalendarKeydown(t){let i;switch(t.keyCode){case W.UQ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case W.LE:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case W.i7:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(i);break;case W.n6:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(i);break;case W.yZ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case W.Kp:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case W.w_:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case W.dB:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case W.Fm:(!this.dateFilter||this.dateFilter(this.pickerMoment))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),t.preventDefault()}generateWeekDays(){const t=this.dateTimeAdapter.getDayOfWeekNames("long"),i=this.dateTimeAdapter.getDayOfWeekNames("short"),n=this.dateTimeAdapter.getDayOfWeekNames("narrow"),s=this.firstDayOfWeek,o=t.map((l,u)=>({long:l,short:i[u],narrow:n[u]}));this._weekdays=o.slice(s).concat(o.slice(0,s)),this.dateNames=this.dateTimeAdapter.getDateNames()}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=null;let n=0-(this.dateTimeAdapter.getDay(this.firstDateOfMonth)+(7-this.firstDayOfWeek))%7;this.firstRowOffset=Math.abs(n),this._days=[];for(let s=0;s<6;s++){const o=[];for(let l=0;l<7;l++){const u=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,n),_=this.createDateCell(u,n);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),u)&&(this.todayDate=n+1),o.push(_),n+=1}this._days.push(o)}this.setSelectedDates()}updateFirstDayOfWeek(t){if(this.isDefaultFirstDayOfWeek)try{this._firstDayOfWeek=(0,V.yo)(t)}catch{this._firstDayOfWeek=0}}createDateCell(t,i){const n=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(t).toString(),l=this.dateTimeAdapter.format(t,this.dateTimeFormats.dateA11yLabel),u=this.isDateEnabled(t),_=i+1,b=_<1||_>n,S="owl-dt-day-"+this.dateTimeAdapter.getDay(t);return new as(_,o,l,u,b,S)}isDateEnabled(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this.dateTimeAdapter.compare(t,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(t,this.maxDate)<=0)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}isSameMonth(t,i){return!!(t&&i&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.isValid(i)&&this.dateTimeAdapter.getYear(t)===this.dateTimeAdapter.getYear(i)&&this.dateTimeAdapter.getMonth(t)===this.dateTimeAdapter.getMonth(i))}setSelectedDates(){if(this.selectedDates=[],this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){const t=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);return void(this.selectedDates[0]=t+1)}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.differenceInCalendarDays(t,this.firstDateOfMonth)+1:null))}}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(At,8),e.rXU(ii,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Li,7),2&i){let s;e.mGM(s=e.lsd())&&(n.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{hideOtherMonths:"hideOtherMonths",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},exportAs:["owlYearView"],decls:7,vars:8,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-month-table"],[1,"owl-dt-calendar-header"],[1,"owl-dt-weekdays"],["class","owl-dt-weekday","scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"],["scope","col",1,"owl-dt-weekday"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr",2),e.DNE(3,Eh,3,2,"th",3),e.k0s(),e.j41(4,"tr"),e.nrm(5,"th",4),e.k0s()(),e.j41(6,"tbody",5),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.AVh("owl-dt-calendar-only-current-month",n.hideOtherMonths),e.R7$(3),e.Y8G("ngForOf",n.weekdays),e.R7$(3),e.Y8G("rows",n.days)("todayValue",n.todayDate)("selectedValues",n.selectedDates)("selectMode",n.selectMode)("activeCell",n.activeCell))},dependencies:[V.Sq,Li],changeDetection:0})}return a})(),so=(()=>{class a{elmRef;pickerIntl;ngZone;cdRef;dateTimeAdapter;dateTimeFormats;DateView=nt;get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._minDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._maxDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t)}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return this._currentView===nt.MONTH?this.pickerIntl.prevMonthLabel:this._currentView===nt.YEAR?this.pickerIntl.prevYearLabel:null}get nextButtonLabel(){return this._currentView===nt.MONTH?this.pickerIntl.nextMonthLabel:this._currentView===nt.YEAR?this.pickerIntl.nextYearLabel:null}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this.moveFocusOnNextTick=!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get showControlArrows(){return this._currentView!==nt.MULTI_YEARS}get isMonthView(){return this._currentView===nt.MONTH}get owlDTCalendarClass(){return!0}constructor(t,i,n,s,o,l){this.elmRef=t,this.pickerIntl=i,this.ngZone=n,this.cdRef=s,this.dateTimeAdapter=o,this.dateTimeFormats=l,this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}dateFilter;firstDayOfWeek;_minDate;_maxDate;_pickerMoment;selectMode;_selected;_selecteds=[];startView=nt.MONTH;yearOnly=!1;multiyearOnly=!1;hideOtherMonths;pickerMomentChange=new e.bkB;dateClicked=new e.bkB;selectedChange=new e.bkB;userSelection=new e.bkB;yearSelected=new e.bkB;monthSelected=new e.bkB;_currentView;intlChangesSub=te.yU.EMPTY;moveFocusOnNextTick=!1;dateFilterForViews=t=>!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this.dateTimeAdapter.compare(t,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(t,this.maxDate)<=0);ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub.unsubscribe()}toggleViews(){let t=null;t=this._currentView===nt.MONTH||this.multiyearOnly?nt.MULTI_YEARS:this.yearOnly?this._currentView===nt.YEAR?nt.MULTI_YEARS:nt.YEAR:nt.MONTH,this.currentView=t}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(t){this.dateFilterForViews(t)&&(this.dateClicked.emit(t),this.selectedChange.emit(t))}goToDateInView(t,i){this.handlePickerMomentChange(t),(!this.yearOnly&&!this.multiyearOnly||this.multiyearOnly&&i!==nt.MONTH&&i!==nt.YEAR||this.yearOnly&&i!==nt.MONTH)&&(this.currentView=i)}handlePickerMomentChange(t){this.pickerMoment=this.dateTimeAdapter.clampDate(t,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)}nextButtonEnabled(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,dt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}selectYearInMultiYearView(t){this.yearSelected.emit(t)}selectMonthInYearView(t){this.monthSelected.emit(t)}isSameView(t,i){return this._currentView===nt.MONTH?!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i)||this.dateTimeAdapter.getMonth(t)!==this.dateTimeAdapter.getMonth(i)):this._currentView===nt.YEAR&&!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static \u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(Qi),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(At,8),e.rXU(ii,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-calendar"]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar",n.owlDTCalendarClass)},inputs:{minDate:"minDate",maxDate:"maxDate",pickerMoment:"pickerMoment",selected:"selected",selecteds:"selecteds",dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",startView:"startView",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",dateClicked:"dateClicked",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},exportAs:["owlDateTimeCalendar"],decls:21,vars:16,consts:[[1,"owl-dt-calendar-control"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-control-content"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-period-button",3,"click"],[1,"owl-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d","M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                    C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"owl-dt-calendar-main",3,"ngSwitch"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","maxDate","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change",4,"ngSwitchCase"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","maxDate","dateFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return n.previousClicked()}),e.j41(2,"span",2),e.qSk(),e.j41(3,"svg",3),e.nrm(4,"path",4),e.k0s()()(),e.joV(),e.j41(5,"div",5)(6,"button",6),e.bIt("click",function(){return n.toggleViews()}),e.j41(7,"span",2),e.EFF(8),e.j41(9,"span",7),e.qSk(),e.j41(10,"svg",8)(11,"g"),e.nrm(12,"path",9),e.k0s()()()()()(),e.joV(),e.j41(13,"button",1),e.bIt("click",function(){return n.nextClicked()}),e.j41(14,"span",2),e.qSk(),e.j41(15,"svg",10),e.nrm(16,"path",11),e.k0s()()()(),e.joV(),e.j41(17,"div",12),e.DNE(18,Oh,1,9,"owl-date-time-month-view",13)(19,Lh,1,7,"owl-date-time-year-view",14)(20,Ph,1,7,"owl-date-time-multi-year-view",15),e.k0s()),2&i&&(e.R7$(),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.prevButtonEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(5),e.BMQ("aria-label",n.periodButtonLabel),e.R7$(2),e.SpI(" ",n.periodButtonText," "),e.R7$(),e.xc7("transform","rotate("+(n.isMonthView?0:180)+"deg)"),e.R7$(4),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.nextButtonEnabled()),e.BMQ("aria-label",n.nextButtonLabel),e.R7$(4),e.Y8G("ngSwitch",n.currentView),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MONTH),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.YEAR),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MULTI_YEARS))},dependencies:[V.ux,V.e1,Me.vR,Kh,qh,tp],changeDetection:0})}return a})(),ip=(()=>{class a{showDivider=!1;upBtnAriaLabel;upBtnDisabled;downBtnAriaLabel;downBtnDisabled;boxValue;value;min;max;step=1;inputLabel;valueChange=new e.bkB;inputChange=new e.bkB;inputStream=new de.B;inputStreamSub=te.yU.EMPTY;hasFocus=!1;get displayValue(){if(this.hasFocus)return this.valueInput.nativeElement.value;const t=this.boxValue||this.value;return null===t||isNaN(t)?"":t<10?"0"+t.toString():t.toString()}get owlDTTimerBoxClass(){return!0}valueInput;onValueInputMouseWheelBind=this.onValueInputMouseWheel.bind(this);constructor(){}ngOnInit(){this.inputStreamSub=this.inputStream.pipe((0,Th.B)(750)).subscribe(t=>{if(t){const i=(0,re.OE)(t,0);this.updateValueViaInput(i)}}),this.bindValueInputMouseWheel()}ngOnDestroy(){this.unbindValueInputMouseWheel(),this.inputStreamSub.unsubscribe()}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(t){this.inputStream.next(t)}focusIn(){this.hasFocus=!0}focusOut(t){if(this.hasFocus=!1,t){const i=(0,re.OE)(t,0);this.updateValueViaInput(i)}}updateValue(t){this.valueChange.emit(t)}updateValueViaInput(t){t>this.max||t<this.min||this.inputChange.emit(t)}onValueInputMouseWheel(t){const i=(t=t||window.event).wheelDelta||-t.deltaY||-t.detail;i>0?this.upBtnDisabled||this.upBtnClicked():i<0&&(this.downBtnDisabled||this.downBtnClicked()),t.preventDefault?t.preventDefault():t.returnValue=!1}bindValueInputMouseWheel(){this.valueInput.nativeElement.addEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}unbindValueInputMouseWheel(){this.valueInput.nativeElement.removeEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer-box"]],viewQuery:function(i,n){if(1&i&&e.GBs(Rh,7),2&i){let s;e.mGM(s=e.lsd())&&(n.valueInput=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-timer-box",n.owlDTTimerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},exportAs:["owlDateTimeTimerBox"],decls:14,vars:7,consts:[["valueInput",""],["class","owl-dt-timer-divider","aria-hidden","true",4,"ngIf"],["type","button","tabindex","-1",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d","M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0\n                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4\n                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"],[1,"owl-dt-timer-content"],["maxlength","2",1,"owl-dt-timer-input",3,"keydown.arrowup","keydown.arrowdown","input","focusin","focusout","value"],[1,"owl-hidden-accessible"],["d","M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"],["aria-hidden","true",1,"owl-dt-timer-divider"]],template:function(i,n){if(1&i){const s=e.RV6();e.DNE(0,Vh,1,0,"div",1),e.j41(1,"button",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.upBtnClicked())}),e.j41(2,"span",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s()()(),e.joV(),e.j41(5,"label",6)(6,"input",7,0),e.bIt("keydown.arrowup",function(){return e.eBV(s),e.Njj(!n.upBtnDisabled&&n.upBtnClicked())})("keydown.arrowdown",function(){return e.eBV(s),e.Njj(!n.downBtnDisabled&&n.downBtnClicked())})("input",function(){e.eBV(s);const l=e.sdS(7);return e.Njj(n.handleInputChange(l.value))})("focusin",function(){return e.eBV(s),e.Njj(n.focusIn())})("focusout",function(){e.eBV(s);const l=e.sdS(7);return e.Njj(n.focusOut(l.value))}),e.k0s(),e.j41(8,"span",8),e.EFF(9),e.k0s()(),e.j41(10,"button",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.downBtnClicked())}),e.j41(11,"span",3),e.qSk(),e.j41(12,"svg",4),e.nrm(13,"path",9),e.k0s()()()}2&i&&(e.Y8G("ngIf",n.showDivider),e.R7$(),e.Y8G("disabled",n.upBtnDisabled),e.BMQ("aria-label",n.upBtnAriaLabel),e.R7$(5),e.Y8G("value",n.displayValue),e.R7$(3),e.JRh(n.inputLabel),e.R7$(),e.Y8G("disabled",n.downBtnDisabled),e.BMQ("aria-label",n.downBtnAriaLabel))},dependencies:[V.bT],changeDetection:0})}return a})(),ro=(()=>{class a{ngZone;elmRef;pickerIntl;cdRef;dateTimeAdapter;_pickerMoment;get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}_minDateTime;get minDateTime(){return this._minDateTime}set minDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._minDateTime=this.getValidDate(t)}_maxDateTime;get maxDateTime(){return this._maxDateTime}set maxDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._maxDateTime=this.getValidDate(t)}isPM=!1;showSecondsTimer;hour12Timer;stepHour=1;stepMinute=1;stepSecond=1;get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let t=this.hourValue;return this.hour12Timer&&(0===t?(t=12,this.isPM=!1):t>0&&t<12?this.isPM=!1:12===t?this.isPM=!0:t>12&&t<24&&(t-=12,this.isPM=!0)),t}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}selectedChange=new e.bkB;get owlDTTimerClass(){return!0}get owlDTTimeTabIndex(){return-1}constructor(t,i,n,s,o){this.ngZone=t,this.elmRef=i,this.pickerIntl=n,this.cdRef=s,this.dateTimeAdapter=o}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,dt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(t){this.hour12Timer&&this.isPM&&t>=1&&t<=11?t+=12:this.hour12Timer&&!this.isPM&&12===t&&(t=0),this.setHourValue(t)}setHourValue(t){const i=this.dateTimeAdapter.setHours(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMinuteValue(t){const i=this.dateTimeAdapter.setMinutes(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setSecondValue(t){const i=this.dateTimeAdapter.setSeconds(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMeridiem(t){this.isPM=!this.isPM;let i=this.hourValue;this.isPM?i+=12:i-=12,i>=0&&i<=23&&this.setHourValue(i),this.cdRef.markForCheck(),t.preventDefault()}upHourEnabled(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1}downHourEnabled(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1}upMinuteEnabled(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1}downMinuteEnabled(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1}upSecondEnabled(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1}downSecondEnabled(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1}compareHours(t,i){const n=this.dateTimeAdapter.getHours(this.pickerMoment)+t,s=this.dateTimeAdapter.setHours(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}compareMinutes(t,i){const n=this.dateTimeAdapter.getMinutes(this.pickerMoment)+t,s=this.dateTimeAdapter.setMinutes(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}compareSeconds(t,i){const n=this.dateTimeAdapter.getSeconds(this.pickerMoment)+t,s=this.dateTimeAdapter.setSeconds(this.pickerMoment,n);return this.dateTimeAdapter.compare(s,i)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static \u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(Qi),e.rXU(e.gRc),e.rXU(At,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer"]],hostVars:3,hostBindings:function(i,n){2&i&&(e.BMQ("tabindex",n.owlDTTimeTabIndex),e.AVh("owl-dt-timer",n.owlDTTimerClass))},inputs:{pickerMoment:"pickerMoment",minDateTime:"minDateTime",maxDateTime:"maxDateTime",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},exportAs:["owlDateTimeTimer"],decls:4,vars:22,consts:[[3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputLabel"],[3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel","inputChange","valueChange",4,"ngIf"],["class","owl-dt-timer-hour12",4,"ngIf"],[1,"owl-dt-timer-hour12"],["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"owl-date-time-timer-box",0),e.bIt("inputChange",function(o){return n.setHourValueViaInput(o)})("valueChange",function(o){return n.setHourValue(o)}),e.k0s(),e.j41(1,"owl-date-time-timer-box",1),e.bIt("inputChange",function(o){return n.setMinuteValue(o)})("valueChange",function(o){return n.setMinuteValue(o)}),e.k0s(),e.DNE(2,Yh,1,10,"owl-date-time-timer-box",2)(3,jh,4,1,"div",3)),2&i&&(e.Y8G("upBtnAriaLabel",n.upHourButtonLabel)("downBtnAriaLabel",n.downHourButtonLabel)("upBtnDisabled",!n.upHourEnabled())("downBtnDisabled",!n.downHourEnabled())("boxValue",n.hourBoxValue)("value",n.hourValue)("min",0)("max",23)("step",n.stepHour)("inputLabel","Hour"),e.R7$(),e.Y8G("showDivider",!0)("upBtnAriaLabel",n.upMinuteButtonLabel)("downBtnAriaLabel",n.downMinuteButtonLabel)("upBtnDisabled",!n.upMinuteEnabled())("downBtnDisabled",!n.downMinuteEnabled())("value",n.minuteValue)("min",0)("max",59)("step",n.stepMinute)("inputLabel","Minute"),e.R7$(),e.Y8G("ngIf",n.showSecondsTimer),e.R7$(),e.Y8G("ngIf",n.hour12Timer))},dependencies:[V.bT,ip],changeDetection:0})}return a})();const oo={transformPicker:(0,ne.hZ)("transformPicker",[(0,ne.wk)("void",(0,ne.iF)({opacity:0,transform:"scale(1, 0)"})),(0,ne.wk)("enter",(0,ne.iF)({opacity:1,transform:"scale(1, 1)"})),(0,ne.kY)("void => enter",(0,ne.Os)([(0,ne.P)("@fadeInPicker",(0,ne.MA)(),{optional:!0}),(0,ne.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),(0,ne.kY)("enter => void",(0,ne.i0)("100ms linear",(0,ne.iF)({opacity:0})))]),fadeInPicker:(0,ne.hZ)("fadeInPicker",[(0,ne.wk)("enter",(0,ne.iF)({opacity:1})),(0,ne.wk)("void",(0,ne.iF)({opacity:0})),(0,ne.kY)("void => enter",(0,ne.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Bn=(()=>{class a{cdRef;elmRef;pickerIntl;dateTimeAdapter;calendar;timer;picker;activeSelectedIndex=0;retainStartTime;retainEndTime;hidePicker$=new de.B;get hidePickerStream(){return this.hidePicker$.asObservable()}confirmSelected$=new de.B;get confirmSelectedStream(){return this.confirmSelected$.asObservable()}beforePickerOpened$=new de.B;get beforePickerOpenedStream(){return this.beforePickerOpened$.asObservable()}pickerOpened$=new de.B;get pickerOpenedStream(){return this.pickerOpened$.asObservable()}_clamPickerMoment;get pickerMoment(){return this._clamPickerMoment}set pickerMoment(t){t&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()}get pickerType(){return this.picker.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){const t=this.picker.selecteds[0];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get toFormattedValue(){const t=this.picker.selecteds[1];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get showControlButtons(){return"dialog"===this.picker.pickerMode||"calendar"!==this.picker.pickerType&&"inline"!==this.picker.pickerMode}get containerElm(){return this.elmRef.nativeElement}get owlDTContainerClass(){return!0}get owlDTPopupContainerClass(){return"popup"===this.picker.pickerMode}get owlDTDialogContainerClass(){return"dialog"===this.picker.pickerMode}get owlDTInlineContainerClass(){return"inline"===this.picker.pickerMode}get owlDTContainerDisabledClass(){return this.picker.disabled}get owlDTContainerId(){return this.picker.id}get owlDTContainerAnimation(){return"inline"===this.picker.pickerMode?"":"enter"}constructor(t,i,n,s){this.cdRef=t,this.elmRef=i,this.pickerIntl=n,this.dateTimeAdapter=s}ngOnInit(){"range"===this.picker.selectMode&&(this.picker.selecteds[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(this.picker.selecteds[0])),this.picker.selecteds[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(this.picker.selecteds[1])))}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationStart(t){"enter"===t.toState&&this.beforePickerOpened$.next(null)}handleContainerAnimationDone(t){"enter"===t.toState&&this.pickerOpened$.next(null)}dateSelected(t){let i;if(this.picker.isInSingleMode)return i=this.dateSelectedInSingleMode(t),void(i?(this.pickerMoment=i,this.picker.select(i)):"calendar"===this.pickerType&&this.hidePicker$.next(null));this.picker.isInRangeMode&&(i=this.dateSelectedInRangeMode(t),i&&(this.pickerMoment=i[this.activeSelectedIndex],this.picker.select(i)))}timeSelected(t){if(this.pickerMoment=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode)return void this.picker.select(this.pickerMoment);if(this.picker.isInRangeMode){const i=[...this.picker.selecteds];0===this.activeSelectedIndex&&i[1]&&1===this.dateTimeAdapter.compare(this.pickerMoment,i[1])||1===this.activeSelectedIndex&&i[0]&&-1===this.dateTimeAdapter.compare(this.pickerMoment,i[0])?(i[0]=this.pickerMoment,i[1]=this.pickerMoment):i[this.activeSelectedIndex]=this.pickerMoment,i[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(i[0])),i[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(i[1])),this.picker.select(i)}}}onCancelClicked(t){this.hidePicker$.next(null),t.preventDefault()}onSetClicked(t){if(!this.picker.dateTimeChecker(this.pickerMoment))return this.hidePicker$.next(null),void t.preventDefault();this.confirmSelected$.next(t),t.preventDefault()}handleClickOnInfoGroup(t,i){this.setActiveSelectedIndex(i),t.preventDefault(),t.stopPropagation()}handleKeydownOnInfoGroup(t,i,n){switch(t.keyCode){case W.n6:case W.LE:case W.i7:case W.UQ:i.focus(),this.setActiveSelectedIndex(0===n?1:0),t.preventDefault(),t.stopPropagation();break;case W.t6:this.setActiveSelectedIndex(n),t.preventDefault(),t.stopPropagation();break;default:return}}setActiveSelectedIndex(t){if("range"===this.picker.selectMode&&this.activeSelectedIndex!==t){this.activeSelectedIndex=t;const i=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&i&&(this.pickerMoment=this.dateTimeAdapter.clone(i))}}initPicker(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex="rangeTo"===this.picker.selectMode?1:0}dateSelectedInSingleMode(t){return this.dateTimeAdapter.isSameDay(t,this.picker.selected)?null:this.updateAndCheckCalendarDate(t)}dateSelectedInRangeMode(t){let i=this.picker.selecteds[0],n=this.picker.selecteds[1];const s=this.updateAndCheckCalendarDate(t);return s?("range"===this.picker.selectMode?this.picker.selecteds&&this.picker.selecteds.length&&!n&&i&&this.dateTimeAdapter.differenceInCalendarDays(s,i)>=0?(n=this.picker.endAt&&!this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.picker.endAt),this.dateTimeAdapter.getMinutes(this.picker.endAt),this.dateTimeAdapter.getSeconds(this.picker.endAt)):this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.retainEndTime),this.dateTimeAdapter.getMinutes(this.retainEndTime),this.dateTimeAdapter.getSeconds(this.retainEndTime)):s,this.activeSelectedIndex=1):(i=this.picker.startAt&&!this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.picker.startAt),this.dateTimeAdapter.getMinutes(this.picker.startAt),this.dateTimeAdapter.getSeconds(this.picker.startAt)):this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(s),this.dateTimeAdapter.getMonth(s),this.dateTimeAdapter.getDate(s),this.dateTimeAdapter.getHours(this.retainStartTime),this.dateTimeAdapter.getMinutes(this.retainStartTime),this.dateTimeAdapter.getSeconds(this.retainStartTime)):s,n=null,this.activeSelectedIndex=0):"rangeFrom"===this.picker.selectMode?(i=s,n&&this.dateTimeAdapter.compare(i,n)>0&&(n=null)):"rangeTo"===this.picker.selectMode&&(n=s,i&&this.dateTimeAdapter.compare(i,n)>0&&(i=null)),[i,n]):null}updateAndCheckCalendarDate(t){let i;return"both"===this.picker.pickerType?(i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),i=this.dateTimeAdapter.clampDate(i,this.picker.minDateTime,this.picker.maxDateTime)):i=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(i)?i:null}focusPicker(){"inline"!==this.picker.pickerMode&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(Qi),e.rXU(At,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-container"]],viewQuery:function(i,n){if(1&i&&(e.GBs(so,5),e.GBs(ro,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.calendar=s.first),e.mGM(s=e.lsd())&&(n.timer=s.first)}},hostVars:12,hostBindings:function(i,n){1&i&&e.Kam("@transformPicker.start",function(o){return n.handleContainerAnimationStart(o)})("@transformPicker.done",function(o){return n.handleContainerAnimationDone(o)}),2&i&&(e.zvX("@transformPicker",n.owlDTContainerAnimation),e.BMQ("id",n.owlDTContainerId),e.AVh("owl-dt-container",n.owlDTContainerClass)("owl-dt-popup-container",n.owlDTPopupContainerClass)("owl-dt-dialog-container",n.owlDTDialogContainerClass)("owl-dt-inline-container",n.owlDTInlineContainerClass)("owl-dt-container-disabled",n.owlDTContainerDisabledClass))},exportAs:["owlDateTimeContainer"],decls:5,vars:6,consts:[["from",""],["to",""],[1,"owl-dt-container-inner",3,"cdkTrapFocus"],["class","owl-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","multiyearOnly","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange",4,"ngIf"],["class","owl-dt-container-row",3,"pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange",4,"ngIf"],["role","radiogroup","class","owl-dt-container-info owl-dt-container-row",4,"ngIf"],["class","owl-dt-container-buttons owl-dt-container-row",4,"ngIf"],[1,"owl-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"selectedChange","pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"owl-dt-container-info","owl-dt-container-row"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-container-range-content"],[1,"owl-dt-container-info-label"],[1,"owl-dt-container-info-value"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-to",3,"click","keydown","tabindex","ngClass"],[1,"owl-dt-container-buttons","owl-dt-container-row"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-container-control-button",3,"click"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"div",2),e.DNE(1,Nh,1,12,"owl-date-time-calendar",3)(2,zh,1,8,"owl-date-time-timer",4)(3,Bh,15,14,"div",5)(4,Gh,7,2,"div",6),e.k0s()),2&i&&(e.Y8G("cdkTrapFocus","inline"!==n.picker.pickerMode)("@fadeInPicker","inline"===n.picker.pickerMode?"":"enter"),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"calendar"===n.pickerType),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"timer"===n.pickerType),e.R7$(),e.Y8G("ngIf",n.picker.isInRangeMode),e.R7$(),e.Y8G("ngIf",n.showControlButtons))},dependencies:[V.YU,V.bT,Me.kB,ro,so],data:{animation:[oo.transformPicker,oo.fadeInPicker]},changeDetection:0})}return a})(),np=0;class ap{ariaDescribedBy=null;autoFocus=!0;hasBackdrop=!0;backdropStyle;data=null;disableClose=!1;id;role="dialog";paneClass="";event=null;backdropClass="";closeOnNavigation=!0;width="";height="";minWidth;minHeight;maxWidth="85vw";maxHeight;position;scrollStrategy=new vt.t0;viewContainerRef;constructor(){this.id="owl-dialog-"+np++}}class lo{overlayRef;container;id;result;_beforeClose$=new de.B;_beforeOpen$=new de.B;_afterOpen$=new de.B;_afterClosed$=new de.B;locationChanged=te.yU.EMPTY;componentInstance;disableClose=!0;constructor(r,t,i,n){this.overlayRef=r,this.container=t,this.id=i,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe((0,Ct.p)(s=>"start"===s.phaseName&&"enter"===s.toState),(0,dt.s)(1)).subscribe(()=>{this._beforeOpen$.next(null),this._beforeOpen$.complete()}),this.container.animationStateChanged.pipe((0,Ct.p)(s=>"done"===s.phaseName&&"enter"===s.toState),(0,dt.s)(1)).subscribe(()=>{this._afterOpen$.next(null),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe((0,Ct.p)(s=>"done"===s.phaseName&&"exit"===s.toState),(0,dt.s)(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged.unsubscribe(),this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=null}),this.overlayRef.keydownEvents().pipe((0,Ct.p)(s=>s.keyCode===W._f&&!this.disableClose)).subscribe(()=>this.close()),n&&(this.locationChanged=n.subscribe(()=>{this.container.config.closeOnNavigation&&this.close()}))}close(r){this.result=r,this.container.animationStateChanged.pipe((0,Ct.p)(t=>"start"===t.phaseName),(0,dt.s)(1)).subscribe(()=>{this._beforeClose$.next(r),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(r){const t=this.getPositionStrategy();return r&&(r.left||r.right)?r.left?t.left(r.left):t.right(r.right):t.centerHorizontally(),r&&(r.top||r.bottom)?r.top?t.top(r.top):t.bottom(r.bottom):t.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(r="auto",t="auto"){return this.getPositionStrategy().width(r).height(t),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}beforeOpen(){return this._beforeOpen$.asObservable()}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}}const sp={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},rp={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"};let co=(()=>{class a extends Pt.lb{changeDetector;elementRef;focusTrapFactory;document;portalOutlet=null;focusTrap;ariaLabelledBy=null;animationStateChanged=new e.bkB;isAnimating=!1;_config;get config(){return this._config}state="enter";params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0};elementFocusedBeforeDialogWasOpened=null;get owlDialogContainerClass(){return!0}get owlDialogContainerTabIndex(){return-1}get owlDialogContainerId(){return this._config.id}get owlDialogContainerRole(){return this._config.role||null}get owlDialogContainerAriaLabelledby(){return this.ariaLabelledBy}get owlDialogContainerAriaDescribedby(){return this._config.ariaDescribedBy||null}get owlDialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(t,i,n,s){super(),this.changeDetector=t,this.elementRef=i,this.focusTrapFactory=n,this.document=s}ngOnInit(){}attachComponentPortal(t){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){throw new Error("Method not implemented.")}setConfig(t){this._config=t,t.event&&this.calculateZoomOrigin(event)}onAnimationStart(t){this.isAnimating=!0,this.animationStateChanged.emit(t)}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.animationStateChanged.emit(t),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(t){if(!t)return;const i=t.clientX,n=t.clientY,s=window.innerWidth/2,u=n-window.innerHeight/2,_=i/window.innerWidth,b=n/window.innerHeight;this.params.x=i-s+"px",this.params.y=`${u}px`,this.params.ox=100*_+"%",this.params.oy=100*b+"%",this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()}restoreFocus(){const t=this.elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this.focusTrap&&this.focusTrap.destroy()}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(Me.GX),e.rXU(V.qQ,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-dialog-container"]],viewQuery:function(i,n){if(1&i&&e.GBs(Pt.I3,7),2&i){let s;e.mGM(s=e.lsd())&&(n.portalOutlet=s.first)}},hostVars:8,hostBindings:function(i,n){1&i&&e.Kam("@slideModal.start",function(o){return n.onAnimationStart(o)})("@slideModal.done",function(o){return n.onAnimationDone(o)}),2&i&&(e.zvX("@slideModal",n.owlDialogContainerAnimation),e.BMQ("tabindex",n.owlDialogContainerTabIndex)("id",n.owlDialogContainerId)("role",n.owlDialogContainerRole)("aria-labelledby",n.owlDialogContainerAriaLabelledby)("aria-describedby",n.owlDialogContainerAriaDescribedby),e.AVh("owl-dialog-container",n.owlDialogContainerClass))},features:[e.Vt3],decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){1&i&&e.DNE(0,$h,0,0,"ng-template",0)},dependencies:[Pt.I3],encapsulation:2,data:{animation:[(0,ne.hZ)("slideModal",[(0,ne.kY)("void => enter",[(0,ne.iF)(rp),(0,ne.i0)("300ms cubic-bezier(0.35, 0, 0.25, 1)",(0,ne.iF)("*")),(0,ne.i0)("150ms",(0,ne.i7)([(0,ne.iF)({transform:"scale(1)",offset:0}),(0,ne.iF)({transform:"scale(1.05)",offset:.3}),(0,ne.iF)({transform:"scale(.95)",offset:.8}),(0,ne.iF)({transform:"scale(1)",offset:1})])),(0,ne.MA)()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),(0,ne.kY)("enter => exit",[(0,ne.MA)(),(0,ne.i0)(200,(0,ne.iF)(sp))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}return a})();const lp=new e.nKC("OwlDialogData"),uo=new e.nKC("owl-dialog-scroll-strategy"),cp={provide:uo,deps:[vt.hJ],useFactory:function dp(a){return()=>a.scrollStrategies.block()}},up=new e.nKC("owl-dialog-default-options");let mo=(()=>{class a{overlay;injector;location;defaultOptions;parentDialog;overlayContainer;ariaHiddenElements=new Map;_openDialogsAtThisLevel=[];_beforeOpenAtThisLevel=new de.B;_afterOpenAtThisLevel=new de.B;_afterAllClosedAtThisLevel=new de.B;get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get beforeOpen(){return this.parentDialog?this.parentDialog.beforeOpen:this._beforeOpenAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const t=this.parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}afterAllClosed=(0,Dh.v)(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:this._afterAllClosed.pipe((0,I.Z)(void 0)));scrollStrategy;constructor(t,i,n,s,o,l,u){this.overlay=t,this.injector=i,this.location=n,this.defaultOptions=o,this.parentDialog=l,this.overlayContainer=u,this.scrollStrategy=s,!l&&n&&n.subscribe(()=>this.closeAll())}open(t,i){if(i=function mp(a,r){return function op(a,...r){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(const t of r)if(null!=t)for(const i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a}(new ap,a,r)}(i,this.defaultOptions),i.id&&this.getDialogById(i.id))throw Error(`Dialog with id "${i.id}" exists already. The dialog id must be unique.`);const n=this.createOverlay(i),s=this.attachDialogContainer(n,i),o=this.attachDialogContent(t,s,n,i);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.beforeOpen.next(o),this.afterOpen.next(o),o}closeAll(){let t=this.openDialogs.length;for(;t--;)this.openDialogs[t].close()}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}attachDialogContent(t,i,n,s){const o=new lo(n,i,s.id,this.location);if(s.hasBackdrop&&n.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(t instanceof e.C4Q)){const l=this.createInjector(s,o,i),u=i.attachComponentPortal(new Pt.A8(t,void 0,l));o.componentInstance=u.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}createInjector(t,i,n){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=new WeakMap;return o.set(lo,i),o.set(co,n),o.set(lp,t.data),new Pt.JP(s||this.injector,o)}createOverlay(t){const i=this.getOverlayConfig(t);return this.overlay.create(i)}attachDialogContainer(t,i){const n=new Pt.A8(co,i.viewContainerRef),s=t.attach(n);return s.instance.setConfig(i),s.instance}getOverlayConfig(t){const i=new vt.rR({positionStrategy:this.overlay.position().global(),scrollStrategy:t.scrollStrategy||this.scrollStrategy(),panelClass:t.paneClass,hasBackdrop:t.hasBackdrop,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}removeOpenDialog(t){const i=this._openDialogsAtThisLevel.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){const t=this.overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){const s=i[n];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}static \u0275fac=function(i){return new(i||a)(e.KVO(vt.hJ),e.KVO(e.zZn),e.KVO(V.aZ,8),e.KVO(uo),e.KVO(up,8),e.KVO(a,12),e.KVO(vt.Sf))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const ho=new e.nKC("owl-dtpicker-scroll-strategy"),pp={provide:ho,deps:[vt.hJ],useFactory:function hp(a){return()=>a.scrollStrategies.block()}};let gp=(()=>{class a extends ao{overlay;viewContainerRef;dialogService;ngZone;changeDetector;dateTimeAdapter;dateTimeFormats;document;backdropClass=[];panelClass=[];_startAt;get startAt(){return this._startAt?this._startAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[0]||null:"rangeTo"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}_endAt;get endAt(){return this._endAt?this._endAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}_pickerType="both";get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t,this._dtInput&&this._dtInput.formatNativeInputValue())}_pickerMode="popup";get pickerMode(){return this._pickerMode}set pickerMode(t){this._pickerMode="popup"===t?t:"dialog"}_disabled;get disabled(){return void 0===this._disabled&&this._dtInput?this._dtInput.disabled:!!this._disabled}set disabled(t){(t=(0,re.he)(t))!==this._disabled&&(this._disabled=t,this.disabledChange.next(t))}_opened=!1;get opened(){return this._opened}set opened(t){t?this.open():this.close()}scrollStrategy;afterPickerClosed=new e.bkB;beforePickerOpen=new e.bkB;afterPickerOpen=new e.bkB;yearSelected=new e.bkB;monthSelected=new e.bkB;dateSelected=new e.bkB;confirmSelectedChange=new e.bkB;disabledChange=new e.bkB;pickerContainerPortal;pickerContainer;popupRef;dialogRef;dtInputSub=te.yU.EMPTY;hidePickerStreamSub=te.yU.EMPTY;confirmSelectedStreamSub=te.yU.EMPTY;pickerOpenedStreamSub=te.yU.EMPTY;pickerBeforeOpenedStreamSub=te.yU.EMPTY;focusedElementBeforeOpen=null;_dtInput;get dtInput(){return this._dtInput}_selected;get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}_selecteds=[];get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get minDateTime(){return this._dtInput&&this._dtInput.min}get maxDateTime(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput&&this._dtInput.dateTimeFilter}get selectMode(){return this._dtInput.selectMode}get isInSingleMode(){return this._dtInput.isInSingleMode}get isInRangeMode(){return this._dtInput.isInRangeMode}defaultScrollStrategy;constructor(t,i,n,s,o,l,u,_,b){super(l,_),this.overlay=t,this.viewContainerRef=i,this.dialogService=n,this.ngZone=s,this.changeDetector=o,this.dateTimeAdapter=l,this.dateTimeFormats=_,this.document=b,this.defaultScrollStrategy=u}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(t){if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=t,this.dtInputSub=this._dtInput.valueChange.subscribe(i=>{Array.isArray(i)?this.selecteds=i:this.selected=i})}open(){if(!this._opened&&!this.disabled){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&"calendar"!==this.pickerType&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),"dialog"===this.pickerMode?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(t=>{this.confirmSelect(t)})}}select(t){Array.isArray(t)?this.selecteds=[...t]:this.selected=t,"dialog"!==this.pickerMode&&"calendar"===this.pickerType&&("single"===this.selectMode&&this.selected||"rangeFrom"===this.selectMode&&this.selecteds[0]||"rangeTo"===this.selectMode&&this.selecteds[1]||"range"===this.selectMode&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerBeforeOpenedStreamSub&&(this.pickerBeforeOpenedStreamSub.unsubscribe(),this.pickerBeforeOpenedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.afterPickerClosed.emit(this.selected||this.selecteds),this.focusedElementBeforeOpen=null)};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(this.focusedElementBeforeOpen.focus(),setTimeout(t)):t()}confirmSelect(t){if(this.isInSingleMode){const i=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(i)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(Bn,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...(0,re.FG)(this.backdropClass)],paneClass:["owl-dt-dialog",...(0,re.FG)(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.beforeOpen().subscribe(()=>{this.beforePickerOpen.emit(null)}),this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new Pt.A8(Bn,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){const t=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=t.instance,this.ngZone.onStable.asObservable().pipe((0,dt.s)(1)).subscribe(()=>{this.popupRef.updatePosition()}),this.pickerBeforeOpenedStreamSub=this.pickerContainer.beforePickerOpenedStream.pipe((0,dt.s)(1)).subscribe(()=>{this.beforePickerOpen.emit(null)}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe((0,dt.s)(1)).subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0})}}createPopup(){const t=new vt.rR({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...(0,re.FG)(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup",...(0,re.FG)(this.panelClass)]});this.popupRef=this.overlay.create(t),(0,_e.h)(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe((0,Ct.p)(i=>i.keyCode===W._f||this._dtInput&&i.altKey&&i.keyCode===W.i7))).subscribe(()=>this.close())}createPopupPositionStrategy(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static \u0275fac=function(i){return new(i||a)(e.rXU(vt.hJ),e.rXU(e.c1b),e.rXU(mo),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(At,8),e.rXU(ho),e.rXU(ii,8),e.rXU(V.qQ,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",endAt:"endAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",beforePickerOpen:"beforePickerOpen",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},exportAs:["owlDateTime"],features:[e.Vt3],decls:0,vars:0,template:function(i,n){},changeDetection:0})}return a})(),fp=(()=>{class a{changeDetector;dtPicker;_disabled;get disabled(){return void 0===this._disabled?this.dtPicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}get owlDTTriggerDisabledClass(){return this.disabled}stateChanges=te.yU.EMPTY;constructor(t){this.changeDetector=t}ngOnInit(){}ngOnChanges(t){t.datepicker&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges.unsubscribe()}handleClickOnHost(t){this.dtPicker&&(this.dtPicker.open(),t.stopPropagation())}watchStateChanges(){this.stateChanges.unsubscribe();const t=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:(0,m.of)(),i=this.dtPicker?this.dtPicker.disabledChange:(0,m.of)();this.stateChanges=(0,_e.h)([i,t]).subscribe(()=>{this.changeDetector.markForCheck()})}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc))};static \u0275dir=e.FsC({type:a,selectors:[["","owlDateTimeTrigger",""]],hostVars:2,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n.handleClickOnHost(o)}),2&i&&e.AVh("owl-dt-trigger-disabled",n.owlDTTriggerDisabledClass)},inputs:{dtPicker:[e.Mj6.None,"owlDateTimeTrigger","dtPicker"],disabled:"disabled"},features:[e.OA$]})}return a})();const _p={provide:M.kq,useExisting:(0,e.Rfq)(()=>os),multi:!0},bp={provide:M.cz,useExisting:(0,e.Rfq)(()=>os),multi:!0};let os=(()=>{class a{elmRef;renderer;dateTimeAdapter;dateTimeFormats;static ngAcceptInputType_disabled;_required;get required(){return this._required}set required(t){this._required=""===t||t,this.validatorOnChange()}set owlDateTime(t){this.registerDateTimePicker(t)}set owlDateTimeFilter(t){this._dateTimeFilter=t,this.validatorOnChange()}_dateTimeFilter;get dateTimeFilter(){return this._dateTimeFilter}_disabled;get disabled(){return!!this._disabled}set disabled(t){const i=(0,re.he)(t),n=this.elmRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.disabledChange.emit(i)),i&&n.blur&&n.blur()}_min;get min(){return this._min}set min(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}_max;get max(){return this._max}set max(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}_selectMode="single";get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}rangeSeparator="-";_value;get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),this.lastValueValid=!t||this.dateTimeAdapter.isValid(t),t=this.getValidDate(t);const i=this._value;this._value=t,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(i,t)||this.valueChange.emit(t)}_values=[];get values(){return this._values}set values(t){t&&t.length>0?(this._values=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}dateTimeChange=new e.bkB;dateTimeInput=new e.bkB;get elementRef(){return this.elmRef}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}dtPicker;dtPickerSub=te.yU.EMPTY;localeSub=te.yU.EMPTY;lastValueValid=!0;onModelChange=()=>{};onModelTouched=()=>{};validatorOnChange=()=>{};parseValidator=()=>this.lastValueValid?null:{owlDateTimeParse:{text:this.elmRef.nativeElement.value}};minValidator=t=>{if(this.isInSingleMode){const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value));return!this.min||!i||this.dateTimeAdapter.compare(this.min,i)<=0?null:{owlDateTimeMin:{min:this.min,actual:i}}}if(this.isInRangeMode&&t.value){const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[0])),n=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[1]));return!this.min||!i||!n||this.dateTimeAdapter.compare(this.min,i)<=0?null:{owlDateTimeMin:{min:this.min,actual:[i,n]}}}};maxValidator=t=>{if(this.isInSingleMode){const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value));return!this.max||!i||this.dateTimeAdapter.compare(this.max,i)>=0?null:{owlDateTimeMax:{max:this.max,actual:i}}}if(this.isInRangeMode&&t.value){const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[0])),n=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[1]));return!this.max||!i||!n||this.dateTimeAdapter.compare(this.max,n)>=0?null:{owlDateTimeMax:{max:this.max,actual:[i,n]}}}};filterValidator=t=>{const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value));return this._dateTimeFilter&&i&&!this._dateTimeFilter(i)?{owlDateTimeFilter:!0}:null};rangeValidator=t=>{if(this.isInSingleMode||!t.value)return null;const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[0])),n=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[1]));return!i||!n||this.dateTimeAdapter.compare(i,n)<=0?null:{owlDateTimeRange:!0}};requiredRangeValidator=t=>{if(this.isInSingleMode||!t.value||!this.required)return null;const i=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[0])),n=this.getValidDate(this.dateTimeAdapter.deserialize(t.value[1]));return i&&n?null:{owlRequiredDateTimeRange:[i,n]}};validator=M.k0.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator,this.requiredRangeValidator]);valueChange=new e.bkB;disabledChange=new e.bkB;get owlDateTimeInputAriaHaspopup(){return!0}get owlDateTimeInputAriaOwns(){return this.dtPicker.opened&&this.dtPicker.id||null}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null}get owlDateTimeInputDisabled(){return this.disabled}constructor(t,i,n,s){if(this.elmRef=t,this.renderer=i,this.dateTimeAdapter=n,this.dateTimeFormats=s,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(t=>{Array.isArray(t)?this.values=t:this.value=t,this.onModelChange(t),this.onModelTouched(),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:t,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}writeValue(t){this.isInSingleMode?this.value=t:this.values=t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.validator?this.validator(t):null}registerOnValidatorChange(t){this.validatorOnChange=t}handleKeydownOnHost(t){t.altKey&&t.keyCode===W.n6&&(this.dtPicker.open(),t.preventDefault())}handleBlurOnHost(t){this.onModelTouched()}handleInputOnHost(t){const i=t.target.value;"single"===this._selectMode?this.changeInputInSingleMode(i):"range"===this._selectMode?this.changeInputInRangeMode(i):this.changeInputInRangeFromToMode(i)}handleChangeOnHost(t){let i;this.isInSingleMode?i=this.value:this.isInRangeMode&&(i=this.values),this.dateTimeChange.emit({source:this,value:i,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){const t=this._values[0],i=this._values[1],n=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"",s=i?this.dateTimeAdapter.format(i,this.dtPicker.formatString):"";n||s?"range"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n+" "+this.rangeSeparator+" "+s):"rangeFrom"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n):"rangeTo"===this._selectMode&&this.renderer.setProperty(this.elmRef.nativeElement,"value",s):this.renderer.setProperty(this.elmRef.nativeElement,"value",null)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(t){t&&(this.dtPicker=t,this.dtPicker.registerInput(this))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}convertTimeStringToDateTimeString(t,i){if(t){const n=i||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(n,this.dateTimeFormats.datePickerInput)+" "+t}return null}changeInputInSingleMode(t){let i=t;"timer"===this.dtPicker.pickerType&&(i=this.convertTimeStringToDateTimeString(i,this.value));let n=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),(!this.isSameValue(n,this._value)||null===n)&&(this._value=n,this.valueChange.emit(n),this.onModelChange(n),this.dateTimeInput.emit({source:this,value:n,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(t){"timer"===this.dtPicker.pickerType&&(t=this.convertTimeStringToDateTimeString(t,"rangeFrom"===this._selectMode?this._values[0]:this._values[1]));let n=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),!("rangeFrom"===this._selectMode&&this.isSameValue(n,this._values[0])&&n||"rangeTo"===this._selectMode&&this.isSameValue(n,this._values[1])&&n)&&(this._values="rangeFrom"===this._selectMode?[n,this._values[1]]:[this._values[0],n],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(t){const i=t.split(this.rangeSeparator);let n=i[0],s=i[1];"timer"===this.dtPicker.pickerType&&(n=this.convertTimeStringToDateTimeString(n,this.values[0]),s=this.convertTimeStringToDateTimeString(s,this.values[1]));let o=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput),l=this.dateTimeAdapter.parse(s,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!l||this.dateTimeAdapter.isValid(l)),o=this.getValidDate(o),l=this.getValidDate(l),(!this.isSameValue(o,this._values[0])||!this.isSameValue(l,this._values[1])||null===o&&null===l)&&(this._values=[o,l],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(t,i){return t&&i?0===this.dateTimeAdapter.compare(t,i):t===i}static \u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(At,8),e.rXU(ii,8))};static \u0275dir=e.FsC({type:a,selectors:[["input","owlDateTime",""]],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("keydown",function(o){return n.handleKeydownOnHost(o)})("blur",function(o){return n.handleBlurOnHost(o)})("input",function(o){return n.handleInputOnHost(o)})("change",function(o){return n.handleChangeOnHost(o)}),2&i&&(e.Mr5("disabled",n.owlDateTimeInputDisabled),e.BMQ("aria-haspopup",n.owlDateTimeInputAriaHaspopup)("aria-owns",n.owlDateTimeInputAriaOwns)("min",n.minIso8601)("max",n.maxIso8601))},inputs:{required:"required",owlDateTime:"owlDateTime",owlDateTimeFilter:"owlDateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["owlDateTimeInput"],features:[e.Jv_([_p,bp])]})}return a})();const vp={provide:M.kq,useExisting:(0,e.Rfq)(()=>yp),multi:!0};let yp=(()=>{class a extends ao{changeDetector;dateTimeAdapter;dateTimeFormats;container;_pickerType="both";get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t)}_disabled=!1;get disabled(){return!!this._disabled}set disabled(t){this._disabled=(0,re.he)(t)}_selectMode="single";get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}_startAt;get startAt(){return this._startAt?this._startAt:"single"===this.selectMode?this.value||null:"range"===this.selectMode||"rangeFrom"===this.selectMode?this.values[0]||null:"rangeTo"===this.selectMode&&this.values[1]||null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}_endAt;get endAt(){return this._endAt?this._endAt:"single"===this.selectMode?this.value||null:("range"===this.selectMode||"rangeFrom"===this.selectMode)&&this.values[1]||null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}_dateTimeFilter;get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(t){this._dateTimeFilter=t}_min;get minDateTime(){return this._min||null}set minDateTime(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}_max;get maxDateTime(){return this._max||null}set maxDateTime(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}_value;get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._value=t,this.selected=t}_values=[];get values(){return this._values}set values(t){t&&t.length>0?(t=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),(i=this.getValidDate(i))?this.dateTimeAdapter.clone(i):null)),this._values=[...t],this.selecteds=[...t]):(this._values=[],this.selecteds=[])}yearSelected=new e.bkB;monthSelected=new e.bkB;dateSelected=new e.bkB;_selected;get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}_selecteds=[];get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get owlDTInlineClass(){return!0}onModelChange=()=>{};onModelTouched=()=>{};constructor(t,i,n){super(i,n),this.changeDetector=t,this.dateTimeAdapter=i,this.dateTimeFormats=n}ngOnInit(){this.container.picker=this}writeValue(t){this.isInSingleMode?(this.value=t,this.container.pickerMoment=t):(this.values=t,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}select(t){this.disabled||(Array.isArray(t)?this.values=[...t]:this.value=t,this.onModelChange(t),this.onModelTouched())}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}static \u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(At,8),e.rXU(ii,8))};static \u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-inline"]],viewQuery:function(i,n){if(1&i&&e.GBs(Bn,7),2&i){let s;e.mGM(s=e.lsd())&&(n.container=s.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-inline",n.owlDTInlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",endAt:"endAt",dateTimeFilter:[e.Mj6.None,"owlDateTimeFilter","dateTimeFilter"],minDateTime:[e.Mj6.None,"min","minDateTime"],maxDateTime:[e.Mj6.None,"max","maxDateTime"],value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},features:[e.Jv_([vp]),e.Vt3],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"owl-date-time-container")},dependencies:[Bn],changeDetection:0})}return a})(),wp=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({providers:[cp,mo],imports:[V.MD,Me.Pd,vt.z_,Pt.jc]})}return a})(),kp=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({providers:[Qi,pp,...Qh],imports:[V.MD,vt.z_,wp,Me.Pd]})}return a})();!function xp(a,r){const t=Array(a);for(let i=0;i<a;i++)t[i]=r(i)}(31,a=>String(a+1));var go=g(1444),Cp=g.n(go),fo=g(3066),Mp=g.n(fo);Vt.extend(fo),Vt.extend(go);const ls=new e.nKC("OWL_DAYJS_DATE_TIME_ADAPTER_OPTIONS",{providedIn:"root",factory:function Dp(){return{useUtc:!1}}});function Tp(a,r){const t=Array(a);for(let i=0;i<a;i++)t[i]=r(i);return t}let Sp=(()=>{class a extends At{constructor(t,i){super(),this.owlDateTimeLocale=t,this.options=i,this.setLocale(t||Vt().locale())}setLocale(t){super.setLocale(t);const i=Vt().locale(t).localeData();this._localeData={longMonths:i.months(),shortMonths:i.monthsShort(),longDaysOfWeek:i.weekdaysShort(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin(),dates:Tp(31,n=>this.createDate(2017,0,n+1).format("D"))}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDay(t){return this.clone(t).day()}getDate(t){return this.clone(t).date()}getHours(t){return this.clone(t).hour()}getMinutes(t){return this.clone(t).minute()}getSeconds(t){return this.clone(t).second()}getTime(t){return this.clone(t).valueOf()}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}differenceInCalendarDays(t,i){return Math.ceil(t.startOf("day").diff(i.startOf("day"),"day",!0))}getYearName(t){return t.format("YYYY")}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getDateNames(){return this._localeData.dates}toIso8601(t){return this.clone(t).toISOString()}isEqual(t,i){return this.clone(t).isSame(this.clone(i))}isSameDay(t,i){return this.clone(t).isSame(this.clone(i),"day")}isValid(t){return this.clone(t).isValid()}invalid(){return Vt(NaN)}isDateInstance(t){return Vt.isDayjs(t)}deserialize(t){if("string"==typeof t){const i=Vt(t);return this.isValid(i)?i:this.invalid()}return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}addCalendarYears(t,i){return this.clone(t).add(i,"year")}addCalendarMonths(t,i){return this.clone(t).add(i,"month")}addCalendarDays(t,i){return this.clone(t).add(i,"day")}setHours(t,i){return this.clone(t).hour(i)}setMinutes(t,i){return this.clone(t).minute(i)}setSeconds(t,i){return this.clone(t).second(i)}createDate(t,i,n,s=0,o=0,l=0){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);if(s<0||s>23)throw Error(`Invalid hours "${s}". Hours has to be between 0 and 23.`);if(o<0||o>59)throw Error(`Invalid minutes "${o}". Minutes has to between 0 and 59.`);if(l<0||l>59)throw Error(`Invalid seconds "${l}". Seconds has to be between 0 and 59.`);let u=this.createDayjs(Vt());function _(b,S,j){return j>=0?b.set(S,j):b}if(u=_(u,"year",t),u=_(u,"month",i),u=_(u,"date",n),u=_(u,"hour",s),u=_(u,"minute",o),u=_(u,"second",l),u.locale(this.locale),!u.isValid())throw Error(`Invalid date "${n}" for month with index "${i}".`);return u}clone(t){return this.createDayjs(t).clone().locale(this.locale)}now(){return this.clone(Vt())}format(t,i){return this.clone(t).format(i)}parse(t,i){return Vt(t,i)}createDayjs(t){return Vt(null===t?null:t,{utc:this.options.useUtc})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(ns,8),e.KVO(ls,8))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Fp={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"};let Ap=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[{provide:At,useClass:Sp,deps:[ns,ls]}]})}return a})(),Ip=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[{provide:ii,useValue:Fp}],imports:[Ap]})}return a})();class Gn extends Te{constructor(){super({DateTimeDefaultLogic:Gn})}update({settings:r,tools:t}){return this.log.fn("update",{settings:r,tools:t}).r(r)}}Te.add(Gn),g(9718),g(1810),g(6155),g(1118),g(6626),g(6058),g(3996),g(396),g(8214),g(1237),g(9791),g(3238),g(3821),g(3857),g(8403),g(1686),g(2467),g(1624),g(2121),g(3669),g(598),g(7426),g(6567),g(6886),g(7416),g(5416),g(53),g(4684),g(9193),g(623),g(5555),g(6361),g(116),g(3939),g(413),g(8224),g(9733),g(9869),g(8470),g(6344),g(4867),g(4826),g(5240),g(2725),g(6795),g(5593),g(9163);var Ep=g(1),Op=g.n(Ep);const ds=new e.nKC("MAT_DAYJS_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:()=>({useUtc:!0})});let _o=(()=>{class a extends U.MJ{constructor(t,i){super(),this.dateLocale=t,this._options=i,this.log=(0,ee.T)({MatDayjsDateAdapter:a}),this.log.a("constructor",{this:this,shouldUseUtc:this.shouldUseUtc,dateLocale:t,_options:i}),this.shouldUseUtc&&rt().extend(io()),rt().extend(Mp()),rt().extend(Op()),rt().extend(Cp()),this.setLocale(rt()().locale())}setLocale(t){super.setLocale(t);const i=this.log.fn("setLocale",{locale:t});rt().locale(t);const n=rt()().locale(t).localeData();this.localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:rt().months(),shortMonths:rt().monthsShort(),dates:this.range(31,s=>this.createDate(2017,0,s+1).format("D")),longDaysOfWeek:this.range(7,s=>this.dayJs().set("day",s).format("dddd")),shortDaysOfWeek:rt().weekdaysShort(),narrowDaysOfWeek:rt().weekdaysMin()},i.r(this.localeData)}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(t){return"long"===t?this.localeData.longDaysOfWeek:"short"===t?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return this.dayJs(t).clone()}createDate(t,i,n){return this.dayJs().set("year",t).set("month",i).set("date",n).set("hour",0).set("minute",0).set("second",0).set("millisecond",0)}today(){return this.dayJs()}parse(t,i){const n="string"==typeof t,s=this.log.fn("parse",{value:t,parseFormat:i,valueIsString:n});if(t&&n){const o=rt()().localeData().longDateFormat(i);let l=this.dayJs(t,o,this.locale,!0);if(l.isValid())return l;if(9===t.length){const u=o.replace("DD","D");if(l=this.dayJs(t,u,this.locale,!0),l.isValid())return l;const _=o.replace("MM","M");if(l=this.dayJs(t,_,this.locale,!0),l.isValid())return l}if(8===t.length){const u=o.replace(/[\W_]+/g,"");if(l=this.dayJs(t,u,this.locale,!0),l.isValid())return l;const _=o.replace("DD","D").replace("MM","M");if(l=this.dayJs(t,_,this.locale,!0),l.isValid())return l}if(t.length<6&&t.length>2){let u=new Array;if(-1!==t.indexOf("/")&&(u=t.split("/")),-1!==t.indexOf("-")&&(u=t.split("-")),-1!==t.indexOf(".")&&(u=t.split(".")),2===u.length){let _,b;if(o.startsWith("D")?(_=u[0],b=u[1]):u.length>1&&(b=u[0],_=u[1]),1===b.length&&(b=0+b),1===_.length&&(_=0+_),l=this.dayJs(_+b,"DDMM",this.locale,!0),l.isValid())return l}}return 2===t.length&&(l=this.dayJs(t,"DD",this.locale,!0),l.isValid())||1===t.length&&(l=this.dayJs(t,"D",this.locale,!0),l.isValid())?l:this.dayJs(null)}return s.r(t?this.dayJs(t).locale(this.locale):null)}format(t,i){const n=this.log.fn("format",{date:t,displayFormat:i});if(!this.isValid(t))throw Error("DayjsDateAdapter: Cannot format invalid date.");return n.r(t.locale(this.locale).format(i))}addCalendarYears(t,i){return t.add(i,"year")}addCalendarMonths(t,i){return t.add(i,"month")}addCalendarDays(t,i){return t.add(i,"day")}toIso8601(t){return t.toISOString()}deserialize(t){let i;if(t instanceof Date)i=this.dayJs(t);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;i=this.dayJs(t)}return i&&this.isValid(i)?this.dayJs(i):super.deserialize(t)}isDateInstance(t){return rt().isDayjs(t)}isValid(t){return this.clone(t).isValid()}invalid(){return this.dayJs(null)}dayJs(t,i,n,s){if(s=s||!1,!this.shouldUseUtc)return rt()(t,i);if("string"==typeof t){const o=new Date(rt()(t,i).toDate());return s&&o.setUTCHours(o.getUTCHours()-o.getTimezoneOffset()/60),o.getTimezoneOffset()>0?rt()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).add(1,"day").utc():rt()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).utc()}return rt()(t,i).utc()}range(t,i){const n=Array(t);for(let s=0;s<t;s++)n[s]=i(s);return n}get shouldUseUtc(){const{useUtc:t}=this._options||{};return!!t}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(U.Ju,8),e.KVO(ds,8))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Lp={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Pp={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"};let Rp=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[{provide:U.de,useValue:Lp},{provide:ds,useValue:{useUtc:!0}},{provide:ii,useValue:Pp},{provide:ls,useValue:{useUtc:!0}},{provide:U.MJ,useClass:_o,deps:[U.Ju,ds]}]})}return a})();var qe=g(7896);function Vp(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-form-field",2)(1,"input",3),e.bIt("dateChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateValue(n))}),e.k0s(),e.nrm(2,"mat-datepicker-toggle",4),e.nI1(3,"translate"),e.nrm(4,"mat-datepicker",null,0),e.j41(6,"mat-label"),e.EFF(7),e.k0s()()}if(2&a){const t=e.sdS(5),i=e.XpG();e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("disabled",i.ui().disabled)("matDatepicker",t)("placeholder",i.basics().placeholder)("required",i.basics().required)("value",i.uiValue()),e.R7$(),e.Y8G("for",t)("tippy",e.bMT(3,9,"Fields.DateTime.Open")),e.R7$(5),e.JRh(i.basics().label)}}function Yp(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-form-field",2)(1,"input",5),e.bIt("dateTimeChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.updateValue(n))}),e.k0s(),e.nrm(2,"mat-datepicker-toggle",6),e.nI1(3,"translate"),e.nrm(4,"owl-date-time",null,1),e.j41(6,"mat-label"),e.EFF(7),e.k0s()()}if(2&a){const t=e.sdS(5),i=e.XpG();e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("disabled",i.ui().disabled)("owlDateTime",t)("placeholder",i.basics().placeholder)("required",i.basics().required)("value",i.valueForTimePicker()),e.R7$(),e.Y8G("owlDateTimeTrigger",t)("tippy",e.bMT(3,9,"Fields.DateTime.Open")),e.R7$(5),e.JRh(i.basics().label)}}let cs=class ba{static#e=this;constructor(r,t){this.translate=r,this.owlDayjsDateAdapter=t,this.log=(0,ee.T)({DatetimeDefaultComponent:ba}),this.fieldState=(0,e.WQX)(Oe.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.useTimePicker=(0,e.EWP)(()=>this.settings().UseTimePicker,at.bool),this.valueForTimePicker=(0,e.EWP)(()=>this.uiValue()?.replace("Z",""),at.string),this.matDayjsDateAdapter=(0,we.d)(_o),rt().extend(io());const i=this.translate.currentLang;rt().locale(i),this.matDayjsDateAdapter.setLocale(i),this.owlDayjsDateAdapter.setLocale(i),Gn.importMe()}updateValue(r){const t=null!=r.value?r.value.utc(!0).toJSON():null;this.ui().setIfChanged(t)}static#t=this.\u0275fac=function(t){return new(t||ba)(e.rXU(T.c$),e.rXU(At))};static#i=this.\u0275cmp=e.VBU({type:ba,selectors:[["datetime-default"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[["picker",""],["owlPicker",""],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",1,"eav-translate-on-dblclick",3,"dateChange","disabled","matDatepicker","placeholder","required","value"],["matTextSuffix","",3,"for","tippy"],["matInput","",1,"eav-translate-on-dblclick",3,"dateTimeChange","disabled","owlDateTime","placeholder","required","value"],["matTextSuffix","",3,"owlDateTimeTrigger","tippy"]],template:function(t,i){1&t&&(e.DNE(0,Vp,8,11,"mat-form-field",2)(1,Yp,8,11),e.nrm(2,"app-field-helper-text")),2&t&&e.vxM(0,i.useTimePicker()?1:0)},dependencies:[ge.RG,ge.rl,ge.nJ,ge.yw,M.YN,M.cb,M.X1,M.j4,it.fS,it.fg,Ch,fh,ts,eo,kp,fp,os,gp,gt,T.h,T.D9,Ip,Rp,qe.e],styles:["ngx-mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}"]})};cs=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[T.c$,At])],cs);let jp=(()=>{class a{constructor(){}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["empty-default"]],standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return a})();function Np(a,r){if(1&a&&(e.nrm(0,"div",0),e.nI1(1,"safeHtml")),2&a){const t=e.XpG();e.Y8G("innerHtml",e.bMT(1,1,t.basics().notes),e.npT)}}let us=class Xs{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.basics=this.fieldState.basics}static#e=this.\u0275fac=function(t){return new(t||Xs)};static#t=this.\u0275cmp=e.VBU({type:Xs,selectors:[["empty-message"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[1,"message-box",3,"innerHtml"]],template:function(t,i){1&t&&e.DNE(0,Np,2,3,"div",0),2&t&&e.vxM(0,i.basics().visible?0:-1)},dependencies:[f.$],styles:[".message-box[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]})};us=(0,Ze.Cg)([Ft({})],us);class $n extends Te{constructor(){super({EntityContentBlocksLogic:$n}),this.name=oe.u.EntityContentBlocks}update(r){const i=Bt.singleton().get(oe.u.EntityDefault).update(r);return i.EnableRemove=!0,i.AllowMultiValue=!0,i.EnableAddExisting=!1,i.EnableCreate=!1,i.EnableEdit=!1,i.EntityType="ContentGroupReference",i.CreateTypes=i.EntityType,i.Visible=!1,i}}Te.add($n);const ct={UiPickerSourceQuery:"UiPickerSourceQuery",UiPickerSourceEntity:"UiPickerSourceEntity",UiPickerSourceCustomList:"UiPickerSourceCustomList",UiPickerSourceCustomCsv:"UiPickerSourceCustomCsv",UiPickerModeTree:"UiPickerModeTree"},Hn="parent-child";class Pi extends Te{constructor(){super({EntityPickerLogic:Pi}),this.name=oe.u.EntityPicker}static maybeOverrideEditRestrictions(r,t){return t.eavConfig.overrideEditRestrictions&&t.debug&&(console.log(`SystemAdmin + Debug: Overriding edit restrictions for field '${r.Name}' (EntityType: '${r.EntityType}').`),r.EnableEdit=!0,r.EnableCreate=!0,r.EnableAddExisting=!0,r.EnableRemove=!0,r.EnableDelete=!0),r}update({settings:r,tools:t}){let i=[],n=[],s=bi.setDefaultSettings({...r});s=Pi.maybeOverrideEditRestrictions(s,t),s.DataSources?.length>0&&(i=t.contentTypeItemSvc.getMany(s.DataSources));const o=i[0],l=o?.Type.Name===ct.UiPickerSourceQuery,u=o?.Type.Name===ct.UiPickerSourceEntity,_=t.reader.flatten(o);if((u||l)&&(s.CreateTypes=_.CreateTypes??"",s.MoreFields=_.MoreFields??"",s.Label=_.Label??"",s.ItemInformation=_.ItemInformation??"",s.ItemTooltip=_.ItemTooltip??"",s.ItemLink=_.ItemLink??""),l){s.DataSourceType=ct.UiPickerSourceQuery;const b=_;s.Query=b.Query??"",s.StreamName=b.StreamName??"Default",s.UrlParameters=b.QueryParameters??"",s.Value=b.Value??""}if(u&&(s.DataSourceType=ct.UiPickerSourceEntity,s.EntityType=_.ContentTypeNames??""),s.AllowMultiValue?s.EnableReselect??=!1:s.EnableReselect=!1,s.AllowMultiValue?(s.AllowMultiMin??=0,s.AllowMultiMax??=0):(s.AllowMultiMin=0,s.AllowMultiMax=0),s.PickerDisplayMode??="list",s.PickerDisplayConfiguration??=[],s.PickerDisplayConfiguration?.length>0&&(n=t.contentTypeItemSvc.getMany(s.PickerDisplayConfiguration)),n[0]?.Type.Name===ct.UiPickerModeTree){const b=t.reader.flatten(n[0]);s.PickerTreeConfiguration={Title:b.Title??"",ConfigModel:ct.UiPickerModeTree,TreeRelationship:b.TreeRelationship??Hn,TreeBranchesStream:b.TreeBranchesStream??"Default",TreeLeavesStream:b.TreeLeavesStream??"Default",TreeParentIdField:b.TreeParentIdField??"Id",TreeChildIdField:b.TreeChildIdField??"Id",TreeParentChildRefField:b.TreeParentChildRefField??"Children",TreeChildParentRefField:b.TreeChildParentRefField??"Parent",TreeShowRoot:b.TreeShowRoot??!0,TreeDepthMax:b.TreeDepthMax??10,TreeAllowSelectRoot:b.TreeAllowSelectRoot??!0,TreeAllowSelectBranch:b.TreeAllowSelectBranch??!0,TreeAllowSelectLeaf:b.TreeAllowSelectLeaf??!0}}return s}}Te.add(Pi);class bi extends Te{constructor(){super({EntityDefaultLogic:bi}),this.name=oe.u.EntityDefault}update({settings:r,tools:t}){let i=bi.setDefaultSettings({...r});return i.EntityType??="",i.CreateTypes=i.EntityType,i.MoreFields??="",i=Pi.maybeOverrideEditRestrictions(i,t),i}static setDefaultSettings(r){return r.AllowMultiValue??=!1,r.EnableEdit??=!0,r.EnableCreate??=!0,r.EnableAddExisting??=!0,r.EnableRemove??=!0,r.EnableDelete??=!1,r.Label??="",r.isDialog??=!1,r}}Te.add(bi);var Ri=g(9771),ms=g(2551);class yo{constructor(){this.expansionModel=new Pe.CB(!0)}toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let t=[r];t.push(...this.getDescendants(r)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(r){let t=[r];t.push(...this.getDescendants(r)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}}class Bp extends yo{constructor(r,t,i){super(),this.getLevel=r,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(r){const i=[];for(let n=this.dataNodes.indexOf(r)+1;n<this.dataNodes.length&&this.getLevel(r)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(r=>this._trackByValue(r)))}}const Un=new e.nKC("CDK_TREE_NODE_OUTLET_NODE");let Ki=(()=>{class a{constructor(t,i){this.viewContainer=t,this._node=i}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.c1b),e.rXU(Un,8))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}return a})();class Gp{constructor(r){this.$implicit=r}}let Xn=(()=>{class a{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[e.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}return a})(),ni=(()=>{class a{get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}constructor(t,i){this._differs=t,this._changeDetectorRef=i,this._onDestroy=new de.B,this._levels=new Map,this.viewChange=new jt.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(i=>!i.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;(0,Pe.y4)(this._dataSource)?t=this._dataSource.connect(this):(0,ms.A)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,m.of)(this._dataSource)),t&&(this._dataSubscription=t.pipe((0,We.Q)(this._onDestroy)).subscribe(i=>this.renderNodeChanges(i)))}renderNodeChanges(t,i=this._dataDiffer,n=this._nodeOutlet.viewContainer,s){const o=i.diff(t);o&&(o.forEachOperation((l,u,_)=>{if(null==l.previousIndex)this.insertNode(t[_],_,n,s);else if(null==_)n.remove(u),this._levels.delete(l.item);else{const b=n.get(u);n.move(b,_)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(s=>s.when&&s.when(i,t))||this._defaultNodeDef}insertNode(t,i,n,s){const o=this._getNodeDef(t,i),l=new Gp(t);l.level=this.treeControl.getLevel?this.treeControl.getLevel(t):typeof s<"u"&&this._levels.has(s)?this._levels.get(s)+1:0,this._levels.set(t,l.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(o.template,l,i),Zt.mostRecentTreeNode&&(Zt.mostRecentTreeNode.data=t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e._q3),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["cdk-tree"]],contentQueries:function(i,n,s){if(1&i&&e.wni(s,Xn,5),2&i){let o;e.mGM(o=e.lsd())&&(n._nodeDefs=o)}},viewQuery:function(i,n){if(1&i&&e.GBs(Ki,7),2&i){let s;e.mGM(s=e.lsd())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[e.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[Ki],encapsulation:2})}return a})(),Zt=(()=>{class a{get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}static#e=this.mostRecentTreeNode=null;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(t,i){this._elementRef=t,this._tree=i,this._destroyed=new de.B,this._dataChanges=new de.B,a.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function $p(a){let r=a.parentElement;for(;r&&!Hp(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?(0,e.Udg)(r.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){a.mostRecentTreeNode===this&&(a.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static#t=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(ni))};static#i=this.\u0275dir=e.FsC({type:a,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("aria-expanded",n.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}return a})();function Hp(a){const r=a.classList;return!(!r?.contains("cdk-nested-tree-node")&&!r?.contains("cdk-tree"))}const Up=/([A-Za-z%]+)$/;let ps=(()=>{class a{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}constructor(t,i,n,s){this._treeNode=t,this._tree=i,this._element=n,this._dir=s,this._destroyed=new de.B,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe((0,We.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,i=null==this._level?t:this._level;return"number"==typeof i?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const i=this._paddingIndent();if(i!==this._currentPadding||t){const n=this._element.nativeElement,s=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",o="paddingLeft"===s?"paddingRight":"paddingLeft";n.style[s]=i||"",n.style[o]="",this._currentPadding=i}}_setLevelInput(t){this._level=isNaN(t)?null:t,this._setPadding()}_setIndentInput(t){let i=t,n="px";if("string"==typeof t){const s=t.split(Up);i=s[0],n=s[1]||n}this.indentUnits=n,this._indent=(0,e.Udg)(i),this._setPadding()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Zt),e.rXU(ni),e.rXU(e.aKT),e.rXU(li.dS,8))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[e.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",e.Udg],indent:[e.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[e.GFd]})}return a})(),gs=(()=>{class a{constructor(t,i){this._tree=t,this._treeNode=i,this.recursive=!1}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(ni),e.rXU(Zt))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._toggle(o)})},inputs:{recursive:[e.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",e.L39]},standalone:!0,features:[e.GFd]})}return a})(),Xp=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({})}return a})(),wo=(()=>{class a extends Zt{constructor(t,i,n){super(t,i),this.disabled=!1,this.tabIndex=Number(n)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(ni),e.kS0("tabindex"))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],tabIndex:[e.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:(0,e.Udg)(t)]},exportAs:["matTreeNode"],standalone:!0,features:[e.Jv_([{provide:Zt,useExisting:a}]),e.GFd,e.Vt3]})}return a})(),ko=(()=>{class a extends Xn{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeDef",""]],inputs:{when:[e.Mj6.None,"matTreeNodeDefWhen","when"],data:[e.Mj6.None,"matTreeNode","data"]},standalone:!0,features:[e.Jv_([{provide:Xn,useExisting:a}]),e.Vt3]})}return a})(),xo=(()=>{class a extends ps{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matTreeNodePadding",""]],inputs:{level:[e.Mj6.HasDecoratorInputTransform,"matTreeNodePadding","level",e.Udg],indent:[e.Mj6.None,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[e.Jv_([{provide:ps,useExisting:a}]),e.GFd,e.Vt3]})}return a})(),fs=(()=>{class a{constructor(t,i){this.viewContainer=t,this._node=i}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.c1b),e.rXU(Un,8))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[e.Jv_([{provide:Ki,useExisting:a}])]})}return a})(),Co=(()=>{class a extends ni{constructor(){super(...arguments),this._nodeOutlet=void 0}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["mat-tree"]],viewQuery:function(i,n){if(1&i&&e.GBs(fs,7),2&i){let s;e.mGM(s=e.lsd())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[e.Jv_([{provide:ni,useExisting:a}]),e.Vt3,e.aNF],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[fs],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color)}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color);font-family:var(--mat-tree-node-text-font);font-size:var(--mat-tree-node-text-size);font-weight:var(--mat-tree-node-text-weight)}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return a})(),Mo=(()=>{class a extends gs{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[e.Mj6.None,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[e.Jv_([{provide:gs,useExisting:a}]),e.Vt3]})}return a})(),Jp=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({imports:[Xp,U.yE,U.yE]})}return a})();class Qp{constructor(r,t,i,n){this.transformFunction=r,this.getLevel=t,this.isExpandable=i,this.getChildren=n}_flattenNode(r,t,i,n){const s=this.transformFunction(r,t);if(i.push(s),this.isExpandable(s)){const o=this.getChildren(r);o&&(Array.isArray(o)?this._flattenChildren(o,t,i,n):o.pipe((0,dt.s)(1)).subscribe(l=>{this._flattenChildren(l,t,i,n)}))}return i}_flattenChildren(r,t,i,n){r.forEach((s,o)=>{let l=n.slice();l.push(o!=r.length-1),this._flattenNode(s,t+1,i,l)})}flattenNodes(r){let t=[];return r.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(r,t){let i=[],n=[];return n[0]=!0,r.forEach(s=>{let o=!0;for(let l=0;l<=this.getLevel(s);l++)o=o&&n[l];o&&i.push(s),this.isExpandable(s)&&(n[this.getLevel(s)+1]=t.isExpanded(s))}),i}}class Kp extends Pe.qS{get data(){return this._data.value}set data(r){this._data.next(r),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(r,t,i){super(),this._treeControl=r,this._treeFlattener=t,this._flattenedData=new jt.t([]),this._expandedData=new jt.t([]),this._data=new jt.t([]),i&&(this.data=i)}connect(r){return(0,_e.h)(r.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,F.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}let _s=(()=>{class a{#e;#t;constructor(){this.log=(0,ee.T)({PickerTreeDataHelper:a}),this.treeControl=new Bp(t=>t.level,t=>t.expandable),this.hasChild=(t,i)=>i.expandable,this.build()}updateConfig(t){this.log.a("updateConfigAndSelectedData"),this.#e=t}addTreeItems(t){this.log.a("addTreeItems"),this.#t=t}updateSelectedData(t){this.log.a("updateSelectedData"),this.dataSource.data=t}preConvertAllItems(t,i){this.log.a("preConvertAllItemsToTreeItems",{treeConfig:t,items:i});const n=i.map(o=>this.#i(t,o,i));return n.map(o=>{if(!o.expandable)return o;const l=this.#n(t,o,n);return o.children=l,o})}#i(t,i,n){if(this.log.a(`preConvertItemToTreeItem for item ${i?.id}`,{treeConfig:t,item:i,allItems:n}),!t)throw new Error("No tree configuration found");if(!i)throw new Error("Can't transform null-item");const s=t.TreeRelationship==Hn,o=t.TreeChildParentRefField,l=t.TreeParentChildRefField,_=t.TreeParentIdField,S=t.TreeBranchesStream,j=n.filter(ke=>!ke.sourceStreamName||ke.sourceStreamName==S).find(ke=>ke==i),J=i?.data?.[_],ue=s?j&&i.data[l]?.length>0:j&&!!n.find(ke=>ke.data[o]?.[0]?.[_]==J),ve={...i,level:-1,expandable:ue,parent:i.data[o],children:i.data[l]};return this.log.a("result",{result:ve}),ve}build(){this.log.a("build");const t=new Qp((i,n)=>({...i,level:n}),i=>i.level,i=>i.expandable,i=>i.children);this.dataSource=new Kp(this.treeControl,t)}#n(t,i,n){const o=t.TreeChildParentRefField,u=t.TreeChildIdField,_=t.TreeParentIdField;if(t.TreeRelationship==Hn)return i.data[t.TreeParentChildRefField].map(b=>n.find(j=>j[u]==b[u]));if("child-parent"==t.TreeRelationship){const b=i.data?.[_];return n.filter(S=>S.data[o]?.[0]?.[_]==b)}throw new Error(`Unknown tree relationship: "${t?.TreeRelationship}"`)}disableOption(t,i,n){const s=this.#e;return!n&&i.some(b=>b.value===t.value)||!s?.TreeAllowSelectRoot&&t.children?.length>0&&0===t.parent?.length||!s?.TreeAllowSelectBranch&&t.children?.length>0&&t.parent?.length>0||!s?.TreeAllowSelectLeaf&&0===t.children?.length}static#a=this.\u0275fac=function(i){return new(i||a)};static#s=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Zp=(()=>{class a{constructor(t,i){this.treeHelper=t,this.inject=i,this.log=(0,ee.T)({PickerTreeDataService:a})}init(t,i){this.log.a("init");const n=t();if("tree"!==n.PickerDisplayMode)return;const o=n.PickerTreeConfiguration,l=o?.TreeRelationship==Hn;(0,e.N4e)(this.inject,()=>{(0,e.QZP)(()=>{const u=i(),_=null==u?.[0]?.data?[]:this.treeHelper.preConvertAllItems(o,u);if(null!=_?.[0]?.data){this.treeHelper.updateConfig(o),this.treeHelper.addTreeItems(_);const b=_.filter(S=>l?!_.some(j=>j.data[o?.TreeParentChildRefField]?.some(J=>J.Id===S.id)):0==S.data[o?.TreeChildParentRefField]?.length);this.treeHelper.updateSelectedData(b)}})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(_s),e.KVO(e.zZn))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var Vi=g(9333);function qp(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",1),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToLink())}),e.EFF(1,"open_in_new"),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("tippy",t.helpLink)}}let bs=(()=>{class a{goToLink(){window.open(this.helpLink,"_blank")}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-help"]],inputs:{helpLink:"helpLink"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["appClickStopPropagation","",3,"tippy"],["appClickStopPropagation","",3,"click","tippy"]],template:function(i,n){1&i&&e.DNE(0,qp,2,1,"mat-icon",0),2&i&&e.vxM(0,n.helpLink?0:-1)},dependencies:[P.m_,P.An,qe.e,Vi.c],encapsulation:2})}return a})();function eg(a,r){if(1&a&&(e.j41(0,"mat-icon",0),e.EFF(1," info "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippy",t.infoBox)("tippyAllowHtml",!0)("tippyArrow",!0)}}let vs=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-icon-info"]],inputs:{infoBox:"infoBox"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["tippyFontSize","larger","appClickStopPropagation","",3,"tippy","tippyAllowHtml","tippyArrow"]],template:function(i,n){1&i&&e.DNE(0,eg,2,3,"mat-icon",0),2&i&&e.vxM(0,n.infoBox?0:-1)},dependencies:[P.m_,P.An,qe.e,Vi.c],encapsulation:2})}return a})();var Wn=g(8471);const tg={all:!1,childFormResult:!0,expand:!1,open:!1,watchToRefreshOnVersionsClosed:!0};let ft=(()=>{class a extends Ci.V{#e;#t;#i;constructor(t,i){super(),this.langInstanceSvc=t,this.formConfig=i,this.log=(0,ee.T)({EditRoutingService:a},tg),this.#e=(0,we.d)(Wn.c),this.#t=this.#e.route,this.#i=this.#e.router,this.#n=new de.B,this.#r={},this.log.a("constructor")}ngOnDestroy(){this.#n.complete(),super.ngOnDestroy()}init(){this.#o(),this.#l()}#n;#a(){return this.#t.snapshot.params}#s(){const t=this.#a(),i=null!=t.detailsEntityGuid&&null!=t.detailsFieldId;return{params:t,hasDetails:i,hasUpdate:null!=t.updateEntityGuid&&null!=t.updateFieldId,guid:i?t.detailsEntityGuid:t.updateEntityGuid,fieldId:i?t.detailsFieldId:t.updateFieldId}}isExpanded(t,i){const n=t.toString(),s=this.#a();return s.detailsEntityGuid===i&&s.detailsFieldId===n}isExpanded$(t,i){const n=t.toString();return this.#t.params.pipe((0,$t.J)(s=>s.detailsEntityGuid===i&&s.detailsFieldId===n))}isExpandedSignal(t,i){const n=`${t}-${i}`,s=this.#r[n];if(s)return s;const o=this.isExpanded$(t,i);return this.#r[n]=(0,Qt.ot)(o)}#r;childFormResult(t,i){const n=this.log.fnIf("childFormResult",{fieldId:t,entityGuid:i}),s=this.#n.pipe((0,Ct.p)(o=>o.updateEntityGuid===i&&o.updateFieldId===t&&null!=o.result),(0,F.T)(o=>o.result));return n.rSilent(s)}childFormClosed(){return this.#n.pipe((0,F.T)(t=>null))}expand(t,i,n,s){const o=this.log.fnIf("expand",{expand:t,fieldId:i,entityGuid:n,componentTag:s}),l=this.#s(),u=l.params,S=me.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${u.items}`+(l.hasDetails?`/details/${l.guid}/${l.fieldId}`:""),`edit/${u.items}`+(t?`/details/${n}/${i}`:""));if(null==S)return o.end("no change");this.#i.navigate([S],{state:s&&{componentTag:s}}),o.end("routed away to ",{url:S})}open(t,i,n){const s=this.log.fnIf("open",{fieldId:t,entityGuid:i,form:n}),o=(0,hr.s)(n),l=this.#s();if(l.hasDetails)return this.#i.navigate([`edit/${o}`],{relativeTo:this.#t}),s.end("expanded, just open child");const b=me.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${l.params.items}`,`edit/${l.params.items}/update/${i}/${t}/edit/${o}`);if(null==b)return s.end("no change");this.#i.navigate([b]),s.end("routed away to ",{url:b})}#o(){this.subscriptions.add(this.#t.params.pipe((0,$t.J)(t=>null!=t.detailsEntityGuid&&null!=t.detailsFieldId)).subscribe(t=>this.langInstanceSvc.updateHideHeader(this.formConfig.config.formId,t)))}#l(){this.subscriptions.add(this.#e.childDialogClosed$().pipe((0,F.T)(()=>{const t=this.#s();return{pInfo:t,result:{updateEntityGuid:t.guid,updateFieldId:parseInt(t.fieldId,10),result:this.#i.getCurrentNavigation().extras?.state}}})).subscribe(({pInfo:t,result:i})=>{if(this.#n.next(i),!t.hasUpdate)return;const n=t.params,s=me.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${n.items}/update/${n.updateEntityGuid}/${n.updateFieldId}`,`edit/${n.items}`);null!=s&&this.#i.navigate([s])}))}static#d=this.\u0275fac=function(i){return new(i||a)(e.KVO(pn.A),e.KVO(Re.S))};static#c=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),vi=(()=>{class a{constructor(){this.log=(0,ee.T)({PickerPartBaseComponent:a}),this.fieldState=(0,e.WQX)(Oe.W),this.editRoutingService=(0,e.WQX)(ft),this.enableTextEntry=this.fieldState.setting("EnableTextEntry"),this.allowMultiValue=this.fieldState.setting("AllowMultiValue"),this.pickerData=this.fieldState.pickerData,this.isInFreeTextMode=this.pickerData.state.isInFreeTextMode,this.ui=this.fieldState.ui,this.selectedItems=this.pickerData.selectedAll,this.selectedItem=this.pickerData.selectedOne,this.itemCount=(0,$.bo)("itemCount",()=>this.selectedItems().length),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.features=this.pickerData.features}expandDialog(){const t=this.fieldState.config;t.initialDisabled||this.editRoutingService.expand(!0,t.index,t.entityGuid)}openNewEntityDialog(t){this.log.a(`openNewEntityDialog: '${t}'`),this.pickerData.source.editItem(null,t)}edit(t,i){this.log.a(`edit guid: '${t}'; id: '${i}'`),this.pickerData.source.editItem({entityGuid:t,entityId:i},null)}removeItem(t){this.log.a(`removeItem index: '${t}'`),this.pickerData.state.remove(t)}deleteItem(t,i){this.log.a(`deleteItem index: '${t}'; entityGuid: '${i}'`),this.pickerData.source.deleteItem({index:t,entityGuid:i})}toggleFreeText(t){this.log.a(`toggleFreeText ${t}`),!t&&this.pickerData.state.toggleFreeTextMode()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-part-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return a})();class Zi{static placeholder(r,t,i){return{label:r.instant(t)+(i??""),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}static message(r,t,i){return{label:r.instant(t,i),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}}const ng=["autocomplete"],ag=[[["","freeTextButtons",""]]],sg=["[freeTextButtons]"],rg=a=>({"mat-form-field-invalid":a}),og=a=>({"mat-error":a});function lg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.nI1(1,"translate"),e.bIt("click",function(){let n;e.eBV(t);const s=e.XpG();return e.Njj(s.edit(null==(n=s.selectedItem())?null:n.value,null==(n=s.selectedItem())?null:n.id))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Edit"))("disabled",t.ui().disabled||t.config.initialDisabled)}}function dg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.nI1(1,"translate"),e.bIt("click",function(){let n;e.eBV(t);const s=e.XpG();return e.Njj(s.deleteItem(0,null==(n=s.selectedItem())?null:n.value))}),e.j41(2,"mat-icon"),e.EFF(3,"delete"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Delete"))("disabled",t.ui().disabled)}}function cg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeItem(0))}),e.j41(2,"mat-icon"),e.EFF(3,"do_not_disturb_on"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Remove"))("disabled",t.ui().disabled)}}function ug(a,r){1&a&&(e.j41(0,"span",6),e.SdG(1),e.k0s())}function mg(a,r){if(1&a&&(e.j41(0,"mat-option",11)(1,"div",12)(2,"span",13),e.EFF(3),e.k0s(),e.j41(4,"div",14),e.nrm(5,"app-picker-help",15)(6,"app-picker-icon-info",16),e.k0s()()()),2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("value",t.value)("disabled",!!t.noSelect||!i.settings().enableReselect&&i.isOptionDisabled(t.value))("tippy",t.tooltip)("tippyDisabled",!t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(3),e.JRh(t.label?t.label:t.value),e.R7$(2),e.Y8G("helpLink",t.link),e.R7$(),e.Y8G("infoBox",t.info)}}function hg(a,r){if(1&a&&e.Z7z(0,mg,7,9,"mat-option",11,e.fX1),2&a){const t=e.XpG();e.Dyx(t.filteredItems())}}function pg(a,r){if(1&a&&(e.j41(0,"mat-tree-node",20),e.nrm(1,"button",21),e.j41(2,"mat-option",11)(3,"div",12)(4,"span",13),e.EFF(5),e.k0s(),e.j41(6,"div",14),e.nrm(7,"app-picker-help",15)(8,"app-picker-icon-info",16),e.k0s()()()()),2&a){const t=r.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyDisabled",!t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(3),e.JRh(t.label?t.label:t.value),e.R7$(2),e.Y8G("helpLink",t.helpLink),e.R7$(),e.Y8G("infoBox",t.infoBox)}}function gg(a,r){if(1&a&&(e.j41(0,"mat-tree-node",20)(1,"button",22)(2,"mat-icon",23),e.EFF(3),e.k0s()(),e.j41(4,"mat-option",11)(5,"div",12)(6,"span",13),e.EFF(7),e.k0s(),e.j41(8,"div",14),e.nrm(9,"app-picker-help",15)(10,"app-picker-icon-info",16),e.k0s()()()()),2&a){const t=r.$implicit,i=e.XpG(2);e.R7$(),e.BMQ("aria-label","Toggle "+t.name),e.R7$(2),e.SpI(" ",i.treeHelper.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyDisabled",!t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(3),e.JRh(t.label?t.label:t.value),e.R7$(2),e.Y8G("helpLink",t.helpLink),e.R7$(),e.Y8G("infoBox",t.infoBox)}}function fg(a,r){if(1&a&&(e.j41(0,"mat-tree",17),e.DNE(1,pg,9,9,"mat-tree-node",18)(2,gg,11,11,"mat-tree-node",19),e.k0s()),2&a){const t=e.XpG();e.Y8G("dataSource",t.treeHelper.dataSource)("treeControl",t.treeHelper.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",t.hasChild)}}function _g(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",9),e.EFF(1," debug: "),e.j41(2,"span",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.insertNull())}),e.EFF(3,"add null-item"),e.k0s()()}}let Jn=(()=>{class a extends vi{#e;#t;#i;#n;constructor(t,i){super(),this.translate=t,this.globalConfigService=i,this.log=(0,ee.T)({PickerSearchComponent:a}),this.showSelectedItem=e.hFB.required(),this.showItemEditButtons=e.hFB.required(),this.autocomplete=e.ebz.required("autocomplete"),this.#e=null,this.selectedItem=(0,$.bo)("selectedItems",()=>this.pickerData.selectedOne()),this.#t=(0,$.KX)("reFilter",!1),this.filteredItems=(0,$.bo)("filteredItems",()=>{this.#t();const s=this.pickerData.optionsAll(),o=this.autocomplete()?.nativeElement.value,l=o?.toLocaleLowerCase(),u=l?s.filter(_=>((_.label?_.label:_.value)??"").toLocaleLowerCase().includes(l)):s;return u.length>0?u:[Zi.message(this.translate,"Fields.Picker.FilterNoResults",{search:o})]}),this.#i=(0,ee.T)({PickerSearchComponent:a}).extendName("-ItemChecks"),this.debugEnabled=this.globalConfigService.isDebug,this.settings=(0,$.bo)("settings",()=>{const n=this.selectedItem(),s=this.showItemEditButtons()&&!!n,o=this.fieldState.settings();return{allowMultiValue:o.AllowMultiValue,enableAddExisting:o.EnableAddExisting,enableTextEntry:o.EnableTextEntry,enableEdit:o.EnableEdit&&s&&!n?.noEdit,enableDelete:o.EnableDelete&&s&&!n?.noDelete,enableRemove:o.EnableRemove&&s,enableReselect:o.EnableReselect,showAsTree:"tree"===o.PickerDisplayMode}}),this.#n=(0,we.d)(Zp),this.treeHelper=(0,we.d)(_s),this.hasChild=(n,s)=>this.treeHelper.hasChild(n,s)}ngOnInit(){const t=this.fieldState.settings;"tree"===t().PickerDisplayMode&&(this.#n.init(t,this.pickerData.optionsAll),this.treeHelper=this.#n.treeHelper)}displaySelected(t){return this.showSelectedItem()?t?.label??"":""}displayFn(t){const i=this.selectedItem();if(this.#i.a(`displayFn: value: '${t}'`,{selectedItem:i}),null==t)return"";let n=this.pickerData.optionsAll().find(s=>s.value==t)?.label;return n?(this.log.a("displayFn result",{value:t,returnValue:n}),n):i?.value==t?i?.label:t+" *"}markAsTouched(){this.fieldState.ui().markTouched()}fetchEntities(){this.pickerData.source.fetchItems()}filterSelectionList(){this.#t.update(t=>!t)}onOpened(t){const i=this.autocomplete().nativeElement;this.log.a(`onOpened: isTreeDisplayMode ${t}; domValue: '${i.value}'`),i.value="",this.#t.update(n=>!n),t&&i.blur()}onClosed(){const t=this.selectedItems(),i=this.selectedItem(),n=this.autocomplete().nativeElement;this.log.a("onClosed",{selectedItems:t,selectedItem:i}),this.showSelectedItem()?this.#e&&this.#e!=i?.value||i&&t.length<2&&(n.value=i.label):n.value=""}optionSelected(t,i,n){this.#i.a("optionSelected",t.option.value),this.#e=t.option.value,!i&&n&&this.removeItem(0),this.pickerData.state.add(t.option.value),setTimeout(()=>{this.autocomplete().nativeElement.blur()})}getPlaceholder(){const t=this.pickerData.optionsAll();var i=this.translate.instant(t.length>0?"Fields.Picker.Search":"Fields.Picker.QueryNoItems");return this.#i.a(`getPlaceholder error: result '${i}'`,{allOptions:t}),i}insertNull(){this.log.a("insertNull"),this.pickerData.state.add(null)}isOptionDisabled(t){const i=this.selectedItems(),n=i.some(s=>s.value===t);return this.#i.a(`sOptionDisabled value: '${t}'; result: ${n}`,{selected:i}),n}goToLink(t){this.log.a(`goToLink helpLink: '${t}'`),window.open(t,"_blank")}static#a=this.\u0275fac=function(i){return new(i||a)(e.rXU(T.c$),e.rXU(Ui.B))};static#s=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-search"]],viewQuery:function(i,n){1&i&&e.wEZ(n.autocomplete,ng,5),2&i&&e.NyB()},inputs:{showSelectedItem:[e.Mj6.SignalBased,"showSelectedItem"],showItemEditButtons:[e.Mj6.SignalBased,"showItemEditButtons"]},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:sg,decls:18,vars:21,consts:[["autocomplete",""],["auto","matAutocomplete"],["color","accent",1,"eav-mat-form-field",3,"click","formGroup","ngClass"],["matInput","",1,"eav-translate-on-dblclick",3,"focus","blur","input","matAutocomplete","value","placeholder","disabled"],["mat-icon-button","","matSuffix","","disableRipple","true",1,"entity-dropdown-button","eav-suffix-button",3,"disabled"],["mat-icon-button","","matSuffix","","appClickStopPropagation","",1,"eav-suffix-button",3,"tippy","disabled"],["matSuffix",""],[3,"ngClass"],[3,"optionSelected","closed","opened","displayWith","hideSingleSelectionIndicator"],[1,"null-box"],["mat-icon-button","","matSuffix","","appClickStopPropagation","",1,"eav-suffix-button",3,"click","tippy","disabled"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"value","disabled","tippy","tippyDisabled","tippyAllowHtml","tippyArrow"],[1,"picker-option-contents"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"helpLink"],[3,"infoBox"],[3,"dataSource","treeControl"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"eav-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["tippy","Add null-item",1,"null-button",3,"click"]],template:function(i,n){if(1&i){const s=e.RV6();e.NAR(ag),e.j41(0,"div")(1,"mat-form-field",2),e.bIt("click",function(){return e.eBV(s),e.Njj(n.filterSelectionList())}),e.j41(2,"input",3,0),e.bIt("focus",function(){return e.eBV(s),e.Njj(n.fetchEntities())})("blur",function(){return e.eBV(s),e.Njj(n.markAsTouched())})("input",function(){return e.eBV(s),e.Njj(n.filterSelectionList())}),e.k0s(),e.j41(4,"button",4)(5,"mat-icon"),e.EFF(6,"arrow_drop_down"),e.k0s()(),e.DNE(7,lg,4,4,"button",5)(8,dg,4,4,"button",5)(9,cg,4,4,"button",5)(10,ug,2,0,"span",6),e.j41(11,"mat-label",7),e.EFF(12),e.k0s()(),e.j41(13,"mat-autocomplete",8,1),e.bIt("optionSelected",function(l){return e.eBV(s),e.Njj(n.optionSelected(l,n.settings().allowMultiValue,n.selectedItem()))})("closed",function(){return e.eBV(s),e.Njj(n.onClosed())})("opened",function(){return e.eBV(s),e.Njj(n.onOpened(n.settings().showAsTree))}),e.DNE(15,hg,2,0)(16,fg,3,3),e.k0s()(),e.DNE(17,_g,4,0,"div",9)}if(2&i){const s=e.sdS(14);e.R7$(),e.Y8G("formGroup",n.fieldState.group)("ngClass",e.eq3(17,rg,n.ui().touchedAndInvalid)),e.R7$(),e.Y8G("matAutocomplete",s)("value",n.displaySelected(n.selectedItem()))("placeholder",n.getPlaceholder())("disabled",n.ui().disabled||!n.settings().enableAddExisting),e.R7$(2),e.Y8G("disabled",n.ui().disabled||!n.settings().enableAddExisting),e.R7$(3),e.vxM(7,n.settings().enableEdit?7:-1),e.R7$(),e.vxM(8,n.settings().enableDelete?8:-1),e.R7$(),e.vxM(9,n.settings().enableRemove?9:-1),e.R7$(),e.vxM(10,n.settings().enableTextEntry?10:-1),e.R7$(),e.Y8G("ngClass",e.eq3(19,og,n.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("displayWith",n.displayFn.bind(n))("hideSingleSelectionIndicator",!0),e.R7$(2),e.vxM(15,n.settings().showAsTree?16:15),e.R7$(2),e.vxM(17,n.debugEnabled()?17:-1)}},dependencies:[ge.RG,ge.rl,ge.nJ,ge.yw,M.YN,M.cb,M.X1,M.j4,V.YU,z.Cc,z.PW,it.fS,it.fg,Ri.jL,Ri.$3,U.wT,Ri.pN,p.Hl,p.iY,P.m_,P.An,U.Sy,Jp,ko,xo,Mo,Co,wo,T.h,T.D9,bs,vs,Vi.c,qe.e],styles:[".eav-add-new-entity[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}"]})}return a})();class yi{static#e=this.logSpecs={all:!1,setupEmpty:!0,connectState:!1,initPrefetch:!0,fetchItems:!1,fields:[...Jt.z]};constructor(){this.dataSource=(0,$.KX)("dataSource",null),this.optionsOrHints=(0,$.bo)("optionsOrHints",()=>this.dataSource().data()??[])}connectState(r){const t=this.log.fnIf("connectState");return this.dataSource.set(this.dataSourceRaw.setup()),this.deleteCallback=i=>r.doAfterDelete(i),t.rSilent(this)}onAfterViewInit(){this.syncParams()}}class ys{constructor(){this.log=(0,ee.T)({DataSourceMoreFieldsHelper:ys})}fieldListToRetrieveFromServer(r){this.log.a("fieldListToRetrieveFromServer",{settings:r});const t=r.PickerTreeConfiguration;return[...["Title","Id","Guid",...r.MoreFields?.split(",")??[],r.Value,r.Label,t?.TreeChildIdField,t?.TreeParentIdField,t?.TreeChildParentRefField,t?.TreeParentChildRefField].map(_=>this.extractFieldNamesFromTokens(_,!0)).flat(),...[r.ItemTooltip,r.ItemInformation,r.ItemLink].map(_=>this.extractFieldNamesFromTokens(_,!1)).flat()].filter(oi.a.distinct).join(",")}extractFieldNamesFromTokens(r,t=!0){this.log.a("extractFieldNamesFromTokens",{input:r,enableSimpleFields:t});const i=[];if(!(r?.trim().length>0))return i;const n=/\[Item:(\S.*?)\]/gi;let s;for(;null!==(s=n.exec(r));){const o=s[1].trim();o&&i.push(o)}return t&&0===i.length&&i.push(r),i}}class Do{stripHtml(r){if(!r)return"";if(!r.includes("<"))return r;const t=document.createElement("div");return t.innerHTML=r??"",t.innerText||""}}const bg={all:!0,entity2PickerItem:!1,getMasks:!1,patchMasks:!1,parseMasks:!1,buildMasks:!1};class Qn{constructor(r,t,i){this.settings=r,this.log=(0,Mt.T)({DataSourceMasksHelper:Qn},bg),this.#e=new Do,this.log.forceEnable(i??t.enableChildren??!1),this.log.a("constructor - settings",{settings:r})}#e;#t;entity2PickerItem({entity:r,streamName:t,mustUseGuid:i}){const n=this.log.fnIf("entity2PickerItem",{entity:r,streamName:t,mustUseGuid:i}),s=this.getMasks(),o=(()=>{if(i)return r.Guid;const J=r[s.value];return void 0!==J?`${J}`:r.Guid})(),l=(()=>{const J=r[s.label];return J?`${J}`:r.Title?`${r.Title}`:`${o} *`})();if(!s.hasPlaceholders)return n.r({id:r.Id,data:r,value:o,label:l,tooltip:s.tooltip,info:s.info,link:s.link,sourceStreamName:t??null},"no masks");const{title:u,tooltip:_,info:b,helpLink:S}=this.#i(s,r),j=s.label.includes("[")?u:l;return n.r({id:r.Id,data:r,value:o,label:j,tooltip:_,info:b,link:S,sourceStreamName:t??null},"with masks")}#i(r,t){const i=this.log.fnIf("parseMasks",{masks:r,data:t});let n=r.tooltip,s=r.info,o=r.link,l=r.label;return Object.keys(t).forEach(u=>{const _=t[u]??"",b=new RegExp(`\\[Item:${u}\\]`,"gi");n=n.replace(b,_),s=s.replace(b,_),o=o.replace(b,_),l=l.replace(b,_)}),i.r({title:l,tooltip:n,info:s,helpLink:o})}getMasks(){return this.#t||(this.#t=this.#n(),this.log.aIf("getMasks",{masks:this.#t})),this.#t}patchMasks(r){this.#t={...this.getMasks(),...r},this.log.aIf("patchMasks",{masks:this.#t})}#n(){const r=this.settings,t=this.log.fnIf("buildMasks",{settings:r}),i=r.ItemTooltip?this.#e.stripHtml(r.ItemTooltip):"",n=r.ItemInformation?this.#e.stripHtml(r.ItemInformation):"",s=r.ItemLink??"",o=r.Label??"",l=r.Value??"",_={hasPlaceholders:(i+n+s+o).includes("["),tooltip:i,info:n,link:s,label:o,value:l};return t.r(_,"result")}static maskSettings(r){return{ItemTooltip:r.ItemTooltip,ItemInformation:r.ItemInformation,ItemLink:r.ItemLink,Label:r.Label,Value:r.Value}}}const To={all:!1,constructor:!1,data:!1,triggerGetAll:!1,addToRefresh:!1,fields:[...Jt.z]};let ws=(()=>{class a extends Ci.V{constructor(){super(),this.fieldState=(0,e.WQX)(Oe.W),this.fieldName=this.fieldState.name,this.loading=(0,$.KX)("loading",!0),this.getAll$=new jt.t(!1),this.getAll=(0,$.KX)("getAll",!1),this.guidsToRefresh=(0,$.KX)("guidsToRefresh",[]),this.settings=this.fieldState.settings,this.noItemsLoadingFalse={data:[],loading:!1},this.noItemsLoadingTrue={data:[],loading:!0},this.fieldsHelper=new ys,this.helpers=new Do}constructorEnd(){this.log??=(0,ee.T)({DataSourceBase:a}),this.log.aIf("constructor",{forField:this.fieldState.name})}setup(){return this}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}triggerGetAll(){this.log.fnIf("triggerGetAll"),this.getAll$.next(!0),this.getAll.set(!0)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t}),n=this.guidsToRefresh(),s=[...n,...t].filter(oi.a.distinct);i.values({before:n,additionalGuids:t,merged:s}),this.guidsToRefresh.set(s),i.end()}createMaskHelper(t){return new Qn(this.settings(),this.log,t)}fieldsToRetrieve(t){return this.fieldsHelper.fieldListToRetrieveFromServer(t)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const vg={...To,data:!0};let yg=(()=>{class a extends ws{constructor(){super(),this.log=(0,Mt.T)({DataSourceString:a},vg),this.loading=(0,$.KX)("loading",!1),this.#e=(()=>{const t=new Qn(this.settings(),this.log);return t.patchMasks({value:"Value"}),t})(),this.data=(0,$.bo)("data",()=>{const t=this.settings()._options,i=this.#e,n=this.log.fnIfInList("data","fields",this.fieldName,{options:t,maskHelper:i}),s=t.map(o=>{const l={Id:null,Guid:null,...o},u=i.entity2PickerItem({entity:l,streamName:null,mustUseGuid:!1});return n.a("one item",{entity:l,pickerItem:u}),u});return n.r(s)}),this.constructorEnd()}#e;static#t=this.\u0275fac=function(i){return new(i||a)};static#i=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),qi=(()=>{class a extends yi{constructor(){super(...arguments),this.log=(0,Mt.T)({DataAdapterString:a},yi.logSpecs),this.features=(0,$.KX)("features",{edit:!1,create:!1,delete:!1}),this.dataSourceRaw=(0,we.d)(yg)}initPrefetch(t){}forceReloadData(t){}syncParams(){}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var en=g(1817),wg=g(1365),kg=g(4839);const So={...To,all:!0,initPrefetch:!1,getFromBackend:!1,addToRefresh:!1,loadMoreIntoSignal:!0,"loadMoreIntoSignal-data":!0};let Fo=(()=>{class a extends ws{constructor(){super(),this.querySvc=(0,we.d)(kg.c),this.#e=(0,$.KX)("typeOrParams",null),this.#t=(0,Qt.br)(this.#e),this.#i=this.#t.pipe((0,en.F)()),this.#n=(0,Qt.ot)((0,Y.z)([this.#i,this.getAll$.pipe((0,en.F)(),(0,Ct.p)(t=>!!t),(0,F.T)(t=>[]))]).pipe((0,wg.Z)(([t])=>this.getFromBackend(t,[],"getAll"))),{initialValue:this.noItemsLoadingFalse}),this.#a=(0,$.KX)("prefetchNow",this.noItemsLoadingFalse),this.#s=(0,$.KX)("modified",this.noItemsLoadingFalse),this.data=(0,$.bo)("data",()=>{const t=this.#a().data,i=this.#n().data,n=this.#s().data,s=[...new Map([...t,...i,...n].map(o=>[o.value,o])).values()];return this.log.a("data",{prefetch:t,all:i,overrides:n,data:s}),s}),this.loading=(0,$.bo)("loading",()=>this.#n().loading||this.#s().loading)}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}#e;#t;#i;#n;#a;#s;initPrefetch(t){this.log.fnIfInList("initPrefetch","fields",this.fieldName,{entityGuids:t});const n=t.filter(oi.a.distinct);this.#r(this.#a,n,"initPrefetch")}setParams(t){this.log.fnIfInList("setParams","fields",this.fieldName,{params:t}),this.#e.set(t)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t});this.#r(this.#s,t,"addToRefresh"),i.end()}#r(t,i,n){const s=this.#e(),o=this.log.fnIfInList("loadMoreIntoSignal","fields",this.fieldName,{additionalGuids:i,params:s});if(null==i||0===i.length)return o.end("no additional guids to load/refresh");t.update(l=>({data:l.data,loading:!0})),this.getFromBackend(s,i,n).subscribe(l=>{const u=this.log.fn("loadMoreIntoSignal-data",{additionalGuids:i,additions:l}),_=t();t.update(b=>({data:[...new Map([...b.data,...l.data].map(S=>[S.value,S])).values()],loading:!1})),u.values({before:_,additions:l,merged:t().data})}),o.end()}static#o=this.\u0275fac=function(i){return new(i||a)};static#l=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),xg=(()=>{class a extends Fo{#e;constructor(){super(),this.log=(0,Mt.T)({DataSourceQuery:a},So),this.#e=(0,e.WQX)(T.c$),this.formState=(0,e.WQX)(Re.S),this.#t=Number(this.formState.config.appId),this.#i=(0,$.bo)("streamName",()=>this.settings().StreamName),this.#n=this.fieldState.config.inputTypeSpecs.isString,this.constructorEnd()}#t;#i;#n;getFromBackend(t,i,n){var s=this.log.fnIfInList("getFromBackend","fields",this.fieldName,{params:t,guids:i},n);const o=this.settings(),l=this.#i(),u=o.Query,_=u?u.includes("/")?o.Query:`${o.Query}/${l}`:null;s.a("queryUrl",{queryName:u,streamName:l,queryUrl:_});const S=(_?(s.a("queryUrl for request",{queryUrl:_}),this.querySvc.getAvailableEntities(_,t,this.fieldsToRetrieve(this.settings()),i).pipe((0,F.T)(j=>({data:j,loading:!1})))):(s.a("noQueryUrl - will create dummy item"),(0,m.of)({data:{Default:[{Id:-1,Guid:null,Title:this.#e.instant("Fields.Picker.QueryNotConfigured")}]},loading:!1}))).pipe((0,F.T)(j=>({data:this.#a(j.data,l),loading:j.loading})));return s.r(S)}#a(t,i){const n=!this.#n,s=this.log.fn("transformData",{data:t,streamName:i,isForStringField:this.#n});if(!t)return[Zi.message(this.#e,"Fields.Picker.QueryErrorNoData")];let o=[],l=[];return i.split(",").forEach(u=>{t[u]?o=o.concat(t[u].map(_=>this.createMaskHelper().entity2PickerItem({entity:_,streamName:u,mustUseGuid:n}))):l.push(Zi.placeholder(this.#e,"Fields.Picker.QueryStreamNotFound"," "+u))}),s.r([...l,...this.#s(o)])}#s(t){return t&&t.forEach(i=>{const n=i.data?.AppId;i.noEdit=null!=n&&n!==this.#t,i.noDelete=i.noEdit}),t}static#r=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),wi=(()=>{class a{constructor(){this.log=(0,ee.T)({EntityFormStateService:a}),this.controlsCreated=(0,e.vPA)(!1),this.formGroup=new M.J3({})}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var Ao=g(9234);class Io extends yi{constructor(){super(...arguments),this.formConfig=(0,e.WQX)(Re.S),this.#e=(0,e.WQX)(ft),this.translate=(0,e.WQX)(T.c$),this.#t=(0,e.WQX)(zt.UG),this.injector=(0,e.WQX)(e.zZn),this.fieldState=(0,e.WQX)(Oe.W),this.group=(0,e.WQX)(wi).formGroup,this.#i=(0,we.d)(Ao.Tr),this.name=this.fieldState.name,this.#n=(0,$.bo)("typeMaskFromSettings",()=>this.fieldState.settings().EntityType),this.#a=(0,$.bo)("paramsMaskLazy",()=>{const r=this.#n();return(0,e.O8t)(()=>(0,we.d)(me.Nt,this.injector).init("PickerSource-EntityType",r))}),this.contentType=(0,$.bo)("contentType",()=>this.#a()?.result()??""),this.#s=(0,$.bo)("createEntityTypes",()=>this.fieldState.settings().CreateTypes),this.features=(0,$.bo)("features",()=>({create:!(!this.contentType()&&!this.#s())})),this.#r=(0,$.KX)("deletedItemsGuids",[]),this.errorOptions=(0,$.KX)("errorOptions",null),this.optionsOrHints=(0,$.bo)("optionsOrHints",()=>{const r=this.errorOptions();if(r)return r;const t=this.dataSource(),i=this.#r(),n=t.data().filter(s=>!i.some(o=>o===s.value));return t.loading()?[Zi.message(this.translate,"Fields.Picker.Loading"),...n]:n})}#e;#t;#i;#n;#a;#s;#r;initPrefetch(r){this.syncParams(),this.log.fnIfInList("initPrefetch","fields",this.name,{prefetchGuids:r}),this.dataSource().initPrefetch?.(r)}forceReloadData(r){const t=this.log.fn("forceReloadData",{missingData:r});this.dataSource().addToRefresh(r),t.end()}editItem(r,t){const i=this.log.fn("editItem",{editParams:r}),n=r?.entityGuid,s={items:null==n?[se.c.newFromType(t??this.contentType(),this.#o())]:[se.c.editId(this.optionsOrHints().find(l=>l.value===n)?.id??r.entityId)]},o=this.fieldState.config;this.#e.open(o.index,o.entityGuid,s),this.#e.childFormClosed().pipe((0,dt.s)(1)).subscribe(l=>{const u=this.log.fn("childFormClosed",{editGuid:n,data:l});if(n)return this.forceReloadData([n]),u.end("forceReloadData",{editGuid:n});u.end("no guid, won't reload data")}),i.end()}deleteItem(r){this.log.a("deleteItem",{props:r});const t=this.optionsOrHints().find(b=>b.value===r.entityGuid),i=t.id,n=t.label,s=this.contentType(),o=this.fieldState.config,l=o.entityId,u=o.fieldName;confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,s,i,!1,l,u).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(r),this.#r.update(b=>[...b,r.entityGuid])},error:b=>{this.#t.dismiss(),confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,s,i,!0,l,u).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(r),this.#r.update(S=>[...S,r.entityGuid])},error:S=>{this.#t.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}}))}}))}#o(){this.log.a("getPrefill");try{const r=this.fieldState.settings().Prefill,t=(0,we.d)(me.Nt,this.injector).init("Prefill",r),i=t.result();if(t.destroy(),!i||!i.trim())return null;const n={};return i.split("\n").forEach(s=>{const o=s.split("=");2===o.length&&o[0]&&o[1]&&(n[o[0]]=o[1])}),n}catch{return console.error("Error in getting Prefill for new entity. Will skip prefill."),null}}}var Cg=g(1573);let tn=(()=>{class a extends Io{constructor(){super(...arguments),this.log=(0,Mt.T)({DataAdapterQuery:a},yi.logSpecs),this.dataSourceRaw=(0,we.d)(xg),this.#e=(0,$.bo)("urlParametersSettings",()=>this.fieldState.settings().UrlParameters),this.#t=(0,$.bo)("paramsMaskLazy",()=>{const t=this.#e();return(0,e.O8t)(()=>(0,we.d)(Cg.N,this.injector).init(this.log.name,t))})}#e;#t;syncParams(){this.dataSourceRaw.setParams(this.#t()?.result())}fetchItems(){if(this.log.fnIfInList("fetchItems","fields",this.name),this.syncParams(),this.fieldState.settings().Query)this.dataSourceRaw.triggerGetAll();else{const i=[Zi.placeholder(this.translate,"Fields.Picker.QueryNotDefined")];this.errorOptions.set(i)}}static#i=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Mg=(()=>{class a extends Fo{constructor(){super(),this.log=(0,Mt.T)({DataSourceEntity:a},So),this.constructorEnd()}getFromBackend(t,i,n){const s=this.fieldsToRetrieve(this.settings());return this.log.fnIf("getFromBackend",{typeName:t,guids:i,fields:s},n),this.querySvc.getEntities({contentTypes:[t],itemIds:i,fields:s,log:this.log.name}).pipe((0,F.T)(l=>{const u=this.createMaskHelper();return{data:l.Default.map(b=>u.entity2PickerItem({entity:b,streamName:null,mustUseGuid:!0})),loading:!1}}))}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Kn=(()=>{class a extends Io{constructor(){super(...arguments),this.log=(0,Mt.T)({DataAdapterEntity:a},yi.logSpecs),this.dataSourceRaw=(0,we.d)(Mg)}syncParams(){this.dataSourceRaw.setParams(this.contentType())}fetchItems(){this.syncParams(),this.dataSource().triggerGetAll()}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const Dg={all:!1,updateValue:!0,add:!1,set:!0,remove:!0,reorder:!0,doAfterDelete:!0,selectedItems:!0,sepAndOpts:!0,createEntityTypes:!0,attachCallback:!0};let Eo=(()=>{class a{#e;constructor(){this.log=(0,ee.T)({StateAdapter:a},Dg),this.formConfigSvc=(0,e.WQX)(Re.S),this.#e=(0,e.WQX)(Oe.W),this.settings=this.#e.settings,this.isInFreeTextMode=(0,$.KX)("isInFreeTextMode",!1),this.features=(0,$.KX)("features",{}),this.typesForNew=(0,$.bo)("createEntityTypes",()=>{const t=this.settings().CreateTypes;return(t?t.split(t.indexOf("\n")>-1?"\n":",").map(s=>({label:null,guid:s})):[]).map(s=>{const o=s.guid,l=this.formConfigSvc.settings.ContentTypes.find(u=>u.Id===o||u.Name==o);return{...s,label:l?.Name??o+" (not found)",guid:l?.Id??o}})}),this.selectedItems=(()=>{const t=(0,$.bo)("sepAndOpts",()=>{const{Separator:i,_options:n}=this.settings();return{separator:i,options:n}});return(0,$.bo)("selectedItems",()=>{const i=t();return rr(this.#e.uiValue(),i.separator,i.options)})})(),this.values=(0,$.bo)("ids",()=>this.mapper.toUi(this.#e.uiValue()))}#t;attachCallback(t){return this.log.a("attachCallback"),this.#t=t,this}#i(t){const i=this.log.fnIf("updateValue"),s=t(this.values()),o=this.mapper.toState(s);this.#e.ui().set(o),i.end()}add(t){this.log.fnIf("add",{value:t}),this.#i(i=>this.settings().AllowMultiValue?[...i,t]:[t])}set(t){this.log.fnIf("set",{values:t}),this.#i(()=>t)}reorder(t){this.log.fnIf("reorder",{reorderIndexes:t}),this.#i(i=>((0,Ai.HD)(i,t.previousIndex,t.currentIndex),i))}remove(t){this.log.fnIf("remove",{index:t}),this.#i(i=>(i.splice(t,1),i)),this.values().length||setTimeout(()=>{console.log("trying to call focus"),this.#t()})}doAfterDelete(t){this.log.fnIf("doAfterDelete",{props:t}),this.remove(t.index)}toggleFreeTextMode(){this.isInFreeTextMode.update(t=>!t)}static#n=this.\u0275fac=function(i){return new(i||a)};static#a=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Oo{constructor(r){this.fieldName=r}}class Tg extends Oo{constructor(r,t){super(r),this.settings=t}}class Sg extends Tg{toUi(r){return null==r||""===r?[]:r.split(this.settings().Separator)??[]}toState(r){return null==r||0===r.length?"":function Tl(a,r){return a?Array.isArray(a)?a.join(r):a:""}(r,this.settings().Separator)}}let ks=(()=>{class a extends Eo{constructor(){super(),this.log=(0,ee.T)({StateAdapterString:a}),this.mapper=new Sg("todo field name",this.settings)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Fg extends Oo{toUi(r){return r}toState(r){return r}}let xs=(()=>{class a extends Eo{constructor(){super(),this.log=(0,ee.T)({StateAdapterEntity:a}),this.mapper=new Fg}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Ag=(()=>{class a extends ws{constructor(){super(),this.log=(0,ee.T)({DataSourceEmpty:a}),this.loading=(0,$.KX)("loading",!1),this.#e=(0,$.KX)("label","something is wrong - using DataSourceEmpty"),this.data=(0,$.bo)("data",()=>[{value:"",label:this.#e()??"No options available",notSelectable:!0,isMessage:!0}]),this.constructorEnd()}#e;preSetup(t){return this.#e.set(t),this}static#t=this.\u0275fac=function(i){return new(i||a)};static#i=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Lo=(()=>{class a extends yi{constructor(){super(...arguments),this.log=(0,Mt.T)({DataAdapterEmpty:a},yi.logSpecs),this.features=(0,$.KX)("features",{edit:!1,create:!1,delete:!1}),this.dataSourceRaw=(0,we.d)(Ag)}connectState(t){return this.dataSourceRaw.preSetup("Error: configuration missing"),super.connectState(t)}setupEmpty(){const t=this.log.fnIf("setupEmpty");return this.dataSource.set(this.dataSourceRaw.preSetup("Error: configuration missing")),t.rSilent(this)}initPrefetch(t){}forceReloadData(t){}syncParams(){}fetchItems(){this.log.a("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Cs{constructor(r){this.log=(0,ee.T)({PickerDataSetup:Cs},null),this.#e=r}#e;setupPickerData(r,t){const i=t.config.inputTypeSpecs.inputType,n=this.log.fn("createPickerAdapters",{pickerData:r,fieldState:t,inputType:i}),s=this.#t(i),o=t.settings().DataSourceType,l=this.#i(i,o,s);return r.setup(t.name,s,l),r.source.onAfterViewInit(),n.rSilent(r)}#t(r){const t=Ms[r]?.states?.[0];if(!t)throw new Error(`No State Adapter found for inputTypeSpecs: ${r}`);return(0,we.d)(t,this.#e)}#i(r,t,i){const n=this.log.fn("getSourceAdapter",{inputType:r,dataSourceType:t}),l=Ig[Ms[r].forcePickerConfig??t]??Lo;this.#n(r,l);const u=(0,we.d)(l,this.#e).connectState(i);return n.r(u)}#n(r,t){if(t===Lo||Ms[r]?.sources?.includes(t))return!1;throw new Error(`Specified SourceAdapter not allowed for inputTypeSpecs: ${r}: ${qi}`)}}const Ig={[ct.UiPickerSourceCustomList]:qi,[ct.UiPickerSourceCustomCsv]:qi,[ct.UiPickerSourceQuery]:tn,[ct.UiPickerSourceEntity]:Kn},Ms={[oe.u.StringPicker]:{sources:[qi,tn,Kn],states:[ks]},[oe.u.StringDropdown]:{sources:[qi],states:[ks],forcePickerConfig:ct.UiPickerSourceCustomList},[oe.u.StringDropdownQuery]:{sources:[tn],states:[ks],forcePickerConfig:ct.UiPickerSourceQuery},[oe.u.EntityDefault]:{sources:[Kn],states:[xs],forcePickerConfig:ct.UiPickerSourceEntity},[oe.u.EntityQuery]:{sources:[tn],states:[xs],forcePickerConfig:ct.UiPickerSourceQuery},[oe.u.EntityPicker]:{sources:[Kn,tn],states:[xs]}},Eg=[[["","freeTextButtons",""]]],Og=["[freeTextButtons]"];function Lg(a,r){if(1&a&&e.nrm(0,"textarea",2),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}function Pg(a,r){if(1&a&&e.nrm(0,"input",2),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}let Po=(()=>{class a extends vi{constructor(){super(),this.log=(0,ee.T)({PickerTextComponent:a}),this.useMultiLine=(0,$.bo)("useMultiLine",()=>{const i=this.fieldState.settings().Separator;return"\\n"==i||"\n"==i})}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-text"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Og,decls:8,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start end"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix",""]],template:function(i,n){1&i&&(e.NAR(Eg),e.j41(0,"div",0)(1,"mat-form-field",1),e.DNE(2,Lg,1,3,"textarea",2)(3,Pg,1,3),e.j41(4,"div",3),e.SdG(5),e.k0s(),e.j41(6,"mat-label"),e.EFF(7),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("formGroup",n.fieldState.group),e.R7$(),e.vxM(2,n.useMultiLine()?2:3),e.R7$(5),e.JRh(n.basics().label))},dependencies:[bt,Lt,Dt,ge.RG,ge.rl,ge.nJ,ge.yw,M.YN,M.me,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,it.fS,it.fg],styles:[".ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px;padding-bottom:4px}.ed-field__create-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.dropdown-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}"]})}return a})();function Rg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",2),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?n.toggleFreeText(n.csDisabled):null)}),e.j41(2,"mat-icon"),e.EFF(3,"search"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"":"active")("tippy",e.bMT(1,3,"Fields.String.Dropdown"))("disabled",t.csDisabled)}}function Vg(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",2),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?null:n.toggleFreeText(n.csDisabled))}),e.j41(2,"mat-icon"),e.EFF(3,"text_fields"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"active":"")("tippy",e.bMT(1,3,"Fields.String.Freetext"))("disabled",t.csDisabled)}}function Yg(a,r){if(1&a&&(e.j41(0,"span",0),e.DNE(1,Rg,4,5,"button",1)(2,Vg,4,5,"button",1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.vxM(1,t.showBoth()||t.isTextMode()?1:-1),e.R7$(),e.vxM(2,t.showBoth()||!t.isTextMode()?2:-1)}}let jg=(()=>{class a{constructor(){this.isTextMode=(0,e.hFB)(!1),this.showBoth=(0,e.hFB)(!0),this.pickerData=(0,e.WQX)(Oe.W).pickerData}toggleFreeText(t){t||this.pickerData.state.toggleFreeTextMode()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-toggle-text"]],inputs:{csDisabled:"csDisabled",allowText:"allowText",isTextMode:[e.Mj6.SignalBased,"isTextMode"],showBoth:[e.Mj6.SignalBased,"showBoth"]},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["matSuffix","",1,"toggle-buttons"],["mat-icon-button","","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","tippy","disabled"],["mat-icon-button","","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","tippy","disabled"]],template:function(i,n){1&i&&e.DNE(0,Yg,3,2,"span",0),2&i&&e.vxM(0,n.allowText?0:-1)},dependencies:[ge.RG,ge.yw,p.Hl,p.iY,V.YU,z.Cc,z.PW,P.m_,P.An,T.h,T.D9,Vi.c,qe.e],styles:[".eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:3px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}.toggle-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.toggle-buttons[_ngcontent-%COMP%]   .active.mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{background-color:#1d273d3d;color:#fff}"]})}return a})();const Ng=[[["","freeTextButtons",""]]],zg=["[freeTextButtons]"],Bg=(a,r)=>r.value,Gg=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"color__label-disabled":n}),$g=()=>({enterDuration:360}),Hg=(a,r)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r}),Ug=a=>({"eav-more-entities-margin-right":a});function Xg(a,r){if(1&a&&(e.j41(0,"mat-list-item",8)(1,"span",9),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.label)}}function Wg(a,r){if(1&a&&(e.j41(0,"mat-list",5),e.Z7z(1,Xg,3,1,"mat-list-item",8,Bg),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Dyx(t.selectedItems())}}function Jg(a,r){if(1&a&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,Ug,t.enableTextEntry())),e.R7$(),e.SpI(" ",t.itemCount()," ")}}function Qg(a,r){1&a&&(e.j41(0,"span",7),e.SdG(1),e.k0s())}let Kg=(()=>{class a extends vi{constructor(){super()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-pills"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:zg,decls:9,vars:18,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row",1,"eav-list"],[1,"eav-more-entities",3,"ngClass"],["matSuffix",""],["role","listitem",1,"eav-list-item"],["mat-line",""]],template:function(i,n){1&i&&(e.NAR(Ng),e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.bIt("click",function(){return n.expandDialog()}),e.j41(4,"div",3)(5,"div",4),e.DNE(6,Wg,3,0,"mat-list",5)(7,Jg,2,4,"span",6)(8,Qg,2,0,"span",7),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("ngClass",e.s1E(8,Gg,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(14,$g))("ngClass",e.l_i(15,Hg,n.ui().touchedAndInvalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.itemCount()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.vxM(6,n.itemCount()?6:-1),e.R7$(),e.vxM(7,n.itemCount()>3?7:-1),e.R7$(),e.vxM(8,n.enableTextEntry()?8:-1))},dependencies:[ge.RG,ge.nJ,ge.yw,V.YU,z.Cc,z.PW,U.pZ,U.r6,bt,Lt,Dt,hn,vl,mn],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:16px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.eav-more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.eav-more-entities-margin-right[_ngcontent-%COMP%]{margin-right:10px}.eav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-y:hidden;flex:1 1 auto;max-height:35px}.eav-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:#1d273d14;border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis;padding:0}"]})}return a})();var Zg=g(7024);const qg={all:!0,options:!0,select:!0};class Zn extends vi{constructor(){super(),this.log=(0,ee.T)({PickerInlineBaseComponent:Zn},qg),this.options=(0,$.bo)("options",()=>{const r=this.pickerData.optionsWithMissing(),t=this.selectedItems(),i=r.map(n=>{const s=t.find(o=>o.value===n.value);return{...n,selected:!!s}});return this.log.aIf("options",{options:r,selected:t,final:i}),i})}select(r){const t=this.allowMultiValue();if(console.log(`select, allowMulti: ${t}`,r),!t)return this.pickerData.state.set([r.value]),void this.log.aIf("select",{item:r,allowMulti:t});const i=this.options(),n=i.map(l=>l.value===r.value?{...l,selected:!l.selected}:l),s=n.filter(l=>l.selected),o=s.map(l=>l.value);this.log.aIf("select",{item:r,allowMulti:t,before:i,toggled:n,selected:s,values:o}),this.pickerData.state.set(o)}}const ef=(a,r)=>r.value,tf=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"color__label-disabled":n});function nf(a,r){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"mat-checkbox",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.select(n))}),e.j41(2,"div",4)(3,"span",5),e.EFF(4),e.k0s(),e.j41(5,"div",6),e.nrm(6,"app-picker-help",7)(7,"app-picker-icon-info",8),e.k0s()()()()}if(2&a){const t=r.$implicit;e.R7$(),e.Y8G("checked",t.selected)("disabled",t.noSelect)("tippy",t.tooltip)("tippyDisabled",!t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(3),e.JRh(t.label?t.label:t.value),e.R7$(2),e.Y8G("helpLink",t.link),e.R7$(),e.Y8G("infoBox",t.info)}}let af=(()=>{class a extends Zn{constructor(){super(),this.fieldState.requireFeature(mt.T.PickerUiCheckbox)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-checkboxes"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:9,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[3,"flatIfEmpty"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","checked","disabled","tippy","tippyDisabled","tippyAllowHtml","tippyArrow"],[1,"picker-option-contents"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"helpLink"],[3,"infoBox"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.nrm(3,"app-field-helper-text",2),e.Z7z(4,nf,8,9,"div",null,ef),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngClass",e.s1E(3,tf,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("flatIfEmpty",!0),e.R7$(),e.Dyx(n.options()))},dependencies:[ge.RG,ge.nJ,U.pZ,bt,Zg.So,V.YU,qe.e,gt,bs,vs],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}mat-checkbox[_ngcontent-%COMP%]{width:100%}mat-checkbox[_ngcontent-%COMP%]   div.mat-internal-form-field[_ngcontent-%COMP%]{width:100%!important}"]})}return a})();var sf=g(3804);const rf=(a,r)=>r.value,of=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"color__label-disabled":n});function lf(a,r){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"mat-radio-button",4),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.select(n))}),e.j41(2,"div",5)(3,"span",6),e.EFF(4),e.k0s(),e.j41(5,"div",7),e.nrm(6,"app-picker-help",8)(7,"app-picker-icon-info",9),e.k0s()()()()}if(2&a){const t=r.$implicit,i=e.XpG();e.R7$(),e.Y8G("name",i.name)("checked",t.selected)("disabled",t.noSelect)("tippy",t.tooltip)("tippyDisabled",!t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(3),e.JRh(t.label?t.label:t.value),e.R7$(2),e.Y8G("helpLink",t.link),e.R7$(),e.Y8G("infoBox",t.info)}}let df=(()=>{class a extends Zn{constructor(){super(),this.name=this.fieldState.name,this.fieldState.requireFeature(mt.T.PickerUiRadio)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-radio"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:9,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[3,"flatIfEmpty"],["fxLayout","column"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","name","checked","disabled","tippy","tippyDisabled","tippyAllowHtml","tippyArrow"],[1,"picker-option-contents"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"helpLink"],[3,"infoBox"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.nrm(3,"app-field-helper-text",2),e.j41(4,"div",3),e.Z7z(5,lf,8,10,"div",null,rf),e.k0s()()),2&i&&(e.R7$(),e.Y8G("ngClass",e.s1E(3,of,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("flatIfEmpty",!0),e.R7$(2),e.Dyx(n.options()))},dependencies:[ge.RG,ge.nJ,U.pZ,bt,Lt,sf._g,V.YU,qe.e,gt,bs,vs],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}mat-radio-button[_ngcontent-%COMP%]{width:100%}mat-radio-button[_ngcontent-%COMP%]   div.mat-internal-form-field[_ngcontent-%COMP%]{width:100%!important}"]})}return a})();const cf=()=>({$implicit:!1}),uf=a=>({"picker-suffix-text":a});function mf(a,r){1&a&&e.eu8(0,4)}function hf(a,r){if(1&a&&(e.j41(0,"app-picker-text"),e.DNE(1,mf,1,0,"ng-container",7),e.k0s()),2&a){e.XpG();const t=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function pf(a,r){1&a&&e.nrm(0,"app-picker-checkboxes")}function gf(a,r){1&a&&e.nrm(0,"app-picker-radio")}function ff(a,r){1&a&&e.eu8(0,4)}function _f(a,r){if(1&a&&(e.j41(0,"app-picker-pills"),e.DNE(1,ff,1,0,"ng-container",7),e.k0s()),2&a){e.XpG();const t=e.sdS(14);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function bf(a,r){1&a&&e.eu8(0,4)}function vf(a,r){if(1&a&&(e.j41(0,"app-picker-search",8),e.DNE(1,bf,1,0,"ng-container",7),e.k0s()),2&a){e.XpG();const t=e.sdS(14);e.Y8G("showSelectedItem",!0)("showItemEditButtons",!0),e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function yf(a,r){1&a&&e.eu8(0,4)}function wf(a,r){if(1&a&&e.DNE(0,yf,1,0,"ng-container",9),2&a){e.XpG();const t=e.sdS(14);e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.lJ4(2,cf))}}function kf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.label)}}function xf(a,r){if(1&a&&(e.j41(0,"button",10),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s()(),e.j41(4,"mat-menu",null,1),e.Z7z(6,kf,3,1,"button",11,e.fX1),e.k0s()),2&a){const t=e.sdS(5),i=e.XpG(2);e.Y8G("tippy",e.bMT(1,3,"Fields.Picker.New"))("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(6),e.Dyx(i.pickerData.state.typesForNew())}}function Cf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",13),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewEntityDialog(null))}),e.j41(2,"mat-icon"),e.EFF(3,"add_circle_outline"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.New"))("disabled",t.ui().disabled||!t.features().create)}}function Mf(a,r){if(1&a&&e.DNE(0,xf,8,5)(1,Cf,4,4),2&a){const t=e.XpG();e.vxM(0,t.pickerData.state.typesForNew().length>1?0:1)}}function Df(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",14),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.expandDialog())}),e.j41(2,"mat-icon"),e.EFF(3,"post_add"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled)("tippy",e.bMT(1,2,"Fields.Picker.OpenMultiselect"))}}function Tf(a,r){1&a&&e.nrm(0,"app-field-helper-text")}function Sf(a,r){1&a&&e.nrm(0,"br")}function Ff(a,r){if(1&a&&(e.j41(0,"span",15),e.nrm(1,"app-picker-toggle-text",16),e.k0s()),2&a){let t;const i=r.$implicit,n=e.XpG();e.Y8G("ngClass",e.eq3(5,uf,i)),e.R7$(),e.Y8G("csDisabled",n.ui().disabled)("allowText",n.mySettings().enableTextEntry)("isTextMode",n.isInFreeTextMode())("showBoth",null===(t=i)||void 0===t||t)}}let ui=(()=>{class a extends vi{constructor(){super(),this.log=(0,ee.T)({PickerPreviewComponent:a}),this.#e=this.fieldState.setting("PickerDisplayMode"),this.mode=(0,$.bo)("mode",()=>{if(this.isInFreeTextMode())return"text";switch(this.#e()){case"radio":return"radio";case"checkbox":return"checkbox";case"auto-inline":return this.allowMultiValue()?"checkbox":"radio";default:return this.selectedItems().length>1?"pills":"search"}}),this.skipHelpText=(0,$.bo)("helpTextOnTop",()=>{const t=this.mode();return"radio"===t||"checkbox"===t}),this.mySettings=(0,$.bo)("mySettings",()=>{const t=this.fieldState.settings();return{allowMultiValue:t.AllowMultiValue,enableEdit:t.EnableEdit,enableCreate:t.EnableCreate,createTypes:t.CreateTypes,enableTextEntry:t.EnableTextEntry,showAddNewEntityButton:t.CreateTypes&&t.EnableCreate,showGoToListDialogButton:t.AllowMultiValue}})}#e;static#t=this.\u0275fac=function(i){return new(i||a)};static#i=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-preview"]],standalone:!0,features:[e.Vt3,e.aNF],decls:15,vars:5,consts:[["textToggle",""],["entityTypesMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start top"],[1,"eav-mat-form-field"],["freeTextButtons",""],["fxLayoutAlign","end end"],["mat-icon-button","",1,"eav-suffix-button",3,"disabled","tippy"],["freeTextButtons","",4,"ngTemplateOutlet"],[3,"showSelectedItem","showItemEditButtons"],["freeTextButtons","",4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-icon-button","",1,"eav-suffix-button",3,"tippy","disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-icon-button","",1,"eav-suffix-button",3,"click","tippy","disabled"],["mat-icon-button","",1,"eav-suffix-button",3,"click","disabled","tippy"],[3,"ngClass"],[3,"csDisabled","allowText","isTextMode","showBoth"]],template:function(i,n){if(1&i&&(e.j41(0,"div",2)(1,"div",3),e.DNE(2,hf,2,1)(3,pf,1,0)(4,gf,1,0)(5,_f,2,1)(6,vf,2,3),e.k0s(),e.DNE(7,wf,1,3,"ng-container",4),e.j41(8,"div",5),e.DNE(9,Mf,2,1)(10,Df,4,4,"button",6),e.k0s()(),e.DNE(11,Tf,1,0,"app-field-helper-text")(12,Sf,1,0)(13,Ff,2,7,"ng-template",null,0,e.C5r)),2&i){let s;e.R7$(2),e.vxM(2,"text"===(s=n.mode())?2:"checkbox"===s?3:"radio"===s?4:"pills"===s?5:"search"===s?6:-1),e.R7$(5),e.vxM(7,"radio"!==n.mode()&&"checkbox"!==n.mode()||!n.enableTextEntry()?-1:7),e.R7$(2),e.vxM(9,n.mySettings().showAddNewEntityButton?9:-1),e.R7$(),e.vxM(10,n.mySettings().showGoToListDialogButton?10:-1),e.R7$(),e.vxM(11,n.skipHelpText()?12:11)}},dependencies:[V.T3,V.YU,bt,Lt,Dt,p.Hl,p.iY,Ke.Cn,Ke.kk,Ke.fb,Ke.Cp,P.m_,P.An,T.h,T.D9,qe.e,Kg,jg,Jn,Po,af,df,gt],styles:[".eav-div-around-picker[_ngcontent-%COMP%]{width:100%}.eav-suffix-button[_ngcontent-%COMP%]{scale:.8}.picker-suffix-text[_ngcontent-%COMP%]{min-width:80px}"]})}return a})();var Ro=g(1459);const Af=(a,r)=>r.value,Vo=a=>({disabled:a}),If=(a,r)=>({"normal-list":a,"dnd-list":r}),Ef=(a,r,t)=>({"normal-item":a,"dnd-item":r,disabled:t});function Of(a,r){if(1&a&&(e.j41(0,"mat-label",0),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,Vo,t.ui().disabled)),e.R7$(),e.SpI(" ",t.basics().labelWithRequired," ")}}function Lf(a,r){if(1&a&&(e.j41(0,"mat-icon",5),e.nI1(1,"translate"),e.EFF(2," drag_handle "),e.k0s()),2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.DragMove"))("tippyDisabled",t.ui().disabled)}}function Pf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.edit(n.value,n.id))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Edit"))("disabled",t.config.initialDisabled)}}function Rf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(),s=n.$implicit,o=n.$index,l=e.XpG(2);return e.Njj(l.deleteItem(o,s.value))}),e.j41(2,"mat-icon"),e.EFF(3,"delete"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Delete"))("disabled",t.ui().disabled)}}function Vf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$index,s=e.XpG(2);return e.Njj(s.removeItem(n))}),e.j41(2,"mat-icon"),e.EFF(3,"do_not_disturb_on"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Picker.Remove"))("disabled",t.ui().disabled)}}function Yf(a,r){if(1&a&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,Lf,3,4,"mat-icon",5),e.j41(3,"span",6),e.EFF(4),e.k0s()(),e.j41(5,"div",7),e.DNE(6,Pf,4,4,"button",8)(7,Rf,4,4,"button",8)(8,Vf,4,4,"button",8),e.k0s()()),2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("ngClass",e.sMw(8,Ef,!i.mySettings().allowMultiValue,i.mySettings().allowMultiValue,i.ui().disabled)),e.R7$(),e.Y8G("ngClass",e.eq3(12,Vo,i.ui().disabled)),e.R7$(),e.vxM(2,i.mySettings().allowMultiValue?2:-1),e.R7$(),e.Y8G("tippy",t.tooltip),e.R7$(),e.SpI(" ",t.label," "),e.R7$(2),e.vxM(6,i.mySettings().enableEdit&&!t.noEdit?6:-1),e.R7$(),e.vxM(7,i.mySettings().enableDelete&&!t.noDelete?7:-1),e.R7$(),e.vxM(8,i.mySettings().enableRemove?8:-1)}}function jf(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2),e.bIt("cdkDropListDropped",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.drop(n))}),e.Z7z(1,Yf,9,14,"div",3,Af),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("cdkDropListDisabled",!t.mySettings().allowMultiValue||t.ui().disabled)("ngClass",e.l_i(2,If,!t.mySettings().allowMultiValue,t.mySettings().allowMultiValue)),e.R7$(),e.Dyx(t.selectedItems())}}let Nf=(()=>{class a extends vi{constructor(){super(),this.log=(0,ee.T)({PickerListComponent:a}),this.mySettings=(0,$.bo)("mySettings",()=>{const t=this.fieldState.settings();return{allowMultiValue:t.AllowMultiValue,enableEdit:t.EnableEdit,enableDelete:t.EnableDelete,enableRemove:t.EnableRemove}})}drop(t){const i=this.pickerData.selectedAll();(0,Ai.HD)(i,t.previousIndex,t.currentIndex),this.pickerData.state.reorder({previousIndex:t.previousIndex,currentIndex:t.currentIndex})}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-list"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:2,consts:[[1,"field-label",3,"ngClass"],["cdkDropList","",3,"cdkDropListDisabled","ngClass"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListDisabled","ngClass"],["cdkDrag","",3,"ngClass"],[1,"item-title",3,"ngClass"],[1,"item-title__icon",3,"tippy","tippyDisabled"],[1,"item-title__text",3,"tippy"],[1,"item-actions"],["mat-icon-button","","appMousedownStopPropagation","",1,"eav-action-button",3,"tippy","disabled"],["mat-icon-button","","appMousedownStopPropagation","",1,"eav-action-button",3,"click","tippy","disabled"]],template:function(i,n){1&i&&e.DNE(0,Of,2,4,"mat-label",0)(1,jf,3,5,"div",1),2&i&&(e.vxM(0,n.mySettings().allowMultiValue?-1:0),e.R7$(),e.vxM(1,n.selectedItems().length>0?1:-1))},dependencies:[ge.RG,ge.nJ,V.YU,z.Cc,z.PW,Ai.O7,Ai.T1,P.m_,P.An,p.Hl,p.iY,T.h,T.D9,qe.e,Ro.z],styles:[".normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.normal-list[_ngcontent-%COMP%]   .normal-item.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:#1d273d70}.field-label.disabled[_ngcontent-%COMP%]{color:#1d273d3d}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type{height:31px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-actions[_ngcontent-%COMP%]{margin-top:-2px}.dnd-list[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.dnd-item[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.dnd-item[_ngcontent-%COMP%]:not(.disabled){cursor:move}.dnd-item[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:#1d273d3d}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.item-actions[_ngcontent-%COMP%]{flex-shrink:0}.item-actions[_ngcontent-%COMP%]   .eav-action-button[_ngcontent-%COMP%]{scale:.8;margin:0 -4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.dnd-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dnd-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return a})();function zf(a,r){1&a&&e.nrm(0,"app-picker-search",1),2&a&&e.Y8G("showSelectedItem",!1)("showItemEditButtons",!1)}function Bf(a,r){1&a&&e.nrm(0,"app-picker-text")}function Gf(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.label)}}function $f(a,r){if(1&a&&(e.j41(0,"div",2)(1,"button",3),e.nI1(2,"translate"),e.j41(3,"mat-icon"),e.EFF(4,"add"),e.k0s()(),e.j41(5,"mat-menu",null,0),e.Z7z(7,Gf,3,1,"button",4,e.fX1),e.k0s()()),2&a){const t=e.sdS(6),i=e.XpG(2);e.R7$(),e.Y8G("tippy",e.bMT(2,3,"Fields.Picker.New"))("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(6),e.Dyx(i.pickerData.state.typesForNew())}}function Hf(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",2)(1,"button",6),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewEntityDialog(null))}),e.j41(3,"mat-icon"),e.EFF(4,"add"),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("tippy",e.bMT(2,2,"Fields.Picker.New"))("disabled",t.ui().disabled||!t.features().create)}}function Uf(a,r){if(1&a&&e.DNE(0,$f,9,5,"div",2)(1,Hf,5,4),2&a){const t=e.XpG();e.vxM(0,t.pickerData.state.typesForNew().length>1?0:1)}}let mi=(()=>{class a extends vi{constructor(){super(...arguments),this.showAddNewEntityButtonInDialog=(0,$.bo)("showAddNewEntityButtonInDialog",()=>{const t=this.fieldState.settings();return!this.isInFreeTextMode()&&t.EnableCreate&&t.CreateTypes&&t.AllowMultiValue})}static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:2,consts:[["entityTypesMenu","matMenu"],[3,"showSelectedItem","showItemEditButtons"],["fxLayout","row","fxLayoutAlign","end center"],["mat-mini-fab","","color","accent",3,"tippy","disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-mini-fab","","color","accent",3,"click","tippy","disabled"]],template:function(i,n){1&i&&(e.nrm(0,"app-picker-list"),e.DNE(1,zf,1,2,"app-picker-search",1)(2,Bf,1,0),e.nrm(3,"app-field-helper-text"),e.DNE(4,Uf,2,1)),2&i&&(e.R7$(),e.vxM(1,n.isInFreeTextMode()?2:1),e.R7$(3),e.vxM(4,n.showAddNewEntityButtonInDialog()?4:-1))},dependencies:[Nf,Jn,Po,gt,bt,Lt,Dt,p.Hl,p.$0,Ke.Cn,Ke.kk,Ke.fb,Ke.Cp,P.m_,P.An,T.h,T.D9,qe.e]})}return a})();function Xf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Wf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let Gt=(()=>{class a extends Q.${static#e=this.logSpecs={all:!0,focusOnSearchComponent:!1,refreshOnChildClosed:!1,childFormResult:!0};constructor(){super(),this.#t=(0,e.WQX)(e.zZn),this.#i=(0,e.WQX)(ft),this.#n=(0,e.WQX)(Oe.W),this.#a=this.#n.pickerData,this.showPreview=(0,$.bo)("showPreview",()=>{const t=this.#n.settings();return!t.AllowMultiValue||t.AllowMultiValue&&!t.isDialog})}constructorEnd(){this.log??=(0,ee.T)({PickerComponent:a},a.logSpecs),this.log.a("constructor"),new Cs(this.#t).setupPickerData(this.#a,this.#n)}#t;#i;#n;#a;ngOnInit(){this.#a.closeWatcherAttachedWIP||(this.#s(),this.#a.state.attachCallback(this.focusOnSearchComponent),this.#a.closeWatcherAttachedWIP=!0)}focusOnSearchComponent(){const t=this.log.fnIf("focusOnSearchComponent");this.entitySearchComponent?.autocomplete()?.nativeElement.focus(),t.end()}#s(){const t=this.log.fnIf("refreshOnChildClosed"),i=this.#n.config;this.subscriptions.add(this.#i.childFormResult(i.index,i.entityGuid).subscribe(n=>this.log.fnIf("childFormResult",{result:n}).r(this.#a.addNewlyCreatedItem(n)))),t.end()}static#r=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&e.GBs(Jn,5),2&i){let s;e.mGM(s=e.lsd())&&(n.entitySearchComponent=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Xf,1,0,"app-picker-preview")(1,Wf,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();function Jf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Qf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let Yo=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({EntityDefaultComponent:a},Gt.logSpecs),this.constructorEnd(),bi.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["entity-default"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Jf,1,0,"app-picker-preview")(1,Qf,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();function Kf(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Zf(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let qf=(()=>{class a extends Yo{constructor(){super(),$n.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["entity-content-blocks"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Kf,1,0,"app-picker-preview")(1,Zf,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();class qn extends Te{constructor(){super({EntityQueryLogic:qn}),this.name=oe.u.EntityQuery}update({settings:r,tools:t,value:i}){const s=Bt.singleton().get(oe.u.EntityDefault).update({settings:r,value:i,tools:t});return s.Query??="",s.StreamName||="Default",s.UrlParameters??="",s.MoreFields??="",s.Label??="",s}}function e_(a,r){1&a&&e.nrm(0,"app-picker-preview")}function t_(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Te.add(qn);let i_=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({EntityQueryComponent:a},Gt.logSpecs),this.constructorEnd(),qn.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["entity-query"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,e_,1,0,"app-picker-preview")(1,t_,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();function n_(a,r){1&a&&(e.EFF(0," \xa0 "),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.EFF(4," \xa0 "),e.j41(5,"a",5),e.EFF(6,"2sic.com"),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Fields.Hyperlink.AdamFileManager.SponsorLine")))}let a_=(()=>{class a{constructor(){this.features=(0,e.WQX)(Ot.t),this.hideAdamSponsor=this.features.isEnabled(mt.T.NoSponsoredByToSic)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["adam-hint"]],standalone:!0,features:[e.aNF],decls:13,vars:10,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1",1,"adam-link",3,"tippy"],["svgIcon","apple-outlined"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(i,n){1&i&&(e.nrm(0,"mat-divider"),e.j41(1,"div",0)(2,"div",1),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",2)(6,"a",3),e.nI1(7,"translate"),e.nrm(8,"mat-icon",4),e.j41(9,"span"),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.DNE(12,n_,7,3),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,4,"Fields.Hyperlink.AdamFileManager.Hint")),e.R7$(3),e.Y8G("tippy",e.bMT(7,6,"Fields.Hyperlink.AdamFileManager.HelpTooltip")),e.R7$(4),e.JRh(e.bMT(11,8,"Fields.Hyperlink.AdamFileManager.Name")),e.R7$(2),e.vxM(12,n.hideAdamSponsor()?-1:12))},dependencies:[$e,Ie,P.m_,P.An,T.h,T.D9,qe.e],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:#1d273d70;display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"]})}return a})();class ea{constructor(r){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=r}static completeConfig(r,t,i){const n=t.inputTypeSpecs.isExternal;i=i??new ea(n);const s=new ea(n);for(const l of Object.keys(s))s[l]=r[l]??i[l];if(i.usePortalRoot!==s.usePortalRoot&&(s.subfolder=""),s.usePortalRoot&&(s.rootSubfolder.includes("\\")&&(s.rootSubfolder=s.rootSubfolder.replace(/\\/g,"/")),s.rootSubfolder.startsWith("/")&&(s.rootSubfolder=s.rootSubfolder.replace("/","")),!s.subfolder.startsWith(s.rootSubfolder)&&(s.subfolder=s.rootSubfolder),s.maxDepthReached=!1),!s.usePortalRoot)if((s.subfolder?s.subfolder.split("/").length:0)>=s.folderDepth){let _=s.subfolder.split("/");_=_.slice(0,s.folderDepth),s.subfolder=_.join("/"),s.maxDepthReached=!0}else s.maxDepthReached=!1;return s}}var jo=g(6256),ta=g(5541),No=g(3140);let Ds=(()=>{class a extends No.J{constructor(t,i,n,s,o,l,u){super(),this.elementRef=t,this.features=i,this.snackBar=n,this.translate=s,this.dialog=o,this.viewContainerRef=l,this.changeDetectorRef=u,this.log=(0,ee.T)({PasteClipboardImageDirective:a}),this.eventListeners=[],this.pasteImageEnabled=this.features.isEnabled(mt.T.PasteImageFromClipboard)}ngOnInit(){switch(this.elementType){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}const t=i=>{this.handleImage(i)};this.elementRef.nativeElement.addEventListener("handleImage",t),this.eventListeners.push({element:this.elementRef.nativeElement,type:"handleImage",listener:t})}ngOnDestroy(){this.eventListeners.forEach(({element:t,type:i,listener:n})=>{t.removeEventListener(i,n)}),super.ngOnDestroy()}handleImage(t){if(this.pasteImageEnabled){this.log.fn("handleImage",{event:t},"handling paste image - enabled");const n=this.getFile(t.detail);this.config.dropzone.uploadFile(n)}else this.log.fn("handleImage",{event:t},"handling paste image - disabled"),this.snackBar.open(this.translate.instant("Message.PastingFilesIsNotEnabled"),this.translate.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{(0,ta.j)(this.dialog,mt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)})}getFile(t){let i=t.file;try{const n=new FormData;n.append("file",t.file,t.imageFileName),i=n.get("file")}catch(n){console.error("paste image error",n)}return i}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(Ot.t),e.rXU(zt.UG),e.rXU(T.c$),e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(e.gRc))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appPasteClipboardImage",""]],inputs:{config:"config",elementType:"elementType"},standalone:!0,features:[e.Vt3]})}return a})(),Ts=(()=>{class a{constructor(t,i,n){this.http=t,this.dnnContext=i,this.formConfig=n}getAll(t,i){return this.http.get(t+"/items",{params:{subfolder:i.subfolder,usePortalRoot:i.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}addFolder(t,i,n){return this.http.post(i+"/folder",{},{params:{subfolder:n.subfolder,newFolder:me.SX.sanitizeName(t),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}rename(t,i,n,s){return this.http.get(n+"/rename",{params:{subfolder:s.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:s.usePortalRoot.toString(),newName:me.SX.sanitizeName(i),appId:this.formConfig.config.appId}})}deleteItem(t,i,n){return this.http.get(i+"/delete",{params:{subfolder:n.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}getLinkInfo(t,i,n,s){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("cms/edit/linkInfo"),{params:{link:t,...n&&{guid:n},...i&&{contentType:i},...s&&{field:s},appid:this.formConfig.config.appId}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(Aa.Qq),e.KVO(Dn.ob),e.KVO(Re.S))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const r_=(a,r)=>r.Id,o_=(a,r)=>({"adam-scope-site":a,"adam-scope-field":r}),ia=a=>({"adam-button-disabled":a}),zo=a=>({"metadata-exists":a}),l_=(a,r)=>({"dz-success":a,"disable-select":r}),d_=(a,r)=>({"adam-button-disabled":a,"metadata-exists":r});function c_(a,r){1&a&&(e.j41(0,"mat-icon"),e.EFF(1,"public"),e.k0s())}function u_(a,r){1&a&&e.nrm(0,"mat-icon",9)}function m_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",4),e.nI1(1,"translate"),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openUploadClick(n))}),e.j41(2,"div",5)(3,"mat-icon"),e.EFF(4,"cloud_upload"),e.k0s(),e.j41(5,"div",6),e.EFF(6),e.nI1(7,"translate"),e.DNE(8,c_,2,0,"mat-icon")(9,u_,1,0),e.k0s()()(),e.j41(10,"div",7,0),e.nI1(12,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openFeatureInfoDialog())}),e.j41(13,"div",5)(14,"mat-icon",8),e.EFF(15," filter "),e.k0s(),e.j41(16,"div",6),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()}if(2&a){const t=e.sdS(11),i=e.XpG(2);e.Y8G("tippy",e.bMT(1,8,"Fields.Hyperlink.AdamFileManager.UploadTip")),e.R7$(6),e.SpI(" ",e.bMT(7,10,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),e.R7$(2),e.vxM(8,i.adamConfig().usePortalRoot?8:9),e.R7$(2),e.Y8G("config",i.config)("elementType","element")("tippy",e.bMT(12,12,"Fields.Hyperlink.AdamFileManager.UploadPasteTip")),e.R7$(4),e.Y8G("matBadgeHidden",i.isPasteImageFromClipboardEnabled()),e.R7$(3),e.SpI(" ",i.isPasteImageFromClipboardEnabled()?t.classList.contains("pastable-focus")?"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel":e.bMT(18,14,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"):"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"," ")}}function h_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",10),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addFolder())}),e.j41(2,"div",5),e.nrm(3,"mat-icon",11),e.j41(4,"div",12),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.nrm(7,"div",13),e.k0s()}2&a&&(e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.AdamFileManager.NewFolderTip")),e.R7$(5),e.JRh(e.bMT(6,4,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function p_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",10),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.goUp())}),e.j41(2,"div",5),e.nrm(3,"mat-icon",14),e.j41(4,"div",12),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"div",15)(8,"mat-icon",16),e.EFF(9,"arrow_back"),e.k0s()()()}2&a&&(e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.AdamFileManager.BackFolderTip")),e.R7$(5),e.JRh(e.bMT(6,4,"Fields.Hyperlink.AdamFileManager.BackFolder")))}function g_(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",25),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.del(n))}),e.EFF(2,"clear"),e.k0s(),e.j41(3,"mat-icon",26),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.rename(n))}),e.EFF(5,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("tippy",e.bMT(1,4,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",e.eq3(8,ia,t.disabled())),e.R7$(3),e.Y8G("tippy",e.bMT(4,6,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",e.eq3(10,ia,t.disabled()))}}function f_(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,zo,t._metadataId>0))}}function __(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.goIntoFolder(n))}),e.j41(1,"div",20),e.nrm(2,"mat-icon",14),e.j41(3,"div",21),e.EFF(4),e.k0s()(),e.j41(5,"div"),e.DNE(6,g_,6,12),e.j41(7,"div",22)(8,"div",23),e.EFF(9),e.k0s()()(),e.DNE(10,f_,2,6,"mat-icon",24),e.k0s()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(4),e.JRh(t.Name),e.R7$(),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(6,i.adamConfig().allowEdit?6:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.vxM(10,t._metadataContentType?10:-1)}}function b_(a,r){if(1&a&&(e.j41(0,"div",20)(1,"mat-icon"),e.EFF(2),e.k0s(),e.j41(3,"div",12),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t._icon),e.R7$(2),e.JRh(t.Name)}}function v_(a,r){if(1&a&&(e.j41(0,"div",37),e.nrm(1,"img",38),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("alt",t.Id+":"+t.Name)("src",t.ThumbnailUrl,e.B4B)}}function y_(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",25),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.del(n))}),e.EFF(2,"clear"),e.k0s(),e.j41(3,"mat-icon",26),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.rename(n))}),e.EFF(5,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("tippy",e.bMT(1,4,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",e.eq3(8,ia,t.disabled())),e.R7$(3),e.Y8G("tippy",e.bMT(4,6,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",e.eq3(10,ia,t.disabled()))}}function w_(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",39),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._imageConfigurationContentType,n._imageConfigurationId))}),e.EFF(2," filter_center_focus"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.Y8G("ngClass",e.l_i(4,d_,!t._imageConfigurationContentType,t._imageConfigurationId>0))("tippy",e.bMT(1,2,t._imageConfigurationContentType?"Fields.Hyperlink.AdamFileManager.ImageSettings":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))}}function k_(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,zo,t._metadataId>0))}}function x_(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.select(n))}),e.DNE(1,b_,5,2,"div",20)(2,v_,2,2),e.j41(3,"div"),e.DNE(4,y_,6,12),e.j41(5,"div",22)(6,"div",23),e.EFF(7),e.k0s()(),e.j41(8,"div",29)(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"a",30)(12,"mat-icon",31),e.nI1(13,"translate"),e.EFF(14,"open_in_new"),e.k0s()(),e.DNE(15,w_,3,7,"mat-icon",32),e.k0s(),e.DNE(16,k_,2,6,"mat-icon",24),e.j41(17,"div",33),e.qSk(),e.j41(18,"svg",34)(19,"title"),e.EFF(20,"Check"),e.k0s(),e.nrm(21,"defs"),e.j41(22,"g",35),e.nrm(23,"path",36),e.k0s()()()()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",e.l_i(19,l_,i.value()==="file:"+t.Id,!i.adamConfig().enableSelect)),e.R7$(),e.vxM(1,"image"!==t.Type?1:2),e.R7$(2),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(4,i.adamConfig().allowEdit?4:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.FCK("title","#",t.Id," - ",t._displaySize," KB"),e.R7$(2),e.Lme("#",t.Id," - ",t._displaySize," KB"),e.R7$(),e.Y8G("href",t.Url,e.B4B),e.R7$(),e.Y8G("tippy",e.bMT(13,17,"Fields.Hyperlink.AdamFileManager.Show")),e.R7$(3),e.vxM(15,"image"===t.Type?15:-1),e.R7$(),e.vxM(16,t._metadataContentType?16:-1)}}function C_(a,r){if(1&a&&e.DNE(0,__,11,8,"div",17)(1,x_,24,22,"div",18),2&a){const t=r.$implicit;e.vxM(0,t.IsFolder?0:-1),e.R7$(),e.vxM(1,t.IsFolder?-1:1)}}function M_(a,r){if(1&a&&(e.j41(0,"div",2),e.DNE(1,m_,19,16)(2,h_,8,6,"div",3)(3,p_,10,6,"div",3),e.Z7z(4,C_,2,2,null,null,r_),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.l_i(4,o_,t.adamConfig().usePortalRoot,!t.adamConfig().usePortalRoot)),e.R7$(),e.vxM(1,!t.disabled()&&t.allowAddButtons()?1:-1),e.R7$(),e.vxM(2,t.adamConfig().maxDepthReached||t.disabled()||!t.allowAddButtons()?-1:2),e.R7$(),e.vxM(3,""!==t.adamConfig().subfolder||t.adamConfig().usePortalRoot&&t.adamConfig().subfolder!==t.adamConfig().rootSubfolder?3:-1),e.R7$(),e.Dyx(t.items())}}let D_=(()=>{class a{#e;#t;#i;#n;constructor(t,i,n,s,o,l,u,_){this.dnnContext=t,this.editRoutingService=i,this.adamCacheService=n,this.linkCacheService=s,this.formsStateService=o,this.dialog=l,this.viewContainerRef=u,this.changeDetectorRef=_,this.log=(0,ee.T)({AdamBrowserComponent:a}),this.openUpload=new e.bkB,this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.group=this.fieldState.group,this.#e=this.fieldState.ui,this.disabled=(0,e.EWP)(()=>this.#e().disabled),this.value=(0,e.EWP)(()=>this.fieldState.uiValue()),this.adamConfig=(0,$.KX)("adamConfig",null),this.items=(0,e.vPA)([]),this.firstFetch=!0,this.allowAddButtons=(0,e.EWP)(()=>{const S=this.adamConfig();return S.allowEdit&&!((""===S.subfolder||S.usePortalRoot&&S.subfolder===S.rootSubfolder)&&!S.allowAssetsInRoot)}),this.features=(0,e.WQX)(Ot.t),this.isPasteImageFromClipboardEnabled=this.features.isEnabled(mt.T.PasteImageFromClipboard),this.expanded=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),this.#i=(0,we.d)(Ts),this.#n=(0,we.d)(Wn.c),(0,e.QZP)(()=>{null!=this.adamConfig()&&this.fetchItems()});const b=this.config;this.#t=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${b.contentTypeNameId}/${b.entityGuid}/${b.fieldName}`)}ngOnInit(){this.#n.doOnDialogClosed(()=>this.fetchItems()),this.config.adam.setBrowser(this)}addFolder(){if(this.#e().disabled)return;const t=window.prompt("Please enter a folder name");t&&this.#i.addFolder(t,this.#t,this.adamConfig()).subscribe(()=>this.fetchItems())}del(t){this.#e().disabled||!window.confirm("Are you sure you want to delete this item?")||this.#i.deleteItem(t,this.#t,this.adamConfig()).subscribe(()=>this.fetchItems())}editItemMetadata(t,i,n){if(this.formsStateService.readOnly().isReadOnly||!i)return;const s={items:[n>0?se.c.editId(n):se.c.newMetadata(t.ReferenceId,i,H.YX.metadata.cmsObject)]};this.editRoutingService.open(this.config.index,this.config.entityGuid,s)}goUp(){let t=this.adamConfig().subfolder;t=t.includes("/")?t.slice(0,t.lastIndexOf("/")):"",this.setConfig({subfolder:t})}getImageConfigurationContentType(t){return this.fieldState.settings().EnableImageConfiguration&&"image"===t.Type?H.YX.contentTypes.imageDecorator:null}getMetadataContentType(t){let i;return"folder"===t.Type?(i=this.adamConfig().metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),i?i[3]:null):(i=this.adamConfig().metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),i?i[1]:null)}goIntoFolder(t){let i=this.adamConfig().subfolder;i=i?`${i}/${t.Name}`:t.Name,this.setConfig({subfolder:i})}openUploadClick(t){this.openUpload.emit()}rename(t){if(this.#e().disabled)return;const i=window.prompt("Rename the file / folder to: ",t.Name);i&&this.#i.rename(t,i,this.#t,this.adamConfig()).subscribe(()=>this.fetchItems())}select(t){this.#e().disabled||!this.adamConfig().enableSelect||this.config.adam.onItemClick(t)}fetchItems(){const t=this.adamConfig();if(null!=t&&t.autoLoad){if(this.firstFetch){this.firstFetch=!1;const i=this.adamCacheService.getAdamSnapshot(this.config.entityGuid,this.config.fieldName);if(i){const n=i.map(s=>({...s}));return void setTimeout(()=>this.processFetchedItems(n,t))}}this.#i.getAll(this.#t,t).subscribe(i=>this.processFetchedItems(i,t))}}openFeatureInfoDialog(){this.isPasteImageFromClipboardEnabled||(0,ta.j)(this.dialog,mt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}processFetchedItems(t,i){this.linkCacheService.addAdam(t);const n=[],s=function T_(a){return a?a.split(",").map(t=>((t=t.trim()).startsWith("*.")?t=t.replace("*.",""):t.startsWith("*")&&(t=t.replace("*","")),t.toLocaleLowerCase())):[]}(i.fileFilter);for(const o of t)if("."!==o.Name){if("2sxc"!==o.Name&&"adam"!==o.Name&&(o.IsFolder||!i.showImagesOnly||"image"===o.Type)&&(!o.IsFolder||!i.maxDepthReached)){if(s.length>0){const l=o.Name.substring(o.Name.lastIndexOf(".")+1).toLocaleLowerCase();if(!s.includes(l))continue}o._imageConfigurationContentType=this.getImageConfigurationContentType(o),o._imageConfigurationId=o.Metadata?.find(l=>l.Type.Name===o._imageConfigurationContentType)?.Id??0,o._metadataContentType=this.getMetadataContentType(o),o._metadataId=o.Metadata?.find(l=>l.Type.Name===o._metadataContentType)?.Id??0,o._icon=me.M5.getIconClass(o.Name),o._isMaterialIcon=me.M5.isKnownType(o.Name),o._displaySize=(o.Size/1024).toFixed(0),n.push(o)}}else{const l=o.AllowEdit;l!==i.allowEdit&&this.setConfig({allowEdit:l})}n.sort((o,l)=>o.Name.toLocaleLowerCase().localeCompare(l.Name.toLocaleLowerCase())),n.sort((o,l)=>l.IsFolder.toString().localeCompare(o.IsFolder.toString())),this.items.set(n)}setConfig(t){this.log.a("setConfig",t);const i=ea.completeConfig(t,this.config,this.adamConfig());this.adamConfig.set(i),function s_(a,r){const t=r.dropzone.getConfig(),i={},n=me.b.getUrlParams(t.url);if((n.subfolder||"")!==a.subfolder||n.usePortalRoot!==a.usePortalRoot.toString()){let b=t.url;b=me.b.replaceUrlParam(b,"subfolder",a.subfolder),b=me.b.replaceUrlParam(b,"usePortalRoot",a.usePortalRoot.toString()),i.url=b}const u=!a.allowEdit||(""===a.subfolder||a.usePortalRoot&&a.subfolder===a.rootSubfolder)&&!a.allowAssetsInRoot;t.disabled!==u&&(i.disabled=u),Object.keys(i).length>0&&this.config.dropzone.setConfig(i)}(i,this.config)}toggle(t,i){const n={...this.adamConfig(),usePortalRoot:t,showImagesOnly:i};(0,ti.A)(n,this.adamConfig())?n.autoLoad=!n.autoLoad:n.autoLoad||(n.autoLoad=!0),this.setConfig(n)}static#a=this.\u0275fac=function(i){return new(i||a)(e.rXU(Dn.ob),e.rXU(ft),e.rXU(Tn),e.rXU(fi),e.rXU(pt),e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(e.gRc))};static#s=this.\u0275cmp=e.VBU({type:a,selectors:[["adam-browser"]],outputs:{openUpload:"openUpload"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["pasteDiv",""],[1,"dropzone"],[3,"ngClass"],[1,"dz-preview",3,"tippy"],[1,"dz-preview","dropzone-adam",3,"click","tippy"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["appPasteClipboardImage","",1,"dz-preview","dropzone-adam","paste-image",3,"click","config","elementType","tippy"],["matBadgeSize","large","matBadge","\u{1f48e}","matBadgePosition","below after","matBadgeOverlap","true","aria-hidden","false",1,"adam-filter-mat-icon-with-grey-mat-badge",3,"matBadgeHidden"],["svgIcon","apple-outlined"],[1,"dz-preview",3,"click","tippy"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview"],[1,"dz-preview",3,"ngClass"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","tippy"],["appClickStopPropagation","",1,"adam-delete-button",3,"click","tippy","ngClass"],["appClickStopPropagation","",1,"adam-rename-button",3,"click","tippy","ngClass"],["appClickStopPropagation","",1,"adam-tag",3,"click","ngClass","tippy"],[1,"dz-preview",3,"click","ngClass"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],[3,"tippy"],["appClickStopPropagation","",1,"image-configuration-button",3,"ngClass","tippy"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],[1,"dz-image","adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"],["appClickStopPropagation","",1,"image-configuration-button",3,"click","ngClass","tippy"]],template:function(i,n){if(1&i&&(e.j41(0,"div",1),e.DNE(1,M_,6,7,"div",2),e.k0s()),2&i){let s,o;e.Y8G("@adamShowAnimate",null!=(s=n.adamConfig())&&s.autoLoad?"open":"closed"),e.R7$(),e.vxM(1,null!=(o=n.adamConfig())&&o.autoLoad&&n.expanded()?1:-1)}},dependencies:[V.YU,z.Cc,z.PW,P.m_,P.An,Ds,jo.Y,jo.k,T.h,T.D9,Vi.c,qe.e],styles:['.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6}.image-configuration-button[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6;cursor:pointer}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .image-configuration-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled):not(.metadata-exists), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#002753}.image-configuration-button.metadata-exists[_ngcontent-%COMP%], .adam-tag.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.adam-button-disabled[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0;cursor:pointer}.dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text;display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:#fffc;border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class^=icon-][_ngcontent-%COMP%]:before, .mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%], .dropzone.dz-drag-hover[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069BF;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:#ffffffe6;-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}[_nghost-%COMP%]     .adam-filter-mat-icon-with-grey-mat-badge .mat-badge-content{background:#fff0!important}'],data:{animation:[(0,ne.hZ)("adamShowAnimate",[(0,ne.wk)("closed",(0,ne.iF)({height:"0",overflow:"hidden"})),(0,ne.wk)("open",(0,ne.iF)({height:"*",overflow:"hidden"})),(0,ne.kY)("closed => open",[(0,ne.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})}return a})();const S_=["fieldComponent"],F_=["invisibleClickable"],A_=(a,r)=>({"adam-browser-container--short u-hide-scrollbar":a,"u-display-none":r}),Bo=a=>({"u-display-none":a});let I_=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.adamDisabled=this.config.adam.isDisabled}ngOnInit(){this.fullscreenAdam=this.config.inputTypeSpecs.inputType===oe.u.HyperlinkLibrary}openUpload(){this.invisibleClickableRef.nativeElement.click()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-adam-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(S_,7,e.c1b),e.GBs(F_,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.invisibleClickableRef=s.first)}},standalone:!0,features:[e.aNF],decls:10,vars:13,consts:[["fieldComponent",""],["invisibleClickable",""],[1,"adam-dialog-container"],[1,"adam-dialog-content"],[1,"u-shadow-top",3,"openUpload","ngClass"],[3,"ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],[1,"field-hints",3,"ngClass"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",2)(1,"div",3),e.eu8(2,null,0),e.k0s(),e.j41(4,"adam-browser",4),e.bIt("openUpload",function(){return e.eBV(s),e.Njj(n.openUpload())}),e.k0s(),e.j41(5,"div",5),e.nrm(6,"div",6)(7,"span",7,1),e.k0s(),e.nrm(9,"adam-hint",8),e.k0s()}2&i&&(e.R7$(4),e.Y8G("ngClass",e.l_i(6,A_,!n.fullscreenAdam,n.adamDisabled())),e.R7$(),e.HbH(n.config.dropzonePreviewsClass),e.Y8G("ngClass",e.eq3(9,Bo,n.adamDisabled())),e.R7$(4),e.Y8G("ngClass",e.eq3(11,Bo,n.adamDisabled())))},dependencies:[D_,V.YU,z.Cc,z.PW,a_],styles:['.adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}.dropzone-previews[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;box-shadow:0 2px #ccc inset}.dropzone-previews[_ngcontent-%COMP%]     .dz-preview{padding:5px}.dropzone-previews[_ngcontent-%COMP%]     .dz-details, .dropzone-previews[_ngcontent-%COMP%]     .dz-progress, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-message, .dropzone-previews[_ngcontent-%COMP%]     .dz-success-mark, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-mark{display:none}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.dropzone-previews[_ngcontent-%COMP%]     .dz-image{position:relative}.dropzone-previews[_ngcontent-%COMP%]     .dz-image:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:32px;height:32px;margin-top:-16px;margin-left:-16px;border-radius:50%;border:4px solid #0087f4;border-top-color:transparent;animation:_ngcontent-%COMP%_spinner .6s linear infinite}']})}return a})();class na extends Te{constructor(){super({EmptyDefaultLogic:na}),this.name=oe.u.EmptyDefault}update({settings:r}){const t={...r};return t.Visible??=!0,t.Collapsed??=!1,t.Notes??="",t}}Te.add(na);const E_=["fieldComponent"],O_=a=>({"force-hide":a});function L_(a,r){1&a&&(e.j41(0,"div",10),e.nrm(1,"div",12),e.nI1(2,"safeHtml"),e.k0s()),2&a&&(e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,r),e.npT))}let P_=(()=>{class a{#e;#t;constructor(){this.log=(0,ee.T)({CollapsibleWrapperComponent:a}),this.#e=(0,e.WQX)(Oe.W),this.config=this.#e.config,this.group=this.#e.group,this.basics=this.#e.basics,this.collapsed=(0,e.EWP)(()=>this.#e.settings().Collapsed),this.#t=(0,e.WQX)(Kt),na.importMe()}toggleCollapse(){const t=this.collapsed();this.log.a("toggleCollapse",{before:t}),this.#t.updateSetting(this.#e.name,{Collapsed:!t},"CollapsibleWrapperComponent")}static#i=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-collapsible-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(E_,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},standalone:!0,features:[e.aNF],decls:15,vars:8,consts:[["fieldComponent",""],["appearance","raised",1,"eav-card-group-child","shadow-bottom-z-1",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",1,"eav-card-header-group-child"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"eav-card-title-group","mat-body-2"],[1,"title-arrow"],[1,"title"],[1,"eav-card-content-group-child"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"mat-card",1)(1,"div",2)(2,"div",3),e.bIt("click",function(){return e.eBV(s),e.Njj(n.toggleCollapse())}),e.j41(3,"div",4)(4,"mat-icon",5),e.EFF(5),e.k0s(),e.j41(6,"span",6),e.EFF(7),e.k0s()()()(),e.j41(8,"mat-card-content",7)(9,"div",8)(10,"div",9),e.DNE(11,L_,3,3,"div",10),e.j41(12,"div",11),e.eu8(13,null,0),e.k0s()()()()()}if(2&i){let s;e.Y8G("ngClass",e.eq3(6,O_,!1===n.basics().visible)),e.R7$(5),e.SpI("",n.collapsed()?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.basics().label||n.config.fieldName," "),e.R7$(),e.xc7("display",n.collapsed()?"none":"block"),e.R7$(3),e.vxM(11,(s=n.basics().notes)?11:-1,s)}},dependencies:[h.Hu,h.RN,h.m2,V.YU,z.Cc,z.PW,bt,Lt,Dt,Ln,P.m_,P.An,y,f.$],styles:[".eav-card-content-group-child[_ngcontent-%COMP%]{padding:0}.eav-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-mdc-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}"]})}return a})();var Go=g(5176);const R_=new e.nKC("DROPZONE_CONFIG"),V_=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class Y_{constructor(r={}){this.assign(r)}assign(r={},t){t=t||this;for(const i in r)null==r[i]||Array.isArray(r[i])||"object"!=typeof r[i]||r[i]instanceof HTMLElement?t[i]=r[i]:(t[i]={},this.assign(r[i],t[i]))}}let $o=(()=>{class a{constructor(t,i,n,s,o,l){this.zone=t,this.renderer=i,this.elementRef=n,this.differs=s,this.platformId=o,this.defaults=l,this.configDiff=null,this.disabled=!1,this.DZ_INIT=new e.bkB,this.DZ_ERROR=new e.bkB,this.DZ_SUCCESS=new e.bkB,this.DZ_SENDING=new e.bkB,this.DZ_CANCELED=new e.bkB,this.DZ_COMPLETE=new e.bkB,this.DZ_PROCESSING=new e.bkB,this.DZ_DROP=new e.bkB,this.DZ_DRAGSTART=new e.bkB,this.DZ_DRAGEND=new e.bkB,this.DZ_DRAGENTER=new e.bkB,this.DZ_DRAGOVER=new e.bkB,this.DZ_DRAGLEAVE=new e.bkB,this.DZ_THUMBNAIL=new e.bkB,this.DZ_ADDEDFILE=new e.bkB,this.DZ_ADDEDFILES=new e.bkB,this.DZ_REMOVEDFILE=new e.bkB,this.DZ_UPLOADPROGRESS=new e.bkB,this.DZ_MAXFILESREACHED=new e.bkB,this.DZ_MAXFILESEXCEEDED=new e.bkB,this.DZ_ERRORMULTIPLE=new e.bkB,this.DZ_SUCCESSMULTIPLE=new e.bkB,this.DZ_SENDINGMULTIPLE=new e.bkB,this.DZ_CANCELEDMULTIPLE=new e.bkB,this.DZ_COMPLETEMULTIPLE=new e.bkB,this.DZ_PROCESSINGMULTIPLE=new e.bkB,this.DZ_RESET=new e.bkB,this.DZ_QUEUECOMPLETE=new e.bkB,this.DZ_TOTALUPLOADPROGRESS=new e.bkB,Go.autoDiscover=!1}ngOnInit(){if(!(0,V.UE)(this.platformId))return;const t=new Y_(this.defaults);t.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-multiple":"dz-single"),this.zone.runOutsideAngular(()=>{this.instance=new Go(this.elementRef.nativeElement,t)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=t.autoReset&&setTimeout(()=>this.reset(),t.autoReset)}),this.instance.on("error",()=>{null!=t.errorReset&&setTimeout(()=>this.reset(),t.errorReset)}),this.instance.on("canceled",()=>{null!=t.cancelReset&&setTimeout(()=>this.reset(),t.cancelReset)}),V_.forEach(i=>{this.instance.on(i.toLowerCase(),(...n)=>{n=1===n.length?n[0]:n;const o=this[`DZ_${i.toUpperCase()}`];o.observers.length>0&&this.zone.run(()=>{o.emit(n)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){this.instance&&t.disabled&&t.disabled.currentValue!==t.disabled.previousValue&&(!1===t.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===t.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(t){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(e.MKu),e.rXU(e.Agw),e.rXU(R_,8))},a.\u0275dir=e.FsC({type:a,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:[e.Mj6.None,"dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],features:[e.OA$]}),a})(),j_=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[[V.MD],V.MD]}),a})();class N_{constructor(r,t,i){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=2e4,this.timeout=18e5,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=r,this.url=t,this.headers=i}}let z_=(()=>{class a{constructor(){this.isStringWysiwyg=!1,this.imageTypes=["image/jpeg","image/png"]}static#e=this.classToDetectWysiwyg="class-distinguish-from-adam-dropzone";detectWysiwygOnDrop(t){this.isStringWysiwyg=a.isParentWysiwyg(t.toElement)}removeFilesHandledByWysiwyg(t,i){this.isStringWysiwyg&&this.imageTypes.some(n=>n===i.type)&&t.removeFile(i)}static isParentWysiwyg(t){do{if(null==t)return!1;if(t?.classList.contains(this.classToDetectWysiwyg))return!0;t=t.parentElement}while(!t?.classList.contains(this.classToDetectWysiwyg)||t.parentElement!=document.body);return!1}}return a})();const B_=["fieldComponent"],G_=a=>({"dropzone-disabled":a});let $_=(()=>{class a{#e;#t;#i;constructor(t,i){this.formConfig=t,this.dnnContext=i,this.log=(0,ee.T)({DropzoneWrapperComponent:a}),this.#e=(0,e.WQX)(Oe.W),this.#t=this.#e.config,this.dropzoneConfig=(0,e.vPA)(null),this.dropzoneDisabled=(0,e.EWP)(()=>this.#e.ui().disabled||(this.dropzoneConfig()?.disabled??!0)),this.#i=new z_,this.extendFieldConfigWithDropZone(),this.#n({})}extendFieldConfigWithDropZone(){this.#t.dropzone={setConfig:t=>this.#n(t),getConfig:()=>this.dropzoneConfig(),uploadFile:t=>this.#a(t)}}ngAfterViewInit(){this.#n({previewsContainer:`.${this.#t.dropzonePreviewsClass} .dropzone-previews`,clickable:`.${this.#t.dropzonePreviewsClass} .invisible-clickable`})}onDrop(t){this.#i.detectWysiwygOnDrop(t)}onAddedFile(t){this.#i.removeFilesHandledByWysiwyg(this.dropzoneRef.dropzone(),t)}onUploadError(t){this.log.fn("onUploadError",{event:t}),alert(`Dropzone upload error. Event ${t}`),this.dropzoneRef.reset()}onUploadSuccess(t){const i=this.log.fn("onUploadSuccess",{event:t}),n=t[1];n.Error?(i.a(`Upload failed because: ${n.Error}`),alert(`Upload failed because: ${n.Error}`)):this.#t.adam?(this.#t.adam.onItemUpload(n),this.#t.adam.refresh()):i.a("Upload failed because: ADAM reference doesn't exist"),this.dropzoneRef.reset()}#n(t){const i=this.#t.contentTypeNameId,n=this.#t.entityGuid,s=this.#t.fieldName,l=this.#t.inputTypeSpecs.isExternal,u=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${i}/${n}/${s}?subfolder=&usePortalRoot=false&appId=${this.formConfig.config.appId}`),_=this.dnnContext.sxc.webApi.headers(),b=new N_(l,u,_),S=this.dropzoneConfig()??b;for(const ue of Object.keys(b))b[ue]=t[ue]??S[ue];if(b.maxFiles!==b.parallelUploads){const ue=b.maxFiles>=b.parallelUploads?b.maxFiles:b.parallelUploads;b.maxFiles=ue,b.parallelUploads=ue}(null==b.acceptedFiles||""===b.acceptedFiles)&&delete b.acceptedFiles,this.dropzoneConfig.set(b)}#a(t){const i=this.dropzoneRef.dropzone();t.upload={chunked:i.defaultOptions.chunking},i.processFile(t)}static#s=this.\u0275fac=function(i){return new(i||a)(e.rXU(Re.S),e.rXU(Dn.ob))};static#r=this.\u0275cmp=e.VBU({type:a,selectors:[["app-dropzone-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(B_,7,e.c1b),e.GBs($o,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.dropzoneRef=s.first)}},standalone:!0,features:[e.aNF],decls:3,vars:5,consts:[["fieldComponent",""],[1,"dropzone","dropzone-container",3,"error","success","addedFile","drop","ngClass","dropzone","disabled"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",1),e.bIt("error",function(l){return e.eBV(s),e.Njj(n.onUploadError(l))})("success",function(l){return e.eBV(s),e.Njj(n.onUploadSuccess(l))})("addedFile",function(l){return e.eBV(s),e.Njj(n.onAddedFile(l))})("drop",function(l){return e.eBV(s),e.Njj(n.onDrop(l))}),e.eu8(1,null,0),e.k0s()}2&i&&e.Y8G("ngClass",e.eq3(3,G_,n.dropzoneDisabled()))("dropzone",n.dropzoneConfig())("disabled",n.dropzoneDisabled())},dependencies:[V.YU,z.Cc,z.PW,j_,$o],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"]})}return a})();const aa=[(0,ne.hZ)("itemShrinkAnimation",[(0,ne.wk)("open",(0,ne.iF)({height:"30vh"})),(0,ne.wk)("closed",(0,ne.iF)({height:"0vh"})),(0,ne.kY)("open => closed",[(0,ne.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),(0,ne.hZ)("contentExpandAnimation",[(0,ne.wk)("closed",(0,ne.iF)({height:"0"})),(0,ne.wk)("expanded",(0,ne.iF)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),(0,ne.kY)("closed => expanded",[(0,ne.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ne.i7)([(0,ne.iF)({height:"0vh",overflow:"hidden"}),(0,ne.iF)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])];var Uo,Ho=g(3518);const X_={all:!1,load:!0,sortByType:!1,insertToDom:!1};let ki=(()=>{class a{#e;constructor(t){this.formConfig=t,this.log=(0,ee.T)({ScriptsLoaderService:a},X_),this.#e=[]}load(t,i){this.log.fnIf("load",{scripts:t});const n=this.#t(t);this.#i(n,i,0)}#t(t){this.log.fnIf("sortByType",{scripts:t});const i=[],n=[];return t.forEach(s=>{const o={path:Uo.resolveUrlTokens(s,this.formConfig.config),type:null,loaded:!1,domEl:null};o.path.endsWith(".css")?(o.type=".css",i.push(o)):o.path.endsWith(".js")&&(o.type=".js",n.push(o))}),i.concat(n)}#i(t,i,n){this.log.fnIf("insertToDom",{files:t,increment:n});const s=t[n];if(n++,!s)return void i();s.path=s.path+"?sxcver="+window.sxcVersion;const o=this.#e.find(l=>l.path===s.path);if(o)if(o.loaded)this.#i(t,i,n);else{const l=()=>{s.loaded=!0,this.#i(t,i,n),o.domEl.removeEventListener("load",l),o.domEl.removeEventListener("error",l)};o.domEl.addEventListener("load",l),o.domEl.addEventListener("error",l)}else{".css"===s.type?(s.domEl=document.createElement("link"),s.domEl.rel="stylesheet",s.domEl.href=s.path):".js"===s.type&&(s.domEl=document.createElement("script"),s.domEl.type="module",s.domEl.src=s.path);const l=()=>{s.loaded=!0,this.#i(t,i,n),s.domEl.removeEventListener("load",l),s.domEl.removeEventListener("error",l)};s.domEl.addEventListener("load",l),s.domEl.addEventListener("error",l),document.querySelector("head").appendChild(s.domEl),this.#e.push(s)}}static resolveUrlTokens(t,i){return t.replace(/\[System:Path\]/i,me.b.getUrlPrefix("system",i)).replace(/\[Zone:Path\]/i,me.b.getUrlPrefix("zone",i)).replace(/\[App:Path\]/i,me.b.getUrlPrefix("app",i)).replace(/\[App:PathShared\]/i,me.b.getUrlPrefix("appShared",i))}static#n=this.\u0275fac=function(i){return new(i||a)(e.KVO(Re.S))};static#a=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();Uo=ki;class Ss{get field(){return this.fieldConfigSignal()}get field$(){return this.#e??=(0,Qt.br)(this.fieldConfigSignal,{injector:this._experimental.injector})}#e;constructor(r,t,i,n,s){this.fieldConfigSignal=i,this._experimental=n,this.log=(0,ee.T)({ConnectorInstance:Ss}),this.data=new W_(r,t),this.dialog=new J_(r),this.loadScript=(o,l,u)=>{if(("string"==typeof o||"function"==typeof o)&&"string"==typeof l&&"function"==typeof u)return l=ki.resolveUrlTokens(l,s),void(0,Ho.P)([{test:o,src:l}],u);if(!Array.isArray(o)||"function"!=typeof l)throw new Error("Unrecognized parameters. Please double check your input");for(const b of o)b.src=ki.resolveUrlTokens(b.src,s);(0,Ho.P)(o,l)}}}class W_{constructor(r,t){this._connectorHost=r,this.value$=t,this.clientValueChangeListeners=[],this.value$.subscribe(i=>{this.value=i,this.clientValueChangeListeners.forEach(n=>n(i))})}update(r){this._connectorHost.update(r)}onValueChange(r){this.clientValueChangeListeners.push(r)}}class J_{constructor(r){this._connectorHost=r}open(r){return this._connectorHost.expand(!0,r)}close(){this._connectorHost.expand(!1)}}var Xo=g(7419);const Q_={all:!1,constructor:!1,init:!0,getUrlOfId:!1,updateControl:!1,openFeatureDisabledWarning:!1};let Wo=(()=>{class a extends Ci.V{#e;#t;#i;#n;#a;#s;#r;#o;#l;#d;#c;#u;constructor(){super(),this.log=(0,ee.T)({ConnectorHelper:a},Q_),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Oe.W),this.#i=(0,e.WQX)(Re.S),this.#n=(0,e.WQX)(T.c$),this.#a=(0,e.WQX)(ai),this.#s=(0,e.WQX)(Mi),this.#r=(0,e.WQX)(Ot.t),this.#o=(0,e.WQX)(ft),this.#l=(0,e.WQX)(k.bZ),this.#d=(0,e.WQX)(zt.UG),this.#c=(0,e.WQX)(e.SKi),this.#u=(0,we.d)(Ts),this.#p=this.#t.ui().control.valueChanges.pipe((0,I.Z)(this.#t.uiValue()),(0,en.F)(ti.A)),this.#m=this.#t.config,this.#g=this.#t.group,this.log.aIf("constructor")}#h;#p;#m;#g;#f;#_;init(t,i,n,s){return this.log.a("init"),this.#f=n,this.#_=s,this.#h=document.createElement(t),this.#h.connector=this.#b(),i.nativeElement.appendChild(this.#h),this}ngOnDestroy(){this.log.a("ngOnDestroy"),this.#h?.parentNode.removeChild(this.#h),this.#h=null,super.ngOnDestroy()}#b(){const t=this.#v(),i=this.#w(),n=(0,e.EWP)(()=>{const o=this.#t.settings();return function U_(a,r){return{name:a.fieldName,index:a.index,label:r.Name,placeholder:r.Placeholder,inputType:a.inputTypeSpecs.inputType,type:a.type,required:r.valueRequired,disabled:a.initialDisabled,settings:r}}(this.#m,o)},{equal:ti.A}),s=new Ss(t,this.#p,n,i,this.#i.config);return(0,e.QZP)(()=>{const o=this.#t.settings(),l=s.field;l.settings=o,l.label=o.Name,l.placeholder=o.Placeholder,l.required=o.valueRequired},{injector:this.#e}),s}#v(){return{update:i=>{this.#c.run(()=>this.#y(i))},expand:(i,n)=>{this.#c.run(()=>this.#o.expand(i,this.#m.index,this.#m.entityGuid,n))}}}#w(){const t=this.#a.get(this.#m.contentTypeNameId),i=this.#s.getAttributeInputTypes(t.Attributes),n=(0,ee.T)("ConnectorHelperExperimental");return{entityGuid:this.#m.entityGuid,allInputTypeNames:i,formGroup:this.#g,translateService:this.#n,isExpanded$:this.#o.isExpanded$(this.#m.index,this.#m.entityGuid),dropzone:this.#m.dropzone,adam:this.#m.adam,updateField:(o,l)=>{n.fn("updateField",{name:o,value:l}),this.#c.run(()=>{this.#y(l,this.#g.controls[o])})},isFeatureEnabled$:o=>this.#r.isEnabled$(o),setFocused:o=>{n.fn("setFocused",{focused:o}),this.#c.run(()=>{this.#m.focused$.next(o)})},openPagePicker:o=>{n.fn("openPagePicker"),this.#c.run(()=>{Xo.C.open(this.#m,this.#g,this.#l,this.#f,this.#_,o)})},featureDisabledWarning:o=>{n.fn("featureDisabledWarning",{featureNameId:o}),this.#c.run(()=>{this.#x(o)})},getUrlOfId:(o,l)=>{n.fn("getUrlOfId",{value:o}),this.#c.run(()=>{this.#k(o,l)})},getSettings:o=>this.#i.config.settings?.Values[o],getFieldMask:(o,l)=>(0,we.d)(me.Nt,this.#e).init(l,o),injector:this.#e}}#k(t,i){if(!t)return;const n=this.#m.contentTypeNameId,s=this.#m.entityGuid,o=this.#m.fieldName;this.#u.getLinkInfo(t,n,s,o).subscribe(l=>{l&&i(l.Value)})}#y(t,i=null){(i?new Ii.a(i):this.#t.ui()).disabled||this.#t.ui().setIfChanged(t)}#x(t){t===mt.T.PasteImageFromClipboard&&this.#d.open(this.#n.instant("Message.PastingFilesIsNotEnabled"),this.#n.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>(0,ta.j)(this.#l,mt.T.PasteImageFromClipboard,this.#f,this.#_))}static#C=this.\u0275fac=function(i){return new(i||a)};static#M=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Fs{constructor(r){this.zone=r,this.eventListeners=[]}attach(r){this.zone.runOutsideAngular(()=>{function t(){(function n(s){for(const o of s)clearTimeout(o);s.splice(0,s.length)})(window.windowBodyTimeouts),document.body.classList.add(window.draggingClass)}function i(){document.body.classList.remove(window.draggingClass)}r.addEventListener("dragover",t,{passive:!0}),r.addEventListener("drop",i,{passive:!0}),this.eventListeners.push({element:r,type:"dragover",listener:t},{element:r,type:"drop",listener:i})})}detach(){this.zone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:r,type:t,listener:i})=>r.removeEventListener(t,i))})}}let ji=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=!1}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{disabled:"disabled"},standalone:!0,features:[e.OA$]})}return a})(),Ni=(()=>{class a{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialActionsContent",""]],standalone:!0})}return a})(),zi=(()=>{class a{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialTriggerContent",""]],standalone:!0})}return a})(),nn=(()=>{class a extends Q.${constructor(){super(),this.disabled=!1,this.open$=new jt.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,Y.z)([this.open$.pipe((0,en.F)()),this.actionButtons.changes.pipe((0,I.Z)(void 0))]).subscribe(([t])=>{this.actionButtons.forEach((i,n,s)=>{const l=Math.min(.3+.05*(s.length-1),.6),u=(l-.3)/(s.length-1),_=(t?.3+u*n:l-u*n)+"s";i.nativeElement.style.transitionDuration!==_&&(i.nativeElement.style.transitionDuration=_)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(t,i){"touch"!==t.pointerType&&this.open$.next(i)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["extended-fab-speed-dial"]],contentQueries:function(i,n,s){if(1&i&&(e.wni(s,zi,5),e.wni(s,Ni,5),e.wni(s,ji,4,e.aKT)),2&i){let o;e.mGM(o=e.lsd())&&(n.trigger=o.first),e.mGM(o=e.lsd())&&(n.actions=o.first),e.mGM(o=e.lsd())&&(n.actionButtons=o)}},inputs:{disabled:"disabled"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.bIt("pointerenter",function(o){return n.setOpen(o,!0)})("pointerleave",function(o){return n.setOpen(o,!1)}),e.j41(1,"div",1),e.eu8(2,2),e.k0s(),e.j41(3,"div",3),e.eu8(4,2),e.k0s()()),2&i&&(e.BMQ("disabled",n.disabled||null),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.trigger?null:n.trigger.templateRef),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.actions?null:n.actions.templateRef))},dependencies:[V.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-trigger{position:absolute;bottom:0;right:0}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:#002753;cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:max-width .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled]{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover:not([disabled])>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover:not([disabled])>span{max-width:256px}\n'],encapsulation:2})}return a})(),an=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=!1}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:"disabled"},standalone:!0,features:[e.OA$]})}return a})();const K_=["fieldComponent"],Z_=["previewContainer"],q_=["backdrop"],eb=["dialog"],tb=a=>({"c-ew__dialog-header mat-elevation-z2":a}),ib=a=>({bottomPixels:a}),nb=(a,r)=>({value:a,params:r}),ab=a=>({adam:a}),sb=(a,r,t,i,n,s)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"color__label-disabled":n,"c-ew__preview-label--focused":s}),rb=(a,r,t)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r,"c-ew__preview--focused":t}),ob=a=>({"c-ew__preview-content--disabled":a}),lb=(a,r)=>({"min-height":a,"max-height":r});function db(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function cb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}let ub=(()=>{class a{constructor(t,i,n,s,o){this.editRoutingService=t,this.changeDetectorRef=i,this.viewContainerRef=n,this.zone=s,this.formsStateService=o,this.log=(0,ee.T)({ExpandableWrapperComponent:a}),this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.settings=this.fieldState.settings,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.open=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),this.focused=(0,e.vPA)(!1),this.adamDisabled=this.config.adam.isDisabled,this.previewHeight=(0,e.EWP)(()=>{const l=this.settings(),u={minHeight:"36px",maxHeight:"50vh"};if(this.config.inputTypeSpecs.inputType!==oe.u.StringWysiwyg&&"inline"!==l.Dialog)return u;let _=parseInt(l.InlineInitialHeight,10);_<1&&(_=1);const b=function H_(a){return a*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}(50);let S=40+36*_;return S>b&&(S=b),u.minHeight=`${S}px`,u}),this.connectorCreator=(0,we.d)(Wo)}ngOnInit(){this.config.focused$.subscribe(this.focused.set)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=this.config.inputTypeSpecs.componentTagName;t.a("ExpandableWrapper created for:",{componentTagName:i}),this.connectorCreator.init(i,this.previewContainerRef,this.viewContainerRef,this.changeDetectorRef),this.dropzoneDraggingHelper=new Fs(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.log.fn("ngOnDestroy",null,"destroying ExpandableWrapper"),this.dropzoneDraggingHelper.detach()}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(ft),e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(pt))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(K_,7,e.c1b),e.GBs(Z_,5),e.GBs(q_,5),e.GBs(eb,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.previewContainerRef=s.first),e.mGM(s=e.lsd())&&(n.backdropRef=s.first),e.mGM(s=e.lsd())&&(n.dialogRef=s.first)}},standalone:!0,features:[e.aNF],decls:29,vars:39,consts:[["backdrop",""],["dialog",""],["fieldComponent",""],["previewContainer",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"click","tippy"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass","ngStyle"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","disabled"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",4)(1,"div",5,0),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.k0s(),e.j41(3,"div",6,1)(5,"div",4)(6,"mat-card",7)(7,"button",8),e.nI1(8,"translate"),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.j41(9,"mat-icon"),e.EFF(10,"arrow_back"),e.k0s()(),e.j41(11,"span",9),e.EFF(12),e.k0s()()(),e.j41(13,"div"),e.nrm(14,"div"),e.j41(15,"div",10),e.eu8(16,null,2),e.j41(18,"extended-fab-speed-dial",4),e.DNE(19,db,6,3,"ng-template",11)(20,cb,12,8,"ng-template",12),e.k0s()()()()(),e.j41(21,"div",13)(22,"mat-label",14),e.EFF(23),e.k0s(),e.j41(24,"div",15)(25,"div",16),e.nrm(26,"div",17,3),e.k0s()(),e.nrm(28,"app-field-helper-text"),e.k0s()}2&i&&(e.Y8G("ngClass",n.open()?"c-ew__container":"u-display-none"),e.R7$(5),e.Y8G("ngClass",e.eq3(14,tb,n.open())),e.R7$(2),e.Y8G("tippy",e.bMT(8,12,"Form.Buttons.Return.Tip")),e.R7$(5),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.open()?"closed":"open"),e.R7$(),e.Y8G("@contentExpandAnimation",e.l_i(18,nb,n.open()?"expanded":"closed",e.eq3(16,ib,n.calculateBottomPixels()))),e.R7$(3),e.Y8G("ngClass",e.eq3(21,ab,!n.adamDisabled())),e.R7$(4),e.Y8G("ngClass",e.l4e(23,sb,n.uiValue(),!n.uiValue(),n.ui().invalid&&(n.ui().touched||n.ui().dirty)&&!n.ui().disabled,!n.ui().touchedAndInvalid&&!n.ui().disabled,n.ui().disabled,n.focused())),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("ngClass",e.sMw(30,rb,n.ui().invalid&&(n.ui().touched||n.ui().dirty),n.ui().disabled,n.focused())),e.R7$(2),e.Y8G("ngClass",e.eq3(34,ob,n.ui().disabled))("ngStyle",e.l_i(36,lb,n.previewHeight().minHeight,n.previewHeight().maxHeight)))},dependencies:[V.YU,z.Cc,z.PW,z.eI,bt,Lt,Dt,h.Hu,h.RN,p.Hl,p.iY,P.m_,P.An,U.pZ,U.r6,ge.RG,ge.nJ,V.B3,gt,T.h,T.D9,qe.e,nn,an,ji,zi,Ni],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #002753!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#002753!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;inset:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.c-ew__dialog[_ngcontent-%COMP%]{flex-direction:column;display:flex;max-width:800px;width:100vw;margin-top:24px;min-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));max-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));padding:0}@media (max-width: 600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height));max-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height))}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec}"],data:{animation:[aa]}})}return a})();const mb=["fieldComponent"];let hb=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.basics=this.fieldState.basics}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-hidden-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(mb,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[["fieldComponent",""],[3,"hidden"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.k0s()),2&i&&e.Y8G("hidden",!n.basics().visible)},encapsulation:2})}return a})();function pb(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",1),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openDialog())}),e.EFF(2,"diamond"),e.k0s()}2&a&&e.Y8G("tippy",e.bMT(1,1,"Features.NotActivated"))}let Jo=(()=>{class a extends ta.x{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-feature-icon-text"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"feature-icon-text",3,"tippy"],[1,"feature-icon-text",3,"click","tippy"]],template:function(i,n){1&i&&(e.DNE(0,pb,3,3,"mat-icon",0),e.nI1(1,"async")),2&i&&e.vxM(0,e.bMT(1,1,n.show$)?0:-1)},dependencies:[P.m_,P.An,V.Jj,T.h,T.D9,qe.e],styles:[".feature-icon-text[_ngcontent-%COMP%]{font-size:small}"]})}return a})(),Qo=(()=>{class a{constructor(t,i,n,s,o,l,u){this.formConfig=t,this.dialog=i,this.viewContainerRef=n,this.changeDetectorRef=s,this.linkCacheService=o,this.editRoutingService=l,this.formsStateService=u,this.log=(0,ee.T)({HyperlinkDefaultBaseComponent:a}),this.preview=(0,e.vPA)({url:"",thumbnailUrl:"",previewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),this.fieldState=(0,e.WQX)(Oe.W),this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.config=this.fieldState.config,this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.injector=(0,e.WQX)(e.zZn),this.adamService=(0,we.d)(Ts),this.adamItem=(0,$.bo)("adamItem",()=>{const _=this.uiValue(),b=this.config.adam.items();if(!_||!b.length)return;const S=_.trim().match(/^file:([0-9]+)$/i);if(!S)return;const j=parseInt(S[1],10);return b.find(ue=>ue.Id===j)})}ngOnInit(){(0,e.QZP)(()=>{this.log.a("controlStatus effect");const t=this.fieldState.uiValue();this.fetchLink(t)},{injector:this.injector,allowSignalWrites:!0})}openPagePicker(){Xo.C.open(this.config,this.group,this.dialog,this.viewContainerRef,this.changeDetectorRef,t=>{t&&this.fieldState.ui().set(`page:${t.id}`)})}openImageConfiguration(t){if(this.formsStateService.readOnly().isReadOnly||!t?._imageConfigurationContentType)return;const i={items:[t._imageConfigurationId>0?se.c.editId(t._imageConfigurationId):se.c.newMetadata(t.ReferenceId,t._imageConfigurationContentType,H.YX.metadata.cmsObject)]};this.editRoutingService.open(this.config.index,this.config.entityGuid,i)}fetchLink(t){if(this.log.a("fetchLink",{value:t}),!t)return void this.setPreview(t,!1);if(!this.isFileOrPage(t))return void this.setPreview(t,!1);const n=this.linkCacheService.get(t);if(n){const u=!this.isFileOrPage(n.Value);this.setPreview(n.Value,u,n.Adam)}else this.adamService.getLinkInfo(t,this.config.contentTypeNameId,this.config.entityGuid,this.config.fieldName).subscribe(u=>{if(!u)return void this.setPreview(t,!1);this.linkCacheService.addLink(t,u);const _=!this.isFileOrPage(u.Value);this.setPreview(u.Value,_,u.Adam)})}setPreview(t,i,n){const s=this.getPreview(t,i,n);this.preview.set(s)}getPreview(t,i,n){return{url:t=t.replace(/\[App:Path\]/i,me.b.getUrlPrefix("app",this.formConfig.config)),floatingText:i?`.../${t.substring(t.lastIndexOf("/")+1)}`:"",thumbnailUrl:`url("${n?.ThumbnailUrl??this.buildUrl(t,1)}")`,previewUrl:n?.PreviewUrl??this.buildUrl(t,2),isImage:me.M5.isImage(t),isKnownType:me.M5.isKnownType(t),icon:me.M5.getIconClass(t)}}buildUrl(t,i){let n="";return 1===i&&(n+="w=80&h=80&mode=crop"),2===i&&(n+="w=800&h=800&mode=max"),n&&!t.includes("?")&&(n="?"+n),t+n}isFileOrPage(t){const i=t.trim().toLocaleLowerCase();return i.startsWith("file:")||i.startsWith("page:")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Re.S),e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(fi),e.rXU(ft),e.rXU(pt))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-base-field-hyperlink-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}return a})();const gb=["fieldComponent"],fb=["backdrop"],_b=["dialog"],bb=a=>({"c-ew__dialog-header mat-elevation-z2":a}),vb=a=>({bottomPixels:a}),yb=(a,r)=>({value:a,params:r}),wb=(a,r)=>({"c-ew__preview--disabled":a,"c-ew__preview--last-in-group":r}),kb=(a,r)=>({"icon-before-input":a,"thumbnail-before-input--disabled":r}),xb=a=>({"background-image":a}),Cb=a=>({"mat-form-field-invalid":a}),Mb=a=>({"mat-error":a}),Db=a=>({"c-ew__preview-suffix-text--disabled":a}),Tb=a=>({"metadata-exists":a});function Sb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function Fb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}function Ab(a,r){if(1&a&&e.nrm(0,"mat-icon",18),2&a){const t=e.XpG();e.Y8G("tippy",t.url)("svgIcon",t.icon)}}function Ib(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",32),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.expandDialog())}),e.nrm(2,"mat-icon",33),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.Default.Fullscreen"))("disabled",t.ui().disabled)}}function Eb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",32),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(2,"mat-icon",34),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",t.ui().disabled)}}function Ob(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"div",28),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,Ib,3,4,"button",29),e.j41(5,"button",30),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(7,"mat-icon",31),e.nI1(8,"translate"),e.EFF(9,"filter_center_focus"),e.k0s()(),e.DNE(10,Eb,3,4,"button",29),e.k0s()}if(2&a){let t,i,n;const s=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(15,Db,s.ui().disabled)),e.R7$(),e.SpI(" ",s.buttonAdam()?e.bMT(3,9,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),e.R7$(2),e.vxM(4,s.buttonAdam()?4:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=s.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(17,Tb,(null==(i=s.adamItem())?null:i._imageConfigurationId)>0))("tippy",e.bMT(6,11,"Fields.Hyperlink.AdamFileManager.ImageSettings")),e.R7$(2),e.Y8G("tippy",e.bMT(8,13,s.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))("tippyDisabled",null==(n=s.adamItem())?null:n._imageConfigurationContentType),e.R7$(3),e.vxM(10,s.buttonPage()?10:-1)}}function Lb(a,r){if(1&a&&(e.j41(0,"div",24)(1,"div",35),e.EFF(2),e.k0s(),e.j41(3,"div",36)(4,"a",37)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function Pb(a,r){if(1&a&&(e.j41(0,"div",27)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"app-feature-icon-text",38),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,t.adamSponsorI18nKey())),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic")}}function Rb(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",13)(1,"div",16)(2,"div",17),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.expandDialog())}),e.DNE(4,Ab,1,2,"mat-icon",18),e.k0s(),e.j41(5,"div",19)(6,"div",20)(7,"mat-form-field",21)(8,"input",22),e.nI1(9,"translate"),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setValue(n))})("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.markAsTouched())})("keyup",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.setValue(n))}),e.k0s(),e.DNE(10,Ob,11,19,"div",23),e.j41(11,"mat-label",3),e.EFF(12),e.k0s()(),e.DNE(13,Lb,7,4,"div",24),e.k0s(),e.j41(14,"div",25),e.nrm(15,"app-field-helper-text",26),e.DNE(16,Pb,5,4,"div",27),e.k0s()()()()}if(2&a){const t=r,i=e.XpG();e.R7$(),e.Y8G("ngClass",e.l_i(23,wb,i.ui().disabled,i.config.isLastInGroup)),e.R7$(),e.Y8G("tippy",e.bMT(3,19,"Fields.Hyperlink.Default.Fullscreen"))("tippyDisabled",i.ui().disabled)("ngClass",e.l_i(26,kb,i.uiValue()&&!t.isImage,i.ui().disabled))("ngStyle",e.eq3(29,xb,i.uiValue()&&t.isImage?t.thumbnailUrl:"")),e.R7$(2),e.vxM(4,i.uiValue()&&!t.isImage?4:-1),e.R7$(3),e.Y8G("ngClass",e.eq3(31,Cb,i.ui().touchedAndInvalid)),e.R7$(),e.Y8G("tippy",e.bMT(9,21,"Fields.Hyperlink.Default.Tooltip"))("placeholder",i.basics().placeholder)("disabled",i.ui().disabled)("value",i.uiValue())("config",i.config)("elementType","input"),e.R7$(2),e.vxM(10,i.buttonAdam()||i.buttonPage()?10:-1),e.R7$(),e.Y8G("ngClass",e.eq3(33,Mb,i.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",i.basics().labelWithRequired," "),e.R7$(),e.vxM(13,t.floatingText?13:-1),e.R7$(2),e.Y8G("hyperlinkDefaultWrapperFix",!0),e.R7$(),e.vxM(16,i.buttonAdam()?16:-1)}}let Vb=(()=>{class a extends Qo{constructor(t,i,n,s,o,l,u,_,b){super(t,i,n,s,o,l,_),this.zone=u,this.formsStateService=_,this.featuresService=b,this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.buttonAdam=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("adam"),at.bool),this.buttonPage=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("page"),at.bool),this.enableImageConfiguration=(0,e.EWP)(()=>this.fieldState.settings().EnableImageConfiguration,at.bool),this.open=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),this.hideAdamSponsor=this.featuresService.isEnabled(mt.T.NoSponsoredByToSic),this.adamSponsorI18nKey=(0,e.EWP)(()=>this.hideAdamSponsor()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.dropzoneDraggingHelper=new Fs(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}markAsTouched(){this.fieldState.ui().markTouched()}setValue(t){const i=t.target.value;this.fieldState.ui().setIfChanged(i)}expandDialog(){this.fieldState.ui().disabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Re.S),e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(fi),e.rXU(ft),e.rXU(e.SKi),e.rXU(pt),e.rXU(Ot.t))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(gb,7,e.c1b),e.GBs(fb,5),e.GBs(_b,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.backdropRef=s.first),e.mGM(s=e.lsd())&&(n.dialogRef=s.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:16,consts:[["backdrop",""],["dialog",""],["fieldComponent",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"click","tippy"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],[1,"c-hyperlink-default-field-preview"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","disabled"],["fxLayout","row","fxLayoutAlign","start start",1,"c-ew__preview",3,"ngClass"],[1,"thumbnail-before-input",3,"click","tippy","tippyDisabled","ngClass","ngStyle"],["tippyPlacement","right",3,"tippy","svgIcon"],["fxFlex","auto",1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"ngClass"],["matInput","","tippyPlacement","top","appPasteClipboardImage","",1,"eav-translate-on-dblclick",3,"change","blur","keyup","tippy","placeholder","disabled","value","config","elementType"],["matTextSuffix","","fxLayoutAlign","center center"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"hyperlinkDefaultWrapperFix"],["align","end","fxHide","","fxShow.gt-xs","",1,"c-ew__preview-field-hint","c__helper-wrapper--right",2,"display","flex"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"tippy","disabled"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled","ngClass","tippy"],[3,"tippy","tippyDisabled"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","tippy","disabled"],["svgIcon","apple-outlined"],["svgIcon","sitemap"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","tippy"],[3,"featureNameId"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",3)(1,"div",4,0),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.k0s(),e.j41(3,"div",5,1)(5,"div",3)(6,"mat-card",6)(7,"button",7),e.nI1(8,"translate"),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.j41(9,"mat-icon"),e.EFF(10,"arrow_back"),e.k0s()(),e.j41(11,"span",8),e.EFF(12),e.k0s()()(),e.j41(13,"div"),e.nrm(14,"div"),e.j41(15,"div",9),e.eu8(16,null,2),e.j41(18,"extended-fab-speed-dial",10),e.DNE(19,Sb,6,3,"ng-template",11)(20,Fb,12,8,"ng-template",12),e.k0s()()()()(),e.DNE(21,Rb,17,35,"div",13)}if(2&i){let s;e.Y8G("ngClass",n.open()?"c-ew__container":"u-display-none"),e.R7$(5),e.Y8G("ngClass",e.eq3(9,bb,n.open())),e.R7$(2),e.Y8G("tippy",e.bMT(8,7,"Form.Buttons.Return.Tip")),e.R7$(5),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.open()?"closed":"open"),e.R7$(),e.Y8G("@contentExpandAnimation",e.l_i(13,yb,n.open()?"expanded":"closed",e.eq3(11,vb,n.calculateBottomPixels()))),e.R7$(6),e.vxM(21,(s=n.preview())?21:-1,s)}},dependencies:[V.YU,z.Cc,z.Om,z.PW,z.eI,bt,Lt,Dt,Ln,h.Hu,h.RN,p.Hl,p.iY,P.m_,P.An,U.pZ,U.r6,V.B3,ge.RG,ge.rl,ge.nJ,ge.yw,it.fS,it.fg,Ds,gt,Jo,T.h,T.D9,Vi.c,nn,an,ji,zi,Ni,qe.e],styles:[".metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview-field--short[_ngcontent-%COMP%]{width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d70;font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:#1d273d14;width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#06599a;-webkit-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:#1d273d3d}@media (min-width: 601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}}@media (max-width: 600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[aa]}})}return a})();const Yb=["fieldComponent"],jb=["backdrop"],Nb=["dialog"],zb=a=>({"c-ew__dialog-header mat-elevation-z2":a}),Bb=a=>({bottomPixels:a}),Gb=(a,r)=>({value:a,params:r}),$b=(a,r,t,i,n)=>({"mat-caption":a,"mat-empty":r,"mat-error":t,color__primary:i,"color__label-disabled":n}),Hb=()=>({enterDuration:360}),Ub=(a,r)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":r});function Xb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function Wb(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}function Jb(a,r){if(1&a&&(e.j41(0,"div",23)(1,"div",24),e.nrm(2,"mat-icon",25),e.j41(3,"div",26),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.Name)}}function Qb(a,r){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function Kb(a,r){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function Zb(a,r){if(1&a&&(e.j41(0,"div",24),e.DNE(1,Qb,2,1,"mat-icon")(2,Kb,2,1,"mat-icon"),e.j41(3,"div",26),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.vxM(1,t._isMaterialIcon?1:-1),e.R7$(),e.vxM(2,t._isMaterialIcon?-1:2),e.R7$(2),e.JRh(t.Name)}}function qb(a,r){if(1&a&&(e.j41(0,"div",27),e.nrm(1,"img",28),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.FCK("alt","",t.Id,":",t.Name,""),e.Y8G("src",t.ThumbnailUrl,e.B4B)}}function ev(a,r){if(1&a&&(e.j41(0,"div"),e.DNE(1,Zb,5,3,"div",24)(2,qb,2,4,"div",27),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM(1,"image"!==t.Type?1:-1),e.R7$(),e.vxM(2,"image"===t.Type?2:-1)}}function tv(a,r){if(1&a&&e.DNE(0,Jb,5,1,"div",23)(1,ev,3,2,"div"),2&a){const t=r.$implicit;e.vxM(0,t.IsFolder?0:-1),e.R7$(),e.vxM(1,t.IsFolder?-1:1)}}let iv=(()=>{class a{constructor(t,i,n,s){this.zone=t,this.editRoutingService=i,this.formsStateService=n,this.featuresService=s,this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.basics=this.fieldState.basics,this.open=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),this.items=(0,e.EWP)(()=>this.config.adam.items().slice(0,9)),this.itemsNumber=(0,e.EWP)(()=>this.config.adam.items().length,at.number),this.hideAdamSponsor=this.featuresService.isEnabled(mt.T.NoSponsoredByToSic),this.adamSponsorI18nKey=(0,e.EWP)(()=>this.hideAdamSponsor()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.dropzoneDraggingHelper=new Fs(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}trackByFn(t,i){return i.Id}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(ft),e.rXU(pt),e.rXU(Ot.t))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Yb,7,e.c1b),e.GBs(jb,5),e.GBs(Nb,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.backdropRef=s.first),e.mGM(s=e.lsd())&&(n.dialogRef=s.first)}},standalone:!0,features:[e.aNF],decls:37,vars:34,consts:[["backdrop",""],["dialog",""],["fieldComponent",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised","fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"click","tippy"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],[1,"c-ew__dialog-content","c-ew__dialog-content--empty","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","2px",1,"c-ew__preview-content"],["fxLayout","row","fxLayoutAlign","start start",1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],[3,"featureNameId"],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","disabled"],["fxLayout","row","fxLayoutAlign","start start"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],[1,"adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",3)(1,"div",4,0),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.k0s(),e.j41(3,"div",5,1)(5,"div",3)(6,"mat-card",6)(7,"button",7),e.nI1(8,"translate"),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.j41(9,"mat-icon"),e.EFF(10,"arrow_back"),e.k0s()(),e.j41(11,"span",8),e.EFF(12),e.k0s()()(),e.j41(13,"div"),e.nrm(14,"div"),e.j41(15,"div",9),e.eu8(16,null,2),e.j41(18,"extended-fab-speed-dial",10),e.DNE(19,Xb,6,3,"ng-template",11)(20,Wb,12,8,"ng-template",12),e.k0s()()()()(),e.j41(21,"div",13)(22,"mat-label",14),e.EFF(23),e.k0s(),e.j41(24,"div",15),e.bIt("click",function(){return e.eBV(s),e.Njj(n.expandDialog())}),e.j41(25,"div",3)(26,"div",16),e.Z7z(27,tv,2,2,null,null,n.trackByFn,!0),e.k0s()()(),e.j41(29,"div",17)(30,"div",18),e.nrm(31,"app-field-helper-text"),e.k0s(),e.j41(32,"div",19)(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"app-feature-icon-text",20),e.k0s()()()}2&i&&(e.Y8G("ngClass",n.open()?"c-ew__container":"u-display-none"),e.R7$(5),e.Y8G("ngClass",e.eq3(17,zb,n.open())),e.R7$(2),e.Y8G("tippy",e.bMT(8,13,"Form.Buttons.Return.Tip")),e.R7$(5),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.open()?"closed":"open"),e.R7$(),e.Y8G("@contentExpandAnimation",e.l_i(21,Gb,n.open()?"expanded":"closed",e.eq3(19,Bb,n.calculateBottomPixels()))),e.R7$(7),e.Y8G("ngClass",e.s1E(24,$b,n.itemsNumber()>0,0===n.itemsNumber(),n.ui().invalid&&!n.config.initialDisabled,!n.ui().invalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(30,Hb))("ngClass",e.l_i(31,Ub,n.ui().invalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.uiValue()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.Dyx(n.items()),e.R7$(7),e.SpI("",e.bMT(35,15,n.adamSponsorI18nKey())," "),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic"))},dependencies:[V.YU,z.Cc,z.Om,z.PW,bt,Lt,Vr,Dt,h.Hu,h.RN,p.Hl,p.iY,P.m_,P.An,U.pZ,U.r6,ge.RG,ge.nJ,gt,Jo,T.h,T.D9,nn,an,ji,zi,Ni,qe.e],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[aa]}})}return a})();const nv=a=>({name:a}),sn=a=>({"eav-list-item__focus":a}),qt=a=>({primary:a}),av=(a,r)=>({"eav-list-item__focus":a,"list-item__disabled":r}),sv=a=>({"list-item-icon__disabled":a});function rv(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.setLanguage(n.key))}),e.j41(1,"mat-icon",12),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",5),e.EFF(4),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG(2);e.Y8G("disabled",t.disabled)("ngClass",e.l_i(4,av,i.translationStateSignal().language===t.key,t.disabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,sv,t.disabled)),e.R7$(3),e.JRh(t.key)}}function ov(a,r){if(1&a&&(e.j41(0,"div")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-action-list"),e.Z7z(9,rv,5,9,"mat-list-item",10,e.fX1),e.k0s()()),2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,t.translationInfo().i18nRoot+".Subtitle")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"LangMenu.Dialog.PickLanguageIntro")," "),e.R7$(3),e.Dyx(t.languagesSig())}}let lv=(()=>{class a extends Er{constructor(t,i,n){super(i),this.dialogRef=t,this.dialogData=i,this.fieldsTranslateService=n,this.languagesSig=(0,e.EWP)(()=>{const s=this.languages(),o=this.language(),l=this.itemAttributes(),u=this.translationStateSignal();return E(this.dialogData.config,o,s,l,u.linkType)}),this.dialogRef.keydownEvents().subscribe(s=>{(0,Xi.J)(s)&&s.preventDefault()})}setLinkType(t){const i={linkType:t,language:this.noLanguageRequired.includes(t)?"":this.translationStateSignal().language};this.translationStateSignal.set(i)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i)}run(){const t=this.translationStateSignal(),i=this.dialogData.translationState;if(i.linkType===t.linkType&&i.language===t.language)return this.closeDialog();switch(t.linkType){case C.Translate:this.fieldsTranslateService.unlock(this.dialogData.config.fieldName);break;case C.DontTranslate:this.fieldsTranslateService.lock(this.dialogData.config.fieldName);break;case C.LinkReadOnly:this.fieldsTranslateService.linkReadOnly(this.dialogData.config.fieldName,t.language);break;case C.LinkReadWrite:this.fieldsTranslateService.linkReadWrite(this.dialogData.config.fieldName,t.language);break;case C.LinkCopyFrom:this.fieldsTranslateService.copyFrom(this.dialogData.config.fieldName,t.language)}this.closeDialog()}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.CP),e.rXU(k.Vh),e.rXU(Si))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu-dialog"]],standalone:!0,features:[e.Vt3,e.aNF],decls:59,vars:86,consts:[[1,"translate-menu-dialog-card","u-hide-scrollbar"],[1,"eav-card-content__no-padding"],["toggle","","focus",""],[3,"click","ngClass"],["matListItemIcon","","color","accent"],["matListItemTitle",""],["matListItemLine",""],["lines","3",3,"click","ngClass"],["align","end"],["mat-button","","color","accent",3,"click","disabled"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",1)(9,"mat-nav-list",2)(10,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.DontTranslate)}),e.j41(11,"mat-icon",4),e.EFF(12,"lock"),e.k0s(),e.j41(13,"span",5),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span",6),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.Translate)}),e.j41(20,"mat-icon",4),e.EFF(21,"lock_open"),e.k0s(),e.j41(22,"span",5),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkCopyFrom)}),e.j41(29,"mat-icon",4),e.EFF(30,"translate"),e.k0s(),e.j41(31,"span",5),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s()(),e.j41(37,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadOnly)}),e.j41(38,"mat-icon",4),e.EFF(39,"link"),e.k0s(),e.j41(40,"span",5),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"span",6),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadWrite)}),e.j41(47,"mat-icon",4),e.EFF(48,"share"),e.k0s(),e.j41(49,"span",5),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"span"),e.EFF(53),e.nI1(54,"translate"),e.k0s()()(),e.DNE(55,ov,11,6,"div"),e.k0s(),e.j41(56,"mat-card-actions",8)(57,"button",9),e.bIt("click",function(){return n.run()}),e.EFF(58,"OK"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.i5U(4,19,"LangMenu.Dialog.Title",e.eq3(54,nv,n.dialogData.config.fieldName))," "),e.R7$(3),e.SpI(" ",e.bMT(7,22,"LangMenu.Dialog.Intro")," "),e.R7$(4),e.Y8G("ngClass",e.eq3(56,sn,n.translationStateSignal().linkType===n.TranslationLinks.DontTranslate)),e.R7$(4),e.JRh(e.i5U(15,24,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Title",e.eq3(58,qt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(18,27,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Body",e.eq3(60,qt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(62,sn,n.translationStateSignal().linkType===n.TranslationLinks.Translate)),e.R7$(4),e.JRh(e.i5U(24,30,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Title",e.eq3(64,qt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(27,33,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Body",e.eq3(66,qt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(68,sn,n.translationStateSignal().linkType===n.TranslationLinks.LinkCopyFrom)),e.R7$(4),e.JRh(e.i5U(33,36,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Title",e.eq3(70,qt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(36,39,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Body",e.eq3(72,qt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(74,sn,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadOnly)),e.R7$(4),e.JRh(e.i5U(42,42,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Title",e.eq3(76,qt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(45,45,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Body",e.eq3(78,qt,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(80,sn,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadWrite)),e.R7$(4),e.JRh(e.i5U(51,48,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Title",e.eq3(82,qt,n.language().primary))),e.R7$(3),e.JRh(e.i5U(54,51,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Body",e.eq3(84,qt,n.language().primary))),e.R7$(2),e.vxM(55,n.translationInfo().showLanguageSelection?55:-1),e.R7$(2),e.Y8G("disabled",n.translationInfo().submitDisabled))},dependencies:[h.Hu,h.RN,h.YY,h.m2,h.MM,h.Lc,h.dh,hn,tr,nr,mn,un,xt,Qe,V.YU,z.Cc,z.PW,P.m_,P.An,p.Hl,p.$z,T.h,T.D9],styles:[".translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}return a})();const dv=a=>({"eav-shared-languages--disabled":a}),cv=a=>({languages:a}),uv=a=>({hidden:a}),sa=a=>({"eav-menu-item-selected":a});function mv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.translate())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openAutoTranslateMenuDialog(n.translationState()))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",9),e.k0s(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.dontTranslate())}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openTranslateMenuDialog(n.translationState()))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(17,sa,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(2,9,"LangMenu.Translate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,sa,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(5,11,"LangMenu.AutoTranslate")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("ngClass",e.eq3(21,sa,t.translationState().linkType===t.TranslationLinks.DontTranslate)),e.R7$(),e.SpI(" ",e.bMT(9,13,"LangMenu.NoTranslate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(23,sa,""!==t.translationState().language)),e.R7$(),e.SpI(" ",e.bMT(12,15,"LangMenu.Link")," ")}}function hv(a,r){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",4),e.nI1(6,"translate"),e.j41(7,"button",5)(8,"mat-icon",6),e.EFF(9,"translate"),e.k0s()()()(),e.j41(10,"mat-menu",null,0),e.DNE(12,mv,13,25,"ng-template",7),e.k0s()()),2&a){const t=e.sdS(11),i=e.XpG();e.R7$(),e.Y8G("ngClass",i.translationStateClass()),e.R7$(),e.Y8G("ngClass",e.eq3(14,dv,i.disabled())),e.R7$(),e.SpI(" ",i.translationState().infoLabel?e.i5U(4,9,i.translationState().infoLabel,e.eq3(16,cv,i.translationState().infoMessage)):""," "),e.R7$(2),e.Y8G("tippy",e.bMT(6,12,"LangMenu.NotTranslatable"))("tippyDisabled",!i.disableTranslateButtonSignal())("tippyPlacement","top"),e.R7$(2),e.Y8G("matMenuTriggerFor",t)("disabled",i.disableTranslateButtonSignal())("ngClass",e.eq3(18,uv,i.hideTranslateButton))}}let Ko=(()=>{class a{#e;#t;constructor(t,i,n,s){this.dialog=t,this.viewContainerRef=i,this.formConfig=n,this.fieldsTranslate=s,this.#e=(0,e.WQX)(Oe.W),this.#t=(0,e.WQX)(pt),this.TranslationLinks=C,this.translationState=this.#e.translationState,this.language=this.formConfig.language,this.disabled=(0,$.bo)("disabled",()=>this.#e.ui().disabled),this.translationStateClass=(0,$.bo)("translationStateClass",()=>$i.getTranslationStateClass(this.translationState().linkType)),this.disableTranslateButtonSignal=(0,$.bo)("disableTranslateButtonSignal",()=>this.#t.readOnly().isReadOnly||this.#e.settings().DisableTranslation)}translate(){this.fieldsTranslate.unlock(this.#e.name)}dontTranslate(){this.fieldsTranslate.lock(this.#e.name)}openTranslateMenuDialog(t){this.#i(t,lv)}openAutoTranslateMenuDialog(t){this.#e.settings().DisableAutoTranslation?this.dialog.open(d,{autoFocus:!1,data:{isAutoTranslateAll:!1},viewContainerRef:this.viewContainerRef,width:"350px"}):this.#i(t,Or)}#i(t,i){const n={config:this.#e.config,translationState:{language:t.language,linkType:t.linkType}};this.dialog.open(i,{autoFocus:!1,data:n,viewContainerRef:this.viewContainerRef,width:"400px"})}static#n=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(Re.S),e.rXU(Si))};static#a=this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu"]],inputs:{hideTranslateButton:"hideTranslateButton"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["menu","matMenu"],["fxLayoutAlign","end center"],["fxLayoutAlign","end center",1,"eav-shared-languages-container",3,"ngClass"],[1,"eav-shared-languages","mat-caption",3,"ngClass"],[3,"tippy","tippyDisabled","tippyPlacement"],["mat-icon-button","",1,"eav-translate-icon-button",3,"matMenuTriggerFor","disabled","ngClass"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click","ngClass"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,hv,13,20,"div",1),2&i&&e.vxM(0,n.language().current!==n.language().primary?0:-1)},dependencies:[bt,Dt,V.YU,z.Cc,z.PW,p.Hl,p.iY,Ke.Cn,Ke.kk,Ke.fb,Ke.z8,Ke.Cp,P.m_,P.An,Lr.s,T.h,T.D9,qe.e],styles:[".eav-menu-item-selected[_ngcontent-%COMP%]{background:#0000000a}.localization-lock-open[_ngcontent-%COMP%]{color:green}.localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.localization-translate[_ngcontent-%COMP%]{color:green}.localization-link-read-only[_ngcontent-%COMP%], .localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.eav-shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-12px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:#1d273d70;font-size:12px}.eav-shared-languages--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.eav-translate-icon-button[_ngcontent-%COMP%]{scale:.8;position:relative;top:-8px}.eav-translate-icon-button.hidden[_ngcontent-%COMP%]{visibility:hidden}"]})}return a})();const pv=["fieldComponent"],gv=a=>({"language-wrap__field-short":a}),fv=a=>({"language-wrap__translate--hidden":a});let _v=(()=>{class a{#e;#t;constructor(t,i){this.editRoutingService=t,this.formsStateService=i,this.#e=(0,e.WQX)(Re.S),this.#t=(0,e.WQX)(Oe.W),this.language=this.#e.language,this.hideTranslateButton=!0}translate(){if(this.formsStateService.readOnly().isReadOnly)return;const t=this.#e.language();if(t.current===t.primary||!this.#t.ui().disabled)return;const i=this.#t.config;this.editRoutingService.isExpanded(i.index,i.entityGuid)||this.translateMenu.translate()}toggleTranslateButtonVisibility(t){this.hideTranslateButton=t}static#i=this.\u0275fac=function(i){return new(i||a)(e.rXU(ft),e.rXU(pt))};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-localization-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(pv,7,e.c1b),e.GBs(Ko,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.translateMenu=s.first)}},standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[["fieldComponent",""],[1,"language-wrap",3,"mouseenter","mouseleave"],[1,"language-wrap__field",3,"dblclick","ngClass"],[1,"language-wrap__translate",3,"hideTranslateButton","ngClass"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",1),e.bIt("mouseenter",function(){return e.eBV(s),e.Njj(n.toggleTranslateButtonVisibility(!1))})("mouseleave",function(){return e.eBV(s),e.Njj(n.toggleTranslateButtonVisibility(!0))}),e.j41(1,"div",2),e.bIt("dblclick",function(){return e.eBV(s),e.Njj(n.translate())}),e.eu8(2,null,0),e.k0s(),e.nrm(4,"app-translate-menu",3),e.k0s()}if(2&i){let s,o;e.R7$(),e.Y8G("ngClass",e.eq3(3,gv,(null==(s=n.language())?null:s.current)!==(null==(s=n.language())?null:s.primary))),e.R7$(3),e.Y8G("hideTranslateButton",n.hideTranslateButton)("ngClass",e.eq3(5,fv,(null==(o=n.language())?null:o.current)===(null==(o=n.language())?null:o.primary)))}},dependencies:[V.YU,z.Cc,z.PW,Ko],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"]})}return a})();const bv=["fieldComponent"],vv=["previewComponent"],yv=a=>({"c-ew__dialog-header mat-elevation-z2":a}),wv=a=>({bottomPixels:a}),kv=(a,r)=>({value:a,params:r});function xv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function Cv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("disabled",t.formsStateService.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}let Mv=(()=>{class a{constructor(t,i,n){this.editRoutingService=t,this.formsStateService=i,this.fieldsSettingsService=n,this.log=(0,ee.T)({PickerExpandableWrapperComponent:a}),this.dialogIsOpen=(0,e.vPA)(!1),this.fieldState=(0,e.WQX)(Oe.W),this.basics=this.fieldState.basics,this.config=this.fieldState.config}ngOnInit(){this.editRoutingService.isExpanded$(this.config.index,this.config.entityGuid).subscribe(t=>{this.dialogIsOpen.set(t),this.fieldsSettingsService.updateSetting(this.config.fieldName,{isDialog:t},"PickerExpandableWrapper")})}calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}closeDialog(){this.editRoutingService.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(ft),e.rXU(pt),e.rXU(Kt))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(bv,7,e.c1b),e.GBs(vv,7,e.c1b)),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first),e.mGM(s=e.lsd())&&(n.previewComponent=s.first)}},standalone:!0,features:[e.aNF],decls:24,vars:15,consts:[["fieldComponent",""],["previewComponent",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"click","tippy"],["fxLayoutAlign","center center",1,"title","mat-headline-4"],["cdkScrollable","",1,"c-ew__dialog-content","u-add-scrollbar","u-hide-scrollbar"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","disabled"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",2)(1,"div",3),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.k0s(),e.j41(2,"div",4)(3,"div",2)(4,"mat-card",5)(5,"button",6),e.nI1(6,"translate"),e.bIt("click",function(){return e.eBV(s),e.Njj(n.closeDialog())}),e.j41(7,"mat-icon"),e.EFF(8,"arrow_back"),e.k0s()(),e.j41(9,"span",7),e.EFF(10),e.k0s()()(),e.j41(11,"div"),e.nrm(12,"div"),e.j41(13,"div",8)(14,"div",9)(15,"div",10)(16,"mat-card",11),e.eu8(17,null,0),e.k0s()()()(),e.j41(19,"extended-fab-speed-dial"),e.DNE(20,xv,6,3,"ng-template",12)(21,Cv,12,8,"ng-template",13),e.k0s()()()(),e.eu8(22,null,1)}2&i&&(e.Y8G("ngClass",n.dialogIsOpen()?"c-ew__container":"u-display-none"),e.R7$(3),e.Y8G("ngClass",e.eq3(8,yv,n.dialogIsOpen())),e.R7$(2),e.Y8G("tippy",e.bMT(6,6,"Form.Buttons.Return.Tip")),e.R7$(5),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.dialogIsOpen()?"closed":"open"),e.R7$(),e.Y8G("@contentExpandAnimation",e.l_i(12,kv,n.dialogIsOpen()?"expanded":"closed",e.eq3(10,wv,n.calculateBottomPixels()))))},dependencies:[V.YU,z.Cc,z.PW,bt,Lt,Dt,h.Hu,h.RN,p.Hl,p.iY,P.m_,P.An,Ei.uv,nn,an,ji,zi,Ni,U.pZ,U.r6,T.h,T.D9,qe.e],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}"],data:{animation:[aa]}})}return a})();function Dv(a,r){1&a&&e.nrm(0,"app-picker-preview")}function Tv(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let Sv=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({EntityPickerComponent:a},Gt.logSpecs),this.constructorEnd(),Pi.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["entity-picker"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Dv,1,0,"app-picker-preview")(1,Tv,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();function Zo(a,r,t,i){let n=[];if(i){const o=i.replace(/\r/g,"").split("\n");switch(t){case"":n=o.map(l=>{const u=l.split(":"),_=u[1],b=u.shift(),S=u.join(":");return{Title:b,Value:S||""===_?S:b}});break;case"value-label":n=o.map(l=>{const u=[];for(let S=0;S<l.length;S++){const j=l[S],J=l[S+1];"\\"!==j||null==J?u.push({char:j,escaped:!1}):(u.push({char:J,escaped:!0}),S++)}const _=u.findIndex(S=>":"===S.char&&!1===S.escaped),b={Title:_>=0?u.slice(_+1,u.length).map(S=>S.char).join(""):u.map(S=>S.char).join(""),Value:_>=0?u.slice(0,_).map(S=>S.char).join(""):u.map(S=>S.char).join("")};return"number"===r&&(b.Value=null!=b.Value&&""!==b.Value?isNaN(Number(b.Value))?null:Number(b.Value):null),b})}}return!n.some(o=>o.Value===a)&&!a&&""!==a&&n.push({Title:a,Value:a}),n}class rn extends Te{constructor(){super({StringDropdownLogic:rn}),this.name=oe.u.StringDropdown,this.type="string"}update({settings:r,value:t}){const i={...r};return i.EnableTextEntry??=!1,i.DropdownValues??="",i.DropdownValuesFormat??="",i._options=Zo(t,this.type,i.DropdownValuesFormat,i.DropdownValues),i.EntityType??="",i.CreateTypes=i.EntityType,i.EnableEdit??=!1,i.EnableCreate??=!1,i.EnableAddExisting??=!0,i.EnableDelete??=!1,i.AllowMultiValue??=!1,i.EnableRemove??=i.AllowMultiValue,i}}Te.add(rn);class qo extends rn{constructor(){super(...arguments),this.name=oe.u.NumberDefault}update(r){return{...super.update(r)}}}Te.add(qo);let As=class Ws{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.min=(0,e.EWP)(()=>this.settings().Min,at.number),this.max=(0,e.EWP)(()=>this.settings().Max,at.number),qo.importMe()}static#e=this.\u0275fac=function(t){return new(t||Ws)};static#t=this.\u0275cmp=e.VBU({type:Ws,selectors:[["number-default"]],standalone:!0,features:[e.aNF],decls:5,vars:7,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","type","number",1,"eav-translate-on-dblclick",3,"formControlName","required","placeholder","min","max"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.nrm(1,"input",1),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("formControlName",i.config.fieldName)("required",i.basics().required)("placeholder",i.basics().placeholder)("min",i.min())("max",i.max()),e.R7$(2),e.JRh(i.basics().label))},dependencies:[ge.RG,ge.rl,ge.nJ,M.YN,M.me,M.Q0,M.BC,M.cb,M.YS,M.VZ,M.zX,M.X1,M.j4,M.JD,it.fS,it.fg,gt]})};As=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],As);class el extends rn{constructor(){super(...arguments),this.name=oe.u.NumberDropdown,this.type="number"}update(r){return{...super.update(r)}}}Te.add(el);var Bi=g(5175);const tl=a=>({active:a});function Fv(a,r){if(1&a&&(e.j41(0,"mat-option",4),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t.Value),e.R7$(),e.SpI(" ",t.Title," ")}}function Av(a,r){if(1&a&&(e.j41(0,"mat-select",1),e.Z7z(1,Fv,2,2,"mat-option",4,e.fX1),e.k0s()),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("required",t.basics().required)("placeholder",t.basics().placeholder),e.R7$(),e.Dyx(t.dropdownOptions())}}function Iv(a,r){if(1&a&&e.nrm(0,"input",2),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("required",t.basics().required)("placeholder",t.basics().placeholder)}}function Ev(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",3)(1,"button",5),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFreeText.set(!1))}),e.j41(3,"mat-icon"),e.EFF(4,"search"),e.k0s()(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFreeText.set(!0))}),e.j41(7,"mat-icon"),e.EFF(8,"text_fields"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(10,tl,!t.freeTextMode()))("tippy",e.bMT(2,6,"Fields.String.Dropdown"))("disabled",t.ui().disabled),e.R7$(4),e.Y8G("ngClass",e.eq3(12,tl,t.freeTextMode()))("tippy",e.bMT(6,8,"Fields.String.Freetext"))("disabled",t.ui().disabled)}}let ra=class Js{#e;constructor(){this.#e=(0,e.WQX)(Oe.W),this.group=this.#e.group,this.config=this.#e.config,this.ui=this.#e.ui,this.basics=this.#e.basics,this.enableTextEntry=this.#e.setting("EnableTextEntry"),this.dropdownOptions=this.#e.setting("_options"),this.toggleFreeText=(0,$.KX)("toggleFreeText",!1),this.freeTextMode=(0,$.bo)("freeTextMode",()=>!!this.enableTextEntry()&&this.toggleFreeText()),el.importMe()}static#t=this.\u0275fac=function(t){return new(t||Js)};static#i=this.\u0275cmp=e.VBU({type:Js,selectors:[["number-dropdown"]],standalone:!0,features:[e.aNF],decls:7,vars:5,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"eav-translate-on-dblclick",3,"formControlName","required","placeholder"],["matInput","","type","number",3,"formControlName","required","placeholder"],["matSuffix","",1,"selection-suffix"],[3,"value"],["mat-icon-button","",3,"click","ngClass","tippy","disabled"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.DNE(1,Av,3,3,"mat-select",1)(2,Iv,1,3,"input",2)(3,Ev,9,14,"div",3),e.j41(4,"mat-label"),e.EFF(5),e.k0s()(),e.nrm(6,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group),e.R7$(),e.vxM(1,i.freeTextMode()?-1:1),e.R7$(),e.vxM(2,i.freeTextMode()?2:-1),e.R7$(),e.vxM(3,i.enableTextEntry()?3:-1),e.R7$(2),e.JRh(i.basics().label))},dependencies:[ge.RG,ge.rl,ge.nJ,ge.yw,M.YN,M.me,M.Q0,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,Bi.Ve,Bi.VO,U.wT,U.Sy,it.fS,it.fg,p.Hl,p.iY,V.YU,z.Cc,z.PW,P.m_,P.An,gt,T.h,T.D9,qe.e]})};ra=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],ra);class oa extends Te{constructor(){super({HyperlinkDefaultLogic:oa}),this.name=oe.u.HyperlinkDefault}update({settings:r}){const t={...r};return t.Buttons||="adam,more",t.FileFilter??="",t.Paths??="",t.ServerResourceMapping??="",t.EnableImageConfiguration??=!0,t}}Te.add(oa);const Ov=a=>({"metadata-exists":a});function Lv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",17),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(2,"mat-icon",18),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.Default.AdamTip"))("disabled",t.ui().disabled)}}function Pv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(2,"mat-icon",20),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("tippy",e.bMT(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",t.ui().disabled)}}function Rv(a,r){if(1&a&&(e.j41(0,"button",6),e.nI1(1,"translate"),e.j41(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()()),2&a){e.XpG();const t=e.sdS(10),i=e.XpG(2);e.Y8G("tippy",e.bMT(1,3,"Fields.Hyperlink.Default.MoreOptions"))("disabled",i.ui().disabled)("matMenuTriggerFor",t)}}function Vv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(1,"mat-icon",18),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function Yv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",20),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuPage")))}function jv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!0))}),e.nrm(1,"mat-icon",23),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuImage")))}function Nv(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!1))}),e.nrm(1,"mat-icon",24),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function zv(a,r){if(1&a&&e.DNE(0,Vv,5,3,"button",21)(1,Yv,5,3,"button",21)(2,jv,5,3,"button",21)(3,Nv,5,3,"button",21),2&a){const t=e.XpG(3);e.vxM(0,t.showAdam()?0:-1),e.R7$(),e.vxM(1,t.showPagePicker()?1:-1),e.R7$(),e.vxM(2,t.showImageManager()?2:-1),e.R7$(),e.vxM(3,t.showFileManager()?3:-1)}}function Bv(a,r){if(1&a&&(e.j41(0,"div",15)(1,"div",25),e.EFF(2),e.k0s(),e.j41(3,"div",26)(4,"a",27)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(2),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function Gv(a,r){if(1&a&&(e.j41(0,"a",28)(1,"div",29),e.nrm(2,"img",30),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B),e.R7$(2),e.Y8G("src",t.previewUrl,e.B4B)}}function $v(a,r){if(1&a&&(e.j41(0,"a",31)(1,"div",32),e.nrm(2,"mat-icon",33),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.Y8G("svgIcon",t.icon)}}function Hv(a,r){if(1&a&&(e.j41(0,"div",16),e.DNE(1,Gv,3,2,"a",28)(2,$v,3,3),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.vxM(1,t.isImage?1:2)}}function Uv(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1),e.DNE(1,Lv,3,4,"button",2),e.j41(2,"button",3),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(4,"mat-icon",4),e.nI1(5,"translate"),e.EFF(6,"filter_center_focus"),e.k0s()(),e.DNE(7,Pv,3,4,"button",5)(8,Rv,4,5,"button",6),e.k0s(),e.j41(9,"mat-menu",7,0),e.DNE(11,zv,4,4,"ng-template",8),e.k0s(),e.j41(12,"div",9)(13,"div",10)(14,"mat-card",11)(15,"div",12)(16,"mat-form-field",13),e.nrm(17,"input",14),e.nI1(18,"translate"),e.j41(19,"mat-label"),e.EFF(20),e.k0s()(),e.DNE(21,Bv,7,4,"div",15),e.k0s(),e.DNE(22,Hv,3,1,"div",16),e.k0s()()()}if(2&a){let t,i,n;const s=e.XpG(),o=e.XpG();e.R7$(),e.vxM(1,o.buttonAdam()?1:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=o.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(24,Ov,(null==(i=o.adamItem())?null:i._imageConfigurationId)>0))("tippy",e.bMT(3,18,"Fields.Hyperlink.AdamFileManager.ImageSettings")),e.R7$(2),e.Y8G("tippy",e.bMT(5,20,o.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled"))("tippyDisabled",null==(n=o.adamItem())?null:n._imageConfigurationContentType),e.R7$(3),e.vxM(7,o.buttonPage()?7:-1),e.R7$(),e.vxM(8,o.buttonMore()?8:-1),e.R7$(8),e.Y8G("formGroup",o.group),e.R7$(),e.Y8G("formControlName",o.config.fieldName)("tippy",e.bMT(18,22,"Fields.Hyperlink.Default.Tooltip"))("placeholder",o.basics().placeholder)("required",o.basics().required)("config",o.config)("elementType","input"),e.R7$(3),e.JRh(o.basics().label),e.R7$(),e.vxM(21,null!=s&&s.floatingText?21:-1),e.R7$(),e.vxM(22,o.uiValue()?22:-1)}}function Xv(a,r){if(1&a&&e.DNE(0,Uv,23,26),2&a){const t=e.XpG();e.vxM(0,t.open()?0:-1)}}let Is=class Qs extends Qo{constructor(r,t,i,n,s,o,l){super(r,t,i,n,s,o,l),this.buttonAdam=(0,e.EWP)(()=>this.settings().Buttons.includes("adam"),at.bool),this.buttonPage=(0,e.EWP)(()=>this.settings().Buttons.includes("page"),at.bool),this.buttonMore=(0,e.EWP)(()=>this.settings().Buttons.includes("more"),at.bool),this.showAdam=(0,e.EWP)(()=>this.settings().ShowAdam,at.bool),this.showPagePicker=(0,e.EWP)(()=>this.settings().ShowPagePicker,at.bool),this.showImageManager=(0,e.EWP)(()=>this.settings().ShowImageManager,at.bool),this.showFileManager=(0,e.EWP)(()=>this.settings().ShowFileManager,at.bool),this.enableImageConfiguration=(0,e.EWP)(()=>this.settings().EnableImageConfiguration,at.bool),this.open=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),oa.importMe();const u=(0,e.EWP)(()=>{const _=this.fieldState.settings();return{rootSubfolder:_.Paths,fileFilter:_.FileFilter,autoLoad:!0}},{equal:ti.A});(0,e.QZP)(()=>{const _=u();this.config.adam.setConfig(_)},{allowSignalWrites:!0})}ngOnInit(){super.ngOnInit(),this.config.adam.onItemClick=r=>{this.setValue(r)},this.config.adam.onItemUpload=r=>{this.setValue(r)}}toggleAdam(r,t){this.config.adam.toggle(r,t)}setValue(r){const i="url"===this.settings().ServerResourceMapping?r.Url:r.ReferenceId;this.fieldState.ui().setIfChanged(i)}static#e=this.\u0275fac=function(t){return new(t||Qs)(e.rXU(Re.S),e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(fi),e.rXU(ft),e.rXU(pt))};static#t=this.\u0275cmp=e.VBU({type:Qs,selectors:[["hyperlink-default"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,consts:[["menu","matMenu"],[1,"fabs-box"],["mat-mini-fab","","color","accent",3,"tippy","disabled"],["mat-mini-fab","","color","primary",3,"click","disabled","ngClass","tippy"],[3,"tippy","tippyDisabled"],["mat-mini-fab","","color","primary",3,"tippy","disabled"],["mat-mini-fab","","color","primary",3,"tippy","disabled","matMenuTriggerFor"],[1,"menu-box"],["matMenuContent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","tippyPlacement","top","appPasteClipboardImage","",3,"formControlName","tippy","placeholder","required","config","elementType"],[1,"hyperlink-floating"],[1,"preview-wrapper"],["mat-mini-fab","","color","accent",3,"click","tippy","disabled"],["svgIcon","apple-outlined"],["mat-mini-fab","","color","primary",3,"click","tippy","disabled"],["svgIcon","sitemap"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","tippy"],["target","_blank",3,"href"],[1,"preview-image-box"],[1,"preview-image",3,"src"],["target","_blank","tippyPlacement","right",3,"href","tippy"],[1,"preview-icon-box"],[3,"svgIcon"]],template:function(t,i){if(1&t&&e.DNE(0,Xv,1,1),2&t){let n;e.vxM(0,(n=i.preview())?0:-1,n)}},dependencies:[p.Hl,p.$0,P.m_,P.An,V.YU,z.Cc,z.PW,Ke.Cn,Ke.kk,Ke.fb,Ke.z8,Ke.Cp,h.Hu,h.RN,ge.RG,ge.rl,ge.nJ,M.YN,M.me,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,it.fS,it.fg,Ds,T.h,T.D9,qe.e],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 219px - var(--edit-dialog-header-height) - var(--edit-dialog-margin-top));height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:#1d273d14}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:#1d273d70}"]})};Is=(0,Ze.Cg)([Ft({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-default-expandable-wrapper","app-adam-wrapper"]}),(0,Ze.Sn)("design:paramtypes",[Re.S,k.bZ,e.c1b,e.gRc,fi,ft,pt])],Is);class la extends Te{constructor(){super({HyperlinkLibraryLogic:la}),this.name=oe.u.HyperlinkLibrary}update({settings:r}){const t={...r};return t.EnableImageConfiguration??=!0,t}}Te.add(la);let Es=class Ks{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.injector=(0,e.WQX)(e.zZn),la.importMe();let r=!0;(0,e.QZP)(()=>{const t=this.fieldState.ui().control;t.adamItems=this.fieldState.config.adam.items().length,r||t.updateValueAndValidity(),r=!1})}ngOnInit(){this.attachAdamConfig()}attachAdamConfig(){const r=(0,$.bo)("adamConfig",()=>{const t=this.fieldState.settings();return{allowAssetsInRoot:t.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:t.Paths,fileFilter:t.FileFilter,folderDepth:t.FolderDepth||0,metadataContentTypes:t.MetadataContentTypes}});(0,e.QZP)(()=>{const t=r();this.fieldState.config.adam.setConfig(t)},{injector:this.injector,allowSignalWrites:!0})}static#e=this.\u0275fac=function(t){return new(t||Ks)};static#t=this.\u0275cmp=e.VBU({type:Ks,selectors:[["hyperlink-library"]],standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(t,i){},encapsulation:2})};Es=(0,Ze.Cg)([Ft({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-library-expandable-wrapper","app-adam-wrapper"]}),(0,Ze.Sn)("design:paramtypes",[])],Es);class on extends Te{constructor(){super({CustomJsonEditorLogic:on}),this.name=oe.u.CustomJsonEditor}update({settings:r}){const t={...r};return t.Rows||=5,t.JsonValidation||="strict",t.JsonSchemaMode||="none",t.JsonSchemaSource||="link",t.JsonSchemaUrl??="",t.JsonSchemaRaw??="",t.JsonCommentsAllowed??=!1,t}}Te.add(on);class il extends on{constructor(){super(...arguments),this.name=oe.u.StringJson}}Te.add(il);var nl=g(8801);const Wv=(a,r,t)=>({disabled:a,focused:r,error:t}),Jv=a=>({height:a});function Qv(a,r){if(1&a&&e.nrm(0,"input",3),2&a){const t=e.XpG();e.Y8G("placeholder",t.basics().placeholder)}}let da=class Zs{#e;#t;#i;#n;constructor(r){this.formConfig=r,this.#e=(0,e.WQX)(Oe.W),this.#t=this.#e.config,this.ui=this.#e.ui,this.uiValue=this.#e.uiValue,this.basics=this.#e.basics,this.#i=this.#e.settings,this.#n=(0,e.EWP)(()=>this.#i().Rows,at.number),this.focused=(0,e.EWP)(()=>this.#t.focused$),this.editorHeight=(0,e.EWP)(()=>this.#n()*this.monacoOptions.lineHeight+"px"),this.jsonSchema=(0,e.EWP)(()=>{const t=this.#i();return"none"===t.JsonSchemaMode?void 0:{type:t.JsonSchemaSource,value:"link"===t.JsonSchemaSource?t.JsonSchemaUrl:t.JsonSchemaRaw}}),this.jsonComments=(0,e.EWP)(()=>this.#i().JsonCommentsAllowed?"ignore":"error"),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},on.importMe(),il.importMe()}ngOnInit(){this.filename=`${this.#t.fieldName} ${this.#t.entityGuid} ${this.formConfig.config.formId}.json`}codeChanged(r){this.ui().setIfChanged(r)}onFocused(){this.#t.focused$.next(!0)}onBlurred(){this.ui().markTouched(),this.#t.focused$.next(!1)}static#a=this.\u0275fac=function(t){return new(t||Zs)(e.rXU(Re.S))};static#s=this.\u0275cmp=e.VBU({type:Zs,selectors:[["custom-json-editor"]],standalone:!0,features:[e.aNF],decls:6,vars:16,consts:[[1,"json-field",3,"ngClass"],[1,"label"],[1,"editor",3,"valueChanged","focused","blurred","filename","ngStyle","value","options","jsonSchema","jsonComments"],[1,"placeholder","eav-translate-on-dblclick",3,"placeholder"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"app-monaco-editor",2),e.bIt("valueChanged",function(s){return i.codeChanged(s)})("focused",function(){return i.onFocused()})("blurred",function(){return i.onBlurred()}),e.k0s(),e.DNE(4,Qv,1,1,"input",3),e.k0s(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("ngClass",e.sMw(10,Wv,i.ui().disabled,i.focused().value,i.ui().touchedAndInvalid)),e.R7$(2),e.Lme("",i.basics().label," ",i.basics().required?"*":"",""),e.R7$(),e.Y8G("filename",i.filename)("ngStyle",e.eq3(14,Jv,i.editorHeight()))("value",i.uiValue())("options",i.monacoOptions)("jsonSchema",i.jsonSchema())("jsonComments",i.jsonComments()),e.R7$(),e.vxM(4,!i.uiValue()&&i.basics().placeholder?4:-1))},dependencies:[V.YU,z.Cc,z.PW,z.eI,ge.RG,ge.nJ,nl.K,V.B3,gt],styles:[".json-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.json-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.json-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:28px;left:64px;border:none;background:transparent;outline:none;width:calc(100% - 112px);font-family:inherit;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.json-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.json-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.json-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.json-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.json-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})};da=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[Re.S])],da);class ca extends Te{constructor(){super({CustomGpsLogic:ca}),this.name=oe.u.CustomGps}update({settings:r}){return{...r}}}Te.add(ca);class ua extends Te{constructor(){super({StringWysiwygLogic:ua}),this.name=oe.u.StringWysiwyg,this.canAutoTranslate=!0}update({settings:r,tools:t}){const i={...r};return i._allowDialog??=null==i.Dialog||""===i.Dialog,i.Dialog||="inline",i.ButtonSource||="",i.ButtonAdvanced||="",i.ContentCss||="",i.InlineInitialHeight||="3",i._advanced=this.findAndMergeAdvanced(t,i.WysiwygConfiguration,{Mode:"default",Json:""}),i}processValueOnLoad(r,t){try{const i=(new DOMParser).parseFromString(r,"text/html");return i.body.querySelectorAll("img").forEach(n=>{const s=n.getAttribute("data-cmsid")?.replace("file:",""),o=n.getAttribute("src");if(s&&o){const l=o.split("/").pop();if(s===l){const u=t.find(_=>_.Name===s);u&&n.setAttribute("src",u.Url)}}}),i.body.innerHTML}catch(i){return console.error("Error while cleaning wysiwyg content",i),r}}}Te.add(ua);var al=g(1134);const Kv=["customElContainer"];let Zv=(()=>{class a{constructor(){this.log=(0,ee.T)({ConnectorComponent:a}),this.fieldState=(0,e.WQX)(Oe.W),this.connectorCreator=(0,we.d)(Wo),this.viewContainerRef=(0,e.WQX)(e.c1b),this.changeDetectorRef=(0,e.WQX)(e.gRc)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=history?.state?.componentTag||this.fieldState.config.inputTypeSpecs.componentTagDialogName;t.a("Connector created for:",{componentTag:i}),this.connectorCreator.init(i,this.customElContainerRef,this.viewContainerRef,this.changeDetectorRef)}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-connector"]],viewQuery:function(i,n){if(1&i&&e.GBs(Kv,5),2&i){let s;e.mGM(s=e.lsd())&&(n.customElContainerRef=s.first)}},standalone:!0,features:[e.aNF],decls:2,vars:0,consts:[["customElContainer",""],[2,"height","100%","position","relative"]],template:function(i,n){1&i&&e.nrm(0,"div",1,0)}})}return a})();function qv(a,r){1&a&&e.nrm(0,"mat-spinner",0)}function e0(a,r){1&a&&e.nrm(0,"app-connector")}let t0=(()=>{class a{constructor(t,i){this.scriptsLoaderService=t,this.editRoutingService=i,this.log=(0,ee.T)({ExternalWebComponentComponent:a}),this.fieldState=(0,e.WQX)(Oe.W),this.config=this.fieldState.config,this.isExpanded=this.editRoutingService.isExpandedSignal(this.config.index,this.config.entityGuid),this.loading=(0,e.vPA)(!0),ua.importMe(),ca.importMe()}ngOnInit(){this.loadAssets()}loadAssets(){const t=this.config.inputTypeSpecs.metadata.AngularAssets.split("\n");0!==t.length&&this.scriptsLoaderService.load(t,this.assetsLoaded.bind(this))}assetsLoaded(){this.log.fn("assetsLoaded "+this.config.fieldName),this.loading.set(!1)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(ki),e.rXU(ft))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["external-web-component"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[["color","accent"]],template:function(i,n){1&i&&e.DNE(0,qv,1,0,"mat-spinner",0)(1,e0,1,0),2&i&&e.vxM(0,n.loading()?0:n.isExpanded()?1:-1)},dependencies:[al.D6,al.LG,Zv]})}return a})();class ma extends Te{constructor(){super({StringDefaultLogic:ma}),this.name=oe.u.StringDefault,this.canAutoTranslate=!0}update(r){const t={...r.settings};return t.InputFontFamily??="",t.RowCount||=1,t}}Te.add(ma);const n0=a=>({"textarea-field":a}),a0=a=>({"font-family":a}),s0=(a,r)=>({"font-family":a,"white-space":r});function r0(a,r){if(1&a&&e.nrm(0,"input",1),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.eq3(4,a0,t.inputFontFamily()))}}function o0(a,r){if(1&a&&(e.j41(0,"textarea",2),e.EFF(1,"    "),e.k0s()),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("rows",t.rowCount())("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.l_i(5,s0,t.inputFontFamily(),t.textWrap()))}}let Os=class qs{constructor(){this.fieldState=(0,e.WQX)(Oe.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.rowCount=this.fieldState.setting("RowCount"),this.inputFontFamily=this.fieldState.setting("InputFontFamily"),this.textWrap=this.fieldState.setting("TextWrapping"),ma.importMe()}static#e=this.\u0275fac=function(t){return new(t||qs)};static#t=this.\u0275cmp=e.VBU({type:qs,selectors:[["string-default"]],standalone:!0,features:[e.aNF],decls:6,vars:6,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup","ngClass"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","placeholder","required","ngStyle"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","rows","placeholder","required","ngStyle"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.DNE(1,r0,1,6,"input",1)(2,o0,2,8),e.j41(3,"mat-label"),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group)("ngClass",e.eq3(4,n0,i.rowCount()>1)),e.R7$(),e.vxM(1,i.rowCount()<=1?1:2),e.R7$(3),e.JRh(i.basics().label))},dependencies:[ge.RG,ge.rl,ge.nJ,M.YN,M.me,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,V.YU,z.Cc,z.PW,z.eI,it.fS,it.fg,V.B3,gt],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"]})};Os=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],Os);class ha extends Te{constructor(){super({StringDropdownQueryLogic:ha}),this.name=oe.u.StringDropdownQuery}update(r){const i=Bt.singleton().get(oe.u.EntityDefault).update(r);return i.Value??="",i.Label??="",i.EnableTextEntry??=!1,i.Separator||=",",i.MoreFields??="",i}}function l0(a,r){1&a&&e.nrm(0,"app-picker-preview")}function d0(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Te.add(ha);let c0=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({StringDropdownQueryComponent:a},Gt.logSpecs),this.constructorEnd(),ha.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown-query"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,l0,1,0,"app-picker-preview")(1,d0,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();function u0(a,r){1&a&&e.nrm(0,"app-picker-preview")}function m0(a,r){1&a&&e.nrm(0,"app-picker-dialog")}let h0=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({StringDropdownComponent:a},Gt.logSpecs),this.constructorEnd(),bi.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,u0,1,0,"app-picker-preview")(1,m0,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();class pa extends Te{constructor(){super({StringFontIconPickerLogic:pa}),this.name=oe.u.StringFontIconPicker}update({settings:r}){const t={...r};return t.Files??="",t.CssPrefix??="",t.ShowPrefix??=!1,t}}function g0(a,r){if(1&a&&e.nrm(0,"i"),2&a){const t=e.XpG();e.STu("icon-preview ",t.previewCss()," ",t.uiValue(),"")}}function f0(a,r){if(1&a&&(e.j41(0,"mat-option",8)(1,"div",2),e.nrm(2,"i"),e.j41(3,"span"),e.EFF(4),e.k0s()()()),2&a){const t=r.$implicit,i=e.XpG();e.Y8G("value",t.class),e.R7$(2),e.STu("icon-preview ",i.previewCss()," ",t.class,""),e.R7$(2),e.JRh(t.label)}}Te.add(pa);let Ls=class er{#e;#t;#i;#n;constructor(r){this.scriptsLoaderService=r,this.#e=(0,e.WQX)(Oe.W),this.group=this.#e.group,this.config=this.#e.config,this.uiValue=this.#e.uiValue,this.#t=this.#e.settings,this.basics=this.#e.basics,this.previewCss=(0,e.EWP)(()=>this.#t().PreviewCss,at.string),this.#i=(0,e.vPA)([],{equal:oi.a.arraysEqual}),this.filteredIcons=(0,e.EWP)(()=>{const t=this.uiValue();return t?this.#i().filter(n=>n.search?.includes(t.toLocaleLowerCase())??!1):this.#i()}),this.#n=(0,e.WQX)(e.zZn),pa.importMe()}ngOnInit(){const r=(0,e.EWP)(()=>{const t=this.#t();return{Files:t.Files,CssPrefix:t.CssPrefix,ShowPrefix:t.ShowPrefix}},{equal:oi.a.objectsEqual});(0,e.QZP)(()=>{const t=r();this.scriptsLoaderService.load(t.Files.split("\n"),()=>{const i=function p0(a,r){const t=[],i={};if(!a)return t;const n=r?0:a.length-1;for(const s of Array.from(document.styleSheets)){if(!s)continue;let o;try{o=s.rules}catch{}if(!o)try{o=s.cssRules}catch{}if(o)for(const l of Array.from(o)){if(!l.selectorText||!l.selectorText.startsWith(a))continue;const u=l.selectorText,_=u.substring(0,u.indexOf(":")).replace(".","");i[_]||(t.push({rule:l,class:_,search:_?.toLowerCase(),label:_.substring(n)}),i[_]=!0)}}return t}(t.CssPrefix,t.ShowPrefix);this.#i.set(i)})},{allowSignalWrites:!0,injector:this.#n})}static#a=this.\u0275fac=function(t){return new(t||er)(e.rXU(ki))};static#s=this.\u0275cmp=e.VBU({type:er,selectors:[["string-font-icon-picker"]],standalone:!0,features:[e.aNF],decls:11,vars:11,consts:[["auto","matAutocomplete"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"icon-option"],[3,"class"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","placeholder","required","matAutocomplete"],[3,"hideSingleSelectionIndicator"],["itemSize","48","minBufferPx","500","maxBufferPx","1000"],[3,"value",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"]],template:function(t,i){if(1&t&&(e.j41(0,"mat-form-field",1)(1,"div",2),e.DNE(2,g0,1,4,"i",3),e.nrm(3,"input",4),e.k0s(),e.j41(4,"mat-autocomplete",5,0)(6,"cdk-virtual-scroll-viewport",6),e.DNE(7,f0,5,6,"mat-option",7),e.k0s()(),e.j41(8,"mat-label"),e.EFF(9),e.k0s()(),e.nrm(10,"app-field-helper-text")),2&t){const n=e.sdS(5);e.Y8G("formGroup",i.group),e.R7$(2),e.vxM(2,i.uiValue()?2:-1),e.R7$(),e.Y8G("formControlName",i.config.fieldName)("placeholder",i.basics().placeholder)("required",i.basics().required)("matAutocomplete",n),e.R7$(),e.Y8G("hideSingleSelectionIndicator",!0),e.R7$(2),e.xc7("height",i.filteredIcons().length<6?48*i.filteredIcons().length:240,"px"),e.R7$(),e.Y8G("cdkVirtualForOf",i.filteredIcons()),e.R7$(2),e.JRh(i.basics().label)}},dependencies:[ge.RG,ge.rl,ge.nJ,M.YN,M.me,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,it.fS,it.fg,Ri.jL,Ri.$3,U.wT,Ri.pN,Ei.d6,Ei.yg,Ei.E$,U.Sy,gt],styles:[".icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}"]})};Ls=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[ki])],Ls);var _0=g(2853),b0=g.n(_0);class v0{constructor(){}parse(r){const t=b0().parse(r,{header:!0,skipEmptyLines:!0,transformHeader:b=>b.trim(),transform:(b,S)=>"Value"==S?b:b.trim()}),i=t?.data;if(!i||!Array.isArray(i)||0==i.length)return[];const n=i.filter(b=>void 0!==b.Value);n.length!=i.length&&console.warn("CSV contains rows without a value",{data:i,filtered:n});const o=(t?.meta.fields??[]).reduce((b,S)=>({...b,[S]:null}),{}),{Value:l,...u}=o;return n.map(b=>({...u,...b}))}}class ln extends Te{constructor(){super({StringPickerLogic:ln}),this.name=oe.u.StringPicker}update(r){var t=(0,ee.T)({StringPickerLogic:ln});const{value:i,tools:n}=r,s=t.fn("update",{specs:r});let o=[];const u=Bt.singleton().get(oe.u.EntityPicker).update(r);u.EnableTextEntry??=!1,u.Separator??="\n","\\n"==u.Separator&&(u.Separator="\n"),u.DataSources?.length>0&&(o=n.contentTypeItemSvc.getMany(u.DataSources));const _=o[0]?.Type.Name;if([ct.UiPickerSourceCustomList,ct.UiPickerSourceCustomCsv].includes(_)){s.a(`type: ${_}`,{dataSource0:o[0]}),u.DataSourceType=_;const b=n.reader.flatten(o[0]);if(u.ItemInformation=b.ItemInformation??"",u.ItemTooltip=b.ItemTooltip??"",u.ItemLink=b.ItemLink??"",u.EnableEdit=!1,u.EnableCreate=!1,u.EnableDelete=!1,_===ct.UiPickerSourceCustomList)u.DropdownValuesFormat="value-label",u.DropdownValues=b.Values??"",u._options=Zo(i,"string",u.DropdownValuesFormat,u.DropdownValues)??[];else if(_===ct.UiPickerSourceCustomCsv){const S=b.Csv;u._options=(new v0).parse(S),u.requiredFeatures=[mt.T.PickerSourceCsv]}}else s.a("type: not UiPickerSourceCustom-List/Csv",{dataSource0:o[0]});return s.r(u)}}function y0(a,r){1&a&&e.nrm(0,"app-picker-preview")}function w0(a,r){1&a&&e.nrm(0,"app-picker-dialog")}Te.add(ln);let k0=(()=>{class a extends Gt{constructor(){super(),this.log=(0,Mt.T)({StringPickerComponent:a},Gt.logSpecs),this.constructorEnd(),ln.importMe()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["string-picker"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,y0,1,0,"app-picker-preview")(1,w0,1,0),2&i&&e.vxM(0,n.showPreview()?0:1)},dependencies:[ui,mi]})}return a})();const sl={Token:{ext:".html",purpose:"Template",type:"Token"},"C# Razor":{ext:".cshtml",purpose:"Template",type:"Razor"},"C# Search":{ext:".cs",purpose:"Search"}};var x0=g(9996),C0=g(4029);function M0(a,r){if(1&a&&(e.j41(0,"mat-option",4),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}let Ps=class va{static#e=this;#t;#i;#n;#a;#s;#r;#o;#l;#d;constructor(r,t){this.dialog=r,this.viewContainerRef=t,this.log=(0,ee.T)({StringTemplatePickerComponent:va}),this.#t=(0,e.WQX)(Oe.W),this.group=this.#t.group,this.config=this.#t.config,this.basics=this.#t.basics,this.ui=this.#t.ui,this.templateOptions=(0,e.vPA)([]),this.#i=(0,e.WQX)(e.zZn),this.#n=(0,we.d)(me.Nt).init("String-TypeMask",this.#t.settings().FileType??"[Type]"),this.#a=(0,we.d)(me.Nt).init("String-LocationMask","[Location]"),this.#s=sl.Token,this.#r=[],this.#o=!1,this.#l=!1,this.#d=(0,we.d)(x0.F),this.#u="",(0,e.QZP)(()=>this.#h(this.#a.result())),(0,e.QZP)(()=>this.#c(this.#n.result()),{allowSignalWrites:!0})}ngOnDestroy(){this.#n.destroy(),this.#a.destroy()}#c(r){this.#s=sl[r],this.#p()}#u;#h(r){this.log.fn("onLocationChange",{location:r}),this.#o="Host File System"===r||"Global"===r,this.#u!==r&&(this.#u=r,this.#d.getAll().pipe((0,dt.s)(1)).subscribe(i=>{this.#r=i.filter(n=>n.Shared===this.#o).map(n=>n.Path),this.#l=!0,this.#p()}))}#p(){const r=this.#s.ext,t=this.#r.filter(n=>!/\.code\.[a-zA-Z0-9]+$/.test(n)).filter(n=>n.endsWith(r));this.templateOptions.set(t),this.#l&&!t.some(n=>n===this.#t.uiValue())&&this.ui().setIfChanged("")}createTemplate(){const r=(0,we.d)(me.Nt,this.#i).init("String-NameMask","[Name]"),t={global:this.#o,purpose:this.#s.purpose,type:this.#s.type,name:r.result()};r.destroy(),this.dialog.open(C0.g,{autoFocus:!1,data:t,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(n=>{n&&this.#d.create(n.name,this.#o,n.templateKey).subscribe(s=>{!1===s?alert("Server reported that create failed - the file probably already exists"):(this.#r.push(n.name),this.#p(),this.ui().setIfChanged(n.name))})})}static#m=this.\u0275fac=function(t){return new(t||va)(e.rXU(k.bZ),e.rXU(e.c1b))};static#g=this.\u0275cmp=e.VBU({type:va,selectors:[["string-template-picker"]],standalone:!0,features:[e.aNF],decls:15,vars:11,consts:[[1,"picker-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"eav-translate-on-dblclick",3,"formControlName","required"],["value",""],[3,"value"],["mat-icon-button","",3,"click","tippy","disabled"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2)(3,"mat-option",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.Z7z(6,M0,2,2,"mat-option",4,e.fX1),e.k0s(),e.j41(8,"mat-label"),e.EFF(9),e.k0s()(),e.j41(10,"button",5),e.nI1(11,"translate"),e.bIt("click",function(){return i.createTemplate()}),e.j41(12,"mat-icon"),e.EFF(13,"add"),e.k0s()()(),e.nrm(14,"app-field-helper-text")),2&t&&(e.R7$(),e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("formControlName",i.config.fieldName)("required",i.basics().required),e.R7$(2),e.JRh(e.bMT(5,7,"Fields.TemplatePicker.NotSelected")),e.R7$(2),e.Dyx(i.templateOptions()),e.R7$(3),e.JRh(i.basics().label),e.R7$(),e.Y8G("tippy",e.bMT(11,9,"Fields.TemplatePicker.NewTemplate"))("disabled",i.ui().disabled))},dependencies:[ge.RG,ge.rl,ge.nJ,M.YN,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,Bi.Ve,Bi.VO,U.wT,U.Sy,p.Hl,p.iY,P.m_,P.An,gt,T.h,T.D9,qe.e],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"]})};Ps=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[k.bZ,e.c1b])],Ps);class ol extends Te{constructor(){super({InputTypeCatalog:oe.u}),this.name=oe.u.StringUrlPath}update({settings:r}){const t={...r};return t.AutoGenerateMask??=null,t.AllowSlashes??=!1,t}}Te.add(ol);let Rs=class ya{static#e=this;#t;#i;#n;#a;constructor(){this.log=(0,ee.T)({StringUrlPathComponent:ya}),this.fieldState=(0,e.WQX)(Oe.W),this.group=this.fieldState.group,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.#t=(0,e.EWP)(()=>this.fieldState.settings().AutoGenerateMask,at.string),this.#i=(0,e.vPA)(""),this.#n=(0,we.d)(me.Nt).initPreClean((r,t)=>"string"==typeof t?t.replace("/","-").replace("\\","-"):t).initSignal("UrlPath",this.#t),this.#a=(0,e.EWP)(()=>{const r=this.#n.result();return me.b.stripNonUrlCharacters(r,this.settings().AllowSlashes,!0)}),ol.importMe(),(0,e.QZP)(()=>{this.fieldState.uiValue(),this.clean(!1)}),(0,e.QZP)(()=>this.#s(this.#a()),{allowSignalWrites:!0})}#s(r){const t=this.log.fn("#onSourcesChanged",{newValue:r}),i={uiValue:this.fieldState.uiValue(),lastAutoCopy:this.#i(),allowSlashes:this.settings().AllowSlashes,cleaned:r};return i.uiValue&&i.uiValue!==i.lastAutoCopy?t.end("UI not empty but manually modified, so no auto-update",i):i.cleaned?i.uiValue===i.cleaned?t.end("no changes",i):(this.#i.set(i.cleaned),this.fieldState.ui().setIfChanged(i.cleaned),void t.end(`updated to "${i.cleaned}"`,i)):t.end("cleaned is empty",i)}clean(r){this.log.fn("clean",{trimEnd:r});const i=this.fieldState.uiValue(),n=me.b.stripNonUrlCharacters(i,this.settings().AllowSlashes,r);this.fieldState.ui().setIfChanged(n)}static#r=this.\u0275fac=function(t){return new(t||ya)};static#o=this.\u0275cmp=e.VBU({type:ya,selectors:[["string-url-path"]],standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",1,"eav-translate-on-dblclick",3,"blur","formControlName","placeholder","required"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0)(1,"input",1),e.bIt("blur",function(){return i.clean(!0)}),e.k0s(),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("formControlName",i.fieldState.name)("placeholder",i.basics().placeholder)("required",i.basics().required),e.R7$(2),e.JRh(i.basics().label))},dependencies:[ge.RG,ge.rl,ge.nJ,M.YN,M.me,M.BC,M.cb,M.YS,M.X1,M.j4,M.JD,it.fS,it.fg,gt]})};Rs=(0,Ze.Cg)([Ft({...Ut}),(0,Ze.Sn)("design:paramtypes",[])],Rs);var D0=g(2487);const T0=["fieldComponent"],S0=a=>({mark:a});function F0(a,r){if(1&a&&(e.EFF(0),e.nrm(1,"app-feature-icon",3)),2&a){const t=r.$implicit;e.SpI(" ",t," "),e.R7$(),e.Y8G("featureNameId",t)}}function A0(a,r){if(1&a&&(e.j41(0,"div",2),e.EFF(1," This uses features which are not licensed: "),e.Z7z(2,F0,2,2,"app-feature-icon",3,e.fX1),e.k0s()),2&a){const t=e.XpG();e.R7$(2),e.Dyx(t.requiredFeatures())}}const E0={"app-adam-wrapper":I_,"app-collapsible-wrapper":P_,"app-dropzone-wrapper":$_,"app-picker-expandable-wrapper":Mv,"app-expandable-wrapper":ub,"app-hidden-wrapper":hb,"app-feat-warnings-wrapper":(()=>{class a{#e;#t;constructor(){this.#e=(0,e.WQX)(Oe.W),this.#t=(0,e.WQX)(Ot.t),this.requiredFeatures=(0,$.bo)("requiredFeatures",()=>{const t=this.#e.requiredFeatures();return 0===t.length?t:t.filter(i=>!this.#t.allowUse[i]())}),this.basics=this.#e.basics}static#i=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-feat-warnings-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(T0,7,e.c1b),2&i){let s;e.mGM(s=e.lsd())&&(n.fieldComponent=s.first)}},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[["fieldComponent",""],[3,"ngClass"],[1,"feature-warning"],[3,"featureNameId"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.DNE(3,A0,4,0,"div",2),e.k0s()),2&i&&(e.Y8G("ngClass",e.eq3(2,S0,n.requiredFeatures().length)),e.R7$(3),e.vxM(3,n.requiredFeatures().length>0?3:-1))},dependencies:[V.YU,D0.Z],styles:[".feature-warning[_ngcontent-%COMP%]{display:none}.mark[_ngcontent-%COMP%]{border:1px solid #f0ad4e}.mark[_ngcontent-%COMP%]   .feature-warning[_ngcontent-%COMP%]{display:block;background-color:#f0ad4e;padding:4px}"]})}return a})(),"app-hyperlink-default-expandable-wrapper":Vb,"app-hyperlink-library-expandable-wrapper":iv,"app-localization-wrapper":_v,[oe.u.BooleanDefault]:$a,[oe.u.BooleanTristate]:Ha,[oe.u.CustomDefault]:Pn,[oe.u.CustomJsonEditor]:da,[oe.u.DateTimeDefault]:cs,[oe.u.EmptyDefault]:jp,[oe.u.EmptyMessage]:us,[oe.u.EntityContentBlocks]:qf,[oe.u.EntityDefault]:Yo,[oe.u.EntityQuery]:i_,[oe.u.ExternalWebComponent]:t0,[oe.u.HyperlinkDefault]:Is,[oe.u.HyperlinkLibrary]:Es,[oe.u.NumberDefault]:As,[oe.u.NumberDropdown]:ra,[oe.u.StringDefault]:Os,[oe.u.StringDropdown]:h0,[oe.u.StringDropdownQuery]:c0,[oe.u.StringFontIconPicker]:Ls,[oe.u.StringJson]:da,[oe.u.StringTemplatePicker]:Ps,[oe.u.StringUrlPath]:Rs,[oe.u.EntityPicker]:Sv,[oe.u.StringPicker]:k0,[oe.u.NumberPicker]:ra};class O0{static fromSettings(r){const t=r?.Name??"loading...",i=r?.Notes??"",n=r?.valueRequired??!0,l=(r?.Visible??!0)&&!r?.VisibleDisabled,u=r?.Collapsed??!1;return{label:t,notes:i,placeholder:r?.Placeholder??"loading...",required:n,labelWithRequired:t+(n?" *":""),visible:l,collapsed:u}}}const L0={getInjectors:!0,fields:[...Jt.z]};let R0=(()=>{class a{#e;#t;#i;#n;constructor(){this.log=(0,ee.T)({FieldStateInjectorFactory:a},L0,!1),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(e.uvJ),this.#i=(0,e.WQX)(Kt),this.#n=(0,e.WQX)(wi)}getInjectors(t,i){const n=this.log.fnIf("getInjectors",{fieldConfig:t,inputType:i}),s=t.fieldName,o=this.#i.settings[s],l=(0,$.bo)("basics",()=>O0.fromSettings(o())),u=this.#n.formGroup,_=u.controls[s],b=this.#a(s,_,i,o),S=(()=>{if(!_)return(0,$.KX)("value-change-empty",null);const J=_.valueChanges.pipe((0,$t.A)(ue=>ue));return(0,Qt.ot)(J,{injector:this.#e,initialValue:_.value})})(),j=new Oe.W(s,t,u,o,l,b,S,this.#i.translationState[s],this.#i.pickerData[s]??null);return n.r(this.#s(j))}#a(t,i,n,s){const o=this.log.fnCond(this.log.specs.fields.includes(t),"buildControlChangeSignal",{fieldName:t,inputType:n});if(i){const l=(0,Qt.br)(s,{injector:this.#e});return(0,e.N4e)(this.#e,()=>{const u=i.valueChanges.pipe((0,$t.A)(b=>({dirty:i.dirty,invalid:i.invalid,touched:i.touched,disabled:i.disabled})),(0,Mn.M)(b=>!1)),_=(0,Y.z)([u,l.pipe((0,$t.A)(b=>b.uiDisabled))]).pipe((0,Mn.M)(([b,S])=>o.a("controlStateChange on control",{control:i,disabled:S})),(0,$t.A)(([b,S])=>new Ii.a(i,t,S)),(0,Mn.M)(b=>o.a("controlStatusChangeSignal",{result:b})));return(0,Qt.ot)(_,{initialValue:new Ii.a(i,t,s().uiDisabled)})})}return ht.Q.isEmpty(n.inputType)?null:(console.error(`Error: can't create signal for control of ${t} (not found). Input type is not empty, it's ${n.inputType}.`),(0,$.KX)("control-status-empty",Ii.a.emptyControl()))}#s(t){const i=[{provide:Oe.W,useValue:t}];return{injector:e.zZn.create({providers:i,parent:this.#e,name:"FieldInjector"}),environmentInjector:(0,e.Ol2)(i,this.#t,"FieldEnvInjector")}}static#r=this.\u0275fac=function(i){return new(i||a)};static#o=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();class Vs{constructor(){this.log=(0,ee.T)({AdamConnector:Vs}),this.#e=(0,e.vPA)(null),this.count=0,this.isDisabled=(0,e.EWP)(()=>this.#e()?.adamConfig()?.disabled??!0)}get browser(){const r=this.#e();if(r)return r;throw new Error("Browser not set")}setBrowser(r){this.#e.set(r)}#e;get items(){return(0,e.EWP)(()=>this.#e()?.items()??[])}toggle(r,t){this.log.fn("toggle",{usePortalRoot:r,showImagesOnly:t}),this.browser.toggle(r,t)}setConfig(r){if(this.count++,this.count>10)throw new Error("Infinite loop");this.log.fn("setConfig",{config:r}),this.browser.setConfig(r)}getConfig(){return this.browser.adamConfig()}onItemClick(){}onItemUpload(){}refresh(){this.log.fn("refresh"),this.browser.fetchItems()}}const V0={all:!1,createWrapper:!0};let Y0=(()=>{class a{#e;#t;#i;constructor(t){this.formConfigService=t,this.log=(0,ee.T)({EditControlsBuilderDirective:a},V0),this.#e=(0,we.d)(R0),this.#t=(0,e.WQX)(e.c1b),this.#i=(0,e.WQX)(Kt),this.#n=[],this.onInitReady=(0,e.vPA)(!1),(0,e.QZP)(()=>{const i=this.onInitReady(),n=this.formConfigService.controlsCreated();this.log.a("createControls - effect",{onInitReady:i,controlsCreated:n}),i&&n&&(this.log.a("createControls RUN"),(0,e.O8t)(()=>this.createControls()))})}#n;ngOnInit(){this.onInitReady.set(!0)}createControls(){this.#t.clear();let t=this.#t;const i=this.#i.allProps();for(const[n,s]of Object.entries(i)){const o={...s.constants,fieldName:n,focused$:new jt.t(!1),adam:new Vs};this.#n.push(o);const l=s.constants.inputTypeSpecs.inputType;ht.Q.isGroupStart(l)?t=this.#a(this.#t,s,o):ht.Q.isGroupEnd(l)?t=this.#t:this.#s(t,s,o)}}ngOnDestroy(){for(const t of this.#n)t.focused$.complete()}#a(t,i,n){const s=this.#e.getInjectors(n,i.constants.inputTypeSpecs);let o=new Ys(null,t,s);return i.buildWrappers&&(o=this.#o(o,i.buildWrappers)),o.contentsRef}#s(t,i,n){const s=i.constants.inputTypeSpecs;this.log.a("createComponent",{inputSpecs:s});const o=this.#e.getInjectors(n,s);let l=new Ys(null,t,o);i.buildWrappers&&(l=this.#o(l,i.buildWrappers));const _=this.#d(s.isExternal?oe.u.ExternalWebComponent:s.inputType),b=Reflect.getMetadata(jr,_);b?.wrappers&&(l=this.#o(l,b.wrappers)),this.#r(_,l.contentsRef,l.injectors);const S=l.wrapperRef?.instance?.previewComponent;if(null!=S){const j=this.#d(s.inputType);this.log.a("createComponent - add preview",{previewType:j}),this.#r(j,S,l.injectors)}}#r(t,i,n){i.createComponent(t,n)}#o(t,i){let n=t;for(const s of i)n=this.#l(n,s);return n}#l(t,i){this.log.fnIf("createWrapper",{wrapperName:i});const s=this.#d(i),o=t.contentsRef.createComponent(s,t.injectors);return new Ys(o,o.instance.fieldComponent,null)}#d(t){return E0[t]??(console.error(`Missing component class for: ${t}`),Pn)}static#c=this.\u0275fac=function(i){return new(i||a)(e.rXU(wi))};static#u=this.\u0275dir=e.FsC({type:a,selectors:[["","appEditControlsBuilder",""]],standalone:!0})}return a})();class Ys{constructor(r,t,i){this.wrapperRef=r,this.contentsRef=t,this.injectors=i}}const j0={all:!0,watchToRefreshOnVersionsClosed:!0};let N0=(()=>{class a{constructor(){this.log=(0,ee.T)({EditForceReloadService:a},j0),this.#e=(0,e.WQX)(k.CP),this.#t=(0,we.d)(Wn.c)}#e;#t;ngOnDestroy(){this.#i?.unsubscribe()}#i;watchToRefreshOnVersionsClosed(){const t=this.log.fnIf("watchToRefreshOnVersionsClosed");this.#i=this.#t.childDialogClosed$().pipe((0,F.T)(()=>this.#t.state()),(0,Ct.p)(i=>!0===i?.refreshEdit)).subscribe(i=>{const n=this.log.fnIf("watchToRefreshOnVersionsClosed",null,"refreshEdit");t.a("version closed, refreshing edit dialog");const s=this.#t.snapshot.params,o=me.b.newUrlIfCurrentContainsOldUrl(this.#t.route,`edit/${s.items}`,`edit/refresh/${s.items}`);if(null==o)return n.end("no change");this.#e.close({navigateUrl:o}),n.end(`routed away to :${o}`)}),t.end()}static#n=this.\u0275fac=function(i){return new(i||a)};static#a=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();var z0=g(5443);const B0=["noteTrigger"],G0=["noteTemplate"];function $0(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",19,1),e.nI1(2,"translate"),e.bIt("pointerenter",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):null)})("pointerleave",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):null)})("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.noteProps().note?s.toggleNote(n):s.editNote())}),e.j41(3,"mat-icon"),e.EFF(4),e.k0s()()}if(2&a){const t=e.XpG();e.ZvI("eav-note ",t.noteProps().triggerClass,""),e.Y8G("disabled",t.readOnly())("tippy",e.bMT(2,8,t.noteProps().tooltip))("tippyDisabled",t.readOnly()||!t.noteProps().tooltip)("disableRipple",t.noteProps().itemNotSaved),e.R7$(4),e.JRh(t.noteProps().iconName)}}function H0(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",20),e.bIt("pointerdown",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.noteTouched=!0)}),e.j41(1,"div",21)(2,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.editNote(n.noteProps().note))}),e.j41(3,"mat-icon"),e.EFF(4,"edit"),e.k0s()(),e.j41(5,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteNote(n.noteProps().note))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",22),e.bIt("click",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.toggleNote(n))}),e.j41(9,"mat-icon"),e.EFF(10,"close"),e.k0s()()(),e.nrm(11,"div",23),e.nI1(12,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG();e.ZvI("eav-note-wrapper ",t.noteProps().noteClass,""),e.R7$(11),e.Y8G("innerHtml",e.bMT(12,4,t.noteProps().noteHtml),e.npT)}}function U0(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-slide-toggle",24),e.nI1(1,"translate"),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSlotIsEmpty())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("checked",!t.ctSettings().slotIsEmpty)("disabled",t.readOnly()||t.languages().current!==t.languages().primary)("tippy",e.bMT(1,4,t.ctSettings().slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue"))("tippyDisabled",t.readOnly()||t.languages().current!==t.languages().primary)}}function X0(a,r){if(1&a&&(e.j41(0,"div",10)(1,"mat-icon"),e.EFF(2,"local_offer"),e.k0s()()),2&a){const t=e.XpG();e.Y8G("tippy",t.itemForTooltip())}}function W0(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",25),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openHistory())}),e.j41(2,"mat-icon"),e.EFF(3,"history"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("tippy",e.bMT(1,2,"Form.Buttons.History.Tip"))("disabled",t.readOnly())}}function J0(a,r){if(1&a&&(e.j41(0,"div",16),e.nrm(1,"div",26),e.nI1(2,"safeHtml"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,t.ctSettings().editInstructions),e.npT)}}const Q0={all:!1,fetchNote:!0,noteFormData:!0};let K0=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;#l;#d;#c;constructor(t,i,n,s){this.itemSvc=t,this.editRoutingSvc=i,this.dialog=n,this.viewContainerRef=s,this.log=(0,ee.T)({EntityFormComponent:a},Q0),this.entityGuid=(0,e.hFB)(),this.formConfig=(0,e.WQX)(Re.S),this.#e=(0,e.WQX)(Kt),this.#t=(0,e.WQX)(pt),this.#i=(0,e.WQX)(T.c$),this.#n=(0,we.d)(N0),this.collapse=!1,this.noteTouched=!1,this.#a=(0,e.WQX)(Ot.t),this.#s=this.#a.isEnabled(mt.T.EditUiShowNotes),this.#r=this.#a.isEnabled(mt.T.EditUiShowMetadataFor),this.languages=this.formConfig.language,this.ctSettings=(0,$.bo)("ctSettings",()=>{const o=this.#e.contentTypeSettings(),l=o.Features,u=function De(a){return a.split("\n").reduce((t,i)=>{if(!i)return t;const n=i.split("=");return t[n[0]]="true"===n[1],t},{})}(o.Features);return{itemTitle:o._itemTitle,slotCanBeEmpty:o._slotCanBeEmpty,slotIsEmpty:o._slotIsEmpty,editInstructions:o.EditInstructions,features:l,showNotes:u[mt.T.EditUiShowNotes]??this.#s(),showMdFor:u[mt.T.EditUiShowMetadataFor]??this.#r()}}),this.readOnly=(0,$.bo)("readOnly",()=>this.#t.readOnly().isReadOnly),this.itemForTooltip=(0,$.bo)("itemForTooltip",()=>function Ae(a,r){if(a)return r.instant("Form.Buttons.Metadata.Tip")+`\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.Number?`\nNumber: ${a.Number}`:"")+(a.String?`\nString: ${a.String}`:"")+(a.Guid?`\nGuid: ${a.Guid}`:"")+(a.Title?`\nTitle: ${a.Title}`:"")}(this.itemSvc.getItemFor(this.entityGuid()),this.#i)),this.#o=(0,$.KX)("retriggerNoteProps",!1),this.noteProps=(0,$.bo)("noteProps",()=>{this.#o();const o=this.entityGuid(),l=this.formConfig.language();return function ye(a,r,t){const i={note:a,tooltip:t?"Form.Buttons.Note.ItemNotSaved":"Form.Buttons.Note.Add",triggerClass:"no-note "+(t?"item-not-saved":""),iconName:"sticky_note_2",noteClass:"",noteHtml:void 0,itemNotSaved:t};if(!a)return i;i.tooltip=void 0;const n=new me.bT(r);i.noteHtml=n.getBestValue(a.Attributes.Note);const s=n.getBestValue(a.Attributes.NoteType);return"note"===s?i.triggerClass="has-note":"warning"===s&&(i.triggerClass="has-warning",i.iconName="warning",i.noteClass="warning"),i}(this.itemSvc.getItemNote(o),l,0===this.itemSvc.get(o).Entity.Id)}),this.#l=(0,we.d)(Ia),this.#d=(0,we.d)(Ao.Tr),this.#c=(0,we.d)(Wn.c)}ngAfterViewChecked(){this.noteRef?._containerInstance?._changeDetectorRef?.detectChanges()}ngOnInit(){this.#c.doOnDialogClosed(()=>this.#u())}ngOnDestroy(){this.noteRef?.close()}toggleCollapse(){this.collapse=!this.collapse}toggleSlotIsEmpty(){const t=this.entityGuid(),i=this.itemSvc.getItemHeader(t),n={...i,IsEmpty:!i.IsEmpty},s=this.log.fn("toggleSlotIsEmpty",{oldHeader:i,newHeader:n});this.itemSvc.updater.updateItemHeader(t,n),s.end()}openHistory(){const t=this.itemSvc.get(this.entityGuid());this.#n.watchToRefreshOnVersionsClosed(),this.#c.navRelative([`versions/${t.Entity.Id}`])}toggleNote(t){const i=this.noteRef?.getState()===k.CF.OPEN;"pointerenter"===t.type&&0==this.noteTouched?this.openNote():"pointerleave"===t.type&&0==this.noteTouched?this.noteRef?.close():"click"===t.type&&i&&(0==this.noteTouched?this.noteTouched=!0:(this.noteRef?.close(),this.noteTouched=!1))}openNote(){const t=this.noteTriggerRef.nativeElement.getBoundingClientRect();this.noteRef=this.dialog.open(this.noteTemplateRef,{autoFocus:!1,hasBackdrop:!1,disableClose:!0,restoreFocus:!1,closeOnNavigation:!1,position:{top:`${t.bottom}px`,left:`${t.left}px`},viewContainerRef:this.viewContainerRef,panelClass:"note-dialog"})}editNote(t){const i=this.entityGuid(),n=this.log.fn("editNote",{note:t});if(0===this.itemSvc.get(i).Entity.Id)return void n.end("Item not saved yet, ID = 0");const o={items:[null==t?se.c.newMetadata(i,H.YX.contentTypes.notes,H.YX.metadata.entity,!0):se.c.editId(t.Id)]};this.editRoutingSvc.open(null,null,o)}deleteNote(t){const i=this.formConfig.language(),n=new z0.b(i).getBestValue(t.Attributes.Title);confirm(this.#i.instant("Data.Delete.Question",{title:n,id:t.Id}))&&this.#d.delete(this.formConfig.config.appId,H.YX.contentTypes.notes,t.Id,!1).subscribe(()=>{this.noteRef?.close(),this.#u()})}#u(){const t=this.entityGuid(),i=this.itemSvc.get(t),n=this.log.fnIf("fetchNote",{entityGuid:t,item:i,id:i.Entity.Id});if(0===i.Entity.Id)return n.end("no change");const s=[se.c.editId(i.Entity.Id)];this.#l.fetchFormData(JSON.stringify(s)).subscribe(o=>{const l=this.log.fn("noteFormData",{formData:o});if(!this.itemSvc.get(t))return l.end(`Item ${t} not found in service, was probably flushed for reload`);const u=o.Items.map(_=>Xe.convert(_));this.itemSvc.updater.updateItemMetadata(t,u[0].Entity.Metadata),this.#o.set(!0),l.end("updated note")}),n.end("started note-loading")}static#h=this.\u0275fac=function(i){return new(i||a)(e.rXU(lt),e.rXU(ft),e.rXU(k.bZ),e.rXU(e.c1b))};static#p=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form"]],viewQuery:function(i,n){if(1&i&&(e.GBs(B0,5,e.aKT),e.GBs(G0,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.noteTriggerRef=s.first),e.mGM(s=e.lsd())&&(n.noteTemplateRef=s.first)}},inputs:{entityGuid:[e.Mj6.SignalBased,"entityGuid"]},standalone:!0,features:[e.aNF],decls:22,vars:12,consts:[["noteTemplate",""],["noteTrigger",""],["appearance","raised",1,"eav-card-group-parent","shadow-bottom-z-1"],["fxLayout","row","fxLayoutAlign","start center",1,"eav-card-header-group-parent"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"eav-card-title-group","mat-headline-4"],[1,"title-arrow"],[1,"title"],["type","button","mat-icon-button","",3,"class","disabled","tippy","tippyDisabled","disableRipple"],[1,"empty-slot-toggle",3,"checked","disabled","tippy","tippyDisabled"],[1,"icon-box",3,"tippy"],["type","button","mat-icon-button","",3,"tippy","disabled"],["fxLayoutAlign","end center",3,"entityGuid"],[1,"eav-card-content-group-parent"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appEditControlsBuilder",""],["type","button","mat-icon-button","",3,"pointerenter","pointerleave","click","disabled","tippy","tippyDisabled","disableRipple"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"pointerdown"],["cdkDragHandle","",1,"eav-note-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"click"],[1,"eav-note-content","eav-hide-scrollbar",3,"innerHtml"],[1,"empty-slot-toggle",3,"change","checked","disabled","tippy","tippyDisabled"],["type","button","mat-icon-button","",3,"click","tippy","disabled"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"mat-card",2)(1,"div",3)(2,"div",4),e.bIt("click",function(){return e.eBV(s),e.Njj(n.toggleCollapse())}),e.j41(3,"div",5)(4,"mat-icon",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,$0,5,10,"button",8)(10,H0,13,6,"ng-template",null,0,e.C5r)(12,U0,2,6,"mat-slide-toggle",9)(13,X0,3,1,"div",10)(14,W0,4,4,"button",11),e.nrm(15,"app-entity-translate-menu",12),e.k0s(),e.j41(16,"mat-card-content",13)(17,"div",14)(18,"div",15),e.DNE(19,J0,3,3,"div",16),e.j41(20,"div",17),e.eu8(21,18),e.k0s()()()()()}2&i&&(e.R7$(5),e.SpI(" ",n.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.ctSettings().itemTitle||e.bMT(8,10,"ItemCard.DefaultTitle")," "),e.R7$(2),e.vxM(9,n.ctSettings().showNotes?9:-1),e.R7$(3),e.vxM(12,n.ctSettings().slotCanBeEmpty?12:-1),e.R7$(),e.vxM(13,n.ctSettings().showMdFor&&n.itemForTooltip()?13:-1),e.R7$(),e.vxM(14,n.formConfig.config.enableHistory?14:-1),e.R7$(),e.Y8G("entityGuid",n.entityGuid()),e.R7$(),e.xc7("display",n.collapse?"none":"block"),e.R7$(3),e.vxM(19,n.ctSettings().editInstructions?19:-1))},dependencies:[h.Hu,h.RN,h.m2,bt,Lt,Dt,Ln,P.m_,P.An,p.Hl,p.iY,Ai.T1,Ai.Fb,Fi.mV,Fi.sG,Lm,y,Y0,T.h,T.D9,qe.e,f.$,Ro.z],styles:[".eav-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width: 600px){.eav-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.eav-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.eav-card-header-group-parent[_ngcontent-%COMP%]:not(:hover)   .no-note[_ngcontent-%COMP%]{display:none}.eav-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding:0}.eav-card-content-group-parent[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.empty-slot-toggle[_ngcontent-%COMP%]{padding-top:0}.icon-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.eav-note.item-not-saved[_ngcontent-%COMP%]{cursor:default}.eav-note[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d9ca1f}.eav-note.has-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e90000}.eav-note-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:300px;min-height:300px;max-height:400px;box-sizing:border-box;overflow:hidden;background-color:#fff79f}.eav-note-wrapper.warning[_ngcontent-%COMP%]{background-color:#ffdede}.eav-note-content[_ngcontent-%COMP%]{flex-shrink:1;overflow:auto}.eav-note-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end;cursor:move;margin-top:-16px;margin-left:-16px;margin-right:-16px;padding-top:8px;padding-left:8px;padding-right:8px}"]})}return a})(),Z0=(()=>{class a{constructor(t,i,n,s){this.fieldsSettingsSvc=t,this.adamCacheSvc=i,this.formBuilder=n,this.entityFormConfigSvc=s,this.log=(0,ee.T)({FormFieldsBuilderService:a},null)}createFields(t,i,n){const s=this.log.fn("createFields"),o=n.filter(({inputType:l,hasControl:u})=>!ht.Q.isEmpty(l)&&!u);this.log.a(`create missing controls ${o.length} of ${n.length}`,{fieldsForNgForm:o});for(const l of o){const{name:u,props:_,inputType:b,value:S}=l;let j=S;if(b===oe.u.StringWysiwyg&&j){const xe=Bt.singleton().get(oe.u.StringWysiwyg),Ne=this.adamCacheSvc.getAdamSnapshot(t,u);l.value=j=xe.processValueOnLoad(j,Ne)}const J=_.settings.uiDisabled,ue=new Sl(u,b,this.fieldsSettingsSvc.settings[u],this.fieldsSettingsSvc),ve=Ma.getValidators(ue,b),ke=this.formBuilder.control({disabled:J,value:j},ve);i.addControl(u,ke),Ma.ensureWarning(i.controls[u])}this.entityFormConfigSvc.controlsCreated.set(!0),s.end()}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(Kt),e.KVO(Tn),e.KVO(M.ze),e.KVO(wi))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const q0={keepFieldsAndStateInSync:!0};let ey=(()=>{class a extends Ci.V{constructor(){super(),this.log=(0,ee.T)({FormFieldsSyncService:a},q0)}keepFieldsAndStateInSync(t,i){const n=this.log.fnIf("keepFieldsAndStateInSync");this.subscriptions.add(i.subscribe(s=>{const o=s.filter(b=>b.hasControl);n.a(`sync values for max ${o.length} controls`);const l=t.getRawValue(),u={};for(const{name:b,value:S}of o)u[b]=S;const _=fn.$.getItemValuesChanges(l,u);null!=_?(n.a(`patching form as it changed (${Object.keys(_).length}`,{changes:_,oldValues:l,newValues:u}),t.patchValue(_)):n.a("no changes detected",{oldValues:l,newValues:u}),n.a('sync "disabled" state');for(const{control:b,props:S}of o)Ii.a.disable(b,S.settings.uiDisabled);n.a("run validators");for(const{control:b}of o)b.updateValueAndValidity()})),n.end()}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),ty=(()=>{class a extends Ci.V{constructor(t,i,n,s){super(),this.entityFormSvc=t,this.formsStateSvc=i,this.formConfig=n,this.itemSvc=s,this.log=(0,ee.T)({EntityFormSyncService:a})}setupSync(t){const i=this.entityFormSvc.formGroup;this.subscriptions.add(i.valueChanges.pipe((0,F.T)(()=>i.dirty),(0,I.Z)(i.dirty)).subscribe(o=>{this.formsStateSvc.setFormDirty(t,o)}));const n=i.valueChanges.pipe((0,F.T)(()=>!i.invalid),(0,I.Z)(!i.invalid),(0,$t.J)(o=>o)),s=this.itemSvc.getItemHeader$(t);this.subscriptions.add((0,Y.z)([n,s]).pipe((0,$t.J)(([o,l])=>l?.IsEmpty||o)).subscribe(o=>{this.formsStateSvc.setFormValid(t,o)})),this.subscriptions.add(i.valueChanges.pipe((0,F.T)(()=>i.getRawValue()),(0,en.F)((o,l)=>null==fn.$.getItemValuesChanges(o,l))).subscribe(o=>{const l=this.formConfig.language();this.itemSvc.updater.updateItemAttributesValues(t,o,l)}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(wi),e.KVO(pt),e.KVO(Re.S),e.KVO(lt))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const iy={all:!0,getFieldsToProcess:!1,ngOnInit:!1,fieldsToProcess$:!0};let dl=(()=>{class a{#e;#t;#i;#n;#a;#s;#r;#o;constructor(){this.log=(0,ee.T)({EntityFormBuilderComponent:a},iy),this.#e=(0,e.WQX)(wi),this.#t=(0,e.WQX)(Hi),this.#i=(0,e.WQX)(Si),this.#n=(0,e.WQX)(Kt),this.#a=(0,e.WQX)(e.zZn),this.#s=(0,we.d)(Z0),this.#r=(0,we.d)(ey),this.#o=(0,we.d)(ty),this.form=this.#e.formGroup}ngOnInit(){const t=this.entityGuid,i=this.log.fnIf("ngOnInit",{entityGuid:t});this.#n.init(t),this.#t.itemSettingsServices[t]=this.#n,this.#i.init(t);const n=this.getFieldsToProcess$(t);n.pipe((0,dt.s)(1)).subscribe(s=>this.#s.createFields(t,this.form,s)),this.#r.keepFieldsAndStateInSync(this.form,n),this.#o.setupSync(t),i.end()}ngOnDestroy(){this.#n.disableForCleanUp(),Object.values(this.form.controls).forEach(t=>{t._warning$.complete()})}getFieldsToProcess$(t){const i=this.log.fnIf("getFieldsToProcess",null,t),n=this.form,s=this.#n.allProps,l=(0,Qt.br)(s,{injector:this.#a}).pipe((0,Ct.p)(u=>null!=u&&Object.keys(u).length>0),(0,F.T)(u=>{const _=Object.entries(u).map(([b,S])=>{const j=n.controls.hasOwnProperty(b);return{name:b,props:S,inputType:S.constants.inputTypeSpecs.inputType,value:S.value,hasControl:j,control:j?n.controls[b]:null}});return this.log.aIf("fieldsToProcess$",{entityGuid:t,fields:_}),_}));return i.rSilent(l)}static#l=this.\u0275fac=function(i){return new(i||a)};static#d=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form-builder"]],inputs:{entityGuid:"entityGuid"},standalone:!0,features:[e.Jv_([Kt,Si,wi]),e.aNF],decls:2,vars:2,consts:[[1,"dynamic-form",3,"formGroup"],[3,"entityGuid"]],template:function(i,n){1&i&&(e.j41(0,"form",0),e.nrm(1,"app-edit-entity-form",1),e.k0s()),2&i&&(e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("entityGuid",n.entityGuid))},dependencies:[M.YN,M.qT,M.cb,M.X1,M.j4,K0],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"]})}return a})();class ny{static valuesToDto(r){const t={};for(const i of r.Values)t[i.Dimensions.map(s=>s.Value).join()]=i.Value;return t}}class ay{static attributesToDto(r){const t={};for(const[i,n]of Object.entries(r)){const s=n.Type;null==t[s]&&(t[s]={}),t[s][i]=ny.valuesToDto(n)}return t}}class js{static entityToDto(r){const t=ay.attributesToDto(r.Attributes),i=this.entitiesToDto(r.Metadata);return{Attributes:t,Guid:r.Guid,Id:r.Id,Owner:r.Owner,Type:r.Type,Version:r.Version,For:r.For,Metadata:i}}static entitiesToDto(r){return null==r?null:r.map(i=>js.entityToDto(i))}}class sy{static bundleToDto(r){return{Entity:js.entityToDto(r.Entity),Header:r.Header}}}function ry(a,r){if(1&a&&(e.j41(0,"div")(1,"span"),e.EFF(2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&a){const t=r.$implicit;e.R7$(2),e.JRh(t.field),e.R7$(2),e.SpI(": ",e.bMT(5,2,t.message),"")}}let oy=(()=>{class a{constructor(t){this.snackBarData=t}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(zt.ht))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-save-errors"]],standalone:!0,features:[e.aNF],decls:7,vars:3,consts:[[1,"save-errors-container"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"br"),e.Z7z(5,ry,6,4,"div",null,e.fX1),e.k0s()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"Errors.SaveErrors")),e.R7$(3),e.Dyx(n.snackBarData.fieldErrors))},dependencies:[T.h,T.D9],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"]})}return a})(),ly=(()=>{class a{constructor(t,i){this.snackRef=t,this.snackBarData=i}saveChanges(t){this.snackBarData.save=t,this.snackRef.dismissWithAction()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(zt.TQ),e.rXU(zt.ht))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-unsaved-changes"]],standalone:!0,features:[e.aNF],decls:12,vars:13,consts:[[1,"error-message"],["fxLayoutAlign","end end"],["mat-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",1)(4,"button",2),e.bIt("click",function(){return n.saveChanges(!1)}),e.EFF(5),e.nI1(6,"translate"),e.nI1(7,"uppercase"),e.k0s(),e.j41(8,"button",2),e.bIt("click",function(){return n.saveChanges(!0)}),e.EFF(9),e.nI1(10,"translate"),e.nI1(11,"uppercase"),e.k0s()()),2&i&&(e.R7$(),e.JRh(e.bMT(2,3,"Errors.UnsavedChanges")),e.R7$(4),e.SpI(" ",e.bMT(7,7,e.bMT(6,5,"General.Buttons.NotSave"))," "),e.R7$(4),e.SpI(" ",e.bMT(11,11,e.bMT(10,9,"General.Buttons.Save"))," "))},dependencies:[bt,Dt,p.Hl,p.$z,V.Pc,T.h,T.D9],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}"]})}return a})();const dy={Data:"data",Formulas:"formulas",Logs:"logs"},cy=(a,r)=>({"log-error":a,"log-warn":r});function uy(a,r){1&a&&(e.j41(0,"div"),e.EFF(1,"Logs are empty"),e.k0s())}function my(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"span",2),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"span",3),e.EFF(5),e.k0s(),e.j41(6,"span",4),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.logToConsole(n))}),e.EFF(7," console "),e.k0s()()}if(2&a){const t=r.$implicit,i=e.XpG();e.Y8G("ngClass",e.l_i(6,cy,t.severity===i.LogSeverities.Error,t.severity===i.LogSeverities.Warn)),e.R7$(2),e.SpI("",e.i5U(3,3,t.time,"HH:mm:ss"),":"),e.R7$(3),e.JRh(t.label)}}let hy=(()=>{class a{constructor(t){this.loggingService=t,this.LogSeverities=pi,this.logs=this.loggingService.getLogsSignal()}logToConsole(t){switch(t.severity){case pi.Log:console.log(t.label,t.error);break;case pi.Warn:console.warn(t.label,t.error);break;case pi.Error:console.error(t.label,t.error)}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(kn))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-logs-dump"]],standalone:!0,features:[e.aNF],decls:4,vars:1,consts:[[1,"logs-box","fancy-scrollbar-light"],[1,"log-entry",3,"ngClass"],[1,"log-entry-part","log-entry-time"],[1,"log-entry-part","log-entry-label"],["tippy","Log to console",1,"log-entry-part","log-entry-show",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,uy,2,0,"div"),e.Z7z(2,my,8,9,"div",1,e.fX1),e.k0s()),2&i&&(e.R7$(),e.vxM(1,0===n.logs().length?1:-1),e.R7$(),e.Dyx(n.logs()))},dependencies:[V.YU,z.Cc,z.PW,V.vh],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex}.logs-box[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto;font-size:14px}.log-entry[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box;border-bottom:1px solid rgb(240,240,240);padding-top:2px;padding-bottom:2px}.log-entry[_ngcontent-%COMP%]   .log-entry-part[_ngcontent-%COMP%]:not(:first-of-type){margin-left:8px}.log-error[_ngcontent-%COMP%]{color:red;border-color:#ffd6d6;background-color:#fff0f0}.log-warn[_ngcontent-%COMP%]{color:#5c3c00;border-color:#fff5c2;background-color:#fffbe5}.log-entry-time[_ngcontent-%COMP%]{flex:0 0 auto}.log-entry-label[_ngcontent-%COMP%]{flex:1 1 auto}.log-entry-show[_ngcontent-%COMP%]{flex:0 0 auto;color:#06599a;font-size:12px;text-decoration:underline;cursor:pointer}"]})}return a})();var py=g(6817),gy=g(519);const ga={Entity:"entityGuid",Field:"fieldValue",Target:"formulaTarget"};let fy=(()=>{class a{constructor(){this.maxLength=24}transform(t){return t.length<=this.maxLength?t:`\u2026${t.substring(t.length-this.maxLength)}`}static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275pipe=e.EJ8({name:"snippetLabelSize",type:a,pure:!0,standalone:!0})}return a})();const _y=(a,r)=>r.entityGuid,by=(a,r)=>r.fieldName,cl=(a,r)=>r.code,vy=(a,r)=>({disabled:a,focused:r}),yy=a=>({disabled:a}),Ns=a=>({"has-formula":a});function wy(a,r){if(1&a&&(e.j41(0,"mat-option",4)(1,"span",26),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("value",t.entityGuid),e.R7$(),e.Y8G("ngClass",e.eq3(3,Ns,t.hasFormula)),e.R7$(),e.SpI(" ",t.label," ")}}function ky(a,r){if(1&a&&(e.j41(0,"mat-option",4)(1,"span",26),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("value",t.fieldName),e.R7$(),e.Y8G("ngClass",e.eq3(3,Ns,t.hasFormula)),e.R7$(),e.SpI(" ",t.fieldName," ")}}function xy(a,r){if(1&a&&(e.j41(0,"mat-option",4)(1,"span",26),e.EFF(2),e.k0s()()),2&a){const t=r.$implicit;e.Y8G("value",t.target),e.R7$(),e.Y8G("ngClass",e.eq3(3,Ns,t.hasFormula)),e.R7$(),e.SpI(" ",t.label," ")}}function Cy(a,r){if(1&a){const t=e.RV6();e.j41(0,"mat-select",5),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedChanged(s.SelectTargets.Target,n))}),e.Z7z(1,xy,3,5,"mat-option",4,e.fX1),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngModel",t.state().target)("disabled",null==t.state().entityGuid||null==t.state().fieldName),e.R7$(),e.Dyx(t.targetOptions())}}function My(a,r){if(1&a){const t=e.RV6();e.j41(0,"input",27),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectedChanged(s.SelectTargets.Target,n))}),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngModel",t.state().target)("disabled",null==t.state().entityGuid||null==t.state().fieldName)}}function Dy(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.copyToClipboard(n.code))}),e.EFF(1),e.nI1(2,"snippetLabelSize"),e.k0s()}if(2&a){const t=r.$implicit;e.Y8G("title",t.code),e.R7$(),e.SpI(" ",e.bMT(2,2,t.label)," ")}}function Ty(a,r){1&a&&e.nrm(0,"div",16)}function Sy(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.copyToClipboard(n.code))}),e.EFF(1),e.nI1(2,"snippetLabelSize"),e.k0s()}if(2&a){const t=r.$implicit;e.Y8G("title",t.code),e.R7$(),e.SpI(" ",e.bMT(2,2,t.label)," ")}}function Fy(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"json"),e.k0s()),2&a){const t=e.XpG(4);e.R7$(),e.JRh(e.bMT(2,1,t.result().value))}}function Ay(a,r){1&a&&(e.j41(0,"span",29),e.EFF(1,"undefined"),e.k0s())}function Iy(a,r){1&a&&(e.j41(0,"span"),e.EFF(1,"promise(\u{1f91e}\u{1f3fd})"),e.k0s())}function Ey(a,r){if(1&a&&e.DNE(0,Fy,3,3,"span")(1,Ay,2,0)(2,Iy,2,0),2&a){const t=e.XpG(3);e.vxM(0,void 0!==t.result().value?0:t.result().isOnlyPromise?2:1)}}function Oy(a,r){1&a&&(e.j41(0,"span",30),e.EFF(1," Calculation failed. Please check console for more info "),e.k0s())}function Ly(a,r){if(1&a&&e.DNE(0,Ey,3,1)(1,Oy,2,0),2&a){const t=e.XpG(2);e.vxM(0,t.result().isError?1:0)}}function Py(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.save())}),e.j41(1,"mat-icon"),e.EFF(2,"save"),e.k0s()()}if(2&a){let t,i;const n=e.XpG(2);e.Y8G("tippyDisabled",!n.state().editMode||!(null!=(t=n.currentFormula())&&t.sourceCode))("disabled",!n.state().editMode||!(null!=(i=n.currentFormula())&&i.sourceCode)||n.saving())}}function Ry(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),e.EFF(3,"Entity"),e.k0s(),e.j41(4,"mat-select",3),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectedChanged(s.SelectTargets.Entity,n))}),e.Z7z(5,wy,3,5,"mat-option",4,_y),e.k0s()(),e.j41(7,"mat-form-field",2)(8,"mat-label"),e.EFF(9,"Attribute"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectedChanged(s.SelectTargets.Field,n))}),e.Z7z(11,ky,3,5,"mat-option",4,by),e.k0s()(),e.j41(13,"mat-form-field",2)(14,"mat-label"),e.EFF(15,"Target"),e.k0s(),e.DNE(16,Cy,3,2,"mat-select",6)(17,My,1,2),e.k0s(),e.j41(18,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleFreeText())}),e.j41(19,"mat-icon"),e.EFF(20,"text_fields"),e.k0s()(),e.nrm(21,"div",8),e.j41(22,"a",9)(23,"mat-icon"),e.EFF(24,"help"),e.k0s()()(),e.j41(25,"div",10)(26,"div",11)(27,"mat-label",12),e.EFF(28,"Function"),e.k0s(),e.j41(29,"app-monaco-editor",13),e.bIt("valueChanged",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.formulaChanged(n))})("focused",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFocused(!0))})("blurred",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFocused(!1))}),e.k0s()(),e.j41(30,"div",14),e.Z7z(31,Dy,3,4,"div",15,cl),e.DNE(33,Ty,1,0,"div",16),e.Z7z(34,Sy,3,4,"div",15,cl),e.k0s()(),e.j41(36,"div",17)(37,"div",18)(38,"span",12),e.EFF(39,"Result:\xa0"),e.k0s(),e.DNE(40,Ly,2,1),e.k0s(),e.j41(41,"div",19)(42,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleEdit())}),e.j41(43,"mat-icon"),e.EFF(44,"edit"),e.k0s()(),e.j41(45,"button",21)(46,"mat-icon"),e.EFF(47,"more_vert"),e.k0s()(),e.j41(48,"mat-menu",null,0)(50,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteFormula())}),e.j41(51,"mat-icon"),e.EFF(52,"delete"),e.k0s(),e.j41(53,"span"),e.EFF(54,"Delete"),e.k0s()(),e.j41(55,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.reset())}),e.j41(56,"mat-icon"),e.EFF(57,"history"),e.k0s(),e.j41(58,"span"),e.EFF(59,"Reset"),e.k0s()()(),e.DNE(60,Py,3,2,"button",24),e.j41(61,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.run())}),e.j41(62,"mat-icon"),e.EFF(63,"play_arrow"),e.k0s()()()()}if(2&a){let t,i,n,s;const o=e.sdS(49),l=e.XpG();e.R7$(4),e.Y8G("ngModel",l.state().entityGuid),e.R7$(),e.Dyx(l.entityOptions()),e.R7$(5),e.Y8G("ngModel",l.state().fieldName)("disabled",null==l.state().entityGuid),e.R7$(),e.Dyx(l.fieldsOptions()),e.R7$(5),e.vxM(16,l.freeTextTarget?17:16),e.R7$(2),e.Y8G("disabled",null==l.state().entityGuid||null==l.state().fieldName),e.R7$(8),e.Y8G("ngClass",e.l_i(17,vy,!l.state().editMode||null==l.state().entityGuid||null==l.state().fieldName||null==l.state().target,l.focused)),e.R7$(3),e.Y8G("filename",l.filename)("value",null!==(t=null==(t=l.currentFormula())?null:t.sourceCode)&&void 0!==t?t:l.template())("jsTypings",l.v2JsTypings())("options",l.monacoOptions),e.R7$(),e.Y8G("ngClass",e.eq3(20,yy,!l.state().editMode)),e.R7$(),e.Dyx(l.v1DataSnippets()),e.R7$(2),e.vxM(33,null!=(i=l.v1DataSnippets())&&i.length&&l.v1ContextSnippets().length?33:-1),e.R7$(),e.Dyx(l.v1ContextSnippets()),e.R7$(6),e.vxM(40,null==l.result()||l.isDeleted()?-1:40),e.R7$(5),e.Y8G("matMenuTriggerFor",o),e.R7$(5),e.Y8G("disabled",!(null!=(n=l.currentFormula())&&n.sourceCodeId)),e.R7$(10),e.vxM(60,l.allowSaveFormula?60:-1),e.R7$(),e.Y8G("disabled",!l.state().editMode||!(null!=(s=l.currentFormula())&&s.sourceCode))}}let Vy=(()=>{class a{#e;#t;constructor(t,i,n,s,o){this.snackBar=t,this.formConfig=i,this.itemService=n,this.contentTypeService=s,this.translate=o,this.log=(0,ee.T)({FormulaDesignerComponent:a}),this.#e=(0,e.WQX)(Hi),this.#t=(0,we.d)(py.R),this.SelectTargets=ga,this.loadError=!1,this.freeTextTarget=!1,this.allowSaveFormula=this.formConfig.config.enableFormulaSave,this.isDeleted=(0,e.vPA)(!1),this.saving=(0,e.vPA)(!1),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},this.filename=`formula${this.formConfig.config.formId}.js`,this.focused=!1,this.state=this.#e.designerState,this.result=this.#e.formulaResult,this.targetOptions=this.#e.currentTargetOptions,this.entityOptions=this.#e.entityOptions,this.fieldsOptions=this.#e.fieldsOptions,this.currentFormula=this.#e.currentFormula,this.v2JsTypings=this.#e.v2JsTypings,this.v1ContextSnippets=this.#e.v1ContextSnippets,this.v1DataSnippets=this.#e.v1DataSnippets,this.template=(0,e.EWP)(()=>Object.values(ri).includes(this.state().target)?"v2((data, context, item) => {\n  return data.value;\n});":"v2((data, context) => {\n  return data.value;\n});")}ngOnInit(){this.loadError=!1,Object.keys(this.#e.itemSettingsServices).length<1?this.loadError=!0:(this.#e.setDesignerOpen(!0),this.#e.initAfterItemSettingsAreReady())}ngOnDestroy(){this.#e.setDesignerOpen(!1)}selectedChanged(t,i){const n={...this.#e.designerState(),editMode:!1};switch(t){case ga.Entity:n.entityGuid=i;const s=this.#e.itemSettingsServices[n.entityGuid];n.fieldName=Object.keys(s.allProps())[0];break;case ga.Field:n.fieldName=i;break;case ga.Target:n.target=i}this.#e.designerState.set(n)}toggleFreeText(){this.freeTextTarget=!this.freeTextTarget}formulaChanged(t){this.#e.cache.updateFormulaFromEditor(this.#i,t,!1)}onFocused(t){this.focused=t}copyToClipboard(t){(0,gy.l)(t),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}toggleEdit(){const t=this.#e.designerState(),i={...t,editMode:!t.editMode};this.#e.designerState.set(i),i.editMode&&null==this.#e.currentFormula()&&this.#e.cache.updateFormulaFromEditor(this.#i,this.template(),!1)}reset(){const t={...this.#e.designerState(),editMode:!1},i=this.#i;this.#e.designerState.set(t),this.#e.cache.resetFormula(i),this.#e.itemSettingsServices[i.entityGuid].retriggerFormulas("designer-reset")}run(){const t=this.#i,i=this.#e.currentFormula();this.#e.cache.updateFormulaFromEditor(t,i.sourceCode,!0),this.#e.itemSettingsServices[t.entityGuid].retriggerFormulas("designer-run"),this.isDeleted.set(!1)}get#i(){const t=this.#e.designerState();return{entityGuid:t.entityGuid,fieldName:t.fieldName,target:t.target}}save(){this.saving.set(!0);const t=this.#e.currentFormula();if(null==t.sourceCodeId){const i=this.itemService.get(t.entityGuid),s=this.contentTypeService.getAttributeOfItem(i,t.fieldName).Metadata.find(o=>"@All"===o.Type.Id);return s?void this.#t.create(H.YX.contentTypes.formulas,{Title:t.target,Target:t.target,Formula:t.sourceCode,Enabled:!0,ParentRelationship:se.c.relationship(s.Guid,"Formulas")}).subscribe(o=>{this.#e.cache.updateSaved(t,o.Guid,o.Id),this.snackBar.open("Formula saved",null,{duration:2e3}),this.saving.set(!1)}):(this.snackBar.open("Field configuration is missing. Please create formula in Administration",void 0,{duration:3e3}),void this.saving.set(!1))}this.#t.update(H.YX.contentTypes.formulas,t.sourceCodeId,{Formula:t.sourceCode}).subscribe(()=>{this.#e.cache.updateSaved(t,t.sourceCodeGuid,t.sourceCodeId),this.snackBar.open("Formula saved",null,{duration:2e3}),this.saving.set(!1)})}deleteFormula(){const t=this.#e.designerState(),i=this.#e.currentFormula();confirm(this.translate.instant("Data.Delete.Question",{title:i.fieldName+" - "+i.target,id:i.sourceCodeId}))&&this.#t.delete(H.YX.contentTypes.formulas,i.sourceCodeId,!0).subscribe({next:()=>{this.#e.cache.delete(i),this.snackBar.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.isDeleted.set(!0),t.editMode&&this.toggleEdit()},error:l=>{this.snackBar.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}})}static#n=this.\u0275fac=function(i){return new(i||a)(e.rXU(zt.UG),e.rXU(Re.S),e.rXU(lt),e.rXU(ai),e.rXU(T.c$))};static#a=this.\u0275cmp=e.VBU({type:a,selectors:[["app-formula-designer"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["menu","matMenu"],[1,"formula-context-box"],["color","accent",1,"eav-mat-form-field"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"ngModelChange","ngModel","disabled"],[3,"ngModel","disabled"],["mat-icon-button","","tippy","FreeText Target",1,"eav-formula-button",3,"click","disabled"],[1,"spacer"],["mat-icon-button","","tippy","Help","href","https://go.2sxc.org/formulas","target","_blank",1,"eav-formula-button"],[1,"formula-box"],[1,"formula-field",3,"ngClass"],[1,"label"],[1,"editor",3,"valueChanged","focused","blurred","filename","value","jsTypings","options"],[1,"formula-snippets","fancy-scrollbar-light",3,"ngClass"],[1,"snippet",3,"title"],[1,"separator"],[1,"formula-footer-box"],[1,"formula-result-box","hide-scrollbar"],[1,"formula-actions-box"],["mat-icon-button","","tippy","Edit",3,"click"],["mat-icon-button","","tippy","Menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disabled"],["mat-menu-item","",3,"click"],["mat-icon-button","","tippy","Save",3,"tippyDisabled","disabled"],["mat-icon-button","","tippy","Run",3,"click","disabled"],[3,"ngClass"],["matInput","",3,"ngModelChange","ngModel","disabled"],[1,"snippet",3,"click","title"],[1,"result-undefined"],[1,"result-error"],["mat-icon-button","","tippy","Save",3,"click","tippyDisabled","disabled"]],template:function(i,n){1&i&&e.DNE(0,Ry,64,22),2&i&&e.vxM(0,n.loadError?-1:0)},dependencies:[ge.RG,ge.rl,ge.nJ,Bi.Ve,Bi.VO,U.wT,M.YN,M.me,M.BC,M.vS,U.Sy,V.YU,z.Cc,z.PW,it.fS,it.fg,p.Hl,p.pQ,p.iY,P.m_,P.An,nl.K,Ke.Cn,Ke.kk,Ke.fb,Ke.Cp,V.TG,fy,qe.e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;box-sizing:border-box;overflow:hidden;border-top:1px solid lightgray;padding-top:8px}.formula-context-box[_ngcontent-%COMP%]{display:flex;align-items:center}.formula-context-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px}.formula-context-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]:not(:first-of-type){margin-left:8px}.has-formula[_ngcontent-%COMP%]{font-weight:700}.formula-box[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;overflow:hidden}.formula-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{flex:0 1 auto;font-size:14px;width:100%}.formula-box[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:monospace}.formula-box[_ngcontent-%COMP%]   .formula-field[_ngcontent-%COMP%]{flex:0 1 auto;width:100%;overflow:hidden;margin-bottom:6px}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]{flex:0 0 auto;max-width:200px;max-height:194px;overflow:hidden auto;padding-left:2px}.formula-box[_ngcontent-%COMP%]   .formula-snippets.disabled[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;white-space:nowrap;padding-top:1px;padding-bottom:1px}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]:first-of-type{padding-top:0}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .snippet[_ngcontent-%COMP%]:last-of-type{padding-bottom:0}.formula-box[_ngcontent-%COMP%]   .formula-snippets[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-top:.5em;margin-bottom:.5em;border-bottom:1px solid rgba(29,39,61,.44)}.formula-footer-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;overflow:hidden;height:min-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;height:-moz-fit-content;height:fit-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500}.formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .result-undefined[_ngcontent-%COMP%], .formula-footer-box[_ngcontent-%COMP%]   .formula-result-box[_ngcontent-%COMP%]   .result-error[_ngcontent-%COMP%]{color:red}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;height:-moz-fit-content;height:fit-content}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]   .mdc-icon-button[_ngcontent-%COMP%]{margin-left:0;width:30px;height:30px;line-height:30px;padding:0;flex-shrink:0}.formula-footer-box[_ngcontent-%COMP%]   .formula-actions-box[_ngcontent-%COMP%]   .mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:5px;font-size:20px;width:20px;height:20px;line-height:20px!important}.formula-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.formula-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.formula-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.formula-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.formula-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.formula-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.formula-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.formula-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.formula-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.formula-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.formula-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})}return a})(),Yy=(()=>{class a{constructor(t,i){this.itemService=t,this.formConfig=i,this.items=this.itemService.getManySignal(this.formConfig.config.itemGuids)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(lt),e.rXU(Re.S))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-data-dump"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[["readonly","",1,"fancy-scrollbar-light"]],template:function(i,n){1&i&&(e.j41(0,"textarea",0),e.EFF(1),e.nI1(2,"json"),e.k0s()),2&i&&(e.R7$(),e.JRh(e.bMT(2,1,n.items())))},dependencies:[V.TG],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex}textarea[_ngcontent-%COMP%]{flex:1 1 auto;margin:0;padding:10px 0 10px 10px;border:0px;box-sizing:border-box;resize:none;outline:none;background-color:#1d273d0a}"]})}return a})();var ul=g(8798);const ml="user-settings";let hl=(()=>{class a{constructor(){this.log=(0,ee.T)({UserSettings:a}),this.#n={},this.log.fn("constructor")}get local(){return this.#e??=new ul.Yz(ml)}#e;get session(){return this.#t??=new ul.pj(ml)}#t;get(t,i=!1){return(i?this.local:this.session).get(t)}set(t,i,n=!1){(n?this.local:this.session).add(t,i)}part({key:t,data:i}){return this.#i(t,i,!0)}#i(t,i,n=!1){if(this.#n[t])return this.#n[t];const s=new zs(this,t,i,n);return this.#n[t]=s,s}#n;static#a=this.\u0275fac=function(i){return new(i||a)};static#s=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class zs{constructor(r,t,i,n=!1){this.userSettings=r,this.storeKey=t,this.longTerm=n,this.log=(0,ee.T)({UserSettingsPart:zs});const s={...i,...r.get(t,n)};this.log.fn("constructor",s),this.#e=(0,e.vPA)(s)}#e;get snapshot(){return this.#e()}get data(){return this.#e.asReadonly()}get(r){return this.#e()[r]}set(r,t){this.#e.update(i=>({...i,[r]:t})),this.#t()}setAll(r){this.#e.set(r),this.#t()}setMany(r){this.#e.update(t=>({...t,...r})),this.#t()}#t(){const r=this.#e();this.log.fn("save",r),this.userSettings.set(this.storeKey,this.#e(),this.longTerm)}}var pl;const jy=a=>({"debug-enabled":a});function Ny(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSize())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(t.userSettings().expanded?"unfold_less":"expand")}}function zy(a,r){1&a&&(e.j41(0,"button",10)(1,"mat-icon"),e.EFF(2,"info"),e.k0s()())}function By(a,r){1&a&&e.nrm(0,"app-data-dump")}function Gy(a,r){1&a&&e.nrm(0,"app-formula-designer")}function $y(a,r){1&a&&e.nrm(0,"app-logs-dump")}function Hy(a,r){if(1&a&&(e.j41(0,"div",8),e.DNE(1,By,1,0)(2,Gy,1,0)(3,$y,1,0),e.k0s()),2&a){let t;const i=e.XpG();e.Y8G("ngClass","size"+(i.userSettings().expanded?"-xl":"")),e.R7$(),e.vxM(1,(t=i.userSettings().tab)===i.DebugTypes.Data?1:t===i.DebugTypes.Formulas?2:t===i.DebugTypes.Logs?3:-1)}}let Bs=(()=>{class a{constructor(){this.log=(0,ee.T)({EditDialogFooterComponent:a}),this.DebugTypes=dy,this.sxcVer=window.sxcVersion.substring(0,window.sxcVersion.lastIndexOf(".")),this.#t=(0,e.WQX)(hl).part(pl.userSettings),this.userSettings=this.#t.data}static#e=this.userSettings={key:"edit-dialog-footer",data:{tab:null,expanded:!1,size:0}};#t;toggleDialog(t){const i=this.userSettings(),n=i.tab===t,o=!n&&i.expanded;this.#t.setAll({tab:n?null:t,expanded:o,size:n?0:o?2:1})}toggleSize(){const t=!this.userSettings().expanded;this.#t.setMany({expanded:t,size:t?2:1})}static#i=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-footer"]],standalone:!0,features:[e.aNF],decls:23,vars:6,consts:[["appearance","raised",1,"mat-elevation-z4",3,"ngClass"],[1,"debug-buttons-container"],["mat-button","","tippy","Show Data JSON",3,"click"],["mat-button","","tippy","Show Formula Designer",3,"click"],["mat-button","","tippy","Show Logs",3,"click"],[1,"spacer"],["mat-icon-button","","tippy","expand/shrink"],[1,"sxc-version"],[1,"debug-info-container",3,"ngClass"],["mat-icon-button","","tippy","expand/shrink",3,"click"],["mat-icon-button","","tippy","Developer tools are only visible to developers."]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return n.toggleDialog(n.DebugTypes.Data)}),e.j41(3,"mat-icon"),e.EFF(4,"offline_bolt"),e.k0s(),e.j41(5,"span"),e.EFF(6,"Data"),e.k0s()(),e.j41(7,"button",3),e.bIt("click",function(){return n.toggleDialog(n.DebugTypes.Formulas)}),e.j41(8,"mat-icon"),e.EFF(9,"functions"),e.k0s(),e.j41(10,"span"),e.EFF(11,"Formulas"),e.k0s()(),e.j41(12,"button",4),e.bIt("click",function(){return n.toggleDialog(n.DebugTypes.Logs)}),e.j41(13,"mat-icon"),e.EFF(14,"speed"),e.k0s(),e.j41(15,"span"),e.EFF(16,"Logs"),e.k0s()(),e.nrm(17,"div",5),e.DNE(18,Ny,3,1,"button",6)(19,zy,3,0),e.j41(20,"div",7),e.EFF(21),e.k0s()(),e.DNE(22,Hy,4,2,"div",8),e.k0s()),2&i&&(e.Y8G("ngClass",e.eq3(4,jy,null!=n.userSettings().tab)),e.R7$(18),e.vxM(18,null!=n.userSettings().tab?18:19),e.R7$(3),e.SpI(" 2sxc ",n.sxcVer," "),e.R7$(),e.vxM(22,null!=n.userSettings().tab?22:-1))},dependencies:[h.Hu,h.RN,V.YU,z.Cc,z.PW,p.Hl,p.$z,p.iY,P.m_,P.An,Yy,Vy,hy,qe.e],styles:[".mat-mdc-card[_ngcontent-%COMP%]{padding:0;margin:0;border-top-left-radius:0;border-top-right-radius:0;height:var(--edit-footer-bar-height);z-index:1;width:100%;display:flex;flex-direction:column;box-sizing:border-box}@media (max-width: 600px){.mat-mdc-card[_ngcontent-%COMP%]{border-radius:0}}.mat-mdc-card.debug-enabled[_ngcontent-%COMP%]{height:auto}.debug-buttons-container[_ngcontent-%COMP%]{padding:17px 16px 15px;height:var(--edit-footer-bar-height);width:100%;display:flex;box-sizing:border-box;align-items:center}.debug-buttons-container[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{margin-left:0}.debug-buttons-container[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:4px}.debug-buttons-container[_ngcontent-%COMP%]   .sxc-version[_ngcontent-%COMP%]{cursor:default}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.debug-info-container[_ngcontent-%COMP%]{margin:var(--edit-footer-container-margin)!important;margin-top:0!important;width:calc(100% - 2 * var(--edit-footer-container-margin));height:var(--edit-footer-container-height);box-sizing:border-box;position:relative;overflow:auto}.debug-info-container.size-xl[_ngcontent-%COMP%]{height:calc(2 * var(--edit-footer-container-height))}"]})}return a})();pl=Bs;var Uy=g(5057);const fl="previous",Xy=["move-next","move-previous"];let Wy=(()=>{class a extends No.J{constructor(t,i,n){super(),this.elementRef=t,this.languageService=i,this.formConfig=n,this.log=(0,ee.T)({FormSlideDirective:a})}ngOnInit(){const t=this.log.fn("ngOnInit"),i=this.languageService.getAll(),n=this.elementRef.nativeElement;this.subscriptions.add((0,_e.h)(this.formConfig.language$.pipe((0,F.T)(s=>s.current),(0,$t.J)(s=>s),(0,Uy.J)(),(0,F.T)(([s,o])=>{t.a("toggle",{previousLang:s,currentLang:o});const l=i.findIndex(b=>b.NameId===s),u=i.findIndex(b=>b.NameId===o),_=l>u?fl:"next";return t.a("slide",{prevIndex:l,currentIndex:u,slide:_}),_})),(0,K.R)(n,"animationend").pipe((0,Ct.p)(s=>void 0!==Xy.find(o=>s.animationName.endsWith(o))),(0,F.T)(()=>""),(0,N.c)(0))).subscribe(s=>{const o=n.classList;""===s?(t.a("stop-slide"),o.remove("next"),o.remove(fl)):(t.a(`start-slide to '${s}'`),o.add(s))}))}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(gi.g),e.rXU(Re.S))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","appFormSlide",""]],standalone:!0,features:[e.Vt3]})}return a})();const Gs=a=>({"eav-list-item__focus":a});let Jy=(()=>{class a{constructor(t,i,n){this.dialogRef=t,this.publishStatusService=i,this.formConfig=n,this.PublishModes=Ti,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.options=this.formConfig.config.versioningOptions,this.dialogRef.keydownEvents().subscribe(s=>{(0,Xi.J)(s)&&s.preventDefault()})}setPublishMode(t){this.publishStatusService.setPublishMode(t,this.formConfig.config.formId,this.formConfig),this.closeDialog()}closeDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.CP),e.rXU(Sn),e.rXU(Re.S))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-publish-status-dialog"]],standalone:!0,features:[e.aNF],decls:36,vars:36,consts:[[1,"eav-card-content__no-padding"],["toggle",""],["lines","3",3,"click","disabled","ngClass"],["matListItemIcon",""],["matListItemTitle",""],["matListItemIcon","","svgIcon","draft-branch"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",0)(9,"mat-nav-list",1)(10,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Show)}),e.j41(11,"mat-icon",3),e.EFF(12,"visibility"),e.k0s(),e.j41(13,"span",4),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Hide)}),e.j41(20,"mat-icon",3),e.EFF(21,"visibility_off"),e.k0s(),e.j41(22,"span",4),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Branch)}),e.nrm(29,"mat-icon",5),e.j41(30,"span",4),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,14,"PublishStatus.Dialog.Title")),e.R7$(3),e.JRh(e.bMT(7,16,"PublishStatus.Dialog.Intro")),e.R7$(4),e.Y8G("disabled",!0!==n.options[n.PublishModes.Show])("ngClass",e.eq3(30,Gs,n.publishMode()===n.PublishModes.Show)),e.R7$(4),e.JRh(e.bMT(15,18,"PublishStatus.Dialog.Show.Title")),e.R7$(3),e.JRh(e.bMT(18,20,"PublishStatus.Dialog.Show.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Hide])("ngClass",e.eq3(32,Gs,n.publishMode()===n.PublishModes.Hide)),e.R7$(4),e.JRh(e.bMT(24,22,"PublishStatus.Dialog.Hide.Title")),e.R7$(3),e.JRh(e.bMT(27,24,"PublishStatus.Dialog.Hide.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Branch])("ngClass",e.eq3(34,Gs,n.publishMode()===n.PublishModes.Branch)),e.R7$(3),e.JRh(e.bMT(32,26,"PublishStatus.Dialog.Branch.Title")),e.R7$(3),e.JRh(e.bMT(35,28,"PublishStatus.Dialog.Branch.Body")))},dependencies:[h.Hu,h.RN,h.m2,h.MM,h.Lc,h.dh,hn,nr,mn,un,Qe,V.YU,z.Cc,z.PW,P.m_,P.An,T.h,T.D9],styles:[".eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}"]})}return a})();const Qy=()=>[g.e("projects_eav-ui_src_app_edit_dialog_header_language-switcher_language-switcher_component_ts").then(g.bind(g,7913)).then(a=>a.LanguageSwitcherComponent)];function Ky(a,r){if(1&a&&e.nrm(0,"app-language-switcher",8),2&a){const t=e.XpG(2);e.Y8G("disabled",t.disabled)}}function Zy(a,r){1&a&&(e.DNE(0,Ky,1,1),e.nv$(1,0,Qy),e.g25())}function qy(a,r){if(1&a&&(e.j41(0,"mat-icon",4),e.nI1(1,"translate"),e.EFF(2," lock "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippy",e.bMT(1,2,"General.ReadOnlyHint."+t.readOnly().reason))("tippyDisabled",!t.readOnly().reason)}}function e1(a,r){1&a&&(e.j41(0,"mat-icon",5),e.nI1(1,"translate"),e.EFF(2," file_copy "),e.k0s()),2&a&&e.Y8G("tippy",e.bMT(1,1,"General.CopyHint"))}let t1=(()=>{class a{constructor(t,i,n,s,o){this.dialog=t,this.viewContainerRef=i,this.languageService=n,this.publishStatusService=s,this.formConfig=o,this.closeDialog=new e.bkB,this.formsStateService=(0,e.WQX)(pt),this.readOnly=this.formsStateService.readOnly,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.hasLanguages=(0,e.EWP)(()=>this.languageService.getAllSignal()().length>0)}close(){this.closeDialog.emit()}openPublishStatusDialog(){this.dialog.open(Jy,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"350px"})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.bZ),e.rXU(e.c1b),e.rXU(gi.g),e.rXU(Sn),e.rXU(Re.S))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-header"]],inputs:{disabled:"disabled"},outputs:{closeDialog:"closeDialog"},standalone:!0,features:[e.aNF],decls:18,vars:19,consts:[[1,"eav-header"],["mat-icon-button","",1,"eav-exit-button",3,"click","tippy"],[1,"eav-icon"],[1,"eav-languages"],[1,"eav-hint-icon",3,"tippy","tippyDisabled"],[1,"eav-hint-icon",3,"tippy"],["mat-button","",1,"eav-publish-button",3,"click","disabled","tippy"],[1,"eav-publish-mode"],[3,"disabled"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"button",1),e.nI1(2,"translate"),e.bIt("click",function(){return n.close()}),e.j41(3,"mat-icon",2),e.EFF(4),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Zy,3,0),e.k0s(),e.DNE(7,qy,3,4,"mat-icon",4)(8,e1,3,3,"mat-icon",5),e.j41(9,"button",6),e.nI1(10,"translate"),e.bIt("click",function(){return n.openPublishStatusDialog()}),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.j41(14,"b"),e.EFF(15),e.nI1(16,"translate"),e.nI1(17,"uppercase"),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("tippy",e.bMT(2,9,n.formConfig.config.isParentDialog?"Form.Buttons.Exit.Tip":"Form.Buttons.Return.Tip")),e.R7$(3),e.JRh(n.formConfig.config.isParentDialog?"clear":"arrow_back"),e.R7$(2),e.vxM(6,n.hasLanguages?6:-1),e.R7$(),e.vxM(7,n.readOnly().isReadOnly?7:-1),e.R7$(),e.vxM(8,n.formConfig.config.isCopy?8:-1),e.R7$(),e.Y8G("disabled",n.readOnly().isReadOnly)("tippy",e.bMT(10,11,"PublishStatus."+n.publishMode()+".Tip")),e.R7$(3),e.SpI(" ",e.bMT(13,13,"PublishStatus.Label")," "),e.R7$(3),e.JRh(e.bMT(17,17,e.bMT(16,15,"PublishStatus."+n.publishMode()))))},dependencies:[h.Hu,h.RN,p.Hl,p.$z,p.iY,P.m_,P.An,V.Pc,T.h,T.D9,qe.e],styles:[".eav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:var(--edit-dialog-header-height);z-index:1;box-shadow:0 2px 5px #00000042}@media (max-width: 600px){.eav-header[_ngcontent-%COMP%]{border-radius:0}}.eav-header[_ngcontent-%COMP%]   .eav-exit-button[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{scale:.6666666667}.eav-header[_ngcontent-%COMP%]   .eav-languages[_ngcontent-%COMP%]{margin-left:12px;flex-grow:1;overflow:hidden;height:100%}.eav-header[_ngcontent-%COMP%]   .eav-hint-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-header[_ngcontent-%COMP%]   .eav-publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.eav-header[_ngcontent-%COMP%]   .eav-publish-mode[_ngcontent-%COMP%]{font-weight:400}"]})}return a})();var n1=g(5699),w1=g(436);let k1=(()=>{class a{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.icons={"apple-filled":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"apple-outlined":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"draft-branch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z"/></svg>',"file-archive":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z"/></svg>',"file-audio":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z"/></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"/></svg>',"file-excel":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z"/></svg>',"file-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z"/></svg>',"file-pdf":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z"/></svg>',"file-powerpoint":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z"/></svg>',"file-text":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z"/></svg>',"file-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z"/></svg>',"file-word":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',"folder-plus":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',sitemap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z"/></svg>'}}load(){Object.entries(this.icons).forEach(([t,i])=>{this.matIconRegistry.addSvgIconLiteral(t,this.domSanitizer.bypassSecurityTrustHtml(i))})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(P.tp),e.KVO(w1.up))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const x1=(a,r)=>r.Entity.Guid,C1=()=>[k.E7,Bs],M1=a=>({"u-display-none":a}),D1=(a,r,t,i)=>({"debug-enabled":a,"debug-info-is-open":r,"footer-xl":t,"hide-header-height-fix":i});function T1(a,r){if(1&a&&(e.j41(0,"div"),e.nrm(1,"app-edit-entity-form-builder",9),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("entityGuid",t.Entity.Guid)}}function S1(a,r){if(1&a&&(e.j41(0,"div",7),e.Z7z(1,T1,2,1,"div",null,x1),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Dyx(t.items())}}function F1(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAll(!0))}),e.j41(1,"mat-icon",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveButtonDisabled()&&n.saveAll(!1))}),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.saveButtonDisabled()),e.R7$(4),e.JRh(e.bMT(5,2,"Form.Buttons.SaveAndClose"))}}function A1(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.saveButtonDisabled()),e.R7$(2),e.JRh(e.bMT(3,2,"Form.Buttons.Save"))}}function I1(a,r){if(1&a&&(e.j41(0,"extended-fab-speed-dial",8),e.DNE(1,F1,6,4,"ng-template",10)(2,A1,6,4,"ng-template",11),e.k0s()),2&a){const t=e.XpG(2);e.Y8G("disabled",t.saveButtonDisabled())}}function E1(a,r){if(1&a&&e.nrm(0,"app-edit-dialog-footer",15),2&a){const t=e.XpG(3);e.xc7("display",t.footerShow()?"block":"none")}}function O1(a,r){1&a&&(e.DNE(0,E1,1,2),e.nv$(1,0,C1),e.g25())}function L1(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"app-edit-dialog-header",2),e.bIt("closeDialog",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.DNE(7,S1,3,0,"div",7),e.k0s()()(),e.DNE(8,I1,3,1,"extended-fab-speed-dial",8),e.k0s(),e.DNE(9,O1,3,0),e.k0s()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(6,M1,t.hideHeader())),e.R7$(),e.Y8G("disabled",!t.formsValid()),e.R7$(2),e.Y8G("ngClass",e.ziG(8,D1,t.footerShow(),t.footerShow()&&t.footerSize(),t.footerShow()&&2==t.footerSize(),t.hideHeader())),e.R7$(3),e.vxM(7,t.delayForm()?-1:7),e.R7$(),e.vxM(8,t.viewInitiated()?8:-1),e.R7$(),e.vxM(9,t.footerShowOnceOrMore()?9:-1)}}let P1=(()=>{class a extends Q.${#e;#t;#i;#n;#a;#s;#r;constructor(t,i,n,s,o,l,u,_,b,S,j,J,ue,ve,ke){super(),this.dialogRef=t,this.contentTypeItemService=i,this.contentTypeService=n,this.inputTypeService=s,this.itemService=o,this.languageService=l,this.languageStore=u,this.snackBar=_,this.translate=b,this.editRoutingService=S,this.publishStatusService=j,this.formsStateService=J,this.adamCacheService=ue,this.linkCacheService=ve,this.formulaDesignerService=ke,this.log=(0,ee.T)({EditDialogMainComponent:a}),this.viewInitiated=(0,e.vPA)(!1),this.#t=(0,e.WQX)(Ui.B),this.#i=(0,e.WQX)(Re.S),this.items=this.itemService.getManySignal(this.#i.config.itemGuids),this.formsValid=this.formsStateService.formsValidTemp,this.saveButtonDisabled=this.formsStateService.saveButtonDisabled,this.hideHeader=this.languageStore.getHideHeaderSignal(this.#i.config.formId),this.#n=(0,we.d)(k1),this.#a=(0,we.d)(Ia),this.footerShow=(0,e.EWP)(()=>this.#t.isDebug()?(this.#s=!0,!0):!this.#s&&this.#i.config.dialogContext.User?.IsSystemAdmin),this.footerShowOnceOrMore=(0,$.tD)(xe=>xe||this.footerShow(),!1),this.#s=!1,this.#r=(0,e.WQX)(hl).part(Bs.userSettings),this.footerSize=(0,e.EWP)(()=>this.#r.data().size),this.delayForm=(0,Qt.ot)((0,m.of)(!1).pipe((0,N.c)(0),(0,I.Z)(!0))),this.dialogRef.disableClose=!0,(0,e.QZP)(()=>{const{tryToSave:xe,close:Ne}=this.formsStateService.triggerTrySaveAndMaybeClose();xe&&this.saveAll(Ne)})}ngOnInit(){this.editRoutingService.init(),this.#n.load(),this.formsStateService.init(),this.formulaDesignerService.cache.init();const t=this.itemService.getMany$(this.#i.config.itemGuids);this.viewModel$=(0,Y.z)([t]).pipe((0,F.T)(([i])=>({items:i}))),this.#o(),this.#l()}ngAfterViewInit(){setTimeout(()=>this.viewInitiated.set(!0))}ngOnDestroy(){this.languageStore.remove(this.#i.config.formId),this.publishStatusService.remove(this.#i.config.formId),this.#i.config.isParentDialog&&(this.languageStore.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.contentTypeItemService.clearCache(),this.contentTypeService.clearCache(),this.publishStatusService.clearCache(),this.adamCacheService.clearCache(),this.linkCacheService.clearCache()),super.ngOnDestroy()}closeDialog(t){t?this.dialogRef.close(this.#i.config.createMode?this.#e:void 0):!this.formsStateService.readOnly().isReadOnly&&this.formsStateService.formsAreDirty()?this.#d():this.dialogRef.close(this.#i.config.createMode?this.#e:void 0)}saveAll(t){const i=this.log.fn("saveAll",{close:t});if(this.formsStateService.formsAreValid()){const n=this.formBuilderRefs.map(l=>{const u=this.itemService.get(l.entityGuid);if(!this.formsStateService.getFormValid(u.Entity.Guid))return null;const b=Object.keys(u.Entity.Attributes).length>0,j=this.contentTypeService.getContentTypeOfItem(u).Metadata.some(ue=>"SaveEmptyDecorator"===ue.Type.Name);return b||j?sy.bundleToDto(u):null}).filter(l=>null!=l),s=this.publishStatusService.get(this.#i.config.formId),o={Items:n,IsPublished:s.IsPublished,DraftShouldBranch:s.DraftShouldBranch};i.a("SAVE FORM DATA:",{saveFormData:o}),this.snackBar.open(this.translate.instant("Message.Saving"),null,{duration:2e3}),this.#a.saveFormData(o,this.#i.config.partOfPage).subscribe({next:l=>{i.a("SAVED!, result:",{result:l,close:t}),this.itemService.updater.updateItemId(l),this.snackBar.open(this.translate.instant("Message.Saved"),null,{duration:2e3}),this.formsStateService.formsAreDirty.set(!1),this.#e=l,t&&this.closeDialog()},error:l=>{i.a("SAVE FAILED:",l),this.snackBar.open("Error",null,{duration:2e3})}})}else{if(null==this.formBuilderRefs)return;const n=[];this.formBuilderRefs.forEach(o=>{o.form.invalid&&n.push(Ga.validateForm(o.form))});const s=[];n.forEach(o=>{Object.keys(o).forEach(l=>{s.push({field:l,message:o[l]})})}),this.snackBar.openFromComponent(oy,{data:{fieldErrors:s},duration:5e3})}}#o(){this.subscriptions.add((0,K.R)(window,"beforeunload").subscribe(t=>{this.formsStateService.readOnly().isReadOnly||!this.formsStateService.formsAreDirty()||(t.preventDefault(),t.returnValue="",this.#d())})),this.subscriptions.add(this.dialogRef.backdropClick().subscribe(t=>this.closeDialog()))}#l(){this.dialogRef.keydownEvents().subscribe(t=>{if(!(0,Xi.K)(t))return(0,Xi.J)(t)?(t.preventDefault(),void(this.formsStateService.readOnly().isReadOnly||this.saveAll(!1))):void 0;this.closeDialog()})}#d(){const i=this.snackBar.openFromComponent(ly,{data:{save:!1},duration:5e3});i.onAction().subscribe(()=>{i.containerInstance.snackBarConfig.data.save?this.saveAll(!0):this.closeDialog(!0)})}static#c=this.\u0275fac=function(i){return new(i||a)(e.rXU(k.CP),e.rXU(Cn),e.rXU(ai),e.rXU(Mi),e.rXU(lt),e.rXU(gi.g),e.rXU(pn.A),e.rXU(zt.UG),e.rXU(T.c$),e.rXU(ft),e.rXU(Sn),e.rXU(pt),e.rXU(Tn),e.rXU(fi),e.rXU(Hi))};static#u=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-main"]],viewQuery:function(i,n){if(1&i&&e.GBs(dl,5),2&i){let s;e.mGM(s=e.lsd())&&(n.formBuilderRefs=s)}},standalone:!0,features:[e.Jv_([ft,pt,Hi,_s]),e.Vt3,e.aNF],decls:2,vars:3,consts:[["mat-dialog__container","","appToggleDebug","",2,"position","relative"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"closeDialog","disabled"],[2,"position","relative"],["mat-mdc-dialog-content","","cdkScrollable","",1,"eav-dialog-content","u-hide-scrollbar",3,"ngClass"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["appFormSlide","",1,"eav-layout-grid__cell--span-12"],[3,"disabled"],[3,"entityGuid"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click","disabled"],[3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","disabled"],["mat-dialog-actions",""]],template:function(i,n){if(1&i&&(e.DNE(0,L1,10,13,"div",0),e.nI1(1,"async")),2&i){let s;e.vxM(0,(s=e.bMT(1,1,n.viewModel$))?0:-1,s)}},dependencies:[k.E7,V.YU,z.Cc,z.PW,t1,Ei.uv,Wy,dl,U.pZ,U.r6,P.m_,P.An,V.Jj,T.h,T.D9,nn,an,ji,zi,Ni,n1.V],styles:["@keyframes _ngcontent-%COMP%_move-next{0%{transform:translate(0)}49%{transform:translate(-800px);animation-timing-function:step-end}50%{transform:translate(800px);animation-timing-function:ease-out}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_move-previous{0%{transform:translate(0)}49%{transform:translate(800px);animation-timing-function:step-end}50%{transform:translate(-800px);animation-timing-function:ease-out}to{transform:translate(0)}}.next[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-next}.previous[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-previous}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.eav-dialog-content[_ngcontent-%COMP%]{--edit-content-max-height: var(--edit-content-max-height-no-margins);--edit-footer-height: 0px;--edit-margins-vertical: var(--edit-dialog-margins-vertical);--edit-safari-fix: 0px;margin:0;padding:0;max-height:calc(var(--edit-content-max-height) - var(--edit-footer-height) - var(--edit-margins-vertical) + var(--edit-safari-fix));background-color:#0000000f}@media (max-width: 600px){.eav-dialog-content[_ngcontent-%COMP%]{--edit-margins-vertical: 0px}}.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{--edit-safari-fix: var(--edit-dialog-header-height)}.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{--edit-footer-height: var(--edit-footer-bar-height)}.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total))}.eav-dialog-content.debug-enabled.debug-info-is-open.footer-xl[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total) + var(--edit-footer-container-height))}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.eav-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width: 600px){.eav-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"]})}return a})();function R1(a,r){1&a&&e.nrm(0,"app-edit-dialog-main")}let V1=(()=>{class a{constructor(t,i){this.editInitializerService=t}ngOnInit(){this.editInitializerService.fetchFormData()}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(Ea),e.rXU(Ot.t))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entry"]],standalone:!0,features:[e.Jv_([kn,Ot.t,Ea,pr.o,Re.S,ki]),e.aNF],decls:2,vars:1,template:function(i,n){1&i&&(e.nrm(0,"router-outlet"),e.DNE(1,R1,1,0,"app-edit-dialog-main")),2&i&&(e.R7$(),e.vxM(1,n.editInitializerService.loaded()?1:-1))},dependencies:[fr.n3,P1],encapsulation:2})}return a})()},9977:(G,ae,g)=>{"use strict";g.d(ae,{g:()=>D});var e=g(6632),k=g(4435),T=g(7580);let D=(()=>{class m extends e.r{constructor(){super((0,k.T)({LanguageService:m})),this.getId=I=>I.NameId.toLocaleLowerCase()}static#e=this.\u0275fac=function(Y){return new(Y||m)};static#t=this.\u0275prov=T.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},3703:(G,ae,g)=>{"use strict";g.d(ae,{s:()=>Y});var e=g(5541),k=g(852),T=g(316),D=g(3840),m=g(7896),N=g(7580);function I(F,K){1&F&&(N.j41(0,"mat-icon",0),N.nI1(1,"translate"),N.EFF(2,"diamond"),N.k0s()),2&F&&N.Y8G("tippy",N.bMT(1,1,"Features.NotActivated"))}let Y=(()=>{class F extends e.x{static#e=this.\u0275fac=(()=>{let Q;return function(H){return(Q||(Q=N.xGo(F)))(H||F)}})();static#t=this.\u0275cmp=N.VBU({type:F,selectors:[["app-feature-icon-indicator"]],standalone:!0,features:[N.Vt3,N.aNF],decls:2,vars:3,consts:[[3,"tippy"]],template:function(M,H){1&M&&(N.DNE(0,I,3,3,"mat-icon",0),N.nI1(1,"async")),2&M&&N.vxM(0,N.bMT(1,1,H.show$)?0:-1)},dependencies:[D.m_,D.An,T.Jj,k.h,k.D9,m.e]})}return F})()},3140:(G,ae,g)=>{"use strict";g.d(ae,{J:()=>T});var e=g(7092),k=g(7580);let T=(()=>{class D{constructor(){this.subscriptions=new e.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||D)};static#t=this.\u0275dir=k.FsC({type:D})}return D})()},519:(G,ae,g)=>{"use strict";function e(k){const T=document.createElement("textarea");T.value=k,T.setAttribute("readonly",""),T.style.position="absolute",T.style.left="-9999px",document.body.appendChild(T);const D=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);T.select(),document.execCommand("copy"),document.body.removeChild(T),D&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(D))}g.d(ae,{l:()=>e})},9645:function(G){G.exports=function(){"use strict";var g=6e4,e=36e5,k="millisecond",T="second",D="minute",m="hour",N="day",I="week",Y="month",F="quarter",K="year",Q="date",M="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,be={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},ie=function(p,h,v){var c=String(p);return!c||c.length>=h?p:""+Array(h+1-c.length).join(v)+p},Ye={s:ie,z:function(p){var h=-p.utcOffset(),v=Math.abs(h),c=Math.floor(v/60),d=v%60;return(h<=0?"+":"-")+ie(c,2,"0")+":"+ie(d,2,"0")},m:function p(h,v){if(h.date()<v.date())return-p(v,h);var c=12*(v.year()-h.year())+(v.month()-h.month()),d=h.clone().add(c,Y),f=v-d<0,w=h.clone().add(c+(f?-1:1),Y);return+(-(c+(v-d)/(f?d-w:w-d))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:Y,y:K,w:I,d:N,D:Q,h:m,m:D,s:T,ms:k,Q:F}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return void 0===p}},Be="en",Ve={};Ve[Be]=be;var Xe=function(p){return p instanceof De},me=function p(h,v,c){var d;if(!h)return Be;if("string"==typeof h){var f=h.toLowerCase();Ve[f]&&(d=f),v&&(Ve[f]=v,d=f);var w=h.split("-");if(!d&&w.length>1)return p(w[0])}else{var C=h.name;Ve[C]=h,d=C}return!c&&d&&(Be=d),d||!c&&Be},Ae=function(p,h){if(Xe(p))return p.clone();var v="object"==typeof h?h:{};return v.date=p,v.args=arguments,new De(v)},ye=Ye;ye.l=me,ye.i=Xe,ye.w=function(p,h){return Ae(p,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var De=function(){function p(v){this.$L=me(v.locale,null,!0),this.parse(v)}var h=p.prototype;return h.parse=function(v){this.$d=function(c){var d=c.date,f=c.utc;if(null===d)return new Date(NaN);if(ye.u(d))return new Date;if(d instanceof Date)return new Date(d);if("string"==typeof d&&!/Z$/i.test(d)){var w=d.match(H);if(w){var C=w[2]-1||0,x=(w[7]||"0").substring(0,3);return f?new Date(Date.UTC(w[1],C,w[3]||1,w[4]||0,w[5]||0,w[6]||0,x)):new Date(w[1],C,w[3]||1,w[4]||0,w[5]||0,w[6]||0,x)}}return new Date(d)}(v),this.$x=v.x||{},this.init()},h.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},h.$utils=function(){return ye},h.isValid=function(){return this.$d.toString()!==M},h.isSame=function(v,c){var d=Ae(v);return this.startOf(c)<=d&&d<=this.endOf(c)},h.isAfter=function(v,c){return Ae(v)<this.startOf(c)},h.isBefore=function(v,c){return this.endOf(c)<Ae(v)},h.$g=function(v,c,d){return ye.u(v)?this[c]:this.set(d,v)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(v,c){var d=this,f=!!ye.u(c)||c,w=ye.p(v),C=function(z,V){var re=ye.w(d.$u?Date.UTC(d.$y,V,z):new Date(d.$y,V,z),d);return f?re:re.endOf(N)},x=function(z,V){return ye.w(d.toDate()[z].apply(d.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(V)),d)},L=this.$W,O=this.$M,E=this.$D,Z="set"+(this.$u?"UTC":"");switch(w){case K:return f?C(1,0):C(31,11);case Y:return f?C(1,O):C(0,O+1);case I:var X=this.$locale().weekStart||0,P=(L<X?L+7:L)-X;return C(f?E-P:E+(6-P),O);case N:case Q:return x(Z+"Hours",0);case m:return x(Z+"Minutes",1);case D:return x(Z+"Seconds",2);case T:return x(Z+"Milliseconds",3);default:return this.clone()}},h.endOf=function(v){return this.startOf(v,!1)},h.$set=function(v,c){var d,f=ye.p(v),w="set"+(this.$u?"UTC":""),C=(d={},d[N]=w+"Date",d[Q]=w+"Date",d[Y]=w+"Month",d[K]=w+"FullYear",d[m]=w+"Hours",d[D]=w+"Minutes",d[T]=w+"Seconds",d[k]=w+"Milliseconds",d)[f],x=f===N?this.$D+(c-this.$W):c;if(f===Y||f===K){var L=this.clone().set(Q,1);L.$d[C](x),L.init(),this.$d=L.set(Q,Math.min(this.$D,L.daysInMonth())).$d}else C&&this.$d[C](x);return this.init(),this},h.set=function(v,c){return this.clone().$set(v,c)},h.get=function(v){return this[ye.p(v)]()},h.add=function(v,c){var d,f=this;v=Number(v);var w=ye.p(c),C=function(O){var E=Ae(f);return ye.w(E.date(E.date()+Math.round(O*v)),f)};if(w===Y)return this.set(Y,this.$M+v);if(w===K)return this.set(K,this.$y+v);if(w===N)return C(1);if(w===I)return C(7);var x=(d={},d[D]=g,d[m]=e,d[T]=1e3,d)[w]||1,L=this.$d.getTime()+v*x;return ye.w(L,this)},h.subtract=function(v,c){return this.add(-1*v,c)},h.format=function(v){var c=this,d=this.$locale();if(!this.isValid())return d.invalidDate||M;var f=v||"YYYY-MM-DDTHH:mm:ssZ",w=ye.z(this),C=this.$H,x=this.$m,L=this.$M,O=d.weekdays,E=d.months,Z=function(V,re,Ce,U){return V&&(V[re]||V(c,f))||Ce[re].slice(0,U)},X=function(V){return ye.s(C%12||12,V,"0")},P=d.meridiem||function(V,re,Ce){var U=V<12?"AM":"PM";return Ce?U.toLowerCase():U},z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:L+1,MM:ye.s(L+1,2,"0"),MMM:Z(d.monthsShort,L,E,3),MMMM:Z(E,L),D:this.$D,DD:ye.s(this.$D,2,"0"),d:String(this.$W),dd:Z(d.weekdaysMin,this.$W,O,2),ddd:Z(d.weekdaysShort,this.$W,O,3),dddd:O[this.$W],H:String(C),HH:ye.s(C,2,"0"),h:X(1),hh:X(2),a:P(C,x,!0),A:P(C,x,!1),m:String(x),mm:ye.s(x,2,"0"),s:String(this.$s),ss:ye.s(this.$s,2,"0"),SSS:ye.s(this.$ms,3,"0"),Z:w};return f.replace(se,function(V,re){return re||z[V]||w.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(v,c,d){var f,w=ye.p(c),C=Ae(v),x=(C.utcOffset()-this.utcOffset())*g,L=this-C,O=ye.m(this,C);return O=(f={},f[K]=O/12,f[Y]=O,f[F]=O/3,f[I]=(L-x)/6048e5,f[N]=(L-x)/864e5,f[m]=L/e,f[D]=L/g,f[T]=L/1e3,f)[w]||L,d?O:ye.a(O)},h.daysInMonth=function(){return this.endOf(Y).$D},h.$locale=function(){return Ve[this.$L]},h.locale=function(v,c){if(!v)return this.$L;var d=this.clone(),f=me(v,c,!0);return f&&(d.$L=f),d},h.clone=function(){return ye.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},p}(),y=De.prototype;return Ae.prototype=y,[["$ms",k],["$s",T],["$m",D],["$H",m],["$W",N],["$M",Y],["$y",K],["$D",Q]].forEach(function(p){y[p[1]]=function(h){return this.$g(h,p[0],p[1])}}),Ae.extend=function(p,h){return p.$i||(p(h,De,Ae),p.$i=!0),Ae},Ae.locale=me,Ae.isDayjs=Xe,Ae.unix=function(p){return Ae(1e3*p)},Ae.en=Ve[Be],Ae.Ls=Ve,Ae.p={},Ae}()},9718:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(Y){return Y&&"object"==typeof Y&&"default"in Y?Y:{default:Y}}(e),D="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),m={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},N={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},I={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:D,monthsShort:D,weekStart:6,relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",m:"\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",yy:"%d \u0623\u0639\u0648\u0627\u0645"},preparse:function(Y){return Y.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(F){return N[F]}).replace(/\u060c/g,",")},postformat:function(Y){return Y.replace(/\d/g,function(F){return m[F]}).replace(/,/g,"\u060c")},ordinal:function(Y){return Y},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return T.default.locale(I,null,!0),I}(g(9645))},1810:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"bg",weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekStart:1,ordinal:function(m){var N=m%100;if(N>10&&N<20)return m+"-\u0442\u0438";var I=m%10;return 1===I?m+"-\u0432\u0438":2===I?m+"-\u0440\u0438":7===I||8===I?m+"-\u043c\u0438":m+"-\u0442\u0438"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"}};return T.default.locale(D,null,!0),D}(g(9645))},6155:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e);function D(I){return I>1&&I<5&&1!=~~(I/10)}function m(I,Y,F,K){var Q=I+" ";switch(F){case"s":return Y||K?"p\xe1r sekund":"p\xe1r sekundami";case"m":return Y?"minuta":K?"minutu":"minutou";case"mm":return Y||K?Q+(D(I)?"minuty":"minut"):Q+"minutami";case"h":return Y?"hodina":K?"hodinu":"hodinou";case"hh":return Y||K?Q+(D(I)?"hodiny":"hodin"):Q+"hodinami";case"d":return Y||K?"den":"dnem";case"dd":return Y||K?Q+(D(I)?"dny":"dn\xed"):Q+"dny";case"M":return Y||K?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Y||K?Q+(D(I)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):Q+"m\u011bs\xedci";case"y":return Y||K?"rok":"rokem";case"yy":return Y||K?Q+(D(I)?"roky":"let"):Q+"lety"}}var N={name:"cs",weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),months:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),monthsShort:"led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(I){return I+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m}};return T.default.locale(N,null,!0),N}(g(9645))},1118:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"da",weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n._man._tirs._ons._tors._fre._l\xf8r.".split("_"),weekdaysMin:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,ordinal:function(m){return m+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"}};return T.default.locale(D,null,!0),D}(g(9645))},6058:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e),D={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function m(I,Y,F){var K=D[F];return Array.isArray(K)&&(K=K[Y?0:1]),K.replace("%d",I)}var N={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(I){return I+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m}};return T.default.locale(N,null,!0),N}(g(9645))},3996:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e),D={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function m(I,Y,F){var K=D[F];return Array.isArray(K)&&(K=K[Y?0:1]),K.replace("%d",I)}var N={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(I){return I+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m}};return T.default.locale(N,null,!0),N}(g(9645))},6626:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e),D={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function m(I,Y,F){var K=D[F];return Array.isArray(K)&&(K=K[Y?0:1]),K.replace("%d",I)}var N={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(I){return I+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m}};return T.default.locale(N,null,!0),N}(g(9645))},396:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"el",weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03b9_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0\u03c4_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),ordinal:function(m){return m},weekStart:1,relativeTime:{future:"\u03c3\u03b5 %s",past:"\u03c0\u03c1\u03b9\u03bd %s",s:"\u03bc\u03b5\u03c1\u03b9\u03ba\u03ac \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return T.default.locale(D,null,!0),D}(g(9645))},1237:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(m){return m},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return T.default.locale(D,null,!0),D}(g(9645))},9791:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(m){return m},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return T.default.locale(D,null,!0),D}(g(9645))},3238:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(m){var N=["th","st","nd","rd"],I=m%100;return"["+m+(N[(I-20)%10]||N[I]||N[0])+"]"}};return T.default.locale(D,null,!0),D}(g(9645))},3821:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return T.default.locale(D,null,!0),D}(g(9645))},8214:function(G){G.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}()},8403:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(m){return m+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return T.default.locale(D,null,!0),D}(g(9645))},1686:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"es-us",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(m){return m+"\xba"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return T.default.locale(D,null,!0),D}(g(9645))},3857:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(m){return m+"\xba"}};return T.default.locale(D,null,!0),D}(g(9645))},2467:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"fa",weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekStart:6,months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"}};return T.default.locale(D,null,!0),D}(g(9645))},1624:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(N){return N&&"object"==typeof N&&"default"in N?N:{default:N}}(e);function D(N,I,Y,F){var K={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"p\xe4iv\xe4",dd:"%d p\xe4iv\xe4\xe4",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj\xe4_viisi_kuusi_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},Q={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"p\xe4iv\xe4n",dd:"%d p\xe4iv\xe4n",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_nelj\xe4n_viiden_kuuden_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},M=F&&!I?Q:K;return M[Y].replace("%d",N<10?M.numbers[N]:N)}var m={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),ordinal:function(N){return N+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:D,m:D,mm:D,h:D,hh:D,d:D,dd:D,M:D,MM:D,y:D,yy:D},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return T.default.locale(m,null,!0),m}(g(9645))},3669:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return T.default.locale(D,null,!0),D}(g(9645))},2121:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(m){return m+(1===m?"er":"")}};return T.default.locale(D,null,!0),D}(g(9645))},598:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e),D={s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:"%d \u05e9\u05e2\u05d5\u05ea",hh2:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",d:"\u05d9\u05d5\u05dd",dd:"%d \u05d9\u05de\u05d9\u05dd",dd2:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",M:"\u05d7\u05d5\u05d3\u05e9",MM:"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",MM2:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",y:"\u05e9\u05e0\u05d4",yy:"%d \u05e9\u05e0\u05d9\u05dd",yy2:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd"};function m(I,Y,F){return(D[F+(2===I?"2":"")]||D[F]).replace("%d",I)}var N={name:"he",weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5_\u05e9\u05f3".split("_"),months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5_\u05e4\u05d1\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0_\u05d9\u05d5\u05dc_\u05d0\u05d5\u05d2_\u05e1\u05e4\u05d8_\u05d0\u05d5\u05e7_\u05e0\u05d5\u05d1_\u05d3\u05e6\u05de".split("_"),relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m},ordinal:function(I){return I},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return T.default.locale(N,null,!0),N}(g(9645))},7426:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"hi",weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),ordinal:function(m){return m},formats:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"}};return T.default.locale(D,null,!0),D}(g(9645))},6567:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(F){return F&&"object"==typeof F&&"default"in F?F:{default:F}}(e),D="sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),m="sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),N=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,I=function(F,K){return N.test(K)?D[F.month()]:m[F.month()]};I.s=m,I.f=D;var Y={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),months:I,monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(F){return F+"."}};return T.default.locale(Y,null,!0),Y}(g(9645))},6886:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"hu",weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),ordinal:function(m){return m+"."},weekStart:1,relativeTime:{future:"%s m\xfalva",past:"%s",s:function(m,N,I,Y){return"n\xe9h\xe1ny m\xe1sodperc"+(Y||N?"":"e")},m:function(m,N,I,Y){return"egy perc"+(Y||N?"":"e")},mm:function(m,N,I,Y){return m+" perc"+(Y||N?"":"e")},h:function(m,N,I,Y){return"egy "+(Y||N?"\xf3ra":"\xf3r\xe1ja")},hh:function(m,N,I,Y){return m+" "+(Y||N?"\xf3ra":"\xf3r\xe1ja")},d:function(m,N,I,Y){return"egy "+(Y||N?"nap":"napja")},dd:function(m,N,I,Y){return m+" "+(Y||N?"nap":"napja")},M:function(m,N,I,Y){return"egy "+(Y||N?"h\xf3nap":"h\xf3napja")},MM:function(m,N,I,Y){return m+" "+(Y||N?"h\xf3nap":"h\xf3napja")},y:function(m,N,I,Y){return"egy "+(Y||N?"\xe9v":"\xe9ve")},yy:function(m,N,I,Y){return m+" "+(Y||N?"\xe9v":"\xe9ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return T.default.locale(D,null,!0),D}(g(9645))},7416:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(m){return m+"."}};return T.default.locale(D,null,!0),D}(g(9645))},53:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"it-ch",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}};return T.default.locale(D,null,!0),D}(g(9645))},5416:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(m){return m+"\xba"}};return T.default.locale(D,null,!0),D}(g(9645))},4684:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(m){return m+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(m){return m<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return T.default.locale(D,null,!0),D}(g(9645))},9193:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(m){return m},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return T.default.locale(D,null,!0),D}(g(9645))},623:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(m){return m},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(m){return m<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return T.default.locale(D,null,!0),D}(g(9645))},5555:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"lb",weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),ordinal:function(m){return m},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return T.default.locale(D,null,!0),D}(g(9645))},116:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(m){return m},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return T.default.locale(D,null,!0),D}(g(9645))},6361:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(m){return m+"."}};return T.default.locale(D,null,!0),D}(g(9645))},413:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(m){return m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"}};return T.default.locale(D,null,!0),D}(g(9645))},3939:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(m){return"["+m+(1===m||8===m||m>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return T.default.locale(D,null,!0),D}(g(9645))},8224:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"pa-in",weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),ordinal:function(m){return m},formats:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"}};return T.default.locale(D,null,!0),D}(g(9645))},9733:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(Q){return Q&&"object"==typeof Q&&"default"in Q?Q:{default:Q}}(e);function D(Q){return Q%10<5&&Q%10>1&&~~(Q/10)%10!=1}function m(Q,M,H){var se=Q+" ";switch(H){case"m":return M?"minuta":"minut\u0119";case"mm":return se+(D(Q)?"minuty":"minut");case"h":return M?"godzina":"godzin\u0119";case"hh":return se+(D(Q)?"godziny":"godzin");case"MM":return se+(D(Q)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return se+(D(Q)?"lata":"lat")}}var N="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),I="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),Y=/D MMMM/,F=function(Q,M){return Y.test(M)?N[Q.month()]:I[Q.month()]};F.s=I,F.f=N;var K={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),months:F,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),ordinal:function(Q){return Q+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m,mm:m,h:m,hh:m,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:m,y:"rok",yy:m},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return T.default.locale(K,null,!0),K}(g(9645))},8470:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(m){return m+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return T.default.locale(D,null,!0),D}(g(9645))},9869:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"pt",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_Sa".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(m){return m+"\xba"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return T.default.locale(D,null,!0),D}(g(9645))},6344:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(H){return H&&"object"==typeof H&&"default"in H?H:{default:H}}(e),D="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),m="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),N="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),I="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),Y=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function F(H,se,be){var ie,Ye;return"m"===be?se?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":H+" "+(ie=+H,Ye={mm:se?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[be].split("_"),ie%10==1&&ie%100!=11?Ye[0]:ie%10>=2&&ie%10<=4&&(ie%100<10||ie%100>=20)?Ye[1]:Ye[2])}var K=function(H,se){return Y.test(se)?D[H.month()]:m[H.month()]};K.s=m,K.f=D;var Q=function(H,se){return Y.test(se)?N[H.month()]:I[H.month()]};Q.s=I,Q.f=N;var M={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:K,monthsShort:Q,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:F,mm:F,h:"\u0447\u0430\u0441",hh:F,d:"\u0434\u0435\u043d\u044c",dd:F,M:"\u043c\u0435\u0441\u044f\u0446",MM:F,y:"\u0433\u043e\u0434",yy:F},ordinal:function(H){return H},meridiem:function(H){return H<4?"\u043d\u043e\u0447\u0438":H<12?"\u0443\u0442\u0440\u0430":H<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return T.default.locale(M,null,!0),M}(g(9645))},4867:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(I){return I&&"object"==typeof I&&"default"in I?I:{default:I}}(e);function D(I){return I>1&&I<5&&1!=~~(I/10)}function m(I,Y,F,K){var Q=I+" ";switch(F){case"s":return Y||K?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return Y?"min\xfata":K?"min\xfatu":"min\xfatou";case"mm":return Y||K?Q+(D(I)?"min\xfaty":"min\xfat"):Q+"min\xfatami";case"h":return Y?"hodina":K?"hodinu":"hodinou";case"hh":return Y||K?Q+(D(I)?"hodiny":"hod\xedn"):Q+"hodinami";case"d":return Y||K?"de\u0148":"d\u0148om";case"dd":return Y||K?Q+(D(I)?"dni":"dn\xed"):Q+"d\u0148ami";case"M":return Y||K?"mesiac":"mesiacom";case"MM":return Y||K?Q+(D(I)?"mesiace":"mesiacov"):Q+"mesiacmi";case"y":return Y||K?"rok":"rokom";case"yy":return Y||K?Q+(D(I)?"roky":"rokov"):Q+"rokmi"}}var N={name:"sk",weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),months:"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(I){return I+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:m,m,mm:m,h:m,hh:m,d:m,dd:m,M:m,MM:m,y:m,yy:m}};return T.default.locale(N,null,!0),N}(g(9645))},4826:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),ordinal:function(m){return m+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:"nekaj sekund",m:"minuta",mm:"%d minut",h:"ura",hh:"%d ur",d:"dan",dd:"%d dni",M:"mesec",MM:"%d mesecev",y:"leto",yy:"%d let"}};return T.default.locale(D,null,!0),D}(g(9645))},5240:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"sv",weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(m){var N=m%10;return"["+m+(1===N||2===N?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"}};return T.default.locale(D,null,!0),D}(g(9645))},2725:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"th",weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},ordinal:function(m){return m+"."}};return T.default.locale(D,null,!0),D}(g(9645))},6795:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(m){return m+"."}};return T.default.locale(D,null,!0),D}(g(9645))},5593:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(K){return K&&"object"==typeof K&&"default"in K?K:{default:K}}(e),D="\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),m="\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),N=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function I(K,Q,M){var H,se;return"m"===M?Q?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===M?Q?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":K+" "+(H=+K,se={ss:Q?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Q?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:Q?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[M].split("_"),H%10==1&&H%100!=11?se[0]:H%10>=2&&H%10<=4&&(H%100<10||H%100>=20)?se[1]:se[2])}var Y=function(K,Q){return N.test(Q)?D[K.month()]:m[K.month()]};Y.s=m,Y.f=D;var F={name:"uk",weekdays:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0434\u043b_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:Y,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekStart:1,relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:I,mm:I,h:I,hh:I,d:"\u0434\u0435\u043d\u044c",dd:I,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:I,y:"\u0440\u0456\u043a",yy:I},ordinal:function(K){return K},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"}};return T.default.locale(F,null,!0),F}(g(9645))},9163:function(G,ae,g){G.exports=function(e){"use strict";var T=function k(m){return m&&"object"==typeof m&&"default"in m?m:{default:m}}(e),D={name:"zh",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(m,N){return"W"===N?m+"\u5468":m+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(m,N){var I=100*m+N;return I<600?"\u51cc\u6668":I<900?"\u65e9\u4e0a":I<1100?"\u4e0a\u5348":I<1300?"\u4e2d\u5348":I<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return T.default.locale(D,null,!0),D}(g(9645))},1:function(G){G.exports=function(){"use strict";var ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},g=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,e=/\d\d/,k=/\d\d?/,T=/\d*[^-_:/,()\s\d]+/,D={},m=function(M){return(M=+M)+(M>68?1900:2e3)},N=function(M){return function(H){this[M]=+H}},I=[/[+-]\d\d:?(\d\d)?|Z/,function(M){(this.zone||(this.zone={})).offset=function(H){if(!H||"Z"===H)return 0;var se=H.match(/([+-]|\d\d)/g),be=60*se[1]+(+se[2]||0);return 0===be?0:"+"===se[0]?-be:be}(M)}],Y=function(M){var H=D[M];return H&&(H.indexOf?H:H.s.concat(H.f))},F=function(M,H){var se,be=D.meridiem;if(be){for(var ie=1;ie<=24;ie+=1)if(M.indexOf(be(ie,0,H))>-1){se=ie>12;break}}else se=M===(H?"pm":"PM");return se},K={A:[T,function(M){this.afternoon=F(M,!1)}],a:[T,function(M){this.afternoon=F(M,!0)}],S:[/\d/,function(M){this.milliseconds=100*+M}],SS:[e,function(M){this.milliseconds=10*+M}],SSS:[/\d{3}/,function(M){this.milliseconds=+M}],s:[k,N("seconds")],ss:[k,N("seconds")],m:[k,N("minutes")],mm:[k,N("minutes")],H:[k,N("hours")],h:[k,N("hours")],HH:[k,N("hours")],hh:[k,N("hours")],D:[k,N("day")],DD:[e,N("day")],Do:[T,function(M){var H=D.ordinal,se=M.match(/\d+/);if(this.day=se[0],H)for(var be=1;be<=31;be+=1)H(be).replace(/\[|\]/g,"")===M&&(this.day=be)}],M:[k,N("month")],MM:[e,N("month")],MMM:[T,function(M){var H=Y("months"),se=(Y("monthsShort")||H.map(function(be){return be.slice(0,3)})).indexOf(M)+1;if(se<1)throw new Error;this.month=se%12||se}],MMMM:[T,function(M){var H=Y("months").indexOf(M)+1;if(H<1)throw new Error;this.month=H%12||H}],Y:[/[+-]?\d+/,N("year")],YY:[e,function(M){this.year=m(M)}],YYYY:[/\d{4}/,N("year")],Z:I,ZZ:I};return function(M,H,se){se.p.customParseFormat=!0,M&&M.parseTwoDigitYear&&(m=M.parseTwoDigitYear);var be=H.prototype,ie=be.parse;be.parse=function(Ye){var Be=Ye.date,Ve=Ye.utc,Xe=Ye.args;this.$u=Ve;var me=Xe[1];if("string"==typeof me){var Ae=!0===Xe[2],ye=!0===Xe[3],De=Ae||ye,y=Xe[2];ye&&(y=Xe[2]),D=this.$locale(),!Ae&&y&&(D=se.Ls[y]),this.$d=function(c,d,f){try{if(["x","X"].indexOf(d)>-1)return new Date(("X"===d?1e3:1)*c);var w=function Q(M){var se;se=D&&D.formats;for(var be=(M=M.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Ae,ye,De){var y=De&&De.toUpperCase();return ye||se[De]||ae[De]||se[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,h,v){return h||v.slice(1)})})).match(g),ie=be.length,Ye=0;Ye<ie;Ye+=1){var Be=be[Ye],Ve=K[Be],me=Ve&&Ve[1];be[Ye]=me?{regex:Ve&&Ve[0],parser:me}:Be.replace(/^\[|\]$/g,"")}return function(Ae){for(var ye={},De=0,y=0;De<ie;De+=1){var p=be[De];if("string"==typeof p)y+=p.length;else{var h=p.regex,v=p.parser,c=Ae.slice(y),d=h.exec(c)[0];v.call(ye,d),Ae=Ae.replace(d,"")}}return function(f){var w=f.afternoon;if(void 0!==w){var C=f.hours;w?C<12&&(f.hours+=12):12===C&&(f.hours=0),delete f.afternoon}}(ye),ye}}(d)(c),C=w.year,x=w.month,L=w.day,O=w.hours,E=w.minutes,Z=w.seconds,X=w.milliseconds,P=w.zone,z=new Date,V=L||(C||x?1:z.getDate()),re=C||z.getFullYear(),Ce=0;C&&!x||(Ce=x>0?x-1:z.getMonth());var U=O||0,te=E||0,_e=Z||0,de=X||0;return P?new Date(Date.UTC(re,Ce,V,U,te,_e,de+60*P.offset*1e3)):f?new Date(Date.UTC(re,Ce,V,U,te,_e,de)):new Date(re,Ce,V,U,te,_e,de)}catch{return new Date("")}}(Be,me,Ve),this.init(),y&&!0!==y&&(this.$L=this.locale(y).$L),De&&Be!=this.format(me)&&(this.$d=new Date("")),D={}}else if(me instanceof Array)for(var p=me.length,h=1;h<=p;h+=1){Xe[1]=me[h-1];var v=se.apply(this,Xe);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}h===p&&(this.$d=new Date(""))}else ie.call(this,Ye)}}}()},1444:function(G){G.exports=function(){"use strict";return function(ae,g,e){var T=function(Y){return Y&&(Y.indexOf?Y:Y.s)},D=function(Y,F,K,Q,M){var H=Y.name?Y:Y.$locale(),se=T(H[F]),be=T(H[K]),ie=se||be.map(function(Be){return Be.slice(0,Q)});if(!M)return ie;var Ye=H.weekStart;return ie.map(function(Be,Ve){return ie[(Ve+(Ye||0))%7]})},m=function(){return e.Ls[e.locale()]},N=function(Y,F){return Y.formats[F]||Y.formats[F.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Q,M,H){return M||H.slice(1)})},I=function(){var Y=this;return{months:function(F){return F?F.format("MMMM"):D(Y,"months")},monthsShort:function(F){return F?F.format("MMM"):D(Y,"monthsShort","months",3)},firstDayOfWeek:function(){return Y.$locale().weekStart||0},weekdays:function(F){return F?F.format("dddd"):D(Y,"weekdays")},weekdaysMin:function(F){return F?F.format("dd"):D(Y,"weekdaysMin","weekdays",2)},weekdaysShort:function(F){return F?F.format("ddd"):D(Y,"weekdaysShort","weekdays",3)},longDateFormat:function(F){return N(Y.$locale(),F)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};g.prototype.localeData=function(){return I.bind(this)()},e.localeData=function(){var Y=m();return{firstDayOfWeek:function(){return Y.weekStart||0},weekdays:function(){return e.weekdays()},weekdaysShort:function(){return e.weekdaysShort()},weekdaysMin:function(){return e.weekdaysMin()},months:function(){return e.months()},monthsShort:function(){return e.monthsShort()},longDateFormat:function(F){return N(Y,F)},meridiem:Y.meridiem,ordinal:Y.ordinal}},e.months=function(){return D(m(),"months")},e.monthsShort=function(){return D(m(),"monthsShort","months",3)},e.weekdays=function(Y){return D(m(),"weekdays",null,null,Y)},e.weekdaysShort=function(Y){return D(m(),"weekdaysShort","weekdays",3,Y)},e.weekdaysMin=function(Y){return D(m(),"weekdaysMin","weekdays",2,Y)}}}()},3066:function(G){G.exports=function(){"use strict";var ae={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(g,e,k){var T=e.prototype,D=T.format;k.en.formats=ae,T.format=function(m){void 0===m&&(m="YYYY-MM-DDTHH:mm:ssZ");var F,N=this.$locale().formats,I=(F=void 0===N?{}:N,m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(K,Q,M){var H=M&&M.toUpperCase();return Q||F[M]||ae[M]||F[H].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(se,be,ie){return be||ie.slice(1)})}));return D.call(this,I)}}}()},1102:function(G){G.exports=function(){"use strict";var g=/[+-]\d\d(?::?\d\d)?/g,e=/([+-]|\d\d)/g;return function(k,T,D){var m=T.prototype;D.utc=function(M){return new T({date:M,utc:!0,args:arguments})},m.utc=function(M){var H=D(this.toDate(),{locale:this.$L,utc:!0});return M?H.add(this.utcOffset(),"minute"):H},m.local=function(){return D(this.toDate(),{locale:this.$L,utc:!1})};var N=m.parse;m.parse=function(M){M.utc&&(this.$u=!0),this.$utils().u(M.$offset)||(this.$offset=M.$offset),N.call(this,M)};var I=m.init;m.init=function(){if(this.$u){var M=this.$d;this.$y=M.getUTCFullYear(),this.$M=M.getUTCMonth(),this.$D=M.getUTCDate(),this.$W=M.getUTCDay(),this.$H=M.getUTCHours(),this.$m=M.getUTCMinutes(),this.$s=M.getUTCSeconds(),this.$ms=M.getUTCMilliseconds()}else I.call(this)};var Y=m.utcOffset;m.utcOffset=function(M,H){var se=this.$utils().u;if(se(M))return this.$u?0:se(this.$offset)?Y.call(this):this.$offset;if("string"==typeof M&&null===(M=function(Be){void 0===Be&&(Be="");var Ve=Be.match(g);if(!Ve)return null;var Xe=(""+Ve[0]).match(e)||["-",0,0],Ae=60*+Xe[1]+ +Xe[2];return 0===Ae?0:"+"===Xe[0]?Ae:-Ae}(M)))return this;var be=Math.abs(M)<=16?60*M:M,ie=this;if(H)return ie.$offset=be,ie.$u=0===M,ie;if(0!==M){var Ye=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ie=this.local().add(be+Ye,"minute")).$offset=be,ie.$x.$localOffset=Ye}else ie=this.utc();return ie};var F=m.format;m.format=function(M){return F.call(this,M||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},m.valueOf=function(){var M=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*M},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var K=m.toDate;m.toDate=function(M){return"s"===M&&this.$offset?D(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():K.call(this)};var Q=m.diff;m.diff=function(M,H,se){if(M&&this.$u===M.$u)return Q.call(this,M,H,se);var be=this.local(),ie=D(M).local();return Q.call(be,ie,H,se)}}}()},5176:(G,ae,g)=>{"use strict";function e(y){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function T(y,p){return(T=Object.setPrototypeOf||function(v,c){return v.__proto__=c,v})(y,p)}function m(y,p){return!p||"object"!==e(p)&&"function"!=typeof p?N(y):p}function N(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function Y(y){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}function F(y,p){var h;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(h=function K(y,p){if(y){if("string"==typeof y)return Q(y,p);var h=Object.prototype.toString.call(y).slice(8,-1);if("Object"===h&&y.constructor&&(h=y.constructor.name),"Map"===h||"Set"===h)return Array.from(y);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Q(y,p)}}(y))||p&&y&&"number"==typeof y.length){h&&(y=h);var v=0,c=function(){};return{s:c,n:function(){return v>=y.length?{done:!0}:{done:!1,value:y[v++]}},e:function(x){throw x},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,d=!0,f=!1;return{s:function(){h=y[Symbol.iterator]()},n:function(){var x=h.next();return d=x.done,x},e:function(x){f=!0,w=x},f:function(){try{!d&&null!=h.return&&h.return()}finally{if(f)throw w}}}}function Q(y,p){(null==p||p>y.length)&&(p=y.length);for(var h=0,v=new Array(p);h<p;h++)v[h]=y[h];return v}function M(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function H(y,p){for(var h=0;h<p.length;h++){var v=p[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}function se(y,p,h){return p&&H(y.prototype,p),h&&H(y,h),y}G=g.nmd(G);var be=function(){function y(){M(this,y)}return se(y,[{key:"on",value:function(h,v){return this._callbacks=this._callbacks||{},this._callbacks[h]||(this._callbacks[h]=[]),this._callbacks[h].push(v),this}},{key:"emit",value:function(h){this._callbacks=this._callbacks||{};var v=this._callbacks[h];if(v){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];var C,w=F(v);try{for(w.s();!(C=w.n()).done;)C.value.apply(this,d)}catch(L){w.e(L)}finally{w.f()}}return this}},{key:"off",value:function(h,v){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var c=this._callbacks[h];if(!c)return this;if(1===arguments.length)return delete this._callbacks[h],this;for(var d=0;d<c.length;d++)if(c[d]===v){c.splice(d,1);break}return this}}]),y}(),ie=function(y){!function k(y,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&T(y,p)}(h,y);var p=function D(y){var p=function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,v=Y(y);if(p){var d=Y(this).constructor;c=Reflect.construct(v,arguments,d)}else c=v.apply(this,arguments);return m(this,c)}}(h);function h(v,c){var d,f,w;if(M(this,h),(d=p.call(this)).element=v,d.version=h.version,d.defaultOptions.previewTemplate=d.defaultOptions.previewTemplate.replace(/\n*/g,""),d.clickableElements=[],d.listeners=[],d.files=[],"string"==typeof d.element&&(d.element=document.querySelector(d.element)),!d.element||null==d.element.nodeType)throw new Error("Invalid dropzone element.");if(d.element.dropzone)throw new Error("Dropzone already attached.");h.instances.push(N(d)),d.element.dropzone=N(d);var C=null!=(w=h.optionsForElement(d.element))?w:{};if(d.options=h.extend({},d.defaultOptions,C,c??{}),d.options.forceFallback||!h.isBrowserSupported())return m(d,d.options.fallback.call(N(d)));if(null==d.options.url&&(d.options.url=d.element.getAttribute("action")),!d.options.url)throw new Error("No URL provided.");if(d.options.acceptedFiles&&d.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(d.options.uploadMultiple&&d.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return d.options.acceptedMimeTypes&&(d.options.acceptedFiles=d.options.acceptedMimeTypes,delete d.options.acceptedMimeTypes),null!=d.options.renameFilename&&(d.options.renameFile=function(x){return d.options.renameFilename.call(N(d),x.name,x)}),"string"==typeof d.options.method&&(d.options.method=d.options.method.toUpperCase()),(f=d.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),!1!==d.options.previewsContainer&&(d.previewsContainer=d.options.previewsContainer?h.getElement(d.options.previewsContainer,"previewsContainer"):d.element),d.options.clickable&&(d.clickableElements=!0===d.options.clickable?[d.element]:h.getElements(d.options.clickable,"clickable")),d.init(),d}return se(h,null,[{key:"initClass",value:function(){this.prototype.Emitter=be,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(d,f,w){if(w)return{dzuuid:w.file.upload.uuid,dzchunkindex:w.index,dztotalfilesize:w.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:w.file.upload.totalChunkCount,dzchunkbyteoffset:w.index*this.options.chunkSize}},accept:function(d,f){return f()},chunksUploaded:function(d,f){f()},fallback:function(){var d;this.element.className="".concat(this.element.className," dz-browser-not-supported");var w,f=F(this.element.getElementsByTagName("div"));try{for(f.s();!(w=f.n()).done;){var C=w.value;if(/(^| )dz-message($| )/.test(C.className)){d=C,C.className="dz-message";break}}}catch(L){f.e(L)}finally{f.f()}d||(d=h.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(d));var x=d.getElementsByTagName("span")[0];return x&&(null!=x.textContent?x.textContent=this.options.dictFallbackMessage:null!=x.innerText&&(x.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(d,f,w,C){var x={srcX:0,srcY:0,srcWidth:d.width,srcHeight:d.height},L=d.width/d.height;null==f&&null==w?(f=x.srcWidth,w=x.srcHeight):null==f?f=w*L:null==w&&(w=f/L);var O=(f=Math.min(f,x.srcWidth))/(w=Math.min(w,x.srcHeight));if(x.srcWidth>f||x.srcHeight>w)if("crop"===C)L>O?(x.srcHeight=d.height,x.srcWidth=x.srcHeight*O):(x.srcWidth=d.width,x.srcHeight=x.srcWidth/O);else{if("contain"!==C)throw new Error("Unknown resizeMethod '".concat(C,"'"));L>O?w=f/L:f=w*L}return x.srcX=(d.width-x.srcWidth)/2,x.srcY=(d.height-x.srcHeight)/2,x.trgWidth=f,x.trgHeight=w,x},transformFile:function(d,f){return(this.options.resizeWidth||this.options.resizeHeight)&&d.type.match(/image.*/)?this.resizeImage(d,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,f):f(d)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(d){return this.element.classList.remove("dz-drag-hover")},dragstart:function(d){},dragend:function(d){return this.element.classList.remove("dz-drag-hover")},dragenter:function(d){return this.element.classList.add("dz-drag-hover")},dragover:function(d){return this.element.classList.add("dz-drag-hover")},dragleave:function(d){return this.element.classList.remove("dz-drag-hover")},paste:function(d){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(d){var f=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){d.previewElement=h.createElement(this.options.previewTemplate.trim()),d.previewTemplate=d.previewElement,this.previewsContainer.appendChild(d.previewElement);var C,w=F(d.previewElement.querySelectorAll("[data-dz-name]"));try{for(w.s();!(C=w.n()).done;){var x=C.value;x.textContent=d.name}}catch(z){w.e(z)}finally{w.f()}var O,L=F(d.previewElement.querySelectorAll("[data-dz-size]"));try{for(L.s();!(O=L.n()).done;)(x=O.value).innerHTML=this.filesize(d.size)}catch(z){L.e(z)}finally{L.f()}this.options.addRemoveLinks&&(d._removeLink=h.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),d.previewElement.appendChild(d._removeLink));var X,E=function(V){return V.preventDefault(),V.stopPropagation(),d.status===h.UPLOADING?h.confirm(f.options.dictCancelUploadConfirmation,function(){return f.removeFile(d)}):f.options.dictRemoveFileConfirmation?h.confirm(f.options.dictRemoveFileConfirmation,function(){return f.removeFile(d)}):f.removeFile(d)},Z=F(d.previewElement.querySelectorAll("[data-dz-remove]"));try{for(Z.s();!(X=Z.n()).done;)X.value.addEventListener("click",E)}catch(z){Z.e(z)}finally{Z.f()}}},removedfile:function(d){return null!=d.previewElement&&null!=d.previewElement.parentNode&&d.previewElement.parentNode.removeChild(d.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(d,f){if(d.previewElement){d.previewElement.classList.remove("dz-file-preview");var C,w=F(d.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(w.s();!(C=w.n()).done;){var x=C.value;x.alt=d.name,x.src=f}}catch(L){w.e(L)}finally{w.f()}return setTimeout(function(){return d.previewElement.classList.add("dz-image-preview")},1)}},error:function(d,f){if(d.previewElement){d.previewElement.classList.add("dz-error"),"string"!=typeof f&&f.error&&(f=f.error);var C,w=F(d.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(w.s();!(C=w.n()).done;)C.value.textContent=f}catch(L){w.e(L)}finally{w.f()}}},errormultiple:function(){},processing:function(d){if(d.previewElement&&(d.previewElement.classList.add("dz-processing"),d._removeLink))return d._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(d,f,w){if(d.previewElement){var x,C=F(d.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(C.s();!(x=C.n()).done;){var L=x.value;"PROGRESS"===L.nodeName?L.value=f:L.style.width="".concat(f,"%")}}catch(O){C.e(O)}finally{C.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(d){if(d.previewElement)return d.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(d){return this.emit("error",d,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(d){if(d._removeLink&&(d._removeLink.innerHTML=this.options.dictRemoveFile),d.previewElement)return d.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),w=1;w<d;w++)f[w-1]=arguments[w];for(var C=0,x=f;C<x.length;C++){var L=x[C];for(var O in L)c[O]=L[O]}return c}}]),se(h,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(c){return c.accepted}).map(function(c){return c})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(c){return!c.accepted}).map(function(c){return c})}},{key:"getFilesWithStatus",value:function(c){return this.files.filter(function(d){return d.status===c}).map(function(d){return d})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(h.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(h.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(h.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(c){return c.status===h.UPLOADING||c.status===h.QUEUED}).map(function(c){return c})}},{key:"init",value:function(){var c=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(h.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function O(){return c.hiddenFileInput&&c.hiddenFileInput.parentNode.removeChild(c.hiddenFileInput),c.hiddenFileInput=document.createElement("input"),c.hiddenFileInput.setAttribute("type","file"),(null===c.options.maxFiles||c.options.maxFiles>1)&&c.hiddenFileInput.setAttribute("multiple","multiple"),c.hiddenFileInput.className="dz-hidden-input",null!==c.options.acceptedFiles&&c.hiddenFileInput.setAttribute("accept",c.options.acceptedFiles),null!==c.options.capture&&c.hiddenFileInput.setAttribute("capture",c.options.capture),c.hiddenFileInput.style.visibility="hidden",c.hiddenFileInput.style.position="absolute",c.hiddenFileInput.style.top="0",c.hiddenFileInput.style.left="0",c.hiddenFileInput.style.height="0",c.hiddenFileInput.style.width="0",h.getElement(c.options.hiddenInputContainer,"hiddenInputContainer").appendChild(c.hiddenFileInput),c.hiddenFileInput.addEventListener("change",function(){var E=c.hiddenFileInput.files;if(E.length){var X,Z=F(E);try{for(Z.s();!(X=Z.n()).done;)c.addFile(X.value)}catch(z){Z.e(z)}finally{Z.f()}}return c.emit("addedfiles",E),O()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var w,f=F(this.events);try{for(f.s();!(w=f.n()).done;){var C=w.value;this.on(C,this.options[C])}}catch(O){f.e(O)}finally{f.f()}this.on("uploadprogress",function(){return c.updateTotalUploadProgress()}),this.on("removedfile",function(){return c.updateTotalUploadProgress()}),this.on("canceled",function(O){return c.emit("complete",O)}),this.on("complete",function(O){if(0===c.getAddedFiles().length&&0===c.getUploadingFiles().length&&0===c.getQueuedFiles().length)return setTimeout(function(){return c.emit("queuecomplete")},0)});var L=function(E){if(function(E){if(E.dataTransfer.types)for(var Z=0;Z<E.dataTransfer.types.length;Z++)if("Files"===E.dataTransfer.types[Z])return!0;return!1}(E))return E.stopPropagation(),E.preventDefault?E.preventDefault():E.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(E){return c.emit("dragstart",E)},dragenter:function(E){return L(E),c.emit("dragenter",E)},dragover:function(E){var Z;try{Z=E.dataTransfer.effectAllowed}catch{}return E.dataTransfer.dropEffect="move"===Z||"linkMove"===Z?"move":"copy",L(E),c.emit("dragover",E)},dragleave:function(E){return c.emit("dragleave",E)},drop:function(E){return L(E),c.drop(E)},dragend:function(E){return c.emit("dragend",E)}}}],this.clickableElements.forEach(function(O){return c.listeners.push({element:O,events:{click:function(Z){return(O!==c.element||Z.target===c.element||h.elementInside(Z.target,c.element.querySelector(".dz-message")))&&c.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,h.instances.splice(h.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var c,d=0,f=0;if(this.getActiveFiles().length){var x,C=F(this.getActiveFiles());try{for(C.s();!(x=C.n()).done;){var L=x.value;d+=L.upload.bytesSent,f+=L.upload.total}}catch(O){C.e(O)}finally{C.f()}c=100*d/f}else c=100;return this.emit("totaluploadprogress",c,f,d)}},{key:"_getParamName",value:function(c){return"function"==typeof this.options.paramName?this.options.paramName(c):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(c,"]"):"")}},{key:"_renameFile",value:function(c){return"function"!=typeof this.options.renameFile?c.name:this.options.renameFile(c)}},{key:"getFallbackForm",value:function(){var c,d;if(c=this.getExistingFallback())return c;var f='<div class="dz-fallback">';this.options.dictFallbackText&&(f+="<p>".concat(this.options.dictFallbackText,"</p>")),f+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var w=h.createElement(f);return"FORM"!==this.element.tagName?(d=h.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(w):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),d??w}},{key:"getExistingFallback",value:function(){for(var c=function(L){var E,O=F(L);try{for(O.s();!(E=O.n()).done;){var Z=E.value;if(/(^| )fallback($| )/.test(Z.className))return Z}}catch(X){O.e(X)}finally{O.f()}},d=0,f=["div","form"];d<f.length;d++){var C;if(C=c(this.element.getElementsByTagName(f[d])))return C}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(c){return function(){var d=[];for(var f in c.events)d.push(c.element.addEventListener(f,c.events[f],!1));return d}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(c){return function(){var d=[];for(var f in c.events)d.push(c.element.removeEventListener(f,c.events[f],!1));return d}()})}},{key:"disable",value:function(){var c=this;return this.clickableElements.forEach(function(d){return d.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(d){return c.cancelUpload(d)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(c){return c.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(c){var d=0,f="b";if(c>0){for(var w=["tb","gb","mb","kb","b"],C=0;C<w.length;C++){var x=w[C];if(c>=Math.pow(this.options.filesizeBase,4-C)/10){d=c/Math.pow(this.options.filesizeBase,4-C),f=x;break}}d=Math.round(10*d)/10}return"<strong>".concat(d,"</strong> ").concat(this.options.dictFileSizeUnits[f])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(c){if(c.dataTransfer){this.emit("drop",c);for(var d=[],f=0;f<c.dataTransfer.files.length;f++)d[f]=c.dataTransfer.files[f];if(d.length){var w=c.dataTransfer.items;w&&w.length&&null!=w[0].webkitGetAsEntry?this._addFilesFromItems(w):this.handleFiles(d)}this.emit("addedfiles",d)}}},{key:"paste",value:function(c){if(null!=function ye(y,p){return typeof y<"u"&&null!==y?p(y):void 0}(c?.clipboardData,function(f){return f.items})){this.emit("paste",c);var d=c.clipboardData.items;if(d.length)return this._addFilesFromItems(d)}}},{key:"handleFiles",value:function(c){var f,d=F(c);try{for(d.s();!(f=d.n()).done;)this.addFile(f.value)}catch(C){d.e(C)}finally{d.f()}}},{key:"_addFilesFromItems",value:function(c){var d=this;return function(){var C,f=[],w=F(c);try{for(w.s();!(C=w.n()).done;){var L,x=C.value;null!=x.webkitGetAsEntry&&(L=x.webkitGetAsEntry())?f.push(L.isFile?d.addFile(x.getAsFile()):L.isDirectory?d._addFilesFromDirectory(L,L.name):void 0):f.push(null==x.getAsFile||null!=x.kind&&"file"!==x.kind?void 0:d.addFile(x.getAsFile()))}}catch(O){w.e(O)}finally{w.f()}return f}()}},{key:"_addFilesFromDirectory",value:function(c,d){var f=this,w=c.createReader(),C=function(O){return function De(y,p,h){if(typeof y<"u"&&null!==y&&"function"==typeof y[p])return h(y,p)}(console,"log",function(E){return E.log(O)})};return function L(){return w.readEntries(function(O){if(O.length>0){var Z,E=F(O);try{for(E.s();!(Z=E.n()).done;){var X=Z.value;X.isFile?X.file(function(P){if(!f.options.ignoreHiddenFiles||"."!==P.name.substring(0,1))return P.fullPath="".concat(d,"/").concat(P.name),f.addFile(P)}):X.isDirectory&&f._addFilesFromDirectory(X,"".concat(d,"/").concat(X.name))}}catch(P){E.e(P)}finally{E.f()}L()}return null},C)}()}},{key:"accept",value:function(c,d){this.options.maxFilesize&&c.size>1024*this.options.maxFilesize*1024?d(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(c.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):h.isValidFile(c,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(d(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",c)):this.options.accept.call(this,c,d):d(this.options.dictInvalidFileType)}},{key:"addFile",value:function(c){var d=this;c.upload={uuid:h.uuidv4(),progress:0,total:c.size,bytesSent:0,filename:this._renameFile(c)},this.files.push(c),c.status=h.ADDED,this.emit("addedfile",c),this._enqueueThumbnail(c),this.accept(c,function(f){f?(c.accepted=!1,d._errorProcessing([c],f)):(c.accepted=!0,d.options.autoQueue&&d.enqueueFile(c)),d._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(c){var f,d=F(c);try{for(d.s();!(f=d.n()).done;)this.enqueueFile(f.value)}catch(C){d.e(C)}finally{d.f()}return null}},{key:"enqueueFile",value:function(c){var d=this;if(c.status!==h.ADDED||!0!==c.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(c.status=h.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return d.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(c){var d=this;if(this.options.createImageThumbnails&&c.type.match(/image.*/)&&c.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(c),setTimeout(function(){return d._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var c=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var d=this._thumbnailQueue.shift();return this.createThumbnail(d,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(f){return c.emit("thumbnail",d,f),c._processingThumbnail=!1,c._processThumbnailQueue()})}}},{key:"removeFile",value:function(c){if(c.status===h.UPLOADING&&this.cancelUpload(c),this.files=Ye(this.files,c),this.emit("removedfile",c),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(c){null==c&&(c=!1);var f,d=F(this.files.slice());try{for(d.s();!(f=d.n()).done;){var w=f.value;(w.status!==h.UPLOADING||c)&&this.removeFile(w)}}catch(C){d.e(C)}finally{d.f()}return null}},{key:"resizeImage",value:function(c,d,f,w,C){var x=this;return this.createThumbnail(c,d,f,w,!0,function(L,O){if(null==O)return C(c);var E=x.options.resizeMimeType;null==E&&(E=c.type);var Z=O.toDataURL(E,x.options.resizeQuality);return("image/jpeg"===E||"image/jpg"===E)&&(Z=me.restore(c.dataURL,Z)),C(h.dataURItoBlob(Z))})}},{key:"createThumbnail",value:function(c,d,f,w,C,x){var L=this,O=new FileReader;O.onload=function(){c.dataURL=O.result,"image/svg+xml"!==c.type?L.createThumbnailFromUrl(c,d,f,w,C,x):x?.(O.result)},O.readAsDataURL(c)}},{key:"displayExistingFile",value:function(c,d,f,w){var C=this,x=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.emit("addedfile",c),this.emit("complete",c),x?(c.dataURL=d,this.createThumbnailFromUrl(c,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(E){C.emit("thumbnail",c,E),f&&f()},w)):(this.emit("thumbnail",c,d),f&&f())}},{key:"createThumbnailFromUrl",value:function(c,d,f,w,C,x,L){var O=this,E=document.createElement("img");return L&&(E.crossOrigin=L),C="from-image"!=getComputedStyle(document.body).imageOrientation&&C,E.onload=function(){var Z=function(P){return P(1)};return typeof EXIF<"u"&&null!==EXIF&&C&&(Z=function(P){return EXIF.getData(E,function(){return P(EXIF.getTag(this,"Orientation"))})}),Z(function(X){c.width=E.width,c.height=E.height;var P=O.options.resize.call(O,c,d,f,w),z=document.createElement("canvas"),V=z.getContext("2d");switch(z.width=P.trgWidth,z.height=P.trgHeight,X>4&&(z.width=P.trgHeight,z.height=P.trgWidth),X){case 2:V.translate(z.width,0),V.scale(-1,1);break;case 3:V.translate(z.width,z.height),V.rotate(Math.PI);break;case 4:V.translate(0,z.height),V.scale(1,-1);break;case 5:V.rotate(.5*Math.PI),V.scale(1,-1);break;case 6:V.rotate(.5*Math.PI),V.translate(0,-z.width);break;case 7:V.rotate(.5*Math.PI),V.translate(z.height,-z.width),V.scale(-1,1);break;case 8:V.rotate(-.5*Math.PI),V.translate(-z.height,0)}Xe(V,E,null!=P.srcX?P.srcX:0,null!=P.srcY?P.srcY:0,P.srcWidth,P.srcHeight,null!=P.trgX?P.trgX:0,null!=P.trgY?P.trgY:0,P.trgWidth,P.trgHeight);var re=z.toDataURL("image/png");if(null!=x)return x(re,z)})},null!=x&&(E.onerror=x),E.src=c.dataURL}},{key:"processQueue",value:function(){var c=this.options.parallelUploads,d=this.getUploadingFiles().length,f=d;if(!(d>=c)){var w=this.getQueuedFiles();if(w.length>0){if(this.options.uploadMultiple)return this.processFiles(w.slice(0,c-d));for(;f<c;){if(!w.length)return;this.processFile(w.shift()),f++}}}}},{key:"processFile",value:function(c){return this.processFiles([c])}},{key:"processFiles",value:function(c){var f,d=F(c);try{for(d.s();!(f=d.n()).done;){var w=f.value;w.processing=!0,w.status=h.UPLOADING,this.emit("processing",w)}}catch(C){d.e(C)}finally{d.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",c),this.uploadFiles(c)}},{key:"_getFilesWithXhr",value:function(c){return this.files.filter(function(f){return f.xhr===c}).map(function(f){return f})}},{key:"cancelUpload",value:function(c){if(c.status===h.UPLOADING){var w,d=this._getFilesWithXhr(c.xhr),f=F(d);try{for(f.s();!(w=f.n()).done;)w.value.status=h.CANCELED}catch(E){f.e(E)}finally{f.f()}typeof c.xhr<"u"&&c.xhr.abort();var L,x=F(d);try{for(x.s();!(L=x.n()).done;)this.emit("canceled",L.value)}catch(E){x.e(E)}finally{x.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else(c.status===h.ADDED||c.status===h.QUEUED)&&(c.status=h.CANCELED,this.emit("canceled",c),this.options.uploadMultiple&&this.emit("canceledmultiple",[c]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(c){if("function"==typeof c){for(var d=arguments.length,f=new Array(d>1?d-1:0),w=1;w<d;w++)f[w-1]=arguments[w];return c.apply(this,f)}return c}},{key:"uploadFile",value:function(c){return this.uploadFiles([c])}},{key:"uploadFiles",value:function(c){var d=this;this._transformFiles(c,function(f){if(d.options.chunking){var w=f[0];c[0].upload.chunked=d.options.chunking&&(d.options.forceChunking||w.size>d.options.chunkSize),c[0].upload.totalChunkCount=Math.ceil(w.size/d.options.chunkSize)}if(c[0].upload.chunked){var C=c[0],x=f[0];C.upload.chunks=[];var O=function(){for(var z=0;void 0!==C.upload.chunks[z];)z++;if(!(z>=C.upload.totalChunkCount)){var V=z*d.options.chunkSize,re=Math.min(V+d.options.chunkSize,x.size),Ce={name:d._getParamName(0),data:x.webkitSlice?x.webkitSlice(V,re):x.slice(V,re),filename:C.upload.filename,chunkIndex:z};C.upload.chunks[z]={file:C,index:z,dataBlock:Ce,status:h.UPLOADING,progress:0,retries:0},d._uploadData(c,[Ce])}};if(C.upload.finishedChunkUpload=function(P){var z=!0;P.status=h.SUCCESS,P.dataBlock=null,P.xhr=null;for(var V=0;V<C.upload.totalChunkCount;V++){if(void 0===C.upload.chunks[V])return O();C.upload.chunks[V].status!==h.SUCCESS&&(z=!1)}z&&d.options.chunksUploaded(C,function(){d._finished(c,"",null)})},d.options.parallelChunkUploads)for(var E=0;E<C.upload.totalChunkCount;E++)O();else O()}else{for(var Z=[],X=0;X<c.length;X++)Z[X]={name:d._getParamName(X),data:f[X],filename:c[X].upload.filename};d._uploadData(c,Z)}})}},{key:"_getChunk",value:function(c,d){for(var f=0;f<c.upload.totalChunkCount;f++)if(void 0!==c.upload.chunks[f]&&c.upload.chunks[f].xhr===d)return c.upload.chunks[f]}},{key:"_uploadData",value:function(c,d){var x,f=this,w=new XMLHttpRequest,C=F(c);try{for(C.s();!(x=C.n()).done;)x.value.xhr=w}catch(Me){C.e(Me)}finally{C.f()}c[0].upload.chunked&&(c[0].upload.chunks[d[0].chunkIndex].xhr=w);var O=this.resolveOption(this.options.method,c),E=this.resolveOption(this.options.url,c);w.open(O,E,!0),w.timeout=this.resolveOption(this.options.timeout,c),w.withCredentials=!!this.options.withCredentials,w.onload=function(Me){f._finishedUploading(c,w,Me)},w.ontimeout=function(){f._handleUploadError(c,w,"Request timedout after ".concat(f.options.timeout/1e3," seconds"))},w.onerror=function(){f._handleUploadError(c,w)},(null!=w.upload?w.upload:w).onprogress=function(Me){return f._updateFilesUploadProgress(c,w,Me)};var X={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var P in this.options.headers&&h.extend(X,this.options.headers),X){var z=X[P];z&&w.setRequestHeader(P,z)}var V=new FormData;if(this.options.params){var re=this.options.params;for(var Ce in"function"==typeof re&&(re=re.call(this,c,w,c[0].upload.chunked?this._getChunk(c[0],w):null)),re){var U=re[Ce];if(Array.isArray(U))for(var te=0;te<U.length;te++)V.append(Ce,U[te]);else V.append(Ce,U)}}var de,_e=F(c);try{for(_e.s();!(de=_e.n()).done;)this.emit("sending",de.value,w,V)}catch(Me){_e.e(Me)}finally{_e.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",c,w,V),this._addFormElementData(V);for(var Ie=0;Ie<d.length;Ie++){var $e=d[Ie];V.append($e.name,$e.data,$e.filename)}this.submitRequest(w,V,c)}},{key:"_transformFiles",value:function(c,d){for(var f=this,w=[],C=0,x=function(E){f.options.transformFile.call(f,c[E],function(Z){w[E]=Z,++C===c.length&&d(w)})},L=0;L<c.length;L++)x(L)}},{key:"_addFormElementData",value:function(c){if("FORM"===this.element.tagName){var f,d=F(this.element.querySelectorAll("input, textarea, select, button"));try{for(d.s();!(f=d.n()).done;){var w=f.value,C=w.getAttribute("name"),x=w.getAttribute("type");if(x&&(x=x.toLowerCase()),!(typeof C>"u"||null===C))if("SELECT"===w.tagName&&w.hasAttribute("multiple")){var O,L=F(w.options);try{for(L.s();!(O=L.n()).done;){var E=O.value;E.selected&&c.append(C,E.value)}}catch(Z){L.e(Z)}finally{L.f()}}else(!x||"checkbox"!==x&&"radio"!==x||w.checked)&&c.append(C,w.value)}}catch(Z){d.e(Z)}finally{d.f()}}}},{key:"_updateFilesUploadProgress",value:function(c,d,f){var w;if(typeof f<"u"){if(w=100*f.loaded/f.total,c[0].upload.chunked){var C=c[0],x=this._getChunk(C,d);x.progress=w,x.total=f.total,x.bytesSent=f.loaded,C.upload.progress=0,C.upload.total=0,C.upload.bytesSent=0;for(var Z=0;Z<C.upload.totalChunkCount;Z++)void 0!==C.upload.chunks[Z]&&void 0!==C.upload.chunks[Z].progress&&(C.upload.progress+=C.upload.chunks[Z].progress,C.upload.total+=C.upload.chunks[Z].total,C.upload.bytesSent+=C.upload.chunks[Z].bytesSent);C.upload.progress=C.upload.progress/C.upload.totalChunkCount}else{var P,X=F(c);try{for(X.s();!(P=X.n()).done;){var z=P.value;z.upload.progress=w,z.upload.total=f.total,z.upload.bytesSent=f.loaded}}catch(Me){X.e(Me)}finally{X.f()}}var re,V=F(c);try{for(V.s();!(re=V.n()).done;){var Ce=re.value;this.emit("uploadprogress",Ce,Ce.upload.progress,Ce.upload.bytesSent)}}catch(Me){V.e(Me)}finally{V.f()}}else{var U=!0;w=100;var _e,te=F(c);try{for(te.s();!(_e=te.n()).done;){var de=_e.value;(100!==de.upload.progress||de.upload.bytesSent!==de.upload.total)&&(U=!1),de.upload.progress=w,de.upload.bytesSent=de.upload.total}}catch(Me){te.e(Me)}finally{te.f()}if(U)return;var Ie,je=F(c);try{for(je.s();!(Ie=je.n()).done;){var $e=Ie.value;this.emit("uploadprogress",$e,w,$e.upload.bytesSent)}}catch(Me){je.e(Me)}finally{je.f()}}}},{key:"_finishedUploading",value:function(c,d,f){var w;if(c[0].status!==h.CANCELED&&4===d.readyState){if("arraybuffer"!==d.responseType&&"blob"!==d.responseType&&(w=d.responseText,d.getResponseHeader("content-type")&&~d.getResponseHeader("content-type").indexOf("application/json")))try{w=JSON.parse(w)}catch(C){f=C,w="Invalid JSON response from server."}this._updateFilesUploadProgress(c),200<=d.status&&d.status<300?c[0].upload.chunked?c[0].upload.finishedChunkUpload(this._getChunk(c[0],d)):this._finished(c,w,f):this._handleUploadError(c,d,w)}}},{key:"_handleUploadError",value:function(c,d,f){if(c[0].status!==h.CANCELED){if(c[0].upload.chunked&&this.options.retryChunks){var w=this._getChunk(c[0],d);if(w.retries++<this.options.retryChunksLimit)return void this._uploadData(c,[w.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(c,f||this.options.dictResponseError.replace("{{statusCode}}",d.status),d)}}},{key:"submitRequest",value:function(c,d,f){c.send(d)}},{key:"_finished",value:function(c,d,f){var C,w=F(c);try{for(w.s();!(C=w.n()).done;){var x=C.value;x.status=h.SUCCESS,this.emit("success",x,d,f),this.emit("complete",x)}}catch(L){w.e(L)}finally{w.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",c,d,f),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(c,d,f){var C,w=F(c);try{for(w.s();!(C=w.n()).done;){var x=C.value;x.status=h.ERROR,this.emit("error",x,d,f),this.emit("complete",x)}}catch(L){w.e(L)}finally{w.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",c,d,f),this.emit("completemultiple",c)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=16*Math.random()|0;return("x"===c?d:3&d|8).toString(16)})}}]),h}(be);ie.initClass(),ie.version="5.7.2",ie.options={},ie.optionsForElement=function(y){if(y.getAttribute("id"))return ie.options[Be(y.getAttribute("id"))]},ie.instances=[],ie.forElement=function(y){if("string"==typeof y&&(y=document.querySelector(y)),null==y?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return y.dropzone},ie.autoDiscover=!0,ie.discover=function(){var y;if(document.querySelectorAll)y=document.querySelectorAll(".dropzone");else{y=[];var p=function(v){return function(){var f,c=[],d=F(v);try{for(d.s();!(f=d.n()).done;){var w=f.value;/(^| )dropzone($| )/.test(w.className)?c.push(y.push(w)):c.push(void 0)}}catch(C){d.e(C)}finally{d.f()}return c}()};p(document.getElementsByTagName("div")),p(document.getElementsByTagName("form"))}return function(){var c,h=[],v=F(y);try{for(v.s();!(c=v.n()).done;){var d=c.value;!1!==ie.optionsForElement(d)?h.push(new ie(d)):h.push(void 0)}}catch(f){v.e(f)}finally{v.f()}return h}()},ie.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],ie.isBrowserSupported=function(){var y=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var h,p=F(ie.blacklistedBrowsers);try{for(p.s();!(h=p.n()).done;)h.value.test(navigator.userAgent)&&(y=!1)}catch(c){p.e(c)}finally{p.f()}}else y=!1;else y=!1;return y},ie.dataURItoBlob=function(y){for(var p=atob(y.split(",")[1]),h=y.split(",")[0].split(":")[1].split(";")[0],v=new ArrayBuffer(p.length),c=new Uint8Array(v),d=0,f=p.length,w=0<=f;w?d<=f:d>=f;w?d++:d--)c[d]=p.charCodeAt(d);return new Blob([v],{type:h})};var Ye=function(p,h){return p.filter(function(v){return v!==h}).map(function(v){return v})},Be=function(p){return p.replace(/[\-_](\w)/g,function(h){return h.charAt(1).toUpperCase()})};ie.createElement=function(y){var p=document.createElement("div");return p.innerHTML=y,p.childNodes[0]},ie.elementInside=function(y,p){if(y===p)return!0;for(;y=y.parentNode;)if(y===p)return!0;return!1},ie.getElement=function(y,p){var h;if("string"==typeof y?h=document.querySelector(y):null!=y.nodeType&&(h=y),null==h)throw new Error("Invalid `".concat(p,"` option provided. Please provide a CSS selector or a plain HTML element."));return h},ie.getElements=function(y,p){var v;if(y instanceof Array){v=[];try{var d,c=F(y);try{for(c.s();!(d=c.n()).done;)v.push(this.getElement(d.value,p))}catch(C){c.e(C)}finally{c.f()}}catch{v=null}}else if("string"==typeof y){v=[];var w,f=F(document.querySelectorAll(y));try{for(f.s();!(w=f.n()).done;)v.push(w.value)}catch(C){f.e(C)}finally{f.f()}}else null!=y.nodeType&&(v=[y]);if(null==v||!v.length)throw new Error("Invalid `".concat(p,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return v},ie.confirm=function(y,p,h){return window.confirm(y)?p():null!=h?h():void 0},ie.isValidFile=function(y,p){if(!p)return!0;p=p.split(",");var d,h=y.type,v=h.replace(/\/.*$/,""),c=F(p);try{for(c.s();!(d=c.n()).done;){var f=d.value;if("."===(f=f.trim()).charAt(0)){if(-1!==y.name.toLowerCase().indexOf(f.toLowerCase(),y.name.length-f.length))return!0}else if(/\/\*$/.test(f)){if(v===f.replace(/\/.*$/,""))return!0}else if(h===f)return!0}}catch(w){c.e(w)}finally{c.f()}return!1},typeof jQuery<"u"&&null!==jQuery&&(jQuery.fn.dropzone=function(y){return this.each(function(){return new ie(this,y)})}),null!==G?G.exports=ie:window.Dropzone=ie,ie.ADDED="added",ie.QUEUED="queued",ie.ACCEPTED=ie.QUEUED,ie.UPLOADING="uploading",ie.PROCESSING=ie.UPLOADING,ie.CANCELED="canceled",ie.ERROR="error",ie.SUCCESS="success";var Xe=function(p,h,v,c,d,f,w,C,x,L){var O=function(p){var v=p.naturalHeight,c=document.createElement("canvas");c.width=1,c.height=v;var d=c.getContext("2d");d.drawImage(p,0,0);for(var w=d.getImageData(1,0,1,v).data,C=0,x=v,L=v;L>C;)0===w[4*(L-1)+3]?x=L:C=L,L=x+C>>1;var E=L/v;return 0===E?1:E}(h);return p.drawImage(h,v,c,d,f,w,C,x,L/O)},me=function(){function y(){M(this,y)}return se(y,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(h){for(var v="",c=void 0,d=void 0,f="",w=void 0,C=void 0,x=void 0,L="",O=0;w=(c=h[O++])>>2,C=(3&c)<<4|(d=h[O++])>>4,x=(15&d)<<2|(f=h[O++])>>6,L=63&f,isNaN(d)?x=L=64:isNaN(f)&&(L=64),v=v+this.KEY_STR.charAt(w)+this.KEY_STR.charAt(C)+this.KEY_STR.charAt(x)+this.KEY_STR.charAt(L),c=d=f="",w=C=x=L="",O<h.length;);return v}},{key:"restore",value:function(h,v){if(!h.match("data:image/jpeg;base64,"))return v;var c=this.decode64(h.replace("data:image/jpeg;base64,","")),d=this.slice2Segments(c),f=this.exifManipulation(v,d);return"data:image/jpeg;base64,".concat(this.encode64(f))}},{key:"exifManipulation",value:function(h,v){var c=this.getExifArray(v),d=this.insertExif(h,c);return new Uint8Array(d)}},{key:"getExifArray",value:function(h){for(var v=void 0,c=0;c<h.length;){if(255===(v=h[c])[0]&225===v[1])return v;c++}return[]}},{key:"insertExif",value:function(h,v){var c=h.replace("data:image/jpeg;base64,",""),d=this.decode64(c),f=d.indexOf(255,3),w=d.slice(0,f),C=d.slice(f),x=w;return(x=x.concat(v)).concat(C)}},{key:"slice2Segments",value:function(h){for(var v=0,c=[];!(255===h[v]&218===h[v+1]);){if(255===h[v]&216===h[v+1])v+=2;else{var f=v+(256*h[v+2]+h[v+3])+2,w=h.slice(v,f);c.push(w),v=f}if(v>h.length)break}return c}},{key:"decode64",value:function(h){var d=void 0,f="",w=void 0,C=void 0,x=void 0,L="",O=0,E=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(h)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");w=this.KEY_STR.indexOf(h.charAt(O++)),d=(15&(C=this.KEY_STR.indexOf(h.charAt(O++))))<<4|(x=this.KEY_STR.indexOf(h.charAt(O++)))>>2,f=(3&x)<<6|(L=this.KEY_STR.indexOf(h.charAt(O++))),E.push(w<<2|C>>4),64!==x&&E.push(d),64!==L&&E.push(f),d=f="",w=C=x=L="",O<h.length;);return E}}]),y}();me.initClass(),ie._autoDiscoverFunction=function(){if(ie.autoDiscover)return ie.discover()},function(p,h){var v=!1,c=!0,d=p.document,f=d.documentElement,w=d.addEventListener?"addEventListener":"attachEvent",C=d.addEventListener?"removeEventListener":"detachEvent",x=d.addEventListener?"":"on",L=function E(Z){if(("readystatechange"!==Z.type||"complete"===d.readyState)&&(("load"===Z.type?p:d)[C](x+Z.type,E,!1),!v&&(v=!0)))return h.call(p,Z.type||Z)};if("complete"!==d.readyState){if(d.createEventObject&&f.doScroll){try{c=!p.frameElement}catch{}c&&function E(){try{f.doScroll("left")}catch{return void setTimeout(E,50)}return L("poll")}()}d[w](x+"DOMContentLoaded",L,!1),d[w](x+"readystatechange",L,!1),p[w](x+"load",L,!1)}}(window,ie._autoDiscoverFunction)},2853:function(G,ae){var g,k;g=function T(){"use strict";var D=typeof self<"u"?self:typeof window<"u"?window:void 0!==D?D:{},m=!D.document&&!!D.postMessage,N=D.IS_PAPA_WORKER||!1,I={},Y=0,F={parse:function(y,p){var h=(p=p||{}).dynamicTyping||!1;if(De(h)&&(p.dynamicTypingFunction=h,h={}),p.dynamicTyping=h,p.transform=!!De(p.transform)&&p.transform,p.worker&&F.WORKERS_SUPPORTED){var v=function(){if(!F.WORKERS_SUPPORTED)return!1;var w,C,d=(w=D.URL||D.webkitURL||null,C=T.toString(),F.BLOB_URL||(F.BLOB_URL=w.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))),f=new D.Worker(d);return f.onmessage=Ve,f.id=Y++,I[f.id]=f}();return v.userStep=p.step,v.userChunk=p.chunk,v.userComplete=p.complete,v.userError=p.error,p.step=De(p.step),p.chunk=De(p.chunk),p.complete=De(p.complete),p.error=De(p.error),delete p.worker,void v.postMessage({input:y,config:p,workerId:v.id})}var d,c=null;return"string"==typeof y?(y=65279===(d=y).charCodeAt(0)?d.slice(1):d,c=p.download?new M(p):new se(p)):!0===y.readable&&De(y.read)&&De(y.on)?c=new be(p):(D.File&&y instanceof File||y instanceof Object)&&(c=new H(p)),c.stream(y)},unparse:function(y,p){var h=!1,v=!0,c=",",d="\r\n",f='"',w=f+f,C=!1,x=null,L=!1;!function(){if("object"==typeof p){if("string"!=typeof p.delimiter||F.BAD_DELIMITERS.filter(function(X){return-1!==p.delimiter.indexOf(X)}).length||(c=p.delimiter),("boolean"==typeof p.quotes||"function"==typeof p.quotes||Array.isArray(p.quotes))&&(h=p.quotes),"boolean"!=typeof p.skipEmptyLines&&"string"!=typeof p.skipEmptyLines||(C=p.skipEmptyLines),"string"==typeof p.newline&&(d=p.newline),"string"==typeof p.quoteChar&&(f=p.quoteChar),"boolean"==typeof p.header&&(v=p.header),Array.isArray(p.columns)){if(0===p.columns.length)throw new Error("Option columns is empty");x=p.columns}void 0!==p.escapeChar&&(w=p.escapeChar+f),("boolean"==typeof p.escapeFormulae||p.escapeFormulae instanceof RegExp)&&(L=p.escapeFormulae instanceof RegExp?p.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var O=new RegExp(Ye(f),"g");if("string"==typeof y&&(y=JSON.parse(y)),Array.isArray(y)){if(!y.length||Array.isArray(y[0]))return E(null,y,C);if("object"==typeof y[0])return E(x||Object.keys(y[0]),y,C)}else if("object"==typeof y)return"string"==typeof y.data&&(y.data=JSON.parse(y.data)),Array.isArray(y.data)&&(y.fields||(y.fields=y.meta&&y.meta.fields||x),y.fields||(y.fields=Array.isArray(y.data[0])?y.fields:"object"==typeof y.data[0]?Object.keys(y.data[0]):[]),Array.isArray(y.data[0])||"object"==typeof y.data[0]||(y.data=[y.data])),E(y.fields||[],y.data||[],C);throw new Error("Unable to serialize unrecognized input");function E(X,P,z){var V="";"string"==typeof X&&(X=JSON.parse(X)),"string"==typeof P&&(P=JSON.parse(P));var re=Array.isArray(X)&&0<X.length,Ce=!Array.isArray(P[0]);if(re&&v){for(var U=0;U<X.length;U++)0<U&&(V+=c),V+=Z(X[U],U);0<P.length&&(V+=d)}for(var te=0;te<P.length;te++){var _e=re?X.length:P[te].length,de=!1,je=re?0===Object.keys(P[te]).length:0===P[te].length;if(z&&!re&&(de="greedy"===z?""===P[te].join("").trim():1===P[te].length&&0===P[te][0].length),"greedy"===z&&re){for(var Ie=[],$e=0;$e<_e;$e++)Ie.push(P[te][Ce?X[$e]:$e]);de=""===Ie.join("").trim()}if(!de){for(var Pe=0;Pe<_e;Pe++)0<Pe&&!je&&(V+=c),V+=Z(P[te][re&&Ce?X[Pe]:Pe],Pe);te<P.length-1&&(!z||0<_e&&!je)&&(V+=d)}}return V}function Z(X,P){if(null==X)return"";if(X.constructor===Date)return JSON.stringify(X).slice(1,25);var z=!1;L&&"string"==typeof X&&L.test(X)&&(X="'"+X,z=!0);var V=X.toString().replace(O,w);return(z=z||!0===h||"function"==typeof h&&h(X,P)||Array.isArray(h)&&h[P]||function(re,Ce){for(var U=0;U<Ce.length;U++)if(-1<re.indexOf(Ce[U]))return!0;return!1}(V,F.BAD_DELIMITERS)||-1<V.indexOf(c)||" "===V.charAt(0)||" "===V.charAt(V.length-1))?f+V+f:V}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(F.BAD_DELIMITERS=["\r","\n",'"',F.BYTE_ORDER_MARK],F.WORKERS_SUPPORTED=!m&&!!D.Worker,F.NODE_STREAM_INPUT=1,F.LocalChunkSize=10485760,F.RemoteChunkSize=5242880,F.DefaultDelimiter=",",F.Parser=Be,F.ParserHandle=ie,F.NetworkStreamer=M,F.FileStreamer=H,F.StringStreamer=se,F.ReadableStreamStreamer=be,D.jQuery){var K=D.jQuery;K.fn.parse=function(y){var p=y.config||{},h=[];return this.each(function(d){if("INPUT"!==K(this).prop("tagName").toUpperCase()||"file"!==K(this).attr("type").toLowerCase()||!D.FileReader||!this.files||0===this.files.length)return!0;for(var f=0;f<this.files.length;f++)h.push({file:this.files[f],inputElem:this,instanceConfig:K.extend({},p)})}),v(),this;function v(){if(0!==h.length){var f,w,C,x=h[0];if(De(y.before)){var L=y.before(x.file,x.inputElem);if("object"==typeof L){if("abort"===L.action)return"AbortError",f=x.file,w=x.inputElem,C=L.reason,void(De(y.error)&&y.error({name:"AbortError"},f,w,C));if("skip"===L.action)return void c();"object"==typeof L.config&&(x.instanceConfig=K.extend(x.instanceConfig,L.config))}else if("skip"===L)return void c()}var O=x.instanceConfig.complete;x.instanceConfig.complete=function(E){De(O)&&O(E,x.file,x.inputElem),c()},F.parse(x.file,x.instanceConfig)}else De(y.complete)&&y.complete()}function c(){h.splice(0,1),v()}}}function Q(y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(p){var h=Ae(p);h.chunkSize=parseInt(h.chunkSize),p.step||p.chunk||(h.chunkSize=null),this._handle=new ie(h),(this._handle.streamer=this)._config=h}.call(this,y),this.parseChunk=function(p,h){if(this.isFirstChunk&&De(this._config.beforeFirstChunk)){var v=this._config.beforeFirstChunk(p);void 0!==v&&(p=v)}this.isFirstChunk=!1,this._halted=!1;var c=this._partialLine+p;this._partialLine="";var d=this._handle.parse(c,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var f=d.meta.cursor;this._finished||(this._partialLine=c.substring(f-this._baseIndex),this._baseIndex=f),d&&d.data&&(this._rowCount+=d.data.length);var w=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(N)D.postMessage({results:d,workerId:F.WORKER_ID,finished:w});else if(De(this._config.chunk)&&!h){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!w||!De(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(p){De(this._config.error)?this._config.error(p):N&&this._config.error&&D.postMessage({workerId:F.WORKER_ID,error:p,finished:!1})}}function M(y){var p;(y=y||{}).chunkSize||(y.chunkSize=F.RemoteChunkSize),Q.call(this,y),this._nextChunk=m?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),m||(p.onload=ye(this._chunkLoaded,this),p.onerror=ye(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!m),this._config.downloadRequestHeaders){var h=this._config.downloadRequestHeaders;for(var v in h)p.setRequestHeader(v,h[v])}this._config.chunkSize&&p.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{p.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}m&&0===p.status&&this._chunkError()}},this._chunkLoaded=function(){var v;4===p.readyState&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(v=p.getResponseHeader("Content-Range"))?-1:parseInt(v.substring(v.lastIndexOf("/")+1))),this.parseChunk(p.responseText)))},this._chunkError=function(h){this._sendError(new Error(p.statusText||h))}}function H(y){var p,h;(y=y||{}).chunkSize||(y.chunkSize=F.LocalChunkSize),Q.call(this,y);var v=typeof FileReader<"u";this.stream=function(c){this._input=c,h=c.slice||c.webkitSlice||c.mozSlice,v?((p=new FileReader).onload=ye(this._chunkLoaded,this),p.onerror=ye(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var c=this._input;if(this._config.chunkSize){var d=Math.min(this._start+this._config.chunkSize,this._input.size);c=h.call(c,this._start,d)}var f=p.readAsText(c,this._config.encoding);v||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(c){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(c.target.result)},this._chunkError=function(){this._sendError(p.error)}}function se(y){var p;Q.call(this,y=y||{}),this.stream=function(h){return p=h,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var h,v=this._config.chunkSize;return v?(h=p.substring(0,v),p=p.substring(v)):(h=p,p=""),this._finished=!p,this.parseChunk(h)}}}function be(y){Q.call(this,y=y||{});var p=[],h=!0,v=!1;this.pause=function(){Q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(c){this._input=c,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&1===p.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):h=!0},this._streamData=ye(function(c){try{p.push("string"==typeof c?c:c.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(d){this._streamError(d)}},this),this._streamError=ye(function(c){this._streamCleanUp(),this._sendError(c)},this),this._streamEnd=ye(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=ye(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ie(y){var p,h,v,c=Math.pow(2,53),d=-c,f=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,w=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,x=0,L=0,O=!1,E=!1,Z=[],X={data:[],errors:[],meta:{}};if(De(y.step)){var P=y.step;y.step=function(te){if(X=te,re())V();else{if(V(),0===X.data.length)return;x+=te.data.length,y.preview&&x>y.preview?h.abort():(X.data=X.data[0],P(X,C))}}}function z(te){return"greedy"===y.skipEmptyLines?""===te.join("").trim():1===te.length&&0===te[0].length}function V(){return X&&v&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+F.DefaultDelimiter+"'"),v=!1),y.skipEmptyLines&&(X.data=X.data.filter(function(te){return!z(te)})),re()&&function(){if(X)if(Array.isArray(X.data[0])){for(var _e=0;re()&&_e<X.data.length;_e++)X.data[_e].forEach(te);X.data.splice(0,1)}else X.data.forEach(te);function te(de,je){De(y.transformHeader)&&(de=y.transformHeader(de,je)),Z.push(de)}}(),function(){if(!X||!y.header&&!y.dynamicTyping&&!y.transform)return X;function te(de,je){var Ie,$e=y.header?{}:[];for(Ie=0;Ie<de.length;Ie++){var Me=Ie,Pe=de[Ie];y.header&&(Me=Ie>=Z.length?"__parsed_extra":Z[Ie]),y.transform&&(Pe=y.transform(Pe,Me)),Pe=Ce(Me,Pe),"__parsed_extra"===Me?($e[Me]=$e[Me]||[],$e[Me].push(Pe)):$e[Me]=Pe}return y.header&&(Ie>Z.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+Ie,L+je):Ie<Z.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+Ie,L+je)),$e}var _e=1;return!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(te),_e=X.data.length):X.data=te(X.data,0),y.header&&X.meta&&(X.meta.fields=Z),L+=_e,X}()}function re(){return y.header&&0===Z.length}function Ce(te,_e){return de=te,y.dynamicTypingFunction&&void 0===y.dynamicTyping[de]&&(y.dynamicTyping[de]=y.dynamicTypingFunction(de)),!0===(y.dynamicTyping[de]||y.dynamicTyping)?"true"===_e||"TRUE"===_e||"false"!==_e&&"FALSE"!==_e&&(function(je){if(f.test(je)){var Ie=parseFloat(je);if(d<Ie&&Ie<c)return!0}return!1}(_e)?parseFloat(_e):w.test(_e)?new Date(_e):""===_e?null:_e):_e;var de}function U(te,_e,de,je){var Ie={type:te,code:_e,message:de};void 0!==je&&(Ie.row=je),X.errors.push(Ie)}this.parse=function(te,_e,de){if(y.newline||(y.newline=function(Me,Pe){Me=Me.substring(0,1048576);var W=new RegExp(Ye(Pe)+"([^]*?)"+Ye(Pe),"gm"),We=(Me=Me.replace(W,"")).split("\r"),ot=Me.split("\n");if(1===We.length||1<ot.length&&ot[0].length<We[0].length)return"\n";for(var ut=0,Je=0;Je<We.length;Je++)"\n"===We[Je][0]&&ut++;return ut>=We.length/2?"\r\n":"\r"}(te,y.quoteChar||'"')),v=!1,y.delimiter)De(y.delimiter)&&(y.delimiter=y.delimiter(te),X.meta.delimiter=y.delimiter);else{var Ie=function(Me,Pe,W,We,ot){var wt,ut,Je,et;ot=ot||[",","\t","|",";",F.RECORD_SEP,F.UNIT_SEP];for(var kt=0;kt<ot.length;kt++){var ze=ot[kt],Xt=0,It=0,Et=0;Je=void 0;for(var A=new Be({comments:We,delimiter:ze,newline:Pe,preview:10}).parse(Me),R=0;R<A.data.length;R++)if(W&&z(A.data[R]))Et++;else{var B=A.data[R].length;It+=B,void 0!==Je?0<B&&(Xt+=Math.abs(B-Je),Je=B):Je=B}0<A.data.length&&(It/=A.data.length-Et),(void 0===ut||Xt<=ut)&&(void 0===et||et<It)&&1.99<It&&(ut=Xt,wt=ze,et=It)}return{successful:!!(y.delimiter=wt),bestDelimiter:wt}}(te,y.newline,y.skipEmptyLines,y.comments,y.delimitersToGuess);Ie.successful?y.delimiter=Ie.bestDelimiter:(v=!0,y.delimiter=F.DefaultDelimiter),X.meta.delimiter=y.delimiter}var $e=Ae(y);return y.preview&&y.header&&$e.preview++,p=te,h=new Be($e),X=h.parse(p,_e,de),V(),O?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,h.abort(),p=De(y.chunk)?"":p.substring(h.getCharIndex())},this.resume=function(){C.streamer._halted?(O=!1,C.streamer.parseChunk(p,!0)):setTimeout(C.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,h.abort(),X.meta.aborted=!0,De(y.complete)&&y.complete(X),p=""}}function Ye(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Be(y){var p,h=(y=y||{}).delimiter,v=y.newline,c=y.comments,d=y.step,f=y.preview,w=y.fastMode,C=p=null==y.quoteChar?'"':y.quoteChar;if(void 0!==y.escapeChar&&(C=y.escapeChar),("string"!=typeof h||-1<F.BAD_DELIMITERS.indexOf(h))&&(h=","),c===h)throw new Error("Comment character same as delimiter");!0===c?c="#":("string"!=typeof c||-1<F.BAD_DELIMITERS.indexOf(c))&&(c=!1),"\n"!==v&&"\r"!==v&&"\r\n"!==v&&(v="\n");var x=0,L=!1;this.parse=function(O,E,Z){if("string"!=typeof O)throw new Error("Input must be a string");var X=O.length,P=h.length,z=v.length,V=c.length,re=De(d),Ce=[],U=[],te=[],_e=x=0;if(!O)return q();if(y.header&&!E){var de=O.split(v)[0].split(h),je=[],Ie={},$e=!1;for(var Me in de){var Pe=de[Me];De(y.transformHeader)&&(Pe=y.transformHeader(Pe,Me));var W=Pe,We=Ie[Pe]||0;for(0<We&&($e=!0,W=Pe+"_"+We),Ie[Pe]=We+1;je.includes(W);)W=W+"_"+We;je.push(W)}if($e){var ot=O.split(v);ot[0]=je.join(h),O=ot.join(v)}}if(w||!1!==w&&-1===O.indexOf(p)){for(var wt=O.split(v),ut=0;ut<wt.length;ut++){if(x+=(te=wt[ut]).length,ut!==wt.length-1)x+=v.length;else if(Z)return q();if(!c||te.substring(0,V)!==c){if(re){if(Ce=[],Et(te.split(h)),fe(),L)return q()}else Et(te.split(h));if(f&&f<=ut)return Ce=Ce.slice(0,f),q(!0)}}return q()}for(var Je=O.indexOf(h,x),et=O.indexOf(v,x),kt=new RegExp(Ye(C)+Ye(p),"g"),ze=O.indexOf(p,x);;)if(O[x]!==p)if(c&&0===te.length&&O.substring(x,x+V)===c){if(-1===et)return q();et=O.indexOf(v,x=et+z),Je=O.indexOf(h,x)}else if(-1!==Je&&(Je<et||-1===et))te.push(O.substring(x,Je)),Je=O.indexOf(h,x=Je+P);else{if(-1===et)break;if(te.push(O.substring(x,et)),B(et+z),re&&(fe(),L))return q();if(f&&Ce.length>=f)return q(!0)}else for(ze=x,x++;;){if(-1===(ze=O.indexOf(p,ze+1)))return Z||U.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:x}),R();if(ze===X-1)return R(O.substring(x,ze).replace(kt,p));if(p!==C||O[ze+1]!==C){if(p===C||0===ze||O[ze-1]!==C){-1!==Je&&Je<ze+1&&(Je=O.indexOf(h,ze+1)),-1!==et&&et<ze+1&&(et=O.indexOf(v,ze+1));var Xt=A(-1===et?Je:Math.min(Je,et));if(O.substr(ze+1+Xt,P)===h){te.push(O.substring(x,ze).replace(kt,p)),O[x=ze+1+Xt+P]!==p&&(ze=O.indexOf(p,x)),Je=O.indexOf(h,x),et=O.indexOf(v,x);break}var It=A(et);if(O.substring(ze+1+It,ze+1+It+z)===v){if(te.push(O.substring(x,ze).replace(kt,p)),B(ze+1+It+z),Je=O.indexOf(h,x),ze=O.indexOf(p,x),re&&(fe(),L))return q();if(f&&Ce.length>=f)return q(!0);break}U.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:x}),ze++}}else ze++}return R();function Et(Le){Ce.push(Le),_e=x}function A(Le){var tt=0;if(-1!==Le){var Fe=O.substring(ze+1,Le);Fe&&""===Fe.trim()&&(tt=Fe.length)}return tt}function R(Le){return Z||(void 0===Le&&(Le=O.substring(x)),te.push(Le),x=X,Et(te),re&&fe()),q()}function B(Le){x=Le,Et(te),te=[],et=O.indexOf(v,x)}function q(Le){return{data:Ce,errors:U,meta:{delimiter:h,linebreak:v,aborted:L,truncated:!!Le,cursor:_e+(E||0)}}}function fe(){d(q()),Ce=[],U=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return x}}function Ve(y){var p=y.data,h=I[p.workerId],v=!1;if(p.error)h.userError(p.error,p.file);else if(p.results&&p.results.data){var c={abort:function(){v=!0,Xe(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:me,resume:me};if(De(h.userStep)){for(var d=0;d<p.results.data.length&&(h.userStep({data:p.results.data[d],errors:p.results.errors,meta:p.results.meta},c),!v);d++);delete p.results}else De(h.userChunk)&&(h.userChunk(p.results,c,p.file),delete p.results)}p.finished&&!v&&Xe(p.workerId,p.results)}function Xe(y,p){var h=I[y];De(h.userComplete)&&h.userComplete(p),h.terminate(),delete I[y]}function me(){throw new Error("Not implemented.")}function Ae(y){if("object"!=typeof y||null===y)return y;var p=Array.isArray(y)?[]:{};for(var h in y)p[h]=Ae(y[h]);return p}function ye(y,p){return function(){y.apply(p,arguments)}}function De(y){return"function"==typeof y}return N&&(D.onmessage=function(y){var p=y.data;if(void 0===F.WORKER_ID&&p&&(F.WORKER_ID=p.workerId),"string"==typeof p.input)D.postMessage({workerId:F.WORKER_ID,results:F.parse(p.input,p.config),finished:!0});else if(D.File&&p.input instanceof File||p.input instanceof Object){var h=F.parse(p.input,p.config);h&&D.postMessage({workerId:F.WORKER_ID,results:h,finished:!0})}}),(M.prototype=Object.create(Q.prototype)).constructor=M,(H.prototype=Object.create(Q.prototype)).constructor=H,(se.prototype=Object.create(se.prototype)).constructor=se,(be.prototype=Object.create(Q.prototype)).constructor=be,F},void 0!==(k=g.apply(ae,[]))&&(G.exports=k)},2256:()=>{var G,ae;ae=G||(G={}),function(g){var e="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function N(){return function D(){try{return Function("return this;")()}catch{}}()||function m(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),k=T(ae);function T(I,Y){return function(F,K){Object.defineProperty(I,F,{configurable:!0,writable:!0,value:K}),Y&&Y(F,K)}}typeof e.Reflect<"u"&&(k=T(e.Reflect,k)),function(g,e){var k=Object.prototype.hasOwnProperty,T="function"==typeof Symbol,D=T&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",m=T&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",N="function"==typeof Object.create,I={__proto__:[]}instanceof Array,Y=!N&&!I,F={create:N?function(){return Et(Object.create(null))}:I?function(){return Et({__proto__:null})}:function(){return Et({})},has:Y?function(A,R){return k.call(A,R)}:function(A,R){return R in A},get:Y?function(A,R){return k.call(A,R)?A[R]:void 0}:function(A,R){return A[R]}},K=Object.getPrototypeOf(Function),Q="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ze(){var A={},R=[],B=function(){function Fe(le,ce,he){this._index=0,this._keys=le,this._values=ce,this._selector=he}return Fe.prototype["@@iterator"]=function(){return this},Fe.prototype[m]=function(){return this},Fe.prototype.next=function(){var le=this._index;if(le>=0&&le<this._keys.length){var ce=this._selector(this._keys[le],this._values[le]);return le+1>=this._keys.length?(this._index=-1,this._keys=R,this._values=R):this._index++,{value:ce,done:!1}}return{value:void 0,done:!0}},Fe.prototype.throw=function(le){throw this._index>=0&&(this._index=-1,this._keys=R,this._values=R),le},Fe.prototype.return=function(le){return this._index>=0&&(this._index=-1,this._keys=R,this._values=R),{value:le,done:!0}},Fe}();return function(){function Fe(){this._keys=[],this._values=[],this._cacheKey=A,this._cacheIndex=-2}return Object.defineProperty(Fe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Fe.prototype.has=function(le){return this._find(le,!1)>=0},Fe.prototype.get=function(le){var ce=this._find(le,!1);return ce>=0?this._values[ce]:void 0},Fe.prototype.set=function(le,ce){var he=this._find(le,!0);return this._values[he]=ce,this},Fe.prototype.delete=function(le){var ce=this._find(le,!1);if(ce>=0){for(var he=this._keys.length,pe=ce+1;pe<he;pe++)this._keys[pe-1]=this._keys[pe],this._values[pe-1]=this._values[pe];return this._keys.length--,this._values.length--,Ie(le,this._cacheKey)&&(this._cacheKey=A,this._cacheIndex=-2),!0}return!1},Fe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=A,this._cacheIndex=-2},Fe.prototype.keys=function(){return new B(this._keys,this._values,fe)},Fe.prototype.values=function(){return new B(this._keys,this._values,Le)},Fe.prototype.entries=function(){return new B(this._keys,this._values,tt)},Fe.prototype["@@iterator"]=function(){return this.entries()},Fe.prototype[m]=function(){return this.entries()},Fe.prototype._find=function(le,ce){if(!Ie(this._cacheKey,le)){this._cacheIndex=-1;for(var he=0;he<this._keys.length;he++)if(Ie(this._keys[he],le)){this._cacheIndex=he;break}}return this._cacheIndex<0&&ce&&(this._cacheIndex=this._keys.length,this._keys.push(le),this._values.push(void 0)),this._cacheIndex},Fe}();function fe(Fe,le){return Fe}function Le(Fe,le){return le}function tt(Fe,le){return[Fe,le]}}(),M="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function Xt(){return function(){function R(){this._map=new Q}return Object.defineProperty(R.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),R.prototype.has=function(B){return this._map.has(B)},R.prototype.add=function(B){return this._map.set(B,B),this},R.prototype.delete=function(B){return this._map.delete(B)},R.prototype.clear=function(){this._map.clear()},R.prototype.keys=function(){return this._map.keys()},R.prototype.values=function(){return this._map.keys()},R.prototype.entries=function(){return this._map.entries()},R.prototype["@@iterator"]=function(){return this.keys()},R.prototype[m]=function(){return this.keys()},R}()}(),H="function"==typeof WeakMap?WeakMap:function It(){var A=16,R=F.create(),B=q();return function(){function le(){this._key=q()}return le.prototype.has=function(ce){var he=fe(ce,!1);return void 0!==he&&F.has(he,this._key)},le.prototype.get=function(ce){var he=fe(ce,!1);return void 0!==he?F.get(he,this._key):void 0},le.prototype.set=function(ce,he){return fe(ce,!0)[this._key]=he,this},le.prototype.delete=function(ce){var he=fe(ce,!1);return void 0!==he&&delete he[this._key]},le.prototype.clear=function(){this._key=q()},le}();function q(){var le;do{le="@@WeakMap@@"+Fe()}while(F.has(R,le));return R[le]=!0,le}function fe(le,ce){if(!k.call(le,B)){if(!ce)return;Object.defineProperty(le,B,{value:F.create()})}return le[B]}function Le(le,ce){for(var he=0;he<ce;++he)le[he]=255*Math.random()|0;return le}function Fe(){var le=function tt(le){if("function"==typeof Uint8Array){var ce=new Uint8Array(le);return typeof crypto<"u"?crypto.getRandomValues(ce):typeof msCrypto<"u"?msCrypto.getRandomValues(ce):Le(ce,le),ce}return Le(new Array(le),le)}(A);le[6]=79&le[6]|64,le[8]=191&le[8]|128;for(var ce="",he=0;he<A;++he){var pe=le[he];(4===he||6===he||8===he)&&(ce+="-"),pe<16&&(ce+="0"),ce+=pe.toString(16).toLowerCase()}return ce}}(),se=T?Symbol.for("@reflect-metadata:registry"):void 0,be=function ut(){var A;return!E(se)&&P(e.Reflect)&&Object.isExtensible(e.Reflect)&&(A=e.Reflect[se]),E(A)&&(A=function wt(){var A;!E(se)&&typeof e.Reflect<"u"&&!(se in e.Reflect)&&"function"==typeof e.Reflect.defineMetadata&&(A=function et(A){var R=A.defineMetadata,B=A.hasOwnMetadata,q=A.getOwnMetadata,fe=A.getOwnMetadataKeys,Le=A.deleteMetadata,tt=new H;return{isProviderFor:function(le,ce){var he=tt.get(le);return!(E(he)||!he.has(ce))||!!fe(le,ce).length&&(E(he)&&(he=new M,tt.set(le,he)),he.add(ce),!0)},OrdinaryDefineOwnMetadata:R,OrdinaryHasOwnMetadata:B,OrdinaryGetOwnMetadata:q,OrdinaryOwnMetadataKeys:fe,OrdinaryDeleteMetadata:Le}}(e.Reflect));var R,B,q,fe=new H,Le={registerProvider:tt,getProvider:le,setProvider:he};return Le;function tt(pe){if(!Object.isExtensible(Le))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case A===pe:break;case E(R):R=pe;break;case R===pe:break;case E(B):B=pe;break;case B===pe:break;default:void 0===q&&(q=new M),q.add(pe)}}function Fe(pe,Ee){if(!E(R)){if(R.isProviderFor(pe,Ee))return R;if(!E(B)){if(B.isProviderFor(pe,Ee))return R;if(!E(q))for(var He=Me(q);;){var Qe=W(He);if(!Qe)return;var xt=Pe(Qe);if(xt.isProviderFor(pe,Ee))return We(He),xt}}}if(!E(A)&&A.isProviderFor(pe,Ee))return A}function le(pe,Ee){var Qe,He=fe.get(pe);return E(He)||(Qe=He.get(Ee)),E(Qe)&&(E(Qe=Fe(pe,Ee))||(E(He)&&(He=new Q,fe.set(pe,He)),He.set(Ee,Qe))),Qe}function ce(pe){if(E(pe))throw new TypeError;return R===pe||B===pe||!E(q)&&q.has(pe)}function he(pe,Ee,He){if(!ce(He))throw new Error("Metadata provider not registered.");var Qe=le(pe,Ee);if(Qe!==He){if(!E(Qe))return!1;var xt=fe.get(pe);E(xt)&&(xt=new Q,fe.set(pe,xt)),xt.set(Ee,He)}return!0}}()),!E(se)&&P(e.Reflect)&&Object.isExtensible(e.Reflect)&&Object.defineProperty(e.Reflect,se,{enumerable:!1,configurable:!1,writable:!1,value:A}),A}(),ie=function Je(A){var R=new H,B={isProviderFor:function(ce,he){var pe=R.get(ce);return!E(pe)&&pe.has(he)},OrdinaryDefineOwnMetadata:function tt(ce,he,pe,Ee){q(pe,Ee,!0).set(ce,he)},OrdinaryHasOwnMetadata:function fe(ce,he,pe){var Ee=q(he,pe,!1);return!E(Ee)&&re(Ee.has(ce))},OrdinaryGetOwnMetadata:function Le(ce,he,pe){var Ee=q(he,pe,!1);if(!E(Ee))return Ee.get(ce)},OrdinaryOwnMetadataKeys:function Fe(ce,he){var pe=[],Ee=q(ce,he,!1);if(E(Ee))return pe;for(var Qe=Me(Ee.keys()),xt=0;;){var dn=W(Qe);if(!dn)return pe.length=xt,pe;var cn=Pe(dn);try{pe[xt]=cn}catch(wa){try{We(Qe)}finally{throw wa}}xt++}},OrdinaryDeleteMetadata:function le(ce,he,pe){var Ee=q(he,pe,!1);if(E(Ee)||!Ee.delete(ce))return!1;if(0===Ee.size){var He=R.get(he);E(He)||(He.delete(pe),0===He.size&&R.delete(He))}return!0}};return be.registerProvider(B),B;function q(ce,he,pe){var Ee=R.get(ce),He=!1;if(E(Ee)){if(!pe)return;Ee=new Q,R.set(ce,Ee),He=!0}var Qe=Ee.get(he);if(E(Qe)){if(!pe)return;if(Qe=new Q,Ee.set(he,Qe),!A.setProvider(ce,he,B))throw Ee.delete(he),He&&R.delete(ce),new Error("Wrong provider for target.")}return Qe}}(be);function c(A,R,B){if(d(A,R,B))return!0;var fe=ot(R);return!Z(fe)&&c(A,fe,B)}function d(A,R,B){var q=kt(R,B,!1);return!E(q)&&re(q.OrdinaryHasOwnMetadata(A,R,B))}function f(A,R,B){if(d(A,R,B))return w(A,R,B);var fe=ot(R);return Z(fe)?void 0:f(A,fe,B)}function w(A,R,B){var q=kt(R,B,!1);if(!E(q))return q.OrdinaryGetOwnMetadata(A,R,B)}function C(A,R,B,q){kt(B,q,!0).OrdinaryDefineOwnMetadata(A,R,B,q)}function x(A,R){var B=L(A,R),q=ot(A);if(null===q)return B;var fe=x(q,R);if(fe.length<=0)return B;if(B.length<=0)return fe;for(var Le=new M,tt=[],Fe=0,le=B;Fe<le.length;Fe++)Le.has(ce=le[Fe])||(Le.add(ce),tt.push(ce));for(var pe=0,Ee=fe;pe<Ee.length;pe++){var ce;Le.has(ce=Ee[pe])||(Le.add(ce),tt.push(ce))}return tt}function L(A,R){var B=kt(A,R,!1);return B?B.OrdinaryOwnMetadataKeys(A,R):[]}function O(A){if(null===A)return 1;switch(typeof A){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===A?1:6;default:return 6}}function E(A){return void 0===A}function Z(A){return null===A}function P(A){return"object"==typeof A?null!==A:"function"==typeof A}function z(A,R){switch(O(A)){case 0:case 1:case 2:case 3:case 4:case 5:return A}var B=3===R?"string":5===R?"number":"default",q=$e(A,D);if(void 0!==q){var fe=q.call(A,B);if(P(fe))throw new TypeError;return fe}return function V(A,R){if("string"===R){var B=A.toString;if(_e(B)&&!P(q=B.call(A)))return q;if(_e(fe=A.valueOf)&&!P(q=fe.call(A)))return q}else{var fe;if(_e(fe=A.valueOf)&&!P(q=fe.call(A)))return q;var q,Le=A.toString;if(_e(Le)&&!P(q=Le.call(A)))return q}throw new TypeError}(A,"default"===B?"number":B)}function re(A){return!!A}function U(A){var R=z(A,3);return function X(A){return"symbol"==typeof A}(R)?R:function Ce(A){return""+A}(R)}function te(A){return Array.isArray?Array.isArray(A):A instanceof Object?A instanceof Array:"[object Array]"===Object.prototype.toString.call(A)}function _e(A){return"function"==typeof A}function de(A){return"function"==typeof A}function Ie(A,R){return A===R||A!=A&&R!=R}function $e(A,R){var B=A[R];if(null!=B){if(!_e(B))throw new TypeError;return B}}function Me(A){var R=$e(A,m);if(!_e(R))throw new TypeError;var B=R.call(A);if(!P(B))throw new TypeError;return B}function Pe(A){return A.value}function W(A){var R=A.next();return!R.done&&R}function We(A){var R=A.return;R&&R.call(A)}function ot(A){var R=Object.getPrototypeOf(A);if("function"!=typeof A||A===K||R!==K)return R;var B=A.prototype,q=B&&Object.getPrototypeOf(B);if(null==q||q===Object.prototype)return R;var fe=q.constructor;return"function"!=typeof fe||fe===A?R:fe}function kt(A,R,B){var q=be.getProvider(A,R);if(!E(q))return q;if(B){if(be.setProvider(A,R,ie))return ie;throw new Error("Illegal state.")}}function Et(A){return A.__=void 0,delete A.__,A}g("decorate",function Ye(A,R,B,q){if(E(B)){if(!te(A))throw new TypeError;if(!de(R))throw new TypeError;return function h(A,R){for(var B=A.length-1;B>=0;--B){var fe=(0,A[B])(R);if(!E(fe)&&!Z(fe)){if(!de(fe))throw new TypeError;R=fe}}return R}(A,R)}if(!te(A))throw new TypeError;if(!P(R))throw new TypeError;if(!P(q)&&!E(q)&&!Z(q))throw new TypeError;return Z(q)&&(q=void 0),function v(A,R,B,q){for(var fe=A.length-1;fe>=0;--fe){var tt=(0,A[fe])(R,B,q);if(!E(tt)&&!Z(tt)){if(!P(tt))throw new TypeError;q=tt}}return q}(A,R,B=U(B),q)}),g("metadata",function Be(A,R){return function B(q,fe){if(!P(q))throw new TypeError;if(!E(fe)&&!function je(A){switch(O(A)){case 3:case 4:return!0;default:return!1}}(fe))throw new TypeError;C(A,R,q,fe)}}),g("defineMetadata",function Ve(A,R,B,q){if(!P(B))throw new TypeError;return E(q)||(q=U(q)),C(A,R,B,q)}),g("hasMetadata",function Xe(A,R,B){if(!P(R))throw new TypeError;return E(B)||(B=U(B)),c(A,R,B)}),g("hasOwnMetadata",function me(A,R,B){if(!P(R))throw new TypeError;return E(B)||(B=U(B)),d(A,R,B)}),g("getMetadata",function Ae(A,R,B){if(!P(R))throw new TypeError;return E(B)||(B=U(B)),f(A,R,B)}),g("getOwnMetadata",function ye(A,R,B){if(!P(R))throw new TypeError;return E(B)||(B=U(B)),w(A,R,B)}),g("getMetadataKeys",function De(A,R){if(!P(A))throw new TypeError;return E(R)||(R=U(R)),x(A,R)}),g("getOwnMetadataKeys",function y(A,R){if(!P(A))throw new TypeError;return E(R)||(R=U(R)),L(A,R)}),g("deleteMetadata",function p(A,R,B){if(!P(R))throw new TypeError;if(E(B)||(B=U(B)),!P(R))throw new TypeError;E(B)||(B=U(B));var q=kt(R,B,!1);return!E(q)&&q.OrdinaryDeleteMetadata(A,R,B)})}(k,e),typeof e.Reflect>"u"&&(e.Reflect=ae)}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.02/dist/ng-edit/projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts.64f8552b7160adf7.js.map
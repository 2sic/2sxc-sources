{"version":3,"file":"projects_eav-ui_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts.eed502719ad3b8e8.js","mappings":"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","names":["webApiTypeRoot","webApiTypeScopes","ContentTypesService","HttpServiceBase","retrieveContentType","staticName","this","http","get","apiUrl","params","appId","contentTypeId","retrieveContentTypes","scope","getScopes","pipe","map","scopesData","scopes","old","Object","keys","key","name","value","getScopesV2","save","contentType","post","appid","delete","StaticName","import","files","formData","FormData","file","append","zoneId","createGhost","sourceStaticName","static","t","_angular_core__WEBPACK_IMPORTED_MODULE_2__","jDH","factory","Éµfac","ExportAppPartsService","constructor","context","dnnContext","getContentInfo","$2sxc","webApiAppPartsRoot","toString","exportParts","contentTypeIds","entityIds","templateIds","url","join","window","open","i0","i1","i2","i3","ExportAppService","getAppInfo","webApiAppRoot","exportAppUrl","exportForVersionControl","includeContentGroups","resetAppGuid","withFiles","withPortalFiles","ImportAppPartsService","importAppParts","resetApp","webApiQueryRun","webApiQueryDebugStream","webApiQuerySave","webApiQueryGet","webApiQueryDataSources","PipelinesService","getAll","webApiEntityList","importQuery","from","toBase64","switchMap","fileBase64","AppId","ContentBase64","success","Success","Messages","clonePipeline","id","Id","_angular_core__WEBPACK_IMPORTED_MODULE_6__","webApiViewRoot","webApiViews","webApiViewDelete","webApiViewImport","webApiViewPolymorph","webApiViewUsage","ViewsService","export","getPolymorphism","getUsage","guid","_angular_core__WEBPACK_IMPORTED_MODULE_1__","AppsManagementNavItems","path","icon","svgIcon","tippy","child","breadcrumb_r3","AppsManagementNavComponent_ng_container_8_Conditional_1_Template","last_r4","AppsManagementNavComponent","#globalDialogConfigSvc","#dialogClose","dialogRef","media","inject","DialogConfigGlobalService","smallScreen","matchMedia","sideNavOpened","matches","navItems","transient","DialogRoutingService","ngOnInit","fetchDialogSettings","doOnDialogClosed","addEventListener","c","sidenav","opened","mode","closeDialog","close","getShared$","subscribe","core","VBU","selectors","viewQuery","rf","ctx","_r1","sidenav_r2","AppsManagementNavComponent_ng_container_8_Template","AppsManagementNavComponent_ng_template_9_Template","AppsManagementNavComponent_For_19_Template","_forTrack0","emptyTemplate_r6","MatToolbarModule","i4","MatIconModule","i5","BreadcrumbModule","i6","MatButtonModule","i7","MatSidenavModule","i8","RouterOutlet","NavItemListComponent","ToggleDebugDirective","styles","ImportAppService","importApp","changedName","retryOnDuplicate","result","MessageType","FileUploadMessageTypes","Warning","folderName","prompt","Text","of","_angular_core__WEBPACK_IMPORTED_MODULE_4__","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","split","onerror","error","readAsText","logSpecs","ServiceBase","router","route","super","log","classLog","snapshot","getParam","paramMap","getParams","reduce","acc","getQueryParam","queryParamMap","getQueryParams","state","getCurrentNavigation","extras","callback","l","fnIf","subscriptions","add","childDialogClosed$","end","navPath","navigate","navRelative","commands","relativeTo","navParentFirstChild","parent","firstChild","events","filter","event","NavigationEnd","startWith","pairwise","hadChildBefore","hasChildNow","_angular_core__WEBPACK_IMPORTED_MODULE_7__","all","getEntities","getAvailableEntities","webApiEntityRoot","EntityService","queryService","QueryService","getEntities$","p","contentTypeName","shareReplay","entitiesFilter","contentTypes","itemIds","fields","data","Default","entityId","force","parentId","parentField","DnnContext","HttpClient","Context","queryUrl","hasParams","urlParams","toLocaleLowerCase","includes","substring","Guids","Subscription","ngOnDestroy","destroy","unsubscribe"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/app-administration/services/content-types.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/services/export-app.service.ts","./projects/eav-ui/src/app/app-administration/services/import-app-parts.service.ts","./projects/eav-ui/src/app/app-administration/services/pipelines.service.ts","./projects/eav-ui/src/app/app-administration/services/views.service.ts","./projects/eav-ui/src/app/apps-management/apps-management-nav/managment-nav-items.ts","./projects/eav-ui/src/app/apps-management/apps-management-nav/apps-management-nav.component.html","./projects/eav-ui/src/app/apps-management/apps-management-nav/apps-management-nav.component.ts","./projects/eav-ui/src/app/import-app/services/import-app.service.ts","./projects/eav-ui/src/app/shared/helpers/file-to-base64.helper.ts","./projects/eav-ui/src/app/shared/routing/dialog-routing.service.ts","./projects/eav-ui/src/app/shared/services/entity.service.ts","./projects/eav-ui/src/app/shared/services/http-service-base.ts","./projects/eav-ui/src/app/shared/services/query.service.ts","./projects/eav-ui/src/app/shared/services/service-base.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { map } from 'rxjs';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { ContentType, ContentTypeEdit } from '../models/content-type.model';\r\nimport { ScopeDetailsDto } from '../models/scopedetails.dto';\r\nimport { HttpServiceBase } from '../../shared/services/http-service-base';\r\n\r\n// We should list all the \"full\" paths here, so it's easier to find when searching for API calls\r\nexport const webApiTypeRoot = 'admin/type/';\r\nconst webApiTypeGet = 'admin/type/get';\r\nconst webApiTypes = 'admin/type/list';\r\nconst webApiTypeScopes = 'admin/type/scopes';\r\nconst webApiTypeSave = 'admin/type/save';\r\nconst webApiTypeDelete = 'admin/type/delete';\r\nconst webApiTypeImport = 'admin/type/import';\r\nconst webApiTypeAddGhost = 'admin/type/addghost';\r\n\r\n@Injectable()\r\nexport class ContentTypesService extends HttpServiceBase {\r\n\r\n  retrieveContentType(staticName: string) {\r\n    return this.http.get<ContentType>(this.apiUrl(webApiTypeGet), {\r\n      params: { appId: this.appId, contentTypeId: staticName }\r\n    });\r\n  }\r\n\r\n  retrieveContentTypes(scope: string) {\r\n    return this.http.get<ContentType[]>(this.apiUrl(webApiTypes), {\r\n      params: { appId: this.appId, scope }\r\n    });\r\n  }\r\n\r\n  // TODO: remove this method after upgrade to V2\r\n  getScopes() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.appId }\r\n    }).pipe(\r\n      map(scopesData => {\r\n        // wip during upgrade:\r\n        const scopes = scopesData.old;\r\n        const scopeOptions: ScopeOption[] = Object.keys(scopes).map(key => ({ name: scopes[key], value: key }));\r\n        return scopeOptions;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getScopesV2() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.appId }\r\n    }).pipe(\r\n      map(scopesData => scopesData.scopes),\r\n    );\r\n  }\r\n\r\n  save(contentType: ContentTypeEdit) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeSave), contentType, {\r\n      params: { appid: this.appId },\r\n    });\r\n  }\r\n\r\n  delete(contentType: ContentType) {\r\n    return this.http.delete<boolean>(this.apiUrl(webApiTypeDelete), {\r\n      params: { appid: this.appId, staticName: contentType.StaticName },\r\n    });\r\n  }\r\n\r\n  import(files: File[]) {\r\n    const formData = new FormData();\r\n    for (const file of files) {\r\n      formData.append('File', file);\r\n    }\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiTypeImport), formData, {\r\n      params: { appId: this.appId, zoneId: this.zoneId },\r\n    });\r\n  }\r\n\r\n  createGhost(sourceStaticName: string) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeAddGhost), null, {\r\n      params: { appid: this.appId, sourceStaticName },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentInfo } from '../models/content-info.model';\r\nimport { webApiAppPartsRoot } from './import-app-parts.service';\r\n\r\n@Injectable()\r\nexport class ExportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getContentInfo(scope: string) {\r\n    return this.http.get<ContentInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Get'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString(), scope },\r\n    });\r\n  }\r\n\r\n  exportParts(contentTypeIds: number[], entityIds: number[], templateIds: number[]) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Export')\r\n      + '?appId=' + this.context.appId.toString()\r\n      + '&zoneId=' + this.context.zoneId.toString()\r\n      + '&contentTypeIdsString=' + contentTypeIds.join(';')\r\n      + '&entityIdsString=' + entityIds.join(';')\r\n      + '&templateIdsString=' + templateIds.join(';');\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { AppInfo } from '../models/app-info.model';\r\n\r\n@Injectable()\r\nexport class ExportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAppInfo() {\r\n    return this.http.get<AppInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Statistics'), {\r\n      params: { appid: this.context.appId.toString(), zoneId: this.context.zoneId.toString() },\r\n    });\r\n  }\r\n\r\n  /** Generate the export app path. It can be extended with additional parameters */\r\n  exportAppUrl() {\r\n    return `${this.dnnContext.$2sxc.http.apiUrl(`${webApiAppRoot}Export`)}?appId=${this.context.appId}&zoneId=${this.context.zoneId}`;\r\n  }\r\n\r\n  exportForVersionControl({ includeContentGroups, resetAppGuid, withFiles }:\r\n    { includeContentGroups: boolean; resetAppGuid: boolean; withFiles: boolean; }) {\r\n    return this.http.get<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'SaveData'), {\r\n      params: {\r\n        appid: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        includeContentGroups: includeContentGroups.toString(),\r\n        resetAppGuid: resetAppGuid.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppPartsRoot = 'admin/appParts/';\r\n\r\n@Injectable()\r\nexport class ImportAppPartsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importAppParts(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppPartsRoot + 'Import'), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  /** Reset the App back to the state it was in the last xml export */\r\n  resetApp(withFiles: boolean) {\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Reset'), {}, {\r\n      params: {\r\n        appId: this.context.appId.toString(),\r\n        zoneId: this.context.zoneId.toString(),\r\n        withPortalFiles: withFiles.toString(),\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { from, map, switchMap } from 'rxjs';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { toBase64 } from '../../shared/helpers/file-to-base64.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Query } from '../models/query.model';\r\nimport { webApiEntityList } from '../../shared/services/entity.service';\r\n\r\nconst webApiQueryImport = 'admin/query/import';\r\nconst webApiQueryClone = 'admin/query/Clone';\r\nconst webApiQueryDelete = 'admin/query/Delete';\r\nexport const webApiQueryRun = 'admin/query/Run';\r\nexport const webApiQueryDebugStream = 'admin/query/DebugStream';\r\nexport const webApiQuerySave = 'admin/query/Save';\r\nexport const webApiQueryGet = 'admin/query/Get';\r\nexport const webApiQueryDataSources = 'admin/query/DataSources';\r\n\r\n@Injectable()\r\nexport class PipelinesService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAll(contentType: string) {\r\n    return this.http.get<Query[]>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityList), {\r\n      params: { appId: this.context.appId.toString(), contentType }\r\n    });\r\n  }\r\n\r\n  importQuery(file: File) {\r\n    return from(toBase64(file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        return this.http.post<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryImport), {\r\n          AppId: this.context.appId.toString(),\r\n          ContentBase64: fileBase64,\r\n        });\r\n      }),\r\n      map(success => {\r\n        const result: FileUploadResult = {\r\n          Success: success,\r\n          Messages: [],\r\n        };\r\n        return result;\r\n      }),\r\n    );\r\n  }\r\n\r\n  clonePipeline(id: number) {\r\n    return this.http.get<null>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryClone), {\r\n      params: { Id: id.toString(), appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  delete(id: number) {\r\n    return this.http.delete<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiQueryDelete), {\r\n      params: { appId: this.context.appId.toString(), Id: id.toString() },\r\n    });\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\nimport { Polymorphism } from '../models/polymorphism.model';\r\nimport { ViewUsage } from '../models/view-usage.model';\r\nimport { View } from '../models/view.model';\r\n\r\nconst webApiViewRoot = 'admin/view/';\r\nconst webApiViews = webApiViewRoot + 'all';\r\nconst webApiViewDelete = webApiViewRoot + 'delete';\r\nconst webApiViewImport = webApiViewRoot + 'import';\r\nconst webApiViewPolymorph = webApiViewRoot + 'polymorphism';\r\nconst webApiViewUsage = webApiViewRoot + 'usage';\r\n\r\n@Injectable()\r\nexport class ViewsService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  getAll() {\r\n    return this.http.get<View[]>(this.dnnContext.$2sxc.http.apiUrl(webApiViews), {\r\n      params: { appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  delete(id: number) {\r\n    return this.http.get<boolean>(this.dnnContext.$2sxc.http.apiUrl(webApiViewDelete), {\r\n      params: { appId: this.context.appId.toString(), Id: id.toString() },\r\n    });\r\n  }\r\n\r\n  import(file: File) {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiViewImport), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  export(id: number) {\r\n    const url = this.dnnContext.$2sxc.http.apiUrl(webApiViewRoot + 'json')\r\n      + '?appId=' + this.context.appId\r\n      + '&viewId=' + id;\r\n\r\n    window.open(url, '_blank', '');\r\n  }\r\n\r\n  getPolymorphism() {\r\n    return this.http.get<Polymorphism>(this.dnnContext.$2sxc.http.apiUrl(webApiViewPolymorph), {\r\n      params: { appId: this.context.appId.toString() }\r\n    });\r\n  }\r\n\r\n  getUsage(guid: string) {\r\n    return this.http.get<ViewUsage[]>(this.dnnContext.$2sxc.http.apiUrl(webApiViewUsage), {\r\n      params: { appId: this.context.appId.toString(), guid }\r\n    });\r\n  }\r\n}\r\n","import { NavItem } from \"../../shared/models/nav-item.model\";\r\n\r\nexport const AppsManagementNavItems: NavItem[] = [\r\n  {\r\n    name: 'System', path: 'system', icon: 'settings', svgIcon: false, tippy: 'System Info', child: [\r\n      { name: 'Register', path: 'registration', icon: 'how_to_reg', svgIcon: false, tippy: 'Register this System on 2sxc Patrons' },\r\n    ]\r\n  },\r\n  { name: 'Apps', path: 'list', icon: 'star_border', svgIcon: false, tippy: 'Apps' },\r\n  { name: 'Languages', path: 'languages', icon: 'translate', svgIcon: false, tippy: 'Languages' },\r\n  { name: 'Extensions / Features', path: 'license', icon: 'tune', svgIcon: false, tippy: 'Extensions and Features' },\r\n];\r\n","\r\n<mat-toolbar appToggleDebug>\r\n  <div class=\"toolbar-container\">\r\n    <!-- Mat Icon Menu -->\r\n    <mat-icon class=\"menu-container\" (click)=\"sidenav.opened = !sidenav.opened\">menu</mat-icon>\r\n    <!-- App Name -->\r\n    <div>\r\n      <span> Manage Zone {{ zoneId }} </span>\r\n    </div>\r\n    <!-- Breadcrum in the Toolbar after show Img and Aoo Name -->\r\n    <xng-breadcrumb [separator]=\"emptyTemplate\">\r\n      <ng-container *xngBreadcrumbItem=\"let breadcrumb; let info = info; let last = last\">\r\n        @if (last)\r\n        {\r\n          <mat-icon class=\"breadcrumb-icon\">chevron_right</mat-icon>\r\n          {{ breadcrumb }}\r\n        }\r\n      </ng-container>\r\n    </xng-breadcrumb>\r\n    <ng-template #emptyTemplate></ng-template>\r\n  </div>\r\n  <span class=\"toolbar-spacer\"></span>\r\n  <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n    <mat-icon>close</mat-icon>\r\n  </button>\r\n</mat-toolbar>\r\n<mat-sidenav-container appToggleDebug>\r\n  <mat-sidenav #sidenav [mode]=\"smallScreen.matches ? 'over' : 'side'\" [opened]=\"sideNavOpened\">\r\n    @for (navItem of navItems; track navItem.path)\r\n    {\r\n      <app-nav-item-list [navItem]=\"navItem\"></app-nav-item-list>\r\n    }\r\n\r\n    <div class=\"sideNav-bottom-info\">\r\n      <p>use Burger icon to show/hide menu</p>\r\n    </div>\r\n  </mat-sidenav>\r\n\r\n  <mat-sidenav-content>\r\n    <div class=\"container-content\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { Component, inject, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { Context } from '../../shared/services/context';\r\nimport { MatSidenav, MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MediaMatcher } from '@angular/cdk/layout';\r\nimport { DialogConfigGlobalService } from '../../app-administration/services';\r\nimport { AppsManagementNavItems } from './managment-nav-items';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { BreadcrumbModule } from 'xng-breadcrumb';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { NavItemListComponent } from '../../shared/components/nav-item-list/nav-item-list.component';\r\nimport { ToggleDebugDirective } from '../../shared/directives/toggle-debug.directive';\r\nimport { transient } from '../../core';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\n\r\n@Component({\r\n  selector: 'app-apps-management-nav',\r\n  templateUrl: './apps-management-nav.component.html',\r\n  styleUrls: ['./apps-management-nav.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatToolbarModule,\r\n    MatIconModule,\r\n    BreadcrumbModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    RouterOutlet,\r\n    NavItemListComponent,\r\n    ToggleDebugDirective,\r\n  ],\r\n})\r\nexport class AppsManagementNavComponent implements OnInit {\r\n  @ViewChild('sidenav') sidenav!: MatSidenav;\r\n\r\n  #globalDialogConfigSvc = inject(DialogConfigGlobalService);\r\n\r\n  zoneId = this.context.zoneId;\r\n\r\n  smallScreen: MediaQueryList = this.media.matchMedia('(max-width: 1000px)');\r\n  sideNavOpened = !this.smallScreen.matches;\r\n\r\n  navItems = AppsManagementNavItems;\r\n  #dialogClose = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<AppsManagementNavComponent>,\r\n    private context: Context,\r\n    private media: MediaMatcher,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchDialogSettings();\r\n\r\n    // Trigger settings load? not sure why, because it's cached in the service... on dialog close?\r\n    this.#dialogClose.doOnDialogClosed(() => this.fetchDialogSettings());\r\n\r\n    this.smallScreen.addEventListener('change', c => (\r\n      this.sidenav.opened = !c.matches,\r\n      this.sidenav.mode = c.matches ? 'over' : 'side'\r\n    ));\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private fetchDialogSettings() {\r\n    this.#globalDialogConfigSvc.getShared$(0).subscribe();\r\n  }\r\n\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of, switchMap } from 'rxjs';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppRoot = 'admin/app/';\r\n\r\n@Injectable()\r\nexport class ImportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importApp(file: File, changedName: string, retryOnDuplicate = false): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    formData.append('Name', changedName ?? '');\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Import'), formData, {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    }).pipe(\r\n      switchMap(result => {\r\n        if (retryOnDuplicate && result.Messages[0]?.MessageType === FileUploadMessageTypes.Warning) {\r\n          const folderName = prompt(result.Messages[0].Text + ' Would you like to install it using another folder name?');\r\n          if (folderName) {\r\n            return this.importApp(file, folderName, true);\r\n          }\r\n        }\r\n        return of(result);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","export function toBase64(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      resolve((reader.result as string).split(',')[1]);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n\r\nexport function toString(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n    reader.onload = () => {\r\n      resolve(reader.result as string);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n","import { ActivatedRoute, NavigationEnd, NavigationExtras, Router } from '@angular/router';\r\nimport { filter, map, pairwise, startWith } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { ServiceBase } from '../services/service-base';\r\nimport { classLog } from '../logging';\r\n\r\nconst logSpecs = {\r\n  doOnDialogClosed: true,\r\n};\r\n\r\n/**\r\n * Helper to handle dialog routings, especially:\r\n * 1. handling on-child-closed events (it also takes care of subscriptions)\r\n * 2. accessing the router and route - a very common task when you have dialogs\r\n */\r\n@Injectable()\r\nexport class DialogRoutingService extends ServiceBase {\r\n\r\n  log = classLog({DialogRoutingService}, logSpecs);\r\n\r\n  constructor(\r\n    public router: Router,\r\n    public route: ActivatedRoute\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  get snapshot() { return this.route.snapshot; }\r\n\r\n  get url() { return this.router.url; }\r\n\r\n  getParam(key: string): string {\r\n    return this.route.snapshot.paramMap.get(key);\r\n  }\r\n\r\n  getParams<K extends string>(keys: K[]): Record<K, string> {\r\n    const paramMap = this.route.snapshot.paramMap;\r\n    return keys.reduce((acc, key) => {\r\n      acc[key] = paramMap.get(key);\r\n      return acc;\r\n    }, {} as Record<string, string>);\r\n  }\r\n\r\n  getQueryParam(key: string): string {\r\n    return this.route.snapshot.queryParamMap.get(key);\r\n  }\r\n\r\n  getQueryParams<K extends string>(keys: K[]): Record<K, string> {\r\n    const queryParamMap = this.route.snapshot.queryParamMap;\r\n    return keys.reduce((acc, key) => {\r\n      acc[key] = queryParamMap.get(key);\r\n      return acc;\r\n    }, {} as Record<string, string>);\r\n  }\r\n\r\n\r\n  state<T = any>() { return this.router.getCurrentNavigation().extras?.state as T; }\r\n\r\n  /**\r\n   * Preferred way to register a callback, since the caller doesn't need to worry about subscriptions.\r\n   */\r\n  public doOnDialogClosed(callback: () => void) {\r\n    const l = this.log.fnIf('doOnDialogClosed');\r\n    this.subscriptions.add(\r\n      this.childDialogClosed$().subscribe(() => callback())\r\n    );\r\n    l.end();\r\n  }\r\n\r\n  /**\r\n   * Navigate to a new route.\r\n   * Just looks a bit simpler than the internal array notation.\r\n   */\r\n  public navPath(url: string, extras?: NavigationExtras): Promise<boolean> {\r\n    return this.router.navigate([url], extras);\r\n  }\r\n\r\n  /**\r\n   * Navigate relative to the current route.\r\n   */\r\n  public navRelative(commands: any[], extras?: Omit<NavigationExtras, 'relativeTo'>): Promise<boolean> {\r\n    return this.router.navigate(commands, { ...extras, relativeTo: this.route });\r\n  }\r\n\r\n  public navParentFirstChild(commands: any[], extras?: Omit<NavigationExtras, 'relativeTo'>): Promise<boolean> {\r\n    return this.router.navigate(commands, { ...extras, relativeTo: this.route.parent.firstChild });\r\n  }\r\n  \r\n  childDialogClosed$() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild),\r\n      pairwise(),\r\n      filter(([hadChildBefore, hasChildNow]) => hadChildBefore && !hasChildNow),\r\n    )\r\n  }\r\n\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { filter, map, Observable, shareReplay, switchMap } from 'rxjs';\r\nimport { classLog } from '../logging';\r\nimport { EntityBasic } from '../../shared/models/entity-basic';\r\nimport { QueryService } from './query.service';\r\nimport { transient } from '../../core';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  getEntities: false,\r\n  getAvailableEntities: false,\r\n  delete: false,\r\n};\r\n\r\nexport const webApiEntityRoot = 'admin/entity/';\r\nexport const webApiEntityList = 'admin/entity/list';\r\n\r\n @Injectable()\r\n export class EntityService {\r\n  \r\n  log = classLog({EntityService}, logSpecs);\r\n\r\n  private queryService = transient(QueryService);\r\n\r\n  constructor(private http: HttpClient, private dnnContext: DnnContext) { }\r\n\r\n  /**\r\n   * Get entities based on the content type name.\r\n   * As of 2024-04-29 only used in REST API.\r\n   * @param params\r\n   * @returns\r\n   */\r\n  getEntities$(params: Observable<{ contentTypeName: string }>): Observable<EntityBasic[]> {\r\n    this.log.fnIf('getEntities');\r\n    return params.pipe(\r\n      filter(p => p != null),\r\n      switchMap(p => this.getAvailableEntities(p.contentTypeName).pipe(shareReplay(1))),\r\n    );\r\n  }\r\n\r\n  private getAvailableEntities(contentTypeName: string, entitiesFilter?: string[]): Observable<EntityBasic[]> {\r\n    var log = this.log.fnIf('getAvailableEntities');\r\n    return this.queryService.getEntities({\r\n      contentTypes: [contentTypeName],\r\n      itemIds: entitiesFilter,\r\n      fields: 'Id,Guid,Title',\r\n      log: 'getAvailableEntities'\r\n    }).pipe(\r\n      map(data => data.Default)\r\n    );\r\n  }\r\n\r\n  delete(appId: number, contentType: string, entityId: number, force: boolean, parentId?: number, parentField?: string): Observable<null> {\r\n    this.log.fnIf('delete', { appId, contentType, entityId, force, parentId, parent });\r\n    return this.http.delete<null>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'delete'), {\r\n      params: {\r\n        contentType,\r\n        id: entityId.toString(),\r\n        appId,\r\n        force: force.toString(),\r\n        ...(parentId && { parentId: parentId.toString() }),\r\n        ...(parentId && parentField && { parentField }),\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { inject, Injectable } from '@angular/core';\r\nimport { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { Context } from '../../shared/services/context';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n/**\r\n * Base class for all services that need to make HTTP calls.\r\n * Provides important typical information and services, especially\r\n * * apiUrl(name) - to get the full API URL\r\n * * appId - the current app id\r\n * * zoneId - the current zone id\r\n */\r\n@Injectable()\r\nexport class HttpServiceBase {\r\n\r\n  protected dnnContext = inject(DnnContext);\r\n  protected http = inject(HttpClient);\r\n  protected context = inject(Context);\r\n\r\n  constructor() { }\r\n\r\n  /**\r\n   * Convert a short 2sxc-url into the correct full URL on the system.\r\n   * @param name 2sxc-style short url\r\n   * @returns \r\n   */\r\n  protected apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  /**\r\n   * The current app id\r\n   */\r\n  protected get appId() { return this.context.appId.toString(); }\r\n\r\n  /**\r\n   * The current zone id\r\n   */\r\n  protected get zoneId() { return this.context.zoneId.toString(); }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Context } from './context';\r\nimport { QueryStreams } from '../models/query-stream.model';\r\nimport { classLog } from '../logging';\r\n\r\nconst logSpecs = {\r\n  all: false,\r\n  getAvailableEntities: false,\r\n  getEntities: false,\r\n};\r\n\r\n@Injectable()\r\nexport class QueryService {\r\n\r\n  log = classLog({QueryService}, logSpecs);\r\n\r\n  constructor(private http: HttpClient, private context: Context) { }\r\n\r\n  getAvailableEntities(queryUrl: string, params: string, fields: string, entitiesFilter?: string[]): Observable<QueryStreams> {\r\n    this.log.fnIf('getAvailableEntities', { queryUrl, params, fields, entitiesFilter });\r\n    // Check if any params we should auto-add are already set (like in a query which has these params set in the configuration)\r\n    const hasParams = !!params;\r\n    const paramsLower = params?.toLocaleLowerCase() ?? '';\r\n    const hasAppId = paramsLower.includes('appid=') ?? false;\r\n    const allParams = ''\r\n      + (hasAppId ? '' : `&appId=${this.context.appId}`)\r\n      + (hasParams ? `&${params}` : '')\r\n      + '&$select=' + (fields ?? '' /* special catch to avoid the word \"null\" */);\r\n    // trim initial & because it will always start with an & and it should't\r\n    const urlParams = allParams.substring(1);\r\n    return this.http.post<QueryStreams>(`app/auto/query/${queryUrl}?${urlParams}`,\r\n      {\r\n        Guids: entitiesFilter,\r\n      },\r\n    );\r\n  }\r\n\r\n  getEntities({ contentTypes, itemIds, fields, log }: { contentTypes: string[]; itemIds: string[]; fields: string; log: string }): Observable<QueryStreams> {\r\n    this.log.fnIf(`getEntities`, { log, contentTypes, itemIds, fields });\r\n    const allParams =\r\n      '&typeNames=' + (contentTypes?.join(',') ?? '')\r\n      + `&appId=${this.context.appId}`\r\n      + '&itemIds=' + (itemIds?.join(',') ?? '')\r\n      + '&$select=' + (fields ?? '' /* special catch to avoid the word \"null\" */);\r\n    // trim initial & because it will always start with an & and it should't\r\n    const urlParams = allParams.substring(1);\r\n    return this.http.post<QueryStreams>(\r\n      `app/auto/query/System.EntityPicker/Default?${urlParams}`,\r\n      {}\r\n    );\r\n  }\r\n}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * Base class for services - just to standardize use of subscriptions.\r\n * Has @Injectable() just to allow it ot use the standard OnDestroy interface.\r\n */\r\n@Injectable()\r\nexport abstract class ServiceBase implements OnDestroy {\r\n\r\n  protected subscriptions = new Subscription();\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy();\r\n  }\r\n\r\n  // TODO: TRY TO GET RID OF THIS. AFAIK it's just used in the mask, which should switch over to signals.\r\n  destroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
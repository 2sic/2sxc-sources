"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts"],{9086:(I,l,t)=>{t.r(l),t.d(l,{DataRestApiComponent:()=>R});var u=t(5445),d=t(5797),n=t(5175),c=t(316),r=t(4456),a=t(4175),i=t(3777),M=t(3840),P=t(2159),p=t(5437),A=t(7037),o=t(8471),e=t(7580),h=t(5944),C=t(5060);function T(s,m){if(1&s&&(e.j41(0,"mat-option",3),e.EFF(1),e.k0s()),2&s){const _=m.$implicit;e.Y8G("value",_.StaticName),e.R7$(),e.SpI(" ",_.Label," ")}}function E(s,m){1&s&&e.Z7z(0,T,2,2,"mat-option",3,e.fX1),2&s&&e.Dyx(m.sort())}let R=(()=>{class s{#e;#t;constructor(_){this.fb=_,this.#e=(0,p.d)(u.gs),this.#t=(0,p.d)(o.c),this.contentTypes$=new d.t(void 0),this.contentTypes=[]}ngOnInit(){this.fetchData(),this.contentTypeForm=this.fb.group({contentType:[""]})}fetchData(){this.#e.retrieveContentTypes("Default").subscribe(_=>{this.contentTypes$.next(_);const D=this.#t.url.split("/"),O=D[D.length-1],v=_.find(g=>g.StaticName===O);v&&this.contentTypeForm.get("contentType").setValue(v.StaticName)})}openRestApi(_){_&&this.#t.navParentFirstChild([`${_}`])}static#a=this.\u0275fac=function(D){return new(D||s)(e.rXU(r.ok))};static#s=this.\u0275cmp=e.VBU({type:s,selectors:[["app-data-rest-api"]],standalone:!0,features:[e.aNF],decls:8,vars:4,consts:[[3,"formGroup"],["color","accent",1,"eav-mat-form-field"],["formControlName","contentType",3,"valueChange"],[3,"value"]],template:function(D,O){if(1&D&&(e.j41(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Content-Type"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(g){return O.openRestApi(g)}),e.DNE(5,E,2,0),e.nI1(6,"async"),e.k0s()()(),e.nrm(7,"router-outlet")),2&D){let v;e.Y8G("formGroup",O.contentTypeForm),e.R7$(5),e.vxM(5,(v=e.bMT(6,2,O.contentTypes$))?5:-1,v)}},dependencies:[n.Ve,h.rl,h.nJ,n.VO,C.wT,a.Hl,i.Hu,M.m_,r.X1,r.qT,r.BC,r.cb,r.j4,r.JD,c.Jj,P.n3,A.p]})}return s})()},5445:(I,l,t)=>{t.d(l,{Cu:()=>a.Cu,JL:()=>a.JL,Mk:()=>a.Mk,ei:()=>a.ei,gs:()=>d.g,tr:()=>u.t,vN:()=>a.vN,xR:()=>a.xR,y0:()=>i.y});var u=t(1479),d=t(7693),a=(t(1475),t(320),t(8624),t(6460)),i=t(2570)},6460:(I,l,t)=>{t.d(l,{Cu:()=>e,JL:()=>h,Mk:()=>A,ei:()=>o,vN:()=>C,xR:()=>T});var u=t(4600),d=t(6647),n=t(271),c=t(693),r=t(9234),a=t(6474),i=t(7580);const A="admin/query/Run",o="admin/query/DebugStream",e="admin/query/Save",h="admin/query/Get",C="admin/query/DataSources";let T=(()=>{class E extends a.D{getAll(s){return this.http.get(this.apiUrl(r.Gg),{params:{appId:this.appId,contentType:s}})}importQuery(s){return(0,u.H)((0,c.n)(s)).pipe((0,d.n)(m=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:m})),(0,n.T)(m=>({Success:m,Messages:[]})))}clonePipeline(s){return this.http.get(this.apiUrl("admin/query/Clone"),{params:{Id:s.toString(),appId:this.appId}})}delete(s){return this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:s.toString()}})}static#e=this.\u0275fac=(()=>{let s;return function(_){return(s||(s=i.xGo(E)))(_||E)}})();static#t=this.\u0275prov=i.jDH({token:E,factory:E.\u0275fac})}return E})()},2570:(I,l,t)=>{t.d(l,{y:()=>P});var u=t(6474),d=t(7580);const n="admin/view/",c=n+"all",r=n+"delete",a=n+"import",i=n+"polymorphism",M=n+"usage";let P=(()=>{class p extends u.D{getAll(){return this.http.get(this.apiUrl(c),{params:{appId:this.appId}})}delete(o){return this.http.get(this.apiUrl(r),{params:{appId:this.appId,Id:o.toString()}})}import(o){const e=new FormData;return e.append("File",o),this.http.post(this.apiUrl(a),e,{params:{appId:this.appId,zoneId:this.zoneId}})}export(o){const e=this.apiUrl(n+"json")+"?appId="+this.appId+"&viewId="+o;window.open(e,"_blank","")}getPolymorphism(){return this.http.get(this.apiUrl(i),{params:{appId:this.appId}})}getUsage(o){return this.http.get(this.apiUrl(M),{params:{appId:this.appId,guid:o}})}static#e=this.\u0275fac=(()=>{let o;return function(h){return(o||(o=d.xGo(p)))(h||p)}})();static#t=this.\u0275prov=d.jDH({token:p,factory:p.\u0275fac})}return p})()},693:(I,l,t)=>{function u(n){return new Promise((c,r)=>{const a=new FileReader;a.readAsDataURL(n),a.onload=()=>{c(a.result.split(",")[1])},a.onerror=i=>{r(i)}})}function d(n){return new Promise((c,r)=>{const a=new FileReader;a.readAsText(n),a.onload=()=>{c(a.result)},a.onerror=i=>{r(i)}})}t.d(l,{d:()=>d,n:()=>u})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.01.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts.276c506a39fadecf.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts"],{2509:(M,T,o)=>{o.r(T),o.d(T,{ContentTypeFieldsComponent:()=>zt});var s=o(7941),f=o(9184),m=o(5797),C=o(9999),r=o(271),v=o(9452),h=o(1873),b=o(7693),y=o(3454),R=o(2437),u=o(1735),_=o(251),p=o(52),d=o(3216);class g{static editId(l){return{EntityId:l}}static newMetadata(l,e,i){return{ContentTypeName:e,For:g.createFor(i,l)}}static createFor(l,e){return{Target:l.target,TargetType:l.targetType,..."number"==typeof e?{Number:e}:"guid"==l.keyType?{Guid:e}:{String:e}}}}var O=o(9839),k=o(8170),x=o(3176),S=o(1034),G=o(6256),F=o(3840),B=o(5060),P=o(4601),t=o(8559);function Y(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",9),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("metadata"))}),t.j41(1,"mat-icon",10),t.EFF(2,"local_offer"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount)}}function H(n,l){if(1&n&&(t.j41(0,"div",11)(1,"mat-icon",12),t.EFF(2," local_offer "),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount)}}function K(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("image"))}),t.j41(1,"mat-icon",14),t.EFF(2," filter-center-focus "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.field.imageConfiguration.entityId?1:0)("matBadgeHidden",!e.field.imageConfiguration.entityId)}}function J(n,l){if(1&n&&(t.j41(0,"div",15)(1,"mat-icon",16),t.EFF(2," filter-center-focus "),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.field.imageConfiguration.entityId?1:0)("matBadgeHidden",!e.field.imageConfiguration.entityId)}}function Z(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("permissions"))}),t.j41(1,"mat-icon",10),t.EFF(2," person "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.field.Permissions.Count)("matBadgeHidden",!e.field.Permissions.Count)}}function Q(n,l){if(1&n&&(t.j41(0,"div",18)(1,"mat-icon",12),t.EFF(2," person "),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.field.Permissions.Count)("matBadgeHidden",!e.field.Permissions.Count)}}function q(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("shareOrInherit"))}),t.j41(1,"mat-icon",20),t.EFF(2),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText()),t.R7$(2),t.SpI(" ",e.shareOrInheritIcon()," ")}}function tt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",21),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("shareOrInherit"))}),t.j41(1,"mat-icon",22),t.EFF(2," share "),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("tippy",e.shareText())}}function et(n,l){if(1&n){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("rename"))}),t.j41(1,"mat-icon"),t.EFF(2,"text_fields"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Rename"),t.k0s()(),t.j41(5,"button",23),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("delete"))}),t.j41(6,"mat-icon"),t.EFF(7,"delete"),t.k0s(),t.j41(8,"span"),t.EFF(9,"Delete"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.field.EditInfo.DisableRename),t.R7$(5),t.Y8G("disabled",e.field.EditInfo.DisableDelete||e.field.IsTitle)}}let it=(()=>{class n extends x.${constructor(){super()}agInit(e){this.params=e,this.field=this.params.data,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(i=>"merged"!==i).length:0,this.enablePermissions=this.field.InputType===k.I.StringWysiwyg||this.field.Type===O.m.Hyperlink}shareText(){const e="click to configure sharing",i=this.field.SysSettings;return i?i.Share?"shared enabled as "+this.field.Guid:i.InheritMetadataOf?"inherits "+i.InheritMetadataOf:e:e}shareOrInheritIcon(){const e=this.field.SysSettings;return e?e.Share?"share":e.InheritMetadataOf?"adjust":"":""}refresh(e){return!0}do(e){this.params.do(e,this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-actions"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:5,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight"],["matRipple","","tippy","Image Configuration",1,"eav-grid-action-button","highlight"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],[1,"eav-grid-action-button","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Image Configuration",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden"],["tippy","no image configuration for this field",1,"eav-grid-action-button","disabled"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeDisabled","true",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["tippy","no permissions to configure on this field",1,"eav-grid-action-button","disabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(i,a){if(1&i&&(t.j41(0,"div",1),t.DNE(1,Y,3,2,"div",2)(2,H,3,2)(3,K,3,2,"div",3)(4,J,3,2)(5,Z,3,2,"div",4)(6,Q,3,2)(7,q,3,2,"div",5)(8,tt,3,1),t.j41(9,"div",6)(10,"mat-icon"),t.EFF(11,"more_horiz"),t.k0s()()(),t.j41(12,"mat-menu",7,0),t.DNE(14,et,10,2,"ng-template",8),t.k0s()),2&i){const c=t.sdS(13);t.R7$(),t.vxM(1,a.field.EditInfo.DisableMetadata?2:1),t.R7$(2),t.vxM(3,!a.field.EditInfo.DisableEdit&&a.field.imageConfiguration.isRecommended?3:4),t.R7$(2),t.vxM(5,!a.field.EditInfo.DisableEdit&&a.enablePermissions?5:6),t.R7$(2),t.vxM(7,""!=a.shareOrInheritIcon()?7:8),t.R7$(2),t.Y8G("matMenuTriggerFor",c)}},dependencies:[B.pZ,B.r6,F.m_,F.An,G.Y,G.k,S.Cn,S.kk,S.fb,S.z8,S.Cp,P.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}return n})();function nt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.changeInputType())}),t.j41(1,"div",3),t.EFF(2),t.k0s(),t.j41(3,"div",4)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}function at(n,l){if(1&n&&(t.j41(0,"div",1)(1,"div",5),t.EFF(2),t.k0s(),t.j41(3,"div",6)(4,"mat-icon"),t.EFF(5,"arrow_drop_down"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.value)}}let ot=(()=>{class n{agInit(e){this.params=e,this.value=e.value,this.field=e.data}refresh(e){return!0}changeInputType(){this.params.onChangeInputType(this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-input-type"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["matRipple","",1,"input-component","highlight"],[1,"input-component","disabled"],["matRipple","",1,"input-component","highlight",3,"click"],[1,"text"],[1,"eav-grid-action-button"],[1,"text","disabled"],[1,"eav-grid-action-button","disabled"]],template:function(i,a){1&i&&t.DNE(0,nt,6,1,"div",0)(1,at,6,1,"div",1),2&i&&(t.vxM(0,a.field.EditInfo.DisableEdit?-1:0),t.R7$(),t.vxM(1,a.field.EditInfo.DisableEdit?1:-1))},dependencies:[B.pZ,B.r6,F.m_,F.An]})}return n})();function st(n,l){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"functions"),t.k0s())}function rt(n,l){1&n&&(t.j41(0,"mat-icon",2),t.EFF(1,"mobiledata_off"),t.k0s())}let lt=(()=>{class n{agInit(e){const i=e.data;this.hasFormulas=i.HasFormulas,this.isEphemeral=i.IsEphemeral}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-special"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"icon-container"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.DNE(1,st,2,0,"mat-icon",1)(2,rt,2,0,"mat-icon",2),t.k0s()),2&i&&(t.R7$(),t.vxM(1,a.hasFormulas?1:-1),t.R7$(),t.vxM(2,a.isEphemeral?2:-1))},dependencies:[F.m_,F.An]})}return n})();function dt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.setTitle())}),t.j41(1,"mat-icon"),t.EFF(2),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.isTitle?"star":"star_outline")}}function ct(n,l){if(1&n&&(t.j41(0,"div",2)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.isTitle?"star":"star_outline")}}let pt=(()=>{class n{agInit(e){this.params=e,this.isTitle=e.value,this.field=e.data}refresh(e){return!0}setTitle(){this.params.onSetTitle(this.field)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-title"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",1,"eav-grid-action-button","highlight"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",1,"eav-grid-action-button","highlight",3,"click"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.DNE(1,dt,3,1,"div",1)(2,ct,3,1,"div",2),t.k0s()),2&i&&(t.R7$(),t.vxM(1,a.field.EditInfo.ReadOnly?-1:1),t.R7$(),t.vxM(2,a.field.EditInfo.ReadOnly?2:-1))},dependencies:[B.pZ,B.r6,F.m_,F.An]})}return n})();var mt=o(4007);let ht=(()=>{class n{agInit(e){this.value=e.value,this.icon=(0,mt.y)(this.value)}refresh(e){return!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields-type"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"mat-icon"),t.EFF(2),t.k0s()()),2&i&&(t.Y8G("tippy",a.value),t.R7$(2),t.JRh(a.icon))},dependencies:[F.m_,F.An,P.e]})}return n})();var X=o(3051),I=function(n){return n[n.None=0]="None",n[n.Sharing=1]="Sharing",n[n.Inheriting=2]="Inheriting",n}(I||{}),gt=o(6838),ut=o(4858),z=o(8136),V=o(852),A=o(316),E=o(906),U=o(3777),j=o(4175),ft=o(3703);const _t=n=>({"eav-selected-row":n});function vt(n,l){if(1&n){const e=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.closeDialog())}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function Ct(n,l){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,e.message)," ",e.dialogData.Guid,"")}}function bt(n,l){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Lme("",t.bMT(2,2,e.message)," ",e.dialogData.SysSettings.InheritMetadataOf,"")}}function yt(n,l){if(1&n){const e=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.chooseShare())}),t.EFF(1,"Share"),t.k0s()}}function Tt(n,l){if(1&n){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.chooseInherit())}),t.EFF(1,"Inherit"),t.k0s()}}function Ft(n,l){1&n&&(t.j41(0,"span"),t.EFF(1,"This will share the field definition"),t.k0s())}function It(n,l){1&n&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Content Type"),t.k0s()())}function Dt(n,l){if(1&n&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.SpI(" ",e.ContentType.Name," ")}}function Et(n,l){1&n&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Name"),t.k0s()())}function Rt(n,l){if(1&n&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.SpI(" ",e.StaticName," ")}}function St(n,l){1&n&&(t.j41(0,"th",20)(1,"b"),t.EFF(2,"Type"),t.k0s()())}function xt(n,l){if(1&n&&(t.j41(0,"td",21),t.EFF(1),t.k0s()),2&n){const e=l.$implicit;t.R7$(),t.SpI(" ",e.Type," ")}}function Mt(n,l){1&n&&t.nrm(0,"tr",22)}function Bt(n,l){if(1&n){const e=t.RV6();t.j41(0,"tr",23),t.bIt("click",function(){const a=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.inheritField(a))}),t.k0s()}if(2&n){const e=l.$implicit,i=t.XpG(3);t.Y8G("ngClass",t.eq3(1,_t,i.guid===e.Guid))}}function jt(n,l){if(1&n&&(t.j41(0,"mat-card",9)(1,"table",12),t.qex(2,13),t.DNE(3,It,3,0,"th",14)(4,Dt,2,1,"td",15),t.bVm(),t.qex(5,16),t.DNE(6,Et,3,0,"th",14)(7,Rt,2,1,"td",15),t.bVm(),t.qex(8,17),t.DNE(9,St,3,0,"th",14)(10,xt,2,1,"td",15),t.bVm(),t.DNE(11,Mt,1,0,"tr",18)(12,Bt,1,3,"tr",19),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("dataSource",l.shareableFields),t.R7$(10),t.Y8G("matHeaderRowDef",e.displayedShareableFieldsColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedShareableFieldsColumns)}}function Ot(n,l){if(1&n&&(t.j41(0,"div"),t.DNE(1,yt,2,0,"button",7)(2,Tt,2,0,"button",8)(3,Ft,2,0,"span")(4,jt,13,3,"mat-card",9),t.nI1(5,"async"),t.k0s()),2&n){let e;const i=t.XpG();t.R7$(),t.vxM(1,i.state==i.sharingOrInheriting.None?1:-1),t.R7$(),t.vxM(2,i.state==i.sharingOrInheriting.None?2:-1),t.R7$(),t.vxM(3,i.state==i.sharingOrInheriting.Sharing?3:-1),t.R7$(),t.vxM(4,(e=t.bMT(5,4,i.state==i.sharingOrInheriting.Inheriting&&i.viewModel$))?4:-1,e)}}function Nt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(2,"Cancel"),t.k0s(),t.j41(3,"button",24),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.save())}),t.j41(4,"div",25)(5,"span"),t.EFF(6,"Save"),t.k0s(),t.nrm(7,"app-feature-icon-indicator",26),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("disabled",e.isSaveDisabled),t.R7$(4),t.Y8G("featureNameId","FieldShareConfigManagement")}}let At=(()=>{class n extends x.${constructor(e,i,a,c,D,w){super(),this.dialogData=e,this.dialogRef=i,this.contentTypesFieldsService=a,this.dialog=c,this.viewContainerRef=D,this.changeDetectorRef=w,this.displayedShareableFieldsColumns=["contentType","name","type"],this.state=I.None,this.initialState=I.None,this.sharingOrInheriting=I,this.guid=null,this.isSaveDisabled=!0,this.shareableFields$=new m.t(void 0),this.features=(0,t.WQX)(ut.D),this.fieldShareConfigManagement=this.features.isEnabled(z.T.FieldShareConfigManagement)}ngOnInit(){if(this.initialState=this.dialogData.SysSettings&&(this.dialogData.SysSettings.Share||this.dialogData.SysSettings.InheritMetadataOf)?this.dialogData.SysSettings.Share?I.Sharing:I.Inheriting:I.None,this.initialState===I.None){this.title="SharingOrInheriting.TitleNone";const e=this.contentTypesFieldsService.getShareableFieldsFor(this.dialogData.AttributeId);this.viewModel$=(0,C.z)([e]).pipe((0,r.T)(([i])=>(this.shareableFields$.next(i),{shareableFields:i})))}else this.initialState===I.Sharing?(this.title="SharingOrInheriting.TitleSharing",this.message="SharingOrInheriting.MessageSharing"):this.initialState===I.Inheriting&&(this.title="SharingOrInheriting.TitleInheriting",this.message="SharingOrInheriting.MessageInheriting")}chooseShare(){this.guid=null,this.state=I.Sharing,this.isSaveDisabled=!1}chooseInherit(){this.guid=null,this.state=I.Inheriting,this.isSaveDisabled=!0}inheritField(e){this.guid=e.Guid,this.isSaveDisabled=!1}save(){this.fieldShareConfigManagement()?this.state==I.Sharing?this.subscriptions.add(this.contentTypesFieldsService.share(this.dialogData.Id).subscribe(()=>this.dialogRef.close())):this.state==I.Inheriting&&this.subscriptions.add(this.contentTypesFieldsService.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialogRef.close())):(0,gt.jr)(this.dialog,z.T.FieldShareConfigManagement,this.viewContainerRef,this.changeDetectorRef)}closeDialog(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(s.Vh),t.rXU(s.CP),t.rXU(X.h6),t.rXU(s.bZ),t.rXU(t.c1b),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-share-or-inherit-dialog"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:8,consts:[[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog"],[1,"eav-dialog-content"],[1,"eav-dialog-actions"],["mat-icon-button","","tippy","Close dialog",3,"click"],["mat-raised-button","","type","button",1,"eav-dialog-action-button"],["mat-raised-button","","type","button"],[1,"eav-table-div"],["mat-raised-button","","type","button",1,"eav-dialog-action-button",3,"click"],["mat-raised-button","","type","button",3,"click"],["mat-table","",1,"mat-elevation-z8","eav-fields-table",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],["mat-raised-button","","type","submit","color","accent",1,"eav-dialog-action-button",3,"click","disabled"],[1,"eav-button-feature"],[1,"eav-button-feature-icon",3,"featureNameId"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.DNE(5,vt,3,0,"button",3),t.k0s(),t.j41(6,"div",4),t.DNE(7,Ct,3,4,"div")(8,bt,3,4,"div")(9,Ot,6,6,"div"),t.k0s(),t.DNE(10,Nt,8,2,"div",5),t.k0s()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,6,a.title)," "),t.R7$(2),t.vxM(5,a.initialState!=a.sharingOrInheriting.None?5:-1),t.R7$(2),t.vxM(7,a.initialState==a.sharingOrInheriting.Sharing?7:-1),t.R7$(),t.vxM(8,a.initialState==a.sharingOrInheriting.Inheriting?8:-1),t.R7$(),t.vxM(9,a.initialState==a.sharingOrInheriting.None?9:-1),t.R7$(),t.vxM(10,a.initialState==a.sharingOrInheriting.None?10:-1))},dependencies:[j.Hl,j.$z,j.iY,F.m_,F.An,U.Hu,U.RN,E.tP,E.Zl,E.tL,E.ji,E.cC,E.YV,E.iL,E.KS,E.$R,E.YZ,E.NB,A.YU,A.Jj,V.h,V.D9,ft.s],styles:[".eav-table-div[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-table-div[_ngcontent-%COMP%]   .eav-selected-row[_ngcontent-%COMP%]{background-color:#00000026}.eav-dialog-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:8px 0}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}.eav-dialog-action-button[_ngcontent-%COMP%]   .eav-button-feature[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.eav-dialog-action-button[_ngcontent-%COMP%]   .eav-button-feature[_ngcontent-%COMP%]   .eav-button-feature-icon[_ngcontent-%COMP%]{margin-left:4px;margin-top:6px}"]})}return n})();var L=o(1828),$t=o(5699),kt=o(7037),W=o(5437),N=o(8941),Gt=o(3347),wt=o(9841);const Pt=(n,l)=>({"grid-sorted":n,"grid-filtered":l});function Xt(n,l){if(1&n){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.closeDialog())}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",4),t.nrm(8,"router-outlet"),t.j41(9,"div",5)(10,"ag-grid-angular",6),t.bIt("rowDragEnter",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onRowDragEnter(a))})("rowDragEnd",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onRowDragEnd(a))})("rowDragMove",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onRowDragMove(a))})("gridReady",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onGridReady(a))})("sortChanged",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onSortChanged(a))})("filterChanged",function(a){t.eBV(e);const c=t.XpG();return t.Njj(c.onFilterChanged(a))}),t.k0s()()(),t.j41(11,"mat-dialog-actions",7)(12,"button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.add())}),t.j41(13,"mat-icon"),t.EFF(14,"add"),t.k0s()()()()}if(2&n){const e=l,i=t.XpG();t.R7$(3),t.SpI(" ",(null==e.contentType?null:e.contentType.Label)||(null==e.contentType?null:e.contentType.Name)," Fields "),t.R7$(7),t.Y8G("rowData",e.fields)("gridOptions",i.gridOptions)("ngClass",t.l_i(5,Pt,i.sortApplied,i.filterApplied)),t.R7$(2),t.Y8G("disabled",null==e.contentType||e.contentType.EditInfo.ReadOnly)}}let zt=(()=>{class n extends u.V{constructor(e,i,a,c,D){super(e,i),this.router=e,this.route=i,this.dialogRef=a,this.snackBar=c,this.dialog=D,this.contentType$=new m.t(void 0),this.fields$=new m.t(void 0),this.gridOptions=this.buildGridOptions(),this.sortApplied=!1,this.filterApplied=!1,this.rowDragSuppressed=!1,this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName"),this.contentTypesService=(0,W.d)(b.g),this.contentTypesFieldsService=(0,W.d)(X.h6)}ngOnInit(){this.fetchFields(),this.subscriptions.add(this.childDialogClosed$().subscribe(()=>{this.fetchFields()})),this.viewModel$=(0,C.z)([this.contentType$,this.fields$]).pipe((0,r.T)(([e,i])=>({contentType:e,fields:i})))}ngOnDestroy(){this.contentType$.complete(),this.fields$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}onGridReady(e){this.gridApi=e.api,this.columnApi=e.columnApi}onRowDragEnter(e){this.gridApi.setEnableCellTextSelection(!1)}onRowDragEnd(e){this.gridApi.setSuppressRowDrag(!0);const i=this.fields$.value.map(a=>a.Id);this.contentTypesFieldsService.reOrder(i,this.contentType$.value).subscribe(()=>{this.fetchFields(()=>{this.gridApi.setEnableCellTextSelection(!0),this.gridApi.setSuppressRowDrag(!1)})})}onRowDragMove(e){const i=e.node,a=e.overNode;if(a&&i!==a){const w=a.data,$=[...this.fields$.value],Vt=$.indexOf(i.data),Ut=$.indexOf(w);this.moveInArray($,Vt,Ut),this.fields$.next($),this.gridApi.clearFocusedCell()}}moveInArray(e,i,a){const c=e[i];e.splice(i,1),e.splice(a,0,c)}onSortChanged(e){const i=this.columnApi.getColumnState();this.sortApplied=i.some(a=>null!=a.sort),this.suppressRowDrag()}onFilterChanged(e){const i=this.gridApi.getFilterModel(),a=Object.keys(i);this.filterApplied=a.length>0,this.suppressRowDrag()}suppressRowDrag(){const e=this.sortApplied||this.filterApplied;e&&!this.rowDragSuppressed?(this.rowDragSuppressed=!0,this.gridApi.setSuppressRowDrag(!0)):!e&&this.rowDragSuppressed&&(this.rowDragSuppressed=!1,this.gridApi.setSuppressRowDrag(!1))}add(){this.router.navigate([`add/${this.contentTypeStaticName}`],{relativeTo:this.route})}nameCellRenderer(e){const i=e.data,a=i.InputType;if(N.r.endsPreviousGroup(a))return e.value;let c=!1;for(const D of this.fields$.value)if(N.r.isGroupStart(a))c=!0;else if(N.r.isGroupEnd(a))c=!1;else if(D.StaticName===i.StaticName)break;return c?`<span class="is-in-group">${e.value}</span>`:e.value}fetchFields(e){const i=null==this.contentType$.value?this.contentTypesService.retrieveContentType(this.contentTypeStaticName):(0,v.of)(this.contentType$.value),a=this.contentTypesFieldsService.getFields(this.contentTypeStaticName);(0,h.p)([i,a]).subscribe(([c,D])=>{this.contentType$.next(c),this.fields$.next(D),e?.()})}editFieldMetadata(e){if(e.SysSettings?.InheritMetadataOf){if(!Object.keys(e.ConfigTypes).length)return void this.snackBar.open("This field inherits all configuration so there is nothing to edit.",null,{duration:3e3});this.snackBar.open("This field inherits some configuration. Edit will only show configuration which is not inherited.",null,{duration:5e3})}e.SysSettings?.Share&&this.snackBar.open("This field is shared, so changing it will affect all other fields inheriting it.",null,{duration:5e3});const i={items:Object.keys(e.ConfigTypes).map(c=>this.createItemDefinition(e,c))},a=(0,d.s)(i);this.router.navigate([`edit/${a}`],{relativeTo:this.route})}createItemDefinition(e,i){const a=i.replace("@",""),c=("@"+i).replace("@@","@"),D=e.Metadata[a];return null!=D?g.editId(D.Id):{...g.newMetadata(e.Id,c,p.YX.metadata.attribute),Prefill:{Name:e.StaticName}}}setTitle(e){this.snackBar.open("Setting title..."),this.contentTypesFieldsService.setTitle(e,this.contentType$.value).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.fetchFields()})}changeInputType(e){this.router.navigate([`update/${this.contentTypeStaticName}/${e.Id}/inputType`],{relativeTo:this.route})}rename(e){this.router.navigate([`update/${this.contentTypeStaticName}/${e.Id}/name`],{relativeTo:this.route})}delete(e){confirm(`Are you sure you want to delete '${e.StaticName}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.contentTypesFieldsService.delete(e,this.contentType$.value).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchFields()}))}openPermissions(e){this.router.navigate([R.k.getUrlAttribute(e.Id)],{relativeTo:this.route})}openImageConfiguration(e){console.log("2dm - openImageConfiguration",e);const i=e.imageConfiguration;if(1!=i?.isRecommended)throw new Error("This field does not expect to have an image configuration");const a=i.entityId?g.editId(i.entityId):g.newMetadata(e.Id,i.typeName,p.YX.metadata.attribute),c=(0,d.s)({items:[a]});this.router.navigate([`edit/${c}`],{relativeTo:this.route})}openMetadata(e){const i=y.H.getUrlAttribute(e.Id,`Metadata for Field: ${e.StaticName} (${e.Id})`);this.router.navigate([i],{relativeTo:this.route})}shareOrInherit(e){this.dialog.open(At,{autoFocus:!1,width:"800px",data:e}).afterClosed().subscribe(()=>this.fetchFields())}buildGridOptions(){return{..._.C,getRowClass(i){const a=i.data,c=[];return a.EditInfo.DisableSort&&c.push("disable-row-drag"),N.r.isGroupStart(a.InputType)&&c.push("group-start-row"),N.r.isGroupEnd(a.InputType)&&c.push("group-end-row"),c},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" ")},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:i=>i.data.IsTitle,cellRenderer:pt,cellRendererParams:{onSetTitle:a=>this.setTitle(a)}},{...L.r.TextWide,headerName:"Name",field:"StaticName",onCellClicked:i=>{this.editFieldMetadata(i.data)},cellRenderer:i=>this.nameCellRenderer(i)},{field:"Type",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Type,cellRenderer:ht},{headerName:"Input",field:"InputType",width:160,cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline no-padding":"secondary-action no-padding").split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>{const a=i.data;return a.InputType.substring(a.InputType.indexOf("-")+1)},cellRenderer:ot,cellRendererParams:{onChangeInputType:a=>this.changeInputType(a)}},{field:"Label",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Name},{field:"Special",width:66,headerClass:"dense",cellClass:"no-outline",cellRenderer:lt},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Notes},{...L.r.ActionsPinnedRight5,cellRenderer:it,cellRendererParams:{do:(i,a)=>{switch(i){case"rename":this.rename(a);break;case"delete":this.delete(a);break;case"permissions":this.openPermissions(a);break;case"metadata":this.openMetadata(a);break;case"shareOrInherit":this.shareOrInherit(a);break;case"image":this.openImageConfiguration(a)}}}}]}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(f.Ix),t.rXU(f.nX),t.rXU(s.CP),t.rXU(Gt.UG),t.rXU(s.bZ))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-content-type-fields"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:3,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"],["align","end"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"]],template:function(i,a){if(1&i&&(t.DNE(0,Xt,15,8,"div",0),t.nI1(1,"async")),2&i){let c;t.vxM(0,(c=t.bMT(1,1,a.viewModel$))?0:-1,c)}},dependencies:[j.Hl,j.iY,j.Sr,F.m_,F.An,f.n3,A.YU,s.E7,A.Jj,$t.V,kt.p,wt.xs]})}return n})()},2871:(M,T,o)=>{o.d(T,{J:()=>m});var s=o(3840),f=o(8559);let m=(()=>{class C{constructor(){this.trueIcon="check_circle",this.falseIcon="circle"}agInit(v){let h=v.value;v.reverse&&(h=!h),v.trueIcon&&(this.trueIcon=v.trueIcon),v.falseIcon&&(this.falseIcon=v.falseIcon),this.icon=h?this.trueIcon:this.falseIcon}refresh(v){return!0}static#t=this.\u0275fac=function(h){return new(h||C)};static#e=this.\u0275cmp=f.VBU({type:C,selectors:[["app-rest-api-true-false"]],standalone:!0,features:[f.aNF],decls:3,vars:1,consts:[[1,"icon-container"]],template:function(h,b){1&h&&(f.j41(0,"div",0)(1,"mat-icon"),f.EFF(2),f.k0s()()),2&h&&(f.R7$(2),f.JRh(b.icon))},dependencies:[s.m_,s.An],encapsulation:2})}return C})()},8991:(M,T,o)=>{o.d(T,{N:()=>u});const s={states:{true:{tooltip:"true/on",icon:"radio_button_checked"},false:{tooltip:"false/off",icon:"radio_button_unchecked"}}};var f=o(4601),m=o(3840),C=o(316),r=o(8559);const v=_=>({clickable:_});function h(_,p){1&_&&r.eu8(0)}function b(_,p){if(1&_&&(r.j41(0,"a",2),r.DNE(1,h,1,0,"ng-container",3),r.k0s()),2&_){const d=r.XpG(),g=r.sdS(4);r.Y8G("href",d.data.url,r.B4B),r.R7$(),r.Y8G("ngTemplateOutlet",g)}}function y(_,p){if(1&_&&(r.j41(0,"div",4)(1,"mat-icon"),r.EFF(2),r.k0s()()),2&_){const d=r.XpG();r.Y8G("ngClass",r.eq3(3,v,d.data.clickable))("tippy",d.data.tooltip),r.R7$(2),r.JRh(d.data.icon)}}function R(_,p){if(1&_&&(r.j41(0,"div",4)(1,"mat-icon"),r.EFF(2),r.k0s()()),2&_){const d=r.XpG();r.Y8G("ngClass",r.eq3(3,v,d.data.clickable))("tippy",d.data.tooltip),r.R7$(2),r.JRh(d.data.icon)}}let u=(()=>{class _{agInit(d){this.value=d.value,this.allSettings=d.settings?.(d.data)??s;const g=this.allSettings.states[this.value?"true":"false"];this.data={...g,url:g.url??g.getUrl?.(d.data)}}refresh(d){return!0}static#t=this.\u0275fac=function(g){return new(g||_)};static#e=this.\u0275cmp=r.VBU({type:_,selectors:[["app-ag-bool-icon-renderer"]],standalone:!0,features:[r.aNF],decls:5,vars:1,consts:[["showIcon",""],[1,"icon-container"],["target","_blank",3,"href"],[4,"ngTemplateOutlet"],[1,"icon-cell","icon",3,"ngClass","tippy"]],template:function(g,O){1&g&&(r.j41(0,"div",1),r.DNE(1,b,2,2,"a",2)(2,y,3,5),r.k0s(),r.DNE(3,R,3,5,"ng-template",null,0,r.C5r)),2&g&&(r.R7$(),r.vxM(1,O.data.url?1:2))},dependencies:[f.e,m.m_,m.An,C.YU],encapsulation:2})}return _})()},1828:(M,T,o)=>{o.d(T,{r:()=>C});var s=o(1960),f=o(8991),m=o(2871);class C{static#t=this.ActionsPinnedRight1={width:42,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#e=this.ActionsPinnedRight3={width:122,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#i=this.ActionsPinnedRight4={width:162,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#n=this.ActionsPinnedRight5={width:202,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#a=this.ActionsPinnedRight6={width:82,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#o=this.ActionsPinnedRight7={width:62,cellClass:"secondary-action no-outline no-padding".split(" "),pinned:"right"};static#s=this.IconShow={headerName:"Show",width:70,headerClass:"dense",cellClass:"icons no-outline".split(" "),sortable:!0,filter:s.y,valueGetter:v=>!v.data.IsHidden,cellRenderer:f.N};static#r=this.Items={width:102,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#l=this.Fields={width:94,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#d=this.Character={width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#c=this.Id={headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#p=this.Boolean={width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0};static#m=this.Boolean2={width:100,sortable:!0,cellClass:"no-outline",filter:s.y};static#h=this.Boolean3={headerClass:"dense",width:80,cellClass:"no-outline",cellRenderer:m.J,cellRendererParams:{reverse:!1}};static#g=this.Number={width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#u=this.TextWideType={flex:3,minWidth:250,cellClass:"primary-action highlight".split(" "),sortable:!0,filter:"agTextColumnFilter"};static#f=this.TextWide={flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#_=this.TextWideMin100={flex:1,minWidth:100,sortable:!0,filter:"agTextColumnFilter"};static#v=this.TextWideFlex3={flex:3,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#C=this.TextNarrow={flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#b=this.TextWideActionClass={flex:2,minWidth:250,cellClass:"primary-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter"}}},1735:(M,T,o)=>{o.d(T,{V:()=>y});var s=o(9184),f=o(1567),m=o(3037),C=o(271),r=o(5057),v=o(3176),h=o(3472);class y extends v.${constructor(u,_,p){super(),this.router=u,this.route=_,this.log=p,this.log??=new h.B("BaseComponent",!1)}childDialogClosed$(){return this.router.events.pipe((0,f.p)(u=>u instanceof s.wF),(0,m.Z)(!!this.route.snapshot.firstChild),(0,C.T)(()=>!!this.route.snapshot.firstChild),(0,r.J)(),(0,f.p)(([u,_])=>u&&!_))}}},1960:(M,T,o)=>{o.d(T,{y:()=>C});var s=o(4456),f=o(3804),m=o(8559);let C=(()=>{class r{constructor(){this.filter=""}agInit(h){this.filterParams=h}isFilterActive(){return""!==this.filter}doesFilterPass(h){const y=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,columnApi:this.filterParams.columnApi,context:this.filterParams.context,data:h.node.data,getValue:R=>h.node.data[R],node:h.node});return null!=y&&y.toString()===this.filter}getModel(){if(this.isFilterActive())return{filterType:"boolean",filter:this.filter}}setModel(h){this.filter=h?h.filter:""}afterGuiAttached(h){}filterChanged(){this.filterParams.filterChangedCallback()}static#t=this.\u0275fac=function(b){return new(b||r)};static#e=this.\u0275cmp=m.VBU({type:r,selectors:[["app-boolean-filter"]],standalone:!0,features:[m.aNF],decls:7,vars:1,consts:[[3,"ngModelChange","ngModel"],["value",""],["value","true"],["value","false"]],template:function(b,y){1&b&&(m.j41(0,"mat-radio-group",0),m.mxI("ngModelChange",function(u){return m.DH7(y.filter,u)||(y.filter=u),u}),m.bIt("ngModelChange",function(){return y.filterChanged()}),m.j41(1,"mat-radio-button",1),m.EFF(2,"All"),m.k0s(),m.j41(3,"mat-radio-button",2),m.EFF(4,"True"),m.k0s(),m.j41(5,"mat-radio-button",3),m.EFF(6,"False"),m.k0s()()),2&b&&m.R50("ngModel",y.filter)},dependencies:[s.YN,s.BC,s.vS,f.Wk,f.VT,f._g],styles:[".mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]})}return r})()},6256:(M,T,o)=>{o.d(T,{Y:()=>R,k:()=>y});var s=o(8559),f=o(5060),m=o(2102),C=o(316);let r=0;const v="mat-badge-content",h=new Set;let b=(()=>{class u{static#t=this.\u0275fac=function(d){return new(d||u)};static#e=this.\u0275cmp=s.VBU({type:u,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:0,vars:0,template:function(d,g){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return u})(),y=(()=>{class u{get color(){return this._color}set color(p){this._setColor(p),this._color=p}get content(){return this._content}set content(p){this._updateRenderedContent(p)}get description(){return this._description}set description(p){this._updateDescription(p)}constructor(p,d,g,O,k){this._ngZone=p,this._elementRef=d,this._ariaDescriber=g,this._renderer=O,this._animationMode=k,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=r++,this._isInitialized=!1,this._interactivityChecker=(0,s.WQX)(m.Z7),this._document=(0,s.WQX)(C.qQ);const x=(0,s.WQX)(s.o8S);if(!h.has(x)){h.add(x);const S=(0,s.a0P)(b,{environmentInjector:(0,s.WQX)(s.uvJ)});x.onDestroy(()=>{h.delete(x),0===h.size&&S.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const p=this._renderer.createElement("span"),d="mat-badge-active";return p.setAttribute("id",`mat-badge-content-${this._id}`),p.setAttribute("aria-hidden","true"),p.classList.add(v),"NoopAnimations"===this._animationMode&&p.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(p),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{p.classList.add(d)})}):p.classList.add(d),p}_updateRenderedContent(p){const d=`${p??""}`.trim();this._isInitialized&&d&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=d),this._content=d}_updateDescription(p){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!p||this._isHostInteractive())&&this._removeInlineDescription(),this._description=p,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,p):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(p){const d=this._elementRef.nativeElement.classList;d.remove(`mat-badge-${this._color}`),p&&d.add(`mat-badge-${p}`)}_clearExistingBadges(){const p=this._elementRef.nativeElement.querySelectorAll(`:scope > .${v}`);for(const d of Array.from(p))d!==this._badgeElement&&d.remove()}static#t=this.\u0275fac=function(d){return new(d||u)(s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(m.vr),s.rXU(s.sFG),s.rXU(s.bc$,8))};static#e=this.\u0275dir=s.FsC({type:u,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(d,g){2&d&&s.AVh("mat-badge-overlap",g.overlap)("mat-badge-above",g.isAbove())("mat-badge-below",!g.isAbove())("mat-badge-before",!g.isAfter())("mat-badge-after",g.isAfter())("mat-badge-small","small"===g.size)("mat-badge-medium","medium"===g.size)("mat-badge-large","large"===g.size)("mat-badge-hidden",g.hidden||!g.content)("mat-badge-disabled",g.disabled)},inputs:{color:[s.Mj6.None,"matBadgeColor","color"],overlap:[s.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",s.L39],disabled:[s.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",s.L39],position:[s.Mj6.None,"matBadgePosition","position"],content:[s.Mj6.None,"matBadge","content"],description:[s.Mj6.None,"matBadgeDescription","description"],size:[s.Mj6.None,"matBadgeSize","size"],hidden:[s.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",s.L39]},standalone:!0,features:[s.GFd]})}return u})(),R=(()=>{class u{static#t=this.\u0275fac=function(d){return new(d||u)};static#e=this.\u0275mod=s.$C({type:u});static#i=this.\u0275inj=s.G2t({imports:[m.Pd,f.yE,f.yE]})}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts.6692ee3e027d27bf.js.map
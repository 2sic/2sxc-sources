"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts","projects_eav-ui_src_app_import-app_services_import-app_service_ts-projects_eav-ui_src_app_sha-d90db2","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-node_modules-4b4907","projects_eav-ui_src_app_app-administration_services_app-dialog-config_service_ts-_86580","projects_eav-ui_src_app_app-administration_services_app-dialog-config_service_ts-_86581"],{9731:(E,c,t)=>{t.d(c,{K:()=>n});var _=t(1650),d=t(9736),s=t(3738),g=t(3488),i=t(2611),e=t(1699),a=t(4860),p=t(6232),m=t(7648);let n=(()=>{var r;class h{constructor(l,u,x,C,M){this.http=l,this.context=u,this.dnnContext=x,this.globalConfigService=C,this.dialogSettings$={},M.loadFromService(this)}getShared$(l){return l??=this.context.appId,this.dialogSettings$[l]||(this.dialogSettings$[l]=this.getDialogSettings(l).pipe((0,_.d)({refCount:!1}))),this.dialogSettings$[l]}getDialogSettings(l){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/dialog/settings"),{params:{appId:l??this.context.appId.toString()}}).pipe((0,d.U)(u=>(u.Context.Language.List=u.Context.Language.List.filter(x=>x.IsEnabled),u)),(0,s.b)(u=>{this.globalConfigService.allowDebug(u.Context.Enable.DebugMode)}))}}return(r=h).\u0275fac=function(l){return new(l||r)(e.LFG(a.eN),e.LFG(i._),e.LFG(p._y),e.LFG(g.bE),e.LFG(m.k))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),h})()},5530:(E,c,t)=>{t.d(c,{_:()=>e,s:()=>a});var _=t(9736),d=t(2611),s=t(1699),g=t(4860),i=t(6232);const e="admin/type/";let a=(()=>{var p;class m{constructor(n,r,h){this.http=n,this.context=r,this.dnnContext=h}apiUrl(n){return this.dnnContext.$2sxc.http.apiUrl(n)}retrieveContentType(n){return this.http.get(this.apiUrl(e+"get"),{params:{appId:this.context.appId.toString(),contentTypeId:n}})}retrieveContentTypes(n){return this.http.get(this.apiUrl(e+"list"),{params:{appId:this.context.appId.toString(),scope:n}})}getScopes(){return this.http.get(this.apiUrl(e+"scopes"),{params:{appId:this.context.appId.toString()}}).pipe((0,_.U)(n=>Object.keys(n).map(h=>({name:n[h],value:h}))))}save(n){return this.http.post(this.apiUrl(e+"save"),n,{params:{appid:this.context.appId.toString()}})}delete(n){return this.http.delete(this.apiUrl(e+"delete"),{params:{appid:this.context.appId.toString(),staticName:n.StaticName}})}import(n){const r=new FormData;for(const h of n)r.append("File",h);return this.http.post(this.apiUrl(e+"import"),r,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(n){return this.http.post(this.apiUrl(e+"addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:n}})}}return(p=m).\u0275fac=function(n){return new(n||p)(s.LFG(g.eN),s.LFG(d._),s.LFG(i._y))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac}),m})()},2369:(E,c,t)=>{t.d(c,{T:()=>e});var _=t(2611),d=t(3379),s=t(1699),g=t(4860),i=t(6232);let e=(()=>{var a;class p{constructor(o,n,r){this.http=o,this.context=n,this.dnnContext=r}getContentInfo(o){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d.v+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:o}})}exportParts(o,n,r){const h=this.dnnContext.$2sxc.http.apiUrl(d.v+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+o.join(";")+"&entityIdsString="+n.join(";")+"&templateIdsString="+r.join(";");window.open(h,"_blank","")}}return(a=p).\u0275fac=function(o){return new(o||a)(s.LFG(g.eN),s.LFG(_._),s.LFG(i._y))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),p})()},2091:(E,c,t)=>{t.d(c,{v:()=>e});var _=t(4173),d=t(2611),s=t(1699),g=t(4860),i=t(6232);let e=(()=>{var a;class p{constructor(o,n,r){this.http=o,this.context=n,this.dnnContext=r}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(_.H+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportApp(o,n){const r=this.dnnContext.$2sxc.http.apiUrl(_.H+"Export")+"?appId="+this.context.appId+"&zoneId="+this.context.zoneId+"&includeContentGroups="+o+"&resetAppGuid="+n;window.open(r,"_blank","")}exportForVersionControl({includeContentGroups:o,resetAppGuid:n,withFiles:r}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(_.H+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:o.toString(),resetAppGuid:n.toString(),withPortalFiles:r.toString()}})}}return(a=p).\u0275fac=function(o){return new(o||a)(s.LFG(g.eN),s.LFG(d._),s.LFG(i._y))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac}),p})()},3379:(E,c,t)=>{t.d(c,{v:()=>e,z:()=>a});var _=t(4173),d=t(2611),s=t(1699),g=t(4860),i=t(6232);const e="admin/appParts/";let a=(()=>{var p;class m{constructor(n,r,h){this.http=n,this.context=r,this.dnnContext=h}importAppParts(n){const r=new FormData;return r.append("File",n),this.http.post(this.dnnContext.$2sxc.http.apiUrl(e+"Import"),r,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(n){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(_.H+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:n.toString()}})}}return(p=m).\u0275fac=function(n){return new(n||p)(s.LFG(g.eN),s.LFG(d._),s.LFG(i._y))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac}),m})()},1217:(E,c,t)=>{t.d(c,{Az:()=>e.Az,Kw:()=>_.K,TB:()=>e.TB,bf:()=>e.bf,cv:()=>e.cv,h3:()=>a.h,nt:()=>e.nt,sF:()=>d.s,vG:()=>e.vG});var _=t(9731),d=t(5530),e=(t(2369),t(2091),t(3379),t(7749)),a=t(6992)},7749:(E,c,t)=>{t.d(c,{Az:()=>D,TB:()=>u,bf:()=>x,cv:()=>h,nt:()=>l,vG:()=>C});var _=t(6253),d=t(1891),s=t(9736),g=t(400),i=t(237),e=t(2611),a=t(1699),p=t(4860),m=t(6232);const h="admin/query/Run",D="admin/query/DebugStream",l="admin/query/Save",u="admin/query/Get",x="admin/query/DataSources";let C=(()=>{var M;class O{constructor(P,I,v){this.http=P,this.context=I,this.dnnContext=v}getAll(P){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(g.PS),{params:{appId:this.context.appId.toString(),contentType:P}})}importQuery(P){return(0,_.D)((0,i.s)(P)).pipe((0,d.w)(I=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:I})),(0,s.U)(I=>({Success:I,Messages:[]})))}clonePipeline(P){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:P.toString(),appId:this.context.appId.toString()}})}delete(P){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:P.toString()}})}}return(M=O).\u0275fac=function(P){return new(P||M)(a.LFG(p.eN),a.LFG(e._),a.LFG(m._y))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac}),O})()},6992:(E,c,t)=>{t.d(c,{h:()=>n});var _=t(2611),d=t(1699),s=t(4860),g=t(6232);const i="admin/view/",e=i+"all",a=i+"delete",p=i+"import",m=i+"polymorphism",o=i+"usage";let n=(()=>{var r;class h{constructor(l,u,x){this.http=l,this.context=u,this.dnnContext=x}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e),{params:{appId:this.context.appId.toString()}})}delete(l){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(a),{params:{appId:this.context.appId.toString(),Id:l.toString()}})}import(l){const u=new FormData;return u.append("File",l),this.http.post(this.dnnContext.$2sxc.http.apiUrl(p),u,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(l){const u=this.dnnContext.$2sxc.http.apiUrl(i+"json")+"?appId="+this.context.appId+"&viewId="+l;window.open(u,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(m),{params:{appId:this.context.appId.toString()}})}getUsage(l){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(o),{params:{appId:this.context.appId.toString(),guid:l}})}}return(r=h).\u0275fac=function(l){return new(l||r)(d.LFG(s.eN),d.LFG(_._),d.LFG(g._y))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),h})()},4173:(E,c,t)=>{t.d(c,{H:()=>p,a:()=>m});var _=t(1891),d=t(4980),s=t(7503),g=t(2611),i=t(1699),e=t(4860),a=t(6232);const p="admin/app/";let m=(()=>{var o;class n{constructor(h,D,l){this.http=h,this.context=D,this.dnnContext=l}importApp(h,D,l=!1){const u=new FormData;return u.append("File",h),u.append("Name",D??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(p+"Import"),u,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,_.w)(x=>{if(l&&x.Messages[0]?.MessageType===s.DS.Warning){const C=prompt(x.Messages[0].Text+" Would you like to install it using another folder name?");if(C)return this.importApp(h,C,!0)}return(0,d.of)(x)}))}}return(o=n).\u0275fac=function(h){return new(h||o)(i.LFG(e.eN),i.LFG(g._),i.LFG(a._y))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac}),n})()},5828:(E,c,t)=>{t.r(c),t.d(c,{ManageContentListModule:()=>I});var _=t(1916),d=t(3989),s=t(6575),g=t(895),i=t(6861),e=t(6515),a=t(9409),p=t(2611),m=t(7138),o=t(91),n=t(8226),r=t(891),h=t(1670);const D={name:"MANAGE_CONTENT_LIST_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,h.Z)(function*(){const{ManageContentListComponent:v}=yield Promise.all([t.e("common"),t.e("projects_eav-ui_src_app_manage-content-list_manage-content-list_component_ts")]).then(t.bind(t,5546));return v})()};var l=t(1699);const u=[{path:"",component:r.r,data:{dialog:D},children:[{matcher:n.eP,loadChildren:()=>Promise.all([t.e("default-projects_eav-ui_src_app_create-file-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_list_mjs"),t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("default-node_modules_angular_material_fesm2022_card_mjs"),t.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),t.e("default-node_modules_angular_material_fesm2022_menu_mjs"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_services_entities_service_ts-projects_eav-ui_src_app_fe-8179d0")]).then(t.bind(t,9154)).then(v=>v.EditModule)},{matcher:n.lZ,loadChildren:()=>t.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(t.bind(t,9703)).then(v=>v.RefreshEditModule)},{path:":guid/:part/:index/replace",loadChildren:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common")]).then(t.bind(t,2078)).then(v=>v.ReplaceContentModule)}]}];let x=(()=>{var v;class f{}return(v=f).\u0275fac=function(U){return new(U||v)},v.\u0275mod=l.oAB({type:v}),v.\u0275inj=l.cJS({imports:[o.Bz.forChild(u),o.Bz]}),f})();var C=t(712),M=t(3739),O=t(400),A=t(1217),P=t(5020);let I=(()=>{var v;class f{}return(v=f).\u0275fac=function(U){return new(U||v)},v.\u0275mod=l.oAB({type:v}),v.\u0275inj=l.cJS({providers:[p._,C.e,O.WV,A.Kw],imports:[s.ez,x,m.q,i.Is,g.ot,e.Ps,d._t,a.ZX,_.aw.forChild((0,M.f)(P.W))]}),f})()},891:(E,c,t)=>{t.d(c,{r:()=>e});var _=t(1766),d=t(2611),s=t(1699),g=t(6861),i=t(91);let e=(()=>{var a;class p{constructor(o,n,r,h,D,l){this.dialog=o,this.viewContainerRef=n,this.router=r,this.route=h,this.context=D,this.changeDetectorRef=l;const u=this.router.getCurrentNavigation();this.dialogData=u?.extras?.state||{}}ngOnInit(){const o=this.route.snapshot.data.dialog;if(null==o)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,_.P)("Open dialog:",o.name,"Context id:",this.context.id,"Context:",this.context),o.getComponent().then(n=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(o,n)}):this.openDialogComponent(o,n)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(o,n){o.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(n,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${o.panelSize}`,o.showScrollbar?"show-scrollbar":"no-scrollbar",...o.panelClass?o.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(r=>{(0,_.P)("Dialog was closed:",o.name,"Data:",r);const h=r;if(null==h?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:r}:{relativeTo:this.route.parent.parent,state:r});else this.router.navigate([h.navigateUrl])}),this.changeDetectorRef.markForCheck()}}return(a=p).\u0275fac=function(o){return new(o||a)(s.Y36(g.uw),s.Y36(s.s_b),s.Y36(i.F0),s.Y36(i.gz),s.Y36(d._),s.Y36(s.sBO))},a.\u0275cmp=s.Xpm({type:a,selectors:[["app-dialog-entry"]],decls:0,vars:0,template:function(o,n){}}),p})()},237:(E,c,t)=>{function _(s){return new Promise((g,i)=>{const e=new FileReader;e.readAsDataURL(s),e.onload=()=>{g(e.result.split(",")[1])},e.onerror=a=>{i(a)}})}function d(s){return new Promise((g,i)=>{const e=new FileReader;e.readAsText(s),e.onload=()=>{g(e.result)},e.onerror=a=>{i(a)}})}t.d(c,{B:()=>d,s:()=>_})},3739:(E,c,t)=>{t.d(c,{f:()=>s});var _=t(4860),d=t(1916);function s(g){return{loader:{provide:d.Zw,useFactory:g,deps:[_.eN]},defaultLanguage:"en",isolate:!0}}},5020:(E,c,t)=>{t.d(c,{W:()=>d});var _=t(8206);function d(s){return new _.M(s,"./i18n/",`.js?${window.sxcVersion}`)}},8206:(E,c,t)=>{t.d(c,{M:()=>s});var _=t(2389),d=t(4980);class s{constructor(i,e,a){this.http=i,this.prefix=e,this.suffix=a}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`).pipe((0,_.K)(e=>(console.warn(`Translation: Failed to get language '${i}' from ${this.prefix}`,e),(0,d.of)({}))))}}},1670:(E,c,t)=>{function _(s,g,i,e,a,p,m){try{var o=s[p](m),n=o.value}catch(r){return void i(r)}o.done?g(n):Promise.resolve(n).then(e,a)}function d(s){return function(){var g=this,i=arguments;return new Promise(function(e,a){var p=s.apply(g,i);function m(n){_(p,e,a,m,o,"next",n)}function o(n){_(p,e,a,m,o,"throw",n)}m(void 0)})}}t.d(c,{Z:()=>d})}}]);
//# sourceMappingURL=https://sources.2sxc.org/16.17.00/dist/ng-edit/projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts.d364230f92beac70.js.map
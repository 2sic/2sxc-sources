"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["common"],{4038:(E,l,t)=>{t.d(l,{i:()=>d});class d{static tryParse(a){try{return JSON.parse(a)}catch{}}}},6953:(E,l,t)=>{t.d(l,{$:()=>i});var d=t(93826);class i{static fieldValuesAreEqual(_,p){return!!(_===p||"number"==typeof _&&"number"==typeof p&&isNaN(_)&&isNaN(p)||Array.isArray(_)&&Array.isArray(p)&&d.a.arraysEqual(_,p))}static getItemValuesChanges(_,p){const m={};for(const r of Object.keys(p)){const c=p[r];i.fieldValuesAreEqual(c,_[r])||(m[r]=c)}return 0===Object.keys(m).length?void 0:m}}},20753:(E,l,t)=>{t.r(l),t.d(l,{contentItemsRoutes:()=>r});var d=t(93454),i=t(85544),a=t(89204);const _={name:"IMPORT_CONTENT_ITEM_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,a.A)(function*(){const{ImportContentItemComponent:c}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-e25391")]).then(t.bind(t,66754));return c})()},p={name:"CONTENT_ITEMS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,a.A)(function*(){const{ContentItemsComponent:c}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts-node_modules_angular_mat-ab6e25"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-projects_eav-ui_src_app_shared_helpers_copy-to-clipboard_helper_ts-projects_eav-ui_sr-443b17"),t.e("default-node_modules_angular_material_fesm2022_module-BDiw_nWS_mjs"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_content-items_component_ts")]).then(t.bind(t,77730));return c})()};var m=t(51195);const r=[{path:"",component:i.DialogEntryComponent,data:{dialog:p},children:[...d.H.getRoutes(),{path:"export/:contentTypeStaticName",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(c=>c.ContentExportRoutes)},{path:"export/:contentTypeStaticName/:selectedIds",loadChildren:()=>t.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(t.bind(t,24350)).then(c=>c.ContentExportRoutes)},{path:"import",component:i.DialogEntryComponent,data:{dialog:_}},{path:":contentTypeStaticName/import",loadChildren:()=>t.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(t.bind(t,3031)).then(c=>c.contentImportRoutes),data:{title:"Import Items"}},...m.RD]}]},33518:(E,l,t)=>{function d(i,a,_=0){const m=i.length===_+1?a:d.bind(this,i,a,_+1),r=i[_],c="string"==typeof r.test?r.test:null,n="function"==typeof r.test?r.test:null,s=window;null!=c&&s[c]||null!=n&&n()?a():window.require([r.src],e=>{e&&!s[c]&&(s[c]=e),m()})}t.d(l,{P:()=>d})},33992:(E,l,t)=>{t.d(l,{b:()=>e});var d=t(46443),i=t(70271),a=t(13550),_=t(24467),p=t(99293),m=t(44444);let e=(()=>{class u extends _.B{saveFeatures(h){return this.http.post(this.apiUrl("admin/feature/SaveNew"),h)}getLicensesLive(h){return(0,d.fx)(()=>(h(),this.apiUrl("sys/license/Summary")))}uploadLicense(h){const f=new FormData;return f.append("File",h),this.http.post(this.apiUrl("sys/license/Upload"),f).pipe((0,i.T)(g=>({Success:g.Success,Messages:[{MessageType:g.Success?a.G1.Success:a.G1.Error,Text:`License ${g.Success?"uploaded":"upload failed"}: ${g.Message}`}]})))}retrieveLicensePromise(){return this.fetchPromise("sys/license/Retrieve",{})}static#e=this.\u0275fac=(()=>{let h;return function(g){return(h||(h=p.xGo(u)))(g||u)}})();static#t=this.\u0275prov=m.jDH({token:u,factory:u.\u0275fac})}return u})()},35160:(E,l,t)=>{t.d(l,{O:()=>_});var d=t(37580),i=t(34456),a=t(99293);let _=(()=>{class p{constructor(){this.appReservedNames=(0,d.hFB)({})}validate(r){if(!r.value)return null;const c=r.value.toLocaleLowerCase(),n=Object.keys(this.appReservedNames()).find(s=>s.toLocaleLowerCase()===c);return n?{reservedNames:this.appReservedNames()[n]}:null}static mergeReserved(r,c){const n={};return c.forEach(s=>{n[s.StaticName]="this field already exists"}),{...r,...n}}static#e=this.\u0275fac=function(c){return new(c||p)};static#t=this.\u0275dir=a.FsC({type:p,selectors:[["","appReservedNames",""]],inputs:{appReservedNames:[1,"appReservedNames"]},features:[a.Jv_([{provide:i.cz,useExisting:p,multi:!0}])]})}return p})()},36740:(E,l,t)=>{t.d(l,{z:()=>i});const i=t(66619).c.production?[]:["ViewController"]},41657:(E,l,t)=>{t.d(l,{E:()=>f});var d=t(37580),i=t(44444),a=t(16256),_=t(89061),p=t(93840),m=t(28136),r=t(9001),c=t(34601),n=t(99293),s=t(29968);function e(g,D){if(1&g){const v=n.RV6();n.j41(0,"div",2),n.bIt("click",function(){i.eBV(v);const C=n.XpG();return i.Njj(C.openLightspeedFeatureInfo())}),n.j41(1,"mat-icon",3),n.EFF(2," bolt "),n.k0s()()}}function u(g,D){if(1&g&&(n.j41(0,"a",5)(1,"mat-icon",6),n.EFF(2," bolt "),n.k0s()()),2&g){const v=n.XpG(2);n.Y8G("href","#"+v.params().lightSpeedLink(v.lightSpeedOwner()),n.B4B)}}function o(g,D){if(1&g&&(n.j41(0,"a",5)(1,"mat-icon",7),n.EFF(2," bolt "),n.k0s()()),2&g){const v=n.XpG(2);n.Y8G("href","#"+v.params().lightSpeedLink(v.lightSpeedOwner()),n.B4B)}}function h(g,D){if(1&g&&(n.j41(0,"div",4),n.nVh(1,u,3,1,"a",5)(2,o,3,1,"a",5),n.k0s()),2&g){const v=n.XpG();n.HbH(n.VkB("eav-grid-action-button ",v.appHasLightSpeed?"":"disabled")),n.Y8G("tippy",v.appHasLightSpeed?v.lightSpeed().Title:"Not yet configured for LightSpeed"),n.R7$(),n.vxM(v.appLightSpeedEnabled?1:2)}}let f=(()=>{class g{constructor(){this.lightSpeedOwner=d.hFB.required(),this.params=d.hFB.required(),this.lightSpeed=d.hFB.required(),this.features=(0,i.WQX)(r.D),this.lightSpeedEnabled=this.features.isEnabled[m.T.LightSpeed]}get appHasLightSpeed(){return null!=this.lightSpeed()?.Id}get appLightSpeedEnabled(){return 1==this.lightSpeed()?.IsEnabled}openLightspeedFeatureInfo(){this.params().openLightspeedFeatureInfo()}static#e=this.\u0275fac=function(P){return new(P||g)};static#t=this.\u0275cmp=n.VBU({type:g,selectors:[["app-lightspeed-action"]],inputs:{lightSpeedOwner:[1,"lightSpeedOwner"],params:[1,"params"],lightSpeed:[1,"lightSpeed"]},decls:2,vars:1,consts:[["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled"],["matRipple","",3,"class","tippy"],["tippy","Lightspeed is disabled",1,"eav-grid-action-button","disabled",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false"],["matRipple","",3,"tippy"],[1,"default-link",3,"href"],["matBadgeSize","small","matBadge","\u2705","matBadgePosition","below after","aria-hidden","false"],["matBadgeSize","small","matBadge","\u26d4","matBadgePosition","below after","aria-hidden","false"]],template:function(P,C){1&P&&n.nVh(0,e,3,0,"div",0)(1,h,3,5,"div",1),2&P&&n.vxM(C.lightSpeedEnabled()?1:0)},dependencies:[c.e,p.m_,p.An,a.Y,a.k,_.M,s.M],encapsulation:2})}return g})()},43143:(E,l,t)=>{t.d(l,{$:()=>_});var d=t(49923),i=t(50819);const a=(p,m)=>(p.push(m),p);function _(){return(0,i.N)((p,m)=>{(0,d.T)(a,[])(p).subscribe(m)})}},45733:(E,l,t)=>{t.r(l),t.d(l,{contentTypeFieldsRoutes:()=>c});var d=t(51195),i=t(93454),a=t(72437),_=t(85544),p=t(89204);const r={name:"EDIT_CONTENT_TYPE_FIELDS_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,p.A)(function*(){const{EditContentTypeFieldsComponent:n}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-node_modules_angular_material_fesm2022_module-BDiw_nWS_mjs"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_edit-content-type-fields_edit-content-type-fields-9a8a92")]).then(t.bind(t,15604));return n})()},c=[{path:"",component:_.DialogEntryComponent,data:{dialog:{name:"CONTENT_TYPE_FIELDS_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,p.A)(function*(){const{ContentTypeFieldsComponent:n}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-projects_eav-ui_src_app_shared_directives_tippy_directive_ts-node_modules_angular_mat-ab6e25"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_material_fesm2022_radio_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-projects_eav-ui_src_app_shared_helpers_copy-to-clipboard_helper_ts-projects_eav-ui_sr-443b17"),t.e("default-projects_eav-ui_src_app_shared_ag-grid_column-definitions_ts-projects_eav-ui_src_app_-3cb379"),t.e("default-projects_eav-ui_src_app_shared_fields_content-types-fields_service_ts"),t.e("default-projects_eav-ui_src_app_shared_services_service-base_ts-node_modules_angular_material-ffa7b3"),t.e("default-projects_eav-ui_src_app_features_feature-icon-text_feature-icon-text_component_ts-pro-ffb1c9"),t.e("common"),t.e("projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62")]).then(t.bind(t,91574));return n})()}},children:[{path:"add/:contentTypeStaticName",component:_.DialogEntryComponent,data:{dialog:r}},{path:"update/:contentTypeStaticName/:id/:editMode",component:_.DialogEntryComponent,data:{dialog:r}},...i.H.getRoutes(),a.k.route,...d.RD]}]},46666:(E,l,t)=>{t.d(l,{F:()=>d});const d={App:"App",Site:"Site",Global:"Global"}},47703:(E,l,t)=>{t.d(l,{s:()=>i,w:()=>d});const d=/^[A-Za-z][A-Za-z0-9]+$/,i="Standard letters and numbers are allowed. Must start with a letter."},47903:(E,l,t)=>{t.r(l),t.d(l,{importRoutes:()=>_});var d=t(85544),i=t(89204);const _=[{path:"",component:d.DialogEntryComponent,data:{dialog:{name:"IMPORT_APP_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,i.A)(function*(){const{ImportAppComponent:p}=yield Promise.all([t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-0cc7b2")]).then(t.bind(t,60781));return p})()}}}]},49417:(E,l,t)=>{function d(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}t.d(l,{L:()=>d})},56360:(E,l,t)=>{t.d(l,{D:()=>r});var d=t(24467),i=t(99293),a=t(44444);let r=(()=>{class c extends d.B{exportContent(s,e){const u=e?"&selectedids="+e.join():"",o=this.apiUrl("admin/entity/Download")+"?appId="+this.appId+"&language="+s.language+"&defaultLanguage="+s.defaultLanguage+"&contentType="+s.contentTypeStaticName+"&recordExport="+s.recordExport+"&resourcesReferences="+s.resourcesReferences+"&languageReferences="+s.languageReferences+u;window.open(o,"_blank","")}exportJson(s){const e=this.apiUrl("admin/type/Json")+"?appId="+this.appId+"&name="+s;window.open(e,"_blank","")}exportEntity(s,e,u){const o=this.apiUrl("admin/entity/Json")+"?appId="+this.appId+"&id="+s+"&prefix="+e+"&withMetadata="+u;window.open(o,"_blank","")}static#e=this.\u0275fac=(()=>{let s;return function(u){return(s||(s=i.xGo(c)))(u||c)}})();static#t=this.\u0275prov=a.jDH({token:c,factory:c.\u0275fac})}return c})()},58275:(E,l,t)=>{t.d(l,{n:()=>_});var d=t(88857);const i="ValidationMessage.",a="ValidationMessage.NotValid";let _=(()=>{class p{static#e=this.messages={required:r=>r?`${i}Required`:`${i}RequiredShort`,min:r=>r?`${i}Min`:a,max:r=>r?`${i}Max`:a,minNoItems:r=>r?`${i}MinNoItems`:a,maxNoItems:r=>r?`${i}MaxNoItems`:a,pattern:r=>r?`${i}Pattern`:a,decimals:r=>r?`${i}Decimals`:a,jsonError:r=>r?`${i}JsonError`:a,formulaError:r=>a};static validateForm(r){const c={};for(const[n,s]of Object.entries(r.controls))if(d.a.markTouched(s),s.invalid)for(const e of Object.keys(s.errors))if(c[n]=this.messages[e]?.(!1),c[n])break;return c}}return p})()},58362:(E,l,t)=>{t.d(l,{l:()=>p});var d=t(71772),i=t(24467),a=t(99293),_=t(44444);let p=(()=>{class m extends i.B{getStack(c,n,s){return this.newHttpResource(()=>({url:this.apiUrl(d.u+"GetStack"),params:{appId:this.appId,part:c,...n&&{key:n},...s&&{view:s}}}))}static#e=this.\u0275fac=(()=>{let c;return function(s){return(c||(c=a.xGo(m)))(s||m)}})();static#t=this.\u0275prov=_.jDH({token:m,factory:m.\u0275fac})}return m})()},58713:(E,l,t)=>{t.d(l,{g:()=>a});var d=t(50052),i=t(70334);class a{static getLightSpeedEditParams(p){return{items:[i.c.newMetadata(p,d.YX.appMetadata.LightSpeed.ContentTypeName,d.YX.metadata.app,!0)]}}}},59669:(E,l,t)=>{t.d(l,{y:()=>s});var d=t(46443),i=t(24467),a=t(99293),_=t(44444);const p="cms/contentgroup/",m=p+"replace",r=p+"itemlist",c=p+"header";let s=(()=>{class e extends i.B{getItemsPromise(o){return this.fetchPromise(m,{params:{appId:this.appId,guid:o.guid,part:o.part,index:o.index.toString()}})}saveItem(o){return this.http.post(this.apiUrl(m),{},{params:{guid:o.guid,part:o.part,index:o.index.toString(),entityId:o.id.toString(),add:`${o.add}`}})}removeItem(o,h){return this.http.delete(this.apiUrl("cms/list/delete"),{params:{index:h,parent:o.guid,fields:o.part}})}getListPromise(o){return this.fetchPromise(r,{params:{appId:this.appId,guid:o.guid,part:o.part}})}saveList(o,h){return this.http.post(this.apiUrl(r),h,{params:{appId:this.appId,guid:o.guid,part:o.part}})}getAllLive(o,h){return(0,d.fx)(()=>(h(),{url:this.apiUrl(c),params:{appId:this.appId,guid:o.guid}}))}static#e=this.\u0275fac=(()=>{let o;return function(f){return(o||(o=a.xGo(e)))(f||e)}})();static#t=this.\u0275prov=_.jDH({token:e,factory:e.\u0275fac})}return e})()},67130:(E,l,t)=>{t.d(l,{U:()=>s});var d=t(89204),i=t(46443),a=t(24467),_=t(99293),p=t(44444);let s=(()=>{class e extends a.B{getLanguageLive(o){return(0,i.fx)(()=>(o(),{url:this.apiUrl("admin/zone/GetLanguages"),params:{appId:this.appId}}))}toggleLanguage(o,h){var f=this;return(0,d.A)(function*(){return f.getStatusPromise("admin/zone/SwitchLanguage",{params:{cultureCode:o,enable:h.toString()}})})()}getSystemInfoLive(o){return(0,i.fx)(()=>(o(),{url:this.apiUrl("admin/zone/GetSystemInfo")}))}getLanguagesPermissionsLive(o){return(0,i.fx)(()=>(o(),{url:this.apiUrl("admin/app/languages"),params:{appId:this.appId}}))}static#e=this.\u0275fac=(()=>{let o;return function(f){return(o||(o=_.xGo(e)))(f||e)}})();static#t=this.\u0275prov=p.jDH({token:e,factory:e.\u0275fac})}return e})()},71477:(E,l,t)=>{function d(i){try{const a=i?.Api;if(!a)return;const p={...window.$2sxc.env.header,appApi:a};window.$2sxc.env.load(p)}catch{}}t.d(l,{g:()=>d})},71693:(E,l,t)=>{t.d(l,{d:()=>m});var d=t(44444),i=t(37567),a=t(38172),_=t(70334),p=t(68873);let m=(()=>{class r{constructor(){this.context=(0,d.WQX)(p.o)}openCodeFile(n,s,e){const u={items:[{Path:n,...null!=e&&_.c.editId(e)}]},o={...this.#t(a.Q$,i.Y.Develop),...this.#t(a.P3,s.toString()),...this.#t(a.Ul,JSON.stringify(u.items))},h=this.#n(o);window.open(h,"_blank")}openAppAdministration(n,s,e,u){const o={...e&&{tab:e},...u&&{scope:u}},h={...this.#t(a.v4,n.toString()),...this.#t(a.K7,s.toString()),...this.#t(a.Q$,i.Y.App),...Object.keys(o).length?this.#t(a.z0,JSON.stringify(o)):""},f=this.#n(h);window.open(f,"_blank")}#e(){return{...this.#t(a.v4,this.context.zoneId),...this.#t(a.K7,this.context.appId),...this.#t(a.Zm,this.context.moduleId?.toString()),...this.#t(a.p$,this.context.contentBlockId?.toString()),...this.#t(a.h9),...sessionStorage.getItem(a.tn)?this.#t(a.tn):{}}}#t(n,s){const e=n.replace(a.Pl,""),u=s??sessionStorage.getItem(n),o=encodeURIComponent(u);return{[e]:o}}#n(n){const s=sessionStorage.getItem(a.zX),e=new URL(s),u=e.origin+e.pathname+e.search,o={...this.#e(),...n};return u+Object.entries(o).reduce((f,[g,D])=>`${f}&${g}=${D}`,"").replace("&","#")}static#s=this.\u0275fac=function(s){return new(s||r)};static#a=this.\u0275prov=d.jDH({token:r,factory:r.\u0275fac})}return r})()},72620:(E,l,t)=>{t.d(l,{y:()=>d});class d{refresh(a){return!0}}},76068:(E,l,t)=>{t.d(l,{g:()=>d.g});var d=t(54029)},83583:(E,l,t)=>{t.d(l,{U:()=>u});var d=t(89204),i=t(46443),a=t(24467),_=t(99293),p=t(44444);const n="admin/app/app";let u=(()=>{class o extends a.B{getAllLive(f){return(0,i.fx)(()=>(f(),{url:this.apiUrl("admin/app/list"),params:{zoneId:this.zoneId}}))}getInheritable(){return(0,i.fx)(()=>({url:this.apiUrl("admin/app/InheritableApps"),params:{zoneId:this.zoneId}}))}getPendingApps(){return(0,i.fx)(()=>({url:this.apiUrl("admin/app/GetPendingApps"),params:{zoneId:this.zoneId}}))}create(f,g,D){return this.http.post(this.apiUrl(n),{},{params:{zoneId:this.zoneId,name:f,...null!=g&&{inheritAppId:g},...null!=D&&{templateId:D}}})}createTemplate(f,g){const D=encodeURIComponent(g);return this.http.post(`sys/install/RemotePackage?packageUrl=${f}&newName=${D}`,{})}installPendingApps(f){return this.http.post(this.apiUrl("admin/app/InstallPendingApps"),f,{params:{zoneId:this.zoneId}})}delete(f){return this.http.delete(this.apiUrl(n),{params:{zoneId:this.zoneId,appId:f.toString()}})}flushCache(f){var g=this;return(0,d.A)(function*(){return g.getStatusPromise("admin/app/flushcache",{params:{zoneId:g.zoneId,appId:f.toString()}})})()}static#e=this.\u0275fac=(()=>{let f;return function(D){return(f||(f=_.xGo(o)))(D||o)}})();static#t=this.\u0275prov=p.jDH({token:o,factory:o.\u0275fac})}return o})()},83804:(E,l,t)=>{t.d(l,{g:()=>c});var d=t(89061),i=t(12938),a=t(34601),_=t(4038),p=t(25081),m=t(99293),r=t(29968);let c=(()=>{class n{constructor(){this.clipboard=(0,i.d)(p.W)}agInit(e){this.value=e.value}refresh(e){return!0}copy(e){e=_.i.tryParse(e)??e,this.clipboard.copyToClipboard(e)}static#e=this.\u0275fac=function(u){return new(u||n)};static#t=this.\u0275cmp=m.VBU({type:n,selectors:[["app-analyze-settings-value"]],decls:3,vars:2,consts:[["matRipple","",1,"value-box","highlight",3,"click","tippy"],[1,"value"]],template:function(u,o){1&u&&(m.j41(0,"div",0),m.bIt("click",function(){return o.copy(o.value)}),m.j41(1,"span",1),m.EFF(2),m.k0s()()),2&u&&(m.Y8G("tippy",o.value),m.R7$(2),m.JRh(o.value))},dependencies:[d.M,r.M,a.e],styles:[".value-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.value-box[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden}"]})}return n})()},85544:(E,l,t)=>{t.r(l),t.d(l,{DialogEntryComponent:()=>c});var d=t(34435),i=t(68873),a=t(99293),_=t(37580),p=t(44444),m=t(81863),r=t(29658);let c=(()=>{class n{#e;#t;constructor(e,u,o,h,f,g,D){this.matDialog=e,this.viewContainerRef=u,this.router=o,this.route=h,this.context=f,this.changeDetectorRef=g,this.injector=D,this.log=(0,d.Tq)({DialogEntryComponent:n});const v=this.router.getCurrentNavigation();this.#e=v?.extras?.state||{}}ngOnInit(){const e=this.log.fn("ngOnInit"),u=this.route.snapshot.data.dialog;if(null==u)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");e.a("Open dialog: "+u.name,{id:this.context.id,context:this.context}),u.getComponent(this.injector).then(o=>{const h=this.matDialog;h._dialogAnimatingOpen&&h._lastDialogRef?h._lastDialogRef.afterOpened().subscribe(()=>this.openDialogComponent(u,o)):this.openDialogComponent(u,o)})}ngOnDestroy(){this.#t.close()}openDialogComponent(e,u){this.log.a(`Open dialog(initContext: ${e.initContext})`,{name:e.name,"Contextid:":this.context.log.svcId,"Context:":this.context}),e.initContext&&this.context.init(this.route),this.#t=this.matDialog.open(u,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.#e,panelClass:["dialog-panel",`dialog-panel-${e.panelSize}`,e.showScrollbar?"show-scrollbar":"no-scrollbar",...e.panelClass?e.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.#t.afterClosed().subscribe(o=>{this.log.a("Dialog was closed - name:"+e.name,{data:o});const h=o;if(null==h?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:o}:{relativeTo:this.route.parent.parent,state:o});else this.router.navigate([h.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#n=this.\u0275fac=function(u){return new(u||n)(a.rXU(m.h),a.rXU(a.c1b),a.rXU(r.Ix),a.rXU(r.nX),a.rXU(i.o),a.rXU(_.gRc),a.rXU(p.zZn))};static#s=this.\u0275cmp=a.VBU({type:n,selectors:[["app-dialog-entry"]],features:[a.Jv_([i.o])],decls:0,vars:0,template:function(u,o){},encapsulation:2})}return n})()},88857:(E,l,t)=>{t.d(l,{a:()=>c});var d=t(92434),i=t(34435),a=t(36740),_=t(6953),p=t(58275);const m={all:!0,constructor:!1,markTouched:!1,set:!1,disable:!1,getErrors:!0,fields:[...a.z,"*"]},r="ValidationMessage.";class c{constructor(s,e="unknown",u=!1){this.control=s,this.name=e,this.moreDisabled=u,this.log=(0,i.Tq)({UiControl:c},m),this.#t={jsonWarning:`${r}JsonWarning`,formulaWarning:`${r}NotValid`},this.control??={dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1},this.log.extendName(`[${e}]`),this.log.aIfInList("fields",this.name,{moreDisabled:u},"constructor")}static emptyControl(){return new c({dirty:!1,invalid:!1,touched:!1,value:null,disabled:!1})}get dirty(){return this.control.dirty}get invalid(){return this.control.invalid}get touched(){return this.control.touched}get disabled(){return this.control.disabled||this.moreDisabled}get touchedAndInvalid(){return this.control.touched&&this.control.invalid}markTouched(){this.log.aIfInList("fields",this.name,null,"markTouched"),c.markTouched(this.control)}setIfChanged(s){this.log.aIfInList("fields",this.name,{before:this.control.value,newValue:s},"setIfChanged"),!(0,d.A)(s,this.control.value)&&this.#e(s)}#e(s){const e=this.control,u=e.value;this.log.aIfInList("fields",this.name,{before:u,newValue:s},"set"),e.touched||e.markAsTouched(),!e.dirty&&!_.$.fieldValuesAreEqual(u,s)&&e.markAsDirty(),e.patchValue(s)}disable(s){this.log.aIfInList("fields",this.name,null,`disable: ${s}`),c.disable(this.control,s)}static markTouched(s){s.touched||(s.markAsTouched(),s.updateValueAndValidity())}static disable(s,e){s.disabled!==e&&(e?s.disable():s.enable())}getErrors(){const s=this.control,e=s.errors,u=this.log.fnIfInList("getErrors","fields",this.name,{control:s,name:this.name});if(!s.invalid)return u.r("","valid");if(!s.dirty&&!s.touched)return u.r("","not dirty or touched");for(const o of Object.keys(e)){const h="formulaError"===o?s.errors.formulaMessage??p.n.messages[o]?.(!0):p.n.messages[o]?.(!0);if(h)return u.r(h,"error found")}return u.r("","no error")}#t;getWarnings(){const s=this.control;if(null==s._warning||!s.dirty&&!s.touched)return"";let e="";for(const u of Object.keys(s._warning))if(e="formulaWarning"===u?s._warning.formulaMessage??this.#t[u]:this.#t[u],e)break;return e}}},90318:(E,l,t)=>{t.r(l),t.d(l,{replaceContentRoutes:()=>p});var d=t(85544),i=t(89204);const a={name:"REPLACE_CONTENT_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,i.A)(function*(){const{ReplaceContentComponent:m}=yield Promise.all([t.e("default-node_modules_angular_forms_fesm2022_forms_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"),t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-node_modules_angular_cdk_fesm2022_activedescendant-key-manager-CZAE5aFC_mjs-node_modu-d33006"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_replace-content_replace-content_component_ts")]).then(t.bind(t,4513));return m})()};var _=t(51195);const p=[{path:"",component:d.DialogEntryComponent,data:{dialog:a},children:[..._.Ed]}]}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.00/dist/ng-edit/common.8f8376b4eefe5abd.js.map
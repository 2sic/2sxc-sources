"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_content-items_component_ts-projects_eav-ui_src_app_cont-377579"],{7730:(R,I,o)=>{o.r(I),o.d(I,{ContentItemsComponent:()=>be});var t=o(8559),C=o(7941),l=o(9184),b=o(4205),c=o(5797),h=o(9999),p=o(271),F=o(1567),T=o(4334),M=o(7693),f=o(6360),g=o(9839),r=o(3454),d=o(1735),m=o(1960),_=o(4456),k=o(3804),D=o(5944),j=o(7984);const K=["valueInput"];let Y=(()=>{class i{constructor(){this.filter="",this.idFilterString="",this.idFilter=[]}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.filter||this.idFilter.length>0}doesFilterPass(e){if(""!==this.filter){const a=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,columnApi:this.filterParams.columnApi,context:this.filterParams.context,data:e.node.data,getValue:s=>e.node.data[s],node:e.node});if(null==a||!a.some(s=>!!s&&s.includes(this.filter)))return!1}if(this.idFilter.length>0){const n=e.data[this.filterParams.colDef.headerName];if(null==n||!this.idFilter.some(a=>n.some(s=>s.Id===a)))return!1}return!0}getModel(){return this.isFilterActive()?{filterType:"entity",filter:this.filter,idFilter:this.idFilter}:void 0}setModel(e){this.filter=e?.filter??"",this.idFilter=e?.idFilter??[],this.idFilterString=e?.idFilter?.join(",")??""}afterGuiAttached(e){this.valueInputRef.nativeElement.focus()}updateIdFilter(){this.idFilter=this.idFilterString.split(",").map(e=>parseInt(e,10)).filter(e=>!isNaN(e))}filterChanged(){this.filterParams.filterChangedCallback()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-entity-filter"]],viewQuery:function(n,a){if(1&n&&t.GBs(K,5),2&n){let s;t.mGM(s=t.lsd())&&(a.valueInputRef=s.first)}},standalone:!0,features:[t.aNF],decls:9,vars:2,consts:[["valueInput",""],["color","accent",1,"eav-mat-form-field"],["matInput","","type","text",3,"ngModelChange","ngModel"]],template:function(n,a){if(1&n){const s=t.RV6();t.j41(0,"mat-form-field",1)(1,"mat-label"),t.EFF(2,"Value"),t.k0s(),t.j41(3,"input",2,0),t.mxI("ngModelChange",function(v){return t.eBV(s),t.DH7(a.filter,v)||(a.filter=v),t.Njj(v)}),t.bIt("ngModelChange",function(){return t.eBV(s),t.Njj(a.filterChanged())}),t.k0s()(),t.j41(5,"mat-form-field",1)(6,"mat-label"),t.EFF(7,"IDs (comma separated)"),t.k0s(),t.j41(8,"input",2),t.mxI("ngModelChange",function(v){return t.eBV(s),t.DH7(a.idFilterString,v)||(a.idFilterString=v),t.Njj(v)}),t.bIt("ngModelChange",function(){return t.eBV(s),a.updateIdFilter(),t.Njj(a.filterChanged())}),t.k0s()()}2&n&&(t.R7$(3),t.R50("ngModel",a.filter),t.R7$(5),t.R50("ngModel",a.idFilterString))},dependencies:[_.YN,_.me,_.BC,_.vS,k.Wk,D.RG,D.rl,D.nJ,j.fS,j.fg],styles:["[_nghost-%COMP%]{display:block;padding:16px 12px 2px}.mat-mdc-form-field[_ngcontent-%COMP%]{display:block;width:175px}"]})}return i})();var et=o(6378),nt=o(251),E=o(52),it=o(8172),U=o(3216),$=o(1034),O=o(3840),S=o(5060);function at(i,u){if(1&i){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("delete"))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Delete"),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("disabled",e.item._EditInfo.DisableDelete)}}let ot=(()=>{class i{agInit(e){this.params=e,this.item=e.data}refresh(e){return!0}do(e){this.params.do(e,this.item)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-actions"]],standalone:!0,features:[t.aNF],decls:13,vars:1,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Copy",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","Export",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["mat-menu-item","",3,"click","disabled"]],template:function(n,a){if(1&n){const s=t.RV6();t.j41(0,"div",1)(1,"div",2),t.bIt("click",function(){return t.eBV(s),t.Njj(a.do("clone"))}),t.j41(2,"mat-icon"),t.EFF(3,"file_copy"),t.k0s()(),t.j41(4,"div",3),t.bIt("click",function(){return t.eBV(s),t.Njj(a.do("export"))}),t.j41(5,"mat-icon"),t.EFF(6,"cloud_download"),t.k0s()(),t.j41(7,"div",4)(8,"mat-icon"),t.EFF(9,"more_horiz"),t.k0s()()(),t.j41(10,"mat-menu",5,0),t.DNE(12,at,5,1,"ng-template",6),t.k0s()}if(2&n){const s=t.sdS(11);t.R7$(7),t.Y8G("matMenuTriggerFor",s)}},dependencies:[S.pZ,S.r6,O.m_,O.An,$.Cn,$.kk,$.fb,$.z8,$.Cp]})}return i})();var V=o(4601);function st(i,u){if(1&i&&(t.j41(0,"span",1),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.JRh(e.entities)}}let rt=(()=>{class i{agInit(e){Array.isArray(e.value)&&(this.encodedValue=this.htmlEncode(e.value.join(", ")),e.colDef.allowMultiValue&&(this.entities=e.value.length))}refresh(e){return!0}htmlEncode(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-entity"]],standalone:!0,features:[t.aNF],decls:3,vars:3,consts:[[3,"tippy"],[1,"more-entities"]],template:function(n,a){1&n&&(t.j41(0,"div",0),t.DNE(1,st,2,1,"span",1),t.EFF(2),t.k0s()),2&n&&(t.Y8G("tippy",a.encodedValue),t.R7$(),t.vxM(1,a.entities?1:-1),t.R7$(),t.SpI(" ",a.encodedValue,"\n"))},dependencies:[V.e],styles:[".more-entities[_ngcontent-%COMP%]{padding:0 8px;border-radius:10px;border:1px solid rgba(29,39,61,.44);-webkit-user-select:none;user-select:none}"]})}return i})();var L=o(6256),B=o(316);const lt=i=>({"hide-until-row-hover":i});function dt(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",4),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.openMetadata())}),t.j41(1,"mat-icon",5),t.EFF(2),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("ngClass",t.eq3(5,lt,!e.metadataCount&&!e.value.metadata))("tippy",e.metadataTooltip),t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}function ct(i,u){if(1&i&&(t.j41(0,"div",3)(1,"mat-icon",6),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}let pt=(()=>{class i{agInit(e){this.value=e.value,this.params=e,this.item=e.data,this.disableMetadata=this.item._EditInfo.DisableMetadata,this.metadataCount=this.item.Metadata?.length??0;const n=this.item.For;this.metadataTooltip=n?`This item is metadata for:\nTarget: ${n.Target}\nTargetType: ${n.TargetType}`+(n.KeyNumber?`\nNumber: ${n.KeyNumber}`:"")+(n.KeyString?`\nString: ${n.KeyString}`:"")+(n.KeyGuid?`\nGuid: ${n.KeyGuid}`:"")+(n.Title?`\nTitle: ${n.Title}`:""):"This item is not metadata.",this.metadataTooltip+=`\n\nThis item has ${this.metadataCount>0?this.metadataCount:"no"} other metadata ${1===this.metadataCount?"item":"items"} attached to it.`}refresh(e){return!0}openMetadata(){this.params.onOpenMetadata(this.item)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-status"]],standalone:!0,features:[t.aNF],decls:6,vars:4,consts:[[1,"actions-component"],[1,"eav-grid-action-button","icon",3,"tippy"],["matRipple","",1,"eav-grid-action-button","highlight",3,"ngClass","tippy"],[1,"eav-grid-action-button","disabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","ngClass","tippy"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"mat-icon"),t.EFF(3),t.k0s()(),t.DNE(4,dt,3,7,"div",2)(5,ct,3,3,"div",3),t.k0s()),2&n&&(t.R7$(),t.Y8G("tippy",a.value.published?"Published":"Not published"),t.R7$(2),t.JRh(a.value.published?"visibility":"visibility_off"),t.R7$(),t.vxM(4,a.disableMetadata?-1:4),t.R7$(),t.vxM(5,a.disableMetadata&&(a.metadataCount||a.value.metadata)?5:-1))},dependencies:[O.m_,O.An,S.pZ,S.r6,B.YU,L.Y,L.k,V.e],styles:[".hide-until-row-hover[_ngcontent-%COMP%]{visibility:hidden}  .ag-row-hover .hide-until-row-hover{visibility:visible}"]})}return i})();var mt=o(4038),W=o(8827),X=o(3037),G=o(1817),ht=o(3617),gt=o(5445),ft=o(3176),H=o(5858),_t=o(8873),z=o(336),Ct=o(9417);function yt(i){return u=>{if(!u.value)return null;const e=i.controls.keyType.value,n=u.value.toString();switch(e){case E.YX.keyTypes.number:return/^[0-9]+$/.test(n)?null:{patternWholeNumber:!0};case E.YX.keyTypes.guid:const s=["{","}"].some(x=>n.includes(x)),y=n.substring(s?1:0,s?n.length-1:n.length);return(0,Ct.L)().test(y)?null:{patternGuid:!0};default:return null}}}var P=o(4175),J=o(5175),vt=o(3758),Tt=o(9333),Z=o(2220),bt=o(3826),Mt=o(402);const Q=i=>({active:i});function It(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e.targetType),t.R7$(),t.SpI(" ",e.label," ")}}function Ft(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.Y8G("value",e.formValues.targetType),t.R7$(),t.SpI(" ",e.formValues.targetType," ")}}function Et(i,u){if(1&i&&(t.j41(0,"mat-select",8),t.Z7z(1,It,2,2,"mat-option",12,t.fX1),t.DNE(3,Ft,2,2,"mat-option",12),t.k0s()),2&i){const e=t.XpG(),n=t.XpG();t.R7$(),t.Dyx(n.targetTypeOptions),t.R7$(2),t.vxM(3,e.unknownTargetType?3:-1)}}function Dt(i,u){1&i&&t.nrm(0,"input",9)}function xt(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," Warning: you entered an unknown target type. This may work or may not. Please be sure you know what you're doing "),t.k0s()),2&i&&t.Y8G("isError",!1)}function kt(i,u){if(1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.Y8G("isError",!1),t.R7$(),t.JRh(e.targetTypeHint)}}function Rt(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function jt(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Ot(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Pt(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function St(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e.StaticName),t.R7$(),t.SpI(" ",e.Label," ")}}function $t(i,u){if(1&i&&(t.j41(0,"mat-form-field",7)(1,"mat-label"),t.EFF(2,"Content Type"),t.k0s(),t.j41(3,"mat-select",19),t.Z7z(4,St,2,2,"mat-option",12,t.fX1),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function Bt(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",e.name," ")}}function Nt(i,u){if(1&i&&(t.j41(0,"mat-form-field",7)(1,"mat-label"),t.EFF(2,"Scope"),t.k0s(),t.j41(3,"mat-select",20),t.Z7z(4,Bt,2,2,"mat-option",12,t.fX1),t.j41(6,"mat-option",12),t.EFF(7,"Other..."),t.k0s()()()),2&i){const e=t.XpG(),n=t.XpG();t.R7$(3),t.Y8G("placeholder",e.scopeOptions.length?"":"No items found"),t.R7$(),t.Dyx(e.scopeOptions),t.R7$(2),t.Y8G("value",n.dropdownInsertValue)}}function Gt(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e.Guid),t.R7$(),t.Lme(" ",e.Title," (",e.Id,") ")}}function At(i,u){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,Gt,2,3,"mat-option",12,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentItems.length?"":"No items found"),t.R7$(),t.Dyx(e.contentItems)}}function Ut(i,u){1&i&&t.nrm(0,"input",22)}function Vt(i,u){if(1&i&&t.DNE(0,At,3,1,"mat-select",21)(1,Ut,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(0,e.guidedKey?0:-1),t.R7$(),t.vxM(1,e.guidedKey?-1:1)}}function Xt(i,u){if(1&i&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&i){const e=u.$implicit;t.Y8G("value",e.StaticName),t.R7$(),t.SpI(" ",e.Label," ")}}function zt(i,u){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,Xt,2,2,"mat-option",12,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function wt(i,u){1&i&&t.nrm(0,"input",22)}function Kt(i,u){if(1&i&&t.DNE(0,zt,3,1,"mat-select",21)(1,wt,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(0,e.guidedKey?0:-1),t.R7$(),t.vxM(1,e.guidedKey?-1:1)}}function Yt(i,u){1&i&&t.eu8(0)}function Lt(i,u){if(1&i&&t.DNE(0,Yt,1,0,"ng-container",23),2&i){t.XpG(2);const e=t.sdS(39);t.Y8G("ngTemplateOutlet",e)}}function Wt(i,u){if(1&i&&t.DNE(0,Vt,2,2)(1,Kt,2,2)(2,Lt,1,1),2&i){let e;const n=t.XpG(),a=t.XpG();t.vxM(0,(e=n.formValues.targetType)===a.eavConstants.metadata.entity.targetType?0:e===a.eavConstants.metadata.contentType.targetType?1:2)}}function Ht(i,u){1&i&&t.nrm(0,"input",22)}function Jt(i,u){1&i&&t.nrm(0,"input",24)}function Zt(i,u){if(1&i&&t.DNE(0,Ht,1,0,"input",22)(1,Jt,1,0,"input",24),2&i){const e=t.XpG(),n=t.XpG();t.vxM(0,e.formValues.keyType!==n.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(1,e.formValues.keyType===n.eavConstants.keyTypes.number?1:-1)}}function Qt(i,u){1&i&&t.nrm(0,"input",22)}function qt(i,u){1&i&&t.nrm(0,"input",24)}function te(i,u){if(1&i&&t.DNE(0,Qt,1,0,"input",22)(1,qt,1,0,"input",24),2&i){const e=t.XpG(),n=t.XpG();t.vxM(0,e.formValues.keyType!==n.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(1,e.formValues.keyType===n.eavConstants.keyTypes.number?1:-1)}}function ee(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",14)(1,"button",25),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.toggleGuidedKey(!0))}),t.j41(2,"mat-icon",26),t.EFF(3,"search"),t.k0s()(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.toggleGuidedKey(!1))}),t.j41(5,"mat-icon",26),t.EFF(6,"text_fields"),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(2,Q,e.guidedKey)),t.R7$(3),t.Y8G("ngClass",t.eq3(4,Q,!e.guidedKey))}}function ne(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function ie(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function ae(i,u){1&i&&(t.j41(0,"app-field-hint",10),t.EFF(1," Must be a valid GUID "),t.k0s()),2&i&&t.Y8G("isError",!0)}function oe(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3,"Create Metadata"),t.k0s()(),t.j41(4,"div",4)(5,"p"),t.EFF(6," This is a special operation to add an item which is metadata for another item, see "),t.j41(7,"a",5),t.EFF(8,"docs"),t.k0s(),t.EFF(9,". "),t.k0s(),t.j41(10,"form",6)(11,"mat-form-field",7)(12,"mat-label"),t.EFF(13,"Target"),t.k0s(),t.DNE(14,Et,4,1,"mat-select",8)(15,Dt,1,0,"input",9),t.k0s(),t.DNE(16,xt,2,1,"app-field-hint",10)(17,kt,2,2,"app-field-hint",10)(18,Rt,2,1,"app-field-hint",10)(19,jt,2,1,"app-field-hint",10),t.j41(20,"mat-form-field",7)(21,"mat-label"),t.EFF(22,"Key type"),t.k0s(),t.j41(23,"mat-select",11),t.Z7z(24,Ot,2,2,"mat-option",12,t.fX1),t.k0s()(),t.DNE(26,Pt,2,1,"app-field-hint",10)(27,$t,6,1,"mat-form-field",7)(28,Nt,8,2,"mat-form-field",7),t.j41(29,"app-field-hint"),t.EFF(30," The scope should almost never be changed - "),t.j41(31,"a",13),t.EFF(32,"see help"),t.k0s()(),t.j41(33,"mat-form-field",7)(34,"mat-label"),t.EFF(35,"Key"),t.k0s(),t.DNE(36,Wt,3,1)(37,Zt,2,2)(38,te,2,2,"ng-template",null,0,t.C5r)(40,ee,7,6,"div",14),t.k0s(),t.DNE(41,ne,2,1,"app-field-hint",10)(42,ie,2,1,"app-field-hint",10)(43,ae,2,1,"app-field-hint",10),t.k0s()(),t.j41(44,"mat-dialog-actions",15)(45,"mat-slide-toggle",16),t.bIt("change",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.toggleGuidedMode(a))}),t.EFF(46),t.k0s(),t.j41(47,"div")(48,"button",17),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(49,"Cancel"),t.k0s(),t.j41(50,"button",18),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.confirm())}),t.EFF(51," Confirm "),t.k0s()()()()}if(2&i){const e=u,n=t.XpG();t.R7$(10),t.Y8G("formGroup",n.form),t.R7$(4),t.vxM(14,e.guidedMode?14:-1),t.R7$(),t.vxM(15,e.guidedMode?-1:15),t.R7$(),t.vxM(16,n.form.controls.targetType.touched&&!n.form.controls.targetType.invalid&&e.unknownTargetType?16:-1),t.R7$(),t.vxM(17,e.targetTypeHint?17:-1),t.R7$(),t.vxM(18,n.form.controls.targetType.touched&&null!=n.form.controls.targetType.errors&&n.form.controls.targetType.errors.required?18:-1),t.R7$(),t.vxM(19,n.form.controls.targetType.touched&&null!=n.form.controls.targetType.errors&&n.form.controls.targetType.errors.pattern?19:-1),t.R7$(5),t.Dyx(e.keyTypeOptions),t.R7$(2),t.vxM(26,n.form.controls.keyType.touched&&null!=n.form.controls.keyType.errors&&n.form.controls.keyType.errors.required?26:-1),t.R7$(),t.vxM(27,e.guidedMode&&e.formValues.targetType===n.eavConstants.metadata.entity.targetType?27:-1),t.R7$(),t.vxM(28,!e.guidedMode||e.formValues.targetType!==n.eavConstants.metadata.entity.targetType&&e.formValues.targetType!==n.eavConstants.metadata.contentType.targetType?-1:28),t.R7$(8),t.vxM(36,e.guidedMode?36:37),t.R7$(4),t.vxM(40,e.guidedMode&&e.guidedKeyExists?40:-1),t.R7$(),t.vxM(41,n.form.controls.key.touched&&null!=n.form.controls.key.errors&&n.form.controls.key.errors.required?41:-1),t.R7$(),t.vxM(42,n.form.controls.key.touched&&null!=n.form.controls.key.errors&&n.form.controls.key.errors.patternWholeNumber?42:-1),t.R7$(),t.vxM(43,n.form.controls.key.touched&&null!=n.form.controls.key.errors&&n.form.controls.key.errors.patternGuid?43:-1),t.R7$(2),t.Y8G("tippy",e.guidedMode?"Guided mode helps you select options that work":"Manual mode is for advanced uses and allows you to insert any values")("checked",e.guidedMode),t.R7$(),t.SpI(" ",e.guidedMode?"Guided":"Manual"," "),t.R7$(4),t.Y8G("disabled",!n.form.valid)}}let se=(()=>{class i extends ft.${constructor(e,n,a,s){super(),this.dialogRef=e,this.context=n,this.contentItemsService=a,this.contentTypesService=s,this.hostClass="dialog-component",this.eavConstants=E.YX,this.dropdownInsertValue=H.O}ngOnInit(){this.targetTypeOptions=Object.values(E.YX.metadata).map(n=>({...n})),this.keyTypeOptions=Object.values(E.YX.keyTypes),this.keyTypeOptions$=new c.t([]),this.scopeOptions$=new c.t([]),this.guidedMode$=new c.t(!0),this.contentItems$=new c.t([]),this.contentTypes$=new c.t([]),this.guidedKey$=new c.t(!0),this.fetchScopes(),this.form=new _.J3({}),this.form.addControl("targetType",new _.hs(E.YX.metadata.entity.targetType,[_.k0.required,_.k0.pattern(/^[0-9]+$/)])),this.form.addControl("keyType",new _.hs(E.YX.metadata.entity.keyType,[_.k0.required])),this.form.addControl("contentTypeForContentItems",new _.hs(null)),this.form.addControl("scopeForContentTypes",new _.hs(E.YX.scopes.default.value)),this.form.addControl("key",new _.hs(null,[_.k0.required,yt(this.form)])),this.subscriptions.add(this.form.controls.scopeForContentTypes.valueChanges.pipe((0,X.Z)(this.form.controls.scopeForContentTypes.value),(0,G.F)()).subscribe(n=>{null!=this.form.controls.contentTypeForContentItems.value&&this.form.controls.contentTypeForContentItems.patchValue(null),n===H.O?(n=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||E.YX.scopes.default.value,this.scopeOptions$.value.some(a=>a.value===n)||this.scopeOptions$.next([{name:n,value:n},...this.scopeOptions$.value]),this.form.controls.scopeForContentTypes.patchValue(n)):this.fetchContentTypes(n)})),this.subscriptions.add((0,ht.h)(this.form.controls.targetType.valueChanges.pipe((0,G.F)()),this.form.controls.keyType.valueChanges.pipe((0,G.F)())).subscribe(()=>{this.guidedKey$.next(!0),null!=this.form.getRawValue().key&&this.form.patchValue({key:null})})),this.subscriptions.add(this.form.controls.contentTypeForContentItems.valueChanges.pipe((0,X.Z)(this.form.controls.contentTypeForContentItems.value),(0,G.F)()).subscribe(n=>{const a=this.form.getRawValue();a.targetType===E.YX.metadata.entity.targetType&&null!=a.key&&this.form.patchValue({key:null}),this.contentItemsService.getAll(n).subscribe(s=>{this.contentItems$.next(s)})}));const e=this.form.valueChanges.pipe((0,X.Z)(this.form.getRawValue()),(0,p.T)(()=>this.form.getRawValue()),(0,Mt.A)(n=>n));this.subscriptions.add((0,h.z)([e,this.guidedMode$]).subscribe(([n,a])=>{const s=this.targetTypeOptions.find(A=>A.targetType===n.targetType),y=a&&s?[s.keyType]:[...this.keyTypeOptions];bt.a.arraysEqual(y,this.keyTypeOptions$.value)||this.keyTypeOptions$.next(y);const v={};this.keyTypeOptions$.value.includes(n.keyType)||(v.keyType=this.keyTypeOptions$.value[0]);const x=a&&n.targetType===E.YX.metadata.app.targetType;x&&n.key!==this.context.appId&&(v.key=this.context.appId),Object.keys(v).length&&this.form.patchValue(v),Z.D.disableControl(this.form.controls.keyType,a&&this.keyTypeOptions$.value.length<=1),Z.D.disableControl(this.form.controls.key,x)})),this.viewModel$=(0,h.z)([(0,h.z)([this.guidedMode$,this.keyTypeOptions$,this.scopeOptions$,this.contentItems$,this.contentTypes$]),(0,h.z)([e,this.guidedKey$])]).pipe((0,p.T)(([[n,a,s,y,v],[x,N]])=>({guidedMode:n,unknownTargetType:!this.targetTypeOptions.some(w=>w.targetType===x.targetType),targetTypeHint:n&&this.targetTypeOptions.find(w=>w.targetType===x.targetType)?.hint,keyTypeOptions:a,scopeOptions:s,guidedKey:N,guidedKeyExists:[E.YX.metadata.entity.targetType,E.YX.metadata.contentType.targetType].includes(x.targetType),formValues:x,contentItems:y,contentTypes:v})))}ngOnDestroy(){this.guidedMode$.complete(),this.keyTypeOptions$.complete(),this.contentItems$.complete(),this.contentTypes$.complete(),this.guidedKey$.complete(),super.ngOnDestroy()}closeDialog(e){this.dialogRef.close(e)}toggleGuidedKey(e){this.guidedKey$.next(e)}toggleGuidedMode(e){this.guidedMode$.next(e.checked)}confirm(){const e=this.form.getRawValue(),n={target:this.targetTypeOptions.find(a=>a.targetType===e.targetType)?.target,targetType:e.targetType,keyType:e.keyType,key:e.keyType===E.YX.keyTypes.guid?e.key.replace(/{|}/g,""):e.key.toString()};this.closeDialog(n)}fetchContentTypes(e){this.contentTypesService.retrieveContentTypes(e).subscribe(n=>{this.contentTypes$.next(n)})}fetchScopes(){this.contentTypesService.getScopes().subscribe(e=>{this.scopeOptions$.next(e)})}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(C.CP),t.rXU(_t.o),t.rXU(z.F),t.rXU(gt.gs))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-create-metadata-dialog"]],hostVars:1,hostBindings:function(n,a){2&n&&t.Mr5("className",a.hostClass)},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:3,consts:[["defaultKeyInput",""],[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],["href","https://go.2sxc.org/metadata","target","_blank"],[3,"formGroup"],["color","accent",2,"width","100%","margin-bottom","8px"],["formControlName","targetType","required",""],["matInput","","type","number","min","0","formControlName","targetType","required",""],[3,"isError"],["formControlName","keyType","required",""],[3,"value"],["href","https://2sxc.org/help?tag=scope","target","_blank","appClickStopPropagation",""],["matTextSuffix","",1,"eav-selection-suffix"],[1,"eav-dialog-actions"],["color","accent",3,"change","tippy","checked"],["mat-raised-button","","type","button",3,"click"],["mat-raised-button","","type","button","color","accent",3,"click","disabled"],["formControlName","contentTypeForContentItems",3,"placeholder"],["formControlName","scopeForContentTypes",3,"placeholder"],["formControlName","key","required","",3,"placeholder"],["matInput","","type","text","formControlName","key","required",""],[4,"ngTemplateOutlet"],["matInput","","type","number","formControlName","key","required",""],["mat-icon-button","","type","button","tippy","Pick existing value",1,"eav-selection-suffix-button",3,"click","ngClass"],[1,"eav-icon"],["mat-icon-button","","type","button","tippy","Manual entry",1,"eav-selection-suffix-button",3,"click","ngClass"]],template:function(n,a){if(1&n&&(t.DNE(0,oe,52,19,"div",1),t.nI1(1,"async")),2&n){let s;t.vxM(0,(s=t.bMT(1,1,a.viewModel$))?0:-1,s)}},dependencies:[_.YN,_.qT,_.me,_.Q0,_.BC,_.cb,_.YS,_.VZ,_.X1,_.j4,_.JD,D.RG,D.rl,D.nJ,D.yw,J.Ve,J.VO,S.wT,S.Sy,j.fS,j.fg,B.T3,P.Hl,P.$z,P.iY,B.YU,O.m_,O.An,C.E7,W.mV,W.sG,B.Jj,vt.F,Tt.c,V.e]})}return i})(),re=(()=>{class i{constructor(){this.published="",this.metadata="",this.hasMetadata=""}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.published||""!==this.metadata||""!==this.hasMetadata}doesFilterPass(e){let n=!1,a=!1,s=!1;const v=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,columnApi:this.filterParams.columnApi,context:this.filterParams.context,data:e.node.data,getValue:x=>e.node.data[x],node:e.node});return n=""===this.published||null!=v.published&&v.published.toString()===this.published,a=""===this.metadata||null!=v.metadata&&v.metadata.toString()===this.metadata,s=""===this.hasMetadata||null!=v.hasMetadata&&v.hasMetadata.toString()===this.hasMetadata,n&&a&&s}getModel(){return this.isFilterActive()?{filterType:"pub-meta",published:this.published,metadata:this.metadata,hasMetadata:this.hasMetadata}:void 0}setModel(e){this.published=e?e.published:"",this.metadata=e?e.metadata:"",this.hasMetadata=e?e.hasMetadata:""}afterGuiAttached(e){}filterChanged(){this.filterParams.filterChangedCallback()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pub-meta-filter"]],standalone:!0,features:[t.aNF],decls:27,vars:3,consts:[[1,"title"],[3,"ngModelChange","ngModel"],["value",""],["value","true"],["value","false"]],template:function(n,a){1&n&&(t.j41(0,"div",0),t.EFF(1,"Published"),t.k0s(),t.j41(2,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(a.published,y)||(a.published=y),y}),t.bIt("ngModelChange",function(){return a.filterChanged()}),t.j41(3,"mat-radio-button",2),t.EFF(4,"All"),t.k0s(),t.j41(5,"mat-radio-button",3),t.EFF(6,"Published"),t.k0s(),t.j41(7,"mat-radio-button",4),t.EFF(8,"Not published"),t.k0s()(),t.j41(9,"div",0),t.EFF(10,"Is Metadata"),t.k0s(),t.j41(11,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(a.metadata,y)||(a.metadata=y),y}),t.bIt("ngModelChange",function(){return a.filterChanged()}),t.j41(12,"mat-radio-button",2),t.EFF(13,"All"),t.k0s(),t.j41(14,"mat-radio-button",3),t.EFF(15,"Is metadata"),t.k0s(),t.j41(16,"mat-radio-button",4),t.EFF(17,"Is not metadata"),t.k0s()(),t.j41(18,"div",0),t.EFF(19,"Has Metadata"),t.k0s(),t.j41(20,"mat-radio-group",1),t.mxI("ngModelChange",function(y){return t.DH7(a.hasMetadata,y)||(a.hasMetadata=y),y}),t.bIt("ngModelChange",function(){return a.filterChanged()}),t.j41(21,"mat-radio-button",2),t.EFF(22,"All"),t.k0s(),t.j41(23,"mat-radio-button",3),t.EFF(24,"Has metadata"),t.k0s(),t.j41(25,"mat-radio-button",4),t.EFF(26,"Has no metadata"),t.k0s()()),2&n&&(t.R7$(2),t.R50("ngModel",a.published),t.R7$(9),t.R50("ngModel",a.metadata),t.R7$(9),t.R50("ngModel",a.hasMetadata))},dependencies:[k.Wk,k.VT,k._g,_.YN,_.BC,_.vS],styles:[".title[_ngcontent-%COMP%]{padding:12px 12px 0}.mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]})}return i})();var le=o(7319),q=o(1828),de=o(9914),ce=o(4575),pe=o(7037),me=o(5699),tt=o(5437),ue=o(3472),he=o(9431),ge=o(3347),fe=o(9841);function _e(i,u){1&i&&(t.nrm(0,"div",5),t.nI1(1,"safeHtml")),2&i&&t.Y8G("innerHTML",t.bMT(1,1,u),t.npT)}function Ce(i,u){if(1&i){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.debugFilter())}),t.j41(1,"mat-icon",11),t.EFF(2,"filter_list"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Filter"),t.k0s()()}}function ye(i,u){if(1&i){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.closeDialog())}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",4),t.nrm(8,"router-outlet"),t.DNE(9,_e,2,3,"div",5),t.j41(10,"div",6)(11,"ag-grid-angular",7),t.bIt("gridReady",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.onGridReady(a))})("filesDropped",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.filesDropped(a))}),t.k0s()()(),t.j41(12,"mat-dialog-actions",8)(13,"div",9)(14,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.exportContent())}),t.j41(15,"mat-icon",11),t.EFF(16,"cloud_download"),t.k0s(),t.j41(17,"span"),t.EFF(18,"Data"),t.k0s()(),t.j41(19,"button",12),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.importContent())}),t.j41(20,"mat-icon",11),t.EFF(21,"cloud_upload"),t.k0s(),t.j41(22,"span"),t.EFF(23,"Data"),t.k0s()(),t.j41(24,"button",13),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.importItem())}),t.j41(25,"mat-icon",11),t.EFF(26,"cloud_upload"),t.k0s(),t.j41(27,"span"),t.EFF(28,"Item"),t.k0s()(),t.j41(29,"button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.createMetadata())}),t.j41(30,"mat-icon",11),t.EFF(31,"local_offer"),t.k0s(),t.j41(32,"span"),t.EFF(33,"Create Metadata"),t.k0s()(),t.DNE(34,Ce,5,0,"button",15),t.k0s(),t.j41(35,"button",16),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.editItem(null))}),t.j41(36,"mat-icon"),t.EFF(37,"add"),t.k0s()()()()}if(2&i){let e;const n=u,a=t.XpG();t.R7$(3),t.SpI(" ",n.contentType.Label||n.contentType.Name," Data "),t.R7$(6),t.vxM(9,(e=null==n.contentType||null==n.contentType.Properties?null:n.contentType.Properties.ListInstructions)?9:-1,e),t.R7$(2),t.Y8G("rowData",n.items)("gridOptions",a.gridOptions)("allowedFileTypes","xml,json"),t.R7$(23),t.vxM(34,a.isDebug()?34:-1)}}let be=(()=>{class i extends d.V{constructor(e,n,a,s,y,v,x,N,A){super(e,n,new ue.B("ContentItemsComponent",!1)),this.router=e,this.route=n,this.dialogRef=a,this.snackBar=s,this.dialog=y,this.viewContainerRef=v,this.changeDetectorRef=x,this.contentItemsService=N,this.contentTypesService=A,this.contentType$=new b.B,this.items$=new c.t(void 0),this.gridOptions={...nt.C},this.gridApi$=new c.t(null),this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName"),this.entitiesService=(0,tt.d)(le.T),this.contentExportService=(0,tt.d)(f.D),this.isDebug=(0,t.WQX)(he.B).isDebug}ngOnInit(){this.fetchContentType(),this.fetchItems(),this.fetchColumns(),this.subscriptions.add(this.childDialogClosed$().subscribe(()=>{this.fetchItems()})),this.viewModel$=(0,h.z)([this.contentType$,this.items$]).pipe((0,p.T)(([e,n])=>({contentType:e,items:n})))}ngOnDestroy(){this.contentType$.complete(),this.items$.complete(),this.gridApi$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}onGridReady(e){this.gridApi$.next(e.api)}fetchContentType(){this.contentTypesService.retrieveContentType(this.contentTypeStaticName).subscribe(e=>{this.contentType$.next(e)})}fetchItems(){this.contentItemsService.getAll(this.contentTypeStaticName).subscribe(e=>{this.items$.next(e)})}fetchColumns(){this.contentItemsService.getColumns(this.contentTypeStaticName).subscribe(e=>{const n=e.filter(y=>!y.IsEphemeral),a=this.buildColumnDefs(n),s=function ut(i,u){if(!i)return;let e;"="===i.charAt(i.length-1)&&(i=atob(i));try{e=JSON.parse(i)}catch{console.error("Can't parse JSON with filters from url:",i)}if(!e)return;const n={};return(e.IsPublished||e.IsMetadata)&&(n.Status={filterType:"pub-meta",published:e.IsPublished??"",metadata:e.IsMetadata??"",hasMetadata:""}),Object.entries(e).filter(([a,s])=>"IsPublished"!==a&&"IsMetadata"!==a).forEach(([a,s])=>{if(u.find(v=>v.headerName===a)?.filter!==Y){if("string"==typeof s)n[a]={filterType:"text",type:"equals",filter:s};else if("number"==typeof s)n[a]={filterType:"number",type:"equals",filter:s,filterTo:null};else if("boolean"==typeof s){const v={filterType:"boolean",filter:s.toString()};n[a]=v}}else{const v={filterType:"entity",filter:"string"==typeof(s=mt.i.tryParse(s)??s)?s:void 0,idFilter:"number"==typeof s?[s]:Array.isArray(s)?s.filter(x=>"number"==typeof x):void 0};n[a]=v}}),n}(sessionStorage.getItem(it.bo),a);this.gridApi$.value?this.setColumnDefs(a,s):this.gridApi$.pipe((0,F.p)(y=>null!=y),(0,T.s)(1)).subscribe(y=>{this.setColumnDefs(a,s)})})}setColumnDefs(e,n){this.gridApi$.value.setColumnDefs(e),n&&(this.log.a("Will try to apply filter:",n),this.gridApi$.value.setFilterModel(n))}openMetadata(e){const n=r.H.getUrlEntity(e.Guid,`Metadata for Entity: ${e._Title} (${e.Id})`,this.contentTypeStaticName);this.router.navigate([n],{relativeTo:this.route})}editItem(e){const a=(0,U.s)({items:[null==e?{ContentTypeName:this.contentTypeStaticName}:{EntityId:e.Id}]});this.router.navigate([`edit/${a}`],{relativeTo:this.route})}exportContent(){const e=this.gridApi$.value.getFilterModel(),n=Object.keys(e).length>0,a=[];n&&this.gridApi$.value.forEachNodeAfterFilterAndSort(s=>{a.push(s.data.Id)}),this.router.navigate([`export/${this.contentTypeStaticName}${a.length>0?`/${a}`:""}`],{relativeTo:this.route})}filesDropped(e){const n=e[0];switch(n.name.substring(n.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":this.importContent(e);break;case"json":this.importItem(e)}}importContent(e){this.router.navigate([`${this.contentTypeStaticName}/import`],{relativeTo:this.route,state:{files:e}})}importItem(e){this.router.navigate(["import"],{relativeTo:this.route,state:{files:e}})}createMetadata(){this.dialog.open(se,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(n=>{if(null==n)return;const a={items:[{ContentTypeName:this.contentTypeStaticName,For:{Target:n.target??n.targetType.toString(),TargetType:n.targetType,...n.keyType===E.YX.keyTypes.guid&&{Guid:n.key},...n.keyType===E.YX.keyTypes.number&&{Number:parseInt(n.key,10)},...n.keyType===E.YX.keyTypes.string&&{String:n.key}}}]},s=(0,U.s)(a);this.router.navigate([`edit/${s}`],{relativeTo:this.route}),this.changeDetectorRef.markForCheck()})}debugFilter(){console.warn("Current filter:",this.gridApi$.value.getFilterModel()),this.snackBar.open("Check console for filter information",void 0,{duration:3e3})}buildColumnDefs(e){const n=[{...q.r.Id,cellClass:a=>("id-action no-padding no-outline "+(a.data._EditInfo.ReadOnly?"disabled":"")).split(" "),cellRenderer:et.L,cellRendererParams:{tooltipGetter:s=>`ID: ${s.Id}\nRepoID: ${s._RepositoryId}\nGUID: ${s.Guid}`}},{field:"Status",width:82,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),filter:re,valueGetter:a=>{const s=a.data;return{published:s.IsPublished,metadata:!!s.For,hasMetadata:!!s.Metadata&&s.Metadata.length>0}},cellRenderer:pt,cellRendererParams:{onOpenMetadata:s=>this.openMetadata(s)}},{headerName:"Item (Entity)",field:"_Title",flex:2,minWidth:250,cellClass:"primary-action highlight".split(" "),sortable:!0,filter:"agTextColumnFilter",onCellClicked:a=>{this.editItem(a.data)}},{headerName:"Stats",headerTooltip:"Used by others / uses others",field:"_Used",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:a=>{const s=a.data;return`${s._Used} / ${s._Uses}`}},{...q.r.ActionsPinnedRight3,cellRenderer:ot,cellRendererParams:{do:(s,y)=>{switch(s){case"clone":this.clone(y);break;case"export":this.export(y);break;case"delete":this.delete(y)}}}}];for(const a of e){const s={headerName:a.StaticName,field:a.StaticName,flex:2,minWidth:250,cellClass:"no-outline",sortable:!0};switch(a.Type){case g.m.Entity:s.allowMultiValue=a.Metadata?.Entity?.AllowMultiValue??!0,s.cellRenderer=rt,s.valueGetter=this.valueGetterEntityField,s.filter=Y;break;case g.m.DateTime:s.useTimePicker=a.Metadata?.DateTime?.UseTimePicker??!1,s.valueGetter=this.valueGetterDateTime,s.filter="agTextColumnFilter";break;case g.m.Boolean:s.valueGetter=this.valueGetterBoolean,s.filter=m.y;break;case g.m.Number:s.filter="agNumberColumnFilter";break;default:s.filter="agTextColumnFilter"}n.push(s)}return n}clone(e){const a=(0,U.s)({items:[{ContentTypeName:this.contentTypeStaticName,DuplicateEntity:e.Id}]});this.router.navigate([`edit/${a}`],{relativeTo:this.route})}export(e){this.contentExportService.exportEntity(e.Id,this.contentTypeStaticName,!0)}delete(e){confirm(`Delete '${e._Title}' (${e._RepositoryId})?`)&&(this.snackBar.open("Deleting..."),this.entitiesService.delete(this.contentTypeStaticName,e._RepositoryId,!1).subscribe({next:()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchItems()},error:n=>{this.snackBar.dismiss(),confirm(`${n.error.ExceptionMessage}\n\nDo you want to force delete '${e._Title}' (${e._RepositoryId})?`)&&(this.snackBar.open("Deleting..."),this.entitiesService.delete(this.contentTypeStaticName,e._RepositoryId,!0).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchItems()}))}}))}valueGetterEntityField(e){const n=e.data[e.colDef.field];return 0===n.length?null:n.map(a=>a.Title)}valueGetterDateTime(e){const n=e.data[e.colDef.field];return n?e.colDef.useTimePicker?n.replace("T"," ").replace("Z",""):n.split("T")[0]:null}valueGetterBoolean(e){const n=e.data[e.colDef.field];return"boolean"!=typeof n?null:n.toString()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(l.Ix),t.rXU(l.nX),t.rXU(C.CP),t.rXU(ge.UG),t.rXU(C.bZ),t.rXU(t.c1b),t.rXU(t.gRc),t.rXU(z.F),t.rXU(M.g))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items"]],standalone:!0,features:[t.Jv_([z.F,M.g]),t.Vt3,t.aNF],decls:2,vars:3,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[3,"innerHTML"],[1,"grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"gridReady","filesDropped","rowData","gridOptions","allowedFileTypes"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["mat-button","","tippy","Export xml list",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","tippy","Import xml list",1,"eav-button__with-icon",3,"click"],["mat-button","","tippy","Import single json item",1,"eav-button__with-icon",3,"click"],["mat-button","","tippy","Create metadata",1,"eav-button__with-icon",3,"click"],["mat-button","","color","accent","tippy","Print filter to console",1,"eav-button__with-icon"],["mat-fab","","mat-elevation-z24","","tippy","Add item",1,"grid-fab",3,"click"],["mat-button","","color","accent","tippy","Print filter to console",1,"eav-button__with-icon",3,"click"]],template:function(n,a){if(1&n&&(t.DNE(0,ye,38,6,"div",0),t.nI1(1,"async")),2&n){let s;t.vxM(0,(s=t.bMT(1,1,a.viewModel$))?0:-1,s)}},dependencies:[P.Hl,P.$z,P.iY,P.Sr,O.m_,O.An,l.n3,C.E7,B.Jj,de.$,ce.S,me.V,pe.p,fe.xs]})}return i})()},7319:(R,I,o)=>{o.d(I,{T:()=>h});var t=o(8873),C=o(9234),l=o(8559),b=o(6443),c=o(4821);let h=(()=>{class p{constructor(T,M,f){this.http=T,this.context=M,this.dnnContext=f}create(T,M){return this.http.post(`app/auto/data/${T}`,M,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}update(T,M,f){return this.http.post(`app/auto/data/${T}/${M}`,f,{params:{appId:this.context.appId,zoneId:this.context.zoneId}})}delete(T,M,f){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(C.gb+"delete"),{params:{contentType:T,id:M.toString(),appId:this.context.appId.toString(),force:f.toString()}})}static#t=this.\u0275fac=function(M){return new(M||p)(l.KVO(b.Qq),l.KVO(t.o),l.KVO(c.ob))};static#e=this.\u0275prov=l.jDH({token:p,factory:p.\u0275fac})}return p})()},9839:(R,I,o)=>{o.d(I,{m:()=>t});const t={Boolean:"Boolean",Custom:"Custom",DateTime:"DateTime",Empty:"Empty",Entity:"Entity",Hyperlink:"Hyperlink",Number:"Number",String:"String"}},3051:(R,I,o)=>{o.d(I,{h6:()=>M,zZ:()=>F});var t=o(271),C=o(7693),l=o(8873),b=o(8559),c=o(6443),h=o(4821);const p="admin/field/",F="admin/field/all",T="admin/field/GetSharedFields";let M=(()=>{class f{constructor(r,d,m){this.http=r,this.context=d,this.dnnContext=m}apiUrl(r){return this.dnnContext.$2sxc.http.apiUrl(r)}typeListRetrieve(){return this.http.get(this.apiUrl(p+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(p+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,t.T)(r=>r.map(m=>({dataType:m.Type.substring(0,m.Type.indexOf("-")),inputType:m.Type,label:m.Label,description:m.Description,isDefault:m.IsDefault,isObsolete:m.IsObsolete,isRecommended:m.IsRecommended,obsoleteMessage:m.ObsoleteMessage,icon:m.IsDefault?"star":m.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(p+"ReservedNames"))}getFields(r){return this.http.get(this.apiUrl(F),{params:{appid:this.context.appId.toString(),staticName:r}}).pipe((0,t.T)(d=>{if(d)for(const m of d){if(!m.Metadata)continue;const _=m.Metadata;_.merged={..._.All,..._[m.Type],..._[m.InputType]}}return d}))}getShareableFields(){return this.http.get(this.apiUrl(T),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(r){return this.http.get(this.apiUrl(T),{params:{appid:this.context.appId.toString(),attributeId:r.toString()}})}addInheritedField(r,d,m,_){return this.http.post(this.apiUrl(p+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:r.toString(),SourceType:d,SourceField:m,name:_}})}share(r,d=!0){return this.http.post(this.apiUrl(p+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:r.toString(),share:d}})}inherit(r,d){return this.http.post(this.apiUrl(p+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:r.toString(),inheritMetadataOf:d}})}reOrder(r,d){return this.http.post(this.apiUrl(p+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),order:JSON.stringify(r)}})}setTitle(r,d){return this.http.post(this.apiUrl(C.X+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),attributeId:r.Id.toString()}})}rename(r,d,m){return this.http.post(this.apiUrl(p+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:d.toString(),attributeId:r.toString(),newName:m}})}delete(r,d){if(r.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(p+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:d.Id.toString(),attributeId:r.Id.toString()}})}add(r,d){return this.http.post(this.apiUrl(p+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:d.toString(),Id:r.Id.toString(),Type:r.Type,InputType:r.InputType,StaticName:r.StaticName,IsTitle:r.IsTitle.toString(),Index:r.SortOrder.toString()}})}updateInputType(r,d,m){return this.http.post(this.apiUrl(p+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:r.toString(),field:d,inputType:m}})}static#t=this.\u0275fac=function(d){return new(d||f)(b.KVO(c.Qq),b.KVO(l.o),b.KVO(h.ob))};static#e=this.\u0275prov=b.jDH({token:f,factory:f.\u0275fac})}return f})()},2871:(R,I,o)=>{o.d(I,{J:()=>l});var t=o(3840),C=o(8559);let l=(()=>{class b{constructor(){this.trueIcon="check_circle",this.falseIcon="circle"}agInit(h){let p=h.value;h.reverse&&(p=!p),h.trueIcon&&(this.trueIcon=h.trueIcon),h.falseIcon&&(this.falseIcon=h.falseIcon),this.icon=p?this.trueIcon:this.falseIcon}refresh(h){return!0}static#t=this.\u0275fac=function(p){return new(p||b)};static#e=this.\u0275cmp=C.VBU({type:b,selectors:[["app-rest-api-true-false"]],standalone:!0,features:[C.aNF],decls:3,vars:1,consts:[[1,"icon-container"]],template:function(p,F){1&p&&(C.j41(0,"div",0)(1,"mat-icon"),C.EFF(2),C.k0s()()),2&p&&(C.R7$(2),C.JRh(F.icon))},dependencies:[t.m_,t.An],encapsulation:2})}return b})()},8991:(R,I,o)=>{o.d(I,{N:()=>f});const t={states:{true:{tooltip:"true/on",icon:"radio_button_checked"},false:{tooltip:"false/off",icon:"radio_button_unchecked"}}};var C=o(4601),l=o(3840),b=o(316),c=o(8559);const h=g=>({clickable:g});function p(g,r){1&g&&c.eu8(0)}function F(g,r){if(1&g&&(c.j41(0,"a",2),c.DNE(1,p,1,0,"ng-container",3),c.k0s()),2&g){const d=c.XpG(),m=c.sdS(4);c.Y8G("href",d.data.url,c.B4B),c.R7$(),c.Y8G("ngTemplateOutlet",m)}}function T(g,r){if(1&g&&(c.j41(0,"div",4)(1,"mat-icon"),c.EFF(2),c.k0s()()),2&g){const d=c.XpG();c.Y8G("ngClass",c.eq3(3,h,d.data.clickable))("tippy",d.data.tooltip),c.R7$(2),c.JRh(d.data.icon)}}function M(g,r){if(1&g&&(c.j41(0,"div",4)(1,"mat-icon"),c.EFF(2),c.k0s()()),2&g){const d=c.XpG();c.Y8G("ngClass",c.eq3(3,h,d.data.clickable))("tippy",d.data.tooltip),c.R7$(2),c.JRh(d.data.icon)}}let f=(()=>{class g{agInit(d){this.value=d.value,this.allSettings=d.settings?.(d.data)??t;const m=this.allSettings.states[this.value?"true":"false"];this.data={...m,url:m.url??m.getUrl?.(d.data)}}refresh(d){return!0}static#t=this.\u0275fac=function(m){return new(m||g)};static#e=this.\u0275cmp=c.VBU({type:g,selectors:[["app-ag-bool-icon-renderer"]],standalone:!0,features:[c.aNF],decls:5,vars:1,consts:[["showIcon",""],[1,"icon-container"],["target","_blank",3,"href"],[4,"ngTemplateOutlet"],[1,"icon-cell","icon",3,"ngClass","tippy"]],template:function(m,_){1&m&&(c.j41(0,"div",1),c.DNE(1,F,2,2,"a",2)(2,T,3,5),c.k0s(),c.DNE(3,M,3,5,"ng-template",null,0,c.C5r)),2&m&&(c.R7$(),c.vxM(1,_.data.url?1:2))},dependencies:[C.e,l.m_,l.An,b.YU],encapsulation:2})}return g})()},1828:(R,I,o)=>{o.d(I,{r:()=>b});var t=o(1960),C=o(8991),l=o(2871);class b{static#t=this.ActionsPinnedRight1={width:42,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#e=this.ActionsPinnedRight3={width:122,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#n=this.ActionsPinnedRight4={width:162,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#i=this.ActionsPinnedRight5={width:202,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#a=this.ActionsPinnedRight6={width:82,cellClass:"secondary-action no-padding".split(" "),pinned:"right"};static#o=this.ActionsPinnedRight7={width:62,cellClass:"secondary-action no-outline no-padding".split(" "),pinned:"right"};static#s=this.IconShow={headerName:"Show",width:70,headerClass:"dense",cellClass:"icons no-outline".split(" "),sortable:!0,filter:t.y,valueGetter:h=>!h.data.IsHidden,cellRenderer:C.N};static#r=this.Items={width:102,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#l=this.Fields={width:94,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#d=this.Character={width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#c=this.Id={headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#p=this.Boolean={width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0};static#m=this.Boolean2={width:100,sortable:!0,cellClass:"no-outline",filter:t.y};static#u=this.Boolean3={headerClass:"dense",width:80,cellClass:"no-outline",cellRenderer:l.J,cellRendererParams:{reverse:!1}};static#h=this.Number={width:70,headerClass:"dense",cellClass:"number-cell no-outline".split(" "),sortable:!0,filter:"agNumberColumnFilter"};static#g=this.TextWideType={flex:3,minWidth:250,cellClass:"primary-action highlight".split(" "),sortable:!0,filter:"agTextColumnFilter"};static#f=this.TextWide={flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#_=this.TextWideMin100={flex:1,minWidth:100,sortable:!0,filter:"agTextColumnFilter"};static#C=this.TextWideFlex3={flex:3,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#y=this.TextNarrow={flex:1,minWidth:150,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"};static#v=this.TextWideActionClass={flex:2,minWidth:250,cellClass:"primary-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter"}}},1960:(R,I,o)=>{o.d(I,{y:()=>b});var t=o(4456),C=o(3804),l=o(8559);let b=(()=>{class c{constructor(){this.filter=""}agInit(p){this.filterParams=p}isFilterActive(){return""!==this.filter}doesFilterPass(p){const T=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,columnApi:this.filterParams.columnApi,context:this.filterParams.context,data:p.node.data,getValue:M=>p.node.data[M],node:p.node});return null!=T&&T.toString()===this.filter}getModel(){if(this.isFilterActive())return{filterType:"boolean",filter:this.filter}}setModel(p){this.filter=p?p.filter:""}afterGuiAttached(p){}filterChanged(){this.filterParams.filterChangedCallback()}static#t=this.\u0275fac=function(F){return new(F||c)};static#e=this.\u0275cmp=l.VBU({type:c,selectors:[["app-boolean-filter"]],standalone:!0,features:[l.aNF],decls:7,vars:1,consts:[[3,"ngModelChange","ngModel"],["value",""],["value","true"],["value","false"]],template:function(F,T){1&F&&(l.j41(0,"mat-radio-group",0),l.mxI("ngModelChange",function(f){return l.DH7(T.filter,f)||(T.filter=f),f}),l.bIt("ngModelChange",function(){return T.filterChanged()}),l.j41(1,"mat-radio-button",1),l.EFF(2,"All"),l.k0s(),l.j41(3,"mat-radio-button",2),l.EFF(4,"True"),l.k0s(),l.j41(5,"mat-radio-button",3),l.EFF(6,"False"),l.k0s()()),2&F&&l.R50("ngModel",T.filter)},dependencies:[t.YN,t.BC,t.vS,C.Wk,C.VT,C._g],styles:[".mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]})}return c})()},3758:(R,I,o)=>{o.d(I,{F:()=>f});var t=o(316),C=o(5944),l=o(8559);const b=["*"],c=g=>({"hint-box__short":g});function h(g,r){1&g&&l.eu8(0)}function p(g,r){if(1&g&&(l.j41(0,"mat-hint"),l.DNE(1,h,1,0,"ng-container",2),l.k0s()),2&g){l.XpG();const d=l.sdS(4);l.R7$(),l.Y8G("ngTemplateOutlet",d)}}function F(g,r){1&g&&l.eu8(0)}function T(g,r){if(1&g&&(l.j41(0,"mat-error"),l.DNE(1,F,1,0,"ng-container",2),l.k0s()),2&g){l.XpG();const d=l.sdS(4);l.R7$(),l.Y8G("ngTemplateOutlet",d)}}function M(g,r){1&g&&l.SdG(0)}let f=(()=>{class g{constructor(){this.isError=!1,this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static#t=this.\u0275fac=function(m){return new(m||g)};static#e=this.\u0275cmp=l.VBU({type:g,selectors:[["app-field-hint"]],inputs:{isError:"isError"},standalone:!0,features:[l.aNF],ngContentSelectors:b,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(m,_){if(1&m){const k=l.RV6();l.NAR(),l.j41(0,"div",1),l.bIt("click",function(){return l.eBV(k),l.Njj(_.toggleIsShort())}),l.DNE(1,p,2,1)(2,T,2,1),l.k0s(),l.DNE(3,M,1,0,"ng-template",null,0,l.C5r)}if(2&m){let k;l.Y8G("ngClass",l.eq3(2,c,_.isShort)),l.R7$(),l.vxM(1,!1===(k=_.isError)?1:!0===k?2:-1)}},dependencies:[C.RG,C.MV,C.TL,t.YU,t.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return g})()},6378:(R,I,o)=>{o.d(I,{L:()=>F});var t=o(519),C=o(316),l=o(3840),b=o(4601),c=o(8559),h=o(3347);const p=(T,M)=>({"align-start":T,"align-end":M});let F=(()=>{class T{constructor(f){this.snackBar=f}agInit(f){this.id=f.value,this.align="number"==typeof this.id?"end":"start",this.tooltip=f.tooltipGetter(f.data)}refresh(f){return!0}copy(){(0,t.l)(this.tooltip),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(g){return new(g||T)(c.rXU(h.UG))};static#e=this.\u0275cmp=c.VBU({type:T,selectors:[["app-id-field"]],standalone:!0,features:[c.aNF],decls:5,vars:6,consts:[["matRipple","",1,"id-box","highlight",3,"click","tippy","ngClass"],[1,"id"],[1,"icon"]],template:function(g,r){1&g&&(c.j41(0,"div",0),c.bIt("click",function(){return r.copy()}),c.j41(1,"span",1),c.EFF(2),c.k0s(),c.j41(3,"mat-icon",2),c.EFF(4,"file_copy"),c.k0s()()),2&g&&(c.Y8G("tippy",r.tooltip)("ngClass",c.l_i(3,p,"start"===r.align,"end"===r.align)),c.R7$(2),c.JRh(r.id))},dependencies:[C.YU,l.m_,l.An,b.e],styles:[".id-box[_ngcontent-%COMP%]{padding:0 8px;height:100%;display:flex;align-items:center}.id-box.align-start[_ngcontent-%COMP%]{justify-content:flex-start}.id-box.align-end[_ngcontent-%COMP%]{justify-content:flex-end}.id-box[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{max-width:100%;text-overflow:ellipsis;overflow:hidden}.id-box[_ngcontent-%COMP%]:hover{text-decoration:none}.id-box[_ngcontent-%COMP%]:hover   .id[_ngcontent-%COMP%]{display:none}.id-box[_ngcontent-%COMP%]:not(:hover)   .icon[_ngcontent-%COMP%]{display:none}"]})}return T})()},9333:(R,I,o)=>{o.d(I,{c:()=>l});var t=o(8559);let l=(()=>{class b{constructor(){}onClick(h){h.stopPropagation()}static#t=this.\u0275fac=function(p){return new(p||b)};static#e=this.\u0275dir=t.FsC({type:b,selectors:[["","appClickStopPropagation",""]],hostBindings:function(p,F){1&p&&t.bIt("click",function(M){return F.onClick(M)})},standalone:!0})}return b})()},5699:(R,I,o)=>{o.d(I,{V:()=>l});var t=o(9431),C=o(8559);let l=(()=>{class b{constructor(h){this.globalConfigService=h}onClick(h){(navigator.platform.match("Mac")?h.metaKey:h.ctrlKey)&&h.shiftKey&&h.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static#t=this.\u0275fac=function(p){return new(p||b)(C.rXU(t.B))};static#e=this.\u0275dir=C.FsC({type:b,selectors:[["","appToggleDebug",""]],hostBindings:function(p,F){1&p&&C.bIt("click",function(M){return F.onClick(M)})},standalone:!0})}return b})()},6256:(R,I,o)=>{o.d(I,{Y:()=>M,k:()=>T});var t=o(8559),C=o(5060),l=o(2102),b=o(316);let c=0;const h="mat-badge-content",p=new Set;let F=(()=>{class f{static#t=this.\u0275fac=function(d){return new(d||f)};static#e=this.\u0275cmp=t.VBU({type:f,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(d,m){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return f})(),T=(()=>{class f{get color(){return this._color}set color(r){this._setColor(r),this._color=r}get content(){return this._content}set content(r){this._updateRenderedContent(r)}get description(){return this._description}set description(r){this._updateDescription(r)}constructor(r,d,m,_,k){this._ngZone=r,this._elementRef=d,this._ariaDescriber=m,this._renderer=_,this._animationMode=k,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=c++,this._isInitialized=!1,this._interactivityChecker=(0,t.WQX)(l.Z7),this._document=(0,t.WQX)(b.qQ);const D=(0,t.WQX)(t.o8S);if(!p.has(D)){p.add(D);const j=(0,t.a0P)(F,{environmentInjector:(0,t.WQX)(t.uvJ)});D.onDestroy(()=>{p.delete(D),0===p.size&&j.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const r=this._renderer.createElement("span"),d="mat-badge-active";return r.setAttribute("id",`mat-badge-content-${this._id}`),r.setAttribute("aria-hidden","true"),r.classList.add(h),"NoopAnimations"===this._animationMode&&r.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(r),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{r.classList.add(d)})}):r.classList.add(d),r}_updateRenderedContent(r){const d=`${r??""}`.trim();this._isInitialized&&d&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=d),this._content=d}_updateDescription(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!r||this._isHostInteractive())&&this._removeInlineDescription(),this._description=r,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,r):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(r){const d=this._elementRef.nativeElement.classList;d.remove(`mat-badge-${this._color}`),r&&d.add(`mat-badge-${r}`)}_clearExistingBadges(){const r=this._elementRef.nativeElement.querySelectorAll(`:scope > .${h}`);for(const d of Array.from(r))d!==this._badgeElement&&d.remove()}static#t=this.\u0275fac=function(d){return new(d||f)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(l.vr),t.rXU(t.sFG),t.rXU(t.bc$,8))};static#e=this.\u0275dir=t.FsC({type:f,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(d,m){2&d&&t.AVh("mat-badge-overlap",m.overlap)("mat-badge-above",m.isAbove())("mat-badge-below",!m.isAbove())("mat-badge-before",!m.isAfter())("mat-badge-after",m.isAfter())("mat-badge-small","small"===m.size)("mat-badge-medium","medium"===m.size)("mat-badge-large","large"===m.size)("mat-badge-hidden",m.hidden||!m.content)("mat-badge-disabled",m.disabled)},inputs:{color:[t.Mj6.None,"matBadgeColor","color"],overlap:[t.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",t.L39],disabled:[t.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",t.L39],position:[t.Mj6.None,"matBadgePosition","position"],content:[t.Mj6.None,"matBadge","content"],description:[t.Mj6.None,"matBadgeDescription","description"],size:[t.Mj6.None,"matBadgeSize","size"],hidden:[t.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",t.L39]},standalone:!0,features:[t.GFd]})}return f})(),M=(()=>{class f{static#t=this.\u0275fac=function(d){return new(d||f)};static#e=this.\u0275mod=t.$C({type:f});static#n=this.\u0275inj=t.G2t({imports:[l.Pd,C.yE,C.yE]})}return f})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_content-items_content-items_component_ts-projects_eav-ui_src_app_cont-377579.f60b2e27579cd456.js.map
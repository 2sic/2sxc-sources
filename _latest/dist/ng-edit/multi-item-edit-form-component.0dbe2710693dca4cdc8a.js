(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"/ciH":function(e,t,n){"use strict";var i=n("PYp2"),o=n("SEb4"),a=n("TPB+"),r=/^(?:0|[1-9]\d*)$/,c=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t},s=n("HuQ3"),l=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(o.a)(e),r=!n&&Object(i.a)(e),d=!n&&!r&&Object(a.a)(e),u=!n&&!r&&!d&&Object(s.a)(e),p=n||r||d||u,f=p?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],g=f.length;for(var b in e)!t&&!l.call(e,b)||p&&("length"==b||d&&("offset"==b||"parent"==b)||u&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||c(b,g))||f.push(b);return f}},"1/u/":function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n=0);var o=e.length===n+1?t:i.bind(this,e,t,n+1),a=e[n],r="string"==typeof a.test?a.test:null,c="function"==typeof a.test?a.test:null;if(null!=r&&window[r])t();else if(null!=c&&c())t();else{var s=document.querySelector('script[src="'+a.src+'"]');if(s)s.addEventListener("load",o,{once:!0});else{var l=document.createElement("script");l.src=a.src,l.addEventListener("load",o,{once:!0}),document.head.appendChild(l)}}}n.d(t,"a",(function(){return i}))},BaCy:function(e,t,n){"use strict";var i=n("lnqP"),o=n("qd5q"),a=n("FoV5");t.a=function(e){return Object(i.a)(e,a.a,o.a)}},CYhr:function(e,t,n){"use strict";var i=n("y7Du"),o=Object(i.a)(Object,"create"),a=Object.prototype.hasOwnProperty,r=Object.prototype.hasOwnProperty;function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=function(){this.__data__=o?o(null):{},this.size=0},c.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},c.prototype.get=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0},c.prototype.has=function(e){var t=this.__data__;return o?void 0!==t[e]:r.call(t,e)},c.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};var s=c,l=n("Go5w"),d=n("OJPH"),u=function(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}p.prototype.clear=function(){this.size=0,this.__data__={hash:new s,map:new(d.a||l.a),string:new s}},p.prototype.delete=function(e){var t=u(this,e).delete(e);return this.size-=t?1:0,t},p.prototype.get=function(e){return u(this,e).get(e)},p.prototype.has=function(e){return u(this,e).has(e)},p.prototype.set=function(e,t){var n=u(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},t.a=p},DHAC:function(e,t,n){"use strict";var i=n("Go5w"),o=n("OJPH"),a=n("CYhr");function r(e){var t=this.__data__=new i.a(e);this.size=t.size}r.prototype.clear=function(){this.__data__=new i.a,this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},r.prototype.get=function(e){return this.__data__.get(e)},r.prototype.has=function(e){return this.__data__.has(e)},r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof i.a){var r=n.__data__;if(!o.a||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a.a(r)}return n.set(e,t),this.size=n.size,this},t.a=r},FoV5:function(e,t,n){"use strict";var i=n("/ciH"),o=n("tyTC"),a=n("GIvL");t.a=function(e){return Object(a.a)(e)?Object(i.a)(e):Object(o.a)(e)}},Go5w:function(e,t,n){"use strict";var i=n("HVAe"),o=function(e,t){for(var n=e.length;n--;)if(Object(i.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}r.prototype.clear=function(){this.__data__=[],this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=o(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))},r.prototype.get=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]},r.prototype.has=function(e){return o(this.__data__,e)>-1},r.prototype.set=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},t.a=r},HVAe:function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},NUo7:function(e,t,n){"use strict";t.a=function(){return[]}},gFym:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},ji8j:function(e,t,n){"use strict";n.r(t);var i=n("D57K"),o=n("S6KJ"),a=n("LiEJ"),r=n("gQst"),c=n("iUUs"),s=n("sna8"),l=n("snle"),d=n("DwTn"),u=n("leiK"),p=n("Lh+r"),f=n("e7y7");function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(s.a)(e,void 0).lift(new b(n))}var b=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,i){void 0===i&&(i=Object.create(null));var o=e.call(this,t)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=i,o}return i.d(t,e),t.prototype._next=function(e){var t=this.iterators;Object(l.a)(e)?t.push(new v(e)):t.push("function"==typeof e[f.a]?new m(e[f.a]()):new y(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++)if("function"==typeof(r=e[i]).hasValue&&!r.hasValue())return;var o=!1,a=[];for(i=0;i<t;i++){var r,c=(r=e[i]).next();if(r.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(d.a),m=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),v=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[f.a]=function(){return this},e.prototype.next=function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),y=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return i.d(t,e),t.prototype[f.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,o){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(p.a)(this,this.observable,this,t)},t}(u.a),w=n("pN2L"),C=n("U3QC"),_=n("QagP"),O=n("Jg5f"),x=n("G2Mx"),k=n("z5yO"),M=n("pday"),I=n("AouM"),S=n("IMYO"),T=(n("qzOT"),n("gZep")),P=n("1C3z"),j=n("LR82"),V=n("ZSGP"),$=n("50eG"),E=n("nsG0"),B=n("W/Ou"),F=n("lqvn"),L=n("EfUY"),D=n("JXuk"),W=n("ubup"),z=function(){function e(e,t){this.eavService=e,this.validationMessagesService=t,this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.control=this.group.controls[this.config.field.name],this.settings$=this.config.field.settings$,this.label$=this.settings$.pipe(Object(O.a)((function(e){return e.Name}))),this.placeholder$=this.settings$.pipe(Object(O.a)((function(e){return e.Placeholder}))),this.required$=this.settings$.pipe(Object(O.a)((function(e){return L.a.isRequired(e)}))),this.invalid$=this.control.statusChanges.pipe(Object(O.a)((function(e){return"INVALID"===e})),Object(B.a)(this.control.invalid)),this.showValidation$=this.validationMessagesService.showValidation$.pipe(Object(k.a)((function(t){return t===e.control}))),this.value$=this.eavService.formValueChange$.pipe(Object(k.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(O.a)((function(t){return e.control.value})),Object(B.a)(this.control.value),Object(F.a)()),this.disabled$=this.eavService.formDisabledChange$.asObservable().pipe(Object(k.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(O.a)((function(t){return e.control.disabled})),Object(B.a)(this.control.disabled),Object(F.a)())},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(P.Qb(D.a),P.Qb(W.a))},e.\u0275dir=P.Lb({type:e,inputs:{config:"config",group:"group"}}),e}(),A=n("1MVu"),R=function(e){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=e},Q=n("o9tz"),G=n("4UCL"),N=n("mULc"),U=n("IMfk"),q=n("tPMb"),H=function(){function e(e,t,n,i,o){this.enabled=e,this.expires=t,this.id=n,this.isPublic=i,this.ui=o,this.enabled=e,this.expires=t,this.id=n,this.isPublic=i,this.ui=o}return e.createFeatureArray=function(t){var n=[];return t.forEach((function(t){n.push(new e(t.enabled,t.expires,t.id,t.public,t.ui))})),n},e}(),K=function(e){function t(t){return e.call(this,"Feature",t)||this}return Object(i.d)(t,e),t.prototype.loadFeatures=function(e){var t=H.createFeatureArray(e);this.addAllToCache(t)},t.prototype.isFeatureEnabled=function(e){var t=!1;return this.entities$.pipe(Object(x.a)(1)).subscribe((function(n){var i=n.find((function(t){return t.id===e}));null!=i&&(t=i.enabled)})),t},t.\u0275fac=function(e){return new(e||t)(P.ac(q.b))},t.\u0275prov=P.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(q.a),X=n("dkRO"),Z=n("0adC"),Y=n("8AiQ"),J=n("pJJP"),ee=n("Qc/f"),te=n("r4gC"),ne=function(){function e(e,t){this.elementRef=e,this.featureService=t,this.eventListeners=[]}return e.prototype.ngOnInit=function(){if(this.featureService.isFeatureEnabled("f6b8d6da-4744-453b-9543-0de499aa2352")){switch(this.elementType){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}var e=this.handleImage.bind(this);this.elementRef.nativeElement.addEventListener("handleImage",e),this.eventListeners.push({element:this.elementRef.nativeElement,type:"handleImage",listener:e})}},e.prototype.ngOnDestroy=function(){this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener)}))},e.prototype.handleImage=function(e){Object($.a)("PASTE IMAGE","event:",e);var t=this.getFile(e.detail);this.config.dropzone.uploadFile(t)},e.prototype.getFile=function(e){var t=e.file;try{var n=new FormData;n.append("file",e.file,e.imageFileName),t=n.get("file")}catch(i){console.error("paste image error",i)}return t},e.\u0275fac=function(t){return new(t||e)(P.Qb(P.l),P.Qb(K))},e.\u0275dir=P.Lb({type:e,selectors:[["","appPasteClipboardImage",""]],inputs:{config:"config",elementType:"elementType"}}),e}(),ie=n("Zfm5"),oe=n("D3iX");function ae(e,t){1&e&&(P.Wb(0,"mat-icon"),P.Qc(1,"public"),P.Vb())}function re(e,t){1&e&&P.Rb(0,"mat-icon",12)}function ce(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",8),P.ec("click",(function(e){return P.Fc(n),P.ic(3).openUploadClick(e)})),P.jc(1,"translate"),P.Wb(2,"div",9),P.Wb(3,"mat-icon"),P.Qc(4,"cloud_upload"),P.Vb(),P.Wb(5,"div",10),P.Qc(6),P.jc(7,"translate"),P.Oc(8,ae,2,0,"mat-icon",0),P.Oc(9,re,1,0,"mat-icon",11),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=P.ic(2).ngIf;P.oc("matTooltip",P.kc(1,4,"Fields.Hyperlink.AdamFileManager.UploadTip")),P.Bb(6),P.Sc(" ",P.kc(7,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),P.Bb(2),P.oc("ngIf",i.adamConfig.usePortalRoot),P.Bb(1),P.oc("ngIf",!i.adamConfig.usePortalRoot)}}function se(e,t){1&e&&(P.Wb(0,"div",10),P.Qc(1),P.jc(2,"translate"),P.Vb()),2&e&&(P.Bb(1),P.Sc(" ",P.kc(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel")," "))}function le(e,t){1&e&&(P.Wb(0,"div",10),P.Qc(1),P.jc(2,"translate"),P.Vb()),2&e&&(P.Bb(1),P.Sc(" ",P.kc(2,1,"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel")," "))}function de(e,t){if(1&e&&(P.Wb(0,"div",13,14),P.jc(2,"translate"),P.Wb(3,"div",9),P.Wb(4,"mat-icon"),P.Qc(5,"filter"),P.Vb(),P.Oc(6,se,3,3,"div",15),P.Oc(7,le,3,3,"div",15),P.Vb(),P.Vb()),2&e){var n=P.Dc(1),i=P.ic(3);P.oc("config",i.config)("elementType","element")("matTooltip",P.kc(2,5,"Fields.Hyperlink.AdamFileManager.UploadPasteTip")),P.Bb(6),P.oc("ngIf",!n.classList.contains("pastable-focus")),P.Bb(1),P.oc("ngIf",n.classList.contains("pastable-focus"))}}function ue(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",16),P.ec("click",(function(){return P.Fc(n),P.ic(3).addFolder()})),P.jc(1,"translate"),P.Wb(2,"div",9),P.Rb(3,"mat-icon",17),P.Wb(4,"div",18),P.Qc(5),P.jc(6,"translate"),P.Vb(),P.Vb(),P.Rb(7,"div",19),P.Vb()}2&e&&(P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.AdamFileManager.NewFolderTip")),P.Bb(5),P.Rc(P.kc(6,4,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function pe(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",16),P.ec("click",(function(){return P.Fc(n),P.ic(3).goUp()})),P.jc(2,"translate"),P.Wb(3,"div",9),P.Rb(4,"mat-icon",20),P.Wb(5,"div",18),P.Qc(6),P.jc(7,"translate"),P.Vb(),P.Vb(),P.Wb(8,"div",21),P.Wb(9,"mat-icon",22),P.Qc(10,"arrow_back"),P.Vb(),P.Vb(),P.Vb(),P.Tb()}2&e&&(P.Bb(1),P.oc("matTooltip",P.kc(2,2,"Fields.Hyperlink.AdamFileManager.BackFolderTip")),P.Bb(5),P.Rc(P.kc(7,4,"Fields.Hyperlink.AdamFileManager.BackFolder")))}var fe=function(e){return{"adam-button-disabled":e}};function ge(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",31),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).del(e)})),P.jc(1,"translate"),P.Qc(2,"clear "),P.Vb()}if(2&e){var i=P.ic(4).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",P.tc(4,fe,i.disabled))}}function be(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",32),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).rename(e)})),P.jc(1,"translate"),P.Qc(2,"edit "),P.Vb()}if(2&e){var i=P.ic(4).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",P.tc(4,fe,i.disabled))}}var he=function(e){return{"metadata-exists":e}};function me(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",33),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).editItemMetadata(e)})),P.Qc(1,"local_offer"),P.Vb()}if(2&e){var i=P.ic(2).$implicit;P.rc("matTooltip","",i._metadataContentType,": ",i.MetadataId,""),P.oc("ngClass",P.tc(3,he,i.MetadataId>0))}}function ve(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",23),P.ec("click",(function(){P.Fc(n);var e=P.ic().$implicit;return P.ic(3).goIntoFolder(e)})),P.Wb(2,"div",24),P.Rb(3,"mat-icon",20),P.Wb(4,"div",25),P.Qc(5),P.Vb(),P.Vb(),P.Wb(6,"div"),P.Oc(7,ge,3,6,"mat-icon",26),P.Oc(8,be,3,6,"mat-icon",27),P.Wb(9,"div",28),P.Wb(10,"div",29),P.Qc(11),P.Vb(),P.Vb(),P.Vb(),P.Oc(12,me,2,5,"mat-icon",30),P.Vb(),P.Tb()}if(2&e){var i=P.ic().$implicit,o=P.ic(2).ngIf;P.Bb(5),P.Rc(i.Name),P.Bb(1),P.Eb("dz-details file-type-",i.Type,""),P.Bb(1),P.oc("ngIf",o.adamConfig.allowEdit),P.Bb(1),P.oc("ngIf",o.adamConfig.allowEdit),P.Bb(2),P.oc("title",i.Name),P.Bb(1),P.Rc(i.Name),P.Bb(1),P.oc("ngIf",i._metadataContentType)}}function ye(e,t){if(1&e&&(P.Wb(0,"mat-icon"),P.Qc(1),P.Vb()),2&e){var n=P.ic(3).$implicit;P.Bb(1),P.Rc(n._icon)}}function we(e,t){if(1&e&&P.Rb(0,"mat-icon",45),2&e){var n=P.ic(3).$implicit;P.oc("svgIcon",n._icon)}}function Ce(e,t){if(1&e&&(P.Wb(0,"div",24),P.Oc(1,ye,2,1,"mat-icon",0),P.Oc(2,we,1,1,"mat-icon",44),P.Wb(3,"div",18),P.Qc(4),P.Vb(),P.Vb()),2&e){var n=P.ic(2).$implicit;P.Bb(1),P.oc("ngIf",n._isMaterialIcon),P.Bb(1),P.oc("ngIf",!n._isMaterialIcon),P.Bb(2),P.Rc(n.Name)}}function _e(e,t){if(1&e&&(P.Wb(0,"div",46),P.Rb(1,"img",47),P.Vb()),2&e){var n=P.ic(2).$implicit;P.Bb(1),P.oc("alt",n.Id+":"+n.Name)("src",n.FullPath+"?w=120&h=120&mode=crop",P.Ic)}}function Oe(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",31),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).del(e)})),P.jc(1,"translate"),P.Qc(2,"clear "),P.Vb()}if(2&e){var i=P.ic(4).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.AdamFileManager.Delete"))("ngClass",P.tc(4,fe,i.disabled))}}function xe(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",32),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).rename(e)})),P.jc(1,"translate"),P.Qc(2,"edit "),P.Vb()}if(2&e){var i=P.ic(4).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.AdamFileManager.Edit"))("ngClass",P.tc(4,fe,i.disabled))}}function ke(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-icon",33),P.ec("click",(function(){P.Fc(n);var e=P.ic(2).$implicit;return P.ic(3).editItemMetadata(e)})),P.Qc(1,"local_offer"),P.Vb()}if(2&e){var i=P.ic(2).$implicit;P.rc("matTooltip","",i._metadataContentType,": ",i.MetadataId,""),P.oc("ngClass",P.tc(3,he,i.MetadataId>0))}}var Me=function(e,t){return{"dz-success":e,"disable-select":t}};function Ie(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",34),P.ec("click",(function(){P.Fc(n);var e=P.ic().$implicit;return P.ic(3).select(e)})),P.jc(2,"async"),P.Oc(3,Ce,5,3,"div",35),P.Oc(4,_e,2,2,"div",36),P.Wb(5,"div"),P.Oc(6,Oe,3,6,"mat-icon",26),P.Oc(7,xe,3,6,"mat-icon",27),P.Wb(8,"div",28),P.Wb(9,"div",29),P.Qc(10),P.Vb(),P.Vb(),P.Wb(11,"div",37),P.Wb(12,"span"),P.Qc(13),P.Vb(),P.Vb(),P.Wb(14,"a",38),P.Wb(15,"mat-icon",39),P.jc(16,"translate"),P.Qc(17,"open_in_new"),P.Vb(),P.Vb(),P.Vb(),P.Oc(18,ke,2,5,"mat-icon",30),P.Wb(19,"div",40),P.hc(),P.Wb(20,"svg",41),P.Wb(21,"title"),P.Qc(22,"Check"),P.Vb(),P.Rb(23,"defs"),P.Wb(24,"g",42),P.Rb(25,"path",43),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Tb()}if(2&e){var i=P.ic().$implicit,o=P.ic(2).ngIf,a=P.ic();P.Bb(1),P.oc("ngClass",P.uc(21,Me,P.kc(2,17,a.value$)==="file:"+i.Id,!o.adamConfig.enableSelect)),P.Bb(2),P.oc("ngIf","image"!==i.Type),P.Bb(1),P.oc("ngIf","image"===i.Type),P.Bb(1),P.Eb("dz-details file-type-",i.Type,""),P.Bb(1),P.oc("ngIf",o.adamConfig.allowEdit),P.Bb(1),P.oc("ngIf",o.adamConfig.allowEdit),P.Bb(2),P.oc("title",i.Name),P.Bb(1),P.Rc(i.Name),P.Bb(1),P.rc("title","#",i.Id," - ",i._displaySize," KB"),P.Bb(2),P.Tc("#",i.Id," - ",i._displaySize," KB"),P.Bb(1),P.oc("href",i.FullPath,P.Ic),P.Bb(1),P.oc("matTooltip",P.kc(16,19,"Fields.Hyperlink.AdamFileManager.Show")),P.Bb(3),P.oc("ngIf",i._metadataContentType)}}function Se(e,t){if(1&e&&(P.Ub(0),P.Oc(1,ve,13,9,"ng-container",0),P.Oc(2,Ie,26,24,"ng-container",0),P.Tb()),2&e){var n=t.$implicit;P.Bb(1),P.oc("ngIf",n.IsFolder),P.Bb(1),P.oc("ngIf",!n.IsFolder)}}var Te=function(e,t){return{"adam-scope-site":e,"adam-scope-field":t}};function Pe(e,t){if(1&e&&(P.Wb(0,"div",3),P.Oc(1,ce,10,8,"div",4),P.Oc(2,de,8,7,"div",5),P.Oc(3,ue,8,6,"div",6),P.Oc(4,pe,11,6,"ng-container",0),P.Oc(5,Se,3,2,"ng-container",7),P.jc(6,"async"),P.Vb()),2&e){var n=P.ic().ngIf,i=P.ic();P.oc("ngClass",P.uc(9,Te,n.adamConfig.usePortalRoot,!n.adamConfig.usePortalRoot)),P.Bb(1),P.oc("ngIf",!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),P.Bb(1),P.oc("ngIf",i.pasteClipboardImage&&!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),P.Bb(1),P.oc("ngIf",!n.adamConfig.maxDepthReached&&!n.disabled&&n.adamConfig.allowEdit&&!((""===n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder===n.adamConfig.rootSubfolder)&&!n.adamConfig.allowAssetsInRoot)),P.Bb(1),P.oc("ngIf",""!==n.adamConfig.subfolder||n.adamConfig.usePortalRoot&&n.adamConfig.subfolder!==n.adamConfig.rootSubfolder),P.Bb(1),P.oc("ngForOf",P.kc(6,7,i.items$))("ngForTrackBy",i.trackByFn)}}function je(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"div",1),P.Oc(2,Pe,7,12,"div",2),P.jc(3,"async"),P.Vb(),P.Tb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("@adamShowAnimate",null!=n.adamConfig&&n.adamConfig.autoLoad?"open":"closed"),P.Bb(1),P.oc("ngIf",(null==n.adamConfig?null:n.adamConfig.autoLoad)&&P.kc(3,2,i.expanded$))}}var Ve=function(e,t){return{adamConfig:e,disabled:t}},$e=function(){function e(e,t,n,i,o,r,c){this.adamService=e,this.fileTypeService=t,this.featureService=n,this.dnnContext=i,this.eavService=o,this.editRoutingService=r,this.zone=c,this.openUpload=new P.n,this.adamConfig$=new a.a(null),this.items$=new a.a([]),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.control=this.group.controls[this.config.field.name],this.refreshOnChildClosed(),this.url=this.dnnContext.$2sxc.http.apiUrl("app-content/"+this.config.entity.header.ContentTypeName+"/"+this.config.entity.header.Guid+"/"+this.config.field.name),this.pasteClipboardImage=this.featureService.isFeatureEnabled("f6b8d6da-4744-453b-9543-0de499aa2352"),this.config.adam={items$:this.items$.asObservable(),toggle:function(t,n){e.zone.run((function(){e.toggle(t,n)}))},setConfig:function(t){e.zone.run((function(){e.setConfig(t)}))},getConfig:function(){return e.adamConfig$.value},getConfig$:function(){return e.adamConfig$.asObservable()},onItemClick:function(){},onItemUpload:function(){},refresh:function(){e.zone.run((function(){e.fetchItems()}))},addFullPath:function(t){e.adamService.addFullPath(t)}},this.subscription.add(this.adamConfig$.subscribe((function(t){e.fetchItems()}))),this.expanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.value$=this.eavService.formValueChange$.pipe(Object(k.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(O.a)((function(t){return e.control.value})),Object(B.a)(this.control.value),Object(F.a)()),this.disabled$=this.eavService.formDisabledChange$.asObservable().pipe(Object(k.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(O.a)((function(t){return e.control.disabled})),Object(B.a)(this.control.disabled),Object(F.a)())},e.prototype.ngOnDestroy=function(){this.adamConfig$.complete(),this.items$.complete(),this.subscription.unsubscribe()},e.prototype.addFolder=function(){var e=this;if(!this.control.disabled){var t=window.prompt("Please enter a folder name");t&&this.adamService.addFolder(t,this.url,this.adamConfig$.value).subscribe((function(t){e.fetchItems()}))}},e.prototype.del=function(e){var t=this;this.control.disabled||window.confirm("Are you sure you want to delete this item?")&&this.adamService.deleteItem(e,this.url,this.adamConfig$.value).subscribe((function(e){t.fetchItems()}))},e.prototype.editItemMetadata=function(e){this.editRoutingService.open(this.config.field.index,this.config.entity.entityGuid,{items:[0===e.MetadataId?{ContentTypeName:e._metadataContentType,For:{Target:Q.a.metadata.cmsObject.target,String:("folder"===e.Type?"folder":"file")+":"+e.Id}}:{EntityId:e.MetadataId}]})},e.prototype.goUp=function(){var e=this.adamConfig$.value.subfolder;e=e.includes("/")?e.slice(0,e.lastIndexOf("/")):"",this.config.adam.setConfig({subfolder:e})},e.prototype.getMetadataContentType=function(e){var t;return"folder"===e.Type?(t=this.adamConfig$.value.metadataContentTypes.match(/^(folder)(:)([^\n]*)/im))?t[3]:null:(t=this.adamConfig$.value.metadataContentTypes.match(/^([^:\n]*)(\n|$)/im))?t[1]:null},e.prototype.goIntoFolder=function(e){var t=this.adamConfig$.value.subfolder;this.config.adam.setConfig({subfolder:t=t?t+"/"+e.Name:e.Name})},e.prototype.openUploadClick=function(e){this.openUpload.emit()},e.prototype.rename=function(e){var t=this;if(!this.control.disabled){var n=window.prompt("Rename the file / folder to: ",e.Name);n&&this.adamService.rename(e,n,this.url,this.adamConfig$.value).subscribe((function(e){t.fetchItems()}))}},e.prototype.select=function(e){!this.control.disabled&&this.adamConfig$.value.enableSelect&&this.config.adam.onItemClick(e)},e.prototype.fetchItems=function(){var e=this,t=this.adamConfig$.value;null!=t&&t.autoLoad&&this.adamService.getAll(this.url,t).subscribe((function(n){var o,a,r=[],c=t.fileFilter?t.fileFilter.split(",").map((function(e){return e.replace("*","").trim()})):[];try{for(var s=Object(i.i)(n),l=s.next();!l.done;l=s.next()){var d=l.value;if("."!==d.Name){if("2sxc"!==d.Name&&"adam"!==d.Name&&(d.IsFolder||!t.showImagesOnly||"image"===d.Type)&&(!d.IsFolder||!t.maxDepthReached)){if(c.length>0){var u=d.Name.substring(d.Name.lastIndexOf("."));if(!c.includes(u))continue}d._metadataContentType=e.getMetadataContentType(d),d._icon=e.fileTypeService.getIconClass(d.Name),d._isMaterialIcon=e.fileTypeService.isKnownType(d.Name),d._displaySize=(d.Size/1024).toFixed(0),r.push(d)}}else{var p=d.AllowEdit;p!==t.allowEdit&&e.config.adam.setConfig({allowEdit:p})}}}catch(f){o={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}r.sort((function(e,t){return e.Name.toLocaleLowerCase().localeCompare(t.Name.toLocaleLowerCase())})),r.sort((function(e,t){return t.IsFolder.toString().localeCompare(e.IsFolder.toString())})),e.items$.next(r)}))},e.prototype.toggle=function(e,t){var n=Object(i.a)(Object(i.a)({},this.adamConfig$.value),{usePortalRoot:e,showImagesOnly:t});JSON.stringify(n)===JSON.stringify(this.adamConfig$.value)?n.autoLoad=!n.autoLoad:n.autoLoad||(n.autoLoad=!0),this.config.adam.setConfig(n)},e.prototype.trackByFn=function(e,t){return t.Id},e.prototype.setConfig=function(e){var t,n,o=this.config.field.isExternal,a=null!=this.adamConfig$.value?this.adamConfig$.value:new R(o),r=new R(o),c=Object.keys(r);try{for(var s=Object(i.i)(c),l=s.next();!l.done;l=s.next()){var d=l.value;r[d]=null!=e[d]?e[d]:a[d]}}catch(m){t={error:m}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}if(a.usePortalRoot!==r.usePortalRoot&&(r.subfolder=""),r.usePortalRoot&&(r.rootSubfolder.includes("\\")&&(r.rootSubfolder=r.rootSubfolder.replace(/\\/g,"/")),r.rootSubfolder.startsWith("/")&&(r.rootSubfolder=r.rootSubfolder.replace("/","")),!r.subfolder.startsWith(r.rootSubfolder)&&(r.subfolder=r.rootSubfolder),r.maxDepthReached=!1),!r.usePortalRoot)if((r.subfolder?r.subfolder.split("/").length:0)>=r.folderDepth){var u=r.subfolder.split("/");u=u.slice(0,r.folderDepth),r.subfolder=u.join("/"),r.maxDepthReached=!0}else r.maxDepthReached=!1;this.adamConfig$.next(r);var p=this.config.dropzone.getConfig(),f={},g=G.a.getUrlParams(p.url);if((g.subfolder||"")!==r.subfolder||g.usePortalRoot!==r.usePortalRoot.toString()){var b=p.url;b=G.a.replaceUrlParam(b,"subfolder",r.subfolder),b=G.a.replaceUrlParam(b,"usePortalRoot",r.usePortalRoot.toString()),f.url=b}var h=!r.allowEdit||(""===r.subfolder||r.usePortalRoot&&r.subfolder===r.rootSubfolder)&&!r.allowAssetsInRoot;p.disabled!==h&&(f.disabled=h),Object.keys(f).length>0&&this.config.dropzone.setConfig(f)},e.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.editRoutingService.childFormClosed().subscribe((function(t){e.fetchItems()})))},e.\u0275fac=function(t){return new(t||e)(P.Qb(N.a),P.Qb(U.a),P.Qb(K),P.Qb(X.a),P.Qb(D.a),P.Qb(Z.a),P.Qb(P.z))},e.\u0275cmp=P.Kb({type:e,selectors:[["adam-browser"]],inputs:{config:"config",group:"group"},outputs:{openUpload:"openUpload"},decls:3,vars:8,consts:[[4,"ngIf"],[1,"dropzone"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","dz-preview dropzone-adam",3,"matTooltip","click",4,"ngIf"],["appPasteClipboardImage","","class","dz-preview dropzone-adam paste-image",3,"config","elementType","matTooltip",4,"ngIf"],["class","dz-preview",3,"matTooltip","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"dz-preview","dropzone-adam",3,"matTooltip","click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","appleFilled",4,"ngIf"],["svgIcon","appleFilled"],["appPasteClipboardImage","",1,"dz-preview","dropzone-adam","paste-image",3,"config","elementType","matTooltip"],["pasteDiv",""],["class","adam-upload-label",4,"ngIf"],[1,"dz-preview",3,"matTooltip","click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],["appClickStopPropagation","","class","adam-delete-button",3,"matTooltip","ngClass","click",4,"ngIf"],["appClickStopPropagation","","class","adam-rename-button",3,"matTooltip","ngClass","click",4,"ngIf"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["class","adam-tag","appClickStopPropagation","",3,"ngClass","matTooltip","click",4,"ngIf"],["appClickStopPropagation","",1,"adam-delete-button",3,"matTooltip","ngClass","click"],["appClickStopPropagation","",1,"adam-rename-button",3,"matTooltip","ngClass","click"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","matTooltip","click"],[1,"dz-preview",3,"ngClass","click"],["class","dz-image adam-blur adam-browse-background-icon adam-browse-background",4,"ngIf"],["class","dz-image adam-browse-background-image",4,"ngIf"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],[3,"matTooltip"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"],[1,"dz-image","adam-browse-background-image"],["data-dz-thumbnail","",3,"alt","src"]],template:function(e,t){1&e&&(P.Oc(0,je,4,4,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,Ve,P.kc(1,1,t.adamConfig$),P.kc(2,3,t.disabled$)))},directives:[Y.m,Y.k,J.a,Y.l,ee.a,te.a,ne,ie.a],pipes:[Y.b,oe.d],styles:['.metadata-exists[_ngcontent-%COMP%]{color:#0088f4}.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .adam-tag[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{font-size:large;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{left:4px;color:rgba(0,0,0,.9)}.adam-delete-button[_ngcontent-%COMP%], .adam-link-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{right:4px;cursor:pointer;font-weight:700}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#0088f4}.adam-button-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24);cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0}.dz-details[_ngcontent-%COMP%], .dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text}.adam-short-label[_ngcontent-%COMP%], .adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.8);border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before, .mce-ico[class^=icon-][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.dropzone.dz-drag-hover[_ngcontent-%COMP%], .eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069bf;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone-previews[_ngcontent-%COMP%]{margin:5px -5px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(180deg,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:rgba(0,0,0,.9);line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,78.4%,.8);background-color:hsla(0,0%,100%,.8)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.4);padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);-webkit-filter:blur(8px);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{-webkit-animation:passing-through 3s cubic-bezier(.77,0,.175,1);animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;-webkit-animation:slide-in 3s cubic-bezier(.77,0,.175,1);animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{-webkit-animation:pulse 6s ease infinite;animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:hsla(0,0%,100%,.9);-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(180deg,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(180deg,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}'],data:{animation:[Object(A.n)("adamShowAnimate",[Object(A.k)("closed",Object(A.l)({height:"0",overflow:"hidden"})),Object(A.k)("open",Object(A.l)({height:"*",overflow:"hidden"})),Object(A.m)("closed => open",[Object(A.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]},changeDetection:0}),e}(),Ee=n("obyE"),Be=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Kb({type:e,selectors:[["adam-hint"]],decls:18,vars:9,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1",1,"adam-link",3,"matTooltip"],["svgIcon","appleFilled"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(e,t){1&e&&(P.Rb(0,"mat-divider"),P.Wb(1,"div",0),P.Wb(2,"div",1),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Wb(5,"div",2),P.Wb(6,"a",3),P.jc(7,"translate"),P.Rb(8,"mat-icon",4),P.Wb(9,"span"),P.Qc(10,"Adam"),P.Vb(),P.Vb(),P.Qc(11," \xa0 "),P.Wb(12,"span"),P.Qc(13),P.jc(14,"translate"),P.Vb(),P.Qc(15," \xa0 "),P.Wb(16,"a",5),P.Qc(17,"2sic.com"),P.Vb(),P.Vb(),P.Vb()),2&e&&(P.Bb(3),P.Rc(P.kc(4,3,"Fields.Hyperlink.AdamFileManager.Hint")),P.Bb(3),P.oc("matTooltip",P.kc(7,5,"Fields.Hyperlink.AdamFileManager.SponsorTooltip")),P.Bb(7),P.Rc(P.kc(14,7,"Fields.Hyperlink.AdamFileManager.SponsorLine")))},directives:[Ee.a,ee.a,te.a],pipes:[oe.d],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:rgba(29,39,61,.44);display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"],changeDetection:0}),e}(),Fe=["fieldComponent"],Le=["invisibleClickable"],De=function(e,t){return{"adam-browser-container--short u-hide-scrollbar":e,"u-display-none":t}},We=function(e){return{"u-display-none":e}},ze=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.adamDisabled$=new a.a(!0),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.fullscreenAdam=this.config.field.inputType===E.a.HyperlinkLibrary},t.prototype.ngAfterViewInit=function(){var e=this;this.subscription.add(this.config.adam.getConfig$().subscribe((function(t){null!=t&&e.adamDisabled$.next(t.disabled)})))},t.prototype.ngOnDestroy=function(){this.adamDisabled$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.openUpload=function(){this.invisibleClickableRef.nativeElement.click()},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-adam-attach-wrapper"]],viewQuery:function(e,t){var n;1&e&&(P.Lc(Fe,!0,P.O),P.Wc(Le,!0)),2&e&&(P.Cc(n=P.fc())&&(t.fieldComponent=n.first),P.Cc(n=P.fc())&&(t.invisibleClickableRef=n.first))},features:[P.yb],decls:13,vars:21,consts:[[1,"adam-dialog-container"],[1,"adam-dialog-content"],["fieldComponent",""],[1,"u-shadow-top",3,"config","group","ngClass","openUpload"],[3,"ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],["invisibleClickable",""],[1,"field-hints",3,"ngClass"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.Wb(1,"div",1),P.Sb(2,null,2),P.Vb(),P.Wb(4,"adam-browser",3),P.ec("openUpload",(function(){return t.openUpload()})),P.jc(5,"async"),P.Vb(),P.Wb(6,"div",4),P.jc(7,"async"),P.Rb(8,"div",5),P.Rb(9,"span",6,7),P.Vb(),P.Rb(11,"adam-hint",8),P.jc(12,"async"),P.Vb()),2&e&&(P.Bb(4),P.oc("config",t.config)("group",t.group)("ngClass",P.uc(14,De,!t.fullscreenAdam,P.kc(5,8,t.adamDisabled$))),P.Bb(2),P.Db("field-"+t.config.field.index),P.oc("ngClass",P.tc(17,We,P.kc(7,10,t.adamDisabled$))),P.Bb(5),P.oc("ngClass",P.tc(19,We,P.kc(12,12,t.adamDisabled$))))},directives:[$e,Y.k,J.a,Be],pipes:[Y.b],styles:[".adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}"],changeDetection:0}),t}(z),Ae=n("oi6A"),Re=["fieldComponent"],Qe=function(e){return{display:e}},Ge=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.collapse$=new a.a(!0),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){this.collapse$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleCollapse=function(){this.collapse$.next(!this.collapse$.value)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-collapsible-field-wrapper"]],viewQuery:function(e,t){var n;1&e&&P.Lc(Re,!0,P.O),2&e&&P.Cc(n=P.fc())&&(t.fieldComponent=n.first)},features:[P.yb],decls:14,vars:14,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"mat-card-header-group-child"],["fxFlex","auto","fxLayoutAlign","start center",1,"mat-caption",3,"click"],["fxLayoutAlign","start center",1,"mat-caption","field-title"],[2,"padding-top","8px",3,"ngStyle"],["fieldComponent",""]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.Wb(1,"div",1),P.ec("click",(function(){return t.toggleCollapse()})),P.Wb(2,"div",2),P.Wb(3,"mat-icon"),P.Qc(4),P.jc(5,"async"),P.Vb(),P.Wb(6,"span"),P.Qc(7),P.jc(8,"async"),P.jc(9,"async"),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Wb(10,"div",3),P.jc(11,"async"),P.Sb(12,null,4),P.Vb()),2&e&&(P.Bb(4),P.Sc(" ",P.kc(5,4,t.collapse$)?"keyboard_arrow_down":"keyboard_arrow_up",""),P.Bb(3),P.Tc("",P.kc(8,6,t.label$),"\xa0",P.kc(9,8,t.required$)?"*":"",""),P.Bb(3),P.oc("ngStyle",P.tc(12,Qe,P.kc(11,10,t.collapse$)?"none":"block")))},directives:[Ae.c,Ae.b,Ae.a,te.a,Y.n,J.c],pipes:[Y.b],styles:[".mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;margin-right:8px}.field-title[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t}(z),Ne=n("qRWW"),Ue=n("DHBU"),qe=n("ywpU"),He=n("C+g0"),Ke=function(e){function t(t){return e.call(this,"ContentType",t)||this}return Object(i.d)(t,e),t.prototype.addContentTypes=function(e){var t=e.map((function(e){return He.a.create(e)}));this.addManyToCache(t)},t.prototype.getContentTypeById=function(e){return this.entities$.pipe(Object(O.a)((function(t){return t.find((function(t){return t.contentType.id===e}))})))},t.\u0275fac=function(e){return new(e||t)(P.ac(q.b))},t.\u0275prov=P.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(q.a),Xe=n("Bata"),Ze=n("F7GT"),Ye=n("DHAC"),Je=n("CYhr");function et(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Je.a;++t<n;)this.add(e[t])}et.prototype.add=et.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},et.prototype.has=function(e){return this.__data__.has(e)};var tt=et,nt=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},it=function(e,t,n,i,o,a){var r=1&n,c=e.length,s=t.length;if(c!=s&&!(r&&s>c))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var d=-1,u=!0,p=2&n?new tt:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var f=e[d],g=t[d];if(i)var b=r?i(g,f,d,t,e,a):i(f,g,d,e,t,a);if(void 0!==b){if(b)continue;u=!1;break}if(p){if(!nt(t,(function(e,t){if(!p.has(t)&&(f===e||o(f,e,n,i,a)))return p.push(t)}))){u=!1;break}}else if(f!==g&&!o(f,g,n,i,a)){u=!1;break}}return a.delete(e),a.delete(t),u},ot=n("GAvS"),at=n("mY74"),rt=n("HVAe"),ct=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},st=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},lt=ot.a?ot.a.prototype:void 0,dt=lt?lt.valueOf:void 0,ut=n("BaCy"),pt=Object.prototype.hasOwnProperty,ft=n("EaxY"),gt=n("SEb4"),bt=n("TPB+"),ht=n("HuQ3"),mt="[object Object]",vt=Object.prototype.hasOwnProperty,yt=n("gfy7"),wt=function(e,t){return function e(t,n,i,o,a){return t===n||(null==t||null==n||!Object(yt.a)(t)&&!Object(yt.a)(n)?t!=t&&n!=n:function(e,t,n,i,o,a){var r=Object(gt.a)(e),c=Object(gt.a)(t),s=r?"[object Array]":Object(ft.a)(e),l=c?"[object Array]":Object(ft.a)(t),d=(s="[object Arguments]"==s?mt:s)==mt,u=(l="[object Arguments]"==l?mt:l)==mt,p=s==l;if(p&&Object(bt.a)(e)){if(!Object(bt.a)(t))return!1;r=!0,d=!1}if(p&&!d)return a||(a=new Ye.a),r||Object(ht.a)(e)?it(e,t,n,i,o,a):function(e,t,n,i,o,a,r){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new at.a(e),new at.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(rt.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=ct;case"[object Set]":if(c||(c=st),e.size!=t.size&&!(1&i))return!1;var s=r.get(e);if(s)return s==t;i|=2,r.set(e,t);var l=it(c(e),c(t),i,o,a,r);return r.delete(e),l;case"[object Symbol]":if(dt)return dt.call(e)==dt.call(t)}return!1}(e,t,s,n,i,o,a);if(!(1&n)){var f=d&&vt.call(e,"__wrapped__"),g=u&&vt.call(t,"__wrapped__");if(f||g){var b=f?e.value():e,h=g?t.value():t;return a||(a=new Ye.a),o(b,h,n,i,a)}}return!!p&&(a||(a=new Ye.a),function(e,t,n,i,o,a){var r=1&n,c=Object(ut.a)(e),s=c.length;if(s!=Object(ut.a)(t).length&&!r)return!1;for(var l=s;l--;){var d=c[l];if(!(r?d in t:pt.call(t,d)))return!1}var u=a.get(e);if(u&&a.get(t))return u==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=r;++l<s;){var g=e[d=c[l]],b=t[d];if(i)var h=r?i(b,g,d,t,e,a):i(g,b,d,e,t,a);if(!(void 0===h?g===b||o(g,b,n,i,a):h)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var m=e.constructor,v=t.constructor;m!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,i,o,a))}(t,n,i,o,e,a))}(e,t)},Ct=n("nwk6"),_t=n("BLjT"),Ot=n("3riI"),xt=function(){function e(){}return e.Translate="translate",e.DontTranslate="dontTranslate",e.MissingDefaultLangValue="missingDefaultLangValue",e.LinkReadOnly="linkReadOnly",e.LinkReadWrite="linkReadWrite",e.LinkCopyFrom="linkCopyFrom",e}(),kt=function(){function e(){}return e.NoTranslate="NoTranslate",e.FromPrimary="FromPrimary",e.FromOther="FromOther",e.LinkReadOnly="LinkReadOnly",e.LinkShared="LinkShared",e}(),Mt=n("+Isi"),It=n("t4s+"),St=n("9HSk"),Tt=n("OeRG");function Pt(e,t){1&e&&P.Sb(0)}function jt(e,t){1&e&&P.Sb(0)}function Vt(e,t){1&e&&P.Sb(0)}function $t(e,t){1&e&&P.Sb(0)}function Et(e,t){1&e&&P.Sb(0)}var Bt=function(e){return{"mat-list-item-focus":e}},Ft=function(e){return{primary:e}};function Lt(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-list-item",11),P.ec("click",(function(){P.Fc(n);var e=t.i18nKey;return P.ic(2).select(e)})),P.Wb(1,"mat-icon",12),P.Qc(2),P.Vb(),P.Wb(3,"div",13),P.Qc(4),P.jc(5,"translate"),P.Vb(),P.Wb(6,"div",14),P.Qc(7),P.jc(8,"translate"),P.Vb(),P.Vb()}if(2&e){var i=t.icon,o=t.link,a=t.i18nKey,r=P.ic().ngIf,c=P.ic();P.oc("ngClass",P.tc(10,Bt,r.selected.linkType===o)),P.Bb(2),P.Rc(i),P.Bb(2),P.Sc(" ",P.lc(5,4,"LangMenu.Dialog."+a+".Title",P.tc(12,Ft,c.dialogData.defaultLanguage)),""),P.Bb(3),P.Sc(" ",P.lc(8,7,"LangMenu.Dialog."+a+".Body",P.tc(14,Ft,c.dialogData.defaultLanguage)),"")}}var Dt=function(e,t){return{"mat-list-item-focus":e,"mat-list-item--disabled":t}};function Wt(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",16),P.ec("click",(function(){P.Fc(n);var e=t.$implicit;return P.ic(3).selectLanguage(e.key)})),P.Wb(1,"mat-icon",12),P.Qc(2,"language"),P.Vb(),P.Qc(3),P.Vb()}if(2&e){var i=t.$implicit,o=P.ic(2).ngIf,a=P.ic();P.oc("disabled",a.isLanguageDisabled(i.key))("ngClass",P.uc(3,Dt,o.selected.language===i.key,a.isLanguageDisabled(i.key))),P.Bb(3),P.Sc(" ",i.key," ")}}function zt(e,t){if(1&e&&(P.Wb(0,"div"),P.Wb(1,"div",2),P.Wb(2,"div",3),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Wb(5,"div",4),P.Qc(6),P.jc(7,"translate"),P.Vb(),P.Vb(),P.Wb(8,"mat-action-list"),P.Oc(9,Wt,4,6,"button",15),P.Vb(),P.Vb()),2&e){var n=P.ic().ngIf;P.Bb(3),P.Sc(" ",P.kc(4,3,n.i18nRoot+".Subtitle")," "),P.Bb(3),P.Sc(" ",P.kc(7,5,"LangMenu.Dialog.PickLanguageIntro")," "),P.Bb(3),P.oc("ngForOf",n.languages)}}var At=function(e){return{name:e}},Rt=function(e,t){return{link:e,icon:"lock",i18nKey:t}},Qt=function(e,t){return{link:e,icon:"lock_open",i18nKey:t}},Gt=function(e,t){return{link:e,icon:"translate",i18nKey:t}},Nt=function(e,t){return{link:e,icon:"link",i18nKey:t}},Ut=function(e,t){return{link:e,icon:"share",i18nKey:t}};function qt(e,t){if(1&e&&(P.Wb(0,"mat-card",1),P.Wb(1,"div",2),P.Wb(2,"div",3),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Wb(5,"div",4),P.Qc(6),P.jc(7,"translate"),P.Vb(),P.Vb(),P.Wb(8,"mat-nav-list",5),P.Oc(9,Pt,1,0,"ng-container",6),P.Oc(10,jt,1,0,"ng-container",6),P.Oc(11,Vt,1,0,"ng-container",6),P.Oc(12,$t,1,0,"ng-container",6),P.Oc(13,Et,1,0,"ng-container",6),P.Vb(),P.Oc(14,Lt,9,16,"ng-template",null,7,P.Pc),P.Oc(16,zt,10,7,"div",8),P.Wb(17,"mat-dialog-actions",9),P.Wb(18,"button",10),P.Qc(19,"OK"),P.Vb(),P.Vb(),P.Vb()),2&e){var n=t.ngIf,i=P.Dc(15),o=P.ic();P.Bb(3),P.Sc(" ",P.lc(4,15,"LangMenu.Dialog.Title",P.tc(20,At,o.dialogData.attributeKey))," "),P.Bb(3),P.Sc(" ",P.kc(7,18,"LangMenu.Dialog.Intro")," "),P.Bb(3),P.oc("ngTemplateOutlet",i)("ngTemplateOutletContext",P.uc(22,Rt,o.TranslationLinks.DontTranslate,o.I18nKeys.NoTranslate)),P.Bb(1),P.oc("ngTemplateOutlet",i)("ngTemplateOutletContext",P.uc(25,Qt,o.TranslationLinks.Translate,o.I18nKeys.FromPrimary)),P.Bb(1),P.oc("ngTemplateOutlet",i)("ngTemplateOutletContext",P.uc(28,Gt,o.TranslationLinks.LinkCopyFrom,o.I18nKeys.FromOther)),P.Bb(1),P.oc("ngTemplateOutlet",i)("ngTemplateOutletContext",P.uc(31,Nt,o.TranslationLinks.LinkReadOnly,o.I18nKeys.LinkReadOnly)),P.Bb(1),P.oc("ngTemplateOutlet",i)("ngTemplateOutletContext",P.uc(34,Ut,o.TranslationLinks.LinkReadWrite,o.I18nKeys.LinkShared)),P.Bb(3),P.oc("ngIf",n.showLanguages),P.Bb(2),P.oc("disabled",o.isOkDisabled(n.selected))("mat-dialog-close",n.selected)}}var Ht=function(e,t,n,i){return{languages:e,selected:t,showLanguages:n,i18nRoot:i}},Kt=function(){function e(e,t,n){this.dialogData=e,this.languageService=t,this.languageInstanceService=n,this.TranslationLinks=xt,this.I18nKeys=kt,this.selected$=new a.a(Object(i.a)({},this.dialogData)),this.showLanguages$=new a.a(""!==this.dialogData.language);var o=function(e){switch(e){case xt.Translate:return kt.FromPrimary;case xt.DontTranslate:return kt.NoTranslate;case xt.LinkReadOnly:return kt.LinkReadOnly;case xt.LinkReadWrite:return kt.LinkShared;case xt.LinkCopyFrom:return kt.FromOther}}(this.dialogData.linkType);this.i18nRoot$=new a.a("LangMenu.Dialog."+o)}return e.prototype.ngOnInit=function(){this.languages$=Object(Ot.a)([this.languageService.entities$,this.languageInstanceService.getCurrentLanguage(this.dialogData.formId)]).pipe(Object(O.a)((function(e){var t=e[1];return e[0].filter((function(e){return e.key!==t}))})))},e.prototype.ngOnDestroy=function(){this.selected$.complete(),this.showLanguages$.complete(),this.i18nRoot$.complete()},e.prototype.select=function(e){var t=e!==kt.FromPrimary&&e!==kt.NoTranslate,n=Object(i.a)({},this.selected$.value);t||(n.language=""),n.linkType=function(e){switch(e){case kt.FromPrimary:return xt.Translate;case kt.NoTranslate:return xt.DontTranslate;case kt.LinkReadOnly:return xt.LinkReadOnly;case kt.LinkShared:return xt.LinkReadWrite;case kt.FromOther:return xt.LinkCopyFrom}}(e),this.showLanguages$.next(t),this.selected$.next(n),this.i18nRoot$.next("LangMenu.Dialog."+e)},e.prototype.selectLanguage=function(e){this.selected$.next(Object(i.a)(Object(i.a)({},this.selected$.value),{language:e}))},e.prototype.isOkDisabled=function(e){return""===e.language&&e.linkType!==xt.Translate&&e.linkType!==xt.DontTranslate},e.prototype.isLanguageDisabled=function(e){return!this.dialogData.attributes||!Ne.a.isEditableTranslationExist(this.dialogData.attributes[this.dialogData.attributeKey],e,this.dialogData.defaultLanguage)},e.\u0275fac=function(t){return new(t||e)(P.Qb(_t.a),P.Qb(Mt.a),P.Qb(qe.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-link-to-other-language"]],decls:5,vars:14,consts:[["class","link-other-lang-container u-hide-scrollbar",4,"ngIf"],[1,"link-other-lang-container","u-hide-scrollbar"],[1,"mat-card__header"],[1,"mat-card__title"],[1,"mat-card__description"],["toggle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["item",""],[4,"ngIf"],["fxLayoutAlign","end center"],["mat-button","","color","accent",3,"disabled","mat-dialog-close"],[3,"ngClass","click"],["matListIcon","","color","accent"],["matLine","",1,"mat-list-item__title"],["matLine","",1,"mat-list-item__body"],["mat-list-item","",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["mat-list-item","",3,"disabled","ngClass","click"]],template:function(e,t){1&e&&(P.Oc(0,qt,20,37,"mat-card",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async")),2&e&&P.oc("ngIf",P.wc(9,Ht,P.kc(1,1,t.languages$),P.kc(2,3,t.selected$),P.kc(3,5,t.showLanguages$),P.kc(4,7,t.i18nRoot$)))},directives:[Y.m,Xe.a,It.e,Y.r,_t.c,Ae.b,St.a,_t.d,It.c,Y.k,J.a,te.a,It.b,Tt.i,It.a,Y.l],pipes:[Y.b,oe.d],styles:[".link-other-lang-container[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.mat-list-item-focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.mat-list-item--disabled[_ngcontent-%COMP%]{cursor:default;color:rgba(29,39,61,.24)}"],changeDetection:0}),e}(),Xt=function(){function e(){}return e.calculateSharedInfoMessage=function(t,n){t=e.calculateShortDimensions(t,n);var i=e.calculateEditAndReadDimensions(t),o=i.editableDimensions,a=i.readOnlyDimensions,r="",c=o.length>0,s=a.length>0;return c&&s?r=o.join(", ")+", ("+a.join(", ")+")":c?r=o.join(", "):s&&(r="("+a.join(", ")+")"),r},e.calculateShortDimensions=function(e,t){var n={},i=t.slice(0,t.indexOf("-"));return n[i]=[],n[i].push(i),e.forEach((function(e){var t=e.slice(0,e.indexOf("-")).replace("~","");n[t]?n[t].push(e):(n[t]=[],n[t].push(e))})),e.map((function(e){var t=e.slice(0,e.indexOf("-")),i=t.replace("~","");return n[i].length>1?e:t}))},e.calculateEditAndReadDimensions=function(e){var t=[],n=[];return e.forEach((function(e){e.includes("~")?n.push(e.replace("~","")):t.push(e)})),{editableDimensions:t,readOnlyDimensions:n}},e}(),Zt=n("9LM3"),Yt=n("C8ME"),Jt=function(e){return{"menu-item-selected":e}};function en(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",2),P.Wb(1,"button",3),P.Wb(2,"span",2),P.Qc(3),P.jc(4,"translate"),P.Wb(5,"mat-icon",4),P.Qc(6,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Wb(7,"mat-menu",5,6),P.Wb(9,"button",7),P.ec("click",(function(){return P.Fc(n),P.ic(3).translateAll()})),P.Qc(10),P.jc(11,"translate"),P.Vb(),P.Wb(12,"button",7),P.ec("click",(function(){return P.Fc(n),P.ic(3).dontTranslateAll()})),P.Qc(13),P.jc(14,"translate"),P.Vb(),P.Wb(15,"button",7),P.ec("click",(function(){return P.Fc(n),P.ic(3).openLinkToOtherLanguage()})),P.Qc(16),P.jc(17,"translate"),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=P.Dc(8),o=P.ic(2).ngIf,a=P.ic();P.Bb(1),P.oc("matMenuTriggerFor",i),P.Bb(2),P.Sc(" ",P.kc(4,9,"LangMenu.Translate").toUpperCase()," \xa0\xa0 "),P.Bb(4),P.oc("overlapTrigger",!0),P.Bb(2),P.oc("ngClass",P.tc(17,Jt,o.translationState.linkType===a.translationLinkConstants.Translate)),P.Bb(1),P.Sc(" ",P.kc(11,11,"LangMenu.TranslateAll")," "),P.Bb(2),P.oc("ngClass",P.tc(19,Jt,o.translationState.linkType===a.translationLinkConstants.DontTranslate)),P.Bb(1),P.Sc(" ",P.kc(14,13,"LangMenu.NoTranslateAll")," "),P.Bb(2),P.oc("ngClass",P.tc(21,Jt,""!==o.translationState.language)),P.Bb(1),P.Sc(" ",P.kc(17,15,"LangMenu.Link")," ")}}var tn=function(e){return{"shared-languages--disabled":e}},nn=function(e){return{languages:e}};function on(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",2),P.Wb(1,"div",8),P.Wb(2,"div",9),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Wb(5,"button",10),P.Wb(6,"mat-icon",4),P.Qc(7,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Wb(8,"mat-menu",5,11),P.Wb(10,"button",7),P.ec("click",(function(){P.Fc(n);var e=P.ic(3);return e.translateUnlink(e.config.field.name)})),P.Qc(11),P.jc(12,"translate"),P.Vb(),P.Wb(13,"button",7),P.ec("click",(function(){P.Fc(n);var e=P.ic(3);return e.linkToDefault(e.config.field.name)})),P.Qc(14),P.jc(15,"translate"),P.Vb(),P.Wb(16,"button",7),P.ec("click",(function(){return P.Fc(n),P.ic(3).openLinkToOtherLanguage()})),P.Qc(17),P.jc(18,"translate"),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=P.Dc(9),o=P.ic(2).ngIf,a=P.ic();P.Bb(1),P.oc("ngClass",a.getTranslationStateClass(o.translationState.linkType)),P.Bb(1),P.oc("ngClass",P.tc(21,tn,o.disabled)),P.Bb(1),P.Sc(" ",o.infoMessageLabel?P.lc(4,12,o.infoMessageLabel,P.tc(23,nn,o.infoMessage)):"",""),P.Bb(2),P.oc("disabled",a.fieldConfig.disableI18n||o.defaultLanguageMissingValue)("matMenuTriggerFor",i),P.Bb(3),P.oc("overlapTrigger",!0),P.Bb(2),P.oc("ngClass",P.tc(25,Jt,o.translationState.linkType===a.translationLinkConstants.Translate)),P.Bb(1),P.Sc(" ",P.kc(12,15,"LangMenu.Translate")," "),P.Bb(2),P.oc("ngClass",P.tc(27,Jt,o.translationState.linkType===a.translationLinkConstants.DontTranslate)),P.Bb(1),P.Sc(" ",P.kc(15,17,"LangMenu.NoTranslate")," "),P.Bb(2),P.oc("ngClass",P.tc(29,Jt,""!==o.translationState.language)),P.Bb(1),P.Sc(" ",P.kc(18,19,"LangMenu.Link")," ")}}function an(e,t){if(1&e&&(P.Ub(0),P.Oc(1,en,18,23,"div",1),P.Oc(2,on,19,31,"div",1),P.Tb()),2&e){var n=P.ic(2);P.Bb(1),P.oc("ngIf",n.fieldConfig.isParentGroup),P.Bb(1),P.oc("ngIf",!n.fieldConfig.isParentGroup)}}function rn(e,t){if(1&e&&(P.Ub(0),P.Oc(1,an,3,2,"ng-container",0),P.Tb()),2&e){var n=t.ngIf;P.Bb(1),P.oc("ngIf",n.currentLanguage!==n.defaultLanguage)}}var cn=function(e,t,n,i,o,a,r){return{currentLanguage:e,defaultLanguage:t,translationState:n,disabled:i,defaultLanguageMissingValue:o,infoMessage:a,infoMessageLabel:r}},sn=function(){function e(e,t,n,i,o,r){this.dialog=e,this.languageInstanceService=t,this.itemService=n,this.inputTypeService=i,this.contentTypeService=o,this.eavService=r,this.translationLinkConstants=xt,this.currentLanguage="",this.defaultLanguage="",this.defaultLanguageMissingValue$=new a.a(!1),this.headerGroupSlotIsEmpty=!1,this.translationState$=new a.a({formId:null,linkType:"",language:""}),this.infoMessage$=new a.a(""),this.infoMessageLabel$=new a.a(""),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.fieldConfig=this.config.field,this.control=this.group.controls[this.config.field.name],this.disabled$=this.fieldConfig.isParentGroup?Object(w.a)(!1):this.eavService.formDisabledChange$.asObservable().pipe(Object(k.a)((function(t){return t.formId===e.config.form.formId&&t.entityGuid===e.config.entity.entityGuid})),Object(O.a)((function(t){return e.control.disabled})),Object(B.a)(this.control.disabled),Object(F.a)()),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.attributes$=this.itemService.selectAttributesByEntityId(this.config.entity.entityId,this.config.entity.entityGuid),this.subscribeToAttributeValues(),this.subscribeMenuChange(),this.subscribeToItemFromStore(),this.subscribeToContentTypeFromStore(),this.subscribeToCurrentLanguageFromStore(),this.subscribeToDefaultLanguageFromStore(),this.subscribeToEntityHeaderFromStore()},e.prototype.ngOnChanges=function(e){null!=e.toggleTranslateField&&this.currentLanguage!==this.defaultLanguage&&this.control.disabled&&this.translateUnlink(this.config.field.name)},e.prototype.ngOnDestroy=function(){this.defaultLanguageMissingValue$.complete(),this.translationState$.complete(),this.infoMessage$.complete(),this.infoMessageLabel$.complete(),this.subscription.unsubscribe()},e.prototype.openLinkToOtherLanguage=function(){var e=this,t=this.dialog.open(Kt,{panelClass:"c-link-to-other-language",autoFocus:!1,width:"350px",data:{formId:this.config.form.formId,linkType:this.translationState$.value.linkType,language:this.translationState$.value.language,defaultLanguage:this.defaultLanguage,attributes:this.attributes,attributeKey:this.config.field.name}});t.keydownEvents().subscribe((function(e){83===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()})),t.afterClosed().subscribe((function(t){t&&e.triggerTranslation(t)}))},e.prototype.translateUnlink=function(e){if(!this.isTranslateDisabled(e)){this.itemService.removeItemAttributeDimension(this.config.entity.entityId,e,this.currentLanguage,this.config.entity.entityGuid);var t=Ne.a.getValueTranslation(this.attributes[e],this.defaultLanguage,this.defaultLanguage);if(t){var n=Ct.a.getFieldType(this.config,e);this.itemService.addAttributeValue(this.config.entity.entityId,e,t.value,this.currentLanguage,!1,this.config.entity.entityGuid,n)}else Object($.a)(this.currentLanguage+": Cant copy value from "+this.defaultLanguage+" because that value does not exist.");this.refreshControlConfig(e)}},e.prototype.linkToDefault=function(e){this.isTranslateDisabled(e)||(this.itemService.removeItemAttributeDimension(this.config.entity.entityId,e,this.currentLanguage,this.config.entity.entityGuid),this.refreshControlConfig(e))},e.prototype.translateAll=function(){var e=this;this.setTranslationState(xt.Translate,""),Object.keys(this.attributes).forEach((function(t){e.translateUnlink(t)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.dontTranslateAll=function(){var e=this;this.setTranslationState(xt.DontTranslate,""),Object.keys(this.attributes).forEach((function(t){e.linkToDefault(t)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.copyFromAll=function(e){var t=this;this.setTranslationState(xt.LinkCopyFrom,e),Object.keys(this.attributes).forEach((function(n){t.copyFrom(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.copyFrom=function(e,t){if(!this.isTranslateDisabled(t)){var n=Ne.a.getValueTranslation(this.attributes[t],e,this.defaultLanguage);n?this.attributes&&Ne.a.isEditableOrReadonlyTranslationExist(this.attributes[t],this.currentLanguage,this.defaultLanguage)?this.itemService.updateItemAttributeValue(this.config.entity.entityId,t,n.value,this.currentLanguage,this.defaultLanguage,!1,this.config.entity.entityGuid):this.itemService.addAttributeValue(this.config.entity.entityId,t,n.value,this.currentLanguage,!1,this.config.entity.entityGuid,this.config.field.type):Object($.a)(this.currentLanguage+": Cant copy value from "+e+" because that value does not exist."),this.refreshControlConfig(t)}},e.prototype.linkReadOnlyAll=function(e){var t=this;this.setTranslationState(xt.LinkReadOnly,e),Object.keys(this.attributes).forEach((function(n){t.linkReadOnly(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.linkReadOnly=function(e,t){this.isTranslateDisabled(t)||(this.setTranslationState(xt.LinkReadOnly,e),this.itemService.removeItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,this.config.entity.entityGuid),this.itemService.addItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,e,this.defaultLanguage,!0,this.config.entity.entityGuid),this.refreshControlConfig(t))},e.prototype.linkReadWriteAll=function(e){var t=this;this.setTranslationState(xt.LinkReadWrite,e),Object.keys(this.attributes).forEach((function(n){t.linkReadWrite(e,n)})),this.languageInstanceService.triggerLocalizationWrapperMenuChange()},e.prototype.linkReadWrite=function(e,t){this.isTranslateDisabled(t)||(this.setTranslationState(xt.LinkReadWrite,e),this.itemService.removeItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,this.config.entity.entityGuid),this.itemService.addItemAttributeDimension(this.config.entity.entityId,t,this.currentLanguage,e,this.defaultLanguage,!1,this.config.entity.entityGuid),this.refreshControlConfig(t))},e.prototype.getTranslationStateClass=function(e){switch(e){case xt.MissingDefaultLangValue:return"eav-localization-missing-default-lang-value";case xt.Translate:case xt.LinkCopyFrom:return"eav-localization-translate";case xt.DontTranslate:return"";case xt.LinkReadOnly:return"eav-localization-link-read-only";case xt.LinkReadWrite:return"eav-localization-link-read-write";default:return""}},e.prototype.refreshControlConfig=function(e){this.fieldConfig.isParentGroup||(this.setControlDisable(this.attributes[e],e,this.currentLanguage,this.defaultLanguage),this.readTranslationState(this.attributes[e],e,this.currentLanguage,this.defaultLanguage),this.setInfoMessage(this.attributes[e],e,this.currentLanguage,this.defaultLanguage))},e.prototype.triggerTranslation=function(e){if(!wt(this.translationState$.value,e))switch(e.linkType){case xt.Translate:this.fieldConfig.isParentGroup?this.translateAll():this.translateUnlink(this.config.field.name);break;case xt.DontTranslate:this.fieldConfig.isParentGroup?this.dontTranslateAll():this.linkToDefault(this.config.field.name);break;case xt.LinkReadOnly:this.fieldConfig.isParentGroup?this.linkReadOnlyAll(e.language):this.linkReadOnly(e.language,this.config.field.name);break;case xt.LinkReadWrite:this.fieldConfig.isParentGroup?this.linkReadWriteAll(e.language):this.linkReadWrite(e.language,this.config.field.name);break;case xt.LinkCopyFrom:this.fieldConfig.isParentGroup?this.copyFromAll(e.language):this.copyFrom(e.language,this.config.field.name)}},e.prototype.setTranslationState=function(e,t){var n=Object(i.a)(Object(i.a)({},this.translationState$.value),{linkType:e,language:t});this.translationState$.next(n)},e.prototype.setControlDisable=function(e,t,n,i){this.config.field.disabled||(this.headerGroupSlotIsEmpty?(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):n===i?(this.group.controls[t].enable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):Ne.a.translationExistsInDefault(e,i)?(this.defaultLanguageMissingValue$.next(!1),this.isTranslateDisabled(t)?(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):Ne.a.isEditableTranslationExist(e,n,i)?(this.group.controls[t].enable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid})):(Ne.a.isReadonlyTranslationExist(e,n),this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid}))):(this.group.controls[t].disable({emitEvent:!1}),this.eavService.formDisabledChange$.next({formId:this.config.form.formId,entityGuid:this.config.entity.entityGuid}),this.defaultLanguageMissingValue$.next(!0)))},e.prototype.translateAllConfiguration=function(){var e,t=Ne.a.translateSettings(this.config.field.fullSettings,this.currentLanguage,this.defaultLanguage);this.config.field.settings=t,this.config.field.label=this.config.field.settings.Name||null,this.config.field.validation=L.a.getValidations(this.config.field.settings),this.config.field.required=L.a.isRequired(this.config.field.settings),null===(e=this.config.field.settings$)||void 0===e||e.next(t)},e.prototype.subscribeToCurrentLanguageFromStore=function(){var e=this;this.subscription.add(this.currentLanguage$.subscribe((function(t){e.currentLanguage=t,e.translateAllConfiguration(),e.refreshControlConfig(e.config.field.name)})))},e.prototype.subscribeToDefaultLanguageFromStore=function(){var e=this;this.subscription.add(this.defaultLanguage$.subscribe((function(t){e.defaultLanguage=t,e.translateAllConfiguration(),e.refreshControlConfig(e.config.field.name)})))},e.prototype.subscribeToAttributeValues=function(){var e=this;this.subscription.add(this.attributes$.subscribe((function(t){e.attributes=t})))},e.prototype.subscribeToEntityHeaderFromStore=function(){var e=this;this.config.entity.header.Group&&this.config.entity.header.Group.SlotCanBeEmpty&&this.subscription.add(this.itemService.selectHeaderByEntityId(this.config.entity.entityId,this.config.entity.entityGuid).subscribe((function(t){t.Group&&!e.fieldConfig.isParentGroup&&(e.headerGroupSlotIsEmpty=t.Group.SlotIsEmpty,e.setControlDisable(e.attributes[e.config.field.name],e.config.field.name,e.currentLanguage,e.defaultLanguage))})))},e.prototype.subscribeToItemFromStore=function(){var e=this;this.subscription.add(this.itemService.selectItemById(this.config.entity.entityId).subscribe((function(t){e.item=t})))},e.prototype.subscribeToContentTypeFromStore=function(){var e=this;this.subscription.add(this.contentTypeService.getContentTypeById(null===this.item.entity.type?this.item.header.ContentTypeName:this.item.entity.type.id).subscribe((function(t){e.contentType=t})))},e.prototype.isTranslateDisabled=function(e){if(!Ne.a.translationExistsInDefault(this.attributes[e],this.defaultLanguage))return!0;var t=this.contentType.contentType.attributes.find((function(t){return t.name===e}));if(null==t)return!1;var n=Ct.a.calculateInputType(t,this.inputTypeService);return Ne.a.isI18nDisabled(this.inputTypeService,n,t.settings)},e.prototype.readTranslationState=function(e,t,n,i){if(Ne.a.translationExistsInDefault(e,i))if(this.isTranslateDisabled(t))this.setTranslationState(xt.DontTranslate,"");else if(Ne.a.isEditableTranslationExist(e,n,i)){var o=Ne.a.getValueTranslation(e,n,i).dimensions.filter((function(e){return e.value!==n}));o.length>0?this.setTranslationState(xt.LinkReadWrite,o[0].value):this.setTranslationState(xt.Translate,"")}else if(Ne.a.isReadonlyTranslationExist(e,n)){var a=Ne.a.getValueTranslation(e,n,i).dimensions.filter((function(e){return e.value!==n}));this.setTranslationState(xt.LinkReadOnly,a[0].value)}else this.setTranslationState(xt.DontTranslate,"");else this.setTranslationState(xt.MissingDefaultLangValue,"")},e.prototype.subscribeMenuChange=function(){var e=this;this.subscription.add(this.languageInstanceService.localizationWrapperMenuChange$.subscribe((function(t){e.fieldConfig.isParentGroup||e.refreshControlConfig(e.config.field.name)})))},e.prototype.setInfoMessage=function(e,t,n,i){if(this.isTranslateDisabled(t))return this.infoMessage$.next(""),void this.infoMessageLabel$.next("LangMenu.InAllLanguages");if(!Ne.a.translationExistsInDefault(e,i))return this.infoMessage$.next(i),void this.infoMessageLabel$.next("LangMenu.MissingDefaultLangValue");var o=Ne.a.isEditableTranslationExist(e,n,i),a=Ne.a.isReadonlyTranslationExist(e,n);if(o||a){var r=Ne.a.getValueTranslation(e,n,i).dimensions.map((function(e){return e.value}));(r=r.filter((function(e){return!e.includes(n)}))).length>0?(this.infoMessage$.next(Xt.calculateSharedInfoMessage(r,n)),o?this.infoMessageLabel$.next("LangMenu.In"):a&&this.infoMessageLabel$.next("LangMenu.From")):(this.infoMessage$.next(""),this.infoMessageLabel$.next(""))}else this.infoMessage$.next(""),this.infoMessageLabel$.next("LangMenu.UseDefault")},e.\u0275fac=function(t){return new(t||e)(P.Qb(_t.b),P.Qb(qe.a),P.Qb(Ue.a),P.Qb(Zt.a),P.Qb(Ke),P.Qb(D.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-translate-group-menu"]],inputs:{config:"config",group:"group",toggleTranslateField:"toggleTranslateField"},features:[P.zb],decls:8,vars:23,consts:[[4,"ngIf"],["fxLayoutAlign","end center",4,"ngIf"],["fxLayoutAlign","end center"],["mat-button","","fxLayoutAlign","end center",3,"matMenuTriggerFor"],[1,"translate-icon"],[3,"overlapTrigger"],["rootMenu","matMenu"],["mat-menu-item","",3,"ngClass","click"],["fxLayoutAlign","end center",1,"shared-languages-container",3,"ngClass"],[1,"shared-languages","mat-caption",3,"ngClass"],["mat-icon-button","",3,"disabled","matMenuTriggerFor"],["rootMenu2","matMenu"]],template:function(e,t){1&e&&(P.Oc(0,rn,2,1,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async")),2&e&&P.oc("ngIf",P.zc(15,cn,P.kc(1,1,t.currentLanguage$),P.kc(2,3,t.defaultLanguage$),P.kc(3,5,t.translationState$),P.kc(4,7,t.disabled$),P.kc(5,9,t.defaultLanguageMissingValue$),P.kc(6,11,t.infoMessage$),P.kc(7,13,t.infoMessageLabel$)))},directives:[Y.m,Ae.b,St.a,Yt.c,te.a,Yt.d,Yt.a,Y.k,J.a],pipes:[Y.b,oe.d],styles:[".menu-item-selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}.eav-localization-lock-open[_ngcontent-%COMP%]{color:green}.eav-localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.eav-localization-translate[_ngcontent-%COMP%]{color:green}.eav-localization-link-read-only[_ngcontent-%COMP%], .eav-localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-1px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:rgba(29,39,61,.44)}.shared-languages--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}"],changeDetection:0}),e}(),ln=function(){function e(e,t){this.zone=t,this.target="_blank",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular((function(){e.observer=new MutationObserver((function(t){"A"===e.element.tagName&&(o=e.element).target!==e.target&&(o.target=e.target);for(var n=e.element.getElementsByTagName("a"),i=0;i<n.length;i++){var o;(o=n[i]).target!==e.target&&(o.target=e.target)}})),e.observer.observe(e.element,{childList:!0,subtree:!0})}))},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular((function(){e.observer.disconnect()}))},e.\u0275fac=function(t){return new(t||e)(P.Qb(P.l),P.Qb(P.z))},e.\u0275dir=P.Lb({type:e,selectors:[["","appChangeAnchorTarget",""]]}),e}(),dn=n("KSFr"),un=["fieldComponent"];function pn(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-slide-toggle",14),P.ec("change",(function(){return P.Fc(n),P.ic(2).toggleSlotIsEmpty()})),P.jc(1,"translate"),P.Vb()}if(2&e){var i=P.ic().ngIf;P.oc("checked",!i.slotIsEmpty)("disabled",i.currentLanguage!==i.defaultLanguage)("matTooltip",P.kc(1,4,i.slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue"))("matTooltipDisabled",i.currentLanguage!==i.defaultLanguage)}}function fn(e,t){if(1&e&&P.Rb(0,"app-translate-group-menu",15),2&e){var n=P.ic(2);P.oc("config",n.config)("group",n.group)}}function gn(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",8),P.Wb(1,"div",9),P.ec("click",(function(){return P.Fc(n),P.ic().toggleCollapse()})),P.Wb(2,"div",10),P.Wb(3,"mat-icon"),P.Qc(4),P.Vb(),P.Wb(5,"span",11),P.Qc(6),P.jc(7,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Oc(8,pn,2,6,"mat-slide-toggle",12),P.Oc(9,fn,1,2,"app-translate-group-menu",13),P.Vb()}if(2&e){var i=t.ngIf,o=P.ic();P.oc("ngClass",o.fieldConfig.isParentGroup?"mat-card-header-group-parent":"mat-card-header-group-child"),P.Bb(2),P.oc("ngClass",o.fieldConfig.isParentGroup?"mat-display-1":"mat-body-1"),P.Bb(2),P.Sc(" ",i.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),P.Bb(2),P.Sc(" ",i.itemTitle||P.kc(7,6,"ItemCard.DefaultTitle")," "),P.Bb(2),P.oc("ngIf",i.slotCanBeEmpty),P.Bb(1),P.oc("ngIf",o.fieldConfig.isParentGroup)}}function bn(e,t){if(1&e&&(P.Wb(0,"div",16),P.Rb(1,"div",17),P.jc(2,"safeHtml"),P.jc(3,"async"),P.Vb()),2&e){var n=P.ic();P.Bb(1),P.oc("innerHtml",P.kc(2,1,P.kc(3,3,n.description$)),P.Gc)}}var hn=function(e,t,n,i,o,a){return{collapse:e,itemTitle:t,currentLanguage:n,defaultLanguage:i,slotCanBeEmpty:o,slotIsEmpty:a}},mn=function(e){return{display:e}},vn=function(){function e(e,t,n){this.itemService=e,this.languageInstanceService=t,this.contentTypeService=n,this.collapse$=new a.a(!1),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.fieldConfig=this.config.field,this.header$=this.itemService.selectHeaderByEntityId(this.config.entity.entityId,this.config.entity.entityGuid),this.collapse$.next(this.fieldConfig.settings$.value.DefaultCollapsed||!1),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.slotCanBeEmpty$=this.header$.pipe(Object(O.a)((function(e){var t;return(null===(t=null==e?void 0:e.Group)||void 0===t?void 0:t.SlotCanBeEmpty)||!1}))),this.slotIsEmpty$=this.header$.pipe(Object(O.a)((function(e){var t;return(null===(t=null==e?void 0:e.Group)||void 0===t?void 0:t.SlotIsEmpty)||!1}))),this.itemTitle$=this.fieldConfig.isParentGroup?this.currentLanguage$.pipe(Object(O.a)((function(t){var n,i,o,a;e.contentTypeService.getContentTypeById(e.config.entity.contentTypeId).pipe(Object(x.a)(1)).subscribe((function(e){i=e})),e.defaultLanguage$.pipe(Object(x.a)(1)).subscribe((function(e){o=e}));try{var r=i.contentType.metadata.find((function(e){return"ContentType"===e.type.name||"xx ContentType"===e.type.name}));r&&(a=null===(n=Ne.a.getValueOrDefault(r.attributes.Label,t,o))||void 0===n?void 0:n.value),a=a||i.contentType.name}catch(c){a=i.contentType.name}return a}))):this.fieldConfig.settings$.pipe(Object(O.a)((function(e){return e.Name}))),this.description$=this.fieldConfig.settings$.pipe(Object(O.a)((function(t){return e.fieldConfig.isParentGroup?null!=t.EditInstructions?t.EditInstructions:"":null!=t.Notes?t.Notes:""}))),this.subscription.add(this.currentLanguage$.subscribe((function(t){var n;e.defaultLanguage$.pipe(Object(x.a)(1)).subscribe((function(e){n=e})),e.translateAllConfiguration(t,n)})))},e.prototype.ngOnDestroy=function(){this.collapse$.complete(),this.subscription.unsubscribe()},e.prototype.toggleCollapse=function(){this.collapse$.next(!this.collapse$.value)},e.prototype.toggleSlotIsEmpty=function(){var e;this.header$.pipe(Object(x.a)(1)).subscribe((function(t){e=t}));var t=Object(i.a)(Object(i.a)({},e),{Group:Object(i.a)(Object(i.a)({},e.Group),{SlotIsEmpty:!e.Group.SlotIsEmpty})});this.itemService.updateItemHeader(this.config.entity.entityId,this.config.entity.entityGuid,t)},e.prototype.translateAllConfiguration=function(e,t){var n,i=Ne.a.translateSettings(this.fieldConfig.fullSettings,e,t);this.fieldConfig.settings=i,this.fieldConfig.label=this.fieldConfig.settings.Name||null,this.fieldConfig.validation=L.a.getValidations(this.fieldConfig.settings),this.fieldConfig.required=L.a.isRequired(this.fieldConfig.settings),null===(n=this.config.field.settings$)||void 0===n||n.next(i)},e.\u0275fac=function(t){return new(t||e)(P.Qb(Ue.a),P.Qb(qe.a),P.Qb(Ke))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-collapsible-wrapper"]],viewQuery:function(e,t){var n;1&e&&P.Lc(un,!0,P.O),2&e&&P.Cc(n=P.fc())&&(t.fieldComponent=n.first)},inputs:{config:"config",group:"group"},decls:17,vars:30,consts:[[1,"shadow-bottom-z-1",3,"ngClass"],["fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],["class","mdc-layout-grid__cell--span-12 mat-body-1","align","start",4,"ngIf"],[1,"mdc-layout-grid__cell--span-12"],["fieldComponent",""],["fxLayout","row","fxLayoutAlign","start center",3,"ngClass"],["fxFlex","auto","fxLayoutAlign","start center",3,"click"],["fxLayoutAlign","start center",1,"mat-card-title-group",3,"ngClass"],[1,"title"],["fxLayoutAlign","start center",3,"checked","disabled","matTooltip","matTooltipDisabled","change",4,"ngIf"],["fxLayoutAlign","end center",3,"config","group",4,"ngIf"],["fxLayoutAlign","start center",3,"checked","disabled","matTooltip","matTooltipDisabled","change"],["fxLayoutAlign","end center",3,"config","group"],["align","start",1,"mdc-layout-grid__cell--span-12","mat-body-1"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(e,t){1&e&&(P.Wb(0,"mat-card",0),P.Oc(1,gn,10,8,"div",1),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.Wb(8,"mat-card-content",2),P.jc(9,"async"),P.Wb(10,"div",3),P.Wb(11,"div",4),P.Oc(12,bn,4,5,"div",5),P.jc(13,"async"),P.Wb(14,"div",6),P.Sb(15,null,7),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Vb()),2&e&&(P.oc("ngClass",t.fieldConfig.isParentGroup?"mat-card-group-parent":"mat-card-group-child"),P.Bb(1),P.oc("ngIf",P.yc(21,hn,P.kc(2,5,t.collapse$),P.kc(3,7,t.itemTitle$),P.kc(4,9,t.currentLanguage$),P.kc(5,11,t.defaultLanguage$),P.kc(6,13,t.slotCanBeEmpty$),P.kc(7,15,t.slotIsEmpty$))),P.Bb(7),P.oc("ngStyle",P.tc(28,mn,P.kc(9,17,t.collapse$)?"none":"block"))("ngClass",t.fieldConfig.isParentGroup?"mat-card-content-group-parent":"mat-card-content-group-child"),P.Bb(4),P.oc("ngIf",P.kc(13,19,t.description$)))},directives:[Xe.a,Y.k,J.a,Y.m,Xe.b,Y.n,J.c,Ae.c,Ae.b,Ae.a,te.a,Ze.a,ee.a,sn,ln],pipes:[Y.b,oe.d,dn.a],styles:[".mat-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width:600px){.mat-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.mat-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.mat-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.mat-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.mat-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding-bottom:0}.mat-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px}.mat-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#0088f4}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important;margin-right:6px}.mdc-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}"],changeDetection:0}),e}(),yn=n("4RZX"),wn=function(){return function(e,t,n){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=1e4,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=e,this.url=t,this.headers=n}}(),Cn=["fieldComponent"],_n=function(e){return{"dropzone-disabled":e}},On=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.dnnContext=i,r.zone=o,r.dropzoneConfig$=new a.a(null),r.eavConfig=t.getEavConfig(),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.dropzoneDisabled$=Object(Ot.a)([this.disabled$,this.dropzoneConfig$]).pipe(Object(O.a)((function(e){var t=e[1];return e[0]||null==t||t.disabled}))),this.config.dropzone={setConfig:function(e){t.zone.run((function(){t.setConfig(e)}))},getConfig:function(){return t.dropzoneConfig$.value},getConfig$:function(){return t.dropzoneConfig$.asObservable()},uploadFile:function(e){t.zone.run((function(){t.uploadFile(e)}))}},this.config.dropzone.setConfig({})},t.prototype.ngAfterViewInit=function(){this.config.dropzone.setConfig({previewsContainer:".field-"+this.config.field.index+" .dropzone-previews",clickable:".field-"+this.config.field.index+" .invisible-clickable"})},t.prototype.ngOnDestroy=function(){this.dropzoneConfig$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.onUploadError=function(e){Object($.a)("Dropzone upload error. Args:",e),this.dropzoneRef.reset()},t.prototype.onUploadSuccess=function(e){var t=e[1];t.Success?this.config.adam?(this.config.adam.addFullPath(t),this.config.adam.onItemUpload(t),this.config.adam.refresh()):alert("Upload failed because: ADAM reference doesn't exist"):alert("Upload failed because: "+t.Error),this.dropzoneRef.reset()},t.prototype.setConfig=function(e){var t,n,o=this.config.field.isExternal,a=this.dnnContext.$2sxc.http.apiUrl("app-content/"+this.config.entity.header.ContentTypeName+"/"+this.config.entity.header.Guid+"/"+this.config.field.name+"?subfolder=&usePortalRoot=false&appId="+this.eavConfig.appId),r=this.dnnContext.sxc.webApi.headers(),c=null!=this.dropzoneConfig$.value?this.dropzoneConfig$.value:new wn(o,a,r),s=new wn(o,a,r),l=Object.keys(s);try{for(var d=Object(i.i)(l),u=d.next();!u.done;u=d.next()){var p=u.value;s[p]=null!=e[p]?e[p]:c[p]}}catch(g){t={error:g}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}if(s.maxFiles!==s.parallelUploads){var f=s.maxFiles>=s.parallelUploads?s.maxFiles:s.parallelUploads;s.maxFiles=f,s.parallelUploads=f}(null==s.acceptedFiles||""===s.acceptedFiles)&&delete s.acceptedFiles,this.dropzoneConfig$.next(s)},t.prototype.uploadFile=function(e){var t=this.dropzoneRef.dropzone();e.upload={chunked:t.defaultOptions.chunking},t.processFile(e)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(X.a),P.Qb(P.z))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-dropzone-wrapper"]],viewQuery:function(e,t){var n;1&e&&(P.Lc(Cn,!0,P.O),P.Wc(yn.a,!0)),2&e&&(P.Cc(n=P.fc())&&(t.fieldComponent=n.first),P.Cc(n=P.fc())&&(t.dropzoneRef=n.first))},features:[P.yb],decls:6,vars:11,consts:[[1,"dropzone","dropzone-container",3,"ngClass","dropzone","disabled","error","success"],["fieldComponent",""]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.ec("error",(function(e){return t.onUploadError(e)}))("success",(function(e){return t.onUploadSuccess(e)})),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.Sb(4,null,1),P.Vb()),2&e&&P.oc("ngClass",P.tc(9,_n,P.kc(1,3,t.dropzoneDisabled$)))("dropzone",P.kc(2,5,t.dropzoneConfig$))("disabled",P.kc(3,7,t.dropzoneDisabled$))},directives:[Y.k,J.a,yn.a],pipes:[Y.b],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"],changeDetection:0}),t}(z),xn=["fieldComponent"],kn=function(e){return{"language-wrap__field-short":e}},Mn=function(e){return{"language-wrap__translate--hidden":e}},In=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.languageInstanceService=i,r.editRoutingService=o,r.toggleTranslateField$=new a.a(!1),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.config.form.formId),this.defaultLanguage$=this.languageInstanceService.getDefaultLanguage(this.config.form.formId),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngOnDestroy=function(){this.toggleTranslateField$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleTranslate=function(){var e,t,n;this.open$.pipe(Object(x.a)(1)).subscribe((function(t){e=t})),this.currentLanguage$.pipe(Object(x.a)(1)).subscribe((function(e){t=e})),this.defaultLanguage$.pipe(Object(x.a)(1)).subscribe((function(e){n=e})),!e&&t!==n&&this.toggleTranslateField$.next(!this.toggleTranslateField$.value)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(qe.a),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-eav-localization-wrapper"]],viewQuery:function(e,t){var n;1&e&&P.Lc(xn,!0,P.O),2&e&&P.Cc(n=P.fc())&&(t.fieldComponent=n.first)},features:[P.yb],decls:10,vars:19,consts:[[1,"language-wrap"],[1,"language-wrap__field",3,"ngClass","dblclick"],["fieldComponent",""],[1,"language-wrap__translate",3,"ngClass","config","group","toggleTranslateField"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.Wb(1,"div",1),P.ec("dblclick",(function(){return t.toggleTranslate()})),P.jc(2,"async"),P.jc(3,"async"),P.Sb(4,null,2),P.Vb(),P.Rb(6,"app-translate-group-menu",3),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.Vb()),2&e&&(P.Bb(1),P.oc("ngClass",P.tc(15,kn,P.kc(2,5,t.currentLanguage$)!==P.kc(3,7,t.defaultLanguage$))),P.Bb(5),P.oc("ngClass",P.tc(17,Mn,P.kc(7,9,t.currentLanguage$)===P.kc(8,11,t.defaultLanguage$)))("config",t.config)("group",t.group)("toggleTranslateField",P.kc(9,13,t.toggleTranslateField$)))},directives:[Y.k,J.a,sn],pipes:[Y.b],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"],changeDetection:0}),t}(z),Sn=[Object(A.n)("itemShrinkAnimation",[Object(A.k)("open",Object(A.l)({height:"30vh"})),Object(A.k)("closed",Object(A.l)({height:"0vh"})),Object(A.m)("open => closed",[Object(A.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),Object(A.n)("contentExpandAnimation",[Object(A.k)("closed",Object(A.l)({height:"0"})),Object(A.k)("expanded",Object(A.l)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),Object(A.m)("closed => expanded",[Object(A.e)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(A.h)([Object(A.l)({height:"0vh",overflow:"hidden"}),Object(A.l)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])],Tn=n("bRQ+");function Pn(e,t,n,i){return("string"==typeof e?Tn.a.convertValueToArray(e,t):e).map((function(t){var o,a=n.find((function(e){return e.Value===t}));return o=null==t?"empty slot":"string"==typeof e?null!=a?a.Text:t:null!=a?a.Text:i.instant("Fields.Entity.EntityNotFound"),{value:t,label:o,tooltip:o+" ("+t+")",isFreeTextOrNotFound:null==a}}))}var jn=n("hOvr"),Vn=function(e){return{"c-fht__container-hint--ellipsis":e}};function $n(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-hint",4),P.ec("click",(function(e){return P.Fc(n),P.ic(2).toggleHint(e)})),P.Rb(1,"span",5),P.jc(2,"safeHtml"),P.Vb()}if(2&e){var i=P.ic().ngIf,o=P.ic();P.oc("ngClass",o.control.disabled?"c-fht__container-hint--disabled":"c-fht__container-hint"),P.Bb(1),P.oc("ngClass",P.tc(5,Vn,!o.isFullText))("innerHtml",P.kc(2,3,i.description),P.Gc)}}var En=function(e){return{param:e}};function Bn(e,t){if(1&e&&(P.Wb(0,"mat-error",6),P.Qc(1),P.jc(2,"translate"),P.Vb()),2&e){var n=P.ic(2);P.Bb(1),P.Sc(" ",P.lc(2,1,n.getErrorMessage(),P.tc(4,En,n.config.field.settings))," ")}}var Fn=function(e,t,n){return{"c-fht__container--no-hint":e,"c-fht__container--last":t,"c-fht__container--last--no-hint":n}};function Ln(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"div",1),P.Oc(2,$n,3,7,"mat-hint",2),P.Oc(3,Bn,3,6,"mat-error",3),P.Vb(),P.Tb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("ngClass",P.vc(3,Fn,!(n.description||n.invalid&&!i.disableError),i.config.field.isLastInGroup,i.config.field.isLastInGroup&&!n.description&&!(n.invalid&&!i.disableError))),P.Bb(1),P.oc("ngIf",n.description),P.Bb(1),P.oc("ngIf",n.invalid&&!i.disableError)}}var Dn=function(e,t){return{invalid:e,description:t}},Wn=function(){function e(e){this.validationMessagesService=e,this.disableError=!1,this.isFullText=!1}return e.prototype.ngOnInit=function(){this.control=this.group.controls[this.config.field.name],this.invalid$=this.control.statusChanges.pipe(Object(O.a)((function(e){return"INVALID"===e})),Object(B.a)(this.control.invalid)),this.description$=this.config.field.settings$.pipe(Object(O.a)((function(e){return e.Notes})))},e.prototype.toggleHint=function(e){var t=e.target;if("A"!==t.tagName){for(;t&&t.classList&&!t.classList.contains("notes-container");){if(!(t=t.parentNode))return;if("A"===t.tagName)return}this.isFullText=!this.isFullText}},e.prototype.getErrorMessage=function(){return this.validationMessagesService.getErrorMessage(this.control,this.config)},e.\u0275fac=function(t){return new(t||e)(P.Qb(W.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-field-helper-text"]],inputs:{config:"config",group:"group",disableError:"disableError"},decls:3,vars:8,consts:[[4,"ngIf"],[1,"c-fht__container",3,"ngClass"],["class","mat-caption","align","start","fxLayout","row","fxLayoutAlign","start start",3,"ngClass","click",4,"ngIf"],["class","mat-caption",4,"ngIf"],["align","start","fxLayout","row","fxLayoutAlign","start start",1,"mat-caption",3,"ngClass","click"],["appChangeAnchorTarget","",1,"notes-container",3,"ngClass","innerHtml"],[1,"mat-caption"]],template:function(e,t){1&e&&(P.Oc(0,Ln,4,7,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,Dn,P.kc(1,1,t.invalid$),P.kc(2,3,t.description$)))},directives:[Y.m,Y.k,J.a,jn.f,Ae.c,Ae.b,ln,jn.b],pipes:[Y.b,dn.a,oe.d],styles:[".c-fht__container[_ngcontent-%COMP%], .c-fht__container--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 13px}.c-fht__container--last[_ngcontent-%COMP%], .c-fht__container--last--no-hint[_ngcontent-%COMP%]{padding:.54166667em 0 5px}.c-fht__container-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-fht__container-hint--ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.c-fht__container-hint--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-fht__container--input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#0087f4}.c-fht__container[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}"],changeDetection:0}),e}(),zn=["fieldComponent"];function An(e,t){if(1&e&&(P.Wb(0,"mat-list-item",21),P.Wb(1,"span",22),P.Qc(2),P.Vb(),P.Vb()),2&e){var n=t.$implicit;P.Bb(2),P.Rc(n.label)}}function Rn(e,t){if(1&e&&(P.Wb(0,"mat-list",19),P.Oc(1,An,3,1,"mat-list-item",20),P.Vb()),2&e){var n=P.ic().ngIf,i=P.ic();P.Bb(1),P.oc("ngForOf",n.selectedEntities)("ngForTrackBy",i.trackByFn)}}function Qn(e,t){if(1&e&&(P.Wb(0,"span",23),P.Qc(1),P.Vb()),2&e){var n=P.ic().ngIf;P.Bb(1),P.Sc(" ",n.entitiesNumber," ")}}var Gn=function(e,t,n,i,o){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o}},Nn=function(){return{enterDuration:360}},Un=function(e,t){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t}};function qn(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",12),P.Wb(1,"mat-label",13),P.Qc(2),P.Vb(),P.Wb(3,"div",14),P.ec("click",(function(){return P.Fc(n),P.ic().expandDialog()})),P.Wb(4,"div",0),P.Wb(5,"div",15),P.Oc(6,Rn,2,2,"mat-list",16),P.Oc(7,Qn,2,1,"span",17),P.Vb(),P.Vb(),P.Vb(),P.Rb(8,"app-field-helper-text",18),P.Vb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngClass",P.xc(10,Gn,i.entitiesNumber,!i.entitiesNumber,i.invalid&&i.touched&&!o.config.field.disabled,!(i.invalid&&i.touched||o.config.field.disabled),o.config.field.disabled)),P.Bb(1),P.Tc(" ",i.label," ",i.required?"*":""," "),P.Bb(1),P.oc("matRippleAnimation",P.sc(16,Nn))("ngClass",P.uc(17,Un,i.invalid&&i.touched,o.config.field.disabled)),P.Bb(1),P.oc("ngClass",i.entitiesNumber?"c-ew__preview-container":"c-ew__preview-container--empty"),P.Bb(2),P.oc("ngIf",i.entitiesNumber),P.Bb(1),P.oc("ngIf",i.entitiesNumber>5),P.Bb(1),P.oc("config",o.config)("group",o.group)}}var Hn=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},Kn=function(e){return{bottomPixels:e}},Xn=function(e,t){return{value:e,params:t}},Zn=function(){return[]},Yn=function(e,t,n,i,o,a,r){return{label:e,required:t,invalid:n,touched:i,selectedEntities:o,entitiesNumber:a,showValidation:r}},Jn=function(e){function t(t,n,i,o){var a=e.call(this,t,n)||this;return a.translate=i,a.editRoutingService=o,a}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.separator=this.config.field.settings$.value.Separator,this.dialogIsOpen$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e=this;this.selectedEntities$=Object(Ot.a)([this.value$,this.config.entityCache$]).pipe(Object(O.a)((function(t){return Pn(t[0],e.separator,t[1],e.translate)})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.trackByFn=function(e,t){return t.value},t.prototype.expandDialog=function(){this.config.field.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(oe.e),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-entity-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&P.Lc(zn,!0,P.O),2&e&&P.Cc(n=P.fc())&&(t.fieldComponent=n.first)},features:[P.yb],decls:31,vars:47,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24"],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-add-scrollbar","u-hide-scrollbar"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","row",4,"ngIf"],["class","more-entities mat-body-1",4,"ngIf"],[3,"config","group"],["fxLayout","row"],["role","listitem",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem"],["mat-line",""],[1,"more-entities","mat-body-1"]],template:function(e,t){if(1&e&&(P.Wb(0,"div",0),P.jc(1,"async"),P.Wb(2,"div",1),P.ec("click",(function(){return t.closeDialog()})),P.Vb(),P.Wb(3,"div",2),P.Wb(4,"div",0),P.jc(5,"async"),P.Wb(6,"mat-card",3),P.Wb(7,"button",4),P.ec("click",(function(){return t.closeDialog()})),P.jc(8,"translate"),P.Wb(9,"mat-icon"),P.Qc(10,"arrow_back"),P.Vb(),P.Vb(),P.Wb(11,"span",5),P.Qc(12),P.jc(13,"async"),P.Vb(),P.Vb(),P.Vb(),P.Wb(14,"div"),P.Rb(15,"div"),P.jc(16,"async"),P.Wb(17,"div",6),P.jc(18,"async"),P.Wb(19,"div",7),P.Wb(20,"div",8),P.Wb(21,"mat-card",9),P.Sb(22,null,10),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Oc(24,qn,9,20,"div",11),P.jc(25,"async"),P.jc(26,"async"),P.jc(27,"async"),P.jc(28,"async"),P.jc(29,"async"),P.jc(30,"async")),2&e){var n=null,i=P.zc(39,Yn,P.kc(25,19,t.label$),P.kc(26,21,t.required$),P.kc(27,23,t.invalid$),t.control.touched,(null==(n=P.kc(28,25,t.selectedEntities$))?null:n.slice(0,9))||P.sc(38,Zn),(null==(n=P.kc(29,27,t.selectedEntities$))?null:n.length)||0,P.kc(30,29,t.showValidation$));P.oc("ngClass",P.kc(1,7,t.dialogIsOpen$)?"c-ew__container":"u-display-none"),P.Bb(4),P.oc("ngClass",P.tc(31,Hn,P.kc(5,9,t.dialogIsOpen$))),P.Bb(3),P.oc("matTooltip",P.kc(8,11,"Form.Buttons.Return.Tip")),P.Bb(5),P.Rc(P.kc(13,13,t.label$)),P.Bb(3),P.oc("@itemShrinkAnimation",P.kc(16,15,t.dialogIsOpen$)?"closed":"open"),P.Bb(2),P.oc("@contentExpandAnimation",P.uc(35,Xn,P.kc(18,17,t.dialogIsOpen$)?"expanded":"closed",P.tc(33,Kn,t.calculateBottomPixels()))),P.Bb(7),P.oc("ngIf",i)}},directives:[Y.k,J.a,Ae.c,Xe.a,St.a,Ae.b,ee.a,te.a,Y.m,jn.g,Tt.q,Wn,It.a,Y.l,It.c,Tt.i],pipes:[Y.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:28px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.mat-list[_ngcontent-%COMP%]{overflow:hidden;padding:0;margin-top:9px;flex:1 1 auto}.mat-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:rgba(29,39,61,.08);border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis}"],data:{animation:[Sn]},changeDetection:0}),t}(z),ei=n("1/u/"),ti=function(){function e(e,t,n,o,a){var r=this;this.field=n,this._experimental=o,this.data=new ni(e,t),this.dialog=new ii(e),this.loadScript=function(e,t,n){var o,c;if(("string"==typeof e||"function"==typeof e)&&"string"==typeof t&&"function"==typeof n)return t=r.resolveTokens(t,a),void Object(ei.a)([{test:e,src:t}],n);if(!Array.isArray(e)||"function"!=typeof t)throw new Error("Unrecognized parameters. Please double check your input");try{for(var s=Object(i.i)(e),l=s.next();!l.done;l=s.next()){var d=l.value;d.src=r.resolveTokens(d.src,a)}}catch(u){o={error:u}}finally{try{l&&!l.done&&(c=s.return)&&c.call(s)}finally{if(o)throw o.error}}Object(ei.a)(e,t)}}return e.prototype.resolveTokens=function(e,t){return(e=e.replace(/\[System:Path\]/i,G.a.getUrlPrefix("system",t)).replace(/\[Zone:Path\]/i,G.a.getUrlPrefix("zone",t)).replace(/\[App:Path\]/i,G.a.getUrlPrefix("app",t))).includes("?")||(e=e+"?sxcver="+sxcVersion),e},e}(),ni=function(){function e(e,t){var n=this;this._connectorHost=e,this.clientValueChangeListeners=[],this.value$=t,this.forceConnectorSave$=e.forceConnectorSave$,this.value$.subscribe((function(e){n.value=e,n.clientValueChangeListeners.forEach((function(t){return t(e)}))}))}return e.prototype.update=function(e){this._connectorHost.update(e)},e.prototype.onValueChange=function(e){this.clientValueChangeListeners.push(e)},e}(),ii=function(){return function(e){this.open=function(t){return e.expand(!0,t)},this.close=function(){return e.expand(!1)}}}(),oi=function(){function e(e,t,n,i,o,r,c,s,l,d,u,p,f){var g=this;this.config=e,this.group=t,this.customElContainerRef=n,this.customElName=i,this.eavService=o,this.translateService=r,this.contentTypeService=c,this.inputTypeService=s,this.featureService=l,this.editRoutingService=d,this.dnnBridgeService=u,this.dialog=p,this.zone=f,this.value$=new a.a(null),this.subscription=new j.a,this.eavConfig=o.getEavConfig(),this.control=this.group.controls[this.config.field.name],this.subscription.add(this.eavService.formValueChange$.pipe(Object(k.a)((function(e){return e.formId===g.config.form.formId&&e.entityGuid===g.config.entity.entityGuid})),Object(O.a)((function(e){return g.control.value})),Object(B.a)(this.control.value),Object(F.a)()).subscribe((function(e){g.value$.next(e)}))),this.customEl=document.createElement(this.customElName),this.customEl.connector=this.buildConnector(),this.customElContainerRef.nativeElement.appendChild(this.customEl)}return e.prototype.buildConnector=function(){var e=this.calculateRegularProps(),t=this.calculateExperimentalProps();return new ti(e,this.value$.asObservable(),this.config.field,t,this.eavConfig)},e.prototype.calculateRegularProps=function(){var e=this;return{forceConnectorSave$:this.eavService.forceConnectorSave$,update:function(t){e.zone.run((function(){e.updateControl(e.control,t)}))},expand:function(t,n){e.zone.run((function(){e.editRoutingService.expand(t,e.config.field.index,e.config.entity.entityGuid,n)}))}}},e.prototype.calculateExperimentalProps=function(){var e,t=this;return this.contentTypeService.getContentTypeById(this.config.entity.contentTypeId).pipe(Object(x.a)(1)).subscribe((function(n){e=Ct.a.calculateInputTypes(n.contentType.attributes,t.inputTypeService)})),{entityGuid:this.config.entity.entityGuid,allInputTypeNames:e,formGroup:this.group,translateService:this.translateService,isExpanded$:this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),dropzone:this.config.dropzone,adam:this.config.adam,updateField:function(e,n){t.zone.run((function(){t.updateControl(t.group.controls[e],n)}))},isFeatureEnabled:function(e){return t.featureService.isFeatureEnabled(e)},setFocused:function(e){t.zone.run((function(){t.config.field.focused$.next(e)}))},openDnnDialog:function(e,n,i){t.zone.run((function(){t.openDnnDialog(e,n,i)}))},getUrlOfIdDnnDialog:function(e,n){t.zone.run((function(){t.getUrlOfIdDnnDialog(e,n)}))}}},e.prototype.openDnnDialog=function(e,t,n){this.dnnBridgeService.open(e,t,n,this.dialog)},e.prototype.getUrlOfIdDnnDialog=function(e,t){if(e){var n=this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name);n?n.subscribe((function(e){e&&t(e)})):t(e)}},e.prototype.updateControl=function(e,t){null==e||e.disabled||(e.value!==t&&e.patchValue(t),e.dirty||e.markAsDirty(),e.touched||e.markAsTouched())},e.prototype.destroy=function(){var e;this.subscription.unsubscribe(),this.value$.complete(),null===(e=this.customEl)||void 0===e||e.parentNode.removeChild(this.customEl),this.customEl=null},e}(),ai=function(){function e(e){this.zone=e,this.eventListeners=[]}return e.prototype.attach=function(e){var t=this;this.zone.runOutsideAngular((function(){function n(){!function(e){var t,n;try{for(var o=Object(i.i)(e),a=o.next();!a.done;a=o.next())clearTimeout(a.value)}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.splice(0,e.length)}(windowBodyTimeouts),document.body.classList.add(draggingClass)}function o(){document.body.classList.remove(draggingClass)}e.addEventListener("dragover",n,{passive:!0}),e.addEventListener("drop",o,{passive:!0}),t.eventListeners.push({element:e,type:"dragover",listener:n},{element:e,type:"drop",listener:o})}))},e.prototype.detach=function(){var e=this;this.zone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener)}))}))},e}(),ri=n("iKpp"),ci=["fieldComponent"],si=["previewContainer"],li=["backdrop"],di=["dialog"],ui=function(e,t,n,i,o,a){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o,"c-ew__preview-label--focused":a}},pi=function(e,t,n){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t,"c-ew__preview--focused":n}},fi=function(e){return{"c-ew__preview-content--disabled":e}};function gi(e,t){if(1&e&&(P.Wb(0,"div",11),P.Wb(1,"mat-label",12),P.Qc(2),P.Vb(),P.Wb(3,"div",13),P.Wb(4,"div",14),P.Rb(5,"div",15,16),P.Vb(),P.Vb(),P.Rb(7,"app-field-helper-text",17),P.Vb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("ngClass",P.yc(7,ui,n.value,!n.value,n.invalid&&n.touched&&!n.disabled,!(n.invalid&&n.touched||n.disabled),n.disabled,n.focused)),P.Bb(1),P.Tc(" ",n.label," ",n.required?"*":""," "),P.Bb(1),P.oc("ngClass",P.vc(14,pi,n.invalid&&(n.touched||n.dirty),n.disabled,n.focused)),P.Bb(2),P.oc("ngClass",P.tc(18,fi,n.disabled)),P.Bb(2),P.oc("config",i.config)("group",i.group)}}var bi=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},hi=function(e){return{bottomPixels:e}},mi=function(e,t){return{value:e,params:t}},vi=function(e,t,n,i,o,a,r,c,s){return{value:e,label:t,required:n,invalid:i,touched:o,dirty:a,focused:r,disabled:c,showValidation:s}},yi=function(e){function t(t,n,i,o,a,r,c,s,l,d){var u=e.call(this,t,n)||this;return u.translateService=i,u.contentTypeService=o,u.inputTypeService=a,u.featureService=r,u.editRoutingService=c,u.dnnBridgeService=s,u.dialog=l,u.zone=d,u}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e="field-"+this.config.field.inputType;Object($.a)("ExpandableWrapper created for:",e),this.connectorCreator=new oi(this.config,this.group,this.previewContainerRef,e,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featureService,this.editRoutingService,this.dnnBridgeService,this.dialog,this.zone),this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)},t.prototype.ngOnDestroy=function(){Object($.a)("ExpandableWrapper destroyed"),this.connectorCreator.destroy(),this.dropzoneDraggingHelper.detach(),e.prototype.ngOnDestroy.call(this)},t.prototype.expandDialog=function(){this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(oe.e),P.Qb(Ke),P.Qb(Zt.a),P.Qb(K),P.Qb(Z.a),P.Qb(ri.a),P.Qb(_t.b),P.Qb(P.z))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(P.Lc(ci,!0,P.O),P.Wc(si,!0),P.Wc(li,!0),P.Wc(di,!0)),2&e&&(P.Cc(n=P.fc())&&(t.fieldComponent=n.first),P.Cc(n=P.fc())&&(t.previewContainerRef=n.first),P.Cc(n=P.fc())&&(t.backdropRef=n.first),P.Cc(n=P.fc())&&(t.dialogRef=n.first))},features:[P.yb],decls:31,vars:50,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass"],["previewContainer",""],[3,"config","group"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.jc(1,"async"),P.Wb(2,"div",1,2),P.ec("click",(function(){return t.closeDialog()})),P.Vb(),P.Wb(4,"div",3,4),P.Wb(6,"div",0),P.jc(7,"async"),P.Wb(8,"mat-card",5),P.Wb(9,"button",6),P.ec("click",(function(){return t.closeDialog()})),P.jc(10,"translate"),P.Wb(11,"mat-icon"),P.Qc(12,"arrow_back"),P.Vb(),P.Vb(),P.Wb(13,"span",7),P.Qc(14),P.jc(15,"async"),P.Vb(),P.Vb(),P.Vb(),P.Wb(16,"div"),P.Rb(17,"div"),P.jc(18,"async"),P.Wb(19,"div",8),P.jc(20,"async"),P.Sb(21,null,9),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Oc(23,gi,8,20,"div",10),P.jc(24,"async"),P.jc(25,"async"),P.jc(26,"async"),P.jc(27,"async"),P.jc(28,"async"),P.jc(29,"async"),P.jc(30,"async")),2&e&&(P.oc("ngClass",P.kc(1,7,t.open$)?"c-ew__container":"u-display-none"),P.Bb(6),P.oc("ngClass",P.tc(33,bi,P.kc(7,9,t.open$))),P.Bb(3),P.oc("matTooltip",P.kc(10,11,"Form.Buttons.Return.Tip")),P.Bb(5),P.Rc(P.kc(15,13,t.label$)),P.Bb(3),P.oc("@itemShrinkAnimation",P.kc(18,15,t.open$)?"closed":"open"),P.Bb(2),P.oc("@contentExpandAnimation",P.uc(37,mi,P.kc(20,17,t.open$)?"expanded":"closed",P.tc(35,hi,t.calculateBottomPixels()))),P.Bb(4),P.oc("ngIf",P.Bc(40,vi,[P.kc(24,19,t.value$),P.kc(25,21,t.label$),P.kc(26,23,t.required$),P.kc(27,25,t.invalid$),t.control.touched,t.control.dirty,P.kc(28,27,t.config.field.focused$),P.kc(29,29,t.disabled$),P.kc(30,31,t.showValidation$)])))},directives:[Y.k,J.a,Ae.c,Xe.a,St.a,Ae.b,ee.a,te.a,Y.m,jn.g,Wn],pipes:[Y.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #0085f4!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-error){color:#0087f4!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;top:0;left:0;right:0;bottom:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.c-ew__dialog[_ngcontent-%COMP%]{flex-direction:column;display:flex;max-width:800px;width:100vw;margin-top:24px;min-height:calc(100vh - 48px);max-height:calc(100vh - 48px);padding:0}@media (max-width:600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:100vh;max-height:100vh}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec}"],data:{animation:[Sn]},changeDetection:0}),t}(z),wi=["fieldComponent"],Ci=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.visibleInEditUI$=this.settings$.pipe(Object(O.a)((function(e){return!1!==e.VisibleInEditUI})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-hidden-wrapper"]],viewQuery:function(e,t){var n;1&e&&P.Lc(wi,!0,P.O),2&e&&P.Cc(n=P.fc())&&(t.fieldComponent=n.first)},features:[P.yb],decls:4,vars:3,consts:[[3,"hidden"],["fieldComponent",""]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.jc(1,"async"),P.Sb(2,null,1),P.Vb()),2&e&&P.oc("hidden",!P.kc(1,1,t.visibleInEditUI$))},pipes:[Y.b],styles:[""],changeDetection:0}),t}(z),_i=n("TDrE"),Oi=["fieldComponent"],xi=["backdrop"],ki=["dialog"];function Mi(e,t){if(1&e&&(P.Wb(0,"mat-icon",25),P.Qc(1),P.Vb()),2&e){var n=P.ic().ngIf;P.oc("matTooltip",n.preview.url),P.Bb(1),P.Sc(" ",n.preview.icon," ")}}function Ii(e,t){if(1&e&&P.Rb(0,"mat-icon",26),2&e){var n=P.ic().ngIf;P.oc("matTooltip",n.preview.url)("svgIcon",n.preview.icon)}}function Si(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",30),P.ec("click",(function(){return P.Fc(n),P.ic(3).expandDialog()})),P.jc(1,"translate"),P.Rb(2,"mat-icon",31),P.Vb()}if(2&e){var i=P.ic(2).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.Default.Fullscreen"))("disabled",i.disabled)}}function Ti(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",30),P.ec("click",(function(){return P.Fc(n),P.ic(3).openPageDialog()})),P.jc(1,"translate"),P.Rb(2,"mat-icon",32),P.Vb()}if(2&e){var i=P.ic(2).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",i.disabled)}}var Pi=function(e){return{"c-ew__preview-suffix-text--disabled":e}};function ji(e,t){if(1&e&&(P.Wb(0,"div",27),P.Wb(1,"div",28),P.Qc(2),P.jc(3,"translate"),P.Vb(),P.Oc(4,Si,3,4,"button",29),P.Oc(5,Ti,3,4,"button",29),P.Vb()),2&e){var n=P.ic().ngIf;P.Bb(1),P.oc("ngClass",P.tc(6,Pi,n.disabled)),P.Bb(1),P.Sc(" ",n.adamButton?P.kc(3,4,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),P.Bb(2),P.oc("ngIf",n.adamButton),P.Bb(1),P.oc("ngIf",n.pageButton)}}function Vi(e,t){if(1&e&&(P.Wb(0,"div",33),P.Wb(1,"div",34),P.Qc(2),P.Vb(),P.Wb(3,"div",35),P.Wb(4,"a",36),P.Wb(5,"span"),P.Qc(6),P.Vb(),P.Vb(),P.Vb(),P.Vb()),2&e){var n=P.ic().ngIf;P.Bb(2),P.Rc(n.value),P.Bb(2),P.oc("href",n.preview.url,P.Ic)("matTooltip",n.preview.url),P.Bb(2),P.Rc(n.preview.floatingText)}}function $i(e,t){1&e&&(P.Wb(0,"div",37),P.Wb(1,"span"),P.Qc(2),P.jc(3,"translate"),P.Vb(),P.Vb()),2&e&&(P.Bb(2),P.Rc(P.kc(3,1,"Fields.Hyperlink.Default.Sponsor")))}var Ei=function(e,t){return{"c-ew__preview--disabled":e,"c-ew__preview--last-in-group":t}},Bi=function(e,t){return{"icon-before-input":e,"thumbnail-before-input--disabled":t}},Fi=function(e){return{"background-image":e}},Li=function(e){return{"mat-form-field-invalid":e}},Di=function(e){return{"mat-error":e}};function Wi(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",11),P.Wb(1,"div",12),P.Wb(2,"div",13),P.ec("click",(function(){return P.Fc(n),P.ic().expandDialog()})),P.jc(3,"translate"),P.Oc(4,Mi,2,2,"mat-icon",14),P.Oc(5,Ii,1,2,"mat-icon",15),P.Vb(),P.Wb(6,"div",16),P.Wb(7,"div",17),P.Wb(8,"mat-form-field",18),P.Wb(9,"input",19),P.ec("change",(function(e){return P.Fc(n),P.ic().setValue(e)}))("blur",(function(){return P.Fc(n),P.ic().control.markAsTouched()}))("keyup",(function(e){return P.Fc(n),P.ic().setValue(e)})),P.jc(10,"translate"),P.Vb(),P.Oc(11,ji,6,8,"div",20),P.Wb(12,"mat-label",0),P.Qc(13),P.Vb(),P.Vb(),P.Oc(14,Vi,7,4,"div",21),P.Vb(),P.Wb(15,"div",22),P.Rb(16,"app-field-helper-text",23),P.Oc(17,$i,4,3,"div",24),P.Vb(),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngClass",P.uc(26,Ei,i.disabled,o.config.field.isLastInGroup)),P.Bb(1),P.oc("matTooltip",P.kc(3,22,"Fields.Hyperlink.Default.Fullscreen"))("matTooltipDisabled",i.disabled)("ngClass",P.uc(29,Bi,i.value&&!i.preview.isImage,i.disabled))("ngStyle",P.tc(32,Fi,i.value&&i.preview.isImage?i.preview.thumbnailUrl:"")),P.Bb(2),P.oc("ngIf",i.value&&!i.preview.isImage&&i.preview.isKnownType),P.Bb(1),P.oc("ngIf",i.value&&!i.preview.isImage&&!i.preview.isKnownType),P.Bb(3),P.oc("ngClass",P.tc(34,Li,i.invalid&&i.touched)),P.Bb(1),P.oc("matTooltip",P.kc(10,24,"Fields.Hyperlink.Default.Tooltip"))("placeholder",i.placeholder)("disabled",i.disabled)("value",i.value)("config",o.config)("elementType","input"),P.Bb(2),P.oc("ngIf",i.adamButton||i.pageButton),P.Bb(1),P.oc("ngClass",P.tc(36,Di,i.invalid&&i.touched)),P.Bb(1),P.Tc(" ",i.label," ",i.required?"*":""," "),P.Bb(1),P.oc("ngIf",i.preview.floatingText),P.Bb(2),P.oc("config",o.config)("group",o.group),P.Bb(1),P.oc("ngIf",i.adamButton)}}var zi=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},Ai=function(e){return{bottomPixels:e}},Ri=function(e,t){return{value:e,params:t}},Qi=function(e,t,n,i,o,a,r,c,s,l,d){return{value:e,preview:t,label:n,placeholder:i,invalid:o,touched:a,required:r,disabled:c,adamButton:s,pageButton:l,showValidation:d}},Gi=function(e){function t(t,n,i,o,r,c,s){var l=e.call(this,t,n)||this;return l.fileTypeService=i,l.dnnBridgeService=o,l.zone=r,l.dialog=c,l.editRoutingService=s,l.preview$=new a.a({url:"",thumbnailUrl:"",thumbnailPreviewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),l}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.value$.subscribe((function(e){t.setLink(e)}))),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.adamButton$=this.settings$.pipe(Object(O.a)((function(e){var t;return null===(t=e.Buttons)||void 0===t?void 0:t.includes("adam")}))),this.pageButton$=this.settings$.pipe(Object(O.a)((function(e){var t;return null===(t=e.Buttons)||void 0===t?void 0:t.includes("page")})))},t.prototype.ngAfterViewInit=function(){this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement)},t.prototype.ngOnDestroy=function(){this.dropzoneDraggingHelper.detach(),this.preview$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.setValue=function(e){var t=e.target.value;this.control.value!==t&&(this.control.patchValue(t),this.control.markAsDirty())},t.prototype.expandDialog=function(){this.control.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.prototype.openPageDialog=function(){this.dnnBridgeService.open(this.control.value,{Paths:this.config.field.settings.Paths?this.config.field.settings.Paths:"",FileFilter:this.config.field.settings.FileFilter?this.config.field.settings.FileFilter:""},this.processResultOfPagePicker.bind(this),this.dialog)},t.prototype.processResultOfPagePicker=function(e){e&&this.control.patchValue("page:"+e.id)},t.prototype.setLink=function(e){var t=this;if(e){var n=this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name);if(n)n.subscribe((function(e){if(e){var n={url:e,floatingText:".../"+e.substring(e.lastIndexOf("/")+1,e.length),thumbnailUrl:t.thumbnailUrl(e,1,!0),thumbnailPreviewUrl:t.thumbnailUrl(e,2,!1),isImage:t.fileTypeService.isImage(e),isKnownType:t.fileTypeService.isKnownType(e),icon:t.fileTypeService.getIconClass(e)};t.preview$.next(n)}}));else{var i={url:e,floatingText:"",thumbnailUrl:this.thumbnailUrl(e,1,!0),thumbnailPreviewUrl:this.thumbnailUrl(e,2,!1),isImage:!1,isKnownType:!1,icon:this.fileTypeService.getIconClass(e)};this.preview$.next(i)}}},t.prototype.thumbnailUrl=function(e,t,n){1===t&&(e+="?w=80&h=80&mode=crop"),2===t&&(e+="?w=500&h=400&mode=max");var i=n?'"':"";return"url("+i+e+i+")"},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(U.a),P.Qb(ri.a),P.Qb(P.z),P.Qb(_t.b),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(P.Lc(Oi,!0,P.O),P.Wc(xi,!0),P.Wc(ki,!0)),2&e&&(P.Cc(n=P.fc())&&(t.fieldComponent=n.first),P.Cc(n=P.fc())&&(t.backdropRef=n.first),P.Cc(n=P.fc())&&(t.dialogRef=n.first))},features:[P.yb],decls:34,vars:58,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-hyperlink-default-field-preview",4,"ngIf"],[1,"c-hyperlink-default-field-preview"],["fxLayout","row","fxLayoutAlign","start start",1,"c-ew__preview",3,"ngClass"],[1,"thumbnail-before-input",3,"matTooltip","matTooltipDisabled","ngClass","ngStyle","click"],["matTooltipPosition","right",3,"matTooltip",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip","svgIcon",4,"ngIf"],["fxFlex","auto",1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["appearance","standard","color","accent",3,"ngClass"],["matInput","","matTooltipPosition","above","appPasteClipboardImage","",3,"matTooltip","placeholder","disabled","value","config","elementType","change","blur","keyup"],["matSuffix","","fxLayoutAlign","center center",4,"ngIf"],["class","hyperlink-floating","fxHide","","fxShow.gt-xs","",4,"ngIf"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"config","group"],["align","end","class","c-ew__preview-field-hint c__helper-wrapper--right","fxHide","","fxShow.gt-xs","",4,"ngIf"],["matTooltipPosition","right",3,"matTooltip"],["matTooltipPosition","right",3,"matTooltip","svgIcon"],["matSuffix","","fxLayoutAlign","center center"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","class","c-ew__preview-suffix-icon","appClickStopPropagation","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"matTooltip","disabled","click"],["svgIcon","apple"],["svgIcon","sitemap"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","matTooltip"],["align","end","fxHide","","fxShow.gt-xs","",1,"c-ew__preview-field-hint","c__helper-wrapper--right"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.jc(1,"async"),P.Wb(2,"div",1,2),P.ec("click",(function(){return t.closeDialog()})),P.Vb(),P.Wb(4,"div",3,4),P.Wb(6,"div",0),P.jc(7,"async"),P.Wb(8,"mat-card",5),P.Wb(9,"button",6),P.ec("click",(function(){return t.closeDialog()})),P.jc(10,"translate"),P.Wb(11,"mat-icon"),P.Qc(12,"arrow_back"),P.Vb(),P.Vb(),P.Wb(13,"span",7),P.Qc(14),P.jc(15,"async"),P.Vb(),P.Vb(),P.Vb(),P.Wb(16,"div"),P.Rb(17,"div"),P.jc(18,"async"),P.Wb(19,"div",8),P.jc(20,"async"),P.Sb(21,null,9),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Oc(23,Wi,18,38,"div",10),P.jc(24,"async"),P.jc(25,"async"),P.jc(26,"async"),P.jc(27,"async"),P.jc(28,"async"),P.jc(29,"async"),P.jc(30,"async"),P.jc(31,"async"),P.jc(32,"async"),P.jc(33,"async")),2&e&&(P.oc("ngClass",P.kc(1,7,t.open$)?"c-ew__container":"u-display-none"),P.Bb(6),P.oc("ngClass",P.tc(39,zi,P.kc(7,9,t.open$))),P.Bb(3),P.oc("matTooltip",P.kc(10,11,"Form.Buttons.Return.Tip")),P.Bb(5),P.Rc(P.kc(15,13,t.label$)),P.Bb(3),P.oc("@itemShrinkAnimation",P.kc(18,15,t.open$)?"closed":"open"),P.Bb(2),P.oc("@contentExpandAnimation",P.uc(43,Ri,P.kc(20,17,t.open$)?"expanded":"closed",P.tc(41,Ai,t.calculateBottomPixels()))),P.Bb(4),P.oc("ngIf",P.Bc(46,Qi,[P.kc(24,19,t.value$),P.kc(25,21,t.preview$),P.kc(26,23,t.label$),P.kc(27,25,t.placeholder$),P.kc(28,27,t.invalid$),t.control.touched,P.kc(29,29,t.required$),P.kc(30,31,t.disabled$),P.kc(31,33,t.adamButton$),P.kc(32,35,t.pageButton$),P.kc(33,37,t.showValidation$)])))},directives:[Y.k,J.a,Ae.c,Xe.a,St.a,Ae.b,ee.a,te.a,Y.m,Y.n,J.c,Ae.a,jn.c,_i.b,ne,jn.g,Wn,jn.h,J.b,ie.a],pipes:[Y.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding-top:12px}.c-ew__preview-field--short[_ngcontent-%COMP%]{width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.44);font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:rgba(29,39,61,.08);width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:50%}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#4dabf7;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}@media (min-width:601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}}@media (max-width:600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[Sn]},changeDetection:0}),t}(z),Ni=["fieldComponent"],Ui=["backdrop"],qi=["dialog"];function Hi(e,t){if(1&e&&(P.Wb(0,"div",22),P.Wb(1,"div",23),P.Rb(2,"mat-icon",24),P.Wb(3,"div",25),P.Qc(4),P.Vb(),P.Vb(),P.Vb()),2&e){var n=P.ic().$implicit;P.Bb(4),P.Rc(n.Name)}}function Ki(e,t){if(1&e&&(P.Wb(0,"mat-icon"),P.Qc(1),P.Vb()),2&e){var n=P.ic(3).$implicit;P.Bb(1),P.Rc(n._icon)}}function Xi(e,t){if(1&e&&P.Rb(0,"mat-icon",29),2&e){var n=P.ic(3).$implicit;P.oc("svgIcon",n._icon)}}function Zi(e,t){if(1&e&&(P.Wb(0,"div",23),P.Oc(1,Ki,2,1,"mat-icon",21),P.Oc(2,Xi,1,1,"mat-icon",28),P.Wb(3,"div",25),P.Qc(4),P.Vb(),P.Vb()),2&e){var n=P.ic(2).$implicit;P.Bb(1),P.oc("ngIf",n._isMaterialIcon),P.Bb(1),P.oc("ngIf",!n._isMaterialIcon),P.Bb(2),P.Rc(n.Name)}}function Yi(e,t){if(1&e&&(P.Wb(0,"div",30),P.Rb(1,"img",31),P.Vb()),2&e){var n=P.ic(2).$implicit;P.Bb(1),P.rc("alt","",n.Id,":",n.Name,""),P.qc("src","",n.FullPath,"?w=78&h=78&mode=crop",P.Ic)}}function Ji(e,t){if(1&e&&(P.Wb(0,"div"),P.Oc(1,Zi,5,3,"div",26),P.Oc(2,Yi,2,3,"div",27),P.Vb()),2&e){var n=P.ic().$implicit;P.Bb(1),P.oc("ngIf","image"!==n.Type),P.Bb(1),P.oc("ngIf","image"===n.Type)}}function eo(e,t){if(1&e&&(P.Ub(0),P.Oc(1,Hi,5,1,"div",20),P.Oc(2,Ji,3,2,"div",21),P.Tb()),2&e){var n=t.$implicit;P.Bb(1),P.oc("ngIf",n.IsFolder),P.Bb(1),P.oc("ngIf",!n.IsFolder)}}var to=function(e,t,n,i,o){return{"mat-caption":e,"mat-empty":t,"mat-error":n,color__primary:i,"color__label-disabled":o}},no=function(){return{enterDuration:360}},io=function(e,t){return{"c-ew__preview--invalid":e,"c-ew__preview--disabled":t}};function oo(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",11),P.Wb(1,"mat-label",12),P.Qc(2),P.Vb(),P.Wb(3,"div",13),P.ec("click",(function(){return P.Fc(n),P.ic().expandDialog()})),P.Wb(4,"div",0),P.Wb(5,"div",14),P.Oc(6,eo,3,2,"ng-container",15),P.Vb(),P.Vb(),P.Vb(),P.Wb(7,"div",16),P.Wb(8,"div",17),P.Rb(9,"app-field-helper-text",18),P.Vb(),P.Wb(10,"div",19),P.Wb(11,"span"),P.Qc(12),P.jc(13,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngClass",P.xc(13,to,i.itemsNumber>0,0===i.itemsNumber,i.invalid&&!o.config.field.disabled,!i.invalid&&!o.config.field.disabled,o.config.field.disabled)),P.Bb(1),P.Tc(" ",i.label," ",i.required?"*":""," "),P.Bb(1),P.oc("matRippleAnimation",P.sc(19,no))("ngClass",P.uc(20,io,i.invalid,o.config.field.disabled)),P.Bb(1),P.oc("ngClass",i.value?"c-ew__preview-container":"c-ew__preview-container--empty"),P.Bb(2),P.oc("ngForOf",i.items)("ngForTrackBy",o.trackByFn),P.Bb(3),P.oc("config",o.config)("group",o.group),P.Bb(3),P.Rc(P.kc(13,11,"Fields.Hyperlink.Default.Sponsor"))}}var ao=function(e){return{"c-ew__dialog-header mat-elevation-z2":e}},ro=function(e){return{bottomPixels:e}},co=function(e,t){return{value:e,params:t}},so=function(e,t,n,i,o,a,r){return{value:e,label:t,required:n,invalid:i,items:o,itemsNumber:a,showValidation:r}},lo=function(e){function t(t,n,i,o){var r=e.call(this,t,n)||this;return r.zone=i,r.editRoutingService=o,r.adamItems$=new a.a([]),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid)},t.prototype.ngAfterViewInit=function(){var e=this;this.dropzoneDraggingHelper=new ai(this.zone),this.dropzoneDraggingHelper.attach(this.backdropRef.nativeElement),this.dropzoneDraggingHelper.attach(this.dialogRef.nativeElement),this.subscription.add(this.config.adam.items$.subscribe((function(t){e.adamItems$.next(t)})))},t.prototype.ngOnDestroy=function(){this.dropzoneDraggingHelper.detach(),this.adamItems$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.calculateBottomPixels=function(){return window.innerWidth>600?"100px":"50px"},t.prototype.trackByFn=function(e,t){return t.Id},t.prototype.expandDialog=function(){this.config.field.disabled||this.editRoutingService.expand(!0,this.config.field.index,this.config.entity.entityGuid)},t.prototype.closeDialog=function(){this.editRoutingService.expand(!1,this.config.field.index,this.config.entity.entityGuid)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(P.z),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(e,t){var n;1&e&&(P.Lc(Ni,!0,P.O),P.Wc(Ui,!0),P.Wc(qi,!0)),2&e&&(P.Cc(n=P.fc())&&(t.fieldComponent=n.first),P.Cc(n=P.fc())&&(t.backdropRef=n.first),P.Cc(n=P.fc())&&(t.dialogRef=n.first))},features:[P.yb],decls:31,vars:48,consts:[[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],["backdrop",""],["fxLayout","column",1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["dialog",""],["fxLayout","row",1,"mat-elevation-z0"],["mat-icon-button","","fxLayoutAlign","center center",1,"back-arrow",3,"matTooltip","click"],["fxLayoutAlign","center center",1,"title","mat-display-1"],[1,"c-ew__dialog-content","c-ew__dialog-content--empty","u-border-radius-bottom","u-add-scrollbar","u-hide-scrollbar"],["fieldComponent",""],["class","c-ew__preview-holder",4,"ngIf"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"matRippleAnimation","ngClass","click"],["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","2px",1,"c-ew__preview-content"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutAlign","start start",1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],[3,"config","group"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],["fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start start"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],["class","adam-browse-background-icon",4,"ngIf"],["class","adam-browse-background-image",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"],[1,"adam-browse-background-image"],["data-dz-thumbnail","",3,"alt","src"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.jc(1,"async"),P.Wb(2,"div",1,2),P.ec("click",(function(){return t.closeDialog()})),P.Vb(),P.Wb(4,"div",3,4),P.Wb(6,"div",0),P.jc(7,"async"),P.Wb(8,"mat-card",5),P.Wb(9,"button",6),P.ec("click",(function(){return t.closeDialog()})),P.jc(10,"translate"),P.Wb(11,"mat-icon"),P.Qc(12,"arrow_back"),P.Vb(),P.Vb(),P.Wb(13,"span",7),P.Qc(14),P.jc(15,"async"),P.Vb(),P.Vb(),P.Vb(),P.Wb(16,"div"),P.Rb(17,"div"),P.jc(18,"async"),P.Wb(19,"div",8),P.jc(20,"async"),P.Sb(21,null,9),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Oc(23,oo,14,23,"div",10),P.jc(24,"async"),P.jc(25,"async"),P.jc(26,"async"),P.jc(27,"async"),P.jc(28,"async"),P.jc(29,"async"),P.jc(30,"async")),2&e&&(P.oc("ngClass",P.kc(1,7,t.open$)?"c-ew__container":"u-display-none"),P.Bb(6),P.oc("ngClass",P.tc(33,ao,P.kc(7,9,t.open$))),P.Bb(3),P.oc("matTooltip",P.kc(10,11,"Form.Buttons.Return.Tip")),P.Bb(5),P.Rc(P.kc(15,13,t.label$)),P.Bb(3),P.oc("@itemShrinkAnimation",P.kc(18,15,t.open$)?"closed":"open"),P.Bb(2),P.oc("@contentExpandAnimation",P.uc(37,co,P.kc(20,17,t.open$)?"expanded":"closed",P.tc(35,ro,t.calculateBottomPixels()))),P.Bb(4),P.oc("ngIf",P.zc(40,so,P.kc(24,19,t.value$),P.kc(25,21,t.label$),P.kc(26,23,t.required$),P.kc(27,25,t.invalid$),P.kc(28,27,t.adamItems$).slice(0,9),P.kc(29,29,t.adamItems$).length,P.kc(30,31,t.showValidation$))))},directives:[Y.k,J.a,Ae.c,Xe.a,St.a,Ae.b,ee.a,te.a,Y.m,jn.g,Tt.q,Ae.d,Y.l,Wn,J.b],pipes:[Y.b,oe.d],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:rgba(29,39,61,.44)}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:rgba(29,39,61,.44)}.c-ew__preview[_ngcontent-%COMP%]   .color__label-disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[Sn]},changeDetection:0}),t}(z);function uo(e){return function(t){Reflect.defineMetadata("inputTypeAnnotations",e,t)}}var po=n("WcVu");function fo(e,t){if(1&e&&P.Rb(0,"input",5),2&e){var n=P.ic().ngIf,i=P.ic();P.oc("formControlName",i.config.field.name)("placeholder",n.placeholder)("required",n.required)}}function go(e,t){if(1&e&&(P.Wb(0,"textarea",6),P.Qc(1,"    "),P.Vb()),2&e){var n=P.ic().ngIf,i=P.ic();P.oc("formControlName",i.config.field.name)("rows",n.rowCount)("placeholder",n.placeholder)("required",n.required)}}var bo=function(e){return{"textarea-field":e}};function ho(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"mat-form-field",1),P.Oc(2,fo,1,3,"input",2),P.Oc(3,go,2,4,"textarea",3),P.Wb(4,"mat-label"),P.Qc(5),P.Vb(),P.Vb(),P.Rb(6,"app-field-helper-text",4),P.Tb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("formGroup",i.group)("ngClass",P.tc(7,bo,n.rowCount>1)),P.Bb(1),P.oc("ngIf",n.rowCount<=1),P.Bb(1),P.oc("ngIf",n.rowCount>1),P.Bb(2),P.Rc(n.label),P.Bb(1),P.oc("config",i.config)("group",i.group)}}var mo=function(e,t,n,i,o,a){return{rowCount:e,label:t,placeholder:n,required:i,disabled:o,showValidation:a}},vo=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rowCount$=this.settings$.pipe(Object(O.a)((function(e){return e.RowCount||1})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-default"]],features:[P.yb],decls:7,vars:20,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup","ngClass"],["matInput","",3,"formControlName","placeholder","required",4,"ngIf"],["matInput","",3,"formControlName","rows","placeholder","required",4,"ngIf"],[3,"config","group"],["matInput","",3,"formControlName","placeholder","required"],["matInput","",3,"formControlName","rows","placeholder","required"]],template:function(e,t){1&e&&(P.Oc(0,ho,7,9,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async")),2&e&&P.oc("ngIf",P.yc(13,mo,P.kc(1,1,t.rowCount$),P.kc(2,3,t.label$),P.kc(3,5,t.placeholder$),P.kc(4,7,t.required$),P.kc(5,9,t.disabled$),P.kc(6,11,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,Y.k,J.a,jn.g,Wn,_i.b,V.b,V.l,V.d,V.s],pipes:[Y.b],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),yo=function(){function e(e,t,n,i,o){this.changeEvent=n,this.eavConfig=o,this.fields=[],this.findFields=/\[.*?\]/gi,this.unwrapField=/[\[\]]/gi,this.subscriptions=[],this.mask=e,this.model=t,this.fields=this.fieldList(),i&&(this.preClean=i),t&&n&&this.watchAllFields()}return e.prototype.resolve=function(){var e=this,t=this.mask;return null!=this.eavConfig&&null!=t&&(t=(t=t.replace("[App:AppId]",this.eavConfig.appId)).replace("[App:ZoneId]",this.eavConfig.zoneId)),this.fields.forEach((function(n,i){var o=e.model.hasOwnProperty(n)&&e.model[n]&&e.model[n].value?e.model[n].value:"",a=e.preClean(n,o);t=t.replace("["+n+"]",a)})),t},e.prototype.fieldList=function(){var e=this,t=[];if(!this.mask)return t;var n=this.mask.match(this.findFields);return n?n.forEach((function(n,i){var o=n.replace(e.unwrapField,"");t.push(o)})):t.push(this.mask),t},e.prototype.preClean=function(e,t){return t},e.prototype.onChange=function(){var e=this.resolve();this.value!==e&&this.changeEvent(e),this.value=e},e.prototype.watchAllFields=function(){var e=this;this.fields.forEach((function(t){if(e.model[t]){var n=e.model[t].valueChanges.subscribe((function(t){return e.onChange()}));e.subscriptions.push(n)}}))},e.prototype.destroy=function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))},e}();function wo(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"mat-form-field",1),P.Wb(2,"input",2),P.ec("blur",(function(){return P.Fc(n),P.ic().clean(!0)})),P.jc(3,"async"),P.jc(4,"async"),P.Vb(),P.Wb(5,"mat-label"),P.Qc(6),P.jc(7,"async"),P.Vb(),P.Vb(),P.Rb(8,"app-field-helper-text",3),P.Tb()}if(2&e){var i=P.ic();P.Bb(1),P.oc("formGroup",i.group),P.Bb(1),P.oc("formControlName",i.config.field.name)("placeholder",P.kc(3,7,i.placeholder$))("required",P.kc(4,9,i.required$)),P.Bb(4),P.Rc(P.kc(7,11,i.label$)),P.Bb(2),P.oc("config",i.config)("group",i.group)}}var Co=function(e,t){return{disabled:e,showValidation:t}},_o=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.lastAutoCopy="",i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){t.autoGenerateMask=e.AutoGenerateMask||null,t.allowSlashes=e.AllowSlashes||!1,null!=t.fieldMaskService&&(t.fieldMaskService.destroy(),t.fieldMaskService=null),t.fieldMaskService=new yo(t.autoGenerateMask,t.group.controls,t.onSourcesChanged.bind(t),t.preClean)}))),this.onSourcesChanged(this.fieldMaskService.resolve()),this.subscription.add(this.control.valueChanges.subscribe((function(e){t.clean(!1)})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.onSourcesChanged=function(e){var t=this.control.value;if(!t||t===this.lastAutoCopy){var n=Tn.a.stripNonUrlCharacters(e,this.allowSlashes,!0);n&&(this.lastAutoCopy=n,t!==n&&this.control.patchValue(n))}},t.prototype.preClean=function(e,t){return t.replace("/","-").replace("\\","-")},t.prototype.clean=function(e){var t=this.control.value,n=Tn.a.stripNonUrlCharacters(t,this.allowSlashes,e);t!==n&&this.control.patchValue(n)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-url-path"]],features:[P.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"formControlName","placeholder","required","blur"],[3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,wo,9,13,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,Co,P.kc(1,1,t.disabled$),P.kc(2,3,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,_i.b,V.b,V.l,V.d,V.s,jn.g,Wn],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),Oo=n("LuBX");function xo(e,t){if(1&e&&(P.Wb(0,"mat-option",8),P.Qc(1),P.Vb()),2&e){var n=t.$implicit;P.oc("value",n.value),P.Bb(1),P.Sc(" ",n.label," ")}}function ko(e,t){if(1&e&&(P.Wb(0,"mat-select",6),P.Oc(1,xo,2,2,"mat-option",7),P.Vb()),2&e){var n=P.ic().ngIf,i=P.ic();P.oc("formControlName",i.config.field.name)("required",n.required)("placeholder",n.placeholder),P.Bb(1),P.oc("ngForOf",n.dropdownOptions)}}function Mo(e,t){if(1&e&&P.Rb(0,"input",9),2&e){var n=P.ic().ngIf,i=P.ic();P.oc("formControlName",i.config.field.name)("required",n.required)("placeholder",n.placeholder)}}function Io(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",10),P.ec("click",(function(){return P.Fc(n),P.ic(2).toggleFreeTextMode()})),P.Wb(1,"mat-icon",11),P.jc(2,"translate"),P.Qc(3),P.Vb(),P.Vb()}if(2&e){var i=P.ic().ngIf;P.oc("disabled",i.disabled),P.Bb(1),P.oc("matTooltip",P.kc(2,3,i.freeTextMode?"Fields.String.Dropdown":"Fields.String.Freetext")),P.Bb(2),P.Sc(" ",i.freeTextMode?"arrow_drop_down_circle":"text_fields"," ")}}function So(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"mat-form-field",1),P.Oc(2,ko,2,4,"mat-select",2),P.Oc(3,Mo,1,3,"input",3),P.Oc(4,Io,4,5,"button",4),P.Wb(5,"mat-label"),P.Qc(6),P.Vb(),P.Vb(),P.Rb(7,"app-field-helper-text",5),P.Tb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("formGroup",i.group),P.Bb(1),P.oc("ngIf",!n.freeTextMode),P.Bb(1),P.oc("ngIf",n.freeTextMode),P.Bb(1),P.oc("ngIf",n.enableTextEntry),P.Bb(2),P.Rc(n.label),P.Bb(1),P.oc("config",i.config)("group",i.group)}}var To=function(e,t,n,i,o,a,r,c){return{required:e,placeholder:t,label:n,disabled:i,enableTextEntry:o,dropdownOptions:a,freeTextMode:r,showValidation:c}},Po=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.toggleFreeText$=new a.a(!1),i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.enableTextEntry$=this.settings$.pipe(Object(O.a)((function(e){return e.EnableTextEntry||!1}))),this.dropdownOptions$=Object(Ot.a)([this.value$,this.settings$]).pipe(Object(O.a)((function(e){var t,n,i,o;return t=e[0],i=!1,o=[],(n=e[1].DropdownValues)&&(o=n.replace(/\r/g,"").split("\n").map((function(e){var n=e.split(":"),o=n[1],a=n.shift(),r=n.join(":"),c={label:a,value:r||""===o?r:a};return c.value===t&&(i=!0),c}))),i||o.push({label:t,value:t}),o}))),this.freeTextMode$=Object(Ot.a)([this.enableTextEntry$,this.toggleFreeText$]).pipe(Object(O.a)((function(e){return!!e[0]&&e[1]})))},t.prototype.ngOnDestroy=function(){this.toggleFreeText$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleFreeTextMode=function(){this.toggleFreeText$.next(!this.toggleFreeText$.value)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-dropdown"]],features:[P.yb],decls:9,vars:26,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],[3,"formControlName","required","placeholder",4,"ngIf"],["matInput","",3,"formControlName","required","placeholder",4,"ngIf"],["matSuffix","","mat-icon-button","","appClickStopPropagation","",3,"disabled","click",4,"ngIf"],[3,"config","group"],[3,"formControlName","required","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","",3,"formControlName","required","placeholder"],["matSuffix","","mat-icon-button","","appClickStopPropagation","",3,"disabled","click"],[3,"matTooltip"]],template:function(e,t){1&e&&(P.Oc(0,So,8,7,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async")),2&e&&P.oc("ngIf",P.Ac(17,To,P.kc(1,1,t.required$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.label$),P.kc(4,7,t.disabled$),P.kc(5,9,t.enableTextEntry$),P.kc(6,11,t.dropdownOptions$),P.kc(7,13,t.freeTextMode$),P.kc(8,15,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,jn.g,Wn,Oo.a,V.l,V.d,V.s,Y.l,Tt.l,_i.b,V.b,St.a,jn.h,ie.a,te.a,ee.a],pipes:[Y.b,oe.d],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),jo=n("gatd"),Vo=n("9Saw"),$o=n("b67o"),Eo=n("2FQU"),Bo=n("tR80"),Fo=["autocomplete"];function Lo(e,t){if(1&e&&(P.Wb(0,"button",16),P.Wb(1,"mat-icon"),P.Qc(2,"arrow_drop_down"),P.Vb(),P.Vb()),2&e){var n=P.ic();P.oc("disabled",n.disabled||!n.settings.EnableAddExisting)}}function Do(e,t){if(1&e&&(P.Wb(0,"button",18),P.Wb(1,"mat-icon"),P.Qc(2,"arrow_drop_down"),P.Vb(),P.Vb()),2&e){var n=P.ic(2);P.oc("disabled",n.disabled)}}function Wo(e,t){if(1&e){var n=P.Xb();P.Wb(0,"a",17),P.ec("click",(function(){return P.Fc(n),P.ic().toggleFreeText()})),P.Wb(1,"button",18),P.Wb(2,"mat-icon",19),P.jc(3,"translate"),P.Qc(4,"text_fields"),P.Vb(),P.Vb(),P.Oc(5,Do,3,1,"button",20),P.Vb()}if(2&e){var i=P.ic();P.Bb(1),P.oc("disabled",i.disabled),P.Bb(1),P.oc("matTooltip",P.kc(3,3,"Fields.String.Freetext")),P.Bb(3),P.oc("ngIf",i.freeTextMode)}}function zo(e,t){if(1&e&&(P.Wb(0,"mat-option",21),P.Wb(1,"span"),P.Qc(2),P.Vb(),P.Vb()),2&e){var n=t.$implicit,i=P.ic();P.oc("value",n.Value)("disabled",i.isOptionDisabled(n.Value)),P.Bb(2),P.Rc(n.Text?n.Text:n.Value)}}function Ao(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",22),P.ec("click",(function(){return P.Fc(n),P.ic().openNewEntityDialog()})),P.jc(1,"translate"),P.Wb(2,"mat-icon"),P.Qc(3,"add_circle_outline"),P.Vb(),P.Vb()}if(2&e){var i=P.ic();P.oc("matTooltip",P.kc(1,2,"Fields.Entity.New"))("disabled",i.disabled||i.disableAddNew)}}function Ro(e,t){if(1&e){var n=P.Xb();P.Wb(0,"mat-form-field",23),P.Rb(1,"input",24),P.Wb(2,"a",25),P.ec("click",(function(){return P.Fc(n),P.ic().toggleFreeText()})),P.Wb(3,"button",18),P.Wb(4,"mat-icon"),P.Qc(5,"arrow_drop_down"),P.Vb(),P.Vb(),P.Vb(),P.Wb(6,"mat-label"),P.Qc(7),P.Vb(),P.Vb()}if(2&e){var i=P.ic();P.oc("formGroup",i.group),P.Bb(1),P.oc("required",i.required)("formControlName",i.config.field.name)("placeholder",i.placeholder),P.Bb(2),P.oc("disabled",i.disabled),P.Bb(4),P.Rc(i.label)}}function Qo(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div"),P.Qc(1,"debug: "),P.Wb(2,"span",26),P.ec("click",(function(){return P.Fc(n),P.ic().insertNull()})),P.Qc(3,"add null-item"),P.Vb(),P.Vb()}}function Go(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div"),P.Wb(1,"button",27),P.ec("click",(function(){return P.Fc(n),P.ic().openNewEntityDialog()})),P.jc(2,"translate"),P.Wb(3,"mat-icon"),P.Qc(4,"add"),P.Vb(),P.Vb(),P.Vb()}if(2&e){var i=P.ic();P.Bb(1),P.oc("matTooltip",P.kc(2,2,"Fields.Entity.New"))("disabled",i.disabled||i.disableAddNew)}}var No=function(e){return{"mat-form-field-invalid":e}},Uo=function(e){return{"mat-error":e}},qo=function(){function e(e,t){this.translate=e,this.globalConfigurationService=t,this.toggleFreeTextMode=new P.n,this.addSelected=new P.n,this.editEntity=new P.n,this.filteredEntities=[]}return e.prototype.ngOnInit=function(){this.debugEnabled$=this.globalConfigurationService.getDebugEnabled()},e.prototype.ngOnChanges=function(e){var t,n;if(null!=(null===(t=e.availableEntities)||void 0===t?void 0:t.currentValue)){var i=(null===(n=this.autocompleteRef)||void 0===n?void 0:n.nativeElement.value)||"";this.filterSelectionList(i)}},e.prototype.getPlaceholder=function(){return this.availableEntities.length?"search":this.error?this.error:this.translate.instant("Fields.EntityQuery.QueryNoItems")},e.prototype.toggleFreeText=function(){this.disabled||this.toggleFreeTextMode.emit()},e.prototype.filterSelectionList=function(e){this.filteredEntities=""!==e?this.availableEntities.filter((function(t){return t.Text?t.Text.toLowerCase().includes(e.toLowerCase()):t.Value.toLowerCase().includes(e.toLowerCase())})):this.availableEntities},e.prototype.optionSelected=function(e){this.addSelected.emit(e.option.value),this.autocompleteRef.nativeElement.value="",this.autocompleteRef.nativeElement.blur()},e.prototype.insertNull=function(){this.addSelected.emit(null)},e.prototype.isOptionDisabled=function(e){return!!this.selectedEntities.find((function(t){return t.value===e}))},e.prototype.openNewEntityDialog=function(){this.editEntity.emit(null)},e.\u0275fac=function(t){return new(t||e)(P.Qb(oe.e),P.Qb(Eo.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-entity-default-search"]],viewQuery:function(e,t){var n;1&e&&P.Wc(Fo,!0),2&e&&P.Cc(n=P.fc())&&(t.autocompleteRef=n.first)},inputs:{config:"config",group:"group",control:"control",label:"label",placeholder:"placeholder",required:"required",invalid:"invalid",touched:"touched",disabled:"disabled",freeTextMode:"freeTextMode",settings:"settings",error:"error",disableAddNew:"disableAddNew",selectedEntities:"selectedEntities",availableEntities:"availableEntities"},outputs:{toggleFreeTextMode:"toggleFreeTextMode",addSelected:"addSelected",editEntity:"editEntity"},features:[P.zb],decls:22,vars:29,consts:[[3,"hidden"],["fxLayout","row","fxLayoutAlign","start end",1,"ed-field"],[3,"ngClass"],["appearance","standard","color","accent",3,"formGroup","ngClass"],["matInput","",3,"placeholder","matAutocomplete","disabled","blur","input"],["autocomplete",""],["mat-icon-button","","matSuffix","",3,"disabled",4,"ngIf"],["matSuffix","","fxLayoutAlign","center center","appClickStopPropagation","",3,"click",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["fxLayoutAlign","end center",3,"ngClass"],["mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["appearance","standard","color","accent",3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"config","group"],["mat-icon-button","","matSuffix","",3,"disabled"],["matSuffix","","fxLayoutAlign","center center","appClickStopPropagation","",3,"click"],["mat-icon-button","",3,"disabled"],[3,"matTooltip"],["mat-icon-button","",3,"disabled",4,"ngIf"],[3,"value","disabled"],["mat-icon-button","",3,"matTooltip","disabled","click"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix","","appClickStopPropagation","",3,"click"],[3,"click"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click"]],template:function(e,t){if(1&e&&(P.Wb(0,"div",0),P.Wb(1,"div",1),P.Wb(2,"div",2),P.Wb(3,"div",0),P.Wb(4,"mat-form-field",3),P.Wb(5,"input",4,5),P.ec("blur",(function(){return t.control.markAsTouched()}))("input",(function(e){return t.filterSelectionList(e.target.value)})),P.Vb(),P.Oc(7,Lo,3,1,"button",6),P.Oc(8,Wo,6,5,"a",7),P.Wb(9,"mat-label",2),P.Qc(10),P.jc(11,"translate"),P.Vb(),P.Vb(),P.Wb(12,"mat-autocomplete",8,9),P.ec("optionSelected",(function(e){return t.optionSelected(e)})),P.Oc(14,zo,3,3,"mat-option",10),P.Vb(),P.Vb(),P.Vb(),P.Wb(15,"div",11),P.Oc(16,Ao,4,4,"button",12),P.Vb(),P.Vb(),P.Vb(),P.Oc(17,Ro,8,6,"mat-form-field",13),P.Oc(18,Qo,4,0,"div",14),P.jc(19,"async"),P.Rb(20,"app-field-helper-text",15),P.Oc(21,Go,5,4,"div",14)),2&e){var n=P.Dc(13);P.oc("hidden",t.freeTextMode),P.Bb(2),P.oc("ngClass",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue?"ed-field__field-short":"ed-field__field"),P.Bb(1),P.oc("hidden",!t.settings.AllowMultiValue&&t.selectedEntities.length),P.Bb(1),P.oc("formGroup",t.group)("ngClass",P.tc(25,No,t.invalid&&t.touched)),P.Bb(1),P.oc("placeholder",t.getPlaceholder())("matAutocomplete",n)("disabled",t.disabled||!t.settings.EnableAddExisting),P.Bb(2),P.oc("ngIf",!t.settings.EnableTextEntry),P.Bb(1),P.oc("ngIf",t.settings.EnableTextEntry),P.Bb(1),P.oc("ngClass",P.tc(27,Uo,t.invalid&&t.touched)),P.Bb(1),P.Tc(" ",t.settings.AllowMultiValue?P.kc(11,21,"Fields.Entity.Choose"):t.label," ",t.required?"*":""," "),P.Bb(4),P.oc("ngForOf",t.filteredEntities),P.Bb(1),P.oc("ngClass",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue?"ed-field__create-icon":"ed-field__create-icon-hide"),P.Bb(1),P.oc("ngIf",t.settings.EnableCreate&&t.settings.EntityType&&!t.selectedEntities.length&&!t.settings.AllowMultiValue),P.Bb(1),P.oc("ngIf",t.freeTextMode),P.Bb(1),P.oc("ngIf",P.kc(19,23,t.debugEnabled$)),P.Bb(2),P.oc("config",t.config)("group",t.group),P.Bb(1),P.oc("ngIf",!t.freeTextMode&&t.settings.EnableCreate&&t.settings.EntityType&&t.settings.AllowMultiValue)}},directives:[Ae.c,Ae.b,Y.k,J.a,jn.c,V.m,V.f,_i.b,Bo.c,Y.m,jn.g,Bo.a,Y.l,Wn,St.a,jn.h,te.a,ie.a,ee.a,Tt.l,V.b,V.s,V.l,V.d],pipes:[oe.d,Y.b],styles:[".ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px;padding-bottom:4px}.ed-field__create-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e}(),Ho=n("2pW/"),Ko=n("kVtj"),Xo=function(e){return{disabled:e}};function Zo(e,t){if(1&e&&(P.Wb(0,"mat-label",3),P.Qc(1),P.Vb()),2&e){var n=P.ic();P.oc("ngClass",P.tc(3,Xo,n.disabled)),P.Bb(1),P.Tc(" ",n.label," ",n.required?"*":"","\n")}}function Yo(e,t){if(1&e&&(P.Wb(0,"mat-icon",10),P.jc(1,"translate"),P.Qc(2," drag_handle "),P.Vb()),2&e){var n=P.ic(2);P.oc("matTooltipDisabled",n.disabled)("matTooltip",P.kc(1,2,"Fields.Entity.DragMove"))}}function Jo(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",11),P.ec("click",(function(){P.Fc(n);var e=P.ic().$implicit;return P.ic().edit(e.value)})),P.jc(1,"translate"),P.Wb(2,"mat-icon"),P.Qc(3,"edit"),P.Vb(),P.Vb()}if(2&e){var i=P.ic(2);P.oc("matTooltip",P.kc(1,2,"Fields.Entity.Edit"))("disabled",i.config.field.disabled)}}function ea(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",11),P.ec("click",(function(){P.Fc(n);var e=P.ic().$implicit;return P.ic().deleteItem(e.value)})),P.jc(1,"translate"),P.Wb(2,"mat-icon"),P.Qc(3,"delete"),P.Vb(),P.Vb()}if(2&e){var i=P.ic(2);P.oc("matTooltip",P.kc(1,2,"Fields.Entity.Delete"))("disabled",i.disabled)}}function ta(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",11),P.ec("click",(function(){P.Fc(n);var e=P.ic().index;return P.ic().removeItem(e)})),P.jc(1,"translate"),P.Wb(2,"mat-icon"),P.Qc(3),P.Vb(),P.Vb()}if(2&e){var i=P.ic(2);P.oc("matTooltip",P.kc(1,3,"Fields.Entity.Remove"))("disabled",i.disabled),P.Bb(3),P.Rc(i.settings.AllowMultiValue?"clear":"arrow_drop_down")}}var na=function(e,t,n){return{"normal-item":e,"dnd-item":t,disabled:n}};function ia(e,t){if(1&e&&(P.Wb(0,"div",4),P.Wb(1,"div",5),P.Oc(2,Yo,3,4,"mat-icon",6),P.Wb(3,"span",7),P.Qc(4),P.Vb(),P.Vb(),P.Wb(5,"div",8),P.Oc(6,Jo,4,4,"button",9),P.Oc(7,ea,4,4,"button",9),P.Oc(8,ta,4,5,"button",9),P.Vb(),P.Vb()),2&e){var n=t.$implicit,i=P.ic();P.oc("ngClass",P.vc(8,na,!i.settings.AllowMultiValue,i.settings.AllowMultiValue,i.disabled)),P.Bb(1),P.oc("ngClass",P.tc(12,Xo,i.disabled)),P.Bb(1),P.oc("ngIf",i.settings.AllowMultiValue),P.Bb(1),P.oc("matTooltip",n.tooltip),P.Bb(1),P.Sc(" ",n.label," "),P.Bb(2),P.oc("ngIf",i.settings.EnableEdit&&!n.isFreeTextOrNotFound),P.Bb(1),P.oc("ngIf",i.settings.EnableDelete&&!n.isFreeTextOrNotFound),P.Bb(1),P.oc("ngIf",i.settings.EnableRemove)}}var oa=function(e,t){return{"normal-list":e,"dnd-list":t}},aa=function(){function e(){this.reorder=new P.n,this.removeSelected=new P.n,this.editEntity=new P.n,this.deleteEntity=new P.n}return e.prototype.trackByFn=function(e,t){return t.value},e.prototype.drop=function(e){Object(Vo.d)(this.selectedEntities,e.previousIndex,e.currentIndex),this.reorder.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex})},e.prototype.edit=function(e){this.editEntity.emit(e)},e.prototype.removeItem=function(e){this.removeSelected.emit(e)},e.prototype.deleteItem=function(e){this.deleteEntity.emit(e)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Kb({type:e,selectors:[["app-entity-default-list"]],inputs:{config:"config",label:"label",required:"required",disabled:"disabled",freeTextMode:"freeTextMode",settings:"settings",selectedEntities:"selectedEntities"},outputs:{reorder:"reorder",removeSelected:"removeSelected",editEntity:"editEntity",deleteEntity:"deleteEntity"},decls:3,vars:8,consts:[["class","field-label",3,"ngClass",4,"ngIf"],["cdkDropList","",3,"cdkDropListDisabled","ngClass","cdkDropListDropped"],["cdkDrag","",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"field-label",3,"ngClass"],["cdkDrag","",3,"ngClass"],[1,"item-title",3,"ngClass"],["class","item-title__icon",3,"matTooltipDisabled","matTooltip",4,"ngIf"],[1,"item-title__text",3,"matTooltip"],[1,"item-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"matTooltip","disabled","click",4,"ngIf"],[1,"item-title__icon",3,"matTooltipDisabled","matTooltip"],["mat-icon-button","","appMousedownStopPropagation","",3,"matTooltip","disabled","click"]],template:function(e,t){1&e&&(P.Oc(0,Zo,2,5,"mat-label",0),P.Wb(1,"div",1),P.ec("cdkDropListDropped",(function(e){return t.drop(e)})),P.Oc(2,ia,9,14,"div",2),P.Vb()),2&e&&(P.oc("ngIf",!t.settings.AllowMultiValue),P.Bb(1),P.oc("cdkDropListDisabled",!t.settings.AllowMultiValue||t.disabled)("ngClass",P.uc(5,oa,!t.settings.AllowMultiValue,t.settings.AllowMultiValue)),P.Bb(1),P.oc("ngForOf",t.selectedEntities)("ngForTrackBy",t.trackByFn))},directives:[Y.m,Vo.b,Y.k,J.a,Y.l,jn.g,Vo.a,ee.a,te.a,St.a,Ko.a],pipes:[oe.d],styles:[".normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.normal-list[_ngcontent-%COMP%]   .normal-item.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(90deg,rgba(0,0,0,.2) 0,rgba(0,0,0,.2) 33%,transparent 0);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:rgba(29,39,61,.44)}.field-label.disabled[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type{height:31px}.normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-actions[_ngcontent-%COMP%], .normal-list[_ngcontent-%COMP%]   .normal-item[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.dnd-list[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.dnd-item[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.dnd-item[_ngcontent-%COMP%]:not(.disabled){cursor:move}.dnd-item[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:rgba(29,39,61,.24)}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:rgba(29,39,61,.24);cursor:default}.item-actions[_ngcontent-%COMP%]{flex-shrink:0}.item-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .dnd-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dnd-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),e}();function ra(e,t){if(1&e){var n=P.Xb();P.Wb(0,"app-entity-default-list",3),P.ec("reorder",(function(e){return P.Fc(n),P.ic(2).reorder(e)}))("removeSelected",(function(e){return P.Fc(n),P.ic(2).removeSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic(2).editEntity(e)}))("deleteEntity",(function(e){return P.Fc(n),P.ic(2).deleteEntity(e)})),P.Vb()}if(2&e){var i=P.ic().ngIf,o=P.ic();P.oc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function ca(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Oc(1,ra,1,7,"app-entity-default-list",1),P.Wb(2,"app-entity-default-search",2),P.ec("toggleFreeTextMode",(function(){return P.Fc(n),P.ic().toggleFreeTextMode()}))("addSelected",(function(e){return P.Fc(n),P.ic().addSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic().editEntity(e)})),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),P.Bb(1),P.oc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var sa=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},la=function(e){function t(t,n,i,o,r,c){var s=e.call(this,t,n)||this;return s.entityService=i,s.translate=o,s.editRoutingService=r,s.snackBar=c,s.useQuery=!1,s.error$=new a.a(""),s.freeTextMode$=new a.a(!1),s.disableAddNew$=new a.a(!0),s.eavConfig=t.getEavConfig(),s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.config.entityCache$=new a.a([]),this.settings$=this.settings$.pipe(Object(O.a)((function(e){return t.calculateSettings(e)}))),this.separator=this.config.field.settings$.value.Separator,this.selectedEntities$=Object(Ot.a)([this.value$,this.config.entityCache$]).pipe(Object(O.a)((function(e){return Pn(e[0],t.separator,e[1],t.translate)}))),this.isExpanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.subscription.add(this.settings$.subscribe((function(e){var n;null===(n=t.contentTypeMask)||void 0===n||n.destroy(),t.contentTypeMask=new yo(e.EntityType,t.group.controls,t.useQuery?t.updateAddNew.bind(t):t.fetchAvailableEntities.bind(t),null,t.eavConfig)}))),this.useQuery?this.updateAddNew():this.fetchAvailableEntities(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.error$.complete(),this.freeTextMode$.complete(),this.disableAddNew$.complete(),this.config.entityCache$.complete(),this.contentTypeMask.destroy(),e.prototype.ngOnDestroy.call(this)},t.prototype.toggleFreeTextMode=function(){this.freeTextMode$.next(!this.freeTextMode$.value)},t.prototype.calculateSettings=function(e){var t=Object(i.a)({},e);return null==t.EntityType&&(t.EntityType=""),null==t.AllowMultiValue&&(t.AllowMultiValue=!1),null==t.EnableEdit&&(t.EnableEdit=!0),null==t.EnableCreate&&(t.EnableCreate=!0),null==t.EnableAddExisting&&(t.EnableAddExisting=!0),null==t.EnableRemove&&(t.EnableRemove=!0),null==t.EnableDelete&&(t.EnableDelete=!1),t},t.prototype.fetchAvailableEntities=function(){var e=this;this.updateAddNew();var t,n=this.contentTypeMask.resolve();this.settings$.pipe(Object(x.a)(1)).subscribe((function(e){t=e.EnableAddExisting})),this.entityService.getAvailableEntities(t?null:this.control.value,n).subscribe((function(t){e.config.entityCache$.next(t)}))},t.prototype.updateAddNew=function(){var e=this.contentTypeMask.resolve();this.disableAddNew$.next(!e)},t.prototype.reorder=function(e){this.updateValue("reorder",e)},t.prototype.addSelected=function(e){this.updateValue("add",e)},t.prototype.removeSelected=function(e){this.updateValue("delete",e)},t.prototype.editEntity=function(e){var t,n;null==e?t={items:[{ContentTypeName:this.contentTypeMask.resolve()}]}:(this.config.entityCache$.pipe(Object(x.a)(1)).subscribe((function(e){n=e})),t={items:[{EntityId:n.find((function(t){return t.Value===e})).Id}]}),this.editRoutingService.open(this.config.field.index,this.config.entity.entityGuid,t)},t.prototype.deleteEntity=function(e){var t,n=this,i=this.config.entityCache$.value.find((function(t){return t.Value===e})),o=i.Id.toString(),a=i.Text,r=this.contentTypeMask.resolve();this.selectedEntities$.pipe(Object(x.a)(1)).subscribe((function(e){t=e}));var c=t.findIndex((function(t){return t.value===e}));confirm(this.translate.instant("Data.Delete.Question",{title:a,id:o}))&&(this.snackBar.open("Deleting..."),this.entityService.delete(r,o,!1).subscribe({next:function(){n.snackBar.open("Deleted",null,{duration:2e3}),n.removeSelected(c),n.fetchAvailableEntities()},error:function(e){n.snackBar.dismiss(),confirm(n.translate.instant("Data.Delete.Question",{title:a,id:o}))&&(n.snackBar.open("Deleting..."),n.entityService.delete(r,o,!0).subscribe((function(e){n.snackBar.open("Deleted",null,{duration:2e3}),n.removeSelected(c),n.fetchAvailableEntities()})))}}))},t.prototype.refreshOnChildClosed=function(){var e=this;this.subscription.add(this.editRoutingService.childFormClosed().subscribe((function(){e.fetchAvailableEntities()}))),this.subscription.add(this.editRoutingService.childFormResult(this.config.field.index,this.config.entity.entityGuid).subscribe((function(t){var n=Object.keys(t)[0];e.addSelected(n)})))},t.prototype.updateValue=function(e,t){var n=this,o="string"==typeof this.control.value?Tn.a.convertValueToArray(this.control.value,this.separator):Object(i.g)(this.control.value);switch(e){case"add":o.push(t);break;case"delete":o.splice(t,1);break;case"reorder":var a=t;Object(Vo.d)(o,a.previousIndex,a.currentIndex)}if("string"==typeof this.control.value){var r=Tn.a.convertArrayToString(o,this.separator);this.control.patchValue(r)}else this.control.patchValue(o);this.control.dirty||this.control.markAsDirty(),"delete"!==e||o.length||setTimeout((function(){var e;null===(e=n.entitySearchComponent.autocompleteRef)||void 0===e||e.nativeElement.focus()}),0)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb($o.a),P.Qb(oe.e),P.Qb(Z.a),P.Qb(Ho.b))},t.\u0275cmp=P.Kb({type:t,selectors:[["entity-default"]],viewQuery:function(e,t){var n;1&e&&P.Wc(qo,!0),2&e&&P.Cc(n=P.fc())&&(t.entitySearchComponent=n.first)},features:[P.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(P.Oc(0,ca,3,16,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.jc(10,"async"),P.jc(11,"async"),P.jc(12,"async"),P.jc(13,"async")),2&e&&P.oc("ngIf",P.Bc(27,sa,[P.kc(1,1,t.label$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.required$),P.kc(4,7,t.invalid$),t.control.touched,P.kc(5,9,t.disabled$),P.kc(6,11,t.freeTextMode$),P.kc(7,13,t.settings$),P.kc(8,15,t.selectedEntities$),P.kc(9,17,t.config.entityCache$),P.kc(10,19,t.disableAddNew$),P.kc(11,21,t.isExpanded$),P.kc(12,23,t.error$),P.kc(13,25,t.showValidation$)]))},directives:[Y.m,qo,aa],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(z);function da(e,t){if(1&e){var n=P.Xb();P.Wb(0,"app-entity-default-list",3),P.ec("reorder",(function(e){return P.Fc(n),P.ic(2).reorder(e)}))("removeSelected",(function(e){return P.Fc(n),P.ic(2).removeSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic(2).editEntity(e)}))("deleteEntity",(function(e){return P.Fc(n),P.ic(2).deleteEntity(e)})),P.Vb()}if(2&e){var i=P.ic().ngIf,o=P.ic();P.oc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function ua(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Oc(1,da,1,7,"app-entity-default-list",1),P.Wb(2,"app-entity-default-search",2),P.ec("toggleFreeTextMode",(function(){return P.Fc(n),P.ic().toggleFreeTextMode()}))("addSelected",(function(e){return P.Fc(n),P.ic().addSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic().editEntity(e)})),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),P.Bb(1),P.oc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var pa=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},fa=function(e){function t(t,n,i,o,a,r,c){var s=e.call(this,t,n,i,o,a,r)||this;return s.queryService=c,s.useQuery=!0,s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){var n;null===(n=t.paramsMask)||void 0===n||n.destroy(),t.paramsMask=new yo(e.UrlParameters,t.group.controls,t.fetchAvailableEntities.bind(t),null,t.eavConfig)}))),this.fetchAvailableEntities()},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return null==n.Query&&(n.Query=""),null!=n.StreamName&&""!==n.StreamName||(n.StreamName="Default"),null==n.UrlParameters&&(n.UrlParameters=""),n},t.prototype.fetchAvailableEntities=function(){var e,t=this;if(this.settings$.pipe(Object(x.a)(1)).subscribe((function(t){e=t})),e.Query){var n=e.StreamName,i=e.Query.includes("/")?e.Query:e.Query+"/"+n,o=this.paramsMask.resolve();this.queryService.getAvailableEntities(i,!0,o).subscribe({next:function(e){if(e)if(e[n]){var i=e[n].map(t.queryEntityMapping.bind(t));t.config.entityCache$.next(i)}else t.error$.next(t.translate.instant("Fields.EntityQuery.QueryStreamNotFound")+n);else t.error$.next(t.translate.instant("Fields.EntityQuery.QueryError"))},error:function(e){console.error(e),console.error(t.translate.instant("Fields.EntityQuery.QueryError")+" - "+e.data)}})}else alert("No query defined for "+this.config.field.name+" - can't load entities")},t.prototype.queryEntityMapping=function(e){return{Id:e.Id,Value:e.Guid,Text:e.Title}},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb($o.a),P.Qb(oe.e),P.Qb(Z.a),P.Qb(Ho.b),P.Qb(jo.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["entity-query"]],features:[P.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(P.Oc(0,ua,3,16,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.jc(10,"async"),P.jc(11,"async"),P.jc(12,"async"),P.jc(13,"async")),2&e&&P.oc("ngIf",P.Bc(27,pa,[P.kc(1,1,t.label$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.required$),P.kc(4,7,t.invalid$),t.control.touched,P.kc(5,9,t.disabled$),P.kc(6,11,t.freeTextMode$),P.kc(7,13,t.settings$),P.kc(8,15,t.selectedEntities$),P.kc(9,17,t.config.entityCache$),P.kc(10,19,t.disableAddNew$),P.kc(11,21,t.isExpanded$),P.kc(12,23,t.error$),P.kc(13,25,t.showValidation$)]))},directives:[Y.m,qo,aa],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(la);function ga(e,t){if(1&e){var n=P.Xb();P.Wb(0,"app-entity-default-list",3),P.ec("reorder",(function(e){return P.Fc(n),P.ic(2).reorder(e)}))("removeSelected",(function(e){return P.Fc(n),P.ic(2).removeSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic(2).editEntity(e)}))("deleteEntity",(function(e){return P.Fc(n),P.ic(2).deleteEntity(e)})),P.Vb()}if(2&e){var i=P.ic().ngIf,o=P.ic();P.oc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function ba(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Oc(1,ga,1,7,"app-entity-default-list",1),P.Wb(2,"app-entity-default-search",2),P.ec("toggleFreeTextMode",(function(){return P.Fc(n),P.ic().toggleFreeTextMode()}))("addSelected",(function(e){return P.Fc(n),P.ic().addSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic().editEntity(e)})),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),P.Bb(1),P.oc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var ha=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},ma=function(e){function t(t,n,i,o,a,r,c){return e.call(this,t,n,i,o,a,r,c)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return null==n.Value&&(n.Value=""),null==n.Label&&(n.Label=""),null==n.EnableTextEntry&&(n.EnableTextEntry=!1),null!=n.Separator&&""!==n.Separator||(n.Separator=","),n},t.prototype.queryEntityMapping=function(e){var t;return this.settings$.pipe(Object(x.a)(1)).subscribe((function(e){t=e})),{Id:e.Id,Value:e[t.Value],Text:e[t.Label]}},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb($o.a),P.Qb(oe.e),P.Qb(Z.a),P.Qb(Ho.b),P.Qb(jo.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-dropdown-query"]],features:[P.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(P.Oc(0,ba,3,16,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.jc(10,"async"),P.jc(11,"async"),P.jc(12,"async"),P.jc(13,"async")),2&e&&P.oc("ngIf",P.Bc(27,ha,[P.kc(1,1,t.label$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.required$),P.kc(4,7,t.invalid$),t.control.touched,P.kc(5,9,t.disabled$),P.kc(6,11,t.freeTextMode$),P.kc(7,13,t.settings$),P.kc(8,15,t.selectedEntities$),P.kc(9,17,t.config.entityCache$),P.kc(10,19,t.disableAddNew$),P.kc(11,21,t.isExpanded$),P.kc(12,23,t.error$),P.kc(13,25,t.showValidation$)]))},directives:[Y.m,qo,aa],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(fa),va=n("Scw0"),ya=n("wrf9");function wa(e,t){if(1&e&&P.Rb(0,"i"),2&e){var n=P.ic().ngIf;P.Fb("icon-preview ",n.previewCss," ",n.value,"")}}function Ca(e,t){if(1&e&&(P.Wb(0,"mat-option",9),P.Wb(1,"div",2),P.Rb(2,"i"),P.Wb(3,"span"),P.Qc(4),P.Vb(),P.Vb(),P.Vb()),2&e){var n=t.$implicit,i=P.ic().ngIf;P.oc("value",n.class),P.Bb(2),P.Fb("icon-preview ",i.previewCss," ",n.class,""),P.Bb(2),P.Rc(n.label)}}function _a(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"mat-form-field",1),P.Wb(2,"div",2),P.Oc(3,wa,1,4,"i",3),P.Rb(4,"input",4),P.jc(5,"async"),P.jc(6,"async"),P.Vb(),P.Wb(7,"mat-autocomplete",null,5),P.Wb(9,"cdk-virtual-scroll-viewport",6),P.Oc(10,Ca,5,6,"mat-option",7),P.jc(11,"async"),P.Vb(),P.Vb(),P.Wb(12,"mat-label"),P.Qc(13),P.jc(14,"async"),P.Vb(),P.Vb(),P.Rb(15,"app-field-helper-text",8),P.Tb()),2&e){var n=t.ngIf,i=P.Dc(8),o=P.ic();P.Bb(1),P.oc("formGroup",o.group),P.Bb(2),P.oc("ngIf",n.value),P.Bb(1),P.oc("formControlName",o.config.field.name)("placeholder",P.kc(5,10,o.placeholder$))("required",P.kc(6,12,o.required$))("matAutocomplete",i),P.Bb(6),P.oc("cdkVirtualForOf",P.kc(11,14,o.filteredIcons$)),P.Bb(3),P.Rc(P.kc(14,16,o.label$)),P.Bb(2),P.oc("config",o.config)("group",o.group)}}var Oa=function(e,t,n,i){return{value:e,disabled:t,previewCss:n,showValidation:i}},xa=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.scriptsLoaderService=i,o.iconOptions$=new a.a([]),o}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){var n=e.CssPrefix||"",i=e.ShowPrefix||!1;t.scriptsLoaderService.load((e.Files||"").split("\n"),(function(){var e=function(e,t){var n=[],i={};if(!e)return n;for(var o=t?0:e.length-1,a=0;a<document.styleSheets.length;a++){var r=document.styleSheets[a];if(r){var c=void 0;try{c=r.rules}catch(p){}if(!c)try{c=r.cssRules}catch(p){}if(c)for(var s=0;s<c.length;s++){var l=c[s];if(l.selectorText&&l.selectorText.startsWith(e)){var d=l.selectorText,u=d.substring(0,d.indexOf(":")).replace(".","");i[u]||(n.push({rule:l,class:u,search:null==u?void 0:u.toLowerCase(),label:u.substring(o)}),i[u]=!0)}}}}return n}(n,i);t.iconOptions$.next(e)}))}))),this.previewCss$=this.settings$.pipe(Object(O.a)((function(e){return e.PreviewCss}))),this.filteredIcons$=Object(Ot.a)([this.value$,this.iconOptions$]).pipe(Object(O.a)((function(e){var t=e[0],n=e[1];return t?n.filter((function(e){var n,i;return null!==(i=null===(n=e.search)||void 0===n?void 0:n.includes(t.toLowerCase()))&&void 0!==i&&i})):n})))},t.prototype.ngOnDestroy=function(){this.iconOptions$.complete(),e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(va.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-font-icon-picker"]],features:[P.yb],decls:5,vars:14,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],[1,"icon-option"],[3,"class",4,"ngIf"],["matInput","",3,"formControlName","placeholder","required","matAutocomplete"],["auto","matAutocomplete"],["itemSize","48","minBufferPx","500","maxBufferPx","1000",2,"height","256px"],[3,"value",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"config","group"],[3,"value"]],template:function(e,t){1&e&&(P.Oc(0,_a,16,18,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async")),2&e&&P.oc("ngIf",P.wc(9,Oa,P.kc(1,1,t.value$),P.kc(2,3,t.disabled$),P.kc(3,5,t.previewCss$),P.kc(4,7,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,_i.b,V.b,Bo.c,V.l,V.d,V.s,Bo.a,ya.c,ya.a,ya.b,jn.g,Wn,Tt.l],pipes:[Y.b],styles:[".icon-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:block;height:18px;margin-right:8px}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),ka=n("6fnQ"),Ma=n("Q+Kz"),Ia={Token:{ext:".html",prefix:"",suggestion:Ma.c},"C# Razor":{ext:".cshtml",prefix:"_",suggestion:Ma.b}};function Sa(e,t){if(1&e&&(P.Wb(0,"mat-option",8),P.Qc(1),P.Vb()),2&e){var n=t.$implicit;P.oc("value",n),P.Bb(1),P.Sc(" ",n," ")}}function Ta(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",1),P.Wb(2,"mat-form-field",2),P.Wb(3,"mat-select",3),P.jc(4,"async"),P.Wb(5,"mat-option",4),P.Qc(6,"(no file selected)"),P.Vb(),P.Oc(7,Sa,2,2,"mat-option",5),P.jc(8,"async"),P.Vb(),P.Wb(9,"mat-label"),P.Qc(10),P.jc(11,"async"),P.Vb(),P.Vb(),P.Wb(12,"button",6),P.ec("click",(function(){return P.Fc(n),P.ic().createTemplate()})),P.jc(13,"async"),P.Wb(14,"mat-icon"),P.Qc(15,"add"),P.Vb(),P.Vb(),P.Vb(),P.Rb(16,"app-field-helper-text",7),P.Tb()}if(2&e){var i=P.ic();P.Bb(2),P.oc("formGroup",i.group),P.Bb(1),P.oc("formControlName",i.config.field.name)("required",P.kc(4,8,i.required$)),P.Bb(4),P.oc("ngForOf",P.kc(8,10,i.templateOptions$)),P.Bb(3),P.Rc(P.kc(11,12,i.label$)),P.Bb(2),P.oc("disabled",P.kc(13,14,i.disabled$)),P.Bb(4),P.oc("config",i.config)("group",i.group)}}var Pa=function(e){return{showValidation:e}},ja=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.assetsService=i,o.templateOptions$=new a.a([]),o.activeSpec=Ia.Token,o.templates=[],o.global=!1,o.resetIfNotFound=!1,o}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.typeWatcher=new yo("[Type]",this.group.controls,this.setFileConfig.bind(this),null),this.locationWatcher=new yo("[Location]",this.group.controls,this.onLocationChange.bind(this),null),this.setFileConfig(this.typeWatcher.resolve()||"Token"),this.onLocationChange(this.locationWatcher.resolve()||null)},t.prototype.ngOnDestroy=function(){this.templateOptions$.complete(),this.typeWatcher.destroy(),this.locationWatcher.destroy(),e.prototype.ngOnDestroy.call(this)},t.prototype.setFileConfig=function(e){this.activeSpec=Ia[e],this.setTemplateOptions()},t.prototype.onLocationChange=function(e){var t=this;this.global="Host File System"===e,this.assetsService.getAll(this.global).subscribe((function(e){t.templates=e,t.resetIfNotFound=!0,t.setTemplateOptions()}))},t.prototype.setTemplateOptions=function(){var e=this,t=this.templates,n=this.activeSpec.ext;t=(t=t.filter((function(e){return!e.includes(".code.")}))).filter((function(e){return e.slice(e.length-n.length)===n})),this.templateOptions$.next(t),this.resetIfNotFound&&!t.find((function(t){return t===e.control.value}))&&this.control.patchValue("")},t.prototype.createTemplate=function(){var e=this,t=prompt("Enter new file name",this.activeSpec.suggestion);if(t){var n="",i=(t=t.replace("\\","/")).lastIndexOf("/");i>-1&&(n=t.substring(0,i+1),t=t.substring(i+1)),t.endsWith(this.activeSpec.ext)||(t+=this.activeSpec.ext),""!==this.activeSpec.prefix&&t[0]!==this.activeSpec.prefix&&(t=this.activeSpec.prefix+t);var o=n+t;this.assetsService.create(o,this.global).subscribe((function(t){!1===t?alert("Server reported that create failed - the file probably already exists"):(e.templates.push(o),e.setTemplateOptions(),e.control.patchValue(o))}))}},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(ka.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["string-template-picker"]],features:[P.yb],decls:2,vars:5,consts:[[4,"ngIf"],[1,"picker-wrapper"],["appearance","standard","color","accent",3,"formGroup"],[3,"formControlName","required"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Create a new file",3,"disabled","click"],[3,"config","group"],[3,"value"]],template:function(e,t){1&e&&(P.Oc(0,Ta,17,16,"ng-container",0),P.jc(1,"async")),2&e&&P.oc("ngIf",P.tc(3,Pa,P.kc(1,1,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,Oo.a,V.l,V.d,V.s,Tt.l,Y.l,jn.g,St.a,ee.a,te.a,Wn],pipes:[Y.b],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z);function Va(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"div",1),P.Wb(2,"mat-slide-toggle",2),P.Qc(3),P.jc(4,"async"),P.Vb(),P.Rb(5,"app-field-helper-text",3),P.Vb(),P.Tb()),2&e){var n=P.ic();P.Bb(1),P.oc("formGroup",n.group),P.Bb(1),P.oc("formControlName",n.config.field.name),P.Bb(1),P.Rc(P.kc(4,5,n.label$)),P.Bb(2),P.oc("config",n.config)("group",n.group)}}var $a=function(e,t){return{disabled:e,showValidation:t}},Ea=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.label$=Object(Ot.a)([this.value$,this.settings$,this.label$]).pipe(Object(O.a)((function(e){var t=e[0],n=e[1];return!0===t&&null!=n.TitleTrue&&""!==n.TitleTrue?n.TitleTrue:!1===t&&null!=n.TitleFalse&&""!==n.TitleFalse?n.TitleFalse:e[2]})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["boolean-default"]],features:[P.yb],decls:3,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],[3,"formControlName"],["disableError","true",3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,Va,6,7,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,$a,P.kc(1,1,t.disabled$),P.kc(2,3,t.showValidation$)))},directives:[Y.m,V.m,V.f,Ze.a,V.l,V.d,Wn],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),Ba=function(e,t){return{"toggle-false":e,"toggle-null":t}};function Fa(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",1),P.Wb(2,"mat-slide-toggle",2),P.ec("toggleChange",(function(){return P.Fc(n),P.ic().toggle()})),P.jc(3,"async"),P.Qc(4),P.jc(5,"async"),P.Vb(),P.Rb(6,"app-field-helper-text",3),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("formGroup",o.group),P.Bb(1),P.oc("disabled",P.kc(3,7,o.disabled$))("checked",i.value)("ngClass",P.uc(11,Ba,!1===i.value,null===i.value)),P.Bb(2),P.Sc(" ",P.kc(5,9,o.label$)," "),P.Bb(2),P.oc("config",o.config)("group",o.group)}}var La=function(e,t){return{value:e,showValidation:t}},Da=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.value$=this.value$.pipe(Object(O.a)((function(e){return""===e?null:e}))),this.label$=Object(Ot.a)([this.value$,this.settings$,this.label$]).pipe(Object(O.a)((function(e){var t=e[0],n=e[1];return!0===t&&null!=n.TitleTrue&&""!==n.TitleTrue?n.TitleTrue:!1===t&&null!=n.TitleFalse&&""!==n.TitleFalse?n.TitleFalse:null===t&&null!=n.TitleIndeterminate&&""!==n.TitleIndeterminate?n.TitleIndeterminate:e[2]})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.toggle=function(){var e;switch(this.control.value){case!1:e=null;break;case"":case null:e=!0;break;case!0:e=!1}this.control.patchValue(e)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["boolean-tristate"]],features:[P.yb],decls:3,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],[3,"disabled","checked","ngClass","toggleChange"],["disableError","true",3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,Fa,7,14,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,La,P.kc(1,1,t.value$),P.kc(2,3,t.showValidation$)))},directives:[Y.m,V.m,V.f,Ze.a,Y.k,J.a,Wn],pipes:[Y.b],styles:[".toggle-false .mat-slide-toggle-bar{background-color:orange}  .toggle-null .mat-slide-toggle-thumb-container{margin-left:8px}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),Wa=n("z2MI"),za=n("M/RD");function Aa(e,t){if(1&e&&(P.Wb(0,"mat-form-field",3),P.Rb(1,"input",4),P.Rb(2,"mat-datepicker-toggle",5),P.jc(3,"translate"),P.Rb(4,"mat-datepicker",null,6),P.Wb(6,"mat-label"),P.Qc(7),P.Vb(),P.Vb()),2&e){var n=P.Dc(5),i=P.ic().ngIf,o=P.ic();P.oc("formGroup",o.group),P.Bb(1),P.oc("formControlName",o.config.field.name)("matDatepicker",n)("placeholder",i.placeholder)("required",i.required),P.Bb(1),P.oc("for",n)("matTooltip",P.kc(3,8,"Fields.DateTime.Open")),P.Bb(5),P.Rc(i.label)}}function Ra(e,t){if(1&e&&(P.Wb(0,"mat-form-field",3),P.Rb(1,"input",7),P.Rb(2,"mat-datepicker-toggle",5),P.jc(3,"translate"),P.Rb(4,"ngx-mat-datetime-picker",null,6),P.Wb(6,"mat-label"),P.Qc(7),P.Vb(),P.Vb()),2&e){var n=P.Dc(5),i=P.ic().ngIf,o=P.ic();P.oc("formGroup",o.group),P.Bb(1),P.oc("formControlName",o.config.field.name)("ngxMatDatetimePicker",n)("placeholder",i.placeholder)("required",i.required),P.Bb(1),P.oc("for",n)("matTooltip",P.kc(3,8,"Fields.DateTime.Open")),P.Bb(5),P.Rc(i.label)}}function Qa(e,t){if(1&e&&(P.Ub(0),P.Oc(1,Aa,8,10,"mat-form-field",1),P.Oc(2,Ra,8,10,"mat-form-field",1),P.Rb(3,"app-field-helper-text",2),P.Tb()),2&e){var n=t.ngIf,i=P.ic();P.Bb(1),P.oc("ngIf",!n.useTimePicker),P.Bb(1),P.oc("ngIf",n.useTimePicker),P.Bb(1),P.oc("config",i.config)("group",i.group)}}var Ga=function(e,t,n,i,o,a){return{useTimePicker:e,placeholder:t,required:n,disabled:i,label:o,showValidation:a}},Na=function(e){function t(t,n,i,o,a){var r=e.call(this,t,n)||this;r.translate=i,r.dateAdapter=o,r.ngxDateTimeAdapter=a;var c=r.translate.currentLang;return r.dateAdapter.setLocale(c),r.ngxDateTimeAdapter.setLocale(c),r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.useTimePicker$=this.settings$.pipe(Object(O.a)((function(e){return e.UseTimePicker})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(oe.e),P.Qb(Tt.a),P.Qb(Wa.b))},t.\u0275cmp=P.Kb({type:t,selectors:[["datetime-default"]],features:[P.yb],decls:7,vars:20,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup",4,"ngIf"],[3,"config","group"],["appearance","standard","color","accent",3,"formGroup"],["matInput","",3,"formControlName","matDatepicker","placeholder","required"],["matSuffix","",3,"for","matTooltip"],["picker",""],["matInput","",3,"formControlName","ngxMatDatetimePicker","placeholder","required"]],template:function(e,t){1&e&&(P.Oc(0,Qa,4,4,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async")),2&e&&P.oc("ngIf",P.yc(13,Ga,P.kc(1,1,t.useTimePicker$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.required$),P.kc(4,7,t.disabled$),P.kc(5,9,t.label$),P.kc(6,11,t.showValidation$)))},directives:[Y.m,Wn,jn.c,V.m,V.f,_i.b,V.b,za.f,V.l,V.d,V.s,za.i,jn.h,ee.a,za.e,jn.g,Wa.c,Wa.d],pipes:[Y.b,oe.d],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),Ua=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Kb({type:e,selectors:[["empty-default"]],decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),e}();function qa(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"mat-form-field",1),P.Rb(2,"input",2),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.Wb(7,"mat-label"),P.Qc(8),P.jc(9,"async"),P.Vb(),P.Vb(),P.Rb(10,"app-field-helper-text",3),P.Tb()),2&e){var n=P.ic();P.Bb(1),P.oc("formGroup",n.group),P.Bb(1),P.oc("formControlName",n.config.field.name)("required",P.kc(3,9,n.required$))("placeholder",P.kc(4,11,n.placeholder$))("min",P.kc(5,13,n.min$))("max",P.kc(6,15,n.max$)),P.Bb(6),P.Rc(P.kc(9,17,n.label$)),P.Bb(2),P.oc("config",n.config)("group",n.group)}}var Ha=function(e,t){return{disabled:e,showValidation:t}},Ka=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.min$=this.settings$.pipe(Object(O.a)((function(e){return e.Min}))),this.max$=this.settings$.pipe(Object(O.a)((function(e){return e.Max})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["number-default"]],features:[P.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",3,"formGroup"],["matInput","","type","number",3,"formControlName","required","placeholder","min","max"],[3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,qa,11,19,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,Ha,P.kc(1,1,t.disabled$),P.kc(2,3,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,_i.b,V.p,V.b,V.l,V.d,V.s,jn.g,Wn],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z);function Xa(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",16),P.ec("click",(function(){return P.Fc(n),P.ic(3).toggleAdam(!1,!1)})),P.jc(1,"translate"),P.Rb(2,"mat-icon",17),P.Vb()}if(2&e){var i=P.ic(2).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.Default.AdamTip"))("disabled",i.disabled)}}function Za(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",18),P.ec("click",(function(){return P.Fc(n),P.ic(3).openPageDialog()})),P.jc(1,"translate"),P.Rb(2,"mat-icon",19),P.Vb()}if(2&e){var i=P.ic(2).ngIf;P.oc("matTooltip",P.kc(1,2,"Fields.Hyperlink.Default.PageTip"))("disabled",i.disabled)}}function Ya(e,t){if(1&e&&(P.Wb(0,"button",20),P.jc(1,"translate"),P.Wb(2,"mat-icon"),P.Qc(3,"more_vert"),P.Vb(),P.Vb()),2&e){P.ic();var n=P.Dc(6),i=P.ic().ngIf;P.oc("matTooltip",P.kc(1,3,"Fields.Hyperlink.Default.MoreOptions"))("disabled",i.disabled)("matMenuTriggerFor",n)}}function Ja(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",21),P.ec("click",(function(){return P.Fc(n),P.ic(3).toggleAdam(!1,!1)})),P.Rb(1,"mat-icon",17),P.Wb(2,"span"),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Vb()}2&e&&(P.Bb(3),P.Rc(P.kc(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function er(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",21),P.ec("click",(function(){return P.Fc(n),P.ic(3).openPageDialog()})),P.Rb(1,"mat-icon",19),P.Wb(2,"span"),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Vb()}2&e&&(P.Bb(3),P.Rc(P.kc(4,1,"Fields.Hyperlink.Default.MenuPage")))}function tr(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",21),P.ec("click",(function(){return P.Fc(n),P.ic(3).toggleAdam(!0,!0)})),P.Rb(1,"mat-icon",22),P.Wb(2,"span"),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Vb()}2&e&&(P.Bb(3),P.Rc(P.kc(4,1,"Fields.Hyperlink.Default.MenuImage")))}function nr(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",21),P.ec("click",(function(){return P.Fc(n),P.ic(3).toggleAdam(!0,!1)})),P.Rb(1,"mat-icon",23),P.Wb(2,"span"),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Vb()}2&e&&(P.Bb(3),P.Rc(P.kc(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function ir(e,t){if(1&e&&(P.Wb(0,"div",24),P.Wb(1,"div",25),P.Qc(2),P.Vb(),P.Wb(3,"div",26),P.Wb(4,"a",27),P.Wb(5,"span"),P.Qc(6),P.Vb(),P.Vb(),P.Vb(),P.Vb()),2&e){var n=P.ic(2).ngIf;P.Bb(2),P.Rc(n.value),P.Bb(2),P.oc("href",n.preview.url,P.Ic)("matTooltip",n.preview.url),P.Bb(2),P.Rc(n.preview.floatingText)}}function or(e,t){if(1&e&&(P.Wb(0,"a",31),P.Wb(1,"div",32),P.Rb(2,"img",33),P.Vb(),P.Vb()),2&e){var n=P.ic(3).ngIf;P.oc("href",n.preview.thumbnailUrl,P.Ic),P.Bb(2),P.oc("src",n.preview.thumbnailPreviewUrl,P.Ic)}}function ar(e,t){if(1&e&&(P.Wb(0,"mat-icon"),P.Qc(1),P.Vb()),2&e){var n=P.ic(4).ngIf;P.Bb(1),P.Rc(n.preview.icon)}}function rr(e,t){if(1&e&&P.Rb(0,"mat-icon",37),2&e){var n=P.ic(4).ngIf;P.oc("svgIcon",n.preview.icon)}}function cr(e,t){if(1&e&&(P.Wb(0,"a",34),P.Wb(1,"div",35),P.Oc(2,ar,2,1,"mat-icon",0),P.Oc(3,rr,1,1,"mat-icon",36),P.Vb(),P.Vb()),2&e){var n=P.ic(3).ngIf;P.oc("href",n.preview.url,P.Ic)("matTooltip",n.preview.url),P.Bb(2),P.oc("ngIf",n.preview.isKnownType),P.Bb(1),P.oc("ngIf",!n.preview.isKnownType)}}function sr(e,t){if(1&e&&(P.Wb(0,"div",28),P.Oc(1,or,3,2,"a",29),P.Oc(2,cr,4,4,"a",30),P.Vb()),2&e){var n=P.ic(2).ngIf;P.Bb(1),P.oc("ngIf",n.preview.isImage),P.Bb(1),P.oc("ngIf",!n.preview.isImage)}}function lr(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"div",1),P.Oc(2,Xa,3,4,"button",2),P.Oc(3,Za,3,4,"button",3),P.Oc(4,Ya,4,5,"button",4),P.Vb(),P.Wb(5,"mat-menu",5,6),P.Oc(7,Ja,5,3,"button",7),P.Oc(8,er,5,3,"button",7),P.Oc(9,tr,5,3,"button",7),P.Oc(10,nr,5,3,"button",7),P.Vb(),P.Wb(11,"div",8),P.Wb(12,"div",9),P.Wb(13,"mat-card",10),P.Wb(14,"div",11),P.Wb(15,"mat-form-field",12),P.Rb(16,"input",13),P.jc(17,"translate"),P.jc(18,"async"),P.jc(19,"async"),P.Wb(20,"mat-label"),P.Qc(21),P.jc(22,"async"),P.Vb(),P.Vb(),P.Oc(23,ir,7,4,"div",14),P.Vb(),P.Oc(24,sr,3,2,"div",15),P.Vb(),P.Vb(),P.Vb(),P.Tb()),2&e){var n=P.ic().ngIf,i=P.ic();P.Bb(2),P.oc("ngIf",n.buttons.includes("adam")),P.Bb(1),P.oc("ngIf",n.buttons.includes("page")),P.Bb(1),P.oc("ngIf",n.buttons.includes("more")),P.Bb(3),P.oc("ngIf",n.settings.ShowAdam),P.Bb(1),P.oc("ngIf",n.settings.ShowPagePicker),P.Bb(1),P.oc("ngIf",n.settings.ShowImageManager),P.Bb(1),P.oc("ngIf",n.settings.ShowFileManager),P.Bb(5),P.oc("formGroup",i.group),P.Bb(1),P.oc("formControlName",i.config.field.name)("matTooltip",P.kc(17,17,"Fields.Hyperlink.Default.Tooltip"))("placeholder",P.kc(18,19,i.placeholder$))("required",P.kc(19,21,i.required$))("config",i.config)("elementType","input"),P.Bb(5),P.Rc(P.kc(22,23,i.label$)),P.Bb(2),P.oc("ngIf",null==n.preview?null:n.preview.floatingText),P.Bb(1),P.oc("ngIf",n.preview)}}function dr(e,t){if(1&e&&(P.Ub(0),P.Oc(1,lr,25,25,"ng-container",0),P.jc(2,"async"),P.Tb()),2&e){var n=P.ic();P.Bb(1),P.oc("ngIf",P.kc(2,1,n.open$))}}var ur=function(e,t,n,i,o,a){return{disabled:e,buttons:t,settings:n,value:i,preview:o,showValidation:a}},pr=function(e){function t(t,n,i,o,r,c){var s=e.call(this,t,n)||this;return s.fileTypeService=i,s.dnnBridgeService=o,s.dialog=r,s.editRoutingService=c,s.preview$=new a.a({url:"",thumbnailUrl:"",thumbnailPreviewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.buttons$=this.settings$.pipe(Object(O.a)((function(e){return e.Buttons||"adam,more"}))),this.open$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.subscription.add(this.settings$.subscribe((function(e){t.attachAdam(e)}))),this.subscription.add(this.value$.subscribe((function(e){t.setLink(e)})))},t.prototype.ngOnDestroy=function(){this.preview$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.openPageDialog=function(){this.dnnBridgeService.open(this.control.value,{Paths:this.config.field.settings.Paths?this.config.field.settings.Paths:"",FileFilter:this.config.field.settings.FileFilter?this.config.field.settings.FileFilter:""},this.processResultOfPagePicker.bind(this),this.dialog)},t.prototype.processResultOfPagePicker=function(e){e&&this.control.patchValue("page:"+e.id)},t.prototype.setLink=function(e){var t=this;if(e){var n=this.dnnBridgeService.getUrlOfId(e,this.config.entity.header.ContentTypeName,this.config.entity.header.Guid,this.config.field.name);if(n)n.subscribe((function(e){if(e){var n={url:e,floatingText:".../"+e.substring(e.lastIndexOf("/")+1,e.length),thumbnailUrl:t.thumbnailUrl(e),thumbnailPreviewUrl:t.thumbnailUrl(e,2),isImage:t.fileTypeService.isImage(e),isKnownType:t.fileTypeService.isKnownType(e),icon:t.fileTypeService.getIconClass(e)};t.preview$.next(n)}}));else{var i={url:e,floatingText:"",thumbnailUrl:this.thumbnailUrl(e),thumbnailPreviewUrl:this.thumbnailUrl(e,2),isImage:!1,isKnownType:!1,icon:this.fileTypeService.getIconClass(e)};this.preview$.next(i)}}},t.prototype.thumbnailUrl=function(e,t,n){var i=e;1===t&&(i+="?w=72&h=72&mode=crop"),2===t&&(i+="?w=800&h=800&mode=max");var o=n?'"':"";return o+i+o},t.prototype.toggleAdam=function(e,t){this.config.adam.toggle(e,t)},t.prototype.attachAdam=function(e){var t=this;this.config.adam.onItemClick=function(e){t.setValue(e)},this.config.adam.onItemUpload=function(e){t.setValue(e)},this.config.adam.setConfig({rootSubfolder:e.Paths,fileFilter:e.FileFilter,autoLoad:!0})},t.prototype.setValue=function(e){this.control.patchValue("file:"+e.Id)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(U.a),P.Qb(ri.a),P.Qb(_t.b),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["hyperlink-default"]],features:[P.yb],decls:7,vars:20,consts:[[4,"ngIf"],[1,"fabs-box"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","click",4,"ngIf"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","matMenuTriggerFor",4,"ngIf"],[1,"menu-box"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["appearance","standard","color","accent",3,"formGroup"],["matInput","","matTooltipPosition","above","appPasteClipboardImage","",3,"formControlName","matTooltip","placeholder","required","config","elementType"],["class","hyperlink-floating",4,"ngIf"],["class","preview-wrapper",4,"ngIf"],["mat-mini-fab","","color","accent",3,"matTooltip","disabled","click"],["svgIcon","appleFilled"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","click"],["svgIcon","sitemap"],["mat-mini-fab","","color","primary",3,"matTooltip","disabled","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","matTooltip"],[1,"preview-wrapper"],["target","_blank",3,"href",4,"ngIf"],["target","_blank","matTooltipPosition","right",3,"href","matTooltip",4,"ngIf"],["target","_blank",3,"href"],[1,"preview-image-box"],[1,"preview-image",3,"src"],["target","_blank","matTooltipPosition","right",3,"href","matTooltip"],[1,"preview-icon-box"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(e,t){1&e&&(P.Oc(0,dr,3,3,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async")),2&e&&P.oc("ngIf",P.yc(13,ur,P.kc(1,1,t.disabled$),P.kc(2,3,t.buttons$),P.kc(3,5,t.settings$),P.kc(4,7,t.value$),P.kc(5,9,t.preview$),P.kc(6,11,t.showValidation$)))},directives:[Y.m,Yt.d,Xe.a,jn.c,V.m,V.f,_i.b,V.b,ne,V.l,V.d,ee.a,V.s,jn.g,St.a,te.a,Yt.c,Yt.a],pipes:[Y.b,oe.d],styles:[".fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 295px);height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:rgba(29,39,61,.08)}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:rgba(29,39,61,.44)}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.DropzoneWrapper,po.a.EavLocalizationWrapper,po.a.HyperlinkDefaultExpandableWrapper,po.a.AdamAttachWrapper]})],t)}(z),fr=(n("5Zgd"),function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["custom-default"]],features:[P.yb],decls:2,vars:1,consts:[[1,"message"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.Qc(1),P.Vb()),2&e&&(P.Bb(1),P.Sc("",t.config.field.name,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0}),t=Object(i.c)([uo({})],t)}(z));function gr(e,t){if(1&e){var n=P.Xb();P.Wb(0,"app-entity-default-list",3),P.ec("reorder",(function(e){return P.Fc(n),P.ic(2).reorder(e)}))("removeSelected",(function(e){return P.Fc(n),P.ic(2).removeSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic(2).editEntity(e)}))("deleteEntity",(function(e){return P.Fc(n),P.ic(2).deleteEntity(e)})),P.Vb()}if(2&e){var i=P.ic().ngIf,o=P.ic();P.oc("config",o.config)("label",i.label)("required",i.required)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)}}function br(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Oc(1,gr,1,7,"app-entity-default-list",1),P.Wb(2,"app-entity-default-search",2),P.ec("toggleFreeTextMode",(function(){return P.Fc(n),P.ic().toggleFreeTextMode()}))("addSelected",(function(e){return P.Fc(n),P.ic().addSelected(e)}))("editEntity",(function(e){return P.Fc(n),P.ic().editEntity(e)})),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngIf",!i.freeTextMode&&i.selectedEntities.length&&(!i.settings.AllowMultiValue||i.settings.AllowMultiValue&&i.isExpanded)),P.Bb(1),P.oc("config",o.config)("group",o.group)("control",o.control)("label",i.label)("placeholder",i.placeholder)("required",i.required)("invalid",i.invalid)("touched",i.touched)("disabled",i.disabled)("freeTextMode",i.freeTextMode)("settings",i.settings)("selectedEntities",i.selectedEntities)("availableEntities",i.availableEntities)("disableAddNew",i.disableAddNew)("error",i.error)}}var hr=function(e,t,n,i,o,a,r,c,s,l,d,u,p,f){return{label:e,placeholder:t,required:n,invalid:i,touched:o,disabled:a,freeTextMode:r,settings:c,selectedEntities:s,availableEntities:l,disableAddNew:d,isExpanded:u,error:p,showValidation:f}},mr=function(e){function t(t,n,i,o,a,r){return e.call(this,t,n,i,o,a,r)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.prototype.calculateSettings=function(t){var n=e.prototype.calculateSettings.call(this,t);return n.AllowMultiValue=!1,n.EnableRemove=!0,n.AllowMultiValue=!0,n.EnableAddExisting=!1,n.EnableCreate=!1,n.EnableEdit=!1,n.EntityType="ContentGroupReference",n},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb($o.a),P.Qb(oe.e),P.Qb(Z.a),P.Qb(Ho.b))},t.\u0275cmp=P.Kb({type:t,selectors:[["entity-content-blocks"]],features:[P.yb],decls:14,vars:42,consts:[[4,"ngIf"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity",4,"ngIf"],[3,"config","group","control","label","placeholder","required","invalid","touched","disabled","freeTextMode","settings","selectedEntities","availableEntities","disableAddNew","error","toggleFreeTextMode","addSelected","editEntity"],[3,"config","label","required","disabled","freeTextMode","settings","selectedEntities","reorder","removeSelected","editEntity","deleteEntity"]],template:function(e,t){1&e&&(P.Oc(0,br,3,16,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.jc(10,"async"),P.jc(11,"async"),P.jc(12,"async"),P.jc(13,"async")),2&e&&P.oc("ngIf",P.Bc(27,hr,[P.kc(1,1,t.label$),P.kc(2,3,t.placeholder$),P.kc(3,5,t.required$),P.kc(4,7,t.invalid$),t.control.touched,P.kc(5,9,t.disabled$),P.kc(6,11,t.freeTextMode$),P.kc(7,13,t.settings$),P.kc(8,15,t.selectedEntities$),P.kc(9,17,t.config.entityCache$),P.kc(10,19,t.disableAddNew$),P.kc(11,21,t.isExpanded$),P.kc(12,23,t.error$),P.kc(13,25,t.showValidation$)]))},directives:[Y.m,qo,aa],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(la),vr=n("nYrE"),yr=["customElContainer"],wr=function(){function e(e,t,n,i,o,a,r,c,s){this.eavService=e,this.translateService=t,this.contentTypeService=n,this.inputTypeService=i,this.featureService=o,this.editRoutingService=a,this.dnnBridgeService=r,this.dialog=c,this.zone=s}return e.prototype.ngAfterViewInit=function(){var e,t=(null===(e=null===history||void 0===history?void 0:history.state)||void 0===e?void 0:e.componentTag)||"field-"+this.config.field.inputType+"-dialog";Object($.a)("Connector created for:",t),this.connectorCreator=new oi(this.config,this.group,this.customElContainerRef,t,this.eavService,this.translateService,this.contentTypeService,this.inputTypeService,this.featureService,this.editRoutingService,this.dnnBridgeService,this.dialog,this.zone)},e.prototype.ngOnDestroy=function(){Object($.a)("Connector destroyed"),this.connectorCreator.destroy()},e.\u0275fac=function(t){return new(t||e)(P.Qb(D.a),P.Qb(oe.e),P.Qb(Ke),P.Qb(Zt.a),P.Qb(K),P.Qb(Z.a),P.Qb(ri.a),P.Qb(_t.b),P.Qb(P.z))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-connector"]],viewQuery:function(e,t){var n;1&e&&P.Wc(yr,!0),2&e&&P.Cc(n=P.fc())&&(t.customElContainerRef=n.first)},inputs:{config:"config",group:"group"},decls:2,vars:0,consts:[[2,"height","100%","position","relative"],["customElContainer",""]],template:function(e,t){1&e&&P.Rb(0,"div",0,1)},styles:[""],changeDetection:0}),e}();function Cr(e,t){1&e&&P.Rb(0,"mat-spinner",3)}function _r(e,t){if(1&e&&P.Rb(0,"app-connector",4),2&e){var n=P.ic(2);P.oc("config",n.config)("group",n.group)}}function Or(e,t){if(1&e&&(P.Ub(0),P.Oc(1,Cr,1,0,"mat-spinner",1),P.Oc(2,_r,1,2,"app-connector",2),P.Tb()),2&e){var n=t.ngIf;P.Bb(1),P.oc("ngIf",n.loading),P.Bb(1),P.oc("ngIf",!n.loading&&n.isExpanded)}}var xr=function(e,t,n){return{loading:e,isExpanded:t,showValidation:n}},kr=function(e){function t(t,n,i,o,r){var c=e.call(this,t,n)||this;return c.inputTypeService=i,c.scriptsLoaderService=o,c.editRoutingService=r,c.loading$=new a.a(!0),c}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.isExpanded$=this.editRoutingService.isExpanded(this.config.field.index,this.config.entity.entityGuid),this.loadAssets()},t.prototype.ngOnDestroy=function(){this.loading$.complete(),e.prototype.ngOnDestroy.call(this)},t.prototype.loadAssets=function(){var e;this.inputTypeService.getInputTypeById(this.config.field.inputType).pipe(Object(x.a)(1)).subscribe((function(t){e=t}));var t=e.AngularAssets.split("\n");0!==t.length&&this.scriptsLoaderService.load(t,this.assetsLoaded.bind(this))},t.prototype.assetsLoaded=function(){Object($.a)("ExternalWebcomponentComponent",this.config.field.name,"loaded"),this.loading$.next(!1)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a),P.Qb(Zt.a),P.Qb(va.a),P.Qb(Z.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["external-web-component"]],features:[P.yb],decls:4,vars:11,consts:[[4,"ngIf"],["color","accent",4,"ngIf"],[3,"config","group",4,"ngIf"],["color","accent"],[3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,Or,3,2,"ng-container",0),P.jc(1,"async"),P.jc(2,"async"),P.jc(3,"async")),2&e&&P.oc("ngIf",P.vc(7,xr,P.kc(1,1,t.loading$),P.kc(2,3,t.isExpanded$),P.kc(3,5,t.showValidation$)))},directives:[Y.m,vr.b,wr],pipes:[Y.b],styles:[""],changeDetection:0}),t=Object(i.c)([uo({})],t)}(z),Mr=n("mpfY"),Ir=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.subscription.add(this.settings$.subscribe((function(e){t.attachAdam(e),t.attachAdamValidator(e.Required)})))},t.prototype.ngOnDestroy=function(){var t;null===(t=this.adamValidation)||void 0===t||t.unsubscribe(),e.prototype.ngOnDestroy.call(this)},t.prototype.attachAdam=function(e){this.config.adam.setConfig({allowAssetsInRoot:e.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:e.Paths,fileFilter:e.FileFilter,folderDepth:e.FolderDepth||0,metadataContentTypes:e.MetadataContentTypes})},t.prototype.attachAdamValidator=function(e){var t,n=this;if(!e)return null===(t=this.adamValidation)||void 0===t||t.unsubscribe(),void this.control.setValidators(this.config.field.validation);var o=Object(i.g)(this.config.field.validation,[Mr.a.validateAdam()]);this.control.setValidators(o),this.adamValidation=this.config.adam.items$.subscribe((function(e){n.control.adamItems=e.length,n.control.updateValueAndValidity()}))},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["hyperlink-library"]],features:[P.yb],decls:0,vars:0,template:function(e,t){},styles:[""],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.DropzoneWrapper,po.a.EavLocalizationWrapper,po.a.HyperlinkLibraryExpandableWrapper,po.a.AdamAttachWrapper]})],t)}(z);function Sr(e,t){if(1&e&&(P.Ub(0),P.Wb(1,"mat-form-field",1),P.Rb(2,"textarea",2),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.Wb(6,"mat-label"),P.Qc(7),P.jc(8,"async"),P.Vb(),P.Vb(),P.Rb(9,"app-field-helper-text",3),P.Tb()),2&e){var n=P.ic();P.Bb(1),P.oc("formGroup",n.group),P.Bb(1),P.oc("formControlName",n.config.field.name)("rows",P.kc(3,8,n.rowCount$))("placeholder",P.kc(4,10,n.placeholder$))("required",P.kc(5,12,n.required$)),P.Bb(5),P.Rc(P.kc(8,14,n.label$)),P.Bb(2),P.oc("config",n.config)("group",n.group)}}var Tr=function(e,t){return{disabled:e,showValidation:t}},Pr=function(e){function t(t,n){return e.call(this,t,n)||this}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.rowCount$=this.settings$.pipe(Object(O.a)((function(e){return e.Rows||5})))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t.\u0275fac=function(e){return new(e||t)(P.Qb(D.a),P.Qb(W.a))},t.\u0275cmp=P.Kb({type:t,selectors:[["custom-json-editor"]],features:[P.yb],decls:3,vars:8,consts:[[4,"ngIf"],["appearance","standard","color","accent",1,"textarea-field",3,"formGroup"],["matInput","",3,"formControlName","rows","placeholder","required"],[3,"config","group"]],template:function(e,t){1&e&&(P.Oc(0,Sr,10,16,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,Tr,P.kc(1,1,t.disabled$),P.kc(2,3,t.showValidation$)))},directives:[Y.m,jn.c,V.m,V.f,_i.b,V.b,V.l,V.d,V.s,jn.g,Wn],pipes:[Y.b],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"],changeDetection:0}),t=Object(i.c)([uo({wrapper:[po.a.EavLocalizationWrapper]})],t)}(z),jr=function(){function e(e,t){this.resolver=e,this.container=t,this.components={"app-adam-attach-wrapper":ze,"app-collapsible-field-wrapper":Ge,"app-collapsible-wrapper":vn,"app-dropzone-wrapper":On,"app-eav-localization-wrapper":In,"app-entity-expandable-wrapper":Jn,"app-expandable-wrapper":yi,"app-hidden-wrapper":Ci,"app-hyperlink-default-expandable-wrapper":Gi,"app-hyperlink-library-expandable-wrapper":lo,"boolean-default":Ea,"boolean-tristate":Da,"custom-default":fr,"custom-json-editor":Pr,"datetime-default":Na,"empty-default":Ua,"entity-content-blocks":mr,"entity-default":la,"entity-query":fa,"external-web-component":kr,"hyperlink-default":pr,"hyperlink-library":Ir,"number-default":Ka,"string-default":vo,"string-dropdown":Po,"string-dropdown-query":ma,"string-font-icon-picker":xa,"string-template-picker":ja,"string-url-path":_o}}return e.prototype.ngOnInit=function(){var e=this;this.container.clear(),this.config.forEach((function(t){Object($.a)("create controlConfiguration",t),e.createFieldOrGroup(e.container,t)}))},e.prototype.createFieldOrGroup=function(e,t){t.field.fieldGroup?this.createGroupComponents(e,t):(Object($.a)("create createFieldOrGroup:",t.field.inputType),this.createComponent(e,t))},e.prototype.createGroupComponents=function(e,t){var n=this;t.field.wrappers&&(e=this.createComponentWrappers(e,t,t.field.wrappers)),t.field.fieldGroup.forEach((function(t){n.createFieldOrGroup(e,t)}))},e.prototype.createComponent=function(e,t){var n;t.field.wrappers&&(e=this.createComponentWrappers(e,t,t.field.wrappers)),Object($.a)("EavFieldDirective createComponent inputType:",t.field.inputType),n=this.readComponentType(t.field.isExternal?E.a.ExternalWebComponent:t.field.inputType);var i=Reflect.getMetadata("inputTypeAnnotations",n);if(i){i.wrapper&&(e=this.createComponentWrappers(e,t,i.wrapper));var o=this.resolver.resolveComponentFactory(n),a=e.createComponent(o);return Object.assign(a.instance,{group:this.group,config:t}),a}return null},e.prototype.readComponentType=function(e){var t=this.components[e];return void 0===t?(console.error("Missing component class for: "+e),fr):t},e.prototype.createComponentWrappers=function(e,t,n){var i=this;return n.forEach((function(n){e=i.createWrapper(e,t,n)})),e},e.prototype.createWrapper=function(e,t,n){var i=this.readComponentType(n),o=this.resolver.resolveComponentFactory(i),a=e.createComponent(o);return Object.assign(a.instance,{group:this.group,config:t}),a.instance.fieldComponent},e.\u0275fac=function(t){return new(t||e)(P.Qb(P.j),P.Qb(P.O))},e.\u0275dir=P.Lb({type:e,selectors:[["","appEavField",""]],inputs:{config:"config",group:"group"}}),e}(),Vr=function(){function e(e){this.formBuilder=e,this.config=[],this.formSubmit=new P.n,this.formValueChange=new P.n,this.form=new V.e({}),this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.createControlsInFormGroup(this.config),this.subscription.add(this.form.valueChanges.subscribe((function(t){e.formValueChange.emit(t)})))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.submitOutside=function(){Object($.a)("form save"),this.formSubmit.emit()},e.prototype.patchValue=function(e,t){this.form.patchValue(e,{emitEvent:t})},e.prototype.valueIsChanged=function(e){var t,n,o=!1,a=Object.keys(e);try{for(var r=Object(i.i)(a),c=r.next();!c.done;c=r.next()){var s=c.value;if(e[s]!==this.form.value[s]){o=!0;break}}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return Object($.a)("VALUECHANGED:",o,"VALUES:",e,"FORM VALUES:",this.form.value),o},e.prototype.createControlsInFormGroup=function(e){var t=this;try{return e.forEach((function(e){var n=e.field;n.fieldGroup?t.createControlsInFormGroup(n.fieldGroup):t.form.addControl(e.field.name,t.createControl(e))})),this.form}catch(n){throw console.error("Error creating form controls: "+n+"\nFieldConfig: "+e),n}},e.prototype.createControl=function(e){try{var t=e.field;return this.formBuilder.control({disabled:t.disabled,value:t.initialValue},t.validation)}catch(n){throw console.error("Error creating form control: "+n+"\nConfig: "+e),n}},e.\u0275fac=function(t){return new(t||e)(P.Qb(V.c))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-eav-form"]],inputs:{config:"config"},outputs:{formSubmit:"formSubmit",formValueChange:"formValueChange"},decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],["appEavField","",3,"config","group"]],template:function(e,t){1&e&&(P.Wb(0,"form",0),P.Sb(1,1),P.Vb()),2&e&&(P.oc("formGroup",t.form),P.Bb(1),P.oc("config",t.config)("group",t.form))},directives:[V.u,V.m,V.f,jr],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),e}(),$r=n("V06R");function Er(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div"),P.Wb(1,"app-eav-form",1),P.ec("formSubmit",(function(){return P.Fc(n),P.ic().submit()}))("formValueChange",(function(e){return P.Fc(n),P.ic().formValueChange(e)})),P.jc(2,"async"),P.Vb(),P.Vb()}if(2&e){var i=P.ic();P.Bb(1),P.oc("config",P.kc(2,1,i.itemFields$))}}var Br=function(){function e(e,t,n,i,o,a){this.languageInstanceService=e,this.itemService=t,this.contentTypeService=n,this.eavService=i,this.actions$=o,this.buildFieldsService=a,this.itemFormValueChange=new P.n,this.subscription=new j.a}return e.prototype.ngOnInit=function(){var e=this;this.subscription.add(this.languageInstanceService.getDefaultLanguage(this.formId).subscribe((function(t){e.defaultLanguage=t}))),this.subscription.add(this.languageInstanceService.getCurrentLanguage(this.formId).subscribe((function(t){e.currentLanguage=t,e.setFormValues()})));var t=Ct.a.getContentTypeId(this.item);this.contentType$=this.contentTypeService.getContentTypeById(t),this.itemFields$=this.buildFieldsService.buildFields(this.contentType$,this.item,this.formId,this.currentLanguage,this.defaultLanguage)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(e){null!=e.item&&this.setFormValues()},e.prototype.formSaveObservable=function(){var e=this;return this.actions$.pipe(Object(o.e)(T.a),Object(k.a)((function(t){return 0===e.item.entity.id?e.item.entity.guid===t.item.entity.guid:e.item.entity.id===t.item.entity.id})))},e.prototype.formValueChange=function(e){this.itemService.updateItemAttributesValues(this.item.entity.id,e,this.currentLanguage,this.defaultLanguage,this.item.entity.guid),this.itemFormValueChange.emit()},e.prototype.submit=function(){(this.form.form.valid||this.checkAreAllControlsDisabled()||this.item.header.Group&&this.item.header.Group.SlotCanBeEmpty)&&this.eavService.saveItem(this.item)},e.prototype.checkAreAllControlsDisabled=function(){var e,t,n=!0,o=Object.keys(this.form.form.controls);try{for(var a=Object(i.i)(o),r=a.next();!r.done;r=a.next())if(!this.form.form.controls[r.value].disabled){n=!1;break}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.setFormValues=function(){var e=this;if(this.form){var t={};Object.keys(this.item.entity.attributes).forEach((function(n){t[n]=Ne.a.translate(e.currentLanguage,e.defaultLanguage,e.item.entity.attributes[n],null)})),this.form.valueIsChanged(t)&&this.form.patchValue(t,!1),this.eavService.formValueChange$.next({formId:this.formId,entityGuid:this.item.entity.guid,entityValues:t})}},e.\u0275fac=function(t){return new(t||e)(P.Qb(qe.a),P.Qb(Ue.a),P.Qb(Ke),P.Qb(D.a),P.Qb(o.a),P.Qb($r.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-item-edit-form"]],viewQuery:function(e,t){var n;1&e&&P.Wc(Vr,!0),2&e&&P.Cc(n=P.fc())&&(t.form=n.first)},inputs:{item:"item",formId:"formId"},outputs:{itemFormValueChange:"itemFormValueChange"},features:[P.zb],decls:2,vars:3,consts:[[4,"ngIf"],[3,"config","formSubmit","formValueChange"]],template:function(e,t){1&e&&(P.Oc(0,Er,3,3,"div",0),P.jc(1,"async")),2&e&&P.oc("ngIf",P.kc(1,1,t.contentType$))},directives:[Y.m,Vr],pipes:[Y.b],styles:[""],changeDetection:0}),e}(),Fr=function(){function e(){}return e.create=function(e){var t={};return Object($.a)("eavValues.values.forEach: ",e.values),e.values.forEach((function(e){var n=e.dimensions.map((function(e){return e.value})).join();t[n]=e.value})),t},e}(),Lr=function(){function e(){}return e.create=function(t){var n=new e;return Object.keys(t).forEach((function(e){var i=t[e].type;n[i]||(n[i]={}),n[i][e]=Fr.create(t[e])})),n},e}(),Dr=function(){return function(e,t){this.Id=e,this.Name=t}}(),Wr=function(){return function(e){this.Target=e.Target,e.Number&&(this.Number=e.Number),e.String&&(this.String=e.String),e.Guid&&(this.Guid=e.Guid)}}(),zr=function(){function e(e,t,n,i,o,a,r,c){this.Id=e,this.Version=t,this.Guid=n,this.Type=i,this.Attributes=o,this.Owner=a,this.Metadata=r,c&&(this.For=c)}return e.create=function(t){var n=Lr.create(t.attributes),i=this.createArray(t.metadata),o=t.For?new Wr(t.For):null;return new e(t.id,t.version,t.guid,new Dr(t.type.id,t.type.name),n,t.owner,i,o)},e.createArray=function(t){if(!t)return null;var n=new Array;return t.forEach((function(t){n.push(e.create(t))})),n},e}(),Ar=function(){function e(e,t){this.Header=e,this.Entity=t}return e.create=function(t){return new e(t.header,zr.create(t.entity))},e}(),Rr=function(){function e(e,t){this.snackRef=e,this.snackBarData=t}return e.prototype.ngOnInit=function(){},e.prototype.saveChanges=function(e){this.snackBarData.save=e,this.snackRef.dismissWithAction()},e.\u0275fac=function(t){return new(t||e)(P.Qb(Ho.d),P.Qb(Ho.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-snack-bar-unsaved-changes"]],decls:10,vars:9,consts:[[1,"error-message"],["fxLayoutAlign","end end"],["mat-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(P.Wb(0,"span",0),P.Qc(1),P.jc(2,"translate"),P.Vb(),P.Wb(3,"div",1),P.Wb(4,"button",2),P.ec("click",(function(){return t.saveChanges(!1)})),P.Qc(5),P.jc(6,"translate"),P.Vb(),P.Wb(7,"button",2),P.ec("click",(function(){return t.saveChanges(!0)})),P.Qc(8),P.jc(9,"translate"),P.Vb(),P.Vb()),2&e&&(P.Bb(1),P.Rc(P.kc(2,3,"Errors.UnsavedChanges")),P.Bb(4),P.Sc(" ",P.kc(6,5,"General.Buttons.NotSave").toUpperCase()," "),P.Bb(3),P.Sc(" ",P.kc(9,7,"General.Buttons.Save").toUpperCase()," "))},directives:[Ae.b,St.a],pipes:[oe.d],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),e}();function Qr(e,t){if(1&e&&(P.Wb(0,"div"),P.Wb(1,"span"),P.Qc(2),P.Wb(3,"span"),P.Qc(4),P.jc(5,"translate"),P.Vb(),P.Vb(),P.Vb()),2&e){var n=t.$implicit;P.Bb(2),P.Rc(n.field),P.Bb(2),P.Sc(": ",P.kc(5,2,n.message),"")}}var Gr=function(){function e(e){this.snackBarData=e,this.fieldErrors=[]}return e.prototype.ngOnInit=function(){this.fieldErrors=this.snackBarData.fieldErrors},e.\u0275fac=function(t){return new(t||e)(P.Qb(Ho.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-snack-bar-save-errors"]],decls:6,vars:4,consts:[[1,"save-errors-container"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(P.Wb(0,"div",0),P.Wb(1,"div"),P.Qc(2),P.jc(3,"translate"),P.Vb(),P.Rb(4,"br"),P.Oc(5,Qr,6,4,"div",1),P.Vb()),2&e&&(P.Bb(2),P.Rc(P.kc(3,2,"Errors.SaveErrors")),P.Bb(3),P.oc("ngForOf",t.fieldErrors))},directives:[Y.l],pipes:[oe.d],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),e}();function Nr(e,t){return e.key<t.key?-1:e.key>t.key?1:0}var Ur=function(){function e(){}return e.Show="show",e.Hide="hide",e.Branch="branch",e}(),qr=n("39Ct"),Hr=n("5/c3"),Kr=function(e){return{"mat-list-item-focus":e}},Xr=function(){function e(e,t){this.dialogRef=e,this.data=t,this.Modes=Ur}return e.prototype.ngOnInit=function(){this.publishMode=this.data},e.prototype.setMode=function(e){this.dialogRef.close(e)},e.\u0275fac=function(t){return new(t||e)(P.Qb(_t.g),P.Qb(_t.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-save-status-dialog"]],decls:35,vars:33,consts:[[1,"mat-card__header"],[1,"mat-card__title"],[1,"mat-card__description"],["toggle",""],[3,"ngClass","click"],["matListIcon","","color","accent"],["matLine","",1,"mat-list-item__title"],["matLine","",1,"mat-list-item__body"],["matListIcon","","color","accent","svgIcon","draft-branch"]],template:function(e,t){1&e&&(P.Wb(0,"mat-card"),P.Wb(1,"div",0),P.Wb(2,"div",1),P.Qc(3),P.jc(4,"translate"),P.Vb(),P.Wb(5,"div",2),P.Qc(6),P.jc(7,"translate"),P.Vb(),P.Vb(),P.Wb(8,"mat-nav-list",3),P.Wb(9,"mat-list-item",4),P.ec("click",(function(){return t.setMode(t.Modes.Show)})),P.Wb(10,"mat-icon",5),P.Qc(11,"visibility"),P.Vb(),P.Wb(12,"div",6),P.Qc(13),P.jc(14,"translate"),P.Vb(),P.Wb(15,"div",7),P.Qc(16),P.jc(17,"translate"),P.Vb(),P.Vb(),P.Wb(18,"mat-list-item",4),P.ec("click",(function(){return t.setMode(t.Modes.Hide)})),P.Wb(19,"mat-icon",5),P.Qc(20,"visibility_off"),P.Vb(),P.Wb(21,"div",6),P.Qc(22),P.jc(23,"translate"),P.Vb(),P.Wb(24,"div",7),P.Qc(25),P.jc(26,"translate"),P.Vb(),P.Vb(),P.Wb(27,"mat-list-item",4),P.ec("click",(function(){return t.setMode(t.Modes.Branch)})),P.Rb(28,"mat-icon",8),P.Wb(29,"div",6),P.Qc(30),P.jc(31,"translate"),P.Vb(),P.Wb(32,"div",7),P.Qc(33),P.jc(34,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Vb()),2&e&&(P.Bb(3),P.Rc(P.kc(4,11,"SaveMode.Dialog.Title")),P.Bb(3),P.Rc(P.kc(7,13,"SaveMode.Dialog.Intro")),P.Bb(3),P.oc("ngClass",P.tc(27,Kr,t.publishMode===t.Modes.Show)),P.Bb(4),P.Rc(P.kc(14,15,"SaveMode.Dialog.Show.Title")),P.Bb(3),P.Rc(P.kc(17,17,"SaveMode.Dialog.Show.Body")),P.Bb(2),P.oc("ngClass",P.tc(29,Kr,t.publishMode===t.Modes.Hide)),P.Bb(4),P.Rc(P.kc(23,19,"SaveMode.Dialog.Hide.Title")),P.Bb(3),P.Rc(P.kc(26,21,"SaveMode.Dialog.Hide.Body")),P.Bb(2),P.oc("ngClass",P.tc(31,Kr,t.publishMode===t.Modes.Branch)),P.Bb(3),P.Rc(P.kc(31,23,"SaveMode.Dialog.Branch.Title")),P.Bb(3),P.Rc(P.kc(34,25,"SaveMode.Dialog.Branch.Body")))},directives:[Xe.a,It.e,It.c,Y.k,J.a,te.a,It.b,Tt.i],pipes:[oe.d],styles:[".mat-list-item-focus[_ngcontent-%COMP%]{background:rgba(0,0,0,.04)}"],changeDetection:0}),e}(),Zr=function(){function e(e,t,n){var i=this;this.ngZone=e,this.header=t,this.areButtonsDisabled=n,this.eventListeners=[],this.ngZone.runOutsideAngular((function(){var e=i.registerScroll.bind(i);i.header.addEventListener("pointerdown",e,{passive:!0}),i.headerDownListener={element:i.header,type:"pointerdown",listener:e}}))}return e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.headerDownListener.element.removeEventListener(e.headerDownListener.type,e.headerDownListener.listener),e.headerDownListener=null,e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null})),this.ngZone=null,this.header=null,this.areButtonsDisabled=null},e.prototype.registerScroll=function(e){if(!this.areButtonsDisabled()&&0===e.button){window.getSelection().removeAllRanges(),this.oldScrollBehavior=getComputedStyle(this.header).getPropertyValue("scroll-behavior"),this.header.style.scrollBehavior="auto",this.positionX=e.pageX;var t=this.doScroll.bind(this),n=this.removeScroll.bind(this);document.addEventListener("pointermove",t,{passive:!0}),document.addEventListener("pointerup",n,{passive:!0}),document.addEventListener("pointerleave",n,{passive:!0}),this.eventListeners.push({element:document,type:"pointermove",listener:t},{element:document,type:"pointerup",listener:n},{element:document,type:"pointerleave",listener:n})}},e.prototype.removeScroll=function(){this.header.style.scrollBehavior=this.oldScrollBehavior,this.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),this.eventListeners.splice(0,this.eventListeners.length)},e.prototype.doScroll=function(e){var t=e.pageX;t<this.positionX?this.header.scrollLeft+=this.positionX-t:t>this.positionX&&(this.header.scrollLeft+=-(t-this.positionX)),this.positionX=t},e}(),Yr=function(){function e(e,t){var n=this;this.ngZone=e,this.header=t,this.moveThreshold=2,this.stopClick=!1,this.eventListeners=[],this.ngZone.runOutsideAngular((function(){var e=n.checkIfMouseMoved.bind(n);document.addEventListener("mouseup",e,{passive:!0}),n.eventListeners.push({element:document,type:"mouseup",listener:e})}))}return e.prototype.lngButtonDown=function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.saveInitialPosition(e)}))},e.prototype.lngButtonClick=function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.doMove(e)}))},e.prototype.stopClickIfMouseMoved=function(){return this.stopClick},e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null}))},e.prototype.saveInitialPosition=function(e){this.stopClick=!1,this.positionX=e.pageX,this.positionY=e.pageY},e.prototype.checkIfMouseMoved=function(e){this.positionX&&this.positionY?(this.stopClick=Math.abs(this.positionX+this.positionY-(e.pageX+e.pageY))>this.moveThreshold,this.positionX=null,this.positionY=null):this.stopClick=!1},e.prototype.doMove=function(e){if(!this.stopClick){var t=e.target,n=t.getBoundingClientRect().left,i=t.getBoundingClientRect().width,o=this.header.getBoundingClientRect().left,a=this.header.getBoundingClientRect().width;this.header.scrollLeft+=n+i/2-(o+a/2)}},e}(),Jr=function(){function e(e,t,n,i){var o=this;this.ngZone=e,this.header=t,this.leftShadow=n,this.rightShadow=i,this.hidden="hidden",this.eventListeners=[],this.ngZone.runOutsideAngular((function(){o.calculateShadows();var e=o.calculateShadows.bind(o);o.header.addEventListener("scroll",e,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),o.eventListeners.push({element:o.header,type:"scroll",listener:e},{element:window,type:"resize",listener:e})}))}return e.prototype.destroy=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.eventListeners.forEach((function(e){e.element.removeEventListener(e.type,e.listener),e=null})),e.eventListeners=null})),this.ngZone=null,this.header=null,this.leftShadow=null,this.rightShadow=null},e.prototype.calculateShadows=function(){this.maxScrollLeft=this.header.scrollWidth-this.header.clientWidth,0===this.maxScrollLeft?this.hideBoth():0===this.header.scrollLeft?this.hideLeft():this.header.scrollLeft===this.maxScrollLeft?this.hideRight():this.showBoth()},e.prototype.hideBoth=function(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.add(this.hidden)},e.prototype.hideLeft=function(){this.leftShadow.classList.add(this.hidden),this.rightShadow.classList.remove(this.hidden)},e.prototype.hideRight=function(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.add(this.hidden)},e.prototype.showBoth=function(){this.leftShadow.classList.remove(this.hidden),this.rightShadow.classList.remove(this.hidden)},e}();function ec(e){return e.substring(0,e.indexOf("(")>0?e.indexOf("(")-1:100).toLocaleUpperCase()}var tc=["scrollable"],nc=["leftShadow"],ic=["rightShadow"];function oc(e,t){if(1&e){var n=P.Xb();P.Wb(0,"button",9),P.ec("mousedown",(function(e){return P.Fc(n),P.ic(2).lngButtonMouseDown(e)}))("click",(function(e){P.Fc(n);var i=t.$implicit;return P.ic(2).lngButtonClick(e,i)})),P.Qc(1),P.Vb()}if(2&e){var i=t.$implicit,o=P.ic().ngIf,a=P.ic();P.oc("disabled",!a.formsAreValid&&o.currentLanguage!==i.key&&!a.allControlsAreDisabled)("color",o.currentLanguage===i.key?"accent":"white")("matTooltip",i.name),P.Bb(1),P.Sc(" ",i.buttonText," ")}}function ac(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div",1),P.Rb(1,"div",2,3),P.Rb(3,"div",4,5),P.Wb(5,"div",6,7),P.ec("click",(function(){return P.Fc(n),P.ic().showError()})),P.Oc(7,oc,2,4,"button",8),P.jc(8,"async"),P.Vb(),P.Vb()}if(2&e){var i=P.ic();P.Bb(7),P.oc("ngForOf",P.kc(8,1,i.languageButtons$))}}var rc=function(e){return{currentLanguage:e}},cc=function(){function e(e,t,n,i,o){this.languageService=e,this.languageInstanceService=t,this.ngZone=n,this.snackBar=i,this.translate=o}return e.prototype.ngOnInit=function(){this.languageButtons$=this.languageService.entities$.pipe(Object(O.a)((function(e){return n=[],i={},(t=e).forEach((function(e){var t=ec(e.name);i[t]?i[t]++:i[t]=1})),t.forEach((function(e){var t=ec(e.name);n.push({name:e.name,key:e.key,buttonText:i[t]>1?t+" ("+e.key+")":t})})),n;var t,n,i}))),this.currentLanguage$=this.languageInstanceService.getCurrentLanguage(this.formId)},e.prototype.ngAfterViewInit=function(){this.showShadowsService=new Jr(this.ngZone,this.headerRef.nativeElement,this.leftShadowRef.nativeElement,this.rightShadowRef.nativeElement),this.mouseScrollHelper=new Zr(this.ngZone,this.headerRef.nativeElement,this.areButtonsDisabled.bind(this)),this.centerSelectedService=new Yr(this.ngZone,this.headerRef.nativeElement)},e.prototype.areButtonsDisabled=function(){return!this.formsAreValid&&!this.allControlsAreDisabled},e.prototype.ngOnDestroy=function(){this.centerSelectedService.destroy(),this.mouseScrollHelper.destroy(),this.showShadowsService.destroy()},e.prototype.lngButtonMouseDown=function(e){this.centerSelectedService.lngButtonDown(e)},e.prototype.lngButtonClick=function(e,t){this.centerSelectedService.lngButtonClick(e),this.centerSelectedService.stopClickIfMouseMoved()||this.languageInstanceService.updateCurrentLanguage(this.formId,t.key)},e.prototype.showError=function(){this.areButtonsDisabled()&&this.snackBar.open(this.translate.instant("Message.CantSwitchLanguage"),null,{duration:2e3})},e.\u0275fac=function(t){return new(t||e)(P.Qb(Mt.a),P.Qb(qe.a),P.Qb(P.z),P.Qb(Ho.b),P.Qb(oe.e))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-eav-language-switcher"]],viewQuery:function(e,t){var n;1&e&&(P.Wc(tc,!0),P.Wc(nc,!0),P.Wc(ic,!0)),2&e&&(P.Cc(n=P.fc())&&(t.headerRef=n.first),P.Cc(n=P.fc())&&(t.leftShadowRef=n.first),P.Cc(n=P.fc())&&(t.rightShadowRef=n.first))},inputs:{formId:"formId",formsAreValid:"formsAreValid",allControlsAreDisabled:"allControlsAreDisabled"},decls:2,vars:5,consts:[["class","scrollable__overlay",4,"ngIf"],[1,"scrollable__overlay"],[1,"scrollable__overlay--left-shadow"],["leftShadow",""],[1,"scrollable__overlay--right-shadow"],["rightShadow",""],[1,"scrollable","lang-switch",3,"click"],["scrollable",""],["mat-flat-button","","class","lang-switch__button",3,"disabled","color","matTooltip","mousedown","click",4,"ngFor","ngForOf"],["mat-flat-button","",1,"lang-switch__button",3,"disabled","color","matTooltip","mousedown","click"]],template:function(e,t){1&e&&(P.Oc(0,ac,9,3,"div",0),P.jc(1,"async")),2&e&&P.oc("ngIf",P.tc(3,rc,P.kc(1,1,t.currentLanguage$)))},directives:[Y.m,Y.l,St.a,ee.a],pipes:[Y.b],styles:['.scrollable__overlay[_ngcontent-%COMP%]{position:relative;height:100%}.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{content:"";position:absolute;top:0;display:block;z-index:1;pointer-events:none;height:100%;width:80px;background-image:linear-gradient(90deg,#fff 8px,hsla(0,0%,100%,0))}@media (max-width:600px){.scrollable__overlay--left-shadow[_ngcontent-%COMP%], .scrollable__overlay--right-shadow[_ngcontent-%COMP%]{width:24px}}.scrollable__overlay--right-shadow[_ngcontent-%COMP%]{right:0;background-image:linear-gradient(270deg,#fff 8px,hsla(0,0%,100%,0))}.scrollable[_ngcontent-%COMP%]{overflow:hidden;scroll-behavior:smooth;height:100%}.lang-switch[_ngcontent-%COMP%]{display:flex}.lang-switch__button[_ngcontent-%COMP%]{height:100%;flex-shrink:0;border-radius:0;margin-left:0!important;color:rgba(0,0,0,.4);border-bottom:none;font-size:12px;line-height:54px;padding:0 6px;background-color:#fff!important}.lang-switch__button.mat-accent[_ngcontent-%COMP%]{color:#2680eb;border-bottom:2px solid #2680eb;background-color:inherit}.hidden[_ngcontent-%COMP%]{visibility:hidden}'],changeDetection:0}),e}();function sc(e,t){if(1&e&&P.Rb(0,"app-eav-language-switcher",6),2&e){var n=P.ic();P.oc("formId",n.formId)("formsAreValid",n.formsAreValid)("allControlsAreDisabled",n.allControlsAreDisabled)}}var lc=function(){function e(e,t){this.dialog=e,this.languageService=t,this.closeDialog=new P.n,this.setPublishMode=new P.n}return e.prototype.ngOnInit=function(){this.hasLanguages$=this.languageService.entities$.pipe(Object(O.a)((function(e){return e.length>0})))},e.prototype.close=function(){this.closeDialog.emit()},e.prototype.openSaveStatusDialog=function(){var e=this,t=this.dialog.open(Xr,{panelClass:"c-save-status-dialog",autoFocus:!1,width:"350px",data:this.publishMode});t.keydownEvents().subscribe((function(e){83===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault()})),t.afterClosed().subscribe((function(t){null!=t&&e.setPublishMode.emit(t)}))},e.\u0275fac=function(t){return new(t||e)(P.Qb(_t.b),P.Qb(Mt.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-multi-item-edit-form-header"]],inputs:{formId:"formId",formsAreValid:"formsAreValid",allControlsAreDisabled:"allControlsAreDisabled",isParentDialog:"isParentDialog",publishMode:"publishMode"},outputs:{closeDialog:"closeDialog",setPublishMode:"setPublishMode"},decls:16,vars:17,consts:[[1,"header"],["mat-icon-button","",1,"header__exit-button",3,"matTooltip","click"],[1,"header__langs"],[3,"formId","formsAreValid","allControlsAreDisabled",4,"ngIf"],["mat-button","",1,"header__publish-button",3,"matTooltip","click"],[1,"header__publish-mode"],[3,"formId","formsAreValid","allControlsAreDisabled"]],template:function(e,t){1&e&&(P.Wb(0,"mat-card",0),P.Wb(1,"button",1),P.ec("click",(function(){return t.close()})),P.jc(2,"translate"),P.Wb(3,"mat-icon"),P.Qc(4),P.Vb(),P.Vb(),P.Wb(5,"div",2),P.Oc(6,sc,1,3,"app-eav-language-switcher",3),P.jc(7,"async"),P.Vb(),P.Wb(8,"button",4),P.ec("click",(function(){return t.openSaveStatusDialog()})),P.jc(9,"translate"),P.Wb(10,"span",5),P.Qc(11),P.jc(12,"translate"),P.Wb(13,"b"),P.Qc(14),P.jc(15,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Vb()),2&e&&(P.Bb(1),P.oc("matTooltip",P.kc(2,6,t.isParentDialog?"Form.Buttons.Exit.Tip":"Form.Buttons.Return.Tip")),P.Bb(3),P.Rc(t.isParentDialog?"clear":"arrow_back"),P.Bb(2),P.oc("ngIf",P.kc(7,8,t.hasLanguages$)),P.Bb(2),P.pc("matTooltip",P.kc(9,10,"SaveMode."+t.publishMode+".Tip")),P.Bb(3),P.Sc(" ",P.kc(12,12,"SaveMode.Label")," "),P.Bb(3),P.Rc(P.lc(15,14,"SaveMode."+t.publishMode,"").toUpperCase()))},directives:[Xe.a,St.a,ee.a,te.a,Y.m,cc],pipes:[oe.d,Y.b],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:52px;z-index:1;box-shadow:0 2px 5px rgba(0,0,0,.26)}@media (max-width:600px){.header[_ngcontent-%COMP%]{border-radius:0}}.header__exit-button[_ngcontent-%COMP%]{margin-right:12px;width:30px;height:30px;flex-shrink:0;line-height:30px}.header__exit-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px!important}.header__langs[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;height:100%}.header__publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.header__publish-mode[_ngcontent-%COMP%]{font-weight:400}"],changeDetection:0}),e}();function dc(e,t){if(1&e&&(P.Wb(0,"div",6),P.Wb(1,"textarea",7),P.Qc(2),P.jc(3,"json"),P.Vb(),P.Vb()),2&e){var n=P.ic().ngIf;P.Bb(2),P.Rc(P.kc(3,1,n.items))}}var uc=function(e){return{"debug-enabled":e}};function pc(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"mat-card",1),P.Wb(2,"div",2),P.Wb(3,"button",3),P.ec("click",(function(){return P.Fc(n),P.ic().toggleDebugInfo()})),P.jc(4,"translate"),P.Wb(5,"mat-icon"),P.Qc(6,"offline_bolt"),P.Vb(),P.Vb(),P.Wb(7,"div"),P.Qc(8),P.Vb(),P.Wb(9,"button",4),P.Wb(10,"mat-icon"),P.Qc(11,"offline_bolt"),P.Vb(),P.Vb(),P.Vb(),P.Oc(12,dc,4,3,"div",5),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(1),P.oc("ngClass",P.tc(6,uc,i.showDebugInfo)),P.Bb(2),P.oc("matTooltip",P.kc(4,4,"General.Buttons.Debug")),P.Bb(5),P.Sc("2sxc ",o.sxcVer,""),P.Bb(4),P.oc("ngIf",i.showDebugInfo)}}var fc=function(e,t){return{showDebugInfo:e,items:t}},gc=function(){function e(e){this.itemService=e,this.debugInfoOpened=new P.n,this.sxcVer=sxcVersion.substring(0,sxcVersion.lastIndexOf(".")),this.showDebugInfo$=new a.a(!1)}return e.prototype.ngOnInit=function(){this.items$=this.itemService.selectAllItems()},e.prototype.ngOnDestroy=function(){this.showDebugInfo$.complete()},e.prototype.toggleDebugInfo=function(){this.showDebugInfo$.next(!this.showDebugInfo$.value),this.debugInfoOpened.emit(this.showDebugInfo$.value)},e.\u0275fac=function(t){return new(t||e)(P.Qb(Ue.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-multi-item-edit-form-debug"]],outputs:{debugInfoOpened:"debugInfoOpened"},decls:3,vars:8,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center start",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"debug-buttons-container"],["mat-icon-button","",3,"matTooltip","click"],["mat-icon-button","",1,"hidden"],["class","debug-info-container",4,"ngIf"],[1,"debug-info-container"],["readonly","",1,"debug-dump"]],template:function(e,t){1&e&&(P.Oc(0,pc,13,8,"ng-container",0),P.jc(1,"async"),P.jc(2,"async")),2&e&&P.oc("ngIf",P.uc(5,fc,P.kc(1,1,t.showDebugInfo$),P.kc(2,3,t.items$)))},directives:[Y.m,Xe.a,Ae.c,Ae.b,Y.k,J.a,St.a,ee.a,te.a],pipes:[Y.b,oe.d,Y.f],styles:[".mat-card[_ngcontent-%COMP%]{padding:0;margin:0;border-top-left-radius:0;border-top-right-radius:0;height:52px;z-index:1;width:100%}@media (max-width:600px){.mat-card[_ngcontent-%COMP%]{border-radius:0}}.mat-card.debug-enabled[_ngcontent-%COMP%]{height:auto}.debug-buttons-container[_ngcontent-%COMP%]{padding:17px 16px 15px;height:52px;width:100%}.debug-info-container[_ngcontent-%COMP%]{margin:0 16px 16px!important;width:calc(100% - 32px);height:300px;position:relative}.debug-dump[_ngcontent-%COMP%]{width:calc(100% - 10px);margin:0;padding:10px 0 10px 10px;border:0;height:calc(100% - 20px);resize:none;background-color:rgba(29,39,61,.04)}.mat-icon-button[_ngcontent-%COMP%]{margin-right:12px;width:30px;height:30px;line-height:30px}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),e}();n.d(t,"MultiItemEditFormComponent",(function(){return Oc}));var bc=["slideable"];function hc(e,t){if(1&e){var n=P.Xb();P.Wb(0,"div"),P.Wb(1,"app-item-edit-form",15),P.ec("itemFormValueChange",(function(){return P.Fc(n),P.ic(2).formValueChange()})),P.Vb(),P.Vb()}if(2&e){var i=t.$implicit,o=P.ic(2);P.Bb(1),P.oc("item",i)("formId",o.formId)}}function mc(e,t){if(1&e){var n=P.Xb();P.Wb(0,"app-multi-item-edit-form-debug",16),P.ec("debugInfoOpened",(function(e){return P.Fc(n),P.ic(2).debugInfoOpened(e)})),P.Vb()}}var vc=function(e){return{"u-display-none":e}},yc=function(e,t,n){return{"debug-enabled":e,"debug-info-is-open":t,"hide-header-height-fix":n}},wc=function(e,t,n){return{"mat-fab--compact":e,"mat-fab--extended":t,"mat-fab--disabled":n}};function Cc(e,t){if(1&e){var n=P.Xb();P.Ub(0),P.Wb(1,"div",1),P.ec("click",(function(e){return P.Fc(n),P.ic().toggleDebugEnabled(e)})),P.Wb(2,"div",2),P.Wb(3,"app-multi-item-edit-form-header",3),P.ec("closeDialog",(function(){return P.Fc(n),P.ic().closeDialog()}))("setPublishMode",(function(e){return P.Fc(n),P.ic().setPublishMode(e)})),P.Vb(),P.Vb(),P.Wb(4,"div",4),P.Wb(5,"div",5),P.Wb(6,"div",6),P.Wb(7,"div",7),P.Wb(8,"div",8,9),P.Oc(10,hc,2,2,"div",10),P.Vb(),P.Vb(),P.Vb(),P.Wb(11,"div",11),P.Wb(12,"div",12),P.Wb(13,"button",13),P.ec("click",(function(){return P.Fc(n),P.ic().saveAll(!0)})),P.jc(14,"translate"),P.Wb(15,"mat-icon"),P.Qc(16,"done"),P.Vb(),P.Qc(17),P.jc(18,"translate"),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Vb(),P.Oc(19,mc,1,0,"app-multi-item-edit-form-debug",14),P.Vb(),P.Tb()}if(2&e){var i=t.ngIf,o=P.ic();P.Bb(2),P.oc("ngClass",P.tc(18,vc,i.hideHeader)),P.Bb(1),P.oc("formId",o.formId)("formsAreValid",i.formsAreValid)("allControlsAreDisabled",i.allControlsAreDisabled)("isParentDialog",o.isParentDialog)("publishMode",i.publishMode),P.Bb(2),P.oc("ngClass",P.vc(20,yc,i.debugEnabled,i.debugInfoIsOpen,i.hideHeader)),P.Bb(3),P.oc("ngClass",i.slide),P.Bb(2),P.oc("ngForOf",i.items)("ngForTrackBy",o.trackByFn),P.Bb(3),P.oc("matTooltip",P.kc(14,14,"Form.Buttons.Save.Tip"))("ngClass",P.vc(24,wc,i.reduceSaveButton,!i.reduceSaveButton,!i.formsAreValid&&!i.allControlsAreDisabled)),P.Bb(4),P.Sc(" ",i.reduceSaveButton?"":P.kc(18,16,"Form.Buttons.Save").toUpperCase()," "),P.Bb(2),P.oc("ngIf",i.debugEnabled)}}var _c=function(e,t,n,i,o,a,r,c,s){return{items:e,formsAreValid:t,allControlsAreDisabled:n,publishMode:i,reduceSaveButton:o,debugEnabled:a,debugInfoIsOpen:r,hideHeader:c,slide:s}},Oc=function(){function e(e,t,n,o,r,c,s,l,d,u,p,f,g,b,h,m,v){var y=this;this.dialogRef=e,this.actions$=t,this.changeDetectorRef=n,this.contentTypeService=o,this.globalConfigurationService=r,this.eavService=c,this.featureService=s,this.inputTypeService=l,this.itemService=d,this.languageService=u,this.languageInstanceService=p,this.snackBar=f,this.translate=g,this.validationMessagesService=b,this.loadIconsService=h,this.route=m,this.editRoutingService=v,this.formId=Math.floor(99999*Math.random()),this.formsAreValid$=new a.a(!1),this.allControlsAreDisabled$=new a.a(!0),this.publishMode$=new a.a("hide"),this.reduceSaveButton$=new a.a(!1),this.debugEnabled$=this.globalConfigurationService.getDebugEnabled().pipe(Object(C.a)((function(e){y.debugInfoIsOpen$.value&&!e&&y.debugInfoIsOpen$.next(!1)}))),this.debugInfoIsOpen$=new a.a(!1),this.formErrors=[],this.formsAreDirty={},this.formSaveAllObservables$=[],this.createMode=!1,this.formIsSaved=!1,this.subscriptions=[],this.eavService.setEavConfig(this.route),this.eavConfig=this.eavService.getEavConfig();var w=this.eavConfig.lang.split("-")[0];if(this.translate.use(w),this.editRoutingService.init(this.route,this.formId),this.loadIconsService.load(),this.isParentDialog=function(e){var t,n,o,a,r=0;try{for(var c=Object(i.i)(e.snapshot.pathFromRoot),s=c.next();!s.done;s=c.next()){var l=s.value;if(!(l.url.length<=0))try{for(var d=(o=void 0,Object(i.i)(l.url)),u=d.next();!u.done;u=d.next())"edit"===u.value.path&&r++}catch(p){o={error:p}}finally{try{u&&!u.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return 1===r}(this.route),this.isParentDialog){var _=function(e,t){var n,o,a;if(0===t.length)return t;var r=[],c=[];try{for(var s=Object(i.i)(t),l=s.next();!l.done;l=s.next()){var d=l.value;d.key===e?a=d:d.key.startsWith(e.split("-")[0])?r.push(d):c.push(d)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r.sort(Nr),c.sort(Nr),a?Object(i.g)([a],r,c):Object(i.g)(r,c)}(this.eavConfig.langpri,JSON.parse(this.eavConfig.langs));this.languageService.loadLanguages(_)}this.languageInstanceService.addLanguageInstance(this.formId,this.eavConfig.lang,this.eavConfig.langpri,this.eavConfig.lang,!1)}return e.prototype.ngOnInit=function(){var e=this;setTimeout((function(){e.reduceSaveButton$.next(!0)}),5e3),this.fetchFormData(),this.languageChangeSubscribe(),this.dialogBackdropClickSubscribe(),this.saveFormMessagesSubscribe(),this.formSetValueChangeSubscribe(),this.checkFormsState()},e.prototype.ngAfterViewChecked=function(){this.attachAllSaveFormObservables(),this.changeDetectorRef.detectChanges()},e.prototype.ngOnDestroy=function(){this.reduceSaveButton$.complete(),this.debugInfoIsOpen$.complete(),this.formsAreValid$.complete(),this.allControlsAreDisabled$.complete(),this.publishMode$.complete(),this.subscriptions.forEach((function(e){e.unsubscribe()})),this.languageInstanceService.removeLanguageInstance(this.formId),this.isParentDialog&&(this.languageInstanceService.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.featureService.clearCache(),this.contentTypeService.clearCache())},e.prototype.toggleDebugEnabled=function(e){(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.shiftKey&&e.altKey&&this.globalConfigurationService.toggleDebugEnabled()},e.prototype.closeDialog=function(e){this.dialogRef.disableClose?this.snackBarYouHaveUnsavedChanges():this.dialogRef.close(this.createMode?e:void 0)},e.prototype.setPublishMode=function(e){null==this.eavConfig.versioningOptions[e]&&(e=Object.keys(this.eavConfig.versioningOptions)[0]),this.publishMode$.next(e)},e.prototype.trackByFn=function(e,t){return 0===t.entity.id?t.entity.guid:t.entity.id},e.prototype.formValueChange=function(){this.checkFormsState(),this.formErrors=[]},e.prototype.saveAll=function(e){var t=this;this.eavService.forceConnectorSave$.next(),setTimeout((function(){if(t.formsAreValid$.value||t.allControlsAreDisabled$.value)t.itemEditFormRefs.forEach((function(e){e.form.submitOutside()})),Object($.a)("saveAll",e),t.snackBar.open(t.translate.instant("Message.Saving"),null,{duration:2e3}),e&&(t.formIsSaved=!0);else{t.calculateAllValidationMessages();var n=[];t.formErrors.forEach((function(e){Object.keys(e).forEach((function(t){n.push({field:t,message:e[t]})}))})),t.snackBar.openFromComponent(Gr,{data:{fieldErrors:n},duration:5e3})}}),100)},e.prototype.debugInfoOpened=function(e){this.debugInfoIsOpen$.next(e)},e.prototype.fetchFormData=function(){var e=this;this.eavService.fetchFormData(this.eavConfig.items).subscribe((function(t){e.itemService.loadItems(t.Items),e.inputTypeService.addInputTypes(t.InputTypes),e.contentTypeService.addContentTypes(t.ContentTypes),e.featureService.loadFeatures(t.Features),e.setPublishMode(t.DraftShouldBranch?Ur.Branch:t.IsPublished?Ur.Show:Ur.Hide),e.hideHeader$=e.languageInstanceService.getHideHeader(e.formId),e.slide$=Object(r.a)(e.languageInstanceService.getCurrentLanguage(e.formId).pipe(Object(_.a)(),Object(O.a)((function(t){var n,i=t[0],o=t[1];return e.languageService.entities$.pipe(Object(x.a)(1)).subscribe((function(e){n=e})),n.findIndex((function(e){return e.key===i}))>n.findIndex((function(e){return e.key===o}))?"previous":"next"}))),Object(c.a)(e.slideableRef.nativeElement,"animationend").pipe(Object(k.a)((function(e){return"move-next"===e.animationName||"move-previous"===e.animationName})),Object(O.a)((function(){return""})),Object(M.a)(0))),e.eavConfig.lang!==e.eavConfig.langpri&&(e.itemService.valuesExistInDefaultLanguage(t.Items.map((function(e){return 0===e.Entity.Id?e.Entity.Guid:e.Entity.Id})),e.eavConfig.langpri,e.inputTypeService,e.contentTypeService)||(e.languageInstanceService.updateCurrentLanguage(e.formId,e.eavConfig.langpri),e.snackBar.open(e.translate.instant("Message.SwitchedLanguageToDefault",{language:e.eavConfig.langpri}),null,{duration:5e3}))),e.items$=e.itemService.selectItemsByIdList(t.Items.map((function(e){return 0===e.Entity.Id?e.Entity.Guid:e.Entity.Id}))),e.items$.pipe(Object(x.a)(1)).subscribe((function(t){(null==t?void 0:t.length)>0&&0===t[0].entity.id&&(e.createMode=!0)}))}))},e.prototype.languageChangeSubscribe=function(){var e=this;this.subscriptions.push(this.languageInstanceService.getCurrentLanguage(this.formId).subscribe((function(t){e.formErrors=[]})))},e.prototype.dialogBackdropClickSubscribe=function(){var e=this;this.subscriptions.push(Object(c.a)(window,"beforeunload").subscribe((function(t){e.dialogRef.disableClose&&(t.preventDefault(),t.returnValue="",e.snackBarYouHaveUnsavedChanges())}))),this.dialogRef.backdropClick().subscribe((function(t){e.closeDialog()})),this.dialogRef.keydownEvents().subscribe((function(t){27===t.keyCode?e.closeDialog():(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&83===t.keyCode&&(t.preventDefault(),e.saveAll(!1))}))},e.prototype.saveFormMessagesSubscribe=function(){var e=this;this.subscriptions.push(this.actions$.pipe(Object(o.e)(T.c)).subscribe((function(t){e.itemService.updateItemId(t.data),Object($.a)("success END: ",t.data),e.snackBar.open(e.translate.instant("Message.Saved"),null,{duration:2e3}),e.dialogRef.disableClose=!1,e.formIsSaved&&e.closeDialog(t.data)}))),this.subscriptions.push(this.actions$.pipe(Object(o.e)(T.b)).subscribe((function(t){Object($.a)("error END",t.error),e.snackBar.open("Error",null,{duration:2e3})})))},e.prototype.formSetValueChangeSubscribe=function(){var e=this;this.subscriptions.push(this.eavService.formValueChange$.pipe(Object(k.a)((function(t){return t.formId===e.formId}))).subscribe((function(t){e.checkFormsState()})))},e.prototype.checkFormsState=function(){var e,t,n=this;if((null===(e=this.itemEditFormRefs)||void 0===e?void 0:e.length)>0&&(null===(t=this.itemEditFormRefs)||void 0===t?void 0:t.first.currentLanguage)){var i=!0,o=!0;this.formsAreDirty[this.itemEditFormRefs.first.currentLanguage]=!1,this.itemEditFormRefs.forEach((function(e){!0!==e.form.form.invalid||e.item.header.Group&&!1!==e.item.header.Group.SlotCanBeEmpty||(i=!1),e.form.form.dirty&&(n.formsAreDirty[e.currentLanguage]=!0),e.checkAreAllControlsDisabled()||(o=!1)})),this.formsAreValid$.value!==i&&this.formsAreValid$.next(i),this.allControlsAreDisabled$.value!==o&&this.allControlsAreDisabled$.next(o)}this.dialogRef.disableClose=this.areFormsDirtyAnyLanguage()},e.prototype.areFormsDirtyAnyLanguage=function(){var e,t,n=!1,o=Object.keys(this.formsAreDirty);try{for(var a=Object(i.i)(o),r=a.next();!r.done;r=a.next())if(!0===this.formsAreDirty[r.value]){n=!0;break}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},e.prototype.calculateAllValidationMessages=function(){var e,t=this;this.formErrors=[],null===(e=this.itemEditFormRefs)||void 0===e||e.forEach((function(e){e.form.form.invalid&&t.formErrors.push(t.validationMessagesService.validateForm(e.form.form,!1))}))},e.prototype.attachAllSaveFormObservables=function(){var e,t=this;0===this.formSaveAllObservables$.length&&(null===(e=this.itemEditFormRefs)||void 0===e||e.forEach((function(e){t.formSaveAllObservables$.push(e.formSaveObservable())})),this.formSaveAllObservables$.length>0&&(this.saveFormSubscribe(),this.checkFormsState()))},e.prototype.saveFormSubscribe=function(){var e=this;this.subscriptions.push(g.apply(void 0,Object(i.g)(this.formSaveAllObservables$)).pipe(Object(I.a)((function(t){Object($.a)("ZIP ACTIONS ITEM: ",Ar.create(t[0].item));var n=[];return t.forEach((function(e){var t=Ar.create(e.item);Object.keys(t.Entity.Attributes).length>0&&n.push(t)})),e.eavService.saveFormData(e.eavConfig.partOfPage,JSON.stringify({Items:n,IsPublished:e.publishMode$.value===Ur.Show,DraftShouldBranch:e.publishMode$.value===Ur.Branch})).pipe(Object(O.a)((function(t){e.eavService.saveItemSuccess(t)})),Object(C.a)((function(e){return Object($.a)("working")})))})),Object(S.a)((function(t){return Object(w.a)(e.eavService.saveItemError(t))}))).subscribe())},e.prototype.snackBarYouHaveUnsavedChanges=function(){var e=this,t=this.snackBar.openFromComponent(Rr,{data:{save:!1},duration:5e3});t.onAction().subscribe((function(){t.containerInstance.snackBarConfig.data.save?e.saveAll(!0):(e.dialogRef.disableClose=!1,e.closeDialog())}))},e.\u0275fac=function(t){return new(t||e)(P.Qb(_t.g),P.Qb(o.a),P.Qb(P.h),P.Qb(Ke),P.Qb(Eo.a),P.Qb(D.a),P.Qb(K),P.Qb(Zt.a),P.Qb(Ue.a),P.Qb(Mt.a),P.Qb(qe.a),P.Qb(Ho.b),P.Qb(oe.e),P.Qb(W.a),P.Qb(qr.a),P.Qb(Hr.a),P.Qb(Z.a))},e.\u0275cmp=P.Kb({type:e,selectors:[["app-multi-item-edit-form"]],viewQuery:function(e,t){var n;1&e&&(P.Wc(bc,!0),P.Wc(Br,!0)),2&e&&(P.Cc(n=P.fc())&&(t.slideableRef=n.first),P.Cc(n=P.fc())&&(t.itemEditFormRefs=n))},decls:11,vars:29,consts:[[4,"ngIf"],["mat-dialog-container","",2,"position","relative",3,"click"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"formId","formsAreValid","allControlsAreDisabled","isParentDialog","publishMode","closeDialog","setPublishMode"],[2,"position","relative"],["mat-dialog-content","",1,"u-hide-scrollbar",3,"ngClass"],[1,"mdc-layout-grid"],[1,"mdc-layout-grid__inner"],[1,"mdc-layout-grid__cell--span-12",3,"ngClass"],["slideable",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-multi-item-dialog__save-container"],[1,"c-multi-item-dialog__save-button"],["mat-fab","",1,"mat-elevation-z24",3,"matTooltip","ngClass","click"],["mat-dialog-actions","",3,"debugInfoOpened",4,"ngIf"],[3,"item","formId","itemFormValueChange"],["mat-dialog-actions","",3,"debugInfoOpened"]],template:function(e,t){1&e&&(P.Rb(0,"router-outlet"),P.Oc(1,Cc,20,28,"ng-container",0),P.jc(2,"async"),P.jc(3,"async"),P.jc(4,"async"),P.jc(5,"async"),P.jc(6,"async"),P.jc(7,"async"),P.jc(8,"async"),P.jc(9,"async"),P.jc(10,"async")),2&e&&(P.Bb(1),P.oc("ngIf",P.Bc(19,_c,[P.kc(2,1,t.items$),P.kc(3,3,t.formsAreValid$),P.kc(4,5,t.allControlsAreDisabled$),P.kc(5,7,t.publishMode$),P.kc(6,9,t.reduceSaveButton$),P.kc(7,11,t.debugEnabled$),P.kc(8,13,t.debugInfoIsOpen$),P.kc(9,15,t.hideHeader$),P.kc(10,17,t.slide$)])))},directives:[Hr.e,Y.m,_t.c,Y.k,J.a,lc,_t.e,Y.l,St.a,ee.a,te.a,Br,gc],pipes:[Y.b,oe.d],styles:["@-webkit-keyframes move-next{0%{transform:translateX(0)}49%{transform:translateX(-800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@keyframes move-next{0%{transform:translateX(0)}49%{transform:translateX(-800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@-webkit-keyframes move-previous{0%{transform:translateX(0)}49%{transform:translateX(800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(-800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}@keyframes move-previous{0%{transform:translateX(0)}49%{transform:translateX(800px);-webkit-animation-timing-function:step-end;animation-timing-function:step-end}50%{transform:translate(-800px);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}to{transform:translateX(0)}}.next[_ngcontent-%COMP%]{-webkit-animation:move-next .2s ease-in;animation:move-next .2s ease-in}.previous[_ngcontent-%COMP%]{-webkit-animation:move-previous .2s ease-in;animation:move-previous .2s ease-in}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.mat-dialog-content[_ngcontent-%COMP%]{margin:0;padding:0;max-height:calc(100vh - 100px)}@media (max-width:600px){.mat-dialog-content[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)}}.mat-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 48px)!important}@media (max-width:600px){.mat-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{max-height:100vh!important}}.mat-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 152px)}@media (max-width:600px){.mat-dialog-content.debug-enabled[_ngcontent-%COMP%]{max-height:calc(100vh - 104px)}}.mat-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 100px)!important}@media (max-width:600px){.mat-dialog-content.debug-enabled.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 52px)!important}}.mat-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 468px)}@media (max-width:600px){.mat-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{max-height:calc(100vh - 420px)}}.mat-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 416px)!important}@media (max-width:600px){.mat-dialog-content.debug-enabled.debug-info-is-open.hide-header-height-fix[_ngcontent-%COMP%]{max-height:calc(100vh - 368px)!important}}.mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.c-multi-item-dialog__save-container[_ngcontent-%COMP%]{z-index:1;position:absolute;bottom:14px;right:24px}@media (max-width:600px){.c-multi-item-dialog__save-container[_ngcontent-%COMP%]{bottom:4px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{border-radius:16px 0;overflow:hidden}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]    .mat-button-wrapper{padding:0;font-size:14px;height:20px;line-height:20px}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--compact[_ngcontent-%COMP%]{height:48px;width:48px;transition:width 1s}@media (max-width:600px){.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--compact[_ngcontent-%COMP%]{height:42px;width:42px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--extended[_ngcontent-%COMP%]{height:48px;width:200px;transition:width 1s}@media (max-width:600px){.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--extended[_ngcontent-%COMP%]{height:42px;width:170px}}.c-multi-item-dialog__save-button[_ngcontent-%COMP%]   .mat-fab--disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.26);background-color:rgba(29,39,61,.12)}.mdc-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width:600px){.mdc-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"],changeDetection:0}),e}()},lnqP:function(e,t,n){"use strict";var i=n("gFym"),o=n("SEb4");t.a=function(e,t,n){var a=t(e);return Object(o.a)(e)?a:Object(i.a)(a,n(e))}},mY74:function(e,t,n){"use strict";var i=n("fw2E");t.a=i.a.Uint8Array},qd5q:function(e,t,n){"use strict";var i=n("NUo7"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;t.a=a?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,a=null==t?0:t.length,r=0,c=[];++i<a;){var s=t[i];o.call(e,s)&&(c[r++]=s)}return c}(a(e)))}:i.a},qzOT:function(e,t){var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,i){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0===n.Reflect?n.Reflect=e:i=o(n.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,r={__proto__:[]}instanceof Array,c=!a&&!r,s={create:a?function(){return j(Object.create(null))}:r?function(){return j({__proto__:null})}:function(){return j({})},has:c?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:c?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),d="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,u=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,o=n+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,r)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function a(e,t){return t}function r(e,t){return[e,t]}}():Map,p=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new u}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,f=new(d||"function"!=typeof WeakMap?function(){var e=s.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+r()}while(s.has(e,t));return e[t]=!0,t}function o(e,i){if(!t.call(e,n)){if(!i)return;Object.defineProperty(e,n,{value:s.create()})}return e[n]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function r(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16),16):a(new Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var i=e[n];4!==n&&6!==n&&8!==n||(t+="-"),i<16&&(t+="0"),t+=i.toString(16).toLowerCase()}return t}}():WeakMap);function g(e,t,n){var i=f.get(e);if(w(i)){if(!n)return;i=new u,f.set(e,i)}var o=i.get(t);if(w(o)){if(!n)return;o=new u,i.set(t,o)}return o}function b(e,t,n){var i=g(t,n,!1);return!w(i)&&!!i.has(e)}function h(e,t,n){var i=g(t,n,!1);if(!w(i))return i.get(e)}function m(e,t,n,i){g(n,i,!0).set(e,t)}function v(e,t){var n=[],i=g(e,t,!1);if(w(i))return n;for(var a=function(e){var t=I(e,o);if(!k(t))throw new TypeError;var n=t.call(e);if(!_(n))throw new TypeError;return n}(i.keys()),r=0;;){var c=S(a);if(!c)return n.length=r,n;var s=c.value;try{n[r]=s}catch(l){try{T(a)}finally{throw l}}r++}}function y(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function C(e){return null===e}function _(e){return"object"==typeof e?null!==e:"function"==typeof e}function O(e){var t=function(e,t){switch(y(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=I(e,i);if(void 0!==n){var o=n.call(e,"string");if(_(o))throw new TypeError;return o}return function(e,t){var n,i,o=e.toString;if(k(o)&&!_(i=o.call(e)))return i;if(k(n=e.valueOf)&&!_(i=n.call(e)))return i;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function x(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function M(e){return"function"==typeof e}function I(e,t){var n=e[t];if(null!=n){if(!k(n))throw new TypeError;return n}}function S(e){var t=e.next();return!t.done&&t}function T(e){var t=e.return;t&&t.call(e)}function P(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var o=i.constructor;return"function"!=typeof o?t:o===e?t:o}function j(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,i){if(w(n)){if(!x(e))throw new TypeError;if(!M(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!w(i)&&!C(i)){if(!M(i))throw new TypeError;t=i}}return t}(e,t)}if(!x(e))throw new TypeError;if(!_(t))throw new TypeError;if(!_(i)&&!w(i)&&!C(i))throw new TypeError;return C(i)&&(i=void 0),function(e,t,n,i){for(var o=e.length-1;o>=0;--o){var a=(0,e[o])(t,n,i);if(!w(a)&&!C(a)){if(!_(a))throw new TypeError;i=a}}return i}(e,t,n=O(n),i)})),e("metadata",(function(e,t){return function(n,i){if(!_(n))throw new TypeError;if(!w(i)&&!function(e){switch(y(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;m(e,t,n,i)}})),e("defineMetadata",(function(e,t,n,i){if(!_(n))throw new TypeError;return w(i)||(i=O(i)),m(e,t,n,i)})),e("hasMetadata",(function(e,t,n){if(!_(t))throw new TypeError;return w(n)||(n=O(n)),function e(t,n,i){if(b(t,n,i))return!0;var o=P(n);return!C(o)&&e(t,o,i)}(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!_(t))throw new TypeError;return w(n)||(n=O(n)),b(e,t,n)})),e("getMetadata",(function(e,t,n){if(!_(t))throw new TypeError;return w(n)||(n=O(n)),function e(t,n,i){if(b(t,n,i))return h(t,n,i);var o=P(n);return C(o)?void 0:e(t,o,i)}(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!_(t))throw new TypeError;return w(n)||(n=O(n)),h(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return w(t)||(t=O(t)),function e(t,n){var i=v(t,n),o=P(t);if(null===o)return i;var a=e(o,n);if(a.length<=0)return i;if(i.length<=0)return a;for(var r=new p,c=[],s=0,l=i;s<l.length;s++)r.has(f=l[s])||(r.add(f),c.push(f));for(var d=0,u=a;d<u.length;d++){var f;r.has(f=u[d])||(r.add(f),c.push(f))}return c}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return w(t)||(t=O(t)),v(e,t)})),e("deleteMetadata",(function(e,t,n){if(!_(t))throw new TypeError;w(n)||(n=O(n));var i=g(t,n,!1);if(w(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var o=f.get(t);return o.delete(n),o.size>0||(f.delete(t),!0)}))}(i)}()}(n||(n={}))}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.05.01/ng-edit/multi-item-edit-form-component.0dbe2710693dca4cdc8a.js.map
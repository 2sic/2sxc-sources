(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"1yen":function(t,e,n){"use strict";n.r(e),n.d(e,"ReplaceContentComponent",(function(){return k}));var o=n("D57K"),i=n("5/c3"),a=n("LiEJ"),c=n("LR82"),s=n("z5yO"),r=n("W/Ou"),l=n("Jg5f"),u=n("QagP"),p=n("uuTa"),b=n("1C3z"),d=n("BLjT"),h=n("PlBB"),f=n("2pW/"),g=n("hOvr"),m=n("LuBX"),v=n("ZSGP"),y=n("8AiQ"),O=n("9HSk"),C=n("Qc/f"),j=n("r4gC"),x=n("OeRG");function $(t,e){if(1&t&&(b.Vb(0,"mat-option",11),b.Oc(1),b.Ub()),2&t){var n=e.$implicit;b.nc("value",n.value),b.Bb(1),b.Pc(n.label)}}var k=function(){function t(t,e,n,o,i){this.dialogRef=t,this.contentGroupService=e,this.router=n,this.route=o,this.snackBar=i,this.hostClass="dialog-component",this.item$=new a.a({id:null,guid:this.route.snapshot.paramMap.get("guid"),part:this.route.snapshot.paramMap.get("part"),index:parseInt(this.route.snapshot.paramMap.get("index"),10),add:!!this.route.snapshot.queryParamMap.get("add")}),this.options$=new a.a(null),this.subscription=new c.a}return t.prototype.ngOnInit=function(){this.getConfig(),this.refreshOnChildClosed()},t.prototype.ngOnDestroy=function(){this.item$.complete(),this.options$.complete(),this.subscription.unsubscribe()},t.prototype.selectedChanged=function(t){this.item$.next(Object(o.a)(Object(o.a)({},this.item$.value),{id:t}))},t.prototype.save=function(){var t=this;this.snackBar.open("Saving..."),this.contentGroupService.saveItem(this.item$.value).subscribe((function(){t.snackBar.open("Saved",null,{duration:2e3}),t.closeDialog()}))},t.prototype.copySelected=function(){var t={items:[{ContentTypeName:this.contentTypeName,DuplicateEntity:this.item$.value.id}]},e=Object(p.a)(t);this.router.navigate(["edit/"+e],{relativeTo:this.route})},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.getConfig=function(){var t=this;this.contentGroupService.getItems(this.item$.value).subscribe((function(e){var n,i,a=[],c=Object.keys(e.Items);try{for(var s=Object(o.i)(c),r=s.next();!r.done;r=s.next()){var l=parseInt(r.value,10);a.push({label:e.Items[l]+" ("+l+")",value:l})}}catch(u){n={error:u}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}t.options$.next(a),t.item$.value.id||t.item$.value.add||t.item$.next(Object(o.a)(Object(o.a)({},t.item$.value),{id:e.SelectedId})),t.contentTypeName||(t.contentTypeName=e.ContentTypeName)}))},t.prototype.refreshOnChildClosed=function(){var t=this;this.subscription.add(this.router.events.pipe(Object(s.a)((function(t){return t instanceof i.b})),Object(r.a)(!!this.route.snapshot.firstChild),Object(l.a)((function(){return!!t.route.snapshot.firstChild})),Object(u.a)(),Object(s.a)((function(t){var e=Object(o.f)(t,2);return e[0]&&!e[1]}))).subscribe((function(){var e;t.getConfig();var n=null===(e=t.router.getCurrentNavigation().extras)||void 0===e?void 0:e.state;if(n){var i=n[Object.keys(n)[0]];t.item$.next(Object(o.a)(Object(o.a)({},t.item$.value),{id:i}))}})))},t.\u0275fac=function(e){return new(e||t)(b.Pb(d.g),b.Pb(h.a),b.Pb(i.c),b.Pb(i.a),b.Pb(f.b))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-replace-content"]],hostVars:1,hostBindings:function(t,e){2&t&&b.Yb("className",e.hostClass)},decls:22,vars:6,consts:[["mat-dialog-title",""],[1,"dialog-title-box"],[1,"dialog-description"],[1,"options-box"],["appearance","standard","color","accent",1,"options-box__field"],["name","Language",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Copy",1,"options-box__copy",3,"click"],[1,"dialog-component-actions"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[3,"value"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"div",1),b.Oc(2,"Replace Content Item"),b.Ub(),b.Ub(),b.Qb(3,"router-outlet"),b.Vb(4,"p",2),b.Oc(5," By replacing a content-item you can make a other content appear in the slot of the original content.\n"),b.Ub(),b.Vb(6,"div",3),b.Vb(7,"mat-form-field",4),b.Vb(8,"mat-label"),b.Oc(9,"Choose item"),b.Ub(),b.Vb(10,"mat-select",5),b.dc("ngModelChange",(function(t){return e.selectedChanged(t)})),b.ic(11,"async"),b.Mc(12,$,2,2,"mat-option",6),b.ic(13,"async"),b.Ub(),b.Ub(),b.Vb(14,"button",7),b.dc("click",(function(){return e.copySelected()})),b.Vb(15,"mat-icon"),b.Oc(16,"file_copy"),b.Ub(),b.Ub(),b.Ub(),b.Vb(17,"div",8),b.Vb(18,"button",9),b.dc("click",(function(){return e.closeDialog()})),b.Oc(19,"Cancel"),b.Ub(),b.Vb(20,"button",10),b.dc("click",(function(){return e.save()})),b.Oc(21,"Save"),b.Ub(),b.Ub()),2&t&&(b.Bb(10),b.nc("ngModel",b.jc(11,2,e.item$).id),b.Bb(2),b.nc("ngForOf",b.jc(13,4,e.options$)))},directives:[d.h,i.e,g.c,g.g,m.a,v.l,v.o,y.l,O.a,C.a,j.a,x.l],pipes:[y.b],styles:[".options-box[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.options-box__field[_ngcontent-%COMP%]{width:40%}.options-box__copy[_ngcontent-%COMP%]{margin-left:8px}"],changeDetection:0}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/11.05.01/ng-edit/replace-content-component.fda031738d03d1ff67d5.js.map
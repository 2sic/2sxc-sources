{"version":3,"sources":["./projects/ng-dialogs/src/app/apps-management/ag-grid-components/apps-list-actions/apps-list-actions.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/apps-list-actions/apps-list-actions.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/apps-list-show/apps-list-show.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/apps-list-show/apps-list-show.component.ts","./projects/ng-dialogs/src/app/apps-management/apps-list/apps-list.component.ts","./projects/ng-dialogs/src/app/apps-management/apps-list/apps-list.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/enable-languages-status/enable-languages-status.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/enable-languages-status/enable-languages-status.component.html","./projects/ng-dialogs/src/app/apps-management/enable-languages/enable-languages.component.ts","./projects/ng-dialogs/src/app/apps-management/enable-languages/enable-languages.component.html","./projects/ng-dialogs/src/app/apps-management/system-settings/system-settings.component.ts","./projects/ng-dialogs/src/app/apps-management/system-settings/system-settings.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-enabled/features-list-enabled.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-enabled/features-list-enabled.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-name/features-list-name.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-name/features-list-name.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-public/features-list-public.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-public/features-list-public.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-security/features-list-security.component.ts","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-security/features-list-security.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-ui/features-list-ui.component.html","./projects/ng-dialogs/src/app/apps-management/ag-grid-components/features-list-ui/features-list-ui.component.ts","./projects/ng-dialogs/src/app/apps-management/manage-features/manage-features.component.html","./projects/ng-dialogs/src/app/apps-management/manage-features/manage-features.component.ts","./projects/ng-dialogs/src/app/apps-management/sxc-insights/sxc-insights.component.html","./projects/ng-dialogs/src/app/apps-management/sxc-insights/sxc-insights.component.ts","./projects/ng-dialogs/src/app/apps-management/apps-management-nav/apps-management-nav.component.html","./projects/ng-dialogs/src/app/apps-management/apps-management-nav/apps-management-nav.component.ts","./projects/ng-dialogs/src/app/shared/components/field-hint/field-hint.component.html","./projects/ng-dialogs/src/app/shared/components/field-hint/field-hint.component.ts","./projects/ng-dialogs/src/app/shared/components/id-field/id-field.component.ts","./projects/ng-dialogs/src/app/shared/components/id-field/id-field.component.html","./projects/ng-dialogs/src/app/shared/helpers/copy-to-clipboard.helper.ts"],"names":["agInit","params","this","app","data","refresh","flushCache","onFlush","deleteApp","onDelete","AppsListActionsComponent","value","AppsListShowComponent","router","route","appsListService","snackBar","apps$","BehaviorSubject","fabOpen$","modules","gridOptions","frameworkComponents","booleanFilterComponent","idFieldComponent","appsListShowComponent","appsListActionsComponent","columnDefs","headerName","field","width","headerClass","cellClass","cellRenderer","sortable","filter","cellRendererParams","tooltipGetter","Id","Guid","valueGetter","showValueGetter","flex","minWidth","sort","onCellClicked","openApp","bind","Thumbnail","pinned","flushApp","subscription","Subscription","ngOnInit","fetchAppsList","refreshOnChildClosed","ngOnDestroy","complete","unsubscribe","openChange","open","next","browseCatalog","window","createApp","navigate","relativeTo","firstChild","createInheritedApp","importApp","files","state","getAll","subscribe","apps","IsHidden","result","prompt","Name","delete","duration","alert","confirm","toString","parent","add","events","pipe","event","startWith","snapshot","map","pairwise","AppsListComponent","toggleLanguage","onEnabledToggle","EnableLanguagesStatusComponent","languagesService","languages$","enableLanguagesStatusComponent","language","Code","handleNameClicked","fetchLanguages","save","IsEnabled","languages","EnableLanguagesComponent","dialogService","appDialogConfigService","openSiteSettings","sitePrimaryApp","openAppAdministration","ZoneId","AppId","getDialogSettings","openGlobalSettings","globalPrimaryApp","callback","dialogSettings","Context","Site","PrimaryApp","System","SystemSettingsComponent","FeaturesListEnabledComponent","feature","FeaturesListNameComponent","FeaturesListPublicComponent","FeaturesListSecurityComponent","FeaturesListUiComponent","featuresConfigService","featuresListEnabledComponent","featuresListUiComponent","featuresListPublicComponent","featuresListNameComponent","featuresListSecurityComponent","NameId","Enabled","Ui","Public","openFeature","Expires","replace","Security","Impact","features$","showManagement$","showSpinner$","managementUrl$","templateVars$","combineLatest","features","showManagement","showSpinner","managementUrl","fetchFeatures","subscribeToMessages","toggleManagement","getManageFeaturesUrl","url","includes","Error","fromEvent","origin","endsWith","featuresString","JSON","stringify","saveFeatures","res","ManageFeaturesComponent","sxcInsightsService","positiveWholeNumber","loading$","openInsights","$2sxc","http","apiUrl","activatePageLog","form","pageLogDuration","document","activeElement","HTMLElement","blur","resetForm","SxcInsightsComponent","dialogRef","context","zoneId","tabs","tabIndex$","indexOf","path","closeDialog","close","changeTab","index","AppsManagementNavComponent","isError","isShort","toggleIsShort","FieldHintComponent","id","tooltip","copy","IdFieldComponent","copyToClipboard","str","el","createElement","setAttribute","style","position","left","body","appendChild","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange"],"mappings":"2fAII,oBAA+B,sBAAU,S,sBACzC,oBAAkC,2BAAe,SCArD,iBASE,c,OAEA,YAAAA,OAAA,SAAOC,GACLC,KAAKD,OAASA,EACdC,KAAKC,IAAMD,KAAKD,OAAOG,MAGzB,YAAAC,QAAA,SAAQJ,GACN,OAAO,GAGT,YAAAK,WAAA,WACEJ,KAAKD,OAAOM,QAAQL,KAAKC,MAG3B,YAAAK,UAAA,WACEN,KAAKD,OAAOQ,SAASP,KAAKC,M,sCApBjBO,I,wBAAAA,EAAwB,+W,GAAA,MDVrC,iBACE,iBAGE,4BACA,4BACF,QACA,iBACE,oBAAU,sBAAU,QACtB,QACF,QAEA,wBACE,oBAAsB,gCAAS,EAAAJ,eAC7B,qBAAU,mBAAM,QAChB,iBAAM,wBAAW,QACnB,QACA,qBAA8C,gCAAS,EAAAE,cACrD,qBAAU,mBAAM,QAChB,iBAAM,mBAAM,QACd,QACF,S,oBAnBI,yGAA8F,qDAEnF,sCACA,yCAE6C,sCAUpC,2C,+DCZxB,G,sBCJE,sBAAuD,sBAAU,S,sBACjE,sBAA8D,0BAAc,SCE9E,+B,OAQE,YAAAR,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,OAGtB,YAAAN,QAAA,SAAQJ,GACN,OAAO,G,sCAREW,I,wBAAAA,EAAqB,uRDTlC,iBACE,4BACA,4BACF,S,MAF4C,+BACM,kC,2CCElD,G,wFCcA,aA2EE,WACUC,EACAC,EACAC,EACAC,GAHA,KAAAH,SACA,KAAAC,QACA,KAAAC,kBACA,KAAAC,WAzEV,KAAAC,MAAQ,IAAIC,EAAA,EAAuB,MACnC,KAAAC,SAAW,IAAID,EAAA,GAAgB,GAE/B,KAAAE,QAAU,KACV,KAAAC,aAAW,oBACN,KAAkB,CACrBC,oBAAqB,CACnBC,uBAAwB,IACxBC,iBAAkB,IAClBC,sBAAuBb,EACvBc,yBAA0BhB,GAE5BiB,WAAY,CACV,CACEC,WAAY,KAAMC,MAAO,KAAMC,MAAO,GAAIC,YAAa,QAASC,UAAW,kCAC3EC,aAAc,mBAAoBC,UAAU,EAAMC,OAAQ,qBAC1DC,mBAAoB,CAClBC,cAAe,SAAClC,GAAa,aAAOA,EAAImC,GAAE,WAAWnC,EAAIoC,QAG7D,CACEX,WAAY,OAAQC,MAAO,WAAYC,MAAO,GAAIC,YAAa,QAASC,UAAW,mBAAoBE,UAAU,EACjHC,OAAQ,yBAA0BF,aAAc,wBAAyBO,YAAatC,KAAKuC,iBAE7F,CACEb,WAAY,OAAQC,MAAO,OAAQa,KAAM,EAAGC,SAAU,IAAKX,UAAW,qCAAsCE,UAAU,EACtHU,KAAM,MAAOT,OAAQ,qBAAsBU,cAAe3C,KAAK4C,QAAQC,KAAK7C,MAAO+B,aAAc,SAAChC,GAChG,IAAME,EAAWF,EAAOG,KACxB,OAAqB,MAAjBD,EAAI6C,UACC,qFAE0B7C,EAAI6C,UAAS,iEACxB/C,EAAOU,MAAK,6BAG3B,kNAKeV,EAAOU,MAAK,+BAKxC,CACEiB,WAAY,SAAUC,MAAO,SAAUa,KAAM,EAAGC,SAAU,IAAKX,UAAW,aAAcE,UAAU,EAClGC,OAAQ,sBAEV,CACEP,WAAY,UAAWC,MAAO,UAAWC,MAAO,GAAIC,YAAa,QAASC,UAAW,aAAcE,UAAU,EAC7GC,OAAQ,sBAEV,CACEP,WAAY,QAASC,MAAO,QAASC,MAAO,GAAIC,YAAa,QAASC,UAAW,yBAA0BE,UAAU,EACrHC,OAAQ,wBAEV,CACEL,MAAO,GAAIE,UAAW,8BAA+BC,aAAc,2BAA4BgB,OAAQ,QACvGb,mBAAoB,CAClB3B,SAAUP,KAAKM,UAAUuC,KAAK7C,MAC9BK,QAASL,KAAKgD,SAASH,KAAK7C,WAM5B,KAAAiD,aAAe,IAAIC,EAAA,E,OAS3B,YAAAC,SAAA,WACEnD,KAAKoD,gBACLpD,KAAKqD,wBAGP,YAAAC,YAAA,WACEtD,KAAKe,MAAMwC,WACXvD,KAAKiB,SAASsC,WACdvD,KAAKiD,aAAaO,eAGpB,YAAAC,WAAA,SAAWC,GACT1D,KAAKiB,SAAS0C,KAAKD,IAGrB,YAAAE,cAAA,WACEC,OAAOH,KAAK,wBAAyB,WAGvC,YAAAI,UAAA,WACE9D,KAAKW,OAAOoD,SAAS,CAAC,UAAW,CAAEC,WAAYhE,KAAKY,MAAMqD,cAG5D,YAAAC,mBAAA,WACElE,KAAKW,OAAOoD,SAAS,CAAC,oBAAqB,CAAEC,WAAYhE,KAAKY,MAAMqD,cAGtE,YAAAE,UAAA,SAAUC,GAERpE,KAAKW,OAAOoD,SAAS,CAAC,UAAW,CAAEC,WAAYhE,KAAKY,MAAMqD,WAAYI,MAD9B,CAAED,MAAK,MAIzC,YAAAhB,cAAR,sBACEpD,KAAKa,gBAAgByD,SAASC,UAAU,SAAAC,GACtC,EAAKzD,MAAM4C,KAAKa,MAIZ,YAAAjC,gBAAR,SAAwBxC,GAEtB,OADiBA,EAAOG,KACZuE,UAGN,YAAAnE,UAAR,SAAkBL,GAAlB,WACQyE,EAASC,OAAO,+HAA+H1E,EAAI2E,KAAI,MAAM3E,EAAImC,GAAE,MAC1J,OAAXsC,IACAA,IAAWzE,EAAI2E,MAAmB,SAAXF,GACzB1E,KAAKc,SAAS4C,KAAK,eACnB1D,KAAKa,gBAAgBgE,OAAO5E,EAAImC,IAAImC,UAAU,WAC5C,EAAKzD,SAAS4C,KAAK,UAAW,KAAM,CAAEoB,SAAU,MAChD,EAAK1B,mBAGP2B,MAAM,2CAIF,YAAA/B,SAAR,SAAiB/C,GAAjB,WACO+E,QAAQ,2BAA2B/E,EAAI2E,KAAI,KAAK3E,EAAImC,GAAE,QAC3DpC,KAAKc,SAAS4C,KAAK,qBACnB1D,KAAKa,gBAAgBT,WAAWH,EAAImC,IAAImC,UAAU,WAChD,EAAKzD,SAAS4C,KAAK,gBAAiB,KAAM,CAAEoB,SAAU,UAIlD,YAAAlC,QAAR,SAAgB7C,GAEdC,KAAKW,OAAOoD,SAAS,CADNhE,EAAOG,KAAakC,GACP6C,YAAa,CAAEjB,WAAYhE,KAAKY,MAAMsE,UAG5D,YAAA7B,qBAAR,sBACErD,KAAKiD,aAAakC,IAChBnF,KAAKW,OAAOyE,OAAOC,MACjB,EAAApD,EAAA,GAAO,SAAAqD,GAAS,OAAAA,aAAiB,QACjC,EAAAC,EAAA,KAAYvF,KAAKY,MAAM4E,SAASvB,WAAWA,aAC3C,EAAAwB,EAAA,GAAI,WAAM,QAAE,EAAK7E,MAAM4E,SAASvB,WAAWA,cAC3C,EAAAyB,EAAA,MACA,EAAAzD,EAAA,GAAO,SAAC,G,IAAA,gBAAyB,OAAhB,OAAU,QAC3BsC,UAAU,WACV,EAAKnB,oB,sCA5JAuC,GAAiB,iD,wBAAjBA,EAAiB,ujBCvB9B,iBACE,6BAC4C,wCAAgB,EAAAxB,UAAA,K,iBAC5D,QAEA,iBAEA,gCACE,sCAAc,EAAAV,WAAA,K,iBACd,wCACE,oBACE,sBAA0B,S,kBAA0C,QACtE,QACF,QAEA,uCACE,qBAA4C,gCAAS,EAAAG,kBACnD,qBAAU,mBAAM,QAClB,QACA,qBAAkD,gCAAS,EAAAM,uBACzD,qBAAU,4BAAe,QAC3B,QACA,qBAAwC,gCAAS,EAAAC,cAC/C,qBAAU,yBAAY,QACxB,QACA,sBAAwC,gCAAS,EAAAL,cAC/C,qBAAU,gBAAG,QACf,QACF,QACF,QACF,S,MA7B6C,6CAAyB,oBAAzB,CAAyB,4BAAzB,CAAyB,0BAM/B,4DAEP,0BAEE,wD,iFDOlC,G,UEbA,2B,OASE,YAAAhE,OAAA,SAAOC,GACLC,KAAKD,OAASA,EACdC,KAAKS,MAAQT,KAAKD,OAAOU,OAG3B,YAAAN,QAAA,SAAQJ,GACN,OAAO,GAGT,YAAA6F,eAAA,WAEE5F,KAAKD,OAAO8F,gBADqB7F,KAAKD,OAAOG,O,sCAdpC4F,I,wBAAAA,EAA8B,wHCV3C,8BAAoC,iCAAU,EAAAF,mBAAkB,S,KAA9C,0B,qLDKlB,G,UEOA,aAsCE,WAAoBG,GAAA,KAAAA,mBAhCpB,KAAAC,WAAa,IAAIhF,EAAA,EAAkC,MAEnD,KAAAE,QAAU,KACV,KAAAC,aAAW,oBACN,KAAkB,CACrBC,oBAAqB,CACnBE,iBAAkB,IAClBD,uBAAwB,IACxB4E,+BAAgCH,GAElCrE,WAAY,CACV,CACEC,WAAY,KAAMC,MAAO,OAAQC,MAAO,GAAIC,YAAa,QAASC,UAAW,kCAC7EC,aAAc,mBAAoBC,UAAU,EAAMC,OAAQ,qBAC1DC,mBAAoB,CAClBC,cAAe,SAAC+D,GAA6B,aAAOA,EAASC,QAGjE,CACEzE,WAAY,OAAQC,MAAO,UAAWa,KAAM,EAAGC,SAAU,IAAKX,UAAW,sCAAuCE,UAAU,EAC1HU,KAAM,MAAOT,OAAQ,qBAAsBU,cAAe3C,KAAKoG,kBAAkBvD,KAAK7C,OAExF,CACE0B,WAAY,SAAUC,MAAO,YAAaC,MAAO,GAAIC,YAAa,QAASC,UAAW,wBACtFC,aAAc,iCAAkCC,UAAU,EAAMC,OAAQ,yBACxEC,mBAAoB,CAClB2D,gBAAiB7F,KAAK4F,eAAe/C,KAAK7C,W,OAQlD,YAAAmD,SAAA,WACEnD,KAAKqG,kBAGP,YAAA/C,YAAA,WACEtD,KAAKgG,WAAWzC,YAGV,YAAA6C,kBAAR,SAA0BrG,GAExBC,KAAK4F,eAD4B7F,EAAOG,OAIlC,YAAA0F,eAAR,SAAuBM,GAAvB,WACElG,KAAK+F,iBAAiBO,KAAKJ,EAASC,MAAOD,EAASK,WAAWhC,UAAU,WACvE,EAAK8B,oBAID,YAAAA,eAAR,sBACErG,KAAK+F,iBAAiBzB,SAASC,UAAU,SAAAiC,GACvC,EAAKR,WAAWrC,KAAK6C,M,sCAxDdC,GAAwB,a,wBAAxBA,EAAwB,4NCjBrC,iBACE,6B,iBAIA,iBACF,S,MAL6C,kDAA8B,oBAA9B,CAA8B,+B,+CDW3E,G,8BEPA,aASE,WAAoBC,EAAsCC,GAAtC,KAAAD,gBAAsC,KAAAC,yB,OAE1D,YAAAC,iBAAA,sBAC6B,MAAvB5G,KAAK6G,eAKT7G,KAAK0G,cAAcI,sBAAsB9G,KAAK6G,eAAeE,OAAQ/G,KAAK6G,eAAeG,MAAO,OAJ9FhH,KAAKiH,kBAAkB,WAAQ,EAAKL,sBAOxC,YAAAM,mBAAA,sBAC+B,MAAzBlH,KAAKmH,iBAKTnH,KAAK0G,cAAcI,sBAAsB9G,KAAKmH,iBAAiBJ,OAAQ/G,KAAKmH,iBAAiBH,MAAO,OAJlGhH,KAAKiH,kBAAkB,WAAQ,EAAKC,wBAOhC,YAAAD,kBAAR,SAA0BG,GAA1B,WACEpH,KAAK2G,uBAAuBM,kBAAkB,GAAG1C,UAAU,SAAA8C,GACzD,EAAKR,eAAiBQ,EAAeC,QAAQC,KAAKC,WAClD,EAAKL,iBAAmBE,EAAeC,QAAQG,OAAOD,WACtDJ,O,sCA5BOM,GAAuB,yB,wBAAvBA,EAAuB,gPCVpC,iBACE,sBACE,2BACE,0BAAgB,gCAAoB,QACpC,iBACE,oBAAU,oBAAQ,QACpB,QACF,QACA,4BACE,oIACI,gBAAqD,iBAAI,QAAI,eACnE,QACA,6BACE,qBAAmB,gCAAS,EAAAd,qBAC1B,qBAAU,wBAAW,QACrB,iBAAM,+BAAkB,QAC1B,QACF,QACF,QAEA,uBACE,4BACE,2BAAgB,mCAAsB,QACtC,kBACE,qBAAU,6BAAgB,QAC5B,QACF,QACA,6BACE,oIACI,gBAAqD,iBAAI,QAAI,eACnE,QACA,6BACE,qBAAmB,gCAAS,EAAAM,uBAC1B,qBAAU,wBAAW,QACrB,iBAAM,iCAAoB,QAC5B,QACF,QACF,QACF,U,gEDjCA,G,0CEJE,sBAAmD,qBAAS,S,sBAC5D,sBAAqD,sBAAU,SCEjE,+B,OAQE,YAAApH,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,OAGtB,YAAAN,QAAA,SAAQJ,GACN,OAAO,G,sCARE4H,I,wBAAAA,EAA4B,oQDTzC,iBACE,4BACA,4BACF,S,MAFwC,+BACC,kC,2CCEzC,GCCA,2B,OASE,YAAA7H,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,MACpBT,KAAK4H,QAAU7H,EAAOG,MAGxB,YAAAC,QAAA,SAAQJ,GACN,OAAO,G,sCAVE8H,I,wBAAAA,EAAyB,wGCVtC,iBAAmC,SAAW,S,MAAzC,qCAA8B,0B,iCDKnC,G,sBEJE,oBAAwB,kBAAM,S,sBAC9B,oBAAyB,kBAAM,SCEjC,gC,OAQE,YAAA/H,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,OAGtB,YAAAN,QAAA,SAAQJ,GACN,OAAO,G,sCARE+H,I,wBAAAA,EAA2B,8HDTxC,iBACE,4BACA,4BACF,S,MAFa,+BACA,kC,uCCEb,GCCA,4B,OASE,YAAAhI,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,MACpBT,KAAK4H,QAAU7H,EAAOG,MAGxB,YAAAC,QAAA,SAAQJ,GACN,OAAO,G,sCAVEgI,I,wBAAAA,EAA6B,4GCV1C,iBAAwC,SAAW,S,MAA9C,0CAAmC,0B,iCDKxC,G,uBEJE,oBAAwB,sBAAU,S,uBAClC,oBAAyB,kBAAM,SCEjC,gC,OAQE,YAAAjI,OAAA,SAAOC,GACLC,KAAKS,MAAQV,EAAOU,OAGtB,YAAAN,QAAA,SAAQJ,GACN,OAAO,G,sCAREiI,I,wBAAAA,EAAuB,0HDTpC,iBACE,6BACA,6BACF,S,MAFa,+BACA,kC,uCCEb,G,uDCGI,yB,0BAGA,oB,oDAAmD,+C,uCAInD,oBACE,uEACA,oBAAU,gBAAI,QAChB,S,gHAjBJ,SAEE,iBACE,6BAIA,gCAGA,2BAEA,iBAEA,2BAIF,QACF,S,4BAjBiD,uDACF,wDAAiD,qBAAjD,CAAiD,oBAAjD,CAAiD,6BAI9D,qCAGN,wCAIoD,0CCGhF,kBAsEE,WAAoBC,GAApB,WAAoB,KAAAA,wBAhEpB,KAAA/G,QAAU,KACV,KAAAC,aAAW,oBACN,KAAkB,CACrBC,oBAAqB,CACnBC,uBAAwB,IACxBC,iBAAkB,IAClB4G,6BAA8BP,EAC9BQ,wBAAyBH,GACzBI,4BAA6BN,GAC7BO,0BAA2BR,EAC3BS,8BAA+BP,IAEjCtG,WAAY,CACV,CACEE,MAAO,KAAMC,MAAO,GAAIC,YAAa,QAASC,UAAW,kCACzDC,aAAc,mBAAoBC,UAAU,EAAMC,OAAQ,qBAC1DK,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiBmC,MAClDH,mBAAoB,CAClBC,cAAe,SAACyF,GAAqB,iBAAWA,EAAQW,OAAM,WAAWX,EAAQvF,QAGrF,CACEV,MAAO,UAAWC,MAAO,GAAIC,YAAa,QAASC,UAAW,aAC9DE,UAAU,EAAMC,OAAQ,yBAA0BF,aAAc,+BAChEO,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiBsI,UAEpD,CACE7G,MAAO,KAAMC,MAAO,GAAIC,YAAa,QAASC,UAAW,aACzDE,UAAU,EAAMC,OAAQ,yBAA0BF,aAAc,0BAChEO,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiBuI,KAEpD,CACE9G,MAAO,SAAUC,MAAO,GAAIC,YAAa,QAASC,UAAW,aAC7DE,UAAU,EAAMC,OAAQ,yBAA0BF,aAAc,8BAChEO,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiBwI,SAEpD,CACE/G,MAAO,OAAQa,KAAM,EAAGC,SAAU,IAAKX,UAAW,2BAA4BE,UAAU,EACxFC,OAAQ,qBAAsBF,aAAc,4BAC5CY,cAAe,SAAC5C,GAAW,SAAK4I,YAAY5I,EAAOG,OACnDoC,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiB0E,OAEpD,CACEjD,MAAO,UAAWa,KAAM,EAAGC,SAAU,IAAKX,UAAW,aACrDE,UAAU,EAAMC,OAAQ,qBACxBK,YAAa,SAACvC,GAAM,MAAK,OAAgC,QAA/B,EAAAA,EAAOG,KAAiB0I,eAAO,eAAEC,QAAQ,IAAK,KAAKA,QAAQ,IAAK,MAE5F,CACElH,MAAO,WAAYC,MAAO,GAAIE,UAAW,aAAcC,aAAc,gCACrEC,UAAU,EAAMC,OAAQ,uBACxBK,YAAa,SAACvC,GAAW,OAACA,EAAOG,KAAiB4I,SAASC,YAKzD,KAAAC,UAAY,IAAIhI,EAAA,EAA2B,MAC3C,KAAAiI,gBAAkB,IAAIjI,EAAA,GAAgB,GACtC,KAAAkI,aAAe,IAAIlI,EAAA,GAAgB,GACnC,KAAAmI,eAAiB,IAAInI,EAAA,EAAwB,MACrD,KAAAoI,eAAgB,EAAAC,EAAA,IAAc,CAACrJ,KAAKgJ,UAAWhJ,KAAKiJ,gBAAiBjJ,KAAKkJ,aAAclJ,KAAKmJ,iBAAiB9D,MAC5G,EAAAI,EAAA,GAAI,SAAC,G,IAAA,gBAA2D,OAAG6D,SAArD,KAA+DC,eAA/C,KAA+DC,YAAlD,KAA+DC,cAAhD,SAEpD,KAAAxG,aAAe,IAAIC,EAAA,E,OAI3B,YAAAC,SAAA,WACEnD,KAAK0J,gBACL1J,KAAK2J,uBAGP,YAAArG,YAAA,WACEtD,KAAKgJ,UAAUzF,WACfvD,KAAKiJ,gBAAgB1F,WACrBvD,KAAKkJ,aAAa3F,WAClBvD,KAAKmJ,eAAe5F,WACpBvD,KAAKiD,aAAaO,eAGpB,YAAAoG,iBAAA,sBACE5J,KAAKiJ,gBAAgBtF,MAAM3D,KAAKiJ,gBAAgBxI,OAC3CT,KAAKiJ,gBAAgBxI,QAE1BT,KAAKkJ,aAAavF,MAAK,GACvB3D,KAAKmJ,eAAexF,KAAK,MACzB3D,KAAKiI,sBAAsB4B,uBAAuBtF,UAAU,SAAAuF,GAE1D,GADA,EAAKZ,aAAavF,MAAK,GACnBmG,EAAIC,SAAS,sCAEf,MADA,EAAKd,gBAAgBtF,MAAK,GACpB,IAAIqG,MAAM,gCAElB,EAAKb,eAAexF,KAAKmG,OAIrB,YAAAnB,YAAR,SAAoBf,GAClB/D,OAAOH,KAAK,wBAAwBkE,EAAQvF,KAAQ,WAG9C,YAAAqH,cAAR,sBACE1J,KAAKiI,sBAAsB3D,SAASC,UAAU,SAAA+E,GAC5C,EAAKN,UAAUrF,KAAK2F,MAKhB,YAAAK,oBAAR,sBACE3J,KAAKiD,aAAakC,KAChB,EAAA8E,EAAA,GAAwBpG,OAAQ,WAAWwB,MACzC,EAAApD,EAAA,GAAO,WAAM,SAAKgH,gBAAgBxI,SAClC,EAAAwB,EAAA,GAAO,SAAAqD,GAAS,OAAsC,IAAtCA,EAAM4E,OAAOC,SAAS,eACtC,EAAAlI,EAAA,GAAO,SAAAqD,GAAS,OAAc,MAAdA,EAAMpF,QACtBqE,UAAU,SAAAe,GACV,IACM8E,EAAiBC,KAAKC,UADgBhF,EAAMpF,MAElD,EAAK+H,sBAAsBsC,aAAaH,GAAgB7F,UAAU,SAAAiG,GAChE,EAAKvB,gBAAgBtF,MAAK,GAC1B,EAAK+F,sB,sCAtHFe,GAAuB,c,wBAAvBA,EAAuB,6oBDtBpC,kC,uBAAe,0C,qQCiBf,G,8ECoBU,6BACE,yCACF,S,KAFgD,oB,0BADlD,SACE,oCAGF,S,6BAHmB,yCC5B3B,kBAUE,WAAoBC,EAAgD5J,GAAhD,KAAA4J,qBAAgD,KAAA5J,WAHpE,KAAA6J,oBAAsB,gBACtB,KAAAC,SAAW,IAAI5J,EAAA,GAAgB,G,OAI/B,YAAAmC,SAAA,aAGA,YAAAG,YAAA,WACEtD,KAAK4K,SAASrH,YAGhB,YAAAsH,aAAA,WACEhH,OAAOH,KAAKG,OAAOiH,MAAMC,KAAKC,OAAO,qBAAsB,WAG7D,YAAAC,gBAAA,SAAgBC,GAAhB,WACElL,KAAK4K,SAASjH,MAAK,GACnB3D,KAAKc,SAAS4C,KAAK,iBACnB1D,KAAK0K,mBAAmBO,gBAAgBjL,KAAKmL,iBAAiB5G,UAAU,SAAAiG,GACtE,EAAKI,SAASjH,MAAK,GACnB,EAAK7C,SAAS4C,KAAK8G,EAAK,KAAM,CAAE1F,SAAU,QAExCsG,SAASC,yBAAyBC,aACpCF,SAASC,cAAcE,OAEzBL,EAAKM,a,sCA5BIC,GAAoB,0B,wBAApBA,EAAoB,+oB,cDdjC,iBACE,sBACE,2BACE,0BAAgB,yCAA6B,QAC7C,iBACE,oBAAU,iBAAK,QACjB,QACF,QACA,4BACE,8IAEW,gBAA4E,2BAAc,QAAI,eAC3G,QACA,6BACE,qBAAmB,gCAAS,EAAAZ,iBAC1B,qBAAU,kBAAK,QACf,iBAAM,+BAAkB,QAC1B,QACF,QACF,QAEA,uBACE,4BACE,2BAAgB,wCAA2B,QAC7C,QACA,6BACE,qBAA0D,4DAAY,EAAAI,gBAAA,KACpE,gBACE,sKAEF,QACA,6BACE,sBAAW,gCAAmB,QAC9B,sBAA+E,+D,kBAA/E,QAEF,QACA,mCAKA,mBACE,sB,kBAEE,uBACF,QACF,QACF,QACF,QACF,QACF,Q,oCAjByD,iDAA+B,4BAA/B,CAA+B,mCAGjE,2CAOX,8D,yXClCZ,G,uBCOM,kBACE,oBAAU,uBAAW,QACrB,gBAAM,gBAAI,QACZ,S,sBACA,yB,uBAIA,kBACE,oBAAU,qBAAS,QACnB,gBAAM,qBAAS,QACjB,S,sBACA,gC,uBAIA,kBACE,oBAAU,oBAAQ,QAClB,gBAAM,oBAAQ,QAChB,S,sBACA,+B,uBAIA,kBACE,oBAAU,gBAAI,QACd,gBAAM,oBAAQ,QAChB,S,sBACA,+B,uBAIA,kBACE,oBAAU,iBAAK,QACf,gBAAM,yBAAa,QACrB,S,sBACA,4BC7CN,kBAeE,WACUS,EACA/K,EACAC,EACA+K,GAJV,WACU,KAAAD,YACA,KAAA/K,SACA,KAAAC,QACA,KAAA+K,UAbV,KAAAC,OAAS5L,KAAK2L,QAAQC,OAEd,KAAAC,KAAO,CAAC,OAAQ,YAAa,WAAY,WAAY,gBAC7D,KAAAC,UAAY9L,KAAKW,OAAOyE,OAAOC,MAC7B,EAAApD,EAAA,GAAO,SAAAqD,GAAS,OAAAA,aAAiB,QACjC,EAAAG,EAAA,GAAI,WAAM,SAAKoG,KAAKE,QAAQ,EAAKnL,MAAM4E,SAASvB,WAAW6F,IAAI,GAAGkC,SAClE,EAAAzG,EAAA,GAAUvF,KAAK6L,KAAKE,QAAQ/L,KAAKY,MAAM4E,SAASvB,WAAW6F,IAAI,GAAGkC,Q,OAUpE,YAAA7I,SAAA,aAGA,YAAA8I,YAAA,WACEjM,KAAK0L,UAAUQ,SAGjB,YAAAC,UAAA,SAAU7G,GAERtF,KAAKW,OAAOoD,SAAS,CADR/D,KAAK6L,KAAKvG,EAAM8G,QACA,CAAEpI,WAAYhE,KAAKY,S,sCA1BvCyL,GAA0B,iD,wBAA1BA,EAA0B,44BDZvC,iBACE,iBACE,iBACE,eAAK,SAAgC,QACrC,oBAA6C,gCAAS,EAAAJ,gBACpD,oBAAU,iBAAK,QACjB,QACF,QACF,QAEA,yBAGA,2BAA6E,6CAAqB,EAAAE,UAAA,K,kBAEhG,oBACE,yBAIA,mCACF,QAEA,oBACE,yBAIA,0CACF,QAEA,oBACE,yBAIA,yCACF,QAEA,oBACE,yBAIA,yCACF,QAEA,oBACE,0BAIA,sCACF,QACF,QACF,S,MApDW,mDAWP,0D,kGCPJ,I,yHCLI,S,yBADF,oBACE,gCACF,S,4BADiB,sC,qBAIf,S,yBADF,qBACE,gCACF,S,4BADiB,sC,qBAKjB,S,uDCTF,aASE,aAHS,KAAAG,SAAU,EACnB,KAAAC,SAAU,E,OAIV,YAAAC,cAAA,WACExM,KAAKuM,SAAWvM,KAAKuM,S,sCAPZE,I,wBAAAA,EAAkB,2O,QDP/B,iBAAsB,gCAAS,EAAAD,kBAC7B,4BAIA,6BAGF,QAEA,2C,MAVgD,sCAA0C,sBAC7E,kCAIC,oC,gcCHd,I,kICIA,aASE,WAAoB1L,GAAA,KAAAA,W,OAEpB,YAAAhB,OAAA,SAAOC,GACLC,KAAK0M,GAAK3M,EAAOU,MACjBT,KAAK2M,QAAU5M,EAAOoC,cAAcpC,EAAOG,OAG7C,YAAAC,QAAA,SAAQJ,GACN,OAAO,GAGT,YAAA6M,KAAA,YACE,OAAgB5M,KAAK2M,SACrB3M,KAAKc,SAAS4C,KAAK,sBAAuB,KAAM,CAAEoB,SAAU,O,sCAjBnD+H,GAAgB,c,wBAAhBA,EAAgB,gKCX7B,iBAA0D,gCAAS,EAAAD,SACjE,kBAAiB,SAAQ,QACzB,sBAAuB,qBAAS,QAClC,S,MAHwC,yBACrB,uB,kdDKnB,I,kCELO,SAASE,EAAgBC,GAC9B,IAAMC,EAAK5B,SAAS6B,cAAc,YAClCD,EAAGvM,MAAQsM,EACXC,EAAGE,aAAa,WAAY,IAC5BF,EAAGG,MAAMC,SAAW,WACpBJ,EAAGG,MAAME,KAAO,UAChBjC,SAASkC,KAAKC,YAAYP,GAC1B,IAAMQ,EACJpC,SAASqC,eAAeC,WAAa,GACjCtC,SAASqC,eAAeE,WAAW,GAEzCX,EAAGY,SACHxC,SAASyC,YAAY,QACrBzC,SAASkC,KAAKQ,YAAYd,GACtBQ,IACFpC,SAASqC,eAAeM,kBACxB3C,SAASqC,eAAeO,SAASR,I","file":"projects_ng-dialogs_src_app_apps-management_apps-management-nav_apps-management-nav_component_ts.51c6f75e5a40d7cae787.js","sourcesContent":["<div class=\"actions-component\">\r\n  <div class=\"like-button icon\"\r\n    [tippy]=\"app.IsGlobal ? 'This app is global' : app.IsInherited ? 'This app is inherited' : ''\"\r\n    [tippyDisabled]=\"!app.IsGlobal && !app.IsInherited\">\r\n    <mat-icon *ngIf=\"app.IsGlobal\">foundation</mat-icon>\r\n    <mat-icon *ngIf=\"app.IsInherited\">holiday_village</mat-icon>\r\n  </div>\r\n  <div class=\"like-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <button mat-menu-item (click)=\"flushCache()\">\r\n    <mat-icon>cached</mat-icon>\r\n    <span>Flush cache</span>\r\n  </button>\r\n  <button mat-menu-item [disabled]=\"!app.IsApp\" (click)=\"deleteApp()\">\r\n    <mat-icon>delete</mat-icon>\r\n    <span>Delete</span>\r\n  </button>\r\n</mat-menu>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component } from '@angular/core';\r\nimport { App } from '../../models/app.model';\r\nimport { AppsListActionsParams } from './apps-list-actions.models';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-actions',\r\n  templateUrl: './apps-list-actions.component.html',\r\n  styleUrls: ['./apps-list-actions.component.scss'],\r\n})\r\nexport class AppsListActionsComponent implements ICellRendererAngularComp {\r\n  app: App;\r\n  private params: AppsListActionsParams;\r\n\r\n  constructor() { }\r\n\r\n  agInit(params: AppsListActionsParams) {\r\n    this.params = params;\r\n    this.app = this.params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  flushCache() {\r\n    this.params.onFlush(this.app);\r\n  }\r\n\r\n  deleteApp() {\r\n    this.params.onDelete(this.app);\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon tippy=\"Show this app to users\" *ngIf=\"value\">visibility</mat-icon>\r\n  <mat-icon tippy=\"Don't show this app to users\" *ngIf=\"!value\">visibility_off</mat-icon>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-show',\r\n  templateUrl: './apps-list-show.component.html',\r\n  styleUrls: ['./apps-list-show.component.scss'],\r\n})\r\nexport class AppsListShowComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { AllCommunityModules, CellClickedEvent, GridOptions, ICellRendererParams, ValueGetterParams } from '@ag-grid-community/all-modules';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { BehaviorSubject, Subscription } from 'rxjs';\r\nimport { filter, map, pairwise, startWith } from 'rxjs/operators';\r\nimport { ImportAppDialogData } from '../../import-app/import-app-dialog.config';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { AppsListActionsComponent } from '../ag-grid-components/apps-list-actions/apps-list-actions.component';\r\nimport { AppsListActionsParams } from '../ag-grid-components/apps-list-actions/apps-list-actions.models';\r\nimport { AppsListShowComponent } from '../ag-grid-components/apps-list-show/apps-list-show.component';\r\nimport { appNameError, appNamePattern } from '../constants/app.patterns';\r\nimport { App } from '../models/app.model';\r\nimport { AppsListService } from '../services/apps-list.service';\r\n\r\n@Component({\r\n  selector: 'app-apps-list',\r\n  templateUrl: './apps-list.component.html',\r\n  styleUrls: ['./apps-list.component.scss'],\r\n})\r\nexport class AppsListComponent implements OnInit, OnDestroy {\r\n  apps$ = new BehaviorSubject<App[]>(null);\r\n  fabOpen$ = new BehaviorSubject(false);\r\n\r\n  modules = AllCommunityModules;\r\n  gridOptions: GridOptions = {\r\n    ...defaultGridOptions,\r\n    frameworkComponents: {\r\n      booleanFilterComponent: BooleanFilterComponent,\r\n      idFieldComponent: IdFieldComponent,\r\n      appsListShowComponent: AppsListShowComponent,\r\n      appsListActionsComponent: AppsListActionsComponent,\r\n    },\r\n    columnDefs: [\r\n      {\r\n        headerName: 'ID', field: 'Id', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n        cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter',\r\n        cellRendererParams: {\r\n          tooltipGetter: (app: App) => `ID: ${app.Id}\\nGUID: ${app.Guid}`,\r\n        } as IdFieldParams,\r\n      },\r\n      {\r\n        headerName: 'Show', field: 'IsHidden', width: 70, headerClass: 'dense', cellClass: 'icons no-outline', sortable: true,\r\n        filter: 'booleanFilterComponent', cellRenderer: 'appsListShowComponent', valueGetter: this.showValueGetter,\r\n      },\r\n      {\r\n        headerName: 'Name', field: 'Name', flex: 2, minWidth: 250, cellClass: 'apps-list-primary-action highlight', sortable: true,\r\n        sort: 'asc', filter: 'agTextColumnFilter', onCellClicked: this.openApp.bind(this), cellRenderer: (params: ICellRendererParams) => {\r\n          const app: App = params.data;\r\n          if (app.Thumbnail != null) {\r\n            return `\r\n            <div class=\"container\">\r\n              <img class=\"image logo\" src=\"${app.Thumbnail}?w=40&h=40&mode=crop\"></img>\r\n              <div class=\"text\">${params.value}</div>\r\n            </div>`;\r\n          } else {\r\n            return `\r\n            <div class=\"container\">\r\n              <div class=\"image logo\">\r\n                <span class=\"material-icons-outlined\">star_border</span>\r\n              </div>\r\n              <div class=\"text\">${params.value}</div>\r\n            </div>`;\r\n          }\r\n        },\r\n      },\r\n      {\r\n        headerName: 'Folder', field: 'Folder', flex: 2, minWidth: 250, cellClass: 'no-outline', sortable: true,\r\n        filter: 'agTextColumnFilter',\r\n      },\r\n      {\r\n        headerName: 'Version', field: 'Version', width: 78, headerClass: 'dense', cellClass: 'no-outline', sortable: true,\r\n        filter: 'agTextColumnFilter',\r\n      },\r\n      {\r\n        headerName: 'Items', field: 'Items', width: 70, headerClass: 'dense', cellClass: 'number-cell no-outline', sortable: true,\r\n        filter: 'agNumberColumnFilter',\r\n      },\r\n      {\r\n        width: 82, cellClass: 'secondary-action no-padding', cellRenderer: 'appsListActionsComponent', pinned: 'right',\r\n        cellRendererParams: {\r\n          onDelete: this.deleteApp.bind(this),\r\n          onFlush: this.flushApp.bind(this),\r\n        } as AppsListActionsParams,\r\n      },\r\n    ],\r\n  };\r\n\r\n  private subscription = new Subscription();\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private appsListService: AppsListService,\r\n    private snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchAppsList();\r\n    this.refreshOnChildClosed();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.apps$.complete();\r\n    this.fabOpen$.complete();\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  openChange(open: boolean) {\r\n    this.fabOpen$.next(open);\r\n  }\r\n\r\n  browseCatalog() {\r\n    window.open('https://2sxc.org/apps', '_blank');\r\n  }\r\n\r\n  createApp() {\r\n    this.router.navigate(['create'], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  createInheritedApp(): void {\r\n    this.router.navigate(['create-inherited'], { relativeTo: this.route.firstChild });\r\n  }\r\n\r\n  importApp(files?: File[]) {\r\n    const dialogData: ImportAppDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.firstChild, state: dialogData });\r\n  }\r\n\r\n  private fetchAppsList() {\r\n    this.appsListService.getAll().subscribe(apps => {\r\n      this.apps$.next(apps);\r\n    });\r\n  }\r\n\r\n  private showValueGetter(params: ValueGetterParams) {\r\n    const app: App = params.data;\r\n    return !app.IsHidden;\r\n  }\r\n\r\n  private deleteApp(app: App) {\r\n    const result = prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${app.Name}' (${app.Id})?`);\r\n    if (result === null) { return; }\r\n    if (result === app.Name || result === 'yes!') {\r\n      this.snackBar.open('Deleting...');\r\n      this.appsListService.delete(app.Id).subscribe(() => {\r\n        this.snackBar.open('Deleted', null, { duration: 2000 });\r\n        this.fetchAppsList();\r\n      });\r\n    } else {\r\n      alert('Input did not match - will not delete');\r\n    }\r\n  }\r\n\r\n  private flushApp(app: App) {\r\n    if (!confirm(`Flush the App Cache for ${app.Name} (${app.Id})?`)) { return; }\r\n    this.snackBar.open('Flushing cache...');\r\n    this.appsListService.flushCache(app.Id).subscribe(() => {\r\n      this.snackBar.open('Cache flushed', null, { duration: 2000 });\r\n    });\r\n  }\r\n\r\n  private openApp(params: CellClickedEvent) {\r\n    const appId = (params.data as App).Id;\r\n    this.router.navigate([appId.toString()], { relativeTo: this.route.parent });\r\n  }\r\n\r\n  private refreshOnChildClosed() {\r\n    this.subscription.add(\r\n      this.router.events.pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        startWith(!!this.route.snapshot.firstChild.firstChild),\r\n        map(() => !!this.route.snapshot.firstChild.firstChild),\r\n        pairwise(),\r\n        filter(([hadChild, hasChild]) => hadChild && !hasChild),\r\n      ).subscribe(() => {\r\n        this.fetchAppsList();\r\n      })\r\n    );\r\n  }\r\n\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"apps$ | async\" [modules]=\"modules\" [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop [allowedFileTypes]=\"'zip'\" (filesDropped)=\"importApp($event)\">\r\n  </ag-grid-angular>\r\n\r\n  <div class=\"grid-more-actions-box\"></div>\r\n\r\n  <eco-fab-speed-dial class=\"grid-fab\" [ngClass]=\"{ 'fab-opened': (fabOpen$ | async) }\"\r\n    (openChange)=\"openChange($event)\">\r\n    <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n      <button mat-fab>\r\n        <mat-icon class=\"spin180\">{{ (fabOpen$ | async) ? 'close' : 'add' }}</mat-icon>\r\n      </button>\r\n    </eco-fab-speed-dial-trigger>\r\n\r\n    <eco-fab-speed-dial-actions>\r\n      <button mat-mini-fab label=\"Find more apps\" (click)=\"browseCatalog()\">\r\n        <mat-icon>search</mat-icon>\r\n      </button>\r\n      <button mat-mini-fab label=\"Create inherited app\" (click)=\"createInheritedApp()\">\r\n        <mat-icon>holiday_village</mat-icon>\r\n      </button>\r\n      <button mat-mini-fab label=\"Import app\" (click)=\"importApp()\">\r\n        <mat-icon>cloud_upload</mat-icon>\r\n      </button>\r\n      <button mat-mini-fab label=\"Create app\" (click)=\"createApp()\">\r\n        <mat-icon>add</mat-icon>\r\n      </button>\r\n    </eco-fab-speed-dial-actions>\r\n  </eco-fab-speed-dial>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component } from '@angular/core';\r\nimport { EnableLanguage } from '../../models/enable-language.model';\r\nimport { EnableLanguagesStatusParams } from './enable-languages-status.models';\r\n\r\n@Component({\r\n  selector: 'app-enable-languages-status',\r\n  templateUrl: './enable-languages-status.component.html',\r\n  styleUrls: ['./enable-languages-status.component.scss'],\r\n})\r\nexport class EnableLanguagesStatusComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n  private params: EnableLanguagesStatusParams;\r\n\r\n  agInit(params: EnableLanguagesStatusParams) {\r\n    this.params = params;\r\n    this.value = this.params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  toggleLanguage() {\r\n    const language: EnableLanguage = this.params.data;\r\n    this.params.onEnabledToggle(language);\r\n  }\r\n}\r\n","<mat-slide-toggle [checked]=\"value\" (change)=\"toggleLanguage()\"></mat-slide-toggle>\r\n","import { AllCommunityModules, CellClickedEvent, GridOptions } from '@ag-grid-community/all-modules';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { EnableLanguagesStatusComponent } from '../ag-grid-components/enable-languages-status/enable-languages-status.component';\r\nimport { EnableLanguagesStatusParams } from '../ag-grid-components/enable-languages-status/enable-languages-status.models';\r\nimport { EnableLanguage } from '../models/enable-language.model';\r\nimport { EnableLanguagesService } from '../services/enable-languages.service';\r\n\r\n@Component({\r\n  selector: 'app-enable-languages',\r\n  templateUrl: './enable-languages.component.html',\r\n  styleUrls: ['./enable-languages.component.scss'],\r\n})\r\nexport class EnableLanguagesComponent implements OnInit, OnDestroy {\r\n  languages$ = new BehaviorSubject<EnableLanguage[]>(null);\r\n\r\n  modules = AllCommunityModules;\r\n  gridOptions: GridOptions = {\r\n    ...defaultGridOptions,\r\n    frameworkComponents: {\r\n      idFieldComponent: IdFieldComponent,\r\n      booleanFilterComponent: BooleanFilterComponent,\r\n      enableLanguagesStatusComponent: EnableLanguagesStatusComponent,\r\n    },\r\n    columnDefs: [\r\n      {\r\n        headerName: 'ID', field: 'Code', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n        cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter',\r\n        cellRendererParams: {\r\n          tooltipGetter: (language: EnableLanguage) => `ID: ${language.Code}`,\r\n        } as IdFieldParams,\r\n      },\r\n      {\r\n        headerName: 'Name', field: 'Culture', flex: 2, minWidth: 250, cellClass: 'primary-action highlight no-outline', sortable: true,\r\n        sort: 'asc', filter: 'agTextColumnFilter', onCellClicked: this.handleNameClicked.bind(this),\r\n      },\r\n      {\r\n        headerName: 'Status', field: 'IsEnabled', width: 72, headerClass: 'dense', cellClass: 'no-padding no-outline',\r\n        cellRenderer: 'enableLanguagesStatusComponent', sortable: true, filter: 'booleanFilterComponent',\r\n        cellRendererParams: {\r\n          onEnabledToggle: this.toggleLanguage.bind(this),\r\n        } as EnableLanguagesStatusParams,\r\n      },\r\n    ],\r\n  };\r\n\r\n  constructor(private languagesService: EnableLanguagesService) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchLanguages();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.languages$.complete();\r\n  }\r\n\r\n  private handleNameClicked(params: CellClickedEvent) {\r\n    const language: EnableLanguage = params.data;\r\n    this.toggleLanguage(language);\r\n  }\r\n\r\n  private toggleLanguage(language: EnableLanguage) {\r\n    this.languagesService.save(language.Code, !language.IsEnabled).subscribe(() => {\r\n      this.fetchLanguages();\r\n    });\r\n  }\r\n\r\n  private fetchLanguages() {\r\n    this.languagesService.getAll().subscribe(languages => {\r\n      this.languages$.next(languages);\r\n    });\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"languages$ | async\" [modules]=\"modules\"\r\n    [gridOptions]=\"gridOptions\">\r\n  </ag-grid-angular>\r\n\r\n  <div class=\"grid-more-actions-box\"></div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { AppDialogConfigService } from '../../app-administration/services';\r\nimport { DialogContextSiteApp } from '../../shared/models/dialog-context.models';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\n\r\n@Component({\r\n  selector: 'app-system-settings',\r\n  templateUrl: './system-settings.component.html',\r\n  styleUrls: ['./system-settings.component.scss'],\r\n})\r\nexport class SystemSettingsComponent {\r\n  private sitePrimaryApp: DialogContextSiteApp;\r\n  private globalPrimaryApp: DialogContextSiteApp;\r\n\r\n  constructor(private dialogService: DialogService, private appDialogConfigService: AppDialogConfigService) { }\r\n\r\n  openSiteSettings(): void {\r\n    if (this.sitePrimaryApp == null) {\r\n      this.getDialogSettings(() => { this.openSiteSettings(); });\r\n      return;\r\n    }\r\n\r\n    this.dialogService.openAppAdministration(this.sitePrimaryApp.ZoneId, this.sitePrimaryApp.AppId, 'app');\r\n  }\r\n\r\n  openGlobalSettings(): void {\r\n    if (this.globalPrimaryApp == null) {\r\n      this.getDialogSettings(() => { this.openGlobalSettings(); });\r\n      return;\r\n    }\r\n\r\n    this.dialogService.openAppAdministration(this.globalPrimaryApp.ZoneId, this.globalPrimaryApp.AppId, 'app');\r\n  }\r\n\r\n  private getDialogSettings(callback: () => void): void {\r\n    this.appDialogConfigService.getDialogSettings(0).subscribe(dialogSettings => {\r\n      this.sitePrimaryApp = dialogSettings.Context.Site.PrimaryApp;\r\n      this.globalPrimaryApp = dialogSettings.Context.System.PrimaryApp;\r\n      callback();\r\n    });\r\n  }\r\n}\r\n","<div class=\"cards-box\">\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>Manage Site Settings</mat-card-title>\r\n      <div class=\"mat-card-header-icon\">\r\n        <mat-icon>settings</mat-icon>\r\n      </div>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Site / Portal.\r\n      See <a href=\"http://r.2sxc.org/settings\" target=\"_blank\">docs</a>.\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n      <button mat-button (click)=\"openSiteSettings()\">\r\n        <mat-icon>open_in_new</mat-icon>\r\n        <span>Open Site Settings</span>\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>Manage Global Settings</mat-card-title>\r\n      <div class=\"mat-card-header-icon\">\r\n        <mat-icon>settings_suggest</mat-icon>\r\n      </div>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      This includes both pre-defined SystemSettings as well as custom Settings. It will affect the entire Installation.\r\n      See <a href=\"http://r.2sxc.org/settings\" target=\"_blank\">docs</a>.\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n      <button mat-button (click)=\"openGlobalSettings()\">\r\n        <mat-icon>open_in_new</mat-icon>\r\n        <span>Open Global Settings</span>\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n</div>\r\n","<div class=\"icon-container\">\r\n  <mat-icon tippy=\"Feature is enabled\" *ngIf=\"value\">toggle_on</mat-icon>\r\n  <mat-icon tippy=\"Feature is disabled\" *ngIf=\"!value\">toggle_off</mat-icon>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-features-list-enabled',\r\n  templateUrl: './features-list-enabled.component.html',\r\n  styleUrls: ['./features-list-enabled.component.scss'],\r\n})\r\nexport class FeaturesListEnabledComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { Feature } from '../../models/feature.model';\r\n\r\n@Component({\r\n  selector: 'app-features-list-name',\r\n  templateUrl: './features-list-name.component.html',\r\n  styleUrls: ['./features-list-name.component.scss'],\r\n})\r\nexport class FeaturesListNameComponent implements ICellRendererAngularComp {\r\n  value: string;\r\n  feature: Feature;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n    this.feature = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div [tippy]=\"feature.Description\">{{ value }}</div>\r\n","<div class=\"icon-container\">\r\n  <mat-icon *ngIf=\"value\">person</mat-icon>\r\n  <mat-icon *ngIf=\"!value\">remove</mat-icon>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-features-list-public',\r\n  templateUrl: './features-list-public.component.html',\r\n  styleUrls: ['./features-list-public.component.scss'],\r\n})\r\nexport class FeaturesListPublicComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { Feature } from '../../models/feature.model';\r\n\r\n@Component({\r\n  selector: 'app-features-list-security',\r\n  templateUrl: './features-list-security.component.html',\r\n  styleUrls: ['./features-list-security.component.scss'],\r\n})\r\nexport class FeaturesListSecurityComponent implements ICellRendererAngularComp {\r\n  value: number;\r\n  feature: Feature;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n    this.feature = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div [tippy]=\"feature.Security.Message\">{{ value }}</div>\r\n","<div class=\"icon-container\">\r\n  <mat-icon *ngIf=\"value\">visibility</mat-icon>\r\n  <mat-icon *ngIf=\"!value\">remove</mat-icon>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-features-list-ui',\r\n  templateUrl: './features-list-ui.component.html',\r\n  styleUrls: ['./features-list-ui.component.scss'],\r\n})\r\nexport class FeaturesListUiComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams) {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<ng-container *ngIf=\"templateVars$ | async as data\">\r\n\r\n  <div class=\"grid-wrapper mat-tab-grid-wrapper\" [ngClass]=\"{ 'iframe-wrapper': data.showManagement }\">\r\n    <ag-grid-angular class=\"ag-theme-material\" [ngClass]=\"{ 'force-hide': data.showManagement }\"\r\n      [rowData]=\"data.features\" [modules]=\"modules\" [gridOptions]=\"gridOptions\">\r\n    </ag-grid-angular>\r\n\r\n    <mat-spinner class=\"spinner\" *ngIf=\"data.showSpinner\" mode=\"indeterminate\" diameter=\"20\" color=\"accent\">\r\n    </mat-spinner>\r\n\r\n    <iframe class=\"iframe\" *ngIf=\"data.showManagement\" [src]=\"data.managementUrl | safeResourceUrl\"></iframe>\r\n\r\n    <div class=\"grid-more-actions-box\"></div>\r\n\r\n    <button mat-fab mat-elevation-z24 class=\"grid-fab\" tippy=\"Manage features\" *ngIf=\"!data.showManagement\"\r\n      (click)=\"toggleManagement()\">\r\n      <mat-icon>tune</mat-icon>\r\n    </button>\r\n  </div>\r\n</ng-container>\r\n","import { AllCommunityModules, GridOptions } from '@ag-grid-community/all-modules';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { BehaviorSubject, combineLatest, fromEvent, Subscription } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { FeaturesListEnabledComponent } from '../ag-grid-components/features-list-enabled/features-list-enabled.component';\r\nimport { FeaturesListNameComponent } from '../ag-grid-components/features-list-name/features-list-name.component';\r\nimport { FeaturesListPublicComponent } from '../ag-grid-components/features-list-public/features-list-public.component';\r\nimport { FeaturesListSecurityComponent } from '../ag-grid-components/features-list-security/features-list-security.component';\r\nimport { FeaturesListUiComponent } from '../ag-grid-components/features-list-ui/features-list-ui.component';\r\nimport { Feature } from '../models/feature.model';\r\nimport { ManageFeaturesMessageData } from '../models/manage-features-message-data.model';\r\nimport { FeaturesConfigService } from '../services/features-config.service';\r\n\r\n@Component({\r\n  selector: 'app-manage-features',\r\n  templateUrl: './manage-features.component.html',\r\n  styleUrls: ['./manage-features.component.scss'],\r\n})\r\nexport class ManageFeaturesComponent implements OnInit, OnDestroy {\r\n  modules = AllCommunityModules;\r\n  gridOptions: GridOptions = {\r\n    ...defaultGridOptions,\r\n    frameworkComponents: {\r\n      booleanFilterComponent: BooleanFilterComponent,\r\n      idFieldComponent: IdFieldComponent,\r\n      featuresListEnabledComponent: FeaturesListEnabledComponent,\r\n      featuresListUiComponent: FeaturesListUiComponent,\r\n      featuresListPublicComponent: FeaturesListPublicComponent,\r\n      featuresListNameComponent: FeaturesListNameComponent,\r\n      featuresListSecurityComponent: FeaturesListSecurityComponent,\r\n    },\r\n    columnDefs: [\r\n      {\r\n        field: 'ID', width: 70, headerClass: 'dense', cellClass: 'id-action no-padding no-outline',\r\n        cellRenderer: 'idFieldComponent', sortable: true, filter: 'agTextColumnFilter',\r\n        valueGetter: (params) => (params.data as Feature).Guid,\r\n        cellRendererParams: {\r\n          tooltipGetter: (feature: Feature) => `NameId: ${feature.NameId}\\nGUID: ${feature.Guid}`,\r\n        } as IdFieldParams,\r\n      },\r\n      {\r\n        field: 'Enabled', width: 80, headerClass: 'dense', cellClass: 'no-outline',\r\n        sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListEnabledComponent',\r\n        valueGetter: (params) => (params.data as Feature).Enabled,\r\n      },\r\n      {\r\n        field: 'UI', width: 70, headerClass: 'dense', cellClass: 'no-outline',\r\n        sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListUiComponent',\r\n        valueGetter: (params) => (params.data as Feature).Ui,\r\n      },\r\n      {\r\n        field: 'Public', width: 70, headerClass: 'dense', cellClass: 'no-outline',\r\n        sortable: true, filter: 'booleanFilterComponent', cellRenderer: 'featuresListPublicComponent',\r\n        valueGetter: (params) => (params.data as Feature).Public,\r\n      },\r\n      {\r\n        field: 'Name', flex: 2, minWidth: 250, cellClass: 'primary-action highlight', sortable: true,\r\n        filter: 'agTextColumnFilter', cellRenderer: 'featuresListNameComponent',\r\n        onCellClicked: (params) => this.openFeature(params.data),\r\n        valueGetter: (params) => (params.data as Feature).Name,\r\n      },\r\n      {\r\n        field: 'Expires', flex: 1, minWidth: 200, cellClass: 'no-outline',\r\n        sortable: true, filter: 'agTextColumnFilter',\r\n        valueGetter: (params) => (params.data as Feature).Expires?.replace('T', ' ').replace('Z', ''),\r\n      },\r\n      {\r\n        field: 'Security', width: 80, cellClass: 'no-outline', cellRenderer: 'featuresListSecurityComponent',\r\n        sortable: true, filter: 'agNumberColumnFilter',\r\n        valueGetter: (params) => (params.data as Feature).Security.Impact,\r\n      },\r\n    ],\r\n  };\r\n\r\n  private features$ = new BehaviorSubject<Feature[]>(null);\r\n  private showManagement$ = new BehaviorSubject(false);\r\n  private showSpinner$ = new BehaviorSubject(false);\r\n  private managementUrl$ = new BehaviorSubject<string>(null);\r\n  templateVars$ = combineLatest([this.features$, this.showManagement$, this.showSpinner$, this.managementUrl$]).pipe(\r\n    map(([features, showManagement, showSpinner, managementUrl]) => ({ features, showManagement, showSpinner, managementUrl })),\r\n  );\r\n  private subscription = new Subscription();\r\n\r\n  constructor(private featuresConfigService: FeaturesConfigService) { }\r\n\r\n  ngOnInit() {\r\n    this.fetchFeatures();\r\n    this.subscribeToMessages();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.features$.complete();\r\n    this.showManagement$.complete();\r\n    this.showSpinner$.complete();\r\n    this.managementUrl$.complete();\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  toggleManagement() {\r\n    this.showManagement$.next(!this.showManagement$.value);\r\n    if (!this.showManagement$.value) { return; }\r\n\r\n    this.showSpinner$.next(true);\r\n    this.managementUrl$.next(null); // reset url\r\n    this.featuresConfigService.getManageFeaturesUrl().subscribe(url => {\r\n      this.showSpinner$.next(false);\r\n      if (url.includes('error: user needs host permissions')) {\r\n        this.showManagement$.next(false);\r\n        throw new Error('User needs host permissions!');\r\n      }\r\n      this.managementUrl$.next(url);\r\n    });\r\n  }\r\n\r\n  private openFeature(feature: Feature) {\r\n    window.open(`https://2sxc.org/r/f/${feature.Guid}`, '_blank');\r\n  }\r\n\r\n  private fetchFeatures() {\r\n    this.featuresConfigService.getAll().subscribe(features => {\r\n      this.features$.next(features);\r\n    });\r\n  }\r\n\r\n  /** Waits for a json message from the iframe and sends it to the server */\r\n  private subscribeToMessages() {\r\n    this.subscription.add(\r\n      fromEvent<MessageEvent>(window, 'message').pipe(\r\n        filter(() => this.showManagement$.value),\r\n        filter(event => event.origin.endsWith('2sxc.org') === true),\r\n        filter(event => event.data != null),\r\n      ).subscribe(event => {\r\n        const features: ManageFeaturesMessageData = event.data;\r\n        const featuresString = JSON.stringify(features);\r\n        this.featuresConfigService.saveFeatures(featuresString).subscribe(res => {\r\n          this.showManagement$.next(false);\r\n          this.fetchFeatures();\r\n        });\r\n      })\r\n    );\r\n  }\r\n}\r\n","<div class=\"cards-box\">\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>2sxc Insights for Super Users</mat-card-title>\r\n      <div class=\"mat-card-header-icon\">\r\n        <mat-icon>speed</mat-icon>\r\n      </div>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      This is to access a special section to see what is really in the server memory. It's intended for extensive\r\n      debugging\r\n      - see also <a href=\"https://2sxc.org/en/blog/post/using-2sxc-insights\" target=\"_blank\">this blog post</a>.\r\n    </mat-card-content>\r\n    <mat-card-actions>\r\n      <button mat-button (click)=\"openInsights()\">\r\n        <mat-icon>speed</mat-icon>\r\n        <span>Open 2sxc Insights</span>\r\n      </button>\r\n    </mat-card-actions>\r\n  </mat-card>\r\n\r\n  <mat-card class=\"mat-elevation-z2\">\r\n    <mat-card-header>\r\n      <mat-card-title>Activate Page Level Logging</mat-card-title>\r\n    </mat-card-header>\r\n    <mat-card-content>\r\n      <form #activateLogForm=\"ngForm\" class=\"activate-log-form\" (ngSubmit)=\"activatePageLog(activateLogForm)\">\r\n        <div>\r\n          This will place insights-logs in the HTML of the user output for users with ?debug=true in the url. It can\r\n          only be activated for short periods of time.\r\n        </div>\r\n        <mat-form-field appearance=\"standard\" color=\"accent\">\r\n          <mat-label>Duration in Minutes</mat-label>\r\n          <input matInput type=\"number\" min=\"0\" required [pattern]=\"positiveWholeNumber\" [(ngModel)]=\"pageLogDuration\"\r\n            name=\"Duration\" #duration=\"ngModel\" [disabled]=\"loading$ | async\">\r\n        </mat-form-field>\r\n        <ng-container *ngIf=\"duration.touched && duration.errors\">\r\n          <app-field-hint *ngIf=\"duration.errors.pattern\" [isError]=\"true\">\r\n            Only positive whole numbers\r\n          </app-field-hint>\r\n        </ng-container>\r\n        <div class=\"form-actions\">\r\n          <button mat-raised-button type=\"submit\" color=\"accent\"\r\n            [disabled]=\"!activateLogForm.valid || (loading$ | async)\">\r\n            Activate\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { EavWindow } from '../../shared/models/eav-window.model';\r\nimport { SxcInsightsService } from '../services/sxc-insights.service';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n@Component({\r\n  selector: 'app-sxc-insights',\r\n  templateUrl: './sxc-insights.component.html',\r\n  styleUrls: ['./sxc-insights.component.scss'],\r\n})\r\nexport class SxcInsightsComponent implements OnInit, OnDestroy {\r\n  pageLogDuration: number;\r\n  positiveWholeNumber = /^[1-9][0-9]*$/;\r\n  loading$ = new BehaviorSubject(false);\r\n\r\n  constructor(private sxcInsightsService: SxcInsightsService, private snackBar: MatSnackBar) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.loading$.complete();\r\n  }\r\n\r\n  openInsights() {\r\n    window.open(window.$2sxc.http.apiUrl('sys/insights/help'), '_blank');\r\n  }\r\n\r\n  activatePageLog(form: NgForm) {\r\n    this.loading$.next(true);\r\n    this.snackBar.open('Activating...');\r\n    this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe(res => {\r\n      this.loading$.next(false);\r\n      this.snackBar.open(res, null, { duration: 4000 });\r\n    });\r\n    if (document.activeElement instanceof HTMLElement) {\r\n      document.activeElement.blur();\r\n    }\r\n    form.resetForm();\r\n  }\r\n}\r\n","<div class=\"nav-component-wrapper\">\r\n  <div mat-dialog-title>\r\n    <div class=\"dialog-title-box\">\r\n      <div>Manage Apps in Zone {{ zoneId }}</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <router-outlet></router-outlet>\r\n\r\n  <!-- spm NOTE: we use mat-tab-group because mat-tab-nav-bar doesn't have animations and doesn't look pretty -->\r\n  <mat-tab-group class=\"mat-tab-group-max-height\" dynamicHeight color=\"accent\" (selectedTabChange)=\"changeTab($event)\"\r\n    [selectedIndex]=\"tabIndex$ | async\">\r\n    <mat-tab>\r\n      <div *matTabLabel class=\"mat-tab-label-box\" tippy=\"Apps\">\r\n        <mat-icon>star_border</mat-icon>\r\n        <span>Apps</span>\r\n      </div>\r\n      <app-apps-list *matTabContent></app-apps-list>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <div *matTabLabel class=\"mat-tab-label-box\" tippy=\"Languages\">\r\n        <mat-icon>translate</mat-icon>\r\n        <span>Languages</span>\r\n      </div>\r\n      <app-enable-languages *matTabContent></app-enable-languages>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <div *matTabLabel class=\"mat-tab-label-box\" tippy=\"System Settings\">\r\n        <mat-icon>settings</mat-icon>\r\n        <span>Settings</span>\r\n      </div>\r\n      <app-system-settings *matTabContent></app-system-settings>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <div *matTabLabel class=\"mat-tab-label-box\" tippy=\"Features\">\r\n        <mat-icon>tune</mat-icon>\r\n        <span>Features</span>\r\n      </div>\r\n      <app-manage-features *matTabContent></app-manage-features>\r\n    </mat-tab>\r\n\r\n    <mat-tab>\r\n      <div *matTabLabel class=\"mat-tab-label-box\" tippy=\"2sxc Insights\">\r\n        <mat-icon>speed</mat-icon>\r\n        <span>2sxc Insights</span>\r\n      </div>\r\n      <app-sxc-insights *matTabContent></app-sxc-insights>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTabChangeEvent } from '@angular/material/tabs';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { filter, map, startWith } from 'rxjs/operators';\r\nimport { Context } from '../../shared/services/context';\r\n\r\n@Component({\r\n  selector: 'app-apps-management-nav',\r\n  templateUrl: './apps-management-nav.component.html',\r\n  styleUrls: ['./apps-management-nav.component.scss'],\r\n})\r\nexport class AppsManagementNavComponent implements OnInit {\r\n  zoneId = this.context.zoneId;\r\n\r\n  private tabs = ['list', 'languages', 'settings', 'features', 'sxc-insights']; // tabs order has to match template\r\n  tabIndex$ = this.router.events.pipe(\r\n    filter(event => event instanceof NavigationEnd),\r\n    map(() => this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)),\r\n    startWith(this.tabs.indexOf(this.route.snapshot.firstChild.url[0].path)),\r\n  );\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<AppsManagementNavComponent>,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private context: Context,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  changeTab(event: MatTabChangeEvent) {\r\n    const path = this.tabs[event.index];\r\n    this.router.navigate([path], { relativeTo: this.route });\r\n  }\r\n}\r\n","<div class=\"hint-box\" (click)=\"toggleIsShort()\" [ngClass]=\"{ 'hint-box__short': isShort }\" [ngSwitch]=\"isError\">\r\n  <mat-hint *ngSwitchCase=\"false\">\r\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n  </mat-hint>\r\n\r\n  <mat-error *ngSwitchCase=\"true\">\r\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\r\n  </mat-error>\r\n</div>\r\n\r\n<ng-template #content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-field-hint',\r\n  templateUrl: './field-hint.component.html',\r\n  styleUrls: ['./field-hint.component.scss'],\r\n})\r\nexport class FieldHintComponent {\r\n  @Input() isError = false;\r\n  isShort = true;\r\n\r\n  constructor() { }\r\n\r\n  toggleIsShort() {\r\n    this.isShort = !this.isShort;\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { Component } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { copyToClipboard } from '../../helpers/copy-to-clipboard.helper';\r\nimport { IdFieldParams } from './id-field.models';\r\n\r\n@Component({\r\n  selector: 'app-id-field',\r\n  templateUrl: './id-field.component.html',\r\n  styleUrls: ['./id-field.component.scss'],\r\n})\r\nexport class IdFieldComponent implements ICellRendererAngularComp {\r\n  id: number | string;\r\n  tooltip: string;\r\n\r\n  constructor(private snackBar: MatSnackBar) { }\r\n\r\n  agInit(params: IdFieldParams) {\r\n    this.id = params.value;\r\n    this.tooltip = params.tooltipGetter(params.data);\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  copy() {\r\n    copyToClipboard(this.tooltip);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n}\r\n","<div matRipple class=\"id-box highlight\" [tippy]=\"tooltip\" (click)=\"copy()\">\r\n  <span class=\"id\">{{ id }}</span>\r\n  <mat-icon class=\"icon\">file_copy</mat-icon>\r\n</div>\r\n","/** https://hackernoon.com/copying-text-to-clipboard-with-javascript-df4d4988697f */\r\nexport function copyToClipboard(str: string) {\r\n  const el = document.createElement('textarea');  // Create a <textarea> element\r\n  el.value = str;                                 // Set its value to the string that you want copied\r\n  el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\r\n  el.style.position = 'absolute';\r\n  el.style.left = '-9999px';                      // Move outside the screen to make it invisible\r\n  document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\r\n  const selected =\r\n    document.getSelection().rangeCount > 0        // Check if there is any content selected previously\r\n      ? document.getSelection().getRangeAt(0)     // Store selection if found\r\n      : false;                                    // Mark as false to know no selection existed before\r\n  el.select();                                    // Select the <textarea> content\r\n  document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\r\n  document.body.removeChild(el);                  // Remove the <textarea> element\r\n  if (selected) {                                 // If a selection existed before copying\r\n    document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\r\n    document.getSelection().addRange(selected);   // Restore the original selection\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}
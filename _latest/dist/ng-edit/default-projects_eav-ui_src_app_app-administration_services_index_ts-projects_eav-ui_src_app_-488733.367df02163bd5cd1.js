"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733","projects_eav-ui_src_app_shared_components_base-with-child-dialog_component_ts-projects_eav-ui-105347"],{2743:(I,h,t)=>{t.d(h,{b:()=>u});var n=t(271),l=t(6301),o=t(8764),g=t(8873),p=t(4858),e=t(4979),r=t(3472),d=t(9431),a=t(8559),s=t(6443);let u=(()=>{class E extends e.V{constructor(D,_,M,O){super(new r.B("AppDialogConfigService",!1)),this.http=D,this.context=_,this.globalConfigService=M,this.dialogSettings$={},this.log.a(`using context #${this.context.log.svcId}`),O.loadFromService(this)}ngOnDestroy(){super.destroy()}getCurrent$(){const D=this.context.appId;return this.log.a(`getCurrent$ - appId:${D}`),this.getShared$(D)}getSitePrimaryApp$(){return this.getCurrent$().pipe((0,n.T)(D=>D?.Context.Site.PrimaryApp))}getGlobalPrimaryApp$(){return this.getCurrent$().pipe((0,n.T)(D=>D?.Context.System.PrimaryApp))}getShared$(D){return this.log.a("getShared$ appId: "+D),this.dialogSettings$[D]??=this.getDialogSettings(D,"getShared$").pipe((0,l.t)({refCount:!1})),this.dialogSettings$[D]}getDialogSettings(D,_){return this.log.a("getDialogSettings",{appId:D,reqBy:_}),this.http.get("admin/dialog/settings",{params:{appId:D??this.context.appId.toString()}}).pipe((0,n.T)(M=>(M.Context.Language.List=M.Context.Language.List.filter(O=>O.IsEnabled),M)),(0,o.M)(M=>{this.globalConfigService.allowDebug(M.Context.Enable.DebugMode)}))}static#t=this.\u0275fac=function(_){return new(_||E)(a.KVO(s.Qq),a.KVO(g.o),a.KVO(d.B),a.KVO(p.D))};static#s=this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac})}return E})()},7693:(I,h,t)=>{t.d(h,{X:()=>e,g:()=>E});var n=t(271),l=t(8873),o=t(8559),g=t(6443),p=t(4821);const e="admin/type/",a="admin/type/scopes";let E=(()=>{class P{constructor(_,M,O){this.http=_,this.context=M,this.dnnContext=O}apiUrl(_){return this.dnnContext.$2sxc.http.apiUrl(_)}retrieveContentType(_){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:_}})}retrieveContentTypes(_){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:_}})}getScopes(){return this.http.get(this.apiUrl(a),{params:{appId:this.context.appId.toString()}}).pipe((0,n.T)(_=>{const M=_.old;return Object.keys(M).map(x=>({name:M[x],value:x}))}))}getScopesV2(){return this.http.get(this.apiUrl(a),{params:{appId:this.context.appId.toString()}}).pipe((0,n.T)(_=>_.scopes))}save(_){return this.http.post(this.apiUrl("admin/type/save"),_,{params:{appid:this.context.appId.toString()}})}delete(_){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:_.StaticName}})}import(_){const M=new FormData;for(const O of _)M.append("File",O);return this.http.post(this.apiUrl("admin/type/import"),M,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(_){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:_}})}static#t=this.\u0275fac=function(M){return new(M||P)(o.KVO(g.Qq),o.KVO(l.o),o.KVO(p.ob))};static#s=this.\u0275prov=o.jDH({token:P,factory:P.\u0275fac})}return P})()},1475:(I,h,t)=>{t.d(h,{j:()=>e});var n=t(8873),l=t(8624),o=t(8559),g=t(6443),p=t(4821);let e=(()=>{class r{constructor(a,s,c){this.http=a,this.context=s,this.dnnContext=c}getContentInfo(a){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(l.Q+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:a}})}exportParts(a,s,c){const i=this.dnnContext.$2sxc.http.apiUrl(l.Q+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+a.join(";")+"&entityIdsString="+s.join(";")+"&templateIdsString="+c.join(";");window.open(i,"_blank","")}static#t=this.\u0275fac=function(s){return new(s||r)(o.KVO(g.Qq),o.KVO(n.o),o.KVO(p.ob))};static#s=this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}return r})()},320:(I,h,t)=>{t.d(h,{t:()=>e});var n=t(1772),l=t(8873),o=t(8559),g=t(6443),p=t(4821);let e=(()=>{class r{constructor(a,s,c){this.http=a,this.context=s,this.dnnContext=c}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.u+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportAppUrl(){return`${this.dnnContext.$2sxc.http.apiUrl(`${n.u}Export`)}?appId=${this.context.appId}&zoneId=${this.context.zoneId}`}exportForVersionControl({includeContentGroups:a,resetAppGuid:s,withFiles:c}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.u+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:a.toString(),resetAppGuid:s.toString(),withPortalFiles:c.toString()}})}static#t=this.\u0275fac=function(s){return new(s||r)(o.KVO(g.Qq),o.KVO(l.o),o.KVO(p.ob))};static#s=this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}return r})()},8624:(I,h,t)=>{t.d(h,{Q:()=>e,S:()=>r});var n=t(1772),l=t(8873),o=t(8559),g=t(6443),p=t(4821);const e="admin/appParts/";let r=(()=>{class d{constructor(s,c,i){this.http=s,this.context=c,this.dnnContext=i}importAppParts(s){const c=new FormData;return c.append("File",s),this.http.post(this.dnnContext.$2sxc.http.apiUrl(e+"Import"),c,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(s){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(n.u+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:s.toString()}})}static#t=this.\u0275fac=function(c){return new(c||d)(o.KVO(g.Qq),o.KVO(l.o),o.KVO(p.ob))};static#s=this.\u0275prov=o.jDH({token:d,factory:d.\u0275fac})}return d})()},5445:(I,h,t)=>{t.d(h,{Cu:()=>e.Cu,JL:()=>e.JL,Mk:()=>e.Mk,bd:()=>n.b,ei:()=>e.ei,gs:()=>l.g,vN:()=>e.vN,xR:()=>e.xR,y0:()=>r.y});var n=t(2743),l=t(7693),e=(t(1475),t(320),t(8624),t(4079)),r=t(2570)},4079:(I,h,t)=>{t.d(h,{Cu:()=>P,JL:()=>D,Mk:()=>u,ei:()=>E,vN:()=>_,xR:()=>M});var n=t(9835),l=t(6647),o=t(271),g=t(693),p=t(8873),e=t(9234),r=t(8559),d=t(6443),a=t(4821);const u="admin/query/Run",E="admin/query/DebugStream",P="admin/query/Save",D="admin/query/Get",_="admin/query/DataSources";let M=(()=>{class O{constructor(v,m,C){this.http=v,this.context=m,this.dnnContext=C}getAll(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e.Gg),{params:{appId:this.context.appId.toString(),contentType:v}})}importQuery(v){return(0,n.H)((0,g.n)(v)).pipe((0,l.n)(m=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:m})),(0,o.T)(m=>({Success:m,Messages:[]})))}clonePipeline(v){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:v.toString(),appId:this.context.appId.toString()}})}delete(v){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:v.toString()}})}static#t=this.\u0275fac=function(m){return new(m||O)(r.KVO(d.Qq),r.KVO(p.o),r.KVO(a.ob))};static#s=this.\u0275prov=r.jDH({token:O,factory:O.\u0275fac})}return O})()},2570:(I,h,t)=>{t.d(h,{y:()=>c});var n=t(8873),l=t(8559),o=t(6443),g=t(4821);const p="admin/view/",e=p+"all",r=p+"delete",d=p+"import",a=p+"polymorphism",s=p+"usage";let c=(()=>{class i{constructor(E,P,D){this.http=E,this.context=P,this.dnnContext=D}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e),{params:{appId:this.context.appId.toString()}})}delete(E){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r),{params:{appId:this.context.appId.toString(),Id:E.toString()}})}import(E){const P=new FormData;return P.append("File",E),this.http.post(this.dnnContext.$2sxc.http.apiUrl(d),P,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(E){const P=this.dnnContext.$2sxc.http.apiUrl(p+"json")+"?appId="+this.context.appId+"&viewId="+E;window.open(P,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(a),{params:{appId:this.context.appId.toString()}})}getUsage(E){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(s),{params:{appId:this.context.appId.toString(),guid:E}})}static#t=this.\u0275fac=function(P){return new(P||i)(l.KVO(o.Qq),l.KVO(n.o),l.KVO(g.ob))};static#s=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac})}return i})()},1772:(I,h,t)=>{t.d(h,{I:()=>a,u:()=>d});var n=t(6647),l=t(9452),o=t(3550),g=t(8873),p=t(8559),e=t(6443),r=t(4821);const d="admin/app/";let a=(()=>{class s{constructor(i,u,E){this.http=i,this.context=u,this.dnnContext=E}importApp(i,u,E=!1){const P=new FormData;return P.append("File",i),P.append("Name",u??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(d+"Import"),P,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,n.n)(D=>{if(E&&D.Messages[0]?.MessageType===o.G1.Warning){const _=prompt(D.Messages[0].Text+" Would you like to install it using another folder name?");if(_)return this.importApp(i,_,!0)}return(0,l.of)(D)}))}static#t=this.\u0275fac=function(u){return new(u||s)(p.KVO(e.Qq),p.KVO(g.o),p.KVO(r.ob))};static#s=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac})}return s})()},1735:(I,h,t)=>{t.d(h,{V:()=>a});var n=t(9184),l=t(1567),o=t(3037),g=t(271),p=t(5057),e=t(3176),r=t(3472);class a extends e.${constructor(c,i,u){super(),this.router=c,this.route=i,this.log=u,this.log??=new r.B("BaseComponent",!1)}childDialogClosed$(){return this.router.events.pipe((0,l.p)(c=>c instanceof n.wF),(0,o.Z)(!!this.route.snapshot.firstChild),(0,g.T)(()=>!!this.route.snapshot.firstChild),(0,p.J)(),(0,l.p)(([c,i])=>c&&!i))}}},693:(I,h,t)=>{function n(o){return new Promise((g,p)=>{const e=new FileReader;e.readAsDataURL(o),e.onload=()=>{g(e.result.split(",")[1])},e.onerror=r=>{p(r)}})}function l(o){return new Promise((g,p)=>{const e=new FileReader;e.readAsText(o),e.onload=()=>{g(e.result)},e.onerror=r=>{p(r)}})}t.d(h,{d:()=>l,n:()=>n})},1576:(I,h,t)=>{t.d(h,{W:()=>l});var n=t(3826);class l{static#t=this.boolEquals={equal:n.a.valueEquals};static#s=this.numberEquals={equal:n.a.valueEquals};static#e=this.stringEquals={equal:n.a.valueEquals};static#n=this.objectEquals={equal:n.a.objectsEqual}}},9234:(I,h,t)=>{t.d(h,{Gg:()=>P,Tr:()=>D,gb:()=>E});var n=t(1567),l=t(6647),o=t(6301),g=t(271),p=t(4979),e=t(3472),r=t(4839),d=t(1736),a=t(5437),s=t(8559),c=t(6443),i=t(4821);const E="admin/entity/",P="admin/entity/list";let D=(()=>{class _ extends p.V{constructor(O,x,v){super(new e.B("EntityService",!1)),this.http=O,this.formConfig=x,this.dnnContext=v,this.queryService=(0,a.d)(r.c)}getEntities$(O){return O.pipe((0,n.p)(x=>null!=x),(0,l.n)(x=>this.getAvailableEntities(x.contentTypeName).pipe((0,o.t)(1))))}getAvailableEntities(O,x){var v=this.log.rxTap("getEntities",{enabled:!0});return this.queryService.getEntities({contentTypes:[O],itemIds:x,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe(v.pipe(),(0,g.T)(m=>m.Default))}delete(O,x,v,m,C){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(E+"delete"),{params:{contentType:O,id:x.toString(),appId:this.formConfig.config.appId,force:v.toString(),...m&&{parentId:m.toString()},...m&&C&&{parentField:C}}})}static#t=this.\u0275fac=function(x){return new(x||_)(s.KVO(c.Qq),s.KVO(d.S),s.KVO(i.ob))};static#s=this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}return _})()},4858:(I,h,t)=>{t.d(h,{D:()=>a});var n=t(8559),l=t(6042),o=t(271),g=t(4979),p=t(3472),e=t(1576),r=t(3826);let a=(()=>{class s extends g.V{constructor(){super(new p.B("FeaturesService",!1)),this.dialogContext$=new l.m(1),this.dialogContextSignal=(0,n.vPA)(null)}loadFromService(i){i.getCurrent$().subscribe(u=>this.load(u.Context))}load(i){this.dialogContext$.next(i),this.dialogContextSignal.set(i)}getAll(){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features??[],{equal:r.a.arraysEqual})}get$(i){return this.dialogContext$.pipe((0,o.T)(u=>u?.Features.find(E=>E.nameId===i)))}getSignal(i){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features.find(u=>u.nameId===i),{equal:r.a.objectsEqual})}isEnabled$(i){return this.get$(i).pipe((0,o.T)(u=>u?.isEnabled??!1))}isEnabled(i){return(0,n.EWP)(()=>this.dialogContextSignal()?.Features.find(u=>u.nameId===i)?.isEnabled??!1,e.W.boolEquals)}static#t=this.\u0275fac=function(u){return new(u||s)};static#s=this.\u0275prov=n.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},9431:(I,h,t)=>{t.d(h,{B:()=>p});var n=t(8559),l=t(9074),o=t(8172),g=t(3347);let p=(()=>{class e{constructor(d){this.snackBar=d,this.debugState=(0,n.vPA)(null),this.isDebug=(0,n.EWP)(()=>!!this.debugState()?.allowDebugMode&&!!this.debugState()?.debugEnabled),this.debugEnabled$=(0,l.br)(this.isDebug);const a={id:0,debugEnabled:"true"===sessionStorage.getItem(o.tn),allowDebugMode:!1};this.debugState.set(a)}allowDebug(d){const a=this.debugState();if(a.allowDebugMode===d)return;const s={...a,allowDebugMode:d};this.debugState.set(s)}toggleDebugEnabled(){const d=this.debugState();if(!d.allowDebugMode)return void this.snackBar.open("You do not have permissions to enter developer mode",null,{duration:3e3});const a={...d,debugEnabled:!d.debugEnabled};this.debugState.set(a),this.snackBar.open(a.debugEnabled?"developer mode on":"developer mode off",null,{duration:3e3})}static#t=this.\u0275fac=function(a){return new(a||e)(n.KVO(g.UG))};static#s=this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_-488733.367df02163bd5cd1.js.map
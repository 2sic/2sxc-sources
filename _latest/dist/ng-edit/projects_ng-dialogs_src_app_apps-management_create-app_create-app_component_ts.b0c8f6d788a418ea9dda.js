(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_ng-dialogs_src_app_apps-management_create-app_create-app_component_ts"],{325:function(t,n,e){"use strict";e.r(n),e.d(n,{CreateAppComponent:function(){return Z}});var o=e(1041),r=e(8512),i=/^[A-Za-z](?:[A-Za-z0-9\s\(\)-]+)*$/,a=e(1785),s=e(2935),c=e(5100),l=e(3589),p=e(1116),u=e(1282),f=e(3070),g=e(9550),d=e(7110),m=e(4369);function h(t,n){1&t&&(a.TgZ(0,"app-field-hint",10),a._uU(1," Required "),a.qZA()),2&t&&a.Q6J("isError",!0)}function x(t,n){if(1&t&&(a.TgZ(0,"app-field-hint",10),a._uU(1),a.qZA()),2&t){var e=a.oxw(3);a.Q6J("isError",!0),a.xp6(1),a.hij(" ",e.appNameError," ")}}function _(t,n){if(1&t&&(a.ynx(0),a.YNc(1,h,2,1,"app-field-hint",9),a.YNc(2,x,2,2,"app-field-hint",9),a.BQk()),2&t){var e=a.oxw(2);a.xp6(1),a.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.required),a.xp6(1),a.Q6J("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.pattern)}}function b(t,n){if(1&t){var e=a.EpF();a.ynx(0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3,"Create App"),a.qZA(),a.qZA(),a._UZ(4,"router-outlet"),a.TgZ(5,"form",3),a.TgZ(6,"mat-form-field",4),a.TgZ(7,"mat-label"),a._uU(8,"Name"),a.qZA(),a._UZ(9,"input",5),a.qZA(),a.TgZ(10,"app-field-hint"),a._uU(11," App name will also be used for the folder "),a.qZA(),a.YNc(12,_,3,2,"ng-container",0),a.qZA(),a.TgZ(13,"div",6),a.TgZ(14,"button",7),a.NdJ("click",function(){return a.CHM(e),a.oxw().closeDialog()}),a._uU(15," Cancel "),a.qZA(),a.TgZ(16,"button",8),a.NdJ("click",function(){return a.CHM(e),a.oxw().create()}),a._uU(17," Create "),a.qZA(),a.qZA(),a.BQk()}if(2&t){var o=n.ngIf,r=a.oxw();a.xp6(5),a.Q6J("formGroup",r.form),a.xp6(7),a.Q6J("ngIf",r.form.controls.name.touched),a.xp6(2),a.Q6J("disabled",o.loading),a.xp6(2),a.Q6J("disabled",o.loading||!r.form.valid)}}var v=function(t){return{loading:t}},Z=function(){function t(t,n,e){this.dialogRef=t,this.appsListService=n,this.snackBar=e,this.hostClass="dialog-component",this.appNameError="Standard letters, numbers, spaces, hyphens and round brackets are allowed. Must start with a letter.",this.form=this.buildForm(),this.loading$=new r.X(!1)}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.loading$.complete()},t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.create=function(){var t,n=this;this.form.disable(),this.loading$.next(!0);var e=null===(t=this.form.controls.name.value)||void 0===t?void 0:t.trim().replace(/\s\s+/g," ");this.snackBar.open("Creating app..."),this.appsListService.create(e).subscribe({error:function(){n.form.enable(),n.loading$.next(!1),n.snackBar.open("Failed to create app. Please check console for more information",void 0,{duration:3e3})},next:function(){n.form.enable(),n.snackBar.open("Created app",void 0,{duration:2e3}),n.closeDialog()}})},t.prototype.buildForm=function(){return new o.cw({name:new o.NI(null,[o.kI.required,o.kI.pattern(i)])})},t.\u0275fac=function(n){return new(n||t)(a.Y36(s.so),a.Y36(c.A),a.Y36(l.ux))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-create-app"]],hostVars:1,hostBindings:function(t,n){2&t&&a.Ikx("className",n.hostClass)},decls:2,vars:5,consts:[[4,"ngIf"],["mat-dialog-title",""],[1,"dialog-title-box"],[3,"formGroup"],["appearance","standard","color","accent"],["matInput","","type","text","formControlName","name"],[1,"dialog-component-actions"],["type","button","mat-raised-button","",3,"disabled","click"],["type","button","mat-raised-button","","color","accent",3,"disabled","click"],[3,"isError",4,"ngIf"],[3,"isError"]],template:function(t,n){1&t&&(a.YNc(0,b,18,4,"ng-container",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.VKq(3,v,a.lcZ(1,1,n.loading$)))},directives:[p.O5,s.uh,u.lC,o._Y,o.JL,o.sg,f.KE,f.hX,g.Nt,o.Fj,o.JJ,o.u,d.Y,m.lW],pipes:[p.Ov],styles:[""]}),t}()},7110:function(t,n,e){"use strict";e.d(n,{Y:function(){return g}});var o=e(1785),r=e(1116),i=e(3070);function a(t,n){1&t&&o.GkF(0)}function s(t,n){if(1&t&&(o.TgZ(0,"mat-hint"),o.YNc(1,a,1,0,"ng-container",3),o.qZA()),2&t){o.oxw();var e=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",e)}}function c(t,n){1&t&&o.GkF(0)}function l(t,n){if(1&t&&(o.TgZ(0,"mat-error"),o.YNc(1,c,1,0,"ng-container",3),o.qZA()),2&t){o.oxw();var e=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",e)}}function p(t,n){1&t&&o.Hsn(0)}var u=function(t){return{"hint-box__short":t}},f=["*"],g=function(){function t(){this.isError=!1,this.isShort=!0}return t.prototype.toggleIsShort=function(){this.isShort=!this.isShort},t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-field-hint"]],inputs:{isError:"isError"},ngContentSelectors:f,decls:5,vars:6,consts:[[1,"hint-box",3,"ngClass","ngSwitch","click"],[4,"ngSwitchCase"],["content",""],[4,"ngTemplateOutlet"]],template:function(t,n){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.NdJ("click",function(){return n.toggleIsShort()}),o.YNc(1,s,2,1,"mat-hint",1),o.YNc(2,l,2,1,"mat-error",1),o.qZA(),o.YNc(3,p,1,0,"ng-template",null,2,o.W1O)),2&t&&(o.Q6J("ngClass",o.VKq(4,u,n.isShort))("ngSwitch",n.isError),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0))},directives:[r.mk,r.RF,r.n9,i.bx,r.tP,i.TO],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-error[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t}()}}]);
//# sourceMappingURL=https://sources.2sxc.org/13.01.00/ng-edit/projects_ng-dialogs_src_app_apps-management_create-app_create-app_component_ts.b0c8f6d788a418ea9dda.js.map
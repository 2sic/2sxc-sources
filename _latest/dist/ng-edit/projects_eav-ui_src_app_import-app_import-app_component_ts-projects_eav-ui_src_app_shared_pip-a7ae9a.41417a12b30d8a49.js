"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-a7ae9a"],{27295:(g,h,n)=>{n.d(h,{E:()=>l});var c=n(44444);let l=(()=>{class s{isErrorState(a,r){return!!(a&&a.invalid&&(a.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||s)};static \u0275prov=c.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},31016:(g,h,n)=>{n.d(h,{M:()=>a});var c=n(39539),i=n(99293),l=n(44444),s=n(87698),_=n(8126);let a=(()=>{class r{static \u0275fac=function(u){return new(u||r)};static \u0275mod=i.$C({type:r});static \u0275inj=l.G2t({imports:[_.M,c.w5,s.j,_.M]})}return r})()},60781:(g,h,n)=>{n.r(h),n.d(h,{ImportAppComponent:()=>a});var c=n(81863),i=n(12938),l=n(13550),s=n(71772),_=n(99293);let a=(()=>{class r{constructor(p){this.uploadType=l.HL.App,this.importAppService=(0,i.d)(s.I),p.title??="Import App",p.description??='\n    Select an app package (zip) from your computer to import an app. New apps can be downloaded on\n    <a href="https://2sxc.org/apps" target="_blank">https://2sxc.org/apps</a>.\n    For further help visit <a href="https://2sxc.org/en/help?tag=import-app" target="_blank">2sxc Help</a>.\n    ',p.allowedFileTypes??="zip",p.upload$??=(u,f)=>this.importAppService.importApp(u[0],f,!0)}static#t=this.\u0275fac=function(u){return new(u||r)(_.rXU(c.e))};static#e=this.\u0275cmp=_.VBU({type:r,selectors:[["app-import-app"]],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(u,f){1&u&&_.nrm(0,"app-file-upload-dialog",0),2&u&&_.Y8G("uploadType",f.uploadType)},dependencies:[l.jj],encapsulation:2})}return r})()},60850:(g,h,n)=>{n.d(h,{_:()=>c});class c{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(l,s,_,a,r){this._defaultMatcher=l,this.ngControl=s,this._parentFormGroup=_,this._parentForm=a,this._stateChanges=r}updateErrorState(){const l=this.errorState,s=this._parentFormGroup||this._parentForm,_=this.matcher||this._defaultMatcher,a=this.ngControl?this.ngControl.control:null,r=_?.isErrorState(a,s)??!1;r!==l&&(this.errorState=r,this._stateChanges.next())}}},69914:(g,h,n)=>{n.d(h,{$:()=>l});var c=n(99293),i=n(80436);let l=(()=>{class s{constructor(a){this.sanitizer=a}transform(a){return this.sanitizer.bypassSecurityTrustHtml(a)}static#t=this.\u0275fac=function(r){return new(r||s)(c.rXU(i.up,16))};static#e=this.\u0275pipe=c.EJ8({name:"safeHtml",type:s,pure:!0})}return s})()},71772:(g,h,n)=>{n.d(h,{I:()=>P,u:()=>r});var c=n(36647),i=n(59452),l=n(13550),s=n(24467),_=n(99293),a=n(44444);const r="admin/app/";let P=(()=>{class p extends s.B{importApp(f,v,I=!1){const M=new FormData;return M.append("File",f),M.append("Name",v??""),this.http.post(this.apiUrl(r+"Import"),M,{params:{zoneId:this.zoneId}}).pipe((0,c.n)(C=>{if(I&&C.Messages[0]?.MessageType===l.G1.Warning){const D=prompt(C.Messages[0].Text+" Would you like to install it using another folder name?");if(D)return this.importApp(f,D,!0)}return(0,i.of)(C)}))}static#t=this.\u0275fac=(()=>{let f;return function(I){return(f||(f=_.xGo(p)))(I||p)}})();static#e=this.\u0275prov=a.jDH({token:p,factory:p.\u0275fac})}return p})()},93840:(g,h,n)=>{n.d(h,{An:()=>C,m_:()=>D});var c=n(99293),i=n(44444),l=n(37580),s=n(27092),_=n(64334),a=n(50069),r=n(8126);const P=["*"],p=new i.nKC("MAT_ICON_DEFAULT_OPTIONS"),u=new i.nKC("mat-icon-location",{providedIn:"root",factory:function f(){const m=(0,i.WQX)(i.qQL),y=m?m.location:null;return{getPathname:()=>y?y.pathname+y.search:""}}}),v=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],I=v.map(m=>`[${m}]`).join(", "),M=/^url\(['"]?#(.*?)['"]?\)$/;let C=(()=>{class m{_elementRef=(0,i.WQX)(c.aKT);_iconRegistry=(0,i.WQX)(a.M);_location=(0,i.WQX)(u);_errorHandler=(0,i.WQX)(i.zcH);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=s.yU.EMPTY;constructor(){const e=(0,i.WQX)(new l.ES_("aria-hidden"),{optional:!0}),t=(0,i.WQX)(p,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const o=e.childNodes[t];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),t.forEach(o=>e.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((o,d)=>{o.forEach(E=>{d.setAttribute(E.name,`url('${e}#${E.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(I),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<t.length;d++)v.forEach(E=>{const S=t[d],A=S.getAttribute(E),T=A?A.match(M):null;if(T){let O=o.get(S);O||(O=[],o.set(S,O)),O.push({name:E,value:T[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,o]=this._splitIconName(e);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe((0,_.s)(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${o}! ${d.message}`))})}}static \u0275fac=function(t){return new(t||m)};static \u0275cmp=c.VBU({type:m,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){2&t&&(c.BMQ("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),c.HbH(o.color?"mat-"+o.color:""),c.AVh("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:[2,"inline","inline",l.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:P,decls:1,vars:0,template:function(t,o){1&t&&(c.NAR(),c.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return m})(),D=(()=>{class m{static \u0275fac=function(t){return new(t||m)};static \u0275mod=c.$C({type:m});static \u0275inj=i.G2t({imports:[r.M,r.M]})}return m})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.04/dist/ng-edit/projects_eav-ui_src_app_import-app_import-app_component_ts-projects_eav-ui_src_app_shared_pip-a7ae9a.41417a12b30d8a49.js.map
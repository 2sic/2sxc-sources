"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_code-editor_code-editor_component_ts"],{7693:(j,E,a)=>{a.d(E,{X:()=>g,g:()=>m});var y=a(271),T=a(8873),I=a(8559),b=a(6443),$=a(4821);const g="admin/type/",S="admin/type/scopes";let m=(()=>{class h{constructor(C,M,R){this.http=C,this.context=M,this.dnnContext=R}apiUrl(C){return this.dnnContext.$2sxc.http.apiUrl(C)}retrieveContentType(C){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:C}})}retrieveContentTypes(C){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:C}})}getScopes(){return this.http.get(this.apiUrl(S),{params:{appId:this.context.appId.toString()}}).pipe((0,y.T)(C=>{const M=C.old;return Object.keys(M).map(N=>({name:M[N],value:N}))}))}getScopesV2(){return this.http.get(this.apiUrl(S),{params:{appId:this.context.appId.toString()}}).pipe((0,y.T)(C=>C.scopes))}save(C){return this.http.post(this.apiUrl("admin/type/save"),C,{params:{appid:this.context.appId.toString()}})}delete(C){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:C.StaticName}})}import(C){const M=new FormData;for(const R of C)M.append("File",R);return this.http.post(this.apiUrl("admin/type/import"),M,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(C){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:C}})}static#t=this.\u0275fac=function(M){return new(M||h)(I.KVO(b.Qq),I.KVO(T.o),I.KVO($.ob))};static#e=this.\u0275prov=I.jDH({token:h,factory:h.\u0275fac})}return h})()},2934:(j,E,a)=>{a.r(E),a.d(E,{CodeEditorComponent:()=>te});var y=a(5797),T=a(9999),I=a(1873),b=a(1870),$=a(6647),g=a(9452),f=a(271),x=a(8537),S=a(6068),k=a(8801),w=a(3176),G=a(8172),d=a(8873),m=a(3347),h=a(4175),t=a(8559);function C(i,c){if(1&i&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&i){const e=t.XpG();t.R7$(),t.Lme('"',e.snackBarData.fileName,'" also has a code-behind file "',e.snackBarData.codeFile,'".')}}function M(i,c){if(1&i&&t.EFF(0),2&i){const e=t.XpG(2);t.SpI(' You are editing "',e.snackBarData.edition,'" edition. ')}}function R(i,c){1&i&&t.EFF(0," You may be editing an edition which is not the one you see. ")}function N(i,c){if(1&i&&(t.j41(0,"div"),t.DNE(1,M,1,1),t.EFF(2),t.DNE(3,R,1,0),t.EFF(4," See "),t.j41(5,"a",3),t.EFF(6,"docs"),t.k0s(),t.EFF(7,". "),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.vxM(1,e.snackBarData.edition?1:-1),t.R7$(),t.Lme(" There are ",e.snackBarData.otherEditions,' other editions of "',e.snackBarData.fileName,'". '),t.R7$(),t.vxM(3,e.snackBarData.edition?-1:3)}}function nt(i,c){if(1&i){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openCodeBehind())}),t.EFF(1," Open code-behind file "),t.k0s()}}let ot=(()=>{class i{constructor(e,n){this.snackRef=e,this.snackBarData=n}openCodeBehind(){this.snackBarData.openCodeBehind=!0,this.snackRef.dismissWithAction()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(m.TQ),t.rXU(m.ht))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-code-and-edition-warnings"]],standalone:!0,features:[t.aNF],decls:5,vars:3,consts:[[1,"messages"],[1,"actions"],["mat-button","","color","primary"],["href","https://go.2sxc.org/polymorphism","target","_blank"],["mat-button","","color","primary",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.DNE(1,C,3,2)(2,N,8,4,"div"),t.k0s(),t.j41(3,"div",1),t.DNE(4,nt,2,0,"button",2),t.k0s()),2&n&&(t.R7$(),t.vxM(1,o.snackBarData.codeFile?1:-1),t.R7$(),t.vxM(2,o.snackBarData.otherEditions?2:-1),t.R7$(2),t.vxM(4,o.snackBarData.codeFile?4:-1))},dependencies:[h.Hl,h.$z],styles:[".messages[_ngcontent-%COMP%]{font-size:14px}.messages[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.actions[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}"]})}return i})();const H={Templates:"Templates",Snippets:"Snippets"};var it=a(803),st=a(9839),at=a(3051),rt=a(6443),pt=a(4821),L=a(852);let ct=(()=>{class i{constructor(e,n,o){this.http=e,this.dnnContext=n,this.translate=o}getTooltips(e){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/Code/InlineHelp"),{params:{language:e}})}getSnippets(e){return this.http.get("../ng-assets/snippets.json.js").pipe((0,f.T)(n=>{const o=this.filterAwayNotNeededSnippetsList(n.snippets,e),s=this.extractInputTypeSnippets(o),r=this.initSnippetsWithConfig(s.standardArray,e,s.inputTypeSnippets);return{list:s.standardArray,sets:r}}))}filterAwayNotNeededSnippetsList(e,n){const o=["@","["],s=l=>l.Type.indexOf("Razor")>-1?0:1,r=[];for(const l of e){const p=o.indexOf(l.set[0]);(-1===p||p===s(n))&&(p===s(n)&&(l.set=l.set.substring(1)),r.push(l))}return r}extractInputTypeSnippets(e){const n=[],o=[];for(const l of e)"\\"===l.set[0]?(l.set=l.set.substring(1),o.push(l)):n.push(l);return{standardArray:n,inputTypeSnippets:this.catalogInputTypeSnippets(o)}}catalogInputTypeSnippets(e){const n={};for(const o of e)void 0===n[o.subset]&&(n[o.subset]=[]),n[o.subset].push(o);return n}initSnippetsWithConfig(e,n,o){const s=this.makeTree(e);return s.Content=Object.assign({},s.Content,{Fields:{},PresentationFields:{}}),n.TypeContent&&this.loadContentType(s.Content.Fields,n.TypeContent,"Content",n,o),n.TypeContentPresentation&&this.loadContentType(s.Content.PresentationFields,n.TypeContentPresentation,"Content.Presentation",n,o),n.HasList?(s.List=Object.assign({},s.List,{Fields:{},PresentationFields:{}}),n.TypeList&&this.loadContentType(s.List.Fields,n.TypeList,"Header",n,o),n.TypeListPresentation&&this.loadContentType(s.List.PresentationFields,n.TypeListPresentation,"Header.Presentation",n,o)):delete s.List,n.HasApp&&(s.App.Resources={},s.App.Settings={},this.loadContentType(s.App.Resources,"App-Resources","App.Resources",n,o),this.loadContentType(s.App.Settings,"App-Settings","App.Settings",n,o)),s}makeTree(e){const n={};for(const o of e){void 0===n[o.set]&&(n[o.set]={}),void 0===n[o.set][o.subset]&&(n[o.set][o.subset]=[]);const s={key:o.name,label:this.label(o.set,o.subset,o.name),snip:o.content,help:o.help||this.help(o.set,o.subset,o.name),links:this.linksList(o.links)};n[o.set][o.subset].push(s)}return n}label(e,n,o){const s=this.getHelpKey(e,n,o,".Key");let r=this.translate.instant(s);return r===s&&(r=o),r}getHelpKey(e,n,o,s){return"SourceEditorSnippets."+e+"."+n+"."+o+s}help(e,n,o){const s=this.getHelpKey(e,n,o,".Help");let r=this.translate.instant(s);return r===s&&(r=""),r}linksList(e){if(!e)return null;const n=[],o=e.split("\n");for(const s of o){const r=s.split(":");if(3===r.length){const l={name:r[0].trim(),url:r[1].trim()+":"+r[2].trim()};n.push(l)}}return 0===n.length?null:n}loadContentType(e,n,o,s,r){this.getFields(s.AppId,n).subscribe(l=>{for(const p of l){const _=p.StaticName;e[_]={key:_,label:_,snip:this.valuePlaceholder(o,_,s),help:p.Metadata.merged.Notes||" ("+p.Type.toLowerCase()+") "};const u=(0,it.A)(e[_]);this.attachSnippets(e,o,_,p.InputType,u,r)}if(l.length){const p=["EntityId","EntityTitle","EntityGuid","EntityType","IsPublished","Modified"];for(let _=0;_<p.length;_++)e[p[_]]={key:p[_],label:p[_],snip:this.valuePlaceholder(o,p[_],s),help:this.translate.instant("SourceEditorSnippets.StandardFields."+p[_]+".Help")}}})}valuePlaceholder(e,n,o){return o.Type.indexOf("Razor")>-1?"@"+e+"."+n:"["+e.replace(".",":")+":"+n+"]"}getFields(e,n){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(at.zZ),{params:{appid:e.toString(),staticName:n}}).pipe((0,f.T)(o=>{o=o.filter(s=>s.Type!==st.m.Empty);for(const s of o){if(!s.Metadata)continue;const r=s.Metadata;r.merged={...r.All,...r[s.Type],...r[s.InputType]}}return o}))}attachSnippets(e,n,o,s,r,l){let p=l[s];if(s.indexOf("-")){const u=s.substring(0,s.indexOf("-"));if(u){const v=l[u];v&&(p=p?p.concat(v):v)}}if(!p)return;void 0===e[o].more&&(e[o].more={});const _=e[o].more;for(let u=0;u<p.length;u++)try{_[o+"-"+p[u].name]=Object.assign({},r,{key:o+" - "+p[u].name,label:p[u].name,snip:this.localizeGenericSnippet(p[u].content,n,o),collapse:!0})}finally{}}localizeGenericSnippet(e,n,o){return e.replace(/(\$\{[0-9]+\:)var(\})/gi,"$1"+n+"$2").replace(/(\$\{[0-9]+\:)prop(\})/gi,"$1"+o+"$2")}static#t=this.\u0275fac=function(n){return new(n||i)(t.KVO(rt.Qq),t.KVO(pt.ob),t.KVO(L.c$))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac})}return i})();var dt=a(9996),Y=a(1134);let _t=(()=>{class i{transform(e){if(null!=e)return Array.isArray(e)?e:Object.values(e)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275pipe=t.EJ8({name:"objectToArray",type:i,pure:!0,standalone:!0})}return i})();var V=a(316),J=a(5060),A=a(3840),K=a(9333),B=a(4981),z=a(4601),ht=a(9914);function ut(i,c){if(1&i){const e=t.RV6();t.j41(0,"mat-icon",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,s=t.XpG(5);return t.Njj(s.toggleMore(o.key))}),t.EFF(1),t.k0s()}if(2&i){const e=t.XpG().$implicit,n=t.XpG(5);t.R7$(),t.SpI(" ",n.toggledMores.includes(e.key)?"more_vert":"more_horiz"," ")}}function mt(i,c){if(1&i&&(t.j41(0,"div")(1,"a",11),t.EFF(2),t.k0s()()),2&i){const e=c.$implicit;t.R7$(),t.Y8G("href",e.url,t.B4B),t.R7$(),t.JRh(e.name)}}function gt(i,c){if(1&i&&(t.j41(0,"div",8),t.nrm(1,"div",10),t.nI1(2,"safeHtml"),t.Z7z(3,mt,3,2,"div",null,t.fX1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,e.help),t.npT),t.R7$(2),t.Dyx(e.links)}}function ft(i,c){if(1&i&&(t.j41(0,"div")(1,"a",11),t.EFF(2),t.k0s()()),2&i){const e=c.$implicit;t.R7$(),t.Y8G("href",e.url,t.B4B),t.R7$(),t.JRh(e.name)}}function Ct(i,c){if(1&i&&(t.j41(0,"div",13),t.nrm(1,"div",10),t.nI1(2,"safeHtml"),t.Z7z(3,ft,3,2,"div",null,t.fX1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,e.help),t.npT),t.R7$(2),t.Dyx(e.links)}}function vt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",4)(2,"div",12),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(7);return t.Njj(s.addSnippet(o.snip))}),t.EFF(3),t.k0s(),t.j41(4,"mat-icon",7),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(7);return t.Njj(s.toggleInfo(o.key))}),t.EFF(5,"info"),t.k0s()(),t.DNE(6,Ct,5,3,"div",13),t.k0s()}if(2&i){const e=c.$implicit,n=t.XpG(7);t.R7$(2),t.Y8G("tippy",e.snip),t.R7$(),t.SpI(" ",e.label," "),t.R7$(3),t.vxM(6,n.toggledInfos.includes(e.key)?6:-1)}}function yt(i,c){if(1&i&&(t.Z7z(0,vt,7,3,"div",null,t.fX1),t.nI1(2,"objectToArray")),2&i){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.more))}}function bt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(5);return t.Njj(s.addSnippet(o.snip))}),t.EFF(3),t.k0s(),t.DNE(4,ut,2,1,"mat-icon",6),t.j41(5,"mat-icon",7),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(5);return t.Njj(s.toggleInfo(o.key))}),t.EFF(6,"info"),t.k0s()(),t.DNE(7,gt,5,3,"div",8)(8,yt,3,2),t.k0s()}if(2&i){const e=c.$implicit,n=t.XpG(5);t.R7$(2),t.Y8G("tippy",e.snip),t.R7$(),t.SpI(" ",e.label," "),t.R7$(),t.vxM(4,e.more?4:-1),t.R7$(3),t.vxM(7,n.toggledInfos.includes(e.key)?7:-1),t.R7$(),t.vxM(8,n.toggledMores.includes(e.key)?8:-1)}}function xt(i,c){if(1&i&&(t.Z7z(0,bt,9,5,"div",3,t.fX1),t.nI1(2,"objectToArray")),2&i){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.value))}}function St(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",2),t.nI1(2,"translate"),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.toggleFolder(o.key))}),t.j41(3,"mat-icon"),t.EFF(4),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,xt,3,2),t.k0s()}if(2&i){const e=c.$implicit,n=t.XpG(2).$implicit,o=t.XpG();t.R7$(),t.Y8G("tippy",t.bMT(2,4,"SourceEditorSnippets."+n.key+"."+e.key+".Help")),t.R7$(3),t.SpI(" ",o.toggledFolders.includes(e.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(t.bMT(7,6,"SourceEditorSnippets."+n.key+"."+e.key+".Title")),t.R7$(2),t.vxM(8,o.toggledFolders.includes(e.key)?8:-1)}}function Tt(i,c){if(1&i&&(t.Z7z(0,St,9,8,"div",null,t.fX1),t.nI1(2,"keyvalue")),2&i){const e=t.XpG().$implicit;t.Dyx(t.bMT(2,0,e.value))}}function It(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",1),t.nI1(2,"translate"),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.toggleSection(o.key))}),t.j41(3,"mat-icon"),t.EFF(4),t.k0s(),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,Tt,3,2),t.k0s()}if(2&i){const e=c.$implicit,n=t.XpG();t.R7$(),t.Y8G("tippy",t.bMT(2,4,"SourceEditorSnippets."+e.key+".Help")),t.R7$(3),t.SpI(" ",n.toggledSections.includes(e.key)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(t.bMT(7,6,"SourceEditorSnippets."+e.key+".Title")),t.R7$(2),t.vxM(8,n.toggledSections.includes(e.key)?8:-1)}}let Ft=(()=>{class i{constructor(){this.insertSnippet=new t.bkB,this.toggledSections=[],this.toggledFolders=[],this.toggledInfos=[],this.toggledMores=[]}addSnippet(e){this.insertSnippet.emit(e)}toggleSection(e){B.f.toggleInArray(e,this.toggledSections)}toggleFolder(e){B.f.toggleInArray(e,this.toggledFolders)}toggleInfo(e){B.f.toggleInArray(e,this.toggledInfos)}toggleMore(e){B.f.toggleInArray(e,this.toggledMores)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-code-snippets"]],inputs:{snippets:"snippets"},outputs:{insertSnippet:"insertSnippet"},standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[[1,"editor-active-explorer","fancy-scrollbar-dark"],["tippyShowDelay","750",1,"collapsible-header","section",3,"click","tippy"],["tippyShowDelay","750",1,"collapsible-header","folder",3,"click","tippy"],[1,"snippet"],[1,"snippet-label"],["matRipple","","tippyShowDelay","750",1,"text",3,"click","tippy"],["tippy","Show More","tippyShowDelay","750"],["tippy","Show Help","tippyShowDelay","750","appClickStopPropagation","",3,"click"],[1,"snippet-help"],["tippy","Show More","tippyShowDelay","750",3,"click"],[1,"text",3,"innerHTML"],["target","_blank",3,"href"],["matRipple","","tippyShowDelay","750",1,"text","text-more",3,"click","tippy"],[1,"snippet-help","snippet-help-more"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.Z7z(1,It,9,8,"div",null,t.fX1),t.nI1(3,"keyvalue"),t.k0s()),2&n&&(t.R7$(),t.Dyx(t.bMT(3,0,o.snippets)))},dependencies:[A.m_,A.An,J.pZ,J.r6,V.lG,L.h,L.D9,_t,K.c,z.e,ht.$],styles:[".collapsible-header[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;overflow:hidden;white-space:nowrap;-webkit-user-select:none;user-select:none;padding:3px 0}.collapsible-header.section[_ngcontent-%COMP%]{background-color:#383838;font-weight:500}.collapsible-header.folder[_ngcontent-%COMP%]{padding-left:8px}.collapsible-header.folder[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.collapsible-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.snippet[_ngcontent-%COMP%]{padding-right:8px}.snippet[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.snippet-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none}.snippet-label[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{cursor:pointer;padding:3px 0 3px 32px;flex:1 1 auto;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.snippet-label[_ngcontent-%COMP%]   .text-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-label[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;width:18px;height:18px;font-size:18px}.snippet-help[_ngcontent-%COMP%]{padding:3px 18px 3px 32px}.snippet-help-more[_ngcontent-%COMP%]{padding-left:40px}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:12px;font-style:oblique;word-break:break-word}.snippet-help[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]     p{margin:0}"]})}return i})();function Z(i){if(!i)return[];const c=[];for(const e of i){let n=c;const o=e.Path.split("/"),s=o[o.length-1];let r="";for(let l=0;l<o.length;l++){const p=o[l];r+=l?`/${p}`:p;const _=n.find(u=>u.name===p);if(_)n=_.children;else{const u={depth:l,name:p,pathFromRoot:r,isShared:e.Shared,isFolder:p!==s,...p!==s&&{children:[]}};n.push(u),n=u.children}}}return c}let Mt=(()=>{class i{transform(e){return null==e||e.sort((n,o)=>n.isFolder<o.isFolder?1:n.isFolder>o.isFolder?-1:0),e}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275pipe=t.EJ8({name:"sortItems",type:i,pure:!0,standalone:!0})}return i})();var Q=a(436);let Ot=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,n){let o;return o=n?8*e:0===e?8:8*e+16,this.sanitizer.bypassSecurityTrustStyle(`padding-left: ${o}px;`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(Q.up,16))};static#e=this.\u0275pipe=t.EJ8({name:"depthPadding",type:i,pure:!0,standalone:!0})}return i})();var X=a(1034);const q=i=>({item:i}),kt=i=>({active:i}),wt=i=>({"app-shared-root":i});function Pt(i,c){1&i&&t.eu8(0)}function $t(i,c){if(1&i&&t.DNE(0,Pt,1,0,"ng-container",6),2&i){const e=c.$implicit;t.XpG();const n=t.sdS(6);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,q,e))}}function Rt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",8),t.nI1(1,"depthPadding"),t.bIt("click",function(){t.eBV(e);const o=t.XpG().item,s=t.XpG();return t.Njj(s.openTemplate(o.pathFromRoot,o.isShared))}),t.EFF(2),t.k0s()}if(2&i){const e=t.XpG().item,n=t.XpG();t.Aen(t.i5U(1,5,e.depth,e.isFolder)),t.Y8G("ngClass",t.eq3(8,kt,n.isToggled(e.pathFromRoot,e.isShared)))("tippy",e.name),t.R7$(2),t.SpI(" ",e.name," ")}}function Dt(i,c){1&i&&t.eu8(0)}function jt(i,c){if(1&i&&t.DNE(0,Dt,1,0,"ng-container",6),2&i){const e=c.$implicit;t.XpG(4);const n=t.sdS(6);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,q,e))}}function At(i,c){if(1&i&&(t.Z7z(0,jt,1,4,"ng-container",null,t.fX1),t.nI1(2,"sortItems")),2&i){const e=t.XpG(2).item;t.Dyx(t.bMT(2,0,e.children))}}function Vt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",9),t.nI1(2,"depthPadding"),t.bIt("click",function(){t.eBV(e);const o=t.XpG().item,s=t.XpG();return t.Njj(s.toggleItem(o.pathFromRoot,o.isShared))}),t.j41(3,"div",10)(4,"mat-icon"),t.EFF(5),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"div",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG().item,s=t.XpG();return t.Njj(s.addFile(o.pathFromRoot,o.isShared))}),t.j41(9,"mat-icon"),t.EFF(10,"add"),t.k0s()()(),t.DNE(11,At,3,2),t.k0s()}if(2&i){const e=t.XpG().item,n=t.XpG();t.R7$(),t.Aen(t.i5U(2,7,e.depth+1,e.isFolder)),t.Y8G("ngClass",t.eq3(10,wt,e.depth<0)),t.R7$(2),t.Y8G("tippy",e.name),t.R7$(2),t.SpI(" ",n.isToggled(e.pathFromRoot,e.isShared)?"keyboard_arrow_down":"keyboard_arrow_right"," "),t.R7$(2),t.JRh(e.name),t.R7$(4),t.vxM(11,n.isToggled(e.pathFromRoot,e.isShared)?11:-1)}}function Bt(i,c){if(1&i&&t.DNE(0,Rt,3,10,"div",7)(1,Vt,12,12,"div"),2&i){const e=c.item;t.vxM(0,e.isFolder?-1:0),t.R7$(),t.vxM(1,e.isFolder?1:-1)}}let Gt=(()=>{class i{constructor(){this.openView=new t.bkB,this.createTemplate=new t.bkB,this.toggledItemsApp=[],this.toggledItemsShared=[]}ngOnChanges(e){if(null!=e.templates&&(this.tree=function Et(i){return[{depth:-1,name:"App Files",pathFromRoot:"",isShared:!1,isFolder:!0,children:Z(i.filter(e=>!e.Shared))},{depth:-1,name:"Shared App Files",pathFromRoot:"",isShared:!0,isFolder:!0,children:Z(i.filter(e=>e.Shared))}]}(this.templates)),null!=e.view){const n=e.view?.previousValue;n&&this.toggleItem(n.FileName,n.IsShared),this.view&&this.showFileInTree(this.view.FileName,this.view.IsShared)}}isToggled(e,n){return(n?this.toggledItemsShared:this.toggledItemsApp).includes(e)}openTemplate(e,n){this.openView.emit({key:e,shared:n})}toggleItem(e,n){B.f.toggleInArray(e,n?this.toggledItemsShared:this.toggledItemsApp)}addFile(e,n){this.createTemplate.emit({folder:e,isShared:n})}showFileInTree(e,n){if(null==e)return;const o=n?this.toggledItemsShared:this.toggledItemsApp;if(o.includes(e))return;const s=["",...e.split("/")];let r="";for(const l of s)r=r?`${r}/${l}`:l,!o.includes(r)&&this.toggleItem(r,n)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-code-templates"]],inputs:{view:"view",templates:"templates"},outputs:{openView:"openView",createTemplate:"createTemplate"},standalone:!0,features:[t.OA$,t.aNF],decls:19,vars:3,consts:[["fileOrFolder",""],["menu","matMenu"],[1,"editor-active-explorer","fancy-scrollbar-dark","explorer-wrapper"],[1,"create-button-wrapper"],["mat-icon-button","","tippy","Create file","tippyPlacement","left",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tippyShowDelay","750",1,"file",3,"style","ngClass","tippy"],["tippyShowDelay","750",1,"file",3,"click","ngClass","tippy"],[1,"folder-name-wrapper",3,"click","ngClass"],["tippyShowDelay","750",1,"folder-name",3,"tippy"],["tippy","Create file in this folder","tippyShowDelay","750","appClickStopPropagation","",1,"add-item",3,"click"]],template:function(n,o){if(1&n){const s=t.RV6();t.j41(0,"div",2)(1,"div"),t.Z7z(2,$t,1,4,"ng-container",null,t.fX1),t.nI1(4,"sortItems"),t.DNE(5,Bt,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.j41(7,"div",3)(8,"button",4)(9,"mat-icon"),t.EFF(10,"add"),t.k0s()(),t.j41(11,"mat-menu",null,1)(13,"button",5),t.bIt("click",function(){return t.eBV(s),t.Njj(o.addFile("",!1))}),t.j41(14,"span"),t.EFF(15,"App"),t.k0s()(),t.j41(16,"button",5),t.bIt("click",function(){return t.eBV(s),t.Njj(o.addFile("",!0))}),t.j41(17,"span"),t.EFF(18,"Shared (global)"),t.k0s()()()()()}if(2&n){const s=t.sdS(12);t.R7$(2),t.Dyx(t.bMT(4,1,o.tree)),t.R7$(6),t.Y8G("matMenuTriggerFor",s)}},dependencies:[V.T3,V.YU,A.m_,A.An,h.Hl,h.iY,X.Cn,X.kk,X.fb,X.Cp,Ot,Mt,K.c,z.e],styles:[".explorer-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.create-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.file[_ngcontent-%COMP%]{cursor:pointer;padding:4px 0 4px 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;-webkit-user-select:none;user-select:none}.file[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.file.active[_ngcontent-%COMP%]{background-color:#37373d}.folder-name-wrapper[_ngcontent-%COMP%]{display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center}.folder-name-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.folder-name-wrapper[_ngcontent-%COMP%]   .folder-name[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;white-space:nowrap;padding:3px 0;flex:1 1 auto}.folder-name-wrapper[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{margin-right:4px;display:none;align-items:center;justify-content:center;padding:3px}.folder-name-wrapper.app-shared-root[_ngcontent-%COMP%]{color:#fff;font-weight:500}.folder-name-wrapper[_ngcontent-%COMP%]:hover{background-color:#2a2d2e}.folder-name-wrapper[_ngcontent-%COMP%]:hover   .add-item[_ngcontent-%COMP%]{display:flex}"]})}return i})();var F=a(3826),Nt=a(5699),tt=a(5437),Xt=a(9184),Ut=a(7941);const Lt=i=>({"sxc-dark":i}),et=i=>({active:i}),Kt=(i,c,e)=>({active:i,modified:c,loading:e});function zt(i,c){1&i&&(t.j41(0,"mat-icon",13),t.EFF(1,"share"),t.k0s())}function Wt(i,c){1&i&&(t.j41(0,"mat-icon",16),t.EFF(1,"circle"),t.k0s())}function Ht(i,c){1&i&&t.nrm(0,"mat-spinner",17)}function Yt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",11),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.openView(o.viewKey))}),t.j41(1,"div",12),t.DNE(2,zt,2,0,"mat-icon",13),t.j41(3,"span",14),t.EFF(4),t.k0s()(),t.j41(5,"div",15),t.DNE(6,Wt,2,0,"mat-icon",16)(7,Ht,1,0,"mat-spinner",17),t.j41(8,"mat-icon",18),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG(3);return t.Njj(s.closeEditor(o.viewKey))}),t.EFF(9,"close"),t.k0s()()()}if(2&i){const e=c.$implicit;t.Y8G("ngClass",t.sMw(6,Kt,e.isActive,e.isModified,e.isLoading)),t.R7$(),t.Y8G("tippy",e.label),t.R7$(),t.vxM(2,e.viewKey.shared?2:-1),t.R7$(2),t.JRh(e.label),t.R7$(2),t.vxM(6,e.isModified?6:-1),t.R7$(),t.vxM(7,e.isLoading?7:-1)}}function Jt(i,c){if(1&i&&(t.j41(0,"div",7),t.Z7z(1,Yt,10,10,"div",10,t.fX1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Dyx(e.tabs)}}function Zt(i,c){if(1&i){const e=t.RV6();t.j41(0,"app-monaco-editor",19),t.bIt("valueChanged",function(o){t.eBV(e);const s=t.XpG(),r=t.XpG();return t.Njj(r.codeChanged(o,s.viewKey))}),t.k0s()}if(2&i){const e=t.XpG(),n=t.XpG();t.Y8G("filename",e.view.FileName)("value",e.view.Code)("options",n.monacoOptions)("snippets",e.editorSnipps)("tooltips",e.tooltips)("autoFocus",!0)}}function Qt(i,c){if(1&i){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.save())}),t.j41(1,"mat-icon"),t.EFF(2,"done"),t.k0s()()}}function qt(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleExplorer(o.Explorers.Templates))}),t.j41(3,"mat-icon"),t.EFF(4,"file_copy"),t.k0s()(),t.j41(5,"div",3),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleExplorer(o.Explorers.Snippets))}),t.j41(6,"mat-icon"),t.EFF(7,"code"),t.k0s()()(),t.j41(8,"app-code-templates",4),t.bIt("openView",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.openView(o))})("createTemplate",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.createTemplate(o))}),t.k0s(),t.j41(9,"app-code-snippets",5),t.bIt("insertSnippet",function(o){t.eBV(e);const s=t.XpG();return t.Njj(s.insertSnippet(o))}),t.k0s(),t.j41(10,"div",6),t.DNE(11,Jt,3,0,"div",7)(12,Zt,1,6,"app-monaco-editor",8),t.k0s(),t.DNE(13,Qt,3,0,"button",9),t.k0s()}if(2&i){const e=c,n=t.XpG();t.Y8G("ngClass",t.eq3(11,Lt,"2sxc-dark"===n.monacoOptions.theme)),t.R7$(2),t.Y8G("ngClass",t.eq3(13,et,n.activeExplorer===n.Explorers.Templates)),t.R7$(3),t.Y8G("ngClass",t.eq3(15,et,n.activeExplorer===n.Explorers.Snippets)),t.R7$(3),t.Y8G("hidden",n.activeExplorer!==n.Explorers.Templates)("view",e.view)("templates",e.templates),t.R7$(),t.Y8G("hidden",n.activeExplorer!==n.Explorers.Snippets)("snippets",e.explorerSnipps),t.R7$(2),t.vxM(11,e.tabs.length>0?11:-1),t.R7$(),t.vxM(12,e.view?12:-1),t.R7$(),t.vxM(13,e.activeView?13:-1)}}let te=(()=>{class i extends w.${constructor(e,n,o,s,r,l,p){super(),this.context=e,this.route=n,this.snackBar=o,this.zone=s,this.titleService=r,this.dialog=l,this.viewContainerRef=p,this.Explorers=H,this.activeExplorer=H.Templates,this.monacoOptions={theme:"2sxc-dark",tabSize:2,fixedOverflowWidgets:!0},this.sourceService=(0,tt.d)(dt.F),this.snippetsService=(0,tt.d)(ct),this.context.init(this.route);const _=JSON.parse(sessionStorage.getItem(G.Ul)),u="true"===sessionStorage.getItem(G.P3);_.forEach(v=>{v.Path.startsWith("/")&&(v.Path=v.Path.substring(1)),v.IsShared??=u}),this.urlItems=_}ngOnInit(){this.templates$=new y.t([]);const e=this.urlItems.map(n=>({key:n.EntityId?.toString()??n.Path,shared:n.IsShared}));this.activeView$=new y.t(e[0]),this.openViews$=new y.t(e),this.viewInfos$=new y.t([]),this.attachListeners(),this.sourceService.getAll().subscribe(n=>{this.templates$.next(n)}),this.subscriptions.add((0,T.z)([this.templates$,this.openViews$]).subscribe(([n,o])=>{if(0===n.length)return;let s=this.viewInfos$.value;const r=o.filter(l=>!s.some(p=>F.a.objectsEqual(p.viewKey,l)));0!==r.length&&((0,I.p)(r.map(l=>{const p={viewKey:l};s=[...s,p];const _=this.sourceService.get(l.key,l.shared,this.urlItems).pipe((0,b.u)()),u=_.pipe((0,$.n)(P=>this.snippetsService.getSnippets(P))),v=_.pipe((0,$.n)(P=>this.snippetsService.getTooltips(P.Extension.substring(1))));return(0,I.p)([(0,g.of)(l),_,u,v])})).subscribe(l=>{let p=this.viewInfos$.value;l.forEach(([_,u,v,P])=>{const O=p.findIndex(D=>F.a.objectsEqual(D.viewKey,_));if(O<0)return;const U={viewKey:_,view:u,explorerSnipps:v.sets,editorSnipps:v.list,tooltips:P,savedCode:u.Code};p=[...p.slice(0,O),U,...p.slice(O+1)],this.showCodeAndEditionWarnings(_,u,n)}),this.viewInfos$.next(p)}),this.viewInfos$.next(s))})),this.subscriptions.add((0,T.z)([this.activeView$,this.viewInfos$]).subscribe(([n,o])=>{const s=o.find(_=>F.a.objectsEqual(_.viewKey,n)),r="Code Editor",l=null==s?r:`${s.view?.FileName} - ${r}`;l!==this.titleService.getTitle()&&this.titleService.setTitle(l)})),this.viewModel$=(0,T.z)([this.templates$,this.activeView$,this.openViews$,this.viewInfos$]).pipe((0,f.T)(([n,o,s,r])=>{const l=s.map(u=>{const v=r.find(O=>F.a.objectsEqual(O.viewKey,u));return{viewKey:u,label:v?.view?.FileName??u.key,isActive:F.a.objectsEqual(u,o),isModified:v?.view?.Code!==v?.savedCode,isLoading:null==v?.view}}),p=r.find(u=>F.a.objectsEqual(u.viewKey,o));return{activeView:o,tabs:l,viewKey:p?.viewKey,view:p?.view,templates:n,explorerSnipps:p?.explorerSnipps,editorSnipps:p?.editorSnipps,tooltips:p?.tooltips}}))}ngOnDestroy(){this.templates$.complete(),this.activeView$.complete(),this.openViews$.complete(),this.viewInfos$.complete(),super.ngOnDestroy()}toggleExplorer(e){this.activeExplorer=this.activeExplorer!==e?e:null}createTemplate(e){const n={folder:e.folder,global:e.isShared,purpose:"api"===e.folder||e.folder?.startsWith("api/")?"Api":void 0};this.dialog.open(S.g,{autoFocus:!1,data:n,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(s=>{s&&this.sourceService.create(s.name,e.isShared,s.templateKey).subscribe(()=>{this.sourceService.getAll().subscribe(r=>{this.templates$.next(r)})})})}insertSnippet(e){this.monacoEditorRef?.insertSnippet(e)}codeChanged(e,n){let o=this.viewInfos$.value;const s=o.findIndex(p=>F.a.objectsEqual(p.viewKey,n)),r=o[s],l={...r,view:{...r.view,Code:e}};o=[...o.slice(0,s),l,...o.slice(s+1)],this.viewInfos$.next(o)}openView(e){e=this.viewInfos$.value.find(s=>!F.a.objectsEqual(s.viewKey,e)&&s.view?.FileName===e.key&&s.view?.IsShared===e.shared)?.viewKey??e,F.a.objectsEqual(this.activeView$.value,e)||this.activeView$.next(e);const o=this.openViews$.value;if(!o.some(s=>F.a.objectsEqual(s,e))){const s=[...o,e];this.openViews$.next(s)}}closeEditor(e){const n=this.openViews$.value,o=n.filter(r=>!F.a.objectsEqual(r,e)),s=this.activeView$.value;if(F.a.objectsEqual(s,e)){const r=n[n.findIndex(l=>F.a.objectsEqual(l,s))-1]??o[0];this.activeView$.next(r)}this.openViews$.next(o)}save(e){e??=this.activeView$.value;const n=this.viewInfos$.value.find(s=>F.a.objectsEqual(s.viewKey,e));if(null==n?.view)return;this.snackBar.open("Saving...");const o=n.view.Code;this.sourceService.save(e.key,e.shared,n.view,this.urlItems).subscribe({next:s=>{if(!s)return void this.snackBar.open("Failed",null,{duration:2e3});let r=[...this.viewInfos$.value];const l=r.findIndex(u=>F.a.objectsEqual(u.viewKey,e));if(l<0)return;const _={...r[l],savedCode:o};r=[...r.slice(0,l),_,...r.slice(l+1)],this.viewInfos$.next(r),this.snackBar.open("Saved",null,{duration:2e3})},error:()=>{this.snackBar.open("Failed",null,{duration:2e3})}})}showCodeAndEditionWarnings(e,n,o){const s=n.FileName,r=s.indexOf("/")>-1?s.lastIndexOf("/")+1:0,l=0===r?"":s.substring(0,r),p=s.substring(r),u=p.substring(0,p.length-n.Extension.length)+".code"+n.Extension,v=o.find(O=>O.Path===l+u&&O.Shared===n.IsShared),P=o.filter(O=>O.Path.endsWith(p)&&O.Shared===n.IsShared).length-1;if(v||P){const O={fileName:p,codeFile:v?.Path,edition:this.urlItems.find(D=>D.EntityId?.toString()===e.key&&D.IsShared===n.IsShared&&D.Path===n.FileName)?.Edition,otherEditions:P,openCodeBehind:!1},U=this.snackBar.openFromComponent(ot,{data:O,duration:1e4});U.onAction().subscribe(()=>{U.containerInstance.snackBarConfig.data.openCodeBehind&&this.openView({key:v?.Path,shared:v?.Shared})})}}attachListeners(){this.zone.runOutsideAngular(()=>{this.subscriptions.add((0,x.R)(window,"beforeunload").subscribe(e=>{this.viewInfos$.value.some(o=>null!=o.view&&o.view.Code!==o.savedCode)&&(e.preventDefault(),e.returnValue="")})),this.subscriptions.add((0,x.R)(window,"keydown").subscribe(e=>{83===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),this.zone.run(()=>{this.save()}))}))})}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(d.o),t.rXU(Xt.nX),t.rXU(m.UG),t.rXU(t.SKi),t.rXU(Q.hE),t.rXU(Ut.bZ),t.rXU(t.c1b))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-code-editor"]],viewQuery:function(n,o){if(1&n&&t.GBs(k.K,5),2&n){let s;t.mGM(s=t.lsd())&&(o.monacoEditorRef=s.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:3,consts:[["appToggleDebug","",1,"editor-root",3,"ngClass"],[1,"editor-side-toolbar"],["tippy","Templates",1,"button",3,"click","ngClass"],["tippy","Snippets",1,"button",3,"click","ngClass"],[3,"openView","createTemplate","hidden","view","templates"],[3,"insertSnippet","hidden","snippets"],[1,"editor-group"],[1,"tabs-container","fancy-scrollbar-dark"],[3,"filename","value","options","snippets","tooltips","autoFocus"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S"],[1,"tab",3,"ngClass"],[1,"tab",3,"click","ngClass"],["tippyShowDelay","750",1,"tab-label-container",3,"tippy"],[1,"icon-shared"],[1,"tab-label"],[1,"tab-actions-container"],["fontSet","material-icons",1,"tab-action","icon-modified"],["mode","indeterminate","diameter","14","color","white",1,"spinner"],["tippy","Close","appClickStopPropagation","",1,"tab-action","icon-close",3,"click"],[3,"valueChanged","filename","value","options","snippets","tooltips","autoFocus"],["mat-fab","","mat-elevation-z24","","tippy","Click to save or CTRL + S",3,"click"]],template:function(n,o){if(1&n&&(t.DNE(0,qt,14,17,"div",0),t.nI1(1,"async")),2&n){let s;t.vxM(0,(s=t.bMT(1,1,o.viewModel$))?0:-1,s)}},dependencies:[V.YU,A.m_,A.An,Gt,Ft,Y.D6,Y.LG,k.K,h.Hl,h.Sr,V.Jj,K.c,z.e,Nt.V],styles:[".sxc-dark[_ngcontent-%COMP%]{background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{display:flex;height:35px;background-color:#252526;overflow:hidden}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]:hover{overflow-x:auto}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:flex;flex:0 0 auto;align-items:center;cursor:pointer;color:#ccc;font-size:13px;padding-left:10px;border-right:1px solid rgb(37,37,38);background-color:#2d2d2d;-webkit-user-select:none;user-select:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-label-container[_ngcontent-%COMP%]   .icon-shared[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px;margin-right:4px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-actions-container[_ngcontent-%COMP%]{height:100%;width:28px;display:flex;align-items:center;justify-content:center}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center;width:16px;height:16px;padding:2px;font-size:16px;border-radius:5px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action.icon-modified[_ngcontent-%COMP%]{width:10px;height:10px;font-size:10px}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .tab-action[_ngcontent-%COMP%]:hover{background-color:#5a5d5e4f}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:none}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;background-color:#1e1e1e}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover   .icon-close[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).modified   .icon-modified[_ngcontent-%COMP%]{display:flex}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover).loading   .spinner[_ngcontent-%COMP%]{display:block}.editor-group[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(:hover):not(.modified):not(.loading).active   .icon-close[_ngcontent-%COMP%]{display:flex}.mat-mdc-fab[_ngcontent-%COMP%]{position:absolute;right:48px;bottom:32px;z-index:10}"]})}return i})()},9839:(j,E,a)=>{a.d(E,{m:()=>y});const y={Boolean:"Boolean",Custom:"Custom",DateTime:"DateTime",Empty:"Empty",Entity:"Entity",Hyperlink:"Hyperlink",Number:"Number",String:"String"}},3051:(j,E,a)=>{a.d(E,{h6:()=>k,zZ:()=>x});var y=a(271),T=a(7693),I=a(8873),b=a(8559),$=a(6443),g=a(4821);const f="admin/field/",x="admin/field/all",S="admin/field/GetSharedFields";let k=(()=>{class w{constructor(d,m,h){this.http=d,this.context=m,this.dnnContext=h}apiUrl(d){return this.dnnContext.$2sxc.http.apiUrl(d)}typeListRetrieve(){return this.http.get(this.apiUrl(f+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(f+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,y.T)(d=>d.map(h=>({dataType:h.Type.substring(0,h.Type.indexOf("-")),inputType:h.Type,label:h.Label,description:h.Description,isDefault:h.IsDefault,isObsolete:h.IsObsolete,isRecommended:h.IsRecommended,obsoleteMessage:h.ObsoleteMessage,icon:h.IsDefault?"star":h.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(f+"ReservedNames"))}getFields(d){return this.http.get(this.apiUrl(x),{params:{appid:this.context.appId.toString(),staticName:d}}).pipe((0,y.T)(m=>{if(m)for(const h of m){if(!h.Metadata)continue;const t=h.Metadata;t.merged={...t.All,...t[h.Type],...t[h.InputType]}}return m}))}getShareableFields(){return this.http.get(this.apiUrl(S),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(d){return this.http.get(this.apiUrl(S),{params:{appid:this.context.appId.toString(),attributeId:d.toString()}})}addInheritedField(d,m,h,t){return this.http.post(this.apiUrl(f+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:d.toString(),SourceType:m,SourceField:h,name:t}})}share(d,m=!0){return this.http.post(this.apiUrl(f+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:d.toString(),share:m}})}inherit(d,m){return this.http.post(this.apiUrl(f+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:d.toString(),inheritMetadataOf:m}})}reOrder(d,m){return this.http.post(this.apiUrl(f+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:m.Id.toString(),order:JSON.stringify(d)}})}setTitle(d,m){return this.http.post(this.apiUrl(T.X+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:m.Id.toString(),attributeId:d.Id.toString()}})}rename(d,m,h){return this.http.post(this.apiUrl(f+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:m.toString(),attributeId:d.toString(),newName:h}})}delete(d,m){if(d.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(f+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:m.Id.toString(),attributeId:d.Id.toString()}})}add(d,m){return this.http.post(this.apiUrl(f+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:m.toString(),Id:d.Id.toString(),Type:d.Type,InputType:d.InputType,StaticName:d.StaticName,IsTitle:d.IsTitle.toString(),Index:d.SortOrder.toString()}})}updateInputType(d,m,h){return this.http.post(this.apiUrl(f+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:d.toString(),field:m,inputType:h}})}static#t=this.\u0275fac=function(m){return new(m||w)(b.KVO($.Qq),b.KVO(I.o),b.KVO(g.ob))};static#e=this.\u0275prov=b.jDH({token:w,factory:w.\u0275fac})}return w})()},5699:(j,E,a)=>{a.d(E,{V:()=>I});var y=a(9431),T=a(8559);let I=(()=>{class b{constructor(g){this.globalConfigService=g}onClick(g){(navigator.platform.match("Mac")?g.metaKey:g.ctrlKey)&&g.shiftKey&&g.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static#t=this.\u0275fac=function(f){return new(f||b)(T.rXU(y.B))};static#e=this.\u0275dir=T.FsC({type:b,selectors:[["","appToggleDebug",""]],hostBindings:function(f,x){1&f&&T.bIt("click",function(k){return x.onClick(k)})},standalone:!0})}return b})()},9914:(j,E,a)=>{a.d(E,{$:()=>I});var y=a(8559),T=a(436);let I=(()=>{class b{constructor(g){this.sanitizer=g}transform(g){return this.sanitizer.bypassSecurityTrustHtml(g)}static#t=this.\u0275fac=function(f){return new(f||b)(y.rXU(T.up,16))};static#e=this.\u0275pipe=y.EJ8({name:"safeHtml",type:b,pure:!0,standalone:!0})}return b})()},9431:(j,E,a)=>{a.d(E,{B:()=>$});var y=a(8559),T=a(9074),I=a(8172),b=a(3347);let $=(()=>{class g{constructor(x){this.snackBar=x,this.debugState=(0,y.vPA)(null),this.isDebug=(0,y.EWP)(()=>!!this.debugState()?.allowDebugMode&&!!this.debugState()?.debugEnabled),this.debugEnabled$=(0,T.br)(this.isDebug);const S={id:0,debugEnabled:"true"===sessionStorage.getItem(I.tn),allowDebugMode:!1};this.debugState.set(S)}allowDebug(x){const S=this.debugState();if(S.allowDebugMode===x)return;const k={...S,allowDebugMode:x};this.debugState.set(k)}toggleDebugEnabled(){const x=this.debugState();if(!x.allowDebugMode)return void this.snackBar.open("You do not have permissions to enter developer mode",null,{duration:3e3});const S={...x,debugEnabled:!x.debugEnabled};this.debugState.set(S),this.snackBar.open(S.debugEnabled?"developer mode on":"developer mode off",null,{duration:3e3})}static#t=this.\u0275fac=function(S){return new(S||g)(y.KVO(b.UG))};static#e=this.\u0275prov=y.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_code-editor_code-editor_component_ts.c5d5eaa8004cf0b9.js.map
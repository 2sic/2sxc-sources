{"version":3,"file":"projects_eav-ui_src_app_content-import_content-import_component_ts.js","mappings":"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","sources":["./projects/eav-ui/src/app/app-administration/services/app-dialog-config.service.ts","./projects/eav-ui/src/app/app-administration/services/content-types.service.ts","./projects/eav-ui/src/app/content-import/content-import.component.ts","./projects/eav-ui/src/app/content-import/content-import.component.html","./projects/eav-ui/src/app/content-import/services/content-import.service.ts","./projects/eav-ui/src/app/shared/directives/base.directive.ts","./projects/eav-ui/src/app/shared/directives/drag-and-drop.directive.ts","./projects/eav-ui/src/app/shared/helpers/file-to-base64.helper.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, OnDestroy } from '@angular/core';\r\nimport { map, Observable, shareReplay, tap } from 'rxjs';\r\nimport { GlobalConfigService } from '../../edit/shared/store/ngrx-data';\r\nimport { DialogSettings } from '../../shared/models/dialog-settings.model';\r\nimport { Context } from '../../shared/services/context';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { ServiceBase } from '../../shared/services/service-base';\r\nimport { EavLogger } from '../../shared/logging/eav-logger';\r\nimport { DialogContextSiteApp } from '../../shared/models/dialog-context.models';\r\n\r\nconst logThis = false;\r\n\r\nconst webApiSettings = 'admin/dialog/settings';\r\n\r\n\r\n@Injectable()\r\nexport class AppDialogConfigService extends ServiceBase implements OnDestroy {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private context: Context,\r\n    // private dnnContext: DnnContext,\r\n    private globalConfigService: GlobalConfigService,\r\n    featuresService: FeaturesService,\r\n  ) {\r\n    super(new EavLogger('AppDialogConfigService', logThis));\r\n    this.log.a(`using context #${this.context.log.svcId}`);\r\n    featuresService.loadFromService(this);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.destroy();\r\n    // TODO: probably should add an onDestroy and ensure all subscriptions in dialogSettings$ are killed\r\n  }\r\n\r\n  private dialogSettings$: Record<number, Observable<DialogSettings>> = {};\r\n\r\n  getCurrent$(): Observable<DialogSettings> {\r\n    const appId = this.context.appId;\r\n    this.log.a(`getCurrent\\$ - appId:${appId}`);\r\n    return this.getShared$(appId);\r\n  }\r\n\r\n    // new 2dg\r\n    getSitePrimaryApp$(): Observable<DialogContextSiteApp> {\r\n      return this.getCurrent$().pipe(map(dc => dc?.Context.Site.PrimaryApp));\r\n    }\r\n\r\n    getGlobalPrimaryApp$(): Observable<DialogContextSiteApp> {\r\n      return this.getCurrent$().pipe(map(dc => dc?.Context.System.PrimaryApp));\r\n    }\r\n\r\n\r\n  getShared$(appId: number): Observable<DialogSettings> {\r\n    this.log.a('getShared$ appId: ' + appId);\r\n    // if (!this.dialogSettings$[appIdToUse])\r\n    this.dialogSettings$[appId] ??= this.getDialogSettings(appId, 'getShared$').pipe(shareReplay({ refCount: false }));\r\n    return this.dialogSettings$[appId];\r\n  }\r\n\r\n  getDialogSettings(appId?: number, reqBy?: string): Observable<DialogSettings> {\r\n    this.log.a('getDialogSettings', {appId, reqBy});\r\n    return this.http.get<DialogSettings>(webApiSettings, {\r\n      params: { appId: appId ?? this.context.appId.toString() },\r\n    }).pipe(\r\n      map(dlgSettings => {\r\n        dlgSettings.Context.Language.List = dlgSettings.Context.Language.List.filter(language => language.IsEnabled);\r\n        return dlgSettings;\r\n      }),\r\n      tap(dlgSettings => {\r\n        this.globalConfigService.allowDebug(dlgSettings.Context.Enable.DebugMode);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map } from 'rxjs';\r\nimport { FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { ScopeOption } from '../../shared/constants/eav.constants';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentType, ContentTypeEdit } from '../models/content-type.model';\r\nimport { ScopeDetailsDto } from '../models/scopedetails.dto';\r\n\r\n// We should list all the \"full\" paths here, so it's easier to find when searching for API calls\r\nexport const webApiTypeRoot = 'admin/type/';\r\nconst webApiTypeGet = 'admin/type/get';\r\nconst webApiTypes = 'admin/type/list';\r\nconst webApiTypeScopes = 'admin/type/scopes';\r\nconst webApiTypeSave = 'admin/type/save';\r\nconst webApiTypeDelete = 'admin/type/delete';\r\nconst webApiTypeImport = 'admin/type/import';\r\nconst webApiTypeAddGhost = 'admin/type/addghost';\r\n\r\n@Injectable()\r\nexport class ContentTypesService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  private apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  retrieveContentType(staticName: string) {\r\n    return this.http.get<ContentType>(this.apiUrl(webApiTypeGet), {\r\n      params: { appId: this.context.appId.toString(), contentTypeId: staticName }\r\n    });\r\n  }\r\n\r\n  retrieveContentTypes(scope: string) {\r\n    return this.http.get<ContentType[]>(this.apiUrl(webApiTypes), {\r\n      params: { appId: this.context.appId.toString(), scope }\r\n    });\r\n  }\r\n\r\n  // TODO: remove this method after upgrade to V2\r\n  getScopes() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.context.appId.toString() }\r\n    }).pipe(\r\n      map(scopesData => {\r\n        // wip during upgrade:\r\n        const scopes = scopesData.old;\r\n        const scopeOptions: ScopeOption[] = Object.keys(scopes).map(key => ({ name: scopes[key], value: key }));\r\n        return scopeOptions;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getScopesV2() {\r\n    return this.http.get<{ old: Record<string, string>, scopes: ScopeDetailsDto[] }>(this.apiUrl(webApiTypeScopes), {\r\n      params: { appId: this.context.appId.toString() }\r\n    }).pipe(\r\n      map(scopesData => scopesData.scopes),\r\n    );\r\n  }\r\n\r\n  save(contentType: ContentTypeEdit) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeSave), contentType, {\r\n      params: { appid: this.context.appId.toString() },\r\n    });\r\n  }\r\n\r\n  delete(contentType: ContentType) {\r\n    return this.http.delete<boolean>(this.apiUrl(webApiTypeDelete), {\r\n      params: { appid: this.context.appId.toString(), staticName: contentType.StaticName },\r\n    });\r\n  }\r\n\r\n  import(files: File[]) {\r\n    const formData = new FormData();\r\n    for (const file of files) {\r\n      formData.append('File', file);\r\n    }\r\n    return this.http.post<FileUploadResult>(this.apiUrl(webApiTypeImport), formData, {\r\n      params: { appId: this.context.appId.toString(), zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  createGhost(sourceStaticName: string) {\r\n    return this.http.post<boolean>(this.apiUrl(webApiTypeAddGhost), null, {\r\n      params: { appid: this.context.appId.toString(), sourceStaticName },\r\n    });\r\n  }\r\n}\r\n","import { Component, HostBinding, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogActions } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, forkJoin, map } from 'rxjs';\r\nimport { ContentType } from '../app-administration/models/content-type.model';\r\nimport { AppDialogConfigService } from '../app-administration/services/app-dialog-config.service';\r\nimport { ContentTypesService } from '../app-administration/services/content-types.service';\r\nimport { ContentImportDialogData } from './content-import-dialog.config';\r\nimport { ContentImport, EvaluateContentResult, ImportContentResult } from './models/content-import.model';\r\nimport { ContentImportService } from './services/content-import.service';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DragAndDropDirective } from '../shared/directives/drag-and-drop.directive';\r\n\r\n@Component({\r\n  selector: 'app-content-import',\r\n  templateUrl: './content-import.component.html',\r\n  styleUrls: ['./content-import.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatRadioModule,\r\n    MatDialogActions,\r\n    AsyncPipe,\r\n    DragAndDropDirective,\r\n  ],\r\n  providers: [\r\n    ContentImportService,\r\n    ContentTypesService,\r\n    AppDialogConfigService,\r\n  ],\r\n})\r\nexport class ContentImportComponent implements OnInit, OnDestroy {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  formValues: ContentImport;\r\n  private contentType$ = new BehaviorSubject<ContentType>(null);\r\n  private loading$ = new BehaviorSubject(false);\r\n  private viewStates = {\r\n    waiting: 0,\r\n    default: 1,\r\n    evaluated: 2,\r\n    imported: 3,\r\n  };\r\n  private viewStateSelected$ = new BehaviorSubject<number>(this.viewStates.default);\r\n  private evaluationResult$ = new BehaviorSubject<EvaluateContentResult>(null);\r\n  private importResult$ = new BehaviorSubject<ImportContentResult>(null);\r\n  viewModel$ = combineLatest([\r\n    this.contentType$, this.loading$, this.viewStateSelected$, this.evaluationResult$, this.importResult$,\r\n  ]).pipe(\r\n    map(([contentType, loading, viewStateSelected, evaluationResult, importResult]) =>\r\n      ({ contentType, loading, viewStateSelected, evaluationResult, importResult })),\r\n  );\r\n  errors: Record<number, string> = {\r\n    0: 'Unknown error occured.',\r\n    1: 'Selected content-type does not exist.',\r\n    2: 'Document is not a valid XML file.',\r\n    3: 'Selected content-type does not match the content-type in the XML file.',\r\n    4: 'The language is not supported.',\r\n    5: 'The document does not specify all languages for all entities.',\r\n    6: 'Language reference cannot be parsed, the language is not supported.',\r\n    7: 'Language reference cannot be parsed, the read-write protection is not supported.',\r\n    8: 'Value cannot be read, because of it has an invalid format.'\r\n  };\r\n\r\n  private contentTypeStaticName = this.route.snapshot.paramMap.get('contentTypeStaticName');\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) private dialogData: ContentImportDialogData,\r\n    private dialogRef: MatDialogRef<ContentImportComponent>,\r\n    private route: ActivatedRoute,\r\n    private contentImportService: ContentImportService,\r\n    private appDialogConfigService: AppDialogConfigService,\r\n    private contentTypesService: ContentTypesService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.loading$.next(true);\r\n    const contentType$ = this.contentTypesService.retrieveContentType(this.contentTypeStaticName);\r\n    const dialogSettings$ = this.appDialogConfigService.getCurrent$();\r\n    forkJoin([contentType$, dialogSettings$]).subscribe(([contentType, dialogSettings]) => {\r\n      this.contentType$.next(contentType);\r\n      this.formValues = {\r\n        defaultLanguage: dialogSettings.Context.Language.Primary,\r\n        contentType: this.contentTypeStaticName,\r\n        file: this.dialogData.files != null ? this.dialogData.files[0] : null,\r\n        resourcesReferences: 'Keep',\r\n        clearEntities: 'None',\r\n      };\r\n      this.loading$.next(false);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.contentType$.complete();\r\n    this.loading$.complete();\r\n    this.viewStateSelected$.complete();\r\n    this.evaluationResult$.complete();\r\n    this.importResult$.complete();\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  evaluateContent() {\r\n    this.viewStateSelected$.next(this.viewStates.waiting);\r\n    this.contentImportService.evaluateContent(this.formValues).subscribe(result => {\r\n      this.evaluationResult$.next(result);\r\n      this.viewStateSelected$.next(this.viewStates.evaluated);\r\n    });\r\n  }\r\n\r\n  importContent() {\r\n    this.viewStateSelected$.next(this.viewStates.waiting);\r\n    this.contentImportService.importContent(this.formValues).subscribe(result => {\r\n      this.importResult$.next(result);\r\n      this.viewStateSelected$.next(this.viewStates.imported);\r\n    });\r\n  }\r\n\r\n  back() {\r\n    this.viewStateSelected$.next(this.viewStates.default);\r\n    this.evaluationResult$.next(null);\r\n  }\r\n\r\n  fileChange(event: Event) {\r\n    this.formValues.file = (event.target as HTMLInputElement).files[0];\r\n  }\r\n\r\n  filesDropped(files: File[]) {\r\n    const importFile = files[0];\r\n    this.formValues.file = importFile;\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-dialog\" appDragAndDrop\r\n    [allowedFileTypes]=\"'xml'\" (filesDropped)=\"filesDropped($event)\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">{{ vm.contentType?.Name }} Import Data</div>\r\n    </div>\r\n    <div class=\"eav-dialog-description\">\r\n      <p>\r\n        This will import content-items into 2sxc. It requires that you already defined the content-type before you try\r\n        importing, and that you created the import-file using the template provided by the Export. Please visit\r\n        <a href=\"https://2sxc.org/help\" target=\"_blank\">https://2sxc.org/help</a> for more instructions.\r\n      </p>\r\n    </div>\r\n    @if (formValues != null) {\r\n      @switch (vm.viewStateSelected) {\r\n        <!-- FORM -->\r\n        @case (1) {\r\n          <form #ngForm=\"ngForm\">\r\n            <div class=\"eav-dialog-content\">\r\n              <div>\r\n                <button mat-raised-button tippy=\"Open file browser\" (click)=\"fileInput.click()\">\r\n                  <span>{{ formValues.file ? formValues.file.name : 'Select or drop file' }}</span>\r\n                </button>\r\n                <input #fileInput type=\"file\" (change)=\"fileChange($event)\" class=\"hide\" />\r\n              </div>\r\n              <div>\r\n                <p class=\"eav-radio-group-label\">References to pages / files</p>\r\n                <mat-radio-group class=\"eav-radio-group\" [(ngModel)]=\"formValues.resourcesReferences\" name=\"ResourcesReferences\">\r\n                  <mat-radio-button value=\"Keep\">\r\n                    Import links as written in the file (for example /Portals/...)\r\n                  </mat-radio-button>\r\n                  <mat-radio-button value=\"Resolve\">\r\n                    Try to resolve paths to references\r\n                  </mat-radio-button>\r\n                </mat-radio-group>\r\n              </div>\r\n              <div>\r\n                <p class=\"eav-radio-group-label\">Clear all other entities</p>\r\n                <mat-radio-group class=\"eav-radio-group\" [(ngModel)]=\"formValues.clearEntities\" name=\"ClearEntities\">\r\n                  <mat-radio-button value=\"None\">\r\n                    Keep all entities not found in import\r\n                  </mat-radio-button>\r\n                  <mat-radio-button value=\"All\">\r\n                    Remove all entities not found in import\r\n                  </mat-radio-button>\r\n                </mat-radio-group>\r\n              </div>\r\n              <p class=\"eav-hint\">Remember to backup your DNN first!</p>\r\n            </div>\r\n            <mat-dialog-actions align=\"end\">\r\n              <button mat-raised-button (click)=\"closeDialog()\">Cancel</button>\r\n              <button mat-raised-button color=\"accent\" [disabled]=\"!formValues.file || !formValues.file.name\"\r\n                (click)=\"evaluateContent()\">\r\n                Preview Import\r\n              </button>\r\n            </mat-dialog-actions>\r\n          </form>\r\n        }\r\n        <!-- END FORM -->\r\n        <!-- WAITING -->\r\n        @case (0) {\r\n          <div class=\"eav-dialog-content\">\r\n            <p>Please wait while processing...</p>\r\n          </div>\r\n        }\r\n        <!-- END WAITING -->\r\n        <!-- EVALUATION RESULT -->\r\n        @case (2) {\r\n          @if (vm.evaluationResult) {\r\n            <!-- DETAILS / STATISTICS -->\r\n            @if (vm.evaluationResult.Success) {\r\n              <div class=\"eav-dialog-content\">\r\n                <p class=\"eav-evaluation__title\">Try to import file '{{ formValues.file.name }}'</p>\r\n                <p class=\"eav-evaluation__title\">File contains:</p>\r\n                <ul class=\"eav-evaluation__content\">\r\n                  <li>{{ vm.evaluationResult.Detail.DocumentElementsCount }} content-items (records/entities)</li>\r\n                  <li>{{ vm.evaluationResult.Detail.LanguagesInDocumentCount }} languages</li>\r\n                  <li>{{ vm.evaluationResult.Detail.AttributeNamesInDocument.length }} columns:\r\n                  {{ vm.evaluationResult.Detail.AttributeNamesInDocument.join(', ') }}</li>\r\n                </ul>\r\n                <p class=\"eav-evaluation__title\">If you press Import, it will:</p>\r\n                <ul class=\"eav-evaluation__content\">\r\n                  <li>Create {{ vm.evaluationResult.Detail.AmountOfEntitiesCreated }} content-items</li>\r\n                  <li>Update {{ vm.evaluationResult.Detail.AmountOfEntitiesUpdated }} content-items</li>\r\n                  <li>Delete {{ vm.evaluationResult.Detail.AmountOfEntitiesDeleted }} content-items</li>\r\n                  <li>Ignore {{ vm.evaluationResult.Detail.AttributeNamesNotImported.length }} columns:\r\n                  {{ vm.evaluationResult.Detail.AttributeNamesNotImported.join(', ') }}</li>\r\n                </ul>\r\n                <p class=\"eav-hint\">Note: The import validates much data and may take several minutes.</p>\r\n              </div>\r\n            }\r\n            <!-- END DETAILS / STATISTICS -->\r\n            <!-- ERRORS -->\r\n            @if (!vm.evaluationResult.Success) {\r\n              <div class=\"eav-dialog-content\">\r\n                <p class=\"eav-evaluation__title\">Try to import file '{{ formValues.file.name }}'</p>\r\n                <ul class=\"eav-evaluation__content\">\r\n                  @for (error of vm.evaluationResult.Errors; track error) {\r\n                    <li>\r\n                      <div>{{ errors[error.ErrorCode] }}</div>\r\n                      @if (error.ErrorDetail) {\r\n                        <div><i>Details: {{ error.ErrorDetail }}</i></div>\r\n                      }\r\n                      @if (error.LineNumber) {\r\n                        <div><i>Line-no: {{ error.LineNumber }}</i></div>\r\n                      }\r\n                      @if (error.LineDetail) {\r\n                        <div><i>Line-details: {{ error.LineDetail }}</i></div>\r\n                      }\r\n                    </li>\r\n                  }\r\n                </ul>\r\n              </div>\r\n            }\r\n            <!-- END ERRORS -->\r\n            <mat-dialog-actions align=\"end\">\r\n              <button mat-raised-button (click)=\"back()\">Back</button>\r\n              <button mat-raised-button color=\"accent\" [disabled]=\"!vm.evaluationResult.Success\" (click)=\"importContent()\">\r\n                Import\r\n              </button>\r\n            </mat-dialog-actions>\r\n          }\r\n        }\r\n        <!-- END EVALUATION RESULT -->\r\n        <!-- IMPORT RESULT -->\r\n        @case (3) {\r\n          @if (vm.importResult) {\r\n            <div class=\"eav-dialog-content\">\r\n              @if (vm.importResult.Success) {\r\n                <p>Import done.</p>\r\n              }\r\n              @if (!vm.importResult.Success) {\r\n                <p>Import failed.</p>\r\n              }\r\n            </div>\r\n          }\r\n          <mat-dialog-actions align=\"end\">\r\n            <button mat-raised-button color=\"accent\" (click)=\"closeDialog()\">Close</button>\r\n          </mat-dialog-actions>\r\n        }\r\n        <!-- END IMPORT RESULT -->\r\n      }\r\n    }\r\n  </div>\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { from, map, switchMap } from 'rxjs';\r\nimport { webApiEntityRoot } from '../../edit/shared/services';\r\nimport { toBase64 } from '../../shared/helpers/file-to-base64.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { ContentImport, EvaluateContentResult, ImportContentRequest, ImportContentResult } from '../models/content-import.model';\r\n\r\n@Injectable()\r\nexport class ContentImportService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  evaluateContent(formValues: ContentImport) {\r\n    return from(toBase64(formValues.file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        const requestData: ImportContentRequest = {\r\n          AppId: this.context.appId.toString(),\r\n          DefaultLanguage: formValues.defaultLanguage,\r\n          ContentType: formValues.contentType,\r\n          ContentBase64: fileBase64,\r\n          ResourcesReferences: formValues.resourcesReferences,\r\n          ClearEntities: formValues.clearEntities,\r\n        };\r\n        return this.http.post<EvaluateContentResult>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'XmlPreview'), requestData).pipe(\r\n          map(result => {\r\n            if (!result.Success) {\r\n              result.Errors = result.Detail as any;\r\n              delete result.Detail;\r\n            }\r\n            return result;\r\n          }),\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  importContent(formValues: ContentImport) {\r\n    return from(toBase64(formValues.file)).pipe(\r\n      switchMap(fileBase64 => {\r\n        const requestData: ImportContentRequest = {\r\n          AppId: this.context.appId.toString(),\r\n          DefaultLanguage: formValues.defaultLanguage,\r\n          ContentType: formValues.contentType,\r\n          ContentBase64: fileBase64,\r\n          ResourcesReferences: formValues.resourcesReferences,\r\n          ClearEntities: formValues.clearEntities,\r\n        };\r\n        return this.http.post<ImportContentResult>(this.dnnContext.$2sxc.http.apiUrl(webApiEntityRoot + 'XmlUpload'), requestData);\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Directive, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseDirective implements OnDestroy {\r\n  /** Holds all subscriptions to be unsubscribed on destroy */\r\n  protected subscriptions = new Subscription();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostListener, Input, NgZone, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { fromEvent } from 'rxjs';\r\nimport { BaseDirective } from './base.directive';\r\n\r\n@Directive({ selector: '[appDragAndDrop]', standalone: true })\r\nexport class DragAndDropDirective extends BaseDirective implements OnInit, OnDestroy {\r\n  @Input() markStyle: 'outline' | 'fill' | 'shadow' = 'outline';\r\n  /** Comma separated file types, e.g. 'txt,doc,docx' */\r\n  @Input() allowedFileTypes = '';\r\n  @Output() private filesDropped = new EventEmitter<File[]>();\r\n\r\n  private element: HTMLElement;\r\n  private dropAreaClass = 'eav-droparea';\r\n  private markStyleClass: string;\r\n  private dragClass = 'eav-dragover';\r\n  private timeouts: number[] = [];\r\n\r\n  constructor(elementRef: ElementRef, private zone: NgZone, private snackBar: MatSnackBar) {\r\n    super();\r\n    this.element = elementRef.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.markStyleClass = `eav-droparea-${this.markStyle}`;\r\n    this.element.classList.add(this.dropAreaClass, this.markStyleClass);\r\n    this.zone.runOutsideAngular(() => {\r\n      this.subscriptions.add(\r\n        fromEvent<DragEvent>(this.element, 'dragover').subscribe(event => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.clearTimeouts();\r\n          this.element.classList.add(this.dragClass);\r\n        })\r\n      );\r\n      this.subscriptions.add(\r\n        fromEvent<DragEvent>(this.element, 'dragleave').subscribe(event => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.timeouts.push(\r\n            window.setTimeout(() => { this.element.classList.remove(this.dragClass); }, 50)\r\n          );\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.clearTimeouts();\r\n    this.element.classList.remove(this.dropAreaClass, this.markStyleClass, this.dragClass);\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  @HostListener('drop', ['$event'])\r\n  onDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.clearTimeouts();\r\n    this.element.classList.remove(this.dragClass);\r\n    const fileList = event.dataTransfer.files;\r\n    let files = Array.from(fileList);\r\n    files = this.filterTypes(files, this.allowedFileTypes);\r\n    if (files.length > 0) {\r\n      this.filesDropped.emit(files);\r\n    }\r\n  }\r\n\r\n  private clearTimeouts() {\r\n    for (const timeout of this.timeouts) {\r\n      clearTimeout(timeout);\r\n    }\r\n    this.timeouts = [];\r\n  }\r\n\r\n  private filterTypes(files: File[], allowedFileTypes: string) {\r\n    if (allowedFileTypes === '') { return files; }\r\n\r\n    const allowedTypes = allowedFileTypes.split(',').map(type => type.toLocaleLowerCase());\r\n    const filtered = files.filter(file => {\r\n      const extIndex = file.name.lastIndexOf('.');\r\n      if (extIndex <= 0) { return false; }\r\n      const ext = file.name.substring(extIndex + 1).toLocaleLowerCase();\r\n      const allowed = allowedTypes.includes(ext);\r\n      return allowed;\r\n    });\r\n\r\n    if (files.length !== filtered.length) {\r\n      const allowedTypesString = this.allowedFileTypes.replace(/\\,/g, ', ');\r\n      const message = filtered.length\r\n        ? 'Some files were filtered out. This drop location only accepts file types: ' + allowedTypesString\r\n        : 'This drop location only accepts file types: ' + allowedTypesString;\r\n      this.snackBar.open(message, null, { duration: 5000 });\r\n    }\r\n    return filtered;\r\n  }\r\n}\r\n","export function toBase64(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      resolve((reader.result as string).split(',')[1]);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n\r\nexport function toString(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n    reader.onload = () => {\r\n      resolve(reader.result as string);\r\n    };\r\n    reader.onerror = error => {\r\n      reject(error);\r\n    };\r\n  });\r\n}\r\n"],"names":["HttpClient","map","shareReplay","tap","GlobalConfigService","Context","FeaturesService","ServiceBase","EavLogger","logThis","webApiSettings","AppDialogConfigService","constructor","http","context","globalConfigService","featuresService","dialogSettings$","log","a","svcId","loadFromService","ngOnDestroy","destroy","getCurrent$","appId","getShared$","getSitePrimaryApp$","pipe","dc","Site","PrimaryApp","getGlobalPrimaryApp$","System","getDialogSettings","refCount","reqBy","get","params","toString","dlgSettings","Language","List","filter","language","IsEnabled","allowDebug","Enable","DebugMode","_","i0","ɵɵinject","i1","i2","i3","i4","_2","factory","ɵfac","DnnContext","webApiTypeRoot","webApiTypeGet","webApiTypes","webApiTypeScopes","webApiTypeSave","webApiTypeDelete","webApiTypeImport","webApiTypeAddGhost","ContentTypesService","dnnContext","apiUrl","name","$2sxc","retrieveContentType","staticName","contentTypeId","retrieveContentTypes","scope","getScopes","scopesData","scopes","old","scopeOptions","Object","keys","key","value","getScopesV2","save","contentType","post","appid","delete","StaticName","import","files","formData","FormData","file","append","zoneId","createGhost","sourceStaticName","MatDialogRef","MAT_DIALOG_DATA","MatDialogActions","ActivatedRoute","BehaviorSubject","combineLatest","forkJoin","ContentImportService","AsyncPipe","MatRadioModule","MatButtonModule","FormsModule","DragAndDropDirective","ɵɵelementStart","ɵɵlistener","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_button_click_4_listener","ɵɵrestoreView","_r3","fileInput_r4","ɵɵreference","ɵɵresetView","click","ɵɵtext","ɵɵelementEnd","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_input_change_7_listener","$event","ctx_r1","ɵɵnextContext","fileChange","ɵɵtwoWayListener","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_mat_radio_group_ngModelChange_12_listener","ɵɵtwoWayBindingSet","formValues","resourcesReferences","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_mat_radio_group_ngModelChange_20_listener","clearEntities","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_button_click_28_listener","closeDialog","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template_button_click_30_listener","evaluateContent","ɵɵadvance","ɵɵtextInterpolate","ɵɵtwoWayProperty","ɵɵproperty","ɵɵtextInterpolate1","vm_r6","evaluationResult","Detail","DocumentElementsCount","LanguagesInDocumentCount","ɵɵtextInterpolate2","AttributeNamesInDocument","length","join","AmountOfEntitiesCreated","AmountOfEntitiesUpdated","AmountOfEntitiesDeleted","AttributeNamesNotImported","error_r7","ErrorDetail","LineNumber","LineDetail","ɵɵtemplate","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_1_For_5_Conditional_3_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_1_For_5_Conditional_4_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_1_For_5_Conditional_5_Template","errors","ErrorCode","ɵɵconditional","ɵɵrepeaterCreate","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_1_For_5_Template","ɵɵrepeaterTrackByIdentity","ɵɵrepeater","Errors","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_0_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Conditional_1_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Template_button_click_3_listener","_r5","back","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Template_button_click_5_listener","importContent","Success","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Conditional_0_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_3_Conditional_0_Conditional_1_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_3_Conditional_0_Conditional_2_Template","importResult","ContentImportComponent_Conditional_0_Conditional_10_Case_3_Conditional_0_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_3_Template_button_click_2_listener","_r8","ContentImportComponent_Conditional_0_Conditional_10_Case_0_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_1_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_2_Template","ContentImportComponent_Conditional_0_Conditional_10_Case_3_Template","tmp_3_0","viewStateSelected","ContentImportComponent_Conditional_0_Template_div_filesDropped_0_listener","_r1","filesDropped","ContentImportComponent_Conditional_0_Conditional_10_Template","Name","ContentImportComponent","dialogData","dialogRef","route","contentImportService","appDialogConfigService","contentTypesService","hostClass","contentType$","loading$","viewStates","waiting","default","evaluated","imported","viewStateSelected$","evaluationResult$","importResult$","viewModel$","loading","contentTypeStaticName","snapshot","paramMap","ngOnInit","next","subscribe","dialogSettings","defaultLanguage","Primary","complete","close","result","event","target","importFile","ɵɵdirectiveInject","i5","selectors","hostVars","hostBindings","ContentImportComponent_HostBindings","rf","ctx","ɵɵhostProperty","ɵɵStandaloneFeature","decls","vars","consts","template","ContentImportComponent_Template","ContentImportComponent_Conditional_0_Template","tmp_0_0","ɵɵpipeBind1","i6","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","NgModel","NgForm","i7","MatButton","i8","MatRadioGroup","MatRadioButton","styles","from","switchMap","webApiEntityRoot","toBase64","fileBase64","requestData","AppId","DefaultLanguage","ContentType","ContentBase64","ResourcesReferences","ClearEntities","Subscription","BaseDirective","subscriptions","unsubscribe","ElementRef","EventEmitter","NgZone","MatSnackBar","fromEvent","elementRef","zone","snackBar","markStyle","allowedFileTypes","dropAreaClass","dragClass","timeouts","element","nativeElement","markStyleClass","classList","add","runOutsideAngular","preventDefault","stopPropagation","clearTimeouts","push","window","setTimeout","remove","onDrop","fileList","dataTransfer","Array","filterTypes","emit","timeout","clearTimeout","allowedTypes","split","type","toLocaleLowerCase","filtered","extIndex","lastIndexOf","ext","substring","allowed","includes","allowedTypesString","replace","message","open","duration","DragAndDropDirective_HostBindings","DragAndDropDirective_drop_HostBindingHandler","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","error","readAsText"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}
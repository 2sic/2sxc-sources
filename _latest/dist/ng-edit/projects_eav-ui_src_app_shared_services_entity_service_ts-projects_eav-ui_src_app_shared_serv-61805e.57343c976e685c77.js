"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-61805e"],{4839:(m,_,t)=>{t.d(_,{c:()=>h});var u=t(4435),c=t(8873),r=t(1659),e=t(6443);const P={all:!1,getAvailableEntities:!1,getEntities:!1};let h=(()=>{class o{constructor(a,s){this.http=a,this.context=s,this.log=(0,u.Tq)({QueryService:o},P)}getFromQuery(a,s,E,d){this.log.fnIf("getAvailableEntities",{queryUrl:a,params:s,fields:E,entitiesFilter:d});const v=!!s,n=(((s?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(v?`&${s}`:"")+"&$select="+(E??"")).substring(1);return this.http.post(`app/auto/query/${a}?${n}`,{Guids:d})}getEntities({contentTypes:a,itemIds:s,fields:E,log:d}){this.log.fnIf("getEntities",{log:d,contentTypes:a,itemIds:s,fields:E});const i=("&typeNames="+(a?.join(",")??"")+`&appId=${this.context.appId}&itemIds=`+(s?.join(",")??"")+"&$select="+(E??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${i}`,{})}static{this.\u0275fac=function(s){return new(s||o)(r.KVO(e.Qq),r.KVO(c.o))}}static{this.\u0275prov=r.jDH({token:o,factory:o.\u0275fac})}}return o})()},4979:(m,_,t)=>{t.d(_,{V:()=>r});var u=t(7092),c=t(1659);let r=(()=>{class e{constructor(){this.subscriptions=new u.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=c.jDH({token:e,factory:e.\u0275fac})}}return e})()},5932:(m,_,t)=>{t.r(_),t.d(_,{visualQueryRoutes:()=>r});var u=t(4079),c=t(1195);const r=[{path:"",loadComponent:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_input_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),t.e("default-projects_eav-ui_src_app_shared_components_field-hint_field-hint_component_ts-projects-4b7e0b"),t.e("common"),t.e("projects_eav-ui_src_app_visual-query_visual-query_component_ts-node_modules_lodash-es__arrayE-ac6327")]).then(t.bind(t,3717)).then(e=>e.VisualQueryComponent),children:[u.N5.route,...c.Ed]}]},9234:(m,_,t)=>{t.d(_,{Gg:()=>d,Tr:()=>v,gb:()=>E});var u=t(1567),c=t(6647),r=t(6301),e=t(271),P=t(2938),h=t(4435),o=t(6474),O=t(4839),a=t(1659);const s={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},E="admin/entity/",d="admin/entity/list";let v=(()=>{class i extends o.D{constructor(){super(...arguments),this.log=(0,h.Tq)({EntityService:i},s),this.queryService=(0,P.d)(O.c)}getEntities$(l){return this.log.fnIf("getEntities"),l.pipe((0,u.p)(n=>null!=n),(0,c.n)(n=>this.getAvailableEntities(n.contentTypeName).pipe((0,r.t)(1))))}getAvailableEntities(l,n){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[l],itemIds:n,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,e.T)(f=>f.Default))}delete(l,n,g,f,p,D){return this.log.fnIf("delete",{appId:l,contentType:n,entityId:g,force:f,parentId:p,parent}),this.http.delete(this.apiUrl(E+"delete"),{params:{contentType:n,id:g.toString(),appId:l,force:f.toString(),...p&&{parentId:p.toString()},...p&&D&&{parentField:D}}})}static{this.\u0275fac=(()=>{let l;return function(g){return(l||(l=a.xGo(i)))(g||i)}})()}static{this.\u0275prov=a.jDH({token:i,factory:i.\u0275fac})}}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.04/dist/ng-edit/projects_eav-ui_src_app_shared_services_entity_service_ts-projects_eav-ui_src_app_shared_serv-61805e.57343c976e685c77.js.map
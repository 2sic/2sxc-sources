{"version":3,"sources":["./projects/edit/refresh-edit.module.ts"],"names":["router","route","params","snapshot","oldEditUrl","items","newEditUrl","currentUrl","calculatePathFromRoot","lastIndex","lastIndexOf","newUrl","substring","replace","navigate","RefreshEditComponent","editRefreshRoutes","path","component","data","title","RefreshEditModule","forChild"],"mappings":"4FAEA,kJAKA,aAKE,WAAYA,EAAgBC,GAC1B,IAAMC,EAASD,EAAME,SAASD,OACxBE,EAAa,gBAAgBF,EAAOG,MACpCC,EAAa,QAAQJ,EAAOG,MAE5BE,EAAa,IAAWC,sBAAsBP,GAC9CQ,EAAYF,EAAWG,YAAYN,GACzC,KAAIK,GAAa,GAAjB,CACA,IAAME,EAASJ,EAAWK,UAAU,EAAGH,GAAaF,EAAWK,UAAUH,GAAWI,QAAQT,EAAYE,GACxGN,EAAOc,SAAS,CAACH,K,6CAVRI,GAAoB,sB,uBAApBA,EAAoB,yG,EAJjC,GAkBMC,EAA4B,CAChC,CACEC,KAAM,GAAIC,UAAWH,EAAsBI,KAAM,CAAEC,MAAO,4BAI9D,2B,6CAWaC,I,uBAAAA,I,2BAJF,CACP,IAAaC,SAASN,O,EAR1B","file":"refresh-edit-module.967026c0f0a293aa177c.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { EditParams } from './edit-matcher.models';\r\nimport { UrlHelpers } from './shared/helpers';\r\n\r\n@Component({\r\n  template: '',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class RefreshEditComponent {\r\n  constructor(router: Router, route: ActivatedRoute) {\r\n    const params = route.snapshot.params as EditParams;\r\n    const oldEditUrl = `edit/refresh/${params.items}`;\r\n    const newEditUrl = `edit/${params.items}`;\r\n\r\n    const currentUrl = UrlHelpers.calculatePathFromRoot(route);\r\n    const lastIndex = currentUrl.lastIndexOf(oldEditUrl);\r\n    if (lastIndex <= 0) { return; }\r\n    const newUrl = currentUrl.substring(0, lastIndex) + currentUrl.substring(lastIndex).replace(oldEditUrl, newEditUrl);\r\n    router.navigate([newUrl]);\r\n  }\r\n}\r\n\r\nconst editRefreshRoutes: Routes = [\r\n  {\r\n    path: '', component: RefreshEditComponent, data: { title: 'Refreshing Edit Dialog' }\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    RefreshEditComponent,\r\n  ],\r\n  entryComponents: [\r\n    RefreshEditComponent,\r\n  ],\r\n  imports: [\r\n    RouterModule.forChild(editRefreshRoutes),\r\n  ],\r\n})\r\nexport class RefreshEditModule { }\r\n"],"sourceRoot":"webpack:///"}
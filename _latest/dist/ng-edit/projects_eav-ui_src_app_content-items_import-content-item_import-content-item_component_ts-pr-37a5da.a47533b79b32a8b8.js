"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-37a5da"],{7693:(S,g,e)=>{e.d(g,{X:()=>d,g:()=>i});var u=e(271),E=e(8873),h=e(8559),c=e(6443),l=e(4821);const d="admin/type/",a="admin/type/scopes";let i=(()=>{class n{constructor(p,r,o){this.http=p,this.context=r,this.dnnContext=o}apiUrl(p){return this.dnnContext.$2sxc.http.apiUrl(p)}retrieveContentType(p){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:p}})}retrieveContentTypes(p){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:p}})}getScopes(){return this.http.get(this.apiUrl(a),{params:{appId:this.context.appId.toString()}}).pipe((0,u.T)(p=>{const r=p.old;return Object.keys(r).map(T=>({name:r[T],value:T}))}))}getScopesV2(){return this.http.get(this.apiUrl(a),{params:{appId:this.context.appId.toString()}}).pipe((0,u.T)(p=>p.scopes))}save(p){return this.http.post(this.apiUrl("admin/type/save"),p,{params:{appid:this.context.appId.toString()}})}delete(p){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:p.StaticName}})}import(p){const r=new FormData;for(const o of p)r.append("File",o);return this.http.post(this.apiUrl("admin/type/import"),r,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(p){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:p}})}static#t=this.\u0275fac=function(r){return new(r||n)(h.KVO(c.Qq),h.KVO(E.o),h.KVO(l.ob))};static#e=this.\u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})()},6754:(S,g,e)=>{e.r(g),e.d(g,{ImportContentItemComponent:()=>d});var u=e(7941),E=e(3550),h=e(336),c=e(5437),l=e(8559);let d=(()=>{class s{constructor(a){this.uploadType=E.HL.ContentItem,this.contentItemsService=(0,c.d)(h.F),a.title??="Import Single Item",a.description??="Select an item file (json) from your computer to import.",a.allowedFileTypes??="json",a.upload$??=m=>this.contentItemsService.importItem(m[0])}static#t=this.\u0275fac=function(m){return new(m||s)(l.rXU(u.Vh))};static#e=this.\u0275cmp=l.VBU({type:s,selectors:[["app-import-content-item"]],standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(m,I){1&m&&l.nrm(0,"app-file-upload-dialog",0),2&m&&l.Y8G("uploadType",I.uploadType)},dependencies:[E.jj]})}return s})()},3051:(S,g,e)=>{e.d(g,{h6:()=>m,zZ:()=>y});var u=e(271),E=e(7693),h=e(8873),c=e(8559),l=e(6443),d=e(4821);const s="admin/field/",y="admin/field/all",a="admin/field/GetSharedFields";let m=(()=>{class I{constructor(t,i,n){this.http=t,this.context=i,this.dnnContext=n}apiUrl(t){return this.dnnContext.$2sxc.http.apiUrl(t)}typeListRetrieve(){return this.http.get(this.apiUrl(s+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(s+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,u.T)(t=>t.map(n=>({dataType:n.Type.substring(0,n.Type.indexOf("-")),inputType:n.Type,label:n.Label,description:n.Description,isDefault:n.IsDefault,isObsolete:n.IsObsolete,isRecommended:n.IsRecommended,obsoleteMessage:n.ObsoleteMessage,icon:n.IsDefault?"star":n.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(s+"ReservedNames"))}getFields(t){return this.http.get(this.apiUrl(y),{params:{appid:this.context.appId.toString(),staticName:t}}).pipe((0,u.T)(i=>{if(i)for(const n of i){if(!n.Metadata)continue;const _=n.Metadata;_.merged={..._.All,..._[n.Type],..._[n.InputType]}}return i}))}getShareableFields(){return this.http.get(this.apiUrl(a),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(t){return this.http.get(this.apiUrl(a),{params:{appid:this.context.appId.toString(),attributeId:t.toString()}})}addInheritedField(t,i,n,_){return this.http.post(this.apiUrl(s+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:t.toString(),SourceType:i,SourceField:n,name:_}})}share(t,i=!0){return this.http.post(this.apiUrl(s+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),share:i}})}inherit(t,i){return this.http.post(this.apiUrl(s+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:t.toString(),inheritMetadataOf:i}})}reOrder(t,i){return this.http.post(this.apiUrl(s+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:i.Id.toString(),order:JSON.stringify(t)}})}setTitle(t,i){return this.http.post(this.apiUrl(E.X+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:i.Id.toString(),attributeId:t.Id.toString()}})}rename(t,i,n){return this.http.post(this.apiUrl(s+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:i.toString(),attributeId:t.toString(),newName:n}})}delete(t,i){if(t.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(s+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:i.Id.toString(),attributeId:t.Id.toString()}})}add(t,i){return this.http.post(this.apiUrl(s+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:i.toString(),Id:t.Id.toString(),Type:t.Type,InputType:t.InputType,StaticName:t.StaticName,IsTitle:t.IsTitle.toString(),Index:t.SortOrder.toString()}})}updateInputType(t,i,n){return this.http.post(this.apiUrl(s+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:t.toString(),field:i,inputType:n}})}static#t=this.\u0275fac=function(i){return new(i||I)(c.KVO(l.Qq),c.KVO(h.o),c.KVO(d.ob))};static#e=this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac})}return I})()},693:(S,g,e)=>{function u(h){return new Promise((c,l)=>{const d=new FileReader;d.readAsDataURL(h),d.onload=()=>{c(d.result.split(",")[1])},d.onerror=s=>{l(s)}})}function E(h){return new Promise((c,l)=>{const d=new FileReader;d.readAsText(h),d.onload=()=>{c(d.result)},d.onerror=s=>{l(s)}})}e.d(g,{d:()=>E,n:()=>u})},9234:(S,g,e)=>{e.d(g,{Gg:()=>i,Tr:()=>n,gb:()=>t});var u=e(1567),E=e(6647),h=e(6301),c=e(271),l=e(4979),d=e(3472),s=e(4839),y=e(1736),a=e(8559),m=e(6443),I=e(4821);const t="admin/entity/",i="admin/entity/list";let n=(()=>{class _ extends l.V{constructor(r,o,T,O){super(new d.B("EntityService",!1)),this.http=r,this.formConfig=o,this.dnnContext=T,this.queryService=O}getEntities$(r){return r.pipe((0,u.p)(o=>null!=o),(0,E.n)(o=>this.getAvailableEntities(o.contentTypeName).pipe((0,h.t)(1))))}getAvailableEntities(r,o){var T=this.log.rxTap("getEntities",{enabled:!0});return this.queryService.getEntities({contentTypes:[r],itemIds:o,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe(T.pipe(),(0,c.T)(O=>O.Default))}delete(r,o,T,O,v){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl(t+"delete"),{params:{contentType:r,id:o.toString(),appId:this.formConfig.config.appId,force:T.toString(),...O&&{parentId:O.toString()},...O&&v&&{parentField:v}}})}static#t=this.\u0275fac=function(o){return new(o||_)(a.KVO(m.Qq),a.KVO(y.S),a.KVO(I.ob),a.KVO(s.c))};static#e=this.\u0275prov=a.jDH({token:_,factory:_.\u0275fac})}return _})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_content-items_import-content-item_import-content-item_component_ts-pr-37a5da.a47533b79b32a8b8.js.map
/*! For license information please see inpage.min.js.LICENSE.txt */
var $2sxcInpage;(()=>{var t,e,n={"./node_modules/@popperjs/core/lib/createPopper.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{createPopper:()=>x,detectOverflow:()=>m.default,popperGenerator:()=>w});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),c=n("./node_modules/@popperjs/core/lib/utils/orderModifiers.js"),l=n("./node_modules/@popperjs/core/lib/utils/debounce.js"),u=n("./node_modules/@popperjs/core/lib/utils/validateModifiers.js"),d=n("./node_modules/@popperjs/core/lib/utils/uniqueBy.js"),p=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),f=n("./node_modules/@popperjs/core/lib/utils/mergeByName.js"),m=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),h=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),g=n("./node_modules/@popperjs/core/lib/enums.js"),b="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",v={placement:"bottom",modifiers:[],strategy:"absolute"};function y(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function w(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,m=void 0===n?[]:n,w=e.defaultOptions,x=void 0===w?v:w;return function(t,e,n){void 0===n&&(n=x);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},v,x),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},O=[],C=!1,j={state:w,setOptions:function(n){var o="function"==typeof n?n(w.options):n;k(),w.options=Object.assign({},x,w.options,o),w.scrollParents={reference:(0,h.isElement)(t)?(0,i.default)(t):t.contextElement?(0,i.default)(t.contextElement):[],popper:(0,i.default)(e)};var r=(0,c.default)((0,f.default)([].concat(m,w.options.modifiers)));w.orderedModifiers=r.filter((function(t){return t.enabled}));var s=(0,d.default)([].concat(r,w.options.modifiers),(function(t){return t.name}));(0,u.default)(s),(0,p.default)(w.options.placement)===g.auto&&(w.orderedModifiers.find((function(t){return"flip"===t.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var l=(0,a.default)(e);return[l.marginTop,l.marginRight,l.marginBottom,l.marginLeft].some((function(t){return parseFloat(t)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),w.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var i=r({state:w,name:e,instance:j,options:o});O.push(i||function(){})}})),j.update()},forceUpdate:function(){if(!C){var t=w.elements,e=t.reference,n=t.popper;if(y(e,n)){w.rects={reference:(0,o.default)(e,(0,s.default)(n),"fixed"===w.options.strategy),popper:(0,r.default)(n)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach((function(t){return w.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0,a=0;a<w.orderedModifiers.length;a++){if((i+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==w.reset){var c=w.orderedModifiers[a],l=c.fn,u=c.options,d=void 0===u?{}:u,p=c.name;"function"==typeof l&&(w=l({state:w,options:d,name:p,instance:j})||w)}else w.reset=!1,a=-1}}else console.error(b)}},update:(0,l.default)((function(){return new Promise((function(t){j.forceUpdate(),t(w)}))})),destroy:function(){k(),C=!0}};if(!y(t,e))return console.error(b),j;function k(){O.forEach((function(t){return t()})),O=[]}return j.setOptions(n).then((function(t){!C&&n.onFirstUpdate&&n.onFirstUpdate(t)})),j}}var x=w()},"./node_modules/@popperjs/core/lib/dom-utils/contains.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function r(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&(0,o.isShadowRoot)(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),r=n("./node_modules/@popperjs/core/lib/utils/math.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");function a(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var a=t.getBoundingClientRect(),c=1,l=1;e&&(0,o.isHTMLElement)(t)&&(c=t.offsetWidth>0&&(0,r.round)(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&(0,r.round)(a.height)/t.offsetHeight||1);var u=((0,o.isElement)(t)?(0,i.default)(t):window).visualViewport,d=!(0,s.default)()&&n,p=(a.left+(d&&u?u.offsetLeft:0))/c,f=(a.top+(d&&u?u.offsetTop:0))/l,m=a.width/c,h=a.height/l;return{width:m,height:h,top:f,right:p+m,bottom:f+h,left:p,x:p,y:f}}},"./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>v});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),u=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),d=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),p=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),f=n("./node_modules/@popperjs/core/lib/dom-utils/contains.js"),m=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),h=n("./node_modules/@popperjs/core/lib/utils/rectToClientRect.js"),g=n("./node_modules/@popperjs/core/lib/utils/math.js");function b(t,e,n){return e===o.viewport?(0,h.default)((0,r.default)(t,n)):(0,u.isElement)(e)?function(t,e){var n=(0,d.default)(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):(0,h.default)((0,i.default)((0,c.default)(t)))}function v(t,e,n,o){var r="clippingParents"===e?function(t){var e=(0,s.default)((0,p.default)(t)),n=["absolute","fixed"].indexOf((0,l.default)(t).position)>=0&&(0,u.isHTMLElement)(t)?(0,a.default)(t):t;return(0,u.isElement)(n)?e.filter((function(t){return(0,u.isElement)(t)&&(0,f.default)(t,n)&&"body"!==(0,m.default)(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),c=i[0],d=i.reduce((function(e,n){var r=b(t,n,o);return e.top=(0,g.max)(r.top,e.top),e.right=(0,g.min)(r.right,e.right),e.bottom=(0,g.min)(r.bottom,e.bottom),e.left=(0,g.max)(r.left,e.left),e}),b(t,c,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}},"./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js"),u=n("./node_modules/@popperjs/core/lib/utils/math.js");function d(t,e,n){void 0===n&&(n=!1);var d=(0,s.isHTMLElement)(e),p=(0,s.isHTMLElement)(e)&&function(t){var e=t.getBoundingClientRect(),n=(0,u.round)(e.width)/t.offsetWidth||1,o=(0,u.round)(e.height)/t.offsetHeight||1;return 1!==n||1!==o}(e),f=(0,c.default)(e),m=(0,o.default)(t,p,n),h={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(d||!d&&!n)&&(("body"!==(0,i.default)(e)||(0,l.default)(f))&&(h=(0,r.default)(e)),(0,s.isHTMLElement)(e)?((g=(0,o.default)(e,!0)).x+=e.clientLeft,g.y+=e.clientTop):f&&(g.x=(0,a.default)(f))),{x:m.left+h.scrollLeft-g.x,y:m.top+h.scrollTop-g.y,width:m.width,height:m.height}}},"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(t){return(0,o.default)(t).getComputedStyle(t)}},"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function r(t){return(((0,o.isElement)(t)?t.ownerDocument:t.document)||window.document).documentElement}},"./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js"),a=n("./node_modules/@popperjs/core/lib/utils/math.js");function c(t){var e,n=(0,o.default)(t),c=(0,s.default)(t),l=null==(e=t.ownerDocument)?void 0:e.body,u=(0,a.max)(n.scrollWidth,n.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=(0,a.max)(n.scrollHeight,n.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-c.scrollLeft+(0,i.default)(t),f=-c.scrollTop;return"rtl"===(0,r.default)(l||n).direction&&(p+=(0,a.max)(n.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:p,y:f}}},"./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js":(t,e,n)=>{"use strict";function o(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");function r(t){var e=(0,o.default)(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}},"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js":(t,e,n)=>{"use strict";function o(t){return t?(t.nodeName||"").toLowerCase():null}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js");function a(t){return t!==(0,r.default)(t)&&(0,i.isHTMLElement)(t)?(0,s.default)(t):(0,o.default)(t)}},"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),l=n("./node_modules/@popperjs/core/lib/utils/userAgent.js");function u(t){return(0,s.isHTMLElement)(t)&&"fixed"!==(0,i.default)(t).position?t.offsetParent:null}function d(t){for(var e=(0,o.default)(t),n=u(t);n&&(0,a.default)(n)&&"static"===(0,i.default)(n).position;)n=u(n);return n&&("html"===(0,r.default)(n)||"body"===(0,r.default)(n)&&"static"===(0,i.default)(n).position)?e:n||function(t){var e=/firefox/i.test((0,l.default)());if(/Trident/i.test((0,l.default)())&&(0,s.isHTMLElement)(t)&&"fixed"===(0,i.default)(t).position)return null;var n=(0,c.default)(t);for((0,s.isShadowRoot)(n)&&(n=n.host);(0,s.isHTMLElement)(n)&&["html","body"].indexOf((0,r.default)(n))<0;){var o=(0,i.default)(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}},"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function s(t){return"html"===(0,o.default)(t)?t:t.assignedSlot||t.parentNode||((0,i.isShadowRoot)(t)?t.host:null)||(0,r.default)(t)}},"./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function a(t){return["html","body","#document"].indexOf((0,i.default)(t))>=0?t.ownerDocument.body:(0,s.isHTMLElement)(t)&&(0,r.default)(t)?t:a((0,o.default)(t))}},"./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");function a(t,e){var n=(0,o.default)(t),a=(0,r.default)(t),c=n.visualViewport,l=a.clientWidth,u=a.clientHeight,d=0,p=0;if(c){l=c.width,u=c.height;var f=(0,s.default)();(f||!f&&"fixed"===e)&&(d=c.offsetLeft,p=c.offsetTop)}return{width:l,height:u,x:d+(0,i.default)(t),y:p}}},"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js":(t,e,n)=>{"use strict";function o(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(t){var e=(0,o.default)(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}},"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js");function s(t){return(0,o.default)((0,r.default)(t)).left+(0,i.default)(t).scrollLeft}},"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{isElement:()=>r,isHTMLElement:()=>i,isShadowRoot:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(t){return t instanceof(0,o.default)(t).Element||t instanceof Element}function i(t){return t instanceof(0,o.default)(t).HTMLElement||t instanceof HTMLElement}function s(t){return"undefined"!=typeof ShadowRoot&&(t instanceof(0,o.default)(t).ShadowRoot||t instanceof ShadowRoot)}},"./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/userAgent.js");function r(){return!/^((?!chrome|android).)*safari/i.test((0,o.default)())}},"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");function r(t){var e=(0,o.default)(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}},"./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");function r(t){return["table","td","th"].indexOf((0,o.default)(t))>=0}},"./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js");function a(t,e){var n;void 0===e&&(e=[]);var c=(0,o.default)(t),l=c===(null==(n=t.ownerDocument)?void 0:n.body),u=(0,i.default)(c),d=l?[u].concat(u.visualViewport||[],(0,s.default)(c)?c:[]):c,p=e.concat(d);return l?p:p.concat(a((0,r.default)(d)))}},"./node_modules/@popperjs/core/lib/enums.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{afterMain:()=>O,afterRead:()=>y,afterWrite:()=>k,auto:()=>a,basePlacements:()=>c,beforeMain:()=>w,beforeRead:()=>b,beforeWrite:()=>C,bottom:()=>r,clippingParents:()=>d,end:()=>u,left:()=>s,main:()=>x,modifierPhases:()=>T,placements:()=>g,popper:()=>f,read:()=>v,reference:()=>m,right:()=>i,start:()=>l,top:()=>o,variationPlacements:()=>h,viewport:()=>p,write:()=>j});var o="top",r="bottom",i="right",s="left",a="auto",c=[o,r,i,s],l="start",u="end",d="clippingParents",p="viewport",f="popper",m="reference",h=c.reduce((function(t,e){return t.concat([e+"-"+l,e+"-"+u])}),[]),g=[].concat(c,[a]).reduce((function(t,e){return t.concat([e,e+"-"+l,e+"-"+u])}),[]),b="beforeRead",v="read",y="afterRead",w="beforeMain",x="main",O="afterMain",C="beforeWrite",j="write",k="afterWrite",T=[b,v,y,w,x,O,C,j,k]},"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");const i={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];(0,r.isHTMLElement)(s)&&(0,o.default)(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],s=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});(0,r.isHTMLElement)(i)&&(0,o.default)(i)&&(Object.assign(i.style,a),Object.keys(s).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]}},"./node_modules/@popperjs/core/lib/modifiers/arrow.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/contains.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),a=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),c=n("./node_modules/@popperjs/core/lib/utils/within.js"),l=n("./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js"),u=n("./node_modules/@popperjs/core/lib/utils/expandToHashMap.js"),d=n("./node_modules/@popperjs/core/lib/enums.js"),p=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");const f={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,p=t.options,f=n.elements.arrow,m=n.modifiersData.popperOffsets,h=(0,o.default)(n.placement),g=(0,a.default)(h),b=[d.left,d.right].indexOf(h)>=0?"height":"width";if(f&&m){var v=function(t,e){return t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,(0,l.default)("number"!=typeof t?t:(0,u.default)(t,d.basePlacements))}(p.padding,n),y=(0,r.default)(f),w="y"===g?d.top:d.left,x="y"===g?d.bottom:d.right,O=n.rects.reference[b]+n.rects.reference[g]-m[g]-n.rects.popper[b],C=m[g]-n.rects.reference[g],j=(0,s.default)(f),k=j?"y"===g?j.clientHeight||0:j.clientWidth||0:0,T=O/2-C/2,_=v[w],S=k-y[b]-v[x],A=k/2-y[b]/2+T,P=(0,c.within)(_,A,S),L=g;n.modifiersData[i]=((e={})[L]=P,e.centerOffset=P-A,e)}},effect:function(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&((0,p.isHTMLElement)(o)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),(0,i.default)(e.elements.popper,o)?e.elements.arrow=o:console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f,mapToStyles:()=>p});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),c=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),l=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),u=n("./node_modules/@popperjs/core/lib/utils/math.js"),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function p(t){var e,n=t.popper,c=t.popperRect,l=t.placement,p=t.variation,f=t.offsets,m=t.position,h=t.gpuAcceleration,g=t.adaptive,b=t.roundOffsets,v=t.isFixed,y=f.x,w=void 0===y?0:y,x=f.y,O=void 0===x?0:x,C="function"==typeof b?b({x:w,y:O}):{x:w,y:O};w=C.x,O=C.y;var j=f.hasOwnProperty("x"),k=f.hasOwnProperty("y"),T=o.left,_=o.top,S=window;if(g){var A=(0,r.default)(n),P="clientHeight",L="clientWidth";A===(0,i.default)(n)&&(A=(0,s.default)(n),"static"!==(0,a.default)(A).position&&"absolute"===m&&(P="scrollHeight",L="scrollWidth")),(l===o.top||(l===o.left||l===o.right)&&p===o.end)&&(_=o.bottom,O-=(v&&A===S&&S.visualViewport?S.visualViewport.height:A[P])-c.height,O*=h?1:-1),l!==o.left&&(l!==o.top&&l!==o.bottom||p!==o.end)||(T=o.right,w-=(v&&A===S&&S.visualViewport?S.visualViewport.width:A[L])-c.width,w*=h?1:-1)}var E,I=Object.assign({position:m},g&&d),M=!0===b?function(t){var e=t.x,n=t.y,o=window.devicePixelRatio||1;return{x:(0,u.round)(e*o)/o||0,y:(0,u.round)(n*o)/o||0}}({x:w,y:O}):{x:w,y:O};return w=M.x,O=M.y,h?Object.assign({},I,((E={})[_]=k?"0":"",E[T]=j?"0":"",E.transform=(S.devicePixelRatio||1)<=1?"translate("+w+"px, "+O+"px)":"translate3d("+w+"px, "+O+"px, 0)",E)):Object.assign({},I,((e={})[_]=k?O+"px":"",e[T]=j?w+"px":"",e.transform="",e))}const f={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,u=n.roundOffsets,d=void 0===u||u,f=(0,a.default)(e.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some((function(t){return f.indexOf(t)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var m={placement:(0,c.default)(e.placement),variation:(0,l.default)(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,p(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:d})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,p(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r={passive:!0};const i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,a=void 0===s||s,c=i.resize,l=void 0===c||c,u=(0,o.default)(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach((function(t){t.addEventListener("scroll",n.update,r)})),l&&u.addEventListener("resize",n.update,r),function(){a&&d.forEach((function(t){t.removeEventListener("scroll",n.update,r)})),l&&u.removeEventListener("resize",n.update,r)}},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/flip.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var o=n("./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js"),r=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),i=n("./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js"),s=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),a=n("./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js"),c=n("./node_modules/@popperjs/core/lib/enums.js"),l=n("./node_modules/@popperjs/core/lib/utils/getVariation.js");const u={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,u=t.name;if(!e.modifiersData[u]._skip){for(var d=n.mainAxis,p=void 0===d||d,f=n.altAxis,m=void 0===f||f,h=n.fallbackPlacements,g=n.padding,b=n.boundary,v=n.rootBoundary,y=n.altBoundary,w=n.flipVariations,x=void 0===w||w,O=n.allowedAutoPlacements,C=e.options.placement,j=(0,r.default)(C),k=h||(j!==C&&x?function(t){if((0,r.default)(t)===c.auto)return[];var e=(0,o.default)(t);return[(0,i.default)(t),e,(0,i.default)(e)]}(C):[(0,o.default)(C)]),T=[C].concat(k).reduce((function(t,n){return t.concat((0,r.default)(n)===c.auto?(0,a.default)(e,{placement:n,boundary:b,rootBoundary:v,padding:g,flipVariations:x,allowedAutoPlacements:O}):n)}),[]),_=e.rects.reference,S=e.rects.popper,A=new Map,P=!0,L=T[0],E=0;E<T.length;E++){var I=T[E],M=(0,r.default)(I),D=(0,l.default)(I)===c.start,R=[c.top,c.bottom].indexOf(M)>=0,B=R?"width":"height",N=(0,s.default)(e,{placement:I,boundary:b,rootBoundary:v,altBoundary:y,padding:g}),H=R?D?c.right:c.left:D?c.bottom:c.top;_[B]>S[B]&&(H=(0,o.default)(H));var q=(0,o.default)(H),F=[];if(p&&F.push(N[M]<=0),m&&F.push(N[H]<=0,N[q]<=0),F.every((function(t){return t}))){L=I,P=!1;break}A.set(I,F)}if(P)for(var W=function(t){var e=T.find((function(e){var n=A.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return L=e,"break"},U=x?3:1;U>0&&"break"!==W(U);U--);e.placement!==L&&(e.modifiersData[u]._skip=!0,e.placement=L,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},"./node_modules/@popperjs/core/lib/modifiers/hide.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js");function i(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function s(t){return[o.top,o.right,o.bottom,o.left].some((function(e){return t[e]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,o=e.rects.reference,a=e.rects.popper,c=e.modifiersData.preventOverflow,l=(0,r.default)(e,{elementContext:"reference"}),u=(0,r.default)(e,{altBoundary:!0}),d=i(l,o),p=i(u,a,c),f=s(d),m=s(p);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:f,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}}},"./node_modules/@popperjs/core/lib/modifiers/index.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{applyStyles:()=>o.default,arrow:()=>r.default,computeStyles:()=>i.default,eventListeners:()=>s.default,flip:()=>a.default,hide:()=>c.default,offset:()=>l.default,popperOffsets:()=>u.default,preventOverflow:()=>d.default});var o=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),r=n("./node_modules/@popperjs/core/lib/modifiers/arrow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/flip.js"),c=n("./node_modules/@popperjs/core/lib/modifiers/hide.js"),l=n("./node_modules/@popperjs/core/lib/modifiers/offset.js"),u=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),d=n("./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js")},"./node_modules/@popperjs/core/lib/modifiers/offset.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s,distanceAndSkiddingToXY:()=>i});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/enums.js");function i(t,e,n){var i=(0,o.default)(t),s=[r.left,r.top].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,c=a[0],l=a[1];return c=c||0,l=(l||0)*s,[r.left,r.right].indexOf(i)>=0?{x:l,y:c}:{x:c,y:l}}const s={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,s=n.offset,a=void 0===s?[0,0]:s,c=r.placements.reduce((function(t,n){return t[n]=i(n,e.rects,a),t}),{}),l=c[e.placement],u=l.x,d=l.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=c}}},"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/computeOffsets.js");const r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=(0,o.default)({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),i=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),s=n("./node_modules/@popperjs/core/lib/utils/getAltAxis.js"),a=n("./node_modules/@popperjs/core/lib/utils/within.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),u=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),d=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),p=n("./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js"),f=n("./node_modules/@popperjs/core/lib/utils/math.js");const m={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,m=t.name,h=n.mainAxis,g=void 0===h||h,b=n.altAxis,v=void 0!==b&&b,y=n.boundary,w=n.rootBoundary,x=n.altBoundary,O=n.padding,C=n.tether,j=void 0===C||C,k=n.tetherOffset,T=void 0===k?0:k,_=(0,u.default)(e,{boundary:y,rootBoundary:w,padding:O,altBoundary:x}),S=(0,r.default)(e.placement),A=(0,d.default)(e.placement),P=!A,L=(0,i.default)(S),E=(0,s.default)(L),I=e.modifiersData.popperOffsets,M=e.rects.reference,D=e.rects.popper,R="function"==typeof T?T(Object.assign({},e.rects,{placement:e.placement})):T,B="number"==typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(I){if(g){var q,F="y"===L?o.top:o.left,W="y"===L?o.bottom:o.right,U="y"===L?"height":"width",V=I[L],Q=V+_[F],J=V-_[W],G=j?-D[U]/2:0,z=A===o.start?M[U]:D[U],$=A===o.start?-D[U]:-M[U],K=e.elements.arrow,X=j&&K?(0,c.default)(K):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:(0,p.default)(),Z=Y[F],tt=Y[W],et=(0,a.within)(0,M[U],X[U]),nt=P?M[U]/2-G-et-Z-B.mainAxis:z-et-Z-B.mainAxis,ot=P?-M[U]/2+G+et+tt+B.mainAxis:$+et+tt+B.mainAxis,rt=e.elements.arrow&&(0,l.default)(e.elements.arrow),it=rt?"y"===L?rt.clientTop||0:rt.clientLeft||0:0,st=null!=(q=null==N?void 0:N[L])?q:0,at=V+nt-st-it,ct=V+ot-st,lt=(0,a.within)(j?(0,f.min)(Q,at):Q,V,j?(0,f.max)(J,ct):J);I[L]=lt,H[L]=lt-V}if(v){var ut,dt="x"===L?o.top:o.left,pt="x"===L?o.bottom:o.right,ft=I[E],mt="y"===E?"height":"width",ht=ft+_[dt],gt=ft-_[pt],bt=-1!==[o.top,o.left].indexOf(S),vt=null!=(ut=null==N?void 0:N[E])?ut:0,yt=bt?ht:ft-M[mt]-D[mt]-vt+B.altAxis,wt=bt?ft+M[mt]+D[mt]-vt-B.altAxis:gt,xt=j&&bt?(0,a.withinMaxClamp)(yt,ft,wt):(0,a.within)(j?yt:ht,ft,j?wt:gt);I[E]=xt,H[E]=xt-ft}e.modifiersData[m]=H}},requiresIfExists:["offset"]}},"./node_modules/@popperjs/core/lib/popper-lite.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{createPopper:()=>u,defaultModifiers:()=>l,detectOverflow:()=>r.default,popperGenerator:()=>o.popperGenerator});var o=n("./node_modules/@popperjs/core/lib/createPopper.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),c=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),l=[i.default,s.default,a.default,c.default],u=(0,o.popperGenerator)({defaultModifiers:l})},"./node_modules/@popperjs/core/lib/popper.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{applyStyles:()=>h.applyStyles,arrow:()=>h.arrow,computeStyles:()=>h.computeStyles,createPopper:()=>b,createPopperLite:()=>m.createPopper,defaultModifiers:()=>g,detectOverflow:()=>r.default,eventListeners:()=>h.eventListeners,flip:()=>h.flip,hide:()=>h.hide,offset:()=>h.offset,popperGenerator:()=>o.popperGenerator,popperOffsets:()=>h.popperOffsets,preventOverflow:()=>h.preventOverflow});var o=n("./node_modules/@popperjs/core/lib/createPopper.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),c=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),l=n("./node_modules/@popperjs/core/lib/modifiers/offset.js"),u=n("./node_modules/@popperjs/core/lib/modifiers/flip.js"),d=n("./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js"),p=n("./node_modules/@popperjs/core/lib/modifiers/arrow.js"),f=n("./node_modules/@popperjs/core/lib/modifiers/hide.js"),m=n("./node_modules/@popperjs/core/lib/popper-lite.js"),h=n("./node_modules/@popperjs/core/lib/modifiers/index.js"),g=[i.default,s.default,a.default,c.default,l.default,u.default,d.default,p.default,f.default],b=(0,o.popperGenerator)({defaultModifiers:g})},"./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),r=n("./node_modules/@popperjs/core/lib/enums.js"),i=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),s=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");function a(t,e){void 0===e&&(e={});var n=e,a=n.placement,c=n.boundary,l=n.rootBoundary,u=n.padding,d=n.flipVariations,p=n.allowedAutoPlacements,f=void 0===p?r.placements:p,m=(0,o.default)(a),h=m?d?r.variationPlacements:r.variationPlacements.filter((function(t){return(0,o.default)(t)===m})):r.basePlacements,g=h.filter((function(t){return f.indexOf(t)>=0}));0===g.length&&(g=h,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var b=g.reduce((function(e,n){return e[n]=(0,i.default)(t,{placement:n,boundary:c,rootBoundary:l,padding:u})[(0,s.default)(n)],e}),{});return Object.keys(b).sort((function(t,e){return b[t]-b[e]}))}},"./node_modules/@popperjs/core/lib/utils/computeOffsets.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),i=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),s=n("./node_modules/@popperjs/core/lib/enums.js");function a(t){var e,n=t.reference,a=t.element,c=t.placement,l=c?(0,o.default)(c):null,u=c?(0,r.default)(c):null,d=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2;switch(l){case s.top:e={x:d,y:n.y-a.height};break;case s.bottom:e={x:d,y:n.y+n.height};break;case s.right:e={x:n.x+n.width,y:p};break;case s.left:e={x:n.x-a.width,y:p};break;default:e={x:n.x,y:n.y}}var f=l?(0,i.default)(l):null;if(null!=f){var m="y"===f?"height":"width";switch(u){case s.start:e[f]=e[f]-(n[m]/2-a[m]/2);break;case s.end:e[f]=e[f]+(n[m]/2-a[m]/2)}}return e}},"./node_modules/@popperjs/core/lib/utils/debounce.js":(t,e,n)=>{"use strict";function o(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/detectOverflow.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),s=n("./node_modules/@popperjs/core/lib/utils/computeOffsets.js"),a=n("./node_modules/@popperjs/core/lib/utils/rectToClientRect.js"),c=n("./node_modules/@popperjs/core/lib/enums.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),u=n("./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js"),d=n("./node_modules/@popperjs/core/lib/utils/expandToHashMap.js");function p(t,e){void 0===e&&(e={});var n=e,p=n.placement,f=void 0===p?t.placement:p,m=n.strategy,h=void 0===m?t.strategy:m,g=n.boundary,b=void 0===g?c.clippingParents:g,v=n.rootBoundary,y=void 0===v?c.viewport:v,w=n.elementContext,x=void 0===w?c.popper:w,O=n.altBoundary,C=void 0!==O&&O,j=n.padding,k=void 0===j?0:j,T=(0,u.default)("number"!=typeof k?k:(0,d.default)(k,c.basePlacements)),_=x===c.popper?c.reference:c.popper,S=t.rects.popper,A=t.elements[C?_:x],P=(0,o.default)((0,l.isElement)(A)?A:A.contextElement||(0,r.default)(t.elements.popper),b,y,h),L=(0,i.default)(t.elements.reference),E=(0,s.default)({reference:L,element:S,strategy:"absolute",placement:f}),I=(0,a.default)(Object.assign({},S,E)),M=x===c.popper?I:L,D={top:P.top-M.top+T.top,bottom:M.bottom-P.bottom+T.bottom,left:P.left-M.left+T.left,right:M.right-P.right+T.right},R=t.modifiersData.offset;if(x===c.popper&&R){var B=R[f];Object.keys(D).forEach((function(t){var e=[c.right,c.bottom].indexOf(t)>=0?1:-1,n=[c.top,c.bottom].indexOf(t)>=0?"y":"x";D[t]+=B[n]*e}))}return D}},"./node_modules/@popperjs/core/lib/utils/expandToHashMap.js":(t,e,n)=>{"use strict";function o(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/format.js":(t,e,n)=>{"use strict";function o(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return[].concat(n).reduce((function(t,e){return t.replace(/%s/,e)}),t)}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getAltAxis.js":(t,e,n)=>{"use strict";function o(t){return"x"===t?"y":"x"}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js":(t,e,n)=>{"use strict";function o(t){return t.split("-")[0]}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js":(t,e,n)=>{"use strict";function o(){return{top:0,right:0,bottom:0,left:0}}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js":(t,e,n)=>{"use strict";function o(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o={left:"right",right:"left",bottom:"top",top:"bottom"};function r(t){return t.replace(/left|right|bottom|top/g,(function(t){return o[t]}))}},"./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o={start:"end",end:"start"};function r(t){return t.replace(/start|end/g,(function(t){return o[t]}))}},"./node_modules/@popperjs/core/lib/utils/getVariation.js":(t,e,n)=>{"use strict";function o(t){return t.split("-")[1]}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/math.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{max:()=>o,min:()=>r,round:()=>i});var o=Math.max,r=Math.min,i=Math.round},"./node_modules/@popperjs/core/lib/utils/mergeByName.js":(t,e,n)=>{"use strict";function o(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js");function r(t){return Object.assign({},(0,o.default)(),t)}},"./node_modules/@popperjs/core/lib/utils/orderModifiers.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/enums.js");function r(t){var e=new Map,n=new Set,o=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&r(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),o}function i(t){var e=r(t);return o.modifierPhases.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}},"./node_modules/@popperjs/core/lib/utils/rectToClientRect.js":(t,e,n)=>{"use strict";function o(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/uniqueBy.js":(t,e,n)=>{"use strict";function o(t,e){var n=new Set;return t.filter((function(t){var o=e(t);if(!n.has(o))return n.add(o),!0}))}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/userAgent.js":(t,e,n)=>{"use strict";function o(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/validateModifiers.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/utils/format.js"),r=n("./node_modules/@popperjs/core/lib/enums.js"),i='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',s=["name","enabled","phase","fn","effect","requires","options"];function a(t){t.forEach((function(e){[].concat(Object.keys(e),s).filter((function(t,e,n){return n.indexOf(t)===e})).forEach((function(n){switch(n){case"name":"string"!=typeof e.name&&console.error((0,o.default)(i,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":"boolean"!=typeof e.enabled&&console.error((0,o.default)(i,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":r.modifierPhases.indexOf(e.phase)<0&&console.error((0,o.default)(i,e.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(e.phase)+'"'));break;case"fn":"function"!=typeof e.fn&&console.error((0,o.default)(i,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":null!=e.effect&&"function"!=typeof e.effect&&console.error((0,o.default)(i,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":null==e.requires||Array.isArray(e.requires)||console.error((0,o.default)(i,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error((0,o.default)(i,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+s.map((function(t){return'"'+t+'"'})).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach((function(n){null==t.find((function(t){return t.name===n}))&&console.error((0,o.default)('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(e.name),n,n))}))}))}))}},"./node_modules/@popperjs/core/lib/utils/within.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{within:()=>r,withinMaxClamp:()=>i});var o=n("./node_modules/@popperjs/core/lib/utils/math.js");function r(t,e,n){return(0,o.max)(t,(0,o.min)(e,n))}function i(t,e,n){var o=r(t,e,n);return o>n?n:o}},"./node_modules/cross-fetch/dist/browser-ponyfill.js":function(t,e){var n="undefined"!=typeof self?self:this,o=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,o="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=m(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&r&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,o=f(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,n=m(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),o=0;o<e.length;o++)n[o]=String.fromCharCode(e[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=l(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[l(t)]},p.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},p.prototype.set=function(t,e){this.map[l(t)]=u(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},o&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n,o,r=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(o=(n=e.method||this.method||"GET").toUpperCase(),v.indexOf(o)>-1?o:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},b.call(y.prototype),b.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var O=[301,302,303,307,308];x.redirect=function(t,e){if(-1===O.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function C(t,n){return new Promise((function(o,i){var s=new y(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();e.append(o,r)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;o(new x(r,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}C.polyfill=!0,t.fetch||(t.fetch=C,t.Headers=p,t.Request=y,t.Response=x),e.Headers=p,e.Request=y,e.Response=x,e.fetch=C,Object.defineProperty(e,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var r=o;(e=r.fetch).default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e},"./node_modules/loc-i18next/dist/commonjs/main.js":(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document};e.default={init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=n({},o,e);var r=function(t,o){return e.parseDefaultValueFromContent?n({},t,{defaultValue:o}):t};function i(e,n,o){var i="text";if(0==n.indexOf("[")){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}if(n=n.indexOf(";")==n.length-1?n.substr(0,n.length-2):n,"html"===i)e.innerHTML=t.t(n,r(o,e.innerHTML));else if("text"===i)e.textContent=t.t(n,r(o,e.textContent));else if("prepend"===i){var a=e.innerHTML.indexOf("<loc-i18n>"),c=e.innerHTML.indexOf("</loc-i18n>")+11;a>-1&&c>6&&(e.innerHTML=[e.innerHTML.substring(0,a),e.innerHTML.slice(c)].join("")),e.innerHTML=["<loc-i18n>",t.t(n,r(o,e.innerHTML)),"</loc-i18n>",e.innerHTML].join("")}else if("append"===i){var l=e.innerHTML.indexOf("<loc-i18n>"),u=e.innerHTML.indexOf("</loc-i18n>")+11;l>-1&&u>6&&(e.innerHTML=[e.innerHTML.substring(0,l),e.innerHTML.slice(u)].join("")),e.innerHTML=[e.innerHTML,"<loc-i18n>",t.t(n,r(o,e.innerHTML),"</loc-i18n>")].join("")}else if(0===i.indexOf("data-")){var d=i.substr("data-".length),p=t.t(n,r(o,e.getAttribute(d)));e.setAttribute(d,p),e.setAttribute(i,p)}else e.setAttribute(i,t.t(n,r(o,e.getAttribute(i))))}function s(t){return JSON.parse(t.replace(/:\s*"([^"]*)"/g,(function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'})).replace(/:\s*'([^']*)'/g,(function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'})).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))}function a(t,o){var r=t.getAttribute(e.selectorAttr);if(r){var a=t,c=t.getAttribute(e.targetAttr);if(null!=c&&(a=t.querySelector(c)||t),o||!0!==e.useOptionsAttr||(o=s(t.getAttribute(e.optionsAttr)||"{}")),o=o||{},r.indexOf(";")>=0)for(var l=r.split(";"),u=0,d=l.length;u<d;u++)""!=l[u]&&i(a,l[u],o);else i(a,r,o);if(!0===e.useOptionsAttr){var p={};delete(p=n({clone:p},o)).lng,t.setAttribute(e.optionsAttr,JSON.stringify(p))}}}function c(t,n){for(var o=e.document.querySelectorAll(t),r=0;r<o.length;r++){for(var i=o[r],s=i.querySelectorAll("["+e.selectorAttr+"]"),c=s.length-1;c>-1;c--)a(s[c],n);a(i,n)}}return c}}},"./node_modules/loc-i18next/index.js":(t,e,n)=>{t.exports=n("./node_modules/loc-i18next/dist/commonjs/main.js").default},"./src/quick-edit/quickE.scss":(t,e,n)=>{"use strict";n.r(e)},"./src/styles/index.scss":(t,e,n)=>{"use strict";n.r(e)},"./src/quick-dialog/quick-dialog.css":(t,e,n)=>{"use strict";n.r(e)},"./node_modules/shake.js/shake.js":function(t,e,n){var o;!function(r,i){void 0===(o=function(){return function(t,e){"use strict";function n(n){if(this.hasDeviceMotion="ondevicemotion"in t,this.options={threshold:15,timeout:1e3},"object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&(this.options[o]=n[o]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof e.CustomEvent)this.event=new e.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof e.createEvent)return!1;this.event=e.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&t.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&t.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(e){var n,o,r,i=e.accelerationIncludingGravity;if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=i.x,this.lastY=i.y,void(this.lastZ=i.z);n=Math.abs(this.lastX-i.x),o=Math.abs(this.lastY-i.y),r=Math.abs(this.lastZ-i.z),(n>this.options.threshold&&o>this.options.threshold||n>this.options.threshold&&r>this.options.threshold||o>this.options.threshold&&r>this.options.threshold)&&(new Date).getTime()-this.lastTime.getTime()>this.options.timeout&&(t.dispatchEvent(this.event),this.lastTime=new Date),this.lastX=i.x,this.lastY=i.y,this.lastZ=i.z},n.prototype.handleEvent=function(t){if("function"==typeof this[t.type])return this[t.type](t)},n}(r,r.document)}.call(e,n,e,t))||(t.exports=o)}("undefined"!=typeof window?window:this)},"./node_modules/tippy.js/dist/tippy.esm.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{animateFill:()=>dt,createSingleton:()=>ct,default:()=>yt,delegate:()=>ut,followCursor:()=>ht,hideAll:()=>st,inlinePositioning:()=>gt,roundArrow:()=>i,sticky:()=>bt});var o=n("./node_modules/@popperjs/core/lib/popper.js"),r=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),i='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',s="tippy-content",a="tippy-backdrop",c="tippy-arrow",l="tippy-svg-arrow",u={passive:!0,capture:!0},d=function(){return document.body};function p(t,e,n){if(Array.isArray(t)){var o=t[e];return null==o?Array.isArray(n)?n[e]:n:o}return t}function f(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function m(t,e){return"function"==typeof t?t.apply(void 0,e):t}function h(t,e){return 0===e?t:function(o){clearTimeout(n),n=setTimeout((function(){t(o)}),e)};var n}function g(t,e){var n=Object.assign({},t);return e.forEach((function(t){delete n[t]})),n}function b(t){return[].concat(t)}function v(t,e){-1===t.indexOf(e)&&t.push(e)}function y(t){return t.split("-")[0]}function w(t){return[].slice.call(t)}function x(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function O(){return document.createElement("div")}function C(t){return["Element","Fragment"].some((function(e){return f(t,e)}))}function j(t){return f(t,"MouseEvent")}function k(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function T(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function _(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function S(t){var e,n=b(t)[0];return null!=n&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function A(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[o](e,n)}))}function P(t,e){for(var n=e;n;){var o;if(t.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var L={isTouch:!1},E=0;function I(){L.isTouch||(L.isTouch=!0,window.performance&&document.addEventListener("mousemove",M))}function M(){var t=performance.now();t-E<20&&(L.isTouch=!1,document.removeEventListener("mousemove",M)),E=t}function D(){var t=document.activeElement;if(k(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var R,B=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto);function N(t){return[t+"() was called on a"+("destroy"===t?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function H(t){return t.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function q(t){return H("\n  %ctippy.js\n\n  %c"+H(t)+"\n\n  %c This is a development-only message. It will be removed in production.\n  ")}function F(t){return[q(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function W(t,e){var n;t&&!R.has(e)&&(R.add(e),(n=console).warn.apply(n,F(e)))}function U(t,e){var n;t&&!R.has(e)&&(R.add(e),(n=console).error.apply(n,F(e)))}R=new Set;var V={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Q=Object.assign({appendTo:d,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},V,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),J=Object.keys(Q);function G(t){var e=(t.plugins||[]).reduce((function(e,n){var o,r=n.name,i=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:null!=(o=Q[r])?o:i),e}),{});return Object.assign({},t,e)}function z(t,e){var n=Object.assign({},e,{content:m(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(G(Object.assign({},Q,{plugins:e}))):J).reduce((function(e,n){var o=(t.getAttribute("data-tippy-"+n)||"").trim();if(!o)return e;if("content"===n)e[n]=o;else try{e[n]=JSON.parse(o)}catch(t){e[n]=o}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Q.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function $(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),Object.keys(t).forEach((function(t){var n,o,r=(n=g(Q,Object.keys(V)),o=t,!{}.hasOwnProperty.call(n,o));r&&(r=0===e.filter((function(e){return e.name===t})).length),W(r,["`"+t+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))}))}function K(t,e){t.innerHTML=e}function X(t){var e=O();return!0===t?e.className=c:(e.className=l,C(t)?e.appendChild(t):K(e,t)),e}function Y(t,e){C(e.content)?(K(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?K(t,e.content):t.textContent=e.content)}function Z(t){var e=t.firstElementChild,n=w(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(s)})),arrow:n.find((function(t){return t.classList.contains(c)||t.classList.contains(l)})),backdrop:n.find((function(t){return t.classList.contains(a)}))}}function tt(t){var e=O(),n=O();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=O();function r(n,o){var r=Z(e),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||Y(s,t.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(X(o.arrow))):i.appendChild(X(o.arrow)):a&&i.removeChild(a)}return o.className=s,o.setAttribute("data-state","hidden"),Y(o,t.props),e.appendChild(n),n.appendChild(o),r(t.props,t.props),{popper:e,onUpdate:r}}tt.$$tippy=!0;var et=1,nt=[],ot=[];function rt(t,e){var n,r,i,s,a,c,l,f,g=z(t,Object.assign({},Q,G(x(e)))),C=!1,k=!1,E=!1,I=!1,M=[],D=h(Ct,g.interactiveDebounce),R=et++,H=(f=g.plugins).filter((function(t,e){return f.indexOf(t)===e})),q={id:R,reference:t,popper:O(),popperInstance:null,props:g,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:H,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(e){if(W(q.state.isDestroyed,N("setProps")),!q.state.isDestroyed){lt("onBeforeUpdate",[q,e]),xt();var n=q.props,o=z(t,Object.assign({},n,x(e),{ignoreAttributes:!0}));q.props=o,wt(),n.interactiveDebounce!==o.interactiveDebounce&&(pt(),D=h(Ct,o.interactiveDebounce)),n.triggerTarget&&!o.triggerTarget?b(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):o.triggerTarget&&t.removeAttribute("aria-expanded"),dt(),ct(),J&&J(n,o),q.popperInstance&&(_t(),At().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),lt("onAfterUpdate",[q,e])}},setContent:function(t){q.setProps({content:t})},show:function(){W(q.state.isDestroyed,N("show"));var t=q.state.isVisible,e=q.state.isDestroyed,n=!q.state.isEnabled,o=L.isTouch&&!q.props.touch,r=p(q.props.duration,0,Q.duration);if(!(t||e||n||o||rt().hasAttribute("disabled")||(lt("onShow",[q],!1),!1===q.props.onShow(q)))){if(q.state.isVisible=!0,tt()&&(V.style.visibility="visible"),ct(),gt(),q.state.isMounted||(V.style.transition="none"),tt()){var i=st();T([i.box,i.content],0)}var s,a,l;c=function(){var t;if(q.state.isVisible&&!I){if(I=!0,V.offsetHeight,V.style.transition=q.props.moveTransition,tt()&&q.props.animation){var e=st(),n=e.box,o=e.content;T([n,o],r),_([n,o],"visible")}ut(),dt(),v(ot,q),null==(t=q.popperInstance)||t.forceUpdate(),lt("onMount",[q]),q.props.animation&&tt()&&function(t,e){vt(t,(function(){q.state.isShown=!0,lt("onShown",[q])}))}(r)}},a=q.props.appendTo,l=rt(),(s=q.props.interactive&&a===d||"parent"===a?l.parentNode:m(a,[l])).contains(V)||s.appendChild(V),q.state.isMounted=!0,_t(),W(q.props.interactive&&a===Q.appendTo&&l.nextElementSibling!==V,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}},hide:function(){W(q.state.isDestroyed,N("hide"));var t=!q.state.isVisible,e=q.state.isDestroyed,n=!q.state.isEnabled,o=p(q.props.duration,1,Q.duration);if(!(t||e||n)&&(lt("onHide",[q],!1),!1!==q.props.onHide(q))){if(q.state.isVisible=!1,q.state.isShown=!1,I=!1,C=!1,tt()&&(V.style.visibility="hidden"),pt(),bt(),ct(!0),tt()){var r=st(),i=r.box,s=r.content;q.props.animation&&(T([i,s],o),_([i,s],"hidden"))}ut(),dt(),q.props.animation?tt()&&function(t,e){vt(t,(function(){!q.state.isVisible&&V.parentNode&&V.parentNode.contains(V)&&e()}))}(o,q.unmount):q.unmount()}},hideWithInteractivity:function(t){W(q.state.isDestroyed,N("hideWithInteractivity")),it().addEventListener("mousemove",D),v(nt,D),D(t)},enable:function(){q.state.isEnabled=!0},disable:function(){q.hide(),q.state.isEnabled=!1},unmount:function(){W(q.state.isDestroyed,N("unmount")),q.state.isVisible&&q.hide(),q.state.isMounted&&(St(),At().forEach((function(t){t._tippy.unmount()})),V.parentNode&&V.parentNode.removeChild(V),ot=ot.filter((function(t){return t!==q})),q.state.isMounted=!1,lt("onHidden",[q]))},destroy:function(){W(q.state.isDestroyed,N("destroy")),q.state.isDestroyed||(q.clearDelayTimeouts(),q.unmount(),xt(),delete t._tippy,q.state.isDestroyed=!0,lt("onDestroy",[q]))}};if(!g.render)return U(!0,"render() function has not been supplied."),q;var F=g.render(q),V=F.popper,J=F.onUpdate;V.setAttribute("data-tippy-root",""),V.id="tippy-"+q.id,q.popper=V,t._tippy=q,V._tippy=q;var $=H.map((function(t){return t.fn(q)})),K=t.hasAttribute("aria-expanded");return wt(),dt(),ct(),lt("onCreate",[q]),g.showOnCreate&&Pt(),V.addEventListener("mouseenter",(function(){q.props.interactive&&q.state.isVisible&&q.clearDelayTimeouts()})),V.addEventListener("mouseleave",(function(){q.props.interactive&&q.props.trigger.indexOf("mouseenter")>=0&&it().addEventListener("mousemove",D)})),q;function X(){var t=q.props.touch;return Array.isArray(t)?t:[t,0]}function Y(){return"hold"===X()[0]}function tt(){var t;return!(null==(t=q.props.render)||!t.$$tippy)}function rt(){return l||t}function it(){var t=rt().parentNode;return t?S(t):document}function st(){return Z(V)}function at(t){return q.state.isMounted&&!q.state.isVisible||L.isTouch||s&&"focus"===s.type?0:p(q.props.delay,t?0:1,Q.delay)}function ct(t){void 0===t&&(t=!1),V.style.pointerEvents=q.props.interactive&&!t?"":"none",V.style.zIndex=""+q.props.zIndex}function lt(t,e,n){var o;void 0===n&&(n=!0),$.forEach((function(n){n[t]&&n[t].apply(n,e)})),n&&(o=q.props)[t].apply(o,e)}function ut(){var e=q.props.aria;if(e.content){var n="aria-"+e.content,o=V.id;b(q.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(q.state.isVisible)t.setAttribute(n,e?e+" "+o:o);else{var r=e&&e.replace(o,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}}))}}function dt(){!K&&q.props.aria.expanded&&b(q.props.triggerTarget||t).forEach((function(t){q.props.interactive?t.setAttribute("aria-expanded",q.state.isVisible&&t===rt()?"true":"false"):t.removeAttribute("aria-expanded")}))}function pt(){it().removeEventListener("mousemove",D),nt=nt.filter((function(t){return t!==D}))}function ft(e){if(!L.isTouch||!E&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!q.props.interactive||!P(V,n)){if(b(q.props.triggerTarget||t).some((function(t){return P(t,n)}))){if(L.isTouch)return;if(q.state.isVisible&&q.props.trigger.indexOf("click")>=0)return}else lt("onClickOutside",[q,e]);!0===q.props.hideOnClick&&(q.clearDelayTimeouts(),q.hide(),k=!0,setTimeout((function(){k=!1})),q.state.isMounted||bt())}}}function mt(){E=!0}function ht(){E=!1}function gt(){var t=it();t.addEventListener("mousedown",ft,!0),t.addEventListener("touchend",ft,u),t.addEventListener("touchstart",ht,u),t.addEventListener("touchmove",mt,u)}function bt(){var t=it();t.removeEventListener("mousedown",ft,!0),t.removeEventListener("touchend",ft,u),t.removeEventListener("touchstart",ht,u),t.removeEventListener("touchmove",mt,u)}function vt(t,e){var n=st().box;function o(t){t.target===n&&(A(n,"remove",o),e())}if(0===t)return e();A(n,"remove",a),A(n,"add",o),a=o}function yt(e,n,o){void 0===o&&(o=!1),b(q.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,o),M.push({node:t,eventType:e,handler:n,options:o})}))}function wt(){var t;Y()&&(yt("touchstart",Ot,{passive:!0}),yt("touchend",jt,{passive:!0})),(t=q.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(yt(t,Ot),t){case"mouseenter":yt("mouseleave",jt);break;case"focus":yt(B?"focusout":"blur",kt);break;case"focusin":yt("focusout",kt)}}))}function xt(){M.forEach((function(t){var e=t.node,n=t.eventType,o=t.handler,r=t.options;e.removeEventListener(n,o,r)})),M=[]}function Ot(t){var e,n=!1;if(q.state.isEnabled&&!Tt(t)&&!k){var o="focus"===(null==(e=s)?void 0:e.type);s=t,l=t.currentTarget,dt(),!q.state.isVisible&&j(t)&&nt.forEach((function(e){return e(t)})),"click"===t.type&&(q.props.trigger.indexOf("mouseenter")<0||C)&&!1!==q.props.hideOnClick&&q.state.isVisible?n=!0:Pt(t),"click"===t.type&&(C=!n),n&&!o&&Lt(t)}}function Ct(t){var e=t.target,n=rt().contains(e)||V.contains(e);if("mousemove"!==t.type||!n){var o=At().concat(V).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:g}:null})).filter(Boolean);(function(t,e){var n=e.clientX,o=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.popperState,i=t.props.interactiveBorder,s=y(r.placement),a=r.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,l="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,p=e.top-o+c>i,f=o-e.bottom-l>i,m=e.left-n+u>i,h=n-e.right-d>i;return p||f||m||h}))})(o,t)&&(pt(),Lt(t))}}function jt(t){Tt(t)||q.props.trigger.indexOf("click")>=0&&C||(q.props.interactive?q.hideWithInteractivity(t):Lt(t))}function kt(t){q.props.trigger.indexOf("focusin")<0&&t.target!==rt()||q.props.interactive&&t.relatedTarget&&V.contains(t.relatedTarget)||Lt(t)}function Tt(t){return!!L.isTouch&&Y()!==t.type.indexOf("touch")>=0}function _t(){St();var e=q.props,n=e.popperOptions,r=e.placement,i=e.offset,s=e.getReferenceClientRect,a=e.moveTransition,l=tt()?Z(V).arrow:null,u=s?{getBoundingClientRect:s,contextElement:s.contextElement||rt()}:t,d=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(tt()){var n=st().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];tt()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),q.popperInstance=(0,o.createPopper)(u,V,Object.assign({},n,{placement:r,onFirstUpdate:c,modifiers:d}))}function St(){q.popperInstance&&(q.popperInstance.destroy(),q.popperInstance=null)}function At(){return w(V.querySelectorAll("[data-tippy-root]"))}function Pt(t){q.clearDelayTimeouts(),t&&lt("onTrigger",[q,t]),gt();var e=at(!0),o=X(),r=o[0],i=o[1];L.isTouch&&"hold"===r&&i&&(e=i),e?n=setTimeout((function(){q.show()}),e):q.show()}function Lt(t){if(q.clearDelayTimeouts(),lt("onUntrigger",[q,t]),q.state.isVisible){if(!(q.props.trigger.indexOf("mouseenter")>=0&&q.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&C)){var e=at(!1);e?r=setTimeout((function(){q.state.isVisible&&q.hide()}),e):i=requestAnimationFrame((function(){q.hide()}))}}else bt()}}function it(t,e){void 0===e&&(e={});var n=Q.plugins.concat(e.plugins||[]);!function(t){var e=!t,n="[object Object]"===Object.prototype.toString.call(t)&&!t.addEventListener;U(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),U(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}(t),$(e,n),document.addEventListener("touchstart",I,u),window.addEventListener("blur",D);var o,r=Object.assign({},e,{plugins:n}),i=C(o=t)?[o]:function(t){return f(t,"NodeList")}(o)?w(o):Array.isArray(o)?o:w(document.querySelectorAll(o)),s=C(r.content),a=i.length>1;W(s&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "));var c=i.reduce((function(t,e){var n=e&&rt(e,r);return n&&t.push(n),t}),[]);return C(t)?c[0]:c}it.defaultProps=Q,it.setDefaultProps=function(t){$(t,[]),Object.keys(t).forEach((function(e){Q[e]=t[e]}))},it.currentInput=L;var st=function(t){var e=void 0===t?{}:t,n=e.exclude,o=e.duration;ot.forEach((function(t){var e=!1;if(n&&(e=k(n)?t.reference===n:t.popper===n.popper),!e){var r=t.props.duration;t.setProps({duration:o}),t.hide(),t.state.isDestroyed||t.setProps({duration:r})}}))},at=Object.assign({},r.default,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),ct=function(t,e){var n;void 0===e&&(e={}),U(!Array.isArray(t),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(t)].join(" "));var o,r=t,i=[],s=[],a=e.overrides,c=[],l=!1;function u(){s=r.map((function(t){return b(t.props.triggerTarget||t.reference)})).reduce((function(t,e){return t.concat(e)}),[])}function d(){i=r.map((function(t){return t.reference}))}function p(t){r.forEach((function(e){t?e.enable():e.disable()}))}function f(t){return r.map((function(e){var n=e.setProps;return e.setProps=function(r){n(r),e.reference===o&&t.setProps(r)},function(){e.setProps=n}}))}function m(t,e){var n=s.indexOf(e);if(e!==o){o=e;var c=(a||[]).concat("content").reduce((function(t,e){return t[e]=r[n].props[e],t}),{});t.setProps(Object.assign({},c,{getReferenceClientRect:"function"==typeof c.getReferenceClientRect?c.getReferenceClientRect:function(){var t;return null==(t=i[n])?void 0:t.getBoundingClientRect()}}))}}p(!1),d(),u();var h={fn:function(){return{onDestroy:function(){p(!0)},onHidden:function(){o=null},onClickOutside:function(t){t.props.showOnCreate&&!l&&(l=!0,o=null)},onShow:function(t){t.props.showOnCreate&&!l&&(l=!0,m(t,i[0]))},onTrigger:function(t,e){m(t,e.currentTarget)}}}},v=it(O(),Object.assign({},g(e,["overrides"]),{plugins:[h].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],[at])})})),y=v.show;v.show=function(t){if(y(),!o&&null==t)return m(v,i[0]);if(!o||null!=t){if("number"==typeof t)return i[t]&&m(v,i[t]);if(r.indexOf(t)>=0){var e=t.reference;return m(v,e)}return i.indexOf(t)>=0?m(v,t):void 0}},v.showNext=function(){var t=i[0];if(!o)return v.show(0);var e=i.indexOf(o);v.show(i[e+1]||t)},v.showPrevious=function(){var t=i[i.length-1];if(!o)return v.show(t);var e=i.indexOf(o),n=i[e-1]||t;v.show(n)};var w=v.setProps;return v.setProps=function(t){a=t.overrides||a,w(t)},v.setInstances=function(t){p(!0),c.forEach((function(t){return t()})),r=t,p(!1),d(),u(),c=f(v),v.setProps({triggerTarget:s})},c=f(v),v},lt={mouseover:"mouseenter",focusin:"focus",click:"click"};function ut(t,e){U(!(e&&e.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var n=[],o=[],r=!1,i=e.target,s=g(e,["target"]),a=Object.assign({},s,{trigger:"manual",touch:!1}),c=Object.assign({touch:Q.touch},s,{showOnCreate:!0}),l=it(t,a);function d(t){if(t.target&&!r){var n=t.target.closest(i);if(n){var s=n.getAttribute("data-tippy-trigger")||e.trigger||Q.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof c.touch||"touchstart"!==t.type&&s.indexOf(lt[t.type])<0)){var a=it(n,c);a&&(o=o.concat(a))}}}}function p(t,e,o,r){void 0===r&&(r=!1),t.addEventListener(e,o,r),n.push({node:t,eventType:e,handler:o,options:r})}return b(l).forEach((function(t){var e=t.destroy,i=t.enable,s=t.disable;t.destroy=function(t){void 0===t&&(t=!0),t&&o.forEach((function(t){t.destroy()})),o=[],n.forEach((function(t){var e=t.node,n=t.eventType,o=t.handler,r=t.options;e.removeEventListener(n,o,r)})),n=[],e()},t.enable=function(){i(),o.forEach((function(t){return t.enable()})),r=!1},t.disable=function(){s(),o.forEach((function(t){return t.disable()})),r=!0},function(t){var e=t.reference;p(e,"touchstart",d,u),p(e,"mouseover",d),p(e,"focusin",d),p(e,"click",d)}(t)})),l}var dt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(null==(e=t.props.render)||!e.$$tippy)return U(t.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var n=Z(t.popper),o=n.box,r=n.content,i=t.props.animateFill?function(){var t=O();return t.className=a,_([t],"hidden"),t}():null;return{onCreate:function(){i&&(o.insertBefore(i,o.firstElementChild),o.setAttribute("data-animatefill",""),o.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(i){var t=o.style.transitionDuration,e=Number(t.replace("ms",""));r.style.transitionDelay=Math.round(e/10)+"ms",i.style.transitionDuration=t,_([i],"visible")}},onShow:function(){i&&(i.style.transitionDuration="0ms")},onHide:function(){i&&_([i],"hidden")}}}},pt={clientX:0,clientY:0},ft=[];function mt(t){var e=t.clientX,n=t.clientY;pt={clientX:e,clientY:n}}var ht={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=S(t.props.triggerTarget||e),o=!1,r=!1,i=!0,s=t.props;function a(){return"initial"===t.props.followCursor&&t.state.isVisible}function c(){n.addEventListener("mousemove",d)}function l(){n.removeEventListener("mousemove",d)}function u(){o=!0,t.setProps({getReferenceClientRect:null}),o=!1}function d(n){var o=!n.target||e.contains(n.target),r=t.props.followCursor,i=n.clientX,s=n.clientY,a=e.getBoundingClientRect(),c=i-a.left,l=s-a.top;!o&&t.props.interactive||t.setProps({getReferenceClientRect:function(){var t=e.getBoundingClientRect(),n=i,o=s;"initial"===r&&(n=t.left+c,o=t.top+l);var a="horizontal"===r?t.top:o,u="vertical"===r?t.right:n,d="horizontal"===r?t.bottom:o,p="vertical"===r?t.left:n;return{width:u-p,height:d-a,top:a,right:u,bottom:d,left:p}}})}function p(){t.props.followCursor&&(ft.push({instance:t,doc:n}),function(t){t.addEventListener("mousemove",mt)}(n))}function f(){0===(ft=ft.filter((function(e){return e.instance!==t}))).filter((function(t){return t.doc===n})).length&&function(t){t.removeEventListener("mousemove",mt)}(n)}return{onCreate:p,onDestroy:f,onBeforeUpdate:function(){s=t.props},onAfterUpdate:function(e,n){var i=n.followCursor;o||void 0!==i&&s.followCursor!==i&&(f(),i?(p(),!t.state.isMounted||r||a()||c()):(l(),u()))},onMount:function(){t.props.followCursor&&!r&&(i&&(d(pt),i=!1),a()||c())},onTrigger:function(t,e){j(e)&&(pt={clientX:e.clientX,clientY:e.clientY}),r="focus"===e.type},onHidden:function(){t.props.followCursor&&(u(),l(),i=!0)}}}},gt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e,n=t.reference,o=-1,r=!1,i=[],s={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(r){var s=r.state;t.props.inlinePositioning&&(-1!==i.indexOf(s.placement)&&(i=[]),e!==s.placement&&-1===i.indexOf(s.placement)&&(i.push(s.placement),t.setProps({getReferenceClientRect:function(){return function(t){return function(t,e,n,o){if(n.length<2||null===t)return e;if(2===n.length&&o>=0&&n[0].left>n[1].right)return n[o]||e;switch(t){case"top":case"bottom":var r=n[0],i=n[n.length-1],s="top"===t,a=r.top,c=i.bottom,l=s?r.left:i.left,u=s?r.right:i.right;return{top:a,bottom:c,left:l,right:u,width:u-l,height:c-a};case"left":case"right":var d=Math.min.apply(Math,n.map((function(t){return t.left}))),p=Math.max.apply(Math,n.map((function(t){return t.right}))),f=n.filter((function(e){return"left"===t?e.left===d:e.right===p})),m=f[0].top,h=f[f.length-1].bottom;return{top:m,bottom:h,left:d,right:p,width:p-d,height:h-m};default:return e}}(y(t),n.getBoundingClientRect(),w(n.getClientRects()),o)}(s.placement)}})),e=s.placement)}};function a(){var e;r||(e=function(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((null==(n=t.popperOptions)?void 0:n.modifiers)||[]).filter((function(t){return t.name!==e.name})),[e])})}}(t.props,s),r=!0,t.setProps(e),r=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(e,n){if(j(n)){var r=w(t.reference.getClientRects()),i=r.find((function(t){return t.left-2<=n.clientX&&t.right+2>=n.clientX&&t.top-2<=n.clientY&&t.bottom+2>=n.clientY})),s=r.indexOf(i);o=s>-1?s:o}},onHidden:function(){o=-1}}}},bt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function o(e){return!0===t.props.sticky||t.props.sticky===e}var r=null,i=null;function s(){var a=o("reference")?(t.popperInstance?t.popperInstance.state.elements.reference:e).getBoundingClientRect():null,c=o("popper")?n.getBoundingClientRect():null;(a&&vt(r,a)||c&&vt(i,c))&&t.popperInstance&&t.popperInstance.update(),r=a,i=c,t.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){t.props.sticky&&s()}}}};function vt(t,e){return!t||!e||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left}it.setDefaultProps({render:tt});const yt=it},"../$2sxc/src/cms/command-names.ts":(t,e,n)=>{"use strict";n.r(e)},"../$2sxc/src/cms/command-params.ts":(t,e,n)=>{"use strict";n.r(e)},"../$2sxc/src/constants/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AntiForgeryTokenHeaderNameDnn:()=>c,ApiExtensionPlaceholder:()=>o,DnnUiRoot:()=>i,MetaHeaderJsApi:()=>r,PlatformDnn:()=>a,PlatformOqtane:()=>s});var o="e.x.t",r="_jsApi",i="/desktopmodules/tosic_sexycontent/",s="oqtane",a="dnn",c="RequestVerificationToken"},"../$2sxc/src/data/target-types.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{MetadataTargetTypes:()=>o}),function(t){t[t.Undefined=0]="Undefined",t[t.None=1]="None",t[t.Attribute=2]="Attribute",t[t.App=3]="App",t[t.Entity=4]="Entity",t[t.ContentType=5]="ContentType",t[t.Zone=6]="Zone",t[t.CmsItem=10]="CmsItem",t[t.System=11]="System",t[t.Site=12]="Site",t[t.SiteVariant=13]="SiteVariant",t[t.Page=14]="Page",t[t.PageVariant=15]="PageVariant",t[t.Module=16]="Module",t[t.ModuleVariant=17]="ModuleVariant",t[t.User=18]="User",t[t.Custom=90]="Custom",t[t.Custom1=91]="Custom1",t[t.Custom2=92]="Custom2",t[t.Custom3=93]="Custom3",t[t.Custom4=94]="Custom4",t[t.Custom5=95]="Custom5",t[t.Custom6=96]="Custom6",t[t.Custom7=97]="Custom7",t[t.Custom8=98]="Custom8",t[t.Custom9=99]="Custom9"}(o||(o={}))},"../$2sxc/src/dom/dom-tools.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{DomTools:()=>r});var o=n("../core/constants/index.ts"),r=function(){function t(){}return t.getContext=function(e,n){var o=n?t.getContainerTag(n):t.getTag(e);return t.getContextOfTag(o)},t.getContextOfTag=function(t){var e=null==t?void 0:t.getAttribute(o.C.Attributes.Context);return JSON.parse(e||"{ }")},t.getContainerTag=function(t){return t.closest(o.C.Sel.SxcDivs)},t.getTag=function(t){return document.querySelector("div[".concat(o.C.Attributes.ContentBlockId,"='").concat(t.cbid,"']"))},t}()},"../$2sxc/src/environment/env-loader-dnn-sf.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{EnvironmentDnnSfLoader:()=>c});var o,r=n("../core/index.ts"),i=n("../$2sxc/src/constants/index.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a="You must either include jQuery on the page or inject the jsApi parameters to prevent auto-detection.",c=function(t){function e(e){var n=t.call(this,"Env.DnnLdr",e.log)||this;return n.env=e,n}return s(e,t),e.prototype.dnnSfFallback=function(){var t=this,e=this.log.call("dnnSfFallback");r.NoJQ.ready((function(){return t.dnnSfLoadWhenDocumentReady()})),e.done("started dom-ready watcher")},e.prototype.dnnSfLoadWhenDocumentReady=function(){var t=this.log.call("dnnSfLoadWhenDocumentReady");if(void 0===window.$)throw t.done("error"),"Can't load pageid, moduleid, etc. and $ is not available. \n ".concat(a);var e=window.$.ServicesFramework;if(void 0===e)throw t.done("error"),"Can't load pageid, moduleid etc. and DNN SF is not available. \n ".concat(a);var n=e(0),o=n.getServiceRoot("2sxc"),r={page:n.getTabId(),root:"unknown",api:o,appApi:o,rvtHeader:i.AntiForgeryTokenHeaderNameDnn,rvt:n.getAntiForgeryValue(),uiRoot:i.DnnUiRoot,platform:i.PlatformDnn};this.env.load(r,"dnn SF"),t.done()},e}(r.HasLog)},"../$2sxc/src/environment/env-loader-dynamic.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{EnvironmentLoaderDynamic:()=>i});var o=n("../core/index.ts"),r="input[name=__RequestVerificationToken]",i=function(){function t(t){this.mainLoader=t,this.log=new o.Log("ldr.dynmic",t.log)}return t.prototype.startMetaTagObserver=function(t){var e=this;this.observer||(this.observer=new MutationObserver((function(n){for(var o=0,r=n;o<r.length;o++){var i=r[o];"attributes"===i.type&&i.attributeName===t&&e.mainLoader.updateEnv(JSON.parse(e.mainLoader.getMetaContent()))}})),this.log.add("start observing meta tag"),this.observer.observe(this.mainLoader.getJsApiMetaTag(),{attributes:!0,childList:!1,subtree:!1}))},t.prototype.startInputRvtObserver=function(){var t=this;if(!this.inputRvtObserver){this.inputRvtObserver=new MutationObserver((function(e){for(var n=0,o=e;n<o.length;n++){var r=o[n];"attributes"===r.type&&"value"===r.attributeName&&t.loadRvtFromHiddenInput(r.target)}})),this.log.add("start observing Rvt Input");var e=document.querySelector(r);null!=e?(this.loadRvtFromHiddenInput(e),this.inputRvtObserver.observe(e,{attributes:!0,childList:!1,subtree:!1})):console.log("Can't find Oqtane RVT field with selector ".concat(r,"\n")+"So we cannot watch it for changes.\nThis will probably cause the $2sxc to fail.")}},t.prototype.loadRvtFromHiddenInput=function(t){this.log.add("Input Rvt updated"),t&&t.value&&this.mainLoader.env.updateRvt(t.value)},t}()},"../$2sxc/src/environment/env-loader-meta.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{EnvironmentMetaLoader:()=>u});var o,r=n("../$2sxc/src/environment/env-loader-dnn-sf.ts"),i=n("../$2sxc/src/constants/index.ts"),s=n("../core/index.ts"),a=n("../$2sxc/src/environment/env-loader-dynamic.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l="content",u=function(t){function e(e){var n=t.call(this,"Env.MetaLd",e.log)||this;return n.env=e,n.retries=0,n.dynamicPageHelper=new a.EnvironmentLoaderDynamic(n),n}return c(e,t),e.prototype.loadMetaFromHeader=function(t){var e=this;void 0===t&&(t=!1);var n=this.log.call("loadMetaFromHeader","".concat(t));if(this.env.ready)return n.done("loadMeta - ready");this.log.add("loadMetaFromHeader: start, retry:"+this.retries+", force fallback: "+t);var o=this.getMetaContent();if(!o)return this.retries++,t||this.retries>=100?(new r.EnvironmentDnnSfLoader(this.env).dnnSfFallback(),n.done()):(setTimeout((function(){e.loadMetaFromHeader()}),10),n.done("will retry"));this.updateEnv(JSON.parse(o)),this.dynamicPageHelper.startMetaTagObserver(l),n.done()},e.prototype.updateEnv=function(t){this.log.add("meta env info updated"),this.env.load(t,"meta header"),t.platform===i.PlatformOqtane&&this.dynamicPageHelper.startInputRvtObserver()},e.prototype.getMetaContent=function(){var t=this.getJsApiMetaTag();return t?t.getAttribute(l):null},e.prototype.getJsApiMetaTag=function(){return document.querySelector("meta[name=".concat(i.MetaHeaderJsApi,"]"))},e.prototype.startMetaTagObserver=function(){var t=this;this.observer||(this.observer=new MutationObserver((function(e){for(var n=0,o=e;n<o.length;n++){var r=o[n];"attributes"===r.type&&r.attributeName===l&&t.updateEnv(JSON.parse(t.getMetaContent()))}})),this.log.add("start observing meta tag"),this.observer.observe(this.getJsApiMetaTag(),{attributes:!0,childList:!1,subtree:!1}))},e}(s.HasLog)},"../$2sxc/src/environment/sxc-global-environment.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcGlobalEnvironment:()=>c});var o,r=n("../$2sxc/src/environment/env-loader-meta.ts"),i=n("../core/index.ts"),s=n("../$2sxc/src/constants/index.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=t.call(this,"Environment",null,"starting")||this;return e.ready=!1,e.source="",e.log.keepData=!0,i.Insights.add("system","environment",e.log),e.metaLoader=new r.EnvironmentMetaLoader(e),"undefined"!=typeof _jsApi?(e.log.add("found _jsApi, will use"),e.load(_jsApi,"global variable _jsApi")):(e.log.add("will start initializing"),e.metaLoader.loadMetaFromHeader()),e}return a(e,t),e.prototype.load=function(t,e){var n=this.log.call("load");if(t.root&&!t.api){n.add("root provided, api missing, will auto-complete");var o=t.root.endsWith("/")?"":"/";t.api="".concat(t.root).concat(o).concat(i.SxcApiUrlRoot)}this.header=t,this.replacedRvt&&(this.header.rvt=this.replacedRvt),this.ready=!0,this.source=e||"external/unknown"+(this.replacedRvt?"+rvt":""),n.return(t,"loaded from "+this.source)},e.prototype.updateRvt=function(t){t&&(this.replacedRvt=t,this.header.rvt=t)},e.prototype.api=function(){return this.ensureReadyOrThrow("api"),this.header.api},e.prototype.appApi=function(){return this.ensureReadyOrThrow("appApi"),this.header.appApi},e.prototype.page=function(){return this.ensureReadyOrThrow("page"),this.header.page},e.prototype.rvtHeader=function(){return this.ensureReadyOrThrow("rvtHeader"),this.header.rvtHeader||s.AntiForgeryTokenHeaderNameDnn},e.prototype.rvt=function(){return this.ensureReadyOrThrow("rvt"),this.header.rvt},e.prototype.uiRoot=function(){return this.ensureReadyOrThrow("uiRoot"),this.header.uiRoot||s.DnnUiRoot},e.prototype.platform=function(){return this.ensureReadyOrThrow("platform"),this.header.platform||s.PlatformDnn},e.prototype.dialogQuery=function(){var t;return null!==(t=this.header.dialogQuery)&&void 0!==t?t:null},e.prototype.ensureReadyOrThrow=function(t){if(!this.ready&&(this.log.add("ensureReady - force last attempt to load MetaHeader for "+t),this.metaLoader.loadMetaFromHeader(!0),!this.ready))throw"Can't find ".concat(t," - something went wrong, pls contact 2sxc.org")},e}(i.HasLog)},"../$2sxc/src/sxc-global/context-identifier.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextIdentifier:()=>o});var o=function(){function t(){}return t.is=function(t){var e=t;return void 0!==e.zoneId&&void 0!==e.appId},t.ensureCompleteOrThrow=function(t){if(t.zoneId&&t.appId)return t;var e="It looks like the id given is a ContextIdentifier, but it's missing either zoneId or appId.";throw console.error(e,t),e},t.toCacheKey=function(t){return this.ensureCompleteOrThrow(t),"".concat(t.zoneId,"/").concat(t.appId,"/").concat(t.pageId,"/").concat(t.moduleId,"/").concat(t.blockId)},t}()},"../$2sxc/src/sxc-global/sxc-global-http.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcGlobalHttp:()=>a});var o,r=n("../$2sxc/src/constants/index.ts"),i=n("../core/index.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this,"Sxc.Http")||this;return n.env=e,n}return s(e,t),e.prototype.headers=function(t,e,n){var o,r,s,a=this.log.call("headers","".concat(t,", ").concat(e)),c={},l=(null!==(o=null==n?void 0:n.pageId)&&void 0!==o?o:this.env.page()).toString();return t=null!==(r=null==n?void 0:n.moduleId)&&void 0!==r?r:t,e=null!==(s=null==n?void 0:n.blockId)&&void 0!==s?s:e,(null==n?void 0:n._noContextInHttpHeaders)||(t&&(c[i.HeaderNames.ModuleId]=t.toString()),e&&(c[i.HeaderNames.ContentBlockId]=e.toString()),c[i.HeaderNames.TabId]=l,c[i.HeaderNames.PageId]=l),c[this.env.rvtHeader()]=this.env.rvt(),a.return(c,"headers(id:".concat(t,", cbid:").concat(e,")"))},e.prototype.apiRoot=function(t){var e=this.log.call("apiRoot"),n=this.env.api().replace(r.ApiExtensionPlaceholder,t);return e.return(n,"apiRoot('".concat(t,"')"))},e.prototype.appApiRoot=function(){var t,e=this.log.call("appApiRoot"),n=null!==(t=this.env.appApi())&&void 0!==t?t:this.apiRoot(i.ToSxcName);return e.return(n,"appApiRoot()")},e.prototype.apiUrl=function(t,e){var n=this.log.call("apiUrl");if(this.log.add("apiUrl(url:'".concat(t,"', endpointName:'").concat(e,"')")),null==t)return t;if(!t||0==t.indexOf("http:")||0==t.indexOf("https:")||0==t.indexOf("//"))return n.return(t);if(!e&&(0==t.indexOf("/")||0==t.indexOf(".")))return n.return(t);var o=t.toLocaleLowerCase().startsWith(i.AppApiMarker)?this.appApiRoot():this.apiRoot(e||i.ToSxcName);return"/"!=o[o.length-1]&&(o+="/"),"/"==t[0]&&(t=t.slice(1)),n.return(o+t)},e}(i.HasLog)},"../$2sxc/src/sxc/data/sxc-data-service-base.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcDataServiceBase:()=>s});var o,r=n("../$2sxc/src/sxc/sxc-part.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,o){var r=t.call(this,e,"data")||this;if(r.name=n,r.webApi=e.webApi,o+=" name ",null==n)throw o+"is empty";if(-1!=n.indexOf("/")||-1!=n.indexOf("\\"))throw o+"has slashes - not allowed";if(-1!=n.indexOf("?"))throw o+'has "?" - not allowed';return r}return i(e,t),e}(r.SxcPart)},"../$2sxc/src/sxc/data/sxc-data.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcData:()=>c});var o,r=n("../$2sxc/src/data/target-types.ts"),i=n("../$2sxc/src/sxc/data/sxc-data-service-base.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a="app/auto/data",c=function(t){function e(e,n){var o=t.call(this,e,n,"ContentType")||this;return o.name=n,o}return s(e,t),e.prototype.getAll=function(){return this.getInternal()},e.prototype.getOne=function(t){return this.getInternal(t)},e.prototype.getMany=function(t,e){throw"not implemented - probably v13.5 or something"},e.prototype.getInternal=function(t,e){var n="".concat(a,"/").concat(this.name);return!t||"string"!=typeof t&&"number"!=typeof t||(n+="/"+t),this.webApi.fetchJson(this.webApi.url(n,e))},e.prototype.create=function(t,e){var n="".concat(a,"/").concat(this.name);if(null!=e){"string"==typeof e&&(e={Target:r.MetadataTargetTypes.Entity,Guid:e});try{t.For=e}catch(t){}}return this.webApi.fetchJson(this.webApi.url(n),t,"POST")},e.prototype.update=function(t,e){var n="".concat(a,"/").concat(this.name,"/").concat(t);return this.webApi.fetchJson(this.webApi.url(n),e,"POST")},e.prototype.delete=function(t){var e="".concat(a,"/").concat(this.name,"/").concat(t);return this.webApi.fetchRaw(this.webApi.url(e),void 0,"DELETE").then((function(t){return null}))},e}(i.SxcDataServiceBase)},"../$2sxc/src/sxc/data/sxc-query.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcQuery:()=>s});var o,r=n("../$2sxc/src/sxc/data/sxc-data-service-base.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var o=t.call(this,e,n,"Query")||this;return o.name=n,o}return i(e,t),e.prototype.getAll=function(t,e){return this.getInternal(void 0,t,e)},e.prototype.getStream=function(t,e,n){if(-1!==t.indexOf(","))throw"parameter 'stream' can only contain one stream name for 'getStream'";return this.getInternal(t,e,n).then((function(e){return null!=e&&e.hasOwnProperty(t)?e[t]:[]}))},e.prototype.getStreams=function(t,e,n){return this.getInternal(t,e,n)},e.prototype.getInternal=function(t,e,n){var o="app/auto/query/"+this.name;return t&&"string"==typeof t&&(o+="?stream="+t),this.webApi.fetchJson(this.webApi.url(o,e),n)},e}(r.SxcDataServiceBase)},"../$2sxc/src/sxc/sxc-cms.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcCms:()=>s});var o,r=n("../$2sxc/src/sxc/sxc-part.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,e,"cms")||this}return i(e,t),e.prototype.run=function(t){throw'cms.run() requires editing to be on, or page-feature "2sxc.JsCms" to be enabled to work'},e}(r.SxcPart)},"../$2sxc/src/sxc/sxc-part.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcPart:()=>o});var o=function(t,e){this.sxc=t,this.partName=e}},"../$2sxc/src/sxc/sxc.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Sxc:()=>m});var o,r=n("../$2sxc/src/environment/sxc-global-environment.ts"),i=n("../$2sxc/src/sxc/web-api/sxc-web-api.ts"),s=n("../core/index.ts"),a=n("../$2sxc/src/sxc/data/sxc-data.ts"),c=n("../$2sxc/src/sxc/data/sxc-query.ts"),l=n("../$2sxc/src/sxc/sxc-cms.ts"),u=n("../$2sxc/src/sxc-global/sxc-global-http.ts"),d=n("../$2sxc/src/dom/dom-tools.ts"),p=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},f.apply(this,arguments)},m=function(t){function e(e,n,o,r,s){var a,c,u,d=this;(d=t.call(this,"SxcInstance",null,"Generating for "+e+":"+n)||this).id=e,d.cbid=n,d.cacheKey=o,d.root=r,d.ctx=s,d._isSxcInstance=!0,d.manage=null,d.cms=new l.SxcCms(d);try{r._manage&&r._manage.initInstance(d)}catch(t){console.error("error in 2sxc - will only log but not throw",t)}var p,f=d.loadEnv(r);return d.env=f.env,d.http=f.http,d.webApi=new i.SxcWebApi(d),(p=d.data).on||(p.on=function(){throw h},Object.defineProperty(p,"sourceUrl",{get:function(){throw h}})),r._translateInit&&(null===(u=null===(c=null===(a=d.manage)||void 0===a?void 0:a.context)||void 0===c?void 0:c.app)||void 0===u?void 0:u.currentLanguage)&&r._translateInit(d.manage),d}return p(e,t),e.prototype.loadEnv=function(t){var e,n,o,i,s=null!==(o=null===(n=null===(e=this.manage)||void 0===e?void 0:e.editContext)||void 0===n?void 0:n.jsApi)&&void 0!==o?o:null===(i=d.DomTools.getContext(this))||void 0===i?void 0:i.jsApi;if(!s)return{env:t.env,http:t.http};var a=t.env.headers,c=s?f(f({},a),s):a,l=new r.SxcGlobalEnvironment;return l.load(c,"sxc-instance"),{env:l,http:new u.SxcGlobalHttp(l)}},e.is=function(t){return t._isSxcInstance},e.prototype.data=function(t){return new a.SxcData(this,t)},e.prototype.query=function(t){return new c.SxcQuery(this,t)},e.prototype.resolveServiceUrl=function(t){var e=t.split("/")[0].toLowerCase();return-1===s.ApiUrlRoots.indexOf(e)?t:this.http.apiRoot(s.ToSxcName)+e+"/"+t.substring(t.indexOf("/")+1)},e.prototype.showDetailedHttpError=function(t){if(window.console&&console.log(t),404===t.status&&t.config&&t.config.url&&t.config.url.indexOf("/dist/i18n/")>-1)return window.console&&console.log("just fyi: failed to load language resource; will have to use default"),t;if(0===t.status||-1===t.status)return t;var e="Had an error talking to the server (status "+t.status+").",n=t.responseText?JSON.parse(t.responseText):t.data;if(n){var o=n.Message;o&&(e+="\nMessage: "+o);var r=n.MessageDetail||n.ExceptionMessage;r&&(e+="\nDetail: "+r),r&&0===r.indexOf("No action was found")&&(r.indexOf("that matches the name")>0?e+="\n\nTip from 2sxc: you probably got the action-name wrong in your JS.":r.indexOf("that matches the request.")>0&&(e+="\n\nTip from 2sxc: Seems like the parameters are the wrong amount or type.")),o&&0===o.indexOf("Controller")&&o.indexOf("not found")>0&&(e+="\n\nTip from 2sxc: you probably spelled the controller name wrong or forgot to remove the word 'controller' from the call in JS. To call a controller called 'DemoController' only use 'Demo'.")}return e+="\n\nif you are an advanced user you can learn more about what went wrong - discover how on 2sxc.org/help?tag=debug",alert(e),t},e.prototype.isEditMode=function(){var t;return!0===(null===(t=this.manage)||void 0===t?void 0:t._isEditMode())},e.prototype.recreate=function(t){return t&&delete this.root._controllers[this.cacheKey],this.root(this.id,this.cbid)},e}(s.HasLog),h='Warning Obsolete Feature on 2sxc JS: the .data has been obsolete for a long time and is repurposed. \nIf you are calling ".data.on(...)" or ".data.sourceUrl" you are running very old code. \nGuidance to fix this: https://go.2sxc.org/brc-13-id.'},"../$2sxc/src/sxc/web-api/ajax-promise.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AjaxPromise:()=>r});var o=n("../core/index.ts"),r=function(){function t(t,e){this.api=t,this.sxc=e}return t.prototype.makePromise=function(t){var e=this.api.headers();if(null==window.$)throw new Error("JQuery is now removed from 2sxc installation. Please use newer api like fetch or include JQuery in your project");var n=window.$.ajax({async:!0,dataType:t.dataType||"json",data:JSON.stringify(t.data),contentType:"application/json",type:t.method,url:this.getActionUrl(t),beforeSend:function(t){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])}});return t.preventAutoFail||n.fail(this.sxc.showDetailedHttpError),n},t.prototype.getActionUrl=function(t){var e=t.url||"app/auto/api/"+t.controller+"/"+t.action;return this.sxc.http.apiUrl(e,t.endpoint)+(t.params?"?"+o.NoJQ.param(t.params):"")},t}()},"../$2sxc/src/sxc/web-api/sxc-web-api.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcWebApi:()=>s});var o=n("../$2sxc/src/sxc/web-api/ajax-promise.ts"),r=n("../core/index.ts"),i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},s=function(){function t(t){this.sxc=t}return t.prototype.get=function(t,e,n,o){return this.request(t,e,n,o,"GET")},t.prototype.post=function(t,e,n,o){return this.request(t,e,n,o,"POST")},t.prototype.delete=function(t,e,n,o){return this.request(t,e,n,o,"DELETE")},t.prototype.put=function(t,e,n,o){return this.request(t,e,n,o,"PUT")},t.prototype.request=function(t,e,n,r,i){if("object"!=typeof e&&void 0!==e&&(e={id:e}),"string"==typeof t){var s=t.split("/"),a=s[0],c=s[1];""!==a&&""!==c||console.warn("Error: controller or action not defined. Will continue with likely errors."),t={controller:a,action:c,params:e,data:n,url:s.length>2?t:null,preventAutoFail:r}}var l={method:null===i?"POST":i,params:null,preventAutoFail:!1},u=new o.AjaxPromise(this,this.sxc);return t=Object.assign({},l,t),u.makePromise(t)},t.prototype.fetchRaw=function(t,e,n){var o={},r=this.sxc.ctx,s=t.toLocaleLowerCase();(null==r?void 0:r._autoAppIdsInUrl)&&s.includes("app/auto/")&&((null==r?void 0:r.appId)&&!s.includes("appid=")&&(o.appId=r.appId),(null==r?void 0:r.zoneId)&&!s.includes("zoneid=")&&(o.zoneId=r.zoneId)),t=this.url(t,o),n=n||(e?"POST":"GET");var a=this.headers(n);if(e)try{JSON.parse(e)}catch(t){e=JSON.stringify(e)}return fetch(t,i({headers:a,method:n},e&&{body:e}))},t.prototype.fetch=function(t,e,n){return console.warn("You are calling 'fetch' on the sxc.webApi. This is deprecated will stop in 2sxc v15, please use fetchRaw(...) or fetchJson(...) instead."),this.fetchJson(t,e,n)},t.prototype.fetchJson=function(t,e,n){return this.fetchRaw(t,e,n).then((function(t){return t.json()}))},t.prototype.headers=function(t){var e=this.sxc.http.headers(this.sxc.id,this.sxc.cbid,this.sxc.ctx);return t?("GET"===t.toLocaleUpperCase()?e.Accept="application/json":(e.Accept="application/json",e["Content-Type"]="application/json"),e):e},t.prototype.url=function(t,e){if(null==t)return t;var n=t.split("#")[0].split("?"),o=(t=n[0]).split("/");if(2===o.length&&o[0]&&o[1]){var i=o[0],s=o[1];t="app/auto/api/".concat(i,"/").concat(s)}return[t=this.sxc.http.apiUrl(t),e="".concat(n[1]||"","&").concat(e?"string"==typeof e?e:r.NoJQ.param(e):"").split("&").filter((function(t){return!!t})).join("&")].filter((function(t){return!!t})).join("?")},t}()},"../connect-parts/inpage-quick-dialog/idialog-frame-element.ts":(t,e,n)=>{"use strict";n.r(e)},"../connect-parts/inpage-quick-dialog/iiframe-bridge.ts":(t,e,n)=>{"use strict";n.r(e)},"../connect-parts/inpage-quick-dialog/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{urlParams:()=>o.urlParams}),n("../connect-parts/inpage-quick-dialog/iiframe-bridge.ts");var o=n("../connect-parts/inpage-quick-dialog/quick-dialog-params.ts");n("../connect-parts/inpage-quick-dialog/idialog-frame-element.ts"),n("../connect-parts/inpage-quick-dialog/iquick-dialog-config.ts")},"../connect-parts/inpage-quick-dialog/iquick-dialog-config.ts":(t,e,n)=>{"use strict";n.r(e)},"../connect-parts/inpage-quick-dialog/quick-dialog-params.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{urlParams:()=>o});var o={pageId:"tid",requestVerificationTokenHeader:"rvth",requestVerificationToken:"rvt",api:"api",appId:"appId",apps:"apps",moduleId:"mid",contentBlockId:"cbid"}},"../core/constants/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApiUrlRoots:()=>a,AppApiMap:()=>l,AppApiMarker:()=>c,Attributes:()=>d,C:()=>p,HeaderNames:()=>s,NumberNotDefinedHuge:()=>u,SxcApiUrlRoot:()=>i,SxcVersion:()=>r,ToSxcName:()=>o});var o="2sxc",r="18.02.00",i="desktopmodules/2sxc/api/",s={ContentBlockId:"ContentBlockId",ModuleId:"ModuleId",TabId:"TabId",PageId:"PageId"},a=["app","app-sys","app-api","app-query","app-content","eav","view","dnn"],c="app",l={"app-api":"app/[name]/api","app-query":"app/[name]/query","app-content":"app/[name]/content"},u=2742e8,d={InstanceId:"data-cb-instance",Context:"data-edit-context",ContentBlockId:"data-cb-id"},p={Attributes:d,Sel:{SxcDivs:"div[".concat(d.Context,"]")}}},"../core/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApiUrlRoots:()=>o.ApiUrlRoots,AppApiMap:()=>o.AppApiMap,AppApiMarker:()=>o.AppApiMarker,AssetsLoader:()=>i.AssetsLoader,Attributes:()=>o.Attributes,C:()=>o.C,HasLog:()=>r.HasLog,HeaderNames:()=>o.HeaderNames,Insights:()=>r.Insights,Log:()=>r.Log,LogCall:()=>r.LogCall,LogEntry:()=>r.LogEntry,LogEntryOptions:()=>r.LogEntryOptions,NoJQ:()=>i.NoJQ,NumberNotDefinedHuge:()=>o.NumberNotDefinedHuge,Obj:()=>i.Obj,SxcApiUrlRoot:()=>o.SxcApiUrlRoot,SxcVersion:()=>o.SxcVersion,ToSxcName:()=>o.ToSxcName,urlClean:()=>i.urlClean});var o=n("../core/constants/index.ts"),r=n("../core/logging/index.ts"),i=n("../core/plumbing/index.ts")},"../core/logging/Log.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Log:()=>s});var o=n("../core/logging/index.ts"),r=n("./src/constants/debug.ts"),i=-1!==location.search.indexOf("debug=true"),s=function(){function t(t,e,n){var o=this;if(this.entries=new Array,this.depth=0,this.callDepths=[],this.maxEntries=1e3,this.liveDump=!1,this._parentHasLiveDump=!1,this.keepData=i,this._parentHasKeepData=!1,this.fullIdentifier=function(){return"".concat(o.parent?o.parent.fullIdentifier():"").concat(o.identifier())},this.linkLog=function(t){o.parent=t||o.parent,o.parent&&(o._parentHasLiveDump=o.parent.liveDump||o.parent._parentHasLiveDump,o._parentHasKeepData=o.parent.keepData||o.parent._parentHasKeepData)},this.scope="tdo",this.name="unknwn",this.id=function(){return o.idCache||(o.idCache=o.randomString(2))},this.identifier=function(){return"".concat(o.scope).concat(o.name,"(").concat(o.id(),")")},this.rename(t),this.linkLog(e),r.Debug.isDevBuild){var s=r.Debug.parts[t];null!=s&&(this.liveDump=s,this.keepData=s)}this.startTime=(new Date).getTime(),null!=n&&this.add(n)}return t.prototype.rename=function(t){try{var e=t.indexOf(".");this.scope=e>0?t.substr(0,Math.min(e,3))+".":"";var n=e>0?t.substr(e+1):t;this.name=n.substr(0,Math.min(n.length,6)),this.name=this.name.substr(0,Math.min(this.name.length,6))}catch(t){}},t.prototype.add=function(t,e){if(this.entries.length>this.maxEntries)return this._prepareMessage(t);this.entries.length===this.maxEntries&&this._addEntry(this._prepareEntry("Maximum amount of entries added to log, will stop adding more"));var n=this._prepareEntry(t,e);return this._addEntry(n),n.message},t.prototype.addData=function(t,e){this.logData()&&this.add(t,e)},t.prototype.logData=function(){return this.keepData||this._parentHasKeepData},t.prototype._prepareEntry=function(t,e){var n=this._prepareMessage(t),r=(new Date).getTime()-this.startTime;return new o.LogEntry(this,n,this.depth,r,e)},t.prototype._prepareMessage=function(t){if(t instanceof Function)try{return t()}catch(t){return"err: message undefined"}return t.toString()},t.prototype.call=function(t,e,n,r){return new o.LogCall(this,t,e,n,r)},t.prototype._callDepthAdd=function(t){this.depth++,this.callDepths.push(t)},t.prototype._callDepthRemove=function(t){this.depth--;var e=this.callDepths.pop();e!==t&&console.warn("log: call depth reduced by '".concat(t,"' but last was '").concat(e,"'"))},t.prototype.dump=function(t,e){void 0===t&&(t=null),void 0===e&&(e=" - "),t?this.dumpOne(0,t,e):this.dumpList()},t.prototype.dumpList=function(t,e){var n=this;void 0===t&&(t=0);var o=t;this.entries.slice(t,e?t+e:void 0).forEach((function(t){return n.dumpOne(o++,t)}))},t.prototype.dumpOne=function(t,e,n){void 0===n&&(n=" - ");var o=e.result?" ="+e.result:"",r=("0000"+t).slice(-4)+" "+e.source()+n+"..".repeat(e.depth)+e.message+o;e.data?console.log(r,e.data):console.log(r)},t.prototype._addEntry=function(t){this.liveDump&&this.dump(t),this.entries.push(t),this.parent&&this.parent._addEntry(t)},t.prototype.randomString=function(t){for(var e="0123456789abcdefghiklmnopqrstuvwxyz",n="",o=0;o<t;o++){var r=Math.floor(Math.random()*e.length);n+=e.substring(r,r+1)}return n},t}()},"../core/logging/entry.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{LogEntry:()=>r});var o=n("../core/plumbing/index.ts"),r=function(){function t(t,e,n,o,r){var i=this;this.log=t,this.message=e,this.depth=n,this.time=o,this.source=function(){return i.log.fullIdentifier()},r&&(this.data=r)}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){void 0!==t&&this.log.logData()&&(this._data=o.Obj.DeepClone(t,!0))},enumerable:!1,configurable:!0}),t}()},"../core/logging/has-log.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{HasLog:()=>r});var o=n("../core/logging/index.ts"),r=function(){function t(t,e,n){var o=this;this.initLog=function(t,e,n){return o.initLogInternal(t,e,n)},this.initLogInternal(t,e,n)}return t.prototype.initLogInternal=function(t,e,n){null!=this.log?(this.log.rename(t),this.log.linkLog(e),null!=n&&this.log.add(n)):this.log=new o.Log(t,e,n)},t}()},"../core/logging/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{HasLog:()=>r.HasLog,Insights:()=>c.Insights,Log:()=>i.Log,LogCall:()=>s.LogCall,LogEntry:()=>a.LogEntry,LogEntryOptions:()=>o.LogEntryOptions});var o=n("../core/logging/log-entry-options.ts"),r=n("../core/logging/has-log.ts"),i=n("../core/logging/Log.ts"),s=n("../core/logging/log-call.ts"),a=n("../core/logging/entry.ts"),c=n("../core/logging/insights.ts")},"../core/logging/insights.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Insights:()=>c});var o,r=n("../core/logging/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){var e=t.call(this,"Sys.Insght")||this;return e.history={},e.add("system","insights",e.log),e.log.add("this log is usually empty, as it's just a helper tool"),e}return i(e,t),e.prototype.add=function(t,e,n){t in this.history||(this.history[t]=new a(t)),this.history[t].logs.push({key:e,log:n})},e.prototype.show=function(t,e,n,o){if(t){var r=this.history[t];if(r)if(void 0!==e){var i=r.logs.length>=e&&r.logs[e];if(i)if(i.log){console.log("Will dump the log for ".concat(t,"[").concat(e,"] '").concat(i.key,"'"));var s=!1;void 0===n&&(s=!0,n=0,o=25),i.log.dumpList(n||0,o),s&&i.log.entries.length>o&&console.warn("Only showing ".concat(o," of ").concat(i.log.entries.length," logs. To show all, add start param '..., 0)' or start/length '..., 0, 100)'"))}else console.error("found index ".concat(e," on part '").concat(t,"' but it has no logs"));else console.error("index ".concat(e," not found in part '").concat(t,"'"))}else{var a=0,c=r.logs.map((function(e){return"$2sxc.insights('".concat(t,"', ").concat(a++,"); - will show for '").concat(e.key,"'")})).join("\n");console.log("'".concat(t,"' contains ").concat(r.logs.length," entries. Copy/paste the code to to see the logs: \n")+c)}else console.error("part '".concat(t,"' not found"))}else{var l=Object.keys(this.history);console.log("".concat("This is the $2sxc JS Insights - see https://go.2sxc.org/insights \nAdd ?debug=true to the url to log more data. \nCopy/paste code lines below to see details. \n----------------------------------------------------------------------\n").concat(l.length," insights-sections found: \n")+l.map((function(t){return"$2sxc.insights('".concat(t,"');")})).join("\n"))}},e}(r.HasLog),a=function(t){this.name=t,this.logs=[]},c=window.$2sxc&&window.$2sxc._insights||new s},"../core/logging/log-call.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{LogCall:()=>r});var o=n("../core/logging/index.ts"),r=function(){function t(t,e,n,o,r){if(this.log=t,this.name=e,this.initialEntry=this.log._prepareEntry(e+"("+(n||"")+")"),this.log._callDepthAdd(e),this.log._addEntry(this.initialEntry),"string"==typeof o&&this.add(o),r)for(var i in r)this.data("initial:"+i,r[i])}return t.prototype.add=function(t,e,n){this.lastMessage=t,this.log.add(t,e),n&&this.processExtraBehavior(n,t,e)},t.prototype.onlyAddIfNew=function(t,e){this.lastMessage!==t&&this.add(t),e&&this.processExtraBehavior(e,t,void 0)},t.prototype.data=function(t,e){this.log.addData(t,e)},t.prototype.done=function(t,e){this.return(null,t||"",e)},t.prototype.return=function(t,e,n){return e=e||"",this.initialEntry.result=e,this.log._callDepthRemove(this.name),this.initialEntry.data=t,(this.log.liveDump||this.log._parentHasLiveDump)&&this.add(this.name+" = "+e,t),n&&this.processExtraBehavior(n,e,t),t},t.prototype.processExtraBehavior=function(t,e,n){if(t===o.LogEntryOptions.log&&console.log(e,n),t===o.LogEntryOptions.warn&&console.warn(e,n),t!==o.LogEntryOptions.error&&t!==o.LogEntryOptions.throw||console.error(e,n),t===o.LogEntryOptions.throw)throw e},t}()},"../core/logging/log-entry-options.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{LogEntryOptions:()=>o}),function(t){t.log="log",t.warn="warn",t.error="error",t.throw="throw"}(o||(o={}))},"../core/plumbing/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AssetsLoader:()=>i.AssetsLoader,NoJQ:()=>i.NoJQ,Obj:()=>o.Obj,urlClean:()=>r.urlClean});var o=n("../core/plumbing/obj.ts"),r=(n("../core/plumbing/type-value.ts"),n("../core/plumbing/url.ts")),i=n("../core/plumbing/no-jquery.ts")},"../core/plumbing/no-jquery.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AssetsLoader:()=>r,NoJQ:()=>o});var o=function(){function t(){}return t.ready=function(t){"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",(function(){return t()}),{once:!0})},t.param=function(t){return Object.entries(t).map((function(t){var e=t[0],n=t[1];return"".concat(encodeURIComponent(e),"=").concat(null==n?"":"string"==typeof n?encodeURIComponent(n):encodeURIComponent(JSON.stringify(n)))})).join("&")},t.domFromString=function(e){var n=document.createElement("div");n.insertAdjacentHTML("afterbegin",e),Array.from(n.querySelectorAll("script")).forEach((function(e){var n=document.createElement("script");Array.from(e.attributes).forEach((function(t){n.setAttribute(t.nodeName,t.nodeValue)})),n.textContent=e.textContent,t.replaceWith(e,n,!1)}));var o=Array.from(n.children);return o.forEach((function(t){n.removeChild(t)})),o},t.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}},t.width=function(t){var e=getComputedStyle(t);return 0===t.offsetWidth?0:t.offsetWidth-(parseInt(e.getPropertyValue("border-left-width"),10)+parseInt(e.getPropertyValue("border-right-width"),10))-(parseInt(e.getPropertyValue("padding-left"),10)+parseInt(e.getPropertyValue("padding-right"),10))},t.height=function(t){var e=getComputedStyle(t);return 0===t.offsetHeight?0:t.offsetHeight-(parseInt(e.getPropertyValue("border-top-width"),10)+parseInt(e.getPropertyValue("border-bottom-width"),10))-(parseInt(e.getPropertyValue("padding-top"),10)+parseInt(e.getPropertyValue("padding-bottom"),10))},t.empty=function(t){Array.from(t.childNodes).forEach((function(e){t.removeChild(e)}))},t.replaceWith=function(t,e,n){var o=t.parentElement,i=Array.from(e.querySelectorAll("script")),s=[];i.forEach((function(t){s.push({script:t,type:t.type}),t.type=null})),o.replaceChild(e,t),s.forEach((function(t){t.script.type=t.type})),n&&r.runScripts(i,void 0)},t.append=function(t,e,n){var o=[];e.forEach((function(e){if("script"===e.tagName.toLocaleLowerCase()){var n=e,r=n.type;n.type=null,t.appendChild(n),n.type=r,o.push(n)}else t.appendChild(e)})),n&&o.length>0&&r.runScripts(o,void 0)},t}(),r=function(){function t(){}return t.runScripts=function(t,e){var n=this,o=t[0],r=t.slice(1);if(null!=o){var i=document.createElement("script");if(Array.from(o.attributes).forEach((function(t){i.setAttribute(t.nodeName,t.nodeValue)})),i.textContent=o.textContent,i.type&&i.src){var s=function(){i.onload=null,i.onerror=null,document.head.removeChild(i),n.runScripts(r,e)};return i.onload=s,i.onerror=s,void document.head.appendChild(i)}setTimeout((function(){document.head.appendChild(i),document.head.removeChild(i),n.runScripts(r,e)}))}else null==e||e()},t}()},"../core/plumbing/obj.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Obj:()=>o});var o=function(){function t(){}return t.TypeSafeAssign=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.reduce((function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)}),t[0])},t.DeepClone=function(t,e){if(void 0===e&&(e=!1),null==t)return t;var n=e?JSON.stringify(t,r):JSON.stringify(t);return null==n?t:JSON.parse(n)},t}(),r=function(){var t=new WeakSet;return function(e,n){if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return n}}},"../core/plumbing/type-value.ts":(t,e,n)=>{"use strict";n.r(e)},"../core/plumbing/url.ts":(t,e,n)=>{"use strict";function o(t){return t.replace(/(\/+)/g,"/")}n.r(e),n.d(e,{urlClean:()=>o})},"./src/bootstrap/bootstrap.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{BootstrapInPage:()=>g});var o,r=n("./src/commands/index.ts"),i=n("./src/constants/index.ts"),s=n("./src/core/index.ts"),a=n("./src/plumbing/index.ts"),c=n("./src/quick-dialog/index.ts"),l=n("./src/quick-dialog/state.ts"),u=n("./src/toolbar/index.ts"),d=n("./src/toolbar/render/svg-icons.ts"),p=n("./src/toolbar/tag-toolbars/tag-toolbar-manager.ts"),f=n("./src/toolbar/toolbar-manager.ts"),m=n("../$2sxc/src/dom/dom-tools.ts"),h=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(){var e=t.call(this,"Sys.Bootst",null,"Building Bootstrapper")||this;return e.initializedInstances=[],e.openedTemplatePickerOnce=!1,e.diagCancelStateOnStart=l.cancelled.get(),s.Insights.add("system","bootstrap",e.log),e}return h(e,t),e.prototype.initialize=function(){var t=this.log.call("initialize");this.diagCancelStateOnStart&&l.cancelled.remove(),this.initAllInstances(!0),this.watchDomChanges(),(0,d.monitorSvgIconsInToolbar)(),t.return("done")},e.prototype.initAllInstances=function(t){var e=this,n=this.log.call("initAllInstances"),o=Array.from(document.querySelectorAll(u.toolbarSelector)).filter((function(t){return!t.closest(i.C.Sel.SxcDivs)}));this.log.add("Found ".concat(o.length," toolbars outside of 2sxc modules")),o.forEach((function(t){f.ToolbarManager.singleton().build(t)}));var r=document.querySelectorAll(i.C.Sel.SxcDivs);this.log.add("Found ".concat(r.length," toolbars inside 2sxc modules")),r.forEach((function(n){e.initInstance(n,t)})),t&&this.tryShowTemplatePicker(),n.return("initAllInstances done")},e.prototype.watchDomChanges=function(){var t=this,e=this.log.call("watchDomChanges");new MutationObserver((function(e){window.$2sxc.stats.watchDomChanges++;var n=0;e.forEach((function(e){e.addedNodes.forEach((function(e){if(null!=e.matches){var o=e;o.matches(i.C.IDs.cls.scMenu)||(n++,o.matches(i.C.Sel.SxcDivs)?(t.initInstance(o,!1),c.QuickDialog.singleton().isVisible()||t.tryShowTemplatePicker()):o.matches(":not(.active-module)")&&o.querySelectorAll(i.C.Sel.SxcDivs).length>0?o.querySelectorAll(i.C.Sel.SxcDivs).forEach((function(e){t.initInstance(e,!1)})):f.ToolbarManager.singleton().build(o))}}))})),n&&p.TagToolbarManager.cleanupOrphanedToolbars()})).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),e.return("watchDomChanges done")},e.prototype.tryShowTemplatePicker=function(){var t,e,n=this.log.call("tryShowTemplatePicker"),o=l.cbId.get();if(o){var r=document.querySelectorAll("[".concat(i.C.AttrNames.ContentBlockId,'="').concat(o,'"]'));if(r.length)if(o<0){var s=Number(r[0].attributes.getNamedItem(i.C.AttrNames.InstanceId).value);e=window.$2sxc(s,o)}else e=window.$2sxc(o)}if(!e){var a=document.querySelectorAll(".".concat(i.C.ClsNames.UnInitialized));if(this.diagCancelStateOnStart||this.openedTemplatePickerOnce)return n.return(!1,"cancelled");if(c.QuickDialog.singleton().isVisible())return n.return(!1,"should be invisible");if(1!==a.length)return n.return(!1,"has un-init modules");var u=null===(t=Array.from(a).find((function(t){return t.parentElement.matches(i.C.Sel.SxcDivs)})))||void 0===t?void 0:t.parentElement;e=window.$2sxc(u)}return e&&(e.manage.run("layout"),this.openedTemplatePickerOnce=!0),n.return(!0,"tryShowTemplatePicker() done")},e.prototype.initInstance=function(t,e){var n=this.log.call("initInstance","module: obj, isFirstRun: ".concat(e,") initialized: ").concat(this.initializedInstances));if(!this.initializedInstances.find((function(e){return e===t}))){this.initializedInstances.push(t);var o=window.$2sxc(t);e||(o=o.recreate(!0));var r=this.showGlassesButtonIfUninitialized(o);!e&&r||(new s.Log("Bts.Module"),f.ToolbarManager.singleton().buildModule(t)),n.done()}},e.prototype.showGlassesButtonIfUninitialized=function(t){var e=this.log.call("showGlassesButtonIfUninitialized");if(this.isInitialized(t))return e.return(!1,"is initialized");var n=m.DomTools.getTag(t);if(0!==n.querySelectorAll(".".concat(i.C.ClsNames.UnInitialized)).length)return e.return(!1,"already has button");var o=a.NoJQ.domFromString('<div class="'.concat(i.C.ClsNames.UnInitialized,'" onmouseover="this.title = $2sxc.translate(this.title)" title="InPage.NewElement">')+'<div class="'.concat(r.iconPrefix,'glasses"></div>')+"</div>")[0];return o.addEventListener("click",(function(){return t.manage.run("layout")})),n.append(o),e.return(!0,"ok")},e.prototype.isInitialized=function(t){var e,n=null==t?void 0:t.manage,o=null===(e=null==n?void 0:n.editContext)||void 0===e?void 0:e.contentBlock;return o&&0!==o.TemplateId},e}(s.HasLog)},"./src/cms/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RunParamsHelpers:()=>o.RunParamsHelpers,SxcGlobalCms:()=>r.SxcGlobalCms});var o=n("./src/cms/run-params-helpers.ts"),r=(n("./src/cms/run-params-with-workflows.ts"),n("./src/cms/sxc-global-cms.ts"))},"./src/cms/run-params-helpers.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RunParamsHelpers:()=>u});var o,r=n("../$2sxc/src/sxc/sxc.ts"),i=n("../$2sxc/src/sxc-global/context-identifier.ts"),s=n("./src/commands/index.ts"),a=n("./src/core/index.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u=function(t){function e(e){return t.call(this,"Cmd.RunPrm",e,"start")||this}return c(e,t),e.prototype.getParamsFromNameOrParams=function(t){var e=this.log.call("getParamsFromNameOrParams","".concat(t)),n="string"==typeof t;e.add("adapting settings; name string: ".concat(n,"; name = ").concat(t));var o=n?{action:t}:t;return e.return(o)},e.prototype.expandParamsWithDefaults=function(t){var e=this.log.call("expandParamsWithDefaults"),n=t.action;e.add("will add defaults for ".concat(n," from buttonConfig"));var o=s.Commands.singleton().get(n).buttonDefaults;return e.data("defaults to merge",o),e.return(l(l({},o),t))},e.is$sxcRunParams=function(t){var n=t;return(null!=n.tag||null!=n.context&&(i.ContextIdentifier.is(n.context)||r.Sxc.is(n.context)))&&e.isRunParamsInstance(n)},e.isRunParamsInstance=function(t){var e=t;return null!=e.action||null!=e.params},e.ensureRunParamsInstanceOrError=function(t){if(!e.isRunParamsInstance(t))throw"".concat(p," with at least ").concat(d);if(t.context)throw"".concat(p," without 'context' since it already provides the context")},e}(a.HasLog),d="'action' and/or 'params'",p="sxc instance run() expects runParams"},"./src/cms/run-params-with-workflows.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/cms/sxc-global-cms.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcGlobalCms:()=>h});var o,r=n("../$2sxc/src/sxc/sxc.ts"),i=n("../$2sxc/src/sxc-global/context-identifier.ts"),s=n("./src/commands/index.ts"),a=n("./src/constants/index.ts"),c=n("./src/context/bundles/context-bundle-button.ts"),l=n("./src/context/bundles/context-bundle-instance.ts"),u=n("./src/core/index.ts"),d=n("./src/cms/run-params-helpers.ts"),p=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},f.apply(this,arguments)},m="Cms.Api",h=function(t){function e(){var e=t.call(this,m,null)||this;return e.autoDump=a.C.Debug.cms.autoDump,e}return p(e,t),e.prototype.resetLog=function(){this.log=new u.Log(m,null,"log was reset"),u.Insights.add("cms","run",this.log)},e.prototype.run=function(t,e,n,o){return this.runInternal(t,e,n,o,"sxcGlobalCms.run")},e.prototype.runInternal=function(t,e,n,o,a){var u,p=this.log.call("run<T>2","triggeredBy: ".concat(a)),m=new s.CmsEngine(this.log);if(d.RunParamsHelpers.is$sxcRunParams(t)){var h=i.ContextIdentifier.is(t.context)||r.Sxc.is(t.context)?window.$2sxc(t.context):t.tag,g=c.ContextComplete.findContext(h);t.params=f({action:t.action},t.params),u=function(){return m.run(g,t.params,t.event,t,"sxcGlobalCms.runInternal")}}else{var b=l.ContextBundleInstance.is(t)?t:c.ContextComplete.findContext(t);u=function(){return m.detectParamsAndRun(b,e,n,o)}}var v=this.do(u);return p.return(v,"ok")},e.prototype.do=function(t){var e=this.log.call("do");this.resetLog();var n=t();return this.autoDump&&this.log.dump(),e.return(n)},e}(u.HasLog)},"./src/commands/cmd-par-hlp.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{CmdParHlp:()=>r});var o=n("./src/context/bundles/context-bundle-button.ts"),r=function(){function t(){}return t.getIndex=function(t){var e,n=o.ContextComplete.is(t)?t.button.command.params:t;return null!==(e=n.index)&&void 0!==e?e:n.sortOrder},t}()},"./src/commands/command-code.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/commands/command-link-generator.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{CommandLinkGenerator:()=>p});var o,r=n("./src/commands/index.ts"),i=n("./src/constants/index.ts"),s=n("./src/core/index.ts"),a=n("./src/manage/ng-dialog-params.ts"),c=n("./src/plumbing/index.ts"),l=n("./src/toolbar/config/index.ts"),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(){return d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)},p=function(t){function e(e,n){var o=t.call(this,"Cmd.LnkGen",n)||this;o.context=e;var r=o.log.call("constructor"),i=new l.ButtonSafe(e.button,e),s=i.action();o.items=s.params.items||[],r.data("items",o.items),o.urlParams=i.addParamsToLink();var a=i.dialog();return o.urlParams=d({dialog:a||s.name},o.urlParams),r.data("urlParams",o.urlParams),o.debugUrlParam=window.$2sxc.urlParams.get("debug")?"&debug=true":"",o.buildItemsList(i),e.button.configureLinkGenerator&&e.button.configureLinkGenerator(e,o),r.done(),o}return u(e,t),e.prototype.buildItemsList=function(t){t.action().params.useModuleList?this.addContentGroupItems(!0):t.action().params.parent?this.addItemInList():this.addItem()},e.prototype.getLink=function(){var t=this.context,e=new l.ButtonSafe(t.button,t),n=e.action().params,o=this.urlParams;if(n.prefill)for(var r=0;r<this.items.length;r++)this.addFieldsAndParameters(this.items[r],n);delete o.prefill,o.items=JSON.stringify(this.items);var i=e.partOfPage(),s=new a.NgUrlValuesWithoutParams(t,i),u=this.getDialogUrl(t);return"".concat(u,"#").concat(c.NoJQ.param(s).replace(/%2F/g,"/"),"&").concat(c.NoJQ.param(o)).concat(this.debugUrlParam)+""},e.prototype.getDialogUrl=function(t){var e,n,o=null!==(n=null===(e=t.sxc)||void 0===e?void 0:e.env)&&void 0!==n?n:window.$2sxc.env,r=o.dialogQuery();return r&&!r.startsWith("&")&&(r="&"+r),(0,c.urlClean)("".concat(o.uiRoot()).concat(i.C.DialogPaths.eavUi))+"?pageId=".concat(o.page(),"&sxcver=").concat(t.instance.sxcVersion).concat(r)},e.prototype.addItem=function(){var t={},e=this.context.button.command.params,n=e.contentType||e.attributeSetName;e.entityId&&(t.EntityId=e.entityId),n&&(t.ContentTypeName=n),(t.EntityId||t.ContentTypeName)&&this.items.push(this.addFieldsAndParameters(t,e))},e.prototype.addFieldsAndParameters=function(t,e){return null==e||(e.prefill&&(t.Prefill=e.prefill),e.uifields&&(t.UiFields=e.uifields),e.form&&(t.Parameters=e.form)),t},e.prototype.addContentGroupItems=function(t){var e=this,n=this.log.call("addContentGroupItems","".concat(t)),o=r.CmdParHlp.getIndex(this.context),i=-1!==o?o:0,s="new"===this.context.button.command.name,a=this.context.contentBlock.contentGroupId,c=this.context.button.command.params,l=[this.findPartName(!0)];t&&l.push(this.findPartName(!1)),l.map((function(t){return e.addContentGroupItem(a,i,t,s,c)})),n.done()},e.prototype.addContentGroupItem=function(t,e,n,o,r){var i=this.log.call("addContentGroupItem","".concat(t,", ").concat(e,", ").concat(n,", ").concat(o)),s={Add:o,Index:e,Parent:t,Field:n.toLocaleLowerCase()};this.items.push(this.addFieldsAndParameters(s,r)),i.done()},e.prototype.addItemInList=function(){var t=this,e=this.context.button.command.params,n=r.CmdParHlp.getIndex(e),o="new"===this.context.button.command.name,i=e.parent;e.fields&&e.fields.split(",").map((function(r){var s={EntityId:o?0:e.entityId,Field:r,Parent:i,Add:o,Index:n};t.items.push(t.addFieldsAndParameters(s,e))}))},e.prototype.findPartName=function(t){return(-1!==r.CmdParHlp.getIndex(this.context)?"":"List")+(t?"Content":"Presentation")},e}(s.HasLog)},"./src/commands/command.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Command:()=>u,iconPrefix:()=>a,tlbI18nPrefix:()=>c});var o=n("./node_modules/tippy.js/dist/tippy.esm.js"),r=n("./src/context/bundles/context-bundle-button.ts"),i=n("./src/constants/debug.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a="icon-sxc-",c="Toolbar.",l=i.Debug.parts.CommandTippy,u=function(){function t(t){this.name=t}return t.prototype.mergeDefaults=function(t,e,n,i,u){var d=this;if("boolean"!=typeof i)throw"partOfPage in commands not provided, order will be wrong!";this.buttonDefaults=s({icon:function(){return"".concat(a).concat(e)},title:function(){return"".concat(c).concat(t)},uiActionOnly:function(){return n},partOfPage:function(){return i},color:function(){},tippy:function(t,e){var n,i,s=null===(n=r.ContextComplete.getRule(t))||void 0===n?void 0:n.ui,a=null==s?void 0:s.note;if(!a&&u.notes){var c=u.notes(t);c&&c.length>0&&(a=c[0])}if(null==a?void 0:a.note){var p=null!==(i=null==a?void 0:a.asHtml)&&void 0!==i&&i,f={content:a.note,theme:"light",arrow:!0,delay:[a.delay,a.linger],allowHTML:p,onMount:function(t){var e=t.popper.querySelector(".tippy-content");a.isSystem&&(e.style.background="#DFC2F2"),(null==a?void 0:a.background)&&(e.style.background=a.background)}};a.interactive&&(f=d.tippyMakeInteractive(f)),f=d.tippyAddLinks(f,a),l&&console.log("Command-Tippy",a,f),(0,o.default)(e,f),a.delay>100&&(e.classList.add("note-delayed"),a.isSystem&&e.classList.add("note-system"))}}},u)},t.prototype.tippyAddLinks=function(t,e){if(!e.links||0===e.links.length)return t;var n=e.links.map((function(t){var e;return'<a class="tippy-button '.concat(t.primary?"tippy-button-primary":"",'" href="').concat(t.url,'" target="_blank">').concat(null!==(e=t.label)&&void 0!==e?e:" more","</a>")}));return s(s({},this.tippyMakeInteractive(t)),{allowHTML:!0,content:"<div>".concat(e.note,'<div>\n      <br>\n      <div class="tippy-buttons">').concat(n,"</div>")})},t.prototype.tippyMakeInteractive=function(t){return s(s({},t),{interactive:!0,appendTo:function(){return document.body}})},t.build=function(e,n,o,r,i,s){var a=new t(e);return a.mergeDefaults(n,o,r,i,s),a},t.clone=function(e,n){var o=new t(n);return o.buttonDefaults=e.buttonDefaults,o},t}()},"./src/commands/command/command-add-existing.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/shared-logic.ts");o.Commands.add("add-existing","AddExisting","add-existing",!1,!0,{dialog:function(t){return"replace"},showCondition:function(t){return r.SharedLogic.isList(t)},configureLinkGenerator:function(t,e){if(r.SharedLogic.isFieldList(t)){var n=t.button.command.params;e.items=[{Add:!0,Index:o.CmdParHlp.getIndex(n)+1,Parent:n.parent,Field:n.fields}]}else if(r.SharedLogic.isPartOfBlockList(t)){var i=e.items[0];i.Add=!0,i.Index++,e.items=[i]}}})},"./src/commands/command/command-add.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/content-list-actions.ts"),i=n("./src/commands/command/shared-logic.ts"),s=n("./src/commands/cmd-par-hlp.ts");o.Commands.add("add","AddDemo","plus-circled",!1,!0,{showCondition:function(t){return i.SharedLogic.isList(t)},code:function(t){return r.Actions.addItem(t,s.CmdParHlp.getIndex(t)+1)}})},"./src/commands/command/command-app-import.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("app-import","Dashboard","",!0,!1,{})},"./src/commands/command/command-app-resources.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts");o.Commands.add("app-resources","AppResources","translate",!0,!1,{dialog:function(t){return"edit"},disabled:function(t){return null===t.app.resourcesId},title:function(t){return"".concat(o.tlbI18nPrefix,"AppResources").concat(null===t.app.resourcesId?"Disabled":"")},showCondition:function(t){return!!t.user.CanAdmin},configureLinkGenerator:function(t,e){e.items=[{EntityId:t.app.resourcesId}]},dynamicClasses:function(t){return null!==t.app.resourcesId?"":"empty"}})},"./src/commands/command/command-app-settings.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("app-settings","AppSettings","sliders",!0,!1,{dialog:function(){return"edit"},disabled:function(t){return null===t.app.settingsId},title:function(t){return"Toolbar.AppSettings".concat(null===t.app.settingsId?"Disabled":"")},showCondition:function(t){return t.user.CanAdmin},configureLinkGenerator:function(t,e){e.items=[{EntityId:t.app.settingsId}]},dynamicClasses:function(t){return null!==t.app.settingsId?"":"empty"}})},"./src/commands/command/command-app.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("app","App","settings",!0,!1,{showCondition:function(t){return t.user.CanAdmin}})},"./src/commands/command/command-apps.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("apps","Zone","manage",!0,!1,{showCondition:function(t){return!!t.user.CanAdmin}})},"./src/commands/command/command-code.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r="params",i="context",s="event",a="Running 'code' command, ",c="".concat(a,"but no 'call' found to run - see console for debug info."),l="".concat(a,"but 'call' doesn't seem to be a string."),u=o.Command.build("code","Custom","bomb",!0,!1,{code:function(t,e){return new Promise((function(n,o){var u=t.button.command.params;function d(t){console.warn(t,u),alert(t+"\n See console for details."),n()}var p=u.call;if(!p)return d(c);if("string"!=typeof p)return d(l);if(-1!==p.indexOf("(")||-1!==p.indexOf(" "))return d("".concat(a,"but 'call' contained '(' or ' ' characters - not allowed."));p+="(".concat(r,", ").concat(i,", ").concat(s,")");var f={};Object.entries(u).forEach((function(t){var e=t[0],n=t[1];"function"!=typeof n&&(f[e]=n)})),f.action,f.call;var m=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(f,["action","call"]);try{var h=new Function(r,i,s,p);n(h(m,t,e))}catch(t){console.error("error in custom button-code: ",u),o(t)}}))}});o.Commands.addCommand(u)},"./src/commands/command/command-content-type.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{createContentTypeParams:()=>i});var o=n("./src/commands/index.ts"),r=o.Command.build("fields","ContentType","fields",!0,!1,{dialog:function(t){return"contenttype"},addParamsToLink:i,showCondition:function(t){return!!t.user.CanDevelop&&!!i(t).contentType}});function i(t){return{contentType:t.button.command.params.contentType||t.contentBlock.contentTypeId}}o.Commands.addCommand(r),o.Commands.addCommand(o.Command.clone(r,"contenttype"))},"./src/commands/command/command-copy.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/command-content-type.ts");o.Commands.add("copy","Copy","copy",!1,!0,{dialog:function(t){return"edit"},showCondition:function(t){return!!t.button.command.params.entityId},configureLinkGenerator:function(t,e){var n=t.button.command.params.entityId,o=(0,r.createContentTypeParams)(t).contentType;if(!o)throw new Error("can't copy: missing contentType");e.items=[{DuplicateEntity:n,ContentTypeName:o}]}})},"./src/commands/command/command-data.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/command-content-type.ts"),i=o.Command.build("data","ContentItems","table",!0,!1,{dialog:function(t){return"contentitems"},addParamsToLink:r.createContentTypeParams,showCondition:function(t){return!!t.user.CanAdmin&&!!(0,r.createContentTypeParams)(t).contentType},configureLinkGenerator:function(t,e){if(t.button.command.params.filters){var n=JSON.stringify(t.button.command.params.filters);n.indexOf("+")>-1&&(n=btoa(n)),e.urlParams.filters=n}}});o.Commands.addCommand(i),o.Commands.addCommand(o.Command.clone(i,"contentitems"))},"./src/commands/command/command-delete.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/entity-manipulation/item-commands.ts");o.Commands.add("delete","Delete","cancel",!0,!1,{showCondition:function(t){var e=t.button.command.params;return!(e.useModuleList||!e.entityId||!e.entityGuid||!e.entityTitle)},code:function(t){var e=t.button.command.params,n=e.title||e.entityTitle;return r.contentItems.delete(t,e.entityId,e.entityGuid,n)}})},"./src/commands/command/command-edit.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("edit","Edit","pencil",!1,!0,{addParamsToLink:function(t){return{mode:"edit"}},showCondition:function(t){return!!t.button.command.params.entityId||!!t.button.command.params.useModuleList}})},"./src/commands/command/command-edition.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{editionInNote:()=>s});var o=n("./src/commands/index.ts"),r=n("./src/constants/debug.ts"),i=n("./src/toolbar/config/Note.ts");function s(t,e){var n=t.contentBlock.edition;return e||t.user.CanDevelop||t.user.canSwitchEdition?'<button onclick="$2sxc('.concat((t.sxc.id,t.sxc.id),").cms.run({ action: 'edition', params: { ask: true, edition: '").concat(n,"', editions: 'live,staging' } })\">").concat(n,"</button>"):n}o.Commands.add("edition","Edition","edition",!0,!1,{code:function(t,e){var n,o,i,s=t.app.id,a="app-".concat(s,"-edition"),c=t.button.command.params,l=c.edition;if(c.reset)return h();var u=null!==(o=null!==(n=c.editions)&&void 0!==n?n:t.contentBlock.editions)&&void 0!==o?o:"",d=u.split(",").join(", "),p=u?"Known Editions (from app.json): ".concat(d,"\n"):"",f="To switch to another edition on App ".concat(s,", enter the edition:\n").concat(p,"\nRemember to reload the page afterwards to see the changes."),m=c.ask||!l?prompt(f,null!==(i=l)&&void 0!==i?i:""):l;return r.Debug.log("command: app id",s),r.Debug.log("command: log (message/context)",m),r.Debug.log("command: edition (edition)",c.edition,t),m?(console.log("Will set cookie ".concat(a,"=").concat(m)),document.cookie="".concat(a,"=").concat(m,"; path=/;"),new Promise((function(t,e){}))):h();function h(){return console.log("Will unset cookie ".concat(a)),document.cookie="".concat(a,"=flush; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),new Promise((function(t,e){}))}},notes:function(t){var e=t.contentBlock,n=e.edition,o=s(t,!0),r="\n    View: <strong>".concat(e.viewName,"</strong> - ").concat(n?"edition: "+o:"","<br>\n    "),a="<strong>View / Edition</strong> <br>\n    ".concat(r);return[new i.Note({type:"info",note:a,asHtml:!0,delay:0,interactive:!0,isSystem:!0})]}})},"./src/commands/command/command-info.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/context/index.ts"),i=n("./src/commands/command.ts"),s=n("./src/constants/debug.ts").Debug.parts.commandInfo,a={info:"Info",warning:"Warning",error:"Error",help:"Help",link:"Link"},c={info:"info",warning:"warning",error:"warning",help:"Help",link:"Link"},l={info:"gray",warning:"orange",error:"red"};function u(t){var e,n,o,i;s&&console.log("2dm - note: ctx-ui",null==t?void 0:t.ui);var a=null!==(o=null===(n=null===(e=r.ContextComplete.getRule(t))||void 0===e?void 0:e.ui)||void 0===n?void 0:n.note)&&void 0!==o?o:{};return a.type=null!==(i=a.type)&&void 0!==i?i:"info",s&&console.log("2dm - note",a),a}o.Commands.add("info","Info","info",!0,!1,{icon:function(t){var e;return i.iconPrefix+(null!==(e=c[u(t).type])&&void 0!==e?e:"info")},title:function(t){var e;return i.tlbI18nPrefix+(null!==(e=a[u(t).type])&&void 0!==e?e:"Info")},color:function(t){var e,n;return l[null!==(n=null===(e=u(t))||void 0===e?void 0:e.type)&&void 0!==n?n:"info"]},code:function(t,e){s&&console.log("2dm - info-button code",t);var n=t.button.command.params,r=null==n?void 0:n.link,i=null==n?void 0:n.target;return s&&console.log("2dm - info-button code - link",r),r?(o.CmsEngine.applyLinkToButton(e,r,i)||window.open(r,null!=i?i:"_blank"),Promise.resolve()):(console.log("info-button clicked, but nothing will happen, because no link was specified in the params. This may be expected/ok."),Promise.resolve())}})},"./src/commands/command/command-insights.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{insightsUrl:()=>r});var o=n("./src/commands/index.ts");function r(t){return window.$2sxc.http.apiUrl("".concat("sys/insights","/").concat(t))}var i=o.Command.build("insights","Insights","speed",!0,!1,{dialog:function(t){return"insights-server"},showCondition:function(t){return t.user.CanDevelop},code:function(t,e){var n,o,i=r(null!==(o=null===(n=t.button.command.params)||void 0===n?void 0:n.part)&&void 0!==o?o:"logs");return new Promise((function(t){return window.open(i,"_blank"),t()}))}});o.Commands.addCommand(i),o.Commands.addCommand(o.Command.clone(i,"insights-server"))},"./src/commands/command/command-layout.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/quick-edit/index.ts"),i=n("./src/quick-edit/context-for-lists.ts"),s=n("./src/toolbar/config/Note.ts"),a=n("../$2sxc/src/dom/dom-tools.ts"),c=n("./src/commands/command/command-edition.ts"),l="ChangeLayout";o.Commands.add("layout",l,"glasses",!0,!0,{inlineWindow:function(t){return!0},code:function(t,e){var n="["+r.QeSelectors.blocks.cb.context+"]",s=a.DomTools.getTag(t.sxc).closest(n);if(s){var c=i.ContextForLists.getFromDom(s);t.button.command.params.apps=c.apps}return o.CmsEngine.openDialog(t,e,"commandLayout.add")},disabled:function(t){return!!t.contentBlock.viewSwitchDisabled},title:function(t){return o.tlbI18nPrefix+l+(t.contentBlock.viewSwitchDisabled?"Disabled":"")},notes:function(t){var e=t.app,n=t.contentBlock,o=n.edition,r='<a href="https://go.2sxc.org/lightspeed" target="_blank"> LightSpeed Cache</a>',i=n.renderLightspeed?"<strike>".concat(n.renderMs,"ms</strike> 0ms using ").concat(r):"".concat(n.renderMs,"ms (no ").concat(r,")"),a=n.queryName?"Query: ".concat(n.queryName," <br>").concat(n.queryInfo,"<br>"):"",l=(0,c.editionInNote)(t,!1),u="\n    App: <strong>".concat(e.appName,"</strong> <br>\n    View: <strong>").concat(n.viewName,"</strong> - ").concat(o?"edition: "+l:"","<br>\n    ").concat(a,"\n    Page: ").concat(t.page.id,", Module: ").concat(t.instance.id," <br>\n     ").concat(i," <br>\n    "),d="<strong>Layout</strong> <br>\n    ".concat(u);return[new s.Note({type:"info",note:d,asHtml:!0,delay:500,interactive:!0,isSystem:!0})]}})},"./src/commands/command/command-list.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/cmd-par-hlp.ts"),i=o.Command.build("list","Sort","list-numbered",!1,!0,{dialog:function(t){return"instance-list"},showCondition:function(t){return o.SharedLogic.isList(t)},configureLinkGenerator:function(t,e){if(o.SharedLogic.isFieldList(t)){var n=t.button.command.params;e.items=[{Add:!1,Index:r.CmdParHlp.getIndex(n),Parent:n.parent,Field:n.fields}]}}});o.Commands.addCommand(i),o.Commands.addCommand(o.Command.clone(i,"instance-list"))},"./src/commands/command/command-log.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/commands/index.ts").Commands.add("log","Log","bomb",!0,!1,{code:function(t,e){return console.log("command: log (message/context)",t.button.command.params.message,t),new Promise((function(t,e){}))}})},"./src/commands/command/command-metadata.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ImageMetadataCommand:()=>s,MetadataCommand:()=>i});var o=n("./src/commands/index.ts"),r=function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},i=o.Command.build("metadata","Metadata","tag",!1,!1,{addParamsToLink:function(t){return{mode:"new"}},dialog:function(t){return"edit"},dynamicClasses:function(t){return t.button.command.params.entityId?"":"empty"},showCondition:function(t){return!!t.button.command.params.metadata},configureLinkGenerator:function(t,e){var n={Metadata:r({keyType:"string",targetType:10},e.context.button.command.params.metadata)};e.items[0]=r(r({},e.items[0]),n)}}),s=o.Command.build("image","Image","focus",!1,!1,{addParamsToLink:i.buttonDefaults.addParamsToLink,dialog:i.buttonDefaults.dialog,classes:"single-field",dynamicClasses:i.buttonDefaults.dynamicClasses,showCondition:i.buttonDefaults.showCondition,configureLinkGenerator:i.buttonDefaults.configureLinkGenerator});o.Commands.addCommand(i),o.Commands.addCommand(s)},"./src/commands/command/command-more.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/constants/index.ts"),i=n("./src/constants/ids.ts");o.Commands.add("more","MoreActions","options btn-mode",!0,!1,{code:function(t,e){return new Promise((function(t,n){var o=e.target.closest(i.IDs.sel.tagScMenu),s=Number(o.getAttribute("data-state")||0),a=(s+1)%Number(o.getAttribute("group-count"));o.classList.remove("group-".concat(s)),o.classList.add("group-".concat(a)),o.setAttribute("data-state",String(a)),e.preventDefault();var c=o.closest("."+r.C.Toolbar.classes.oldHover);c&&"true"!==o.getAttribute("listener")&&(c.addEventListener("mouseenter",(function(t){o.style.opacity="1"})),c.addEventListener("mouseleave",(function(t){0!==t.screenX&&0!==t.screenY?o.style.opacity="0":(o.style.opacity="1",console.warn("workaround for toolbar hide onmouseleave issue",t.screenX,t.screenY,t.target))})),o.setAttribute("listener","true")),t()}))}})},"./src/commands/command/command-movedown.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/content-list-actions.ts");o.Commands.add("movedown","MoveDown","move-down",!1,!0,{showCondition:function(t){return o.SharedLogic.isList(t)},code:function(t){var e=o.CmdParHlp.getIndex(t);return r.Actions.changeOrder(t,e,e+1)}})},"./src/commands/command/command-moveup.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/content-list-actions.ts"),i=n("./src/commands/command/shared-logic.ts");o.Commands.add("moveup","MoveUp","move-up",!1,!0,{showCondition:function(t){return!(!i.SharedLogic.isList(t)||0===o.CmdParHlp.getIndex(t))},code:function(t){var e=o.CmdParHlp.getIndex(t);return r.Actions.changeOrder(t,e,Math.max(e-1,0))}})},"./src/commands/command/command-new.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/shared-logic.ts"),i=n("./src/commands/cmd-par-hlp.ts");o.Commands.add("new","New","plus",!1,!0,{addParamsToLink:function(t){return{mode:"new"}},dialog:function(t){return"edit"},showCondition:function(t){return!!t.button.command.params.contentType||r.SharedLogic.isList(t)},code:function(t,e){var n=t.button.command.params;return n.index=i.CmdParHlp.getIndex(n)+1,n.entityId&&0!==n.entityId&&(delete n.entityId,delete n.entityGuid),n.useModuleList&&n.contentType&&delete n.useModuleList,o.CmsEngine.openDialog(t,e,"commandNew.add")}})},"./src/commands/command/command-params-all.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/commands/command/command-params-entity.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/commands/command/command-publish.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/i18n/index.ts"),i=n("./src/commands/command/content-list-actions.ts");o.Commands.add("publish","Unpublished","eye-off",!1,!1,{showCondition:function(t){return!1===t.button.command.params.isPublished},disabled:function(t){return!t.instance.allowPublish||!1!==t.button.command.params.isPublished},code:function(t,e){var n=t.button.command.params;return new Promise((function(e,s){if(n.isPublished)return alert((0,r.translate)("Toolbar.AlreadyPublished")),e();if(n.entityId)return i.Actions.publishId(t,n.entityId);var a=o.CmdParHlp.getIndex(t),c=-1===a?"listcontent":"content",l=-1===a?0:a;return i.Actions.publish(t,c,l)}))}})},"./src/commands/command/command-query.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=o.Command.build("query","QueryEdit","filter",!0,!1,{dialog:function(t){return"pipeline-designer"},addParamsToLink:function(t){return{pipelineId:t.contentBlock.queryId}},newWindow:function(t){return!0},disabled:function(t){return null===t.app.settingsId||!t.contentBlock.queryId},title:function(t){return"".concat(o.tlbI18nPrefix,"QueryEdit").concat(null===t.contentBlock.queryId?"Disabled":"")},showCondition:function(t){return!!t.user.CanDevelop&&!t.app.isContent},dynamicClasses:function(t){return t.contentBlock.queryId?"":"empty"}});o.Commands.addCommand(r),o.Commands.addCommand(o.Command.clone(r,"template-query"))},"./src/commands/command/command-remove.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/i18n/index.ts"),i=n("./src/commands/command/content-list-actions.ts");o.Commands.add("remove","Remove","minus-circled",!1,!0,{showCondition:function(t){return o.SharedLogic.isList(t)},code:function(t){return new Promise((function(e,n){return confirm((0,r.translate)("Toolbar.ConfirmRemove"))?i.Actions.removeFromList(t):e()}))}})},"./src/commands/command/command-replace.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=n("./src/commands/command/shared-logic.ts");o.Commands.add("replace","Replace","replace",!1,!0,{showCondition:function(t){return r.SharedLogic.isReferencedItem(t)},configureLinkGenerator:function(t,e){if(r.SharedLogic.isFieldList(t)){var n=t.button.command.params;e.items=[{Add:!1,Index:o.CmdParHlp.getIndex(n),Parent:n.parent,Field:n.fields}]}}})},"./src/commands/command/command-system.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=o.Command.build("system","Zone","manage",!0,!1,{dialog:function(t){return"zone"},showCondition:function(t){return!!t.user.CanAdmin}});o.Commands.addCommand(r),o.Commands.addCommand(o.Command.clone(r,"zone"))},"./src/commands/command/command-template.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=o.Command.build("template","Develop","code",!0,!1,{newWindow:function(t){return!0},dialog:function(t){return"develop"},showCondition:function(t){return!!t.user.CanDevelop},configureLinkGenerator:function(t,e){var n=t.contentBlock,o={EntityId:n.templateId};n.templatePath&&(o.Path=n.templatePath),n.edition&&(o.Edition=n.edition),e.items=[o]},addParamsToLink:function(t){return{isshared:t.contentBlock.templateIsShared}}});o.Commands.addCommand(r),o.Commands.addCommand(o.Command.clone(r,"template-develop"))},"./src/commands/command/command-view.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r=o.Command.build("view","TemplateSettings","sliders",!0,!1,{dialog:function(t){return"edit"},showCondition:function(t){return!!t.user.CanDevelop&&!t.app.isContent},configureLinkGenerator:function(t,e){e.items=[{EntityId:t.contentBlock.templateId}]}});o.Commands.addCommand(r),o.Commands.addCommand(o.Command.clone(r,"template-settings"))},"./src/commands/command/content-list-action-params.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentListActionParams:()=>o});var o=function(){}},"./src/commands/command/content-list-actions.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Actions:()=>i});var o=n("./src/commands/index.ts"),r=n("./src/contentBlock/render.ts"),i=new(function(){function t(){}return t.prototype.addItem=function(t,e){return s(t,"cms/block/item",{index:e},"post")},t.prototype.removeFromList=function(t){var e=t.button.command.params;return s(t,"cms/list/delete",{index:o.CmdParHlp.getIndex(e),parent:e.parent,fields:e.fields},"delete")},t.prototype.changeOrder=function(t,e,n){var o=t.button.command.params;return s(t,"cms/list/move",{parent:o.parent,fields:o.fields,index:e,toIndex:n},"post")},t.prototype.publish=function(t,e,n){return s(t,"cms/block/publish",{part:e,index:n},"post")},t.prototype.publishId=function(t,e){return s(t,"cms/edit/publish",{id:e},"post")},t}());function s(t,e,n,o,i){return void 0===o&&(o="get"),void 0===i&&(i={}),("post"===o?t.sxc.webApi.fetchRaw(t.sxc.webApi.url(e,n),i,"POST"):"delete"===o?t.sxc.webApi.fetchRaw(t.sxc.webApi.url(e,n),void 0,"DELETE"):t.sxc.webApi.fetchJson(t.sxc.webApi.url(e,n))).then((function(){r.renderer.reloadAndReInitialize(t,"doAndReload")}))}},"./src/commands/command/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Actions:()=>i.Actions,ContentListActionParams:()=>r.ContentListActionParams,SharedLogic:()=>o.SharedLogic,WorkflowCommands:()=>s.WorkflowCommands});var o=n("./src/commands/command/shared-logic.ts"),r=(n("./src/commands/command/command-add.ts"),n("./src/commands/command/command-add-existing.ts"),n("./src/commands/command/command-app.ts"),n("./src/commands/command/command-app-import.ts"),n("./src/commands/command/command-app-resources.ts"),n("./src/commands/command/command-app-settings.ts"),n("./src/commands/command/command-apps.ts"),n("./src/commands/command/command-data.ts"),n("./src/commands/command/command-content-type.ts"),n("./src/commands/command/command-copy.ts"),n("./src/commands/command/command-code.ts"),n("./src/commands/command/old-command-custom.ts"),n("./src/commands/command/command-delete.ts"),n("./src/commands/command/command-edit.ts"),n("./src/commands/command/command-edition.ts"),n("./src/commands/command/command-info.ts"),n("./src/commands/command/command-insights.ts"),n("./src/commands/command/command-list.ts"),n("./src/commands/command/command-layout.ts"),n("./src/commands/command/command-log.ts"),n("./src/commands/command/command-metadata.ts"),n("./src/commands/command/command-more.ts"),n("./src/commands/command/command-movedown.ts"),n("./src/commands/command/command-moveup.ts"),n("./src/commands/command/command-new.ts"),n("./src/commands/command/command-publish.ts"),n("./src/commands/command/command-remove.ts"),n("./src/commands/command/command-replace.ts"),n("./src/commands/command/command-template.ts"),n("./src/commands/command/command-query.ts"),n("./src/commands/command/command-view.ts"),n("./src/commands/command/command-system.ts"),n("./src/commands/command/command-params-entity.ts"),n("./src/commands/command/content-list-action-params.ts")),i=n("./src/commands/command/content-list-actions.ts"),s=n("./src/commands/command/workflow-commands.ts");n("./src/commands/command/command-params-all.ts")},"./src/commands/command/old-command-custom.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/commands/index.ts"),r="context",i="event",s="Trying to run Custom-Code action, but no 'call' (v10+, recommended) or 'customCode' (v9, old) found to run - see console for debug info.";o.Commands.add("custom","Custom","bomb",!0,!1,{code:function(t,e){return new Promise((function(n,o){var a=t.button.command.params,c=a.customCode;c||"string"==typeof(c=a.call)&&-1===c.indexOf(" ")&&-1===c.indexOf("(")&&(c+="(".concat(r,", ").concat(i,")")),c||(console.warn(s,a),alert(s),n());try{n(new Function(r,i,c)(t,e))}catch(t){console.error("error in custom button-code: ",a),o(t)}}))}})},"./src/commands/command/shared-logic.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SharedLogic:()=>r});var o=n("./src/commands/index.ts"),r=function(){function t(){}return t.isPartOfBlockList=function(t){return!(!t.contentBlock.isList||!t.button.command.params.useModuleList||-1===o.CmdParHlp.getIndex(t))},t.isBlockReference=function(t){return!!t.button.command.params.useModuleList},t.isFieldList=function(t){var e,n=null===(e=t.button)||void 0===e?void 0:e.command.params;return!(!(null==n?void 0:n.fields)||!(null==n?void 0:n.parent))},t.isList=function(t){return this.isPartOfBlockList(t)||this.isFieldList(t)},t.isReferencedItem=function(t){return this.isBlockReference(t)||this.isFieldList(t)},t}()},"./src/commands/command/workflow-commands.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{WorkflowCommands:()=>o});var o={all:"all",refresh:"refresh"}},"./src/commands/commands.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Commands:()=>a});var o,r=n("./src/core/index.ts"),i=n("./src/commands/command.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=t.call(this,"Cmd.Catlog")||this;return e.commandList=[],e.list={},e.get=function(t){return e.list[t]},r.Insights.add("system","command-catalog",e.log),e}return s(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.add=function(t,e,n,o,r,i){return this.singleton().add(t,e,n,o,r,i)},e.addCommand=function(t){return this.singleton().addCommand(t)},e.prototype.add=function(t,e,n,o,r,s){var a=this.addDef(i.Command.build(t,e,n,o,r,s));return this.log.add("add command '".concat(t,"'"),a),a},e.prototype.addCommand=function(t){var e=this.addDef(t);this.log.add("add command '".concat(e.name,"'"),e)},e.prototype.addDef=function(t){return this.list[t.name]?this.list[t.name]!==t&&(this.list[t.name]=t):(this.commandList.push(t),this.list[t.name]=t),t},e}(r.HasLog)},"./src/commands/engine/cms-engine.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{CmsEngine:()=>g});var o,r=n("./src/cms/run-params-helpers.ts"),i=n("./src/contentBlock/content-block-editor.ts"),s=n("./src/contentBlock/render.ts"),a=n("./src/core/index.ts"),c=n("./src/quick-dialog/quick-dialog.ts"),l=n("./src/toolbar/config/index.ts"),u=n("./src/toolbar/config-loaders/config-formats/in-page-button.ts"),d=n("./src/workflow/index.ts"),p=n("./src/workflow/toolbar-workflow-manager.ts"),f=n("./src/commands/command-link-generator.ts"),m=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(){return h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h.apply(this,arguments)},g=function(t){function e(e){var n=t.call(this,"Cmd.Exec",e,"start")||this;return n.runParamsHelper=new r.RunParamsHelpers(n.log),n}return m(e,t),e.prototype.detectParamsAndRun=function(t,e,n,o){var r,i=this.log.call("detectParamsAndRun","".concat(arguments.length," params")),s=!o&&n&&void 0!==n.altKey;i.add("might cycle parameters. third is event=".concat(s)),s?(i.add("cycling params; event missing & eventOrSettings seems to be an event; settings assumed empty"),o=n,r=this.runParamsHelper.getParamsFromNameOrParams(e)):r=h(h({},n||{}),this.runParamsHelper.getParamsFromNameOrParams(e)),o=o||window.event;var a=this.run(t,r,o,void 0,"sxcGlobalCms.detectParamsAndRun");return i.return(a)},e.prototype.run=function(t,n,o,r,s){var a=this.log.call("run<T>","triggeredBy: ".concat(s),void 0,{context:t}),c=this.runParamsHelper.getParamsFromNameOrParams(n);c=this.runParamsHelper.expandParamsWithDefaults(c);var f=o,m=c.action;a.add("run command '".concat(m,"'"));var g,b=new l.ButtonCommand(m,c),v=new l.Button(b,b.name),y=h(h({},v),u.InPageButtonJson.toButton(c));t.button=y,a.data("button",t.button),(null==r?void 0:r.workflows)?(g=new p.ToolbarWorkflowManager(this.log)).add(r.workflows):g=d.WorkflowHelper.getWorkflow(null==f?void 0:f.target),t.commandWorkflow=g;var w,x=g.run(new d.WorkflowStepCodeArguments(m,d.WorkflowPhases.before,t)),O=y.code;O||(a.add("button, no code - generating code to open standard dialog"),O=e.openDialog),new l.ButtonSafe(y,t).uiActionOnly()?(a.add("UI command, no pre-flight to ensure content-block"),w=x.then((function(e){return d.WorkflowHelper.isCancelled(e)?Promise.resolve(null):O(t,f,"cmsEngine.run#UI command")}))):(a.add("command might change data, wrap in pre-flight to ensure content-block"),w=x.then((function(e){return d.WorkflowHelper.isCancelled(e)?Promise.resolve(null):i.ContentBlockEditor.singleton().prepareToAddContent(t,c.useModuleList).then((function(){return O(t,f,"cmsEngine.run#non UI command")}))})));var C=w.then((function(t){return g.run(new d.WorkflowStepCodeArguments(m,d.WorkflowPhases.after,null,t)).then((function(){return t}))}));return a.return(C)},e.openDialog=function(t,n,o){var r=new a.Log("Cms.OpnDlg",null,"triggeredBy: ".concat(o));a.Insights.add("cms","open-dialog",r);var i=new f.CommandLinkGenerator(t,r).getLink(),u=new l.ButtonSafe(t.button,t),d=n||window.event;return new Promise((function(n){var o=function(){n(t),s.renderer.reloadAndReInitialize(t,"cmsEngine.openDialog")};if(u.inlineWindow())c.QuickDialog.singleton().showOrToggleFromToolbar(t,i,u.fullScreen(),u.dialog()).then((function(t){t&&o()}));else{var r=u.newWindow();if(r||(null==d?void 0:d.ctrlKey)||(null==d?void 0:d.shiftKey))return n(t),e.applyLinkToButton(d,i,r?"_blank":null)?void 0:void window.open(i);window.$2sxc.totalPopup.open(i,o)}}))},e.applyLinkToButton=function(t,e,n){for(var o=null==t?void 0:t.target;null!=o&&"A"!==o.tagName;)o=o.parentElement;if(null==o)return!1;var r=o,i=r.href,s=r.target;return r.href=e,n&&(r.target=n),setTimeout((function(){i?r.href=i:r.removeAttribute("href"),s?r.target=s:r.removeAttribute("target")}),100),!0},e}(a.HasLog)},"./src/commands/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Actions:()=>i.Actions,CmdParHlp:()=>a.CmdParHlp,CmsEngine:()=>s.CmsEngine,Command:()=>o.Command,Commands:()=>r.Commands,ContentListActionParams:()=>i.ContentListActionParams,SharedLogic:()=>i.SharedLogic,WorkflowCommands:()=>i.WorkflowCommands,iconPrefix:()=>o.iconPrefix,tlbI18nPrefix:()=>o.tlbI18nPrefix}),n("../$2sxc/src/cms/command-names.ts"),n("./src/commands/command-code.ts");var o=n("./src/commands/command.ts"),r=n("./src/commands/commands.ts"),i=n("./src/commands/command/index.ts"),s=(n("../$2sxc/src/cms/command-params.ts"),n("./src/commands/engine/cms-engine.ts")),a=n("./src/commands/cmd-par-hlp.ts")},"./src/constants/content-block.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentBlock:()=>o,ContentBlockIds:()=>r});var o=function(){function t(){}return t.cViewWithoutContent="_LayoutElement",t.UseExistingTemplate=-1,t}(),r={classes:{name:"sc-content-block"},selectors:{ofName:".sc-content-block"}}},"./src/constants/debug.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{Debug:()=>i,QuickEClipboardLogId:()=>r});var r="Q-E.Clpbrd",i={isDevBuild:!0,cms:{autoDump:!1,run:!0},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},parts:(o={commandInfo:!1,ToolbarConfigLoaderV10:!1,RuleManager:!1,CommandTippy:!1},o[r]=!1,o["Rnd.Rndrer"]=!1,o["QDl.IfBrig"]=!1,o["Cmd.Exec"]=!1,o["Cms.Api"]=!1,o["Q-E.Main"]=!1,o)}},"./src/constants/dialog-paths.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{DialogPaths:()=>o}),function(t){t.quickDialog="dist/quick-dialog/",t.eavUi="dist/ng-edit/"}(o||(o={}))},"./src/constants/ids.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{IDs:()=>o});var o={cls:{scMenu:"sc-menu"},attr:{toolbar:"toolbar",toolbarData:"data-toolbar",settings:"settings",settingsData:"data-settings"},publishAllowed:"DraftOptional",sel:{scMenu:".sc-menu",tagScMenu:"ul.sc-menu"}}},"./src/constants/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{C:()=>l});var o=n("./src/constants/content-block.ts"),r=n("./src/constants/debug.ts"),i=n("./src/constants/dialog-paths.ts"),s=n("./src/constants/ids.ts"),a=n("./src/constants/toolbar.ts"),c={InstanceId:"data-cb-instance",Context:"data-edit-context",ContentBlockId:"data-cb-id"},l={ContentBlock:o.ContentBlock,DialogPaths:i.DialogPaths,IDs:s.IDs,AttrNames:c,ClsNames:{UnInitialized:"sc-uninitialized",UnAvailable:"sc-unavailable"},Toolbar:a.ToolbarConstants,Cb:o.ContentBlockIds,Debug:r.Debug,Sel:{SxcDivs:"div[".concat(c.Context,"]")}}},"./src/constants/rules.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{prefixBase64:()=>o,prefixJson64:()=>r});var o="base64:",r="json64:"},"./src/constants/toolbar.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarConstants:()=>o});var o={attrToMarkInitalized:"2sxc-tagtoolbar",attr:{full:"sxc-toolbar",hover:"sxc-toolbar-hover",disable:"data-disable-toolbar"},classes:{oldHover:"sc-element"},selectors:{ofOldHover:".sc-element"},eventNames:{onInit:"toolbar-init"}}},"./src/contentBlock/content-block-editor.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentBlockEditor:()=>l});var o,r=n("./src/constants/index.ts"),i=n("./src/html/dom-tools.ts"),s=n("./src/core/index.ts"),a=n("./src/contentBlock/render.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this,"Sys.CbEdit")||this;return s.Insights.add("system","cb-editor-api",e.log),e}return c(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.prototype.prepareToAddContent=function(t,e){var n=this.log.call("prepareToAddContent");if(t.contentBlock.isCreated||!e)return n.return(Promise.resolve());var o=this.updateTemplate(t,t.contentBlock.templateId,!0);return n.return(o,"ok")},e.prototype.updateTemplateFromDia=function(t,e){var n=this.log.call("updateTemplateFromDia","..., ".concat(e)),o=i.HtmlTools.isDisabled(t.sxc);n.add("wasShowingPreview: ".concat(o));var r=this.updateTemplate(t,e,!1).then((function(){o&&a.renderer.reloadAndReInitialize(t,"contentBlockEditor.updateTemplateFromDia")}));return n.return(r)},e.prototype.getPreviewWithTemplate=function(t,e){var n=this.log.call("getPreviewWithTemplate","..., ".concat(e)),o={templateId:e=e||r.C.ContentBlock.UseExistingTemplate,lang:t.app.currentLanguage,cbid:t.contentBlockReference.id,originalparameters:JSON.stringify(t.instance.parameters),edition:t.contentBlock.edition};n.data("params",o);var i=t.sxc.webApi.fetchRaw(t.sxc.webApi.url("cms/block/render",o)).then((function(t){return t.text()}));return n.return(i)},e.prototype.updateTemplate=function(t,e,n){var o=this.log.call("updateTemplate"),r=this.saveTemplate(t,e,n).then((function(e){if(!e)return null;var n=e.replace(/[\",\']/g,"");return console&&console.log("created content group {".concat(n,"}")),t.contentBlock.contentGroupId=n})).catch((function(){return alert("error - result not ok, was not able to create ContentGroup")}));return o.return(r)},e.prototype.saveTemplate=function(t,e,n){var o=this.log.call("saveTemplate"),r={templateId:e,forceCreateContentGroup:n,newTemplateChooserState:!1};o.data("params",r);var i=t.sxc.webApi.fetchJson(t.sxc.webApi.url("cms/block/template",r),void 0,"POST");return o.return(i)},e}(s.HasLog)},"./src/contentBlock/render.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{renderer:()=>m});var o,r=n("./src/commands/index.ts"),i=n("./src/constants/index.ts"),s=n("./src/html/dom-tools.ts"),a=n("./src/core/index.ts"),c=n("./src/quick-edit/quick-e.ts"),l=n("./src/workflow/index.ts"),u=n("./src/contentBlock/content-block-editor.ts"),d=n("../$2sxc/src/dom/dom-tools.ts"),p=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},m=new(function(t){function e(){var e=t.call(this,"Rnd.Rndrer")||this;return a.Insights.add("system","renderer",e.log),e.log.add("constructor"),e}return p(e,t),e.prototype.showMessage=function(t,e){d.DomTools.getTag(t.sxc).innerHTML=e},e.prototype.reloadAndReInitialize=function(t,e,n,o){var s,a=this,c=this.log.call("reloadAndReInitialize","..., triggeredBy: ".concat(e,", forceAjax: ").concat(n,", preview: ").concat(o),null,{context:t}),u=(null!==(s=t.commandWorkflow)&&void 0!==s?s:l.WorkflowHelper.getDummyManager()).run(new l.WorkflowStepCodeArguments(r.WorkflowCommands.refresh,l.WorkflowPhases.before,t)).then((function(e){var r,s;if(l.WorkflowHelper.isCancelled(e))return c.add("Workflow return false, will cancel and not refresh."),Promise.resolve();var u=!1,d=window;return(null===(s=null===(r=d.ToSic)||void 0===r?void 0:r.Sxc)||void 0===s?void 0:s.Oqtane)&&d.ToSic.Sxc.Oqtane.reloadModule(t.sxc.id).then((function(t){return u=t,t?c.add("Oqtane Interactive, use full page reload"):c.add("Oqtane Static, use ajaxLoad"),Promise.resolve()})).catch((function(t){console.error("Error in Oqtane.reloadModule:",t)})),!n&&!t.app.supportsAjax||u?(c.done("not ajax - reloading page"),window.location.reload(),Promise.resolve()):(c.add("is ajax, calling ajaxReload"),a.ajaxLoad(t,i.C.ContentBlock.UseExistingTemplate,o,"render.reloadAndReInitialize").then((function(t){if(window.dnn_tabVersioningEnabled){c.add("system is using tabVersioning - will inform DNN");try{window.dnn.ContentEditorManager.triggerChangeOnPageContentEvent()}catch(t){}}return c.return(t)})).catch((function(t){return console.log("Error in reloadAndReInitialize",t)})))}));return u},e.prototype.ajaxLoad=function(t,e,n,o){var r=this,i=this.log.call("ajaxLoad","triggeredBy: ".concat(o));return i.add("starting promise chain"),u.ContentBlockEditor.singleton().getPreviewWithTemplate(t,e).then((function(e){i.add("get preview done, let's replace the content"),r.replaceContentBlock(t,e,n)})).then((function(){i.add("replace done, resetting quickE"),c.QuickE.singleton().reset(),i.done()}))},e.prototype.replaceContentBlock=function(t,e,n){var o=this.log.call("replaceContentBlock");try{try{var r=JSON.parse(e),i=r.Resources.map((function(t){return"js"===t.Type?'<script type="text/javascript" src="'.concat(t.Url,'"><\/script>'):"css"===t.Type?'<link rel="stylesheet" href="'.concat(t.Url,'">'):void 0})).filter((function(t){return null!=t})).join("\n"),c=a.NoJQ.domFromString(i),l=a.NoJQ.domFromString(r.Html)[0];a.NoJQ.append(document.head,c,!1),n&&s.HtmlTools.disable(l),a.NoJQ.replaceWith(d.DomTools.getTag(t.sxc),l,!1);var u=f(f([],c.filter((function(t){return"script"===t.tagName.toLocaleLowerCase()})),!0),Array.from(l.querySelectorAll("script")),!0);a.AssetsLoader.runScripts(u,void 0)}catch(o){l=a.NoJQ.domFromString(e)[0],n&&s.HtmlTools.disable(l),a.NoJQ.replaceWith(d.DomTools.getTag(t.sxc),l,!0)}t.sxc.recreate(!0)}catch(t){console.log("Error while rendering template:",t)}o.done()},e}(a.HasLog))},"./src/context/bundles/context-bundle-button.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextComplete:()=>u});var o,r=n("../$2sxc/src/sxc/sxc.ts"),i=n("./src/plumbing/index.ts"),s=n("./src/sxc/sxc-tools.ts"),a=n("./src/context/bundles/context-bundle-toolbar.ts"),c=n("../$2sxc/src/dom/dom-tools.ts"),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o._isCtxComplete=!0,o}return l(e,t),e.getRule=function(t){var e,n,o;return null===(o=null===(n=null===(e=t.toolbar)||void 0===e?void 0:e.settings)||void 0===n?void 0:n._rules)||void 0===o?void 0:o.find(t.button.id)},e.findContext=function(t,n){var o,i=null;r.Sxc.is(t)?o=t:"number"==typeof t?o=window.$2sxc(t,n):(o=window.$2sxc(t),i=c.DomTools.getContainerTag(t));var s=e.getContextInstance(o,i);return s.sxc=o,s},e.contextCopy=function(t,n){var o=e.findContext(t,n);o.sxc=null;var r=i.Obj.DeepClone(o);return o.sxc=window.$2sxc(t),r},e.getContextInstance=function(t,n){return new e(s.SxcTools.getEditContext(t,n),t)},e.is=function(t){return t._isCtxComplete},e}(a.ContextBundleToolbar)},"./src/context/bundles/context-bundle-content.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextBundleContent:()=>a});var o,r=n("./src/context/index.ts"),i=n("./src/context/html-attribute/parts/content-block.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.item=new r.ContextOfItem(e),o.contentBlockReference=new i.ContentBlockReference(e.contentBlockReference),o.contentBlock=new r.ContextOfContentBlock(e),o}return s(e,t),e}(r.ContextBundleInstance)},"./src/context/bundles/context-bundle-instance.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextBundleInstance:()=>s});var o=n("./src/context/parts/index.ts"),r=n("./src/context/parts/context-app.ts"),i=n("./src/context/parts/context-ui.ts"),s=function(){function t(t,e){this._isContext=!0,this.app=new r.ContextOfApp(t,e),this.instance=new o.ContextOfInstance(t,e),this.user=new o.ContextOfUser(t),this.page=new o.ContextOfPage(t,e),this.system=new o.ContextOfSystem(t),this.tenant=new o.ContextOfTenant(t),this.ui=new i.ContextOfUi(t)}return t.is=function(t){var e=t;return void 0!==e.sxc&&void 0!==e.instance},t}()},"./src/context/bundles/context-bundle-toolbar.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextBundleToolbar:()=>a});var o,r=n("./src/context/bundles/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype.forButton=function(t){var e=s({},this);return e.button=t,e},e}(r.ContextBundleContent)},"./src/context/bundles/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextBundleContent:()=>i.ContextBundleContent,ContextBundleInstance:()=>r.ContextBundleInstance,ContextBundleToolbar:()=>s.ContextBundleToolbar,ContextComplete:()=>o.ContextComplete});var o=n("./src/context/bundles/context-bundle-button.ts"),r=n("./src/context/bundles/context-bundle-instance.ts"),i=n("./src/context/bundles/context-bundle-content.ts"),s=n("./src/context/bundles/context-bundle-toolbar.ts")},"./src/context/html-attribute/edit-context-root.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonEditContext:()=>o});var o=function(){}},"./src/context/html-attribute/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonEditContext:()=>r.AttrJsonEditContext,AttrJsonEntity:()=>c.AttrJsonEntity,AttrJsonEnvironment:()=>i.AttrJsonEnvironment,AttrJsonLanguage:()=>a.AttrJsonLanguage,AttrJsonUi:()=>l.AttrJsonUi,AttrJsonUser:()=>u.AttrJsonUser,ContentBlockReference:()=>o.ContentBlockReference,ContextErrorJsonAndObj:()=>s.ContextErrorJsonAndObj,ContextProblems:()=>s.ContextProblems});var o=n("./src/context/html-attribute/parts/content-block.ts"),r=(n("./src/context/html-attribute/parts/content-group.ts"),n("./src/context/html-attribute/edit-context-root.ts")),i=n("./src/context/html-attribute/parts/environment.ts"),s=n("./src/context/html-attribute/parts/error.ts"),a=n("./src/context/html-attribute/parts/language.ts"),c=n("./src/context/html-attribute/parts/parameters-entity.ts"),l=n("./src/context/html-attribute/parts/ui.ts"),u=n("./src/context/html-attribute/parts/user.ts")},"./src/context/html-attribute/parts/content-block.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentBlockReference:()=>i});var o=n("../core/index.ts"),r=n("./src/constants/ids.ts"),i=function(t){this.publishingMode=r.IDs.publishAllowed,this.id=o.NumberNotDefinedHuge,this.parentGuid=null,this.parentField=null,this.parentIndex=0,this.partOfPage=!1,Object.assign(this,t)}},"./src/context/html-attribute/parts/content-group.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/context/html-attribute/parts/environment.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonEnvironment:()=>o});var o=function(){}},"./src/context/html-attribute/parts/error.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextErrorJsonAndObj:()=>o,ContextProblems:()=>r});var o=function(){},r=function(){}},"./src/context/html-attribute/parts/language.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonLanguage:()=>o});var o=function(){}},"./src/context/html-attribute/parts/parameters-entity.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonEntity:()=>o});var o=function(){}},"./src/context/html-attribute/parts/ui.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonUi:()=>o});var o=function(){}},"./src/context/html-attribute/parts/user.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{AttrJsonUser:()=>o});var o=function(){}},"./src/context/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentAppUnifiedInCtxAndAttr:()=>o.ContentAppUnifiedInCtxAndAttr,ContentBlockUnifiedInCtxAndAttr:()=>i.ContentBlockUnifiedInCtxAndAttr,ContextBundleContent:()=>h.ContextBundleContent,ContextBundleInstance:()=>m.ContextBundleInstance,ContextBundleToolbar:()=>d.ContextBundleToolbar,ContextComplete:()=>r.ContextComplete,ContextOfApp:()=>o.ContextOfApp,ContextOfContentBlock:()=>i.ContextOfContentBlock,ContextOfInstance:()=>s.ContextOfInstance,ContextOfItem:()=>a.ContextOfItem,ContextOfPage:()=>c.ContextOfPage,ContextOfSystem:()=>l.ContextOfSystem,ContextOfTenant:()=>u.ContextOfTenant,ContextOfUi:()=>p.ContextOfUi,ContextOfUser:()=>f.ContextOfUser});var o=n("./src/context/parts/context-app.ts"),r=n("./src/context/bundles/context-bundle-button.ts"),i=n("./src/context/parts/context-content-block.ts"),s=n("./src/context/parts/context-instance.ts"),a=n("./src/context/parts/context-item.ts"),c=n("./src/context/parts/context-page.ts"),l=n("./src/context/parts/context-system.ts"),u=n("./src/context/parts/context-tenant.ts"),d=n("./src/context/bundles/context-bundle-toolbar.ts"),p=n("./src/context/parts/context-ui.ts"),f=n("./src/context/parts/context-user.ts"),m=n("./src/context/bundles/context-bundle-instance.ts"),h=n("./src/context/bundles/context-bundle-content.ts")},"./src/context/parts/context-app.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentAppUnifiedInCtxAndAttr:()=>i,ContextOfApp:()=>s});var o,r=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){},s=function(t){function e(e,n){var o,r,i,s,a,c,l=this;if((l=t.call(this)||this).isContent=!0,l.settingsId=null,l.resourcesId=null,l.supportsAjax=!1,e.contentBlock){var u=e.contentBlock;l.id=u.AppId,l.isContent=null===(o=u.IsContent)||void 0===o||o,l.resourcesId=null!==(r=u.AppResourcesId)&&void 0!==r?r:null,l.settingsId=null!==(i=u.AppSettingsId)&&void 0!==i?i:null,l.appPath=u.AppUrl,l.hasContent=u.HasContent,l.supportsAjax=null!==(s=u.SupportsAjax)&&void 0!==s&&s,l.zoneId=u.ZoneId,l.appName=u.appName}return n&&n.ctx&&(l.id=null!==(a=l.id)&&void 0!==a?a:n.ctx.appId,l.zoneId=null!==(c=l.id)&&void 0!==c?c:n.ctx.zoneId),e.Language&&(l.currentLanguage=e.Language.Current,l.primaryLanguage=e.Language.Primary,l.allLanguages=e.Language.All),l}return r(e,t),e}(i)},"./src/context/parts/context-content-block.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentBlockUnifiedInCtxAndAttr:()=>i,ContextOfContentBlock:()=>s});var o,r=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(){},s=function(t){function e(e){var n,o,r=this;r=t.call(this)||this;var i=e.contentBlock;return i?(r.isCreated=i.IsCreated,r.isList=i.IsList,r.queryId=i.QueryId,r.queryName=i.queryName,r.queryInfo=i.queryInfo,r.templateId=i.TemplateId,r.templatePath=i.TemplatePath,r.templateIsShared=i.templateIsShared,r.edition=null!==(n=i.Edition)&&void 0!==n?n:null,r.editions=null!==(o=i.editions)&&void 0!==o?o:null,r.contentTypeId=i.ContentTypeName,r.contentGroupId=i.Guid,r.viewName=i.viewName,r.renderMs=i.renderMs,r.renderLightspeed=i.renderLightspeed,r.viewSwitchDisabled=i.viewSwitchDisabled,r):r}return r(e,t),e}(i)},"./src/context/parts/context-instance.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfInstance:()=>i});var o=n("../core/index.ts"),r=n("./src/constants/index.ts"),i=function(t,e){var n,i,s,a,c;this.isEditable=!1,this.allowPublish=!0,this.sxcVersion=o.SxcVersion,this.parameters=null,this.sxcRootUrl="",t.Environment&&(this.id=t.Environment.InstanceId,this.isEditable=null!==(n=t.Environment.IsEditable)&&void 0!==n&&n,this.sxcVersion=null!==(i=t.Environment.SxcVersion)&&void 0!==i?i:o.SxcVersion,this.parameters=t.Environment.parameters,this.sxcRootUrl=null!==(s=t.Environment.SxcRootUrl)&&void 0!==s?s:""),this.id||(this.id=null!==(c=null===(a=null==e?void 0:e.ctx)||void 0===a?void 0:a.moduleId)&&void 0!==c?c:-2742),t.contentBlockReference&&(this.allowPublish=t.contentBlockReference.publishingMode===r.C.IDs.publishAllowed)}},"./src/context/parts/context-item.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfItem:()=>o});var o=function(t){}},"./src/context/parts/context-page.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfPage:()=>o});var o=function(t,e){var n,o,r,i;t.Environment&&(this.id=t.Environment.PageId),this.id=null!==(i=null!==(r=null!==(n=this.id)&&void 0!==n?n:null===(o=null==e?void 0:e.ctx)||void 0===o?void 0:o.pageId)&&void 0!==r?r:window.$2sxc.env.page())&&void 0!==i?i:-2742}},"./src/context/parts/context-system.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfSystem:()=>o});var o=function(t){var e;this.problems=null===(e=t.error)||void 0===e?void 0:e.problems,t.error&&(this.error=t.error.type)}},"./src/context/parts/context-tenant.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfTenant:()=>o});var o=function(t){t.Environment}},"./src/context/parts/context-ui.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfUi:()=>o});var o=function(t){t.Ui&&(this.autoToolbar=t.Ui.AutoToolbar)}},"./src/context/parts/context-user.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextOfUser:()=>s});var o,r=n("./src/context/html-attribute/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return e&&e.User?(n.CanDevelop=e.User.CanDevelop,n.CanAdmin=e.User.CanAdmin,n.canSwitchEdition=e.User.canSwitchEdition,n):n}return i(e,t),e}(r.AttrJsonUser)},"./src/context/parts/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContentAppUnifiedInCtxAndAttr:()=>o.ContentAppUnifiedInCtxAndAttr,ContentBlockUnifiedInCtxAndAttr:()=>r.ContentBlockUnifiedInCtxAndAttr,ContextOfApp:()=>o.ContextOfApp,ContextOfContentBlock:()=>r.ContextOfContentBlock,ContextOfInstance:()=>i.ContextOfInstance,ContextOfItem:()=>s.ContextOfItem,ContextOfPage:()=>a.ContextOfPage,ContextOfSystem:()=>c.ContextOfSystem,ContextOfTenant:()=>l.ContextOfTenant,ContextOfUi:()=>u.ContextOfUi,ContextOfUser:()=>d.ContextOfUser});var o=n("./src/context/parts/context-app.ts"),r=n("./src/context/parts/context-content-block.ts"),i=n("./src/context/parts/context-instance.ts"),s=n("./src/context/parts/context-item.ts"),a=n("./src/context/parts/context-page.ts"),c=n("./src/context/parts/context-system.ts"),l=n("./src/context/parts/context-tenant.ts"),u=n("./src/context/parts/context-ui.ts"),d=n("./src/context/parts/context-user.ts")},"./src/core/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApiUrlRoots:()=>o.ApiUrlRoots,AppApiMap:()=>o.AppApiMap,AppApiMarker:()=>o.AppApiMarker,AssetsLoader:()=>o.AssetsLoader,Attributes:()=>o.Attributes,C:()=>o.C,HasLog:()=>o.HasLog,HeaderNames:()=>o.HeaderNames,Insights:()=>o.Insights,Log:()=>o.Log,LogCall:()=>o.LogCall,LogEntry:()=>o.LogEntry,LogEntryOptions:()=>o.LogEntryOptions,NoJQ:()=>o.NoJQ,NumberNotDefinedHuge:()=>o.NumberNotDefinedHuge,Obj:()=>o.Obj,SxcApiUrlRoot:()=>o.SxcApiUrlRoot,SxcVersion:()=>o.SxcVersion,ToSxcName:()=>o.ToSxcName,urlClean:()=>o.urlClean});var o=n("../core/index.ts")},"./src/dnn/dnn-08.00.04.ts":()=>{"use strict";!function(){if(null!=window.$){var t=window.$.fn.attr;window.$.fn.attr=function(){var e=t.apply(this,arguments);return"class"!==arguments[0]||"string"!=typeof e||-1===e.search("DnnModule-2sxc ")?e:e.replace("DnnModule-2sxc ","")+" DnnModule-2sxc"}}}()},"./src/dnn/index.ts":(t,e,n)=>{"use strict";n.r(e),n("./src/dnn/dnn-08.00.04.ts")},"./src/entity-manipulation/item-commands.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{contentItems:()=>r});var o=n("./src/i18n/index.ts"),r={delete:function(t,e,n,r){if(!confirm((0,o.translate)("Delete.Confirm").replace("{id}",String(e)).replace("{title}",r)))return Promise.resolve();var i={zoneId:t.app.zoneId,appId:t.app.id};return t.sxc.webApi.fetchRaw(t.sxc.webApi.url("app/auto/content/any/".concat(n),i),void 0,"DELETE").then((function(t){if(t.status>=200&&t.status<300)location.reload();else if(t.status>=400&&t.status<500){var e=(0,o.translate)("Delete.ErrCheckConsole");401===t.status&&alert((0,o.translate)("Delete.ErrPermission")+e),400===t.status&&alert((0,o.translate)("Delete.ErrInUse")+e)}})).catch((function(t){console.log(t)}))}}},"./src/html/dom-tools.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{HtmlTools:()=>i});var o=n("./src/constants/index.ts"),r=n("../$2sxc/src/dom/dom-tools.ts"),i=function(){function t(){}return t.disable=function(t){t.setAttribute(o.C.Toolbar.attr.disable,"true")},t.isDisabled=function(t){return!!r.DomTools.getTag(t).getAttribute(o.C.Toolbar.attr.disable)},t.getFirstAttribute=function(e,n,o){return t.tryGetAttrText(e,n)||t.tryGetAttrText(e,o)||"{}"},t.tryGetAttrText=function(t,e){var n=t.attributes.getNamedItem(e);return n&&n.textContent},t.addClasses=function(t,e){if(e){e.indexOf(",")&&(e=e.replace(","," "));for(var n=e.split(" "),o=0;o<n.length;o++)n[o]&&t.classList.add(n[o])}},t}()},"./src/i18n/2sxc.translate.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{translate:()=>r});var o=n("./src/i18n/index.ts");function r(t){return o.Translator.translate(t)}},"./src/i18n/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Translator:()=>o.Translator,primaryLanguage:()=>i,translate:()=>r.translate,translations:()=>s,translationsPath:()=>a});var o=n("./src/i18n/translator.ts"),r=n("./src/i18n/2sxc.translate.ts"),i="en",s=["en","de","fr","fa","it","uk","nl"],a="dist/inpage/i18n/{{lng}}.js"},"./src/i18n/translator.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Translator:()=>h});var o,r,i=n("./node_modules/i18next/dist/esm/i18next.js"),s=n("./node_modules/i18next-http-backend/esm/index.js"),a=n("./node_modules/loc-i18next/index.js"),c=n.n(a),l=n("./src/i18n/index.ts"),u=n("./src/constants/ids.ts"),d=n("./src/context/bundles/index.ts"),p=n("./src/core/index.ts"),f=n("./src/sxc/sxc-tools.ts"),m=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=new(function(t){function e(){var e=t.call(this,"Sys.Trnslt")||this;return e.locReady=!1,e.initialized=!1,p.Insights.add("system","translator",e.log),e.i18n=i.default,e}return m(e,t),e.prototype.translate=function(t){return this.initialized&&this.i18n.isInitialized&&this.i18n.t(t)||t},e.prototype.initManager=function(t){var e=this,n=this.log.call("initManager");if(this.initialized)return n.done("already initialized");var o=t.context||this.tryToFindAContext();n.add("will initialize");var r=window.$2sxc.env.uiRoot();this.i18n.use(s.default).init({lng:o.app.currentLanguage.substr(0,2),fallbackLng:l.primaryLanguage,preload:[l.primaryLanguage],backend:{loadPath:(0,p.urlClean)(r+l.translationsPath)}},(function(){return e.initLoc()})),this.initialized=!0,n.done()},e.prototype.tryToFindAContext=function(){var t=this.log.call("tryToFindAContext");t.add("no context found, will seek");var e=document.querySelector("div[data-cb-id]");this.initialized=!0;var n=window.$2sxc(e);this.initialized=!1;var o=f.SxcTools.getEditContext(n),r=new d.ContextComplete(o,n);return r.sxc=n,t.return(r)},e.prototype.initLoc=function(){var t=this.log.call("initLoc");r=c().init(i.default),this.locReady=!0,this.autoTranslateMenus(),t.done()},e.prototype.autoTranslateMenus=function(){var t=this.log.call("autoTranslateMenus");if(!this.locReady)return t.done("loc not ready");var e=document.querySelectorAll(u.IDs.sel.tagScMenu);r(u.IDs.sel.tagScMenu);var n=document.querySelectorAll(".sc-i18n");r(".sc-i18n"),t.add("found ".concat(e.length," menus and ").concat(n.length," buttons")),t.done()},e}(p.HasLog))},"./src/manage/edit-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{EditManager:()=>d});var o,r=n("./src/cms/sxc-global-cms.ts"),i=n("./src/context/bundles/context-bundle-button.ts"),s=n("./src/plumbing/index.ts"),a=n("./src/toolbar/index.ts"),c=n("./src/toolbar/render/toolbar-renderer.ts"),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)},d=function(t){function e(e,n,o){var r=t.call(this,"Edit.Mng",o,"start")||this;return r.editContext=e,r.context=n,r._isEditMode=function(){var t;return null!==(t=r.editContext.Environment.IsEditable)&&void 0!==t&&t},r}return l(e,t),e.prototype.run=function(t,e,n,o){var s=this.log.call("run<T>","triggeredBy: ".concat(o));if(t.context||t.workflows)throw"You are calling '.manage.run(...)' with a parameter 'context' or workflows. You should probably be calling the new '.cms.run(...)' instead.";var a=i.ContextComplete.findContext(this.context.sxc);return s.done(),(new r.SxcGlobalCms).runInternal(a,t,e,n,"editManager.run")},e.prototype.getButton=function(t,e){return this.context.button=a.ToolbarManager.singleton().getLoader("getButton").groups.convertToButton(t,{},{},{}),new c.ToolbarRenderer(this.context).button.render(this.context,e).outerHTML},e.prototype.getToolbar=function(t,e){var n=Array.isArray(t)?t:u({},t);t={settings:u(u({},t.settings),e),toolbar:n};var o=a.ToolbarManager.singleton().loadConfig(this.context,t);return this.context.toolbar=o,new c.ToolbarRenderer(this.context).render()},e.prototype._updateContentGroupGuid=function(t,e){t.contentBlock.contentGroupId=e,this.editContext.contentBlock.Guid=e},e}(s.HasLog)},"./src/manage/ng-dialog-params.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{NgUrlValuesWithoutParams:()=>o});var o=function(t,e){window.$2sxc;var n,o,r,i,s,a,c,l,u,d=null===(n=t.sxc)||void 0===n?void 0:n.ctx;if(!0===(null==d?void 0:d.complete)){this.zoneId=d.zoneId,this.appId=d.appId,null!=d.moduleId&&(this.mid=d.moduleId);var p=null!==(o=null==d?void 0:d.blockId)&&void 0!==o?o:this.mid;null!=p&&p&&(this.cbid=p)}else this.zoneId=null!==(r=null==d?void 0:d.zoneId)&&void 0!==r?r:t.app.zoneId,this.appId=null!==(i=null==d?void 0:d.appId)&&void 0!==i?i:t.app.id,this.mid=null!==(s=null==d?void 0:d.moduleId)&&void 0!==s?s:t.instance.id,this.cbid=null!==(a=null==d?void 0:d.blockId)&&void 0!==a?a:t.contentBlockReference.id;this.partOfPage=e,e&&(this.publishing=t.contentBlockReference.publishingMode),(null===(u=null===(l=null===(c=null==t?void 0:t.button)||void 0===c?void 0:c.command)||void 0===l?void 0:l.params)||void 0===u?void 0:u.apps)&&(this.apps=t.button.command.params.apps)}},"./src/manage/session-state-handler.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SessionStateHandler:()=>s});var o,r=n("./src/core/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,"Ses.State")||this;return n.key=e,r.Insights.add("system","session-state "+e,n.log),n}return i(e,t),e.prototype.set=function(t){this.log.add("state '".concat(this.key,"' set(").concat(t,")"));try{sessionStorage.setItem(this.key,t)}catch(t){}},e.prototype.remove=function(){this.log.add("state '".concat(this.key,"' remove()"));try{sessionStorage.removeItem(this.key)}catch(t){}},e.prototype.get=function(){var t=function(t){try{var e=sessionStorage.getItem(t);return JSON.parse(e)}catch(t){return null}}(this.key);this.log.add("state '".concat(this.key,"' get() = '").concat(t,"'"));try{return t}catch(t){}},e}(r.HasLog)},"./src/manage/sxc-global-manage.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcGlobalManage:()=>c});var o=n("./src/context/index.ts"),r=n("./src/sxc/sxc-cms-real.ts"),i=n("./src/sxc/sxc-tools.ts"),s=n("./src/toolbar/index.ts"),a=n("./src/manage/edit-manager.ts"),c=function(){function t(){this._toolbarManager=s.ToolbarManager.singleton()}return t.prototype.initInstance=function(t){try{var e=o.ContextComplete.findContext(t),n=i.SxcTools.getEditContext(t);t.manage=new a.EditManager(n,e),t.cms=new r.SxcCmsReal(t)}catch(t){console.error("error in 2sxc - will log but not throw",t)}},t}()},"./src/plumbing/TypeTbD.ts":(t,e,n)=>{"use strict";function o(t){return null==t}n.r(e),n.d(e,{isNothing:()=>o})},"./src/plumbing/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApiUrlRoots:()=>r.ApiUrlRoots,AppApiMap:()=>r.AppApiMap,AppApiMarker:()=>r.AppApiMarker,AssetsLoader:()=>r.AssetsLoader,Attributes:()=>r.Attributes,C:()=>r.C,HasLog:()=>r.HasLog,HeaderNames:()=>r.HeaderNames,Insights:()=>r.Insights,Log:()=>r.Log,LogCall:()=>r.LogCall,LogEntry:()=>r.LogEntry,LogEntryOptions:()=>r.LogEntryOptions,NoJQ:()=>r.NoJQ,NumberNotDefinedHuge:()=>r.NumberNotDefinedHuge,Obj:()=>r.Obj,SxcApiUrlRoot:()=>r.SxcApiUrlRoot,SxcVersion:()=>r.SxcVersion,ToSxcName:()=>r.ToSxcName,isNothing:()=>o.isNothing,urlClean:()=>r.urlClean});var o=n("./src/plumbing/TypeTbD.ts"),r=n("../core/index.ts")},"./src/quick-dialog/iframe-bridge.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{IFrameBridge:()=>p});var o,r=n("./src/contentBlock/content-block-editor.ts"),i=n("./src/contentBlock/render.ts"),s=n("./src/context/bundles/context-bundle-button.ts"),a=n("./src/core/index.ts"),c=n("./src/quick-dialog/quick-dialog.ts"),l=n("./src/quick-dialog/quick-dialog-config.ts"),u=n("../$2sxc/src/dom/dom-tools.ts"),d=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e){var n=t.call(this,"QDl.IfBrig",e.log)||this;return n.changed=!1,n}return d(e,t),e.prototype.uncachedSxc=function(){if(!this.instanceSxc)throw"can't find sxc-instance of IFrame, probably it wasn't initialized yet";return this.instanceSxc.recreate(!0)},e.prototype.getContext=function(){return this.log.call("getContext").return(s.ContextComplete.findContext(this.uncachedSxc()))},e.prototype.getAdditionalDashboardConfig=function(){return this.log.call("getAdditionalDashboardConfig").return(l.QuickDialogConfig.fromContext(this.getContext()))},e.prototype.hide=function(){c.QuickDialog.singleton().setVisible(!1)},e.prototype.run=function(t){this.uncachedSxc().manage.run(t,void 0,void 0,"iframeBridge.run")},e.prototype.cancel=function(){c.QuickDialog.singleton().cancel(this)},e.prototype.showMessage=function(t){var e=this.log.call("showMessage");i.renderer.showMessage(this.getContext(),'<p class="no-live-preview-available">'.concat(t,"</p>")),this.scrollToTarget(this.tagModule),e.done()},e.prototype.reloadAndReInit=function(){var t=this,e=this.log.call("reloadAndReInit");return this.changed=!1,e.done(),i.renderer.reloadAndReInitialize(this.getContext(),"iframeBridge.reloadAndReInit",!0,!0).then((function(){return e.add("scrollToTarget"),t.scrollToTarget(t.tagModule)})).then((function(){return e.add("getAdditionalDashboardConfig"),Promise.resolve(t.getAdditionalDashboardConfig())}))},e.prototype.setTemplate=function(t,e,n){var o=this,s=this.log.call("setTemplate","tid: ".concat(t,", tname: ").concat(e,", final: ").concat(n));this.changed=!0;var a=this.getAdditionalDashboardConfig(),l=this.getContext(),u=a.isContent||a.supportsAjax;u||this.showMessage("refreshing <b>".concat(e,"</b>..."));var d=n||!u?r.ContentBlockEditor.singleton().updateTemplateFromDia(l,t):i.renderer.ajaxLoad(l,t,!0,"iframeBridge.setTemplate");return n&&(d=d.then((function(){return c.QuickDialog.singleton().setVisible(!1)}))),d=u?d.then((function(){return o.scrollToTarget(o.tagModule)})):d.then((function(){return window.parent.location.reload()})),s.return(d.then((function(){return u})))},e.prototype.setup=function(t,e){var n=this.log.call("setup");n.data("rewire with sxc: ",t),this.changed=!1,this.instanceSxc=t,this.tagModule=u.DomTools.getTag(t).parentElement,this.sxcCacheKey=t.cacheKey,e&&(this.dialogName=e),n.done()},e.prototype.isConfiguredFor=function(t,e){var n=this.log.call("isConfiguredFor","id:".concat(t,", dialog:").concat(e)),o=this.sxcCacheKey===t&&this.dialogName===e;return n.return(o)},e.prototype.scrollToTarget=function(t){var e=this.log.call("scrollToTarget");a.NoJQ.offset(t).top,e.done()},e}(a.HasLog)},"./src/quick-dialog/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{IFrameBridge:()=>r.IFrameBridge,QuickDialog:()=>i.QuickDialog,QuickDialogConfig:()=>s.QuickDialogConfig,QuickDialogContainer:()=>a.QuickDialogContainer,cancelled:()=>c.cancelled,cbId:()=>c.cbId,urlParams:()=>o.urlParams});var o=n("../connect-parts/inpage-quick-dialog/index.ts"),r=n("./src/quick-dialog/iframe-bridge.ts"),i=n("./src/quick-dialog/quick-dialog.ts"),s=n("./src/quick-dialog/quick-dialog-config.ts"),a=n("./src/quick-dialog/quick-dialog-container.ts"),c=n("./src/quick-dialog/state.ts");n("./src/quick-dialog/quick-dialog.css")},"./src/quick-dialog/quick-dialog-config.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickDialogConfig:()=>o});var o=function(){function t(){}return t.fromContext=function(e){var n=new t;return n.appId=e.app.id,n.isContent=e.app.isContent,n.isInnerContent=e.instance.id!==e.contentBlockReference.id,n.hasContent=e.app.hasContent,n.isList=e.contentBlock.isList,n.templateId=e.contentBlock.templateId,n.contentTypeId=e.contentBlock.contentTypeId,n.supportsAjax=e.app.supportsAjax,n.debug=window.$2sxc.debug.load,n},t}()},"./src/quick-dialog/quick-dialog-container.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickDialogContainer:()=>d});var o,r=n("./src/quick-dialog/index.ts"),i=n("./src/core/index.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a="inpage-frame-wrapper",c="inpage-frame",l="iframe",u='<div class="'.concat(a,'"><div class="').concat(c,'"></div></div>'),d=function(t){function e(e){var n=t.call(this,"QDl.Contnr",e.log)||this;return n.isFullscreen=!1,n.resizeWatcher=null,n}return s(e,t),e.prototype.getOrCreate=function(){var t=document.querySelector(".".concat(a));return null!=t?t:this.buildContainerAndIFrame()},e.prototype.buildContainerAndIFrame=function(){var t=this.log.call("buildContainerAndIFrame"),e=i.NoJQ.domFromString(u)[0];document.querySelectorAll("#personaBar-iframe").length>0&&e.classList.add("persona-bar-visible");var n=document.createElement(l);n.style.cssText="color-scheme: auto;";var o=function(t,e){var n=e.log.call("build");n.data("prototype",r.IFrameBridge.prototype);var o=t;return o.bridge=new r.IFrameBridge(e),n.data("extensions",o.bridge),n.return(o)}(n,this);return e.querySelector(".".concat(c)).append(o),document.body.append(e),this.watchForResize(e),t.return(e,"ok")},e.prototype.getIFrame=function(t){return t||(t=this.getOrCreate()),t.querySelector(l)},e.prototype.setSize=function(t){var e=this.log.call("setSize");this.getOrCreate().style.minHeight=t?"100%":"225px",this.isFullscreen=t,e.done()},e.prototype.watchForResize=function(t){var e=this;if(!this.resizeWatcher){var n=this.log.call("watchForResize");this.resizeWatcher=window.setInterval((function(){try{var o=e.getIFrame(t);if(!o)return void n.onlyAddIfNew("no iframe");var r=o.contentDocument.body.offsetHeight;if(o.previousHeight===r)return void n.onlyAddIfNew("no height change");o.style.minHeight=t.style.minHeight,o.style.height=r+"px",o.previousHeight=r,e.isFullscreen&&(o.style.height="100%",o.style.position="absolute"),n.onlyAddIfNew("changed to "+r)}catch(t){n.add("error",t)}}),200),n.return(null,"watcher added")}},e}(i.HasLog)},"./src/quick-dialog/quick-dialog.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickDialog:()=>u});var o,r=n("./src/constants/index.ts"),i=n("./src/core/index.ts"),s=n("./src/quick-dialog/quick-dialog-container.ts"),a=n("./src/quick-dialog/state.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=null,u=function(t){function e(){var e=t.call(this,"Qdl.Managr")||this;return i.Insights.add("quick-dialog","manager",e.log),e.container=new s.QuickDialogContainer(e),e}return c(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.prototype.isVisible=function(){return null!=l},e.prototype.setVisible=function(t){var e=this.log.call("setVisible"),n=this.container.getOrCreate();n.classList.toggle("dia-select",t),this.rememberDialogState(this.container.getIFrame(n),t),l=t?this.container.getIFrame():null,e.done()},e.prototype.showOrToggleFromToolbar=function(t,e,n,o){var r=this.log.call("showOrToggleFromToolbar","ctx, url: '".concat(e,"', isFullScreen:").concat(n,", name:'").concat(o,"'"));this.container.setSize(n);var i=this.container.getIFrame();if(this.isVisible()){r.add("is already visible");var s=o&&l&&l.bridge.isConfiguredFor(t.sxc.cacheKey,o)?this.promise:null;if(this.cancel(l.bridge),s)return r.return(s,"just toggle off")}var a=this.setUrlToQuickDialog(e);return i.bridge.setup(t.sxc,o),i.setAttribute("src",a),i.contentWindow&&i.contentWindow.reboot&&i.contentWindow.reboot(),this.setVisible(!0),r.return(this.promiseRestart(),"restart")},e.prototype.cancel=function(t){var e=this.log.call("cancel");this.setVisible(!1),a.cancelled.set("true"),this.resolvePromise(t.changed),e.done()},e.prototype.rememberDialogState=function(t,e){var n=this.log.call("rememberDialogState");if(n.add("qDialog persistDia(..., ".concat(e,")")),e){var o=t.bridge.getContext().contentBlockReference.id.toString();return n.add("contentBlockId: ".concat(o,")")),n.return(a.cbId.set(o))}return n.return(a.cbId.remove(),"remove")},e.prototype.promiseRestart=function(){var t=this;return this.promise=new Promise((function(e){return t.resolvePromise=e})),this.promise},e.prototype.setUrlToQuickDialog=function(t){var e=this.log.call("setUrlToQuickDialog",t);return t=t.replace(r.C.DialogPaths.eavUi,r.C.DialogPaths.quickDialog),e.return(t)},e}(i.HasLog)},"./src/quick-dialog/state.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{cancelled:()=>i,cbId:()=>r});var o=n("./src/manage/session-state-handler.ts"),r=new o.SessionStateHandler("dia-cbid"),i=new o.SessionStateHandler("cancelled-dialog")},"./src/quick-edit/context-for-lists.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextForLists:()=>r});var o=n("./src/quick-edit/index.ts"),r=function(){function t(){}return t.getFromDom=function(t){var e=JSON.parse(t.getAttribute(o.QeSelectors.blocks.cb.context)||null)||{};return e.appList=[],null!=e&&"string"==typeof e.apps&&e.apps.length>1&&(e.appList=e.apps.split(",").map((function(t){return t.trim()})).filter((function(t){return!!t}))),e},t}()},"./src/quick-edit/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierBase:()=>r.ModifierBase,ModifierContentBlock:()=>a.ModifierContentBlock,ModifierDnnModule:()=>l.ModifierDnnModule,ModifierDnnModuleInternal:()=>u.ModifierDnnModuleInternal,PositionCoordinates:()=>c.PositionCoordinates,Positioning:()=>d.Positioning,QeSelectors:()=>m.QeSelectors,QuickE:()=>p.QuickE,QuickEClipboard:()=>f.QuickEClipboard,QuickEditConfig:()=>s.QuickEditConfig,QuickEditConfigButtons:()=>s.QuickEditConfigButtons,QuickEditConfigEnableAuto:()=>s.QuickEditConfigEnableAuto,QuickEditConfigRoot:()=>s.QuickEditConfigRoot,QuickEditOverlay:()=>i.QuickEditOverlay,Selection:()=>o.Selection});var o=n("./src/quick-edit/selection.ts"),r=n("./src/quick-edit/modifier-base.ts"),i=n("./src/quick-edit/quick-e-overlays.ts"),s=n("./src/quick-edit/quick-e-configuration.ts"),a=n("./src/quick-edit/modifier-content-block.ts"),c=n("./src/quick-edit/position-coordinates.ts"),l=n("./src/quick-edit/modifier-dnn-module.ts"),u=n("./src/quick-edit/modifier-dnn-module-internal.ts"),d=n("./src/quick-edit/positioning.ts"),p=n("./src/quick-edit/quick-e.ts"),f=n("./src/quick-edit/quick-e-clipboard.ts"),m=n("./src/quick-edit/selectors-instance.ts");n("./src/quick-edit/quickE.scss")},"./src/quick-edit/modifier-base.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierBase:()=>s});var o,r=n("./src/core/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e}(r.HasLog)},"./src/quick-edit/modifier-content-block-internal.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierContentBlockInstance:()=>c});var o,r=n("./src/core/index.ts"),i=n("./src/toolbar/toolbar-manager.ts"),s=n("./src/i18n/index.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n){var o=t.call(this,"QE.MdCbIn",e.log)||this;return o.sxcInstance=n,o}return a(e,t),e.prototype.create=function(t,e,n,o,s,a){if(!s)return alert("can't add content-block as we couldn't find the list"),Promise.resolve();var c=s.querySelectorAll("div.sc-content-block");n>c.length&&(n=c.length);var l={parentId:t,field:e,index:n,app:o,guid:a},u=this.sxcInstance.webApi.fetchJson(this.sxcInstance.webApi.url("cms/block/block",l),void 0,"POST").then((function(t){var e=r.NoJQ.domFromString(t)[0];c.length>0&&n>0?c[c.length>n-1?n-1:c.length-1].after(e):s.prepend(e),window.$2sxc(e),i.ToolbarManager.singleton().buildModule(e)}));return Promise.resolve(u)},e.prototype.move=function(t,e,n,o){var r={parent:t,fields:e,index:n,toIndex:o},i=this.sxcInstance.webApi.fetchRaw(this.sxcInstance.webApi.url("cms/list/move",r),void 0,"POST").then((function(){console.log("done moving!"),window.location.reload()}));return Promise.resolve(i)},e.prototype.delete=function(t){if(!confirm((0,s.translate)("QuickInsertMenu.ConfirmDelete")))return null;var e={parent:t.parentGuid,fields:t.field,index:t.index},n=this.sxcInstance.webApi.fetchRaw(this.sxcInstance.webApi.url("cms/list/Delete",e),void 0,"DELETE").then((function(){console.log("done deleting!"),window.location.reload()}));return Promise.resolve(n)},e}(r.HasLog)},"./src/quick-edit/modifier-content-block.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierContentBlock:()=>l});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/quick-edit/context-for-lists.ts"),s=n("./src/quick-edit/modifier-content-block-internal.ts"),a=n("../$2sxc/src/dom/dom-tools.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return t.call(this,"QE.CntBlk")||this}return c(e,t),e.prototype.getInstanceModifier=function(t){var e=window.$2sxc(t);return new s.ModifierContentBlockInstance(this,e)},e.prototype.delete=function(t){return this.getInstanceModifier(t.list).delete(t)},e.prototype.create=function(t,e,n,o,r,i){return this.getInstanceModifier(r).create(t,e,n,o,r,i)},e.prototype.move=function(t,e){var n=this.findClipListIndex(t),o=this.findClipListIndex(e);this.getInstanceModifier(t.list).move(e.parentGuid,e.field,n,o)},e.prototype.isRealMove=function(t,e){return this.findClipListIndex(t)+1!==this.findClipListIndex(e)},e.prototype.findClipListIndex=function(t){return this.findListIndex(t.item,t.index)},e.prototype.findListIndex=function(t,e){var n,o,r=a.DomTools.getContextOfTag(t);return null!==(o=null===(n=null==r?void 0:r.contentBlockReference)||void 0===n?void 0:n.parentIndex)&&void 0!==o?o:e},e.onCbButtonClick=function(){var t=r.QuickE.singleton().main.activeContentBlock,e=r.QeSelectors.blocks.cb.findClosestList(t),n=e.querySelectorAll(r.QeSelectors.blocks.cb.selector),o=i.ContextForLists.getFromDom(e),s=o.guid||null,a=t.classList.contains(r.QeSelectors.blocks.cb.class)?Array.from(n).indexOf(t)+1:0,c=this.getAttribute("data-action");if(c)return r.QuickEClipboard.singleton().do(c,e,a,r.QeSelectors.blocks.cb.id);var l=r.QuickEClipboard.singleton().modCb.findListIndex(t,a-1)+1,u=this.getAttribute("data-type");return r.QuickEClipboard.singleton().modCb.create(o.parent,o.field,l,u,e,s)},e}(r.ModifierBase)},"./src/quick-edit/modifier-dnn-module-internal.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierDnnModuleInternal:()=>l});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/core/index.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(){return a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},c=function(t){return window.$.dnnSF(t)},l=function(t){function e(e){return t.call(this,"QE.ModMng",e.log)||this}return s(e,t),e.prototype.delete=function(t){var e=c(t).getTabId();return u({modId:t,url:c().getServiceRoot("2sxc")+"dnn/module/delete",method:"GET",data:{tabId:e,modId:t},success:function(){return window.location.reload()}})},e.prototype.create=function(t,e,n){return u({modId:null,url:c().getServiceRoot("internalservices")+"controlbar/GetPortalDesktopModules",method:"GET",data:"category=All&loadingStartIndex=0&loadingPageSize=100&searchTerm=",success:function(o){var r="Default"===n?" Content":" App",i=null;return o.forEach((function(t,e){t.ModuleName===r&&(i=t)})),i?function(t,e,n){var o={Module:n,Page:"",Pane:t,Position:-1,Sort:e,Visibility:0,AddExistingModule:!1,CopyModule:!1};return u({modId:null,url:c().getServiceRoot("internalservices")+"controlbar/AddModule",method:"POST",data:o,success:function(){return window.location.reload()}})}(t,e,i.ModuleID):alert(r+" module not found.")}})},e.prototype.move=function(t,e,n){var o={TabId:c(t).getTabId(),ModuleId:t,Pane:e,ModuleOrder:2*n+0};u({modId:t,url:c(t).getServiceRoot("internalservices")+"ModuleService/MoveModule",method:"POST",data:o,success:function(){return window.location.reload()}})},e.prototype.getPaneName=function(t){return t.getAttribute("id").replace("dnn_","")},e.prototype.getModuleId=function(t){var e=t.match(/DnnModule-([0-9]+)(?:\W|$)/);return e&&2===e.length?Number(e[1]):null},e.prototype.getMoveButtons=function(t){for(var e=r.QuickE.singleton().cachedPanes,n=i.NoJQ.domFromString("<div></div>")[0],o=0;o<e.length;o++){var s=this.getPaneName(e[o]);if(""==(t===s?" selected ":"")){var a=i.NoJQ.domFromString("<a data='".concat(s,"'>").concat(s,"</a>"))[0];n.append(a)}}var c=this;return n.querySelectorAll("a").forEach((function(t){t.addEventListener("click",(function(){var t=r.QuickEClipboard.singleton().clipboard,e=c.getModuleId(t.item.className),n=this.getAttribute("data");c.move(e,n,0)}))})),n},e}(i.HasLog);function u(t){var e={},n={setRequestHeader:function(t,n){e[t]=n}};c(t.modId).setModuleHeaders(n);var o={headers:a({"X-Requested-With":"XMLHttpRequest"},e),method:t.method},r=t.url;if(t.data)switch(t.method){case"GET":r+="string"==typeof t.data?"?".concat(t.data):"?".concat(i.NoJQ.param(t.data));break;case"POST":o.body=new URLSearchParams(i.NoJQ.param(t.data)),o.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"}var s=t.success;return fetch(r,o).then((function(t){if(t.status>=200&&t.status<300)return t.text();throw new Error(t.statusText)})).then((function(t){var e;try{e=JSON.parse(t)}catch(n){e=t}return null==s||s(e),e})).catch((function(t){alert("Error while talking to server: ".concat(t.message))}))}},"./src/quick-edit/modifier-dnn-module.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifierDnnModule:()=>a});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/plumbing/index.ts"),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=t.call(this,"QE.DnnMod")||this;return e.modInternal=new r.ModifierDnnModuleInternal(e),e}return s(e,t),e.prototype.delete=function(t){if(confirm("are you sure?")){var e=this.modInternal.getModuleId(t.item.className);this.modInternal.delete(e)}},e.prototype.move=function(t,e){t.index;var n=e.index,o=this.modInternal.getModuleId(t.item.className),r=this.modInternal.getPaneName(e.list);this.modInternal.move(o,r,n)},e.prototype.isRealMove=function(t,e){return this.modInternal.getPaneName(t.list)!==this.modInternal.getPaneName(e.list)||t.index!==e.index},e.prototype.showSendToPane=function(){var t=r.QuickE.singleton(),e=r.QeSelectors.blocks.mod.findClosestList(t.main.activeModule);if(e){var n=t.selected.querySelector("#paneList");n.matches(":empty")||i.NoJQ.empty(n),n.append(this.modInternal.getMoveButtons(this.modInternal.getPaneName(e)))}},e.onModuleButtonClick=function(){var t=this.getAttribute("data-type"),e=r.QuickE.singleton().main.activeModule,n=r.QeSelectors.blocks.mod.findClosestList(e),o=0;e.classList.contains("DnnModule")&&(o=Array.from(n.querySelectorAll(".DnnModule")).indexOf(e)+1);var i=this.getAttribute("data-action");if(i)return r.QuickEClipboard.singleton().do(i,n,o,r.QeSelectors.blocks.mod.id);var s=r.QuickEClipboard.singleton().modDnn.modInternal;return s.create(s.getPaneName(n),o,t)},e}(r.ModifierBase)},"./src/quick-edit/position-coordinates.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{PositionCoordinates:()=>o});var o=function(t,e){this.x=t,this.y=e}},"./src/quick-edit/positioning.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Positioning:()=>c});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/plumbing/index.ts"),s=n("./src/quick-edit/context-for-lists.ts"),a=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},c=function(){function t(){}return t.get=function(t){return{element:t,x:i.NoJQ.offset(t).left,w:i.NoJQ.width(t),y:i.NoJQ.offset(t).top,yh:i.NoJQ.offset(t).top+(t.matches(r.QeSelectors.eitherCbOrMod)?i.NoJQ.height(t):0)}},t.getBodyPosition=function(){var t=document.body.style.position,e=r.QuickE.singleton();return"relative"===t||"absolute"===t?new r.PositionCoordinates(i.NoJQ.offset(e.body).left,i.NoJQ.offset(e.body).top):new r.PositionCoordinates(0,0)},t.positionAndAlign=l,t.refresh=u,t}();function l(t,e){var n=r.QuickE.singleton();return t.style.left="".concat(e.x-n.bodyOffset.x,"px"),t.style.top="".concat(e.yh-n.bodyOffset.y,"px"),t.style.width="".concat(i.NoJQ.width(e.element),"px"),t.style.display="inline-flex",t}function u(t){var e="sc-cb-highlight-for-insert",n=new Date;(!o||n.getTime()-o.getTime()>1e3)&&(o=n,function(){var t=r.QuickE.singleton();if(t.bodyOffset=c.getBodyPosition(),t.config.innerBlocks.enable){var e=r.QeSelectors.blocks.cb.findAllLists().filter((function(t){return t.matches(":not(.".concat(r.QeSelectors.blocks.cb.singleItem,"), :empty"))})),n=[];e.forEach((function(t){n.push.apply(n,Array.from(t.querySelectorAll(r.QeSelectors.blocks.cb.selector)))})),t.contentBlocks=a(a([],e,!0),n,!0)}if(t.config.modules.enable){var o=t.cachedPanes,i=[];o.forEach((function(t){i.push.apply(i,Array.from(t.querySelectorAll(r.QeSelectors.blocks.mod.selector)))})),t.modules=a(a([],o,!0),i,!0)}}());var i=new r.PositionCoordinates(t.clientX,t.clientY),u=r.QuickE.singleton();u.config.innerBlocks.enable&&u.contentBlocks&&(u.nearestCb=d(u.contentBlocks,i)),u.config.modules.enable&&u.modules&&(u.nearestMod=d(u.modules,i)),u.modActions.forEach((function(t){t.classList.toggle("sc-invisible",null===u.nearestMod)})),u.cbActions.forEach((function(t){t.classList.toggle("sc-invisible",null===u.nearestCb)}));var p,f,m,h,g=u.main._parentNode;if(null!==u.nearestCb||null!==u.nearestMod){var b=u.nearestCb||u.nearestMod,v=r.QeSelectors.blocks.mod.findClosestList(b.element),y=r.QeSelectors.blocks.cb.findClosestList(b.element),w=null!=y?y:v;if(p=w,f=s.ContextForLists.getFromDom(p),m=!0,h=!0,f.appList.length>0&&(m=f.appList.indexOf("Content")>-1,h=f.appList.length-(m?1:0)>0),r.QuickE.singleton().cbActions.forEach((function(t){t.classList.toggle("hide-content",!m),t.classList.toggle("hide-app",!h)})),v){var x=v.getAttribute("id")||"";x.length>4&&(x=x.substr(4)),u.modActions.filter((function(t){return t.matches("[titleTemplate]")})).forEach((function(t){t.setAttribute("title",t.getAttribute("titleTemplate").replace("{0}",x))}))}l(u.main,b),u.main.activeContentBlock=u.nearestCb?u.nearestCb.element:null,u.main.activeModule=u.nearestMod?u.nearestMod.element:null,u.main._parentNode=w,w.classList.add(e)}else u.main._parentNode=null,u.main.style.display="none";g&&g!==u.main._parentNode&&g.classList.remove(e)}function d(t,e){var n=null,o=30,r=e.x+window.scrollX,i=e.y+window.scrollY;return t.forEach((function(t){var e=c.get(t);if(!(r<e.x||r>e.x+e.w)){var s=Math.abs(i-e.yh);s<30&&s<o&&(n=e,o=s)}})),n}},"./src/quick-edit/quick-e-clipboard.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickEClipboard:()=>d});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/constants/index.ts"),s=n("./src/constants/debug.ts"),a=n("./src/core/index.ts"),c=n("./src/quick-edit/context-for-lists.ts"),l=n("./src/quick-edit/modifier-content-block.ts"),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(){var e=t.call(this,s.QuickEClipboardLogId)||this;return e.clipboard=new r.Selection,e.mods={},a.Insights.add("Q-E","clipboard",e.log),e.mods.cb=e.modCb=new l.ModifierContentBlock,e.mods.mod=e.modDnn=new r.ModifierDnnModule,a.NoJQ.ready((function(){return e.initializeSecondaryButtons()})),e}return u(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.prototype.initializeSecondaryButtons=function(){var t=this.log.call("initializeSecondaryButtons"),e=this;r.QuickE.singleton().selected.querySelectorAll("a").forEach((function(t){t.addEventListener("click",(function(){var t=this.getAttribute("data-action");switch(t){case"delete":return e.mods[e.clipboard.type].delete(e.clipboard);case"sendToPane":return e.modDnn.showSendToPane();default:throw new Error("unexpected action: ".concat(t))}}))})),t.done()},e.prototype.do=function(t,e,n,o){var i=this.log.call("do","".concat(t,", domIndex: ").concat(n,", typed: ").concat(o)),s=this.createSpecs(o,e,n);switch(t){case"select":this.mark(s);break;case"paste":var a=this.clipboard.index,c=s.index;if(this.clipboard.type!==s.type)return alert("can't move module-to-block; move only works from module-to-module or block-to-block");if(isNaN(a)||isNaN(c))return this.clearUi();var l=s.type===r.QeSelectors.blocks.cb.id?this.modCb:this.modDnn;if(!l.isRealMove(this.clipboard,s))return this.clearUi();l.move(this.clipboard,s),this.clearUi()}return i.return(null)},e.prototype.mark=function(t){var e,n,o=this.log.call("mark");if(o.data("specs",t),t){if(this.clipboard&&this.clipboard.item===t.item)return o.return(this.clearUi());this.clipboard=t}if(this.removeSelectionMarker(),!this.clipboard.item)return o.done();var i=this.clipboard.item;i.classList.add(r.QeSelectors.selected),(null===(e=i.previousElementSibling)||void 0===e?void 0:e.matches("iframe"))&&i.previousElementSibling.classList.add(r.QeSelectors.selected),this.setSecondaryActionsState(!0);var s=r.QuickE.singleton(),a=(null===(n=this.clipboard)||void 0===n?void 0:n.type)===r.QeSelectors.blocks.cb.id?s.config.innerBlocks.buttons:s.config.modules.buttons;s.selected.toggleOverlay(i,a),o.done()},e.prototype.clearUi=function(){var t=this.log.call("clearUi");this.removeSelectionMarker(),this.clipboard=null,this.setSecondaryActionsState(!1),r.QuickE.singleton().selected.toggleOverlay(!1),t.done()},e.prototype.removeSelectionMarker=function(){document.querySelectorAll(".".concat(r.QeSelectors.selected)).forEach((function(t){return t.classList.remove(r.QeSelectors.selected)}))},e.prototype.setSecondaryActionsState=function(t){var e=this.log.call("setSecondaryActionsState"),n=Array.from(document.querySelectorAll("a.sc-content-block-menu-btn"));(n=n.filter((function(t){return t.classList.contains("icon-sxc-paste")}))).forEach((function(e){return e.classList.toggle(i.C.ClsNames.UnAvailable,!t)})),e.done()},e.prototype.createSpecs=function(t,e,n){var o=this.log.call("createSpecs","".concat(t,", ..., ").concat(n)),i=e.querySelectorAll(r.QeSelectors.blocks[t].selector),s=n>=i.length?i[i.length-1]:i[n],a=c.ContextForLists.getFromDom(e)||{parent:"dnn",field:e.id,parentGuid:null};return o.return({parent:a.parent,parentGuid:a.parentGuid,field:a.field,list:e,item:s,index:n,type:t})},e}(a.HasLog)},"./src/quick-edit/quick-e-configuration.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickEditConfig:()=>a,QuickEditConfigButtons:()=>s,QuickEditConfigEnableAuto:()=>i,QuickEditConfigRoot:()=>c});var o,r=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i="auto",s=function(){this.addContent=!0,this.addApp=!0,this.select=!0,this.paste=!0,this.delete=!0,this.move=!0},a=function(){this.enable="auto"},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.getDefault=function(){return{enable:!0,buttons:new s,innerBlocks:{enable:i},modules:{enable:i}}},e}(a)},"./src/quick-edit/quick-e-overlays.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickEditOverlay:()=>o});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/commands/index.ts"),s=n("./src/constants/index.ts"),a=n("./src/plumbing/index.ts"),c=i.iconPrefix;!function(t){t.setButtonActivationClasses=function(t,e){for(var n=function(t,n){e.forEach((function(e){e.classList.remove("enable-".concat(t),"disable-".concat(t))}))},o=0,i=Object.entries(new r.QuickEditConfigButtons);o<i.length;o++){var s=i[o],a=s[0];s[1],n(a)}for(var c=function(t,n){e.forEach((function(e){e.classList.add("".concat(n?"enable":"disable","-").concat(t))}))},l=0,u=Object.entries(t);l<u.length;l++){var d=u[l];c(a=d[0],d[1])}},t.btn=function(t,e,n,o,r,i){return"<a class='sc-content-block-menu-btn sc-cb-action ".concat(c).concat(e," ").concat(o?" sc-invisible ":"").concat(r?" ".concat(s.C.ClsNames.UnAvailable," "):"").concat(i,"' data-action='").concat(t,"' data-i18n='[title]QuickInsertMenu.").concat(n,"'></a>")},t.selectedOverlay=a.NoJQ.domFromString('<div class="sc-content-block-menu sc-content-block-selected-menu sc-i18n"></div>').map((function(e){return e.append(a.NoJQ.domFromString(t.btn("delete","trash-empty","Delete"))[0],a.NoJQ.domFromString(t.btn("sendToPane","move","Move",null,null,"sc-cb-mod-only"))[0],a.NoJQ.domFromString('<div id="paneList"></div>')[0]),e}))[0]}(o||(o={})),o.selectedOverlay.toggleOverlay=function(t,e){if(t){var n=r.Positioning.get(t);n.yh=n.y+20,r.Positioning.positionAndAlign(o.selectedOverlay,n),o.selectedOverlay.target=t,o.setButtonActivationClasses(e,Array.from(o.selectedOverlay.querySelectorAll("a")))}else o.selectedOverlay.style.display="none"}},"./src/quick-edit/quick-e.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QuickE:()=>u});var o,r=n("./src/quick-edit/index.ts"),i=n("./src/core/index.ts"),s=n("./src/quick-edit/quick-e-configuration.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},l="quick-edit-config",u=function(t){function e(){var e=t.call(this,"Q-E.Main")||this;return e.body=document.body,e.main=i.NoJQ.domFromString('<div class="sc-content-block-menu sc-content-block-quick-insert sc-i18n"></div>')[0],e.template="<a class='".concat("sc-content-block-menu-addcontent"," sc-invisible' data-type='Default' data-i18n='[titleTemplate]QuickInsertMenu.AddBlockContent'>&nbsp;</a>")+"<a class='".concat("sc-content-block-menu-addapp"," sc-invisible' data-type='' data-i18n='[titleTemplate]QuickInsertMenu.AddBlockApp'>&nbsp;</a>")+"".concat(r.QuickEditOverlay.btn("select","ok","Select",!0)).concat(r.QuickEditOverlay.btn("paste","paste","Paste",!0,!0)),e.selected=r.QuickEditOverlay.selectedOverlay,e.contentBlocks=null,e.cachedPanes=null,e.modules=null,e.nearestCb=null,e.nearestMod=null,e.cbActions=i.NoJQ.domFromString(e.template),e.modActions=i.NoJQ.domFromString(e.template.replace(/QuickInsertMenu.AddBlock/g,"QuickInsertMenu.AddModule")).map((function(t){return t.setAttribute("data-context","module"),t.classList.add("sc-content-block-menu-module"),t})),e.config=s.QuickEditConfigRoot.getDefault(),i.Insights.add("Q-E","manager",e.log),e.modActions.forEach((function(t){t.addEventListener("click",r.ModifierDnnModule.onModuleButtonClick)})),e.cbActions.forEach((function(t){t.addEventListener("click",r.ModifierContentBlock.onCbButtonClick)})),e}return a(e,t),e.singleton=function(){var t,n;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=null!==(n=window.$quickE)&&void 0!==n?n:new e},e.prototype.start=function(){var t=this.log.call("start");try{this.loadPageConfig(),this.body&&this.config.enable&&(this.bodyOffset=r.Positioning.getBodyPosition(),this.enable(),this.initWatchMouse())}catch(t){console.error("couldn't start quick-edit",t)}t.done()},e.prototype.reset=function(){var t=this.log.call("reset");this.loadPageConfig(),t.done()},e.prototype.loadPageConfig=function(){var t,e,n,o,r,i,a=this.log.call("loadPageConfig",null,null,{config:this.config});this.logConfig();var u,d=document.querySelectorAll("[".concat(l,"]"));if((null==d?void 0:d.length)>0){a.add("found configs",d);for(var p={},f=d.length;f>=0;f--){u=d[0].getAttribute(l);try{var m=JSON.parse(u);a.data("additional config",m),p=c(c({},p),m),a.data("merged config",p)}catch(t){a.add("had trouble with json"),console.warn("had trouble with json",t)}}var h=s.QuickEditConfigRoot.getDefault();this.config=c(c(c({},h),p),{buttons:c(c({},h.buttons),p.buttons)})}else a.add("no configs found, will use exiting");this.config.innerBlocks.buttons=c(c({},null===(t=this.config)||void 0===t?void 0:t.buttons),null===(n=null===(e=this.config)||void 0===e?void 0:e.innerBlocks)||void 0===n?void 0:n.buttons),this.config.modules.buttons=c(c({},null===(o=this.config)||void 0===o?void 0:o.buttons),null===(i=null===(r=this.config)||void 0===r?void 0:r.modules)||void 0===i?void 0:i.buttons),this.logConfig(),this.detectWhichMenusToActivate(),a.done()},e.prototype.detectWhichMenusToActivate=function(){var t=this.config,e=this.log.call("detectWhichMenusToActivate"),n=r.QeSelectors.blocks.cb.findAllLists(),o=n.length>0;e.add("has Content Blocks: ".concat(o),n),null!==t.modules.enable&&t.modules.enable!==s.QuickEditConfigEnableAuto||(t.modules.enable=!o),null!==t.innerBlocks.enable&&t.innerBlocks.enable!==s.QuickEditConfigEnableAuto||(t.innerBlocks.enable=o),e.add("module.enable: ".concat(t.modules.enable)),e.add("innerBlocks.enable: ".concat(t.innerBlocks.enable)),e.done()},e.prototype.enable=function(){var t=this.log.call("enable");this.prepareToolbarInDom(),this.initPanes(),t.done()},e.prototype.prepareToolbarInDom=function(){var t=this,e=this.log.call("prepareToolbarInDom");this.body.append(this.main),this.body.append(this.selected),this.cbActions.forEach((function(e){return t.main.append(e)})),this.modActions.forEach((function(e){return t.main.append(e)})),r.QuickEditOverlay.setButtonActivationClasses(this.config.innerBlocks.buttons,this.cbActions),r.QuickEditOverlay.setButtonActivationClasses(this.config.modules.buttons,this.modActions),e.done()},e.prototype.initPanes=function(){var t=this.log.call("initPanes");this.cachedPanes=r.QeSelectors.blocks.mod.findAllLists(),this.cachedPanes.forEach((function(t){t.classList.add("sc-cb-pane-glow")})),t.done()},e.prototype.initWatchMouse=function(){var t=this.log.call("initWatchMouse"),e=null;document.body.addEventListener("mousemove",(function(t){null===e&&(e=window.setTimeout((function(){requestAnimationFrame((function(){r.Positioning.refresh(t),e=null}))}),20))})),t.done()},e.prototype.logConfig=function(){this.log.add("config enabled: ".concat(this.config.enable,", mod: ").concat(this.config.modules.enable,", cb: ").concat(this.config.innerBlocks.enable,". ").concat(JSON.stringify(this.config),")"))},e}(i.HasLog)},"./src/quick-edit/selection.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Selection:()=>o});var o=function(){}},"./src/quick-edit/selectors-instance.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{QeSelectors:()=>r});var o={cb:{id:"cb",class:"sc-content-block",selector:".sc-content-block",findAllLists:function(){return Array.from(document.querySelectorAll(".sc-content-block-list"))},findClosestList:function(t){return t.closest(".sc-content-block-list")},context:"data-list-context",singleItem:"single-item"},mod:{id:"mod",class:"DnnModule",selector:".DnnModule",findAllLists:function(){for(var t=[],e=document.querySelectorAll("*"),n=0;n<e.length;n++){var o=e[n];if(o.matches(".DNNEmptyPane, .dnnDropEmptyPanes"))t.push(o);else for(var r=o.children,i=0;i<r.length;i++)if(r[i].matches(".DnnModule")){t.push(o);break}}return t},findClosestList:function(t){if(!t)return null;if(t.matches(".DNNEmptyPane, .dnnDropEmptyPanes"))return t;for(var e=0;e<t.children.length;e++)if(t.children[e].matches(".DnnModule"))return t;return o.mod.findClosestList(t.parentElement)},context:null}},r={blocks:o,eitherCbOrMod:".DnnModule, .sc-content-block",selected:"sc-cb-is-selected"}},"./src/sxc/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcCmsReal:()=>o.SxcCmsReal,SxcTools:()=>r.SxcTools});var o=n("./src/sxc/sxc-cms-real.ts"),r=(n("./src/sxc/sxc-global-with-cms.ts"),n("./src/sxc/sxc-tools.ts"))},"./src/sxc/sxc-cms-real.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcCmsReal:()=>l});var o,r=n("../$2sxc/src/sxc/sxc-cms.ts"),i=n("./src/cms/run-params-helpers.ts"),s=n("./src/cms/sxc-global-cms.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},l=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.run=function(t){return i.RunParamsHelpers.ensureRunParamsInstanceOrError(t),(new s.SxcGlobalCms).runInternal(c(c({},t),{context:this.sxc,triggeredBy:"sxcCmsReal.run"}))},e}(r.SxcCms)},"./src/sxc/sxc-global-with-cms.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/sxc/sxc-tools.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SxcTools:()=>r});var o=n("../$2sxc/src/dom/dom-tools.ts"),r=function(){function t(){}return t.getEditContext=function(t,e){return o.DomTools.getContext(t,e)},t}()},"./src/system/2sxc.system.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SystemUpgrader:()=>o});var o=function(){function t(){}return t.prototype.finishUpgrade=function(t){window.$2sxc(t).webApi.fetchRaw("sys/install/resume").then((function(){alert("Upgrade ok, restarting the CMS and reloading..."),location.reload()})),alert("starting upgrade. This could take a few minutes. You'll see an 'ok' when it's done. Please wait...")},t}()},"./src/system/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{SystemUpgrader:()=>o.SystemUpgrader});var o=n("./src/system/2sxc.system.ts")},"./src/toolbar/config-loaders/button-config-loader.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonConfigLoader:()=>l});var o,r=n("./src/toolbar/config-loaders/index.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/config/index.ts"),a=n("./src/toolbar/config/button-safe.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this,"Tlb.BtCfBl",e.log)||this;return n.toolbar=e,n}return c(e,t),e.prototype.normalize=function(t){var e=this.log.call("normalize");e.data("initial",t);var n=t;if(n._expanded||n.command)return e.return(n,"already expanded, won't modify");if("string"==typeof t)return e.return(this.btnConfigStructure(t,{}),"found name, use that");if(r.InPageCommandJson.hasActions(t))return e.add("action found, will move down to .command",t),t.action&&(t.action=t.action.trim()),e.return({command:t,_expanded:!0},"had actions, convert to commands");throw"can't expand InPageButtonConfiguration - unexpected type signature encountered"},e.prototype.btnConfigStructure=function(t,e){return this.log.call("getFromName",t).return({command:{action:t.trim(),params:e},_expanded:!0},'name "'.concat(t,'" found, will re-map to .command.action'))},e.prototype.removeDisableButtons=function(t,e){for(var n=this.log.call("removeDisableButtons","length of groups: ".concat(e.groups.length)),o=e.groups,r=0;r<o.length;r++){var i=o[r].buttons;this.removeUnfitButtons(t,i),n.add("will disable appropriate buttons"),(0===i.length||1===i.length&&"more"===i[0].command.name)&&(n.add('found no more buttons except for the "more" - will remove that group'),o.splice(r--,1))}n.return(null)},e.prototype.addDefaultBtnSettings=function(t,e,n,o){for(var r=this.log.call("addDefaultBtnSettings","","for ".concat((function(){return t.command.name}))),i=0;i<u.length;i++)d(t,e,n,o,u[i]);r.return(null)},e.prototype.removeUnfitButtons=function(t,e){for(var n=this.log.call("removeUnfitButtons"),o="",r=0;r<e.length;r++){var i=e[r];if(i.command){t.button=i;var c=this.toolbar.toolbarV10.rules.find(i.id||i.command.name),l=null==c?void 0:c.overrideShow();if(null==l){var u=new a.ButtonSafe(i,t);s.ButtonCommand.mergeAdditionalParams(u.action(),null==c?void 0:c.params),l=u.showCondition()}!1===l&&(o+="#".concat(r,' "').concat(i.command.name,'"; '),e.splice(r--,1)),n.add("btn '".concat(i.command.name,"' show ").concat(l))}}o&&n.add("removed buttons: ".concat(o)),n.return(null)},e}(i.HasLog),u=["classes","icon","title","dynamicClasses","showCondition","disabled"];function d(t,e,n,o,r){var i=t;if(!i[r]){if(e&&e[r])return i[r]=e[r];if(n&&n[r])return i[r]=n[r];if(t.command&&t.command.name){var s=o.get(t.command.name);if(s&&s.buttonDefaults){var a=s.buttonDefaults;if(a[r])return i[r]=a[r]}}}}},"./src/toolbar/config-loaders/command-config-loader.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{CommandConfigLoader:()=>s});var o,r=n("./src/core/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,"Tlb.CmdLdr",e.log)||this;return n.toolbar=e,n}return i(e,t),e.prototype.updateToV9=function(t){if(!t.entity||!t.entity._2sxcEditInformation)return t;var e=t.entity._2sxcEditInformation;return void 0!==e.sortOrder&&(t.useModuleList=!0),void 0!==e.sortOrder&&(t.sortOrder=e.sortOrder),void 0!==t.entity.EntityId&&(t.entityId=t.entity.EntityId),delete t.entity,t},e}(r.HasLog)},"./src/toolbar/config-loaders/config-formats/in-page-button-group.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{InPageButtonGroupJson:()=>o});var o=function(){}},"./src/toolbar/config-loaders/config-formats/in-page-button.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{InPageButtonJson:()=>o});var o=function(){function t(){}return t.is=function(t){return void 0!==t.command||void 0!==t.action},t.isArray=function(e){return e.length>0&&t.is(e[0])},t.toButton=function(t){var e={};return t.classes&&(e.classes=t.classes),t.dialog&&(e.dialog=t.dialog),t.disabled&&(e.disabled=t.disabled),t.icon&&(e.icon=t.icon),t.fullScreen&&(e.fullScreen=r(t.fullScreen)),t.icon&&(e.icon=r(t.icon)),t.inlineWindow&&(e.inlineWindow=r(t.inlineWindow)),t.newWindow&&(e.newWindow=r(t.newWindow)),t.partOfPage&&(e.partOfPage=r(t.partOfPage)),t.title&&(e.title=r(t.title)),e},t}();function r(t){return null!=t&&("function"==typeof t?t:function(){return t})}},"./src/toolbar/config-loaders/config-formats/in-page-command.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{InPageCommandJson:()=>o});var o=function(){function t(){}return t.hasActions=function(t){return"string"==typeof t.action},t.hasModify=function(t){return!!t.modify},t.noAction=function(t){return delete t.action,t},t}()},"./src/toolbar/config-loaders/config-formats/toolbar-wip.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/toolbar/config-loaders/group-config-loader.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonGroupConfigLoader:()=>p});var o,r=n("./src/toolbar/config-loaders/index.ts"),i=n("./src/commands/index.ts"),s=n("./src/core/index.ts"),a=n("./src/toolbar/config/index.ts"),c=n("./src/toolbar/templates/constants.ts"),l=n("./src/toolbar/config/toolbar-settings.ts"),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(){return d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)},p=function(t){function e(e){var n=t.call(this,"Tlb.GrpCnf",e.log)||this;return n.toolbar=e,n}return u(e,t),e.prototype.expandButtonGroups=function(t){var e=this.log.call("expandButtonGroups");e.add("will expand groups - found ".concat(t.groups.length," items"));for(var n=0;n<t.groups.length;n++){var o=t.groups[n],r=o.defaults,i=this.expandButtonList(o,t.settings),s=[];if(Array.isArray(i)){e.add("will process ".concat(i.length," buttons"));for(var a=0;a<i.length;a++)s.push(this.convertToButton(i[a],t.params,t.defaults,r))}else e.add("no button array found, won't do a.nything");o.buttons=s}var c=t;return this.dropMoreIfOnlyOneGroup(c),e.return(c)},e.prototype.convertToButton=function(t,e,n,o){var s=t.command,c=s.action,l=a.Button.splitName(c).name;i.Commands.singleton().get(l)||(this.log.add("couldn't find action ".concat(l," - show warning")),console.warn("warning: toolbar-button with unknown action-name:",l));var u=s.params||r.InPageCommandJson.noAction(s);s=this.toolbar.command.updateToV9(s);var p=d(d({},u),e),f=new a.ButtonCommand(l,p),m=new a.Button(f,c);return m=d(d({},m),r.InPageButtonJson.toButton(t)),this.toolbar.button.addDefaultBtnSettings(m,o,n,i.Commands.singleton()),m},e.prototype.expandButtonList=function(t,e){var n=this,o=this.log.call("expandButtonList");o.add("initial",t);var r=t.buttons,i=[];if(Array.isArray(r)){o.add("detected array of btns (".concat(r.length,"), will ensure it's an object"));for(var s=0;s<r.length;s++){var a=r[s],c=a.action;o.add("will process actions: '".concat(c,"' for "),a),"string"==typeof c&&c.indexOf(",")>-1?(o.add("actionNames has mult values: '".concat(c,"'")),this.expandButtonAndAddToList(i,a,c)):(o.add("actionNames has 1 value",a),i.push(a))}}else"string"==typeof r?(o.add('detected that it is a string "'.concat(r,'", will split by "," and ...')),this.expandButtonAndAddToList(i,{},r)):(o.add("no special case detected, will use the buttons-object as is"),i=r);o.add("after check, found ".concat(i.length," buttons"),i),this.addMoreButton(e,i);var l=i.map((function(t){return n.toolbar.button.normalize(t)}));return o.return(l,"done")},e.prototype.expandButtonAndAddToList=function(t,e,n){var o=this.log.call("expandButtonAndAddToList","..., ..., '".concat(n,"'"),'button def "'.concat(e,' is string of mult names, will expand into array with action-properties"')),r=n.length?n.split(c.TemplateConstants.ButtonSeparator):[],i=d({},e);delete i.action;for(var s=0;s<r.length;s++){var a=this.toolbar.button.btnConfigStructure(r[s],i);o.data("commandPart",a),t.push(a)}o.return(t)},e.prototype.addMoreButton=function(t,e){var n=this.log.call("addMoreButtons"),o=a.ToolbarSettings.bestAddMorePos(t);if(o&&o!==l.TLB_MORE_NEVER){this.log.add('will add a more "..." button to '.concat(o));var r=this.toolbar.button.btnConfigStructure("more",{});o===l.TLB_MORE_END?e.push(r):e.unshift(r)}else this.log.add('will not add more "..." button');n.return(e)},e.prototype.dropMoreIfOnlyOneGroup=function(t){var e=this.log.call("dropMoreIfOnlyOneGroup");if(1!==t.groups.length)return e.done("not just 1 group");e.add("exactly one group found, will remove more");var n=t.groups[0].buttons,o=n.findIndex((function(t){var e;return"more"===(null===(e=t.command)||void 0===e?void 0:e.name)}));if(-1===o)return e.done("no 'more' button found");n.splice(o,1),e.done("more removed")},e}(s.HasLog)},"./src/toolbar/config-loaders/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonConfigLoader:()=>s.ButtonConfigLoader,ButtonGroupConfigLoader:()=>c.ButtonGroupConfigLoader,CommandConfigLoader:()=>a.CommandConfigLoader,InPageButtonGroupJson:()=>i.InPageButtonGroupJson,InPageButtonJson:()=>o.InPageButtonJson,InPageCommandJson:()=>r.InPageCommandJson,ToolbarConfigLoader:()=>d.ToolbarConfigLoader,ToolbarConfigLoaderV09:()=>l.ToolbarConfigLoaderV09,ToolbarConfigLoaderV10:()=>u.ToolbarConfigLoaderV10});var o=n("./src/toolbar/config-loaders/config-formats/in-page-button.ts"),r=n("./src/toolbar/config-loaders/config-formats/in-page-command.ts"),i=n("./src/toolbar/config-loaders/config-formats/in-page-button-group.ts"),s=n("./src/toolbar/config-loaders/button-config-loader.ts"),a=n("./src/toolbar/config-loaders/command-config-loader.ts"),c=n("./src/toolbar/config-loaders/group-config-loader.ts"),l=n("./src/toolbar/config-loaders/toolbar-config-loader-v09.ts"),u=n("./src/toolbar/config-loaders/toolbar-config-loader-v10.ts"),d=n("./src/toolbar/config-loaders/toolbar-config-loader.ts");n("./src/toolbar/config-loaders/config-formats/toolbar-wip.ts")},"./src/toolbar/config-loaders/toolbar-config-loader-v09.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarConfigLoaderV09:()=>d});var o,r=n("./src/toolbar/config-loaders/index.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/config/index.ts"),a=n("./src/toolbar/rules/index.ts"),c=n("./src/toolbar/templates/index.ts"),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)},d=function(t){function e(e){var n=t.call(this,"Tlb.TlbV09",e.log)||this;return n.configLoader=e,n.rules=new a.RuleManager(e),n}return l(e,t),e.prototype.loadV9=function(t,e){var n=this.log.call("loadV9"),o=e.settings;Object.keys(e.toolbar).length>0&&o==={}&&(n.add("no data or settings, will use default settings for empty"),o=s.ToolbarSettings.getForEmpty());var r=this.getTemplateIfNoButtonsSpecified(t,e.toolbar);n.data("after template check",r);var i=this.buildFullDefinition(t,r,o);return n.return(i,"ok")},e.prototype.getTemplateIfNoButtonsSpecified=function(t,e){var n=this.log.call("getTemplateIfNoButtonsSpecified");if(n.add("initial",e),r.InPageCommandJson.hasActions(e))return n.return(e,"has actions, keep raw");if(c.ToolbarTemplate.hasGroups(e))return n.return(e,"has groups, keep raw");if(c.ToolbarTemplateGroup.is(e))return n.return(e,"is group, keep raw");if(Array.isArray(e))return n.return(e,"is array, keep raw");n.add("no toolbar structure specified, will use standard toolbar template");var o=e.fields?c.ToolbarTemplateSublist.name:c.ToolbarTemplateDefault.name,i=this.configLoader.templates.copy(o);i.params=Array.isArray(e)&&e[0]||e,this.rules.addDeveloperInfos(t);var s=this.rules.getAdd();return this.configLoader.templateEditor.add(i,s),n.return(i,"use template")},e.prototype.buildFullDefinition=function(t,e,n){var o=this.log.call("buildFullDefinition"),r=this.ensureDefinitionTree(e,n);c.ToolbarTemplate.is(e)&&e.debug&&console.log("toolbar: detailed debug on; start build full Def");var i=this.configLoader.buildTreeAndModifyAccordingToRules(t,r);return i.settings._rules=this.rules,o.return(i)},e.prototype.ensureDefinitionTree=function(t,e){var n=this.log.call("ensureDefinitionTree");if(!t)throw"preparing toolbar, with nothing to work on: ".concat(t);var o=new s.Toolbar;o.groups=this.findGroups(t);var r=t;return o.params=r.params||{},o.settings=u(u(u({},s.ToolbarSettings.getDefaults()),r.settings),s.ToolbarSettings.dropEmptyProperties(e)),o.debug=r.debug||!1,o.defaults=r.defaults||{},n.return(o)},e.prototype.findGroups=function(t){var e=this.log.call("findGroups");return e.data("initial",t),t&&0!==Object.getOwnPropertyNames(t).length?(e.add("will detect what initial structure was given"),Array.isArray(t)?(e.add("Case 2: is array"),0===t.length?e.return([],"2a: empty array"):s.Button.isArray(t)?e.return([{buttons:t}],"2b: array of groups"):r.InPageButtonJson.is(t[0])?e.return([{buttons:t}],"2b: is list of buttons, return 1 group"):(console.warn("error detecting groups in this toolbar"),e.return([],"2x: error, it's array but can't detect type, use []"))):(e.add("Case 3: not array"),r.InPageButtonJson.is(t)?e.return([{buttons:[t]}],"Case 3a: not array, but has action/buttons properties, will wrap config into array"):(e.add('Case 3: not array and no "action", will return it or blank'),c.ToolbarTemplate.hasGroups(t)?e.return(t.groups,"4: found groups"):(e.add("can't detect what this is - show warning"),console.warn("toolbar tried to build toolbar but couldn't detect type of this:",[]),e.return([],"warning"))))):e.return([],"case 0: empty object, use []")},e}(i.HasLog)},"./src/toolbar/config-loaders/toolbar-config-loader-v10.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarConfigLoaderV10:()=>u});var o,r=n("./src/constants/debug.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/config/index.ts"),a=n("./src/toolbar/rules/index.ts"),c=n("./src/toolbar/templates/index.ts"),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=(r.Debug.parts.ToolbarConfigLoaderV10,function(t){function e(e){var n=t.call(this,"Tlb.TlbV10",e.log,"constructor")||this;return n.configLoader=e,n.rules=new a.RuleManager(e),n}return l(e,t),e.prototype.loadV10=function(t,e,n){var o,r,i=this,a=this.log.call("loadV10");this.rules.load(n);var l=this.rules.getSettings(),u=null==l?void 0:l.ui;0===Object.keys(u||{}).length&&(u=null==l?void 0:l.params);var d=new s.ToolbarSettings(u),p=this.rules.getToolbar(),f=this.rules.getParams(),m=e.toolbar.fields||(null===(o=null==f?void 0:f.params)||void 0===o?void 0:o.fields)?c.ToolbarTemplateSublist.name:c.ToolbarTemplateDefault.name,h=null!==(r=null==p?void 0:p.name)&&void 0!==r?r:m,g=this.configLoader.templates.copy(h);g.settings=d,f&&(g.params=f.params),this.rules.getRemoveGroups().forEach((function(t){return i.configLoader.templateEditor.removeGroup(g,t.name)})),this.rules.addDeveloperInfos(t);var b=this.rules.getAdd();this.configLoader.templateEditor.add(g,b);var v=this.configLoader.buildTreeAndModifyAccordingToRules(t,g);return v.identifier||(v.identifier=s.Toolbar.createIdentifier()),v.settings._rules=this.rules,a.return(v,"ok")},e}(i.HasLog))},"./src/toolbar/config-loaders/toolbar-config-loader.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarConfigLoader:()=>c});var o,r=n("./src/toolbar/config-loaders/index.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/templates/index.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this,"Tlb.TlbCnf")||this;return n.templates=s.ToolbarTemplateManager.singleton(),n}return a(e,t),e.prototype.setLoggingAndCreateHelpers=function(t){var e=t&&t.debug;void 0===e&&Array.isArray(t)&&t.length&&(e=t[0].debug),(e=e||!1)&&(this.log.keepData=!0,"live"===e.toString()&&(this.log.liveDump=!0),this.log.add("found debug=".concat(e,", will enable intense logging"))),this.toolbarV09=new r.ToolbarConfigLoaderV09(this),this.toolbarV10=new r.ToolbarConfigLoaderV10(this),this.groups=new r.ButtonGroupConfigLoader(this),this.button=new r.ButtonConfigLoader(this),this.command=new r.CommandConfigLoader(this),this.templateEditor=new s.TemplateEditor(this)},e.prototype.load=function(t,e){var n=this.log.call("load","","expand start",{context:t,config:e}),o=e.toolbar=e.toolbar||{};return this.setLoggingAndCreateHelpers(o),Array.isArray(o)&&o.length>=0&&"string"==typeof o[0]?n.return(this.toolbarV10.loadV10(t,e,o),"v10 done"):n.return(this.toolbarV09.loadV9(t,e),"V9 done")},e.prototype.buildTreeAndModifyAccordingToRules=function(t,e){var n=this.log.call("buildFullDefinition"),o=this.groups.expandButtonGroups(e);return this.button.removeDisableButtons(t,o),n.return(o)},e}(i.HasLog)},"./src/toolbar/config/Note.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Note:()=>r});var o=n("./src/constants/rules.ts"),r=function(){function t(t){void 0===t&&(t=void 0),t&&Object.assign(this,t)}return t.toJson64String=function(t){return"".concat(o.prefixJson64).concat(window.btoa(JSON.stringify(t)))},t}()},"./src/toolbar/config/button-command.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonCommand:()=>i});var o=n("./src/commands/index.ts"),r=function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},i=function(){function t(t,e){this.name=t,this.params=e,e||(this.params={}),this.command=o.Commands.singleton().get(t)}return t.mergeAdditionalParams=function(t,e){var n={};return t&&(t.name&&(n.action=t.name),t.params&&(n=r(r(r({},n),t.params),e))),t.params=n,n},t}()},"./src/toolbar/config/button-group.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonGroup:()=>o});var o=function(){function t(t){this.buttons=t,this.defaults={},this.buttons=t||[]}return t.is=function(t){return void 0!==t.buttons},t.isArray=function(t){return t.length&&void 0!==t[0].buttons},t}()},"./src/toolbar/config/button-safe.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ButtonSafe:()=>i});var o=n("./src/toolbar/config/index.ts"),r=n("./src/plumbing/index.ts"),i=function(t,e){var n=this;this.button=t,this.context=e,this.action=function(){return n.button.command},this.classes=function(){return n.button.classes||""},this.color=function(){return s(n.button.color,n.context,void 0)},this.dialog=function(){return s(n.button.dialog,n.context,n.button.command.name)},this.disabled=function(){return s(n.button.disabled,n.context,!1)},this.dynamicClasses=function(){return s(n.button.dynamicClasses,n.context,"")},this.fullScreen=function(){return s(n.button.fullScreen,n.context,!1)},this.icon=function(){return s(n.button.icon,n.context,"")},this.inlineWindow=function(){return s(n.button.inlineWindow,n.context,!1)},this.newWindow=function(){return s(n.button.newWindow,n.context,!1)},this.addParamsToLink=function(){return s(n.button.addParamsToLink,n.context,{})},this.partOfPage=function(){return s(n.button.partOfPage,n.context,!1)},this.showCondition=function(){return s(n.button.showCondition,n.context,!0)},this.tippy=function(t,e){var o,r;return null===(r=(o=n.button).tippy)||void 0===r?void 0:r.call(o,t,e)},this.title=function(){return s(n.button.title,n.context,"unknown-title")},this.uiActionOnly=function(){return s(n.button.uiActionOnly,n.context,!0)}};function s(t,e,n){if((0,r.isNothing)(t))return n;var i=o.Button.isPropGen(t)?t(e):t;return void 0===i?n:i}},"./src/toolbar/config/button.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Button:()=>r});var o=n("./src/plumbing/index.ts"),r=function(){function t(e,n){var r;this.classes="",this.inlineWindow=function(){return!1},this.command=e;var i=t.splitName(n);this.id=i.id,(null===(r=null==e?void 0:e.command)||void 0===r?void 0:r.buttonDefaults)&&o.Obj.TypeSafeAssign(this,e.command.buttonDefaults)}return t.splitName=function(t){var e=t.split("=");return{id:e[0],name:e[1]||t}},t.is=function(t){return void 0!==t.command},t.isArray=function(e){return e.length&&t.is(e[0])},t.isPropGen=function(t){return"function"==typeof t},t}()},"./src/toolbar/config/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Button:()=>r.Button,ButtonCommand:()=>o.ButtonCommand,ButtonGroup:()=>s.ButtonGroup,ButtonSafe:()=>i.ButtonSafe,TLB_FOLLOW_ALWAYS:()=>c.TLB_FOLLOW_ALWAYS,TLB_FOLLOW_INITIAL:()=>c.TLB_FOLLOW_INITIAL,TLB_FOLLOW_SCROLL:()=>c.TLB_FOLLOW_SCROLL,TLB_HOV_BOT:()=>c.TLB_HOV_BOT,TLB_HOV_LEFT:()=>c.TLB_HOV_LEFT,TLB_HOV_MID:()=>c.TLB_HOV_MID,TLB_HOV_NONE:()=>c.TLB_HOV_NONE,TLB_HOV_RIGHT:()=>c.TLB_HOV_RIGHT,TLB_HOV_TOP:()=>c.TLB_HOV_TOP,TLB_MORE_AUTO:()=>c.TLB_MORE_AUTO,TLB_MORE_END:()=>c.TLB_MORE_END,TLB_MORE_NEVER:()=>c.TLB_MORE_NEVER,TLB_MORE_START:()=>c.TLB_MORE_START,TLB_SHOW_ALWAYS:()=>c.TLB_SHOW_ALWAYS,TLB_SHOW_HOVER:()=>c.TLB_SHOW_HOVER,TlbHoverPrefix:()=>c.TlbHoverPrefix,TlbShowPrefix:()=>c.TlbShowPrefix,Toolbar:()=>a.Toolbar,ToolbarSettings:()=>c.ToolbarSettings});var o=n("./src/toolbar/config/button-command.ts"),r=n("./src/toolbar/config/button.ts"),i=n("./src/toolbar/config/button-safe.ts"),s=n("./src/toolbar/config/button-group.ts"),a=n("./src/toolbar/config/toolbar.ts"),c=n("./src/toolbar/config/toolbar-settings.ts");n("./src/toolbar/config/toolbar-button-settings.ts")},"./src/toolbar/config/toolbar-button-settings.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/toolbar/config/toolbar-settings.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TLB_FOLLOW_ALWAYS:()=>w,TLB_FOLLOW_INITIAL:()=>y,TLB_FOLLOW_SCROLL:()=>x,TLB_HOV_BOT:()=>h,TLB_HOV_LEFT:()=>d,TLB_HOV_MID:()=>m,TLB_HOV_NONE:()=>p,TLB_HOV_RIGHT:()=>u,TLB_HOV_TOP:()=>f,TLB_MORE_AUTO:()=>c,TLB_MORE_END:()=>s,TLB_MORE_NEVER:()=>l,TLB_MORE_START:()=>a,TLB_SHOW_ALWAYS:()=>g,TLB_SHOW_HOVER:()=>b,TlbHoverPrefix:()=>r,TlbShowPrefix:()=>i,ToolbarSettings:()=>O});var o=function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r="sc-tb-hover-",i="sc-tb-show-",s="end",a="start",c="auto",l="never",u="right",d="left",p="none",f="top",m="middle",h="bottom",g="always",b="hover",v="default",y="initial",w="always",x="scroll",O=function(){function t(t){var e=this;this.autoAddMore=c,this.hover=u,this.show=b,this.delayShow=0,this.follow=v,this.classes="",this.class="",this.color="",null!=t&&Object.keys(this).forEach((function(n){var o=n;t[o]&&(e[n]=t[o])})),this.follow===v&&(this.follow="none")}return t.dropEmptyProperties=function(t){var e=o({},t);return e.autoAddMore||delete e.autoAddMore,e.classes||delete e.classes,e},t.bestAddMorePos=function(t){var e,n,o=null!==(e=null==t?void 0:t.autoAddMore)&&void 0!==e?e:c;return o===c?(null===(n=null==t?void 0:t.hover)||void 0===n?void 0:n.startsWith(d))?a:s:o===s||o===a||o===l?o:"right"===o||!0===o?s:o},t.getDefaults=function(){return new t({autoAddMore:c,hover:u,show:b,follow:v})},t.getForEmpty=function(){return new t({autoAddMore:c,hover:d,show:b,follow:v})},t.getForEmptyAsRule=function(){return"settings&autoAddMore=".concat(c,"&hover=").concat(d,"&show=").concat(b,"&follow=").concat(v)},t}()},"./src/toolbar/config/toolbar.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{Toolbar:()=>o});var o=function(){function t(){this.groups=[],this.debug=!1,this.identifier=t.createIdentifier()}return t.createIdentifier=function(){return"Toolbar"+Math.floor(99999*Math.random())},t}()},"./src/toolbar/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TagToolbar:()=>r.TagToolbar,TagToolbarManager:()=>i.TagToolbarManager,ToolbarConfigFinderAndInitializer:()=>c.ToolbarConfigFinderAndInitializer,ToolbarInitConfig:()=>a.ToolbarInitConfig,ToolbarManager:()=>o.ToolbarManager,ToolbarRenderer:()=>s.ToolbarRenderer,toolbarSelector:()=>c.toolbarSelector});var o=n("./src/toolbar/toolbar-manager.ts"),r=n("./src/toolbar/tag-toolbars/tag-toolbar.ts"),i=n("./src/toolbar/tag-toolbars/tag-toolbar-manager.ts"),s=n("./src/toolbar/render/toolbar-renderer.ts"),a=n("./src/toolbar/initialize/toolbar-init-config.ts"),c=n("./src/toolbar/initialize/toolbar-finder-and-initializer.ts");n("./src/toolbar/toolbar-event-arguments.ts")},"./src/toolbar/initialize/toolbar-finder-and-initializer.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarConfigFinderAndInitializer:()=>h,toolbarSelector:()=>m});var o,r=n("./src/constants/index.ts"),i=n("./src/context/bundles/context-bundle-button.ts"),s=n("./src/i18n/translator.ts"),a=n("./src/core/index.ts"),c=n("./src/toolbar/render/toolbar-renderer.ts"),l=n("./src/toolbar/tag-toolbars/tag-toolbar.ts"),u=n("./src/toolbar/toolbar-lifecycle.ts"),d=n("./src/toolbar/initialize/toolbar-init-config.ts"),p=n("./src/toolbar/templates/toolbar-when-no-toolbar-provided.ts"),f=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=".sc-menu[toolbar],.sc-menu[data-toolbar],[".concat(r.C.Toolbar.attr.full,"]"),h=function(t){function e(e){var n=t.call(this,"Tlb.Buildr",e.log)||this;return n.tlbManager=e,n}return f(e,t),e.prototype.buildDnnModule=function(t){var e=this,n=this.log.call("buildDnnModule");if(t.getAttribute(r.C.Toolbar.attr.disable))return n.done("disabled");var o=this.findChildTagsWithConfig(t);if(0===o.length&&(o=function(t){var e=t.classList.contains(r.C.Cb.classes.name)?t:t.querySelector("div".concat(r.C.Cb.selectors.ofName));return!1===i.ContextComplete.findContext(e).ui.autoToolbar?null:(e.setAttribute(r.C.Toolbar.attr.full,JSON.stringify((0,p.getToolbarWhenNoneProvided)())),[e])}(t),null==o))return n.done("toolbars=null");o.forEach((function(t){return e.loadConfigAndInitialize(t)})),s.Translator.autoTranslateMenus(),n.done()},e.prototype.build=function(t){var e=this;!t.matches(m)||t.closest(r.C.Sel.SxcDivs)?null!=t.closest(r.C.Cb.selectors.ofName)&&(t.matches(m)&&this.loadConfigAndInitialize(t),t.querySelectorAll(m).forEach((function(t){return e.loadConfigAndInitialize(t)}))):this.loadConfigAndInitialize(t)},e.prototype.findChildTagsWithConfig=function(t){return Array.from(t.querySelectorAll(m)).filter((function(e){return e.closest(r.C.Cb.selectors.ofName)===t}))},e.prototype.loadConfigAndInitialize=function(t){var e=this.log.call("loadConfigAndInitialize");if(t.getAttribute("data-".concat(r.C.Toolbar.attrToMarkInitalized)))return e.done("already initialized");var n=d.ToolbarInitConfig.loadFromTag(t);if(null!=n)try{this.convertConfigToToolbars(t,n)}catch(t){console.error("error creating toolbar - will skip this one",t)}e.done()},e.prototype.convertConfigToToolbars=function(t,e){var n=this.log.call("convertConfigToToolbars");n.data("tag",t),n.data("config",e);var o=i.ContextComplete.findContext(t);if(o.toolbar=this.tlbManager.loadConfig(o,e),t.getAttribute(r.C.Toolbar.attr.full)){n.add("V2 TagToolbar detected");var a=new l.TagToolbar(t,o,s.Translator);return t.setAttribute("data-".concat(r.C.Toolbar.attrToMarkInitalized),"".concat(null!=a)),this.addHoverAttributeToTag(t),n.done()}var d=new c.ToolbarRenderer(o).generate(),p=t.closest(r.C.Toolbar.selectors.ofOldHover);n.data("parentTag",p),t.replaceWith(d),p&&(n.add("V1 hover-toolbar and parents found - will add attribute"),this.addHoverAttributeToTag(p)),u.ToolbarLifecycle.raiseToolbarInitEvent(d,d,o),n.done()},e.prototype.addHoverAttributeToTag=function(t){var e=this.log.call("addHoverAttributeToTag");if(!t)return e.done("no tag found");t.hasAttribute(r.C.Toolbar.attr.hover)||(e.add("will add attribute "+r.C.Toolbar.attr.hover),t.setAttribute(r.C.Toolbar.attr.hover,"")),e.done()},e}(a.HasLog)},"./src/toolbar/initialize/toolbar-init-config.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarInitConfig:()=>i});var o=n("./src/constants/index.ts"),r=n("./src/html/dom-tools.ts"),i=function(){function t(){}return t.loadFromTag=function(t){try{var e=r.HtmlTools.tryGetAttrText(t,o.C.Toolbar.attr.full);if(e){var n=JSON.parse(e);return Array.isArray(n)?{toolbar:n}:n}var i=o.C.IDs.attr,s=r.HtmlTools.getFirstAttribute(t,i.toolbar,i.toolbarData),a=r.HtmlTools.getFirstAttribute(t,i.settings,i.settingsData);return{toolbar:JSON.parse(s),settings:JSON.parse(a)}}catch(e){return console.error('error in settings JSON - probably invalid - make sure you quote properties like "name": ...',t,e),null}},t}()},"./src/toolbar/render/render-button.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RenderButton:()=>u});var o,r=n("./src/context/bundles/context-bundle-button.ts"),i=n("./src/html/dom-tools.ts"),s=n("./src/toolbar/config/index.ts"),a=n("./src/toolbar/render/render-part-base.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u=function(t){function e(e){return t.call(this,e,"Rnd.Button")||this}return c(e,t),e.prototype.render=function(t,e){var n,o,a,c,l,u=this.log.call("render","context: obj, group: ".concat(e,", btn: ").concat(t.button.id,"/").concat(null===(n=t.button.command)||void 0===n?void 0:n.name)),d=new s.ButtonSafe(t.button,t),p=r.ContextComplete.getRule(t);p&&u.data("rule found, will try to merge params",p);var f=s.ButtonCommand.mergeAdditionalParams(d.action(),null==p?void 0:p.params),m=null===(a=null===(o=t.toolbar)||void 0===o?void 0:o.groups)||void 0===a?void 0:a[e],h=null==m?void 0:m.name,g=document.createElement("a"),b=d.disabled();b||g.setAttribute("onclick",this.generateRunJs(p,t,f));var v=(b?" disabled":"")+(d.action()?" sc-".concat(d.action().name):"")+" in-group-".concat(e)+(h?" in-group-".concat(h):"")+" "+(null!==(c=null==p?void 0:p.ui.class)&&void 0!==c?c:"")+" "+(null!==(l=null==p?void 0:p.ui.classes)&&void 0!==l?l:"")+" "+d.classes()+" "+d.dynamicClasses();u.add("classes: "+v),i.HtmlTools.addClasses(g,v),this.setTitle(p,g,d);var y=document.createElement("div");return y.appendChild(this.iconTag(d,p)),g.appendChild(y),this.processColorRules(d,p,t,y),d.tippy(t,g),u.return(g)},e.prototype.setTitle=function(t,e,n){var o,r=this.log.call("setTitles"),i=null===(o=null==t?void 0:t.ui)||void 0===o?void 0:o.title;if(i)if(0===i.indexOf("i18n:")){var s=i.substring(5);r.add("i18nTitle: ".concat(s)),e.setAttribute("data-i18n","[title]".concat(s))}else r.add("uiTitle: ".concat(i)),e.setAttribute("title",i);else s=n.title(),r.add("i18nTitle: ".concat(s)),s&&e.setAttribute("data-i18n","[title]".concat(s));r.done()},e.prototype.processColorRules=function(t,e,n,o){var r,i,s,a=this.log.call("processColorRules"),c=null!==(s=null!==(i=null===(r=null==e?void 0:e.ui)||void 0===r?void 0:r.color)&&void 0!==i?i:t.color())&&void 0!==s?s:n.toolbar.settings.color;if(c&&"number"==typeof c&&(c=c.toString()),c&&"string"==typeof c){var l=c.split(",");l[0]&&(o.style.background=d(l[0])),l[1]&&(o.style.color=d(l[1]))}return a.done(null!=c?c:"no color")},e.prototype.generateRunJs=function(t,e,n){var o=null==t?void 0:t.context,r=(o=o&&0!==Object.keys(o).length?l(l({},o),{complete:!0}):void 0)?JSON.stringify(o):"".concat(e.instance.id,", ").concat(e.contentBlockReference.id);if("code"===(null==n?void 0:n.action)){n.action;var i=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(n,["action"]),s={action:n.action,params:i};return"$2sxc(".concat(r,").cms.run(").concat(JSON.stringify(s),", event);")}return"$2sxc(".concat(r,").manage.run(").concat(JSON.stringify(n),", event);")},e.prototype.iconTag=function(t,e){var n,o=this.log.call("iconTag"),r=(null===(n=null==e?void 0:e.ui)||void 0===n?void 0:n.icon)||t.icon();if(r.indexOf("<svg")>-1)return(s=document.createElement("template")).innerHTML=r,o.return(s.content.firstChild,r);var s=document.createElement("i");return i.HtmlTools.addClasses(s,r),s.setAttribute("aria-hidden","true"),o.return(s,r)},e}(a.RenderPart);function d(t){return t&&t.match("^([A-Fa-f0-9]{6,8})$")?"#"+t:t}},"./src/toolbar/render/render-groups.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RenderButtonGroups:()=>s});var o,r=n("./src/toolbar/render/render-part-base.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,e,"Rnd.Groups")||this}return i(e,t),e.prototype.generate=function(t){for(var e=this.log.call("generate"),n=[],o=t.toolbar.groups,r=0;r<o.length;r++)n=n.concat(this.generateGroup(o[r],t,r));return e.return(n,"total tags: ".concat(n.length))},e.prototype.generateGroup=function(t,e,n){for(var o=this.log.call("generateGroup","group #".concat(n)),r=[],i=t.buttons,s=0;s<i.length;s++){var a=e.forButton(i[s]),c=this.parent.button.render(a,n),l=document.createElement("li");l.appendChild(c),r.push(l)}return o.return(r,"tags: ".concat(r.length))},e}(r.RenderPart)},"./src/toolbar/render/render-part-base.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RenderPart:()=>s});var o,r=n("./src/core/index.ts"),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var o=t.call(this,n,e.log)||this;return o.parent=e,o}return i(e,t),e}(r.HasLog)},"./src/toolbar/render/svg-icons.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{monitorSvgIconsInToolbar:()=>i});var o=n("./src/constants/ids.ts"),r="viewBox";function i(){new MutationObserver((function(t){document.querySelectorAll("".concat(o.IDs.sel.scMenu," svg:not([").concat(r,"])")).forEach((function(t){!function(t){if(!t.getAttribute(r)){var e=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}([],t.children,!0).reduce((function(t,e){var n=e.getBBox(),o=n.x,r=n.y,i=n.width,s=n.height;return(!t.xMin||o<t.xMin)&&(t.xMin=o),(!t.xMax||o+i>t.xMax)&&(t.xMax=o+i),(!t.yMin||r<t.yMin)&&(t.yMin=r),(!t.yMax||r+s>t.yMax)&&(t.yMax=r+s),t}),{}),n=e.xMin,o=e.xMax,i=e.yMin,s=e.yMax,a="".concat(n," ").concat(i," ").concat(o-n," ").concat(s-i);t.setAttribute(r,a)}}(t)}))})).observe(document.body,{attributes:!1,childList:!0,subtree:!0})}},"./src/toolbar/render/toolbar-renderer.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarRenderer:()=>f});var o,r=n("./src/toolbar/config/toolbar-settings.ts"),i=n("./src/commands/cmd-par-hlp.ts"),s=n("./src/constants/ids.ts"),a=n("./src/core/index.ts"),c=n("./src/html/dom-tools.ts"),l=n("./src/toolbar/config/index.ts"),u=n("./src/toolbar/render/render-button.ts"),d=n("./src/toolbar/render/render-groups.ts"),p=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n,o=this;return(o=t.call(this,"Rnd.Toolbr")||this).context=e,a.Insights.add("toolbar-render",(null===(n=e.toolbar)||void 0===n?void 0:n.identifier)||"",o.log),o.groups=new d.RenderButtonGroups(o),o.button=new u.RenderButton(o),o}return p(e,t),e.prototype.render=function(){return this.log.call("render").return(this.generate().outerHTML)},e.prototype.generate=function(){var t,e,n=this.log.call("generate"),o=this.context;n.data("toolbar config",o.toolbar);var a=this.groups.generate(o),u=document.createElement("ul");u.setAttribute("toolbar-identifier",null===(t=o.toolbar)||void 0===t?void 0:t.identifier),u.classList.add(s.IDs.cls.scMenu),u.classList.add("group-0");var d=o.toolbar.settings,p=null===(e=d.hover)||void 0===e?void 0:e.split("-");null==p||p.forEach((function(t){return u.classList.add("".concat(l.TlbHoverPrefix).concat(t))})),u.classList.add("".concat(r.TlbShowPrefix).concat(d.show)),-1===i.CmdParHlp.getIndex(o.toolbar.params)&&u.classList.add("listContent"),o.toolbar.params.fields&&u.classList.add("sc-sublist"),c.HtmlTools.addClasses(u,d.class||d.classes),u.setAttribute("group-count",o.toolbar.groups.length.toString());for(var f=0;f<a.length;f++)u.appendChild(a[f]);return n.return(u,"done")},e}(a.HasLog)},"./src/toolbar/rules/build-steps.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{BuildSteps:()=>o}),function(t){t.toolbar="toolbar",t.group="group",t.button="button",t.params="params",t.settings="settings"}(o||(o={}))},"./src/toolbar/rules/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{BuildRule:()=>a.BuildRule,BuildSteps:()=>i.BuildSteps,Operations:()=>r.Operations,RuleConstants:()=>o.RuleConstants,RuleManager:()=>c.RuleManager,RuleParamsHelper:()=>s.RuleParamsHelper});var o=n("./src/toolbar/rules/rule-constants.ts"),r=n("./src/toolbar/rules/rule-operators.ts"),i=n("./src/toolbar/rules/build-steps.ts"),s=(n("./src/toolbar/rules/rule-params.ts"),n("./src/toolbar/rules/rule-params-helper.ts")),a=n("./src/toolbar/rules/rule.ts"),c=n("./src/toolbar/rules/rule-manager.ts")},"./src/toolbar/rules/rule-constants.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RuleConstants:()=>o});var o={Keys:{None:"none"}}},"./src/toolbar/rules/rule-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RuleManager:()=>f});var o,r=n("./src/toolbar/rules/index.ts"),i=n("./src/constants/debug.ts"),s=n("./src/core/index.ts"),a=n("./src/toolbar/config/Note.ts"),c=n("./src/toolbar/rules/build-steps.ts"),l=n("./src/toolbar/rules/rules-obsolete-code.ts"),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},p=i.Debug.parts.RuleManager,f=function(t){function e(e){var n=t.call(this,"Tlb.RlMngr",e.log,"constructor")||this;return n.rules=[],n.ruleManagerId=Math.floor(99999*Math.random()),n.debugAdded=!1,n.getParams=function(){return n.getSystemRule(c.BuildSteps.params)||n.getToolbar()},n.getToolbar=function(){return n.getSystemRule(c.BuildSteps.toolbar)},n.getAdd=function(){return n.filter((function(t){return t.operator===r.Operations.add||t.operator===r.Operations.addAuto}))},n.getRemoveGroups=function(){return n.filter((function(t){return t.operator===r.Operations.remove&&t.step===c.BuildSteps.group}))},n.log.add("tempId:"+n.ruleManagerId),n}return u(e,t),e.prototype.load=function(t){var e=this,n=this.log.call("load","".concat((function(){return t.length})));return Array.isArray(t)?(t.forEach((function(t){if("string"==typeof t)try{e.rules.push(new r.BuildRule(t,e.log))}catch(t){throw t}else console.error("tried to parse a toolbar rule and expected a string, but got something else")})),n.return(this.rules,"final rules")):n.return([],"raw is empty")},e.prototype.addDeveloperInfos=function(t){var e=this;if(!this.debugAdded){if(t.system.error){var n=new a.Note({note:"<strong>Server Insights Logs</strong> can help <br> you debug server errors.",asHtml:!0});this.rules.push(r.BuildRule.Create({name:"insights",ui:{note:n,color:"red"},pos:10,log:this.log}))}var o=t.system.problems;if((null==o?void 0:o.length)>0){var i=(0,l.addStandardObsoleteButtons)(this.log,o,t.app.id);o=i[0],i[1].forEach((function(t){return e.rules.push(t)})),p&&console.log("2dm - has problems",o);var s=o.map((function(t,n){var o,i=new a.Note({type:t.severity,note:null===(o=t.message)||void 0===o?void 0:o.replace("\n","<br>"),asHtml:!0,interactive:!0});return t.link&&(i.links=[{url:t.link,label:"see docs",primary:!0}]),r.BuildRule.Create({name:"info",ui:{note:i},params:{link:t.link},pos:20+n,log:e.log})}));p&&console.log("2dm - rules",s),s.forEach((function(t){return e.rules.push(t)}))}}},e.prototype.find=function(t){return this.rules.find((function(e){return e.id===t}))},e.prototype.filter=function(t){return this.rules.filter(t)},e.prototype.getSettings=function(){var t=this.getSystemRuleS(c.BuildSteps.settings)||[],e=Object.assign.apply(Object,d([{}],t.slice(0,1).map((function(t){return null==t?void 0:t.params})),!1)),n=this.getToolbar();return n&&t.unshift(n),{ui:Object.assign.apply(Object,d([{}],t.map((function(t){return null==t?void 0:t.ui})),!1)),params:e}},e.prototype.getSystemRule=function(t){return this.rules.find((function(e){return e.operator===r.Operations.system&&e.step===t}))},e.prototype.getSystemRuleS=function(t){return this.rules.filter((function(e){return e.operator===r.Operations.system&&e.step===t}))},e}(s.HasLog)},"./src/toolbar/rules/rule-operators.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{Operations:()=>o}),function(t){t.add="+",t.addAuto="",t.remove="-",t.system="$",t.modify="%"}(o||(o={}))},"./src/toolbar/rules/rule-params-helper.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{RuleParamsHelper:()=>s});var o=n("./src/core/index.ts"),r="prefill:",i="filter:",s=function(){function t(){}return t.processParams=function(e,n){var s=n.call("processParams"),a=t.extractSubKeys(e,r,n);a&&(e.prefill=a);var c=t.extractSubKeys(e,i,n);c&&(e.filters=c);var l=t.extractSubKeys(e,"form:",n);l&&(e.form=l);var u=t.extractSubKeys(e,"context:",n);return e.metadata&&(delete e.metadata,s.add("params had additional metadata - invalid, will remove. Use 'for' instead",null,o.LogEntryOptions.error)),e.for&&(e.metadata=t.processMetadata(e,n)),s.return({params:e,context:u})},t.processMetadata=function(t,e){var n=e.call("processMetadata"),r=t.for;if(!r)return n.return(void 0,"no metadata");if(delete t.for,-1===r.indexOf(","))return n.return({key:r},"only has key");var i=r.split(",").map((function(t){return t.trim()}));if(3!==i.length)return n.return(void 0,"error: metadata-for parts count expected 3: ".concat(i.length),o.LogEntryOptions.error);var s=+i[0];if(isNaN(s))return n.return(void 0,"error: first key part is not number - got ".concat(s),o.LogEntryOptions.error);var a=i[1];if("string"!==a&&"guid"!==a&&"number"!==a)return n.return(void 0,"error: key is not known type, should be string, guid or number, but got ".concat(a),o.LogEntryOptions.error);var c=i[2];return null==c||""===c?n.return(void 0,"error: key strange value: '".concat(c,"'"),o.LogEntryOptions.error):t.contentType&&null!=t.entityId?n.return({key:c,targetType:s,keyType:a}):n.return(void 0,"error: contentType and entityId missing",o.LogEntryOptions.error)},t.extractSubKeys=function(e,n,o){var s=o.call("processSubMultiKeys");if(!e)return s.return(void 0,"no params");var a=Object.keys(e).filter((function(t){return 0===t.indexOf(n)}));if(!a||0===a.length)return s.return(void 0,"no speciall '".concat(n,"' keys"));var c=n.length,l={};return a.forEach((function(o){var s=e[o];!0===s||!1===s?s=s.toString():n===i?s=t.filterValues(s):n===r&&(s=t.prefillValues(s)),l[o.substring(c)]=s,delete e[o]})),s.return(l,"got list of multi-keys")},t.filterValues=function(t){if("string"==typeof t&&t.length>0&&"["===t[0]&&"]"===t[t.length-1])try{return JSON.parse(t)}catch(e){console.warn("filter:[] value is not a valid JSON array: ".concat(t))}return t},t.prefillValues=function(t){if(!t||"string"!=typeof t)return t;if(-1===t.indexOf(","))return t;if(t.indexOf('"')>=0||t.indexOf("'")>=0)return t;var e=t.split(",").map((function(t){return t.trim()})),n=e.filter((function(t){return null!==t.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i)}));return n&&n.length===e.length?e:t},t}()},"./src/toolbar/rules/rule-params.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/toolbar/rules/rule.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{BuildRule:()=>u});var o,r=n("./src/toolbar/rules/index.ts"),i=n("./src/constants/rules.ts"),s=n("./src/core/index.ts"),a=n("./src/toolbar/templates/index.ts"),c=n("./src/toolbar/rules/build-steps.ts"),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n){var o=t.call(this,"Tlb.BdRule",n)||this;return o.ruleString=e,o.group=a.TemplateConstants.NameDefault,o.pos=0,o.params={},o.ui={},o.context={},e?(o.load(),o):(o.log.add("rule is empty"),o)}return l(e,t),e.Create=function(t){var n=t.name,o=t.ui,i=t.params,s=t.pos,a=new e("",t.log);return a.name=n,a.ui=null!=o?o:{},a.operator=r.Operations.add,a.setIdBasedOnOperation(a.name),a.params=null!=i?i:{},s&&(a.pos=s),a},e.prototype.overrideShow=function(){var t;return this.operator!==r.Operations.remove&&(this.operator===r.Operations.add||(this.operator!==r.Operations.addAuto&&this.operator===r.Operations.modify?null===(t=this.ui)||void 0===t?void 0:t.show:void 0))},e.prototype.load=function(){var t,e,n=this.log.call("load",this.ruleString),o=(t=this.ruleString,(e=/^([^\/?#]*)?([^?#]*)(\?([^#]*))?(#(.*))?/i.exec(t))&&null!==e?{key:e[1],params:e[4],button:e[6]}:void 0);if(!o.key)return n.done("no key, won't load");if(this.loadHeader(o.key),o.params){var r=this.loadParamsAndPrefill(o.params);this.params=r.params,this.context=r.context}return n.done()},e.prototype.loadHeader=function(t){var e,n,o=this.log.call("loadHeader",t),i=this.splitParamsArray(t),s=(null===(e=null==i?void 0:i[0])||void 0===e?void 0:e[0])||r.RuleConstants.Keys.None,a=s[0],l=Object.values(r.Operations).includes(a);l||(a=s===c.BuildSteps.params||s===c.BuildSteps.settings||s===c.BuildSteps.toolbar?r.Operations.system:r.Operations.add),this.operator=a,o.add("name part '".concat(s,"', firstChar '").concat(a,"'")),s=l?s.substring(1):s;var u=Object.values(c.BuildSteps).includes(s);return this.step=u?s:c.BuildSteps.button,this.setIdBasedOnOperation(s),this.name=(null===(n=null==i?void 0:i[0])||void 0===n?void 0:n[1])||s,i.length>1&&this.leadHeaderAndUi(s,i.slice(1)),o.done()},e.prototype.setIdBasedOnOperation=function(t){this.id=this.operator===r.Operations.add||this.operator===r.Operations.addAuto?"rndId"+Math.floor(99999*Math.random()):t},e.prototype.leadHeaderAndUi=function(t,e){var n=this.log.call("loadHeaderParts");if(!e.length)return n.done("nothing to load");var o=this.dicToArray(e);return o.id&&(this.id=o.id),o.name&&(this.name=o.name),"string"==typeof o.group&&(this.group=o.group,delete o.group),null!=o.pos&&(this.pos=Number(o.pos),Object.is(this.pos,-0)&&(this.pos=-1)),t!==c.BuildSteps.settings&&t!==c.BuildSteps.toolbar&&"string"==typeof o.show&&(o.show="true"===o.show),this.ui=o,n.return(this.ui,"button rules")},e.prototype.loadParamsAndPrefill=function(t){var e=this.log.call("loadParams",t),n=this.splitParamsDic(t);e.data("params",n);var o=r.RuleParamsHelper.processParams(n,this.log);return e.return(o)},e.prototype.dicToArray=function(t){return t.reduce((function(t,e){return t[e[0]]=e[1],t}),{})},e.prototype.splitParamsDic=function(t){return this.dicToArray(this.splitParamsArray(t))},e.prototype.splitParamsArray=function(t){return t?t.split("&").map((function(t){var e=t.indexOf("=");e<0&&(e=t.length);var n=[t.slice(0,e),t.slice(e+1)],o=n[0],r=n[1];if((null==r?void 0:r.indexOf("%"))>-1&&(r=decodeURIComponent(r)),"True"===r||"true"===r)return[o,!0];if("False"===r||"false"===r)return[o,!1];if(!isNaN(+r))return[o,Number(r)];if("string"==typeof r&&r.startsWith(i.prefixBase64)){var s=r.split(i.prefixBase64)[1];return[o,window.atob(s)]}return"string"==typeof r&&r.startsWith(i.prefixJson64)?(s=r.split(i.prefixJson64)[1],[o,JSON.parse(window.atob(s))]):[o,r]})):[]},e}(s.HasLog)},"./src/toolbar/rules/rules-obsolete-code.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{addStandardObsoleteButtons:()=>u});var o=n("./src/commands/command/command-insights.ts"),r=n("./src/toolbar/rules/rule.ts"),i=function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},s="thing-to-replace",a={color:"orange",icon:'<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48"><path d="M480-120q-65 0-121-31t-83-89H160v-60h92q-7-26-7-52.5V-406h-86v-60h86q0-29 .5-57.5T254-580h-94v-60h120q14-28 37-49t51-35l-77-76 40-40 94 94q28-10 56.5-10t56.5 10l94-94 40 40-76 76q28 14 49.5 35.5T683-640h118v60h-95q9 28 8.5 56.5T714-466h87v60h-87q0 27 .5 53.5T708-300h93v60H685q-26 59-82.5 89.5T480-120Zm0-60q72 0 123-50.5T654-353v-167q0-72-51-122.5T480-693q-72 0-123 50.5T306-520v167q0 72 51 122.5T480-180Zm-80-140h160v-60H400v60Zm0-173h160v-60H400v60Zm80 57h.5-.5.5-.5.5-.5.5-.5Z"/></svg>',note:{note:"<strong>Obsolete Code detected in this ".concat(s,"</strong>\n    <br>\n    This uses obsolete code which will be removed soon. You should fix the code so it won't break on a future update."),allowHtml:!0}},c="obsolete",l="obsolete-app";function u(t,e,n){var o=[];return void 0!==e.find((function(t){return t.code===c}))?o.push(d(t,n,"Razor","red")):void 0!==e.find((function(t){return t.code===l}))&&o.push(d(t,n,"App",null)),[e.filter((function(t){return t.code!==c&&t.code!=l})),o]}function d(t,e,n,c){return r.BuildRule.Create({name:"insights",ui:i(i({},a),{color:null!=c?c:a.color,note:i(i({},a.note),{links:[{url:(0,o.insightsUrl)("logs?key=warnings-obsolete&filter=AppId=".concat(e)),label:"Obsolete this App",primary:!0},{url:(0,o.insightsUrl)("logs?key=warnings-obsolete"),label:"all obsolete",primary:!1}],note:a.note.note.replace(s,n)})}),params:{part:"Logs?&key=warnings-obsolete"},pos:11,log:t})}},"./src/toolbar/tag-toolbars/tag-toolbar-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TagToolbarManager:()=>r});var o=n("./src/plumbing/index.ts"),r=function(){function t(){}return t.getNextToolbarId=function(){return t.lastMenuId++},t.getBodyScrollOffset=function(){var t=document.body.style.position,e=document.body;if("relative"===t||"absolute"===t){var n=o.NoJQ.offset(e);return{top:n.top,left:n.left}}return{top:0,left:0}},t.cleanupOrphanedToolbars=function(){document.querySelectorAll("[".concat(t.TagToolbarForAttr,"]")).forEach((function(e){var n=e.getAttribute(t.TagToolbarForAttr);document.querySelectorAll("[".concat(t.TagToolbarAttr,'="').concat(n,'"]')).length||e.remove()}))},t.TagToolbarAttr="data-tagtoolbar",t.TagToolbarForAttr="data-tagtoolbar-for",t.mousePosition={x:0,y:0},t.lastMenuId=0,t}();window.addEventListener("mousemove",(function(t){r.mousePosition.x=t.clientX,r.mousePosition.y=t.clientY}))},"./src/toolbar/tag-toolbars/tag-toolbar.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TagToolbar:()=>a});var o=n("./src/toolbar/index.ts"),r=n("./src/plumbing/index.ts"),i=n("./src/toolbar/config/toolbar-settings.ts"),s=n("./src/toolbar/toolbar-lifecycle.ts"),a=function(){function t(t,e,n){var o,r=this;this.hoverTag=t,this.context=e,this.translator=n,this.toolbarElement=null,this.initialized=!1,this.alwaysShow=!1,this.delayShow=0,this.delayShowTimeout=null,this.watcherActive=!1,this.updateFn=function(){return r.updatePosition(!1)};var s=e.toolbar.settings;this.follow=s.follow,this.alwaysShow=s.show===i.TLB_SHOW_ALWAYS,this.delayShow=null!==(o=s.delayShow)&&void 0!==o?o:0,this.addMouseEvents(t),this.alwaysShow&&this.showPermanently()}return t.prototype.addMouseEvents=function(t){var e=this;t.addEventListener("mouseenter",(function(){0==e.delayShow?e.show():e.delayShowTimeout=setTimeout((function(){e.show()}),e.delayShow)})),this.alwaysShow||t.addEventListener("mouseleave",(function(t){e.delayShowTimeout&&clearTimeout(e.delayShowTimeout),e.initializeIfNecessary();var n=t.relatedTarget;e.toolbarElement.contains(n)||e.toolbarElement===n||e.hide()}))},t.prototype.initializeIfNecessary=function(){var t,e=this;if(!this.initialized){var n=o.TagToolbarManager.getNextToolbarId(),r="".concat(this.context.instance.id,"-").concat(this.context.contentBlockReference.id,"-").concat(n);this.toolbarElement=new o.ToolbarRenderer(this.context).generate(),this.alwaysShow||this.toolbarElement.addEventListener("mouseleave",(function(t){var n=t.relatedTarget;e.hoverTag.contains(n)||e.hoverTag===n||e.hide()})),document.body.append(this.toolbarElement),this.toolbarElement.setAttribute(o.TagToolbarManager.TagToolbarForAttr,r),this.hoverTag.setAttribute(o.TagToolbarManager.TagToolbarAttr,r);var i=this.toolbarElement.style;i.position="absolute",this.alwaysShow||(i.display="none",i.transition="top 0.5s ease-out"),null===(t=this.translator)||void 0===t||t.autoTranslateMenus(),this.initialized=!0,s.ToolbarLifecycle.raiseToolbarInitEvent(this.toolbarElement,this.hoverTag,this.context)}},t.prototype.updatePosition=function(t){var e={top:"auto",left:"auto",right:"auto",viewportOffset:this.hoverTag.getBoundingClientRect().top,bodyOffset:o.TagToolbarManager.getBodyScrollOffset(),tagScrollOffset:0,tagOffset:r.NoJQ.offset(this.hoverTag),tagWidth:this.hoverTag.offsetWidth,tagHeight:this.hoverTag.offsetHeight,mousePos:o.TagToolbarManager.mousePosition,win:{scrollY:window.scrollY,width:document.documentElement.clientWidth},padding:4};e.tagScrollOffset=Math.min(e.viewportOffset-e.bodyOffset.top,0),e.top=e.tagOffset.top+4-e.bodyOffset.top;var n=this.follow===i.TLB_FOLLOW_ALWAYS||this.follow===i.TLB_FOLLOW_INITIAL&&t||this.follow===i.TLB_FOLLOW_SCROLL&&0!==e.tagScrollOffset,s=this.toolbarElement.classList;n?e.top=e.mousePos.y+e.win.scrollY-e.bodyOffset.top-10:s.contains(i.TlbHoverPrefix+i.TLB_HOV_MID)&&(e.top=e.top+e.tagHeight/2-20),s.contains(i.TlbHoverPrefix+i.TLB_HOV_RIGHT)?e.right=e.win.width-e.tagOffset.left-e.tagWidth+0-e.bodyOffset.left:e.left=e.tagOffset.left+4+e.bodyOffset.left;var a=this.toolbarElement.style;a.top="number"==typeof e.top?"".concat(e.top,"px"):e.top,a.left="number"==typeof e.left?"".concat(e.left,"px"):e.left,a.right="number"==typeof e.right?"".concat(e.right,"px"):e.right},t.prototype.hide=function(){this.alwaysShow||(this.toolbarElement.style.display="none",this.disableScrollWatcher())},t.prototype.show=function(){this.initializeIfNecessary(),this.toolbarElement.style.display="inline-flex",this.updatePosition(!0),this.activateScrollWatcher()},t.prototype.showPermanently=function(){this.show(),window.addEventListener("load",this.updateFn),document.addEventListener("readystatechange",this.updateFn),window.addEventListener("resize",this.updateFn)},t.prototype.activateScrollWatcher=function(){this.watcherActive||(this.follow===i.TLB_FOLLOW_SCROLL||this.follow===i.TLB_FOLLOW_ALWAYS)&&(window.addEventListener("scroll",this.updateFn),this.follow===i.TLB_FOLLOW_ALWAYS&&window.addEventListener("mousemove",this.updateFn),this.watcherActive=!0)},t.prototype.disableScrollWatcher=function(){this.watcherActive&&(window.removeEventListener("scroll",this.updateFn),window.removeEventListener("mousemove",this.updateFn),this.watcherActive=!1)},t}()},"./src/toolbar/templates/constants.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TemplateConstants:()=>o});var o={NameDefault:"default",NameEmpty:"empty",GroupDefault:"default",GroupList:"list",GroupEditAdvanced:"edit-advanced",GroupView:"view",GroupApp:"app",GroupUnknown:"unknown",ButtonSeparator:","}},"./src/toolbar/templates/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TemplateConstants:()=>o.TemplateConstants,TemplateEditor:()=>u.TemplateEditor,ToolbarTemplate:()=>c.ToolbarTemplate,ToolbarTemplateDefault:()=>i.ToolbarTemplateDefault,ToolbarTemplateEmpty:()=>r.ToolbarTemplateEmpty,ToolbarTemplateGroup:()=>l.ToolbarTemplateGroup,ToolbarTemplateManager:()=>a.ToolbarTemplateManager,ToolbarTemplateSublist:()=>s.ToolbarTemplateSublist});var o=n("./src/toolbar/templates/constants.ts"),r=(n("./src/toolbar/templates/list-with-cursor.ts"),n("./src/toolbar/templates/template-empty.ts")),i=n("./src/toolbar/templates/template-default.ts"),s=n("./src/toolbar/templates/template-sublist.ts"),a=n("./src/toolbar/templates/toolbar-template-manager.ts"),c=n("./src/toolbar/templates/toolbar-template.ts"),l=n("./src/toolbar/templates/toolbar-template-group.ts"),u=n("./src/toolbar/templates/template-editor.ts")},"./src/toolbar/templates/list-with-cursor.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/toolbar/templates/template-default.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplateDefault:()=>r});var o=n("./src/toolbar/templates/index.ts"),r={name:o.TemplateConstants.NameDefault,groups:[{name:o.TemplateConstants.GroupDefault,buttons:["edit","new","metadata","publish","layout"].join(",")},{name:o.TemplateConstants.GroupList,buttons:["add","add-existing","replace","remove","moveup","movedown","list"].join(",")},{name:o.TemplateConstants.GroupEditAdvanced,buttons:["delete"].join(",")},{name:o.TemplateConstants.GroupView,buttons:["template","view","data","query","fields"].join(","),defaults:{classes:"group-pro"}},{name:o.TemplateConstants.GroupApp,buttons:["app","app-settings","app-resources","system","insights"].join(","),defaults:{classes:"group-pro"}}],defaults:{},params:{},settings:{},_isToolbarTemplate:!0}},"./src/toolbar/templates/template-editor.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{TemplateEditor:()=>l});var o,r=n("./src/toolbar/templates/index.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/rules/index.ts"),a=n("./src/toolbar/templates/constants.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this,"Tlb.TplEdt",e.log)||this;return n.toolbar=e,n.ensureGroups=function(t){t.groups||(t.groups=[])},n.findGroup=function(t,e){return t.groups.find((function(t){return t.name===e}))},n}return c(e,t),e.prototype.addButton=function(t,e,n,o,r){var i,s,c=r>=0;r=Math.abs(r)-(c?0:1);var l=this.log.call("addButton","..., ".concat(e,", ").concat(n,", ").concat(o,", ").concat(c?"+":"-").concat(r,", ").concat(c));if(!t)return l.done("no template");var u=this.findGroupOrDefault(t,e);u||(u=this.addGroup(t,e,1e3));var d=null!==(s=null===(i=u.buttons)||void 0===i?void 0:i.split(a.TemplateConstants.ButtonSeparator))&&void 0!==s?s:[],p=n===o?o:"".concat(n,"=").concat(o),f=this.correctPosStartEnd(d,r,c),m=c?this.findInsertPosition(u,f):f;l.add("pos: ".concat(r,", startEnd: ").concat(f,", insert:").concat(m)),d.splice(m,0,p),u.buttons=d.filter((function(t){return t.length})).join(a.TemplateConstants.ButtonSeparator),l.done()},e.prototype.findInsertPosition=function(t,e){return t._insertCursor=t._insertCursor||0,0===e&&(e=t._insertCursor++),e},e.prototype.correctPosStartEnd=function(t,e,n){return n||(e=t.length-e)>=0?e:t.length},e.prototype.add=function(t,e){var n=this;e.forEach((function(e){e.step===s.BuildSteps.group?n.addGroup(t,e.name,e.pos):n.addButton(t,e.group,e.id,e.name,e.pos)}))},e.prototype.addGroup=function(t,e,n){var o=n>=0;n=Math.abs(n)-(o?0:1);var i=this.log.call("addGroup","..., ".concat(e,", ").concat(o?"+":"-").concat(n));this.ensureGroups(t);var s=this.findGroup(t,e);if(s)return i.return(s,"already exists");var a=new r.ToolbarTemplateGroup;a.name=e;var c=this.correctPosStartEnd(t.groups,n,o),l=o?this.findInsertPosition(t,c):c;return t.groups.splice(l,0,a),i.return(a,"created")},e.prototype.removeGroup=function(t,e){var n=this.findGroup(t,e);if(n){var o=t.groups.indexOf(n);o<0||t.groups.splice(o,1)}},e.prototype.findGroupOrDefault=function(t,e){var n=this.log.call("findGroup",e);if(this.ensureGroups(t),0===t.groups.length)return n.return(null,"no groups");var o=this.findGroup(t,e);return o?n.return(o,"found"):n.return(t.groups[0],"not found, return first)")},e}(i.HasLog)},"./src/toolbar/templates/template-empty.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplateEmpty:()=>r});var o=n("./src/toolbar/templates/index.ts"),r={name:o.TemplateConstants.NameEmpty,groups:[{name:o.TemplateConstants.GroupDefault,buttons:""}],defaults:{},params:{},settings:{},_isToolbarTemplate:!0}},"./src/toolbar/templates/template-sublist.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplateSublist:()=>r});var o=n("./src/toolbar/templates/index.ts"),r={name:"sublist",groups:[{name:o.TemplateConstants.GroupDefault,buttons:"edit,new,publish",defaults:{classes:"group-inlist"}},{name:o.TemplateConstants.GroupList,buttons:"add-existing,replace,remove,moveup,movedown,instance-list",defaults:{classes:"group-inlist"}},{name:o.TemplateConstants.GroupEditAdvanced,buttons:"delete",defaults:{classes:"group-inlist"}}],defaults:{},params:{},settings:{},_isToolbarTemplate:!0}},"./src/toolbar/templates/toolbar-template-group.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplateGroup:()=>r});var o=n("./src/toolbar/templates/index.ts"),r=function(){function t(){this.name=o.TemplateConstants.GroupUnknown,this.buttons="",this.defaults={}}return t.is=function(t){return void 0!==t.buttons},t}()},"./src/toolbar/templates/toolbar-template-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplateManager:()=>c});var o,r=n("./src/toolbar/templates/index.ts"),i=n("./src/core/index.ts"),s=n("./src/plumbing/index.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=t.call(this,"Tlb.TmpMan",null,"build")||this;return e.configTemplateList=[],e.list={},i.Insights.add("system","toolbar-template-manager",e.log),e.add(r.ToolbarTemplateEmpty),e.add(r.ToolbarTemplateDefault),e.add(r.ToolbarTemplateSublist),e}return a(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.prototype.copy=function(t){return s.Obj.DeepClone(this.findOrShowError(t))},e.prototype.findOrShowError=function(t){var e=this.list[t];if(e)return e;throw"try to find toolbar template '".concat(t,"' but not found")},e.prototype.add=function(t){this.list[t.name]=t},e}(i.HasLog)},"./src/toolbar/templates/toolbar-template.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarTemplate:()=>o});var o=function(){function t(){this.groups=[],this.defaults={},this.params={},this.settings={}}return t.is=function(t){return t._isToolbarTemplate},t.hasGroups=function(t){return Array.isArray(t.groups)},t}()},"./src/toolbar/templates/toolbar-when-no-toolbar-provided.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{getToolbarWhenNoneProvided:()=>r});var o=n("./src/toolbar/config/toolbar-settings.ts");function r(){return{toolbar:[o.ToolbarSettings.getForEmptyAsRule()]}}},"./src/toolbar/toolbar-event-arguments.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/toolbar/toolbar-global-enable-shake.ts":(t,e,n)=>{"use strict";n.r(e);var o=n("./src/plumbing/index.ts"),r=n("./src/toolbar/config/index.ts"),i=n("./node_modules/shake.js/shake.js");o.NoJQ.ready((function(){new i({callback:function(){document.body.classList.toggle("".concat(r.TlbShowPrefix,"all"))}}).start()}))},"./src/toolbar/toolbar-lifecycle.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarLifecycle:()=>i});var o=n("./src/constants/index.ts"),r=n("./src/workflow/index.ts"),i=function(){function t(){}return t.raiseToolbarInitEvent=function(t,e,n){var i,s=new r.ToolbarWorkflowManager(null);s.attach(t,n);var a=new CustomEvent(o.C.Toolbar.eventNames.onInit,{bubbles:!0,detail:{element:t,identifier:null===(i=n.toolbar)||void 0===i?void 0:i.identifier,workflow:s}});null==e||e.dispatchEvent(a)},t}()},"./src/toolbar/toolbar-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarManager:()=>c});var o,r=n("./src/toolbar/index.ts"),i=n("./src/core/index.ts"),s=n("./src/toolbar/config-loaders/toolbar-config-loader.ts"),a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=t.call(this,"Tlb.Mngr",null,"init")||this;return i.Insights.add("system","toolbar-manager",e.log),e.toolbarFinder=new r.ToolbarConfigFinderAndInitializer(e),e}return a(e,t),e.singleton=function(){var t;return null!==(t=this._singleton)&&void 0!==t?t:this._singleton=new e},e.prototype.buildModule=function(t){this.toolbarFinder.buildDnnModule(t)},e.prototype.build=function(t){this.toolbarFinder.build(t)},e.prototype.loadConfig=function(t,e){return this.getLoader(JSON.stringify(e.toolbar||"")).load(t,e)},e.prototype.getLoader=function(t){var e=new s.ToolbarConfigLoader(this);return i.Insights.add("toolbar",t,e.log),e},e}(i.HasLog)},"./src/workflow/index.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarWorkflowManager:()=>o.ToolbarWorkflowManager,WorkflowHelper:()=>s.WorkflowHelper,WorkflowPhases:()=>i.WorkflowPhases,WorkflowStepCodeArguments:()=>r.WorkflowStepCodeArguments,WorkflowStepHelper:()=>a.WorkflowStepHelper});var o=n("./src/workflow/toolbar-workflow-manager.ts"),r=n("./src/workflow/workflow-step-code-arguments.ts"),i=n("./src/workflow/workflow-phases.ts"),s=(n("./src/workflow/workflow-step.ts"),n("./src/workflow/workflow.ts"),n("./src/workflow/workflow-helper.ts")),a=(n("./src/workflow/toolbar-with-workflow.ts"),n("./src/workflow/workflow-step-helper.ts"))},"./src/workflow/toolbar-with-workflow.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/workflow/toolbar-workflow-manager.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToolbarWorkflowManager:()=>u});var o,r=n("./src/workflow/index.ts"),i=n("./src/commands/index.ts"),s=n("./src/core/index.ts"),a=n("./src/workflow/workflow-helper.ts"),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u=function(t){function e(e,n){void 0===n&&(n=!1);var o=t.call(this,"Cmd.Wrkflw",e,"constructor")||this;return o.isDummy=n,o.steps=[],o}return c(e,t),e.prototype.add=function(t){var e=this;t&&(Array.isArray(t)?t.forEach((function(t){return e.addOne(t)})):this.addOne(t))},e.prototype.addOne=function(t){t=r.WorkflowStepHelper.initDefaults(t);var e=this.log.call("add","'".concat(t.name,"' for '").concat(t.command,"'-'").concat(t.phase,"'"));if(!t){var n="Trying to add workflow step but didn't get anything";throw e.add(n),n}this.steps.push(t),e.done()},e.prototype.run=function(t){var e=this,n=this.log.call("run","'".concat(t.command,"' for '").concat(t.phase,"'"));if(this.isDummy)return n.done("Dummy workflow, nothing to run, will return a resolved promise"),d(t);var o=this.steps.filter((function(e){return e.command===t.command||e.command===i.WorkflowCommands.all})).filter((function(e){return e.phase===t.phase||e.phase===r.WorkflowPhases.all})).filter((function(t){return t.code})).sort((function(t){return t.priority}));return 0===o.length?(n.done("no steps found for this command / phase, will return a resolved promise"),d(t)):new Promise((function(n,r){for(var i=Promise.resolve(t),s=function(n){var r=o[n];i=i.then((function(n){return e.runNextPromiseIfNotCancelled(n,t,r.code)}))},a=0;a<o.length;a++)s(a);i.then((function(t){n(t)})),i.catch(r)}))},e.prototype.attach=function(t,e){var n,o=this.log.call("attach");t&&(t.commandWorkflow=this,s.Insights.add("workflow",null===(n=e.toolbar)||void 0===n?void 0:n.identifier,this.log),o.done())},e.prototype.runNextPromiseIfNotCancelled=function(t,e,n){var o=a.WorkflowHelper.isCancelled(t);return(t=t&&"boolean"!=typeof t?t:l({},e)).cancel=o,o?d(t):n(t)},e}(s.HasLog);function d(t){return Promise.resolve(t)}},"./src/workflow/workflow-helper.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{WorkflowHelper:()=>i});var o,r=n("./src/workflow/index.ts"),i=function(){function t(){}return t.getWorkflow=function(e){if(!e)return t.getDummyManager();for(var n=0,o=e;o&&n++<100;){var r=o.commandWorkflow;if(r)return r;o=o.parentElement}return t.getDummyManager()},t.getDummyManager=function(){return o||(o=new r.ToolbarWorkflowManager(null,!0)),o},t.isCancelled=function(t){return this._isCancelled(t)},t._isCancelled=function(t){return null!=t&&(!1===t||!0===t.cancel)},t}()},"./src/workflow/workflow-phases.ts":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{WorkflowPhases:()=>o}),function(t){t.all="all",t.before="before",t.after="after"}(o||(o={}))},"./src/workflow/workflow-step-code-arguments.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{WorkflowStepCodeArguments:()=>o});var o=function(t,e,n,o){void 0===o&&(o=null),this.command=t,this.phase=e,this.context=n,this.result=o,this.cancel=!1}},"./src/workflow/workflow-step-helper.ts":(t,e,n)=>{"use strict";n.r(e),n.d(e,{WorkflowStepHelper:()=>i});var o=n("./src/workflow/index.ts"),r=n("./src/commands/index.ts"),i=function(){function t(){}return t.initDefaults=function(t){var e,n,i,s;if(t.name=null!==(e=t.name)&&void 0!==e?e:"",t.command=null!==(n=t.command)&&void 0!==n?n:r.WorkflowCommands.all,t.phase=null!==(i=t.phase)&&void 0!==i?i:o.WorkflowPhases.before,t.priority=null!==(s=t.priority)&&void 0!==s?s:1,!t.code||"function"!=typeof t.code)throw"Tried preparing a workflow step, but the promise either doesn't exist or is not a promise factory";return t},t}()},"./src/workflow/workflow-step.ts":(t,e,n)=>{"use strict";n.r(e)},"./src/workflow/workflow.ts":(t,e,n)=>{"use strict";n.r(e)},"./node_modules/i18next-http-backend/esm/getFetch.cjs":(t,e,n)=>{var o;if("function"==typeof fetch&&(void 0!==n.g&&n.g.fetch?o=n.g.fetch:"undefined"!=typeof window&&window.fetch&&(o=window.fetch)),"undefined"==typeof window||void 0===window.document){var r=o||n("./node_modules/cross-fetch/dist/browser-ponyfill.js");r.default&&(r=r.default),e.default=r,t.exports=e.default}},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(t,e,n)=>{"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(t,e,n)=>{"use strict";function o(t){if(Array.isArray(t))return t}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(t,e,n)=>{"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(t,e,n)=>{"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(t,e,n)=>{"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.r(e),n.d(e,{default:()=>r})},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(t,e,n)=>{"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":(t,e,n)=>{"use strict";function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,o.default)(t,e)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(t,e,n)=>{"use strict";function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(t,e,n)=>{"use strict";function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),r=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function i(t,e){if(e&&("object"===(0,o.default)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.default)(t)}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(t,e,n)=>{"use strict";function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/toArray.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),r=n("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),s=n("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function a(t){return(0,o.default)(t)||(0,r.default)(t)||(0,i.default)(t)||(0,s.default)()}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(t,e,n)=>{"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}n.r(e),n.d(e,{default:()=>o})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var o=n("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function r(t,e){if(t){if("string"==typeof t)return(0,o.default)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,o.default)(t,e):void 0}}},"./node_modules/i18next-http-backend/esm/index.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var o=n("./node_modules/i18next-http-backend/esm/utils.js"),r=n("./node_modules/i18next-http-backend/esm/request.js");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,n){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n||"")},request:r.default,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t),this.services=e,this.options=n,this.allOptions=o,this.type="backend",this.init(e,n,o)}var e,n;return e=t,n=[{key:"init",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=(0,o.defaults)(n,this.options||{},a()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return e.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,n){this._readAny(t,t,e,e,n)}},{key:"read",value:function(t,e,n){this._readAny([t],t,[e],e,n)}},{key:"_readAny",value:function(t,e,n,r,i){var s=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(t,n)),(a=(0,o.makePromise)(a)).then((function(o){if(!o)return i(null,{});var a=s.services.interpolator.interpolate(o,{lng:t.join("+"),ns:n.join("+")});s.loadUrl(a,i,e,r)}))}},{key:"loadUrl",value:function(t,e,n,o){var r=this;this.options.request(this.options,t,void 0,(function(i,s){if(s&&(s.status>=500&&s.status<600||!s.status))return e("failed loading "+t+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return e("failed loading "+t+"; status code: "+s.status,!1);if(!s&&i&&i.message&&i.message.indexOf("Failed to fetch")>-1)return e("failed loading "+t+": "+i.message,!0);if(i)return e(i,!1);var a,c;try{a="string"==typeof s.data?r.options.parse(s.data,n,o):s.data}catch(e){c="failed parsing "+t+" to json"}if(c)return e(c,!1);e(null,a)}))}},{key:"create",value:function(t,e,n,o,r){var i=this;if(this.options.addPath){"string"==typeof t&&(t=[t]);var s=this.options.parsePayload(e,n,o),a=0,c=[],l=[];t.forEach((function(n){var o=i.options.addPath;"function"==typeof i.options.addPath&&(o=i.options.addPath(n,e));var u=i.services.interpolator.interpolate(o,{lng:n,ns:e});i.options.request(i.options,u,s,(function(e,n){a+=1,c.push(e),l.push(n),a===t.length&&r&&r(c,l)}))}))}}},{key:"reload",value:function(){var t=this,e=this.services,n=e.backendConnector,o=e.languageUtils,r=e.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var s=[],a=function(t){o.toResolveHierarchy(t).forEach((function(t){s.indexOf(t)<0&&s.push(t)}))};a(i),this.allOptions.preload&&this.allOptions.preload.forEach((function(t){return a(t)})),s.forEach((function(e){t.allOptions.ns.forEach((function(t){n.read(e,t,"read",null,null,(function(o,i){o&&r.warn("loading namespace ".concat(t," for language ").concat(e," failed"),o),!o&&i&&r.log("loaded namespace ".concat(t," for language ").concat(e),i),n.loaded("".concat(e,"|").concat(t),o,i)}))}))}))}}}],n&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();c.type="backend";const l=c},"./node_modules/i18next-http-backend/esm/request.js":(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{default:()=>d});var r,i,s,a=n("./node_modules/i18next-http-backend/esm/utils.js"),c=n("./node_modules/i18next-http-backend/esm/getFetch.cjs");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}"function"==typeof fetch&&("undefined"!=typeof global&&global.fetch?r=global.fetch:"undefined"!=typeof window&&window.fetch&&(r=window.fetch)),(0,a.hasXMLHttpRequest)()&&("undefined"!=typeof global&&global.XMLHttpRequest?i=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(i=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?s=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&(s=window.ActiveXObject)),r||!o&&!(o=n.t(c,2))||i||s||(r=c||o||(o=n.t(c,2))),"function"!=typeof r&&(r=void 0);var u=function(t,e){if(e&&"object"===l(e)){var n="";for(var o in e)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);if(!n)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+n.slice(1)}return t};const d=function(t,e,n,o){return"function"==typeof n&&(o=n,n=void 0),o=o||function(){},r?function(t,e,n,o){t.queryStringParams&&(e=u(e,t.queryStringParams));var i=(0,a.defaults)({},"function"==typeof t.customHeaders?t.customHeaders():t.customHeaders);n&&(i["Content-Type"]="application/json"),r(e,(0,a.defaults)({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:i},"function"==typeof t.requestOptions?t.requestOptions(n):t.requestOptions)).then((function(t){if(!t.ok)return o(t.statusText||"Error",{status:t.status});t.text().then((function(e){o(null,{status:t.status,data:e})})).catch(o)})).catch(o)}(t,e,n,o):(0,a.hasXMLHttpRequest)()||"function"==typeof ActiveXObject?function(t,e,n,o){n&&"object"===l(n)&&(n=u("",n).slice(1)),t.queryStringParams&&(e=u(e,t.queryStringParams));try{var r;(r=i?new i:new s("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",e,1),t.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!t.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var a=t.customHeaders;if(a="function"==typeof a?a():a)for(var c in a)r.setRequestHeader(c,a[c]);r.onreadystatechange=function(){r.readyState>3&&o(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(t){console&&console.log(t)}}(t,e,n,o):void 0}},"./node_modules/i18next-http-backend/esm/utils.js":(t,e,n)=>{"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}n.r(e),n.d(e,{defaults:()=>a,hasXMLHttpRequest:()=>c,makePromise:()=>l});var r=[],i=r.forEach,s=r.slice;function a(t){return i.call(s.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}function c(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":o(XMLHttpRequest))}function l(t){return function(t){return!!t&&"function"==typeof t.then}(t)?t:Promise.resolve(t)}},"./node_modules/i18next/dist/esm/i18next.js":(t,e,n)=>{"use strict";n.r(e),n.d(e,{changeLanguage:()=>ht,createInstance:()=>ut,default:()=>Ct,exists:()=>vt,getFixedT:()=>gt,hasLoadedNamespace:()=>wt,init:()=>dt,loadLanguages:()=>Ot,loadNamespaces:()=>xt,loadResources:()=>pt,reloadResources:()=>ft,setDefaultNamespace:()=>yt,t:()=>bt,use:()=>mt});var o=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("./node_modules/@babel/runtime/helpers/esm/toArray.js");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},h=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,t),this.init(e,n)}return(0,i.default)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||m,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,f(f({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]),t}()),g=function(){function t(){(0,r.default)(this,t),this.observers={}}return(0,i.default)(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(this.observers[t]){var r=[].concat(this.observers[t]);r.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function b(){var t,e,n=new Promise((function(n,o){t=n,e=o}));return n.resolve=t,n.reject=e,n}function v(t){return null==t?"":""+t}function y(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function w(t,e,n){function o(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(r())return{};var s=o(i.shift());!t[s]&&n&&(t[s]=new n),t=Object.prototype.hasOwnProperty.call(t,s)?t[s]:{}}return r()?{}:{obj:t,k:o(i.shift())}}function x(t,e,n){var o=w(t,e,Object);o.obj[o.k]=n}function O(t,e){var n=w(t,e),o=n.obj,r=n.k;if(o)return o[r]}function C(t,e,n){var o=O(t,n);return void 0!==o?o:O(e,n)}function j(t,e,n){for(var o in e)"__proto__"!==o&&"constructor"!==o&&(o in t?"string"==typeof t[o]||t[o]instanceof String||"string"==typeof e[o]||e[o]instanceof String?n&&(t[o]=e[o]):j(t[o],e[o],n):t[o]=e[o]);return t}function k(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return T[t]})):t}var S="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,A=[" ",",","?","!",";"];function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var o=e.split(n),r=t,i=0;i<o.length;++i){if(!r)return;if("string"==typeof r[o[i]]&&i+1<o.length)return;if(void 0===r[o[i]]){for(var s=2,a=o.slice(i,i+s).join(n),c=r[a];void 0===c&&o.length>i+s;)s++,c=r[a=o.slice(i,i+s).join(n)];if(void 0===c)return;if(null===c)return null;if(e.endsWith(a)){if("string"==typeof c)return c;if(a&&"string"==typeof c[a])return c[a]}var l=o.slice(i+s).join(n);return l?E(c,l,n):void 0}r=r[o[i]]}return r}}var I=function(t){(0,a.default)(u,t);var e,n,o=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function u(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,r.default)(this,u),e=o.call(this),S&&g.call((0,s.default)(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return(0,i.default)(u,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[t,e];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(s=t.split("."));var a=O(this.data,s);return a||!i||"string"!=typeof n?a:E(this.data&&this.data[t]&&this.data[t][e],n,r)}},{key:"addResource",value:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var s=[t,e];n&&(s=s.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=e,e=(s=t.split("."))[1]),this.addNamespaces(e),x(this.data,s,o),r.silent||this.emit("added",t,e,n,o)}},{key:"addResources",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(t,e,r,n[r],{silent:!0});o.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(o=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=O(this.data,s)||{};o?j(a,n,r):a=L(L({},a),n),x(this.data,s,a),i.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?L(L({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),u}(g),M={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,o,r){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,o,r))})),e}};function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={},N=function(t){(0,a.default)(d,t);var e,n,u=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function d(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.default)(this,d),e=u.call(this),S&&g.call((0,s.default)(e)),y(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,(0,s.default)(e)),e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=h.create("translator"),e}return(0,i.default)(d,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS||[],i=n&&t.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var o=A.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===o.length)return!0;var r=new RegExp("(".concat(o.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),i=!r.test(t);if(!i){var s=t.indexOf(n);s>0&&!r.test(t.substring(0,s))&&(i=!0)}return i}(t,n,o));if(i&&!s){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:r};var c=t.split(n);(n!==o||n===o&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),t=c.join(o)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(t,e,n){var r=this;if("object"!==(0,o.default)(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),c=a.key,l=a.namespaces,u=l[l.length-1],p=e.lng||this.language,f=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&"cimode"===p.toLowerCase()){if(f){var m=e.nsSeparator||this.options.nsSeparator;return i?(h.res="".concat(u).concat(m).concat(c),h):"".concat(u).concat(m).concat(c)}return i?(h.res=c,h):c}var h=this.resolve(t,e),g=h&&h.res,b=h&&h.usedKey||c,v=h&&h.exactUsedKey||c,y=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],x=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,C="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(O&&g&&C&&w.indexOf(y)<0&&("string"!=typeof x||"[object Array]"!==y)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,g,R(R({},e),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=j,h):j}if(s){var k="[object Array]"===y,T=k?[]:{},_=k?v:b;for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var A="".concat(_).concat(s).concat(S);T[S]=this.translate(A,R(R({},e),{joinArrays:!1,ns:l})),T[S]===A&&(T[S]=g[S])}g=T}}else if(O&&"string"==typeof x&&"[object Array]"===y)(g=g.join(x))&&(g=this.extendTranslation(g,t,e,n));else{var P=!1,L=!1,E=void 0!==e.count&&"string"!=typeof e.count,I=d.hasDefaultValue(e),M=E?this.pluralResolver.getSuffix(p,e.count,e):"",D=e["defaultValue".concat(M)]||e.defaultValue;!this.isValidLookup(g)&&I&&(P=!0,g=D),this.isValidLookup(g)||(L=!0,g=c);var B=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,N=B&&L?void 0:g,H=I&&D!==g&&this.options.updateMissing;if(L||P||H){if(this.logger.log(H?"updateKey":"missingKey",p,u,c,H?D:g),s){var q=this.resolve(c,R(R({},e),{},{keySeparator:!1}));q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&W&&W[0])for(var U=0;U<W.length;U++)F.push(W[U]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(e.lng||this.language):F.push(e.lng||this.language);var V=function(t,n,o){var i=I&&o!==g?o:N;r.options.missingKeyHandler?r.options.missingKeyHandler(t,u,n,i,H,e):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,u,n,i,H,e),r.emit("missingKey",t,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?F.forEach((function(t){r.pluralResolver.getSuffixes(t,e).forEach((function(n){V([t],c+n,e["defaultValue".concat(n)]||D)}))})):V(F,c,D))}g=this.extendTranslation(g,t,e,h,n),L&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(c)),(L||P)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(c):c,P?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(h.res=g,h):g}},{key:"extendTranslation",value:function(t,e,n,o,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,R(R({},this.options.interpolation.defaultVariables),n),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(R(R({},n),{interpolation:R(R({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var c=t.match(this.interpolator.nestingRegexp);s=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=R(R({},this.options.interpolation.defaultVariables),l)),t=this.interpolator.interpolate(t,l,n.lng||this.language,n),a){var u=t.match(this.interpolator.nestingRegexp);s<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r&&r[0]===o[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(e[0])),null):i.translate.apply(i,o.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=t&&p&&p.length&&!1!==n.applyPostProcessor&&(t=M.handle(p,t,e,this.options&&this.options.postProcessPassResolved?R({i18nResolved:o},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,o,r,i,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!s.isValidLookup(e)){var c=s.extractFromKey(t,a),l=c.key;n=l;var u=c.namespaces;s.options.fallbackNS&&(u=u.concat(s.options.fallbackNS));var d=void 0!==a.count&&"string"!=typeof a.count,p=d&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),f=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,m=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);u.forEach((function(t){s.isValidLookup(e)||(i=t,!B["".concat(m[0],"-").concat(t)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(i)&&(B["".concat(m[0],"-").concat(t)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(n){if(!s.isValidLookup(e)){r=n;var i,c=[l];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(c,l,n,t,a);else{var u;d&&(u=s.pluralResolver.getSuffix(n,a.count,a));var m="".concat(s.options.pluralSeparator,"zero");if(d&&(c.push(l+u),p&&c.push(l+m)),f){var h="".concat(l).concat(s.options.contextSeparator).concat(a.context);c.push(h),d&&(c.push(h+u),p&&c.push(h+m))}}for(;i=c.pop();)s.isValidLookup(e)||(o=i,e=s.getResource(n,t,i,a))}})))}))}})),{res:e,usedKey:n,exactUsedKey:o,usedLng:r,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,o):this.resourceStore.getResource(t,e,n,o)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}]),d}(g);function H(t){return t.charAt(0).toUpperCase()+t.slice(1)}var q=function(){function t(e){(0,r.default)(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=h.create("languageUtils")}return(0,i.default)(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=H(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=H(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=H(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var o=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(o)||(e=o)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var o=n.getLanguagePartFromCode(t);if(n.isSupportedCode(o))return e=o;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(o))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,o=this.getFallbackCodes(e||this.options.fallbackLng||[],t),r=[],i=function(t){t&&(n.isSupportedCode(t)?r.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),o.forEach((function(t){r.indexOf(t)<0&&i(n.formatLanguageCode(t))})),r}}]),t}(),F=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],W={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},U=["v1","v2","v3"],V={zero:0,one:1,two:2,few:3,many:4,other:5};function Q(){var t={};return F.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:W[e.fc]}}))})),t}var J=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(this,t),this.languageUtils=e,this.options=n,this.logger=h.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Q()}return(0,i.default)(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(t,n);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((function(t,e){return V[t]-V[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):o.numbers.map((function(o){return e.getSuffix(t,o,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(t,n);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(e)):this.getSuffixRetroCompatible(o,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,o=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),r=t.numbers[o];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var i=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?i():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!U.includes(this.options.compatibilityJSON)}}]),t}();function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,t),this.logger=h.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return(0,i.default)(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:_,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?k(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?k(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?k(e.nestingPrefix):e.nestingPrefixEscaped||k("$t("),this.nestingSuffix=e.nestingSuffix?k(e.nestingSuffix):e.nestingSuffixEscaped||k(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,o){var r,i,s,a=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(a.formatSeparator)<0){var r=C(e,c,t);return a.alwaysFormat?a.format(r,void 0,n,z(z(z({},o),e),{},{interpolationkey:t})):r}var i=t.split(a.formatSeparator),s=i.shift().trim(),l=i.join(a.formatSeparator).trim();return a.format(C(e,c,s),l,n,z(z(z({},o),e),{},{interpolationkey:s}))};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return l(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?l(a.escape(t)):l(t)}}].forEach((function(e){for(s=0;r=e.regex.exec(t);){var n=r[1].trim();if(void 0===(i=u(n)))if("function"==typeof d){var c=d(t,r,o);i="string"==typeof c?c:""}else if(o&&o.hasOwnProperty(n))i="";else{if(p){i=r[0];continue}a.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t)),i=""}else"string"==typeof i||a.useRawValueToEscape||(i=v(i));var l=e.safeValue(i);if(t=t.replace(r[0],l),p?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=r[0].length):e.regex.lastIndex=0,++s>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,o,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=z({},i);function a(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var o=t.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(o[1]);t=o[0],r=(r=this.interpolate(r,s)).replace(/'/g,'"');try{s=JSON.parse(r),e&&(s=z(z({},e),s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(r)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=u.shift(),c=u,l=!0}if((o=e(a.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof o)return o;"string"!=typeof o&&(o=v(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),o=""),l&&(o=c.reduce((function(t,e){return r.format(t,e,i.lng,z(z({},i),{},{interpolationkey:n[1].trim()}))}),o.trim())),t=t.replace(n[0],o),this.regexp.lastIndex=0}return t}}]),t}();function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,t),this.logger=h.create("formatter"),this.options=e,this.formats={number:function(t,e,n){return new Intl.NumberFormat(e,n).format(t)},currency:function(t,e,n){return new Intl.NumberFormat(e,X(X({},n),{},{style:"currency"})).format(t)},datetime:function(t,e,n){return new Intl.DateTimeFormat(e,X({},n)).format(t)},relativetime:function(t,e,n){return new Intl.RelativeTimeFormat(e,X({},n)).format(t,n.range||"day")},list:function(t,e,n){return new Intl.ListFormat(e,X({},n)).format(t)}},this.init(e)}return(0,i.default)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=e.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"format",value:function(t,e,n,o){var r=this;return e.split(this.formatSeparator).reduce((function(t,e){var i=function(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var o=t.split("(");e=o[0].toLowerCase().trim();var r=o[1].substring(0,o[1].length-1);"currency"===e&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===e&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((function(t){if(t){var e=t.split(":"),o=(0,d.default)(e),r=o[0],i=o.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:e,formatOptions:n}}(e),s=i.formatName,a=i.formatOptions;if(r.formats[s]){var c=t;try{var l=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},u=l.locale||l.lng||o.locale||o.lng||n;c=r.formats[s](t,u,X(X(X({},a),o),l))}catch(t){r.logger.warn(t)}return c}return r.logger.warn("there was no format function for ".concat(s)),t}),t)}}]),t}();function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var et=function(t){(0,a.default)(u,t);var e,n,o=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function u(t,e,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,r.default)(this,u),i=o.call(this),S&&g.call((0,s.default)(i)),i.backend=t,i.store=e,i.services=n,i.languageUtils=n.languageUtils,i.options=a,i.logger=h.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,a.backend,a),i}return(0,i.default)(u,[{key:"queueLoad",value:function(t,e,n,o){var r=this,i={},s={},a={},c={};return t.forEach((function(t){var o=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!n.reload&&r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?void 0===s[a]&&(s[a]=!0):(r.state[a]=1,o=!1,void 0===s[a]&&(s[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===c[e]&&(c[e]=!0)))})),o||(a[t]=!0)})),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(t,e,n){var o=t.split("|"),r=o[0],i=o[1];e&&this.emit("failedLoading",r,i,e),n&&this.store.addResourceBundle(r,i,n),this.state[t]=e?-1:2;var s={};this.queue.forEach((function(n){var o,a,c,l,u;o=n.loaded,a=i,(l=(c=w(o,[r],Object)).obj)[u=c.k]=l[u]||[],l[u].push(a),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(t){s[t]||(s[t]={});var e=n.loaded[t];e.length&&e.forEach((function(e){void 0===s[t][e]&&(s[t][e]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:n,tried:r,wait:i,callback:s}):(this.readingCalls++,this.backend[n](t,e,(function(a,c){if(o.readingCalls--,o.waitingReads.length>0){var l=o.waitingReads.shift();o.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}a&&c&&r<o.maxRetries?setTimeout((function(){o.read.call(o,t,e,n,r+1,2*i,s)}),i):s(a,c)}))):s(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,o,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t.split("|"),r=o[0],i=o[1];this.read(r,i,"read",void 0,void 0,(function(o,s){o&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(r," failed"),o),!o&&s&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(r),s),e.loaded(t,o,s)}))}},{key:"saveMissing",value:function(t,e,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,o,null,tt(tt({},i),{},{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,o))}}]),u}(g);function nt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===(0,o.default)(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===(0,o.default)(t[2])||"object"===(0,o.default)(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,o){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ot(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(){}function at(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var ct=function(t){(0,a.default)(d,t);var e,n,u=(e=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,c.default)(this,t)});function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if((0,r.default)(this,d),t=u.call(this),S&&g.call((0,s.default)(t)),t.options=ot(e),t.services={},t.logger=h,t.modules={external:[]},at((0,s.default)(t)),n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),(0,c.default)(t,(0,s.default)(t));setTimeout((function(){t.init(e,n)}),0)}return t}return(0,i.default)(d,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var o=nt();function r(t){return t?"function"==typeof t?new t:t:null}if(this.options=it(it(it({},o),this.options),ot(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=it(it({},o.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var i;this.modules.logger?h.init(r(this.modules.logger),this.options):h.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=Y);var s=new q(this.options);this.store=new I(this.options.resources,this.options);var a=this.services;a.logger=h,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new J(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(a.formatter=r(i),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new $(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new et(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t.emit.apply(t,[e].concat(o))})),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new N(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t.emit.apply(t,[e].concat(o))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=st),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var d=b(),p=function(){var e=function(e,o){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),d.resolve(o),n(e,o)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st,o=n,r="string"==typeof t?t:this.language;if("function"==typeof t&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return o();var i=[],s=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){i.indexOf(t)<0&&i.push(t)}))};if(r)s(r);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(t){return s(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return s(t)})),this.services.backendConnector.load(i,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),o(t)}))}else o(null)}},{key:"reloadResources",value:function(t,e,n){var o=b();return t||(t=this.languages),e||(e=this.options.ns),n||(n=st),this.services.backendConnector.reload(t,e,(function(t){o.resolve(),n(t)})),o}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&M.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var o=b();this.emit("languageChanging",t);var r=function(t){n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,n.setResolvedLanguage(t)},i=function(i){t||i||!n.services.languageDetector||(i=[]);var s="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);s&&(n.language||r(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(t){!function(t,i){i?(r(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,o.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,s)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(t,e,n){var r=this,i=function t(e,i){var s;if("object"!==(0,o.default)(i)){for(var a=arguments.length,c=new Array(a>2?a-2:0),l=2;l<a;l++)c[l-2]=arguments[l];s=r.options.overloadTranslationOptionHandler([e,i].concat(c))}else s=it({},i);s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,s.keyPrefix=s.keyPrefix||n||t.keyPrefix;var u=r.options.keySeparator||".",d=s.keyPrefix?"".concat(s.keyPrefix).concat(u).concat(e):e;return r.t(d,s)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=n,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var s=function(t,n){var o=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===o||2===o};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!(!this.hasResourceBundle(o,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!s(o,t)||r&&!s(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,o=b();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){o.resolve(),e&&e(t)})),o):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=b();"string"==typeof t&&(t=[t]);var o=this.options.preload||[],r=t.filter((function(t){return o.indexOf(t)<0}));return r.length?(this.options.preload=o.concat(r),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st,o=it(it(it({},this.options),e),{isClone:!0}),r=new d(o),i=["store","services","language"];return i.forEach((function(e){r[e]=t[e]})),r.services=it({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new N(r.services,r.options),r.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];r.emit.apply(r,[t].concat(n))})),r.init(o,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),d}(g);(0,u.default)(ct,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new ct(t,e)}));var lt=ct.createInstance();lt.createInstance=ct.createInstance;var ut=lt.createInstance,dt=lt.init,pt=lt.loadResources,ft=lt.reloadResources,mt=lt.use,ht=lt.changeLanguage,gt=lt.getFixedT,bt=lt.t,vt=lt.exists,yt=lt.setDefaultNamespace,wt=lt.hasLoadedNamespace,xt=lt.loadNamespaces,Ot=lt.loadLanguages;const Ct=lt}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={exports:{}};return n[t].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&o&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>n[t]));return s.default=()=>n,r.d(i,s),i},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i),r.d(i,{Actions:()=>b.Actions,CmdParHlp:()=>b.CmdParHlp,CmsEngine:()=>b.CmsEngine,Command:()=>b.Command,Commands:()=>b.Commands,ContentListActionParams:()=>b.ContentListActionParams,ModifierBase:()=>y.ModifierBase,ModifierContentBlock:()=>y.ModifierContentBlock,ModifierDnnModule:()=>y.ModifierDnnModule,ModifierDnnModuleInternal:()=>y.ModifierDnnModuleInternal,PositionCoordinates:()=>y.PositionCoordinates,Positioning:()=>y.Positioning,QeSelectors:()=>y.QeSelectors,QuickE:()=>y.QuickE,QuickEClipboard:()=>y.QuickEClipboard,QuickEditConfig:()=>y.QuickEditConfig,QuickEditConfigButtons:()=>y.QuickEditConfigButtons,QuickEditConfigEnableAuto:()=>y.QuickEditConfigEnableAuto,QuickEditConfigRoot:()=>y.QuickEditConfigRoot,QuickEditOverlay:()=>y.QuickEditOverlay,RunParamsHelpers:()=>v.RunParamsHelpers,Selection:()=>y.Selection,SharedLogic:()=>b.SharedLogic,SxcCmsReal:()=>w.SxcCmsReal,SxcGlobalCms:()=>v.SxcGlobalCms,SxcTools:()=>w.SxcTools,ToolbarWorkflowManager:()=>x.ToolbarWorkflowManager,WorkflowCommands:()=>b.WorkflowCommands,WorkflowHelper:()=>x.WorkflowHelper,WorkflowPhases:()=>x.WorkflowPhases,WorkflowStepCodeArguments:()=>x.WorkflowStepCodeArguments,WorkflowStepHelper:()=>x.WorkflowStepHelper,iconPrefix:()=>b.iconPrefix,tlbI18nPrefix:()=>b.tlbI18nPrefix});var t,e,n,o,s,a,c,l=r("./src/bootstrap/bootstrap.ts"),u=r("./src/cms/sxc-global-cms.ts"),d=r("./src/context/bundles/context-bundle-button.ts"),p=r("./src/i18n/index.ts"),f=r("./src/manage/sxc-global-manage.ts"),m=r("./src/plumbing/index.ts"),h=r("./src/quick-edit/quick-e.ts"),g=r("./src/system/index.ts"),b=r("./src/commands/index.ts"),v=r("./src/cms/index.ts"),y=r("./src/quick-edit/index.ts"),w=r("./src/sxc/index.ts"),x=r("./src/workflow/index.ts"),O=(r("./src/toolbar/toolbar-global-enable-shake.ts"),r("./src/dnn/index.ts"),r("./src/styles/index.scss"),window.$2sxc),C=!!O._manage;null!==(t=O.context)&&void 0!==t||(O.context=d.ContextComplete.findContext),null!==(e=O._translateInit)&&void 0!==e||(O._translateInit=function(t){return p.Translator.initManager(t)}),null!==(n=O.translate)&&void 0!==n||(O.translate=p.translate),null!==(o=O._manage)&&void 0!==o||(O._manage=new f.SxcGlobalManage),null!==(s=O.cms)&&void 0!==s||(O.cms=new u.SxcGlobalCms),null!==(a=O.system)&&void 0!==a||(O.system=new g.SystemUpgrader),null!==(c=window.$quickE)&&void 0!==c||(window.$quickE=h.QuickE.singleton()),C?m.NoJQ.ready((function(){return window.$quickE.start()})):m.NoJQ.ready((function(){(new l.BootstrapInPage).initialize(),h.QuickE.singleton().start()}))})(),$2sxcInpage=i})();
//# sourceMappingURL=inpage.min.js.map
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-items_content-items_ts"],{336(I,M,n){n.d(M,{F:()=>O});var l=n(46443),t=n(14600),r=n(70271),d=n(36647),p=n(78742),g=n(70693),y=n(34435),u=n(9234),v=n(24467),E=n(56884),x=n(36124);const D={getAll:!0,getAllLive:!0,getAllOnce:!0};let O=(()=>{class C extends v.B{constructor(){super(...arguments),this.log=(0,y.Tq)({ContentItemsService:C},D)}getAllPromise(m){return this.log.fnIf("getAll",{contentTypeStaticName:m}),this.fetchPromise(u.Gg,{params:{appId:this.appId,contentType:m}})}getAllOnce(m){return this.log.fnIf("getAllOnce",{contentTypeStaticName:m}),(0,l.fx)(()=>({url:this.apiUrl(u.Gg),params:{appId:this.appId,contentType:m}}))}getAllLive(m,h){return this.log.fnIf("getAllLive",{contentTypeStaticName:m,refresh:h}),(0,l.fx)(()=>(h(),{url:this.apiUrl(u.Gg),params:{appId:this.appId,contentType:m}}))}getColumnsPromise(m){return this.fetchPromise(p.z,{params:{appId:this.appId,staticName:m}})}importItem(m){return(0,t.H)((0,g.n)(m)).pipe((0,d.n)(h=>this.http.post(this.apiUrl(u.gb+"upload"),{AppId:this.appId,ContentBase64:h})),(0,r.T)(h=>({Success:h,Messages:[]})))}static{this.\u0275fac=(()=>{let m;return function(F){return(m||(m=x.xGo(C)))(F||C)}})()}static{this.\u0275prov=E.jDH({token:C,factory:C.\u0275fac})}}return C})()},1771(I,M,n){n.r(M),n.d(M,{ContentItemsComponent:()=>Re});var l=n(56884),t=n(36124),r=n(37580),d=n(36664),p=n(84175),g=n(87941),y=n(93840),u=n(3347),v=n(69393),E=n(12938),x=n(17693),D=n(25286),O=n(56360),C=n(93454),c=n(21183),m=n(11828),h=n(17042),F=n(17401),_=n(34456),k=n(24950),B=n(59791),A=n(53804),G=n(80423);const lt=["valueInput"];let w=(()=>{class i{constructor(){this.filter="",this.idFilterString="",this.idFilter=[]}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.filter||this.idFilter.length>0}doesFilterPass(e){if(""!==this.filter){const o=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,context:this.filterParams.context,data:e.node.data,getValue:s=>e.node.data[s],node:e.node});if(null==o||!o.some(s=>!!s&&s.includes(this.filter)))return!1}if(this.idFilter.length>0){const a=e.data[this.filterParams.colDef.headerName];if(null==a||!this.idFilter.some(o=>a.some(s=>s.Id===o)))return!1}return!0}getModel(){return this.isFilterActive()?{filterType:"entity",filter:this.filter,idFilter:this.idFilter}:void 0}setModel(e){this.filter=e?.filter??"",this.idFilter=e?.idFilter??[],this.idFilterString=e?.idFilter?.join(",")??""}afterGuiAttached(e){this.valueInputRef.nativeElement.focus()}updateIdFilter(){this.idFilter=this.idFilterString.split(",").map(e=>parseInt(e,10)).filter(e=>!isNaN(e))}filterChanged(){this.filterParams.filterChangedCallback()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-entity-filter"]],viewQuery:function(a,o){if(1&a&&t.GBs(lt,5),2&a){let s;t.mGM(s=t.lsd())&&(o.valueInputRef=s.first)}},decls:9,vars:2,consts:[["valueInput",""],["color","accent",1,"eav-mat-form-field"],["matInput","","type","text",3,"ngModelChange","ngModel"]],template:function(a,o){if(1&a){const s=t.RV6();t.j41(0,"mat-form-field",1)(1,"mat-label"),t.EFF(2,"Value"),t.k0s(),t.j41(3,"input",2,0),t.mxI("ngModelChange",function(b){return l.eBV(s),t.DH7(o.filter,b)||(o.filter=b),l.Njj(b)}),t.bIt("ngModelChange",function(){return l.eBV(s),l.Njj(o.filterChanged())}),t.k0s()(),t.j41(5,"mat-form-field",1)(6,"mat-label"),t.EFF(7,"IDs (comma separated)"),t.k0s(),t.j41(8,"input",2),t.mxI("ngModelChange",function(b){return l.eBV(s),t.DH7(o.idFilterString,b)||(o.idFilterString=b),l.Njj(b)}),t.bIt("ngModelChange",function(){return l.eBV(s),o.updateIdFilter(),l.Njj(o.filterChanged())}),t.k0s()()}2&a&&(t.R7$(3),t.R50("ngModel",o.filter),t.R7$(5),t.R50("ngModel",o.idFilterString))},dependencies:[_.YN,_.me,_.BC,_.vS,A.Wk,k.RG,G.rl,G.nJ,B.fS,B.fg],styles:["[_nghost-%COMP%]{display:block;padding:16px 12px 2px}.mat-mdc-form-field[_ngcontent-%COMP%]{display:block;width:175px}"]})}}return i})();var rt=n(60251),dt=n(38172),ct=n(34575),S=n(34601),pt=n(95699),W=n(1726),U=n(92324),ut=n(34435),j=n(30056),mt=n(67037),ht=n(69914),gt=n(60852),ft=n(96817),_t=n(39431),Ct=n(67993),z=n(85309),K=n(31034),Q=n(17828);function vt(i,f){if(1&i){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.do("delete"))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Delete"),t.k0s()()}if(2&i){const e=t.XpG();t.Y8G("disabled",e.item._EditInfo.DisableDelete)}}let yt=(()=>{class i{agInit(e){this.params=e,this.item=e.data}refresh(e){return!0}do(e){this.params.do(e,this.item)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-data-bundle-actions"]],decls:13,vars:2,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Clone",1,"eav-grid-action-button","default-link","highlight",3,"href"],["matRipple","","tippy","Export",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["mat-menu-item","",3,"click","disabled"]],template:function(a,o){if(1&a){const s=t.RV6();t.j41(0,"div",1)(1,"a",2)(2,"mat-icon"),t.EFF(3,"file_copy"),t.k0s()(),t.j41(4,"div",3),t.bIt("click",function(){return l.eBV(s),l.Njj(o.do("export"))}),t.j41(5,"mat-icon"),t.EFF(6,"cloud_download"),t.k0s()(),t.j41(7,"div",4)(8,"mat-icon"),t.EFF(9,"more_horiz"),t.k0s()()(),t.j41(10,"mat-menu",5,0),t.DNE(12,vt,5,1,"ng-template",6),t.k0s()}if(2&a){const s=t.sdS(11);t.R7$(),t.Y8G("href",o.params.urlTo("clone",o.item),t.B4B),t.R7$(6),t.Y8G("matMenuTriggerFor",s)}},dependencies:[z.p,Q.r6,y.m_,y.An,K.Cn,K.kk,K.fb,K.z8,K.Cp,S.e],encapsulation:2})}}return i})();function Tt(i,f){if(1&i&&(t.j41(0,"span",1),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.JRh(e.entities)}}let bt=(()=>{class i{agInit(e){Array.isArray(e.value)&&(this.encodedValue=this.htmlEncode(e.value.join(", ")),e.colDef.allowMultiValue&&(this.entities=e.value.length))}refresh(e){return!0}htmlEncode(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-entity"]],decls:3,vars:3,consts:[[3,"tippy"],[1,"more-entities"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.nVh(1,Tt,2,1,"span",1),t.EFF(2),t.k0s()),2&a&&(t.Y8G("tippy",o.encodedValue),t.R7$(),t.vxM(o.entities?1:-1),t.R7$(),t.SpI(" ",o.encodedValue,"\n"))},dependencies:[S.e],styles:[".more-entities[_ngcontent-%COMP%]{padding:0 8px;border-radius:10px;border:1px solid rgba(29,39,61,.44);-webkit-user-select:none;user-select:none}"]})}}return i})();var L=n(79748),Z=n(16256);const Mt=i=>({"hide-until-row-hover":i});function Et(i,f){if(1&i&&(t.j41(0,"a",2)(1,"mat-icon",4),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.Y8G("tippy",e.metadataTooltip)("href",e.params.urlTo("openMetadata",e.item),t.B4B)("ngClass",t.eq3(6,Mt,!e.metadataCount&&!e.value.metadata)),t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}function Dt(i,f){if(1&i&&(t.j41(0,"div",3)(1,"mat-icon",5),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.metadataCount)("matBadgeHidden",!e.metadataCount),t.R7$(),t.SpI("",e.value.metadata?"loyalty":"local_offer"," ")}}let Ft=(()=>{class i{agInit(e){this.params=e,this.value=e.value,this.item=e.data,this.disableMetadata=this.item._EditInfo.DisableMetadata,this.metadataCount=this.item.Metadata?.length??0;const a=this.item.For;this.metadataTooltip=a?`This item is metadata for:\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.KeyNumber?`\nNumber: ${a.KeyNumber}`:"")+(a.KeyString?`\nString: ${a.KeyString}`:"")+(a.KeyGuid?`\nGuid: ${a.KeyGuid}`:"")+(a.Title?`\nTitle: ${a.Title}`:""):"This item is not metadata.",this.metadataTooltip+=`\n\nThis item has ${this.metadataCount>0?this.metadataCount:"no"} other metadata ${1===this.metadataCount?"item":"items"} attached to it.`}refresh(e){return!0}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items-status"]],decls:6,vars:3,consts:[[1,"actions-component"],[1,"eav-grid-action-button","icon",3,"tippy"],["matRipple","",1,"eav-grid-action-button","default-link","highlight",3,"tippy","href","ngClass"],[1,"eav-grid-action-button","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"mat-icon"),t.EFF(3),t.k0s()(),t.nVh(4,Et,3,8,"a",2)(5,Dt,3,3,"div",3),t.k0s()),2&a&&(t.R7$(),t.Y8G("tippy",o.value.published?"Published":"Not published"),t.R7$(2),t.JRh(o.value.published?"visibility":"visibility_off"),t.R7$(),t.vxM(o.disableMetadata?o.disableMetadata&&(o.metadataCount||o.value.metadata)?5:-1:4))},dependencies:[y.m_,y.An,z.p,Q.r6,L.YU,Z.Y,Z.k,S.e],styles:[".hide-until-row-hover[_ngcontent-%COMP%]{visibility:hidden}  .ag-row-hover .hide-until-row-hover{visibility:visible}"]})}}return i})();var xt=n(4038),It=n(20762),J=n(25175),q=n(8827),$=n(75797),X=n(63037),N=n(91817),Pt=n(63617),tt=n(70271),Y=n(19999),Rt=n(75445),kt=n(32760),et=n(88857),Bt=n(30281),jt=n(11855),nt=n(5858),P=n(50052),At=n(39333),$t=n(63628),Gt=n(48021),St=n(93826),Ut=n(68873),at=n(336),Kt=n(49417);function Vt(i){return f=>{if(!f.value)return null;const e=i.controls.keyType.value,a=f.value.toString();switch(e){case P.YX.keyTypes.number:return/^[0-9]+$/.test(a)?null:{patternWholeNumber:!0};case P.YX.keyTypes.guid:const s=["{","}"].some(R=>a.includes(R)),T=a.substring(s?1:0,s?a.length-1:a.length);return(0,Kt.L)().test(T)?null:{patternGuid:!0};default:return null}}}var Wt=n(96462),it=n(55326);const ot=i=>({active:i});function Lt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.targetType),t.R7$(),t.SpI(" ",e.label," ")}}function Nt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.Y8G("value",e.formValues.targetType),t.R7$(),t.SpI(" ",e.formValues.targetType," ")}}function Yt(i,f){if(1&i&&(t.j41(0,"mat-select",9),t.Z7z(1,Lt,2,2,"mat-option",13,t.fX1),t.nVh(3,Nt,2,2,"mat-option",13),t.k0s()),2&i){const e=t.XpG(),a=t.XpG();t.R7$(),t.Dyx(a.targetTypeOptions),t.R7$(2),t.vxM(e.unknownTargetType?3:-1)}}function Xt(i,f){1&i&&t.nrm(0,"input",10)}function Ht(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Warning: you entered an unknown target type. This may work or may not. Please be sure you know what you're doing "),t.k0s()),2&i&&t.Y8G("isError",!1)}function wt(i,f){if(1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1),t.k0s()),2&i){const e=t.XpG();t.Y8G("isError",!1),t.R7$(),t.JRh(e.targetTypeHint)}}function zt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Qt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Zt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Jt(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function qt(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.NameId),t.R7$(),t.SpI(" ",e.Label," ")}}function te(i,f){if(1&i&&(t.j41(0,"mat-form-field",8)(1,"mat-label"),t.EFF(2,"Content Type"),t.k0s(),t.j41(3,"mat-select",19),t.Z7z(4,qt,2,2,"mat-option",13,t.fX1),t.k0s()()),2&i){const e=t.XpG();t.R7$(3),t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function ee(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI(" ",e.name," ")}}function ne(i,f){if(1&i&&(t.j41(0,"mat-form-field",8)(1,"mat-label"),t.EFF(2,"Scope"),t.k0s(),t.j41(3,"mat-select",20),t.Z7z(4,ee,2,2,"mat-option",13,t.fX1),t.j41(6,"mat-option",13),t.EFF(7,"Other..."),t.k0s()()()),2&i){const e=t.XpG(),a=t.XpG();t.R7$(3),t.Y8G("placeholder",e.scopeOptions.length?"":"No items found"),t.R7$(),t.Dyx(e.scopeOptions),t.R7$(2),t.Y8G("value",a.dropdownInsertValue)}}function ae(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.Guid),t.R7$(),t.Lme(" ",e.Title," (",e.Id,") ")}}function ie(i,f){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,ae,2,3,"mat-option",13,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentItems.length?"":"No items found"),t.R7$(),t.Dyx(e.contentItems)}}function oe(i,f){1&i&&t.nrm(0,"input",22)}function se(i,f){if(1&i&&t.nVh(0,ie,3,1,"mat-select",21)(1,oe,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(e.guidedKey?0:1)}}function le(i,f){if(1&i&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&i){const e=f.$implicit;t.Y8G("value",e.NameId),t.R7$(),t.SpI(" ",e.Label," ")}}function re(i,f){if(1&i&&(t.j41(0,"mat-select",21),t.Z7z(1,le,2,2,"mat-option",13,t.fX1),t.k0s()),2&i){const e=t.XpG(3);t.Y8G("placeholder",e.contentTypes.length?"":"No items found"),t.R7$(),t.Dyx(e.contentTypes)}}function de(i,f){1&i&&t.nrm(0,"input",22)}function ce(i,f){if(1&i&&t.nVh(0,re,3,1,"mat-select",21)(1,de,1,0,"input",22),2&i){const e=t.XpG(2);t.vxM(e.guidedKey?0:1)}}function pe(i,f){1&i&&t.eu8(0)}function ue(i,f){if(1&i&&t.DNE(0,pe,1,0,"ng-container",23),2&i){t.XpG(2);const e=t.sdS(44);t.Y8G("ngTemplateOutlet",e)}}function me(i,f){if(1&i&&t.nVh(0,se,2,1)(1,ce,2,1)(2,ue,1,1,"ng-container"),2&i){let e;const a=t.XpG(),o=t.XpG();t.vxM((e=a.formValues.targetType)===o.eavConstants.metadata.entity.targetType?0:e===o.eavConstants.metadata.contentType.targetType?1:2)}}function he(i,f){1&i&&t.nrm(0,"input",22)}function ge(i,f){1&i&&t.nrm(0,"input",24)}function fe(i,f){if(1&i&&(t.nVh(0,he,1,0,"input",22),t.nVh(1,ge,1,0,"input",24)),2&i){const e=t.XpG(),a=t.XpG();t.vxM(e.formValues.keyType!==a.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(e.formValues.keyType===a.eavConstants.keyTypes.number?1:-1)}}function _e(i,f){1&i&&t.nrm(0,"input",22)}function Ce(i,f){1&i&&t.nrm(0,"input",24)}function ve(i,f){if(1&i&&(t.nVh(0,_e,1,0,"input",22),t.nVh(1,Ce,1,0,"input",24)),2&i){const e=t.XpG(),a=t.XpG();t.vxM(e.formValues.keyType!==a.eavConstants.keyTypes.number?0:-1),t.R7$(),t.vxM(e.formValues.keyType===a.eavConstants.keyTypes.number?1:-1)}}function ye(i,f){if(1&i){const e=t.RV6();t.j41(0,"div",16)(1,"button",25),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2);return l.Njj(o.toggleGuidedKey(!0))}),t.j41(2,"mat-icon",26),t.EFF(3,"search"),t.k0s()(),t.j41(4,"button",27),t.bIt("click",function(){l.eBV(e);const o=t.XpG(2);return l.Njj(o.toggleGuidedKey(!1))}),t.j41(5,"mat-icon",26),t.EFF(6,"text_fields"),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("ngClass",t.eq3(2,ot,e.guidedKey)),t.R7$(3),t.Y8G("ngClass",t.eq3(4,ot,!e.guidedKey))}}function Te(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," This field is required "),t.k0s()),2&i&&t.Y8G("isError",!0)}function be(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a whole number "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Me(i,f){1&i&&(t.j41(0,"app-field-hint",11),t.EFF(1," Must be a valid GUID "),t.k0s()),2&i&&t.Y8G("isError",!0)}function Ee(i,f){if(1&i){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3," Create Metadata "),t.k0s(),t.j41(4,"button",4),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.closeDialog())}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",5)(8,"p"),t.EFF(9," This is a special operation to add an item which is metadata for another item, see "),t.j41(10,"a",6),t.EFF(11,"docs"),t.k0s(),t.EFF(12,". "),t.k0s(),t.j41(13,"form",7)(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Target"),t.k0s(),t.nVh(17,Yt,4,1,"mat-select",9),t.nVh(18,Xt,1,0,"input",10),t.k0s(),t.nVh(19,Ht,2,1,"app-field-hint",11),t.nVh(20,wt,2,2,"app-field-hint",11),t.nVh(21,zt,2,1,"app-field-hint",11),t.nVh(22,Qt,2,1,"app-field-hint",11),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Key type"),t.k0s(),t.j41(26,"mat-select",12),t.Z7z(27,Zt,2,2,"mat-option",13,t.fX1),t.k0s()(),t.nVh(29,Jt,2,1,"app-field-hint",11),t.j41(30,"mat-slide-toggle",14),t.bIt("change",function(o){l.eBV(e);const s=t.XpG();return l.Njj(s.toggleGuidedMode(o))}),t.EFF(31),t.k0s(),t.nVh(32,te,6,1,"mat-form-field",8),t.nVh(33,ne,8,2,"mat-form-field",8),t.j41(34,"app-field-hint"),t.EFF(35," The scope should almost never be changed - "),t.j41(36,"a",15),t.EFF(37,"see help"),t.k0s()(),t.j41(38,"mat-form-field",8)(39,"mat-label"),t.EFF(40,"Key"),t.k0s(),t.nVh(41,me,3,1)(42,fe,2,2),t.DNE(43,ve,2,2,"ng-template",null,0,t.C5r),t.nVh(45,ye,7,6,"div",16),t.k0s(),t.nVh(46,Te,2,1,"app-field-hint",11),t.nVh(47,be,2,1,"app-field-hint",11),t.nVh(48,Me,2,1,"app-field-hint",11),t.k0s()(),t.j41(49,"mat-dialog-actions",17)(50,"app-save-close-button-fab",18),t.bIt("action",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.saveAndClose())}),t.k0s()()()}if(2&i){const e=f,a=t.XpG();t.R7$(13),t.Y8G("formGroup",a.ngForm),t.R7$(4),t.vxM(e.guidedMode?17:-1),t.R7$(),t.vxM(e.guidedMode?-1:18),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&!a.ngForm.controls.targetType.invalid&&e.unknownTargetType?19:-1),t.R7$(),t.vxM(e.targetTypeHint?20:-1),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&null!=a.ngForm.controls.targetType.errors&&a.ngForm.controls.targetType.errors.required?21:-1),t.R7$(),t.vxM(a.ngForm.controls.targetType.touched&&null!=a.ngForm.controls.targetType.errors&&a.ngForm.controls.targetType.errors.pattern?22:-1),t.R7$(5),t.Dyx(e.keyTypeOptions),t.R7$(2),t.vxM(a.ngForm.controls.keyType.touched&&null!=a.ngForm.controls.keyType.errors&&a.ngForm.controls.keyType.errors.required?29:-1),t.R7$(),t.Y8G("tippy",e.guidedMode?"Guided mode helps you select options that work":"Manual mode is for advanced uses and allows you to insert any values")("checked",e.guidedMode),t.R7$(),t.SpI(" ",e.guidedMode?"Guided":"Manual"," "),t.R7$(),t.vxM(e.guidedMode&&e.formValues.targetType===a.eavConstants.metadata.entity.targetType?32:-1),t.R7$(),t.vxM(!e.guidedMode||e.formValues.targetType!==a.eavConstants.metadata.entity.targetType&&e.formValues.targetType!==a.eavConstants.metadata.contentType.targetType?-1:33),t.R7$(8),t.vxM(e.guidedMode?41:42),t.R7$(4),t.vxM(e.guidedMode&&e.guidedKeyExists?45:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.required?46:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.patternWholeNumber?47:-1),t.R7$(),t.vxM(a.ngForm.controls.key.touched&&null!=a.ngForm.controls.key.errors&&a.ngForm.controls.key.errors.patternGuid?48:-1),t.R7$(2),t.Y8G("ngClass",a.canSave()?"":"disabled")("disabled",!a.canSave())}}let De=(()=>{class i extends Bt.${constructor(e,a){super(),this.dialog=e,this.context=a,this.hostClass="dialog-component",this.eavConstants=P.YX,this.dropdownInsertValue=nt.O,this.formValid=(0,l.vPA)(!1),this.canSave=(0,d.EW)(()=>this.formValid()),this.contentItemsService=(0,E.d)(at.F),this.contentTypesService=(0,E.d)(Rt.gs)}ngOnInit(){this.#e(),this.targetTypeOptions=Object.values(P.YX.metadata).map(a=>({...a})),this.keyTypeOptions=Object.values(P.YX.keyTypes),this.keyTypeOptions$=new $.t([]),this.scopeOptions$=new $.t([]),this.guidedMode$=new $.t(!0),this.contentItems$=new $.t([]),this.contentTypes$=new $.t([]),this.guidedKey$=new $.t(!0),this.fetchScopes(),this.ngForm=new _.J3({}),this.ngForm.addControl("targetType",new _.hs(P.YX.metadata.entity.targetType,[_.k0.required,_.k0.pattern(/^[0-9]+$/)])),this.ngForm.addControl("keyType",new _.hs(P.YX.metadata.entity.keyType,[_.k0.required])),this.ngForm.addControl("contentTypeForContentItems",new _.hs(null)),this.ngForm.addControl("scopeForContentTypes",new _.hs(P.YX.scopes.default.value)),this.ngForm.addControl("key",new _.hs(null,[_.k0.required,Vt(this.ngForm)])),this.subscriptions.add(this.ngForm.controls.scopeForContentTypes.valueChanges.pipe((0,X.Z)(this.ngForm.controls.scopeForContentTypes.value),(0,N.F)()).subscribe(a=>{null!=this.ngForm.controls.contentTypeForContentItems.value&&this.ngForm.controls.contentTypeForContentItems.patchValue(null),a===nt.O?(a=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||P.YX.scopes.default.value,this.scopeOptions$.value.some(o=>o.value===a)||this.scopeOptions$.next([{name:a,value:a},...this.scopeOptions$.value]),this.ngForm.controls.scopeForContentTypes.patchValue(a)):this.fetchContentTypes(a)})),this.subscriptions.add((0,Pt.h)(this.ngForm.controls.targetType.valueChanges.pipe((0,N.F)()),this.ngForm.controls.keyType.valueChanges.pipe((0,N.F)())).subscribe(()=>{this.guidedKey$.next(!0),null!=this.ngForm.getRawValue().key&&this.ngForm.patchValue({key:null})})),this.subscriptions.add(this.ngForm.controls.contentTypeForContentItems.valueChanges.pipe((0,X.Z)(this.ngForm.controls.contentTypeForContentItems.value),(0,N.F)()).subscribe(a=>{const o=this.ngForm.getRawValue();o.targetType===P.YX.metadata.entity.targetType&&null!=o.key&&this.ngForm.patchValue({key:null}),this.contentItemsService.getAllPromise(a).then(s=>{this.contentItems$.next(s)})}));const e=this.ngForm.valueChanges.pipe((0,X.Z)(this.ngForm.getRawValue()),(0,tt.T)(()=>this.ngForm.getRawValue()),(0,Gt.A)(a=>a));this.subscriptions.add((0,Y.z)([e,this.guidedMode$]).subscribe(([a,o])=>{const s=this.targetTypeOptions.find(st=>st.targetType===a.targetType),T=o&&s?[s.keyType]:[...this.keyTypeOptions];St.a.arraysEqual(T,this.keyTypeOptions$.value)||this.keyTypeOptions$.next(T);const b={};this.keyTypeOptions$.value.includes(a.keyType)||(b.keyType=this.keyTypeOptions$.value[0]);const R=o&&a.targetType===P.YX.metadata.app.targetType;R&&a.key!==this.context.appId&&(b.key=this.context.appId),Object.keys(b).length&&this.ngForm.patchValue(b),et.a.disable(this.ngForm.controls.keyType,o&&this.keyTypeOptions$.value.length<=1),et.a.disable(this.ngForm.controls.key,R)})),this.viewModel$=(0,Y.z)([(0,Y.z)([this.guidedMode$,this.keyTypeOptions$,this.scopeOptions$,this.contentItems$,this.contentTypes$]),(0,Y.z)([e,this.guidedKey$])]).pipe((0,tt.T)(([[a,o,s,T,b],[R,V]])=>({guidedMode:a,unknownTargetType:!this.targetTypeOptions.some(H=>H.targetType===R.targetType),targetTypeHint:a&&this.targetTypeOptions.find(H=>H.targetType===R.targetType)?.hint,keyTypeOptions:o,scopeOptions:s,guidedKey:V,guidedKeyExists:[P.YX.metadata.entity.targetType,P.YX.metadata.contentType.targetType].includes(R.targetType),formValues:R,contentItems:T,contentTypes:b})))}ngAfterViewInit(){this.ngForm?.statusChanges.subscribe(()=>{this.formValid.set(this.ngForm?.valid??!1)})}ngOnDestroy(){this.guidedMode$.complete(),this.keyTypeOptions$.complete(),this.contentItems$.complete(),this.contentTypes$.complete(),this.guidedKey$.complete(),super.ngOnDestroy()}closeDialog(e){this.dialog.close(e)}toggleGuidedKey(e){this.guidedKey$.next(e)}toggleGuidedMode(e){this.guidedMode$.next(e.checked)}saveAndClose(){const e=this.ngForm.getRawValue(),a={target:this.targetTypeOptions.find(o=>o.targetType===e.targetType)?.target,targetType:e.targetType,keyType:e.keyType,key:e.keyType===P.YX.keyTypes.guid?e.key.replace(/{|}/g,""):e.key.toString()};this.closeDialog(a)}#e(){this.dialog.keydownEvents().subscribe(e=>{(0,kt.YU)(e)&&this.canSave()&&(e.preventDefault(),this.saveAndClose())})}fetchContentTypes(e){this.contentTypesService.retrieveContentTypesPromise(e).then(a=>{this.contentTypes$.next(a)})}fetchScopes(){this.contentTypesService.getScopesPromise().then(e=>{this.scopeOptions$.next(e)})}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(g.CP),t.rXU(Ut.o))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-create-metadata-dialog"]],hostVars:1,hostBindings:function(a,o){2&a&&t.Avn("className",o.hostClass)},features:[t.Vt3],decls:2,vars:3,consts:[["defaultKeyInput",""],[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],["href","https://go.2sxc.org/metadata","target","_blank"],[3,"formGroup"],["color","accent",2,"width","100%","margin-bottom","8px"],["formControlName","targetType","required",""],["matInput","","type","number","min","0","formControlName","targetType","required",""],[3,"isError"],["formControlName","keyType","required",""],[3,"value"],["color","accent",3,"change","tippy","checked"],["href","https://2sxc.org/help?tag=scope","target","_blank","appClickStopPropagation",""],["matTextSuffix","",1,"eav-selection-suffix"],["align","end"],[3,"action","ngClass","disabled"],["formControlName","contentTypeForContentItems",3,"placeholder"],["formControlName","scopeForContentTypes",3,"placeholder"],["formControlName","key","required","",3,"placeholder"],["matInput","","type","text","formControlName","key","required",""],[4,"ngTemplateOutlet"],["matInput","","type","number","formControlName","key","required",""],["mat-icon-button","","type","button","tippy","Pick existing value",1,"eav-selection-suffix-button",3,"click","ngClass"],[1,"eav-icon"],["mat-icon-button","","type","button","tippy","Manual entry",1,"eav-selection-suffix-button",3,"click","ngClass"]],template:function(a,o){if(1&a&&(t.nVh(0,Ee,51,20,"div",1),t.nI1(1,"async")),2&a){let s;t.vxM((s=t.bMT(1,1,o.viewModel$))?0:-1,s)}},dependencies:[_.YN,_.qT,_.me,_.Q0,_.BC,_.cb,_.YS,_.VZ,_.X1,_.j4,_.JD,k.RG,G.rl,G.nJ,G.yw,J.Ve,J.VO,Wt.wT,It.S,B.fS,B.fg,L.T3,p.Hl,it.iY,L.YU,y.m_,y.An,g.E7,q.mV,q.sG,jt.F,At.c,S.e,$t.i,L.Jj],styles:["mat-slide-toggle[_ngcontent-%COMP%]{margin:16px 0}"]})}}return i})(),Fe=(()=>{class i{constructor(){this.published="",this.metadata="",this.hasMetadata=""}agInit(e){this.filterParams=e}isFilterActive(){return""!==this.published||""!==this.metadata||""!==this.hasMetadata}doesFilterPass(e){let a=!1,o=!1,s=!1;const b=this.filterParams.valueGetter({api:this.filterParams.api,colDef:this.filterParams.colDef,column:this.filterParams.column,context:this.filterParams.context,data:e.node.data,getValue:R=>e.node.data[R],node:e.node});return a=""===this.published||null!=b.published&&b.published.toString()===this.published,o=""===this.metadata||null!=b.metadata&&b.metadata.toString()===this.metadata,s=""===this.hasMetadata||null!=b.hasMetadata&&b.hasMetadata.toString()===this.hasMetadata,a&&o&&s}getModel(){return this.isFilterActive()?{filterType:"pub-meta",published:this.published,metadata:this.metadata,hasMetadata:this.hasMetadata}:void 0}setModel(e){this.published=e?e.published:"",this.metadata=e?e.metadata:"",this.hasMetadata=e?e.hasMetadata:""}afterGuiAttached(e){}filterChanged(){this.filterParams.filterChangedCallback()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-pub-meta-filter"]],decls:27,vars:3,consts:[[1,"title"],[3,"ngModelChange","ngModel"],["value",""],["value","true"],["value","false"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.EFF(1,"Published"),t.k0s(),t.j41(2,"mat-radio-group",1),t.mxI("ngModelChange",function(T){return t.DH7(o.published,T)||(o.published=T),T}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(3,"mat-radio-button",2),t.EFF(4,"All"),t.k0s(),t.j41(5,"mat-radio-button",3),t.EFF(6,"Published"),t.k0s(),t.j41(7,"mat-radio-button",4),t.EFF(8,"Not published"),t.k0s()(),t.j41(9,"div",0),t.EFF(10,"Is Metadata"),t.k0s(),t.j41(11,"mat-radio-group",1),t.mxI("ngModelChange",function(T){return t.DH7(o.metadata,T)||(o.metadata=T),T}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(12,"mat-radio-button",2),t.EFF(13,"All"),t.k0s(),t.j41(14,"mat-radio-button",3),t.EFF(15,"Is metadata"),t.k0s(),t.j41(16,"mat-radio-button",4),t.EFF(17,"Is not metadata"),t.k0s()(),t.j41(18,"div",0),t.EFF(19,"Has Metadata"),t.k0s(),t.j41(20,"mat-radio-group",1),t.mxI("ngModelChange",function(T){return t.DH7(o.hasMetadata,T)||(o.hasMetadata=T),T}),t.bIt("ngModelChange",function(){return o.filterChanged()}),t.j41(21,"mat-radio-button",2),t.EFF(22,"All"),t.k0s(),t.j41(23,"mat-radio-button",3),t.EFF(24,"Has metadata"),t.k0s(),t.j41(25,"mat-radio-button",4),t.EFF(26,"Has no metadata"),t.k0s()()),2&a&&(t.R7$(2),t.R50("ngModel",o.published),t.R7$(9),t.R50("ngModel",o.metadata),t.R7$(9),t.R50("ngModel",o.hasMetadata))},dependencies:[A.Wk,A.VT,A._g,_.YN,_.BC,_.vS],styles:[".title[_ngcontent-%COMP%]{padding:12px 12px 0}.mat-mdc-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;padding:12px;width:160px;height:104px}"]})}}return i})();var xe=n(58857);function Oe(i,f){1&i&&(t.nrm(0,"div",6),t.nI1(1,"safeHtml")),2&i&&t.Y8G("innerHTML",t.bMT(1,1,f),t.npT)}function Ie(i,f){if(1&i){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){l.eBV(e);const o=t.XpG();return l.Njj(o.debugFilter())}),t.j41(1,"mat-icon",11),t.EFF(2,"filter_list"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Filter"),t.k0s()()}}const Pe={all:!1,items:!0};let Re=(()=>{class i{#e;#i;#s;#c;#p;#u;#m;#l;#h;#n;constructor(){this.log=(0,ut.Tq)({ContentItemsComponent:i},Pe),this.isDebug=(0,l.WQX)(_t.B).isDebug,this.#e=(0,l.WQX)(u.UG),this.#i=(0,l.WQX)(g.bZ),this.#s=(0,l.WQX)(t.c1b),this.#c=(0,l.WQX)(r.gRc),this.#p=(0,l.WQX)(g.CP),this.#u=(0,E.d)(ft.R),this.#m=(0,E.d)(O.D),this.#l=(0,E.d)(at.F),this.#h=(0,E.d)(x.g),this.#n=(0,E.d)(gt.c),this.gridOptions={...rt.C,onFilterChanged:e=>this.#r.update(a=>a+1)},this.#r=(0,l.vPA)(0),this.refresh=(0,l.vPA)(0),this.#d={empty:{description:"<p><b>This is where you manage data items</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first item (think: record / entity).</p>"},content:{description:"<p><b>Each row shows a data item</b> <br>They contain the data, similar to a database row.</p>",hint:"<p>Click on the title to edit. <br>You can also do much more - best hover over the row and icons to discover the possibilities. <br><br>You can also do data import/export (one or many), copy items, and do advanced stuff like assigning metadata.</p>"}},this.uxHelpText=(0,d.EW)(()=>0===this.items()?.length?this.#d.empty:this.#d.content),this.#a=(0,l.vPA)(null),this.#t=this.#n.getParam("contentTypeStaticName"),this.contentType=this.#h.getType(this.#t).value,this.#g=this.#l.getAllLive(this.#t,this.refresh).value,this.items=(0,d.EW)(()=>{const e=this.#g();return this.log.aIf("items",{data:e}),e}),this.urlToExportContent=(0,Ct.bo)("urlToExportContent",()=>{const e=this.#a();if(!e)return"";this.#r();const a=Object.keys(e.getFilterModel()).length>0,o=[];return a&&e.forEachNodeAfterFilterAndSort(s=>o.push(s.data.Id)),this.#o(`export/${this.#t}${o.length>0?`/${o.join(",")}`:""}`)}),(0,l.QZP)(()=>{this.items()&&this.#a().setGridOption("loading",!1)})}#r;#d;#a;#t;#g;ngOnInit(){this.urlToExportContent(),this.#n.doOnDialogClosed(()=>this.fetchItems())}closeDialog(){this.#p.close()}onGridReady(e){this.#a.set(e.api),this.fetchColumns(),this.urlToExportContent()}fetchItems(){this.#a().setGridOption("loading",!0),this.refresh.update(e=>++e)}fetchColumns(){this.#l.getColumnsPromise(this.#t).then(e=>{const a=e.filter(T=>!T.IsEphemeral),o=this.#v(a),s=function Ot(i,f){if(!i)return;let e;"="===i.charAt(i.length-1)&&(i=atob(i));try{e=JSON.parse(i)}catch{console.error("Can't parse JSON with filters from url:",i)}if(!e)return;const a={};return(e.IsPublished||e.IsMetadata)&&(a.Status={filterType:"pub-meta",published:e.IsPublished??"",metadata:e.IsMetadata??"",hasMetadata:""}),Object.entries(e).filter(([o,s])=>"IsPublished"!==o&&"IsMetadata"!==o).forEach(([o,s])=>{if(f.find(b=>b.headerName===o)?.filter===w){const b={filterType:"entity",filter:"string"==typeof(s=xt.i.tryParse(s)??s)?s:void 0,idFilter:"number"==typeof s?[s]:Array.isArray(s)?s.filter(R=>"number"==typeof R):void 0};return void(a[o]=b)}if("string"==typeof s)a[o]={filterType:"text",type:"equals",filter:s};else if("number"==typeof s)a[o]={filterType:"number",type:"equals",filter:s,filterTo:null};else if("boolean"==typeof s){const b={filterType:"boolean",filter:s.toString()};a[o]=b}}),a}(sessionStorage.getItem(dt.bo),o);this.#a()&&this.setColumnDefs(o,s)})}setColumnDefs(e,a){this.#a().setGridOption("columnDefs",e),a&&(this.log.a("Will try to apply filter:",a),this.#a().setFilterModel(a))}#o(e){return"#"+this.#n.urlSubRoute(e)}#_(e){return this.#n.urlSubRoute(C.H.getUrlEntity(e.Guid,`Metadata for Entity: ${e._Title} (${e.Id})`,this.#t))}editItem(e){const a={items:[null==e?j.H.newFromType(this.#t):j.H.editId(e.Id)]},o=(0,U.s)(a);this.#n.navRelative([`edit/${o}`])}#C(e){return this.#o(`edit/${(0,U.s)({items:[null==e?j.H.newFromType(this.#t):j.H.editId(e.Id)]})}`)}urlToNewItem(e){return this.#o(`edit/${(0,U.s)({items:[null==e?j.H.newFromType(this.#t):j.H.editId(e.Id)]})}`)}filesDropped(e){const a=e[0];switch(a.name.substring(a.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":this.urlToImportContent(e);break;case"json":this.importItem(e)}}urlToImportContent(e){return this.#o(`${this.#t}${e?`/${e.map(a=>a.name).join(",")}`:""}/import`)}importItem(e){this.#n.navRelative(["import"],{state:{files:e}})}urlToImportItem(){return this.#o("import")}createMetadata(){this.#i.open(De,{autoFocus:!1,viewContainerRef:this.#s,width:"650px"}).afterClosed().subscribe(a=>{if(null==a)return;const o={items:[j.H.newMetadataFromInfo(this.#t,a)]},s=(0,U.s)(o);this.#n.navRelative([`edit/${s}`]),this.#c.markForCheck()})}debugFilter(){console.warn("Current filter:",this.#a().getFilterModel()),this.#e.open("Check console for filter information",void 0,{duration:3e3})}#v(e){const a=[{...m.r.IdWithDefaultRenderer,cellClass:o=>("id-action no-padding no-outline "+(o.data._EditInfo.ReadOnly?"disabled":"")).split(" "),cellRendererParams:m.r.idFieldParamsTooltipGetter()},{field:"Status",width:82,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),filter:Fe,valueGetter:o=>{const s=o.data;return{published:s.IsPublished,metadata:!!s.For,hasMetadata:!!s.Metadata&&s.Metadata.length>0}},cellRenderer:Ft,cellRendererParams:{urlTo:(o,s)=>"#"+this.#_(s)}},{...m.r.TextWidePrimary,headerName:"Item (Entity)",field:"_Title",flex:2,cellRenderer:o=>c.f.cellLink(this.#C(o.data),o.data._Title)},{headerName:"Stats",headerTooltip:"Used by others / uses others",field:"_Used",width:70,headerClass:"dense",cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:o=>`${o.data._Used} / ${o.data._Uses}`},{...m.r.ActionsPinnedRight3,cellRenderer:yt,cellRendererParams:{urlTo:(s,T)=>"#"+this.#y(T),do:(s,T)=>{switch(s){case"export":this.#T(T);break;case"delete":this.#b(T)}}}}];for(const o of e){const s={headerName:o.StaticName,field:o.StaticName,flex:2,minWidth:250,cellClass:"no-outline",sortable:!0};switch(o.Type){case W.O.Entity:s.allowMultiValue=o.Metadata?.Entity?.AllowMultiValue??!0,s.cellRenderer=bt,s.valueGetter=this.valueGetterEntityField,s.filter=w;break;case W.O.DateTime:s.useTimePicker=o.Metadata?.DateTime?.UseTimePicker??!1,s.valueGetter=this.valueGetterDateTime,s.filter="agTextColumnFilter";break;case W.O.Boolean:s.valueGetter=this.valueGetterBoolean,s.filter=F.y;break;case W.O.Number:s.filter="agNumberColumnFilter";break;default:s.filter="agTextColumnFilter"}a.push(s)}return a}#y(e){return this.#n.urlSubRoute(`edit/${(0,U.s)({items:[j.H.copy(this.#t,e.Id)]})}`)}#T(e){this.#m.exportEntity(e.Id,this.#t,!0)}#b(e){this.#f(e,"Delete Item?",!1)}#f(e,a,o,s,T){this.#i.open(D.F,{autoFocus:!1,data:{entityId:e._RepositoryId,entityTitle:e._Title,message:a,title:s,confirmTranslateKey:T,hasDeleteSnackbar:!0},viewContainerRef:this.#s,width:"400px"}).afterClosed().subscribe(R=>{R&&this.#u.delete(this.#t,e._RepositoryId,o).subscribe({next:()=>{this.#e.open("Deleted",null,{duration:2e3}),this.fetchItems()},error:V=>{o||(this.#e.dismiss(),this.#f(e,`${V.error.ExceptionMessage} \n\nDo you want to force delete`,!0,"Force Delete","Force"))}})})}valueGetterEntityField(e){const a=e.data[e.colDef.field];return 0===a.length?null:a.map(o=>o.Title)}valueGetterDateTime(e){const a=e.data[e.colDef.field];return a?e.colDef.useTimePicker?a.replace("T"," ").replace("Z",""):a.split("T")[0]:null}valueGetterBoolean(e){const a=e.data[e.colDef.field];return"boolean"!=typeof a?null:a.toString()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-content-items"]],decls:38,vars:13,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],["eav-dialog-content","",1,"eav-dialog-content"],[3,"innerHTML"],["appDragAndDrop","",1,"ag-theme-material","eav-dialog-content",3,"gridReady","filesDropped","rowData","gridOptions","allowedFileTypes"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["mat-button","","tippy","Export xml list","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],[1,"eav-icon"],["mat-button","","tippy","Import xml list","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],["mat-button","","tippy","Import single json item","tippyPlacement","top",1,"eav-button__with-icon",3,"href"],["mat-button","","tippy","Create metadata","tippyPlacement","top",1,"eav-button__with-icon",3,"click"],["mat-button","","color","accent","tippy","Print filter to console","tippyPlacement","top",1,"eav-button__with-icon"],["mat-fab","","mat-elevation-z24","","tippy","Add item",1,"grid-fab",3,"href"],["mat-button","","color","accent","tippy","Print filter to console","tippyPlacement","top",1,"eav-button__with-icon",3,"click"]],template:function(a,o){if(1&a&&(t.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return o.closeDialog()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",5),t.nVh(9,Oe,2,3,"div",6),t.k0s(),t.j41(10,"ag-grid-angular",7),t.bIt("gridReady",function(T){return o.onGridReady(T)})("filesDropped",function(T){return o.filesDropped(T)}),t.k0s(),t.j41(11,"mat-dialog-actions",8)(12,"div",9)(13,"a",10)(14,"mat-icon",11),t.EFF(15,"cloud_download"),t.k0s(),t.j41(16,"span"),t.EFF(17,"Data"),t.k0s()(),t.j41(18,"a",12)(19,"mat-icon",11),t.EFF(20,"cloud_upload"),t.k0s(),t.j41(21,"span"),t.EFF(22,"Data"),t.k0s()(),t.j41(23,"a",13)(24,"mat-icon",11),t.EFF(25,"cloud_upload"),t.k0s(),t.j41(26,"span"),t.EFF(27,"Item"),t.k0s()(),t.j41(28,"button",14),t.bIt("click",function(){return o.createMetadata()}),t.j41(29,"mat-icon",11),t.EFF(30,"local_offer"),t.k0s(),t.j41(31,"span"),t.EFF(32,"Create Metadata"),t.k0s()(),t.nVh(33,Ie,5,0,"button",15),t.k0s(),t.j41(34,"a",16)(35,"mat-icon"),t.EFF(36,"add"),t.k0s()()()()(),t.nrm(37,"router-outlet")),2&a){let s,T,b;t.R7$(),t.Y8G("helpText",o.uxHelpText())("refresh",o.refresh())("rowLength",null==(s=o.items())?null:s.length),t.R7$(3),t.SpI("",(null==(T=o.contentType())?null:T.Label)||(null==(T=o.contentType())?null:T.Name)," Data"),t.R7$(5),t.vxM((b=null==(b=o.contentType())||null==b.Properties?null:b.Properties.ListInstructions)?9:-1,b),t.R7$(),t.Y8G("rowData",o.items())("gridOptions",o.gridOptions)("allowedFileTypes","xml,json"),t.R7$(3),t.Y8G("href",o.urlToExportContent(),t.B4B),t.R7$(5),t.Y8G("href",o.urlToImportContent(),t.B4B),t.R7$(5),t.Y8G("href",o.urlToImportItem(),t.B4B),t.R7$(10),t.vxM(o.isDebug()?33:-1),t.R7$(),t.Y8G("href",o.urlToNewItem(),t.B4B)}},dependencies:[p.Hl,p.$z,it.iY,p.Sr,y.m_,y.An,v.n3,g.E7,ct.S,pt.V,mt.p,xe.xs,S.e,h.v,ht.$],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}}return i})()},4979(I,M,n){n.d(M,{V:()=>r});var l=n(27092),t=n(56884);let r=(()=>{class d{constructor(){this.subscriptions=new l.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(y){return new(y||d)}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac})}}return d})()},5858(I,M,n){n.d(M,{O:()=>l});const l="DROPDOWN_INSERT_VALUE"},11855(I,M,n){n.d(M,{F:()=>C});var l=n(79748),t=n(37580),r=n(24950),d=n(56884),p=n(36124),g=n(80423);const y=["*"],u=c=>({"hint-box__short":c});function v(c,m){1&c&&p.eu8(0)}function E(c,m){if(1&c&&(p.j41(0,"mat-hint"),p.DNE(1,v,1,0,"ng-container",2),p.k0s()),2&c){p.XpG();const h=p.sdS(4);p.R7$(),p.Y8G("ngTemplateOutlet",h)}}function x(c,m){1&c&&p.eu8(0)}function D(c,m){if(1&c&&(p.j41(0,"mat-error"),p.DNE(1,x,1,0,"ng-container",2),p.k0s()),2&c){p.XpG();const h=p.sdS(4);p.R7$(),p.Y8G("ngTemplateOutlet",h)}}function O(c,m){1&c&&p.SdG(0)}let C=(()=>{class c{constructor(){this.isError=(0,t.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static{this.\u0275fac=function(F){return new(F||c)}}static{this.\u0275cmp=p.VBU({type:c,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},ngContentSelectors:y,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(F,_){if(1&F){const k=p.RV6();p.NAR(),p.j41(0,"div",1),p.bIt("click",function(){return d.eBV(k),d.Njj(_.toggleIsShort())}),p.nVh(1,E,2,1,"mat-hint")(2,D,2,1,"mat-error"),p.k0s(),p.DNE(3,O,1,0,"ng-template",null,0,p.C5r)}if(2&F){let k;p.Y8G("ngClass",p.eq3(2,u,_.isShort)),p.R7$(),p.vxM(!1===(k=_.isError())?1:!0===k?2:-1)}},dependencies:[r.RG,g.MV,g.TL,l.YU,l.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return c})()},18708(I,M,n){n.d(M,{R:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(g){this.elementRef=g,this._disabled=(0,l.hFB)(!1)}ngOnChanges(g){null!=g.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this._disabled())}static{this.\u0275fac=function(y){return new(y||d)(t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{_disabled:[1,"_disabled"]},features:[t.OA$]})}}return d})()},18759(I,M,n){n.d(M,{d:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(){this.label=(0,l.hFB)("Form.Buttons.SaveAndClose"),this.triggerOnFormSubmit=(0,l.hFB)(!1),this.icon=(0,l.hFB)("done"),this.ngClass=(0,l.hFB)(""),this.disabled=(0,l.hFB)(!1),this.action=(0,l.CGW)()}get isDisabled(){return"function"==typeof this.disabled?!!this.disabled():!!this.disabled}onClick(g){this.isDisabled||this.action.emit(g)}static{this.\u0275fac=function(y){return new(y||d)}}static{this.\u0275dir=t.FsC({type:d,inputs:{label:[1,"label"],triggerOnFormSubmit:[1,"triggerOnFormSubmit"],icon:[1,"icon"],ngClass:[1,"ngClass"],disabled:[1,"disabled"]},outputs:{action:"action"}})}}return d})()},18934(I,M,n){n.d(M,{Q:()=>t});var l=n(36124);let t=(()=>{class r{constructor(p){this.templateRef=p}static{this.\u0275fac=function(g){return new(g||r)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:r,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}}return r})()},20545(I,M,n){n.d(M,{d:()=>t});var l=n(36124);let t=(()=>{class r{constructor(p){this.templateRef=p}static{this.\u0275fac=function(g){return new(g||r)(l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:r,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}}return r})()},21183(I,M,n){n.d(M,{f:()=>l});class l{static cellLink(r,d,p){return`<a class="default-link fill-cell ${p}" href="${r}">${d}</a>`}}},25286(I,M,n){n.d(M,{F:()=>D});var l=n(56884),t=n(84175),r=n(87941),d=n(93840),p=n(3347),g=n(32760),y=n(63628),u=n(69914),v=n(36124),E=n(55326);function x(O,C){if(1&O&&(v.nrm(0,"p",5),v.nI1(1,"safeHtml")),2&O){const c=v.XpG();v.Y8G("innerHtml",v.bMT(1,1,c.dialogData.message),v.npT)}}let D=(()=>{class O{#e;constructor(c,m){this.dialogData=c,this.dialog=m,this.hostClass="dialog-component",this.#e=(0,l.WQX)(p.UG)}ngOnInit(){this.dialogData.hasDeleteSnackbar&&this.#e.open("Deleting...",void 0,{duration:5e3}),this.#i()}#i(){this.dialog.keydownEvents().subscribe(c=>{(0,g.YU)(c)&&(c.preventDefault(),this.dialog.close(!0))})}closeDialog(c){this.#e.dismiss(),c?this.dialog.close(c):this.dialog.close()}saveAndClose(c){this.closeDialog(c),this.dialogData.hasDeleteSnackbar&&this.#e.dismiss()}static{this.\u0275fac=function(m){return new(m||O)(v.rXU(r.Vh),v.rXU(r.CP))}}static{this.\u0275cmp=v.VBU({type:O,selectors:[["app-confirm-delete-dialog"]],hostVars:1,hostBindings:function(m,h){2&m&&v.Avn("className",h.hostClass)},decls:11,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],["align","end"],[3,"action","label"]],template:function(m,h){1&m&&(v.j41(0,"div",0)(1,"div",1)(2,"div",2),v.EFF(3),v.k0s(),v.j41(4,"button",3),v.bIt("click",function(){return h.closeDialog()}),v.j41(5,"mat-icon"),v.EFF(6,"close"),v.k0s()()(),v.j41(7,"div",4),v.nVh(8,x,2,3,"p",5),v.k0s(),v.j41(9,"mat-dialog-actions",6)(10,"app-save-close-button-fab",7),v.bIt("action",function(){return h.saveAndClose(!0)}),v.k0s()()()),2&m&&(v.R7$(3),v.E5c(" ",h.dialogData.title??"Delete"," ",h.dialogData.entityTitle," (",h.dialogData.entityId,") "),v.R7$(5),v.vxM(h.dialogData.message?8:-1),v.R7$(2),v.Y8G("label","Delete and close (ctrl + enter)"))},dependencies:[t.Hl,E.iY,d.m_,d.An,r.E7,y.i,u.$],styles:[".eav-card-action-button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return O})()},32760(I,M,n){function l(d){return"Escape"===d.key}function t(d){return("s"===d.key||"S"===d.key)&&(d.ctrlKey||d.metaKey)}function r(d){return"Enter"===d.key&&(d.ctrlKey||d.metaKey)}n.d(M,{JY:()=>t,KL:()=>l,YU:()=>r})},39333(I,M,n){n.d(M,{c:()=>r});var l=n(34435),t=n(36124);let r=(()=>{class d{constructor(){this.log=(0,l.Tq)({ClickStopPropagationDirective:d}),this.log.a("constructor")}onClick(g){this.log.a("onClick",{event:g}),g.stopPropagation()}static{this.\u0275fac=function(y){return new(y||d)}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","appClickStopPropagation",""]],hostBindings:function(y,u){1&y&&t.bIt("click",function(E){return u.onClick(E)})}})}}return d})()},60852(I,M,n){n.d(M,{c:()=>x});var l=n(69393),t=n(51567),r=n(70271),d=n(5057),p=n(63037),g=n(98764),y=n(34435),u=n(4979),v=n(56884);const E={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let x=(()=>{class D extends u.V{constructor(C,c){super(),this.router=C,this.route=c,this.log=(0,y.Tq)({DialogRoutingService:D},E)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(C){return this.route.snapshot.paramMap.get(C)}getParams(C){const c=this.route.snapshot.paramMap;return C.reduce((m,h)=>(m[h]=c.get(h),m),{})}getQueryParam(C){return this.route.snapshot.queryParamMap.get(C)}getQueryParams(C){const c=this.route.snapshot.queryParamMap;return C.reduce((m,h)=>(m[h]=c.get(h),m),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(C){const c=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(m=>(c.a("Dialog closed",{data:m}),C()))),c.end()}doOnDialogClosedWithData(C){const c=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#e().subscribe(({state:m})=>{c.a("Dialog closed",{state:m}),C(m)})),c.end()}urlSubRoute(C){const c=this.router.createUrlTree([C],{relativeTo:this.route});return this.router.serializeUrl(c)}navPath(C,c){return this.router.navigate([C],c)}navRelative(C,c){return this.router.navigate(C,{...c,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,t.p)(C=>C instanceof l.wF),(0,p.Z)(!!this.route.snapshot.firstChild),(0,r.T)(()=>!!this.route.snapshot.firstChild),(0,d.J)(),(0,t.p)(([C,c])=>C&&!c))}#e(){return this.router.events.pipe((0,t.p)(C=>C instanceof l.wF),(0,g.M)(C=>{const c=this.log.fn("childDialogClosed$",{event:C,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});c.a("NavigationEnd",{event:C}),c.end()}),(0,p.Z)(!!this.route.snapshot.firstChild),(0,r.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,d.J)(),(0,t.p)(([C,c])=>C.hasChildNow&&!c.hasChildNow),(0,r.T)(([C,c])=>({hadChildBefore:C.hasChildNow,hasChildNow:c.hasChildNow,state:c.state})))}static{this.\u0275fac=function(c){return new(c||D)(v.KVO(l.Ix),v.KVO(l.nX))}}static{this.\u0275prov=v.jDH({token:D,factory:D.\u0275fac})}}return D})()},63628(I,M,n){n.d(M,{i:()=>C});var l=n(79748),t=n(85309),r=n(93840),d=n(90852),p=n(34601),g=n(18759),y=n(56884),u=n(36124),v=n(82272),E=n(74390),x=n(18934),D=n(17828);function O(c,m){if(1&c){const h=u.RV6();u.j41(0,"button",1),u.nI1(1,"translate"),u.nI1(2,"translate"),u.bIt("click",function(_){y.eBV(h);const k=u.XpG();return y.Njj(k.onClick(_))}),u.j41(3,"span"),u.EFF(4),u.nI1(5,"translate"),u.k0s(),u.j41(6,"span",2)(7,"kbd"),u.EFF(8,"\u2303"),u.k0s(),u.j41(9,"kbd"),u.EFF(10,"\u23ce"),u.k0s()(),u.j41(11,"mat-icon"),u.EFF(12),u.k0s()()}if(2&c){const h=u.XpG();u.Y8G("type",h.triggerOnFormSubmit()?"submit":"button")("tippy",u.bMT(1,6,h.label())+" ("+u.bMT(2,8,"Form.Buttons.ActionAndCloseShortcut")+")")("ngClass",h.ngClass())("disabled",h.isDisabled),u.R7$(4),u.JRh(u.bMT(5,10,h.label())),u.R7$(8),u.JRh(h.icon())}}let C=(()=>{class c extends g.d{static{this.\u0275fac=(()=>{let h;return function(_){return(h||(h=u.xGo(c)))(_||c)}})()}static{this.\u0275cmp=u.VBU({type:c,selectors:[["app-save-close-button-fab"]],features:[u.Vt3],decls:2,vars:0,consts:[["extendedFabSpeedDialTriggerContent",""],["tippyShowDelay","500","extended-fab-speed-dial-trigger","","matRipple","",3,"click","type","tippy","ngClass","disabled"],[1,"keybinding-hint"]],template:function(F,_){1&F&&(u.j41(0,"extended-fab-speed-dial"),u.DNE(1,O,13,12,"ng-template",0),u.k0s())},dependencies:[l.YU,r.m_,r.An,v.d,E.t,x.Q,t.p,D.r6,d.h,p.e,d.D9],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.keybinding-hint[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-size:.75rem;line-height:1.5}.keybinding-hint[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%] + kbd[_ngcontent-%COMP%]{margin-left:3px}"]})}}return c})()},74390(I,M,n){n.d(M,{t:()=>r});var l=n(37580),t=n(36124);let r=(()=>{class d{constructor(g){this.elementRef=g,this.disabled=(0,l.hFB)(!1)}ngOnChanges(g){null!=g.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(y){return new(y||d)(t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:d,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[t.OA$]})}}return d})()},82272(I,M,n){n.d(M,{d:()=>D});var l=n(79748),t=n(37580),r=n(36124),d=n(75797),p=n(19999),g=n(91817),y=n(63037),u=n(30281),v=n(18708),E=n(20545),x=n(18934);let D=(()=>{class O extends u.${constructor(){super(),this.disabled=(0,t.hFB)(!1),this.open$=new d.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,p.z)([this.open$.pipe((0,g.F)()),this.actionButtons.changes.pipe((0,y.Z)(void 0))]).subscribe(([c])=>{this.actionButtons.forEach((m,h,F)=>{const k=Math.min(.3+.05*(F.length-1),.6),B=(k-.3)/(F.length-1),A=(c?.3+B*h:k-B*h)+"s";m.nativeElement.style.transitionDuration!==A&&(m.nativeElement.style.transitionDuration=A)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(c,m){"touch"!==c.pointerType&&this.open$.next(m)}static{this.\u0275fac=function(m){return new(m||O)}}static{this.\u0275cmp=r.VBU({type:O,selectors:[["extended-fab-speed-dial"]],contentQueries:function(m,h,F){if(1&m&&r.wni(F,x.Q,5)(F,E.d,5)(F,v.R,4,r.aKT),2&m){let _;r.mGM(_=r.lsd())&&(h.trigger=_.first),r.mGM(_=r.lsd())&&(h.actions=_.first),r.mGM(_=r.lsd())&&(h.actionButtons=_)}},inputs:{disabled:[1,"disabled"]},features:[r.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(m,h){1&m&&(r.j41(0,"div",0),r.bIt("pointerenter",function(_){return h.setOpen(_,!0)})("pointerleave",function(_){return h.setOpen(_,!1)}),r.j41(1,"div",1),r.eu8(2,2),r.k0s(),r.j41(3,"div",3),r.eu8(4,2),r.k0s()()),2&m&&(r.BMQ("disabled",h.disabled()||null),r.R7$(2),r.Y8G("ngTemplateOutlet",null==h.trigger?null:h.trigger.templateRef),r.R7$(2),r.Y8G("ngTemplateOutlet",null==h.actions?null:h.actions.templateRef))},dependencies:[l.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:linear-gradient(125deg,#240e12 10%,#952c42 90%);cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{color:#fff;font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{color:#fff;display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:all .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>.keybinding-hint{padding:2px 0 0;margin:0}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>.keybinding-hint,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>.keybinding-hint{margin:0 8px 0 4px;padding-top:2px;border-radius:6px;background:#ffffff1a;transition:all .3s ease-in-out}\n'],encapsulation:2})}}return O})()},93826(I,M,n){n.d(M,{a:()=>l});class l{static boolEquals(r,d){return r===d}static stringEquals(r,d){return r===d}static valueEquals(r,d){return r===d}static objectsEqual(r,d){if(null==r||null==d)return r===d;const p=r,g=d,y=Object.keys(p),u=Object.keys(g);return y.length===u.length&&y.every(E=>!!g.hasOwnProperty(E)&&p[E]===g[E])}static arraysEqual(r,d){return null==r||null==d?r===d:r.length===d.length&&r.every((g,y)=>r[y]===d[y])}static distinct(r,d,p){return p.indexOf(r)===d}}},95699(I,M,n){n.d(M,{V:()=>r});var l=n(36124),t=n(39431);let r=(()=>{class d{constructor(g){this.globalConfigService=g}onClick(g){(navigator.platform.match("Mac")?g.metaKey:g.ctrlKey)&&g.shiftKey&&g.altKey&&(this.globalConfigService.toggleDebugEnabled(),window.getSelection().removeAllRanges())}static{this.\u0275fac=function(y){return new(y||d)(l.rXU(t.B))}}static{this.\u0275dir=l.FsC({type:d,selectors:[["","appToggleDebug",""]],hostBindings:function(y,u){1&y&&l.bIt("click",function(E){return u.onClick(E)})}})}}return d})()},96817(I,M,n){n.d(M,{R:()=>y});var l=n(50698),t=n(85837),r=n(9234),d=n(24467),p=n(56884),g=n(36124);let y=(()=>{class u extends d.B{create(E,x){return this.http.post(`app/auto/data/${E}`,x,{params:{appId:this.appId,zoneId:this.zoneId}})}update(E,x,D){return this.http.post(`app/auto/data/${E}/${x}`,D,{params:{appId:this.appId,zoneId:this.zoneId}})}delete(E,x,D){return this.http.delete(this.apiUrl(r.gb+"delete"),{params:{contentType:E,id:x.toString(),appId:this.appId,force:D.toString()},context:(new l._y).set(t.g,[400])})}static{this.\u0275fac=(()=>{let E;return function(D){return(E||(E=g.xGo(u)))(D||u)}})()}static{this.\u0275prov=p.jDH({token:u,factory:u.\u0275fac})}}return u})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.01/dist/ng-edit/projects_eav-ui_src_app_content-items_content-items_ts.cf169a3d775d1beb.js.map
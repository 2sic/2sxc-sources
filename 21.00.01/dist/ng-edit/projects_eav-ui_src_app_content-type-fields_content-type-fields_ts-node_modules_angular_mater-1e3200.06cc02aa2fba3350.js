"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-node_modules_angular_mater-1e3200"],{4979(L,M,l){l.d(M,{V:()=>T});var F=l(27092),r=l(56884);let T=(()=>{class m{constructor(){this.subscriptions=new F.yU}ngOnDestroy(){this.destroy()}destroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(R){return new(R||m)}}static{this.\u0275prov=r.jDH({token:m,factory:m.\u0275fac})}}return m})()},17042(L,M,l){l.d(M,{v:()=>g});var F=l(58857),r=l(37580),T=l(56884),m=l(36124),b=l(87941);const y=["gridWrapper"],R=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],N=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let g=(()=>{class I{constructor(){this.gridWrapper=(0,r.ebz)("gridWrapper",{read:m.aKT}),this.agGrid=(0,r.sbv)(F.xs,{read:m.aKT}),this.dialogAction=(0,r.sbv)(b.E7,{read:m.aKT}),this.helpText=r.hFB.required({}),this.refresh=r.hFB.required(),this.rowLength=r.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,T.QZP)(()=>{this.refresh();const D=this.rowLength(),f=this.gridWrapper()?.nativeElement;f&&(0,T.O8t)(()=>this.#e(f,D))})}#e(k,D){const f=this.agGrid()?.nativeElement,u=this.dialogAction()?.nativeElement,C=k.querySelector(".help-info-card");setTimeout(()=>{if(C.classList.toggle("center-center",0===D),!f||!u)return;C.style.flex="";const v=this.#t(k,f,u,C,D);f.style.flex=v.rowHeight?`0 0 ${v.agGridHeight}px`:"0px";const H=document.querySelector(".mat-sidenav-content"),q=document.querySelector(".mat-mdc-dialog-container"),J=(document.querySelector(".nav-component-wrapper")?q:H).clientHeight-v.dialogHeaderHeight-v.dialogActionHeight-2;f.style.maxHeight=`${J}px`;const W=v.helpCardHeight+v.agGridHeight+v.dialogActionHeight+v.dialogHeaderHeight>v.wrapperHeight;C.style.flex="1 1 auto",C?.classList.toggle("hidden-help-info-card",W)},0)}#t(k,D,f,u,C){const v=D.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:v,agGridHeight:this.GRID_HEADER_HEIGHT+C*v,helpCardHeight:u.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:f.offsetHeight,dialogHeaderHeight:k.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:k.offsetHeight}}static{this.\u0275fac=function(D){return new(D||I)}}static{this.\u0275cmp=m.VBU({type:I,selectors:[["app-grid-with-help"]],contentQueries:function(D,f,u){1&D&&m.C6U(u,f.agGrid,F.xs,5,m.aKT)(u,f.dialogAction,b.E7,5,m.aKT),2&D&&m.NyB(2)},viewQuery:function(D,f){1&D&&m.wEZ(f.gridWrapper,y,5,m.aKT),2&D&&m.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:N,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(D,f){1&D&&(m.NAR(R),m.rj2(0,"div",1,0),m.SdG(2),m.SdG(3,1),m.SdG(4,2),m.rj2(5,"div",2)(6,"div",3),m.Hgh(7,"span",4)(8,"span",4),m.eux()(),m.SdG(9,3),m.eux()),2&D&&(m.R7$(7),m.Avn("innerHTML",f.helpText().description,m.npT),m.R7$(),m.Avn("innerHTML",f.helpText().hint,m.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return I})()},21183(L,M,l){l.d(M,{f:()=>F});class F{static cellLink(T,m,b){return`<a class="default-link fill-cell ${b}" href="${T}">${m}</a>`}}},24950(L,M,l){l.d(M,{RG:()=>y});var F=l(80423),r=l(63680),T=l(39539),m=l(56884),b=l(36124);let y=(()=>{class R{static \u0275fac=function(I){return new(I||R)};static \u0275mod=b.$C({type:R});static \u0275inj=m.G2t({imports:[T.w5,F.rl,r.jI]})}return R})()},25286(L,M,l){l.d(M,{F:()=>k});var F=l(56884),r=l(84175),T=l(87941),m=l(93840),b=l(3347),y=l(32760),R=l(63628),N=l(69914),g=l(36124),I=l(55326);function K(D,f){if(1&D&&(g.nrm(0,"p",5),g.nI1(1,"safeHtml")),2&D){const u=g.XpG();g.Y8G("innerHtml",g.bMT(1,1,u.dialogData.message),g.npT)}}let k=(()=>{class D{#e;constructor(u,C){this.dialogData=u,this.dialog=C,this.hostClass="dialog-component",this.#e=(0,F.WQX)(b.UG)}ngOnInit(){this.dialogData.hasDeleteSnackbar&&this.#e.open("Deleting...",void 0,{duration:5e3}),this.#t()}#t(){this.dialog.keydownEvents().subscribe(u=>{(0,y.YU)(u)&&(u.preventDefault(),this.dialog.close(!0))})}closeDialog(u){this.#e.dismiss(),u?this.dialog.close(u):this.dialog.close()}saveAndClose(u){this.closeDialog(u),this.dialogData.hasDeleteSnackbar&&this.#e.dismiss()}static{this.\u0275fac=function(C){return new(C||D)(g.rXU(T.Vh),g.rXU(T.CP))}}static{this.\u0275cmp=g.VBU({type:D,selectors:[["app-confirm-delete-dialog"]],hostVars:1,hostBindings:function(C,v){2&C&&g.Avn("className",v.hostClass)},decls:11,vars:5,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],["align","end"],[3,"action","label"]],template:function(C,v){1&C&&(g.j41(0,"div",0)(1,"div",1)(2,"div",2),g.EFF(3),g.k0s(),g.j41(4,"button",3),g.bIt("click",function(){return v.closeDialog()}),g.j41(5,"mat-icon"),g.EFF(6,"close"),g.k0s()()(),g.j41(7,"div",4),g.nVh(8,K,2,3,"p",5),g.k0s(),g.j41(9,"mat-dialog-actions",6)(10,"app-save-close-button-fab",7),g.bIt("action",function(){return v.saveAndClose(!0)}),g.k0s()()()),2&C&&(g.R7$(3),g.E5c(" ",v.dialogData.title??"Delete"," ",v.dialogData.entityTitle," (",v.dialogData.entityId,") "),g.R7$(5),g.vxM(v.dialogData.message?8:-1),g.R7$(2),g.Y8G("label","Delete and close (ctrl + enter)"))},dependencies:[r.Hl,I.iY,m.m_,m.An,T.E7,R.i,N.$],styles:[".eav-card-action-button[_ngcontent-%COMP%]{margin-left:8px}"]})}}return D})()},53777(L,M,l){l.d(M,{Hu:()=>ve,Lc:()=>f,MM:()=>C,QG:()=>W,RN:()=>I,YY:()=>u,dh:()=>K,m2:()=>D});var F=l(56884),r=l(36124),T=l(63680);const m=["*"],R=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],N=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],g=new F.nKC("MAT_CARD_CONFIG");let I=(()=>{class c{appearance;constructor(){const S=(0,F.WQX)(g,{optional:!0});this.appearance=S?.appearance||"raised"}static \u0275fac=function(_){return new(_||c)};static \u0275cmp=r.VBU({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(_,P){2&_&&r.AVh("mat-mdc-card-outlined","outlined"===P.appearance)("mdc-card--outlined","outlined"===P.appearance)("mat-mdc-card-filled","filled"===P.appearance)("mdc-card--filled","filled"===P.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:m,decls:1,vars:0,template:function(_,P){1&_&&(r.NAR(),r.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}\n'],encapsulation:2,changeDetection:0})}return c})(),K=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275dir=r.FsC({type:c,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return c})(),D=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275dir=r.FsC({type:c,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return c})(),f=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275dir=r.FsC({type:c,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return c})(),u=(()=>{class c{align="start";static \u0275fac=function(_){return new(_||c)};static \u0275dir=r.FsC({type:c,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(_,P){2&_&&r.AVh("mat-mdc-card-actions-align-end","end"===P.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return c})(),C=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275cmp=r.VBU({type:c,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:N,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(_,P){1&_&&(r.NAR(R),r.SdG(0),r.rj2(1,"div",0),r.SdG(2,1),r.eux(),r.SdG(3,2))},encapsulation:2,changeDetection:0})}return c})(),W=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275dir=r.FsC({type:c,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]})}return c})(),ve=(()=>{class c{static \u0275fac=function(_){return new(_||c)};static \u0275mod=r.$C({type:c});static \u0275inj=F.G2t({imports:[T.jI]})}return c})()},54297(L,M,l){l.d(M,{e:()=>T});var F=l(56884);let T=(()=>{class m{isErrorState(y,R){return!!(y&&y.invalid&&(y.touched||R&&R.submitted))}static \u0275fac=function(R){return new(R||m)};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},54612(L,M,l){l.d(M,{X:()=>F});class F{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(T,m,b,y,R){this._defaultMatcher=T,this.ngControl=m,this._parentFormGroup=b,this._parentForm=y,this._stateChanges=R}updateErrorState(){const T=this.errorState,m=this._parentFormGroup||this._parentForm,b=this.matcher||this._defaultMatcher,y=this.ngControl?this.ngControl.control:null,R=b?.isErrorState(y,m)??!1;R!==T&&(this.errorState=R,this._stateChanges.next())}}},60762(L,M,l){l.r(M),l.d(M,{ContentTypeFieldsComponent:()=>Mn});var F=l(79748),r=l(56884),T=l(36664),m=l(84175),b=l(87941),y=l(93840),R=l(69393),N=l(90852),g=l(12938),I=l(17693),K=l(25286),k=l(93454),D=l(72437),f=l(21183),u=l(11828),C=l(17042),v=l(60251),H=l(50052),q=l(95699),Y=l(78742),j=l(51612),J=l(92324),W=l(30056),$e=l(67037),ve=l(60852),c=l(16256),Le=l(85309),S=l(31034),_=l(34601),P=l(1726),ut=l(4202),e=l(36124),We=l(17828);function ft(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.do("shareOrInherit"))}),e.j41(1,"mat-icon",12),e.EFF(2),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("tippy",t.shareText()),e.R7$(2),e.SpI(" ",t.shareOrInheritIcon()," ")}}function pt(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.do("shareOrInherit"))}),e.j41(1,"mat-icon",14),e.EFF(2," share "),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("tippy",t.shareText())}}function gt(i,o){if(1&i){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.do("rename"))}),e.j41(1,"mat-icon"),e.EFF(2,"text_fields"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Rename"),e.k0s()(),e.j41(5,"button",15),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.do("delete"))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Delete"),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("disabled",t.field.EditInfo.DisableRename),e.R7$(5),e.Y8G("disabled",t.field.EditInfo.DisableDelete||t.field.IsTitle)}}let _t=(()=>{class i{agInit(t){this.params=t,this.field=this.params.data;const n=this.field.EditInfo.DisableEdit;this.enablePermissions=!n&&(this.field.InputType===ut.u.StringWysiwyg||this.field.Type===P.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(a=>"merged"!==a).length:0,this.enableImageConfig=!n&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(t){return t?"highlight":"disabled"}shareText(){const t="click to configure sharing",n=this.field.SysSettings;return n?n.Share?"shared enabled as "+this.field.Guid:n.InheritMetadataOf?"inherits "+n.InheritMetadataOf:t:t}shareOrInheritIcon(){const t=this.field.SysSettings;return t?t.Share?"share":t.InheritMetadataOf?"adjust":"":""}refresh(t){return!0}do(t){this.params.do(t,this.field)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields-actions"]],decls:18,vars:24,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(n,a){if(1&n){const s=e.RV6();e.j41(0,"div",1)(1,"div",2),e.bIt("click",function(){return r.eBV(s),r.Njj(a.enableMetadata?a.do("metadata"):"")}),e.j41(2,"mat-icon",3),e.EFF(3,"local_offer"),e.k0s()(),e.j41(4,"div",4),e.bIt("click",function(){return r.eBV(s),r.Njj(a.enableImageConfig?a.do("image"):"")}),e.j41(5,"mat-icon",5),e.EFF(6,"filter_center_focus"),e.k0s()(),e.j41(7,"div",4),e.bIt("click",function(){return r.eBV(s),r.Njj(a.enablePermissions?a.do("permissions"):"")}),e.j41(8,"mat-icon",3),e.EFF(9,"person"),e.k0s()(),e.nVh(10,ft,3,2,"div",6)(11,pt,3,1,"div",7),e.j41(12,"div",8)(13,"mat-icon"),e.EFF(14,"more_horiz"),e.k0s()()(),e.j41(15,"mat-menu",9,0),e.DNE(17,gt,10,2,"ng-template",10),e.k0s()}if(2&n){const s=e.sdS(16);e.R7$(),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enableMetadata))),e.R7$(),e.Y8G("matBadge",a.metadataCount)("matBadgeDisabled",!a.enableMetadata)("matBadgeHidden",!a.metadataCount),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enableImageConfig))),e.Y8G("tippy",e.mNQ(a.enableImageConfig?"Image Configuration":"no image configuration for this field")),e.R7$(),e.Y8G("matBadge",a.imgConfigCount)("matBadgeHidden",!a.imgConfigCount)("matBadgeDisabled",!a.enableImageConfig),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",a.highlightOrDisabled(a.enablePermissions))),e.Y8G("tippy",e.mNQ(a.enablePermissions?"Permissions":"no permissions to configure on this field")),e.R7$(),e.Y8G("matBadge",a.field.Permissions.Count)("matBadgeDisabled",!a.enablePermissions)("matBadgeHidden",!a.field.Permissions.Count),e.R7$(2),e.vxM(""!=a.shareOrInheritIcon()?10:11),e.R7$(2),e.Y8G("matMenuTriggerFor",s)}},dependencies:[Le.p,We.r6,y.m_,y.An,c.Y,c.k,S.Cn,S.kk,S.fb,S.z8,S.Cp,_.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}}return i})();var Xe=l(41134);function yt(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"mat-spinner",1),e.k0s())}let Ct=(()=>{class i{agInit(t){this.params=t,this.isReordering=t.isReordering}refresh(t){return this.params=t,!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields-drag"]],decls:1,vars:1,consts:[[1,"spinner-container"],["diameter","16"]],template:function(n,a){1&n&&e.nVh(0,yt,2,0,"div",0),2&n&&e.vxM(a.isReordering()?0:-1)},dependencies:[Xe.D6,Xe.LG],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}\n\n/*# sourceMappingURL=content-type-fields-drag.ts-angular-inline--1.css.map*/"]})}}return i})();function vt(i,o){1&i&&(e.j41(0,"mat-icon",1),e.EFF(1,"visibility_off"),e.k0s())}function Dt(i,o){1&i&&e.nrm(0,"mat-icon")}function bt(i,o){1&i&&(e.j41(0,"mat-icon",2),e.EFF(1,"edit_off"),e.k0s())}function wt(i,o){1&i&&e.nrm(0,"mat-icon")}function Rt(i,o){1&i&&(e.j41(0,"mat-icon",3),e.EFF(1,"asterisk"),e.k0s())}function Ft(i,o){1&i&&e.nrm(0,"mat-icon")}function Tt(i,o){1&i&&(e.j41(0,"mat-icon",4),e.EFF(1,"functions"),e.k0s())}function St(i,o){1&i&&e.nrm(0,"mat-icon")}function kt(i,o){1&i&&(e.j41(0,"mat-icon",5),e.EFF(1,"mobiledata_off"),e.k0s())}function Mt(i,o){1&i&&e.nrm(0,"mat-icon")}function xt(i,o){1&i&&(e.j41(0,"mat-icon",6),e.EFF(1,"public_off"),e.k0s())}function Et(i,o){1&i&&e.nrm(0,"mat-icon")}let Ot=(()=>{class i{agInit(t){const n=t.data;this.hasFormulas=n.HasFormulas,this.isEphemeral=n.IsEphemeral,this.isHidden=!n.Metadata.All?.VisibleInEditUI,this.disableTranslation=n.Metadata.All?.DisableTranslation||!1,this.disabled=n.Metadata.All?.Disabled||!1,this.required=n.Metadata.All?.Required||!1}refresh(t){return!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields-special"]],decls:13,vars:6,consts:[[1,"icon-container"],["tippy","Hidden Field"],["tippy","Disabled"],["tippy","Required Field"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"],["tippy","No Translation"]],template:function(n,a){1&n&&(e.j41(0,"div",0),e.nVh(1,vt,2,0,"mat-icon",1)(2,Dt,1,0,"mat-icon"),e.nVh(3,bt,2,0,"mat-icon",2)(4,wt,1,0,"mat-icon"),e.nVh(5,Rt,2,0,"mat-icon",3)(6,Ft,1,0,"mat-icon"),e.nVh(7,Tt,2,0,"mat-icon",4)(8,St,1,0,"mat-icon"),e.nVh(9,kt,2,0,"mat-icon",5)(10,Mt,1,0,"mat-icon"),e.nVh(11,xt,2,0,"mat-icon",6)(12,Et,1,0,"mat-icon"),e.k0s()),2&n&&(e.R7$(),e.vxM(a.isHidden?1:2),e.R7$(2),e.vxM(a.disabled?3:4),e.R7$(2),e.vxM(a.required?5:6),e.R7$(2),e.vxM(a.hasFormulas?7:8),e.R7$(2),e.vxM(a.isEphemeral?9:10),e.R7$(2),e.vxM(a.disableTranslation?11:12))},dependencies:[y.m_,y.An,_.e],styles:["mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}"]})}}return i})();function It(i,o){if(1&i){const t=e.RV6();e.j41(0,"div",3),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.setTitle())}),e.j41(1,"mat-icon"),e.EFF(2,"star"),e.k0s()()}if(2&i){const t=e.XpG();e.HbH(e.VkB("eav-grid-action-button highlight ",t.isTitle?"":t.suitableForTitle?"hover-only":"no-button")),e.BMQ("disabled",t.isTitle||!t.suitableForTitle)}}function Nt(i,o){if(1&i&&(e.j41(0,"div",2)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&i){const t=e.XpG();e.R7$(2),e.JRh(t.isTitle?"star":"")}}let At=(()=>{class i{constructor(){this.suitableForTitle=!0}agInit(t){this.params=t,this.isTitle=t.value,this.field=t.data,this.suitableForTitle=!j.Q.isEmpty(this.field.InputType)}refresh(t){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields-title"]],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(n,a){1&n&&(e.j41(0,"div",0),e.nVh(1,It,3,4,"div",1)(2,Nt,3,1,"div",2),e.k0s()),2&n&&(e.R7$(),e.vxM(a.field.EditInfo.ReadOnly?2:1))},dependencies:[Le.p,We.r6,y.m_,y.An,_.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}}return i})();var jt=l(14007);let Pt=(()=>{class i{agInit(t){this.value=t.value,this.icon=(0,jt.y)(this.value)}refresh(t){return!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&n&&(e.Y8G("tippy",a.value),e.R7$(2),e.JRh(a.icon))},dependencies:[y.m_,y.An,_.e],encapsulation:2})}}return i})();var X=l(34456),se=l(53777),Bt=l(24950),Ue=l(59791),O=l(37580),re=l(61050),Qe=l(84205),le=l(75797),Gt=l(72551),ee=l(59452),De=l(33900),B=l(24439);class ze{applyChanges(o,t,n,a,s){o.forEachOperation((d,h,p)=>{let w,x;if(null==d.previousIndex){const E=n(d,h,p);w=t.createEmbeddedView(E.templateRef,E.context,E.index),x=B.Q3.INSERTED}else null==p?(t.remove(h),x=B.Q3.REMOVED):(w=t.get(h),t.move(w,p),x=B.Q3.MOVED);s&&s({context:w?.context,operation:x,record:d})})}detach(){}}var Ht=l(43433),Vt=l(98508),Ke=l(84344);const $t=[[["caption"]],[["colgroup"],["col"]],"*"],Lt=["caption","colgroup, col","*"];function Wt(i,o){1&i&&e.SdG(0,2)}function Xt(i,o){1&i&&(e.j41(0,"thead",0),e.eu8(1,1),e.k0s(),e.j41(2,"tbody",0),e.eu8(3,2)(4,3),e.k0s(),e.j41(5,"tfoot",0),e.eu8(6,4),e.k0s())}function Ut(i,o){1&i&&e.eu8(0,1)(1,2)(2,3)(3,4)}const V=new r.nKC("CDK_TABLE");let te=(()=>{class i{template=(0,r.WQX)(e.C4Q);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkCellDef",""]]})}return i})(),ie=(()=>{class i{template=(0,r.WQX)(e.C4Q);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkHeaderCellDef",""]]})}return i})(),de=(()=>{class i{template=(0,r.WQX)(e.C4Q);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkFooterCellDef",""]]})}return i})(),U=(()=>{class i{_table=(0,r.WQX)(V,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(t){this._setNameInput(t)}_name;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,a,s){if(1&n&&e.wni(s,te,5)(s,ie,5)(s,de,5),2&n){let d;e.mGM(d=e.lsd())&&(a.cell=d.first),e.mGM(d=e.lsd())&&(a.headerCell=d.first),e.mGM(d=e.lsd())&&(a.footerCell=d.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",O.L39],stickyEnd:[2,"stickyEnd","stickyEnd",O.L39]},features:[e.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}])]})}return i})();class be{constructor(o,t){t.nativeElement.classList.add(...o._columnCssClassName)}}let we=(()=>{class i extends be{constructor(){super((0,r.WQX)(U),(0,r.WQX)(e.aKT))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.Vt3]})}return i})(),Re=(()=>{class i extends be{constructor(){const t=(0,r.WQX)(U),n=(0,r.WQX)(e.aKT);super(t,n);const a=t._table?._getCellRole();a&&n.nativeElement.setAttribute("role",a)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.Vt3]})}return i})(),Fe=(()=>{class i{template=(0,r.WQX)(e.C4Q);_differs=(0,r.WQX)(O._q3);columns;_columnsDiffer;constructor(){}ngOnChanges(t){if(!this._columnsDiffer){const n=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ne?t.headerCell.template:this instanceof ae?t.footerCell.template:t.cell.template}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,features:[e.OA$]})}return i})(),ne=(()=>{class i extends Fe{_table=(0,r.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,r.WQX)(e.C4Q),(0,r.WQX)(O._q3))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",O.L39]},features:[e.Vt3,e.OA$]})}return i})(),ae=(()=>{class i extends Fe{_table=(0,r.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,r.WQX)(e.C4Q),(0,r.WQX)(O._q3))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",O.L39]},features:[e.Vt3,e.OA$]})}return i})(),ce=(()=>{class i extends Fe{_table=(0,r.WQX)(V,{optional:!0});when;constructor(){super((0,r.WQX)(e.C4Q),(0,r.WQX)(O._q3))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[e.Vt3]})}return i})(),Q=(()=>{class i{_viewContainer=(0,r.WQX)(e.c1b);cells;context;static mostRecentCellOutlet=null;constructor(){i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","cdkCellOutlet",""]]})}return i})(),Te=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){1&n&&e.eu8(0,0)},dependencies:[Q],encapsulation:2})}return i})(),ke=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){1&n&&e.eu8(0,0)},dependencies:[Q],encapsulation:2})}return i})(),he=(()=>{class i{templateRef=(0,r.WQX)(e.C4Q);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["ng-template","cdkNoDataRow",""]]})}return i})();const Je=["top","bottom","left","right"];class Yt{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(o=>this._updateCachedSizes(o)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(o,t,n=!0,a=!0,s,d,h){this._isNativeHtmlTable=o,this._stickCellCss=t,this._isBrowser=n,this._needsPositionStickyOnElement=a,this.direction=s,this._positionListener=d,this._tableInjector=h,this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(o,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(o);const n=[];for(const a of o)a.nodeType===a.ELEMENT_NODE&&n.push(a,...Array.from(a.children));(0,e.mal)({write:()=>{for(const a of n)this._removeStickyStyle(a,t)}},{injector:this._tableInjector})}updateStickyColumns(o,t,n,a=!0,s=!0){if(!o.length||!this._isBrowser||!t.some(G=>G)&&!n.some(G=>G))return this._positionListener?.stickyColumnsUpdated({sizes:[]}),void this._positionListener?.stickyEndColumnsUpdated({sizes:[]});const d=o[0],h=d.children.length,p="rtl"===this.direction,w=p?"right":"left",x=p?"left":"right",E=t.lastIndexOf(!0),z=n.indexOf(!0);let Z,ct,ht;s&&this._updateStickyColumnReplayQueue({rows:[...o],stickyStartStates:[...t],stickyEndStates:[...n]}),(0,e.mal)({earlyRead:()=>{Z=this._getCellWidths(d,a),ct=this._getStickyStartColumnPositions(Z,t),ht=this._getStickyEndColumnPositions(Z,n)},write:()=>{for(const G of o)for(let A=0;A<h;A++){const mt=G.children[A];t[A]&&this._addStickyStyle(mt,w,ct[A],A===E),n[A]&&this._addStickyStyle(mt,x,ht[A],A===z)}this._positionListener&&Z.some(G=>!!G)&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:Z.slice(0,E+1).map((G,A)=>t[A]?G:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===z?[]:Z.slice(z).map((G,A)=>n[A+z]?G:null).reverse()}))}},{injector:this._tableInjector})}stickRows(o,t,n){if(!this._isBrowser)return;const a="bottom"===n?o.slice().reverse():o,s="bottom"===n?t.slice().reverse():t,d=[],h=[],p=[];(0,e.mal)({earlyRead:()=>{for(let w=0,x=0;w<a.length;w++){if(!s[w])continue;d[w]=x;const E=a[w];p[w]=this._isNativeHtmlTable?Array.from(E.children):[E];const z=this._retrieveElementSize(E).height;x+=z,h[w]=z}},write:()=>{const w=s.lastIndexOf(!0);for(let x=0;x<a.length;x++){if(!s[x])continue;const E=d[x],z=x===w;for(const Z of p[x])this._addStickyStyle(Z,n,E,z)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:d,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:d,elements:p})}},{injector:this._tableInjector})}updateStickyFooterContainer(o,t){this._isNativeHtmlTable&&(0,e.mal)({write:()=>{const n=o.querySelector("tfoot");n&&(t.some(a=>!a)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(o,t){if(o.classList.contains(this._stickCellCss)){for(const a of t)o.style[a]="",o.classList.remove(this._borderCellCss[a]);Je.some(a=>-1===t.indexOf(a)&&o.style[a])?o.style.zIndex=this._getCalculatedZIndex(o):(o.style.zIndex="",this._needsPositionStickyOnElement&&(o.style.position=""),o.classList.remove(this._stickCellCss))}}_addStickyStyle(o,t,n,a){o.classList.add(this._stickCellCss),a&&o.classList.add(this._borderCellCss[t]),o.style[t]=`${n}px`,o.style.zIndex=this._getCalculatedZIndex(o),this._needsPositionStickyOnElement&&(o.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(o){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const a of Je)o.style[a]&&(n+=t[a]);return n?`${n}`:""}_getCellWidths(o,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],a=o.children;for(let s=0;s<a.length;s++)n.push(this._retrieveElementSize(a[s]).width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(o,t){const n=[];let a=0;for(let s=0;s<o.length;s++)t[s]&&(n[s]=a,a+=o[s]);return n}_getStickyEndColumnPositions(o,t){const n=[];let a=0;for(let s=o.length;s>0;s--)t[s]&&(n[s]=a,a+=o[s]);return n}_retrieveElementSize(o){const t=this._elemSizeCache.get(o);if(t)return t;const n=o.getBoundingClientRect(),a={width:n.width,height:n.height};return this._resizeObserver&&(this._elemSizeCache.set(o,a),this._resizeObserver.observe(o,{box:"border-box"})),a}_updateStickyColumnReplayQueue(o){this._removeFromStickyColumnReplayQueue(o.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(o)}_removeFromStickyColumnReplayQueue(o){const t=new Set(o);for(const n of this._updatedStickyColumnsParamsToReplay)n.rows=n.rows.filter(a=>!t.has(a));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(n=>!!n.rows.length)}_updateCachedSizes(o){let t=!1;for(const n of o){const a=n.borderBoxSize?.length?{width:n.borderBoxSize[0].inlineSize,height:n.borderBoxSize[0].blockSize}:{width:n.contentRect.width,height:n.contentRect.height};a.width!==this._elemSizeCache.get(n.target)?.width&&Jt(n.target)&&(t=!0),this._elemSizeCache.set(n.target,a)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(const n of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(n.rows,n.stickyStartStates,n.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}}function Jt(i){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(o=>i.classList.contains(o))}const Me=new r.nKC("CDK_SPL");let xe=(()=>{class i{viewContainer=(0,r.WQX)(e.c1b);elementRef=(0,r.WQX)(e.aKT);constructor(){const t=(0,r.WQX)(V);t._rowOutlet=this,t._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","rowOutlet",""]]})}return i})(),Ee=(()=>{class i{viewContainer=(0,r.WQX)(e.c1b);elementRef=(0,r.WQX)(e.aKT);constructor(){const t=(0,r.WQX)(V);t._headerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","headerRowOutlet",""]]})}return i})(),Oe=(()=>{class i{viewContainer=(0,r.WQX)(e.c1b);elementRef=(0,r.WQX)(e.aKT);constructor(){const t=(0,r.WQX)(V);t._footerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","footerRowOutlet",""]]})}return i})(),Ie=(()=>{class i{viewContainer=(0,r.WQX)(e.c1b);elementRef=(0,r.WQX)(e.aKT);constructor(){const t=(0,r.WQX)(V);t._noDataRowOutlet=this,t._outletAssigned()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=e.FsC({type:i,selectors:[["","noDataRowOutlet",""]]})}return i})(),me=(()=>{class i{_differs=(0,r.WQX)(O._q3);_changeDetectorRef=(0,r.WQX)(O.gRc);_elementRef=(0,r.WQX)(e.aKT);_dir=(0,r.WQX)(Ht.dS,{optional:!0});_platform=(0,r.WQX)(Vt.O);_viewRepeater=(0,r.WQX)(B.sL);_viewportRuler=(0,r.WQX)(Ke.Xj);_stickyPositioningListener=(0,r.WQX)(Me,{optional:!0,skipSelf:!0});_document=(0,r.WQX)(r.qQL);_data;_onDestroy=new Qe.B;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role");return"grid"===t||"treegrid"===t?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}_trackByFn;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new r.bkB;viewChange=new le.t({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=(0,r.WQX)(r.zZn);constructor(){(0,r.WQX)(new O.ES_("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName,this._dataDiffer=this._differs.find([]).create((n,a)=>this.trackBy?this.trackBy(a.dataIndex,a.data):a)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe((0,De.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,re.y)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,n,(a,s,d)=>this._getEmbeddedViewArgs(a.item,d),a=>a.item.data,a=>{a.operation===B.Q3.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(a=>{n.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const a=Ze(this._headerRowOutlet,"thead");a&&(a.style.display=t.length?"":"none")}const n=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const a=Ze(this._footerRowOutlet,"tfoot");a&&(a.style.display=t.length?"":"none")}const n=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...n,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,d)=>{this._addStickyColumnStyles([s],this._headerRowDefs[d])}),this._rowDefs.forEach(s=>{const d=[];for(let h=0;h<n.length;h++)this._renderRows[h].rowDef===s&&d.push(n[h]);this._addStickyColumnStyles(d,s)}),a.forEach((s,d)=>{this._addStickyColumnStyles([s],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],n=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return t;for(let a=0;a<this._data.length;a++){let s=this._data[a];const d=this._getRenderRowsForData(s,a,n.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<d.length;h++){let p=d[h];const w=this._cachedRenderRowsMap.get(p.data);w.has(p.rowDef)?w.get(p.rowDef).push(p):w.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,n,a){return this._getRowDefs(t,n).map(d=>{const h=a&&a.has(d)?a.get(d):[];if(h.length){const p=h.shift();return p.dataIndex=n,p}return{data:t,rowDef:d,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ue(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=ue(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ue(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ue(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(d,h)=>{const p=!!h.getColumnsDiff();return d||p},n=this._rowDefs.reduce(t,!1);n&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(t,!1);a&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),n||a||s}_switchDataSource(t){this._data=[],(0,re.y)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;(0,re.y)(this.dataSource)?t=this.dataSource.connect(this):(0,Gt.A)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,ee.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,De.Q)(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,n)=>this._renderRow(this._headerRowOutlet,t,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,n)=>this._renderRow(this._footerRowOutlet,t,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,n){const a=Array.from(n?.columns||[]).map(h=>this._columnDefsByName.get(h)),s=a.map(h=>h.sticky),d=a.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const n=[];for(let a=0;a<t.viewContainer.length;a++){const s=t.viewContainer.get(a);n.push(s.rootNodes[0])}return n}_getRowDefs(t,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(s=>!s.when||s.when(n,t));else{let s=this._rowDefs.find(d=>d.when&&d.when(n,t))||this._defaultRowDef;s&&a.push(s)}return a}_getEmbeddedViewArgs(t,n){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:n}}_renderRow(t,n,a,s={}){const d=t.viewContainer.createEmbeddedView(n.template,s,a);return this._renderCellTemplateForItem(n,s),d}_renderCellTemplateForItem(t,n){for(let a of this._getCellTemplates(t))Q.mostRecentCellOutlet&&Q.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let n=0,a=t.length;n<a;n++){const d=t.get(n).context;d.count=a,d.first=0===n,d.last=n===a-1,d.even=n%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[n].dataIndex,d.renderIndex=n):d.index=this._renderRows[n].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,n=>{const a=this._columnDefsByName.get(n);return t.extractCellTemplate(a)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(n,a)=>n||a.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Yt(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,this._dir?this._dir.value:"ltr",this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:(0,ee.of)()).pipe((0,De.Q)(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const a=this._noDataRowOutlet.viewContainer;if(n){const s=a.createEmbeddedView(t.templateRef),d=s.rootNodes[0];if(1===s.rootNodes.length&&d?.nodeType===this._document.ELEMENT_NODE){d.setAttribute("role","row"),d.classList.add(...t._contentClassNames);const h=d.querySelectorAll(t._cellSelector);for(let p=0;p<h.length;p++)h[p].classList.add(...t._cellClassNames)}}else a.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=e.VBU({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,a,s){if(1&n&&e.wni(s,he,5)(s,U,5)(s,ce,5)(s,ne,5)(s,ae,5),2&n){let d;e.mGM(d=e.lsd())&&(a._noDataRow=d.first),e.mGM(d=e.lsd())&&(a._contentColumnDefs=d),e.mGM(d=e.lsd())&&(a._contentRowDefs=d),e.mGM(d=e.lsd())&&(a._contentHeaderRowDefs=d),e.mGM(d=e.lsd())&&(a._contentFooterRowDefs=d)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,a){2&n&&e.AVh("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",O.L39],fixedLayout:[2,"fixedLayout","fixedLayout",O.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e.Jv_([{provide:V,useExisting:i},{provide:B.sL,useClass:ze},{provide:Me,useValue:null}])],ngContentSelectors:Lt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,a){1&n&&(e.NAR($t),e.SdG(0),e.SdG(1,1),e.nVh(2,Wt,1,0),e.nVh(3,Xt,7,0)(4,Ut,4,0)),2&n&&(e.R7$(2),e.vxM(a._isServer?2:-1),e.R7$(),e.vxM(a._isNativeHtmlTable?3:4))},dependencies:[Ee,xe,Ie,Oe],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2})}return i})();function ue(i,o){return i.concat(Array.from(o))}function Ze(i,o){const t=o.toUpperCase();let n=i.viewContainer.element.nativeElement;for(;n;){const a=1===n.nodeType?n.nodeName:null;if(a===t)return n;if("TABLE"===a)break;n=n.parentNode}return null}let qt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=r.G2t({imports:[Ke.E9]})}return i})();var ei=l(63680),et=l(63617),Ne=l(19999),ti=l(6075),Ae=l(70271);const ii=[[["caption"]],[["colgroup"],["col"]],"*"],ni=["caption","colgroup, col","*"];function ai(i,o){1&i&&e.SdG(0,2)}function oi(i,o){1&i&&(e.j41(0,"thead",0),e.eu8(1,1),e.k0s(),e.j41(2,"tbody",2),e.eu8(3,3)(4,4),e.k0s(),e.j41(5,"tfoot",0),e.eu8(6,5),e.k0s())}function si(i,o){1&i&&e.eu8(0,1)(1,3)(2,4)(3,5)}let je=(()=>{class i extends me{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275cmp=e.VBU({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,a){2&n&&e.AVh("mat-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[e.Jv_([{provide:me,useExisting:i},{provide:V,useExisting:i},{provide:B.sL,useClass:ze},{provide:Me,useValue:null}]),e.Vt3],ngContentSelectors:ni,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,a){1&n&&(e.NAR(ii),e.SdG(0),e.SdG(1,1),e.nVh(2,ai,1,0),e.nVh(3,oi,7,0)(4,si,4,0)),2&n&&(e.R7$(2),e.vxM(a._isServer?2:-1),e.R7$(),e.vxM(a._isNativeHtmlTable?3:4))},dependencies:[Ee,xe,Ie,Oe],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mat-table-fixed-layout{table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}\n"],encapsulation:2})}return i})(),fe=(()=>{class i extends te{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["","matCellDef",""]],features:[e.Jv_([{provide:te,useExisting:i}]),e.Vt3]})}return i})(),pe=(()=>{class i extends ie{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["","matHeaderCellDef",""]],features:[e.Jv_([{provide:ie,useExisting:i}]),e.Vt3]})}return i})(),ge=(()=>{class i extends U{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[e.Jv_([{provide:U,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),e.Vt3]})}return i})(),_e=(()=>{class i extends we{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.Vt3]})}return i})(),ye=(()=>{class i extends Re{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.Vt3]})}return i})(),Pe=(()=>{class i extends ne{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",O.L39]},features:[e.Jv_([{provide:ne,useExisting:i}]),e.Vt3]})}return i})(),Be=(()=>{class i extends ce{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275dir=e.FsC({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[e.Jv_([{provide:ce,useExisting:i}]),e.Vt3]})}return i})(),Ge=(()=>{class i extends Te{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275cmp=e.VBU({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e.Jv_([{provide:Te,useExisting:i}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){1&n&&e.eu8(0,0)},dependencies:[Q],encapsulation:2})}return i})(),He=(()=>{class i extends ke{static \u0275fac=(()=>{let t;return function(a){return(t||(t=e.xGo(i)))(a||i)}})();static \u0275cmp=e.VBU({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e.Jv_([{provide:ke,useExisting:i}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,a){1&n&&e.eu8(0,0)},dependencies:[Q],encapsulation:2})}return i})(),tt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.$C({type:i});static \u0275inj=r.G2t({imports:[qt,ei.jI]})}return i})();class it extends re.q{_data;_renderData=new le.t([]);_filter=new le.t("");_internalPageChanges=new Qe.B;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(o){o=Array.isArray(o)?o:[],this._data.next(o),this._renderChangesSubscription||this._filterData(o)}get filter(){return this._filter.value}set filter(o){this._filter.next(o),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(o){this._sort=o,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(o){this._paginator=o,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(o,t)=>{const n=o[t];if((0,ti.o1)(n)){const a=Number(n);return a<9007199254740991?a:n}return n};sortData=(o,t)=>{const n=t.active,a=t.direction;return n&&""!=a?o.sort((s,d)=>{let h=this.sortingDataAccessor(s,n),p=this.sortingDataAccessor(d,n);const w=typeof h,x=typeof p;w!==x&&("number"===w&&(h+=""),"number"===x&&(p+=""));let E=0;return null!=h&&null!=p?h>p?E=1:h<p&&(E=-1):null!=h?E=1:null!=p&&(E=-1),E*("asc"==a?1:-1)}):o};filterPredicate=(o,t)=>{const n=t.trim().toLowerCase();return Object.values(o).some(a=>`${a}`.toLowerCase().includes(n))};constructor(o=[]){super(),this._data=new le.t(o),this._updateChangeSubscription()}_updateChangeSubscription(){const o=this._sort?(0,et.h)(this._sort.sortChange,this._sort.initialized):(0,ee.of)(null),t=this._paginator?(0,et.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,ee.of)(null),a=(0,Ne.z)([this._data,this._filter]).pipe((0,Ae.T)(([h])=>this._filterData(h))),s=(0,Ne.z)([a,o]).pipe((0,Ae.T)(([h])=>this._orderData(h))),d=(0,Ne.z)([s,t]).pipe((0,Ae.T)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=d.subscribe(h=>this._renderData.next(h))}_filterData(o){return this.filteredData=null==this.filter||""===this.filter?o:o.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(o){return this.sort?this.sortData(o.slice(),this.sort):o}_pageData(o){if(!this.paginator)return o;const t=this.paginator.pageIndex*this.paginator.pageSize;return o.slice(t,t+this.paginator.pageSize)}_updatePaginator(o){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=o,t.pageIndex>0)){const n=Math.ceil(t.length/t.pageSize)-1||0,a=Math.min(t.pageIndex,n);a!==t.pageIndex&&(t.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var pi=l(51567),gi=l(51903),_i=l(61318),yi=l(43143),nt=l(47703),Ce=l(28136),at=l(25932),ot=l(9001),Ci=l(58767),vi=l(30281),Di=l(11855),st=l(63628),oe=l(67993),rt=l(35160),lt=l(3347),Ve=l(55326),dt=l(80423);const bi=["ngForm"];function wi(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function Ri(i,o){if(1&i&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function Fi(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function Ti(i,o){if(1&i&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.StaticName)}}function Si(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function ki(i,o){if(1&i&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.Type)}}function Mi(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Share"),e.k0s()())}function xi(i,o){if(1&i){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const a=r.eBV(t).$implicit,s=e.XpG();return r.Njj(s.selectField(a))}),e.EFF(2,"Select"),e.k0s()()}}function Ei(i,o){1&i&&e.nrm(0,"tr",29)}function Oi(i,o){1&i&&e.nrm(0,"tr",30)}function Ii(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"New Name"),e.k0s()())}function Ni(i,o){if(1&i&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.Y8G("isError",!0),e.R7$(),e.JRh(t.fieldNameError)}}function Ai(i,o){if(1&i&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&i){e.XpG(2);const t=e.sdS(5);e.Y8G("isError",!0),e.R7$(),e.SpI(" ",t.errors.reservedNames," ")}}function ji(i,o){if(1&i&&(e.nVh(0,Ni,2,2,"app-field-hint",33),e.nVh(1,Ai,2,2,"app-field-hint",33)),2&i){e.XpG();const t=e.sdS(5);e.vxM(t.errors.pattern?0:-1),e.R7$(),e.vxM(t.errors.reservedNames?1:-1)}}function Pi(i,o){if(1&i){const t=e.RV6();e.j41(0,"td",27)(1,"mat-form-field",31)(2,"mat-label"),e.EFF(3,"New Name"),e.k0s(),e.j41(4,"input",32,1),e.mxI("ngModelChange",function(a){const s=r.eBV(t).$implicit;return e.DH7(s.newName,a)||(s.newName=a),r.Njj(a)}),e.k0s()(),e.nVh(6,ji,2,2),e.k0s()}if(2&i){const t=o.$implicit,n=o.index,a=e.sdS(5),s=e.XpG();e.R7$(4),e.Y8G("pattern",s.fieldNamePattern),e.R50("ngModel",t.newName),e.Y8G("name","StaticName"+n)("appReservedNames",s.reservedNames()),e.R7$(2),e.vxM(a.errors?6:-1)}}function Bi(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Source"),e.k0s()())}function Gi(i,o){if(1&i&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.E5c(" ",t.field.ContentType.Name,"/",t.field.StaticName," (",t.field.Type,") ")}}function Hi(i,o){1&i&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Remove"),e.k0s()())}function Vi(i,o){if(1&i){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const a=r.eBV(t).$implicit,s=e.XpG();return r.Njj(s.removeField(a))}),e.EFF(2,"Remove"),e.k0s()()}}function $i(i,o){1&i&&e.nrm(0,"tr",29)}function Li(i,o){1&i&&e.nrm(0,"tr",30)}let Wi=(()=>{class i extends vi.${#e;#t;constructor(t,n,a,s,d,h){super(),this.dialogData=t,this.dialog=n,this.snackBar=a,this.matDialog=s,this.viewContainerRef=d,this.changeDetectorRef=h,this.hostClass="dialog-component",this.#e=(0,r.WQX)(ot.D),this.#t=(0,g.d)(Y.h),this.ContentTypeFieldsReuseDefinitions=Ce.T.ContentTypeFieldsReuseDefinitions,this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new it([]),this.selectedFields=new it([]),this.fieldNamePattern=nt.w,this.fieldNameError=nt.s,this.#a=this.#t.getReservedNames().value,this.reservedNames=(0,T.EW)(()=>{const p=this.#a();return rt.O.mergeReserved(p,this.dialogData.existingFields)}),this.saving=(0,oe.KX)("saving",!1),this.#n=this.#e.isEnabled[Ce.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.ngForm.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#a;#n;ngOnInit(){this.#t.getShareableFieldsPromise().then(t=>{this.shareableFields.data=t})}selectField(t){this.selectedFields.data=[...this.selectedFields.data,{newName:t.StaticName,field:t}]}removeField(t){const n=this.selectedFields.data;n.splice(n.indexOf(t),1),this.selectedFields.data=[...n]}closeDialog(){this.dialog.close()}save(){this.#n()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,ee.of)(...this.selectedFields.data).pipe((0,pi.p)(t=>!!t.newName),(0,gi.H)(t=>this.#t.addInheritedField(this.dialogData.contentType.Id,t.field.ContentType.Id,t.field.Guid,t.newName).pipe((0,_i.W)(n=>(0,ee.of)(null)))),(0,yi.$)()).subscribe(t=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,Ci.j)(this.matDialog,Ce.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(lt.UG),e.rXU(b.bZ),e.rXU(e.c1b),e.rXU(O.gRc))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-field-sharing-add-many"]],viewQuery:function(n,a){if(1&n&&e.GBs(bi,5,X.cV),2&n){let s;e.mGM(s=e.lsd())&&(a.ngForm=s.first)}},hostVars:1,hostBindings:function(n,a){2&n&&e.Avn("className",a.hostClass)},features:[e.Vt3],decls:62,vars:16,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break: break-all","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-raised-button","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(n,a){if(1&n){const s=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return r.eBV(s),r.Njj(a.closeDialog())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",6)(9,"p"),e.EFF(10," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),e.k0s(),e.j41(11,"p"),e.EFF(12," This is a bit like "),e.j41(13,"strong"),e.EFF(14,"Content-Type Inheritance"),e.k0s(),e.EFF(15,", but instead of inheritance we're using "),e.j41(16,"strong"),e.EFF(17,"composition"),e.k0s(),e.EFF(18,", which is much more powerful. "),e.k0s(),e.j41(19,"p"),e.EFF(20),e.nI1(21,"translate"),e.nrm(22,"br"),e.j41(23,"em"),e.EFF(24," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),e.k0s()(),e.j41(25,"div",7)(26,"mat-card",8)(27,"table",9),e.qex(28,10),e.DNE(29,wi,3,0,"th",11)(30,Ri,2,1,"td",12),e.bVm(),e.qex(31,13),e.DNE(32,Fi,3,0,"th",11)(33,Ti,2,1,"td",12),e.bVm(),e.qex(34,14),e.DNE(35,Si,3,0,"th",11)(36,ki,2,1,"td",12),e.bVm(),e.qex(37,15),e.DNE(38,Mi,3,0,"th",11)(39,xi,3,0,"td",12),e.bVm(),e.DNE(40,Ei,1,0,"tr",16)(41,Oi,1,0,"tr",17),e.k0s()(),e.j41(42,"mat-card",18)(43,"form",null,0)(45,"table",9),e.qex(46,19),e.DNE(47,Ii,3,0,"th",11)(48,Pi,7,5,"td",12),e.bVm(),e.qex(49,20),e.DNE(50,Bi,3,0,"th",11)(51,Gi,2,3,"td",21),e.bVm(),e.qex(52,22),e.DNE(53,Hi,3,0,"th",11)(54,Vi,3,0,"td",12),e.bVm(),e.DNE(55,$i,1,0,"tr",16)(56,Li,1,0,"tr",17),e.k0s()()()(),e.j41(57,"app-feature-text-info",23)(58,"em"),e.EFF(59," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(60,"mat-dialog-actions",24)(61,"app-save-close-button-fab",25),e.bIt("action",function(){return r.eBV(s),r.Njj(a.save())}),e.k0s()()()}if(2&n){const s=e.sdS(44);e.R7$(3),e.SpI("",e.bMT(4,12,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18)"),e.R7$(17),e.SpI(" ",e.bMT(21,14,"SharingOrInheriting.PickFieldsToInheritFrom")," "),e.R7$(7),e.Y8G("dataSource",a.shareableFields),e.R7$(13),e.Y8G("matHeaderRowDef",a.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",a.optionsColumns),e.R7$(4),e.Y8G("dataSource",a.selectedFields),e.R7$(10),e.Y8G("matHeaderRowDef",a.selectedColumns),e.R7$(),e.Y8G("matRowDefColumns",a.selectedColumns),e.R7$(),e.Y8G("featureNameId",a.ContentTypeFieldsReuseDefinitions)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",!s.form.valid||0==a.selectedFields.data.length||a.saving()?"disabled":"")("disabled",!s.form.valid||0==a.selectedFields.data.length||a.saving())}},dependencies:[se.Hu,se.RN,tt,je,pe,Pe,ge,fe,Be,_e,ye,Ge,He,m.Hl,m.$z,Ve.iY,X.YN,X.qT,X.me,X.BC,X.cb,X.R_,X.vS,X.cV,Bt.RG,dt.rl,dt.nJ,Ue.fS,Ue.fg,rt.O,b.E7,N.h,at.L,Di.F,y.m_,y.An,st.i,N.D9],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}"]})}}return i})();var Xi=l(37739),Ui=l(31176),Qi=l(34435),$=function(i){return i[i.None=0]="None",i[i.Sharing=1]="Sharing",i[i.Inheriting=2]="Inheriting",i}($||{});const zi=i=>({"my-selected":i}),Ki=(i,o)=>o.complete,Yi=(i,o)=>o.AttributeId;function Ji(i,o){1&i&&e.eu8(0)}function Zi(i,o){if(1&i&&(e.j41(0,"p"),e.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),e.k0s(),e.j41(2,"div"),e.EFF(3," Global Identifier: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"h4"),e.EFF(7,"Inherited by"),e.k0s(),e.DNE(8,Ji,1,0,"ng-container",9)),2&i){const t=e.XpG(),n=e.sdS(18);e.R7$(5),e.JRh(t.dialogData.Guid),e.R7$(3),e.Y8G("ngTemplateOutlet",n)}}function qi(i,o){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.complete)}}function en(i,o){if(1&i&&(e.j41(0,"ol"),e.Z7z(1,qi,2,1,"li",null,Ki),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Dyx(t.inherited())}}function tn(i,o){1&i&&e.eu8(0)}function nn(i,o){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t)}}function an(i,o){if(1&i&&(e.j41(0,"h4"),e.EFF(1,"Not Inherited Definitions"),e.k0s(),e.j41(2,"p"),e.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),e.k0s(),e.j41(4,"ol"),e.Z7z(5,nn,2,1,"li",null,e.fX1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(5),e.Dyx(t.notInherited())}}function on(i,o){if(1&i&&(e.j41(0,"p"),e.EFF(1,"This field is inheriting it's definition from another previously shared field."),e.k0s(),e.j41(2,"h4"),e.EFF(3,"Inherits Definition from"),e.k0s(),e.nVh(4,en,3,0,"ol"),e.DNE(5,tn,1,0,"ng-container",9),e.nVh(6,an,7,0)),2&i){const t=e.XpG(),n=e.sdS(18);e.R7$(4),e.vxM(t.features.isEnabled[t.requiredFeature]()?-1:4),e.R7$(),e.Y8G("ngTemplateOutlet",n),e.R7$(),e.vxM(t.notInherited().length?6:-1)}}function sn(i,o){1&i&&(e.j41(0,"p"),e.EFF(1,"This will share the field definition for others to use. Save to complete the operation."),e.k0s())}function rn(i,o){1&i&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function ln(i,o){if(1&i&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function dn(i,o){1&i&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function cn(i,o){if(1&i&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.StaticName)}}function hn(i,o){1&i&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function mn(i,o){if(1&i&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&i){const t=o.$implicit;e.R7$(),e.JRh(t.Type)}}function un(i,o){1&i&&e.nrm(0,"tr",22)}function fn(i,o){if(1&i){const t=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const a=r.eBV(t).$implicit,s=e.XpG(3);return r.Njj(s.inheritField(a))}),e.k0s()}if(2&i){const t=o.$implicit,n=e.XpG(3);e.Y8G("ngClass",e.eq3(1,zi,n.guid===t.Guid))}}function pn(i,o){if(1&i&&(e.j41(0,"p"),e.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),e.nrm(2,"br"),e.k0s(),e.j41(3,"ul")(4,"li"),e.EFF(5,"Inheriting will remove/ignore all current definition of this field such as label, hidden, etc."),e.k0s(),e.j41(6,"li"),e.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),e.k0s()(),e.j41(8,"mat-card",11)(9,"table",12),e.qex(10,13),e.DNE(11,rn,3,0,"th",14)(12,ln,2,1,"td",15),e.bVm(),e.qex(13,16),e.DNE(14,dn,3,0,"th",14)(15,cn,2,1,"td",15),e.bVm(),e.qex(16,17),e.DNE(17,hn,3,0,"th",14)(18,mn,2,1,"td",15),e.bVm(),e.DNE(19,un,1,0,"tr",18)(20,fn,1,3,"tr",19),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(9),e.Y8G("dataSource",t.shareableFields()),e.R7$(10),e.Y8G("matHeaderRowDef",t.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",t.optionsColumns)}}function gn(i,o){if(1&i){const t=e.RV6();e.j41(0,"p"),e.EFF(1,"This field is currently not shared or inherited. You can choose to:"),e.k0s(),e.j41(2,"ul")(3,"li"),e.EFF(4,"Make it public ("),e.j41(5,"strong"),e.EFF(6,"share"),e.k0s(),e.EFF(7,") so it can be re-used by other Content Types"),e.k0s(),e.j41(8,"li"),e.EFF(9,"Change it to "),e.j41(10,"strong"),e.EFF(11,"inherit"),e.k0s(),e.EFF(12," it's definition from another previously shared field"),e.k0s()(),e.nrm(13,"br"),e.j41(14,"div")(15,"button",10),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.setShare())}),e.EFF(16," Share "),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){r.eBV(t);const a=e.XpG();return r.Njj(a.startInherit())}),e.EFF(18," Inherit "),e.k0s(),e.nVh(19,sn,2,0,"p")(20,pn,21,3),e.k0s()}if(2&i){let t;const n=e.XpG();e.R7$(15),e.HbH("eav-dialog-action-button"+(n.state==n.sharingOrInheriting.Sharing?" eav-action-button":"")),e.R7$(2),e.HbH("eav-dialog-action-button"+(n.state==n.sharingOrInheriting.Inheriting?" eav-action-button":"")),e.R7$(2),e.vxM((t=n.state)===n.sharingOrInheriting.Sharing?19:t===n.sharingOrInheriting.Inheriting?20:-1)}}function _n(i,o){if(1&i&&(e.j41(0,"li"),e.EFF(1," Guid: "),e.j41(2,"strong"),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.EFF(5," Content Type: "),e.j41(6,"strong"),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.EFF(9," Field: "),e.j41(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.k0s()),2&i){const t=o.$implicit;e.R7$(3),e.JRh(t.Guid),e.R7$(4),e.JRh(t.ContentType.Name),e.R7$(4),e.JRh(t.StaticName),e.R7$(),e.SpI(" (",t.AttributeId,") ")}}function yn(i,o){if(1&i&&(e.j41(0,"ul"),e.Z7z(1,_n,13,4,"li",null,Yi),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Dyx(t.details())}}function Cn(i,o){1&i&&(e.j41(0,"em"),e.EFF(1," No details available. This field probably does not have any inheriting fields. "),e.k0s())}function vn(i,o){if(1&i&&e.nVh(0,yn,3,0,"ul")(1,Cn,2,0,"em"),2&i){const t=e.XpG(2);e.vxM(t.details().length?0:1)}}function Dn(i,o){if(1&i&&(e.j41(0,"em"),e.EFF(1," You can get more details about the parents by enabling the feature "),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"app-feature-icon-text",24),e.EFF(5,". "),e.k0s()),2&i){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.requiredFeature," "),e.R7$(),e.Y8G("featureNameId",t.requiredFeature)}}function bn(i,o){if(1&i&&e.nVh(0,vn,2,1)(1,Dn,6,2,"em"),2&i){const t=e.XpG();e.vxM(t.features.isEnabled[t.requiredFeature]()?0:1)}}const wn={all:!0,constructor:!0};let Fn=(()=>{class i{#e;constructor(t,n,a){this.dialogData=t,this.features=n,this.dialog=a,this.log=(0,Qi.Tq)({ShareOrInheritDialogComponent:i},wn),this.#e=(0,g.d)(Y.h),this.requiredFeature=Ce.T.ContentTypeFieldsReuseDefinitions,this.details=(0,oe.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=$.None,this.sharingOrInheriting=$,this.guid=null,this.shareableFields=(0,r.vPA)(void 0),this.initialState=(()=>{const h=this.dialogData.SysSettings;return h&&(h.Share||h.InheritMetadataOf)?h.Share?$.Sharing:$.Inheriting:$.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#t=(0,oe.bo)("inheritsInfo",()=>{const p=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(w=>({complete:w,guid:w.substring(0,36),name:w.substring(36)}));return(0,Xi.A)(p,w=>"00000000-0000-0000-0000-000000000000"===w.guid?"none":"inherits")}),this.notInherited=(0,oe.bo)("notInherited",()=>this.#t().none?.map(h=>h.name)??[]),this.inherited=(0,oe.bo)("inherited",()=>this.#t().inherits??[]),this.log.fnIf("constructor",{dialogData:t});const d=t.SysSettings;d&&(d.Share?this.#e.getDescendants(t.Id).then(h=>this.details.set(h)):d.InheritMetadataOf&&this.#e.getAncestors(t.Id).then(h=>this.details.set(h)))}#t;setShare(){this.guid=null,this.state=$.Sharing}startInherit(){this.guid=null,this.state=$.Inheriting,this.#e.getShareableFieldsFor(this.dialogData.AttributeId).then(t=>this.shareableFields.set(t))}inheritField(t){this.guid=t.Guid}save(){this.state==$.Sharing?this.#e.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==$.Inheriting&&this.#e.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b.Vh),e.rXU(ot.D),e.rXU(b.CP))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-field-sharing-configure"]],decls:19,vars:8,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",3,"click"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],[3,"featureNameId"]],template:function(n,a){if(1&n){const s=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return r.eBV(s),r.Njj(a.dialog.close())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",5),e.nVh(9,Zi,9,2)(10,on,7,3)(11,gn,21,5),e.j41(12,"app-feature-text-info",6)(13,"em"),e.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(15,"mat-dialog-actions",7)(16,"app-save-close-button-fab",8),e.bIt("action",function(){return r.eBV(s),r.Njj(a.save())}),e.k0s()()(),e.DNE(17,bn,2,1,"ng-template",null,0,e.C5r)}if(2&n){let s;e.R7$(3),e.SpI(" ",e.bMT(4,6,a.title)," "),e.R7$(6),e.vxM((s=a.initialState)===a.sharingOrInheriting.Sharing?9:s===a.sharingOrInheriting.Inheriting?10:s===a.sharingOrInheriting.None?11:-1),e.R7$(3),e.Y8G("featureNameId",a.requiredFeature)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",a.initialState!=a.sharingOrInheriting.None?"disabled":"")("disabled",a.initialState!=a.sharingOrInheriting.None)}},dependencies:[m.Hl,m.$z,Ve.iY,y.m_,y.An,se.Hu,se.RN,tt,je,pe,Pe,ge,fe,Be,_e,ye,Ge,He,F.YU,F.T3,N.h,at.L,Ui.U,b.E7,st.i,N.D9],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}}return i})();var Tn=l(58857);const Sn=(i,o)=>({"grid-sorted":i,"grid-filtered":o});function kn(i,o){if(1&i){const t=e.RV6();e.j41(0,"ag-grid-angular",9),e.bIt("rowDragEnter",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onRowDragEnter(a))})("rowDragEnd",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onRowDragEnd(a))})("rowDragMove",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onRowDragMove(a))})("gridReady",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onGridReady(a))})("sortChanged",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onSortChanged(a))})("filterChanged",function(a){r.eBV(t);const s=e.XpG();return r.Njj(s.onFilterChanged(a))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("rowData",t.fields())("gridOptions",t.gridOptions)("ngClass",e.l_i(3,Sn,t.sortApplied,t.filterApplied))}}let Mn=(()=>{class i{#e;#t;#a;constructor(t,n,a,s){this.dialog=t,this.snackBar=n,this.matDialog=a,this.viewContainerRef=s,this.#e=(0,g.d)(ve.c),this.#t=(0,g.d)(I.g),this.#a=(0,g.d)(Y.h),this.#n=this.#e.getParam("contentTypeStaticName"),this.refresh=(0,r.vPA)(0),this.isReordering=(0,r.vPA)(!1),this.#r={empty:{description:"<p><b>This is where you manage Fields</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first Field (think: column).</p>"},content:{description:"<p><b>These are the Fields of this Content-Type</b> <br>They are similar to database columns.</p>",hint:"<p>Click on the <em>Name</em> to configure it or on the <em>Input</em> to change the type. <br><br>You can also create new fields, share field definitions, manage field metadata/permissions or rename fields.</p>"}},this.uxHelpText=(0,T.EW)(()=>0===this.fields()?.length?this.#r.empty:this.#r.content),this.contentType=this.#t.getType(this.#n).value,this.fields=(0,r.vPA)(void 0),this.gridOptions=this.#v(),this.sortApplied=!1,this.filterApplied=!1,this.#s=!1}#n;#r;#i;#s;ngOnInit(){this.#o(),this.#e.doOnDialogClosed(()=>this.#o())}onGridReady(t){this.#i=t.api}onRowDragEnter(t){this.#i.setGridOption("enableCellTextSelection",!1)}onRowDragEnd(t){this.#i.setGridOption("suppressRowDrag",!0),this.isReordering.set(!0);const n=this.fields().map(a=>a.Id);this.#a.reOrder(n,this.contentType()).subscribe(()=>{this.#o(()=>{this.#i.setGridOption("enableCellTextSelection",!0),this.#i.setGridOption("suppressRowDrag",!1),this.isReordering.set(!1)})})}onRowDragMove(t){const n=t.overNode;if(!n)return;const a=t.node;if(a===n)return;const s=[...this.fields()],d=s.indexOf(a.data),h=s.indexOf(n.data),p=this.#d(s,d,h);this.fields.set(p),this.#i.clearFocusedCell()}#d(t,n,a){const s=t[n];return t.splice(n,1),t.splice(a,0,s),[...t]}onSortChanged(t){const n=this.#i.getColumnState();this.sortApplied=n.some(a=>null!=a.sort),this.#l()}onFilterChanged(t){const n=this.#i.getFilterModel(),a=Object.keys(n);this.filterApplied=a.length>0,this.#l()}#l(){const t=this.sortApplied||this.filterApplied;t&&!this.#s?(this.#s=!0,this.#i.setGridOption("suppressRowDrag",!0)):!t&&this.#s&&(this.#s=!1,this.#i.setGridOption("suppressRowDrag",!1))}add(){this.#e.navRelative([`add/${this.#n}`])}addSharedField(){this.matDialog.open(Wi,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()},viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#D(t){const n=t.data.InputType;if(j.Q.endsPreviousGroup(n))return t.value;let a=!1;for(const s of this.fields())if(j.Q.isGroupStart(n))a=!0;else if(j.Q.isGroupEnd(n))a=!1;else if(s.StaticName===t.data.StaticName)break;return a?`<span class="is-in-group">${t.value}</span>`:t.value}#o(t){this.#a.getFieldsPromise(this.#n).then(n=>{this.fields.set(n),t?.()})}#c(t,n){const a=n.replace("@",""),s=("@"+n).replace("@@","@"),d=t.Metadata[a];return null!=d?W.H.editId(d.Id):{...W.H.newMetadata(t.Id,s,H.YX.metadata.attribute),Prefill:{Name:t.StaticName}}}#h(t){this.snackBar.open("Setting title..."),this.#a.setTitle(t,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#o()})}#m(t){this.#e.navRelative([`update/${this.#n}/${t.Id}/name`])}#u(t){this.matDialog.open(K.F,{autoFocus:!1,data:{entityId:t.Id,entityTitle:t.StaticName,message:"Delete Item?",hasDeleteSnackbar:!0},viewContainerRef:this.viewContainerRef,width:"600px"}).afterClosed().subscribe(n=>{n&&this.#a.delete(t,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#o()})})}#f(t){this.#e.navRelative([D.k.getUrlAttribute(t.Id)])}#p(t){const n=t.imageConfiguration;if(1!=n?.isRecommended)throw new Error("This field does not expect to have an image configuration");const a=n.entityId?W.H.editId(n.entityId):W.H.newMetadata(t.Id,n.typeName,H.YX.metadata.attribute),s=(0,J.s)({items:[a]});this.#e.navRelative([`edit/${s}`])}#g(t){const n=k.H.getUrlAttribute(t.Id,`Metadata for Field: ${t.StaticName} (${t.Id})`);this.#e.navRelative([n])}#_(t){const n={items:Object.keys(t.ConfigTypes).map(s=>this.#c(t,s))},a=(0,J.s)(n);return"#"+this.#e.urlSubRoute(`edit/${a}`)}#y(t){return"#"+this.#e.urlSubRoute(`update/${this.#n}/${t.Id}/inputType`)}#C(t){this.matDialog.open(Fn,{autoFocus:!1,width:"800px",data:t,viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#o())}#v(){return{...v.C,getRowClass(n){const a=n.data,s=[];return a.EditInfo.DisableSort&&s.push("disable-row-drag"),j.Q.isGroupStart(a.InputType)&&s.push("group-start-row"),j.Q.isGroupEnd(a.InputType)&&s.push("group-end-row"),s},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" "),cellRenderer:Ct,cellRendererParams:{isReordering:()=>this.isReordering()}},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:n=>n.data.IsTitle,cellRenderer:At,cellRendererParams:{onSetTitle:n=>this.#h(n)}},{...u.r.TextWidePrimary,headerName:"Name",field:"StaticName",cellClass:n=>(n.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),cellRenderer:n=>f.f.cellLink(this.#_(n.data),n.value)},{...u.r.ItemsText,field:"Type",width:70,valueGetter:n=>n.data.Type,cellRenderer:Pt},{...u.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:n=>(n.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:n=>n.data.InputType.substring(n.data.InputType.indexOf("-")+1),cellRenderer:n=>f.f.cellLink(this.#y(n.data),n.value)},{field:"Label",flex:2,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:n=>n.data.Metadata?.All?.Name},{field:"Special",width:132,headerClass:"dense",cellClass:"no-outline",cellRenderer:Ot},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:n=>n.data.Metadata?.All?.Notes},{...u.r.ActionsPinnedRight5,cellRenderer:_t,cellRendererParams:{do:(n,a)=>{switch(n){case"rename":this.#m(a);break;case"delete":this.#u(a);break;case"permissions":this.#f(a);break;case"metadata":this.#g(a);break;case"shareOrInherit":this.#C(a);break;case"image":this.#p(a)}}}}]}}static{this.\u0275fac=function(n){return new(n||i)(e.rXU(b.CP),e.rXU(lt.UG),e.rXU(b.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-content-type-fields"]],decls:17,vars:9,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"ag-theme-material","eav-dialog-content",3,"rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"],[1,"ag-theme-material","eav-dialog-content",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"]],template:function(n,a){if(1&n&&(e.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return a.dialog.close()}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.nVh(8,kn,1,6,"ag-grid-angular",5),e.j41(9,"mat-dialog-actions",6)(10,"button",7),e.bIt("click",function(){return a.addSharedField()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",8),e.bIt("click",function(){return a.add()}),e.j41(14,"mat-icon"),e.EFF(15,"add"),e.k0s()()()()(),e.nrm(16,"router-outlet")),2&n){let s,d,h;e.R7$(),e.Y8G("helpText",a.uxHelpText())("refresh",a.refresh())("rowLength",null==(s=a.fields())?null:s.length),e.R7$(3),e.SpI("",(null==(d=a.contentType())?null:d.Label)||(null==(d=a.contentType())?null:d.Name)," Fields"),e.R7$(4),e.vxM((null==(h=a.fields())?null:h.length)>0?8:-1),e.R7$(3),e.JRh(e.bMT(12,7,"SharingOrInheriting.AddSharedField")),e.R7$(2),e.Y8G("disabled",null==a.contentType()||a.contentType().EditInfo.ReadOnly)}},dependencies:[m.Hl,m.$z,Ve.iY,m.Sr,y.m_,y.An,R.n3,F.YU,b.E7,q.V,$e.p,Tn.xs,N.h,C.v,N.D9],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}}return i})()},60852(L,M,l){l.d(M,{c:()=>K});var F=l(69393),r=l(51567),T=l(70271),m=l(5057),b=l(63037),y=l(98764),R=l(34435),N=l(4979),g=l(56884);const I={doOnDialogClosed:!1,doOnDialogClosedWithData:!0};let K=(()=>{class k extends N.V{constructor(f,u){super(),this.router=f,this.route=u,this.log=(0,R.Tq)({DialogRoutingService:k},I)}get snapshot(){return this.route.snapshot}get url(){return this.router.url}get urlSegments(){return this.router.url.split("/")}getParam(f){return this.route.snapshot.paramMap.get(f)}getParams(f){const u=this.route.snapshot.paramMap;return f.reduce((C,v)=>(C[v]=u.get(v),C),{})}getQueryParam(f){return this.route.snapshot.queryParamMap.get(f)}getQueryParams(f){const u=this.route.snapshot.queryParamMap;return f.reduce((C,v)=>(C[v]=u.get(v),C),{})}state(){return this.router.currentNavigation().extras?.state}doOnDialogClosed(f){const u=this.log.fnIf("doOnDialogClosed");this.subscriptions.add(this.childDialogClosed$().subscribe(C=>(u.a("Dialog closed",{data:C}),f()))),u.end()}doOnDialogClosedWithData(f){const u=this.log.fnIf("doOnDialogClosedWithData");this.subscriptions.add(this.#e().subscribe(({state:C})=>{u.a("Dialog closed",{state:C}),f(C)})),u.end()}urlSubRoute(f){const u=this.router.createUrlTree([f],{relativeTo:this.route});return this.router.serializeUrl(u)}navPath(f,u){return this.router.navigate([f],u)}navRelative(f,u){return this.router.navigate(f,{...u,relativeTo:this.route})}childDialogClosed$(){return this.router.events.pipe((0,r.p)(f=>f instanceof F.wF),(0,b.Z)(!!this.route.snapshot.firstChild),(0,T.T)(()=>!!this.route.snapshot.firstChild),(0,m.J)(),(0,r.p)(([f,u])=>f&&!u))}#e(){return this.router.events.pipe((0,r.p)(f=>f instanceof F.wF),(0,y.M)(f=>{const u=this.log.fn("childDialogClosed$",{event:f,firstChild:this.route.snapshot.firstChild,snapShot:this.route.snapshot,state:this.router.currentNavigation()?.extras.state});u.a("NavigationEnd",{event:f}),u.end()}),(0,b.Z)(!!this.route.snapshot.firstChild),(0,T.T)(()=>({hasChildNow:!!this.route.snapshot.firstChild,state:this.router.currentNavigation()?.extras.state})),(0,m.J)(),(0,r.p)(([f,u])=>f.hasChildNow&&!u.hasChildNow),(0,T.T)(([f,u])=>({hadChildBefore:f.hasChildNow,hasChildNow:u.hasChildNow,state:u.state})))}static{this.\u0275fac=function(u){return new(u||k)(g.KVO(F.Ix),g.KVO(F.nX))}}static{this.\u0275prov=g.jDH({token:k,factory:k.\u0275fac})}}return k})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.01/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_ts-node_modules_angular_mater-1e3200.06cc02aa2fba3350.js.map
{"version":3,"file":"projects_eav-ui_src_app_apps-management_apps-list_apps-list_ts-projects_eav-ui_src_app_shared-dfd1cd.2954b9ea42f66c20.js","mappings":"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","names":["BaseDirective","constructor","this","subscriptions","Subscription","ngOnDestroy","unsubscribe","ServiceBase","destroy","factory","Éµfac","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","target","eventName","options","resultSelector","isFunction","undefined","pipe","mapOneOrManyArgs","add","remove","isEventTarget","addEventListener","removeEventListener","map","methodName","handler","isNodeStyleEventEmitter","addListener","removeListener","toCommonHandlerRegistry","isJQueryStyleEventEmitter","on","off","isArrayLike","mergeMap","subTarget","innerFrom","TypeError","Observable","subscriber","args","next","length","FeatureNames","AppSyncWithSiteFiles","WysiwygPasteFormatted","PasteImageFromClipboard","EditUiShowNotes","EditUiShowMetadataFor","NoSponsoredByToSic","EditUiTranslateWithGoogle","LightSpeed","ContentSecurityPolicy","PermissionsByLanguage","ContentTypeFieldsReuseDefinitions","AppExportAssetsAdvanced","DataExportImportBundles","PickerUiCheckbox","PickerUiRadio","PickerSourceCsv","PickerSourceAppAssets","PickerFormulas","PickerUiMoreInfo","DragAndDropDirective","elementRef","zone","snackBar","super","markStyle","input","allowedFileTypes","filesDropped","output","dropAreaClass","markStyleClass","signal","dragClass","timeouts","element","nativeElement","ngOnInit","set","classList","runOutsideAngular","subscribe","event","preventDefault","stopPropagation","clearTimeouts","push","window","setTimeout","onDrop","files","Array","from","dataTransfer","filterTypes","emit","timeout","clearTimeout","allowedTypes","split","type","toLocaleLowerCase","filtered","filter","file","extIndex","name","lastIndexOf","ext","substring","includes","allowedTypesString","replace","open","duration","i0","i1","selectors","hostBindings","rf","ctx","$event","logSpecs","doOnDialogClosed","doOnDialogClosedWithData","DialogRoutingService","router","route","log","classLog","snapshot","url","urlSegments","getParam","key","paramMap","get","getParams","keys","reduce","acc","getQueryParam","queryParamMap","getQueryParams","state","currentNavigation","extras","callback","l","fnIf","childDialogClosed$","data","a","end","#childDialogClosedWithData","urlSubRoute","params","tree","createUrlTree","relativeTo","serializeUrl","navPath","navigate","navRelative","commands","events","NavigationEnd","startWith","firstChild","pairwise","hadChildBefore","hasChildNow","tap","fn","snapShot","prev","curr","SafeHtmlPipe","sanitizer","transform","html","bypassSecurityTrustHtml","pure","AppListShowIcons","states","true","tooltip","icon","false","AppListCodeErrorIcons","clickable","getUrl","$2sxc","http","apiUrl","Id","_r1","ctx_r1","do","app","IsApp","AppsListActions","agInit","refresh","verb","decls","vars","consts","template","AppsListActions_Conditional_2_Template","AppsListActions_Conditional_3_Template","AppsListActions_ng_template_10_Template","IsGlobal","IsInherited","lightSpeed","menu_r3","TippyDirective","MatIconModule","MatBadgeModule","MatRippleModule","i2","MatMenuModule","i3","LightSpeedActions","encapsulation","AppsListComponent","#appsListSvc","#dialogRouter","context","matDialog","viewContainerRef","changeDetectorRef","gridOptions","#buildGridOptions","features","inject","FeaturesService","isAddFromFolderEnabled","isEnabled","transient","AppsListService","fabOpen","#refresh","apps","getAllLive","value","ModuleRegistry","registerModules","ClientSideRowModelModule","#loadApps","openChange","browseCatalog","createApp","createInheritedApp","addFromFolder","importApp","#deleteApp","result","prompt","Name","delete","error","alert","#flushApp","_this","_asyncToGenerator","confirm","status","flushCache","statusCode","console","#getLightSpeedLink","formUrl","convertFormToUrl","AppAdminHelpers","getLightSpeedEditParams","zoneId","openLightSpeedFeatInfo","openFeatureDialog","defaultGridOptions","columnDefs","ColumnDefinitions","IdWithDefaultRenderer","cellRendererParams","idFieldParamsTooltipGetter","IconShow","settings","TextWide","field","cellClass","sort","cellRenderer","p","toString","Thumbnail","Character","width","Number","Boolean","headerName","BooleanFilterComponent","AgBoolIconRenderer","ActionsPinnedRight3","lightSpeedLink","openLightspeedFeatureInfo","update","v","_c0","SxcGridModule","i4","MatDialogActions","EcoFabSpeedDialComponent","NgClass","EcoFabSpeedDialTriggerComponent","MatButtonModule","i5","i6","EcoFabSpeedDialActionsComponent","MatBadgeIconDirective","RouterOutlet","styles","webApiAppRootApp","HttpServiceBaseSignal","httpResource","getInheritable","getPendingApps","create","inheritAppId","templateId","post","createTemplate","newName","encodedName","encodeURIComponent","installPendingApps","pendingApps","appId","getStatusPromise","__ngFactoryType__"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/shared/directives/base.directive.ts","./projects/eav-ui/src/app/shared/services/service-base.ts","./node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","./projects/eav-ui/src/app/features/feature-names.ts","./projects/eav-ui/src/app/shared/directives/drag-and-drop.directive.ts","./projects/eav-ui/src/app/shared/routing/dialog-routing.service.ts","./projects/eav-ui/src/app/shared/pipes/safe-html.pipe.ts","./projects/eav-ui/src/app/apps-management/apps-list/app-list-grid-config.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.html","./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.html","./projects/eav-ui/src/app/apps-management/services/apps-list.service.ts"],"sourcesContent":["import { Directive, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Directive()\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseDirective implements OnDestroy {\r\n  /** Holds all subscriptions to be unsubscribed on destroy */\r\n  protected subscriptions = new Subscription();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\n/**\r\n * Base class for services - just to standardize use of subscriptions.\r\n * Has @Injectable() just to allow it ot use the standard OnDestroy interface.\r\n */\r\n@Injectable()\r\nexport abstract class ServiceBase implements OnDestroy {\r\n\r\n  protected subscriptions = new Subscription();\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy();\r\n  }\r\n\r\n  // TODO: TRY TO GET RID OF THIS. AFAIK it's just used in the mask, which should switch over to signals.\r\n  destroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n","// This will make it easier for us to see where certain feature names are in use\r\n\r\nexport const FeatureNames = {\r\n  AppSyncWithSiteFiles: 'AppSyncWithSiteFiles',\r\n  WysiwygPasteFormatted: 'WysiwygPasteFormatted',\r\n  PasteImageFromClipboard: 'PasteImageFromClipboard',\r\n  EditUiShowNotes: 'EditUiShowNotes',\r\n  EditUiShowMetadataFor: 'EditUiShowMetadataFor',\r\n  NoSponsoredByToSic: 'NoSponsoredByToSic',\r\n  EditUiTranslateWithGoogle: 'EditUiTranslateWithGoogle',\r\n  LightSpeed: 'LightSpeedOutputCache',\r\n  ContentSecurityPolicy: 'ContentSecurityPolicy',\r\n  PermissionsByLanguage: 'PermissionsByLanguage',\r\n  ContentTypeFieldsReuseDefinitions: 'ContentTypeFieldsReuseDefinitions',\r\n  AppExportAssetsAdvanced: 'AppExportAssetsAdvanced',\r\n  DataExportImportBundles: 'DataExportImportBundles',\r\n\r\n  // Picker features\r\n  PickerUiCheckbox: 'PickerUiCheckbox',\r\n  PickerUiRadio: 'PickerUiRadio',\r\n  PickerSourceCsv: 'PickerSourceCsv',\r\n  PickerSourceAppAssets: 'PickerSourceAppAssets',\r\n  PickerFormulas: 'PickerFormulas',\r\n  PickerUiMoreInfo: 'PickerUiMoreInfo',\r\n} as const /* the as const ensures that the keys/values can be strictly checked */;\r\n","import { Directive, ElementRef, HostListener, input, NgZone, OnDestroy, OnInit, output, signal } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { fromEvent } from 'rxjs';\r\nimport { BaseDirective } from './base.directive';\r\n\r\n@Directive({\r\n  selector: '[appDragAndDrop]',\r\n})\r\nexport class DragAndDropDirective extends BaseDirective implements OnInit, OnDestroy {\r\n  markStyle = input<'outline' | 'fill' | 'shadow'>('outline');\r\n  /** Comma separated file types, e.g. 'txt,doc,docx' */\r\n  allowedFileTypes = input<string>('');\r\n  protected filesDropped = output<File[]>();\r\n\r\n  private element: HTMLElement;\r\n  private dropAreaClass = 'eav-droparea';\r\n  private markStyleClass = signal<string>('');\r\n  private dragClass = 'eav-dragover';\r\n  private timeouts: number[] = [];\r\n\r\n  constructor(elementRef: ElementRef, private zone: NgZone, private snackBar: MatSnackBar) {\r\n    super();\r\n    this.element = elementRef.nativeElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.markStyleClass.set(`eav-droparea-${this.markStyle()}`);\r\n    this.element.classList.add(this.dropAreaClass, this.markStyleClass());\r\n    this.zone.runOutsideAngular(() => {\r\n      this.subscriptions.add(\r\n        fromEvent<DragEvent>(this.element, 'dragover').subscribe(event => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.clearTimeouts();\r\n          this.element.classList.add(this.dragClass);\r\n        })\r\n      );\r\n      this.subscriptions.add(\r\n        fromEvent<DragEvent>(this.element, 'dragleave').subscribe(event => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.timeouts.push(\r\n            window.setTimeout(() => { this.element.classList.remove(this.dragClass); }, 50)\r\n          );\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.clearTimeouts();\r\n    this.element.classList.remove(this.dropAreaClass, this.markStyleClass(), this.dragClass);\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  @HostListener('drop', ['$event'])\r\n  onDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.clearTimeouts();\r\n    this.element.classList.remove(this.dragClass);\r\n    const fileList = event.dataTransfer.files;\r\n    let files = Array.from(fileList);\r\n    files = this.filterTypes(files, this.allowedFileTypes());\r\n    if (files.length > 0) {\r\n      this.filesDropped.emit(files);\r\n    }\r\n  }\r\n\r\n  private clearTimeouts() {\r\n    for (const timeout of this.timeouts) {\r\n      clearTimeout(timeout);\r\n    }\r\n    this.timeouts = [];\r\n  }\r\n\r\n  private filterTypes(files: File[], allowedFileTypes: string) {\r\n    if (allowedFileTypes === '') { return files; }\r\n\r\n    const allowedTypes = allowedFileTypes.split(',').map(type => type.toLocaleLowerCase());\r\n    const filtered = files.filter(file => {\r\n      const extIndex = file.name.lastIndexOf('.');\r\n      if (extIndex <= 0) { return false; }\r\n      const ext = file.name.substring(extIndex + 1).toLocaleLowerCase();\r\n      const allowed = allowedTypes.includes(ext);\r\n      return allowed;\r\n    });\r\n\r\n    if (files.length !== filtered.length) {\r\n      const allowedTypesString = this.allowedFileTypes().replace(/\\,/g, ', ');\r\n      const message = filtered.length\r\n        ? 'Some files were filtered out. This drop location only accepts file types: ' + allowedTypesString\r\n        : 'This drop location only accepts file types: ' + allowedTypesString;\r\n      this.snackBar.open(message, null, { duration: 5000 });\r\n    }\r\n    return filtered;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, NavigationExtras, Router } from '@angular/router';\r\nimport { filter, map, pairwise, startWith, tap } from 'rxjs';\r\nimport { classLog } from '../logging';\r\nimport { ServiceBase } from '../services/service-base';\r\n\r\nconst logSpecs = {\r\n  doOnDialogClosed: false,\r\n  doOnDialogClosedWithData: true,\r\n};\r\n\r\n/**\r\n * Helper to handle dialog routings, especially:\r\n * 1. handling on-child-closed events (it also takes care of subscriptions)\r\n * 2. accessing the router and route - a very common task when you have dialogs\r\n */\r\n@Injectable()\r\nexport class DialogRoutingService extends ServiceBase {\r\n\r\n  log = classLog({ DialogRoutingService }, logSpecs);\r\n\r\n  constructor(\r\n    public router: Router,\r\n    public route: ActivatedRoute\r\n  ) { super(); }\r\n\r\n  get snapshot() { return this.route.snapshot; }\r\n\r\n  get url() { return this.router.url; }\r\n\r\n  get urlSegments() { return this.router.url.split('/'); }\r\n\r\n  getParam(key: string): string {\r\n    return this.route.snapshot.paramMap.get(key);\r\n  }\r\n\r\n  getParams<K extends string>(keys: K[]): Record<K, string> {\r\n    const paramMap = this.route.snapshot.paramMap;\r\n    return keys.reduce((acc, key) => {\r\n      acc[key] = paramMap.get(key);\r\n      return acc;\r\n    }, {} as Record<string, string>);\r\n  }\r\n\r\n  getQueryParam(key: string): string {\r\n    return this.route.snapshot.queryParamMap.get(key);\r\n  }\r\n\r\n  getQueryParams<K extends string>(keys: K[]): Record<K, string> {\r\n    const queryParamMap = this.route.snapshot.queryParamMap;\r\n    return keys.reduce((acc, key) => {\r\n      acc[key] = queryParamMap.get(key);\r\n      return acc;\r\n    }, {} as Record<string, string>);\r\n  }\r\n\r\n  state<T = any>() { return this.router.currentNavigation().extras?.state as T; }\r\n\r\n  /**\r\n   * Preferred way to register a callback, since the caller doesn't need to worry about subscriptions.\r\n   */\r\n  public doOnDialogClosed(callback: () => void) {\r\n    const l = this.log.fnIf('doOnDialogClosed');\r\n    this.subscriptions.add(\r\n      this.childDialogClosed$().subscribe((data: unknown) => {\r\n        l.a('Dialog closed', { data });\r\n        return callback();\r\n      })\r\n    );\r\n    l.end();\r\n  }\r\n\r\n  public doOnDialogClosedWithData(callback: (data: any) => void) {\r\n    const l = this.log.fnIf('doOnDialogClosedWithData');\r\n    this.subscriptions.add(\r\n      this.#childDialogClosedWithData().subscribe(({ state }) => {\r\n        l.a('Dialog closed', { state });\r\n        callback(state);\r\n      })\r\n    );\r\n    l.end();\r\n  }\r\n\r\n  /**\r\n   * Get the URL for a sub-route of the current route.\r\n   */\r\n  public urlSubRoute(params: string) {\r\n    const tree = this.router.createUrlTree([params], { relativeTo: this.route });\r\n    const routeUrl = this.router.serializeUrl(tree);\r\n    return routeUrl;\r\n  }\r\n\r\n  /**\r\n   * Navigate to a new route.\r\n   * Just looks a bit simpler than the internal array notation.\r\n   */\r\n  public navPath(url: string, extras?: NavigationExtras): Promise<boolean> {\r\n    return this.router.navigate([url], extras);\r\n  }\r\n\r\n  /**\r\n   * Navigate relative to the current route.\r\n   */\r\n  public navRelative(commands: any[], extras?: Omit<NavigationExtras, 'relativeTo'>): Promise<boolean> {\r\n    return this.router.navigate(commands, { ...extras, relativeTo: this.route });\r\n  }\r\n\r\n  public childDialogClosed$() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild),\r\n      pairwise(),\r\n      filter(([hadChildBefore, hasChildNow]) => hadChildBefore && !hasChildNow),\r\n    )\r\n  }\r\n\r\n  #childDialogClosedWithData() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      tap(event => {\r\n        const l = this.log.fn(\"childDialogClosed$\", {\r\n          event,\r\n          firstChild: this.route.snapshot.firstChild,\r\n          snapShot: this.route.snapshot,\r\n          state: this.router.currentNavigation()?.extras.state,\r\n        });\r\n        l.a('NavigationEnd', { event });\r\n        l.end();\r\n      }),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => ({\r\n        hasChildNow: !!this.route.snapshot.firstChild,\r\n        state: this.router.currentNavigation()?.extras.state,\r\n      })),\r\n      pairwise(),\r\n      filter(([prev, curr]) => prev.hasChildNow && !curr.hasChildNow),\r\n      map(([prev, curr]) => ({\r\n        hadChildBefore: prev.hasChildNow,\r\n        hasChildNow: curr.hasChildNow,\r\n        state: curr.state\r\n      }))\r\n    );\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml',\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  transform(html: string) {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n}\r\n","import { AgBoolCellIconSettings } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { EavWindow } from '../../shared/models/eav-window.model';\r\nimport { App } from '../models/app.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport const AppListShowIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      tooltip: 'Show this app to users',\r\n      icon: 'visibility',\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: 'visibility_off',\r\n    }\r\n  }\r\n};\r\n\r\nexport const AppListCodeErrorIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      clickable: true,\r\n      tooltip: 'This App uses obsolete code which will cause problems on future upgrades. Click to see details.',\r\n      icon: 'bug_report',\r\n      getUrl: (data: App) => window.$2sxc.http.apiUrl('sys/insights/logs?key=warnings-obsolete&filter=AppId=' + data.Id),\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: '',\r\n    }\r\n  }\r\n};\r\n","<div class=\"actions-component\">\r\n  <!-- Global/Inherited button for shared apps (if enabled) -->\r\n  <div class=\"eav-grid-action-button icon\"\r\n    [tippy]=\"app.IsGlobal ? 'This app is global' : app.IsInherited ? 'This app is inherited' : ''\"\r\n    [tippyDisabled]=\"!app.IsGlobal && !app.IsInherited\">\r\n    @if (app.IsGlobal) {\r\n      <mat-icon>foundation</mat-icon>\r\n    }\r\n    @if (app.IsInherited) {\r\n      <mat-icon>holiday_village</mat-icon>\r\n    }\r\n  </div>\r\n\r\n  <!-- Lightspeed button -->\r\n  <app-lightspeed-action [lightSpeedOwner]=\"app\" [params]=\"params\" [lightSpeed]=\"app.lightSpeed\"></app-lightspeed-action>\r\n\r\n  <!-- More button -->\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<!-- The menu which appears on more -->\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"do('flushCache')\">\r\n      <mat-icon>cached</mat-icon>\r\n      <span>Flush cache</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"!app.IsApp\" (click)=\"do('deleteApp')\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { LightSpeedActions } from '../../../admin-shared/lightspeed-action/lightspeed-action';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\nimport { typeofSignal } from '../../../shared/signals/typeof-signal';\r\nimport { App } from '../../models/app.model';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-actions',\r\n  templateUrl: './apps-list-actions.html',\r\n  imports: [\r\n    TippyDirective,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatRippleModule,\r\n    MatMenuModule,\r\n    LightSpeedActions,\r\n  ]\r\n})\r\nexport class AppsListActions implements ICellRendererAngularComp {\r\n  app: App;\r\n\r\n  public params: typeofSignal<LightSpeedActions['params']> & {\r\n    do(verb: 'deleteApp' | 'flushCache', app: App): void;\r\n  }\r\n\r\n  agInit(params: ICellRendererParams & AppsListActions['params']): void {\r\n    this.params = params;\r\n    this.app = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  do(verb: Parameters<typeof this.params.do>[0]): void {\r\n    this.params.do(verb, this.app);\r\n  }\r\n}\r\n","import { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\nimport { GridOptions, ICellRendererParams, ModuleRegistry } from '@ag-grid-community/core';\r\nimport { NgClass } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, inject, OnInit, signal, ViewContainerRef } from '@angular/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialog, MatDialogActions } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { RouterOutlet } from '@angular/router';\r\nimport { EcoFabSpeedDialActionsComponent, EcoFabSpeedDialComponent, EcoFabSpeedDialTriggerComponent } from '@ecodev/fab-speed-dial';\r\nimport { transient } from '../../../../../core';\r\nimport { AppAdminHelpers } from '../../app-administration/app-admin-helpers';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { FeaturesService } from '../../features/features.service';\r\nimport { openFeatureDialog } from '../../features/shared/base-feature';\r\nimport { AgBoolCellIconsParams } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { AgBoolIconRenderer } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-renderer';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { DragAndDropDirective } from '../../shared/directives/drag-and-drop.directive';\r\nimport { MatBadgeIconDirective } from '../../shared/directives/mat-badge-icon.directive';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { classLog } from '../../shared/logging';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { DialogRoutingService } from '../../shared/routing/dialog-routing.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { App } from '../models/app.model';\r\nimport { AppsListService } from '../services/apps-list.service';\r\nimport { AppListCodeErrorIcons, AppListShowIcons } from './app-list-grid-config';\r\nimport { AppsListActions } from './apps-list-actions/apps-list-actions';\r\n\r\n@Component({\r\n  selector: 'app-apps-list',\r\n  templateUrl: './apps-list.html',\r\n  styleUrls: ['./apps-list.scss'],\r\n  imports: [\r\n    SxcGridModule,\r\n    MatDialogActions,\r\n    EcoFabSpeedDialComponent,\r\n    NgClass,\r\n    EcoFabSpeedDialTriggerComponent,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    EcoFabSpeedDialActionsComponent,\r\n    MatBadgeModule,\r\n    MatBadgeIconDirective,\r\n    RouterOutlet,\r\n    DragAndDropDirective,\r\n  ]\r\n})\r\nexport class AppsListComponent implements OnInit {\r\n\r\n  log = classLog({ AppsListComponent });\r\n\r\n  gridOptions = this.#buildGridOptions();\r\n\r\n  public features = inject(FeaturesService);\r\n  protected isAddFromFolderEnabled = this.features.isEnabled[FeatureNames.AppSyncWithSiteFiles];\r\n\r\n  #appsListSvc = transient(AppsListService);\r\n  #dialogRouter = transient(DialogRoutingService);\r\n\r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n    private context: Context,\r\n    // Services for showing features in the menu\r\n    private matDialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    ModuleRegistry.registerModules([ClientSideRowModelModule]);\r\n  }\r\n\r\n  fabOpen = signal(false);\r\n\r\n  #refresh = signal(0);\r\n\r\n\r\n  // TODO: @2dg Only for example - remove later\r\n  //   apps = computed(() => {\r\n  //   const refresh = this.#refresh();\r\n  //   return this.#appsListSvc.getAllOld();\r\n  // });\r\n\r\n  // TODO: @2dg Only for example - remove later\r\n  // apps = computed(() => {\r\n  //   const refresh = this.#refresh();\r\n  //   return untracked(() => this.#appsListSvc.getAll().value) // Untracked to avoid re-running this when the refresh changes\r\n  // });\r\n\r\n  apps = this.#appsListSvc.getAllLive(this.#refresh).value;\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.#dialogRouter.doOnDialogClosed(() => this.#loadApps());\r\n  }\r\n\r\n  openChange(open: boolean): void {\r\n    this.fabOpen.set(open);\r\n  }\r\n\r\n  browseCatalog(): void {\r\n    window.open('https://2sxc.org/apps', '_blank');\r\n  }\r\n\r\n  createApp(): void {\r\n    this.#dialogRouter.navRelative(['create']);\r\n  }\r\n\r\n  createInheritedApp(): void {\r\n    this.#dialogRouter.navRelative(['create-inherited']);\r\n  }\r\n\r\n  addFromFolder(): void {\r\n    this.#dialogRouter.navRelative(['add-app-from-folder']);\r\n  }\r\n\r\n  importApp(files?: File[]): void {\r\n    this.#dialogRouter.navRelative(['import'], { state: { files } satisfies FileUploadDialogData });\r\n  }\r\n\r\n  #deleteApp(app: App): void {\r\n    const result = prompt(\r\n      `This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${app.Name}' (${app.Id})?`\r\n    );\r\n    if (result === null) return;\r\n    if (result === app.Name || result === 'yes!') {\r\n      this.snackBar.open('Deleting...');\r\n      this.#appsListSvc.delete(app.Id).subscribe({\r\n        error: () => {\r\n          this.snackBar.open(\r\n            'Delete failed. Please check console for more information',\r\n            undefined,\r\n            { duration: 3000 }\r\n          );\r\n          this.#loadApps();\r\n        },\r\n        next: () => {\r\n          this.snackBar.open('Deleted', undefined, { duration: 2000 });\r\n          this.#loadApps();\r\n        },\r\n      });\r\n    } else {\r\n      alert('Input did not match - will not delete');\r\n    }\r\n  }\r\n\r\n  async #flushApp(app: App) {\r\n    if (!confirm(`Flush the App Cache for ${app.Name} (${app.Id})?`))\r\n      return;\r\n    this.snackBar.open('Flushing cache...');\r\n    try {\r\n      const status = await this.#appsListSvc.flushCache(app.Id);\r\n      // Check the status code\r\n      if (status >= 200 && status < 300) {\r\n        this.snackBar.open('Cache flushed', undefined, { duration: 2000 })\r\n      }\r\n    } catch (statusCode) {\r\n      this.snackBar.open('Cache flush failed. Please check console.', undefined, { duration: 3000 }),\r\n        console.error('Export error:', statusCode);\r\n    }\r\n  }\r\n\r\n\r\n  #getLightSpeedLink(app?: App): string {\r\n    const formUrl = convertFormToUrl(AppAdminHelpers.getLightSpeedEditParams(app.Id));\r\n    const urlString = `${this.context.zoneId}/${app.Id}/edit/${formUrl}`;\r\n    return this.#dialogRouter.urlSubRoute(urlString);\r\n  }\r\n\r\n  openLightSpeedFeatInfo() {\r\n    openFeatureDialog(\r\n      this.matDialog,\r\n      FeatureNames.LightSpeed,\r\n      this.viewContainerRef,\r\n      this.changeDetectorRef\r\n    );\r\n  }\r\n\r\n  #buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.IdWithDefaultRenderer,\r\n          cellRendererParams: ColumnDefinitions.idFieldParamsTooltipGetter<App>(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.IconShow,\r\n          cellRendererParams: { settings: () => AppListShowIcons },\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          cellClass: 'apps-list-primary-action highlight'.split(' '),\r\n          sort: 'asc',\r\n          cellRenderer: (p: ICellRendererParams & { data: App }) => {\r\n            const app = p.data;\r\n            const url = this.#dialogRouter.urlSubRoute(app.Id.toString());\r\n            return `\r\n              <a class=\"default-link fill-cell\" href=\"#${url}\">\r\n                <div class=\"container\">\r\n                  ${app.Thumbnail\r\n                ? `<img class=\"image logo\" src=\"${app.Thumbnail}?w=40&h=40&mode=crop\"></img>`\r\n                : `<div class=\"image logo\"><span class=\"material-symbols-outlined\">star</span></div>`\r\n              }\r\n                  ${p.value}\r\n                </div>\r\n              </a>\r\n            `;\r\n          },\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Folder',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Character,\r\n          field: 'Version',\r\n          width: 78,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Number,\r\n          field: 'Items',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Boolean,\r\n          field: 'HasCodeWarnings',\r\n          headerName: 'Code',\r\n          filter: BooleanFilterComponent,\r\n          cellRenderer: AgBoolIconRenderer,\r\n          cellRendererParams: (() => (\r\n            { settings: () => AppListCodeErrorIcons } as AgBoolCellIconsParams<App>\r\n          ))(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: AppsListActions,\r\n          cellRendererParams: {\r\n            lightSpeedLink: (app: App) => this.#getLightSpeedLink(app),\r\n            openLightspeedFeatureInfo: () => this.openLightSpeedFeatInfo(),\r\n            do: (verb, app) => {\r\n              switch (verb) {\r\n                case 'deleteApp': this.#deleteApp(app); break;\r\n                case 'flushCache': this.#flushApp(app); break;\r\n              }\r\n            }\r\n          } satisfies AppsListActions['params'],\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n\r\n  #loadApps(): void {\r\n    this.#refresh.update(v => ++v);\r\n  }\r\n}\r\n","<div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n  <ag-grid-angular\r\n    class=\"ag-theme-material\"\r\n    [rowData]=\"apps()\"\r\n    [gridOptions]=\"gridOptions\"\r\n    appDragAndDrop\r\n    [allowedFileTypes]=\"'zip'\"\r\n    (filesDropped)=\"importApp($event)\"\r\n  >\r\n  </ag-grid-angular>\r\n  <mat-dialog-actions align=\"end\">\r\n    <eco-fab-speed-dial\r\n      class=\"eav-eco-fab-speed-dial\"\r\n      [ngClass]=\"{ 'fab-opened': fabOpen() }\"\r\n      (openChange)=\"openChange($event)\"\r\n    >\r\n      <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n        <button mat-fab class=\"grid-fab\">\r\n          <mat-icon class=\"spin180\">\r\n            {{ fabOpen() ? 'close' : 'add' }}\r\n          </mat-icon>\r\n        </button>\r\n      </eco-fab-speed-dial-trigger>\r\n      <eco-fab-speed-dial-actions class=\"eav-eco-fab-speed-dial-actions\">\r\n        <button\r\n          mat-mini-fab\r\n          class=\"eav-eco-fab-speed-dial-action-button\"\r\n          label=\"Find more apps\"\r\n          (click)=\"browseCatalog()\"\r\n        >\r\n          <mat-icon>search</mat-icon>\r\n        </button>\r\n        <button\r\n          mat-mini-fab\r\n          class=\"eav-eco-fab-speed-dial-action-button\"\r\n          label=\"Create inherited app\"\r\n          (click)=\"createInheritedApp()\"\r\n        >\r\n          <mat-icon>holiday_village</mat-icon>\r\n        </button>\r\n        <button\r\n          mat-mini-fab\r\n          class=\"eav-eco-fab-speed-dial-action-button\"\r\n          label=\"Add from folder\"\r\n          (click)=\"addFromFolder()\"\r\n        >\r\n          <mat-icon\r\n            [matBadgeHidden]=\"isAddFromFolderEnabled()\"\r\n            matBadgeColor=\"accent\"\r\n            matBadgeSize=\"small\"\r\n            matBadgeIcon=\"diamond\"\r\n            matBadgePosition=\"below after\"\r\n            aria-hidden=\"false\"\r\n          >\r\n            add\r\n          </mat-icon>\r\n        </button>\r\n        <button\r\n          mat-mini-fab\r\n          class=\"eav-eco-fab-speed-dial-action-button\"\r\n          label=\"Import app\"\r\n          (click)=\"importApp()\"\r\n        >\r\n          <mat-icon>cloud_upload</mat-icon>\r\n        </button>\r\n        <button\r\n          mat-mini-fab\r\n          class=\"eav-eco-fab-speed-dial-action-button\"\r\n          label=\"Create app\"\r\n          (click)=\"createApp()\"\r\n        >\r\n          <mat-icon>add</mat-icon>\r\n        </button>\r\n      </eco-fab-speed-dial-actions>\r\n    </eco-fab-speed-dial>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n<router-outlet></router-outlet>\r\n","import { httpResource } from '@angular/common/http';\r\nimport { Injectable, Signal } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpServiceBaseSignal } from '../../shared/services/http-service-base-signal';\r\nimport { App, PendingApp } from '../models/app.model';\r\n\r\nconst webApiAppRootList = 'admin/app/list';\r\nconst webApiAppRootInheritableApps = 'admin/app/InheritableApps';\r\nconst webApiAppRootPendingApps = 'admin/app/GetPendingApps';\r\nconst webApiAppRootApp = 'admin/app/app';\r\nconst webApiAppRootInstallPendingApps = 'admin/app/InstallPendingApps';\r\nconst webApiAppRootFlushcache = 'admin/app/flushcache';\r\n\r\n@Injectable()\r\nexport class AppsListService extends HttpServiceBaseSignal {\r\n\r\n  // clean way to create a new resource every time if refresh change\r\n  getAllLive(refresh: Signal<unknown>) {\r\n    return httpResource<App[]>(() => {\r\n      refresh();\r\n      return ({\r\n        url: this.apiUrl(webApiAppRootList),\r\n        params: { zoneId: this.zoneId }\r\n      });\r\n    });\r\n  }\r\n\r\n  getInheritable() {\r\n    return httpResource<App[]>(() => ({\r\n      url: this.apiUrl(webApiAppRootInheritableApps),\r\n      params: { zoneId: this.zoneId }\r\n    }));\r\n  }\r\n\r\n  getPendingApps() {\r\n    return httpResource<PendingApp[]>(() => ({\r\n      url: this.apiUrl(webApiAppRootPendingApps),\r\n      params: { zoneId: this.zoneId },\r\n    }));\r\n  }\r\n\r\n  create(name: string, inheritAppId?: number, templateId?: number) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRootApp), {}, {\r\n      params: {\r\n        zoneId: this.zoneId,\r\n        name,\r\n        ...(inheritAppId != null && { inheritAppId }),\r\n        ...(templateId != null && { templateId }),\r\n      },\r\n    });\r\n  }\r\n\r\n  createTemplate(url: string, newName: string) {\r\n    const encodedName = encodeURIComponent(newName);\r\n    return <Observable<any>>this.http.post(`sys/install/RemotePackage?packageUrl=${url}&newName=${encodedName}`, {});\r\n  }\r\n\r\n  installPendingApps(pendingApps: PendingApp[]) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRootInstallPendingApps), pendingApps, {\r\n      params: {\r\n        zoneId: this.zoneId,\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(appId: number) {\r\n    return this.http.delete<null>(this.apiUrl(webApiAppRootApp), {\r\n      params: { zoneId: this.zoneId, appId: appId.toString() },\r\n    });\r\n  }\r\n\r\n  async flushCache(appId: number): Promise<number> {\r\n    return this.getStatusPromise(webApiAppRootFlushcache, {\r\n      params: { zoneId: this.zoneId, appId: appId.toString() },\r\n    });\r\n  }\r\n\r\n}\r\n"],"x_google_ignoreList":[2]}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-extensions_inspect-dialog_inspect-extension-di-fe8285"],{96878(u,l,t){t.r(l),t.d(l,{InspectExtensionDialog:()=>M});var r=t(56884),h=t(34456),c=t(84175),m=t(53777),I=t(87941),g=t(90353),e=t(93840),D=t(8827),a=t(69393),n=t(12938),s=t(34601),o=t(97480),p=t(37650),i=t(36124),P=t(55326);let M=(()=>{class _{constructor(){this.#n=(0,n.d)(o.h),this.dialog=(0,r.WQX)(I.CP),this.#t=(0,r.WQX)(a.nX),this.extensionFolder=this.#t.snapshot.paramMap.get("extension"),this.edition=this.#t.snapshot.queryParamMap.get("edition")||"",this.preflightResult=this.#n.preflightExtension(this.extensionFolder,this.edition).value}#n;#t;static{this.\u0275fac=function(d){return new(d||_)}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ng-component"]],decls:9,vars:3,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"data"]],template:function(d,E){1&d&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.EFF(3),i.k0s(),i.j41(4,"button",3),i.bIt("click",function(){return E.dialog.close()}),i.j41(5,"mat-icon"),i.EFF(6,"close"),i.k0s()()(),i.j41(7,"div",4),i.nrm(8,"app-inspect-extension",5),i.k0s()()),2&d&&(i.R7$(3),i.Lme(" Inspect Extension: ",E.extensionFolder||"No Extension"," (",E.edition||"Default",") "),i.R7$(5),i.Y8G("data",E.preflightResult()))},dependencies:[c.Hl,P.iY,e.m_,e.An,D.mV,h.YN,m.Hu,g.MY,p.H,s.e],styles:[".eav-dialog[_ngcontent-%COMP%]{padding-bottom:24px}"]})}}return _})()},97480(u,l,t){t.d(l,{h:()=>g});var r=t(70271),h=t(34435),c=t(96474),m=t(56884),I=t(36124);let g=(()=>{class e extends c.D{constructor(){super(...arguments),this.log=(0,h.Tq)({AppExtensionsService:e})}getAllLive(a){return this.newHttpResource(()=>(a(),{url:this.apiUrl("admin/appExtensions/extensions"),params:{appId:this.appId},method:"GET"}))}getAll(){return this.http.get(this.apiUrl("admin/appExtensions/extensions"),{params:{appId:this.appId}})}updateConfiguration(a,n){const s=JSON.parse(n);return this.http.post(this.apiUrl("admin/appExtensions/configuration"),s,{params:{zoneId:this.zoneId,appId:this.appId,name:a}})}downloadExtension(a){const n=new URLSearchParams({appId:this.appId,zoneId:this.zoneId,name:a}),s=`${this.apiUrl("admin/appExtensions/download")}?${n.toString()}`;window.open(s,"_blank","")}installRemoteExtension(a,n,s){const o=[a],p={appId:this.appId,zoneId:this.zoneId,...n?{editions:n}:{},...s?{overwrite:s}:{}};return this.http.post(this.apiUrl("admin/appExtensions/InstallFrom"),o,{params:p})}installPreflightExtensionFromUrl(a,n){const s=[a],o={appId:this.appId,...n?{editions:n}:{}};return this.http.post(this.apiUrl("admin/appExtensions/InstallPreflightFrom"),s,{params:o})}uploadExtensions(a,n,s){const o=new FormData;o.append("files",a);const p={appId:this.appId,zoneId:this.zoneId,...n?{editions:n}:{},...s?{overwrite:s}:{}};return this.http.post(this.apiUrl("admin/appExtensions/install"),o,{params:p}).pipe((0,r.T)(i=>({Success:i,Messages:i?[{MessageType:1,Text:"Extension uploaded successfully"}]:[{MessageType:2,Text:"Extension upload failed"}]})))}installPreflightExtension(a){const n=new FormData;return a.forEach(s=>n.append("files",s)),this.http.post(this.apiUrl("admin/appExtensions/installPreflight"),n,{params:{appId:this.appId,zoneId:this.zoneId}})}preflightExtension(a,n){const s={appId:this.appId,name:a};return n&&(s.edition=n),this.newHttpResource(()=>({url:this.apiUrl("admin/appExtensions/inspect"),params:s,method:"GET"}))}deleteExtension(a,n,s=!1,o=!1){const p={appId:this.appId,name:a,force:s,withData:o,...n?{edition:n}:{}};return this.http.delete(this.apiUrl("admin/appExtensions/delete"),{params:p})}static{this.\u0275fac=(()=>{let a;return function(s){return(a||(a=I.xGo(e)))(s||e)}})()}static{this.\u0275prov=m.jDH({token:e,factory:e.\u0275fac})}}return e})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.01/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-extensions_inspect-dialog_inspect-extension-di-fe8285.3156e25fd8722832.js.map
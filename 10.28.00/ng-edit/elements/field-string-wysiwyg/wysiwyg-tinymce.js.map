{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./projects/shared/eav-custom-input-field.ts","webpack:///./projects/field-string-wysiwyg/src/shared/helpers.ts","webpack:///./projects/field-string-wysiwyg/src/main/main.ts","webpack:///./projects/field-string-wysiwyg/src/shared/models.ts","webpack:///./projects/shared/features-guids.constants.ts","webpack:///./projects/field-string-wysiwyg/src/main/main.html","webpack:///./projects/field-string-wysiwyg/src/main/main.css","webpack:///./projects/field-string-wysiwyg/src/main/tinymce-options.ts","webpack:///./projects/field-string-wysiwyg/src/main/tinymce-toolbar.ts","webpack:///./projects/field-string-wysiwyg/src/main/load-icons-helper.ts","webpack:///./src/icons/2sxc/content-block.svg","webpack:///./src/icons/2sxc/file-dnn.svg","webpack:///./src/icons/2sxc/image-dnn.svg","webpack:///./src/icons/2sxc/H1.svg","webpack:///./src/icons/2sxc/H2.svg","webpack:///./src/icons/2sxc/H3.svg","webpack:///./src/icons/2sxc/H4.svg","webpack:///./src/icons/2sxc/H5.svg","webpack:///./src/icons/2sxc/H6.svg","webpack:///./src/icons/2sxc/U1.svg","webpack:///./src/icons/2sxc/U2.svg","webpack:///./src/icons/2sxc/U3.svg","webpack:///./src/icons/2sxc/U4.svg","webpack:///./src/icons/2sxc/U5.svg","webpack:///./src/icons/2sxc/U6.svg","webpack:///./src/icons/font-awesome/anchor.svg","webpack:///./src/icons/font-awesome/file.svg","webpack:///./src/icons/font-awesome/file-pdf.svg","webpack:///./src/icons/font-awesome/sitemap.svg","webpack:///./src/icons/google-material/baseline-school-24px.svg","webpack:///./src/icons/tinymce/paragraph.svg","webpack:///./projects/field-string-wysiwyg/src/main/math-helper.ts","webpack:///./projects/field-string-wysiwyg/src/main/tinymce-dnnbridge-service.ts","webpack:///./projects/field-string-wysiwyg/src/main/tinymce-adam-service.ts","webpack:///./projects/field-string-wysiwyg/src/main/oxide-skin-overrides.scss","webpack:///./projects/field-string-wysiwyg/src/main/tinymce-content.css","webpack:///./projects/field-string-wysiwyg/src/main/fix-menu-positions-helper.ts","webpack:///./projects/field-string-wysiwyg/src/preview/preview.ts","webpack:///./projects/field-string-wysiwyg/src/preview/preview.html","webpack:///./projects/field-string-wysiwyg/src/preview/preview.css"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","HTMLElement","EavCustomInputField","EavCustomInputFieldObservable","template","styles","min","max","Math","floor","random","subscriptions","tinyMceBaseUrl","console","log","instanceId","randomIntFromInterval","containerClass","toolbarContainerClass","connectedCallback","this","innerHTML","buildTemplate","skinOverrides","querySelector","classList","add","experimental","wysiwygSettings","inlineMode","window","tinymce","tinyMceScriptLoaded","script","document","createElement","src","onload","appendChild","contentBlocksEnabled","allInputTypeNames","length","connector","field","index","inputType","pasteFormattedTextEnabled","isFeatureEnabled","FeaturesGuidsConstants","PasteWithFormatting","pasteImageFromClipboardEnabled","PasteImageFromClipboard","dropzoneConfig","dropzoneConfig$","tinyOptions","getTinyOptions","fixedToolbarClass","contentStyle","setup","tinyMceSetup","currentLang","translateService","imagesUploadUrl","url","uploadHeaders","headers","buttonSource","buttonAdvanced","firstInit","baseURL","init","editor","on","event","addTinyMceToolbarButtons","expand","attachDnnBridgeService","attachAdam","addTranslations","settings","language","editorManager","observer","fixMenuPositions","push","data","value$","subscribe","newValue","editorContent","setContent","setTimeout","focus","expanded","forEach","subscription","unsubscribe","disconnect","dzConfig","acceptedFiles","next","setFocused","saveValue","forceConnectorSave$","getContent","update","disconnectedCallback","remove","EavExperimentalInputFieldObservable","customElements","define","FieldStringWysiwyg","EavExperimentalInputField","imagesUploadHandler","blobInfo","success","failure","formData","FormData","append","blob","filename","activeEditor","fetch","images_upload_url","method","upload_headers","body","then","response","json","Path","catch","error","config","modes","options","selector","fixed_toolbar_container","skin","theme","suffix","content_style","height","branding","inline","toolbar_drawer","automatic_uploads","autosave_ask_before_unload","paste_as_text","plugins","extended_valid_elements","custom_elements","relative_urls","default_link_target","object_resizing","debounce","modesOptions","menubar","toolbar","contextmenu","standard","advanced","languages","lang2","uploadUrl","languageOptions","split","substr","indexOf","language_url","paste_enable_default_filters","paste_create_paragraphs","paste_create_linebreaks","paste_force_cleanup_wordpaste","paste_use_dialog","paste_auto_cleanup_on_paste","paste_convert_middot_lists","paste_convert_headers_to_strong","paste_remove_spans","paste_remove_styles","paste_preprocess","e","args","paste_postprocess","plugin","anchors","node","getElementsByTagName","hasAttribute","setAttribute","pasteImagesOptions","images_reuse_filename","paste_data_images","paste_filter_drop","paste_block_drop","images_upload_base_path","images_upload_handler","keys","mceTranslations","all","translations","instant","k","replace","addI18n","initOnPostRender","buttonApi","watchChange","formatter","formatChanged","state","setActive","switchModes","makeTagDetector","tagWeNeedInTheTagPath","currentElement","dom","is","getBody","contains","fieldStringWysiwyg","imgSizes","imgformats","imgs","collapsed","register","registerTinyMceFormats","loadCustomIcons","ui","registry","addSplitButton","icon","tooltip","presets","columns","onAction","_","toggleAdam","onItemAction","api","callback","type","text","linkButton","getAll","buttons","link","linkgroupItems","execCommand","openDnnDialog","linkgroupProItems","linkgroup","linkgroupPro","imageButton","image","alignleftButton","alignleft","aligncenterButton","aligncenter","alignrightButton","alignright","italicButton","italic","strikethroughButton","strikethrough","superscriptButton","superscript","subscriptButton","subscript","bullistButton","bullist","outdentButton","outdent","indentButton","indent","addButton","isGerman","tag","onSetup","blockquoteButton","blockquote","h4","ch1","ch2","ch3","cp","ch4","ch5","ch6","guid","MathHelper","uuid","toLowerCase","insertContent","onPostRender","imgMenuArray","apply","resizeimg100","items","imgSizeOption","addContextToolbar","predicate","customTinyMceIcons","anchor","contentBlock","file","fileDnn","filePdf","imageDnn","imageH1","imageH2","imageH3","imageH4","imageH5","imageH6","imageU1","imageU2","imageU3","imageU4","imageU5","imageU6","sitemap","addIcon","CHARS","len","radix","chars","join","uuidFast","Array","rnd","uuidCompact","toString","result","host","Paths","FileFilter","processResultOfDnnBridge","getUrlOfIdDnnDialog","id","FileId","urlCallback","previouslySelected","selection","adamSetValue","fileItem","modeImage","undefined","adam","adamModeImage","fileName","Name","lastIndexOf","content","FullPath","Type","imagesOnly","usePortalRoot","showImagesOnly","setAdamConfig","adamConfig","adamModeConfig","allowAssetsInRoot","autoLoad","enableSelect","folderDepth","fileFilter","metadataContentTypes","subFolder","MutationObserver","mutations","mutation","j","addedNodes","addedNode","toxMenu","containerOffsets","getBoundingClientRect","containerTop","top","containerLeft","left","containerBottom","bottom","containerRight","right","containerHeight","containerWidth","width","toxMenuOffsets","menuTop","menuLeft","menuBottom","menuRight","menuHeight","menuWidth","style","maxHeight","newBottomStyle","parseInt","newTopStyle","newLeftStyle","newRightStyle","visibility","toolbarContainer","observe","subtree","childList","previewContainer","FieldStringWysiwygPreview"],"mappings":"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","file":"wysiwyg-tinymce.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { Connector, ConnectorObservable } from './connector';\r\n\r\nexport class EavCustomInputField<T> extends HTMLElement {\r\n  connector: Connector<T>;\r\n}\r\n\r\nexport class EavCustomInputFieldObservable<T> extends EavCustomInputField<T> {\r\n  connector: ConnectorObservable<T>;\r\n}\r\n","export function buildTemplate(template: string, styles: string): string {\r\n  return `${template}<style>\\n${styles}\\n</style>`;\r\n}\r\n\r\nexport function randomIntFromInterval(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n","import { Subscription } from 'rxjs';\r\nimport { EavExperimentalInputFieldObservable } from '../shared/models';\r\nimport { buildTemplate, randomIntFromInterval } from '../shared/helpers';\r\nimport { FeaturesGuidsConstants } from '../../../shared/features-guids.constants';\r\nimport * as template from './main.html';\r\nimport * as styles from './main.css';\r\nimport { getTinyOptions, addTranslations } from './tinymce-options';\r\nimport { addTinyMceToolbarButtons } from './tinymce-toolbar';\r\nimport { attachDnnBridgeService } from './tinymce-dnnbridge-service';\r\nimport { attachAdam } from './tinymce-adam-service';\r\nimport * as skinOverrides from './oxide-skin-overrides.scss';\r\nimport * as contentStyle from './tinymce-content.css';\r\nimport { fixMenuPositions } from './fix-menu-positions-helper';\r\ndeclare const tinymce: any;\r\n\r\nclass FieldStringWysiwyg extends EavExperimentalInputFieldObservable<string> {\r\n  private containerClass: string;\r\n  private toolbarContainerClass: string;\r\n  private subscriptions: Subscription[] = [];\r\n  private editorContent: string; // saves editor content to prevent slow update when first using editor\r\n  private pasteImageFromClipboardEnabled: boolean;\r\n  private editor: any;\r\n  private firstInit: boolean;\r\n  private tinyMceBaseUrl = 'https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.1.6';\r\n  private observer: MutationObserver;\r\n\r\n  constructor() {\r\n    super();\r\n    console.log('FieldStringWysiwyg constructor called');\r\n    const instanceId = `${randomIntFromInterval(1, 1000000)}`;\r\n    this.containerClass = `tinymce-container-${instanceId}`;\r\n    this.toolbarContainerClass = `tinymce-toolbar-container-${instanceId}`;\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log('FieldStringWysiwyg connectedCallback called');\r\n    this.innerHTML = buildTemplate(template, styles + skinOverrides);\r\n    this.querySelector('.tinymce-container').classList.add(this.containerClass);\r\n    this.querySelector('.tinymce-toolbar-container').classList.add(this.toolbarContainerClass);\r\n    if (this.experimental.wysiwygSettings.inlineMode) {\r\n      this.classList.add('inline-wysiwyg');\r\n    } else {\r\n      this.classList.add('full-wysiwyg');\r\n    }\r\n\r\n    const tinyMceScriptLoaded = !!(window as any).tinymce;\r\n    if (tinyMceScriptLoaded) {\r\n      this.tinyMceScriptLoaded();\r\n    } else {\r\n      const script = document.createElement('script');\r\n      script.src = `${this.tinyMceBaseUrl}/tinymce.min.js`;\r\n      script.onload = this.tinyMceScriptLoaded.bind(this);\r\n      this.appendChild(script);\r\n    }\r\n  }\r\n\r\n  private tinyMceScriptLoaded() {\r\n    console.log('FieldStringWysiwyg tinyMceScriptLoaded called');\r\n    // enable content blocks if there is another field after this one and it's type is entity-content-blocks\r\n    const contentBlocksEnabled = (this.experimental.allInputTypeNames.length > this.connector.field.index + 1)\r\n      ? this.experimental.allInputTypeNames[this.connector.field.index + 1].inputType === 'entity-content-blocks'\r\n      : false;\r\n\r\n    const pasteFormattedTextEnabled = this.experimental.isFeatureEnabled(FeaturesGuidsConstants.PasteWithFormatting);\r\n    this.pasteImageFromClipboardEnabled = this.experimental.isFeatureEnabled(FeaturesGuidsConstants.PasteImageFromClipboard);\r\n    const dropzoneConfig = this.experimental.dropzoneConfig$.value;\r\n\r\n    const tinyOptions = getTinyOptions({\r\n      containerClass: this.containerClass,\r\n      fixedToolbarClass: this.toolbarContainerClass,\r\n      contentStyle: contentStyle,\r\n      setup: this.tinyMceSetup.bind(this),\r\n      currentLang: this.experimental.translateService.currentLang,\r\n      contentBlocksEnabled: contentBlocksEnabled,\r\n      pasteFormattedTextEnabled: pasteFormattedTextEnabled,\r\n      pasteImageFromClipboardEnabled: this.pasteImageFromClipboardEnabled,\r\n      imagesUploadUrl: dropzoneConfig.url as string,\r\n      uploadHeaders: dropzoneConfig.headers,\r\n      inlineMode: this.experimental.wysiwygSettings.inlineMode,\r\n      buttonSource: this.experimental.wysiwygSettings.buttonSource,\r\n      buttonAdvanced: this.experimental.wysiwygSettings.buttonAdvanced,\r\n    });\r\n    this.firstInit = true;\r\n    if (tinymce.baseURL !== this.tinyMceBaseUrl) { tinymce.baseURL = this.tinyMceBaseUrl; }\r\n    tinymce.init(tinyOptions);\r\n  }\r\n\r\n  private tinyMceSetup(editor: any) {\r\n    this.editor = editor;\r\n    editor.on('init', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE initialized', event);\r\n      addTinyMceToolbarButtons(this, editor, this.experimental.expand);\r\n      attachDnnBridgeService(this, editor);\r\n      attachAdam(this, editor);\r\n      addTranslations(editor.settings.language, this.experimental.translateService, editor.editorManager);\r\n      this.observer = fixMenuPositions(this);\r\n      // Shared subscriptions\r\n      this.subscriptions.push(\r\n        this.connector.data.value$.subscribe(newValue => {\r\n          if (this.editorContent === newValue) { return; }\r\n          this.editorContent = newValue;\r\n          editor.setContent(this.editorContent);\r\n        }),\r\n      );\r\n      if (!this.experimental.wysiwygSettings.inlineMode) {\r\n        setTimeout(() => { editor.focus(false); }, 100); // If not inline mode always focus on init\r\n      } else {\r\n        if (!this.firstInit) { setTimeout(() => { editor.focus(false); }, 100); } // If is inline mode skip focus on first init\r\n        // Inline only subscriptions\r\n        this.subscriptions.push(\r\n          // field type is FieldConfigAngular\r\n          (this.connector.field as any).expanded.subscribe((expanded: boolean) => {\r\n            if (!this.firstInit && !expanded) { setTimeout(() => { editor.focus(false); }, 100); }\r\n          }),\r\n        );\r\n      }\r\n      this.firstInit = false;\r\n    });\r\n\r\n    // called after tinymce editor is removed\r\n    editor.on('remove', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE removed', event);\r\n      this.subscriptions.forEach(subscription => { subscription.unsubscribe(); });\r\n      this.subscriptions = [];\r\n      this.editorContent = null;\r\n      this.observer.disconnect();\r\n      this.observer = null;\r\n    });\r\n\r\n    editor.on('focus', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE focused', event);\r\n      attachDnnBridgeService(this, editor); // spm 2019-09-23 just a workaround. Fix asap\r\n      attachAdam(this, editor); // spm 2019-09-23 just a workaround. Fix asap\r\n      if (this.pasteImageFromClipboardEnabled) {\r\n        // When tiny is in focus, let it handle image uploads by removing image types from accepted files in dropzone.\r\n        // Files will be handled by dropzone\r\n        const dzConfig = { ...this.experimental.dropzoneConfig$.value };\r\n        // tslint:disable-next-line:max-line-length\r\n        dzConfig.acceptedFiles = '.doc, .docx, .dot, .xls, .xlsx, .ppt, .pptx, .pdf, .txt, .htm, .html, .md, .rtf, .xml, .xsl, .xsd, .css, .zip, .csv';\r\n        this.experimental.dropzoneConfig$.next(dzConfig);\r\n      }\r\n      if (this.experimental.wysiwygSettings.inlineMode) {\r\n        this.experimental.setFocused(true);\r\n      }\r\n    });\r\n\r\n    editor.on('blur', (event: any) => {\r\n      console.log('FieldStringWysiwyg TinyMCE blurred', event);\r\n      if (!this.pasteImageFromClipboardEnabled) {\r\n        // Dropzone will handle image uploads again\r\n        const dzConfig = { ...this.experimental.dropzoneConfig$.value };\r\n        delete dzConfig.acceptedFiles;\r\n        this.experimental.dropzoneConfig$.next(dzConfig);\r\n      }\r\n      if (this.experimental.wysiwygSettings.inlineMode) {\r\n        this.experimental.setFocused(false);\r\n      }\r\n    });\r\n\r\n    editor.on('change', this.saveValue.bind(this));\r\n    editor.on('undo', this.saveValue.bind(this));\r\n    editor.on('redo', this.saveValue.bind(this));\r\n    this.subscriptions.push(this.connector.data.forceConnectorSave$.subscribe(this.saveValue.bind(this)));\r\n  }\r\n\r\n  private saveValue(event: any) {\r\n    this.editorContent = this.editor.getContent();\r\n    this.connector.data.update(this.editorContent);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    console.log('FieldStringWysiwyg disconnectedCallback called');\r\n    this.editor.remove();\r\n  }\r\n}\r\n\r\ncustomElements.define('field-string-wysiwyg', FieldStringWysiwyg);\r\n","import { EavCustomInputField, EavCustomInputFieldObservable } from '../../../shared/eav-custom-input-field';\r\n// tslint:disable-next-line:max-line-length\r\nimport { ExperimentalProps } from '../../../../src/app/eav-material-controls/input-types/custom/external-web-component/connector/models/custom-element-properties.model';\r\n\r\nexport class EavExperimentalInputField<T> extends EavCustomInputField<T> {\r\n  experimental: ExperimentalProps;\r\n}\r\n\r\nexport class EavExperimentalInputFieldObservable<T> extends EavCustomInputFieldObservable<T> {\r\n  experimental: ExperimentalProps;\r\n}\r\n","export const FeaturesGuidsConstants = {\r\n    PasteWithFormatting: '1b13e0e6-a346-4454-a1e6-2fb18c047d20',\r\n    PasteImageFromClipboard: 'f6b8d6da-4744-453b-9543-0de499aa2352',\r\n};\r\n","module.exports = \"<div class=\\\"tinymce-toolbar-container\\\"></div>\\r\\n<div class=\\\"tinymce-container\\\"></div>\\r\\n\"","module.exports = \"field-string-wysiwyg {\\r\\n  height: inherit;\\r\\n  min-height: inherit;\\r\\n  max-height: inherit;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.tinymce-toolbar-container {\\r\\n  flex-shrink: 0;\\r\\n}\\r\\n\\r\\n.inline-wysiwyg .tinymce-toolbar-container {\\r\\n  background-color: rgba(0, 0, 0, 0.2);\\r\\n  min-height: 39px;\\r\\n}\\r\\n\\r\\n.tinymce-container {\\r\\n  position: relative;\\r\\n  height: 100%;\\r\\n  flex-grow: 1;\\r\\n  outline: none;\\r\\n  overflow-x: hidden;\\r\\n  overflow-y: scroll;\\r\\n  background-color: #fff;\\r\\n  padding: 0 8px 1px 8px;\\r\\n  /* min-height 1px less because of padding pixel bottom */\\r\\n  min-height: 119px;\\r\\n  /* Probably not needed */\\r\\n  /*\\r\\n  position: relative;\\r\\n  border-style: solid;\\r\\n  border-width: 1px;\\r\\n  border-color: rgb(170,178,189);\\r\\n  border-radius: 4px;\\r\\n  padding-left: 0;\\r\\n  overflow: auto;\\r\\n  margin: 0;\\r\\n  border: none;\\r\\n  border-radius: 0;\\r\\n  color:rgb(69, 79, 99);\\r\\n  font-family: 'Roboto', sans-serif;\\r\\n  font-style: normal;\\r\\n  font-weight: 400; \\r\\n  */\\r\\n  font-size: medium;\\r\\n  /* IE 10+ */\\r\\n  -ms-overflow-style: none;\\r\\n  /* Firefox */\\r\\n  overflow: -moz-scrollbars-none;\\r\\n  /* Firefox */\\r\\n  scrollbar-width: none;\\r\\n}\\r\\n\\r\\n.tinymce-container::-webkit-scrollbar {\\r\\n  /* Chrome */\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.full-wysiwyg .tinymce-container {\\r\\n  -moz-box-shadow: inset 0 -10px 10px -10px #888;\\r\\n  -webkit-box-shadow: inset 0 -10px 10px -10px #888;\\r\\n  box-shadow: inset 0 -10px 10px -10px #888;\\r\\n}\\r\\n\\r\\n.full-wysiwyg .tox.tox-tinymce.tox-tinymce-inline {\\r\\n  display: flex !important;\\r\\n}\\r\\n\"","interface Config {\r\n  containerClass: string;\r\n  fixedToolbarClass: string;\r\n  contentStyle: string;\r\n  setup: (editor: any) => any;\r\n  currentLang: string;\r\n  contentBlocksEnabled: boolean;\r\n  pasteFormattedTextEnabled: boolean;\r\n  pasteImageFromClipboardEnabled: boolean;\r\n  imagesUploadUrl: string;\r\n  uploadHeaders: any;\r\n  inlineMode: boolean; // form inline mode (without expandable). Not to be confused with tinymce inline\r\n  buttonSource: string;\r\n  buttonAdvanced: string;\r\n}\r\n\r\nexport function getTinyOptions(config: Config) {\r\n  let options = {\r\n    selector: `.${config.containerClass}`,\r\n    fixed_toolbar_container: `.${config.fixedToolbarClass}`,\r\n    setup: config.setup, // callback function during setup\r\n    skin: 'oxide',\r\n    theme: 'silver',\r\n    suffix: '.min', // force minified skin, theme, plugins, etc.\r\n    // body_class: 'field-string-wysiwyg-mce-box',\r\n    content_style: config.contentStyle,\r\n    height: '100%',\r\n    branding: false,\r\n    // statusbar: true, // doesn't work in inline\r\n    inline: true, // use the div, not an iframe\r\n    toolbar_drawer: 'floating',\r\n    automatic_uploads: false, // we're using our own upload mechanism\r\n    autosave_ask_before_unload: false,\r\n    paste_as_text: true,\r\n    plugins: [\r\n      'code', // allow view / edit source\r\n      // 'contextmenu', // right-click menu for things like insert, etc. spm built into tinymce core in v5\r\n      'autolink', // automatically convert www.xxx links to real links\r\n      'tabfocus', // get in an out of the editor with tab\r\n      'image', // image button and image-settings\r\n      'link', // link button + ctrl+k to add link\r\n      // 'autosave',     // temp-backups the content in case the browser crashes, allows restore\r\n      'paste', // enables paste as text from word etc. https://www.tinymce.com/docs/plugins/paste/\r\n      'anchor', // allows users to set an anchor inside the text\r\n      'charmap', // character map https://www.tinymce.com/docs/plugins/visualchars/\r\n      'hr', // hr\r\n      'media', // video embed\r\n      'nonbreaking', // add button to insert &nbsp; https://www.tinymce.com/docs/plugins/nonbreaking/\r\n      'searchreplace', // search/replace https://www.tinymce.com/docs/plugins/searchreplace/\r\n      'table', // https://www.tinymce.com/docs/plugins/searchreplace/\r\n      'lists', // should fix bug with fonts in list-items (https://github.com/tinymce/tinymce/issues/2330),\r\n      'textpattern' // enable typing like '1. text' to create lists etc.\r\n    ],\r\n    extended_valid_elements: '@[class]' // allow classes on all elements,\r\n      + ',i' // allow i elements (allows icon-font tags like <i class='fa fa-...'>),\r\n      + ',hr[sxc|guid]', // allow inline content-blocks\r\n    custom_elements: 'hr',\r\n    // Url Rewriting in images and pages\r\n    // convert_urls: false,  // don't use this, would keep the domain which is often a test-domain\r\n    // keep urls with full path so starting with a '/' - otherwise it would rewrite them to a '../../..' syntax\r\n    relative_urls: false,\r\n    default_link_target: '_blank', // auto-use blank as default link-target\r\n    object_resizing: false, // don't allow manual scaling of images\r\n    debounce: false, // DONT slow-down model updates - otherwise we sometimes miss the last changes\r\n  };\r\n\r\n  const modesOptions = getModesOptions(config.contentBlocksEnabled, config.inlineMode, config.buttonSource, config.buttonAdvanced);\r\n  options = { ...options, ...modesOptions };\r\n\r\n  const languageOptions = getLanguageOptions(config.currentLang);\r\n  options = { ...options, ...languageOptions };\r\n\r\n  if (config.pasteFormattedTextEnabled) {\r\n    const pasteFormattedTextOptions = getPasteFormattedTextOptions();\r\n    options = { ...options, ...pasteFormattedTextOptions };\r\n  }\r\n\r\n  if (config.pasteImageFromClipboardEnabled) {\r\n    const pasteImagesOptions = getPasteImagesOptions(config.imagesUploadUrl, config.uploadHeaders);\r\n    options = { ...options, ...pasteImagesOptions };\r\n  }\r\n  return options;\r\n}\r\n\r\nfunction getModesOptions(contentBlocksEnabled: boolean, inlineMode: boolean, buttonSource: string, buttonAdvanced: string) {\r\n  const modes = {\r\n    inline: {\r\n      menubar: false,\r\n      toolbar: ' undo redo removeformat '\r\n        + '| bold formatgroup '\r\n        + '| h2 h3 hgroup '\r\n        + '| numlist listgroup '\r\n        + '| linkgroup '\r\n        + '| '\r\n        + (contentBlocksEnabled ? ' addcontentblock ' : '')\r\n        + (buttonSource === 'true' ? ' code ' : '')\r\n        + (buttonAdvanced === 'true' ? ' modeadvanced ' : '')\r\n        + ' expandfulleditor ',\r\n      contextmenu: 'charmap hr' + (contentBlocksEnabled ? ' addcontentblock' : '')\r\n    },\r\n    standard: {\r\n      menubar: false,\r\n      toolbar: ' undo redo removeformat '\r\n        + '| bold formatgroup '\r\n        + '| h2 h3 hgroup '\r\n        + '| numlist listgroup '\r\n        + '| linkfiles linkgroup '\r\n        + '| '\r\n        + (contentBlocksEnabled ? ' addcontentblock ' : '')\r\n        + (buttonSource === 'false' ? '' : ' code ')\r\n        + (buttonAdvanced === 'false' ? '' : ' modeadvanced '),\r\n      contextmenu: 'charmap hr' + (contentBlocksEnabled ? ' addcontentblock' : '')\r\n    },\r\n    advanced: {\r\n      menubar: true,\r\n      toolbar: ' undo redo removeformat '\r\n        + '| styleselect '\r\n        + '| bold italic '\r\n        + '| h2 h3 hgroup '\r\n        + '| numlist bullist outdent indent '\r\n        + '| ' + (!inlineMode ? ' images linkfiles' : '') + ' linkgrouppro '\r\n        + '| '\r\n        + (contentBlocksEnabled ? ' addcontentblock ' : '')\r\n        + ' code '\r\n        + (inlineMode ? ' modeinline expandfulleditor ' : ' modestandard '),\r\n      contextmenu: 'link image | charmap hr adamimage' + (contentBlocksEnabled ? ' addcontentblock' : '')\r\n    },\r\n  };\r\n  return {\r\n    modes: modes, // for later switch to another mode\r\n    menubar: inlineMode ? modes.inline.menubar : modes.standard.menubar, // basic menu (none)\r\n    toolbar: inlineMode ? modes.inline.toolbar : modes.standard.toolbar, // basic toolbar\r\n    contextmenu: inlineMode ? modes.inline.contextmenu : modes.standard.contextmenu, // 'link image | charmap hr adamimage',\r\n  };\r\n}\r\n\r\nfunction getLanguageOptions(currentLang: string) {\r\n  // default language\r\n  const defaultLanguage = 'en';\r\n  // translated languages\r\n  const languages = 'de,es,fr,it,uk,nl'.split(',');\r\n\r\n  // check if it's an additionally translated language and load the translations\r\n  const lang2 = currentLang.substr(0, 2); // 'de'\r\n  if (languages.indexOf(lang2) === -1) {\r\n    return {\r\n      language: defaultLanguage,\r\n    };\r\n  } else {\r\n    return {\r\n      language: lang2,\r\n      language_url: '/DesktopModules/ToSIC_SexyContent/dist/i18n/lib/tinymce/' + lang2 + '.js',\r\n    };\r\n  }\r\n}\r\n\r\n/** Paste formatted text, e.g. text copied from MS Word */\r\nfunction getPasteFormattedTextOptions() {\r\n  return {\r\n    paste_as_text: false,\r\n    paste_enable_default_filters: true,\r\n    paste_create_paragraphs: true,\r\n    paste_create_linebreaks: false,\r\n    paste_force_cleanup_wordpaste: true,\r\n    paste_use_dialog: true,\r\n    paste_auto_cleanup_on_paste: true,\r\n    paste_convert_middot_lists: true,\r\n    paste_convert_headers_to_strong: false,\r\n    paste_remove_spans: true,\r\n    paste_remove_styles: true,\r\n\r\n    paste_preprocess: function (e: any, args: any) {\r\n      console.log('paste preprocess', e, args);\r\n    },\r\n\r\n    paste_postprocess: function (plugin: any, args: any) {\r\n      try {\r\n        const anchors = args.node.getElementsByTagName('a');\r\n        for (let i = 0; i < anchors.length; i++) {\r\n          if (anchors[i].hasAttribute('target') === false) {\r\n            anchors[i].setAttribute('target', '_blank');\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('error in paste postprocess - will only log but not throw', e);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n/** Paste image */\r\nfunction getPasteImagesOptions(uploadUrl: string, headers: any) {\r\n  return {\r\n    automatic_uploads: true,\r\n    images_reuse_filename: true,\r\n    paste_data_images: true,\r\n    paste_filter_drop: false,\r\n    paste_block_drop: false,\r\n    images_upload_url: uploadUrl,\r\n    images_upload_base_path: '/images_upload_base_path/',\r\n    images_upload_handler: imagesUploadHandler,\r\n    upload_headers: headers,\r\n  };\r\n}\r\n\r\nfunction imagesUploadHandler(blobInfo: any, success: (imgPath: string) => any, failure: () => any) {\r\n  const formData = new FormData();\r\n  formData.append('file', blobInfo.blob(), blobInfo.filename());\r\n\r\n  const settings = (window as any).tinymce.activeEditor.settings;\r\n  console.log('TinyMCE upload settings', settings);\r\n\r\n  fetch(settings.images_upload_url, {\r\n    method: 'POST',\r\n    // mode: 'cors',\r\n    headers: settings.upload_headers,\r\n    body: formData,\r\n  }).then(response =>\r\n    response.json()\r\n  ).then(data => {\r\n    console.log('TinyMCE upload data', data);\r\n    success(data.Path);\r\n  }).catch(error => {\r\n    console.log('TinyMCE upload error:', error);\r\n  });\r\n\r\n}\r\n\r\n/** Add translations to TinyMCE. Call after TinyMCE is initialized */\r\nexport function addTranslations(language: string, translateService: any, editorManager: any) {\r\n  const primaryLan = 'en';\r\n  const keys = [], mceTranslations: any = {}, prefix = 'Extension.TinyMce', prefixDot = 'Extension.TinyMce.'; //  pLen = prefix.length;\r\n\r\n  // find all relevant keys by querying the primary language\r\n  // var all = translateService.getTranslationTable(primaryLan);\r\n  const all = translateService.translations[primaryLan];\r\n  for (const key in all) {\r\n    if (key.indexOf(prefix) === 0) {\r\n      keys.push(key);\r\n    }\r\n  }\r\n\r\n  const translations = translateService.instant(keys);\r\n\r\n  for (let k = 0; k < keys.length; k++) {\r\n    mceTranslations[keys[k].replace(prefixDot, '')] = translations[keys[k]];\r\n  }\r\n\r\n  editorManager.addI18n(language, translations[keys[0]]);\r\n}\r\n","import { loadCustomIcons } from './load-icons-helper';\r\nimport { MathHelper } from './math-helper';\r\n\r\nexport function addTinyMceToolbarButtons(fieldStringWysiwyg: any, editor: any, expand: (expand: boolean) => void) {\r\n  const imgSizes = [100, 75, 70, 66, 60, 50, 40, 33, 30, 25, 10];\r\n  registerTinyMceFormats(editor, imgSizes);\r\n  loadCustomIcons(editor);\r\n\r\n  // Group with adam-link, dnn-link\r\n  editor.ui.registry.addSplitButton('linkfiles', {\r\n    icon: 'custom-file-pdf',\r\n    tooltip: 'Link.AdamFile.Tooltip',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onAction: (_: any) => {\r\n      fieldStringWysiwyg.toggleAdam(false);\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Link.AdamFile.Tooltip',\r\n          tooltip: 'Link.AdamFile.Tooltip',\r\n          icon: 'custom-file-pdf',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(false); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Link.DnnFile.Tooltip',\r\n          tooltip: 'Link.DnnFile.Tooltip',\r\n          icon: 'custom-file-dnn',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(false, true); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Link group with web-link, page-link, unlink, anchor\r\n  const linkButton = editor.ui.registry.getAll().buttons.link;\r\n  const linkgroupItems = [\r\n    {\r\n      ...linkButton,\r\n      type: 'choiceitem',\r\n      text: linkButton.tooltip,\r\n      value: (api: any) => { editor.execCommand('mceLink'); },\r\n    },\r\n    {\r\n      type: 'choiceitem',\r\n      text: 'Link.Page.Tooltip',\r\n      tooltip: 'Link.Page.Tooltip',\r\n      icon: 'custom-sitemap',\r\n      value: (api: any) => { fieldStringWysiwyg.openDnnDialog('pagepicker'); },\r\n    },\r\n  ];\r\n  const linkgroupProItems = [...linkgroupItems];\r\n  linkgroupProItems.push({\r\n    type: 'choiceitem',\r\n    text: 'Link.Anchor.Tooltip',\r\n    tooltip: 'Link.Anchor.Tooltip',\r\n    icon: 'custom-anchor',\r\n    value: (api: any) => { editor.execCommand('mceAnchor'); },\r\n  });\r\n  const linkgroup = {\r\n    ...linkButton,\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      callback(linkgroupItems);\r\n    },\r\n  };\r\n  const linkgroupPro = { ...linkgroup };\r\n  linkgroupPro.fetch = (callback: any) => {\r\n    callback(linkgroupProItems);\r\n  };\r\n  editor.ui.registry.addSplitButton('linkgroup', linkgroup);\r\n  editor.ui.registry.addSplitButton('linkgrouppro', linkgroupPro);\r\n\r\n  const imageButton = editor.ui.registry.getAll().buttons.image;\r\n  const alignleftButton = editor.ui.registry.getAll().buttons.alignleft;\r\n  const aligncenterButton = editor.ui.registry.getAll().buttons.aligncenter;\r\n  const alignrightButton = editor.ui.registry.getAll().buttons.alignright;\r\n  // Group with images (adam) - only in PRO mode\r\n  editor.ui.registry.addSplitButton('images', {\r\n    ...imageButton,\r\n    tooltip: 'Image.AdamImage.Tooltip',\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onAction: (_: any) => {\r\n      fieldStringWysiwyg.toggleAdam(true);\r\n    },\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          ...imageButton,\r\n          type: 'choiceitem',\r\n          text: 'Image.AdamImage.Tooltip',\r\n          tooltip: 'Image.AdamImage.Tooltip',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(true); },\r\n        },\r\n        {\r\n          type: 'choiceitem',\r\n          text: 'Image.DnnImage.Tooltip',\r\n          tooltip: 'Image.DnnImage.Tooltip',\r\n          icon: 'custom-image-dnn',\r\n          value: (api: any) => { fieldStringWysiwyg.toggleAdam(true, true); },\r\n        },\r\n        // note: all these use i18n from tinyMce standard\r\n        {\r\n          ...imageButton,\r\n          type: 'choiceitem',\r\n          text: imageButton.tooltip,\r\n          icon: 'link',\r\n          value: (api: any) => { editor.execCommand('mceImage'); },\r\n        },\r\n        {\r\n          ...alignleftButton,\r\n          type: 'choiceitem',\r\n          text: alignleftButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('JustifyLeft'); },\r\n        },\r\n        {\r\n          ...aligncenterButton,\r\n          type: 'choiceitem',\r\n          text: aligncenterButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('JustifyCenter'); },\r\n        },\r\n        {\r\n          ...alignrightButton,\r\n          type: 'choiceitem',\r\n          text: alignrightButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('JustifyRight'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  const italicButton = editor.ui.registry.getAll().buttons.italic;\r\n  const strikethroughButton = editor.ui.registry.getAll().buttons.strikethrough;\r\n  const superscriptButton = editor.ui.registry.getAll().buttons.superscript;\r\n  const subscriptButton = editor.ui.registry.getAll().buttons.subscript;\r\n  // Drop-down with italic, strikethrough, ...\r\n  editor.ui.registry.addSplitButton('formatgroup', {\r\n    ...italicButton,\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          ...strikethroughButton,\r\n          type: 'choiceitem',\r\n          text: strikethroughButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('Strikethrough'); },\r\n        },\r\n        {\r\n          ...superscriptButton,\r\n          type: 'choiceitem',\r\n          text: superscriptButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('Superscript'); },\r\n        },\r\n        {\r\n          ...subscriptButton,\r\n          type: 'choiceitem',\r\n          text: subscriptButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('Subscript'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  const bullistButton = editor.ui.registry.getAll().buttons.bullist;\r\n  const outdentButton = editor.ui.registry.getAll().buttons.outdent;\r\n  const indentButton = editor.ui.registry.getAll().buttons.indent;\r\n  // Drop-down with numbered list, bullet list, ...\r\n  editor.ui.registry.addSplitButton('listgroup', {\r\n    ...bullistButton,\r\n    presets: 'listpreview',\r\n    columns: 3,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          ...outdentButton,\r\n          type: 'choiceitem',\r\n          text: outdentButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('Outdent'); },\r\n        },\r\n        {\r\n          ...indentButton,\r\n          type: 'choiceitem',\r\n          text: indentButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('Indent'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Switch normal / advanced mode\r\n  editor.ui.registry.addButton('modestandard', {\r\n    icon: 'close',\r\n    tooltip: 'SwitchMode.Standard',\r\n    onAction: (_: any) => {\r\n      switchModes('standard', editor);\r\n    },\r\n  });\r\n\r\n  editor.ui.registry.addButton('modeinline', {\r\n    icon: 'close',\r\n    tooltip: 'SwitchMode.Standard',\r\n    onAction: (_: any) => {\r\n      switchModes('inline', editor);\r\n    },\r\n  });\r\n\r\n  editor.ui.registry.addButton('modeadvanced', {\r\n    icon: 'custom-school',\r\n    tooltip: 'SwitchMode.Pro',\r\n    onAction: (_: any) => {\r\n      switchModes('advanced', editor);\r\n    },\r\n  });\r\n\r\n  editor.ui.registry.addButton('expandfulleditor', {\r\n    icon: 'browse',\r\n    tooltip: 'SwitchMode.Expand',\r\n    onAction: (_: any) => {\r\n      expand(true);\r\n    },\r\n  });\r\n\r\n  // h1, h2, etc. buttons, inspired by http://blog.ionelmc.ro/2013/10/17/tinymce-formatting-toolbar-buttons/\r\n  // note that the complex array is needed because auto-translate only happens if the string is identical\r\n  /*\r\n    custom p, H1-H6 only for the toolbar listpreview menu\r\n    [name, buttonCommand, tooltip, text, icon]\r\n  */\r\n  const isGerman = editor.settings.language === 'de';\r\n  [['pre', 'Preformatted', 'Preformatted'],\r\n  ['cp', 'p', 'Paragraph', 'Paragraph', 'custom-paragraph'],\r\n  // ['code', 'Code', 'Code'],\r\n  ['ch1', 'h1', 'Heading 1', 'H1', isGerman ? 'custom-image-u1' : 'custom-image-h1'],\r\n  ['ch2', 'h2', 'Heading 2', 'H2', isGerman ? 'custom-image-u2' : 'custom-image-h2'],\r\n  ['ch3', 'h3', 'Heading 3', 'H3', isGerman ? 'custom-image-u3' : 'custom-image-h3'],\r\n  ['ch4', 'h4', 'Heading 4', 'H4', isGerman ? 'custom-image-u4' : 'custom-image-h4'],\r\n  ['ch5', 'h5', 'Heading 5', 'H5', isGerman ? 'custom-image-u5' : 'custom-image-h5'],\r\n  ['ch6', 'h6', 'Heading 6', 'H6', isGerman ? 'custom-image-u6' : 'custom-image-h6']].forEach((tag) => {\r\n    editor.ui.registry.addButton(tag[0], {\r\n      icon: tag[4],\r\n      tooltip: tag[2],\r\n      text: tag[2],\r\n      onAction: (_: any) => {\r\n        editor.execCommand('mceToggleFormat', false, tag[1]);\r\n      },\r\n      onSetup: initOnPostRender(tag[0], editor),\r\n    });\r\n  });\r\n\r\n  console.log('buttons:', editor.ui.registry.getAll());\r\n  // Group of buttons with an h3 to start and showing h4-6 + p\r\n  const blockquoteButton = editor.ui.registry.getAll().buttons.blockquote;\r\n  editor.ui.registry.addSplitButton('hgroup', {\r\n    ...editor.ui.registry.getAll().buttons.h4,\r\n    presets: 'listpreview',\r\n    columns: 4,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items = [\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch1,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h1'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch2,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h2'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch3,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h3'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.cp,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'p'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch4,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h4'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch5,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h5'); },\r\n        },\r\n        {\r\n          ...editor.ui.registry.getAll().buttons.ch6,\r\n          type: 'choiceitem',\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'h6'); },\r\n        },\r\n        {\r\n          ...blockquoteButton,\r\n          type: 'choiceitem',\r\n          text: blockquoteButton.tooltip,\r\n          value: (api: any) => { editor.execCommand('mceToggleFormat', false, 'blockquote'); },\r\n        },\r\n      ];\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Inside content (contentblocks)\r\n  editor.ui.registry.addButton('addcontentblock', {\r\n    icon: 'custom-content-block',\r\n    tooltip: 'ContentBlock.Add',\r\n    onAction: (_: any) => {\r\n      const guid = MathHelper.uuid().toLowerCase(); // requires the uuid-generator to be included\r\n      editor.insertContent(`<hr sxc=\"sxc-content-block\" guid=\"${guid}\" />`); // spm guid generation might be broken\r\n    },\r\n  });\r\n\r\n  // Image alignment / size buttons in context menu\r\n  editor.ui.registry.addButton('alignimgleft', {\r\n    icon: 'align-left',\r\n    tooltip: 'Align left',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyLeft');\r\n    },\r\n    onPostRender: initOnPostRender('alignleft', editor),\r\n  });\r\n  editor.ui.registry.addButton('alignimgcenter', {\r\n    icon: 'align-center',\r\n    tooltip: 'Align center',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyCenter');\r\n    },\r\n    onPostRender: initOnPostRender('aligncenter', editor),\r\n  });\r\n  editor.ui.registry.addButton('alignimgright', {\r\n    icon: 'align-right',\r\n    tooltip: 'Align right',\r\n    onAction: (_: any) => {\r\n      editor.execCommand('JustifyRight');\r\n    },\r\n    onPostRender: initOnPostRender('alignright', editor),\r\n  });\r\n\r\n  const imgMenuArray: any = [];\r\n  for (let imgs = 0; imgs < imgSizes.length; imgs++) {\r\n    const config = {\r\n      icon: 'resize',\r\n      tooltip: `${imgSizes[imgs]}%`,\r\n      text: `${imgSizes[imgs]}%`,\r\n      value: (api: any) => { editor.formatter.apply(`imgwidth${imgSizes[imgs]}`); },\r\n      onAction: (_: any) => {\r\n        editor.formatter.apply(`imgwidth${imgSizes[imgs]}`);\r\n      },\r\n      onPostRender: initOnPostRender(`imgwidth${imgSizes[imgs]}`, editor),\r\n    };\r\n    editor.ui.registry.addButton(`imgresize${imgSizes[imgs]}`, config);\r\n    imgMenuArray.push(config);\r\n  }\r\n  editor.ui.registry.addButton('resizeimg100', {\r\n    icon: 'resize',\r\n    tooltip: '100%',\r\n    onAction: (_: any) => {\r\n      editor.formatter.apply('imgwidth100');\r\n    },\r\n    onPostRender: initOnPostRender('imgwidth100', editor),\r\n  });\r\n\r\n  // group of buttons to resize an image 100%, 50%, etc.\r\n  editor.ui.registry.addSplitButton('imgresponsive', {\r\n    ...editor.ui.registry.getAll().buttons.resizeimg100,\r\n    onItemAction: (api: any, value: any) => {\r\n      value(api);\r\n    },\r\n    fetch: (callback: any) => {\r\n      const items: any = [];\r\n      imgMenuArray.forEach((imgSizeOption: any) => {\r\n        items.push({\r\n          ...imgSizeOption,\r\n          type: 'choiceitem',\r\n        });\r\n      });\r\n      callback(items);\r\n    },\r\n  });\r\n\r\n  // Context toolbars\r\n  editor.ui.registry.addContextToolbar('a', {\r\n    predicate: makeTagDetector('a', editor),\r\n    items: 'link unlink',\r\n  });\r\n  editor.ui.registry.addContextToolbar('img', {\r\n    predicate: makeTagDetector('img', editor),\r\n    items: 'image | alignimgleft alignimgcenter alignimgright imgresponsive | removeformat | remove',\r\n  });\r\n  editor.ui.registry.addContextToolbar('li,ol,ul', {\r\n    predicate: makeTagDetector('li,ol,ul', editor),\r\n    items: 'numlist bullist | outdent indent',\r\n  });\r\n}\r\n\r\n/**\r\n * Helper function to add activate/deactivate to buttons like alignleft, alignright etc.\r\n * copied/modified from\r\n * https://github.com/tinymce/tinymce/blob/ddfa0366fc700334f67b2c57f8c6e290abf0b222/js/tinymce/classes/ui/FormatControls.js#L232-L249\r\n */\r\nfunction initOnPostRender(name: any, editor: any) {\r\n  return function (buttonApi: any) {\r\n    function watchChange() {\r\n      editor.formatter.formatChanged(name, function (state: any) {\r\n        try {\r\n          buttonApi.setActive(state);\r\n        } catch (error) {\r\n          // cannot be set active when not visible on toolbar and is behing More... button\r\n          // console.error('button set active error:', error);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (editor.formatter) {\r\n      watchChange();\r\n    } else {\r\n      editor.on('init', watchChange);\r\n    }\r\n  };\r\n}\r\n\r\n/** Register all formats - like img-sizes */\r\nfunction registerTinyMceFormats(editor: any, imgSizes: number[]) {\r\n  const imgformats: any = {};\r\n  for (let imgs = 0; imgs < imgSizes.length; imgs++) {\r\n    imgformats[`imgwidth${imgSizes[imgs]}`] = [{ selector: 'img', collapsed: false, styles: { 'width': `${imgSizes[imgs]}%` } }];\r\n  }\r\n  editor.formatter.register(imgformats);\r\n}\r\n\r\n// Mode switching and the buttons for it\r\nfunction switchModes(mode: any, editor: any) {\r\n  editor.settings.toolbar = editor.settings.modes[mode].toolbar;\r\n  editor.settings.menubar = editor.settings.modes[mode].menubar;\r\n\r\n  // refresh editor toolbar\r\n  editor.editorManager.remove(editor);\r\n  editor.editorManager.init(editor.settings);\r\n}\r\n\r\n// My context toolbars for links, images and lists (ul/li)\r\nfunction makeTagDetector(tagWeNeedInTheTagPath: any, editor: any) {\r\n  return function tagDetector(currentElement: any) {\r\n    // check if we are in a tag within a specific tag\r\n    const selectorMatched = editor.dom.is(currentElement, tagWeNeedInTheTagPath) && editor.getBody().contains(currentElement);\r\n    return selectorMatched;\r\n  };\r\n}\r\n","// 2sxc icons\r\nimport * as contentBlock from '../../../../src/icons/2sxc/content-block.svg';\r\nimport * as fileDnn from '../../../../src/icons/2sxc/file-dnn.svg';\r\nimport * as imageDnn from '../../../../src/icons/2sxc/image-dnn.svg';\r\nimport * as imageH1 from '../../../../src/icons/2sxc/H1.svg';\r\nimport * as imageH2 from '../../../../src/icons/2sxc/H2.svg';\r\nimport * as imageH3 from '../../../../src/icons/2sxc/H3.svg';\r\nimport * as imageH4 from '../../../../src/icons/2sxc/H4.svg';\r\nimport * as imageH5 from '../../../../src/icons/2sxc/H5.svg';\r\nimport * as imageH6 from '../../../../src/icons/2sxc/H6.svg';\r\nimport * as imageU1 from '../../../../src/icons/2sxc/U1.svg';\r\nimport * as imageU2 from '../../../../src/icons/2sxc/U2.svg';\r\nimport * as imageU3 from '../../../../src/icons/2sxc/U3.svg';\r\nimport * as imageU4 from '../../../../src/icons/2sxc/U4.svg';\r\nimport * as imageU5 from '../../../../src/icons/2sxc/U5.svg';\r\nimport * as imageU6 from '../../../../src/icons/2sxc/U6.svg';\r\n// font-awesome icons\r\nimport * as anchor from '../../../../src/icons/font-awesome/anchor.svg';\r\nimport * as file from '../../../../src/icons/font-awesome/file.svg';\r\nimport * as filePdf from '../../../../src/icons/font-awesome/file-pdf.svg';\r\nimport * as sitemap from '../../../../src/icons/font-awesome/sitemap.svg';\r\n// google material icons\r\nimport * as school from '../../../../src/icons/google-material/baseline-school-24px.svg';\r\n// tinymce icons\r\nimport * as paragraph from '../../../../src/icons/tinymce/paragraph.svg';\r\n\r\nconst customTinyMceIcons: any = {\r\n  'custom-anchor': anchor,\r\n  'custom-content-block': contentBlock,\r\n  'custom-file': file,\r\n  'custom-file-dnn': fileDnn,\r\n  'custom-file-pdf': filePdf,\r\n  'custom-image-dnn': imageDnn,\r\n  'custom-image-h1': imageH1,\r\n  'custom-image-h2': imageH2,\r\n  'custom-image-h3': imageH3,\r\n  'custom-image-h4': imageH4,\r\n  'custom-image-h5': imageH5,\r\n  'custom-image-h6': imageH6,\r\n  'custom-image-u1': imageU1,\r\n  'custom-image-u2': imageU2,\r\n  'custom-image-u3': imageU3,\r\n  'custom-image-u4': imageU4,\r\n  'custom-image-u5': imageU5,\r\n  'custom-image-u6': imageU6,\r\n  'custom-school': school,\r\n  'custom-sitemap': sitemap,\r\n  'custom-paragraph': paragraph,\r\n};\r\n\r\nexport function loadCustomIcons(editor: any) {\r\n  Object.keys(customTinyMceIcons).forEach(key => {\r\n    if (!customTinyMceIcons.hasOwnProperty(key)) { return; }\r\n\r\n    editor.ui.registry.addIcon(\r\n      key,\r\n      customTinyMceIcons[key]\r\n    );\r\n  });\r\n}\r\n","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 20.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\r\\n\\t viewBox=\\\"0 0 64 64\\\" style=\\\"enable-background:new 0 0 64 64;\\\" xml:space=\\\"preserve\\\">\\r\\n<path d=\\\"M20.9,0C9.3,0,0,9.6,0,21.1V64h43.9C55.4,64,64,53.7,64,42.1V0H20.9z M50,37.5C50,44,45.9,50,39.4,50H14V25.7\\r\\n\\tC14,19.2,19.1,14,25.6,14H50V37.5z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20.45 24\\\"><g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\"><g id=\\\"Layer_1-2\\\" data-name=\\\"Layer 1\\\"><path d=\\\"M9.08,13.82l.78-.71A6.24,6.24,0,0,1,9,11.5a6.18,6.18,0,0,0,.3-3,1.09,1.09,0,0,0-2.1-.3,8.2,8.2,0,0,0,.4,3.6c-.6,1.3-1.4,3.1-2,4.2-1,.5-2.5,1.4-2.8,2.5a.82.82,0,0,0,.29.8l.85-.77A6.52,6.52,0,0,1,5.6,16.7c-.22.34-.42.62-.6.86l2.05-1.88,0,0a16,16,0,0,0,1.3-3A11.51,11.51,0,0,0,9.08,13.82ZM8.4,8.2c.4,0,.4,1.8.1,2.2C8.2,9.7,8.2,8.2,8.4,8.2Z\\\"/><path d=\\\"M1.5,21.8V2.3a.68.68,0,0,1,.7-.7h8.2V6.5a1.11,1.11,0,0,0,1.1,1.1h4.9v5.18l1.5,1.35V6.2a2.27,2.27,0,0,0-.6-1.6L13.4.7A2.36,2.36,0,0,0,11.8,0H2.2A2.24,2.24,0,0,0,0,2.3V21.8A2.22,2.22,0,0,0,2.2,24H6.9V22.5H2.2A.68.68,0,0,1,1.5,21.8ZM11.9,1.5c.1,0,.2.1.3.2l4,4c.1.1.2.2.2.3H11.9Z\\\"/><polygon points=\\\"13.35 12 6.25 18.4 8.45 18.4 8.45 24 11.95 24 11.95 19.8 14.75 19.8 14.75 24 18.25 24 18.25 18.4 20.45 18.4 13.35 12\\\"/></g></g></svg>\\r\\n\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24.17 24.17\\\"><defs><style>.cls-1{fill:none;}</style></defs><g id=\\\"Layer_2\\\" data-name=\\\"Layer 2\\\"><g id=\\\"Layer_1-2\\\" data-name=\\\"Layer 1\\\"><rect class=\\\"cls-1\\\" width=\\\"24.17\\\" height=\\\"24.17\\\"/><polygon points=\\\"16.54 9.16 9.44 15.56 11.63 15.56 11.63 21.16 15.13 21.16 15.13 16.96 17.93 16.96 17.93 21.16 21.43 21.16 21.43 15.56 23.64 15.56 16.54 9.16\\\"/><path d=\\\"M8,19.08H5.08V18l4.86-4.87-.53-.53a.75.75,0,0,0-1.06,0L5.08,15.82V5.08h14v4.2l2,1.85v-7a1,1,0,0,0-1-1h-16a1,1,0,0,0-1,1v16a1,1,0,0,0,1,1h6V17h0Z\\\"/><circle cx=\\\"10.08\\\" cy=\\\"9.08\\\" r=\\\"2\\\"/></g></g></svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M3 18.9375V6.05273H4.70508V11.3438H11.4023V6.05273H13.1074V18.9375H11.4023V12.8643H4.70508V18.9375H3Z\\\"/>\\r\\n<path d=\\\"M21.2725 18.9375H19.6904V8.85645C19.3096 9.21973 18.8086 9.58301 18.1875 9.94629C17.5723 10.3096 17.0186 10.582 16.5264 10.7637V9.23438C17.4111 8.81836 18.1846 8.31445 18.8467 7.72266C19.5088 7.13086 19.9775 6.55664 20.2529 6H21.2725V18.9375Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M3 17.5V6.04688H4.51562V10.75H10.4688V6.04688H11.9844V17.5H10.4688V12.1016H4.51562V17.5H3Z\\\"/>\\r\\n<path d=\\\"M21.3359 16.1484V17.5H13.7656C13.7552 17.1615 13.8099 16.8359 13.9297 16.5234C14.1224 16.0078 14.4297 15.5 14.8516 15C15.2786 14.5 15.8932 13.9219 16.6953 13.2656C17.9401 12.2448 18.7812 11.4375 19.2188 10.8438C19.6562 10.2448 19.875 9.67969 19.875 9.14844C19.875 8.59115 19.6745 8.1224 19.2734 7.74219C18.8776 7.35677 18.3594 7.16406 17.7188 7.16406C17.0417 7.16406 16.5 7.36719 16.0938 7.77344C15.6875 8.17969 15.4818 8.74219 15.4766 9.46094L14.0312 9.3125C14.1302 8.23438 14.5026 7.41406 15.1484 6.85156C15.7943 6.28385 16.6615 6 17.75 6C18.849 6 19.7188 6.30469 20.3594 6.91406C21 7.52344 21.3203 8.27865 21.3203 9.17969C21.3203 9.63802 21.2266 10.0885 21.0391 10.5312C20.8516 10.974 20.5391 11.4401 20.1016 11.9297C19.6693 12.4193 18.9479 13.0911 17.9375 13.9453C17.0938 14.6536 16.5521 15.1354 16.3125 15.3906C16.0729 15.6406 15.875 15.8932 15.7188 16.1484H21.3359Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M3 17.7812V7.04395H4.4209V11.4531H10.002V7.04395H11.4229V17.7812H10.002V12.7202H4.4209V17.7812H3Z\\\"/>\\r\\n<path d=\\\"M13.2686 14.9468L14.5869 14.771C14.7383 15.5181 14.9946 16.0576 15.356 16.3896C15.7222 16.7168 16.1665 16.8804 16.689 16.8804C17.3091 16.8804 17.8315 16.6655 18.2563 16.2358C18.686 15.8062 18.9009 15.2739 18.9009 14.6392C18.9009 14.0337 18.7031 13.5356 18.3076 13.145C17.9121 12.7495 17.4092 12.5518 16.7988 12.5518C16.5498 12.5518 16.2397 12.6006 15.8687 12.6982L16.0151 11.541C16.103 11.5508 16.1738 11.5557 16.2275 11.5557C16.7891 11.5557 17.2944 11.4092 17.7437 11.1162C18.1929 10.8232 18.4175 10.3716 18.4175 9.76123C18.4175 9.27783 18.2539 8.87744 17.9268 8.56006C17.5996 8.24268 17.1772 8.08398 16.6597 8.08398C16.147 8.08398 15.7197 8.24512 15.3779 8.56738C15.0361 8.88965 14.8164 9.37305 14.7188 10.0176L13.4004 9.7832C13.5615 8.89941 13.9277 8.21582 14.499 7.73242C15.0703 7.24414 15.7808 7 16.6304 7C17.2163 7 17.7559 7.12695 18.249 7.38086C18.7422 7.62988 19.1182 7.97168 19.377 8.40625C19.6406 8.84082 19.7725 9.30225 19.7725 9.79053C19.7725 10.2544 19.6479 10.6768 19.3989 11.0576C19.1499 11.4385 18.7812 11.7412 18.293 11.9658C18.9277 12.1123 19.4209 12.4175 19.7725 12.8813C20.124 13.3403 20.2998 13.9165 20.2998 14.6099C20.2998 15.5474 19.958 16.3433 19.2744 16.9976C18.5908 17.647 17.7266 17.9717 16.6816 17.9717C15.7393 17.9717 14.9556 17.6909 14.3306 17.1294C13.7104 16.5679 13.3564 15.8403 13.2686 14.9468Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M4 17.0215V7H5.32617V11.1152H10.5352V7H11.8613V17.0215H10.5352V12.2979H5.32617V17.0215H4Z\\\"/>\\r\\n<path d=\\\"M17.5215 17.0215V14.6221H13.1738V13.4941L17.7471 7H18.752V13.4941H20.1055V14.6221H18.752V17.0215H17.5215ZM17.5215 13.4941V8.97559L14.3838 13.4941H17.5215Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M4 16.3057V7H5.23145V10.8213H10.0684V7H11.2998V16.3057H10.0684V11.9194H5.23145V16.3057H4Z\\\"/>\\r\\n<path d=\\\"M12.8931 13.8682L14.0928 13.7666C14.1816 14.3506 14.3869 14.7907 14.7085 15.0869C15.0343 15.3789 15.4258 15.5249 15.8828 15.5249C16.4329 15.5249 16.8984 15.3175 17.2793 14.9028C17.6602 14.4881 17.8506 13.938 17.8506 13.2524C17.8506 12.6007 17.6665 12.0866 17.2983 11.71C16.9344 11.3333 16.4562 11.145 15.8638 11.145C15.4956 11.145 15.1634 11.2297 14.8672 11.3989C14.571 11.564 14.3382 11.7798 14.1689 12.0464L13.0962 11.9067L13.9976 7.12695H18.625V8.21875H14.9116L14.4102 10.7197C14.9688 10.3304 15.5549 10.1357 16.1685 10.1357C16.981 10.1357 17.6665 10.4172 18.2251 10.98C18.7837 11.5428 19.063 12.2664 19.063 13.1509C19.063 13.993 18.8175 14.7209 18.3267 15.3345C17.73 16.0877 16.9154 16.4644 15.8828 16.4644C15.0365 16.4644 14.3446 16.2274 13.8071 15.7534C13.2739 15.2795 12.9692 14.651 12.8931 13.8682Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M5 16.625V8.03516H6.13672V11.5625H10.6016V8.03516H11.7383V16.625H10.6016V12.5762H6.13672V16.625H5Z\\\"/>\\r\\n<path d=\\\"M18.6816 10.1387L17.6328 10.2207C17.5391 9.80664 17.4062 9.50586 17.2344 9.31836C16.9492 9.01758 16.5977 8.86719 16.1797 8.86719C15.8438 8.86719 15.5488 8.96094 15.2949 9.14844C14.9629 9.39062 14.7012 9.74414 14.5098 10.209C14.3184 10.6738 14.2188 11.3359 14.2109 12.1953C14.4648 11.8086 14.7754 11.5215 15.1426 11.334C15.5098 11.1465 15.8945 11.0527 16.2969 11.0527C17 11.0527 17.5977 11.3125 18.0898 11.832C18.5859 12.3477 18.834 13.0156 18.834 13.8359C18.834 14.375 18.7168 14.877 18.4824 15.3418C18.252 15.8027 17.9336 16.1562 17.5273 16.4023C17.1211 16.6484 16.6602 16.7715 16.1445 16.7715C15.2656 16.7715 14.5488 16.4492 13.9941 15.8047C13.4395 15.1562 13.1621 14.0898 13.1621 12.6055C13.1621 10.9453 13.4688 9.73828 14.082 8.98438C14.6172 8.32812 15.3379 8 16.2441 8C16.9199 8 17.4727 8.18945 17.9023 8.56836C18.3359 8.94727 18.5957 9.4707 18.6816 10.1387ZM14.375 13.8418C14.375 14.2051 14.4512 14.5527 14.6035 14.8848C14.7598 15.2168 14.9766 15.4707 15.2539 15.6465C15.5312 15.8184 15.8223 15.9043 16.127 15.9043C16.5723 15.9043 16.9551 15.7246 17.2754 15.3652C17.5957 15.0059 17.7559 14.5176 17.7559 13.9004C17.7559 13.3066 17.5977 12.8398 17.2812 12.5C16.9648 12.1562 16.5664 11.9844 16.0859 11.9844C15.6094 11.9844 15.2051 12.1562 14.873 12.5C14.541 12.8398 14.375 13.2871 14.375 13.8418Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M10.4287 5.59277H12.1338V13.0371C12.1338 14.332 11.9873 15.3604 11.6943 16.1221C11.4014 16.8838 10.8711 17.5049 10.1035 17.9854C9.3418 18.46 8.33984 18.6973 7.09766 18.6973C5.89062 18.6973 4.90332 18.4893 4.13574 18.0732C3.36816 17.6572 2.82031 17.0566 2.49219 16.2715C2.16406 15.4805 2 14.4023 2 13.0371V5.59277H3.70508V13.0283C3.70508 14.1475 3.80762 14.9736 4.0127 15.5068C4.22363 16.0342 4.58105 16.4414 5.08496 16.7285C5.59473 17.0156 6.21582 17.1592 6.94824 17.1592C8.20215 17.1592 9.0957 16.875 9.62891 16.3066C10.1621 15.7383 10.4287 14.6455 10.4287 13.0283V5.59277ZM4.5752 4.80176V3H6.22754V4.80176H4.5752ZM7.85352 4.80176V3H9.50586V4.80176H7.85352Z\\\"/>\\r\\n<path d=\\\"M20.2988 18.4775H18.7168V8.39648C18.3359 8.75977 17.835 9.12305 17.2139 9.48633C16.5986 9.84961 16.0449 10.1221 15.5527 10.3037V8.77441C16.4375 8.3584 17.2109 7.85449 17.873 7.2627C18.5352 6.6709 19.0039 6.09668 19.2793 5.54004H20.2988V18.4775Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M10.4922 6.30469H12.0078V12.9219C12.0078 14.0729 11.8776 14.987 11.6172 15.6641C11.3568 16.3411 10.8854 16.8932 10.2031 17.3203C9.52604 17.7422 8.63542 17.9531 7.53125 17.9531C6.45833 17.9531 5.58073 17.7682 4.89844 17.3984C4.21615 17.0286 3.72917 16.4948 3.4375 15.7969C3.14583 15.0938 3 14.1354 3 12.9219V6.30469H4.51562V12.9141C4.51562 13.9089 4.60677 14.6432 4.78906 15.1172C4.97656 15.5859 5.29427 15.9479 5.74219 16.2031C6.19531 16.4583 6.7474 16.5859 7.39844 16.5859C8.51302 16.5859 9.30729 16.3333 9.78125 15.8281C10.2552 15.3229 10.4922 14.3516 10.4922 12.9141V6.30469ZM5.28906 5.60156V4H6.75781V5.60156H5.28906ZM8.20312 5.60156V4H9.67188V5.60156H8.20312Z\\\"/>\\r\\n<path d=\\\"M21.3594 16.4062V17.7578H13.7891C13.7786 17.4193 13.8333 17.0938 13.9531 16.7812C14.1458 16.2656 14.4531 15.7578 14.875 15.2578C15.3021 14.7578 15.9167 14.1797 16.7188 13.5234C17.9635 12.5026 18.8047 11.6953 19.2422 11.1016C19.6797 10.5026 19.8984 9.9375 19.8984 9.40625C19.8984 8.84896 19.6979 8.38021 19.2969 8C18.901 7.61458 18.3828 7.42188 17.7422 7.42188C17.0651 7.42188 16.5234 7.625 16.1172 8.03125C15.7109 8.4375 15.5052 9 15.5 9.71875L14.0547 9.57031C14.1536 8.49219 14.526 7.67188 15.1719 7.10938C15.8177 6.54167 16.6849 6.25781 17.7734 6.25781C18.8724 6.25781 19.7422 6.5625 20.3828 7.17188C21.0234 7.78125 21.3438 8.53646 21.3438 9.4375C21.3438 9.89583 21.25 10.3464 21.0625 10.7891C20.875 11.2318 20.5625 11.6979 20.125 12.1875C19.6927 12.6771 18.9714 13.349 17.9609 14.2031C17.1172 14.9115 16.5755 15.3932 16.3359 15.6484C16.0964 15.8984 15.8984 16.151 15.7422 16.4062H21.3594Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M11.0239 6.16064H12.4448V12.3643C12.4448 13.4434 12.3228 14.3003 12.0786 14.9351C11.8345 15.5698 11.3926 16.0874 10.7529 16.4878C10.1182 16.8833 9.2832 17.0811 8.24805 17.0811C7.24219 17.0811 6.41943 16.9077 5.77979 16.561C5.14014 16.2144 4.68359 15.7139 4.41016 15.0596C4.13672 14.4004 4 13.502 4 12.3643V6.16064H5.4209V12.3569C5.4209 13.2896 5.50635 13.978 5.67725 14.4224C5.85303 14.8618 6.15088 15.2012 6.5708 15.4404C6.99561 15.6797 7.51318 15.7993 8.12354 15.7993C9.16846 15.7993 9.91309 15.5625 10.3574 15.0889C10.8018 14.6152 11.0239 13.7046 11.0239 12.3569V6.16064ZM6.146 5.50146V4H7.52295V5.50146H6.146ZM8.87793 5.50146V4H10.2549V5.50146H8.87793Z\\\"/>\\r\\n<path d=\\\"M14.2905 14.0635L15.6089 13.8877C15.7603 14.6348 16.0166 15.1743 16.3779 15.5063C16.7441 15.8335 17.1885 15.9971 17.7109 15.9971C18.3311 15.9971 18.8535 15.7822 19.2783 15.3525C19.708 14.9229 19.9229 14.3906 19.9229 13.7559C19.9229 13.1504 19.7251 12.6523 19.3296 12.2617C18.9341 11.8662 18.4312 11.6685 17.8208 11.6685C17.5718 11.6685 17.2617 11.7173 16.8906 11.8149L17.0371 10.6577C17.125 10.6675 17.1958 10.6724 17.2495 10.6724C17.811 10.6724 18.3164 10.5259 18.7656 10.2329C19.2148 9.93994 19.4395 9.48828 19.4395 8.87793C19.4395 8.39453 19.2759 7.99414 18.9487 7.67676C18.6216 7.35938 18.1992 7.20068 17.6816 7.20068C17.1689 7.20068 16.7417 7.36182 16.3999 7.68408C16.0581 8.00635 15.8384 8.48975 15.7407 9.13428L14.4224 8.8999C14.5835 8.01611 14.9497 7.33252 15.521 6.84912C16.0923 6.36084 16.8027 6.1167 17.6523 6.1167C18.2383 6.1167 18.7778 6.24365 19.271 6.49756C19.7642 6.74658 20.1401 7.08838 20.3989 7.52295C20.6626 7.95752 20.7944 8.41895 20.7944 8.90723C20.7944 9.37109 20.6699 9.79346 20.4209 10.1743C20.1719 10.5552 19.8032 10.8579 19.3149 11.0825C19.9497 11.229 20.4429 11.5342 20.7944 11.998C21.146 12.457 21.3218 13.0332 21.3218 13.7266C21.3218 14.6641 20.98 15.46 20.2964 16.1143C19.6128 16.7637 18.7485 17.0884 17.7036 17.0884C16.7612 17.0884 15.9775 16.8076 15.3525 16.2461C14.7324 15.6846 14.3784 14.957 14.2905 14.0635Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M10.5557 7.0166H11.8818V12.8066C11.8818 13.8138 11.7679 14.6136 11.54 15.2061C11.3122 15.7985 10.8997 16.2816 10.3027 16.6553C9.71029 17.0244 8.93099 17.209 7.96484 17.209C7.02604 17.209 6.25814 17.0472 5.66113 16.7236C5.06413 16.4001 4.63802 15.9329 4.38281 15.3223C4.1276 14.707 4 13.8685 4 12.8066V7.0166H5.32617V12.7998C5.32617 13.6702 5.40592 14.3128 5.56543 14.7275C5.72949 15.1377 6.00749 15.4544 6.39941 15.6777C6.7959 15.901 7.27897 16.0127 7.84863 16.0127C8.82389 16.0127 9.51888 15.7917 9.93359 15.3496C10.3483 14.9076 10.5557 14.0576 10.5557 12.7998V7.0166ZM6.00293 6.40137V5H7.28809V6.40137H6.00293ZM8.55273 6.40137V5H9.83789V6.40137H8.55273Z\\\"/>\\r\\n<path d=\\\"M17.542 17.0381V14.6387H13.1943V13.5107L17.7676 7.0166H18.7725V13.5107H20.126V14.6387H18.7725V17.0381H17.542ZM17.542 13.5107V8.99219L14.4043 13.5107H17.542Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M11.0874 7.87256H12.3188V13.249C12.3188 14.1842 12.2131 14.9269 12.0015 15.4771C11.7899 16.0272 11.4069 16.4757 10.8525 16.8228C10.3024 17.1655 9.57878 17.3369 8.68164 17.3369C7.8099 17.3369 7.09684 17.1867 6.54248 16.8862C5.98812 16.5858 5.59245 16.152 5.35547 15.585C5.11849 15.0137 5 14.235 5 13.249V7.87256H6.23145V13.2427C6.23145 14.0509 6.3055 14.6476 6.45361 15.0327C6.60596 15.4136 6.8641 15.7077 7.22803 15.915C7.59619 16.1224 8.04476 16.2261 8.57373 16.2261C9.47933 16.2261 10.1247 16.0208 10.5098 15.6104C10.8949 15.1999 11.0874 14.4106 11.0874 13.2427V7.87256ZM6.85986 7.30127V6H8.05322V7.30127H6.85986ZM9.22754 7.30127V6H10.4209V7.30127H9.22754Z\\\"/>\\r\\n<path d=\\\"M13.9121 14.7407L15.1118 14.6392C15.2007 15.2231 15.4059 15.6632 15.7275 15.9595C16.0534 16.2515 16.4448 16.3975 16.9019 16.3975C17.452 16.3975 17.9175 16.1901 18.2983 15.7754C18.6792 15.3607 18.8696 14.8105 18.8696 14.125C18.8696 13.4733 18.6855 12.9591 18.3174 12.5825C17.9535 12.2059 17.4753 12.0176 16.8828 12.0176C16.5146 12.0176 16.1825 12.1022 15.8862 12.2715C15.59 12.4365 15.3573 12.6523 15.188 12.9189L14.1152 12.7793L15.0166 7.99951H19.644V9.09131H15.9307L15.4292 11.5923C15.9878 11.203 16.5739 11.0083 17.1875 11.0083C18 11.0083 18.6855 11.2897 19.2441 11.8525C19.8027 12.4154 20.082 13.139 20.082 14.0234C20.082 14.8656 19.8366 15.5934 19.3457 16.207C18.749 16.9603 17.9344 17.3369 16.9019 17.3369C16.0555 17.3369 15.3636 17.0999 14.8262 16.626C14.293 16.152 13.9883 15.5236 13.9121 14.7407Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n<path d=\\\"M10.6191 7.72852H11.7559V12.6914C11.7559 13.5547 11.6582 14.2402 11.4629 14.748C11.2676 15.2559 10.9141 15.6699 10.4023 15.9902C9.89453 16.3066 9.22656 16.4648 8.39844 16.4648C7.59375 16.4648 6.93555 16.3262 6.42383 16.0488C5.91211 15.7715 5.54688 15.3711 5.32812 14.8477C5.10938 14.3203 5 13.6016 5 12.6914V7.72852H6.13672V12.6855C6.13672 13.4316 6.20508 13.9824 6.3418 14.3379C6.48242 14.6895 6.7207 14.9609 7.05664 15.1523C7.39648 15.3438 7.81055 15.4395 8.29883 15.4395C9.13477 15.4395 9.73047 15.25 10.0859 14.8711C10.4414 14.4922 10.6191 13.7637 10.6191 12.6855V7.72852ZM6.7168 7.20117V6H7.81836V7.20117H6.7168ZM8.90234 7.20117V6H10.0039V7.20117H8.90234Z\\\"/>\\r\\n<path d=\\\"M18.6992 9.83203L17.6504 9.91406C17.5566 9.5 17.4238 9.19922 17.252 9.01172C16.9668 8.71094 16.6152 8.56055 16.1973 8.56055C15.8613 8.56055 15.5664 8.6543 15.3125 8.8418C14.9805 9.08398 14.7188 9.4375 14.5273 9.90234C14.3359 10.3672 14.2363 11.0293 14.2285 11.8887C14.4824 11.502 14.793 11.2148 15.1602 11.0273C15.5273 10.8398 15.9121 10.7461 16.3145 10.7461C17.0176 10.7461 17.6152 11.0059 18.1074 11.5254C18.6035 12.041 18.8516 12.709 18.8516 13.5293C18.8516 14.0684 18.7344 14.5703 18.5 15.0352C18.2695 15.4961 17.9512 15.8496 17.5449 16.0957C17.1387 16.3418 16.6777 16.4648 16.1621 16.4648C15.2832 16.4648 14.5664 16.1426 14.0117 15.498C13.457 14.8496 13.1797 13.7832 13.1797 12.2988C13.1797 10.6387 13.4863 9.43164 14.0996 8.67773C14.6348 8.02148 15.3555 7.69336 16.2617 7.69336C16.9375 7.69336 17.4902 7.88281 17.9199 8.26172C18.3535 8.64062 18.6133 9.16406 18.6992 9.83203ZM14.3926 13.5352C14.3926 13.8984 14.4688 14.2461 14.6211 14.5781C14.7773 14.9102 14.9941 15.1641 15.2715 15.3398C15.5488 15.5117 15.8398 15.5977 16.1445 15.5977C16.5898 15.5977 16.9727 15.418 17.293 15.0586C17.6133 14.6992 17.7734 14.2109 17.7734 13.5938C17.7734 13 17.6152 12.5332 17.2988 12.1934C16.9824 11.8496 16.584 11.6777 16.1035 11.6777C15.627 11.6777 15.2227 11.8496 14.8906 12.1934C14.5586 12.5332 14.3926 12.9805 14.3926 13.5352Z\\\"/>\\r\\n</svg>\\r\\n\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><path d=\\\"M504.485 264.485c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.029c-7.56 7.56-2.206 20.485 8.485 20.485h49.129C461.111 420.749 390.501 473.6 304 479.452V192h52c6.627 0 12-5.373 12-12v-8c0-6.627-5.373-12-12-12h-52v-34.016c28.513-7.339 49.336-33.833 47.933-64.947-1.48-32.811-28.101-59.458-60.911-60.967C254.302-1.619 224 27.652 224 64c0 29.821 20.396 54.879 48 61.984V160h-52c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h52v287.452C185.498 473.6 114.888 420.749 97.901 352h49.129c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.03c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.03C-3.074 339.074 2.28 352 12.971 352h52.136C83.963 448.392 182.863 512 288 512c110.901 0 204.938-68.213 222.893-160h52.136c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.03zM256 64c0-17.645 14.355-32 32-32s32 14.355 32 32-14.355 32-32 32-32-14.355-32-32zM61.255 320L80 301.255 98.745 320h-37.49zm416 0L496 301.255 514.745 320h-37.49z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><path d=\\\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><path d=\\\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 640 512\\\"><path d=\\\"M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z\\\"/></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><path d=\\\"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z\\\"/></svg>\"","module.exports = \"<svg width=\\\"24\\\" height=\\\"24\\\"><path d=\\\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z\\\" fill-rule=\\\"evenodd\\\"></path></svg>\\r\\n\"","/*!\r\nMath.uuid.js (v1.4)\r\nhttp://www.broofa.com\r\nmailto:robert@broofa.com\r\nCopyright (c) 2010 Robert Kieffer\r\nDual licensed under the MIT and GPL licenses.\r\n*/\r\n\r\n/*\r\n * Generate a random uuid.\r\n *\r\n * USAGE: Math.uuid(length, radix)\r\n *   length - the desired number of characters\r\n *   radix  - the number of allowable values for each character.\r\n *\r\n * EXAMPLES:\r\n *   // No arguments  - returns RFC4122, version 4 ID\r\n *   >>> Math.uuid()\r\n *   \"92329D39-6F5C-4520-ABFC-AAB64544E172\"\r\n *\r\n *   // One argument - returns ID of the specified length\r\n *   >>> Math.uuid(15)     // 15 character ID (default base=62)\r\n *   \"VcydxgltxrVZSTV\"\r\n *\r\n *   // Two arguments - returns ID of the specified length, and radix. (Radix must be <= 62)\r\n *   >>> Math.uuid(8, 2)  // 8 character ID (base=2)\r\n *   \"01001010\"\r\n *   >>> Math.uuid(8, 10) // 8 character ID (base=10)\r\n *   \"47473046\"\r\n *   >>> Math.uuid(8, 16) // 8 character ID (base=16)\r\n *   \"098F4D35\"\r\n */\r\nexport class MathHelper {\r\n    // Private array of chars to use\r\n    private static CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n\r\n    public static uuid = function (len?: any, radix?: any) {\r\n        // tslint:disable\r\n        var chars = MathHelper.CHARS, uuid = [], i;\r\n        radix = radix || chars.length;\r\n\r\n        if (len) {\r\n            // Compact form\r\n            for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];\r\n        } else {\r\n            // rfc4122, version 4 form\r\n            var r;\r\n\r\n            // rfc4122 requires these characters\r\n            uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n            uuid[14] = '4';\r\n\r\n            // Fill in random data.  At i==19 set the high bits of clock sequence as\r\n            // per rfc4122, sec. 4.1.5\r\n            for (i = 0; i < 36; i++) {\r\n                if (!uuid[i]) {\r\n                    r = 0 | Math.random() * 16;\r\n                    uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\r\n                }\r\n            }\r\n        }\r\n\r\n        return uuid.join('');\r\n        // tslint:enable\r\n    };\r\n\r\n    // A more performant, but slightly bulkier, RFC4122v4 solution.  We boost performance\r\n    // by minimizing calls to random()\r\n    public static uuidFast = function () {\r\n        // tslint:disable\r\n        var chars = MathHelper.CHARS, uuid = new Array(36), rnd = 0, r;\r\n        for (var i = 0; i < 36; i++) {\r\n            if (i == 8 || i == 13 || i == 18 || i == 23) {\r\n                uuid[i] = '-';\r\n            } else if (i == 14) {\r\n                uuid[i] = '4';\r\n            } else {\r\n                if (rnd <= 0x02) rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\r\n                r = rnd & 0xf;\r\n                rnd = rnd >> 4;\r\n                uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\r\n            }\r\n        }\r\n        return uuid.join('');\r\n        // tslint:enable\r\n    };\r\n\r\n    // A more compact, but less performant, RFC4122v4 solution:\r\n    public static uuidCompact = function () {\r\n        // tslint:disable\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n        // tslint:enable\r\n    };\r\n}\r\n","export function attachDnnBridgeService(fieldStringWysiwyg: any, editor: any) {\r\n  let result: any = {};\r\n  // open the dialog - note: strong dependency on the buttons, not perfect here\r\n  fieldStringWysiwyg.openDnnDialog = (type: any) => {\r\n    fieldStringWysiwyg.host.openDnnDialog('', { Paths: null, FileFilter: null }, fieldStringWysiwyg.processResultOfDnnBridge);\r\n  };\r\n\r\n  // the callback when something was selected\r\n  fieldStringWysiwyg.processResultOfDnnBridge = (value: any) => {\r\n    result = value;\r\n    if (!value) { return; }\r\n    fieldStringWysiwyg.host.getUrlOfIdDnnDialog('page:' + (value.id || value.FileId), fieldStringWysiwyg.urlCallback);\r\n  };\r\n\r\n  fieldStringWysiwyg.urlCallback = (data: any) => {\r\n    const previouslySelected = editor.selection.getContent();\r\n    editor.insertContent('<a href=\\\"' + data + '\\\" target=\\\"_blank\\\">' + (previouslySelected || result.name) + '</a>');\r\n  };\r\n}\r\n","export function attachAdam(fieldStringWysiwyg: any, editor: any) {\r\n  const adamSetValue = (fileItem: any, modeImage: any) => {\r\n    if (modeImage === undefined) {  // if not supplied, use the setting in the adam\r\n      modeImage = fieldStringWysiwyg.adam.adamModeImage;\r\n    }\r\n\r\n    const fileName = fileItem.Name.substr(0, fileItem.Name.lastIndexOf('.'));\r\n\r\n    const content = modeImage\r\n      ? '<img src=\"' + fileItem.FullPath + '\" + alt=\"' + fileName + '\">'\r\n      : '<a href=\"' + fileItem.FullPath + '\">' + fileName + '</a>';\r\n\r\n    editor.insertContent(content);\r\n  };\r\n\r\n  const adamAfterUpload = (fileItem: any) => {\r\n    adamSetValue(fileItem, fileItem.Type === 'image');\r\n  };\r\n\r\n  fieldStringWysiwyg.adam = fieldStringWysiwyg.host.attachAdam(adamSetValue, adamAfterUpload);\r\n\r\n  fieldStringWysiwyg.toggleAdam = (imagesOnly: any, usePortalRoot: any) => {\r\n    fieldStringWysiwyg.adam.adamModeImage = imagesOnly;\r\n    fieldStringWysiwyg.adam.toggleAdam({\r\n      showImagesOnly: imagesOnly,\r\n      usePortalRoot: usePortalRoot\r\n    });\r\n  };\r\n\r\n  fieldStringWysiwyg.setAdamConfig = (adamConfig: any) => {\r\n    fieldStringWysiwyg.adam.setAdamConfig(adamConfig);\r\n  };\r\n\r\n  fieldStringWysiwyg.setAdamConfig({ // default adam config\r\n    adamModeConfig: { usePortalRoot: false },\r\n    allowAssetsInRoot: true,\r\n    autoLoad: false,\r\n    enableSelect: true,\r\n    folderDepth: 0,\r\n    fileFilter: '',\r\n    metadataContentTypes: '',\r\n    subFolder: '',\r\n    showImagesOnly: false, // adamModeImage?\r\n  });\r\n}\r\n","module.exports = \"/**\\n  Overrides TinyMCE 5 oxide skin colors.\\n  Values are copied from skin css and overriden with !important.\\n  Default values are left in the comments\\n  and custom selectors and properties are pointed out.\\n*/\\n.tox {\\n  color: #222f3e;\\n}\\n\\n.tox-tinymce {\\n  border: none !important;\\n}\\n\\n.tox-tinymce-inline .tox-editor-header {\\n  border: none;\\n  box-shadow: none;\\n}\\n\\n.tox-tiered-menu .tox-menu.tox-collection {\\n  width: max-content;\\n  white-space: nowrap;\\n  visibility: hidden;\\n}\\n\\n.tox .accessibility-issue__description {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .accessibility-issue__description > :last-child:not(:only-child) {\\n  border-color: #ccc;\\n}\\n\\n.tox .accessibility-issue--info .accessibility-issue__description {\\n  background-color: rgba(32, 122, 183, 0.1);\\n  border-color: rgba(32, 122, 183, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--info .accessibility-issue__description > :last-child {\\n  border-color: rgba(32, 122, 183, 0.4);\\n}\\n\\n.tox .accessibility-issue--info h2 {\\n  color: #207ab7;\\n}\\n\\n.tox .accessibility-issue--info .tox-icon svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .accessibility-issue--info a .tox-icon {\\n  color: #207ab7;\\n}\\n\\n.tox .accessibility-issue--warn .accessibility-issue__description {\\n  background-color: rgba(255, 165, 0, 0.1);\\n  border-color: rgba(255, 165, 0, 0.5);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--warn .accessibility-issue__description > :last-child {\\n  border-color: rgba(255, 165, 0, 0.5);\\n}\\n\\n.tox .accessibility-issue--warn h2 {\\n  color: #cc8500;\\n}\\n\\n.tox .accessibility-issue--warn .tox-icon svg {\\n  fill: #cc8500;\\n}\\n\\n.tox .accessibility-issue--warn a .tox-icon {\\n  color: #cc8500;\\n}\\n\\n.tox .accessibility-issue--error .accessibility-issue__description {\\n  background-color: rgba(204, 0, 0, 0.1);\\n  border-color: rgba(204, 0, 0, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--error .accessibility-issue__description > :last-child {\\n  border-color: rgba(204, 0, 0, 0.4);\\n}\\n\\n.tox .accessibility-issue--error h2 {\\n  color: #c00;\\n}\\n\\n.tox .accessibility-issue--error .tox-icon svg {\\n  fill: #c00;\\n}\\n\\n.tox .accessibility-issue--error a .tox-icon {\\n  color: #c00;\\n}\\n\\n.tox .accessibility-issue--success .accessibility-issue__description {\\n  background-color: rgba(120, 171, 70, 0.1);\\n  border-color: rgba(120, 171, 70, 0.4);\\n  color: #222f3e;\\n}\\n\\n.tox .accessibility-issue--success .accessibility-issue__description > :last-child {\\n  border-color: rgba(120, 171, 70, 0.4);\\n}\\n\\n.tox .accessibility-issue--success h2 {\\n  color: #78ab46;\\n}\\n\\n.tox .accessibility-issue--success .tox-icon svg {\\n  fill: #78ab46;\\n}\\n\\n.tox .accessibility-issue--success a .tox-icon {\\n  color: #78ab46;\\n}\\n\\n.tox .tox-button {\\n  background-color: #207ab7;\\n  border-color: #207ab7;\\n  color: #fff;\\n}\\n\\n.tox .tox-button[disabled] {\\n  background-color: #207ab7;\\n  border-color: #207ab7;\\n  color: rgba(255, 255, 255, 0.5);\\n}\\n\\n.tox .tox-button:focus:not(:disabled) {\\n  background-color: #1c6ca1;\\n  border-color: #1c6ca1;\\n  color: #fff;\\n}\\n\\n.tox .tox-button:hover:not(:disabled) {\\n  background-color: #1c6ca1;\\n  border-color: #1c6ca1;\\n  color: #fff;\\n}\\n\\n.tox .tox-button:active:not(:disabled) {\\n  background-color: #185d8c;\\n  border-color: #185d8c;\\n  color: #fff;\\n}\\n\\n.tox .tox-button--secondary {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-button--secondary:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--secondary:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-button--naked:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-button--naked.tox-button--icon:hover:not(:disabled) {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.3);\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: #207ab7;\\n}\\n\\n.tox .tox-checkbox--disabled {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox input.tox-checkbox__input:focus + .tox-checkbox__icons {\\n  box-shadow: inset 0 0 0 1px #207ab7;\\n}\\n\\n.tox .tox-collection--list .tox-collection__group {\\n  border-color: #ccc;\\n}\\n\\n.tox .tox-collection__group-heading {\\n  background-color: #e6e6e6;\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-collection__item {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-collection--list .tox-collection__item--enabled {\\n  color: contrast(inherit, #222f3e, #fff);\\n}\\n\\n.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled):not(.tox-swatch) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--toolbar .tox-collection__item--enabled {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--grid .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-collection__item--state-disabled {\\n  color: rgba(34, 47, 62, 0.5) !important;\\n}\\n\\n.tox .tox-collection__item-icon svg:not([width]):not([height]) {\\n  width: auto !important;\\n  height: 24px !important;\\n}\\n\\n.tox .tox-collection__item-label > :first-child {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-collection__item-accessory {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-collection__item-caret {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-sv-palette-thumb {\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-sv-palette-inner-thumb {\\n  border: 1px solid #fff;\\n}\\n\\n.tox .tox-hue-slider-spectrum {\\n  background: linear-gradient(to bottom, red, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, red);\\n}\\n\\n.tox .tox-hue-slider-thumb {\\n  background: #fff;\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-rgb-form input.tox-invalid {\\n  border: 1px solid red !important;\\n}\\n\\n.tox .tox-rgb-form .tox-rgba-preview {\\n  border: 1px solid #000;\\n}\\n\\n.tox .tox-swatch:focus,\\n.tox .tox-swatch:hover {\\n  box-shadow: 0 0 0 1px rgba(127, 127, 127, 0.3) inset;\\n}\\n\\n.tox .tox-swatch--remove svg path {\\n  stroke: #e74c3c;\\n}\\n\\n.tox .tox-swatches__picker-btn:hover {\\n  background: #dee0e2;\\n}\\n\\n.tox .tox-comment-thread {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment {\\n  background: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n}\\n\\n.tox .tox-comment__header {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__date {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-comment__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__expander p {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-comment-thread__overlay::after {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment__gradient::after {\\n  background: linear-gradient(rgba(255, 255, 255, 0), #fff);\\n}\\n\\n.tox .tox-comment__overlay {\\n  background: #fff;\\n}\\n\\n.tox .tox-comment__loading-text {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__overlaytext p {\\n  background-color: #fff;\\n  box-shadow: 0 0 8px 8px #fff;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-comment__busy-spinner {\\n  background-color: #fff;\\n}\\n\\n.tox .tox-user__avatar svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-user__name {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-dialog-wrap__backdrop {\\n  background-color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-dialog {\\n  background-color: #fff;\\n  border-color: #ccc;\\n  box-shadow: 0 16px 16px -10px rgba(34, 47, 62, 0.15), 0 0 40px 1px rgba(34, 47, 62, 0.15);\\n}\\n\\n.tox .tox-dialog__header {\\n  background-color: #fff;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-dialog__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-dialog__body-nav-item {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-dialog__body-nav-item--active {\\n  border-bottom: 2px solid #207ab7;\\n  color: #207ab7;\\n}\\n\\n.tox .tox-dialog__body-content a {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-dialog__body-content a:focus,\\n.tox .tox-dialog__body-content a:hover {\\n  color: #185d8c;\\n}\\n\\n.tox .tox-dialog__body-content a:active {\\n  color: #185d8c;\\n}\\n\\n.tox .tox-dialog__footer {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-dialog__busy-spinner {\\n  background-color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-dialog__table tbody tr {\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n.tox .tox-dropzone {\\n  background: #fff;\\n  border: 2px dashed #ccc;\\n}\\n\\n.tox .tox-dropzone p {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-edit-area {\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-edit-area__iframe {\\n  background-color: #fff;\\n}\\n\\n.tox.tox-inline-edit-area {\\n  border: 1px dotted #ccc;\\n}\\n\\n.tox .tox-control-wrap__status-icon-invalid svg {\\n  fill: #c00;\\n}\\n\\n.tox .tox-control-wrap__status-icon-unknown svg {\\n  fill: orange;\\n}\\n\\n.tox .tox-control-wrap__status-icon-valid svg {\\n  fill: green;\\n}\\n\\n.tox .tox-color-input span {\\n  border-color: rgba(34, 47, 62, 0.2);\\n}\\n\\n.tox .tox-color-input span:focus {\\n  border-color: #207ab7;\\n}\\n\\n.tox .tox-label,\\n.tox .tox-toolbar-label {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-form__group--error {\\n  color: #c00;\\n}\\n\\n.tox .tox-selectfield select,\\n.tox .tox-textarea,\\n.tox .tox-textfield,\\n.tox .tox-toolbar-textfield {\\n  background-color: #fff;\\n  border-color: #ccc;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-textarea[disabled],\\n.tox .tox-textfield[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n}\\n\\n.tox .tox-selectfield select:focus,\\n.tox .tox-textarea:focus,\\n.tox .tox-textfield:focus {\\n  border-color: #207ab7;\\n}\\n\\n.tox .tox-naked-btn {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-naked-btn svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-selectfield select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n}\\n\\n.tox .tox-image-tools__image {\\n  background-color: #666;\\n}\\n\\n.tox .tox-croprect-block {\\n  background: #000;\\n}\\n\\n.tox .tox-croprect-handle {\\n  border: 2px solid #fff;\\n}\\n\\n.tox .tox-insert-table-picker > div {\\n  border-color: #ccc;\\n}\\n\\n.tox .tox-insert-table-picker .tox-insert-table-picker__selected {\\n  background-color: #fff !important;\\n  border-color: rgba(32, 122, 183, 0.5);\\n}\\n\\n.tox .tox-insert-table-picker__label {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-menu {\\n  background-color: #0087f4 !important;\\n  border: 1px solid rgba(34, 47, 62, 0.5) !important;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n}\\n\\n.tox .tox-menubar {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='43px' viewBox='0 0 40 43px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='42px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #0087f4 !important;\\n}\\n\\n.tox .tox-mbtn {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-mbtn[disabled] {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-mbtn:hover:not(:disabled) {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-mbtn:focus:not(:disabled) {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-mbtn--active {\\n  background: #0074f1 !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-notification {\\n  background-color: #fffaea;\\n  border-color: #ffe89d;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-notification a {\\n  color: #207ab7;\\n}\\n\\n.tox .tox-notification--success {\\n  background-color: #dff0d8;\\n  border-color: #d6e9c6;\\n}\\n\\n.tox .tox-notification--success a {\\n  color: #486d2a;\\n}\\n\\n.tox .tox-notification--error {\\n  background-color: #f2dede;\\n  border-color: #ebccd1;\\n}\\n\\n.tox .tox-notification--error a {\\n  color: #843441;\\n}\\n\\n.tox .tox-notification--warn {\\n  background-color: #fcf8e3;\\n  border-color: #faebcc;\\n}\\n\\n.tox .tox-notification--info {\\n  background-color: #d9edf7;\\n  border-color: #779ecb;\\n}\\n\\n.tox .tox-notification__body {\\n  color: #222f3e;\\n}\\n\\n.tox .tox-pop__dialog {\\n  background-color: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n}\\n\\n.tox .tox-pop.tox-pop--bottom::after {\\n  border-color: #fff transparent transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--bottom::before {\\n  border-color: #ccc transparent transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--top::after {\\n  border-color: transparent transparent #fff transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--top::before {\\n  border-color: transparent transparent #ccc transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--left::after {\\n  border-color: transparent #fff transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--left::before {\\n  border-color: transparent #ccc transparent transparent;\\n}\\n\\n.tox .tox-pop.tox-pop--right::after {\\n  border-color: transparent transparent transparent #fff;\\n}\\n\\n.tox .tox-pop.tox-pop--right::before {\\n  border-color: transparent transparent transparent #ccc;\\n}\\n\\n.tox .tox-sidebar {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n}\\n\\n.tox .tox-slider__rail {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-slider__handle {\\n  background-color: #207ab7;\\n  border: 2px solid #185d8c;\\n}\\n\\n.tox .tox-spinner > div {\\n  background-color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar {\\n  background-color: #fff;\\n  border-top: 1px solid #ccc;\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar a,\\n.tox .tox-statusbar__path-item,\\n.tox .tox-statusbar__wordcount {\\n  color: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-statusbar__resize-handle svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n\\n.tox .tox-throbber__busy-spinner {\\n  background-color: rgba(255, 255, 255, 0.6);\\n}\\n\\n.tox .tox-tbtn {\\n  color: #fff !important;\\n}\\n\\n.tox .tox-tbtn svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-tbtn--enabled {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn--enabled svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:hover {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:hover svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:focus {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:focus svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn:active {\\n  background: #0074f1 !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-tbtn:active svg {\\n  fill: #222f3e;\\n}\\n\\n.tox .tox-tbtn--disabled,\\n.tox .tox-tbtn--disabled:hover,\\n.tox .tox-tbtn:disabled,\\n.tox .tox-tbtn:disabled:hover {\\n  color: rgba(34, 47, 62, 0.5) !important;\\n  background-color: initial !important;\\n}\\n\\n.tox .tox-tbtn--disabled svg,\\n.tox .tox-tbtn--disabled:hover svg,\\n.tox .tox-tbtn:disabled svg,\\n.tox .tox-tbtn:disabled:hover svg {\\n  fill: rgba(34, 47, 62, 0.5) !important;\\n}\\n\\n.tox .tox-tbtn__select-chevron svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-tbtn__icon-wrap svg:not([width]):not([height]) {\\n  width: 24px !important;\\n  height: 24px !important;\\n}\\n\\n.tox .tox-split-button:hover {\\n  box-shadow: 0 0 0 1px #006aef inset !important;\\n}\\n\\n.tox .tox-split-button:focus {\\n  background: #006aef !important;\\n  color: #222f3e;\\n}\\n\\n.tox .tox-split-button__chevron svg {\\n  fill: #fff !important;\\n}\\n\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,\\n.tox .tox-split-button.tox-tbtn--disabled:focus,\\n.tox .tox-split-button.tox-tbtn--disabled:hover {\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n\\n.tox .tox-toolbar,\\n.tox .tox-toolbar__overflow,\\n.tox .tox-toolbar__primary {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #0087f4 !important;\\n}\\n\\n.tox.tox-tinymce-aux .tox-toolbar__overflow {\\n  background-color: #fff;\\n  border: 1px solid #ccc;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n  top: 0 !important;\\n  right: 0 !important;\\n  max-height: none !important;\\n}\\n\\n.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type) {\\n  border-right: 1px solid #ccc;\\n}\\n\\n.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type) {\\n  border-left: 1px solid #ccc;\\n}\\n\\n.tox .tox-tooltip__body {\\n  background-color: #222f3e;\\n  box-shadow: 0 2px 4px rgba(34, 47, 62, 0.3);\\n  color: rgba(255, 255, 255, 0.75);\\n}\\n\\n.tox .tox-tooltip--down .tox-tooltip__arrow {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  border-top: 8px solid #222f3e;\\n}\\n\\n.tox .tox-tooltip--up .tox-tooltip__arrow {\\n  border-bottom: 8px solid #222f3e;\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n}\\n\\n.tox .tox-tooltip--right .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-left: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n}\\n\\n.tox .tox-tooltip--left .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-right: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n}\\n\\n.tox .tox-well {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-custom-editor {\\n  border: 1px solid #ccc;\\n}\\n\\n.tox .tox-dialog-loading::before {\\n  background-color: rgba(0, 0, 0, 0.5);\\n}\"","module.exports = \"/* Probably not needed */\\r\\n/* .mce-i-apple:before {\\r\\n  position: relative;\\r\\n  top: 1px;\\r\\n  display: inline-block;\\r\\n  font-family: 'Glyphicons Halflings';\\r\\n  font-style: normal;\\r\\n  font-weight: normal;\\r\\n  line-height: 1;\\r\\n\\r\\n  -webkit-font-smoothing: antialiased;\\r\\n  -moz-osx-font-smoothing: grayscale;\\r\\n\\r\\n  content:\\\"\\\\f179\\\"\\r\\n} */\\r\\n\\r\\n/* content block */\\r\\nhr[sxc] {\\r\\n  background-color: #B0DCFF;\\r\\n  height: 75px;\\r\\n}\\r\\n\\r\\nhr[sxc]::after {\\r\\n  color: white;\\r\\n  content: \\\"App / Content\\\";\\r\\n  position: absolute;\\r\\n  text-align: center;\\r\\n  font-size: 25px;\\r\\n  display: inline-block;\\r\\n  width: calc(100% - 2px); /* 2px because of the border */\\r\\n  margin-top: 17px;\\r\\n}\\r\\n\"","export function fixMenuPositions(fieldStringWysiwyg: HTMLElement) {\r\n  const observer = new MutationObserver((mutations: MutationRecord[]) => {\r\n    for (let i = 0; i < mutations.length; i++) {\r\n      const mutation = mutations[i];\r\n      for (let j = 0; j < mutation.addedNodes.length; j++) {\r\n        const addedNode = <HTMLElement>mutation.addedNodes[j];\r\n        if (!addedNode.classList) { continue; }\r\n        if (!addedNode.classList.contains('tox-menu')) { continue; }\r\n\r\n        const toxMenu = addedNode;\r\n        const containerPaddingTopBottom = 10;\r\n        const containerPaddingSides = 0;\r\n        const containerOffsets = fieldStringWysiwyg.getBoundingClientRect();\r\n        const containerTop = containerOffsets.top + containerPaddingTopBottom;\r\n        const containerLeft = containerOffsets.left + containerPaddingSides;\r\n        const containerBottom = containerOffsets.bottom - containerPaddingTopBottom;\r\n        const containerRight = containerOffsets.right - containerPaddingSides;\r\n        const containerHeight = containerOffsets.height - 2 * containerPaddingTopBottom;\r\n        const containerWidth = containerOffsets.width - 2 * containerPaddingSides;\r\n\r\n        let toxMenuOffsets = toxMenu.getBoundingClientRect();\r\n        let menuTop = toxMenuOffsets.top;\r\n        let menuLeft = toxMenuOffsets.left;\r\n        let menuBottom = toxMenuOffsets.bottom;\r\n        let menuRight = toxMenuOffsets.right;\r\n        let menuHeight = toxMenuOffsets.height;\r\n        let menuWidth = toxMenuOffsets.width;\r\n\r\n        // fix height\r\n        if (menuHeight > containerHeight) {\r\n          toxMenu.style.maxHeight = `${containerHeight}px`;\r\n          toxMenuOffsets = toxMenu.getBoundingClientRect();\r\n          menuTop = toxMenuOffsets.top;\r\n          menuLeft = toxMenuOffsets.left;\r\n          menuBottom = toxMenuOffsets.bottom;\r\n          menuRight = toxMenuOffsets.right;\r\n          menuHeight = toxMenuOffsets.height;\r\n          menuWidth = toxMenuOffsets.width;\r\n        }\r\n\r\n        if (menuTop < containerTop) {\r\n          // fix too far top\r\n          const oldBottomStyle = parseInt(toxMenu.style.bottom, 10);\r\n          const newBottomStyle = oldBottomStyle - (containerTop - menuTop);\r\n          toxMenu.style.bottom = `${newBottomStyle}px`;\r\n        } else if (menuBottom > containerBottom) {\r\n          // fix too far bottom\r\n          const oldTopStyle = parseInt(toxMenu.style.top, 10);\r\n          const newTopStyle = oldTopStyle - (menuBottom - containerBottom);\r\n          toxMenu.style.top = `${newTopStyle}px`;\r\n        }\r\n\r\n        if (menuWidth > containerWidth) {\r\n          // fix too wide\r\n          toxMenu.style.width = `${containerWidth}px`;\r\n          toxMenuOffsets = toxMenu.getBoundingClientRect();\r\n          menuTop = toxMenuOffsets.top;\r\n          menuLeft = toxMenuOffsets.left;\r\n          menuBottom = toxMenuOffsets.bottom;\r\n          menuRight = toxMenuOffsets.right;\r\n          menuHeight = toxMenuOffsets.height;\r\n          menuWidth = toxMenuOffsets.width;\r\n        }\r\n        if (menuRight > containerRight) {\r\n          // fix too far right\r\n          const oldLeftStyle = parseInt(toxMenu.style.left, 10);\r\n          const newLeftStyle = oldLeftStyle - (menuRight - containerRight);\r\n          toxMenu.style.left = `${newLeftStyle}px`;\r\n        } else if (menuLeft < containerLeft) {\r\n          // fix too far left\r\n          const oldRightStyle = parseInt(toxMenu.style.right, 10);\r\n          const newRightStyle = oldRightStyle - (containerLeft - menuLeft);\r\n          toxMenu.style.right = `${newRightStyle}px`;\r\n        }\r\n\r\n        toxMenu.style.visibility = 'visible';\r\n      }\r\n    }\r\n  });\r\n  const toolbarContainer = fieldStringWysiwyg.querySelector('.tinymce-toolbar-container');\r\n  observer.observe(toolbarContainer, { subtree: true, childList: true });\r\n  return observer;\r\n}\r\n","import { Subscription } from 'rxjs';\r\nimport { EavCustomInputFieldObservable } from '../../../shared/eav-custom-input-field';\r\nimport { buildTemplate } from '../shared/helpers';\r\nimport * as template from './preview.html';\r\nimport * as styles from './preview.css';\r\n\r\nclass FieldStringWysiwygPreview extends EavCustomInputFieldObservable<string> {\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor() {\r\n    super();\r\n    console.log('FieldStringWysiwygPreview constructor called');\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log('FieldStringWysiwygPreview connectedCallback called');\r\n    this.innerHTML = buildTemplate(template, styles);\r\n    const previewContainer = this.querySelector('.wysiwyg-preview');\r\n    this.connector.data.value$.subscribe(value => {\r\n      previewContainer.innerHTML = !value ? '' : value\r\n        .replace('<hr sxc=\"sxc-content-block', '<hr class=\"sxc-content-block') // content block\r\n        .replace(/<a[^>]*>(.*?)<\\/a>/g, '$1'); // remove href from A tag\r\n    });\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    console.log('FieldStringWysiwygPreview disconnectedCallback called');\r\n    this.subscriptions.forEach(subscription => { subscription.unsubscribe(); });\r\n    this.subscriptions = null;\r\n  }\r\n}\r\n\r\ncustomElements.define('field-string-wysiwyg-preview', FieldStringWysiwygPreview);\r\n","module.exports = \"<div class=\\\"wysiwyg-preview\\\"></div>\\r\\n\"","module.exports = \".wysiwyg-preview {\\r\\n  padding: 0 8px;\\r\\n  height: 96px;\\r\\n}\\r\\n\""],"sourceRoot":""}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-extensions_app-extensions_ts"],{16256(O,T,o){o.d(T,{Y:()=>p,k:()=>g});var A=o(72102),h=o(5642),y=o(26306),s=o(56884),f=o(36124),E=o(37580),v=o(59504),M=o(66329),L=o(87432),x=o(63680);const D="mat-badge-content";let u=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275cmp=f.VBU({type:d,selectors:[["ng-component"]],decls:0,vars:0,template:function(l,m){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}\n"],encapsulation:2,changeDetection:0})}return d})(),g=(()=>{class d{_ngZone=(0,s.WQX)(s.SKi);_elementRef=(0,s.WQX)(f.aKT);_ariaDescriber=(0,s.WQX)(A.vr);_renderer=(0,s.WQX)(f.sFG);_animationsDisabled=(0,L.Rc)();_idGenerator=(0,s.WQX)(y.g);get color(){return this._color}set color(a){this._setColor(a),this._color=a}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(a){this._updateRenderedContent(a)}_content;get description(){return this._description}set description(a){this._updateDescription(a)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=(0,s.WQX)(h.Z7);_document=(0,s.WQX)(s.qQL);constructor(){const a=(0,s.WQX)(v.l);a.load(u),a.load(M.Y)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const a=this._renderer.createElement("span"),l="mat-badge-active";return a.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),a.setAttribute("aria-hidden","true"),a.classList.add(D),this._animationsDisabled&&a.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(a),"function"!=typeof requestAnimationFrame||this._animationsDisabled?a.classList.add(l):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{a.classList.add(l)})}),a}_updateRenderedContent(a){const l=`${a??""}`.trim();this._isInitialized&&l&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=l),this._content=l}_updateDescription(a){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!a||this._isHostInteractive())&&this._removeInlineDescription(),this._description=a,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,a):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(a){const l=this._elementRef.nativeElement.classList;l.remove(`mat-badge-${this._color}`),a&&l.add(`mat-badge-${a}`)}_clearExistingBadges(){const a=this._elementRef.nativeElement.querySelectorAll(`:scope > .${D}`);for(const l of Array.from(a))l!==this._badgeElement&&l.remove()}static \u0275fac=function(l){return new(l||d)};static \u0275dir=f.FsC({type:d,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(l,m){2&l&&f.AVh("mat-badge-overlap",m.overlap)("mat-badge-above",m.isAbove())("mat-badge-below",!m.isAbove())("mat-badge-before",!m.isAfter())("mat-badge-after",m.isAfter())("mat-badge-small","small"===m.size)("mat-badge-medium","medium"===m.size)("mat-badge-large","large"===m.size)("mat-badge-hidden",m.hidden||!m.content)("mat-badge-disabled",m.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",E.L39],disabled:[2,"matBadgeDisabled","disabled",E.L39],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",E.L39]}})}return d})(),p=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275mod=f.$C({type:d});static \u0275inj=s.G2t({imports:[h.Pd,x.jI]})}return d})()},17042(O,T,o){o.d(T,{v:()=>L});var A=o(58857),h=o(37580),y=o(56884),s=o(36124),f=o(87941);const E=["gridWrapper"],v=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],M=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let L=(()=>{class x{constructor(){this.gridWrapper=(0,h.ebz)("gridWrapper",{read:s.aKT}),this.agGrid=(0,h.sbv)(A.xs,{read:s.aKT}),this.dialogAction=(0,h.sbv)(f.E7,{read:s.aKT}),this.helpText=h.hFB.required({}),this.refresh=h.hFB.required(),this.rowLength=h.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,y.QZP)(()=>{this.refresh();const g=this.rowLength(),p=this.gridWrapper()?.nativeElement;p&&(0,y.O8t)(()=>this.#t(p,g))})}#t(u,g){const p=this.agGrid()?.nativeElement,d=this.dialogAction()?.nativeElement,_=u.querySelector(".help-info-card");setTimeout(()=>{if(_.classList.toggle("center-center",0===g),!p||!d)return;_.style.flex="";const a=this.#e(u,p,d,_,g);p.style.flex=a.rowHeight?`0 0 ${a.agGridHeight}px`:"0px";const l=document.querySelector(".mat-sidenav-content"),m=document.querySelector(".mat-mdc-dialog-container"),k=(document.querySelector(".nav-component-wrapper")?m:l).clientHeight-a.dialogHeaderHeight-a.dialogActionHeight-2;p.style.maxHeight=`${k}px`;const z=a.helpCardHeight+a.agGridHeight+a.dialogActionHeight+a.dialogHeaderHeight>a.wrapperHeight;_.style.flex="1 1 auto",_?.classList.toggle("hidden-help-info-card",z)},0)}#e(u,g,p,d,_){const a=g.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:a,agGridHeight:this.GRID_HEADER_HEIGHT+_*a,helpCardHeight:d.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:p.offsetHeight,dialogHeaderHeight:u.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:u.offsetHeight}}static{this.\u0275fac=function(g){return new(g||x)}}static{this.\u0275cmp=s.VBU({type:x,selectors:[["app-grid-with-help"]],contentQueries:function(g,p,d){1&g&&s.C6U(d,p.agGrid,A.xs,5,s.aKT)(d,p.dialogAction,f.E7,5,s.aKT),2&g&&s.NyB(2)},viewQuery:function(g,p){1&g&&s.wEZ(p.gridWrapper,E,5,s.aKT),2&g&&s.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:M,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(g,p){1&g&&(s.NAR(v),s.rj2(0,"div",1,0),s.SdG(2),s.SdG(3,1),s.SdG(4,2),s.rj2(5,"div",2)(6,"div",3),s.Hgh(7,"span",4)(8,"span",4),s.eux()(),s.SdG(9,3),s.eux()),2&g&&(s.R7$(7),s.Avn("innerHTML",p.helpText().description,s.npT),s.R7$(),s.Avn("innerHTML",p.helpText().hint,s.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return x})()},90738(O,T,o){o.d(T,{AppExtensions:()=>Z});var h=o(56884),y=o(36664),s=o(84175),f=o(12772),E=o(87941),v=o(93840),M=o(69393),L=o(59452),x=o(64334),D=o(12938),u=o(17042),g=o(60251),p=o(34575),d=o(34601),_=o(92324),a=o(34435),l=o(30056),m=o(67037),R=o(60852),B=o(9234),k=o(97480),z=o(16256),e=o(36124);let P=(()=>{class r{constructor(){this.canEditExtension=(0,h.vPA)(!1),this.extHasConfig=(0,h.vPA)(!1),this.hasSettings=(0,h.vPA)(!1),this.hasResources=(0,h.vPA)(!1)}agInit(t){this.params=t,this.ext=t.data,this.canEditExtension.set(!this.ext.configuration.isInstalled),this.extHasConfig.set(!!this.ext.configuration),this.hasSettings.set(!!this.ext.configuration?.settingsContentType),this.hasResources.set(!!this.ext.configuration?.resourcesContentType)}do(t){this.params.do(t,this.ext)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-extension-actions"]],decls:21,vars:12,consts:[[1,"actions-component"],[1,"actions-row"],["matRipple","","tippy","Edit Extension configuration",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Download Extension ZIP",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Delete Extension",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Edit Extension Settings",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Edit Extension Resources",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Inspect Extension",1,"eav-grid-action-button","default-link","highlight",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return n.do("edit")}),e.j41(3,"mat-icon"),e.EFF(4,"edit"),e.k0s()(),e.j41(5,"a",3),e.bIt("click",function(){return n.do("download")}),e.j41(6,"mat-icon"),e.EFF(7,"cloud_download"),e.k0s()(),e.j41(8,"a",4),e.bIt("click",function(){return n.do("delete")}),e.j41(9,"mat-icon"),e.EFF(10,"delete"),e.k0s()()(),e.j41(11,"div",1)(12,"a",5),e.bIt("click",function(){return n.do("openSettings")}),e.j41(13,"mat-icon"),e.EFF(14,"settings"),e.k0s()(),e.j41(15,"a",6),e.bIt("click",function(){return n.do("openResources")}),e.j41(16,"mat-icon"),e.EFF(17,"translate"),e.k0s()(),e.j41(18,"a",7),e.bIt("click",function(){return n.do("inspect")}),e.j41(19,"mat-icon"),e.EFF(20,"frame_inspect"),e.k0s()()()()),2&i&&(e.R7$(2),e.AVh("disabled",!n.canEditExtension()),e.R7$(3),e.AVh("disabled",!n.canEditExtension()||!n.extHasConfig()),e.R7$(3),e.AVh("disabled",n.canEditExtension()),e.R7$(4),e.AVh("disabled",!n.hasSettings()),e.R7$(3),e.AVh("disabled",!n.hasResources()),e.R7$(3),e.AVh("disabled",n.canEditExtension()))},dependencies:[v.m_,v.An,s.Hl,z.Y,d.e],styles:[".actions-component[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:8px}.actions-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]})}}return r})();const H="Default";var F=o(55326);function I(r,b){if(1&r&&(e.j41(0,"a",1)(1,"mat-icon"),e.EFF(2,"extension"),e.k0s()()),2&r){const t=e.XpG();e.Y8G("href",t.mainLink||"#",e.B4B)}}function S(r,b){1&r&&e.nrm(0,"div")}function W(r,b){if(1&r&&(e.j41(0,"a",2)(1,"mat-icon"),e.EFF(2,"description"),e.k0s()()),2&r){const t=e.XpG();e.Y8G("href",t.docsLink||"#",e.B4B)}}function $(r,b){1&r&&e.nrm(0,"div")}function N(r,b){if(1&r&&(e.j41(0,"a",3)(1,"mat-icon"),e.EFF(2,"smart_display"),e.k0s()()),2&r){const t=e.XpG();e.Y8G("href",t.demosLink||"#",e.B4B)}}function G(r,b){1&r&&e.nrm(0,"div")}function j(r,b){if(1&r&&(e.j41(0,"a",4),h.qSk(),e.j41(1,"svg",5),e.nrm(2,"path",6),e.k0s()()),2&r){const t=e.XpG();e.Y8G("href",t.sourceCodeLink||"#",e.B4B)}}function U(r,b){1&r&&e.nrm(0,"div")}let K=(()=>{class r{agInit(t){this.mainLink=t.mainLink,this.docsLink=t.docsLink,this.demosLink=t.demosLink,this.sourceCodeLink=t.sourceCodeLink}refresh(t){return t&&(this.mainLink=t.mainLink,this.docsLink=t.docsLink,this.demosLink=t.demosLink,this.sourceCodeLink=t.sourceCodeLink),!0}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-extensions-link"]],decls:9,vars:4,consts:[[1,"grid-container"],["mat-icon-button","","target","_blank","rel","noopener","title","Main Link",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Documentation",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Demo",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Source Code",1,"small-icon-button",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["d","M237.9 461.4C237.9 463.4 235.6 465 232.7 465C229.4 465.3 227.1 463.7 227.1 461.4C227.1 459.4 229.4 457.8 232.3 457.8C235.3 457.5 237.9 459.1 237.9 461.4zM206.8 456.9C206.1 458.9 208.1 461.2 211.1 461.8C213.7 462.8 216.7 461.8 217.3 459.8C217.9 457.8 216 455.5 213 454.6C210.4 453.9 207.5 454.9 206.8 456.9zM251 455.2C248.1 455.9 246.1 457.8 246.4 460.1C246.7 462.1 249.3 463.4 252.3 462.7C255.2 462 257.2 460.1 256.9 458.1C256.6 456.2 253.9 454.9 251 455.2zM316.8 72C178.1 72 72 177.3 72 316C72 426.9 141.8 521.8 241.5 555.2C254.3 557.5 258.8 549.6 258.8 543.1C258.8 536.9 258.5 502.7 258.5 481.7C258.5 481.7 188.5 496.7 173.8 451.9C173.8 451.9 162.4 422.8 146 415.3C146 415.3 123.1 399.6 147.6 399.9C147.6 399.9 172.5 401.9 186.2 425.7C208.1 464.3 244.8 453.2 259.1 446.6C261.4 430.6 267.9 419.5 275.1 412.9C219.2 406.7 162.8 398.6 162.8 302.4C162.8 274.9 170.4 261.1 186.4 243.5C183.8 237 175.3 210.2 189 175.6C209.9 169.1 258 202.6 258 202.6C278 197 299.5 194.1 320.8 194.1C342.1 194.1 363.6 197 383.6 202.6C383.6 202.6 431.7 169 452.6 175.6C466.3 210.3 457.8 237 455.2 243.5C471.2 261.2 481 275 481 302.4C481 398.9 422.1 406.6 366.2 412.9C375.4 420.8 383.2 435.8 383.2 459.3C383.2 493 382.9 534.7 382.9 542.9C382.9 549.4 387.5 557.3 400.2 555C500.2 521.8 568 426.9 568 316C568 177.3 455.5 72 316.8 72zM169.2 416.9C167.9 417.9 168.2 420.2 169.9 422.1C171.5 423.7 173.8 424.4 175.1 423.1C176.4 422.1 176.1 419.8 174.4 417.9C172.8 416.3 170.5 415.6 169.2 416.9zM158.4 408.8C157.7 410.1 158.7 411.7 160.7 412.7C162.3 413.7 164.3 413.4 165 412C165.7 410.7 164.7 409.1 162.7 408.1C160.7 407.5 159.1 407.8 158.4 408.8zM190.8 444.4C189.2 445.7 189.8 448.7 192.1 450.6C194.4 452.9 197.3 453.2 198.6 451.6C199.9 450.3 199.3 447.3 197.3 445.4C195.1 443.1 192.1 442.8 190.8 444.4zM179.4 429.7C177.8 430.7 177.8 433.3 179.4 435.6C181 437.9 183.7 438.9 185 437.9C186.6 436.6 186.6 434 185 431.7C183.6 429.4 181 428.4 179.4 429.7z"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.nVh(1,I,3,1,"a",1)(2,S,1,0,"div"),e.nVh(3,W,3,1,"a",2)(4,$,1,0,"div"),e.nVh(5,N,3,1,"a",3)(6,G,1,0,"div"),e.nVh(7,j,3,1,"a",4)(8,U,1,0,"div"),e.k0s()),2&i&&(e.R7$(),e.vxM(n.mainLink?1:2),e.R7$(2),e.vxM(n.docsLink?3:4),e.R7$(2),e.vxM(n.demosLink?5:6),e.R7$(2),e.vxM(n.sourceCodeLink?7:8))},dependencies:[v.m_,v.An,s.Hl,F.iY],styles:[".small-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px;padding:0;display:inline-flex;align-items:center;justify-content:center}.small-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .small-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;display:flex;align-items:center;justify-content:center}.grid-container[_ngcontent-%COMP%]{margin-top:15px;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:4px}"]})}}return r})();var V=o(38138),Q=o(58857);function X(r,b){1&r&&(e.j41(0,"p"),e.EFF(1," Create an extension by placing an "),e.j41(2,"code"),e.EFF(3,"extension.json"),e.k0s(),e.EFF(4," file in the "),e.j41(5,"code"),e.EFF(6,"app/extensions"),e.k0s(),e.EFF(7," folder. "),e.k0s())}function Y(r,b){if(1&r&&e.nrm(0,"ag-grid-angular",2),2&r){const t=e.XpG();e.Y8G("rowData",t.extensions())("gridOptions",t.gridOptions)}}let Z=(()=>{class r{constructor(){this.log=(0,a.Tq)({AppExtensions:r},{}),this.#t=(0,D.d)(k.h),this.#e=(0,h.WQX)(M.Ix),this.#i=(0,D.d)(R.c),this.#o=(0,D.d)(E.bZ),this.#s=(0,D.d)(B.Tr),this.fabOpen=(0,h.vPA)(!1),this.refresh=(0,h.vPA)(0),this.#r=this.#t.getAllLive(this.refresh).value,this.extensions=(0,y.EW)(()=>this.#r()?.extensions??[]),this.gridOptions={...g.C,rowHeight:80,columnDefs:this.#h()},this.#a={empty:{description:"<p><b>App Extensions</b><br>Install extensions to add extra functionality or input types to apps.</p>",hint:"<p>Create an extension by placing an <code>extension.json</code> file in the <code>app/extensions</code> folder.</p>"},content:{description:"<p><b>App Extensions</b><br>Installed extensions are shown here.</p>",hint:"<p>Use the Upload button to add an extension folder.</p>"}},this.uxHelpText=(0,y.EW)(()=>0===this.extensions()?.length?this.#a.empty:this.#a.content)}#t;#e;#i;#o;#s;#r;ngOnInit(){this.#i.doOnDialogClosedWithData(t=>{const i=t?.data,{_extensionFolder:n,...c}=i||{};this.log.a("2dm - AppExtensions - dialog closed with data",{data:i,dataToSave:c,extensionFolder:n}),i&&n?this.#t.updateConfiguration(n,JSON.stringify(c)).subscribe(()=>this.fetchExtensions()):this.fetchExtensions()})}openChange(t){this.fabOpen.set(t)}browseCatalog(){window.open("https://2sxc.org/apps","_blank")}importExtension(t){const c=this.#n("import").replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#e.navigate(c)}#d(t){if(null==t)return alert("No extension provided");if(t.edition&&t.edition!==H)return alert("Cannot edit settings for specific edition - please select the default edition.");const n={...t.configuration??{},_extensionFolder:t.folder??null},c=this.#m("a0f44af0-6750-40c9-9ad9-4a07b6eda8b3",n),J=this.#n(`edit/${c}`).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#e.navigate(J)}#l(t){t&&this.#s.getEntities$((0,L.of)({contentTypeName:t})).subscribe(i=>{const n=i?i[0].Id:this.#p(t),w=this.#n(`edit/${n}`).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#e.navigate(w)})}#c(t,i){const C=this.#n("inspect/"+t).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#e.navigate(C,{queryParams:i?{edition:i}:void 0})}#g(t,i){const C=this.#n("delete/"+t).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#e.navigate(C,{queryParams:i?{edition:i}:void 0})}filesDropped(t){this.#o.open(V.ImportExtensionComponent,{data:{file:t[0],allowedFileTypes:"zip",multiple:!0,title:"Import Extension",description:"Select Extension folder from your computer to import.",upload$:n=>this.#t.uploadExtensions(n)}}).afterClosed().pipe((0,x.s)(1)).subscribe(n=>{n&&this.fetchExtensions()})}fetchExtensions(){this.refresh.update(t=>++t)}#n(t){return`#${this.#i.urlSubRoute(t)}`}#p(t){return(0,_.s)({items:[l.H.newFromType(t)]})}#m(t,i){return(0,_.s)({items:[l.H.newJsonFromType(t,i)]})}#a;cellTextRenderer(t,i,n,c){return`\n      <div style="display: flex; align-items: center; gap: 8px;">\n        ${c??""}\n        <div style="display: flex; flex-direction: column;">\n          <span title="${t=t||""}" style="font-weight:bold; white-space: nowrap; width: ${n=n||"100%"}; overflow: hidden; text-overflow: ellipsis;">${t}</span>\n          <span title="${i=i||""}" style="margin-top: -15px; white-space: nowrap; width: ${n}; overflow: hidden; text-overflow: ellipsis;">\n            ${i??""}\n          </span>\n        </div>\n      </div>\n    `}iconAndTitleCellRenderer(t,i,n,c){const w=c?`<img src="${c}" alt="${t}" style="mask-image: url('data:image/svg+xml;utf8,${encodeURIComponent('<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" width="48" height="47.99" viewBox="0 0 48 47.99"><defs><style>.b{fill:#fff;}</style></defs><path d="M.02,47.96V15.99C.02,11.73,1.68,7.72,4.7,4.7,7.72,1.69,11.73.02,15.99.02h31.97v31.96l-4.16,4.16,3.64,3.64c.7.7.7,1.83,0,2.53-.34.34-.79.52-1.27.52s-.93-.19-1.27-.52l-3.64-3.64-2.59,2.59,3.64,3.64c.34.34.52.79.52,1.27s-.19.93-.52,1.27-.79.52-1.27.52-.93-.19-1.27-.52l-3.64-3.64-4.17,4.17H.02Z"/><path class="b" d="M47.94.05v31.93l-4.13,4.13-.03.03.03.03,3.62,3.62c.69.69.69,1.81,0,2.5-.33.33-.78.52-1.25.52s-.92-.18-1.25-.52l-3.62-3.62-.03-.03-.03.03-2.56,2.56-.03.03.03.03,3.62,3.62c.69.69.69,1.81,0,2.5-.33.33-.78.52-1.25.52s-.92-.18-1.25-.52l-3.62-3.62-.03-.03-.03.03-4.15,4.15H.05V15.99c0-2.15.42-4.24,1.25-6.21.8-1.9,1.95-3.6,3.42-5.07,1.46-1.47,3.17-2.61,5.07-3.42C11.75.47,13.84.05,15.99.05h31.95M47.99,0H15.99C7.16,0,0,7.16,0,15.99v31.99h31.99l4.16-4.16,3.62,3.62c.35.35.82.53,1.28.53s.93-.18,1.28-.53c.71-.71.71-1.86,0-2.57l-3.62-3.62,2.56-2.56,3.62,3.62c.35.35.82.53,1.28.53s.93-.18,1.28-.53h0c.71-.71.71-1.86,0-2.57l-3.62-3.62,4.15-4.15V0h0Z"/></svg>')}'); width:48px; height:48px;">`:'<div style="flex:0 0 48px; height:48px;"></div>';return this.cellTextRenderer(t,i,n,w)}#h(){return[{headerName:"Extension",field:"folder",flex:1,sortable:!0,sort:"asc",filter:"agTextColumnFilter",cellRenderer:t=>{const i=t.data;return this.iconAndTitleCellRenderer(i?.folder,i?.configuration?.nameId?.toString(),void 0,i?.icon)}},{headerName:"Name",field:"configuration.name",sortable:!0,filter:"agTextColumnFilter",flex:1,cellRenderer:t=>{const i=t.data?.configuration;return this.cellTextRenderer(i?.name,i?.teaser)}},{headerName:"Edition",field:"edition",sortable:!0,filter:"agTextColumnFilter",cellRenderer:t=>`\n            <mat-chip-set>\n              <mat-chip>\n                ${t.data?.edition||H}\n              </mat-chip>\n            </mat-chip-set>\n          `},{headerName:"Creator",field:"configuration.createdBy",maxWidth:175,sortable:!0,filter:"agTextColumnFilter",cellRenderer:t=>{const i=t.data?.configuration;return this.cellTextRenderer(i?.createdBy,i?.copyright,"150px")}},{headerName:"Links",sortable:!1,field:"configuration.link",width:125,cellRenderer:K,cellRendererParams:t=>({mainLink:t.data?.configuration?.linkMain,docsLink:t.data?.configuration?.linkDocs,demosLink:t.data?.configuration?.linkDemo,sourceCodeLink:t.data?.configuration?.linkSource})},{headerName:"Actions",width:150,pinned:"right",cellRenderer:P,cellRendererParams:{urlTo:(i,n)=>"#"+this.#n(n.folder),do:(i,n)=>{switch(i){case"edit":return this.#d(n);case"download":return this.#t.downloadExtension(n.folder);case"delete":return this.#g(n.folder,n.edition);case"inspect":return this.#c(n.folder,n.edition);case"openSettings":return this.#l(n.configuration?.settingsContentType);case"openResources":return this.#l(n.configuration?.resourcesContentType)}}}}]}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-extensions"]],decls:9,vars:5,consts:[["appDragAndDrop","",1,"container",3,"filesDropped","allowedFileTypes"],[3,"helpText","refresh","rowLength"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end",1,"eav-dialog-actions"],["mat-fab","","mat-elevation-z24","","tippy","Add Extension","tippyPlacement","top",1,"grid-fab",3,"click"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0),e.bIt("filesDropped",function(C){return n.filesDropped(C)}),e.j41(1,"app-grid-with-help",1),e.nVh(2,X,8,0,"p")(3,Y,1,2,"ag-grid-angular",2),e.j41(4,"mat-dialog-actions",3)(5,"button",4),e.bIt("click",function(){return n.importExtension()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s()()()()(),e.nrm(8,"router-outlet")),2&i){let c;e.Y8G("allowedFileTypes","zip"),e.R7$(),e.Y8G("helpText",n.uxHelpText())("refresh",n.refresh())("rowLength",null==(c=n.extensions())?null:c.length),e.R7$(),e.vxM(0===n.extensions().length?2:3)}},dependencies:[v.m_,v.An,E.E7,M.n3,s.Hl,s.Sr,m.p,Q.xs,p.S,u.v,d.e,f.YN],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a{color:#85283b!important}.container[_ngcontent-%COMP%]{height:100%}"]})}}return r})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/21.00.03/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-extensions_app-extensions_ts.a4e6059e64dc2121.js.map
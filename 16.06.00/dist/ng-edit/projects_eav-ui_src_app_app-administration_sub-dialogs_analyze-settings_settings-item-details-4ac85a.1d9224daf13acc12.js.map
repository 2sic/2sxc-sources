{"version":3,"mappings":"4aAAAA,iBAAoE,UAApEA,CAAoE,UAApEA,CAAoE,SAGzDA,SAAqBA,QAC1BA,oBAA6CA,iDAASC,gBACpDD,oBAAUA,iBAAKA,cAKrBA,eACEA,oCAAuBA,iBAAMA,UAAqBA,QAAQA,6BAC5DA,QAEAA,kBACEA,8BACkB,YAGpBA,2CAhBSA,kCAQsBA,kCAIcA,kCAAoB,8BCA5D,IAAME,EAAb,MAAM,QASJC,YACUC,EACAC,EACAC,GAFAC,iBACAA,aACAA,8BAPVA,iBAAcA,KAAKC,mBASjBD,KAAKE,KAAOF,KAAKF,MAAMK,SAASC,OAAOC,SAASC,IAAI,QACpD,MAAMC,EAAgBP,KAAKF,MAAMK,SAASE,SAASC,IAAI,QACvDN,KAAKQ,aAAe,CAAC,YAAa,QAAQC,SAASF,QAAiBG,EAAYH,EAChFP,KAAKW,gBAAkBX,KAAKF,MAAMK,SAASE,SAASC,IAAI,mBAG1DM,WACEZ,KAAKa,OAAS,IAAIC,SAAqCJ,GACvDV,KAAKD,uBAAuBgB,SAASf,KAAKE,KAAMF,KAAKW,gBAAiBX,KAAKQ,cAAc,GAAMQ,UAAUC,IACvGjB,KAAKa,OAAOK,KAAKD,KAEnBjB,KAAKmB,YAAaC,OAAc,CAACpB,KAAKa,SAASQ,MAC7CC,OAAI,EAAEL,MAAY,CAAEA,YAIxBM,cACEvB,KAAKa,OAAOW,WAGdC,cACEzB,KAAKH,UAAU6B,QAGTzB,mBA+BN,OA9BiB0B,+BACZC,KAAkB,CACrBC,WAAY,CACV,CACEC,MAAO,QACPC,KAAM,EACNC,SAAU,IACVC,UAAW,uCAAuCC,MAAM,KACxDC,UAAU,EACVC,OAAQ,qBACRC,YAAcC,GACoBA,EAAOC,KAC3BC,OAEdC,aAAcC,KAEhB,CACEZ,MAAO,SACPC,KAAM,EACNC,SAAU,IACVC,UAAW,aACXE,UAAU,EACVC,OAAQ,qBACRC,YAAcC,GACoBA,EAAOC,KAC3BI,yDAhEXhD,GAA4BF,6DAA5BE,EAA4BiD,uYDfzCnD,+CAAoCA,6LCevBE,GAAb","names":["i0","ctx_r2","SettingsItemDetailsComponent","constructor","dialogRef","route","analyzeSettingsService","this","buildGridOptions","part","snapshot","parent","paramMap","get","routeViewGuid","selectedView","includes","undefined","settingsItemKey","ngOnInit","stack$","BehaviorSubject","getStack","subscribe","stack","next","viewModel$","combineLatest","pipe","map","ngOnDestroy","complete","closeDialog","close","Object","defaultGridOptions","columnDefs","field","flex","minWidth","cellClass","split","sortable","filter","valueGetter","params","data","_value","cellRenderer","AnalyzeSettingsValueComponent","Source","selectors"],"sources":["./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.html","./projects/eav-ui/src/app/app-administration/sub-dialogs/analyze-settings/settings-item-details/settings-item-details.component.ts"],"sourcesContent":["<div class=\"nav-component-wrapper\" *ngIf=\"viewModel$ | async as vm\">\r\n  <div mat-dialog-title>\r\n    <div class=\"dialog-title-box\">\r\n      <div>{{ settingsItemKey }}</div>\r\n      <button mat-icon-button tippy=\"Close dialog\" (click)=\"closeDialog()\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <p class=\"dialog-description\">\r\n    Here you can see where <code>{{ settingsItemKey }}</code> is configured.\r\n  </p>\r\n\r\n  <div class=\"grid-wrapper\">\r\n    <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.stack\" [gridOptions]=\"gridOptions\">\r\n    </ag-grid-angular>\r\n\r\n    <div class=\"grid-more-actions-box\"></div>\r\n  </div>\r\n</div>","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BehaviorSubject, Observable, combineLatest, map } from 'rxjs';\r\nimport { defaultGridOptions } from '../../../../shared/constants/default-grid-options.constants';\r\nimport { AnalyzeSettingsService } from '../../../services/analyze-settings.service';\r\nimport { AnalyzeSettingsValueComponent } from '../analyze-settings-value/analyze-settings-value.component';\r\nimport { AnalyzePart, SettingsStackItem } from '../analyze-settings.models';\r\n\r\n@Component({\r\n  selector: 'app-settings-item-details',\r\n  templateUrl: './settings-item-details.component.html',\r\n  styleUrls: ['./settings-item-details.component.scss'],\r\n})\r\nexport class SettingsItemDetailsComponent implements OnInit, OnDestroy {\r\n  part: AnalyzePart;\r\n  selectedView: string;\r\n  settingsItemKey: string;\r\n  stack$: BehaviorSubject<SettingsStackItem[]>;\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  viewModel$: Observable<SettingsItemDetailsViewModel>;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<SettingsItemDetailsComponent>,\r\n    private route: ActivatedRoute,\r\n    private analyzeSettingsService: AnalyzeSettingsService,\r\n  ) {\r\n    this.part = this.route.snapshot.parent.paramMap.get('part') as AnalyzePart;\r\n    const routeViewGuid = this.route.snapshot.paramMap.get('view');\r\n    this.selectedView = ['undefined', 'null'].includes(routeViewGuid) ? undefined : routeViewGuid;\r\n    this.settingsItemKey = this.route.snapshot.paramMap.get('settingsItemKey');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.stack$ = new BehaviorSubject<SettingsStackItem[]>(undefined);\r\n    this.analyzeSettingsService.getStack(this.part, this.settingsItemKey, this.selectedView, true).subscribe(stack => {\r\n      this.stack$.next(stack);\r\n    });\r\n    this.viewModel$ = combineLatest([this.stack$]).pipe(\r\n      map(([stack]) => ({ stack }))\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stack$.complete();\r\n  }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          field: 'Value',\r\n          flex: 2,\r\n          minWidth: 250,\r\n          cellClass: 'primary-action no-padding no-outline'.split(' '),\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const item: SettingsStackItem = params.data;\r\n            return item._value;\r\n          },\r\n          cellRenderer: AnalyzeSettingsValueComponent,\r\n        },\r\n        {\r\n          field: 'Source',\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellClass: 'no-outline',\r\n          sortable: true,\r\n          filter: 'agTextColumnFilter',\r\n          valueGetter: (params) => {\r\n            const item: SettingsStackItem = params.data;\r\n            return item.Source;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface SettingsItemDetailsViewModel { \r\n  stack: SettingsStackItem[];\r\n}\r\n"],"sourceRoot":"webpack:///","file":"projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a.1d9224daf13acc12.js"}
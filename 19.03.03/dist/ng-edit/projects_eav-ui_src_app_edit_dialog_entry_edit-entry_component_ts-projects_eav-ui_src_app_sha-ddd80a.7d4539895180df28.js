(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts-projects_eav-ui_src_app_sha-ddd80a"],{1:function(ge){ge.exports=function(){"use strict";var fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},m=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,b=/\d/,A=/\d\d/,p=/\d\d?/,g=/\d*[^-_:/,()\s\d]+/,e={},c=function(w){return(w=+w)+(w>68?1900:2e3)},l=function(w){return function(x){this[w]=+x}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(x){if(!x||"Z"===x)return 0;var T=x.match(/([+-]|\d\d)/g),I=60*T[1]+(+T[2]||0);return 0===I?0:"+"===T[0]?-I:I}(w)}],h=function(w){var x=e[w];return x&&(x.indexOf?x:x.s.concat(x.f))},f=function(w,x){var T,I=e.meridiem;if(I){for(var j=1;j<=24;j+=1)if(w.indexOf(I(j,0,x))>-1){T=j>12;break}}else T=w===(x?"pm":"PM");return T},_={A:[g,function(w){this.afternoon=f(w,!1)}],a:[g,function(w){this.afternoon=f(w,!0)}],Q:[b,function(w){this.month=3*(w-1)+1}],S:[b,function(w){this.milliseconds=100*+w}],SS:[A,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[p,l("seconds")],ss:[p,l("seconds")],m:[p,l("minutes")],mm:[p,l("minutes")],H:[p,l("hours")],h:[p,l("hours")],HH:[p,l("hours")],hh:[p,l("hours")],D:[p,l("day")],DD:[A,l("day")],Do:[g,function(w){var x=e.ordinal,T=w.match(/\d+/);if(this.day=T[0],x)for(var I=1;I<=31;I+=1)x(I).replace(/\[|\]/g,"")===w&&(this.day=I)}],w:[p,l("week")],ww:[A,l("week")],M:[p,l("month")],MM:[A,l("month")],MMM:[g,function(w){var x=h("months"),T=(h("monthsShort")||x.map(function(I){return I.slice(0,3)})).indexOf(w)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[g,function(w){var x=h("months").indexOf(w)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,l("year")],YY:[A,function(w){this.year=c(w)}],YYYY:[/\d{4}/,l("year")],Z:d,ZZ:d};return function(w,x,T){T.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(c=w.parseTwoDigitYear);var I=x.prototype,j=I.parse;I.parse=function(K){var L=K.date,V=K.utc,E=K.args;this.$u=V;var $=E[1];if("string"==typeof $){var z=!0===E[2],N=!0===E[3],M=z||N,k=E[2];N&&(k=E[2]),e=this.$locale(),!z&&k&&(e=T.Ls[k]),this.$d=function(q,J,de,Me){try{if(["x","X"].indexOf(J)>-1)return new Date(("X"===J?1e3:1)*q);var ke=function y(w){var T;T=e&&e.formats;for(var I=(w=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(z,N,M){var k=M&&M.toUpperCase();return N||T[M]||fe[M]||T[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,F,Y){return F||Y.slice(1)})})).match(m),j=I.length,K=0;K<j;K+=1){var L=I[K],V=_[L],$=V&&V[1];I[K]=$?{regex:V&&V[0],parser:$}:L.replace(/^\[|\]$/g,"")}return function(z){for(var N={},M=0,k=0;M<j;M+=1){var S=I[M];if("string"==typeof S)k+=S.length;else{var F=S.regex,Y=S.parser,q=z.slice(k),J=F.exec(q)[0];Y.call(N,J),z=z.replace(J,"")}}return function(de){var Me=de.afternoon;if(void 0!==Me){var ke=de.hours;Me?ke<12&&(de.hours+=12):12===ke&&(de.hours=0),delete de.afternoon}}(N),N}}(J)(q),$e=ke.year,Ie=ke.month,pe=ke.day,Oe=ke.hours,Z=ke.minutes,O=ke.seconds,se=ke.milliseconds,be=ke.zone,ye=ke.week,Be=new Date,De=pe||($e||Ie?1:Be.getDate()),Ue=$e||Be.getFullYear(),Le=0;$e&&!Ie||(Le=Ie>0?Ie-1:Be.getMonth());var Ee,xe=Oe||0,ne=Z||0,Ne=O||0,re=se||0;return be?new Date(Date.UTC(Ue,Le,De,xe,ne,Ne,re+60*be.offset*1e3)):de?new Date(Date.UTC(Ue,Le,De,xe,ne,Ne,re)):(Ee=new Date(Ue,Le,De,xe,ne,Ne,re),ye&&(Ee=Me(Ee).week(ye).toDate()),Ee)}catch{return new Date("")}}(L,$,V,T),this.init(),k&&!0!==k&&(this.$L=this.locale(k).$L),M&&L!=this.format($)&&(this.$d=new Date("")),e={}}else if($ instanceof Array)for(var S=$.length,F=1;F<=S;F+=1){E[1]=$[F-1];var Y=T.apply(this,E);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}F===S&&(this.$d=new Date(""))}else j.call(this,K)}}}()},53:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"it-ch",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"}};return p.default.locale(g,null,!0),g}(m(9645))},116:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"ms-my",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),weekStart:1,weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),ordinal:function(e){return e},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"}};return p.default.locale(g,null,!0),g}(m(9645))},396:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"el",weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),months:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03b9_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0\u03c4_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),ordinal:function(e){return e},weekStart:1,relativeTime:{future:"\u03c3\u03b5 %s",past:"\u03c0\u03c1\u03b9\u03bd %s",s:"\u03bc\u03b5\u03c1\u03b9\u03ba\u03ac \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1 \u03bc\u03ae\u03bd\u03b1",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1 \u03c7\u03c1\u03cc\u03bd\u03bf",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return p.default.locale(g,null,!0),g}(m(9645))},402:(ge,fe,m)=>{"use strict";m.d(fe,{v:()=>b});class b{static create(p){return{Value:p}}}},413:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"nl-be",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),weekStart:1,weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"}};return p.default.locale(g,null,!0),g}(m(9645))},519:(ge,fe,m)=>{"use strict";function b(A){const p=document.createElement("textarea");p.value=A,p.setAttribute("readonly",""),p.style.position="absolute",p.style.left="-9999px",document.body.appendChild(p);const g=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);p.select(),document.execCommand("copy"),document.body.removeChild(p),g&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(g))}m.d(fe,{l:()=>b})},598:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b),g={s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:"%d \u05e9\u05e2\u05d5\u05ea",hh2:"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd",d:"\u05d9\u05d5\u05dd",dd:"%d \u05d9\u05de\u05d9\u05dd",dd2:"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd",M:"\u05d7\u05d5\u05d3\u05e9",MM:"%d \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",MM2:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd",y:"\u05e9\u05e0\u05d4",yy:"%d \u05e9\u05e0\u05d9\u05dd",yy2:"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd"};function e(l,d,h){return(g[h+(2===l?"2":"")]||g[h]).replace("%d",l)}var c={name:"he",weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5_\u05e9\u05f3".split("_"),months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5_\u05e4\u05d1\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0_\u05d9\u05d5\u05dc_\u05d0\u05d5\u05d2_\u05e1\u05e4\u05d8_\u05d0\u05d5\u05e7_\u05e0\u05d5\u05d1_\u05d3\u05e6\u05de".split("_"),relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},ordinal:function(l){return l},format:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"}};return p.default.locale(c,null,!0),c}(m(9645))},623:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e+"\uc77c"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return p.default.locale(g,null,!0),g}(m(9645))},827:(ge,fe,m)=>{"use strict";m.d(fe,{GI:()=>c,OK:()=>p,pk:()=>e,qe:()=>b});const b="function ",p="v2((data, context) => {\n  return data.value;\n});",e="v2((data, context, item) => {\n  return data.value;\n});",c={V1:"v1",V2:"v2"}},927:(ge,fe,m)=>{"use strict";m.d(fe,{b:()=>K});var b=m(271),A=m(52),p=m(3966),g=m(8021),e=m(4435),c=m(7314),l=m(402),d=m(3408),h=m(9274);class f{constructor(){this.log=(0,e.Tq)({FieldWriter:f})}#e(V,E,$){const z={};if(0===Object.keys(V).length){const N={...$};return z[E]=N,z}for(const N of Object.keys(V))if(N===E){const M={...$};z[N]=M}else{const M={...V[N]};z[N]=M}if(null==V[E]){const N={...$};z[E]=N}return z}updateAttributesValues(V,E,$){const z=this.log.fn("updateAttributesValues",{allFields:V,updateValues:E,language:$}),N={};return Object.keys(V).forEach(M=>{const k=E[M];if(void 0!==k)if(new c.U(V[M],$).isEditableOrReadonlyTranslationExist()){const Y={...V[M],Values:V[M].Values.map(q=>new h.Y(q.Dimensions,$).hasCurrent?{...q,Value:k}:q)};N[M]=Y}else{z.a("saveAttributeValues add values ",{newItemValue:k});const Y=d._.create(k,[l.v.create($.current)]);N[M]={...V[M],Values:[...V[M].Values,Y]}}else N[M]={...V[M]}}),N}updateAttributeValue(V,E,$,z,N){let M={},k=z.current;N&&(k=`~${z.current}`);const S={...V[E],Values:V[E].Values.map(F=>new h.Y(F.Dimensions,z).hasCurrent?{...F,Value:$,Dimensions:F.Dimensions.map(J=>J.Value===z.current||J.Value===`~${z.current}`||z.current===z.primary&&"*"===J.Value?{Value:k}:J)}:F)};return M=this.#e(V,E,S),M}addAttributeValue(V,E,$,z){let N={};const M=0!==Object.keys(V).length&&V[$]?{...V[$],Values:[...V[$].Values,E],Type:z}:{...V[$],Values:[E],Type:z};return N=this.#e(V,$,M),N}addAttributeDimension(V,E,$,z,N,M){let k={},S=$;M&&(S=`~${$}`);const F={...V[E],Values:V[E].Values.map(Y=>Y.Dimensions.find(J=>J.Value===z||z===N&&"*"===J.Value)?{...Y,Dimensions:Y.Dimensions.concat({Value:S})}:Y)};return k=this.#e(V,E,F),k}removeAttributeDimension(V,E,$){const z=V,N=[$,`~${$}`],M=z[E].Values.find(F=>F.Dimensions.some(q=>N.includes(q.Value)));if(!M)return{...z};let k;return M.Dimensions.length>1?k={...z[E],Values:z[E].Values.map(F=>F.Dimensions.some(q=>N.includes(q.Value))?{...F,Dimensions:F.Dimensions.filter(q=>!N.includes(q.Value))}:F)}:1===M.Dimensions.length&&(k={...z[E],Values:z[E].Values.filter(F=>!F.Dimensions.some(q=>N.includes(q.Value)))}),this.#e(z,E,k)}}var _=m(3050),y=m(6953);const w={all:!0,updateItemId:!1,updateItemHeader:!1,addItemAttributeValue:!1,updateItemAttributeValue:!1,setDefaultValue:!1,updateItemAttributesValues:!1,addItemAttributeDimension:!1,removeItemAttributeDimension:!1,updateItemMetadata:!1};class x{constructor(V){this.itemSvc=V,this.log=(0,e.Tq)({ItemUpdateHelper:x},w)}updateItemId(V){this.log.fnIf("updateItemId",{saveResult:V});const $=Object.keys(V)[0],z=V[$],N=this.itemSvc.get($);if(!N||0!==N.Header.EntityId&&0!==N.Entity.Id)return;const M={...N,Header:{...N.Header,EntityId:z},Entity:{...N.Entity,Id:z}};this.itemSvc.add(M)}updateItemHeader(V,E){const $=this.log.fnIf("updateItemHeader",{entityGuid:V,header:E}),z=this.itemSvc.get(V);if(!z)return;const N={...z,Header:{...E}};this.itemSvc.add(N),$.end()}addItemAttributeValue(V,E,$,z,N,M,k=!1,S){this.log.fnIf("addItemAttributeValue",{entityGuid:V,attributeKey:E,newValue:$,currentLanguage:z,isReadOnly:N,attributeType:M,isTransaction:k,transactionItem:S});const q=d._.create($,[l.v.create(N?`~${z}`:z)]),J=S??this.itemSvc.get(V),de={...J,Entity:{...J.Entity,Attributes:(new f).addAttributeValue(J.Entity.Attributes,q,E,M)}};return k||this.itemSvc.add(de),de}updateItemAttributeValue(V,E,$,z,N){this.log.fnIf("updateItemAttributeValue",{entityGuid:V,attributeKey:E,newValue:$,language:z,isReadOnly:N});const k=this.itemSvc.get(V);if(!k)return;const S={...k,Entity:{...k.Entity,Attributes:(new f).updateAttributeValue(k.Entity.Attributes,E,$,z,N)}};this.itemSvc.add(S)}setDefaultValue(V,E,$,z,N,M){const k=this.log.fnIf("setDefaultValue",{item:V,ctAttribute:E,inputType:$,settings:z,languages:N,defaultLanguage:M},`Name: ${E.Name}`),S=new _.X3(E.Name,$?.Type,z,V.Header).getDefaultOrPrefillValue(),F=new c.U(V.Entity.Attributes[E.Name],M).currentOrDefault?.Value,Y=0===N.length||$?.DisableI18n?"*":M;return void 0===F?this.addItemAttributeValue(V.Entity.Guid,E.Name,S,Y,!1,E.Type):this.updateItemAttributeValue(V.Entity.Guid,E.Name,S,{current:Y,primary:M},!1),k.r(S)}updateItemAttributesValues(V,E,$){const z=this.log.fnIf("updateItemAttributesValues",{entityGuid:V,newValues:E,language:$}),N=this.itemSvc.get(V);if(!N)return z.end("Item not found");const M=new _.bT($),k={},S=Object.entries(N.Entity.Attributes).filter(([J])=>E.hasOwnProperty(J));for(const[J,de]of S)k[J]=M.getBestValue(de);const F=y.$.getItemValuesChanges(k,E);if(null==F)return z.end("No changes");const Y=(new f).updateAttributesValues(N.Entity.Attributes,F,$),q={...N,Entity:{...N.Entity,Attributes:Y}};this.itemSvc.add(q)}addItemAttributeDimension(V,E,$,z,N,M,k){this.log.fnIf("addItemAttributeDimension",{entityGuid:V,attributeKey:E,currentLanguage:$,shareWithLanguage:z,defaultLanguage:N,isReadOnly:M,transactionItem:k});const F=k??this.itemSvc.get(V),Y={...F,Entity:{...F.Entity,Attributes:(new f).addAttributeDimension(F.Entity.Attributes,E,$,z,N,M)}};this.itemSvc.add(Y)}removeItemAttributeDimension(V,E,$,z=!1,N){const M=this.log.fnIf("removeItemAttributeDimension",{entityGuid:V,attributeKey:E,currentLanguage:$,isTransaction:z,transactionItem:N}),k=N??this.itemSvc.get(V),S={...k,Entity:{...k.Entity,Attributes:(new f).removeAttributeDimension(k.Entity.Attributes,E,$)}};return z||this.itemSvc.add(S),M.r(S)}updateItemMetadata(V,E){const $=this.log.fnIf("updateItemMetadata",{entityGuid:V,metadata:E}),z=this.itemSvc.get(V),N={...z,Entity:{...z.Entity,Metadata:E}};this.itemSvc.add(N),$.end("ok",{newItem:N})}}var T=m(8503),I=m(9964),j=m(1659);let K=(()=>{class L extends I.k{constructor(){super((0,e.Tq)({ItemService:L})),this.getId=E=>E.Entity.Guid,this.updater=new x(this),this.#e=new T.K("itemAttributes"),this.#t=new T.K("itemHeader"),this.#i=new T.K("slotIsEmpty")}loadItems(E){const $=E.map(z=>p.U.convert(z));this.addMany($)}itemAttributesSignal(E){const $=this.log.fn("itemAttributes",{entityGuid:E}),z=this.#e.getOrCreate(E,()=>this.getSignal(E)()?.Entity.Attributes);return $.r(z)}#e;getItemAttributes(E){const $=this.log.fn("getItemAttributes",{entityGuid:E}),z=this.get(E)?.Entity.Attributes;return $.r(z)}getItemAttributes$(E){return this.list$.pipe((0,b.T)($=>$.find(z=>z.Entity.Guid===E)?.Entity.Attributes),(0,g.J)($=>$))}getItemHeader(E){return this.get(E)?.Header}getItemHeader$(E){return this.list$.pipe((0,b.T)($=>$.find(z=>z.Entity.Guid===E)?.Header),(0,g.A)($=>$))}getItemHeaderSignal(E){return this.#t.getOrCreate(E,()=>this.getSignal(E)()?.Header)}#t;slotIsEmpty(E){return this.#i.getOrCreate(E,()=>{const $=this.getSignal(E)()?.Header;return null==$||$.IsEmptyAllowed&&$.IsEmpty})}#i;getItemFor(E){return this.get(E)?.Entity.For}getItemNote(E){return this.get(E)?.Entity.Metadata?.find($=>$.Type.Name===A.YX.contentTypes.notes)}static{this.\u0275fac=function($){return new($||L)}}static{this.\u0275prov=j.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},1102:function(ge){ge.exports=function(){"use strict";var m=/[+-]\d\d(?::?\d\d)?/g,b=/([+-]|\d\d)/g;return function(A,p,g){var e=p.prototype;g.utc=function(y){return new p({date:y,utc:!0,args:arguments})},e.utc=function(y){var w=g(this.toDate(),{locale:this.$L,utc:!0});return y?w.add(this.utcOffset(),"minute"):w},e.local=function(){return g(this.toDate(),{locale:this.$L,utc:!1})};var c=e.parse;e.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),c.call(this,y)};var l=e.init;e.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else l.call(this)};var d=e.utcOffset;e.utcOffset=function(y,w){var x=this.$utils().u;if(x(y))return this.$u?0:x(this.$offset)?d.call(this):this.$offset;if("string"==typeof y&&null===(y=function(K){void 0===K&&(K="");var L=K.match(m);if(!L)return null;var V=(""+L[0]).match(b)||["-",0,0],$=60*+V[1]+ +V[2];return 0===$?0:"+"===V[0]?$:-$}(y)))return this;var T=Math.abs(y)<=16?60*y:y,I=this;if(w)return I.$offset=T,I.$u=0===y,I;if(0!==y){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(T+j,"minute")).$offset=T,I.$x.$localOffset=j}else I=this.utc();return I};var h=e.format;e.format=function(y){return h.call(this,y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},e.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},e.isUTC=function(){return!!this.$u},e.toISOString=function(){return this.toDate().toISOString()},e.toString=function(){return this.toDate().toUTCString()};var f=e.toDate;e.toDate=function(y){return"s"===y&&this.$offset?g(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var _=e.diff;e.diff=function(y,w,x){if(y&&this.$u===y.$u)return _.call(this,y,w,x);var T=this.local(),I=g(y).local();return _.call(T,I,w,x)}}}()},1118:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"da",weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n._man._tirs._ons._tors._fre._l\xf8r.".split("_"),weekdaysMin:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj_juni_juli_aug._sept._okt._nov._dec.".split("_"),weekStart:1,yearStart:4,ordinal:function(e){return e+"."},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"}};return p.default.locale(g,null,!0),g}(m(9645))},1134:(ge,fe,m)=>{"use strict";m.d(fe,{D6:()=>y,LG:()=>f});var b=m(1659),A=m(316),p=m(4646);const g=["determinateSpinner"];function e(w,x){if(1&w&&(b.qSk(),b.j41(0,"svg",11),b.nrm(1,"circle",12),b.k0s()),2&w){const T=b.XpG();b.BMQ("viewBox",T._viewBox()),b.R7$(),b.xc7("stroke-dasharray",T._strokeCircumference(),"px")("stroke-dashoffset",T._strokeCircumference()/2,"px")("stroke-width",T._circleStrokeWidth(),"%"),b.BMQ("r",T._circleRadius())}}const c=new b.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function l(){return{diameter:d}}}),d=100;let f=(()=>{class w{_elementRef=(0,b.WQX)(b.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(T){this._color=T}_color;_defaultColor="primary";_determinateCircle;constructor(){const T=(0,b.WQX)(b.bc$,{optional:!0}),I=(0,b.WQX)(c);this._noopAnimations="NoopAnimations"===T&&!!I&&!I._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",I&&(I.color&&(this.color=this._defaultColor=I.color),I.diameter&&(this.diameter=I.diameter),I.strokeWidth&&(this.strokeWidth=I.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(T){this._value=Math.max(0,Math.min(100,T||0))}_value=0;get diameter(){return this._diameter}set diameter(T){this._diameter=T||0}_diameter=d;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(T){this._strokeWidth=T||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const T=2*this._circleRadius()+this.strokeWidth;return`0 0 ${T} ${T}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(I){return new(I||w)};static \u0275cmp=b.VBU({type:w,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(I,j){if(1&I&&b.GBs(g,5),2&I){let K;b.mGM(K=b.lsd())&&(j._determinateCircle=K.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(I,j){2&I&&(b.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===j.mode?j.value:null)("mode",j.mode),b.HbH("mat-"+j.color),b.xc7("width",j.diameter,"px")("height",j.diameter,"px")("--mdc-circular-progress-size",j.diameter+"px")("--mdc-circular-progress-active-indicator-width",j.diameter+"px"),b.AVh("_mat-animation-noopable",j._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===j.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",b.Udg],diameter:[2,"diameter","diameter",b.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",b.Udg]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(I,j){if(1&I&&(b.DNE(0,e,2,8,"ng-template",null,0,b.C5r),b.j41(2,"div",2,1),b.qSk(),b.j41(4,"svg",3),b.nrm(5,"circle",4),b.k0s()(),b.joV(),b.j41(6,"div",5)(7,"div",6)(8,"div",7),b.eu8(9,8),b.k0s(),b.j41(10,"div",9),b.eu8(11,8),b.k0s(),b.j41(12,"div",10),b.eu8(13,8),b.k0s()()()),2&I){const K=b.sdS(1);b.R7$(4),b.BMQ("viewBox",j._viewBox()),b.R7$(),b.xc7("stroke-dasharray",j._strokeCircumference(),"px")("stroke-dashoffset",j._strokeDashOffset(),"px")("stroke-width",j._circleStrokeWidth(),"%"),b.BMQ("r",j._circleRadius()),b.R7$(4),b.Y8G("ngTemplateOutlet",K),b.R7$(2),b.Y8G("ngTemplateOutlet",K),b.R7$(2),b.Y8G("ngTemplateOutlet",K)}},dependencies:[A.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return w})(),y=(()=>{class w{static \u0275fac=function(I){return new(I||w)};static \u0275mod=b.$C({type:w});static \u0275inj=b.G2t({imports:[p.yE]})}return w})()},1237:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"en-au",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(g,null,!0),g}(m(9645))},1444:function(ge){ge.exports=function(){"use strict";return function(fe,m,b){var p=function(d){return d&&(d.indexOf?d:d.s)},g=function(d,h,f,_,y){var w=d.name?d:d.$locale(),x=p(w[h]),T=p(w[f]),I=x||T.map(function(K){return K.slice(0,_)});if(!y)return I;var j=w.weekStart;return I.map(function(K,L){return I[(L+(j||0))%7]})},e=function(){return b.Ls[b.locale()]},c=function(d,h){return d.formats[h]||d.formats[h.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,y,w){return y||w.slice(1)})},l=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):g(d,"months")},monthsShort:function(h){return h?h.format("MMM"):g(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):g(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):g(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):g(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.prototype.localeData=function(){return l.bind(this)()},b.localeData=function(){var d=e();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return b.weekdays()},weekdaysShort:function(){return b.weekdaysShort()},weekdaysMin:function(){return b.weekdaysMin()},months:function(){return b.months()},monthsShort:function(){return b.monthsShort()},longDateFormat:function(h){return c(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},b.months=function(){return g(e(),"months")},b.monthsShort=function(){return g(e(),"monthsShort","months",3)},b.weekdays=function(d){return g(e(),"weekdays",null,null,d)},b.weekdaysShort=function(d){return g(e(),"weekdaysShort","weekdays",3,d)},b.weekdaysMin=function(d){return g(e(),"weekdaysMin","weekdays",2,d)}}}()},1624:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(c){return c&&"object"==typeof c&&"default"in c?c:{default:c}}(b);function g(c,l,d,h){var f={s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"p\xe4iv\xe4",dd:"%d p\xe4iv\xe4\xe4",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj\xe4_viisi_kuusi_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},_={s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"p\xe4iv\xe4n",dd:"%d p\xe4iv\xe4n",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_nelj\xe4n_viiden_kuuden_seitsem\xe4n_kahdeksan_yhdeks\xe4n".split("_")},y=h&&!l?_:f;return y[d].replace("%d",c<10?y.numbers[c]:c)}var e={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),ordinal:function(c){return c+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:g,m:g,mm:g,h:g,hh:g,d:g,dd:g,M:g,MM:g,y:g,yy:g},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return p.default.locale(e,null,!0),e}(m(9645))},1686:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"es-us",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"}};return p.default.locale(g,null,!0),g}(m(9645))},1726:(ge,fe,m)=>{"use strict";m.d(fe,{O:()=>b});const b={Boolean:"Boolean",Custom:"Custom",DateTime:"DateTime",Empty:"Empty",Entity:"Entity",Hyperlink:"Hyperlink",Number:"Number",String:"String"}},1810:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"bg",weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekStart:1,ordinal:function(e){var c=e%100;if(c>10&&c<20)return e+"-\u0442\u0438";var l=e%10;return 1===l?e+"-\u0432\u0438":2===l?e+"-\u0440\u0438":7===l||8===l?e+"-\u043c\u0438":e+"-\u0442\u0438"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"}};return p.default.locale(g,null,!0),g}(m(9645))},2121:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return p.default.locale(g,null,!0),g}(m(9645))},2256:()=>{var ge,fe;fe=ge||(ge={}),function(){var b="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function c(){return function g(){try{return Function("return this;")()}catch{}}()||function e(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),A=p(fe);function p(l,d){return function(h,f){Object.defineProperty(l,h,{configurable:!0,writable:!0,value:f}),d&&d(h,f)}}typeof b.Reflect<"u"&&(A=p(b.Reflect,A)),function(m,b){var A=Object.prototype.hasOwnProperty,p="function"==typeof Symbol,g=p&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",e=p&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",c="function"==typeof Object.create,l={__proto__:[]}instanceof Array,d=!c&&!l,h={create:c?function(){return kt(Object.create(null))}:l?function(){return kt({__proto__:null})}:function(){return kt({})},has:d?function(ee,le){return A.call(ee,le)}:function(ee,le){return le in ee},get:d?function(ee,le){return A.call(ee,le)?ee[le]:void 0}:function(ee,le){return ee[le]}},f=Object.getPrototypeOf(Function),_="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function st(){var ee={},le=[],he=function(){function at(Ke,Qe,Te){this._index=0,this._keys=Ke,this._values=Qe,this._selector=Te}return at.prototype["@@iterator"]=function(){return this},at.prototype[e]=function(){return this},at.prototype.next=function(){var Ke=this._index;if(Ke>=0&&Ke<this._keys.length){var Qe=this._selector(this._keys[Ke],this._values[Ke]);return Ke+1>=this._keys.length?(this._index=-1,this._keys=le,this._values=le):this._index++,{value:Qe,done:!1}}return{value:void 0,done:!0}},at.prototype.throw=function(Ke){throw this._index>=0&&(this._index=-1,this._keys=le,this._values=le),Ke},at.prototype.return=function(Ke){return this._index>=0&&(this._index=-1,this._keys=le,this._values=le),{value:Ke,done:!0}},at}();return function(){function at(){this._keys=[],this._values=[],this._cacheKey=ee,this._cacheIndex=-2}return Object.defineProperty(at.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),at.prototype.has=function(Ke){return this._find(Ke,!1)>=0},at.prototype.get=function(Ke){var Qe=this._find(Ke,!1);return Qe>=0?this._values[Qe]:void 0},at.prototype.set=function(Ke,Qe){var Te=this._find(Ke,!0);return this._values[Te]=Qe,this},at.prototype.delete=function(Ke){var Qe=this._find(Ke,!1);if(Qe>=0){for(var Te=this._keys.length,qe=Qe+1;qe<Te;qe++)this._keys[qe-1]=this._keys[qe],this._values[qe-1]=this._values[qe];return this._keys.length--,this._values.length--,ne(Ke,this._cacheKey)&&(this._cacheKey=ee,this._cacheIndex=-2),!0}return!1},at.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=ee,this._cacheIndex=-2},at.prototype.keys=function(){return new he(this._keys,this._values,Xe)},at.prototype.values=function(){return new he(this._keys,this._values,ft)},at.prototype.entries=function(){return new he(this._keys,this._values,wt)},at.prototype["@@iterator"]=function(){return this.entries()},at.prototype[e]=function(){return this.entries()},at.prototype._find=function(Ke,Qe){if(!ne(this._cacheKey,Ke)){this._cacheIndex=-1;for(var Te=0;Te<this._keys.length;Te++)if(ne(this._keys[Te],Ke)){this._cacheIndex=Te;break}}return this._cacheIndex<0&&Qe&&(this._cacheIndex=this._keys.length,this._keys.push(Ke),this._values.push(void 0)),this._cacheIndex},at}();function Xe(at,Ke){return at}function ft(at,Ke){return Ke}function wt(at,Ke){return[at,Ke]}}(),y="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function tt(){return function(){function le(){this._map=new _}return Object.defineProperty(le.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),le.prototype.has=function(he){return this._map.has(he)},le.prototype.add=function(he){return this._map.set(he,he),this},le.prototype.delete=function(he){return this._map.delete(he)},le.prototype.clear=function(){this._map.clear()},le.prototype.keys=function(){return this._map.keys()},le.prototype.values=function(){return this._map.keys()},le.prototype.entries=function(){return this._map.entries()},le.prototype["@@iterator"]=function(){return this.keys()},le.prototype[e]=function(){return this.keys()},le}()}(),w="function"==typeof WeakMap?WeakMap:function xt(){var le=h.create(),he=we();return function(){function Ke(){this._key=we()}return Ke.prototype.has=function(Qe){var Te=Xe(Qe,!1);return void 0!==Te&&h.has(Te,this._key)},Ke.prototype.get=function(Qe){var Te=Xe(Qe,!1);return void 0!==Te?h.get(Te,this._key):void 0},Ke.prototype.set=function(Qe,Te){return Xe(Qe,!0)[this._key]=Te,this},Ke.prototype.delete=function(Qe){var Te=Xe(Qe,!1);return void 0!==Te&&delete Te[this._key]},Ke.prototype.clear=function(){this._key=we()},Ke}();function we(){var Ke;do{Ke="@@WeakMap@@"+at()}while(h.has(le,Ke));return le[Ke]=!0,Ke}function Xe(Ke,Qe){if(!A.call(Ke,he)){if(!Qe)return;Object.defineProperty(Ke,he,{value:h.create()})}return Ke[he]}function ft(Ke,Qe){for(var Te=0;Te<Qe;++Te)Ke[Te]=255*Math.random()|0;return Ke}function at(){var Ke=function wt(Ke){if("function"==typeof Uint8Array){var Qe=new Uint8Array(Ke);return typeof crypto<"u"?crypto.getRandomValues(Qe):typeof msCrypto<"u"?msCrypto.getRandomValues(Qe):ft(Qe,Ke),Qe}return ft(new Array(Ke),Ke)}(16);Ke[6]=79&Ke[6]|64,Ke[8]=191&Ke[8]|128;for(var Qe="",Te=0;Te<16;++Te){var qe=Ke[Te];(4===Te||6===Te||8===Te)&&(Qe+="-"),qe<16&&(Qe+="0"),Qe+=qe.toString(16).toLowerCase()}return Qe}}(),x=p?Symbol.for("@reflect-metadata:registry"):void 0,T=function dt(){var ee;return!pe(x)&&O(b.Reflect)&&Object.isExtensible(b.Reflect)&&(ee=b.Reflect[x]),pe(ee)&&(ee=function Ge(){var ee;!pe(x)&&typeof b.Reflect<"u"&&!(x in b.Reflect)&&"function"==typeof b.Reflect.defineMetadata&&(ee=function Dt(ee){var le=ee.defineMetadata,he=ee.hasOwnMetadata,we=ee.getOwnMetadata,Xe=ee.getOwnMetadataKeys,ft=ee.deleteMetadata,wt=new w;return{isProviderFor:function(Ke,Qe){var Te=wt.get(Ke);return!(pe(Te)||!Te.has(Qe))||!!Xe(Ke,Qe).length&&(pe(Te)&&(Te=new y,wt.set(Ke,Te)),Te.add(Qe),!0)},OrdinaryDefineOwnMetadata:le,OrdinaryHasOwnMetadata:he,OrdinaryGetOwnMetadata:we,OrdinaryOwnMetadataKeys:Xe,OrdinaryDeleteMetadata:ft}}(b.Reflect));var le,he,we,Xe=new w,ft={registerProvider:wt,getProvider:Ke,setProvider:Te};return ft;function wt(qe){if(!Object.isExtensible(ft))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case ee===qe:break;case pe(le):le=qe;break;case le===qe:break;case pe(he):he=qe;break;case he===qe:break;default:void 0===we&&(we=new y),we.add(qe)}}function at(qe,ut){if(!pe(le)){if(le.isProviderFor(qe,ut))return le;if(!pe(he)){if(he.isProviderFor(qe,ut))return le;if(!pe(we))for(var _t=re(we);;){var vt=ae(_t);if(!vt)return;var Ht=Ce(vt);if(Ht.isProviderFor(qe,ut))return te(_t),Ht}}}if(!pe(ee)&&ee.isProviderFor(qe,ut))return ee}function Ke(qe,ut){var vt,_t=Xe.get(qe);return pe(_t)||(vt=_t.get(ut)),pe(vt)&&(pe(vt=at(qe,ut))||(pe(_t)&&(_t=new _,Xe.set(qe,_t)),_t.set(ut,vt))),vt}function Qe(qe){if(pe(qe))throw new TypeError;return le===qe||he===qe||!pe(we)&&we.has(qe)}function Te(qe,ut,_t){if(!Qe(_t))throw new Error("Metadata provider not registered.");var vt=Ke(qe,ut);if(vt!==_t){if(!pe(vt))return!1;var Ht=Xe.get(qe);pe(Ht)&&(Ht=new _,Xe.set(qe,Ht)),Ht.set(ut,_t)}return!0}}()),!pe(x)&&O(b.Reflect)&&Object.isExtensible(b.Reflect)&&Object.defineProperty(b.Reflect,x,{enumerable:!1,configurable:!1,writable:!1,value:ee}),ee}(),I=function ht(ee){var le=new w,he={isProviderFor:function(Qe,Te){var qe=le.get(Qe);return!pe(qe)&&qe.has(Te)},OrdinaryDefineOwnMetadata:function wt(Qe,Te,qe,ut){we(qe,ut,!0).set(Qe,Te)},OrdinaryHasOwnMetadata:function Xe(Qe,Te,qe){var ut=we(Te,qe,!1);return!pe(ut)&&ye(ut.has(Qe))},OrdinaryGetOwnMetadata:function ft(Qe,Te,qe){var ut=we(Te,qe,!1);if(!pe(ut))return ut.get(Qe)},OrdinaryOwnMetadataKeys:function at(Qe,Te){var qe=[],ut=we(Qe,Te,!1);if(pe(ut))return qe;for(var vt=re(ut.keys()),Ht=0;;){var He=ae(vt);if(!He)return qe.length=Ht,qe;var bt=Ce(He);try{qe[Ht]=bt}catch(St){try{te(vt)}finally{throw St}}Ht++}},OrdinaryDeleteMetadata:function Ke(Qe,Te,qe){var ut=we(Te,qe,!1);if(pe(ut)||!ut.delete(Qe))return!1;if(0===ut.size){var _t=le.get(Te);pe(_t)||(_t.delete(qe),0===_t.size&&le.delete(_t))}return!0}};return T.registerProvider(he),he;function we(Qe,Te,qe){var ut=le.get(Qe),_t=!1;if(pe(ut)){if(!qe)return;ut=new _,le.set(Qe,ut),_t=!0}var vt=ut.get(Te);if(pe(vt)){if(!qe)return;if(vt=new _,ut.set(Te,vt),!ee.setProvider(Qe,Te,he))throw ut.delete(Te),_t&&le.delete(Qe),new Error("Wrong provider for target.")}return vt}}(T);function Y(ee,le,he){if(q(ee,le,he))return!0;var Xe=Re(le);return!Oe(Xe)&&Y(ee,Xe,he)}function q(ee,le,he){var we=oe(le,he,!1);return!pe(we)&&ye(we.OrdinaryHasOwnMetadata(ee,le,he))}function J(ee,le,he){if(q(ee,le,he))return de(ee,le,he);var Xe=Re(le);return Oe(Xe)?void 0:J(ee,Xe,he)}function de(ee,le,he){var we=oe(le,he,!1);if(!pe(we))return we.OrdinaryGetOwnMetadata(ee,le,he)}function Me(ee,le,he,we){oe(he,we,!0).OrdinaryDefineOwnMetadata(ee,le,he,we)}function ke(ee,le){var he=$e(ee,le),we=Re(ee);if(null===we)return he;var Xe=ke(we,le);if(Xe.length<=0)return he;if(he.length<=0)return Xe;for(var ft=new y,wt=[],at=0,Ke=he;at<Ke.length;at++)ft.has(Qe=Ke[at])||(ft.add(Qe),wt.push(Qe));for(var qe=0,ut=Xe;qe<ut.length;qe++){var Qe;ft.has(Qe=ut[qe])||(ft.add(Qe),wt.push(Qe))}return wt}function $e(ee,le){var he=oe(ee,le,!1);return he?he.OrdinaryOwnMetadataKeys(ee,le):[]}function Ie(ee){if(null===ee)return 1;switch(typeof ee){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===ee?1:6;default:return 6}}function pe(ee){return void 0===ee}function Oe(ee){return null===ee}function O(ee){return"object"==typeof ee?null!==ee:"function"==typeof ee}function se(ee,le){switch(Ie(ee)){case 0:case 1:case 2:case 3:case 4:case 5:return ee}var he=3===le?"string":5===le?"number":"default",we=Ne(ee,g);if(void 0!==we){var Xe=we.call(ee,he);if(O(Xe))throw new TypeError;return Xe}return function be(ee,le){if("string"===le){var he=ee.toString;if(Le(he)&&!O(we=he.call(ee)))return we;if(Le(Xe=ee.valueOf)&&!O(we=Xe.call(ee)))return we}else{var Xe;if(Le(Xe=ee.valueOf)&&!O(we=Xe.call(ee)))return we;var we,ft=ee.toString;if(Le(ft)&&!O(we=ft.call(ee)))return we}throw new TypeError}(ee,"default"===he?"number":he)}function ye(ee){return!!ee}function De(ee){var le=se(ee,3);return function Z(ee){return"symbol"==typeof ee}(le)?le:function Be(ee){return""+ee}(le)}function Ue(ee){return Array.isArray?Array.isArray(ee):ee instanceof Object?ee instanceof Array:"[object Array]"===Object.prototype.toString.call(ee)}function Le(ee){return"function"==typeof ee}function Ee(ee){return"function"==typeof ee}function ne(ee,le){return ee===le||ee!=ee&&le!=le}function Ne(ee,le){var he=ee[le];if(null!=he){if(!Le(he))throw new TypeError;return he}}function re(ee){var le=Ne(ee,e);if(!Le(le))throw new TypeError;var he=le.call(ee);if(!O(he))throw new TypeError;return he}function Ce(ee){return ee.value}function ae(ee){var le=ee.next();return!le.done&&le}function te(ee){var le=ee.return;le&&le.call(ee)}function Re(ee){var le=Object.getPrototypeOf(ee);if("function"!=typeof ee||ee===f||le!==f)return le;var he=ee.prototype,we=he&&Object.getPrototypeOf(he);if(null==we||we===Object.prototype)return le;var Xe=we.constructor;return"function"!=typeof Xe||Xe===ee?le:Xe}function oe(ee,le,he){var we=T.getProvider(ee,le);if(!pe(we))return we;if(he){if(T.setProvider(ee,le,I))return I;throw new Error("Illegal state.")}}function kt(ee){return ee.__=void 0,delete ee.__,ee}m("decorate",function j(ee,le,he,we){if(pe(he)){if(!Ue(ee))throw new TypeError;if(!Ee(le))throw new TypeError;return function S(ee,le){for(var he=ee.length-1;he>=0;--he){var Xe=(0,ee[he])(le);if(!pe(Xe)&&!Oe(Xe)){if(!Ee(Xe))throw new TypeError;le=Xe}}return le}(ee,le)}if(!Ue(ee))throw new TypeError;if(!O(le))throw new TypeError;if(!O(we)&&!pe(we)&&!Oe(we))throw new TypeError;return Oe(we)&&(we=void 0),function F(ee,le,he,we){for(var Xe=ee.length-1;Xe>=0;--Xe){var wt=(0,ee[Xe])(le,he,we);if(!pe(wt)&&!Oe(wt)){if(!O(wt))throw new TypeError;we=wt}}return we}(ee,le,he=De(he),we)}),m("metadata",function K(ee,le){return function he(we,Xe){if(!O(we))throw new TypeError;if(!pe(Xe)&&!function xe(ee){switch(Ie(ee)){case 3:case 4:return!0;default:return!1}}(Xe))throw new TypeError;Me(ee,le,we,Xe)}}),m("defineMetadata",function L(ee,le,he,we){if(!O(he))throw new TypeError;return pe(we)||(we=De(we)),Me(ee,le,he,we)}),m("hasMetadata",function V(ee,le,he){if(!O(le))throw new TypeError;return pe(he)||(he=De(he)),Y(ee,le,he)}),m("hasOwnMetadata",function E(ee,le,he){if(!O(le))throw new TypeError;return pe(he)||(he=De(he)),q(ee,le,he)}),m("getMetadata",function $(ee,le,he){if(!O(le))throw new TypeError;return pe(he)||(he=De(he)),J(ee,le,he)}),m("getOwnMetadata",function z(ee,le,he){if(!O(le))throw new TypeError;return pe(he)||(he=De(he)),de(ee,le,he)}),m("getMetadataKeys",function N(ee,le){if(!O(ee))throw new TypeError;return pe(le)||(le=De(le)),ke(ee,le)}),m("getOwnMetadataKeys",function M(ee,le){if(!O(ee))throw new TypeError;return pe(le)||(le=De(le)),$e(ee,le)}),m("deleteMetadata",function k(ee,le,he){if(!O(le))throw new TypeError;if(pe(he)||(he=De(he)),!O(le))throw new TypeError;pe(he)||(he=De(he));var we=oe(le,he,!1);return!pe(we)&&we.OrdinaryDeleteMetadata(ee,le,he)})}(A,b),typeof b.Reflect>"u"&&(b.Reflect=fe)}()},2467:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"fa",weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekStart:6,months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"}};return p.default.locale(g,null,!0),g}(m(9645))},2490:(ge,fe,m)=>{"use strict";m.d(fe,{S:()=>e});var b=m(4435),A=m(6740),p=m(4031);const g={all:!1,constructor:!0,update:!0,fields:[...A.z,"Icon"]};class e{get log(){return this.#e??=(0,b.Tq)({FieldLogicBase:e},g).extendName(`[${this.name}]`)}#e;constructor(l,d){this.canAutoTranslate=!1,this.#e=(0,b.Tq)(l??{FieldLogicBase:e},g,null,d),this.name??=this.#e.name,this.log.fnIf("constructor")}static add(l){const d=new l;p.y.singleton().add(d)}static importMe(){}isValueEmpty(l,d){const h=this.log.fn("isValueEmpty",{value:l,isCreateMode:d}),f=Array.isArray(l)&&0===l.length&&d;return h.r(void 0===l||f)}findAndMergeAdvanced(l,d,h){if(!d)return h;const f=l.eavConfig.settings.Entities.find(y=>y.Guid===d);if(!f)return h;const _=l.reader.flatten(f);return{...h,..._}}}},2725:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"th",weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},ordinal:function(e){return e+"."}};return p.default.locale(g,null,!0),g}(m(9645))},2853:function(ge,fe){var m,A;m=function p(){var e,g=typeof self<"u"?self:typeof window<"u"?window:void 0!==g?g:{},c=!g.document&&!!g.postMessage,l=g.IS_PAPA_WORKER||!1,d={},h=0,f={};function _(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(k){var S=$(k);S.chunkSize=parseInt(S.chunkSize),k.step||k.chunk||(S.chunkSize=null),this._handle=new I(S),(this._handle.streamer=this)._config=S}.call(this,M),this.parseChunk=function(k,S){var F=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<F){let q=this._config.newline;q||(q=this._handle.guessLineEndings(k,Y=this._config.quoteChar||'"')),k=[...k.split(q).slice(F)].join(q)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&void 0!==(Y=this._config.beforeFirstChunk(k))&&(k=Y),this.isFirstChunk=!1,this._halted=!1,F=this._partialLine+k;var Y=(this._partialLine="",this._handle.parse(F,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=Y.meta.cursor,this._finished||(this._partialLine=F.substring(k-this._baseIndex),this._baseIndex=k),Y&&Y.data&&(this._rowCount+=Y.data.length),F=this._finished||this._config.preview&&this._rowCount>=this._config.preview,l)g.postMessage({results:Y,workerId:f.WORKER_ID,finished:F});else if(N(this._config.chunk)&&!S){if(this._config.chunk(Y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=Y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Y.data),this._completeResults.errors=this._completeResults.errors.concat(Y.errors),this._completeResults.meta=Y.meta),this._completed||!F||!N(this._config.complete)||Y&&Y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||Y&&Y.meta.paused||this._nextChunk(),Y}this._halted=!0},this._sendError=function(k){N(this._config.error)?this._config.error(k):l&&this._config.error&&g.postMessage({workerId:f.WORKER_ID,error:k,finished:!1})}}function y(M){var k;(M=M||{}).chunkSize||(M.chunkSize=f.RemoteChunkSize),_.call(this,M),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),c||(k.onload=z(this._chunkLoaded,this),k.onerror=z(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var S,F=this._config.downloadRequestHeaders;for(S in F)k.setRequestHeader(S,F[S])}this._config.chunkSize&&k.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{k.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}c&&0===k.status&&this._chunkError()}},this._chunkLoaded=function(){var S;4===k.readyState&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(S=(S=k).getResponseHeader("Content-Range"))?parseInt(S.substring(S.lastIndexOf("/")+1)):-1),this.parseChunk(k.responseText)))},this._chunkError=function(S){S=k.statusText||S,this._sendError(new Error(S))}}function w(M){(M=M||{}).chunkSize||(M.chunkSize=f.LocalChunkSize),_.call(this,M);var k,S,F=typeof FileReader<"u";this.stream=function(Y){this._input=Y,S=Y.slice||Y.webkitSlice||Y.mozSlice,F?((k=new FileReader).onload=z(this._chunkLoaded,this),k.onerror=z(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Y=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),Y=S.call(Y,this._start,q)),k.readAsText(Y,this._config.encoding));F||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(Y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Y.target.result)},this._chunkError=function(){this._sendError(k.error)}}function x(M){var k;_.call(this,M=M||{}),this.stream=function(S){return k=S,this._nextChunk()},this._nextChunk=function(){var S,F;if(!this._finished)return k=(S=this._config.chunkSize)?(F=k.substring(0,S),k.substring(S)):(F=k,""),this._finished=!k,this.parseChunk(F)}}function T(M){_.call(this,M=M||{});var k=[],S=!0,F=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Y){this._input=Y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&1===k.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):S=!0},this._streamData=z(function(Y){try{k.push("string"==typeof Y?Y:Y.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(q){this._streamError(q)}},this),this._streamError=z(function(Y){this._streamCleanUp(),this._sendError(Y)},this),this._streamEnd=z(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function I(M){var k,S,F,Y,q=Math.pow(2,53),J=-q,de=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Me=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ke=this,$e=0,Ie=0,pe=!1,Oe=!1,Z=[],O={data:[],errors:[],meta:{}};function se(De){return"greedy"===M.skipEmptyLines?""===De.join("").trim():1===De.length&&0===De[0].length}function be(){if(O&&F&&(Be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),F=!1),M.skipEmptyLines&&(O.data=O.data.filter(function(xe){return!se(xe)})),ye()){let xe=function(ne,Ne){N(M.transformHeader)&&(ne=M.transformHeader(ne,Ne)),Z.push(ne)};if(O)if(Array.isArray(O.data[0])){for(var De=0;ye()&&De<O.data.length;De++)O.data[De].forEach(xe);O.data.splice(0,1)}else O.data.forEach(xe)}function Ue(xe,ne){for(var Ne=M.header?{}:[],re=0;re<xe.length;re++){var Ce=re,ae=xe[re];te=Ce=M.header?re>=Z.length?"__parsed_extra":Z[re]:Ce,Re=ae=M.transform?M.transform(ae,Ce):ae,void 0,Ge=te,M.dynamicTypingFunction&&void 0===M.dynamicTyping[Ge]&&(M.dynamicTyping[Ge]=M.dynamicTypingFunction(Ge)),ae=!0===(M.dynamicTyping[Ge]||M.dynamicTyping)?"true"===Re||"TRUE"===Re||"false"!==Re&&"FALSE"!==Re&&((Ge=>{if(de.test(Ge)&&(Ge=parseFloat(Ge),J<Ge&&Ge<q))return 1})(Re)?parseFloat(Re):Me.test(Re)?new Date(Re):""===Re?null:Re):Re,"__parsed_extra"===Ce?(Ne[Ce]=Ne[Ce]||[],Ne[Ce].push(ae)):Ne[Ce]=ae}var te,Re,Ge;return M.header&&(re>Z.length?Be("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+re,Ie+ne):re<Z.length&&Be("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+re,Ie+ne)),Ne}var Le;O&&(M.header||M.dynamicTyping||M.transform)&&(Le=1,!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(Ue),Le=O.data.length):O.data=Ue(O.data,0),M.header&&O.meta&&(O.meta.fields=Z),Ie+=Le)}function ye(){return M.header&&0===Z.length}function Be(De,Ue,Le,Ee){De={type:De,code:Ue,message:Le},void 0!==Ee&&(De.row=Ee),O.errors.push(De)}N(M.step)&&(Y=M.step,M.step=function(De){O=De,ye()?be():(be(),0!==O.data.length&&($e+=De.data.length,M.preview&&$e>M.preview?S.abort():(O.data=O.data[0],Y(O,ke))))}),this.parse=function(De,Ue,Le){var Ee=M.quoteChar||'"';return M.newline||(M.newline=this.guessLineEndings(De,Ee)),F=!1,M.delimiter?N(M.delimiter)&&(M.delimiter=M.delimiter(De),O.meta.delimiter=M.delimiter):((Ee=((xe,ne,Ne,re,Ce)=>{var ae,te,Re,Ge;Ce=Ce||[",","\t","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var dt=0;dt<Ce.length;dt++){for(var ht,Dt=Ce[dt],oe=0,st=0,tt=0,xt=(Re=void 0,new K({comments:re,delimiter:Dt,newline:ne,preview:10}).parse(xe)),kt=0;kt<xt.data.length;kt++)Ne&&se(xt.data[kt])?tt++:(st+=ht=xt.data[kt].length,void 0===Re?Re=ht:0<ht&&(oe+=Math.abs(ht-Re),Re=ht));0<xt.data.length&&(st/=xt.data.length-tt),(void 0===te||oe<=te)&&(void 0===Ge||Ge<st)&&1.99<st&&(te=oe,ae=Dt,Ge=st)}return{successful:!!(M.delimiter=ae),bestDelimiter:ae}})(De,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=Ee.bestDelimiter:(F=!0,M.delimiter=f.DefaultDelimiter),O.meta.delimiter=M.delimiter),Ee=$(M),M.preview&&M.header&&Ee.preview++,k=De,S=new K(Ee),O=S.parse(k,Ue,Le),be(),pe?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,S.abort(),k=N(M.chunk)?"":k.substring(S.getCharIndex())},this.resume=function(){ke.streamer._halted?(pe=!1,ke.streamer.parseChunk(k,!0)):setTimeout(ke.resume,3)},this.aborted=function(){return Oe},this.abort=function(){Oe=!0,S.abort(),O.meta.aborted=!0,N(M.complete)&&M.complete(O),k=""},this.guessLineEndings=function(xe,Ee){xe=xe.substring(0,1048576),Ee=new RegExp(j(Ee)+"([^]*?)"+j(Ee),"gm");var Le=(xe=xe.replace(Ee,"")).split("\r");if(xe=1<(Ee=xe.split("\n")).length&&Ee[0].length<Le[0].length,1===Le.length||xe)return"\n";for(var ne=0,Ne=0;Ne<Le.length;Ne++)"\n"===Le[Ne][0]&&ne++;return ne>=Le.length/2?"\r\n":"\r"}}function j(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K(M){var k=(M=M||{}).delimiter,S=M.newline,F=M.comments,Y=M.step,q=M.preview,J=M.fastMode,de=null,Me=!1,ke=null==M.quoteChar?'"':M.quoteChar,$e=ke;if(void 0!==M.escapeChar&&($e=M.escapeChar),("string"!=typeof k||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=","),F===k)throw new Error("Comment character same as delimiter");!0===F?F="#":("string"!=typeof F||-1<f.BAD_DELIMITERS.indexOf(F))&&(F=!1),"\n"!==S&&"\r"!==S&&"\r\n"!==S&&(S="\n");var Ie=0,pe=!1;this.parse=function(Oe,Z,O){if("string"!=typeof Oe)throw new Error("Input must be a string");var se=Oe.length,be=k.length,ye=S.length,Be=F.length,De=N(Y),Ue=[],Le=[],Ee=[],xe=Ie=0;if(!Oe)return oe();if(J||!1!==J&&-1===Oe.indexOf(ke)){for(var ne=Oe.split(S),Ne=0;Ne<ne.length;Ne++){if(Ie+=(Ee=ne[Ne]).length,Ne!==ne.length-1)Ie+=S.length;else if(O)return oe();if(!F||Ee.substring(0,Be)!==F){if(De){if(Ue=[],Ge(Ee.split(k)),st(),pe)return oe()}else Ge(Ee.split(k));if(q&&q<=Ne)return Ue=Ue.slice(0,q),oe(!0)}}return oe()}for(var re=Oe.indexOf(k,Ie),Ce=Oe.indexOf(S,Ie),ae=new RegExp(j($e)+j(ke),"g"),te=Oe.indexOf(ke,Ie);;)if(Oe[Ie]===ke)for(te=Ie,Ie++;;){if(-1===(te=Oe.indexOf(ke,te+1)))return O||Le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ue.length,index:Ie}),ht();if(te===se-1)return ht(Oe.substring(Ie,te).replace(ae,ke));if(ke===$e&&Oe[te+1]===$e)te++;else if(ke===$e||0===te||Oe[te-1]!==$e){-1!==re&&re<te+1&&(re=Oe.indexOf(k,te+1));var Re=dt(-1===(Ce=-1!==Ce&&Ce<te+1?Oe.indexOf(S,te+1):Ce)?re:Math.min(re,Ce));if(Oe.substr(te+1+Re,be)===k){Ee.push(Oe.substring(Ie,te).replace(ae,ke)),Oe[Ie=te+1+Re+be]!==ke&&(te=Oe.indexOf(ke,Ie)),re=Oe.indexOf(k,Ie),Ce=Oe.indexOf(S,Ie);break}if(Re=dt(Ce),Oe.substring(te+1+Re,te+1+Re+ye)===S){if(Ee.push(Oe.substring(Ie,te).replace(ae,ke)),Dt(te+1+Re+ye),re=Oe.indexOf(k,Ie),te=Oe.indexOf(ke,Ie),De&&(st(),pe))return oe();if(q&&Ue.length>=q)return oe(!0);break}Le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ue.length,index:Ie}),te++}}else if(F&&0===Ee.length&&Oe.substring(Ie,Ie+Be)===F){if(-1===Ce)return oe();Ce=Oe.indexOf(S,Ie=Ce+ye),re=Oe.indexOf(k,Ie)}else if(-1!==re&&(re<Ce||-1===Ce))Ee.push(Oe.substring(Ie,re)),re=Oe.indexOf(k,Ie=re+be);else{if(-1===Ce)break;if(Ee.push(Oe.substring(Ie,Ce)),Dt(Ce+ye),De&&(st(),pe))return oe();if(q&&Ue.length>=q)return oe(!0)}return ht();function Ge(tt){Ue.push(tt),xe=Ie}function dt(tt){return-1!==tt&&(tt=Oe.substring(te+1,tt))&&""===tt.trim()?tt.length:0}function ht(tt){return O||(void 0===tt&&(tt=Oe.substring(Ie)),Ee.push(tt),Ie=se,Ge(Ee),De&&st()),oe()}function Dt(tt){Ie=tt,Ge(Ee),Ee=[],Ce=Oe.indexOf(S,Ie)}function oe(tt){if(M.header&&!Z&&Ue.length&&!Me){var xt=Ue[0],kt={},ee=new Set(xt);let le=!1;for(let he=0;he<xt.length;he++){let we=xt[he];if(kt[we=N(M.transformHeader)?M.transformHeader(we,he):we]){let Xe,ft=kt[we];for(;Xe=we+"_"+ft,ft++,ee.has(Xe););ee.add(Xe),xt[he]=Xe,kt[we]++,le=!0,(de=null===de?{}:de)[Xe]=we}else kt[we]=1,xt[he]=we;ee.add(we)}le&&console.warn("Duplicate headers found and renamed."),Me=!0}return{data:Ue,errors:Le,meta:{delimiter:k,linebreak:S,aborted:pe,truncated:!!tt,cursor:xe+(Z||0),renamedHeaders:de}}}function st(){Y(oe()),Ue=[],Le=[]}},this.abort=function(){pe=!0},this.getCharIndex=function(){return Ie}}function L(M){var k=M.data,S=d[k.workerId],F=!1;if(k.error)S.userError(k.error,k.file);else if(k.results&&k.results.data){var Y={abort:function(){F=!0,V(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(N(S.userStep)){for(var q=0;q<k.results.data.length&&(S.userStep({data:k.results.data[q],errors:k.results.errors,meta:k.results.meta},Y),!F);q++);delete k.results}else N(S.userChunk)&&(S.userChunk(k.results,Y,k.file),delete k.results)}k.finished&&!F&&V(k.workerId,k.results)}function V(M,k){var S=d[M];N(S.userComplete)&&S.userComplete(k),S.terminate(),delete d[M]}function E(){throw new Error("Not implemented.")}function $(M){if("object"!=typeof M||null===M)return M;var k,S=Array.isArray(M)?[]:{};for(k in M)S[k]=$(M[k]);return S}function z(M,k){return function(){M.apply(k,arguments)}}function N(M){return"function"==typeof M}return f.parse=function(M,k){var F,S=(k=k||{}).dynamicTyping||!1;if(N(S)&&(k.dynamicTypingFunction=S,S={}),k.dynamicTyping=S,k.transform=!!N(k.transform)&&k.transform,!k.worker||!f.WORKERS_SUPPORTED)return S=null,"string"==typeof M?(M=65279!==(F=M).charCodeAt(0)?F:F.slice(1),S=new(k.download?y:x)(k)):!0===M.readable&&N(M.read)&&N(M.on)?S=new T(k):(g.File&&M instanceof File||M instanceof Object)&&(S=new w(k)),S.stream(M);(S=(()=>{var F,Y,q;return!!f.WORKERS_SUPPORTED&&(Y=g.URL||g.webkitURL||null,q=p.toString(),F=f.BLOB_URL||(f.BLOB_URL=Y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"}))),(F=new g.Worker(F)).onmessage=L,F.id=h++,d[F.id]=F)})()).userStep=k.step,S.userChunk=k.chunk,S.userComplete=k.complete,S.userError=k.error,k.step=N(k.step),k.chunk=N(k.chunk),k.complete=N(k.complete),k.error=N(k.error),delete k.worker,S.postMessage({input:M,config:k,workerId:S.id})},f.unparse=function(M,k){var S=!1,F=!0,Y=",",q="\r\n",J='"',de=J+J,Me=!1,ke=null,$e=!1,Ie=((()=>{if("object"==typeof k){if("string"!=typeof k.delimiter||f.BAD_DELIMITERS.filter(function(Z){return-1!==k.delimiter.indexOf(Z)}).length||(Y=k.delimiter),"boolean"!=typeof k.quotes&&"function"!=typeof k.quotes&&!Array.isArray(k.quotes)||(S=k.quotes),"boolean"!=typeof k.skipEmptyLines&&"string"!=typeof k.skipEmptyLines||(Me=k.skipEmptyLines),"string"==typeof k.newline&&(q=k.newline),"string"==typeof k.quoteChar&&(J=k.quoteChar),"boolean"==typeof k.header&&(F=k.header),Array.isArray(k.columns)){if(0===k.columns.length)throw new Error("Option columns is empty");ke=k.columns}void 0!==k.escapeChar&&(de=k.escapeChar+J),k.escapeFormulae instanceof RegExp?$e=k.escapeFormulae:"boolean"==typeof k.escapeFormulae&&k.escapeFormulae&&($e=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(J),"g"));if("string"==typeof M&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return pe(null,M,Me);if("object"==typeof M[0])return pe(ke||Object.keys(M[0]),M,Me)}else if("object"==typeof M)return"string"==typeof M.data&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||ke),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:"object"==typeof M.data[0]?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||"object"==typeof M.data[0]||(M.data=[M.data])),pe(M.fields||[],M.data||[],Me);throw new Error("Unable to serialize unrecognized input");function pe(Z,O,se){var be="",ye=("string"==typeof Z&&(Z=JSON.parse(Z)),"string"==typeof O&&(O=JSON.parse(O)),Array.isArray(Z)&&0<Z.length),Be=!Array.isArray(O[0]);if(ye&&F){for(var De=0;De<Z.length;De++)0<De&&(be+=Y),be+=Oe(Z[De],De);0<O.length&&(be+=q)}for(var Ue=0;Ue<O.length;Ue++){var Le=(ye?Z:O[Ue]).length,Ee=!1,xe=ye?0===Object.keys(O[Ue]).length:0===O[Ue].length;if(se&&!ye&&(Ee="greedy"===se?""===O[Ue].join("").trim():1===O[Ue].length&&0===O[Ue][0].length),"greedy"===se&&ye){for(var ne=[],Ne=0;Ne<Le;Ne++)ne.push(O[Ue][Be?Z[Ne]:Ne]);Ee=""===ne.join("").trim()}if(!Ee){for(var Ce=0;Ce<Le;Ce++)0<Ce&&!xe&&(be+=Y),be+=Oe(O[Ue][ye&&Be?Z[Ce]:Ce],Ce);Ue<O.length-1&&(!se||0<Le&&!xe)&&(be+=q)}}return be}function Oe(Z,O){var se,be;return null==Z?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(be=!1,$e&&"string"==typeof Z&&$e.test(Z)&&(Z="'"+Z,be=!0),se=Z.toString().replace(Ie,de),(be=be||!0===S||"function"==typeof S&&S(Z,O)||Array.isArray(S)&&S[O]||((ye,Be)=>{for(var De=0;De<Be.length;De++)if(-1<ye.indexOf(Be[De]))return!0;return!1})(se,f.BAD_DELIMITERS)||-1<se.indexOf(Y)||" "===se.charAt(0)||" "===se.charAt(se.length-1))?J+se+J:se)}},f.RECORD_SEP="\x1e",f.UNIT_SEP="\x1f",f.BYTE_ORDER_MARK="\ufeff",f.BAD_DELIMITERS=["\r","\n",'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!c&&!!g.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=K,f.ParserHandle=I,f.NetworkStreamer=y,f.FileStreamer=w,f.StringStreamer=x,f.ReadableStreamStreamer=T,g.jQuery&&((e=g.jQuery).fn.parse=function(M){var k=M.config||{},S=[];return this.each(function(q){if("INPUT"!==e(this).prop("tagName").toUpperCase()||"file"!==e(this).attr("type").toLowerCase()||!g.FileReader||!this.files||0===this.files.length)return!0;for(var J=0;J<this.files.length;J++)S.push({file:this.files[J],inputElem:this,instanceConfig:e.extend({},k)})}),F(),this;function F(){if(0===S.length)N(M.complete)&&M.complete();else{var J,de,Me,ke=S[0];if(N(M.before)){var $e=M.before(ke.file,ke.inputElem);if("object"==typeof $e){if("abort"===$e.action)return J=ke.file,de=ke.inputElem,Me=$e.reason,void(N(M.error)&&M.error({name:"AbortError"},J,de,Me));if("skip"===$e.action)return void Y();"object"==typeof $e.config&&(ke.instanceConfig=e.extend(ke.instanceConfig,$e.config))}else if("skip"===$e)return void Y()}var Ie=ke.instanceConfig.complete;ke.instanceConfig.complete=function(pe){N(Ie)&&Ie(pe,ke.file,ke.inputElem),Y()},f.parse(ke.file,ke.instanceConfig)}}function Y(){S.splice(0,1),F()}}),l&&(g.onmessage=function(M){M=M.data,void 0===f.WORKER_ID&&M&&(f.WORKER_ID=M.workerId),"string"==typeof M.input?g.postMessage({workerId:f.WORKER_ID,results:f.parse(M.input,M.config),finished:!0}):(g.File&&M.input instanceof File||M.input instanceof Object)&&(M=f.parse(M.input,M.config))&&g.postMessage({workerId:f.WORKER_ID,results:M,finished:!0})}),(y.prototype=Object.create(_.prototype)).constructor=y,(w.prototype=Object.create(_.prototype)).constructor=w,(x.prototype=Object.create(x.prototype)).constructor=x,(T.prototype=Object.create(_.prototype)).constructor=T,f},void 0!==(A=m.apply(fe,[]))&&(ge.exports=A)},3066:function(ge){ge.exports=function(){"use strict";var fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(m,b,A){var p=b.prototype,g=p.format;A.en.formats=fe,p.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var h,c=this.$locale().formats,l=(h=void 0===c?{}:c,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,_,y){var w=y&&y.toUpperCase();return _||h[y]||fe[y]||h[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,T,I){return T||I.slice(1)})}));return g.call(this,l)}}}()},3140:(ge,fe,m)=>{"use strict";m.d(fe,{J:()=>p});var b=m(7092),A=m(1659);let p=(()=>{class g{constructor(){this.subscriptions=new b.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(l){return new(l||g)}}static{this.\u0275dir=A.FsC({type:g})}}return g})()},3176:(ge,fe,m)=>{"use strict";m.d(fe,{$:()=>p});var b=m(7092),A=m(1659);let p=(()=>{class g{constructor(){this.subscriptions=new b.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(l){return new(l||g)}}static{this.\u0275cmp=A.VBU({type:g,selectors:[["app-base-component"]],decls:0,vars:0,template:function(l,d){},encapsulation:2})}}return g})()},3238:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var c=["th","st","nd","rd"],l=e%100;return"["+e+(c[(l-20)%10]||c[l]||c[0])+"]"}};return p.default.locale(g,null,!0),g}(m(9645))},3379:(ge,fe,m)=>{"use strict";m.r(fe),m.d(fe,{EditEntryComponent:()=>$y});var b=m(2159),A=m(9001),p=m(4435),g=m(8873),e=m(1659),c=m(2938),l=m(1612),d=m(1477),h=m(3216),f=m(7167),w=m(4031),x=m(7314),T=m(9977),I=m(6632);let j=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({AdamCacheService:a})),this.getId=t=>t.Guid}loadPrefetch(t){if(null==t)return;const i=Object.entries(t).map(([n,r])=>({Guid:n,Attributes:r}));this.addMany(i)}getAdamSnapshot(t,i){return this.cache()[t]?.Attributes[i]}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),K=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({LinkCacheService:a})),this.getId=t=>t.key.trim().toLocaleLowerCase()}addPrefetch(t,i){const n=t?Object.entries(t).map(([o,u])=>({key:o,...u})):[],r=null!=i?Object.entries(i).flatMap(([o,u])=>Object.entries(u).flatMap(([v,P])=>this.adamToLinks(P))):[];this.addMany([...n,...r])}addAdam(t){this.addMany(this.adamToLinks(t))}addLink(t,i){const n={key:t=t.trim().toLocaleLowerCase(),...i,Adam:{...i.Adam}};this.add(n)}adamToLinks(t){return t.filter(i=>!i.IsFolder).map(i=>({key:i.ReferenceId,Adam:{...i},Value:i.Url}))}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var L=m(3991),V=m(6849),E=m(3050),$=m(6001),z=m(4813),N=m(8394),M=m(7706),k=m(927),S=m(8265),F=m(271),Y=m(8764),q=m(6474),J=m(9431);const de={all:!1,fetchFormData:!1,saveFormData:!1};let $e=(()=>{class a extends q.D{constructor(t){super(),this.globalConfigService=t,this.log=(0,p.Tq)({FormDataService:a},de)}fetchFormData(t){return this.log.fnIf("fetchFormData",{items:t,context:this.context}),this.http.post(this.apiUrl("cms/edit/load"),t,{params:{appId:this.appId}}).pipe((0,F.T)(i=>(i.Context.Language.List=i.Context.Language.List.filter(n=>n.IsEnabled),i)),(0,Y.M)(i=>{this.globalConfigService.allowDebug(i.Context.Enable.DebugMode)}))}saveFormData(t,i){return this.log.fnIf("saveFormData",{result:t,partOfPage:i}),this.http.post(this.apiUrl("cms/edit/save"),t,{params:{appId:this.appId,partOfPage:i}})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(J.B))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ie=m(2093),pe=m(8503);const Oe={Show:"show",Hide:"hide",Branch:"branch"};let Z=(()=>{class a extends I.r{constructor(){super((0,p.Tq)({FormPublishingService:a})),this.getId=t=>t.formId,this.#e=new pe.K("publishMode")}setPublishMode(t,i,n){null==n.config.versioningOptions[t]&&(t=Object.keys(n.config.versioningOptions)[0]),this.add({formId:i,DraftShouldBranch:t===Oe.Branch,IsPublished:t===Oe.Show})}getPublishMode(t){return this.#e.getOrCreate(t,()=>this.toPublishMode(this.get(t)))}#e;toPublishMode(t){return t.DraftShouldBranch?Oe.Branch:t.IsPublished?Oe.Show:Oe.Hide}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var O=m(852),se=m(3347);const be={all:!1,constructor:!0,fetchFormData:!1,importLoadedData:!1,keepInitialValues:!1,initMissingValues:!1};let ye=(()=>{class a{#e;#t;#i;constructor(t,i,n,r,o,u,v,P,G,ie,ce,Ae,Ze,nt){this.route=t,this.formConfig=i,this.itemService=n,this.inputTypeService=r,this.contentTypeItemService=o,this.contentTypeService=u,this.publishStatusService=v,this.translate=P,this.languageService=G,this.languageStore=ie,this.snackBar=ce,this.adamCacheService=Ae,this.linkCacheService=Ze,this.featuresService=nt,this.log=(0,p.Tq)({EditInitializerService:a},be),this.loaded=(0,e.vPA)(!1),this.#e=(0,c.d)($e),this.#t=(0,c.d)(f.L),this.#i={},this.log.aIf("constructor",null,"constructor")}fetchFormData(){const t=this.log.fnIf("fetchFormData"),i=(0,h.K)(this.route.snapshot.params.items),n={...i,items:i.items.map((o,u)=>({...o,clientId:u}))};t.a("fetchFormData",n);const r=JSON.stringify(n.items);this.#e.fetchFormData(r).subscribe(o=>{const u={...o,Items:o.Items.map(v=>{const P=n.items.find(G=>G.clientId===v.Header.clientId);return t.a("fetchFormData - remix",{item:v,originalItem:P}),null==P?v:{...v,Header:{...v.Header,Prefill:P.Prefill,ClientData:P.ClientData}}})};t.a("fetchFormData - after remix",{formData:u}),this.featuresService.load(u.Context,u),(0,d.W)(u.Context.App),this.#n(u),this.#a(),this.#s(),this.loaded.set(!0)})}#n(t){this.log.fnIf("importLoadedData");const n=Math.floor(99999*Math.random()),r=function _(a){let s=0;for(const t of a.snapshot.pathFromRoot)if(!(t.url.length<=0))for(const i of t.url)"edit"===i.path&&s++;return 1===s}(this.route),o=t.Items.map(nt=>nt.Entity.Guid);this.itemService.loadItems(t.Items),this.inputTypeService.addMany(t.InputTypes),this.contentTypeItemService.addContentTypeItems(t.ContentTypeItems),this.contentTypeService.addContentTypes(t.ContentTypes),this.adamCacheService.loadPrefetch(t.Prefetch?.Adam),this.linkCacheService.addPrefetch(t.Prefetch?.Links,t.Prefetch?.Adam);const u=this.itemService.getMany(o),v=0===u[0].Entity.Id,P=null!=u[0].Header.DuplicateEntity,G=!v&&!1!==this.route.snapshot.data.history,ie={...t.Settings,Entities:N.g.convertMany(t.Settings.Entities),ContentTypes:z._.convertMany(t.Settings.ContentTypes)};this.formConfig.initFormConfig(t.Context,n,r,o,v,P,G,ie);var ce=t.Context.Language;const Ae=this.#t.uiCode(ce.Current);if(this.translate.use(Ae),r){const nt=function y(a,s){if(0===s.length)return s;let t;const i=[],n=[];for(const o of s)o.NameId===a?t=o:o.NameId.startsWith(a.split("-")[0])?i.push(o):n.push(o);return i.sort((o,u)=>o.NameId.localeCompare(u.NameId)),n.sort((o,u)=>o.NameId.localeCompare(u.NameId)),t?[t,...i,...n]:[...i,...n]}(ce.Primary,ce.List);this.languageService.addMany(nt)}this.languageStore.addForm(n,ce.Primary,ce.Current,!1);const Ze=this.publishStatusService.toPublishMode(t);this.publishStatusService.setPublishMode(Ze,n,this.formConfig)}#a(){this.log.fnIf("keepInitialValues");const i=this.itemService.getMany(this.formConfig.config.itemGuids),n=this.languageService.getAll().map(o=>o.NameId),r=this.formConfig.language();n.includes(r.current)||n.push(r.current),n.includes(r.primary)||n.push(r.primary);for(const o of i)for(const u of n){const v=new E.bT(u,r.primary).currentValues(o.Entity.Attributes);this.#i[this.#r(o.Entity.Guid,u)]=v}}#r(t,i){return`entityGuid:${t}:language:${i}`}getInitialValues(t,i){return this.#i[this.#r(t,i)]}#s(){const t=this.log.fnIf("initMissingValues"),i=this.itemService.updater,n=this.formConfig.config,r=n.formId,o=this.itemService.getMany(n.itemGuids),u=this.inputTypeService.getAll(),v=this.languageService.getAll(),P=this.formConfig.language();let G=!1;const ie=n.createMode,ce=new M.q("EditInitializerService");for(const Ae of o){const Ze=this.contentTypeService.getContentTypeOfItem(Ae);for(const nt of Ze.Attributes){const rt=nt.Name,Ft=u.find(ci=>ci.Type===nt.InputType),Kt=l.Q.isEmpty(Ft?.Type);if(t.a(`Attribute: '${rt}' InputType: '${Ft?.Type}' isEmptyType: '${Kt}'`),Kt)continue;const Mt=w.y.singleton().getOrUnknown(Ft?.Type),ai=Ae.Entity.Attributes[nt.Name],fi=ce.getDefaultSettings(new E.bT(P.primary,P.primary).flatten(nt.Metadata));if(0===v.length){t.a(`${rt} languages none, simple init`);const ci=new x.U(ai,"*").currentOrDefaultOrAny?.Value;Mt.isValueEmpty(ci,ie)&&i.setDefaultValue(Ae,nt,Ft,fi,v,P.primary)}else{t.a(`${rt} languages many, complex init`);const ci=Ft?.DisableI18n,Di=new x.U(ai,"*").currentOrDefault?.Value;if(t.a(rt,{disableI18n:ci,noLanguageValue:Di}),!ci&&void 0!==Di){const el=i.removeItemAttributeDimension(Ae.Entity.Guid,nt.Name,"*",!0);i.addItemAttributeValue(Ae.Entity.Guid,nt.Name,Di,P.primary,!1,nt.Type,!1,el),t.a(`${rt} exit`);continue}const ia=new x.U(ai,P.primary).currentOrDefault?.Value,na=Mt.isValueEmpty(ia,ie);t.a(rt,{currentName:rt,valueIsEmpty:na,defaultLanguageValue:ia,isCreateMode:ie}),na&&null!=i.setDefaultValue(Ae,nt,Ft,fi,v,P.primary)&&!fi.IsEphemeral&&(G=!0)}}}if(G&&P.current!==P.primary){this.languageStore.setCurrent(r,P.primary);const Ae=this.translate.instant("Message.SwitchedLanguageToDefault",{language:P.primary});this.snackBar.open(Ae,null,{duration:5e3})}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(b.nX),e.KVO(S.S),e.KVO(k.b),e.KVO($.A),e.KVO(L.k),e.KVO(V.n),e.KVO(Z),e.KVO(O.c$),e.KVO(T.g),e.KVO(Ie.A),e.KVO(se.UG),e.KVO(j),e.KVO(K),e.KVO(A.D))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var De,Be=m(7149);const Ue={all:!1,load:!0,sortByType:!1,insertToDom:!1};let Ee=(()=>{class a{#e;constructor(t){this.formConfig=t,this.log=(0,p.Tq)({ScriptsLoaderService:a},Ue),this.#e=[]}load(t,i){this.log.fnIf("load",{scripts:t});const n=this.#t(t);this.#i(n,i,0)}#t(t){this.log.fnIf("sortByType",{scripts:t});const i=[],n=[];return t.forEach(r=>{const o={path:De.resolveUrlTokens(r,this.formConfig.config),type:null,loaded:!1,domEl:null};o.path.endsWith(".css")?(o.type=".css",i.push(o)):o.path.endsWith(".js")&&(o.type=".js",n.push(o))}),i.concat(n)}#i(t,i,n){this.log.fnIf("insertToDom",{files:t,increment:n});const r=t[n];if(n++,!r)return void i();r.path=r.path+"?sxcver="+window.sxcVersion;const o=this.#e.find(u=>u.path===r.path);if(o)if(o.loaded)this.#i(t,i,n);else{const u=()=>{r.loaded=!0,this.#i(t,i,n),o.domEl.removeEventListener("load",u),o.domEl.removeEventListener("error",u)};o.domEl.addEventListener("load",u),o.domEl.addEventListener("error",u)}else{".css"===r.type?(r.domEl=document.createElement("link"),r.domEl.rel="stylesheet",r.domEl.href=r.path):".js"===r.type&&(r.domEl=document.createElement("script"),r.domEl.type="module",r.domEl.src=r.path);const u=()=>{r.loaded=!0,this.#i(t,i,n),r.domEl.removeEventListener("load",u),r.domEl.removeEventListener("error",u)};r.domEl.addEventListener("load",u),r.domEl.addEventListener("error",u),document.querySelector("head").appendChild(r.domEl),this.#e.push(r)}}static resolveUrlTokens(t,i){return t.replace(/\[System:Path\]/i,E.b.getUrlPrefix("system",i)).replace(/\[Zone:Path\]/i,E.b.getUrlPrefix("zone",i)).replace(/\[App:Path\]/i,E.b.getUrlPrefix("app",i)).replace(/\[App:PathShared\]/i,E.b.getUrlPrefix("appShared",i))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(S.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();De=Ee;var xe=m(4344),ne=m(316),Ne=m(9074),re=m(4646),Ce=m(7941),ae=m(3840),te=m(9452),Re=m(591),Ge=m(3037),dt=m(8537),ht=m(3176),Dt=m(5699),oe=m(7993),st=m(8656),vt=m(436);let Ht=(()=>{class a{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.icons={"apple-filled":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44c2,0,4-1.85,6-1.85S28,44,30,44\r\n\t\tc6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"apple-outlined":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n<style type="text/css">\r\n\t.st0{display:none;}\r\n\t.st1{display:inline;}\r\n</style>\r\n<g id="Layer_1">\r\n\t<path d="M32,4c-6,0-10,4-10,10C28,14,32,10,32,4z"/>\r\n</g>\r\n<g id="Layer_3" class="st0">\r\n</g>\r\n<g id="Icon">\r\n\t<path d="M32,20c3.7,0,6,2.1,6,5.47C38,33.21,33.01,40,30.06,40c-0.25-0.04-0.93-0.35-1.38-0.56c-1.25-0.58-2.8-1.3-4.68-1.3\r\n\t\ts-3.43,0.72-4.68,1.3C18.87,39.65,18.19,39.97,18,40c-3.01,0-8-6.79-8-14.53C10,22.1,12.3,20,16,20c2.44,0,5.29,1.17,6.17,1.62\r\n\t\tL24,22.56l1.83-0.94C26.64,21.2,29.53,20,32,20 M32,16c-4,0-8,2.06-8,2.06S20,16,16,16c-6,0-10,4.01-10,9.47C6,34.74,12,44,18,44\r\n\t\tc2,0,4-1.85,6-1.85S28,44,30,44c6,0,12-9.26,12-18.53C42,20.01,38,16,32,16L32,16z"/>\r\n</g>\r\n</svg>\r\n',"draft-branch":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 39.2 28.2 71.8 65.5 78.7-.8 17.2-5 30.4-12.7 40-17.5 21.8-53.1 25.2-90.7 28.7-28.2 2.6-57.4 5.4-80.4 16.9-3.4 1.7-6.7 3.6-9.7 5.7V158.4c36.5-7.4 64-39.7 64-78.4 0-44.2-35.8-80-80-80S0 35.8 0 80c0 38.7 27.5 71 64 78.4v195.2C27.5 361 0 393.3 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-36.9-24.9-67.9-58.9-77.2 5-9.6 12.3-14.6 19-18 17.5-8.8 42.5-11.2 68.9-13.7 42.6-4 86.7-8.1 112.7-40.5 12.4-15.5 19-35.5 19.8-60.7C357.3 214 384 182.1 384 144zM32 80c0-26.5 21.5-48 48-48s48 21.5 48 48-21.5 48-48 48-48-21.5-48-48zm96 352c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-26.4 21.4-47.9 47.8-48h.6c26.3.2 47.6 21.7 47.6 48zm187.8-241.5L304 192c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48c0 22.4-15.4 41.2-36.2 46.5z"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z"/></svg>',"file-archive":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M128 96v32h32V96zm65.9 169.6c-1.1-5.6-6-9.6-11.8-9.6H160v-32h-32v32l-19.4 97.2c-6.5 32.5 18.3 62.8 51.4 62.8s57.9-30.3 51.4-62.8zm-33.6 124.5c-17.9 0-32.4-12.1-32.4-27s14.5-27 32.4-27 32.4 12.1 32.4 27-14.5 27-32.4 27zM128 160v32h32v-32zm64-96h-32v32h32zm177.9 33.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.4 2.1 7.4 4.2l83.9 83.9c2 2 3.5 4.6 4.2 7.4H256zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h79.7v32h32V32H224v104c0 13.3 10.7 24 24 24h104zM192 192h-32v32h32zm0-64h-32v32h32z"/></svg>',"file-audio":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-77.6-66.6c38.5-26 61.6-69.3 61.6-115.7 0-24.7-6.5-48.9-18.9-70.1-12-20.6-29.1-37.8-49.6-50-7.1-4.2-16.3-1.9-20.6 5.2-4.2 7.1-1.9 16.3 5.2 20.6 33.1 19.7 53.7 55.8 53.7 94.3 0 36.5-18.1 70.4-48.3 90.9-6.9 4.6-8.7 14-4 20.8 2.9 4.3 7.6 6.6 12.4 6.6 3.1 0 6-.8 8.5-2.6zm-26.6-38.3c26-17.3 41.5-46.2 41.5-77.4 0-32.9-17.7-63.7-46.2-80.3-7.2-4.2-16.3-1.7-20.5 5.4-4.2 7.2-1.7 16.3 5.4 20.5 19.3 11.2 31.3 32 31.3 54.3 0 21.1-10.5 40.7-28.1 52.4-6.9 4.6-8.8 13.9-4.2 20.8 2.9 4.4 7.7 6.7 12.5 6.7 2.8.1 5.7-.7 8.3-2.4zm-27-38.2c13.7-8.5 21.8-23.1 21.8-39.2 0-17-9.3-32.5-24.2-40.6-7.3-3.9-16.4-1.2-20.3 6.1-3.9 7.3-1.2 16.4 6.1 20.3 5.2 2.8 8.5 8.3 8.5 14.2 0 5.6-2.9 10.8-7.6 13.7-7 4.4-9.2 13.6-4.8 20.7 2.8 4.6 7.7 7.1 12.8 7.1 2.5 0 5.2-.7 7.7-2.3zM138 266.7v74.7L112 322H94v-36h18l26-19.3m17.9-50.7c-2.9 0-6 1.1-8.4 3.5L104 256H76c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h28l43.5 36.5c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V228c0-7.2-5.9-12-12.1-12z"/></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"/></svg>',"file-excel":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM211.7 308l50.5-81.8c4.8-8-.9-18.2-10.3-18.2h-4.1c-4.1 0-7.9 2.1-10.1 5.5-31 48.5-36.4 53.5-45.7 74.5-17.2-32.2-8.4-16-45.8-74.5-2.2-3.4-6-5.5-10.1-5.5H132c-9.4 0-15.1 10.3-10.2 18.2L173 308l-59.1 89.5c-5.1 8 .6 18.5 10.1 18.5h3.5c4.1 0 7.9-2.1 10.1-5.5 37.2-58 45.3-62.5 54.4-82.5 31.5 56.7 44.3 67.2 54.4 82.6 2.2 3.4 6 5.4 10 5.4h3.6c9.5 0 15.2-10.4 10.1-18.4L211.7 308z"/></svg>',"file-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M159 336l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0l-39 39L63 448h256V304l-55.5-55.5c-4.7-4.7-12.3-4.7-17 0L159 336zm96-50.7l32 32V416H95.1l.3-67.2 15.6-15.6 48 48c20.3-20.3 77.7-77.6 96-95.9zM127 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm0-96c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm242.9-62.1L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM256 32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5zM352 464c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304z"/></svg>',"file-pdf":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-22-171.2c-13.5-13.3-55-9.2-73.7-6.7-21.2-12.8-35.2-30.4-45.1-56.6 4.3-18 12-47.2 6.4-64.9-4.4-28.1-39.7-24.7-44.6-6.8-5 18.3-.3 44.4 8.4 77.8-11.9 28.4-29.7 66.9-42.1 88.6-20.8 10.7-54.1 29.3-58.8 52.4-3.5 16.8 22.9 39.4 53.1 6.4 9.1-9.9 19.3-24.8 31.3-45.5 26.7-8.8 56.1-19.8 82-24 21.9 12 47.6 19.9 64.6 19.9 27.7.1 28.9-30.2 18.5-40.6zm-229.2 89c5.9-15.9 28.6-34.4 35.5-40.8-22.1 35.3-35.5 41.5-35.5 40.8zM180 175.5c8.7 0 7.8 37.5 2.1 47.6-5.2-16.3-5-47.6-2.1-47.6zm-28.4 159.3c11.3-19.8 21-43.2 28.8-63.7 9.7 17.7 22.1 31.7 35.1 41.5-24.3 4.7-45.4 15.1-63.9 22.2zm153.4-5.9s-5.8 7-43.5-9.1c41-3 47.7 6.4 43.5 9.1z"/></svg>',"file-powerpoint":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zM204.3 208H140c-6.6 0-12 5.4-12 12v184c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12v-60.4h44.3c38.7 0 67.7-27.3 67.7-69 0-38.6-23.8-66.6-67.7-66.6zm26 97.7c-7.5 7.6-17.8 11.4-31 11.4H160V233h39.7c12.9 0 23.1 3.7 30.6 11.1 15.3 15.1 15 46.5 0 61.6z"/></svg>',"file-text":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-48-244v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm0 64v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12z"/></svg>',"file-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 280.593C224 267.01 212.989 256 199.407 256H88.593C75.011 256 64 267.01 64 280.593v110.815C64 404.99 75.011 416 88.593 416h110.814C212.989 416 224 404.99 224 391.407V381l27.971 27.971a23.998 23.998 0 0 0 16.97 7.029H296c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-27.059a24.003 24.003 0 0 0-16.97 7.029L224 291v-10.407zM192 384H96v-96h96v96zm80.255-96H288v96h-15.745L224 342.826v-13.652L272.255 288zm97.686-190.059l-83.883-83.882A47.996 47.996 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zM256 32.491a15.888 15.888 0 0 1 7.432 4.195l83.882 83.882a15.882 15.882 0 0 1 4.195 7.431H256V32.491zM352 464c0 8.837-7.164 16-16 16H48c-8.836 0-16-7.163-16-16V48c0-8.837 7.164-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304z"/></svg>',"file-word":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16zm-53.6-246.5c-6.8 32.8-32.5 139.7-33.4 150.3-5.8-29.1-.7 1.6-41.8-150.9-1.4-5.2-6.2-8.9-11.6-8.9h-6.4c-5.4 0-10.2 3.6-11.6 8.9-38.3 142.3-37.4 140.6-39.4 154.7-4.1-23.9 2.1-2.9-34.4-154.4-1.3-5.4-6.1-9.2-11.7-9.2h-7.2c-7.8 0-13.5 7.3-11.6 14.9 9.5 38 34.5 137.4 42.2 168 1.3 5.3 6.1 9.1 11.6 9.1h17c5.4 0 10.2-3.7 11.6-8.9 34.2-127.7 33.5-123.4 36.7-142.9 6.5 31.1.2 7 36.7 142.9 1.4 5.2 6.2 8.9 11.6 8.9h14c5.5 0 13.7-3.7 15.1-9l42.8-168c1.9-7.6-3.8-15-11.6-15h-6.8c-5.7 0-10.6 4-11.8 9.5z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',"folder-plus":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 272h-72v-72c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v72h-72c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h72v72c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-72h72c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM194.74 96l54.63 54.63c6 6 14.14 9.37 22.63 9.37h192c8.84 0 16 7.16 16 16v224c0 8.84-7.16 16-16 16H48c-8.84 0-16-7.16-16-16V112c0-8.84 7.16-16 16-16h146.74M48 64C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48z"/></svg>',sitemap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M608 352h-32v-97.59c0-16.77-13.62-30.41-30.41-30.41H336v-64h48c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h48v64H94.41C77.62 224 64 237.64 64 254.41V352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32H96v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32h-32v-96h208v96h-32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-480 32v96H32v-96h96zm240 0v96h-96v-96h96zM256 128V32h128v96H256zm352 352h-96v-96h96v96z"/></svg>'}}load(){Object.entries(this.icons).forEach(([t,i])=>{this.matIconRegistry.addSvgIconLiteral(t,this.domSanitizer.bypassSecurityTrustHtml(i))})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(ae.tp),e.KVO(vt.up))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var He=m(4456),bt=m(4334),St=m(1567),qt=m(3688),W=m(5689);class X{constructor(s){this.computed=s}getConsumerNode(){return this.computed[W.bh]}getProducers(){return this.getConsumerNode().producerNode}getDirtyProducers(){return this.getConsumerNode().producerNode}snapShotProducers(s=!1){return this.#e(this.getConsumerNode(),s)}#e(s,t){return this.#t(s.producerNode,s.producerLastReadVersion,t)}#t(s,t,i){if(!s)return[];let n=s.map((r,o)=>{const u=r.dirty,v=t[o],P=r.version,G=v<P,ie=this.#e(r,i),ce=ie.some(nt=>nt.dirty),Ae=u||G||ce,Ze=ie.find(nt=>nt.dirty)?.dirtyDepth+1||(Ae?1:0);return{name:r?.debugName||"unknown",idx:o,dirty:Ae,dirtyDepth:Ze,dirtyPrd:u,dirtyVer:G,dirtySub:ce,verOwn:v,verPrd:P,producer:r,subInfos:ie}});return i&&(n=n.filter(r=>r.dirty)),n}}var B=m(3620),U=m(6740),C=m(334),D=m(9234);let H=(()=>{class a{constructor(){this.log=(0,p.Tq)({EntityFormStateService:a}),this.controlsCreated=(0,e.vPA)(!1),this.isSaving=(0,e.vPA)(!1),this.formGroup=new He.J3({})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Q=m(4205),_e=m(8471),me=m(8021),Pe=m(4979);const We={all:!1,childFormResult:!0,expand:!1,open:!1,watchToRefreshOnVersionsClosed:!0};let Se=(()=>{class a extends Pe.V{#e;#t;#i;constructor(t,i){super(),this.langInstanceSvc=t,this.formConfig=i,this.log=(0,p.Tq)({EditRoutingService:a},We),this.#e=(0,c.d)(_e.c),this.#t=this.#e.route,this.#i=this.#e.router,this.#n=new Q.B,this.#s={},this.log.a("constructor")}ngOnDestroy(){this.#n.complete(),super.ngOnDestroy()}init(){this.#o(),this.#l()}#n;#a(){return this.#t.snapshot.params}#r(){const t=this.#a(),i=null!=t.detailsEntityGuid&&null!=t.detailsFieldId;return{params:t,hasDetails:i,hasUpdate:null!=t.updateEntityGuid&&null!=t.updateFieldId,guid:i?t.detailsEntityGuid:t.updateEntityGuid,fieldId:i?t.detailsFieldId:t.updateFieldId}}isExpanded(t,i){const n=t.toString(),r=this.#a();return r.detailsEntityGuid===i&&r.detailsFieldId===n}isExpanded$(t,i){const n=t.toString();return this.#t.params.pipe((0,me.J)(r=>r.detailsEntityGuid===i&&r.detailsFieldId===n))}isExpandedSignal(t,i,n){const r=`${t}-${i}`,o=this.#s[r];if(o)return o;const u=this.isExpanded$(t,i);return this.#s[r]=(0,Ne.ot)(u,{injector:n})}#s;childFormResult(t,i){const n=this.log.fnIf("childFormResult",{fieldId:t,entityGuid:i}),r=this.#n.pipe((0,St.p)(o=>o.updateEntityGuid===i&&o.updateFieldId===t&&null!=o.result),(0,F.T)(o=>o.result));return n.rSilent(r)}childFormClosed(){return this.#n.pipe((0,F.T)(t=>null))}expand(t,i,n,r){const o=this.log.fnIf("expand",{expand:t,fieldId:i,entityGuid:n,componentTag:r}),u=this.#r(),v=u.params,ie=E.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${v.items}`+(u.hasDetails?`/details/${u.guid}/${u.fieldId}`:""),`edit/${v.items}`+(t?`/details/${n}/${i}`:""));if(null==ie)return o.end("no change");this.#i.navigate([ie],{state:r&&{componentTag:r}}),o.end("routed away to ",{url:ie})}open(t,i,n){const r=this.log.fnIf("open",{fieldId:t,entityGuid:i,form:n}),o=(0,h.s)(n),u=this.#r();if(u.hasDetails)return this.#i.navigate([`edit/${o}`],{relativeTo:this.#t}),r.end("expanded, just open child");const G=E.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${u.params.items}`,`edit/${u.params.items}/update/${i}/${t}/edit/${o}`);if(null==G)return r.end("no change");this.#i.navigate([G]),r.end("routed away to ",{url:G})}#o(){this.subscriptions.add(this.#t.params.pipe((0,me.J)(t=>null!=t.detailsEntityGuid&&null!=t.detailsFieldId)).subscribe(t=>this.langInstanceSvc.updateHideHeader(this.formConfig.config.formId,t)))}#l(){this.subscriptions.add(this.#e.childDialogClosed$().pipe((0,F.T)(()=>{const t=this.#r();return{pInfo:t,result:{updateEntityGuid:t.guid,updateFieldId:parseInt(t.fieldId,10),result:this.#i.getCurrentNavigation().extras?.state}}})).subscribe(({pInfo:t,result:i})=>{if(this.#n.next(i),!t.hasUpdate)return;const n=t.params,r=E.b.newUrlIfCurrentContainsOldUrl(this.#t,`edit/${n.items}/update/${n.updateEntityGuid}/${n.updateFieldId}`,`edit/${n.items}`);null!=r&&this.#i.navigate([r])}))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Ie.A),e.KVO(S.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ve=m(7796);class Ct{static placeholder(s,t,i){return{label:s.instant(t)+(i??""),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}static message(s,t,i){return{label:s.instant(t,i),value:null,noSelect:!0,isMessage:!0,noDelete:!0,noEdit:!0}}}class ot{static{this.logSpecs={all:!1,setupEmpty:!1,connectState:!1,initPrefetch:!0,fetchItems:!1,constructor:!1,fields:[...U.z,"Categories"]}}constructor(){this.dataSource=(0,oe.KX)("dataSource",null),this.optionsOrHints=(0,oe.bo)("optionsOrHints",()=>this.dataSource().data()??[])}connectState(s){const t=this.log.fnIf("connectState");return this.dataSource.set(this.dataSourceRaw.setup()),this.deleteCallback=i=>s.doAfterDelete(i),t.rSilent(this)}}const R={...ot.logSpecs,editItem:!0,getPrefill:!0};class ue extends ot{#e;#t;#i;constructor(){super(),this.formConfig=(0,e.WQX)(S.S),this.#e=(0,e.WQX)(Se),this.translate=(0,e.WQX)(O.c$),this.#t=(0,e.WQX)(se.UG),this.fieldState=(0,e.WQX)(Ve.W),this.group=(0,e.WQX)(H).formGroup,this.#i=(0,c.d)(D.Tr),this.name=this.fieldState.name,this.#n=(0,c.d)(E.Nt).initSignal("PickerSource-EntityType",this.fieldState.settingExt("EntityType")),this.contentType=(0,oe.bo)("contentType",()=>this.#n?.result()??""),this.#a=(0,oe.bo)("createEntityTypes",()=>this.fieldState.settings().CreateTypes),this.myFeatures=(0,oe.bo)("features",()=>({create:!(!this.contentType()&&!this.#a())})),this.#r=(0,oe.KX)("deletedItemsGuids",[]),this.errorOptions=(0,oe.KX)("errorOptions",null),this.optionsOrHints=(0,oe.bo)("optionsOrHints",()=>{const s=this.errorOptions();if(s)return s;const t=this.dataSource(),i=this.#r(),n=t.data().filter(r=>!i.some(o=>o===r.value));return t.loading()?[Ct.message(this.translate,"Fields.Picker.Loading"),...n]:n}),this.#s=(0,c.d)(E.Nt).initSignal("Prefill",this.fieldState.settingExt("CreatePrefill")),this.#o=(0,c.d)(E.Nt).initSignal("CreateParams",this.fieldState.settingExt("CreateParameters")),this.#l=(0,c.d)(E.Nt).initSignal("CreateParams",this.fieldState.settingExt("EditParameters"))}#n;#a;syncParams(){}onAfterViewInit(){this.syncParams()}#r;initPrefetch(s){this.syncParams(),this.log.fnIfInList("initPrefetch","fields",this.name,{prefetchGuids:s}),this.dataSource().initPrefetch?.(s)}forceReloadData(s){const t=this.log.fn("forceReloadData",{missingData:s});this.dataSource().addToRefresh(s),t.end()}editItem(s,t){const i=this.log.fnIf("editItem",{editParams:s}),n=s?.entityGuid,r=this.#d(null==n?this.#o.result():this.#l.result()),o={items:[{...null==n?C.c.newFromType(t??this.contentType(),this.#d(this.#s.result())):C.c.editId(this.optionsOrHints().find(v=>v.value===n)?.id??s.entityId),...r?{ClientData:{parameters:r}}:{}}]};i.a("form",{form:o});const u=this.fieldState.config;this.#e.open(u.index,u.entityGuid,o),this.#e.childFormClosed().pipe((0,bt.s)(1)).subscribe(v=>{const P=this.log.fn("childFormClosed",{editGuid:n,data:v});if(n)return this.forceReloadData([n]),P.end("forceReloadData",{editGuid:n});P.end("no guid, won't reload data")}),i.end()}deleteItem(s){this.log.a("deleteItem",{props:s});const t=this.optionsOrHints().find(G=>G.value===s.entityGuid),i=t.id,n=t.label,r=this.contentType(),o=this.fieldState.config,u=o.entityId,v=o.fieldName;confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,r,i,!1,u,v).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(s),this.#r.update(G=>[...G,s.entityGuid])},error:G=>{this.#t.dismiss(),confirm(this.translate.instant("Data.Delete.Question",{title:n,id:i}))&&(this.#t.open(this.translate.instant("Message.Deleting")),this.#i.delete(this.formConfig.config.appId,r,i,!0,u,v).subscribe({next:()=>{this.#t.open(this.translate.instant("Message.Deleted"),null,{duration:2e3}),this.deleteCallback(s),this.#r.update(ie=>[...ie,s.entityGuid])},error:ie=>{this.#t.open(this.translate.instant("Message.DeleteError"),null,{duration:2e3})}}))}}))}#s;#o;#l;#d(s){const t=this.log.fnIf("getPrefill",{prefill:s});if(!s||!s.trim())return t.r(null,"empty");const i=Object.fromEntries(s.split("&").map(n=>n.split("=")).filter(n=>2===n.length&&n[0]&&n[1]));return t.r(i)}}function ve(a,s){return{create:a.create??s,textEntry:a.textEntry??s,multiValue:a.multiValue??s,edit:a.edit??s,remove:a.remove??s,delete:a.delete??s}}function je(a,s){const t=ve(a,!0),i=ve(s,!0);return{create:t.create&&i.create,textEntry:t.textEntry&&i.textEntry,multiValue:t.multiValue&&i.multiValue,edit:t.edit&&i.edit,remove:t.remove&&i.remove,delete:t.delete&&i.delete}}function yt(a,s){return a?Array.isArray(a)?a.join(s):a:""}const Rt={all:!1,setup:!1,addInfosFromSourceForUi:!1,optionsWithMissing:!1,selectedRaw:!1,selectedOverride:!1,selectedState:!1,features:!0,allOptions:!1,fields:[...U.z,"*"]};let Gt=(()=>{class a{#e;constructor(){this.log=(0,p.Tq)({PickerData:a},Rt),this.#e=(0,e.WQX)(O.c$),this.closeWatcherAttachedWIP=!1,this.ready=(0,oe.KX)("sourceIsReady",!1),this.optionsRaw=(0,oe.bo)("optionsSource",()=>(this.ready()?this.source.optionsOrHints():null)??[]),this.optionsOverride=(0,oe.KX)("overrideOptions",null),this.optionsAll=(0,oe.bo)("optionsFinal",()=>(0,B.z)(this.optionsOverride(),t=>t||this.optionsRaw())),this.optionsAllowsEmpty=(0,oe.bo)("optionsAllowsEmpty",()=>function lt(a){return a?.some(s=>""==s.value)}(this.optionsAll())),this.selectedRaw=(0,oe.bo)("selectedState",()=>{const t=this.log.fnIfInList("selectedRaw","fields",this.name);return this.ready()?t.r(this.#n(this.state.selectedItems(),this.optionsAll()),"ready"):t.r([],"not ready")}),this.selectedOverride=(0,oe.KX)("selectedOverride",null),this.selectedAll=(0,oe.bo)("selectedAll",()=>(0,B.z)(this.selectedOverride(),t=>t||this.selectedRaw())),this.selectedOne=(0,oe.bo)("selectedOne",()=>this.selectedAll()[0]??null),this.optionsWithMissing=(0,oe.bo)("optionsWithMissing",()=>{const t=this.log.fnIf("optionsWithMissing"),i=this.selectedAll(),n=this.optionsAll(),r=i.filter(u=>!n.find(v=>v.value===u.value));if(0===r.length)return n;const o=n.concat(r);return t.r(o)}),this.#t=(0,oe.KX)("settingsLazy",null),this.#i=(0,oe.bo)("featuresFromSettings",()=>{const t=this.#t()();return{textEntry:t.EnableTextEntry,multiValue:t.AllowMultiValue,create:t.EnableCreate&&!!t.CreateTypes,remove:t.EnableRemove,delete:t.EnableDelete,edit:t.EnableEdit}}),this.features=(0,oe.bo)("features",()=>{const t=this.source.myFeatures(),i=this.state.myFeatures(),n=this.#i(),r=je(t,i),o=je(r,n),u={...o,showGoToListDialogButton:o.multiValue,showAddNewButton:o.create};return this.log.aIf("features",{sourceFeatures:t,stateFeatures:i,settingsFeatures:n,mergeSourceAndState:r,mergeSettings:o,forControl:u}),u}),this.isInFreeTextMode=(0,oe.KX)("isInFreeTextMode",!1),this.log.enabled&&this.log.specs.allOptions&&(0,e.QZP)(()=>{const t=this.ready(),i=this.optionsRaw(),n=this.optionsOverride(),r=this.optionsAll();this.log.a("options",{ready:t,raw:i,override:n,final:r})})}setup(t,i,n,r){const o=this.log.fnIfInList("setup","fields",t,{name:t,state:n,source:r});this.name=t,this.#t.set(i),this.state=n,this.source=r,n.features=this.features,n.allowsEmptyLazy.set(this.optionsAllowsEmpty);const u=n.values();o.a("setup",{initiallySelected:u}),r?.initPrefetch?.(u),this.ready.set(!0),o.end("done")}selectedCopy(t){return t.map(i=>({...i}))}#t;#i;addNewlyCreatedItem(t){const i=Object.keys(t)[0],n=this.log.fn("addNewlyCreatedItem",{result:t,newItemGuid:i});this.state.values().includes(i)||(this.state.add(i),this.source?.forceReloadData?.([i])),n.end()}#n(t,i){const n=this.log.fnIfInList("addInfosFromSourceForUi","fields",this.name,{selected:t,opts:i}),r=t.map(o=>{const u=i.find(v=>v.value===o);return u?function Ye(a,s){return{id:a.id,value:a.value,label:s,tooltip:a.tooltip||`${s} (${a.value})`,info:a.info||null,link:a.link||null,noEdit:!0===a.noEdit,noDelete:!0===a.noDelete,noSelect:!1}}(u,u.label??this.#e.instant("Fields.Picker.EntityNotFound")):this.#a(o)});return n.r(r)}toggleFreeTextMode(){this.isInFreeTextMode.update(t=>!t)}#a(t){t=t?.toString()??"";const i=this.source instanceof ue;return{noEdit:!0,noDelete:!0,id:null,label:t+(i?" \u26a0\ufe0f":""),tooltip:t+(i?` \u26a0\ufe0f ${this.#e.instant("Fields.Picker.EntityNotFound")} - could result in error`:" (manual entry)"),value:t}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),It=(()=>{class a{constructor(t,i){this.injector=t,this.inputTypeSvc=i,this.log=(0,p.Tq)({PickerDataFactory:a})}createPickersForAttributes(t){const i=t.map(n=>({name:n.Name,inputType:this.inputTypeSvc.getSpecs(n)}));return this.#e(i)}#e(t){return t.map(n=>({name:n.name,picker:this.#t(n.inputType)})).filter(n=>null!==n.picker).reduce((n,r)=>(n[r.name]=r.picker,n),{})}#t(t){return l.Q.isAnyPicker(t.inputType)?(0,c.d)(Gt,this.injector):null}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(e.zZn),e.KVO($.A))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Xt=m(3826);class oi{static{this.bool={equal:Xt.a.valueEquals}}static{this.number={equal:Xt.a.valueEquals}}static{this.string={equal:Xt.a.valueEquals}}static{this.ref={}}}let jt=(()=>{class a{#e;#t;constructor(t,i,n){this.formConfig=t,this.itemService=i,this.languageService=n,this.log=(0,p.Tq)({FormsStateService:a}),this.triggerTrySaveAndMaybeClose=(0,e.vPA)({tryToSave:!1,close:!1},oi.ref),this.formsAreValid=(0,e.vPA)(!1),this.formsAreDirty=(0,e.vPA)(!1),this.#e={},this.#t={},this.readOnly=(()=>{const r=(0,e.vPA)(this.formConfig.config.itemGuids.map(v=>this.itemService.getItemHeaderSignal(v))),o=this.languageService.getAllSignal();return(0,oe.bo)("readOnly",()=>{const v=r().some(ce=>ce().EditInfo?.ReadOnly??!1),P=o().find(ce=>ce.NameId===this.formConfig.language().current)?.IsAllowed??!0;return{isReadOnly:v||!P,reason:v?"Form":P?void 0:"Language"}})})(),this.formsValidTemp=(0,e.vPA)(!1),this.saveButtonDisabled=(0,oe.bo)("saveButtonDisabled",()=>this.readOnly().isReadOnly||!this.formsValidTemp());for(const r of this.formConfig.config.itemGuids)this.#e[r]=!1,this.#t[r]=!1}getFormValid(t){return this.#e[t]}setFormValid(t,i){this.#e[t]=i;const n=!Object.values(this.#e).some(r=>!1===r);n!==this.formsValidTemp()&&(this.formsValidTemp.set(n),this.formsAreValid.set(n))}setFormDirty(t,i){this.#t[t]=i;const n=Object.values(this.#t).some(r=>!0===r);n!==this.formsAreDirty()&&this.formsAreDirty.set(n)}triggerSave(t){this.triggerTrySaveAndMaybeClose.set({tryToSave:!0,close:t})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(S.S),e.KVO(k.b),e.KVO(T.g))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var $i=m(5067);let Ui=(()=>{class a{#e=(0,e.WQX)(A.D).getAll();constructor(t,i,n,r,o){this.formConfig=t,this.itemService=i,this.languageSvc=n,this.globalConfigSvc=r,this.editInitializerSvc=o}init(t,i,n){this.#t=i,this.#i=t,this.#n=n}#t;#i;#n;#a={};getSharedSpecs(){const t=this.formConfig.language(),i=this.languageSvc.getAll(),n=this.globalConfigSvc.isDebug();return{initialFormValues:this.editInitializerSvc.getInitialValues(this.#t,t.current),language:t,languages:i,debugEnabled:n,itemService:this.itemService,formConfig:this.formConfig,fieldsSettingsSvc:this.#i,features:this.#e,parameters:new $i.Z(this.#n.ClientData?.parameters??{}),warningsObsolete:this.#a}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(S.S),e.KVO(k.b),e.KVO(T.g),e.KVO(J.B),e.KVO(ye))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var tl=m(7739),Bt=m(8136);class cn{}var Ur=m(827),la=m(5970);const il={all:!1,getPickerInfos:!1,filterFormulasIfPickerNotReady:!0,fields:[...U.z]};class ca{constructor(s,t,i){this.fieldName=s,this.fieldConstants=t,this.propsBefore=i,this.log=(0,p.Tq)({FormulaFieldPickerHelper:ca},il),this.isSpecialPicker=t.inputTypeSpecs.isNewPicker}get infos(){return this.#e??=this.#t(this.fieldName,this.fieldConstants,this.propsBefore)}#e;filterFormulasIfPickerNotReady(s){const t=this.log.fnIfInList("filterFormulasIfPickerNotReady","fields",this.fieldName,{before:s}),i=this.infos,n=this.isSpecialPicker&&!i.ready?s.filter(u=>!u.fieldIsSpecialPicker):s,r=n.filter(u=>!u.fieldIsSpecialPicker||this.isSpecialPicker&&!u.sleep||i.changed);return t.rSilent(r,`\u{1f9ea}\u{1f4ca} before: ${s.length}; ready: ${n.length}; formulas:${r.length}; pickerChanged: ${i.changed}; opts: ${i.options.changed}/${i.options.ver}; sel: ${i.selected.changed}/${i.selected.ver}`)}#t(s,t,i){const n=this.log.fnIfInList("getPickerInfos","fields",s),r=t.pickerData();if(1!=r?.ready()){const G={list:[],listRaw:[],ver:null,verBefore:null,changed:!1};return{ready:!1,mapper:null,picker:r,options:G,selected:G,changed:!1}}function o(G,ie,ce){const Ae=G(),Ze=(0,oe.HF)(G);return{list:ie(),listRaw:Ae,ver:Ze,verBefore:ce,changed:Ze!==ce}}const u=o(r.optionsRaw,r.optionsAll,i.opts?.ver),v=o(r.selectedRaw,r.selectedAll,i.sel?.ver);return n.r({ready:!0,mapper:r.state.mapper,picker:r,options:u,selected:v,changed:v.changed||u.changed})}updateFormulaSleep(s,t,i){s.sleep=t.sleep??(!!la.wB.includes(s.target)||s.sleep),i.a(`\u{1f9ea}\u23f8\ufe0fformula.sleep: ${s.target}; formula.sleep: ${s.sleep}; raw.sleep: ${t.sleep}`)}preserveResultsAfterRun(s,t,i,n){return i.options&&(t.options={list:i.options,ver:this.infos.options.ver},n.a("\u{1f9ea}\u{1f4c3} options returned, will add",t.options)),i.selected&&(t.selected={list:i.selected,ver:this.infos.selected.ver},n.a("\u{1f9ea}\u{1f4c3} selected returned, will add",t.selected)),t}}var yi=m(2434);class dn{static keepSettingIfTypeOk(s,t,i,n){return dn.keepSettingIfTypeOkAndStatus(s,t,i,n).settingsNew}static keepSettingIfTypeOkAndStatus(s,t,i,n){const r=s.substring(la.si.length),o=t[r];return(0,yi.A)(o,i)?{settingsNew:n,wasChanged:!1}:Array.isArray(o)&&Array.isArray(i)||typeof o==typeof i?(n[r]=i,{settingsNew:n,wasChanged:!0}):{settingsNew:n,wasChanged:!1}}}const nl={all:!1,runFormula:!1,runAllOfField:!0,runOrInitSettings:!0,getPickerInfos:!1,fields:[...U.z]};class da{constructor(s,t,i,n){this.promiseHandler=s,this.designerSvc=t,this.entityGuid=i,this.runOneHelper=n,this.log=(0,p.Tq)({FormulaRunField:da},nl)}runOrInitSettings(s,t,i,n,r,o,u,v,P){const G=this.log.fnIfInList("runOrInitSettings","fields",t,{fieldName:t}),ie=new ca(t,i,u),ce=(0,e.O8t)(()=>this.designerSvc.cache.getActive(this.entityGuid,t,ie.isSpecialPicker)),Ae=(0,tl.A)(ce,ai=>ai.disabled?"disabled":"enabled");Ae.disabled&&this.#e(Ae.disabled);const Ze=Ae.enabled??[],nt=this.promiseHandler.filterFormulas(t,Ze),rt=ie.filterFormulasIfPickerNotReady(nt);if(G.a(`\u{1f9ea}\u{1f4ca} enabled: ${Ze.length}; noPromisesSleep: ${nt.length}; formulas: ${rt.length}`),0==rt.length)return Mt({},o,{value:o,validation:null,fields:[],settings:{},options:new cn,selected:new cn});const Kt=this.#t({currentValues:s,settingsInitial:i.settingsInitial,settingsCurrent:n,pickerHelper:ie,defaultValueHelper:()=>new E.X3(t,i.inputTypeSpecs.inputType,i.settingsInitial,r)},rt,v);return Mt(Kt.settings,Kt.value,Kt);function Mt(ai,fi,ci){const Di=P.correctSettingsAfterChanges({...n,...ai},fi||o);return ce.length>0&&ie.isSpecialPicker&&(Di.requiredFeatures=[...Di.requiredFeatures??[],Bt.T.PickerFormulas]),G.r({...ci,settings:Di})}}#e(s){for(const t of s)console.warn(`Formula on field '${t.fieldName}' with target '${t.target}' is disabled. Reason: ${t.disabledReason}`)}#t(s,t,i){const n=this.log.fnIfInList("runAllOfField","fields",t[0].fieldName,{runParams:s,formulas:t});let r={value:void 0,validation:void 0,fields:[],options:new cn,selected:new cn,settings:{}};const o=performance.now();for(const v of t){const P={runParameters:{formula:v,...s},...i},G=this.#i(P);if(n.a("formula result",{formula:v,raw:G}),s.pickerHelper.updateFormulaSleep(v,G,n),this.promiseHandler.updateStop(v,G),this.promiseHandler.handleStopAndPromise(v,G),r=s.pickerHelper.preserveResultsAfterRun(v,r,G,n),G.fields&&r.fields.push(...G.fields),void 0!==G.value)switch(!0){case v.isValue:r.value=G.value;break;case v.isValidation:r.validation=G.value;break;case v.isSetting:r.settings=dn.keepSettingIfTypeOk(v.target,s.settingsCurrent,G.value,r.settings)}}const u=performance.now();return n.r(r,`runAllFormulas Time: ${u-o}ms`)}#i(s){const{formula:t,fieldName:i,params:n,title:r,devHelper:o,valHelper:u}=this.runOneHelper.getPartsFor(s),v=this.log.fnIfInList("runFormula","fields",i,{fieldName:i});v.a(`formula version: ${t.version}, entity: ${r}, field: ${i}, target: ${t.target}`,{formula:t});try{switch(o.showStart(),t.version){case Ur.GI.V1:const P=t.fn(n.data,n.context,n.experimental),{ok:G,v1Result:ie}=u.v1(P);return G?(v.a("V1 formula result is pure",{v1Raw:P,valueV1:ie}),o.showResult(ie.value,!1,!1),ie):(v.a("V1 formula result is not pure",{v1Raw:P}),console.error("V1 formulas accept only simple values in return statements. If you need to return an complex object, use V2 formulas."),u.toFormulaResult(void 0));case Ur.GI.V2:const ce=t.fn(n.data,n.context,n.experimental),Ae=u.v2(ce);return o.showResult(Ae.options??Ae.value,!1,!!Ae.promise),Ae;default:throw new Error("Formula version unknown not supported")}}catch(P){return o.showError(P),u.toFormulaResult(void 0)}}}const al={all:!1,getFormulas:!1,runAllFields:!0,runFormula:!1,runOneFieldOrInitSettings:!1,fields:[...U.z]};let rl=(()=>{class a{#e;constructor(t,i,n){this.designerSvc=t,this.logSvc=i,this.translate=n,this.log=(0,p.Tq)({FormulaEngine:a},al),this.#e=(0,c.d)(Ui)}init(t,i,n,r,o,u){this.#t=t,this.#n=r,this.#a=o.Attributes,this.#i=u,this.#e.init(n,t,i)}#t;#i;#n;#a;runAllFields(t,i){const n={},r={},o=[],u=this.#e.getSharedSpecs(),v=new M.q(this.log.name);for(const P of this.#a){const G=this.log.fnIfInList("runAllFields","fields",P.Name,{fieldName:P.Name}),ie=i.allAttributes[P.Name],ce=i.values[P.Name],Ae=i.getFieldConstants(P.Name),Ze=i.getFieldSettingsInCycle(Ae),nt=i.updateHelper.create(P.Name,P,Ae,ie),rt=i.fieldProps[P.Name]??{},Ft=new $i.$(this.designerSvc,this.translate,this.logSvc,this.#i),Mt=new da(this.#n,this.designerSvc,this.#t,Ft).runOrInitSettings(i.values,P.Name,Ae,Ze,t.item.Header,ce,rt,u,nt),ai=Mt.settings;r[P.Name]=Mt.value,Mt.fields&&o.push(...Mt.fields);const ci=v.getTranslationState(ie,ai.DisableTranslation,t.languages,G.enabled);Mt.options.list&&G.a("picker options",{options:Mt.options.list,version:Mt.options.ver}),Mt.selected.list&&G.a("picker selected",{selected:Mt.selected.list,version:Mt.options.ver}),n[P.Name]={...rt,language:Ae.language,constants:Ae,settings:ai,translationState:ci,value:ce,buildWrappers:null,formulaValidation:Mt.validation,opts:{...rt.opts,...Mt.options},sel:{...rt.sel,...Mt.selected}}}return{fieldsProps:n,valueUpdates:r,fieldUpdates:o}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(qt.f),e.KVO(Be.J),e.KVO(O.c$))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var sl=m(8003);class ol{constructor(s){this.entityGuid=s,this.data={}}}const ll={all:!1,addFormulaPromise:!0,updateStop:!1,defineCallbackHandlerIfMissing:!1,changesFromQueue:!1,promiseComplete:!0,filterFormulas:!0,fields:[...U.z]};let cl=(()=>{class a{constructor(t){this.itemService=t,this.log=(0,p.Tq)({FormulaPromiseHandler:a},ll),this.#e={},this.#t=null}#e;init(t,i,n,r){this.#i=t,this.#t=n,this.#n=i,this.#a=r}#t;#i;#n;#a;updateStop(t,i){const n=this.log.fnIfInList("updateStop","fields",t.fieldName,{promiseResult:i,formula:t},t.target),r=i.promise instanceof Promise,o=i.stop??(!!r||t.stop),u=`\u{1f9ea}\u23f9\ufe0f formula.stop: ${t.stop}; raw.stop: ${i.stop}; hasPromise: ${r}; newStop: ${o}`;return t.stop=o,n.end(u)}handleStopAndPromise(t,i){const n=this.log.fnIfInList("addFormulaPromise","fields",t.fieldName,{promiseResult:i,formula:t},t.target);if(!(i.promise instanceof Promise))return n.end("no promise");i.openInDesigner&&null===i.stop&&console.log("FYI: formula returned a promise. This automatically stops this formula from running again. If you want it to continue running, return stop: false");const r=i.sleep??!1;return t.promises$.next({promise:i.promise,sleep:r,completed:!1}),this.#r(t),n.end(`promise added, sleep: ${r}`)}filterFormulas(t,i){const n=this.log.fnIfInList("filterFormulas","fields",t,{enabled:i}),r=i.filter(u=>{const v=u.promises$.value;return n.a(`hasPromise: ${!!v}; completed: ${v?.completed}; sleep: ${v?.sleep}`),!v||v.completed||!v.sleep});return n.rSilent(r,`\u{1f9ea}\u{1f4ca} beforeFilter: ${i.length}; formulas: ${r.length}; `)}#r(t){const i=this.#i,n=this.log.fnIfInList("defineCallbackHandlerIfMissing","fields",t.fieldName,{formula:t,entityGuid:i},t.target);if(t.updateCallback$.value)return n.end("callback already defined");t.updateCallback$.next(r=>this.#s(t,r))}#s(t,i){const n=this.#i,r=this.log.fnIfInList("promiseComplete","fields",t.fieldName,{result:i,formula:t,entityGuid:n},t.target),o=t.fieldName,u=new sl.d(o,t.isValue,t.inputType,!1).v2(i),v=this.#e,P=v[n]??=new ol(n),G=P.data[o]??={name:o,value:t.isValue?u.value:void 0,fields:[],settings:{}};t.isSetting&&(r.a("formula promise settings"),G.settings??={},G.settings[t.settingName]=u.value),u.fields&&(r.a("formula promise fields"),G.fields.push(...u.fields)),t.stop=u.stop??t.stop,t.promiseCompleted=!0,r.end("promise complete, will retriggerFormulas",G),this.#t.retriggerFormulas("promise")}changesFromQueue(t){const i=this.#e[this.#i];if(this.#e[this.#i]=null,null==i||null==i.data||0===Object.keys(i.data).length)return{valueChanges:{},newFieldProps:null};const n=Object.entries(i.data),o=n.map(([ce,Ae])=>({name:ce,value:Ae.value})).reduce((ce,{name:Ae,value:Ze})=>(ce[Ae]=Ze,ce),{}),u=n.filter(([ce,Ae])=>Ae.fields.length>0).map(([ce,Ae])=>Ae.fields).flat(),v=n.filter(([ce,Ae])=>Object.keys(Ae.settings).length>0).map(([ce,Ae])=>({fieldName:ce,settings:Ae.settings})),P=0!==Object.keys(o).length||0!==u.length?this.#a.getValueUpdates(t,u,o):{},G=this.#n();let ie=null;if(v.length){ie={...t.fieldProps};const ce=this.itemService.getItemAttributes(this.#i);Object.values(v).forEach(Ae=>{const Ze=Ae.fieldName,nt=t.fieldProps[Ze]?.settings;let rt={};Object.entries(Ae.settings).forEach(([Ft,Kt])=>{rt=dn.keepSettingIfTypeOk(la.si+Ft,nt,Kt,rt);const ai=t.getFieldConstants(Ze),fi=G.Attributes.find(na=>na.Name===Ze),ci=t.updateHelper.create(Ze,fi,ai,ce[Ze]),Di={...nt,...rt},ia=ci.correctSettingsAfterChanges(Di,t.values[Ze]);ie[Ze]={...ie[Ze],settings:ia}})})}return{valueChanges:P,newFieldProps:ie}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(k.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Je=m(4202);const Et_AdamWrapper="app-adam-wrapper",Et_CollapsibleWrapper="app-collapsible-wrapper",Et_DropzoneWrapper="app-dropzone-wrapper",Et_PickerExpandableWrapper="app-picker-expandable-wrapper",Et_ExpandableWrapper="app-expandable-wrapper",Et_HiddenWrapper="app-hidden-wrapper",Et_FeatureWarningWrapper="app-feat-warnings-wrapper",Et_HyperlinkDefaultExpandableWrapper="app-hyperlink-default-expandable-wrapper",Et_HyperlinkLibraryExpandableWrapper="app-hyperlink-library-expandable-wrapper",Et_LocalizationWrapper="app-localization-wrapper",di={wrappers:["app-localization-wrapper"]};class dl{static getWrappers(s,t){const i=t.inputType;if(l.Q.isMessage(i))return[];if(l.Q.isGroupStart(i))return["app-collapsible-wrapper"];const n=["app-hidden-wrapper"];return[Je.u.EntityDefault,Je.u.StringDropdownQuery,Je.u.EntityQuery,Je.u.EntityContentBlocks,Je.u.StringDropdown,Je.u.EntityPicker,Je.u.StringPicker,Je.u.NumberPicker].includes(i)&&(n.push("app-feat-warnings-wrapper"),n.push("app-localization-wrapper"),((s.AllowMultiValue??!1)||i===Je.u.EntityContentBlocks)&&n.push("app-picker-expandable-wrapper")),t.isExternal&&n.push("app-dropzone-wrapper","app-localization-wrapper","app-expandable-wrapper","app-adam-wrapper"),n}}const ul={all:!1,getCycleSettingsAndValues:!1,getLatestSettingsAndValues:!1};class ua{constructor(s,t,i,n,r,o){this.engine=s,this.initialValues=t,this.fieldProps=i,this.allAttributes=n,this.updateHelper=r,this.fieldConstants=o,this.log=(0,p.Tq)({FieldsPropsEngineCycle:ua},ul),this.values={...t}}getFieldConstants(s){return this.fieldConstants.find(t=>t.fieldName===s)}getCycleSettingsAndValues(){const s=this.log.fnIf("getCycleSettingsAndValues");for(let i=0;i<5;i++){const n=this.#e(i),r={...this.values,...n.valueChanges};if((0,yi.A)(this.fieldProps,n.props)&&(0,yi.A)(this.values,r)){s.a("No more changes, stable, exit");break}this.fieldProps=n.props,this.values=r}return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,[],this.values,this.initialValues),props:this.fieldProps}}#e(s){const t=this.log.fnIf("getLatestSettingsAndValues",{loopIndex:s}),i=0===Object.keys(this.fieldProps).length;if(i)t.a("First round, no queue to process");else{const{valueChanges:v,newFieldProps:P}=this.engine.formulaPromises.changesFromQueue(this);P&&(t.a("New field props from queue",{newFieldProps:P}),this.fieldProps=P),Object.keys(v).length>0&&(t.a("Value changes from queue",{valueChanges:v}),this.values={...this.values,...v})}const{fieldsProps:n,valueUpdates:r,fieldUpdates:o}=this.engine.formulaEngine.runAllFields(this.engine,this);for(const[v,P]of Object.entries(n))P.buildWrappers=i?dl.getWrappers(P.settings,P.constants.inputTypeSpecs):this.fieldProps[v]?.buildWrappers;return{valueChanges:this.engine.modifiedChecker.getValueUpdates(this,o,r),props:n}}getFieldSettingsInCycle(s){const t=this.fieldProps[s.fieldName];return s.language==t?.language?t?.settings??{...s.settingsInitial}:{...s.settingsInitial}}}class un{constructor(s){this.defaultIsShow=!0,this.fields=null,this.log=(0,p.Tq)({ItemFieldVisibility:un});const t=this.log.fn("ctor",{identifier:s});var i=s.ClientData?.fields;if(null==i||""==i)return void t.end("no fields specified");this.defaultIsShow="-"==i[0],this.defaultIsShow&&(i=i.substring(1));const n=!this.defaultIsShow;this.fields=i.toLowerCase().split(",").reduce((r,o)=>(r[o]=n,r),{}),t.end("",{fields:this.fields,defaultIsShow:this.defaultIsShow})}hasRules(){return null!=this.fields}isVisibleDisabled(s){const t=this.log.fn("isVisibleDisabled",{fieldName:s});if(!this.hasRules())return t.r(!1,"no rules");const i=this.fields[s.toLowerCase()];return t.r(!(i??this.defaultIsShow))}static mergedVisible(s){return s.Visible&&!s.VisibleDisabled}makeParentGroupsVisible(s){const t=this.log.fn("makeParentGroupsVisible",{allConstFieldParts:s});if(!this.hasRules())return t.r(s,"no rules, no changes");try{s.forEach((i,n)=>{if(l.Q.isGroupStart(i.inputTypeSpecs.inputType)&&0!=i.settingsInitial.VisibleDisabled)for(let r=n+1;r<s.length;r++){const o=s[r];if(l.Q.endsPreviousGroup(o.inputTypeSpecs.inputType))return;if(0==o.settingsInitial.VisibleDisabled)return t.a("Forced visible",{fieldName:i.fieldName,reason:o.fieldName}),void(i.settingsInitial.VisibleDisabled=!1)}})}catch(i){console.error("Error trying to set item field visibility",i)}return s}}const hl={all:!1,stablePartsOfLanguage:!1,stablePartOfField:!0,constantPartsOfField:!1,constantFieldParts:!1,staticPartsOfField:!1,fields:[...U.z]};let ml=(()=>{class a{constructor(t,i){this.formConfig=t,this.inputTypeSvc=i,this.log=(0,p.Tq)({FieldsSettingsConstantsService:a},hl),this.#e=new M.q(this.log.name)}#e;init(t,i,n,r,o){return this.#t=t,this.#r=i,this.#i=new un(t.Header),this.#n=n,this.#a=r,this.#s=o,this}#t;#i;#n;#a;#r;#s;stableDataOfLanguage(){const t=this.#t.Entity.Guid,i=this.#t.Entity.Id,n=this.#r.Id,r=this.#l(t,i,n);return(0,oe.bo)("stableDataOfLanguage",()=>this.#o(this.#n(),this.#a(),r))}#o(t,i,n){const r=this.#r,o=this.log.fnIf("stablePartsOfLanguage",{contentType:r,entityReader:t}),u=r.Attributes.map(P=>{const G=P.Name,ie=this.log.fnIfInList("stablePartOfField","fields",G,{fieldName:G}),ce=this.inputTypeSvc.get(P.InputType),Ae=t.flatten(P.Metadata);if(i.current!==t.current){const Ft=i.flatten(P.Metadata);Ae.Name=Ft.Name??Ae.Name,Ae.Placeholder=Ft.Placeholder??Ae.Placeholder,Ae.Notes=Ft.Notes??Ae.Notes}const Ze=this.#e.mergeGenericSettings(G,Ae);Ze.InputType=P.InputType,Ze.VisibleDisabled=this.#i.isVisibleDisabled(P.Name);const nt=this.#e.getDefaultSettings(Ze),rt={...n.find(Ft=>Ft.fieldName===P.Name),settingsInitial:nt,inputTypeConfiguration:ce,language:t.current};return ie.r(rt)}),v=this.#i.makeParentGroupsVisible(u);return o.r(v)}#l(t,i,n){const r=this.#r,o=this.log.fnIf("constantPartsOfField",{entityGuid:t,entityId:i,contentTypeNameId:n}),u=this.formConfig.language(),v=new E.bT(u.initial,u.primary),P=this.#s.pickerData,G=this.formConfig.config;o.a("shared across fields",{entityGuid:t,entityId:i,contentTypeNameId:n,language:u,allPickers:P});const ie=r.Attributes.map((ce,Ae)=>{const Ze=ce.Name,nt=this.log.fnIfInList("constantFieldParts","fields",Ze,{fieldName:Ze,index:Ae}),rt=v.flatten(ce.Metadata),Ft=this.#e.getDefaultSettings(rt),Kt=Ft.Disabled??!1,Mt=this.inputTypeSvc.getSpecs(ce);nt.a("details",{fieldName:Ze,contentType:r,language:u,attr:ce,initialSettings:Ft,inputTypeSpecs:Mt});const ai=w.y.singleton().get(ce.InputType),fi={entityGuid:t,entityId:i,contentTypeNameId:n,fieldName:Ze,index:Ae,dropzonePreviewsClass:`dropzone-previews-${G.formId}-${Ae}`,initialDisabled:Kt,inputTypeSpecs:Mt,isLastInGroup:this.#e.isLastInGroup(r,ce),type:ce.Type,logic:ai,pickerData:()=>P[Ze]??null};return nt.r(fi)});return o.r(ie)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(S.S),e.KVO($.A))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class Wr{static isRequired(s){return!this.#u(s)&&s.Required}static getValidators(s,t){const i=[t!==Je.u.HyperlinkLibrary?this.#t(s):this.#i(s),this.#n(s),this.#a(s),this.#r(s),this.#s(s),this.#o(s),this.#l(s),this.#c(s)];return t===Je.u.CustomJsonEditor&&i.push(this.#d(s)),i}static#e(s,t){const i=t.settings();return this.#u(i)?null:i}static#t(s){return t=>{const i=this.#e(t,s);return null!=i&&i.valueRequired?He.k0.required(t):null}}static#i(s){return t=>{const i=this.#e(t,s);return null!=i&&i.valueRequired&&0===t.adamItems?{required:!0}:null}}static#n(s){return t=>{const i=this.#e(t,s);return null!=i&&i.ValidationRegExJavaScript?He.k0.pattern(i.ValidationRegExJavaScript)(t):null}}static#a(s){return t=>{const i=this.#e(t,s);if(null==i?.Decimals||i.Decimals<0||null==t.value)return null;const n=0===i.Decimals?"^-?[0-9]+$":`^-?[0-9]+(.[0-9]{1,${i.Decimals}})?$`;return t.value.toString().match(n)?null:{decimals:!0}}}static#r(s){return t=>{const i=this.#e(t,s);return null==i?.Min?null:He.k0.min(i.Min)(t)}}static#s(s){return t=>{const i=this.#e(t,s);return null==i?.Max?null:He.k0.max(i.Max)(t)}}static#o(s){return t=>{const i=this.#e(t,s);return null==i||0==i.AllowMultiMin||null==i.AllowMultiMin?null:Xr(t,s,i)<i.AllowMultiMin?{minNoItems:i.AllowMultiMin}:null}}static#l(s){return t=>{const i=this.#e(t,s);return null==i||0==i.AllowMultiMax||null==i.AllowMultiMax?null:Xr(t,s,i)>i.AllowMultiMax?{maxNoItems:i.AllowMultiMax}:null}}static#d(s){return t=>{const i=s.settings();let n,r;const o=i.JsonValidation;if(this.#u(i)||"none"===o||!t.value)n=!1,r=!1;else try{JSON.parse(t.value),n=!1,r=!1}catch{"strict"===o?(n=!0,r=!1):"light"===o&&(n=!1,r=!0)}return t._warning=r?{jsonWarning:!0}:null,n?{jsonError:!0}:null}}static#c(s){return t=>{const i=s.props().formulaValidation,{error:n,warning:r}=this.#u(s.settings())||null==i?{error:!1,warning:!1}:"error"===i.severity?{error:!0,warning:!1}:"warning"===i.severity?{error:!1,warning:!0}:{error:!1,warning:!1};return t._warning=r?{formulaWarning:!0,formulaMessage:i.message}:null,n?{formulaError:!0,formulaMessage:i.message}:null}}static#u(s){return!un.mergedVisible(s)}}function Xr(a,s,t){if(Array.isArray(a.value))return a.value.length;const i=s.pickerData;return null==i?function et(a,s,t){return""==a&&t?[""]:""!=a&&a?Array.isArray(a)?a:a.split(s):[]}(a.value,t.Separator,!1).length:i.selectedAll().length}class fl{constructor(s,t,i,n,r){this.fieldName=s,this.inputType=t,this.props=n,this.pickersGet=r,this.settings=i}get pickerData(){return this.pickersGet()?.[this.fieldName]??null}}const gl={all:!1,correctSettingsAfterChanges:!0,schemaDisablesTranslation:!1,getDisabledBecauseTranslations:!1,fields:[...U.z]};class pa{constructor(s,t,i,n,r){this.contentTypeMetadata=s,this.language=t,this.fieldLogicTools=i,this.formReadOnly=n,this.slotIsEmpty=r,this.log=(0,p.Tq)({FieldSettingsUpdateHelperFactory:pa})}create(s,t,i,n){return new ha(s,this.contentTypeMetadata,this.language,this.fieldLogicTools,this.formReadOnly,this.slotIsEmpty,t,i,n)}}class ha{constructor(s,t,i,n,r,o,u,v,P){this.fieldName=s,this.contentTypeMetadata=t,this.language=i,this.fieldLogicTools=n,this.formReadOnly=r,this.formSlotIsEmpty=o,this.attribute=u,this.constantFieldPart=v,this.attributeValues=P,this.log=(0,p.Tq)({FieldSettingsUpdateHelper:ha},gl)}correctSettingsAfterChanges(s,t){const i=this.log.fnIfInList("correctSettingsAfterChanges","fields",this.fieldName,()=>({settings:s,fieldValue:t})),n=this.constantFieldPart,r=this.formSlotIsEmpty();s.Name=s.Name||this.attribute.Name,s.valueRequired=Wr.isRequired(s);const o=this.#e();s.DisableTranslation=r||o,s.uiDisabledInThisLanguage=this.#t(s.DisableTranslation),s.uiDisabledForced=r||s.uiDisabledInThisLanguage||this.formReadOnly,s.uiDisabled=s.uiDisabledForced||s.Disabled,s.DisableAutoTranslation=n.settingsInitial.DisableAutoTranslation||s.DisableTranslation;const u=n.logic?.update({fieldName:this.fieldName,settings:s,value:t,tools:this.fieldLogicTools})??s;return i.r(u)}#e(){this.log.fnIfInList("schemaDisablesTranslation","fields",this.fieldName);const t=this.contentTypeMetadata,i=this.constantFieldPart.inputTypeConfiguration,n=this.attributeValues,r=this.attribute.Metadata;if(t.find(u=>"LanguagesDecorator"===u.Type.Name)?.Attributes.Enabled?.Values.some(u=>!1===u.Value)||i?.DisableI18n||!new x.U(n,this.language).hasPrimary)return!0;for(const u of r??[])if(u.Attributes.DisableTranslation?.Values.some(v=>!0===v.Value))return!0;return!1}#t(s){const t=this.log.fnIfInList("getDisabledBecauseTranslations","fields",this.fieldName),i=this.attributeValues,n=this.language;if(n.current===n.primary)return t.r(!1,"enabled, primary language");const r=new x.U(i,n);return s?t.r(!0,"disabled, disableTranslation"):r.hasPrimary?r.hasEditableValues?t.r(!1,"disabled, has editable value"):t.r(!0,r.hasCurrentReadonly?"enabled, has readonly value":"enabled, no rule applies"):t.r(!0,"disabled, no value on primary")}}var ma=m(6953);class fa{constructor(s,t){this.contentType=s,this.slotIsEmpty=t,this.log=(0,p.Tq)({FieldsValuesModifiedHelper:fa})}getValueUpdates(s,t,i,n){const r=this.contentType(),o=this.slotIsEmpty();n??=s.values;const u=s.fieldProps,v=this.log.fn("getValueUpdates",{contentType:r,originalValues:n,fieldsProps:u,valueUpdates:i,valueUpdatesFromSideEffects:t,slotIsEmpty:o});if(o)return v.r({},"Slot is empty, exit early");const G=r.Attributes.map(ie=>({name:ie.Name,original:n[ie.Name]})).filter(ie=>void 0!==ie.original&&!u[ie.name]?.settings.uiDisabledForced).map(ie=>({...ie,value:this.#e(ie.name,t,i)})).filter(ie=>void 0!==ie.value&&!ma.$.fieldValuesAreEqual(ie.original,ie.value)).reduce((ie,ce)=>(ie[ce.name]=ce.value,ie),{});return v.rSilent(G)}#e(s,t,i){const n=t.filter(o=>o.name===s),r=n[n.length-1]?.value;return r??i[s]}}const _l={all:!1,init:!0,getPickers:!0};let vl=(()=>{class a{#e;#t;#i;#n;#a;#r;#s;#o;constructor(){this.log=(0,p.Tq)({FieldsPropsEngine:a},_l),this.#e=(0,e.WQX)(S.S),this.#t=(0,e.WQX)(J.B),this.#i=(0,e.WQX)(jt),this.#n=(0,e.WQX)(L.k),this.#a=(0,e.WQX)(k.b),this.#r=(0,c.d)(ml),this.#s=(0,c.d)(It),this.formulaEngine=(0,c.d)(rl),this.formulaPromises=(0,c.d)(cl)}init(t,i,n,r,o,u,v,P=null){this.log.extendName(`[${i.substring(0,8)}]`);const G=this.log.fnIf("init",{entityGuid:i,item:n,contentType:r,reader:o,forceDebug:P});null!=P&&this.log.forceEnable(P),this.item=n,this.languages=o(),this.#o=v;const ie=this.#a.slotIsEmpty(i),ce=r();return this.pickerData=this.#s.createPickersForAttributes(ce.Attributes),G.a("Pickers created",this.pickerData),this.#d=this.#r.init(n,ce,o,u,t).stableDataOfLanguage(),this.#l=this.#u(o,ce,ie),this.modifiedChecker=new fa(r,ie),this.formulaPromises.init(i,r,t,this.modifiedChecker),this.formulaEngine.init(i,n.Header,t,this.formulaPromises,ce,t.contentTypeSettings()._itemTitle),this.#c=this.#a.itemAttributesSignal(i),this}#l;#d;#c;getLatestSettingsAndValues(t){this.log.fn("getLatestSettingsAndValues");const n=this.#o.values();this.languages=this.#e.language();const r=this.#c(),o=this.#l(),u=this.#d();return this.cycle=new ua(this,n,t,r,o,u),this.cycle.getCycleSettingsAndValues().props}#u(t,i,n){return(0,oe.bo)("prepared-parts",()=>{const o=t(),u=o,v=this.#t.isDebug(),P=this.#i.readOnly(),G={eavConfig:this.#e.config,reader:o,debug:v,contentTypeItemSvc:this.#n};return new pa(i.Metadata,u,G,P.isReadOnly,n)})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class ga{constructor(s){this.entityGuid=s,this.log=(0,p.Tq)({FieldsPropertiesUpdates:ga}),this.fieldPropsMixins={},this.log.extendName(`[${s.substring(0,8)}]`)}hasChanges(){return Object.keys(this.fieldPropsMixins).length>0}updateSetting(s,t,i,n){const r=0===Object.keys(this.fieldPropsMixins).length,o=this.log.fn("updateSetting",{source:i,fieldName:s,update:t,queueWasEmpty:r}),u=n()[s].settings,v={...u,...t};if((0,yi.A)(u,v))return o.end(`no change; entityGuid: ${this.entityGuid}; fieldName: ${s}`);this.fieldPropsMixins[s]={...this.fieldPropsMixins[s]??{},...t},o.end("added to queue",{before:u,after:v,update:t})}mergeMixins(s){const t=this.log.fn("mergeMixins",{before:s,mixins:this.fieldPropsMixins}),i=this.fieldPropsMixins;if(0===Object.keys(i).length)return s;const n=Object.keys(i).reduce((r,o)=>{const u=r[o],v=i[o];return{...r,[o]:{...u,settings:{...u.settings,...v}}}},s);return this.fieldPropsMixins={},t.r(n,"merged")}}const yl={all:!1,startSync:!0,filterRelevant:!0,transferPickerData:!0};class _a{constructor(){this.log=(0,p.Tq)({FieldSettingsPickerUpdater:_a},yl)}startSync(s){const t=this.log.fnIf("startSync",{source:s}),i=(0,oe.bo)("optsOnly",()=>this.#e(s(),"opts")),n=(0,oe.bo)("selOnly",()=>this.#e(s(),"sel"));(0,e.QZP)(()=>this.#t(i(),"opts")),(0,e.QZP)(()=>this.#t(n(),"sel")),t.end()}#e(s,t){if(!s)return[];const i=Object.entries(s).filter(([r,o])=>o[t]?.list).map(([r,o])=>({field:r,list:o[t].list,pickerData:o.constants.pickerData}));return this.log.fnIf("filterRelevant",{count:i.length,toTransfer:i},t).rSilent(i)}#t(s,t){if(!s.length)return;const i=this.log.fnIf("transferPickerData",{count:s.length,toTransfer:s},`\u{1f9ea}\u{1f501}${t}`);for(const{field:n,list:r,pickerData:o}of s){i.a("Transfer",{field:n,list:r});const u=o();("opts"==t?u.optionsOverride:u.selectedOverride).set(r)}}}var va=m(3151),bl=m(5839),Cl=m(9934),wl=m(2484),Ml=m(4138),kl=m(2549),Dl=m(9247),Tl=m(3101),xl=m(8104),Sl=m(9913);const Ol={logChanges:!1};let Fl=(()=>{class a{constructor(t){if(this.itemSvc=t,this.log=(0,p.Tq)({FieldsSignalsHelper:a},Ol),this.#t=(0,oe.KX)("itemGuid",null),this.#i=(0,oe.KX)("attributesLazy",null),this.log.specs.logChanges){const i=(0,p.Tq)("FieldValues");i.a("will log value changes");let n={};(0,e.QZP)(()=>{const r=this.#t();if(!r)return i.a("no guid");const o=this.values(),u=function Al(a,s){return function t(i,n){return function Il(a,s,t){var i=(0,Dl.A)(a),n=i||(0,Tl.A)(a)||(0,Sl.A)(a);if(s=(0,Ml.A)(s,4),null==t){var r=a&&a.constructor;t=n?i?new r:[]:(0,va.A)(a)&&(0,xl.A)(r)?(0,Cl.A)((0,kl.A)(a)):{}}return(n?bl.A:wl.A)(a,function(o,u,v){return s(t,o,u,v)}),t}(i,function(r,o,u){(0,yi.A)(o,n[u])||(r[u]=(0,va.A)(o)&&(0,va.A)(n[u])?t(o,n[u]):o)})}(a,s)}(o,n);n=o,i.a(`changed on guid: ${r}`,u)})}}#e;#t;init(t,i){this.#t.set(t),this.#r=new pe.K(t),this.#e=i;const n=this.itemSvc.itemAttributesSignal(t);return null==n&&console.error("item-entity-attributes is null"),this.#i.set(n),this}#i;get values(){const t=this.log.fn("get-values",{itemGuid:this.#t});if(null!=this.#n)return t.rSilent(this.#n,"cached");const i=this.#a();return this.#n=i,t.rSilent(this.#n,"generated")}#n;#a(){return(0,oe.bo)(`${this.#t().substring(0,8)}-ALL`,()=>{const i=this.log.fn("values"),n=this.#e(),r=this.#i();if(null==r)return i.r({},"attributes is null");const o=r();return o&&0!=Object.keys(o).length?n.currentValues(o):i.r({},"attributes is empty")})}get(t){const i=this.log.fn("get",{field:t}),n=this.#s(t);return i.rSilent(n)}#r;#s(t){const i=this.log.fn("#fieldValueOrNullSignal",{fieldName:t}),n=this.#r.getOrCreateWithInfo(t,()=>{const r=this.#i();if(null==r)return null;const o=r();if(!o||0==Object.keys(o).length)return null;const u=o[t],v=u?.Values;return null==v||0==v.length?null:this.#e().getBestValue(u)});return i.rSilent(n.signal,`isNew: ${n.isNew}`)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(k.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Pl={effectTransferPickerData:!0,regenerateProps:!0,type:"",activateAnalyzer:!1};let bi=(()=>{class a{#e;#t;#i;#n;#a;#r;#s;constructor(){this.log=(0,p.Tq)({FieldsSettingsService:a},Pl),this.#e=(0,e.WQX)(Ie.A),this.#t=(0,e.WQX)(S.S),this.#i=(0,e.WQX)(V.n),this.#n=(0,e.WQX)(k.b),this.#a=(0,c.d)(f.L),this.#r=(0,c.d)(vl),this.#s=new _a,this.allProps=(0,oe.KX)("allProps",{}),this.#o=(0,e.vPA)(!1),this.#d=(0,oe.KX)("forceRefresh",0),this.#c=(0,oe.KX)("disabled",!1),this.#h=this.#e.getEntityReader(this.#t.config.formId),this.#g=(0,oe.bo)("labelReader",()=>{const i=this.#h(),n=this.#a.value("form");return n?new E.bT({current:n,primary:i.primary}):i}),this.#p=(0,e.vPA)(null),this.#m=(0,e.EWP)(()=>this.#p()?this.#i.getContentTypeOfItem(this.#p()):null),this.contentTypeSettings=(0,e.EWP)(()=>this.#p()?E.im.getDefaultSettings(this.#g(),this.#m(),this.#p().Header):null),this.#f=(0,c.d)(Fl),this.#v=new pe.K("field-props"),this.fieldProps=this.#v.buildProxy(i=>()=>this.allProps()[i]),this.#y=new pe.K("fields"),this.settings=this.#y.buildProxy(i=>()=>this.allProps()[i].settings),this.translationState=pe.K.proxy("transl-state",i=>()=>this.allProps()[i].translationState);const t=(0,oe.bo)("allPropsOrNull",()=>this.#o()&&this.#l());(0,e.QZP)(()=>{const i=t();i&&this.allProps.set(i)}),this.#s.startSync(t)}disableForCleanUp(){this.log.fn("cleanUp"),this.#c.set(!0)}#o;#l;#d;#c;#u;#h;#g;#p;#m;#f;init(t){const i=this.#n.get(t);this.#p.set(i),this.#u=new ga(t);const n=this.#m(),r=this.log.specs.type,o=null===r?null:n.Id===r;null!==o&&(this.log.a(`Set debug for content type '${n.Id}' to ${o}, only debugging ${r}`),this.log.forceEnable(o));const u=this.#n.slotIsEmpty(t);this.#f.init(t,this.#h),this.#r.init(this,t,i,this.#m,this.#h,this.#g,this.#f,o);const v={idMsg:`entityGuid: ${t}; contentTypeId: ${n.Id};`,cycle:0,analyzer:null,disabled:this.#c,slotIsEmpty:u,slotWasEmpty:!1,forceRefresh:this.#d,watchRestart:(0,e.vPA)(0),prevFieldProps:{},hasRunOnce:!1};setInterval(()=>{v.cycle>10&&setTimeout(()=>(this.log.a(`restarting max cycles from ${v.cycle}; ${v.idMsg}`),v.watchRestart.update(P=>P+1)),500),v.cycle=0},250),this.#l=(0,oe.bo)("allFieldProps",()=>this.#_(v)),this.log.specs.activateAnalyzer&&(v.analyzer=new X(this.#l)),this.#o.set(!0)}#_(t){t.analyzer&&console.log("analyzer",{fieldProps:this.allProps},t.analyzer.snapShotProducers(!0));const i=this.log.fnIf("regenerateProps",{cycle:t.cycle,props:this.allProps},t.idMsg),n=t.slotIsEmpty();if((this.#c()||n&&n==t.slotWasEmpty)&&t.hasRunOnce)return i.r(t.prevFieldProps,"disabled or slotIsEmpty");if(t.hasRunOnce=!0,t.slotWasEmpty=n,this.#d(),t.cycle++>10){const v=`Max cycles reached, stopping for this second; cycle: ${t.cycle}; ${t.idMsg};`;return console.warn(v),t.watchRestart(),i.r(t.prevFieldProps,v)}const o=this.#u.hasChanges()?this.#u.mergeMixins(t.prevFieldProps):t.prevFieldProps,u=this.#r.getLatestSettingsAndValues(o);return t.prevFieldProps=u,i.rSilent(u,"normal update")}#v;#y;retriggerFormulas(t){this.log.fn("retriggerFormulas",{source:t}),this.#d.update(i=>i+1)}updateSetting(t,i,n){this.#u.updateSetting(t,i,n,this.allProps),setTimeout(()=>this.retriggerFormulas("updateSetting"),10)}get pickerData(){return this.#r.pickerData}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ti=m(52),Yl=m(9765),pn=m(9868);class ya{constructor(s){this.getFieldsProps=s,this.log=(0,p.Tq)({FieldTranslationInfo:ya})}get#e(){return this.#t??=this.getFieldsProps().settings}#t;get isAutoTranslatable(){return!this.DisableTranslation&&!this.DisableAutoTranslation}get notForAutoTranslateBecauseOfType(){return!this.DisableTranslation&&this.autoTranslateIsDisabledByTypeButNotByConfig()}get DisableTranslation(){return this.#e.DisableTranslation}get DisableAutoTranslation(){return this.#e.DisableAutoTranslation}autoTranslateIsDisabledByTypeButNotByConfig(){return!this.DisableAutoTranslation&&!w.y.singleton().get(this.getFieldsProps().constants.inputTypeSpecs.inputType).canAutoTranslate}}var Nl=m(6443);const Bl={all:!0,constructor:!1,init:!0,unlock:!0,lock:!0,getInfo:!0,autoTranslate:!0,findAutoTranslatableFields:!0,addItemAttributeValueHelper:!0};let Fi=(()=>{class a{#e;constructor(t,i,n,r,o,u,v){this.http=t,this.itemService=i,this.formConfig=n,this.contentTypeService=r,this.fieldsSettingsService=o,this.snackBar=u,this.translate=v,this.log=(0,p.Tq)({FieldsTranslateService:a},Bl),this.updater=this.itemService.updater,this.log.fnIf("constructor")}init(t){const i=this.log.fnIf("init");this.#t=t;const n=this.itemService.get(t);this.#i=Yl.i.getContentTypeNameId(n),this.#e=this.itemService.itemAttributesSignal(t),i.end("",{entityGuid:t,contentTypeId:this.#i})}#t;#i;unlock(t,i=!1,n){const r=this.log.fnIf("unlock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return r.rNull("Translation is disabled for this field.");const o=this.formConfig.language();n=this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n);const u=this.#e()[t],v=null!=new x.U(u,o).currentEditable,G=new x.U(u,pn.N.bothPrimary(o)).current;return v?r.rNull():r.r(this.#a(t,G.Value,o.current,!1))}lock(t,i=!1,n){const r=this.log.fnIf("lock",{fieldName:t,isTransaction:i,transactionItem:n});if(this.#n(t).DisableTranslation)return r.rNull("Translation is disabled for this field.");const o=this.formConfig.language();return this.updater.removeItemAttributeDimension(this.#t,t,o.current,i,n)}toggleUnlockOnAll(t){const i=this.findTranslatableFields();if(0===i.length)return this.showMessageNoTranslatableFields(!1);let n;for(const r of i){const o=r!==i[i.length-1];n=t?this.unlock(r,o,n):this.lock(r,o,n)}}showMessageNoTranslatableFields(t){const i=this.translate.instant("LangMenu.NoAutoTranslatableFieldsFound".replace("Auto",t?"Auto":""));this.snackBar.open(i,null,{duration:2e3})}autoTranslate(t,i,n=!1,r=!1){this.log.fnIf("autoTranslate",{fieldNames:t,autoTranslateLanguageKey:i,isMany:n,areAllChecksKnown:r});const u=this.formConfig.settings.Values[Ti.Ox.GoogleTranslate];u.IsDemo&&alert("This translation is a demo. Please provide your own Google Translate API key in the EAV configuration.");const v=this.formConfig.language(),P=this.#e(),G=(t=t.filter(ce=>!this.#n(ce).DisableTranslation)).map(ce=>new x.U(P[ce],i).currentEditable.Value);r||t.forEach((ce,Ae)=>{const Ze=G[Ae],nt=this.#n(ce).autoTranslateIsDisabledByTypeButNotByConfig();(null==Ze||""===Ze||nt)&&this.unlock(ce)}),this.http.post(`https://translation.googleapis.com/language/translate/v2?key=${u.ApiKey}`,{q:G,target:v.current,source:i}).subscribe(ce=>{const Ae=t.map(Ze=>null!=new x.U(P[Ze],v).currentEditable);ce.data.translations.forEach((Ze,nt)=>{const rt=document.createElement("textarea");rt.innerHTML=Ze.translatedText;const Ft=Ae[nt];!n&&Ft?this.updater.updateItemAttributeValue(this.#t,t[nt],rt.value,v,!1):Ft||this.#a(t[nt],rt.value,v.current,!1)})})}copyFrom(t,i){if(this.#n(t).DisableTranslation)return;const r=this.#e()[t],o=this.formConfig.language(),u=new x.U(r,o),v=u.ofLanguage(pn.N.diffCurrent(o,i));v?r&&u.isEditableOrReadonlyTranslationExist()?this.updater.updateItemAttributeValue(this.#t,t,v.Value,o,!1):this.#a(t,v.Value,o.current,!1):this.log.a(`${o.current}: Cant copy value from ${i} because that value does not exist.`)}linkReadOnly(t,i){this.linkToOtherField(t,i,!0)}linkReadWrite(t,i){return this.linkToOtherField(t,i,!1)}linkToOtherField(t,i,n){if(this.#n(t).DisableTranslation)return;const r=this.formConfig.language(),o=this.updater.removeItemAttributeDimension(this.#t,t,r.current,!0);this.updater.addItemAttributeDimension(this.#t,t,r.current,i,r.primary,n,o)}autoTranslateMany(t){const i=this.#e(),n=[],r=this.findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault();this.findAutoTranslatableFields().filter(v=>!r.includes(v)).forEach(v=>{const P=new x.U(i[v],t).currentEditable?.Value;""!==P&&null!=P&&void 0!==P&&n.push(v)}),this.autoTranslate(n,t,!0,!0),r.forEach(v=>{this.unlock(v,!1,void 0)})}findTranslatableFields(){const t=this.#e();return Object.keys(t).filter(i=>!this.#n(i).DisableTranslation)}findAutoTranslatableFields(){const t=this.#e(),i=Object.keys(t).filter(n=>this.#n(n).isAutoTranslatable);return this.log.fnIf("findAutoTranslatableFields",{attributes:t,result:i}),i}#n(t){const i=new ya(()=>this.fieldsSettingsService.fieldProps[t]());return this.log.fnIf("getInfo",{fieldName:t,ti:i}),i}findAutoTranslatableFieldsThatWereNotAutoTranslatableByDefault(){const t=this.#e();return Object.keys(t).filter(i=>this.#n(i).notForAutoTranslateBecauseOfType)}#a(t,i,n,r){const o=this.log.fnIf("addItemAttributeValueHelper",{fieldName:t,value:i,currentLanguage:n,isReadOnly:r}),u=this.contentTypeService.getAttribute(this.#i,t),v=this.updater.addItemAttributeValue(this.#t,t,i,n,r,u.Type);return o.r(v)}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Nl.Qq),e.KVO(k.b),e.KVO(S.S),e.KVO(V.n),e.KVO(bi),e.KVO(se.UG),e.KVO(O.c$))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Wi=m(6571),gt=m(4175),pt=m(3777),Pi=m(8827),zl=m(1459),Vt=m(4601),Ri=m(9914),ui=m(5797),Lt=m(1034),hn=m(9006);const Hl=a=>({name:a});function Gl(a,s){if(1&a&&(e.j41(0,"mat-icon",0),e.EFF(1,"diamond"),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippyData",e.eq3(1,Hl,t.featureNameId()))}}let Jr=(()=>{class a extends hn.x{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-feature-icon-indicator"]],features:[e.Vt3],decls:1,vars:1,consts:[["tippyTranslate","Features.NotActivated",3,"tippyData"]],template:function(i,n){1&i&&e.DNE(0,Gl,2,3,"mat-icon",0),2&i&&e.vxM(n.show()?0:-1)},dependencies:[ae.m_,ae.An,Vt.e],encapsulation:2})}}return a})();function $l(a,s){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.NoAutoTranslatableFields")," "))}function Ul(a,s){1&a&&(e.j41(0,"mat-card-subtitle"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"LangMenu.Dialog.ThisFieldIsNotAutoTranslatable")," "))}let Zr=(()=>{class a{constructor(t,i){this.dialog=t,this.dialogData=i}ngOnInit(){}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.CP),e.rXU(Ce.Vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-disabled-warning-dialog"]],decls:11,vars:8,consts:[["align","end"],["mat-button","","color","accent",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,$l,3,3,"mat-card-subtitle")(6,Ul,3,3,"mat-card-subtitle"),e.k0s(),e.j41(7,"mat-card-actions",0)(8,"button",1),e.bIt("click",function(){return n.closeDialog()}),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,4,"LangMenu.Dialog.CantAutoTranslate")," "),e.R7$(2),e.vxM(n.dialogData.isAutoTranslateAll?5:-1),e.R7$(),e.vxM(n.dialogData.isAutoTranslateAll?-1:6),e.R7$(3),e.JRh(e.bMT(10,6,"Features.Close")))},dependencies:[pt.Hu,pt.RN,pt.YY,pt.MM,pt.Lc,pt.dh,gt.Hl,gt.$z,O.h,O.D9],encapsulation:2})}}return a})();var Tt=m(2814),li=m(7699),xi=m(9227),Yt=m(7092),Ai=m(3617),ba=m(9539);let Wl=(()=>{class a{get vertical(){return this._vertical}set vertical(t){this._vertical=(0,Tt.he)(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=(0,Tt.he)(t)}_inset=!1;static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,n){2&i&&(e.BMQ("aria-orientation",n.vertical?"vertical":"horizontal"),e.AVh("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,n){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return a})(),qr=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[re.yE,re.yE]})}return a})();var Jt=m(2102),Li=m(7989),ze=m(4879),Ci=m(3900);const mn=["*"],Ca='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',es=["unscopedContent"],Xl=["text"],Ql=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Kl=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],ts=new e.nKC("ListOption");let Xi=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return a})(),wa=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return a})(),mc=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return a})(),is=(()=>{class a{_listOption=(0,e.WQX)(ts,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return a})(),fc=(()=>{class a extends is{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[e.Vt3]})}return a})(),fn=(()=>{class a extends is{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[e.Vt3]})}return a})();const gc=new e.nKC("MAT_LIST_CONFIG");let wi=(()=>{class a{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,Tt.he)(t)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Tt.he)(t)}_disabled=!1;_defaultOptions=(0,e.WQX)(gc,{optional:!0});static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,hostVars:1,hostBindings:function(i,n){2&i&&e.BMQ("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),Ma=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_ngZone=(0,e.WQX)(e.SKi);_listBase=(0,e.WQX)(wi,{optional:!0});_platform=(0,e.WQX)(li.OD);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(t){this._explicitLines=(0,Tt.OE)(t,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=(0,Tt.he)(t)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=(0,Tt.he)(t)}_disabled=!1;_subscriptions=new Yt.yU;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){(0,e.WQX)(xi.l).load(re.Ah);const t=(0,e.WQX)(re.$E,{optional:!0}),i=(0,e.WQX)(e.bc$,{optional:!0});this.rippleConfig=t||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===i,this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new re.ug(this,this._ngZone,this._hostElement,this._platform,(0,e.WQX)(e.zZn)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Ai.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const r=0===this._titles.length&&1===i;n.classList.toggle("mdc-list-item__primary-text",r),n.classList.toggle("mdc-list-item__secondary-text",!r)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,contentQueries:function(i,n,r){if(1&i&&(e.wni(r,fc,4),e.wni(r,fn,4)),2&i){let o;e.mGM(o=e.lsd())&&(n._avatars=o),e.mGM(o=e.lsd())&&(n._icons=o)}},hostVars:4,hostBindings:function(i,n){2&i&&(e.BMQ("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),e.AVh("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return a})(),ns=(()=>{class a extends wi{_isNonInteractive=!1;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],features:[e.Jv_([{provide:wi,useExisting:a}]),e.Vt3],ngContentSelectors:mn,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}'],encapsulation:2,changeDetection:0})}return a})(),_c=(()=>{class a extends wi{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[e.Jv_([{provide:wi,useExisting:a}]),e.Vt3],ngContentSelectors:mn,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[Ca],encapsulation:2,changeDetection:0})}return a})(),gn=(()=>{class a extends Ma{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(t){this._activated=(0,Tt.he)(t)}_activated=!1;_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,r){if(1&i&&(e.wni(r,wa,5),e.wni(r,Xi,5),e.wni(r,mc,5)),2&i){let o;e.mGM(o=e.lsd())&&(n._lines=o),e.mGM(o=e.lsd())&&(n._titles=o),e.mGM(o=e.lsd())&&(n._meta=o)}},viewQuery:function(i,n){if(1&i&&(e.GBs(es,5),e.GBs(Xl,5)),2&i){let r;e.mGM(r=e.lsd())&&(n._unscopedContent=r.first),e.mGM(r=e.lsd())&&(n._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,n){2&i&&(e.BMQ("aria-current",n._getAriaCurrent()),e.AVh("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",0!==n._avatars.length)("mdc-list-item--with-leading-icon",0!==n._icons.length)("mdc-list-item--with-trailing-meta",0!==n._meta.length)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[e.Vt3],ngContentSelectors:Kl,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,n){if(1&i){const r=e.RV6();e.NAR(Ql),e.SdG(0),e.j41(1,"span",1),e.SdG(2,1),e.SdG(3,2),e.j41(4,"span",2,0),e.bIt("cdkObserveContent",function(){return e.eBV(r),e.Njj(n._updateItemLines(!0))}),e.SdG(6,3),e.k0s()(),e.SdG(7,4),e.SdG(8,5),e.nrm(9,"div",3)}},dependencies:[ba.Wv],encapsulation:2,changeDetection:0})}return a})(),rs=(()=>{class a extends wi{_isNonInteractive=!1;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[e.Jv_([{provide:wi,useExisting:a}]),e.Vt3],ngContentSelectors:mn,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.SdG(0))},styles:[Ca],encapsulation:2,changeDetection:0})}return a})(),_n=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[ba.w5,re.yE,re.pZ,re.O5,qr]})}return a})();var wc=m(5469);const Vi={NoTranslate:"NoTranslate",FromPrimary:"FromPrimary",FromOther:"FromOther",LinkReadOnly:"LinkReadOnly",LinkShared:"LinkShared"};var Qt=m(5675);function ss(a,s,t,i,n){return t.filter(o=>o.NameId!==s.current).map(o=>{const v=n===Qt.J.LinkReadWrite&&!o.IsAllowed||!new x.U(i[a.fieldName],pn.N.diffCurrent(s,o.NameId)).hasEditableValues;return{key:o.NameId,disabled:v}})}function kc(a){switch(a){case Qt.J.Translate:return Vi.FromPrimary;case Qt.J.DontTranslate:return Vi.NoTranslate;case Qt.J.LinkReadOnly:return Vi.LinkReadOnly;case Qt.J.LinkReadWrite:return Vi.LinkShared;case Qt.J.LinkCopyFrom:return Vi.FromOther}}let os=(()=>{class a{#e;#t;constructor(t){this.dialogData=t,this.#e=(0,e.WQX)(T.g),this.#t=(0,e.WQX)(k.b),this.formConfig=(0,e.WQX)(S.S),this.TranslationLinks=Qt.J,this.I18nKeys=Vi,this.language=this.formConfig.language,this.translationStateSignal=(0,e.vPA)(this.dialogData.translationState),this.translationInfo=(0,oe.bo)("translationInfo",()=>{const i=this.translationStateSignal();return this.noLanguageRequired=[Qt.J.Translate,Qt.J.DontTranslate],{showLanguageSelection:!this.noLanguageRequired.includes(i.linkType),i18nRoot:`LangMenu.Dialog.${kc(i.linkType)}`,submitDisabled:""===i.language&&!this.noLanguageRequired.includes(i.linkType)}}),this.languages=this.#e.getAllSignal(),this.itemAttributes=this.#t.itemAttributesSignal(this.dialogData.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.Vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-helper-component-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();var Qi=m(2760);let Dc=(()=>{class a{constructor(){}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-warning-demo"]],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"snack-bar-warning-demo-white-hyperlink",3,"innerHTML"]],template:function(i,n){1&i&&(e.nrm(0,"h3",0),e.nI1(1,"translate"),e.nI1(2,"safeHtml"),e.nrm(3,"p",1),e.nI1(4,"translate"),e.nI1(5,"safeHtml")),2&i&&(e.Y8G("innerHTML",e.bMT(2,4,e.bMT(1,2,"LangMenu.SnackBar.Title")),e.npT),e.R7$(3),e.Y8G("innerHTML",e.bMT(5,8,e.bMT(4,6,"LangMenu.SnackBar.Body")),e.npT))},dependencies:[O.h,O.D9,Ri.$],styles:[".snack-bar-warning-demo-white-hyperlink a{color:#fff;text-decoration:underline}"]})}}return a})();const Tc=(a,s)=>({"eav-list-item__focus":a,"list-item__disabled":s}),xc=a=>({"list-item-icon__disabled":a});function Sc(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.NoContent"),") "))}function Ic(a,s){1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),") "))}function Ec(a,s){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.E5c("(",e.bMT(2,3,"LangMenu.Dialog.AutoTranslateAll.AllTranslatableFields"),", ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(3,5,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Ac(a,s){if(1&a&&(e.j41(0,"span"),e.DNE(1,Ic,3,3,"span")(2,Ec,4,7,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Oc(a,s){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.LHq("(",t.noTranslatableFields," ",e.bMT(2,4,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,6,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields"),") ")}}function Fc(a,s){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s()),2&a){const t=e.XpG(4).$implicit,i=e.XpG();e.R7$(),e.ZXR("(",t.noTranslatableFields," ",e.bMT(2,6,"LangMenu.Dialog.AutoTranslateAll.Of")," ",i.dialogData.translatableFields.length," ",e.bMT(3,8,"LangMenu.Dialog.AutoTranslateAll.TranslatableFields")," , ",i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent," ",e.bMT(4,10,"LangMenu.Dialog.AutoTranslateAll.Empty"),") ")}}function Pc(a,s){if(1&a&&(e.j41(0,"span"),e.DNE(1,Oc,4,8,"span")(2,Fc,5,12,"span"),e.k0s()),2&a){const t=e.XpG(3).$implicit,i=e.XpG();e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent==0?1:-1),e.R7$(),e.vxM(i.dialogData.translatableFields.length-t.noTranslatableFieldsThatHaveContent!=0?2:-1)}}function Rc(a,s){if(1&a&&(e.j41(0,"span"),e.DNE(1,Ac,3,2,"span")(2,Pc,3,2,"span"),e.k0s()),2&a){const t=e.XpG(2).$implicit,i=e.XpG();e.R7$(),e.vxM(t.noTranslatableFields==i.dialogData.translatableFields.length?1:-1),e.R7$(),e.vxM(t.noTranslatableFields!=i.dialogData.translatableFields.length?2:-1)}}function Lc(a,s){if(1&a&&(e.j41(0,"span"),e.DNE(1,Sc,3,3,"span")(2,Rc,3,2,"span"),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM(0==t.noTranslatableFields?1:-1),e.R7$(),e.vxM(0!=t.noTranslatableFields?2:-1)}}function Vc(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",5),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.setLanguage(n.key))}),e.j41(1,"mat-icon",6),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",7),e.EFF(4),e.DNE(5,Lc,3,2,"span"),e.k0s()()}if(2&a){const t=s.$implicit,i=e.XpG();e.Y8G("disabled",t.disabled||!i.isTranslateWithGoogleFeatureEnabled())("ngClass",e.l_i(5,Tc,i.translationStateSignal().language===t.key,t.disabled||!i.isTranslateWithGoogleFeatureEnabled())),e.R7$(),e.Y8G("ngClass",e.eq3(8,xc,t.disabled)),e.R7$(3),e.SpI("",t.key," "),e.R7$(),e.vxM(i.dialogData.isTranslateMany?5:-1)}}let ls=(()=>{class a extends os{constructor(t,i,n,r){super(i),this.dialog=t,this.dialogData=i,this.fieldsTranslateService=n,this.snackBar=r,this.features=(0,e.WQX)(A.D),this.isTranslateWithGoogleFeatureEnabled=this.features.isEnabled[Bt.T.EditUiTranslateWithGoogle],this.languagesSig=(0,e.EWP)(()=>{const o=this.languages(),u=this.language(),v=this.itemAttributes(),P=this.translationStateSignal();return this.dialogData.isTranslateMany?function Mc(a,s,t,i,n){return s.filter(o=>o.NameId!==a.current).map(o=>{let u=0,v=0,P=!1;const G=pn.N.diffCurrent(a,o.NameId);return n.forEach(ce=>{const Ze=new x.U(t[ce],G);u+=Ze.countEditable(),v+=Ze.countEditableWithContents(),P=i===Qt.J.LinkReadWrite&&!o.IsAllowed||0==u}),{key:o.NameId,disabled:P,noTranslatableFields:u,noTranslatableFieldsThatHaveContent:v}})}(u,o,v,P.linkType,this.dialogData.translatableFields):ss(this.dialogData.config,u,o,v,P.linkType)}),this.dialog.keydownEvents().subscribe(o=>{(0,Qi.J)(o)&&o.preventDefault()})}ngOnInit(){this.isTranslateWithGoogleFeatureEnabled()&&this.dialog.afterClosed().subscribe(()=>this.snackBar.dismiss()),this.formConfig.settings.Values[Ti.Ox.GoogleTranslate].IsDemo&&this.snackBar.openFromComponent(Dc)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i),this.dialogData.translationState.language!==i.language?(this.dialogData.isTranslateMany?this.fieldsTranslateService.autoTranslateMany(i.language):this.fieldsTranslateService.autoTranslate([this.dialogData.config.fieldName],i.language),this.closeDialog()):this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.CP),e.rXU(Ce.Vh),e.rXU(Fi),e.rXU(se.UG))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-auto-translate-menu-dialog"]],features:[e.Vt3],decls:13,vars:9,consts:[[1,"auto-translate-menu-dialog-card","u-hide-scrollbar"],[3,"featureNameId"],[3,"innerHTML"],[1,"eav-card-content__no-padding"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"],["matListItemTitle",""]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-feature-text-info",1)(6,"mat-card-subtitle",2),e.nI1(7,"translate"),e.nI1(8,"safeHtml"),e.k0s(),e.j41(9,"mat-card-content",3)(10,"mat-action-list"),e.Z7z(11,Vc,6,10,"mat-list-item",4,e.fX1),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.bMT(4,3,"LangMenu.Dialog.AutoTranslateAll.Title")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("innerHTML",e.bMT(8,7,e.bMT(7,5,"LangMenu.Dialog.AutoTranslateAll.Body")),e.npT),e.R7$(5),e.Dyx(n.languagesSig()))},dependencies:[pt.Hu,pt.RN,pt.m2,pt.MM,pt.Lc,pt.dh,wc.L,_n,ns,gn,fn,Xi,ne.YU,ae.m_,ae.An,O.h,O.D9,Ri.$],styles:[".auto-translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.auto-translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();const Yc=a=>({name:a}),Ki=a=>({"eav-list-item__focus":a}),gi=a=>({primary:a}),Nc=(a,s)=>({"eav-list-item__focus":a,"list-item__disabled":s}),jc=a=>({"list-item-icon__disabled":a});function Bc(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-list-item",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.setLanguage(n.key))}),e.j41(1,"mat-icon",12),e.EFF(2,"language"),e.k0s(),e.j41(3,"span",5),e.EFF(4),e.k0s()()}if(2&a){const t=s.$implicit,i=e.XpG(2);e.Y8G("disabled",t.disabled)("ngClass",e.l_i(4,Nc,i.translationStateSignal().language===t.key,t.disabled)),e.R7$(),e.Y8G("ngClass",e.eq3(7,jc,t.disabled)),e.R7$(3),e.JRh(t.key)}}function zc(a,s){if(1&a&&(e.j41(0,"div")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-action-list"),e.Z7z(9,Bc,5,9,"mat-list-item",10,e.fX1),e.k0s()()),2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,t.translationInfo().i18nRoot+".Subtitle")," "),e.R7$(3),e.SpI(" ",e.bMT(7,4,"LangMenu.Dialog.PickLanguageIntro")," "),e.R7$(3),e.Dyx(t.languagesSig())}}let Hc=(()=>{class a extends os{constructor(t,i,n){super(i),this.dialog=t,this.dialogData=i,this.fieldsTranslateService=n,this.languagesSig=(0,e.EWP)(()=>{const r=this.languages(),o=this.language(),u=this.itemAttributes(),v=this.translationStateSignal();return ss(this.dialogData.config,o,r,u,v.linkType)}),this.dialog.keydownEvents().subscribe(r=>{(0,Qi.J)(r)&&r.preventDefault()})}setLinkType(t){const i={linkType:t,language:this.noLanguageRequired.includes(t)?"":this.translationStateSignal().language};this.translationStateSignal.set(i)}setLanguage(t){const i={...this.translationStateSignal(),language:t};this.translationStateSignal.set(i)}run(){const t=this.translationStateSignal(),i=this.dialogData.translationState;if(i.linkType===t.linkType&&i.language===t.language)return this.closeDialog();switch(t.linkType){case Qt.J.Translate:this.fieldsTranslateService.unlock(this.dialogData.config.fieldName);break;case Qt.J.DontTranslate:this.fieldsTranslateService.lock(this.dialogData.config.fieldName);break;case Qt.J.LinkReadOnly:this.fieldsTranslateService.linkReadOnly(this.dialogData.config.fieldName,t.language);break;case Qt.J.LinkReadWrite:this.fieldsTranslateService.linkReadWrite(this.dialogData.config.fieldName,t.language);break;case Qt.J.LinkCopyFrom:this.fieldsTranslateService.copyFrom(this.dialogData.config.fieldName,t.language)}this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.CP),e.rXU(Ce.Vh),e.rXU(Fi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu-dialog"]],features:[e.Vt3],decls:59,vars:86,consts:[[1,"translate-menu-dialog-card","u-hide-scrollbar"],[1,"eav-card-content__no-padding"],["toggle","","focus",""],[3,"click","ngClass"],["matListItemIcon","","color","accent"],["matListItemTitle",""],["matListItemLine",""],["lines","3",3,"click","ngClass"],["align","end"],["mat-button","","color","accent",3,"click","disabled"],[3,"disabled","ngClass"],[3,"click","disabled","ngClass"],["matListItemIcon","",3,"ngClass"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",1)(9,"mat-nav-list",2)(10,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.DontTranslate)}),e.j41(11,"mat-icon",4),e.EFF(12,"lock"),e.k0s(),e.j41(13,"span",5),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span",6),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.Translate)}),e.j41(20,"mat-icon",4),e.EFF(21,"lock_open"),e.k0s(),e.j41(22,"span",5),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkCopyFrom)}),e.j41(29,"mat-icon",4),e.EFF(30,"translate"),e.k0s(),e.j41(31,"span",5),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"span"),e.EFF(35),e.nI1(36,"translate"),e.k0s()(),e.j41(37,"mat-list-item",3),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadOnly)}),e.j41(38,"mat-icon",4),e.EFF(39,"link"),e.k0s(),e.j41(40,"span",5),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"span",6),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"mat-list-item",7),e.bIt("click",function(){return n.setLinkType(n.TranslationLinks.LinkReadWrite)}),e.j41(47,"mat-icon",4),e.EFF(48,"share"),e.k0s(),e.j41(49,"span",5),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"span"),e.EFF(53),e.nI1(54,"translate"),e.k0s()()(),e.DNE(55,zc,11,6,"div"),e.k0s(),e.j41(56,"mat-card-actions",8)(57,"button",9),e.bIt("click",function(){return n.run()}),e.EFF(58,"OK"),e.k0s()()()),2&i&&(e.R7$(3),e.SpI(" ",e.i5U(4,19,"LangMenu.Dialog.Title",e.eq3(54,Yc,n.dialogData.config.fieldName))," "),e.R7$(3),e.SpI(" ",e.bMT(7,22,"LangMenu.Dialog.Intro")," "),e.R7$(4),e.Y8G("ngClass",e.eq3(56,Ki,n.translationStateSignal().linkType===n.TranslationLinks.DontTranslate)),e.R7$(4),e.JRh(e.i5U(15,24,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Title",e.eq3(58,gi,n.language().primary))),e.R7$(3),e.JRh(e.i5U(18,27,"LangMenu.Dialog."+n.I18nKeys.NoTranslate+".Body",e.eq3(60,gi,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(62,Ki,n.translationStateSignal().linkType===n.TranslationLinks.Translate)),e.R7$(4),e.JRh(e.i5U(24,30,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Title",e.eq3(64,gi,n.language().primary))),e.R7$(3),e.JRh(e.i5U(27,33,"LangMenu.Dialog."+n.I18nKeys.FromPrimary+".Body",e.eq3(66,gi,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(68,Ki,n.translationStateSignal().linkType===n.TranslationLinks.LinkCopyFrom)),e.R7$(4),e.JRh(e.i5U(33,36,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Title",e.eq3(70,gi,n.language().primary))),e.R7$(3),e.JRh(e.i5U(36,39,"LangMenu.Dialog."+n.I18nKeys.FromOther+".Body",e.eq3(72,gi,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(74,Ki,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadOnly)),e.R7$(4),e.JRh(e.i5U(42,42,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Title",e.eq3(76,gi,n.language().primary))),e.R7$(3),e.JRh(e.i5U(45,45,"LangMenu.Dialog."+n.I18nKeys.LinkReadOnly+".Body",e.eq3(78,gi,n.language().primary))),e.R7$(2),e.Y8G("ngClass",e.eq3(80,Ki,n.translationStateSignal().linkType===n.TranslationLinks.LinkReadWrite)),e.R7$(4),e.JRh(e.i5U(51,48,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Title",e.eq3(82,gi,n.language().primary))),e.R7$(3),e.JRh(e.i5U(54,51,"LangMenu.Dialog."+n.I18nKeys.LinkShared+".Body",e.eq3(84,gi,n.language().primary))),e.R7$(2),e.vxM(n.translationInfo().showLanguageSelection?55:-1),e.R7$(2),e.Y8G("disabled",n.translationInfo().submitDisabled))},dependencies:[pt.Hu,pt.RN,pt.YY,pt.m2,pt.MM,pt.Lc,pt.dh,_n,ns,rs,gn,fn,wa,Xi,ne.YU,ae.m_,ae.An,gt.Hl,gt.$z,O.h,O.D9],styles:[".translate-menu-dialog-card[_ngcontent-%COMP%]{max-height:99vh;overflow-y:scroll}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]{cursor:default;color:#1d273d3d;background:#fff}.translate-menu-dialog-card[_ngcontent-%COMP%]   .eav-card-content__no-padding[_ngcontent-%COMP%]   .list-item__disabled[_ngcontent-%COMP%]   .list-item-icon__disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();var Gc=m(6177);const $c=a=>({"eav-shared-languages--disabled":a}),Uc=a=>({languages:a}),Wc=a=>({hidden:a}),vn=a=>({"eav-menu-item-selected":a});function Xc(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.translate())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openAutoTranslateMenuDialog(n.translationState()))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",9),e.k0s(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.dontTranslate())}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openTranslateMenuDialog(n.translationState()))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(17,vn,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(2,9,"LangMenu.Translate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,vn,t.translationState().linkType===t.TranslationLinks.Translate)),e.R7$(),e.SpI(" ",e.bMT(5,11,"LangMenu.AutoTranslate")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(),e.Y8G("ngClass",e.eq3(21,vn,t.translationState().linkType===t.TranslationLinks.DontTranslate)),e.R7$(),e.SpI(" ",e.bMT(9,13,"LangMenu.NoTranslate")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(23,vn,""!==t.translationState().language)),e.R7$(),e.SpI(" ",e.bMT(12,15,"LangMenu.Link")," ")}}function Qc(a,s){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",4)(6,"button",5)(7,"mat-icon",6),e.EFF(8,"translate"),e.k0s()()()(),e.j41(9,"mat-menu",null,0),e.DNE(11,Xc,13,25,"ng-template",7),e.k0s()()),2&a){const t=e.sdS(10),i=e.XpG();e.R7$(),e.Y8G("ngClass",i.translationStateClass()),e.R7$(),e.Y8G("ngClass",e.eq3(10,$c,i.disabled())),e.R7$(),e.SpI(" ",i.translationState().infoLabel?e.i5U(4,7,i.translationState().infoLabel,e.eq3(12,Uc,i.translationState().infoMessage)):""," "),e.R7$(2),e.Y8G("tippyDisabled",!i.disableTranslateButtonSignal()),e.R7$(),e.Y8G("matMenuTriggerFor",t)("disabled",i.disableTranslateButtonSignal())("ngClass",e.eq3(14,Wc,i.hideTranslateButton()))}}let cs=(()=>{class a{#e;#t;constructor(t,i,n,r){this.matDialog=t,this.viewContainerRef=i,this.formConfig=n,this.fieldsTranslate=r,this.hideTranslateButton=(0,e.hFB)(),this.#e=(0,e.WQX)(Ve.W),this.#t=(0,e.WQX)(jt),this.TranslationLinks=Qt.J,this.translationState=this.#e.translationState,this.language=this.formConfig.language,this.disabled=(0,oe.bo)("disabled",()=>this.#e.ui().disabled),this.translationStateClass=(0,oe.bo)("translationStateClass",()=>Gc.x.getTranslationStateClass(this.translationState().linkType)),this.disableTranslateButtonSignal=(0,oe.bo)("disableTranslateButtonSignal",()=>this.#t.readOnly().isReadOnly||this.#e.settings().DisableTranslation)}translate(){this.fieldsTranslate.unlock(this.#e.name)}dontTranslate(){this.fieldsTranslate.lock(this.#e.name)}openTranslateMenuDialog(t){this.#i(t,Hc)}openAutoTranslateMenuDialog(t){this.#e.settings().DisableAutoTranslation?this.matDialog.open(Zr,{autoFocus:!1,data:{isAutoTranslateAll:!1},viewContainerRef:this.viewContainerRef,width:"350px"}):this.#i(t,ls)}#i(t,i){const n={config:this.#e.config,translationState:{language:t.language,linkType:t.linkType}};this.matDialog.open(i,{autoFocus:!1,data:n,viewContainerRef:this.viewContainerRef,width:"400px"})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(S.S),e.rXU(Fi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-translate-menu"]],inputs:{hideTranslateButton:[1,"hideTranslateButton"]},decls:1,vars:1,consts:[["menu","matMenu"],[1,"my-flex-main"],[1,"my-flex-inside","eav-shared-languages-container",3,"ngClass"],[1,"eav-shared-languages","mat-caption",3,"ngClass"],["tippyTranslate","LangMenu.NotTranslatable","tippyPlacement","top",3,"tippyDisabled"],["mat-icon-button","",1,"eav-translate-icon-button",3,"matMenuTriggerFor","disabled","ngClass"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click","ngClass"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,Qc,12,16,"div",1),2&i&&e.vxM(n.language().current!==n.language().primary?0:-1)},dependencies:[ne.YU,gt.Hl,gt.iY,Lt.Cn,Lt.kk,Lt.fb,Lt.z8,Lt.Cp,ae.m_,ae.An,Jr,O.h,O.D9,Vt.e],styles:[".eav-menu-item-selected[_ngcontent-%COMP%]{background:#0000000a}.localization-lock-open[_ngcontent-%COMP%]{color:green}.localization-missing-default-lang-value[_ngcontent-%COMP%]{color:red}.localization-translate[_ngcontent-%COMP%]{color:green}.localization-link-read-only[_ngcontent-%COMP%], .localization-link-read-write[_ngcontent-%COMP%]{color:#00f}.eav-shared-languages[_ngcontent-%COMP%]{position:relative;left:-6px;top:-12px;padding:0 4px 0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px;cursor:default;color:#1d273d70;font-size:12px}.eav-shared-languages--disabled[_ngcontent-%COMP%]{color:#1d273d3d}.eav-translate-icon-button[_ngcontent-%COMP%]{scale:.8;position:relative;top:-8px}.eav-translate-icon-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})();const Kc=["fieldComponent"],Jc=a=>({"language-wrap__field-short":a}),Zc=a=>({"language-wrap__translate--hidden":a});let qc=(()=>{class a{#e;#t;constructor(t,i){this.editRoutingService=t,this.formsStateService=i,this.#e=(0,e.WQX)(S.S),this.#t=(0,e.WQX)(Ve.W),this.language=this.#e.language,this.hideTranslateButton=!0}translate(){if(this.formsStateService.readOnly().isReadOnly)return;const t=this.#e.language();if(t.current===t.primary||!this.#t.ui().disabled)return;const i=this.#t.config;this.editRoutingService.isExpanded(i.index,i.entityGuid)||this.translateMenu.translate()}toggleTranslateButtonVisibility(t){this.hideTranslateButton=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Se),e.rXU(jt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-localization-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Kc,7,e.c1b),e.GBs(cs,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first),e.mGM(r=e.lsd())&&(n.translateMenu=r.first)}},decls:5,vars:7,consts:[["fieldComponent",""],[1,"language-wrap",3,"mouseenter","mouseleave"],[1,"language-wrap__field",3,"dblclick","ngClass"],[1,"language-wrap__translate",3,"hideTranslateButton","ngClass"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"div",1),e.bIt("mouseenter",function(){return e.eBV(r),e.Njj(n.toggleTranslateButtonVisibility(!1))})("mouseleave",function(){return e.eBV(r),e.Njj(n.toggleTranslateButtonVisibility(!0))}),e.j41(1,"div",2),e.bIt("dblclick",function(){return e.eBV(r),e.Njj(n.translate())}),e.eu8(2,null,0),e.k0s(),e.nrm(4,"app-translate-menu",3),e.k0s()}if(2&i){let r,o;e.R7$(),e.Y8G("ngClass",e.eq3(3,Jc,(null==(r=n.language())?null:r.current)!==(null==(r=n.language())?null:r.primary))),e.R7$(3),e.Y8G("hideTranslateButton",n.hideTranslateButton)("ngClass",e.eq3(5,Zc,(null==(o=n.language())?null:o.current)===(null==(o=n.language())?null:o.primary)))}},dependencies:[ne.YU,cs],styles:[".language-wrap[_ngcontent-%COMP%]{display:flex;padding-left:16px;padding-right:16px}.language-wrap__field[_ngcontent-%COMP%]{width:100%;height:100%}.language-wrap__field-short[_ngcontent-%COMP%]{width:calc(100% - 48px)}.language-wrap__translate[_ngcontent-%COMP%]{width:48px;position:relative}.language-wrap__translate--hidden[_ngcontent-%COMP%]{width:0}"]})}}return a})();var Ot=m(4398);m(2256);const ds="FieldMetadata";function ei(a){return s=>{Reflect.defineMetadata(ds,a,s)}}var ct=m(4950);let ka=(()=>{class a{#e="_blank";#t;#i;constructor(t,i){this.zone=i,this.#t=t.nativeElement}ngOnInit(){this.zone.runOutsideAngular(()=>{this.#n(),this.#i=new MutationObserver(t=>{this.#n()}),this.#i.observe(this.#t,{attributes:!0,childList:!0,subtree:!0})})}ngOnDestroy(){this.zone.runOutsideAngular(()=>this.#i.disconnect())}#n(){if("a"===this.#t.nodeName.toLocaleLowerCase()){const i=this.#t;i.target!==this.#e&&(i.target=this.#e)}const t=this.#t.getElementsByTagName("a");for(const i of Array.from(t))i.target!==this.#e&&(i.target=this.#e)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appChangeAnchorTarget",""]]})}}return a})();const ed=(a,s,t)=>({"my-last-field":a,"my-hyperlink-wrapper-fix":s,"small-gap":t}),td=a=>({disabled:a});function id(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-hint",4),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleHint(n))}),e.nrm(1,"div",5),e.nI1(2,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,td,t.disabled())),e.R7$(),e.Y8G("ngClass",t.showExpand?"expandable":"")("innerHtml",e.bMT(2,3,t.notes()),e.npT)}}function nd(a,s){if(1&a&&(e.j41(0,"mat-error",2),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,s,t.settings()))}}function ad(a,s){1&a&&(e.j41(0,"mat-error",3),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,s)))}function rd(a,s){if(1&a&&(e.j41(0,"div",0),e.DNE(1,id,3,7,"mat-hint",1)(2,nd,3,4,"mat-error",2)(3,ad,3,3,"mat-error",3),e.k0s()),2&a){let t,i;const n=e.XpG();e.Y8G("ngClass",e.sMw(4,ed,n.fieldState.config.isLastInGroup,n.hyperlinkDefaultWrapperFix&&!n.fieldState.config.isLastInGroup,n.smallGap())),e.R7$(),e.vxM(n.notes()?1:-1),e.R7$(),e.vxM((t=n.showErrors()&&n.errorMessage())?2:-1,t),e.R7$(),e.vxM((i=!n.disableError()&&n.warningMessage())?3:-1,i)}}let ti=(()=>{class a{constructor(){this.disableError=(0,e.hFB)(!1),this.hyperlinkDefaultWrapperFix=(0,e.hFB)(!1),this.flatIfEmpty=(0,e.hFB)(!1),this.smallGap=(0,e.hFB)(!1),this.fieldState=(0,e.WQX)(Ve.W),this.settings=this.fieldState.settings,this.#e=(0,oe.bo)("invalid",()=>this.fieldState.ui().invalid),this.disabled=(0,oe.bo)("disabled",()=>this.fieldState.ui().disabled),this.showErrors=(0,oe.bo)("showErrors",()=>this.#e()&&!this.disableError()),this.notes=(0,oe.bo)("notes",()=>(this.settings().Notes??"").replace(/<p>/g,`<p _ngcontent-ng-${this.componentId}>`)),this.isEmpty=(0,oe.bo)("isEmpty",()=>!this.notes()&&!this.showErrors()),this.errorMessage=(0,oe.bo)("errorMessage",()=>(this.fieldState.uiValue(),this.fieldState.ui().getErrors())),this.warningMessage=(0,oe.bo)("warningMessage",()=>this.fieldState.ui().getWarnings()),this.show=(0,oe.bo)("show",()=>!this.isEmpty()||this.warningMessage()||!this.flatIfEmpty()),this.showExpand=!0,this.componentId=this.constructor.\u0275cmp.id}#e;toggleHint(t){let i=t.target;if("a"!==i.nodeName.toLocaleLowerCase()){for(;i&&i.classList&&!i.classList.contains("id-notes-container");)if(i=i.parentNode,!i||"a"===i.nodeName.toLocaleLowerCase())return;this.showExpand=!this.showExpand}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-field-helper-text"]],inputs:{disableError:[1,"disableError"],hyperlinkDefaultWrapperFix:[1,"hyperlinkDefaultWrapperFix"],flatIfEmpty:[1,"flatIfEmpty"],smallGap:[1,"smallGap"]},decls:1,vars:1,consts:[[1,"my-main",3,"ngClass"],[1,"my-notes",3,"ngClass"],[1,""],[1,"warning"],[1,"my-notes",3,"click","ngClass"],["appChangeAnchorTarget","",1,"id-notes-container",3,"ngClass","innerHtml"]],template:function(i,n){1&i&&e.DNE(0,rd,4,8,"div",0),2&i&&e.vxM(n.show()?0:-1)},dependencies:[ne.YU,ct.RG,ct.MV,ct.TL,ka,O.h,O.D9,Ri.$],styles:[".my-main[_ngcontent-%COMP%]{padding:.5em 0 13px;font-size:12px}.my-main.small-gap[_ngcontent-%COMP%]{padding-bottom:0}.my-main.my-hyperlink-wrapper-fix[_ngcontent-%COMP%]{min-height:22px}.my-main.my-last-field[_ngcontent-%COMP%]{padding:.5em 0 5px}.my-main.input-invalid[_ngcontent-%COMP%]{padding:6px 12px 11px;border:2px;border-bottom-style:solid;border-color:#b00030}.mat-mdc-form-field-error.warning[_ngcontent-%COMP%]{color:#ffc107}.my-notes[_ngcontent-%COMP%]{color:#1d273d80;display:flex}.my-notes.disabled[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1d273d40}.my-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin:0}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-height:16px}.my-notes[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;display:block;margin:0;padding:0}"]})}}return a})(),us=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.changedLabel=this.fieldState.settingExt("_label")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-boolean-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();var mt=m(2490);class yn extends mt.S{constructor(){super({BooleanDefaultLogic:yn}),this.name=Je.u.BooleanDefault}update({settings:s,value:t}){const i={...s};return i.ReverseToggle??=!1,i._label=this.#e(t,i),i}#e(s,t){return!0===s&&t.TitleTrue?t.TitleTrue:!1===s&&t.TitleFalse?t.TitleFalse:t.Name}}mt.S.add(yn);let Da=class Lr extends us{constructor(){super(),this.checkedState=(0,oe.bo)("checkedState",()=>{const s=this.uiValue();return this.settings().ReverseToggle?!s:s}),yn.importMe()}updateValue(){this.ui().disabled||this.fieldState.ui().setIfChanged(!this.uiValue())}static{this.\u0275fac=function(t){return new(t||Lr)}}static{this.\u0275cmp=e.VBU({type:Lr,selectors:[["boolean-default"]],features:[e.Vt3],decls:6,vars:7,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue()}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",i.uiValue()?"":"changeable-label-mat-slide-toggle"),e.R7$(),e.Y8G("ngClass",i.uiValue()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[He.YN,He.cb,He.X1,He.j4,Pi.mV,Pi.sG,ne.YU,ti],styles:["[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9!important}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .changeable-label-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})}};Da=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],Da);class bn extends mt.S{constructor(){super({BooleanTristateLogic:bn}),this.name=Je.u.BooleanTristate}update({settings:s,value:t}){const i={...s};return i.ReverseToggle??=!1,i._label=this.#e(t,i),i}#e(s,t){return!0===s&&t.TitleTrue?t.TitleTrue:!1===s&&t.TitleFalse?t.TitleFalse:!s&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}}mt.S.add(bn);const sd=(a,s,t,i)=>({"toggle-false":a,"toggle-true":s,"toggle-null":t,"changeable-label-tristate-mat-slide-toggle":i});let Ta=class Vr extends us{constructor(){super(),this.fs=this.fieldState,this.checkedState=(0,oe.bo)("checkedState",()=>{const s=this.fs.uiValue();return this.settings().ReverseToggle?!0!==s&&(!1===s||s):""===s?null:s}),this.bestLabel=(0,oe.bo)("bestLabel",()=>{const s=this.checkedState(),t=this.settings();return!0===s&&t.TitleTrue?t.TitleTrue:!1===s&&t.TitleFalse?t.TitleFalse:null===s&&t.TitleIndeterminate?t.TitleIndeterminate:t.Name}),bn.importMe()}updateValue(s){s||this.fieldState.ui().setIfChanged(this.#e())}#e(){const s=this.fs.uiValue(),t=this.settings().ReverseToggle;switch(s){case!1:return!!t||null;case!0:return!!t&&null;case"":case null:return!t}}static{this.\u0275fac=function(t){return new(t||Vr)}}static{this.\u0275cmp=e.VBU({type:Vr,selectors:[["boolean-tristate"]],features:[e.Vt3],decls:6,vars:12,consts:[[3,"formGroup"],[1,"eav-toggle-hitbox",3,"click"],[3,"checked","disabled","ngClass"],[1,"eav-slide-toggle-label",3,"ngClass"],[3,"disableError"]],template:function(t,i){if(1&t&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return i.updateValue(i.ui().disabled)}),e.nrm(2,"mat-slide-toggle",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text",4),e.k0s()),2&t){let n;e.Y8G("formGroup",i.group),e.R7$(2),e.Y8G("checked",i.checkedState())("disabled",i.ui().disabled)("ngClass",e.ziG(7,sd,!1===i.checkedState(),!0===i.checkedState(),null===i.checkedState(),i.changedLabel()!==i.basics().label)),e.R7$(),e.Y8G("ngClass",i.checkedState()?"":"eav-toggle-label"),e.R7$(),e.SpI(" ",null!==(n=i.changedLabel())&&void 0!==n?n:i.basics().label," "),e.R7$(),e.Y8G("disableError",!0)}},dependencies:[He.YN,He.cb,He.X1,He.j4,Pi.mV,Pi.sG,ne.YU,ti],styles:["[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__shadow{background-color:#0088f4}[_nghost-%COMP%]     .toggle-true.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked:not(.mat-disabled) .mdc-switch__track:after{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9!important}[_nghost-%COMP%]     .toggle-false.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-color:#bfe1fc!important}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__shadow{background-color:#7fc3f9}[_nghost-%COMP%]     .toggle-null.changeable-label-tristate-mat-slide-toggle.mat-mdc-slide-toggle:not(.mat-mdc-slide-toggle-checked):not(.mat-disabled) .mdc-switch__track:before{background-image:linear-gradient(to right,#7fc3f9,#bfe1fc)!important}[_nghost-%COMP%]     .toggle-null .mdc-switch__handle{margin-left:8px!important}.eav-slide-toggle-label[_ngcontent-%COMP%]{margin-left:8px}.eav-toggle-hitbox[_ngcontent-%COMP%]{width:fit-content;cursor:pointer}.eav-toggle-label[_ngcontent-%COMP%]{color:gray;cursor:default}"]})}};Ta=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],Ta);let Cn=class Yr{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config}static{this.\u0275fac=function(t){return new(t||Yr)}}static{this.\u0275cmp=e.VBU({type:Yr,selectors:[["custom-default"]],decls:2,vars:1,consts:[[1,"message"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.EFF(1),e.k0s()),2&t&&(e.R7$(),e.SpI("",i.config.fieldName,": Field configuration is incomplete and should be fixed."))},styles:[".message[_ngcontent-%COMP%]{padding:16px}"]})}};Cn=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],Cn);var od=m(7836);class Ji extends mt.S{constructor(){super({CustomJsonEditorLogic:Ji}),this.name=Je.u.CustomJsonEditor}update({settings:s}){const t={...s};return t.Rows||=5,t.JsonValidation||="strict",t.JsonSchemaMode||="none",t.JsonSchemaSource||="link",t.JsonSchemaUrl??="",t.JsonSchemaRaw??="",t.JsonCommentsAllowed??=!1,t}}mt.S.add(Ji);class ps extends Ji{constructor(){super(...arguments),this.name=Je.u.StringJson}}mt.S.add(ps);const ld=(a,s,t)=>({disabled:a,focused:s,error:t}),cd=a=>({height:a});function dd(a,s){if(1&a&&e.nrm(0,"input",3),2&a){const t=e.XpG();e.Y8G("placeholder",t.basics().placeholder)}}let wn=class Nr{#e;#t;#i;#n;constructor(s){this.formConfig=s,this.#e=(0,e.WQX)(Ve.W),this.#t=this.#e.config,this.ui=this.#e.ui,this.uiValue=this.#e.uiValue,this.basics=this.#e.basics,this.#i=this.#e.settings,this.#n=this.#e.settingExt("Rows"),this.focused=(0,e.EWP)(()=>this.#t.focused$),this.editorHeight=(0,e.EWP)(()=>this.#n()*this.monacoOptions.lineHeight+"px"),this.jsonSchema=(0,e.EWP)(()=>{const t=this.#i();return"none"===t.JsonSchemaMode?void 0:{type:t.JsonSchemaSource,value:"link"===t.JsonSchemaSource?t.JsonSchemaUrl:t.JsonSchemaRaw}}),this.jsonComments=(0,e.EWP)(()=>this.#i().JsonCommentsAllowed?"ignore":"error"),this.monacoOptions={minimap:{enabled:!1},lineHeight:19,lineNumbers:"off",lineDecorationsWidth:0,folding:!1,scrollBeyondLastLine:!1,tabSize:2,fixedOverflowWidgets:!0},Ji.importMe(),ps.importMe()}ngOnInit(){this.filename=`${this.#t.fieldName} ${this.#t.entityGuid} ${this.formConfig.config.formId}.json`}codeChanged(s){this.ui().setIfChanged(s)}onFocused(){this.#t.focused$.next(!0)}onBlurred(){this.ui().markTouched(),this.#t.focused$.next(!1)}static{this.\u0275fac=function(t){return new(t||Nr)(e.rXU(S.S))}}static{this.\u0275cmp=e.VBU({type:Nr,selectors:[["custom-json-editor"]],decls:6,vars:16,consts:[[1,"json-field",3,"ngClass"],[1,"label"],[1,"editor",3,"valueChanged","focused","blurred","filename","ngStyle","value","options","jsonSchema","jsonComments"],[1,"placeholder","eav-translate-on-dblclick",3,"placeholder"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"app-monaco-editor",2),e.bIt("valueChanged",function(r){return i.codeChanged(r)})("focused",function(){return i.onFocused()})("blurred",function(){return i.onBlurred()}),e.k0s(),e.DNE(4,dd,1,1,"input",3),e.k0s(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("ngClass",e.sMw(10,ld,i.ui().disabled,i.focused().value,i.ui().touchedAndInvalid)),e.R7$(2),e.Lme("",i.basics().label," ",i.basics().required?"*":"",""),e.R7$(),e.Y8G("filename",i.filename)("ngStyle",e.eq3(14,cd,i.editorHeight()))("value",i.uiValue())("options",i.monacoOptions)("jsonSchema",i.jsonSchema())("jsonComments",i.jsonComments()),e.R7$(),e.vxM(!i.uiValue()&&i.basics().placeholder?4:-1))},dependencies:[ne.YU,ct.RG,ct.nJ,od.K,ne.B3,ti],styles:[".json-field[_ngcontent-%COMP%]{padding-top:28px;border-bottom:1px solid rgba(0,0,0,.2);padding-bottom:12px;position:relative}.json-field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#0009;cursor:default;font-size:12px;transition:none;position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none}.json-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:28px;left:64px;border:none;background:transparent;outline:none;width:calc(100% - 112px);font-family:inherit;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.json-field[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     .monaco-editor .scroll-decoration{display:none}.json-field[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(0,0,0,.4);padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]{border-bottom:2px solid #002753;padding-bottom:11px}.json-field.focused[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#002753}.json-field.error[_ngcontent-%COMP%]{border-bottom:2px solid #b00030;padding-bottom:11px}.json-field.error[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#b00030}.json-field.disabled[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]{pointer-events:none}.json-field.disabled[_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%]     *{color:#00000061}"]})}};wn=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[S.S])],wn);var Oi=m(3680),$t=m(8004),ii=m(9168),Ut=m(7984);const ud=["mat-calendar-body",""];function pd(a,s){return this._trackRow(s)}const hs=(a,s)=>s.id;function hd(a,s){if(1&a&&(e.j41(0,"tr",0)(1,"td",3),e.EFF(2),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t.numCols),e.R7$(),e.SpI(" ",t.label," ")}}function md(a,s){if(1&a&&(e.j41(0,"td",3),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.xc7("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.BMQ("colspan",t._firstRowOffset),e.R7$(),e.SpI(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function fd(a,s){if(1&a){const t=e.RV6();e.j41(0,"td",6)(1,"button",7),e.bIt("click",function(n){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._cellClicked(r,n))})("focus",function(n){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o._emitActiveDateChange(r,n))}),e.j41(2,"span",8),e.EFF(3),e.k0s(),e.nrm(4,"span",9),e.k0s()()}if(2&a){const t=s.$implicit,i=s.$index,n=e.XpG().$index,r=e.XpG();e.xc7("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),e.BMQ("data-mat-row",n)("data-mat-col",i),e.R7$(),e.AVh("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",r._isActiveCell(n,i))("mat-calendar-body-range-start",r._isRangeStart(t.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",r._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(t.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(t.compareValue,n,i))("mat-calendar-body-comparison-start",r._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",r._isInPreview(t.compareValue)),e.Y8G("ngClass",t.cssClasses)("tabindex",r._isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",r._isSelected(t.compareValue))("aria-current",r.todayValue===t.compareValue?"date":null)("aria-describedby",r._getDescribedby(t.compareValue)),e.R7$(),e.AVh("mat-calendar-body-selected",r._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",r.todayValue===t.compareValue),e.R7$(),e.SpI(" ",t.displayValue," ")}}function gd(a,s){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,md,2,6,"td",4),e.Z7z(2,fd,5,48,"td",5,hs),e.k0s()),2&a){const t=s.$implicit,i=s.$index,n=e.XpG();e.R7$(),e.vxM(0===i&&n._firstRowOffset?1:-1),e.R7$(),e.Dyx(t)}}function _d(a,s){if(1&a&&(e.j41(0,"th",2)(1,"span",6),e.EFF(2),e.k0s(),e.j41(3,"span",3),e.EFF(4),e.k0s()()),2&a){const t=s.$implicit;e.R7$(2),e.JRh(t.long),e.R7$(2),e.JRh(t.narrow)}}const vd=["*"];function yd(a,s){}function bd(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-month-view",4),e.mxI("activeDateChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.activeDate,n)||(r.activeDate=n),e.Njj(n)}),e.bIt("_userSelection",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._dateSelected(n))})("dragStarted",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._dragStarted(n))})("dragEnded",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._dragEnded(n))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag)}}function Cd(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-year-view",5),e.mxI("activeDateChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.activeDate,n)||(r.activeDate=n),e.Njj(n)}),e.bIt("monthSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._monthSelectedInYearView(n))})("selectedChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._goToDateInView(n,"month"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function wd(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-multi-year-view",6),e.mxI("activeDateChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.activeDate,n)||(r.activeDate=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._yearSelectedInMultiYearView(n))})("selectedChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._goToDateInView(n,"year"))}),e.k0s()}if(2&a){const t=e.XpG();e.R50("activeDate",t.activeDate),e.Y8G("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Md(a,s){}const kd=["button"],Dd=[[["","matDatepickerToggleIcon",""]]],Td=["[matDatepickerToggleIcon]"];function xd(a,s){1&a&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"path",3),e.k0s())}let Yi=(()=>{class a{changes=new Q.B;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}static \u0275fac=function(i){return new(i||a)};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Sd=0;class xa{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=Sd++;constructor(s,t,i,n,r={},o=s,u){this.value=s,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=r,this.compareValue=o,this.rawValue=u}}const Id={passive:!1,capture:!0},Mn={passive:!0,capture:!0},ms={passive:!0};let Ni=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_ngZone=(0,e.WQX)(e.SKi);_platform=(0,e.WQX)(li.OD);_intl=(0,e.WQX)(Yi);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new e.bkB;previewChange=new e.bkB;activeDateChange=new e.bkB;dragStarted=new e.bkB;dragEnded=new e.bkB;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=(0,e.WQX)(e.zZn);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=t=>t;constructor(){const t=(0,e.WQX)(e.sFG),i=(0,e.WQX)(Jt.g7);this._startDateLabelId=i.getId("mat-calendar-body-start-"),this._endDateLabelId=i.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=i.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=i.getId("mat-calendar-body-comparison-end-"),(0,e.WQX)(xi.l).load(re.Ah),this._ngZone.runOutsideAngular(()=>{const n=this._elementRef.nativeElement,r=[(0,li.fA)(t,n,"touchmove",this._touchmoveHandler,Id),(0,li.fA)(t,n,"mouseenter",this._enterHandler,Mn),(0,li.fA)(t,n,"focus",this._enterHandler,Mn),(0,li.fA)(t,n,"mouseleave",this._leaveHandler,Mn),(0,li.fA)(t,n,"blur",this._leaveHandler,Mn),(0,li.fA)(t,n,"mousedown",this._mousedownHandler,ms),(0,li.fA)(t,n,"touchstart",this._mousedownHandler,ms)];this._platform.isBrowser&&r.push(t.listen("window","mouseup",this._mouseupHandler),t.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:n,numCols:r}=this;(t.rows||i)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){this._eventCleanups.forEach(t=>t())}_isActiveCell(t,i){let n=t*this.numCols+i;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(t=!0){(0,e.mal)(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Ea(t,this.startValue,this.endValue)}_isRangeEnd(t){return Aa(t,this.startValue,this.endValue)}_isInRange(t){return Oa(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Ea(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let r=this.rows[i][n-1];if(!r){const o=this.rows[i-1];r=o&&o[o.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(t,i,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let r=this.rows[i][n+1];if(!r){const o=this.rows[i+1];r=o&&o[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(t){return Aa(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Oa(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Ea(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Aa(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Oa(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){if(!this.isRange)return null;if(this.startValue===t&&this.endValue===t)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===t)return this._startDateLabelId;if(this.endValue===t)return this._endDateLabelId;if(null!==this.comparisonStart&&null!==this.comparisonEnd){if(t===this.comparisonStart&&t===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(t===this.comparisonStart)return this._comparisonStartDateLabelId;if(t===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=t=>{if(this._skipNextFocus&&"focus"===t.type)this._skipNextFocus=!1;else if(t.target&&this.isRange){const i=this._getCellFromElement(t.target);i&&this._ngZone.run(()=>this.previewChange.emit({value:i.enabled?i:null,event:t}))}};_touchmoveHandler=t=>{if(!this.isRange)return;const i=fs(t),n=i?this._getCellFromElement(i):null;i!==t.target&&(this._didDragSinceMouseDown=!0),Ia(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:n?.enabled?n:null,event:t}))};_leaveHandler=t=>{null!==this.previewEnd&&this.isRange&&("blur"!==t.type&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&(!t.relatedTarget||!this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))};_mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const i=t.target&&this._getCellFromElement(t.target);!i||!this._isInRange(i.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:i.rawValue,event:t})})};_mouseupHandler=t=>{if(!this.isRange)return;const i=Ia(t.target);i?i.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const n=this._getCellFromElement(i);this.dragEnded.emit({value:n?.rawValue??null,event:t})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})})};_touchendHandler=t=>{const i=fs(t);i&&this._mouseupHandler({target:i})};_getCellFromElement(t){const i=Ia(t);if(i){const n=i.getAttribute("data-mat-row"),r=i.getAttribute("data-mat-col");if(n&&r)return this.rows[parseInt(n)][parseInt(r)]}return null}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[e.OA$],attrs:ud,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,n){1&i&&(e.DNE(0,hd,3,6,"tr",0),e.Z7z(1,gd,4,1,"tr",1,pd,!0),e.j41(3,"span",2),e.EFF(4),e.k0s(),e.j41(5,"span",2),e.EFF(6),e.k0s(),e.j41(7,"span",2),e.EFF(8),e.k0s(),e.j41(9,"span",2),e.EFF(10),e.k0s()),2&i&&(e.vxM(n._firstRowOffset<n.labelMinRequiredCells?0:-1),e.R7$(),e.Dyx(n.rows),e.R7$(2),e.Y8G("id",n._startDateLabelId),e.R7$(),e.SpI(" ",n.startDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._endDateLabelId),e.R7$(),e.SpI(" ",n.endDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._comparisonStartDateLabelId),e.R7$(),e.Lme(" ",n.comparisonDateAccessibleName," ",n.startDateAccessibleName,"\n"),e.R7$(),e.Y8G("id",n._comparisonEndDateLabelId),e.R7$(),e.Lme(" ",n.comparisonDateAccessibleName," ",n.endDateAccessibleName,"\n"))},dependencies:[ne.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return a})();function Sa(a){return"TD"===a?.nodeName}function Ia(a){let s;return Sa(a)?s=a:Sa(a.parentNode)?s=a.parentNode:Sa(a.parentNode?.parentNode)&&(s=a.parentNode.parentNode),null!=s?.getAttribute("data-mat-row")?s:null}function Ea(a,s,t){return null!==t&&s!==t&&a<t&&a===s}function Aa(a,s,t){return null!==s&&s!==t&&a>=s&&a===t}function Oa(a,s,t,i){return i&&null!==s&&null!==t&&s!==t&&a>=s&&a<=t}function fs(a){const s=a.changedTouches[0];return document.elementFromPoint(s.clientX,s.clientY)}class Zt{start;end;_disableStructuralEquivalency;constructor(s,t){this.start=s,this.end=t}}let Si=(()=>{class a{selection;_adapter;_selectionChanged=new Q.B;selectionChanged=this._selectionChanged;constructor(t,i){this.selection=t,this._adapter=i,this.selection=t}updateSelection(t,i){const n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:n})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}static \u0275fac=function(i){e.QTQ()};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),Ed=(()=>{class a extends Si{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new a(this._adapter);return t.updateSelection(this.selection,this),t}static \u0275fac=function(i){return new(i||a)(e.KVO(re.MJ))};static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})();const gs={provide:Si,deps:[[new e.Xx1,new e.kdw,Si],re.MJ],useFactory:function Od(a,s){return a||new Ed(s)}},kn=new e.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ld=0,_s=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateFormats=(0,e.WQX)(re.de,{optional:!0});_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dir=(0,e.WQX)(Oi.dS,{optional:!0});_rangeStrategy=(0,e.WQX)(kn,{optional:!0});_rerenderSubscription=Yt.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Zt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new e.bkB;_userSelection=new e.bkB;dragStarted=new e.bkB;dragEnded=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){(0,e.WQX)(xi.l).load(xi.Y),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ge.Z)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,n=this._getDateFromDayOfMonth(i);let r,o;this._selected instanceof Zt?(r=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):r=o=this._getDateInCurrentMonth(this._selected),(r!==i||o!==i)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case ze.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case ze.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case ze.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case ze.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case ze.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case ze.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case ze.w_:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case ze.dB:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case ze.Fm:case ze.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case ze._f:return void(null!=this._previewEnd&&!(0,ze.rp)(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===ze.t6||t.keyCode===ze.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const n=i?i.rawValue:null,r=this._rangeStrategy.createPreview(n,this.selected,t);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&n){const o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,t);o&&(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){if(this.activeDrag)if(t.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:i??null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((o,u)=>({long:o,narrow:i[u],id:Ld++}));this._weekdays=r.slice(t).concat(r.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,r=this._firstWeekOffset;n<t;n++,r++){7==r&&(this._weeks.push([]),r=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),u=this._shouldEnableDate(o),v=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),P=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new xa(n+1,i[n],v,u,P,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),r=this._dateAdapter.getDate(t);return new Date(i,n,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof Zt?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ni,5),2&i){let r;e.mGM(r=e.lsd())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[e.OA$],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.Z7z(3,_d,5,2,"th",2,hs),e.k0s(),e.j41(5,"tr",3),e.nrm(6,"th",4),e.k0s()(),e.j41(7,"tbody",5),e.bIt("selectedValueChange",function(o){return n._dateSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("previewChange",function(o){return n._previewChanged(o)})("dragStarted",function(o){return n.dragStarted.emit(o)})("dragEnded",function(o){return n._dragEnded(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(3),e.Dyx(n._weekdays),e.R7$(4),e.Y8G("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName))},dependencies:[Ni],encapsulation:2,changeDetection:0})}return a})(),vs=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dir=(0,e.WQX)(Oi.dS,{optional:!0});_rerenderSubscription=Yt.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),ys(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Zt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new e.bkB;yearSelected=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ge.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Zi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,r=[];n<24;n++)r.push(i+n),4==r.length&&(this._years.push(r.map(o=>this._createCellForYear(o))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value,n=this._dateAdapter.createDate(i,0,1),r=this._getDateFromYear(i);this.yearSelected.emit(n),this.selectedChange.emit(r)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromYear(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case ze.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case ze.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case ze.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case ze.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case ze.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Zi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case ze.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Zi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case ze.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case ze.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case ze.Fm:case ze.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===ze.t6||t.keyCode===ze.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Zi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){const i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(i),r=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new xa(t,n,n,this._shouldEnableYear(t),r)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Zt){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ni,5),2&i){let r;e.mGM(r=e.lsd())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._yearSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[Ni],encapsulation:2,changeDetection:0})}return a})();function ys(a,s,t,i,n){const r=a.getYear(s),o=a.getYear(t),u=bs(a,i,n);return Math.floor((r-u)/24)===Math.floor((o-u)/24)}function Zi(a,s,t,i){return function Vd(a,s){return(a%s+s)%s}(a.getYear(s)-bs(a,t,i),24)}function bs(a,s,t){let i=0;return t?i=a.getYear(t)-24+1:s&&(i=a.getYear(s)),i}let Cs=(()=>{class a{_changeDetectorRef=(0,e.WQX)(e.gRc);_dateFormats=(0,e.WQX)(re.de,{optional:!0});_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dir=(0,e.WQX)(Oi.dS,{optional:!0});_rerenderSubscription=Yt.yU.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(t){this._selected=t instanceof Zt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;selectedChange=new e.bkB;monthSelected=new e.bkB;activeDateChange=new e.bkB;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ge.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(n);const r=this._getDateFromMonth(i);this.selectedChange.emit(r)}_updateActiveDate(t){const n=this._activeDate;this.activeDate=this._getDateFromMonth(t.value),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){const i=this._activeDate,n=this._isRtl();switch(t.keyCode){case ze.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case ze.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case ze.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case ze.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case ze.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case ze.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case ze.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case ze.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case ze.Fm:case ze.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===ze.t6||t.keyCode===ze.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n))}_createCellForMonth(t,i){const n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),r=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(n,"year"):void 0;return new xa(t,i.toLocaleUpperCase(),r,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&i>r}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&i<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof Zt?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ni,5),2&i){let r;e.mGM(r=e.lsd())&&(n._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("selectedValueChange",function(o){return n._monthSelected(o)})("activeDateChange",function(o){return n._updateActiveDate(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[Ni],encapsulation:2,changeDetection:0})}return a})(),ws=(()=>{class a{_intl=(0,e.WQX)(Yi);calendar=(0,e.WQX)(Ra);_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dateFormats=(0,e.WQX)(re.de,{optional:!0});constructor(){(0,e.WQX)(xi.l).load(xi.Y);const t=(0,e.WQX)(e.gRc);this.calendar.stateChanges.subscribe(()=>t.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):ys(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-Zi(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=i+24-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1))]}_periodButtonLabelId=(0,e.WQX)(Jt.g7).getId("mat-calendar-period-label-");static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:vd,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,n){1&i&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3),e.k0s(),e.j41(4,"button",3),e.bIt("click",function(){return n.currentPeriodClicked()}),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.qSk(),e.j41(7,"svg",5),e.nrm(8,"polygon",6),e.k0s()(),e.joV(),e.nrm(9,"div",7),e.SdG(10),e.j41(11,"button",8),e.bIt("click",function(){return n.previousClicked()}),e.qSk(),e.j41(12,"svg",9),e.nrm(13,"path",10),e.k0s()(),e.joV(),e.j41(14,"button",11),e.bIt("click",function(){return n.nextClicked()}),e.qSk(),e.j41(15,"svg",9),e.nrm(16,"path",12),e.k0s()()()()),2&i&&(e.R7$(2),e.Y8G("id",n._periodButtonLabelId),e.R7$(),e.JRh(n.periodButtonDescription),e.R7$(),e.BMQ("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),e.R7$(2),e.JRh(n.periodButtonText),e.R7$(),e.AVh("mat-calendar-invert","month"!==n.calendar.currentView),e.R7$(4),e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(3),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[gt.$z,gt.iY],encapsulation:2,changeDetection:0})}return a})(),Ra=(()=>{class a{_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dateFormats=(0,e.WQX)(re.de,{optional:!0});_changeDetectorRef=(0,e.WQX)(e.gRc);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get selected(){return this._selected}set selected(t){this._selected=t instanceof Zt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_selected;get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_minDate;get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new e.bkB;yearSelected=new e.bkB;monthSelected=new e.bkB;viewChanged=new e.bkB(!0);_userSelection=new e.bkB;_userDragDrop=new e.bkB;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}_currentView;_activeDrag=null;stateChanges=new Q.B;constructor(){this._intlChanges=(0,e.WQX)(Yi).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new ii.A8(this.headerComponent||ws),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,r=i||n||t.dateFilter;if(r&&!r.firstChange){const o=this._getCurrentViewComponent();o&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof Zt||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-calendar"]],viewQuery:function(i,n){if(1&i&&(e.GBs(_s,5),e.GBs(Cs,5),e.GBs(vs,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.monthView=r.first),e.mGM(r=e.lsd())&&(n.yearView=r.first),e.mGM(r=e.lsd())&&(n.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[e.Jv_([gs]),e.OA$],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,n){if(1&i&&(e.DNE(0,yd,0,0,"ng-template",0),e.j41(1,"div",1),e.DNE(2,bd,1,11,"mat-month-view",2)(3,Cd,1,6,"mat-year-view",3)(4,wd,1,6,"mat-multi-year-view",3),e.k0s()),2&i){let r;e.Y8G("cdkPortalOutlet",n._calendarHeaderPortal),e.R7$(2),e.vxM("month"===(r=n.currentView)?2:"year"===r?3:"multi-year"===r?4:-1)}},dependencies:[ii.I3,Jt.vR,_s,Cs,vs],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return a})();const Ms=new e.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const a=(0,e.WQX)($t.hJ);return()=>a.scrollStrategies.reposition()}}),Nd={provide:Ms,deps:[$t.hJ],useFactory:function Yd(a){return()=>a.scrollStrategies.reposition()}};let ks=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_animationsDisabled="NoopAnimations"===(0,e.WQX)(e.bc$,{optional:!0});_changeDetectorRef=(0,e.WQX)(e.gRc);_globalModel=(0,e.WQX)(Si);_dateAdapter=(0,e.WQX)(re.MJ);_ngZone=(0,e.WQX)(e.SKi);_rangeSelectionStrategy=(0,e.WQX)(kn,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Q.B;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if((0,e.WQX)(xi.l).load(xi.Y),this._closeButtonText=(0,e.WQX)(Yi).closeCalendarLabel,!this._animationsDisabled){const t=this._elementRef.nativeElement,i=(0,e.WQX)(e.sFG);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(t,"animationstart",this._handleAnimationEvent),i.listen(t,"animationend",this._handleAnimationEvent),i.listen(t,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(t=>t()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,n=t.value,r=i instanceof Zt;if(r&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(n,i,t.event);this._model.updateSelection(o,this)}else n&&(r||!this._dateAdapter.sameDate(n,i))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=t=>{const i=this._elementRef.nativeElement;t.target!==i||!t.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating="animationstart"===t.type,i.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ra,5),2&i){let r;e.mGM(r=e.lsd())&&(n._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(i,n){2&i&&(e.HbH(n.color?"mat-"+n.color:""),e.AVh("mat-datepicker-content-touch",n.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!n._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,n){if(1&i&&(e.j41(0,"div",0)(1,"mat-calendar",1),e.bIt("yearSelected",function(o){return n.datepicker._selectYear(o)})("monthSelected",function(o){return n.datepicker._selectMonth(o)})("viewChanged",function(o){return n.datepicker._viewChanged(o)})("_userSelection",function(o){return n._handleUserSelection(o)})("_userDragDrop",function(o){return n._handleUserDragDrop(o)}),e.k0s(),e.DNE(2,Md,0,0,"ng-template",2),e.j41(3,"button",3),e.bIt("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),e.EFF(4),e.k0s()()),2&i){let r;e.AVh("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),e.BMQ("aria-modal",!0)("aria-labelledby",null!==(r=n._dialogLabelId)&&void 0!==r?r:void 0),e.R7$(),e.HbH(n.datepicker.panelClass),e.Y8G("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),e.R7$(),e.Y8G("cdkPortalOutlet",n._actionsPortal),e.R7$(),e.AVh("cdk-visually-hidden",!n._closeButtonFocused),e.Y8G("color",n.color||"primary"),e.R7$(),e.JRh(n._closeButtonText)}},dependencies:[Jt.kB,Ra,ii.I3,gt.$z],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return a})(),Ds=(()=>{class a{_overlay=(0,e.WQX)($t.hJ);_viewContainerRef=(0,e.WQX)(e.c1b);_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dir=(0,e.WQX)(Oi.dS,{optional:!0});_model=(0,e.WQX)(Si);_scrollStrategy=(0,e.WQX)(Ms);_inputStateChanges=Yt.yU.EMPTY;_document=(0,e.WQX)(ne.qQ);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}_color;touchUi=!1;get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new e.bkB;monthSelected=new e.bkB;viewChanged=new e.bkB(!0);dateClass;openedStream=new e.bkB;closedStream=new e.bkB;get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,Tt.cc)(t)}_panelClass;get opened(){return this._opened}set opened(t){t?this.open():this.close()}_opened=!1;id=(0,e.WQX)(Jt.g7).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new Q.B;_injector=(0,e.WQX)(e.zZn);_changeDetectorRef=(0,e.WQX)(e.gRc);constructor(){this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const n=this._overlayRef.getConfig().positionStrategy;n instanceof $t.rW&&(this._setConnectedPositions(n),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t,this._componentRef?.instance._assignActions(t,!0)}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,li.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const t=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:n,location:r}=this._componentRef;n._animationDone.pipe((0,bt.s)(1)).subscribe(()=>{const o=this._document.activeElement;t&&(!o||o===this._document.activeElement||r.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),n._startExitAnimation()}t?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new ii.A8(ks,this._viewContainerRef),n=this._overlayRef=this._overlay.create(new $t.rR({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(n).subscribe(r=>{r&&r.preventDefault(),this.close()}),n.keydownEvents().subscribe(r=>{const o=r.keyCode;(o===ze.i7||o===ze.n6||o===ze.UQ||o===ze.LE||o===ze.w_||o===ze.dB)&&r.preventDefault()}),this._componentRef=n.attach(i),this._forwardContentValues(this._componentRef.instance),t||(0,e.mal)(()=>{n.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",n="start"===i?"end":"start",r="above"===this.yPosition?"bottom":"top",o="top"===r?"bottom":"top";return t.withPositions([{originX:i,originY:o,overlayX:i,overlayY:r},{originX:i,originY:r,overlayX:i,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:o}])}_getCloseStream(t){const i=["ctrlKey","shiftKey","metaKey"];return(0,Ai.h)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,St.p)(n=>n.keyCode===ze._f&&!(0,ze.rp)(n)||this.datepickerInput&&(0,ze.rp)(n,"altKey")&&n.keyCode===ze.i7&&i.every(r=>!(0,ze.rp)(n,r)))))}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",e.L39],disabled:[2,"disabled","disabled",e.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",e.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",e.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[e.OA$]})}return a})(),jd=(()=>{class a extends Ds{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[e.Jv_([gs,{provide:Ds,useExisting:a}]),e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}return a})();class Dn{target;targetElement;value;constructor(s,t){this.target=s,this.targetElement=t,this.value=this.target.value}}let Bd=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dateFormats=(0,e.WQX)(re.de,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=t,n=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&n.blur&&n.blur()}_disabled;dateChange=new e.bkB;dateInput=new e.bkB;stateChanges=new Q.B;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=Yt.yU.EMPTY;_localeSubscription=Yt.yU.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value));return!i||this._matchesFilter(i)?null:{matDatepickerFilter:!0}};_minValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMinDate();return!n||!i||this._dateAdapter.compareDate(n,i)<=0?null:{matDatepickerMin:{min:n,actual:i}}};_maxValidator=t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this._getMaxDate();return!n||!i||this._dateAdapter.compareDate(n,i)>=0?null:{matDatepickerMax:{max:n,actual:i}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const n=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(n),this._cvaOnChange(n),this._onTouched(),this._formatValue(n),this.dateInput.emit(new Dn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Dn(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function zd(a,s){const t=Object.keys(a);for(let i of t){const{previousValue:n,currentValue:r}=a[i];if(!s.isDateInstance(n)||!s.isDateInstance(r))return!0;if(!s.sameDate(n,r))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){(0,ze.rp)(t,"altKey")&&t.keyCode===ze.n6&&["ctrlKey","shiftKey","metaKey"].every(r=>!(0,ze.rp)(t,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let n=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n);const r=!this._dateAdapter.sameDate(n,this.value);!n||r?this._cvaOnChange(n):(t&&!this.value&&this._cvaOnChange(n),i!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(n),this.dateInput.emit(new Dn(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Dn(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=null!=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,inputs:{value:"value",disabled:[2,"disabled","disabled",e.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[e.OA$]})}return a})();const Hd={provide:He.kq,useExisting:(0,e.Rfq)(()=>La),multi:!0},Gd={provide:He.cz,useExisting:(0,e.Rfq)(()=>La),multi:!0};let La=(()=>{class a extends Bd{_formField=(0,e.WQX)(ct.xb,{optional:!0});_closedSubscription=Yt.yU.EMPTY;_openedSubscription=Yt.yU.EMPTY;set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}_datepicker;_ariaOwns=(0,e.vPA)(null);get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}_min;get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=He.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,n){1&i&&e.bIt("input",function(o){return n._onInput(o.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(o){return n._onKeydown(o)}),2&i&&(e.Mr5("disabled",n.disabled),e.BMQ("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",n._ariaOwns())("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[e.Jv_([Hd,Gd,{provide:Ut.Oh,useExisting:a}]),e.Vt3]})}return a})(),$d=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matDatepickerToggleIcon",""]]})}return a})(),Ts=(()=>{class a{_intl=(0,e.WQX)(Yi);_changeDetectorRef=(0,e.WQX)(e.gRc);_stateChanges=Yt.yU.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}_disabled;disableRipple;_customIcon;_button;constructor(){const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0}),i=Number(t);this.tabIndex=i||0===i?i:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,te.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,te.of)(),n=this.datepicker?(0,Ai.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,te.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ai.h)(this._intl.changes,t,i,n).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,n,r){if(1&i&&e.wni(r,$d,5),2&i){let o;e.mGM(o=e.lsd())&&(n._customIcon=o.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(kd,5),2&i){let r;e.mGM(r=e.lsd())&&(n._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._open(o)}),2&i&&(e.BMQ("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),e.AVh("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",e.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[e.OA$],ngContentSelectors:Td,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,n){1&i&&(e.NAR(Dd),e.j41(0,"button",1,0),e.DNE(2,xd,2,0,":svg:svg",2),e.SdG(3),e.k0s()),2&i&&(e.Y8G("disabled",n.disabled)("disableRipple",n.disableRipple),e.BMQ("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex)("aria-expanded",n.datepicker?n.datepicker.opened:null),e.R7$(2),e.vxM(n._customIcon?-1:2))},dependencies:[gt.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return a})(),Xd=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({providers:[Yi,Nd],imports:[gt.Hl,$t.z_,Jt.Pd,ii.jc,re.yE,ks,Ts,ws,xe.Gj]})}return a})();const Qd=["panelTemplate"],Kd=(a,s)=>s.value;function Jd(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-option",3),e.bIt("onSelectionChange",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r._selectValue(n.source))}),e.EFF(1),e.k0s()}if(2&a){const t=s.$implicit;e.Y8G("value",t.value),e.R7$(),e.JRh(t.label)}}function Zd(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",1),e.bIt("animationend",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._handleAnimationEnd(n))}),e.Z7z(1,Jd,2,2,"mat-option",2,Kd),e.k0s()}if(2&a){const t=e.XpG();e.AVh("mat-timepicker-panel-animations-enabled",!t._animationsDisabled)("mat-timepicker-panel-exit",!t.isOpen()),e.Y8G("id",t.panelId),e.BMQ("aria-label",t.ariaLabel()||null)("aria-labelledby",t._getAriaLabelledby()),e.R7$(),e.Dyx(t._timeOptions)}}const qd=[[["","matTimepickerToggleIcon",""]]],eu=["[matTimepickerToggleIcon]"];function tu(a,s){1&a&&(e.qSk(),e.j41(0,"svg",1),e.nrm(1,"path",2),e.k0s())}const iu=/^(\d*\.?\d+)\s*(h|hour|hours|m|min|minute|minutes|s|second|seconds)?$/i,Ss=new e.nKC("MAT_TIMEPICKER_CONFIG");function Is(a){let s;if(null===a)return null;if("number"==typeof a)s=a;else{if(0===a.trim().length)return null;const t=a.match(iu),i=t?parseFloat(t[1]):null,n=t?.[2]?.toLowerCase()||null;if(!t||null===i||isNaN(i))return null;s="h"===n||"hour"===n||"hours"===n?3600*i:"m"===n||"min"===n||"minute"===n||"minutes"===n?60*i:i}return s}const au=new e.nKC("MAT_TIMEPICKER_SCROLL_STRATEGY",{providedIn:"root",factory:()=>{const a=(0,e.WQX)($t.hJ);return()=>a.scrollStrategies.reposition()}});let Ya=(()=>{class a{_overlay=(0,e.WQX)($t.hJ);_dir=(0,e.WQX)(Oi.dS,{optional:!0});_viewContainerRef=(0,e.WQX)(e.c1b);_injector=(0,e.WQX)(e.zZn);_defaultConfig=(0,e.WQX)(Ss,{optional:!0});_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dateFormats=(0,e.WQX)(re.de,{optional:!0});_scrollStrategyFactory=(0,e.WQX)(au);_animationsDisabled="NoopAnimations"===(0,e.WQX)(e.bc$,{optional:!0});_isOpen=(0,e.vPA)(!1);_activeDescendant=(0,e.vPA)(null);_input=(0,e.vPA)(null);_overlayRef=null;_portal=null;_optionsCacheKey=null;_localeChanges;_onOpenRender=null;_panelTemplate=e.ebz.required("panelTemplate");_timeOptions=[];_options=(0,e.dtW)(re.wT);_keyManager=new Jt.Au(this._options,this._injector).withHomeAndEnd(!0).withPageUpDown(!0).withVerticalOrientation(!0);interval=(0,e.hFB)(Is(this._defaultConfig?.interval||null),{transform:Is});options=(0,e.hFB)(null);isOpen=this._isOpen.asReadonly();selected=(0,e.CGW)();opened=(0,e.CGW)();closed=(0,e.CGW)();activeDescendant=this._activeDescendant.asReadonly();panelId=(0,e.WQX)(Jt.g7).getId("mat-timepicker-panel-");disableRipple=(0,e.hFB)(this._defaultConfig?.disableRipple??!1,{transform:e.L39});ariaLabel=(0,e.hFB)(null,{alias:"aria-label"});ariaLabelledby=(0,e.hFB)(null,{alias:"aria-labelledby"});disabled=(0,e.EWP)(()=>!!this._input()?.disabled());constructor(){(0,e.WQX)(e.aKT).nativeElement.setAttribute("mat-timepicker-panel-id",this.panelId),this._handleLocaleChanges(),this._handleInputStateChanges(),this._keyManager.change.subscribe(()=>this._activeDescendant.set(this._keyManager.activeItem?.id||null))}open(){const t=this._input();if(!t||(t.focus(),this._isOpen()))return;this._isOpen.set(!0),this._generateOptions();const i=this._getOverlayRef();i.updateSize({width:t.getOverlayOrigin().nativeElement.offsetWidth}),this._portal??=new ii.VA(this._panelTemplate(),this._viewContainerRef),i.attach(this._portal),this._onOpenRender?.destroy(),this._onOpenRender=(0,e.mal)(()=>{const n=this._options();this._syncSelectedState(t.value(),n,n[0]),this._onOpenRender=null},{injector:this._injector}),this.opened.emit()}close(){this._isOpen()&&(this._isOpen.set(!1),this.closed.emit(),this._animationsDisabled&&this._overlayRef?.detach())}registerInput(t){this._input(),this._input.set(t)}ngOnDestroy(){this._keyManager.destroy(),this._localeChanges.unsubscribe(),this._onOpenRender?.destroy(),this._overlayRef?.dispose()}_selectValue(t){this.close(),this._keyManager.setActiveItem(t),this._options().forEach(i=>{i!==t&&i.deselect(!1)}),this.selected.emit({value:t.value,source:this}),this._input()?.focus()}_getAriaLabelledby(){return this.ariaLabel()?null:this.ariaLabelledby()||this._input()?._getLabelId()||null}_handleAnimationEnd(t){"_mat-timepicker-exit"===t.animationName&&this._overlayRef?.detach()}_getOverlayRef(){if(this._overlayRef)return this._overlayRef;const t=this._overlay.position().flexibleConnectedTo(this._input().getOverlayOrigin()).withFlexibleDimensions(!1).withPush(!1).withTransformOriginOn(".mat-timepicker-panel").withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-timepicker-above"}]);return this._overlayRef=this._overlay.create({positionStrategy:t,scrollStrategy:this._scrollStrategyFactory(),direction:this._dir||"ltr",hasBackdrop:!1}),this._overlayRef.detachments().subscribe(()=>this.close()),this._overlayRef.keydownEvents().subscribe(i=>this._handleKeydown(i)),this._overlayRef.outsidePointerEvents().subscribe(i=>{const n=(0,li.Fb)(i),r=this._input()?.getOverlayOrigin().nativeElement;n&&r&&n!==r&&!r.contains(n)&&this.close()}),this._overlayRef}_generateOptions(){const t=this.interval()??1800,i=this.options();if(null!==i)this._timeOptions=i;else{const n=this._input(),r=this._dateAdapter,o=this._dateFormats.display.timeInput,u=n?.min()||r.setTime(r.today(),0,0,0),v=n?.max()||r.setTime(r.today(),23,59,0),P=t+"/"+r.format(u,o)+"/"+r.format(v,o);P!==this._optionsCacheKey&&(this._optionsCacheKey=P,this._timeOptions=function nu(a,s,t,i,n){const r=[];let o=a.compareTime(t,i)<1?t:i;for(;a.sameDate(o,t)&&a.compareTime(o,i)<1&&a.isValid(o);)r.push({value:o,label:a.format(o,s.display.timeOptionLabel)}),o=a.addSeconds(o,n);return r}(r,this._dateFormats,u,v,t))}}_syncSelectedState(t,i,n){let r=!1;for(const o of i)t&&this._dateAdapter.sameTime(o.value,t)?(o.select(!1),Na(o,"center"),(0,e.O8t)(()=>this._keyManager.setActiveItem(o)),r=!0):o.deselect(!1);r||(n?((0,e.O8t)(()=>this._keyManager.setActiveItem(n)),Na(n,"center")):(0,e.O8t)(()=>this._keyManager.setActiveItem(-1)))}_handleKeydown(t){const i=t.keyCode;if(i===ze.wn)this.close();else if(i!==ze._f||(0,ze.rp)(t))if(i===ze.Fm)t.preventDefault(),this._keyManager.activeItem?this._selectValue(this._keyManager.activeItem):this.close();else{const n=this._keyManager.activeItem;this._keyManager.onKeydown(t);const r=this._keyManager.activeItem;r&&r!==n&&Na(r,"nearest")}else t.preventDefault(),this.close()}_handleLocaleChanges(){this._localeChanges=this._dateAdapter.localeChanges.subscribe(()=>{this._optionsCacheKey=null,this.isOpen()&&this._generateOptions()})}_handleInputStateChanges(){(0,e.QZP)(()=>{const t=this._input(),i=this._options();this._isOpen()&&t&&this._syncSelectedState(t.value(),i,null)})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-timepicker"]],viewQuery:function(i,n){1&i&&(e.wEZ(n._panelTemplate,Qd,5),e.wEZ(n._options,re.wT,5)),2&i&&e.NyB(2)},inputs:{interval:[1,"interval"],options:[1,"options"],disableRipple:[1,"disableRipple"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"]},outputs:{selected:"selected",opened:"opened",closed:"closed"},exportAs:["matTimepicker"],features:[e.Jv_([{provide:re.is,useExisting:a}])],decls:2,vars:0,consts:[["panelTemplate",""],["role","listbox",1,"mat-timepicker-panel",3,"animationend","id"],[3,"value"],[3,"onSelectionChange","value"]],template:function(i,n){1&i&&e.DNE(0,Zd,3,7,"ng-template",null,0,e.C5r)},dependencies:[re.wT],styles:["@keyframes _mat-timepicker-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-timepicker-exit{from{opacity:1}to{opacity:0}}mat-timepicker{display:none}.mat-timepicker-panel{width:100%;max-height:256px;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;border-bottom-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-timepicker-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-timepicker-container-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){.mat-timepicker-panel{outline:solid 1px}}.mat-timepicker-above .mat-timepicker-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-timepicker-container-shape, var(--mat-sys-corner-extra-small))}.mat-timepicker-panel-animations-enabled{animation:_mat-timepicker-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-timepicker-panel-animations-enabled.mat-timepicker-panel-exit{animation:_mat-timepicker-exit 100ms linear}.mat-timepicker-input[readonly]{cursor:pointer}@media(forced-colors: active){.mat-timepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return a})();function Na(a,s){a._getHostElement().scrollIntoView({block:s,inline:s})}let ru=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_document=(0,e.WQX)(ne.qQ);_dateAdapter=(0,e.WQX)(re.MJ,{optional:!0});_dateFormats=(0,e.WQX)(re.de,{optional:!0});_formField=(0,e.WQX)(ct.xb,{optional:!0});_onChange;_onTouched;_validatorOnChange;_cleanupClick;_accessorDisabled=(0,e.vPA)(!1);_localeSubscription;_timepickerSubscription;_validator;_lastValueValid=!0;_lastValidDate=null;_ariaActiveDescendant=(0,e.EWP)(()=>{const t=this.timepicker(),i=t.isOpen(),n=t.activeDescendant();return i&&n?n:null});_ariaExpanded=(0,e.EWP)(()=>this.timepicker().isOpen()+"");_ariaControls=(0,e.EWP)(()=>{const t=this.timepicker();return t.isOpen()?t.panelId:null});value=(0,e.geq)(null);timepicker=e.hFB.required({alias:"matTimepicker"});min=(0,e.hFB)(null,{alias:"matTimepickerMin",transform:t=>this._transformDateInput(t)});max=(0,e.hFB)(null,{alias:"matTimepickerMax",transform:t=>this._transformDateInput(t)});disabled=(0,e.EWP)(()=>this.disabledInput()||this._accessorDisabled());disabledInput=(0,e.hFB)(!1,{transform:e.L39,alias:"disabled"});constructor(){const t=(0,e.WQX)(e.sFG);this._validator=this._getValidator(),this._respondToValueChanges(),this._respondToMinMaxChanges(),this._registerTimepicker(),this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._hasFocus()||this._formatValue(this.value())}),this._cleanupClick=t.listen(this.getOverlayOrigin().nativeElement,"click",this._handleClick)}writeValue(t){const i=this._dateAdapter.deserialize(t);this.value.set(this._dateAdapter.getValidDateOrNull(i))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._accessorDisabled.set(t)}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._validatorOnChange=t}getOverlayOrigin(){return this._formField?.getConnectedOverlayOrigin()||this._elementRef}focus(){this._elementRef.nativeElement.focus()}ngOnDestroy(){this._cleanupClick(),this._timepickerSubscription?.unsubscribe(),this._localeSubscription.unsubscribe()}_getLabelId(){return this._formField?.getLabelId()||null}_handleClick=()=>{this.disabled()||this.timepicker().open()};_handleInput(t){const i=this.value(),n=this._dateAdapter.parseTime(t,this._dateFormats.parse.timeInput),r=!this._dateAdapter.sameTime(n,i);!n||r||t&&!i?this._assignUserSelection(n,!0):this._validatorOnChange?.()}_handleBlur(){const t=this.value();t&&this._isValid(t)&&this._formatValue(t),this.timepicker().isOpen()||this._onTouched?.()}_handleKeydown(t){this.timepicker().isOpen()||this.disabled()||(t.keyCode!==ze._f||(0,ze.rp)(t)||null===this.value()?(t.keyCode===ze.n6||t.keyCode===ze.i7)&&(t.preventDefault(),this.timepicker().open()):(t.preventDefault(),this.value.set(null),this._formatValue(null)))}_respondToValueChanges(){(0,e.QZP)(()=>{const t=this._dateAdapter.deserialize(this.value()),i=this._lastValueValid;this._lastValueValid=this._isValid(t),this._hasFocus()||this._formatValue(t),t&&this._lastValueValid&&(this._lastValidDate=t),i!==this._lastValueValid&&this._validatorOnChange?.()})}_registerTimepicker(){(0,e.QZP)(()=>{const t=this.timepicker();t.registerInput(this),t.closed.subscribe(()=>this._onTouched?.()),t.selected.subscribe(({value:i})=>{this._dateAdapter.sameTime(i,this.value())||(this._assignUserSelection(i,!0),this._formatValue(i))})})}_respondToMinMaxChanges(){(0,e.QZP)(()=>{this.min(),this.max(),this._validatorOnChange?.()})}_assignUserSelection(t,i){if(null!=t&&this._isValid(t)){const n=this._dateAdapter,r=n.getValidDateOrNull(this._lastValidDate||this.value()),o=n.getHours(t),u=n.getMinutes(t),v=n.getSeconds(t);this.value.set(r?n.setTime(r,o,u,v):t)}else this.value.set(t);i&&this._onChange?.(this.value())}_formatValue(t){t=this._dateAdapter.getValidDateOrNull(t),this._elementRef.nativeElement.value=null==t?"":this._dateAdapter.format(t,this._dateFormats.display.timeInput)}_isValid(t){return!t||this._dateAdapter.isValid(t)}_transformDateInput(t){const i="string"==typeof t?this._dateAdapter.parseTime(t,this._dateFormats.parse.timeInput):this._dateAdapter.deserialize(t);return i&&this._dateAdapter.isValid(i)?i:null}_hasFocus(){return this._document.activeElement===this._elementRef.nativeElement}_getValidator(){return He.k0.compose([()=>this._lastValueValid?null:{matTimepickerParse:{text:this._elementRef.nativeElement.value}},t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this.min();return!n||!i||this._dateAdapter.compareTime(n,i)<=0?null:{matTimepickerMin:{min:n,actual:i}}},t=>{const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t.value)),n=this.max();return!n||!i||this._dateAdapter.compareTime(n,i)>=0?null:{matTimepickerMax:{max:n,actual:i}}}])}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["input","matTimepicker",""]],hostAttrs:["role","combobox","type","text","aria-haspopup","listbox",1,"mat-timepicker-input"],hostVars:5,hostBindings:function(i,n){if(1&i&&e.bIt("blur",function(){return n._handleBlur()})("input",function(o){return n._handleInput(o.target.value)})("keydown",function(o){return n._handleKeydown(o)}),2&i){let r;e.Mr5("disabled",n.disabled()),e.BMQ("aria-activedescendant",n._ariaActiveDescendant())("aria-expanded",n._ariaExpanded())("aria-controls",n._ariaControls())("mat-timepicker-id",null==(r=n.timepicker())?null:r.panelId)}},inputs:{value:[1,"value"],timepicker:[1,"matTimepicker","timepicker"],min:[1,"matTimepickerMin","min"],max:[1,"matTimepickerMax","max"],disabledInput:[1,"disabled","disabledInput"]},outputs:{value:"valueChange"},exportAs:["matTimepickerInput"],features:[e.Jv_([{provide:He.kq,useExisting:a,multi:!0},{provide:He.cz,useExisting:a,multi:!0},{provide:Ut.Oh,useExisting:a}])]})}return a})(),Es=(()=>{class a{_defaultConfig=(0,e.WQX)(Ss,{optional:!0});_defaultTabIndex=(()=>{const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0}),i=Number(t);return isNaN(i)?null:i})();_isDisabled=(0,e.EWP)(()=>{const t=this.timepicker();return this.disabled()||t.disabled()});timepicker=e.hFB.required({alias:"for"});ariaLabel=(0,e.hFB)(void 0,{alias:"aria-label"});ariaLabelledby=(0,e.hFB)(void 0,{alias:"aria-labelledby"});_defaultAriaLabel="Open timepicker options";disabled=(0,e.hFB)(!1,{transform:e.L39,alias:"disabled"});tabIndex=(0,e.hFB)(this._defaultTabIndex);disableRipple=(0,e.hFB)(this._defaultConfig?.disableRipple??!1,{transform:e.L39});_open(t){this.timepicker()&&!this._isDisabled()&&(this.timepicker().open(),t.stopPropagation())}getAriaLabel(){return this.ariaLabelledby()?null:this.ariaLabel()||this._defaultAriaLabel}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["mat-timepicker-toggle"]],hostAttrs:[1,"mat-timepicker-toggle"],hostVars:1,hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._open(o)}),2&i&&e.BMQ("tabindex",null)},inputs:{timepicker:[1,"for","timepicker"],ariaLabel:[1,"aria-label","ariaLabel"],ariaLabelledby:[1,"aria-labelledby","ariaLabelledby"],disabled:[1,"disabled"],tabIndex:[1,"tabIndex"],disableRipple:[1,"disableRipple"]},exportAs:["matTimepickerToggle"],ngContentSelectors:eu,decls:3,vars:6,consts:[["mat-icon-button","","type","button","aria-haspopup","listbox",3,"disabled","disableRipple"],["height","24px","width","24px","viewBox","0 -960 960 960","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-timepicker-toggle-default-icon"],["d","m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"]],template:function(i,n){1&i&&(e.NAR(qd),e.j41(0,"button",0),e.SdG(1,0,null,tu,2,0),e.k0s()),2&i&&(e.Y8G("disabled",n._isDisabled())("disableRipple",n.disableRipple()),e.BMQ("aria-label",n.getAriaLabel())("aria-labelledby",n.ariaLabelledby())("aria-expanded",n.timepicker().isOpen())("tabindex",n._isDisabled()?-1:n.tabIndex()))},dependencies:[gt.iY],encapsulation:2,changeDetection:0})}return a})(),su=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[Ya,Es,xe.Gj]})}return a})();var ou=m(137),lu=m(2575),it=m(7172);const cu=["owl-date-time-calendar-body",""],du=(a,s,t)=>({"owl-dt-calendar-cell-out":a,"owl-dt-calendar-cell-today":s,"owl-dt-calendar-cell-selected":t});function uu(a,s){if(1&a){const t=e.RV6();e.j41(0,"td",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.selectCell(n))}),e.j41(1,"span",4),e.EFF(2),e.k0s()()}if(2&a){const t=s.$implicit,i=s.index,n=e.XpG().index,r=e.XpG();e.ZvI("owl-dt-calendar-cell ",t.cellClass,""),e.xc7("width",100/r.numCols,"%")("padding-top",50*r.cellRatio/r.numCols,"%")("padding-bottom",50*r.cellRatio/r.numCols,"%"),e.AVh("owl-dt-calendar-cell-active",r.isActiveCell(n,i))("owl-dt-calendar-cell-disabled",!t.enabled)("owl-dt-calendar-cell-in-range",r.isInRange(t.value))("owl-dt-calendar-cell-range-from",r.isRangeFrom(t.value))("owl-dt-calendar-cell-range-to",r.isRangeTo(t.value)),e.Y8G("tabindex",r.isActiveCell(n,i)?0:-1),e.BMQ("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-current",t.value===r.todayValue?"date":null)("aria-selected",r.isSelected(t.value)),e.R7$(),e.Y8G("ngClass",e.sMw(26,du,t.out,t.value===r.todayValue,r.isSelected(t.value))),e.R7$(),e.SpI(" ",t.displayValue," ")}}function pu(a,s){if(1&a&&(e.j41(0,"tr",1),e.DNE(1,uu,3,30,"td",2),e.k0s()),2&a){const t=s.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}const As=a=>({"owl-calendar-weeks":a});function hu(a,s){if(1&a&&(e.j41(0,"li")(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=s.$implicit;e.R7$(2),e.JRh(t)}}function mu(a,s){if(1&a&&(e.j41(0,"ul",7),e.DNE(1,hu,3,1,"li",8),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.weekNumbers)}}function fu(a,s){if(1&a&&(e.j41(0,"th",9)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=s.$implicit;e.BMQ("aria-label",t.long),e.R7$(2),e.JRh(t.short)}}function gu(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-month-view",16),e.bIt("pickerMomentChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePickerMomentChange(n))})("selectedChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.dateSelected(n))})("userSelection",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.userSelected())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("firstDayOfWeek",t.firstDayOfWeek)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("showCalendarWeeks",t.showCalendarWeeks)("maxDate",t.maxDate)("dateFilter",t.dateFilter)("hideOtherMonths",t.hideOtherMonths)}}function _u(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-year-view",17),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePickerMomentChange(n))})("monthSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.selectMonthInYearView(n))})("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.goToDateInView(n,r.DateView.MONTH))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}function vu(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-multi-year-view",18),e.bIt("keyboardEnter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.focusActiveCell())})("pickerMomentChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handlePickerMomentChange(n))})("yearSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.selectYearInMultiYearView(n))})("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.goToDateInView(n,r.DateView.YEAR))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("selected",t.selected)("selecteds",t.selecteds)("selectMode",t.selectMode)("minDate",t.minDate)("maxDate",t.maxDate)("dateFilter",t.dateFilter)}}const yu=["valueInput"];function bu(a,s){1&a&&e.nrm(0,"div",10)}function Cu(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer-box",1),e.bIt("inputChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.setSecondValue(n))})("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.setSecondValue(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("showDivider",!0)("upBtnAriaLabel",t.upSecondButtonLabel)("downBtnAriaLabel",t.downSecondButtonLabel)("upBtnDisabled",!t.upSecondEnabled())("downBtnDisabled",!t.downSecondEnabled())("value",t.secondValue)("min",0)("max",59)("step",t.stepSecond)("inputLabel","Second")}}function wu(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",4)(1,"button",5),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.setMeridiem(n))}),e.j41(2,"span",6),e.EFF(3),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.hour12ButtonLabel," ")}}const Os=a=>({"owl-dt-container-info-active":a});function Mu(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-calendar",7),e.mxI("pickerMomentChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.pickerMoment,n)||(r.pickerMoment=n),e.Njj(n)}),e.bIt("yearSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.picker.selectYear(n))})("monthSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.picker.selectMonth(n))})("dateClicked",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.picker.selectDate(n))})("selectedChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.dateSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("firstDayOfWeek",t.picker.firstDayOfWeek),e.R50("pickerMoment",t.pickerMoment),e.Y8G("selected",t.picker.selected)("selecteds",t.picker.selecteds)("selectMode",t.picker.selectMode)("minDate",t.picker.minDateTime)("maxDate",t.picker.maxDateTime)("dateFilter",t.picker.dateTimeFilter)("startView",t.picker.startView)("yearOnly",t.picker.yearOnly)("showCalendarWeeks",t.picker.showCalendarWeeks)("multiyearOnly",t.picker.multiyearOnly)("hideOtherMonths",t.picker.hideOtherMonths)}}function ku(a,s){if(1&a){const t=e.RV6();e.j41(0,"owl-date-time-timer",8),e.bIt("selectedChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.timeSelected(n))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("pickerMoment",t.pickerMoment)("minDateTime",t.picker.minDateTime)("maxDateTime",t.picker.maxDateTime)("showSecondsTimer",t.picker.showSecondsTimer)("hour12Timer",t.picker.hour12Timer)("stepHour",t.picker.stepHour)("stepMinute",t.picker.stepMinute)("stepSecond",t.picker.stepSecond)}}function Du(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",9)(1,"div",10,0),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handleClickOnInfoGroup(n,0))})("keydown",function(n){e.eBV(t);const r=e.sdS(9),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,r,0))}),e.j41(3,"span",11)(4,"span",12),e.EFF(5),e.k0s(),e.j41(6,"span",13),e.EFF(7),e.k0s()()(),e.j41(8,"div",14,1),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handleClickOnInfoGroup(n,1))})("keydown",function(n){e.eBV(t);const r=e.sdS(2),o=e.XpG();return e.Njj(o.handleKeydownOnInfoGroup(n,r,1))}),e.j41(10,"span",11)(11,"span",12),e.EFF(12),e.k0s(),e.j41(13,"span",13),e.EFF(14),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("tabindex",0===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(10,Os,0===t.activeSelectedIndex)),e.BMQ("aria-checked",0===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.fromLabel,":"),e.R7$(2),e.JRh(t.fromFormattedValue),e.R7$(),e.Y8G("tabindex",1===t.activeSelectedIndex?0:-1)("ngClass",e.eq3(12,Os,1===t.activeSelectedIndex)),e.BMQ("aria-checked",1===t.activeSelectedIndex),e.R7$(4),e.SpI("",t.toLabel,":"),e.R7$(2),e.JRh(t.toFormattedValue)}}function Tu(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onCancelClicked(n))}),e.j41(2,"span",17),e.EFF(3),e.k0s()(),e.j41(4,"button",16),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onSetClicked(n))}),e.j41(5,"span",17),e.EFF(6),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.SpI(" ",t.cancelLabel," "),e.R7$(3),e.SpI(" ",t.setLabel," ")}}function xu(a,s){}const Mi=new e.nKC("OWL_DATE_TIME_FORMATS"),ja=new e.nKC("OWL_DATE_TIME_LOCALE",{providedIn:"root",factory:function Su(){return(0,e.WQX)(e.xe9)}});class ni{constructor(){this._localeChanges=new Q.B,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(s,t){if(!this.isValid(s)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const i=this.clone(s),n=this.clone(t),r=this.getTime(i)-this.getTime(n);return r<0?-1:r>0?1:r}compareYear(s,t){if(!this.isValid(s)||!this.isValid(t))throw Error("JSNativeDate: Cannot compare invalid dates.");const r=this.getYear(s)-this.getYear(t);return r<0?-1:r>0?1:0}deserialize(s){return null==s||this.isDateInstance(s)&&this.isValid(s)?s:this.invalid()}setLocale(s){this.locale=s,this._localeChanges.next(s)}getLocale(){return this.locale}clampDate(s,t,i){return t&&this.compare(s,t)<0?t:i&&this.compare(s,i)>0?i:s}}let Iu=0;var Nt=function(a){return a.MONTH="month",a.YEAR="year",a.MULTI_YEARS="multi-years",a}(Nt||{});let Fs=(()=>{class a{get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(t){this._showSecondsTimer=(0,Tt.he)(t)}get hour12Timer(){return this._hour12Timer}set hour12Timer(t){this._hour12Timer=(0,Tt.he)(t)}get stepHour(){return this._stepHour}set stepHour(t){this._stepHour=(0,Tt.OE)(t,1)}get stepMinute(){return this._stepMinute}set stepMinute(t){this._stepMinute=(0,Tt.OE)(t,1)}get stepSecond(){return this._stepSecond}set stepSecond(t){this._stepSecond=(0,Tt.OE)(t,1)}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t=(0,Tt.OE)(t),this._firstDayOfWeek=t>6||t<0?void 0:t}get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(t){this._hideOtherMonths=(0,Tt.he)(t)}get id(){return this._id}get formatString(){return"both"===this.pickerType?this.dateTimeFormats.fullPickerInput:"calendar"===this.pickerType?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(t,i){if(this.dateTimeAdapter=t,this.dateTimeFormats=i,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView=Nt.MONTH,this.showCalendarWeeks=!1,this.yearOnly=!1,this.multiyearOnly=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._hideOtherMonths=!1,this.dateTimeChecker=n=>!!n&&(!this.dateTimeFilter||this.dateTimeFilter(n))&&(!this.minDateTime||this.dateTimeAdapter.compare(n,this.minDateTime)>=0)&&(!this.maxDateTime||this.dateTimeAdapter.compare(n,this.maxDateTime)<=0),!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimeAdapter. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this._id="owl-dt-picker-"+Iu++}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275dir=e.FsC({type:a,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",showCalendarWeeks:"showCalendarWeeks",yearOnly:"yearOnly",multiyearOnly:"multiyearOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"},standalone:!1})}}return a})(),qi=(()=>{class a{constructor(){this.changes=new Q.B,this.upSecondLabel="Add a second",this.downSecondLabel="Minus a second",this.upMinuteLabel="Add a minute",this.downMinuteLabel="Minus a minute",this.upHourLabel="Add a hour",this.downHourLabel="Minus a hour",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 21 years",this.nextMultiYearLabel="Next 21 years",this.switchToMonthViewLabel="Change to month view",this.switchToMultiYearViewLabel="Choose month and year",this.cancelBtnLabel="Cancel",this.setBtnLabel="Set",this.rangeFromLabel="From",this.rangeToLabel="To",this.hour12AMLabel="AM",this.hour12PMLabel="PM"}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();class Ba{constructor(s,t,i,n,r=!1,o=""){this.value=s,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.out=r,this.cellClass=o}}let ji=(()=>{class a{get owlDTCalendarBodyClass(){return!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}constructor(t,i){this.elmRef=t,this.ngZone=i,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new e.bkB}ngOnInit(){}selectCell(t){this.select.emit(t)}isActiveCell(t,i){return t*this.numCols+i===this.activeCell}isSelected(t){return!(!this.selectedValues||0===this.selectedValues.length)&&(this.isInSingleMode?t===this.selectedValues[0]:this.isInRangeMode?t===this.selectedValues[0]||t===this.selectedValues[1]:void 0)}isInRange(t){if(this.isInRangeMode){const i=this.selectedValues[0],n=this.selectedValues[1];return null!==i&&null!==n?t>=i&&t<=n:t===i||t===n}}isRangeFrom(t){if(this.isInRangeMode){const i=this.selectedValues[0];return null!==i&&t===i}}isRangeTo(t){if(this.isInRangeMode){const i=this.selectedValues[1];return null!==i&&t===i}}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,bt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["","owl-date-time-calendar-body",""]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-body",n.owlDTCalendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["owlDateTimeCalendarBody"],standalone:!1,attrs:cu,decls:1,vars:1,consts:[["role","row",4,"ngFor","ngForOf"],["role","row"],[3,"class","tabindex","owl-dt-calendar-cell-active","owl-dt-calendar-cell-disabled","owl-dt-calendar-cell-in-range","owl-dt-calendar-cell-range-from","owl-dt-calendar-cell-range-to","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],[3,"click","tabindex"],[1,"owl-dt-calendar-cell-content",3,"ngClass"]],template:function(i,n){1&i&&e.DNE(0,pu,2,1,"tr",0),2&i&&e.Y8G("ngForOf",n.rows)},dependencies:[ne.YU,ne.Sq],encapsulation:2,changeDetection:0})}}return a})();class Ou{static create(){return{multiYear:{yearRows:7,yearsPerRow:3}}}}class Tn{static{this.all=new e.nKC("All options token")}static{this.multiYear=new e.nKC("Grid view options token")}}const Fu=[{provide:Tn.all,useFactory:function Eu(){return Ou.create()}},{provide:Tn.multiYear,useFactory:function Au(a){return a.multiYear},deps:[Tn.all]}];let Pu=(()=>{class a{get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),i&&this._pickerMoment&&!this.isSameYearList(i,this._pickerMoment)&&this.generateYearList()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateYearList()}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateYearList()}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} - ${this._years[this.options.yearRows-1][this.options.yearsPerRow-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get owlDTCalendarView(){return!0}get owlDTCalendarMultiYearView(){return!0}constructor(t,i,n,r){this.cdRef=t,this.pickerIntl=i,this.dateTimeAdapter=n,this.options=r,this._selectMode="single",this._selecteds=[],this.initiated=!1,this.change=new e.bkB,this.yearSelected=new e.bkB,this.pickerMomentChange=new e.bkB,this.keyboardEnter=new e.bkB}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(t){this.selectYear(t.value)}selectYear(t){this.yearSelected.emit(this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.firstMonthOfTheYear,1));const i=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),1),n=this.dateTimeAdapter.getNumDaysInMonth(i),r=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(r)}prevYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}nextYearList(t){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,this.options.yearsPerRow*this.options.yearRows),this.generateYearList(),t.preventDefault()}generateYearList(){this._years=[];const t=this.dateTimeAdapter.getYear(this._pickerMoment),i=t%(this.options.yearsPerRow*this.options.yearRows);for(let n=0;n<this.options.yearRows;n++){const r=[];for(let o=0;o<this.options.yearsPerRow;o++){const v=this.createYearCell(t-i+(o+n*this.options.yearsPerRow));r.push(v)}this._years.push(r)}}previousEnabled(){return!this.minDate||!this.minDate||!this.isSameYearList(this._pickerMoment,this.minDate)}nextEnabled(){return!this.maxDate||!this.isSameYearList(this._pickerMoment,this.maxDate)}handleCalendarKeydown(t){let i;switch(t.keyCode){case ze.UQ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(i);break;case ze.LE:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(i);break;case ze.i7:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case ze.n6:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow),this.pickerMomentChange.emit(i);break;case ze.yZ:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)),this.pickerMomentChange.emit(i);break;case ze.Kp:i=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,this.options.yearsPerRow*this.options.yearRows-this.dateTimeAdapter.getYear(this._pickerMoment)%(this.options.yearsPerRow*this.options.yearRows)-1),this.pickerMomentChange.emit(i);break;case ze.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*-10:this.options.yearsPerRow*this.options.yearRows*-1),this.pickerMomentChange.emit(i);break;case ze.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?this.options.yearsPerRow*this.options.yearRows*10:this.options.yearsPerRow*this.options.yearRows),this.pickerMomentChange.emit(i);break;case ze.Fm:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}createYearCell(t){const i=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.firstMonthOfTheYear,1),n=this.dateTimeAdapter.getYearName(i),r="owl-dt-year-"+t;return new Ba(t,t.toString(),n,this.isYearEnabled(t),!1,r)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.getYear(t):null))}isYearEnabled(t){if(null==t||this.maxDate&&t>this.dateTimeAdapter.getYear(this.maxDate)||this.minDate&&t<this.dateTimeAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let n=this.dateTimeAdapter.createDate(t,this.dateTimeAdapter.firstMonthOfTheYear,1);this.dateTimeAdapter.getYear(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}isSameYearList(t,i){return Math.floor(this.dateTimeAdapter.getYear(t)/(this.options.yearsPerRow*this.options.yearRows))===Math.floor(this.dateTimeAdapter.getYear(i)/(this.options.yearsPerRow*this.options.yearRows))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(qi),e.rXU(ni,8),e.rXU(Tn.multiYear))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-multi-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(ji,7),2&i){let r;e.mGM(r=e.lsd())&&(n.calendarBodyElm=r.first)}},hostVars:4,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)("owl-dt-calendar-multi-year-view",n.owlDTCalendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},standalone:!1,decls:14,vars:12,consts:[["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-table","owl-dt-calendar-multi-year-table"],[1,"owl-dt-calendar-header"],["colspan","3"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(i,n){1&i&&(e.j41(0,"button",0),e.bIt("click",function(o){return n.prevYearList(o)}),e.j41(1,"span",1),e.qSk(),e.j41(2,"svg",2),e.nrm(3,"path",3),e.k0s()()(),e.joV(),e.j41(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),e.EFF(8),e.k0s()()(),e.j41(9,"tbody",7),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()(),e.j41(10,"button",0),e.bIt("click",function(o){return n.nextYearList(o)}),e.j41(11,"span",1),e.qSk(),e.j41(12,"svg",8),e.nrm(13,"path",9),e.k0s()()()),2&i&&(e.Y8G("disabled",!n.previousEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(8),e.JRh(n.tableHeader),e.R7$(),e.Y8G("rows",n.years)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayYear)("selectedValues",n.selectedYears)("selectMode",n.selectMode),e.R7$(),e.Y8G("disabled",!n.nextEnabled()),e.BMQ("aria-label",n.nextButtonLabel))},dependencies:[ji],encapsulation:2,changeDetection:0})}}return a})(),Lu=(()=>{class a{get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=[];for(let i=0;i<t.length;i++){const n=this.dateTimeAdapter.deserialize(t[i]);this._selecteds.push(this.getValidDate(n))}this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),!this.hasSameYear(i,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&this.generateMonthList()}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this._selectMode="single",this._selecteds=[],this.localeSub=Yt.yU.EMPTY,this.initiated=!1,this.selectedMonths=[],this.change=new e.bkB,this.monthSelected=new e.bkB,this.pickerMomentChange=new e.bkB,this.keyboardEnter=new e.bkB,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){this.selectMonth(t.value)}selectMonth(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.monthSelected.emit(i);const n=this.dateTimeAdapter.getNumDaysInMonth(i),r=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(r)}handleCalendarKeydown(t){let i;switch(t.keyCode){case ze.UQ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case ze.LE:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case ze.i7:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(i);break;case ze.n6:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(i);break;case ze.yZ:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case ze.Kp:i=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case ze.w_:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?-10:-1),this.pickerMomentChange.emit(i);break;case ze.dB:i=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,t.altKey?10:1),this.pickerMomentChange.emit(i);break;case ze.Fm:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),t.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let t=0;t<4;t++){const i=[];for(let n=0;n<3;n++){const o=this.createMonthCell(n+3*t+this.dateTimeAdapter.firstMonthOfTheYear);i.push(o)}this._months.push(i)}}}createMonthCell(t){const i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1),n=this.dateTimeAdapter.format(i,this.dateTimeFormats.monthYearA11yLabel),r="owl-dt-month-"+t;return new Ba(t,this.monthNames[t-this.dateTimeAdapter.firstMonthOfTheYear],n,this.isMonthEnabled(t),!1,r)}isMonthEnabled(t){for(let n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),t,1);this.dateTimeAdapter.getMonth(n)===t;n=this.dateTimeAdapter.addCalendarDays(n,1))if(n&&(!this.dateFilter||this.dateFilter(n))&&(!this.minDate||this.dateTimeAdapter.compare(n,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(n,this.maxDate)<=0))return!0;return!1}getMonthInCurrentYear(t){if(this.getValidDate(t)&&this.getValidDate(this._pickerMoment)){const i=this.dateTimeAdapter.compareYear(t,this._pickerMoment);return i<0?-1:i>0?12:this.dateTimeAdapter.getMonth(t)}return null}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(t,i){return!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-year-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(ji,7),2&i){let r;e.mGM(r=e.lsd())&&(n.calendarBodyElm=r.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},exportAs:["owlMonthView"],standalone:!1,decls:5,vars:7,consts:[[1,"owl-dt-calendar-table","owl-dt-calendar-year-table"],[1,"owl-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"owl-dt-calendar-table-divider"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(i,n){1&i&&(e.j41(0,"table",0)(1,"thead",1)(2,"tr"),e.nrm(3,"th",2),e.k0s()(),e.j41(4,"tbody",3),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.R7$(4),e.Y8G("rows",n.months)("numCols",3)("cellRatio",3/7)("activeCell",n.activeCell)("todayValue",n.todayMonth)("selectedValues",n.selectedMonths)("selectMode",n.selectMode))},dependencies:[ji],encapsulation:2,changeDetection:0})}}return a})(),Yu=(()=>{class a{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){t>=0&&t<=6&&t!==this._firstDayOfWeek&&(this._firstDayOfWeek=t,this.isDefaultFirstDayOfWeek=!1,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(t){this._selectMode=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(t){const i=this._selected;t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t),this.dateTimeAdapter.isSameDay(i,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){const i=this._pickerMoment;t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(i,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateFilter(){return this._dateFilter}set dateFilter(t){this._dateFilter=t,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),this._minDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),this._maxDate=this.getValidDate(t),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get owlDTCalendarView(){return!0}constructor(t,i,n){this.cdRef=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this.hideOtherMonths=!1,this.showCalendarWeeks=!1,this.isDefaultFirstDayOfWeek=!0,this._selectMode="single",this._selecteds=[],this.localeSub=Yt.yU.EMPTY,this.initiated=!1,this.selectedDates=[],this.selectedChange=new e.bkB,this.userSelection=new e.bkB,this.pickerMomentChange=new e.bkB}ngOnInit(){this.updateFirstDayOfWeek(this.dateTimeAdapter.getLocale()),this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(t=>{this.updateFirstDayOfWeek(t),this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub.unsubscribe()}selectCalendarCell(t){!t.enabled||this.hideOtherMonths&&t.out||this.selectDate(t.value)}selectDate(t){const n=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t-1);this.selectedChange.emit(n),this.userSelection.emit()}handleCalendarKeydown(t){let i;switch(t.keyCode){case ze.UQ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case ze.LE:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case ze.i7:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(i);break;case ze.n6:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(i);break;case ze.yZ:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case ze.Kp:i=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(i);break;case ze.w_:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(i);break;case ze.dB:i=t.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(i);break;case ze.Fm:(!this.dateFilter||this.dateFilter(this.pickerMoment))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),t.preventDefault()}generateWeekDays(){const t=this.dateTimeAdapter.getDayOfWeekNames("long"),i=this.dateTimeAdapter.getDayOfWeekNames("short"),n=this.dateTimeAdapter.getDayOfWeekNames("narrow"),r=this.firstDayOfWeek,o=t.map((u,v)=>({long:u,short:i[v],narrow:n[v]}));this._weekdays=o.slice(r-this.dateTimeAdapter.firstDayOfTheWeek).concat(o.slice(0,r-this.dateTimeAdapter.firstDayOfTheWeek)),this.dateNames=this.dateTimeAdapter.getDateNames()}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=null,this.weekNumbers=[];let n=0-(this.dateTimeAdapter.getDay(this.firstDateOfMonth)+(7-this.firstDayOfWeek))%7;this.firstRowOffset=Math.abs(n),this._days=[];for(let r=0;r<6;r++){const o=[];for(let u=0;u<7;u++){const v=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,n),P=this.createDateCell(v,n);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),v)&&(this.todayDate=n+1),o.push(P),n+=1}if(this._days.push(o),this.showCalendarWeeks){const u=this.getISOWeek(new Date(o[0].ariaLabel));this.weekNumbers.push(u)}}this.setSelectedDates()}getISOWeek(t){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));i.setUTCDate(i.getUTCDate()+4-(i.getUTCDay()||7));const n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((+i-+n)/864e5+1)/7)}updateFirstDayOfWeek(t){if(this.isDefaultFirstDayOfWeek)try{this._firstDayOfWeek=(0,ne.yo)(t)}catch{this._firstDayOfWeek=0}}createDateCell(t,i){const n=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(t).toString(),u=this.dateTimeAdapter.format(t,this.dateTimeFormats.dateA11yLabel),v=this.isDateEnabled(t),P=i+1,G=P<1||P>n,ie="owl-dt-day-"+this.dateTimeAdapter.getDay(t);return new Ba(P,o,u,v,G,ie)}isDateEnabled(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this.dateTimeAdapter.compare(t,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(t,this.maxDate)<=0)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}isSameMonth(t,i){return!!(t&&i&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.isValid(i)&&this.dateTimeAdapter.getYear(t)===this.dateTimeAdapter.getYear(i)&&this.dateTimeAdapter.getMonth(t)===this.dateTimeAdapter.getMonth(i))}setSelectedDates(){if(this.selectedDates=[],this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){const t=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth);return void(this.selectedDates[0]=t+1)}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(t=>this.dateTimeAdapter.isValid(t)?this.dateTimeAdapter.differenceInCalendarDays(t,this.firstDateOfMonth)+1:null))}}focusActiveCell(){this.calendarBodyElm.focusActiveCell()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-month-view"]],viewQuery:function(i,n){if(1&i&&e.GBs(ji,7),2&i){let r;e.mGM(r=e.lsd())&&(n.calendarBodyElm=r.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar-view",n.owlDTCalendarView)},inputs:{hideOtherMonths:"hideOtherMonths",showCalendarWeeks:"showCalendarWeeks",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",minDate:"minDate",maxDate:"maxDate"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},exportAs:["owlYearView"],standalone:!1,decls:8,vars:15,consts:[["class","week-number",4,"ngIf"],[1,"owl-dt-calendar-table","owl-dt-calendar-month-table",3,"ngClass"],[1,"owl-dt-calendar-header"],[1,"owl-dt-weekdays"],["class","owl-dt-weekday","scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"owl-dt-calendar-table-divider",3,"ngClass"],["owl-date-time-calendar-body","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"],[1,"week-number"],[4,"ngFor","ngForOf"],["scope","col",1,"owl-dt-weekday"]],template:function(i,n){1&i&&(e.DNE(0,mu,2,1,"ul",0),e.j41(1,"table",1)(2,"thead",2)(3,"tr",3),e.DNE(4,fu,3,2,"th",4),e.k0s(),e.j41(5,"tr"),e.nrm(6,"th",5),e.k0s()(),e.j41(7,"tbody",6),e.bIt("keydown",function(o){return n.handleCalendarKeydown(o)})("select",function(o){return n.selectCalendarCell(o)}),e.k0s()()),2&i&&(e.Y8G("ngIf",n.showCalendarWeeks),e.R7$(),e.AVh("owl-dt-calendar-only-current-month",n.hideOtherMonths),e.Y8G("ngClass",e.eq3(11,As,n.showCalendarWeeks)),e.R7$(3),e.Y8G("ngForOf",n.weekdays),e.R7$(2),e.Y8G("ngClass",e.eq3(13,As,n.showCalendarWeeks)),e.R7$(),e.Y8G("rows",n.days)("todayValue",n.todayDate)("selectedValues",n.selectedDates)("selectMode",n.selectMode)("activeCell",n.activeCell))},dependencies:[ne.YU,ne.Sq,ne.bT,ji],styles:[".week-number[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:46px 0 14px;padding:0;list-style:none;border-right:1px solid rgba(0,0,0,.12);width:8%;font-weight:700}.week-number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8em}"],changeDetection:0})}}return a})(),Ps=(()=>{class a{get minDate(){return this._minDate}set minDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._minDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get maxDate(){return this._maxDate}set maxDate(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._maxDate=t?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t)):null}get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(t){t=this.dateTimeAdapter.deserialize(t),this._selected=this.getValidDate(t)}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return this._currentView===Nt.MONTH?this.pickerIntl.prevMonthLabel:this._currentView===Nt.YEAR?this.pickerIntl.prevYearLabel:null}get nextButtonLabel(){return this._currentView===Nt.MONTH?this.pickerIntl.nextMonthLabel:this._currentView===Nt.YEAR?this.pickerIntl.nextYearLabel:null}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this.moveFocusOnNextTick=!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get showControlArrows(){return this._currentView!==Nt.MULTI_YEARS}get isMonthView(){return this._currentView===Nt.MONTH}get owlDTCalendarClass(){return!0}constructor(t,i,n,r,o,u){this.elmRef=t,this.pickerIntl=i,this.ngZone=n,this.cdRef=r,this.dateTimeAdapter=o,this.dateTimeFormats=u,this.DateView=Nt,this._selecteds=[],this.startView=Nt.MONTH,this.yearOnly=!1,this.showCalendarWeeks=!1,this.multiyearOnly=!1,this.pickerMomentChange=new e.bkB,this.dateClicked=new e.bkB,this.selectedChange=new e.bkB,this.userSelection=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.intlChangesSub=Yt.yU.EMPTY,this.moveFocusOnNextTick=!1,this.dateFilterForViews=v=>!!v&&(!this.dateFilter||this.dateFilter(v))&&(!this.minDate||this.dateTimeAdapter.compare(v,this.minDate)>=0)&&(!this.maxDate||this.dateTimeAdapter.compare(v,this.maxDate)<=0),this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub.unsubscribe()}toggleViews(){let t=null;t=this._currentView===Nt.MONTH||this.multiyearOnly?Nt.MULTI_YEARS:this.yearOnly?this._currentView===Nt.YEAR?Nt.MULTI_YEARS:Nt.YEAR:Nt.MONTH,this.currentView=t}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(t){this.dateFilterForViews(t)&&(this.dateClicked.emit(t),this.selectedChange.emit(t))}goToDateInView(t,i){this.handlePickerMomentChange(t),!this.yearOnly&&!this.multiyearOnly||this.multiyearOnly&&i!==Nt.MONTH&&i!==Nt.YEAR||this.yearOnly&&i!==Nt.MONTH?this.currentView=i:this.dateSelected(t)}handlePickerMomentChange(t){this.pickerMoment=this.dateTimeAdapter.clampDate(t,this.minDate,this.maxDate),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.minDate||!this.isSameView(this.pickerMoment,this.minDate)}nextButtonEnabled(){return!this.maxDate||!this.isSameView(this.pickerMoment,this.maxDate)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,bt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.querySelector(".owl-dt-calendar-cell-active").focus()})})}selectYearInMultiYearView(t){this.yearSelected.emit(t)}selectMonthInYearView(t){this.monthSelected.emit(t)}isSameView(t,i){return this._currentView===Nt.MONTH?!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i)||this.dateTimeAdapter.getMonth(t)!==this.dateTimeAdapter.getMonth(i)):this._currentView===Nt.YEAR&&!(!t||!i||this.dateTimeAdapter.getYear(t)!==this.dateTimeAdapter.getYear(i))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(qi),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-calendar"]],hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-calendar",n.owlDTCalendarClass)},inputs:{minDate:"minDate",maxDate:"maxDate",pickerMoment:"pickerMoment",selected:"selected",selecteds:"selecteds",dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",startView:"startView",yearOnly:"yearOnly",showCalendarWeeks:"showCalendarWeeks",multiyearOnly:"multiyearOnly",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",dateClicked:"dateClicked",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},exportAs:["owlDateTimeCalendar"],standalone:!1,decls:21,vars:16,consts:[[1,"owl-dt-calendar-control"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"owl-dt-calendar-control-content"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-control-period-button",3,"click"],[1,"owl-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d","M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                    C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"owl-dt-calendar-main",3,"ngSwitch"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change",4,"ngSwitchCase"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","minDate","showCalendarWeeks","maxDate","dateFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return n.previousClicked()}),e.j41(2,"span",2),e.qSk(),e.j41(3,"svg",3),e.nrm(4,"path",4),e.k0s()()(),e.joV(),e.j41(5,"div",5)(6,"button",6),e.bIt("click",function(){return n.toggleViews()}),e.j41(7,"span",2),e.EFF(8),e.j41(9,"span",7),e.qSk(),e.j41(10,"svg",8)(11,"g"),e.nrm(12,"path",9),e.k0s()()()()()(),e.joV(),e.j41(13,"button",1),e.bIt("click",function(){return n.nextClicked()}),e.j41(14,"span",2),e.qSk(),e.j41(15,"svg",10),e.nrm(16,"path",11),e.k0s()()()(),e.joV(),e.j41(17,"div",12),e.DNE(18,gu,1,10,"owl-date-time-month-view",13)(19,_u,1,7,"owl-date-time-year-view",14)(20,vu,1,7,"owl-date-time-multi-year-view",15),e.k0s()),2&i&&(e.R7$(),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.prevButtonEnabled()),e.BMQ("aria-label",n.prevButtonLabel),e.R7$(5),e.BMQ("aria-label",n.periodButtonLabel),e.R7$(2),e.SpI(" ",n.periodButtonText," "),e.R7$(),e.xc7("transform","rotate("+(n.isMonthView?0:180)+"deg)"),e.R7$(4),e.xc7("visibility",n.showControlArrows?"visible":"hidden"),e.Y8G("disabled",!n.nextButtonEnabled()),e.BMQ("aria-label",n.nextButtonLabel),e.R7$(4),e.Y8G("ngSwitch",n.currentView),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MONTH),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.YEAR),e.R7$(),e.Y8G("ngSwitchCase",n.DateView.MULTI_YEARS))},dependencies:[ne.ux,ne.e1,Jt.vR,Pu,Lu,Yu],encapsulation:2,changeDetection:0})}}return a})(),Nu=(()=>{class a{get displayValue(){if(this.hasFocus)return this.valueInput.nativeElement.value;const t=this.boxValue||this.value;return null===t||isNaN(t)?"":t<10?"0"+t.toString():t.toString()}get owlDTTimerBoxClass(){return!0}constructor(){this.showDivider=!1,this.step=1,this.valueChange=new e.bkB,this.inputChange=new e.bkB,this.inputStream=new Q.B,this.inputStreamSub=Yt.yU.EMPTY,this.hasFocus=!1,this.onValueInputMouseWheelBind=this.onValueInputMouseWheel.bind(this)}ngOnInit(){this.inputStreamSub=this.inputStream.pipe((0,lu.B)(750)).subscribe(t=>{if(t){const i=(0,Tt.OE)(t,0);this.updateValueViaInput(i)}}),this.bindValueInputMouseWheel()}ngOnDestroy(){this.unbindValueInputMouseWheel(),this.inputStreamSub.unsubscribe()}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(t){this.inputStream.next(t)}focusIn(){this.hasFocus=!0}focusOut(t){if(this.hasFocus=!1,t){const i=(0,Tt.OE)(t,0);this.updateValueViaInput(i)}}updateValue(t){this.valueChange.emit(t)}updateValueViaInput(t){t>this.max||t<this.min||this.inputChange.emit(t)}onValueInputMouseWheel(t){const i=(t=t||window.event).wheelDelta||-t.deltaY||-t.detail;i>0?this.upBtnDisabled||this.upBtnClicked():i<0&&(this.downBtnDisabled||this.downBtnClicked()),t.preventDefault?t.preventDefault():t.returnValue=!1}bindValueInputMouseWheel(){this.valueInput.nativeElement.addEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}unbindValueInputMouseWheel(){this.valueInput.nativeElement.removeEventListener("onwheel"in document?"wheel":"mousewheel",this.onValueInputMouseWheelBind)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer-box"]],viewQuery:function(i,n){if(1&i&&e.GBs(yu,7),2&i){let r;e.mGM(r=e.lsd())&&(n.valueInput=r.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-timer-box",n.owlDTTimerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},exportAs:["owlDateTimeTimerBox"],standalone:!1,decls:14,vars:7,consts:[["valueInput",""],["class","owl-dt-timer-divider","aria-hidden","true",4,"ngIf"],["type","button","tabindex","-1",1,"owl-dt-control-button","owl-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"owl-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d","M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0\n                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4\n                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"],[1,"owl-dt-timer-content"],["maxlength","2",1,"owl-dt-timer-input",3,"keydown.arrowup","keydown.arrowdown","input","focusin","focusout","value"],[1,"owl-hidden-accessible"],["d","M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"],["aria-hidden","true",1,"owl-dt-timer-divider"]],template:function(i,n){if(1&i){const r=e.RV6();e.DNE(0,bu,1,0,"div",1),e.j41(1,"button",2),e.bIt("click",function(){return e.eBV(r),e.Njj(n.upBtnClicked())}),e.j41(2,"span",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s()()(),e.joV(),e.j41(5,"label",6)(6,"input",7,0),e.bIt("keydown.arrowup",function(){return e.eBV(r),e.Njj(!n.upBtnDisabled&&n.upBtnClicked())})("keydown.arrowdown",function(){return e.eBV(r),e.Njj(!n.downBtnDisabled&&n.downBtnClicked())})("input",function(){e.eBV(r);const u=e.sdS(7);return e.Njj(n.handleInputChange(u.value))})("focusin",function(){return e.eBV(r),e.Njj(n.focusIn())})("focusout",function(){e.eBV(r);const u=e.sdS(7);return e.Njj(n.focusOut(u.value))}),e.k0s(),e.j41(8,"span",8),e.EFF(9),e.k0s()(),e.j41(10,"button",2),e.bIt("click",function(){return e.eBV(r),e.Njj(n.downBtnClicked())}),e.j41(11,"span",3),e.qSk(),e.j41(12,"svg",4),e.nrm(13,"path",9),e.k0s()()()}2&i&&(e.Y8G("ngIf",n.showDivider),e.R7$(),e.Y8G("disabled",n.upBtnDisabled),e.BMQ("aria-label",n.upBtnAriaLabel),e.R7$(5),e.Y8G("value",n.displayValue),e.R7$(3),e.JRh(n.inputLabel),e.R7$(),e.Y8G("disabled",n.downBtnDisabled),e.BMQ("aria-label",n.downBtnAriaLabel))},dependencies:[ne.bT],encapsulation:2,changeDetection:0})}}return a})(),Rs=(()=>{class a{get pickerMoment(){return this._pickerMoment}set pickerMoment(t){t=this.dateTimeAdapter.deserialize(t),this._pickerMoment=this.getValidDate(t)||this.dateTimeAdapter.now()}get minDateTime(){return this._minDateTime}set minDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._minDateTime=this.getValidDate(t)}get maxDateTime(){return this._maxDateTime}set maxDateTime(t){t=this.dateTimeAdapter.deserialize(t),this._maxDateTime=this.getValidDate(t)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let t=this.hourValue;return this.hour12Timer&&(0===t?(t=12,this.isPM=!1):t>0&&t<12?this.isPM=!1:12===t?this.isPM=!0:t>12&&t<24&&(t-=12,this.isPM=!0)),t}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get owlDTTimerClass(){return!0}get owlDTTimeTabIndex(){return-1}constructor(t,i,n,r,o){this.ngZone=t,this.elmRef=i,this.pickerIntl=n,this.cdRef=r,this.dateTimeAdapter=o,this.isPM=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new e.bkB}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,bt.s)(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(t){this.hour12Timer&&this.isPM&&t>=1&&t<=11?t+=12:this.hour12Timer&&!this.isPM&&12===t&&(t=0),this.setHourValue(t)}setHourValue(t){const i=this.dateTimeAdapter.setHours(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMinuteValue(t){const i=this.dateTimeAdapter.setMinutes(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setSecondValue(t){const i=this.dateTimeAdapter.setSeconds(this.pickerMoment,t);this.selectedChange.emit(i),this.cdRef.markForCheck()}setMeridiem(t){this.isPM=!this.isPM;let i=this.hourValue;this.isPM?i+=12:i-=12,i>=0&&i<=23&&this.setHourValue(i),this.cdRef.markForCheck(),t.preventDefault()}upHourEnabled(){return!this.maxDateTime||this.compareHours(this.stepHour,this.maxDateTime)<1}downHourEnabled(){return!this.minDateTime||this.compareHours(-this.stepHour,this.minDateTime)>-1}upMinuteEnabled(){return!this.maxDateTime||this.compareMinutes(this.stepMinute,this.maxDateTime)<1}downMinuteEnabled(){return!this.minDateTime||this.compareMinutes(-this.stepMinute,this.minDateTime)>-1}upSecondEnabled(){return!this.maxDateTime||this.compareSeconds(this.stepSecond,this.maxDateTime)<1}downSecondEnabled(){return!this.minDateTime||this.compareSeconds(-this.stepSecond,this.minDateTime)>-1}compareHours(t,i){const n=this.dateTimeAdapter.getHours(this.pickerMoment)+t,r=this.dateTimeAdapter.setHours(this.pickerMoment,n);return this.dateTimeAdapter.compare(r,i)}compareMinutes(t,i){const n=this.dateTimeAdapter.getMinutes(this.pickerMoment)+t,r=this.dateTimeAdapter.setMinutes(this.pickerMoment,n);return this.dateTimeAdapter.compare(r,i)}compareSeconds(t,i){const n=this.dateTimeAdapter.getSeconds(this.pickerMoment)+t,r=this.dateTimeAdapter.setSeconds(this.pickerMoment,n);return this.dateTimeAdapter.compare(r,i)}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(qi),e.rXU(e.gRc),e.rXU(ni,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-timer"]],hostVars:3,hostBindings:function(i,n){2&i&&(e.BMQ("tabindex",n.owlDTTimeTabIndex),e.AVh("owl-dt-timer",n.owlDTTimerClass))},inputs:{pickerMoment:"pickerMoment",minDateTime:"minDateTime",maxDateTime:"maxDateTime",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},exportAs:["owlDateTimeTimer"],standalone:!1,decls:4,vars:22,consts:[[3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputLabel"],[3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel"],[3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputLabel","inputChange","valueChange",4,"ngIf"],["class","owl-dt-timer-hour12",4,"ngIf"],[1,"owl-dt-timer-hour12"],["type","button","tabindex","0",1,"owl-dt-control-button","owl-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"owl-date-time-timer-box",0),e.bIt("inputChange",function(o){return n.setHourValueViaInput(o)})("valueChange",function(o){return n.setHourValue(o)}),e.k0s(),e.j41(1,"owl-date-time-timer-box",1),e.bIt("inputChange",function(o){return n.setMinuteValue(o)})("valueChange",function(o){return n.setMinuteValue(o)}),e.k0s(),e.DNE(2,Cu,1,10,"owl-date-time-timer-box",2)(3,wu,4,1,"div",3)),2&i&&(e.Y8G("upBtnAriaLabel",n.upHourButtonLabel)("downBtnAriaLabel",n.downHourButtonLabel)("upBtnDisabled",!n.upHourEnabled())("downBtnDisabled",!n.downHourEnabled())("boxValue",n.hourBoxValue)("value",n.hourValue)("min",0)("max",23)("step",n.stepHour)("inputLabel","Hour"),e.R7$(),e.Y8G("showDivider",!0)("upBtnAriaLabel",n.upMinuteButtonLabel)("downBtnAriaLabel",n.downMinuteButtonLabel)("upBtnDisabled",!n.upMinuteEnabled())("downBtnDisabled",!n.downMinuteEnabled())("value",n.minuteValue)("min",0)("max",59)("step",n.stepMinute)("inputLabel","Minute"),e.R7$(),e.Y8G("ngIf",n.showSecondsTimer),e.R7$(),e.Y8G("ngIf",n.hour12Timer))},dependencies:[ne.bT,Nu],encapsulation:2,changeDetection:0})}}return a})();const Ls={transformPicker:(0,it.hZ)("transformPicker",[(0,it.wk)("void",(0,it.iF)({opacity:0,transform:"scale(1, 0)"})),(0,it.wk)("enter",(0,it.iF)({opacity:1,transform:"scale(1, 1)"})),(0,it.kY)("void => enter",(0,it.Os)([(0,it.P)("@fadeInPicker",(0,it.MA)(),{optional:!0}),(0,it.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),(0,it.kY)("enter => void",(0,it.i0)("100ms linear",(0,it.iF)({opacity:0})))]),fadeInPicker:(0,it.hZ)("fadeInPicker",[(0,it.wk)("enter",(0,it.iF)({opacity:1})),(0,it.wk)("void",(0,it.iF)({opacity:0})),(0,it.kY)("void => enter",(0,it.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let xn=(()=>{class a{get hidePickerStream(){return this.hidePicker$.asObservable()}get confirmSelectedStream(){return this.confirmSelected$.asObservable()}get beforePickerOpenedStream(){return this.beforePickerOpened$.asObservable()}get pickerOpenedStream(){return this.pickerOpened$.asObservable()}get pickerMoment(){return this._clamPickerMoment}set pickerMoment(t){t&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(t,this.picker.minDateTime,this.picker.maxDateTime)),this.cdRef.markForCheck()}get pickerType(){return this.picker.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){const t=this.picker.selecteds[0];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get toFormattedValue(){const t=this.picker.selecteds[1];return t?this.dateTimeAdapter.format(t,this.picker.formatString):""}get showControlButtons(){return"dialog"===this.picker.pickerMode||"calendar"!==this.picker.pickerType&&"inline"!==this.picker.pickerMode}get containerElm(){return this.elmRef.nativeElement}get owlDTContainerClass(){return!0}get owlDTPopupContainerClass(){return"popup"===this.picker.pickerMode}get owlDTDialogContainerClass(){return"dialog"===this.picker.pickerMode}get owlDTInlineContainerClass(){return"inline"===this.picker.pickerMode}get owlDTContainerDisabledClass(){return this.picker.disabled}get owlDTContainerId(){return this.picker.id}get owlDTContainerAnimation(){return"inline"===this.picker.pickerMode?"":"enter"}constructor(t,i,n,r){this.cdRef=t,this.elmRef=i,this.pickerIntl=n,this.dateTimeAdapter=r,this.activeSelectedIndex=0,this.hidePicker$=new Q.B,this.confirmSelected$=new Q.B,this.beforePickerOpened$=new Q.B,this.pickerOpened$=new Q.B}ngOnInit(){"range"===this.picker.selectMode&&(this.picker.selecteds[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(this.picker.selecteds[0])),this.picker.selecteds[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(this.picker.selecteds[1])))}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationStart(t){"enter"===t.toState&&this.beforePickerOpened$.next(null)}handleContainerAnimationDone(t){"enter"===t.toState&&this.pickerOpened$.next(null)}dateSelected(t){let i;if(this.picker.isInSingleMode)return i=this.dateSelectedInSingleMode(t),void(i?(this.pickerMoment=i,this.picker.select(i)):"calendar"===this.pickerType&&this.hidePicker$.next(null));this.picker.isInRangeMode&&(i=this.dateSelectedInRangeMode(t),i&&(this.pickerMoment=i[this.activeSelectedIndex],this.picker.select(i)))}timeSelected(t){if(this.pickerMoment=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode)return void this.picker.select(this.pickerMoment);if(this.picker.isInRangeMode){const i=[...this.picker.selecteds];0===this.activeSelectedIndex&&i[1]&&1===this.dateTimeAdapter.compare(this.pickerMoment,i[1])||1===this.activeSelectedIndex&&i[0]&&-1===this.dateTimeAdapter.compare(this.pickerMoment,i[0])?(i[0]=this.pickerMoment,i[1]=this.pickerMoment):i[this.activeSelectedIndex]=this.pickerMoment,i[0]&&(this.retainStartTime=this.dateTimeAdapter.clone(i[0])),i[1]&&(this.retainEndTime=this.dateTimeAdapter.clone(i[1])),this.picker.select(i)}}}onCancelClicked(t){this.hidePicker$.next(null),t.preventDefault()}onSetClicked(t){if(!this.picker.dateTimeChecker(this.pickerMoment))return this.hidePicker$.next(null),void t.preventDefault();this.confirmSelected$.next(t),t.preventDefault()}handleClickOnInfoGroup(t,i){this.setActiveSelectedIndex(i),t.preventDefault(),t.stopPropagation()}handleKeydownOnInfoGroup(t,i,n){switch(t.keyCode){case ze.n6:case ze.LE:case ze.i7:case ze.UQ:i.focus(),this.setActiveSelectedIndex(0===n?1:0),t.preventDefault(),t.stopPropagation();break;case ze.t6:this.setActiveSelectedIndex(n),t.preventDefault(),t.stopPropagation();break;default:return}}setActiveSelectedIndex(t){if("range"===this.picker.selectMode&&this.activeSelectedIndex!==t){this.activeSelectedIndex=t;const i=this.picker.selecteds[this.activeSelectedIndex];this.picker.selecteds&&i&&(this.pickerMoment=this.dateTimeAdapter.clone(i))}}initPicker(){this.pickerMoment=this.picker.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex="rangeTo"===this.picker.selectMode?1:0}dateSelectedInSingleMode(t){return this.dateTimeAdapter.isSameDay(t,this.picker.selected)?null:this.updateAndCheckCalendarDate(t)}dateSelectedInRangeMode(t){let i=this.picker.selecteds[0],n=this.picker.selecteds[1];const r=this.updateAndCheckCalendarDate(t);return r?("range"===this.picker.selectMode?this.picker.selecteds&&this.picker.selecteds.length&&!n&&i&&this.dateTimeAdapter.differenceInCalendarDays(r,i)>=0?(n=this.picker.endAt&&!this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.picker.endAt),this.dateTimeAdapter.getMinutes(this.picker.endAt),this.dateTimeAdapter.getSeconds(this.picker.endAt)):this.retainEndTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.retainEndTime),this.dateTimeAdapter.getMinutes(this.retainEndTime),this.dateTimeAdapter.getSeconds(this.retainEndTime)):r,this.activeSelectedIndex=1):(i=this.picker.startAt&&!this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.picker.startAt),this.dateTimeAdapter.getMinutes(this.picker.startAt),this.dateTimeAdapter.getSeconds(this.picker.startAt)):this.retainStartTime?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(r),this.dateTimeAdapter.getMonth(r),this.dateTimeAdapter.getDate(r),this.dateTimeAdapter.getHours(this.retainStartTime),this.dateTimeAdapter.getMinutes(this.retainStartTime),this.dateTimeAdapter.getSeconds(this.retainStartTime)):r,n=null,this.activeSelectedIndex=0):"rangeFrom"===this.picker.selectMode?(i=r,n&&this.dateTimeAdapter.compare(i,n)>0&&(n=null)):"rangeTo"===this.picker.selectMode&&(n=r,i&&this.dateTimeAdapter.compare(i,n)>0&&(i=null)),[i,n]):null}updateAndCheckCalendarDate(t){let i;return"both"===this.picker.pickerType?(i=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(t),this.dateTimeAdapter.getMonth(t),this.dateTimeAdapter.getDate(t),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),i=this.dateTimeAdapter.clampDate(i,this.picker.minDateTime,this.picker.maxDateTime)):i=this.dateTimeAdapter.clone(t),this.picker.dateTimeChecker(i)?i:null}focusPicker(){"inline"!==this.picker.pickerMode&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(qi),e.rXU(ni,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-container"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Ps,5),e.GBs(Rs,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.calendar=r.first),e.mGM(r=e.lsd())&&(n.timer=r.first)}},hostVars:12,hostBindings:function(i,n){1&i&&e.Kam("@transformPicker.start",function(o){return n.handleContainerAnimationStart(o)})("@transformPicker.done",function(o){return n.handleContainerAnimationDone(o)}),2&i&&(e.zvX("@transformPicker",n.owlDTContainerAnimation),e.BMQ("id",n.owlDTContainerId),e.AVh("owl-dt-container",n.owlDTContainerClass)("owl-dt-popup-container",n.owlDTPopupContainerClass)("owl-dt-dialog-container",n.owlDTDialogContainerClass)("owl-dt-inline-container",n.owlDTInlineContainerClass)("owl-dt-container-disabled",n.owlDTContainerDisabledClass))},exportAs:["owlDateTimeContainer"],standalone:!1,decls:5,vars:6,consts:[["from",""],["to",""],[1,"owl-dt-container-inner",3,"cdkTrapFocus"],["class","owl-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange",4,"ngIf"],["class","owl-dt-container-row",3,"pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange",4,"ngIf"],["role","radiogroup","class","owl-dt-container-info owl-dt-container-row",4,"ngIf"],["class","owl-dt-container-buttons owl-dt-container-row",4,"ngIf"],[1,"owl-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","dateClicked","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","minDate","maxDate","dateFilter","startView","yearOnly","showCalendarWeeks","multiyearOnly","hideOtherMonths"],[1,"owl-dt-container-row",3,"selectedChange","pickerMoment","minDateTime","maxDateTime","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"owl-dt-container-info","owl-dt-container-row"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-container-range-content"],[1,"owl-dt-container-info-label"],[1,"owl-dt-container-info-value"],["role","radio",1,"owl-dt-control","owl-dt-container-range","owl-dt-container-to",3,"click","keydown","tabindex","ngClass"],[1,"owl-dt-container-buttons","owl-dt-container-row"],["type","button","tabindex","0",1,"owl-dt-control","owl-dt-control-button","owl-dt-container-control-button",3,"click"],["tabindex","-1",1,"owl-dt-control-content","owl-dt-control-button-content"]],template:function(i,n){1&i&&(e.j41(0,"div",2),e.DNE(1,Mu,1,13,"owl-date-time-calendar",3)(2,ku,1,8,"owl-date-time-timer",4)(3,Du,15,14,"div",5)(4,Tu,7,2,"div",6),e.k0s()),2&i&&(e.Y8G("cdkTrapFocus","inline"!==n.picker.pickerMode)("@fadeInPicker","inline"===n.picker.pickerMode?"":"enter"),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"calendar"===n.pickerType),e.R7$(),e.Y8G("ngIf","both"===n.pickerType||"timer"===n.pickerType),e.R7$(),e.Y8G("ngIf",n.picker.isInRangeMode),e.R7$(),e.Y8G("ngIf",n.showControlButtons))},dependencies:[ne.YU,ne.bT,Jt.kB,Rs,Ps],encapsulation:2,data:{animation:[Ls.transformPicker,Ls.fadeInPicker]},changeDetection:0})}}return a})(),ju=0;class Bu{constructor(){this.ariaDescribedBy=null,this.autoFocus=!0,this.hasBackdrop=!0,this.data=null,this.disableClose=!1,this.role="dialog",this.paneClass="",this.event=null,this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new $t.t0,this.id="owl-dialog-"+ju++}}class Vs{constructor(s,t,i,n){this.overlayRef=s,this.container=t,this.id=i,this._beforeClose$=new Q.B,this._beforeOpen$=new Q.B,this._afterOpen$=new Q.B,this._afterClosed$=new Q.B,this.locationChanged=Yt.yU.EMPTY,this.disableClose=!0,this.disableClose=this.container.config.disableClose,this.container.animationStateChanged.pipe((0,St.p)(r=>"start"===r.phaseName&&"enter"===r.toState),(0,bt.s)(1)).subscribe(()=>{this._beforeOpen$.next(null),this._beforeOpen$.complete()}),this.container.animationStateChanged.pipe((0,St.p)(r=>"done"===r.phaseName&&"enter"===r.toState),(0,bt.s)(1)).subscribe(()=>{this._afterOpen$.next(null),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe((0,St.p)(r=>"done"===r.phaseName&&"exit"===r.toState),(0,bt.s)(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged.unsubscribe(),this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=null}),this.overlayRef.keydownEvents().pipe((0,St.p)(r=>r.keyCode===ze._f&&!this.disableClose)).subscribe(()=>this.close()),n&&(this.locationChanged=n.subscribe(()=>{this.container.config.closeOnNavigation&&this.close()}))}close(s){this.result=s,this.container.animationStateChanged.pipe((0,St.p)(t=>"start"===t.phaseName),(0,bt.s)(1)).subscribe(()=>{this._beforeClose$.next(s),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(s){const t=this.getPositionStrategy();return s&&(s.left||s.right)?s.left?t.left(s.left):t.right(s.right):t.centerHorizontally(),s&&(s.top||s.bottom)?s.top?t.top(s.top):t.bottom(s.bottom):t.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(s="auto",t="auto"){return this.getPositionStrategy().width(s).height(t),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}beforeOpen(){return this._beforeOpen$.asObservable()}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}}const zu={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},Hu={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"};let Ys=(()=>{class a extends ii.lb{get config(){return this._config}get owlDialogContainerClass(){return!0}get owlDialogContainerTabIndex(){return-1}get owlDialogContainerId(){return this._config.id}get owlDialogContainerRole(){return this._config.role||null}get owlDialogContainerAriaLabelledby(){return this.ariaLabelledBy}get owlDialogContainerAriaDescribedby(){return this._config.ariaDescribedBy||null}get owlDialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(t,i,n,r){super(),this.changeDetector=t,this.elementRef=i,this.focusTrapFactory=n,this.document=r,this.portalOutlet=null,this.ariaLabelledBy=null,this.animationStateChanged=new e.bkB,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0},this.elementFocusedBeforeDialogWasOpened=null}ngOnInit(){}attachComponentPortal(t){if(this.portalOutlet.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){throw new Error("Method not implemented.")}setConfig(t){this._config=t,t.event&&this.calculateZoomOrigin(event)}onAnimationStart(t){this.isAnimating=!0,this.animationStateChanged.emit(t)}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.animationStateChanged.emit(t),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(t){if(!t)return;const i=t.clientX,n=t.clientY,r=window.innerWidth/2,v=n-window.innerHeight/2,P=i/window.innerWidth,G=n/window.innerHeight;this.params.x=i-r+"px",this.params.y=`${v}px`,this.params.ox=100*P+"%",this.params.oy=100*G+"%",this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config.autoFocus&&this.focusTrap.focusInitialElementWhenReady()}restoreFocus(){const t=this.elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this.focusTrap&&this.focusTrap.destroy()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(Jt.GX),e.rXU(ne.qQ,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-dialog-container"]],viewQuery:function(i,n){if(1&i&&e.GBs(ii.I3,7),2&i){let r;e.mGM(r=e.lsd())&&(n.portalOutlet=r.first)}},hostVars:8,hostBindings:function(i,n){1&i&&e.Kam("@slideModal.start",function(o){return n.onAnimationStart(o)})("@slideModal.done",function(o){return n.onAnimationDone(o)}),2&i&&(e.zvX("@slideModal",n.owlDialogContainerAnimation),e.BMQ("tabindex",n.owlDialogContainerTabIndex)("id",n.owlDialogContainerId)("role",n.owlDialogContainerRole)("aria-labelledby",n.owlDialogContainerAriaLabelledby)("aria-describedby",n.owlDialogContainerAriaDescribedby),e.AVh("owl-dialog-container",n.owlDialogContainerClass))},standalone:!1,features:[e.Vt3],decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){1&i&&e.DNE(0,xu,0,0,"ng-template",0)},dependencies:[ii.I3],encapsulation:2,data:{animation:[(0,it.hZ)("slideModal",[(0,it.kY)("void => enter",[(0,it.iF)(Hu),(0,it.i0)("300ms cubic-bezier(0.35, 0, 0.25, 1)",(0,it.iF)("*")),(0,it.i0)("150ms",(0,it.i7)([(0,it.iF)({transform:"scale(1)",offset:0}),(0,it.iF)({transform:"scale(1.05)",offset:.3}),(0,it.iF)({transform:"scale(.95)",offset:.8}),(0,it.iF)({transform:"scale(1)",offset:1})])),(0,it.MA)()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),(0,it.kY)("enter => exit",[(0,it.MA)(),(0,it.i0)(200,(0,it.iF)(zu))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return a})();const $u=new e.nKC("OwlDialogData"),Ns=new e.nKC("owl-dialog-scroll-strategy"),Wu={provide:Ns,deps:[$t.hJ],useFactory:function Uu(a){return()=>a.scrollStrategies.block()}},Xu=new e.nKC("owl-dialog-default-options");let js=(()=>{class a{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get beforeOpen(){return this.parentDialog?this.parentDialog.beforeOpen:this._beforeOpenAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const t=this.parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(t,i,n,r,o,u,v){this.overlay=t,this.injector=i,this.location=n,this.defaultOptions=o,this.parentDialog=u,this.overlayContainer=v,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._beforeOpenAtThisLevel=new Q.B,this._afterOpenAtThisLevel=new Q.B,this._afterAllClosedAtThisLevel=new Q.B,this.afterAllClosed=(0,ou.v)(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:this._afterAllClosed.pipe((0,Ge.Z)(void 0))),this.scrollStrategy=r,!u&&n&&n.subscribe(()=>this.closeAll())}open(t,i){if(i=function Qu(a,s){return function Gu(a,...s){if(null==a)throw TypeError("Cannot convert undefined or null to object");for(const t of s)if(null!=t)for(const i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a}(new Bu,a,s)}(i,this.defaultOptions),i.id&&this.getDialogById(i.id))throw Error(`Dialog with id "${i.id}" exists already. The dialog id must be unique.`);const n=this.createOverlay(i),r=this.attachDialogContainer(n,i),o=this.attachDialogContent(t,r,n,i);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.beforeOpen.next(o),this.afterOpen.next(o),o}closeAll(){let t=this.openDialogs.length;for(;t--;)this.openDialogs[t].close()}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}attachDialogContent(t,i,n,r){const o=new Vs(n,i,r.id,this.location);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(t instanceof e.C4Q)){const u=this.createInjector(r,o,i),v=i.attachComponentPortal(new ii.A8(t,void 0,u));o.componentInstance=v.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}createInjector(t,i,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=new WeakMap;return o.set(Vs,i),o.set(Ys,n),o.set($u,t.data),new ii.JP(r||this.injector,o)}createOverlay(t){const i=this.getOverlayConfig(t);return this.overlay.create(i)}attachDialogContainer(t,i){const n=new ii.A8(Ys,i.viewContainerRef),r=t.attach(n);return r.instance.setConfig(i),r.instance}getOverlayConfig(t){const i=new $t.rR({positionStrategy:this.overlay.position().global(),scrollStrategy:t.scrollStrategy||this.scrollStrategy(),panelClass:t.paneClass,hasBackdrop:t.hasBackdrop,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}removeOpenDialog(t){const i=this._openDialogsAtThisLevel.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){const t=this.overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let n=i.length-1;n>-1;n--){const r=i[n];r!==t&&"SCRIPT"!==r.nodeName&&"STYLE"!==r.nodeName&&!r.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(i){return new(i||a)(e.KVO($t.hJ),e.KVO(e.zZn),e.KVO(ne.aZ,8),e.KVO(Ns),e.KVO(Xu,8),e.KVO(a,12),e.KVO($t.Sf))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Bs=new e.nKC("owl-dtpicker-scroll-strategy"),Ju={provide:Bs,deps:[$t.hJ],useFactory:function Ku(a){return()=>a.scrollStrategies.block()}};let Zu=(()=>{class a extends Fs{get startAt(){return this._startAt?this._startAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[0]||null:"rangeTo"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get endAt(){return this._endAt?this._endAt:this._dtInput?"single"===this._dtInput.selectMode?this._dtInput.value||null:"range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode?this._dtInput.values[1]||null:void 0:null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(t){this._pickerMode="popup"===t?t:"dialog"}get disabled(){return void 0===this._disabled&&this._dtInput?this._dtInput.disabled:!!this._disabled}set disabled(t){(t=(0,Tt.he)(t))!==this._disabled&&(this._disabled=t,this.disabledChange.next(t))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get minDateTime(){return this._dtInput&&this._dtInput.min}get maxDateTime(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput&&this._dtInput.dateTimeFilter}get selectMode(){return this._dtInput.selectMode}get isInSingleMode(){return this._dtInput.isInSingleMode}get isInRangeMode(){return this._dtInput.isInRangeMode}constructor(t,i,n,r,o,u,v,P,G){super(u,P),this.overlay=t,this.viewContainerRef=i,this.dialogService=n,this.ngZone=r,this.changeDetector=o,this.dateTimeAdapter=u,this.dateTimeFormats=P,this.document=G,this.backdropClass=[],this.panelClass=[],this._pickerType="both",this._pickerMode="popup",this._opened=!1,this.afterPickerClosed=new e.bkB,this.beforePickerOpen=new e.bkB,this.afterPickerOpen=new e.bkB,this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.dateSelected=new e.bkB,this.confirmSelectedChange=new e.bkB,this.disabledChange=new e.bkB,this.dtInputSub=Yt.yU.EMPTY,this.hidePickerStreamSub=Yt.yU.EMPTY,this.confirmSelectedStreamSub=Yt.yU.EMPTY,this.pickerOpenedStreamSub=Yt.yU.EMPTY,this.pickerBeforeOpenedStreamSub=Yt.yU.EMPTY,this.focusedElementBeforeOpen=null,this._selecteds=[],this.defaultScrollStrategy=v}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub.unsubscribe(),this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(t){if(this._dtInput)throw Error("A Owl DateTimePicker can only be associated with a single input.");this._dtInput=t,this.dtInputSub=this._dtInput.valueChange.subscribe(i=>{Array.isArray(i)?this.selecteds=i:this.selected=i})}open(){if(!this._opened&&!this.disabled){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&"calendar"!==this.pickerType&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),"dialog"===this.pickerMode?this.openAsDialog():this.openAsPopup(),this.pickerContainer.picker=this,this.hidePickerStreamSub=this.pickerContainer.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer.confirmSelectedStream.subscribe(t=>{this.confirmSelect(t)})}}select(t){Array.isArray(t)?this.selecteds=[...t]:this.selected=t,"dialog"!==this.pickerMode&&"calendar"===this.pickerType&&("single"===this.selectMode&&this.selected||"rangeFrom"===this.selectMode&&this.selecteds[0]||"rangeTo"===this.selectMode&&this.selecteds[1]||"range"===this.selectMode&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub&&(this.hidePickerStreamSub.unsubscribe(),this.hidePickerStreamSub=null),this.confirmSelectedStreamSub&&(this.confirmSelectedStreamSub.unsubscribe(),this.confirmSelectedStreamSub=null),this.pickerBeforeOpenedStreamSub&&(this.pickerBeforeOpenedStreamSub.unsubscribe(),this.pickerBeforeOpenedStreamSub=null),this.pickerOpenedStreamSub&&(this.pickerOpenedStreamSub.unsubscribe(),this.pickerOpenedStreamSub=null),this.dialogRef&&(this.dialogRef.close(),this.dialogRef=null);const t=()=>{this._opened&&(this._opened=!1,this.afterPickerClosed.emit(this.selected||this.selecteds),this.focusedElementBeforeOpen=null)};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(this.focusedElementBeforeOpen.focus(),setTimeout(t)):t()}confirmSelect(t){if(this.isInSingleMode){const i=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(i)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(xn,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...(0,Tt.FG)(this.backdropClass)],paneClass:["owl-dt-dialog",...(0,Tt.FG)(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.beforeOpen().subscribe(()=>{this.beforePickerOpen.emit(null)}),this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new ii.A8(xn,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef.hasAttached()){const t=this.popupRef.attach(this.pickerContainerPortal);this.pickerContainer=t.instance,this.ngZone.onStable.asObservable().pipe((0,bt.s)(1)).subscribe(()=>{this.popupRef.updatePosition()}),this.pickerBeforeOpenedStreamSub=this.pickerContainer.beforePickerOpenedStream.pipe((0,bt.s)(1)).subscribe(()=>{this.beforePickerOpen.emit(null)}),this.pickerOpenedStreamSub=this.pickerContainer.pickerOpenedStream.pipe((0,bt.s)(1)).subscribe(()=>{this.afterPickerOpen.emit(null),this._opened=!0})}}createPopup(){const t=new $t.rR({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...(0,Tt.FG)(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["owl-dt-popup",...(0,Tt.FG)(this.panelClass)]});this.popupRef=this.overlay.create(t),(0,Ai.h)(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe((0,St.p)(i=>i.keyCode===ze._f||this._dtInput&&i.altKey&&i.keyCode===ze.i7))).subscribe(()=>this.close())}createPopupPositionStrategy(){return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".owl-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(i){return new(i||a)(e.rXU($t.hJ),e.rXU(e.c1b),e.rXU(js),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(ni,8),e.rXU(Bs),e.rXU(Mi,8),e.rXU(ne.qQ,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",endAt:"endAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",beforePickerOpen:"beforePickerOpen",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},exportAs:["owlDateTime"],standalone:!1,features:[e.Vt3],decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0})}}return a})();const qu={provide:He.kq,useExisting:(0,e.Rfq)(()=>Ga),multi:!0},ep={provide:He.cz,useExisting:(0,e.Rfq)(()=>Ga),multi:!0};let Ga=(()=>{class a{get required(){return this._required}set required(t){this._required=""===t||t,this.validatorOnChange()}set owlDateTime(t){this.registerDateTimePicker(t)}set owlDateTimeFilter(t){this._dateTimeFilter=t,this.validatorOnChange()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return!!this._disabled}set disabled(t){const i=(0,Tt.he)(t),n=this.elmRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.disabledChange.emit(i)),i&&n.blur&&n.blur()}get min(){return this._min}set min(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}get max(){return this._max}set max(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.validatorOnChange()}get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),this.lastValueValid=!t||this.dateTimeAdapter.isValid(t),t=this.getValidDate(t);const i=this._value;this._value=t,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(i,t)||this.valueChange.emit(t)}get values(){return this._values}set values(t){t&&t.length>0?(this._values=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get owlDateTimeInputAriaHaspopup(){return!0}get owlDateTimeInputAriaOwns(){return this.dtPicker.opened&&this.dtPicker.id||null}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):null}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):null}get owlDateTimeInputDisabled(){return this.disabled}constructor(t,i,n,r){if(this.elmRef=t,this.renderer=i,this.dateTimeAdapter=n,this.dateTimeFormats=r,this._selectMode="single",this.rangeSeparator="-",this._values=[],this.dateTimeChange=new e.bkB,this.dateTimeInput=new e.bkB,this.dtPickerSub=Yt.yU.EMPTY,this.localeSub=Yt.yU.EMPTY,this.lastValueValid=!0,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.validatorOnChange=()=>{},this.parseValidator=()=>this.lastValueValid?null:{owlDateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{if(this.isInSingleMode){const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.min||!u||this.dateTimeAdapter.compare(this.min,u)<=0?null:{owlDateTimeMin:{min:this.min,actual:u}}}if(this.isInRangeMode&&o.value){const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),v=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.min||!u||!v||this.dateTimeAdapter.compare(this.min,u)<=0?null:{owlDateTimeMin:{min:this.min,actual:[u,v]}}}},this.maxValidator=o=>{if(this.isInSingleMode){const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.max||!u||this.dateTimeAdapter.compare(this.max,u)>=0?null:{owlDateTimeMax:{max:this.max,actual:u}}}if(this.isInRangeMode&&o.value){const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),v=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.max||!u||!v||this.dateTimeAdapter.compare(this.max,v)>=0?null:{owlDateTimeMax:{max:this.max,actual:[u,v]}}}},this.filterValidator=o=>{const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return this._dateTimeFilter&&u&&!this._dateTimeFilter(u)?{owlDateTimeFilter:!0}:null},this.rangeValidator=o=>{if(this.isInSingleMode||!o.value)return null;const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),v=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!u||!v||this.dateTimeAdapter.compare(u,v)<=0?null:{owlDateTimeRange:!0}},this.requiredRangeValidator=o=>{if(this.isInSingleMode||!o.value||!this.required)return null;const u=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),v=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return u&&v?null:{owlRequiredDateTimeRange:[u,v]}},this.validator=He.k0.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator,this.requiredRangeValidator]),this.valueChange=new e.bkB,this.disabledChange=new e.bkB,!this.dateTimeAdapter)throw Error("OwlDateTimePicker: No provider found for DateTimePicker. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");if(!this.dateTimeFormats)throw Error("OwlDateTimePicker: No provider found for OWL_DATE_TIME_FORMATS. You must import one of the following modules at your application root: OwlNativeDateTimeModule, OwlMomentDateTimeModule, or provide a custom implementation.");this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("OwlDateTimePicker: the picker input doesn't have any associated owl-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker.confirmSelectedChange.subscribe(t=>{Array.isArray(t)?this.values=t:this.value=t,this.onModelChange(t),this.onModelTouched(),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:t,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub.unsubscribe(),this.localeSub.unsubscribe(),this.valueChange.complete(),this.disabledChange.complete()}writeValue(t){this.isInSingleMode?this.value=t:this.values=t}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.validator?this.validator(t):null}registerOnValidatorChange(t){this.validatorOnChange=t}handleKeydownOnHost(t){t.altKey&&t.keyCode===ze.n6&&(this.dtPicker.open(),t.preventDefault())}handleBlurOnHost(t){this.onModelTouched()}handleInputOnHost(t){const i=t.target.value;"single"===this._selectMode?this.changeInputInSingleMode(i):"range"===this._selectMode?this.changeInputInRangeMode(i):this.changeInputInRangeFromToMode(i)}handleChangeOnHost(t){let i;this.isInSingleMode?i=this.value:this.isInRangeMode&&(i=this.values),this.dateTimeChange.emit({source:this,value:i,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){const t=this._values[0],i=this._values[1],n=t?this.dateTimeAdapter.format(t,this.dtPicker.formatString):"",r=i?this.dateTimeAdapter.format(i,this.dtPicker.formatString):"";n||r?"range"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n+" "+this.rangeSeparator+" "+r):"rangeFrom"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n):"rangeTo"===this._selectMode&&this.renderer.setProperty(this.elmRef.nativeElement,"value",r):this.renderer.setProperty(this.elmRef.nativeElement,"value",null)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(t){t&&(this.dtPicker=t,this.dtPicker.registerInput(this))}getValidDate(t){return this.dateTimeAdapter.isDateInstance(t)&&this.dateTimeAdapter.isValid(t)?t:null}convertTimeStringToDateTimeString(t,i){if(t){const n=i||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(n,this.dateTimeFormats.datePickerInput)+" "+t}return null}changeInputInSingleMode(t){let i=t;"timer"===this.dtPicker.pickerType&&(i=this.convertTimeStringToDateTimeString(i,this.value));let n=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),(!this.isSameValue(n,this._value)||null===n)&&(this._value=n,this.valueChange.emit(n),this.onModelChange(n),this.dateTimeInput.emit({source:this,value:n,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(t){"timer"===this.dtPicker.pickerType&&(t=this.convertTimeStringToDateTimeString(t,"rangeFrom"===this._selectMode?this._values[0]:this._values[1]));let n=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),!("rangeFrom"===this._selectMode&&this.isSameValue(n,this._values[0])&&n||"rangeTo"===this._selectMode&&this.isSameValue(n,this._values[1])&&n)&&(this._values="rangeFrom"===this._selectMode?[n,this._values[1]]:[this._values[0],n],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(t){const i=t.split(this.rangeSeparator);let n=i[0],r=i[1];"timer"===this.dtPicker.pickerType&&(n=this.convertTimeStringToDateTimeString(n,this.values[0]),r=this.convertTimeStringToDateTimeString(r,this.values[1]));let o=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput),u=this.dateTimeAdapter.parse(r,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!u||this.dateTimeAdapter.isValid(u)),o=this.getValidDate(o),u=this.getValidDate(u),(!this.isSameValue(o,this._values[0])||!this.isSameValue(u,this._values[1])||null===o&&null===u)&&(this._values=[o,u],this.valueChange.emit(this._values),this.onModelChange(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(t,i){return t&&i?0===this.dateTimeAdapter.compare(t,i):t===i}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["input","owlDateTime",""]],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("keydown",function(o){return n.handleKeydownOnHost(o)})("blur",function(o){return n.handleBlurOnHost(o)})("input",function(o){return n.handleInputOnHost(o)})("change",function(o){return n.handleChangeOnHost(o)}),2&i&&(e.Mr5("disabled",n.owlDateTimeInputDisabled),e.BMQ("aria-haspopup",n.owlDateTimeInputAriaHaspopup)("aria-owns",n.owlDateTimeInputAriaOwns)("min",n.minIso8601)("max",n.maxIso8601))},inputs:{required:"required",owlDateTime:"owlDateTime",owlDateTimeFilter:"owlDateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["owlDateTimeInput"],standalone:!1,features:[e.Jv_([qu,ep])]})}}return a})();const tp={provide:He.kq,useExisting:(0,e.Rfq)(()=>ip),multi:!0};let ip=(()=>{class a extends Fs{get pickerType(){return this._pickerType}set pickerType(t){t!==this._pickerType&&(this._pickerType=t)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=(0,Tt.he)(t)}get selectMode(){return this._selectMode}set selectMode(t){if("single"!==t&&"range"!==t&&"rangeFrom"!==t&&"rangeTo"!==t)throw Error("OwlDateTime Error: invalid selectMode value!");this._selectMode=t}get startAt(){return this._startAt?this._startAt:"single"===this.selectMode?this.value||null:"range"===this.selectMode||"rangeFrom"===this.selectMode?this.values[0]||null:"rangeTo"===this.selectMode&&this.values[1]||null}set startAt(t){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get endAt(){return this._endAt?this._endAt:"single"===this.selectMode?this.value||null:("range"===this.selectMode||"rangeFrom"===this.selectMode)&&this.values[1]||null}set endAt(t){this._endAt=this.getValidDate(this.dateTimeAdapter.deserialize(t))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(t){this._dateTimeFilter=t}get minDateTime(){return this._min||null}set minDateTime(t){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}get maxDateTime(){return this._max||null}set maxDateTime(t){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(t)),this.changeDetector.markForCheck()}get value(){return this._value}set value(t){t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),this._value=t,this.selected=t}get values(){return this._values}set values(t){t&&t.length>0?(t=t.map(i=>(i=this.dateTimeAdapter.deserialize(i),(i=this.getValidDate(i))?this.dateTimeAdapter.clone(i):null)),this._values=[...t],this.selecteds=[...t]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(t){this._selected=t,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(t){this._selecteds=t,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get owlDTInlineClass(){return!0}constructor(t,i,n){super(i,n),this.changeDetector=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this._pickerType="both",this._disabled=!1,this._selectMode="single",this._values=[],this.yearSelected=new e.bkB,this.monthSelected=new e.bkB,this.dateSelected=new e.bkB,this._selecteds=[],this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.container.picker=this}writeValue(t){this.isInSingleMode?(this.value=t,this.container.pickerMoment=t):(this.values=t,this.container.pickerMoment=this._values[this.container.activeSelectedIndex])}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}select(t){this.disabled||(Array.isArray(t)?this.values=[...t]:this.value=t,this.onModelChange(t),this.onModelTouched())}selectYear(t){this.yearSelected.emit(t)}selectMonth(t){this.monthSelected.emit(t)}selectDate(t){this.dateSelected.emit(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(ni,8),e.rXU(Mi,8))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["owl-date-time-inline"]],viewQuery:function(i,n){if(1&i&&e.GBs(xn,7),2&i){let r;e.mGM(r=e.lsd())&&(n.container=r.first)}},hostVars:2,hostBindings:function(i,n){2&i&&e.AVh("owl-dt-inline",n.owlDTInlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",endAt:"endAt",dateTimeFilter:[0,"owlDateTimeFilter","dateTimeFilter"],minDateTime:[0,"min","minDateTime"],maxDateTime:[0,"max","maxDateTime"],value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",dateSelected:"dateSelected"},standalone:!1,features:[e.Jv_([tp]),e.Vt3],decls:1,vars:0,template:function(i,n){1&i&&e.nrm(0,"owl-date-time-container")},dependencies:[xn],encapsulation:2,changeDetection:0})}}return a})(),np=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[Wu,js],imports:[ne.MD,Jt.Pd,$t.z_,ii.jc]})}}return a})(),ap=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[qi,Ju,...Fu],imports:[ne.MD,$t.z_,np,Jt.Pd]})}}return a})();!function rp(a,s){const t=Array(a);for(let i=0;i<a;i++)t[i]=s(i)}(31,a=>String(a+1));var si=m(9645),At=m.n(si),Hs=m(1444),sp=m.n(Hs),Gs=m(3066),op=m.n(Gs);si.extend(Gs),si.extend(Hs);const $a=new e.nKC("OWL_DAYJS_DATE_TIME_ADAPTER_OPTIONS",{providedIn:"root",factory:function lp(){return{useUtc:!1}}});function cp(a,s){const t=Array(a);for(let i=0;i<a;i++)t[i]=s(i);return t}let dp=(()=>{class a extends ni{constructor(t,i){super(),this.owlDateTimeLocale=t,this.options=i,this.setLocale(t||si().locale())}setLocale(t){super.setLocale(t);const i=si().locale(t).localeData();this._localeData={longMonths:i.months(),shortMonths:i.monthsShort(),longDaysOfWeek:i.weekdaysShort(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin(),dates:cp(31,n=>this.createDate(2017,0,n+1).format("D"))}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDay(t){return this.clone(t).day()}getDate(t){return this.clone(t).date()}getHours(t){return this.clone(t).hour()}getMinutes(t){return this.clone(t).minute()}getSeconds(t){return this.clone(t).second()}getTime(t){return this.clone(t).valueOf()}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}differenceInCalendarDays(t,i){return Math.ceil(t.startOf("day").diff(i.startOf("day"),"day",!0))}getYearName(t){return t.format("YYYY")}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getDateNames(){return this._localeData.dates}toIso8601(t){return this.clone(t).toISOString()}isEqual(t,i){return this.clone(t).isSame(this.clone(i))}isSameDay(t,i){return this.clone(t).isSame(this.clone(i),"day")}isValid(t){return this.clone(t).isValid()}invalid(){return si(NaN)}isDateInstance(t){return si.isDayjs(t)}deserialize(t){if("string"==typeof t){const i=si(t);return this.isValid(i)?i:this.invalid()}return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}addCalendarYears(t,i){return this.clone(t).add(i,"year")}addCalendarMonths(t,i){return this.clone(t).add(i,"month")}addCalendarDays(t,i){return this.clone(t).add(i,"day")}setHours(t,i){return this.clone(t).hour(i)}setMinutes(t,i){return this.clone(t).minute(i)}setSeconds(t,i){return this.clone(t).second(i)}createDate(t,i,n,r=0,o=0,u=0){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);if(r<0||r>23)throw Error(`Invalid hours "${r}". Hours has to be between 0 and 23.`);if(o<0||o>59)throw Error(`Invalid minutes "${o}". Minutes has to between 0 and 59.`);if(u<0||u>59)throw Error(`Invalid seconds "${u}". Seconds has to be between 0 and 59.`);let v=this.createDayjs(si());function P(G,ie,ce){return ce>=0?G.set(ie,ce):G}if(v=P(v,"year",t),v=P(v,"month",i),v=P(v,"date",n),v=P(v,"hour",r),v=P(v,"minute",o),v=P(v,"second",u),v=P(v,"milliseconds",0),v.locale(this.locale),!v.isValid())throw Error(`Invalid date "${n}" for month with index "${i}".`);return v}clone(t){return this.createDayjs(t).clone().locale(this.locale)}now(){return this.clone(si())}format(t,i){return this.clone(t).format(i)}parse(t,i){return si(t,i)}createDayjs(t){return si(null===t?null:t,{utc:this.options.useUtc})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(ja,8),e.KVO($a,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const up={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"};let pp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:ni,useClass:dp,deps:[ja,$a]}]})}}return a})(),hp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:Mi,useValue:up}],imports:[pp]})}}return a})();var mp=m(1102),$s=m.n(mp),fp=(m(9718),m(1810),m(6155),m(1118),m(6626),m(6058),m(3996),m(396),m(8214),m(1237),m(9791),m(3238),m(3821),m(3857),m(8403),m(1686),m(2467),m(1624),m(2121),m(3669),m(598),m(7426),m(6567),m(6886),m(7416),m(5416),m(53),m(4684),m(9193),m(623),m(5555),m(6361),m(116),m(3939),m(413),m(8224),m(9733),m(9869),m(8470),m(6344),m(4867),m(4826),m(5240),m(2725),m(6795),m(5593),m(9163),m(1)),gp=m.n(fp);const Ua=new e.nKC("MAT_DAYJS_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:()=>({useUtc:!0})});let Us=(()=>{class a extends re.MJ{constructor(t,i){super(),this.dateLocale=t,this._options=i,this.log=(0,p.Tq)({MatDayjsDateAdapter:a}),this.log.a("constructor",{this:this,shouldUseUtc:this.shouldUseUtc,dateLocale:t,_options:i}),this.shouldUseUtc&&At().extend($s()),At().extend(op()),At().extend(gp()),At().extend(sp()),this.setLocale(At()().locale())}setLocale(t){super.setLocale(t);const i=this.log.fn("setLocale",{locale:t});At().locale(t);const n=At()().locale(t).localeData();this.localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:At().months(),shortMonths:At().monthsShort(),dates:this.range(31,r=>this.createDate(2017,0,r+1).format("D")),longDaysOfWeek:this.range(7,r=>this.dayJs().set("day",r).format("dddd")),shortDaysOfWeek:At().weekdaysShort(),narrowDaysOfWeek:At().weekdaysMin()},i.r(this.localeData)}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this.localeData.longMonths:this.localeData.shortMonths}getDateNames(){return this.localeData.dates}getDayOfWeekNames(t){return"long"===t?this.localeData.longDaysOfWeek:"short"===t?this.localeData.shortDaysOfWeek:this.localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this.localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return this.dayJs(t).clone()}createDate(t,i,n){return this.dayJs().set("year",t).set("month",i).set("date",n).set("hour",0).set("minute",0).set("second",0).set("millisecond",0)}today(){return this.dayJs()}parse(t,i){const n="string"==typeof t,r=this.log.fn("parse",{value:t,parseFormat:i,valueIsString:n});if(t&&n){const o=At()().localeData().longDateFormat(i);let u=this.dayJs(t,o,this.locale,!0);if(u.isValid())return u;if(9===t.length){const v=o.replace("DD","D");if(u=this.dayJs(t,v,this.locale,!0),u.isValid())return u;const P=o.replace("MM","M");if(u=this.dayJs(t,P,this.locale,!0),u.isValid())return u}if(8===t.length){const v=o.replace(/[\W_]+/g,"");if(u=this.dayJs(t,v,this.locale,!0),u.isValid())return u;const P=o.replace("DD","D").replace("MM","M");if(u=this.dayJs(t,P,this.locale,!0),u.isValid())return u}if(t.length<6&&t.length>2){let v=new Array;if(-1!==t.indexOf("/")&&(v=t.split("/")),-1!==t.indexOf("-")&&(v=t.split("-")),-1!==t.indexOf(".")&&(v=t.split(".")),2===v.length){let P,G;if(o.startsWith("D")?(P=v[0],G=v[1]):v.length>1&&(G=v[0],P=v[1]),1===G.length&&(G=0+G),1===P.length&&(P=0+P),u=this.dayJs(P+G,"DDMM",this.locale,!0),u.isValid())return u}}return 2===t.length&&(u=this.dayJs(t,"DD",this.locale,!0),u.isValid())||1===t.length&&(u=this.dayJs(t,"D",this.locale,!0),u.isValid())?u:this.dayJs(null)}return r.r(t?this.dayJs(t).locale(this.locale):null)}parseTime(t,i){return At()(t,i,this.locale,!0)}getSeconds(t){return t.second()}addSeconds(t,i){return t.add(i,"second")}getMinutes(t){return t.minute()}getHours(t){return t.hour()}setTime(t,i,n,r){return t.set("hour",i).set("minute",n).set("second",r)}format(t,i){const n=this.log.fn("format",{date:t,displayFormat:i});if(!this.isValid(t))throw Error("DayjsDateAdapter: Cannot format invalid date.");return n.r(t.locale(this.locale).format(i))}addCalendarYears(t,i){return t.add(i,"year")}addCalendarMonths(t,i){return t.add(i,"month")}addCalendarDays(t,i){return t.add(i,"day")}toIso8601(t){return t.toISOString()}deserialize(t){let i;if(t instanceof Date)i=this.dayJs(t);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;i=this.dayJs(t)}return i&&this.isValid(i)?this.dayJs(i):super.deserialize(t)}isDateInstance(t){return At().isDayjs(t)}isValid(t){return this.clone(t).isValid()}invalid(){return this.dayJs(null)}dayJs(t,i,n,r){if(r=r||!1,!this.shouldUseUtc)return At()(t,i);if("string"==typeof t){const o=new Date(At()(t,i).toDate());return r&&o.setUTCHours(o.getUTCHours()-o.getTimezoneOffset()/60),o.getTimezoneOffset()>0?At()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).add(1,"day").utc():At()(new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()))).utc()}return At()(t,i).utc()}range(t,i){const n=Array(t);for(let r=0;r<t;r++)n[r]=i(r);return n}get shouldUseUtc(){const{useUtc:t}=this._options||{};return!!t}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(re.Ju,8),e.KVO(Ua,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Xs={monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"},vp={parse:{dateInput:"L",timeInput:"LT"},display:{dateInput:"L",timeInput:"LT",timeOptionLabel:"LT",...Xs}},yp={parseInput:"l LT",fullPickerInput:"l LT",datePickerInput:"l",timePickerInput:"LT",...Xs};let bp=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[{provide:re.de,useValue:vp},{provide:Ua,useValue:{useUtc:!0}},{provide:Mi,useValue:yp},{provide:$a,useValue:{useUtc:!0}},{provide:re.MJ,useClass:Us,deps:[re.Ju,Ua]}]})}}return a})();class Sn extends mt.S{constructor(){super({DateTimeDefaultLogic:Sn})}update({settings:s,tools:t}){return this.log.fn("update",{settings:s,tools:t}).r(s)}}mt.S.add(Sn);const Cp=["owlDateTimeInput"];function wp(a,s){if(1&a){const t=e.RV6();e.j41(0,"input",9,1),e.bIt("dateTimeChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.updateDateTime(n))}),e.k0s(),e.nrm(2,"owl-date-time",null,2)}if(2&a){const t=e.sdS(3),i=e.XpG();e.Y8G("disabled",i.ui().disabled)("owlDateTime",t)("required",i.basics().required)("value",i.dateTimeValue())("placeholder",i.basics().placeholder)}}function Mp(a,s){if(1&a){const t=e.RV6();e.qex(0,8),e.j41(1,"input",10),e.bIt("input",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.updateTime(n))}),e.k0s(),e.nrm(2,"mat-timepicker",11,3)(4,"mat-timepicker-toggle",12),e.bVm()}if(2&a){const t=e.sdS(3),i=e.XpG();e.R7$(),e.Y8G("disabled",i.ui().disabled)("required",i.basics().required)("matTimepicker",t)("value",i.dateTimeValue())("placeholder",i.basics().placeholder),e.R7$(),e.Y8G("options",i.timePickerOptions()),e.R7$(2),e.Y8G("disabled",i.ui().disabled)("for",t)}}const kp={all:!1,updateDate:!1,updateTime:!1,updateDateTime:!1,disabledEffect:!0,ngAfterViewInit:!0,workaroundSetDisabledForOwlDateTimePicker:!0};let Xa=class aa{constructor(t,i){this.translate=t,this.owlDayjsDateAdapter=i,this.log=(0,p.Yx)({DatetimeDefaultComponent:aa},kp),this.fieldState=(0,e.WQX)(Ve.W),this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.basics=this.fieldState.basics,this.useTimePicker=this.fieldState.settingExt("UseTimePicker"),this.owlDateTimeInput=(0,e.ebz)("owlDateTimeInput"),this.dateTimeValue=(0,e.EWP)(()=>At().utc(this.uiValue())),this.timePickerOptions=(0,e.EWP)(()=>{const r=At()().utc().hour(0).minute(0).second(0),o=[{label:"00:00 AM",value:r.hour(0)},{label:"06:00 AM",value:r.hour(6)},{label:"08:00 AM",value:r.hour(8)},{label:"10:00 AM",value:r.hour(10)},{label:"12:00 PM",value:r.hour(12)},{label:"06:00 PM",value:r.hour(18)}],u={label:this.dateTimeValue().format("HH:mm A"),value:At()().utc().hour(this.dateTimeValue().hour()).minute(this.dateTimeValue().minute()).second(0)};if(o.some(P=>P.value.hour()===u.value.hour()&&P.value.minute()===u.value.minute()))return o;const v=[...o,u];return v.sort((P,G)=>P.value.valueOf()-G.value.valueOf()),v}),this.matDayjsDateAdapter=(0,c.d)(Us),At().extend($s()),this.translate.currentLang=navigator.language;const n=this.translate.currentLang;At().locale(n),this.matDayjsDateAdapter.setLocale(n),this.owlDayjsDateAdapter.setLocale(n),Sn.importMe()}ngAfterViewInit(){const t=this.log.fnIf("ngAfterViewInit");this.timePickerRef&&this.timePickerRef.selected.subscribe(i=>{i&&this.updateFormattedValue(null,i.value)}),this.workaroundSetDisabledForOwlDateTimePicker(),t.end()}workaroundSetDisabledForOwlDateTimePicker(){const t=this.log.fnIf("workaroundSetDisabledForOwlDateTimePicker"),i=this.owlDateTimeInput();i?.nativeElement&&(i.nativeElement.disabled=this.ui().disabled),t.end(`Disabled: ${this.ui().disabled}`)}updateTime(t){this.log.aIf("updateTime",{event:t});const i=At()(t.target.value,"HH:mm");null!=i?i.isValid()&&this.updateFormattedValue(null,i):this.ui().setIfChanged(null)}updateDate(t){this.log.aIf("updateDate",{event:t});const i=t.value;null!=i?i.isValid()?this.updateFormattedValue(i,null):console.log("Invalid Date"):this.ui().setIfChanged(null)}updateDateTime(t){const i=t.value;this.log.aIf("updateDateTime",{event:t,dateTime:i}),null!=i?this.ui().setIfChanged(null!=i?i.utc(!0).toJSON():null):this.ui().setIfChanged(null)}updateFormattedValue(t,i){if(!t&&!i)return;let n=At()(this.uiValue()).isValid()?At()(this.uiValue()).utc():At()().utc().hour(0).minute(0).second(0);return t&&(n=n.year(t.year()).month(t.month()).date(t.date())),i&&(n=n.hour(i.hour()).minute(i.minute()).second(i.second())),this.useTimePicker()?this.ui().setIfChanged(n.toISOString()):this.ui().setIfChanged(n.utc().hour(0).toISOString()),n.toISOString()}static{this.\u0275fac=function(i){return new(i||aa)(e.rXU(O.c$),e.rXU(ni))}}static{this.\u0275cmp=e.VBU({type:aa,selectors:[["datetime-default"]],viewQuery:function(i,n){if(1&i&&(e.wEZ(n.owlDateTimeInput,Cp,5),e.GBs(Ya,5)),2&i){let r;e.NyB(),e.mGM(r=e.lsd())&&(n.timePickerRef=r.first)}},decls:10,vars:11,consts:[["datepicker",""],["owlDateTimeInput",""],["owlPicker",""],["timepicker",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"dateChange","disabled","required","matDatepicker","value","placeholder"],["xPosition","end"],["matSuffix","","tippyTranslate","Fields.DateTime.OpenCalender",3,"for"],["matSuffix",""],["matInput","",3,"dateTimeChange","disabled","owlDateTime","required","value","placeholder"],["matInput","",1,"hidden-picker-input",3,"input","disabled","required","matTimepicker","value","placeholder"],[3,"options"],["tippyTranslate","Fields.DateTime.OpenTime",3,"disabled","for"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"mat-form-field",4)(1,"mat-label"),e.EFF(2),e.k0s(),e.DNE(3,wp,4,5),e.j41(4,"input",5),e.bIt("dateChange",function(u){return e.eBV(r),e.Njj(n.updateDate(u))}),e.k0s(),e.nrm(5,"mat-datepicker",6,0)(7,"mat-datepicker-toggle",7),e.DNE(8,Mp,5,8,"ng-container",8),e.k0s(),e.nrm(9,"app-field-helper-text")}if(2&i){const r=e.sdS(6);e.R7$(2),e.JRh(n.basics().label),e.R7$(),e.vxM(n.useTimePicker()?3:-1),e.R7$(),e.AVh("hidden-picker-input",n.useTimePicker()),e.Y8G("disabled",n.ui().disabled)("required",n.basics().required)("matDatepicker",r)("value",n.dateTimeValue())("placeholder",n.basics().placeholder),e.R7$(3),e.Y8G("for",r),e.R7$(),e.vxM(n.useTimePicker()?8:-1)}},dependencies:[ct.RG,ct.rl,ct.nJ,ct.yw,He.YN,He.X1,Ut.fS,Ut.fg,ap,Ga,Zu,ti,hp,bp,Vt.e,Xd,jd,La,Ts,su,Ya,ru,Es],styles:["ngx-mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.hidden-picker-input[_ngcontent-%COMP%]{display:none}  .mat-timepicker-panel{--mat-option-selected-state-label-text-color: black;max-width:10rem!important;position:absolute!important;right:0!important}  .cdk-overlay-pane:has(.mat-timepicker-panel){position:relative!important}"],changeDetection:0})}};Xa=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[O.c$,ni])],Xa);let Dp=(()=>{class a{constructor(){}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["empty-default"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();function Tp(a,s){if(1&a&&(e.nrm(0,"div",0),e.nI1(1,"safeHtml")),2&a){const t=e.XpG();e.Y8G("innerHtml",e.bMT(1,1,t.basics().notes),e.npT)}}let Qa=class jr{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.basics=this.fieldState.basics}static{this.\u0275fac=function(t){return new(t||jr)}}static{this.\u0275cmp=e.VBU({type:jr,selectors:[["empty-message"]],decls:1,vars:1,consts:[[1,"message-box",3,"innerHtml"]],template:function(t,i){1&t&&e.DNE(0,Tp,2,3,"div",0),2&t&&e.vxM(i.basics().visible?0:-1)},dependencies:[Ri.$],styles:[".message-box[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]})}};Qa=(0,Ot.Cg)([ei({})],Qa);class In extends mt.S{constructor(){super({EntityContentBlocksLogic:In}),this.name=Je.u.EntityContentBlocks}update(s){const i=w.y.singleton().get(Je.u.EntityDefault).update(s);return i.EnableRemove=!0,i.AllowMultiValue=!0,i.EnableAddExisting=!1,i.EnableCreate=!1,i.EnableEdit=!1,i.Visible=!1,i.EntityType="ContentGroupReference",i.CreateTypes=i.EntityType,i}}mt.S.add(In);var Bi=m(1817),Ii=m(9999),en=m(6647),xp=m(4839);class Ks{stripHtml(s){if(!s)return"";if(!s.includes("<"))return s;const t=document.createElement("div");return t.innerHTML=s??"",t.innerText||""}}const Sp={all:!1,data2PickerItem:!1,getMasks:!1,patchMasks:!1,parseMasks:!1,buildMasks:!1};class En{constructor(s,t,i,n,r,o){this.name=s,this.settings=t,this.formConfig=n,this.log=(0,p.Tq)({DataSourceMasksHelper:En},Sp),this.#e=!1,this.#t=!1,this.#i=!1,this.#n=new Ks,this.log.forceEnable(o??r.enableChildren??!1),this.#e=i.allowUse[Bt.T.PickerUiMoreInfo](),this.#i=n.config.dialogContext.User?.IsSystemAdmin,this.log.a("constructor - settings",{settings:t,infoEnabled:this.#e})}#e;#t;#i;#n;#a;data2PickerItem({entity:s,streamName:t,valueMustUseGuid:i,valueDefaultsToGuid:n=!1}){const r=this.log.fnIf("data2PickerItem",{entity:s,streamName:t,valueMustUseGuid:i}),o=this.#s(),u=(()=>{if(i||n&&!o.value)return s.Guid;if(void 0===s[o.value])return s.Value;const ce=s[o.value];return void 0!==ce?`${ce}`:s.Guid})(),v=(()=>{const ce=s[o.label];return ce?`${ce}`:s.Title?`${s.Title}`:`${u}`})(),P=s[o.previewValue]||u;if(r.a("debug values",{masks:o,value:u,label:v,previewValue:P,hasPlaceholders:o.hasPlaceholders}),!o.hasPlaceholders)return r.r({id:s.Id,data:s,value:u,previewValue:P,label:v,tooltip:o.tooltip,info:o.info,link:o.link,sourceStreamName:t??null,rules:s.Rules},"no masks");const G=this.#r(o,s),ie=o.label.includes("[")?G.label:v;return r.r({id:s.Id,data:s,...G,value:u,label:ie,sourceStreamName:t??null,rules:s.Rules},"with masks")}#r(s,t){const i=this.log.fnIf("parseMasks",{masks:s,data:t});let n=s.label;!this.#t&&!this.#e&&`${s.tooltip}${s.info}${s.link}`.length>0&&(this.#i,this.#t=!0);const r=this.#e||this.#i;let o=r?s.tooltip:"",u=r?s.info:"",v=r?s.link:"",P=s.previewValue;return Object.keys(t).forEach(G=>{const ie=t[G]??"",ce=new RegExp(`\\[Item:${G}\\]`,"gi");if(P.includes("App:Path")){const Ze=this.formConfig.config.portalRoot.replace(/\/$/,"")+this.formConfig.config.appRoot;P=P.replace("[App:Path]",Ze)}o=o.replace(ce,ie),u=u.replace(ce,ie),v=v.replace(ce,ie),n=n.replace(ce,ie),P=P.replace(ce,ie)}),i.r({label:n,tooltip:o,info:u,link:v,previewValue:P},"result")}#s(){return this.#a||(this.#a=this.#o(),this.log.aIf("getMasks",{masks:this.#a})),this.#a}#o(){const s=this.settings,t=this.log.fnIf("buildMasks",{settings:s}),i=s.ItemTooltip?this.#n.stripHtml(s.ItemTooltip):"",n=s.ItemInformation?this.#n.stripHtml(s.ItemInformation):"",r=s.ItemLink??"",o=s.Label??"",u=s.Value??"",v=s.PreviewValue??"",G={hasPlaceholders:(i+n+r+o+v).includes("["),tooltip:i,info:n,link:r,label:o,value:u,previewValue:v};return t.r(G,"result")}}class Ka{constructor(){this.log=(0,p.Tq)({DataSourceMoreFieldsHelper:Ka})}fieldListToRetrieveFromServer(s){this.log.a("fieldListToRetrieveFromServer",{settings:s});const t=s.PickerTreeConfiguration,i=s;return[...["Title","Id","Guid",...i.MoreFields?.split(",")??[],i.Value,i.Label,t?.TreeChildIdField,t?.TreeParentIdField,t?.TreeChildParentRefField,t?.TreeParentChildRefField].map(G=>this.extractFieldNamesFromTokens(G,!0)).flat(),...[s.ItemTooltip,s.ItemInformation,s.ItemLink].map(G=>this.extractFieldNamesFromTokens(G,!1)).flat()].filter(Xt.a.distinct).join(",")}extractFieldNamesFromTokens(s,t=!0){this.log.a("extractFieldNamesFromTokens",{input:s,enableSimpleFields:t});const i=[];if(!(s?.trim().length>0))return i;const n=/\[Item:(\S.*?)\]/gi;let r;for(;null!==(r=n.exec(s));){const o=r[1].trim();o&&i.push(o)}return t&&0===i.length&&i.push(s),i}}const An={all:!1,constructor:!1,data:!1,triggerGetAll:!1,addToRefresh:!1,fields:[...U.z,"Categories"],newIconOptions:!1,fileLoadSettings:!1};let On=(()=>{class a extends Pe.V{constructor(){super(),this.fieldState=(0,e.WQX)(Ve.W),this.features=(0,e.WQX)(A.D),this.formConfig=(0,e.WQX)(S.S),this.fieldName=this.fieldState.name,this.loading=(0,oe.KX)("loading",!0),this.getAll$=new ui.t(!1),this.getAll=(0,oe.KX)("getAll",!1),this.guidsToRefresh=(0,oe.KX)("guidsToRefresh",[]),this.settings=this.fieldState.settings,this.noItemsLoadingFalse={data:[],loading:!1},this.noItemsLoadingTrue={data:[],loading:!0},this.fieldsHelper=new Ka,this.helpers=new Ks}constructorEnd(){this.log??=(0,p.Tq)({DataSourceBase:a}),this.log.aIf("constructor",{forField:this.fieldState.name})}setup(){return this}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}triggerGetAll(){this.log.fnIf("triggerGetAll"),this.getAll$.next(!0),this.getAll.set(!0)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t}),n=this.guidsToRefresh(),r=[...n,...t].filter(Xt.a.distinct);i.values({before:n,additionalGuids:t,merged:r}),this.guidsToRefresh.set(r),i.end()}createMaskHelper(t,i){return new En(this.fieldName,{...this.settings(),...t},this.features,this.formConfig,this.log,i)}fieldsToRetrieve(t){return this.fieldsHelper.fieldListToRetrieveFromServer(t)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Ja={...An,all:!0,initPrefetch:!1,getFromBackend:!1,addToRefresh:!1,loadMoreIntoSignal:!0,"loadMoreIntoSignal-data":!0};let Za=(()=>{class a extends On{constructor(){super(),this.querySvc=(0,c.d)(xp.c),this.#e=(0,oe.KX)("typeOrParams",null),this.#t=(0,Ne.br)(this.#e),this.#i=this.#t.pipe((0,Bi.F)()),this.#n=(0,Ne.ot)((0,Ii.z)([this.#i,this.getAll$.pipe((0,Bi.F)(),(0,St.p)(t=>!!t),(0,F.T)(t=>[]))]).pipe((0,en.n)(([t])=>this.getFromBackend(t,[],"getAll"))),{initialValue:this.noItemsLoadingFalse}),this.#a=(0,oe.KX)("prefetchNow",this.noItemsLoadingFalse),this.#r=(0,oe.KX)("modified",this.noItemsLoadingFalse),this.data=(0,oe.bo)("data",()=>{const t=this.#a().data,i=this.#n().data,n=this.#r().data,r=[...new Map([...t,...i,...n].map(o=>[o.value,o])).values()];return this.log.a("data",{prefetch:t,all:i,overrides:n,data:r}),r}),this.loading=(0,oe.bo)("loading",()=>this.#n().loading||this.#r().loading)}ngOnDestroy(){this.getAll$.complete(),super.ngOnDestroy()}#e;#t;#i;#n;#a;#r;initPrefetch(t){const i=this.log.fnIfInList("initPrefetch","fields",this.fieldName,{entityGuids:t}),n=t.filter(Xt.a.distinct);this.#s(this.#a,n,"initPrefetch"),i.end()}setParams(t){this.log.fnIfInList("setParams","fields",this.fieldName,{params:t}),this.#e.set(t)}addToRefresh(t){const i=this.log.fnIf("addToRefresh",{additionalGuids:t});this.#s(this.#r,t,"addToRefresh"),i.end()}#s(t,i,n){const r=this.#e(),o=this.log.fnIfInList("loadMoreIntoSignal","fields",this.fieldName,{additionalGuids:i,params:r,msgForLog:n});if(null==i||0===i.length)return o.end("no additional guids to load/refresh");t.update(u=>({data:u.data,loading:!0})),this.getFromBackend(r,i,n).subscribe(u=>{const v=this.log.fn("loadMoreIntoSignal-data",{additionalGuids:i,additions:u}),P=t();t.update(G=>({data:[...new Map([...G.data,...u.data].map(ie=>[ie.value,ie])).values()],loading:!1})),v.values({before:P,additions:u,merged:t().data})}),o.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Ip=(()=>{class a extends Za{constructor(){super(),this.log=(0,p.Tq)({DataSourceAppAssets:a},Ja),this.constructorEnd()}getFromBackend(t,i,n){const r=this.settings(),{AssetsRootFolder:o,AssetsFileFilter:u,AssetsType:v}=r,P=this.log.fnIf("getFromBackend",{settings:r},n),G=(v??"").toLocaleLowerCase(),ie="all"===G?"Default":"folders"===G?"Folders":"Files",ce=this.createMaskHelper({Value:r.Value||"FullName"}),Ae=this.querySvc.getFromQuery(`System.AppAssets/${ie}`,`rootFolder=${o}&filter=${u}`,"").pipe((0,F.T)(Ze=>({data:Ze[ie].map(rt=>ce.data2PickerItem({entity:rt,streamName:ie,valueMustUseGuid:!1})),loading:!1})));return P.r(Ae)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Js=(()=>{class a extends ue{constructor(){super(),this.log=(0,p.Tq)({DataAdapterAppAssets:a},R),this.dataSourceRaw=(0,c.d)(Ip)}fetchItems(){this.dataSource().triggerGetAll()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Ep=m(5800),Zs=/[\\^$.*+?()[\]{}|]/g,Ap=RegExp(Zs.source);const qs=function Op(a){return(a=(0,Ep.A)(a))&&Ap.test(a)?a.replace(Zs,"\\$&"):a};var qa=m(8729);const Fp={all:!0,findAllIconsInCss:!1};function eo(a,s){const i=(0,qa.T)({findAllIconsInCss:eo},Fp).fnIf("findAllIconsInCss",{cssSelector:a,showPrefix:s});if(!a)return[];const n=function Rp(a){if(!a)return new RegExp(Pp);if(a.includes("<"))return new RegExp(a,"g");const s=to(a,"[:{,]");return new RegExp(s,"g")}(a);console.warn(n);const r=function Vp(){return Array.from(document.styleSheets).map(Yp).filter(Boolean)}(),o=[],u={};for(const v of r){const P=Array.from(v).filter(G=>G.selectorText);for(const G of P){const ie=G.selectorText;n.lastIndex=0;const ce=n.exec(ie)?.groups;if(!ce)continue;console.log("regExed",ce.Value,ce.ValueRaw,ce.Title);const Ae=ce.ValueRaw;u[Ae]||(o.push({Id:null,Guid:null,Rule:G,...ce,Selector:ie}),u[Ae]=!0)}}return i.a("findAllIconsInCss",{classPrefix:a,showPrefix:s,foundList:o}),i.r(o)}const Pp="(?<ValueRaw>\\.(?<Value>(?<Title>[\\-a-zA-Z0-9]+)))[:,{}]";function to(a,s){return a?`${function Lp(a){if(!a)return"";const t=a.startsWith("."),i=t?a.substring(1):a,n=`(?<Value>${qs(i)}(?<Title>[\\-a-zA-Z0-9]+))`;return`(?<ValueRaw>${t?`${qs(".")}${n}`:n})`}(a)}${s}`:""}function Yp(a){if(!a)return null;try{return a.rules}catch{}try{return a.cssRules}catch{}return null}const Np={...An,data:!1,newIconOptions:!0,fileLoadSettings:!1,fields:[...An.fields,"*"]};let jp=(()=>{class a extends On{constructor(t){super(),this.scriptsLoaderService=t,this.log=(0,p.Tq)({DataSourceCss:a},Np),this.loading=(0,oe.KX)("loading",!1),this.#e=this.fieldState.settings,this.#t=(0,oe.KX)("iconOptions",[]),this.fileLoadSettings=(0,oe.bo)("fileLoadSettings",()=>(0,B.z)(this.#e(),n=>({CssSourceFile:n.CssSourceFile,CssSelectorFilter:n.CssSelectorFilter,PreviewValue:n.PreviewValue,Value:n.Value}))),this.#i=(()=>{const n=this.settings();return new En(this.fieldName,{...n,Label:n.Label||"Value"},this.features,this.formConfig,this.log)})(),this.data=(0,oe.bo)("data",()=>{const n=this.#t(),r=this.#i,o=this.log.fnIfInList("data","fields",this.fieldName,{options:n,maskHelper:r}),u=n.map(v=>{const P=r.data2PickerItem({entity:v,streamName:null,valueMustUseGuid:!1});return o.a("one item",{entity:v,pickerItem:P}),P});return o.r(u)}),this.constructorEnd(),this.log.fnIf("fileLoadSettings",this.fileLoadSettings());const i=this.fileLoadSettings();this.scriptsLoaderService.load(i.CssSourceFile.split("\n"),()=>{const n=eo(i.CssSelectorFilter,!1);this.log.fnIf("newIconOptions",{settings:i,newIconOptions:n}),this.#t.set(n)})}#e;#t;#i;static{this.\u0275fac=function(i){return new(i||a)(e.KVO(Ee))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),er=(()=>{class a extends ot{constructor(){super(),this.log=(0,p.Tq)({DataAdapterCss:a},ot.logSpecs),this.dataSourceRaw=(0,c.d)(jp),this.myFeatures=(0,oe.KX)("features",{edit:!1,create:!1,delete:!1}),this.log.fnIf("constructor")}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Bp=(()=>{class a extends On{constructor(){super(),this.log=(0,p.Tq)({DataSourceEmpty:a}),this.loading=(0,oe.KX)("loading",!1),this.#e=(0,oe.KX)("label","something is wrong - using DataSourceEmpty"),this.data=(0,oe.bo)("data",()=>[{value:"",label:this.#e()??"No options available",notSelectable:!0,isMessage:!0}]),this.constructorEnd()}#e;preSetup(t){return this.#e.set(t),this}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),io=(()=>{class a extends ot{constructor(){super(),this.log=(0,p.Tq)({DataAdapterEmpty:a},ot.logSpecs),this.dataSourceRaw=(0,c.d)(Bp),this.myFeatures=(0,oe.KX)("features",{edit:!1,create:!1,delete:!1})}connectState(t){return this.dataSourceRaw.preSetup("Error: configuration missing"),super.connectState(t)}setupEmpty(){const t=this.log.fnIf("setupEmpty");return this.dataSource.set(this.dataSourceRaw.preSetup("Error: configuration missing")),t.rSilent(this)}fetchItems(){this.log.a("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),zp=(()=>{class a extends Za{constructor(){super(),this.log=(0,p.Tq)({DataSourceEntity:a},Ja),this.constructorEnd()}getFromBackend(t,i,n){const r=this.fieldsToRetrieve(this.settings()),o=this.fieldState.config.inputTypeSpecs,u=o.mustUseGuid;var v=this.log.fnIf("getFromBackend",{typeName:t,guids:i,fields:r,inputType:o.inputType,valueMustUseGuid:u},n);const P=this.createMaskHelper(),G=this.querySvc.getEntities({contentTypes:[t],itemIds:i,fields:r,log:this.log.name}).pipe((0,F.T)(ie=>({data:ie.Default.map(Ae=>P.data2PickerItem({entity:Ae,streamName:null,valueMustUseGuid:u,valueDefaultsToGuid:!0})),loading:!1})));return v.r(G)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),zi=(()=>{class a extends ue{constructor(){super(),this.log=(0,p.Tq)({DataAdapterEntity:a},R),this.dataSourceRaw=(0,c.d)(zp)}syncParams(){this.dataSourceRaw.setParams(this.contentType())}fetchItems(){this.syncParams(),this.dataSource().triggerGetAll()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Hp=m(1573);let Gp=(()=>{class a extends Za{#e;constructor(){super(),this.log=(0,p.Tq)({DataSourceQuery:a},Ja),this.#e=(0,e.WQX)(O.c$),this.formState=(0,e.WQX)(S.S),this.#t=Number(this.formState.config.appId),this.#i=(0,oe.bo)("streamName",()=>this.settings().StreamName),this.constructorEnd()}#t;#i;getFromBackend(t,i,n){var r=this.log.fnIfInList("getFromBackend","fields",this.fieldName,{params:t,guids:i},n);const o=this.settings(),u=this.#i(),v=o.Query,P=v?v.includes("/")?o.Query:`${o.Query}/${u}`:null;r.a("queryUrl",{queryName:v,streamName:u,queryUrl:P});const ie=(P?(r.a("queryUrl for request",{queryUrl:P}),this.querySvc.getFromQuery(P,t,this.fieldsToRetrieve(this.settings()),i).pipe((0,F.T)(ce=>({data:ce,loading:!1})))):(r.a("noQueryUrl - will create dummy item"),(0,te.of)({data:{Default:[{Id:-1,Guid:null,Title:this.#e.instant("Fields.Picker.QueryNotConfigured")}]},loading:!1}))).pipe((0,F.T)(ce=>({data:this.#n(ce.data,u),loading:ce.loading})));return r.r(ie)}#n(t,i){const n=this.log.fn("transformData",{data:t,streamName:i});if(!t)return n.r([Ct.message(this.#e,"Fields.Picker.QueryErrorNoData")],"data is null");const r=this.fieldState.config.inputTypeSpecs,o=r.mustUseGuid,u=i.split(",");n.values({inputType:r.inputType,valueMustUseGuid:o,streamNames:u});const v=u.filter(ce=>!t[ce]).map(ce=>Ct.placeholder(this.#e,"Fields.Picker.QueryStreamNotFound"," "+ce)),P=this.createMaskHelper(),G=u.filter(ce=>t[ce]).reduce((ce,Ae)=>{const Ze=t[Ae].map(nt=>P.data2PickerItem({entity:nt,streamName:Ae,valueMustUseGuid:o,valueDefaultsToGuid:!0}));return ce.concat(Ze)},[]),ie=this.#a(G);return n.r([...v,...ie])}#a(t){return t&&t.forEach(i=>{const n=i.data?.AppId;i.noEdit=null!=n&&n!==this.#t,i.noDelete=i.noEdit}),t}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Hi=(()=>{class a extends ue{constructor(){super(),this.log=(0,p.Tq)({DataAdapterQuery:a},R),this.dataSourceRaw=(0,c.d)(Gp),this.#e=(0,c.d)(Hp.N).initSignal(this.log.name,this.fieldState.settingExt("UrlParameters"))}#e;syncParams(){this.dataSourceRaw.setParams(this.#e?.result())}fetchItems(){if(this.log.fnIfInList("fetchItems","fields",this.name),this.syncParams(),this.fieldState.settings().Query)this.dataSourceRaw.triggerGetAll();else{const i=[Ct.placeholder(this.translate,"Fields.Picker.QueryNotDefined")];this.errorOptions.set(i)}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const $p={...An,data:!0};let Up=(()=>{class a extends On{constructor(){super(),this.log=(0,p.Tq)({DataSourceString:a},$p),this.loading=(0,oe.KX)("loading",!1),this.#e=this.createMaskHelper({Value:"Value"}),this.data=(0,oe.bo)("data",()=>{const t=this.settings()._options,i=this.#e,n=this.log.fnIfInList("data","fields",this.fieldName,{options:t,maskHelper:i}),r=t.map(o=>{const u={Id:null,Guid:null,...o},v=i.data2PickerItem({entity:u,streamName:null,valueMustUseGuid:!1});return n.a("one item",{entity:u,pickerItem:v}),v});return n.r(r)}),this.constructorEnd()}#e;static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Ei=(()=>{class a extends ot{constructor(){super(),this.log=(0,p.Tq)({DataAdapterString:a},ot.logSpecs),this.dataSourceRaw=(0,c.d)(Up),this.myFeatures=(0,oe.KX)("features",{edit:!1,create:!1,delete:!1})}fetchItems(){this.log.fnIf("fetchItems"),this.dataSource().triggerGetAll()}deleteItem(t){throw new Error("Method not implemented.")}editItem(t,i){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Wp={all:!1,updateValue:!1,add:!1,set:!1,remove:!1,reorder:!1,doAfterDelete:!1,selectedItems:!1,sepAndOpts:!1,createEntityTypes:!1,attachCallback:!1,typesForNew:!1,correctStringEmptyValue:!0,fields:[...U.z,"Query"]};let Xp=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({StateAdapter:a},Wp),this.#e=(0,e.WQX)(S.S),this.#t=(0,e.WQX)(Ve.W),this.settings=this.#t.settings,this.myFeatures=(0,oe.KX)("features",{}),this.#n=(0,oe.bo)("createTypesRaw",()=>(0,B.z)(this.settings().CreateTypes,t=>t.split(t.indexOf("\n")>-1?"\n":",")).filter(Boolean)),this.typesForNew=(0,oe.bo)("typesForNew",()=>{const t=this.#n().map(r=>({label:null,guid:r})),i=this.log.fnIfInList("typesForNew","fields",this.#i,{raw:t}),n=t.map(r=>{const o=r.guid,u=this.#e.settings.ContentTypes.find(v=>v.Id===o||v.Name==o);return{...r,label:(u?.Title??u?.Name??`${o} (not found)`).replace("UI Picker Source - ",""),guid:u?.Id??o}});return i.r(n)}),this.allowsEmptyLazy=(0,oe.KX)("allowsEmptyLazy",(0,oe.KX)("initial",!1)),this.selectedItems=(0,oe.bo)("selectedItems",()=>{const t=this.#t.uiValue();this.log.fnIf("selectedItems",{uiValue:t});const i=this.mapper.toUi(t),n=this.allowsEmptyLazy()();return 0==i.length&&n?[""]:i}),this.values=(0,oe.bo)("values",()=>this.mapper.toUi(this.#t.uiValue()))}setup(t,i){return this.#i=t,this.mapper=i,this}#i;#n;#a;attachCallback(t){const i=this.log.fnIf("attachCallback");return this.#a=t,i.rSilent(this)}#r(t){const i=this.log.fnIfInList("updateValue","fields",this.#i),r=t([...this.values()]),o=this.mapper.toState(r);this.#t.ui().setIfChanged(o),i.end("",{newValue:o})}add(t){this.log.fnIfInList("add","fields",this.#i,{value:t}),this.#r(i=>this.features().multiValue?[...i,t]:[t])}set(t){this.log.fnIf("set",{values:t}),this.#r(()=>t)}flush(){this.set([])}reorder(t){this.log.fnIf("reorder",{reorderIndexes:t}),this.#r(i=>((0,Wi.HD)(i,t.previousIndex,t.currentIndex),[...i]))}remove(t){this.log.fnIf("remove",{index:t}),this.#r(i=>(i.splice(t,1),[...i])),this.values().length||setTimeout(()=>this.#a())}doAfterDelete(t){this.log.fnIf("doAfterDelete",{props:t}),this.remove(t.index)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();class tr{constructor(s,t){this.fieldName=s,this.settings=t}}class Fn extends tr{toUi(s){return s}toState(s){return s}}class no extends tr{toUi(s){return null==s?[]:[s.toString()]}toState(s){const t=null==s||0===s.length?"":yt(s,this.settings().Separator),i=Number(t);return isNaN(i)?null:i}}class Pn extends tr{toUi(s){return null==s||""===s?[]:s.split(this.settings().Separator)??[]}toState(s){return null==s||0===s.length?"":yt(s,this.settings().Separator)}}const ir={UiPickerSourceCustomList:"UiPickerSourceCustomList",UiPickerSourceCustomCsv:"UiPickerSourceCustomCsv"},zt={...ir,UiPickerSourceQuery:"UiPickerSourceQuery",UiPickerSourceEntity:"UiPickerSourceEntity",UiPickerSourceAppAssets:"UiPickerSourceAppAssets",UiPickerSourceCss:"UiPickerSourceCss"},ao="UiPickerModeTree";class nr{constructor(s){this.injector=s,this.log=(0,p.Tq)({PickerDataSetup:nr},null)}setupPickerData(s,t){const i=s,n=i.setupAlreadyStarted,r=t.config.inputTypeSpecs.inputType,o=this.log.fn("createPickerAdapters",{pickerData:s,fieldState:t,inputType:r,alreadyStarted:n});if(n)return o.rSilent(s,"exist, already started");i.setupAlreadyStarted=!0;const u=this.#e(t.name,r,t.settings),v=t.settings().dataSourceType,P=this.#t(r,v,u);return s.setup(t.name,t.settings,u,P),s.source?.onAfterViewInit?.(),o.rSilent(s)}#e(s,t,i){const n=ar[t]?.uiMapper;if(!n)throw new Error(`No State Adapter found for inputTypeSpecs: ${t}`);const r=(0,c.d)(Xp,this.injector),o=new n(s,i);return r.setup(s,o),r}#t(s,t,i){const n=this.log.fn("getSourceAdapter",{inputType:s,dataSourceType:t}),r=ar[s],o=r.forcePickerConfig??t;n.a("use config type",{dataSourceType:t,forcePickerConfig:r.forcePickerConfig,dsType:o});const u=Qp[o]??io;this.#i(s,u);const v=(0,c.d)(u,this.injector).connectState(i);return n.r(v)}#i(s,t){if(t===io||ar[s]?.sources?.includes(t))return!1;throw new Error(`Specified SourceAdapter not allowed for inputTypeSpecs: ${s}: ${Ei}`)}}const Qp={[zt.UiPickerSourceCustomList]:Ei,[zt.UiPickerSourceCustomCsv]:Ei,[zt.UiPickerSourceCss]:er,[zt.UiPickerSourceQuery]:Hi,[zt.UiPickerSourceEntity]:zi,[zt.UiPickerSourceAppAssets]:Js},ar={[Je.u.StringPicker]:{sources:[Ei,Hi,zi,er,Js],uiMapper:Pn},[Je.u.StringDropdown]:{sources:[Ei],uiMapper:Pn,forcePickerConfig:zt.UiPickerSourceCustomList},[Je.u.StringFontIconPicker]:{sources:[er],uiMapper:Pn,forcePickerConfig:zt.UiPickerSourceCss},[Je.u.NumberDropdown]:{sources:[Ei],uiMapper:no,forcePickerConfig:zt.UiPickerSourceCustomList},[Je.u.NumberPicker]:{sources:[Ei,Hi,zi],uiMapper:no},[Je.u.StringDropdownQuery]:{sources:[Hi],uiMapper:Pn,forcePickerConfig:zt.UiPickerSourceQuery},[Je.u.EntityDefault]:{sources:[zi],uiMapper:Fn,forcePickerConfig:zt.UiPickerSourceEntity},[Je.u.EntityQuery]:{sources:[Hi],uiMapper:Fn,forcePickerConfig:zt.UiPickerSourceQuery},[Je.u.EntityContentBlocks]:{sources:[zi],uiMapper:Fn,forcePickerConfig:zt.UiPickerSourceEntity},[Je.u.EntityPicker]:{sources:[zi,Hi,Ei],uiMapper:Fn}};var rr=m(9771),ro=m(2551),Kp=m(9400),so=m(3513),oo=m(9923),lo=m(1903),sr=m(2810);class co{dataNodes;expansionModel=new Li.CB(!0);trackBy;getLevel;isExpandable;getChildren;toggle(s){this.expansionModel.toggle(this._trackByValue(s))}expand(s){this.expansionModel.select(this._trackByValue(s))}collapse(s){this.expansionModel.deselect(this._trackByValue(s))}isExpanded(s){return this.expansionModel.isSelected(this._trackByValue(s))}toggleDescendants(s){this.expansionModel.isSelected(this._trackByValue(s))?this.collapseDescendants(s):this.expandDescendants(s)}collapseAll(){this.expansionModel.clear()}expandDescendants(s){let t=[s];t.push(...this.getDescendants(s)),this.expansionModel.select(...t.map(i=>this._trackByValue(i)))}collapseDescendants(s){let t=[s];t.push(...this.getDescendants(s)),this.expansionModel.deselect(...t.map(i=>this._trackByValue(i)))}_trackByValue(s){return this.trackBy?this.trackBy(s):s}}class Jp extends co{getLevel;isExpandable;options;constructor(s,t,i){super(),this.getLevel=s,this.isExpandable=t,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(s){const i=[];for(let n=this.dataNodes.indexOf(s)+1;n<this.dataNodes.length&&this.getLevel(s)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(s=>this._trackByValue(s)))}}const Rn=new e.nKC("CDK_TREE_NODE_OUTLET_NODE");let tn=(()=>{class a{viewContainer=(0,e.WQX)(e.c1b);_node=(0,e.WQX)(Rn,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeOutlet",""]]})}return a})();class Zp{$implicit;level;index;count;constructor(s){this.$implicit=s}}let Ln=(()=>{class a{template=(0,e.WQX)(e.C4Q);when;constructor(){}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return a})();function uo(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let Gi=(()=>{class a{_differs=(0,e.WQX)(e._q3);_changeDetectorRef=(0,e.WQX)(e.gRc);_elementRef=(0,e.WQX)(e.aKT);_dir=(0,e.WQX)(Oi.dS);_onDestroy=new Q.B;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new ui.t({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new ui.t([]);_nodeType=new ui.t(null);_nodes=new ui.t(new Map);_keyManagerNodes=new ui.t([]);_keyManagerFactory=(0,e.WQX)(Jt.Z2);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const t=this._nodeDefs.filter(i=>!i.when);this._defaultNodeDef=t[0]}_setNodeTypeIfUnset(t){null===this._nodeType.value&&this._nodeType.next(t)}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Li.CB(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let t;(0,Li.y4)(this._dataSource)?t=this._dataSource.connect(this):(0,ro.A)(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,te.of)(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe((0,Ci.Q)(this._onDestroy)).subscribe(i=>{this._renderDataChanges(i)}))}_getRenderData(t){const i=this._getExpansionModel();return(0,Ii.z)([t,this._nodeType,i.changed.pipe((0,Ge.Z)(null),(0,Y.M)(n=>{this._emitExpansionChanges(n)}))]).pipe((0,en.n)(([n,r])=>null===r?(0,te.of)({renderNodes:n,flattenedNodes:null,nodeType:r}):this._computeRenderingData(n,r).pipe((0,F.T)(o=>({...o,nodeType:r})))))}_renderDataChanges(t){null!==t.nodeType?(this._updateCachedData(t.flattenedNodes),this.renderNodeChanges(t.renderNodes),this._updateKeyManagerItems(t.flattenedNodes)):this.renderNodeChanges(t.renderNodes)}_emitExpansionChanges(t){if(!t)return;const i=this._nodes.value;for(const n of t.added)i.get(n)?._emitExpansionState(!0);for(const n of t.removed)i.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){const t=(0,Ii.z)([this._keyManagerNodes,this._nodes]).pipe((0,F.T)(([n,r])=>n.reduce((o,u)=>{const v=r.get(this._getExpansionKey(u));return v&&o.push(v),o},[])));this._keyManager=this._keyManagerFactory(t,{trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const t=this.trackBy??((i,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(t)}_checkTreeControlUsage(){}renderNodeChanges(t,i=this._dataDiffer,n=this._nodeOutlet.viewContainer,r){const o=i.diff(t);!o&&!this._viewInit||(o?.forEachOperation((u,v,P)=>{if(null==u.previousIndex)this.insertNode(t[P],P,n,r);else if(null==P)n.remove(v);else{const G=n.get(v);n.move(G,P)}}),o?.forEachIdentityChange(u=>{const v=u.item;null!=u.currentIndex&&(n.get(u.currentIndex).context.$implicit=v)}),r?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(r=>r.when&&r.when(i,t))||this._defaultNodeDef}insertNode(t,i,n,r){const o=this._getLevelAccessor(),u=this._getNodeDef(t,i),v=this._getExpansionKey(t),P=new Zp(t);r??=this._parents.get(v)??void 0,P.level=o?o(t):void 0!==r&&this._levels.has(this._getExpansionKey(r))?this._levels.get(this._getExpansionKey(r))+1:0,this._levels.set(v,P.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(u.template,P,i),_i.mostRecentTreeNode&&(_i.mostRecentTreeNode.data=t)}isExpanded(t){return!(!this.treeControl?.isExpanded(t)&&!this._expansionModel?.isSelected(this._getExpansionKey(t)))}toggle(t){this.treeControl?this.treeControl.toggle(t):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(t))}expand(t){this.treeControl?this.treeControl.expand(t):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(t))}collapse(t){this.treeControl?this.treeControl.collapse(t):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(t))}toggleDescendants(t){this.treeControl?this.treeControl.toggleDescendants(t):this._expansionModel&&(this.isExpanded(t)?this.collapseDescendants(t):this.expandDescendants(t))}expandDescendants(t){if(this.treeControl)this.treeControl.expandDescendants(t);else if(this._expansionModel){const i=this._expansionModel;i.select(this._getExpansionKey(t)),this._getDescendants(t).pipe((0,bt.s)(1),(0,Ci.Q)(this._onDestroy)).subscribe(n=>{i.select(...n.map(r=>this._getExpansionKey(r)))})}}collapseDescendants(t){if(this.treeControl)this.treeControl.collapseDescendants(t);else if(this._expansionModel){const i=this._expansionModel;i.deselect(this._getExpansionKey(t)),this._getDescendants(t).pipe((0,bt.s)(1),(0,Ci.Q)(this._onDestroy)).subscribe(n=>{i.deselect(...n.map(r=>this._getExpansionKey(r)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.select(...t))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.deselect(...t))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(t){const i=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return(0,te.of)([]);const r=this._getExpansionKey(t),o=n.changed.pipe((0,en.n)(v=>v.added.includes(r)?(0,te.of)(!0):v.removed.includes(r)?(0,te.of)(!1):Kp.w),(0,Ge.Z)(this.isExpanded(t)));if(i)return(0,Ii.z)([o,this._flattenedNodes]).pipe((0,F.T)(([v,P])=>v?this._findChildrenByLevel(i,P,t,1):[]));const u=this._getChildrenAccessor();if(u)return(0,sr.x)(u(t)??[]);throw uo()}_findChildrenByLevel(t,i,n,r){const o=this._getExpansionKey(n),u=i.findIndex(ie=>this._getExpansionKey(ie)===o),v=t(n),P=v+r,G=[];for(let ie=u+1;ie<i.length;ie++){const ce=t(i[ie]);if(ce<=v)break;ce<=P&&G.push(i[ie])}return G}_registerNode(t){this._nodes.value.set(this._getExpansionKey(t.data),t),this._nodes.next(this._nodes.value)}_unregisterNode(t){this._nodes.value.delete(this._getExpansionKey(t.data)),this._nodes.next(this._nodes.value)}_getLevel(t){return this._levels.get(this._getExpansionKey(t))}_getSetSize(t){return this._getAriaSet(t).length}_getPositionInSet(t){const i=this._getAriaSet(t),n=this._getExpansionKey(t);return i.findIndex(r=>this._getExpansionKey(r)===n)+1}_getNodeParent(t){const i=this._parents.get(this._getExpansionKey(t.data));return i&&this._nodes.value.get(this._getExpansionKey(i))}_getNodeChildren(t){return this._getDirectChildren(t.data).pipe((0,F.T)(i=>i.reduce((n,r)=>{const o=this._nodes.value.get(this._getExpansionKey(r));return o&&n.push(o),n},[])))}_sendKeydownToKeyManager(t){if(t.target===this._elementRef.nativeElement)this._keyManager.onKeydown(t);else{const i=this._nodes.getValue();for(const[,n]of i)if(t.target===n._elementRef.nativeElement){this._keyManager.onKeydown(t);break}}}_getDescendants(t){if(this.treeControl)return(0,te.of)(this.treeControl.getDescendants(t));if(this.levelAccessor){const i=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,t,1/0);return(0,te.of)(i)}if(this.childrenAccessor)return this._getAllChildrenRecursively(t).pipe((0,oo.T)((i,n)=>(i.push(...n),i),[]));throw uo()}_getAllChildrenRecursively(t){return this.childrenAccessor?(0,sr.x)(this.childrenAccessor(t)).pipe((0,bt.s)(1),(0,en.n)(i=>{for(const n of i)this._parents.set(this._getExpansionKey(n),t);return(0,te.of)(...i).pipe((0,lo.H)(n=>(0,so.x)((0,te.of)([n]),this._getAllChildrenRecursively(n))))})):(0,te.of)([])}_getExpansionKey(t){return this.expansionKey?.(t)??t}_getAriaSet(t){const i=this._getExpansionKey(t),n=this._parents.get(i),r=n?this._getExpansionKey(n):null;return this._ariaSets.get(r)??[t]}_findParentForNode(t,i,n){if(!n.length)return null;const r=this._levels.get(this._getExpansionKey(t))??0;for(let o=i-1;o>=0;o--){const u=n[o];if((this._levels.get(this._getExpansionKey(u))??0)<r)return u}return null}_flattenNestedNodesWithExpansion(t,i=0){const n=this._getChildrenAccessor();return n?(0,te.of)(...t).pipe((0,lo.H)(r=>{const o=this._getExpansionKey(r);this._parents.has(o)||this._parents.set(o,null),this._levels.set(o,i);const u=(0,sr.x)(n(r));return(0,so.x)((0,te.of)([r]),u.pipe((0,bt.s)(1),(0,Y.M)(v=>{this._ariaSets.set(o,[...v??[]]);for(const P of v??[]){const G=this._getExpansionKey(P);this._parents.set(G,r),this._levels.set(G,i+1)}}),(0,en.n)(v=>v?this._flattenNestedNodesWithExpansion(v,i+1).pipe((0,F.T)(P=>this.isExpanded(r)?P:[])):(0,te.of)([]))))}),(0,oo.T)((r,o)=>(r.push(...o),r),[])):(0,te.of)([...t])}_computeRenderingData(t,i){if(this.childrenAccessor&&"flat"===i)return this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe((0,F.T)(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&"nested"===i){const n=this.levelAccessor;return(0,te.of)(t.filter(r=>0===n(r))).pipe((0,F.T)(r=>({renderNodes:r,flattenedNodes:t})),(0,Y.M)(({flattenedNodes:r})=>{this._calculateParents(r)}))}return"flat"===i?(0,te.of)({renderNodes:t,flattenedNodes:t}).pipe((0,Y.M)(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe((0,F.T)(n=>({renderNodes:t,flattenedNodes:n}))))}_updateCachedData(t){this._flattenedNodes.next(t)}_updateKeyManagerItems(t){this._keyManagerNodes.next(t)}_calculateParents(t){const i=this._getLevelAccessor();if(i){this._parents.clear(),this._ariaSets.clear();for(let n=0;n<t.length;n++){const r=t[n],o=this._getExpansionKey(r);this._levels.set(o,i(r));const u=this._findParentForNode(r,n,t);this._parents.set(o,u);const v=u?this._getExpansionKey(u):null,P=this._ariaSets.get(v)??[];P.splice(n,0,r),this._ariaSets.set(v,P)}}}_forEachExpansionKey(t){const i=[],n=[];this._nodes.value.forEach(r=>{i.push(this._getExpansionKey(r.data)),n.push(this._getDescendants(r.data))}),n.length>0?(0,Ii.z)(n).pipe((0,bt.s)(1),(0,Ci.Q)(this._onDestroy)).subscribe(r=>{r.forEach(o=>o.forEach(u=>i.push(this._getExpansionKey(u)))),t(i)}):t(i)}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=e.VBU({type:a,selectors:[["cdk-tree"]],contentQueries:function(i,n,r){if(1&i&&e.wni(r,Ln,5),2&i){let o;e.mGM(o=e.lsd())&&(n._nodeDefs=o)}},viewQuery:function(i,n){if(1&i&&e.GBs(tn,7),2&i){let r;e.mGM(r=e.lsd())&&(n._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(i,n){1&i&&e.bIt("keydown",function(o){return n._sendKeydownToKeyManager(o)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[tn],encapsulation:2})}return a})(),_i=(()=>{class a{_elementRef=(0,e.WQX)(e.aKT);_tree=(0,e.WQX)(Gi);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(t){}get isExpandable(){return this._isExpandable()}set isExpandable(t){this._inputIsExpandable=t,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(t){this._inputIsExpanded=t,t?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new e.bkB;expandedChange=new e.bkB;static mostRecentTreeNode=null;_destroyed=new Q.B;_dataChanges=new Q.B;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._dataChanges.next())}_data;get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=(0,e.WQX)(e.gRc);constructor(){a.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function qp(a){let s=a.parentElement;for(;s&&!eh(s);)s=s.parentElement;return s?s.classList.contains("cdk-nested-tree-node")?(0,e.Udg)(s.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe((0,F.T)(()=>this.isExpanded),(0,Bi.F)()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){a.mostRecentTreeNode===this&&(a.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(t){this.expandedChange.emit(t)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),2&i&&(e.Mr5("tabindex",n._tabindex),e.BMQ("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",e.L39],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",e.L39],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return a})();function eh(a){const s=a.classList;return!(!s?.contains("cdk-nested-tree-node")&&!s?.contains("cdk-tree"))}const th=/([A-Za-z%]+)$/;let lr=(()=>{class a{_treeNode=(0,e.WQX)(_i);_tree=(0,e.WQX)(Gi);_element=(0,e.WQX)(e.aKT);_dir=(0,e.WQX)(Oi.dS,{optional:!0});_currentPadding;_destroyed=new Q.B;indentUnits="px";get level(){return this._level}set level(t){this._setLevelInput(t)}_level;get indent(){return this._indent}set indent(t){this._setIndentInput(t)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe((0,Ci.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,i=null==this._level?t:this._level;return"number"==typeof i?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const i=this._paddingIndent();if(i!==this._currentPadding||t){const n=this._element.nativeElement,r=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",o="paddingLeft"===r?"paddingRight":"paddingLeft";n.style[r]=i||"",n.style[o]="",this._currentPadding=i}}_setLevelInput(t){this._level=isNaN(t)?null:t,this._setPadding()}_setIndentInput(t){let i=t,n="px";if("string"==typeof t){const r=t.split(th);i=r[0],n=r[1]||n}this.indentUnits=n,this._indent=(0,e.Udg)(i),this._setPadding()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",e.Udg],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return a})(),cr=(()=>{class a{_tree=(0,e.WQX)(Gi);_treeNode=(0,e.WQX)(_i);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(i,n){1&i&&e.bIt("click",function(o){return n._toggle(),o.stopPropagation()})("keydown.Enter",function(o){return n._toggle(),o.preventDefault()})("keydown.Space",function(o){return n._toggle(),o.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",e.L39]}})}return a})(),ih=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({})}return a})(),po=(()=>{class a extends _i{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(t){this._tabIndexInputBinding=t}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return function nh(a){return!!a._isNoopTreeKeyManager}(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}constructor(){super();const t=(0,e.WQX)(new e.ES_("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(t)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._focusItem()}),2&i&&(e.Mr5("tabindex",n._getTabindexAttribute()),e.BMQ("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",t=>null==t?0:(0,e.Udg)(t)],disabled:[2,"disabled","disabled",e.L39]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[e.Jv_([{provide:_i,useExisting:a}]),e.Vt3]})}return a})(),ho=(()=>{class a extends Ln{data;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[e.Jv_([{provide:Ln,useExisting:a}]),e.Vt3]})}return a})(),mo=(()=>{class a extends lr{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",e.Udg],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[e.Jv_([{provide:lr,useExisting:a}]),e.Vt3]})}return a})(),dr=(()=>{class a{viewContainer=(0,e.WQX)(e.c1b);_node=(0,e.WQX)(Rn,{optional:!0});static \u0275fac=function(i){return new(i||a)};static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeOutlet",""]],features:[e.Jv_([{provide:tn,useExisting:a}])]})}return a})(),fo=(()=>{class a extends Gi{_nodeOutlet=void 0;static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["mat-tree"]],viewQuery:function(i,n){if(1&i&&e.GBs(dr,7),2&i){let r;e.mGM(r=e.lsd())&&(n._nodeOutlet=r.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[e.Jv_([{provide:Gi,useExisting:a}]),e.Vt3],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,n){1&i&&e.eu8(0,0)},dependencies:[dr],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return a})(),go=(()=>{class a extends cr{static \u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})();static \u0275dir=e.FsC({type:a,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[e.Jv_([{provide:cr,useExisting:a}]),e.Vt3]})}return a})(),rh=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[ih,re.yE,re.yE]})}return a})();class sh{transformFunction;getLevel;isExpandable;getChildren;constructor(s,t,i,n){this.transformFunction=s,this.getLevel=t,this.isExpandable=i,this.getChildren=n}_flattenNode(s,t,i,n){const r=this.transformFunction(s,t);if(i.push(r),this.isExpandable(r)){const o=this.getChildren(s);o&&(Array.isArray(o)?this._flattenChildren(o,t,i,n):o.pipe((0,bt.s)(1)).subscribe(u=>{this._flattenChildren(u,t,i,n)}))}return i}_flattenChildren(s,t,i,n){s.forEach((r,o)=>{let u=n.slice();u.push(o!=s.length-1),this._flattenNode(r,t+1,i,u)})}flattenNodes(s){let t=[];return s.forEach(i=>this._flattenNode(i,0,t,[])),t}expandFlattenedNodes(s,t){let i=[],n=[];return n[0]=!0,s.forEach(r=>{let o=!0;for(let u=0;u<=this.getLevel(r);u++)o=o&&n[u];o&&i.push(r),this.isExpandable(r)&&(n[this.getLevel(r)+1]=t.isExpanded(r))}),i}}class oh extends Li.qS{_treeControl;_treeFlattener;_flattenedData=new ui.t([]);_expandedData=new ui.t([]);get data(){return this._data.value}set data(s){this._data.next(s),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new ui.t([]);constructor(s,t,i){super(),this._treeControl=s,this._treeFlattener=t,i&&(this.data=i)}connect(s){return(0,Ai.h)(s.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,F.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var nn=m(9333);let ki=(()=>{class a{constructor(){this.log=(0,p.Tq)({PickerPartBaseComponent:a}),this.fieldState=(0,e.WQX)(Ve.W),this.editRoutingService=(0,e.WQX)(Se),this.enableTextEntry=this.fieldState.settingExt("EnableTextEntry"),this.pickerData=this.fieldState.pickerData,this.isInFreeTextMode=this.pickerData.isInFreeTextMode,this.ui=this.fieldState.ui,this.selectedItems=this.pickerData.selectedAll,this.selectedItem=this.pickerData.selectedOne,this.itemCount=(0,oe.bo)("itemCount",()=>this.selectedItems().length),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.features=this.pickerData.features}expandDialog(){const t=this.fieldState.config;t.initialDisabled||this.editRoutingService.expand(!0,t.index,t.entityGuid)}openNewEntityDialog(t){this.log.a(`openNewEntityDialog: '${t}'`),this.pickerData.source.editItem(null,t)}toggleFreeText(t){this.log.a(`toggleFreeText ${t}`),!t&&this.pickerData.toggleFreeTextMode()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-part-base"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();function lh(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit(n.item().value,n.item().id))}),e.j41(1,"mat-icon"),e.EFF(2,"edit"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled||t.config.initialDisabled)}}function ch(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.removeItem(n.index()))}),e.j41(1,"mat-icon"),e.EFF(2,"do_not_disturb_on"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled)}}function dh(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteItem(n.index(),n.item().value))}),e.j41(1,"mat-icon"),e.EFF(2,"delete"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.ui().disabled)}}const uh={buttons:!0};let ur=(()=>{class a extends ki{constructor(){super(),this.log=(0,p.Tq)({PickerItemButtonsComponent:a},uh),this.item=e.hFB.required(),this.index=e.hFB.required(),this.show=e.hFB.required(),this.uiFeatures=(0,e.hFB)(null),this.buttons=(0,oe.bo)("buttons",()=>{const t=this.item(),i=this.show()&&!!t,n=this.features(),r=this.uiFeatures(),o={edit:n.edit&&0!=r?.edit&&i&&!t?.noEdit,remove:n.remove&&0!=r?.remove&&i&&!t?.noRemove,delete:n.delete&&0!=r?.delete&&i&&!t?.noDelete};return this.log.aIf("buttons",{merged:o,item:t,show:i,f:n,uif:r}),o})}edit(t,i){this.log.a(`edit guid: '${t}'; id: '${i}'`),this.pickerData.source.editItem({entityGuid:t,entityId:i},null)}removeItem(t){this.log.a(`removeItem index: '${t}'`),this.pickerData.state.remove(t)}deleteItem(t,i){this.log.a(`deleteItem index: '${t}'; entityGuid: '${i}'`),this.pickerData.source.deleteItem({index:t,entityGuid:i})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-buttons"]],inputs:{item:[1,"item"],index:[1,"index"],show:[1,"show"],uiFeatures:[1,"uiFeatures"]},features:[e.Vt3],decls:3,vars:3,consts:[["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Edit","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Remove","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"],["mat-icon-button","","matSuffix","","tippyTranslate","Fields.Picker.Delete","appClickStopPropagation","",1,"picker-inline-button",3,"click","disabled"]],template:function(i,n){1&i&&e.DNE(0,lh,3,1,"button",0)(1,ch,3,1,"button",1)(2,dh,3,1,"button",2),2&i&&(e.vxM(n.buttons().edit?0:-1),e.R7$(),e.vxM(n.buttons().remove?1:-1),e.R7$(),e.vxM(n.buttons().delete?2:-1))},dependencies:[gt.Hl,gt.iY,ae.m_,ae.An,Vt.e,nn.c],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}"]})}}return a})();var _o=m(2487);function ph(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",1),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goToLink())}),e.EFF(1,"open_in_new"),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("tippy",t.helpLink())}}let hh=(()=>{class a{constructor(){this.helpLink=(0,e.hFB)()}goToLink(){window.open(this.helpLink(),"_blank")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-help"]],inputs:{helpLink:[1,"helpLink"]},decls:1,vars:1,consts:[["appClickStopPropagation","",3,"tippy"],["appClickStopPropagation","",3,"click","tippy"]],template:function(i,n){1&i&&e.DNE(0,ph,2,1,"mat-icon",0),2&i&&e.vxM(n.helpLink()?0:-1)},dependencies:[ae.m_,ae.An,Vt.e,nn.c],encapsulation:2})}}return a})();function mh(a,s){if(1&a&&(e.j41(0,"mat-icon",0),e.EFF(1," info "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippy",t.infoBox())("tippyAllowHtml",!0)("tippyArrow",!0)}}let fh=(()=>{class a{constructor(){this.infoBox=(0,e.hFB)()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-icon-info"]],inputs:{infoBox:[1,"infoBox"]},decls:1,vars:1,consts:[["tippyFontSize","larger","appClickStopPropagation","",3,"tippy","tippyAllowHtml","tippyArrow"]],template:function(i,n){1&i&&e.DNE(0,mh,2,3,"mat-icon",0),2&i&&e.vxM(n.infoBox()?0:-1)},dependencies:[ae.m_,ae.An,Vt.e,nn.c],encapsulation:2})}}return a})();var pr=m(839);const gh={instanceAlreadyExist:"Instance with name #tippyName already exist, please pick unique [tippyName]",instanceNotExist:"Instance with name #tippyName does not exist",childrenInstancesNotFoundGrouped:"No children tippy instances found within 'ngx-tippy-group' component",childrenInstancesNotFoundSingleton:"No children tippy instances found within 'ngx-tippy-singleton' component",singletonInstanceAlreadyExist:"Singleton instance with name #singletonName already exist, please pick unique [singletonName]"},_h={clearDelayTimeouts:()=>{},destroy:()=>{},disable:()=>{},enable:()=>{},hide:()=>{},hideWithInteractivity:()=>{},id:0,plugins:[{name:"followCursor",defaultValue:!1}],popper:{state:{}},popperInstance:{},props:{},reference:{},setContent:()=>{},setProps:()=>{},show:()=>{},state:{isEnabled:!0,isVisible:!0,isDestroyed:!1,isMounted:!0,isShown:!1},unmount:()=>{}},vh=new e.nKC("NGX_TIPPY_MESSAGES",{providedIn:"root",factory:()=>gh}),yh=(new e.nKC("TIPPY_FAKE_INSTANCE",{providedIn:"root",factory:()=>_h}),new e.nKC("NGX_TIPPY_CONFIG",{providedIn:"root",factory:()=>({})}));let bh=(()=>{class a{isDevMode(){return(0,e.naY)()}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var pi=function(a){return a.SetInstance="setInstance",a.Show="show",a.Hide="hide",a.HideWithInteractivity="hideWithInteractivity",a.Disable="disable",a.Enable="enable",a.SetProps="setProps",a.SetContent="setContent",a.Unmount="unmount",a.ClearDelayTimeouts="clearDelayTimeouts",a.Destroy="destroy",a}(pi||{}),Vn=function(a){return a.TippyName="tippyName",a.SingletonName="singletonName",a}(Vn||{});class Ch{constructor(s){this.args=s,this.compRef=this.args.viewContainerRef.createComponent(this.args.component)}detectChanges(){return this.compRef?.changeDetectorRef.detectChanges(),this}getElement(){return this.compRef?.location.nativeElement}destroy(){this.compRef?.destroy(),this.compRef=null}}const vo=(a,s)=>{a&&a instanceof Element&&s.setStyle(a,"display","block")};class Dh{constructor(s){this.args=s,this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef)}detectChanges(){return this.viewRef?.detectChanges(),this}getElement(){if(!this.viewRef)return null;const s=this.viewRef.rootNodes;return 1===s.length&&s[0].nodeType===Node.ELEMENT_NODE?this.element=s[0]:(this.element=document.createElement("div"),this.element.append(...s)),this.element}destroy(){this.viewRef&&(1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode?.removeChild(this.element),this.element=null),this.viewRef.destroy(),this.viewRef=null)}}let yo=(()=>{class a{constructor(t){this.appRef=t}getViewRefInstance(t,i,n={}){let r;return(a=>a instanceof e.C4Q)(t)?(n.$implicit=i,r=this.createTemplate(t,n)):r=(a=>"function"==typeof a)(t)?this.createComponent(t):(a=>a instanceof HTMLTemplateElement)(t)?{getElement:()=>t.content}:{getElement:()=>t},r}createTemplate(t,i){return new Dh({tpl:t,context:i,appRef:this.appRef})}createComponent(t){return new Ch({component:t,viewContainerRef:this.viewContainerRef})}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(e.o8S))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Th=(()=>{class a{constructor(t,i,n,r){this.devModeService=i,this.ngxViewService=n,this.messagesDict=r,this.tippyInstances=new Map,this.tippySingletonEntryInstances=new Map,this.tippyInstances$=new Q.B,this.createRenderer(t)}setInstance(t,i){if(this.tippyInstances.get(t)){const r=this.getMessage({reason:"instanceAlreadyExist",messageFor:Vn.TippyName,name:t});this.throwError(r)}else this.tippyInstances.set(t,i),this.emitInstancesChange({name:t,reason:pi.SetInstance,instance:i})}getInstance(t){return this.tippyInstances.has(t)?this.tippyInstances.get(t):null}getInstances(){return this.tippyInstances.size?this.tippyInstances:null}setSingletonInstance(t,i){if(this.tippySingletonEntryInstances.has(t)){const n=this.getMessage({reason:"singletonInstanceAlreadyExist",messageFor:Vn.SingletonName,name:t});this.throwError(n)}else this.tippySingletonEntryInstances.set(t,i)}getSingletonInstance(t){return this.tippySingletonEntryInstances.has(t)?this.tippySingletonEntryInstances.get(t):null}getSingletonInstances(){return this.tippySingletonEntryInstances.size?this.tippySingletonEntryInstances:null}show(t){this.callNativeTippyMethod(t,pi.Show)}hide(t){this.callNativeTippyMethod(t,pi.Hide)}hideWithInteractivity(t,i){this.callNativeTippyMethod(t,pi.HideWithInteractivity,i)}disable(t){this.callNativeTippyMethod(t,pi.Disable)}enable(t){this.callNativeTippyMethod(t,pi.Enable)}setProps(t,i){this.callNativeTippyMethod(t,pi.SetProps,i)}setContent(t,i,n){const r=this.getInstance(t);if(r){if(i){const o=this.ngxViewService.getViewRefInstance(i,r.tippyName,n),u=o.getElement();u?(vo(u,this.renderer),r.setContent(u),r.viewRef=o,this.emitInstancesChange({name:t,reason:"setContent",instance:r})):this.throwError("message")}}else this.throwErrorInstanceNotExist(t)}unmount(t){this.callNativeTippyMethod(t,pi.Unmount)}clearDelayTimeouts(t){this.callNativeTippyMethod(t,pi.ClearDelayTimeouts)}destroy(t){this.callNativeTippyMethod(t,pi.Destroy),this.tippyInstances.delete(t)}setDefaultProps(t){pr.Ay.setDefaultProps(t)}showAll(){this.tippyInstances.forEach((t,i)=>{t.show(),this.emitInstancesChange({name:i,reason:"show",instance:t})})}hideAll(t){const i=this.getInstance(t?.excludeName||""),n=t?.duration;(0,pr.cJ)({duration:n,...i})}get instancesChanges(){return this.tippyInstances$.asObservable()}callNativeTippyMethod(t,i,n){const r=this.getInstance(t);r?(r[i](n),this.emitInstancesChange({name:t,reason:i,instance:r})):this.throwErrorInstanceNotExist(t)}emitInstancesChange({name:t,reason:i,instance:n}){this.tippyInstances$.next({name:t,reason:i,instance:n})}createRenderer(t){this.renderer=t.createRenderer(null,null)}throwErrorInstanceNotExist(t){const i=this.getMessage({reason:"instanceNotExist",messageFor:Vn.TippyName,name:t});this.throwError(i)}throwError(t,i=Error){if(this.devModeService.isDevMode())throw new i(t)}getMessage({reason:t,messageFor:i,name:n}){return this.messagesDict[t].replace(`#${i}`,`'${n}'`)}}return a.\u0275fac=function(t){return new(t||a)(e.KVO(e._9s),e.KVO(bh),e.KVO(yo),e.KVO(vh))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),xh=(()=>{class a{constructor(t,i,n,r,o,u,v){this.tippyEl=t,this.renderer=i,this.ngxTippyService=n,this.ngxViewService=r,this.viewContainerRef=o,this.platform=u,this.ngxTippyConfig=v,this.cachedInstances=new Map}ngOnInit(){(0,ne.Vy)(this.platform)||(this.ngxViewService.viewContainerRef=this.viewContainerRef,this.initTippy())}ngOnChanges(t){this.handleChanges(t)}ngOnDestroy(){this.destroyTippy()}initTippy(){const t=this.tippyEl.nativeElement;if(null==this.ngxTippy)return;const i=this.ngxViewService.getViewRefInstance(this.ngxTippy,this.tippyName,this.tippyContext),n=i.getElement(),r=(0,pr.Ay)(t,{...this.ngxTippyConfig,...this.tippyProps||{},...n&&{content:n}});this.tippyName=this.tippyName||`tippy-${r.id}`,vo(n,this.renderer),this.setTippyInstance({tippyTarget:t,tippyName:this.tippyName,viewRef:i}),this.setClassName(this.tippyInstance,this.tippyClassName),this.writeInstancesToStorage(this.tippyInstance,this.tippyName)}setTippyInstance({tippyTarget:t,tippyName:i,viewRef:n}){this.tippyInstance={...t._tippy,tippyName:i,viewRef:n}}setClassName(t,i){if(!i||!t)return;const n=i.split(" ");n.length&&n.forEach(r=>{this.renderer.addClass(t.popper.firstElementChild,r)})}removeClassName(t,i){if(!i||!t)return;const n=i.split(" ");n.length&&n.forEach(r=>{this.renderer.removeClass(t.popper.firstElementChild,r)})}writeInstancesToStorage(t,i){t&&this.ngxTippyService.setInstance(i,t)}handleChanges({tippyName:t,ngxTippy:i,tippyProps:n,tippyClassName:r,tippyContext:o}){t&&!t.firstChange&&this.handleNameChanges(t),i&&!i.firstChange&&this.handleContentChanges(i),n&&!n.firstChange&&this.handlePropsChanges(n),r&&!r.firstChange&&this.handleClassChanges(r),o&&!o.firstChange&&this.handleContextChanges(o)}handleNameChanges({previousValue:t,currentValue:i}){const n=this.cachedTippyInstances();!n||!this.tippyInstance||(this.deleteEntryInStorage(n,t),this.tippyInstance={...this.tippyInstance,tippyName:i},n.set(i,this.tippyInstance))}handleContentChanges({currentValue:t}){this.tippyInstance&&this.tippyName?(this.ngxTippyService.setContent(this.tippyName,t),null==t?this.ngxTippyService.disable(this.tippyName):this.ngxTippyService.enable(this.tippyName)):this.initTippy()}handlePropsChanges({currentValue:t}){this.tippyName&&this.ngxTippyService.setProps(this.tippyName,t)}handleClassChanges({previousValue:t,currentValue:i}){this.removeClassName(this.tippyInstance,t),this.setClassName(this.tippyInstance,i)}handleContextChanges({currentValue:t}){this.tippyInstance&&this.tippyName&&this.ngxTippy?this.ngxTippyService.setContent(this.tippyName,this.ngxTippy,t):this.initTippy()}cachedTippyInstances(){const t=this.ngxTippyService.getInstances();return this.cachedInstances.has(t)?this.cachedInstances.get(t):(this.cachedInstances.set(t,t),t)}destroyTippy(){const t=this.cachedTippyInstances(),i=this.tippyInstance;!i||!t||(this.clearInstance({tippyInstance:i,tippyInstances:t}),this.resetLocalInstance(),this.clearCachedInstances())}clearInstance({tippyInstance:t,tippyInstances:i}){const{tippyName:n}=t;this.clearViewRef(t),this.destroyTippyInstance(t),this.deleteEntryInStorage(i,n)}clearViewRef(t){t.viewRef?.destroy&&t.viewRef.destroy()}destroyTippyInstance(t){t.destroy()}deleteEntryInStorage(t,i){t.delete(i)}resetLocalInstance(){this.tippyInstance=void 0}clearCachedInstances(){this.cachedInstances.clear()}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(Th),e.rXU(yo),e.rXU(e.c1b),e.rXU(e.Agw),e.rXU(yh))},a.\u0275dir=e.FsC({type:a,selectors:[["","ngxTippy",""]],inputs:{ngxTippy:"ngxTippy",tippyProps:"tippyProps",tippyName:"tippyName",tippyClassName:"tippyClassName",tippyContext:"tippyContext"},standalone:!1,features:[e.OA$]}),a})(),Sh=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[ne.MD]}),a})();function Ih(a,s){if(1&a&&e.nrm(0,"i"),2&a){const t=e.XpG(2);e.ZvI("icon-preview ",t.classWithoutDot(t.item().previewValue),"")}}function Eh(a,s){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s(),e.EFF(2," \xa0 ")),2&a){const t=e.XpG(2);e.R7$(),e.JRh(t.item().previewValue)}}function Ah(a,s){if(1&a&&(e.nrm(0,"img",2),e.j41(1,"div",3,0),e.nrm(3,"img",4),e.k0s()),2&a){const t=e.sdS(2),i=e.XpG(2);e.Y8G("ngxTippy",t)("src",i.item().previewValue,e.B4B)("alt",i.item().value),e.R7$(3),e.Y8G("src",i.item().previewValue,e.B4B)("alt",i.item().value)}}function Oh(a,s){if(1&a&&(e.nrm(0,"img",2),e.j41(1,"div",3,0),e.nrm(3,"img",4),e.k0s()),2&a){const t=e.sdS(2),i=e.XpG(2);e.Y8G("ngxTippy",t)("src",i.imageResize(i.item().previewValue,24,24),e.B4B)("alt",i.item().value),e.R7$(3),e.Y8G("src",i.imageResize(i.item().previewValue,140,140),e.B4B)("alt",i.item().value)}}function Fh(a,s){if(1&a&&e.DNE(0,Ih,1,3,"i",1)(1,Eh,3,1)(2,Ah,4,5)(3,Oh,4,5),2&a){let t;const i=e.XpG();e.vxM("icon-css"===(t=i.settings().PreviewType)?0:"icon-material"===t?1:"svg"===t?2:"image"===t?3:-1)}}let bo=(()=>{class a{constructor(){this.item=e.hFB.required(),this.settings=e.hFB.required(),this.debugMessage=(0,e.EWP)(()=>"")}classWithoutDot(t){return t?.replace(/\./g,"")}imageResize(t,i,n){if(!t)return t;let r=t.replace(/[\?&]w=\d+/g,"").replace(/[\?&]h=\d+/g,"");return r=r.replace(/width=\d+/g,`width=${i}`).replace(/height=\d+/g,`height=${n}`),r.includes("width=")||(r+=(r.includes("?")?"&":"?")+`width=${i}`),r.includes("height=")||(r+=(r.includes("?")?"&":"?")+`height=${n}`),r}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-preview"]],inputs:{item:[1,"item"],settings:[1,"settings"]},decls:2,vars:2,consts:[["tippyTemplate",""],[3,"class"],[1,"image-preview",3,"ngxTippy","src","alt"],[1,"tippy-custom"],[1,"image-tippy",3,"src","alt"]],template:function(i,n){if(1&i&&(e.EFF(0),e.DNE(1,Fh,4,1)),2&i){let r;e.SpI(" ",n.debugMessage()," "),e.R7$(),e.vxM(null!=(r=n.item())&&r.previewValue?1:-1)}},dependencies:[ae.An,Sh,xh],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-preview[_ngcontent-%COMP%]{display:flex;height:18px;margin-right:8px}.image-preview[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px;border-radius:2px;object-fit:cover;object-position:center}  .tippy-content{padding:6px!important}.tippy-custom[_ngcontent-%COMP%]{background-color:#fff!important}.tippy-custom[_ngcontent-%COMP%]   .image-tippy[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:2px;object-fit:cover;object-position:center}"]})}}return a})();function Rh(a,s){1&a&&e.nrm(0,"app-feature-icon",5),2&a&&e.Y8G("featureNameId",s.$implicit)}function Lh(a,s){if(1&a&&e.nrm(0,"app-picker-item-buttons",6),2&a){const t=e.XpG();e.Y8G("show",t.show())("item",t.item())("index",t.index())("uiFeatures",t.uiFeatures())}}function Vh(a,s){if(1&a&&e.nrm(0,"app-picker-item-buttons",6),2&a){const t=e.XpG();e.Y8G("show",t.show())("item",t.item())("index",t.index())("uiFeatures",t.uiFeatures())}}let hr=(()=>{class a{constructor(){this.item=e.hFB.required(),this.index=(0,e.hFB)(0),this.settings=e.hFB.required(),this.uiFeatures=(0,e.hFB)(null),this.show=(0,e.hFB)(!1),this.actionsFirst=(0,e.hFB)(!1),this.featureWarnings=(0,e.EWP)(()=>{const t=this.item().rules;if(!t)return[];const i=t.split(";").map(n=>n.trim()).filter(n=>n.startsWith("warn-req=feature:")).map(n=>n.split(":")[1]);return console.log("list",i),i},{debugName:"featureWarnings"})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-item-label"]],inputs:{item:[1,"item"],index:[1,"index"],settings:[1,"settings"],uiFeatures:[1,"uiFeatures"],show:[1,"show"],actionsFirst:[1,"actionsFirst"]},decls:12,vars:7,consts:[[1,"picker-option-contents"],[1,"picker-option"],[3,"item","settings"],[1,"picker-option-label"],[1,"picker-option-info"],[3,"featureNameId"],[1,"my-item-actions",3,"show","item","index","uiFeatures"],[3,"helpLink"],[3,"infoBox"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"app-picker-item-preview",2),e.j41(3,"span",3),e.EFF(4),e.k0s()(),e.j41(5,"div",4),e.Z7z(6,Rh,1,1,"app-feature-icon",5,e.fX1),e.DNE(8,Lh,1,4,"app-picker-item-buttons",6),e.nrm(9,"app-picker-help",7)(10,"app-picker-icon-info",8),e.DNE(11,Vh,1,4,"app-picker-item-buttons",6),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("item",n.item())("settings",n.settings()),e.R7$(2),e.SpI(" ",n.item().label||n.item().value,""),e.R7$(2),e.Dyx(n.featureWarnings()),e.R7$(2),e.vxM(n.actionsFirst()?8:-1),e.R7$(),e.Y8G("helpLink",n.item().link),e.R7$(),e.Y8G("infoBox",n.item().info),e.R7$(),e.vxM(n.actionsFirst()?-1:11))},dependencies:[bo,hh,fh,ur,_o.Z],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}.picker-option-contents[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}"]})}}return a})();const Yn="parent-child";let mr=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({PickerTreeDataHelper:a}),this.treeControl=new Jp(t=>t.level,t=>t.expandable),this.hasChild=(t,i)=>i.expandable,this.build()}updateConfig(t){this.log.a("updateConfigAndSelectedData"),this.#e=t}addTreeItems(t){this.log.a("addTreeItems"),this.#t=t}updateSelectedData(t){this.log.a("updateSelectedData"),this.dataSource.data=t}preConvertAllItems(t,i){this.log.a("preConvertAllItemsToTreeItems",{treeConfig:t,items:i});const n=i.map(o=>this.#i(t,o,i));return n.map(o=>{if(!o.expandable)return o;const u=this.#n(t,o,n);return o.children=u,o})}#i(t,i,n){if(this.log.a(`preConvertItemToTreeItem for item ${i?.id}`,{treeConfig:t,item:i,allItems:n}),!t)throw new Error("No tree configuration found");if(!i)throw new Error("Can't transform null-item");const r=t.TreeRelationship==Yn,o=t.TreeChildParentRefField,u=t.TreeParentChildRefField,P=t.TreeParentIdField,ie=t.TreeBranchesStream,ce=n.filter(rt=>!rt.sourceStreamName||rt.sourceStreamName==ie).find(rt=>rt==i),Ae=i?.data?.[P],Ze=r?ce&&(i.data[u]?.length>0||!1):ce&&!!n.find(rt=>rt.data[o]?.[0]?.[P]==Ae),nt={...i,level:-1,expandable:Ze,parent:i.data[o],children:i.data[u]};return this.log.a("result",{result:nt}),nt}build(){this.log.a("build");const t=new sh((i,n)=>({...i,level:n}),i=>i.level,i=>i.expandable,i=>i.children);this.dataSource=new oh(this.treeControl,t)}#n(t,i,n){const o=t.TreeChildParentRefField,v=t.TreeChildIdField,P=t.TreeParentIdField;if(t.TreeRelationship==Yn)return i.data[t.TreeParentChildRefField].map(G=>n.find(ce=>ce[v]==G[v]));if("child-parent"==t.TreeRelationship){const G=i.data?.[P];return n.filter(ie=>ie.data[o]?.[0]?.[P]==G)}throw new Error(`Unknown tree relationship: "${t?.TreeRelationship}"`)}disableOption(t,i,n){const r=this.#e;return!n&&i.some(G=>G.value===t.value)||!r?.TreeAllowSelectRoot&&t.children?.length>0&&0===t.parent?.length||!r?.TreeAllowSelectBranch&&t.children?.length>0&&t.parent?.length>0||!r?.TreeAllowSelectLeaf&&0===t.children?.length}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),Nh=(()=>{class a{constructor(t,i){this.treeHelper=t,this.inject=i,this.log=(0,p.Tq)({PickerTreeDataService:a})}init(t,i){this.log.a("init");const n=t();if("tree"!==n.PickerDisplayMode)return;const o=n.PickerTreeConfiguration,u=o?.TreeRelationship==Yn;(0,e.N4e)(this.inject,()=>{(0,e.QZP)(()=>{const v=i(),P=null==v?.[0]?.data?[]:this.treeHelper.preConvertAllItems(o,v);if(null!=P?.[0]?.data){this.treeHelper.updateConfig(o),this.treeHelper.addTreeItems(P);const G=P.filter(ie=>u?!P.some(ce=>ce.data[o?.TreeParentChildRefField]?.some(Ae=>Ae.Id===ie.id)):0==ie.data[o?.TreeChildParentRefField]?.length);this.treeHelper.updateSelectedData(G)}})})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(mr),e.KVO(e.zZn))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const jh=["autocomplete"],Bh=[[["","freeTextButtons",""]]],zh=["[freeTextButtons]"],Hh=a=>({"mat-form-field-invalid":a}),Gh=a=>({"mat-error":a}),$h=(a,s)=>s.value;function Uh(a,s){1&a&&(e.j41(0,"span",8),e.SdG(1),e.k0s())}function Wh(a,s){if(1&a&&(e.j41(0,"mat-option",13),e.nrm(1,"app-picker-item-label",14),e.k0s()),2&a){const t=s.$implicit,i=e.XpG(2);e.Y8G("value",t.value)("disabled",!!t.noSelect||!i.settings().enableReselect&&i.isOptionDisabled(t.value))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function Xh(a,s){if(1&a&&e.Z7z(0,Wh,2,7,"mat-option",13,$h),2&a){const t=e.XpG();e.Dyx(t.filteredItems())}}function Qh(a,s){if(1&a&&(e.j41(0,"mat-tree-node",17),e.nrm(1,"button",18),e.j41(2,"mat-option",13),e.nrm(3,"app-picker-item-label",14),e.k0s()()),2&a){const t=s.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function Kh(a,s){if(1&a&&(e.j41(0,"mat-tree-node",17)(1,"button",19)(2,"mat-icon",20),e.EFF(3),e.k0s()(),e.j41(4,"mat-option",13),e.nrm(5,"app-picker-item-label",14),e.k0s()()),2&a){const t=s.$implicit,i=e.XpG(2);e.R7$(),e.BMQ("aria-label","Toggle "+t.name),e.R7$(2),e.SpI(" ",i.treeHelper.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.Y8G("value",t.value)("disabled",i.treeHelper.disableOption(t,i.selectedItems(),i.settings().enableReselect))("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("settings",i.fieldState.settings())}}function Jh(a,s){if(1&a&&(e.j41(0,"mat-tree",11),e.DNE(1,Qh,4,7,"mat-tree-node",15)(2,Kh,6,9,"mat-tree-node",16),e.k0s()),2&a){const t=e.XpG();e.Y8G("dataSource",t.treeHelper.dataSource)("treeControl",t.treeHelper.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",t.hasChild)}}function Zh(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",12),e.EFF(1,"debug: "),e.j41(2,"span",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.insertNull())}),e.EFF(3,"add null-item"),e.k0s()()}}const qh={all:!1,optionSelected:!0,focusOnSearchComponent:!1,onClosed:!0,onOpened:!0,tooltip:!1,fields:[...U.z,"Author"]};let fr=(()=>{class a extends ki{#e;#t;constructor(t,i){super(),this.translate=t,this.globalConfigService=i,this.log=(0,p.Tq)({PickerSearchComponent:a},qh),this.#e=(0,p.Tq)("PickerSearchComponent-ItemChecks"),this.autocomplete=e.ebz.required("autocomplete"),this.showSelectedItem=e.hFB.required(),this.showItemEditButtons=e.hFB.required(),this.#t=(0,c.d)(Nh),this.treeHelper=(0,c.d)(mr),this.selectedItem=(0,oe.bo)("selectedItems",()=>this.pickerData.selectedOne()),this.#i=(0,oe.KX)("reFilter",!1),this.filteredItems=(0,oe.bo)("filteredItems",()=>{this.#i();const r=this.pickerData.optionsAll(),o=this.autocomplete()?.nativeElement.value,u=o?.toLocaleLowerCase(),v=u?r.filter(P=>((P.label?P.label:P.value)??"").toLocaleLowerCase().includes(u)):r;return v.length>0?v:[Ct.message(this.translate,"Fields.Picker.FilterNoResults",{search:o})]}),this.debugEnabled=this.globalConfigService.isDebug,this.settings=(0,oe.bo)("settings",()=>{const n=this.fieldState.settings();return{enableAddExisting:n.EnableAddExisting,enableReselect:n.EnableReselect,showAsTree:"tree"===n.PickerDisplayMode}}),this.hasChild=(n,r)=>this.treeHelper.hasChild(n,r)}#i;ngOnInit(){const t=this.fieldState.settings;"tree"===t().PickerDisplayMode&&(this.#t.init(t,this.pickerData.optionsAll),this.treeHelper=this.#t.treeHelper),this.pickerData.state.attachCallback(()=>this.focusOnSearchComponent())}focusOnSearchComponent(){this.log.fnIf("focusOnSearchComponent"),this.autocomplete()?.nativeElement.focus()}displaySelected(t){return this.showSelectedItem()?t?.label??"":""}tooltip(){const t=this.log.fnIfInList("tooltip","fields",this.fieldState.name,null,this.fieldState.name),i=this.pickerData.selectedAll().length;return 1!=i?t.r(null,`0 or more than 1 selected: ${i}`):t.r(this.selectedItem().tooltip,"ok")}displayFn(t){const i=this.selectedItem();if(this.#e.a(`displayFn: value: '${t}'`,{selectedItem:i}),null==t)return"";const n=this.pickerData.optionsAll().find(r=>r.value==t)?.label;return n?(this.log.a("displayFn result",{value:t,returnValue:n}),n):i?.value==t?i?.label:t+" *"}markAsTouched(){this.fieldState.ui().markTouched()}filterSelectionList(){this.#i.update(t=>!t)}onOpened(t){const i=this.log.fnIf("onOpened",{isTreeDisplayMode:t}),n=this.autocomplete().nativeElement;i.a(`onOpened: isTreeDisplayMode ${t}; domValue: '${n.value}'`),n.value="",this.#i.update(r=>!r),t&&n.blur()}onClosed(){const t=this.selectedItems(),i=this.selectedItem(),n=this.autocomplete().nativeElement,r=this.log.fnIf("onClosed",{selectedItems:t,selectedItem:i});return this.showSelectedItem()?(r.a("showSelectedItem"),i?t.length<2?(n.value=i.label,r.end(`selectedItem & < 2; label updated to ${i.label}`,{selectedItem:i})):void 0:(n.value="",r.end("!selectedItem"))):(n.value="",r.end("!showSelectedItem"))}optionSelected(t){const i=this.features().multiValue,n=this.log.fnIf("optionSelected",{value:t.option.value,multiValue:i}),r=t.option.value;this.showSelectedItem()||!i?(n.a("no multiValue, will set to new"),this.pickerData.state.set([r])):(n.a("multiValue, will add to selection"),this.pickerData.state.add(r)),setTimeout(()=>this.autocomplete().nativeElement.blur())}getPlaceholder(){const t=this.pickerData.optionsAll();var i=this.translate.instant(t.length>0?"Fields.Picker.Search":"Fields.Picker.QueryNoItems");return this.#e.a(`getPlaceholder: '${i}'`,{allOptions:t}),i}insertNull(){this.log.a("insertNull"),this.pickerData.state.add(null)}isOptionDisabled(t){const i=this.selectedItems(),n=i.some(r=>r.value===t);return this.#e.a(`sOptionDisabled value: '${t}'; result: ${n}`,{selected:i}),n}goToLink(t){this.log.a(`goToLink helpLink: '${t}'`),window.open(t,"_blank")}getSelectedItem(t){return this.pickerData.optionsAll().find(i=>i.value===t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(O.c$),e.rXU(J.B))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-search"]],viewQuery:function(i,n){1&i&&e.wEZ(n.autocomplete,jh,5),2&i&&e.NyB()},inputs:{showSelectedItem:[1,"showSelectedItem"],showItemEditButtons:[1,"showItemEditButtons"]},features:[e.Vt3],ngContentSelectors:zh,decls:17,vars:25,consts:[["autocomplete",""],["auto","matAutocomplete"],["color","accent",1,"eav-mat-form-field","my-search",3,"click","formGroup","ngClass"],[1,"show-input-container"],[1,"picker-container",3,"item","settings"],["matInput","",1,"eav-translate-on-dblclick",3,"focus","blur","input","matAutocomplete","value","placeholder","disabled","tippy","tippyArrow"],["matSuffix","",1,"my-item-actions",3,"show","item","index"],["mat-icon-button","","matSuffix","","disableRipple","true",1,"entity-dropdown-button","picker-inline-button",3,"disabled"],["matSuffix",""],[3,"ngClass"],[3,"optionSelected","closed","opened","displayWith","hideSingleSelectionIndicator"],[3,"dataSource","treeControl"],[1,"null-box"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"value","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","settings"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef"],["matTreeNodePadding","","class","eav-tree-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",1,"eav-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["tippy","Add null-item",1,"null-button",3,"click"]],template:function(i,n){if(1&i){const r=e.RV6();e.NAR(Bh),e.j41(0,"mat-form-field",2),e.bIt("click",function(){return e.eBV(r),e.Njj(n.filterSelectionList())}),e.j41(1,"div",3),e.nrm(2,"app-picker-item-preview",4),e.j41(3,"input",5,0),e.bIt("focus",function(){return e.eBV(r),e.Njj(n.pickerData.source.fetchItems())})("blur",function(){return e.eBV(r),e.Njj(n.markAsTouched())})("input",function(){return e.eBV(r),e.Njj(n.filterSelectionList())}),e.k0s()(),e.nrm(5,"app-picker-item-buttons",6),e.j41(6,"button",7)(7,"mat-icon"),e.EFF(8,"arrow_drop_down"),e.k0s()(),e.DNE(9,Uh,2,0,"span",8),e.j41(10,"mat-label",9),e.EFF(11),e.k0s()(),e.j41(12,"mat-autocomplete",10,1),e.bIt("optionSelected",function(u){return e.eBV(r),e.Njj(n.optionSelected(u))})("closed",function(){return e.eBV(r),e.Njj(n.onClosed())})("opened",function(){return e.eBV(r),e.Njj(n.onOpened(n.settings().showAsTree))}),e.DNE(14,Xh,2,0)(15,Jh,3,3,"mat-tree",11),e.k0s(),e.DNE(16,Zh,4,0,"div",12)}if(2&i){let r;const o=e.sdS(13);e.Y8G("formGroup",n.fieldState.group)("ngClass",e.eq3(21,Hh,n.ui().touchedAndInvalid)),e.R7$(2),e.Y8G("item",n.getSelectedItem(null==(r=n.selectedItem())?null:r.value))("settings",n.fieldState.settings()),e.R7$(),e.Y8G("matAutocomplete",o)("value",n.displaySelected(n.selectedItem()))("placeholder",n.getPlaceholder())("disabled",n.ui().disabled||!n.settings().enableAddExisting)("tippy",n.tooltip())("tippyArrow",!0),e.R7$(2),e.Y8G("show",n.showItemEditButtons())("item",n.selectedItem())("index",0),e.R7$(),e.Y8G("disabled",n.ui().disabled||!n.settings().enableAddExisting),e.R7$(3),e.vxM(n.features().textEntry?9:-1),e.R7$(),e.Y8G("ngClass",e.eq3(23,Gh,n.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("displayWith",n.displayFn.bind(n))("hideSingleSelectionIndicator",!0),e.R7$(2),e.vxM(n.settings().showAsTree?15:14),e.R7$(2),e.vxM(n.debugEnabled()?16:-1)}},dependencies:[ct.RG,ct.rl,ct.nJ,ct.yw,He.YN,He.cb,He.X1,He.j4,ne.YU,Ut.fS,Ut.fg,rr.jL,rr.$3,re.wT,rr.pN,gt.Hl,gt.iY,ae.m_,ae.An,re.Sy,rh,ho,mo,go,fo,po,O.h,ur,Vt.e,hr,bo],styles:[".eav-add-new-entity[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.ed-field[_ngcontent-%COMP%]{width:100%;height:100%}.ed-field__create-icon[_ngcontent-%COMP%]{width:38px}.ed-field__create-two-icon[_ngcontent-%COMP%]{width:72px;padding-bottom:4px}.ed-field__create-two-icon[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.ed-field__create-icon-hide[_ngcontent-%COMP%]{width:0}.ed-field__field-short[_ngcontent-%COMP%]{width:calc(100% - 38px);max-width:calc(100% - 38px)}.ed-field__field[_ngcontent-%COMP%]{width:100%}.null-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.null-box[_ngcontent-%COMP%]   .null-button[_ngcontent-%COMP%]{cursor:pointer}.show-input-container[_ngcontent-%COMP%]{display:flex}.picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.my-search[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.picker-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}}return a})();var em=m(7024);const tm={all:!0,options:!0,select:!0};class Nn extends ki{constructor(){super(),this.log=(0,p.Tq)({PickerInlineBaseComponent:Nn},tm),this.options=(0,oe.bo)("options",()=>{const s=this.pickerData.optionsWithMissing(),t=this.selectedItems(),i=s.map(n=>{const r=t.find(o=>o.value===n.value);return{...n,selected:!!r}});return this.log.aIf("options",{options:s,selected:t,final:i}),i}),this.pickerData.source.fetchItems()}select(s){const t=this.log.fn("select",{item:s});if(s.noSelect)return t.end("noSelect, exit early");const i=this.features().multiValue;if(!i)return this.pickerData.state.set([s.value]),t.end("no-multi",{item:s,allowMulti:i});const n=this.options(),r=n.map(v=>v.value===s.value?{...v,selected:!v.selected}:v),o=r.filter(v=>v.selected),u=o.map(v=>v.value);this.pickerData.state.set(u),t.end("multi",{item:s,allowMulti:i,before:n,toggled:r,selected:o,values:u})}}const im=[[["","addNew",""]],[["","freeTextButtons",""]]],nm=["[addNew]","[freeTextButtons]"],am=(a,s,t,i,n)=>({"mat-caption":a,"mat-empty":s,"mat-error":t,color__primary:i,"my-label-disabled":n});let Co=(()=>{class a extends ki{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-inline-header"]],features:[e.Vt3],ngContentSelectors:nm,decls:8,vars:10,consts:[[1,"my-title-bar"],[1,"c-ew__preview-label",3,"ngClass"],[3,"flatIfEmpty","smallGap"]],template:function(i,n){1&i&&(e.NAR(im),e.j41(0,"div",0)(1,"div")(2,"mat-label",1),e.EFF(3),e.k0s(),e.nrm(4,"app-field-helper-text",2),e.k0s(),e.j41(5,"div"),e.SdG(6),e.SdG(7,1),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngClass",e.s1E(4,am,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("flatIfEmpty",!0)("smallGap",!0))},dependencies:[ne.YU,ti],styles:[".my-title-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}.my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}"]})}}return a})();const rm=[[["","addNew",""]],[["","freeTextButtons",""]]],sm=["[addNew]","[freeTextButtons]"],om=()=>({remove:!1}),lm=(a,s)=>s.value;function cm(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-checkbox",2),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.select(n))}),e.nrm(1,"app-picker-item-label",3),e.k0s()}if(2&a){const t=s.$implicit,i=s.$index,n=e.XpG();e.Y8G("checked",t.selected)("disabled",n.ui().disabled||t.noSelect)("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("show",!0)("index",i)("settings",n.fieldState.settings())("uiFeatures",e.lJ4(11,om))("actionsFirst",!0)}}let dm=(()=>{class a extends Nn{constructor(){super(),this.fieldState.requireFeature(Bt.T.PickerUiCheckbox)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-checkboxes"]],features:[e.Vt3],ngContentSelectors:sm,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"checked","disabled","tippy","tippyAllowHtml","tippyArrow"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures","actionsFirst"]],template:function(i,n){1&i&&(e.NAR(rm),e.j41(0,"div",0)(1,"app-picker-inline-header"),e.SdG(2,0,["addNew",""]),e.SdG(3,1,["freeTextButtons",""]),e.k0s(),e.Z7z(4,cm,2,12,"mat-checkbox",1,lm),e.k0s()),2&i&&(e.R7$(4),e.Dyx(n.options()))},dependencies:[ct.RG,re.pZ,em.So,Vt.e,Co,hr],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-checkbox[_ngcontent-%COMP%]{width:100%}"]})}}return a})();const um=[[["","freeTextButtons",""]]],pm=["[freeTextButtons]"],hm=(a,s,t,i,n)=>({"mat-caption":a,"mat-empty":s,"mat-error":t,color__primary:i,"my-label-disabled":n}),mm=()=>({enterDuration:360}),fm=(a,s)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":s}),gm=a=>({"eav-more-entities-margin-right":a}),_m=(a,s)=>s.value+a;function vm(a,s){if(1&a&&(e.j41(0,"mat-list-item",8)(1,"span",9),e.EFF(2),e.k0s()()),2&a){const t=s.$implicit;e.Y8G("tippy",t.tooltip),e.R7$(2),e.JRh(t.label)}}function ym(a,s){if(1&a&&(e.j41(0,"mat-list",5),e.Z7z(1,vm,3,2,"mat-list-item",8,_m),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Dyx(t.selectedItems())}}function bm(a,s){if(1&a&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,gm,t.enableTextEntry())),e.R7$(),e.SpI(" ",t.itemCount()," ")}}function Cm(a,s){1&a&&(e.j41(0,"span",7),e.SdG(1),e.k0s())}let wm=(()=>{class a extends ki{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-pills"]],features:[e.Vt3],ngContentSelectors:pm,decls:9,vars:18,consts:[[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"my-flex"],[1,"eav-list","my-pills"],[1,"eav-more-entities",3,"ngClass"],["matSuffix",""],["role","listitem",1,"eav-list-item",3,"tippy"],["mat-line",""]],template:function(i,n){1&i&&(e.NAR(um),e.j41(0,"div",0)(1,"mat-label",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.bIt("click",function(){return n.expandDialog()}),e.j41(4,"div",3)(5,"div",4),e.DNE(6,ym,3,0,"mat-list",5)(7,bm,2,4,"span",6)(8,Cm,2,0,"span",7),e.k0s()()()()),2&i&&(e.R7$(),e.Y8G("ngClass",e.s1E(8,hm,n.itemCount(),!n.itemCount(),n.ui().touchedAndInvalid&&!n.config.initialDisabled,!n.ui().touchedAndInvalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(14,mm))("ngClass",e.l_i(15,fm,n.ui().touchedAndInvalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.itemCount()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.vxM(n.itemCount()?6:-1),e.R7$(),e.vxM(n.itemCount()>3?7:-1),e.R7$(),e.vxM(n.enableTextEntry()?8:-1))},dependencies:[ct.RG,ct.nJ,ct.yw,ne.YU,re.pZ,re.r6,_n,_c,gn,Vt.e],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:16px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-16px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-container--empty[_ngcontent-%COMP%]{padding:6px 0 0}.eav-more-entities[_ngcontent-%COMP%]{padding:0 12px;margin-left:10px;background:transparent;color:#1d273d;border-radius:10px;border:1px solid rgba(29,39,61,.44);height:18px;font-size:12px;line-height:16px;flex:0 0 auto;display:flex;align-items:center}.eav-more-entities-margin-right[_ngcontent-%COMP%]{margin-right:10px}.eav-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;overflow-y:hidden;flex:1 1 auto;max-height:35px}.eav-list-item[_ngcontent-%COMP%]{width:auto!important;max-width:200px;flex:0 1 auto;height:20px!important;background:#1d273d14;border-radius:10px;margin-right:10px;margin-bottom:7px;font-size:12px;line-height:16px;white-space:nowrap;text-overflow:ellipsis;padding:0 16px}.my-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.my-pills[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;box-sizing:border-box}"]})}}return a})();var Mm=m(3804);const km=[[["","addNew",""]],[["","freeTextButtons",""]]],Dm=["[addNew]","[freeTextButtons]"],Tm=()=>({remove:!1}),xm=(a,s)=>s.value;function Sm(a,s){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"mat-radio-button",1),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.select(n))}),e.nrm(2,"app-picker-item-label",2),e.k0s()()}if(2&a){const t=s.$implicit,i=s.$index,n=e.XpG();e.R7$(),e.Y8G("name",n.name)("checked",t.selected)("disabled",n.ui().disabled||t.noSelect)("tippy",t.tooltip)("tippyAllowHtml",!0)("tippyArrow",!0),e.R7$(),e.Y8G("item",t)("show",!0)("index",i)("settings",n.fieldState.settings())("uiFeatures",e.lJ4(12,Tm))("actionsFirst",!0)}}let Im=(()=>{class a extends Nn{constructor(){super(),this.name=this.fieldState.name,this.fieldState.requireFeature(Bt.T.PickerUiRadio)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-radio"]],features:[e.Vt3],ngContentSelectors:Dm,decls:6,vars:0,consts:[[1,"c-ew__preview-holder"],["tippyShowDelay","500",1,"picker-option-wrapper",3,"click","name","checked","disabled","tippy","tippyAllowHtml","tippyArrow"],[3,"item","show","index","settings","uiFeatures","actionsFirst"]],template:function(i,n){1&i&&(e.NAR(km),e.j41(0,"div",0)(1,"app-picker-inline-header"),e.SdG(2,0,["addNew",""]),e.SdG(3,1,["freeTextButtons",""]),e.k0s(),e.Z7z(4,Sm,3,13,"div",null,xm),e.k0s()),2&i&&(e.R7$(4),e.Dyx(n.options()))},dependencies:[ct.RG,re.pZ,Mm._g,Vt.e,Co,hr],styles:[".picker-option-contents[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%!important}.picker-option-label[_ngcontent-%COMP%]{flex:1 1 auto}.picker-option-wrapper[_ngcontent-%COMP%]   .picker-option-info[_ngcontent-%COMP%]{display:none}.picker-option-wrapper[_ngcontent-%COMP%]:hover   .picker-option-info[_ngcontent-%COMP%]{display:block}.picker-option[_ngcontent-%COMP%]{display:flex;align-items:center}mat-radio-button[_ngcontent-%COMP%]{width:100%}"]})}}return a})();function Em(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?n.toggleFreeText(n.csDisabled()):null)}),e.j41(1,"mat-icon"),e.EFF(2,"search"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"":"active")("disabled",t.csDisabled())}}function Am(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isTextMode()?null:n.toggleFreeText(n.csDisabled()))}),e.j41(1,"mat-icon"),e.EFF(2,"text_fields"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",t.isTextMode()?"active":"")("disabled",t.csDisabled())}}function Om(a,s){if(1&a&&(e.j41(0,"span",0),e.DNE(1,Em,3,2,"button",1)(2,Am,3,2,"button",2),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.vxM(t.showBoth()||t.isTextMode()?1:-1),e.R7$(),e.vxM(t.showBoth()||!t.isTextMode()?2:-1)}}let Fm=(()=>{class a{constructor(){this.csDisabled=(0,e.hFB)(),this.allowText=(0,e.hFB)(),this.isTextMode=(0,e.hFB)(!1),this.showBoth=(0,e.hFB)(!0),this.pickerData=(0,e.WQX)(Ve.W).pickerData}toggleFreeText(t){t||this.pickerData.toggleFreeTextMode()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-toggle-text"]],inputs:{csDisabled:[1,"csDisabled"],allowText:[1,"allowText"],isTextMode:[1,"isTextMode"],showBoth:[1,"showBoth"]},decls:1,vars:1,consts:[["matSuffix","",1,"toggle-buttons"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Dropdown","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"],["mat-icon-button","","tippyTranslate","Fields.String.Freetext","appClickStopPropagation","",1,"eav-suffix-button",3,"click","ngClass","disabled"]],template:function(i,n){1&i&&e.DNE(0,Om,3,2,"span",0),2&i&&e.vxM(n.allowText()?0:-1)},dependencies:[ct.RG,ct.yw,gt.Hl,gt.iY,ne.YU,ae.m_,ae.An,nn.c,Vt.e],styles:[".eav-suffix-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:3px}.toggle-buttons[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px}.toggle-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.toggle-buttons[_ngcontent-%COMP%]   .active.mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{background-color:#1d273d3d;color:#fff}"]})}}return a})();const Pm=[[["","freeTextButtons",""]]],Rm=["[freeTextButtons]"];function Lm(a,s){if(1&a&&e.nrm(0,"textarea",1),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}function Vm(a,s){if(1&a&&e.nrm(0,"input",1),2&a){const t=e.XpG();e.Y8G("required",t.basics().required)("formControlName",t.fieldState.name)("placeholder",t.basics().placeholder)}}let wo=(()=>{class a extends ki{constructor(){super(),this.log=(0,p.Tq)({PickerTextComponent:a}),this.useMultiLine=(0,oe.bo)("useMultiLine",()=>{const i=this.fieldState.settings().Separator;return"\\n"==i||"\n"==i})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-text"]],features:[e.Vt3],ngContentSelectors:Rm,decls:8,vars:3,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",3,"required","formControlName","placeholder"],["matSuffix",""]],template:function(i,n){1&i&&(e.NAR(Pm),e.j41(0,"div")(1,"mat-form-field",0),e.DNE(2,Lm,1,3,"textarea",1)(3,Vm,1,3,"input",1),e.j41(4,"div",2),e.SdG(5),e.k0s(),e.j41(6,"mat-label"),e.EFF(7),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("formGroup",n.fieldState.group),e.R7$(),e.vxM(n.useMultiLine()?2:3),e.R7$(5),e.JRh(n.basics().label))},dependencies:[ct.RG,ct.rl,ct.nJ,ct.yw,He.YN,He.me,He.BC,He.cb,He.YS,He.X1,He.j4,He.JD,Ut.fS,Ut.fg],encapsulation:2})}}return a})();const Mo=()=>({$implicit:!1}),Ym=a=>({"picker-suffix-text":a});function Nm(a,s){1&a&&e.eu8(0,7)}function jm(a,s){if(1&a&&(e.j41(0,"app-picker-text"),e.DNE(1,Nm,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Bm(a,s){1&a&&e.eu8(0,1)}function zm(a,s){1&a&&e.eu8(0,7)}function Hm(a,s){if(1&a&&(e.j41(0,"app-picker-checkboxes"),e.DNE(1,Bm,1,0,"ng-container",8)(2,zm,1,0,"ng-container",9),e.k0s()),2&a){e.XpG();const t=e.sdS(11),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.lJ4(3,Mo))}}function Gm(a,s){1&a&&e.eu8(0,1)}function $m(a,s){1&a&&e.eu8(0,7)}function Um(a,s){if(1&a&&(e.j41(0,"app-picker-radio"),e.DNE(1,Gm,1,0,"ng-container",8)(2,$m,1,0,"ng-container",9),e.k0s()),2&a){e.XpG();const t=e.sdS(11),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",e.lJ4(3,Mo))}}function Wm(a,s){1&a&&e.eu8(0,7)}function Xm(a,s){if(1&a&&(e.j41(0,"app-picker-pills"),e.DNE(1,Wm,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Qm(a,s){1&a&&e.eu8(0,7)}function Km(a,s){if(1&a&&(e.j41(0,"app-picker-search",5),e.DNE(1,Qm,1,0,"ng-container",6),e.k0s()),2&a){e.XpG();const t=e.sdS(11);e.Y8G("showSelectedItem",!0)("showItemEditButtons",!0),e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Jm(a,s){1&a&&e.eu8(0)}function Zm(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.expandDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"post_add"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",t.ui().disabled)}}function qm(a,s){if(1&a&&(e.j41(0,"div",3),e.DNE(1,Jm,1,0,"ng-container",10)(2,Zm,3,1,"button",11),e.k0s()),2&a){const t=e.XpG(),i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.vxM(t.features().showGoToListDialogButton?2:-1)}}function ef(a,s){1&a&&e.nrm(0,"app-field-helper-text")}function tf(a,s){1&a&&e.nrm(0,"br")}function nf(a,s){if(1&a&&(e.j41(0,"span",13),e.nrm(1,"app-picker-toggle-text",14),e.k0s()),2&a){let t;const i=s.$implicit,n=e.XpG();e.Y8G("ngClass",e.eq3(5,Ym,i)),e.R7$(),e.Y8G("csDisabled",n.ui().disabled)("allowText",n.features().textEntry)("isTextMode",n.isInFreeTextMode())("showBoth",null===(t=i)||void 0===t||t)}}function af(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=s.$implicit;e.R7$(2),e.JRh(t.label)}}function rf(a,s){if(1&a&&(e.j41(0,"button",16)(1,"mat-icon"),e.EFF(2,"add_circle_outline"),e.k0s()(),e.j41(3,"mat-menu",null,2),e.Z7z(5,af,3,1,"button",17,e.fX1),e.k0s()),2&a){const t=e.sdS(4),i=e.XpG(3);e.Y8G("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(5),e.Dyx(i.pickerData.state.typesForNew())}}function sf(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openNewEntityDialog(null))}),e.j41(1,"mat-icon"),e.EFF(2,"add_circle_outline"),e.k0s()()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled||!t.features().create)}}function lf(a,s){if(1&a&&e.DNE(0,rf,7,2)(1,sf,3,1,"button",15),2&a){const t=e.XpG(2);e.vxM(t.pickerData.state.typesForNew().length>1?0:1)}}function cf(a,s){if(1&a&&e.DNE(0,lf,2,1),2&a){const t=e.XpG();e.vxM(t.features().showAddNewButton?0:-1)}}let hi=(()=>{class a extends ki{constructor(){super(),this.log=(0,p.Tq)({PickerPreviewComponent:a}),this.#e=this.fieldState.settingExt("PickerDisplayMode"),this.mode=(0,oe.bo)("mode",()=>{if(this.isInFreeTextMode())return"text";switch(this.#e()){case"radio":return"radio";case"checkbox":return"checkbox";case"auto-inline":return this.features().multiValue?"checkbox":"radio";default:return this.selectedItems().length>1?"pills":"search"}}),this.skipHelpText=(0,oe.bo)("helpTextOnTop",()=>{const t=this.mode();return"radio"===t||"checkbox"===t})}#e;static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-preview"]],features:[e.Vt3],decls:14,vars:3,consts:[["textToggle",""],["addNew",""],["entityTypesMenu","matMenu"],[1,"my-flex"],[1,"eav-mat-form-field"],[3,"showSelectedItem","showItemEditButtons"],["freeTextButtons","",4,"ngTemplateOutlet"],["freeTextButtons",""],["addNew","",4,"ngTemplateOutlet"],["freeTextButtons","",4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.OpenMultiselect",1,"picker-inline-button",3,"click","disabled"],[3,"ngClass"],[3,"csDisabled","allowText","isTextMode","showBoth"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-icon-button","","tippyTranslate","Fields.Picker.New",1,"picker-inline-button",3,"click","disabled"]],template:function(i,n){if(1&i&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,jm,2,1,"app-picker-text")(3,Hm,3,4,"app-picker-checkboxes")(4,Um,3,4,"app-picker-radio")(5,Xm,2,1,"app-picker-pills")(6,Km,2,3,"app-picker-search",5),e.k0s(),e.DNE(7,qm,3,2,"div",3),e.k0s(),e.DNE(8,ef,1,0,"app-field-helper-text")(9,tf,1,0,"br")(10,nf,2,7,"ng-template",null,0,e.C5r)(12,cf,1,1,"ng-template",null,1,e.C5r)),2&i){let r;e.R7$(2),e.vxM("text"===(r=n.mode())?2:"checkbox"===r?3:"radio"===r?4:"pills"===r?5:"search"===r?6:-1),e.R7$(5),e.vxM("radio"!==n.mode()&&"checkbox"!==n.mode()?7:-1),e.R7$(),e.vxM(n.skipHelpText()?9:8)}},dependencies:[ne.T3,ne.YU,gt.Hl,gt.iY,Lt.Cn,Lt.kk,Lt.fb,Lt.Cp,ae.m_,ae.An,Vt.e,wm,Fm,fr,wo,dm,Im,ti],styles:[".picker-inline-button[_ngcontent-%COMP%]{scale:.8;margin-left:-4px;margin-right:-4px}.picker-suffix-text[_ngcontent-%COMP%]{min-width:80px}.my-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}"]})}}return a})();const ko=a=>({disabled:a}),df=(a,s)=>s.value+a;function uf(a,s){if(1&a&&(e.j41(0,"mat-label",0),e.EFF(1),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(2,ko,t.ui().disabled)),e.R7$(),e.SpI(" ",t.basics().labelWithRequired," ")}}function pf(a,s){if(1&a&&(e.j41(0,"mat-icon",5),e.EFF(1," drag_handle "),e.k0s()),2&a){const t=e.XpG(3);e.Y8G("tippyDisabled",t.ui().disabled)}}function hf(a,s){if(1&a&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,pf,2,1,"mat-icon",5),e.j41(3,"span",6),e.EFF(4),e.k0s()(),e.nrm(5,"app-picker-item-buttons",7),e.k0s()),2&a){const t=s.$implicit,i=s.$index,n=e.XpG(2);e.Y8G("ngClass","my-item-"+(n.features().multiValue?"draggable":"static")+" "+(n.ui().disabled?"disabled":"")),e.R7$(),e.Y8G("ngClass",e.eq3(8,ko,n.ui().disabled)),e.R7$(),e.vxM(n.features().multiValue?2:-1),e.R7$(),e.Y8G("tippy",t.tooltip),e.R7$(),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("show",!0)("item",t)("index",i)}}function mf(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",2),e.bIt("cdkDropListDropped",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.drop(n))}),e.Z7z(1,hf,6,10,"div",3,df),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("cdkDropListDisabled",!t.features().multiValue||t.ui().disabled)("ngClass","my-list-"+(t.features().multiValue?"draggable":"static")),e.R7$(),e.Dyx(t.selectedItems())}}let ff=(()=>{class a extends ki{constructor(){super(),this.log=(0,p.Tq)({PickerListComponent:a})}drop(t){this.pickerData.state.reorder({previousIndex:t.previousIndex,currentIndex:t.currentIndex})}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-list"]],features:[e.Vt3],decls:2,vars:2,consts:[[1,"field-label",3,"ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDisabled","ngClass"],["cdkDropList","",1,"my-list",3,"cdkDropListDropped","cdkDropListDisabled","ngClass"],["cdkDrag","",1,"my-item",3,"ngClass"],[1,"item-title",3,"ngClass"],["tippyTranslate","Fields.Picker.DragMove",1,"item-title__icon",3,"tippyDisabled"],[1,"item-title__text",3,"tippy"],["matSuffix","",1,"my-item-actions",3,"show","item","index"]],template:function(i,n){1&i&&e.DNE(0,uf,2,4,"mat-label",0)(1,mf,3,2,"div",1),2&i&&(e.vxM(n.features().multiValue?-1:0),e.R7$(),e.vxM(n.selectedItems().length>0?1:-1))},dependencies:[ct.RG,ct.nJ,ct.yw,ae.m_,ae.An,gt.Hl,ne.YU,Wi.O7,Wi.T1,ur,Vt.e],styles:[".my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{padding:0 0 1px;border-bottom:1px solid rgba(0,0,0,.2)}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:hover:not(.disabled){padding:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.my-list-static[_ngcontent-%COMP%]   .my-item-static.disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.field-label[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;user-select:none;font-size:12px;line-height:14px;padding-top:12px;padding-bottom:4px;color:#1d273d70}.field-label.disabled[_ngcontent-%COMP%]{color:#1d273d3d}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]{height:30px;display:flex;align-items:center;justify-content:space-between}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type{height:31px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .item-title[_ngcontent-%COMP%]{margin-top:-2px}.my-list-static[_ngcontent-%COMP%]   .my-item-static[_ngcontent-%COMP%]:first-of-type   .my-item-actions[_ngcontent-%COMP%]{margin-top:-2px}.my-list-draggable[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;overflow:hidden;margin-bottom:32px}.my-item-draggable[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid #ccc;padding:0 8px;display:flex;align-items:center;justify-content:space-between;background:#fff;box-sizing:border-box;font-size:14px}.my-item-draggable[_ngcontent-%COMP%]:not(.disabled){cursor:move}.my-item-draggable[_ngcontent-%COMP%]:last-child{border:none}.item-title[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden}.item-title__icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.4;-webkit-user-select:none;user-select:none}.item-title__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-title.disabled[_ngcontent-%COMP%]   .item-title__icon[_ngcontent-%COMP%]{color:#1d273d3d}.item-title.disabled[_ngcontent-%COMP%]   .item-title__text[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.my-item-actions[_ngcontent-%COMP%]{flex-shrink:0}.my-item[_ngcontent-%COMP%]:not(:hover)   .my-item-actions[_ngcontent-%COMP%]{display:none}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.my-list-draggable.cdk-drop-list-dragging[_ngcontent-%COMP%]   .my-item-draggable[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return a})();function gf(a,s){1&a&&e.nrm(0,"app-picker-search",1),2&a&&e.Y8G("showSelectedItem",!1)("showItemEditButtons",!1)}function _f(a,s){1&a&&e.nrm(0,"app-picker-text")}function vf(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.openNewEntityDialog(n.guid))}),e.j41(1,"span"),e.EFF(2),e.k0s()()}if(2&a){const t=s.$implicit;e.R7$(2),e.JRh(t.label)}}function yf(a,s){if(1&a&&(e.j41(0,"button",4)(1,"mat-icon"),e.EFF(2,"add"),e.k0s()(),e.j41(3,"mat-menu",null,0),e.Z7z(5,vf,3,1,"button",5,e.fX1),e.k0s()),2&a){const t=e.sdS(4),i=e.XpG(2);e.Y8G("disabled",i.ui().disabled||!i.features().create)("matMenuTriggerFor",t),e.R7$(5),e.Dyx(i.pickerData.state.typesForNew())}}function bf(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewEntityDialog(null))}),e.j41(1,"mat-icon"),e.EFF(2,"add"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("disabled",t.ui().disabled||!t.features().create)}}function Cf(a,s){if(1&a&&(e.j41(0,"div",2),e.DNE(1,yf,7,2)(2,bf,3,1,"button",3),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.vxM(t.pickerData.state.typesForNew().length>1?1:2)}}let mi=(()=>{class a extends ki{constructor(){super(...arguments),this.showAddNewEntityButtonInDialog=(0,oe.bo)("showAddNewEntityButtonInDialog",()=>{const t=this.features(),i=this.fieldState.settings();return!this.isInFreeTextMode()&&i.EnableCreate&&i.CreateTypes&&t.multiValue})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(a)))(n||a)}})()}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-dialog"]],features:[e.Vt3],decls:5,vars:2,consts:[["entityTypesMenu","matMenu"],[3,"showSelectedItem","showItemEditButtons"],[2,"display","flex","justify-content","end"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"disabled","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Picker.New",3,"click","disabled"]],template:function(i,n){1&i&&(e.nrm(0,"app-picker-list"),e.DNE(1,gf,1,2,"app-picker-search",1)(2,_f,1,0,"app-picker-text"),e.nrm(3,"app-field-helper-text"),e.DNE(4,Cf,3,1,"div",2)),2&i&&(e.R7$(),e.vxM(n.isInFreeTextMode()?2:1),e.R7$(3),e.vxM(n.showAddNewEntityButtonInDialog()?4:-1))},dependencies:[ff,fr,wo,ti,gt.Hl,gt.$0,Lt.Cn,Lt.kk,Lt.fb,Lt.Cp,ae.m_,ae.An,Vt.e],encapsulation:2})}}return a})();function wf(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Mf(a,s){1&a&&e.nrm(0,"app-picker-dialog")}let Wt=(()=>{class a extends ht.${static{this.logSpecs={all:!1,focusOnSearchComponent:!0,refreshOnChildClosed:!1,childFormResult:!0}}constructor(){super(),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Se),this.#i=(0,e.WQX)(Ve.W),this.#n=this.#i.pickerData,this.showPreview=(0,oe.bo)("showPreview",()=>{const t=this.#n.features();return!t.multiValue||t.multiValue&&!this.#i.isOpen()})}constructorEnd(){this.log??=(0,p.Tq)({PickerComponent:a},a.logSpecs),this.log.a("constructor"),new nr(this.#e).setupPickerData(this.#n,this.#i)}#e;#t;#i;#n;ngOnInit(){this.#n.closeWatcherAttachedWIP||(this.#a(),this.#n.closeWatcherAttachedWIP=!0)}#a(){const t=this.log.fnIf("refreshOnChildClosed"),i=this.#i.config;this.subscriptions.add(this.#t.childFormResult(i.index,i.entityGuid).subscribe(n=>this.log.fnIf("childFormResult",{result:n}).r(this.#n.addNewlyCreatedItem(n)))),t.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&e.GBs(fr,5),2&i){let r;e.mGM(r=e.lsd())&&(n.entitySearchComponent=r.first)}},features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,wf,1,0,"app-picker-preview")(1,Mf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();const kf={all:!0,calculateDropdownOptions:!0,addSelectedIfMissing:!0};class jn{constructor(){this.log=(0,qa.T)({DataSourceDropDownOptions:jn},kf)}parseOptions(s,t,i,n){const r=this.log.fn("calculateDropdownOptions",{currentValue:s,type:t,dropdownValuesFormat:i,dropdownValues:n});if(!n)return r.r(this.addSelectedIfMissing([],s),"No dropdownValues");const o=n.replace(/\r/g,"").split("\n");switch(i){case"":const u=o.map(P=>{const G=P.split(":"),ie=G[1],ce=G.shift(),Ae=G.join(":");return{Title:ce,Value:Ae||""===ie?Ae:ce}});return r.r(this.addSelectedIfMissing(u,s));case"value-label":const v=o.map(P=>{const G=[];for(let Ae=0;Ae<P.length;Ae++){const Ze=P[Ae],nt=P[Ae+1];"\\"!==Ze||null==nt?G.push({char:Ze,escaped:!1}):(G.push({char:nt,escaped:!0}),Ae++)}const ie=G.findIndex(Ae=>":"===Ae.char&&!1===Ae.escaped),ce={Title:ie>=0?G.slice(ie+1,G.length).map(Ae=>Ae.char).join(""):G.map(Ae=>Ae.char).join(""),Value:ie>=0?G.slice(0,ie).map(Ae=>Ae.char).join(""):G.map(Ae=>Ae.char).join("")};return"number"===t&&(ce.Value=null!=ce.Value&&""!==ce.Value?isNaN(Number(ce.Value))?null:Number(ce.Value):null),ce});return r.r(this.addSelectedIfMissing(v,s))}}addSelectedIfMissing(s,t){const i=this.log.fn("addSelectedIfMissing",{options:s,currentValue:t});if(null==t||""===t)return i.r(s,"currentValue is null");const n=t.toString();return s.some(o=>o.Value?.toString()===n)?i.r(s,"found"):i.r([...s,{Title:n,Value:t}])}}var Df=m(2853),Tf=m.n(Df);const xf={all:!0,parse:!0};class gr{constructor(){this.log=(0,p.Tq)({DataSourceParserCsv:gr},xf)}parse(s){const t=this.log.fnIf("parse",{csv:s}),i=Tf().parse(s,{header:!0,skipEmptyLines:!0,transformHeader:ie=>ie.trim(),transform:(ie,ce)=>"Value"==ce?ie:ie.trim(),dynamicTyping:!0}),n=i?.data;if(!n||!Array.isArray(n)||0==n.length)return[];const r=n.filter(ie=>void 0!==ie.Value);r.length!=n.length&&console.warn("CSV contains rows without a value",{data:n,filtered:r});const o=i?.meta.fields??[],u=o.reduce((ie,ce)=>({...ie,[ce]:null}),{}),{Value:v,...P}=u;t.a("Parsed CSV",{header:o,empty:P,data:n,filtered:r});const G=r.map(ie=>({...P,...ie,Value:ie.Value??""}));return t.r(G)}}const Sf={all:!0,getDataSourceAndSetupFieldSettings:!0,data:!0};class vi{constructor(){this.log=(0,p.Tq)({PickerLogicShared:vi},Sf)}static setDefaultSettings(s){const t=s;return t.AllowMultiValue??=!1,t.EnableEdit??=!0,t.EnableCreate??=!0,t.EnableAddExisting??=!0,t.EnableRemove??=!0,t.EnableDelete??=!1,t.Label??="",t.EnableTextEntry??=!1,t.noAutoFocus=!0,t}static maybeOverrideEditRestrictions(s,t){const i=s;return t.eavConfig.removeEditRestrictions&&t.debug?(console.log(`SystemAdmin + Debug: Overriding edit restrictions for field '${i.Name}' (EntityType: '${i.EntityType}').`),i.EnableEdit=!0,i.EnableCreate=!0,i.EnableAddExisting=!0,i.EnableRemove=!0,i.EnableDelete=!0,{fs:i,removeEditRestrictions:!0}):{fs:i,removeEditRestrictions:!1}}preUpdate({settings:s,tools:t,value:i}){const n=vi.setDefaultSettings({...s}),{fs:r,removeEditRestrictions:o}=vi.maybeOverrideEditRestrictions(n,t),{fs:u,typeConfig:v}=(new vi).#e(i,r,t);return{fs:u,removeEditRestrictions:o,typeConfig:v}}#e(s,t,i){const n=t,r=n.DataSources?.length>0?i.contentTypeItemSvc.getMany(n.DataSources):[],o=r[0],u=o?.Type.Name;n.dataSourceType=u??"";const v=i.reader.flatten(o),P=Object.values(zt).includes(u),G=this.log.fn("dataSources",{dataSources:r});if(G.values({typeName:u,isKnownType:P,dataSources:r,typeConfig:v}),!P)return console.error(`Unknown picker source type: '${u}' on field ${n.Name}`),{fs:n,typeConfig:v};n.CreateTypes=v.CreateTypes??"",n.MoreFields=v.MoreFields??"",n.Label=v.Label??"",n.ItemInformation=v.ItemInformation??"",n.ItemTooltip=v.ItemTooltip??"",n.ItemLink=v.ItemLink??"",n.PreviewType=v.PreviewType??"",n.Value=v.Value??"",n.PreviewValue=v.PreviewValue??"";const ie=u===zt.UiPickerSourceQuery,ce=u===zt.UiPickerSourceEntity,Ae=u===zt.UiPickerSourceCss,Ze=u===zt.UiPickerSourceAppAssets;G.values({sourceIsQuery:ie,sourceIsEntity:ce,sourceIsCss:Ae,sourceIsAppAssets:Ze});const nt=Object.values(ir).includes(u);if(ie){const rt=v;n.Query=rt.Query??"",n.StreamName=rt.StreamName??"Default",n.UrlParameters=rt.QueryParameters??""}if(ce&&(n.EntityType=v.ContentTypeNames??""),Ae&&(n.CssSourceFile=v.CssSourceFile??"",n.CssSelectorFilter=v.CssSelectorFilter??""),Ze&&(n.AssetsRootFolder=v.AssetsRootFolder??"/",n.AssetsFileFilter=v.AssetsFileFilter??"*.*",n.AssetsType=v.AssetsType??"files",n.requiredFeatures=[Bt.T.PickerSourceAppAssets]),nt)if(u===zt.UiPickerSourceCustomList){const rt=v.Values??"";n._options??=(new jn).parseOptions(s,"string","value-label",rt)??[]}else if(u===zt.UiPickerSourceCustomCsv){const rt=v.Csv;n._options??=(new gr).parse(rt),n.requiredFeatures=[Bt.T.PickerSourceCsv]}return n.AllowMultiValue?n.EnableReselect??=!1:n.EnableReselect=!1,n.AllowMultiValue?(n.AllowMultiMin??=0,n.AllowMultiMax??=0):(n.AllowMultiMin=0,n.AllowMultiMax=0),n.PickerDisplayMode??="list",n.PickerDisplayConfiguration??=[],n.PickerTreeConfiguration=this.#t(n,i),{fs:n,typeConfig:v}}#t(s,t){if(s.PickerTreeConfiguration)return s.PickerTreeConfiguration;if("tree"!==s.PickerDisplayMode)return null;const i=s.PickerDisplayConfiguration?.length>0?t.contentTypeItemSvc.getMany(s.PickerDisplayConfiguration):[];if(i[0]?.Type.Name!==ao)return null;const r=t.reader.flatten(i[0]);return{Title:r.Title??"",ConfigModel:ao,TreeRelationship:r.TreeRelationship??Yn,TreeBranchesStream:r.TreeBranchesStream??"Default",TreeLeavesStream:r.TreeLeavesStream??"Default",TreeParentIdField:r.TreeParentIdField??"Id",TreeChildIdField:r.TreeChildIdField??"Id",TreeParentChildRefField:r.TreeParentChildRefField??"Children",TreeChildParentRefField:r.TreeChildParentRefField??"Parent",TreeShowRoot:r.TreeShowRoot??!0,TreeDepthMax:r.TreeDepthMax??10,TreeAllowSelectRoot:r.TreeAllowSelectRoot??!0,TreeAllowSelectBranch:r.TreeAllowSelectBranch??!0,TreeAllowSelectLeaf:r.TreeAllowSelectLeaf??!0}}}class an extends mt.S{constructor(){super({EntityDefaultLogic:an}),this.name=Je.u.EntityDefault}update({settings:s,tools:t}){const i=vi.setDefaultSettings({...s});return i.EntityType??="",i.CreateTypes=i.EntityType??"",i.CreatePrefill??=i.Prefill,delete i.Prefill,vi.maybeOverrideEditRestrictions(i,t).fs}}function If(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Ef(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(an);let Do=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({EntityDefaultComponent:a},Wt.logSpecs),this.constructorEnd(),an.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-default"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,If,1,0,"app-picker-preview")(1,Ef,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();function Af(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Of(a,s){1&a&&e.nrm(0,"app-picker-dialog")}let Ff=(()=>{class a extends Do{constructor(){super(),In.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-content-blocks"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Af,1,0,"app-picker-preview")(1,Of,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();class Bn extends mt.S{constructor(){super({EntityPickerLogic:Bn}),this.name=Je.u.EntityPicker}update(s){return(new vi).preUpdate(s).fs}}function Pf(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Rf(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(Bn);let Lf=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({EntityPickerComponent:a},Wt.logSpecs),this.constructorEnd(),Bn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Pf,1,0,"app-picker-preview")(1,Rf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();class zn extends mt.S{constructor(){super({EntityQueryLogic:zn}),this.name=Je.u.EntityQuery}update(s){const i=w.y.singleton().get(Je.u.EntityDefault).update(s);return i.Query??="",i.StreamName||="Default",i.UrlParameters??="",i}}function Vf(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Yf(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(zn);let Nf=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({EntityQueryComponent:a},Wt.logSpecs),this.constructorEnd(),zn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["entity-query"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Vf,1,0,"app-picker-preview")(1,Yf,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();var To=m(1134);let _r=(()=>{class a extends q.D{constructor(t){super(),this.formConfig=t}getAll(t,i){return this.getHttp(t+"/items",{params:{subfolder:i.subfolder,usePortalRoot:i.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}addFolder(t,i,n){return this.http.post(i+"/folder",{},{params:{subfolder:n.subfolder,newFolder:E.SX.sanitizeName(t),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}rename(t,i,n,r){return this.getHttp(n+"/rename",{params:{subfolder:r.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:r.usePortalRoot.toString(),newName:E.SX.sanitizeName(i),appId:this.formConfig.config.appId}})}deleteItem(t,i,n){return this.getHttp(i+"/delete",{params:{subfolder:n.subfolder,isFolder:t.IsFolder.toString(),id:t.Id.toString(),usePortalRoot:n.usePortalRoot.toString(),appId:this.formConfig.config.appId}})}getLinkInfo(t,i,n,r){return this.getHttp(this.apiUrl("cms/edit/linkInfo"),{params:{link:t,...n&&{guid:n},...i&&{contentType:i},...r&&{field:r},appid:this.formConfig.config.appId}})}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(S.S))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var rn=m(8857),xo=m(7419),So=m(3518);class vr{get field(){return this.fieldConfigSignal()}get field$(){return this.#e??=(0,Ne.br)(this.fieldConfigSignal,{injector:this._experimental.injector})}#e;constructor(s,t,i,n,r){this.fieldConfigSignal=i,this._experimental=n,this.log=(0,p.Tq)({ConnectorInstance:vr}),this.data=new jf(s,t),this.dialog=new Bf(s),this.loadScript=(o,u,v)=>{if(("string"==typeof o||"function"==typeof o)&&"string"==typeof u&&"function"==typeof v)return u=Ee.resolveUrlTokens(u,r),void(0,So.P)([{test:o,src:u}],v);if(!Array.isArray(o)||"function"!=typeof u)throw new Error("Unrecognized parameters. Please double check your input");for(const G of o)G.src=Ee.resolveUrlTokens(G.src,r);(0,So.P)(o,u)}}}class jf{constructor(s,t){this._connectorHost=s,this.value$=t,this.clientValueChangeListeners=[],this.value$.subscribe(i=>{this.value=i,this.clientValueChangeListeners.forEach(n=>n(i))})}update(s){this._connectorHost.update(s)}onValueChange(s){this.clientValueChangeListeners.push(s)}}class Bf{constructor(s){this._connectorHost=s}open(s){return this._connectorHost.expand(!0,s)}close(){this._connectorHost.expand(!1)}}const zf={all:!1,constructor:!1,init:!0,getUrlOfId:!1,updateControl:!1,openFeatureDisabledWarning:!1};let Io=(()=>{class a extends Pe.V{#e;#t;#i;#n;#a;#r;#s;#o;#l;#d;#c;#u;constructor(){super(),this.log=(0,p.Tq)({ConnectorHelper:a},zf),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Ve.W),this.#i=(0,e.WQX)(S.S),this.#n=(0,e.WQX)(O.c$),this.#a=(0,e.WQX)(V.n),this.#r=(0,e.WQX)($.A),this.#s=(0,e.WQX)(A.D),this.#o=(0,e.WQX)(Se),this.#l=(0,e.WQX)(Ce.bZ),this.#d=(0,e.WQX)(se.UG),this.#c=(0,e.WQX)(e.SKi),this.#u=(0,c.d)(_r),this.#g=this.#t.ui().control.valueChanges.pipe((0,Ge.Z)(this.#t.uiValue()),(0,Bi.F)(yi.A)),this.#p=this.#t.config,this.#m=this.#t.group,this.log.aIf("constructor")}#h;#g;#p;#m;#f;#_;init(t,i,n,r){return this.log.a("init"),this.#f=n,this.#_=r,this.#h=document.createElement(t),this.#h.connector=this.#v(),i.nativeElement.appendChild(this.#h),this}ngOnDestroy(){this.log.a("ngOnDestroy"),this.#h?.parentNode.removeChild(this.#h),this.#h=null,super.ngOnDestroy()}#v(){const t=this.#y(),i=this.#C(),n=(0,e.EWP)(()=>{const o=this.#t.settings();return function Hf(a,s){return{name:a.fieldName,index:a.index,label:s.Name,placeholder:s.Placeholder,inputType:a.inputTypeSpecs.inputType,type:a.type,required:s.valueRequired,disabled:a.initialDisabled,settings:s}}(this.#p,o)},{equal:yi.A}),r=new vr(t,this.#g,n,i,this.#i.config);return(0,e.QZP)(()=>{const o=this.#t.settings(),u=r.field;u.settings=o,u.label=o.Name,u.placeholder=o.Placeholder,u.required=o.valueRequired},{injector:this.#e}),r}#y(){return{update:i=>{this.#c.run(()=>this.#b(i))},expand:(i,n)=>{this.#c.run(()=>this.#o.expand(i,this.#p.index,this.#p.entityGuid,n))}}}#C(){const t=this.#a.get(this.#p.contentTypeNameId),i=this.#r.getAttributeInputTypes(t.Attributes),n=(0,p.Tq)("ConnectorHelperExperimental");return{entityGuid:this.#p.entityGuid,allInputTypeNames:i,formGroup:this.#m,translateService:this.#n,isExpanded$:this.#o.isExpanded$(this.#p.index,this.#p.entityGuid),dropzone:this.#p.dropzone,adam:this.#p.adam,updateField:(o,u)=>{n.fn("updateField",{name:o,value:u}),this.#c.run(()=>{this.#b(u,this.#m.controls[o])})},isFeatureEnabled:this.#s.isEnabled,setFocused:o=>{n.fn("setFocused",{focused:o}),this.#c.run(()=>{this.#p.focused$.next(o)})},openPagePicker:o=>{n.fn("openPagePicker"),this.#c.run(()=>{xo.C.open(this.#p,this.#m,this.#l,this.#f,this.#_,o)})},featureDisabledWarning:o=>{n.fn("featureDisabledWarning",{featureNameId:o}),this.#c.run(()=>{this.#M(o)})},getUrlOfId:(o,u)=>{n.fn("getUrlOfId",{value:o}),this.#c.run(()=>{this.#w(o,u)})},getSettings:o=>this.#i.config.settings?.Values[o],getFieldMask:(o,u)=>(0,c.d)(E.Nt,this.#e).init(u,o),injector:this.#e}}#w(t,i){if(!t)return;const n=this.#p.contentTypeNameId,r=this.#p.entityGuid,o=this.#p.fieldName;this.#u.getLinkInfo(t,n,r,o).subscribe(u=>{u&&i(u.Value)})}#b(t,i=null){(i?new rn.a(i):this.#t.ui()).disabled||this.#t.ui().setIfChanged(t)}#M(t){t===Bt.T.PasteImageFromClipboard&&this.#d.open(this.#n.instant("Message.PastingFilesIsNotEnabled"),this.#n.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>(0,hn.j)(this.#l,Bt.T.PasteImageFromClipboard,this.#f,this.#_))}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Gf=["customElContainer"];let $f=(()=>{class a{constructor(){this.log=(0,p.Tq)({ConnectorComponent:a}),this.fieldState=(0,e.WQX)(Ve.W),this.connectorCreator=(0,c.d)(Io),this.viewContainerRef=(0,e.WQX)(e.c1b),this.changeDetectorRef=(0,e.WQX)(e.gRc)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=history?.state?.componentTag||this.fieldState.config.inputTypeSpecs.componentTagDialogName;t.a("Connector created for:",{componentTag:i}),this.connectorCreator.init(i,this.customElContainerRef,this.viewContainerRef,this.changeDetectorRef)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-connector"]],viewQuery:function(i,n){if(1&i&&e.GBs(Gf,5),2&i){let r;e.mGM(r=e.lsd())&&(n.customElContainerRef=r.first)}},decls:2,vars:0,consts:[["customElContainer",""],[2,"height","100%","position","relative"]],template:function(i,n){1&i&&e.nrm(0,"div",1,0)},encapsulation:2})}}return a})();class Hn extends mt.S{constructor(){super({CustomGpsLogic:Hn}),this.name=Je.u.CustomGps}update({settings:s}){return{...s}}}mt.S.add(Hn);class Gn extends mt.S{constructor(){super({StringWysiwygLogic:Gn}),this.name=Je.u.StringWysiwyg,this.canAutoTranslate=!0}update({settings:s,tools:t}){const i={...s};return i._allowDialog??=null==i.Dialog||""===i.Dialog,i.Dialog||="inline",i.ButtonSource||="",i.ButtonAdvanced||="",i.ContentCss||="",i.InlineInitialHeight||="3",i._advanced=this.findAndMergeAdvanced(t,i.WysiwygConfiguration,{Mode:"default",Json:""}),i}processValueOnLoad(s,t){try{const i=(new DOMParser).parseFromString(s,"text/html");return i.body.querySelectorAll("img").forEach(n=>{const r=n.getAttribute("data-cmsid")?.replace("file:",""),o=n.getAttribute("src");if(r&&o){const u=o.split("/").pop();if(r===u){const v=t.find(P=>P.Name===r);v&&n.setAttribute("src",v.Url)}}}),i.body.innerHTML}catch(i){return console.error("Error while cleaning wysiwyg content",i),s}}}function Uf(a,s){1&a&&e.nrm(0,"mat-spinner",0)}function Wf(a,s){1&a&&e.nrm(0,"app-connector")}mt.S.add(Gn);let Xf=(()=>{class a{constructor(t){this.scriptsLoaderService=t,this.log=(0,p.Tq)({ExternalWebComponentComponent:a}),this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.loading=(0,e.vPA)(!0),Gn.importMe(),Hn.importMe()}ngOnInit(){this.loadAssets()}loadAssets(){const t=this.config.inputTypeSpecs.metadata.AngularAssets.split("\n");0!==t.length&&this.scriptsLoaderService.load(t,this.assetsLoaded.bind(this))}assetsLoaded(){this.log.fn("assetsLoaded "+this.config.fieldName),this.loading.set(!1)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ee))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["external-web-component"]],decls:2,vars:1,consts:[["color","accent"]],template:function(i,n){1&i&&e.DNE(0,Uf,1,0,"mat-spinner",0)(1,Wf,1,0,"app-connector"),2&i&&e.vxM(n.loading()?0:n.fieldState.isOpen()?1:-1)},dependencies:[To.D6,To.LG,$f],encapsulation:2})}}return a})();const Qf={all:!0,constructor:!1,handleImage:!1};let yr=(()=>{class a{#e;#t;constructor(t,i,n,r,o,u,v){this.elementRef=t,this.features=i,this.snackBar=n,this.translate=r,this.matDialog=o,this.viewContainerRef=u,this.changeDetectorRef=v,this.log=(0,p.Tq)({PasteClipboardImageDirective:a},Qf),this.config=(0,e.hFB)(),this.elementType=(0,e.hFB)(),this.#e=[],this.#t=this.features.isEnabled[Bt.T.PasteImageFromClipboard](),this.log.fn("constructor",{elementType:this.elementType(),pasteImageEnabled:this.#t})}ngOnInit(){switch(this.elementType()){case"input":this.elementRef.nativeElement.pastableTextarea();break;case"element":this.elementRef.nativeElement.pastableNonInputable()}const t=i=>{this.#i(i)};this.elementRef.nativeElement.addEventListener("handleImage",t),this.#e.push({element:this.elementRef.nativeElement,type:"handleImage",listener:t})}ngOnDestroy(){this.#e.forEach(({element:t,type:i,listener:n})=>{t.removeEventListener(i,n)})}#i(t){const i=this.#t,n=this.log.fnIf("handleImage",{event:t},"handling paste image - "+(i?"enabled":"disabled"));if(i){const r=this.#n(t.detail);this.config().dropzone.uploadFile(r),n.end("started upload")}else this.snackBar.open(this.translate.instant("Message.PastingFilesIsNotEnabled"),this.translate.instant("Message.FindOutMore"),{duration:3e3}).onAction().subscribe(()=>{(0,hn.j)(this.matDialog,Bt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}),n.end("not enabled, showing snackbar")}#n(t){let i=t.file;try{const n=new FormData;n.append("file",t.file,t.imageFileName),i=n.get("file")}catch(n){console.error("paste image error",n)}return i}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(A.D),e.rXU(se.UG),e.rXU(O.c$),e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(e.gRc))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appPasteClipboardImage",""]],inputs:{config:[1,"config"],elementType:[1,"elementType"]}})}}return a})(),Eo=(()=>{class a{#e;#t;constructor(t,i,n,r,o,u){this.formConfig=t,this.matDialog=i,this.viewContainerRef=n,this.changeDetectorRef=r,this.linkCacheService=o,this.formsStateService=u,this.log=(0,p.Tq)({HyperlinkDefaultBaseComponent:a}),this.preview=(0,e.vPA)({url:"",thumbnailUrl:"",previewUrl:"",floatingText:"",isImage:!1,isKnownType:!1,icon:""}),this.fieldState=(0,e.WQX)(Ve.W),this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.config=this.fieldState.config,this.group=this.fieldState.group,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(Se),this.adamService=(0,c.d)(_r),this.adamItem=(0,oe.bo)("adamItem",()=>{const v=this.uiValue(),P=this.config.adam.items();if(!v||!P.length)return;const G=v.trim().match(/^file:([0-9]+)$/i);if(!G)return;const ie=parseInt(G[1],10);return P.find(Ae=>Ae.Id===ie)})}ngOnInit(){(0,e.QZP)(()=>{this.log.a("controlStatus effect");const t=this.fieldState.uiValue();this.fetchLink(t)},{injector:this.#e})}openPagePicker(){xo.C.open(this.config,this.group,this.matDialog,this.viewContainerRef,this.changeDetectorRef,t=>{t&&this.fieldState.ui().setIfChanged(`page:${t.id}`)})}openImageConfiguration(t){if(this.formsStateService.readOnly().isReadOnly||!t?._imageConfigurationContentType)return;const i={items:[t._imageConfigurationId>0?C.c.editId(t._imageConfigurationId):C.c.newMetadata(t.ReferenceId,t._imageConfigurationContentType,Ti.YX.metadata.cmsObject)]};this.#t.open(this.config.index,this.config.entityGuid,i)}fetchLink(t){if(this.log.a("fetchLink",{value:t}),!t)return void this.setPreview(t,!1);if(!this.isFileOrPage(t))return void this.setPreview(t,!1);const n=this.linkCacheService.get(t);if(n){const v=!this.isFileOrPage(n.Value);this.setPreview(n.Value,v,n.Adam)}else this.adamService.getLinkInfo(t,this.config.contentTypeNameId,this.config.entityGuid,this.config.fieldName).subscribe(v=>{if(!v)return void this.setPreview(t,!1);this.linkCacheService.addLink(t,v);const P=!this.isFileOrPage(v.Value);this.setPreview(v.Value,P,v.Adam)})}setPreview(t,i,n){const r=this.getPreview(t,i,n);this.preview.set(r)}getPreview(t,i,n){return{url:t=t.replace(/\[App:Path\]/i,E.b.getUrlPrefix("app",this.formConfig.config)),floatingText:i?`.../${t.substring(t.lastIndexOf("/")+1)}`:"",thumbnailUrl:`url("${n?.ThumbnailUrl??this.buildUrl(t,1)}")`,previewUrl:n?.PreviewUrl??this.buildUrl(t,2),isImage:E.M5.isImage(t),isKnownType:E.M5.isKnownType(t),icon:E.M5.getIconClass(t)}}buildUrl(t,i){let n="";return 1===i&&(n+="w=80&h=80&mode=crop"),2===i&&(n+="w=800&h=800&mode=max"),n&&!t.includes("?")&&(n="?"+n),t+n}isFileOrPage(t){const i=t.trim().toLocaleLowerCase();return i.startsWith("file:")||i.startsWith("page:")}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(S.S),e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(K),e.rXU(jt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-base-field-hyperlink-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return a})();class $n extends mt.S{constructor(){super({HyperlinkDefaultLogic:$n}),this.name=Je.u.HyperlinkDefault}update({settings:s}){const t={...s};return t.Buttons||="adam,more",t.FileFilter??="",t.Paths??="",t.ServerResourceMapping??="",t.EnableImageConfiguration??=!0,t}}mt.S.add($n);const Kf=a=>({"metadata-exists":a});function Jf(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(1,"mat-icon",18),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function Zf(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",20),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function qf(a,s){if(1&a&&(e.j41(0,"button",6)(1,"mat-icon"),e.EFF(2,"more_vert"),e.k0s()()),2&a){e.XpG();const t=e.sdS(8),i=e.XpG(2);e.Y8G("disabled",i.ui().disabled)("matMenuTriggerFor",t)}}function eg(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!1,!1))}),e.nrm(1,"mat-icon",18),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuAdam")))}function tg(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",20),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuPage")))}function ig(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!0))}),e.nrm(1,"mat-icon",23),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuImage")))}function ng(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.toggleAdam(!0,!1))}),e.nrm(1,"mat-icon",24),e.j41(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&a&&(e.R7$(3),e.JRh(e.bMT(4,1,"Fields.Hyperlink.Default.MenuDocs")))}function ag(a,s){if(1&a&&e.DNE(0,eg,5,3,"button",21)(1,tg,5,3,"button",21)(2,ig,5,3,"button",21)(3,ng,5,3,"button",21),2&a){const t=e.XpG(3);e.vxM(t.showAdam()?0:-1),e.R7$(),e.vxM(t.showPagePicker()?1:-1),e.R7$(),e.vxM(t.showImageManager()?2:-1),e.R7$(),e.vxM(t.showFileManager()?3:-1)}}function rg(a,s){if(1&a&&(e.j41(0,"div",15)(1,"div",25),e.EFF(2),e.k0s(),e.j41(3,"div",26)(4,"a",27)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(2),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function sg(a,s){if(1&a&&(e.j41(0,"a",28)(1,"div",30),e.nrm(2,"img",31),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B),e.R7$(2),e.Y8G("src",t.previewUrl,e.B4B)}}function og(a,s){if(1&a&&(e.j41(0,"a",29)(1,"div",32),e.nrm(2,"mat-icon",33),e.k0s()()),2&a){const t=e.XpG(3);e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.Y8G("svgIcon",t.icon)}}function lg(a,s){if(1&a&&(e.j41(0,"div",16),e.DNE(1,sg,3,2,"a",28)(2,og,3,3,"a",29),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.vxM(t.isImage?1:2)}}function cg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",1),e.DNE(1,Jf,2,1,"button",2),e.j41(2,"button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(3,"mat-icon",4),e.EFF(4,"filter_center_focus"),e.k0s()(),e.DNE(5,Zf,2,1,"button",5)(6,qf,3,2,"button",6),e.k0s(),e.j41(7,"mat-menu",7,0),e.DNE(9,ag,4,4,"ng-template",8),e.k0s(),e.j41(10,"div",9)(11,"div",10)(12,"mat-card",11)(13,"div",12)(14,"mat-form-field",13),e.nrm(15,"input",14),e.j41(16,"mat-label"),e.EFF(17),e.k0s()(),e.DNE(18,rg,7,4,"div",15),e.k0s(),e.DNE(19,lg,3,1,"div",16),e.k0s()()()}if(2&a){let t,i,n;const r=e.XpG(),o=e.XpG();e.R7$(),e.vxM(o.buttonAdam()?1:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=o.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(16,Kf,(null==(i=o.adamItem())?null:i._imageConfigurationId)>0)),e.R7$(),e.Y8G("tippyTranslate",o.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(n=o.adamItem())?null:n._imageConfigurationContentType),e.R7$(2),e.vxM(o.buttonPage()?5:-1),e.R7$(),e.vxM(o.buttonMore()?6:-1),e.R7$(8),e.Y8G("formGroup",o.group),e.R7$(),e.Y8G("formControlName",o.config.fieldName)("placeholder",o.basics().placeholder)("required",o.basics().required)("config",o.config)("elementType","input"),e.R7$(2),e.JRh(o.basics().label),e.R7$(),e.vxM(null!=r&&r.floatingText?18:-1),e.R7$(),e.vxM(o.uiValue()?19:-1)}}function dg(a,s){if(1&a&&e.DNE(0,cg,20,18),2&a){const t=e.XpG();e.vxM(t.fieldState.isOpen()?0:-1)}}let br=class Br extends Eo{constructor(s,t,i,n,r,o){super(s,t,i,n,r,o),this.buttonAdam=(0,e.EWP)(()=>this.settings().Buttons.includes("adam"),oi.bool),this.buttonPage=(0,e.EWP)(()=>this.settings().Buttons.includes("page"),oi.bool),this.buttonMore=(0,e.EWP)(()=>this.settings().Buttons.includes("more"),oi.bool),this.showAdam=this.fieldState.settingExt("ShowAdam"),this.showPagePicker=this.fieldState.settingExt("ShowPagePicker"),this.showImageManager=this.fieldState.settingExt("ShowImageManager"),this.showFileManager=this.fieldState.settingExt("ShowFileManager"),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),$n.importMe();const u=(0,oe.bo)("adamSettings",()=>{const v=this.fieldState.settings();return{rootSubfolder:v.Paths,fileFilter:v.FileFilter,autoLoad:!0}});(0,e.QZP)(()=>{const v=u();this.config.adam.setConfig(v)})}ngOnInit(){super.ngOnInit(),this.config.adam.onItemClick=s=>{this.setValue(s)},this.config.adam.onItemUpload=s=>{this.setValue(s)}}toggleAdam(s,t){this.config.adam.toggle(s,t)}setValue(s){const i="url"===this.settings().ServerResourceMapping?s.Url:s.ReferenceId;this.fieldState.ui().setIfChanged(i)}static{this.\u0275fac=function(t){return new(t||Br)(e.rXU(S.S),e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(K),e.rXU(jt))}}static{this.\u0275cmp=e.VBU({type:Br,selectors:[["hyperlink-default"]],features:[e.Vt3],decls:1,vars:1,consts:[["menu","matMenu"],[1,"fabs-box"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"disabled"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.MoreOptions",3,"disabled","matMenuTriggerFor"],[1,"menu-box"],["matMenuContent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","hyperlink-card","shadow-bottom-z-1"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",3,"formControlName","placeholder","required","config","elementType"],[1,"hyperlink-floating"],[1,"preview-wrapper"],["mat-mini-fab","","color","accent","tippyTranslate","Fields.Hyperlink.Default.AdamTip",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-mini-fab","","color","primary","tippyTranslate","Fields.Hyperlink.Default.PageTip",3,"click","disabled"],["svgIcon","sitemap"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["svgIcon","file-image"],["svgIcon","file"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank",1,"hyperlink-floating__url",3,"href","tippy"],["target","_blank",3,"href"],["target","_blank","tippyPlacement","right",3,"href","tippy"],[1,"preview-image-box"],[1,"preview-image",3,"src"],[1,"preview-icon-box"],[3,"svgIcon"]],template:function(t,i){if(1&t&&e.DNE(0,dg,1,1),2&t){let n;e.vxM((n=i.preview())?0:-1,n)}},dependencies:[gt.Hl,gt.$0,ae.m_,ae.An,ne.YU,Lt.Cn,Lt.kk,Lt.fb,Lt.z8,Lt.Cp,pt.Hu,pt.RN,ct.RG,ct.rl,ct.nJ,He.YN,He.me,He.BC,He.cb,He.YS,He.X1,He.j4,He.JD,Ut.fS,Ut.fg,yr,O.h,O.D9,Vt.e],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.fabs-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:8px;z-index:11;position:fixed;width:800px;pointer-events:none}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:16px;pointer-events:auto}.fabs-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:32px!important}.menu-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center}.hyperlink-card[_ngcontent-%COMP%]{border-radius:8px}.preview-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:8px}.preview-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.preview-image-box[_ngcontent-%COMP%]{z-index:100;width:100%;height:auto}.preview-image[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 219px - var(--edit-dialog-header-height) - var(--edit-dialog-margin-top));height:auto}.preview-icon-box[_ngcontent-%COMP%]{z-index:100;display:flex;align-items:center;justify-content:center;width:80px;height:80px;background-color:#1d273d14}.preview-icon-box[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;line-height:56px;color:#1d273d70}"]})}};br=(0,Ot.Cg)([ei({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-default-expandable-wrapper","app-adam-wrapper"]}),(0,Ot.Sn)("design:paramtypes",[S.S,Ce.bZ,e.c1b,e.gRc,K,jt])],br);class Un extends mt.S{constructor(){super({HyperlinkLibraryLogic:Un}),this.name=Je.u.HyperlinkLibrary}update({settings:s}){const t={...s};return t.EnableImageConfiguration??=!0,t}}mt.S.add(Un);let Cr=class zr{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.injector=(0,e.WQX)(e.zZn),Un.importMe();let s=!0;(0,e.QZP)(()=>{const t=this.fieldState.ui().control;t.adamItems=this.fieldState.config.adam.items().length,s||t.updateValueAndValidity(),s=!1})}ngOnInit(){this.attachAdamConfig()}attachAdamConfig(){const s=(0,oe.bo)("adamConfig",()=>{const t=this.fieldState.settings();return{allowAssetsInRoot:t.AllowAssetsInRoot,autoLoad:!0,enableSelect:!1,rootSubfolder:t.Paths,fileFilter:t.FileFilter,folderDepth:t.FolderDepth||0,metadataContentTypes:t.MetadataContentTypes}});(0,e.QZP)(()=>{const t=s();this.fieldState.config.adam.setConfig(t)},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||zr)}}static{this.\u0275cmp=e.VBU({type:zr,selectors:[["hyperlink-library"]],decls:0,vars:0,template:function(t,i){},encapsulation:2})}};Cr=(0,Ot.Cg)([ei({wrappers:["app-dropzone-wrapper","app-localization-wrapper","app-hyperlink-library-expandable-wrapper","app-adam-wrapper"]}),(0,Ot.Sn)("design:paramtypes",[])],Cr);class sn extends mt.S{constructor(){super({StringDropdownLogic:sn}),this.name=Je.u.StringDropdown,this.type="string"}update({settings:s,value:t}){const i=vi.setDefaultSettings({...s});return i._options=(new jn).parseOptions(t,this.type,i.DropdownValuesFormat||"",i.DropdownValues||""),i.EntityType??="",i.CreateTypes=i.EntityType,i.EnableEdit??=!1,i.EnableCreate??=!1,i.EnableRemove??=i.AllowMultiValue,i}}mt.S.add(sn);class Ao extends sn{constructor(){super(...arguments),this.name=Je.u.NumberDefault}update(s){return{...super.update(s)}}}mt.S.add(Ao);let wr=class Hr{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.min=this.fieldState.settingExt("Min"),this.max=this.fieldState.settingExt("Max"),Ao.importMe()}static{this.\u0275fac=function(t){return new(t||Hr)}}static{this.\u0275cmp=e.VBU({type:Hr,selectors:[["number-default"]],decls:5,vars:7,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","","type","number",1,"eav-translate-on-dblclick",3,"formControlName","required","placeholder","min","max"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.nrm(1,"input",1),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group),e.R7$(),e.Y8G("formControlName",i.config.fieldName)("required",i.basics().required)("placeholder",i.basics().placeholder)("min",i.min())("max",i.max()),e.R7$(2),e.JRh(i.basics().label))},dependencies:[ct.RG,ct.rl,ct.nJ,He.YN,He.me,He.Q0,He.BC,He.cb,He.YS,He.VZ,He.zX,He.X1,He.j4,He.JD,Ut.fS,Ut.fg,ti],encapsulation:2})}};wr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],wr);class Oo extends sn{constructor(){super(...arguments),this.name=Je.u.NumberDropdown,this.type="number"}update(s){return{...super.update(s)}}}function ug(a,s){1&a&&e.nrm(0,"app-picker-preview")}function pg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(Oo);let Mr=class Gr extends Wt{constructor(){super(),this.constructorEnd(),Oo.importMe()}static{this.\u0275fac=function(t){return new(t||Gr)}}static{this.\u0275cmp=e.VBU({type:Gr,selectors:[["number-dropdown"]],features:[e.Vt3],decls:2,vars:1,template:function(t,i){1&t&&e.DNE(0,ug,1,0,"app-picker-preview")(1,pg,1,0,"app-picker-dialog"),2&t&&e.vxM(i.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}};Mr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],Mr);class Wn extends mt.S{constructor(){super({NumberPickerLogic:Wn}),this.name=Je.u.NumberPicker}update(s){return w.y.singleton().get(Je.u.StringPicker).update(s)}}function hg(a,s){1&a&&e.nrm(0,"app-picker-preview")}function mg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(Wn);let fg=(()=>{class a extends Wt{constructor(){super(),this.log=(0,qa.T)({NumberPickerComponent:a},Wt.logSpecs),this.constructorEnd(),Wn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["number-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,hg,1,0,"app-picker-preview")(1,mg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();class Xn extends mt.S{constructor(){super({StringDefaultLogic:Xn}),this.name=Je.u.StringDefault,this.canAutoTranslate=!0}update(s){const t={...s.settings};return t.InputFontFamily??="",t.RowCount||=1,t}}mt.S.add(Xn);const gg=a=>({"textarea-field":a}),_g=a=>({"font-family":a}),vg=(a,s)=>({"font-family":a,"white-space":s});function yg(a,s){if(1&a&&e.nrm(0,"input",1),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.eq3(4,_g,t.inputFontFamily()))}}function bg(a,s){if(1&a&&(e.j41(0,"textarea",2),e.EFF(1,"    "),e.k0s()),2&a){const t=e.XpG();e.Y8G("formControlName",t.config.fieldName)("rows",t.rowCount())("placeholder",t.basics().placeholder)("required",t.basics().required)("ngStyle",e.l_i(5,vg,t.inputFontFamily(),t.textWrap()))}}let kr=class $r{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.group=this.fieldState.group,this.config=this.fieldState.config,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.rowCountRaw=this.fieldState.settingExt("RowCount"),this.rowCount=(0,oe.bo)("rowCount",()=>Math.abs(this.rowCountRaw()||1)),this.isMultiline=(0,oe.bo)("isMultiline",()=>{const s=this.rowCountRaw()||1;return s<0||s>1}),this.inputFontFamily=this.fieldState.settingExt("InputFontFamily"),this.textWrap=this.fieldState.settingExt("TextWrapping"),Xn.importMe()}static{this.\u0275fac=function(t){return new(t||$r)}}static{this.\u0275cmp=e.VBU({type:$r,selectors:[["string-default"]],decls:6,vars:6,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup","ngClass"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","placeholder","required","ngStyle"],["matInput","",1,"eav-translate-on-dblclick",3,"formControlName","rows","placeholder","required","ngStyle"]],template:function(t,i){1&t&&(e.j41(0,"mat-form-field",0),e.DNE(1,yg,1,6,"input",1)(2,bg,2,8,"textarea",2),e.j41(3,"mat-label"),e.EFF(4),e.k0s()(),e.nrm(5,"app-field-helper-text")),2&t&&(e.Y8G("formGroup",i.group)("ngClass",e.eq3(4,gg,i.rowCount()>1)),e.R7$(),e.vxM(i.isMultiline()?2:1),e.R7$(3),e.JRh(i.basics().label))},dependencies:[ct.RG,ct.rl,ct.nJ,He.YN,He.me,He.BC,He.cb,He.YS,He.X1,He.j4,He.JD,ne.YU,Ut.fS,Ut.fg,ne.B3,ti],styles:[".textarea-field[_ngcontent-%COMP%]{height:auto}"]})}};kr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],kr);class Qn extends mt.S{constructor(){super({StringDropdownQueryLogic:Qn}),this.name=Je.u.StringDropdownQuery}update(s){const i=w.y.singleton().get(Je.u.EntityDefault).update(s);return i.Separator||=",",i}}function Cg(a,s){1&a&&e.nrm(0,"app-picker-preview")}function wg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(Qn);let Mg=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({StringDropdownQueryComponent:a},Wt.logSpecs),this.constructorEnd(),Qn.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown-query"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Cg,1,0,"app-picker-preview")(1,wg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();function kg(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Dg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}let Tg=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({StringDropdownComponent:a},Wt.logSpecs),this.constructorEnd(),an.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-dropdown"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,kg,1,0,"app-picker-preview")(1,Dg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();class Kn extends mt.S{constructor(){super({StringFontIconPickerLogic:Kn}),this.name=Je.u.StringFontIconPicker}update({fieldName:s,settings:t}){const i=this.log.fnIfInList("update","fields",s,{fieldName:s,settings:t}),n={...t},r=n;return n.CssSourceFile=r.Files??"",n.CssSelectorFilter=r.CssPrefix??"",n.CssSelectorFilter=to(r.CssPrefix??"",":"),n.PreviewValue=`${r.PreviewCss} [Item:Value]`,n.PreviewType="icon-css",n.EnableTextEntry=!1,n.EnableAddExisting=!0,n.AllowMultiValue=!1,n.noAutoFocus=!0,n.Label=r.ShowPrefix?"Value":"Title",i.r(n)}}function xg(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Sg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(Kn);let Dr=class ra extends Wt{constructor(){super(),this.log=(0,p.Tq)({StringFontIconPickerComponent:ra},Wt.logSpecs),this.constructorEnd(),Kn.importMe()}static{this.\u0275fac=function(i){return new(i||ra)}}static{this.\u0275cmp=e.VBU({type:ra,selectors:[["string-font-icon-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,xg,1,0,"app-picker-preview")(1,Sg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}};Dr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],Dr);class on extends mt.S{constructor(){super({StringPickerLogic:on}),this.name=Je.u.StringPicker}update(s){const i=(0,p.Tq)({StringPickerLogic:on},null).fn("update",{specs:s}),{fs:n,removeEditRestrictions:r,typeConfig:o}=(new vi).preUpdate(s);n.Separator??="\n","\\n"==n.Separator&&(n.Separator="\n");const u=n.dataSourceType,v=Object.values(ir).includes(u);return i.a(`type: ${u}`,{typeConfig:o,isCustomSource:v}),v?r||(n.EnableEdit=!1,n.EnableCreate=!1,n.EnableDelete=!1):i.a("type: not UiPickerSourceCustom-List/Csv",{typeConfig:o}),i.r(n)}}function Ig(a,s){1&a&&e.nrm(0,"app-picker-preview")}function Eg(a,s){1&a&&e.nrm(0,"app-picker-dialog")}mt.S.add(on);let Ag=(()=>{class a extends Wt{constructor(){super(),this.log=(0,p.Tq)({StringPickerComponent:a},Wt.logSpecs),this.constructorEnd(),on.importMe()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["string-picker"]],features:[e.Vt3],decls:2,vars:1,template:function(i,n){1&i&&e.DNE(0,Ig,1,0,"app-picker-preview")(1,Eg,1,0,"app-picker-dialog"),2&i&&e.vxM(n.showPreview()?0:1)},dependencies:[hi,mi],encapsulation:2})}}return a})();var Po=m(5175),Og=m(9996),Fg=m(4029);const Ro={Token:{ext:".html",purpose:"Template",type:"Token"},"C# Razor":{ext:".cshtml",purpose:"Template",type:"Razor"},"C# Search":{ext:".cs",purpose:"Search"}};function Pg(a,s){if(1&a&&(e.j41(0,"mat-option",4),e.EFF(1),e.k0s()),2&a){const t=s.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}let Tr=class sa{#e;#t;#i;#n;#a;#r;#s;#o;#l;constructor(t,i){this.matDialog=t,this.viewContainerRef=i,this.log=(0,p.Tq)({StringTemplatePickerComponent:sa}),this.#e=(0,e.WQX)(Ve.W),this.#t=(0,e.WQX)(e.zZn),this.#i=(0,c.d)(E.Nt).init("typeMask",this.#e.settings().FileType??"[Type]"),this.#n=(0,c.d)(E.Nt).init("String-LocationMask","[Location]"),this.#a=(0,c.d)(Og.F),this.group=this.#e.group,this.config=this.#e.config,this.basics=this.#e.basics,this.ui=this.#e.ui,this.files=(0,e.vPA)([]),this.#r=Ro.Token,this.#s=[],this.#o=!1,this.#l=!1,this.#c="",(0,e.QZP)(()=>this.#u(this.#n.result())),(0,e.QZP)(()=>this.#d(this.#i.result()))}#d(t){this.#r=Ro[t],this.#h()}#c;#u(t){this.log.fn("onLocationChange",{location:t}),this.#o="Host File System"===t||"Global"===t,this.#c!==t&&(this.#c=t,this.#a.getAll().pipe((0,bt.s)(1)).subscribe(n=>{this.#s=n.filter(r=>r.Shared===this.#o).map(r=>r.Path),this.#l=!0,this.#h()}))}#h(){const t=this.#r.ext,i=this.#s.filter(r=>!/\.code\.[a-zA-Z0-9]+$/.test(r)).filter(r=>r.endsWith(t));this.files.set(i),this.#l&&!i.some(r=>r===this.#e.uiValue())&&this.ui().setIfChanged("")}createTemplate(){const t=(0,c.d)(E.Nt,this.#t).init("String-NameMask","[Name]"),i={global:this.#o,purpose:this.#r.purpose,type:this.#r.type,name:t.result()};t.destroy(),this.matDialog.open(Fg.g,{autoFocus:!1,data:i,viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(r=>{r&&this.#a.create(r.name,this.#o,r.templateKey).subscribe(o=>{!1===o?alert("Server reported that create failed - the file probably already exists"):(this.#s.push(r.name),this.#h(),this.ui().setIfChanged(r.name))})})}static{this.\u0275fac=function(i){return new(i||sa)(e.rXU(Ce.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:sa,selectors:[["string-template-picker"]],decls:14,vars:8,consts:[[1,"picker-wrapper"],["color","accent",1,"eav-mat-form-field",3,"formGroup"],[1,"eav-translate-on-dblclick",3,"formControlName","required"],["value",""],[3,"value"],["mat-icon-button","","tippyTranslate","Fields.TemplatePicker.NewTemplate",3,"click","disabled"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2)(3,"mat-option",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.Z7z(6,Pg,2,2,"mat-option",4,e.fX1),e.k0s(),e.j41(8,"mat-label"),e.EFF(9),e.k0s()(),e.j41(10,"button",5),e.bIt("click",function(){return n.createTemplate()}),e.j41(11,"mat-icon"),e.EFF(12,"add"),e.k0s()()(),e.nrm(13,"app-field-helper-text")),2&i&&(e.R7$(),e.Y8G("formGroup",n.group),e.R7$(),e.Y8G("formControlName",n.config.fieldName)("required",n.basics().required),e.R7$(2),e.JRh(e.bMT(5,6,"Fields.TemplatePicker.NotSelected")),e.R7$(2),e.Dyx(n.files()),e.R7$(3),e.JRh(n.basics().label),e.R7$(),e.Y8G("disabled",n.ui().disabled))},dependencies:[ct.RG,ct.rl,ct.nJ,He.YN,He.BC,He.cb,He.YS,He.X1,He.j4,He.JD,Po.Ve,Po.VO,re.wT,re.Sy,gt.Hl,gt.iY,ae.m_,ae.An,ti,O.h,O.D9,Vt.e],styles:[".picker-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}"]})}};Tr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[Ce.bZ,e.c1b])],Tr);class Vo extends mt.S{constructor(){super({InputTypeCatalog:Je.u}),this.name=Je.u.StringUrlPath}update({settings:s}){const t={...s};return t.AutoGenerateMask??=null,t.AllowSlashes??=!1,t}}mt.S.add(Vo);let xr=class oa{#e;#t;#i;#n;constructor(){this.log=(0,p.Tq)({StringUrlPathComponent:oa}),this.fieldState=(0,e.WQX)(Ve.W),this.group=this.fieldState.group,this.settings=this.fieldState.settings,this.basics=this.fieldState.basics,this.#e=this.fieldState.settingExt("AutoGenerateMask"),this.#t=(0,e.vPA)(""),this.#i=(0,c.d)(E.Nt).initPreClean((t,i)=>"string"==typeof i?i.replace("/","-").replace("\\","-"):i).initSignal("UrlPath",this.#e),this.#n=(0,e.EWP)(()=>{const t=this.#i.result();return E.b.stripNonUrlCharacters(t,this.settings().AllowSlashes,!0)}),Vo.importMe(),(0,e.QZP)(()=>{this.fieldState.uiValue(),this.clean(!1)}),(0,e.QZP)(()=>this.#a(this.#n()))}#a(t){const i=this.log.fn("#onSourcesChanged",{newValue:t}),n={uiValue:this.fieldState.uiValue(),lastAutoCopy:this.#t(),allowSlashes:this.settings().AllowSlashes,cleaned:t};return n.uiValue&&n.uiValue!==n.lastAutoCopy?i.end("UI not empty but manually modified, so no auto-update",n):n.cleaned?n.uiValue===n.cleaned?i.end("no changes",n):(this.#t.set(n.cleaned),this.fieldState.ui().setIfChanged(n.cleaned),void i.end(`updated to "${n.cleaned}"`,n)):i.end("cleaned is empty",n)}clean(t){this.log.fn("clean",{trimEnd:t});const n=this.fieldState.uiValue(),r=E.b.stripNonUrlCharacters(n,this.settings().AllowSlashes,t);this.fieldState.ui().setIfChanged(r)}static{this.\u0275fac=function(i){return new(i||oa)}}static{this.\u0275cmp=e.VBU({type:oa,selectors:[["string-url-path"]],decls:5,vars:5,consts:[["color","accent",1,"eav-mat-form-field",3,"formGroup"],["matInput","",1,"eav-translate-on-dblclick",3,"blur","formControlName","placeholder","required"]],template:function(i,n){1&i&&(e.j41(0,"mat-form-field",0)(1,"input",1),e.bIt("blur",function(){return n.clean(!0)}),e.k0s(),e.j41(2,"mat-label"),e.EFF(3),e.k0s()(),e.nrm(4,"app-field-helper-text")),2&i&&(e.Y8G("formGroup",n.group),e.R7$(),e.Y8G("formControlName",n.fieldState.name)("placeholder",n.basics().placeholder)("required",n.basics().required),e.R7$(2),e.JRh(n.basics().label))},dependencies:[ct.RG,ct.rl,ct.nJ,He.YN,He.me,He.BC,He.cb,He.YS,He.X1,He.j4,He.JD,Ut.fS,Ut.fg,ti],encapsulation:2})}};xr=(0,Ot.Cg)([ei({...di}),(0,Ot.Sn)("design:paramtypes",[])],xr);var No=m(6256);class Jn{constructor(s){this.rootSubfolder="",this.fileFilter="",this.allowAssetsInRoot=!0,this.folderDepth=0,this.metadataContentTypes="",this.usePortalRoot=!1,this.showImagesOnly=!1,this.autoLoad=!1,this.enableSelect=!0,this.subfolder="",this.allowEdit=!0,this.disabled=!0,this.maxDepthReached=!1,this.disabled=s}static completeConfig(s,t,i){const n=t.inputTypeSpecs.isExternal;i=i??new Jn(n);const r=new Jn(n);for(const u of Object.keys(r))r[u]=s[u]??i[u];if(i.usePortalRoot!==r.usePortalRoot&&(r.subfolder=""),r.usePortalRoot&&(r.rootSubfolder.includes("\\")&&(r.rootSubfolder=r.rootSubfolder.replace(/\\/g,"/")),r.rootSubfolder.startsWith("/")&&(r.rootSubfolder=r.rootSubfolder.replace("/","")),!r.subfolder.startsWith(r.rootSubfolder)&&(r.subfolder=r.rootSubfolder),r.maxDepthReached=!1),!r.usePortalRoot)if((r.subfolder?r.subfolder.split("/").length:0)>=r.folderDepth){let P=r.subfolder.split("/");P=P.slice(0,r.folderDepth),r.subfolder=P.join("/"),r.maxDepthReached=!0}else r.maxDepthReached=!1;return r}}var jo=m(1955);const Lg=(a,s)=>({"adam-scope-site":a,"adam-scope-field":s}),Zn=a=>({"adam-button-disabled":a}),Bo=a=>({"metadata-exists":a}),Vg=(a,s)=>({"dz-success":a,"disable-select":s}),Yg=(a,s)=>({"adam-button-disabled":a,"metadata-exists":s}),Ng=(a,s)=>s.Id;function jg(a,s){1&a&&(e.j41(0,"mat-icon"),e.EFF(1,"public"),e.k0s())}function Bg(a,s){1&a&&e.nrm(0,"mat-icon",8)}function zg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",5),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.openUploadClick(n))}),e.j41(1,"div",6)(2,"mat-icon"),e.EFF(3,"cloud_upload"),e.k0s(),e.j41(4,"div",7),e.EFF(5),e.nI1(6,"translate"),e.DNE(7,jg,2,0,"mat-icon")(8,Bg,1,0,"mat-icon",8),e.k0s()()(),e.j41(9,"div",9,0),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openFeatureInfoDialog())}),e.j41(11,"div",6)(12,"mat-icon",10),e.EFF(13," filter "),e.k0s(),e.j41(14,"div",7),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}if(2&a){const t=e.sdS(10),i=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,6,"Fields.Hyperlink.AdamFileManager.UploadLabel")," \xa0 "),e.R7$(2),e.vxM(i.adamConfig().usePortalRoot?7:8),e.R7$(2),e.Y8G("config",i.config)("elementType","element"),e.R7$(3),e.Y8G("matBadgeHidden",i.isPasteImageFromClipboardEnabled()),e.R7$(3),e.SpI(" ",i.isPasteImageFromClipboardEnabled()?t.classList.contains("pastable-focus")?"Fields.Hyperlink.AdamFileManager.UploadPasteFocusedLabel":e.bMT(16,8,"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"):"Fields.Hyperlink.AdamFileManager.UploadPasteLabel"," ")}}function Hg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addFolder())}),e.j41(1,"div",6),e.nrm(2,"mat-icon",12),e.j41(3,"div",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.nrm(6,"div",14),e.k0s()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Fields.Hyperlink.AdamFileManager.NewFolder")))}function Gg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.goUp())}),e.j41(1,"div",6),e.nrm(2,"mat-icon",16),e.j41(3,"div",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",17)(7,"mat-icon",18),e.EFF(8,"arrow_back"),e.k0s()()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Fields.Hyperlink.AdamFileManager.BackFolder")))}function $g(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.del(n))}),e.EFF(1,"clear"),e.k0s(),e.j41(2,"mat-icon",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.rename(n))}),e.EFF(3,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(2,Zn,t.disabled())),e.R7$(2),e.Y8G("ngClass",e.eq3(4,Zn,t.disabled()))}}function Ug(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,Bo,t._metadataId>0))}}function Wg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.goIntoFolder(n))}),e.j41(1,"div",22),e.nrm(2,"mat-icon",16),e.j41(3,"div",23),e.EFF(4),e.k0s()(),e.j41(5,"div"),e.DNE(6,$g,4,6),e.j41(7,"div",24)(8,"div",25),e.EFF(9),e.k0s()()(),e.DNE(10,Ug,2,6,"mat-icon",26),e.k0s()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(4),e.JRh(t.Name),e.R7$(),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(i.adamConfig().allowEdit?6:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.vxM(t._metadataContentType?10:-1)}}function Xg(a,s){if(1&a&&(e.j41(0,"div",22)(1,"mat-icon"),e.EFF(2),e.k0s(),e.j41(3,"div",13),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(2),e.JRh(t._icon),e.R7$(2),e.JRh(t.Name)}}function Qg(a,s){if(1&a&&(e.j41(0,"div",31),e.nrm(1,"img",40),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("alt",t.Id+":"+t.Name)("src",t.ThumbnailUrl,e.B4B)}}function Kg(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.del(n))}),e.EFF(1,"clear"),e.k0s(),e.j41(2,"mat-icon",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.rename(n))}),e.EFF(3,"edit"),e.k0s()}if(2&a){const t=e.XpG(4);e.Y8G("ngClass",e.eq3(2,Zn,t.disabled())),e.R7$(2),e.Y8G("ngClass",e.eq3(4,Zn,t.disabled()))}}function Jg(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.editItemMetadata(n,n._imageConfigurationContentType,n._imageConfigurationId))}),e.EFF(1," filter_center_focus"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.Y8G("ngClass",e.l_i(2,Yg,!t._imageConfigurationContentType,t._imageConfigurationId>0))("tippyTranslate",t._imageConfigurationContentType?"Fields.Hyperlink.AdamFileManager.ImageSettings":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")}}function Zg(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-icon",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.editItemMetadata(n,n._metadataContentType,n._metadataId))}),e.EFF(1,"local_offer"),e.k0s()}if(2&a){const t=e.XpG(2).$implicit;e.FCK("tippy","",t._metadataContentType,": ",t._metadataId,""),e.Y8G("ngClass",e.eq3(4,Bo,t._metadataId>0))}}function qg(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.select(n))}),e.DNE(1,Xg,5,2,"div",22)(2,Qg,2,2,"div",31),e.j41(3,"div"),e.DNE(4,Kg,4,6),e.j41(5,"div",24)(6,"div",25),e.EFF(7),e.k0s()(),e.j41(8,"div",32)(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"a",33)(12,"mat-icon",34),e.EFF(13,"open_in_new"),e.k0s()(),e.DNE(14,Jg,2,5,"mat-icon",35),e.k0s(),e.DNE(15,Zg,2,6,"mat-icon",26),e.j41(16,"div",36),e.qSk(),e.j41(17,"svg",37)(18,"title"),e.EFF(19,"Check"),e.k0s(),e.nrm(20,"defs"),e.j41(21,"g",38),e.nrm(22,"path",39),e.k0s()()()()}if(2&a){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",e.l_i(16,Vg,i.value()==="file:"+t.Id,!i.adamConfig().enableSelect)),e.R7$(),e.vxM("image"!==t.Type?1:2),e.R7$(2),e.ZvI("dz-details file-type-",t.Type,""),e.R7$(),e.vxM(i.adamConfig().allowEdit?4:-1),e.R7$(2),e.Y8G("title",t.Name),e.R7$(),e.JRh(t.Name),e.R7$(),e.FCK("title","#",t.Id," - ",t._displaySize," KB"),e.R7$(2),e.Lme("#",t.Id," - ",t._displaySize," KB"),e.R7$(),e.Y8G("href",t.Url,e.B4B),e.R7$(3),e.vxM("image"===t.Type?14:-1),e.R7$(),e.vxM(t._metadataContentType?15:-1)}}function e_(a,s){if(1&a&&e.DNE(0,Wg,11,8,"div",19)(1,qg,23,19,"div",20),2&a){const t=s.$implicit;e.vxM(t.IsFolder?0:-1),e.R7$(),e.vxM(t.IsFolder?-1:1)}}function t_(a,s){if(1&a&&(e.j41(0,"div",2),e.DNE(1,zg,17,10)(2,Hg,7,3,"div",3)(3,Gg,9,3,"div",4),e.Z7z(4,e_,2,2,null,null,Ng),e.k0s()),2&a){const t=e.XpG();e.Y8G("ngClass",e.l_i(4,Lg,t.adamConfig().usePortalRoot,!t.adamConfig().usePortalRoot)),e.R7$(),e.vxM(!t.disabled()&&t.allowAddButtons()?1:-1),e.R7$(),e.vxM(t.adamConfig().maxDepthReached||t.disabled()||!t.allowAddButtons()?-1:2),e.R7$(),e.vxM(""!==t.adamConfig().subfolder||t.adamConfig().usePortalRoot&&t.adamConfig().subfolder!==t.adamConfig().rootSubfolder?3:-1),e.R7$(),e.Dyx(t.items())}}const i_={all:!1,constructor:!1,editItemMetadata:!1,setConfig:!1,fetchItems:!0,processFetchedItems:!0};let n_=(()=>{class a{#e;#t;#i;#n;constructor(t,i,n,r,o,u,v){this.dnnContext=t,this.adamCacheService=i,this.linkCacheService=n,this.formsStateService=r,this.matDialog=o,this.viewContainerRef=u,this.changeDetectorRef=v,this.openUpload=(0,e.CGW)(),this.log=(0,p.Tq)({AdamBrowserComponent:a},i_),this.fieldState=(0,e.WQX)(Ve.W),this.#e=(0,e.WQX)(Se),this.#t=(0,e.WQX)(A.D),this.#i=(0,c.d)(_r),this.#n=(0,c.d)(_e.c),this.config=this.fieldState.config,this.group=this.fieldState.group,this.#a=this.fieldState.ui,this.disabled=(0,oe.bo)("disabled",()=>this.#a().disabled),this.value=(0,oe.bo)("value",()=>this.fieldState.uiValue()),this.adamConfig=(0,oe.KX)("adamConfig",null),this.items=(0,oe.KX)("items",[]),this.#s=!0,this.allowAddButtons=(0,oe.bo)("allowAddButtons",()=>{const ie=this.adamConfig();return ie.allowEdit&&!((""===ie.subfolder||ie.usePortalRoot&&ie.subfolder===ie.rootSubfolder)&&!ie.allowAssetsInRoot)}),this.isPasteImageFromClipboardEnabled=this.#t.isEnabled[Bt.T.PasteImageFromClipboard],this.log.fnIf("constructor"),(0,e.QZP)(()=>{null!=this.adamConfig()&&this.fetchItems()});const G=this.config;this.#r=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${G.contentTypeNameId}/${G.entityGuid}/${G.fieldName}`)}#a;#r;#s;ngOnInit(){this.#n.doOnDialogClosed(()=>this.fetchItems()),this.config.adam.setBrowser(this)}addFolder(){if(this.#a().disabled)return;const t=window.prompt("Please enter a folder name");t&&this.#i.addFolder(t,this.#r,this.adamConfig()).subscribe(()=>this.fetchItems())}del(t){this.#a().disabled||!window.confirm("Are you sure you want to delete this item?")||this.#i.deleteItem(t,this.#r,this.adamConfig()).subscribe(()=>this.fetchItems())}editItemMetadata(t,i,n){const r=this.log.fnIf("editItemMetadata",{adamItem:t,contentTypeName:i,metadataId:n});if(this.formsStateService.readOnly().isReadOnly||!i)return r.end("readonly or no content type");const o={items:[n>0?C.c.editId(n):C.c.newMetadata(t.ReferenceId,i,Ti.YX.metadata.cmsObject)]};this.#e.open(this.config.index,this.config.entityGuid,o)}goUp(){let t=this.adamConfig().subfolder;t=t.includes("/")?t.slice(0,t.lastIndexOf("/")):"",this.setConfig({subfolder:t})}#o(t){return this.fieldState.settings().EnableImageConfiguration&&"image"===t.Type?Ti.YX.contentTypes.imageDecorator:null}#l(t){let i;return"folder"===t.Type?(i=this.adamConfig().metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),i?i[3]:null):(i=this.adamConfig().metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),i?i[1]:null)}goIntoFolder(t){let i=this.adamConfig().subfolder;i=i?`${i}/${t.Name}`:t.Name,this.setConfig({subfolder:i})}openUploadClick(t){this.openUpload.emit()}rename(t){if(this.#a().disabled)return;const i=window.prompt("Rename the file / folder to: ",t.Name);i&&this.#i.rename(t,i,this.#r,this.adamConfig()).subscribe(()=>this.fetchItems())}select(t){this.#a().disabled||!this.adamConfig().enableSelect||this.config.adam.onItemClick(t)}fetchItems(){const t=this.adamConfig();if(this.log.fnIf("fetchItems",{adamConfig:t,firstFetch:this.#s,usePortalRoot:t?.usePortalRoot}),null!=t&&t.autoLoad){if(this.#s){this.#s=!1;const n=this.adamCacheService.getAdamSnapshot(this.config.entityGuid,this.config.fieldName);if(n){const r=n.map(o=>({...o}));return void setTimeout(()=>this.#d(r,t))}}this.#i.getAll(this.#r,t).subscribe(n=>this.#d(n,t))}}openFeatureInfoDialog(){this.isPasteImageFromClipboardEnabled()||(0,hn.j)(this.matDialog,Bt.T.PasteImageFromClipboard,this.viewContainerRef,this.changeDetectorRef)}#d(t,i){this.log.fnIf("processFetchedItems",{items:t,adamConfig:i,usePortalRoot:i.usePortalRoot}),this.linkCacheService.addAdam(t);const r=[],o=function a_(a){return a?a.split(",").map(t=>((t=t.trim()).startsWith("*.")?t=t.replace("*.",""):t.startsWith("*")&&(t=t.replace("*","")),t.toLocaleLowerCase())):[]}(i.fileFilter);for(const u of t)if("."!==u.Name){if("2sxc"!==u.Name&&"adam"!==u.Name&&(u.IsFolder||!i.showImagesOnly||"image"===u.Type)&&(!u.IsFolder||!i.maxDepthReached)){if(o.length>0){const v=u.Name.substring(u.Name.lastIndexOf(".")+1).toLocaleLowerCase();if(!o.includes(v))continue}u._imageConfigurationContentType=this.#o(u),u._imageConfigurationId=u.Metadata?.find(v=>v.Type.Name===u._imageConfigurationContentType)?.Id??0,u._metadataContentType=this.#l(u),u._metadataId=u.Metadata?.find(v=>v.Type.Name===u._metadataContentType)?.Id??0,u._icon=E.M5.getIconClass(u.Name),u._isMaterialIcon=E.M5.isKnownType(u.Name),u._displaySize=(u.Size/1024).toFixed(0),r.push(u)}}else{const v=u.AllowEdit;v!==i.allowEdit&&this.setConfig({allowEdit:v})}r.sort((u,v)=>u.Name.toLocaleLowerCase().localeCompare(v.Name.toLocaleLowerCase())),r.sort((u,v)=>v.IsFolder.toString().localeCompare(u.IsFolder.toString())),this.items.set(r)}setConfig(t){const i=this.log.fnIf("setConfig",t),n=Jn.completeConfig(t,this.config,this.adamConfig());(0,yi.A)(n,this.adamConfig())?i.end("no change"):(this.adamConfig.set(n),function Rg(a,s){const t=s.dropzone.getConfig(),i={},n=E.b.getUrlParams(t.url);if((n.subfolder||"")!==a.subfolder||n.usePortalRoot!==a.usePortalRoot.toString()){let G=t.url;G=E.b.replaceUrlParam(G,"subfolder",a.subfolder),G=E.b.replaceUrlParam(G,"usePortalRoot",a.usePortalRoot.toString()),i.url=G}const v=!a.allowEdit||(""===a.subfolder||a.usePortalRoot&&a.subfolder===a.rootSubfolder)&&!a.allowAssetsInRoot;t.disabled!==v&&(i.disabled=v),Object.keys(i).length>0&&s.dropzone.setConfig(i)}(n,this.config),i.end())}toggle(t,i){const n={...this.adamConfig(),usePortalRoot:t,showImagesOnly:i};(0,yi.A)(n,this.adamConfig())?n.autoLoad=!n.autoLoad:n.autoLoad||(n.autoLoad=!0),this.setConfig(n)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(jo.ob),e.rXU(j),e.rXU(K),e.rXU(jt),e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["adam-browser"]],outputs:{openUpload:"openUpload"},decls:2,vars:2,consts:[["pasteDiv",""],[1,"dropzone"],[3,"ngClass"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadTip",1,"dz-preview","dropzone-adam",3,"click"],[1,"dz-image","adam-browse-background-icon","adam-browse-background"],[1,"adam-upload-label"],["svgIcon","apple-outlined"],["appPasteClipboardImage","","tippyTranslate","Fields.Hyperlink.AdamFileManager.UploadPasteTip",1,"dz-preview","dropzone-adam","paste-image",3,"click","config","elementType"],["matBadgeSize","large","matBadge","\u{1f48e}","matBadgePosition","below after","matBadgeOverlap","true","aria-hidden","false",1,"adam-filter-mat-icon-with-grey-mat-badge",3,"matBadgeHidden"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.NewFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder-plus"],[1,"adam-short-label"],[1,"dz-details",2,"opacity","1"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.BackFolderTip",1,"dz-preview",3,"click"],["svgIcon","folder"],[1,"adam-background","adam-browse-background-icon"],[1,"adam-back-folder-arrow"],[1,"dz-preview"],[1,"dz-preview",3,"ngClass"],[1,"dz-preview",3,"click"],[1,"dz-image","adam-blur","adam-browse-background-icon","adam-browse-background"],[1,"short-label"],[1,"adam-full-name-area"],[1,"adam-full-name",3,"title"],["appClickStopPropagation","",1,"adam-tag",3,"ngClass","tippy"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Delete",1,"adam-delete-button",3,"click","ngClass"],["appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.Edit",1,"adam-rename-button",3,"click","ngClass"],["appClickStopPropagation","",1,"adam-tag",3,"click","ngClass","tippy"],[1,"dz-preview",3,"click","ngClass"],[1,"dz-image","adam-browse-background-image"],["appClickStopPropagation","",1,"dz-filename","adam-short-label",3,"title"],["target","_blank","appClickStopPropagation","",1,"adam-link-button",3,"href"],["tippyTranslate","Fields.Hyperlink.AdamFileManager.Show"],["appClickStopPropagation","",1,"image-configuration-button",3,"ngClass","tippyTranslate"],[1,"dz-success-mark"],["width","54px","height","54px","viewBox","0 0 54 54","version","1.1","xmlns","https://www.w3.org/2000/svg",0,"xmlns","xlink","https://www.w3.org/1999/xlink",0,"xmlns","sketch","https://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z","id","Oval-2","stroke-opacity","0.198794158","stroke","#747474","fill-opacity","0.816519475","fill","#FFFFFF",0,"sketch","type","MSShapeGroup"],["vm-dz-thumbnail","",3,"alt","src"],["appClickStopPropagation","",1,"image-configuration-button",3,"click","ngClass","tippyTranslate"]],template:function(i,n){if(1&i&&(e.j41(0,"div",1),e.DNE(1,t_,6,7,"div",2),e.k0s()),2&i){let r,o;e.Y8G("@adamShowAnimate",null!=(r=n.adamConfig())&&r.autoLoad?"open":"closed"),e.R7$(),e.vxM(null!=(o=n.adamConfig())&&o.autoLoad&&n.fieldState.isOpen()?1:-1)}},dependencies:[ne.YU,ae.m_,ae.An,yr,No.Y,No.k,O.h,O.D9,nn.c,Vt.e],styles:['.adam-browse-background-icon[_ngcontent-%COMP%]{padding:20px 5px 10px;min-width:100%;min-height:100%;text-align:center}.adam-browse-background-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.adam-browse-background-image[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center}.adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.adam-background[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;line-height:150%;cursor:pointer}.adam-background[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer}.adam-tag[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:-15px;top:50px;font-size:34px;width:34px;height:34px;z-index:30}.adam-back-folder-arrow[_ngcontent-%COMP%]{font-size:35px!important;top:13px;position:relative;-webkit-user-select:none;user-select:none;cursor:default}.adam-link-button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6}.image-configuration-button[_ngcontent-%COMP%]{position:absolute;left:30px;top:4px;font-size:24px;width:24px;height:24px;color:#000000e6;cursor:pointer}.adam-delete-button[_ngcontent-%COMP%], .adam-rename-button[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer;font-size:24px;width:24px;height:24px}.adam-delete-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .adam-rename-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled), .image-configuration-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled):not(.metadata-exists), .adam-link-button[_ngcontent-%COMP%]:hover:not(.adam-button-disabled){color:#002753}.image-configuration-button.metadata-exists[_ngcontent-%COMP%], .adam-tag.metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.adam-button-disabled[_ngcontent-%COMP%]{color:#1d273d3d;cursor:default}.adam-rename-button[_ngcontent-%COMP%]{right:26px;font-size:22px;width:22px;height:22px}.dz-details[_ngcontent-%COMP%]{bottom:0;cursor:pointer}.dz-image[_ngcontent-%COMP%]{cursor:pointer}.disable-select[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%], .disable-select[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{cursor:default}.disable-select[_ngcontent-%COMP%]   .adam-full-name[_ngcontent-%COMP%]{cursor:text}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .adam-blur[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.adam-short-label[_ngcontent-%COMP%]{cursor:text;display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;left:0;right:0;bottom:10px}.adam-upload-label[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px}.adam-full-name[_ngcontent-%COMP%]{background-color:#fffc;border-radius:3px;word-break:break-all;width:80%;max-height:3em;position:absolute;top:48%;left:50%;transform:translate(-50%,-50%);overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.adam-full-name[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.adam-full-name-area[_ngcontent-%COMP%]{height:60px;display:block}.adam-browse-background[_ngcontent-%COMP%]{background-color:#f5f5f5}.mce-ico[class^=icon-][_ngcontent-%COMP%]:before, .mce-ico[class*=" icon-"][_ngcontent-%COMP%]:before{margin-left:0}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline-color:#0069bf}.eav-dragging[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%], .dropzone.dz-drag-hover[_ngcontent-%COMP%]{min-height:0;outline:2px dashed #0069BF;background:#fff;padding:0;border-radius:5px;transition:outline-color .5s}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:pointer}.dropzone.dz-started[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{display:none}.dropzone.dz-drag-hover[_ngcontent-%COMP%]{outline-color:#0087f7}.dropzone.dz-drag-hover[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:.5}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{text-align:center;margin:2em 0}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top;margin:5px;min-height:100px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover{z-index:1000}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;background:#999;background:linear-gradient(to bottom,#eee,#ddd)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-file-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]{background:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-image-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{transition:opacity .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]{font-size:14px;text-align:center;display:block;cursor:pointer;border:none}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-remove[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-details[_ngcontent-%COMP%]{opacity:1}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]{z-index:20;position:absolute;top:0;left:0;opacity:0;font-size:13px;min-width:100%;max-width:100%;padding:2em 1em;text-align:center;color:#000000e6;line-height:150%}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]{margin-bottom:1em;font-size:16px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]{white-space:nowrap}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border:1px solid rgba(200,200,200,.8);background-color:#fffc}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]:not(:hover)   span[_ngcontent-%COMP%]{border:1px solid transparent}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-filename[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-details[_ngcontent-%COMP%]   .dz-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff6;padding:0 .4em;border-radius:3px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:hover   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:blur(8px)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden;width:120px;height:120px;position:relative;display:block;z-index:10}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-success[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{opacity:1;animation:slide-in 3s cubic-bezier(.77,0,.175,1)}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]{pointer-events:none;opacity:0;z-index:500;position:absolute;display:block;top:50%;left:50%;margin-left:-27px;margin-top:-27px}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-success-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-mark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:54px;height:54px}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-processing[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;transition:all .2s linear}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-complete[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:0;transition:opacity .4s ease-in}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]:not(.dz-processing)   .dz-progress[_ngcontent-%COMP%]{animation:pulse 6s ease infinite}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]{opacity:1;z-index:1000;pointer-events:none;position:absolute;height:16px;left:50%;top:50%;margin-top:-8px;width:80px;margin-left:-40px;background:#ffffffe6;-webkit-transform:scale(1);border-radius:8px;overflow:hidden}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-progress[_ngcontent-%COMP%]   .dz-upload[_ngcontent-%COMP%]{background:#333;background:linear-gradient(to bottom,#666,#444);position:absolute;top:0;left:0;bottom:0;width:0;transition:width .3s ease-in-out}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{display:block}.dropzone[_ngcontent-%COMP%]   .dz-preview.dz-error[_ngcontent-%COMP%]:hover   .dz-error-message[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]{pointer-events:none;z-index:1000;position:absolute;display:block;display:none;opacity:0;transition:opacity .3s ease;border-radius:8px;font-size:13px;top:130px;left:-10px;width:140px;background:#be2626;background:linear-gradient(to bottom,#be2626,#a92222);padding:.5em 1.2em;color:#fff}.dropzone[_ngcontent-%COMP%]   .dz-preview[_ngcontent-%COMP%]   .dz-error-message[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-6px;left:64px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #be2626}[_nghost-%COMP%]     .adam-filter-mat-icon-with-grey-mat-badge .mat-badge-content{background:#fff0!important}'],data:{animation:[(0,it.hZ)("adamShowAnimate",[(0,it.wk)("closed",(0,it.iF)({height:"0",overflow:"hidden"})),(0,it.wk)("open",(0,it.iF)({height:"*",overflow:"hidden"})),(0,it.kY)("closed => open",[(0,it.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])])]}})}}return a})();function r_(a,s){1&a&&(e.EFF(0," \xa0 "),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.EFF(4," \xa0 "),e.j41(5,"a",5),e.EFF(6,"2sic.com"),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Fields.Hyperlink.AdamFileManager.SponsorLine")))}let s_=(()=>{class a{constructor(){this.features=(0,e.WQX)(A.D),this.hideAdamSponsor=this.features.isEnabled[Bt.T.NoSponsoredByToSic]}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["adam-hint"]],decls:12,vars:7,consts:[[1,"hint-box","u-border-radius-bottom","mat-caption","u-shadow-top"],[1,"hint-box__hint"],[1,"hint-box__sponsor"],["href","https://2sxc.org/help?tag=adam","target","_blank","tabindex","-1","tippyTranslate","Fields.Hyperlink.AdamFileManager.HelpTooltip",1,"adam-link"],["svgIcon","apple-outlined"],["href","https://www.2sic.com","target","_blank","tabindex","-1"]],template:function(i,n){1&i&&(e.nrm(0,"mat-divider"),e.j41(1,"div",0)(2,"div",1),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",2)(6,"a",3),e.nrm(7,"mat-icon",4),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.DNE(11,r_,7,3),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,3,"Fields.Hyperlink.AdamFileManager.Hint")),e.R7$(6),e.JRh(e.bMT(10,5,"Fields.Hyperlink.AdamFileManager.Name")),e.R7$(2),e.vxM(n.hideAdamSponsor()?-1:11))},dependencies:[qr,Wl,ae.m_,ae.An,O.h,O.D9,Vt.e],styles:[".hint-box[_ngcontent-%COMP%]{padding:2px 24px;background-color:#fff;color:#1d273d70;display:flex}.hint-box__hint[_ngcontent-%COMP%]{flex:1 1 auto}.hint-box__sponsor[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.adam-link[_ngcontent-%COMP%]{display:flex;align-items:center}.adam-link[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;line-height:14px}"]})}}return a})();const o_=["fieldComponent"],l_=["invisibleClickable"],c_=(a,s)=>({"adam-in-popup":a,"c-ew__dialog-content--empty":s}),d_=(a,s)=>({"adam-browser-container--short u-hide-scrollbar":a,"u-display-none":s}),zo=a=>({"u-display-none":a});let u_=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.adamDisabled=this.config.adam.isDisabled}ngOnInit(){this.fullscreenAdam=this.config.inputTypeSpecs.inputType===Je.u.HyperlinkLibrary}openUpload(){this.invisibleClickableRef.nativeElement.click()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-adam-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(o_,7,e.c1b),e.GBs(l_,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first),e.mGM(r=e.lsd())&&(n.invisibleClickableRef=r.first)}},decls:10,vars:17,consts:[["fieldComponent",""],["invisibleClickable",""],[3,"ngClass"],[1,"adam-dialog-content"],[1,"u-shadow-top",3,"openUpload","ngClass"],[1,"dropzone-previews"],["data-note","just a fake, invisible area for dropzone",1,"invisible-clickable"],[1,"field-hints",3,"ngClass"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"div",2)(1,"div",3),e.eu8(2,null,0),e.k0s(),e.j41(4,"adam-browser",4),e.bIt("openUpload",function(){return e.eBV(r),e.Njj(n.openUpload())}),e.k0s(),e.j41(5,"div",2),e.nrm(6,"div",5)(7,"span",6,1),e.k0s(),e.nrm(9,"adam-hint",7),e.k0s()}2&i&&(e.Y8G("ngClass",e.l_i(7,c_,n.fieldState.isOpen(),n.fullscreenAdam)),e.R7$(4),e.Y8G("ngClass",e.l_i(10,d_,!n.fullscreenAdam,n.adamDisabled())),e.R7$(),e.HbH(n.config.dropzonePreviewsClass),e.Y8G("ngClass",e.eq3(13,zo,n.adamDisabled())),e.R7$(4),e.Y8G("ngClass",e.eq3(15,zo,n.adamDisabled())))},dependencies:[n_,ne.YU,s_],styles:['.adam-browser-container--short[_ngcontent-%COMP%]{flex-shrink:0;max-height:45%;overflow-y:scroll}.dropzone-previews[_ngcontent-%COMP%]{display:flex;overflow-x:auto;overflow-y:hidden;box-shadow:0 2px #ccc inset}.dropzone-previews[_ngcontent-%COMP%]     .dz-preview{padding:5px}.dropzone-previews[_ngcontent-%COMP%]     .dz-details, .dropzone-previews[_ngcontent-%COMP%]     .dz-progress, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-message, .dropzone-previews[_ngcontent-%COMP%]     .dz-success-mark, .dropzone-previews[_ngcontent-%COMP%]     .dz-error-mark{display:none}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.dropzone-previews[_ngcontent-%COMP%]     .dz-image{position:relative}.dropzone-previews[_ngcontent-%COMP%]     .dz-image:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:32px;height:32px;margin-top:-16px;margin-left:-16px;border-radius:50%;border:4px solid #0087f4;border-top-color:transparent;animation:_ngcontent-%COMP%_spinner .6s linear infinite}.c-ew__dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar, .adam-in-popup[_ngcontent-%COMP%]   .adam-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{background:#fff;z-index:2}.c-ew__dialog-content[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%], .adam-in-popup[_ngcontent-%COMP%]   adam-hint[_ngcontent-%COMP%]{z-index:3}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]{flex:1 1 100%;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.c-ew__dialog-content--empty[_ngcontent-%COMP%]   adam-browser[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}']})}}return a})();var Ho=m(5176);const p_=new e.nKC("DROPZONE_CONFIG"),h_=["error","success","sending","canceled","complete","processing","drop","dragStart","dragEnd","dragEnter","dragOver","dragLeave","thumbnail","addedFile","addedFiles","removedFile","uploadProgress","maxFilesReached","maxFilesExceeded","errorMultiple","successMultiple","sendingMultiple","canceledMultiple","completeMultiple","processingMultiple","reset","queueComplete","totalUploadProgress"];class m_{constructor(s={}){this.assign(s)}assign(s={},t){t=t||this;for(const i in s)null==s[i]||Array.isArray(s[i])||"object"!=typeof s[i]||s[i]instanceof HTMLElement?t[i]=s[i]:(t[i]={},this.assign(s[i],t[i]))}}let Go=(()=>{class a{constructor(t,i,n,r,o,u){this.zone=t,this.renderer=i,this.elementRef=n,this.differs=r,this.platformId=o,this.defaults=u,this.configDiff=null,this.disabled=!1,this.DZ_INIT=new e.bkB,this.DZ_ERROR=new e.bkB,this.DZ_SUCCESS=new e.bkB,this.DZ_SENDING=new e.bkB,this.DZ_CANCELED=new e.bkB,this.DZ_COMPLETE=new e.bkB,this.DZ_PROCESSING=new e.bkB,this.DZ_DROP=new e.bkB,this.DZ_DRAGSTART=new e.bkB,this.DZ_DRAGEND=new e.bkB,this.DZ_DRAGENTER=new e.bkB,this.DZ_DRAGOVER=new e.bkB,this.DZ_DRAGLEAVE=new e.bkB,this.DZ_THUMBNAIL=new e.bkB,this.DZ_ADDEDFILE=new e.bkB,this.DZ_ADDEDFILES=new e.bkB,this.DZ_REMOVEDFILE=new e.bkB,this.DZ_UPLOADPROGRESS=new e.bkB,this.DZ_MAXFILESREACHED=new e.bkB,this.DZ_MAXFILESEXCEEDED=new e.bkB,this.DZ_ERRORMULTIPLE=new e.bkB,this.DZ_SUCCESSMULTIPLE=new e.bkB,this.DZ_SENDINGMULTIPLE=new e.bkB,this.DZ_CANCELEDMULTIPLE=new e.bkB,this.DZ_COMPLETEMULTIPLE=new e.bkB,this.DZ_PROCESSINGMULTIPLE=new e.bkB,this.DZ_RESET=new e.bkB,this.DZ_QUEUECOMPLETE=new e.bkB,this.DZ_TOTALUPLOADPROGRESS=new e.bkB,Ho.autoDiscover=!1}ngOnInit(){if(!(0,ne.UE)(this.platformId))return;const t=new m_(this.defaults);t.assign(this.config),this.renderer.addClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-single":"dz-multiple"),this.renderer.removeClass(this.elementRef.nativeElement,1===t.maxFiles?"dz-multiple":"dz-single"),this.zone.runOutsideAngular(()=>{this.instance=new Ho(this.elementRef.nativeElement,t)}),this.disabled&&this.instance.disable(),this.DZ_INIT.observers.length&&this.zone.run(()=>{this.DZ_INIT.emit(this.instance)}),this.instance.on("success",()=>{null!=t.autoReset&&setTimeout(()=>this.reset(),t.autoReset)}),this.instance.on("error",()=>{null!=t.errorReset&&setTimeout(()=>this.reset(),t.errorReset)}),this.instance.on("canceled",()=>{null!=t.cancelReset&&setTimeout(()=>this.reset(),t.cancelReset)}),h_.forEach(i=>{this.instance.on(i.toLowerCase(),(...n)=>{n=1===n.length?n[0]:n;const o=this[`DZ_${i.toUpperCase()}`];o.observers.length>0&&this.zone.run(()=>{o.emit(n)})})}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{}))}ngOnDestroy(){this.instance&&(this.zone.runOutsideAngular(()=>{this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&this.configDiff.diff(this.config||{})&&this.instance&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(t){this.instance&&t.disabled&&t.disabled.currentValue!==t.disabled.previousValue&&(!1===t.disabled.currentValue?this.zone.runOutsideAngular(()=>{this.instance.enable()}):!0===t.disabled.currentValue&&this.zone.runOutsideAngular(()=>{this.instance.disable()}))}dropzone(){return this.instance}reset(t){this.instance&&this.zone.runOutsideAngular(()=>{this.instance.removeAllFiles(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.rXU(e.SKi),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(e.MKu),e.rXU(e.Agw),e.rXU(p_,8))},a.\u0275dir=e.FsC({type:a,selectors:[["","dropzone",""]],inputs:{disabled:"disabled",config:[0,"dropzone","config"]},outputs:{DZ_INIT:"init",DZ_ERROR:"error",DZ_SUCCESS:"success",DZ_SENDING:"sending",DZ_CANCELED:"canceled",DZ_COMPLETE:"complete",DZ_PROCESSING:"processing",DZ_DROP:"drop",DZ_DRAGSTART:"dragStart",DZ_DRAGEND:"dragEnd",DZ_DRAGENTER:"dragEnter",DZ_DRAGOVER:"dragOver",DZ_DRAGLEAVE:"dragLeave",DZ_THUMBNAIL:"thumbnail",DZ_ADDEDFILE:"addedFile",DZ_ADDEDFILES:"addedFiles",DZ_REMOVEDFILE:"removedFile",DZ_UPLOADPROGRESS:"uploadProgress",DZ_MAXFILESREACHED:"maxFilesReached",DZ_MAXFILESEXCEEDED:"maxFilesExceeded",DZ_ERRORMULTIPLE:"errorMultiple",DZ_SUCCESSMULTIPLE:"successMultiple",DZ_SENDINGMULTIPLE:"sendingMultiple",DZ_CANCELEDMULTIPLE:"canceledMultiple",DZ_COMPLETEMULTIPLE:"completeMultiple",DZ_PROCESSINGMULTIPLE:"processingMultiple",DZ_RESET:"reset",DZ_QUEUECOMPLETE:"queueComplete",DZ_TOTALUPLOADPROGRESS:"totalUploadProgress"},exportAs:["ngxDropzone"],standalone:!1,features:[e.OA$]}),a})(),f_=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[[ne.MD],ne.MD]}),a})();class g_{constructor(s,t,i){this.acceptedFiles=null,this.maxFiles=1e3,this.parallelUploads=1e3,this.autoReset=null,this.errorReset=null,this.cancelReset=null,this.maxFilesize=2e4,this.timeout=18e5,this.paramName="uploadfile",this.maxThumbnailFilesize=10,this.dictDefaultMessage="",this.addRemoveLinks=!1,this.previewsContainer=".dropzone-previews",this.clickable=".dropzone-previews",this.disabled=s,this.url=t,this.headers=i}}let $o=(()=>{class a{static{this.classToDetectWysiwyg="class-distinguish-from-adam-dropzone"}}return a})();class Sr{constructor(){this.isStringWysiwyg=!1,this.imageTypes=["image/jpeg","image/png"]}detectWysiwygOnDrop(s){this.isStringWysiwyg=Sr.isParentWysiwyg(s.toElement)}removeFilesHandledByWysiwyg(s,t){this.isStringWysiwyg&&this.imageTypes.some(i=>i===t.type)&&s.removeFile(t)}static isParentWysiwyg(s){do{if(null==s)return!1;if(s?.classList.contains($o.classToDetectWysiwyg))return!0;s=s.parentElement}while(!s?.classList.contains($o.classToDetectWysiwyg)||s.parentElement!=document.body);return!1}}const __=["fieldComponent"],v_=a=>({"dropzone-disabled":a});let y_=(()=>{class a{#e;#t;#i;constructor(t,i){this.formConfig=t,this.dnnContext=i,this.log=(0,p.Tq)({DropzoneWrapperComponent:a}),this.#e=(0,e.WQX)(Ve.W),this.#t=this.#e.config,this.dropzoneConfig=(0,e.vPA)(null),this.dropzoneDisabled=(0,e.EWP)(()=>this.#e.ui().disabled||(this.dropzoneConfig()?.disabled??!0)),this.#i=new Sr,this.extendFieldConfigWithDropZone(),this.#n({})}extendFieldConfigWithDropZone(){this.#t.dropzone={setConfig:t=>this.#n(t),getConfig:()=>this.dropzoneConfig(),uploadFile:t=>this.#a(t)}}ngAfterViewInit(){this.#n({previewsContainer:`.${this.#t.dropzonePreviewsClass} .dropzone-previews`,clickable:`.${this.#t.dropzonePreviewsClass} .invisible-clickable`})}onDrop(t){this.#i.detectWysiwygOnDrop(t)}onAddedFile(t){this.#i.removeFilesHandledByWysiwyg(this.dropzoneRef.dropzone(),t)}onUploadError(t){this.log.fn("onUploadError",{event:t}),alert(`Dropzone upload error. Event ${t}`),this.dropzoneRef.reset()}onUploadSuccess(t){const i=this.log.fn("onUploadSuccess",{event:t}),n=t[1];n.Error?(i.a(`Upload failed because: ${n.Error}`),alert(`Upload failed because: ${n.Error}`)):this.#t.adam?(this.#t.adam.onItemUpload(n),this.#t.adam.refresh()):i.a("Upload failed because: ADAM reference doesn't exist"),this.dropzoneRef.reset()}#n(t){const i=this.#t.contentTypeNameId,n=this.#t.entityGuid,r=this.#t.fieldName,u=this.#t.inputTypeSpecs.isExternal,v=this.dnnContext.$2sxc.http.apiUrl(`app/auto/data/${i}/${n}/${r}?subfolder=&usePortalRoot=false&appId=${this.formConfig.config.appId}`),P=this.dnnContext.sxc.webApi.headers(),G=new g_(u,v,P),ie=this.dropzoneConfig()??G;for(const Ze of Object.keys(G))G[Ze]=t[Ze]??ie[Ze];if(G.maxFiles!==G.parallelUploads){const Ze=G.maxFiles>=G.parallelUploads?G.maxFiles:G.parallelUploads;G.maxFiles=Ze,G.parallelUploads=Ze}(null==G.acceptedFiles||""===G.acceptedFiles)&&delete G.acceptedFiles,this.dropzoneConfig.set(G)}#a(t){const i=this.dropzoneRef.dropzone();t.upload={chunked:i.defaultOptions.chunking},i.processFile(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(S.S),e.rXU(jo.ob))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-dropzone-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(__,7,e.c1b),e.GBs(Go,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first),e.mGM(r=e.lsd())&&(n.dropzoneRef=r.first)}},decls:3,vars:5,consts:[["fieldComponent",""],[1,"dropzone","dropzone-container",3,"error","success","addedFile","drop","ngClass","dropzone","disabled"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"div",1),e.bIt("error",function(u){return e.eBV(r),e.Njj(n.onUploadError(u))})("success",function(u){return e.eBV(r),e.Njj(n.onUploadSuccess(u))})("addedFile",function(u){return e.eBV(r),e.Njj(n.onAddedFile(u))})("drop",function(u){return e.eBV(r),e.Njj(n.onDrop(u))}),e.eu8(1,null,0),e.k0s()}2&i&&e.Y8G("ngClass",e.eq3(3,v_,n.dropzoneDisabled()))("dropzone",n.dropzoneConfig())("disabled",n.dropzoneDisabled())},dependencies:[ne.YU,f_,Go],styles:[".dropzone-container[_ngcontent-%COMP%]{height:100%;position:relative}"]})}}return a})();class qn{constructor(s){this.zone=s,this.eventListeners=[]}attach(s){this.zone.runOutsideAngular(()=>{function t(){(function n(r){for(const o of r)clearTimeout(o);r.splice(0,r.length)})(window.windowBodyTimeouts),document.body.classList.add(window.draggingClass)}function i(){document.body.classList.remove(window.draggingClass)}s.addEventListener("dragover",t,{passive:!0}),s.addEventListener("drop",i,{passive:!0}),this.eventListeners.push({element:s,type:"dragover",listener:t},{element:s,type:"drop",listener:i})})}detach(){this.zone.runOutsideAngular(()=>{this.eventListeners.forEach(({element:s,type:t,listener:i})=>s.removeEventListener(t,i))})}}const ln=[(0,it.hZ)("itemShrinkAnimation",[(0,it.wk)("open",(0,it.iF)({height:"30vh"})),(0,it.wk)("closed",(0,it.iF)({height:"0vh"})),(0,it.kY)("open => closed",[(0,it.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)")])]),(0,it.hZ)("contentExpandAnimation",[(0,it.wk)("closed",(0,it.iF)({height:"0"})),(0,it.wk)("expanded",(0,it.iF)({height:"calc(100vh - {{bottomPixels}})",maxHeight:"calc(100vh - {{bottomPixels}})"}),{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}}),(0,it.kY)("closed => expanded",[(0,it.i0)("300ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,it.i7)([(0,it.iF)({height:"0vh",overflow:"hidden"}),(0,it.iF)({height:"calc(100vh - {{bottomPixels}})",overflow:"hidden"})]))],{params:{bottomPixels:window.innerWidth>600?"100px":"50px"}})])];let Ir=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=(0,e.hFB)(!1)}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-action",""]],inputs:{disabled:[1,"disabled"]},features:[e.OA$]})}}return a})(),Er=(()=>{class a{constructor(t){this.templateRef=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialActionsContent",""]]})}}return a})(),Ar=(()=>{class a{constructor(t){this.templateRef=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extendedFabSpeedDialTriggerContent",""]]})}}return a})(),Uo=(()=>{class a extends ht.${constructor(){super(),this.disabled=(0,e.hFB)(!1),this.open$=new ui.t(!1)}ngAfterContentInit(){this.subscriptions.add((0,Ii.z)([this.open$.pipe((0,Bi.F)()),this.actionButtons.changes.pipe((0,Ge.Z)(void 0))]).subscribe(([t])=>{this.actionButtons.forEach((i,n,r)=>{const u=Math.min(.3+.05*(r.length-1),.6),v=(u-.3)/(r.length-1),P=(t?.3+v*n:u-v*n)+"s";i.nativeElement.style.transitionDuration!==P&&(i.nativeElement.style.transitionDuration=P)})}))}ngOnDestroy(){this.open$.complete(),super.ngOnDestroy()}setOpen(t,i){"touch"!==t.pointerType&&this.open$.next(i)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["extended-fab-speed-dial"]],contentQueries:function(i,n,r){if(1&i&&(e.wni(r,Ar,5),e.wni(r,Er,5),e.wni(r,Ir,4,e.aKT)),2&i){let o;e.mGM(o=e.lsd())&&(n.trigger=o.first),e.mGM(o=e.lsd())&&(n.actions=o.first),e.mGM(o=e.lsd())&&(n.actionButtons=o)}},inputs:{disabled:[1,"disabled"]},features:[e.Vt3],decls:5,vars:3,consts:[[1,"extended-fab-speed-dial",3,"pointerenter","pointerleave"],[1,"extended-fab-speed-dial-trigger"],[3,"ngTemplateOutlet"],[1,"extended-fab-speed-dial-actions"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.bIt("pointerenter",function(o){return n.setOpen(o,!0)})("pointerleave",function(o){return n.setOpen(o,!1)}),e.j41(1,"div",1),e.eu8(2,2),e.k0s(),e.j41(3,"div",3),e.eu8(4,2),e.k0s()()),2&i&&(e.BMQ("disabled",n.disabled()||null),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.trigger?null:n.trigger.templateRef),e.R7$(2),e.Y8G("ngTemplateOutlet",null==n.actions?null:n.actions.templateRef))},dependencies:[ne.T3],styles:['extended-fab-speed-dial{display:block}.extended-fab-speed-dial .extended-fab-speed-dial-trigger{position:absolute;bottom:0;right:0}.extended-fab-speed-dial .extended-fab-speed-dial-actions{display:flex;flex-direction:column-reverse;align-items:flex-end;position:absolute;bottom:44px;right:0;pointer-events:none}.extended-fab-speed-dial .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:0;transition:opacity .3s ease-in-out;margin-bottom:8px}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions{pointer-events:all}.extended-fab-speed-dial:hover:not([disabled]) .extended-fab-speed-dial-actions button[extended-fab-speed-dial-action]{opacity:1}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger],.extended-fab-speed-dial button[extended-fab-speed-dial-action]{display:flex;align-items:center;justify-content:center;min-width:48px;height:44px;border:none;border-radius:16px 0;padding-left:14px;padding-right:14px;color:#fff;font-size:12px;white-space:nowrap;background:#002753;cursor:pointer;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;box-sizing:border-box}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>mat-icon,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>mat-icon{font-size:20px;width:20px;height:20px;line-height:20px}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span{display:inline-block;white-space:nowrap;overflow:hidden;max-width:0;transition:max-width .3s ease-in-out}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]>span:after,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:before,.extended-fab-speed-dial button[extended-fab-speed-dial-action]>span:after{content:"";width:8px;display:inline-block}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-trigger].appear-disabled,.extended-fab-speed-dial button[extended-fab-speed-dial-action][disabled],.extended-fab-speed-dial button[extended-fab-speed-dial-action].appear-disabled{cursor:default;color:#00000042;background-color:#1d273d1f}.extended-fab-speed-dial button[extended-fab-speed-dial-trigger]:hover>span,.extended-fab-speed-dial button[extended-fab-speed-dial-action]:hover>span{max-width:256px}\n'],encapsulation:2})}}return a})(),Wo=(()=>{class a{constructor(t){this.elementRef=t,this.disabled=(0,e.hFB)(!1)}ngOnChanges(t){null!=t.disabled&&this.elementRef.nativeElement.toggleAttribute("disabled",this.disabled())}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","extended-fab-speed-dial-trigger",""]],inputs:{disabled:[1,"disabled"]},features:[e.OA$]})}}return a})();const C_=["backdrop"],w_=["dialog"],M_=["*"],k_=a=>({"c-ew__dialog-header mat-elevation-z2":a}),D_=a=>({bottomPixels:a}),T_=(a,s)=>({value:a,params:s}),Xo=a=>({"appear-disabled":a});function x_(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDialog())}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,1,"Form.Buttons.Return.Tip")))}function S_(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()(),e.j41(6,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveAll(!0))}),e.j41(7,"span"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"mat-icon"),e.EFF(11,"done_all"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(8,Xo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(3,4,"Form.Buttons.Save")),e.R7$(4),e.Y8G("ngClass",e.eq3(10,Xo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(9,6,"Form.Buttons.SaveAndClose"))}}let ea=(()=>{class a{#e;#t;#i;constructor(t){this.zone=t,this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.#e=(0,e.WQX)(Se),this.formsStateService=(0,e.WQX)(jt),this.featuresService=(0,e.WQX)(A.D),this.applyEmptyClass=(0,e.hFB)(),this.#i=(0,c.d)(H),this.saveDisabled=(0,oe.bo)("saveDisabled",()=>this.#i.isSaving()||this.formsStateService.saveButtonDisabled()),this.open=this.fieldState.isOpen,this.#n=this.featuresService.isEnabled[Bt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#n()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.#t=new qn(this.zone),this.#t.attach(this.backdropRef.nativeElement),this.#t.attach(this.dialogRef.nativeElement)}ngOnDestroy(){this.#t.detach()}#n;calculateBottomPixels(){return window.innerWidth>600?"100px":"50px"}closeDialog(){this.#e.expand(!1,this.config.index,this.config.entityGuid)}saveAll(t){this.formsStateService.triggerSave(t)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-dialog-popup"]],viewQuery:function(i,n){if(1&i&&(e.GBs(C_,5),e.GBs(w_,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.backdropRef=r.first),e.mGM(r=e.lsd())&&(n.dialogRef=r.first)}},inputs:{applyEmptyClass:[1,"applyEmptyClass"]},ngContentSelectors:M_,decls:19,vars:14,consts:[["backdrop",""],["dialog",""],[3,"ngClass"],[1,"c-ew__backdrop",3,"click"],[1,"c-ew__dialog","mat-elevation-z24","u-border-radius"],["appearance","raised",1,"mat-elevation-z0"],["mat-icon-button","","tippyTranslate","Form.Buttons.Return.Tip",1,"back-arrow",3,"click"],[1,"title","mat-headline-4"],[1,"adam"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"]],template:function(i,n){if(1&i){const r=e.RV6();e.NAR(),e.j41(0,"div",2)(1,"div",3,0),e.bIt("click",function(){return e.eBV(r),e.Njj(n.closeDialog())}),e.k0s(),e.j41(3,"div",4,1)(5,"div",2)(6,"mat-card",5)(7,"button",6),e.bIt("click",function(){return e.eBV(r),e.Njj(n.closeDialog())}),e.j41(8,"mat-icon"),e.EFF(9,"arrow_back"),e.k0s()(),e.j41(10,"span",7),e.EFF(11),e.k0s()()(),e.j41(12,"div"),e.nrm(13,"div"),e.j41(14,"div"),e.SdG(15),e.j41(16,"extended-fab-speed-dial",8),e.DNE(17,x_,6,3,"ng-template",9)(18,S_,12,12,"ng-template",10),e.k0s()()()()()}2&i&&(e.Y8G("ngClass",n.open()?"c-ew__container":"u-display-none"),e.R7$(5),e.Y8G("ngClass",e.eq3(7,k_,n.open())),e.R7$(6),e.JRh(n.basics().label),e.R7$(2),e.Y8G("@itemShrinkAnimation",n.open()?"closed":"open"),e.R7$(),e.HbH("c-ew__dialog-content u-border-radius-bottom u-add-scrollbar u-hide-scrollbar"+(n.applyEmptyClass()?" c-ew__dialog-content--empty":"")),e.Y8G("@contentExpandAnimation",e.l_i(11,T_,n.open()?"expanded":"closed",e.eq3(9,D_,n.calculateBottomPixels()))))},dependencies:[ne.YU,pt.Hu,pt.RN,re.pZ,re.r6,gt.Hl,gt.iY,ae.m_,ae.An,O.h,O.D9,Uo,Wo,Ir,Ar,Er,Vt.e,ne.MD],styles:[".c-ew__container[_ngcontent-%COMP%]{border-radius:8px;position:fixed;z-index:2;inset:0;width:100%;height:100%;align-items:self-start;justify-content:center;display:flex}.mat-elevation-z0[_ngcontent-%COMP%]{display:flex;flex-direction:row}.c-ew__backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;width:100%;height:100%}.c-ew__dialog[_ngcontent-%COMP%]{z-index:3;display:flex;flex-direction:column;max-width:800px;width:100vw;margin-top:24px;min-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));max-height:calc(var(--edit-content-max-height-default) + var(--edit-dialog-header-height));padding:0}@media (max-width: 600px){.c-ew__dialog[_ngcontent-%COMP%]{margin-top:0;min-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height));max-height:calc(var(--edit-ui-dialog-max-height-mobile) + var(--edit-dialog-header-height))}}.c-ew__dialog[_ngcontent-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-header[_ngcontent-%COMP%]{z-index:4;border-radius:8px 8px 0 0}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{padding:16px;align-items:center;border-radius:8px 8px 0 0;height:52px;z-index:1}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{scale:.6666666667}.c-ew__dialog-header[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-top:1px;line-height:20px}.c-ew__dialog-content[_ngcontent-%COMP%]{position:relative;background:#e9eaec;border-radius:0 0 8px 8px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]{padding:16px}.c-ew__dialog-content[_ngcontent-%COMP%]   .eav-layout-grid[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:calc(100% - 32px)}"],data:{animation:[ln]}})}}return a})();const I_=["fieldComponent"],E_=["previewContainer"],A_=(a,s,t,i,n,r)=>({"mat-caption":a,"mat-empty":s,"mat-error":t,color__primary:i,"my-label-disabled":n,"c-ew__preview-label--focused":r}),O_=(a,s,t)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":s,"c-ew__preview--focused":t}),F_=a=>({"c-ew__preview-content--disabled":a}),P_=(a,s)=>({"min-height":a,"max-height":s});let R_=(()=>{class a{constructor(t,i,n,r){this.changeDetectorRef=t,this.viewContainerRef=i,this.zone=n,this.formsStateService=r,this.log=(0,p.Tq)({ExpandableWrapperComponent:a}),this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.settings=this.fieldState.settings,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.focused=(0,e.vPA)(!1),this.adamDisabled=this.config.adam.isDisabled,this.previewHeight=(0,e.EWP)(()=>{const o=this.settings(),u={minHeight:"36px",maxHeight:"50vh"};if(this.config.inputTypeSpecs.inputType!==Je.u.StringWysiwyg&&"inline"!==o.Dialog)return u;let v=parseInt(o.InlineInitialHeight,10);v<1&&(v=1);const P=function b_(a){return a*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}(50);let G=40+36*v;return G>P&&(G=P),u.minHeight=`${G}px`,u}),this.connectorCreator=(0,c.d)(Io)}ngOnInit(){this.config.focused$.subscribe(this.focused.set)}ngAfterViewInit(){const t=this.log.fn("ngAfterViewInit"),i=this.config.inputTypeSpecs.componentTagName;t.a("ExpandableWrapper created for:",{componentTagName:i}),this.connectorCreator.init(i,this.previewContainerRef,this.viewContainerRef,this.changeDetectorRef),this.dropzoneDraggingHelper=new qn(this.zone)}ngOnDestroy(){this.log.fn("ngOnDestroy",null,"destroying ExpandableWrapper"),this.dropzoneDraggingHelper.detach()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(jt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(I_,7,e.c1b),e.GBs(E_,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first),e.mGM(r=e.lsd())&&(n.previewContainerRef=r.first)}},decls:11,vars:21,consts:[["fieldComponent",""],["previewContainer",""],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label",3,"ngClass"],[1,"c-ew__preview",3,"ngClass"],[1,"c-ew__preview-container"],[1,"c-ew__preview-content","u-hide-scrollbar",3,"ngClass","ngStyle"]],template:function(i,n){1&i&&(e.j41(0,"app-dialog-popup"),e.eu8(1,null,0),e.k0s(),e.j41(3,"div",2)(4,"mat-label",3),e.EFF(5),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.nrm(8,"div",6,1),e.k0s()(),e.nrm(10,"app-field-helper-text"),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngClass",e.l4e(5,A_,n.uiValue(),!n.uiValue(),n.ui().invalid&&(n.ui().touched||n.ui().dirty)&&!n.ui().disabled,!n.ui().touchedAndInvalid&&!n.ui().disabled,n.ui().disabled,n.focused())),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("ngClass",e.sMw(12,O_,n.ui().invalid&&(n.ui().touched||n.ui().dirty),n.ui().disabled,n.focused())),e.R7$(2),e.Y8G("ngClass",e.eq3(16,F_,n.ui().disabled))("ngStyle",e.l_i(18,P_,n.previewHeight().minHeight,n.previewHeight().maxHeight)))},dependencies:[ti,ea,ne.MD,ne.YU,ne.B3],styles:[".c-ew__preview[_ngcontent-%COMP%]{margin-bottom:1px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--focused[_ngcontent-%COMP%]:not(.c-ew__preview--invalid){margin-bottom:0;border-bottom:2px solid #002753!important;transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 2px;margin-bottom:0;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:36px;max-height:50vh;font-size:14px}.c-ew__preview[_ngcontent-%COMP%]   .color__accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .color__primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:26px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-14px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-label--focused[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#002753!important}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;min-height:inherit;max-height:inherit}.c-ew__preview-content[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;overflow-y:scroll;min-height:36px;max-height:50vh}.c-ew__preview-content--disabled[_ngcontent-%COMP%]{pointer-events:none;color:#1d273d70}"],data:{animation:[ln]}})}}return a})();const L_=["fieldComponent"],V_=a=>({mark:a});function Y_(a,s){if(1&a&&(e.EFF(0),e.nrm(1,"app-feature-icon",3)),2&a){const t=s.$implicit;e.SpI(" ",t," "),e.R7$(),e.Y8G("featureNameId",t)}}function N_(a,s){if(1&a&&(e.j41(0,"div",2),e.EFF(1," This uses features which are not licensed: "),e.Z7z(2,Y_,2,2,null,null,e.fX1),e.k0s()),2&a){const t=e.XpG();e.R7$(2),e.Dyx(t.requiredFeatures())}}let j_=(()=>{class a{#e;#t;constructor(){this.#e=(0,e.WQX)(Ve.W),this.#t=(0,e.WQX)(A.D),this.requiredFeatures=(0,oe.bo)("requiredFeatures",()=>{const t=this.#e.requiredFeatures();return 0===t.length?t:t.filter(i=>!this.#t.allowUse[i]())}),this.basics=this.#e.basics}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-feat-warnings-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(L_,7,e.c1b),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first)}},decls:4,vars:4,consts:[["fieldComponent",""],[3,"ngClass"],[1,"feature-warning"],[3,"featureNameId"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.DNE(3,N_,4,0,"div",2),e.k0s()),2&i&&(e.Y8G("ngClass",e.eq3(2,V_,n.requiredFeatures().length)),e.R7$(3),e.vxM(-1))},dependencies:[ne.YU,_o.Z],styles:[".feature-warning[_ngcontent-%COMP%]{display:none}.mark[_ngcontent-%COMP%]{border-right:2px solid #00A6ED;--s: 2px;mask:conic-gradient(at var(--s) var(--s),rgba(0,0,0,0) 75%,#000 0) 0 0/calc(100% - var(--s)) calc(100% - var(--s)),linear-gradient(#000 0 0) content-box}.mark[_ngcontent-%COMP%]   .feature-warning[_ngcontent-%COMP%]{display:block;background-color:#f0ad4e;padding:4px}"]})}}return a})();class ta extends mt.S{constructor(){super({EmptyDefaultLogic:ta}),this.name=Je.u.EmptyDefault}update({settings:s}){const t={...s};return t.Visible??=!0,t.Collapsed??=!1,t.Notes??="",t}}mt.S.add(ta);const B_=["fieldComponent"],z_=a=>({"force-hide":a});function H_(a,s){1&a&&(e.j41(0,"div",9),e.nrm(1,"div",11),e.nI1(2,"safeHtml"),e.k0s()),2&a&&(e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,s),e.npT))}let G_=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({CollapsibleWrapperComponent:a}),this.#e=(0,e.WQX)(Ve.W),this.config=this.#e.config,this.group=this.#e.group,this.basics=this.#e.basics,this.collapsed=this.#e.settingExt("Collapsed"),this.#t=(0,e.WQX)(bi),ta.importMe()}toggleCollapse(){const t=this.collapsed();this.log.a("toggleCollapse",{before:t}),this.#t.updateSetting(this.#e.name,{Collapsed:!t},"CollapsibleWrapperComponent")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-collapsible-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(B_,7,e.c1b),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first)}},decls:14,vars:8,consts:[["fieldComponent",""],["appearance","raised",1,"eav-card-group-child","shadow-bottom-z-1",3,"ngClass"],[1,"eav-card-header-group-child",3,"click"],[1,"my-title-bar","eav-card-title-group","mat-body-2"],[1,"title-arrow"],[1,"title"],[1,"eav-card-content-group-child"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"mat-card",1)(1,"div",2),e.bIt("click",function(){return e.eBV(r),e.Njj(n.toggleCollapse())}),e.j41(2,"div",3)(3,"mat-icon",4),e.EFF(4),e.k0s(),e.j41(5,"span",5),e.EFF(6),e.k0s()()(),e.j41(7,"mat-card-content",6)(8,"div",7)(9,"div",8),e.DNE(10,H_,3,3,"div",9),e.j41(11,"div",10),e.eu8(12,null,0),e.k0s()()()()()}if(2&i){let r;e.Y8G("ngClass",e.eq3(6,z_,!1===n.basics().visible)),e.R7$(4),e.SpI("",n.collapsed()?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.basics().label||n.config.fieldName," "),e.R7$(),e.xc7("display",n.collapsed()?"none":"block"),e.R7$(3),e.vxM((r=n.basics().notes)?10:-1,r)}},dependencies:[pt.Hu,pt.RN,pt.m2,ne.YU,ae.m_,ae.An,ka,Ri.$],styles:[".eav-card-content-group-child[_ngcontent-%COMP%]{padding:0}.eav-card-group-child[_ngcontent-%COMP%]{padding:0;margin:0 0 8px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]{padding:20px 32px;border-radius:8px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-child[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.mat-mdc-card-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.my-title-bar[_ngcontent-%COMP%]{display:flex}"]})}}return a})();const $_=["fieldComponent"];let U_=(()=>{class a{constructor(){this.fieldState=(0,e.WQX)(Ve.W),this.basics=this.fieldState.basics}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hidden-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs($_,7,e.c1b),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first)}},decls:3,vars:1,consts:[["fieldComponent",""],[3,"hidden"]],template:function(i,n){1&i&&(e.j41(0,"div",1),e.eu8(1,null,0),e.k0s()),2&i&&e.Y8G("hidden",!n.basics().visible)},encapsulation:2})}}return a})();var Qo=m(3609);const W_=["fieldComponent"],X_=(a,s)=>({"c-ew__preview--disabled":a,"c-ew__preview--last-in-group":s}),Q_=(a,s)=>({"icon-before-input":a,"thumbnail-before-input--disabled":s}),K_=a=>({"background-image":a}),J_=a=>({"mat-form-field-invalid":a}),Z_=a=>({"mat-error":a}),q_=a=>({"c-ew__preview-suffix-text--disabled":a}),ev=a=>({"metadata-exists":a});function tv(a,s){if(1&a&&e.nrm(0,"mat-icon",4),2&a){const t=e.XpG();e.Y8G("tippy",t.url)("svgIcon",t.icon)}}function iv(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.expandDialog())}),e.nrm(1,"mat-icon",21),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function nv(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.openPagePicker())}),e.nrm(1,"mat-icon",23),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("disabled",t.ui().disabled)}}function av(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",9)(1,"div",15),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,iv,2,1,"button",16),e.j41(5,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openImageConfiguration(n.adamItem()))}),e.j41(6,"mat-icon",18),e.EFF(7,"filter_center_focus"),e.k0s()(),e.DNE(8,nv,2,1,"button",19),e.k0s()}if(2&a){let t,i,n;const r=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(10,q_,r.ui().disabled)),e.R7$(),e.SpI(" ",r.buttonAdam()?e.bMT(3,8,"Fields.Hyperlink.AdamFileManager.Hint"):""," "),e.R7$(2),e.vxM(r.buttonAdam()?4:-1),e.R7$(),e.Y8G("disabled",!(null!=(t=r.adamItem())&&t._imageConfigurationContentType))("ngClass",e.eq3(12,ev,(null==(i=r.adamItem())?null:i._imageConfigurationId)>0)),e.R7$(),e.Y8G("tippyTranslate",r.enableImageConfiguration()?"Fields.Hyperlink.AdamFileManager.ImageSettingsUnavailable":"Fields.Hyperlink.AdamFileManager.ImageSettingsDisabled")("tippyDisabled",null==(n=r.adamItem())?null:n._imageConfigurationContentType),e.R7$(2),e.vxM(r.buttonPage()?8:-1)}}function rv(a,s){if(1&a&&(e.j41(0,"div",11)(1,"div",24),e.EFF(2),e.k0s(),e.j41(3,"div",25)(4,"a",26)(5,"span"),e.EFF(6),e.k0s()()()()),2&a){const t=e.XpG(),i=e.XpG();e.R7$(2),e.JRh(i.uiValue()),e.R7$(2),e.Y8G("href",t.url,e.B4B)("tippy",t.url),e.R7$(2),e.JRh(t.floatingText)}}function sv(a,s){if(1&a&&(e.j41(0,"div",14)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"app-feature-icon-text",27),e.k0s()),2&a){const t=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,t.adamSponsorI18nKey())),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic")}}function ov(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.expandDialog())}),e.DNE(3,tv,1,2,"mat-icon",4),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"input",8),e.bIt("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.setValue(n))})("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.markAsTouched())})("keyup",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.setValue(n))}),e.k0s(),e.DNE(8,av,9,14,"div",9),e.j41(9,"mat-label",10),e.EFF(10),e.k0s()(),e.DNE(11,rv,7,4,"div",11),e.k0s(),e.j41(12,"div",12),e.nrm(13,"app-field-helper-text",13),e.DNE(14,sv,5,4,"div",14),e.k0s()()()()}if(2&a){const t=s,i=e.XpG();e.R7$(),e.Y8G("ngClass",e.l_i(17,X_,i.ui().disabled,i.config.isLastInGroup)),e.R7$(),e.Y8G("tippyDisabled",i.ui().disabled)("ngClass",e.l_i(20,Q_,i.uiValue()&&!t.isImage,i.ui().disabled))("ngStyle",e.eq3(23,K_,i.uiValue()&&t.isImage?t.thumbnailUrl:"")),e.R7$(),e.vxM(i.uiValue()&&!t.isImage?3:-1),e.R7$(3),e.Y8G("ngClass",e.eq3(25,J_,i.ui().touchedAndInvalid)),e.R7$(),e.Y8G("placeholder",i.basics().placeholder)("disabled",i.ui().disabled)("value",i.uiValue())("config",i.config)("elementType","input"),e.R7$(),e.vxM(i.buttonAdam()||i.buttonPage()?8:-1),e.R7$(),e.Y8G("ngClass",e.eq3(27,Z_,i.ui().touchedAndInvalid)),e.R7$(),e.SpI(" ",i.basics().labelWithRequired," "),e.R7$(),e.vxM(t.floatingText?11:-1),e.R7$(2),e.Y8G("hyperlinkDefaultWrapperFix",!0),e.R7$(),e.vxM(i.buttonAdam()?14:-1)}}let lv=(()=>{class a extends Eo{constructor(t,i,n,r,o,u,v,P,G){super(t,i,n,r,o,P),this.zone=v,this.formsStateService=P,this.featuresService=G,this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.buttonAdam=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("adam"),oi.bool),this.buttonPage=(0,e.EWP)(()=>this.fieldState.settings().Buttons.includes("page"),oi.bool),this.enableImageConfiguration=this.fieldState.settingExt("EnableImageConfiguration"),this.#e=this.featuresService.isEnabled[Bt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor"),this.editRoutingService=u}#e;ngAfterViewInit(){this.dropzoneDraggingHelper=new qn(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}markAsTouched(){this.fieldState.ui().markTouched()}setValue(t){const i=t.target.value;this.fieldState.ui().setIfChanged(i)}expandDialog(){this.fieldState.ui().disabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(S.S),e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(e.gRc),e.rXU(K),e.rXU(Se),e.rXU(e.SKi),e.rXU(jt),e.rXU(A.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-default-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(W_,7,e.c1b),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first)}},features:[e.Vt3],decls:4,vars:1,consts:[["fieldComponent",""],[1,"c-hyperlink-default-field-preview"],[1,"c-ew__preview","c-ew__preview--hyperlink",3,"ngClass"],["tippyTranslate","Fields.Hyperlink.Default.Fullscreen",1,"thumbnail-before-input",3,"click","tippyDisabled","ngClass","ngStyle"],["tippyPlacement","right",3,"tippy","svgIcon"],[1,"c-ew__preview-field--short"],[1,"hyperlink-input-link-wrapper"],["color","accent",1,"eav-mat-form-field",3,"ngClass"],["matInput","","tippyTranslate","Fields.Hyperlink.Default.Tooltip","tippyPlacement","top","appPasteClipboardImage","",1,"eav-translate-on-dblclick",3,"change","blur","keyup","placeholder","disabled","value","config","elementType"],["matTextSuffix","",1,"c-ew__preview-suffix"],[3,"ngClass"],["fxHide","","fxShow.gt-xs","",1,"hyperlink-floating"],[1,"c__helper-wrapper"],[1,"c__helper-wrapper--left",3,"hyperlinkDefaultWrapperFix"],[1,"c-ew__preview-field-hint","c__helper-wrapper--right"],["fxHide","","fxShow.gt-xs","",1,"c-ew__preview-suffix-text",3,"ngClass"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","appClickStopPropagation","","tippyTranslate","Fields.Hyperlink.AdamFileManager.ImageSettings",1,"c-ew__preview-suffix-icon",3,"click","disabled","ngClass"],[3,"tippyTranslate","tippyDisabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"disabled"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.Fullscreen","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","apple-outlined"],["mat-icon-button","","tippyTranslate","Fields.Hyperlink.Default.PageTip","appClickStopPropagation","",1,"c-ew__preview-suffix-icon",3,"click","disabled"],["svgIcon","sitemap"],[1,"hyperlink-floating__value"],[1,"hyperlink-floating__url-box"],["target","_blank","tabindex","-1",1,"hyperlink-floating__url",3,"href","tippy"],[3,"featureNameId"]],template:function(i,n){if(1&i&&(e.j41(0,"app-dialog-popup"),e.eu8(1,null,0),e.k0s(),e.DNE(3,ov,15,29,"div",1)),2&i){let r;e.R7$(3),e.vxM((r=n.preview())?3:-1,r)}},dependencies:[ne.YU,ae.m_,ae.An,ne.B3,O.h,O.D9,Vt.e,ea,ti,Qo.U,yr,ne.MD,ct.RG,ct.rl,ct.nJ,ct.yw,Ut.fS,Ut.fg,gt.Hl,gt.iY],styles:[".metadata-exists[_ngcontent-%COMP%]{color:#0087f4}.c-ew__preview--hyperlink[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input[_ngcontent-%COMP%]{background-color:#1d273d14;width:78px;height:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2);cursor:pointer;background-repeat:no-repeat;background-position:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input.icon-before-input[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:56px;height:56px;font-size:56px;line-height:56px;color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]{cursor:default}.c-ew__preview[_ngcontent-%COMP%]   .thumbnail-before-input--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-field--short[_ngcontent-%COMP%]{flex:1 1 auto;width:1%;padding:0 0 0 8px;margin-top:-4px}.c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d70;font-size:12px}.c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-field-hint[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview-suffix[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.c-ew__preview-suffix-text[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:#06599a;-webkit-user-select:none;user-select:none;cursor:text}.c-ew__preview-suffix-text--disabled[_ngcontent-%COMP%]{color:#1d273d3d}@media (min-width: 601px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:0!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:flex}}@media (max-width: 600px){.c-ew__preview-suffix-icon[_ngcontent-%COMP%]{top:10px!important}.hyperlink-floating[_ngcontent-%COMP%], .c-ew__preview-field-hint.c__helper-wrapper--right[_ngcontent-%COMP%]{display:none}}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}"],data:{animation:[ln]}})}}return a})();const cv=["fieldComponent"],dv=(a,s,t,i,n)=>({"mat-caption":a,"mat-empty":s,"mat-error":t,color__primary:i,"my-label-disabled":n}),uv=()=>({enterDuration:360}),pv=(a,s)=>({"c-ew__preview--invalid":a,"c-ew__preview--disabled":s});function hv(a,s){if(1&a&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"mat-icon",12),e.j41(3,"div",13),e.EFF(4),e.k0s()()()),2&a){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.Name)}}function mv(a,s){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function fv(a,s){if(1&a&&(e.j41(0,"mat-icon"),e.EFF(1),e.k0s()),2&a){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t._icon)}}function gv(a,s){if(1&a&&(e.j41(0,"div",11),e.DNE(1,mv,2,1,"mat-icon")(2,fv,2,1,"mat-icon"),e.j41(3,"div",13),e.EFF(4),e.k0s()()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.vxM(t._isMaterialIcon?1:-1),e.R7$(),e.vxM(t._isMaterialIcon?-1:2),e.R7$(2),e.JRh(t.Name)}}function _v(a,s){if(1&a&&(e.j41(0,"div",14),e.nrm(1,"img",15),e.k0s()),2&a){const t=e.XpG(2).$implicit;e.R7$(),e.FCK("alt","",t.Id,":",t.Name,""),e.Y8G("src",t.ThumbnailUrl,e.B4B)}}function vv(a,s){if(1&a&&(e.j41(0,"div"),e.DNE(1,gv,5,3,"div",11)(2,_v,2,4,"div",14),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.vxM("image"!==t.Type?1:-1),e.R7$(),e.vxM("image"===t.Type?2:-1)}}function yv(a,s){if(1&a&&e.DNE(0,hv,5,1,"div")(1,vv,3,2,"div"),2&a){const t=s.$implicit;e.vxM(t.IsFolder?0:-1),e.R7$(),e.vxM(t.IsFolder?-1:1)}}let bv=(()=>{class a{#e;constructor(t,i,n,r){this.zone=t,this.editRoutingService=i,this.formsStateService=n,this.featuresService=r,this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics,this.ui=this.fieldState.ui,this.uiValue=this.fieldState.uiValue,this.items=(0,e.EWP)(()=>this.config.adam.items().slice(0,9)),this.itemsNumber=(0,e.EWP)(()=>this.config.adam.items().length,oi.number),this.#e=this.featuresService.isEnabled[Bt.T.NoSponsoredByToSic],this.adamSponsorI18nKey=(0,e.EWP)(()=>this.#e()?"Fields.Hyperlink.AdamFileManager.Name":"Fields.Hyperlink.Default.Sponsor")}ngAfterViewInit(){this.dropzoneDraggingHelper=new qn(this.zone)}ngOnDestroy(){this.dropzoneDraggingHelper.detach()}trackByFn(t,i){return i.Id}expandDialog(){this.config.initialDisabled||this.editRoutingService.expand(!0,this.config.index,this.config.entityGuid)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.SKi),e.rXU(Se),e.rXU(jt),e.rXU(A.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hyperlink-library-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&e.GBs(cv,7,e.c1b),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first)}},decls:19,vars:20,consts:[["fieldComponent",""],[3,"applyEmptyClass"],[1,"c-ew__preview-holder"],[1,"c-ew__preview-label","c-ew__color--primary",3,"ngClass"],["matRipple","",1,"c-ew__preview","mat-ripple",3,"click","matRippleAnimation","ngClass"],[3,"ngClass"],[1,"c-ew__preview-content"],[1,"mat-caption","c-ew__preview-hint"],[1,"c__helper-wrapper--left"],["fxHide","","fxShow.gt-xs","",1,"c__helper-wrapper--right","c-ew__preview-hint-text"],[3,"featureNameId"],[1,"adam-browse-background-icon"],["svgIcon","folder"],[1,"adam-short-label","mat-caption"],[1,"adam-browse-background-image"],["vm-dz-thumbnail","",3,"alt","src"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"app-dialog-popup",1),e.eu8(1,null,0),e.k0s(),e.j41(3,"div",2)(4,"mat-label",3),e.EFF(5),e.k0s(),e.j41(6,"div",4),e.bIt("click",function(){return e.eBV(r),e.Njj(n.expandDialog())}),e.j41(7,"div",5)(8,"div",6),e.Z7z(9,yv,2,2,null,null,n.trackByFn,!0),e.k0s()()(),e.j41(11,"div",7)(12,"div",8),e.nrm(13,"app-field-helper-text"),e.k0s(),e.j41(14,"div",9)(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"app-feature-icon-text",10),e.k0s()()()}2&i&&(e.Y8G("applyEmptyClass",!0),e.R7$(4),e.Y8G("ngClass",e.s1E(10,dv,n.itemsNumber()>0,0===n.itemsNumber(),n.ui().invalid&&!n.config.initialDisabled,!n.ui().invalid&&!n.config.initialDisabled,n.config.initialDisabled)),e.R7$(),e.SpI(" ",n.basics().labelWithRequired," "),e.R7$(),e.Y8G("matRippleAnimation",e.lJ4(16,uv))("ngClass",e.l_i(17,pv,n.ui().invalid,n.config.initialDisabled)),e.R7$(),e.Y8G("ngClass",n.uiValue()?"c-ew__preview-container":"c-ew__preview-container--empty"),e.R7$(2),e.Dyx(n.items()),e.R7$(7),e.SpI("",e.bMT(17,8,n.adamSponsorI18nKey())," "),e.R7$(2),e.Y8G("featureNameId","NoSponsoredByToSic"))},dependencies:[ea,ae.m_,ae.An,re.pZ,re.r6,ti,Qo.U,O.h,O.D9,ne.MD,ne.YU],styles:[".c-ew__preview[_ngcontent-%COMP%]{padding:0 0 12px;border-bottom:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]:hover:not(.c-ew__preview--disabled):not(.c-ew__preview--invalid){padding:0 0 11px;border-bottom:2px solid rgba(0,0,0,.4);transition:none}.c-ew__preview--invalid[_ngcontent-%COMP%]{padding:0 0 11px;border-bottom:2px solid #b00030;transition:none}.c-ew__preview--disabled[_ngcontent-%COMP%]{border:none;cursor:default;padding:0 0 13px;background-image:linear-gradient(to right,rgba(0,0,0,.2) 0%,rgba(0,0,0,.2) 33%,transparent 0%);background-position:bottom;background-size:4px 1px;background-repeat:repeat-x}.c-ew__preview[_ngcontent-%COMP%]{position:relative;min-height:37px;max-height:119px;cursor:pointer}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--accent[_ngcontent-%COMP%]{color:#002753}.c-ew__preview[_ngcontent-%COMP%]   .c-ew__color--primary[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview[_ngcontent-%COMP%]   .my-label-disabled[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview[_ngcontent-%COMP%]   mat-empty[_ngcontent-%COMP%]{height:48px;padding:24px 0 0}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]{height:78px;width:78px;text-align:center;border-radius:4px;border:1px solid rgba(0,0,0,.2);display:flex;flex-direction:column;align-items:center;justify-content:center}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{height:78px;width:78px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.c-ew__preview[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:4px}.c-ew__preview-holder[_ngcontent-%COMP%]{position:relative;margin-top:38px}.c-ew__preview-label[_ngcontent-%COMP%]{top:-26px;position:absolute;z-index:1;pointer-events:none;font-size:12px;line-height:14px}.c-ew__preview-label[_ngcontent-%COMP%]:not(.mat-mdc-form-field-error){color:#1d273d70}.c-ew__preview-container[_ngcontent-%COMP%]{overflow:hidden;height:100%;align-content:center}.c-ew__preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;gap:2px;overflow:hidden}.c-ew__preview-hint[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d70}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-icon[_ngcontent-%COMP%], .c-ew__preview--disabled[_ngcontent-%COMP%]   .c-ew__preview-hint-text[_ngcontent-%COMP%]{color:#1d273d3d}.c-ew__preview--disabled[_ngcontent-%COMP%]   .adam-browse-background-image[_ngcontent-%COMP%]{opacity:.5}.c__helper-wrapper[_ngcontent-%COMP%]{display:flex;width:100%}.c__helper-wrapper--left[_ngcontent-%COMP%]{flex:auto;width:1%}.c__helper-wrapper--right[_ngcontent-%COMP%]{flex:0 0 auto;padding-top:.54166667em;padding-left:12px;line-height:16px}.adam-short-label[_ngcontent-%COMP%]{max-width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],data:{animation:[ln]}})}}return a})();const Cv=["fieldComponent"],wv=["previewComponent"];let Mv=(()=>{class a{constructor(t){this.formsStateService=t,this.log=(0,p.Tq)({PickerExpandableWrapperComponent:a}),this.fieldState=(0,e.WQX)(Ve.W),this.config=this.fieldState.config,this.basics=this.fieldState.basics}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(jt))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-picker-expandable-wrapper"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Cv,7,e.c1b),e.GBs(wv,7,e.c1b)),2&i){let r;e.mGM(r=e.lsd())&&(n.fieldComponent=r.first),e.mGM(r=e.lsd())&&(n.previewComponent=r.first)}},decls:8,vars:0,consts:[["fieldComponent",""],["previewComponent",""],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],[1,"eav-card","eav-layout-grid__cell--span-12","u-border-radius","shadow-bottom-z-1"]],template:function(i,n){1&i&&(e.j41(0,"app-dialog-popup")(1,"div",2)(2,"div",3)(3,"mat-card",4),e.eu8(4,null,0),e.k0s()()()(),e.eu8(6,null,1))},dependencies:[pt.Hu,pt.RN,ea,ne.MD],styles:[".eav-card[_ngcontent-%COMP%]{padding:16px}  .eav-layout-grid{padding:16px}  .eav-layout-grid .mat-mdc-card{height:calc(100% - 32px)}"],data:{animation:[ln]}})}}return a})();const kv={[Et_AdamWrapper]:u_,[Et_CollapsibleWrapper]:G_,[Et_DropzoneWrapper]:y_,[Et_PickerExpandableWrapper]:Mv,[Et_ExpandableWrapper]:R_,[Et_HiddenWrapper]:U_,[Et_FeatureWarningWrapper]:j_,[Et_HyperlinkDefaultExpandableWrapper]:lv,[Et_HyperlinkLibraryExpandableWrapper]:bv,[Et_LocalizationWrapper]:qc,[Je.u.BooleanDefault]:Da,[Je.u.BooleanTristate]:Ta,[Je.u.CustomDefault]:Cn,[Je.u.CustomJsonEditor]:wn,[Je.u.DateTimeDefault]:Xa,[Je.u.EmptyDefault]:Dp,[Je.u.EmptyMessage]:Qa,[Je.u.EntityContentBlocks]:Ff,[Je.u.EntityDefault]:Do,[Je.u.EntityQuery]:Nf,[Je.u.ExternalWebComponent]:Xf,[Je.u.HyperlinkDefault]:br,[Je.u.HyperlinkLibrary]:Cr,[Je.u.NumberDefault]:wr,[Je.u.NumberDropdown]:Mr,[Je.u.StringDefault]:kr,[Je.u.StringDropdown]:Tg,[Je.u.StringDropdownQuery]:Mg,[Je.u.StringFontIconPicker]:Dr,[Je.u.StringJson]:wn,[Je.u.StringTemplatePicker]:Tr,[Je.u.StringUrlPath]:xr,[Je.u.EntityPicker]:Lf,[Je.u.StringPicker]:Ag,[Je.u.NumberPicker]:fg},Dv={all:!1,setConfig:!0,refresh:!0};class Or{constructor(){this.log=(0,p.Tq)({AdamConnector:Or},Dv),this.#e=(0,e.vPA)(null),this.#t=(0,oe.bo)("items",()=>this.#e()?.items()??[]),this.#i=0,this.isDisabled=(0,e.EWP)(()=>this.#e()?.adamConfig()?.disabled??!0)}get browser(){const s=this.#e();if(s)return s;throw new Error("Browser not set")}setBrowser(s){this.#e.set(s)}#e;#t;get items(){return this.#t}toggle(s,t){this.log.fn("toggle",{usePortalRoot:s,showImagesOnly:t}),this.browser.toggle(s,t)}#i;setConfig(s){const t=this.log.fnIf("setConfig",{config:s,count:this.#i});if(this.#i++,this.#i>10)throw new Error("Infinite loop");this.browser.setConfig(s),t.end()}getConfig(){return this.browser.adamConfig()}onItemClick(){}onItemUpload(){}refresh(){this.log.fnIf("refresh"),this.browser.fetchItems()}}class Tv{static fromSettings(s){const t=s?.Name??"loading...",i=s?.Notes??"",n=s?.valueRequired??!0,u=(s?.Visible??!0)&&!s?.VisibleDisabled,v=s?.Collapsed??!1;return{label:t,notes:i,placeholder:s?.Placeholder??"loading...",required:n,labelWithRequired:t+(n?" *":""),visible:u,collapsed:v}}}const xv={getInjectors:!0,fields:[...U.z]};let Iv=(()=>{class a{#e;#t;#i;#n;#a;#r;constructor(){this.log=(0,p.Tq)({FieldStateInjectorFactory:a},xv),this.#e=(0,e.WQX)(e.zZn),this.#t=(0,e.WQX)(e.uvJ),this.#i=(0,e.WQX)(bi),this.#n=(0,e.WQX)(H),this.#a=(0,e.WQX)(A.D),this.#r=(0,e.WQX)(Se)}getInjectors(t,i){const n=this.log.fnIf("getInjectors",{fieldConfig:t,inputType:i}),r=t.fieldName,o=this.#i.settings[r],u=(0,oe.bo)("basics",()=>Tv.fromSettings(o())),v=this.#n.formGroup,P=v.controls[r],G=this.#s(r,P,i,o),ie=(()=>{if(!P)return(0,oe.KX)("value-change-empty",null);const Ze=P.valueChanges.pipe((0,me.A)(nt=>nt));return(0,Ne.ot)(Ze,{injector:this.#e,initialValue:P.value})})(),ce=new Ve.W(r,t,v,o,u,G,ie,this.#i.translationState[r],this.#r.isExpandedSignal(t.index,t.entityGuid,this.#e),this.#i.pickerData[r]??null,this.#a,this.#e),Ae=this.#o(ce);return n.r(Ae)}#s(t,i,n,r){const o=this.log.fnCond(this.log.specs.fields.includes(t),"buildControlChangeSignal",{fieldName:t,inputType:n});if(i){const u=(0,Ne.br)(r,{injector:this.#e});return(0,e.N4e)(this.#e,()=>{const v=i.valueChanges.pipe((0,me.A)(G=>({dirty:i.dirty,invalid:i.invalid,touched:i.touched,disabled:i.disabled})),(0,Y.M)(G=>!1)),P=(0,Ii.z)([v,u.pipe((0,me.A)(G=>G.uiDisabled))]).pipe((0,Y.M)(([G,ie])=>o.a("controlStateChange on control",{control:i,disabled:ie})),(0,me.A)(([G,ie])=>new rn.a(i,t,ie)),(0,Y.M)(G=>o.a("controlStatusChangeSignal",{result:G})));return(0,Ne.ot)(P,{initialValue:new rn.a(i,t,r().uiDisabled)})})}return l.Q.isEmpty(n.inputType)?null:(console.error(`Error: can't create signal for control of ${t} (not found). Input type is not empty, it's ${n.inputType}.`),(0,oe.KX)("control-status-empty",rn.a.emptyControl()))}#o(t){const i=[{provide:Ve.W,useValue:t}];return{injector:e.zZn.create({providers:i,parent:this.#e,name:"FieldInjector"}),environmentInjector:(0,e.Ol2)(i,this.#t,"FieldEnvInjector")}}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const Ev={all:!1,createWrapper:!0};let Av=(()=>{class a{#e;#t;#i;#n;constructor(t,i){this.formConfigService=t,this.el=i,this.renderer=(0,e.WQX)(e.sFG),this.#e=!1,this.log=(0,p.Tq)({EditControlsBuilderDirective:a},Ev),this.#t=(0,c.d)(Iv),this.#i=(0,e.WQX)(e.c1b),this.#n=(0,e.WQX)(bi),this.#a=[],this.onInitReady=(0,e.vPA)(!1),(0,e.QZP)(()=>{const n=this.onInitReady(),r=this.formConfigService.controlsCreated();this.log.a("createControls - effect",{onInitReady:n,controlsCreated:r}),n&&r&&(this.log.a("createControls RUN"),(0,e.O8t)(()=>this.createControls()))})}#a;ngOnInit(){this.onInitReady.set(!0),this.index=parseInt(this.el.nativeElement.getAttribute("data-index"))}createControls(){this.#i.clear();let t=this.#i;const i=this.#n.allProps();for(const[n,r]of Object.entries(i)){const o={...r.constants,fieldName:n,focused$:new ui.t(!1),adam:new Or};this.#a.push(o);const u=r.constants.inputTypeSpecs.inputType;l.Q.isGroupStart(u)?t=this.#r(this.#i,r,o):l.Q.isGroupEnd(u)?t=this.#i:this.#s(t,r,o)}}ngOnDestroy(){for(const t of this.#a)t.focused$.complete()}#r(t,i,n){const r=this.#t.getInjectors(n,i.constants.inputTypeSpecs);let o=new Fr(null,t,r);return i.buildWrappers&&(o=this.#d(o,i.buildWrappers)),o.contentsRef}#s(t,i,n){const r=i.constants.inputTypeSpecs;this.log.a("createComponent",{inputSpecs:r});const o=this.#t.getInjectors(n,r);let u=new Fr(null,t,o);i.buildWrappers&&(u=this.#d(u,i.buildWrappers));const P=this.#u(r.isExternal?Je.u.ExternalWebComponent:r.inputType),G=Reflect.getMetadata(ds,P);G?.wrappers&&(u=this.#d(u,G.wrappers));const ie=this.#l(P,u.contentsRef,u.injectors),ce=u.wrapperRef?.instance?.previewComponent;if(null!=ce){const Ae=this.#u(r.inputType);this.log.a("createComponent - add preview",{previewType:Ae}),this.#l(Ae,ce,u.injectors)}!1===this.#e&&0===this.index&&!0!==i.settings.noAutoFocus&&(this.#o(ie),this.#e=!0)}#o(t){setTimeout(()=>{const i=t.location.nativeElement.querySelector("input");i&&(this.renderer.setAttribute(i,"autofocus","true"),i?.focus())},250)}#l(t,i,n){return i.createComponent(t,n)}#d(t,i){let n=t;for(const r of i)n=this.#c(n,r);return n}#c(t,i){this.log.fnIf("createWrapper",{wrapperName:i});const r=this.#u(i),o=t.contentsRef.createComponent(r,t.injectors);return new Fr(o,o.instance.fieldComponent,null)}#u(t){return kv[t]??(console.error(`Missing component class for: ${t}`),Cn)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(H),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appEditControlsBuilder",""]]})}}return a})();class Fr{constructor(s,t,i){this.wrapperRef=s,this.contentsRef=t,this.injectors=i}}const Ov={all:!0,watchToRefreshOnVersionsClosed:!0};let Fv=(()=>{class a{constructor(){this.log=(0,p.Tq)({EditForceReloadService:a},Ov),this.#e=(0,e.WQX)(Ce.CP),this.#t=(0,c.d)(_e.c)}#e;#t;ngOnDestroy(){this.#i?.unsubscribe()}#i;watchToRefreshOnVersionsClosed(){const t=this.log.fnIf("watchToRefreshOnVersionsClosed");this.#i=this.#t.childDialogClosed$().pipe((0,F.T)(()=>this.#t.state()),(0,St.p)(i=>!0===i?.refreshEdit)).subscribe(i=>{const n=this.log.fnIf("watchToRefreshOnVersionsClosed",null,"refreshEdit");t.a("version closed, refreshing edit dialog");const r=this.#t.snapshot.params,o=E.b.newUrlIfCurrentContainsOldUrl(this.#t.route,`edit/${r.items}`,`edit/refresh/${r.items}`);if(null==o)return n.end("no change");this.#e.close({navigateUrl:o}),n.end(`routed away to :${o}`)}),t.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();var Pv=m(5443),Rv=m(3966);function Nv(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.unlockAll())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.autoTranslateMany())}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"app-feature-icon-indicator",6),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.lockAll())}),e.EFF(8),e.nI1(9,"translate"),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"LangMenu.TranslateAll")),e.R7$(3),e.SpI(" ",e.bMT(5,6,"LangMenu.AutoTranslateAll")," "),e.R7$(2),e.Y8G("featureNameId","EditUiTranslateWithGoogle"),e.R7$(2),e.JRh(e.bMT(9,8,"LangMenu.NoTranslateAll")))}function jv(a,s){if(1&a&&(e.j41(0,"div")(1,"button",1)(2,"span",2),e.EFF(3),e.nI1(4,"translate"),e.nI1(5,"uppercase"),e.j41(6,"mat-icon",3),e.EFF(7,"translate"),e.k0s()()(),e.j41(8,"mat-menu",null,0),e.DNE(10,Nv,10,10,"ng-template",4),e.k0s()()),2&a){const t=e.sdS(9),i=e.XpG();e.R7$(),e.Y8G("disabled",i.readOnly().isReadOnly||i.slotIsEmpty())("matMenuTriggerFor",t),e.R7$(2),e.SpI(" ",e.bMT(5,5,e.bMT(4,3,"LangMenu.Translate"))," \xa0\xa0 ")}}let Bv=(()=>{class a{constructor(t,i,n,r,o,u){this.matDialog=t,this.itemService=i,this.eavService=n,this.fieldTranslateSvc=r,this.viewContainerRef=o,this.fieldSettingsSvc=u,this.entityGuid=(0,e.hFB)(),this.formsStateService=(0,e.WQX)(jt),this.readOnly=this.formsStateService.readOnly,this.#e=(0,e.EWP)(()=>this.fieldTranslateSvc.findAutoTranslatableFields()),this.slotIsEmpty=(0,e.EWP)(()=>this.itemService.slotIsEmpty(this.entityGuid())(),oi.bool),this.language=this.eavService.language}#e;unlockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!0)}lockAll(){this.fieldTranslateSvc.toggleUnlockOnAll(!1)}autoTranslateMany(){const t=this.#e();if(0===t.length)return this.fieldTranslateSvc.showMessageNoTranslatableFields(!0);const i=this.fieldSettingsSvc.translationState[t[0]]();if(t.length>0){const r={config:{entityGuid:this.entityGuid(),fieldName:t[0]},translationState:{language:i.language,linkType:i.linkType},isTranslateMany:!0,translatableFields:t};this.matDialog.open(ls,{autoFocus:!1,data:r,viewContainerRef:this.viewContainerRef,width:"400px"})}else this.matDialog.open(Zr,{autoFocus:!1,data:{isAutoTranslateAll:!0},viewContainerRef:this.viewContainerRef,width:"400px"})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.bZ),e.rXU(k.b),e.rXU(S.S),e.rXU(Fi),e.rXU(e.c1b),e.rXU(bi))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-entity-translate-menu"]],inputs:{entityGuid:[1,"entityGuid"]},decls:1,vars:1,consts:[["menu","matMenu"],["mat-button","",3,"disabled","matMenuTriggerFor"],[1,"my-flex-inside"],[1,"eav-translate-icon"],["matMenuContent",""],["mat-menu-item","",3,"click"],[3,"featureNameId"]],template:function(i,n){1&i&&e.DNE(0,jv,11,7,"div"),2&i&&e.vxM(n.language().current!==n.language().primary?0:-1)},dependencies:[gt.Hl,gt.$z,Lt.Cn,Lt.kk,Lt.fb,Lt.z8,Lt.Cp,ae.m_,ae.An,Jr,ne.Pc,O.h,O.D9],styles:[".eav-translate-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;line-height:20px}.my-flex-main[_ngcontent-%COMP%]{display:flex;place-content:center end}.my-flex-inside[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})();const zv=["noteTrigger"],Hv=["noteTemplate"];function Gv(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",18,1),e.bIt("pointerenter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.noteProps().note?r.toggleNote(n):null)})("pointerleave",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.noteProps().note?r.toggleNote(n):null)})("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.noteProps().note?r.toggleNote(n):r.editNote())}),e.j41(2,"mat-icon"),e.EFF(3),e.k0s()()}if(2&a){const t=e.XpG();e.ZvI("eav-note ",t.noteProps().triggerClass,""),e.Y8G("disabled",t.readOnly())("tippyTranslate",t.noteProps().tooltip)("tippyDisabled",t.readOnly())("disableRipple",t.noteProps().itemNotSaved),e.R7$(3),e.JRh(t.noteProps().iconName)}}function $v(a,s){if(1&a){const t=e.RV6();e.j41(0,"div",19),e.bIt("pointerdown",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.noteTouched=!0)}),e.j41(1,"div",20)(2,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.editNote(n.noteProps().note))}),e.j41(3,"mat-icon"),e.EFF(4,"edit"),e.k0s()(),e.j41(5,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteNote(n.noteProps().note))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",21),e.bIt("click",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.toggleNote(n))}),e.j41(9,"mat-icon"),e.EFF(10,"close"),e.k0s()()(),e.nrm(11,"div",22),e.nI1(12,"safeHtml"),e.k0s()}if(2&a){const t=e.XpG();e.ZvI("eav-note-wrapper ",t.noteProps().noteClass,""),e.R7$(11),e.Y8G("innerHtml",e.bMT(12,4,t.noteProps().noteHtml),e.npT)}}function Uv(a,s){if(1&a){const t=e.RV6();e.j41(0,"mat-slide-toggle",23),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleSlotIsEmpty())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("checked",!t.ctSettings().slotIsEmpty)("disabled",t.readOnly()||t.languages().current!==t.languages().primary)("tippyTranslate",t.ctSettings().slotIsEmpty?"ItemCard.SlotUsedFalse":"ItemCard.SlotUsedTrue")("tippyDisabled",t.readOnly()||t.languages().current!==t.languages().primary)}}function Wv(a,s){if(1&a&&(e.j41(0,"div",9)(1,"mat-icon"),e.EFF(2,"local_offer"),e.k0s()()),2&a){const t=e.XpG();e.Y8G("tippy",t.itemForTooltip())}}function Xv(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openHistory())}),e.j41(1,"mat-icon"),e.EFF(2,"history"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("disabled",t.readOnly())}}function Qv(a,s){if(1&a&&(e.j41(0,"div",15),e.nrm(1,"div",25),e.nI1(2,"safeHtml"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("innerHtml",e.bMT(2,1,t.ctSettings().editInstructions),e.npT)}}const Kv={all:!1,fetchNote:!0,noteFormData:!0};let Jv=(()=>{class a{#e;#t;#i;#n;#a;#r;#s;#o;#l;#d;#c;constructor(t,i,n,r){this.itemSvc=t,this.editRoutingSvc=i,this.matDialog=n,this.viewContainerRef=r,this.log=(0,p.Tq)({EntityFormComponent:a},Kv),this.entityGuid=(0,e.hFB)(),this.index=(0,e.hFB)(),this.formConfig=(0,e.WQX)(S.S),this.#e=(0,e.WQX)(bi),this.#t=(0,e.WQX)(jt),this.#i=(0,e.WQX)(O.c$),this.#n=(0,c.d)(Fv),this.collapse=!1,this.noteTouched=!1,this.#a=(0,e.WQX)(A.D),this.#r=this.#a.isEnabled[Bt.T.EditUiShowNotes],this.#s=this.#a.isEnabled[Bt.T.EditUiShowMetadataFor],this.languages=this.formConfig.language,this.ctSettings=(0,oe.bo)("ctSettings",()=>{const o=this.#e.contentTypeSettings(),u=o.Features,v=function Yv(a){return a.split("\n").reduce((t,i)=>{if(!i)return t;const n=i.split("=");return t[n[0]]="true"===n[1],t},{})}(o.Features);return{itemTitle:o._itemTitle,slotCanBeEmpty:o._slotCanBeEmpty,slotIsEmpty:o._slotIsEmpty,editInstructions:o.EditInstructions,features:u,showNotes:v[Bt.T.EditUiShowNotes]??this.#r(),showMdFor:v[Bt.T.EditUiShowMetadataFor]??this.#s()}}),this.readOnly=(0,oe.bo)("readOnly",()=>this.#t.readOnly().isReadOnly),this.itemForTooltip=(0,oe.bo)("itemForTooltip",()=>function Lv(a,s){if(a)return s.instant("Form.Buttons.Metadata.Tip")+`\nTarget: ${a.Target}\nTargetType: ${a.TargetType}`+(a.Number?`\nNumber: ${a.Number}`:"")+(a.String?`\nString: ${a.String}`:"")+(a.Guid?`\nGuid: ${a.Guid}`:"")+(a.Title?`\nTitle: ${a.Title}`:"")}(this.itemSvc.getItemFor(this.entityGuid()),this.#i)),this.#o=(0,oe.KX)("retriggerNoteProps",!1),this.noteProps=(0,oe.bo)("noteProps",()=>{this.#o();const o=this.entityGuid(),u=this.formConfig.language();return function Vv(a,s,t){const i={note:a,tooltip:t?"Form.Buttons.Note.ItemNotSaved":"Form.Buttons.Note.Add",triggerClass:"no-note "+(t?"item-not-saved":""),iconName:"sticky_note_2",noteClass:"",noteHtml:void 0,itemNotSaved:t};if(!a)return i;i.tooltip=void 0;const n=new E.bT(s);i.noteHtml=n.getBestValue(a.Attributes.Note);const r=n.getBestValue(a.Attributes.NoteType);return"note"===r?i.triggerClass="has-note":"warning"===r&&(i.triggerClass="has-warning",i.iconName="warning",i.noteClass="warning"),i}(this.itemSvc.getItemNote(o),u,0===this.itemSvc.get(o).Entity.Id)}),this.#l=(0,c.d)($e),this.#d=(0,c.d)(D.Tr),this.#c=(0,c.d)(_e.c)}ngAfterViewChecked(){this.noteRef?._containerInstance?._changeDetectorRef?.detectChanges()}ngOnInit(){this.#c.doOnDialogClosed(()=>this.#u())}ngOnDestroy(){this.noteRef?.close()}toggleCollapse(){this.collapse=!this.collapse}toggleSlotIsEmpty(){const t=this.entityGuid(),i=this.itemSvc.getItemHeader(t),n={...i,IsEmpty:!i.IsEmpty},r=this.log.fn("toggleSlotIsEmpty",{oldHeader:i,newHeader:n});this.itemSvc.updater.updateItemHeader(t,n),r.end()}openHistory(){const t=this.itemSvc.get(this.entityGuid());this.#n.watchToRefreshOnVersionsClosed(),this.#c.navRelative([`versions/${t.Entity.Id}`])}toggleNote(t){const i=this.noteRef?.getState()===Ce.CF.OPEN;"pointerenter"===t.type&&0==this.noteTouched?this.openNote():"pointerleave"===t.type&&0==this.noteTouched?this.noteRef?.close():"click"===t.type&&i&&(0==this.noteTouched?this.noteTouched=!0:(this.noteRef?.close(),this.noteTouched=!1))}openNote(){const t=this.noteTriggerRef.nativeElement.getBoundingClientRect();this.noteRef=this.matDialog.open(this.noteTemplateRef,{autoFocus:!1,hasBackdrop:!1,disableClose:!0,restoreFocus:!1,closeOnNavigation:!1,position:{top:`${t.bottom}px`,left:t.left-200+"px"},viewContainerRef:this.viewContainerRef,panelClass:"note-dialog"})}editNote(t){const i=this.entityGuid(),n=this.log.fn("editNote",{note:t});if(0===this.itemSvc.get(i).Entity.Id)return void n.end("Item not saved yet, ID = 0");const o={items:[null==t?C.c.newMetadata(i,Ti.YX.contentTypes.notes,Ti.YX.metadata.entity,!0):C.c.editId(t.Id)]};this.editRoutingSvc.open(null,null,o)}deleteNote(t){const i=this.formConfig.language(),n=new Pv.b(i).getBestValue(t.Attributes.Title);confirm(this.#i.instant("Data.Delete.Question",{title:n,id:t.Id}))&&this.#d.delete(this.formConfig.config.appId,Ti.YX.contentTypes.notes,t.Id,!1).subscribe(()=>{this.noteRef?.close(),this.#u()})}#u(){const t=this.entityGuid(),i=this.itemSvc.get(t),n=this.log.fnIf("fetchNote",{entityGuid:t,item:i,id:i.Entity.Id});if(0===i.Entity.Id)return n.end("no change");const r=[C.c.editId(i.Entity.Id)];this.#l.fetchFormData(JSON.stringify(r)).subscribe(o=>{const u=this.log.fn("noteFormData",{formData:o});if(!this.itemSvc.get(t))return u.end(`Item ${t} not found in service, was probably flushed for reload`);const v=o.Items.map(P=>Rv.U.convert(P));this.itemSvc.updater.updateItemMetadata(t,v[0].Entity.Metadata),this.#o.set(!0),u.end("updated note")}),n.end("started note-loading")}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(k.b),e.rXU(Se),e.rXU(Ce.bZ),e.rXU(e.c1b))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form"]],viewQuery:function(i,n){if(1&i&&(e.GBs(zv,5,e.aKT),e.GBs(Hv,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.noteTriggerRef=r.first),e.mGM(r=e.lsd())&&(n.noteTemplateRef=r.first)}},inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},decls:21,vars:13,consts:[["noteTemplate",""],["noteTrigger",""],["appearance","raised",1,"eav-card-group-parent","shadow-bottom-z-1"],[1,"my-title-bar-outer","eav-card-header-group-parent"],[1,"my-title-bar","eav-card-title-group","mat-headline-4",3,"click"],[1,"title-arrow"],[1,"title"],["type","button","mat-icon-button","",3,"class","disabled","tippyTranslate","tippyDisabled","disableRipple"],[1,"empty-slot-toggle",3,"checked","disabled","tippyTranslate","tippyDisabled"],[1,"icon-box",3,"tippy"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"disabled"],[3,"entityGuid"],[1,"eav-card-content-group-parent"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["align","start",1,"eav-layout-grid__cell--span-12","mat-body-2"],[1,"eav-layout-grid__cell--span-12"],["appEditControlsBuilder",""],["type","button","mat-icon-button","",3,"pointerenter","pointerleave","click","disabled","tippyTranslate","tippyDisabled","disableRipple"],["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body",3,"pointerdown"],["cdkDragHandle","",1,"eav-note-actions"],["mat-icon-button","","appMousedownStopPropagation","",3,"click"],[1,"eav-note-content","eav-hide-scrollbar",3,"innerHtml"],[1,"empty-slot-toggle",3,"change","checked","disabled","tippyTranslate","tippyDisabled"],["type","button","mat-icon-button","","tippyTranslate","Form.Buttons.History.Tip",3,"click","disabled"],["appChangeAnchorTarget","",1,"description",3,"innerHtml"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"mat-card",2)(1,"div",3)(2,"div",4),e.bIt("click",function(){return e.eBV(r),e.Njj(n.toggleCollapse())}),e.j41(3,"mat-icon",5),e.EFF(4),e.k0s(),e.j41(5,"span",6),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.DNE(8,Gv,4,8,"button",7)(9,$v,13,6,"ng-template",null,0,e.C5r)(11,Uv,1,4,"mat-slide-toggle",8)(12,Wv,3,1,"div",9)(13,Xv,3,1,"button",10),e.nrm(14,"app-entity-translate-menu",11),e.k0s(),e.j41(15,"mat-card-content",12)(16,"div",13)(17,"div",14),e.DNE(18,Qv,3,3,"div",15),e.j41(19,"div",16),e.nrm(20,"div",17),e.k0s()()()()()}2&i&&(e.R7$(4),e.SpI(" ",n.collapse?"keyboard_arrow_down":"keyboard_arrow_up"," "),e.R7$(2),e.SpI(" ",n.ctSettings().itemTitle||e.bMT(7,11,"ItemCard.DefaultTitle")," "),e.R7$(2),e.vxM(n.ctSettings().showNotes?8:-1),e.R7$(3),e.vxM(n.ctSettings().slotCanBeEmpty?11:-1),e.R7$(),e.vxM(n.ctSettings().showMdFor&&n.itemForTooltip()?12:-1),e.R7$(),e.vxM(n.formConfig.config.enableHistory?13:-1),e.R7$(),e.Y8G("entityGuid",n.entityGuid()),e.R7$(),e.xc7("display",n.collapse?"none":"block"),e.R7$(3),e.vxM(n.ctSettings().editInstructions?18:-1),e.R7$(2),e.BMQ("data-index",n.index()))},dependencies:[pt.Hu,pt.RN,pt.m2,ae.m_,ae.An,gt.Hl,gt.iY,Wi.T1,Wi.Fb,Pi.mV,Pi.sG,Bv,ka,Av,O.h,O.D9,Vt.e,Ri.$,zl.z],styles:[".eav-card-group-parent[_ngcontent-%COMP%]{padding:0;margin:0;border-radius:8px}@media (max-width: 600px){.eav-card-group-parent[_ngcontent-%COMP%]{border-radius:4px}}.eav-card-header-group-parent[_ngcontent-%COMP%]{padding:24px 32px;border-radius:8px;height:68px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title-arrow[_ngcontent-%COMP%]{margin-right:6px}.eav-card-header-group-parent[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.eav-card-header-group-parent[_ngcontent-%COMP%]:not(:hover)   .no-note[_ngcontent-%COMP%]{display:none}.eav-card-content-group-parent[_ngcontent-%COMP%]{border-radius:8px;padding:0}.eav-card-content-group-parent[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px;margin-top:-14px;margin-bottom:14px}.eav-card-title-group[_ngcontent-%COMP%]{margin:0;cursor:pointer;line-height:20px;color:#002753}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-layout-grid[_ngcontent-%COMP%]{padding:0 16px 16px}.empty-slot-toggle[_ngcontent-%COMP%]{padding-top:0}.icon-box[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.eav-note.item-not-saved[_ngcontent-%COMP%]{cursor:default}.eav-note[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#d9ca1f}.eav-note.has-warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e90000}.eav-note-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px;width:300px;min-height:300px;max-height:400px;box-sizing:border-box;overflow:hidden;background-color:#fff79f}.eav-note-wrapper.warning[_ngcontent-%COMP%]{background-color:#ffdede}.eav-note-content[_ngcontent-%COMP%]{flex-shrink:1;overflow:auto}.eav-note-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end;cursor:move;margin-top:-16px;margin-left:-16px;margin-right:-16px;padding-top:8px;padding-left:8px;padding-right:8px}.my-title-bar-outer[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box}.my-title-bar[_ngcontent-%COMP%]{display:flex;flex:auto}"]})}}return a})(),Zv=(()=>{class a extends Pe.V{constructor(t,i,n,r){super(),this.entityFormSvc=t,this.formsStateSvc=i,this.formConfig=n,this.itemSvc=r,this.log=(0,p.Tq)({EntityFormSyncService:a})}setupSync(t){const i=this.entityFormSvc.formGroup;this.subscriptions.add(i.valueChanges.pipe((0,F.T)(()=>i.dirty),(0,Ge.Z)(i.dirty)).subscribe(o=>{this.formsStateSvc.setFormDirty(t,o)}));const n=i.valueChanges.pipe((0,F.T)(()=>!i.invalid),(0,Ge.Z)(!i.invalid),(0,me.J)(o=>o)),r=this.itemSvc.getItemHeader$(t);this.subscriptions.add((0,Ii.z)([n,r]).pipe((0,me.J)(([o,u])=>u?.IsEmpty||o)).subscribe(o=>{this.formsStateSvc.setFormValid(t,o)})),this.subscriptions.add(i.valueChanges.pipe((0,F.T)(()=>i.getRawValue()),(0,Bi.F)((o,u)=>null==ma.$.getItemValuesChanges(o,u))).subscribe(o=>{const u=this.formConfig.language();this.itemSvc.updater.updateItemAttributesValues(t,o,u)}))}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(H),e.KVO(jt),e.KVO(S.S),e.KVO(k.b))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})(),qv=(()=>{class a{constructor(t,i,n,r){this.fieldsSettingsSvc=t,this.adamCacheSvc=i,this.formBuilder=n,this.entityFormConfigSvc=r,this.log=(0,p.Tq)({FormFieldsBuilderService:a},null)}createFields(t,i,n){const r=this.log.fn("createFields"),o=n.filter(({inputType:u,hasControl:v})=>!l.Q.isEmpty(u)&&!v);this.log.a(`create missing controls ${o.length} of ${n.length}`,{fieldsForNgForm:o});for(const u of o){const{name:v,props:P,inputType:G,value:ie}=u;let ce=ie;if(G===Je.u.StringWysiwyg&&ce){const Kt=w.y.singleton().get(Je.u.StringWysiwyg),Mt=this.adamCacheSvc.getAdamSnapshot(t,v);u.value=ce=Kt.processValueOnLoad(ce,Mt)}const Ae=P.settings.uiDisabled,Ze=this.fieldsSettingsSvc,nt=new fl(v,G,Ze.settings[v],Ze.fieldProps[v],()=>Ze.pickerData),rt=Wr.getValidators(nt,G),Ft=this.formBuilder.control({disabled:Ae,value:ce},rt);i.addControl(v,Ft)}this.entityFormConfigSvc.controlsCreated.set(!0),r.end()}static{this.\u0275fac=function(i){return new(i||a)(e.KVO(bi),e.KVO(j),e.KVO(He.ze),e.KVO(H))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const ey={keepFieldsAndStateInSync:!0};let ty=(()=>{class a extends Pe.V{constructor(){super(),this.log=(0,p.Tq)({FormFieldsSyncService:a},ey)}keepFieldsAndStateInSync(t,i){const n=this.log.fnIf("keepFieldsAndStateInSync");this.subscriptions.add(i.subscribe(r=>{const o=r.filter(G=>G.hasControl);n.a(`sync values for max ${o.length} controls`);const u=t.getRawValue(),v={};for(const{name:G,value:ie}of o)v[G]=ie;const P=ma.$.getItemValuesChanges(u,v);null!=P?(n.a(`patching form as it changed (${Object.keys(P).length}`,{changes:P,oldValues:u,newValues:v}),t.patchValue(P)):n.a("no changes detected",{oldValues:u,newValues:v}),n.a('sync "disabled" state');for(const{control:G,props:ie}of o)rn.a.disable(G,ie.settings.uiDisabled);n.a("run validators");for(const{control:G}of o)G.updateValueAndValidity()})),n.end()}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();const iy={all:!0,getFieldsToProcess:!1,ngOnInit:!1,fieldsToProcess$:!0};let Ko=(()=>{class a{#e;#t;#i;#n;#a;#r;#s;#o;constructor(){this.entityGuid=(0,e.hFB)(),this.index=(0,e.hFB)(),this.log=(0,p.Tq)({EntityFormBuilderComponent:a},iy),this.#e=(0,e.WQX)(H),this.#t=(0,e.WQX)(qt.f),this.#i=(0,e.WQX)(Fi),this.#n=(0,e.WQX)(bi),this.#a=(0,e.WQX)(e.zZn),this.#r=(0,c.d)(qv),this.#s=(0,c.d)(ty),this.#o=(0,c.d)(Zv),this.form=this.#e.formGroup}ngOnInit(){const t=this.entityGuid(),i=this.log.fnIf("ngOnInit",{entityGuid:t});this.#n.init(t),this.#t.itemSettingsServices[t]=this.#n,this.#i.init(t);const n=this.#l(t);n.pipe((0,bt.s)(1)).subscribe(r=>this.#r.createFields(t,this.form,r)),this.#s.keepFieldsAndStateInSync(this.form,n),this.#o.setupSync(t),i.end()}ngOnDestroy(){this.#n.disableForCleanUp()}#l(t){const i=this.log.fnIf("getFieldsToProcess",null,t),n=this.form,r=this.#n.allProps,u=(0,Ne.br)(r,{injector:this.#a}).pipe((0,St.p)(v=>null!=v&&Object.keys(v).length>0),(0,F.T)(v=>{const P=Object.entries(v).map(([G,ie])=>{const ce=n.controls.hasOwnProperty(G);return{name:G,props:ie,inputType:ie.constants.inputTypeSpecs.inputType,value:ie.value,hasControl:ce,control:ce?n.controls[G]:null}});return this.log.aIf("fieldsToProcess$",{entityGuid:t,fields:P}),P}));return i.rSilent(u)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entity-form-builder"]],inputs:{entityGuid:[1,"entityGuid"],index:[1,"index"]},features:[e.Jv_([bi,Fi,H])],decls:2,vars:3,consts:[[1,"dynamic-form",3,"formGroup"],[3,"entityGuid","index"]],template:function(i,n){1&i&&(e.j41(0,"form",0),e.nrm(1,"app-edit-entity-form",1),e.k0s()),2&i&&(e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("entityGuid",n.entityGuid())("index",n.index()))},dependencies:[He.YN,He.qT,He.cb,He.X1,He.j4,Jv],styles:[".dynamic-form[_ngcontent-%COMP%]{margin-bottom:8px}"]})}}return a})();class ny{static valuesToDto(s){const t={};for(const i of s.Values)t[i.Dimensions.map(r=>r.Value).join()]=i.Value;return t}}class ay{static attributesToDto(s){const t={};for(const[i,n]of Object.entries(s)){const r=n.Type;null==t[r]&&(t[r]={}),t[r][i]=ny.valuesToDto(n)}return t}}class Pr{static entityToDto(s){const t=ay.attributesToDto(s.Attributes),i=this.entitiesToDto(s.Metadata);return{Attributes:t,Guid:s.Guid,Id:s.Id,Owner:s.Owner,Type:s.Type,Version:s.Version,For:s.For,Metadata:i}}static entitiesToDto(s){return null==s?null:s.map(i=>Pr.entityToDto(i))}}class ry{static bundleToDto(s){return{Entity:Pr.entityToDto(s.Entity),Header:s.Header}}}var sy=m(8275),oy=m(4065),ly=m(1191),cy=m(5943);const dy=a=>({feature:a,showGuid:!1,showStatus:!0,showClose:!1}),uy=(a,s)=>s.nameId;function py(a,s){1&a&&e.nrm(0,"app-feature-details-dialog",1)(1,"br"),2&a&&e.Y8G("specs",e.eq3(1,dy,s.$implicit))}const hy={...p.W_,unlicensedFeatures:!1};let my=(()=>{class a{#e;#t;constructor(){this.log=(0,p.Tq)({FeaturesUsedButUnlicensedComponent:a},hy),this.#e=(0,e.WQX)(A.D),this.#t=(0,c.d)(cy.N),this.features=this.#t.getFeatureDetails(this.#e.unlicensedFeatures()),this.log.fnIf("constructor")}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-features-used-but-unlicensed-dialog"]],decls:18,vars:0,consts:[["href","https://patrons.2sxc.org/","target","_blank"],[3,"specs"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Preview of Features which are not Licensed"),e.k0s()(),e.j41(4,"mat-card-content")(5,"p"),e.EFF(6," 99% of all features in 2sxc are free. But some very advanced features are only for patrons (supporters) and enterprise customers. You are permitted to try these features, but to really use them you must get a license. "),e.k0s(),e.j41(7,"p"),e.EFF(8," This message should remind you \u{1f609} of that. "),e.nrm(9,"br"),e.EFF(10," Please contact your account manager to get them licensed, or visit the "),e.j41(11,"a",0),e.EFF(12,"patrons"),e.k0s(),e.EFF(13," to learn more. "),e.k0s(),e.j41(14,"p"),e.EFF(15,"The following features are currently in preview:"),e.k0s(),e.Z7z(16,py,2,3,null,null,uy),e.k0s()()),2&i&&(e.R7$(16),e.Dyx(n.features()))},dependencies:[pt.Hu,pt.RN,pt.m2,pt.MM,pt.dh,gt.Hl,ae.m_,O.h,ly.O],encapsulation:2})}}return a})();const Rr=a=>({"eav-list-item__focus":a});let gy=(()=>{class a{constructor(t,i,n){this.dialog=t,this.publishStatusService=i,this.formConfig=n,this.PublishModes=Oe,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.options=this.formConfig.config.versioningOptions,this.dialog.keydownEvents().subscribe(r=>{(0,Qi.J)(r)&&r.preventDefault()})}setPublishMode(t){this.publishStatusService.setPublishMode(t,this.formConfig.config.formId,this.formConfig),this.closeDialog()}closeDialog(){this.dialog.close()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.CP),e.rXU(Z),e.rXU(S.S))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-publish-status-dialog"]],decls:36,vars:36,consts:[[1,"eav-card-content__no-padding"],["toggle",""],["lines","3",3,"click","disabled","ngClass"],["matListItemIcon",""],["matListItemTitle",""],["matListItemIcon","","svgIcon","draft-branch"]],template:function(i,n){1&i&&(e.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-card-subtitle"),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"mat-card-content",0)(9,"mat-nav-list",1)(10,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Show)}),e.j41(11,"mat-icon",3),e.EFF(12,"visibility"),e.k0s(),e.j41(13,"span",4),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"span"),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.j41(19,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Hide)}),e.j41(20,"mat-icon",3),e.EFF(21,"visibility_off"),e.k0s(),e.j41(22,"span",4),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"mat-list-item",2),e.bIt("click",function(){return n.setPublishMode(n.PublishModes.Branch)}),e.nrm(29,"mat-icon",5),e.j41(30,"span",4),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"span"),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,14,"PublishStatus.Dialog.Title")),e.R7$(3),e.JRh(e.bMT(7,16,"PublishStatus.Dialog.Intro")),e.R7$(4),e.Y8G("disabled",!0!==n.options[n.PublishModes.Show])("ngClass",e.eq3(30,Rr,n.publishMode()===n.PublishModes.Show)),e.R7$(4),e.JRh(e.bMT(15,18,"PublishStatus.Dialog.Show.Title")),e.R7$(3),e.JRh(e.bMT(18,20,"PublishStatus.Dialog.Show.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Hide])("ngClass",e.eq3(32,Rr,n.publishMode()===n.PublishModes.Hide)),e.R7$(4),e.JRh(e.bMT(24,22,"PublishStatus.Dialog.Hide.Title")),e.R7$(3),e.JRh(e.bMT(27,24,"PublishStatus.Dialog.Hide.Body")),e.R7$(2),e.Y8G("disabled",!0!==n.options[n.PublishModes.Branch])("ngClass",e.eq3(34,Rr,n.publishMode()===n.PublishModes.Branch)),e.R7$(3),e.JRh(e.bMT(32,26,"PublishStatus.Dialog.Branch.Title")),e.R7$(3),e.JRh(e.bMT(35,28,"PublishStatus.Dialog.Branch.Body")))},dependencies:[pt.Hu,pt.RN,pt.m2,pt.MM,pt.Lc,pt.dh,_n,rs,gn,fn,Xi,ne.YU,ae.m_,ae.An,O.h,O.D9],styles:[".eav-card-content__no-padding[_ngcontent-%COMP%]{padding:0}.eav-card-content__no-padding[_ngcontent-%COMP%]:last-child{padding-bottom:16px}.eav-card-content__no-padding[_ngcontent-%COMP%]   .eav-list-item__focus[_ngcontent-%COMP%]{background:#0000000a}"]})}}return a})();const _y=()=>[m.e("projects_eav-ui_src_app_edit_dialog_header_language-switcher_language-switcher_component_ts").then(m.bind(m,7870)).then(a=>a.LanguageSwitcherComponent)];function vy(a,s){if(1&a&&e.nrm(0,"app-language-switcher",9),2&a){const t=e.XpG(2);e.Y8G("disabled",t.disabled())}}function yy(a,s){1&a&&(e.DNE(0,vy,1,1),e.nv$(1,0,_y),e.g25())}function by(a,s){if(1&a&&(e.j41(0,"mat-icon",4),e.EFF(1," lock "),e.k0s()),2&a){const t=e.XpG();e.Y8G("tippyTranslate","General.ReadOnlyHint."+t.readOnly().reason)}}function Cy(a,s){1&a&&(e.j41(0,"mat-icon",5),e.EFF(1," file_copy "),e.k0s())}function wy(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUnlicensedDialog())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"License-EditUi-Warning-Label")," \u{1f6e1}\ufe0f "))}let My=(()=>{class a{#e;#t;constructor(t,i,n,r,o){this.matDialog=t,this.viewContainerRef=i,this.languageService=n,this.publishStatusService=r,this.formConfig=o,this.disabled=(0,e.hFB)(),this.closeDialog=(0,e.CGW)(),this.#e=(0,e.WQX)(jt),this.#t=(0,e.WQX)(A.D),this.config=this.formConfig.config,this.readOnly=this.#e.readOnly,this.publishMode=this.publishStatusService.getPublishMode(this.formConfig.config.formId),this.hasLanguages=(0,e.EWP)(()=>this.languageService.getAllSignal()().length>0),this.showLicenseWarning=this.#t.hasUnlicensedFeatures}close(){this.closeDialog.emit()}openPublishStatusDialog(){this.matDialog.open(gy,{autoFocus:!1,viewContainerRef:this.viewContainerRef,width:"350px"})}openUnlicensedDialog(){!function fy(a,s){a.open(my,{autoFocus:!1,viewContainerRef:s,width:"600px"})}(this.matDialog,this.viewContainerRef)}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.bZ),e.rXU(e.c1b),e.rXU(T.g),e.rXU(Z),e.rXU(S.S))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-header"]],inputs:{disabled:[1,"disabled"]},outputs:{closeDialog:"closeDialog"},decls:17,vars:16,consts:[[1,"eav-header"],["mat-icon-button","",1,"eav-exit-button",3,"click","tippyTranslate"],[1,"eav-icon"],[1,"eav-languages"],[1,"eav-hint-icon",3,"tippyTranslate"],["tippyTranslate","General.CopyHint",1,"eav-hint-icon"],["mat-button","",1,"eav-publish-button",3,"click","disabled","tippyTranslate"],[1,"eav-publish-mode"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip"],[3,"disabled"],["mat-button","","tippyTranslate","License-EditUi-Warning-Tooltip",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"mat-card",0)(1,"button",1),e.bIt("click",function(){return n.close()}),e.j41(2,"mat-icon",2),e.EFF(3),e.k0s()(),e.j41(4,"div",3),e.DNE(5,yy,3,0),e.k0s(),e.DNE(6,by,2,1,"mat-icon",4)(7,Cy,2,0,"mat-icon",5),e.j41(8,"button",6),e.bIt("click",function(){return n.openPublishStatusDialog()}),e.j41(9,"span",7),e.EFF(10),e.nI1(11,"translate"),e.j41(12,"b"),e.EFF(13),e.nI1(14,"translate"),e.nI1(15,"uppercase"),e.k0s()()(),e.DNE(16,wy,3,3,"button",8),e.k0s()),2&i&&(e.R7$(),e.Y8G("tippyTranslate","Form.Buttons."+(n.config.isParentDialog?"Exit":"Return")+".Tip"),e.R7$(2),e.JRh(n.config.isParentDialog?"clear":"arrow_back"),e.R7$(2),e.vxM(n.hasLanguages()?5:-1),e.R7$(),e.vxM(n.readOnly().isReadOnly?6:-1),e.R7$(),e.vxM(n.config.isCopy?7:-1),e.R7$(),e.Y8G("disabled",n.readOnly().isReadOnly)("tippyTranslate","PublishStatus."+n.publishMode()+".Tip"),e.R7$(2),e.SpI(" ",e.bMT(11,10,"PublishStatus.Label")," "),e.R7$(3),e.JRh(e.bMT(15,14,e.bMT(14,12,"PublishStatus."+n.publishMode()))),e.R7$(3),e.vxM(n.showLicenseWarning()?16:-1))},dependencies:[pt.Hu,pt.RN,gt.Hl,gt.$z,gt.iY,ae.m_,ae.An,ne.Pc,O.h,O.D9,Vt.e],styles:[".eav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:0 16px;border-bottom-left-radius:0;border-bottom-right-radius:0;height:var(--edit-dialog-header-height);z-index:1;box-shadow:0 2px 5px #00000042}@media (max-width: 600px){.eav-header[_ngcontent-%COMP%]{border-radius:0}}.eav-header[_ngcontent-%COMP%]   .eav-exit-button[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{scale:.6666666667}.eav-header[_ngcontent-%COMP%]   .eav-languages[_ngcontent-%COMP%]{margin-left:12px;flex-grow:1;overflow:hidden;height:100%}.eav-header[_ngcontent-%COMP%]   .eav-hint-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;font-size:20px;width:20px;height:20px;line-height:20px!important}.eav-header[_ngcontent-%COMP%]   .eav-publish-button[_ngcontent-%COMP%]{margin-right:-6px;padding:0 10px;height:30px;line-height:32px;flex-shrink:0}.eav-header[_ngcontent-%COMP%]   .eav-publish-mode[_ngcontent-%COMP%]{font-weight:400}"]})}}return a})();var ky=m(5057),Dy=m(3140);const Zo="previous",Ty=["move-next","move-previous"];let xy=(()=>{class a extends Dy.J{constructor(t,i,n){super(),this.elementRef=t,this.languageService=i,this.formConfig=n,this.log=(0,p.Tq)({FormSlideDirective:a})}ngOnInit(){const t=this.log.fn("ngOnInit"),i=this.languageService.getAll(),n=this.elementRef.nativeElement;this.subscriptions.add((0,Ai.h)(this.formConfig.language$.pipe((0,F.T)(r=>r.current),(0,me.J)(r=>r),(0,ky.J)(),(0,F.T)(([r,o])=>{t.a("toggle",{previousLang:r,currentLang:o});const u=i.findIndex(G=>G.NameId===r),v=i.findIndex(G=>G.NameId===o),P=u>v?Zo:"next";return t.a("slide",{prevIndex:u,currentIndex:v,slide:P}),P})),(0,dt.R)(n,"animationend").pipe((0,St.p)(r=>void 0!==Ty.find(o=>r.animationName.endsWith(o))),(0,F.T)(()=>""),(0,Re.c)(0))).subscribe(r=>{const o=n.classList;""===r?(t.a("stop-slide"),o.remove("next"),o.remove(Zo)):(t.a(`start-slide to '${r}'`),o.add(r))}))}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(e.aKT),e.rXU(T.g),e.rXU(S.S))}}static{this.\u0275dir=e.FsC({type:a,selectors:[["","appFormSlide",""]],features:[e.Vt3]})}}return a})();function Sy(a,s){if(1&a&&(e.j41(0,"div")(1,"span"),e.EFF(2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&a){const t=s.$implicit;e.R7$(2),e.JRh(t.field),e.R7$(2),e.SpI(": ",e.bMT(5,2,t.message),"")}}let Iy=(()=>{class a{constructor(t){this.snackBarData=t}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(se.ht))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-save-errors"]],decls:7,vars:3,consts:[[1,"save-errors-container"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"br"),e.Z7z(5,Sy,6,4,"div",null,e.fX1),e.k0s()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"Errors.SaveErrors")),e.R7$(3),e.Dyx(n.snackBarData.fieldErrors))},dependencies:[O.h,O.D9],styles:[".save-errors-container[_ngcontent-%COMP%]{font-size:14px}"]})}}return a})(),Ey=(()=>{class a{constructor(t,i){this.snackRef=t,this.snackBarData=i}saveChanges(t){this.snackBarData.save=t,this.snackRef.dismissWithAction()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(se.TQ),e.rXU(se.ht))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-snack-bar-unsaved-changes"]],decls:12,vars:13,consts:[[1,"error-message"],[1,"my-flex-right"],["mat-button","","color","primary",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"div",1)(4,"button",2),e.bIt("click",function(){return n.saveChanges(!1)}),e.EFF(5),e.nI1(6,"translate"),e.nI1(7,"uppercase"),e.k0s(),e.j41(8,"button",2),e.bIt("click",function(){return n.saveChanges(!0)}),e.EFF(9),e.nI1(10,"translate"),e.nI1(11,"uppercase"),e.k0s()()),2&i&&(e.R7$(),e.SpI(" ",e.bMT(2,3,"Errors.UnsavedChanges"),"\n"),e.R7$(4),e.SpI(" ",e.bMT(7,7,e.bMT(6,5,"General.Buttons.NotSave"))," "),e.R7$(4),e.SpI(" ",e.bMT(11,11,e.bMT(10,9,"General.Buttons.Save"))," "))},dependencies:[gt.Hl,gt.$z,ne.Pc,O.h,O.D9],styles:[".error-message[_ngcontent-%COMP%]{font-size:14px}.my-flex-right[_ngcontent-%COMP%]{display:flex;justify-content:end}"]})}}return a})();const Ay=()=>[Ce.E7,m.e("projects_eav-ui_src_app_edit_dialog_footer_edit-dialog-footer_component_ts").then(m.bind(m,6054)).then(a=>a.EditDialogFooterComponent)],Oy=a=>({"u-display-none":a}),Fy=(a,s,t,i)=>({"debug-enabled":a,"debug-info-is-open":s,"footer-xl":t,"hide-header-height-fix":i}),qo=a=>({"appear-disabled":a}),Py=(a,s)=>s.Entity.Guid;function Ry(a,s){if(1&a&&(e.j41(0,"div"),e.nrm(1,"app-edit-entity-form-builder",8),e.k0s()),2&a){const t=s.$implicit,i=s.$index;e.R7$(),e.Y8G("entityGuid",t.Entity.Guid)("index",i)}}function Ly(a,s){if(1&a&&(e.j41(0,"div",7),e.Z7z(1,Ry,2,2,"div",null,Py),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Dyx(t.items())}}function Vy(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveAll(!0))}),e.j41(1,"mat-icon"),e.EFF(2,"done"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(4,qo,t.saveDisabled())),e.R7$(4),e.JRh(e.bMT(5,2,"Form.Buttons.SaveAndClose"))}}function Yy(a,s){if(1&a){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveAll(!1))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon"),e.EFF(5,"save"),e.k0s()()}if(2&a){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(4,qo,t.saveDisabled())),e.R7$(2),e.JRh(e.bMT(3,2,"Form.Buttons.Save"))}}function Ny(a,s){1&a&&(e.j41(0,"extended-fab-speed-dial"),e.DNE(1,Vy,6,6,"ng-template",9)(2,Yy,6,6,"ng-template",10),e.k0s())}function jy(a,s){if(1&a&&e.nrm(0,"app-edit-dialog-footer",13),2&a){const t=e.XpG(2);e.xc7("display",t.footerShow()?"block":"none")}}function By(a,s){1&a&&(e.DNE(0,jy,1,2),e.nv$(1,0,Ay),e.g25())}const zy={all:!1,constructor:!0};let Hy=(()=>{class a extends ht.${#e;#t;#i;#n;#a;#r;constructor(t,i,n,r,o,u,v,P,G,ie,ce,Ae,Ze,nt,rt){super(),this.dialog=t,this.contentTypeItemService=i,this.contentTypeService=n,this.inputTypeService=r,this.itemService=o,this.languageService=u,this.languageStore=v,this.snackBar=P,this.translate=G,this.editRoutingService=ie,this.publishStatusService=ce,this.formsStateService=Ae,this.adamCacheService=Ze,this.linkCacheService=nt,this.formulaDesignerService=rt,this.log=(0,p.Tq)({EditDialogMainComponent:a},zy),this.#e=(0,e.WQX)(J.B),this.#t=(0,e.WQX)(S.S),this.#i=(0,e.WQX)(st.i).part(oy.K),this.footerSize=(0,e.EWP)(()=>this.#i.data().size),this.#n=(0,c.d)(Ht),this.#a=(0,c.d)($e),this.#r=(0,c.d)(H),this.viewInitiated=(0,e.vPA)(!1),this.items=this.itemService.getManySignal(this.#t.config.itemGuids),this.formsValid=this.formsStateService.formsValidTemp,this.saveDisabled=(0,e.EWP)(()=>this.#r.isSaving()||this.formsStateService.saveButtonDisabled()),this.hideHeader=this.languageStore.getHideHeaderSignal(this.#t.config.formId),this.footerShow=(0,e.EWP)(()=>this.#e.isDebug()?(this.#o=!0,!0):!this.#o&&this.#i.data().pinned),this.footerShowOnceOrMore=(0,oe.tD)(Mt=>Mt||this.footerShow(),!1),this.#o=!1,this.delayForm=(0,Ne.ot)((0,te.of)(!1).pipe((0,Re.c)(0),(0,Ge.Z)(!0))),this.log.fnIf("constructor"),this.dialog.disableClose=!0;const Kt=this.#i;null==Kt.data().pinned&&Kt.set("pinned",this.#t.config.dialogContext.User?.IsSystemAdmin??!1),(0,e.QZP)(()=>{const Mt=this.formsStateService.triggerTrySaveAndMaybeClose();Mt.tryToSave&&(0,e.O8t)(()=>this.saveAll(Mt.close))})}#s;#o;ngOnInit(){this.editRoutingService.init(),this.#n.load(),this.formulaDesignerService.cache.init(),this.#l(),this.#d()}ngAfterViewInit(){setTimeout(()=>this.viewInitiated.set(!0))}ngOnDestroy(){this.languageStore.remove(this.#t.config.formId),this.publishStatusService.remove(this.#t.config.formId),this.#t.config.isParentDialog&&(this.languageStore.clearCache(),this.languageService.clearCache(),this.itemService.clearCache(),this.inputTypeService.clearCache(),this.contentTypeItemService.clearCache(),this.contentTypeService.clearCache(),this.publishStatusService.clearCache(),this.adamCacheService.clearCache(),this.linkCacheService.clearCache()),super.ngOnDestroy()}closeDialog(t){return t?this.dialog.close(this.#t.config.createMode?this.#s:void 0):!this.formsStateService.readOnly().isReadOnly&&this.formsStateService.formsAreDirty()?this.#c():void this.dialog.close(this.#t.config.createMode?this.#s:void 0)}saveAll(t){this.#r.isSaving.set(!0);const i=this.log.fn("saveAll",{close:t});if(this.formsStateService.formsAreValid()){const n=this.formBuilderRefs.map(u=>{const v=this.itemService.get(u.entityGuid());if(!this.formsStateService.getFormValid(v.Entity.Guid))return null;const G=Object.keys(v.Entity.Attributes).length>0,ce=this.contentTypeService.getContentTypeOfItem(v).Metadata.some(Ze=>"SaveEmptyDecorator"===Ze.Type.Name);return G||ce?ry.bundleToDto(v):null}).filter(u=>null!=u),r=this.publishStatusService.get(this.#t.config.formId),o={Items:n,IsPublished:r.IsPublished,DraftShouldBranch:r.DraftShouldBranch};i.a("SAVE FORM DATA:",{saveFormData:o}),this.snackBar.open(this.translate.instant("Message.Saving"),null,{duration:2e3}),this.#a.saveFormData(o,this.#t.config.partOfPage).subscribe({next:u=>{i.a("SAVED!, result:",{result:u,close:t}),this.itemService.updater.updateItemId(u),this.snackBar.open(this.translate.instant("Message.Saved"),null,{duration:2e3}),this.formsStateService.formsAreDirty.set(!1),this.#s=u,t&&this.closeDialog(),setTimeout(()=>this.#r.isSaving.set(!1),500)},error:u=>{i.a("SAVE FAILED:",u),this.snackBar.open("Error",null,{duration:2e3}),this.#r.isSaving.set(!1)}})}else{if(this.#r.isSaving.set(!1),null==this.formBuilderRefs)return;const n=[];this.formBuilderRefs.forEach(o=>{o.form.invalid&&n.push(sy.n.validateForm(o.form))});const r=[];n.forEach(o=>{Object.keys(o).forEach(u=>{r.push({field:u,message:o[u]})})}),this.snackBar.openFromComponent(Iy,{data:{fieldErrors:r},duration:5e3})}}#l(){this.subscriptions.add((0,dt.R)(window,"beforeunload").subscribe(t=>{this.formsStateService.readOnly().isReadOnly||!this.formsStateService.formsAreDirty()||(t.preventDefault(),t.returnValue="",this.#c())})),this.subscriptions.add(this.dialog.backdropClick().subscribe(t=>this.closeDialog()))}#d(){this.dialog.keydownEvents().subscribe(t=>{if((0,Qi.K)(t))return this.closeDialog();(0,Qi.J)(t)&&(t.preventDefault(),!this.formsStateService.readOnly().isReadOnly&&!this.#r.isSaving()&&this.saveAll(t.altKey))})}#c(){const t=this.snackBar.openFromComponent(Ey,{data:{save:!1},duration:5e3});t.onAction().subscribe(()=>{if(t.containerInstance.snackBarConfig.data.save)return this.saveAll(!0);this.closeDialog(!0)})}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(Ce.CP),e.rXU(L.k),e.rXU(V.n),e.rXU($.A),e.rXU(k.b),e.rXU(T.g),e.rXU(Ie.A),e.rXU(se.UG),e.rXU(O.c$),e.rXU(Se),e.rXU(Z),e.rXU(jt),e.rXU(j),e.rXU(K),e.rXU(qt.f))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-dialog-main"]],viewQuery:function(i,n){if(1&i&&e.GBs(Ko,5),2&i){let r;e.mGM(r=e.lsd())&&(n.formBuilderRefs=r)}},features:[e.Jv_([Se,jt,qt.f,mr]),e.Vt3],decls:10,vars:13,consts:[["mat-dialog__container","","appToggleDebug","",2,"position","relative"],["mat-dialog-actions","",1,"form-header-container",3,"ngClass"],[1,"multi-item-edit-form-header",3,"closeDialog","disabled"],[2,"position","relative"],["mat-mdc-dialog-content","","cdkScrollable","",1,"eav-dialog-content","u-hide-scrollbar",3,"ngClass"],[1,"eav-layout-grid"],[1,"eav-layout-grid__inner"],["appFormSlide","",1,"eav-layout-grid__cell--span-12"],[3,"entityGuid","index"],["extendedFabSpeedDialTriggerContent",""],["extendedFabSpeedDialActionsContent",""],["extended-fab-speed-dial-trigger","","matRipple","",3,"click","ngClass"],["extended-fab-speed-dial-action","","matRipple","",3,"click","ngClass"],["mat-dialog-actions",""]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"app-edit-dialog-header",2),e.bIt("closeDialog",function(){return n.closeDialog()}),e.k0s()(),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.DNE(7,Ly,3,0,"div",7),e.k0s()()(),e.DNE(8,Ny,3,0,"extended-fab-speed-dial"),e.k0s(),e.DNE(9,By,3,0),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngClass",e.eq3(6,Oy,n.hideHeader())),e.R7$(),e.Y8G("disabled",!n.formsValid()),e.R7$(2),e.Y8G("ngClass",e.ziG(8,Fy,n.footerShow(),n.footerShow()&&n.footerSize(),n.footerShow()&&2==n.footerSize(),n.hideHeader())),e.R7$(3),e.vxM(n.delayForm()?-1:7),e.R7$(),e.vxM(n.viewInitiated()?8:-1),e.R7$(),e.vxM(n.footerShowOnceOrMore()?9:-1))},dependencies:[Ce.E7,ne.YU,My,xe.uv,xy,Ko,re.pZ,re.r6,ae.m_,ae.An,O.h,O.D9,Uo,Wo,Ir,Ar,Er,Dt.V],styles:["@keyframes _ngcontent-%COMP%_move-next{0%{transform:translate(0)}49%{transform:translate(-800px);animation-timing-function:step-end}50%{transform:translate(800px);animation-timing-function:ease-out}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_move-previous{0%{transform:translate(0)}49%{transform:translate(800px);animation-timing-function:step-end}50%{transform:translate(-800px);animation-timing-function:ease-out}to{transform:translate(0)}}.next[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-next}.previous[_ngcontent-%COMP%]{animation:.2s ease-in _ngcontent-%COMP%_move-previous}.multi-item-edit-form-header[_ngcontent-%COMP%]{width:100%}.eav-dialog-content[_ngcontent-%COMP%]{--edit-content-max-height: var(--edit-content-max-height-no-margins);--edit-footer-height: 0px;--edit-margins-vertical: var(--edit-dialog-margins-vertical);--edit-safari-fix: 0px;margin:0;padding:0;max-height:calc(var(--edit-content-max-height) - var(--edit-footer-height) - var(--edit-margins-vertical) + var(--edit-safari-fix));background-color:#0000000f}@media (max-width: 600px){.eav-dialog-content[_ngcontent-%COMP%]{--edit-margins-vertical: 0px}}.eav-dialog-content.hide-header-height-fix[_ngcontent-%COMP%]{--edit-safari-fix: var(--edit-dialog-header-height)}.eav-dialog-content.debug-enabled[_ngcontent-%COMP%]{--edit-footer-height: var(--edit-footer-bar-height)}.eav-dialog-content.debug-enabled.debug-info-is-open[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total))}.eav-dialog-content.debug-enabled.debug-info-is-open.footer-xl[_ngcontent-%COMP%]{--edit-footer-height: calc(var(--edit-footer-bar-height) + var(--edit-footer-container-height-total) + var(--edit-footer-container-height))}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;z-index:1}.eav-layout-grid[_ngcontent-%COMP%]{padding:16px}@media (max-width: 600px){.eav-layout-grid[_ngcontent-%COMP%]{padding:8px 0 0}}"]})}}return a})();function Gy(a,s){1&a&&e.nrm(0,"app-edit-dialog-main")}let $y=(()=>{class a{constructor(t,i){this.editInitializerService=t,this.log=(0,p.Tq)({EditEntryComponent:a}),this.log.aIf("constructor")}ngOnInit(){this.editInitializerService.fetchFormData()}static{this.\u0275fac=function(i){return new(i||a)(e.rXU(ye),e.rXU(A.D))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-edit-entry"]],features:[e.Jv_([Be.J,A.D,ye,g.o,S.S,Ee])],decls:2,vars:1,template:function(i,n){1&i&&(e.nrm(0,"router-outlet"),e.DNE(1,Gy,1,0,"app-edit-dialog-main")),2&i&&(e.R7$(),e.vxM(n.editInitializerService.loaded()?1:-1))},dependencies:[b.n3,Hy],encapsulation:2})}}return a})()},3408:(ge,fe,m)=>{"use strict";m.d(fe,{_:()=>A});var b=m(402);class A{static create(g,e){return{Value:g,Dimensions:e}}static convert(g){return Object.entries(g).map(([c,l])=>{const d=c.split(",").map(h=>b.v.create(h));return this.create(l,d)})}}},3626:(ge,fe,m)=>{"use strict";m.d(fe,{h:()=>p});var b=m(3408);class A{static convert(e,c){return{Values:b._.convert(e),Type:c}}}class p{static convert(e){const c={};for(const[l,d]of Object.entries(e))for(const[h,f]of Object.entries(d))c[h]=A.convert(f,l);return c}static mergeSettings(e){if(null==e)return{};const c={};for(const l of e)if("@All"!==l.Type.Id)for(const[d,h]of Object.entries(l.Attributes)){const f={...h};c[d]=f}for(const l of e)if("@All"===l.Type.Id)for(const[d,h]of Object.entries(l.Attributes)){if(null!=c[d]&&""===h.Values[0].Value)continue;const y={...h};c[d]=y}return c}}},3669:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"fr-ch",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),weekStart:1,weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"}};return p.default.locale(g,null,!0),g}(m(9645))},3688:(ge,fe,m)=>{"use strict";m.d(fe,{f:()=>Ie});var b=m(2938),A=m(4435),p=m(7993),g=m(927),e=m(1659),c=m(6740),l=m(5970),d=m(5797),h=m(1567),f=m(6647),_=m(4600),y=m(271),w=m(9999),x=m(4979),T=m(8265),I=m(3991),j=m(6849),K=m(3050),L=m(6001),V=m(7149),E=m(7706),$=m(827);class z{static#e(Oe){if(!Oe)return Oe;let Z=Oe.trim();return Z.startsWith("//")&&(Z=Z.replace(/^\/\/.*\n/gm,"").trim()),Z.startsWith($.GI.V1)?`${$.qe}${Z}`:Z.startsWith(`${$.qe}${$.GI.V1}`)?Z:Z.startsWith("v2(")?(Z=Z.substring(3,Z.lastIndexOf("}")+1),Z=Z.replace("=>",""),`${$.qe}v2 ${Z}`):Z}static findFormulaVersion(Oe){const Z=this.#e(Oe),O=Z.substring($.qe.length,Z.indexOf("(")).trim();return Object.values($.GI).includes(O)?O:void 0}static buildFormulaFunction(Oe){const Z=this.#e(Oe);return new Function(`return ${Z}`)()}}var N=m(852);const M={all:!1,buildFormulaCache:!1,updateFormulaFromEditor:!1,createPromisedParts:!1,getSharedParts:!1};let k=(()=>{class pe extends x.V{constructor(Z,O,se,be,ye,Be,De){super(),this.formConfig=Z,this.itemService=O,this.contentTypeService=se,this.contentTypeItemService=be,this.loggingService=ye,this.translate=Be,this.inputTypes=De,this.log=(0,A.Tq)({FormulaCacheBuilder:pe},M),this.#n={}}buildFormulaCache(Z){const O=this.log.fnIf("buildFormulaCache"),se=[],be=this.formConfig.language(),ye=new K.bT(be),Be=new E.q(this.log.name);for(const De of this.formConfig.config.itemGuids){const Ue=this.itemService.get(De),Le=this.#i(De,Ue),Ee=this.contentTypeService.getContentTypeOfItem(Ue);for(const xe of Ee.Attributes){const ne=Be.getDefaultSettings(ye.flatten(xe.Metadata)),Ne=this.inputTypes.getSpecs(xe),re=this.contentTypeItemService.getMany(ne.Formulas).filter(Ce=>ye.getBestValue(Ce.Attributes.Enabled));for(const Ce of re){const ae=ye.getBestValue(Ce.Attributes.Formula);if(!ae)continue;const te=ye.getBestValue(Ce.Attributes.Target);let Re;try{Re=z.buildFormulaFunction(ae)}catch(dt){Z.cacheResults({entityGuid:De,fieldName:xe.Name,target:te},void 0,!0,!1);const ht=K.im.getTitle(Ee,be);this.loggingService.addLog(V.E.Error,`Error building formula for Entity: "${ht}", Field: "${xe.Name}", Target: "${te}"`,dt),this.loggingService.showMessage(this.translate.instant("Errors.FormulaConfiguration"),2e3)}const Ge={cache:{},entityGuid:De,fieldName:xe.Name,fn:Re?.bind({}),isDraft:null==Re,sourceCode:ae,sourceCodeSaved:ae,sourceCodeGuid:Ce.Guid,sourceCodeId:Ce.Id,target:te,...this.#e(te,Ne),version:z.findFormulaVersion(ae),...Le,stop:!1,sleep:!1,fieldIsSpecialPicker:l.Yb.includes(te),...this.#a(),...this.#t(te)};se.push(Ge)}}}return O.r(se)}#e(Z,O){return{inputType:O,isNewPicker:O.isNewPicker,disabled:!1,disabledReason:""}}#t(Z){return Z.startsWith(l.si)?{isSetting:!0,settingName:Z.substring(l.si.length),isValue:!1,isValidation:!1}:{isSetting:!1,settingName:"",isValue:Z===l.a2.Value,isValidation:Z===l.a2.Validation}}#i(Z,O=null){if(this.log.fnIf("getSharedParts",{item:O,entityGuid:Z}),this.#n[Z])return this.#n[Z];const se=(O=O??this.itemService.get(Z)).Entity,be=se.For,Be=this.formConfig.config,De=Be.dialogContext.User??{},Ue={targetEntity:{guid:se.Guid,id:se.Id,type:{guid:se.Type.Id,name:se.Type.Name},for:{targetType:be?.TargetType??0,guid:be?.Guid,number:be?.Number,string:be?.String}},user:{email:De.Email,guid:De.Guid,id:De.Id,isAnonymous:De.IsAnonymous,isSiteAdmin:De.IsSiteAdmin,isContentAdmin:De.IsContentAdmin,isSystemAdmin:De.IsSystemAdmin,name:De.Name,username:De.Username},app:{appId:Be.appId,zoneId:Be.zoneId,isGlobal:Be.dialogContext.App.IsGlobalApp,isSite:Be.dialogContext.App.IsSiteApp,isContent:Be.dialogContext.App.IsContentApp,getSetting:Le=>{}},sxc:window.$2sxc({zoneId:Be.zoneId,appId:Be.appId,pageId:Be.tabId,moduleId:Be.moduleId,_noContextInHttpHeaders:!0,_autoAppIdsInUrl:!0})};return this.#n[Z]=Ue,Ue}#n;#a(){this.log.fnIf("createPromisedParts");const Z=new d.t(null),O=new d.t(null),se=Z.pipe((0,h.p)(be=>!!be),(0,f.n)(be=>(0,_.H)(be.promise).pipe((0,y.T)(ye=>({set:be,result:ye})))));return this.subscriptions.add((0,w.z)([se,O.pipe((0,h.p)(be=>!!be))]).subscribe(([be,ye])=>(be.set.completed=!0,be.set.sleep=!1,ye(be.result)))),{promises$:Z,updateCallback$:O}}updateFormulaFromEditor(Z,O,se,be){let ye;if(this.log.fnIf("updateFormulaFromEditor",{id:O,sourceCode:se,run:be}),be)try{ye=z.buildFormulaFunction(se)}catch(te){Z.cacheResults(O,void 0,!0,!1);const Re=this.itemService.get(O.entityGuid),Ge=this.contentTypeService.getContentTypeOfItem(Re),dt=this.formConfig.language(),Dt=`Error building formula for Entity: "${K.im.getTitle(Ge,dt)}", Field: "${O.fieldName}", Target: "${O.target}"`;this.loggingService.addLog(V.E.Error,Dt,te),console.error(Dt,te)}const Be=this.itemService.get(O.entityGuid),De=this.contentTypeService.getAttributeOfItem(Be,O.fieldName),Ue=this.inputTypes.getSpecs(De),{list:Le,index:Ee,value:xe}=Z.formulaListIndexAndOriginal(O),ne=xe??{},Ne=this.#i(O.entityGuid),re=ne.promises$&&ne.updateCallback$?{promises$:xe.promises$,updateCallback$:xe.updateCallback$}:this.#a(),Ce={...O,cache:ne.cache??{},fn:ye?.bind({}),isDraft:!be||null==ye,sourceCode:se,sourceCodeSaved:ne.sourceCodeSaved,sourceCodeGuid:ne.sourceCodeGuid,sourceCodeId:ne.sourceCodeId,version:z.findFormulaVersion(se),...this.#e(O.target,Ue),...Ne,stop:!1,sleep:!1,fieldIsSpecialPicker:l.Yb.includes(O.target),...re,...this.#t(O.target)};return Ee>=0?[...Le.slice(0,Ee),Ce,...Le.slice(Ee+1)]:[Ce,...Le]}static{this.\u0275fac=function(O){return new(O||pe)(e.KVO(T.S),e.KVO(g.b),e.KVO(j.n),e.KVO(I.k),e.KVO(V.J),e.KVO(N.c$),e.KVO(L.A))}}static{this.\u0275prov=e.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();const S={all:!0,getActive:!0,fields:[...c.z]};let F=(()=>{class pe{#e;constructor(){this.log=(0,A.Tq)({FormulaCacheService:pe},S),this.#e=(0,b.d)(k),this.formulas=(0,p.KX)("formulas",[]),this.#t=(0,p.KX)("formula-results",[])}#t;init(){const Z=this.#e.buildFormulaCache(this);this.formulas.set(Z)}#i(Z,O,se,be){return this.formulas().filter(ye=>(!Z||ye.entityGuid===Z)&&(!O||ye.fieldName===O)&&(!se||se?.find(Be=>ye.target==Be))&&(!!be||!ye.isDraft))}getActive(Z,O,se){const be=this.log.fnIfInList("getActive","fields",O,()=>({name:O,forNewPicker:se,formulas:this.formulas()})),ye=l.zD.concat(se?l.AJ:l.K3),Be=this.#i(Z,O,ye,!1),De=Be.filter(Ue=>!Ue.stop);return be.r(De,`all: ${Be.length}, unstopped: ${De.length}`)}formulaListIndexAndOriginal(Z){const O=this.formulas(),se=O.findIndex(ye=>ye.entityGuid===Z.entityGuid&&ye.fieldName===Z.fieldName&&ye.target===Z.target);return{list:O,index:se,value:O[se]}}updateSaved(Z,O,se){const{list:be,index:ye,value:Be}=this.formulaListIndexAndOriginal(Z);if(null==Be)return;const De={...Be,sourceCodeSaved:Z.sourceCode,sourceCodeGuid:O,sourceCodeId:se},Ue=[...be.slice(0,ye),De,...be.slice(ye+1)];this.formulas.set(Ue)}updateFormulaFromEditor(Z,O,se){const be=this.#e.updateFormulaFromEditor(this,Z,O,se);this.formulas.set(be)}delete(Z){const{list:O,index:se}=this.formulaListIndexAndOriginal(Z);if(se<0)return;const be=[...O.slice(0,se),...O.slice(se+1)];this.formulas.set(be)}resetFormula(Z){this.#n(Z);const O=this.formulaListIndexAndOriginal(Z).value?.sourceCodeSaved;null!=O?this.updateFormulaFromEditor(Z,O,!0):this.delete(Z)}cacheResults(Z,O,se,be){const ye={entityGuid:Z.entityGuid,fieldName:Z.fieldName,target:Z.target,value:O,isError:se,isOnlyPromise:be},Be=this.log.fn("cacheResults",{newResult:ye});(0,e.O8t)(()=>{const{list:De,index:Ue}=this.resultListIndexAndOriginal(Z),Le=Ue>=0?[...De.slice(0,Ue),ye,...De.slice(Ue+1)]:[ye,...De];Be.a("set results",{list:De,index:Ue,newResults:Le}),this.#t.set(Le)}),Be.end("ok")}resultListIndexAndOriginal(Z){const O=this.#t(),se=O.findIndex(ye=>ye.entityGuid===Z.entityGuid&&ye.fieldName===Z.fieldName&&ye.target===Z.target);return{list:O,index:se,value:O[se]}}#n(Z){const{list:O,index:se}=this.resultListIndexAndOriginal(Z);if(se<0)return;const be=[...O.slice(0,se),...O.slice(se+1)];this.#t.set(be)}static{this.\u0275fac=function(O){return new(O||pe)}}static{this.\u0275prov=e.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();var Y=m(1612);let q=(()=>{class pe{constructor(Z,O){this.itemService=Z,this.contentTypeService=O}getTargetOptions(Z,O){const se=[];if(null==Z.entityGuid||null==Z.fieldName)return se;const be=O.filter(Le=>Le.entityGuid===Z.entityGuid&&Le.fieldName===Z.fieldName);for(const Le of Object.values(l.a2)){const Ee={hasFormula:be.some(xe=>xe.target===Le),label:Le.substring(Le.lastIndexOf(".")+1),target:Le};se.push(Ee)}const ye=this.itemService.get(Z.entityGuid),De=this.contentTypeService.getAttributeOfItem(ye,Z.fieldName).InputType;if(Y.Q.isGroupStart(De))for(const Le of[l.j5.Collapsed]){const Ee={hasFormula:be.some(xe=>xe.target===Le),label:Le.substring(Le.lastIndexOf(".")+1),target:Le};se.push(Ee)}if(Y.Q.isOldValuePicker(De))for(const Le of[l.j5.DropdownValues]){const Ee={hasFormula:be.some(xe=>xe.target===Le),label:Le.substring(Le.lastIndexOf(".")+1),target:Le};se.push(Ee)}if(Y.Q.isNewPicker(De))for(const Le of Object.values(l.jk)){const Ee={hasFormula:be.some(xe=>xe.target===Le),label:"Picker "+Le.substring(Le.lastIndexOf(".")+1),target:Le};se.push(Ee)}for(const Le of be){if(se.some(ne=>ne.target===Le.target))continue;const xe={hasFormula:!0,label:Le.target.substring(Le.target.lastIndexOf(".")+1),target:Le.target};se.push(xe)}if(!se.some(Le=>Le.target===Z.target)){const Le={hasFormula:be.some(Ee=>Ee.target===Z.target),label:Z.target.substring(Z.target.lastIndexOf(".")+1),target:Z.target};se.push(Le)}return se}static{this.\u0275fac=function(O){return new(O||pe)(e.KVO(g.b),e.KVO(j.n))}}static{this.\u0275prov=e.jDH({token:pe,factory:pe.\u0275fac})}}return pe})();var J=m(5067);class de{static buildDesignerSnippetsContext(Oe){if(Oe.version===$.GI.V1)return["app.appId","app.zoneId","app.isGlobal","app.isSite","app.isContent","cache.ChangeThis","culture.code","culture.name","debug","features.isEnabled('nameId')","form.runFormulas()","sxc.ChangeThis","target.entity.id","target.entity.guid","target.name","target.type","user.id","user.isAnonymous","user.isSiteAdmin","user.isSystemAdmin"].map(O=>{const se=`context.${O}`;return{code:se,label:se}})}static getSnippets(Oe,Z,O){if(Oe.version===$.GI.V1){const se=new J.Z(O).all;return["value","default","prefill","initial",...Z.map(ye=>ye.fieldName),"parameters.ChangeThis",...Object.keys(se).map(ye=>`parameters.${ye}`)].map(ye=>{const Be=`data.${ye}`;return{code:Be,label:Be}})}}}class ke{static getTypings(Oe,Z,O){if(Oe.version===$.GI.V2){const se=new J.Z(O).all,be=Z.map(De=>`${De.fieldName}: ${this.#e(De.inputType)};`).join("\n"),ye=Object.keys(se).map(De=>`${De}: any;`).join("\n");return"/*\r\n  This is a special file which is not compiled as a normal TypeScript.\r\n  Instead it's loaded as raw text, to hand over to Monaco.\r\n  It ensures that v2 functions have intellisense.\r\n\r\n  TIP: To edit this file, briefly rename it to ...raw.ts, then back to ...rawts\r\n       This will make VSCode load it as a normal TypeScript file, so you can edit it.\r\n\r\n  - Try to keep in sync with the real code in the 2sxc project.\r\n  - The comments are _documentation_ for the user, so they can see what's available\r\n  - If you need any \"internal\" comments, use // instead\r\n  - Note that the [inject:...] comments are replaced by the build process\r\n*/\r\n\r\n/**\r\n * The data object is the main object for figuring out what the field or setting contained and what other fields currently store.\r\n * It has properties such as `.value` etc.\r\n * Just start typing to see the intellisense.\r\n */\r\n// Note that the type must be explicitly like `string | boolean | number | string[]`\r\n// Otherwise it won't show the details to the user\r\ndeclare interface FormulaData {\r\n  /**\r\n   * The value of the current field/setting when the formula runs.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  value: string | boolean | number | string[];\r\n  /**\r\n   * The _default_ value of the current field/setting as defined in the field settings.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  default: string | boolean | number | string[];\r\n  /**\r\n   * A prefill value that was passed into the form when it was loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  prefill: string | boolean | number | string[];\r\n  /**\r\n   * The value of the current field/setting when the form initially loaded.\r\n   *\r\n   * _It's exact type depends on the underlying type._\r\n   */\r\n  initial: string | boolean | number | string[];\r\n  /* [inject:AllFields] */\r\n  /**\r\n   * All parameters which were passed to the form when it was loaded\r\n   *\r\n   * _It's exact type depends on the parameter, but it's usually a string._\r\n   */\r\n  parameters: {\r\n    /* [inject:AllParameters] */\r\n  };\r\n}\r\n\r\ndeclare interface FormulaContext {\r\n  /**\r\n   * Information about the current App\r\n   */\r\n  app: {\r\n    /** The current App ID */\r\n    appId: number;\r\n    /** The current Zone ID */\r\n    zoneId: number;\r\n    /** Determines if the current App is the global App */\r\n    isGlobal: boolean;\r\n    /** Determines if the current App is the primary (main) App on the site */\r\n    isSite: boolean;\r\n    /** Determines if the current App is a content App */\r\n    isContent: boolean;\r\n    /**\r\n     * Retrieve a setting like an App setting.\r\n     * You need the full path like `Settings.ShowCategories`.\r\n     * \r\n     * Important: For security reasons formulas will only get settings which where configured in the ContentType for use in Formulas.\r\n     */\r\n    getSetting(settingPath: string): string;\r\n  };\r\n  /**\r\n   * Cache for this formula. You can store any data here and it will be available in the next run.\r\n   */\r\n  cache: Record<string, any>;\r\n  /**\r\n   * Information about the current language\r\n   */\r\n  culture: {\r\n    code: string;\r\n    name: string;\r\n  };\r\n  debug: boolean;\r\n  /**\r\n   * API to detect what features are currently enabled/available\r\n   */\r\n  features: {\r\n    // /**\r\n    //  * Get internal information about a feature if it's available. This is rarely used.\r\n    //  * @param nameId The name of the feature, eg. `PasteImageFromClipboard`\r\n    //  */\r\n    // get(nameId: string): Record<string, any>;\r\n    /** Find out if the feature is enabled. Eg. `...isEnabled('PasteImageFromClipboard')` */\r\n    isEnabled(nameId: string): boolean;\r\n  };\r\n  /**\r\n   * Work with the current form\r\n   */\r\n  form: {\r\n    // v16 Deprecated for v2\r\n    // /** Re-trigger all formulas. Usually used inside promises when they complete. */\r\n    // runFormulas(): void;\r\n  };\r\n  /**\r\n   * The standard sxc object for the current App.\r\n   * It's the same as the sxc-instance in the page.\r\n   *\r\n   * You can use it to make API calls to the server.\r\n   */\r\n  sxc: {\r\n    /** The module ID */\r\n    id: number;\r\n    /** The Content-Block ID - matches the module ID unless it's an inner-content block inside another module */\r\n    cbid: number;\r\n    /** The sxc WebAPI object. Check the docs: https://docs.2sxc.org/api/js/SxcWebApi.html */\r\n    webApi: {\r\n      /**\r\n       * Get data from a url and return the json-object\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchJson<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n      /**\r\n       * Get data from a url and return the response (not a nice object)\r\n       * @param url Url to call. It's usually a virtual url such as `app/auto/api/basic/hello`\r\n       * @param data Optional data. If provided, it will use a POST\r\n       * @param method Optional method, default is `GET` unless you specify data, then it's `POST`\r\n       */\r\n      fetchRaw<TData>(url: string, data?: string | Record<string, any>, method?: string): Promise<TData>;\r\n    };\r\n    // turn off for now v16.00 - confusing\r\n    // [key: string]: any;\r\n  };\r\n  /**\r\n   * Information about the item this formula targets.\r\n   */\r\n  target: {\r\n    /** The entity the current formula affects */\r\n    entity: {\r\n      /** The entity ID */\r\n      id: number;\r\n      /** The entity GUID */\r\n      guid: string;\r\n      /** Metadata For information */\r\n      for: {\r\n        /** The target type like `4` (Entity). `0` if it's not metadata  */\r\n        targetType: number;\r\n        /** The int-key if it uses number keys, otherwise null */\r\n        number?: number;\r\n        /** The string-key if it uses string keys, otherwise null */\r\n        string?: string;\r\n        /** The GUID-key if it uses GUIDs, otherwise null */\r\n        guid?: string;\r\n      }\r\n    };\r\n    name: string;\r\n    /** The entity type name */\r\n    type: string;\r\n  };\r\n  /**\r\n   * Information about the current user\r\n   */\r\n  user: {\r\n    /** The current user ID */\r\n    id: number;\r\n    /** Check if the current user is anonymous eg. not logged in */\r\n    isAnonymous: boolean;\r\n    /** Check if the current user is a content admin */\r\n    isContentAdmin: boolean;\r\n    /** Check if the current user is a site admin */\r\n    isSiteAdmin: boolean;\r\n    /** Check if the current user is a system admin */\r\n    isSystemAdmin: boolean;\r\n    /** current user e-mail */\r\n    email: string;\r\n    /** The user GUID */\r\n    guid: string;\r\n    /** the name usually shown in greetings */\r\n    name: string;\r\n    /** The user name used for login */\r\n    username: string;\r\n  };\r\n}\r\n\r\n// /**\r\n//  * Test docs\r\n//  * @param data The data object\r\n//  */\r\n// declare function callbackV2(data: FormulaData): string | string[];\r\n\r\n// /**\r\n//  * test docs 3\r\n//  * @param callback The real code of the formula\r\n//  */\r\n// declare function v3(callback: typeof callbackV2);\r\n\r\n/**\r\n * This `v2` wrapper is required for the intellisense to work.\r\n * @param callback The real code of the formula\r\n * @returns A string, boolean, number, date or an advanced object\r\n */\r\ndeclare function v2(\r\n  // The main function - adding comments here does not show up, so we don't have them ATM\r\n  callback: (\r\n    data: FormulaData,\r\n    context: FormulaContext,\r\n  ) => string | boolean | number | Date | {\r\n    value?: string | boolean | number | Date | { severity: 'warning' | 'error', message: string },\r\n    fields?: {\r\n      name: string,\r\n      value: string | boolean | number | Date\r\n    }[],\r\n    promise?: Promise<any>,\r\n    stop?: boolean,\r\n  },\r\n): void;\r\n".replace("/* [inject:AllFields] */",be).replace("/* [inject:AllParameters] */",ye)}}static#e(Oe){const Z=Oe.toLowerCase();return Z.startsWith("string")?"string":Z.startsWith("number")?"number":Z.startsWith("date")?"Date":Z.startsWith("boolean")?"boolean":"any"}}const $e={all:!1,constructor:!1,setDesignerOpen:!1};let Ie=(()=>{class pe{#e;constructor(Z){this.itemService=Z,this.log=(0,A.Tq)({FormulaDesignerService:pe},$e),this.cache=(0,b.d)(F),this.#e=(0,b.d)(q),this.itemSettingsServices={},this.designerState=(0,p.KX)("designerState",{editMode:!1,entityGuid:void 0,fieldName:void 0,isOpen:!1,target:void 0}),this.formulaResult=(0,p.bo)("formulaResult",()=>{const O=this.designerState();return this.cache.resultListIndexAndOriginal(O).value}),this.currentTargetOptions=(0,p.bo)("currentTargetOptions",()=>{const O=this.designerState(),se=this.cache.formulas();return this.#e.getTargetOptions(O,se)}),this.entityOptions=(0,p.bo)("entityOptions",()=>{const O=this.cache.formulas();return Object.entries(this.itemSettingsServices).map(([se,be])=>{const ye=O.filter(Be=>Be.entityGuid===se);return{entityGuid:se,formulas:ye,hasFormula:ye.length>0,label:be.contentTypeSettings()._itemTitle}})}),this.fieldsOptions=(0,p.bo)("fieldsOptions",()=>{const O=this.designerState().entityGuid;if(null==O)return[];const se=this.entityOptions().find(De=>De.entityGuid==O).formulas,ye=this.itemSettingsServices[O].allProps();return Object.keys(ye).map(De=>{const Ue=se.filter(Le=>Le.fieldName===De);return{fieldName:De,formulas:Ue,hasFormula:Ue.length>0,inputType:ye[De].settings.InputType,label:De}})}),this.currentFormula=(0,p.bo)("currentFormula",()=>{const O=this.designerState(),{value:se}=this.cache.formulaListIndexAndOriginal(O);return se}),this.v1ContextSnippets=(0,p.bo)("v1ContextSnippets",()=>{const O=this.currentFormula();return null!=O?de.buildDesignerSnippetsContext(O):[]}),this.#t=(0,p.bo)("currentItemHeader",()=>{const O=this.designerState().entityGuid;return null==O?null:this.itemService.getItemHeader(O)}),this.v2JsTypings=(0,p.bo)("v2JsTypings",()=>{const O=this.currentFormula(),se=this.#t();return null!=O&&null!=se?ke.getTypings(O,this.fieldsOptions(),se.Prefill):""}),this.v1DataSnippets=(0,p.bo)("v1DataSnippets",()=>{const O=this.currentFormula(),se=this.#t();return null!=O&&null!=se?de.getSnippets(O,this.fieldsOptions(),se.Prefill):[]}),this.log.fnIf("constructor")}initAfterItemSettingsAreReady(){const Z=this.designerState(),[O,se]=Object.entries(this.itemSettingsServices)[0],be=se.allProps(),ye=Object.keys(be)[0],De={...Z,entityGuid:O,fieldName:ye,target:null!=ye?l.tC.Value:null};this.designerState.set(De)}#t;setDesignerOpen(Z){this.log.fnIf("setDesignerOpen",{isOpen:Z}),this.designerState.set({...this.designerState(),isOpen:Z})}static{this.\u0275fac=function(O){return new(O||pe)(e.KVO(g.b))}}static{this.\u0275prov=e.jDH({token:pe,factory:pe.\u0275fac})}}return pe})()},3821:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"en-ie",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekStart:1,weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(g,null,!0),g}(m(9645))},3857:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"}};return p.default.locale(g,null,!0),g}(m(9645))},3939:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return p.default.locale(g,null,!0),g}(m(9645))},3966:(ge,fe,m)=>{"use strict";m.d(fe,{U:()=>A});var b=m(8394);class A{static convert(g){return{Entity:b.g.convertOne(g.Entity),Header:g.Header}}}},3991:(ge,fe,m)=>{"use strict";m.d(fe,{k:()=>e});var b=m(4435),A=m(8394),p=m(6632),g=m(1659);let e=(()=>{class c extends p.r{constructor(){super((0,b.Tq)({ContentTypeItemService:c})),this.getId=d=>d.Guid}addContentTypeItems(d){const h=A.g.convertMany(d);this.addMany(h)}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275prov=g.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},3996:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b),g={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(l,d,h){var f=g[h];return Array.isArray(f)&&(f=f[d?0:1]),f.replace("%d",l)}var c={name:"de-ch",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return p.default.locale(c,null,!0),c}(m(9645))},4031:(ge,fe,m)=>{"use strict";m.d(fe,{y:()=>c});var b=m(4202),A=m(4435),p=m(2490);class g extends p.S{constructor(){super({UnknownLogic:g}),this.name=b.u.Unknown,this.canAutoTranslate=!1}update({settings:d}){return d}}const e={all:!1,get:!0};class c{constructor(){this.logics={},this.log=(0,A.Tq)({FieldLogicManager:c},e),this.add(new g)}static singleton(){return window.eavFieldLogicManager??=new c}add(d){this.logics[d.name]=d}get(d){return this.log.fnIf("get",{inputTypeName:d}).r(this.logics[d]??null)}getOrUnknown(d){return this.get(d)??this.get(b.u.Unknown)}}},4065:(ge,fe,m)=>{"use strict";m.d(fe,{K:()=>b});const b={key:"edit-dialog-footer",data:{tab:null,expanded:!1,size:0,pinned:null}}},4684:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"ja",weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e){return e+"\u65e5"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiem:function(e){return e<12?"\u5348\u524d":"\u5348\u5f8c"},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}};return p.default.locale(g,null,!0),g}(m(9645))},4813:(ge,fe,m)=>{"use strict";m.d(fe,{_:()=>g});var b=m(8394),A=m(3626);class p{static convertOne(c){const l=b.g.convertMany(c.Metadata),d=A.h.mergeSettings(l);return{InputType:c.InputType,IsTitle:c.IsTitle,Metadata:l,Name:c.Name,Settings:d,Type:c.Type}}static convertMany(c){return null==c?[]:c.map(d=>p.convertOne(d))}}class g{static convertOne(c){const l=p.convertMany(c.Attributes),d=b.g.convertMany(c.Metadata),h=A.h.mergeSettings(d);return{Attributes:l,Id:c.Id,Metadata:d,Name:c.Name,Scope:c.Scope,Settings:h,Title:c.Title}}static convertMany(c){return null==c?null:c.map(d=>g.convertOne(d))}}},4826:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(b);function g(d){return d%100==2}function e(d){return d%100==3||d%100==4}function c(d,h,f,_){var y=d+" ";switch(f){case"s":return h||_?"nekaj sekund":"nekaj sekundami";case"m":return h?"ena minuta":"eno minuto";case"mm":return g(d)?y+(h||_?"minuti":"minutama"):e(d)?y+(h||_?"minute":"minutami"):y+(h||_?"minut":"minutami");case"h":return h?"ena ura":"eno uro";case"hh":return g(d)?y+(h||_?"uri":"urama"):e(d)?y+(h||_?"ure":"urami"):y+(h||_?"ur":"urami");case"d":return h||_?"en dan":"enim dnem";case"dd":return g(d)?y+(h||_?"dneva":"dnevoma"):y+(h||_?"dni":"dnevi");case"M":return h||_?"en mesec":"enim mesecem";case"MM":return g(d)?y+(h||_?"meseca":"mesecema"):e(d)?y+(h||_?"mesece":"meseci"):y+(h||_?"mesecev":"meseci");case"y":return h||_?"eno leto":"enim letom";case"yy":return g(d)?y+(h||_?"leti":"letoma"):e(d)?y+(h||_?"leta":"leti"):y+(h||_?"let":"leti")}}var l={name:"sl",weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),weekStart:1,weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),ordinal:function(d){return d+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c}};return p.default.locale(l,null,!0),l}(m(9645))},4839:(ge,fe,m)=>{"use strict";m.d(fe,{c:()=>c});var b=m(4435),A=m(8873),p=m(1659),g=m(6443);const e={all:!1,getAvailableEntities:!1,getEntities:!1};let c=(()=>{class l{constructor(h,f){this.http=h,this.context=f,this.log=(0,b.Tq)({QueryService:l},e)}getFromQuery(h,f,_,y){this.log.fnIf("getAvailableEntities",{queryUrl:h,params:f,fields:_,entitiesFilter:y});const w=!!f,j=(((f?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(w?`&${f}`:"")+"&$select="+(_??"")).substring(1);return this.http.post(`app/auto/query/${h}?${j}`,{Guids:y})}getEntities({contentTypes:h,itemIds:f,fields:_,log:y}){this.log.fnIf("getEntities",{log:y,contentTypes:h,itemIds:f,fields:_});const x=("&typeNames="+(h?.join(",")??"")+`&appId=${this.context.appId}&itemIds=`+(f?.join(",")??"")+"&$select="+(_??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${x}`,{})}static{this.\u0275fac=function(f){return new(f||l)(p.KVO(g.Qq),p.KVO(A.o))}}static{this.\u0275prov=p.jDH({token:l,factory:l.\u0275fac})}}return l})()},4867:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b);function g(l){return l>1&&l<5&&1!=~~(l/10)}function e(l,d,h,f){var _=l+" ";switch(h){case"s":return d||f?"p\xe1r sek\xfand":"p\xe1r sekundami";case"m":return d?"min\xfata":f?"min\xfatu":"min\xfatou";case"mm":return d||f?_+(g(l)?"min\xfaty":"min\xfat"):_+"min\xfatami";case"h":return d?"hodina":f?"hodinu":"hodinou";case"hh":return d||f?_+(g(l)?"hodiny":"hod\xedn"):_+"hodinami";case"d":return d||f?"de\u0148":"d\u0148om";case"dd":return d||f?_+(g(l)?"dni":"dn\xed"):_+"d\u0148ami";case"M":return d||f?"mesiac":"mesiacom";case"MM":return d||f?_+(g(l)?"mesiace":"mesiacov"):_+"mesiacmi";case"y":return d||f?"rok":"rokom";case"yy":return d||f?_+(g(l)?"roky":"rokov"):_+"rokmi"}}var c={name:"sk",weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),months:"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(l){return l+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"pred %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return p.default.locale(c,null,!0),c}(m(9645))},5067:(ge,fe,m)=>{"use strict";m.d(fe,{Z:()=>j,$:()=>I});var b=m(827);class A{#e;#t;#i;#n;constructor(L){this.#e=L,this.#t=L.runParameters,this.#n=this.#t.pickerHelper.infos,this.#i=this.#t.pickerHelper.infos.mapper}get default(){const{formula:L}=this.#t;return L.isValue?this.#s(this.#t.defaultValueHelper().getDefaultOrPrefillValue()):L.isSetting?this.#t.settingsInitial[L.settingName]:L.isNewPicker?this.#n.options.list:void 0}get initial(){const L=this.#t.formula;return L.isValue?this.#s(this.#e.initialFormValues[L.fieldName]):null}get parameters(){return this.#e.parameters.all()}get prefill(){const{formula:L}=this.#t;return L.isValue?this.#s(this.#t.defaultValueHelper().getDefaultOrPrefillValue(!0)):null}get value(){const L=this.#t.formula;return L.isValue?this.#s(this.#t.currentValues[L.fieldName]):L.isSetting?this.#t.settingsCurrent[L.settingName]:L.isValidation?{severity:"",message:""}:void 0}get selected(){return this.#a("list")}get selectedRaw(){return this.#a("listRaw")}#a(L){const V=this.#n.selected[L];return this.#n.picker.selectedCopy(V)}get options(){return this.#r("list")}get optionsRaw(){return this.#r("listRaw")}#r(L){return this.#n.options[L]}#s(L){return this.#i?.toUi(L)??L}}class p{constructor(L,V){const E=L.runParameters.formula;this.cache=E.cache,this.debug=L.debugEnabled,this.sxc=E.sxc,this.user=E.user;const{getSetting:$,...z}=L.runParameters.formula.app;this.app=Object.assign(new l(L),z),this.target=new d(L);const N=L.language,M=L.languages;this.culture={code:N.current,name:M.find(k=>k.NameId===N.current)?.Culture},this.features=new e(L),this.form=new c(L),this.entities=new g(L),this.xp=V}}class g{#e;constructor(L){this.#e=L}getAll(){return this.#e.itemService.getMany(this.#e.formConfig.config.itemGuids).map(V=>({guid:V.Entity.Guid,id:V.Entity.Id,type:{guid:V.Entity.Type.Id,name:V.Entity.Type.Name}}))}getOfType(L){return this.getAll().find(V=>V.type.guid==L||V.type.name==L)}}class e{#e;constructor(L){this.#e=L}isEnabled(L){return this.#e.features().find(V=>V.nameId===L)?.isEnabled??!1}}class c{#e;constructor(L){this.#e=L}runFormulas(){if(this.#e.runParameters.formula.version===b.GI.V1)return console.error("form.runFormulas() is being deprecated and will stop working end of 2024. Use V2 formulas and return the promise. Formulas will auto-run when it completes."),void this.#e.fieldsSettingsSvc.retriggerFormulas("form.runFormulas()");console.error("form.runFormulas() is not supported in V2 formulas. Just return a promise.")}}class l{#e;constructor(L){this.#e=L}getSetting(L){return this.#e.runParameters.formula.version===b.GI.V1?(console.warn("app.getSetting() is not available in v1 formulas, please use v2."),"\u26a0\ufe0f error - see console"):this.#e.formConfig.config.settings.Values[L]??(console.warn(`Error: Setting '${L}' not found. Did you configure it in the ContentType to be included? See https://go.2sxc.org/formulas`),"\u26a0\ufe0f error - see console")}}class d{#e;constructor(L){this.#e=L;const V=L.runParameters.formula;this.entity=V.targetEntity;const E=V.isValue||V.isValidation;this.name=E?V.fieldName:V.target.substring(V.target.lastIndexOf(".")+1),this.type=E?V.target:V.target.substring(0,V.target.lastIndexOf("."))}}var h=m(3050);class _{#e;constructor(L){this.#e=L}getEntities(){return this.#t("getEntities"),this.#e.itemService.getMany(this.#e.formConfig.config.itemGuids).map(V=>({guid:V.Entity.Guid,id:V.Entity.Id,type:{guid:V.Entity.Type.Id,name:V.Entity.Type.Name}}))}getSettings(L){return this.#t("getSettings"),this.#e.fieldsSettingsSvc.settings[L]()}getValues(L){this.#t("getValues");const V=this.#e.itemService.get(L);return new h.bT(this.#e.language).currentValues(V.Entity.Attributes)}#t(L){const V='A formula in this dialog is using an experimental feature: "{0}" - this will be removed soon.'.replace("{0}",L);console.error(V),!this.#e.warningsObsolete[L]&&(this.#e.warningsObsolete[L]=!0,alert(V))}}var y=m(1659),w=m(7149);class x{constructor(L,V,E,$,z,N){this.designerSvc=L,this.translate=V,this.logSvc=E,this.formula=$,this.ctTitle=z,this.formulaProps=N,this.isOpen=!1,this.isOpen=this.#e($)}showStart(){if(!this.isOpen)return;const L=this.formula;console.log(`Running formula${L.version?.toLocaleUpperCase()} for Entity: "${this.ctTitle}", Field: "${L.fieldName}", Target: "${L.target}", arguments:`,this.formulaProps)}showResult(L,V,E){this.designerSvc.cache.cacheResults(this.formula,L,!1,!1),this.isOpen&&console.log("Formula result:",L)}showError(L){const V=this.formula,E=`Error in formula calculation for Entity: "${this.ctTitle}", Field: "${V.fieldName}", Target: "${V.target}"`;this.designerSvc.cache.cacheResults(V,void 0,!0,!1),this.logSvc.addLog(w.E.Error,E,L),this.isOpen?console.error(E,L):this.logSvc.showMessage(this.translate.instant("Errors.FormulaCalculation"),2e3)}#e(L){return(0,y.O8t)(()=>{const V=this.designerSvc.designerState();return V.isOpen&&V.entityGuid===L.entityGuid&&V.fieldName===L.fieldName&&V.target===L.target})}}var T=m(8003);class I{constructor(L,V,E,$){this.designerSvc=L,this.translate=V,this.logSvc=E,this.ctTitle=$}getPartsFor(L){const V=L.runParameters.formula,E=this.#e(L),$=new x(this.designerSvc,this.translate,this.logSvc,V,this.ctTitle,E);return{formula:V,fieldName:V.fieldName,params:E,title:this.ctTitle,devHelper:$,valHelper:new T.d(V.fieldName,V.isValue,V.inputType,$.isOpen,L.runParameters.pickerHelper.infos.mapper)}}#e(L){const{formula:V,currentValues:E}=L.runParameters;switch(V.version){case b.GI.V1:case b.GI.V2:const $=Object.assign(new A(L),E),z=new _(L);return{data:$,context:new p(L,z),experimental:z};default:throw new Error("Formula version unknown not supported")}}}class j{constructor(L){this.prefill=L}all(){return this.#e||(this.#e=this.prefill?JSON.parse(JSON.stringify(this.prefill)):{}),this.#e}#e}},5176:ge=>{self,ge.exports=function(){var fe={3099:function(p){p.exports=function(g){if("function"!=typeof g)throw TypeError(String(g)+" is not a function");return g}},6077:function(p,g,e){var c=e(111);p.exports=function(l){if(!c(l)&&null!==l)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},1223:function(p,g,e){var c=e(5112),l=e(30),d=e(3070),h=c("unscopables"),f=Array.prototype;null==f[h]&&d.f(f,h,{configurable:!0,value:l(null)}),p.exports=function(_){f[h][_]=!0}},1530:function(p,g,e){"use strict";var c=e(8710).charAt;p.exports=function(l,d,h){return d+(h?c(l,d).length:1)}},5787:function(p){p.exports=function(g,e,c){if(!(g instanceof e))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return g}},9670:function(p,g,e){var c=e(111);p.exports=function(l){if(!c(l))throw TypeError(String(l)+" is not an object");return l}},4019:function(p){p.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:function(p,g,e){"use strict";var J,c=e(4019),l=e(9781),d=e(7854),h=e(111),f=e(6656),_=e(648),y=e(8880),w=e(1320),x=e(3070).f,T=e(9518),I=e(7674),j=e(5112),K=e(9711),L=d.Int8Array,V=L&&L.prototype,E=d.Uint8ClampedArray,$=E&&E.prototype,z=L&&T(L),N=V&&T(V),M=Object.prototype,k=M.isPrototypeOf,S=j("toStringTag"),F=K("TYPED_ARRAY_TAG"),Y=c&&!!I&&"Opera"!==_(d.opera),q=!1,de={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Me={BigInt64Array:8,BigUint64Array:8},$e=function(O){if(!h(O))return!1;var se=_(O);return f(de,se)||f(Me,se)};for(J in de)d[J]||(Y=!1);if((!Y||"function"!=typeof z||z===Function.prototype)&&(z=function(){throw TypeError("Incorrect invocation")},Y))for(J in de)d[J]&&I(d[J],z);if((!Y||!N||N===M)&&(N=z.prototype,Y))for(J in de)d[J]&&I(d[J].prototype,N);if(Y&&T($)!==N&&I($,N),l&&!f(N,S))for(J in q=!0,x(N,S,{get:function(){return h(this)?this[F]:void 0}}),de)d[J]&&y(d[J],F,J);p.exports={NATIVE_ARRAY_BUFFER_VIEWS:Y,TYPED_ARRAY_TAG:q&&F,aTypedArray:function(O){if($e(O))return O;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(O){if(I){if(k.call(z,O))return O}else for(var se in de)if(f(de,J)){var be=d[se];if(be&&(O===be||k.call(be,O)))return O}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(O,se,be){if(l){if(be)for(var ye in de){var Be=d[ye];Be&&f(Be.prototype,O)&&delete Be.prototype[O]}(!N[O]||be)&&w(N,O,be?se:Y&&V[O]||se)}},exportTypedArrayStaticMethod:function(O,se,be){var ye,Be;if(l){if(I){if(be)for(ye in de)(Be=d[ye])&&f(Be,O)&&delete Be[O];if(z[O]&&!be)return;try{return w(z,O,be?se:Y&&L[O]||se)}catch{}}for(ye in de)(Be=d[ye])&&(!Be[O]||be)&&w(Be,O,se)}},isView:function(se){if(!h(se))return!1;var be=_(se);return"DataView"===be||f(de,be)||f(Me,be)},isTypedArray:$e,TypedArray:z,TypedArrayPrototype:N}},3331:function(p,g,e){"use strict";var c=e(7854),l=e(9781),d=e(4019),h=e(8880),f=e(2248),_=e(7293),y=e(5787),w=e(9958),x=e(7466),T=e(7067),I=e(1179),j=e(9518),K=e(7674),L=e(8006).f,V=e(3070).f,E=e(1285),$=e(8003),z=e(9909),N=z.get,M=z.set,k="ArrayBuffer",S="DataView",F="prototype",q="Wrong index",J=c[k],de=J,Me=c[S],ke=Me&&Me[F],$e=Object.prototype,Ie=c.RangeError,pe=I.pack,Oe=I.unpack,Z=function(ae){return[255&ae]},O=function(ae){return[255&ae,ae>>8&255]},se=function(ae){return[255&ae,ae>>8&255,ae>>16&255,ae>>24&255]},be=function(ae){return ae[3]<<24|ae[2]<<16|ae[1]<<8|ae[0]},ye=function(ae){return pe(ae,23,4)},Be=function(ae){return pe(ae,52,8)},De=function(ae,te){V(ae[F],te,{get:function(){return N(this)[te]}})},Ue=function(ae,te,Re,Ge){var dt=T(Re),ht=N(ae);if(dt+te>ht.byteLength)throw Ie(q);var Dt=N(ht.buffer).bytes,oe=dt+ht.byteOffset,st=Dt.slice(oe,oe+te);return Ge?st:st.reverse()},Le=function(ae,te,Re,Ge,dt,ht){var Dt=T(Re),oe=N(ae);if(Dt+te>oe.byteLength)throw Ie(q);for(var st=N(oe.buffer).bytes,tt=Dt+oe.byteOffset,xt=Ge(+dt),kt=0;kt<te;kt++)st[tt+kt]=xt[ht?kt:te-kt-1]};if(d){if(!_(function(){J(1)})||!_(function(){new J(-1)})||_(function(){return new J,new J(1.5),new J(NaN),J.name!=k})){for(var Ne,Ee=(de=function(te){return y(this,de),new J(T(te))})[F]=J[F],xe=L(J),ne=0;xe.length>ne;)(Ne=xe[ne++])in de||h(de,Ne,J[Ne]);Ee.constructor=de}K&&j(ke)!==$e&&K(ke,$e);var re=new Me(new de(2)),Ce=ke.setInt8;re.setInt8(0,2147483648),re.setInt8(1,2147483649),(re.getInt8(0)||!re.getInt8(1))&&f(ke,{setInt8:function(te,Re){Ce.call(this,te,Re<<24>>24)},setUint8:function(te,Re){Ce.call(this,te,Re<<24>>24)}},{unsafe:!0})}else de=function(te){y(this,de,k);var Re=T(te);M(this,{bytes:E.call(new Array(Re),0),byteLength:Re}),l||(this.byteLength=Re)},Me=function(te,Re,Ge){y(this,Me,S),y(te,de,S);var dt=N(te).byteLength,ht=w(Re);if(ht<0||ht>dt)throw Ie("Wrong offset");if(ht+(Ge=void 0===Ge?dt-ht:x(Ge))>dt)throw Ie("Wrong length");M(this,{buffer:te,byteLength:Ge,byteOffset:ht}),l||(this.buffer=te,this.byteLength=Ge,this.byteOffset=ht)},l&&(De(de,"byteLength"),De(Me,"buffer"),De(Me,"byteLength"),De(Me,"byteOffset")),f(Me[F],{getInt8:function(te){return Ue(this,1,te)[0]<<24>>24},getUint8:function(te){return Ue(this,1,te)[0]},getInt16:function(te){var Re=Ue(this,2,te,arguments.length>1?arguments[1]:void 0);return(Re[1]<<8|Re[0])<<16>>16},getUint16:function(te){var Re=Ue(this,2,te,arguments.length>1?arguments[1]:void 0);return Re[1]<<8|Re[0]},getInt32:function(te){return be(Ue(this,4,te,arguments.length>1?arguments[1]:void 0))},getUint32:function(te){return be(Ue(this,4,te,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(te){return Oe(Ue(this,4,te,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(te){return Oe(Ue(this,8,te,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(te,Re){Le(this,1,te,Z,Re)},setUint8:function(te,Re){Le(this,1,te,Z,Re)},setInt16:function(te,Re){Le(this,2,te,O,Re,arguments.length>2?arguments[2]:void 0)},setUint16:function(te,Re){Le(this,2,te,O,Re,arguments.length>2?arguments[2]:void 0)},setInt32:function(te,Re){Le(this,4,te,se,Re,arguments.length>2?arguments[2]:void 0)},setUint32:function(te,Re){Le(this,4,te,se,Re,arguments.length>2?arguments[2]:void 0)},setFloat32:function(te,Re){Le(this,4,te,ye,Re,arguments.length>2?arguments[2]:void 0)},setFloat64:function(te,Re){Le(this,8,te,Be,Re,arguments.length>2?arguments[2]:void 0)}});$(de,k),$(Me,S),p.exports={ArrayBuffer:de,DataView:Me}},1048:function(p,g,e){"use strict";var c=e(7908),l=e(1400),d=e(7466),h=Math.min;p.exports=[].copyWithin||function(_,y){var w=c(this),x=d(w.length),T=l(_,x),I=l(y,x),j=arguments.length>2?arguments[2]:void 0,K=h((void 0===j?x:l(j,x))-I,x-T),L=1;for(I<T&&T<I+K&&(L=-1,I+=K-1,T+=K-1);K-- >0;)I in w?w[T]=w[I]:delete w[T],T+=L,I+=L;return w}},1285:function(p,g,e){"use strict";var c=e(7908),l=e(1400),d=e(7466);p.exports=function(f){for(var _=c(this),y=d(_.length),w=arguments.length,x=l(w>1?arguments[1]:void 0,y),T=w>2?arguments[2]:void 0,I=void 0===T?y:l(T,y);I>x;)_[x++]=f;return _}},8533:function(p,g,e){"use strict";var c=e(2092).forEach,d=e(9341)("forEach");p.exports=d?[].forEach:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}},8457:function(p,g,e){"use strict";var c=e(9974),l=e(7908),d=e(3411),h=e(7659),f=e(7466),_=e(6135),y=e(1246);p.exports=function(x){var $,z,N,M,k,S,T=l(x),I="function"==typeof this?this:Array,j=arguments.length,K=j>1?arguments[1]:void 0,L=void 0!==K,V=y(T),E=0;if(L&&(K=c(K,j>2?arguments[2]:void 0,2)),null==V||I==Array&&h(V))for(z=new I($=f(T.length));$>E;E++)S=L?K(T[E],E):T[E],_(z,E,S);else for(k=(M=V.call(T)).next,z=new I;!(N=k.call(M)).done;E++)S=L?d(M,K,[N.value,E],!0):N.value,_(z,E,S);return z.length=E,z}},1318:function(p,g,e){var c=e(5656),l=e(7466),d=e(1400),h=function(f){return function(_,y,w){var j,x=c(_),T=l(x.length),I=d(w,T);if(f&&y!=y){for(;T>I;)if((j=x[I++])!=j)return!0}else for(;T>I;I++)if((f||I in x)&&x[I]===y)return f||I||0;return!f&&-1}};p.exports={includes:h(!0),indexOf:h(!1)}},2092:function(p,g,e){var c=e(9974),l=e(8361),d=e(7908),h=e(7466),f=e(5417),_=[].push,y=function(w){var x=1==w,T=2==w,I=3==w,j=4==w,K=6==w,L=7==w,V=5==w||K;return function(E,$,z,N){for(var de,Me,M=d(E),k=l(M),S=c($,z,3),F=h(k.length),Y=0,q=N||f,J=x?q(E,F):T||L?q(E,0):void 0;F>Y;Y++)if((V||Y in k)&&(Me=S(de=k[Y],Y,M),w))if(x)J[Y]=Me;else if(Me)switch(w){case 3:return!0;case 5:return de;case 6:return Y;case 2:_.call(J,de)}else switch(w){case 4:return!1;case 7:_.call(J,de)}return K?-1:I||j?j:J}};p.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterOut:y(7)}},6583:function(p,g,e){"use strict";var c=e(5656),l=e(9958),d=e(7466),h=e(9341),f=Math.min,_=[].lastIndexOf,y=!!_&&1/[1].lastIndexOf(1,-0)<0,w=h("lastIndexOf");p.exports=y||!w?function(I){if(y)return _.apply(this,arguments)||0;var j=c(this),K=d(j.length),L=K-1;for(arguments.length>1&&(L=f(L,l(arguments[1]))),L<0&&(L=K+L);L>=0;L--)if(L in j&&j[L]===I)return L||0;return-1}:_},1194:function(p,g,e){var c=e(7293),l=e(5112),d=e(7392),h=l("species");p.exports=function(f){return d>=51||!c(function(){var _=[];return(_.constructor={})[h]=function(){return{foo:1}},1!==_[f](Boolean).foo})}},9341:function(p,g,e){"use strict";var c=e(7293);p.exports=function(l,d){var h=[][l];return!!h&&c(function(){h.call(null,d||function(){throw 1},1)})}},3671:function(p,g,e){var c=e(3099),l=e(7908),d=e(8361),h=e(7466),f=function(_){return function(y,w,x,T){c(w);var I=l(y),j=d(I),K=h(I.length),L=_?K-1:0,V=_?-1:1;if(x<2)for(;;){if(L in j){T=j[L],L+=V;break}if(L+=V,_?L<0:K<=L)throw TypeError("Reduce of empty array with no initial value")}for(;_?L>=0:K>L;L+=V)L in j&&(T=w(T,j[L],L,I));return T}};p.exports={left:f(!1),right:f(!0)}},5417:function(p,g,e){var c=e(111),l=e(3157),h=e(5112)("species");p.exports=function(f,_){var y;return l(f)&&("function"!=typeof(y=f.constructor)||y!==Array&&!l(y.prototype)?c(y)&&null===(y=y[h])&&(y=void 0):y=void 0),new(void 0===y?Array:y)(0===_?0:_)}},3411:function(p,g,e){var c=e(9670),l=e(9212);p.exports=function(d,h,f,_){try{return _?h(c(f)[0],f[1]):h(f)}catch(y){throw l(d),y}}},7072:function(p,g,e){var l=e(5112)("iterator"),d=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){d=!0}};f[l]=function(){return this},Array.from(f,function(){throw 2})}catch{}p.exports=function(_,y){if(!y&&!d)return!1;var w=!1;try{var x={};x[l]=function(){return{next:function(){return{done:w=!0}}}},_(x)}catch{}return w}},4326:function(p){var g={}.toString;p.exports=function(e){return g.call(e).slice(8,-1)}},648:function(p,g,e){var c=e(1694),l=e(4326),h=e(5112)("toStringTag"),f="Arguments"==l(function(){return arguments}());p.exports=c?l:function(y){var w,x,T;return void 0===y?"Undefined":null===y?"Null":"string"==typeof(x=function(y,w){try{return y[w]}catch{}}(w=Object(y),h))?x:f?l(w):"Object"==(T=l(w))&&"function"==typeof w.callee?"Arguments":T}},9920:function(p,g,e){var c=e(6656),l=e(3887),d=e(1236),h=e(3070);p.exports=function(f,_){for(var y=l(_),w=h.f,x=d.f,T=0;T<y.length;T++){var I=y[T];c(f,I)||w(f,I,x(_,I))}}},8544:function(p,g,e){var c=e(7293);p.exports=!c(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},4994:function(p,g,e){"use strict";var c=e(3383).IteratorPrototype,l=e(30),d=e(9114),h=e(8003),f=e(7497),_=function(){return this};p.exports=function(y,w,x){var T=w+" Iterator";return y.prototype=l(c,{next:d(1,x)}),h(y,T,!1,!0),f[T]=_,y}},8880:function(p,g,e){var c=e(9781),l=e(3070),d=e(9114);p.exports=c?function(h,f,_){return l.f(h,f,d(1,_))}:function(h,f,_){return h[f]=_,h}},9114:function(p){p.exports=function(g,e){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:e}}},6135:function(p,g,e){"use strict";var c=e(7593),l=e(3070),d=e(9114);p.exports=function(h,f,_){var y=c(f);y in h?l.f(h,y,d(0,_)):h[y]=_}},654:function(p,g,e){"use strict";var c=e(2109),l=e(4994),d=e(9518),h=e(7674),f=e(8003),_=e(8880),y=e(1320),w=e(5112),x=e(1913),T=e(7497),I=e(3383),j=I.IteratorPrototype,K=I.BUGGY_SAFARI_ITERATORS,L=w("iterator"),V="keys",E="values",$="entries",z=function(){return this};p.exports=function(N,M,k,S,F,Y,q){l(k,M,S);var Oe,Z,O,J=function(se){if(se===F&&Ie)return Ie;if(!K&&se in ke)return ke[se];switch(se){case V:case E:case $:return function(){return new k(this,se)}}return function(){return new k(this)}},de=M+" Iterator",Me=!1,ke=N.prototype,$e=ke[L]||ke["@@iterator"]||F&&ke[F],Ie=!K&&$e||J(F),pe="Array"==M&&ke.entries||$e;if(pe&&(Oe=d(pe.call(new N)),j!==Object.prototype&&Oe.next&&(!x&&d(Oe)!==j&&(h?h(Oe,j):"function"!=typeof Oe[L]&&_(Oe,L,z)),f(Oe,de,!0,!0),x&&(T[de]=z))),F==E&&$e&&$e.name!==E&&(Me=!0,Ie=function(){return $e.call(this)}),(!x||q)&&ke[L]!==Ie&&_(ke,L,Ie),T[M]=Ie,F)if(Z={values:J(E),keys:Y?Ie:J(V),entries:J($)},q)for(O in Z)(K||Me||!(O in ke))&&y(ke,O,Z[O]);else c({target:M,proto:!0,forced:K||Me},Z);return Z}},9781:function(p,g,e){var c=e(7293);p.exports=!c(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(p,g,e){var c=e(7854),l=e(111),d=c.document,h=l(d)&&l(d.createElement);p.exports=function(f){return h?d.createElement(f):{}}},8324:function(p){p.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(p,g,e){var c=e(5005);p.exports=c("navigator","userAgent")||""},7392:function(p,g,e){var _,y,c=e(7854),l=e(8113),d=c.process,h=d&&d.versions,f=h&&h.v8;f?y=(_=f.split("."))[0]+_[1]:l&&(!(_=l.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=l.match(/Chrome\/(\d+)/))&&(y=_[1]),p.exports=y&&+y},748:function(p){p.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(p,g,e){var c=e(7854),l=e(1236).f,d=e(8880),h=e(1320),f=e(3505),_=e(9920),y=e(4705);p.exports=function(w,x){var L,V,E,$,z,T=w.target,I=w.global,j=w.stat;if(L=I?c:j?c[T]||f(T,{}):(c[T]||{}).prototype)for(V in x){if($=x[V],E=w.noTargetGet?(z=l(L,V))&&z.value:L[V],!y(I?V:T+(j?".":"#")+V,w.forced)&&void 0!==E){if(typeof $==typeof E)continue;_($,E)}(w.sham||E&&E.sham)&&d($,"sham",!0),h(L,V,$,w)}}},7293:function(p){p.exports=function(g){try{return!!g()}catch{return!0}}},7007:function(p,g,e){"use strict";e(4916);var c=e(1320),l=e(7293),d=e(5112),h=e(2261),f=e(8880),_=d("species"),y=!l(function(){var j=/./;return j.exec=function(){var K=[];return K.groups={a:"7"},K},"7"!=="".replace(j,"$<a>")}),w="$0"==="a".replace(/./,"$0"),x=d("replace"),T=!!/./[x]&&""===/./[x]("a","$0"),I=!l(function(){var j=/(?:)/,K=j.exec;j.exec=function(){return K.apply(this,arguments)};var L="ab".split(j);return 2!==L.length||"a"!==L[0]||"b"!==L[1]});p.exports=function(j,K,L,V){var E=d(j),$=!l(function(){var F={};return F[E]=function(){return 7},7!=""[j](F)}),z=$&&!l(function(){var F=!1,Y=/a/;return"split"===j&&((Y={}).constructor={},Y.constructor[_]=function(){return Y},Y.flags="",Y[E]=/./[E]),Y.exec=function(){return F=!0,null},Y[E](""),!F});if(!$||!z||"replace"===j&&(!y||!w||T)||"split"===j&&!I){var N=/./[E],M=L(E,""[j],function(F,Y,q,J,de){return Y.exec===h?$&&!de?{done:!0,value:N.call(Y,q,J)}:{done:!0,value:F.call(q,Y,J)}:{done:!1}},{REPLACE_KEEPS_$0:w,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:T}),S=M[1];c(String.prototype,j,M[0]),c(RegExp.prototype,E,2==K?function(F,Y){return S.call(F,this,Y)}:function(F){return S.call(F,this)})}V&&f(RegExp.prototype[E],"sham",!0)}},9974:function(p,g,e){var c=e(3099);p.exports=function(l,d,h){if(c(l),void 0===d)return l;switch(h){case 0:return function(){return l.call(d)};case 1:return function(f){return l.call(d,f)};case 2:return function(f,_){return l.call(d,f,_)};case 3:return function(f,_,y){return l.call(d,f,_,y)}}return function(){return l.apply(d,arguments)}}},5005:function(p,g,e){var c=e(857),l=e(7854),d=function(h){return"function"==typeof h?h:void 0};p.exports=function(h,f){return arguments.length<2?d(c[h])||d(l[h]):c[h]&&c[h][f]||l[h]&&l[h][f]}},1246:function(p,g,e){var c=e(648),l=e(7497),h=e(5112)("iterator");p.exports=function(f){if(null!=f)return f[h]||f["@@iterator"]||l[c(f)]}},8554:function(p,g,e){var c=e(9670),l=e(1246);p.exports=function(d){var h=l(d);if("function"!=typeof h)throw TypeError(String(d)+" is not iterable");return c(h.call(d))}},647:function(p,g,e){var c=e(7908),l=Math.floor,d="".replace,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g;p.exports=function(_,y,w,x,T,I){var j=w+_.length,K=x.length,L=f;return void 0!==T&&(T=c(T),L=h),d.call(I,L,function(V,E){var $;switch(E.charAt(0)){case"$":return"$";case"&":return _;case"`":return y.slice(0,w);case"'":return y.slice(j);case"<":$=T[E.slice(1,-1)];break;default:var z=+E;if(0===z)return V;if(z>K){var N=l(z/10);return 0===N?V:N<=K?void 0===x[N-1]?E.charAt(1):x[N-1]+E.charAt(1):V}$=x[z-1]}return void 0===$?"":$})}},7854:function(p,g,e){var c=function(l){return l&&l.Math==Math&&l};p.exports=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof e.g&&e.g)||function(){return this}()||Function("return this")()},6656:function(p){var g={}.hasOwnProperty;p.exports=function(e,c){return g.call(e,c)}},3501:function(p){p.exports={}},490:function(p,g,e){var c=e(5005);p.exports=c("document","documentElement")},4664:function(p,g,e){var c=e(9781),l=e(7293),d=e(317);p.exports=!c&&!l(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a})},1179:function(p){var g=Math.abs,e=Math.pow,c=Math.floor,l=Math.log,d=Math.LN2;p.exports={pack:function(_,y,w){var E,$,z,x=new Array(w),T=8*w-y-1,I=(1<<T)-1,j=I>>1,K=23===y?e(2,-24)-e(2,-77):0,L=_<0||0===_&&1/_<0?1:0,V=0;for((_=g(_))!=_||_===1/0?($=_!=_?1:0,E=I):(E=c(l(_)/d),_*(z=e(2,-E))<1&&(E--,z*=2),(_+=E+j>=1?K/z:K*e(2,1-j))*z>=2&&(E++,z/=2),E+j>=I?($=0,E=I):E+j>=1?($=(_*z-1)*e(2,y),E+=j):($=_*e(2,j-1)*e(2,y),E=0));y>=8;x[V++]=255&$,$/=256,y-=8);for(E=E<<y|$,T+=y;T>0;x[V++]=255&E,E/=256,T-=8);return x[--V]|=128*L,x},unpack:function(_,y){var E,w=_.length,x=8*w-y-1,T=(1<<x)-1,I=T>>1,j=x-7,K=w-1,L=_[K--],V=127&L;for(L>>=7;j>0;V=256*V+_[K],K--,j-=8);for(E=V&(1<<-j)-1,V>>=-j,j+=y;j>0;E=256*E+_[K],K--,j-=8);if(0===V)V=1-I;else{if(V===T)return E?NaN:L?-1/0:1/0;E+=e(2,y),V-=I}return(L?-1:1)*E*e(2,V-y)}}},8361:function(p,g,e){var c=e(7293),l=e(4326),d="".split;p.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return"String"==l(h)?d.call(h,""):Object(h)}:Object},9587:function(p,g,e){var c=e(111),l=e(7674);p.exports=function(d,h,f){var _,y;return l&&"function"==typeof(_=h.constructor)&&_!==f&&c(y=_.prototype)&&y!==f.prototype&&l(d,y),d}},2788:function(p,g,e){var c=e(5465),l=Function.toString;"function"!=typeof c.inspectSource&&(c.inspectSource=function(d){return l.call(d)}),p.exports=c.inspectSource},9909:function(p,g,e){var T,I,j,c=e(8536),l=e(7854),d=e(111),h=e(8880),f=e(6656),_=e(5465),y=e(6200),w=e(3501);if(c){var V=_.state||(_.state=new(0,l.WeakMap)),E=V.get,$=V.has,z=V.set;T=function(M,k){return k.facade=M,z.call(V,M,k),k},I=function(M){return E.call(V,M)||{}},j=function(M){return $.call(V,M)}}else{var N=y("state");w[N]=!0,T=function(M,k){return k.facade=M,h(M,N,k),k},I=function(M){return f(M,N)?M[N]:{}},j=function(M){return f(M,N)}}p.exports={set:T,get:I,has:j,enforce:function(M){return j(M)?I(M):T(M,{})},getterFor:function(M){return function(k){var S;if(!d(k)||(S=I(k)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return S}}}},7659:function(p,g,e){var c=e(5112),l=e(7497),d=c("iterator"),h=Array.prototype;p.exports=function(f){return void 0!==f&&(l.Array===f||h[d]===f)}},3157:function(p,g,e){var c=e(4326);p.exports=Array.isArray||function(d){return"Array"==c(d)}},4705:function(p,g,e){var c=e(7293),l=/#|\.prototype\./,d=function(w,x){var T=f[h(w)];return T==y||T!=_&&("function"==typeof x?c(x):!!x)},h=d.normalize=function(w){return String(w).replace(l,".").toLowerCase()},f=d.data={},_=d.NATIVE="N",y=d.POLYFILL="P";p.exports=d},111:function(p){p.exports=function(g){return"object"==typeof g?null!==g:"function"==typeof g}},1913:function(p){p.exports=!1},7850:function(p,g,e){var c=e(111),l=e(4326),h=e(5112)("match");p.exports=function(f){var _;return c(f)&&(void 0!==(_=f[h])?!!_:"RegExp"==l(f))}},9212:function(p,g,e){var c=e(9670);p.exports=function(l){var d=l.return;if(void 0!==d)return c(d.call(l)).value}},3383:function(p,g,e){"use strict";var T,I,j,c=e(7293),l=e(9518),d=e(8880),h=e(6656),f=e(5112),_=e(1913),y=f("iterator"),w=!1;[].keys&&("next"in(j=[].keys())?(I=l(l(j)))!==Object.prototype&&(T=I):w=!0);var K=null==T||c(function(){var L={};return T[y].call(L)!==L});K&&(T={}),(!_||K)&&!h(T,y)&&d(T,y,function(){return this}),p.exports={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:w}},7497:function(p){p.exports={}},133:function(p,g,e){var c=e(7293);p.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},590:function(p,g,e){var c=e(7293),l=e(5112),d=e(1913),h=l("iterator");p.exports=!c(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),_=f.searchParams,y="";return f.pathname="c%20d",_.forEach(function(w,x){_.delete("b"),y+=x+w}),d&&!f.toJSON||!_.sort||"http://a/c%20d?a=1&c=3"!==f.href||"3"!==_.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!_[h]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==y||"x"!==new URL("http://x",void 0).host})},8536:function(p,g,e){var c=e(7854),l=e(2788),d=c.WeakMap;p.exports="function"==typeof d&&/native code/.test(l(d))},1574:function(p,g,e){"use strict";var c=e(9781),l=e(7293),d=e(1956),h=e(5181),f=e(5296),_=e(7908),y=e(8361),w=Object.assign,x=Object.defineProperty;p.exports=!w||l(function(){if(c&&1!==w({b:1},w(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var T={},I={},j=Symbol(),K="abcdefghijklmnopqrst";return T[j]=7,K.split("").forEach(function(L){I[L]=L}),7!=w({},T)[j]||d(w({},I)).join("")!=K})?function(I,j){for(var K=_(I),L=arguments.length,V=1,E=h.f,$=f.f;L>V;)for(var S,z=y(arguments[V++]),N=E?d(z).concat(E(z)):d(z),M=N.length,k=0;M>k;)S=N[k++],(!c||$.call(z,S))&&(K[S]=z[S]);return K}:w},30:function(p,g,e){var $,c=e(9670),l=e(6048),d=e(748),h=e(3501),f=e(490),_=e(317),y=e(6200),T="prototype",I="script",j=y("IE_PROTO"),K=function(){},L=function(N){return"<"+I+">"+N+"</"+I+">"},z=function(){try{$=document.domain&&new ActiveXObject("htmlfile")}catch{}z=$?function(N){N.write(L("")),N.close();var M=N.parentWindow.Object;return N=null,M}($):function(){var k,N=_("iframe"),M="java"+I+":";return N.style.display="none",f.appendChild(N),N.src=String(M),(k=N.contentWindow.document).open(),k.write(L("document.F=Object")),k.close(),k.F}();for(var N=d.length;N--;)delete z[T][d[N]];return z()};h[j]=!0,p.exports=Object.create||function(M,k){var S;return null!==M?(K[T]=c(M),S=new K,K[T]=null,S[j]=M):S=z(),void 0===k?S:l(S,k)}},6048:function(p,g,e){var c=e(9781),l=e(3070),d=e(9670),h=e(1956);p.exports=c?Object.defineProperties:function(_,y){d(_);for(var I,w=h(y),x=w.length,T=0;x>T;)l.f(_,I=w[T++],y[I]);return _}},3070:function(p,g,e){var c=e(9781),l=e(4664),d=e(9670),h=e(7593),f=Object.defineProperty;g.f=c?f:function(y,w,x){if(d(y),w=h(w,!0),d(x),l)try{return f(y,w,x)}catch{}if("get"in x||"set"in x)throw TypeError("Accessors not supported");return"value"in x&&(y[w]=x.value),y}},1236:function(p,g,e){var c=e(9781),l=e(5296),d=e(9114),h=e(5656),f=e(7593),_=e(6656),y=e(4664),w=Object.getOwnPropertyDescriptor;g.f=c?w:function(T,I){if(T=h(T),I=f(I,!0),y)try{return w(T,I)}catch{}if(_(T,I))return d(!l.f.call(T,I),T[I])}},8006:function(p,g,e){var c=e(6324),d=e(748).concat("length","prototype");g.f=Object.getOwnPropertyNames||function(f){return c(f,d)}},5181:function(p,g){g.f=Object.getOwnPropertySymbols},9518:function(p,g,e){var c=e(6656),l=e(7908),d=e(6200),h=e(8544),f=d("IE_PROTO"),_=Object.prototype;p.exports=h?Object.getPrototypeOf:function(y){return y=l(y),c(y,f)?y[f]:"function"==typeof y.constructor&&y instanceof y.constructor?y.constructor.prototype:y instanceof Object?_:null}},6324:function(p,g,e){var c=e(6656),l=e(5656),d=e(1318).indexOf,h=e(3501);p.exports=function(f,_){var T,y=l(f),w=0,x=[];for(T in y)!c(h,T)&&c(y,T)&&x.push(T);for(;_.length>w;)c(y,T=_[w++])&&(~d(x,T)||x.push(T));return x}},1956:function(p,g,e){var c=e(6324),l=e(748);p.exports=Object.keys||function(h){return c(h,l)}},5296:function(p,g){"use strict";var e={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,l=c&&!e.call({1:2},1);g.f=l?function(h){var f=c(this,h);return!!f&&f.enumerable}:e},7674:function(p,g,e){var c=e(9670),l=e(6077);p.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,d=!1,h={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(h,[]),d=h instanceof Array}catch{}return function(y,w){return c(y),l(w),d?f.call(y,w):y.__proto__=w,y}}():void 0)},288:function(p,g,e){"use strict";var c=e(1694),l=e(648);p.exports=c?{}.toString:function(){return"[object "+l(this)+"]"}},3887:function(p,g,e){var c=e(5005),l=e(8006),d=e(5181),h=e(9670);p.exports=c("Reflect","ownKeys")||function(_){var y=l.f(h(_)),w=d.f;return w?y.concat(w(_)):y}},857:function(p,g,e){var c=e(7854);p.exports=c},2248:function(p,g,e){var c=e(1320);p.exports=function(l,d,h){for(var f in d)c(l,f,d[f],h);return l}},1320:function(p,g,e){var c=e(7854),l=e(8880),d=e(6656),h=e(3505),f=e(2788),_=e(9909),y=_.get,w=_.enforce,x=String(String).split("String");(p.exports=function(T,I,j,K){var $,L=!!K&&!!K.unsafe,V=!!K&&!!K.enumerable,E=!!K&&!!K.noTargetGet;"function"==typeof j&&("string"==typeof I&&!d(j,"name")&&l(j,"name",I),($=w(j)).source||($.source=x.join("string"==typeof I?I:""))),T!==c?(L?!E&&T[I]&&(V=!0):delete T[I],V?T[I]=j:l(T,I,j)):V?T[I]=j:h(I,j)})(Function.prototype,"toString",function(){return"function"==typeof this&&y(this).source||f(this)})},7651:function(p,g,e){var c=e(4326),l=e(2261);p.exports=function(d,h){var f=d.exec;if("function"==typeof f){var _=f.call(d,h);if("object"!=typeof _)throw TypeError("RegExp exec method returned something other than an Object or null");return _}if("RegExp"!==c(d))throw TypeError("RegExp#exec called on incompatible receiver");return l.call(d,h)}},2261:function(p,g,e){"use strict";var T,I,c=e(7066),l=e(2999),d=RegExp.prototype.exec,h=String.prototype.replace,f=d,_=(I=/b*/g,d.call(T=/a/,"a"),d.call(I,"a"),0!==T.lastIndex||0!==I.lastIndex),y=l.UNSUPPORTED_Y||l.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(_||w||y)&&(f=function(I){var K,L,V,E,j=this,$=y&&j.sticky,z=c.call(j),N=j.source,M=0,k=I;return $&&(-1===(z=z.replace("y","")).indexOf("g")&&(z+="g"),k=String(I).slice(j.lastIndex),j.lastIndex>0&&(!j.multiline||j.multiline&&"\n"!==I[j.lastIndex-1])&&(N="(?: "+N+")",k=" "+k,M++),L=new RegExp("^(?:"+N+")",z)),w&&(L=new RegExp("^"+N+"$(?!\\s)",z)),_&&(K=j.lastIndex),V=d.call($?L:j,k),$?V?(V.input=V.input.slice(M),V[0]=V[0].slice(M),V.index=j.lastIndex,j.lastIndex+=V[0].length):j.lastIndex=0:_&&V&&(j.lastIndex=j.global?V.index+V[0].length:K),w&&V&&V.length>1&&h.call(V[0],L,function(){for(E=1;E<arguments.length-2;E++)void 0===arguments[E]&&(V[E]=void 0)}),V}),p.exports=f},7066:function(p,g,e){"use strict";var c=e(9670);p.exports=function(){var l=c(this),d="";return l.global&&(d+="g"),l.ignoreCase&&(d+="i"),l.multiline&&(d+="m"),l.dotAll&&(d+="s"),l.unicode&&(d+="u"),l.sticky&&(d+="y"),d}},2999:function(p,g,e){"use strict";var c=e(7293);function l(d,h){return RegExp(d,h)}g.UNSUPPORTED_Y=c(function(){var d=l("a","y");return d.lastIndex=2,null!=d.exec("abcd")}),g.BROKEN_CARET=c(function(){var d=l("^r","gy");return d.lastIndex=2,null!=d.exec("str")})},4488:function(p){p.exports=function(g){if(null==g)throw TypeError("Can't call method on "+g);return g}},3505:function(p,g,e){var c=e(7854),l=e(8880);p.exports=function(d,h){try{l(c,d,h)}catch{c[d]=h}return h}},6340:function(p,g,e){"use strict";var c=e(5005),l=e(3070),d=e(5112),h=e(9781),f=d("species");p.exports=function(_){var y=c(_);h&&y&&!y[f]&&(0,l.f)(y,f,{configurable:!0,get:function(){return this}})}},8003:function(p,g,e){var c=e(3070).f,l=e(6656),h=e(5112)("toStringTag");p.exports=function(f,_,y){f&&!l(f=y?f:f.prototype,h)&&c(f,h,{configurable:!0,value:_})}},6200:function(p,g,e){var c=e(2309),l=e(9711),d=c("keys");p.exports=function(h){return d[h]||(d[h]=l(h))}},5465:function(p,g,e){var c=e(7854),l=e(3505),d="__core-js_shared__",h=c[d]||l(d,{});p.exports=h},2309:function(p,g,e){var c=e(1913),l=e(5465);(p.exports=function(d,h){return l[d]||(l[d]=void 0!==h?h:{})})("versions",[]).push({version:"3.9.0",mode:c?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(p,g,e){var c=e(9670),l=e(3099),h=e(5112)("species");p.exports=function(f,_){var w,y=c(f).constructor;return void 0===y||null==(w=c(y)[h])?_:l(w)}},8710:function(p,g,e){var c=e(9958),l=e(4488),d=function(h){return function(f,_){var T,I,y=String(l(f)),w=c(_),x=y.length;return w<0||w>=x?h?"":void 0:(T=y.charCodeAt(w))<55296||T>56319||w+1===x||(I=y.charCodeAt(w+1))<56320||I>57343?h?y.charAt(w):T:h?y.slice(w,w+2):I-56320+(T-55296<<10)+65536}};p.exports={codeAt:d(!1),charAt:d(!0)}},3197:function(p){"use strict";var g=2147483647,w=/[^\0-\u007E]/,x=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",j=Math.floor,K=String.fromCharCode,V=function(z){return z+22+75*(z<26)},E=function(z,N,M){var k=0;for(z=M?j(z/700):z>>1,z+=j(z/N);z>455;k+=36)z=j(z/35);return j(k+36*z/(z+38))},$=function(z){var Y,q,N=[],M=(z=function(z){for(var N=[],M=0,k=z.length;M<k;){var S=z.charCodeAt(M++);if(S>=55296&&S<=56319&&M<k){var F=z.charCodeAt(M++);56320==(64512&F)?N.push(((1023&S)<<10)+(1023&F)+65536):(N.push(S),M--)}else N.push(S)}return N}(z)).length,k=128,S=0,F=72;for(Y=0;Y<z.length;Y++)(q=z[Y])<128&&N.push(K(q));var J=N.length,de=J;for(J&&N.push("-");de<M;){var Me=g;for(Y=0;Y<z.length;Y++)(q=z[Y])>=k&&q<Me&&(Me=q);var ke=de+1;if(Me-k>j((g-S)/ke))throw RangeError(T);for(S+=(Me-k)*ke,k=Me,Y=0;Y<z.length;Y++){if((q=z[Y])<k&&++S>g)throw RangeError(T);if(q==k){for(var $e=S,Ie=36;;Ie+=36){var pe=Ie<=F?1:Ie>=F+26?26:Ie-F;if($e<pe)break;var Oe=$e-pe,Z=36-pe;N.push(K(V(pe+Oe%Z))),$e=j(Oe/Z)}N.push(K(V($e))),F=E(S,ke,de==J),S=0,++de}}++S,++k}return N.join("")};p.exports=function(z){var k,S,N=[],M=z.toLowerCase().replace(x,".").split(".");for(k=0;k<M.length;k++)N.push(w.test(S=M[k])?"xn--"+$(S):S);return N.join(".")}},6091:function(p,g,e){var c=e(7293),l=e(1361);p.exports=function(h){return c(function(){return!!l[h]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[h]()||l[h].name!==h})}},3111:function(p,g,e){var c=e(4488),d="["+e(1361)+"]",h=RegExp("^"+d+d+"*"),f=RegExp(d+d+"*$"),_=function(y){return function(w){var x=String(c(w));return 1&y&&(x=x.replace(h,"")),2&y&&(x=x.replace(f,"")),x}};p.exports={start:_(1),end:_(2),trim:_(3)}},1400:function(p,g,e){var c=e(9958),l=Math.max,d=Math.min;p.exports=function(h,f){var _=c(h);return _<0?l(_+f,0):d(_,f)}},7067:function(p,g,e){var c=e(9958),l=e(7466);p.exports=function(d){if(void 0===d)return 0;var h=c(d),f=l(h);if(h!==f)throw RangeError("Wrong length or index");return f}},5656:function(p,g,e){var c=e(8361),l=e(4488);p.exports=function(d){return c(l(d))}},9958:function(p){var g=Math.ceil,e=Math.floor;p.exports=function(c){return isNaN(c=+c)?0:(c>0?e:g)(c)}},7466:function(p,g,e){var c=e(9958),l=Math.min;p.exports=function(d){return d>0?l(c(d),9007199254740991):0}},7908:function(p,g,e){var c=e(4488);p.exports=function(l){return Object(c(l))}},4590:function(p,g,e){var c=e(3002);p.exports=function(l,d){var h=c(l);if(h%d)throw RangeError("Wrong offset");return h}},3002:function(p,g,e){var c=e(9958);p.exports=function(l){var d=c(l);if(d<0)throw RangeError("The argument can't be less than 0");return d}},7593:function(p,g,e){var c=e(111);p.exports=function(l,d){if(!c(l))return l;var h,f;if(d&&"function"==typeof(h=l.toString)&&!c(f=h.call(l))||"function"==typeof(h=l.valueOf)&&!c(f=h.call(l))||!d&&"function"==typeof(h=l.toString)&&!c(f=h.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},1694:function(p,g,e){var d={};d[e(5112)("toStringTag")]="z",p.exports="[object z]"===String(d)},9843:function(p,g,e){"use strict";var c=e(2109),l=e(7854),d=e(9781),h=e(3832),f=e(260),_=e(3331),y=e(5787),w=e(9114),x=e(8880),T=e(7466),I=e(7067),j=e(4590),K=e(7593),L=e(6656),V=e(648),E=e(111),$=e(30),z=e(7674),N=e(8006).f,M=e(7321),k=e(2092).forEach,S=e(6340),F=e(3070),Y=e(1236),q=e(9909),J=e(9587),de=q.get,Me=q.set,ke=F.f,$e=Y.f,Ie=Math.round,pe=l.RangeError,Oe=_.ArrayBuffer,Z=_.DataView,O=f.NATIVE_ARRAY_BUFFER_VIEWS,se=f.TYPED_ARRAY_TAG,be=f.TypedArray,ye=f.TypedArrayPrototype,Be=f.aTypedArrayConstructor,De=f.isTypedArray,Ue="BYTES_PER_ELEMENT",Le="Wrong length",Ee=function(ae,te){for(var Re=0,Ge=te.length,dt=new(Be(ae))(Ge);Ge>Re;)dt[Re]=te[Re++];return dt},xe=function(ae,te){ke(ae,te,{get:function(){return de(this)[te]}})},ne=function(ae){var te;return ae instanceof Oe||"ArrayBuffer"==(te=V(ae))||"SharedArrayBuffer"==te},Ne=function(ae,te){return De(ae)&&"symbol"!=typeof te&&te in ae&&String(+te)==String(te)},re=function(te,Re){return Ne(te,Re=K(Re,!0))?w(2,te[Re]):$e(te,Re)},Ce=function(te,Re,Ge){return!(Ne(te,Re=K(Re,!0))&&E(Ge)&&L(Ge,"value"))||L(Ge,"get")||L(Ge,"set")||Ge.configurable||L(Ge,"writable")&&!Ge.writable||L(Ge,"enumerable")&&!Ge.enumerable?ke(te,Re,Ge):(te[Re]=Ge.value,te)};d?(O||(Y.f=re,F.f=Ce,xe(ye,"buffer"),xe(ye,"byteOffset"),xe(ye,"byteLength"),xe(ye,"length")),c({target:"Object",stat:!0,forced:!O},{getOwnPropertyDescriptor:re,defineProperty:Ce}),p.exports=function(ae,te,Re){var Ge=ae.match(/\d+$/)[0]/8,dt=ae+(Re?"Clamped":"")+"Array",ht="get"+ae,Dt="set"+ae,oe=l[dt],st=oe,tt=st&&st.prototype,xt={},le=function(he,we){ke(he,we,{get:function(){return function(he,we){var Xe=de(he);return Xe.view[ht](we*Ge+Xe.byteOffset,!0)}(this,we)},set:function(Xe){return function(he,we,Xe){var ft=de(he);Re&&(Xe=(Xe=Ie(Xe))<0?0:Xe>255?255:255&Xe),ft.view[Dt](we*Ge+ft.byteOffset,Xe,!0)}(this,we,Xe)},enumerable:!0})};O?h&&(st=te(function(he,we,Xe,ft){return y(he,st,dt),J(E(we)?ne(we)?void 0!==ft?new oe(we,j(Xe,Ge),ft):void 0!==Xe?new oe(we,j(Xe,Ge)):new oe(we):De(we)?Ee(st,we):M.call(st,we):new oe(I(we)),he,st)}),z&&z(st,be),k(N(oe),function(he){he in st||x(st,he,oe[he])}),st.prototype=tt):(st=te(function(he,we,Xe,ft){y(he,st,dt);var Ke,Qe,Te,wt=0,at=0;if(E(we)){if(!ne(we))return De(we)?Ee(st,we):M.call(st,we);Ke=we,at=j(Xe,Ge);var qe=we.byteLength;if(void 0===ft){if(qe%Ge||(Qe=qe-at)<0)throw pe(Le)}else if((Qe=T(ft)*Ge)+at>qe)throw pe(Le);Te=Qe/Ge}else Te=I(we),Ke=new Oe(Qe=Te*Ge);for(Me(he,{buffer:Ke,byteOffset:at,byteLength:Qe,length:Te,view:new Z(Ke)});wt<Te;)le(he,wt++)}),z&&z(st,be),tt=st.prototype=$(ye)),tt.constructor!==st&&x(tt,"constructor",st),se&&x(tt,se,dt),xt[dt]=st,c({global:!0,forced:st!=oe,sham:!O},xt),Ue in st||x(st,Ue,Ge),Ue in tt||x(tt,Ue,Ge),S(dt)}):p.exports=function(){}},3832:function(p,g,e){var c=e(7854),l=e(7293),d=e(7072),h=e(260).NATIVE_ARRAY_BUFFER_VIEWS,f=c.ArrayBuffer,_=c.Int8Array;p.exports=!h||!l(function(){_(1)})||!l(function(){new _(-1)})||!d(function(y){new _,new _(null),new _(1.5),new _(y)},!0)||l(function(){return 1!==new _(new f(2),1,void 0).length})},3074:function(p,g,e){var c=e(260).aTypedArrayConstructor,l=e(6707);p.exports=function(d,h){for(var f=l(d,d.constructor),_=0,y=h.length,w=new(c(f))(y);y>_;)w[_]=h[_++];return w}},7321:function(p,g,e){var c=e(7908),l=e(7466),d=e(1246),h=e(7659),f=e(9974),_=e(260).aTypedArrayConstructor;p.exports=function(w){var L,V,E,$,z,N,x=c(w),T=arguments.length,I=T>1?arguments[1]:void 0,j=void 0!==I,K=d(x);if(null!=K&&!h(K))for(N=(z=K.call(x)).next,x=[];!($=N.call(z)).done;)x.push($.value);for(j&&T>2&&(I=f(I,arguments[2],2)),V=l(x.length),E=new(_(this))(V),L=0;V>L;L++)E[L]=j?I(x[L],L):x[L];return E}},9711:function(p){var g=0,e=Math.random();p.exports=function(c){return"Symbol("+String(void 0===c?"":c)+")_"+(++g+e).toString(36)}},3307:function(p,g,e){var c=e(133);p.exports=c&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(p,g,e){var c=e(7854),l=e(2309),d=e(6656),h=e(9711),f=e(133),_=e(3307),y=l("wks"),w=c.Symbol,x=_?w:w&&w.withoutSetter||h;p.exports=function(T){return d(y,T)||(y[T]=f&&d(w,T)?w[T]:x("Symbol."+T)),y[T]}},1361:function(p){p.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8264:function(p,g,e){"use strict";var c=e(2109),l=e(7854),d=e(3331),h=e(6340),f="ArrayBuffer",_=d[f];c({global:!0,forced:l[f]!==_},{ArrayBuffer:_}),h(f)},2222:function(p,g,e){"use strict";var c=e(2109),l=e(7293),d=e(3157),h=e(111),f=e(7908),_=e(7466),y=e(6135),w=e(5417),x=e(1194),T=e(5112),I=e(7392),j=T("isConcatSpreadable"),K=9007199254740991,L="Maximum allowed index exceeded",V=I>=51||!l(function(){var N=[];return N[j]=!1,N.concat()[0]!==N}),E=x("concat"),$=function(N){if(!h(N))return!1;var M=N[j];return void 0!==M?!!M:d(N)};c({target:"Array",proto:!0,forced:!V||!E},{concat:function(M){var Y,q,J,de,Me,k=f(this),S=w(k,0),F=0;for(Y=-1,J=arguments.length;Y<J;Y++)if($(Me=-1===Y?k:arguments[Y])){if(F+(de=_(Me.length))>K)throw TypeError(L);for(q=0;q<de;q++,F++)q in Me&&y(S,F,Me[q])}else{if(F>=K)throw TypeError(L);y(S,F++,Me)}return S.length=F,S}})},7327:function(p,g,e){"use strict";var c=e(2109),l=e(2092).filter;c({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(_){return l(this,_,arguments.length>1?arguments[1]:void 0)}})},2772:function(p,g,e){"use strict";var c=e(2109),l=e(1318).indexOf,d=e(9341),h=[].indexOf,f=!!h&&1/[1].indexOf(1,-0)<0,_=d("indexOf");c({target:"Array",proto:!0,forced:f||!_},{indexOf:function(w){return f?h.apply(this,arguments)||0:l(this,w,arguments.length>1?arguments[1]:void 0)}})},6992:function(p,g,e){"use strict";var c=e(5656),l=e(1223),d=e(7497),h=e(9909),f=e(654),_="Array Iterator",y=h.set,w=h.getterFor(_);p.exports=f(Array,"Array",function(x,T){y(this,{type:_,target:c(x),index:0,kind:T})},function(){var x=w(this),T=x.target,I=x.kind,j=x.index++;return!T||j>=T.length?(x.target=void 0,{value:void 0,done:!0}):"keys"==I?{value:j,done:!1}:"values"==I?{value:T[j],done:!1}:{value:[j,T[j]],done:!1}},"values"),d.Arguments=d.Array,l("keys"),l("values"),l("entries")},1249:function(p,g,e){"use strict";var c=e(2109),l=e(2092).map;c({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(_){return l(this,_,arguments.length>1?arguments[1]:void 0)}})},7042:function(p,g,e){"use strict";var c=e(2109),l=e(111),d=e(3157),h=e(1400),f=e(7466),_=e(5656),y=e(6135),w=e(5112),T=e(1194)("slice"),I=w("species"),j=[].slice,K=Math.max;c({target:"Array",proto:!0,forced:!T},{slice:function(V,E){var k,S,F,$=_(this),z=f($.length),N=h(V,z),M=h(void 0===E?z:E,z);if(d($)&&("function"!=typeof(k=$.constructor)||k!==Array&&!d(k.prototype)?l(k)&&null===(k=k[I])&&(k=void 0):k=void 0,k===Array||void 0===k))return j.call($,N,M);for(S=new(void 0===k?Array:k)(K(M-N,0)),F=0;N<M;N++,F++)N in $&&y(S,F,$[N]);return S.length=F,S}})},561:function(p,g,e){"use strict";var c=e(2109),l=e(1400),d=e(9958),h=e(7466),f=e(7908),_=e(5417),y=e(6135),x=e(1194)("splice"),T=Math.max,I=Math.min;c({target:"Array",proto:!0,forced:!x},{splice:function(V,E){var k,S,F,Y,q,J,$=f(this),z=h($.length),N=l(V,z),M=arguments.length;if(0===M?k=S=0:1===M?(k=0,S=z-N):(k=M-2,S=I(T(d(E),0),z-N)),z+k-S>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(F=_($,S),Y=0;Y<S;Y++)(q=N+Y)in $&&y(F,Y,$[q]);if(F.length=S,k<S){for(Y=N;Y<z-S;Y++)J=Y+k,(q=Y+S)in $?$[J]=$[q]:delete $[J];for(Y=z;Y>z-S+k;Y--)delete $[Y-1]}else if(k>S)for(Y=z-S;Y>N;Y--)J=Y+k-1,(q=Y+S-1)in $?$[J]=$[q]:delete $[J];for(Y=0;Y<k;Y++)$[Y+N]=arguments[Y+2];return $.length=z-S+k,F}})},8309:function(p,g,e){var c=e(9781),l=e(3070).f,d=Function.prototype,h=d.toString,f=/^\s*function ([^ (]*)/,_="name";c&&!(_ in d)&&l(d,_,{configurable:!0,get:function(){try{return h.call(this).match(f)[1]}catch{return""}}})},489:function(p,g,e){var c=e(2109),l=e(7293),d=e(7908),h=e(9518),f=e(8544);c({target:"Object",stat:!0,forced:l(function(){h(1)}),sham:!f},{getPrototypeOf:function(w){return h(d(w))}})},1539:function(p,g,e){var c=e(1694),l=e(1320),d=e(288);c||l(Object.prototype,"toString",d,{unsafe:!0})},4916:function(p,g,e){"use strict";var c=e(2109),l=e(2261);c({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},9714:function(p,g,e){"use strict";var c=e(1320),l=e(9670),d=e(7293),h=e(7066),f="toString",_=RegExp.prototype,y=_[f];(d(function(){return"/a/b"!=y.call({source:"a",flags:"b"})})||y.name!=f)&&c(RegExp.prototype,f,function(){var I=l(this),j=String(I.source),K=I.flags;return"/"+j+"/"+String(void 0===K&&I instanceof RegExp&&!("flags"in _)?h.call(I):K)},{unsafe:!0})},8783:function(p,g,e){"use strict";var c=e(8710).charAt,l=e(9909),d=e(654),h="String Iterator",f=l.set,_=l.getterFor(h);d(String,"String",function(y){f(this,{type:h,string:String(y),index:0})},function(){var I,w=_(this),x=w.string,T=w.index;return T>=x.length?{value:void 0,done:!0}:(I=c(x,T),w.index+=I.length,{value:I,done:!1})})},4723:function(p,g,e){"use strict";var c=e(7007),l=e(9670),d=e(7466),h=e(4488),f=e(1530),_=e(7651);c("match",1,function(y,w,x){return[function(I){var j=h(this),K=I?.[y];return void 0!==K?K.call(I,j):new RegExp(I)[y](String(j))},function(T){var I=x(w,T,this);if(I.done)return I.value;var j=l(T),K=String(this);if(!j.global)return _(j,K);var L=j.unicode;j.lastIndex=0;for(var $,V=[],E=0;null!==($=_(j,K));){var z=String($[0]);V[E]=z,""===z&&(j.lastIndex=f(K,d(j.lastIndex),L)),E++}return 0===E?null:V}]})},5306:function(p,g,e){"use strict";var c=e(7007),l=e(9670),d=e(7466),h=e(9958),f=e(4488),_=e(1530),y=e(647),w=e(7651),x=Math.max,T=Math.min,I=function(j){return void 0===j?j:String(j)};c("replace",2,function(j,K,L,V){var E=V.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,$=V.REPLACE_KEEPS_$0,z=E?"$":"$0";return[function(M,k){var S=f(this),F=M?.[j];return void 0!==F?F.call(M,S,k):K.call(String(S),M,k)},function(N,M){if(!E&&$||"string"==typeof M&&-1===M.indexOf(z)){var k=L(K,N,this,M);if(k.done)return k.value}var S=l(N),F=String(this),Y="function"==typeof M;Y||(M=String(M));var q=S.global;if(q){var J=S.unicode;S.lastIndex=0}for(var de=[];;){var Me=w(S,F);if(null===Me||(de.push(Me),!q))break;""===String(Me[0])&&(S.lastIndex=_(F,d(S.lastIndex),J))}for(var $e="",Ie=0,pe=0;pe<de.length;pe++){Me=de[pe];for(var Oe=String(Me[0]),Z=x(T(h(Me.index),F.length),0),O=[],se=1;se<Me.length;se++)O.push(I(Me[se]));var be=Me.groups;if(Y){var ye=[Oe].concat(O,Z,F);void 0!==be&&ye.push(be);var Be=String(M.apply(void 0,ye))}else Be=y(Oe,F,Z,O,be,M);Z>=Ie&&($e+=F.slice(Ie,Z)+Be,Ie=Z+Oe.length)}return $e+F.slice(Ie)}]})},3123:function(p,g,e){"use strict";var c=e(7007),l=e(7850),d=e(9670),h=e(4488),f=e(6707),_=e(1530),y=e(7466),w=e(7651),x=e(2261),T=e(7293),I=[].push,j=Math.min,K=4294967295,L=!T(function(){return!RegExp(K,"y")});c("split",2,function(V,E,$){var z;return z="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(N,M){var k=String(h(this)),S=void 0===M?K:M>>>0;if(0===S)return[];if(void 0===N)return[k];if(!l(N))return E.call(k,N,S);for(var de,Me,ke,F=[],q=0,J=new RegExp(N.source,(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(N.sticky?"y":"")+"g");(de=x.call(J,k))&&!((Me=J.lastIndex)>q&&(F.push(k.slice(q,de.index)),de.length>1&&de.index<k.length&&I.apply(F,de.slice(1)),ke=de[0].length,q=Me,F.length>=S));)J.lastIndex===de.index&&J.lastIndex++;return q===k.length?(ke||!J.test(""))&&F.push(""):F.push(k.slice(q)),F.length>S?F.slice(0,S):F}:"0".split(void 0,0).length?function(N,M){return void 0===N&&0===M?[]:E.call(this,N,M)}:E,[function(M,k){var S=h(this),F=M?.[V];return void 0!==F?F.call(M,S,k):z.call(String(S),M,k)},function(N,M){var k=$(z,N,this,M,z!==E);if(k.done)return k.value;var S=d(N),F=String(this),Y=f(S,RegExp),q=S.unicode,de=new Y(L?S:"^(?:"+S.source+")",(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(L?"y":"g")),Me=void 0===M?K:M>>>0;if(0===Me)return[];if(0===F.length)return null===w(de,F)?[F]:[];for(var ke=0,$e=0,Ie=[];$e<F.length;){de.lastIndex=L?$e:0;var Oe,pe=w(de,L?F:F.slice($e));if(null===pe||(Oe=j(y(de.lastIndex+(L?0:$e)),F.length))===ke)$e=_(F,$e,q);else{if(Ie.push(F.slice(ke,$e)),Ie.length===Me)return Ie;for(var Z=1;Z<=pe.length-1;Z++)if(Ie.push(pe[Z]),Ie.length===Me)return Ie;$e=ke=Oe}}return Ie.push(F.slice(ke)),Ie}]},!L)},3210:function(p,g,e){"use strict";var c=e(2109),l=e(3111).trim;c({target:"String",proto:!0,forced:e(6091)("trim")},{trim:function(){return l(this)}})},2990:function(p,g,e){"use strict";var c=e(260),l=e(1048),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("copyWithin",function(_,y){return l.call(d(this),_,y,arguments.length>2?arguments[2]:void 0)})},8927:function(p,g,e){"use strict";var c=e(260),l=e(2092).every,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("every",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},3105:function(p,g,e){"use strict";var c=e(260),l=e(1285),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("fill",function(_){return l.apply(d(this),arguments)})},5035:function(p,g,e){"use strict";var c=e(260),l=e(2092).filter,d=e(3074),h=c.aTypedArray;(0,c.exportTypedArrayMethod)("filter",function(y){var w=l(h(this),y,arguments.length>1?arguments[1]:void 0);return d(this,w)})},7174:function(p,g,e){"use strict";var c=e(260),l=e(2092).findIndex,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("findIndex",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},4345:function(p,g,e){"use strict";var c=e(260),l=e(2092).find,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("find",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},2846:function(p,g,e){"use strict";var c=e(260),l=e(2092).forEach,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("forEach",function(_){l(d(this),_,arguments.length>1?arguments[1]:void 0)})},4731:function(p,g,e){"use strict";var c=e(260),l=e(1318).includes,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("includes",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},7209:function(p,g,e){"use strict";var c=e(260),l=e(1318).indexOf,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("indexOf",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},6319:function(p,g,e){"use strict";var c=e(7854),l=e(260),d=e(6992),f=e(5112)("iterator"),_=c.Uint8Array,y=d.values,w=d.keys,x=d.entries,T=l.aTypedArray,I=l.exportTypedArrayMethod,j=_&&_.prototype[f],K=!!j&&("values"==j.name||null==j.name),L=function(){return y.call(T(this))};I("entries",function(){return x.call(T(this))}),I("keys",function(){return w.call(T(this))}),I("values",L,!K),I(f,L,!K)},8867:function(p,g,e){"use strict";var c=e(260),l=c.aTypedArray,h=[].join;(0,c.exportTypedArrayMethod)("join",function(_){return h.apply(l(this),arguments)})},7789:function(p,g,e){"use strict";var c=e(260),l=e(6583),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("lastIndexOf",function(_){return l.apply(d(this),arguments)})},3739:function(p,g,e){"use strict";var c=e(260),l=e(2092).map,d=e(6707),h=c.aTypedArray,f=c.aTypedArrayConstructor;(0,c.exportTypedArrayMethod)("map",function(w){return l(h(this),w,arguments.length>1?arguments[1]:void 0,function(x,T){return new(f(d(x,x.constructor)))(T)})})},4483:function(p,g,e){"use strict";var c=e(260),l=e(3671).right,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduceRight",function(_){return l(d(this),_,arguments.length,arguments.length>1?arguments[1]:void 0)})},9368:function(p,g,e){"use strict";var c=e(260),l=e(3671).left,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduce",function(_){return l(d(this),_,arguments.length,arguments.length>1?arguments[1]:void 0)})},2056:function(p,g,e){"use strict";var c=e(260),l=c.aTypedArray,h=Math.floor;(0,c.exportTypedArrayMethod)("reverse",function(){for(var T,_=this,y=l(_).length,w=h(y/2),x=0;x<w;)T=_[x],_[x++]=_[--y],_[y]=T;return _})},3462:function(p,g,e){"use strict";var c=e(260),l=e(7466),d=e(4590),h=e(7908),f=e(7293),_=c.aTypedArray;(0,c.exportTypedArrayMethod)("set",function(T){_(this);var I=d(arguments.length>1?arguments[1]:void 0,1),j=this.length,K=h(T),L=l(K.length),V=0;if(L+I>j)throw RangeError("Wrong length");for(;V<L;)this[I+V]=K[V++]},f(function(){new Int8Array(1).set({})}))},678:function(p,g,e){"use strict";var c=e(260),l=e(6707),d=e(7293),h=c.aTypedArray,f=c.aTypedArrayConstructor,y=[].slice;(0,c.exportTypedArrayMethod)("slice",function(T,I){for(var j=y.call(h(this),T,I),K=l(this,this.constructor),L=0,V=j.length,E=new(f(K))(V);V>L;)E[L]=j[L++];return E},d(function(){new Int8Array(1).slice()}))},7462:function(p,g,e){"use strict";var c=e(260),l=e(2092).some,d=c.aTypedArray;(0,c.exportTypedArrayMethod)("some",function(_){return l(d(this),_,arguments.length>1?arguments[1]:void 0)})},3824:function(p,g,e){"use strict";var c=e(260),l=c.aTypedArray,h=[].sort;(0,c.exportTypedArrayMethod)("sort",function(_){return h.call(l(this),_)})},5021:function(p,g,e){"use strict";var c=e(260),l=e(7466),d=e(1400),h=e(6707),f=c.aTypedArray;(0,c.exportTypedArrayMethod)("subarray",function(w,x){var T=f(this),I=T.length,j=d(w,I);return new(h(T,T.constructor))(T.buffer,T.byteOffset+j*T.BYTES_PER_ELEMENT,l((void 0===x?I:d(x,I))-j))})},2974:function(p,g,e){"use strict";var c=e(7854),l=e(260),d=e(7293),h=c.Int8Array,f=l.aTypedArray,_=l.exportTypedArrayMethod,y=[].toLocaleString,w=[].slice,x=!!h&&d(function(){y.call(new h(1))});_("toLocaleString",function(){return y.apply(x?w.call(f(this)):f(this),arguments)},d(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!d(function(){h.prototype.toLocaleString.call([1,2])}))},5016:function(p,g,e){"use strict";var c=e(260).exportTypedArrayMethod,l=e(7293),h=e(7854).Uint8Array,f=h&&h.prototype||{},_=[].toString,y=[].join;l(function(){_.call({})})&&(_=function(){return y.call(this)}),c("toString",_,f.toString!=_)},2472:function(p,g,e){e(9843)("Uint8",function(l){return function(h,f,_){return l(this,h,f,_)}})},4747:function(p,g,e){var c=e(7854),l=e(8324),d=e(8533),h=e(8880);for(var f in l){var _=c[f],y=_&&_.prototype;if(y&&y.forEach!==d)try{h(y,"forEach",d)}catch{y.forEach=d}}},3948:function(p,g,e){var c=e(7854),l=e(8324),d=e(6992),h=e(8880),f=e(5112),_=f("iterator"),y=f("toStringTag"),w=d.values;for(var x in l){var T=c[x],I=T&&T.prototype;if(I){if(I[_]!==w)try{h(I,_,w)}catch{I[_]=w}if(I[y]||h(I,y,x),l[x])for(var j in d)if(I[j]!==d[j])try{h(I,j,d[j])}catch{I[j]=d[j]}}}},1637:function(p,g,e){"use strict";e(6992);var c=e(2109),l=e(5005),d=e(590),h=e(1320),f=e(2248),_=e(8003),y=e(4994),w=e(9909),x=e(5787),T=e(6656),I=e(9974),j=e(648),K=e(9670),L=e(111),V=e(30),E=e(9114),$=e(8554),z=e(1246),N=e(5112),M=l("fetch"),k=l("Headers"),S=N("iterator"),F="URLSearchParams",Y=F+"Iterator",q=w.set,J=w.getterFor(F),de=w.getterFor(Y),Me=/\+/g,ke=Array(4),$e=function(Ee){return ke[Ee-1]||(ke[Ee-1]=RegExp("((?:%[\\da-f]{2}){"+Ee+"})","gi"))},Ie=function(Ee){try{return decodeURIComponent(Ee)}catch{return Ee}},pe=function(Ee){var xe=Ee.replace(Me," "),ne=4;try{return decodeURIComponent(xe)}catch{for(;ne;)xe=xe.replace($e(ne--),Ie);return xe}},Oe=/[!'()~]|%20/g,Z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(Ee){return Z[Ee]},se=function(Ee){return encodeURIComponent(Ee).replace(Oe,O)},be=function(Ee,xe){if(xe)for(var re,Ce,ne=xe.split("&"),Ne=0;Ne<ne.length;)(re=ne[Ne++]).length&&(Ce=re.split("="),Ee.push({key:pe(Ce.shift()),value:pe(Ce.join("="))}))},ye=function(Ee){this.entries.length=0,be(this.entries,Ee)},Be=function(Ee,xe){if(Ee<xe)throw TypeError("Not enough arguments")},De=y(function(xe,ne){q(this,{type:Y,iterator:$(J(xe).entries),kind:ne})},"Iterator",function(){var xe=de(this),ne=xe.kind,Ne=xe.iterator.next(),re=Ne.value;return Ne.done||(Ne.value="keys"===ne?re.key:"values"===ne?re.value:[re.key,re.value]),Ne}),Ue=function(){x(this,Ue,F);var re,Ce,ae,te,Re,Ge,dt,ht,Dt,xe=arguments.length>0?arguments[0]:void 0,Ne=[];if(q(this,{type:F,entries:Ne,updateURL:function(){},updateSearchParams:ye}),void 0!==xe)if(L(xe))if("function"==typeof(re=z(xe)))for(ae=(Ce=re.call(xe)).next;!(te=ae.call(Ce)).done;){if((dt=(Ge=(Re=$(K(te.value))).next).call(Re)).done||(ht=Ge.call(Re)).done||!Ge.call(Re).done)throw TypeError("Expected sequence with length 2");Ne.push({key:dt.value+"",value:ht.value+""})}else for(Dt in xe)T(xe,Dt)&&Ne.push({key:Dt,value:xe[Dt]+""});else be(Ne,"string"==typeof xe?"?"===xe.charAt(0)?xe.slice(1):xe:xe+"")},Le=Ue.prototype;f(Le,{append:function(xe,ne){Be(arguments.length,2);var Ne=J(this);Ne.entries.push({key:xe+"",value:ne+""}),Ne.updateURL()},delete:function(Ee){Be(arguments.length,1);for(var xe=J(this),ne=xe.entries,Ne=Ee+"",re=0;re<ne.length;)ne[re].key===Ne?ne.splice(re,1):re++;xe.updateURL()},get:function(xe){Be(arguments.length,1);for(var ne=J(this).entries,Ne=xe+"",re=0;re<ne.length;re++)if(ne[re].key===Ne)return ne[re].value;return null},getAll:function(xe){Be(arguments.length,1);for(var ne=J(this).entries,Ne=xe+"",re=[],Ce=0;Ce<ne.length;Ce++)ne[Ce].key===Ne&&re.push(ne[Ce].value);return re},has:function(xe){Be(arguments.length,1);for(var ne=J(this).entries,Ne=xe+"",re=0;re<ne.length;)if(ne[re++].key===Ne)return!0;return!1},set:function(xe,ne){Be(arguments.length,1);for(var Ge,Ne=J(this),re=Ne.entries,Ce=!1,ae=xe+"",te=ne+"",Re=0;Re<re.length;Re++)(Ge=re[Re]).key===ae&&(Ce?re.splice(Re--,1):(Ce=!0,Ge.value=te));Ce||re.push({key:ae,value:te}),Ne.updateURL()},sort:function(){var re,Ce,ae,xe=J(this),ne=xe.entries,Ne=ne.slice();for(ne.length=0,ae=0;ae<Ne.length;ae++){for(re=Ne[ae],Ce=0;Ce<ae;Ce++)if(ne[Ce].key>re.key){ne.splice(Ce,0,re);break}Ce===ae&&ne.push(re)}xe.updateURL()},forEach:function(xe){for(var Ce,ne=J(this).entries,Ne=I(xe,arguments.length>1?arguments[1]:void 0,3),re=0;re<ne.length;)Ne((Ce=ne[re++]).value,Ce.key,this)},keys:function(){return new De(this,"keys")},values:function(){return new De(this,"values")},entries:function(){return new De(this,"entries")}},{enumerable:!0}),h(Le,S,Le.entries),h(Le,"toString",function(){for(var re,xe=J(this).entries,ne=[],Ne=0;Ne<xe.length;)re=xe[Ne++],ne.push(se(re.key)+"="+se(re.value));return ne.join("&")},{enumerable:!0}),_(Ue,F),c({global:!0,forced:!d},{URLSearchParams:Ue}),!d&&"function"==typeof M&&"function"==typeof k&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(xe){var Ne,re,Ce,ne=[xe];return arguments.length>1&&(L(Ne=arguments[1])&&j(re=Ne.body)===F&&((Ce=Ne.headers?new k(Ne.headers):new k).has("content-type")||Ce.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ne=V(Ne,{body:E(0,String(re)),headers:E(0,Ce)})),ne.push(Ne)),M.apply(this,ne)}}),p.exports={URLSearchParams:Ue,getState:J}},285:function(p,g,e){"use strict";e(8783);var ye,c=e(2109),l=e(9781),d=e(590),h=e(7854),f=e(6048),_=e(1320),y=e(5787),w=e(6656),x=e(1574),T=e(8457),I=e(8710).codeAt,j=e(3197),K=e(8003),L=e(1637),V=e(9909),E=h.URL,$=L.URLSearchParams,z=L.getState,N=V.set,M=V.getterFor("URL"),k=Math.floor,S=Math.pow,Y="Invalid scheme",q="Invalid host",J="Invalid port",de=/[A-Za-z]/,Me=/[\d+-.A-Za-z]/,ke=/\d/,$e=/^(0x|0X)/,Ie=/^[0-7]+$/,pe=/^\d+$/,Oe=/^[\dA-Fa-f]+$/,Z=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,O=/[\u0000\t\u000A\u000D #/:?@[\\]]/,se=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,be=/[\t\u000A\u000D]/g,Be=function(R,ue){var ve,Fe,je;if("["==ue.charAt(0)){if("]"!=ue.charAt(ue.length-1)||!(ve=Ue(ue.slice(1,-1))))return q;R.host=ve}else if(te(R)){if(ue=j(ue),Z.test(ue)||null===(ve=De(ue)))return q;R.host=ve}else{if(O.test(ue))return q;for(ve="",Fe=T(ue),je=0;je<Fe.length;je++)ve+=Ce(Fe[je],xe);R.host=ve}},De=function(R){var ve,Fe,je,lt,et,yt,Pt,ue=R.split(".");if(ue.length&&""==ue[ue.length-1]&&ue.pop(),(ve=ue.length)>4)return R;for(Fe=[],je=0;je<ve;je++){if(""==(lt=ue[je]))return R;if(et=10,lt.length>1&&"0"==lt.charAt(0)&&(et=$e.test(lt)?16:8,lt=lt.slice(8==et?1:2)),""===lt)yt=0;else{if(!(10==et?pe:8==et?Ie:Oe).test(lt))return R;yt=parseInt(lt,et)}Fe.push(yt)}for(je=0;je<ve;je++)if(yt=Fe[je],je==ve-1){if(yt>=S(256,5-ve))return null}else if(yt>255)return null;for(Pt=Fe.pop(),je=0;je<Fe.length;je++)Pt+=Fe[je]*S(256,3-je);return Pt},Ue=function(R){var lt,et,yt,Pt,Rt,Gt,Ye,ue=[0,0,0,0,0,0,0,0],ve=0,Fe=null,je=0,It=function(){return R.charAt(je)};if(":"==It()){if(":"!=R.charAt(1))return;je+=2,Fe=++ve}for(;It();){if(8==ve)return;if(":"!=It()){for(lt=et=0;et<4&&Oe.test(It());)lt=16*lt+parseInt(It(),16),je++,et++;if("."==It()){if(0==et||(je-=et,ve>6))return;for(yt=0;It();){if(Pt=null,yt>0){if(!("."==It()&&yt<4))return;je++}if(!ke.test(It()))return;for(;ke.test(It());){if(Rt=parseInt(It(),10),null===Pt)Pt=Rt;else{if(0==Pt)return;Pt=10*Pt+Rt}if(Pt>255)return;je++}ue[ve]=256*ue[ve]+Pt,(2==++yt||4==yt)&&ve++}if(4!=yt)return;break}if(":"==It()){if(je++,!It())return}else if(It())return;ue[ve++]=lt}else{if(null!==Fe)return;je++,Fe=++ve}}if(null!==Fe)for(Gt=ve-Fe,ve=7;0!=ve&&Gt>0;)Ye=ue[ve],ue[ve--]=ue[Fe+Gt-1],ue[Fe+--Gt]=Ye;else if(8!=ve)return;return ue},Ee=function(R){var ue,ve,Fe,je;if("number"==typeof R){for(ue=[],ve=0;ve<4;ve++)ue.unshift(R%256),R=k(R/256);return ue.join(".")}if("object"==typeof R){for(ue="",Fe=function(R){for(var ue=null,ve=1,Fe=null,je=0,lt=0;lt<8;lt++)0!==R[lt]?(je>ve&&(ue=Fe,ve=je),Fe=null,je=0):(null===Fe&&(Fe=lt),++je);return je>ve&&(ue=Fe,ve=je),ue}(R),ve=0;ve<8;ve++)je&&0===R[ve]||(je&&(je=!1),Fe===ve?(ue+=ve?":":"::",je=!0):(ue+=R[ve].toString(16),ve<7&&(ue+=":")));return"["+ue+"]"}return R},xe={},ne=x({},xe,{" ":1,'"':1,"<":1,">":1,"`":1}),Ne=x({},ne,{"#":1,"?":1,"{":1,"}":1}),re=x({},Ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ce=function(R,ue){var ve=I(R,0);return ve>32&&ve<127&&!w(ue,R)?R:encodeURIComponent(R)},ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},te=function(R){return w(ae,R.scheme)},Re=function(R){return""!=R.username||""!=R.password},Ge=function(R){return!R.host||R.cannotBeABaseURL||"file"==R.scheme},dt=function(R,ue){var ve;return 2==R.length&&de.test(R.charAt(0))&&(":"==(ve=R.charAt(1))||!ue&&"|"==ve)},ht=function(R){var ue;return R.length>1&&dt(R.slice(0,2))&&(2==R.length||"/"===(ue=R.charAt(2))||"\\"===ue||"?"===ue||"#"===ue)},Dt=function(R){var ue=R.path,ve=ue.length;ve&&("file"!=R.scheme||1!=ve||!dt(ue[0],!0))&&ue.pop()},oe=function(R){return"."===R||"%2e"===R.toLowerCase()},st=function(R){return".."===(R=R.toLowerCase())||"%2e."===R||".%2e"===R||"%2e%2e"===R},tt={},xt={},kt={},ee={},le={},he={},we={},Xe={},ft={},wt={},at={},Ke={},Qe={},Te={},qe={},ut={},_t={},vt={},Ht={},He={},bt={},St=function(R,ue,ve,Fe){var Gt,Ye,It,Xt,je=ve||tt,lt=0,et="",yt=!1,Pt=!1,Rt=!1;for(ve||(R.scheme="",R.username="",R.password="",R.host=null,R.port=null,R.path=[],R.query=null,R.fragment=null,R.cannotBeABaseURL=!1,ue=ue.replace(se,"")),ue=ue.replace(be,""),Gt=T(ue);lt<=Gt.length;){switch(Ye=Gt[lt],je){case tt:if(!Ye||!de.test(Ye)){if(ve)return Y;je=kt;continue}et+=Ye.toLowerCase(),je=xt;break;case xt:if(Ye&&(Me.test(Ye)||"+"==Ye||"-"==Ye||"."==Ye))et+=Ye.toLowerCase();else{if(":"!=Ye){if(ve)return Y;et="",je=kt,lt=0;continue}if(ve&&(te(R)!=w(ae,et)||"file"==et&&(Re(R)||null!==R.port)||"file"==R.scheme&&!R.host))return;if(R.scheme=et,ve)return void(te(R)&&ae[R.scheme]==R.port&&(R.port=null));et="","file"==R.scheme?je=Te:te(R)&&Fe&&Fe.scheme==R.scheme?je=ee:te(R)?je=Xe:"/"==Gt[lt+1]?(je=le,lt++):(R.cannotBeABaseURL=!0,R.path.push(""),je=Ht)}break;case kt:if(!Fe||Fe.cannotBeABaseURL&&"#"!=Ye)return Y;if(Fe.cannotBeABaseURL&&"#"==Ye){R.scheme=Fe.scheme,R.path=Fe.path.slice(),R.query=Fe.query,R.fragment="",R.cannotBeABaseURL=!0,je=bt;break}je="file"==Fe.scheme?Te:he;continue;case ee:if("/"!=Ye||"/"!=Gt[lt+1]){je=he;continue}je=ft,lt++;break;case le:if("/"==Ye){je=wt;break}je=vt;continue;case he:if(R.scheme=Fe.scheme,Ye==ye)R.username=Fe.username,R.password=Fe.password,R.host=Fe.host,R.port=Fe.port,R.path=Fe.path.slice(),R.query=Fe.query;else if("/"==Ye||"\\"==Ye&&te(R))je=we;else if("?"==Ye)R.username=Fe.username,R.password=Fe.password,R.host=Fe.host,R.port=Fe.port,R.path=Fe.path.slice(),R.query="",je=He;else{if("#"!=Ye){R.username=Fe.username,R.password=Fe.password,R.host=Fe.host,R.port=Fe.port,R.path=Fe.path.slice(),R.path.pop(),je=vt;continue}R.username=Fe.username,R.password=Fe.password,R.host=Fe.host,R.port=Fe.port,R.path=Fe.path.slice(),R.query=Fe.query,R.fragment="",je=bt}break;case we:if(!te(R)||"/"!=Ye&&"\\"!=Ye){if("/"!=Ye){R.username=Fe.username,R.password=Fe.password,R.host=Fe.host,R.port=Fe.port,je=vt;continue}je=wt}else je=ft;break;case Xe:if(je=ft,"/"!=Ye||"/"!=et.charAt(lt+1))continue;lt++;break;case ft:if("/"!=Ye&&"\\"!=Ye){je=wt;continue}break;case wt:if("@"==Ye){yt&&(et="%40"+et),yt=!0,It=T(et);for(var oi=0;oi<It.length;oi++){var jt=It[oi];if(":"!=jt||Rt){var $i=Ce(jt,re);Rt?R.password+=$i:R.username+=$i}else Rt=!0}et=""}else if(Ye==ye||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&te(R)){if(yt&&""==et)return"Invalid authority";lt-=T(et).length+1,et="",je=at}else et+=Ye;break;case at:case Ke:if(ve&&"file"==R.scheme){je=ut;continue}if(":"!=Ye||Pt){if(Ye==ye||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&te(R)){if(te(R)&&""==et)return q;if(ve&&""==et&&(Re(R)||null!==R.port))return;if(Xt=Be(R,et))return Xt;if(et="",je=_t,ve)return;continue}"["==Ye?Pt=!0:"]"==Ye&&(Pt=!1),et+=Ye}else{if(""==et)return q;if(Xt=Be(R,et))return Xt;if(et="",je=Qe,ve==Ke)return}break;case Qe:if(!ke.test(Ye)){if(Ye==ye||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&te(R)||ve){if(""!=et){var Ui=parseInt(et,10);if(Ui>65535)return J;R.port=te(R)&&Ui===ae[R.scheme]?null:Ui,et=""}if(ve)return;je=_t;continue}return J}et+=Ye;break;case Te:if(R.scheme="file","/"==Ye||"\\"==Ye)je=qe;else{if(!Fe||"file"!=Fe.scheme){je=vt;continue}if(Ye==ye)R.host=Fe.host,R.path=Fe.path.slice(),R.query=Fe.query;else if("?"==Ye)R.host=Fe.host,R.path=Fe.path.slice(),R.query="",je=He;else{if("#"!=Ye){ht(Gt.slice(lt).join(""))||(R.host=Fe.host,R.path=Fe.path.slice(),Dt(R)),je=vt;continue}R.host=Fe.host,R.path=Fe.path.slice(),R.query=Fe.query,R.fragment="",je=bt}}break;case qe:if("/"==Ye||"\\"==Ye){je=ut;break}Fe&&"file"==Fe.scheme&&!ht(Gt.slice(lt).join(""))&&(dt(Fe.path[0],!0)?R.path.push(Fe.path[0]):R.host=Fe.host),je=vt;continue;case ut:if(Ye==ye||"/"==Ye||"\\"==Ye||"?"==Ye||"#"==Ye){if(!ve&&dt(et))je=vt;else if(""==et){if(R.host="",ve)return;je=_t}else{if(Xt=Be(R,et))return Xt;if("localhost"==R.host&&(R.host=""),ve)return;et="",je=_t}continue}et+=Ye;break;case _t:if(te(R)){if(je=vt,"/"!=Ye&&"\\"!=Ye)continue}else if(ve||"?"!=Ye)if(ve||"#"!=Ye){if(Ye!=ye&&(je=vt,"/"!=Ye))continue}else R.fragment="",je=bt;else R.query="",je=He;break;case vt:if(Ye==ye||"/"==Ye||"\\"==Ye&&te(R)||!ve&&("?"==Ye||"#"==Ye)){if(st(et)?(Dt(R),"/"!=Ye&&!("\\"==Ye&&te(R))&&R.path.push("")):oe(et)?"/"!=Ye&&!("\\"==Ye&&te(R))&&R.path.push(""):("file"==R.scheme&&!R.path.length&&dt(et)&&(R.host&&(R.host=""),et=et.charAt(0)+":"),R.path.push(et)),et="","file"==R.scheme&&(Ye==ye||"?"==Ye||"#"==Ye))for(;R.path.length>1&&""===R.path[0];)R.path.shift();"?"==Ye?(R.query="",je=He):"#"==Ye&&(R.fragment="",je=bt)}else et+=Ce(Ye,Ne);break;case Ht:"?"==Ye?(R.query="",je=He):"#"==Ye?(R.fragment="",je=bt):Ye!=ye&&(R.path[0]+=Ce(Ye,xe));break;case He:ve||"#"!=Ye?Ye!=ye&&("'"==Ye&&te(R)?R.query+="%27":R.query+="#"==Ye?"%23":Ce(Ye,xe)):(R.fragment="",je=bt);break;case bt:Ye!=ye&&(R.fragment+=Ce(Ye,ne))}lt++}},qt=function(ue){var et,yt,ve=y(this,qt,"URL"),Fe=arguments.length>1?arguments[1]:void 0,je=String(ue),lt=N(ve,{type:"URL"});if(void 0!==Fe)if(Fe instanceof qt)et=M(Fe);else if(yt=St(et={},String(Fe)))throw TypeError(yt);if(yt=St(lt,je,null,et))throw TypeError(yt);var Pt=lt.searchParams=new $,Rt=z(Pt);Rt.updateSearchParams(lt.query),Rt.updateURL=function(){lt.query=String(Pt)||null},l||(ve.href=X.call(ve),ve.origin=B.call(ve),ve.protocol=U.call(ve),ve.username=C.call(ve),ve.password=D.call(ve),ve.host=H.call(ve),ve.hostname=Q.call(ve),ve.port=_e.call(ve),ve.pathname=me.call(ve),ve.search=Pe.call(ve),ve.searchParams=We.call(ve),ve.hash=Se.call(ve))},W=qt.prototype,X=function(){var R=M(this),ue=R.scheme,ve=R.username,Fe=R.password,je=R.host,lt=R.port,et=R.path,yt=R.query,Pt=R.fragment,Rt=ue+":";return null!==je?(Rt+="//",Re(R)&&(Rt+=ve+(Fe?":"+Fe:"")+"@"),Rt+=Ee(je),null!==lt&&(Rt+=":"+lt)):"file"==ue&&(Rt+="//"),Rt+=R.cannotBeABaseURL?et[0]:et.length?"/"+et.join("/"):"",null!==yt&&(Rt+="?"+yt),null!==Pt&&(Rt+="#"+Pt),Rt},B=function(){var R=M(this),ue=R.scheme,ve=R.port;if("blob"==ue)try{return new URL(ue.path[0]).origin}catch{return"null"}return"file"!=ue&&te(R)?ue+"://"+Ee(R.host)+(null!==ve?":"+ve:""):"null"},U=function(){return M(this).scheme+":"},C=function(){return M(this).username},D=function(){return M(this).password},H=function(){var R=M(this),ue=R.host,ve=R.port;return null===ue?"":null===ve?Ee(ue):Ee(ue)+":"+ve},Q=function(){var R=M(this).host;return null===R?"":Ee(R)},_e=function(){var R=M(this).port;return null===R?"":String(R)},me=function(){var R=M(this),ue=R.path;return R.cannotBeABaseURL?ue[0]:ue.length?"/"+ue.join("/"):""},Pe=function(){var R=M(this).query;return R?"?"+R:""},We=function(){return M(this).searchParams},Se=function(){var R=M(this).fragment;return R?"#"+R:""},Ve=function(R,ue){return{get:R,set:ue,configurable:!0,enumerable:!0}};if(l&&f(W,{href:Ve(X,function(R){var ue=M(this),ve=String(R),Fe=St(ue,ve);if(Fe)throw TypeError(Fe);z(ue.searchParams).updateSearchParams(ue.query)}),origin:Ve(B),protocol:Ve(U,function(R){var ue=M(this);St(ue,String(R)+":",tt)}),username:Ve(C,function(R){var ue=M(this),ve=T(String(R));if(!Ge(ue)){ue.username="";for(var Fe=0;Fe<ve.length;Fe++)ue.username+=Ce(ve[Fe],re)}}),password:Ve(D,function(R){var ue=M(this),ve=T(String(R));if(!Ge(ue)){ue.password="";for(var Fe=0;Fe<ve.length;Fe++)ue.password+=Ce(ve[Fe],re)}}),host:Ve(H,function(R){var ue=M(this);ue.cannotBeABaseURL||St(ue,String(R),at)}),hostname:Ve(Q,function(R){var ue=M(this);ue.cannotBeABaseURL||St(ue,String(R),Ke)}),port:Ve(_e,function(R){var ue=M(this);Ge(ue)||(""==(R=String(R))?ue.port=null:St(ue,R,Qe))}),pathname:Ve(me,function(R){var ue=M(this);ue.cannotBeABaseURL||(ue.path=[],St(ue,R+"",_t))}),search:Ve(Pe,function(R){var ue=M(this);""==(R=String(R))?ue.query=null:("?"==R.charAt(0)&&(R=R.slice(1)),ue.query="",St(ue,R,He)),z(ue.searchParams).updateSearchParams(ue.query)}),searchParams:Ve(We),hash:Ve(Se,function(R){var ue=M(this);""!=(R=String(R))?("#"==R.charAt(0)&&(R=R.slice(1)),ue.fragment="",St(ue,R,bt)):ue.fragment=null})}),_(W,"toJSON",function(){return X.call(this)},{enumerable:!0}),_(W,"toString",function(){return X.call(this)},{enumerable:!0}),E){var Ct=E.createObjectURL,ot=E.revokeObjectURL;Ct&&_(qt,"createObjectURL",function(ue){return Ct.apply(E,arguments)}),ot&&_(qt,"revokeObjectURL",function(ue){return ot.apply(E,arguments)})}K(qt,"URL"),c({global:!0,forced:!d,sham:!l},{URL:qt})}},m={};function b(p){if(m[p])return m[p].exports;var g=m[p]={exports:{}};return fe[p](g,g.exports,b),g.exports}b.d=function(p,g){for(var e in g)b.o(g,e)&&!b.o(p,e)&&Object.defineProperty(p,e,{enumerable:!0,get:g[e]})},b.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),b.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},b.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var A={};return function(){"use strict";function Ee(W,X){var B;if(typeof Symbol>"u"||null==W[Symbol.iterator]){if(Array.isArray(W)||(B=function xe(W,X){if(W){if("string"==typeof W)return ne(W,X);var B=Object.prototype.toString.call(W).slice(8,-1);if("Object"===B&&W.constructor&&(B=W.constructor.name),"Map"===B||"Set"===B)return Array.from(W);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return ne(W,X)}}(W))||X&&W&&"number"==typeof W.length){B&&(W=B);var U=0,C=function(){};return{s:C,n:function(){return U>=W.length?{done:!0}:{done:!1,value:W[U++]}},e:function(me){throw me},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,D=!0,H=!1;return{s:function(){B=W[Symbol.iterator]()},n:function(){var me=B.next();return D=me.done,me},e:function(me){H=!0,Q=me},f:function(){try{!D&&null!=B.return&&B.return()}finally{if(H)throw Q}}}}function ne(W,X){(null==X||X>W.length)&&(X=W.length);for(var B=0,U=new Array(X);B<X;B++)U[B]=W[B];return U}function re(W,X){for(var B=0;B<X.length;B++){var U=X[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}}b.r(A),b.d(A,{Dropzone:function(){return Te},default:function(){return qt}}),b(2222),b(7327),b(2772),b(6992),b(1249),b(7042),b(561),b(8264),b(8309),b(489),b(1539),b(4916),b(9714),b(8783),b(4723),b(5306),b(3123),b(3210),b(2472),b(2990),b(8927),b(3105),b(5035),b(4345),b(7174),b(2846),b(4731),b(7209),b(6319),b(8867),b(7789),b(3739),b(9368),b(4483),b(2056),b(3462),b(678),b(7462),b(3824),b(5021),b(2974),b(5016),b(4747),b(3948),b(285);var ae=function(){function W(){!function Ne(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")}(this,W)}return function Ce(W,X,B){return X&&re(W.prototype,X),B&&re(W,B),W}(W,[{key:"on",value:function(B,U){return this._callbacks=this._callbacks||{},this._callbacks[B]||(this._callbacks[B]=[]),this._callbacks[B].push(U),this}},{key:"emit",value:function(B){this._callbacks=this._callbacks||{};for(var U=this._callbacks[B],C=arguments.length,D=new Array(C>1?C-1:0),H=1;H<C;H++)D[H-1]=arguments[H];if(U){var _e,Q=Ee(U,!0);try{for(Q.s();!(_e=Q.n()).done;)_e.value.apply(this,D)}catch(Pe){Q.e(Pe)}finally{Q.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+B,{args:D})),this}},{key:"makeEvent",value:function(B,U){var C={bubbles:!0,cancelable:!0,detail:U};if("function"==typeof window.CustomEvent)return new CustomEvent(B,C);var D=document.createEvent("CustomEvent");return D.initCustomEvent(B,C.bubbles,C.cancelable,C.detail),D}},{key:"off",value:function(B,U){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var C=this._callbacks[B];if(!C)return this;if(1===arguments.length)return delete this._callbacks[B],this;for(var D=0;D<C.length;D++)if(C[D]===U){C.splice(D,1);break}return this}}]),W}();function Ge(W,X){var B;if(typeof Symbol>"u"||null==W[Symbol.iterator]){if(Array.isArray(W)||(B=function dt(W,X){if(W){if("string"==typeof W)return ht(W,X);var B=Object.prototype.toString.call(W).slice(8,-1);if("Object"===B&&W.constructor&&(B=W.constructor.name),"Map"===B||"Set"===B)return Array.from(W);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return ht(W,X)}}(W))||X&&W&&"number"==typeof W.length){B&&(W=B);var U=0,C=function(){};return{s:C,n:function(){return U>=W.length?{done:!0}:{done:!1,value:W[U++]}},e:function(me){throw me},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,D=!0,H=!1;return{s:function(){B=W[Symbol.iterator]()},n:function(){var me=B.next();return D=me.done,me},e:function(me){H=!0,Q=me},f:function(){try{!D&&null!=B.return&&B.return()}finally{if(H)throw Q}}}}function ht(W,X){(null==X||X>W.length)&&(X=W.length);for(var B=0,U=new Array(X);B<X;B++)U[B]=W[B];return U}var oe={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(X,B,U){if(U)return{dzuuid:U.file.upload.uuid,dzchunkindex:U.index,dztotalfilesize:U.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:U.file.upload.totalChunkCount,dzchunkbyteoffset:U.index*this.options.chunkSize}},accept:function(X,B){return B()},chunksUploaded:function(X,B){B()},fallback:function(){var X;this.element.className="".concat(this.element.className," dz-browser-not-supported");var U,B=Ge(this.element.getElementsByTagName("div"),!0);try{for(B.s();!(U=B.n()).done;){var C=U.value;if(/(^| )dz-message($| )/.test(C.className)){X=C,C.className="dz-message";break}}}catch(H){B.e(H)}finally{B.f()}X||(X=Te.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(X));var D=X.getElementsByTagName("span")[0];return D&&(null!=D.textContent?D.textContent=this.options.dictFallbackMessage:null!=D.innerText&&(D.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(X,B,U,C){var D={srcX:0,srcY:0,srcWidth:X.width,srcHeight:X.height},H=X.width/X.height;null==B&&null==U?(B=D.srcWidth,U=D.srcHeight):null==B?B=U*H:null==U&&(U=B/H);var Q=(B=Math.min(B,D.srcWidth))/(U=Math.min(U,D.srcHeight));if(D.srcWidth>B||D.srcHeight>U)if("crop"===C)H>Q?(D.srcHeight=X.height,D.srcWidth=D.srcHeight*Q):(D.srcWidth=X.width,D.srcHeight=D.srcWidth/Q);else{if("contain"!==C)throw new Error("Unknown resizeMethod '".concat(C,"'"));H>Q?U=B/H:B=U*H}return D.srcX=(X.width-D.srcWidth)/2,D.srcY=(X.height-D.srcHeight)/2,D.trgWidth=B,D.trgHeight=U,D},transformFile:function(X,B){return(this.options.resizeWidth||this.options.resizeHeight)&&X.type.match(/image.*/)?this.resizeImage(X,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,B):B(X)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(X){return this.element.classList.remove("dz-drag-hover")},dragstart:function(X){},dragend:function(X){return this.element.classList.remove("dz-drag-hover")},dragenter:function(X){return this.element.classList.add("dz-drag-hover")},dragover:function(X){return this.element.classList.add("dz-drag-hover")},dragleave:function(X){return this.element.classList.remove("dz-drag-hover")},paste:function(X){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(X){var B=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){X.previewElement=Te.createElement(this.options.previewTemplate.trim()),X.previewTemplate=X.previewElement,this.previewsContainer.appendChild(X.previewElement);var C,U=Ge(X.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(U.s();!(C=U.n()).done;){var D=C.value;D.textContent=X.name}}catch(Se){U.e(Se)}finally{U.f()}var Q,H=Ge(X.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(H.s();!(Q=H.n()).done;)(D=Q.value).innerHTML=this.filesize(X.size)}catch(Se){H.e(Se)}finally{H.f()}this.options.addRemoveLinks&&(X._removeLink=Te.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),X.previewElement.appendChild(X._removeLink));var Pe,_e=function(Ve){return Ve.preventDefault(),Ve.stopPropagation(),X.status===Te.UPLOADING?Te.confirm(B.options.dictCancelUploadConfirmation,function(){return B.removeFile(X)}):B.options.dictRemoveFileConfirmation?Te.confirm(B.options.dictRemoveFileConfirmation,function(){return B.removeFile(X)}):B.removeFile(X)},me=Ge(X.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(me.s();!(Pe=me.n()).done;)Pe.value.addEventListener("click",_e)}catch(Se){me.e(Se)}finally{me.f()}}},removedfile:function(X){return null!=X.previewElement&&null!=X.previewElement.parentNode&&X.previewElement.parentNode.removeChild(X.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(X,B){if(X.previewElement){X.previewElement.classList.remove("dz-file-preview");var C,U=Ge(X.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(U.s();!(C=U.n()).done;){var D=C.value;D.alt=X.name,D.src=B}}catch(H){U.e(H)}finally{U.f()}return setTimeout(function(){return X.previewElement.classList.add("dz-image-preview")},1)}},error:function(X,B){if(X.previewElement){X.previewElement.classList.add("dz-error"),"string"!=typeof B&&B.error&&(B=B.error);var C,U=Ge(X.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(U.s();!(C=U.n()).done;)C.value.textContent=B}catch(H){U.e(H)}finally{U.f()}}},errormultiple:function(){},processing:function(X){if(X.previewElement&&(X.previewElement.classList.add("dz-processing"),X._removeLink))return X._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(X,B,U){if(X.previewElement){var D,C=Ge(X.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(C.s();!(D=C.n()).done;){var H=D.value;"PROGRESS"===H.nodeName?H.value=B:H.style.width="".concat(B,"%")}}catch(Q){C.e(Q)}finally{C.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(X){if(X.previewElement)return X.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(X){return this.emit("error",X,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(X){if(X._removeLink&&(X._removeLink.innerHTML=this.options.dictRemoveFile),X.previewElement)return X.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function st(W){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(W)}function tt(W,X){var B;if(typeof Symbol>"u"||null==W[Symbol.iterator]){if(Array.isArray(W)||(B=function xt(W,X){if(W){if("string"==typeof W)return kt(W,X);var B=Object.prototype.toString.call(W).slice(8,-1);if("Object"===B&&W.constructor&&(B=W.constructor.name),"Map"===B||"Set"===B)return Array.from(W);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return kt(W,X)}}(W))||X&&W&&"number"==typeof W.length){B&&(W=B);var U=0,C=function(){};return{s:C,n:function(){return U>=W.length?{done:!0}:{done:!1,value:W[U++]}},e:function(me){throw me},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,D=!0,H=!1;return{s:function(){B=W[Symbol.iterator]()},n:function(){var me=B.next();return D=me.done,me},e:function(me){H=!0,Q=me},f:function(){try{!D&&null!=B.return&&B.return()}finally{if(H)throw Q}}}}function kt(W,X){(null==X||X>W.length)&&(X=W.length);for(var B=0,U=new Array(X);B<X;B++)U[B]=W[B];return U}function ee(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")}function le(W,X){for(var B=0;B<X.length;B++){var U=X[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(W,U.key,U)}}function he(W,X,B){return X&&le(W.prototype,X),B&&le(W,B),W}function Xe(W,X){return(Xe=Object.setPrototypeOf||function(U,C){return U.__proto__=C,U})(W,X)}function ft(W){var X=function Ke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var C,U=Qe(W);if(X){var D=Qe(this).constructor;C=Reflect.construct(U,arguments,D)}else C=U.apply(this,arguments);return wt(this,C)}}function wt(W,X){return!X||"object"!==st(X)&&"function"!=typeof X?at(W):X}function at(W){if(void 0===W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function Qe(W){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(W)}var Te=function(W){!function we(W,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(X&&X.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),X&&Xe(W,X)}(B,W);var X=ft(B);function B(U,C){var D,H,Q;if(ee(this,B),(D=X.call(this)).element=U,D.version=B.version,D.clickableElements=[],D.listeners=[],D.files=[],"string"==typeof D.element&&(D.element=document.querySelector(D.element)),!D.element||null==D.element.nodeType)throw new Error("Invalid dropzone element.");if(D.element.dropzone)throw new Error("Dropzone already attached.");B.instances.push(at(D)),D.element.dropzone=at(D);var _e=null!=(Q=B.optionsForElement(D.element))?Q:{};if(D.options=B.extend({},oe,_e,C??{}),D.options.previewTemplate=D.options.previewTemplate.replace(/\n*/g,""),D.options.forceFallback||!B.isBrowserSupported())return wt(D,D.options.fallback.call(at(D)));if(null==D.options.url&&(D.options.url=D.element.getAttribute("action")),!D.options.url)throw new Error("No URL provided.");if(D.options.acceptedFiles&&D.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(D.options.uploadMultiple&&D.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return D.options.acceptedMimeTypes&&(D.options.acceptedFiles=D.options.acceptedMimeTypes,delete D.options.acceptedMimeTypes),null!=D.options.renameFilename&&(D.options.renameFile=function(me){return D.options.renameFilename.call(at(D),me.name,me)}),"string"==typeof D.options.method&&(D.options.method=D.options.method.toUpperCase()),(H=D.getExistingFallback())&&H.parentNode&&H.parentNode.removeChild(H),!1!==D.options.previewsContainer&&(D.previewsContainer=D.options.previewsContainer?B.getElement(D.options.previewsContainer,"previewsContainer"):D.element),D.options.clickable&&(D.clickableElements=!0===D.options.clickable?[D.element]:B.getElements(D.options.clickable,"clickable")),D.init(),D}return he(B,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(C){return C.accepted}).map(function(C){return C})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(C){return!C.accepted}).map(function(C){return C})}},{key:"getFilesWithStatus",value:function(C){return this.files.filter(function(D){return D.status===C}).map(function(D){return D})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(B.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(B.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(B.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(C){return C.status===B.UPLOADING||C.status===B.QUEUED}).map(function(C){return C})}},{key:"init",value:function(){var C=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(B.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function We(){C.hiddenFileInput&&C.hiddenFileInput.parentNode.removeChild(C.hiddenFileInput),C.hiddenFileInput=document.createElement("input"),C.hiddenFileInput.setAttribute("type","file"),(null===C.options.maxFiles||C.options.maxFiles>1)&&C.hiddenFileInput.setAttribute("multiple","multiple"),C.hiddenFileInput.className="dz-hidden-input",null!==C.options.acceptedFiles&&C.hiddenFileInput.setAttribute("accept",C.options.acceptedFiles),null!==C.options.capture&&C.hiddenFileInput.setAttribute("capture",C.options.capture),C.hiddenFileInput.setAttribute("tabindex","-1"),C.hiddenFileInput.style.visibility="hidden",C.hiddenFileInput.style.position="absolute",C.hiddenFileInput.style.top="0",C.hiddenFileInput.style.left="0",C.hiddenFileInput.style.height="0",C.hiddenFileInput.style.width="0",B.getElement(C.options.hiddenInputContainer,"hiddenInputContainer").appendChild(C.hiddenFileInput),C.hiddenFileInput.addEventListener("change",function(){var Se=C.hiddenFileInput.files;if(Se.length){var Ct,Ve=tt(Se,!0);try{for(Ve.s();!(Ct=Ve.n()).done;)C.addFile(Ct.value)}catch(R){Ve.e(R)}finally{Ve.f()}}C.emit("addedfiles",Se),We()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var Q,H=tt(this.events,!0);try{for(H.s();!(Q=H.n()).done;){var _e=Q.value;this.on(_e,this.options[_e])}}catch(We){H.e(We)}finally{H.f()}this.on("uploadprogress",function(){return C.updateTotalUploadProgress()}),this.on("removedfile",function(){return C.updateTotalUploadProgress()}),this.on("canceled",function(We){return C.emit("complete",We)}),this.on("complete",function(We){if(0===C.getAddedFiles().length&&0===C.getUploadingFiles().length&&0===C.getQueuedFiles().length)return setTimeout(function(){return C.emit("queuecomplete")},0)});var Pe=function(Se){if(function(Se){if(Se.dataTransfer.types)for(var Ve=0;Ve<Se.dataTransfer.types.length;Ve++)if("Files"===Se.dataTransfer.types[Ve])return!0;return!1}(Se))return Se.stopPropagation(),Se.preventDefault?Se.preventDefault():Se.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(Se){return C.emit("dragstart",Se)},dragenter:function(Se){return Pe(Se),C.emit("dragenter",Se)},dragover:function(Se){var Ve;try{Ve=Se.dataTransfer.effectAllowed}catch{}return Se.dataTransfer.dropEffect="move"===Ve||"linkMove"===Ve?"move":"copy",Pe(Se),C.emit("dragover",Se)},dragleave:function(Se){return C.emit("dragleave",Se)},drop:function(Se){return Pe(Se),C.drop(Se)},dragend:function(Se){return C.emit("dragend",Se)}}}],this.clickableElements.forEach(function(We){return C.listeners.push({element:We,events:{click:function(Ve){return(We!==C.element||Ve.target===C.element||B.elementInside(Ve.target,C.element.querySelector(".dz-message")))&&C.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,B.instances.splice(B.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var C,D=0,H=0;if(this.getActiveFiles().length){var me,_e=tt(this.getActiveFiles(),!0);try{for(_e.s();!(me=_e.n()).done;){var Pe=me.value;D+=Pe.upload.bytesSent,H+=Pe.upload.total}}catch(We){_e.e(We)}finally{_e.f()}C=100*D/H}else C=100;return this.emit("totaluploadprogress",C,H,D)}},{key:"_getParamName",value:function(C){return"function"==typeof this.options.paramName?this.options.paramName(C):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(C,"]"):"")}},{key:"_renameFile",value:function(C){return"function"!=typeof this.options.renameFile?C.name:this.options.renameFile(C)}},{key:"getFallbackForm",value:function(){var C,D;if(C=this.getExistingFallback())return C;var H='<div class="dz-fallback">';this.options.dictFallbackText&&(H+="<p>".concat(this.options.dictFallbackText,"</p>")),H+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var Q=B.createElement(H);return"FORM"!==this.element.tagName?(D=B.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(Q):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),D??Q}},{key:"getExistingFallback",value:function(){for(var C=function(Pe){var Se,We=tt(Pe,!0);try{for(We.s();!(Se=We.n()).done;){var Ve=Se.value;if(/(^| )fallback($| )/.test(Ve.className))return Ve}}catch(Ct){We.e(Ct)}finally{We.f()}},D=0,H=["div","form"];D<H.length;D++){var _e;if(_e=C(this.element.getElementsByTagName(H[D])))return _e}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(C){return function(){var D=[];for(var H in C.events)D.push(C.element.addEventListener(H,C.events[H],!1));return D}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(C){return function(){var D=[];for(var H in C.events)D.push(C.element.removeEventListener(H,C.events[H],!1));return D}()})}},{key:"disable",value:function(){var C=this;return this.clickableElements.forEach(function(D){return D.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(D){return C.cancelUpload(D)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(C){return C.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(C){var D=0,H="b";if(C>0){for(var Q=["tb","gb","mb","kb","b"],_e=0;_e<Q.length;_e++){var me=Q[_e];if(C>=Math.pow(this.options.filesizeBase,4-_e)/10){D=C/Math.pow(this.options.filesizeBase,4-_e),H=me;break}}D=Math.round(10*D)/10}return"<strong>".concat(D,"</strong> ").concat(this.options.dictFileSizeUnits[H])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(C){if(C.dataTransfer){this.emit("drop",C);for(var D=[],H=0;H<C.dataTransfer.files.length;H++)D[H]=C.dataTransfer.files[H];if(D.length){var Q=C.dataTransfer.items;Q&&Q.length&&null!=Q[0].webkitGetAsEntry?this._addFilesFromItems(Q):this.handleFiles(D)}this.emit("addedfiles",D)}}},{key:"paste",value:function(C){if(null!=function bt(W,X){return typeof W<"u"&&null!==W?X(W):void 0}(C?.clipboardData,function(H){return H.items})){this.emit("paste",C);var D=C.clipboardData.items;if(D.length)return this._addFilesFromItems(D)}}},{key:"handleFiles",value:function(C){var H,D=tt(C,!0);try{for(D.s();!(H=D.n()).done;)this.addFile(H.value)}catch(_e){D.e(_e)}finally{D.f()}}},{key:"_addFilesFromItems",value:function(C){var D=this;return function(){var _e,H=[],Q=tt(C,!0);try{for(Q.s();!(_e=Q.n()).done;){var Pe,me=_e.value;null!=me.webkitGetAsEntry&&(Pe=me.webkitGetAsEntry())?H.push(Pe.isFile?D.addFile(me.getAsFile()):Pe.isDirectory?D._addFilesFromDirectory(Pe,Pe.name):void 0):H.push(null==me.getAsFile||null!=me.kind&&"file"!==me.kind?void 0:D.addFile(me.getAsFile()))}}catch(We){Q.e(We)}finally{Q.f()}return H}()}},{key:"_addFilesFromDirectory",value:function(C,D){var H=this,Q=C.createReader(),_e=function(We){return function St(W,X,B){if(typeof W<"u"&&null!==W&&"function"==typeof W[X])return B(W,X)}(console,"log",function(Se){return Se.log(We)})};return function Pe(){return Q.readEntries(function(We){if(We.length>0){var Ve,Se=tt(We,!0);try{for(Se.s();!(Ve=Se.n()).done;){var Ct=Ve.value;Ct.isFile?Ct.file(function(ot){if(!H.options.ignoreHiddenFiles||"."!==ot.name.substring(0,1))return ot.fullPath="".concat(D,"/").concat(ot.name),H.addFile(ot)}):Ct.isDirectory&&H._addFilesFromDirectory(Ct,"".concat(D,"/").concat(Ct.name))}}catch(ot){Se.e(ot)}finally{Se.f()}Pe()}return null},_e)}()}},{key:"accept",value:function(C,D){this.options.maxFilesize&&C.size>1024*this.options.maxFilesize*1024?D(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(C.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):B.isValidFile(C,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(D(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",C)):this.options.accept.call(this,C,D):D(this.options.dictInvalidFileType)}},{key:"addFile",value:function(C){var D=this;C.upload={uuid:B.uuidv4(),progress:0,total:C.size,bytesSent:0,filename:this._renameFile(C)},this.files.push(C),C.status=B.ADDED,this.emit("addedfile",C),this._enqueueThumbnail(C),this.accept(C,function(H){H?(C.accepted=!1,D._errorProcessing([C],H)):(C.accepted=!0,D.options.autoQueue&&D.enqueueFile(C)),D._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(C){var H,D=tt(C,!0);try{for(D.s();!(H=D.n()).done;)this.enqueueFile(H.value)}catch(_e){D.e(_e)}finally{D.f()}return null}},{key:"enqueueFile",value:function(C){var D=this;if(C.status!==B.ADDED||!0!==C.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(C.status=B.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return D.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(C){var D=this;if(this.options.createImageThumbnails&&C.type.match(/image.*/)&&C.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(C),setTimeout(function(){return D._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var C=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var D=this._thumbnailQueue.shift();return this.createThumbnail(D,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(H){return C.emit("thumbnail",D,H),C._processingThumbnail=!1,C._processThumbnailQueue()})}}},{key:"removeFile",value:function(C){if(C.status===B.UPLOADING&&this.cancelUpload(C),this.files=qe(this.files,C),this.emit("removedfile",C),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(C){null==C&&(C=!1);var H,D=tt(this.files.slice(),!0);try{for(D.s();!(H=D.n()).done;){var Q=H.value;(Q.status!==B.UPLOADING||C)&&this.removeFile(Q)}}catch(_e){D.e(_e)}finally{D.f()}return null}},{key:"resizeImage",value:function(C,D,H,Q,_e){var me=this;return this.createThumbnail(C,D,H,Q,!0,function(Pe,We){if(null==We)return _e(C);var Se=me.options.resizeMimeType;null==Se&&(Se=C.type);var Ve=We.toDataURL(Se,me.options.resizeQuality);return("image/jpeg"===Se||"image/jpg"===Se)&&(Ve=Ht.restore(C.dataURL,Ve)),_e(B.dataURItoBlob(Ve))})}},{key:"createThumbnail",value:function(C,D,H,Q,_e,me){var Pe=this,We=new FileReader;We.onload=function(){C.dataURL=We.result,"image/svg+xml"!==C.type?Pe.createThumbnailFromUrl(C,D,H,Q,_e,me):me?.(We.result)},We.readAsDataURL(C)}},{key:"displayExistingFile",value:function(C,D,H,Q){var _e=this,me=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",C),this.emit("complete",C),me){C.dataURL=D,this.createThumbnailFromUrl(C,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,function(Se){_e.emit("thumbnail",C,Se),H&&H()},Q)}else this.emit("thumbnail",C,D),H&&H()}},{key:"createThumbnailFromUrl",value:function(C,D,H,Q,_e,me,Pe){var We=this,Se=document.createElement("img");return Pe&&(Se.crossOrigin=Pe),_e="from-image"!=getComputedStyle(document.body).imageOrientation&&_e,Se.onload=function(){var Ve=function(ot){return ot(1)};return typeof EXIF<"u"&&null!==EXIF&&_e&&(Ve=function(ot){return EXIF.getData(Se,function(){return ot(EXIF.getTag(this,"Orientation"))})}),Ve(function(Ct){C.width=Se.width,C.height=Se.height;var ot=We.options.resize.call(We,C,D,H,Q),R=document.createElement("canvas"),ue=R.getContext("2d");switch(R.width=ot.trgWidth,R.height=ot.trgHeight,Ct>4&&(R.width=ot.trgHeight,R.height=ot.trgWidth),Ct){case 2:ue.translate(R.width,0),ue.scale(-1,1);break;case 3:ue.translate(R.width,R.height),ue.rotate(Math.PI);break;case 4:ue.translate(0,R.height),ue.scale(1,-1);break;case 5:ue.rotate(.5*Math.PI),ue.scale(1,-1);break;case 6:ue.rotate(.5*Math.PI),ue.translate(0,-R.width);break;case 7:ue.rotate(.5*Math.PI),ue.translate(R.height,-R.width),ue.scale(-1,1);break;case 8:ue.rotate(-.5*Math.PI),ue.translate(-R.height,0)}vt(ue,Se,null!=ot.srcX?ot.srcX:0,null!=ot.srcY?ot.srcY:0,ot.srcWidth,ot.srcHeight,null!=ot.trgX?ot.trgX:0,null!=ot.trgY?ot.trgY:0,ot.trgWidth,ot.trgHeight);var ve=R.toDataURL("image/png");if(null!=me)return me(ve,R)})},null!=me&&(Se.onerror=me),Se.src=C.dataURL}},{key:"processQueue",value:function(){var C=this.options.parallelUploads,D=this.getUploadingFiles().length,H=D;if(!(D>=C)){var Q=this.getQueuedFiles();if(Q.length>0){if(this.options.uploadMultiple)return this.processFiles(Q.slice(0,C-D));for(;H<C;){if(!Q.length)return;this.processFile(Q.shift()),H++}}}}},{key:"processFile",value:function(C){return this.processFiles([C])}},{key:"processFiles",value:function(C){var H,D=tt(C,!0);try{for(D.s();!(H=D.n()).done;){var Q=H.value;Q.processing=!0,Q.status=B.UPLOADING,this.emit("processing",Q)}}catch(_e){D.e(_e)}finally{D.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",C),this.uploadFiles(C)}},{key:"_getFilesWithXhr",value:function(C){return this.files.filter(function(H){return H.xhr===C}).map(function(H){return H})}},{key:"cancelUpload",value:function(C){if(C.status===B.UPLOADING){var Q,D=this._getFilesWithXhr(C.xhr),H=tt(D,!0);try{for(H.s();!(Q=H.n()).done;)Q.value.status=B.CANCELED}catch(Se){H.e(Se)}finally{H.f()}typeof C.xhr<"u"&&C.xhr.abort();var Pe,me=tt(D,!0);try{for(me.s();!(Pe=me.n()).done;)this.emit("canceled",Pe.value)}catch(Se){me.e(Se)}finally{me.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",D)}else(C.status===B.ADDED||C.status===B.QUEUED)&&(C.status=B.CANCELED,this.emit("canceled",C),this.options.uploadMultiple&&this.emit("canceledmultiple",[C]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(C){if("function"==typeof C){for(var D=arguments.length,H=new Array(D>1?D-1:0),Q=1;Q<D;Q++)H[Q-1]=arguments[Q];return C.apply(this,H)}return C}},{key:"uploadFile",value:function(C){return this.uploadFiles([C])}},{key:"uploadFiles",value:function(C){var D=this;this._transformFiles(C,function(H){if(D.options.chunking){var Q=H[0];C[0].upload.chunked=D.options.chunking&&(D.options.forceChunking||Q.size>D.options.chunkSize),C[0].upload.totalChunkCount=Math.ceil(Q.size/D.options.chunkSize)}if(C[0].upload.chunked){var _e=C[0],me=H[0];_e.upload.chunks=[];var We=function(){for(var R=0;void 0!==_e.upload.chunks[R];)R++;if(!(R>=_e.upload.totalChunkCount)){var ue=R*D.options.chunkSize,ve=Math.min(ue+D.options.chunkSize,me.size),Fe={name:D._getParamName(0),data:me.webkitSlice?me.webkitSlice(ue,ve):me.slice(ue,ve),filename:_e.upload.filename,chunkIndex:R};_e.upload.chunks[R]={file:_e,index:R,dataBlock:Fe,status:B.UPLOADING,progress:0,retries:0},D._uploadData(C,[Fe])}};if(_e.upload.finishedChunkUpload=function(ot,R){var ue=!0;ot.status=B.SUCCESS,ot.dataBlock=null,ot.xhr=null;for(var ve=0;ve<_e.upload.totalChunkCount;ve++){if(void 0===_e.upload.chunks[ve])return We();_e.upload.chunks[ve].status!==B.SUCCESS&&(ue=!1)}ue&&D.options.chunksUploaded(_e,function(){D._finished(C,R,null)})},D.options.parallelChunkUploads)for(var Se=0;Se<_e.upload.totalChunkCount;Se++)We();else We()}else{for(var Ve=[],Ct=0;Ct<C.length;Ct++)Ve[Ct]={name:D._getParamName(Ct),data:H[Ct],filename:C[Ct].upload.filename};D._uploadData(C,Ve)}})}},{key:"_getChunk",value:function(C,D){for(var H=0;H<C.upload.totalChunkCount;H++)if(void 0!==C.upload.chunks[H]&&C.upload.chunks[H].xhr===D)return C.upload.chunks[H]}},{key:"_uploadData",value:function(C,D){var me,H=this,Q=new XMLHttpRequest,_e=tt(C,!0);try{for(_e.s();!(me=_e.n()).done;)me.value.xhr=Q}catch(It){_e.e(It)}finally{_e.f()}C[0].upload.chunked&&(C[0].upload.chunks[D[0].chunkIndex].xhr=Q);var We=this.resolveOption(this.options.method,C),Se=this.resolveOption(this.options.url,C);Q.open(We,Se,!0),this.resolveOption(this.options.timeout,C)&&(Q.timeout=this.resolveOption(this.options.timeout,C)),Q.withCredentials=!!this.options.withCredentials,Q.onload=function(It){H._finishedUploading(C,Q,It)},Q.ontimeout=function(){H._handleUploadError(C,Q,"Request timedout after ".concat(H.options.timeout/1e3," seconds"))},Q.onerror=function(){H._handleUploadError(C,Q)},(null!=Q.upload?Q.upload:Q).onprogress=function(It){return H._updateFilesUploadProgress(C,Q,It)};var ot={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var R in this.options.headers&&B.extend(ot,this.options.headers),ot){var ue=ot[R];ue&&Q.setRequestHeader(R,ue)}var ve=new FormData;if(this.options.params){var Fe=this.options.params;for(var je in"function"==typeof Fe&&(Fe=Fe.call(this,C,Q,C[0].upload.chunked?this._getChunk(C[0],Q):null)),Fe){var lt=Fe[je];if(Array.isArray(lt))for(var et=0;et<lt.length;et++)ve.append(je,lt[et]);else ve.append(je,lt)}}var Pt,yt=tt(C,!0);try{for(yt.s();!(Pt=yt.n()).done;)this.emit("sending",Pt.value,Q,ve)}catch(It){yt.e(It)}finally{yt.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",C,Q,ve),this._addFormElementData(ve);for(var Gt=0;Gt<D.length;Gt++){var Ye=D[Gt];ve.append(Ye.name,Ye.data,Ye.filename)}this.submitRequest(Q,ve,C)}},{key:"_transformFiles",value:function(C,D){for(var H=this,Q=[],_e=0,me=function(Se){H.options.transformFile.call(H,C[Se],function(Ve){Q[Se]=Ve,++_e===C.length&&D(Q)})},Pe=0;Pe<C.length;Pe++)me(Pe)}},{key:"_addFormElementData",value:function(C){if("FORM"===this.element.tagName){var H,D=tt(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(D.s();!(H=D.n()).done;){var Q=H.value,_e=Q.getAttribute("name"),me=Q.getAttribute("type");if(me&&(me=me.toLowerCase()),!(typeof _e>"u"||null===_e))if("SELECT"===Q.tagName&&Q.hasAttribute("multiple")){var We,Pe=tt(Q.options,!0);try{for(Pe.s();!(We=Pe.n()).done;){var Se=We.value;Se.selected&&C.append(_e,Se.value)}}catch(Ve){Pe.e(Ve)}finally{Pe.f()}}else(!me||"checkbox"!==me&&"radio"!==me||Q.checked)&&C.append(_e,Q.value)}}catch(Ve){D.e(Ve)}finally{D.f()}}}},{key:"_updateFilesUploadProgress",value:function(C,D,H){if(C[0].upload.chunked){var Pe=C[0],We=this._getChunk(Pe,D);H?(We.progress=100*H.loaded/H.total,We.total=H.total,We.bytesSent=H.loaded):(We.progress=100,We.bytesSent=We.total),Pe.upload.progress=0,Pe.upload.total=0,Pe.upload.bytesSent=0;for(var Se=0;Se<Pe.upload.totalChunkCount;Se++)Pe.upload.chunks[Se]&&typeof Pe.upload.chunks[Se].progress<"u"&&(Pe.upload.progress+=Pe.upload.chunks[Se].progress,Pe.upload.total+=Pe.upload.chunks[Se].total,Pe.upload.bytesSent+=Pe.upload.chunks[Se].bytesSent);Pe.upload.progress=Pe.upload.progress/Pe.upload.totalChunkCount,this.emit("uploadprogress",Pe,Pe.upload.progress,Pe.upload.bytesSent)}else{var _e,Q=tt(C,!0);try{for(Q.s();!(_e=Q.n()).done;){var me=_e.value;me.upload.total&&me.upload.bytesSent&&me.upload.bytesSent==me.upload.total||(H?(me.upload.progress=100*H.loaded/H.total,me.upload.total=H.total,me.upload.bytesSent=H.loaded):(me.upload.progress=100,me.upload.bytesSent=me.upload.total),this.emit("uploadprogress",me,me.upload.progress,me.upload.bytesSent))}}catch(Ve){Q.e(Ve)}finally{Q.f()}}}},{key:"_finishedUploading",value:function(C,D,H){var Q;if(C[0].status!==B.CANCELED&&4===D.readyState){if("arraybuffer"!==D.responseType&&"blob"!==D.responseType&&(Q=D.responseText,D.getResponseHeader("content-type")&&~D.getResponseHeader("content-type").indexOf("application/json")))try{Q=JSON.parse(Q)}catch(_e){H=_e,Q="Invalid JSON response from server."}this._updateFilesUploadProgress(C,D),200<=D.status&&D.status<300?C[0].upload.chunked?C[0].upload.finishedChunkUpload(this._getChunk(C[0],D),Q):this._finished(C,Q,H):this._handleUploadError(C,D,Q)}}},{key:"_handleUploadError",value:function(C,D,H){if(C[0].status!==B.CANCELED){if(C[0].upload.chunked&&this.options.retryChunks){var Q=this._getChunk(C[0],D);if(Q.retries++<this.options.retryChunksLimit)return void this._uploadData(C,[Q.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(C,H||this.options.dictResponseError.replace("{{statusCode}}",D.status),D)}}},{key:"submitRequest",value:function(C,D,H){1==C.readyState?C.send(D):console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(C,D,H){var _e,Q=tt(C,!0);try{for(Q.s();!(_e=Q.n()).done;){var me=_e.value;me.status=B.SUCCESS,this.emit("success",me,D,H),this.emit("complete",me)}}catch(Pe){Q.e(Pe)}finally{Q.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",C,D,H),this.emit("completemultiple",C)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(C,D,H){var _e,Q=tt(C,!0);try{for(Q.s();!(_e=Q.n()).done;){var me=_e.value;me.status=B.ERROR,this.emit("error",me,D,H),this.emit("complete",me)}}catch(Pe){Q.e(Pe)}finally{Q.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",C,D,H),this.emit("completemultiple",C)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=ae,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(C){for(var D=arguments.length,H=new Array(D>1?D-1:0),Q=1;Q<D;Q++)H[Q-1]=arguments[Q];for(var _e=0,me=H;_e<me.length;_e++){var Pe=me[_e];for(var We in Pe)C[We]=Pe[We]}return C}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){var D=16*Math.random()|0;return("x"===C?D:3&D|8).toString(16)})}}]),B}(ae);Te.initClass(),Te.version="5.9.3",Te.options={},Te.optionsForElement=function(W){if(W.getAttribute("id"))return Te.options[ut(W.getAttribute("id"))]},Te.instances=[],Te.forElement=function(W){if("string"==typeof W&&(W=document.querySelector(W)),null==W?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return W.dropzone},Te.autoDiscover=!0,Te.discover=function(){var W;if(document.querySelectorAll)W=document.querySelectorAll(".dropzone");else{W=[];var X=function(U){return function(){var H,C=[],D=tt(U,!0);try{for(D.s();!(H=D.n()).done;){var Q=H.value;/(^| )dropzone($| )/.test(Q.className)?C.push(W.push(Q)):C.push(void 0)}}catch(_e){D.e(_e)}finally{D.f()}return C}()};X(document.getElementsByTagName("div")),X(document.getElementsByTagName("form"))}return function(){var C,B=[],U=tt(W,!0);try{for(U.s();!(C=U.n()).done;){var D=C.value;!1!==Te.optionsForElement(D)?B.push(new Te(D)):B.push(void 0)}}catch(H){U.e(H)}finally{U.f()}return B}()},Te.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Te.isBrowserSupported=function(){var W=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==Te.blacklistedBrowsers&&(Te.blockedBrowsers=Te.blacklistedBrowsers);var B,X=tt(Te.blockedBrowsers,!0);try{for(X.s();!(B=X.n()).done;)B.value.test(navigator.userAgent)&&(W=!1)}catch(C){X.e(C)}finally{X.f()}}else W=!1;else W=!1;return W},Te.dataURItoBlob=function(W){for(var X=atob(W.split(",")[1]),B=W.split(",")[0].split(":")[1].split(";")[0],U=new ArrayBuffer(X.length),C=new Uint8Array(U),D=0,H=X.length,Q=0<=H;Q?D<=H:D>=H;Q?D++:D--)C[D]=X.charCodeAt(D);return new Blob([U],{type:B})};var qe=function(X,B){return X.filter(function(U){return U!==B}).map(function(U){return U})},ut=function(X){return X.replace(/[\-_](\w)/g,function(B){return B.charAt(1).toUpperCase()})};Te.createElement=function(W){var X=document.createElement("div");return X.innerHTML=W,X.childNodes[0]},Te.elementInside=function(W,X){if(W===X)return!0;for(;W=W.parentNode;)if(W===X)return!0;return!1},Te.getElement=function(W,X){var B;if("string"==typeof W?B=document.querySelector(W):null!=W.nodeType&&(B=W),null==B)throw new Error("Invalid `".concat(X,"` option provided. Please provide a CSS selector or a plain HTML element."));return B},Te.getElements=function(W,X){var U;if(W instanceof Array){U=[];try{var D,C=tt(W,!0);try{for(C.s();!(D=C.n()).done;)U.push(this.getElement(D.value,X))}catch(_e){C.e(_e)}finally{C.f()}}catch{U=null}}else if("string"==typeof W){U=[];var Q,H=tt(document.querySelectorAll(W),!0);try{for(H.s();!(Q=H.n()).done;)U.push(Q.value)}catch(_e){H.e(_e)}finally{H.f()}}else null!=W.nodeType&&(U=[W]);if(null==U||!U.length)throw new Error("Invalid `".concat(X,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return U},Te.confirm=function(W,X,B){return window.confirm(W)?X():null!=B?B():void 0},Te.isValidFile=function(W,X){if(!X)return!0;X=X.split(",");var D,B=W.type,U=B.replace(/\/.*$/,""),C=tt(X,!0);try{for(C.s();!(D=C.n()).done;){var H=D.value;if("."===(H=H.trim()).charAt(0)){if(-1!==W.name.toLowerCase().indexOf(H.toLowerCase(),W.name.length-H.length))return!0}else if(/\/\*$/.test(H)){if(U===H.replace(/\/.*$/,""))return!0}else if(B===H)return!0}}catch(Q){C.e(Q)}finally{C.f()}return!1},typeof jQuery<"u"&&null!==jQuery&&(jQuery.fn.dropzone=function(W){return this.each(function(){return new Te(this,W)})}),Te.ADDED="added",Te.QUEUED="queued",Te.ACCEPTED=Te.QUEUED,Te.UPLOADING="uploading",Te.PROCESSING=Te.UPLOADING,Te.CANCELED="canceled",Te.ERROR="error",Te.SUCCESS="success";var vt=function(X,B,U,C,D,H,Q,_e,me,Pe){var We=function(X){var U=X.naturalHeight,C=document.createElement("canvas");C.width=1,C.height=U;var D=C.getContext("2d");D.drawImage(X,0,0);for(var Q=D.getImageData(1,0,1,U).data,_e=0,me=U,Pe=U;Pe>_e;)0===Q[4*(Pe-1)+3]?me=Pe:_e=Pe,Pe=me+_e>>1;var Se=Pe/U;return 0===Se?1:Se}(B);return X.drawImage(B,U,C,D,H,Q,_e,me,Pe/We)},Ht=function(){function W(){ee(this,W)}return he(W,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(B){for(var U="",C=void 0,D=void 0,H="",Q=void 0,_e=void 0,me=void 0,Pe="",We=0;Q=(C=B[We++])>>2,_e=(3&C)<<4|(D=B[We++])>>4,me=(15&D)<<2|(H=B[We++])>>6,Pe=63&H,isNaN(D)?me=Pe=64:isNaN(H)&&(Pe=64),U=U+this.KEY_STR.charAt(Q)+this.KEY_STR.charAt(_e)+this.KEY_STR.charAt(me)+this.KEY_STR.charAt(Pe),C=D=H="",Q=_e=me=Pe="",We<B.length;);return U}},{key:"restore",value:function(B,U){if(!B.match("data:image/jpeg;base64,"))return U;var C=this.decode64(B.replace("data:image/jpeg;base64,","")),D=this.slice2Segments(C),H=this.exifManipulation(U,D);return"data:image/jpeg;base64,".concat(this.encode64(H))}},{key:"exifManipulation",value:function(B,U){var C=this.getExifArray(U),D=this.insertExif(B,C);return new Uint8Array(D)}},{key:"getExifArray",value:function(B){for(var U=void 0,C=0;C<B.length;){if(255===(U=B[C])[0]&225===U[1])return U;C++}return[]}},{key:"insertExif",value:function(B,U){var C=B.replace("data:image/jpeg;base64,",""),D=this.decode64(C),H=D.indexOf(255,3),Q=D.slice(0,H),_e=D.slice(H),me=Q;return(me=me.concat(U)).concat(_e)}},{key:"slice2Segments",value:function(B){for(var U=0,C=[];!(255===B[U]&218===B[U+1]);){if(255===B[U]&216===B[U+1])U+=2;else{var H=U+(256*B[U+2]+B[U+3])+2,Q=B.slice(U,H);C.push(Q),U=H}if(U>B.length)break}return C}},{key:"decode64",value:function(B){var D=void 0,H="",Q=void 0,_e=void 0,me=void 0,Pe="",We=0,Se=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(B)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),B=B.replace(/[^A-Za-z0-9\+\/\=]/g,"");Q=this.KEY_STR.indexOf(B.charAt(We++)),D=(15&(_e=this.KEY_STR.indexOf(B.charAt(We++))))<<4|(me=this.KEY_STR.indexOf(B.charAt(We++)))>>2,H=(3&me)<<6|(Pe=this.KEY_STR.indexOf(B.charAt(We++))),Se.push(Q<<2|_e>>4),64!==me&&Se.push(D),64!==Pe&&Se.push(H),D=H="",Q=_e=me=Pe="",We<B.length;);return Se}}]),W}();Ht.initClass();Te._autoDiscoverFunction=function(){if(Te.autoDiscover)return Te.discover()},function(X,B){var U=!1,C=!0,D=X.document,H=D.documentElement,Q=D.addEventListener?"addEventListener":"attachEvent",_e=D.addEventListener?"removeEventListener":"detachEvent",me=D.addEventListener?"":"on",Pe=function Se(Ve){if(("readystatechange"!==Ve.type||"complete"===D.readyState)&&(("load"===Ve.type?X:D)[_e](me+Ve.type,Se,!1),!U&&(U=!0)))return B.call(X,Ve.type||Ve)};if("complete"!==D.readyState){if(D.createEventObject&&H.doScroll){try{C=!X.frameElement}catch{}C&&function Se(){try{H.doScroll("left")}catch{return void setTimeout(Se,50)}return Pe("poll")}()}D[Q](me+"DOMContentLoaded",Pe,!1),D[Q](me+"readystatechange",Pe,!1),X[Q](me+"load",Pe,!1)}}(window,Te._autoDiscoverFunction),window.Dropzone=Te;var qt=Te}(),A}()},5240:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"sv",weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekStart:1,yearStart:4,ordinal:function(e){var c=e%10;return"["+e+(1===c||2===c?"a":"e")+"]"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"}};return p.default.locale(g,null,!0),g}(m(9645))},5416:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"it",weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"\xba"}};return p.default.locale(g,null,!0),g}(m(9645))},5555:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"lb",weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),weekStart:1,weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"}};return p.default.locale(g,null,!0),g}(m(9645))},5593:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(b),g="\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),e="\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),c=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(f,_,y){var w,x;return"m"===y?_?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===y?_?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":f+" "+(w=+f,x={ss:_?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:_?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:_?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[y].split("_"),w%10==1&&w%100!=11?x[0]:w%10>=2&&w%10<=4&&(w%100<10||w%100>=20)?x[1]:x[2])}var d=function(f,_){return c.test(_)?g[f.month()]:e[f.month()]};d.s=e,d.f=g;var h={name:"uk",weekdays:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0434\u043b_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:d,monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekStart:1,relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",m:l,mm:l,h:l,hh:l,d:"\u0434\u0435\u043d\u044c",dd:l,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:l,y:"\u0440\u0456\u043a",yy:l},ordinal:function(f){return f},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"}};return p.default.locale(h,null,!0),h}(m(9645))},5675:(ge,fe,m)=>{"use strict";m.d(fe,{J:()=>b});const b={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"}},5970:(ge,fe,m)=>{"use strict";m.d(fe,{AJ:()=>e,K3:()=>h,Yb:()=>c,a2:()=>A,j5:()=>d,jk:()=>g,si:()=>b,tC:()=>f,wB:()=>l,zD:()=>p});const b="Field.Settings.",A={Disabled:`${b}Disabled`,Name:`${b}Name`,Notes:`${b}Notes`,Required:`${b}Required`,Value:"Field.Value",Visible:`${b}Visible`,Validation:"Field.Validation"},p=Object.values(A),g={Options:"Field.Options",Selected:"Field.Selected"},e=Object.values(g),c=[g.Options,g.Selected],l=[g.Options,g.Selected],d={Collapsed:`${b}Collapsed`,DropdownValues:`${b}DropdownValues`},h=Object.values(d),f={...A,...d,...g}},6001:(ge,fe,m)=>{"use strict";m.d(fe,{A:()=>e});var b=m(1612),A=m(4435),p=m(6632),g=m(1659);let e=(()=>{class c extends p.r{constructor(){super((0,A.Tq)({InputTypeService:c},null)),this.getId=d=>d.Type}getAttributeInputTypes(d){const h=this.getAll();return d.map(f=>{const _=this.getSpecsInternal(f,h);return{name:f.Name,inputType:_.inputType}})}getSpecs(d){return this.getSpecsInternal(d,this.getAll())}getSpecsInternal(d,h){const f=h.find(x=>x.Type===d.InputType),_=d.InputType,y=_.toString();return{inputType:_,isExternal:!!f?.AngularAssets,mustUseGuid:!y.startsWith("string")&&!y.startsWith("number"),componentTagName:`field-${_}`,componentTagDialogName:`field-${_}-dialog`,metadata:f,isNewPicker:b.Q.isNewPicker(_)}}static{this.\u0275fac=function(h){return new(h||c)}}static{this.\u0275prov=g.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},6058:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b),g={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(l,d,h){var f=g[h];return Array.isArray(f)&&(f=f[d?0:1]),f.replace("%d",l)}var c={name:"de-at",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return p.default.locale(c,null,!0),c}(m(9645))},6155:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b);function g(l){return l>1&&l<5&&1!=~~(l/10)}function e(l,d,h,f){var _=l+" ";switch(h){case"s":return d||f?"p\xe1r sekund":"p\xe1r sekundami";case"m":return d?"minuta":f?"minutu":"minutou";case"mm":return d||f?_+(g(l)?"minuty":"minut"):_+"minutami";case"h":return d?"hodina":f?"hodinu":"hodinou";case"hh":return d||f?_+(g(l)?"hodiny":"hodin"):_+"hodinami";case"d":return d||f?"den":"dnem";case"dd":return d||f?_+(g(l)?"dny":"dn\xed"):_+"dny";case"M":return d||f?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return d||f?_+(g(l)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):_+"m\u011bs\xedci";case"y":return d||f?"rok":"rokem";case"yy":return d||f?_+(g(l)?"roky":"let"):_+"lety"}}var c={name:"cs",weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),months:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),monthsShort:"led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),weekStart:1,yearStart:4,ordinal:function(l){return l+"."},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return p.default.locale(c,null,!0),c}(m(9645))},6177:(ge,fe,m)=>{"use strict";m.d(fe,{x:()=>A});var b=m(5675);class A{static getTranslationStateClass(g){switch(g){case b.J.MissingDefaultLangValue:return"localization-missing-default-lang-value";case b.J.Translate:case b.J.LinkCopyFrom:return"localization-translate";case b.J.DontTranslate:return"";case b.J.LinkReadOnly:return"localization-link-read-only";case b.J.LinkReadWrite:return"localization-link-read-write";default:return""}}static calculateSharedInfoMessage(g,e){g=A.calculateShortDimensions(g,e);const c=A.calculateEditAndReadDimensions(g),l=c.editableDimensions,d=c.readOnlyDimensions;let h="";const f=l.length>0,_=d.length>0;return f&&_?h=`${l.join(", ")}, (${d.join(", ")})`:f?h=l.join(", "):_&&(h=`(${d.join(", ")})`),h}static calculateShortDimensions(g,e){const c={},l=e.slice(0,e.indexOf("-"));return c[l]=[l],g.forEach(d=>{const f=d.slice(0,d.indexOf("-")).replace("~","");c[f]?c[f].push(d):c[f]=[d]}),g.map(d=>{const h=d.slice(0,d.indexOf("-")),f=h.replace("~","");return c[f].length>1?d:h})}static calculateEditAndReadDimensions(g){return{editableDimensions:[],readOnlyDimensions:g.map(e=>e.replace("~",""))}}}},6344:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(w){return w&&"object"==typeof w&&"default"in w?w:{default:w}}(b),g="\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),e="\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),c="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),l="\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),d=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function h(w,x,T){var I,j;return"m"===T?x?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":w+" "+(I=+w,j={mm:x?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[T].split("_"),I%10==1&&I%100!=11?j[0]:I%10>=2&&I%10<=4&&(I%100<10||I%100>=20)?j[1]:j[2])}var f=function(w,x){return d.test(x)?g[w.month()]:e[w.month()]};f.s=e,f.f=g;var _=function(w,x){return d.test(x)?c[w.month()]:l[w.month()]};_.s=l,_.f=c;var y={name:"ru",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u0432\u0441\u043a_\u043f\u043d\u0434_\u0432\u0442\u0440_\u0441\u0440\u0434_\u0447\u0442\u0432_\u043f\u0442\u043d_\u0441\u0431\u0442".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),months:f,monthsShort:_,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:h,mm:h,h:"\u0447\u0430\u0441",hh:h,d:"\u0434\u0435\u043d\u044c",dd:h,M:"\u043c\u0435\u0441\u044f\u0446",MM:h,y:"\u0433\u043e\u0434",yy:h},ordinal:function(w){return w},meridiem:function(w){return w<4?"\u043d\u043e\u0447\u0438":w<12?"\u0443\u0442\u0440\u0430":w<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"}};return p.default.locale(y,null,!0),y}(m(9645))},6361:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"ms",weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH.mm",LLLL:"dddd, D MMMM YYYY HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return p.default.locale(g,null,!0),g}(m(9645))},6567:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(h){return h&&"object"==typeof h&&"default"in h?h:{default:h}}(b),g="sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),e="sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),c=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/,l=function(h,f){return c.test(f)?g[h.month()]:e[h.month()]};l.s=e,l.f=g;var d={name:"hr",weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),months:l,monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},relativeTime:{future:"za %s",past:"prije %s",s:"sekunda",m:"minuta",mm:"%d minuta",h:"sat",hh:"%d sati",d:"dan",dd:"%d dana",M:"mjesec",MM:"%d mjeseci",y:"godina",yy:"%d godine"},ordinal:function(h){return h+"."}};return p.default.locale(d,null,!0),d}(m(9645))},6626:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}(b),g={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function e(l,d,h){var f=g[h];return Array.isArray(f)&&(f=f[d?0:1]),f.replace("%d",l)}var c={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e}};return p.default.locale(c,null,!0),c}(m(9645))},6795:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"tr",weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e){return e+"."}};return p.default.locale(g,null,!0),g}(m(9645))},6849:(ge,fe,m)=>{"use strict";m.d(fe,{n:()=>c});var b=m(4813),A=m(9765),p=m(6632),g=m(4435),e=m(1659);let c=(()=>{class l extends p.r{constructor(){super((0,g.Tq)({ContentTypeService:l})),this.getId=h=>h.Id}addContentTypes(h){const f=b._.convertMany(h);this.addMany(f)}getContentTypeOfItem(h){const f=A.i.getContentTypeNameId(h);return this.get(f)}getAttribute(h,f){return this.get(h).Attributes.find(_=>_.Name===f)}getAttributeOfItem(h,f){return this.getContentTypeOfItem(h).Attributes.find(_=>_.Name===f)}static{this.\u0275fac=function(f){return new(f||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},6886:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"hu",weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),ordinal:function(e){return e+"."},weekStart:1,relativeTime:{future:"%s m\xfalva",past:"%s",s:function(e,c,l,d){return"n\xe9h\xe1ny m\xe1sodperc"+(d||c?"":"e")},m:function(e,c,l,d){return"egy perc"+(d||c?"":"e")},mm:function(e,c,l,d){return e+" perc"+(d||c?"":"e")},h:function(e,c,l,d){return"egy "+(d||c?"\xf3ra":"\xf3r\xe1ja")},hh:function(e,c,l,d){return e+" "+(d||c?"\xf3ra":"\xf3r\xe1ja")},d:function(e,c,l,d){return"egy "+(d||c?"nap":"napja")},dd:function(e,c,l,d){return e+" "+(d||c?"nap":"napja")},M:function(e,c,l,d){return"egy "+(d||c?"h\xf3nap":"h\xf3napja")},MM:function(e,c,l,d){return e+" "+(d||c?"h\xf3nap":"h\xf3napja")},y:function(e,c,l,d){return"egy "+(d||c?"\xe9v":"\xe9ve")},yy:function(e,c,l,d){return e+" "+(d||c?"\xe9v":"\xe9ve")}},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"}};return p.default.locale(g,null,!0),g}(m(9645))},7149:(ge,fe,m)=>{"use strict";m.d(fe,{E:()=>c,J:()=>e});var b=m(9074),A=m(5797),p=m(1659),g=m(3347);let e=(()=>{class l{constructor(h){this.snackBar=h,this.logs$=new A.t([]),this.logLimit=50,this.lastSnackBarTime=0,this.snackBarDebounce=1e4}ngOnDestroy(){this.logs$.complete()}addLog(h,f,_){const x=[{error:_,label:f,severity:h,time:Date.now()},...this.logs$.value.slice(0,this.logLimit-2)];this.logs$.next(x)}showMessage(h,f,_){const y=Date.now();!_&&y-this.lastSnackBarTime<=this.snackBarDebounce||(null!=f&&f>0?this.snackBar.open(h,null,{duration:f}):this.snackBar.open(h),this.lastSnackBarTime=y)}getLogs$(){return this.logs$.asObservable()}getLogsSignal(){return(0,b.ot)(this.logs$)}static{this.\u0275fac=function(f){return new(f||l)(p.KVO(g.UG))}}static{this.\u0275prov=p.jDH({token:l,factory:l.\u0275fac})}}return l})();const c={Error:"error",Log:"log",Warn:"warn"}},7167:(ge,fe,m)=>{"use strict";m.d(fe,{L:()=>l});var b=m(8172),A=m(8798),p=m(1659);let l=(()=>{class d{constructor(){}#e=new A.Yz("user-language");#t(f,_){const y=this.#i()?.["ui"==f?"languageUi":"languageForm"];return y?.endsWith("!")?{language:y.slice(0,-1),force:!0}:{language:this.stored(f)??y??_,force:!1}}value(f){return this.#t(f).language}stored(f){return this.#e.get(f)||null}save(f,_){this.#e.add(f,_||null)}uiCode(f){return this.#t("ui",f)?.language?.toLocaleLowerCase().split("-")[0]}isForced(f){return this.#t(f)?.force}userConfigurable(){const f=this.#i()?.languageUserSettings;return!1!==f&&"false"!==f}#i(){if(this.#n)return this.#n;const f=sessionStorage.getItem(b.QR);return f?this.#n=JSON.parse(f):null}#n;static{this.\u0275fac=function(_){return new(_||d)}}static{this.\u0275prov=p.jDH({token:d,factory:d.\u0275fac})}}return d})()},7416:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return p.default.locale(g,null,!0),g}(m(9645))},7426:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"hi",weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"}};return p.default.locale(g,null,!0),g}(m(9645))},7706:(ge,fe,m)=>{"use strict";m.d(fe,{q:()=>h});var b=m(1612),A=m(4435),p=m(6740),g=m(4031),e=m(6177),c=m(7314),l=m(5675);const d={all:!1,mergeGenericSettings:!0,getDefaultSettings:!1,fields:[...p.z,"GroupPreview"]};class h{constructor(y){this.log=(0,A.Tq)({FieldsSettingsHelpers:h},d)}mergeGenericSettings(y,w){const x=this.log.fnIfInList("mergeGenericSettings","fields",y,{fieldName:y,settings:w}),T=w;if(null==T.SettingsGeneric)return x.r(w,"No generic settings");try{const I=JSON.parse(T.SettingsGeneric);return x.r({...w,...I},"Merged generic settings")}catch(I){return console.error("mergeGenericSettings",I),x.r(w,"Error parsing generic settings")}}getDefaultSettings(y){const w=f.moveDeprecatedSettings({...y});w.Name??="",w.Placeholder??="",w.Notes??="",w.Required??=!1,w.Disabled??=!1,w.DisableTranslation??=!1,w.Visible??=!0,null!=w.DefaultCollapsed&&(w.Collapsed=w.DefaultCollapsed,delete w.DefaultCollapsed),w.Formulas??=[];let x=g.y.singleton().get(y.InputType);return w.DisableAutoTranslation??=!x?.canAutoTranslate,w}isLastInGroup(y,w){const x=y.Attributes.indexOf(w);return null==y.Attributes[x+1]||!(x<y.Attributes.findIndex(I=>b.Q.isGroupStart(I.InputType))||!b.Q.isGroupEnd(w.InputType)&&!b.Q.endsPreviousGroup(y.Attributes[x+1].InputType))}getDisabledBecauseTranslations(y,w,x){const T=new c.U(y,x);return!(x.current===x.primary||T.hasPrimary&&!w&&T.hasEditableValues)}getTranslationState(y,w,x,T){let I,j;T&&this.log.fn("getTranslationState",{attributeValues:y,disableTranslation:w,language:x});const K=new c.U(y,x);if(w)I="LangMenu.InAllLanguages",j="";else if(K.hasPrimary){const E=K.hasEditableValues,$=K.hasCurrentReadonly;if(E||$){const z=K.current.Dimensions.map(M=>M.Value).filter(M=>!M.includes(x.current));z.length>0?(E?I="LangMenu.In":$&&(I="LangMenu.From"),j=e.x.calculateSharedInfoMessage(z,x.current)):(I="",j="")}else I="LangMenu.UseDefault",j=""}else I="LangMenu.MissingDefaultLangValue",j=x.primary;const L=this.#e(y,w,x);return{infoLabel:I,infoMessage:j,language:L.language,linkType:L.linkType}}#e(y,w,x){const T=new c.U(y,x);if(!T.hasPrimary)return{language:"",linkType:l.J.MissingDefaultLangValue};if(w)return{language:"",linkType:l.J.DontTranslate};if(T.hasEditableValues){const I=T.current.Dimensions.filter(j=>j.Value!==x.current);return I.length>0?{language:I[0].Value,linkType:l.J.LinkReadWrite}:{language:"",linkType:l.J.Translate}}return T.hasCurrentReadonly?{language:T.current.Dimensions.filter(j=>j.Value!==x.current)[0].Value,linkType:l.J.LinkReadOnly}:{language:"",linkType:l.J.DontTranslate}}}class f{static moveDeprecatedSettings(y){var w=y;return null==w.VisibleInEditUI||(y.Visible=w.VisibleInEditUI,delete w.VisibleInEditUI),y}}},8003:(ge,fe,m)=>{"use strict";m.d(fe,{d:()=>c});var b=m(1726),A=m(4202),p=m(4435);const e={all:!1,v1:!1,v2:!1,allValues:!0,oneValue:!0,fields:[...m(6740).z]};class c{constructor(h,f,_,y,w){this.fieldName=h,this.isValue=f,this.inputType=_,this.isOpen=y,this.valueMapper=w,this.log=(0,p.Tq)({FormulaValueCorrections:c},e)}v1(h){const f=h&&Array.isArray(h)&&h.every(w=>"string"==typeof w);if(!(["string","number","boolean"].includes(typeof h)||h instanceof Date||f)&&h)return{ok:!1,v1Result:this.toFormulaResult(void 0)};const y=this.isValue?this.#e(h):h;return{ok:!0,v1Result:this.toFormulaResult(y)}}v2(h){return{...this.allValues(h),openInDesigner:this.isOpen}}allValues(h){const f=this.log.fnIfInList("allValues","fields",this.fieldName,{result:h}),_={value:void 0,fields:[],stop:null,sleep:null};if(null==h)return f.r({..._,value:h},"null/empty");const y=this.isValue;if(Array.isArray(h))return console.warn("Formula result was an array - this is not allowed. Please return an object containing the array instead: { value: [...] }.",h),f.r(_,"array");if("object"==typeof h){if(h instanceof Date&&y)return f.r({..._,value:this.#e(h)},"date");if(h instanceof Promise)return f.r({..._,value:void 0,promise:h},"promise");const x=h;return x.stop??=null,x.sleep??=null,x.value&&y&&(x.value=Array.isArray(x.value)?this.valueMapper?.toState(x.value)??x.value:this.#e(x.value)),x.fields&&(x.fields=x.fields?.map(T=>(T.value=this.#e(T.value),T))),x.options&&(Array.isArray(x.options)?x.options.length>0&&(x.options.find(T=>!T||null==T.value)&&(console.error("some options are missing value",x.options),x.options=[]),function l(d){var h=d.map(_=>_.value),f=new Set(h);return h.length!==f.size&&(console.error("Duplicate values in options",d),!0)}(x.options)&&(console.error("duplicate values in options",x.options),x.options=[])):(console.error("options is not an array",x.options),x.options=[])),f.r(x,"object")}const w={value:h};return y?f.r({..._,value:this.#e(w.value)},"non-object, value"):f.r(w,"non-object, non-value")}#e(h){if(null==h)return h;const f=this.inputType.inputType;if(f===A.u.DateTimeDefault||h instanceof Date){const _=new Date(h);return!("string"==typeof h&&h.endsWith("Z"))&&_.getTime()!==h&&_.setTime(_.getTime()-6e4*_.getTimezoneOffset()),_.setMilliseconds(0),_.toJSON()}return"string"!=typeof h&&(f?.startsWith(b.O.String.toLocaleLowerCase())||f?.startsWith(b.O.Hyperlink.toLocaleLowerCase()))?h.toString():h}toFormulaResult(h){return{value:h,fields:[],stop:null,sleep:null,openInDesigner:this.isOpen}}}},8214:function(ge){ge.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var m=["th","st","nd","rd"],b=fe%100;return"["+fe+(m[(b-20)%10]||m[b]||m[0])+"]"}}}()},8224:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"pa-in",weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"}};return p.default.locale(g,null,!0),g}(m(9645))},8394:(ge,fe,m)=>{"use strict";m.d(fe,{g:()=>A});var b=m(3626);class A{static convertOne(g){const e=b.h.convert(g.Attributes),c=this.convertMany(g.Metadata);return{Attributes:e,Guid:g.Guid,Id:g.Id,Owner:g.Owner,Type:g.Type,Version:g.Version,For:g.For,Metadata:c}}static convertMany(g){return null==g?null:g.map(c=>A.convertOne(c))}}},8403:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinal:function(e){return e+"\xba"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return p.default.locale(g,null,!0),g}(m(9645))},8470:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"pt-br",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return p.default.locale(g,null,!0),g}(m(9645))},8537:(ge,fe,m)=>{"use strict";m.d(fe,{R:()=>f});var b=m(2645),A=m(3942),p=m(1365),g=m(8830),e=m(1530),c=m(8067);const l=["addListener","removeListener"],d=["addEventListener","removeEventListener"],h=["on","off"];function f(T,I,j,K){if((0,e.T)(j)&&(K=j,j=void 0),K)return f(T,I,j).pipe((0,c.I)(K));const[L,V]=function x(T){return(0,e.T)(T.addEventListener)&&(0,e.T)(T.removeEventListener)}(T)?d.map(E=>$=>T[E](I,$,j)):function y(T){return(0,e.T)(T.addListener)&&(0,e.T)(T.removeListener)}(T)?l.map(_(T,I)):function w(T){return(0,e.T)(T.on)&&(0,e.T)(T.off)}(T)?h.map(_(T,I)):[];if(!L&&(0,g.X)(T))return(0,p.Z)(E=>f(E,I,j))((0,b.Tg)(T));if(!L)throw new TypeError("Invalid event target");return new A.c(E=>{const $=(...z)=>E.next(1<z.length?z:z[0]);return L($),()=>V($)})}function _(T,I){return j=>K=>T[j](I,K)}},8656:(ge,fe,m)=>{"use strict";m.d(fe,{i:()=>e});var b=m(1659),A=m(4435),p=m(8798);const g="user-settings";let e=(()=>{class l{constructor(){this.log=(0,A.Tq)({UserPreferences:l}),this.#n={},this.log.fn("constructor")}get local(){return this.#e??=new p.Yz(g)}#e;get session(){return this.#t??=new p.pj(g)}#t;get(h,f=!1){return(f?this.local:this.session).get(h)}set(h,f,_=!1){(_?this.local:this.session).add(h,f)}part({key:h,data:f}){return this.#i(h,f,!0)}#i(h,f,_=!1){if(this.#n[h])return this.#n[h];const y=new c(this,h,f,_);return this.#n[h]=y,y}#n;static{this.\u0275fac=function(f){return new(f||l)}}static{this.\u0275prov=b.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();class c{constructor(d,h,f,_=!1){this.userSettings=d,this.storeKey=h,this.longTerm=_,this.log=(0,A.Tq)({UserPreferencesPart:c});const y={...f,...d.get(h,_)};this.log.fn("constructor",y),this.#e=(0,b.vPA)(y)}#e;get snapshot(){return this.#e()}get data(){return this.#e.asReadonly()}get(d){return this.#e()[d]}set(d,h){this.#e.update(f=>({...f,[d]:h})),this.#t()}toggle(d){this.#e.update(h=>({...h,[d]:!h[d]})),this.#t()}setAll(d){this.#e.set(d),this.#t()}setMany(d){this.#e.update(h=>({...h,...d})),this.#t()}#t(){const d=this.#e();this.log.fn("save",d),this.userSettings.set(this.storeKey,this.#e(),this.longTerm)}}},9163:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"zh",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,c){return"W"===c?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,c){var l=100*e+c;return l<600?"\u51cc\u6668":l<900?"\u65e9\u4e0a":l<1100?"\u4e0a\u5348":l<1300?"\u4e2d\u5348":l<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return p.default.locale(g,null,!0),g}(m(9645))},9193:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"jv",weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),weekStart:1,weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),ordinal:function(e){return e},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"}};return p.default.locale(g,null,!0),g}(m(9645))},9234:(ge,fe,m)=>{"use strict";m.d(fe,{Gg:()=>y,Tr:()=>w,gb:()=>_});var b=m(1567),A=m(6647),p=m(6301),g=m(271),e=m(2938),c=m(4435),l=m(6474),d=m(4839),h=m(1659);const f={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},_="admin/entity/",y="admin/entity/list";let w=(()=>{class x extends l.D{constructor(){super(...arguments),this.log=(0,c.Tq)({EntityService:x},f),this.queryService=(0,e.d)(d.c)}getEntities$(I){return this.log.fnIf("getEntities"),I.pipe((0,b.p)(j=>null!=j),(0,A.n)(j=>this.getAvailableEntities(j.contentTypeName).pipe((0,p.t)(1))))}getAvailableEntities(I,j){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[I],itemIds:j,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,g.T)(L=>L.Default))}delete(I,j,K,L,V,E){return this.log.fnIf("delete",{appId:I,contentType:j,entityId:K,force:L,parentId:V,parent}),this.http.delete(this.apiUrl(_+"delete"),{params:{contentType:j,id:K.toString(),appId:I,force:L.toString(),...V&&{parentId:V.toString()},...V&&E&&{parentField:E}}})}static{this.\u0275fac=(()=>{let I;return function(K){return(I||(I=h.xGo(x)))(K||x)}})()}static{this.\u0275prov=h.jDH({token:x,factory:x.\u0275fac})}}return x})()},9645:function(ge){ge.exports=function(){"use strict";var m=6e4,b=36e5,A="millisecond",p="second",g="minute",e="hour",c="day",l="week",d="month",h="quarter",f="year",_="date",y="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var F=["th","st","nd","rd"],Y=S%100;return"["+S+(F[(Y-20)%10]||F[Y]||F[0])+"]"}},I=function(S,F,Y){var q=String(S);return!q||q.length>=F?S:""+Array(F+1-q.length).join(Y)+S},j={s:I,z:function(S){var F=-S.utcOffset(),Y=Math.abs(F),q=Math.floor(Y/60),J=Y%60;return(F<=0?"+":"-")+I(q,2,"0")+":"+I(J,2,"0")},m:function S(F,Y){if(F.date()<Y.date())return-S(Y,F);var q=12*(Y.year()-F.year())+(Y.month()-F.month()),J=F.clone().add(q,d),de=Y-J<0,Me=F.clone().add(q+(de?-1:1),d);return+(-(q+(Y-J)/(de?J-Me:Me-J))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:f,w:l,d:c,D:_,h:e,m:g,s:p,ms:A,Q:h}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return void 0===S}},K="en",L={};L[K]=T;var V="$isDayjsObject",E=function(S){return S instanceof M||!(!S||!S[V])},$=function S(F,Y,q){var J;if(!F)return K;if("string"==typeof F){var de=F.toLowerCase();L[de]&&(J=de),Y&&(L[de]=Y,J=de);var Me=F.split("-");if(!J&&Me.length>1)return S(Me[0])}else{var ke=F.name;L[ke]=F,J=ke}return!q&&J&&(K=J),J||!q&&K},z=function(S,F){if(E(S))return S.clone();var Y="object"==typeof F?F:{};return Y.date=S,Y.args=arguments,new M(Y)},N=j;N.l=$,N.i=E,N.w=function(S,F){return z(S,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var M=function(){function S(Y){this.$L=$(Y.locale,null,!0),this.parse(Y),this.$x=this.$x||Y.x||{},this[V]=!0}var F=S.prototype;return F.parse=function(Y){this.$d=function(q){var J=q.date,de=q.utc;if(null===J)return new Date(NaN);if(N.u(J))return new Date;if(J instanceof Date)return new Date(J);if("string"==typeof J&&!/Z$/i.test(J)){var Me=J.match(w);if(Me){var ke=Me[2]-1||0,$e=(Me[7]||"0").substring(0,3);return de?new Date(Date.UTC(Me[1],ke,Me[3]||1,Me[4]||0,Me[5]||0,Me[6]||0,$e)):new Date(Me[1],ke,Me[3]||1,Me[4]||0,Me[5]||0,Me[6]||0,$e)}}return new Date(J)}(Y),this.init()},F.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},F.$utils=function(){return N},F.isValid=function(){return this.$d.toString()!==y},F.isSame=function(Y,q){var J=z(Y);return this.startOf(q)<=J&&J<=this.endOf(q)},F.isAfter=function(Y,q){return z(Y)<this.startOf(q)},F.isBefore=function(Y,q){return this.endOf(q)<z(Y)},F.$g=function(Y,q,J){return N.u(Y)?this[q]:this.set(J,Y)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(Y,q){var J=this,de=!!N.u(q)||q,Me=N.p(Y),ke=function(be,ye){var Be=N.w(J.$u?Date.UTC(J.$y,ye,be):new Date(J.$y,ye,be),J);return de?Be:Be.endOf(c)},$e=function(be,ye){return N.w(J.toDate()[be].apply(J.toDate("s"),(de?[0,0,0,0]:[23,59,59,999]).slice(ye)),J)},Ie=this.$W,pe=this.$M,Oe=this.$D,Z="set"+(this.$u?"UTC":"");switch(Me){case f:return de?ke(1,0):ke(31,11);case d:return de?ke(1,pe):ke(0,pe+1);case l:var O=this.$locale().weekStart||0,se=(Ie<O?Ie+7:Ie)-O;return ke(de?Oe-se:Oe+(6-se),pe);case c:case _:return $e(Z+"Hours",0);case e:return $e(Z+"Minutes",1);case g:return $e(Z+"Seconds",2);case p:return $e(Z+"Milliseconds",3);default:return this.clone()}},F.endOf=function(Y){return this.startOf(Y,!1)},F.$set=function(Y,q){var J,de=N.p(Y),Me="set"+(this.$u?"UTC":""),ke=(J={},J[c]=Me+"Date",J[_]=Me+"Date",J[d]=Me+"Month",J[f]=Me+"FullYear",J[e]=Me+"Hours",J[g]=Me+"Minutes",J[p]=Me+"Seconds",J[A]=Me+"Milliseconds",J)[de],$e=de===c?this.$D+(q-this.$W):q;if(de===d||de===f){var Ie=this.clone().set(_,1);Ie.$d[ke]($e),Ie.init(),this.$d=Ie.set(_,Math.min(this.$D,Ie.daysInMonth())).$d}else ke&&this.$d[ke]($e);return this.init(),this},F.set=function(Y,q){return this.clone().$set(Y,q)},F.get=function(Y){return this[N.p(Y)]()},F.add=function(Y,q){var J,de=this;Y=Number(Y);var Me=N.p(q),ke=function(pe){var Oe=z(de);return N.w(Oe.date(Oe.date()+Math.round(pe*Y)),de)};if(Me===d)return this.set(d,this.$M+Y);if(Me===f)return this.set(f,this.$y+Y);if(Me===c)return ke(1);if(Me===l)return ke(7);var $e=(J={},J[g]=m,J[e]=b,J[p]=1e3,J)[Me]||1,Ie=this.$d.getTime()+Y*$e;return N.w(Ie,this)},F.subtract=function(Y,q){return this.add(-1*Y,q)},F.format=function(Y){var q=this,J=this.$locale();if(!this.isValid())return J.invalidDate||y;var de=Y||"YYYY-MM-DDTHH:mm:ssZ",Me=N.z(this),ke=this.$H,$e=this.$m,Ie=this.$M,pe=J.weekdays,Oe=J.months,O=function(ye,Be,De,Ue){return ye&&(ye[Be]||ye(q,de))||De[Be].slice(0,Ue)},se=function(ye){return N.s(ke%12||12,ye,"0")},be=J.meridiem||function(ye,Be,De){var Ue=ye<12?"AM":"PM";return De?Ue.toLowerCase():Ue};return de.replace(x,function(ye,Be){return Be||function(De){switch(De){case"YY":return String(q.$y).slice(-2);case"YYYY":return N.s(q.$y,4,"0");case"M":return Ie+1;case"MM":return N.s(Ie+1,2,"0");case"MMM":return O(J.monthsShort,Ie,Oe,3);case"MMMM":return O(Oe,Ie);case"D":return q.$D;case"DD":return N.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return O(J.weekdaysMin,q.$W,pe,2);case"ddd":return O(J.weekdaysShort,q.$W,pe,3);case"dddd":return pe[q.$W];case"H":return String(ke);case"HH":return N.s(ke,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return be(ke,$e,!0);case"A":return be(ke,$e,!1);case"m":return String($e);case"mm":return N.s($e,2,"0");case"s":return String(q.$s);case"ss":return N.s(q.$s,2,"0");case"SSS":return N.s(q.$ms,3,"0");case"Z":return Me}return null}(ye)||Me.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(Y,q,J){var de,Me=this,ke=N.p(q),$e=z(Y),Ie=($e.utcOffset()-this.utcOffset())*m,pe=this-$e,Oe=function(){return N.m(Me,$e)};switch(ke){case f:de=Oe()/12;break;case d:de=Oe();break;case h:de=Oe()/3;break;case l:de=(pe-Ie)/6048e5;break;case c:de=(pe-Ie)/864e5;break;case e:de=pe/b;break;case g:de=pe/m;break;case p:de=pe/1e3;break;default:de=pe}return J?de:N.a(de)},F.daysInMonth=function(){return this.endOf(d).$D},F.$locale=function(){return L[this.$L]},F.locale=function(Y,q){if(!Y)return this.$L;var J=this.clone(),de=$(Y,q,!0);return de&&(J.$L=de),J},F.clone=function(){return N.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},S}(),k=M.prototype;return z.prototype=k,[["$ms",A],["$s",p],["$m",g],["$H",e],["$W",c],["$M",d],["$y",f],["$D",_]].forEach(function(S){k[S[1]]=function(F){return this.$g(F,S[0],S[1])}}),z.extend=function(S,F){return S.$i||(S(F,M,z),S.$i=!0),z},z.locale=$,z.isDayjs=E,z.unix=function(S){return z(1e3*S)},z.en=L[K],z.Ls=L,z.p={},z}()},9718:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(d){return d&&"object"==typeof d&&"default"in d?d:{default:d}}(b),g="\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},c={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},l={name:"ar",weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),months:g,monthsShort:g,weekStart:6,meridiem:function(d){return d>12?"\u0645":"\u0635"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",m:"\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",yy:"%d \u0623\u0639\u0648\u0627\u0645"},preparse:function(d){return d.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(h){return c[h]}).replace(/\u060c/g,",")},postformat:function(d){return d.replace(/\d/g,function(h){return e[h]}).replace(/,/g,"\u060c")},ordinal:function(d){return d},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return p.default.locale(l,null,!0),l}(m(9645))},9733:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(_){return _&&"object"==typeof _&&"default"in _?_:{default:_}}(b);function g(_){return _%10<5&&_%10>1&&~~(_/10)%10!=1}function e(_,y,w){var x=_+" ";switch(w){case"m":return y?"minuta":"minut\u0119";case"mm":return x+(g(_)?"minuty":"minut");case"h":return y?"godzina":"godzin\u0119";case"hh":return x+(g(_)?"godziny":"godzin");case"MM":return x+(g(_)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return x+(g(_)?"lata":"lat")}}var c="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),l="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),d=/D MMMM/,h=function(_,y){return d.test(y)?c[_.month()]:l[_.month()]};h.s=l,h.f=c;var f={name:"pl",weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),months:h,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),ordinal:function(_){return _+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:e,mm:e,h:e,hh:e,d:"1 dzie\u0144",dd:"%d dni",M:"miesi\u0105c",MM:e,y:"rok",yy:e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return p.default.locale(f,null,!0),f}(m(9645))},9765:(ge,fe,m)=>{"use strict";m.d(fe,{i:()=>b});class b{static getContentTypeNameId(p){return p.Entity.Type?.Id??p.Header.ContentTypeName}}},9791:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"en-ca",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ordinal:function(e){return e},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}};return p.default.locale(g,null,!0),g}(m(9645))},9869:function(ge,fe,m){ge.exports=function(b){"use strict";var p=function A(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(b),g={name:"pt",weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_Sa".split("_"),months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"\xba"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"}};return p.default.locale(g,null,!0),g}(m(9645))},9914:(ge,fe,m)=>{"use strict";m.d(fe,{$:()=>p});var b=m(1659),A=m(436);let p=(()=>{class g{constructor(c){this.sanitizer=c}transform(c){return this.sanitizer.bypassSecurityTrustHtml(c)}static{this.\u0275fac=function(l){return new(l||g)(b.rXU(A.up,16))}}static{this.\u0275pipe=b.EJ8({name:"safeHtml",type:g,pure:!0})}}return g})()},9977:(ge,fe,m)=>{"use strict";m.d(fe,{g:()=>g});var b=m(4435),A=m(6632),p=m(1659);let g=(()=>{class e extends A.r{constructor(){super((0,b.Tq)({LanguageService:e})),this.getId=l=>l.NameId.toLocaleLowerCase()}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275prov=p.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/19.03.03/dist/ng-edit/projects_eav-ui_src_app_edit_dialog_entry_edit-entry_component_ts-projects_eav-ui_src_app_sha-ddd80a.7d4539895180df28.js.map
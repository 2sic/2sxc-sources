{"version":3,"file":"projects_eav-ui_src_app_apps-management_apps-list_apps-list_component_ts-projects_eav-ui_src_-0e63a3.0657f434ec4cd3af.js","mappings":"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","names":["i0","_r1","ctx_r1","do","app","IsApp","AppsListActionsComponent","agInit","params","this","data","refresh","verb","static","t","core","VBU","selectors","standalone","features","decls","vars","consts","template","rf","ctx","AppsListActionsComponent_Conditional_2_Template","AppsListActionsComponent_Conditional_3_Template","AppsListActionsComponent_ng_template_10_Template","IsGlobal","IsInherited","lightSpeed","menu_r3","TippyDirective","MatIconModule","i1","MatBadgeModule","MatRippleModule","i2","MatMenuModule","i3","LightSpeedActionsComponent","encapsulation","AppListShowIcons","states","true","tooltip","icon","false","AppListCodeErrorIcons","clickable","getUrl","window","$2sxc","http","apiUrl","Id","$event","importApp","openChange","browseCatalog","createInheritedApp","addFromFolder","createApp","vm_r3","apps","gridOptions","_c0","fabOpen","isAddFromFolderEnabled","AppsListComponent","BaseWithChildDialogComponent","constructor","router","route","snackBar","context","dialog","viewContainerRef","changeDetectorRef","super","EavLogger","fabOpen$","BehaviorSubject","buildGridOptions","refreshApps$","Subject","inject","FeaturesService","isEnabled","FeatureNames","AppSyncWithSiteFiles","appsListService","transient","AppsListService","ModuleRegistry","registerModules","ClientSideRowModelModule","ngOnInit","appsLog","log","rxTap","apps$","pipe","startWith","undefined","switchMap","getAll","catchError","of","shareReplay","subscriptions","add","childDialogClosed$","subscribe","next","viewModel$","combineLatest","map","ngOnDestroy","complete","open","navigate","relativeTo","parent","firstChild","files","state","deleteApp","result","prompt","Name","delete","error","duration","alert","flushApp","confirm","flushCache","openLightSpeed","formUrl","convertFormToUrl","AppAdminHelpers","getLightSpeedEditParams","zoneId","openApp","toString","openLightSpeedFeatInfo","openFeatureDialog","LightSpeed","defaultGridOptions","columnDefs","ColumnDefinitions","cellRenderer","IdFieldComponent","cellRendererParams","tooltipGetter","Guid","IconShow","AgBoolIconRenderer","settings","TextWide","field","cellClass","split","sort","onCellClicked","Thumbnail","value","Character","width","Number","Boolean","headerName","filter","BooleanFilterComponent","ActionsPinnedRight3","onOpenLightspeed","openLightspeedFeatureInfo","i4","AppsListComponent_Conditional_0_Template","tmp_0_0","SxcGridModule","i5","MatDialogActions","EcoFabSpeedDialComponent","NgClass","EcoFabSpeedDialTriggerComponent","MatButtonModule","i6","i7","EcoFabSpeedDialActionsComponent","i8","RouterOutlet","AsyncPipe","DragAndDropDirective","TrueFalseComponent","trueIcon","falseIcon","reverse","_angular_core__WEBPACK_IMPORTED_MODULE_0__","WysiwygPasteFormatted","PasteImageFromClipboard","EditUiShowNotes","EditUiShowMetadataFor","NoSponsoredByToSic","EditUiTranslateWithGoogle","ContentSecurityPolicy","PermissionsByLanguage","FieldShareConfigManagement","webApiAppRoot","ImportAppService","dnnContext","file","changedName","retryOnDuplicate","formData","FormData","append","post","Messages","MessageType","FileUploadMessageTypes","Warning","folderName","Text","_angular_core__WEBPACK_IMPORTED_MODULE_4__","jDH","factory","Éµfac","AgBoolCellIconsDefault","AgBoolIconRenderer_Conditional_1_ng_container_1_Template","ctx_r0","url","showIcon_r2","allSettings","d","AgBoolIconRenderer_Conditional_1_Template","AgBoolIconRenderer_Conditional_2_Template","AgBoolIconRenderer_ng_template_3_Template","ActionsPinnedRight1","pinned","ActionsPinnedRight4","ActionsPinnedRight5","ActionsPinnedRight6","ActionsPinnedRight7","headerClass","sortable","valueGetter","IsHidden","Items","Fields","Boolean2","Boolean3","TextWideType","flex","minWidth","TextWideMin100","TextWideFlex3","TextNarrow","TextWideActionClass","BaseComponent","events","event","NavigationEnd","snapshot","pairwise","hadChildBefore","hasChildNow","filterParams","isFilterActive","doesFilterPass","api","colDef","column","columnApi","node","getValue","getModel","filterType","setModel","model","afterGuiAttached","filterChanged","filterChangedCallback","FormsModule","MatRadioModule","styles","id","align","copy","copyToClipboard","_angular_core__WEBPACK_IMPORTED_MODULE_1__","SignalHelpers","boolEquals","equal","RxHelpers","valueEquals","numberEquals","stringEquals","objectEquals","objectsEqual","ServiceBase","dialogContext$","ReplaySubject","dialogContextSignal","signal","loadFromService","configService","getCurrent$","ds","load","Context","dialogContext","set","computed","Features","arraysEqual","get$","featureNameId","dc","find","f","nameId","getSignal","isEnabled$","providedIn"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.component.html","./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.component.ts","./projects/eav-ui/src/app/apps-management/apps-list/app-list-grid-config.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.component.html","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.component.ts","./projects/eav-ui/src/app/dev-rest/api/true-false/true-false.component.ts","./projects/eav-ui/src/app/dev-rest/api/true-false/true-false.component.html","./projects/eav-ui/src/app/features/feature-names.ts","./projects/eav-ui/src/app/import-app/services/import-app.service.ts","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-params.ts","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-renderer.html","./projects/eav-ui/src/app/shared/ag-grid/apps-list-show/ag-bool-icon-renderer.component.ts","./projects/eav-ui/src/app/shared/ag-grid/column-definitions.ts","./projects/eav-ui/src/app/shared/components/base-with-child-dialog.component.ts","./projects/eav-ui/src/app/shared/components/boolean-filter/boolean-filter.component.ts","./projects/eav-ui/src/app/shared/components/boolean-filter/boolean-filter.component.html","./projects/eav-ui/src/app/shared/components/id-field/id-field.component.ts","./projects/eav-ui/src/app/shared/components/id-field/id-field.component.html","./projects/eav-ui/src/app/shared/helpers/signal.helpers.ts","./projects/eav-ui/src/app/shared/services/features.service.ts"],"sourcesContent":["<div class=\"actions-component\">\r\n  <!-- Global/Inherited button for shared apps (if enabled) -->\r\n  <div class=\"eav-grid-action-button icon\"\r\n    [tippy]=\"app.IsGlobal ? 'This app is global' : app.IsInherited ? 'This app is inherited' : ''\"\r\n    [tippyDisabled]=\"!app.IsGlobal && !app.IsInherited\">\r\n    @if (app.IsGlobal) {\r\n      <mat-icon>foundation</mat-icon>\r\n    }\r\n    @if (app.IsInherited) {\r\n      <mat-icon>holiday_village</mat-icon>\r\n    }\r\n  </div>\r\n\r\n  <!-- Lightspeed button -->\r\n  <app-lightspeed-action [lightSpeedOwner]=\"app\" [params]=\"params\" [lightSpeed]=\"app.lightSpeed\"></app-lightspeed-action>\r\n\r\n  <!-- More button -->\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<!-- The menu which appears on more -->\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"do('flushCache')\">\r\n      <mat-icon>cached</mat-icon>\r\n      <span>Flush cache</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"!app.IsApp\" (click)=\"do('deleteApp')\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { App } from '../../models/app.model';\r\nimport { AppsListActionsParams, AppsListActionsType } from './apps-list-actions.models';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { LightSpeedActionsComponent } from '../../../admin-shared/lightspeed-action/lightspeed-action.component';\r\nimport { TippyDirective } from '../../../shared/directives/tippy.directive';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-actions',\r\n  templateUrl: './apps-list-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    TippyDirective,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatRippleModule,\r\n    MatMenuModule,\r\n    LightSpeedActionsComponent,\r\n  ],\r\n})\r\nexport class AppsListActionsComponent implements ICellRendererAngularComp {\r\n  app: App;\r\n\r\n  public params: ICellRendererParams & AppsListActionsParams;\r\n  agInit(params: ICellRendererParams & AppsListActionsParams): void {\r\n    this.params = params;\r\n    this.app = this.params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  do(verb: AppsListActionsType): void {\r\n    this.params.do(verb, this.app);\r\n  }\r\n}\r\n","import { AgBoolCellIconSettings } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { EavWindow } from '../../shared/models/eav-window.model';\r\nimport { App } from '../models/app.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport const AppListShowIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      tooltip: 'Show this app to users',\r\n      icon: 'visibility',\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: 'visibility_off',\r\n    }\r\n  }\r\n};\r\n\r\nexport const AppListCodeErrorIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      clickable: true,\r\n      tooltip: 'This App uses obsolete code which will cause problems on future upgrades. Click to see details.',\r\n      icon: 'bug_report',\r\n      getUrl: (data: App) => window.$2sxc.http.apiUrl('sys/insights/logs?key=warnings-obsolete&filter=AppId=' + data.Id),\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: '',\r\n    }\r\n  }\r\n};\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n    <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.apps\" [gridOptions]=\"gridOptions\" appDragAndDrop\r\n      [allowedFileTypes]=\"'zip'\" (filesDropped)=\"importApp($event)\">\r\n    </ag-grid-angular>\r\n    <mat-dialog-actions align=\"end\">\r\n      <eco-fab-speed-dial class=\"eav-eco-fab-speed-dial\" [ngClass]=\"{ 'fab-opened': vm.fabOpen }\" (openChange)=\"openChange($event)\">\r\n        <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n          <button mat-fab>\r\n            <mat-icon class=\"spin180\">{{ vm.fabOpen ? 'close' : 'add' }}</mat-icon>\r\n          </button>\r\n        </eco-fab-speed-dial-trigger>\r\n        <eco-fab-speed-dial-actions class=\"eav-eco-fab-speed-dial-actions\">\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Find more apps\" (click)=\"browseCatalog()\">\r\n            <mat-icon>search</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Create inherited app\" (click)=\"createInheritedApp()\">\r\n            <mat-icon>holiday_village</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Add from folder\" (click)=\"addFromFolder()\">\r\n            <mat-icon [matBadgeHidden]=\"isAddFromFolderEnabled()\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadge=\"ðŸ’Ž\"\r\n              matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n              add\r\n            </mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Import app\" (click)=\"importApp()\">\r\n            <mat-icon>cloud_upload</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Create app\" (click)=\"createApp()\">\r\n            <mat-icon>add</mat-icon>\r\n          </button>\r\n        </eco-fab-speed-dial-actions>\r\n      </eco-fab-speed-dial>\r\n    </mat-dialog-actions>\r\n  </div>\r\n}\r\n\r\n<router-outlet></router-outlet>\r\n","import { GridOptions, ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewContainerRef, inject } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router, RouterOutlet } from '@angular/router';\r\nimport { BehaviorSubject, catchError, combineLatest, map, Observable, of, shareReplay, startWith, Subject, switchMap } from 'rxjs';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { BaseWithChildDialogComponent } from '../../shared/components/base-with-child-dialog.component';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { App } from '../models/app.model';\r\nimport { AppsListService } from '../services/apps-list.service';\r\nimport { AppsListActionsComponent } from './apps-list-actions/apps-list-actions.component';\r\nimport { AppsListActionsParams } from './apps-list-actions/apps-list-actions.models';\r\nimport { openFeatureDialog } from '../../features/shared/base-feature.component';\r\nimport { MatDialog, MatDialogActions } from '@angular/material/dialog';\r\nimport { AppAdminHelpers } from '../../app-administration/app-admin-helpers';\r\nimport { AppListCodeErrorIcons, AppListShowIcons } from './app-list-grid-config';\r\nimport { AgBoolIconRenderer } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-renderer.component';\r\nimport { AgBoolCellIconsParams } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { EavLogger } from '../../shared/logging/eav-logger';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { EcoFabSpeedDialComponent, EcoFabSpeedDialTriggerComponent, EcoFabSpeedDialActionsComponent } from '@ecodev/fab-speed-dial';\r\nimport { ModuleRegistry } from '@ag-grid-community/core';\r\nimport { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { DragAndDropDirective } from '../../shared/directives/drag-and-drop.directive';\r\nimport { SxcGridModule } from '../../shared/modules/sxc-grid-module/sxc-grid.module';\r\nimport { transient } from '../../core';\r\n\r\nconst logThis = false;\r\n\r\n@Component({\r\n  selector: 'app-apps-list',\r\n  templateUrl: './apps-list.component.html',\r\n  styleUrls: ['./apps-list.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    SxcGridModule,\r\n    MatDialogActions,\r\n    EcoFabSpeedDialComponent,\r\n    NgClass,\r\n    EcoFabSpeedDialTriggerComponent,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    EcoFabSpeedDialActionsComponent,\r\n    MatBadgeModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n    DragAndDropDirective,\r\n    // WIP 2dm - needed for the lightspeed buttons to work\r\n  ],\r\n})\r\nexport class AppsListComponent extends BaseWithChildDialogComponent implements OnInit, OnDestroy {\r\n  apps$: Observable<App[]>;\r\n  fabOpen$ = new BehaviorSubject(false);\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  private refreshApps$ = new Subject<void>();\r\n\r\n  viewModel$: Observable<AppsListViewModel>;\r\n  public features: FeaturesService = inject(FeaturesService);\r\n  public isAddFromFolderEnabled = this.features.isEnabled(FeatureNames.AppSyncWithSiteFiles);\r\n\r\n  private appsListService = transient(AppsListService);\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private snackBar: MatSnackBar,\r\n    private context: Context,\r\n    // Services for showing features in the menu\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    super(router, route, new EavLogger('AppsListComponent', logThis));\r\n    ModuleRegistry.registerModules([ClientSideRowModelModule]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const appsLog = this.log.rxTap('apps$');\r\n    this.apps$ = this.refreshApps$.pipe(\r\n      appsLog.pipe(),\r\n      startWith(undefined),\r\n      switchMap(() => this.appsListService.getAll().pipe(catchError(() => of(undefined)))),\r\n      shareReplay(1),\r\n      appsLog.shareReplay(),\r\n    );\r\n\r\n    this.subscriptions.add(this.childDialogClosed$().subscribe(() => { this.refreshApps$.next(); }));\r\n    this.viewModel$ = combineLatest([this.apps$, this.fabOpen$]).pipe(\r\n      map(([apps, fabOpen]) => {\r\n        return { apps, fabOpen };\r\n      }),\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.fabOpen$.complete();\r\n    this.refreshApps$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  openChange(open: boolean): void {\r\n    this.fabOpen$.next(open);\r\n  }\r\n\r\n  browseCatalog(): void {\r\n    window.open('https://2sxc.org/apps', '_blank');\r\n  }\r\n\r\n  createApp(): void {\r\n    this.router.navigate(['create'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  createInheritedApp(): void {\r\n    this.router.navigate(['create-inherited'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  addFromFolder(): void {\r\n    this.router.navigate(['add-app-from-folder'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  importApp(files?: File[]): void {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.parent.firstChild, state: dialogData });\r\n  }\r\n\r\n  private deleteApp(app: App): void {\r\n    const result = prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${app.Name}' (${app.Id})?`);\r\n    if (result === null) { return; }\r\n    if (result === app.Name || result === 'yes!') {\r\n      this.snackBar.open('Deleting...');\r\n      this.appsListService.delete(app.Id).subscribe({\r\n        error: () => {\r\n          this.snackBar.open('Delete failed. Please check console for more information', undefined, { duration: 3000 });\r\n          this.refreshApps$.next();\r\n        },\r\n        next: () => {\r\n          this.snackBar.open('Deleted', undefined, { duration: 2000 });\r\n          this.refreshApps$.next();\r\n        },\r\n      });\r\n    } else {\r\n      alert('Input did not match - will not delete');\r\n    }\r\n  }\r\n\r\n  private flushApp(app: App): void {\r\n    if (!confirm(`Flush the App Cache for ${app.Name} (${app.Id})?`)) { return; }\r\n    this.snackBar.open('Flushing cache...');\r\n    this.appsListService.flushCache(app.Id).subscribe({\r\n      error: () => {\r\n        this.snackBar.open('Cache flush failed. Please check console for more information', undefined, { duration: 3000 });\r\n      },\r\n      next: () => {\r\n        this.snackBar.open('Cache flushed', undefined, { duration: 2000 });\r\n      },\r\n    });\r\n  }\r\n\r\n  private openLightSpeed(app: App): void {\r\n    const formUrl = convertFormToUrl(AppAdminHelpers.getLightSpeedEditParams(app.Id));\r\n    this.router.navigate([`${this.context.zoneId}/${app.Id}/edit/${formUrl}`], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  private openApp(app: App): void {\r\n    this.router.navigate([app.Id.toString()], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  openLightSpeedFeatInfo() {\r\n    openFeatureDialog(this.dialog, FeatureNames.LightSpeed, this.viewContainerRef, this.changeDetectorRef);\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.Id,\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<App> = {\r\n              tooltipGetter: (app) => `ID: ${app.Id}\\nGUID: ${app.Guid}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.IconShow,\r\n          // valueGetter: (params) => {\r\n          //   const app: App = params.data;\r\n          //   return !app.IsHidden;\r\n          // },\r\n          cellRenderer: AgBoolIconRenderer,\r\n          cellRendererParams: (() => ({ settings: () => AppListShowIcons }))(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          cellClass: 'apps-list-primary-action highlight'.split(' '),\r\n          sort: 'asc',\r\n          onCellClicked: (params) => {\r\n            const app: App = params.data;\r\n            this.openApp(app);\r\n          },\r\n          cellRenderer: (params: ICellRendererParams) => {\r\n            const app: App = params.data;\r\n            return `\r\n            <div class=\"container\">\r\n              ${app.Thumbnail\r\n                ? `<img class=\"image logo\" src=\"${app.Thumbnail}?w=40&h=40&mode=crop\"></img>`\r\n                : `<div class=\"image logo\"><span class=\"material-icons-outlined\">star_border</span></div>`\r\n              }\r\n              <div class=\"text\">${params.value}</div>\r\n            </div>\r\n            `;\r\n          },\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Folder',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Character,\r\n          field: 'Version',\r\n          width: 78,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Number,\r\n          field: 'Items',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Boolean,\r\n          field: 'HasCodeWarnings',\r\n          headerName: 'Code',\r\n          filter: BooleanFilterComponent,\r\n          cellRenderer: AgBoolIconRenderer,\r\n          cellRendererParams: (() => ({ settings: (app) => AppListCodeErrorIcons } as AgBoolCellIconsParams<App>))(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: AppsListActionsComponent,\r\n          cellRendererParams: {\r\n            onOpenLightspeed: (app) => this.openLightSpeed(<App>app),\r\n            openLightspeedFeatureInfo: () => this.openLightSpeedFeatInfo(),\r\n            do: (verb, app) => {\r\n              switch (verb) {\r\n                case 'deleteApp': this.deleteApp(app); break;\r\n                case 'flushCache': this.flushApp(app); break;\r\n              }\r\n            }\r\n          } satisfies AppsListActionsParams,\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface AppsListViewModel {\r\n  apps: App[];\r\n  fabOpen: any;\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { TrueFalseParams } from './true-false.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@Component({\r\n  selector: 'app-rest-api-true-false',\r\n  templateUrl: './true-false.component.html',\r\n  standalone: true,\r\n  imports: [MatIconModule],\r\n})\r\nexport class TrueFalseComponent implements ICellRendererAngularComp {\r\n  icon: string;\r\n\r\n  private trueIcon = 'check_circle';\r\n  private falseIcon = 'circle';\r\n\r\n  agInit(params: ICellRendererParams & TrueFalseParams): void {\r\n    let value: boolean = params.value;\r\n    if (params.reverse) { value = !value; }\r\n    if (params.trueIcon) { this.trueIcon = params.trueIcon; }\r\n    if (params.falseIcon) { this.falseIcon = params.falseIcon; }\r\n    this.icon = value ? this.trueIcon : this.falseIcon;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon>{{ icon }}</mat-icon>\r\n</div>\r\n","// This will make it easier for us to see where certain feature names are in use\r\n\r\nexport const FeatureNames = {\r\n  AppSyncWithSiteFiles: 'AppSyncWithSiteFiles',\r\n  WysiwygPasteFormatted: 'WysiwygPasteFormatted',\r\n  PasteImageFromClipboard: 'PasteImageFromClipboard',\r\n  EditUiShowNotes: 'EditUiShowNotes',\r\n  EditUiShowMetadataFor: 'EditUiShowMetadataFor',\r\n  NoSponsoredByToSic: 'NoSponsoredByToSic',\r\n  EditUiTranslateWithGoogle: 'EditUiTranslateWithGoogle',\r\n  LightSpeed: 'LightSpeedOutputCache',\r\n  ContentSecurityPolicy: 'ContentSecurityPolicy',\r\n  PermissionsByLanguage: 'PermissionsByLanguage',\r\n  FieldShareConfigManagement: 'FieldShareConfigManagement',\r\n};\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of, switchMap } from 'rxjs';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { Context } from '../../shared/services/context';\r\n\r\nexport const webApiAppRoot = 'admin/app/';\r\n\r\n@Injectable()\r\nexport class ImportAppService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  importApp(file: File, changedName: string, retryOnDuplicate = false): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    formData.append('Name', changedName ?? '');\r\n    return this.http.post<FileUploadResult>(this.dnnContext.$2sxc.http.apiUrl(webApiAppRoot + 'Import'), formData, {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    }).pipe(\r\n      switchMap(result => {\r\n        if (retryOnDuplicate && result.Messages[0]?.MessageType === FileUploadMessageTypes.Warning) {\r\n          const folderName = prompt(result.Messages[0].Text + ' Would you like to install it using another folder name?');\r\n          if (folderName) {\r\n            return this.importApp(file, folderName, true);\r\n          }\r\n        }\r\n        return of(result);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","export interface AgBoolCellIconSetting {\r\n  clickable?: boolean;\r\n  tooltip: string;\r\n  icon: string;\r\n  url?: string;\r\n  getUrl?: (data: any) => string;\r\n}\r\n\r\nexport interface AgBoolCellIconSettings {\r\n  states: Record<'true' | 'false' | string, AgBoolCellIconSetting>;\r\n}\r\n\r\nexport interface AgBoolCellIconsParams<T = any> {\r\n  settings(data: T): AgBoolCellIconSettings;\r\n}\r\n\r\nexport const AgBoolCellIconsDefault: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      tooltip: 'true/on',\r\n      icon: 'radio_button_checked',\r\n    },\r\n    false: {\r\n      tooltip: 'false/off',\r\n      icon: 'radio_button_unchecked',\r\n    }\r\n  }\r\n};","<div class=\"icon-container\">\r\n  @if (data.url) {\r\n    <a [href]=\"data.url\" target=\"_blank\">\r\n      <ng-container *ngTemplateOutlet=\"showIcon\"></ng-container>\r\n    </a>\r\n  } @else {\r\n    <div class=\"icon-cell icon\" [ngClass]=\"{'clickable': data.clickable }\" [tippy]=\"data.tooltip\">\r\n      <mat-icon>{{ data.icon }}</mat-icon>\r\n    </div>\r\n  }\r\n</div>\r\n\r\n<ng-template #showIcon>\r\n  <div class=\"icon-cell icon\" [ngClass]=\"{'clickable': data.clickable }\" [tippy]=\"data.tooltip\">\r\n    <mat-icon>{{ data.icon }}</mat-icon>\r\n  </div>\r\n</ng-template>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { AgBoolCellIconSetting, AgBoolCellIconSettings, AgBoolCellIconsDefault, AgBoolCellIconsParams } from './ag-bool-icon-params';\r\nimport { TippyDirective } from '../../directives/tippy.directive';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { NgClass } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-ag-bool-icon-renderer',\r\n  templateUrl: './ag-bool-icon-renderer.html',\r\n  standalone: true,\r\n  imports: [\r\n    TippyDirective,\r\n    MatIconModule,\r\n    NgClass,\r\n  ],\r\n})\r\nexport class AgBoolIconRenderer implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  private allSettings: AgBoolCellIconSettings;\r\n\r\n  data: AgBoolCellIconSetting; // | { link: boolean  };\r\n\r\n  agInit(params: ICellRendererParams & AgBoolCellIconsParams): void {\r\n    this.value = params.value;\r\n\r\n    this.allSettings = params.settings?.(params.data) ?? AgBoolCellIconsDefault;\r\n    const d = this.allSettings.states[this.value ? 'true' : 'false'];\r\n    this.data = {\r\n      ...d,\r\n      url: d.url ?? d.getUrl?.(params.data),\r\n      // link: !!(d.url || d.getUrl),\r\n    };\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","import { ColDef } from '@ag-grid-community/core';\r\nimport { BooleanFilterComponent } from '../components/boolean-filter/boolean-filter.component';\r\nimport { App } from '../../apps-management/models/app.model';\r\nimport { AgBoolIconRenderer } from './apps-list-show/ag-bool-icon-renderer.component';\r\nimport { TrueFalseComponent } from '../../dev-rest/api/true-false/true-false.component';\r\nimport { TrueFalseParams } from '../../dev-rest/api/true-false/true-false.models';\r\n\r\nexport class ColumnDefinitions {\r\n  static ActionsPinnedRight1: ColDef = {\r\n    width: 42,\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static ActionsPinnedRight3: ColDef = {\r\n    width: 122,\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static ActionsPinnedRight4: ColDef = {\r\n    width: 162,\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static ActionsPinnedRight5: ColDef = {\r\n    width: 202,\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static ActionsPinnedRight6: ColDef = {\r\n    width: 82,\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static ActionsPinnedRight7: ColDef = {\r\n    width: 62,\r\n    cellClass: 'secondary-action no-outline no-padding'.split(' '),\r\n    pinned: 'right',\r\n  };\r\n\r\n  static IconShow: ColDef = {\r\n    headerName: 'Show',\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'icons no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: BooleanFilterComponent,\r\n    valueGetter: (params) => {\r\n      const app: App = params.data;\r\n      return !app.IsHidden;\r\n    },\r\n    cellRenderer: AgBoolIconRenderer,\r\n  };\r\n\r\n  static Items: ColDef = {\r\n    width: 102,\r\n    headerClass: 'dense',\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  static Fields: ColDef = {\r\n    width: 94,\r\n    headerClass: 'dense',\r\n    cellClass: 'secondary-action no-padding'.split(' '),\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  /**\r\n   * Very narrow columns, typically just showing 1 character\r\n   */\r\n  static Character: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'no-outline',\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  /**\r\n   * Very narrow ID column, with typical header name and label etc.\r\n   */\r\n  static Id: ColDef = {\r\n    headerName: 'ID',\r\n    field: 'Id',\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'id-action no-padding no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  static Boolean: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'number-cell no-outline'.split(' '),\r\n    sortable: true,\r\n  };\r\n\r\n  static Boolean2: ColDef = {\r\n    width: 100,\r\n    sortable: true,\r\n    cellClass: 'no-outline',\r\n    filter: BooleanFilterComponent,\r\n  };\r\n\r\n  static Boolean3: ColDef = {\r\n    headerClass: 'dense',\r\n    width: 80,\r\n    cellClass: 'no-outline',\r\n    cellRenderer: TrueFalseComponent,\r\n    cellRendererParams: (() => {\r\n      const params: TrueFalseParams = {\r\n        reverse: false,\r\n      };\r\n      return params;\r\n    })(),\r\n  }\r\n\r\n  /**\r\n   * Very narrow ID column, with typical header name and label etc.\r\n   */\r\n  static Number: ColDef = {\r\n    width: 70,\r\n    headerClass: 'dense',\r\n    cellClass: 'number-cell no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: 'agNumberColumnFilter',\r\n  };\r\n\r\n  static TextWideType: ColDef = {\r\n    flex: 3,\r\n    minWidth: 250,\r\n    cellClass: 'primary-action highlight'.split(' '),\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  static TextWide: ColDef = {\r\n    flex: 2,\r\n    minWidth: 250,\r\n    cellClass: 'no-outline',\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  static TextWideMin100: ColDef = {\r\n    flex: 1,\r\n    minWidth: 100,\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  }\r\n\r\n  static TextWideFlex3: ColDef = {\r\n    flex: 3,\r\n    minWidth: 250,\r\n    cellClass: 'no-outline',\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  static TextNarrow: ColDef = {\r\n    flex: 1,\r\n    minWidth: 150,\r\n    cellClass: 'no-outline',\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n  static TextWideActionClass: ColDef = {\r\n    flex: 2,\r\n    minWidth: 250,\r\n    cellClass: 'primary-action no-padding no-outline'.split(' '),\r\n    sortable: true,\r\n    filter: 'agTextColumnFilter',\r\n  };\r\n\r\n\r\n\r\n}\r\n","import { Directive, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { filter, map, pairwise, startWith, tap } from 'rxjs';\r\nimport { BaseComponent } from './base.component';\r\nimport { EavLogger } from '../logging/eav-logger';\r\n\r\nconst logThis = false;\r\n\r\n// 2024-06-12 2dm experimental - remove comments if all is good mid of June\r\n// - previously had\r\n// @Directive()   // Needs the @Directive() so the compiler allows OnDestroy to be implemented\r\n// ...then tried this\r\n// @Component({\r\n//   selector: 'app-base-component-with-child',\r\n//   template: ''\r\n// })\r\n// ...but then added abstract, so I think it doesn't actually need all that\r\n// tslint:disable-next-line:directive-class-suffix\r\nexport abstract class BaseWithChildDialogComponent extends BaseComponent implements OnDestroy {\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    public log?: EavLogger\r\n  ) {\r\n    super();\r\n    this.log ??= new EavLogger('BaseComponent', logThis);\r\n  }\r\n\r\n  // 2024-06-12 2dm - don't think this is needed since it's already on the base class\r\n  // ngOnDestroy() {\r\n  //   super.ngOnDestroy();\r\n  // }\r\n\r\n  protected childDialogClosed$() {\r\n    return this.router.events.pipe(\r\n      filter(event => event instanceof NavigationEnd),\r\n      startWith(!!this.route.snapshot.firstChild),\r\n      map(() => !!this.route.snapshot.firstChild),\r\n      pairwise(),\r\n      filter(([hadChildBefore, hasChildNow]) => hadChildBefore && !hasChildNow),\r\n      // tap(() => console.log('2dm ' + 'childDialogClosed$'))\r\n    )\r\n  }\r\n}\r\n","import { IFilterAngularComp } from '@ag-grid-community/angular';\r\nimport { IAfterGuiAttachedParams, IDoesFilterPassParams, IFilterParams, ValueGetterParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { BooleanFilterModel } from './boolean-filter.model';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\n\r\n@Component({\r\n  selector: 'app-boolean-filter',\r\n  templateUrl: './boolean-filter.component.html',\r\n  styleUrls: ['./boolean-filter.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    FormsModule,\r\n    MatRadioModule,\r\n  ]\r\n})\r\nexport class BooleanFilterComponent implements IFilterAngularComp {\r\n  filter = '';\r\n\r\n  private filterParams: IFilterParams;\r\n\r\n  agInit(params: IFilterParams) {\r\n    this.filterParams = params;\r\n  }\r\n\r\n  isFilterActive(): boolean {\r\n    return this.filter !== '';\r\n  }\r\n\r\n  doesFilterPass(params: IDoesFilterPassParams): boolean {\r\n    const valueGetterParams: ValueGetterParams = {\r\n      api: this.filterParams.api,\r\n      colDef: this.filterParams.colDef,\r\n      column: this.filterParams.column,\r\n      columnApi: this.filterParams.columnApi,\r\n      context: this.filterParams.context,\r\n      data: params.node.data,\r\n      getValue: (field) => params.node.data[field],\r\n      node: params.node,\r\n    };\r\n    const value: boolean = this.filterParams.valueGetter(valueGetterParams);\r\n    if (value == null) { return false; }\r\n    return value.toString() === this.filter;\r\n  }\r\n\r\n  getModel(): BooleanFilterModel {\r\n    if (!this.isFilterActive()) { return; }\r\n    return {\r\n      filterType: 'boolean',\r\n      filter: this.filter,\r\n    };\r\n  }\r\n\r\n  setModel(model: BooleanFilterModel) {\r\n    this.filter = model ? model.filter : '';\r\n  }\r\n\r\n  afterGuiAttached(params: IAfterGuiAttachedParams) {\r\n  }\r\n\r\n  filterChanged() {\r\n    this.filterParams.filterChangedCallback();\r\n  }\r\n}\r\n","<mat-radio-group [(ngModel)]=\"filter\" (ngModelChange)=\"filterChanged()\">\r\n  <mat-radio-button value=\"\">All</mat-radio-button>\r\n  <mat-radio-button value=\"true\">True</mat-radio-button>\r\n  <mat-radio-button value=\"false\">False</mat-radio-button>\r\n</mat-radio-group>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { copyToClipboard } from '../../helpers/copy-to-clipboard.helper';\r\nimport { IdFieldParams } from './id-field.models';\r\nimport { NgClass } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { TippyDirective } from '../../directives/tippy.directive';\r\n\r\n@Component({\r\n  selector: 'app-id-field',\r\n  templateUrl: './id-field.component.html',\r\n  styleUrls: ['./id-field.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    NgClass,\r\n    MatIconModule,\r\n    TippyDirective,\r\n  ]\r\n})\r\nexport class IdFieldComponent implements ICellRendererAngularComp {\r\n  id: number | string;\r\n  align: 'start' | 'end';\r\n  tooltip: string;\r\n\r\n  constructor(private snackBar: MatSnackBar) { }\r\n\r\n  agInit(params: ICellRendererParams & IdFieldParams): void {\r\n    this.id = params.value;\r\n    this.align = typeof this.id === 'number' ? 'end' : 'start';\r\n    this.tooltip = params.tooltipGetter(params.data);\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  copy(): void {\r\n    copyToClipboard(this.tooltip);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n}\r\n","<div matRipple class=\"id-box highlight\" [tippy]=\"tooltip\" (click)=\"copy()\" [ngClass]=\"{\r\n  'align-start': align === 'start',\r\n  'align-end': align === 'end'\r\n}\">\r\n  <span class=\"id\">{{ id }}</span>\r\n  <mat-icon class=\"icon\">file_copy</mat-icon>\r\n</div>","import { CreateComputedOptions } from '@angular/core';\r\nimport { RxHelpers } from '../rxJs/rx.helpers';\r\nimport { ValueEqualityFn } from '@angular/core/primitives/signals';\r\n\r\nexport class SignalHelpers {\r\n  /** Options for number signal to ensure equality only on value difference */\r\n  static boolEquals: CreateComputedOptions<boolean> = {\r\n    equal: RxHelpers.valueEquals<boolean>\r\n  };\r\n\r\n  /** Options for string signal to ensure equality only on value difference */\r\n  static numberEquals: CreateComputedOptions<number> = {\r\n    equal: RxHelpers.valueEquals<number>\r\n  };\r\n\r\n  /** Options for string signal to ensure equality only on value difference */\r\n  static stringEquals: CreateComputedOptions<string> = {\r\n    equal: RxHelpers.valueEquals<string>\r\n  };\r\n\r\n  // note: this doesn't work as expected; leaving in so nobody tries to repeat this\r\n  // /** Options for string signal to ensure equality only on value difference */\r\n  // static valueEquals: CreateComputedOptions<boolean | string | number> = {\r\n  //   equal: RxHelpers.valueEquals<boolean | string | number>\r\n  // };\r\n\r\n  /** Options for object signal to ensure equality only on value difference */\r\n  static objectEquals = { equal: RxHelpers.objectsEqual };\r\n}\r\n\r\n// export class SignalEquals<T>: CreateComputedOptions<T> {\r\n//   equal: RxHelpers.objectsEqual<T>;\r\n// }\r\n","import { Injectable, Signal, computed, signal } from '@angular/core';\r\nimport { map, Observable, ReplaySubject } from 'rxjs';\r\nimport { AppDialogConfigService } from '../../app-administration/services';\r\nimport { DialogContext } from '../models/dialog-settings.model';\r\nimport { ServiceBase } from './service-base';\r\nimport { EavLogger } from '../logging/eav-logger';\r\nimport { FeatureSummary } from '../../features/models/feature-summary.model';\r\nimport { SignalHelpers } from '../helpers/signal.helpers';\r\nimport { RxHelpers } from '../rxJs/rx.helpers';\r\n\r\nconst logThis = false;\r\n\r\n/**\r\n * Singleton Service to provide information about enabled/disabled features.\r\n *\r\n * It currently has a strange architecture, since it's singleton,\r\n * but needs context data.\r\n * So the AppDialogConfigService seems to call the loadFromService.\r\n * TODO: 2dm: I don't like this, should rethink the architecture, feels a bit flaky.\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class FeaturesService extends ServiceBase {\r\n  // new 2dm WIP\r\n  // Provide context information and ensure that previously added data is always available\r\n  private dialogContext$ = new ReplaySubject<DialogContext>(1);\r\n  private dialogContextSignal = signal<DialogContext>(null);\r\n\r\n  constructor() {\r\n    super(new EavLogger('FeaturesService', logThis));\r\n  }\r\n\r\n  loadFromService(configService: AppDialogConfigService) {\r\n    configService.getCurrent$().subscribe(ds => this.load(ds.Context));\r\n  }\r\n\r\n  load(dialogContext: DialogContext) {\r\n    // new 2dm WIP\r\n    this.dialogContext$.next(dialogContext);\r\n    this.dialogContextSignal.set(dialogContext);\r\n  }\r\n\r\n  getAll(): Signal<FeatureSummary[]> {\r\n    return computed(\r\n      () => this.dialogContextSignal()?.Features ?? [],\r\n      { equal: RxHelpers.arraysEqual }\r\n    );\r\n  }\r\n\r\n  // new 2dm WIP\r\n  get$(featureNameId: string): Observable<FeatureSummary> {\r\n    return this.dialogContext$.pipe(\r\n      // tap(f => console.log('2dm', f, featureNameId)),\r\n      map(dc => dc?.Features.find(f => f.nameId === featureNameId))\r\n    );\r\n  }\r\n\r\n  getSignal(featureNameId: string): Signal<FeatureSummary> {\r\n    return computed(\r\n      () => this.dialogContextSignal()?.Features.find(f => f.nameId === featureNameId),\r\n      { equal: RxHelpers.objectsEqual }\r\n    );\r\n  }\r\n\r\n  isEnabled$(nameId: string): Observable<boolean> {\r\n    return this.get$(nameId).pipe(map(f => f?.isEnabled ?? false));\r\n  }\r\n\r\n  isEnabled(nameId: string): Signal<boolean> {\r\n    return computed(\r\n      () => this.dialogContextSignal()?.Features.find(f => f.nameId === nameId)?.isEnabled ?? false,\r\n      SignalHelpers.boolEquals\r\n    );\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts"],{9086:(I,E,t)=>{t.r(E),t.d(E,{DataRestApiComponent:()=>A});var m=t(5445),i=t(5797),d=t(5175),h=t(316),a=t(4456),n=t(4175),r=t(3777),M=t(3840),O=t(2159),P=t(5437),v=t(7037),e=t(8559),g=t(5944),_=t(5060);function p(l,u){if(1&l&&(e.j41(0,"mat-option",3),e.EFF(1),e.k0s()),2&l){const c=u.$implicit;e.Y8G("value",c.StaticName),e.R7$(),e.SpI(" ",c.Label," ")}}function C(l,u){1&l&&e.Z7z(0,p,2,2,"mat-option",3,e.fX1),2&l&&e.Dyx(u.sort())}let A=(()=>{class l{constructor(c,o,s){this.fb=c,this.router=o,this.route=s,this.contentTypesService=(0,P.d)(m.gs),this.contentTypes$=new i.t(void 0),this.contentTypes=[]}ngOnInit(){this.fetchData(),this.contentTypeForm=this.fb.group({contentType:[""]})}fetchData(){this.contentTypesService.retrieveContentTypes("Default").subscribe(c=>{this.contentTypes$.next(c);const o=this.router.url.split("/"),s=o[o.length-1],D=c.find(T=>T.StaticName===s);D&&this.contentTypeForm.get("contentType").setValue(D.StaticName)})}openRestApi(c){c&&this.router.navigate([`${c}`],{relativeTo:this.route.parent.firstChild})}static#t=this.\u0275fac=function(o){return new(o||l)(e.rXU(a.ok),e.rXU(O.Ix),e.rXU(O.nX))};static#e=this.\u0275cmp=e.VBU({type:l,selectors:[["app-data-rest-api"]],standalone:!0,features:[e.aNF],decls:8,vars:4,consts:[[3,"formGroup"],["color","accent",1,"eav-mat-form-field"],["formControlName","contentType",3,"valueChange"],[3,"value"]],template:function(o,s){if(1&o&&(e.j41(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Content-Type"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(T){return s.openRestApi(T)}),e.DNE(5,C,2,0),e.nI1(6,"async"),e.k0s()()(),e.nrm(7,"router-outlet")),2&o){let D;e.Y8G("formGroup",s.contentTypeForm),e.R7$(5),e.vxM(5,(D=e.bMT(6,2,s.contentTypes$))?5:-1,D)}},dependencies:[d.Ve,g.rl,g.nJ,d.VO,_.wT,n.Hl,r.Hu,M.m_,a.X1,a.qT,a.BC,a.cb,a.j4,a.JD,h.Jj,O.n3,v.p]})}return l})()},5445:(I,E,t)=>{t.d(E,{Cu:()=>n.Cu,JL:()=>n.JL,Mk:()=>n.Mk,ei:()=>n.ei,gs:()=>i.g,tn:()=>m.t,vN:()=>n.vN,xR:()=>n.xR,y0:()=>r.y});var m=t(6163),i=t(7693),n=(t(1475),t(320),t(8624),t(4079)),r=t(2570)},4079:(I,E,t)=>{t.d(E,{Cu:()=>p,JL:()=>C,Mk:()=>g,ei:()=>_,vN:()=>A,xR:()=>l});var m=t(4600),i=t(6647),d=t(271),h=t(693),a=t(8873),n=t(9234),r=t(8559),M=t(6443),O=t(4821);const g="admin/query/Run",_="admin/query/DebugStream",p="admin/query/Save",C="admin/query/Get",A="admin/query/DataSources";let l=(()=>{class u{constructor(o,s,D){this.http=o,this.context=s,this.dnnContext=D}getAll(o){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n.Gg),{params:{appId:this.context.appId.toString(),contentType:o}})}importQuery(o){return(0,m.H)((0,h.n)(o)).pipe((0,i.n)(s=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:s})),(0,d.T)(s=>({Success:s,Messages:[]})))}clonePipeline(o){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:o.toString(),appId:this.context.appId.toString()}})}delete(o){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:o.toString()}})}static#t=this.\u0275fac=function(s){return new(s||u)(r.KVO(M.Qq),r.KVO(a.o),r.KVO(O.ob))};static#e=this.\u0275prov=r.jDH({token:u,factory:u.\u0275fac})}return u})()},2570:(I,E,t)=>{t.d(E,{y:()=>v});var m=t(8873),i=t(8559),d=t(6443),h=t(4821);const a="admin/view/",n=a+"all",r=a+"delete",M=a+"import",O=a+"polymorphism",P=a+"usage";let v=(()=>{class e{constructor(_,p,C){this.http=_,this.context=p,this.dnnContext=C}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(n),{params:{appId:this.context.appId.toString()}})}delete(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r),{params:{appId:this.context.appId.toString(),Id:_.toString()}})}import(_){const p=new FormData;return p.append("File",_),this.http.post(this.dnnContext.$2sxc.http.apiUrl(M),p,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(_){const p=this.dnnContext.$2sxc.http.apiUrl(a+"json")+"?appId="+this.context.appId+"&viewId="+_;window.open(p,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(O),{params:{appId:this.context.appId.toString()}})}getUsage(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(P),{params:{appId:this.context.appId.toString(),guid:_}})}static#t=this.\u0275fac=function(p){return new(p||e)(i.KVO(d.Qq),i.KVO(m.o),i.KVO(h.ob))};static#e=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac})}return e})()},693:(I,E,t)=>{function m(d){return new Promise((h,a)=>{const n=new FileReader;n.readAsDataURL(d),n.onload=()=>{h(n.result.split(",")[1])},n.onerror=r=>{a(r)}})}function i(d){return new Promise((h,a)=>{const n=new FileReader;n.readAsText(d),n.onload=()=>{h(n.result)},n.onerror=r=>{a(r)}})}t.d(E,{d:()=>i,n:()=>m})}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts.1e692f3bac5b5f66.js.map
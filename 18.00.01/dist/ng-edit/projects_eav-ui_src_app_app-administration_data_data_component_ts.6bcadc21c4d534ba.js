"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_data_data_component_ts"],{7391:(x,y,i)=>{i.r(y),i.d(y,{DataComponent:()=>gt});var t=i(8559),m=i(2159),g=i(5797),_=i(9999),v=i(271),c=i(4600),h=i(4334),B=i(1567),$=i(3037),k=i(6360),l=i(261),w=i(3454),r=i(2437),d=i(1735),p=i(6378),A=i(251),j=i(5858),f=i(52),M=i(693),z=i(3216),L=i(7693),V=i(9417),E=i(1034),R=i(6256),C=i(3840),T=i(5060);function U(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",9),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("createUpdateMetaData"))}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()}}function Y(o,u){1&o&&(t.j41(0,"div",3)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()())}function H(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("openMetadata"))}),t.j41(1,"mat-icon",11),t.EFF(2," local_offer "),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.contentType.Metadata.length)("matBadgeHidden",!e.contentType.Metadata.length)}}function W(o,u){if(1&o&&(t.j41(0,"div",3)(1,"mat-icon",12),t.EFF(2," local_offer "),t.k0s()()),2&o){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.contentType.Metadata.length)("matBadgeHidden",!e.contentType.Metadata.length)}}function K(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("openPermissions"))}),t.j41(1,"mat-icon",11),t.EFF(2," person"),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.contentType.Permissions.Count)("matBadgeHidden",!e.contentType.Permissions.Count)}}function Z(o,u){if(1&o&&(t.j41(0,"div",3)(1,"mat-icon",12),t.EFF(2," person"),t.k0s()()),2&o){const e=t.XpG();t.R7$(),t.Y8G("matBadge",e.contentType.Permissions.Count)("matBadgeHidden",!e.contentType.Permissions.Count)}}function J(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("editContentType"))}),t.j41(1,"mat-icon"),t.EFF(2,"settings"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Rename"),t.k0s()(),t.j41(5,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("openRestApi"))}),t.nrm(6,"mat-icon",16),t.j41(7,"span"),t.EFF(8,"REST API"),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("typeExport"))}),t.j41(10,"mat-icon"),t.EFF(11,"cloud_download"),t.k0s(),t.j41(12,"span"),t.EFF(13,"Export content type"),t.k0s()(),t.j41(14,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("dataExport"))}),t.j41(15,"mat-icon"),t.EFF(16,"cloud_download"),t.k0s(),t.j41(17,"span"),t.EFF(18,"Export data"),t.k0s()(),t.j41(19,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("dataImport"))}),t.j41(20,"mat-icon"),t.EFF(21,"cloud_upload"),t.k0s(),t.j41(22,"span"),t.EFF(23,"Import data"),t.k0s()(),t.j41(24,"button",14),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.do("deleteContentType"))}),t.j41(25,"mat-icon"),t.EFF(26,"delete"),t.k0s(),t.j41(27,"span"),t.EFF(28,"Delete"),t.k0s()()}if(2&o){const e=t.XpG();t.Y8G("disabled",e.contentType.EditInfo.DisableRename),t.R7$(24),t.Y8G("disabled",e.contentType.EditInfo.DisableDelete)}}let Q=(()=>{class o{agInit(e){this.params=e,this.contentType=this.params.data;const n=this.params.enablePermissionsGetter();this.enablePermissions=n&&(0,V.L)().test(this.contentType.StaticName)}refresh(e){return!0}do(e){this.params.do(e,this.contentType)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-data-actions"]],standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Description and more",1,"eav-grid-action-button","highlight"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","","tippy","Description and more",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight",3,"click"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["mat-menu-item","",3,"click","disabled"],["mat-menu-item","",3,"click"],["svgIcon","code-curly"]],template:function(n,a){if(1&n&&(t.j41(0,"div",1),t.DNE(1,U,3,0,"div",2)(2,Y,3,0,"div",3)(3,H,3,2,"div",4)(4,W,3,2,"div",3)(5,K,3,2,"div",5)(6,Z,3,2,"div",3),t.j41(7,"div",6)(8,"mat-icon"),t.EFF(9,"more_horiz"),t.k0s()()(),t.j41(10,"mat-menu",7,0),t.DNE(12,J,29,2,"ng-template",8),t.k0s()),2&n){const s=t.sdS(11);t.R7$(),t.vxM(1,!a.contentType.EditInfo.DisableEdit||a.contentType.Properties?1:-1),t.R7$(),t.vxM(2,a.contentType.EditInfo.DisableEdit&&!a.contentType.Properties?2:-1),t.R7$(),t.vxM(3,a.contentType.EditInfo.DisableMetadata?-1:3),t.R7$(),t.vxM(4,a.contentType.EditInfo.DisableMetadata?4:-1),t.R7$(),t.vxM(5,!a.contentType.EditInfo.DisableEdit&&a.enablePermissions?5:-1),t.R7$(),t.vxM(6,a.contentType.EditInfo.DisableEdit||!a.enablePermissions?6:-1),t.R7$(),t.Y8G("matMenuTriggerFor",s)}},dependencies:[T.pZ,T.r6,C.m_,C.An,R.Y,R.k,E.Cn,E.kk,E.fb,E.z8,E.Cp]})}return o})();var S=i(7896);let q=(()=>{class o{agInit(e){this.params=e,this.contentType=e.data,this.value=e.value,this.tooltip=this.contentType.EditInfo.ReadOnly?`${this.contentType.EditInfo.ReadOnlyMessage?`${this.contentType.EditInfo.ReadOnlyMessage}\n\n`:""}This ContentType shares the definition of #${this.contentType.SharedDefId} so you can't edit it here. Read 2sxc.org/help?tag=shared-types`:"Edit fields",this.icon=this.contentType.EditInfo.ReadOnly?"share":"dns"}refresh(e){return!0}editFields(){this.params.onEditFields(this.contentType)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-data-fields"]],standalone:!0,features:[t.aNF],decls:4,vars:4,consts:[[1,"actions-component"],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return a.editFields()}),t.j41(2,"mat-icon",2),t.EFF(3),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("tippy",a.tooltip),t.R7$(),t.Y8G("matBadge",a.value)("matBadgeHidden",!a.value),t.R7$(),t.SpI(" ",a.icon," "))},dependencies:[T.pZ,T.r6,C.m_,C.An,R.Y,R.k,S.e]})}return o})(),tt=(()=>{class o{agInit(e){this.params=e,this.contentType=e.data,this.value=e.value}refresh(e){return!0}showItems(){this.params.onShowItems(this.contentType)}addItem(){this.params.onAddItem(this.contentType)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-data-items"]],standalone:!0,features:[t.aNF],decls:7,vars:3,consts:[[1,"actions-component"],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],[1,"text-icon"],["matRipple","","tippy","Add item",1,"eav-grid-action-button","highlight",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return a.showItems()}),t.j41(2,"div",2),t.EFF(3),t.k0s()(),t.j41(4,"div",3),t.bIt("click",function(){return a.addItem()}),t.j41(5,"mat-icon"),t.EFF(6,"add"),t.k0s()()()),2&n&&(t.R7$(),t.Mz_("tippy","",a.value," items"),t.R7$(2),t.JRh(a.value))},dependencies:[T.pZ,T.r6,C.m_,C.An,S.e],styles:[".text-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;line-height:22px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:1px solid rgba(29,39,61,.44);border-radius:12px;box-sizing:border-box;background-color:#002753;color:#fff;-webkit-user-select:none;user-select:none}.text-icon[_ngcontent-%COMP%]{min-width:24px;width:initial}"]})}return o})();var et=i(316),N=i(4175),O=i(4456),G=i(5175),X=i(5944),nt=i(7941),at=i(7037),D=i(1828),it=i(4575),P=i(5437),ot=i(8021),st=i(9431),rt=i(2743),dt=i(3347),ct=i(9841);function lt(o,u){if(1&o&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&o){const e=u.$implicit;t.Y8G("value",e.name),t.R7$(),t.SpI(" ","Scope: "+e.label," ")}}function pt(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.createGhost())}),t.j41(1,"mat-icon",8),t.EFF(2,"share"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Ghost"),t.k0s()()}}function mt(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",0)(1,"ag-grid-angular",1),t.bIt("filesDropped",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.filesDropped(a))}),t.k0s(),t.j41(2,"mat-dialog-actions",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-select",5),t.bIt("ngModelChange",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.changeScope(a))}),t.Z7z(6,lt,2,2,"mat-option",6,t.fX1),t.j41(8,"mat-option",6),t.EFF(9,"Scope: Other..."),t.k0s()()(),t.j41(10,"button",7),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.importType())}),t.j41(11,"mat-icon",8),t.EFF(12,"cloud_upload"),t.k0s(),t.j41(13,"span"),t.EFF(14,"Content Type"),t.k0s()(),t.DNE(15,pt,5,0,"button",9),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.editContentType(null))}),t.j41(17,"mat-icon"),t.EFF(18,"add"),t.k0s()()()()}if(2&o){const e=u,n=t.XpG();t.R7$(),t.Y8G("rowData",e.contentTypes)("gridOptions",n.gridOptions)("allowedFileTypes","xml,json"),t.R7$(4),t.Y8G("ngModel",e.scope),t.R7$(),t.Dyx(e.scopeOptions),t.R7$(2),t.Y8G("value",n.dropdownInsertValue),t.R7$(7),t.vxM(15,n.isDebug()?15:-1)}}let gt=(()=>{class o extends d.V{constructor(e,n,a){super(e,n),this.router=e,this.route=n,this.snackBar=a,this.contentTypesService=(0,P.d)(L.g),this.contentExportService=(0,P.d)(k.D),this.contentTypes$=new g.t(void 0),this.scope$=new g.t(void 0),this.scopeOptions$=new g.t([]),this.gridOptions=this.buildGridOptions(),this.dropdownInsertValue=j.O,this.viewModel$=(0,_.z)([this.contentTypes$,this.scope$,this.scopeOptions$]).pipe((0,v.T)(([s,b,I])=>({contentTypes:s,scope:b,scopeOptions:I}))),this.isDebug=(0,t.WQX)(st.B).isDebug,this.dialogConfigSvc=(0,P.d)(rt.b)}ngOnInit(){this.fetchScopes(),this.refreshScopeOnRouteChange(),this.subscriptions.add(this.childDialogClosed$().subscribe(()=>{this.fetchContentTypes()})),this.dialogConfigSvc.getCurrent$().subscribe(e=>{this.enablePermissions=e.Context.Enable.AppPermissions})}ngOnDestroy(){this.contentTypes$.complete(),this.scope$.complete(),this.scopeOptions$.complete(),super.ngOnDestroy()}filesDropped(e){const n=e[0];switch(n.name.substring(n.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":(0,c.H)((0,M.d)(e[0])).pipe((0,h.s)(1)).subscribe(s=>{const b=s.split('<Entity Type="')[1]?.split('"')[0],I=this.contentTypes$.value.find(F=>F.Name===b);null!=I?this.openDataImport(I,e):this.snackBar.open(`Cannot find Content Type named '${b}'. Please open Content Type Import dialog manually.`,null,{duration:5e3})});break;case"json":this.importType(e)}}importType(e){this.router.navigate(["import"],{relativeTo:this.route.parent.firstChild,state:{files:e}})}showContentItems(e){this.router.navigate([`items/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}editContentType(e){if(e){if(e.EditInfo.ReadOnly)return;this.router.navigate([`${e.StaticName}/edit`],{relativeTo:this.route.parent.firstChild})}else this.router.navigate(["add"],{relativeTo:this.route.parent.firstChild})}fetchContentTypes(){this.contentTypesService.retrieveContentTypes(this.scope$.value).subscribe(e=>{for(const n of e)n._compareLabel=n.Label.replace(new RegExp("\\p{Emoji}","gu"),"\u017e");this.contentTypes$.next(e),this.scope$.value!==f.YX.scopes.default.value&&this.snackBar.open("Warning! You are in a special scope. Changing things here could easily break functionality",null,{duration:2e3})})}fetchScopes(){this.contentTypesService.getScopesV2().subscribe(e=>{const n=this.scopeOptions$.value.filter(s=>null==e.find(b=>b.name===s.name)),a=e.map(s=>{let b=s.typesInherited?s.typesInherited==s.typesTotal?s.typesInherited+" sys types":`${s.typesTotal} types / ${s.typesInherited} system`:`${s.typesTotal} types`;return{...s,label:s.name+` - ${b}`}});this.scopeOptions$.next([...a,...n])})}createGhost(){const e=window.prompt("To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost");e&&(this.snackBar.open("Saving..."),this.contentTypesService.createGhost(e).subscribe(n=>{this.snackBar.open("Saved",null,{duration:2e3}),this.fetchContentTypes()}))}changeScope(e){console.log("trigger"),e===j.O&&(e=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||f.YX.scopes.default.value),this.router.navigate(["..",e],{relativeTo:this.route})}enablePermissionsGetter(){return this.enablePermissions}addItem(e){const a=(0,z.s)({items:[{ContentTypeName:e.StaticName}]});this.router.navigate([`edit/${a}`],{relativeTo:this.route.parent.firstChild})}editFields(e){this.router.navigate([`fields/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}createOrEditMetadata(e){const a=(0,z.s)({items:[e.Properties?{EntityId:e.Properties.Id}:{ContentTypeName:f.YX.contentTypes.contentType,For:{Target:f.YX.metadata.contentType.target,TargetType:f.YX.metadata.contentType.targetType,String:e.StaticName},Prefill:{Label:e.Name,Description:e.Description}}]});this.router.navigate([`edit/${a}`],{relativeTo:this.route.parent.firstChild})}openMetadata(e){const n=w.H.getUrlContentType(e.StaticName,`Metadata for Content Type: ${e.Name} (${e.Id})`);this.router.navigate([n],{relativeTo:this.route.parent.firstChild})}openRestApi(e){this.router.navigate([l.N.getUrlData(e)],{relativeTo:this.route.parent.firstChild})}exportType(e){this.contentExportService.exportJson(e.StaticName)}openDataExport(e){this.router.navigate([`export/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}openDataImport(e,n){this.router.navigate([`${e.StaticName}/import`],{relativeTo:this.route.parent.firstChild,state:{files:n}})}openPermissions(e){this.router.navigate([r.k.getUrlContentType(e.StaticName)],{relativeTo:this.route.parent.firstChild})}deleteContentType(e){confirm(`Are you sure you want to delete '${e.Name}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.contentTypesService.delete(e).subscribe(n=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchContentTypes()}))}refreshScopeOnRouteChange(){this.subscriptions.add(this.router.events.pipe((0,B.p)(e=>e instanceof m.wF),(0,v.T)(()=>this.route.snapshot.paramMap.get("scope")),(0,$.Z)(this.route.snapshot.paramMap.get("scope")),(0,B.p)(e=>!!e),(0,ot.J)(e=>e)).subscribe(e=>{this.scope$.next(e),this.scopeOptions$.value.map(n=>n.name).includes(e)||this.scopeOptions$.next([...this.scopeOptions$.value,{name:e,label:e,typesTotal:0,typesInherited:0,typesOfApp:0}]),this.fetchContentTypes()}))}buildGridOptions(){return{...A.C,columnDefs:[{...D.r.Id,cellRenderer:p.L,cellRendererParams:{tooltipGetter:a=>`ID: ${a.Id}\nGUID: ${a.StaticName}`}},{...D.r.TextWideType,headerName:"ContentType",field:"Label",sort:"asc",onCellClicked:n=>{this.showContentItems(n.data)},comparator:(n,a,s,b,I)=>s.data._compareLabel.localeCompare(b.data._compareLabel)},{...D.r.Items,field:"Items",cellRenderer:tt,cellRendererParams:{onShowItems:a=>this.showContentItems(a),onAddItem:a=>this.addItem(a)}},{...D.r.Fields,field:"Fields",cellRenderer:q,cellRendererParams:{onEditFields:a=>this.editFields(a)}},{...D.r.TextWideMin100,field:"Name",cellClass:n=>(n.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:n=>n.data.Name,onCellClicked:n=>{this.editContentType(n.data)}},{...D.r.TextWideFlex3,field:"Description",valueGetter:n=>n.data.Properties?.Description},{...D.r.ActionsPinnedRight4,cellRenderer:Q,cellRendererParams:{enablePermissionsGetter:()=>this.enablePermissionsGetter(),do:(a,s)=>{switch(a){case"createUpdateMetaData":this.createOrEditMetadata(s);break;case"openPermissions":this.openPermissions(s);break;case"editContentType":this.editContentType(s);break;case"openMetadata":this.openMetadata(s);break;case"openRestApi":this.openRestApi(s);break;case"typeExport":this.exportType(s);break;case"dataExport":this.openDataExport(s);break;case"dataImport":this.openDataImport(s);break;case"deleteContentType":this.deleteContentType(s)}}}}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(m.Ix),t.rXU(m.nX),t.rXU(dt.UG))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-data"]],standalone:!0,features:[t.Vt3,t.aNF],decls:3,vars:3,consts:[[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"filesDropped","rowData","gridOptions","allowedFileTypes"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["color","accent",1,"eav-mat-form-field","eav-scope-dropdown"],["name","Scope",3,"ngModelChange","ngModel"],[3,"value"],["mat-button","","tippy","Import content type",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","color","accent","tippy","Create a ghost content type",1,"eav-button__with-icon"],["mat-fab","","mat-elevation-z24","","tippy","Create a new content type",1,"grid-fab",3,"click"],["mat-button","","color","accent","tippy","Create a ghost content type",1,"eav-button__with-icon",3,"click"]],template:function(n,a){if(1&n&&(t.DNE(0,mt,19,6,"div",0),t.nI1(1,"async"),t.nrm(2,"router-outlet")),2&n){let s;t.vxM(0,(s=t.bMT(1,1,a.viewModel$))?0:-1,s)}},dependencies:[nt.E7,X.RG,X.rl,G.Ve,G.VO,T.wT,O.YN,O.BC,O.vS,T.Sy,N.Hl,N.$z,N.Sr,C.m_,C.An,m.n3,et.Jj,at.p,ct.xs,it.S],styles:[".eav-scope-dropdown[_ngcontent-%COMP%]{margin-top:-14px;width:350px}"]})}return o})()},693:(x,y,i)=>{function t(g){return new Promise((_,v)=>{const c=new FileReader;c.readAsDataURL(g),c.onload=()=>{_(c.result.split(",")[1])},c.onerror=h=>{v(h)}})}function m(g){return new Promise((_,v)=>{const c=new FileReader;c.readAsText(g),c.onload=()=>{_(c.result)},c.onerror=h=>{v(h)}})}i.d(y,{d:()=>m,n:()=>t})},8021:(x,y,i)=>{i.d(y,{A:()=>c,J:()=>v});var t=i(5682),m=i(1817),g=i(271),_=i(9611);function v(h){return(0,t.F)((0,m.F)(),(0,g.T)(h),(0,m.F)())}function c(h){return(0,t.F)((0,m.F)(),(0,g.T)(h),(0,m.F)(_.A))}},6256:(x,y,i)=>{i.d(y,{Y:()=>k,k:()=>$});var t=i(8559),m=i(5060),g=i(2102),_=i(316);let v=0;const c="mat-badge-content",h=new Set;let B=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(d,p){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return l})(),$=(()=>{class l{get color(){return this._color}set color(r){this._setColor(r),this._color=r}get content(){return this._content}set content(r){this._updateRenderedContent(r)}get description(){return this._description}set description(r){this._updateDescription(r)}constructor(r,d,p,A,j){this._ngZone=r,this._elementRef=d,this._ariaDescriber=p,this._renderer=A,this._animationMode=j,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=v++,this._isInitialized=!1,this._interactivityChecker=(0,t.WQX)(g.Z7),this._document=(0,t.WQX)(_.qQ);const f=(0,t.WQX)(t.o8S);if(!h.has(f)){h.add(f);const M=(0,t.a0P)(B,{environmentInjector:(0,t.WQX)(t.uvJ)});f.onDestroy(()=>{h.delete(f),0===h.size&&M.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const r=this._renderer.createElement("span"),d="mat-badge-active";return r.setAttribute("id",`mat-badge-content-${this._id}`),r.setAttribute("aria-hidden","true"),r.classList.add(c),"NoopAnimations"===this._animationMode&&r.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(r),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{r.classList.add(d)})}):r.classList.add(d),r}_updateRenderedContent(r){const d=`${r??""}`.trim();this._isInitialized&&d&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=d),this._content=d}_updateDescription(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!r||this._isHostInteractive())&&this._removeInlineDescription(),this._description=r,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,r):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(r){const d=this._elementRef.nativeElement.classList;d.remove(`mat-badge-${this._color}`),r&&d.add(`mat-badge-${r}`)}_clearExistingBadges(){const r=this._elementRef.nativeElement.querySelectorAll(`:scope > .${c}`);for(const d of Array.from(r))d!==this._badgeElement&&d.remove()}static#t=this.\u0275fac=function(d){return new(d||l)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(g.vr),t.rXU(t.sFG),t.rXU(t.bc$,8))};static#e=this.\u0275dir=t.FsC({type:l,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(d,p){2&d&&t.AVh("mat-badge-overlap",p.overlap)("mat-badge-above",p.isAbove())("mat-badge-below",!p.isAbove())("mat-badge-before",!p.isAfter())("mat-badge-after",p.isAfter())("mat-badge-small","small"===p.size)("mat-badge-medium","medium"===p.size)("mat-badge-large","large"===p.size)("mat-badge-hidden",p.hidden||!p.content)("mat-badge-disabled",p.disabled)},inputs:{color:[t.Mj6.None,"matBadgeColor","color"],overlap:[t.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",t.L39],disabled:[t.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",t.L39],position:[t.Mj6.None,"matBadgePosition","position"],content:[t.Mj6.None,"matBadge","content"],description:[t.Mj6.None,"matBadgeDescription","description"],size:[t.Mj6.None,"matBadgeSize","size"],hidden:[t.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",t.L39]},standalone:!0,features:[t.GFd]})}return l})(),k=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=t.$C({type:l});static#n=this.\u0275inj=t.G2t({imports:[g.Pd,m.yE,m.yE]})}return l})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/projects_eav-ui_src_app_app-administration_data_data_component_ts.6bcadc21c4d534ba.js.map
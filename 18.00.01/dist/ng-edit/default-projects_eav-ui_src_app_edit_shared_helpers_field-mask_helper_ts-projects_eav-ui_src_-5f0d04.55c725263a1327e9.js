"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_edit_shared_helpers_field-mask_helper_ts-projects_eav-ui_src_-5f0d04"],{7796:($,I,u)=>{u.d(I,{W:()=>i});class i{constructor(A,S,C,M,E,b,B,f){this.name=A,this.config=S,this.group=C,this.control=M,this.settings$=E,this.settings=b,this.basics=B,this.controlStatus=f}}},2490:($,I,u)=>{u.d(I,{S:()=>C});var i=u(8147),v=u(4031);const S="FieldLogic";class C{constructor(E,b){this.canAutoTranslate=!1,E&&(this.name=E,this._log=new i.B(`${S}[${E}]`,b),this.log.a(`constructor for ${E}`))}static add(E){const b=new E;v.y.singleton().add(b)}static importMe(){}get log(){return this._log??=new i.B(`${S}[${this.name}]`,!1)}isValueEmpty(E,b){const B=this.log.fn("isValueEmpty",{value:E,isCreateMode:b}),f=Array.isArray(E)&&0===E.length&&b;return B.r(void 0===E||f)}findAndMergeAdvanced(E,b,B){if(!b)return B;const f=E.eavConfig.settings.Entities.find(a=>a.Guid===b);if(!f)return B;const r=E.entityReader.flatten(f);return{...B,...r}}}},4031:($,I,u)=>{u.d(I,{y:()=>S});var i=u(4202),v=u(2490);class A extends v.S{constructor(){super(...arguments),this.name=i.u.Unknown,this.canAutoTranslate=!1}update({settings:M}){return M}}class S{constructor(){this.logics={},this.add(new A)}static singleton(){return window.eavFieldLogicManager??=new S}add(M){this.logics[M.name]=M}get(M){return this.logics[M]??null}getOrUnknown(M){return this.get(M)??this.get(i.u.Unknown)}}},7419:($,I,u)=>{u.d(I,{C:()=>P});var i=u(4334),v=u(7941),A=u(852),S=u(5797),C=u(9999),M=u(271),B=u(3840),f=u(2913),r=u(316),a=u(4456),d=u(7984),n=u(5944),o=u(4981),y=u(7896),T=u(5437),F=u(4839),e=u(8559);const U=_=>({page:_});function j(_,L){1&_&&e.eu8(0)}function k(_,L){if(1&_&&e.DNE(0,j,1,0,"ng-container",9),2&_){const m=L.$implicit;e.XpG(2);const D=e.sdS(15);e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(2,U,m))}}function N(_,L){if(1&_&&(e.j41(0,"ul"),e.Z7z(1,k,1,4,"ng-container",null,e.fX1),e.k0s()),2&_){const m=e.XpG();e.R7$(),e.Dyx(m.tree)}}function K(_,L){1&_&&(e.j41(0,"li")(1,"div",10),e.nrm(2,"div",11),e.j41(3,"div"),e.EFF(4,"No results"),e.k0s()()())}function it(_,L){if(1&_&&(e.j41(0,"span",15),e.EFF(1),e.k0s()),2&_){const m=e.XpG().$implicit;e.Y8G("tippy",m.path),e.R7$(),e.SpI("",m.path,"\xa0>\xa0")}}function z(_,L){1&_&&(e.j41(0,"mat-icon",18),e.EFF(1,"visibility_off"),e.k0s())}function Q(_,L){1&_&&(e.j41(0,"mat-icon",18),e.EFF(1,"cancel"),e.k0s())}function Z(_,L){if(1&_){const m=e.RV6();e.j41(0,"li")(1,"div",10),e.nrm(2,"div",11),e.j41(3,"div",12),e.bIt("click",function(){const R=e.eBV(m).$implicit,H=e.XpG(3);return e.Njj(H.select(R))}),e.j41(4,"div",13),e.nrm(5,"mat-icon",14),e.DNE(6,it,2,2,"span",15),e.j41(7,"span",16),e.EFF(8),e.k0s()(),e.j41(9,"div",17),e.DNE(10,z,2,0,"mat-icon",18)(11,Q,2,0,"mat-icon",18),e.k0s()()()()}if(2&_){const m=L.$implicit,D=e.XpG(3);e.R7$(3),e.Y8G("ngClass",m.id===D.selected?"selected":""),e.R7$(3),e.vxM(6,m.path?6:-1),e.R7$(),e.Y8G("tippy",m.name),e.R7$(),e.JRh(m.name),e.R7$(2),e.vxM(10,m.isVisible?-1:10),e.R7$(),e.vxM(11,m.isClickable?-1:11)}}function X(_,L){if(1&_&&(e.j41(0,"ul"),e.DNE(1,K,5,0,"li"),e.Z7z(2,Z,12,6,"li",null,e.fX1),e.k0s()),2&_){const m=e.XpG();e.R7$(),e.vxM(1,0===m.filteredSearch.length?1:-1),e.R7$(),e.Dyx(m.filteredSearch)}}function q(_,L){1&_&&e.nrm(0,"div",11)}function nt(_,L){if(1&_){const m=e.RV6();e.j41(0,"mat-icon",20),e.bIt("click",function(){e.eBV(m);const R=e.XpG().page,H=e.XpG(2);return e.Njj(H.toggle(R.id))}),e.EFF(1),e.k0s()}if(2&_){const m=e.XpG().page,D=e.XpG(2);e.R7$(),e.SpI(" ",D.toggled.includes(m.id)?"keyboard_arrow_down":"keyboard_arrow_right"," ")}}function at(_,L){1&_&&(e.j41(0,"mat-icon",18),e.EFF(1,"visibility_off"),e.k0s())}function tt(_,L){1&_&&(e.j41(0,"mat-icon",18),e.EFF(1,"cancel"),e.k0s())}function et(_,L){1&_&&e.eu8(0)}function rt(_,L){if(1&_&&e.DNE(0,et,1,0,"ng-container",9),2&_){const m=L.$implicit;e.XpG(3);const D=e.sdS(15);e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(2,U,m))}}function st(_,L){if(1&_&&(e.j41(0,"ul"),e.Z7z(1,rt,1,4,"ng-container",null,e.fX1),e.k0s()),2&_){const m=e.XpG().page;e.R7$(),e.Dyx(m.children)}}function p(_,L){if(1&_){const m=e.RV6();e.j41(0,"li")(1,"div",10),e.DNE(2,q,1,0,"div",11)(3,nt,2,1,"mat-icon",19),e.j41(4,"div",12),e.bIt("click",function(){const R=e.eBV(m).page,H=e.XpG(2);return e.Njj(H.select(R))}),e.j41(5,"div",13),e.nrm(6,"mat-icon",14),e.j41(7,"span"),e.EFF(8),e.k0s()(),e.j41(9,"div",17),e.DNE(10,at,2,0,"mat-icon",18)(11,tt,2,0,"mat-icon",18),e.k0s()()(),e.DNE(12,st,3,0,"ul"),e.k0s()}if(2&_){const m=L.page,D=e.XpG(2);e.R7$(2),e.vxM(2,0===m.children.length?2:-1),e.R7$(),e.vxM(3,m.children.length>0?3:-1),e.R7$(),e.Y8G("ngClass",m.id===D.selected?"selected":""),e.R7$(4),e.JRh(m.name),e.R7$(2),e.vxM(10,m.isVisible?-1:10),e.R7$(),e.vxM(11,m.isClickable?-1:11),e.R7$(),e.vxM(12,m.children.length>0&&D.toggled.includes(m.id)?12:-1)}}function O(_,L){if(1&_){const m=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e.EFF(9,"Search"),e.k0s(),e.j41(10,"input",7),e.bIt("ngModelChange",function(R){e.eBV(m);const H=e.XpG();return e.Njj(H.setFilter(R))}),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,N,3,0,"ul")(13,X,4,1,"ul"),e.k0s(),e.DNE(14,p,13,7,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(16,"mat-dialog-actions"),e.k0s()}if(2&_){const m=L;e.R7$(3),e.JRh(e.bMT(4,4,"Fields.Hyperlink.PagePicker.Title")),e.R7$(7),e.Y8G("ngModel",m.filterText),e.R7$(2),e.vxM(12,m.filterText?-1:12),e.R7$(),e.vxM(13,m.filterText?13:-1)}}let x=(()=>{class _{constructor(m,D,R){this.dialogData=m,this.dialogRef=D,this.translate=R,this.queryService=(0,T.d)(F.c)}ngOnInit(){this.selected=this.parseSelectedPageId(),this.toggled=[],this.filterText$=new S.t(""),this.searchItems$=new S.t([]),this.tree$=new S.t([]);const m=(0,C.z)([this.filterText$,this.searchItems$]).pipe((0,M.T)(([D,R])=>R.filter(H=>H.name.toLocaleLowerCase().includes(D.toLocaleLowerCase()))));this.viewModel$=(0,C.z)([this.filterText$,m,this.tree$]).pipe((0,M.T)(([D,R,H])=>({filterText:D,filteredSearch:R,tree:H}))),this.fetchPages()}ngOnDestroy(){this.filterText$.complete(),this.searchItems$.complete(),this.tree$.complete()}setFilter(m){this.filterText$.next(m)}select(m){null!=m.id&&((!m.isClickable||!m.isVisible)&&!window.confirm(this.translate.instant("Fields.Hyperlink.PagePicker.HiddenOrSystemPageWarning"))||this.closeDialog(m.id))}toggle(m){o.f.toggleInArray(m,this.toggled)}closeDialog(m){if(null==m)return void this.dialogRef.close();const D=this.searchItems$.value.find(H=>H.id===m),R={id:D.id.toString(),name:D.name};this.dialogRef.close(R)}fetchPages(){const m="Default";this.queryService.getAvailableEntities("System.Pages/Default","includehidden=true",null).subscribe({next:R=>{if(!R)return void console.error(this.translate.instant("Fields.Picker.QueryErrorNoData"));if(!R[m])return void console.error(this.translate.instant("Fields.Picker.QueryStreamNotFound")+" "+m);const H=R[m],J=function E(_){return _?_.map(m=>{let D=m.Path.trim().replace(/\\/g,"/").replace(/\/\//g,"/");return D.startsWith("/")&&(D=D.substring(1)),D=D.split("/").slice(0,-1).join(" > "),{id:m.Id,name:m.Name,path:D,isVisible:m.Visible,isClickable:m.Clickable}}):[]}(H);this.searchItems$.next(J);const Y=function b(_){if(!_)return[];const L=_.map(D=>({children:[],id:D.Id,name:D.Name,parentId:D.ParentId,isVisible:D.Visible,isClickable:D.Clickable})),m=[];for(const D of L){if(-1===D.parentId){m.push(D);continue}const R=L.find(H=>H.id===D.parentId);R?R.children.push(D):m.push(D)}return m}(H);this.tree$.next(Y)},error:R=>{console.error(R),console.error(`${this.translate.instant("Fields.Picker.QueryError")} - ${R.data}`)}})}parseSelectedPageId(){const m="page:";let D=this.dialogData.group.controls[this.dialogData.config.fieldName].value;if("string"==typeof D&&(D=D.trim().toLocaleLowerCase(),D.startsWith(m)))try{return parseInt(D.split(m)[1],10)}catch{return}}static#t=this.\u0275fac=function(D){return new(D||_)(e.rXU(v.Vh),e.rXU(v.CP),e.rXU(A.c$))};static#e=this.\u0275cmp=e.VBU({type:_,selectors:[["app-page-picker"]],standalone:!0,features:[e.aNF],decls:2,vars:3,consts:[["pageAndChildren",""],[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],[1,"eav-dialog-content"],[1,"page-search-box"],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","ngModel"],[1,"page-tree-box"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-row"],[1,"no-toggle"],[1,"page-label",3,"click","ngClass"],[1,"page-icon-and-text"],["svgIcon","file",1,"page-icon"],[1,"page-path",3,"tippy"],[1,"page-name",3,"tippy"],[1,"page-icons"],[1,"page-visible-clickable-icon"],[1,"page-toggle"],[1,"page-toggle",3,"click"]],template:function(D,R){if(1&D&&(e.DNE(0,O,17,6,"div",1),e.nI1(1,"async")),2&D){let H;e.vxM(0,(H=e.bMT(1,1,R.viewModel$))?0:-1,H)}},dependencies:[n.RG,n.rl,n.nJ,d.fS,d.fg,a.YN,a.me,a.BC,a.vS,r.T3,r.YU,f.Cc,f.PW,B.m_,B.An,v.E7,r.Jj,A.h,A.D9,y.e],styles:[".page-picker-title[_ngcontent-%COMP%]{margin:0}.page-search-box[_ngcontent-%COMP%]{margin-bottom:16px;width:40%}.page-tree-box[_ngcontent-%COMP%]{height:82%;max-width:100%;overflow:auto}.page-tree-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:8px;margin:0}.page-tree-box[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{padding-left:0}.page-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.page-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px}.no-toggle[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block;flex-shrink:0}.page-toggle[_ngcontent-%COMP%]{cursor:pointer;flex-shrink:0}.page-icon[_ngcontent-%COMP%]{margin-right:4px;flex-shrink:0}.page-visible-clickable-icon[_ngcontent-%COMP%]{margin-left:4px;flex-shrink:0}.page-label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:space-between;padding:4px 4px 4px 2px;border-radius:4px;width:100%}.page-label[_ngcontent-%COMP%]   .page-icon-and-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.page-label[_ngcontent-%COMP%]   .page-icons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.page-label[_ngcontent-%COMP%]   .page-path[_ngcontent-%COMP%]{color:#a2a7b1;text-overflow:ellipsis;max-width:270px;white-space:nowrap;overflow:hidden;padding-right:.5em}.page-label[_ngcontent-%COMP%]   .page-name[_ngcontent-%COMP%]{text-overflow:ellipsis;max-width:225px;white-space:nowrap;overflow:hidden}.page-label[_ngcontent-%COMP%]:hover{background-color:#06599a;color:#fff}.page-label[_ngcontent-%COMP%]:hover   .page-path[_ngcontent-%COMP%]{color:#c7cad0}.page-label.selected[_ngcontent-%COMP%]{background-color:#002753;color:#fff}.page-label.selected[_ngcontent-%COMP%]   .page-path[_ngcontent-%COMP%]{color:#c7cad0}"]})}return _})();class P{static open(L,m,D,R,H,J){D.open(x,{autoFocus:!1,data:{config:L,group:m},viewContainerRef:R,height:"80%",width:"650px"}).afterClosed().pipe((0,i.s)(1)).subscribe(G=>{J(G)}),H.markForCheck()}}},6177:($,I,u)=>{u.d(I,{x:()=>v});var i=u(5675);class v{static getTranslationStateClass(S){switch(S){case i.J.MissingDefaultLangValue:return"localization-missing-default-lang-value";case i.J.Translate:case i.J.LinkCopyFrom:return"localization-translate";case i.J.DontTranslate:return"";case i.J.LinkReadOnly:return"localization-link-read-only";case i.J.LinkReadWrite:return"localization-link-read-write";default:return""}}static calculateSharedInfoMessage(S,C){S=v.calculateShortDimensions(S,C);const M=v.calculateEditAndReadDimensions(S),E=M.editableDimensions,b=M.readOnlyDimensions;let B="";const f=E.length>0,r=b.length>0;return f&&r?B=`${E.join(", ")}, (${b.join(", ")})`:f?B=E.join(", "):r&&(B=`(${b.join(", ")})`),B}static calculateShortDimensions(S,C){const M={},E=C.slice(0,C.indexOf("-"));return M[E]=[],M[E].push(E),S.forEach(b=>{const f=b.slice(0,b.indexOf("-")).replace("~","");M[f]||(M[f]=[]),M[f].push(b)}),S.map(b=>{const B=b.slice(0,b.indexOf("-")),f=B.replace("~","");return M[f].length>1?b:B})}static calculateEditAndReadDimensions(S){const C=[],M=[];return S.forEach(E=>{E.includes("~")?M.push(E.replace("~","")):C.push(E)}),{editableDimensions:C,readOnlyDimensions:M}}}},880:($,I,u)=>{u.d(I,{G:()=>i});const i={Default:"Default",Strict:"Strict"}},324:($,I,u)=>{u.d(I,{J:()=>B});var i=u(8147),v=u(3408),A=u(402),S=u(6463),C=u(880);const b=new i.B("LocalizationHelpers",!1);class B{static translate(r,a,d){if(!a)return d;const n=this.getValueTranslation(a,r);if(n)return n.Value;const o=this.getValueTranslation(a,S.N.bothPrimary(r));return o?o.Value:a.Values[0]?.Value??null}static getValueOrDefault(r,a){return this.getValueTranslation(r,a)??this.getValueTranslation(r,S.N.bothPrimary(a))}static valuesOfLanguage(r,a){return r?r.Values.filter(d=>this.valueHasLanguage(d,a)):[]}static valueHasLanguage(r,a){return r.Dimensions.find(d=>d.Value===a.current||d.Value===`~${a.current}`||a.current===a.primary&&"*"===d.Value)}static getValueTranslation(r,a){return this.valuesOfLanguage(r,a)[0]}static isEditableOrReadonlyTranslationExist(r,a){return!!r&&this.valuesEditableOfCurrent(r,a).length>0}static valuesEditableOfCurrent(r,a){return r?r.Values.filter(d=>d.Dimensions.find(n=>n.Value===a.current||"*"===n.Value&&a.current===a.primary)):[]}static hasEditableValue(r,a){return this.valuesEditableOfCurrent(r,a).length>0}static countEditableValues(r,a){return this.valuesEditableOfCurrent(r,a).length}static countEditableValuesWithContent(r,a){return r?this.valuesEditableOfCurrent(r,a).filter(d=>""!=d.Value&&null!=d.Value)?.length:0}static hasReadonlyValue(r,a){return!!r&&r.Values.filter(d=>d.Dimensions.find(n=>n.Value===`~${a}`)).length>0}static hasValueOnPrimary(r,a){return!!r&&r.Values.filter(d=>d.Dimensions.find(n=>n.Value===a||"*"===n.Value)).length>0}static updateAttribute(r,a,d){const n={};if(0===Object.keys(r).length){const o={...d};return n[a]=o,n}for(const o of Object.keys(r))if(o===a){const y={...d};n[o]=y}else{const y={...r[o]};n[o]=y}if(null==r[a]){const o={...d};n[a]=o}return n}static updateAttributesValues(r,a,d){const n=b.fn("updateAttributesValues",{allFields:r,updateValues:a,language:d}),o={};return Object.keys(r).forEach(y=>{const T=a[y];if(void 0!==T)if(this.isEditableOrReadonlyTranslationExist(r[y],d)){const e={...r[y],Values:r[y].Values.map(U=>this.valueHasLanguage(U,d)?{...U,Value:T}:U)};o[y]=e}else{n.a("saveAttributeValues add values ",{newItemValue:T});const e=v._.create(T,[A.v.create(d.current)]),U={...r[y],Values:[...r[y].Values,e]};o[y]=U}else{const F={...r[y]};o[y]=F}}),o}static updateAttributeValue(r,a,d,n,o){let y={},T=n.current;o&&(T=`~${n.current}`);const F={...r[a],Values:r[a].Values.map(e=>this.valueHasLanguage(e,n)?{...e,Value:d,Dimensions:e.Dimensions.map(k=>k.Value===n.current||k.Value===`~${n.current}`||n.current===n.primary&&"*"===k.Value?{Value:T}:k)}:e)};return y=this.updateAttribute(r,a,F),y}static addAttributeValue(r,a,d,n){let o={};const y=0!==Object.keys(r).length&&r[d]?{...r[d],Values:[...r[d].Values,a],Type:n}:{...r[d],Values:[a],Type:n};return o=this.updateAttribute(r,d,y),o}static addAttributeDimension(r,a,d,n,o,y){let T={},F=d;y&&(F=`~${d}`);const e={...r[a],Values:r[a].Values.map(U=>U.Dimensions.find(k=>k.Value===n||n===o&&"*"===k.Value)?{...U,Dimensions:U.Dimensions.concat({Value:F})}:U)};return T=this.updateAttribute(r,a,e),T}static removeAttributeDimension(r,a,d){const n=r,o=[d,`~${d}`],y=n[a].Values.find(e=>e.Dimensions.some(j=>o.includes(j.Value)));if(!y)return{...n};let T;return y.Dimensions.length>1?T={...n[a],Values:n[a].Values.map(e=>e.Dimensions.some(j=>o.includes(j.Value))?{...e,Dimensions:e.Dimensions.filter(j=>!o.includes(j.Value))}:e)}:1===y.Dimensions.length&&(T={...n[a],Values:n[a].Values.filter(e=>!e.Dimensions.some(j=>o.includes(j.Value)))}),this.updateAttribute(n,a,T)}static getBestValue(r,a,d,n){if(null==r)return;let o=[a,`~${a}`],y=this.findValueForDimensions(r,o);return void 0!==y||(o=["*"],y=this.findValueForDimensions(r,o),void 0!==y)?y:n!==C.G.Strict?(o=[d,`~${d}`],y=this.findValueForDimensions(r,o),void 0!==y||(y=r.Values[0]?.Value),y):void 0}static findOfExactDimension(r,a){return r.find(d=>d.Dimensions.find(n=>n.Value===a))}static findValueForDimensions(r,a){return r.Values.find(n=>!!n.Dimensions.find(o=>a.includes(o.Value)))?.Value}}},5675:($,I,u)=>{u.d(I,{J:()=>i});const i={Translate:"Translate",DontTranslate:"DontTranslate",MissingDefaultLangValue:"MissingDefaultLangValue",LinkReadOnly:"LinkReadOnly",LinkReadWrite:"LinkReadWrite",LinkCopyFrom:"LinkCopyFrom"}},1573:($,I,u)=>{u.d(I,{N:()=>f});var i=u(4979),v=u(8147),A=u(8559),S=u(7796),C=u(1736);const E="FieldMask",b=/\[.*?\]/gi,B=/[\[\]]/gi;let f=(()=>{class d extends i.V{constructor(o){super(new v.B(E,!1)),this.injector=o,this.signal=(0,A.vPA)(""),this.watch=!1,this.fieldsUsedInMask=[],this.fieldState=(0,A.WQX)(S.W),this.controls=this.fieldState.group.controls,this.fieldConfig=this.fieldState.config,this.formConfig=(0,A.WQX)(C.S),this.log.a("constructor")}ngOnDestroy(){this.destroy()}initPreClean(o){return this.log.a("initPreClean"),this.preClean=o,this}initCallback(o){return this.log.a("initCallback"),this.callback=o,this.watch=!0,this}init(o,y,T){return this.log.rename(`${this.log.name}-${o}`),null!=T&&(this.watch=T),this.updateMask(y),this}logChanges(){const o=this.log.enabled?this.log:new v.B(E,!0);return(0,A.QZP)(()=>{const y=this.signal();o.a(`Mask '${this.mask}' value changed to: ${y}`)},{injector:this.injector}),this}updateMask(o){this.mask=o??"",this.fieldsUsedInMask=this.extractFieldNames(this.mask),(this.watch||this.callback)&&this.watchAllFields(),this.onChange()}resolve(){if(!r(this.mask))return this.mask;let o=function a(d){return d.replace(/\[([^\]]+)\]/g,(n,o)=>`[${o.toLowerCase()}]`)}(this.mask);return null!=this.formConfig&&(o=o.replace("[app:appid]",this.formConfig.config.appId.toString()).replace("[app:zoneid]",this.formConfig.config.zoneId.toString())),null!=this.fieldConfig&&(o=o.replace("[guid]",this.fieldConfig.entityGuid).replace("[id]",this.fieldConfig.entityId.toString())),this.fieldsUsedInMask.forEach((y,T)=>{const F=this.controls.hasOwnProperty(y)&&this.controls[y]&&this.controls[y].value?this.controls[y].value:"",e=this.preClean(y,F);o=o.replace("["+y.toLowerCase()+"]",e)}),o}extractFieldNames(o){if(!o||!r(o))return[];const y=[],T=o.match(b);return T?T.forEach(F=>{const e=F.replace(B,"");y.push(e)}):y.push(this.mask),y}preClean(o,y){return y}onChange(){const o=this.resolve();this.signal()!==o&&(this.signal.set(o),this.callback?.(o))}watchAllFields(){this.fieldsUsedInMask.forEach(o=>{const y=this.controls[o];if(!y)return;const T=y.valueChanges.subscribe(F=>this.onChange());this.subscriptions.add(T)})}static#t=this.\u0275fac=function(y){return new(y||d)(A.KVO(A.zZn))};static#e=this.\u0275prov=A.jDH({token:d,factory:d.\u0275fac})}return d})();function r(d){return(d??"").includes("[")}},4798:($,I,u)=>{u.d(I,{im:()=>v.i,bT:()=>S,J5:()=>B,Nt:()=>i.N,qR:()=>v.q,M5:()=>C,SX:()=>r,b:()=>a.b});var i=u(1573),v=u(1592),A=u(324);class S{constructor(n,o){this.current=n,this.primary=o}getBestValue(n,o=null){return A.J.translate(this,n,o)}flatten(n){return this.flattenAll([n])}flattenAll(n){if(null==n||0===n.length||null==n[0])return{};const o={};for(const y of n)if("@All"!==y.Type.Id)for(const[T,F]of Object.entries(y.Attributes)){const e=this.getBestValue(F);o[T]=e}for(const y of n)if("@All"===y.Type.Id)for(const[T,F]of Object.entries(y.Attributes)){const e=this.getBestValue(F);null!=o[T]&&(null==e||""===e)||(o[T]=e)}return o}currentValues(n){const o={};for(const[y,T]of Object.entries(n))o[y]=this.getBestValue(T);return o}}let C=(()=>{class d{static#t=this.defaultIcon="file";static#e=this.customExtensions={doc:"file-word",docx:"file-word",xls:"file-excel",xlsx:"file-excel",ppt:"file-powerpoint",pptx:"file-powerpoint",pdf:"file-pdf",mp3:"file-audio",avi:"file-video",mpg:"file-video",mpeg:"file-video",mov:"file-video",mp4:"file-video",zip:"file-archive",rar:"file-archive",txt:"file-text",html:"file-code",css:"file-code",xml:"file-code",xsl:"file-code"};static#s=this.matExtensions={vcf:"person"};static getExtension(o){return o.substring(o.lastIndexOf(".")+1).toLocaleLowerCase()}static getIconClass(o){const y=this.getExtension(o);return this.matExtensions[y]||this.customExtensions[y]||this.defaultIcon}static isKnownType(o){return null!=this.matExtensions[this.getExtension(o)]}static isImage(o){return this.isImgRegex().test(o)}static isImgRegex(){return/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*\.(?:jpg|jpeg|gif|png|webp))(?:\?([^#]*))?(?:#(.*))?/i}}return d})();var M=u(4202),E=u(8147);class B{static getDefaultOrPrefillValue(n,o,y,T,F){const U=new E.B("InputFieldHelpers",!1).fn("parseDefaultValue",{name:n,inputType:o,settings:y,itemHeader:T,onlyPrefill:F}),j=T?.Prefill?.[n];if(F&&void 0===j)return U.rNull("only prefill, but no prefill data found");let k=j?.toString()??y.DefaultValue;switch(U.values({defaultValue:k}),o){case M.u.BooleanDefault:return"true"===k?.toLowerCase();case M.u.BooleanTristate:return null!=k&&""!==k?"true"===k.toLowerCase():null;case M.u.DateTimeDefault:return null!=k&&""!==k?new Date(k).toJSON():null;case M.u.NumberDefault:case M.u.NumberDropdown:case M.u.NumberPicker:return null!=k&&""!==k?isNaN(Number(k))?null:Number(k):null;case M.u.EntityDefault:case M.u.EntityQuery:case M.u.EntityContentBlocks:case M.u.EntityPicker:if(null==k||""===k)return[];if(k.includes("{")&&(k=k.replace(/[\{\}]/g,'"')),k.includes(",")&&!k.includes("[")){const N=k.split(",").map(K=>K.trim());k=JSON.stringify(N)}return k.startsWith("[")?JSON.parse(k):[k.replace(/"/g,"")];default:return k??""}}}u(7419);class r{static removeFromStart(n,o){if(!n)return n;for(;n.substring(0,1)===o;)n=n.substring(1);return n}static removeFromEnd(n,o){if(!n)return n;for(;n.substring(n.length-1,n.length)===o;)n=n.substring(0,n.length-1);return n}static cleanBadPath(n){if(!n)return n;const o="_";return n.replace(/[\?<>\\:\*\|":]/g,o).replace(/[\x00-\x1f\x80-\x9f]/g,o).replace(/^\.+$/,o).replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,o).replace(/[\. ]+$/,o)}static sanitizePath(n){return n&&(n=this.removeFromStart(n,"/"),n=this.removeFromEnd(n,"/"),n=this.removeFromStart(n,"\\"),n=this.removeFromEnd(n,"\\"),this.cleanBadPath(n))}static sanitizeName(n){return n?this.sanitizePath(n).replace(/\//g,"_"):n}}var a=u(3412)},402:($,I,u)=>{u.d(I,{v:()=>i});class i{static create(A){return{Value:A}}}},3408:($,I,u)=>{u.d(I,{_:()=>v});var i=u(402);class v{static create(S,C){return{Value:S,Dimensions:C}}static convert(S){return Object.entries(S).map(([M,E])=>{const b=M.split(",").map(B=>i.v.create(B));return this.create(E,b)})}}},2261:($,I,u)=>{u.d(I,{T:()=>r});var i=u(271),v=u(6301),A=u(4798),S=u(8021),C=u(6463),M=u(9964),E=u(5739),b=u(8559);let r=(()=>{class a extends M.k{constructor(){super({nameOfThis:"LanguageInstanceService",logThis:!1}),this.getId=n=>n.formId,this.sanitizeAdd=n=>({...C.N.empty,initial:n.current,...n}),this.#t=new E.K,this.#e=new E.K}addForm(n,o,y,T){this.add({formId:n,current:y,initial:y,primary:o,hideHeader:T})}setCurrent(n,o){this.update(n,{current:o})}getEntityReader$(n){return this.getLanguage$(n).pipe((0,i.T)(o=>new A.bT(o.current,o.primary)),(0,v.t)(1))}getEntityReader(n){return this.#t.getOrCreate(n,()=>{const o=this.getSignal(n);return new A.bT(o().current,o().primary)})}#t;getLanguage$(n){return this.cache$.pipe((0,i.T)(o=>o[n]),(0,S.J)(o=>o),(0,v.t)(1))}getHideHeaderSignal(n){return this.#e.getOrCreate(n,()=>this.cache()[n]?.hideHeader??!1)}#e;updateHideHeader(n,o){this.update(n,{hideHeader:o})}static#s=this.\u0275fac=function(o){return new(o||a)};static#i=this.\u0275prov=b.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},6632:($,I,u)=>{u.d(I,{r:()=>b});var i=u(8559),v=u(8147),A=u(5739),S=u(9611);class b{#t;#e;get cache(){return this.#t}get list(){return this.#e}constructor(f){this.#t=(0,i.vPA)({}),this.#e=(0,i.EWP)(()=>Object.values(this.#t())),this.getId=r=>r.id,this.sanitizeAdd=r=>r,this.#s=new A.K,this.log=new v.B(f.nameOfThis??"SignalStoreBase",f.logThis??!0),this.log.a("SignalStoreBase created",{options:f}),this.name=f.nameOfThis}add(f){const r=this.log.fn("add",{item:f});if(!f)return r.end(null,"item is null");this.#t.set({...this.#t(),[this.getId(f)]:this.sanitizeAdd(f)}),r.end(null,"added")}addMany(f){var r=this.log.fn("addMany",{items:f});if(!f||0==f.length)return r.end(null,"items is null or empty");const a=f.reduce((d,n)=>({...d,[this.getId(n)]:this.sanitizeAdd(n)}),{...this.#t()});this.#t.set(a),r.end(null,"added")}update(f,r){const a=this.log.fn("update",{id:f,item:r});if(!f||!r)return a.end(null,"id or item is null");const d=this.get(f);if(!d)return a.end(null,`Item with id ${f} not found in store`);const n={...d,...r};this.#t.set({...this.#t(),[f]:n}),a.end(null,"updated")}remove(f){const r=this.log.fn("remove",{id:f}),{[f]:a,...d}=this.#t();this.#t.set(d),r.end(null,"removed")}clearCache(){const f=this.log.fn("clearCache");this.#t.set({}),f.end(null,"cleared")}get(f){const r=this.#t()[f];return this.log.a(`get(${f}) - `+(null==r?"not":"")+"found"),r}getAll(){const f=this.#e();return this.log.a(`getAll() - found ${f.length} items`),f}getMany(f){const r=this.log.fn("getMany",{ids:f}),a=f.map(d=>this.#t()[d]).filter(d=>null!=d);return r.r(a,`found ${a.length} items`)}getSignal(f){const r=this.#s.getOrCreateWithInfo(f,()=>this.get(f));return this.log.a(`getSignal(${f})`,{isNew:r.isNew}),r.signal}#s;getManySignal(f){const r=(0,i.EWP)(()=>f.map(a=>this.get(a)).filter(a=>null!=a),{equal:S.A});return this.log.a("getManySignal()",{ids:f}),r}getAllSignal(){const f=this.#e;return this.log.a(`getAllSignal() - found ${f().length} items`),f}}},9964:($,I,u)=>{u.d(I,{k:()=>S});var i=u(9074),v=u(6632),A=u(8021);class S extends v.r{#t=(0,i.br)(this.cache);#e=(0,i.br)(this.list);get cache$(){return this.#t}get list$(){return this.#e}constructor(M){super(M)}getList$(){return this.list$}getMany$(M){return this.cache$.pipe((0,A.J)(E=>M.map(b=>E[b]).filter(b=>null!=b)))}}},1592:($,I,u)=>{u.d(I,{i:()=>E,q:()=>b});var i=u(4031),v=u(6177),A=u(1612),S=u(5675),C=u(324),M=u(1947);class E{static initDefaultSettings(r,a,d){const o={...r.flattenAll(a.Metadata)};return o.Description??="",o.EditInstructions??="",o.Features??="",o.Label??="",o.ListInstructions??="",o.Notes??="",o.Icon??="",o.Link??="",o._itemTitle=this.getContentTypeTitle(a,r),o._slotCanBeEmpty=d.IsEmptyAllowed??!1,o._slotIsEmpty=d.IsEmpty??!1,o}static getContentTypeTitle(r,a){try{const d=r.Metadata.find(o=>"ContentType"===o.Type.Name||"xx ContentType"===o.Type.Name);let n=d?C.J.getValueOrDefault(d.Attributes.Label,a)?.Value:null;return n=n||r.Name,n}catch{return r.Name}}}class b{static getDefaultFieldSettings(r){const a=B.moveDeprecatedSettings({...r});a.Name??="",a.Placeholder??="",a.Notes??="",a.Required??=!1,a.Disabled??=!1,a.DisableTranslation??=!1,a.Visible??=!0,null!=a.DefaultCollapsed&&(a.Collapsed=a.DefaultCollapsed,delete a.DefaultCollapsed),a.Formulas??=[];let d=i.y.singleton().get(r.InputType);return a.DisableAutoTranslation??=!d?.canAutoTranslate,a}static findDisableTranslation(r,a,d,n,o){if(r.find(T=>T.Type.Name===M.s.LanguagesDecorator)?.Attributes.Enabled?.Values.some(T=>!1===T.Value)||a?.DisableI18n||!C.J.hasValueOnPrimary(d,n))return!0;for(const T of o??[])if(T.Attributes.DisableTranslation?.Values.some(F=>!0===F.Value))return!0;return!1}static isLastInGroup(r,a){const d=r.Attributes.indexOf(a);return null==r.Attributes[d+1]||!(d<r.Attributes.findIndex(o=>A.Q.isGroupStart(o.InputType))||!A.Q.isGroupEnd(a.InputType)&&!A.Q.endsPreviousGroup(r.Attributes[d+1].InputType))}static getDisabledBecauseTranslations(r,a,d){return!(d.current===d.primary||C.J.hasValueOnPrimary(r,d.primary)&&!a&&(C.J.hasEditableValue(r,d)||(C.J.hasReadonlyValue(r,d.current),0)))}static getTranslationState(r,a,d){let n,o;if(a)n="LangMenu.InAllLanguages",o="";else if(C.J.hasValueOnPrimary(r,d.primary)){const F=C.J.hasEditableValue(r,d),e=C.J.hasReadonlyValue(r,d.current);if(F||e){const U=C.J.getValueTranslation(r,d).Dimensions.map(k=>k.Value).filter(k=>!k.includes(d.current));U.length>0?(F?n="LangMenu.In":e&&(n="LangMenu.From"),o=v.x.calculateSharedInfoMessage(U,d.current)):(n="",o="")}else n="LangMenu.UseDefault",o=""}else n="LangMenu.MissingDefaultLangValue",o=d.primary;const y=this.getTranslationStateCore(r,a,d);return{infoLabel:n,infoMessage:o,language:y.language,linkType:y.linkType}}static getTranslationStateCore(r,a,d){if(!C.J.hasValueOnPrimary(r,d.primary))return{language:"",linkType:S.J.MissingDefaultLangValue};if(a)return{language:"",linkType:S.J.DontTranslate};if(C.J.hasEditableValue(r,d)){const n=C.J.getValueTranslation(r,d).Dimensions.filter(o=>o.Value!==d.current);return n.length>0?{language:n[0].Value,linkType:S.J.LinkReadWrite}:{language:"",linkType:S.J.Translate}}return C.J.hasReadonlyValue(r,d.current)?{language:C.J.getValueTranslation(r,d).Dimensions.filter(o=>o.Value!==d.current)[0].Value,linkType:S.J.LinkReadOnly}:{language:"",linkType:S.J.DontTranslate}}}class B{static moveDeprecatedSettings(r){var a=r;return null==a.VisibleInEditUI||(r.Visible=a.VisibleInEditUI,delete a.VisibleInEditUI),r}}},1736:($,I,u)=>{u.d(I,{S:()=>B});var i=u(8559),v=u(8172),A=u(8873),S=u(2261),C=u(8147);let B=(()=>{class f{constructor(){this.log=new C.B("FormConfigService",!1),this.configSignal=(0,i.vPA)(null),this.context=(0,i.WQX)(A.o),this.languageService=(0,i.WQX)(S.T)}initFormConfig(a,d,n,o,y,T,F,e){this.settings=e,this.languages={initial:a.Language.Current,primary:a.Language.Primary,list:a.Language.List},this.config={zoneId:this.context.zoneId,appId:this.context.appId,appRoot:a.App.Url,appSharedRoot:a.App.SharedUrl,moduleId:this.context.moduleId?.toString(),partOfPage:sessionStorage.getItem(v.h9)??v.bO,portalRoot:a.Site.Url,tabId:this.context.tabId?.toString(),systemRoot:window.location.pathname.split("/dist/")[0]+"/",versioningOptions:this.getVersioningOptions("true"===sessionStorage.getItem(v.h9),sessionStorage.getItem(v.Hh)),formId:d,isParentDialog:n,itemGuids:o,createMode:y,isCopy:T,enableHistory:F,enableFormulaSave:a.Enable.FormulaSave??!1,overrideEditRestrictions:a.Enable.OverrideEditRestrictions??!1,dialogContext:a,settings:e},this.configSignal.set(this.config),this.language=this.languageService.getSignal(this.config.formId)}getVersioningOptions(a,d){const n={show:!0,hide:!0,branch:!0};if(!a)return n;const o=d||"";switch(o){case"":case"DraftOptional":return n;case"DraftRequired":return{branch:!0,hide:!0};case"DraftForbidden":return{show:!0};default:return console.error(`Invalid versioning requirements: ${o}`),{}}}get language$(){return this._language$??=this.languageService.getLanguage$(this.config.formId)}static#t=this.\u0275fac=function(d){return new(d||f)};static#e=this.\u0275prov=i.jDH({token:f,factory:f.\u0275fac})}return f})()},6463:($,I,u)=>{u.d(I,{N:()=>i});class i{static bothPrimary(S){return{current:S.primary,primary:S.primary}}static diffCurrent(S,C){return{current:C,primary:S.primary}}static empty(){return{current:"",primary:"",initial:""}}}},1947:($,I,u)=>{u.d(I,{s:()=>i});const i={LanguagesDecorator:"LanguagesDecorator",SaveEmptyDecorator:"SaveEmptyDecorator"}},4202:($,I,u)=>{u.d(I,{u:()=>i});const i={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomGps:"custom-gps",CustomJsonEditor:"custom-json-editor",DateTimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg",EntityPicker:"entity-picker",StringPicker:"string-picker",NumberPicker:"number-picker",Unknown:"unknown"}},1612:($,I,u)=>{u.d(I,{Q:()=>C});var i=u(4202);const v=[i.u.EmptyDefault,i.u.EmptyEnd,i.u.EmptyMessage],A=[i.u.EmptyDefault,i.u.EmptyEnd],S=[i.u.EntityPicker,i.u.StringPicker,i.u.NumberPicker];class C{static isEmpty(E){return v.includes(E)}static endsPreviousGroup(E){return A.includes(E)}static isGroupStart(E){return E===i.u.EmptyDefault}static isGroupEnd(E){return E===i.u.EmptyEnd}static isMessage(E){return E===i.u.EmptyMessage}static isNewPicker(E){return S.includes(E)}}},4981:($,I,u)=>{u.d(I,{f:()=>i});class i{static toggleInArray(A,S){const C=S.indexOf(A);-1===C?S.push(A):S.splice(C,1)}}},5739:($,I,u)=>{u.d(I,{K:()=>A});var i=u(8559),v=u(9611);class A{constructor(){this.cache={}}get(C){return this.cache[C]}getOrCreate(C,M,E=null){return this.getOrCreateWithInfo(C,M,E).signal}getOrCreateWithInfo(C,M,E=null){if(this.cache[C])return{signal:this.cache[C],isNew:!1};const b=(0,i.EWP)(()=>M(),E??{equal:v.A});return{signal:this.set(C,b),isNew:!0}}set(C,M){return this.cache[C]=M,M}delete(C){delete this.cache[C]}clear(){Object.keys(this.cache).forEach(C=>{delete this.cache[C]})}}},8021:($,I,u)=>{u.d(I,{A:()=>M,J:()=>C});var i=u(5682),v=u(1817),A=u(271),S=u(9611);function C(E){return(0,i.F)((0,v.F)(),(0,A.T)(E),(0,v.F)())}function M(E){return(0,i.F)((0,v.F)(),(0,A.T)(E),(0,v.F)(S.A))}},6686:($,I,u)=>{function i(f){for(let r in f){let a=f[r]??"";switch(r){case"display":f.display="flex"===a?["-webkit-flex","flex"]:"inline-flex"===a?["-webkit-inline-flex","inline-flex"]:a;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":f["-webkit-"+r]=a;break;case"flex-direction":f["-webkit-flex-direction"]=a,f["flex-direction"]=a;break;case"order":f.order=f["-webkit-"+r]=isNaN(+a)?"0":a}}return f}u.d(I,{C5:()=>B,O5:()=>i,Uo:()=>A,Vc:()=>M,uG:()=>S});const v="inline",A=["row","column","row-reverse","column-reverse"];function S(f){let[r,a,d]=C(f);return function b(f,r=null,a=!1){return{display:a?"inline-flex":"flex","box-sizing":"border-box","flex-direction":f,"flex-wrap":r||null}}(r,a,d)}function C(f){f=f?.toLowerCase()??"";let[r,a,d]=f.split(" ");return A.find(n=>n===r)||(r=A[0]),a===v&&(a=d!==v?d:"",d=v),[r,E(a),!!d]}function M(f){let[r]=C(f);return r.indexOf("row")>-1}function E(f){if(f)switch(f.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":f="wrap-reverse";break;case"no":case"none":case"nowrap":f="nowrap";break;default:f="wrap"}return f}function B(f,...r){if(null==f)throw TypeError("Cannot convert undefined or null to object");for(let a of r)if(null!=a)for(let d in a)a.hasOwnProperty(d)&&(f[d]=a[d]);return f}},6479:($,I,u)=>{u.d(I,{Ce:()=>F,DJ:()=>_t,EA:()=>T,Ui:()=>d,ZH:()=>k,cL:()=>Ct,hN:()=>Et,qH:()=>ot,r3:()=>j});var i=u(8559),v=u(316),A=u(5797),S=u(3942),C=u(3617),M=u(4205),E=u(6686),b=u(1567),B=u(8764);const r={provide:i.iLQ,useFactory:function f(c,g){return()=>{if((0,v.UE)(g)){const t=Array.from(c.querySelectorAll(`[class*=${a}]`)),s=/\bflex-layout-.+?\b/g;t.forEach(l=>{l.classList.contains(`${a}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(s,"")})}}},deps:[v.qQ,i.Agw],multi:!0},a="flex-layout-";let d=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=i.$C({type:c}),c.\u0275inj=i.G2t({providers:[r]}),c})();class n{constructor(g=!1,t="all",s="",l="",h=0){this.matches=g,this.mediaQuery=t,this.mqAlias=s,this.suffix=l,this.priority=h,this.property=""}clone(){return new n(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let o=(()=>{class c{constructor(){this.stylesheet=new Map}addStyleToElement(t,s,l){const h=this.stylesheet.get(t);h?h.set(s,l):this.stylesheet.set(t,new Map([[s,l]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,s){const l=this.stylesheet.get(t);let h="";if(l){const w=l.get(s);("number"==typeof w||"string"==typeof w)&&(h=w+"")}return h}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const y={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},T=new i.nKC("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>y}),F=new i.nKC("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),e=new i.nKC("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function U(c,g){return c=c?.clone()??new n,g&&(c.mqAlias=g.alias,c.mediaQuery=g.mediaQuery,c.suffix=g.suffix,c.priority=g.priority),c}class j{constructor(){this.shouldCache=!0}sideEffect(g,t,s){}}let k=(()=>{class c{constructor(t,s,l,h){this._serverStylesheet=t,this._serverModuleLoaded=s,this._platformId=l,this.layoutConfig=h}applyStyleToElement(t,s,l=null){let h={};"string"==typeof s&&(h[s]=l,s=h),h=this.layoutConfig.disableVendorPrefixes?s:(0,E.O5)(s),this._applyMultiValueStyleToElement(h,t)}applyStyleToElements(t,s=[]){const l=this.layoutConfig.disableVendorPrefixes?t:(0,E.O5)(t);s.forEach(h=>{this._applyMultiValueStyleToElement(l,h)})}getFlowDirection(t){const s="flex-direction";let l=this.lookupStyle(t,s);return[l||"row",this.lookupInlineStyle(t,s)||(0,v.Vy)(this._platformId)&&this._serverModuleLoaded?l:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,s){return t.getAttribute(s)??""}lookupInlineStyle(t,s){return(0,v.UE)(this._platformId)?t.style.getPropertyValue(s):function N(c,g){return z(c)[g]??""}(t,s)}lookupStyle(t,s,l=!1){let h="";return t&&((h=this.lookupInlineStyle(t,s))||((0,v.UE)(this._platformId)?l||(h=getComputedStyle(t).getPropertyValue(s)):this._serverModuleLoaded&&(h=this._serverStylesheet.getStyleForElement(t,s)))),h?h.trim():""}_applyMultiValueStyleToElement(t,s){Object.keys(t).sort().forEach(l=>{const h=t[l],w=Array.isArray(h)?h:[h];w.sort();for(let V of w)V=V?V+"":"",(0,v.UE)(this._platformId)||!this._serverModuleLoaded?(0,v.UE)(this._platformId)?s.style.setProperty(l,V):K(s,l,V):this._serverStylesheet.addStyleToElement(s,l,V)})}}return c.\u0275fac=function(t){return new(t||c)(i.KVO(o),i.KVO(F),i.KVO(i.Agw),i.KVO(T))},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function K(c,g,t){g=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=z(c);s[g]=t??"",function it(c,g){let t="";for(const s in g)g[s]&&(t+=`${s}:${g[s]};`);c.setAttribute("style",t)}(c,s)}function z(c){const g={},t=c.getAttribute("style");if(t){const s=t.split(/;+/g);for(let l=0;l<s.length;l++){const h=s[l].trim();if(h.length>0){const w=h.indexOf(":");if(-1===w)throw new Error(`Invalid CSS style: ${h}`);g[h.substr(0,w).trim()]=h.substr(w+1).trim()}}}return g}function Q(c,g){return(g&&g.priority||0)-(c&&c.priority||0)}function Z(c,g){return(c.priority||0)-(g.priority||0)}let X=(()=>{class c{constructor(t,s,l){this._zone=t,this._platformId=s,this._document=l,this.source=new A.t(new n(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((s,l)=>{s.matches&&t.push(l)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(l=>l.matches)}observe(t,s=!1){if(t&&t.length){const l=this._observable$.pipe((0,b.p)(w=>!s||t.indexOf(w.mediaQuery)>-1)),h=new S.c(w=>{const V=this.registerQuery(t);if(V.length){const W=V.pop();V.forEach(ht=>{w.next(ht)}),this.source.next(W)}w.complete()});return(0,C.h)(h,l)}return this._observable$}registerQuery(t){const s=Array.isArray(t)?t:[t],l=[];return function nt(c,g){const t=c.filter(s=>!q[s]);if(t.length>0){const s=t.join(", ");try{const l=g.createElement("style");l.setAttribute("type","text/css"),l.styleSheet||l.appendChild(g.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),g.head.appendChild(l),t.forEach(h=>q[h]=l)}catch(l){console.error(l)}}}(s,this._document),s.forEach(h=>{const w=W=>{this._zone.run(()=>this.source.next(new n(W.matches,h)))};let V=this.registry.get(h);V||(V=this.buildMQL(h),V.addListener(w),this.pendingRemoveListenerFns.push(()=>V.removeListener(w)),this.registry.set(h,V)),V.matches&&l.push(new n(!0,h))}),l}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function tt(c,g){return g&&window.matchMedia("all").addListener?window.matchMedia(c):function at(c){const g=new EventTarget;return g.matches="all"===c||""===c,g.media=c,g.addListener=()=>{},g.removeListener=()=>{},g.addEventListener=()=>{},g.dispatchEvent=()=>!1,g.onchange=null,g}(c)}(t,(0,v.UE)(this._platformId))}}return c.\u0275fac=function(t){return new(t||c)(i.KVO(i.SKi),i.KVO(i.Agw),i.KVO(v.qQ))},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const q={},et=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],rt="(orientation: portrait) and (max-width: 599.98px)",st="(orientation: landscape) and (max-width: 959.98px)",p="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",O="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",x="(orientation: portrait) and (min-width: 840px)",P="(orientation: landscape) and (min-width: 1280px)",_={HANDSET:`${rt}, ${st}`,TABLET:`${p} , ${O}`,WEB:`${x}, ${P} `,HANDSET_PORTRAIT:`${rt}`,TABLET_PORTRAIT:`${p} `,WEB_PORTRAIT:`${x}`,HANDSET_LANDSCAPE:`${st}`,TABLET_LANDSCAPE:`${O}`,WEB_LANDSCAPE:`${P}`},L=[{alias:"handset",priority:2e3,mediaQuery:_.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:_.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:_.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:_.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:_.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:_.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:_.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:_.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:_.WEB_PORTRAIT,overlapping:!0}],m=/(\.|-|_)/g;function D(c){let g=c.length>0?c.charAt(0):"",t=c.length>1?c.slice(1):"";return g.toUpperCase()+t}const Y=new i.nKC("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const c=(0,i.WQX)(e),g=(0,i.WQX)(T),t=[].concat.apply([],(c||[]).map(l=>Array.isArray(l)?l:[l]));return function J(c,g=[]){const t={};return c.forEach(s=>{t[s.alias]=s}),g.forEach(s=>{t[s.alias]?(0,E.C5)(t[s.alias],s):t[s.alias]=s}),function H(c){return c.forEach(g=>{g.suffix||(g.suffix=function R(c){return c.replace(m,"|").split("|").map(D).join("")}(g.alias),g.overlapping=!!g.overlapping)}),c}(Object.keys(t).map(s=>t[s]))}((g.disableDefaultBps?[]:et).concat(g.addOrientationBps?L:[]),t)}});let lt=(()=>{class c{constructor(t){this.findByMap=new Map,this.items=[...t].sort(Z)}findByAlias(t){return t?this.findWithPredicate(t,s=>s.alias===t):null}findByQuery(t){return this.findWithPredicate(t,s=>s.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,s){let l=this.findByMap.get(t);return l||(l=this.items.find(s)??null,this.findByMap.set(t,l)),l??null}}return c.\u0275fac=function(t){return new(t||c)(i.KVO(Y))},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const G="print",ft={alias:G,mediaQuery:G,priority:1e3};let pt=(()=>{class c{constructor(t,s,l){this.breakpoints=t,this.layoutConfig=s,this._document=l,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new mt,this.deactivations=[]}withPrintQuery(t){return[...t,G]}isPrintEvent(t){return t.mediaQuery.startsWith(G)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const s=this.breakpoints.findByQuery(t);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(Q)}updateEvent(t){let s=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(s=this.getEventBreakpoints(t)[0],t.mediaQuery=s?.mediaQuery??""),U(t,s)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new n(!0,G))),t.updateStyles())},l=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",l),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(l)}interceptEvents(t){return s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(s)),t.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,s)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,s){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,s){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!s.matches){const l=this.breakpoints.findByQuery(s.mediaQuery);if(l){const h=this.formerActivations&&this.formerActivations.includes(l),w=!this.formerActivations&&t.activatedBreakpoints.includes(l);(h||w)&&(this.deactivations.push(l),this.deactivations.sort(Q))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return c.\u0275fac=function(t){return new(t||c)(i.KVO(lt),i.KVO(T),i.KVO(v.qQ))},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class mt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(g){return g.push(ft),g.sort(Q),g.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(g){g&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===g.mediaQuery)&&(this.printBreakpoints=function yt(c){return c?.mediaQuery.startsWith(G)??!1}(g)?[g,...this.printBreakpoints]:[...this.printBreakpoints,g])}clear(){this.printBreakpoints=[]}}let ot=(()=>{class c{constructor(t,s,l){this.matchMedia=t,this.breakpoints=s,this.hook=l,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new M.B,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const s=this.findByQuery(t.mediaQuery);if(s){t=U(t,s);const l=this.activatedBreakpoints.indexOf(s);t.matches&&-1===l?(this._activatedBreakpoints.push(s),this._activatedBreakpoints.sort(Q),this.updateStyles()):!t.matches&&-1!==l&&(this._activatedBreakpoints.splice(l,1),this._activatedBreakpoints.sort(Q),this.updateStyles())}}init(t,s,l,h,w=[]){ct(this.updateMap,t,s,l),ct(this.clearMap,t,s,h),this.buildElementKeyMap(t,s),this.watchExtraTriggers(t,s,w)}getValue(t,s,l){const h=this.elementMap.get(t);if(h){const w=void 0!==l?h.get(l):this.getActivatedValues(h,s);if(w)return w.get(s)}}hasValue(t,s){const l=this.elementMap.get(t);if(l){const h=this.getActivatedValues(l,s);if(h)return void 0!==h.get(s)||!1}return!1}setValue(t,s,l,h){let w=this.elementMap.get(t);if(w){const W=(w.get(h)??new Map).set(s,l);w.set(h,W),this.elementMap.set(t,w)}else w=(new Map).set(h,(new Map).set(s,l)),this.elementMap.set(t,w);const V=this.getValue(t,s);void 0!==V&&this.updateElement(t,s,V)}trackValue(t,s){return this.subject.asObservable().pipe((0,b.p)(l=>l.element===t&&l.key===s))}updateStyles(){this.elementMap.forEach((t,s)=>{const l=new Set(this.elementKeyMap.get(s));let h=this.getActivatedValues(t);h&&h.forEach((w,V)=>{this.updateElement(s,V,w),l.delete(V)}),l.forEach(w=>{if(h=this.getActivatedValues(t,w),h){const V=h.get(w);this.updateElement(s,w,V)}else this.clearElement(s,w)})})}clearElement(t,s){const l=this.clearMap.get(t);if(l){const h=l.get(s);h&&(h(),this.subject.next({element:t,key:s,value:""}))}}updateElement(t,s,l){const h=this.updateMap.get(t);if(h){const w=h.get(s);w&&(w(l),this.subject.next({element:t,key:s,value:l}))}}releaseElement(t){const s=this.watcherMap.get(t);s&&(s.forEach(h=>h.unsubscribe()),this.watcherMap.delete(t));const l=this.elementMap.get(t);l&&(l.forEach((h,w)=>l.delete(w)),this.elementMap.delete(t))}triggerUpdate(t,s){const l=this.elementMap.get(t);if(l){const h=this.getActivatedValues(l,s);h&&(s?this.updateElement(t,s,h.get(s)):h.forEach((w,V)=>this.updateElement(t,V,w)))}}buildElementKeyMap(t,s){let l=this.elementKeyMap.get(t);l||(l=new Set,this.elementKeyMap.set(t,l)),l.add(s)}watchExtraTriggers(t,s,l){if(l&&l.length){let h=this.watcherMap.get(t);if(h||(h=new Map,this.watcherMap.set(t,h)),!h.get(s)){const V=(0,C.h)(...l).subscribe(()=>{const W=this.getValue(t,s);this.updateElement(t,s,W)});h.set(s,V)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,s){for(let h=0;h<this.activatedBreakpoints.length;h++){const V=t.get(this.activatedBreakpoints[h].alias);if(V&&(void 0===s||V.has(s)&&null!=V.get(s)))return V}if(!this._useFallbacks)return;const l=t.get("");return void 0===s||l&&l.has(s)?l:void 0}observeActivations(){const t=this.breakpoints.items.map(s=>s.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,B.M)(this.hook.interceptEvents(this)),(0,b.p)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return c.\u0275fac=function(t){return new(t||c)(i.KVO(X),i.KVO(lt),i.KVO(pt))},c.\u0275prov=i.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function ct(c,g,t,s){if(void 0!==s){const l=c.get(g)??new Map;l.set(t,s),c.set(g,l)}}let _t=(()=>{class c{constructor(t,s,l,h){this.elementRef=t,this.styleBuilder=s,this.styler=l,this.marshal=h,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new M.B,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const l=s.split(".").slice(1).join(".");this.setValue(t[s].currentValue,l)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,s){const l=this.styleBuilder,h=l.shouldCache;let w=this.styleCache.get(t);(!w||!h)&&(w=l.buildStyles(t,s),h&&this.styleCache.set(t,w)),this.mru={...w},this.applyStyleToElement(w),l.sideEffect(t,w,s)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,s=!1){if(t){const[l,h]=this.styler.getFlowDirection(t);if(!h&&s){const w=(0,E.uG)(l);this.styler.applyStyleToElements(w,[t])}return l.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,s,l=this.nativeElement){this.styler.applyStyleToElement(l,t,s)}setValue(t,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,s)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return c.\u0275fac=function(t){return new(t||c)(i.rXU(i.aKT),i.rXU(j),i.rXU(k),i.rXU(ot))},c.\u0275dir=i.FsC({type:c,features:[i.OA$]}),c})();function Et(c,g="1",t="1"){let s=[g,t,c],l=c.indexOf("calc");if(l>0){s[2]=ut(c.substring(l).trim());let h=c.substr(0,l).trim().split(" ");2==h.length&&(s[0]=h[0],s[1]=h[1])}else if(0==l)s[2]=ut(c.trim());else{let h=c.split(" ");s=3===h.length?h:[g,t,c]}return s}function ut(c){return c.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;const dt="x";function Ct(c,g){if(void 0===g)return c;const t=s=>{const l=+s.slice(0,-dt.length);return c.endsWith(dt)&&!isNaN(l)?`${l*g.value}${g.unit}`:c};return c.includes(" ")?c.split(" ").map(t).join(" "):t(c)}},2913:($,I,u)=>{u.d(I,{Cc:()=>st,Om:()=>k,PW:()=>y,eI:()=>tt});var i=u(8559),v=u(6479),A=u(316),S=u(2814),C=u(3900),M=u(436);let d=(()=>{class p extends v.DJ{constructor(x,P,_,L,m,D,R){super(x,null,P,_),this.ngClassInstance=R,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new A.YU(L,m,x,D)),this.init(),this.setValue("","")}set klass(x){this.ngClassInstance.klass=x,this.setValue(x,"")}updateWithValue(x){this.ngClassInstance.ngClass=x,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return p.\u0275fac=function(x){return new(x||p)(i.rXU(i.aKT),i.rXU(v.ZH),i.rXU(v.qH),i.rXU(i._q3),i.rXU(i.MKu),i.rXU(i.sFG),i.rXU(A.YU,10))},p.\u0275dir=i.FsC({type:p,inputs:{klass:[i.Mj6.None,"class","klass"]},features:[i.Vt3]}),p})();const n=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let y=(()=>{class p extends d{constructor(){super(...arguments),this.inputs=n}}return p.\u0275fac=(()=>{let O;return function(P){return(O||(O=i.xGo(p)))(P||p)}})(),p.\u0275dir=i.FsC({type:p,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[i.Vt3]}),p})(),T=(()=>{class p extends v.r3{buildStyles(x,P){return{display:"true"===x?P.display||(P.isServer?"initial":""):"none"}}}return p.\u0275fac=(()=>{let O;return function(P){return(O||(O=i.xGo(p)))(P||p)}})(),p.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),F=(()=>{class p extends v.DJ{constructor(x,P,_,L,m,D,R){super(x,P,_,L),this.layoutConfig=m,this.platformId=D,this.serverModuleLoaded=R,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const x=Array.from(this.nativeElement.children);for(let _=0;_<x.length;_++)if(this.marshal.hasValue(x[_],"flex")){this.hasFlexChild=!0;break}e.has(this.nativeElement)?this.display=e.get(this.nativeElement):(this.display=this.getDisplayStyle(),e.set(this.nativeElement,this.display)),this.init();const P=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===P||""===P?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(x){Object.keys(x).forEach(P=>{if(-1!==this.inputs.indexOf(P)){const _=P.split("."),L=_.slice(1).join("."),m=x[P].currentValue;let D=""===m||0!==m&&(0,S.he)(m);"fxHide"===_[0]&&(D=!D),this.setValue(D,L)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(x=>{this.marshal.trackValue(this.nativeElement,x).pipe((0,C.Q)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(x=!0){if(""===x)return;const P=(0,A.Vy)(this.platformId);this.addStyles(x?"true":"false",{display:this.display,isServer:P}),P&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return p.\u0275fac=function(x){return new(x||p)(i.rXU(i.aKT),i.rXU(T),i.rXU(v.ZH),i.rXU(v.qH),i.rXU(v.EA),i.rXU(i.Agw),i.rXU(v.Ce))},p.\u0275dir=i.FsC({type:p,features:[i.Vt3,i.OA$]}),p})();const e=new WeakMap,U=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let k=(()=>{class p extends F{constructor(){super(...arguments),this.inputs=U}}return p.\u0275fac=(()=>{let O;return function(P){return(O||(O=i.xGo(p)))(P||p)}})(),p.\u0275dir=i.FsC({type:p,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[i.Vt3]}),p})();class N{constructor(O,x,P=!0){this.key=O,this.value=x,this.key=P?O.replace(/['"]/g,"").trim():O.trim(),this.value=P?x.replace(/['"]/g,"").trim():x.trim(),this.value=this.value.replace(/;/,"")}}function K(p){let O=typeof p;return"object"===O?p.constructor===Array?"array":p.constructor===Set?"set":"object":O}function Z(p){const[O,...x]=p.split(":");return new N(O,x.join(":"))}function X(p,O){return O.key&&(p[O.key]=O.value),p}let q=(()=>{class p extends v.DJ{constructor(x,P,_,L,m,D,R,H,J){super(x,null,P,_),this.sanitizer=L,this.ngStyleInstance=R,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new A.B3(x,m,D)),this.init();const Y=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(Y),this.isServer=H&&(0,A.Vy)(J)}updateWithValue(x){const P=this.buildStyleMap(x);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...P},this.isServer&&this.applyStyleToElement(P),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(x){const P=_=>this.sanitizer.sanitize(i.WPN.STYLE,_)??"";if(x)switch(K(x)){case"string":return et(function it(p,O=";"){return String(p).trim().split(O).map(x=>x.trim()).filter(x=>""!==x)}(x),P);case"array":return et(x,P);default:return function Q(p,O){let x=[];return"set"===K(p)?p.forEach(P=>x.push(P)):Object.keys(p).forEach(P=>{x.push(`${P}:${p[P]}`)}),function z(p,O){return p.map(Z).filter(P=>!!P).map(P=>(O&&(P.value=O(P.value)),P)).reduce(X,{})}(x,O)}(x,P)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return p.\u0275fac=function(x){return new(x||p)(i.rXU(i.aKT),i.rXU(v.ZH),i.rXU(v.qH),i.rXU(M.up),i.rXU(i.MKu),i.rXU(i.sFG),i.rXU(A.B3,10),i.rXU(v.Ce),i.rXU(i.Agw))},p.\u0275dir=i.FsC({type:p,features:[i.Vt3]}),p})();const nt=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let tt=(()=>{class p extends q{constructor(){super(...arguments),this.inputs=nt}}return p.\u0275fac=(()=>{let O;return function(P){return(O||(O=i.xGo(p)))(P||p)}})(),p.\u0275dir=i.FsC({type:p,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[i.Vt3]}),p})();function et(p,O){return p.map(Z).filter(P=>!!P).map(P=>(O&&(P.value=O(P.value)),P)).reduce(X,{})}let st=(()=>{class p{}return p.\u0275fac=function(x){return new(x||p)},p.\u0275mod=i.$C({type:p}),p.\u0275inj=i.G2t({imports:[v.Ui]}),p})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/18.00.01/dist/ng-edit/default-projects_eav-ui_src_app_edit_shared_helpers_field-mask_helper_ts-projects_eav-ui_src_-5f0d04.55c725263a1327e9.js.map
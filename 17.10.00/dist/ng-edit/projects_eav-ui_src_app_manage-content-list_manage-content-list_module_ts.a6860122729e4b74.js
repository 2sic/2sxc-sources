"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc80","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc81","projects_eav-ui_src_app_shared_components_dialog-entry_dialog-entry_component_ts-_bbc82"],{533:(I,h,t)=>{t.d(h,{m:()=>u});var r=t(604),d=t(7488),o=t(8600),m=t(6698),n=t(6028),a=t(9244),i=t(316),D=t(6936),c=t(4896),e=t(1332);let u=(()=>{class l extends i.o{constructor(g,p,C,x){super(new D.W("AppDialogConfigService",!1)),this.http=g,this.context=p,this.globalConfigService=C,this.dialogSettings$={},this.log.add("using context #",this.context.log.svcId),x.loadFromService(this)}ngOnDestroy(){super.destroy()}getCurrent$(){const g=this.context.appId;return this.log.add("getCurrent$","appId",g),this.getShared$(g)}getSitePrimaryApp$(){return this.getCurrent$().pipe((0,r.k)(g=>g?.Context.Site.PrimaryApp))}getGlobalPrimaryApp$(){return this.getCurrent$().pipe((0,r.k)(g=>g?.Context.System.PrimaryApp))}getShared$(g){return this.log.add("getShared$","appId",g),this.dialogSettings$[g]??=this.getDialogSettings(g,"getShared$").pipe((0,d.C)({refCount:!1})),this.dialogSettings$[g]}getDialogSettings(g,p){return this.log.add("getDialogSettings","appId",g,"reqBy",p),this.http.get("admin/dialog/settings",{params:{appId:g??this.context.appId.toString()}}).pipe((0,r.k)(C=>(C.Context.Language.List=C.Context.Language.List.filter(x=>x.IsEnabled),C)),(0,o.y)(C=>{this.globalConfigService.allowDebug(C.Context.Enable.DebugMode)}))}static#t=this.\u0275fac=function(p){return new(p||l)(c.CoB(e.KK),c.CoB(n.e),c.CoB(m.Sq),c.CoB(a.E))};static#n=this.\u0275prov=c.wxM({token:l,factory:l.\u0275fac})}return l})()},692:(I,h,t)=>{t.d(h,{O:()=>a,X:()=>l});var r=t(604),d=t(6028),o=t(4896),m=t(1332),n=t(3392);const a="admin/type/",c="admin/type/scopes";let l=(()=>{class _{constructor(p,C,x){this.http=p,this.context=C,this.dnnContext=x}apiUrl(p){return this.dnnContext.$2sxc.http.apiUrl(p)}retrieveContentType(p){return this.http.get(this.apiUrl("admin/type/get"),{params:{appId:this.context.appId.toString(),contentTypeId:p}})}retrieveContentTypes(p){return this.http.get(this.apiUrl("admin/type/list"),{params:{appId:this.context.appId.toString(),scope:p}})}getScopes(){return this.http.get(this.apiUrl(c),{params:{appId:this.context.appId.toString()}}).pipe((0,r.k)(p=>{const C=p.old;return Object.keys(C).map(O=>({name:C[O],value:O}))}))}getScopesV2(){return this.http.get(this.apiUrl(c),{params:{appId:this.context.appId.toString()}}).pipe((0,r.k)(p=>p.scopes))}save(p){return this.http.post(this.apiUrl("admin/type/save"),p,{params:{appid:this.context.appId.toString()}})}delete(p){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.context.appId.toString(),staticName:p.StaticName}})}import(p){const C=new FormData;for(const x of p)C.append("File",x);return this.http.post(this.apiUrl("admin/type/import"),C,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}createGhost(p){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.context.appId.toString(),sourceStaticName:p}})}static#t=this.\u0275fac=function(C){return new(C||_)(o.CoB(m.KK),o.CoB(d.e),o.CoB(n.es))};static#n=this.\u0275prov=o.wxM({token:_,factory:_.\u0275fac})}return _})()},6964:(I,h,t)=>{t.d(h,{M:()=>a});var r=t(6028),d=t(9644),o=t(4896),m=t(1332),n=t(3392);let a=(()=>{class i{constructor(c,e,E){this.http=c,this.context=e,this.dnnContext=E}getContentInfo(c){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d._+"Get"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),scope:c}})}exportParts(c,e,E){const s=this.dnnContext.$2sxc.http.apiUrl(d._+"Export")+"?appId="+this.context.appId.toString()+"&zoneId="+this.context.zoneId.toString()+"&contentTypeIdsString="+c.join(";")+"&entityIdsString="+e.join(";")+"&templateIdsString="+E.join(";");window.open(s,"_blank","")}static#t=this.\u0275fac=function(e){return new(e||i)(o.CoB(m.KK),o.CoB(r.e),o.CoB(n.es))};static#n=this.\u0275prov=o.wxM({token:i,factory:i.\u0275fac})}return i})()},6503:(I,h,t)=>{t.d(h,{S:()=>a});var r=t(5343),d=t(6028),o=t(4896),m=t(1332),n=t(3392);let a=(()=>{class i{constructor(c,e,E){this.http=c,this.context=e,this.dnnContext=E}getAppInfo(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r.i+"Statistics"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}exportApp(c,e){const E=this.dnnContext.$2sxc.http.apiUrl(r.i+"Export")+"?appId="+this.context.appId+"&zoneId="+this.context.zoneId+"&includeContentGroups="+c+"&resetAppGuid="+e;window.open(E,"_blank","")}exportForVersionControl({includeContentGroups:c,resetAppGuid:e,withFiles:E}){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(r.i+"SaveData"),{params:{appid:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),includeContentGroups:c.toString(),resetAppGuid:e.toString(),withPortalFiles:E.toString()}})}static#t=this.\u0275fac=function(e){return new(e||i)(o.CoB(m.KK),o.CoB(d.e),o.CoB(n.es))};static#n=this.\u0275prov=o.wxM({token:i,factory:i.\u0275fac})}return i})()},9644:(I,h,t)=>{t.d(h,{M:()=>i,_:()=>a});var r=t(5343),d=t(6028),o=t(4896),m=t(1332),n=t(3392);const a="admin/appParts/";let i=(()=>{class D{constructor(e,E,s){this.http=e,this.context=E,this.dnnContext=s}importAppParts(e){const E=new FormData;return E.append("File",e),this.http.post(this.dnnContext.$2sxc.http.apiUrl(a+"Import"),E,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}resetApp(e){return this.http.post(this.dnnContext.$2sxc.http.apiUrl(r.i+"Reset"),{},{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString(),withPortalFiles:e.toString()}})}static#t=this.\u0275fac=function(E){return new(E||D)(o.CoB(m.KK),o.CoB(d.e),o.CoB(n.es))};static#n=this.\u0275prov=o.wxM({token:D,factory:D.\u0275fac})}return D})()},8112:(I,h,t)=>{t.d(h,{K0:()=>a.K0,Xi:()=>d.X,cV:()=>a.cV,fn:()=>a.fn,kN:()=>a.kN,kX:()=>a.kX,mK:()=>r.m,ot:()=>a.ot,sj:()=>i.s});var r=t(533),d=t(692),a=(t(6964),t(6503),t(9644),t(900)),i=t(7184)},900:(I,h,t)=>{t.d(h,{K0:()=>p,cV:()=>l,fn:()=>_,kN:()=>g,kX:()=>C,ot:()=>u});var r=t(9616),d=t(9432),o=t(604),m=t(4172),n=t(616),a=t(6028),i=t(4896),D=t(1332),c=t(3392);const u="admin/query/Run",l="admin/query/DebugStream",_="admin/query/Save",g="admin/query/Get",p="admin/query/DataSources";let C=(()=>{class x{constructor(M,P,f){this.http=M,this.context=P,this.dnnContext=f}getAll(M){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(m.U1),{params:{appId:this.context.appId.toString(),contentType:M}})}importQuery(M){return(0,r.Q)((0,n.S)(M)).pipe((0,d.G)(P=>this.http.post(this.dnnContext.$2sxc.http.apiUrl("admin/query/import"),{AppId:this.context.appId.toString(),ContentBase64:P})),(0,o.k)(P=>({Success:P,Messages:[]})))}clonePipeline(M){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/query/Clone"),{params:{Id:M.toString(),appId:this.context.appId.toString()}})}delete(M){return this.http.delete(this.dnnContext.$2sxc.http.apiUrl("admin/query/Delete"),{params:{appId:this.context.appId.toString(),Id:M.toString()}})}static#t=this.\u0275fac=function(P){return new(P||x)(i.CoB(D.KK),i.CoB(a.e),i.CoB(c.es))};static#n=this.\u0275prov=i.wxM({token:x,factory:x.\u0275fac})}return x})()},7184:(I,h,t)=>{t.d(h,{s:()=>E});var r=t(6028),d=t(4896),o=t(1332),m=t(3392);const n="admin/view/",a=n+"all",i=n+"delete",D=n+"import",c=n+"polymorphism",e=n+"usage";let E=(()=>{class s{constructor(l,_,g){this.http=l,this.context=_,this.dnnContext=g}getAll(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(a),{params:{appId:this.context.appId.toString()}})}delete(l){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(i),{params:{appId:this.context.appId.toString(),Id:l.toString()}})}import(l){const _=new FormData;return _.append("File",l),this.http.post(this.dnnContext.$2sxc.http.apiUrl(D),_,{params:{appId:this.context.appId.toString(),zoneId:this.context.zoneId.toString()}})}export(l){const _=this.dnnContext.$2sxc.http.apiUrl(n+"json")+"?appId="+this.context.appId+"&viewId="+l;window.open(_,"_blank","")}getPolymorphism(){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(c),{params:{appId:this.context.appId.toString()}})}getUsage(l){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(e),{params:{appId:this.context.appId.toString(),guid:l}})}static#t=this.\u0275fac=function(_){return new(_||s)(d.CoB(o.KK),d.CoB(r.e),d.CoB(m.es))};static#n=this.\u0275prov=d.wxM({token:s,factory:s.\u0275fac})}return s})()},5343:(I,h,t)=>{t.d(h,{i:()=>D,t:()=>c});var r=t(9432),d=t(8916),o=t(8288),m=t(6028),n=t(4896),a=t(1332),i=t(3392);const D="admin/app/";let c=(()=>{class e{constructor(s,u,l){this.http=s,this.context=u,this.dnnContext=l}importApp(s,u,l=!1){const _=new FormData;return _.append("File",s),_.append("Name",u??""),this.http.post(this.dnnContext.$2sxc.http.apiUrl(D+"Import"),_,{params:{zoneId:this.context.zoneId.toString()}}).pipe((0,r.G)(g=>{if(l&&g.Messages[0]?.MessageType===o.cB.Warning){const p=prompt(g.Messages[0].Text+" Would you like to install it using another folder name?");if(p)return this.importApp(s,p,!0)}return(0,d.of)(g)}))}static#t=this.\u0275fac=function(u){return new(u||e)(n.CoB(a.KK),n.CoB(m.e),n.CoB(i.es))};static#n=this.\u0275prov=n.wxM({token:e,factory:e.\u0275fac})}return e})()},9016:(I,h,t)=>{t.r(h),t.d(h,{ManageContentListModule:()=>f});var r=t(8752),d=t(9540),o=t(5056),m=t(4672),n=t(600),a=t(2328),i=t(4648),D=t(6028),c=t(988),e=t(5204),E=t(404),s=t(6232),u=t(5392);const l={name:"MANAGE_CONTENT_LIST_DIALOG",initContext:!0,panelSize:"medium",panelClass:null,getComponent:()=>(0,u.c)(function*(){const{ManageContentListComponent:v}=yield Promise.all([t.e("common"),t.e("projects_eav-ui_src_app_manage-content-list_manage-content-list_component_ts")]).then(t.bind(t,1403));return v})()};var _=t(4896);const g=[{path:"",component:s.Y,data:{dialog:l},children:[{matcher:E.aM,loadChildren:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-projects_eav-ui_src_app_create-file-dialog_index_ts"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("default-node_modules_angular_material_fesm2022_card_mjs"),t.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),t.e("default-node_modules_angular_material_fesm2022_menu_mjs"),t.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),t.e("common"),t.e("projects_eav-ui_src_app_content-items_services_entities_service_ts-projects_eav-ui_src_app_fe-96acc81")]).then(t.bind(t,9948)).then(v=>v.EditModule)},{matcher:E.CK,loadChildren:()=>t.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(t.bind(t,320)).then(v=>v.RefreshEditModule)},{path:":guid/:part/:index/replace",loadChildren:()=>Promise.all([t.e("default-node_modules_angular_material_fesm2022_select_mjs"),t.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),t.e("common")]).then(t.bind(t,4488)).then(v=>v.ReplaceContentModule)}]}];let p=(()=>{class v{static#t=this.\u0275fac=function(A){return new(A||v)};static#n=this.\u0275mod=_.a4G({type:v});static#o=this.\u0275inj=_.s3X({imports:[e.qQ.forChild(g),e.qQ]})}return v})();var C=t(4660),x=t(1224),O=t(4172),M=t(8112),P=t(12);let f=(()=>{class v{static#t=this.\u0275fac=function(A){return new(A||v)};static#n=this.\u0275mod=_.a4G({type:v});static#o=this.\u0275inj=_.s3X({providers:[D.e,C.e,O.yY,M.mK],imports:[o.MD,p,c.q,n.sr,m.oJ,a.oB,d.OI,i.uE,r.O0.forChild((0,x.C)(P.I))]})}return v})()},6232:(I,h,t)=>{t.d(h,{Y:()=>c});var r=t(624),d=t(6028),o=t(316),m=t(6936),n=t(4896),a=t(600),i=t(5204);let c=(()=>{class e extends o.o{constructor(s,u,l,_,g,p){super(new m.W("DialogEntryComponent",!1)),this.dialog=s,this.viewContainerRef=u,this.router=l,this.route=_,this.context=g,this.changeDetectorRef=p;const C=this.router.getCurrentNavigation();this.dialogData=C?.extras?.state||{}}ngOnInit(){const s=this.route.snapshot.data.dialog;if(null==s)throw new Error("Could not find config for dialog. Did you forget to add DialogConfig to route data?");(0,r.y)("Open dialog:",s.name,"Context id:",this.context.id,"Context:",this.context),s.getComponent().then(u=>{this.dialog._dialogAnimatingOpen&&this.dialog._lastDialogRef?this.dialog._lastDialogRef.afterOpened().subscribe(()=>{this.openDialogComponent(s,u)}):this.openDialogComponent(s,u)})}ngOnDestroy(){this.dialogRef.close()}openDialogComponent(s,u){this.log.add(`Open dialog(initContext: ${s.initContext})`,s.name,"Context id:",this.context.log.svcId,"Context:",this.context),s.initContext&&this.context.init(this.route),this.dialogRef=this.dialog.open(u,{autoFocus:!1,backdropClass:"dialog-backdrop",closeOnNavigation:!1,data:this.dialogData,panelClass:["dialog-panel",`dialog-panel-${s.panelSize}`,s.showScrollbar?"show-scrollbar":"no-scrollbar",...s.panelClass?s.panelClass:[]],position:{top:"0"},viewContainerRef:this.viewContainerRef}),this.dialogRef.afterClosed().subscribe(l=>{(0,r.y)("Dialog was closed:",s.name,"Data:",l);const _=l;if(null==_?.navigateUrl)if(this.route.pathFromRoot.length<=3)try{window.parent.$2sxc.totalPopup.close()}catch{}else this.router.navigate(["./"],this.route.snapshot.url.length>0?{relativeTo:this.route.parent,state:l}:{relativeTo:this.route.parent.parent,state:l});else this.router.navigate([_.navigateUrl])}),this.changeDetectorRef.markForCheck()}static#t=this.\u0275fac=function(u){return new(u||e)(n.GI1(a.qW),n.GI1(n.y8U),n.GI1(i.E5),n.GI1(i.gV),n.GI1(d.e),n.GI1(n.kD9))};static#n=this.\u0275cmp=n.In1({type:e,selectors:[["app-dialog-entry"]],features:[n.eg9],decls:0,vars:0,template:function(u,l){}})}return e})()},616:(I,h,t)=>{function r(o){return new Promise((m,n)=>{const a=new FileReader;a.readAsDataURL(o),a.onload=()=>{m(a.result.split(",")[1])},a.onerror=i=>{n(i)}})}function d(o){return new Promise((m,n)=>{const a=new FileReader;a.readAsText(o),a.onload=()=>{m(a.result)},a.onerror=i=>{n(i)}})}t.d(h,{M:()=>d,S:()=>r})},1224:(I,h,t)=>{t.d(h,{C:()=>o});var r=t(1332),d=t(8752);function o(m){return{loader:{provide:d._E,useFactory:m,deps:[r.KK]},defaultLanguage:"en",isolate:!0}}},12:(I,h,t)=>{t.d(h,{I:()=>d});var r=t(8228);function d(o){return new r.A(o,"./i18n/",`.js?${window.sxcVersion}`)}},8228:(I,h,t)=>{t.d(h,{A:()=>o});var r=t(1672),d=t(8916);class o{constructor(n,a,i){this.http=n,this.prefix=a,this.suffix=i}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`).pipe((0,r.a)(a=>(console.warn(`Translation: Failed to get language '${n}' from ${this.prefix}`,a),(0,d.of)({}))))}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.10.00/dist/ng-edit/projects_eav-ui_src_app_manage-content-list_manage-content-list_module_ts.a6860122729e4b74.js.map
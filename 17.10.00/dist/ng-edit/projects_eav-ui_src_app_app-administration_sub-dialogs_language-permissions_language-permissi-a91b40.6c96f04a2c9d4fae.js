"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40"],{9992:(E,l,n)=>{n.r(l),n.d(l,{LanguagePermissionsComponent:()=>D});var u=n(5128),p=n(4844),v=n(5876),h=n(604),f=n(3728),C=n(2876),P=n(2816),y=n(5760),I=n(1743),s=n(4896),d=n(8200),m=n(2328),O=n(6176),L=n(32);let R=(()=>{class t{agInit(e){this.params=e,this.language=this.params.data}refresh(e){return!0}openPermissions(){this.params.onOpenPermissions(this.language)}static#s=this.\u0275fac=function(a){return new(a||t)};static#n=this.\u0275cmp=s.In1({type:t,selectors:[["app-languages-permissions-actions"]],decls:4,vars:2,consts:[[1,"actions-component"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(a,i){1&a&&(s.I0R(0,"div",0)(1,"div",1),s.qCj("click",function(){return i.openPermissions()}),s.I0R(2,"mat-icon",2),s.OEk(3," person "),s.C$Y()()()),2&a&&(s.yG2(2),s.E7m("matBadge",i.language.Permissions.Count)("matBadgeHidden",!i.language.Permissions.Count))},dependencies:[d.Y,m.qL,O.UZ,L.S]})}return t})();var r=n(9972),g=n(5204),c=n(600),$=n(4672),G=n(4072),Y=n(5056);function T(t,B){if(1&t){const e=s.KQA();s.I0R(0,"div",1)(1,"div",2)(2,"div",3),s.OEk(3,"Language permissions"),s.C$Y(),s.I0R(4,"button",4),s.qCj("click",function(){s.usT(e);const i=s.GaO();return s.CGJ(i.closeDialog())}),s.I0R(5,"mat-icon"),s.OEk(6,"close"),s.C$Y()()(),s.I0R(7,"div",5)(8,"p"),s.OEk(9," If no language permissions are defined, all editors can edit all languages. As soon as you set any language permission, only the specified users (or users in the specified groups) can edit these permissions. "),s.C$Y(),s.wR5(10,"router-outlet"),s.I0R(11,"div",6),s.wR5(12,"ag-grid-angular",7),s.C$Y(),s.wR5(13,"mat-dialog-actions",8),s.C$Y()()}if(2&t){const e=s.GaO();s.yG2(12),s.E7m("rowData",B.languages)("gridOptions",e.gridOptions)}}let D=(()=>{class t extends P.K{constructor(e,a,i,o){super(e,a),this.router=e,this.route=a,this.dialogRef=i,this.zoneService=o,this.subscription=new u.wH,this.languages$=new p.g(void 0),this.gridOptions=this.buildGridOptions()}ngOnInit(){this.getLanguages(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.getLanguages()})),this.viewModel$=(0,v.E)([this.languages$]).pipe((0,h.k)(([e])=>({languages:e})))}ngOnDestroy(){this.languages$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}openPermissions(e){this.router.navigate([C.NL.getUrlLanguage(e.NameId)],{relativeTo:this.route})}getLanguages(){this.zoneService.getLanguagesPermissions().subscribe({error:()=>{this.languages$.next(void 0)},next:e=>{this.languages$.next(e)}})}buildGridOptions(){return{...I.A,columnDefs:[{...r.y.Id,field:"Code",filter:"agTextColumnFilter",cellRenderer:y.q,cellRendererParams:{tooltipGetter:i=>`ID: ${i.Code}`}},{...r.y.TextWide,field:"Name",sort:"asc",valueGetter:a=>a.data.Culture},{...r.y.ActionsPinnedRight1,cellRenderer:R,cellRendererParams:{onOpenPermissions:i=>this.openPermissions(i)}}]}}static#s=this.\u0275fac=function(a){return new(a||t)(s.GI1(g.E5),s.GI1(g.gV),s.GI1(c.yI),s.GI1(f.S))};static#n=this.\u0275cmp=s.In1({type:t,selectors:[["app-language-permissions"]],features:[s.eg9],decls:2,vars:3,consts:[["class","eav-dialog nav-component-wrapper"],[1,"eav-dialog","nav-component-wrapper"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content","nav-component-wrapper"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end"]],template:function(a,i){if(1&a&&(s.yuY(0,T,14,2,"div",0),s.wVc(1,"async")),2&a){let o;s.C0Y(0,(o=s.kDX(1,1,i.viewModel$))?0:-1,o)}},dependencies:[g.cP,d.Y,c.Yp,$.um,m.qL,G.U5,Y.a]})}return t})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.10.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40.6c96f04a2c9d4fae.js.map
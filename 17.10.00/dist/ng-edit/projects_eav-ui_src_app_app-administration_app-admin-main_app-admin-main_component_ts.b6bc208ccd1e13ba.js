"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_component_ts"],{9384:(X,h,o)=>{o.r(h),o.d(h,{AppAdminMainComponent:()=>B});var c=o(5204),u=o(4844),C=o(5876),y=o(6560),r=o(604),M=o(1792),x=o(2816),I=o(9412),O=o(6916),v=o(533),b=o(9224),f=o(660),m=o(7704);const S=[{name:"Info",path:"home",icon:"info",svgIcon:!1,tippy:"App Info"},{name:"Data",path:`data/${b._K.scopes.default.value}`,icon:"menu",svgIcon:!1,tippy:"Data / Content",child:[{...f.N.routeDefinition("data"),tippy:"Autogenerate content types "},{...m.e.routeDataDefinition,tippy:"Rest-Api Data "}]},{name:"Queries",path:"queries",icon:"filter_list",svgIcon:!1,tippy:"Queries / Visual Query Designer",child:[{...m.e.routeQueryDefinition,tippy:"Rest-Api Queries"}]},{name:"Views",path:"views",icon:"layers",svgIcon:!1,tippy:"Views / Templates",child:[{...f.N.routeDefinition("views"),tippy:"Autogenerate Razor Views"}]},{name:"Web API",path:"web-api",icon:"offline_bolt",svgIcon:!1,tippy:"WebApi",child:[{...m.e.routeWebApiDefinition,tippy:"Rest-Api Queries"}]},{name:"App",path:"app",icon:"settings_applications",svgIcon:!1,tippy:"App Settings"},{name:"Sync",path:"sync",icon:"sync",svgIcon:!1,tippy:"App Export / Import"}];var G=o(6936),t=o(4896),$=o(600),P=o(812),_=o(8200),A=o(6192),R=o(3700),Y=o(4672),T=o(2328),D=o(4872),d=o(5820),E=o(5056);const Q=["sidenav"],w=(i,a)=>a.path;function W(i,a){if(1&i){const n=t.KQA();t.I0R(0,"img",12),t.qCj("click",function(){t.usT(n),t.GaO();const s=t.Gew(22);return t.CGJ(s.opened=!s.opened)}),t.C$Y()}if(2&i){const n=t.GaO();t.E7m("src",(null==n.dialogSettings?null:n.dialogSettings.Context.App.Icon)+"?w=40&h=40&mode=crop",t.K6U)}}function k(i,a){if(1&i){const n=t.KQA();t.I0R(0,"mat-icon",13),t.qCj("click",function(){t.usT(n),t.GaO();const s=t.Gew(22);return t.CGJ(s.opened=!s.opened)}),t.OEk(1,"menu"),t.C$Y()}}function N(i,a){1&i&&t.OEk(0," Global ")}function K(i,a){if(1&i&&t.OEk(0),2&i){const n=t.GaO();t.oRS(" ",null==n.dialogSettings?null:n.dialogSettings.Context.App.Name," ")}}function V(i,a){if(1&i&&(t.I0R(0,"mat-icon",14),t.OEk(1,"chevron_right"),t.C$Y(),t.OEk(2)),2&i){const n=t.GaO().$implicit;t.yG2(2),t.oRS(" ",n," ")}}function j(i,a){if(1&i&&(t.SAx(0),t.yuY(1,V,3,1),t.k70()),2&i){const n=a.last;t.yG2(1),t.C0Y(1,n?1:-1)}}function z(i,a){}function J(i,a){1&i&&t.wR5(0,"app-nav-item-list",15),2&i&&t.E7m("navItem",a.$implicit)}function F(i,a){if(1&i){const n=t.KQA();t.I0R(0,"mat-toolbar")(1,"div",0),t.yuY(2,W,1,1,"img",1)(3,k,2,0),t.I0R(4,"div",2),t.yuY(5,N,1,0)(6,K,1,1),t.I0R(7,"span")(8,"span",3)(9,"mat-icon"),t.OEk(10,"settings"),t.C$Y()(),t.OEk(11," Admin "),t.C$Y()(),t.I0R(12,"xng-breadcrumb",4),t.yuY(13,j,2,1,"ng-container",5),t.C$Y(),t.yuY(14,z,0,0,"ng-template",null,6,t.gJz),t.C$Y(),t.wR5(16,"span",7),t.I0R(17,"button",8),t.qCj("click",function(){t.usT(n);const s=t.GaO();return t.CGJ(s.closeDialog())}),t.I0R(18,"mat-icon"),t.OEk(19,"close"),t.C$Y()()(),t.I0R(20,"mat-sidenav-container")(21,"mat-sidenav",9,10),t.c53(23,J,1,1,"app-nav-item-list",15,w),t.I0R(25,"div",11)(26,"p"),t.OEk(27,"use App logo to show/hide menu"),t.C$Y()()(),t.I0R(28,"mat-sidenav-content"),t.wR5(29,"router-outlet"),t.C$Y()()}if(2&i){const n=t.Gew(15),e=t.GaO();t.yG2(2),t.C0Y(2,null!=a.dialogSettings&&a.dialogSettings.Context.App.Icon?2:3),t.yG2(3),t.C0Y(5,(null==a.dialogSettings?null:a.dialogSettings.Context.App.SettingsScope)===e.AppScopes.Global?5:-1),t.yG2(1),t.C0Y(6,(null==a.dialogSettings?null:a.dialogSettings.Context.App.SettingsScope)!==e.AppScopes.Global?6:-1),t.yG2(6),t.E7m("separator",n),t.yG2(9),t.E7m("mode",e.smallScreen.matches?"over":"side")("opened",e.sideNavOpened),t.yG2(2),t.oho(e.navItems)}}let B=(()=>{class i extends x.K{constructor(n,e,s,p,U){super(n,e,new G.W("AppAdminMainComponent",!1)),this.router=n,this.route=e,this.dialogRef=s,this.appDialogConfigService=p,this.media=U,this.AppScopes=O.o,this.dialogSettings$=new u.g(void 0),this.pathsArray$=new u.g(void 0),this.currentPath$=(0,C.E)([this.pathsArray$,this.router.events.pipe((0,y.I)(l=>l instanceof c.cf),(0,r.k)(()=>this.route.snapshot.firstChild.url[0].path),(0,M.W)(this.route.snapshot.firstChild.url[0].path))]).pipe((0,r.k)(([l,g])=>{if(null!=l)return g})),this.viewModel$=(0,C.E)([this.dialogSettings$,this.currentPath$]).pipe((0,r.k)(([l,g])=>({dialogSettings:l,currentPath:g}))),this.smallScreen=this.media.matchMedia("(max-width: 1000px)"),this.sideNavOpened=!this.smallScreen.matches,this.navItems=S,this.log.add("constructor","appDialogConfigService",p)}ngOnInit(){this.fetchDialogSettings(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchDialogSettings()})),this.smallScreen.addEventListener("change",n=>(this.sidenav.opened=!n.matches,this.sidenav.mode=n.matches?"over":"side"))}ngOnDestroy(){this.dialogSettings$.complete(),this.pathsArray$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}fetchDialogSettings(){this.appDialogConfigService.getCurrent$().subscribe(n=>{(0,I.s)(n.Context.App),this.dialogSettings$.next(n),n.Context.Enable.Query||(this.navItems=this.navItems.filter(e=>"Queries"!==e.name&&"Web API"!==e.name)),this.pathsArray$.next(this.navItems.map(e=>e.path))})}static#t=this.\u0275fac=function(e){return new(e||i)(t.GI1(c.E5),t.GI1(c.gV),t.GI1($.yI),t.GI1(v.m),t.GI1(P.iG))};static#n=this.\u0275cmp=t.In1({type:i,selectors:[["app-app-admin-main"]],viewQuery:function(e,s){if(1&e&&t.CC$(Q,5),2&e){let p;t.wto(p=t.Gqi())&&(s.sidenav=p.first)}},features:[t.M5G([v.m]),t.eg9],decls:2,vars:3,consts:[[1,"toolbar-container"],[3,"src"],[1,"d-flex"],[1,"mat-icon-admin"],[3,"separator"],[4,"xngBreadcrumbItem"],["emptyTemplate",""],[1,"toolbar-spacer"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"mode","opened"],["sidenav",""],[1,"sideNav-bottom-info"],[3,"src","click"],[1,"menu-container",3,"click"],[1,"breadcrumb-icon"],[3,"navItem"]],template:function(e,s){if(1&e&&(t.yuY(0,F,30,6),t.wVc(1,"async")),2&e){let p;t.C0Y(0,(p=t.kDX(1,1,s.viewModel$))?0:-1,p)}},dependencies:[c.cP,_.Y,A.ay,A.g3,R.q,Y.um,T.qL,D.EZ,d.Ar,d.WS,d.Uq,E.a],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid rgba(0,0,0,.1);position:sticky;top:0;z-index:10;flex:1 0 74px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid rgba(0,0,0,.2);border-radius:16px 0;margin-right:16px;-webkit-user-select:none;user-select:none;text-shadow:none;cursor:pointer;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]   .mat-icon-admin[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:295px;border-right:1px solid rgba(0,0,0,.1)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNav-bottom-info[_ngcontent-%COMP%]{position:absolute;bottom:0;text-align:center;width:100%;font-size:12px}.container-content[_ngcontent-%COMP%]{height:100%}.active[_ngcontent-%COMP%]{background-color:#8080801a}  .xng-breadcrumb-separator{margin-left:0!important;margin-right:0!important}  .mat-drawer-container{background-color:transparent!important}"]})}return i})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.10.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_component_ts.b6bc208ccd1e13ba.js.map
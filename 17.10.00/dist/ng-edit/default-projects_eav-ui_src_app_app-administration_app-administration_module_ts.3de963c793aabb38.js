"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_app-administration_module_ts"],{4340:(z,G,a)=>{a.r(G),a.d(G,{AppAdministrationModule:()=>ti});var r=a(5056),g=a(1904),A=a(32),d=a(4672),h=a(8512),D=a(8539),b=a(6176),T=a(600),R=a(6016),C=a(2328),S=a(2536),k=a(7848),f=a(4204),_=a(1232),m=a(7872),F=a(3424),U=a(4648),E=a(8268),bt=a(3728),p=a(1048),y=a(1292),u=a(6036),Y=a(3764),et=a(5544),kt=a(4460),yt=a(2876),Xt=a(4612),ot=a(6028),pt=a(1808),St=a(988),v=a(5204),J=a(4020),it=a(404),q=a(7028),W=a(4720),K=a(6232),L=a(5392);const Ht={name:"APP_ADMINISTRATION_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{AppAdminMainComponent:n}=yield Promise.all([a.e("common"),a.e("projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_component_ts")]).then(a.bind(a,9384));return n})()},Zt={name:"ANALYZE_SETTINGS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{AnalyzeSettingsComponent:n}=yield Promise.all([a.e("common"),a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_analyze-settings_comp-6cd38e")]).then(a.bind(a,4400));return n})()},qt={name:"SETTINGS_ITEM_DETAILS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{SettingsItemDetailsComponent:n}=yield Promise.all([a.e("common"),a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a")]).then(a.bind(a,8952));return n})()},Dt={name:"EDIT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"small",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{EditContentTypeComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_edit-content-type_edit-content-type_co-2abec4").then(a.bind(a,410));return n})()},te={name:"EXPORT_APP_PARTS",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ExportAppPartsComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_export-app-parts_export-app-parts_comp-b04a2d").then(a.bind(a,8024));return n})()},ee={name:"EXPORT_APP",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ExportAppComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_export-app_export-app_component_ts").then(a.bind(a,6392));return n})()},ne={name:"IMPORT_APP_PARTS",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ImportAppPartsComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-app-parts_import-app-parts_comp-cf6fb0").then(a.bind(a,3232));return n})()},oe={name:"IMPORT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ImportContentTypeComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-content-type_import-content-typ-e2ad96").then(a.bind(a,7031));return n})()},ie={name:"IMPORT_QUERY_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ImportQueryComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-query_import-query_component_ts").then(a.bind(a,2860));return n})()},ae={name:"IMPORT_VIEW_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ImportViewComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-view_import-view_component_ts").then(a.bind(a,1052));return n})()},ce={name:"LANGUAGE_PERMISSIONS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{LanguagePermissionsComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40").then(a.bind(a,9992));return n})()},se={name:"VIEWS_USAGE_DIALOG",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,L.c)(function*(){const{ViewsUsageComponent:n}=yield a.e("projects_eav-ui_src_app_app-administration_sub-dialogs_views-usage_views-usage_component_ts").then(a.bind(a,9248));return n})()};var $=a(604),ct=a(533),t=a(4896),re=a(168);let le=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(re.mI,16))};static#e=this.\u0275pipe=t.UTH({name:"safeResourceUrl",type:n,pure:!0})}return n})();function de(n,s){1&n&&(t.wR5(0,"iframe",1),t.wVc(1,"safeResourceUrl")),2&n&&t.E7m("src",t.kDX(1,1,s),t.CaN)}let pe=(()=>{class n{constructor(e){this.appDialogConfigService=e,this.gettingStartedUrl$=this.appDialogConfigService.getCurrent$().pipe((0,$.k)(o=>o.Context.App.GettingStartedUrl))}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(ct.m))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-getting-started"]],decls:2,vars:3,consts:[["class","iframe",3,"src"],[1,"iframe",3,"src"]],template:function(o,i){if(1&o&&(t.yuY(0,de,2,3,"iframe",0),t.wVc(1,"async")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.gettingStartedUrl$))?0:-1,c)}},dependencies:[le,r.a],styles:[".iframe[_ngcontent-%COMP%]{border:none;width:100%;height:calc(100vh - 130px)}@media (max-width: 600px){.iframe[_ngcontent-%COMP%]{height:calc(100vh - 161px)}}"]})}return n})();var st=a(2816),Yt=a(6503),vt=a(9644),$t=a(4616);function me(n,s){1&n&&(t.I0R(0,"p"),t.wR5(1,"br"),t.OEk(2," In Advanced mode you can also sync all the site files used by this app. They will be placed in a folder inside "),t.I0R(3,"code"),t.OEk(4,"App_Data"),t.C$Y(),t.OEk(5," and allow sync/restore with git or another server. "),t.C$Y())}function ue(n,s){1&n&&t.wR5(0,"app-feature-text-info",9),2&n&&t.E7m("featureNameId","AppSyncWithSiteFiles")}function he(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",5),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.exportAppXml(!1))}),t.I0R(1,"mat-icon",6),t.OEk(2,"more_time"),t.C$Y(),t.I0R(3,"span"),t.OEk(4,"Save state"),t.C$Y()(),t.I0R(5,"button",5),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.resetApp(!1))}),t.I0R(6,"mat-icon",6),t.OEk(7,"restore"),t.C$Y(),t.I0R(8,"span"),t.OEk(9,"Restore state"),t.C$Y()()}}function ge(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",5),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.exportAppXml(!0))}),t.I0R(1,"mat-icon",6),t.OEk(2,"more_time"),t.C$Y(),t.I0R(3,"span"),t.OEk(4,"Save with Assets"),t.C$Y()(),t.I0R(5,"button",5),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.resetApp(!0))}),t.I0R(6,"mat-icon",6),t.OEk(7,"restore"),t.C$Y(),t.I0R(8,"span"),t.OEk(9,"Restore with Assets"),t.C$Y()()}}let Ce=(()=>{class n extends st.K{constructor(e,o,i,c,l,I){super(e,o),this.router=e,this.route=o,this.exportAppService=i,this.importAppPartsService=c,this.snackBar=l,this.appDialogConfigService=I,this.appStateAdvanced=!1}ngOnInit(){this.appDialogConfigService.getCurrent$().subscribe(e=>{this.dialogSettings=e})}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}exportApp(){this.router.navigate(["export"],{relativeTo:this.route.parent.firstChild})}exportParts(){this.router.navigate(["export/parts"],{relativeTo:this.route.parent.firstChild})}importParts(){this.router.navigate(["import/parts"],{relativeTo:this.route.parent.firstChild})}exportAppXml(e){this.snackBar.open("Exporting..."),this.exportAppService.exportForVersionControl({includeContentGroups:!0,resetAppGuid:!1,withFiles:e}).subscribe({next:o=>{this.snackBar.open("Export completed into the 'App_Data' folder.",null,{duration:3e3})},error:o=>{this.snackBar.open("Export failed. Please check console for more information",null,{duration:3e3})}})}resetApp(e){confirm("Are you sure? All changes since last xml export will be lost")&&(this.snackBar.open("Resetting..."),this.importAppPartsService.resetApp(e).subscribe({next:o=>{this.snackBar.open("Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct",null,{duration:3e4})},error:o=>{this.snackBar.open("Reset failed. Please check console for more information",null,{duration:3e3})}}))}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(Yt.S),t.GI1(vt.M),t.GI1(U.yS),t.GI1(ct.m))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-sync-configuration"]],features:[t.eg9],decls:74,vars:6,consts:[[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],[1,"eav-card-space-div"],["align","start"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],[1,"eav-card-header-title-toggle"],[1,"eav-card-header-toggle",3,"ngModel","ngModelChange"],[3,"featureNameId"]],template:function(o,i){1&o&&(t.SAx(0),t.I0R(1,"div",0)(2,"mat-card",1)(3,"mat-card-header",2)(4,"mat-card-title"),t.OEk(5,"Instructions for Sync or Export/Import"),t.C$Y(),t.I0R(6,"mat-icon"),t.OEk(7,"info"),t.C$Y()(),t.I0R(8,"mat-card-content")(9,"p"),t.OEk(10," This section is for export/import of the entire App, for synchronizing with the file storage (eg. for Git) or to export parts of the App for re-import in another App. "),t.C$Y(),t.I0R(11,"p"),t.OEk(12," To export/import Content-Types, Queries, Views or Data, use the respective tabs. "),t.C$Y()()()(),t.I0R(13,"div",0)(14,"mat-card",1)(15,"mat-card-header",2)(16,"mat-card-title"),t.OEk(17,"Export this entire App"),t.C$Y(),t.I0R(18,"mat-icon"),t.OEk(19,"cloud_download"),t.C$Y()(),t.I0R(20,"mat-card-content")(21,"p"),t.OEk(22," Create an package (zip) which can be installed in another site. "),t.C$Y()(),t.wR5(23,"div",3),t.I0R(24,"mat-card-actions",4)(25,"button",5),t.qCj("click",function(){return i.exportApp()}),t.I0R(26,"mat-icon",6),t.OEk(27,"cloud_download"),t.C$Y(),t.I0R(28,"span"),t.OEk(29,"Export App"),t.C$Y()()()(),t.I0R(30,"mat-card",1)(31,"mat-card-header",2)(32,"mat-card-title"),t.OEk(33,"Export or Import parts of this App"),t.C$Y(),t.I0R(34,"mat-icon"),t.OEk(35,"import_export"),t.C$Y()(),t.I0R(36,"mat-card-content")(37,"p"),t.OEk(38," Create an xml containing parts of the app, e.g. content and templates. Import parts from such an xml into this app. "),t.C$Y()(),t.wR5(39,"div",3),t.I0R(40,"mat-card-actions",4)(41,"button",5),t.qCj("click",function(){return i.exportParts()}),t.I0R(42,"mat-icon",6),t.OEk(43,"cloud_download"),t.C$Y(),t.I0R(44,"span"),t.OEk(45,"Export Parts"),t.C$Y()(),t.I0R(46,"button",5),t.qCj("click",function(){return i.importParts()}),t.I0R(47,"mat-icon",6),t.OEk(48,"cloud_upload"),t.C$Y(),t.I0R(49,"span"),t.OEk(50,"Import Parts"),t.C$Y()()()()(),t.I0R(51,"div",0)(52,"mat-card",1)(53,"mat-card-header",2)(54,"div",7)(55,"mat-card-title"),t.OEk(56,"App-State Versioning"),t.C$Y(),t.I0R(57,"mat-slide-toggle",8),t.qCj("ngModelChange",function(l){return i.appStateAdvanced=l}),t.OEk(58),t.C$Y()(),t.I0R(59,"mat-icon"),t.OEk(60,"history_toggle_off"),t.C$Y()(),t.I0R(61,"mat-card-content")(62,"p"),t.OEk(63," You can save / restore the app with data and configuration in "),t.I0R(64,"code"),t.OEk(65,".data/app.xml"),t.C$Y(),t.OEk(66,". This file can then also be versioned using git. "),t.C$Y(),t.yuY(67,me,6,0,"p"),t.C$Y(),t.yuY(68,ue,1,1,"app-feature-text-info",9),t.wR5(69,"div",3),t.I0R(70,"mat-card-actions",4),t.yuY(71,he,10,0)(72,ge,10,0),t.C$Y()()(),t.k70(),t.wR5(73,"router-outlet")),2&o&&(t.yG2(57),t.E7m("ngModel",i.appStateAdvanced),t.yG2(1),t.cNF(i.appStateAdvanced?"advanced":"basic"),t.yG2(9),t.C0Y(67,i.appStateAdvanced?67:-1),t.yG2(1),t.C0Y(68,i.appStateAdvanced?68:-1),t.yG2(3),t.C0Y(71,i.appStateAdvanced?-1:71),t.yG2(1),t.C0Y(72,i.appStateAdvanced?72:-1))},dependencies:[v.cP,d.Gw,C.qL,g.ue,g._G,h.SM,h.W0,h.WK,h.Uc,h.gp,F.cP,$t.E],styles:[".eav-card-header-title-toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:100%;margin-right:8px}.eav-card-header-title-toggle[_ngcontent-%COMP%]   .eav-card-header-toggle[_ngcontent-%COMP%]{margin-left:8px;margin-top:2px}  .mat-drawer-container{background-color:#fafafa!important}"]})}return n})();var X=a(4844),H=a(5876),_e=a(9616),xt=a(7496),It=a(6560),fe=a(1792),be=a(1484),rt=a(7704),Mt=a(6698),Tt=a(5760),ht=a(1743),Pt=a(420),x=a(9224),ke=a(616),at=a(5396),wt=a(692),ye=a(2260),N=a(8200);function ve(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",9),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.createOrEditMetadata())}),t.I0R(1,"mat-icon"),t.OEk(2,"edit"),t.C$Y()()}}function xe(n,s){1&n&&(t.I0R(0,"div",10)(1,"mat-icon"),t.OEk(2,"edit"),t.C$Y()())}function Ie(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",11),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openMetadata())}),t.I0R(1,"mat-icon",12),t.OEk(2," local_offer "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.contentType.Metadata.length)("matBadgeHidden",!e.contentType.Metadata.length)}}function Te(n,s){if(1&n&&(t.I0R(0,"div",10)(1,"mat-icon",13),t.OEk(2," local_offer "),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.contentType.Metadata.length)("matBadgeHidden",!e.contentType.Metadata.length)}}function Ee(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",14),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openPermissions())}),t.I0R(1,"mat-icon",12),t.OEk(2," person"),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.contentType.Permissions.Count)("matBadgeHidden",!e.contentType.Permissions.Count)}}function Re(n,s){if(1&n&&(t.I0R(0,"div",10)(1,"mat-icon",13),t.OEk(2," person"),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.contentType.Permissions.Count)("matBadgeHidden",!e.contentType.Permissions.Count)}}function Oe(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.editContentType())}),t.I0R(1,"mat-icon"),t.OEk(2,"settings"),t.C$Y(),t.I0R(3,"span"),t.OEk(4,"Rename"),t.C$Y()(),t.I0R(5,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openRestApi())}),t.wR5(6,"mat-icon",17),t.I0R(7,"span"),t.OEk(8,"REST API"),t.C$Y()(),t.I0R(9,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.exportType())}),t.I0R(10,"mat-icon"),t.OEk(11,"cloud_download"),t.C$Y(),t.I0R(12,"span"),t.OEk(13,"Export content type"),t.C$Y()(),t.I0R(14,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openDataExport())}),t.I0R(15,"mat-icon"),t.OEk(16,"cloud_download"),t.C$Y(),t.I0R(17,"span"),t.OEk(18,"Export data"),t.C$Y()(),t.I0R(19,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openDataImport())}),t.I0R(20,"mat-icon"),t.OEk(21,"cloud_upload"),t.C$Y(),t.I0R(22,"span"),t.OEk(23,"Import data"),t.C$Y()(),t.I0R(24,"button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.deleteContentType())}),t.I0R(25,"mat-icon"),t.OEk(26,"delete"),t.C$Y(),t.I0R(27,"span"),t.OEk(28,"Delete"),t.C$Y()()}if(2&n){const e=t.GaO();t.E7m("disabled",e.contentType.EditInfo.DisableRename),t.yG2(24),t.E7m("disabled",e.contentType.EditInfo.DisableDelete)}}let Ge=(()=>{class n{agInit(e){this.params=e,this.contentType=this.params.data;const o=this.params.enablePermissionsGetter();this.enablePermissions=o&&(0,ye.y)().test(this.contentType.StaticName)}refresh(e){return!0}createOrEditMetadata(){this.params.onCreateOrEditMetadata(this.contentType)}openPermissions(){this.params.onOpenPermissions(this.contentType)}editContentType(){this.params.onEdit(this.contentType)}openMetadata(){this.params.onOpenMetadata(this.contentType)}openRestApi(){this.params.onOpenRestApi(this.contentType)}exportType(){this.params.onTypeExport(this.contentType)}openDataExport(){this.params.onOpenDataExport(this.contentType)}openDataImport(){this.params.onOpenDataImport(this.contentType)}deleteContentType(){this.params.onDelete(this.contentType)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-actions"]],decls:13,vars:7,consts:[[1,"actions-component"],["class","eav-grid-action-button highlight","matRipple","","tippy","Description and more"],["class","eav-grid-action-button disabled"],["class","eav-grid-action-button highlight","matRipple","","tippy","Metadata"],["class","eav-grid-action-button highlight","matRipple","","tippy","Permissions"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["matRipple","","tippy","Description and more",1,"eav-grid-action-button","highlight",3,"click"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight",3,"click"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["svgIcon","code-curly"]],template:function(o,i){if(1&o&&(t.I0R(0,"div",0),t.yuY(1,ve,3,0,"div",1)(2,xe,3,0,"div",2)(3,Ie,3,2,"div",3)(4,Te,3,2,"div",2)(5,Ee,3,2,"div",4)(6,Re,3,2,"div",2),t.I0R(7,"div",5)(8,"mat-icon"),t.OEk(9,"more_horiz"),t.C$Y()()(),t.I0R(10,"mat-menu",6,7),t.yuY(12,Oe,29,2,"ng-template",8),t.C$Y()),2&o){const c=t.Gew(11);t.yG2(1),t.C0Y(1,!i.contentType.EditInfo.DisableEdit||i.contentType.Properties?1:-1),t.yG2(1),t.C0Y(2,i.contentType.EditInfo.DisableEdit&&!i.contentType.Properties?2:-1),t.yG2(1),t.C0Y(3,i.contentType.EditInfo.DisableMetadata?-1:3),t.yG2(1),t.C0Y(4,i.contentType.EditInfo.DisableMetadata?4:-1),t.yG2(1),t.C0Y(5,!i.contentType.EditInfo.DisableEdit&&i.enablePermissions?5:-1),t.yG2(1),t.C0Y(6,i.contentType.EditInfo.DisableEdit||!i.enablePermissions?6:-1),t.yG2(1),t.E7m("matMenuTriggerFor",c)}},dependencies:[N.Y,C.qL,b.UZ,k.aM,k.OQ,k.M5,k.yG,A.S]})}return n})(),Ae=(()=>{class n{agInit(e){this.params=e,this.contentType=e.data,this.value=e.value,this.tooltip=this.contentType.EditInfo.ReadOnly?`${this.contentType.EditInfo.ReadOnlyMessage?`${this.contentType.EditInfo.ReadOnlyMessage}\n\n`:""}This ContentType shares the definition of #${this.contentType.SharedDefId} so you can't edit it here. Read 2sxc.org/help?tag=shared-types`:"Edit fields",this.icon=this.contentType.EditInfo.ReadOnly?"share":"dns"}refresh(e){return!0}editFields(){this.params.onEditFields(this.contentType)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-fields"]],decls:4,vars:4,consts:[[1,"actions-component"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy","click"],["matBadgePosition","below after","matBadgeColor","accent","matBadgeSize","small","aria-hidden","false",3,"matBadge","matBadgeHidden"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"div",1),t.qCj("click",function(){return i.editFields()}),t.I0R(2,"mat-icon",2),t.OEk(3),t.C$Y()()()),2&o&&(t.yG2(1),t.E7m("tippy",i.tooltip),t.yG2(1),t.E7m("matBadge",i.value)("matBadgeHidden",!i.value),t.yG2(1),t.oRS(" ",i.icon," "))},dependencies:[N.Y,C.qL,b.UZ,A.S]})}return n})(),Se=(()=>{class n{agInit(e){this.params=e,this.contentType=e.data,this.value=e.value}refresh(e){return!0}showItems(){this.params.onShowItems(this.contentType)}addItem(){this.params.onAddItem(this.contentType)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-items"]],decls:7,vars:2,consts:[[1,"actions-component"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy","click"],[1,"text-icon"],["matRipple","","tippy","Add item",1,"eav-grid-action-button","highlight",3,"click"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"div",1),t.qCj("click",function(){return i.showItems()}),t.I0R(2,"div",2),t.OEk(3),t.C$Y()(),t.I0R(4,"div",3),t.qCj("click",function(){return i.addItem()}),t.I0R(5,"mat-icon"),t.OEk(6,"add"),t.C$Y()()()),2&o&&(t.yG2(1),t.CI5("tippy","",i.value," items"),t.yG2(2),t.cNF(i.value))},dependencies:[N.Y,C.qL,b.UZ],styles:[".text-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px;line-height:22px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:1px solid rgba(29,39,61,.44);border-radius:12px;box-sizing:border-box;background-color:#002753;color:#fff;-webkit-user-select:none;user-select:none}.text-icon[_ngcontent-%COMP%]{min-width:24px;width:initial}"]})}return n})();var j=a(8112),Et=a(3884),gt=a(4072),Z=a(244);function De(n,s){if(1&n&&(t.I0R(0,"mat-option",7),t.OEk(1),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.name),t.yG2(1),t.oRS(" ","Scope: "+e.label," ")}}function Ye(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",12),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.createGhost())}),t.I0R(1,"mat-icon",9),t.OEk(2,"share"),t.C$Y(),t.I0R(3,"span"),t.OEk(4,"Ghost"),t.C$Y()()}}function $e(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",1)(1,"ag-grid-angular",2),t.qCj("filesDropped",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.filesDropped(i))}),t.C$Y(),t.I0R(2,"mat-dialog-actions",3)(3,"div",4)(4,"mat-form-field",5)(5,"mat-select",6),t.qCj("ngModelChange",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.changeScope(i))}),t.c53(6,De,2,2,"mat-option",7,t.oxv),t.I0R(8,"mat-option",7),t.OEk(9,"Scope: Other..."),t.C$Y()()(),t.I0R(10,"button",8),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.importType())}),t.I0R(11,"mat-icon",9),t.OEk(12,"cloud_upload"),t.C$Y(),t.I0R(13,"span"),t.OEk(14,"Content Type"),t.C$Y()(),t.yuY(15,Ye,5,0,"button",10),t.C$Y(),t.I0R(16,"button",11),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.editContentType(null))}),t.I0R(17,"mat-icon"),t.OEk(18,"add"),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("rowData",s.contentTypes)("gridOptions",e.gridOptions)("allowedFileTypes","xml,json"),t.yG2(4),t.E7m("ngModel",s.scope),t.yG2(1),t.oho(s.scopeOptions),t.yG2(2),t.E7m("value",e.dropdownInsertValue),t.yG2(7),t.C0Y(15,s.debugEnabled?15:-1)}}let Me=(()=>{class n extends st.K{constructor(e,o,i,c,l,I,O){super(e,o),this.router=e,this.route=o,this.contentTypesService=i,this.globalConfigService=c,this.snackBar=l,this.contentExportService=I,this.dialogConfigSvc=O,this.contentTypes$=new X.g(void 0),this.scope$=new X.g(void 0),this.scopeOptions$=new X.g([]),this.gridOptions=this.buildGridOptions(),this.dropdownInsertValue=Pt.M,this.viewModel$=(0,H.E)([this.contentTypes$,this.scope$,this.scopeOptions$,this.globalConfigService.getDebugEnabled$()]).pipe((0,$.k)(([M,P,nt,lt])=>({contentTypes:M,scope:P,scopeOptions:nt,debugEnabled:lt})))}ngOnInit(){this.fetchScopes(),this.refreshScopeOnRouteChange(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchContentTypes()})),this.dialogConfigSvc.getCurrent$().subscribe(e=>{this.enablePermissions=e.Context.Enable.AppPermissions})}ngOnDestroy(){this.contentTypes$.complete(),this.scope$.complete(),this.scopeOptions$.complete(),super.ngOnDestroy()}filesDropped(e){const o=e[0];switch(o.name.substring(o.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":(0,_e.Q)((0,ke.M)(e[0])).pipe((0,xt.U)(1)).subscribe(c=>{const l=c.split('<Entity Type="')[1]?.split('"')[0],I=this.contentTypes$.value.find(O=>O.Name===l);null!=I?this.openDataImport(I,e):this.snackBar.open(`Cannot find Content Type named '${l}'. Please open Content Type Import dialog manually.`,null,{duration:5e3})});break;case"json":this.importType(e)}}importType(e){this.router.navigate(["import"],{relativeTo:this.route.parent.firstChild,state:{files:e}})}showContentItems(e){this.router.navigate([`items/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}editContentType(e){if(e){if(e.EditInfo.ReadOnly)return;this.router.navigate([`${e.StaticName}/edit`],{relativeTo:this.route.parent.firstChild})}else this.router.navigate(["add"],{relativeTo:this.route.parent.firstChild})}fetchContentTypes(){this.contentTypesService.retrieveContentTypes(this.scope$.value).subscribe(e=>{for(const o of e)o._compareLabel=o.Label.replace(new RegExp("\\p{Emoji}","gu"),"\u017e");this.contentTypes$.next(e),this.scope$.value!==x._K.scopes.default.value&&this.snackBar.open("Warning! You are in a special scope. Changing things here could easily break functionality",null,{duration:2e3})})}fetchScopes(){this.contentTypesService.getScopesV2().subscribe(e=>{const o=this.scopeOptions$.value.filter(c=>null==e.find(l=>l.name===c.name)),i=e.map(c=>{let l=c.typesInherited?c.typesInherited==c.typesTotal?c.typesInherited+" sys types":`${c.typesTotal} types / ${c.typesInherited} system`:`${c.typesTotal} types`;return{...c,label:c.name+` - ${l}`}});this.scopeOptions$.next([...i,...o])})}createGhost(){const e=window.prompt("To create a ghost content-type enter source static name / id - this is a very advanced operation - read more about it on 2sxc.org/help?tag=ghost");e&&(this.snackBar.open("Saving..."),this.contentTypesService.createGhost(e).subscribe(o=>{this.snackBar.open("Saved",null,{duration:2e3}),this.fetchContentTypes()}))}changeScope(e){console.log("trigger"),e===Pt.M&&(e=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||x._K.scopes.default.value),this.router.navigate(["..",e],{relativeTo:this.route})}enablePermissionsGetter(){return this.enablePermissions}addItem(e){const i=(0,at.K)({items:[{ContentTypeName:e.StaticName}]});this.router.navigate([`edit/${i}`],{relativeTo:this.route.parent.firstChild})}editFields(e){this.router.navigate([`fields/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}createOrEditMetadata(e){const i=(0,at.K)({items:[e.Properties?{EntityId:e.Properties.Id}:{ContentTypeName:x._K.contentTypes.contentType,For:{Target:x._K.metadata.contentType.target,TargetType:x._K.metadata.contentType.targetType,String:e.StaticName},Prefill:{Label:e.Name,Description:e.Description}}]});this.router.navigate([`edit/${i}`],{relativeTo:this.route.parent.firstChild})}openMetadata(e){const o=q.K.getUrlContentType(e.StaticName,`Metadata for Content Type: ${e.Name} (${e.Id})`);this.router.navigate([o],{relativeTo:this.route.parent.firstChild})}openRestApi(e){this.router.navigate([rt.e.getUrlData(e)],{relativeTo:this.route.parent.firstChild})}exportType(e){this.contentExportService.exportJson(e.StaticName)}openDataExport(e){this.router.navigate([`export/${e.StaticName}`],{relativeTo:this.route.parent.firstChild})}openDataImport(e,o){this.router.navigate([`${e.StaticName}/import`],{relativeTo:this.route.parent.firstChild,state:{files:o}})}openPermissions(e){this.router.navigate([W.N.getUrlContentType(e.StaticName)],{relativeTo:this.route.parent.firstChild})}deleteContentType(e){confirm(`Are you sure you want to delete '${e.Name}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.contentTypesService.delete(e).subscribe(o=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchContentTypes()}))}refreshScopeOnRouteChange(){this.subscription.add(this.router.events.pipe((0,It.I)(e=>e instanceof v.cf),(0,$.k)(()=>this.route.snapshot.paramMap.get("scope")),(0,fe.W)(this.route.snapshot.paramMap.get("scope")),(0,It.I)(e=>!!e),(0,be.a)()).subscribe(e=>{this.scope$.next(e),this.scopeOptions$.value.map(o=>o.name).includes(e)||this.scopeOptions$.next([...this.scopeOptions$.value,{name:e,label:e,typesTotal:0,typesInherited:0,typesOfApp:0}]),this.fetchContentTypes()}))}buildGridOptions(){return{...ht.A,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",sortable:!0,filter:"agNumberColumnFilter",cellClass:o=>("id-action no-padding no-outline "+(o.data.EditInfo.ReadOnly?"disabled":"")).split(" "),valueGetter:o=>o.data.Id,cellRenderer:Tt.q,cellRendererParams:{tooltipGetter:i=>`ID: ${i.Id}\nGUID: ${i.StaticName}`}},{headerName:"Content Type",field:"ContentType",flex:3,minWidth:250,cellClass:"primary-action highlight".split(" "),sortable:!0,sort:"asc",filter:"agTextColumnFilter",onCellClicked:o=>{this.showContentItems(o.data)},valueGetter:o=>o.data.Label,comparator:(o,i,c,l,I)=>c.data._compareLabel.localeCompare(l.data._compareLabel)},{field:"Items",width:102,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter",valueGetter:o=>o.data.Items,cellRenderer:Se,cellRendererParams:{onShowItems:i=>this.showContentItems(i),onAddItem:i=>this.addItem(i)}},{field:"Fields",width:94,headerClass:"dense",cellClass:"secondary-action no-padding".split(" "),sortable:!0,filter:"agNumberColumnFilter",valueGetter:o=>o.data.Fields,cellRenderer:Ae,cellRendererParams:{onEditFields:i=>this.editFields(i)}},{field:"Name",flex:1,minWidth:100,sortable:!0,filter:"agTextColumnFilter",cellClass:o=>(o.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:o=>o.data.Name,onCellClicked:o=>{this.editContentType(o.data)}},{field:"Description",flex:3,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:o=>o.data.Properties?.Description},{width:162,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:Ge,cellRendererParams:{enablePermissionsGetter:()=>this.enablePermissionsGetter(),onCreateOrEditMetadata:i=>this.createOrEditMetadata(i),onOpenPermissions:i=>this.openPermissions(i),onEdit:i=>this.editContentType(i),onOpenRestApi:i=>this.openRestApi(i),onOpenMetadata:i=>this.openMetadata(i),onTypeExport:i=>this.exportType(i),onOpenDataExport:i=>this.openDataExport(i),onOpenDataImport:i=>this.openDataImport(i),onDelete:i=>this.deleteContentType(i)}}]}}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(wt.X),t.GI1(Mt.Sq),t.GI1(U.yS),t.GI1(y.M),t.GI1(j.mK))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data"]],features:[t.eg9],decls:3,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","gridOptions","allowedFileTypes","filesDropped"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["color","accent",1,"eav-form-field","eav-scope-dropdown"],["name","Scope",3,"ngModel","ngModelChange"],[3,"value"],["mat-button","","tippy","Import content type",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","class","eav-button__with-icon","color","accent","tippy","Create a ghost content type"],["mat-fab","","mat-elevation-z24","","tippy","Create a new content type",1,"grid-fab",3,"click"],["mat-button","","color","accent","tippy","Create a ghost content type",1,"eav-button__with-icon",3,"click"]],template:function(o,i){if(1&o&&(t.yuY(0,$e,19,6,"div",0),t.wVc(1,"async"),t.wR5(2,"router-outlet")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[v.cP,Et.Q,N.Y,T.Yp,d.Gw,d.uw,C.qL,gt.U5,g.ue,g._G,Z.Up,m.kX,b.I5,r.a],styles:[".eav-scope-dropdown[_ngcontent-%COMP%]{margin-top:-14px;width:350px}.eav-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.eav-dialog-actions[_ngcontent-%COMP%]   .eav-dialog-actions-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.eav-dialog-actions[_ngcontent-%COMP%]   .eav-button__with-icon[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px}"]})}return n})();var Ft=a(7184),Bt=a(4976);function we(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",9),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openCode())}),t.I0R(1,"mat-icon"),t.OEk(2,"code"),t.C$Y()()}}function Fe(n,s){1&n&&(t.I0R(0,"div",10)(1,"mat-icon"),t.OEk(2,"code"),t.C$Y()())}function Be(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",11),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openMetadata())}),t.I0R(1,"mat-icon",12),t.OEk(2," local_offer "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.view.Metadata.length)("matBadgeHidden",!e.view.Metadata.length)}}function Ve(n,s){if(1&n&&(t.I0R(0,"div",10)(1,"mat-icon",13),t.OEk(2," local_offer "),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.view.Metadata.length)("matBadgeHidden",!e.view.Metadata.length)}}function Ue(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",14),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openPermissions())}),t.I0R(1,"mat-icon",12),t.OEk(2," person "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.view.Permissions.Count)("matBadgeHidden",!e.view.Permissions.Count)}}function Ke(n,s){if(1&n&&(t.I0R(0,"div",10)(1,"mat-icon",13),t.OEk(2," person "),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.view.Permissions.Count)("matBadgeHidden",!e.view.Permissions.Count)}}function Ne(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.cloneView())}),t.I0R(1,"mat-icon"),t.OEk(2,"file_copy"),t.C$Y(),t.I0R(3,"span"),t.OEk(4,"Copy"),t.C$Y()(),t.I0R(5,"button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.exportView())}),t.I0R(6,"mat-icon"),t.OEk(7,"cloud_download"),t.C$Y(),t.I0R(8,"span"),t.OEk(9,"Export"),t.C$Y()(),t.I0R(10,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.deleteView())}),t.I0R(11,"mat-icon"),t.OEk(12,"delete"),t.C$Y(),t.I0R(13,"span"),t.OEk(14,"Delete"),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(10),t.E7m("disabled",e.view.EditInfo.DisableDelete)}}let We=(()=>{class n{agInit(e){this.params=e,this.view=this.params.data,this.enableCode=this.params.enableCodeGetter(),this.enablePermissions=this.params.enablePermissionsGetter()}refresh(e){return!0}openCode(){this.params.onOpenCode(this.view)}openPermissions(){this.params.onOpenPermissions(this.view)}openMetadata(){this.params.onOpenMetadata(this.view)}cloneView(){this.params.onClone(this.view)}exportView(){this.params.onExport(this.view)}deleteView(){this.params.onDelete(this.view)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-views-actions"]],decls:14,vars:7,consts:[[1,"actions-component"],["class","eav-grid-action-button highlight","matRipple","","tippy","Code"],["class","eav-grid-action-button highlight","matRipple","","tippy","Metadata"],["class","eav-grid-action-button highlight","matRipple","","tippy","Permissions"],[3,"lightSpeedOwner","params","lightSpeed"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["matRipple","","tippy","Code",1,"eav-grid-action-button","highlight",3,"click"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"disabled","click"]],template:function(o,i){if(1&o&&(t.I0R(0,"div",0),t.yuY(1,we,3,0,"div",1)(2,Fe,3,0)(3,Be,3,2,"div",2)(4,Ve,3,2)(5,Ue,3,2,"div",3)(6,Ke,3,2),t.wR5(7,"app-lightspeed-action",4),t.I0R(8,"div",5)(9,"mat-icon"),t.OEk(10,"more_horiz"),t.C$Y()()(),t.I0R(11,"mat-menu",6,7),t.yuY(13,Ne,15,1,"ng-template",8),t.C$Y()),2&o){const c=t.Gew(12);t.yG2(1),t.C0Y(1,!i.view.EditInfo.DisableEdit&&i.enableCode?1:2),t.yG2(2),t.C0Y(3,i.view.EditInfo.DisableMetadata?4:3),t.yG2(2),t.C0Y(5,!i.view.EditInfo.DisableEdit&&i.enablePermissions?5:6),t.yG2(2),t.E7m("lightSpeedOwner",i.view)("params",i.params)("lightSpeed",i.view.lightSpeed),t.yG2(1),t.E7m("matMenuTriggerFor",c)}},dependencies:[N.Y,C.qL,b.UZ,k.aM,k.OQ,k.M5,k.yG,A.S,Bt._]})}return n})(),Le=(()=>{class n{agInit(e){this.value=e.value}refresh(e){return!0}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-views-show"]],decls:3,vars:1,consts:[[1,"icon-container"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"mat-icon"),t.OEk(2),t.C$Y()()),2&o&&(t.yG2(2),t.cNF(i.value?"visibility":"visibility_off"))},dependencies:[C.qL]})}return n})();function Vt(n){let s="",e="";return n.HasQuery?(s="Data (from query)",e="filter_list"):n.List?(s="Items (list)",e="format_list_numbered"):n.ContentType||n.HasQuery?n.List||(s="Item (one)",e="looks_one"):(s="Code",e="check_box_outline_blank"),{value:s,icon:e}}function je(n,s){1&n&&(t.I0R(0,"div",3)(1,"mat-icon"),t.OEk(2,"share"),t.C$Y()())}let Je=(()=>{class n{agInit(e){this.value=e.value;const o=e.data,i=Vt(o);this.icon=i.icon,this.isShared=o.IsShared}refresh(e){return!0}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-views-type"]],decls:5,vars:3,consts:[[1,"icon-container"],[1,"eav-grid-action-button","icon",3,"tippy"],["class","eav-grid-action-button icon","tippy","View is shared"],["tippy","View is shared",1,"eav-grid-action-button","icon"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"div",1)(2,"mat-icon"),t.OEk(3),t.C$Y()(),t.yuY(4,je,3,0,"div",2),t.C$Y()),2&o&&(t.yG2(1),t.E7m("tippy",i.value),t.yG2(2),t.cNF(i.icon),t.yG2(1),t.C0Y(4,i.isShared?4:-1))},dependencies:[N.Y,C.qL]})}return n})();var B=a(9972),Ut=a(7008),mt=a(6996);function Qe(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",1)(1,"ag-grid-angular",2),t.qCj("filesDropped",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.importView(i))}),t.C$Y(),t.I0R(2,"mat-dialog-actions",3)(3,"div",4)(4,"button",5),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.editPolymorphisms())}),t.I0R(5,"span",6),t.wR5(6,"img",7),t.I0R(7,"span"),t.OEk(8),t.C$Y()()(),t.I0R(9,"button",8),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.importView())}),t.I0R(10,"mat-icon",9),t.OEk(11,"cloud_upload"),t.C$Y(),t.I0R(12,"span"),t.OEk(13,"View"),t.C$Y()()(),t.I0R(14,"button",10),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.editView(null))}),t.I0R(15,"mat-icon"),t.OEk(16,"add"),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("rowData",s.views)("gridOptions",e.gridOptions)("allowedFileTypes","json"),t.yG2(3),t.E7m("disabled",e.appIsInherited),t.yG2(2),t.E7m("src",e.polymorphLogo,t.K6U),t.yG2(2),t.oRS("Polymorphism ",s.polymorphStatus,"")}}let ze=(()=>{class n extends st.K{constructor(e,o,i,c,l,I,O,M,P){super(e,o),this.router=e,this.route=o,this.viewsService=i,this.snackBar=c,this.dialogService=l,this.dialogConfigSvc=I,this.dialog=O,this.viewContainerRef=M,this.changeDetectorRef=P,this.views$=new X.g(void 0),this.polymorphStatus$=new X.g(void 0),this.polymorphLogo="data:image/png;base64,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",this.gridOptions=this.buildGridOptions()}ngOnInit(){this.fetchTemplates(),this.fetchPolymorphism(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchTemplates(),this.fetchPolymorphism()})),this.viewModel$=(0,H.E)([this.views$,this.polymorphStatus$]).pipe((0,$.k)(([e,o])=>({views:e,polymorphStatus:o}))),this.dialogConfigSvc.getCurrent$().subscribe(e=>{var o=e.Context;this.enableCode=o.Enable.CodeEditor,this.enablePermissions=o.Enable.AppPermissions,this.appIsGlobal=o.App.IsShared,this.appIsInherited=o.App.IsInherited})}ngOnDestroy(){this.views$.complete(),this.polymorphStatus$.complete(),super.ngOnDestroy()}importView(e){this.router.navigate(["import"],{relativeTo:this.route.parent.firstChild,state:{files:e}})}fetchTemplates(){this.viewsService.getAll().subscribe(e=>{this.views$.next(e)})}fetchPolymorphism(){this.viewsService.getPolymorphism().subscribe(e=>{this.polymorphism=e,this.polymorphStatus$.next(null===e.Id?"not configured":null===e.Resolver?"disabled":"using "+e.Resolver)})}editView(e){const o={items:[null==e?{ContentTypeName:x._K.contentTypes.template,Prefill:{...this.appIsGlobal&&{Location:"Global"}}}:{EntityId:e.Id}]};this.openEdit(o)}openEdit(e){this.openChildDialog(`edit/${(0,at.K)(e)}`)}openChildDialog(e){this.router.navigate([e],{relativeTo:this.route.parent.firstChild})}editPolymorphisms(){this.polymorphism&&this.openEdit({items:[this.polymorphism.Id?{EntityId:this.polymorphism.Id}:{ContentTypeName:this.polymorphism.TypeName}]})}enableCodeGetter(){return this.enableCode}enablePermissionsGetter(){return this.enablePermissions}openUsage(e){this.openChildDialog(`usage/${e.Guid}`)}openCode(e){this.dialogService.openCodeFile(e.TemplatePath,e.IsShared,e.Id)}openPermissions(e){this.openChildDialog(W.N.getUrlEntity(e.Guid))}openMetadata(e){const o=q.K.getUrlEntity(e.Guid,`Metadata for View: ${e.Name} (${e.Id})`);this.openChildDialog(o)}cloneView(e){this.openEdit({items:[{ContentTypeName:x._K.contentTypes.template,DuplicateEntity:e.Id}]})}exportView(e){this.viewsService.export(e.Id)}deleteView(e){confirm(`Delete '${e.Name}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.viewsService.delete(e.Id).subscribe(o=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchTemplates()}))}openLightSpeed(e){const o={ClientData:{parameters:{forView:!0,showDuration:!1}}},i={items:[null!=e.lightSpeed?{...o,EntityId:e.lightSpeed.Id}:{...o,ContentTypeName:x._K.appMetadata.LightSpeed.ContentTypeName,For:{Target:x._K.metadata.entity.target,TargetType:x._K.metadata.entity.targetType,Guid:e.Guid}}]};this.openEdit(i)}buildGridOptions(){function e(c){return 0==c.DemoId?"":`${c.DemoId} ${c.DemoTitle}`}const o=()=>Ut.C.openDialog(this.dialog,mt.y.LightSpeed,this.viewContainerRef,this.changeDetectorRef);return{...ht.A,columnDefs:[{...B.y.Id,cellClass:c=>("id-action no-padding no-outline "+(c.data.EditInfo.ReadOnly?"disabled":"")).split(" "),cellRenderer:Tt.q,cellRendererParams:{tooltipGetter:l=>`ID: ${l.Id}\nGUID: ${l.Guid}`}},{...B.y.IconShow,valueGetter:c=>!c.data.IsHidden,cellRenderer:Le},{...B.y.TextWide,field:"Name",cellClass:"primary-action highlight".split(" "),sort:"asc",onCellClicked:c=>{this.editView(c.data)}},{field:"Type",width:82,headerClass:"dense",cellClass:"no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:c=>Vt(c.data).value,cellRenderer:Je},{...B.y.Number,field:"Used",onCellClicked:c=>this.openUsage(c.data)},{...B.y.TextNarrow,headerName:"Url Key",field:"ViewNameInUrl"},{...B.y.TextWide,headerName:"Path",field:"TemplatePath"},{...B.y.TextNarrow,headerName:"Content",valueGetter:c=>c.data.ContentType.Name},{...B.y.TextNarrow,headerName:"Default",field:"ContentDemo",valueGetter:c=>e(c.data.ContentType)},{...B.y.TextNarrow,field:"Presentation",valueGetter:c=>c.data.PresentationType.Name},{...B.y.TextNarrow,headerName:"Default",field:"PresentationDemo",valueGetter:c=>e(c.data.PresentationType)},{...B.y.TextNarrow,field:"Header",valueGetter:c=>c.data.ListContentType.Name},{...B.y.TextNarrow,headerName:"Default",field:"HeaderDemo",valueGetter:c=>e(c.data.ListContentType)},{...B.y.TextNarrow,headerName:"Header Pres.",field:"HeaderPresentation",valueGetter:c=>c.data.ListPresentationType.Name},{...B.y.TextNarrow,headerName:"Default",field:"HeaderPresentationDemo",valueGetter:c=>e(c.data.ListPresentationType)},{...B.y.ActionsPinnedRight5,cellRenderer:We,cellRendererParams:{enableCodeGetter:()=>this.enableCodeGetter(),enablePermissionsGetter:()=>this.enablePermissionsGetter(),onOpenCode:c=>this.openCode(c),onOpenPermissions:c=>this.openPermissions(c),onOpenMetadata:c=>this.openMetadata(c),onClone:c=>this.cloneView(c),onExport:c=>this.exportView(c),onDelete:c=>this.deleteView(c),onOpenLightspeed:c=>this.openLightSpeed(c),openLightspeedFeatureInfo:()=>o()}}]}}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(Ft.s),t.GI1(U.yS),t.GI1(pt.E),t.GI1(ct.m),t.GI1(T.qW),t.GI1(t.y8U),t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-views"]],features:[t.eg9],decls:3,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","gridOptions","allowedFileTypes","filesDropped"],[1,"eav-dialog-actions"],[1,"eav-dialog-actions-div"],["mat-button","","tippy","Configure polymorphism",1,"eav-polymorph-button",3,"disabled","click"],[1,"eav-polymorph-button-span"],[1,"eav-polymorph-logo",3,"src"],["mat-button","","tippy","Import view",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-fab","","mat-elevation-z24","","tippy","Create a new view",1,"grid-fab",3,"click"]],template:function(o,i){if(1&o&&(t.yuY(0,Qe,17,6,"div",0),t.wVc(1,"async"),t.wR5(2,"router-outlet")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[v.cP,Et.Q,N.Y,T.Yp,d.Gw,d.uw,C.qL,gt.U5,r.a],styles:[".eav-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.eav-dialog-actions[_ngcontent-%COMP%]   .eav-dialog-actions-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.eav-dialog-actions[_ngcontent-%COMP%]   .eav-button__with-icon[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px}.eav-polymorph-button[_ngcontent-%COMP%]   .eav-polymorph-button-span[_ngcontent-%COMP%]{display:flex;align-items:center}.eav-polymorph-logo[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:4px}.eav-polymorph-button[disabled][_ngcontent-%COMP%]   .eav-polymorph-logo[_ngcontent-%COMP%]{opacity:33%;filter:grayscale(1)}"]})}return n})();var Kt=a(900),tt=function(n){return n[n.Edit=0]="Edit",n[n.Metadata=1]="Metadata",n[n.Rest=2]="Rest",n[n.Clone=3]="Clone",n[n.Permissions=4]="Permissions",n[n.Export=5]="Export",n[n.Delete=6]="Delete",n}(tt||{});class Xe{agInit(s){this.params=s,this.item=this.params.data}refresh(s){return!0}}function He(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",9),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Metadata,i.item))}),t.I0R(1,"mat-icon",10),t.OEk(2," local_offer "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",null==e.item.Metadata?null:e.item.Metadata.length)("matBadgeHidden",!(null!=e.item.Metadata&&e.item.Metadata.length))}}function Ze(n,s){if(1&n&&(t.I0R(0,"div",11)(1,"mat-icon",12),t.OEk(2," local_offer "),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",null==e.item.Metadata?null:e.item.Metadata.length)("matBadgeHidden",!(null!=e.item.Metadata&&e.item.Metadata.length))}}function qe(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",13),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Permissions,i.item))}),t.I0R(1,"mat-icon",10),t.OEk(2," person "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.item._Permissions.Count)("matBadgeHidden",!e.item._Permissions.Count)}}function tn(n,s){if(1&n&&(t.I0R(0,"div",11)(1,"mat-icon",12),t.OEk(2," person "),t.C$Y()()),2&n){const e=t.GaO();t.yG2(1),t.E7m("matBadge",e.item._Permissions.Count)("matBadgeHidden",!e.item._Permissions.Count)}}function en(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",14),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Rest,i.item))}),t.wR5(1,"mat-icon",15),t.I0R(2,"span"),t.OEk(3,"REST API"),t.C$Y()(),t.I0R(4,"button",14),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Clone,i.item))}),t.I0R(5,"mat-icon"),t.OEk(6,"file_copy"),t.C$Y(),t.I0R(7,"span"),t.OEk(8,"Copy"),t.C$Y()(),t.I0R(9,"button",14),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Export,i.item))}),t.I0R(10,"mat-icon"),t.OEk(11,"cloud_download"),t.C$Y(),t.I0R(12,"span"),t.OEk(13,"Export"),t.C$Y()(),t.I0R(14,"button",16),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.params.do(i.actions.Delete,i.item))}),t.I0R(15,"mat-icon"),t.OEk(16,"delete"),t.C$Y(),t.I0R(17,"span"),t.OEk(18,"Delete"),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(14),t.E7m("disabled",e.item._EditInfo.DisableDelete)}}let nn=(()=>{class n extends Xe{constructor(){super(...arguments),this.actions=tt}agInit(e){super.agInit(e),this.enablePermissions=this.params.getEnablePermissions()}static#t=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.otF(n)))(i||n)}})();static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-queries-actions"]],features:[t.eg9],decls:14,vars:5,consts:[[1,"actions-component"],["matRipple","","tippy","Edit",1,"eav-grid-action-button","highlight",3,"click"],["class","eav-grid-action-button highlight","matRipple","","tippy","Metadata"],["class","eav-grid-action-button disabled"],["class","eav-grid-action-button highlight","matRipple","","tippy","Permissions"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["matRipple","","tippy","Metadata",1,"eav-grid-action-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],[1,"eav-grid-action-button","disabled"],["matBadgeColor","accent","matBadgeSize","small","matBadgeDisabled","true","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeHidden"],["matRipple","","tippy","Permissions",1,"eav-grid-action-button","highlight",3,"click"],["mat-menu-item","",3,"click"],["svgIcon","code-curly"],["mat-menu-item","",3,"disabled","click"]],template:function(o,i){if(1&o&&(t.I0R(0,"div",0)(1,"div",1),t.qCj("click",function(){return i.params.do(i.actions.Edit,i.item)}),t.I0R(2,"mat-icon"),t.OEk(3,"edit"),t.C$Y()(),t.yuY(4,He,3,2,"div",2)(5,Ze,3,2,"div",3)(6,qe,3,2,"div",4)(7,tn,3,2,"div",3),t.I0R(8,"div",5)(9,"mat-icon"),t.OEk(10,"more_horiz"),t.C$Y()()(),t.I0R(11,"mat-menu",6,7),t.yuY(13,en,19,1,"ng-template",8),t.C$Y()),2&o){const c=t.Gew(12);t.yG2(4),t.C0Y(4,i.item._EditInfo.DisableMetadata?-1:4),t.yG2(1),t.C0Y(5,i.item._EditInfo.DisableMetadata?5:-1),t.yG2(1),t.C0Y(6,!i.item._EditInfo.DisableEdit&&i.enablePermissions?6:-1),t.yG2(1),t.C0Y(7,i.item._EditInfo.DisableEdit||!i.enablePermissions?7:-1),t.yG2(1),t.E7m("matMenuTriggerFor",c)}},dependencies:[N.Y,C.qL,b.UZ,k.aM,k.OQ,k.M5,k.yG,A.S],encapsulation:2})}return n})();function on(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",1)(1,"ag-grid-angular",2),t.qCj("filesDropped",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.importQuery(i))}),t.C$Y(),t.I0R(2,"mat-dialog-actions",3)(3,"button",4),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.importQuery())}),t.I0R(4,"mat-icon",5),t.OEk(5,"cloud_upload"),t.C$Y(),t.I0R(6,"span"),t.OEk(7,"Query"),t.C$Y()(),t.I0R(8,"button",6),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.editQuery(null))}),t.I0R(9,"mat-icon"),t.OEk(10,"add"),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(1),t.E7m("rowData",s.queries)("gridOptions",e.gridOptions)("allowedFileTypes","json")}}let an=(()=>{class n extends st.K{constructor(e,o,i,c,l,I,O){super(e,o),this.router=e,this.route=o,this.pipelinesService=i,this.contentExportService=c,this.snackBar=l,this.dialogService=I,this.dialogConfigSvc=O,this.queries$=new X.g(void 0),this.gridOptions=this.buildGridOptions(),this.viewModel$=(0,H.E)([this.queries$]).pipe((0,$.k)(([M])=>({queries:M})))}ngOnInit(){this.fetchQueries(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchQueries()})),this.dialogConfigSvc.getCurrent$().subscribe(e=>{this.enablePermissions=e.Context.Enable.AppPermissions})}ngOnDestroy(){this.queries$.complete(),super.ngOnDestroy()}fetchQueries(){this.pipelinesService.getAll(x._K.contentTypes.query).subscribe(e=>{this.queries$.next(e)})}importQuery(e){this.router.navigate(["import"],{relativeTo:this.route.parent.firstChild,state:{files:e}})}doMenuAction(e,o){switch(e){case tt.Edit:return this.editQuery(o);case tt.Metadata:return this.openMetadata(o);case tt.Rest:return this.router.navigate([rt.e.getUrlQueryInAdmin(o.Guid)],{relativeTo:this.route.parent.firstChild});case tt.Clone:return this.cloneQuery(o);case tt.Permissions:return this.openPermissions(o);case tt.Export:return this.exportQuery(o);case tt.Delete:return this.deleteQuery(o)}}editQuery(e){const i=(0,at.K)({items:[null==e?{ContentTypeName:x._K.contentTypes.query,Prefill:{TestParameters:x._K.pipelineDesigner.testParameters}}:{EntityId:e.Id}]});this.router.navigate([`edit/${i}`],{relativeTo:this.route.parent.firstChild})}enablePermissionsGetter(){return this.enablePermissions}openVisualQueryDesigner(e){e._EditInfo.ReadOnly||this.dialogService.openQueryDesigner(e.Id)}openMetadata(e){const o=q.K.getUrlEntity(e.Guid,`Metadata for Query: ${e.Name} (${e.Id})`);this.router.navigate([o],{relativeTo:this.route.parent.firstChild})}cloneQuery(e){this.snackBar.open("Copying..."),this.pipelinesService.clonePipeline(e.Id).subscribe(()=>{this.snackBar.open("Copied",null,{duration:2e3}),this.fetchQueries()})}openPermissions(e){this.router.navigate([W.N.getUrlEntity(e.Guid)],{relativeTo:this.route.parent.firstChild})}exportQuery(e){this.contentExportService.exportEntity(e.Id,"Query",!0)}deleteQuery(e){confirm(`Delete Pipeline '${e.Name}' (${e.Id})?`)&&(this.snackBar.open("Deleting..."),this.pipelinesService.delete(e.Id).subscribe(o=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.fetchQueries()}))}buildGridOptions(){return{...ht.A,columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",sortable:!0,filter:"agNumberColumnFilter",cellClass:o=>("id-action no-padding no-outline "+(o.data._EditInfo.ReadOnly?"disabled":"")).split(" "),valueGetter:o=>o.data.Id,cellRenderer:Tt.q,cellRendererParams:{tooltipGetter:i=>`ID: ${i.Id}\nGUID: ${i.Guid}`}},{field:"Name",flex:2,minWidth:250,sortable:!0,sort:"asc",filter:"agTextColumnFilter",cellClass:o=>(o.data._EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),onCellClicked:o=>{this.openVisualQueryDesigner(o.data)},valueGetter:o=>o.data.Name},{field:"Description",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:o=>o.data.Description},{width:162,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:nn,cellRendererParams:{getEnablePermissions:()=>this.enablePermissionsGetter(),do:(i,c)=>this.doMenuAction(i,c)}}]}}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(Kt.kX),t.GI1(y.M),t.GI1(U.yS),t.GI1(pt.E),t.GI1(ct.m))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-queries"]],features:[t.eg9],decls:3,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],["appDragAndDrop","",1,"ag-theme-material",3,"rowData","gridOptions","allowedFileTypes","filesDropped"],[1,"eav-dialog-actions"],["mat-button","","tippy","Import query",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-fab","","mat-elevation-z24","","tippy","Create a new query",1,"grid-fab",3,"click"]],template:function(o,i){if(1&o&&(t.yuY(0,on,11,3,"div",0),t.wVc(1,"async"),t.wR5(2,"router-outlet")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[v.cP,Et.Q,N.Y,T.Yp,d.Gw,d.uw,C.qL,gt.U5,r.a],styles:[".eav-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.eav-dialog-actions[_ngcontent-%COMP%]   .eav-button__with-icon[_ngcontent-%COMP%]   .eav-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px}"]})}return n})();var cn=a(5960);function sn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",7),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openCode())}),t.I0R(1,"mat-icon"),t.OEk(2,"code"),t.C$Y()()}}function rn(n,s){1&n&&(t.I0R(0,"div",8)(1,"mat-icon"),t.OEk(2,"code"),t.C$Y()())}function ln(n,s){if(1&n){const e=t.KQA();t.I0R(0,"button",9),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openRestApi())}),t.wR5(1,"mat-icon",10),t.I0R(2,"span"),t.OEk(3,"REST API"),t.C$Y()()}}let dn=(()=>{class n{constructor(e,o){this.router=e,this.route=o}agInit(e){this.params=e,this.enableCode=this.params.enableCodeGetter()}refresh(e){return!0}openCode(){this.params.onOpenCode(this.params.data)}openRestApi(){const e=this.params.data,o=this.router.url.split("/");o[o.length-1]=rt.e.routeWebApi,o.push(encodeURIComponent(e.path));const i=o.join("/");this.router.navigate([i])}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-web-api-actions"]],decls:9,vars:3,consts:[[1,"actions-component"],["class","eav-grid-action-button highlight","matRipple","","tippy","Code"],["class","eav-grid-action-button disabled"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["menu","matMenu"],["matMenuContent",""],["matRipple","","tippy","Code",1,"eav-grid-action-button","highlight",3,"click"],[1,"eav-grid-action-button","disabled"],["mat-menu-item","",3,"click"],["svgIcon","code-curly"]],template:function(o,i){if(1&o&&(t.I0R(0,"div",0),t.yuY(1,sn,3,0,"div",1)(2,rn,3,0,"div",2),t.I0R(3,"div",3)(4,"mat-icon"),t.OEk(5,"more_horiz"),t.C$Y()()(),t.I0R(6,"mat-menu",4,5),t.yuY(8,ln,4,0,"ng-template",6),t.C$Y()),2&o){const c=t.Gew(7);t.yG2(1),t.C0Y(1,i.enableCode?1:-1),t.yG2(1),t.C0Y(2,i.enableCode?-1:2),t.yG2(1),t.E7m("matMenuTriggerFor",c)}},dependencies:[N.Y,C.qL,b.UZ,k.aM,k.OQ,k.M5,k.yG]})}return n})();var pn=a(3296);function mn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"div",1),t.wR5(1,"ag-grid-angular",2),t.I0R(2,"mat-dialog-actions",3)(3,"button",4)(4,"mat-icon"),t.OEk(5,"add"),t.C$Y()(),t.I0R(6,"mat-menu",null,5)(8,"button",6),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.createController(!1))}),t.I0R(9,"span"),t.OEk(10,"App"),t.C$Y()(),t.I0R(11,"button",6),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.createController(!0))}),t.I0R(12,"span"),t.OEk(13,"Shared (global)"),t.C$Y()()()()()}if(2&n){const e=t.Gew(7),o=t.GaO();t.yG2(1),t.E7m("rowData",s.webApis)("gridOptions",o.gridOptions),t.yG2(2),t.E7m("matMenuTriggerFor",e)}}let un=(()=>{class n{constructor(e,o,i,c,l,I,O,M){this.sourceService=e,this.snackBar=o,this.dialogService=i,this.router=c,this.route=l,this.dialog=I,this.viewContainerRef=O,this.dialogConfigSvc=M,this.webApis$=new X.g(void 0),this.gridOptions=this.buildGridOptions()}ngOnInit(){this.fetchWebApis(),this.viewModel$=(0,H.E)([this.webApis$]).pipe((0,$.k)(([e])=>({webApis:e}))),this.dialogConfigSvc.getCurrent$().subscribe(e=>{this.enableCode=e.Context.Enable.CodeEditor})}ngOnDestroy(){this.webApis$.complete()}createController(e){this.dialog.open(et.cE,{autoFocus:!1,data:{folder:"api",global:e,purpose:"Api"},viewContainerRef:this.viewContainerRef,width:"650px"}).afterClosed().subscribe(c=>{if(c){if(c.name.endsWith("Controller.cs")){const l=c.name.substring(c.name.lastIndexOf("/")+1);if(!/^[A-Z][a-zA-Z0-9]*Controller\.cs$/g.test(l))return void this.snackBar.open(`"${l}" is invalid controller name. Should be something like "MyController.cs"`,null,{duration:5e3})}this.snackBar.open("Saving..."),this.sourceService.create(c.name,e,c.templateKey).subscribe(()=>{this.snackBar.open("Saved",null,{duration:2e3}),this.fetchWebApis()})}})}fetchWebApis(){this.sourceService.getWebApis().subscribe(e=>{this.webApis$.next(e)})}enableCodeGetter(){return this.enableCode}openCode(e){this.dialogService.openCodeFile(e.path,e.isShared)}openRestApi(e){this.router.navigate([rt.e.getUrlWebApi(e)],{relativeTo:this.route.parent.firstChild})}buildGridOptions(){return{...ht.A,columnDefs:[{headerName:"Endpoint",field:"endpointPath",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Edition",field:"edition",flex:1,minWidth:100,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter"},{headerName:"Forder2",field:"folder",flex:1,minWidth:100,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter"},{headerName:"Name",field:"name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter"},{headerName:"Compiled",field:"isCompiled",width:100,cellRenderer:pn.I,cellClass:"no-outline",sortable:!0,filter:cn.s},{width:82,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:dn,cellRendererParams:{enableCodeGetter:()=>this.enableCodeGetter(),onOpenCode:i=>this.openCode(i),onOpenRestApi:i=>this.openRestApi(i)}}]}}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(p.M),t.GI1(U.yS),t.GI1(pt.E),t.GI1(v.E5),t.GI1(v.gV),t.GI1(T.qW),t.GI1(t.y8U),t.GI1(ct.m))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-web-api"]],decls:3,vars:3,consts:[["class","grid-wrapper mat-tab-grid-wrapper"],[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["align","end"],["mat-fab","","mat-elevation-z24","","tippy","Create a new controller","tippyPlacement","left",1,"grid-fab",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(o,i){if(1&o&&(t.yuY(0,mn,14,3,"div",0),t.wVc(1,"async"),t.wR5(2,"router-outlet")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[v.cP,N.Y,T.Yp,d.uw,C.qL,gt.U5,k.aM,k.OQ,k.yG,r.a]})}return n})();var Ct=a(6916),hn=a(9244),gn=a(1468),Rt=a(1332),Nt=a(3392);let Ot=(()=>{class n{constructor(e,o,i){this.http=e,this.context=o,this.dnnContext=i}getAppInternals(e,o,i,c){return this.http.get(this.dnnContext.$2sxc.http.apiUrl("admin/appinternals/get"),{params:{appId:this.context.appId.toString(),targetType:e.toString(),keyType:o,key:i.toString(),...c&&{contentType:c}}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.CoB(Rt.KK),t.CoB(ot.e),t.CoB(Nt.es))};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac})}return n})();const _n={Settings:"Settings",Resources:"Resources"};var Wt=a(1616),fn=a(2556);function bn(n,s){1&n&&t.C_f(0)}const yn=()=>({link:"https://docs.2sxc.org/basics/app/configuration.html"});function vn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"mat-card",2)(1,"mat-card-header",3)(2,"mat-card-title"),t.OEk(3,"Configuration"),t.C$Y(),t.I0R(4,"mat-icon"),t.OEk(5,"redeem"),t.C$Y()(),t.I0R(6,"mat-card-content"),t.wR5(7,"p"),t.I0R(8,"div",4)(9,"div",5),t.OEk(10,"Name:"),t.C$Y(),t.I0R(11,"div",6)(12,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.displayName))}),t.OEk(13),t.C$Y()()(),t.I0R(14,"div",4)(15,"div",5),t.OEk(16,"Folder:"),t.C$Y(),t.I0R(17,"div",6)(18,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.folder))}),t.OEk(19),t.C$Y()()(),t.I0R(20,"div",4)(21,"div",5),t.OEk(22,"Version:"),t.C$Y(),t.I0R(23,"div",6)(24,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.version))}),t.OEk(25),t.C$Y()()(),t.I0R(26,"div",4)(27,"div",5),t.OEk(28,"For"),t.C$Y(),t.I0R(29,"div",6)(30,"b"),t.OEk(31,"2sxc: "),t.C$Y(),t.I0R(32,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.toSxc))}),t.OEk(33),t.C$Y(),t.I0R(34,"b"),t.OEk(35," DNN: "),t.C$Y(),t.I0R(36,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.dnn))}),t.OEk(37),t.C$Y(),t.I0R(38,"b"),t.OEk(39," Oqt: "),t.C$Y(),t.I0R(40,"span",7),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.copyToClipboard(c.oqt))}),t.OEk(41),t.C$Y()()()(),t.wR5(42,"div",8),t.I0R(43,"mat-card-actions",9),t.yuY(44,bn,1,0,"ng-container",10),t.I0R(45,"button",11),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.edit())}),t.I0R(46,"mat-icon",12),t.OEk(47,"edit"),t.C$Y(),t.I0R(48,"span"),t.OEk(49,"Edit"),t.C$Y()(),t.I0R(50,"button",11),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openMetadata())}),t.I0R(51,"mat-icon",12),t.OEk(52,"local_offer"),t.C$Y(),t.I0R(53,"span"),t.OEk(54,"Metadata"),t.C$Y()()()()}if(2&n){t.GaO();const e=t.Gew(3);t.yG2(12),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.cNF(s.displayName),t.yG2(5),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.cNF(s.folder),t.yG2(5),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.cNF(s.version),t.yG2(7),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.oRS(" ",s.toSxc," "),t.yG2(3),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.oRS(" ",s.dnn," "),t.yG2(3),t.E7m("tippy","Click to copy to clipboard"),t.yG2(1),t.oRS(" ",s.oqt," "),t.yG2(3),t.E7m("ngTemplateOutlet",e)("ngTemplateOutletContext",t.q4q(16,yn)),t.yG2(2),t.E7m("matBadge",s.appConfigurationsCount||null),t.yG2(5),t.E7m("matBadge",s.appMetadataCount||null)}}function xn(n,s){if(1&n&&(t.I0R(0,"a",13)(1,"mat-icon",14),t.OEk(2),t.C$Y(),t.I0R(3,"span"),t.OEk(4),t.C$Y()()),2&n){const e=s.$implicit,o=s.$implicit;let c;t._6D("href",s.link,t.K6U),t.E7m("tippy","online documentation"),t.yG2(2),t.cNF(null!==(c=e)&&void 0!==c?c:"menu_book"),t.yG2(2),t.cNF(o)}}let In=(()=>{class n extends st.K{constructor(e,o,i,c,l,I){super(e,o),this.router=e,this.route=o,this.contentItemsService=i,this.context=c,this.snackBar=l,this.appInternalsService=I,this.appSettingsInternal$=new Wt.E,this.viewModel$=(0,H.E)([this.appSettingsInternal$,this.contentItemsService.getAll(x._K.contentTypes.appConfiguration)]).pipe((0,$.k)(([O,M])=>{const P=M[0];return{appConfigurationsCount:O.EntityLists.ToSxcContentApp.length,appMetadataCount:O.MetadataList.Items.length,displayName:P?.DisplayName??"-",folder:P?.Folder??"-",version:P?.Version??"-",toSxc:P?.RequiredVersion??"-",dnn:P?.RequiredDnnVersion??"-",oqt:P?.RequiredOqtaneVersion??"-"}}))}ngOnInit(){this.fetchSettings(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchSettings()}))}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}copyToClipboard(e){(0,fn.y)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}edit(){const e=x._K.contentTypes.appConfiguration;this.contentItemsService.getAll(e).subscribe(o=>{let i;if(o.length<1)throw new Error(`Found no settings for type ${e}`);if(o.length>1)throw new Error(`Found too many settings for type ${e}`);i={items:[{EntityId:o[0].Id}]};const c=(0,at.K)(i);this.router.navigate([`edit/${c}`],{relativeTo:this.route.parent.firstChild})})}openMetadata(){const e=q.K.getUrlApp(this.context.appId,`Metadata for App: ${this.dialogSettings.Context.App.Name} (${this.context.appId})`);this.router.navigate([e],{relativeTo:this.route.parent.firstChild})}fetchSettings(){this.appInternalsService.getAppInternals(x._K.metadata.app.targetType,x._K.metadata.app.keyType,this.context.appId).subscribe(o=>{this.appSettingsInternal$.next(o)})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(u.q),t.GI1(ot.e),t.GI1(U.yS),t.GI1(Ot))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-app-configuration-card"]],inputs:{dialogSettings:"dialogSettings"},features:[t.eg9],decls:4,vars:3,consts:[["class","eav-card"],["docsLink",""],[1,"eav-card"],[1,"eav-card-header"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"tippy","click"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"],[1,"eav-icon"]],template:function(o,i){if(1&o&&(t.yuY(0,vn,55,17,"mat-card",0),t.wVc(1,"async"),t.yuY(2,xn,5,4,"ng-template",null,1,t.gJz)),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[N.Y,r.XV,d.EB,d.Gw,C.qL,h.SM,h.W0,h.WK,h.Uc,h.gp,A.S,r.a],styles:[".eav-card-space-div[_ngcontent-%COMP%]{min-height:30px}"]})}return n})();function Tn(n,s){1&n&&t.OEk(0," This is the Global App. Anything configured here will affect all Sites and Apps in this installation. ")}function En(n,s){1&n&&t.OEk(0," This is the Primary App of this Site. You can also configure sitewide settings and resources here. ")}function Rn(n,s){if(1&n&&(t.I0R(0,"div",21),t.yuY(1,Tn,1,0)(2,En,1,0),t.OEk(3," See "),t.I0R(4,"a",5),t.OEk(5,"docs"),t.C$Y(),t.OEk(6,". "),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(1),t.C0Y(1,e.isGlobal?1:-1),t.yG2(1),t.C0Y(2,e.isPrimary?2:-1)}}function On(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Global"),t.C$Y(),t.I0R(3,"td")(4,"button",22),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemSettings,i.SystemSettingsScopes.App))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",24),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customSettings,"edit"))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",25),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customSettings,"config"))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(5),t.E7m("matBadge",e.systemSettingsCount||null),t.yG2(4),t.E7m("matBadge",e.customSettingsCount||null),t.yG2(3),t.E7m("matBadge",e.customSettingsFieldsCount||null)}}function Gn(n,s){1&n&&t.C_f(0)}function An(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Site"),t.C$Y(),t.I0R(3,"td")(4,"button",26),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemSettings,i.SystemSettingsScopes.Site))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",27),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customSettings,"edit"))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",28),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customSettings,"config"))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()(),t.yuY(14,Gn,1,0,"ng-container",29)}if(2&n){const e=t.GaO(),o=t.Gew(65);t.yG2(5),t.E7m("matBadge",e.systemSettingsCount||null),t.yG2(4),t.E7m("matBadge",e.customSettingsCount||null),t.yG2(3),t.E7m("matBadge",e.customSettingsFieldsCount||null),t.yG2(2),t.E7m("ngTemplateOutlet",o)}}function Sn(n,s){1&n&&t.C_f(0)}function Dn(n,s){1&n&&t.C_f(0)}function Yn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2),t.C$Y(),t.I0R(3,"td")(4,"button",30),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemSettings,i.SystemSettingsScopes.App))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",31),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.settings))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",32),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.config(i.eavConstants.contentTypes.settings))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()(),t.yuY(14,Sn,1,0,"ng-container",29)(15,Dn,1,0,"ng-container",29)}if(2&n){const e=t.GaO(),o=t.Gew(67),i=t.Gew(65),c=t.GaO();t.yG2(2),t.cNF(c.dialogSettings.Context.App.Name),t.yG2(3),t.E7m("matBadge",e.systemSettingsCount||null),t.yG2(4),t.E7m("matBadge",e.customSettingsCount||null),t.yG2(3),t.E7m("matBadge",e.customSettingsFieldsCount||null),t.yG2(2),t.E7m("ngTemplateOutlet",o),t.yG2(1),t.E7m("ngTemplateOutlet",i)}}function $n(n,s){1&n&&t.C_f(0)}function Mn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Global"),t.C$Y(),t.I0R(3,"td")(4,"button",33),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemResources,i.SystemSettingsScopes.App))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",34),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customResources,"edit"))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",35),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customResources,"config"))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(5),t.E7m("matBadge",e.systemResourcesCount||null),t.yG2(4),t.E7m("matBadge",e.customResourcesCount||null),t.yG2(3),t.E7m("matBadge",e.customResourcesFieldsCount||null)}}function Pn(n,s){1&n&&t.C_f(0)}function wn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Site"),t.C$Y(),t.I0R(3,"td")(4,"button",36),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemResources,i.SystemSettingsScopes.Site))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",37),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customResources,"edit"))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",38),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fixContentType(i.eavConstants.contentTypes.customResources,"config"))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()(),t.yuY(14,Pn,1,0,"ng-container",29)}if(2&n){const e=t.GaO(),o=t.Gew(65);t.yG2(5),t.E7m("matBadge",e.systemResourcesCount||null),t.yG2(4),t.E7m("matBadge",e.customResourcesCount||null),t.yG2(3),t.E7m("matBadge",e.customResourcesFieldsCount||null),t.yG2(2),t.E7m("ngTemplateOutlet",o)}}function Fn(n,s){1&n&&t.C_f(0)}function Bn(n,s){1&n&&t.C_f(0)}function Vn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2),t.C$Y(),t.I0R(3,"td")(4,"button",39),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.systemResources,i.SystemSettingsScopes.App))}),t.I0R(5,"mat-icon",23),t.OEk(6,"edit"),t.C$Y()()(),t.I0R(7,"td")(8,"button",40),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.edit(i.eavConstants.contentTypes.resources))}),t.I0R(9,"mat-icon",23),t.OEk(10,"edit"),t.C$Y()(),t.I0R(11,"button",41),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.config(i.eavConstants.contentTypes.resources))}),t.I0R(12,"mat-icon",23),t.OEk(13,"dns"),t.C$Y()()()(),t.yuY(14,Fn,1,0,"ng-container",29)(15,Bn,1,0,"ng-container",29)}if(2&n){const e=t.GaO(),o=t.Gew(67),i=t.Gew(65),c=t.GaO();t.yG2(2),t.cNF(c.dialogSettings.Context.App.Name),t.yG2(3),t.E7m("matBadge",e.systemResourcesCount||null),t.yG2(4),t.E7m("matBadge",e.customResourcesCount||null),t.yG2(3),t.E7m("matBadge",e.customResourcesFieldsCount||null),t.yG2(2),t.E7m("ngTemplateOutlet",o),t.yG2(1),t.E7m("ngTemplateOutlet",i)}}function Un(n,s){1&n&&t.C_f(0)}function Kn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Global"),t.C$Y(),t.I0R(3,"td")(4,"button",42),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.openGlobalSettings())}),t.I0R(5,"mat-icon"),t.OEk(6,"open_in_new"),t.C$Y()()()()}}function Nn(n,s){if(1&n){const e=t.KQA();t.I0R(0,"tr")(1,"th"),t.OEk(2,"Site"),t.C$Y(),t.I0R(3,"td")(4,"button",43),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.openSiteSettings())}),t.I0R(5,"mat-icon"),t.OEk(6,"open_in_new"),t.C$Y()()()()}}function Wn(n,s){1&n&&t.C_f(0)}function Ln(n,s){1&n&&t.C_f(0)}function jn(n,s){1&n&&t.C_f(0)}function Jn(n,s){1&n&&t.OEk(0," (not on Global App) ")}function Qn(n,s){1&n&&t.OEk(0," (not on Content) ")}function zn(n,s){if(1&n&&t.yuY(0,Jn,1,0)(1,Qn,1,0),2&n){const e=t.GaO(2);t.C0Y(0,e.isGlobal?0:-1),t.yG2(1),t.C0Y(1,e.isApp?1:-1)}}function Xn(n,s){1&n&&t.C_f(0)}const Lt=()=>({link:"https://go.2sxc.org/settings"}),Hn=()=>({link:"https://go.2sxc.org/lightspeed"}),Zn=()=>({link:"https://go.2sxc.org/csp"}),qn=()=>({link:"https://docs.2sxc.org/basics/app/permissions.html"}),eo=()=>({link:"https://patrons.2sxc.org/features/feat/PermissionsByLanguage"});function no(n,s){if(1&n){const e=t.KQA();t.yuY(0,Rn,7,2,"div",1),t.I0R(1,"div",2)(2,"mat-card",3)(3,"mat-card-header",4)(4,"mat-card-title"),t.OEk(5,"Settings"),t.C$Y(),t.I0R(6,"mat-icon"),t.OEk(7,"settings"),t.C$Y()(),t.I0R(8,"mat-card-content")(9,"p"),t.OEk(10,' Settings are things like SQL-connection strings, default "items-to-show" numbers and similar. If necessary, settings like a link to an RSS-Feed could be different in each language. '),t.I0R(11,"a",5),t.OEk(12,"docs"),t.C$Y()(),t.I0R(13,"table",6)(14,"thead")(15,"tr"),t.wR5(16,"th"),t.I0R(17,"th"),t.OEk(18,"System Settings"),t.C$Y(),t.I0R(19,"th"),t.OEk(20,"Custom Settings"),t.C$Y()()(),t.I0R(21,"tbody"),t.yuY(22,On,14,3,"tr")(23,An,15,4)(24,Yn,16,6),t.C$Y()()(),t.wR5(25,"div",7),t.I0R(26,"mat-card-actions",8),t.yuY(27,$n,1,0,"ng-container",9),t.I0R(28,"button",10),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.analyze(i.AnalyzeParts.Settings))}),t.I0R(29,"mat-icon",11),t.OEk(30,"manage_search"),t.C$Y(),t.I0R(31,"span"),t.OEk(32,"Analyze Combined Settings"),t.C$Y()()()(),t.I0R(33,"mat-card",3)(34,"mat-card-header",4)(35,"mat-card-title"),t.OEk(36,"Language Resources (i18n)"),t.C$Y(),t.I0R(37,"mat-icon"),t.OEk(38,"translate"),t.C$Y()(),t.I0R(39,"mat-card-content")(40,"p"),t.OEk(41," Resources are used for labels and things like that in the App. They are usually needed to create multi-lingual views and such, and should not be used for App-Settings. "),t.I0R(42,"a",5),t.OEk(43,"docs"),t.C$Y()(),t.I0R(44,"table",6)(45,"thead")(46,"tr"),t.wR5(47,"th"),t.I0R(48,"th"),t.OEk(49,"System Resources"),t.C$Y(),t.I0R(50,"th"),t.OEk(51,"Custom Resources"),t.C$Y()()(),t.I0R(52,"tbody"),t.yuY(53,Mn,14,3,"tr")(54,wn,15,4)(55,Vn,16,6),t.C$Y()()(),t.wR5(56,"div",7),t.I0R(57,"mat-card-actions",8),t.yuY(58,Un,1,0,"ng-container",9),t.I0R(59,"button",12),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.analyze(i.AnalyzeParts.Resources))}),t.I0R(60,"mat-icon",11),t.OEk(61,"manage_search"),t.C$Y(),t.I0R(62,"span"),t.OEk(63,"Analyze Combined Resources"),t.C$Y()()()(),t.yuY(64,Kn,7,0,"ng-template",null,13,t.gJz)(66,Nn,7,0,"ng-template",null,14,t.gJz),t.C$Y(),t.I0R(68,"div",2),t.wR5(69,"app-app-configuration-card",15),t.I0R(70,"mat-card",3)(71,"mat-card-header",4)(72,"mat-card-title"),t.OEk(73,"Performance"),t.C$Y(),t.I0R(74,"mat-icon"),t.OEk(75,"bolt"),t.C$Y()(),t.I0R(76,"mat-card-content")(77,"p"),t.OEk(78," LightSpeed Output Cache to speed up page by 50-90% "),t.C$Y(),t.wR5(79,"app-feature-text-info",16),t.C$Y(),t.wR5(80,"div",7),t.I0R(81,"mat-card-actions",8),t.yuY(82,Wn,1,0,"ng-container",9),t.I0R(83,"button",17),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openLightSpeed())}),t.I0R(84,"mat-icon",18),t.OEk(85,"bolt"),t.C$Y(),t.I0R(86,"span"),t.OEk(87,"Edit LightSpeed"),t.C$Y()()()(),t.I0R(88,"mat-card",3)(89,"mat-card-header",4)(90,"mat-card-title"),t.OEk(91,"Security"),t.C$Y(),t.I0R(92,"mat-icon"),t.OEk(93,"local_police"),t.C$Y()(),t.I0R(94,"mat-card-content")(95,"p"),t.OEk(96," ContentSecurityPolicy (CSP) features in this App - for maximum control. "),t.C$Y(),t.wR5(97,"app-feature-text-info",16),t.C$Y(),t.wR5(98,"div",7),t.I0R(99,"mat-card-actions",8),t.yuY(100,Ln,1,0,"ng-container",9),t.C$Y()(),t.I0R(101,"mat-card",3)(102,"mat-card-header",4)(103,"mat-card-title"),t.OEk(104,"Permissions"),t.C$Y(),t.I0R(105,"mat-icon"),t.OEk(106,"person"),t.C$Y()(),t.I0R(107,"mat-card-content")(108,"p"),t.OEk(109," Give access to the entire app (all data). Use with care. "),t.C$Y()(),t.wR5(110,"div",7),t.I0R(111,"mat-card-actions",8),t.yuY(112,jn,1,0,"ng-container",9),t.I0R(113,"button",17),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.openPermissions())}),t.I0R(114,"mat-icon",18),t.OEk(115,"person"),t.C$Y(),t.I0R(116,"span"),t.OEk(117," Edit Permissions "),t.yuY(118,zn,2,2),t.C$Y()(),t.yuY(119,Xn,1,0,"ng-container",9),t.I0R(120,"button",19),t.qCj("click",function(){const c=t.usT(e),l=t.GaO();return t.CGJ(l.openLanguagePermissions(c.langPermsEnabled))}),t.I0R(121,"mat-icon",20),t.OEk(122," person "),t.C$Y(),t.I0R(123,"span"),t.OEk(124,"Language Permissions"),t.C$Y()()()()()}if(2&n){const e=t.GaO(),o=t.Gew(3);t.C0Y(0,e.isGlobal||e.isPrimary?0:-1),t.yG2(22),t.C0Y(22,e.isGlobal?22:-1),t.yG2(1),t.C0Y(23,e.isPrimary?23:-1),t.yG2(1),t.C0Y(24,e.isApp?24:-1),t.yG2(3),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(30,Lt)),t.yG2(26),t.C0Y(53,e.isGlobal?53:-1),t.yG2(1),t.C0Y(54,e.isPrimary?54:-1),t.yG2(1),t.C0Y(55,e.isApp?55:-1),t.yG2(3),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(31,Lt)),t.yG2(11),t.E7m("dialogSettings",e.dialogSettings),t.yG2(10),t.E7m("featureNameId","LightSpeedOutputCache")("asInfo",!0),t.yG2(3),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(32,Hn)),t.yG2(1),t._6D("disabled",!s.lightSpeedEnabled),t.yG2(1),t.E7m("matBadge",s.appLightSpeedCount||null),t.yG2(13),t.E7m("featureNameId","ContentSecurityPolicy")("asInfo",!0),t.yG2(3),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(33,Zn)),t.yG2(12),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(34,qn)),t.yG2(1),t.E7m("disabled",!e.dialogSettings.Context.Enable.AppPermissions),t.yG2(1),t.E7m("matBadge",e.dialogSettings.Context.App.Permissions.Count||null),t.yG2(4),t.C0Y(118,e.dialogSettings.Context.Enable.AppPermissions?-1:118),t.yG2(1),t.E7m("ngTemplateOutlet",o)("ngTemplateOutletContext",t.q4q(35,eo)),t.yG2(2),t.E7m("matBadgeHidden",s.langPermsEnabled)}}function oo(n,s){if(1&n&&(t.I0R(0,"a",44)(1,"mat-icon",11),t.OEk(2),t.C$Y(),t.I0R(3,"span"),t.OEk(4),t.C$Y()()),2&n){const e=s.$implicit,o=s.$implicit;let c;t._6D("href",s.link,t.K6U),t.E7m("tippy","online documentation"),t.yG2(2),t.cNF(null!==(c=e)&&void 0!==c?c:"menu_book"),t.yG2(2),t.cNF(o)}}let io=(()=>{class n extends st.K{constructor(e,o,i,c,l,I,O,M,P,nt,lt,Gt,At,w){super(e,o),this.router=e,this.route=o,this.contentItemsService=i,this.context=c,this.importAppPartsService=l,this.snackBar=I,this.dialogService=O,this.appInternalsService=M,this.contentTypesService=P,this.globalConfigService=nt,this.appDialogConfigService=lt,this.dialog=Gt,this.viewContainerRef=At,this.changeDetectorRef=w,this.eavConstants=x._K,this.AnalyzeParts=_n,this.SystemSettingsScopes=x.E$,this.AppScopes=Ct.o,this.debugEnabled$=this.globalConfigService.getDebugEnabled$(),this.appSettingsInternal$=new Wt.E,this.appStateAdvanced=!1,this.features=new hn.E,this.features.loadFromService(lt),this.viewModel$=(0,H.E)([this.appSettingsInternal$,this.features.isEnabled$(mt.y.LightSpeed),this.features.isEnabled$(mt.y.ContentSecurityPolicy),this.features.isEnabled$(mt.y.PermissionsByLanguage)]).pipe((0,$.k)(([V,ut,dt,ft])=>({lightSpeedEnabled:ut,cspEnabled:dt,langPermsEnabled:ft,appLightSpeedCount:V.MetadataList.Items.filter(Q=>Q._Type.Name==x._K.appMetadata.LightSpeed.ContentTypeName).length,systemSettingsCount:this.isPrimary?V.EntityLists.SettingsSystem.filter(Q=>Q.SettingsEntityScope===x.E$.Site).length:V.EntityLists.SettingsSystem.filter(Q=>!Q.SettingsEntityScope).length,customSettingsCount:V.EntityLists.AppSettings?.length,customSettingsFieldsCount:V.FieldAll.AppSettings?.length,systemResourcesCount:this.isPrimary?V.EntityLists.ResourcesSystem.filter(Q=>Q.SettingsEntityScope===x.E$.Site).length:V.EntityLists.ResourcesSystem.filter(Q=>!Q.SettingsEntityScope).length,customResourcesCount:V.EntityLists.AppResources?.length,customResourcesFieldsCount:V.FieldAll.AppResources?.length})))}ngOnInit(){this.fetchSettings(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.fetchSettings()})),this.appDialogConfigService.getCurrent$().subscribe(e=>{this.dialogSettings=e;const o=e.Context.App.SettingsScope;this.isGlobal=o===Ct.o.Global,this.isPrimary=o===Ct.o.Site,this.isApp=o===Ct.o.App})}ngOnDestroy(){this.snackBar.dismiss(),super.ngOnDestroy()}edit(e,o){this.contentItemsService.getAll(e).subscribe(i=>{let c;switch(e){case x._K.contentTypes.systemSettings:case x._K.contentTypes.systemResources:const I=i.filter(P=>o===x.E$.App?!P.SettingsEntityScope:P.SettingsEntityScope===x.E$.Site);if(I.length>1)throw new Error(`Found too many settings for type ${e}`);const O=I[0];c={items:[null==O?{ContentTypeName:e,Prefill:{...o===x.E$.Site&&{SettingsEntityScope:x.E$.Site}}}:{EntityId:O.Id}]};break;case x._K.contentTypes.customSettings:case x._K.contentTypes.customResources:if(i.length>1)throw new Error(`Found too many settings for type ${e}`);const M=i[0];c={items:[null==M?{ContentTypeName:e}:{EntityId:M.Id}]};break;default:if(i.length<1)throw new Error(`Found no settings for type ${e}`);if(i.length>1)throw new Error(`Found too many settings for type ${e}`);c={items:[{EntityId:i[0].Id}]}}const l=(0,at.K)(c);this.router.navigate([`edit/${l}`],{relativeTo:this.route.parent.firstChild})})}openLightSpeed(){const e=gn.e.getLightSpeedEditParams(this.context.appId),o=(0,at.K)(e);this.router.navigate([`edit/${o}`],{relativeTo:this.route.parent.firstChild})}openSiteSettings(){const e=this.dialogSettings.Context.Site.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}openGlobalSettings(){const e=this.dialogSettings.Context.System.PrimaryApp;this.dialogService.openAppAdministration(e.ZoneId,e.AppId,"app")}config(e){this.router.navigate([`fields/${e}`],{relativeTo:this.route.parent.firstChild})}openPermissions(){this.router.navigate([W.N.getUrlApp(this.context.appId)],{relativeTo:this.route.parent.firstChild})}openLanguagePermissions(e){e?this.router.navigate(["language-permissions"],{relativeTo:this.route.parent.firstChild}):Ut.C.openDialog(this.dialog,mt.y.PermissionsByLanguage,this.viewContainerRef,this.changeDetectorRef)}analyze(e){this.router.navigate([`analyze/${e}`],{relativeTo:this.route.parent.firstChild})}fetchSettings(){this.appInternalsService.getAppInternals(x._K.metadata.app.targetType,x._K.metadata.app.keyType,this.context.appId).subscribe(o=>{this.appSettingsInternal$.next(o)})}fixContentType(e,o){this.contentTypesService.retrieveContentTypes(x._K.scopes.configuration.value).subscribe(i=>{i.some(l=>l.Name===e)?"edit"===o?this.edit(e):"config"===o&&this.config(e):this.contentTypesService.save({StaticName:"",Name:e,Description:"",Scope:x._K.scopes.configuration.value,ChangeStaticName:!1,NewStaticName:""}).subscribe(I=>{I&&("edit"===o?this.edit(e):"config"===o&&this.config(e))})})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(v.E5),t.GI1(v.gV),t.GI1(u.q),t.GI1(ot.e),t.GI1(vt.M),t.GI1(U.yS),t.GI1(pt.E),t.GI1(Ot),t.GI1(j.Xi),t.GI1(Mt.Sq),t.GI1(j.mK),t.GI1(T.qW),t.GI1(t.y8U),t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-app-configuration"]],features:[t.eg9],decls:5,vars:3,consts:[["docsLink",""],["class","alert alert-info scope-info"],[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],["href","https://go.2sxc.org/settings","target","_blank"],[1,"eav-settings-and-resources-table"],[1,"eav-card-space-div"],["align","start"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","","tippy","See the result of combining all settings",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["mat-button","","tippy","See the result of combining all resources",1,"eav-button__with-icon",3,"click"],["goToGlobal",""],["goToSite",""],[3,"dialogSettings"],[3,"featureNameId","asInfo"],["mat-button","",1,"eav-button__with-icon",3,"disabled","click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadge"],["mat-button","",1,"eav-button__with-icon",3,"click"],["matBadgeSize","small","matBadge","\u{1f48e}","matBadgePosition","below after","aria-hidden","false",1,"eav-icon",3,"matBadgeHidden"],[1,"alert","alert-info","scope-info"],["mat-icon-button","","tippy","Edit global system settings",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge"],["mat-icon-button","","tippy","Edit custom global settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global settings",3,"click"],["mat-icon-button","","tippy","Edit site system settings",3,"click"],["mat-icon-button","","tippy","Edit custom site settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site settings",3,"click"],[4,"ngTemplateOutlet"],["mat-icon-button","","tippy","Edit app system settings",3,"click"],["mat-icon-button","","tippy","Edit custom app settings",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app settings",3,"click"],["mat-icon-button","","tippy","Edit global system resources",3,"click"],["mat-icon-button","","tippy","Edit custom global resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom global resources",3,"click"],["mat-icon-button","","tippy","Edit site system resources",3,"click"],["mat-icon-button","","tippy","Edit custom site resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom site resources",3,"click"],["mat-icon-button","","tippy","Edit app system resources",3,"click"],["mat-icon-button","","tippy","Edit custom app resources",3,"click"],["mat-icon-button","","tippy","Configure fields of the custom app resources",3,"click"],["mat-icon-button","","tippy","Go to global",3,"click"],["mat-icon-button","","tippy","Go to site",3,"click"],["mat-button","","target","_blank",1,"eav-button__with-icon",3,"href","tippy"]],template:function(o,i){if(1&o&&(t.yuY(0,no,125,36),t.wVc(1,"async"),t.yuY(2,oo,5,4,"ng-template",null,0,t.gJz),t.wR5(4,"router-outlet")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[v.cP,N.Y,r.XV,d.EB,d.Gw,d.um,C.qL,h.SM,h.W0,h.WK,h.Uc,h.gp,A.S,$t.E,In,r.a],styles:[".eav-settings-and-resources-table[_ngcontent-%COMP%]{width:100%}.eav-settings-and-resources-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.eav-settings-and-resources-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}"]})}return n})();var ao=a(316),co=a(6936),so=a(7488);let jt=(()=>{class n extends ao.o{static#t=this.webApiEditions="admin/code/getEditions";static#e=this.webApiGeneratedCode="admin/code/generateDataModels";constructor(e,o){super(new co.W("CopilotService",!1)),this.http=e,this.context=o,this.specs=this.getCopilotSpecs()}getEditions(){return this.specs.pipe((0,$.k)(e=>e.editions))}getDefaultEdition(){return this.specs.pipe((0,$.k)(e=>e.editions.find(o=>o.isDefault)))}getGenerators(){return this.specs.pipe((0,$.k)(e=>e.generators))}getCopilotSpecs(){return this.http.get(n.webApiEditions,{params:{appId:this.context.appId.toString()}}).pipe((0,$.k)(e=>{const o=this.findDefaultEdition(e.editions),i=e.editions.map(c=>{const l=c==o;return{...c,isDefault:l,description:(c.description||"no description provided")+(l?" \u2705":""),label:`/${c.name}/AppCode/Data`.replace(/\/\//g,"/")}});return{...e,editions:i}}),(0,so.C)(1))}findDefaultEdition(e){return e.find(o=>o.isDefault)??e.find(o=>""===o.name)??e[0]}static#n=this.\u0275fac=function(o){return new(o||n)(t.CoB(Rt.KK),t.CoB(ot.e))};static#o=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac})}return n})();function lo(n,s){if(1&n&&(t.I0R(0,"mat-option",11)(1,"strong"),t.OEk(2),t.C$Y(),t.wR5(3,"br"),t.OEk(4),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.name),t.yG2(2),t.CAO("",e.name," v",e.version,""),t.yG2(2),t.oRS(" ",e.description," ")}}function po(n,s){1&n&&t.wR5(0,"mat-hint",10),2&n&&t.E7m("innerHTML",s.descriptionHtml,t.E3n)}function mo(n,s){if(1&n){const e=t.KQA();t.I0R(0,"mat-form-field",8)(1,"mat-label"),t.OEk(2,"Generator"),t.C$Y(),t.I0R(3,"mat-select",9),t.qCj("valueChange",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.selectedGenerator=i)}),t.I0R(4,"mat-select-trigger"),t.OEk(5),t.C$Y(),t.c53(6,lo,5,4,"mat-option",11,t.oxv),t.C$Y(),t.yuY(8,po,1,1,"mat-hint",10),t.wVc(9,"async"),t.C$Y(),t.wR5(10,"br")}if(2&n){const e=t.GaO();let o;t.yG2(3),t.E7m("value",e.selectedGenerator),t.yG2(2),t.oRS(" ",e.selectedGenerator," "),t.yG2(1),t.oho(s.sort()),t.yG2(2),t.C0Y(8,(o=t.kDX(9,3,e.selectedGenerator$))?8:-1,o)}}function uo(n,s){if(1&n&&(t.I0R(0,"mat-option",11)(1,"strong"),t.OEk(2),t.C$Y(),t.OEk(3),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.name),t.yG2(2),t.cNF(e.label),t.yG2(1),t.oRS(" (",e.description,") ")}}function ho(n,s){if(1&n){const e=t.KQA();t.I0R(0,"mat-form-field",8)(1,"mat-label"),t.OEk(2,"Select an Edition to generate code for"),t.C$Y(),t.I0R(3,"mat-select",9),t.qCj("valueChange",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.selectedEdition=i)}),t.c53(4,uo,4,3,"mat-option",11,t.oxv),t.C$Y(),t.I0R(6,"mat-hint"),t.OEk(7," Editions are managed in the "),t.I0R(8,"code"),t.OEk(9,"/App_Data/app.json"),t.C$Y(),t.OEk(10," file. See "),t.I0R(11,"a",12),t.OEk(12,"docs"),t.C$Y(),t.OEk(13,". "),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(3),t.E7m("value",e.selectedEdition),t.yG2(1),t.oho(s.sort())}}let Jt=(()=>{class n{constructor(e,o,i,c){this.http=e,this.context=o,this.snackBar=i,this.copilotSvc=c,this.title="Copilot Generator",this.webApiGeneratedCode="admin/code/generateDataModels",this.editions$=this.copilotSvc.getEditions(),this.generators$=this.copilotSvc.getGenerators().pipe((0,$.k)(l=>l.filter(I=>I.outputType===this.outputType))),this.selectedGenerator$=this.generators$.pipe((0,$.k)(l=>l.find(I=>I.name===this.selectedGenerator))),this.selectedGenerator="",this.selectedEdition=""}ngOnInit(){this.generators$.pipe((0,xt.U)(1)).subscribe(e=>{this.selectedGenerator=e[0]?.name??""}),this.copilotSvc.specs.pipe((0,xt.U)(1)).subscribe(e=>{this.selectedEdition=e.editions.find(o=>o.isDefault)?.name??""})}autoGeneratedCode(){this.http.get(this.webApiGeneratedCode,{params:{appId:this.context.appId.toString(),edition:this.selectedEdition,generator:this.selectedGenerator}}).subscribe(e=>{console.log(e),this.snackBar.open(e.message+`\n (this took ${e.timeTaken}ms)`,null,{duration:5e3})})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(Rt.KK),t.GI1(ot.e),t.GI1(U.yS),t.GI1(jt))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-copilot-generator"]],inputs:{outputType:"outputType",title:"title"},standalone:!0,features:[t.M5G([jt]),t.UHJ],decls:21,vars:7,consts:[[1,"eav-cards-box"],[1,"eav-card"],[1,"eav-card-header"],["appearance","fill","color","accent","style","width: 100%;"],[1,"eav-card-space-div"],["align","end"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],["appearance","fill","color","accent",2,"width","100%"],["required","",3,"value","valueChange"],[3,"innerHTML"],[3,"value"],["href","https://go.2sxc.org/app-json","target","_blank"]],template:function(o,i){if(1&o&&(t.I0R(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2)(3,"mat-card-title"),t.OEk(4),t.C$Y(),t.I0R(5,"mat-icon"),t.OEk(6,"support_agent"),t.C$Y()(),t.I0R(7,"mat-card-content"),t.wR5(8,"br"),t.yuY(9,mo,11,5),t.wVc(10,"async"),t.wR5(11,"br"),t.yuY(12,ho,14,1,"mat-form-field",3),t.wVc(13,"async"),t.C$Y(),t.wR5(14,"div",4),t.I0R(15,"mat-card-actions",5)(16,"button",6),t.qCj("click",function(){return i.autoGeneratedCode()}),t.I0R(17,"mat-icon",7),t.OEk(18,"code"),t.C$Y(),t.I0R(19,"span"),t.OEk(20,"Generate Code"),t.C$Y()()()()()),2&o){let c;t.yG2(4),t.cNF(i.title),t.yG2(5),t.C0Y(9,(c=t.kDX(10,3,i.generators$))?9:-1,c),t.yG2(3),t.C0Y(12,(c=t.kDX(13,5,i.editions$))?12:-1,c)}},dependencies:[m.d5,Z.Up,Z.w5,Z.MX,m.kX,m.gl,b.I5,d.oJ,d.Gw,h.NR,h.SM,h.W0,h.WK,h.Uc,h.gp,C.oB,C.qL,r.MD,r.a,St.q],encapsulation:2})}return n})(),go=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-copilot"]],standalone:!0,features:[t.M5G([]),t.UHJ],decls:6,vars:0,consts:[[1,"outer-container"],["outputType","DataModel","title","Data Model Copilot"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"h1"),t.OEk(2,"2sxc Data Copilot"),t.C$Y(),t.I0R(3,"p"),t.OEk(4," The Copilot provides tools to help you create code. It is still in new, so please use it carefully and report any issues. "),t.C$Y()(),t.wR5(5,"app-copilot-generator",1))},dependencies:[Jt],styles:[".outer-container[_ngcontent-%COMP%]{padding:10px 20px}"]})}return n})();function Co(n,s){if(1&n&&(t.I0R(0,"mat-option",3),t.OEk(1),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.StaticName),t.yG2(1),t.oRS(" ",e.Label," ")}}function _o(n,s){1&n&&t.c53(0,Co,2,2,"mat-option",3,t.oxv),2&n&&t.oho(s.sort())}let fo=(()=>{class n{constructor(e,o,i,c){this.contentTypesService=e,this.fb=o,this.router=i,this.route=c,this.contentTypes$=new X.g(void 0),this.contentTypes=[]}ngOnInit(){this.fetchData(),this.contentTypeForm=this.fb.group({contentType:[""]})}fetchData(){this.contentTypesService.retrieveContentTypes("Default").subscribe(e=>{this.contentTypes$.next(e);const o=this.router.url.split("/"),i=o[o.length-1],c=e.find(l=>l.StaticName===i);c&&this.contentTypeForm.get("contentType").setValue(c.StaticName)})}openRestApi(e){e&&this.router.navigate([`${e}`],{relativeTo:this.route.parent.firstChild})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(j.Xi),t.GI1(g.im),t.GI1(v.E5),t.GI1(v.gV))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-rest-api"]],standalone:!0,features:[t.M5G([j.Xi]),t.UHJ],decls:8,vars:4,consts:[[3,"formGroup"],["appearance","fill","color","accent",2,"width","100%"],["formControlName","contentType",3,"valueChange"],[3,"value"]],template:function(o,i){if(1&o&&(t.I0R(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t.OEk(3,"Content-Type"),t.C$Y(),t.I0R(4,"mat-select",2),t.qCj("valueChange",function(l){return i.openRestApi(l)}),t.yuY(5,_o,2,0),t.wVc(6,"async"),t.C$Y()()(),t.wR5(7,"router-outlet")),2&o){let c;t.E7m("formGroup",i.contentTypeForm),t.yG2(5),t.C0Y(5,(c=t.kDX(6,2,i.contentTypes$))?5:-1,c)}},dependencies:[m.d5,Z.Up,Z.w5,m.kX,b.I5,d.oJ,h.NR,C.oB,g.sl,g.sz,g.ue,g.u,g.uW,g.Wo,r.a,v.cP]})}return n})();function bo(n,s){if(1&n&&(t.I0R(0,"mat-option",3),t.OEk(1),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.Guid),t.yG2(1),t.oRS(" ",e.Name," ")}}function ko(n,s){1&n&&t.c53(0,bo,2,2,"mat-option",3,t.oxv),2&n&&t.oho(s.sort())}let yo=(()=>{class n{constructor(e,o,i,c){this.fb=e,this.pipelinesService=o,this.router=i,this.route=c,this.queryTypes$=new X.g(void 0)}ngOnInit(){this.fetchQueries(),this.queryTypeForm=this.fb.group({queryType:[""]})}fetchQueries(){this.pipelinesService.getAll(x._K.contentTypes.query).subscribe(e=>{this.queryTypes$.next(e);const o=this.router.url.split("/");console.log(o);const i=o[o.length-1],c=e.find(l=>l.Guid===i);c&&this.queryTypeForm.get("queryType").setValue(c.Guid)})}openRestApi(e){console.log("this.route.parent.firstChild",this.route.parent.firstChild),e&&this.router.navigate([`${e}`],{relativeTo:this.route.parent.firstChild})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(g.im),t.GI1(j.kX),t.GI1(v.E5),t.GI1(v.gV))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-web-api-rest-api"]],standalone:!0,features:[t.M5G([j.kX]),t.UHJ],decls:8,vars:4,consts:[[3,"formGroup"],["appearance","fill","color","accent",2,"width","100%"],["formControlName","queryType",3,"valueChange"],[3,"value"]],template:function(o,i){if(1&o&&(t.I0R(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t.OEk(3,"Query"),t.C$Y(),t.I0R(4,"mat-select",2),t.qCj("valueChange",function(l){return i.openRestApi(l)}),t.yuY(5,ko,2,0),t.wVc(6,"async"),t.C$Y()()(),t.wR5(7,"router-outlet")),2&o){let c;t.E7m("formGroup",i.queryTypeForm),t.yG2(5),t.C0Y(5,(c=t.kDX(6,2,i.queryTypes$))?5:-1,c)}},dependencies:[m.d5,Z.Up,Z.w5,m.kX,b.I5,d.oJ,h.NR,C.oB,g.sl,g.sz,g.ue,g.u,g.uW,g.Wo,r.a,v.cP]})}return n})();var vo=a(9432),xo=a(3584),_t=a(4172),Io=a(5324),To=a(1300),Eo=a(5552),Ro=a(916),Oo=a(3800),Go=a(5656);let Ao=(()=>{class n{constructor(){this.scenarios=J.WU}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-dev-data-introduction"]],inputs:{data:"data"},standalone:!0,features:[t.UHJ],decls:12,vars:0,consts:[["href","https://docs.2sxc.org/index.html","target","_blank"],["href","https://docs.2sxc.org/basics/data/index.html","target","_blank"],["href","https://docs.2sxc.org/web-api/content-rest-web-api.html","target","_blank"]],template:function(o,i){1&o&&(t.I0R(0,"p"),t.OEk(1," To learn more about data you may want to read these "),t.I0R(2,"a",0),t.OEk(3,"docs"),t.C$Y(),t.OEk(4,":\n"),t.C$Y(),t.I0R(5,"ul")(6,"li")(7,"a",1),t.OEk(8,"Data & Content-Types in 2sxc"),t.C$Y()(),t.I0R(9,"li")(10,"a",2),t.OEk(11,"Content REST API"),t.C$Y()()())},encapsulation:2})}return n})();var So=a(5736),Do=a(4328),Yo=a(760);function $o(n,s){1&n&&(t.I0R(0,"div",11),t.OEk(1,"\n          "),t.I0R(2,"mat-icon"),t.OEk(3,"emoji_objects"),t.C$Y(),t.OEk(4,"\n          "),t.I0R(5,"span"),t.OEk(6,"Introduction"),t.C$Y(),t.OEk(7,"\n        "),t.C$Y())}function Mo(n,s){if(1&n&&(t.I0R(0,"div",12),t.OEk(1,"\n          "),t.wR5(2,"mat-icon",13),t.OEk(3,"\n          "),t.I0R(4,"span"),t.OEk(5),t.C$Y(),t.OEk(6,"\n        "),t.C$Y()),2&n){const e=t.GaO();t.E7m("tippy",(e.scenario.useVirtual?"Virtual ":"Absolute ")+"REST URLs"),t.yG2(5),t.oRS("Call ",e.scenario.useVirtual?"Virtual":"Absolute"," REST URLs")}}function Po(n,s){1&n&&(t.OEk(0,"\n          "),t.I0R(1,"mat-icon"),t.OEk(2,"warning"),t.C$Y(),t.OEk(3,"\n          "))}function wo(n,s){if(1&n&&(t.I0R(0,"div",14),t.OEk(1,"\n          "),t.I0R(2,"mat-icon"),t.OEk(3,"person"),t.C$Y(),t.OEk(4,"\n          "),t.I0R(5,"span"),t.OEk(6),t.C$Y(),t.OEk(7,"\n          "),t.yuY(8,Po,4,0),t.C$Y()),2&n){const e=t.GaO();t.yG2(6),t.oRS("Permissions (",e.permissions.length,")"),t.yG2(2),t.C0Y(8,e.permissions.length?-1:8)}}function Fo(n,s){1&n&&(t.I0R(0,"div",15),t.OEk(1,"\n          "),t.I0R(2,"mat-icon"),t.OEk(3,"perm_device_information"),t.C$Y(),t.OEk(4,"\n          "),t.I0R(5,"span"),t.OEk(6,"HTTP headers & \xa0"),t.I0R(7,"code"),t.OEk(8,"/auto/"),t.C$Y()(),t.OEk(9,"\n        "),t.C$Y())}function Bo(n,s){if(1&n){const e=t.KQA();t.OEk(0,"\n"),t.I0R(1,"div",0),t.OEk(2,"\n  "),t.I0R(3,"div",1),t.OEk(4,"\n    "),t.I0R(5,"div",2),t.OEk(6,"\n      "),t.I0R(7,"div"),t.OEk(8,"Using REST with Data of "),t.I0R(9,"code"),t.OEk(10),t.C$Y()(),t.OEk(11,"\n      "),t.OEk(12,"\n    "),t.C$Y(),t.OEk(13,"\n  "),t.C$Y(),t.OEk(14,"\n  "),t.I0R(15,"div",3),t.OEk(16,"\n    "),t.wR5(17,"router-outlet"),t.OEk(18,"\n    "),t.I0R(19,"app-selector-with-help",4),t.qCj("valueChange",function(i){t.usT(e);const c=t.GaO();return t.CGJ(c.changeScenario(i))}),t.OEk(20,"\n    "),t.C$Y(),t.OEk(21,"\n    "),t.I0R(22,"mat-tab-group",5),t.OEk(23,"\n      "),t.OEk(24,"\n      "),t.I0R(25,"mat-tab"),t.OEk(26,"\n        "),t.yuY(27,$o,8,0,"div",6),t.OEk(28,"\n        "),t.wR5(29,"app-dev-data-introduction",7),t.OEk(30,"\n        "),t.wR5(31,"app-dev-rest-tab-introduction",7),t.OEk(32,"\n      "),t.C$Y(),t.OEk(33,"\n      "),t.OEk(34,"\n      "),t.I0R(35,"mat-tab"),t.OEk(36,"\n        "),t.yuY(37,Mo,7,2,"div",8),t.OEk(38,"\n        "),t.wR5(39,"app-dev-rest-tab-examples-intro",7),t.OEk(40,"\n        "),t.OEk(41,"\n        "),t.wR5(42,"app-dev-rest-urls-and-code",7),t.OEk(43,"\n      "),t.C$Y(),t.OEk(44,"\n      "),t.OEk(45,"\n      "),t.I0R(46,"mat-tab"),t.OEk(47,"\n        "),t.yuY(48,wo,9,2,"div",9),t.OEk(49,"\n        "),t.wR5(50,"app-dev-rest-tab-permissions",7),t.OEk(51,"\n      "),t.C$Y(),t.OEk(52,"\n      "),t.OEk(53,"\n      "),t.I0R(54,"mat-tab"),t.OEk(55,"\n        "),t.yuY(56,Fo,10,0,"div",10),t.OEk(57,"\n        "),t.wR5(58,"app-dev-rest-tab-headers",7),t.OEk(59,"\n      "),t.C$Y(),t.OEk(60,"\n    "),t.C$Y(),t.OEk(61,"\n  "),t.C$Y(),t.OEk(62,"\n"),t.C$Y(),t.OEk(63,"\n")}if(2&n){const e=t.GaO();t.yG2(10),t.cNF(s.name),t.yG2(9),t.E7m("items",e.scenarios)("value",s.scenario.key),t.yG2(10),t.E7m("data",s),t.yG2(2),t.E7m("data",s),t.yG2(8),t.E7m("data",s),t.yG2(3),t.E7m("data",s),t.yG2(8),t.E7m("data",s),t.yG2(8),t.E7m("data",s)}}let Uo=(()=>{class n extends Io.i{constructor(e,o,i,c,l,I,O,M,P){super(l,M,e,P,o,i,I),this.hostClass="dialog-component";const nt=i.paramMap.pipe((0,$.k)(w=>w.get(rt.e.paramTypeName)),(0,vo.G)(w=>c.retrieveContentType(w)),(0,xo.o)());this.permissions$=this.buildPermissionStream(rt.e.paramTypeName);const lt=(0,H.E)([nt,this.scenario$,this.dialogSettings$]).pipe((0,$.k)(([w,V,ut])=>{const dt="app/{appname}/data/{typename}".replace("{typename}",w.Name).replace("{appname}",V.inSameContext?"auto":encodeURI(ut.Context.App.Folder));return this.rootBasedOnScenario(dt,V)})),Gt={Id:0,Guid:"00000000-0000-0000-0000-000000000000",Title:"no data found"},At=O.getEntities$(nt.pipe((0,It.I)(w=>!!w),(0,$.k)(w=>({contentTypeName:w.StaticName})))).pipe((0,$.k)(w=>w.length?w[0]:Gt));this.viewModel$=(0,H.E)([(0,H.E)([nt,this.scenario$,this.permissions$]),(0,H.E)([lt,At,this.dialogSettings$])]).pipe((0,$.k)(([[w,V,ut],[dt,ft,zt]])=>({...this.buildBaseViewModel(w.Name,w.StaticName,zt,ut,dt,V),contentType:w,itemId:ft.Id,apiCalls:(0,J.i2)(P.$2sxc,V,M,dt,ft.Id)})))}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(T.yI),t.GI1(v.E5),t.GI1(v.gV),t.GI1(j.Xi),t.GI1(j.mK),t.GI1(yt.WU),t.GI1(_t.es),t.GI1(ot.e),t.GI1(Nt.es))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-dev-rest-data"]],hostVars:1,hostBindings:function(o,i){2&o&&t.SoX("className",i.hostClass)},inputs:{contentTypeInput$:"contentTypeInput$"},standalone:!0,features:[t.M5G([yt.WU,Do.q,_t.es,j.mK,j.Xi,_t.yY,_t.Ev]),t.eg9,t.UHJ],decls:2,vars:3,consts:[[1,"eav-dialog","eav-no-scrollbar"],["mat-mdc-dialog-title",""],[1,"dialog-title-box"],[1,"eav-dialog-content"],["label","Choose Scenario",3,"items","value","valueChange"],["dynamicHeight","","color","accent",1,"mat-tab-group-fit-height","mat-tab-group-fancy-scrollbar","default-fonts"],["class","mat-tab-label-box","tippy","Introduction",4,"matTabLabel"],[3,"data"],["class","mat-tab-label-box",3,"tippy",4,"matTabLabel"],["class","mat-tab-label-box","tippy","Permissions",4,"matTabLabel"],["class","mat-tab-label-box","tippy","HTTP headers and auto",4,"matTabLabel"],["tippy","Introduction",1,"mat-tab-label-box"],[1,"mat-tab-label-box",3,"tippy"],["svgIcon","code-curly"],["tippy","Permissions",1,"mat-tab-label-box"],["tippy","HTTP headers and auto",1,"mat-tab-label-box"]],template:function(o,i){if(1&o&&(t.yuY(0,Bo,64,9),t.wVc(1,"async")),2&o){let c;t.C0Y(0,(c=t.kDX(1,1,i.viewModel$))?0:-1,c)}},dependencies:[d.oJ,Yo.q,C.oB,C.qL,v.cP,So.c,E.WG,E.i0,E.aJ,E._q,Ao,Go.U,Oo.O,Ro.y,Eo.Q,To.c,r.a],styles:["[_nghost-%COMP%]     code, code[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{padding-left:2px;padding-right:2px;background-color:#eee}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:keep-all}.rest-urls-accordion[_ngcontent-%COMP%]{display:block;margin:8px}.rest-urls-title[_ngcontent-%COMP%]{display:flex;align-items:center}.code-example[_ngcontent-%COMP%]{position:relative}.code-example__text[_ngcontent-%COMP%]{min-height:40px}.code-example__copy[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.params-form[_ngcontent-%COMP%]{display:flex;max-width:600px}.params-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]:not(:first-of-type){margin-left:8px}.form-with-textarea[_ngcontent-%COMP%]{max-width:600px}"]})}return n})();var Ko=a(6804),Qt=a(660);let No=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-data-copilot"]],standalone:!0,features:[t.M5G([]),t.UHJ],decls:6,vars:0,consts:[[1,"outer-container"],["outputType","RazorView","title","Razor Copilot"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"h1"),t.OEk(2,"2sxc View / Razor Copilot"),t.C$Y(),t.I0R(3,"p"),t.OEk(4," The Copilot provides tools to help you create code. It is still in new, so please use it carefully and report any issues. "),t.C$Y()(),t.wR5(5,"app-copilot-generator",1))},dependencies:[Jt],styles:[".outer-container[_ngcontent-%COMP%]{padding:10px 20px}"]})}return n})();function Wo(n,s){if(1&n&&(t.I0R(0,"mat-option",3),t.OEk(1),t.C$Y()),2&n){const e=s.$implicit;t.E7m("value",e.path),t.yG2(1),t.oRS(" ",e.name," ")}}function Lo(n,s){1&n&&t.c53(0,Wo,2,2,"mat-option",3,t.oxv),2&n&&t.oho(s.sort())}let jo=(()=>{class n{constructor(e,o,i,c){this.fb=e,this.router=o,this.route=i,this.sourceService=c,this.webApis$=new X.g(void 0)}ngOnInit(){this.fetchWebApis(),this.webApiTypeForm=this.fb.group({webApiType:[""]})}fetchWebApis(){this.sourceService.getWebApis().subscribe(e=>{this.webApis$.next(e);const o=this.router.url.split("/");var c=o[o.length-1].replace("%252F","/");const l=e.find(I=>I.path===c);l&&this.webApiTypeForm.get("webApiType").setValue(l.path)})}openRestApi(e){e&&this.router.navigate([encodeURIComponent(e)],{relativeTo:this.route.parent.firstChild})}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(g.im),t.GI1(v.E5),t.GI1(v.gV),t.GI1(p.M))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-web-api-rest-api"]],standalone:!0,features:[t.M5G([j.kX]),t.UHJ],decls:8,vars:4,consts:[[3,"formGroup"],["appearance","fill","color","accent",2,"width","100%"],["formControlName","webApiType",3,"valueChange"],[3,"value"]],template:function(o,i){if(1&o&&(t.I0R(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),t.OEk(3,"Endpoint"),t.C$Y(),t.I0R(4,"mat-select",2),t.qCj("valueChange",function(l){return i.openRestApi(l)}),t.yuY(5,Lo,2,0),t.wVc(6,"async"),t.C$Y()()(),t.wR5(7,"router-outlet")),2&o){let c;t.E7m("formGroup",i.webApiTypeForm),t.yG2(5),t.C0Y(5,(c=t.kDX(6,2,i.webApis$))?5:-1,c)}},dependencies:[m.d5,Z.Up,Z.w5,m.kX,b.I5,d.oJ,h.NR,C.oB,g.sl,g.sz,g.ue,g.u,g.uW,g.Wo,r.a,v.cP]})}return n})();var Jo=a(4128);const Qo=[{path:"",component:K.Y,data:{dialog:Ht},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:pe,data:{title:"App Home",breadcrumb:"Info"}},{path:"data/:scope",component:Me,children:[{path:"import",component:K.Y,data:{dialog:oe,title:"Import Content Type"}},{path:"items/:contentTypeStaticName",loadChildren:()=>a.e("common").then(a.bind(a,184)).then(n=>n.ContentItemsModule)},{matcher:it.aM,loadChildren:()=>Promise.all([a.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),a.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),a.e("default-node_modules_angular_cdk_fesm2022_drag-drop_mjs"),a.e("common"),a.e("projects_eav-ui_src_app_shared_directives_click-stop-propagation_directive_ts")]).then(a.bind(a,9948)).then(n=>n.EditModule)},{matcher:it.CK,loadChildren:()=>a.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(a.bind(a,320)).then(n=>n.RefreshEditModule)},{path:"add",component:K.Y,data:{dialog:Dt,title:"Add Content Type"}},{path:":contentTypeStaticName/edit",component:K.Y,data:{dialog:Dt,title:"Edit Content Type"}},...q.K.getRoutes(),J.eI.route,{path:"fields/:contentTypeStaticName",loadChildren:()=>a.e("default-projects_eav-ui_src_app_content-type-fields_content-type-fields_module_ts").then(a.bind(a,4076)).then(n=>n.ContentTypeFieldsModule),data:{title:"Content Type Fields"}},{path:"export/:contentTypeStaticName",loadChildren:()=>a.e("projects_eav-ui_src_app_content-export_content-export_module_ts").then(a.bind(a,2868)).then(n=>n.ContentExportModule),data:{title:"Export Items"}},{path:":contentTypeStaticName/import",loadChildren:()=>a.e("projects_eav-ui_src_app_content-import_content-import_module_ts").then(a.bind(a,112)).then(n=>n.ContentImportModule),data:{title:"Import Items"}},W.N.route],data:{title:"App Data",breadcrumb:"Data"}},{path:`data-${Qt.N.route}`,component:go,data:{title:"Copilot",breadcrumb:"2sxc Copilot"}},{path:J.eI.routeData,component:fo,data:{title:"Rest-Api Data",breadcrumb:"Rest-Api Data"},children:[{path:`:${J.eI.paramTypeName}`,component:Uo,data:{breadcrumb:"Rest-Api Data"},children:[W.N.route]}]},{path:"queries",component:an,children:[{path:"import",component:K.Y,data:{dialog:ie,title:"Import Query"}},{matcher:it.aM,loadChildren:()=>Promise.all([a.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),a.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),a.e("default-node_modules_angular_cdk_fesm2022_drag-drop_mjs"),a.e("common"),a.e("projects_eav-ui_src_app_shared_directives_click-stop-propagation_directive_ts")]).then(a.bind(a,9948)).then(n=>n.EditModule),data:{title:"Edit Query Name and Description",history:!1}},...q.K.getRoutes(),{...W.N.route,data:{title:"Query Permissions"}},J.eI.route],data:{title:"App Queries",breadcrumb:"Queries"}},{path:J.eI.routeQuery,component:yo,data:{title:"Rest-Api Queries",breadcrumb:"Rest-Api Queries"},children:[{path:`:${J.eI.paramQuery}`,component:Ko.Q,data:{breadcrumb:"Rest-Api Queries"},children:[W.N.route]}]},{path:"views",component:ze,children:[{path:"import",component:K.Y,data:{dialog:ae,title:"Import View"}},{path:"usage/:guid",component:K.Y,data:{dialog:se}},{matcher:it.aM,loadChildren:()=>Promise.all([a.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),a.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),a.e("default-node_modules_angular_cdk_fesm2022_drag-drop_mjs"),a.e("common"),a.e("projects_eav-ui_src_app_shared_directives_click-stop-propagation_directive_ts")]).then(a.bind(a,9948)).then(n=>n.EditModule),data:{title:"Edit View"}},{matcher:it.CK,loadChildren:()=>a.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(a.bind(a,320)).then(n=>n.RefreshEditModule)},{...W.N.route,data:{title:"View Permissions"}},...q.K.getRoutes()],data:{title:"App Views",breadcrumb:"Views"}},{path:`views-${Qt.N.route}`,component:No,data:{title:"Copilot",breadcrumb:"2sxc View Copilot"}},{path:"web-api",component:un,data:{title:"App WebApi",breadcrumb:"WebApi"},children:[J.eI.route]},{path:J.eI.routeWebApi,component:jo,data:{title:"Rest-Api Web Api",breadcrumb:"Rest-Api Web Api"},children:[{path:`:${J.eI.paramApiPath}`,component:Jo.y,data:{breadcrumb:"Rest-Api Web Api"},children:[W.N.route]}]},{path:"app",component:io,data:{title:"Manage App",breadcrumb:"Manage App"},children:[...q.K.getRoutes(),{matcher:it.aM,loadChildren:()=>Promise.all([a.e("default-node_modules_angular_material_fesm2022_autocomplete_mjs"),a.e("default-projects_eav-ui_src_app_edit_edit_module_ts"),a.e("default-node_modules_angular_cdk_fesm2022_drag-drop_mjs"),a.e("common"),a.e("projects_eav-ui_src_app_shared_directives_click-stop-propagation_directive_ts")]).then(a.bind(a,9948)).then(n=>n.EditModule),data:{title:"Edit App Properties"}},{matcher:it.CK,loadChildren:()=>a.e("projects_eav-ui_src_app_edit_refresh-edit_module_ts").then(a.bind(a,320)).then(n=>n.RefreshEditModule)},{path:"fields/:contentTypeStaticName",loadChildren:()=>a.e("default-projects_eav-ui_src_app_content-type-fields_content-type-fields_module_ts").then(a.bind(a,4076)).then(n=>n.ContentTypeFieldsModule),data:{title:"Edit Fields of App Settings & Resources"}},{path:"language-permissions",component:K.Y,data:{dialog:ce,title:"Language Permissions"},children:[{...W.N.route,data:{title:"Language Permissions"}}]},{...W.N.route,data:{title:"App Permissions"}},{path:"analyze/:part",component:K.Y,data:{dialog:Zt,title:"Analyze Settings / Resources"},children:[{path:"details/:view/:settingsItemKey",component:K.Y,data:{dialog:qt,title:"Settings / Resources Item Details"}}]}]},{path:"sync",component:Ce,data:{title:"Sync",breadcrumb:"Sync"},children:[...q.K.getRoutes(),{path:"export",component:K.Y,data:{dialog:ee,title:"Export App"}},{path:"export/parts",component:K.Y,data:{dialog:te,title:"Export App Parts"}},{path:"import/parts",component:K.Y,data:{dialog:ne,title:"Import App Parts"}}]}]}];let zo=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({imports:[v.qQ.forChild(Qo),v.qQ]})}return n})();var Xo=a(7036),Ho=a(6964),Zo=a(4872),qo=a(5820);let ti=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({providers:[ot.e,ct.m,Ot,wt.X,Kt.kX,Ft.s,y.M,p.M,u.q,Yt.S,Ho.M,vt.M,pt.E,Xo.I,Y.Ck,yt.yM,bt.S,{provide:m.kF,useValue:{hideSingleSelectionIndicator:!0}},{provide:F.QL,useValue:{hideIcon:!0}}],imports:[zo,St.q,T.sr,r.MD,d.oJ,C.oB,Xt.c,E.WG,g.y,S.cN,m.d5,_.yk,f.kB,D.Vn,R.CU,h.NR,b.KE,F.GE,U.uE,k._A,A.g,et.GW,kt.y,Zo.Gm,qo.sb,Bt._]})}return n})()},660:(z,G,a)=>{a.d(G,{N:()=>r});let r=(()=>{class g{static#t=this.route="copilot";static routeDefinition(d){return{name:"Copilot",icon:"support_agent",svgIcon:!1,path:`${d}-${g.route}`}}}return g})()},7036:(z,G,a)=>{a.d(G,{I:()=>b});var r=a(604),g=a(5343),A=a(6028),d=a(4896),h=a(1332),D=a(3392);let b=(()=>{class T{constructor(C,S,k){this.http=C,this.context=S,this.dnnContext=k}getStack(C,S,k,f=!1){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(g.i+"GetStack"),{params:{appId:this.context.appId.toString(),part:C,...S&&{key:S},...k&&{view:k}}}).pipe((0,r.k)(_=>{if(!f)return _;for(const m of _)m._value=JSON.stringify(m.Value);return _}))}static#t=this.\u0275fac=function(S){return new(S||T)(d.CoB(h.KK),d.CoB(A.e),d.CoB(D.es))};static#e=this.\u0275prov=d.wxM({token:T,factory:T.\u0275fac})}return T})()},1292:(z,G,a)=>{a.d(G,{M:()=>D});var r=a(692),g=a(4172),A=a(6028),d=a(4896),h=a(3392);let D=(()=>{class b{constructor(R,C){this.context=R,this.dnnContext=C}exportContent(R,C){const S=C?"&selectedids="+C.join():"",k=this.dnnContext.$2sxc.http.apiUrl(g.ue+"Download")+"?appId="+this.context.appId+"&language="+R.language+"&defaultLanguage="+R.defaultLanguage+"&contentType="+R.contentTypeStaticName+"&recordExport="+R.recordExport+"&resourcesReferences="+R.resourcesReferences+"&languageReferences="+R.languageReferences+S;window.open(k,"_blank","")}exportJson(R){const C=this.dnnContext.$2sxc.http.apiUrl(r.O+"Json")+"?appId="+this.context.appId+"&name="+R;window.open(C,"_blank","")}exportEntity(R,C,S){const k=this.dnnContext.$2sxc.http.apiUrl(g.ue+"Json")+"?appId="+this.context.appId+"&id="+R+"&prefix="+C+"&withMetadata="+S;window.open(k,"_blank","")}static#t=this.\u0275fac=function(C){return new(C||b)(d.CoB(A.e),d.CoB(h.es))};static#e=this.\u0275prov=d.wxM({token:b,factory:b.\u0275fac})}return b})()},6036:(z,G,a)=>{a.d(G,{q:()=>S});var r=a(9616),g=a(9432),A=a(604),d=a(3764),h=a(4172),D=a(616),b=a(6028),T=a(4896),R=a(1332),C=a(3392);let S=(()=>{class k{constructor(_,m,F){this.http=_,this.context=m,this.dnnContext=F}getAll(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(h.U1),{params:{appId:this.context.appId.toString(),contentType:_}})}getColumns(_){return this.http.get(this.dnnContext.$2sxc.http.apiUrl(d.yK),{params:{appId:this.context.appId.toString(),staticName:_}})}importItem(_){return(0,r.Q)((0,D.S)(_)).pipe((0,g.G)(m=>this.http.post(this.dnnContext.$2sxc.http.apiUrl(h.ue+"upload"),{AppId:this.context.appId.toString(),ContentBase64:m})),(0,A.k)(m=>({Success:m,Messages:[]})))}static#t=this.\u0275fac=function(m){return new(m||k)(T.CoB(R.KK),T.CoB(b.e),T.CoB(C.es))};static#e=this.\u0275prov=T.wxM({token:k,factory:k.\u0275fac})}return k})()},3764:(z,G,a)=>{a.d(G,{Ck:()=>C,yK:()=>T});var r=a(604),g=a(692),A=a(6028),d=a(4896),h=a(1332),D=a(3392);const b="admin/field/",T="admin/field/all",R="admin/field/GetSharedFields";let C=(()=>{class S{constructor(f,_,m){this.http=f,this.context=_,this.dnnContext=m}apiUrl(f){return this.dnnContext.$2sxc.http.apiUrl(f)}typeListRetrieve(){return this.http.get(this.apiUrl(b+"DataTypes"),{params:{appid:this.context.appId.toString()}})}getInputTypesList(){return this.http.get(this.apiUrl(b+"InputTypes"),{params:{appid:this.context.appId.toString()}}).pipe((0,r.k)(f=>f.map(m=>({dataType:m.Type.substring(0,m.Type.indexOf("-")),inputType:m.Type,label:m.Label,description:m.Description,isDefault:m.IsDefault,isObsolete:m.IsObsolete,isRecommended:m.IsRecommended,obsoleteMessage:m.ObsoleteMessage,icon:m.IsDefault?"star":m.IsRecommended?"star_outline":null}))))}getReservedNames(){return this.http.get(this.apiUrl(b+"ReservedNames"))}getFields(f){return this.http.get(this.apiUrl(T),{params:{appid:this.context.appId.toString(),staticName:f}}).pipe((0,r.k)(_=>{if(_)for(const m of _){if(!m.Metadata)continue;const F=m.Metadata;F.merged={...F.All,...F[m.Type],...F[m.InputType]}}return _}))}getShareableFields(){return this.http.get(this.apiUrl(R),{params:{appid:this.context.appId.toString()}})}getShareableFieldsFor(f){return this.http.get(this.apiUrl(R),{params:{appid:this.context.appId.toString(),attributeId:f.toString()}})}addInheritedField(f,_,m,F){return this.http.post(this.apiUrl(b+"AddInheritedField"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:f.toString(),SourceType:_,SourceField:m,name:F}})}share(f,_=!0){return this.http.post(this.apiUrl(b+"Share"),null,{params:{appid:this.context.appId.toString(),attributeId:f.toString(),share:_}})}inherit(f,_){return this.http.post(this.apiUrl(b+"Inherit"),null,{params:{appid:this.context.appId.toString(),attributeId:f.toString(),inheritMetadataOf:_}})}reOrder(f,_){return this.http.post(this.apiUrl(b+"Sort"),null,{params:{appid:this.context.appId.toString(),contentTypeId:_.Id.toString(),order:JSON.stringify(f)}})}setTitle(f,_){return this.http.post(this.apiUrl(g.O+"SetTitle"),null,{params:{appid:this.context.appId.toString(),contentTypeId:_.Id.toString(),attributeId:f.Id.toString()}})}rename(f,_,m){return this.http.post(this.apiUrl(b+"Rename"),null,{params:{appid:this.context.appId.toString(),contentTypeId:_.toString(),attributeId:f.toString(),newName:m}})}delete(f,_){if(f.IsTitle)throw new Error("Can't delete Title");return this.http.delete(this.apiUrl(b+"Delete"),{params:{appid:this.context.appId.toString(),contentTypeId:_.Id.toString(),attributeId:f.Id.toString()}})}add(f,_){return this.http.post(this.apiUrl(b+"Add"),null,{params:{AppId:this.context.appId.toString(),ContentTypeId:_.toString(),Id:f.Id.toString(),Type:f.Type,InputType:f.InputType,StaticName:f.StaticName,IsTitle:f.IsTitle.toString(),Index:f.SortOrder.toString()}})}updateInputType(f,_,m){return this.http.post(this.apiUrl(b+"InputType"),null,{params:{appId:this.context.appId.toString(),attributeId:f.toString(),field:_,inputType:m}})}static#t=this.\u0275fac=function(_){return new(_||S)(d.CoB(h.KK),d.CoB(A.e),d.CoB(D.es))};static#e=this.\u0275prov=d.wxM({token:S,factory:S.\u0275fac})}return S})()},7028:(z,G,a)=>{a.d(G,{K:()=>g});var r=a(9224);class g{static getRoutes(){const d={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>Promise.all([a.e("default-node_modules_angular_material_fesm2022_card_mjs"),a.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),a.e("default-projects_eav-ui_src_app_permissions_index_ts"),a.e("common"),a.e("projects_eav-ui_src_app_metadata_metadata_module_ts-projects_eav-ui_src_app_shared_ag-grid_co-69727e")]).then(a.bind(a,7752)).then(D=>D.MetadataModule),data:{title:"Metadata"}};return[d,{...d,path:`${d.path}/title/:title`},{...d,path:`${d.path}/contentType/:contentTypeStaticName`},{...d,path:`${d.path}/title/:title/contentType/:contentTypeStaticName`}]}static getUrl(d,h,D,b,T){let R=`metadata/${d}/${h}/${D}`;return b&&(R+=`/title/${encodeURIComponent(b)}`),T&&(R+=`/contentType/${T}`),R}static getUrlApp(d,h){return this.getUrl(r._K.metadata.app.targetType,r._K.metadata.app.keyType,d.toString(),h)}static getUrlAttribute(d,h,D){return this.getUrl(r._K.metadata.attribute.targetType,r._K.metadata.attribute.keyType,d.toString(),h,D)}static getUrlContentType(d,h){return this.getUrl(r._K.metadata.contentType.targetType,r._K.metadata.contentType.keyType,d,h)}static getUrlEntity(d,h,D){return this.getUrl(r._K.metadata.entity.targetType,r._K.metadata.entity.keyType,d,h,D)}}},420:(z,G,a)=>{a.d(G,{M:()=>r});const r="DROPDOWN_INSERT_VALUE"},2260:(z,G,a)=>{function r(){return/^[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}$/i}a.d(G,{y:()=>r})},6916:(z,G,a)=>{a.d(G,{o:()=>r});const r={App:"App",Site:"Site",Global:"Global"}},8539:(z,G,a)=>{a.d(G,{Vn:()=>U,WK:()=>f});var r=a(4896),g=a(1904),A=a(6176);const d=["input"],h=["label"],D=["*"],b=new r.UbH("mat-checkbox-default-options",{providedIn:"root",factory:T});function T(){return{color:"accent",clickAction:"check-indeterminate"}}const R={provide:g.Y6,useExisting:(0,r.wd)(()=>f),multi:!0};class C{}let S=0;const k=T();let f=(()=>{class E{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(p){const y=new C;return y.source=this,y.checked=p,y}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(p,y,u,Y,et,kt){this._elementRef=p,this._changeDetectorRef=y,this._ngZone=u,this._animationMode=et,this._options=kt,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new r._w7,this.indeterminateChange=new r._w7,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||k,this.color=this._options.color||k.color,this.tabIndex=parseInt(Y)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++S}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(p){p!=this.checked&&(this._checked=p,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(p){p!==this.disabled&&(this._disabled=p,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(p){const y=p!=this._indeterminate;this._indeterminate=p,y&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(p){this.checked=!!p}registerOnChange(p){this._controlValueAccessorChangeFn=p}registerOnTouched(p){this._onTouched=p}setDisabledState(p){this.disabled=p}_transitionCheckState(p){let y=this._currentCheckState,u=this._getAnimationTargetElement();if(y!==p&&u&&(this._currentAnimationClass&&u.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(y,p),this._currentCheckState=p,this._currentAnimationClass.length>0)){u.classList.add(this._currentAnimationClass);const Y=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{u.classList.remove(Y)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const p=this._options?.clickAction;this.disabled||"noop"===p?!this.disabled&&"noop"===p&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==p&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(p){p.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(p,y){if("NoopAnimations"===this._animationMode)return"";switch(p){case 0:if(1===y)return this._animationClasses.uncheckedToChecked;if(3==y)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===y?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===y?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===y?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(p){const y=this._inputElement;y&&(y.nativeElement.indeterminate=p)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(p){p.target&&this._labelElement.nativeElement.contains(p.target)&&p.stopPropagation()}static#t=this.\u0275fac=function(y){return new(y||E)(r.GI1(r.GMv),r.GI1(r.kD9),r.GI1(r.WW2),r.gJ8("tabindex"),r.GI1(r.qwP,8),r.GI1(b,8))};static#e=this.\u0275cmp=r.In1({type:E,selectors:[["mat-checkbox"]],viewQuery:function(y,u){if(1&y&&(r.CC$(d,5),r.CC$(h,5),r.CC$(A.UZ,5)),2&y){let Y;r.wto(Y=r.Gqi())&&(u._inputElement=Y.first),r.wto(Y=r.Gqi())&&(u._labelElement=Y.first),r.wto(Y=r.Gqi())&&(u.ripple=Y.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(y,u){2&y&&(r.SoX("id",u.id),r.e48("tabindex",null)("aria-label",null)("aria-labelledby",null),r.m8U(u.color?"mat-"+u.color:"mat-accent"),r.eAK("_mat-animation-noopable","NoopAnimations"===u._animationMode)("mdc-checkbox--disabled",u.disabled)("mat-mdc-checkbox-disabled",u.disabled)("mat-mdc-checkbox-checked",u.checked))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:["required","required",r.cZD],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:["disableRipple","disableRipple",r.cZD],tabIndex:["tabIndex","tabIndex",p=>null==p?void 0:(0,r.cJ3)(p)],color:"color",checked:["checked","checked",r.cZD],disabled:["disabled","disabled",r.cZD],indeterminate:["indeterminate","indeterminate",r.cZD]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.M5G([R]),r.QJr],ngContentSelectors:D,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(y,u){if(1&y&&(r.kPM(),r.I0R(0,"div",0),r.qCj("click",function(et){return u._preventBubblingFromLabel(et)}),r.I0R(1,"div",1,2)(3,"div",3),r.qCj("click",function(){return u._onTouchTargetClick()}),r.C$Y(),r.I0R(4,"input",4,5),r.qCj("blur",function(){return u._onBlur()})("click",function(){return u._onInputClick()})("change",function(et){return u._onInteractionEvent(et)}),r.C$Y(),r.wR5(6,"div",6),r.I0R(7,"div",7),r.S2Z(),r.I0R(8,"svg",8),r.wR5(9,"path",9),r.C$Y(),r.gRP(),r.wR5(10,"div",10),r.C$Y(),r.wR5(11,"div",11),r.C$Y(),r.I0R(12,"label",12,13),r._Xx(14),r.C$Y()()),2&y){const Y=r.Gew(2);r.eAK("mdc-form-field--align-end","before"==u.labelPosition),r.yG2(4),r.eAK("mdc-checkbox--selected",u.checked),r.E7m("checked",u.checked)("indeterminate",u.indeterminate)("disabled",u.disabled)("id",u.inputId)("required",u.required)("tabIndex",u.disabled?-1:u.tabIndex),r.e48("aria-label",u.ariaLabel||null)("aria-labelledby",u.ariaLabelledby)("aria-describedby",u.ariaDescribedby)("aria-checked",u.indeterminate?"mixed":null)("name",u.name)("value",u.value),r.yG2(7),r.E7m("matRippleTrigger",Y)("matRippleDisabled",u.disableRipple||u.disabled)("matRippleCentered",!0),r.yG2(1),r.E7m("for",u.inputId)}},dependencies:[A.UZ],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return E})(),F=(()=>{class E{static#t=this.\u0275fac=function(y){return new(y||E)};static#e=this.\u0275mod=r.a4G({type:E});static#n=this.\u0275inj=r.s3X({})}return E})(),U=(()=>{class E{static#t=this.\u0275fac=function(y){return new(y||E)};static#e=this.\u0275mod=r.a4G({type:E});static#n=this.\u0275inj=r.s3X({imports:[A.AN,A.KE,F,A.AN,F]})}return E})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/17.10.00/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_app-administration_module_ts.3de963c793aabb38.js.map
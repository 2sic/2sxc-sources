{"version":3,"file":"projects_eav-ui_src_app_apps-management_apps-management_module_ts.90e6b7f1e982e999.js","mappings":"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","names":["addAppFromFolderDialog","name","initContext","panelSize","panelClass","getComponent","_asyncToGenerator","AddAppFromFolderComponent","__webpack_require__","e","then","bind","appsManagementDialog","AppsManagementNavComponent","Promise","all","createAppDialog","CreateAppComponent","createInheritedAppDialog","CreateInheritedAppComponent","SxcInsightsService","constructor","http","dnnContext","this","activatePageLog","duration","get","$2sxc","apiUrl","webApiLogRoot","params","toString","static","t","i0","i1","i2","core","wxM","factory","ɵfac","_r25","info_r17","$implicit","ctx_r23","openSideNavPath","link","url","_c0","label","_r28","ctx_r27","copyToClipboard","value","SystemInfoComponent_Conditional_0_For_12_Conditional_6_Template","_r39","info_r29","ctx_r37","target","SystemInfoComponent_Conditional_0_For_36_Conditional_6_Conditional_0_Template","SystemInfoComponent_Conditional_0_For_36_Conditional_6_Conditional_1_Template","_r44","ctx_r43","SystemInfoComponent_Conditional_0_For_36_Conditional_6_Template","SystemInfoComponent_Conditional_0_Conditional_119_Conditional_0_Template","_r14","errors","pattern","info_r46","SystemInfoComponent_Conditional_0_For_135_Conditional_6_Conditional_0_Template","SystemInfoComponent_Conditional_0_For_135_Conditional_6_Conditional_1_Template","_r58","ctx_r57","SystemInfoComponent_Conditional_0_For_135_Conditional_6_Template","SystemInfoComponent_Conditional_0_For_12_Template","SystemInfoComponent_Conditional_0_ng_container_19_Template","_r60","ctx_r59","openGlobalSettings","SystemInfoComponent_Conditional_0_For_36_Template","SystemInfoComponent_Conditional_0_ng_container_44_Template","ctx_r61","openSiteSettings","SystemInfoComponent_Conditional_0_Conditional_61_Template","SystemInfoComponent_Conditional_0_ng_container_64_Template","SystemInfoComponent_Conditional_0_Conditional_76_Template","SystemInfoComponent_Conditional_0_ng_container_79_Template","SystemInfoComponent_Conditional_0_ng_container_98_Template","ctx_r62","openInsights","_r13","ctx_r63","$event","ctx_r64","pageLogDuration","SystemInfoComponent_Conditional_0_Conditional_119_Template","SystemInfoComponent_Conditional_0_For_135_Template","ctx","systemInfos","_r2","_c1","siteInfos","lsEnabled","_c2","cspEnabled","_c3","_c4","ctx_r0","positiveWholeNumber","loading","touched","valid","warningIcon","warningInfos","tmp_2_0","icon_r65","undefined","label_r66","SystemInfoComponent","BaseComponent","router","route","snackBar","zoneService","dialogService","sxcInsightsService","featuresService","dialogSettings","super","ngOnInit","systemInfoSet$","BehaviorSubject","languages$","loading$","buildViewModel","getSystemInfo","getLanguages","subscription","add","refreshOnChildClosedShallow","subscribe","ngOnDestroy","complete","text","open","getSitePrimaryApp$","sitePrimaryApp","openAppAdministration","ZoneId","AppId","getGlobalPrimaryApp$","globalPrimaryApp","window","sideNavPath","includes","navigate","replace","form","next","res","document","activeElement","HTMLElement","blur","resetForm","error","systemInfoSet","languages","systemInfos$","pipe","map","System","EavVersion","Platform","PlatformVersion","Zones","Fingerprint","License","Owner","siteInfos$","combineLatest","allLanguages","length","activeLanguages","filter","l","IsEnabled","Site","SiteId","Apps","warningIcon$","Messages","WarningsObsolete","WarningsOther","warningInfos$","lsEnabled$","isEnabled$","FeatureNames","LightSpeed","cspEnabled$","ContentSecurityPolicy","viewModel$","i3","i4","i5","i6","i7","In1","selectors","standalone","features","ZoneService","DialogService","FeaturesService","AppDialogConfigService","decls","vars","consts","template","rf","SystemInfoComponent_Conditional_0_Template","SystemInfoComponent_ng_template_2_Template","SystemInfoComponent_contFlowTmp","MatCardModule","i8","MatIconModule","i9","SharedComponentsModule","i10","i11","RouterLink","NgTemplateOutlet","MatButtonModule","i12","FeaturesModule","i13","FormsModule","i14","MatFormFieldModule","i15","MatInputModule","i16","RouterOutlet","AsyncPipe","_r5","ctx_r4","flushCache","ctx_r6","deleteApp","ctx_r3","app","IsApp","AppsListActionsComponent","agInit","data","refresh","onFlush","onDelete","AppsListActionsComponent_Conditional_2_Template","AppsListActionsComponent_Conditional_3_Template","AppsListActionsComponent_ng_template_10_Template","IsGlobal","IsInherited","lightSpeed","TippyStandaloneDirective","MatBadgeModule","MatRippleModule","MatMenuModule","LightSpeedActionsComponent","encapsulation","AppListShowIcons","states","true","tooltip","icon","false","AppListCodeErrorIcons","clickable","getUrl","Id","_r3","ctx_r2","importApp","openChange","ctx_r5","browseCatalog","createInheritedApp","ctx_r7","addFromFolder","ctx_r8","ctx_r9","createApp","apps","gridOptions","fabOpen","isAddFromFolderEnabled","AppsListComponent","appsListService","context","dialog","viewContainerRef","changeDetectorRef","appDialogConfigService","EavLogger","fabOpen$","buildGridOptions","refreshApps$","Subject","ModuleRegistry","registerModules","ClientSideRowModelModule","appsLog","log","rxTap","apps$","startWith","switchMap","getAll","catchError","of","shareReplay","isAddFromFolderEnabledLog","isAddFromFolderEnabled$","AppSyncWithSiteFiles","relativeTo","parent","firstChild","files","state","result","prompt","Name","delete","alert","flushApp","confirm","openLightSpeed","formUrl","convertFormToUrl","AppAdminHelpers","getLightSpeedEditParams","zoneId","openApp","openLightSpeedFeatInfo","FeatureComponentBase","openDialog","defaultGridOptions","columnDefs","ColumnDefinitions","cellRenderer","IdFieldComponent","cellRendererParams","tooltipGetter","Guid","IconShow","AgBoolIconRenderer","settings","TextWide","field","cellClass","split","sort","onCellClicked","Thumbnail","Character","width","Number","headerName","headerClass","sortable","BooleanFilterComponent","ActionsPinnedRight3","onOpenLightspeed","openLightspeedFeatureInfo","AppsListService","AppsListComponent_Conditional_0_Template","AppsListComponent_contFlowTmp","AgGridModule","MatDialogActions","EcoFabSpeedDialComponent","NgClass","EcoFabSpeedDialTriggerComponent","EcoFabSpeedDialActionsComponent","SiteLanguagesStatusComponent","toggleLanguage","event","onToggleLanguage","checked","MatSlideToggleModule","styles","SiteLanguagesComponent","refreshLanguages$","share","language","enable","Code","valueGetter","SiteLanguagesComponent_Conditional_0_Template","SiteLanguagesComponent_contFlowTmp","id_r4","_r6","guid_r7","_r9","link_r11","ctx_r12","findOutMore","FeatureDetailsDialogComponent","dialogData","dialogRef","closeDialog","close","MAT_DIALOG_DATA","FeatureDetailsDialogComponent_Conditional_7_Template","FeatureDetailsDialogComponent_Conditional_8_Template","FeatureDetailsDialogComponent_Conditional_9_Template","FeatureDetailsDialogComponent_Conditional_11_Template","feature","Description","FeatureDetailsDialogComponent_contFlowTmp","NameId","Security","Impact","Message","Link","FeaturesListEnabledReasonComponent","EnabledReasonDetailed","FeaturesListEnabledComponent","FeaturesStatusComponent","disabled","isDisabled","toggle","nextValue","onToggle","ExpirationExtension","expandFeature","getExpiration","Expiration","expandLicense","license","lowestExpiration","Features","f","dateString","ExpMessage","ExpIcon","ExpWarningIcon","expires","startsWith","expDate","Date","toDateString","setDate","getDate","endsWith","ActiveFeaturesCountPipe","transform","UTH","pure","LicensesOrderPipe","licenses","Array","isArray","a","b","Priority","AgGridHeightDirective","elementRef","itemsCount","headerHeight","rowHeight","maxRows","extraHeight","element","nativeElement","ngOnChanges","changes","style","height","Sc5","inputs","FeaturesConfigService","saveFeatures","featuresStates","post","getLicenses","uploadLicense","file","formData","FormData","append","info","Success","MessageType","FileUploadMessageTypes","Error","Text","retrieveLicense","webApiLicense","license_r3","LicenseInfoComponent_Conditional_0_For_2_Conditional_17_Template","_r8","expanded","LicenseInfoComponent_Conditional_0_For_2_Template","trackLicenses","LicenseInfoComponent","featuresConfigService","disabled$","refreshLicenses$","tap","index","openRegistration","showFeatureDetails","autoFocus","markForCheck","toggleFeature","enabled","forkJoin","FeatureGuid","Enabled","timer","cellDefaults","cellDefaultsTextFilter","flex","minWidth","tooltipValueGetter","pinned","IsConfigurable","viewQuery","AgGridAngular","LicenseInfoComponent_Conditional_0_Template","LicenseInfoComponent_contFlowTmp","MatExpansionModule","vm_r1","_r10","openLicenseRegistration","RegistrationComponent_Conditional_0_Conditional_22_Template","RegistrationComponent_Conditional_0_Conditional_37_Template","_r12","ctx_r11","ctx_r13","registerManually","ctx_r14","openLicenseUpload","logo","appsManagementRoutes","path","component","DialogEntryComponent","children","redirectTo","pathMatch","title","breadcrumb","RegistrationComponent","globalConfigService","hostClass","debugEnabled$","getDebugEnabled$","refreshSystemInfoSet$","FileUploadDialogComponent","description","allowedFileTypes","upload$","afterClosed","hostVars","hostBindings","RegistrationComponent_Conditional_0_Template","RegistrationComponent_contFlowTmp","loadChildren","m","ImportAppModule","AppAdministrationModule","matcher","editRoot","EditModule","refreshEditRoot","RefreshEditModule","AppsManagementRoutingModule","a4G","s3X","RouterModule","forChild","AppsManagementModule","Context","imports","webApiAppRoot","getInheritable","getPendingApps","create","inheritAppId","templateId","installPendingApps","pendingApps","appId","_angular_core__WEBPACK_IMPORTED_MODULE_2__"],"sourceRoot":"webpack:///","sources":["./projects/eav-ui/src/app/apps-management/add-app-from-folder/add-app-from-folder-dialog.config.ts","./projects/eav-ui/src/app/apps-management/apps-management-nav/apps-management-dialog.config.ts","./projects/eav-ui/src/app/apps-management/create-app/create-app-dialog.config.ts","./projects/eav-ui/src/app/apps-management/create-inherited-app/create-inherited-app-dialog.config.ts","./projects/eav-ui/src/app/apps-management/services/sxc-insights.service.ts","./projects/eav-ui/src/app/apps-management/system-info/system-info.component.html","./projects/eav-ui/src/app/apps-management/system-info/system-info.component.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.component.html","./projects/eav-ui/src/app/apps-management/apps-list/apps-list-actions/apps-list-actions.component.ts","./projects/eav-ui/src/app/apps-management/apps-list/app-list-grid-config.ts","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.component.html","./projects/eav-ui/src/app/apps-management/apps-list/apps-list.component.ts","./projects/eav-ui/src/app/apps-management/site-languages/site-languages-status/site-languages-status.component.ts","./projects/eav-ui/src/app/apps-management/site-languages/site-languages-status/site-languages-status.component.html","./projects/eav-ui/src/app/apps-management/site-languages/site-languages.component.html","./projects/eav-ui/src/app/apps-management/site-languages/site-languages.component.ts","./projects/eav-ui/src/app/apps-management/licence-info/feature-details-dialog/feature-details-dialog.component.html","./projects/eav-ui/src/app/apps-management/licence-info/feature-details-dialog/feature-details-dialog.component.ts","./projects/eav-ui/src/app/apps-management/licence-info/features-list-enabled-reason/features-list-enabled-reason.component.ts","./projects/eav-ui/src/app/apps-management/licence-info/features-list-enabled-reason/features-list-enabled-reason.component.html","./projects/eav-ui/src/app/apps-management/licence-info/features-list-enabled/features-list-enabled.component.ts","./projects/eav-ui/src/app/apps-management/licence-info/features-list-enabled/features-list-enabled.component.html","./projects/eav-ui/src/app/apps-management/licence-info/features-status/features-status.component.ts","./projects/eav-ui/src/app/apps-management/licence-info/features-status/features-status.component.html","./projects/eav-ui/src/app/features/expiration-extension.ts","./projects/eav-ui/src/app/apps-management/licence-info/active-features-count.pipe.ts","./projects/eav-ui/src/app/apps-management/licence-info/licenses-order.pipe.ts","./projects/eav-ui/src/app/apps-management/licence-info/ag-grid-height.directive.ts","./projects/eav-ui/src/app/apps-management/services/features-config.service.ts","./projects/eav-ui/src/app/apps-management/licence-info/license-info.component.html","./projects/eav-ui/src/app/apps-management/licence-info/license-info.component.ts","./projects/eav-ui/src/app/apps-management/sub-dialogs/registration/registration.component.html","./projects/eav-ui/src/app/apps-management/apps-management-routing.module.ts","./projects/eav-ui/src/app/apps-management/sub-dialogs/registration/registration.component.ts","./projects/eav-ui/src/app/apps-management/sub-dialogs/registration/assets/2sxc-patrons.svg","./projects/eav-ui/src/app/apps-management/apps-management.module.ts","./projects/eav-ui/src/app/apps-management/services/apps-list.service.ts"],"sourcesContent":["import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const addAppFromFolderDialog: DialogConfig = {\r\n  name: 'ADD_FROM_FOLDER_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'small',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { AddAppFromFolderComponent } = await import('./add-app-from-folder.component');\r\n    return AddAppFromFolderComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const appsManagementDialog: DialogConfig = {\r\n  name: 'APPS_MANAGEMENT_DIALOG',\r\n  initContext: true,\r\n  panelSize: 'large',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { AppsManagementNavComponent } = await import('./apps-management-nav.component');\r\n    return AppsManagementNavComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const createAppDialog: DialogConfig = {\r\n  name: 'CREATE_APP_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'small',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { CreateAppComponent } = await import('./create-app.component');\r\n    return CreateAppComponent;\r\n  }\r\n};\r\n","import { DialogConfig } from '../../shared/models/dialog-config.model';\r\n\r\nexport const createInheritedAppDialog: DialogConfig = {\r\n  name: 'CREATE_INHERITED_APP_DIALOG',\r\n  initContext: false,\r\n  panelSize: 'small',\r\n  panelClass: null,\r\n\r\n  async getComponent() {\r\n    const { CreateInheritedAppComponent } = await import('./create-inherited-app.component');\r\n    return CreateInheritedAppComponent;\r\n  }\r\n};\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nconst webApiLogRoot = 'sys/log/';\r\n\r\n@Injectable()\r\nexport class SxcInsightsService {\r\n  constructor(private http: HttpClient, private dnnContext: DnnContext) { }\r\n\r\n  activatePageLog(duration: number) {\r\n    return this.http.get<string>(this.dnnContext.$2sxc.http.apiUrl(webApiLogRoot + 'EnableDebug'), {\r\n      params: { duration: duration.toString() }\r\n    });\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-cards-box\">\r\n    <!-- Platform Info -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">settings_applications</mat-icon>\r\n        </div>\r\n        <mat-card-title>Platform</mat-card-title>\r\n        <mat-card-subtitle>What you are running</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        @for (info of vm.systemInfos; track info) {\r\n          <div class=\"eav-info-row\">\r\n            <div class=\"eav-info-row__label\">{{ info.label }}:</div>\r\n            <div class=\"eav-info-row__value\">\r\n              <span class=\"eav-info-row__value__span eav-click\" [tippy]=\"info.value\"\r\n                (click)=\"copyToClipboard(info.value)\">{{ info.value }}</span>\r\n              @if (info.link) {\r\n                <a class=\"eav-info-row__link\" [routerLink]=\"['/']\" (click)=\"openSideNavPath(info.link.url)\">\r\n                  {{ info.link.label }}\r\n                </a>\r\n              }\r\n            </div>\r\n          </div>\r\n        }\r\n        <h4>Global Settings</h4>\r\n        <p>\r\n          This includes both pre-defined SystemSettings as well as custom Settings.\r\n          It will affect the entire Installation.\r\n        </p>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/settings' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"openGlobalSettings()\">\r\n          <mat-icon class=\"eav-icon\">open_in_new</mat-icon>\r\n          <span>Open Global Settings</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Site Info -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">public</mat-icon>\r\n        </div>\r\n        <mat-card-title>This Site</mat-card-title>\r\n        <mat-card-subtitle>The current Site you're on</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        @for (info of vm.siteInfos; track info) {\r\n          <div class=\"eav-info-row\">\r\n            <div class=\"eav-info-row__label\">{{ info.label }}:</div>\r\n            <div class=\"eav-info-row__value\">\r\n              <span [tippy]=\"info.value\" (click)=\"copyToClipboard(info.value)\">{{ info.value }}</span>\r\n              @if (info.link) {\r\n                @if (info.link.target === 'angular') {\r\n                  <a [routerLink]=\"['/']\" class=\"eav-info-row__link\" (click)=\"openSideNavPath(info.link.url)\" >\r\n                  {{info.link.label }}\r\n                  </a>\r\n                }\r\n                @if (info.link.target !== 'angular') {\r\n                  <a class=\"eav-info-row__link\" [href]=\"info.link.url\" [target]=\"info.link.target\">{{ info.link.label }}</a>\r\n                }\r\n              }\r\n            </div>\r\n          </div>\r\n        }\r\n        <div class=\"card-content-separator\"></div>\r\n        <h4>Site Settings</h4>\r\n        <p>\r\n          This includes both pre-defined SystemSettings as well as custom Settings.\r\n          It will affect the entire Site / Portal.\r\n        </p>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/settings' }\"></ng-container>\r\n        <button mat-button class=\"eav-button__with-icon\" (click)=\"openSiteSettings()\">\r\n          <mat-icon class=\"eav-icon\">open_in_new</mat-icon>\r\n          <span>Open Site Settings</span>\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Performance / Lightspeed -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">bolt</mat-icon>\r\n        </div>\r\n        <mat-card-title>Performance</mat-card-title>\r\n        <mat-card-subtitle>Performance Enhancements and Caching</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <app-feature-text-info [featureNameId]=\"'LightSpeedOutputCache'\" [asInfo]=\"true\"></app-feature-text-info>\r\n        @if (vm.lsEnabled) {\r\n          <div>\r\n            LightSpeed is enabled.\r\n            Configure it in each site/app as you need.\r\n          </div>\r\n        }\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/lightspeed' }\"></ng-container>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Security -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">local_police</mat-icon>\r\n        </div>\r\n        <mat-card-title>Security</mat-card-title>\r\n        <mat-card-subtitle>System Security Features</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <app-feature-text-info [featureNameId]=\"'ContentSecurityPolicy'\" [asInfo]=\"true\"></app-feature-text-info>\r\n        @if (vm.cspEnabled) {\r\n          <div>\r\n            ContentSecurityPolicy is enabled.\r\n            Configure it in each site/app as you need.\r\n          </div>\r\n        }\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"start\">\r\n        <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/csp' }\"></ng-container>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Insights -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">speed</mat-icon>\r\n        </div>\r\n        <mat-card-title>2sxc Insights</mat-card-title>\r\n        <mat-card-subtitle>See what's happening under the hood</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <h4>2sxc Insights for Super Users</h4>\r\n        <p>\r\n          This is to access a special section to see what is really in the server memory.\r\n          It's intended for extensive debugging - see also\r\n          <a href=\"https://2sxc.org/en/blog/post/using-2sxc-insights\" target=\"_blank\">this blog post</a>.\r\n        </p>\r\n        <div align=\"start\">\r\n          <ng-container *ngTemplateOutlet=\"docsLink; context: { link: 'https://go.2sxc.org/insights' }\"></ng-container>\r\n          <button mat-button class=\"eav-button__with-icon\" (click)=\"openInsights()\">\r\n            <mat-icon class=\"eav-icon\">open_in_new</mat-icon>\r\n            <span>Open 2sxc Insights</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"card-content-separator\"></div>\r\n        <h4>Activate Page Level Logging</h4>\r\n        <form #activateLogForm=\"ngForm\" class=\"activate-log-form\" (ngSubmit)=\"activatePageLog(activateLogForm)\">\r\n          <div>\r\n            This will place insights-logs in the HTML of the user output for users with <code>?debug=true</code> in the\r\n            url.\r\n            It can only be activated for short periods of time.\r\n          </div>\r\n          <mat-form-field color=\"accent\" class=\"eav-form-field\">\r\n            <mat-label>Duration in Minutes</mat-label>\r\n            <input matInput type=\"number\" min=\"0\" required [pattern]=\"positiveWholeNumber\" [(ngModel)]=\"pageLogDuration\"\r\n              name=\"Duration\" #duration=\"ngModel\" [disabled]=\"vm.loading\">\r\n          </mat-form-field>\r\n          @if (duration.touched && duration.errors) {\r\n            @if (duration.errors.pattern) {\r\n              <app-field-hint [isError]=\"true\">\r\n                Only positive whole numbers\r\n              </app-field-hint>\r\n            }\r\n          }\r\n        </form>\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n      <mat-card-actions align=\"end\">\r\n        <button mat-raised-button type=\"submit\" color=\"accent\" [disabled]=\"!activateLogForm.valid || vm.loading\">\r\n          Activate\r\n        </button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Warnings -->\r\n    <mat-card class=\"eav-card\">\r\n      <mat-card-header>\r\n        <div mat-card-avatar>\r\n          <mat-icon class=\"eav-card-header-avatar-icon\">{{ vm.warningIcon }}</mat-icon>\r\n        </div>\r\n        <mat-card-title>Warnings</mat-card-title>\r\n        <mat-card-subtitle>System and Code Warnings</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        @for (info of vm.warningInfos; track info) {\r\n          <div class=\"eav-info-row\">\r\n            <div class=\"eav-info-row__label eav-long\">{{ info.label }}:</div>\r\n            <div class=\"eav-info-row__value\">\r\n              <span [tippy]=\"info.value\" (click)=\"copyToClipboard(info.value)\">{{ info.value }}</span>\r\n              @if (info.link) {\r\n                @if (info.link.target === 'angular') {\r\n                  <a class=\"eav-info-row__link\" [routerLink]=\"info.link.url\">\r\n                    {{info.link.label}}</a>\r\n                }\r\n                @if (info.link.target !== 'angular') {\r\n                  <a class=\"eav-info-row__link\" [href]=\"info.link.url\" [target]=\"info.link.target\">{{ info.link.label }}</a>\r\n                }\r\n              }\r\n            </div>\r\n          </div>\r\n        }\r\n      </mat-card-content>\r\n      <div class=\"eav-card-space-div\"></div>\r\n    </mat-card>\r\n  </div>\r\n}\r\n\r\n\r\n<ng-template #docsLink let-icon let-label let-link=\"link\">\r\n  <a mat-button class=\"eav-button__with-icon\" href=\"{{link}}\" target=\"_blank\" [tippy]=\"'online documentation'\">\r\n    <mat-icon class=\"eav-icon\">{{ icon ?? \"menu_book\" }}</mat-icon>\r\n    <span>{{ label }}</span>\r\n  </a>\r\n</ng-template>\r\n\r\n<router-outlet></router-outlet>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { NgForm, FormsModule } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router, RouterLink, RouterOutlet } from '@angular/router';\r\nimport { BehaviorSubject, combineLatest, map, Observable } from 'rxjs';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { copyToClipboard } from '../../shared/helpers/copy-to-clipboard.helper';\r\nimport { EavWindow } from '../../shared/models/eav-window.model';\r\nimport { DialogService } from '../../shared/services/dialog.service';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { SiteLanguage } from '../models/site-language.model';\r\nimport { SystemInfoSet } from '../models/system-info.model';\r\nimport { SxcInsightsService } from '../services/sxc-insights.service';\r\nimport { ZoneService } from '../services/zone.service';\r\nimport { InfoTemplate, SystemInfoViewModel } from './system-info.models';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { FeaturesModule } from '../../features/features.module';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { NgTemplateOutlet, AsyncPipe } from '@angular/common';\r\nimport { SharedComponentsModule } from '../../shared/shared-components.module';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { AppDialogConfigService } from '../../app-administration/services';\r\n\r\ndeclare const window: EavWindow;\r\n\r\n@Component({\r\n  selector: 'app-system-info',\r\n  templateUrl: './system-info.component.html',\r\n  styleUrls: ['./system-info.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatCardModule,\r\n    MatIconModule,\r\n    SharedComponentsModule,\r\n    RouterLink,\r\n    NgTemplateOutlet,\r\n    MatButtonModule,\r\n    FeaturesModule,\r\n    FormsModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n  ],\r\n  providers: [\r\n    ZoneService,\r\n    DialogService,\r\n    SxcInsightsService,\r\n    FeaturesService,\r\n    AppDialogConfigService,\r\n  ],\r\n})\r\nexport class SystemInfoComponent extends BaseComponent implements OnInit, OnDestroy {\r\n\r\n  pageLogDuration: number;\r\n  positiveWholeNumber = /^[1-9][0-9]*$/;\r\n  viewModel$: Observable<SystemInfoViewModel>;\r\n\r\n  private systemInfoSet$: BehaviorSubject<SystemInfoSet | undefined>;\r\n  private languages$: BehaviorSubject<SiteLanguage[] | undefined>;\r\n  private loading$: BehaviorSubject<boolean>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private snackBar: MatSnackBar,\r\n    private zoneService: ZoneService,\r\n    private dialogService: DialogService,\r\n    private sxcInsightsService: SxcInsightsService,\r\n    private featuresService: FeaturesService,\r\n    private dialogSettings: AppDialogConfigService,\r\n  ) {\r\n    super(router, route);\r\n  }\r\n  ngOnInit(): void {\r\n    this.systemInfoSet$ = new BehaviorSubject<SystemInfoSet | undefined>(undefined);\r\n    this.languages$ = new BehaviorSubject<SiteLanguage[] | undefined>(undefined);\r\n    this.loading$ = new BehaviorSubject<boolean>(false);\r\n    this.buildViewModel();\r\n    this.getSystemInfo();\r\n    this.getLanguages();\r\n    this.subscription.add(this.refreshOnChildClosedShallow().subscribe(() => {\r\n      this.buildViewModel();\r\n      this.getSystemInfo();\r\n      this.getLanguages();\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.systemInfoSet$.complete();\r\n    this.languages$.complete();\r\n    this.loading$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  copyToClipboard(text: string): void {\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n\r\n  openSiteSettings(): void {\r\n    this.dialogSettings.getSitePrimaryApp$().subscribe(sitePrimaryApp => {\r\n      this.dialogService.openAppAdministration(sitePrimaryApp.ZoneId, sitePrimaryApp.AppId, 'app');\r\n    })\r\n  }\r\n\r\n  openGlobalSettings(): void {\r\n    this.dialogSettings.getGlobalPrimaryApp$().subscribe(globalPrimaryApp => {\r\n      this.dialogService.openAppAdministration(globalPrimaryApp.ZoneId, globalPrimaryApp.AppId, 'app');\r\n    })\r\n  }\r\n\r\n  openInsights() {\r\n    window.open(window.$2sxc.http.apiUrl('sys/insights/help'), '_blank');\r\n  }\r\n\r\n\r\n  openSideNavPath(sideNavPath: string): void {\r\n\r\n    // Url are /2/apps/system/registration, sideNavPath are only the last part of the url\r\n    if (sideNavPath.includes('registration'))\r\n      sideNavPath = 'registration';\r\n\r\n    this.router.navigate([this.router.url.replace('system', '') + sideNavPath]);\r\n  }\r\n\r\n  activatePageLog(form: NgForm) {\r\n    this.loading$.next(true);\r\n    this.snackBar.open('Activating...');\r\n    this.sxcInsightsService.activatePageLog(this.pageLogDuration).subscribe(res => {\r\n      this.loading$.next(false);\r\n      this.snackBar.open(res, null, { duration: 4000 });\r\n    });\r\n    if (document.activeElement instanceof HTMLElement) {\r\n      document.activeElement.blur();\r\n    }\r\n    form.resetForm();\r\n  }\r\n\r\n  private getSystemInfo(): void {\r\n    this.zoneService.getSystemInfo().subscribe({\r\n      error: () => {\r\n        this.systemInfoSet$.next(undefined);\r\n      },\r\n      next: (systemInfoSet) => {\r\n        this.systemInfoSet$.next(systemInfoSet);\r\n      },\r\n    });\r\n  }\r\n\r\n  private getLanguages(): void {\r\n    this.zoneService.getLanguages().subscribe({\r\n      error: () => {\r\n        this.languages$.next(undefined);\r\n      },\r\n      next: (languages) => {\r\n        this.languages$.next(languages);\r\n      },\r\n    });\r\n  }\r\n\r\n  private buildViewModel(): void {\r\n    const systemInfos$ = this.systemInfoSet$.pipe(\r\n      map(systemInfoSet => {\r\n        if (systemInfoSet == null) { return; }\r\n        const info: InfoTemplate[] = [\r\n          { label: 'CMS', value: `2sxc v.${systemInfoSet.System.EavVersion}` },\r\n          { label: 'Platform', value: `${systemInfoSet.System.Platform} v.${systemInfoSet.System.PlatformVersion}` },\r\n          { label: 'Zones', value: systemInfoSet.System.Zones.toString() },\r\n          { label: 'Fingerprint', value: systemInfoSet.System.Fingerprint },\r\n          {\r\n            label: 'Registered to',\r\n            value: systemInfoSet.License.Owner || '(unregistered)',\r\n            link: systemInfoSet.License.Owner\r\n              ? {\r\n                url: this.router.url + '/' + \"registration\",\r\n                label: 'manage',\r\n                target: 'angular',\r\n              }\r\n              : {\r\n                url: this.router.url + '/' + \"registration\",\r\n                label: 'register',\r\n                target: 'angular',\r\n              },\r\n          },\r\n        ];\r\n        return info;\r\n      })\r\n    );\r\n    const siteInfos$ = combineLatest([this.systemInfoSet$, this.languages$]).pipe(\r\n      map(([systemInfoSet, languages]) => {\r\n        if (systemInfoSet == null || languages == null) { return; }\r\n        const allLanguages = languages.length;\r\n        const activeLanguages = languages.filter(l => l.IsEnabled).length;\r\n        const info: InfoTemplate[] = [\r\n          { label: 'Zone', value: systemInfoSet.Site.ZoneId.toString() },\r\n          { label: 'Site', value: systemInfoSet.Site.SiteId.toString() },\r\n          {\r\n            label: 'Languages',\r\n            value: `${activeLanguages}/${allLanguages}`,\r\n            link: {\r\n              url: 'languages',\r\n              label: 'manage',\r\n              target: 'angular',\r\n            },\r\n          },\r\n          {\r\n            label: 'Apps',\r\n            value: systemInfoSet.Site.Apps.toString(),\r\n            link: {\r\n              url: 'list',\r\n              label: 'manage',\r\n              target: 'angular',\r\n            },\r\n          },\r\n        ];\r\n        return info;\r\n      })\r\n    );\r\n    const warningIcon$ = this.systemInfoSet$.pipe(\r\n      map(systemInfoSet => {\r\n        if (systemInfoSet == null) { return; }\r\n        if (systemInfoSet.Messages.WarningsObsolete || systemInfoSet.Messages.WarningsOther) {\r\n          return 'warning';\r\n        }\r\n        return 'check';\r\n      }),\r\n    );\r\n    const warningInfos$ = this.systemInfoSet$.pipe(\r\n      map(systemInfoSet => {\r\n        if (systemInfoSet == null) { return; }\r\n        const info: InfoTemplate[] = [\r\n          {\r\n            label: 'Warnings Obsolete',\r\n            value: systemInfoSet.Messages.WarningsObsolete.toString(),\r\n            link: !systemInfoSet.Messages.WarningsObsolete\r\n              ? undefined\r\n              : {\r\n                url: window.$2sxc.http.apiUrl('sys/insights/logs?key=warnings-obsolete'),\r\n                label: 'review',\r\n                target: '_blank',\r\n              },\r\n          },\r\n          {\r\n            label: 'Warnings Other',\r\n            value: systemInfoSet.Messages.WarningsOther.toString(),\r\n            link: !systemInfoSet.Messages.WarningsOther\r\n              ? undefined\r\n              : {\r\n                url: window.$2sxc.http.apiUrl('sys/insights/logs'),\r\n                label: 'review',\r\n                target: '_blank',\r\n              },\r\n          },\r\n        ];\r\n        return info;\r\n      }),\r\n    );\r\n    const lsEnabled$ = this.featuresService.isEnabled$(FeatureNames.LightSpeed);\r\n    const cspEnabled$ = this.featuresService.isEnabled$(FeatureNames.ContentSecurityPolicy);\r\n    this.viewModel$ = combineLatest([systemInfos$, siteInfos$, this.loading$, warningIcon$, warningInfos$, lsEnabled$, cspEnabled$]).pipe(\r\n      map(([systemInfos, siteInfos, loading, warningIcon, warningInfos, lsEnabled, cspEnabled]) => {\r\n        const viewModel: SystemInfoViewModel = {\r\n          systemInfos,\r\n          siteInfos,\r\n          loading,\r\n          warningIcon,\r\n          warningInfos,\r\n          lsEnabled,\r\n          cspEnabled\r\n        };\r\n        return viewModel;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","<div class=\"actions-component\">\r\n  <!-- Global/Inherited button for shared apps (if enabled) -->\r\n  <div class=\"eav-grid-action-button icon\"\r\n    [tippy]=\"app.IsGlobal ? 'This app is global' : app.IsInherited ? 'This app is inherited' : ''\"\r\n    [tippyDisabled]=\"!app.IsGlobal && !app.IsInherited\">\r\n    @if (app.IsGlobal) {\r\n      <mat-icon>foundation</mat-icon>\r\n    }\r\n    @if (app.IsInherited) {\r\n      <mat-icon>holiday_village</mat-icon>\r\n    }\r\n  </div>\r\n\r\n  <!-- Lightspeed button -->\r\n  <app-lightspeed-action [lightSpeedOwner]=\"app\" [params]=\"params\" [lightSpeed]=\"app.lightSpeed\"></app-lightspeed-action>\r\n\r\n  <!-- More button -->\r\n  <div class=\"eav-grid-action-button highlight\" matRipple tippy=\"More\" [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon>more_horiz</mat-icon>\r\n  </div>\r\n</div>\r\n\r\n<!-- The menu which appears on more -->\r\n<mat-menu #menu=\"matMenu\" class=\"grid-more-menu\">\r\n  <ng-template matMenuContent>\r\n    <button mat-menu-item (click)=\"flushCache()\">\r\n      <mat-icon>cached</mat-icon>\r\n      <span>Flush cache</span>\r\n    </button>\r\n    <button mat-menu-item [disabled]=\"!app.IsApp\" (click)=\"deleteApp()\">\r\n      <mat-icon>delete</mat-icon>\r\n      <span>Delete</span>\r\n    </button>\r\n  </ng-template>\r\n</mat-menu>","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { App } from '../../models/app.model';\r\nimport { AppsListActionsParams } from './apps-list-actions.models';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { LightSpeedActionsComponent } from '../../../admin-shared/lightspeed-action/lightspeed-action.component';\r\nimport { TippyStandaloneDirective } from '../../../shared/directives/tippy-Standalone.directive';\r\n\r\n@Component({\r\n  selector: 'app-apps-list-actions',\r\n  templateUrl: './apps-list-actions.component.html',\r\n  standalone: true,\r\n  imports: [\r\n    TippyStandaloneDirective,\r\n    MatIconModule,\r\n    MatBadgeModule,\r\n    MatRippleModule,\r\n    MatMenuModule,\r\n    LightSpeedActionsComponent,\r\n  ],\r\n})\r\nexport class AppsListActionsComponent implements ICellRendererAngularComp {\r\n  app: App;\r\n\r\n  public params: ICellRendererParams & AppsListActionsParams;\r\n  agInit(params: ICellRendererParams & AppsListActionsParams): void {\r\n    this.params = params;\r\n    this.app = this.params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  flushCache(): void {\r\n    this.params.onFlush(this.app);\r\n  }\r\n\r\n  deleteApp(): void {\r\n    this.params.onDelete(this.app);\r\n  }\r\n}\r\n","import { AgBoolCellIconSettings } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { EavWindow } from '../../shared/models/eav-window.model';\r\nimport { App } from '../models/app.model';\r\n\r\ndeclare const window: EavWindow;\r\n\r\nexport const AppListShowIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      tooltip: 'Show this app to users',\r\n      icon: 'visibility',\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: 'visibility_off',\r\n    }\r\n  }\r\n};\r\n\r\nexport const AppListCodeErrorIcons: AgBoolCellIconSettings = {\r\n  states: {\r\n    true: {\r\n      clickable: true,\r\n      tooltip: 'This App uses obsolete code which will cause problems on future upgrades. Click to see details.',\r\n      icon: 'bug_report',\r\n      getUrl: (data: App) => window.$2sxc.http.apiUrl('sys/insights/logs?key=warnings-obsolete&filter=AppId=' + data.Id),\r\n    },\r\n    false: {\r\n      tooltip: 'Hide this app from users',\r\n      icon: '',\r\n    }\r\n  }\r\n};\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n    <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.apps\" [gridOptions]=\"gridOptions\" appDragAndDrop\r\n      [allowedFileTypes]=\"'zip'\" (filesDropped)=\"importApp($event)\">\r\n    </ag-grid-angular>\r\n    <mat-dialog-actions align=\"end\">\r\n      <eco-fab-speed-dial class=\"eav-eco-fab-speed-dial\" [ngClass]=\"{ 'fab-opened': vm.fabOpen }\" (openChange)=\"openChange($event)\">\r\n        <eco-fab-speed-dial-trigger [spin]=\"true\">\r\n          <button mat-fab>\r\n            <mat-icon class=\"spin180\">{{ vm.fabOpen ? 'close' : 'add' }}</mat-icon>\r\n          </button>\r\n        </eco-fab-speed-dial-trigger>\r\n        <eco-fab-speed-dial-actions class=\"eav-eco-fab-speed-dial-actions\">\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Find more apps\" (click)=\"browseCatalog()\">\r\n            <mat-icon>search</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Create inherited app\" (click)=\"createInheritedApp()\">\r\n            <mat-icon>holiday_village</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Add from folder\" (click)=\"addFromFolder()\">\r\n            <mat-icon [matBadgeHidden]=\"vm.isAddFromFolderEnabled\" matBadgeColor=\"accent\" matBadgeSize=\"small\" matBadge=\"💎\"\r\n              matBadgePosition=\"below after\" aria-hidden=\"false\">\r\n              add\r\n            </mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Import app\" (click)=\"importApp()\">\r\n            <mat-icon>cloud_upload</mat-icon>\r\n          </button>\r\n          <button mat-mini-fab class=\"eav-eco-fab-speed-dial-action-button\" label=\"Create app\" (click)=\"createApp()\">\r\n            <mat-icon>add</mat-icon>\r\n          </button>\r\n        </eco-fab-speed-dial-actions>\r\n      </eco-fab-speed-dial>\r\n    </mat-dialog-actions>\r\n  </div>\r\n}\r\n\r\n<router-outlet></router-outlet>\r\n","import { GridOptions, ICellRendererParams } from '@ag-grid-community/core';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router, RouterOutlet } from '@angular/router';\r\nimport { BehaviorSubject, catchError, combineLatest, map, Observable, of, share, shareReplay, startWith, Subject, switchMap } from 'rxjs';\r\nimport { FeatureNames } from '../../features/feature-names';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { FileUploadDialogData } from '../../shared/components/file-upload-dialog';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { convertFormToUrl } from '../../shared/helpers/url-prep.helper';\r\nimport { Context } from '../../shared/services/context';\r\nimport { FeaturesService } from '../../shared/services/features.service';\r\nimport { App } from '../models/app.model';\r\nimport { AppsListService } from '../services/apps-list.service';\r\nimport { AppsListActionsComponent } from './apps-list-actions/apps-list-actions.component';\r\nimport { AppsListActionsParams } from './apps-list-actions/apps-list-actions.models';\r\nimport { FeatureComponentBase } from '../../features/shared/base-feature.component';\r\nimport { MatDialog, MatDialogActions } from '@angular/material/dialog';\r\nimport { AppAdminHelpers } from '../../app-administration/app-admin-helpers';\r\nimport { AppListCodeErrorIcons, AppListShowIcons } from './app-list-grid-config';\r\nimport { AgBoolIconRenderer } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-renderer.component';\r\nimport { AgBoolCellIconsParams } from '../../shared/ag-grid/apps-list-show/ag-bool-icon-params';\r\nimport { EavLogger } from '../../shared/logging/eav-logger';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { EcoFabSpeedDialComponent, EcoFabSpeedDialTriggerComponent, EcoFabSpeedDialActionsComponent } from '@ecodev/fab-speed-dial';\r\nimport { SharedComponentsModule } from '../../shared/shared-components.module';\r\nimport { AgGridModule } from '@ag-grid-community/angular';\r\nimport { AppDialogConfigService } from '../../app-administration/services';\r\nimport { ModuleRegistry } from '@ag-grid-community/core';\r\nimport { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\nimport { FeaturesModule } from '../../features/features.module';\r\n\r\nconst logThis = false;\r\n\r\n@Component({\r\n  selector: 'app-apps-list',\r\n  templateUrl: './apps-list.component.html',\r\n  styleUrls: ['./apps-list.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    AgGridModule,\r\n    SharedComponentsModule,\r\n    MatDialogActions,\r\n    EcoFabSpeedDialComponent,\r\n    NgClass,\r\n    EcoFabSpeedDialTriggerComponent,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    EcoFabSpeedDialActionsComponent,\r\n    MatBadgeModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n    // WIP 2dm - needed for the lightspeed buttons to work\r\n    FeaturesModule,\r\n  ],\r\n  providers: [\r\n    AppsListService,\r\n    FeaturesService,\r\n    AppDialogConfigService,\r\n  ],\r\n})\r\nexport class AppsListComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  apps$: Observable<App[]>;\r\n  fabOpen$ = new BehaviorSubject(false);\r\n  gridOptions = this.buildGridOptions();\r\n  isAddFromFolderEnabled$: Observable<boolean>;\r\n\r\n  private refreshApps$ = new Subject<void>();\r\n\r\n  viewModel$: Observable<AppsListViewModel>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private appsListService: AppsListService,\r\n    private snackBar: MatSnackBar,\r\n    private context: Context,\r\n    // Services for showing features in the menu\r\n    private featuresService: FeaturesService,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    appDialogConfigService: AppDialogConfigService\r\n  ) {\r\n    super(router, route, new EavLogger('AppsListComponent', logThis));\r\n    ModuleRegistry.registerModules([ ClientSideRowModelModule ]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const appsLog = this.log.rxTap('apps$');\r\n    this.apps$ = this.refreshApps$.pipe(\r\n      appsLog.pipe(),\r\n      startWith(undefined),\r\n      switchMap(() => this.appsListService.getAll().pipe(catchError(() => of(undefined)))),\r\n      shareReplay(1),\r\n      appsLog.shareReplay(),\r\n    );\r\n\r\n    this.subscription.add(this.refreshOnChildClosedShallow().subscribe(() => { this.refreshApps$.next(); }));\r\n\r\n    const isAddFromFolderEnabledLog = this.log.rxTap('isAddFromFolderEnabled$');\r\n    this.isAddFromFolderEnabled$ = this.featuresService\r\n      .isEnabled$(FeatureNames.AppSyncWithSiteFiles)\r\n      .pipe(isAddFromFolderEnabledLog.pipe(), isAddFromFolderEnabledLog.shareReplay());\r\n    \r\n    this.viewModel$ = combineLatest([this.apps$, this.fabOpen$, this.isAddFromFolderEnabled$]).pipe(\r\n      map(([apps, fabOpen, isAddFromFolderEnabled]) => {\r\n        return { apps, fabOpen, isAddFromFolderEnabled};\r\n      }),\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.fabOpen$.complete();\r\n    this.refreshApps$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  openChange(open: boolean): void {\r\n    this.fabOpen$.next(open);\r\n  }\r\n\r\n  browseCatalog(): void {\r\n    window.open('https://2sxc.org/apps', '_blank');\r\n  }\r\n\r\n  createApp(): void {\r\n    this.router.navigate(['create'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  createInheritedApp(): void {\r\n    this.router.navigate(['create-inherited'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  addFromFolder(): void {\r\n    this.router.navigate(['add-app-from-folder'], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  importApp(files?: File[]): void {\r\n    const dialogData: FileUploadDialogData = { files };\r\n    this.router.navigate(['import'], { relativeTo: this.route.parent.firstChild, state: dialogData });\r\n  }\r\n\r\n  private deleteApp(app: App): void {\r\n    const result = prompt(`This cannot be undone. To really delete this app, type 'yes!' or type/paste the app-name here. Are you sure want to delete '${app.Name}' (${app.Id})?`);\r\n    if (result === null) { return; }\r\n    if (result === app.Name || result === 'yes!') {\r\n      this.snackBar.open('Deleting...');\r\n      this.appsListService.delete(app.Id).subscribe({\r\n        error: () => {\r\n          this.snackBar.open('Delete failed. Please check console for more information', undefined, { duration: 3000 });\r\n          this.refreshApps$.next();\r\n        },\r\n        next: () => {\r\n          this.snackBar.open('Deleted', undefined, { duration: 2000 });\r\n          this.refreshApps$.next();\r\n        },\r\n      });\r\n    } else {\r\n      alert('Input did not match - will not delete');\r\n    }\r\n  }\r\n\r\n  private flushApp(app: App): void {\r\n    if (!confirm(`Flush the App Cache for ${app.Name} (${app.Id})?`)) { return; }\r\n    this.snackBar.open('Flushing cache...');\r\n    this.appsListService.flushCache(app.Id).subscribe({\r\n      error: () => {\r\n        this.snackBar.open('Cache flush failed. Please check console for more information', undefined, { duration: 3000 });\r\n      },\r\n      next: () => {\r\n        this.snackBar.open('Cache flushed', undefined, { duration: 2000 });\r\n      },\r\n    });\r\n  }\r\n\r\n  private openLightSpeed(app: App): void {\r\n    const formUrl = convertFormToUrl(AppAdminHelpers.getLightSpeedEditParams(app.Id));\r\n    this.router.navigate([`${this.context.zoneId}/${app.Id}/edit/${formUrl}`], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  private openApp(app: App): void {\r\n    this.router.navigate([app.Id.toString()], { relativeTo: this.route.parent.firstChild });\r\n  }\r\n\r\n  openLightSpeedFeatInfo() {\r\n    FeatureComponentBase.openDialog(this.dialog, FeatureNames.LightSpeed, this.viewContainerRef, this.changeDetectorRef);\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.Id,\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<App> = {\r\n              tooltipGetter: (app) => `ID: ${app.Id}\\nGUID: ${app.Guid}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.IconShow,\r\n          // valueGetter: (params) => {\r\n          //   const app: App = params.data;\r\n          //   return !app.IsHidden;\r\n          // },\r\n          cellRenderer: AgBoolIconRenderer,\r\n          cellRendererParams: (() => ({ settings: () => AppListShowIcons }))(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Name',\r\n          cellClass: 'apps-list-primary-action highlight'.split(' '),\r\n          sort: 'asc',\r\n          onCellClicked: (params) => {\r\n            const app: App = params.data;\r\n            this.openApp(app);\r\n          },\r\n          cellRenderer: (params: ICellRendererParams) => {\r\n            const app: App = params.data;\r\n            return `\r\n            <div class=\"container\">\r\n              ${app.Thumbnail\r\n                ? `<img class=\"image logo\" src=\"${app.Thumbnail}?w=40&h=40&mode=crop\"></img>`\r\n                : `<div class=\"image logo\"><span class=\"material-icons-outlined\">star_border</span></div>`\r\n              }\r\n              <div class=\"text\">${params.value}</div>\r\n            </div>\r\n            `;\r\n          },\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          field: 'Folder',\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Character,\r\n          field: 'Version',\r\n          width: 78,\r\n        },\r\n        {\r\n          ...ColumnDefinitions.Number,\r\n          field: 'Items',\r\n        },\r\n        {\r\n          // todo: boolean\r\n          field: 'HasCodeWarnings',\r\n          headerName: 'Code',\r\n          width: 70,\r\n          headerClass: 'dense',\r\n          cellClass: 'icons no-outline'.split(' '),\r\n          sortable: true,\r\n          filter: BooleanFilterComponent,\r\n          cellRenderer: AgBoolIconRenderer,\r\n          cellRendererParams: (() => ({ settings: (app) => AppListCodeErrorIcons } as AgBoolCellIconsParams<App>))(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.ActionsPinnedRight3,\r\n          cellRenderer: AppsListActionsComponent,\r\n          cellRendererParams: {\r\n            onDelete: (app) => this.deleteApp(app),\r\n            onFlush: (app) => this.flushApp(app),\r\n            onOpenLightspeed: (app) => this.openLightSpeed(<App> app),\r\n            openLightspeedFeatureInfo: () => this.openLightSpeedFeatInfo(),\r\n          } satisfies AppsListActionsParams,\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface AppsListViewModel {\r\n  apps: App[];\r\n  fabOpen: any;\r\n  isAddFromFolderEnabled: boolean;\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatSlideToggleChange, MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { SiteLanguage } from '../../models/site-language.model';\r\nimport { SiteLanguagesStatusParams } from './site-languages-status.models';\r\n\r\n@Component({\r\n    selector: 'app-site-languages-status',\r\n    templateUrl: './site-languages-status.component.html',\r\n    styleUrls: ['./site-languages-status.component.scss'],\r\n    standalone: true,\r\n    imports: [MatSlideToggleModule],\r\n})\r\nexport class SiteLanguagesStatusComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  private params: ICellRendererParams & SiteLanguagesStatusParams;\r\n\r\n  agInit(params: ICellRendererParams & SiteLanguagesStatusParams): void {\r\n    this.params = params;\r\n    this.value = this.params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n\r\n  toggleLanguage(event: MatSlideToggleChange): void {\r\n    const language: SiteLanguage = this.params.data;\r\n    this.params.onToggleLanguage(language, event.checked);\r\n  }\r\n}\r\n","<mat-slide-toggle [checked]=\"value\" (change)=\"toggleLanguage($event)\"></mat-slide-toggle>\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"grid-wrapper mat-tab-grid-wrapper\">\r\n    <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"vm.languages\" [gridOptions]=\"gridOptions\">\r\n    </ag-grid-angular>\r\n    <mat-dialog-actions align=\"end\"></mat-dialog-actions>\r\n  </div>\r\n}\r\n","import { GridOptions } from '@ag-grid-community/core';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { catchError, combineLatest, map, Observable, of, share, startWith, Subject, switchMap } from 'rxjs';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { SiteLanguage } from '../models/site-language.model';\r\nimport { ZoneService } from '../services/zone.service';\r\nimport { SiteLanguagesStatusComponent } from './site-languages-status/site-languages-status.component';\r\nimport { SiteLanguagesStatusParams } from './site-languages-status/site-languages-status.models';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatDialogActions } from '@angular/material/dialog';\r\nimport { AgGridModule } from '@ag-grid-community/angular';\r\nimport { ModuleRegistry } from '@ag-grid-community/core';\r\nimport { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\nimport { ColumnDefinitions } from '../../shared/ag-grid/column-definitions';\r\n\r\n@Component({\r\n  selector: 'app-site-languages',\r\n  templateUrl: './site-languages.component.html',\r\n  styleUrls: ['./site-languages.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatDialogActions,\r\n    AsyncPipe,\r\n    AgGridModule,\r\n  ],\r\n  providers: [\r\n    ZoneService,\r\n  ],\r\n})\r\nexport class SiteLanguagesComponent implements OnInit, OnDestroy {\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  private refreshLanguages$ = new Subject<void>();\r\n\r\n  viewModel$: Observable<SiteLanguagesViewModel>;\r\n\r\n  constructor(private zoneService: ZoneService) {\r\n    ModuleRegistry.registerModules([ClientSideRowModelModule]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.viewModel$ = combineLatest([\r\n      this.refreshLanguages$.pipe(\r\n        startWith(undefined),\r\n        switchMap(() => this.zoneService.getLanguages().pipe(catchError(() => of(undefined)))),\r\n        share()\r\n      )\r\n    ]).pipe(\r\n      map(([languages]) => {\r\n        return { languages };\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.refreshLanguages$.complete();\r\n  }\r\n\r\n  private toggleLanguage(language: SiteLanguage, enable: boolean): void {\r\n    this.zoneService.toggleLanguage(language.Code, enable).subscribe({\r\n      error: () => {\r\n        this.refreshLanguages$.next();\r\n      },\r\n      next: () => {\r\n        this.refreshLanguages$.next();\r\n      },\r\n    });\r\n  }\r\n\r\n  private buildGridOptions(): GridOptions {\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          ...ColumnDefinitions.Id,\r\n          field: 'Code',\r\n          filter: 'agTextColumnFilter',\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<SiteLanguage> = {\r\n              tooltipGetter: (language: SiteLanguage) => `ID: ${language.Code}`,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          ...ColumnDefinitions.TextWide,\r\n          headerName: 'Name',\r\n          field: 'Culture',\r\n          sort: 'asc',\r\n          onCellClicked: (params) => {\r\n            const language: SiteLanguage = params.data;\r\n            this.toggleLanguage(language, !language.IsEnabled);\r\n          },\r\n        },\r\n        {\r\n          field: 'Status',\r\n          width: 72,\r\n          headerClass: 'dense',\r\n          cellClass: 'no-padding no-outline'.split(' '),\r\n          sortable: true,\r\n          filter: BooleanFilterComponent,\r\n          valueGetter: (params) => {\r\n            const language: SiteLanguage = params.data;\r\n            return language.IsEnabled;\r\n          },\r\n          cellRenderer: SiteLanguagesStatusComponent,\r\n          cellRendererParams: (() => {\r\n            const params: SiteLanguagesStatusParams = {\r\n              onToggleLanguage: (language, enable) => this.toggleLanguage(language, enable),\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\ninterface SiteLanguagesViewModel {\r\n  languages: SiteLanguage[];\r\n}\r\n","<mat-card>\r\n  <mat-card-header>\r\n    <mat-card-title>{{ dialogData.feature.Name }}</mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <p [innerHtml]=\"dialogData.feature.Description | safeHtml\"></p>\r\n    @if (dialogData.feature.NameId; as id) {\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">ID:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span [tippy]=\"id\" (click)=\"copyToClipboard(id)\">{{ id }}</span>\r\n        </div>\r\n      </div>\r\n    }\r\n    @if (dialogData.feature.Guid; as guid) {\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">GUID:</div>\r\n        <div class=\"eav-info-row__value eav_click\">\r\n          <span [tippy]=\"guid\" (click)=\"copyToClipboard(guid)\">{{ guid }}</span>\r\n        </div>\r\n      </div>\r\n    }\r\n    @if ((dialogData.feature.Security.Impact + ': ' + dialogData.feature.Security.Message); as security) {\r\n      <div class=\"eav-info-row\">\r\n        <div class=\"eav-info-row__label\">Security Rating:</div>\r\n        <div class=\"eav-info-row__value\">\r\n          <span>{{ security }}</span>\r\n        </div>\r\n      </div>\r\n    }\r\n  </mat-card-content>\r\n  <mat-card-actions align=\"end\">\r\n    @if (dialogData.feature.Link; as link) {\r\n      <button mat-raised-button class=\"eav-card-action-button\" color=\"accent\"\r\n        (click)=\"findOutMore(link)\">\r\n        <mat-icon>open_in_new</mat-icon>\r\n        Find out more\r\n      </button>\r\n    }\r\n    <button mat-raised-button class=\"eav-card-action-button\" (click)=\"closeDialog()\">\r\n      Close\r\n    </button>\r\n  </mat-card-actions>\r\n</mat-card>","import { Component, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { copyToClipboard } from '../../../shared/helpers/copy-to-clipboard.helper';\r\nimport { FeatureDetailsDialogData } from './feature-details-dialog.models';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { SharedComponentsModule } from '../../../shared/shared-components.module';\r\nimport { MatCardModule } from '@angular/material/card';\r\n\r\n@Component({\r\n    selector: 'app-feature-details-dialog',\r\n    templateUrl: './feature-details-dialog.component.html',\r\n    styleUrls: ['./feature-details-dialog.component.scss'],\r\n    standalone: true,\r\n    imports: [MatCardModule, SharedComponentsModule, MatButtonModule, MatIconModule]\r\n})\r\nexport class FeatureDetailsDialogComponent {\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public dialogData: FeatureDetailsDialogData,\r\n    private dialogRef: MatDialogRef<FeatureDetailsDialogComponent>,\r\n    private snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  closeDialog(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  findOutMore(link: string): void {\r\n    window.open(link, '_blank');\r\n  }\r\n\r\n  copyToClipboard(text: string): void {\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n}\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { Feature } from '../../../features/models/feature.model';\r\nimport { SharedComponentsModule } from '../../../shared/shared-components.module';\r\n\r\n@Component({\r\n    selector: 'app-features-list-enabled-reason',\r\n    templateUrl: './features-list-enabled-reason.component.html',\r\n    styleUrls: ['./features-list-enabled-reason.component.scss'],\r\n    standalone: true,\r\n    imports: [SharedComponentsModule],\r\n})\r\nexport class FeaturesListEnabledReasonComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n  feature: Feature;\r\n\r\n  agInit(params: ICellRendererParams): void {\r\n    this.value = params.value;\r\n    this.feature = params.data;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div [tippy]=\"feature.EnabledReasonDetailed\">{{ value }}</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\n@Component({\r\n    selector: 'app-features-list-enabled',\r\n    templateUrl: './features-list-enabled.component.html',\r\n    styleUrls: ['./features-list-enabled.component.scss'],\r\n    standalone: true,\r\n    imports: [MatIconModule],\r\n})\r\nexport class FeaturesListEnabledComponent implements ICellRendererAngularComp {\r\n  value: boolean;\r\n\r\n  agInit(params: ICellRendererParams): void {\r\n    this.value = params.value;\r\n  }\r\n\r\n  refresh(params?: any): boolean {\r\n    return true;\r\n  }\r\n}\r\n","<div class=\"icon-container\">\r\n  <mat-icon>{{ value ? 'check_box' : 'check_box_outline_blank' }}</mat-icon>\r\n</div>\r\n","import { ICellRendererAngularComp } from '@ag-grid-community/angular';\r\nimport { ICellRendererParams } from '@ag-grid-community/core';\r\nimport { Component } from '@angular/core';\r\nimport { Feature } from '../../../features/models/feature.model';\r\nimport { FeaturesStatusParams } from './features-status.models';\r\nimport { IdFieldParams } from '../../../shared/components/id-field/id-field.models';\r\nimport { NgClass } from '@angular/common';\r\nimport { SharedComponentsModule } from '../../../shared/shared-components.module';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\n\r\n@Component({\r\n    selector: 'app-features-status',\r\n    templateUrl: './features-status.component.html',\r\n    styleUrls: ['./features-status.component.scss'],\r\n    standalone: true,\r\n    imports: [\r\n        MatSlideToggleModule,\r\n        SharedComponentsModule,\r\n        NgClass,\r\n    ],\r\n\r\n})\r\nexport class FeaturesStatusComponent implements ICellRendererAngularComp {\r\n  value: boolean | null;\r\n  disabled: boolean;\r\n  tooltip: string;\r\n\r\n  private params: ICellRendererParams & FeaturesStatusParams;\r\n\r\n  agInit(params: ICellRendererParams & FeaturesStatusParams & IdFieldParams<Feature>): void {\r\n    this.params = params;\r\n    this.value = params.value;\r\n    this.disabled = params.isDisabled(params.data);\r\n    this.tooltip = params.tooltipGetter(params.data);\r\n  }\r\n\r\n  refresh(params: ICellRendererParams & FeaturesStatusParams): boolean {\r\n    this.disabled = this.params.isDisabled(this.params.data);\r\n    return true;\r\n  }\r\n\r\n  toggle(): void {\r\n    const feature: Feature = this.params.data;\r\n    let nextValue: boolean;\r\n    switch (this.value) {\r\n      case false:\r\n        nextValue = null;\r\n        break;\r\n      case null:\r\n        nextValue = true;\r\n        break;\r\n      case true:\r\n        nextValue = false;\r\n        break;\r\n    }\r\n    this.value = nextValue;\r\n    this.params.onToggle(feature, nextValue);\r\n  }\r\n}\r\n","<mat-slide-toggle [checked]=\"value\" [tippy]=\"tooltip\" [disabled]=\"disabled\" (change)=\"toggle()\" [ngClass]=\"{\r\n  'toggle-false': value === false,\r\n  'toggle-null': value === null\r\n  }\">\r\n</mat-slide-toggle>\r\n","import { License } from '../apps-management/models/license.model';\r\nimport { Feature } from './models';\r\n\r\n/**\r\n * Helper class used in union with other classes to add expiration hints to features.\r\n * It's implemented as a class, so it's easier to bundle static functions.\r\n */\r\nexport class ExpirationExtension {\r\n\r\n  /** The expiration date as a human readable string. Not from the server; generated on the client */\r\n  ExpMessage?: string;\r\n  ExpIcon?: string;\r\n\r\n  ExpWarningIcon?: string;\r\n\r\n  static expandFeature(feature: Feature): Feature & ExpirationExtension {\r\n    return {\r\n      ...feature,\r\n      ...ExpirationExtension.getExpiration(feature?.Expiration)\r\n    };\r\n  }\r\n\r\n  static expandLicense(license: License): License & ExpirationExtension {\r\n    // Wrap in Try-Catch to avoid errors in the UI\r\n    try {\r\n      // find the lowest expiration date on the features\r\n      const lowestExpiration = license?.Features?.map(f => f.Expiration).sort()[0];\r\n      // if there is no lowest expiration date, skip the rest\r\n      if (lowestExpiration == null) return license;\r\n\r\n      // debugger;\r\n      const withState = {\r\n        ...license,\r\n        ...ExpirationExtension.getExpiration(lowestExpiration),\r\n      };\r\n\r\n      return withState;\r\n    } catch (error) {\r\n      return license;\r\n    }\r\n  }\r\n\r\n  private static getExpiration(dateString: string): ExpirationExtension {\r\n    // Inner helper to create the final result\r\n    const result = (icon: string, text: string) => ({\r\n      ExpMessage: (icon != null ? icon + ' ' : '') + text,\r\n      ExpIcon: icon,\r\n      ExpWarningIcon: icon != '✅' ? icon : null,\r\n    })\r\n    const expires = dateString?.split('T')[0];\r\n    // no valid expiration date\r\n    if (expires == null) return result(null, null);\r\n    // never expires\r\n    if (expires.startsWith('9999')) return result('✅', 'never');\r\n    const expDate = new Date(expires);\r\n    // show \"expired\" if it's over-due\r\n    if (expDate < new Date()) return result('🛑', 'expired');\r\n    // return \"today\" if it's today\r\n    if (expDate.toDateString() === new Date().toDateString()) return result('⚠️', 'today');\r\n    // return \"tomorrow\" if it's tomorrow\r\n    if (expDate.toDateString() === new Date(new Date().setDate(new Date().getDate() + 1)).toDateString()) return result('⚠️', 'tomorrow');\r\n    // Warn if it's within 30 days\r\n    if (expDate < new Date(new Date().setDate(new Date().getDate() + 30))) return result('⚠️', expires);\r\n    // Show special EOY if it's at the end of the year - the most common expiration\r\n    if (expires.endsWith('12-31')) return result('✅', `EOY ${expires.split('-')[0]}`);\r\n    // otherwise: just show the date\r\n    return result('❓', expires);\r\n  }\r\n\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { License } from '../models/license.model';\r\n\r\n@Pipe({\r\n    name: 'activeFeaturesCount',\r\n    standalone: true\r\n})\r\nexport class ActiveFeaturesCountPipe implements PipeTransform {\r\n\r\n  transform(license: License) {\r\n    return `${license.Features.filter(f => f.IsEnabled).length}/${license.Features.length}`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { License } from '../models/license.model';\r\n\r\n@Pipe({\r\n    name: 'licensesOrder',\r\n    standalone: true\r\n})\r\nexport class LicensesOrderPipe implements PipeTransform {\r\n\r\n  transform(licenses: License[]): any {\r\n    if (!Array.isArray(licenses)) { return licenses; }\r\n\r\n    const sorted = [...licenses].sort((a: License, b: License) => {\r\n      if (a.Priority < b.Priority) {\r\n        return -1;\r\n      } else if (a.Priority > b.Priority) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n    return sorted;\r\n  }\r\n}\r\n","import { Directive, ElementRef, Input, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[appAgGridHeight]',\r\n    standalone: true\r\n})\r\nexport class AgGridHeightDirective implements OnChanges {\r\n  @Input() itemsCount = 0;\r\n  @Input() headerHeight = 32;\r\n  @Input() rowHeight = 48;\r\n  @Input() maxRows = 100;\r\n\r\n  /** Fixes a bug where scrollbar appears when then is no overflow */\r\n  private extraHeight = 2;\r\n\r\n  private element: HTMLElement;\r\n\r\n  constructor(elementRef: ElementRef) {\r\n    this.element = elementRef.nativeElement;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.itemsCount != null) {\r\n      const rows = this.itemsCount === 0 ? 2 : this.itemsCount > this.maxRows ? this.maxRows : this.itemsCount;\r\n      this.element.style.height = `${this.headerHeight + rows * this.rowHeight + this.extraHeight}px`;\r\n    }\r\n  }\r\n}\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { FeatureState } from '../../features/models';\r\nimport { FileUploadMessageTypes, FileUploadResult } from '../../shared/components/file-upload-dialog';\r\nimport { License, LicenseDownloadInfo, LicenseUploadInfo } from '../models/license.model';\r\n\r\nconst webApiLicense = 'sys/license/';\r\nconst webApiFeatSaveNew = 'admin/feature/SaveNew';\r\nconst webApiLicSummary = 'sys/license/Summary';\r\nconst webApiUpload = 'sys/license/Upload';\r\n\r\n@Injectable()\r\nexport class FeaturesConfigService {\r\n  constructor(private http: HttpClient, private dnnContext: DnnContext) { }\r\n\r\n  saveFeatures(featuresStates: FeatureState[]): Observable<null> {\r\n    return this.http.post<null>(this.dnnContext.$2sxc.http.apiUrl(webApiFeatSaveNew), featuresStates);\r\n  }\r\n\r\n  getLicenses(): Observable<License[]> {\r\n    return this.http.get<License[]>(this.dnnContext.$2sxc.http.apiUrl(webApiLicSummary));\r\n  }\r\n\r\n  uploadLicense(file: File): Observable<FileUploadResult> {\r\n    const formData = new FormData();\r\n    formData.append('File', file);\r\n    return this.http\r\n      .post<LicenseUploadInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiUpload), formData)\r\n      .pipe(\r\n        map(info => {\r\n          const result: FileUploadResult = {\r\n            Success: info.Success,\r\n            Messages: [{\r\n              MessageType: info.Success ? FileUploadMessageTypes.Success : FileUploadMessageTypes.Error,\r\n              Text: `License ${info.Success ? 'uploaded' : 'upload failed'}: ${info.Message}`,\r\n            }],\r\n          };\r\n          return result;\r\n        }),\r\n      );\r\n  }\r\n\r\n  retrieveLicense(): Observable<LicenseDownloadInfo> {\r\n    return this.http.get<LicenseDownloadInfo>(this.dnnContext.$2sxc.http.apiUrl(webApiLicense + 'Retrieve'));\r\n  }\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <mat-accordion multi>\r\n    @for (license of vm.licenses | licensesOrder; track trackLicenses($index, license)) {\r\n      <mat-expansion-panel #panel>\r\n        <mat-expansion-panel-header>\r\n          <mat-panel-title>\r\n            <mat-icon class=\"panel-icon\" [tippy]=\"license.IsEnabled ? 'License is active' : 'License is not active'\">{{\r\n            license.IsEnabled ? 'check_circle_outline' : 'cancel' }}</mat-icon>\r\n            <div>\r\n              <div class=\"panel-title\">\r\n                <span>{{ license.Name }}</span>\r\n                <span class=\"active-features-count\">{{ license | activeFeaturesCount }}</span>\r\n                <span> {{ license.ExpWarningIcon }}</span>\r\n              </div>\r\n              <div class=\"panel-description\" [ngClass]=\"{ 'expanded': panel.expanded }\">\r\n                {{ license.Description }}\r\n              </div>\r\n            </div>\r\n          </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n        @if (panel.expanded) {\r\n          <ag-grid-angular class=\"ag-theme-material\" [rowData]=\"license.Features\" [gridOptions]=\"gridOptions\"\r\n            appAgGridHeight [itemsCount]=\"license.Features?.length\">\r\n          </ag-grid-angular>\r\n        }\r\n      </mat-expansion-panel>\r\n    }\r\n  </mat-accordion>\r\n}\r\n\r\n<mat-dialog-actions align=\"start\">\r\n  <button mat-button class=\"eav-button__with-icon\" tippy=\"Registration\" (click)=\"openRegistration()\">\r\n    <mat-icon class=\"eav-icon\">app_registration</mat-icon>\r\n    <span>Registration</span>\r\n  </button>\r\n</mat-dialog-actions>\r\n\r\n<router-outlet></router-outlet>\r\n","import { AgGridAngular, AgGridModule } from '@ag-grid-community/angular';\r\nimport { GridOptions } from '@ag-grid-community/core';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog, MatDialogActions } from '@angular/material/dialog';\r\nimport { ActivatedRoute, Router, RouterOutlet } from '@angular/router';\r\n// tslint:disable-next-line:max-line-length\r\nimport { BehaviorSubject, catchError, forkJoin, map, Observable, of, share, startWith, Subject, switchMap, tap, timer } from 'rxjs';\r\nimport { FeatureState } from '../../features/models';\r\nimport { BaseComponent } from '../../shared/components/base-component/base.component';\r\nimport { BooleanFilterComponent } from '../../shared/components/boolean-filter/boolean-filter.component';\r\nimport { IdFieldComponent } from '../../shared/components/id-field/id-field.component';\r\nimport { IdFieldParams } from '../../shared/components/id-field/id-field.models';\r\nimport { defaultGridOptions } from '../../shared/constants/default-grid-options.constants';\r\nimport { Feature } from '../../features/models/feature.model';\r\nimport { License } from '../models/license.model';\r\nimport { FeatureDetailsDialogComponent } from './feature-details-dialog/feature-details-dialog.component';\r\nimport { FeatureDetailsDialogData } from './feature-details-dialog/feature-details-dialog.models';\r\nimport { FeaturesListEnabledReasonComponent } from './features-list-enabled-reason/features-list-enabled-reason.component';\r\nimport { FeaturesListEnabledComponent } from './features-list-enabled/features-list-enabled.component';\r\nimport { FeaturesStatusComponent } from './features-status/features-status.component';\r\nimport { FeaturesStatusParams } from './features-status/features-status.models';\r\nimport { ExpirationExtension } from '../../features/expiration-extension';\r\nimport { ActiveFeaturesCountPipe } from './active-features-count.pipe';\r\nimport { LicensesOrderPipe } from './licenses-order.pipe';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { AgGridHeightDirective } from './ag-grid-height.directive';\r\nimport { NgClass, AsyncPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { TippyStandaloneDirective } from '../../shared/directives/tippy-Standalone.directive';\r\nimport { FeaturesConfigService } from '../services/features-config.service';\r\nimport { ModuleRegistry } from '@ag-grid-community/core';\r\nimport { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\r\n\r\n@Component({\r\n  selector: 'app-license-info',\r\n  templateUrl: './license-info.component.html',\r\n  styleUrls: ['./license-info.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    MatExpansionModule,\r\n    MatIconModule,\r\n    NgClass,\r\n    AgGridModule,\r\n    AgGridHeightDirective,\r\n    MatDialogActions,\r\n    MatButtonModule,\r\n    RouterOutlet,\r\n    AsyncPipe,\r\n    LicensesOrderPipe,\r\n    ActiveFeaturesCountPipe,\r\n    TippyStandaloneDirective,\r\n  ],\r\n  providers: [\r\n    FeaturesConfigService,\r\n  ]\r\n})\r\nexport class LicenseInfoComponent extends BaseComponent implements OnInit, OnDestroy {\r\n  @ViewChild(AgGridAngular) private gridRef?: AgGridAngular;\r\n\r\n  disabled$ = new BehaviorSubject(false);\r\n  gridOptions = this.buildGridOptions();\r\n\r\n  private refreshLicenses$ = new Subject<void>();\r\n\r\n  viewModel$: Observable<LicenseInfoViewModel>;\r\n\r\n  constructor(\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private featuresConfigService: FeaturesConfigService,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) {\r\n    super(router, route);\r\n    ModuleRegistry.registerModules([ ClientSideRowModelModule ]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subscription.add(this.refreshOnChildClosedShallow().subscribe(() => { this.refreshLicenses$.next(); }));\r\n    this.viewModel$ = //combineLatest([\r\n      this.refreshLicenses$.pipe(\r\n        startWith(undefined),\r\n        switchMap(() => this.featuresConfigService.getLicenses().pipe(catchError(() => of(undefined)))),\r\n        tap(() => this.disabled$.next(false)),\r\n\r\n        // Fiddle with the data for development tests\r\n        // 2023-11-16 2dm disabled - causes trouble in production\r\n        // @STV - do you still need this? or is this a forgotten debug code?\r\n        // map(licenses => {\r\n        //   var licTesting = licenses[licenses.length - 2];\r\n        //   licTesting.Features[licTesting.Features.length - 1].Expiration = \"2023-08-25\";\r\n        //   return licenses;\r\n        // }),\r\n\r\n        // Expand the data to have pre-calculated texts/states\r\n        map(licenses => licenses.map(l => {\r\n          // const expandedFeatures = l.Features.map(f => ExpirationExtension.expandFeature(f));\r\n          return ({\r\n            ...ExpirationExtension.expandLicense(l),\r\n            Features: l.Features.map(f => ExpirationExtension.expandFeature(f)),\r\n          });\r\n        })),\r\n\r\n        // Share the resulting stream with all subscribers\r\n        share(),\r\n      )\r\n        //])\r\n        .pipe(\r\n          map((licenses) => ({ licenses })),\r\n        );\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.disabled$.complete();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  trackLicenses(index: number, license: License): string {\r\n    return license.Guid;\r\n  }\r\n\r\n\r\n  openRegistration(): void {\r\n    this.router.navigate([this.router.url.replace('license', '') + \"/registration\"]);\r\n  }\r\n\r\n  private showFeatureDetails(feature: Feature): void {\r\n    const data: FeatureDetailsDialogData = {\r\n      feature,\r\n    };\r\n    this.dialog.open(FeatureDetailsDialogComponent, {\r\n      autoFocus: false,\r\n      data,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '600px',\r\n    });\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private toggleFeature(feature: Feature, enabled: boolean): void {\r\n    this.disabled$.next(true);\r\n    const state: FeatureState = {\r\n      FeatureGuid: feature.Guid,\r\n      Enabled: enabled,\r\n    };\r\n    forkJoin([this.featuresConfigService.saveFeatures([state]), timer(100)]).subscribe({\r\n      error: () => {\r\n        this.refreshLicenses$.next();\r\n      },\r\n      next: () => {\r\n        this.refreshLicenses$.next();\r\n      },\r\n    });\r\n  }\r\n\r\n  // Note: @SDV\r\n  // I think this should serve as a good example of how to use the grid\r\n  // 1. eg. with cellDefaults and similar initial objects containing most commonly used options here\r\n  // 2. Also we should probably never add a valueGetter for the simple properties\r\n  // ...not sure why it's even in here, my guess is copy-paste of code which wasn't understood properly\r\n  // 3. I think the header-name should always be the first line, then the field\r\n  private buildGridOptions(): GridOptions {\r\n    const cellDefaults = {\r\n      cellClass: 'no-outline',\r\n      sortable: true,\r\n    };\r\n    const cellDefaultsTextFilter = {\r\n      ...cellDefaults,\r\n      filter: 'agTextColumnFilter',\r\n    };\r\n\r\n    const gridOptions: GridOptions = {\r\n      ...defaultGridOptions,\r\n      columnDefs: [\r\n        {\r\n          headerName: 'ID',\r\n          field: 'NameId',\r\n          ...cellDefaultsTextFilter,\r\n          width: 200,\r\n          headerClass: 'dense',\r\n          cellClass: 'id-action no-padding no-outline'.split(' '),\r\n          // TODO: @SDV - most of these columns had a valueGetter that was 3 lines long\r\n          // it was easy to reduce to 1 - but actually it is not needed!\r\n          // Original - too long\r\n          // valueGetter: (params) => {\r\n          //   const feature: Feature = params.data;\r\n          //   return feature.NameId;\r\n          // },\r\n          // Optimized - 1 line - but actually not needed\r\n          // valueGetter: (params) => (params.data as Feature).NameId,\r\n          cellRenderer: IdFieldComponent,\r\n          cellRendererParams: (() => {\r\n            const params: IdFieldParams<Feature> = {\r\n              tooltipGetter: (feature: Feature) => feature.NameId,\r\n            };\r\n            return params;\r\n          })(),\r\n        },\r\n        {\r\n          field: 'Name',\r\n          ...cellDefaultsTextFilter,\r\n          flex: 3,\r\n          minWidth: 250,\r\n          cellClass: 'primary-action highlight'.split(' '),\r\n          onCellClicked: (params) => {\r\n            this.showFeatureDetails(params.data as Feature);\r\n          },\r\n          // valueGetter: (params) => (params.data as Feature).Name,\r\n        },\r\n        {\r\n          field: 'IsEnabled',\r\n          headerName: 'Enabled',\r\n          ...cellDefaults,\r\n          width: 80,\r\n          headerClass: 'dense',\r\n          filter: BooleanFilterComponent,\r\n          cellRenderer: FeaturesListEnabledComponent,\r\n          // valueGetter: (params) => (params.data as Feature).Enabled,\r\n        },\r\n        {\r\n          headerName: 'Reason',\r\n          field: 'EnabledReason',\r\n          ...cellDefaultsTextFilter,\r\n          flex: 1,\r\n          minWidth: 150,\r\n          cellRenderer: FeaturesListEnabledReasonComponent,\r\n          // valueGetter: (params) => (params.data as Feature).EnabledReason,\r\n        },\r\n        {\r\n          headerName: 'Expiration',\r\n          field: 'ExpMessage',\r\n          ...cellDefaultsTextFilter,\r\n          width: 120,\r\n          // valueGetter: (params) => (params.data as FeatureWithUi)?.ExpirationText,\r\n          tooltipValueGetter: (params) => (params.data as Feature & ExpirationExtension)?.Expiration,\r\n        },\r\n        {\r\n          headerName: '',\r\n          field: 'EnabledInConfiguration',\r\n          width: 62,\r\n          cellClass: 'secondary-action no-outline no-padding'.split(' '),\r\n          pinned: 'right',\r\n          cellRenderer: FeaturesStatusComponent,\r\n          // valueGetter: (params) => (params.data as Feature).EnabledInConfiguration,\r\n          cellRendererParams: (() => {\r\n            const params: FeaturesStatusParams & IdFieldParams<Feature> = {\r\n              isDisabled: (feature) => !feature.IsConfigurable || this.disabled$.value,\r\n              onToggle: (feature, enabled) => this.toggleFeature(feature, enabled),\r\n              tooltipGetter: (feature: Feature) => feature.IsConfigurable ? \"Toggle off | default | on\" : \"This feature can't be configured\",\r\n            };\r\n            return params;\r\n          }),\r\n        },\r\n      ],\r\n    };\r\n    return gridOptions;\r\n  }\r\n}\r\n\r\n\r\ninterface LicenseInfoViewModel {\r\n  licenses: (License & ExpirationExtension)[];\r\n}\r\n","@if (viewModel$ | async; as vm) {\r\n  <div class=\"eav-dialog\">\r\n    <div class=\"eav-dialog-header\">\r\n      <div class=\"eav-dialog-header__title\">Register this System on 2sxc Patrons</div>\r\n    </div>\r\n    <div class=\"eav-dialog-content\">\r\n      <h2>Basic Mode: Free Registration with Goodies</h2>\r\n      <p>\r\n        You can just register for free to unlock some features.\r\n        They are mainly enhancements for which we wish to contact you in case of critical security issues.\r\n      </p>\r\n      <a [innerHtml]=\"logo | safeHtml\" href=\"https://patrons.2sxc.org/\" target=\"_blank\"\r\n        style=\"width: 50%; float: right;\"></a>\r\n      <h2>Hero Mode: Support 2sxc, get Awesome Stuff</h2>\r\n      <p>\r\n        If you want to become a champion and pay a monthly contribution\r\n        to support the open-source development of 2sxc, you will get some\r\n        <a href=\"https://go.2sxc.org/bundles\" target=\"_blank\">really nice features</a> as well 🚀.\r\n      </p>\r\n      <p>\r\n        Thanks for loving and supporting 2sxc 💖\r\n      </p>\r\n      <h2>System Specs</h2>\r\n      @if (vm.systemInfoSet) {\r\n        <p>\r\n          <b>Status:</b> {{ vm.systemInfoSet.License.Owner ? \"this system is registered to \" +\r\n          vm.systemInfoSet.License.Owner : \"this system is not yet registered\" }}\r\n          <br>\r\n          <b>Fingerprint:</b> <span [tippy]=\"'Click to copy to clipboard'\"\r\n            (click)=\"copyToClipboard(vm.systemInfoSet.System.Fingerprint)\"> {{ vm.systemInfoSet.System.Fingerprint\r\n            }}</span>\r\n          <br>\r\n          <br>\r\n        </p>\r\n      }\r\n      <div class=\"eav-registration-cards\">\r\n        <mat-card class=\"eav-registration-cards__left\">\r\n          <mat-card-header>\r\n            <div mat-card-avatar>\r\n              <mat-icon class=\"eav-card-header-avatar-icon\">settings_applications</mat-icon>\r\n            </div>\r\n            <mat-card-title>Automatic Registration</mat-card-title>\r\n            <mat-card-subtitle>The simple way</mat-card-subtitle>\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <p>\r\n              This will open 2sxc Patrons and give it the system fingerprint,\r\n              so you can then log in and assign it a name and features you want to activate.\r\n            </p>\r\n          </mat-card-content>\r\n          <mat-card-actions align=\"start\">\r\n            @if (vm.systemInfoSet) {\r\n              <button mat-button class=\"eav-button__with-icon\" tippy=\"Register\"\r\n                (click)=\"openLicenseRegistration(vm.systemInfoSet)\">\r\n                <mat-icon class=\"eav-icon\">app_registration</mat-icon>\r\n                <span>Register</span>\r\n              </button>\r\n            }\r\n            <button mat-button class=\"eav-button__with-icon\" tippy=\"Retrieve license\" (click)=\"retrieveLicense()\">\r\n              <mat-icon class=\"eav-icon\">download_for_offline</mat-icon>\r\n              <span>Retrieve license</span>\r\n            </button>\r\n          </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card class=\"eav-registration-cards__right\">\r\n          <mat-card-header>\r\n            <div mat-card-avatar>\r\n              <mat-icon class=\"eav-card-header-avatar-icon\">waving_hand</mat-icon>\r\n            </div>\r\n            <mat-card-title>Manual Registration</mat-card-title>\r\n            <mat-card-subtitle>Offline or special scenarios</mat-card-subtitle>\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <p>\r\n              For offline or special scenarios you can just go to 2sxc Patrons and copy/paste the fingerprint yourself.\r\n              <br>\r\n              Click on the fingerprint above to copy it to your clipboard.\r\n            </p>\r\n            <div class=\"card-actions\">\r\n              <button mat-button class=\"eav-button__with-icon\" tippy=\"Register\" (click)=\"registerManually()\">\r\n                <mat-icon class=\"eav-icon\">app_registration</mat-icon>\r\n                <span>Register Manually</span>\r\n              </button>\r\n              <button mat-button class=\"eav-button__with-icon\" tippy=\"Upload license\" (click)=\"openLicenseUpload()\">\r\n                <mat-icon class=\"eav-icon\">cloud_upload</mat-icon>\r\n                <span>Upload license</span>\r\n              </button>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n    <!-- <mat-dialog-actions align=\"end\">\r\n      <button mat-raised-button (click)=\"closeDialog()\">\r\n        Close\r\n      </button>\r\n    </mat-dialog-actions> -->\r\n  </div>\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { editRoot, refreshEditRoot } from '../edit/edit.matcher';\r\nimport { DialogEntryComponent } from '../shared/components/dialog-entry/dialog-entry.component';\r\nimport { addAppFromFolderDialog } from './add-app-from-folder/add-app-from-folder-dialog.config';\r\nimport { appsManagementDialog } from './apps-management-nav/apps-management-dialog.config';\r\nimport { createAppDialog } from './create-app/create-app-dialog.config';\r\nimport { createInheritedAppDialog } from './create-inherited-app/create-inherited-app-dialog.config';\r\nimport { SystemInfoComponent } from './system-info/system-info.component';\r\nimport { AppsListComponent } from './apps-list/apps-list.component';\r\nimport { SiteLanguagesComponent } from './site-languages/site-languages.component';\r\nimport { LicenseInfoComponent } from './licence-info/license-info.component';\r\nimport { RegistrationComponent } from './sub-dialogs/registration/registration.component';\r\n\r\nconst appsManagementRoutes: Routes = [\r\n  {\r\n    path: '', component: DialogEntryComponent, data: { dialog: appsManagementDialog }, children: [\r\n      { path: '', redirectTo: 'system', pathMatch: 'full' },\r\n      {\r\n        path: 'system', component: SystemInfoComponent, data: { title: 'System Info' , breadcrumb: 'System Info'},\r\n        // @2dg is no longer needed as Register is a separate SideNav and no longer a dialog\r\n        //  children: [\r\n        //     GoToRegistration.getRoute()\r\n        // ]\r\n      },\r\n      { path: 'registration', component: RegistrationComponent, data: {\r\n          title: 'Registration', breadcrumb: 'Register'\r\n        }\r\n      },\r\n      {\r\n        path: 'list', component: AppsListComponent, children: [\r\n          {\r\n            path: 'import',\r\n            loadChildren: () => import('../import-app/import-app.module').then(m => m.ImportAppModule)\r\n          },\r\n          { path: 'create', component: DialogEntryComponent, data: { dialog: createAppDialog } },\r\n          { path: 'create-inherited', component: DialogEntryComponent, data: { dialog: createInheritedAppDialog } },\r\n          { path: 'add-app-from-folder', component: DialogEntryComponent, data: { dialog: addAppFromFolderDialog } },\r\n          {\r\n            path: ':appId',\r\n            loadChildren: () => import('../app-administration/app-administration.module').then(m => m.AppAdministrationModule)\r\n          },\r\n          {\r\n            matcher: editRoot,\r\n            loadChildren: () => import('../edit/edit.module').then(m => m.EditModule),\r\n          },\r\n          {\r\n            matcher: refreshEditRoot,\r\n            loadChildren: () => import('../edit/refresh-edit.module').then(m => m.RefreshEditModule)\r\n          },\r\n        ],\r\n        data: { title: 'Apps in this Zone' , breadcrumb: 'Apps' },\r\n      },\r\n      { path: 'languages', component: SiteLanguagesComponent, data: { title: 'Zone Languages' , breadcrumb: 'Languages' } },\r\n      {\r\n        path: 'license', component: LicenseInfoComponent, data: { title: 'Extensions / Features' , breadcrumb: 'Extensions and Features' },\r\n         // @2dg is no longer needed as Register is a separate SideNav and no longer a dialog\r\n        //  children: [\r\n        //   GoToRegistration.getRoute()\r\n        // ]\r\n      },\r\n    ]\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(appsManagementRoutes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppsManagementRoutingModule { }\r\n","import { Component, HostBinding, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { catchError, combineLatest, map, Observable, of, share, startWith, Subject, Subscription, switchMap } from 'rxjs';\r\nimport { GlobalConfigService } from '../../../edit/shared/store/ngrx-data/global-config.service';\r\nimport { FileUploadDialogComponent, FileUploadDialogData } from '../../../shared/components/file-upload-dialog';\r\nimport { copyToClipboard } from '../../../shared/helpers/copy-to-clipboard.helper';\r\nimport { SystemInfoSet } from '../../models/system-info.model';\r\nimport { FeaturesConfigService } from '../../services/features-config.service';\r\nimport { ZoneService } from '../../services/zone.service';\r\n\r\n// Images/Icons\r\nimport patronsLogo from '!raw-loader!./assets/2sxc-patrons.svg';\r\nimport { AsyncPipe } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { SharedComponentsModule } from '../../../shared/shared-components.module';\r\n\r\n@Component({\r\n  selector: 'app-registration',\r\n  templateUrl: './registration.component.html',\r\n  styleUrls: ['./registration.component.scss'],\r\n  standalone: true,\r\n  imports: [SharedComponentsModule, MatCardModule, MatIconModule, MatButtonModule, AsyncPipe],\r\n  providers: [ZoneService, FeaturesConfigService],\r\n\r\n})\r\nexport class RegistrationComponent implements OnInit {\r\n  @HostBinding('className') hostClass = 'dialog-component';\r\n\r\n  debugEnabled$ = this.globalConfigService.getDebugEnabled$();\r\n\r\n  private refreshSystemInfoSet$ = new Subject<void>();\r\n\r\n  viewModel$: Observable<RegistrationViewModel>;\r\n\r\n  // patrons logo\r\n  logo = patronsLogo;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<RegistrationComponent>,\r\n    private globalConfigService: GlobalConfigService,\r\n    private zoneService: ZoneService,\r\n    private featuresConfigService: FeaturesConfigService,\r\n    private snackBar: MatSnackBar,\r\n    private dialog: MatDialog,\r\n    private viewContainerRef: ViewContainerRef,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.viewModel$ = combineLatest([\r\n      this.refreshSystemInfoSet$.pipe(\r\n        startWith(undefined),\r\n        switchMap(() => this.zoneService.getSystemInfo().pipe(catchError(() => of(undefined)))),\r\n        share(),\r\n      )\r\n    ]).pipe(\r\n      map(([systemInfoSet]) => {\r\n        return { systemInfoSet };\r\n      }),\r\n    );\r\n  }\r\n\r\n  // closeDialog() {\r\n  //   this.dialogRef.close();\r\n  // }\r\n\r\n  copyToClipboard(text: string): void {\r\n    copyToClipboard(text);\r\n    this.snackBar.open('Copied to clipboard', null, { duration: 2000 });\r\n  }\r\n\r\n  openLicenseRegistration(systemInfoSet: SystemInfoSet): void {\r\n    window.open(`https://patrons.2sxc.org/register?fingerprint=${systemInfoSet.System.Fingerprint}`, '_blank');\r\n  }\r\n\r\n  retrieveLicense(): void {\r\n    this.featuresConfigService.retrieveLicense().subscribe({\r\n      error: () => {\r\n        this.snackBar.open('Failed to retrieve license. Please check console for more information', undefined, { duration: 3000 });\r\n      },\r\n      next: (info) => {\r\n        const message = `License ${info.Success ? 'Info' : 'Error'}: ${info.Message}`;\r\n        const duration = info.Success ? 3000 : 100000;\r\n        const panelClass = info.Success ? undefined : 'snackbar-error';\r\n        this.snackBar.open(message, undefined, { duration, panelClass });\r\n        this.refreshSystemInfoSet$.next();\r\n      },\r\n    });\r\n  }\r\n\r\n  registerManually(): void {\r\n    window.open(`https://patrons.2sxc.org/`, '_blank');\r\n  }\r\n\r\n  openLicenseUpload(): void {\r\n    const data: FileUploadDialogData = {\r\n      title: 'Upload license',\r\n      description: '',\r\n      allowedFileTypes: 'json',\r\n      upload$: (files) => this.featuresConfigService.uploadLicense(files[0]),\r\n    };\r\n    const dialogRef = this.dialog.open(FileUploadDialogComponent, {\r\n      data,\r\n      autoFocus: false,\r\n      viewContainerRef: this.viewContainerRef,\r\n      width: '650px',\r\n    });\r\n    dialogRef.afterClosed().subscribe((refresh?: boolean) => {\r\n      if (refresh) {\r\n        this.refreshSystemInfoSet$.next();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\ninterface RegistrationViewModel {\r\n  systemInfoSet: SystemInfoSet;\r\n}\r\n","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\r\\n<!-- Generator: Adobe Illustrator 26.5.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\\r\\n<svg version=\\\"1.1\\\" id=\\\"Ebene_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\r\\n\\t viewBox=\\\"0 0 1218.9 250\\\" style=\\\"enable-background:new 0 0 1218.9 250;\\\" xml:space=\\\"preserve\\\">\\r\\n<style type=\\\"text/css\\\">\\r\\n\\t.st0{fill:#00003E;}\\r\\n\\t.st1{enable-background:new    ;}\\r\\n\\t.st2{fill:#FFFFFF;}\\r\\n\\t.st3{fill:#323035;}\\r\\n\\t.st4{fill:#00CCFF;}\\r\\n</style>\\r\\n<path class=\\\"st0\\\" d=\\\"M164.4,250H0V85.6C0,38.4,38.4,0,85.6,0H250v164.4C250,211.6,211.6,250,164.4,250z\\\"/>\\r\\n<g class=\\\"st1\\\">\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M373.4,82.3c-8.2,1.3-13.6,4.4-19.6,10.4c-1.8,1.8-2.7,1.4-4.3-0.3l-6.1-6.5c-1.4-1.7-1.8-2.6-0.3-4.3\\r\\n\\t\\tc8.7-8.2,17.6-13.1,30.2-14.3V82.3z M380.5,67.1c27.8,2,38.5,26.7,23,45.4l-44.2,55.8h-15.5c-1,0-1.3-0.3-1.3-1.3v-1.7\\r\\n\\t\\tc0-1,0.3-1.3,1.3-2.6l45.9-56.9c8.7-10.6,3-22.2-9.2-23.6V67.1z M380.1,153.7h28.7c2.3,0,3,0.6,3,3v8.7c0,2.3-0.7,3-3,3h-40.3\\r\\n\\t\\tL380.1,153.7z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M448.8,169.6c-7.4-1.1-15.2-2.8-24.1-8.8c-2-1.4-1.7-2.3-0.7-4.3l3.1-5.4c1-2,1.7-3,4-1.3\\r\\n\\t\\tc4.8,3.3,10.2,6,17.7,7.1V169.6z M455.9,157.2c8.7-0.7,12.8-4.5,12.8-9.7c0-4.7-6.2-7-17-8.4c-14.8-2-27.7-6.5-27.7-21.7\\r\\n\\t\\tc0-13.3,10.5-22.6,28.1-23v12.6c-9.2,0.6-12.8,4.1-12.8,9.5c0,5.5,6.1,7,17,8.5c14.8,1.8,27.7,6.5,27.7,21.6\\r\\n\\t\\tc0,13.3-10.9,22.4-28.1,23.1V157.2z M459.2,94.9c6.2,1.1,12.2,2.6,20.9,7.5c2.3,1.4,1.7,2.4,0.9,4.4l-3.1,5.3c-1,2-1.8,2.8-4,1.4\\r\\n\\t\\tc-5.3-3.3-9.1-5.1-14.6-6V94.9z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M561.7,165.3c1.6,2.3,0.9,3-1.4,3h-12.6c-2,0-2.8-0.6-4.4-3L494.5,99c-1.4-2.3-0.7-3,1.4-3h12.8\\r\\n\\t\\tc2.1,0,3,0.6,4.4,3L561.7,165.3z M523.2,150.3l-10.1,15.1c-1.4,2.4-2.3,3-4.4,3H496c-2.1,0-2.8-0.7-1.4-3l19.3-27.7L523.2,150.3z\\r\\n\\t\\t M533.2,114.1L543.2,99c1.6-2.6,2.4-3,4.4-3h12.6c2.3,0,3,0.7,1.4,3l-19.2,27.8L533.2,114.1z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M604.4,109.3c-9.8,1.7-18,10.6-18,23c0,12.1,7.8,21.2,18,22.9v14.6c-19.7-1.8-34.1-18.5-34.1-37.5\\r\\n\\t\\tc0-19.2,14.3-35.8,34.1-37.6V109.3z M611.4,94.6c8.4,0.9,16,4,22.7,10.5c1.3,1.3,1,2-0.4,3.7l-5.3,5.7c-1.6,1.7-2.6,2.1-4.3,0.6\\r\\n\\t\\tc-4.3-4-8.7-5.3-12.8-6V94.6z M611.4,155.3c5.1-0.9,8.8-2.4,12.8-6c1.8-1.6,2.7-1.1,4.3,0.6l5.3,5.7c1.4,1.7,1.7,2.4,0.4,3.7\\r\\n\\t\\tc-6.8,6.5-13.9,9.5-22.7,10.5V155.3z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M705.4,165.3c-0.1,2.3-0.7,3-3,3h-11.2c-2.4,0-3-0.7-3-3V71.9c0-2.4,0.7-3,3-3h14.2V165.3z M712.6,114.6H725\\r\\n\\t\\tc14.8,0,19.6-7,19.6-15.9c0-8.7-4.8-15.5-19.6-15.5h-12.4V68.9h13.1c16.6,0,35.5,6.8,35.5,29.8S742.3,129,725.7,129h-13.1V114.6z\\\"\\r\\n\\t\\t/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M810.3,166.1c-5.5,2.8-9.7,3.8-16.5,3.8c-12.8,0-24.8-7.8-24.8-23.7c0-15.5,12.2-22.9,27.5-22.9\\r\\n\\t\\tc4.4,0,8,0.6,13.8,1.7v11.2c-4.3-1.1-6.8-1.4-9.9-1.4c-10.8,0-15.3,4.8-15.3,11.4c0,5.5,4.1,11.4,13.9,11.4c4.3,0,7.7-1.4,11.4-3.7\\r\\n\\t\\tV166.1z M817.4,127c0-13.3-3.4-18.6-16.5-18.6c-8.1,0-15.6,1.1-20.9,2.1c-2.3,0.3-2.8-0.6-3.4-2.8l-1.7-6.8\\r\\n\\t\\tc-0.6-2.3-0.3-3.1,1.8-3.7c1.7-0.4,14.3-2.7,24.8-2.7c27.1,0,31.9,11.9,31.9,34.4v36.5c0,2.3-0.6,3-3,3H822c-2,0-3.1-1-4.5-3V127z\\\"\\r\\n\\t\\t/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M851.9,109c-2.3,0-3-0.7-3-3v-7c0-2.3,0.7-3,3-3h5.3V82.1c0-2.3,0.6-3,3-3h10.1c2.3,0,3,0.7,3,3V96h21.9\\r\\n\\t\\tc2.3,0,3,0.7,3,3.1v6.8c0,2.3-0.7,3-3,3H851.9z M873.2,116.2v21.3c0,12.8,4.4,17.9,13.1,17.9c3.1,0,5.5-0.3,8.5-1.7\\r\\n\\t\\tc2.7-1.4,3.3-1.3,3.8,1.7l1.3,7.1c0.4,2.1,0.3,2.8-1.6,3.8c-5.7,3.5-11.9,3.5-13.8,3.5c-18.7,0-27.4-11.8-27.4-31.4v-22.3H873.2z\\\"\\r\\n\\t\\t/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M934.2,165.3c-0.1,2.3-0.7,3-3,3H921c-2.3,0-3-0.7-3-3V99c0-2.3,0.7-3,3-3h5.1c4.4,0,5,0.9,8.1,4.4V165.3z\\r\\n\\t\\t M941.3,99.6c3.8-2.7,8.9-5.1,18.6-5.1c2.8,0,3.1,0.9,2.8,2.8l-1.6,10.4c-0.4,2.3-1.1,2.8-3.4,2.8c-7,0-12.1,1.8-16.5,5.5V99.6z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M1003.7,169.7c-18.7-1.8-33.9-17.8-33.9-37.5c0-19.9,15.3-35.9,33.9-37.6v14.8c-10.2,1.8-17.9,11.1-17.9,22.9\\r\\n\\t\\tc0,12.2,8.1,21.3,17.9,23V169.7z M1010.8,155.3c10.2-1.7,18-11.1,18-23c0-11.9-8-21.3-18-22.9V94.6c19.2,2,34.1,18,34.1,37.6\\r\\n\\t\\tc0,19.5-14.8,35.6-34.1,37.5V155.3z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M1079.6,165.3c0,2.3-0.7,3-3,3h-10.2c-2.3,0-3-0.7-3-3V99c0-2.3,0.7-3,3-3h5.1c2.7,0,4.4,0.4,5.5,1.7l2.6,4\\r\\n\\t\\tV165.3z M1086.7,98.3c3.4-2.6,7.7-3.8,12.9-3.8c15.6,0,27.5,8.4,27.5,32.8v38.1c0,2.3-0.7,3-3,3h-10.2c-2.3,0-3-0.7-3-3v-34.5\\r\\n\\t\\tc0-15.1-5.5-21.9-15.5-21.9c-4.1,0-6.7,1.4-8.8,3.3V98.3z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M1168.2,169.6c-7.4-1.1-15.2-2.8-24.1-8.8c-2-1.4-1.7-2.3-0.7-4.3l3.1-5.4c1-2,1.7-3,4-1.3\\r\\n\\t\\tc4.8,3.3,10.2,6,17.7,7.1V169.6z M1175.3,157.2c8.7-0.7,12.8-4.5,12.8-9.7c0-4.7-6.2-7-17-8.4c-14.8-2-27.7-6.5-27.7-21.7\\r\\n\\t\\tc0-13.3,10.5-22.6,28.1-23v12.6c-9.2,0.6-12.8,4.1-12.8,9.5c0,5.5,6.1,7,17,8.5c14.8,1.8,27.7,6.5,27.7,21.6\\r\\n\\t\\tc0,13.3-10.9,22.4-28.1,23.1V157.2z M1178.5,94.9c6.2,1.1,12.2,2.6,20.9,7.5c2.3,1.4,1.7,2.4,0.9,4.4l-3.1,5.3c-1,2-1.8,2.8-4,1.4\\r\\n\\t\\tc-5.3-3.3-9.1-5.1-14.6-6V94.9z\\\"/>\\r\\n</g>\\r\\n<path class=\\\"st2\\\" d=\\\"M160.7,88.1c-2.4,0-4.8-0.5-7-1.5c-8.6-3.9-12.5-14-8.7-22.6c1.9-4.2,5.2-7.4,9.5-9c4.3-1.6,8.9-1.5,13.1,0.4\\r\\n\\tc4.2,1.8,7.4,5.1,9,9.4c1.7,4.3,1.5,9-0.3,13.2c-1.9,4.2-5.2,7.4-9.5,9C164.9,87.8,162.8,88.1,160.7,88.1z M160.7,58.1\\r\\n\\tc-1.5,0-3.1,0.3-4.6,0.9c-3.2,1.2-5.7,3.7-7.2,6.8c-2.9,6.5,0,14.1,6.5,17c3.2,1.4,6.7,1.5,9.9,0.3c3.2-1.2,5.7-3.7,7.2-6.8\\r\\n\\tc1.4-3.2,1.5-6.7,0.3-9.9c-1.2-3.2-3.6-5.7-6.8-7.1C164.3,58.5,162.5,58.1,160.7,58.1z\\\"/>\\r\\n<path class=\\\"st2\\\" d=\\\"M168,112.9c-0.8,0-1.5-0.4-1.9-1.2c-0.5-1-0.1-2.3,0.9-2.8l33.8-17.2c0.2-0.1,0.4-0.4,0.4-0.6\\r\\n\\tc0-0.2,0.1-0.5-0.1-0.8c-0.3-0.4-0.8-0.5-1.2-0.3c-0.2,0.1-0.3,0.1-0.5,0.1l-26.6,4.6c-1.1,0.2-2.2-0.6-2.4-1.7s0.6-2.2,1.7-2.4\\r\\n\\tl26.4-4.6c2.3-0.8,4.8,0,6.1,2c0.8,1.2,1.1,2.6,0.7,4c-0.3,1.4-1.2,2.6-2.4,3.3c0,0-0.1,0-0.1,0.1L169,112.7\\r\\n\\tC168.6,112.8,168.3,112.9,168,112.9z\\\"/>\\r\\n<path class=\\\"st3\\\" d=\\\"M163.4,100.9c-0.5,0-1-0.2-1.3-0.6l-2.2-2.8c-0.6-0.7-0.4-1.8,0.3-2.4c0.7-0.6,1.8-0.4,2.4,0.3l2.2,2.8\\r\\n\\tc0.6,0.7,0.4,1.8-0.3,2.4C164.1,100.8,163.8,100.9,163.4,100.9z\\\"/>\\r\\n<path class=\\\"st2\\\" d=\\\"M91.9,191.2c-0.8,0-1.7-0.2-2.4-0.5c-0.2,0-0.3-0.1-0.5-0.2c-1.5-0.8-2.5-2.1-3-3.7c-0.5-1.6-0.3-3.3,0.5-4.8\\r\\n\\tl41.2-69.2c0.6-1,1.9-1.3,2.9-0.7c1,0.6,1.3,1.9,0.7,2.9l-41.2,69.1c-0.5,0.8-0.2,1.9,0.7,2.5c0.1,0,0.2,0.1,0.3,0.1\\r\\n\\tc0.7,0.4,1.5,0.2,2.2-0.3l48.6-47.3l10.7-21.4l-1.3-24l-3.9-2.1c-0.1,0-0.2-0.1-0.2-0.1c-2.8-2.1-6.4-2.7-9.8-1.7l-25.1,8.7\\r\\n\\tl-13.3,24.1c-0.2,0.3-0.1,0.7,0.2,0.9c0.3,0.2,0.8,0.1,1-0.2l14.8-18.7c0.3-0.4,0.7-0.6,1.1-0.7l24.1-6c1.1-0.3,2.3,0.4,2.6,1.5\\r\\n\\tc0.3,1.1-0.4,2.3-1.5,2.6l-23.4,5.8L103.5,126c-1.6,2-4.5,2.4-6.6,1c-2.1-1.4-2.8-4.2-1.6-6.5L109,95.8c0.3-0.5,0.7-0.8,1.2-1\\r\\n\\tl25.9-9c4.7-1.4,9.6-0.6,13.5,2.2l4.8,2.6c0.6,0.4,1,1,1.1,1.7l1.4,25.7c0,0.4-0.1,0.7-0.2,1.1l-11.1,22.2c-0.1,0.2-0.2,0.4-0.4,0.6\\r\\n\\tl-48.9,47.6c0,0-0.1,0.1-0.1,0.1C94.9,190.6,93.4,191.2,91.9,191.2z\\\"/>\\r\\n<path class=\\\"st2\\\" d=\\\"M135.9,186.4c-1.5,0-3-0.6-4.1-1.7c-1.9-2.1-2.1-5.2-0.4-7.5l10.8-13.9l-6.3-6.4c-0.8-0.8-0.8-2.2,0-3\\r\\n\\tc0.8-0.8,2.2-0.8,3,0l7.6,7.7c0.7,0.8,0.8,1.9,0.2,2.8l-11.9,15.3c-0.5,0.6-0.4,1.5,0.1,2.1c0.6,0.6,1.5,0.6,2.2,0l23.5-20.8\\r\\n\\tl-14.2-15.3c-0.8-0.9-0.7-2.2,0.1-3c0.9-0.8,2.2-0.7,3,0.1l15.7,16.9c0.4,0.4,0.6,1,0.6,1.5c0,0.6-0.3,1.1-0.7,1.5L139.7,185\\r\\n\\tC138.6,185.9,137.2,186.4,135.9,186.4z\\\"/>\\r\\n<g>\\r\\n\\t<path class=\\\"st4\\\" d=\\\"M116.8,87.4l-62.5,10c-0.7,0.1-1,0.9-0.7,1.5c2.3,4,9.2,17.2,6.1,28.1c-3.6,12.9-10,42.1,20.7,53\\r\\n\\t\\tc0.4,0.2,1,0,1.2-0.4l39.3-65.2c0.5-0.8-0.2-1.7-1.1-1.5l-1.3,0.4c-0.2,0.1-0.4,0.2-0.5,0.3l-12.5,15.7c0,0.1-0.1,0.1-0.2,0.2\\r\\n\\t\\tc-3.1,2.6-7.7,2.5-10.7-0.1l-0.1-0.1c-2.8-2.5-3.7-6.5-2-9.9l13.8-26.5c0.1-0.2,0.3-0.4,0.5-0.5l10.7-3.3\\r\\n\\t\\tC118.4,88.7,117.9,87.2,116.8,87.4z\\\"/>\\r\\n\\t<path class=\\\"st0\\\" d=\\\"M80.8,182.1c-0.4,0-0.8-0.1-1.1-0.2c-22.5-8-29.9-26.7-21.9-55.4c2.9-10.1-3.8-22.9-5.9-26.6\\r\\n\\t\\tc0,0,0-0.1-0.1-0.1c-0.4-0.9-0.4-1.9,0-2.8c0.4-0.8,1.2-1.4,2.2-1.5l62.5-10c1.5-0.3,2.9,0.6,3.4,2.1c0.4,1.4-0.2,2.8-1.5,3.4\\r\\n\\t\\tc-0.1,0-0.1,0.1-0.2,0.1l-10.2,3.1l-13.6,26.2c-1.3,2.5-0.6,5.5,1.6,7.5c0,0,0.1,0.1,0.1,0.1l0,0c2.3,1.9,5.7,2,8,0.1c0,0,0,0,0,0\\r\\n\\t\\tl12.5-15.6c0-0.1,0.1-0.1,0.2-0.2c0.3-0.3,0.7-0.5,1-0.7c0.1,0,0.2-0.1,0.3-0.1l1.3-0.4c0.1,0,0.1,0,0.2,0c1.2-0.3,2.5,0.2,3.2,1.2\\r\\n\\t\\tc0.7,1,0.7,2.3,0.1,3.3l-39.3,65.1c-0.3,0.6-0.9,1.1-1.6,1.3C81.4,182,81.1,182.1,80.8,182.1z M56,99.1c3.2,5.8,8.6,17.9,5.6,28.4\\r\\n\\t\\tc-7.4,26.4-1.3,42.9,18.7,50.3l34-56.4l-7.1,8.9c-0.1,0.2-0.4,0.5-0.7,0.7c-3.8,3.2-9.5,3.1-13.3-0.1c0,0-0.1-0.1-0.1-0.1l-0.1-0.1\\r\\n\\t\\tc-3.5-3.2-4.5-8.1-2.4-12.2L104.5,92c0.1-0.2,0.3-0.5,0.5-0.7L56,99.1z M106.7,130.9C106.7,130.9,106.7,130.9,106.7,130.9\\r\\n\\t\\tC106.7,130.9,106.7,130.9,106.7,130.9z M103.5,129.3C103.5,129.3,103.5,129.3,103.5,129.3C103.5,129.3,103.5,129.3,103.5,129.3z\\r\\n\\t\\t M103.5,129.3C103.5,129.3,103.5,129.3,103.5,129.3C103.5,129.3,103.5,129.3,103.5,129.3z M103.5,129.3L103.5,129.3L103.5,129.3z\\r\\n\\t\\t M119.2,113.4C119.2,113.4,119.2,113.4,119.2,113.4L119.2,113.4z M54.6,99.4L54.6,99.4C54.6,99.4,54.6,99.4,54.6,99.4z M108.1,93.8\\r\\n\\t\\tL108.1,93.8C108.1,93.8,108.1,93.8,108.1,93.8z M117.2,89.4C117.2,89.4,117.2,89.4,117.2,89.4C117.2,89.4,117.2,89.4,117.2,89.4z\\\"\\r\\n\\t\\t/>\\r\\n</g>\\r\\n</svg>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { MAT_SELECT_CONFIG} from '@angular/material/select';\r\nimport { MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS } from '@angular/material/slide-toggle';\r\nimport { Context } from '../shared/services/context';\r\nimport { AppsManagementRoutingModule } from './apps-management-routing.module';\r\n@NgModule({\r\n    imports: [\r\n        AppsManagementRoutingModule,\r\n    ],\r\n    providers: [\r\n        // Is use in the top level of Compontent tree\r\n        Context,\r\n        // @2dg, no impact of style since angular 16+\r\n        // { provide: MAT_SELECT_CONFIG, useValue: { hideSingleSelectionIndicator: true } },\r\n        // { provide: MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS, useValue: { hideIcon: true } }\r\n    ],\r\n})\r\nexport class AppsManagementModule { }\r\n","import { Context as DnnContext } from '@2sic.com/sxc-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { webApiAppRoot } from '../../import-app/services/import-app.service';\r\nimport { Context } from '../../shared/services/context';\r\nimport { App, PendingApp } from '../models/app.model';\r\n\r\n@Injectable()\r\nexport class AppsListService {\r\n  constructor(private http: HttpClient, private context: Context, private dnnContext: DnnContext) { }\r\n\r\n  private apiUrl(name: string) {\r\n    return this.dnnContext.$2sxc.http.apiUrl(name);\r\n  }\r\n\r\n  getAll() {\r\n    return this.http.get<App[]>(this.apiUrl(webApiAppRoot + 'list'), {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  getInheritable() {\r\n    return this.http.get<App[]>(this.apiUrl(webApiAppRoot + 'InheritableApps'), {\r\n      params: { zoneId: this.context.zoneId.toString() }\r\n    });\r\n  }\r\n\r\n  getPendingApps() {\r\n    return this.http.get<PendingApp[]>(this.apiUrl(webApiAppRoot + 'GetPendingApps'), {\r\n      params: { zoneId: this.context.zoneId.toString() },\r\n    });\r\n  }\r\n\r\n  create(name: string, inheritAppId?: number, templateId?: number) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRoot + 'app'), {}, {\r\n      params: {\r\n        zoneId: this.context.zoneId.toString(),\r\n        name,\r\n        ...(inheritAppId != null && { inheritAppId }),\r\n        ...(templateId != null && { templateId }),\r\n      },\r\n    });\r\n  }\r\n\r\n  installPendingApps(pendingApps: PendingApp[]) {\r\n    return this.http.post<null>(this.apiUrl(webApiAppRoot + 'InstallPendingApps'), pendingApps, {\r\n      params: {\r\n        zoneId: this.context.zoneId.toString(),\r\n      },\r\n    });\r\n  }\r\n\r\n  delete(appId: number) {\r\n    return this.http.delete<null>(this.apiUrl(webApiAppRoot + 'app'), {\r\n      params: { zoneId: this.context.zoneId.toString(), appId: appId.toString() },\r\n    });\r\n  }\r\n\r\n  flushCache(appId: number) {\r\n    return this.http.get<null>(this.apiUrl(webApiAppRoot + 'flushcache'), {\r\n      params: { zoneId: this.context.zoneId.toString(), appId: appId.toString() },\r\n    });\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}
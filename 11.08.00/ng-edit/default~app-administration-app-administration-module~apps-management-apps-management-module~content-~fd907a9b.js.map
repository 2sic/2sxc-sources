{"version":3,"sources":["C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/constants/constants.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agCheckbox.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/maxDivHeightScaler.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/colDef.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/floating/provided/readOnlyFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/filterLocaleText.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/context/beanStub.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowDragComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/interfaces/iChartOptions.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/main.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/modules/moduleNames.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerRootComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/column.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/managedFocusComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/popupTextCellEditor.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/rowPosition.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/grid.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/popupEditorWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/events.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/angularRowUtils.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellRenderers/groupCellRenderer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/event.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/largeTextCellEditor.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/tooltipComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExport/gridSerializer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/simpleFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/focusController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/text/textFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agAbstractField.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agDialog.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/rowNode.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/map.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/dndSourceComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/date/dateCompWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agSelect.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/selectionController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/promise.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/number/numberFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/component.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/columnAnimationService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/main.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/cellNavigationService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/styling/stylingService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/headerPosition.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/valueService/changeDetectionService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/headerComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/dragAndDrop/dragService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/index.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agInputTextField.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/floating/provided/simpleFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/object.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/userComponentRegistry.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/agStackComponentsRegistry.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerGroup/headerGroupWrapperComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/environment.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/touchListener.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/number/numberFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agAbstractInputField.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/misc/simpleHttpRequest.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/date.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/angular/node_modules/tslib/tslib.es6.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/vanillaFrameworkOverrides.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agList.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/autoHeightCalculator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/csv.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/utils.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/autoGroupColService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/dom.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/context/context.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/modules/rowNodeCache/rowNodeBlockLoader.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/all-modules/dist/es6/main.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/providedFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/number.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/immutableService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/columnGroup.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/popupSelectCellEditor.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/colDefUtil.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/bodyDropTarget.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellRenderers/animateSlideCellRenderer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/infinite-row-model/dist/es6/infiniteRowModel/infiniteRowModel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerRowComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agGroupComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/timer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/infinite-row-model/dist/es6/infiniteRowModelModule.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridPanel/rowDragFeature.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/rowNode.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/agComponentUtils.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/optionsFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridPanel/scrollVisibleService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/floating/provided/textInputFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agPanel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/agGridWebComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridPanel/gridPanel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerContainer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExport/csvCreator.js","./src/app/shared/constants/default-grid-options.constants.ts","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/tooltipFeature.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnApi.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/popupComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/headerWrapperComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agInputTextArea.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/autoWidthCalculator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellRenderers/animateShowChangeCellRenderer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/undoRedo/undoRedoService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/valueFormatterService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/alignedGridsService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/clientSideNodeManager.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridApi.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/clientSideRowModel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/beans.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/virtualList.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/pagination/paginationComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/overlays/noRowsOverlayComponent.js","@ag-grid-community/angular/lib/ag-grid-column.component.ts","@ag-grid-community/angular/lib/angularFrameworkOverrides.ts","@ag-grid-community/angular/lib/angularFrameworkComponentWrapper.ts","@ag-grid-community/angular/lib/ag-grid-angular.component.ts","@ag-grid-community/angular/lib/ag-grid-angular.module.ts","@ag-grid-community/angular/ag-grid-community-angular.ts","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/selectCellEditor.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/main.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExportModule.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/componentMetadataProvider.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/valueService/valueCache.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowCssClassCalculator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/misc/resizeObserverService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridPanel/navigationService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridOptionsWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/pinnedRowModel/pinnedRowModel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/features/setLeftFeature.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/filterStage.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rowNodes/selectableService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/horizontalResizeService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/icon.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/changedPath.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/detailRowCompCache.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/interfaces/iRangeController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/functions.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/modules/moduleRegistry.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExport/xmlFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/overlays/overlayWrapperComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/dragAndDrop/dragAndDropService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/floating/floatingFilterWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/groupInstanceIdCreator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/modules/rowNodeCache/rowNodeBlock.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/generic.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/defaultColumnTypes.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellRenderers/loadingCellRenderer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/columnHoverService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/function.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/componentUtil.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/filterService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/browser.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/sideBar.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/infinite-row-model/dist/es6/infiniteRowModel/infiniteBlock.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/pagination/paginationAutoPageSizeService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agAngleSelect.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridPanel/mouseEventService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agColorPicker.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/bodyDropPivotTarget.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/sortService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnUtils.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/standardMenu.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/undoRedo/undoRedoStack.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellEditors/textCellEditor.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/floating/floatingFilterMapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnKeyCreator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/cssClassApplier.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/date/dateFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/componentAnnotations.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/aria.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/gridCore.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/string.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/constants/keyCode.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/propertyKeys.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/set.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExport/downloader.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/infinite-row-model/dist/es6/infiniteRowModel/infiniteCache.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/popupService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/filterManager.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/selectAllFeature.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/flattenStage.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/originalColumnGroup.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agInputNumberField.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/displayedGroupCreator.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/array.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowContainerComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/componentTypes.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/entities/cellPosition.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/numberSequence.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/eventService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/modules/rowNodeCache/rowNodeCache.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/valueService/valueService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/hoverFeature.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agRadioButton.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/userComponentFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/framework/frameworkComponentWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/columnController/columnDefFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/headerNavigationService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/fuzzyMatch.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/color.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agSlider.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/components/agGridNg1.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModelModule.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/date/dateFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerGroup/headerGroupComp.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/infinite-row-model/dist/es6/main.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/client-side-row-model/dist/es6/clientSideRowModel/sortStage.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agInputRange.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/rowRenderer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agPickerField.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/csv-export/dist/es6/csvExport/zipContainer.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/overlays/loadingOverlayComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/valueService/expressionService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agToggleButton.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/misc/animationFrameService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/date/defaultDateComponent.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/logger.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/cellRendererFactory.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/mouse.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/header/abstractHeaderWrapper.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/sortController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/keyboard.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/utils/general.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agAbstractLabel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/text/textFloatingFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/eventKeys.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/pagination/paginationProxy.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/filter/provided/scalarFilter.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/templateService.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/layout/tabbedLayout.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/widgets/agColorPanel.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/headerRendering/moveColumnController.js","C:/Projects/2sxc/eav-item-dialog-angular/node_modules/@ag-grid-community/core/dist/es6/rendering/checkboxSelectionComponent.js"],"names":["Constants","STEP_EVERYTHING","STEP_FILTER","STEP_SORT","STEP_MAP","STEP_AGGREGATE","STEP_PIVOT","ROW_BUFFER_SIZE","LAYOUT_INTERVAL","BATCH_WAIT_MILLIS","EXPORT_TYPE_DRAG_COPY","EXPORT_TYPE_CLIPBOARD","EXPORT_TYPE_EXCEL","EXPORT_TYPE_CSV","ROW_MODEL_TYPE_INFINITE","ROW_MODEL_TYPE_VIEWPORT","ROW_MODEL_TYPE_CLIENT_SIDE","ROW_MODEL_TYPE_SERVER_SIDE","ALWAYS","ONLY_WHEN_GROUPING","PINNED_TOP","PINNED_BOTTOM","DOM_LAYOUT_NORMAL","DOM_LAYOUT_PRINT","DOM_LAYOUT_AUTO_HEIGHT","GROUP_AUTO_COLUMN_ID","SOURCE_PASTE","PINNED_RIGHT","PINNED_LEFT","SORT_ASC","SORT_DESC","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","AgCheckbox","_super","config","className","inputType","_this","call","labelAlignment","selected","readOnly","passive","addInputListeners","addManagedListener","eInput","onCheckboxClick","bind","eLabel","toggle","getNextValue","undefined","setPassive","isReadOnly","setReadOnly","addOrRemoveCssClass","eWrapper","disabled","setDisabled","nextValue","dispatchChange","setValue","getValue","isSelected","value","silent","refreshSelectedClass","setSelected","setName","name","input","getInputElement","checked","indeterminate","event","dispatchEvent","type","EVENT_CHANGED","checkboxChangedEvent","Events","EVENT_CHECKBOX_CHANGED","id","eventService","e","Autowired","AgAbstractInputField","MaxDivHeightScaler","apply","scrollY","uiBodyHeight","postConstruct","EVENT_BODY_HEIGHT_CHANGED","updateOffset","scrollBarWidth","gridOptionsWrapper","getScrollbarWidth","maxDivHeight","getMaxDivHeight","registerGridComp","gridPanel","isScaling","scaling","getOffset","offset","newScrollY","getVScrollPosition","top","newBodyHeight","getUiBodyHeight","atLeastOneChanged","calculateOffset","uiContainerHeight","pixelsToShave","modelHeight","maxScrollY","scrollPercent","setOffset","clearOffset","newOffset","newOffsetFloor","Math","floor","EVENT_HEIGHT_SCALE_CHANGED","setModelHeight","getUiContainerHeight","getRealPixelPosition","modelPixel","pos","bottom","getScrollPositionForPixel","rowTop","modelMaxScroll","scrollPixel","PostConstruct","Bean","BeanStub","COL_DEF_PARAM_OBJECTS","ReadOnlyFloatingFilter","destroy","init","params","displayName","columnController","getDisplayNameForColumn","column","eFloatingFilterText","setInputAriaLabel","onParentModelChanged","parentModel","parentFilterInstance","filterInstance","getModelAsString","modelAsString","RefSelector","Component","DEFAULT_FILTER_LOCALE_TEXT","applyFilter","clearFilter","resetFilter","cancelFilter","textFilter","numberFilter","dateFilter","setFilter","filterOoo","empty","equals","notEqual","lessThan","greaterThan","inRange","inRangeStart","inRangeEnd","lessThanOrEqual","greaterThanOrEqual","contains","notContains","startsWith","endsWith","andCondition","orCondition","dateFormatOoo","destroyFunctions","destroyed","getContext","context","isAlive","getFrameworkOverrides","frameworkOverrides","forEach","func","EVENT_DESTROYED","addEventListener","eventType","listener","localEventService","EventService","removeEventListener","dispatchEventAsync","window","setTimeout","object","HTMLElement","addSafePassiveEventListener","destroyFunc","filter","fn","push","addDestroyFunc","createManagedBean","bean","res","createBean","destroyBean","afterPreCreateCallback","destroyBeans","beans","PreDestroy","RowDragComp","rowNode","cellValue","eGui","getGui","appendChild","createIconNoSpan","addDragSource","checkCompatibility","strategy","isRowDragManaged","ManagedVisibilityStrategy","NonManagedVisibilityStrategy","getSelectedCount","multiRowEnabled","isEnableMultiRowDragging","selection","selectionController","getSelectedNodes","indexOf","managed","treeData","isTreeData","doOnce","console","warn","dragItem","columns","defaultTextValue","rowDragText","getColDef","dragSource","DragSourceType","RowDrag","eElement","dragItemName","dragItemCount","getDragItem","dragStartPixels","dragAndDropService","removeDragSource","VisibilityStrategy","parent","setDisplayedOrVisible","neverDisplayed","setDisplayed","shown","isRowDrag","isShownSometimes","isFunction","rowDrag","setVisible","onSuppressRowDrag","RowNode","EVENT_DATA_CHANGED","workOutVisibility","EVENT_CELL_CHANGED","isSuppressRowDrag","EVENT_SORT_CHANGED","EVENT_FILTER_CHANGED","EVENT_COLUMN_ROW_GROUP_CHANGED","rowDragFeature","getRowDragFeature","shouldPreventRowMove","suppressRowDrag","hasExternalDropZones","ChartType","LegendPosition","ModuleNames","HeaderRootComp","TEMPLATE","headerContainers","Map","printLayout","getDomLayout","gridApi","registerHeaderRootComp","autoWidthCalculator","registerHeaderContainer","HeaderContainer","eHeaderContainer","eHeaderViewport","ePinnedLeftHeader","ePinnedRightHeader","container","headerNavigationService","registerHeaderRoot","GridOptionsWrapper","PROP_DOM_LAYOUT","onDomLayoutChanged","EVENT_COLUMN_PIVOT_MODE_CHANGED","onPivotModeChanged","addPreventHeaderScroll","isReady","refreshHeader","setupDragAndDrop","headerContainer","set","onTabKeyDown","isRtl","isEnableRtl","direction","shiftKey","HeaderNavigationDirection","LEFT","RIGHT","navigateHorizontally","focusController","focusNextGridCoreContainer","preventDefault","handleKeyDown","keyCode","KeyCode","exists","UP","DOWN","navigateVertically","onFocusOut","relatedTarget","document","activeElement","clearFocusedHeader","newValue","setHorizontalScroll","style","transform","forEachHeaderElement","callback","childContainer","refresh","pivotMode","isPivotMode","setHeight","height","px","minHeight","scrollLeft","scrollHorizontally","getHeaderContainers","setHeaderContainerWidth","width","setLeftVisible","visible","setRightVisible","ManagedFocusComponent","Column","colDef","userProvidedColDef","colId","primary","moving","menuVisible","filterActive","rowGroupActive","pivotActive","aggregationActive","setState","sort","initialSort","sortIndex","attrToNumber","initialSortIndex","hide","attrToBoolean","initialHide","pinned","setPinned","initialPinned","flex","initialFlex","setColDef","getUserProvidedColDef","setParent","getParent","setOriginalParent","originalParent","getOriginalParent","initialise","minColWidth","getMinColWidth","maxColWidth","getMaxColWidth","minWidth","maxWidth","resetActualWidth","suppressDotNotation","isSuppressFieldDotNotation","fieldContainsDots","field","tooltipFieldContainsDots","tooltipField","validate","actualWidth","columnUtils","calculateColInitialWidth","isEmptyGroup","isRowGroupDisplayed","missing","showRowGroup","showingAllGroups","showingThisGroup","getUniqueId","getId","isPrimary","isFilterAllowed","filterDefined","filterFramework","isFieldContainsDots","isTooltipFieldContainsDots","colDefAny","warnOnce","msg","obj","ModuleRegistry","isRegistered","RowGroupingModule","rowGroupingItems","item","isPackageBased","RichSelectModule","cellEditor","DateTimeCellEditorModule","itemsNotAllowedWithTreeData","createIsColumnFuncParams","node","data","api","getApi","columnApi","getColumnApi","isSuppressNavigable","suppressNavigable","userFunc","isCellEditable","group","isEnableGroupEdit","isColumnFunc","editable","isDndSource","dndSource","isCellCheckboxSelection","checkboxSelection","isSuppressPaste","suppressPaste","isResizable","resizable","editableFunc","setMoving","source","createColumnEvent","EVENT_MOVING_CHANGED","isMoving","getSort","setSort","setMenuVisible","EVENT_MENU_VISIBLE_CHANGED","isMenuVisible","isSortAscending","isSortDescending","isSortNone","isSorting","getSortIndex","setSortIndex","sortOrder","setAggFunc","aggFunc","getAggFunc","getLeft","left","getOldLeft","oldLeft","getRight","setLeft","EVENT_LEFT_CHANGED","isFilterActive","setFilterActive","active","additionalEventAttributes","EVENT_FILTER_ACTIVE_CHANGED","filterChangedEvent","mergeDeep","setFirstRightPinned","firstRightPinned","EVENT_FIRST_RIGHT_PINNED_CHANGED","setLastLeftPinned","lastLeftPinned","EVENT_LAST_LEFT_PINNED_CHANGED","isFirstRightPinned","isLastLeftPinned","isPinned","isPinnedLeft","isPinnedRight","getPinned","EVENT_VISIBLE_CHANGED","isVisible","getColumnGroupShow","columnGroupShow","getColId","getDefinition","getActualWidth","createBaseColDefParams","getColSpan","colSpan","max","getRowSpan","rowSpan","setActualWidth","min","EVENT_WIDTH_CHANGED","isGreaterThanMax","getMinWidth","getMaxWidth","getFlex","setFlex","setMinimum","setRowGroupActive","rowGroup","EVENT_ROW_GROUP_CHANGED","isRowGroupActive","setPivotActive","pivot","EVENT_PIVOT_CHANGED","isPivotActive","isAnyFunctionActive","isValueActive","isAnyFunctionAllowed","isAllowPivot","isAllowRowGroup","isAllowValue","setValueActive","EVENT_VALUE_CHANGED","enablePivot","enableValue","enableRowGroup","getMenuTabs","defaultValues","menuTabs","isLockPosition","lockPosition","isLockVisible","lockVisible","isLockPinned","lockPinned","template","isFocusableContainer","skipTabGuardFocus","focusableElement","getFocusableElement","addCssClass","FOCUS_MANAGED_CLASS","topTabGuard","createTabGuard","bottomTabGuard","addTabGuards","activateTabGuards","forEachTabGuard","guard","onFocus","addKeyDownListeners","onFocusIn","focusInnerElement","fromBottom","focusable","findFocusableElements","tabGuardsAreActive","splice","focus","defaultPrevented","deactivateTabGuards","nextRoot","findNextFocusableElement","forceFocusOutOfContainer","up","tabGuardToFocus","newChild","isNodeOrElement","insertAdjacentElement","side","tabGuard","createElement","classList","add","setAttribute","focusableEl","TAB","removeAttribute","hasAttribute","clearGui","clearElement","PopupTextCellEditor","isPopup","TextCellEditor","RowPositionUtils","getFirstRow","rowIndex","rowPinned","pinnedRowModel","getPinnedTopRowCount","rowModel","getRowCount","paginationProxy","getPageFirstRow","getPinnedBottomRowCount","getLastRow","pinnedBottomCount","pinnedTopCount","getPageLastRow","getRowNode","gridRow","getPinnedTopRowData","getPinnedBottomRowData","getRow","sameRow","rowA","rowB","before","Grid","eGridDiv","gridOptions","error","debug","registeredModules","getRegisteredModules","beanClasses","createBeansList","providedBeanInstances","createProvidedBeans","contextParams","logger","Logger","contextLogger","Context","registerModuleUserComponents","registerStackComponents","gridCoreClass","rootComponent","GridCore","gridCore","setColumnsAndData","dispatchGridReadyEvent","isEnterprise","EnterpriseCoreModule","log","agStackComponents","createAgStackComponentsList","agStackComponentsRegistry","getBean","setupComponents","passedViaConstructor","modules","registered","allModules","mapNames","addModule","moduleBased","module","addIndividualModule","moduleName","register","dependantModules","userComponentRegistry","moduleUserComps","extractModuleEntity","userComponents","compMeta","registerDefaultComponent","componentName","componentClass","VanillaFrameworkOverrides","seed","$scope","$compile","quickFilterOnScope","globalEventListener","assign","components","AgRadioButton","AgToggleButton","AgInputTextField","AgInputTextArea","AgInputNumberField","AgInputRange","AgSelect","AgSlider","AgAngleSelect","AgColorPicker","GridPanel","PaginationComp","OverlayWrapperComponent","AgGroupComponent","AgPanel","AgDialog","moduleAgStackComps","concat","rowModelClass","getRowModelClass","Beans","CellPositionUtils","HeaderPositionUtils","PaginationAutoPageSizeService","GridApi","UserComponentRegistry","AgComponentUtils","ComponentMetadataProvider","ResizeObserverService","UserComponentFactory","AutoHeightCalculator","CellRendererFactory","HorizontalResizeService","PinnedRowModel","DragService","DisplayedGroupCreator","PopupService","SelectionController","FilterManager","ColumnController","HeaderNavigationService","PaginationProxy","RowRenderer","ExpressionService","ColumnFactory","TemplateService","AlignedGridsService","NavigationService","ValueCache","ValueService","LoggerFactory","ColumnUtils","AutoWidthCalculator","StandardMenuFactory","DragAndDropService","ColumnApi","FocusController","MouseEventService","Environment","CellNavigationService","ValueFormatterService","StylingService","ScrollVisibleService","SortController","ColumnHoverService","ColumnAnimationService","SelectableService","AutoGroupColService","ChangeDetectionService","AnimationFrameService","DetailRowCompCache","UndoRedoService","AgStackComponentsRegistry","ColumnDefFactory","RowCssClassCalculator","moduleBeans","beansNoDuplicates","moduleEntities","extractor","map","columnDefs","getColumnDefs","setColumnDefs","start","readyEvent","EVENT_GRID_READY","rowModelType","rowModelClasses","iterateObject","rowModels","InfiniteRowModelModule","ViewportRowModelModule","ServerSideRowModelModule","ClientSideRowModelModule","PopupEditorWrapper","getGuiCalledOnChild","onKeyDown","isUserSuppressingKeyboardEvent","setDomData","DOM_KEY_POPUP_EDITOR_WRAPPER","afterGuiAttached","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","PopupComponent","__assign","t","s","n","AngularRowUtils","createChildScopeOrNull","parentScope","isAngularCompileRows","newChildScope","$new","$destroy","scope","scopeDestroyFunc","GroupCellRenderer","isGroupIncludeTotalFooter","assignBlankValueToGroupFooterCell","embeddedRowMismatch","isEmbeddedRowMismatch","nullValue","skipCell","isGroupIncludeFooter","isGroupHideOpenParents","footer","rowGroupColumnId","rowGroupColumn","cellIsBlank","setupDragOpenParents","addExpandAndContract","addCheckboxIfNeeded","addValueElement","setupIndent","level","fullWidth","isEmbedFullWidthRows","pinnedLeftCell","pinnedRightCell","bodyCell","isPinningLeft","setIndent","fullWithRow","manyDimensionThisColumn","paddingCount","uiLevel","userProvidedPaddingPixelsTheDeprecatedWay","padding","setPaddingDeprecatedWay","indentClass","removeCssClass","paddingPx","paddingSide","suppressPadding","EVENT_UI_LEVEL_CHANGED","displayedGroup","createFooterCell","hasChildren","get","createGroupCell","addChildCount","createLeafCell","footerValueGetter","footerValue","paramsClone","cloneObject","expressionService","evaluate","eValue","innerHTML","columnToUse","groupName","valueFormatted","valueFormatterService","formatValue","rendererPromise","useFullWidth","useInnerRenderer","cellRendererParams","then","innerCellRenderer","groupCellRendererParams","groupedColumnDef","cellRendererPromise","groupInnerRendererClass","userComponentFactory","lookupComponentClassDef","component","ComponentSource","DEFAULT","newInnerCellRenderer","groupColumnRendererClass","newCellRenderer","rendererToUse","innerText","bindCellRendererToHtmlElement","newFullWidthGroupRowInnerCellRenderer","suppressCount","EVENT_ALL_CHILDREN_COUNT_CHANGED","updateChildCount","allChildrenCount","eChildCount","isUserWantsSelected","paramsCheckbox","checkbox","checkboxNeeded","detail","cbSelectionComponent_1","CheckboxSelectionComponent","eCheckbox","eGroupCell","eGridCell","eExpandedIcon","eContractedIcon","setAriaExpanded","expanded","eExpanded","eContracted","onExpandClicked","EVENT_EXPANDED_CHANGED","showExpandAndContractIcons","expandableChangedListener","onRowNodeIsExpandableChanged","EVENT_MASTER_CHANGED","EVENT_HAS_CHILDREN_CHANGED","isExpandable","suppressDoubleClickExpand","onCellDblClicked","enterKeyPressed","isKeyPressed","ENTER","suppressEnterExpand","cellEditable","onExpandOrContract","draggedFromHideOpenParents","pointer","mouseEvent","isStopPropagationForAgGrid","stopPropagationForAgGrid","targetIsExpandIcon","isElementInEventPath","nextExpandState","setExpanded","reducedLeafNode","leafGroup","_a","removeAriaExpanded","pivotModeAndLeafGroup","notExpandable","addLeafIndentClass","AG_GRID_STOP_PROPAGATION","PASSIVE_EVENTS","OUTSIDE_ANGULAR_EVENTS","supports","isEventSupported","tags","select","change","submit","reset","load","abort","eventName","el","isSupported","getCellCompForEvent","sourceElement","getTarget","renderedCell","getDomData","parentElement","addChangeListener","element","eventNoType","srcElement","getEventPath","createEventPath","addAgGridEventPath","__agGridEventPath","deepPath","path","composedPath","isPassive","includes","isOutsideAngular","options","addEventListenerOutsideAngular","LargeTextCellEditor","focusAfterAttached","cellStartedEdit","eTextArea","setMaxLength","maxLength","setCols","cols","setRows","rows","toString","addGuiEventListener","which","stopPropagation","parseValue","TooltipComponent","BaseGridSerializingSession","groupColumns","valueService","processCellCallback","processHeaderCallback","processGroupHeaderCallback","processRowGroupCallback","prepare","columnsToExport","_","col","extractHeaderValue","getHeaderName","extractRowCellValue","index","groupIndex","isGroupMultiAutoColumn","rowGroupIndex","renderGroupSummaryCell","isGroupUseEntireRow","valueForCell","createValueForGroupNode","processCell","keys","reverse","join","GridSerializer","serialize","gridSerializingSession","rowSkipper","shouldRowBeSkipped","skipSingleChildrenGroup","isGroupRemoveSingleChildren","skipLowestSingleChildrenGroup","isGroupRemoveLowestSingleChildren","rowModelNormal","getType","onlySelectedNonStandardModel","onlySelected","existsAndNotEmpty","columnKeys","getGridColumns","allColumns","getAllPrimaryColumns","getAllDisplayedColumns","customHeader","addCustomContent","columnGroups","groupInstanceIdCreator","GroupInstanceIdCreator","displayedGroups","displayedGroupCreator","createDisplayedGroups","getGridBalancedTree","recursivelyAddHeaderGroups","skipHeader","gridRowIterator_1","onNewHeaderRow","onColumn","forEachPinnedTopRow","processRow","forEachPivotNode","forEachNode","onlySelectedAllPages","selectedNodes","forEachNodeAfterFilterAndSort","forEachPinnedBottomRow","customFooter","shouldSkipLowestGroup","shouldSkipCurrentGroup","skipGroups","skipFooters","skipPinnedTop","skipPinnedBottom","nodeIsRootNode","rowAccumulator","onNewBodyRow","getCustomContentBelowRow","content","parse","directChildrenHeaderGroups","columnGroupChild","columnGroup","getChildren","it","ColumnGroup","doAddHeaderHeader","gridRowIterator","onNewHeaderGroupingRow","columnIndex","getDisplayNameForColumnGroup","getLeafColumns","RowType","ConditionPosition","SimpleFilter","showValueFrom","doesFilterHaveHiddenInput","EMPTY","showValueTo","IN_RANGE","onFloatingFilterChanged","setTypeFromFloatingFilter","setValueFromFloatingFilter","onUiChanged","eType1","eType2","optionsFactory","getDefaultOption","isDefaultOperator","eJoinOperatorAnd","eJoinOperatorOr","getModelFromUi","isConditionUiComplete","One","isAllowTwoConditions","Two","filterType","getFilterType","operator","getJoinOperator","condition1","createCondition","condition2","getCondition1Type","getCondition2Type","areModelsEqual","a","aIsSimple","bIsSimple","oneSimpleOneCombined","aSimple","bSimple","areSimpleModelsEqual","aCombined","bCombined","setModelIntoUi","model","isCombined","combinedModel","orChecked","setConditionIntoUi","simpleModel","Promise","resolve","doesFilterPass","getModel","models","combineFunction","some","every","m","individualConditionPasses","setParams","OptionsFactory","getDefaultFilterOptions","allowTwoConditions","suppressAndOrCondition","alwaysShowBothConditions","defaultJoinOperator","getDefaultJoinOperator","putOptionsIntoDropdown","addChangedListeners","filterOptions","getFilterOptions","option","text","translate","displayKey","customOption","getCustomOption","createOption","addOption","createBodyTemplate","createValueTemplate","getCssIdentifier","updateUiVisibility","isCondition2Enabled","eCondition2Body","eJoinOperatorPanel","resetUiToDefaults","uniqueGroupId","getCompId","defaultOption","setAriaLabel","setLabel","onValueChange","customFilterOption","hideFilterInput","EQUALS","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","CONTAINS","NOT_CONTAINS","STARTS_WITH","ENDS_WITH","ProvidedFilter","keyboardFocusActive","FocusController_1","eDocument","getDocument","clearFocusedCellListener","clearFocusedCell","EVENT_COLUMN_EVERYTHING_CHANGED","onColumnEverythingChanged","EVENT_COLUMN_GROUP_OPENED","activateKeyboardMode","activateMouseMode","registerGridCore","focusedCellPosition","colFromColumnController","getGridColumn","isKeyboardFocus","EVENT_MOUSE_FOCUS","EVENT_KEYBOARD_FOCUS","getFocusCellToUseAfterRefresh","isSuppressFocusAfterRefresh","getGridCellForDomElement","eBrowserCell","ePointer","cellComp","CellComp","DOM_DATA_KEY_CELL_COMP","getCellPosition","parentNode","onCellFocused","getFocusedCell","setFocusedCell","colKey","floating","forceBrowserFocus","gridColumn","makeNull","isCellFocused","cellPosition","isRowFocused","isRowNodeFocused","isHeaderWrapperFocused","headerWrapper","focusedHeaderPosition","getColumn","headerRowIndex","getParentComponent","getRowIndex","focusedColumn","focusedHeaderRowIndex","getFocusedHeader","setFocusedHeader","focusHeaderPosition","headerPosition","scrollToColumn","getHeaderContainer","rowComps","getRowComps","nextRowComp","headerComps","getHeaderComps","nextHeader","isAnyCellFocused","rootNode","exclude","onlyUnmanaged","focusableString","FOCUSABLE_SELECTOR","excludeString","FOCUSABLE_EXCLUDE","nodes","slice","querySelectorAll","excludeNodes","diff","focusInto","focusableElements","toFocus","last","onlyManaged","backwards","currentIndex","findIndex","nextIndex","isFocusUnderManagedComponent","managedContainers","findTabbableParent","limit","counter","getTabIndex","EVENT_CELL_FOCUSED","focusGridView","nextRow","rowPositionUtils","focusedHeader","rowRenderer","ensureCellVisible","rangeController","setRangeToCell","focusNextInnerContainer","Optional","TextFilter","getDefaultDebounceMs","inputField","val","trim","addValueChangedListeners","eValue1","eValue2","textFilterParams","comparator","textCustomComparator","DEFAULT_COMPARATOR","formatter","textFormatter","caseSensitive","DEFAULT_FORMATTER","DEFAULT_LOWERCASE_FORMATTER","position","positionOne","forEachInput","resetPlaceholder","placeholder","setInputPlaceholder","action","DEFAULT_FILTER_OPTIONS","eCondition1Body","suppressFocus","filterModel","filterText","filterOption","valueGetter","cellValueFormatted","test","filterTextFormatted","from","toLowerCase","lastIndexOf","AgAbstractField","callbackFn","getWidth","clientWidth","setWidth","setFixedWidth","isDisabled","AgAbstractLabel","RESIZE_TEMPLATE","movable","isMaximizable","isMaximized","maximizeListeners","resizeListenerDestroy","isResizing","lastPosition","x","y","maximizable","moveElement","eTitleBar","popupService","bringPopupToFront","setMovable","setMaximizable","addResizers","setResizable","renderComponent","alwaysOnTop","modal","close","addPopup","eChild","closeOnEsc","closedCallback","parser","DOMParser","resizers","parseFromString","body","firstChild","createMap","resizerMap","topLeft","querySelector","topRight","right","bottomRight","bottomLeft","getResizerElement","onResizeStart","updateDragStartPosition","clientX","clientY","onResize","isLeft","match","isRight","isTop","isBottom","isHorizontal","isVertical","calculateMouseMovement","movementX","movementY","offsetLeft","offsetTop","oldWidth","newWidth","skipWidth","oldHeight","getHeight","newHeight","skipHeight","offsetElement","onResizeEnd","onMoveStart","onMove","_b","anywhereWithin","topBuffer","getBodyHeight","onMoveEnd","toggleMaximize","refreshMaximizeIcon","maximizeIcon","minimizeIcon","clearMaximizebleListeners","destroyListener","maximizeButtonComp","onDragStart","onDragging","onDragStop","dragService","pointerEvents","moveElementDragListener","addTitleBarButton","sortRowNodesByOrder","rowNodes","rowNodeOrder","nodeA","nodeB","positionA","positionB","aHasIndex","bHasIndex","bothNodesAreUserNodes","bothNodesAreFillerNodes","__objectId","rowNodeA","rowNodeB","atLeastOneOutOfOrder","traverseNodesWithKey","keyParts","recursiveSearchNodes","currentNodes","childrenAfterGroup","pop","DndSourceComp","eCell","checkVisibility","dragEvent","providedOnRowDrag","dndSourceOnRowDrag","isIE","isBrowserIE","dataTransfer","setDragImage","defaultOnRowDrag","jsonData","JSON","stringify","setData","DateCompWrapper","dateComponentParams","eParent","alive","newDateComponent","dateComp","tempValue","setDate","getDate","label","listComponent","AgList","setParentComponent","tabIndex","EVENT_ITEM_SELECTED","hideList","showPicker","listGui","destroyMouseWheelFunc","destroyFocusOutFunc","isPickerDisplayed","setElementWidth","getAbsoluteWidth","maxHeight","getInnerHeight","getPopupParent","positionPopupUnderComponent","eventSource","ePopup","keepWithinBounds","refreshHighlighted","addOptions","fromPicker","eDisplayField","getDisplayValue","AgPickerField","__param","paramIndex","decorator","setBeans","loggerFactory","isRowModelDefault","EVENT_ROW_DATA_CHANGED","groupSelectsChildren","isGroupSelectsChildren","EVENT_ROW_SELECTED","onRowSelected","setLastSelectedNode","lastSelectedNode","getLastSelectedNode","getSelectedRows","selectedRows","removeGroupsFromSelection","updateGroupsFromChildrenSelections","changedPath","clientSideRowModel","getRootNode","ChangedPath","setInactive","forEachChangedNodeDepthFirst","calculateSelectedFromChildren","getNodeForIdIfSelected","clearOtherNodes","rowNodeToKeepSelected","groupsToRefresh","updatedCount","otherRowNode","setSelectedParams","clearSelection","suppressFinishActions","syncInRowNode","oldNode","syncInOldRowNode","syncInNewRowNode","oldNodeHasDifferentId","oldNodeSelected","setSelectedInitialValue","getBestCostNodeSelection","topLevelNodes","getTopLevelNodes","result","traverse","l","children","setRowModel","isEmpty","count","nodeId","deselectAllRowNodes","justFiltered","selectThisNode","rowModelClientSide","forEachNodeAfterFilter","EVENT_SELECTION_CHANGED","selectAllRowNodes","Error","selectNode","tryMulti","deselectIndex","deselectNode","selectIndex","Qualifier","PromiseStatus","status","IN_PROGRESS","resolution","waiters","onDone","onReject","all","promises","remainingToResolve","combinedValues","promise","RESOLVED","resolveNow","ifNotResolvedValue","ifResolved","waiter","NumberFloatingFilter","NumberFilter","conditionToString","condition","isRange","filterTo","TextInputFloatingFilter","compIdSequence","NumberSequence","annotatedGuiListeners","displayed","compId","next","cssClassStates","setTemplate","createChildComponentsFromTags","paramsMap","childNodeList","copyNodeList","childNodes","childNode","childComp","createComponentFromElement","copyAttributesFromNode","addItems","items","swapComponentForNode","nodeName","componentParams","getAttribute","ComponentClass","getComponentClass","newComponent","dest","iterateNamedNodeMap","attributes","eComponent","replaceChild","insertBefore","createComment","swapInComponentForQuerySelectors","thisNoType","iterateOverQuerySelectors","attributeName","thisPrototype","getPrototypeOf","metaData","__agComponentMetaData","currentProtoName","getFunctionName","querySelectors","loadTemplate","setTemplateFromElement","__agComponent","addAnnotatedGuiEventListeners","wireQuerySelectors","createChildComponentsPreConstruct","resultOfQuery","removeAnnotatedGuiEventListeners","listenerMethods","getAgComponentMetaData","meta","getRefElement","ref","methodName","addAnnotatedGridEventListeners","listenerMetas","thisProto","parentComponent","setGui","queryForHtmlElement","cssSelector","queryForHtmlInputElement","childComponent","isDisplayed","event_1","EVENT_DISPLAYED_CHANGED","updateNeeded","addOrRemove","refName","PreConstruct","executeNextFuncs","executeLaterFuncs","animationThreadCount","isActive","isSuppressColumnMoveAnimation","ensureAnimationCssClassPresent","finish","flush","executeNextVMTurn","executeLaterVMTurn","animationThreadCountCopy","setColumnMovingCss","nowFuncs","waitFuncs","getNextCellToFocus","lastCellToFocus","finished","getCellAbove","getCellBelow","getCellToLeft","getCellToRight","isCellGoodToFocusOn","gridCell","getPinnedTopRow","getPinnedBottomRow","lastCell","colToLeft","getDisplayedColBefore","colToRight","getDisplayedColAfter","getRowBelow","rowPosition","isLastRowInContainer","isRowsToRender","rowBelow","lastTopIndex","lastBottomIndex","lastBodyIndex","getRowAbove","isFirstRow","getLastFloatingTopRow","getLastBodyCell","rowAbove","lastBodyRow","lastFloatingRow","getNextTabbedCell","getNextTabbedCellBackwards","getNextTabbedCellForwards","displayedColumns","newRowIndex","newFloating","newColumn","isRowInPage","processAllCellClasses","onApplicableClass","onNotApplicableClass","processClassRules","cellClassRules","processStaticCellClasses","classRules","classNames","rule","resultOfRule","cellClass","classOrClasses","cellClassFunc","isArray","cssClassItem","findHeader","nextColumn","getGroupMethod","getColMethod","findColAtEdgeForHeaderRow","headerRowComp","HeaderRowType","COLUMN_GROUP","getColumnGroupAtLevel","EVENT_CELL_VALUE_CHANGED","onCellValueChanged","doChangeDetection","isSuppressChangeDetection","isRowPinned","onlyChangedColumns","isAggregateOnlyChangedColumns","addParentNode","doAggregate","refreshCells","HeaderComp","lastMovingChanged","workOutTemplate","currentTemplate","workOutShowMenu","currentShowMenu","workOutSort","currentSort","setDisplayName","firstExistingValue","setupTap","setupIcons","setMenu","setupSort","setupFilterIcon","currentDisplayName","displayNameSanitised","escapeString","eText","addInIcon","eSortAsc","eSortDesc","eSortNone","eMenu","eFilter","iconName","eIcon","isSuppressTouch","touchListener","TouchListener","suppressMenuHide","isSuppressMenuHide","tapMenuButton","menuTouchListener","enableMenu","showMenuFn","showColumnMenuAfterMouseClick","touchStart","enableSorting","tapListener","sortController","progressSort","EVENT_TAP","menuHides","onIpadAndMenuHides","isIOSUserAgent","showMenu","removeFromParent","menuFactory","showMenuAfterButtonClick","removeSortIcons","eSortOrder","sortUsingCtrl","isMultiSortKeyCtrl","Date","getTime","nowTime","movedRecently","columnMoving","multiSort","ctrlKey","metaKey","onSortChanged","setMultiSortOrder","alwaysHideNoSort","unSortIcon","isUnSortIcon","allColumnsWithSorting","getColumnsWithSortingOrdered","indexThisCol","moreThanOneColSorting","showIndex","onFilterChanged","filterPresent","dragEndFunctions","dragSources","removeAllListeners","removeListener","dragSourceAndListener","mouseDownListener","touchEnabled","touchStartListener","find","removeFromArray","setNoSelectToBody","noSelect","eBody","isDragging","dragging","includeTouch","mouseListener","onMouseDown","suppressTouch","onTouchStart","touchEvent","currentDragParams","touch","touches","touchLastTime","touchMoveEvent","onTouchMove","touchEndEvent","onTouchUp","documentTouchMove","cancelable","events","addTemporaryEvents","onCommonMove","skipMouseEvent","_alreadyProcessedByDragService","button","mouseStartEvent","mouseMoveEvent","onMouseMove","mouseUpEvent","onMouseUp","contextEvent","currentEvent","isEventNearStartEvent","startEvent","requiredPixelDiff","areEventsNear","getFirstActiveTouch","touchList","identifier","EVENT_DRAG_STARTED","changedTouches","onUpCommon","eventOrTouch","event_2","EVENT_DRAG_STOPPED","allowedCharPattern","preventDisallowedCharacters","ret","pattern","RegExp","clipboardData","getData","SimpleFloatingFilter","getTextFromModel","con1Str","con2Str","isEventFromFloatingFilter","afterFloatingFilter","getLastType","lastType","setLastTypeFromModel","canWeEditAfterModelFromParentFilter","isTypeEditable","filterParams","setEditable","copy","deepCloneObject","deepCloneDefinition","keysToSkip","getProperty","setProperty","copyPropertiesIfPresent","properties","_i","copyPropertyIfPresent","property","getAllKeysInObjects","objects","allValues","copyUndefined","objectsThatNeedCopy","iteration","sourceValue","destValue","dontCopyOverSourceObject","sources","missingOrEmptyObject","expression","defaultValue","split","objectToRead","shift","objectToUpdate","deepFreeze","freeze","values","v","getValueUsingField","fields","currentObject","RegisteredComponentSource","agGridDefaults","agDateInput","DefaultDateComponent","agColumnHeader","agColumnGroupHeader","HeaderGroupComp","agTextColumnFloatingFilter","TextFloatingFilter","agNumberColumnFloatingFilter","agDateColumnFloatingFilter","DateFloatingFilter","agAnimateShowChangeCellRenderer","AnimateShowChangeCellRenderer","agAnimateSlideCellRenderer","AnimateSlideCellRenderer","agGroupCellRenderer","agGroupRowRenderer","agLoadingCellRenderer","LoadingCellRenderer","agCellEditor","agTextCellEditor","agSelectCellEditor","SelectCellEditor","agPopupTextCellEditor","agPopupSelectCellEditor","PopupSelectCellEditor","agLargeTextCellEditor","agTextColumnFilter","agNumberColumnFilter","agDateColumnFilter","DateFilter","agLoadingOverlay","LoadingOverlayComponent","agNoRowsOverlay","NoRowsOverlayComponent","agTooltipComponent","agDeprecatedNames","newComponentName","propertyHolder","number","date","animateShowChange","animateSlide","largeText","popupSelect","popupText","richSelect","headerComponent","jsComponents","frameworkComponents","registerComponent","registerFwComponent","rawName","translateIfDeprecated","retrieve","frameworkComponent","componentFromFramework","REGISTERED","jsComponent","defaultComponent","raw","deprecatedInfo","componentsMappedByName","componentMeta","addComponent","classEscaped","replace","classUpperCase","toUpperCase","htmlTag","HeaderGroupWrapperComp","dragSourceDropTarget","removeChildListenersFuncs","CssClassApplier","addHeaderClassesFromColDef","getComponentHolder","appendHeaderGroupComp","setupResize","addClasses","setupWidth","addAttributes","setupMovingCss","setupTooltip","setupExpandable","HoverFeature","getOriginalColumnGroup","SetLeftFeature","headerRow","activeEl","wrapperHasFocus","expandable","newExpandedValue","isExpanded","setColumnGroupOpened","originalColumnGroup","refreshExpanded","OriginalColumnGroup","EVENT_EXPANDABLE_CHANGED","leafColumns","onColumnMovingChanged","getColGroupDef","getTooltipText","colGroupDef","headerTooltip","tooltipText","isEnableBrowserTooltips","TooltipFeature","leafCols","headerName","afterHeaderCompCreated","newHeaderGroupComponent","headerGroupComp","setupMove","isPadding","eHeaderGroup","isSuppressMoving","allLeafColumns","HeaderCell","defaultIconName","ICON_HIDE","getDragItemForGroup","onDragStarted","onDragStopped","allColumnsOriginalOrder","visibleState","allColumnsCurrentOrder","childSuppressesMoving","suppressMovable","isSuppressMovableColumns","addListenersToChildrenColumns","EVENT_DISPLAYED_CHILDREN_CHANGED","onDisplayedChildrenChanged","onWidthChanged","removeListenersOnChildrenColumns","widthChangedListener","eHeaderCellResize","finishedWithResizeFunc","horizontalResizeService","addResizeBar","eResizeBar","onResizing","isSuppressAutoSize","skipHeaderOnAutoSize_1","isSkipHeaderOnAutoSize","getDisplayedLeafColumns","suppressAutoSize","autoSizeColumns","resizeCols","resizeStartWidth","resizeRatios","takeFromGroup","getDisplayedGroupAfter","takeFromLeafCols","resizeTakeFromCols","resizeTakeFromStartWidth","resizeTakeFromRatios","resizeAmount","resizeSets","resizeAmountNormalised","normaliseDragChange","ratios","resizeColumnSets","dragChange","AbstractHeaderWrapper","MAT_GRID_SIZE","BASE_GRID_SIZE","BALHAM_GRID_SIZE","ALPINE_GRID_SIZE","HARD_CODED_SIZES","headerHeight","headerCellMinWidth","listItemHeight","rowHeight","chartMenuPanelWidth","SASS_PROPERTY_BUILDER","CALCULATED_SIZES","getSassVariable","theme","useTheme","calculatedValue","div","reduce","currentClass","idx","sizeName","parseInt","getComputedStyle","removeChild","isThemeDark","getTheme","themeFamily","reg","themeMatch","exec","usingOldTheme","newTheme_1","preventMouseClick","destroyFuncs","touching","startListener","moveListener","endListener","onTouchEnd","getActiveTouch","matches","moved","touchStartCopy","touchesMatch","EVENT_LONG_TAP","eventIsFarAway","checkForDoubleTap","now","lastTapTime","interval","DOUBLE_TAP_MILLIS","event_3","EVENT_DOUBLE_TAP","mapRangeFromModel","to","eValueFrom1","eValueFrom2","eValueTo1","eValueTo2","eValueFrom","eValueTo","numberFilterParams","resetTemplate","isRange1","isRange2","agElementTag","stringToFloat","numberParser","parseFloat","valueTo","condition1Type","condition2Type","ScalarFilter","displayFieldTag","setInputType","refreshLabel","getLabel","setAriaLabelledBy","getLabelId","setInputWidth","setInputName","addOrRemoveAttribute","simpleHttpRequest","httpRequest","XMLHttpRequest","open","url","send","onreadystatechange","readyState","responseText","serialiseDate","includeTime","separator","serialised","getFullYear","getMonth","part","padStart","getHours","getMinutes","getSeconds","parseDateTimeFromString","dateStr","timeStr","f","isNaN","year","month","day","hours","minutes","seconds","setHours","setMinutes","setSeconds","timeout","useCapture","cssIdentifier","itemEls","highlightedEl","setValueByIndex","isDown","itemToHighlight","currentIdx","nextPos","highlightItem","listOptions","listOption","sanitisedText","renderOption","itemEl","clearHighlighted","fireItemSelected","displayValue","fireChangeEvent","offsetParent","ACTIVE_CLASS","setAriaSelected","getPreferredHeightForRow","eDummyContainer","addInRowCssClasses","eBodyContainer","getCenterContainer","scopeResult","cellComps","autoRowHeightCols","getAllAutoRowHeightCols","displayedCols","visibleAutoRowHeightCols","setParentRow","getCreateTemplate","afterAttached","maxCellHeight","child","offsetHeight","detach","rowIsEven","rowLevel","rowCssClassCalculator","calculateRowLevel","firstRowOnPage","lastRowOnPage","classes","getInitialRowClasses","stringToArray","strData","delimiter","isNewline","char","insideQuotedField","_loop_1","row","previousChar","currentChar","nextChar","ensureDataExists","out_row_1","out_column_1","out_position_1","utils","GeneralUtils","AriaUtils","ArrayUtils","BrowserUtils","CsvUtils","DateUtils","DomUtils","EventUtils","FunctionUtils","FuzzyMatchUtils","GenericUtils","IconUtils","KeyboardUtils","MapUtils","MouseUtils","NumberUtils","ObjectUtils","RowNodeUtils","SetUtils","StringUtils","AutoGroupColService_1","createAutoGroupColumns","rowGroupColumns","groupAutoColumns","doingTreeData","doingMultiAutoColumn","rowGroupCol","createOneAutoGroupColumn","defaultAutoColDef","generateDefaultColDef","GROUP_AUTO_COLUMN_BUNDLE_ID","userAutoColDef","getAutoGroupColumnDef","columnFactory","mergeColDefs","noFieldOrValueGetter","filterValueGetter","headerCheckboxSelection","newCol","localeTextFunc","getLocaleTextFunc","userHasProvidedGroupCellRenderer","cellRenderer","cellRendererFramework","rowGroupColDef","headerValueGetter","innerRenderer","innerRendererParams","rtlNegativeScroll","cssClasses","remove","newClassName","radioCssClass","elementClass","otherElementClass","sibling","nextSibling","containsClass","onlyClass","startsWithClass","endsWithClass","addOrRemoveDisabledAttribute","nodeListForEach","isElementChildOfClass","cls","maxNest","getElementSize","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","boxSizing","size","getInnerWidth","getAbsoluteHeight","ceil","marginWidth","offsetWidth","isRtlNegativeScroll","overflow","dir","getScrollLeft","rtl","abs","isBrowserChrome","scrollWidth","setScrollLeft","isBrowserSafari","removeElement","tempDiv","appendHtml","eContainer","htmlTemplate","lastChild","insertAdjacentHTML","getElementAttribute","attribute","clientHeight","ensureDomOrder","eChildBefore","setDomChildOrder","orderedChildren","correctCellAtIndex","actualCellAtIndex","insertTemplateWithDomOrder","prependDC","documentFragment","addStylesToElement","styles","keyCamelCase","hyphenToCamelCase","isHorizontalScrollShowing","isVerticalScrollShowing","scrollHeight","formatSize","setElementHeight","setFixedHeight","isNode","o","Node","nodeType","isElement","nodeList","attr","setCheckboxState","state","beanWrappers","createBeans","beanInstances","getBeanInstances","wireBeans","beanEntry","beanInstance","autoWireBeans","methodWireBeans","callLifeCycleMethods","createBeanWrapper","constructorParamsMeta","__agBeanMetaData","autowireMethods","agConstructor","constructorParams","getBeansForParameters","newInstance","applyToConstructor","createdBeanNames","beanName","forEachMetaDataInHierarchy","agClassAttributes","otherBean","lookupBeanInstance","optional","wireParams","initParams","getBeanName","constructorString","substring","parameters","beansList","otherBeanName","Number","wiringBean","lifeCycleMethod","callLifeCycleMethodsOnBean","methodToIgnore","allMethods","methods","allMethodsList","beanAny","argArray","args","factoryFunction","descriptor","props","getOrCreateProps","preConstructMethods","postConstructMethods","preDestroyMethods","classConstructor","propertyKey","autowiredFunc","classPrototype","methodOrAttributeName","RowNodeBlockLoader","maxConcurrentRequests","blockLoadDebounceMillis","activeBlockLoadsCount","blocks","checkBlockToLoadDebounce","debounce","performCheckBlocksToLoad","addBlock","block","removeBlock","loadComplete","checkBlockToLoad","printCacheStatus","blockToLoad","getState","RowNodeBlock","STATE_DIRTY","getBlockNumber","getBlockState","nodeIdPrefix","getNodeIdPrefix","stateItem","blockNumber","startRow","getStartRow","endRow","getEndRow","pageStatus","isLogging","isLoading","AllCommunityModules","CsvExportModule","filterNameKey","applyActive","hidePopup","appliedModel","getFilterTitle","providedFilterParams","filterChangedCallback","templateString","setupOnBtApplyDebounce","checkForDeprecatedParams","newRowsAction","newRowsActionKeep","modelsForKeep","isUseApplyButton","createButtonPanel","buttons","eButtonsPanel","addButton","clickListener","onBtApply","onBtClear","onBtReset","onBtCancel","convertToSet","applyButton","resetButton","clearButton","debounceMs","getDebounceMs","onBtApplyDebounce","setModel","applyModel","closeOnApply","newModel","isModelValid","previousModel","afterDataChange","onNewRowsLoaded","keyboardEvent","isNewRowsActionKeep","fromFloatingFilter","filterModifiedCallback","isValid","debounceDefault","totalStringSize","asString","createArrayOfNumbers","first","isNumeric","isFinite","getMaxSafeInteger","MAX_SAFE_INTEGER","cleanNumber","decToHex","bytes","hex","String","fromCharCode","formatNumberTwoDecimalPlacesAndCommas","formatNumberCommas","round","sum","total","ImmutableService","createTransactionForRowData","getRowNodeIdFunc","transaction","update","existingNodesMap","getCopyOfNodesMap","suppressSortOrder","isSuppressMaintainUnsortedOrder","orderMap","dataItem","existingNode","dataHasChanged","groupId","instanceId","displayedChildren","createUniqueId","checkLeft","lastChildLeft","firstChildLeft","createAgEvent","getGroupId","getInstanceId","isChildInThisGroupDeepSearch","wantedChild","foundChild","groupActualWidth","groupChild","addChild","getDisplayedChildren","addLeafColumns","addDisplayedLeafColumns","getPaddingLevel","calculateDisplayedColumns","topLevelGroup","abstractColumn","headerGroupShow","HEADER_GROUP_SHOW_OPEN","HEADER_GROUP_SHOW_CLOSED","HEADER_GROUP_PADDING","__spreadArrays","il","k","j","jl","ColDefUtil","STRING_PROPERTIES","OBJECT_PROPERTIES","ARRAY_PROPERTIES","NUMBER_PROPERTIES","BOOLEAN_PROPERTIES","FUNCTION_PROPERTIES","ALL_PROPERTIES","FRAMEWORK_PROPERTIES","DropType","BodyDropTarget","dropListeners","moveColumnController","eSecondaryContainers","getDropTargetLeftContainers","getDropTargetRightContainers","getDropTargetBodyContainers","isInterestedIn","ToolPanel","isAllowDragFromColumnsToolPanel","getSecondaryContainers","getContainer","MoveColumnController","bodyDropPivotTarget","BodyDropPivotTarget","ColumnMove","Pivot","addDropTarget","getIconName","currentDropListener","getDropType","draggingEvent","onDragEnter","dropType","onDragLeave","refreshCount","eCurrent","addSlideAnimation","refreshCountCopy","ePrevious","lastValue","filterManager","isSuppressFlashingCellsBecauseFiltering","InfiniteRowModel","getRowBounds","ensureRowHeightsValid","startPixel","endPixel","startLimitIndex","endLimitIndex","isRowModelInfinite","getRowHeightAsNumber","addEventListeners","destroyCache","setDatasource","getDatasource","destroyDatasource","datasource","datasourceChanged","isLastRowFound","infiniteCache","isMaxRowFound","onColumnEverything","resetRequired","cacheParams","isSortModelDifferent","jsonEquals","sortModel","getSortModel","getNodesInRangeForSelection","firstInRange","lastInRange","getRowNodesInRange","userGeneratingIds","resetCache","createModelUpdatedEvent","EVENT_MODEL_UPDATED","newPage","newData","keepRenderedRows","animate","getMaxConcurrentDatasourceRequests","getBlockLoadDebounceMillis","rowNodeBlockLoader","getFilterModel","overflowSize","getCacheOverflowSize","initialRowCount","getInfiniteInitialRowCount","maxBlocksInCache","getMaxBlocksInCache","blockSize","getCacheBlockSize","lastAccessedSequence","InfiniteCache","RowNodeCache","EVENT_CACHE_UPDATED","onCacheUpdated","forEachNodeDeep","getCurrentPageHeight","getTopLevelRowCount","getTopLevelRowDisplayedIndex","topLevelIndex","getRowIndexAtPixel","pixel","rowIndexForPixel","lastRowIndex","getVirtualRowCount","updateRowData","addIndex","insertItemsAtIndex","isRowPresent","refreshCache","purgeCache","setVirtualRowCount","rowCount","maxRowFound","HeaderRowComp","dept","dropTarget","setRowIndex","niceClassName","setAriaRowIndex","destroyAllChildComponents","idsOfAllChildren","destroyChildComponents","idsToDestroy","keepFocused","childHeaderWrapper","onRowHeightChanged","headerRowCount","getHeaderRowCount","sizes","numberOfFloating","groupHeight","getPivotGroupHeaderHeight","getPivotHeaderHeight","hasFloatingFilters","getGroupHeaderHeight","getHeaderHeight","numberOfNonGroups","numberOfGroups","getFloatingFiltersHeight","onVirtualColumnsChanged","PROP_HEADER_HEIGHT","PROP_PIVOT_HEADER_HEIGHT","PROP_GROUP_HEADER_HEIGHT","PROP_PIVOT_GROUP_HEADER_HEIGHT","PROP_FLOATING_FILTERS_HEIGHT","EVENT_VIRTUAL_COLUMNS_CHANGED","EVENT_DISPLAYED_COLUMNS_CHANGED","onDisplayedColumnsChanged","EVENT_COLUMN_RESIZED","onColumnResized","getWidthForRow","centerRow","getContainerWidth","getItemsAtDepth","centerContainer","result_1","getVirtualHeaderGroupRow","FLOATING_FILTER","compIdsToRemove","compIdsWanted","itemsAtDepth","idOfChild","eParentContainer","previousComp","previousCompForOldColumn","headerComp","createHeaderComp","isEnsureDomOrder","correctChildOrder","COLUMN","HeaderWrapperComp","FloatingFilterWrapper","getTemplate","suppressEnabledCheckbox","suppressOpenCloseIcons","title","enabled","alignItems","initialItems","cbGroupEnabled","setTitle","setEnabled","setAlignItems","hideEnabledCheckbox","hideOpenCloseIcons","setupExpandContract","refreshChildDisplay","eGroupClosedIcon","createIcon","eGroupOpenedIcon","toggleGroupExpand","showIcon","eToolbar","alignment","newCls","EVENT_EXPANDED","EVENT_COLLAPSED","addItem","hideItem","itemToHide","eTitle","addCssClassToTitleBar","cssClass","skipToggle","refreshDisabledStyles","isEnabled","onEnableChange","newSelection","Timer","timestamp","print","duration","info","RowDragFeature","isMultiRowDrag","isGridSorted","isGridFiltered","onRowGroupChanged","isSortActive","isAnyFilterPresent","rowGroups","getRowGroupColumns","missingOrEmpty","managedDrag","ICON_NOT_ALLOWED","ICON_MOVE","getRowNodes","isFromThisGrid","enableMultiRowDragging","currentNode","dispatchGridEvent","EVENT_ROW_DRAG_ENTER","setDragging","onEnterOrDragging","isDropZoneWithinThisGrid","gridGui","dropZoneTarget","EVENT_ROW_DRAG_MOVE","lastDraggingEvent","mouseEventService","getNormalisedPosition","doManagedDrag","checkCenterForScrolling","getRowIndexNumber","isSuppressMoveWhenRowDragging","highlightRowAtPixel","moveRows","getRowIndexString","moveRowAndClearHighlight","lastHighlightedRowNode","getLastHighlightedRowNode","isBelow","highlighted","increment","getRowNodeId_1","getHighlightPosition","clearRowHighlight","rowWasMoved","ensureRowsAtPixel","removeAllCellRanges","pixelRange","needToMoveUp","needToMoveDown","ensureIntervalStarted","ensureIntervalCleared","movingIntervalId","intervalCount","setInterval","moveInterval","clearInterval","pixelsToMove","pixelsMoved","scrollVertically","addRowDropZone","findExternalZone","processedParams","fromGrid","draggingToRowDragEvent","EVENT_ROW_DRAG_LEAVE","EVENT_ROW_DRAG_END","external","getRowDropZone","yNormalised","mouseIsPastLastRow","overIndex","overNode","vDirectionString","vDirection","VerticalDirection","Down","Up","stopDragging","childrenMapped","selectable","OBJECT_ID_SEQUENCE","alreadyRendered","oldData","valueCache","onDataChanged","updateDataOnDetailNode","checkRowSelectable","createDataChangedEvent","dispatchLocalEvent","detailNode","createLocalRowEvent","updateData","createDaemonNode","daemon","setDataAndId","setId","isRowSelectableFunc","getIsRowSelectableFunc","shouldInvokeIsRowSelectable","setRowSelectable","newVal","EVENT_SELECTABLE_CHANGED","getRowNodeId","ID_PREFIX_ROW_GROUP","isPixelInRange","clearRowTop","oldRowTop","setRowTop","setFirstChild","EVENT_FIRST_CHILD_CHANGED","setLastChild","EVENT_LAST_CHILD_CHANGED","setChildIndex","childIndex","EVENT_CHILD_INDEX_CHANGED","EVENT_TOP_CHANGED","EVENT_DRAGGING_CHANGED","setHighlighted","EVENT_HIGHLIGHT_CHANGED","setAllChildrenCount","setMaster","master","setRowHeight","estimated","rowHeightEstimated","EVENT_HEIGHT_CHANGED","EVENT_ROW_INDEX_CHANGED","setUiLevel","createGlobalRowEvent","EVENT_ROW_GROUP_OPENED","mainEventService","redrawRows","setDataValue","getPrimaryColumn","oldValue","dispatchCellChangedEvent","setGroupValue","groupData","columnId","setAggData","newAggData","colIds","aggData","oldAggData","updateHasChildren","__hasChildren","isEmptyRowGroupNode","cellChangedEvent","resetQuickFilterAggregateText","quickFilterAggregateText","depthFirstSearch","atLeastOneSelected","atLeastOneDeSelected","atLeastOneMixed","newSelectedValue","childState","rangeSelect","groupSelectsFiltered","newRowClicked","allowMultiSelect","isRowSelectionMulti","doRowRangeSelection","skipThisNode","thisNodeWasSelected","selectChildNodes","groupsSelectChildren","nodesToSelect","nodeWasSelected","isParentOfNode","potentialParent","selectionNotAllowed","selectionNotChanged","childrenAfterFilter","onMouseEnter","EVENT_MOUSE_ENTER","onMouseLeave","EVENT_MOUSE_LEAVE","getFirstChildOfFirstChild","currentRowNode","isCandidate","foundFirstChildPath","nodeToSwapIn","parentRowNode","isFullWidthCell","isFullWidthCellFunc","getIsFullWidthCellFunc","ID_PREFIX_TOP_PINNED","ID_PREFIX_BOTTOM_PINNED","adaptFunction","propertyName","hardcodedJsFunction","paramsFromSelector","metadata","componentMetadataProvider","functionAdapter","adaptCellRendererFunction","Adapter","callbackResult","doesImplementIComponent","candidate","customFilterOptions","defaultOptions","mapCustomOptions","selectDefaultItem","requiredProperties","firstFilterOption","setScrollsVisible","atLeastOneDifferent","horizontalScrollShowing","verticalScrollShowing","EVENT_SCROLL_VISIBILITY_CHANGED","modelString","eFloatingFilterInput","toDebounce","syncUpWithParentFilter","filterGui","columnDef","simpleFilter","closable","positioned","dragStartPosition","hideTitleBar","centered","setBodyComponent","setClosable","eTitleBarButtons","focusEl","eContentWrapper","popupParent","refreshSize","center","parentRect","getBoundingClientRect","skipX","skipY","positionPopup","isPercent","closeButtonComp","CLOSE_BTN_TEMPLATE","onBtClose","bodyComponent","len","getBodyWidth","initialiseAgGridWithWebComponents","registerElement","AgileGridProto","ComponentUtil","__agGridSetProperty","__agGridGetProperty","enumerable","configurable","agGridProtoNoType","__attributes","changeObject","currentValue","onChange","changes","_initialised","processOnChange","_gridOptions","setGridOptions","copyAttributesToGridOptions","gridParams","_agGrid","createdCallback","setPropertyFromAttribute","toCamelCase","nodeValue","attachedCallback","detachedCallback","attributeChangedCallback","eventLowerCase","browserEvent","Event","browserEventNoType","agGridDetails","callbackMethod","myString","g","GRID_PANEL_NORMAL_TEMPLATE","scrollTop","resetLastHorizontalScrollElementDebounced","resetLastHorizontalScrollElement","eBodyViewport","getHScrollPosition","eCenterViewport","onRowDataChanged","showOrHideOverlay","isSuppressNoRowsOverlay","method","onNewColumnsLoaded","hideOverlay","enableRtl","addLayoutElement","suppressScrollOnFloatingRow","setupRowAnimationCssClass","buildRowContainerComponents","addDragListeners","addScrollListener","getRowData","showLoadingOverlay","setCellTextSelection","isEnableCellTextSelect","setPinnedContainerSize","setHeaderAndFloatingHeights","disableBrowserDragging","addMouseListeners","addPreventScrollWhileDragging","addKeyboardEvents","addBodyViewportListener","addStopEditingWhenGridLosesFocus","mockContextMenuForIPad","addRowDragListener","addAngularApplyCheck","onDisplayedColumnsWidthChanged","alignedGridsService","headerRootComp","navigationService","heightScaler","autoHeightCalculator","columnAnimationService","paginationAutoPageSizeService","setAriaMultiSelectable","viewport","unsubscribeFromResize","resizeObserverService","observeResize","onCenterViewportResized","eTop","eBottom","newPrintLayout","setWidthsOfContainers","checkViewportAndScrolls","refreshFlexedColumns","viewportWidth","getCenterWidth","updateBodyWidths","fireResizedEvent","bodyHeight","ct","isStopEditingWhenGridLosesFocus","viewports","focusOutListener","elementWithFocus","stopEditing","clickInsideGrid","getActivePopups","popup","isElementWithinCustomPopup","applyTriggered","$apply","HTMLImageElement","EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED","EVENT_PINNED_ROW_DATA_CHANGED","EVENT_ROW_DATA_UPDATED","EVENT_NEW_COLUMNS_LOADED","isEnableRangeSelection","containers","eLeftContainer","eRightContainer","eCenterContainer","eventNames","processMouseEvent","eAllCellContainers","preventScroll","processKeyboardEvent","onContextMenu","preventDefaultOnContextMenu","getBodyClientRect","getRowForEvent","renderedRow","RowComp","DOM_DATA_KEY_RENDERED_ROW","getRenderedRow","editing","isEditing","gridProcessingAllowed","wasScrollKey","handlePageScrollingKey","doGridOperations","onKeyPress","cellKeyDownEvent","createEvent","EVENT_CELL_KEY_DOWN","cellKeyPressEvent","EVENT_CELL_KEY_PRESS","isEventFromThisGrid","A","onCtrlAndA","C","onCtrlAndC","V","onCtrlAndV","D","onCtrlAndD","Z","undoRedoService","redo","undo","Y","scrollToTop","rowComp","getRenderedCellForEvent","handleContextMenuMouseEvent","onMouseEvent","longTapListener","dispatchCellContextMenuEvent","isAllowContextMenuWithControlKey","contextMenuFactory","isSuppressContextMenu","isPreventDefaultOnContextMenu","isSuppressMiddleClickScrolls","isEmptyPinnedTop","isEmptyPinnedBottom","floatingStart","floatingEnd","rowEnd","allDisplayedColumns","setCellRange","rowStartIndex","rowStartPinned","rowEndIndex","rowEndPinned","columnStart","columnEnd","clipboardService","isEnableCellTextSelection","copyToClipboard","ClipboardModule","isSuppressClipboardPaste","pasteFromClipboard","copyRangeDown","ensureIndexVisible","isPaging","isPagination","paginationPanelEnabled","isSuppressPaginationPanel","goToPageWithIndex","rowGotShiftedDuringOperation","startingRowTop","startingRowHeight","paginationOffset","getPixelOffset","rowTopPixel","rowBottomPixel","scrollPosition","heightOffset","vScrollTop","vScrollBottom","viewportHeight","pxTop","pxBottom","pxMiddle","rowBelowViewport","rowAboveViewport","newScrollPosition","redrawAfterScroll","animationFrameService","flushAllFrames","isAlwaysShowVerticalScroll","updateScrollVisibleService","checkBodyHeight","onHorizontalViewportChanged","getCenterViewportScrollLeft","onBodyHorizontalScroll","updateScrollVisibleServiceImpl","scrollVisibleService","setHorizontalScrollVisible","setVerticalScrollPaddingVisible","isSuppressHorizontalScroll","scrollSize","scrollContainerSize","addIEPadding","eHorizontalScrollBody","eBodyHorizontalScrollViewport","eBodyHorizontalScrollContainer","show","scroller","overflowY","setFakeHScrollSpacerWidths","updateRowCount","headerCount","modelType","setAriaRowCount","updateColumnCount","getAllGridColumns","setAriaColCount","ensureColumnVisible","isColumnDisplayed","colLeftPixel","colRightPixel","bodyWidth","getBodyContainerWidth","viewportLeftPixel","viewportRightPixel","viewportScrolledPastCol","viewportScrolledBeforeCol","colToSmallForViewport","alignColToLeft","alignColToRight","setCenterViewportScrollLeft","isSuppressLoadingOverlay","overlayWrapper","showNoRowsOverlay","sizeColumnsToFit","nextTimeout","availableWidth","eTopViewport","eBottomViewport","eLeftBottom","eLeftTop","eRightBottom","eRightTop","eFullWidthContainer","rowContainerComponents","RowContainerComponent","eCenterColsClipper","eViewport","pinnedLeft","pinnedRight","floatingTop","eTopContainer","floatingTopPinnedLeft","floatingTopPinnedRight","floatingTopFullWidth","eTopFullWidthContainer","hideWhenNoChildren","floatingBottom","eBottomContainer","floatingBottomPinnedLeft","floatingBottomPinnedRight","floatingBottomFullWidth","eBottomFullWidthContainer","animateRows","isAnimateRows","resetTopScroll","resetBottomScroll","getRowContainers","getFloatingTopBottom","horizontallyScrollHeaderCenterAndFloatingCenter","setCenterWidth","pinnedContainerWidths","getPinnedLeftContainerWidth","getPinnedRightContainerWidth","widthPx","setPinnedLeftWidth","oldPinning","pinningLeft","widthOfCols","newPinning","setPinnedRightWidth","pinningRight","rightSpacing","scrollOnRight","eHorizontalRightSpacer","leftSpacing","scrollOnLeft","eHorizontalLeftSpacer","totalHeaderHeight","floatingTopHeight","getPinnedTopTotalHeight","floatingBottomHeight","getPinnedBottomTotalHeight","floatingTopHeightString","floatingBottomHeightString","display","setHorizontalScrollPosition","hScrollPosition","doHorizontalScroll","setVerticalScrollPosition","vScrollPosition","pixels","oldScrollPosition","onCenterViewportScroll","onFakeHorizontalScroll","onVerticalScroll","isDebounceVerticalScrollbar","setScrollTop","redrawRowsAfterScroll","isControllingScroll","eDiv","lastHorizontalScrollElement","eSource","minScroll","maxScroll","EVENT_BODY_SCROLL","setVirtualViewportPosition","scrollWentPastBounds","partner","addScrollEventListener","removeScrollEventListener","groupsRowComps","columnsRowComp","filtersRowComp","EVENT_GRID_COLUMNS_CHANGED","onGridColumnsChanged","onScrollVisibilityChanged","onColumnRowGroupChanged","onColumnValueChanged","setWidthOfPinnedContainer","controller","addPaddingForScrollbar","keepColumns","refreshRowComps","gridComp","dropContainer","bodyDropTarget","destroyRowComps","destroyRowComp","sequence","refreshColumnGroups","groupRowCount","refreshColumns","rowIndexMismatch","refreshFilters","includeFloatingFilter","createRowComps","rowsWithGroupsCount","createHeaderRowComp","LINE_SEPARATOR","CsvSerializingSession","isFirstLine","suppressQuotes","columnSeparator","beginNewLine","cell","putInQuotes","mergeAcross","appendEmptyCells","onNewHeaderGroupingRowColumn","header","span","onNewHeaderRowColumn","onNewBodyRowColumn","stringValue","valueEscaped","BaseCreator","export","userParams","isExportSuppressed","getMergedParamsAndData","mergedParams","fileNamePresent","fileName","getDefaultFileName","getDefaultFileExtension","downloader","download","packageFile","mergeDefaultParams","gridSerializer","createSerializingSession","baseParams","getDefaultExportParams","Blob","navigator","msSaveOrOpenBlob","getMimeType","CsvCreator","exportDataAsCsv","getDataAsCsv","isSuppressCsvExport","TooltipStates","parentComp","location","DEFAULT_HIDE_TOOLTIP_TIMEOUT","SHOW_QUICK_TOOLTIP_DIFF","FADE_OUT_TOOLTIP_TIMEOUT","NOTHING","tooltipInstanceCount","tooltipMouseTrack","tooltipShowDelay","getTooltipShowDelay","isTooltipMouseTrack","setToDoNothing","delay","isLastTooltipHiddenRecently","showTooltipTimeoutId","showTooltip","lastMouseEvent","WAITING_TO_SHOW","SHOWING","hideTooltip","clearTimeouts","tooltipComp","positionTooltipUnderLastMouseEvent","destroyTooltipComp","lastTooltipHideTime","tooltipPopupDestroyFunc","hasColumn","newTooltipComponentCallback","newTooltipComponent","tooltipInstanceCopy","compNoLongerNeeded","hideTooltipTimeoutId","positionPopupUnderMouseEvent","nudgeY","clearTimeout","gridWidth","getColumnGroup","applyColumnState","getColumnState","resetColumnState","getColumnGroupState","setColumnGroupState","stateItems","resetColumnGroupState","isPinning","isPinningRight","setColumnVisible","setColumnsVisible","setColumnPinned","setColumnsPinned","getAllColumns","getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns","getAllDisplayedVirtualColumns","moveColumn","toIndex","moveColumnByIndex","fromIndex","moveColumns","columnsToMoveKeys","moveRowGroupColumn","setColumnAggFunc","setColumnWidth","setColumnWidths","columnWidths","setPivotMode","getSecondaryPivotColumn","pivotKeys","valueColKey","setValueColumns","colKeys","getValueColumns","removeValueColumn","removeValueColumns","addValueColumn","addValueColumns","setRowGroupColumns","removeRowGroupColumn","removeRowGroupColumns","addRowGroupColumn","addRowGroupColumns","setPivotColumns","removePivotColumn","removePivotColumns","addPivotColumn","addPivotColumns","getPivotColumns","getLeftDisplayedColumnGroups","getCenterDisplayedColumnGroups","getRightDisplayedColumnGroups","getAllDisplayedColumnGroups","autoSizeColumn","autoSizeAllColumns","setSecondaryColumns","colDefs","getSecondaryColumns","getPrimaryColumns","columnGroupOpened","hideColumns","hideColumn","columnState","setColumnState","resetState","getAggregationColumns","removeAggregationColumn","removeAggregationColumns","addAggregationColumn","addAggregationColumns","setColumnAggFunction","getDisplayNameForCol","applyOrder","hasParent","headerCompVersion","refreshFunctions","colDefVersion","getColDefVersion","updateState","appendHeaderComp","setupMenuClass","setupSortableClass","addColumnHoverListener","addActiveHeaderMouseListeners","SelectAllFeature","cbSelectAll","EVENT_COLUMN_VALUE_CHANGED","calculateDisplayName","sortable","draggable","workOutDraggable","colDefVersionNow","newHeaderCompConfigured","colDefHeaderComponent","colDefHeaderComponentFramework","headerComponentFramework","headerCompRefreshed","attemptHeaderCompRefresh","dragSourceIsMissing","dragSourceNeedsRemoving","attachDraggingToHeaderComp","destroyHeaderComp","headerCompGui","removeMoveDragSource","moveDragSource","createParams","setActiveHeader","SPACE","menuEnabled","EVENT_COLUMN_HOVER_CHANGED","onColumnHover","isHovered","columnHoverService","updateSortableCssClass","updateAriaSort","setAriaSort","getAriaSortState","removeAriaSort","newHeaderComponent","isMenuEnabled","suppressMenu","showColumnMenu","showColumnMenuAfterButtonClick","setSortForColumn","version","colCanMove","createDragItem","destroyResizeFuncs","canResize","canAutosize","addResize","eResize","autoSizeColListener_1","touchListener_1","removeResize","resize","autoSize","propertyChange","normaliseResizeAmount","resizeWithShiftKey","tooltipFeature","usingBrowserTooltips","removeTooltip","addTooltip","newTooltipText","onColumnWidthChanged","onMenuVisible","getPreferredWidthForColumn","eHeaderCell","getHeaderCellForColumn","putRowCellsIntoDummyContainer","cloneItemIntoDummy","dummyContainerWidth","autoSizePadding","getAutoSizePadding","comp","headerElement","headerWrapperComp","eCells","getAllCellsForColumn","eCellClone","cloneNode","eCloneParent","bodyContainerComp","pinnedLeftContainerComp","pinnedRightContainerComp","fullWidthContainerComp","animateIn","useAnimationFrameForCreate","embedFullWidth","eAllRowContainers","rowContainerReadyCount","refreshNeeded","columnRefreshPending","createSecondPassFuncs","removeFirstPassFuncs","removeSecondPassFuncs","initialised","elementOrderChanged","lastMouseDownOnDragger","paginationPage","getCurrentPage","setAnimateFlags","rowFocused","setupAngular1Scope","setupRowContainers","addListeners","slideRowIn","onTopChanged","fadeRowIn","eRow","createTemplate","contents","extraCssClass","templateParts","rowClasses","rowIdSanitised","userRowStyles","preProcessStylesFromGridOptions","businessKey","getRowBusinessKey","businessKeySanitised","rowTopStyle","getInitialRowTopStyle","rowIdx","isRowSelection","getCellForCol","afterFlush","executeProcessRowPostCreateFunc","getProcessRowPostCreateFunc","eBodyRow","ePinnedLeftRow","ePinnedRightRow","addRenderedRowListener","roundRowTopToBounds","afterPaginationPixels","applyPaginationOffset","afterScalingPixels","maxDivHeightScaler","isSuppressRowTransform","businessKeyForNodeFunc","getBusinessKeyForNodeFunc","areAllContainersReady","lazyCreateCells","cellTemplatesAndComps","createCells","callAfterRowAttachedOnCells","createRowContainer","rowContainerComp","useAnimationsFrameForCreate","rowTemplate","appendRowTemplate","getRowElement","refreshAriaLabel","afterRowAttached","taskQueue","createTask","isDetailCell","doingMasterDetail","isGroupRow","isFullWidthGroup","stub","createFullWidthRows","LOADING_CELL_RENDERER","LOADING_CELL_RENDERER_COMP_NAME","DETAIL_CELL_RENDERER","DETAIL_CELL_RENDERER_COMP_NAME","FULL_WIDTH_CELL_RENDERER","GROUP_ROW_RENDERER","GROUP_ROW_RENDERER_COMP_NAME","setupNormalRowContainers","centerCols","leftCols","rightCols","getAllDisplayedCenterVirtualColumnsForRow","getDisplayedLeftColumnsForRow","getDisplayedRightColumnsForRow","fullWidthRow","createFullWidthRowContainer","eFullWidthRowBody","fullWidthRowComponentBody","eFullWidthRowLeft","fullWidthRowComponentLeft","eFullWidthRowRight","fullWidthRowComponentRight","eFullWidthRow","fullWidthRowComponent","oldRowTopExists","editingRow","stopRowEditing","cancel","isFullWidth","refreshFullWidth","tryRefresh","eCellComp","createFullWidthParams","refreshSucceeded","normalSuccess","bodySuccess","leftSuccess","rightSuccess","allFullWidthRowsRefreshed","onRowIndexChanged","updateExpandedCss","onRowNodeDataChanged","onRowNodeCellChanged","onRowNodeHighlightChanged","onRowNodeDraggingChanged","onUiLevelChanged","EVENT_PAGINATION_PIXEL_OFFSET_CHANGED","onPaginationPixelOffsetChanged","onCellFocusChanged","EVENT_PAGINATION_CHANGED","onPaginationChanged","onModelUpdated","EVENT_COLUMN_MOVED","onColumnMoved","addListenersForCellComps","forEachCellComp","onCellChanged","refreshCell","suppressFlash","postProcessCss","postProcessStylesFromGridOptions","postProcessClassesFromGridOptions","postProcessRowClassRules","postProcessRowDragging","destroyFullWidthComponents","detailRowCompCache","addOrDestroy","getContainerForCell","pinnedType","suppressAnimationFrame","isSuppressAnimationFrame","skipAnimationFrame","refreshCellsInAnimationFrame","insertCellsIntoContainer","colIdsToRemove","eligibleToBeRemoved","isCellEligibleToBeRemoved","destroyCells","indexStr","REMOVE_CELL","KEEP_CELL","isCellInWrongRow","focused","mightWantToKeepCell","cellStillDisplayed","ensureCellInCorrectContainer","eOldContainer","getParentRow","inWrongRow","rowWeWant","oldRow","cellTemplates","newCellComps","existingCell","createNewCell","addDomData","eRowContainer","gow","newCellComp","cellTemplate","onRowDblClick","onRowClick","onRowMouseDown","createRowEvent","domEvent","createRowEventWithSource","agEvent","EVENT_ROW_DOUBLE_CLICKED","stop","EVENT_ROW_CLICKED","multiSelectKeyPressed","shiftKeyPressed","isSuppressRowClickSelection","multiSelectOnClick","isRowMultiSelectWithClick","rowDeselectionWithCtrl","isSuppressRowDeselection","cellRendererType","cellRendererName","eRowCallback","cellRendererCallback","gui","cachedRowComp","newFullWidthCellRenderer","masterDetailModuleLoaded","MasterDetailModule","angular1Compile","eParentOfValue","isFirstRowOnPage","isLastRowOnPage","newLevel","classToAdd_1","classToRemove_1","newFirst","newLast","EVENT_ROW_VALUE_CHANGED","setEditingRow","EVENT_ROW_EDITING_STARTED","EVENT_ROW_EDITING_STOPPED","startRowEditing","keyPress","charPress","sourceRenderedCell","startEditingIfEnabled","processClassesFromGridOptions","classStr","processRowClassRules","rowStyles","processStylesFromGridOptions","cssStyleObjectToMarkup","rowStyle","getRowStyle","rowStyleFunc","getRowStyleFunc","rowStyleFuncResult","templateAndComps","removeRowElement","addHoverFunctionality","isSuppressRowHoverHighlight","range","minPixel","maxPixel","heightPx_1","EVENT_VIRTUAL_ROW_REMOVED","destroyContainingCells","delayedDestroyFunctions","getAndClearDelayedDestroyFunctions","cellsToDestroy","currentPage","topPx","pixelOffset","multiplier","topPx_1","getAndClearNextVMTurnFunctions","getRenderedCellForColumn","spanList","cmp","getColSpanningList","updateRowIndexes","rowIndexStr","rowIsEvenChanged","sides","getBodyRowElement","getPinnedLeftRowElement","getPinnedRightRowElement","getFullWidthRowElement","ARROW_UP","ARROW_DOWN","eDelta","showDelta","delta","absDelta","valueToUse","deltaUp","setTimerToRemoveDelta","hideDeltaValue","cellValueChanges","isCellEditing","isRowEditing","isPasting","isFilling","shouldCaptureAction","cellValueChange","clearStacks","undoStack","clear","redoStack","isUndoRedoCellEditing","undoRedoLimit","getUndoRedoCellEditingLimit","UndoRedoStack","addRowEditingListeners","addCellEditingListeners","addPasteListeners","addFillListeners","EVENT_COLUMN_PINNED","EVENT_COLUMN_VISIBLE","getCurrentUndoStackSize","getCurrentStackSize","getCurrentRedoStackSize","undoAction","processAction","FillUndoRedoAction","processRangeAndCellFocus","initialRange","redoAction","finalRange","valueExtractor","currentRow","lastFocusedCell_1","startColumn","setLastFocusedCell","cellRangeParams","addCellRange","lastFocusedCell","RangeSelectionModule","clearRangeSelection","UndoRedoAction","pushActionsToUndoStack","EVENT_CELL_EDITING_STARTED","EVENT_CELL_EDITING_STOPPED","shouldPushAction","EVENT_PASTE_START","EVENT_PASTE_END","EVENT_FILL_START","EVENT_FILL_END","suppliedFormatter","useFormatterFromColumn","pinnedRowValueFormatter","valueFormatter","refData","consuming","fireColumnEvent","fireScrollEvent","fireEvent","otherGrids","getAlignedGrids","otherGridOptions","alignedGridService","__getAlignedGridService","onEvent","onColumnEvent","onScrollEvent","getMasterColumns","getColumnIds","colEvent","processColumnEvent","groupOpenedEvent","processGroupOpenedEvent","EVENT_COLUMN_PIVOT_CHANGED","masterColumnGroup","otherColumnGroup","masterColumn","otherColumn","columnIds","masterColumns","movedEvent","visibleEvent","pinnedEvent","resizedEvent_1","alignedGrids","grid","setAlwaysShowVerticalScroll","ClientSideNodeManager","nextId","allNodesMap","ROOT_NODE_ID","allLeafChildren","childrenAfterSort","suppressParentsInRowNodes","isSuppressParentsInRowNodes","isRowMasterFunc","getIsRowMasterFunc","isMasterDetail","setRowData","rowData","recursiveFunction","TOP_LEVEL","rowDataTran","rowNodeTransaction","nodesToUnselect","executeAdd","executeRemove","executeUpdate","updateSelection","selectionChanged","useIndex","newRowNode","addRowNode","rowIdsRemoved","lookupRowNode","setMasterForRow","newNode","createNode","insertIntoArray","rowNodeIdFunc","numRowGroupColumns","masterRowLevel","expandByDefault","getGroupDefaultExpanded","setLeafChildren","childAfterGroup","leafChild","detailGridInfoMap","destroyCalled","infiniteRowModel","serverSideRowModel","addDetailGridInfo","gridInfo","removeDetailGridInfo","getDetailGridInfo","forEachDetailGridInfo","assertRegistered","csvCreator","getDataAsExcel","ExcelExportModule","excelCreator","getDataAsExcelXml","exportDataAsExcel","setEnterpriseDatasource","setServerSideDatasource","isRowModelServerSide","setViewportDatasource","viewportDatasource","isRowModelViewport","isImmutableData","transactionAndMap","immutableService","orderIdMap","nodeTransaction","refreshFullWidthRows","setFloatingTopRowData","setPinnedTopRowData","setFloatingBottomRowData","setPinnedBottomRowData","getFloatingTopRowCount","getFloatingBottomRowCount","getFloatingTopRow","getFloatingBottomRow","setAutoGroupColumnDef","expireValueCache","expire","getVerticalPixelRange","getHorizontalPixelRange","refreshToolPanel","refreshSideBar","flashCells","redrawAfterModelUpdate","timeFullRedraw","iterationCount","totalProcessing","totalReflow","that","doOneIteration","endProcessing","endReflow","durationProcessing","durationReflow","refreshView","refreshRows","rowDataChanged","softRefreshView","refreshGroupRows","setFunctionsReadOnly","isAdvancedFilterPresent","isColumnFilterPresent","isQuickFilterPresent","setRowNodeExpanded","onGroupExpandedOrCollapsed","deprecated_refreshFromIndex","refreshModel","step","refreshInMemoryRowModel","refreshClientSideRowModel","paramsStep","stepsMapped","aggregate","modelParams","keepEditingRows","isAnimationFrameQueueEmpty","isQueueEmpty","getSizesForCurrentTheme","expandAll","expandOrCollapseAll","collapseAll","getToolPanelInstance","addVirtualRowListener","setQuickFilter","newFilter","suppressEvents","selectAll","deselectAll","selectAllFiltered","deselectAllFiltered","recomputeAggregates","isNodeSelected","getSelectedNodesById","getRenderedNodes","ensureColIndexVisible","ensureNodeVisible","forEachLeafNode","getFilterApiForColDef","getFilterInstance","filterPromise","getFilterComponent","filterComp","getFilterApi","destroyFilter","getStatusPanel","statusBarService","getColumnDef","setSortModel","defaultState","filteredStates","indexes","setFilterModel","setSuppressRowDrag","PROP_SUPPRESS_ROW_DRAG","setSuppressMoveWhenRowDragging","PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG","setSuppressRowClickSelection","PROP_SUPPRESS_ROW_CLICK_SELECTION","removeRowDropZone","activeDropTarget","removeDropTarget","getRowDropZoneParams","setHeaderHeight","doLayout","setDomLayout","domLayout","setEnableCellTextSelection","setFillHandleDirection","PROP_FILL_HANDLE_DIRECTION","setGroupHeaderHeight","setFloatingFiltersHeight","setPivotGroupHeaderHeight","setPivotHeaderHeight","isSideBarVisible","setSideBarVisible","setSideBarPosition","openToolPanel","closeToolPanel","getOpenedToolPanel","getSideBar","setSideBar","def","setSuppressClipboardPaste","PROP_SUPPRESS_CLIPBOARD_PASTE","isToolPanelShowing","resetRowHeights","setGroupRemoveSingleChildren","PROP_GROUP_REMOVE_SINGLE_CHILDREN","setGroupRemoveLowestSingleChildren","PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN","async","useAsyncEvents","addGlobalListener","removeGlobalListener","resetQuickFilter","getRangeSelections","getCellRanges","camelCaseToHumanReadable","camelCase","camelCaseToHumanText","addRangeSelection","deprecatedNoLongerUsed","undoCellEditing","redoCellEditing","getCurrentUndoSize","getCurrentRedoSize","getChartModels","GridChartsModule","chartService","createRangeChart","createPivotChart","copySelectedRowsToClipboard","includeHeader","copySelectedRangeToClipboard","copySelectedRangeDown","buttonElement","showMenuAfterMouseEvent","hidePopupMenu","hideActiveMenu","setPopupParent","ePopupParent","PROP_POPUP_PARENT","tabToNextCell","tabToPreviousCell","getCellRendererInstances","getCellEditorInstances","getEditingCells","startEditingCell","notPinned","addAggFunc","aggFuncService","addAggFuncs","aggFuncs","clearAggFuncs","applyTransaction","rowDataTransaction","message_1","message_2","message","applyTransactionAsync","batchUpdateRowData","flushAsyncTransactions","skipRefresh","removeItems","dataToRemove","refreshVirtualPageCache","refreshInfiniteCache","refreshInfinitePageCache","purgeVirtualPageCache","purgeInfinitePageCache","purgeInfiniteCache","purgeEnterpriseCache","route","purgeServerSideCache","getInfiniteRowCount","setInfiniteRowCount","getVirtualPageState","getCacheBlockState","getInfinitePageState","checkGridSize","getFirstRenderedRow","getFirstDisplayedRow","getFirstVirtualRenderedRow","getLastRenderedRow","getLastDisplayedRow","getLastVirtualRenderedRow","getDisplayedRowAtIndex","getDisplayedRowCount","paginationIsLastPageFound","isLastPageFound","paginationGetPageSize","getPageSize","paginationSetPageSize","paginationGetCurrentPage","paginationGetTotalPages","getTotalPages","paginationGetRowCount","getMasterRowCount","paginationGoToNextPage","goToNextPage","paginationGoToPreviousPage","goToPreviousPage","paginationGoToFirstPage","goToFirstPage","paginationGoToLastPage","goToLastPage","paginationGoToPage","page","goToPage","RecursionType","ClientSideRowModel","refreshEverythingFunc","refreshEverythingAfterColsChangedFunc","afterColumnsChanged","onValueChanged","onRowGroupOpened","refreshMapListener","nodeManager","atLeastOneChange","rowAtStartPixel","rowAtEndPixel","firstRow","lastRow","getRowHeightForNode","setRowTops","nextRowTop","rowsToDisplay","allowEstimate","resetRowTops","skipChildren","indexAtPixelNow","rowNodeAtPixelNow","lastHighlightedRow","highlight","showingRootNode","createChangePath","rowNodeTransactions","noTransactions","constants","doRowGrouping","groupState","doFilter","doPivot","doSort","doRowsToDisplay","rowsMissing","firstRowHit","lastRowHit","lookingForLastRow","skipThisGroupNode","childOfLastRow","pixelToMatch","bottomPointer","topPointer","lastNode","midPointer","isRowInPixel","topPixel","bottomPixel","pixelInRow","lastPixel","recursivelyWalkNodesAndCallback","Normal","AfterFilter","AfterFilterAndSort","PivotNodes","recursionType","nodeChildren","aggregationStage","execute","expand","usingTreeData","recursiveExpandOrCollapse","shouldExpandOrCollapse","EVENT_EXPAND_COLLAPSE_ALL","sortStage","groupStage","restoreGroupState","filterStage","pivotStage","getGroupState","isRememberGroupStateWhenNewData","rowDataChangedEvent","applyAsyncTransactionsTimeout","rowDataTransactionBatch","waitMillis","getAsyncTransactionWaitMillis","executeBatchUpdateRowData","callbackFuncsBound","rowNodeTrans","tranItem","rowNodeTran","commonUpdateRowData","flattenStage","VirtualList","renderedRows","isDestroyed","getItemHeight","focusRow","lastFocusedRowIndex","getAriaPosInSet","navigate","getLastFocusedRow","rowNumber","getComponentAt","rowComponent","getListItemHeight","viewportTopPixel","viewportBottomPixel","viewportScrolledPastRow","viewportScrolledBeforeRow","setComponentCreator","componentCreator","getRowHeight","getScrollTop","clearVirtualRows","drawVirtualRows","removeRow","ensureRowsRendered","has","insertRow","setAriaSetSize","setAriaPosInSet","isRowSelected","setAriaChecked","delete","previousAndFirstButtonsDisabled","nextButtonDisabled","lastButtonDisabled","btFirst","btPrevious","btNext","btLast","onBtFirst","onBtPrevious","onBtNext","onBtLast","enableOrDisableButtons","updateRowLabels","setCurrentPageLabel","setTotalLabels","pagesExist","toDisplay","lbCurrent","formatNumber","getPaginationNumberFormatterFunc","strPage","strTo","strOf","strFirst","strPrevious","strNext","strLast","summaryDescribedBy","descriptionDescribedBy","totalPages","setAriaDisabled","zeroPagesToDisplay","isZeroPagesToDisplay","onLastPage","pageSize","lbFirstRowOnPage","lbLastRowOnPage","lastPageFound","lbTotal","lbRecordCount","moreText","getOverlayNoRowsTemplate","DEFAULT_NO_ROWS_TEMPLATE","localisedTemplate","startedByEnter","hasValue","valueFormattedExits","eSelect","isFullRowEdit","globalObj","global","HTMLButtonElement","HTMLSelectElement","HTMLInputElement","MouseEvent","Downloader","XmlFactory","ZipContainer","componentMetaData","dateComponent","mandatoryMethodList","optionalMethodList","detailCellRenderer","headerGroupComponent","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","floatingFilterComponent","floatingFilterWrapperComponent","agComponentUtils","fullWidthCellRenderer","pinnedRowCellRenderer","groupRowRenderer","filterComponent","statusPanel","toolPanel","tooltipComponent","cacheVersion","isValueCache","neverExpires","isValueCacheNeverExpires","__cacheVersion","__cacheData","pushAll","preProcessRowClassRules","process","rowCls","rowClass","getRowClass","rowClassFunc","getRowClassFunc","rowClassFuncResult","stylingService","rowClassRules","debounceDelay","frameworkFactory","debouncedCallback","useBrowserResizeObserver","resizeObserver","ResizeObserver","observe","disconnect","usePolyfill","widthLastTime","heightLastTime","running","periodicallyCheckWidthAndHeight","changed","suppressResize","isSuppressBrowserResizeObserver","resizeObserverExists","timeLastPageEventProcessed","alt","altKey","ctrl","currentCell","getCellPositionForEvent","processed","PAGE_HOME","PAGE_END","onHomeOrEndKey","onCtrlLeftOrRight","onCtrlUpOrDown","PAGE_DOWN","onPageDown","PAGE_UP","onPageUp","isTimeSinceLastPageEventToRecent","setTimeLastPageEventProcessed","pixelsInOnePage","pagingPixelOffset","currentPageBottomPixel","currentPageBottomRow","scrollIndex","currentCellPixel","nextCellPixel","focusIndex","pageLastRow","navigateTo","currentPageTopPixel","currentPageTopRow","scrollType","scrollColumn","focusColumn","upKey","rowIndexToScrollTo","leftKey","columnToSelect","homeKey","DEFAULT_ROW_HEIGHT","DEFAULT_DETAIL_ROW_HEIGHT","DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE","DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE","DEFAULT_KEEP_DETAIL_ROW_COUNT","isTrue","zeroOrGreater","oneOrGreater","propertyEventService","domDataKey","random","layoutElements","GridOptionsWrapper_1","agWire","checkForDeprecated","checkForViolations","updateLayoutClassesListener","suppressPropertyNamesCheck","checkGridOptionsProperties","checkColumnDefProperties","sideBar","SideBarDefParser","globalEventHandler","prop","groupDefaultExpanded","isEnableRangeHandle","isEnableFillHandle","warnOfDeprecaredIcon","icons","updateLayoutClasses","userProperties","getOwnPropertyNames","validProperties","checkProperties","PropertyKeys","getCallbackForEvent","validPropertiesAndExceptions","containerName","docsUrl","invalidProperties","fuzzyCheckStrings","domData","rowSelection","suppressRowDeselection","rowMultiSelectWithClick","isSuppressExpandablePivotGroups","suppressExpandablePivotGroups","getPivotColumnGroupTotals","pivotColumnGroupTotals","getPivotRowTotals","pivotRowTotals","editType","suppressFocusAfterRefresh","suppressBrowserResizeObserver","suppressMaintainUnsortedOrder","isSuppressClearOnFillReduction","suppressClearOnFillReduction","isShowToolPanel","toolPanels","isApplyColumnDefOrder","applyColumnDefOrder","suppressRowTransform","isSuppressColumnStateEvents","suppressColumnStateEvents","allowDragFromColumnsToolPanel","suppressAsyncEvents","isEnableCellChangeFlash","enableCellChangeFlash","getCellFlashDelay","cellFlashDelay","getCellFadeDelay","cellFadeDelay","suppressRowHoverHighlight","isGroupSelectsFiltered","groupHideOpenParents","groupMultiAutoColumn","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupIncludeTotalFooter","isGroupSuppressBlankHeader","groupSuppressBlankHeader","suppressRowClickSelection","isSuppressCellSelection","suppressCellSelection","isSuppressMultiSort","suppressMultiSort","multiSortKey","isGroupSuppressAutoColumn","groupSuppressAutoColumn","isPivotSuppressAutoColumn","pivotSuppressAutoColumn","isSuppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns","isSuppressScrollOnNewData","suppressScrollOnNewData","rowDragManaged","suppressMoveWhenRowDragging","validLayouts","suppressHorizontalScroll","isSuppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction","isExcludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering","alwaysShowVerticalScroll","debounceVerticalScrollbar","suppressLoadingOverlay","suppressNoRowsOverlay","suppressFieldDotNotation","pinnedTopRowData","pinnedBottomRowData","isFunctionsPassive","functionsPassive","suppressChangeDetection","getQuickFilterText","quickFilterText","isCacheQuickFilter","cacheQuickFilter","isEnterMovesDownAfterEdit","enterMovesDownAfterEdit","isEnterMovesDown","enterMovesDown","undoRedoCellEditing","undoRedoCellEditingLimit","getCreateChartContainerFunc","createChartContainer","getPostProcessPopupFunc","postProcessPopup","paginationNumberFormatter","getChildCountFunc","getChildCount","getDefaultGroupSortComparator","defaultGroupSortComparator","getFullWidthCellRendererParams","fullWidthCellRendererParams","embedFullWidthRows","deprecatedEmbedFullWidthRows","getSuppressKeyboardEventFunc","suppressKeyboardEvent","getBusinessKeyForNode","immutableData","isEnableCharts","enableCharts","getColResizeDefault","colResizeDefault","isSingleClickEdit","singleClickEdit","isSuppressClickEdit","suppressClickEdit","stopEditingWhenGridLosesFocus","maxConcurrentDatasourceRequests","cacheOverflowSize","getPaginationPageSize","paginationPageSize","isPaginateChildRows","shouldPaginate","paginateChildRows","cacheBlockSize","infiniteInitialRowCount","isPurgeClosedRowNodes","purgeClosedRowNodes","suppressPaginationPanel","groupUseEntireRow","autoGroupColumnDef","getRowGroupPanelShow","rowGroupPanelShow","getPivotPanelShow","pivotPanelShow","angularCompileRows","isAngularCompileFilters","angularCompileFilters","isDebug","getColumnTypes","columnTypes","getViewportDatasource","getServerSideDatasource","serverSideDatasource","isAccentedSort","accentedSort","enableBrowserTooltips","isEnableCellExpressions","enableCellExpressions","enableGroupEdit","suppressMiddleClickScrolls","isSuppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel","isSuppressColumnVirtualisation","suppressColumnVirtualisation","suppressContextMenu","allowContextMenuWithControlKey","isSuppressCopyRowsToClipboard","suppressCopyRowsToClipboard","isCopyHeadersToClipboard","copyHeadersToClipboard","suppressClipboardPaste","isSuppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste","pagination","isSuppressEnterpriseResetOnNewColumns","suppressEnterpriseResetOnNewColumns","getProcessDataFromClipboardFunc","processDataFromClipboard","asyncTransactionWaitMillis","suppressMovableColumns","suppressColumnMoveAnimation","isSuppressAggFuncInHeader","suppressAggFuncInHeader","isSuppressAggAtRootLevel","suppressAggAtRootLevel","enableRangeSelection","enableRangeHandle","enableFillHandle","getFillHandleDirection","fillHandleDirection","getFillOperation","fillOperation","isSuppressMultiRangeSelection","suppressMultiRangeSelection","isPaginationAutoPageSize","paginationAutoPageSize","rememberGroupStateWhenNewData","getIcons","getAggFuncs","getSortingOrder","sortingOrder","masterDetail","isKeepDetailRows","keepDetailRows","getKeepDetailRowsCount","keepDetailRowsCount","isRowMaster","isRowSelectable","getGroupRowRendererParams","groupRowRendererParams","getOverlayLoadingTemplate","overlayLoadingTemplate","overlayNoRowsTemplate","enableCellTextSelection","isFunctionsReadOnly","functionsReadOnly","isFloatingFilter","floatingFilter","isEnableOldSetFilterModel","enableOldSetFilterModel","getDefaultColDef","defaultColDef","getDefaultColGroupDef","defaultColGroupDef","defaultExportParams","suppressCsvExport","isAllowShowChangeAfterFilter","allowShowChangeAfterFilter","isSuppressExcelExport","suppressExcelExport","isSuppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup","getDataPathFunc","getDataPath","getIsServerSideGroupFunc","isServerSideGroup","getServerSideGroupKeyFunc","getServerSideGroupKey","getGroupRowAggNodesFunc","groupRowAggNodes","getContextMenuItemsFunc","getContextMenuItems","getMainMenuItemsFunc","getMainMenuItems","getNavigateToNextCellFunc","navigateToNextCell","getTabToNextCellFunc","valueCacheNeverExpires","isDeltaSort","deltaSort","aggregateOnlyChangedColumns","getProcessSecondaryColDefFunc","processSecondaryColDef","getProcessSecondaryColGroupDefFunc","processSecondaryColGroupDef","getSendToClipboardFunc","sendToClipboard","processRowPostCreate","getProcessCellForClipboardFunc","processCellForClipboard","getProcessHeaderForClipboardFunc","processHeaderForClipboard","getProcessCellFromClipboardFunc","processCellFromClipboard","getViewportRowModelPageSize","viewportRowModelPageSize","getViewportRowModelBufferSize","viewportRowModelBufferSize","isServerSideSortingAlwaysResets","serverSideSortingAlwaysResets","getPostSortFunc","postSort","getChartToolbarItemsFunc","getChartToolbarItems","getChartThemeOverrides","chartThemeOverrides","getCustomChartThemes","customChartThemes","getChartThemes","chartThemes","getProcessChartOptionsFunc","processChartOptions","getClipboardDeliminator","clipboardDeliminator","force","gridOptionsNoType","previousValue","domLayoutAutoHeight","domLayoutPrint","domLayoutNormal","skipHeaderOnAutoSize","getFromTheme","floatingFiltersHeight","groupHeaderHeight","pivotHeaderHeight","pivotGroupHeaderHeight","isExternalFilterPresent","doesExternalFilterPass","MIN_COL_WIDTH","measuredMin","getColWidth","colWidth","getRowBuffer","rowBuffer","getRowBufferInPixels","rowsToBuffer","defaultRowHeight","useGridOptions","scrollbarWidth","rowDeselection","checkRenamedProperty","oldProp","newProp","immutableColumns","deltaColumnMode","groupRowInnerRenderer","groupRowInnerRendererParams","groupRowInnerRendererFramework","innerRendererFramework","treeDataViolations","localeText","callbackMethodName","getDefaultRowHeight","detailRowHeight","minRowHeight","isAutoRowHeightActive","autoHeight","isDynamicRowHeight","environment","sassVariableName","pinnedTopRows","pinnedBottomRows","getRowAtPixel","createNodesFromData","allData","nextRowTop_1","idPrefix","getTotalHeight","columnOrGroup","colsSpanning","ariaEl","setColsSpanning","onLeftChanged","getColumnOrGroup","setLeftFirstTime","suppressMoveAnimation","oldLeftExists","animateColumnMove","animateInLeft","actualLeft","colOrGroup","modifyLeftForPrintLayout","leftPosition","leftWidth_1","leftWidth","indexColumn","setAriaColSpan","getAriaColumnIndex","setAriaColIndex","FilterStage","filterService","selectableService","updateSelectableAfterFiltering","updateSelectableAfterGrouping","nextChildrenFunc","recurseDown","rowSelectable","firstSelectable","dragStartX","setResizeIcons","oldBodyCursor","cursor","oldUserSelect","userSelect","oldWebkitUserSelect","webkitUserSelect","resetIcons","iconNameClassMap","columnGroupClosed","columnSelectClosed","columnSelectOpen","columnSelectIndeterminate","columnMovePin","columnMoveHide","columnMoveMove","columnMoveLeft","columnMoveRight","columnMoveGroup","columnMoveValue","columnMovePivot","dropNotAllowed","groupContracted","groupExpanded","chart","check","previous","linked","unlinked","colorPicker","groupLoading","menu","maximize","minimize","menuPin","menuValue","menuAddRowGroup","menuRemoveRowGroup","clipboardCopy","clipboardPaste","pivotPanel","rowGroupPanel","valuePanel","columnDrag","save","smallDown","smallLeft","smallRight","smallUp","sortAscending","sortDescending","sortUnSort","iconContents","eResult","forceCreate","userProvidedIcon","optionsIcons","rendererResult","keepingColumns","nodeIdsToColumns","mapToItems","pathRoot","depthFirstSearchChangedPath","pathItem","depthFirstSearchEverything","traverseEverything","traverseLeafNodes","executeFromRootNode","createPathItems","newEntryCount","newEntry","populateColumnsMap","linkPathItems","thisItem","parentItem","canSkip","getValueColumnsForNode","valueColumns","colsForThisNode","getNotValueColumnsForNode","cacheItems","maxCacheSize","doNotUseCache","destroyFullWidthRow","getCacheItem","lastAccessedTime","autoCreate","stampCacheItem","startIndex","SelectionHandleType","CellRangeType","defaultGroupComparator","valueA","valueB","accentedCompare","nodeAIsGroup","nodeBIsGroup","bothAreGroups","bothAreNormal","defaultComparator","modulesMap","registerModules","reason","warningKey","warningMessage","createHeader","headerStart","headerEnd","encoding","standalone","att","createXml","xmlElement","booleanTransformer","prefixedAttributes","prefixedSet","returnAttributeIfPopulated","prefix","rawMap","textNode","xmlValue","LoadingType","inProgress","destroyRequested","eOverlayWrapper","setWrapperTypeClass","loadingType","Loading","NoRows","workItem","newLoadingOverlayComponent","showOverlay","newNoRowsOverlayComponent","destroyActiveOverlay","activeOverlay","HorizontalDirection","dragSourceAndParamsList","dropTargets","DragAndDropService_1","ePinnedIcon","eHideIcon","eMoveIcon","eLeftIcon","eRightIcon","eGroupIcon","eAggregateIcon","ePivotIcon","eDropNotAllowedIcon","allowTouch","sourceAndParams","clearDragSourceParamsList","nudge","eventLastTime","lastDropTarget","createGhost","createDropTargetEvent","removeGhost","fromNudge","hDirection","getHorizontalDirection","getVerticalDirection","positionGhost","isMouseOnDropTarget","leaveLastTargetIfExists","enterDragTargetIfExists","dragEnterEvent","setGhostIcon","dragLeaveEvent","getAllContainersFromDropTarget","secondaryContainers","mouseOverTarget","rect","horizontalFit","verticalFit","zones","externalTargets","zone","eClientX","Left","Right","eClientY","ghost","eGhost","ghostRect","ghostHeight","browserWidth","browserHeight","pageY","pageX","usrDocument","windowScrollY","pageYOffset","documentElement","windowScrollX","pageXOffset","eGhostParent","GHOST_TEMPLATE","eGhostIcon","shake","ICON_PINNED","ICON_LEFT","ICON_RIGHT","ICON_GROUP","ICON_AGGREGATE","ICON_PIVOT","setupFloatingFilter","setupLeftPositioning","setupColumnHover","eButtonShowMainFilter","showParentFilter","nextFocusableEl","ESCAPE","floatingFilterCompPromise","getFloatingFilterInstance","compInstance","setupWithFloatingFilter","setupSyncWithFilter","setLeftFeature","syncWithFilter","suppressFilterButton","eFloatingFilterBody","floatingFilterComp","disposeFunc","floatingFilterCompUi","eButtonWrapper","getDefaultFloatingFilterType","defaultFloatingFilterType","FloatingFilterMapper","getFloatingFilterType","setFilterModuleLoaded","SetFilterModule","createFilterParams","finalFilterParams","createFinalParams","currentParentModel","floatingFilterComponentParams","newFloatingFilterComponent","getFilterComponentPrototype","getModelAsStringExists","createUserComponentFromConcreteClass","createDynamicParams","resolvedComponent","existingIds","getInstanceIdForKey","lastResult","rowNodeCacheParams","isAnyNodeOpen","forEachNodeCallback","getRowUsingLocalIndex","deep","childrenCache","forEachNodeShallow","getVersion","getLastAccessed","lastAccessed","dontTouchLastAccessed","localIndex","createRowNodes","setDirty","setDirtyAndPurge","setRowNode","setBlankRowNode","createBlankRowNode","setNewData","STATE_LOADING","loadFromDatasource","pageLoadFailed","STATE_FAILED","EVENT_LOAD_COMPLETE","success","populateWithRowData","rowNodesToRefresh","destroyRowNodes","pageLoaded","STATE_LOADED","allowEmptyString","toStringOrNull","valueParsed","attrToString","referenceCompare","val1","val2","val1Json","val2Json","valueAMissing","valueBMissing","toNumber","doQuickCompare","localeCompare","collection","predicate","objToArray","collectionAsArray","firstMatchingItem","Set","values_1","DefaultColumnTypes","numericColumn","headerClass","rightAligned","eLoadingIcon","eLoadingText","setMouseOver","selectedColumns","clearMouseOver","FUNCTION_STRIP_COMMENTS","FUNCTION_ARGUMENT_NAMES","doOnceFlags","funcConstructor","getFunctionParameters","fnStr","executeInAWhile","funcs","executeAfter","milliseconds","wait","immediate","callNow","compose","fns","arg","composed","callIfPresent","getEventCallbacks","EVENT_CALLBACKS","EVENTS","skipEventDeprecationCheck","pGridOptions","keyExists","toBoolean","substr","EVENT_COMPONENT_STATE_CHANGED","FilterService","filterNodes","filterCallback","includeChildNodes","passBecauseChildren","passBecauseDataPasses","doesRowPassFilter","doingTreeDataFiltering","treeDataDepthFirstFilter_1","alreadyFoundInParent","foundInParent","treeDataFilterCallback","defaultFilterCallback","setAllChildrenCountTreeData","setAllChildrenCountGridGrouping","isSafari","isEdge","isChrome","isFirefox","isIOS","documentMode","isBrowserEdge","StyleMedia","anyWindow","hasNotification","safari","pushNotification","win","chrome","webstore","runtime","userAgent","vendor","isBrowserFirefox","InstallTrigger","platform","maxTouchPoints","MSStream","numberTabIndex","frame","iframe","img","isindex","textarea","testUpTo","test_1","opacity","msOverflowStyle","hasOverflowScrolling","prefixes","getElementsByTagName","found","computedStyle","overflowScrolling","prefixes_1","innerHeight","innerWidth","primaryHeaderRowCount","secondaryHeaderRowCount","secondaryColumnsPresent","gridHeaderRowCount","displayedLeftColumns","displayedRightColumns","displayedCenterColumns","allDisplayedVirtualColumns","allDisplayedCenterVirtualColumns","pivotColumns","ready","autoGroupsNeedBuilding","forceRecreateAutoGroups","rightWidth","bodyWidthDirty","isPivotSettingAllowed","onAutoGroupColumnDefChanged","updateGridColumns","updateDisplayedColumns","colsPreviouslyExisted","raiseEventsFunc","compareColumnStatesAndRaiseEvents","oldPrimaryColumns","primaryColumns","balancedTreeResult","createColumnTree","primaryColumnTree","columnTree","treeDept","getColumnsFromTree","extractRowGroupColumns","extractPivotColumns","extractValueColumns","gridColsArePrimary","orderGridColumnsLikePrimary","checkDisplayedVirtualColumns","eventEverythingChanged","newColumnsLoadedEvent","gridColumns","colA","colB","primaryIndexA","primaryIndexB","indexAPresent","indexBPresent","gridIndexA","gridIndexB","autoRowHeightColumns","setVirtualViewportLeftAndRight","viewportLeft","viewportRight","getDisplayedColumnsStartingAt","currentColumn","hashBefore","updateVirtualSets","hashAfter","secondaryColumns","valueColumnToFind","foundColumn","thisPivotKeys","pivotValueColumn","pivotKeyMatches","areEqual","pivotValueMatches","setFirstRightAndLastLeftPinned","lastLeft","firstRight","columnsAutosized","changesThisTimeAround","actionOnGridColumns","preferredWidth","normaliseColumnWidth","fireColumnResizedEvent","flexColumns","rootColumns","recursiveFindColumns","childColumns","displayedLeftColumnTree","displayedRightColumnTree","displayedCentreColumnTree","getPrimaryColumnTree","getDisplayedColumnGroups","colSpanActive","getDisplayedColumnsForRow","emptySpaceBeforeColumn","lastConsideredCol","maxAllowedColSpan","columnsToCheckFilter","colsToRemove","filterPasses","colForFilter","gapBeforeColumn","out_i_1","isColumnInViewport","columnLeft","columnRight","leftBounds","rightBounds","columnToMuchLeft","columnToMuchRight","getWidthOfColsInList","updatePrimaryColumnList","masterList","actionIsAdd","columnCallback","atLeastOne","columnToAdd","setPrimaryColumnList","added","initialAggFunc","getDefaultAggFunc","getPrimaryOrGridColumn","sets","columnWidth","defaultIsShift","otherCol","widthDiff","otherColWidth","checkMinAndMaxWidthsForSet","columnResizeSet","minWidthAccumulated","maxWidthAccumulated","maxWidthActive","minWidthPasses","maxWidthPasses","passMinMaxCheck","changedCols","allResizedCols","newWidths","finishedCols","finishedColsGrew","loopCount","_loop_2","subsetCols","subsetRatios","subsetRatioTotal","pixelsToDistribute","thisColFinished","ratioThisCol","ratioScale","lastCol","colNewWidth","state_1","atLeastOneColChanged","flexedCols","resizingCols","skipSetLeft","setLeftValues","colsForEvent","columnsToMove","failedRules","doesMovePassRules","moveInArray","proposedColumnOrder","doesMovePassMarryChildren","doesMovePassLockedPositions","sortColumnsLikeGridColumns","notAllColsInGridColumns","indexA","indexB","foundNonLocked","rulePassed","allColumnsCopy","depthFirstOriginalTreeSearch","gridBalancedTree","marryChildren","newIndexes","newColIndex","maxIndex","minIndex","spread","maxSpread","lastPrimaryOrder","columnDefFactory","buildColumnDefs","newBodyWidth","newLeftWidth","newRightWidth","getDisplayedColumns","getAllColumnsForQuickFilter","columnsForQuickFilter","isRowGroupEmpty","actualPinned","updatedColumns","resultOfAction","event_4","oldIndex","getDisplayedGroupAtDirection","getDisplayedGroupBefore","requiredLevel","getLevel","colGroupLeafColumns","getDisplayColMethod","groupPointer","originalGroupLevel","groupPointerLevel","groupPointerOriginalColumnGroup","getPrimaryAndSecondaryAndAutoColumns","createStateItemFromColumn","pivotIndex","primaryColumnState","groupAutoColumnState","columnStateList","orderColumnStateList","gridColumnIds","itemA","itemB","posA","posB","suppressEverythingEvent","columnStates","letRowGroupIndex","letPivotIndex","columnsWithNoState","rowGroupIndexes","pivotIndexes","autoGroupColumnStates","previousRowGroupCols","previousPivotCols","groupAutoColumnId","isAutoGroupColumn","syncColumnWithStateItem","oldList","oldIndexA","oldIndexB","aHasOldIndex","bHasOldIndex","autoCol","getAutoColumn","orderOfColIds_1","putFixedColumnsFirst","startState","columnStateBefore","columnStateBeforeMap","raiseWhenListsDifferent","colsBefore","colsAfter","idMapper","beforeList","afterList","unchanged","getChangedColumns","changedPredicate","changedColumns","colStateBefore","columnIdMapper","resizeChangePredicate","cs","pinnedChangePredicate","raiseColumnPinnedEvent","visibilityChangePredicate","raiseColumnVisibleEvent","sortChangePredicate","dispatchSortChangedEvents","raiseColumnMovedEvent","colStateAfter","colStateAfterMapped","colsIntersectIds","beforeFiltered","afterFiltered","movedColumns","csAfter","csBefore","key1","key2","stateAny","defaultAny","value1","value2","noFlexThisCol","getColumns","columnLookupCallback","foundColumns","getColumnWithValidation","columnList","columnsMatch","groupCol","columnMatches","colDefMatches","idMatches","includeAggFunc","wrapHeaderNameWithAggFunc","getDisplayNameForOriginalColumnGroup","pivotActiveOnThisColumn","aggFuncFound","measureActive","aggregationPresent","aggFuncString","aggFuncStringTranslated","allColumnGroups","checkInstanceId","depthFirstAllColumnTreeSearch","matched","extractColumns","flag","initialRowGroupIndex","initialRowGroup","previousCols","setFlagFunc","getIndexFunc","getInitialIndexFunc","getValueFunc","getInitialValueFunc","colsWithIndex","colsWithValue","colIsNew","initialValue","initialIndex","include","valuePresent","getIndexForCol","defaultIndex","initialPivotIndex","initialPivot","openByDefault","columnGroupState","impactedGroups","groupKey","updateGroupsAndDisplayedColumns","keyAsString","calculateColumnsForDisplay","columnsForDisplay","isAutoGroupCol","isValueCol","checkColSpanActiveInCols","calculateColumnsForGroupDisplay","groupDisplayColumns","checkFunc","getGroupDisplayColumns","buildDisplayedTrees","isSecondaryColumnsPresent","newColsPresent","processSecondaryColumnDefinitions","secondaryBalancedTree","groupCallback","searchForColDefs","colDefs2","abstractColDef","isGroup","orderGridColsLikeLastPrimary","addAutoGroupToGridColumns","setupQuickFilterColumns","clearDisplayedColumns","noColsFound","oldColsOrdered","newColsOrdered","newGridColumns","siblings","leafCol","presentInNewGriColumns","noYetInSiblings","lastIndex","isPrimaryColumnGroupsPresent","locked","unlocked","createGroupAutoColumnsIfNeeded","autoColBalancedTree","createForAutoGroups","displayedLeftHeaderRows","displayedRightHeaderRows","displayedCentreHeaderRows","updateOpenClosedVisibilityInColumnGroups","updateDisplayedColumnsFromTrees","addToDisplayedColumns","setupAllDisplayedColumns","setLeftValuesOfColumns","setLeftValuesOfGroups","doingRtl","left_1","left_2","removeAllFromArray","displayedColumnTree","depthFirstDisplayedColumnTreeSearch","updateDisplayedCenterVirtualColumns","filterOutColumnsWithinViewport","updateDisplayedVirtualGroups","virtualColIds","testGroup","returnValue","addThisItem","flexViewportWidth","flexAfterDisplayIndex","indexOfCol","isColFlex","afterResizingCols","knownWidthColumns","flexingColumns","flexingColumnSizes","spaceForFlexingColumns","outer","totalFlex","widthByFlexRule","constrainedWidth","remainingSpace","colsToSpread","colsToNotSpread","suppressSizeToFit","colsToFireEventFor","finishedResizing","moveToNotSpread","availablePixels","scale","pixelsForLastCol","onLastCol","visibleColumns","leftVisibleColumns","rightVisibleColumns","centerVisibleColumns","getGroupAutoColumns","groupFullWidthRow","suppressAutoColumn","groupingActive","needAutoColumns","newAutoGroupCols","autoGroupColService","autoColsDifferent","autoColsEqual","colsA","colsB","getFirstDisplayedColumn","queryOrder","toParse","DEFAULT_COLUMN_COMP","DEFAULT_FILTER_COMP","defaultToolPanel","comps_1","lookupResult","DEFAULT_BY_KEY","parseComponents","hiddenByDefault","toAdd","labelDefault","labelKey","iconKey","filters","InfiniteBlock","pageNumber","getDisplayIndexStart","getDisplayIndexEnd","setIndexAndTopOnRowNode","displayIndex","successCallback","failCallback","getRows","onBodyHeightChanged","checkPageSize","notActive","newPageSize","CSS_CELL","CSS_CELL_VALUE","CSS_AUTO_HEIGHT","CSS_RANGE_TOP","CSS_RANGE_RIGHT","CSS_RANGE_BOTTOM","CSS_RANGE_LEFT","CSS_CELL_FOCUS","CSS_FIRST_RIGHT_PINNED","CSS_LAST_LEFT_PINNED","CSS_NOT_INLINE_EDITING","CSS_INLINE_EDITING","CSS_POPUP_EDITING","CSS_RANGE_SELECTED","CSS_COLUMN_HOVER","CSS_CELL_WRAP_TEXT","CSS_RANGE_CHART","CSS_RANGE_SINGLE_CELL","CSS_RANGE_CHART_CATEGORY","CSS_RANGE_HANDLE","autoHeightCell","hasChartRange","editingCell","suppressRefreshCell","tooltipFeatureEnabled","cellEditorVersion","cellRendererVersion","createGridCellVo","rangeSelectionEnabled","cellFocused","rangeCount","getCellRangeCount","getHasChartRange","getValueAndFormat","setUsingWrapper","chooseCellRenderer","setupColSpan","unselectable","getCellWidth","getCellLeft","valueToRender","getInitialValueToRender","valueSanitised","tooltip","getToolTip","tooltipSanitised","colIdSanitised","wrapperStartTemplate","wrapperEndTemplate","stylesFromColDef","preProcessStylesFromColDef","getInitialCssClasses","stylesForRowSpanning","getStylesForRowSpanning","colIdxSanitised","usingWrapper","singleRowHeight","totalRowHeight","eParentRow","populateTemplate","createCellRendererInstance","refreshHandle","createTooltipFeatureIfNeeded","eventImpactsThisCell","mostLeftCol","onFlashCells","cellId","cellPositionUtils","createId","shouldFlash","cells","animateCell","onDisplayColumnsChanged","refreshAriaIndex","colIdx","doingFocusCss","preProcessClassesFromColDef","preProcessCellClassRules","getInitialRangeClasses","wrapText","usingCellRenderer","cellRendererGui","templateUrl","templateService","getValueToUse","getCellRenderer","getCellEditor","suppressCellFlash","forceRefresh","valuesDifferent","valuesAreEqual","dataNeedsUpdating","cellRendererRefreshed","attemptCellRendererRefresh","replaceContentsAfterRefresh","processingFilterChange","flashCell","postProcessStylesFromColDef","postProcessClassesFromColDef","updateAngular1ScopeAndCompile","refreshToolTip","postProcessCellClassRules","delays","flashDelay","fadeDelay","cssName","fullName","animationFullName","transition","eCellValue","putDataIntoCellAfterRefresh","childElementCount","compiledElement_1","stylesToUse","processStylesFromColDef","cellStyle","cssToUse","cellStyleParams","cellStyleFunc","processClassesFromColDef","createCellRendererParams","finalParams","newTooltip","hasNewTooltip","equalsMethod","tooltipValueGetter","escape","processCellClassRules","includeSelectionComponent","includeRowDraggingComponent","includeDndSourceComponent","cbSelectionIsFunc","rowDraggableIsFunc","dndSourceIsFunc","enableTextSelection","CELL_RENDERER_TYPE_PINNED","CELL_RENDERER_TYPE_NORMAL","useTaskService","afterCellRendererCreated","cellRendererTypeNormal","createCellRendererFunc","componentPromise","cellRendererNotRequired","addRowCompListener","lockedClosedGroup","isOpenGroup","groupFootersEnabled","groupAlwaysShowAggData","ignoreAggData","onCellClicked","onCellDoubleClicked","onMouseOut","onMouseOver","cellContextMenuEvent","EVENT_CELL_CONTEXT_MENU","onCellContextMenu","cellMouseOutEvent","EVENT_CELL_MOUSE_OUT","cellMouseOverEvent","EVENT_CELL_MOUSE_OVER","cellDoubleClickedEvent","EVENT_CELL_DOUBLE_CLICKED","editOnDoubleClick","startRowOrCellEdit","afterCellEditorCreated","createCellEditorParams","createCellEditor","cellEditorAsync","focusCell","cellEditorPromise","newCellEditor","popupEditorWrapper","versionMismatch","cellEditorNotNeeded","editingCancelledByUserComp","render","cellEditorInPopup","setInlineEditingClass","addPopupCellEditor","addInCellEditor","ePopupGui","useModelPopup","hideEditorPopup","onPopupEditorClosed","positionPopupOverComponent","stopRowOrCellEdit","editingInline","popupEditorShowing","stopEditingAndFocus","suppressNavigateAfterEdit","navigateAfterEdit","valueParser","setFocusInOnEditor","onEnterKeyDown","F2","onF2KeyDown","onEscapeKeyDown","BACKSPACE","DELETE","onBackspaceOrDeleteKeyPressed","onNavigationKeyPressed","setFocusOutOnEditor","onShiftRangeSelect","endCell","extendLatestRangeInDirection","fullRowEdit","eventTarget","eventOnChildComponent","pressedChar","charCode","onSpaceKeyPressed","isEventFromPrintableCharacter","isRightClickInExistingRange","containsWidget","thisCell","extendLatestRangeToCell","ctrlKeyPressed","EVENT_CELL_MOUSE_DOWN","cellInRange","isCellInAnyRange","isDoubleClickOnIPad","nowMillis","lastIPadMouseClickEvent","cellClickedEvent","EVENT_CELL_CLICKED","editOnSingleClick","cancelTask","selectionHandle","getRangeBorders","thisCol","leftCol","rightCol","ranges","isCellInSpecificRange","getRangeStartRow","getRangeEndRow","isSingleCell","borders","onRangeSelectionChanged","newRangeCount","updateRangeBorders","cellRanges","DIMENSION","VALUE","shouldHaveSelectionHandle","rangesLen","cellRange","fillHandleIsAvailable","hasCategoryRange","isCategoryCell","isContiguousRange","isBottomRightCell","addSelectionHandle","cellRangeType","selectionHandleFill","FILL","RANGE","selectionHandleFactory","createSelectionHandle","updateRangeBordersIfRangeCount","rangeBorders","onFirstRightPinnedChanged","onLastLeftPinnedChanged","eCellWrapper","addRowDragging","addDndSource","addSelectionCheckbox","clientSideRowModelActive","rowDraggingComp","dndSourceComp","cbSelectionComponent","visibleFunc","isMoreThanOneCell","newValueExists","userWantsToCancel","editingStoppedEvent","radius","offsetX","offsetY","dragListener","eParentCircle","parentCircleRect","calculateAngleDrag","eAngleValue","setLabelWidth","setMin","setMax","degrees","normalizeValue","floatValue","updateNumberInput","normalizeNegativeValue","normalizedValue","positionChildCircle","radians","eChildCircle","centerX","centerY","cos","sin","calculatePolar","atan2","toDegrees","sqrt","calculateCartesian","toRadians","getRadius","setOffsetX","setOffsetY","dx","dy","PI","normalizeAngle180","setRadius","radiansValue","gridInstanceId","MouseEventService_1","gridInstanceSequence","stampDomElementWithGridInstance","GRID_DOM_KEY","eventFromThisGrid","gridPanelHasScrolls","vRange","hRange","color","eGuiRect","colorDialog","colorPanel","AgColorPanel","picker","isDestroyingPicker","backgroundColor","defs","existingColumns","columnKeyCreator","ColumnKeyCreator","existingKeys","addExistingKeys","existingColsCopy","unbalancedTree","recursivelyCreateColumns","findMaxDept","balanceColumnTree","deptFirstCallback","autoGroupCols","fakeTreeItem","createAutoGroupTreeItem","balancedColumnTree","findDepth","nextChild","autoGroup","setChildren","currentDept","columnDept","originalGroup","newChildren","firstPaddedGroup","currentPaddedGroup","newColId","getUniqueKey","colGroupDefMerged","createMergedColGroupDef","paddedGroup","hasGroups","treeChildren","maxDeptThisLevel","newDept","newGroupOrColumn","isColumnGroup","createColumnGroup","createColumn","checkForDeprecatedItems","colDefMerged","findExistingColumn","newColDef","existingCol","existingColDef","newHasId","newHasField","columnType","assignColumnTypes","typeKeys","invalidArray","allColumnTypes","userTypes","typeColDef","colDefNoType","headerGroup","suppressRowGroup","suppressAggregation","columnsToAggregate","columnsToGroup","columnsToPivot","clearColumnsList","dragColumns","totalColumns","SortService","postSortFunc","sortOptions","sortActive","dirtyLeafNodes","noAggregations","pullDownGroupDataForHideOpenParents","sortedRowNodes","doDeltaSort","doFullSort","sorted","updateChildIndexes","updateGroupDataForHiddenOpenParents","mapNodeToSortedNode","compareRowNodes","currentPos","cleanNodes","passesDirtyNodesCheck","passesChangedPathCheck","cleanNodesMapped","sortedRowNode","changedNodes","mergeSortedArrays","arr1","arr2","compareResult","sortedNodeA","sortedNodeB","sortOption","isInverted","inverter","comparatorResult","listToSort","clearOperation","childRowNode","groupDisplayCols","groupDisplayCol","displayingGroupKey","thisRowNodeMatches","parentToStealFrom","optionsWrapper","colDefWidth","colDefInitialWidth","initialWidth","getOriginalPathForColumn","originalBalancedTree","recursePath","nextNode","tree","showPopup","positionCallback","filterWrapper","getOrCreateFilterWrapper","tabListener","trapFocusWithin","guiPromise","bodyScrollListener","isKeyboardEvent","KeyboardEvent","maxStackSize","actionStack","DEFAULT_STACK_SIZE","shouldAddActions","startValue","getStartValue","highlightAllOnFocus","inputEl","setSelectionRange","useFormatter","filterToFloatingFilterMapping","agSetColumnFilter","multi","agMultiColumnFilter","colField","idToTry","addColumnClassesFromCollDef","addToolPanelClassesFromColDef","toolPanelClass","classesOrFunc","classToUse","headerClassFunc","dateFrom","dateTo","createDateComponent","eReadOnlyText","eDateWrapper","allowEditing","dateModel","onDateChanged","filterValueDate","filterValueText","QuerySelector","selector","querySelectorFunc","addToObjectProps","GridListener","gridListenerFunc","GuiListener","guiListenerFunc","instanceName","setAriaAttribute","ariaAttributeName","removeAriaAttribute","getAriaLevel","labelledBy","setAriaDescribedBy","describedby","setAriaLevel","setsize","multiSelectable","colCount","colIndex","service","quickFilterUnregisterFn","$watch","addRtlSupport","eRootWrapperBody","onGridSizeChanged","sideBarModuleLoaded","SideBarModule","statusBarModuleLoaded","StatusBarModule","rowGroupingLoaded","enterpriseCoreLoaded","dropZones","statusBar","watermark","getFocusableContainers","focusableContainers","sideBarComp","idxWithFocus","nextIdx","focusGridHeader","lastColumn","firstColumn","EVENT_GRID_SIZE_CHANGED","getRootGui","openedItem","doingVirtualPaging","comparatorIsAFunction","indexToSelect","reUnescapedHtml","HTML_ESCAPES","utf8_encode","stringFromCharCode","ucs2decode","string","output","extra","charCodeAt","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","codePoints","byteString","camelCaseToHyphen","str","capitalise","toEscape","chr","rex","words","word","matchStart","NEW_LINE","SHIFT","list","url_1","URL","createObjectURL","bubbles","view","revokeObjectURL","moveItemsDown","moveFromIndex","moveCount","indexOfLastRowToMove","currentRowIndex","indexOfNodeWeWant","nodeForThisIndex","insertItems","indexToInsert","pageStartRow","pageEndRow","newRowNodes","currentRowInThisPage","newNodes","forEachBlockInReverseOrder","newNodesThisPage","hack_setVirtualRowCount","dontCreatePage","blockId","getBlock","createBlock","newBlock","postCreateBlock","forEachBlockInOrder","popupList","positionPopupForMenu","sourceRect","getParentRect","keepYWithinBounds","widthOfParent","maxX","xLeftPosition","xRightPosition","calculatePointerAlign","nudgeX","callPostProcessPopup","alignSide","keepXWithinBounds","bounds","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","docElement","documentRect","isBody","heightOfParent","maxY","keepPopupPositionedRelativeTo","initialDiffTop","lastDiffTop","intervalId","currentDiffTop","newTop","click","anchorToElement","hideFunc","setAlwaysOnTop","popupHidden","hidePopupOnKeyboardEvent","hidePopupOnMouseEvent","hidePopupOnTouchEvent","destroyPositionTracker","isEventFromCurrentPopup","isEventSameChainAsOriginalEvent","originalMouseEvent","indexOfThisChild","mouseEventOrTouch","screenX_1","screenX","screenY_1","screenY","xMatch","yMatch","getWrapper","popupLen","alwaysOnTopList","onTopLength","isPopupAlwaysOnTop","allAdvancedFilters","activeAdvancedFilters","quickFilter","quickFilterParts","FilterManager_1","parseQuickFilter","setQuickFilterParts","checkExternalFilter","allPromises","modelKeys_1","setModelOnFilterWrapper","updateActiveFilters","updateFilterFlagInColumns","externalFilterPresent","doAdvancedFiltersPass","filterToSkip","parsedFilter","onAnyFilterChanged","doesRowPassOtherFilters","doesRowPassQuickFilterNoCache","filterPart","getQuickFilterTextForColumn","doesRowPassQuickFilterCache","aggregateRowForQuickFilter","doesRowPassQuickFilter","usingCache","stringParts","QUICK_FILTER_SEPARATOR","createValueGetter","cachedFilter","createFilterWrapper","putIntoGui","createFilterInstance","defaultFilter","EVENT_FILTER_MODIFIED","doesRowPassOtherFilter","newFilterComponent","compiledElement","eFilterGui","guiFromFilter","EVENT_FILTER_OPENED","atLeastOneFilterGone","oldColumn","disposeFilterWrapper","cbSelectAllVisible","processingEventFromCheckbox","filteredOnly","headerCheckboxSelectionFilteredOnly","showOrHideSelectAll","onSelectionChanged","onModelChanged","onCbSelectAll","refreshSelectAllLabel","isCheckboxSelection","checkRightRowModelType","updateStateOfCheckbox","getNextCheckboxState","selectionCount","notSelected","getSelectionCount","allSelected","selectedCount","notSelectedCount","rowModelMatches","FlattenStage","skipLeafNodes","showRootNode","topList","recursivelyAddToRowsToDisplay","atLeastOneRowPresent","includeGroupTotalFooter","ensureFooterNodeExists","addRowNodeToRowsToDisplay","rowsToFlatten","hideOpenParents","isParent","isSkippedLeafNode","isRemovedSingleChildrenGroup","isRemovedLowestSingleChildrenGroup","neverAllowToExpand","isHiddenOpenParent","thisRowShouldBeRendered","excludedParent","uiLevelForChildren","createDetailNode","groupNode","footerNode","masterNode","setExpandable","onColumnVisibilityChanged","atLeastOneShowingWhenOpen","atLeastOneShowingWhenClosed","atLeastOneChangeable","findChildren","floatedValue","precision","adjustPrecision","floatString","toFixed","setPrecision","setStep","sortedVisibleColumns","oldDisplayedGroups","previousRealPath","previousOriginalPath","oldColumnsMapped","mapOldGroupsById","currentOriginalPath","currentRealPath","newGroup","noColumnGroups","setupParentsIntoColumns","uniqueId","recursive","columnsOrGroups","columnsOrGroup","anyExists","arr","compareArrays","array1","array2","shallowCompare","sortNumerically","array","removeRepeatsFromArray","thisOneMatches","nextOneMatches","toRemove","insertArrayIntoArray","src","objectsToMove","flatten","arrayOfArrays","toStrings","forEachReverse","mapped","filtered","initial","forEachSnapshotFirst","arrayCopy","childCount","rowTemplatesToAdd","afterGuiAttachedCallbacks","lastMadeVisibleTime","verticalScrollPosition","checkDomOrder","domOrder","flushRowTemplates","htmlToAdd","lastPlacedElement","isMadeVisibleRecently","millisSinceVisible","DateComponent","isCellRenderer","HeaderComponent","HeaderGroupComponent","CellRendererComponent","PinnedRowCellRendererComponent","CellEditorComponent","InnerRendererComponent","FilterComponent","FloatingFilterComponent","ToolPanelComponent","StatusPanelComponent","createIdFromValues","cellA","cellB","colsMatch","floatingMatch","indexMatch","initValue","valToReturn","peek","skip","allSyncListeners","allAsyncListeners","globalSyncListeners","globalAsyncListeners","asyncFunctionsQueue","scheduled","firedEvents","getListeners","listenerMap","listeners","dispatchToListeners","dispatchEventOnce","processEventListeners","dispatchAsync","globalListeners","flushAsyncQueue","queueCopy","blockCount","virtualRowCount","destroyAllBlocks","destroyBlock","onPageLoaded","checkVirtualRowCount","purgeBlocksIfNeeded","blockToExclude","blocksForPurging","maxBlocksProvided","blocksToKeep","emptyBlocksToKeep","MAX_EMPTY_BLOCKS_TO_KEEP","purgeBecauseBlockEmpty","purgeBecauseCacheFull","isBlockCurrentlyDisplayed","removeBlockFromCache","firstViewportRow","lastViewportRow","firstRowIndex","parentClosed","blockBeforeViewport","blockAfterViewport","blockInsideViewport","setBlock","blockToRemove","lastRowIndexPlusOverflow","ids","getBlockIdsSorted","forEachBlockId","numberComparator","blockIds","idStr","destroyAllBlocksPastVirtualRowCount","blocksToDestroy","lastBlockId","inActiveRange","numberSequence","foundGapInSelection","hitFirstOrLast","invalidRange","cellExpressions","forFilter","groupDataExists","aggDataExists","executeFilterValueGetter","executeValueGetter","cellValueGetter","newValueHandler","valueSetter","valueWasDifferent","setValueUsingField","valuesAreSame","fieldPieces","fieldPiece","getValueCallback","valueFromCache","getKeyForNode","keyCreator","addMouseHoverListeners","createAndInitUserComponent","newSetFilterCellRenderer","defaultFloatingFilter","newToolPanelComponent","toolPanelDef","newStatusPanelComponent","definitionObject","paramsFromGrid","componentType","defaultComponentName","componentAndParams","createComponentInstance","componentInstance","addReactHacks","deferredInit","initComponent","agGridReact","frameworkComponentWrapper","clazz","agGridParams","internalComponent","hardcodedNameComponent","HardcodedJsComponent","HardcodedFwComponent","componentSelectorFunc","componentPropertyValue","usingDefaultComponent","HARDCODED","selectorResult","componentNameToUse","registeredCompClassDef","lookupFromRegisteredComponents","componentNameOpt","registeredComponent","REGISTERED_BY_NAME","holder","paramsForSelector","componentToUse","overrideName","nameToReport","FrameworkComponentRaw","thisComponentConfig","wrap","BaseComponentWrapper","OriginalConstructor","wrapper","createWrapper","createMethod","mandatory","addMethod","createMethodProxy","hasMethod","callMethod","colGroupDefs","createDefFromColumn","addToResult","childDef","parent_1","parentDef","existingParentDef","createDefFromGroup","defCloned","colDefCloned","headerRoot","getHeaderRowType","fromHeader","rowLen","isUp","currentRowType","nextFocusColumn","fromTab","normalisedDirection","headerPositionUtils","focusNextHeaderRow","nextPosition","nextRowIndex","columnToScrollTo","inputValues","validValues","allSuggestions","fuzzyMatches","invalidInputs","inputValue","validValue","invalidInput","fuzzySuggestions","hideIrrelevant","weighted","search","string_weighted_distances","string_distances","thisSuggestions","relevance","toLocaleLowerCase","suggestion","get_bigrams","str1","str2","pairs1","pairs2","union","hit_count","len1","weight","Color","fromString","fromHexString","nameToHex","fromRgbaString","hexRe","shortHexRe","rgbRe","rgbaRe","fromArray","fromHSB","h","alpha","rgb","HSBtoRGB","padHex","toHexString","toRgbaString","fractionDigits","pow","toHSB","RGBtoHSB","S","H","NaN","rc","gc","bc","B","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","rgba","brighter","darker","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","eSlider","eventChanged","textValue","sliderValue","setSliderWidth","setTextFieldWidth","setMinValue","minValue","setMaxValue","maxValue","initialiseAgGridWithAngular1","angular","angularModule","directive","restrict","AngularDirectiveController","$element","$attrs","keyOfGridInScope","agGrid","$eval","$on","SortStage","clientSide","dateCondition1FromComp","dateCondition1ToComp","dateCondition2FromComp","dateCondition2ToComp","getFromToComponents","compFrom","compTo","dateFilterParams","filterDate","cellAsDate","createDateComponents","eCondition1PanelFrom","eCondition1PanelTo","eCondition2PanelFrom","eCondition2PanelTo","ariaLabel","setupLabel","addGroupExpandIcon","setupExpandIcons","expandAction","addTouchAndClickListeners","eCloseIcon","eOpenIcon","stopPropagationAction","updateIconVisibility","getSortForRowController","calculateDirtyNodes","sortService","dirtyNodes","addNodesFunc","tran","destroyFuncsForColumnListeners","rowCompsByIndex","floatingTopRowComps","floatingBottomRowComps","refreshInProgress","getGridCore","rowContainers","onPinnedRowDataChanged","registerCellEventListeners","EVENT_FLASH_CELLS","EVENT_RANGE_SELECTION_CHANGED","refreshListenersToColumnsForCellComps","removeGridColumnListeners","forEachCellWithThisCol","leftChangedListener","firstRightPinnedChangedListener","lastLeftPinnedChangedListener","destroyRows","firstRenderedRow","lastRenderedRow","rowIndexesToRemove","removeRowComps","refreshEvent","refreshFloatingRowComps","refreshFloatingRows","flushContainers","recycleRows","onlyBody","getRenderedIndexesForRowNodes","indexesToRemove","getCellToRestoreFocusToAfterRefresh","focusedCell","suppressKeepFocus","elementIsNotACellDev","getLockOnRefresh","sizeContainerToPageHeight","scrollToTopIfNewData","rowsToRecycle","binRowComps","isFocusedCellGettingRecycled","rowIndexEqual","pinnedEqual","focusedCellRecycled","redraw","restoreFocusedCell","releaseLockOnRefresh","suppressScrollToTop","containerHeight","realHeight","forEachRowComp","forEachCellCompFiltered","refreshCellParams","rowIdsMap","normal","colIdsMap","excludeColFromRefresh","rowsToRemove","indexToRemove","removeRowCompsNotToDraw","indexesToDraw","indexesToDrawMap","existingIndexes","indexesNotToDraw","calculateIndexesToDraw","checkRowToDraw","doNotUnVirtualiseRow","afterScroll","workOutFirstAndLastRowsToRender","nextVmTurnFunctions","createOrUpdateRowComp","useAnimationFrame","addDestroyTask","checkAngularCompile","redrawFullWidthEmbeddedRows","selectivelyRefreshing","idsToRefresh","parentId","fullWidthRowsRefreshed","creatingNewRowComp","createRowComp","rowCompsMap","delayedFuncs","bodyVRange","bodyTopPixel","bodyBottomPixel","bufferPixels","firstPixel","ensureAllRowsInRangeHaveHeightsCalculated","pageFirstRow","rowLayoutNormal","suppressRowCountRestriction","rowBufferMaxSize","firstDiffers","lastDiffers","EVENT_VIEWPORT_CHANGED","EVENT_FIRST_DATA_RENDERED","rowHeightsChanged","REMOVE_ROW","KEEP_ROW","rowHasFocus","rowIsEditing","rowIsDetail","mightWantToKeepRow","rowNodePresent","allowUserOverride","nextCell","hitEdgeOfGrid","isValidNavigateCell","getLastCellOfColSpan","cellNavigationService","previousCellPosition","nextCellPosition","userCell","headerLen","getComponentForCell","usingFullWidthRows","colSpanningList","cellComponent","previousRenderedCell","moveToCellAfter","moveToNextEditingRow","moveToNextEditingCell","moveToNextCellNotEditing","nextRenderedCell","findNextCellToFocusOn","foundCell","moveEditToNextCellOrRow","pGridCell","nGridCell","rowsMatch","pRow","nRow","startEditing","lookupRowNodeForCell","cellIsEditable","cellIsNotFloating","nextCellComp","pickerIcon","popupRole","skipClick","displayId","clickHandler","pickerComponent","crcTable","folders","files","addFolder","created","addFolders","paths","addFile","clearStream","getContent","mimeType","textOutput","buildFileStream","uInt8Output","buildUint8Array","fData","totalFiles","foData","lL","cL","totalFiles_1","currentFile","getHeader","fileHeader","folderHeader","foEnd","buildFolderEnd","utfPath","isUTF8","time","convertTime","dt","convertDate","extraFields","uExtraFieldPath","getFromCrc32Table","tLen","cLen","lLen","uint8","Uint8Array","crc","DEFAULT_LOADING_OVERLAY_TEMPLATE","expressionToFunctionCache","expressionOrFunc","evaluateExpression","javaScriptFunction","createExpressionFunction","functionBody","createFunctionBody","theFunction","Function","createTasksP1","createTasksP2","destroyTasks","ticking","scrollGoingDown","lastScrollTop","taskCount","cancelledTasks","verifyAnimationFrameOn","task","taskItem","createOrder","addTaskToList","schedule","taskList","sortTaskList","sortDirection","executeFrame","millis","p1TaskList","p1Tasks","p2TaskList","p2Tasks","frameStart","noMaxMillis","requestFrame","stopTicking","EVENT_ANIMATION_QUEUE_EMPTY","requestAnimationFrame","webkitRequestAnimationFrame","shouldUseBrowserDatePicker","eDateInput","browserDatePicker","logging","isLoggingFunc","cellRendererMap","CellRendererFactory_1","ANIMATE_SLIDE","ANIMATE_SHOW_CHANGE","GROUP","addCellRenderer","normalizeWheel","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","isLeftClick","e1","e2","pixelCount","diffX","diffY","SortController_1","nextDirection","getNextSortDirection","doingMultiSort","clearSortBarThisColumn","updateSortIndex","lastColToChange","allSortedCols","allCols","sortedCols","columnToSkip","columnToClear","DEFAULT_SORTING_ORDER","notInArray","lastItemInArray","allColumnsIncludingAuto","columnsWithSorting","isAscending","PRINTABLE_CHARACTERS","NUMPAD_DEL_NUMLOCK_ON_KEY","NUMPAD_DEL_NUMLOCK_ON_CHARCODE","keyToCheck","isCharacterKey","printableCharacter","numpadDelWithNumlockOnForEdgeOrIe","isNumpadDelWithNumlockOnForEdgeOrIe","gridOptionsFunc","colDefFunc","colDefFuncResult","getNameOfClass","theClass","funcNameRegex","funcAsString","results","findLineByLeastSquares","maxDecimals","sum_x","sum_y","sum_xy","sum_xx","resParts","styleKey","styleValue","styleKeyDashed","eMessage","eBox","eTarget","labelSeparator","labelWidth","setLabelSeparator","setLabelAlignment","EVENT_CHART_CREATED","EVENT_CHART_RANGE_SELECTION_CHANGED","EVENT_CHART_OPTIONS_CHANGED","EVENT_CHART_DESTROYED","EVENT_TOOL_PANEL_VISIBLE_CHANGED","EVENT_POPUP_TO_FRONT","EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST","EVENT_COLUMN_PIVOT_CHANGE_REQUEST","EVENT_COLUMN_VALUE_CHANGE_REQUEST","EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST","topDisplayedRowIndex","bottomDisplayedRowIndex","masterRowCount","onPaginationPageSizeChanged","calculatePages","modelUpdatedEvent","paginationChangedEvent","topRowBounds","bottomRowBounds","nodeIsInPage","getPageForIndex","rowPage","lastPage","setPageSize","calculatePagesAllRows","calculatePagesMasterRowsOnly","calculatedPagesNotActive","setPixelOffset","setZeroRows","masterLastRowIndex","masterPageStartIndex","masterPageEndIndex","firstIndexNotToShow","maxRowIndex","scalarFilterParams","checkDeprecatedParams","nullComparator","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan","selectedOption","filterValue","gridValue","filterValueTo","compareToResult","inRangeInclusive","templateCache","waitingCallbacks","templateFromCache","callbackList","client","onload","handleHttpResult","httpResult","response","callbacks","that_1","TabbedLayout","eHeader","currentPosition","activeItem","nextItem","showItemWrapper","eHeaderButton","nextEl","setAfterAttachedParams","afterAttachedParams","getMinDimensions","eDummyBody","itemWrapper","eClone","tabbedItem","bodyPromise","showFirstItem","titleLabel","showItem","onItemClicked","onActiveItemClicked","afterAttachedCallback","isSpectrumDragging","isSpectrumHueDragging","isSpectrumAlphaDragging","colorChanged","initRecentColors","spectrumVal","onSpectrumDraggerDown","onSpectrumDraggerMove","spectrumHue","onSpectrumHueDown","onSpectrumHueMove","spectrumAlpha","onSpectrumAlphaDown","onSpectrumAlphaMove","recentColors","onRecentColorClick","refreshSpectrumRect","spectrumValRect","refreshHueRect","spectrumHueRect","refreshAlphaRect","spectrumAlphaRect","moveDragger","moveHueSlider","moveAlphaSlider","valRect","setSpectrumValue","hueRect","slider","spectrumHueSlider","sliderRect","alphaRect","spectrumAlphaSlider","spectrumColor","rgbaColor","existingColor","spectrumDragger","saturation","brightness","dragger","draggerRect","innerHtml","addRecentColor","maxRecentColors","needToMoveLeft","needToMoveRight","dragCameFromToolPanel","visibleState_1","hideColumnOnExit","allowedCols","normaliseX","xAdjustedForScroll","firstVisiblePixel","lastVisiblePixel","fromEnter","mouseXNormalised","hDirectionNormalised","normaliseDirection","dragSourceType","attemptMoveColumns","calculateOldIndex","movingCols","gridCols","firstIndex","gapsExist","allMovingColumns","mouseX","draggingLeft","draggingRight","allMovingColumnsOrdered","validMoves","calculateValidMoves","firstValidMove","constrainDirection","move","isMoveBlocked","allDisplayedCols","allGridCols","movingDisplayedCols","otherDisplayedCols","otherGridCols","widthOfMovingDisplayedCols_1","leftColumn","displacedCol","isColumnHidden","firstDisplayIndex","failedMoveAttempts","columnsThatCanPin","pinType","onSelectableChanged","showOrHideSelect","onCheckedClicked","onUncheckedClicked","checkboxVisibleIsDynamic","checkboxCallbackExists"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA;CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAMA,IAAIuoH,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgC,EAAhC,GAAqCA,MAArD;AACAD,SAAS,CAAC7tI,WAAV,GAAwB,OAAOA,WAAP,KAAuB,WAAvB,GAAqC,EAArC,GAA0CA,WAAlE;AACA6tI,SAAS,CAACE,iBAAV,GAA8B,OAAOA,iBAAP,KAA6B,WAA7B,GAA2C,EAA3C,GAAgDA,iBAA9E;AACAF,SAAS,CAACG,iBAAV,GAA8B,OAAOA,iBAAP,KAA6B,WAA7B,GAA2C,EAA3C,GAAgDA,iBAA9E;AACAH,SAAS,CAACI,gBAAV,GAA6B,OAAOA,gBAAP,KAA4B,WAA5B,GAA0C,EAA1C,GAA+CA,gBAA5E;AACAJ,SAAS,CAAC3jE,IAAV,GAAiB,OAAOA,IAAP,KAAgB,WAAhB,GAA8B,EAA9B,GAAmCA,IAApD;AACA2jE,SAAS,CAACK,UAAV,GAAuB,OAAOA,UAAP,KAAsB,WAAtB,GAAoC,EAApC,GAAyCA,UAAhE,C,CACA;;AACA;AACA;AACA;AACA;AACA;CAEA;;AACA;AACA;AACA;AACA;AACA;CAEA;;AACA;AACA;CAEA;;AACA;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;AACA;AACA;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;AACA;AACA;AACA;AACA;AACA;CAEA;;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;;AACA;AACA;CAEA;;;;;;;;;;;;;;AC5JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACO,IAAIh+D,eAAe,GAAG;AACzBzyD,YAAU,EAAErY,mEAAW,CAAC8qE,eADC;AAEzBpvE,OAAK,EAAE,CAAC6sG,gEAAD,EAAawgC,gEAAb,EAAyBC,gEAAzB,EAAqC36G,wEAArC,EAAqD46G,oEAArD;AAFkB,CAAtB,C;;;;;;;;;;;;ACNP;AAAA;AAAA;AAAA;AAAA;;;;;;AAMA,IAAI36I,SAAS,GAAI,SAAI,IAAI,SAAI,CAACA,SAAd,IAA6B,YAAY;AACrD,MAAIC,cAAa,GAAG,uBAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,kBAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,eAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,OAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd;A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","file":"default~app-administration-app-administration-module~apps-management-apps-management-module~content-~fd907a9b.js","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.STEP_EVERYTHING = 0;\n    Constants.STEP_FILTER = 1;\n    Constants.STEP_SORT = 2;\n    Constants.STEP_MAP = 3;\n    Constants.STEP_AGGREGATE = 4;\n    Constants.STEP_PIVOT = 5;\n    Constants.ROW_BUFFER_SIZE = 10;\n    Constants.LAYOUT_INTERVAL = 500;\n    Constants.BATCH_WAIT_MILLIS = 50;\n    Constants.EXPORT_TYPE_DRAG_COPY = 'dragCopy';\n    Constants.EXPORT_TYPE_CLIPBOARD = 'clipboard';\n    Constants.EXPORT_TYPE_EXCEL = 'excel';\n    Constants.EXPORT_TYPE_CSV = 'csv';\n    Constants.ROW_MODEL_TYPE_INFINITE = 'infinite';\n    Constants.ROW_MODEL_TYPE_VIEWPORT = 'viewport';\n    Constants.ROW_MODEL_TYPE_CLIENT_SIDE = 'clientSide';\n    Constants.ROW_MODEL_TYPE_SERVER_SIDE = 'serverSide';\n    Constants.ALWAYS = 'always';\n    Constants.ONLY_WHEN_GROUPING = 'onlyWhenGrouping';\n    Constants.PINNED_TOP = 'top';\n    Constants.PINNED_BOTTOM = 'bottom';\n    Constants.DOM_LAYOUT_NORMAL = 'normal';\n    Constants.DOM_LAYOUT_PRINT = 'print';\n    Constants.DOM_LAYOUT_AUTO_HEIGHT = 'autoHeight';\n    Constants.GROUP_AUTO_COLUMN_ID = 'ag-Grid-AutoColumn';\n    Constants.SOURCE_PASTE = 'paste';\n    Constants.PINNED_RIGHT = 'right';\n    Constants.PINNED_LEFT = 'left';\n    Constants.SORT_ASC = 'asc';\n    Constants.SORT_DESC = 'desc';\n    return Constants;\n}());\nexport { Constants };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from '../context/context';\nimport { Events } from \"../events\";\nimport { AgAbstractInputField } from './agAbstractInputField';\nimport { addOrRemoveCssClass } from '../utils/dom';\nvar AgCheckbox = /** @class */ (function (_super) {\n    __extends(AgCheckbox, _super);\n    function AgCheckbox(config, className, inputType) {\n        if (className === void 0) { className = 'ag-checkbox'; }\n        if (inputType === void 0) { inputType = 'checkbox'; }\n        var _this = _super.call(this, config, className, inputType) || this;\n        _this.labelAlignment = 'right';\n        _this.selected = false;\n        _this.readOnly = false;\n        _this.passive = false;\n        return _this;\n    }\n    AgCheckbox.prototype.addInputListeners = function () {\n        this.addManagedListener(this.eInput, 'click', this.onCheckboxClick.bind(this));\n        this.addManagedListener(this.eLabel, 'click', this.toggle.bind(this));\n    };\n    AgCheckbox.prototype.getNextValue = function () {\n        return this.selected === undefined ? true : !this.selected;\n    };\n    AgCheckbox.prototype.setPassive = function (passive) {\n        this.passive = passive;\n    };\n    AgCheckbox.prototype.isReadOnly = function () {\n        return this.readOnly;\n    };\n    AgCheckbox.prototype.setReadOnly = function (readOnly) {\n        addOrRemoveCssClass(this.eWrapper, 'ag-disabled', readOnly);\n        this.eInput.disabled = readOnly;\n        this.readOnly = readOnly;\n    };\n    AgCheckbox.prototype.setDisabled = function (disabled) {\n        addOrRemoveCssClass(this.eWrapper, 'ag-disabled', disabled);\n        return _super.prototype.setDisabled.call(this, disabled);\n    };\n    AgCheckbox.prototype.toggle = function () {\n        var nextValue = this.getNextValue();\n        if (this.passive) {\n            this.dispatchChange(nextValue);\n        }\n        else {\n            this.setValue(nextValue);\n        }\n    };\n    AgCheckbox.prototype.getValue = function () {\n        return this.isSelected();\n    };\n    AgCheckbox.prototype.setValue = function (value, silent) {\n        this.refreshSelectedClass(value);\n        this.setSelected(value, silent);\n        return this;\n    };\n    AgCheckbox.prototype.setName = function (name) {\n        var input = this.getInputElement();\n        input.name = name;\n        return this;\n    };\n    AgCheckbox.prototype.isSelected = function () {\n        return this.selected;\n    };\n    AgCheckbox.prototype.setSelected = function (selected, silent) {\n        if (this.isSelected() === selected) {\n            return;\n        }\n        this.selected = typeof selected === 'boolean' ? selected : undefined;\n        this.eInput.checked = this.selected;\n        this.eInput.indeterminate = this.selected === undefined;\n        if (!silent) {\n            this.dispatchChange(this.selected);\n        }\n    };\n    AgCheckbox.prototype.dispatchChange = function (selected, event) {\n        this.dispatchEvent({ type: AgCheckbox.EVENT_CHANGED, selected: selected, event: event });\n        var input = this.getInputElement();\n        var checkboxChangedEvent = {\n            type: Events.EVENT_CHECKBOX_CHANGED,\n            id: input.id,\n            name: input.name,\n            selected: selected\n        };\n        this.eventService.dispatchEvent(checkboxChangedEvent);\n    };\n    AgCheckbox.prototype.onCheckboxClick = function (e) {\n        this.selected = e.target.checked;\n        this.refreshSelectedClass(this.selected);\n        this.dispatchChange(this.selected, e);\n    };\n    AgCheckbox.prototype.refreshSelectedClass = function (value) {\n        addOrRemoveCssClass(this.eWrapper, 'ag-checked', value === true);\n        addOrRemoveCssClass(this.eWrapper, 'ag-indeterminate', value == null);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AgCheckbox.prototype, \"gridOptionsWrapper\", void 0);\n    return AgCheckbox;\n}(AgAbstractInputField));\nexport { AgCheckbox };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { getMaxDivHeight } from \"../utils/browser\";\n/**\n * This class solves the 'max height' problem, where the user might want to show more data than\n * the max div height actually allows.\n */\nvar MaxDivHeightScaler = /** @class */ (function (_super) {\n    __extends(MaxDivHeightScaler, _super);\n    function MaxDivHeightScaler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // the scrollY position\n        _this.scrollY = 0;\n        // how tall the body is\n        _this.uiBodyHeight = 0;\n        return _this;\n    }\n    MaxDivHeightScaler.prototype.postConstruct = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.updateOffset.bind(this));\n        this.scrollBarWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        this.maxDivHeight = getMaxDivHeight();\n    };\n    MaxDivHeightScaler.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    MaxDivHeightScaler.prototype.isScaling = function () {\n        return this.scaling;\n    };\n    MaxDivHeightScaler.prototype.getOffset = function () {\n        return this.offset;\n    };\n    MaxDivHeightScaler.prototype.updateOffset = function () {\n        if (!this.scaling) {\n            return;\n        }\n        var newScrollY = this.gridPanel.getVScrollPosition().top;\n        var newBodyHeight = this.getUiBodyHeight();\n        var atLeastOneChanged = newScrollY !== this.scrollY || newBodyHeight !== this.uiBodyHeight;\n        if (atLeastOneChanged) {\n            this.scrollY = newScrollY;\n            this.uiBodyHeight = newBodyHeight;\n            this.calculateOffset();\n        }\n    };\n    MaxDivHeightScaler.prototype.calculateOffset = function () {\n        this.uiContainerHeight = this.maxDivHeight;\n        this.pixelsToShave = this.modelHeight - this.uiContainerHeight;\n        this.maxScrollY = this.uiContainerHeight - this.uiBodyHeight;\n        var scrollPercent = this.scrollY / this.maxScrollY;\n        this.setOffset(scrollPercent * this.pixelsToShave);\n    };\n    MaxDivHeightScaler.prototype.clearOffset = function () {\n        this.uiContainerHeight = this.modelHeight;\n        this.pixelsToShave = 0;\n        this.setOffset(0);\n    };\n    MaxDivHeightScaler.prototype.setOffset = function (newOffset) {\n        // because we are talking pixels, no point in confusing things with half numbers\n        var newOffsetFloor = typeof newOffset === 'number' ? Math.floor(newOffset) : null;\n        if (this.offset === newOffsetFloor) {\n            return;\n        }\n        this.offset = newOffsetFloor;\n        this.eventService.dispatchEvent({ type: Events.EVENT_HEIGHT_SCALE_CHANGED });\n    };\n    MaxDivHeightScaler.prototype.setModelHeight = function (modelHeight) {\n        this.modelHeight = modelHeight;\n        this.scaling = this.maxDivHeight > 0 && modelHeight > this.maxDivHeight;\n        if (this.scaling) {\n            this.calculateOffset();\n        }\n        else {\n            this.clearOffset();\n        }\n    };\n    MaxDivHeightScaler.prototype.getUiContainerHeight = function () {\n        return this.uiContainerHeight;\n    };\n    MaxDivHeightScaler.prototype.getRealPixelPosition = function (modelPixel) {\n        return modelPixel - this.offset;\n    };\n    MaxDivHeightScaler.prototype.getUiBodyHeight = function () {\n        var pos = this.gridPanel.getVScrollPosition();\n        return pos.bottom - pos.top;\n    };\n    MaxDivHeightScaler.prototype.getScrollPositionForPixel = function (rowTop) {\n        if (this.pixelsToShave <= 0) {\n            return rowTop;\n        }\n        var modelMaxScroll = this.modelHeight - this.getUiBodyHeight();\n        var scrollPercent = rowTop / modelMaxScroll;\n        var scrollPixel = this.maxScrollY * scrollPercent;\n        return scrollPixel;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], MaxDivHeightScaler.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], MaxDivHeightScaler.prototype, \"postConstruct\", null);\n    MaxDivHeightScaler = __decorate([\n        Bean('maxDivHeightScaler')\n    ], MaxDivHeightScaler);\n    return MaxDivHeightScaler;\n}(BeanStub));\nexport { MaxDivHeightScaler };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/***********************************************************************\n * Don't forget to update PropertyKeys if changing this class. PLEASE! *\n ***********************************************************************/\n// when merging columns (eg column types, defaultColDef and the colDef) we give special treatment to param\n// objects, as we want param objects to be merged.\nexport var COL_DEF_PARAM_OBJECTS = [\n    'tooltipComponentParams', 'headerGroupComponentParams', 'cellRendererParams',\n    'cellEditorParams', 'pinnedRowCellRendererParams', 'columnsMenuParams',\n    'headerComponentParams'\n];\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '../../../widgets/component';\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { Autowired } from '../../../context/context';\n// optional floating filter for user provided filters - instead of providing a floating filter,\n// they can provide a getModelAsString() method on the filter instead. this class just displays\n// the string returned from getModelAsString()\nvar ReadOnlyFloatingFilter = /** @class */ (function (_super) {\n    __extends(ReadOnlyFloatingFilter, _super);\n    function ReadOnlyFloatingFilter() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eFloatingFilterText\\\"></ag-input-text-field>\\n            </div>\") || this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    ReadOnlyFloatingFilter.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    ReadOnlyFloatingFilter.prototype.init = function (params) {\n        this.params = params;\n        var displayName = this.columnController.getDisplayNameForColumn(params.column, 'header', true);\n        this.eFloatingFilterText\n            .setDisabled(true)\n            .setInputAriaLabel(displayName + \" Filter Input\");\n    };\n    ReadOnlyFloatingFilter.prototype.onParentModelChanged = function (parentModel) {\n        var _this = this;\n        if (!parentModel) {\n            this.eFloatingFilterText.setValue('');\n            return;\n        }\n        this.params.parentFilterInstance(function (filterInstance) {\n            // getModelAsString should be present, as we check this\n            // in floatingFilterWrapper\n            if (filterInstance.getModelAsString) {\n                var modelAsString = filterInstance.getModelAsString(parentModel);\n                _this.eFloatingFilterText.setValue(modelAsString);\n            }\n        });\n    };\n    __decorate([\n        RefSelector('eFloatingFilterText')\n    ], ReadOnlyFloatingFilter.prototype, \"eFloatingFilterText\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], ReadOnlyFloatingFilter.prototype, \"columnController\", void 0);\n    return ReadOnlyFloatingFilter;\n}(Component));\nexport { ReadOnlyFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var DEFAULT_FILTER_LOCALE_TEXT = {\n    applyFilter: 'Apply',\n    clearFilter: 'Clear',\n    resetFilter: 'Reset',\n    cancelFilter: 'Cancel',\n    textFilter: 'Text Filter',\n    numberFilter: 'Number Filter',\n    dateFilter: 'Date Filter',\n    setFilter: 'Set Filter',\n    filterOoo: 'Filter...',\n    empty: 'Choose One',\n    equals: 'Equals',\n    notEqual: 'Not equal',\n    lessThan: 'Less than',\n    greaterThan: 'Greater than',\n    inRange: 'In range',\n    inRangeStart: 'From',\n    inRangeEnd: 'To',\n    lessThanOrEqual: 'Less than or equals',\n    greaterThanOrEqual: 'Greater than or equals',\n    contains: 'Contains',\n    notContains: 'Not contains',\n    startsWith: 'Starts with',\n    endsWith: 'Ends with',\n    andCondition: 'AND',\n    orCondition: 'OR',\n    dateFormatOoo: 'yyyy-mm-dd',\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EventService } from \"../eventService\";\nimport { Autowired, PreDestroy } from \"./context\";\nimport { forEach } from '../utils/array';\nimport { addSafePassiveEventListener } from \"../utils/event\";\nvar BeanStub = /** @class */ (function () {\n    function BeanStub() {\n        var _this = this;\n        this.destroyFunctions = [];\n        this.destroyed = false;\n        this.getContext = function () { return _this.context; };\n        this.isAlive = function () { return !_this.destroyed; };\n    }\n    // this was a test constructor niall built, when active, it prints after 5 seconds all beans/components that are\n    // not destroyed. to use, create a new grid, then api.destroy() before 5 seconds. then anything that gets printed\n    // points to a bean or component that was not properly disposed of.\n    // constructor() {\n    //     setTimeout(()=> {\n    //         if (this.isAlive()) {\n    //             let prototype: any = Object.getPrototypeOf(this);\n    //             const constructor: any = prototype.constructor;\n    //             const constructorString = constructor.toString();\n    //             const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n    //             console.log('is alive ' + beanName);\n    //         }\n    //     }, 5000);\n    // }\n    // CellComp and GridComp and override this because they get the FrameworkOverrides from the Beans bean\n    BeanStub.prototype.getFrameworkOverrides = function () {\n        return this.frameworkOverrides;\n    };\n    BeanStub.prototype.destroy = function () {\n        // let prototype: any = Object.getPrototypeOf(this);\n        // const constructor: any = prototype.constructor;\n        // const constructorString = constructor.toString();\n        // const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n        this.destroyFunctions.forEach(function (func) { return func(); });\n        this.destroyFunctions.length = 0;\n        this.destroyed = true;\n        this.dispatchEvent({ type: BeanStub.EVENT_DESTROYED });\n    };\n    BeanStub.prototype.addEventListener = function (eventType, listener) {\n        if (!this.localEventService) {\n            this.localEventService = new EventService();\n        }\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    BeanStub.prototype.removeEventListener = function (eventType, listener) {\n        if (this.localEventService) {\n            this.localEventService.removeEventListener(eventType, listener);\n        }\n    };\n    BeanStub.prototype.dispatchEventAsync = function (event) {\n        var _this = this;\n        window.setTimeout(function () { return _this.dispatchEvent(event); }, 0);\n    };\n    BeanStub.prototype.dispatchEvent = function (event) {\n        if (this.localEventService) {\n            this.localEventService.dispatchEvent(event);\n        }\n    };\n    BeanStub.prototype.addManagedListener = function (object, event, listener) {\n        var _this = this;\n        if (this.destroyed) {\n            return;\n        }\n        if (object instanceof HTMLElement) {\n            addSafePassiveEventListener(this.getFrameworkOverrides(), object, event, listener);\n        }\n        else {\n            object.addEventListener(event, listener);\n        }\n        var destroyFunc = function () {\n            object.removeEventListener(event, listener);\n            _this.destroyFunctions = _this.destroyFunctions.filter(function (fn) { return fn !== destroyFunc; });\n            return null;\n        };\n        this.destroyFunctions.push(destroyFunc);\n        return destroyFunc;\n    };\n    BeanStub.prototype.addDestroyFunc = function (func) {\n        // if we are already destroyed, we execute the func now\n        if (this.isAlive()) {\n            this.destroyFunctions.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    BeanStub.prototype.createManagedBean = function (bean, context) {\n        var res = this.createBean(bean, context);\n        this.addDestroyFunc(this.destroyBean.bind(this, bean, context));\n        return res;\n    };\n    BeanStub.prototype.createBean = function (bean, context, afterPreCreateCallback) {\n        return (context || this.getContext()).createBean(bean, afterPreCreateCallback);\n    };\n    BeanStub.prototype.destroyBean = function (bean, context) {\n        return (context || this.getContext()).destroyBean(bean);\n    };\n    BeanStub.prototype.destroyBeans = function (beans, context) {\n        var _this = this;\n        if (beans) {\n            forEach(beans, function (bean) { return _this.destroyBean(bean, context); });\n        }\n        return [];\n    };\n    BeanStub.EVENT_DESTROYED = 'destroyed';\n    __decorate([\n        Autowired('frameworkOverrides')\n    ], BeanStub.prototype, \"frameworkOverrides\", void 0);\n    __decorate([\n        Autowired('context')\n    ], BeanStub.prototype, \"context\", void 0);\n    __decorate([\n        Autowired('eventService')\n    ], BeanStub.prototype, \"eventService\", void 0);\n    __decorate([\n        PreDestroy\n    ], BeanStub.prototype, \"destroy\", null);\n    return BeanStub;\n}());\nexport { BeanStub };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"../../widgets/component\";\nimport { PostConstruct } from \"../../context/context\";\nimport { RowNode } from \"../../entities/rowNode\";\nimport { DragSourceType } from \"../../dragAndDrop/dragAndDropService\";\nimport { Events } from \"../../eventKeys\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { createIconNoSpan } from \"../../utils/icon\";\nimport { doOnce, isFunction } from \"../../utils/function\";\nvar RowDragComp = /** @class */ (function (_super) {\n    __extends(RowDragComp, _super);\n    function RowDragComp(rowNode, column, cellValue, beans) {\n        var _this = _super.call(this, /* html */ \"<div class=\\\"ag-drag-handle ag-row-drag\\\" aria-hidden=\\\"true\\\"></div>\") || this;\n        _this.rowNode = rowNode;\n        _this.column = column;\n        _this.cellValue = cellValue;\n        _this.beans = beans;\n        return _this;\n    }\n    RowDragComp.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        eGui.appendChild(createIconNoSpan('rowDrag', this.beans.gridOptionsWrapper, null));\n        this.addDragSource();\n        this.checkCompatibility();\n        var strategy = this.beans.gridOptionsWrapper.isRowDragManaged() ?\n            new ManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column) :\n            new NonManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column);\n        this.createManagedBean(strategy, this.beans.context);\n    };\n    RowDragComp.prototype.getSelectedCount = function () {\n        var multiRowEnabled = this.beans.gridOptionsWrapper.isEnableMultiRowDragging();\n        if (!multiRowEnabled) {\n            return 1;\n        }\n        var selection = this.beans.selectionController.getSelectedNodes();\n        return selection.indexOf(this.rowNode) !== -1 ? selection.length : 1;\n    };\n    // returns true if all compatibility items work out\n    RowDragComp.prototype.checkCompatibility = function () {\n        var managed = this.beans.gridOptionsWrapper.isRowDragManaged();\n        var treeData = this.beans.gridOptionsWrapper.isTreeData();\n        if (treeData && managed) {\n            doOnce(function () {\n                return console.warn('ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true');\n            }, 'RowDragComp.managedAndTreeData');\n        }\n    };\n    RowDragComp.prototype.addDragSource = function () {\n        var _this = this;\n        var dragItem = {\n            rowNode: this.rowNode,\n            columns: [this.column],\n            defaultTextValue: this.cellValue,\n        };\n        var rowDragText = this.column.getColDef().rowDragText;\n        var dragSource = {\n            type: DragSourceType.RowDrag,\n            eElement: this.getGui(),\n            dragItemName: function () {\n                var dragItemCount = _this.getSelectedCount();\n                if (rowDragText) {\n                    return rowDragText(dragItem, dragItemCount);\n                }\n                return dragItemCount === 1 ? _this.cellValue : dragItemCount + \" rows\";\n            },\n            getDragItem: function () { return dragItem; },\n            dragStartPixels: 0\n        };\n        this.beans.dragAndDropService.addDragSource(dragSource, true);\n        this.addDestroyFunc(function () { return _this.beans.dragAndDropService.removeDragSource(dragSource); });\n    };\n    __decorate([\n        PostConstruct\n    ], RowDragComp.prototype, \"postConstruct\", null);\n    return RowDragComp;\n}(Component));\nexport { RowDragComp };\nvar VisibilityStrategy = /** @class */ (function (_super) {\n    __extends(VisibilityStrategy, _super);\n    function VisibilityStrategy(parent, rowNode, column) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.column = column;\n        _this.rowNode = rowNode;\n        return _this;\n    }\n    VisibilityStrategy.prototype.setDisplayedOrVisible = function (neverDisplayed) {\n        if (neverDisplayed) {\n            this.parent.setDisplayed(false);\n        }\n        else {\n            var shown = this.column.isRowDrag(this.rowNode);\n            var isShownSometimes = isFunction(this.column.getColDef().rowDrag);\n            // if shown sometimes, them some rows can have drag handle while other don't,\n            // so we use setVisible to keep the handles horizontally aligned (as setVisible\n            // keeps the empty space, whereas setDisplayed looses the space)\n            if (isShownSometimes) {\n                this.parent.setDisplayed(true);\n                this.parent.setVisible(shown);\n            }\n            else {\n                this.parent.setDisplayed(shown);\n            }\n        }\n    };\n    return VisibilityStrategy;\n}(BeanStub));\n// when non managed, the visibility depends on suppressRowDrag property only\nvar NonManagedVisibilityStrategy = /** @class */ (function (_super) {\n    __extends(NonManagedVisibilityStrategy, _super);\n    function NonManagedVisibilityStrategy(parent, beans, rowNode, column) {\n        var _this = _super.call(this, parent, rowNode, column) || this;\n        _this.beans = beans;\n        return _this;\n    }\n    NonManagedVisibilityStrategy.prototype.postConstruct = function () {\n        this.addManagedListener(this.beans.gridOptionsWrapper, 'suppressRowDrag', this.onSuppressRowDrag.bind(this));\n        // in case data changes, then we need to update visibility of drag item\n        this.addManagedListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this));\n        this.workOutVisibility();\n    };\n    NonManagedVisibilityStrategy.prototype.onSuppressRowDrag = function () {\n        this.workOutVisibility();\n    };\n    NonManagedVisibilityStrategy.prototype.workOutVisibility = function () {\n        // only show the drag if both sort and filter are not present\n        var neverDisplayed = this.beans.gridOptionsWrapper.isSuppressRowDrag();\n        this.setDisplayedOrVisible(neverDisplayed);\n    };\n    __decorate([\n        PostConstruct\n    ], NonManagedVisibilityStrategy.prototype, \"postConstruct\", null);\n    return NonManagedVisibilityStrategy;\n}(VisibilityStrategy));\n// when managed, the visibility depends on sort, filter and row group, as well as suppressRowDrag property\nvar ManagedVisibilityStrategy = /** @class */ (function (_super) {\n    __extends(ManagedVisibilityStrategy, _super);\n    function ManagedVisibilityStrategy(parent, beans, rowNode, column) {\n        var _this = _super.call(this, parent, rowNode, column) || this;\n        _this.beans = beans;\n        return _this;\n    }\n    ManagedVisibilityStrategy.prototype.postConstruct = function () {\n        // we do not show the component if sort, filter or grouping is active\n        this.addManagedListener(this.beans.eventService, Events.EVENT_SORT_CHANGED, this.workOutVisibility.bind(this));\n        this.addManagedListener(this.beans.eventService, Events.EVENT_FILTER_CHANGED, this.workOutVisibility.bind(this));\n        this.addManagedListener(this.beans.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.workOutVisibility.bind(this));\n        // in case data changes, then we need to update visibility of drag item\n        this.addManagedListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this));\n        this.addManagedListener(this.beans.gridOptionsWrapper, 'suppressRowDrag', this.onSuppressRowDrag.bind(this));\n        this.workOutVisibility();\n    };\n    ManagedVisibilityStrategy.prototype.onSuppressRowDrag = function () {\n        this.workOutVisibility();\n    };\n    ManagedVisibilityStrategy.prototype.workOutVisibility = function () {\n        // only show the drag if both sort and filter are not present\n        var rowDragFeature = this.beans.gridPanel.getRowDragFeature();\n        var shouldPreventRowMove = rowDragFeature && rowDragFeature.shouldPreventRowMove();\n        var suppressRowDrag = this.beans.gridOptionsWrapper.isSuppressRowDrag();\n        var hasExternalDropZones = this.beans.dragAndDropService.hasExternalDropZones();\n        var neverDisplayed = (shouldPreventRowMove && !hasExternalDropZones) || suppressRowDrag;\n        this.setDisplayedOrVisible(neverDisplayed);\n    };\n    __decorate([\n        PostConstruct\n    ], ManagedVisibilityStrategy.prototype, \"postConstruct\", null);\n    return ManagedVisibilityStrategy;\n}(VisibilityStrategy));\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var ChartType;\n(function (ChartType) {\n    ChartType[\"GroupedColumn\"] = \"groupedColumn\";\n    ChartType[\"StackedColumn\"] = \"stackedColumn\";\n    ChartType[\"NormalizedColumn\"] = \"normalizedColumn\";\n    ChartType[\"GroupedBar\"] = \"groupedBar\";\n    ChartType[\"StackedBar\"] = \"stackedBar\";\n    ChartType[\"NormalizedBar\"] = \"normalizedBar\";\n    ChartType[\"Line\"] = \"line\";\n    ChartType[\"Scatter\"] = \"scatter\";\n    ChartType[\"Bubble\"] = \"bubble\";\n    ChartType[\"Pie\"] = \"pie\";\n    ChartType[\"Doughnut\"] = \"doughnut\";\n    ChartType[\"Area\"] = \"area\";\n    ChartType[\"StackedArea\"] = \"stackedArea\";\n    ChartType[\"NormalizedArea\"] = \"normalizedArea\";\n    ChartType[\"Histogram\"] = \"histogram\";\n})(ChartType || (ChartType = {}));\nexport var LegendPosition;\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(LegendPosition || (LegendPosition = {}));\n","export { CsvExportModule } from \"./csvExportModule\";\nexport { BaseCreator, CsvCreator } from \"./csvExport/csvCreator\";\nexport { Downloader } from \"./csvExport/downloader\";\nexport { GridSerializer, RowType, BaseGridSerializingSession } from \"./csvExport/gridSerializer\";\nexport { ZipContainer } from \"./csvExport/zipContainer\";\nexport { XmlFactory } from \"./csvExport/xmlFactory\";\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var ModuleNames;\n(function (ModuleNames) {\n    // when using modules, user references this\n    ModuleNames[\"CommunityCoreModule\"] = \"@ag-grid-community/core\";\n    // when not using modules, user references this\n    ModuleNames[\"CommunityAllModules\"] = \"@ag-grid-community/all\";\n    // community modules\n    ModuleNames[\"InfiniteRowModelModule\"] = \"@ag-grid-community/infinite-row-model\";\n    ModuleNames[\"ClientSideRowModelModule\"] = \"@ag-grid-community/client-side-row-model\";\n    ModuleNames[\"CsvExportModule\"] = \"@ag-grid-community/csv-export\";\n    ModuleNames[\"RowNodeCache\"] = \"@ag-grid-community/row-node-cache\";\n    // enterprise core - users never import on this, but other enterprise modules do\n    ModuleNames[\"EnterpriseCoreModule\"] = \"@ag-grid-enterprise/core\";\n    // when not using modules, user references this\n    ModuleNames[\"EnterpriseAllModules\"] = \"@ag-grid-enterprise/all\";\n    // enterprise modules\n    ModuleNames[\"RowGroupingModule\"] = \"@ag-grid-enterprise/row-grouping\";\n    ModuleNames[\"ColumnToolPanelModule\"] = \"@ag-grid-enterprise/column-tool-panel\";\n    ModuleNames[\"FiltersToolPanelModule\"] = \"@ag-grid-enterprise/filter-tool-panel\";\n    ModuleNames[\"MenuModule\"] = \"@ag-grid-enterprise/menu\";\n    ModuleNames[\"SetFilterModule\"] = \"@ag-grid-enterprise/set-filter\";\n    ModuleNames[\"MultiFilterModule\"] = \"@ag-grid-enterprise/multi-filter\";\n    ModuleNames[\"StatusBarModule\"] = \"@ag-grid-enterprise/status-bar\";\n    ModuleNames[\"SideBarModule\"] = \"@ag-grid-enterprise/side-bar\";\n    ModuleNames[\"RangeSelectionModule\"] = \"@ag-grid-enterprise/range-selection\";\n    ModuleNames[\"MasterDetailModule\"] = \"@ag-grid-enterprise/master-detail\";\n    ModuleNames[\"RichSelectModule\"] = \"@ag-grid-enterprise/rich-select\";\n    ModuleNames[\"GridChartsModule\"] = \"@ag-grid-enterprise/charts\";\n    ModuleNames[\"ViewportRowModelModule\"] = \"@ag-grid-enterprise/viewport-row-model\";\n    ModuleNames[\"ServerSideRowModelModule\"] = \"@ag-grid-enterprise/server-side-row-model\";\n    ModuleNames[\"ExcelExportModule\"] = \"@ag-grid-enterprise/excel-export\";\n    ModuleNames[\"ClipboardModule\"] = \"@ag-grid-enterprise/clipboard\";\n    ModuleNames[\"DateTimeCellEditorModule\"] = \"@ag-grid-enterprise/date-time-cell-editor\";\n    // framework wrappers currently don't provide beans, comps etc, so no need to be modules,\n    // however i argue they should be as in theory they 'could' provide beans etc\n    ModuleNames[\"AngularModule\"] = \"@ag-grid-community/angular\";\n    ModuleNames[\"ReactModule\"] = \"@ag-grid-community/react\";\n    ModuleNames[\"VueModule\"] = \"@ag-grid-community/vue\";\n    ModuleNames[\"PolymerModule\"] = \"@ag-grid-community/polymer\";\n    // and then this, which is definitely not a grid module, as it should not have any dependency\n    // on the grid (ie shouldn't even reference the Module interface)\n    // ChartsModule = \"@ag-grid-community/charts-core\",\n})(ModuleNames || (ModuleNames = {}));\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { GridOptionsWrapper } from '../gridOptionsWrapper';\nimport { Autowired } from '../context/context';\nimport { HeaderContainer } from './headerContainer';\nimport { Events } from '../events';\nimport { RefSelector } from '../widgets/componentAnnotations';\nimport { Constants } from '../constants/constants';\nimport { addOrRemoveCssClass, setDisplayed } from '../utils/dom';\nimport { ManagedFocusComponent } from '../widgets/managedFocusComponent';\nimport { HeaderNavigationDirection } from './header/headerNavigationService';\nimport { exists } from '../utils/generic';\nimport { KeyCode } from '../constants/keyCode';\nvar HeaderRootComp = /** @class */ (function (_super) {\n    __extends(HeaderRootComp, _super);\n    function HeaderRootComp() {\n        var _this = _super.call(this, HeaderRootComp.TEMPLATE) || this;\n        _this.headerContainers = new Map();\n        return _this;\n    }\n    HeaderRootComp.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        this.gridApi.registerHeaderRootComp(this);\n        this.autoWidthCalculator.registerHeaderRootComp(this);\n        this.registerHeaderContainer(new HeaderContainer(this.eHeaderContainer, this.eHeaderViewport, null), 'center');\n        this.registerHeaderContainer(new HeaderContainer(this.ePinnedLeftHeader, null, Constants.PINNED_LEFT), 'left');\n        this.registerHeaderContainer(new HeaderContainer(this.ePinnedRightHeader, null, Constants.PINNED_RIGHT), 'right');\n        this.headerContainers.forEach(function (container) { return _this.createManagedBean(container); });\n        this.headerNavigationService.registerHeaderRoot(this);\n        // shotgun way to get labels to change, eg from sum(amount) to avg(amount)\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n        // for setting ag-pivot-on / ag-pivot-off CSS classes\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onPivotModeChanged.bind(this));\n        this.onPivotModeChanged();\n        this.addPreventHeaderScroll();\n        if (this.columnController.isReady()) {\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.headerContainers.forEach(function (c) { return c.setupDragAndDrop(gridPanel); });\n    };\n    HeaderRootComp.prototype.registerHeaderContainer = function (headerContainer, type) {\n        this.headerContainers.set(type, headerContainer);\n    };\n    HeaderRootComp.prototype.onTabKeyDown = function (e) {\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        var direction = e.shiftKey !== isRtl\n            ? HeaderNavigationDirection.LEFT\n            : HeaderNavigationDirection.RIGHT;\n        if (this.headerNavigationService.navigateHorizontally(direction, true) ||\n            this.focusController.focusNextGridCoreContainer(e.shiftKey)) {\n            e.preventDefault();\n        }\n    };\n    HeaderRootComp.prototype.handleKeyDown = function (e) {\n        var direction;\n        switch (e.keyCode) {\n            case KeyCode.LEFT:\n                direction = HeaderNavigationDirection.LEFT;\n            case KeyCode.RIGHT:\n                if (!exists(direction)) {\n                    direction = HeaderNavigationDirection.RIGHT;\n                }\n                this.headerNavigationService.navigateHorizontally(direction);\n                break;\n            case KeyCode.UP:\n                direction = HeaderNavigationDirection.UP;\n            case KeyCode.DOWN:\n                if (!exists(direction)) {\n                    direction = HeaderNavigationDirection.DOWN;\n                }\n                if (this.headerNavigationService.navigateVertically(direction)) {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                return;\n        }\n    };\n    HeaderRootComp.prototype.onFocusOut = function (e) {\n        var relatedTarget = e.relatedTarget;\n        var eGui = this.getGui();\n        if (!relatedTarget && eGui.contains(document.activeElement)) {\n            return;\n        }\n        if (!eGui.contains(relatedTarget)) {\n            this.focusController.clearFocusedHeader();\n        }\n    };\n    HeaderRootComp.prototype.onDomLayoutChanged = function () {\n        var newValue = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (this.printLayout !== newValue) {\n            this.printLayout = newValue;\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.setHorizontalScroll = function (offset) {\n        this.eHeaderContainer.style.transform = \"translateX(\" + offset + \"px)\";\n    };\n    HeaderRootComp.prototype.forEachHeaderElement = function (callback) {\n        this.headerContainers.forEach(function (childContainer) { return childContainer.forEachHeaderElement(callback); });\n    };\n    HeaderRootComp.prototype.refreshHeader = function () {\n        this.headerContainers.forEach(function (container) { return container.refresh(); });\n    };\n    HeaderRootComp.prototype.onPivotModeChanged = function () {\n        var pivotMode = this.columnController.isPivotMode();\n        addOrRemoveCssClass(this.getGui(), 'ag-pivot-on', pivotMode);\n        addOrRemoveCssClass(this.getGui(), 'ag-pivot-off', !pivotMode);\n    };\n    HeaderRootComp.prototype.setHeight = function (height) {\n        // one extra pixel is needed here to account for the\n        // height of the border\n        var px = height + 1 + \"px\";\n        this.getGui().style.height = px;\n        this.getGui().style.minHeight = px;\n    };\n    // if the user is in floating filter and hits tab a few times, the header can\n    // end up scrolling to show items off the screen, leaving the grid and header\n    // and the grid columns no longer in sync.\n    HeaderRootComp.prototype.addPreventHeaderScroll = function () {\n        var _this = this;\n        this.addManagedListener(this.eHeaderViewport, 'scroll', function () {\n            // if the header scrolls, the header will be out of sync. so we reset the\n            // header scroll, and then scroll the body, which will in turn set the offset\n            // on the header, giving the impression that the header scrolled as expected.\n            var scrollLeft = _this.eHeaderViewport.scrollLeft;\n            if (scrollLeft !== 0) {\n                _this.gridPanel.scrollHorizontally(scrollLeft);\n                _this.eHeaderViewport.scrollLeft = 0;\n            }\n        });\n    };\n    HeaderRootComp.prototype.getHeaderContainers = function () {\n        return this.headerContainers;\n    };\n    HeaderRootComp.prototype.setHeaderContainerWidth = function (width) {\n        this.eHeaderContainer.style.width = width + \"px\";\n    };\n    HeaderRootComp.prototype.setLeftVisible = function (visible) {\n        setDisplayed(this.ePinnedLeftHeader, visible);\n    };\n    HeaderRootComp.prototype.setRightVisible = function (visible) {\n        setDisplayed(this.ePinnedRightHeader, visible);\n    };\n    HeaderRootComp.TEMPLATE = \"<div class=\\\"ag-header\\\" role=\\\"presentation\\\">\\n            <div class=\\\"ag-pinned-left-header\\\" ref=\\\"ePinnedLeftHeader\\\" role=\\\"presentation\\\"></div>\\n            <div class=\\\"ag-header-viewport\\\" ref=\\\"eHeaderViewport\\\" role=\\\"presentation\\\">\\n                <div class=\\\"ag-header-container\\\" ref=\\\"eHeaderContainer\\\" role=\\\"rowgroup\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-header\\\" ref=\\\"ePinnedRightHeader\\\" role=\\\"presentation\\\"></div>\\n        </div>\";\n    __decorate([\n        RefSelector('ePinnedLeftHeader')\n    ], HeaderRootComp.prototype, \"ePinnedLeftHeader\", void 0);\n    __decorate([\n        RefSelector('ePinnedRightHeader')\n    ], HeaderRootComp.prototype, \"ePinnedRightHeader\", void 0);\n    __decorate([\n        RefSelector('eHeaderContainer')\n    ], HeaderRootComp.prototype, \"eHeaderContainer\", void 0);\n    __decorate([\n        RefSelector('eHeaderViewport')\n    ], HeaderRootComp.prototype, \"eHeaderViewport\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderRootComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], HeaderRootComp.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], HeaderRootComp.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('autoWidthCalculator')\n    ], HeaderRootComp.prototype, \"autoWidthCalculator\", void 0);\n    __decorate([\n        Autowired('headerNavigationService')\n    ], HeaderRootComp.prototype, \"headerNavigationService\", void 0);\n    return HeaderRootComp;\n}(ManagedFocusComponent));\nexport { HeaderRootComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EventService } from \"../eventService\";\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { Constants } from \"../constants/constants\";\nimport { ModuleNames } from \"../modules/moduleNames\";\nimport { ModuleRegistry } from \"../modules/moduleRegistry\";\nimport { attrToNumber, attrToBoolean, exists, missing } from \"../utils/generic\";\nimport { doOnce } from \"../utils/function\";\nimport { mergeDeep } from \"../utils/object\";\n// Wrapper around a user provide column definition. The grid treats the column definition as ready only.\n// This class contains all the runtime information about a column, plus some logic (the definition has no logic).\n// This class implements both interfaces ColumnGroupChild and OriginalColumnGroupChild as the class can\n// appear as a child of either the original tree or the displayed tree. However the relevant group classes\n// for each type only implements one, as each group can only appear in it's associated tree (eg OriginalColumnGroup\n// can only appear in OriginalColumn tree).\nvar Column = /** @class */ (function () {\n    function Column(colDef, userProvidedColDef, colId, primary) {\n        this.moving = false;\n        this.menuVisible = false;\n        this.filterActive = false;\n        this.eventService = new EventService();\n        this.rowGroupActive = false;\n        this.pivotActive = false;\n        this.aggregationActive = false;\n        this.colDef = colDef;\n        this.userProvidedColDef = userProvidedColDef;\n        this.colId = colId;\n        this.primary = primary;\n        this.setState(colDef);\n    }\n    Column.prototype.setState = function (colDef) {\n        // sort\n        if (colDef.sort !== undefined) {\n            if (colDef.sort === Constants.SORT_ASC || colDef.sort === Constants.SORT_DESC) {\n                this.sort = colDef.sort;\n            }\n        }\n        else {\n            if (colDef.initialSort === Constants.SORT_ASC || colDef.initialSort === Constants.SORT_DESC) {\n                this.sort = colDef.initialSort;\n            }\n        }\n        // sortIndex\n        var sortIndex = attrToNumber(colDef.sortIndex);\n        var initialSortIndex = attrToNumber(colDef.initialSortIndex);\n        if (sortIndex !== undefined) {\n            if (sortIndex !== null) {\n                this.sortIndex = sortIndex;\n            }\n        }\n        else {\n            if (initialSortIndex !== null) {\n                this.sortIndex = initialSortIndex;\n            }\n        }\n        // hide\n        var hide = attrToBoolean(colDef.hide);\n        var initialHide = attrToBoolean(colDef.initialHide);\n        if (hide !== undefined) {\n            this.visible = !hide;\n        }\n        else {\n            this.visible = !initialHide;\n        }\n        // pinned\n        if (colDef.pinned !== undefined) {\n            this.setPinned(colDef.pinned);\n        }\n        else {\n            this.setPinned(colDef.initialPinned);\n        }\n        // flex\n        var flex = attrToNumber(colDef.flex);\n        var initialFlex = attrToNumber(colDef.initialFlex);\n        if (flex !== undefined) {\n            this.flex = flex;\n        }\n        else if (initialFlex !== undefined) {\n            this.flex = initialFlex;\n        }\n    };\n    // gets called when user provides an alternative colDef, eg\n    Column.prototype.setColDef = function (colDef, userProvidedColDef) {\n        this.colDef = colDef;\n        this.userProvidedColDef = userProvidedColDef;\n    };\n    Column.prototype.getUserProvidedColDef = function () {\n        return this.userProvidedColDef;\n    };\n    Column.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    Column.prototype.getParent = function () {\n        return this.parent;\n    };\n    Column.prototype.setOriginalParent = function (originalParent) {\n        this.originalParent = originalParent;\n    };\n    Column.prototype.getOriginalParent = function () {\n        return this.originalParent;\n    };\n    // this is done after constructor as it uses gridOptionsWrapper\n    Column.prototype.initialise = function () {\n        var minColWidth = this.gridOptionsWrapper.getMinColWidth();\n        var maxColWidth = this.gridOptionsWrapper.getMaxColWidth();\n        if (this.colDef.minWidth) {\n            this.minWidth = this.colDef.minWidth;\n        }\n        else {\n            this.minWidth = minColWidth;\n        }\n        if (this.colDef.maxWidth) {\n            this.maxWidth = this.colDef.maxWidth;\n        }\n        else {\n            this.maxWidth = maxColWidth;\n        }\n        this.resetActualWidth();\n        var suppressDotNotation = this.gridOptionsWrapper.isSuppressFieldDotNotation();\n        this.fieldContainsDots = exists(this.colDef.field) && this.colDef.field.indexOf('.') >= 0 && !suppressDotNotation;\n        this.tooltipFieldContainsDots = exists(this.colDef.tooltipField) && this.colDef.tooltipField.indexOf('.') >= 0 && !suppressDotNotation;\n        this.validate();\n    };\n    Column.prototype.resetActualWidth = function () {\n        this.actualWidth = this.columnUtils.calculateColInitialWidth(this.colDef);\n    };\n    Column.prototype.isEmptyGroup = function () {\n        return false;\n    };\n    Column.prototype.isRowGroupDisplayed = function (colId) {\n        if (missing(this.colDef) || missing(this.colDef.showRowGroup)) {\n            return false;\n        }\n        var showingAllGroups = this.colDef.showRowGroup === true;\n        var showingThisGroup = this.colDef.showRowGroup === colId;\n        return showingAllGroups || showingThisGroup;\n    };\n    Column.prototype.getUniqueId = function () {\n        return this.getId();\n    };\n    Column.prototype.isPrimary = function () {\n        return this.primary;\n    };\n    Column.prototype.isFilterAllowed = function () {\n        // filter defined means it's a string, class or true.\n        // if its false, null or undefined then it's false.\n        var filterDefined = !!this.colDef.filter || !!this.colDef.filterFramework;\n        return this.primary && filterDefined;\n    };\n    Column.prototype.isFieldContainsDots = function () {\n        return this.fieldContainsDots;\n    };\n    Column.prototype.isTooltipFieldContainsDots = function () {\n        return this.tooltipFieldContainsDots;\n    };\n    Column.prototype.validate = function () {\n        var colDefAny = this.colDef;\n        function warnOnce(msg, key, obj) {\n            doOnce(function () {\n                if (obj) {\n                    console.warn(msg, obj);\n                }\n                else {\n                    doOnce(function () { return console.warn(msg); }, key);\n                }\n            }, key);\n        }\n        if (!ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule)) {\n            var rowGroupingItems = ['enableRowGroup', 'rowGroup', 'rowGroupIndex', 'enablePivot', 'enableValue', 'pivot', 'pivotIndex', 'aggFunc'];\n            rowGroupingItems.forEach(function (item) {\n                if (exists(colDefAny[item])) {\n                    if (ModuleRegistry.isPackageBased()) {\n                        warnOnce(\"ag-Grid: \" + item + \" is only valid in ag-grid-enterprise, your column definition should not have \" + item, 'ColumnRowGroupingMissing' + item);\n                    }\n                    else {\n                        warnOnce(\"ag-Grid: \" + item + \" is only valid with ag-Grid Enterprise Module \" + ModuleNames.RowGroupingModule + \" - your column definition should not have \" + item, 'ColumnRowGroupingMissing' + item);\n                    }\n                }\n            });\n        }\n        if (!ModuleRegistry.isRegistered(ModuleNames.RichSelectModule)) {\n            if (this.colDef.cellEditor === 'agRichSelect' || this.colDef.cellEditor === 'agRichSelectCellEditor') {\n                if (ModuleRegistry.isPackageBased()) {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-grid-enterprise\", 'ColumnRichSelectMissing');\n                }\n                else {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-Grid Enterprise Module \" + ModuleNames.RichSelectModule, 'ColumnRichSelectMissing');\n                }\n            }\n        }\n        if (!ModuleRegistry.isRegistered(ModuleNames.DateTimeCellEditorModule)) {\n            if (this.colDef.cellEditor === 'agRichSelect' || this.colDef.cellEditor === 'agDateTimeCellEditor') {\n                if (ModuleRegistry.isPackageBased()) {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-grid-enterprise\", 'ColumnDateTimeMissing');\n                }\n                else {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-Grid Enterprise Module \" + ModuleNames.DateTimeCellEditorModule, 'ColumnDateTimeMissing');\n                }\n            }\n        }\n        if (this.gridOptionsWrapper.isTreeData()) {\n            var itemsNotAllowedWithTreeData = ['rowGroup', 'rowGroupIndex', 'pivot', 'pivotIndex'];\n            itemsNotAllowedWithTreeData.forEach(function (item) {\n                if (exists(colDefAny[item])) {\n                    warnOnce(\"ag-Grid: \" + item + \" is not possible when doing tree data, your column definition should not have \" + item, 'TreeDataCannotRowGroup');\n                }\n            });\n        }\n        if (exists(this.colDef.width) && typeof this.colDef.width !== 'number') {\n            warnOnce('ag-Grid: colDef.width should be a number, not ' + typeof this.colDef.width, 'ColumnCheck_asdfawef');\n        }\n    };\n    Column.prototype.addEventListener = function (eventType, listener) {\n        this.eventService.addEventListener(eventType, listener);\n    };\n    Column.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    Column.prototype.createIsColumnFuncParams = function (rowNode) {\n        return {\n            node: rowNode,\n            data: rowNode.data,\n            column: this,\n            colDef: this.colDef,\n            context: this.gridOptionsWrapper.getContext(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n    };\n    Column.prototype.isSuppressNavigable = function (rowNode) {\n        // if boolean set, then just use it\n        if (typeof this.colDef.suppressNavigable === 'boolean') {\n            return this.colDef.suppressNavigable;\n        }\n        // if function, then call the function to find out\n        if (typeof this.colDef.suppressNavigable === 'function') {\n            var params = this.createIsColumnFuncParams(rowNode);\n            var userFunc = this.colDef.suppressNavigable;\n            return userFunc(params);\n        }\n        return false;\n    };\n    Column.prototype.isCellEditable = function (rowNode) {\n        // only allow editing of groups if the user has this option enabled\n        if (rowNode.group && !this.gridOptionsWrapper.isEnableGroupEdit()) {\n            return false;\n        }\n        return this.isColumnFunc(rowNode, this.colDef.editable);\n    };\n    Column.prototype.isRowDrag = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.rowDrag);\n    };\n    Column.prototype.isDndSource = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.dndSource);\n    };\n    Column.prototype.isCellCheckboxSelection = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.checkboxSelection);\n    };\n    Column.prototype.isSuppressPaste = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef ? this.colDef.suppressPaste : null);\n    };\n    Column.prototype.isResizable = function () {\n        return this.colDef.resizable === true;\n    };\n    Column.prototype.isColumnFunc = function (rowNode, value) {\n        // if boolean set, then just use it\n        if (typeof value === 'boolean') {\n            return value;\n        }\n        // if function, then call the function to find out\n        if (typeof value === 'function') {\n            var params = this.createIsColumnFuncParams(rowNode);\n            var editableFunc = value;\n            return editableFunc(params);\n        }\n        return false;\n    };\n    Column.prototype.setMoving = function (moving, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.moving = moving;\n        this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MOVING_CHANGED, source));\n    };\n    Column.prototype.createColumnEvent = function (type, source) {\n        return {\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            type: type,\n            column: this,\n            columns: [this],\n            source: source\n        };\n    };\n    Column.prototype.isMoving = function () {\n        return this.moving;\n    };\n    Column.prototype.getSort = function () {\n        return this.sort;\n    };\n    Column.prototype.setSort = function (sort, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.sort !== sort) {\n            this.sort = sort;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_SORT_CHANGED, source));\n        }\n    };\n    Column.prototype.setMenuVisible = function (visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.menuVisible !== visible) {\n            this.menuVisible = visible;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MENU_VISIBLE_CHANGED, source));\n        }\n    };\n    Column.prototype.isMenuVisible = function () {\n        return this.menuVisible;\n    };\n    Column.prototype.isSortAscending = function () {\n        return this.sort === Constants.SORT_ASC;\n    };\n    Column.prototype.isSortDescending = function () {\n        return this.sort === Constants.SORT_DESC;\n    };\n    Column.prototype.isSortNone = function () {\n        return missing(this.sort);\n    };\n    Column.prototype.isSorting = function () {\n        return exists(this.sort);\n    };\n    Column.prototype.getSortIndex = function () {\n        return this.sortIndex;\n    };\n    Column.prototype.setSortIndex = function (sortOrder) {\n        this.sortIndex = sortOrder;\n    };\n    Column.prototype.setAggFunc = function (aggFunc) {\n        this.aggFunc = aggFunc;\n    };\n    Column.prototype.getAggFunc = function () {\n        return this.aggFunc;\n    };\n    Column.prototype.getLeft = function () {\n        return this.left;\n    };\n    Column.prototype.getOldLeft = function () {\n        return this.oldLeft;\n    };\n    Column.prototype.getRight = function () {\n        return this.left + this.actualWidth;\n    };\n    Column.prototype.setLeft = function (left, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.oldLeft = this.left;\n        if (this.left !== left) {\n            this.left = left;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LEFT_CHANGED, source));\n        }\n    };\n    Column.prototype.isFilterActive = function () {\n        return this.filterActive;\n    };\n    // additionalEventAttributes is used by provided simple floating filter, so it can add 'floatingFilter=true' to the event\n    Column.prototype.setFilterActive = function (active, source, additionalEventAttributes) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.filterActive !== active) {\n            this.filterActive = active;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FILTER_ACTIVE_CHANGED, source));\n        }\n        var filterChangedEvent = this.createColumnEvent(Column.EVENT_FILTER_CHANGED, source);\n        if (additionalEventAttributes) {\n            mergeDeep(filterChangedEvent, additionalEventAttributes);\n        }\n        this.eventService.dispatchEvent(filterChangedEvent);\n    };\n    Column.prototype.setPinned = function (pinned) {\n        if (pinned === true || pinned === Constants.PINNED_LEFT) {\n            this.pinned = Constants.PINNED_LEFT;\n        }\n        else if (pinned === Constants.PINNED_RIGHT) {\n            this.pinned = Constants.PINNED_RIGHT;\n        }\n        else {\n            this.pinned = null;\n        }\n    };\n    Column.prototype.setFirstRightPinned = function (firstRightPinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.firstRightPinned !== firstRightPinned) {\n            this.firstRightPinned = firstRightPinned;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, source));\n        }\n    };\n    Column.prototype.setLastLeftPinned = function (lastLeftPinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.lastLeftPinned !== lastLeftPinned) {\n            this.lastLeftPinned = lastLeftPinned;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LAST_LEFT_PINNED_CHANGED, source));\n        }\n    };\n    Column.prototype.isFirstRightPinned = function () {\n        return this.firstRightPinned;\n    };\n    Column.prototype.isLastLeftPinned = function () {\n        return this.lastLeftPinned;\n    };\n    Column.prototype.isPinned = function () {\n        return this.pinned === Constants.PINNED_LEFT || this.pinned === Constants.PINNED_RIGHT;\n    };\n    Column.prototype.isPinnedLeft = function () {\n        return this.pinned === Constants.PINNED_LEFT;\n    };\n    Column.prototype.isPinnedRight = function () {\n        return this.pinned === Constants.PINNED_RIGHT;\n    };\n    Column.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    Column.prototype.setVisible = function (visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        var newValue = visible === true;\n        if (this.visible !== newValue) {\n            this.visible = newValue;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VISIBLE_CHANGED, source));\n        }\n    };\n    Column.prototype.isVisible = function () {\n        return this.visible;\n    };\n    Column.prototype.getColDef = function () {\n        return this.colDef;\n    };\n    Column.prototype.getColumnGroupShow = function () {\n        return this.colDef.columnGroupShow;\n    };\n    Column.prototype.getColId = function () {\n        return this.colId;\n    };\n    Column.prototype.getId = function () {\n        return this.getColId();\n    };\n    Column.prototype.getDefinition = function () {\n        return this.colDef;\n    };\n    Column.prototype.getActualWidth = function () {\n        return this.actualWidth;\n    };\n    Column.prototype.createBaseColDefParams = function (rowNode) {\n        var params = {\n            node: rowNode,\n            data: rowNode.data,\n            colDef: this.colDef,\n            column: this,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext()\n        };\n        return params;\n    };\n    Column.prototype.getColSpan = function (rowNode) {\n        if (missing(this.colDef.colSpan)) {\n            return 1;\n        }\n        var params = this.createBaseColDefParams(rowNode);\n        var colSpan = this.colDef.colSpan(params);\n        // colSpan must be number equal to or greater than 1\n        return Math.max(colSpan, 1);\n    };\n    Column.prototype.getRowSpan = function (rowNode) {\n        if (missing(this.colDef.rowSpan)) {\n            return 1;\n        }\n        var params = this.createBaseColDefParams(rowNode);\n        var rowSpan = this.colDef.rowSpan(params);\n        // rowSpan must be number equal to or greater than 1\n        return Math.max(rowSpan, 1);\n    };\n    Column.prototype.setActualWidth = function (actualWidth, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.minWidth != null) {\n            actualWidth = Math.max(actualWidth, this.minWidth);\n        }\n        if (this.maxWidth != null) {\n            actualWidth = Math.min(actualWidth, this.maxWidth);\n        }\n        if (this.actualWidth !== actualWidth) {\n            // disable flex for this column if it was manually resized.\n            this.actualWidth = actualWidth;\n            if (this.flex && source !== 'flex') {\n                this.flex = null;\n            }\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_WIDTH_CHANGED, source));\n        }\n    };\n    Column.prototype.isGreaterThanMax = function (width) {\n        if (this.maxWidth != null) {\n            return width > this.maxWidth;\n        }\n        return false;\n    };\n    Column.prototype.getMinWidth = function () {\n        return this.minWidth;\n    };\n    Column.prototype.getMaxWidth = function () {\n        return this.maxWidth;\n    };\n    Column.prototype.getFlex = function () {\n        return this.flex || 0;\n    };\n    // this method should only be used by the columnController to\n    // change flex when required by the setColumnState method.\n    Column.prototype.setFlex = function (flex) {\n        if (this.flex !== flex) {\n            this.flex = flex;\n        }\n    };\n    Column.prototype.setMinimum = function (source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setActualWidth(this.minWidth, source);\n    };\n    Column.prototype.setRowGroupActive = function (rowGroup, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.rowGroupActive !== rowGroup) {\n            this.rowGroupActive = rowGroup;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_ROW_GROUP_CHANGED, source));\n        }\n    };\n    Column.prototype.isRowGroupActive = function () {\n        return this.rowGroupActive;\n    };\n    Column.prototype.setPivotActive = function (pivot, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.pivotActive !== pivot) {\n            this.pivotActive = pivot;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_PIVOT_CHANGED, source));\n        }\n    };\n    Column.prototype.isPivotActive = function () {\n        return this.pivotActive;\n    };\n    Column.prototype.isAnyFunctionActive = function () {\n        return this.isPivotActive() || this.isRowGroupActive() || this.isValueActive();\n    };\n    Column.prototype.isAnyFunctionAllowed = function () {\n        return this.isAllowPivot() || this.isAllowRowGroup() || this.isAllowValue();\n    };\n    Column.prototype.setValueActive = function (value, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.aggregationActive !== value) {\n            this.aggregationActive = value;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VALUE_CHANGED, source));\n        }\n    };\n    Column.prototype.isValueActive = function () {\n        return this.aggregationActive;\n    };\n    Column.prototype.isAllowPivot = function () {\n        return this.colDef.enablePivot === true;\n    };\n    Column.prototype.isAllowValue = function () {\n        return this.colDef.enableValue === true;\n    };\n    Column.prototype.isAllowRowGroup = function () {\n        return this.colDef.enableRowGroup === true;\n    };\n    Column.prototype.getMenuTabs = function (defaultValues) {\n        var menuTabs = this.getColDef().menuTabs;\n        if (menuTabs == null) {\n            menuTabs = defaultValues;\n        }\n        return menuTabs;\n    };\n    // this used to be needed, as previous version of ag-grid had lockPosition as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockPosition = function () {\n        console.warn('ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead.');\n        return this.colDef ? !!this.colDef.lockPosition : false;\n    };\n    // this used to be needed, as previous version of ag-grid had lockVisible as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockVisible = function () {\n        console.warn('ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead.');\n        return this.colDef ? !!this.colDef.lockVisible : false;\n    };\n    // this used to be needed, as previous version of ag-grid had lockPinned as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockPinned = function () {\n        console.warn('ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead.');\n        return this.colDef ? !!this.colDef.lockPinned : false;\n    };\n    // + renderedHeaderCell - for making header cell transparent when moving\n    Column.EVENT_MOVING_CHANGED = 'movingChanged';\n    // + renderedCell - changing left position\n    Column.EVENT_LEFT_CHANGED = 'leftChanged';\n    // + renderedCell - changing width\n    Column.EVENT_WIDTH_CHANGED = 'widthChanged';\n    // + renderedCell - for changing pinned classes\n    Column.EVENT_LAST_LEFT_PINNED_CHANGED = 'lastLeftPinnedChanged';\n    Column.EVENT_FIRST_RIGHT_PINNED_CHANGED = 'firstRightPinnedChanged';\n    // + renderedColumn - for changing visibility icon\n    Column.EVENT_VISIBLE_CHANGED = 'visibleChanged';\n    // + every time the filter changes, used in the floating filters\n    Column.EVENT_FILTER_CHANGED = 'filterChanged';\n    // + renderedHeaderCell - marks the header with filter icon\n    Column.EVENT_FILTER_ACTIVE_CHANGED = 'filterActiveChanged';\n    // + renderedHeaderCell - marks the header with sort icon\n    Column.EVENT_SORT_CHANGED = 'sortChanged';\n    Column.EVENT_MENU_VISIBLE_CHANGED = 'menuVisibleChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_ROW_GROUP_CHANGED = 'columnRowGroupChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_PIVOT_CHANGED = 'columnPivotChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_VALUE_CHANGED = 'columnValueChanged';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], Column.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnUtils')\n    ], Column.prototype, \"columnUtils\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], Column.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], Column.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('context')\n    ], Column.prototype, \"context\", void 0);\n    __decorate([\n        PostConstruct\n    ], Column.prototype, \"initialise\", null);\n    return Column;\n}());\nexport { Column };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { PostConstruct, Autowired } from '../context/context';\nimport { Component } from './component';\nimport { isNodeOrElement, addCssClass, clearElement } from '../utils/dom';\nimport { KeyCode } from '../constants/keyCode';\n/**\n * This provides logic to override the default browser focus logic.\n *\n * When the component gets focus, it uses the grid logic to find out what should be focused,\n * and then focuses that instead.\n *\n * This is how we ensure when user tabs into the relevant section, we focus the correct item.\n * For example GridCore extends ManagedFocusComponent, and it ensures when it receives focus\n * that focus goes to the first cell of the first header row.\n */\nvar ManagedFocusComponent = /** @class */ (function (_super) {\n    __extends(ManagedFocusComponent, _super);\n    /*\n     * Set isFocusableContainer to true if this component will contain multiple focus-managed\n     * elements within. When set to true, this component will add tabGuards that will be responsible\n     * for receiving focus from outside and focusing an internal element using the focusInnerElementMethod\n     */\n    function ManagedFocusComponent(template, isFocusableContainer) {\n        if (isFocusableContainer === void 0) { isFocusableContainer = false; }\n        var _this = _super.call(this, template) || this;\n        _this.isFocusableContainer = isFocusableContainer;\n        _this.skipTabGuardFocus = false;\n        return _this;\n    }\n    ManagedFocusComponent.prototype.postConstruct = function () {\n        var _this = this;\n        var focusableElement = this.getFocusableElement();\n        if (!focusableElement) {\n            return;\n        }\n        addCssClass(focusableElement, ManagedFocusComponent.FOCUS_MANAGED_CLASS);\n        if (this.isFocusableContainer) {\n            this.topTabGuard = this.createTabGuard('top');\n            this.bottomTabGuard = this.createTabGuard('bottom');\n            this.addTabGuards();\n            this.activateTabGuards();\n            this.forEachTabGuard(function (guard) { return _this.addManagedListener(guard, 'focus', _this.onFocus.bind(_this)); });\n        }\n        this.addKeyDownListeners(focusableElement);\n        this.addManagedListener(focusableElement, 'focusin', this.onFocusIn.bind(this));\n        this.addManagedListener(focusableElement, 'focusout', this.onFocusOut.bind(this));\n    };\n    /*\n     * Override this method if focusing the default element requires special logic.\n     */\n    ManagedFocusComponent.prototype.focusInnerElement = function (fromBottom) {\n        if (fromBottom === void 0) { fromBottom = false; }\n        var focusable = this.focusController.findFocusableElements(this.getFocusableElement());\n        if (this.isFocusableContainer && this.tabGuardsAreActive()) {\n            // remove tab guards from this component from list of focusable elements\n            focusable.splice(0, 1);\n            focusable.splice(focusable.length - 1, 1);\n        }\n        if (!focusable.length) {\n            return;\n        }\n        focusable[fromBottom ? focusable.length - 1 : 0].focus();\n    };\n    /**\n     * By default this will tab though the elements in the default order. Override if you require special logic.\n     */\n    ManagedFocusComponent.prototype.onTabKeyDown = function (e) {\n        var _this = this;\n        if (e.defaultPrevented) {\n            return;\n        }\n        var tabGuardsAreActive = this.tabGuardsAreActive();\n        if (this.isFocusableContainer && tabGuardsAreActive) {\n            this.deactivateTabGuards();\n        }\n        var nextRoot = this.focusController.findNextFocusableElement(this.getFocusableElement(), false, e.shiftKey);\n        if (this.isFocusableContainer && tabGuardsAreActive) {\n            // ensure the tab guards are only re-instated once the event has finished processing, to avoid the browser\n            // tabbing to the tab guard from inside the component\n            setTimeout(function () { return _this.activateTabGuards(); }, 0);\n        }\n        if (!nextRoot) {\n            return;\n        }\n        nextRoot.focus();\n        e.preventDefault();\n    };\n    ManagedFocusComponent.prototype.onFocusIn = function (e) {\n        if (this.isFocusableContainer) {\n            this.deactivateTabGuards();\n        }\n    };\n    ManagedFocusComponent.prototype.onFocusOut = function (e) {\n        if (this.isFocusableContainer && !this.getFocusableElement().contains(e.relatedTarget)) {\n            this.activateTabGuards();\n        }\n    };\n    ManagedFocusComponent.prototype.forceFocusOutOfContainer = function (up) {\n        if (up === void 0) { up = false; }\n        if (!this.isFocusableContainer) {\n            return;\n        }\n        this.activateTabGuards();\n        this.skipTabGuardFocus = true;\n        var tabGuardToFocus = up ? this.topTabGuard : this.bottomTabGuard;\n        if (tabGuardToFocus) {\n            tabGuardToFocus.focus();\n        }\n    };\n    ManagedFocusComponent.prototype.appendChild = function (newChild, container) {\n        if (this.isFocusableContainer) {\n            if (!isNodeOrElement(newChild)) {\n                newChild = newChild.getGui();\n            }\n            var bottomTabGuard = this.bottomTabGuard;\n            if (bottomTabGuard) {\n                bottomTabGuard.insertAdjacentElement('beforebegin', newChild);\n            }\n            else {\n                _super.prototype.appendChild.call(this, newChild, container);\n            }\n        }\n        else {\n            _super.prototype.appendChild.call(this, newChild, container);\n        }\n    };\n    ManagedFocusComponent.prototype.createTabGuard = function (side) {\n        var tabGuard = document.createElement('div');\n        tabGuard.classList.add('ag-tab-guard');\n        tabGuard.classList.add(\"ag-tab-guard-\" + side);\n        tabGuard.setAttribute('role', 'presentation');\n        return tabGuard;\n    };\n    ManagedFocusComponent.prototype.addTabGuards = function () {\n        var focusableEl = this.getFocusableElement();\n        focusableEl.insertAdjacentElement('afterbegin', this.topTabGuard);\n        focusableEl.insertAdjacentElement('beforeend', this.bottomTabGuard);\n    };\n    ManagedFocusComponent.prototype.forEachTabGuard = function (callback) {\n        if (this.topTabGuard) {\n            callback(this.topTabGuard);\n        }\n        if (this.bottomTabGuard) {\n            callback(this.bottomTabGuard);\n        }\n    };\n    ManagedFocusComponent.prototype.addKeyDownListeners = function (eGui) {\n        var _this = this;\n        this.addManagedListener(eGui, 'keydown', function (e) {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (e.keyCode === KeyCode.TAB) {\n                _this.onTabKeyDown(e);\n            }\n            else if (_this.handleKeyDown) {\n                _this.handleKeyDown(e);\n            }\n        });\n    };\n    ManagedFocusComponent.prototype.onFocus = function (e) {\n        if (this.skipTabGuardFocus) {\n            this.skipTabGuardFocus = false;\n            return;\n        }\n        this.focusInnerElement(e.target === this.bottomTabGuard);\n    };\n    ManagedFocusComponent.prototype.activateTabGuards = function () {\n        this.forEachTabGuard(function (guard) { return guard.setAttribute('tabIndex', '0'); });\n    };\n    ManagedFocusComponent.prototype.deactivateTabGuards = function () {\n        this.forEachTabGuard(function (guard) { return guard.removeAttribute('tabIndex'); });\n    };\n    ManagedFocusComponent.prototype.tabGuardsAreActive = function () {\n        return !!this.topTabGuard && this.topTabGuard.hasAttribute('tabIndex');\n    };\n    ManagedFocusComponent.prototype.clearGui = function () {\n        var tabGuardsAreActive = this.tabGuardsAreActive();\n        clearElement(this.getFocusableElement());\n        if (this.isFocusableContainer) {\n            this.addTabGuards();\n            if (tabGuardsAreActive) {\n                this.activateTabGuards();\n            }\n        }\n    };\n    ManagedFocusComponent.FOCUS_MANAGED_CLASS = 'ag-focus-managed';\n    __decorate([\n        Autowired('focusController')\n    ], ManagedFocusComponent.prototype, \"focusController\", void 0);\n    __decorate([\n        PostConstruct\n    ], ManagedFocusComponent.prototype, \"postConstruct\", null);\n    return ManagedFocusComponent;\n}(Component));\nexport { ManagedFocusComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TextCellEditor } from \"./textCellEditor\";\nvar PopupTextCellEditor = /** @class */ (function (_super) {\n    __extends(PopupTextCellEditor, _super);\n    function PopupTextCellEditor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupTextCellEditor.prototype.isPopup = function () {\n        return true;\n    };\n    return PopupTextCellEditor;\n}(TextCellEditor));\nexport { PopupTextCellEditor };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { Constants } from \"../constants/constants\";\nimport { exists } from \"../utils/generic\";\nvar RowPositionUtils = /** @class */ (function (_super) {\n    __extends(RowPositionUtils, _super);\n    function RowPositionUtils() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RowPositionUtils.prototype.getFirstRow = function () {\n        var rowIndex = 0;\n        var rowPinned;\n        if (this.pinnedRowModel.getPinnedTopRowCount()) {\n            rowPinned = Constants.PINNED_TOP;\n        }\n        else if (this.rowModel.getRowCount()) {\n            rowPinned = null;\n            rowIndex = this.paginationProxy.getPageFirstRow();\n        }\n        else if (this.pinnedRowModel.getPinnedBottomRowCount()) {\n            rowPinned = Constants.PINNED_BOTTOM;\n        }\n        return rowPinned === undefined ? null : { rowIndex: rowIndex, rowPinned: rowPinned };\n    };\n    RowPositionUtils.prototype.getLastRow = function () {\n        var rowIndex;\n        var rowPinned;\n        var pinnedBottomCount = this.pinnedRowModel.getPinnedBottomRowCount();\n        var pinnedTopCount = this.pinnedRowModel.getPinnedTopRowCount();\n        if (pinnedBottomCount) {\n            rowPinned = Constants.PINNED_BOTTOM;\n            rowIndex = pinnedBottomCount - 1;\n        }\n        else if (this.rowModel.getRowCount()) {\n            rowPinned = null;\n            rowIndex = this.paginationProxy.getPageLastRow();\n        }\n        else if (pinnedTopCount) {\n            rowPinned = Constants.PINNED_TOP;\n            rowIndex = pinnedTopCount - 1;\n        }\n        return rowIndex === undefined ? null : { rowIndex: rowIndex, rowPinned: rowPinned };\n    };\n    RowPositionUtils.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    RowPositionUtils.prototype.sameRow = function (rowA, rowB) {\n        // if both missing\n        if (!rowA && !rowB) {\n            return true;\n        }\n        // if only one missing\n        if ((rowA && !rowB) || (!rowA && rowB)) {\n            return false;\n        }\n        // otherwise compare (use == to compare rowPinned because it can be null or undefined)\n        return rowA.rowIndex === rowB.rowIndex && rowA.rowPinned == rowB.rowPinned;\n    };\n    // tests if this row selection is before the other row selection\n    RowPositionUtils.prototype.before = function (rowA, rowB) {\n        switch (rowA.rowPinned) {\n            case Constants.PINNED_TOP:\n                // we we are floating top, and other isn't, then we are always before\n                if (rowB.rowPinned !== Constants.PINNED_TOP) {\n                    return true;\n                }\n                break;\n            case Constants.PINNED_BOTTOM:\n                // if we are floating bottom, and the other isn't, then we are never before\n                if (rowB.rowPinned !== Constants.PINNED_BOTTOM) {\n                    return false;\n                }\n                break;\n            default:\n                // if we are not floating, but the other one is floating...\n                if (exists(rowB.rowPinned)) {\n                    return rowB.rowPinned !== Constants.PINNED_TOP;\n                }\n                break;\n        }\n        return rowA.rowIndex < rowB.rowIndex;\n    };\n    __decorate([\n        Autowired('rowModel')\n    ], RowPositionUtils.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], RowPositionUtils.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], RowPositionUtils.prototype, \"paginationProxy\", void 0);\n    RowPositionUtils = __decorate([\n        Bean('rowPositionUtils')\n    ], RowPositionUtils);\n    return RowPositionUtils;\n}(BeanStub));\nexport { RowPositionUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { GridOptionsWrapper } from \"./gridOptionsWrapper\";\nimport { SelectionController } from \"./selectionController\";\nimport { ColumnApi } from \"./columnController/columnApi\";\nimport { ColumnController } from \"./columnController/columnController\";\nimport { RowRenderer } from \"./rendering/rowRenderer\";\nimport { HeaderRootComp } from \"./headerRendering/headerRootComp\";\nimport { FilterManager } from \"./filter/filterManager\";\nimport { ValueService } from \"./valueService/valueService\";\nimport { EventService } from \"./eventService\";\nimport { GridPanel } from \"./gridPanel/gridPanel\";\nimport { GridApi } from \"./gridApi\";\nimport { ColumnFactory } from \"./columnController/columnFactory\";\nimport { DisplayedGroupCreator } from \"./columnController/displayedGroupCreator\";\nimport { ExpressionService } from \"./valueService/expressionService\";\nimport { TemplateService } from \"./templateService\";\nimport { PopupService } from \"./widgets/popupService\";\nimport { Logger, LoggerFactory } from \"./logger\";\nimport { ColumnUtils } from \"./columnController/columnUtils\";\nimport { AutoWidthCalculator } from \"./rendering/autoWidthCalculator\";\nimport { HorizontalResizeService } from \"./headerRendering/horizontalResizeService\";\nimport { Context } from \"./context/context\";\nimport { GridCore } from \"./gridCore\";\nimport { StandardMenuFactory } from \"./headerRendering/standardMenu\";\nimport { DragAndDropService } from \"./dragAndDrop/dragAndDropService\";\nimport { DragService } from \"./dragAndDrop/dragService\";\nimport { SortController } from \"./sortController\";\nimport { FocusController } from \"./focusController\";\nimport { MouseEventService } from \"./gridPanel/mouseEventService\";\nimport { CellNavigationService } from \"./cellNavigationService\";\nimport { Events } from \"./events\";\nimport { CellRendererFactory } from \"./rendering/cellRendererFactory\";\nimport { ValueFormatterService } from \"./rendering/valueFormatterService\";\nimport { AgCheckbox } from \"./widgets/agCheckbox\";\nimport { AgRadioButton } from \"./widgets/agRadioButton\";\nimport { VanillaFrameworkOverrides } from \"./vanillaFrameworkOverrides\";\nimport { ScrollVisibleService } from \"./gridPanel/scrollVisibleService\";\nimport { StylingService } from \"./styling/stylingService\";\nimport { ColumnHoverService } from \"./rendering/columnHoverService\";\nimport { ColumnAnimationService } from \"./rendering/columnAnimationService\";\nimport { AutoGroupColService } from \"./columnController/autoGroupColService\";\nimport { PaginationProxy } from \"./pagination/paginationProxy\";\nimport { PaginationAutoPageSizeService } from \"./pagination/paginationAutoPageSizeService\";\nimport { Constants } from \"./constants/constants\";\nimport { ValueCache } from \"./valueService/valueCache\";\nimport { ChangeDetectionService } from \"./valueService/changeDetectionService\";\nimport { AlignedGridsService } from \"./alignedGridsService\";\nimport { UserComponentFactory } from \"./components/framework/userComponentFactory\";\nimport { UserComponentRegistry } from \"./components/framework/userComponentRegistry\";\nimport { AgComponentUtils } from \"./components/framework/agComponentUtils\";\nimport { ComponentMetadataProvider } from \"./components/framework/componentMetadataProvider\";\nimport { Beans } from \"./rendering/beans\";\nimport { Environment } from \"./environment\";\nimport { AnimationFrameService } from \"./misc/animationFrameService\";\nimport { NavigationService } from \"./gridPanel/navigationService\";\nimport { MaxDivHeightScaler } from \"./rendering/maxDivHeightScaler\";\nimport { SelectableService } from \"./rowNodes/selectableService\";\nimport { AutoHeightCalculator } from \"./rendering/row/autoHeightCalculator\";\nimport { PaginationComp } from \"./pagination/paginationComp\";\nimport { ResizeObserverService } from \"./misc/resizeObserverService\";\nimport { OverlayWrapperComponent } from \"./rendering/overlays/overlayWrapperComponent\";\nimport { AgGroupComponent } from \"./widgets/agGroupComponent\";\nimport { AgDialog } from \"./widgets/agDialog\";\nimport { AgPanel } from \"./widgets/agPanel\";\nimport { AgInputTextField } from \"./widgets/agInputTextField\";\nimport { AgInputTextArea } from \"./widgets/agInputTextArea\";\nimport { AgSlider } from \"./widgets/agSlider\";\nimport { AgColorPicker } from \"./widgets/agColorPicker\";\nimport { AgInputNumberField } from \"./widgets/agInputNumberField\";\nimport { AgInputRange } from \"./widgets/agInputRange\";\nimport { AgSelect } from \"./widgets/agSelect\";\nimport { AgAngleSelect } from \"./widgets/agAngleSelect\";\nimport { AgToggleButton } from \"./widgets/agToggleButton\";\nimport { DetailRowCompCache } from \"./rendering/row/detailRowCompCache\";\nimport { RowPositionUtils } from \"./entities/rowPosition\";\nimport { CellPositionUtils } from \"./entities/cellPosition\";\nimport { PinnedRowModel } from \"./pinnedRowModel/pinnedRowModel\";\nimport { ModuleRegistry } from \"./modules/moduleRegistry\";\nimport { ModuleNames } from \"./modules/moduleNames\";\nimport { UndoRedoService } from \"./undoRedo/undoRedoService\";\nimport { AgStackComponentsRegistry } from \"./components/agStackComponentsRegistry\";\nimport { HeaderPositionUtils } from \"./headerRendering/header/headerPosition\";\nimport { HeaderNavigationService } from \"./headerRendering/header/headerNavigationService\";\nimport { missing, exists } from \"./utils/generic\";\nimport { assign, iterateObject } from \"./utils/object\";\nimport { ColumnDefFactory } from \"./columnController/columnDefFactory\";\nimport { RowCssClassCalculator } from \"./rendering/row/rowCssClassCalculator\";\nvar Grid = /** @class */ (function () {\n    function Grid(eGridDiv, gridOptions, params) {\n        if (!eGridDiv) {\n            console.error('ag-Grid: no div element provided to the grid');\n            return;\n        }\n        if (!gridOptions) {\n            console.error('ag-Grid: no gridOptions provided to the grid');\n            return;\n        }\n        var debug = !!gridOptions.debug;\n        this.gridOptions = gridOptions;\n        var registeredModules = this.getRegisteredModules(params);\n        var beanClasses = this.createBeansList(registeredModules);\n        var providedBeanInstances = this.createProvidedBeans(eGridDiv, params);\n        if (!beanClasses) {\n            return;\n        } // happens when no row model found\n        var contextParams = {\n            providedBeanInstances: providedBeanInstances,\n            beanClasses: beanClasses,\n            debug: debug\n        };\n        this.logger = new Logger('ag-Grid', function () { return gridOptions.debug; });\n        var contextLogger = new Logger('Context', function () { return contextParams.debug; });\n        this.context = new Context(contextParams, contextLogger);\n        this.registerModuleUserComponents(registeredModules);\n        this.registerStackComponents(registeredModules);\n        var gridCoreClass = (params && params.rootComponent) || GridCore;\n        var gridCore = new gridCoreClass();\n        this.context.createBean(gridCore);\n        this.setColumnsAndData();\n        this.dispatchGridReadyEvent(gridOptions);\n        var isEnterprise = ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule);\n        this.logger.log(\"initialised successfully, enterprise = \" + isEnterprise);\n    }\n    Grid.prototype.registerStackComponents = function (registeredModules) {\n        var agStackComponents = this.createAgStackComponentsList(registeredModules);\n        var agStackComponentsRegistry = this.context.getBean('agStackComponentsRegistry');\n        agStackComponentsRegistry.setupComponents(agStackComponents);\n    };\n    Grid.prototype.getRegisteredModules = function (params) {\n        var passedViaConstructor = params ? params.modules : null;\n        var registered = ModuleRegistry.getRegisteredModules();\n        var allModules = [];\n        var mapNames = {};\n        // adds to list and removes duplicates\n        function addModule(moduleBased, module) {\n            function addIndividualModule(module) {\n                if (!mapNames[module.moduleName]) {\n                    mapNames[module.moduleName] = true;\n                    allModules.push(module);\n                    ModuleRegistry.register(module, moduleBased);\n                }\n            }\n            addIndividualModule(module);\n            if (module.dependantModules) {\n                module.dependantModules.forEach(addModule.bind(null, moduleBased));\n            }\n        }\n        if (passedViaConstructor) {\n            passedViaConstructor.forEach(addModule.bind(null, true));\n        }\n        if (registered) {\n            registered.forEach(addModule.bind(null, !ModuleRegistry.isPackageBased()));\n        }\n        return allModules;\n    };\n    Grid.prototype.registerModuleUserComponents = function (registeredModules) {\n        var userComponentRegistry = this.context.getBean('userComponentRegistry');\n        var moduleUserComps = this.extractModuleEntity(registeredModules, function (module) { return module.userComponents ? module.userComponents : []; });\n        moduleUserComps.forEach(function (compMeta) {\n            userComponentRegistry.registerDefaultComponent(compMeta.componentName, compMeta.componentClass);\n        });\n    };\n    Grid.prototype.createProvidedBeans = function (eGridDiv, params) {\n        var frameworkOverrides = params ? params.frameworkOverrides : null;\n        if (missing(frameworkOverrides)) {\n            frameworkOverrides = new VanillaFrameworkOverrides();\n        }\n        var seed = {\n            gridOptions: this.gridOptions,\n            eGridDiv: eGridDiv,\n            $scope: params ? params.$scope : null,\n            $compile: params ? params.$compile : null,\n            quickFilterOnScope: params ? params.quickFilterOnScope : null,\n            globalEventListener: params ? params.globalEventListener : null,\n            frameworkOverrides: frameworkOverrides\n        };\n        if (params && params.providedBeanInstances) {\n            assign(seed, params.providedBeanInstances);\n        }\n        return seed;\n    };\n    Grid.prototype.createAgStackComponentsList = function (registeredModules) {\n        var components = [\n            { componentName: 'AgCheckbox', componentClass: AgCheckbox },\n            { componentName: 'AgRadioButton', componentClass: AgRadioButton },\n            { componentName: 'AgToggleButton', componentClass: AgToggleButton },\n            { componentName: 'AgInputTextField', componentClass: AgInputTextField },\n            { componentName: 'AgInputTextArea', componentClass: AgInputTextArea },\n            { componentName: 'AgInputNumberField', componentClass: AgInputNumberField },\n            { componentName: 'AgInputRange', componentClass: AgInputRange },\n            { componentName: 'AgSelect', componentClass: AgSelect },\n            { componentName: 'AgSlider', componentClass: AgSlider },\n            { componentName: 'AgAngleSelect', componentClass: AgAngleSelect },\n            { componentName: 'AgColorPicker', componentClass: AgColorPicker },\n            { componentName: 'AgGridComp', componentClass: GridPanel },\n            { componentName: 'AgHeaderRoot', componentClass: HeaderRootComp },\n            { componentName: 'AgPagination', componentClass: PaginationComp },\n            { componentName: 'AgOverlayWrapper', componentClass: OverlayWrapperComponent },\n            { componentName: 'AgGroupComponent', componentClass: AgGroupComponent },\n            { componentName: 'AgPanel', componentClass: AgPanel },\n            { componentName: 'AgDialog', componentClass: AgDialog }\n        ];\n        var moduleAgStackComps = this.extractModuleEntity(registeredModules, function (module) { return module.agStackComponents ? module.agStackComponents : []; });\n        components = components.concat(moduleAgStackComps);\n        return components;\n    };\n    Grid.prototype.createBeansList = function (registeredModules) {\n        var rowModelClass = this.getRowModelClass(registeredModules);\n        if (!rowModelClass) {\n            return;\n        }\n        // beans should only contain SERVICES, it should NEVER contain COMPONENTS\n        var beans = [\n            rowModelClass, Beans, RowPositionUtils, CellPositionUtils, HeaderPositionUtils,\n            PaginationAutoPageSizeService, GridApi, UserComponentRegistry, AgComponentUtils,\n            ComponentMetadataProvider, ResizeObserverService, UserComponentFactory,\n            MaxDivHeightScaler, AutoHeightCalculator, CellRendererFactory, HorizontalResizeService,\n            PinnedRowModel, DragService, DisplayedGroupCreator, EventService, GridOptionsWrapper,\n            PopupService, SelectionController, FilterManager, ColumnController, HeaderNavigationService,\n            PaginationProxy, RowRenderer, ExpressionService, ColumnFactory, TemplateService,\n            AlignedGridsService, NavigationService, ValueCache, ValueService, LoggerFactory,\n            ColumnUtils, AutoWidthCalculator, StandardMenuFactory, DragAndDropService, ColumnApi,\n            FocusController, MouseEventService, Environment, CellNavigationService, ValueFormatterService,\n            StylingService, ScrollVisibleService, SortController, ColumnHoverService, ColumnAnimationService,\n            SelectableService, AutoGroupColService, ChangeDetectionService, AnimationFrameService,\n            DetailRowCompCache, UndoRedoService, AgStackComponentsRegistry, ColumnDefFactory,\n            RowCssClassCalculator\n        ];\n        var moduleBeans = this.extractModuleEntity(registeredModules, function (module) { return module.beans ? module.beans : []; });\n        beans.push.apply(beans, moduleBeans);\n        // check for duplicates, as different modules could include the same beans that\n        // they depend on, eg ClientSideRowModel in enterprise, and ClientSideRowModel in community\n        var beansNoDuplicates = [];\n        beans.forEach(function (bean) {\n            if (beansNoDuplicates.indexOf(bean) < 0) {\n                beansNoDuplicates.push(bean);\n            }\n        });\n        return beansNoDuplicates;\n    };\n    Grid.prototype.extractModuleEntity = function (moduleEntities, extractor) {\n        return [].concat.apply([], moduleEntities.map(extractor));\n    };\n    Grid.prototype.setColumnsAndData = function () {\n        var gridOptionsWrapper = this.context.getBean('gridOptionsWrapper');\n        var columnController = this.context.getBean('columnController');\n        var columnDefs = gridOptionsWrapper.getColumnDefs();\n        columnController.setColumnDefs(columnDefs || [], \"gridInitializing\");\n        var rowModel = this.context.getBean('rowModel');\n        rowModel.start();\n    };\n    Grid.prototype.dispatchGridReadyEvent = function (gridOptions) {\n        var eventService = this.context.getBean('eventService');\n        var readyEvent = {\n            type: Events.EVENT_GRID_READY,\n            api: gridOptions.api,\n            columnApi: gridOptions.columnApi\n        };\n        eventService.dispatchEvent(readyEvent);\n    };\n    Grid.prototype.getRowModelClass = function (registeredModules) {\n        var rowModelType = this.gridOptions.rowModelType;\n        // default to client side\n        if (!rowModelType) {\n            rowModelType = Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        }\n        var rowModelClasses = {};\n        registeredModules.forEach(function (module) {\n            iterateObject(module.rowModels, function (key, value) {\n                rowModelClasses[key] = value;\n            });\n        });\n        var rowModelClass = rowModelClasses[rowModelType];\n        if (exists(rowModelClass)) {\n            return rowModelClass;\n        }\n        if (rowModelType === Constants.ROW_MODEL_TYPE_INFINITE) {\n            console.error(\"ag-Grid: Row Model \\\"Infinite\\\" not found. Please ensure the \" + ModuleNames.InfiniteRowModelModule + \" is registered.';\");\n        }\n        console.error('ag-Grid: could not find matching row model for rowModelType ' + rowModelType);\n        if (rowModelType === Constants.ROW_MODEL_TYPE_VIEWPORT) {\n            console.error(\"ag-Grid: Row Model \\\"Viewport\\\" not found. Please ensure the ag-Grid Enterprise Module \" + ModuleNames.ViewportRowModelModule + \" is registered.';\");\n        }\n        if (rowModelType === Constants.ROW_MODEL_TYPE_SERVER_SIDE) {\n            console.error(\"ag-Grid: Row Model \\\"Server Side\\\" not found. Please ensure the ag-Grid Enterprise Module \" + ModuleNames.ServerSideRowModelModule + \" is registered.';\");\n        }\n        if (rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            console.error(\"ag-Grid: Row Model \\\"Client Side\\\" not found. Please ensure the \" + ModuleNames.ClientSideRowModelModule + \" is registered.';\");\n        }\n    };\n    Grid.prototype.destroy = function () {\n        this.gridOptions.api.destroy();\n    };\n    return Grid;\n}());\nexport { Grid };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { PopupComponent } from \"../../widgets/popupComponent\";\nimport { Autowired } from \"../../context/context\";\nimport { isUserSuppressingKeyboardEvent } from \"../../utils/keyboard\";\nvar PopupEditorWrapper = /** @class */ (function (_super) {\n    __extends(PopupEditorWrapper, _super);\n    function PopupEditorWrapper(cellEditor) {\n        var _this = _super.call(this, \"<div class=\\\"ag-popup-editor\\\" tabindex=\\\"-1\\\"/>\") || this;\n        _this.getGuiCalledOnChild = false;\n        _this.cellEditor = cellEditor;\n        return _this;\n    }\n    PopupEditorWrapper.prototype.onKeyDown = function (event) {\n        if (!isUserSuppressingKeyboardEvent(this.gridOptionsWrapper, event, this.params.node, this.params.column, true)) {\n            this.params.onKeyDown(event);\n        }\n    };\n    PopupEditorWrapper.prototype.getGui = function () {\n        // we call getGui() on child here (rather than in the constructor)\n        // as we should wait for 'init' to be called on child first.\n        if (!this.getGuiCalledOnChild) {\n            this.appendChild(this.cellEditor.getGui());\n            this.getGuiCalledOnChild = true;\n        }\n        return _super.prototype.getGui.call(this);\n    };\n    PopupEditorWrapper.prototype.init = function (params) {\n        var _this = this;\n        this.params = params;\n        this.gridOptionsWrapper.setDomData(this.getGui(), PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER, true);\n        this.addDestroyFunc(function () { return _this.destroyBean(_this.cellEditor); });\n        this.addManagedListener(\n        // this needs to be 'super' and not 'this' as if we call 'this',\n        // it ends up called 'getGui()' on the child before 'init' was called,\n        // which is not good\n        _super.prototype.getGui.call(this), 'keydown', this.onKeyDown.bind(this));\n    };\n    PopupEditorWrapper.prototype.afterGuiAttached = function () {\n        if (this.cellEditor.afterGuiAttached) {\n            this.cellEditor.afterGuiAttached();\n        }\n    };\n    PopupEditorWrapper.prototype.getValue = function () {\n        return this.cellEditor.getValue();\n    };\n    PopupEditorWrapper.prototype.isCancelBeforeStart = function () {\n        if (this.cellEditor.isCancelBeforeStart) {\n            return this.cellEditor.isCancelBeforeStart();\n        }\n    };\n    PopupEditorWrapper.prototype.isCancelAfterEnd = function () {\n        if (this.cellEditor.isCancelAfterEnd) {\n            return this.cellEditor.isCancelAfterEnd();\n        }\n    };\n    PopupEditorWrapper.prototype.getPopupPosition = function () {\n        if (this.cellEditor.getPopupPosition) {\n            return this.cellEditor.getPopupPosition();\n        }\n    };\n    PopupEditorWrapper.prototype.focusIn = function () {\n        if (this.cellEditor.focusIn) {\n            this.cellEditor.focusIn();\n        }\n    };\n    PopupEditorWrapper.prototype.focusOut = function () {\n        if (this.cellEditor.focusOut) {\n            this.cellEditor.focusOut();\n        }\n    };\n    PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER = 'popupEditorWrapper';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PopupEditorWrapper.prototype, \"gridOptionsWrapper\", void 0);\n    return PopupEditorWrapper;\n}(PopupComponent));\nexport { PopupEditorWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport { Events } from './eventKeys';\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar AngularRowUtils = /** @class */ (function () {\n    function AngularRowUtils() {\n    }\n    AngularRowUtils.createChildScopeOrNull = function (rowNode, parentScope, gridOptionsWrapper) {\n        var isAngularCompileRows = gridOptionsWrapper.isAngularCompileRows();\n        if (!isAngularCompileRows) {\n            return null;\n        }\n        var newChildScope = parentScope.$new();\n        newChildScope.data = __assign({}, rowNode.data);\n        newChildScope.rowNode = rowNode;\n        newChildScope.context = gridOptionsWrapper.getContext();\n        var destroyFunc = function () {\n            newChildScope.$destroy();\n            newChildScope.data = null;\n            newChildScope.rowNode = null;\n            newChildScope.context = null;\n        };\n        return {\n            scope: newChildScope,\n            scopeDestroyFunc: destroyFunc\n        };\n    };\n    return AngularRowUtils;\n}());\nexport { AngularRowUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Constants } from \"../../constants/constants\";\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nimport { RowNode } from \"../../entities/rowNode\";\nimport { CheckboxSelectionComponent } from \"../checkboxSelectionComponent\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { ComponentSource } from \"../../components/framework/userComponentFactory\";\nimport { doOnce } from \"../../utils/function\";\nimport { get, cloneObject } from \"../../utils/object\";\nimport { bindCellRendererToHtmlElement } from \"../../utils/general\";\nimport { addOrRemoveCssClass, setDisplayed } from \"../../utils/dom\";\nimport { createIconNoSpan } from \"../../utils/icon\";\nimport { isKeyPressed } from \"../../utils/keyboard\";\nimport { missing, exists } from \"../../utils/generic\";\nimport { isStopPropagationForAgGrid, stopPropagationForAgGrid, isElementInEventPath } from \"../../utils/event\";\nimport { setAriaExpanded, removeAriaExpanded } from \"../../utils/aria\";\nimport { KeyCode } from '../../constants/keyCode';\nvar GroupCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCellRenderer, _super);\n    function GroupCellRenderer() {\n        return _super.call(this, GroupCellRenderer.TEMPLATE) || this;\n    }\n    GroupCellRenderer.prototype.init = function (params) {\n        this.params = params;\n        if (this.gridOptionsWrapper.isGroupIncludeTotalFooter()) {\n            this.assignBlankValueToGroupFooterCell(params);\n        }\n        var embeddedRowMismatch = this.isEmbeddedRowMismatch();\n        // This allows for empty strings to appear as groups since\n        // it will only return for null or undefined.\n        var nullValue = params.value == null;\n        var skipCell = false;\n        // if the groupCellRenderer is inside of a footer and groupHideOpenParents is true\n        // we should only display the groupCellRenderer if the current column is the rowGroupedColumn\n        if (this.gridOptionsWrapper.isGroupIncludeFooter() && this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            var node = params.node;\n            if (node.footer) {\n                var showRowGroup = params.colDef && params.colDef.showRowGroup;\n                var rowGroupColumnId = node.rowGroupColumn && node.rowGroupColumn.getColId();\n                skipCell = showRowGroup !== rowGroupColumnId;\n            }\n        }\n        this.cellIsBlank = embeddedRowMismatch || nullValue || skipCell;\n        if (this.cellIsBlank) {\n            return;\n        }\n        this.setupDragOpenParents();\n        this.addExpandAndContract();\n        this.addCheckboxIfNeeded();\n        this.addValueElement();\n        this.setupIndent();\n    };\n    GroupCellRenderer.prototype.assignBlankValueToGroupFooterCell = function (params) {\n        // this is not ideal, but it was the only way we could get footer working for the root node\n        if (!params.value && params.node.level == -1) {\n            params.value = '';\n        }\n    };\n    // if we are doing embedded full width rows, we only show the renderer when\n    // in the body, or if pinning in the pinned section, or if pinning and RTL,\n    // in the right section. otherwise we would have the cell repeated in each section.\n    GroupCellRenderer.prototype.isEmbeddedRowMismatch = function () {\n        if (!this.params.fullWidth || !this.gridOptionsWrapper.isEmbedFullWidthRows()) {\n            return false;\n        }\n        var pinnedLeftCell = this.params.pinned === Constants.PINNED_LEFT;\n        var pinnedRightCell = this.params.pinned === Constants.PINNED_RIGHT;\n        var bodyCell = !pinnedLeftCell && !pinnedRightCell;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            if (this.columnController.isPinningLeft()) {\n                return !pinnedRightCell;\n            }\n            return !bodyCell;\n        }\n        if (this.columnController.isPinningLeft()) {\n            return !pinnedLeftCell;\n        }\n        return !bodyCell;\n    };\n    GroupCellRenderer.prototype.setIndent = function () {\n        if (this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        var params = this.params;\n        var rowNode = params.node;\n        // if we are only showing one group column, we don't want to be indenting based on level\n        var fullWithRow = !!params.colDef;\n        var manyDimensionThisColumn = !fullWithRow || params.colDef.showRowGroup === true;\n        var paddingCount = manyDimensionThisColumn ? rowNode.uiLevel : 0;\n        var userProvidedPaddingPixelsTheDeprecatedWay = params.padding >= 0;\n        if (userProvidedPaddingPixelsTheDeprecatedWay) {\n            this.setPaddingDeprecatedWay(paddingCount, params.padding);\n            return;\n        }\n        if (this.indentClass) {\n            this.removeCssClass(this.indentClass);\n        }\n        this.indentClass = 'ag-row-group-indent-' + paddingCount;\n        this.addCssClass(this.indentClass);\n    };\n    GroupCellRenderer.prototype.setPaddingDeprecatedWay = function (paddingCount, padding) {\n        doOnce(function () { return console.warn('ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.'); }, 'groupCellRenderer->doDeprecatedWay');\n        var paddingPx = paddingCount * padding;\n        var eGui = this.getGui();\n        var paddingSide = this.gridOptionsWrapper.isEnableRtl() ? 'paddingRight' : 'paddingLeft';\n        eGui.style[paddingSide] = paddingPx + \"px\";\n    };\n    GroupCellRenderer.prototype.setupIndent = function () {\n        // only do this if an indent - as this overwrites the padding that\n        // the theme set, which will make things look 'not aligned' for the\n        // first group level.\n        var node = this.params.node;\n        var suppressPadding = this.params.suppressPadding;\n        if (!suppressPadding) {\n            this.addManagedListener(node, RowNode.EVENT_UI_LEVEL_CHANGED, this.setIndent.bind(this));\n            this.setIndent();\n        }\n    };\n    GroupCellRenderer.prototype.addValueElement = function () {\n        var params = this.params;\n        var rowNode = this.displayedGroup;\n        if (rowNode.footer) {\n            this.createFooterCell();\n        }\n        else if (rowNode.hasChildren() ||\n            get(params.colDef, 'cellRendererParams.innerRenderer', null) ||\n            get(params.colDef, 'cellRendererParams.innerRendererFramework', null)) {\n            this.createGroupCell();\n            if (rowNode.hasChildren()) {\n                this.addChildCount();\n            }\n        }\n        else {\n            this.createLeafCell();\n        }\n    };\n    GroupCellRenderer.prototype.createFooterCell = function () {\n        var footerValueGetter = this.params.footerValueGetter;\n        var footerValue;\n        if (footerValueGetter) {\n            // params is same as we were given, except we set the value as the item to display\n            var paramsClone = cloneObject(this.params);\n            paramsClone.value = this.params.value;\n            if (typeof footerValueGetter === 'function') {\n                footerValue = footerValueGetter(paramsClone);\n            }\n            else if (typeof footerValueGetter === 'string') {\n                footerValue = this.expressionService.evaluate(footerValueGetter, paramsClone);\n            }\n            else {\n                console.warn('ag-Grid: footerValueGetter should be either a function or a string (expression)');\n            }\n        }\n        else {\n            footerValue = 'Total ' + this.params.value;\n        }\n        this.eValue.innerHTML = footerValue;\n    };\n    GroupCellRenderer.prototype.createGroupCell = function () {\n        var _this = this;\n        var params = this.params;\n        var rowGroupColumn = this.displayedGroup.rowGroupColumn;\n        // we try and use the cellRenderer of the column used for the grouping if we can\n        var columnToUse = rowGroupColumn ? rowGroupColumn : params.column;\n        var groupName = this.params.value;\n        var valueFormatted = columnToUse ?\n            this.valueFormatterService.formatValue(columnToUse, params.node, params.scope, groupName) : null;\n        params.valueFormatted = valueFormatted;\n        var rendererPromise;\n        rendererPromise = params.fullWidth\n            ? this.useFullWidth(params)\n            : this.useInnerRenderer(this.params.colDef.cellRendererParams, columnToUse.getColDef(), params);\n        // retain a reference to the created renderer - we'll use this later for cleanup (in destroy)\n        if (rendererPromise) {\n            rendererPromise.then(function (value) {\n                _this.innerCellRenderer = value;\n            });\n        }\n    };\n    GroupCellRenderer.prototype.useInnerRenderer = function (groupCellRendererParams, groupedColumnDef, // the column this group row is for, eg 'Country'\n    params) {\n        var _this = this;\n        // when grouping, the normal case is we use the cell renderer of the grouped column. eg if grouping by country\n        // and then rating, we will use the country cell renderer for each country group row and likewise the rating\n        // cell renderer for each rating group row.\n        //\n        // however if the user has innerCellRenderer defined, this gets preference and we don't use cell renderers\n        // of the grouped columns.\n        //\n        // so we check and use in the following order:\n        //\n        // 1) thisColDef.cellRendererParams.innerRenderer of the column showing the groups (eg auto group column)\n        // 2) groupedColDef.cellRenderer of the grouped column\n        // 3) groupedColDef.cellRendererParams.innerRenderer\n        var cellRendererPromise = null;\n        // we check if cell renderer provided for the group cell renderer, eg colDef.cellRendererParams.innerRenderer\n        var groupInnerRendererClass = this.userComponentFactory\n            .lookupComponentClassDef(groupCellRendererParams, \"innerRenderer\");\n        if (groupInnerRendererClass && groupInnerRendererClass.component != null\n            && groupInnerRendererClass.source != ComponentSource.DEFAULT) {\n            // use the renderer defined in cellRendererParams.innerRenderer\n            cellRendererPromise = this.userComponentFactory.newInnerCellRenderer(groupCellRendererParams, params);\n        }\n        else {\n            // otherwise see if we can use the cellRenderer of the column we are grouping by\n            var groupColumnRendererClass = this.userComponentFactory\n                .lookupComponentClassDef(groupedColumnDef, \"cellRenderer\");\n            if (groupColumnRendererClass &&\n                groupColumnRendererClass.source != ComponentSource.DEFAULT) {\n                // Only if the original column is using a specific renderer, it it is a using a DEFAULT one ignore it\n                cellRendererPromise = this.userComponentFactory.newCellRenderer(groupedColumnDef, params);\n            }\n            else if (groupColumnRendererClass &&\n                groupColumnRendererClass.source == ComponentSource.DEFAULT &&\n                (get(groupedColumnDef, 'cellRendererParams.innerRenderer', null))) {\n                // EDGE CASE - THIS COMES FROM A COLUMN WHICH HAS BEEN GROUPED DYNAMICALLY, THAT HAS AS RENDERER 'group'\n                // AND HAS A INNER CELL RENDERER\n                cellRendererPromise = this.userComponentFactory.newInnerCellRenderer(groupedColumnDef.cellRendererParams, params);\n            }\n            else {\n                // This forces the retrieval of the default plain cellRenderer that just renders the values.\n                cellRendererPromise = this.userComponentFactory.newCellRenderer({}, params);\n            }\n        }\n        if (cellRendererPromise != null) {\n            cellRendererPromise.then(function (rendererToUse) {\n                if (rendererToUse == null) {\n                    _this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n                    return;\n                }\n                bindCellRendererToHtmlElement(cellRendererPromise, _this.eValue);\n            });\n        }\n        else {\n            this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n        }\n        return cellRendererPromise;\n    };\n    GroupCellRenderer.prototype.useFullWidth = function (params) {\n        var cellRendererPromise = this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(params);\n        if (cellRendererPromise != null) {\n            bindCellRendererToHtmlElement(cellRendererPromise, this.eValue);\n        }\n        else {\n            this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n        }\n        return cellRendererPromise;\n    };\n    GroupCellRenderer.prototype.addChildCount = function () {\n        // only include the child count if it's included, eg if user doing custom aggregation,\n        // then this could be left out, or set to -1, ie no child count\n        if (this.params.suppressCount) {\n            return;\n        }\n        this.addManagedListener(this.displayedGroup, RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED, this.updateChildCount.bind(this));\n        // filtering changes the child count, so need to cater for it\n        this.updateChildCount();\n    };\n    GroupCellRenderer.prototype.updateChildCount = function () {\n        var allChildrenCount = this.displayedGroup.allChildrenCount;\n        this.eChildCount.innerHTML = allChildrenCount >= 0 ? \"(\" + allChildrenCount + \")\" : \"\";\n    };\n    GroupCellRenderer.prototype.createLeafCell = function () {\n        if (exists(this.params.value)) {\n            this.eValue.innerText = this.params.valueFormatted ? this.params.valueFormatted : this.params.value;\n        }\n    };\n    GroupCellRenderer.prototype.isUserWantsSelected = function () {\n        var paramsCheckbox = this.params.checkbox;\n        if (typeof paramsCheckbox === 'function') {\n            return paramsCheckbox(this.params);\n        }\n        return paramsCheckbox === true;\n    };\n    GroupCellRenderer.prototype.addCheckboxIfNeeded = function () {\n        var _this = this;\n        var rowNode = this.displayedGroup;\n        var checkboxNeeded = this.isUserWantsSelected() &&\n            // footers cannot be selected\n            !rowNode.footer &&\n            // pinned rows cannot be selected\n            !rowNode.rowPinned &&\n            // details cannot be selected\n            !rowNode.detail;\n        if (checkboxNeeded) {\n            var cbSelectionComponent_1 = new CheckboxSelectionComponent();\n            this.getContext().createBean(cbSelectionComponent_1);\n            cbSelectionComponent_1.init({ rowNode: rowNode, column: this.params.column });\n            this.eCheckbox.appendChild(cbSelectionComponent_1.getGui());\n            this.addDestroyFunc(function () { return _this.getContext().destroyBean(cbSelectionComponent_1); });\n        }\n        addOrRemoveCssClass(this.eCheckbox, 'ag-invisible', !checkboxNeeded);\n    };\n    GroupCellRenderer.prototype.addExpandAndContract = function () {\n        var params = this.params;\n        var eGroupCell = params.eGridCell;\n        var eExpandedIcon = createIconNoSpan('groupExpanded', this.gridOptionsWrapper, null);\n        var eContractedIcon = createIconNoSpan('groupContracted', this.gridOptionsWrapper, null);\n        setAriaExpanded(eGroupCell, !!params.node.expanded);\n        this.eExpanded.appendChild(eExpandedIcon);\n        this.eContracted.appendChild(eContractedIcon);\n        this.addManagedListener(this.eExpanded, 'click', this.onExpandClicked.bind(this));\n        this.addManagedListener(this.eContracted, 'click', this.onExpandClicked.bind(this));\n        // expand / contract as the user hits enter\n        this.addManagedListener(eGroupCell, 'keydown', this.onKeyDown.bind(this));\n        this.addManagedListener(params.node, RowNode.EVENT_EXPANDED_CHANGED, this.showExpandAndContractIcons.bind(this));\n        this.showExpandAndContractIcons();\n        // because we don't show the expand / contract when there are no children, we need to check every time\n        // the number of children change.\n        var expandableChangedListener = this.onRowNodeIsExpandableChanged.bind(this);\n        this.addManagedListener(this.displayedGroup, RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED, expandableChangedListener);\n        this.addManagedListener(this.displayedGroup, RowNode.EVENT_MASTER_CHANGED, expandableChangedListener);\n        this.addManagedListener(this.displayedGroup, RowNode.EVENT_HAS_CHILDREN_CHANGED, expandableChangedListener);\n        // if editing groups, then double click is to start editing\n        if (!this.gridOptionsWrapper.isEnableGroupEdit() && this.isExpandable() && !params.suppressDoubleClickExpand) {\n            this.addManagedListener(eGroupCell, 'dblclick', this.onCellDblClicked.bind(this));\n        }\n    };\n    GroupCellRenderer.prototype.onRowNodeIsExpandableChanged = function () {\n        // maybe if no children now, we should hide the expand / contract icons\n        this.showExpandAndContractIcons();\n        // if we have no children, this impacts the indent\n        this.setIndent();\n    };\n    GroupCellRenderer.prototype.onKeyDown = function (event) {\n        var enterKeyPressed = isKeyPressed(event, KeyCode.ENTER);\n        if (!enterKeyPressed || this.params.suppressEnterExpand) {\n            return;\n        }\n        var cellEditable = this.params.column && this.params.column.isCellEditable(this.params.node);\n        if (cellEditable) {\n            return;\n        }\n        event.preventDefault();\n        this.onExpandOrContract();\n    };\n    GroupCellRenderer.prototype.setupDragOpenParents = function () {\n        var column = this.params.column;\n        var rowNode = this.params.node;\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            this.draggedFromHideOpenParents = false;\n        }\n        else if (!rowNode.hasChildren()) {\n            // if we are here, and we are not a group, then we must of been dragged down,\n            // as otherwise the cell would be blank, and if cell is blank, this method is never called.\n            this.draggedFromHideOpenParents = true;\n        }\n        else {\n            var rowGroupColumn = rowNode.rowGroupColumn;\n            if (rowGroupColumn) {\n                // if the displayGroup column for this col matches the rowGroupColumn we grouped by for this node,\n                // then nothing was dragged down\n                this.draggedFromHideOpenParents = !column.isRowGroupDisplayed(rowGroupColumn.getId());\n            }\n            else {\n                // the only way we can end up here (no column, but a group) is if we are at the root node,\n                // which only happens when 'groupIncludeTotalFooter' is true. here, we are never dragging\n                this.draggedFromHideOpenParents = false;\n            }\n        }\n        if (this.draggedFromHideOpenParents) {\n            var pointer = rowNode.parent;\n            while (true) {\n                if (missing(pointer)) {\n                    break;\n                }\n                if (pointer.rowGroupColumn && column.isRowGroupDisplayed(pointer.rowGroupColumn.getId())) {\n                    this.displayedGroup = pointer;\n                    break;\n                }\n                pointer = pointer.parent;\n            }\n        }\n        // if we didn't find a displayed group, set it to the row node\n        if (missing(this.displayedGroup)) {\n            this.displayedGroup = rowNode;\n        }\n    };\n    GroupCellRenderer.prototype.onExpandClicked = function (mouseEvent) {\n        if (isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        // so if we expand a node, it does not also get selected.\n        stopPropagationForAgGrid(mouseEvent);\n        this.onExpandOrContract();\n    };\n    GroupCellRenderer.prototype.onCellDblClicked = function (mouseEvent) {\n        if (isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        // we want to avoid acting on double click events on the expand / contract icon,\n        // as that icons already has expand / collapse functionality on it. otherwise if\n        // the icon was double clicked, we would get 'click', 'click', 'dblclick' which\n        // is open->close->open, however double click should be open->close only.\n        var targetIsExpandIcon = isElementInEventPath(this.eExpanded, mouseEvent)\n            || isElementInEventPath(this.eContracted, mouseEvent);\n        if (!targetIsExpandIcon) {\n            this.onExpandOrContract();\n        }\n    };\n    GroupCellRenderer.prototype.onExpandOrContract = function () {\n        // must use the displayedGroup, so if data was dragged down, we expand the parent, not this row\n        var rowNode = this.displayedGroup;\n        var params = this.params;\n        var nextExpandState = !rowNode.expanded;\n        rowNode.setExpanded(nextExpandState);\n        setAriaExpanded(params.eGridCell, nextExpandState);\n    };\n    GroupCellRenderer.prototype.isExpandable = function () {\n        var rowNode = this.params.node;\n        var reducedLeafNode = this.columnController.isPivotMode() && rowNode.leafGroup;\n        return this.draggedFromHideOpenParents ||\n            (rowNode.isExpandable() && !rowNode.footer && !reducedLeafNode);\n    };\n    GroupCellRenderer.prototype.showExpandAndContractIcons = function () {\n        var _a = this, eContracted = _a.eContracted, eExpanded = _a.eExpanded, params = _a.params, displayedGroup = _a.displayedGroup, columnController = _a.columnController;\n        var eGridCell = params.eGridCell, node = params.node;\n        if (this.isExpandable()) {\n            // if expandable, show one based on expand state.\n            // if we were dragged down, means our parent is always expanded\n            var expanded = this.draggedFromHideOpenParents ? true : node.expanded;\n            setDisplayed(eContracted, !expanded);\n            setDisplayed(eExpanded, expanded);\n        }\n        else {\n            // it not expandable, show neither\n            removeAriaExpanded(eGridCell);\n            setDisplayed(eExpanded, false);\n            setDisplayed(eContracted, false);\n        }\n        // compensation padding for leaf nodes, so there is blank space instead of the expand icon\n        var pivotModeAndLeafGroup = columnController.isPivotMode() && displayedGroup.leafGroup;\n        var notExpandable = !displayedGroup.isExpandable();\n        var addLeafIndentClass = displayedGroup.footer || notExpandable || pivotModeAndLeafGroup;\n        this.addOrRemoveCssClass('ag-row-group', !addLeafIndentClass);\n        this.addOrRemoveCssClass('ag-row-group-leaf-indent', addLeafIndentClass);\n    };\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to have public here instead of private or protected\n    GroupCellRenderer.prototype.destroy = function () {\n        this.getContext().destroyBean(this.innerCellRenderer);\n        _super.prototype.destroy.call(this);\n    };\n    GroupCellRenderer.prototype.refresh = function () {\n        return false;\n    };\n    GroupCellRenderer.TEMPLATE = \"<span class=\\\"ag-cell-wrapper\\\">\\n            <span class=\\\"ag-group-expanded\\\" ref=\\\"eExpanded\\\"></span>\\n            <span class=\\\"ag-group-contracted\\\" ref=\\\"eContracted\\\"></span>\\n            <span class=\\\"ag-group-checkbox ag-invisible\\\" ref=\\\"eCheckbox\\\"></span>\\n            <span class=\\\"ag-group-value\\\" ref=\\\"eValue\\\"></span>\\n            <span class=\\\"ag-group-child-count\\\" ref=\\\"eChildCount\\\"></span>\\n        </span>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], GroupCellRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], GroupCellRenderer.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('valueFormatterService')\n    ], GroupCellRenderer.prototype, \"valueFormatterService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GroupCellRenderer.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], GroupCellRenderer.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        RefSelector('eExpanded')\n    ], GroupCellRenderer.prototype, \"eExpanded\", void 0);\n    __decorate([\n        RefSelector('eContracted')\n    ], GroupCellRenderer.prototype, \"eContracted\", void 0);\n    __decorate([\n        RefSelector('eCheckbox')\n    ], GroupCellRenderer.prototype, \"eCheckbox\", void 0);\n    __decorate([\n        RefSelector('eValue')\n    ], GroupCellRenderer.prototype, \"eValue\", void 0);\n    __decorate([\n        RefSelector('eChildCount')\n    ], GroupCellRenderer.prototype, \"eChildCount\", void 0);\n    return GroupCellRenderer;\n}(Component));\nexport { GroupCellRenderer };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { includes } from './array';\nvar AG_GRID_STOP_PROPAGATION = '__ag_Grid_Stop_Propagation';\nvar PASSIVE_EVENTS = ['touchstart', 'touchend', 'touchmove', 'touchcancel'];\nvar OUTSIDE_ANGULAR_EVENTS = ['mouseover', 'mouseout', 'mouseenter', 'mouseleave'];\nvar supports = {};\n/**\n * a user once raised an issue - they said that when you opened a popup (eg context menu)\n * and then clicked on a selection checkbox, the popup wasn't closed. this is because the\n * popup listens for clicks on the body, however ag-grid WAS stopping propagation on the\n * checkbox clicks (so the rows didn't pick them up as row selection selection clicks).\n * to get around this, we have a pattern to stop propagation for the purposes of ag-Grid,\n * but we still let the event pass back to the body.\n * @param {Event} event\n */\nexport function stopPropagationForAgGrid(event) {\n    event[AG_GRID_STOP_PROPAGATION] = true;\n}\nexport function isStopPropagationForAgGrid(event) {\n    return event[AG_GRID_STOP_PROPAGATION] === true;\n}\nexport var isEventSupported = (function () {\n    var tags = {\n        select: 'input',\n        change: 'input',\n        submit: 'form',\n        reset: 'form',\n        error: 'img',\n        load: 'img',\n        abort: 'img'\n    };\n    var isEventSupported = function (eventName) {\n        if (typeof supports[eventName] === 'boolean') {\n            return supports[eventName];\n        }\n        var el = document.createElement(tags[eventName] || 'div');\n        eventName = 'on' + eventName;\n        var isSupported = (eventName in el);\n        if (!isSupported) {\n            el.setAttribute(eventName, 'return;');\n            isSupported = typeof el[eventName] == 'function';\n        }\n        el = null;\n        return supports[eventName] = isSupported;\n    };\n    return isEventSupported;\n})();\nexport function getCellCompForEvent(gridOptionsWrapper, event) {\n    var sourceElement = getTarget(event);\n    while (sourceElement) {\n        var renderedCell = gridOptionsWrapper.getDomData(sourceElement, 'cellComp');\n        if (renderedCell) {\n            return renderedCell;\n        }\n        sourceElement = sourceElement.parentElement;\n    }\n    return null;\n}\n/**\n * @deprecated\n * Adds all type of change listeners to an element, intended to be a text field\n * @param {HTMLElement} element\n * @param {EventListener} listener\n */\nexport function addChangeListener(element, listener) {\n    element.addEventListener('changed', listener);\n    element.addEventListener('paste', listener);\n    element.addEventListener('input', listener);\n    // IE doesn't fire changed for special keys (eg delete, backspace), so need to\n    // listen for this further ones\n    element.addEventListener('keydown', listener);\n    element.addEventListener('keyup', listener);\n}\n/**\n * srcElement is only available in IE. In all other browsers it is target\n * http://stackoverflow.com/questions/5301643/how-can-i-make-event-srcelement-work-in-firefox-and-what-does-it-mean\n * @param {Event} event\n * @returns {Element}\n */\nexport function getTarget(event) {\n    var eventNoType = event;\n    return eventNoType.target || eventNoType.srcElement;\n}\nexport function isElementInEventPath(element, event) {\n    if (!event || !element) {\n        return false;\n    }\n    return getEventPath(event).indexOf(element) >= 0;\n}\nexport function createEventPath(event) {\n    var res = [];\n    var pointer = getTarget(event);\n    while (pointer) {\n        res.push(pointer);\n        pointer = pointer.parentElement;\n    }\n    return res;\n}\n/**\n * firefox doesn't have event.path set, or any alternative to it, so we hack\n * it in. this is needed as it's to late to work out the path when the item is\n * removed from the dom. used by MouseEventService, where it works out if a click\n * was from the current grid, or a detail grid (master / detail).\n * @param {Event} event\n */\nexport function addAgGridEventPath(event) {\n    event.__agGridEventPath = getEventPath(event);\n}\n/**\n * Gets the path for an Event.\n * https://stackoverflow.com/questions/39245488/event-path-undefined-with-firefox-and-vue-js\n * https://developer.mozilla.org/en-US/docs/Web/API/Event\n * @param {Event} event\n * @returns {EventTarget[]}\n */\nexport function getEventPath(event) {\n    var eventNoType = event;\n    if (eventNoType.deepPath) {\n        // IE supports deep path\n        return eventNoType.deepPath();\n    }\n    if (eventNoType.path) {\n        // Chrome supports path\n        return eventNoType.path;\n    }\n    if (eventNoType.composedPath) {\n        // Firefox supports composePath\n        return eventNoType.composedPath();\n    }\n    if (eventNoType.__agGridEventPath) {\n        // Firefox supports composePath\n        return eventNoType.__agGridEventPath;\n    }\n    // and finally, if none of the above worked,\n    // we create the path ourselves\n    return createEventPath(event);\n}\nexport function addSafePassiveEventListener(frameworkOverrides, eElement, event, listener) {\n    var isPassive = includes(PASSIVE_EVENTS, event);\n    var isOutsideAngular = includes(OUTSIDE_ANGULAR_EVENTS, event);\n    var options = isPassive ? { passive: true } : undefined;\n    if (isOutsideAngular) {\n        // this happens in certain scenarios where I believe the user must be destroying the grid somehow but continuing\n        // for it to be used\n        // don't fall through to the else part either - just don't add the listener\n        if (frameworkOverrides && frameworkOverrides.addEventListenerOutsideAngular) {\n            frameworkOverrides.addEventListenerOutsideAngular(eElement, event, listener, options);\n        }\n    }\n    else {\n        eElement.addEventListener(event, listener, options);\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { PopupComponent } from \"../../widgets/popupComponent\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { exists } from \"../../utils/generic\";\nimport { KeyCode } from '../../constants/keyCode';\nvar LargeTextCellEditor = /** @class */ (function (_super) {\n    __extends(LargeTextCellEditor, _super);\n    function LargeTextCellEditor() {\n        return _super.call(this, LargeTextCellEditor.TEMPLATE) || this;\n    }\n    LargeTextCellEditor.prototype.init = function (params) {\n        this.params = params;\n        this.focusAfterAttached = params.cellStartedEdit;\n        this.eTextArea\n            .setMaxLength(params.maxLength || 200)\n            .setCols(params.cols || 60)\n            .setRows(params.rows || 10);\n        if (exists(params.value)) {\n            this.eTextArea.setValue(params.value.toString(), true);\n        }\n        this.addGuiEventListener('keydown', this.onKeyDown.bind(this));\n    };\n    LargeTextCellEditor.prototype.onKeyDown = function (event) {\n        var key = event.which || event.keyCode;\n        if (key === KeyCode.LEFT ||\n            key === KeyCode.UP ||\n            key === KeyCode.RIGHT ||\n            key === KeyCode.DOWN ||\n            (event.shiftKey && key === KeyCode.ENTER)) { // shift+enter allows for newlines\n            event.stopPropagation();\n        }\n    };\n    LargeTextCellEditor.prototype.afterGuiAttached = function () {\n        this.eTextArea.setInputAriaLabel('Input Editor');\n        if (this.focusAfterAttached) {\n            this.eTextArea.getFocusableElement().focus();\n        }\n    };\n    LargeTextCellEditor.prototype.getValue = function () {\n        return this.params.parseValue(this.eTextArea.getValue());\n    };\n    LargeTextCellEditor.TEMPLATE = \"<div class=\\\"ag-large-text\\\" tabindex=\\\"0\\\">\\n            <ag-input-text-area ref=\\\"eTextArea\\\" class=\\\"ag-large-text-input\\\"></ag-input-text-area>\\n        </div>\";\n    __decorate([\n        RefSelector(\"eTextArea\")\n    ], LargeTextCellEditor.prototype, \"eTextArea\", void 0);\n    return LargeTextCellEditor;\n}(PopupComponent));\nexport { LargeTextCellEditor };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PopupComponent } from '../widgets/popupComponent';\nvar TooltipComponent = /** @class */ (function (_super) {\n    __extends(TooltipComponent, _super);\n    function TooltipComponent() {\n        return _super.call(this, /* html */ \"<div class=\\\"ag-tooltip\\\"></div>\") || this;\n    }\n    // will need to type params\n    TooltipComponent.prototype.init = function (params) {\n        var value = params.value;\n        this.getGui().innerHTML = value;\n    };\n    return TooltipComponent;\n}(PopupComponent));\nexport { TooltipComponent };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, ColumnGroup, Constants, GroupInstanceIdCreator, BeanStub } from \"@ag-grid-community/core\";\nvar BaseGridSerializingSession = /** @class */ (function () {\n    function BaseGridSerializingSession(config) {\n        this.groupColumns = [];\n        var columnController = config.columnController, valueService = config.valueService, gridOptionsWrapper = config.gridOptionsWrapper, processCellCallback = config.processCellCallback, processHeaderCallback = config.processHeaderCallback, processGroupHeaderCallback = config.processGroupHeaderCallback, processRowGroupCallback = config.processRowGroupCallback;\n        this.columnController = columnController;\n        this.valueService = valueService;\n        this.gridOptionsWrapper = gridOptionsWrapper;\n        this.processCellCallback = processCellCallback;\n        this.processHeaderCallback = processHeaderCallback;\n        this.processGroupHeaderCallback = processGroupHeaderCallback;\n        this.processRowGroupCallback = processRowGroupCallback;\n    }\n    BaseGridSerializingSession.prototype.prepare = function (columnsToExport) {\n        this.groupColumns = _.filter(columnsToExport, function (col) { return !!col.getColDef().showRowGroup; });\n    };\n    BaseGridSerializingSession.prototype.extractHeaderValue = function (column) {\n        var value = this.getHeaderName(this.processHeaderCallback, column);\n        return value != null ? value : '';\n    };\n    BaseGridSerializingSession.prototype.extractRowCellValue = function (column, index, type, node) {\n        // we render the group summary text e.g. \"-> Parent -> Child\"...\n        var groupIndex = this.gridOptionsWrapper.isGroupMultiAutoColumn() ? node.rowGroupIndex : 0;\n        var renderGroupSummaryCell = \n        // on group rows\n        node && node.group\n            && (\n            // in the group column if groups appear in regular grid cells\n            index === groupIndex && this.groupColumns.indexOf(column) !== -1\n                // or the first cell in the row, if we're doing full width rows\n                || (index === 0 && this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode())));\n        var valueForCell;\n        if (renderGroupSummaryCell) {\n            valueForCell = this.createValueForGroupNode(node);\n        }\n        else {\n            valueForCell = this.valueService.getValue(column, node);\n        }\n        var value = this.processCell(node, column, valueForCell, this.processCellCallback, type);\n        return value != null ? value : '';\n    };\n    BaseGridSerializingSession.prototype.getHeaderName = function (callback, column) {\n        if (callback) {\n            return callback({\n                column: column,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext()\n            });\n        }\n        return this.columnController.getDisplayNameForColumn(column, 'csv', true);\n    };\n    BaseGridSerializingSession.prototype.createValueForGroupNode = function (node) {\n        if (this.processRowGroupCallback) {\n            return this.processRowGroupCallback({\n                node: node,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext(),\n            });\n        }\n        var keys = [node.key];\n        if (!this.gridOptionsWrapper.isGroupMultiAutoColumn()) {\n            while (node.parent) {\n                node = node.parent;\n                keys.push(node.key);\n            }\n        }\n        return keys.reverse().join(' -> ');\n    };\n    BaseGridSerializingSession.prototype.processCell = function (rowNode, column, value, processCellCallback, type) {\n        if (processCellCallback) {\n            return processCellCallback({\n                column: column,\n                node: rowNode,\n                value: value,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext(),\n                type: type\n            });\n        }\n        return value;\n    };\n    return BaseGridSerializingSession;\n}());\nexport { BaseGridSerializingSession };\nvar GridSerializer = /** @class */ (function (_super) {\n    __extends(GridSerializer, _super);\n    function GridSerializer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridSerializer.prototype.serialize = function (gridSerializingSession, params) {\n        if (params === void 0) { params = {}; }\n        var rowSkipper = params.shouldRowBeSkipped || (function () { return false; });\n        var api = this.gridOptionsWrapper.getApi();\n        var columnApi = this.gridOptionsWrapper.getColumnApi();\n        var skipSingleChildrenGroup = this.gridOptionsWrapper.isGroupRemoveSingleChildren();\n        var skipLowestSingleChildrenGroup = this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren();\n        var context = this.gridOptionsWrapper.getContext();\n        // when in pivot mode, we always render cols on screen, never 'all columns'\n        var isPivotMode = this.columnController.isPivotMode();\n        var rowModelNormal = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        var onlySelectedNonStandardModel = !rowModelNormal && params.onlySelected;\n        var columnsToExport = [];\n        if (_.existsAndNotEmpty(params.columnKeys)) {\n            columnsToExport = this.columnController.getGridColumns(params.columnKeys);\n        }\n        else if (params.allColumns && !isPivotMode) {\n            // add auto group column for tree data\n            columnsToExport = this.gridOptionsWrapper.isTreeData() ?\n                this.columnController.getGridColumns([Constants.GROUP_AUTO_COLUMN_ID]) : [];\n            columnsToExport = columnsToExport.concat(this.columnController.getAllPrimaryColumns() || []);\n        }\n        else {\n            columnsToExport = this.columnController.getAllDisplayedColumns();\n        }\n        if (params.customHeader) {\n            gridSerializingSession.addCustomContent(params.customHeader);\n        }\n        gridSerializingSession.prepare(columnsToExport);\n        // first pass, put in the header names of the cols\n        if (params.columnGroups) {\n            var groupInstanceIdCreator = new GroupInstanceIdCreator();\n            var displayedGroups = this.displayedGroupCreator.createDisplayedGroups(columnsToExport, this.columnController.getGridBalancedTree(), groupInstanceIdCreator, null);\n            this.recursivelyAddHeaderGroups(displayedGroups, gridSerializingSession, params.processGroupHeaderCallback);\n        }\n        if (!params.skipHeader) {\n            var gridRowIterator_1 = gridSerializingSession.onNewHeaderRow();\n            columnsToExport.forEach(function (column, index) {\n                gridRowIterator_1.onColumn(column, index, undefined);\n            });\n        }\n        this.pinnedRowModel.forEachPinnedTopRow(processRow);\n        if (isPivotMode) {\n            if (this.rowModel.forEachPivotNode) {\n                this.rowModel.forEachPivotNode(processRow);\n            }\n            else {\n                //Must be enterprise, so we can just loop through all the nodes\n                this.rowModel.forEachNode(processRow);\n            }\n        }\n        else {\n            // onlySelectedAllPages: user doing pagination and wants selected items from\n            // other pages, so cannot use the standard row model as it won't have rows from\n            // other pages.\n            // onlySelectedNonStandardModel: if user wants selected in non standard row model\n            // (eg viewport) then again rowmodel cannot be used, so need to use selected instead.\n            if (params.onlySelectedAllPages || onlySelectedNonStandardModel) {\n                var selectedNodes = this.selectionController.getSelectedNodes();\n                selectedNodes.forEach(function (node) {\n                    processRow(node);\n                });\n            }\n            else {\n                // here is everything else - including standard row model and selected. we don't use\n                // the selection model even when just using selected, so that the result is the order\n                // of the rows appearing on the screen.\n                if (rowModelNormal) {\n                    this.rowModel.forEachNodeAfterFilterAndSort(processRow);\n                }\n                else {\n                    this.rowModel.forEachNode(processRow);\n                }\n            }\n        }\n        this.pinnedRowModel.forEachPinnedBottomRow(processRow);\n        if (params.customFooter) {\n            gridSerializingSession.addCustomContent(params.customFooter);\n        }\n        function processRow(node) {\n            var shouldSkipLowestGroup = skipLowestSingleChildrenGroup && node.leafGroup;\n            var shouldSkipCurrentGroup = node.allChildrenCount === 1 && (skipSingleChildrenGroup || shouldSkipLowestGroup);\n            if (node.group && (params.skipGroups || shouldSkipCurrentGroup)) {\n                return;\n            }\n            if (params.skipFooters && node.footer) {\n                return;\n            }\n            if (params.onlySelected && !node.isSelected()) {\n                return;\n            }\n            if (params.skipPinnedTop && node.rowPinned === 'top') {\n                return;\n            }\n            if (params.skipPinnedBottom && node.rowPinned === 'bottom') {\n                return;\n            }\n            // if we are in pivotMode, then the grid will show the root node only\n            // if it's not a leaf group\n            var nodeIsRootNode = node.level === -1;\n            if (nodeIsRootNode && !node.leafGroup) {\n                return;\n            }\n            var shouldRowBeSkipped = rowSkipper({ node: node, api: api, context: context });\n            if (shouldRowBeSkipped) {\n                return;\n            }\n            var rowAccumulator = gridSerializingSession.onNewBodyRow();\n            columnsToExport.forEach(function (column, index) {\n                rowAccumulator.onColumn(column, index, node);\n            });\n            if (params.getCustomContentBelowRow) {\n                var content = params.getCustomContentBelowRow({ node: node, api: api, columnApi: columnApi, context: context });\n                if (content) {\n                    gridSerializingSession.addCustomContent(content);\n                }\n            }\n        }\n        return gridSerializingSession.parse();\n    };\n    GridSerializer.prototype.recursivelyAddHeaderGroups = function (displayedGroups, gridSerializingSession, processGroupHeaderCallback) {\n        var directChildrenHeaderGroups = [];\n        displayedGroups.forEach(function (columnGroupChild) {\n            var columnGroup = columnGroupChild;\n            if (!columnGroup.getChildren) {\n                return;\n            }\n            columnGroup.getChildren().forEach(function (it) { return directChildrenHeaderGroups.push(it); });\n        });\n        if (displayedGroups.length > 0 && displayedGroups[0] instanceof ColumnGroup) {\n            this.doAddHeaderHeader(gridSerializingSession, displayedGroups, processGroupHeaderCallback);\n        }\n        if (directChildrenHeaderGroups && directChildrenHeaderGroups.length > 0) {\n            this.recursivelyAddHeaderGroups(directChildrenHeaderGroups, gridSerializingSession, processGroupHeaderCallback);\n        }\n    };\n    GridSerializer.prototype.doAddHeaderHeader = function (gridSerializingSession, displayedGroups, processGroupHeaderCallback) {\n        var _this = this;\n        var gridRowIterator = gridSerializingSession.onNewHeaderGroupingRow();\n        var columnIndex = 0;\n        displayedGroups.forEach(function (columnGroupChild) {\n            var columnGroup = columnGroupChild;\n            var name;\n            if (processGroupHeaderCallback) {\n                name = processGroupHeaderCallback({\n                    columnGroup: columnGroup,\n                    api: _this.gridOptionsWrapper.getApi(),\n                    columnApi: _this.gridOptionsWrapper.getColumnApi(),\n                    context: _this.gridOptionsWrapper.getContext()\n                });\n            }\n            else {\n                name = _this.columnController.getDisplayNameForColumnGroup(columnGroup, 'header');\n            }\n            gridRowIterator.onColumn(name || '', columnIndex++, columnGroup.getLeafColumns().length - 1);\n        });\n    };\n    __decorate([\n        Autowired('displayedGroupCreator')\n    ], GridSerializer.prototype, \"displayedGroupCreator\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GridSerializer.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], GridSerializer.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], GridSerializer.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], GridSerializer.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('columnFactory')\n    ], GridSerializer.prototype, \"columnFactory\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], GridSerializer.prototype, \"gridOptionsWrapper\", void 0);\n    GridSerializer = __decorate([\n        Bean(\"gridSerializer\")\n    ], GridSerializer);\n    return GridSerializer;\n}(BeanStub));\nexport { GridSerializer };\nexport var RowType;\n(function (RowType) {\n    RowType[RowType[\"HEADER_GROUPING\"] = 0] = \"HEADER_GROUPING\";\n    RowType[RowType[\"HEADER\"] = 1] = \"HEADER\";\n    RowType[RowType[\"BODY\"] = 2] = \"BODY\";\n})(RowType || (RowType = {}));\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../../widgets/componentAnnotations';\nimport { OptionsFactory } from './optionsFactory';\nimport { ProvidedFilter } from './providedFilter';\nimport { Promise } from '../../utils';\nimport { forEach, every, some, includes } from '../../utils/array';\nimport { setDisplayed, setDisabled } from '../../utils/dom';\nexport var ConditionPosition;\n(function (ConditionPosition) {\n    ConditionPosition[ConditionPosition[\"One\"] = 0] = \"One\";\n    ConditionPosition[ConditionPosition[\"Two\"] = 1] = \"Two\";\n})(ConditionPosition || (ConditionPosition = {}));\n/**\n * Every filter with a dropdown where the user can specify a comparing type against the filter values\n */\nvar SimpleFilter = /** @class */ (function (_super) {\n    __extends(SimpleFilter, _super);\n    function SimpleFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // returns true if this type requires a 'from' field, eg any filter that requires at least one text value\n    SimpleFilter.prototype.showValueFrom = function (type) {\n        return !this.doesFilterHaveHiddenInput(type) && type !== SimpleFilter.EMPTY;\n    };\n    // returns true if this type requires a 'to' field, currently only 'range' returns true\n    SimpleFilter.prototype.showValueTo = function (type) {\n        return type === SimpleFilter.IN_RANGE;\n    };\n    // floating filter calls this when user applies filter from floating filter\n    SimpleFilter.prototype.onFloatingFilterChanged = function (type, value) {\n        this.setTypeFromFloatingFilter(type);\n        this.setValueFromFloatingFilter(value);\n        this.onUiChanged(true);\n    };\n    SimpleFilter.prototype.setTypeFromFloatingFilter = function (type) {\n        this.eType1.setValue(type);\n        this.eType2.setValue(this.optionsFactory.getDefaultOption());\n        (this.isDefaultOperator('AND') ? this.eJoinOperatorAnd : this.eJoinOperatorOr).setValue(true);\n    };\n    SimpleFilter.prototype.getModelFromUi = function () {\n        if (!this.isConditionUiComplete(ConditionPosition.One)) {\n            return null;\n        }\n        if (this.isAllowTwoConditions() && this.isConditionUiComplete(ConditionPosition.Two)) {\n            return {\n                filterType: this.getFilterType(),\n                operator: this.getJoinOperator(),\n                condition1: this.createCondition(ConditionPosition.One),\n                condition2: this.createCondition(ConditionPosition.Two)\n            };\n        }\n        return this.createCondition(ConditionPosition.One);\n    };\n    SimpleFilter.prototype.getCondition1Type = function () {\n        return this.eType1.getValue();\n    };\n    SimpleFilter.prototype.getCondition2Type = function () {\n        return this.eType2.getValue();\n    };\n    SimpleFilter.prototype.getJoinOperator = function () {\n        return this.eJoinOperatorOr.getValue() === true ? 'OR' : 'AND';\n    };\n    SimpleFilter.prototype.areModelsEqual = function (a, b) {\n        // both are missing\n        if (!a && !b) {\n            return true;\n        }\n        // one is missing, other present\n        if ((!a && b) || (a && !b)) {\n            return false;\n        }\n        // one is combined, the other is not\n        var aIsSimple = !a.operator;\n        var bIsSimple = !b.operator;\n        var oneSimpleOneCombined = (!aIsSimple && bIsSimple) || (aIsSimple && !bIsSimple);\n        if (oneSimpleOneCombined) {\n            return false;\n        }\n        var res;\n        // otherwise both present, so compare\n        if (aIsSimple) {\n            var aSimple = a;\n            var bSimple = b;\n            res = this.areSimpleModelsEqual(aSimple, bSimple);\n        }\n        else {\n            var aCombined = a;\n            var bCombined = b;\n            res = aCombined.operator === bCombined.operator\n                && this.areSimpleModelsEqual(aCombined.condition1, bCombined.condition1)\n                && this.areSimpleModelsEqual(aCombined.condition2, bCombined.condition2);\n        }\n        return res;\n    };\n    SimpleFilter.prototype.setModelIntoUi = function (model) {\n        var isCombined = model.operator;\n        if (isCombined) {\n            var combinedModel = model;\n            var orChecked = combinedModel.operator === 'OR';\n            this.eJoinOperatorAnd.setValue(!orChecked);\n            this.eJoinOperatorOr.setValue(orChecked);\n            this.eType1.setValue(combinedModel.condition1.type);\n            this.eType2.setValue(combinedModel.condition2.type);\n            this.setConditionIntoUi(combinedModel.condition1, ConditionPosition.One);\n            this.setConditionIntoUi(combinedModel.condition2, ConditionPosition.Two);\n        }\n        else {\n            var simpleModel = model;\n            this.eJoinOperatorAnd.setValue(this.isDefaultOperator('AND'));\n            this.eJoinOperatorOr.setValue(this.isDefaultOperator('OR'));\n            this.eType1.setValue(simpleModel.type);\n            this.eType2.setValue(this.optionsFactory.getDefaultOption());\n            this.setConditionIntoUi(simpleModel, ConditionPosition.One);\n            this.setConditionIntoUi(null, ConditionPosition.Two);\n        }\n        return Promise.resolve();\n    };\n    SimpleFilter.prototype.doesFilterPass = function (params) {\n        var _this = this;\n        var model = this.getModel();\n        if (model == null) {\n            return true;\n        }\n        var operator = model.operator;\n        var models = [];\n        if (operator) {\n            var combinedModel = model;\n            models.push(combinedModel.condition1, combinedModel.condition2);\n        }\n        else {\n            models.push(model);\n        }\n        var combineFunction = operator && operator === 'OR' ? some : every;\n        return combineFunction(models, function (m) { return _this.individualConditionPasses(params, m); });\n    };\n    SimpleFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.optionsFactory = new OptionsFactory();\n        this.optionsFactory.init(params, this.getDefaultFilterOptions());\n        this.allowTwoConditions = !params.suppressAndOrCondition;\n        this.alwaysShowBothConditions = !!params.alwaysShowBothConditions;\n        this.defaultJoinOperator = this.getDefaultJoinOperator(params.defaultJoinOperator);\n        this.putOptionsIntoDropdown();\n        this.addChangedListeners();\n    };\n    SimpleFilter.prototype.getDefaultJoinOperator = function (defaultJoinOperator) {\n        return includes(['AND', 'OR'], defaultJoinOperator) ? defaultJoinOperator : 'AND';\n    };\n    SimpleFilter.prototype.putOptionsIntoDropdown = function () {\n        var _this = this;\n        var filterOptions = this.optionsFactory.getFilterOptions();\n        forEach(filterOptions, function (option) {\n            var value;\n            var text;\n            if (typeof option === 'string') {\n                value = option;\n                text = _this.translate(value);\n            }\n            else {\n                value = option.displayKey;\n                var customOption = _this.optionsFactory.getCustomOption(value);\n                text = customOption ? customOption.displayName : _this.translate(value);\n            }\n            var createOption = function () { return ({ value: value, text: text }); };\n            _this.eType1.addOption(createOption());\n            _this.eType2.addOption(createOption());\n        });\n        var readOnly = filterOptions.length <= 1;\n        this.eType1.setDisabled(readOnly);\n        this.eType2.setDisabled(readOnly);\n    };\n    SimpleFilter.prototype.isAllowTwoConditions = function () {\n        return this.allowTwoConditions;\n    };\n    SimpleFilter.prototype.createBodyTemplate = function () {\n        return /* html */ \"\\n            <ag-select class=\\\"ag-filter-select\\\" ref=\\\"eOptions1\\\"></ag-select>\\n            \" + this.createValueTemplate(ConditionPosition.One) + \"\\n            <div class=\\\"ag-filter-condition\\\" ref=\\\"eJoinOperatorPanel\\\">\\n               <ag-radio-button ref=\\\"eJoinOperatorAnd\\\" class=\\\"ag-filter-condition-operator ag-filter-condition-operator-and\\\"></ag-radio-button>\\n               <ag-radio-button ref=\\\"eJoinOperatorOr\\\" class=\\\"ag-filter-condition-operator ag-filter-condition-operator-or\\\"></ag-radio-button>\\n            </div>\\n            <ag-select class=\\\"ag-filter-select\\\" ref=\\\"eOptions2\\\"></ag-select>\\n            \" + this.createValueTemplate(ConditionPosition.Two);\n    };\n    SimpleFilter.prototype.getCssIdentifier = function () {\n        return 'simple-filter';\n    };\n    SimpleFilter.prototype.updateUiVisibility = function () {\n        var isCondition2Enabled = this.isCondition2Enabled();\n        if (this.alwaysShowBothConditions) {\n            this.eJoinOperatorAnd.setDisabled(!isCondition2Enabled);\n            this.eJoinOperatorOr.setDisabled(!isCondition2Enabled);\n            this.eType2.setDisabled(!isCondition2Enabled);\n            setDisabled(this.eCondition2Body, !isCondition2Enabled);\n        }\n        else {\n            setDisplayed(this.eJoinOperatorPanel, isCondition2Enabled);\n            setDisplayed(this.eType2.getGui(), isCondition2Enabled);\n            setDisplayed(this.eCondition2Body, isCondition2Enabled);\n        }\n    };\n    SimpleFilter.prototype.isCondition2Enabled = function () {\n        return this.allowTwoConditions && this.isConditionUiComplete(ConditionPosition.One);\n    };\n    SimpleFilter.prototype.resetUiToDefaults = function (silent) {\n        var uniqueGroupId = 'ag-simple-filter-and-or-' + this.getCompId();\n        var defaultOption = this.optionsFactory.getDefaultOption();\n        this.eType1.setValue(defaultOption, silent).setAriaLabel('Filtering operator');\n        this.eType2.setValue(defaultOption, silent).setAriaLabel('Filtering operator');\n        this.eJoinOperatorAnd\n            .setValue(this.isDefaultOperator('AND'), silent)\n            .setName(uniqueGroupId)\n            .setLabel(this.translate('andCondition'));\n        this.eJoinOperatorOr\n            .setValue(this.isDefaultOperator('OR'), silent)\n            .setName(uniqueGroupId)\n            .setLabel(this.translate('orCondition'));\n        return Promise.resolve();\n    };\n    SimpleFilter.prototype.isDefaultOperator = function (operator) {\n        return operator === this.defaultJoinOperator;\n    };\n    SimpleFilter.prototype.addChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eType1.onValueChange(listener);\n        this.eType2.onValueChange(listener);\n        this.eJoinOperatorOr.onValueChange(listener);\n        this.eJoinOperatorAnd.onValueChange(listener);\n    };\n    SimpleFilter.prototype.doesFilterHaveHiddenInput = function (filterType) {\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        return customFilterOption && customFilterOption.hideFilterInput;\n    };\n    SimpleFilter.EMPTY = 'empty';\n    SimpleFilter.EQUALS = 'equals';\n    SimpleFilter.NOT_EQUAL = 'notEqual';\n    SimpleFilter.LESS_THAN = 'lessThan';\n    SimpleFilter.LESS_THAN_OR_EQUAL = 'lessThanOrEqual';\n    SimpleFilter.GREATER_THAN = 'greaterThan';\n    SimpleFilter.GREATER_THAN_OR_EQUAL = 'greaterThanOrEqual';\n    SimpleFilter.IN_RANGE = 'inRange';\n    SimpleFilter.CONTAINS = 'contains';\n    SimpleFilter.NOT_CONTAINS = 'notContains';\n    SimpleFilter.STARTS_WITH = 'startsWith';\n    SimpleFilter.ENDS_WITH = 'endsWith';\n    __decorate([\n        RefSelector('eOptions1')\n    ], SimpleFilter.prototype, \"eType1\", void 0);\n    __decorate([\n        RefSelector('eOptions2')\n    ], SimpleFilter.prototype, \"eType2\", void 0);\n    __decorate([\n        RefSelector('eJoinOperatorPanel')\n    ], SimpleFilter.prototype, \"eJoinOperatorPanel\", void 0);\n    __decorate([\n        RefSelector('eJoinOperatorAnd')\n    ], SimpleFilter.prototype, \"eJoinOperatorAnd\", void 0);\n    __decorate([\n        RefSelector('eJoinOperatorOr')\n    ], SimpleFilter.prototype, \"eJoinOperatorOr\", void 0);\n    __decorate([\n        RefSelector('eCondition1Body')\n    ], SimpleFilter.prototype, \"eCondition1Body\", void 0);\n    __decorate([\n        RefSelector('eCondition2Body')\n    ], SimpleFilter.prototype, \"eCondition2Body\", void 0);\n    return SimpleFilter;\n}(ProvidedFilter));\nexport { SimpleFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired, PostConstruct, Optional } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nimport { Events } from \"./events\";\nimport { CellComp } from \"./rendering/cellComp\";\nimport { ManagedFocusComponent } from \"./widgets/managedFocusComponent\";\nimport { getTabIndex } from './utils/browser';\nimport { findIndex, last } from './utils/array';\nimport { makeNull } from './utils/generic';\nvar FocusController = /** @class */ (function (_super) {\n    __extends(FocusController, _super);\n    function FocusController() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.keyboardFocusActive = false;\n        return _this;\n    }\n    FocusController_1 = FocusController;\n    FocusController.prototype.init = function () {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var clearFocusedCellListener = this.clearFocusedCell.bind(this);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, clearFocusedCellListener);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.onColumnEverythingChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_GROUP_OPENED, clearFocusedCellListener);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, clearFocusedCellListener);\n        this.addManagedListener(eDocument, 'keydown', this.activateKeyboardMode.bind(this));\n        this.addManagedListener(eDocument, 'mousedown', this.activateMouseMode.bind(this));\n    };\n    FocusController.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    FocusController.prototype.onColumnEverythingChanged = function () {\n        // if the columns change, check and see if this column still exists. if it does,\n        // then we can keep the focused cell. if it doesn't, then we need to drop the focused\n        // cell.\n        if (this.focusedCellPosition) {\n            var col = this.focusedCellPosition.column;\n            var colFromColumnController = this.columnController.getGridColumn(col.getId());\n            if (col !== colFromColumnController) {\n                this.clearFocusedCell();\n            }\n        }\n    };\n    FocusController.prototype.isKeyboardFocus = function () {\n        return this.keyboardFocusActive;\n    };\n    FocusController.prototype.activateMouseMode = function () {\n        this.keyboardFocusActive = false;\n        this.eventService.dispatchEvent({ type: Events.EVENT_MOUSE_FOCUS });\n    };\n    FocusController.prototype.activateKeyboardMode = function () {\n        this.keyboardFocusActive = true;\n        this.eventService.dispatchEvent({ type: Events.EVENT_KEYBOARD_FOCUS });\n    };\n    // we check if the browser is focusing something, and if it is, and\n    // it's the cell we think is focused, then return the cell. so this\n    // methods returns the cell if a) we think it has focus and b) the\n    // browser thinks it has focus. this then returns nothing if we\n    // first focus a cell, then second click outside the grid, as then the\n    // grid cell will still be focused as far as the grid is concerned,\n    // however the browser focus will have moved somewhere else.\n    FocusController.prototype.getFocusCellToUseAfterRefresh = function () {\n        if (this.gridOptionsWrapper.isSuppressFocusAfterRefresh() || !this.focusedCellPosition) {\n            return null;\n        }\n        // we check that the browser is actually focusing on the grid, if it is not, then\n        // we have nothing to worry about\n        if (!this.getGridCellForDomElement(document.activeElement)) {\n            return null;\n        }\n        return this.focusedCellPosition;\n    };\n    FocusController.prototype.getGridCellForDomElement = function (eBrowserCell) {\n        var ePointer = eBrowserCell;\n        while (ePointer) {\n            var cellComp = this.gridOptionsWrapper.getDomData(ePointer, CellComp.DOM_DATA_KEY_CELL_COMP);\n            if (cellComp) {\n                return cellComp.getCellPosition();\n            }\n            ePointer = ePointer.parentNode;\n        }\n        return null;\n    };\n    FocusController.prototype.clearFocusedCell = function () {\n        this.focusedCellPosition = null;\n        this.onCellFocused(false);\n    };\n    FocusController.prototype.getFocusedCell = function () {\n        return this.focusedCellPosition;\n    };\n    FocusController.prototype.setFocusedCell = function (rowIndex, colKey, floating, forceBrowserFocus) {\n        if (forceBrowserFocus === void 0) { forceBrowserFocus = false; }\n        var gridColumn = this.columnController.getGridColumn(colKey);\n        // if column doesn't exist, then blank the focused cell and return. this can happen when user sets new columns,\n        // and the focused cell is in a column that no longer exists. after columns change, the grid refreshes and tries\n        // to re-focus the focused cell.\n        if (!gridColumn) {\n            this.focusedCellPosition = null;\n            return;\n        }\n        this.focusedCellPosition = { rowIndex: rowIndex, rowPinned: makeNull(floating), column: makeNull(gridColumn) };\n        this.onCellFocused(forceBrowserFocus);\n    };\n    FocusController.prototype.isCellFocused = function (cellPosition) {\n        if (this.focusedCellPosition == null) {\n            return false;\n        }\n        return this.focusedCellPosition.column === cellPosition.column &&\n            this.isRowFocused(cellPosition.rowIndex, cellPosition.rowPinned);\n    };\n    FocusController.prototype.isRowNodeFocused = function (rowNode) {\n        return this.isRowFocused(rowNode.rowIndex, rowNode.rowPinned);\n    };\n    FocusController.prototype.isHeaderWrapperFocused = function (headerWrapper) {\n        if (this.focusedHeaderPosition == null) {\n            return false;\n        }\n        var column = headerWrapper.getColumn();\n        var headerRowIndex = headerWrapper.getParentComponent().getRowIndex();\n        var pinned = headerWrapper.getPinned();\n        var _a = this.focusedHeaderPosition, focusedColumn = _a.column, focusedHeaderRowIndex = _a.headerRowIndex;\n        return column === focusedColumn &&\n            headerRowIndex === focusedHeaderRowIndex &&\n            pinned == focusedColumn.getPinned();\n    };\n    FocusController.prototype.clearFocusedHeader = function () {\n        this.focusedHeaderPosition = null;\n    };\n    FocusController.prototype.getFocusedHeader = function () {\n        return this.focusedHeaderPosition;\n    };\n    FocusController.prototype.setFocusedHeader = function (headerRowIndex, column) {\n        this.focusedHeaderPosition = { headerRowIndex: headerRowIndex, column: column };\n    };\n    FocusController.prototype.focusHeaderPosition = function (headerPosition, direction) {\n        this.headerNavigationService.scrollToColumn(headerPosition.column, direction);\n        var childContainer = this.headerNavigationService.getHeaderContainer(headerPosition.column.getPinned());\n        var rowComps = childContainer.getRowComps();\n        var nextRowComp = rowComps[headerPosition.headerRowIndex];\n        var headerComps = nextRowComp.getHeaderComps();\n        var nextHeader = headerComps[headerPosition.column.getUniqueId()];\n        if (nextHeader) {\n            // this will automatically call the setFocusedHeader method above\n            nextHeader.getFocusableElement().focus();\n            return true;\n        }\n        return false;\n    };\n    FocusController.prototype.isAnyCellFocused = function () {\n        return !!this.focusedCellPosition;\n    };\n    FocusController.prototype.isRowFocused = function (rowIndex, floating) {\n        if (this.focusedCellPosition == null) {\n            return false;\n        }\n        return this.focusedCellPosition.rowIndex === rowIndex && this.focusedCellPosition.rowPinned === makeNull(floating);\n    };\n    FocusController.prototype.findFocusableElements = function (rootNode, exclude, onlyUnmanaged) {\n        if (onlyUnmanaged === void 0) { onlyUnmanaged = false; }\n        var focusableString = FocusController_1.FOCUSABLE_SELECTOR;\n        var excludeString = FocusController_1.FOCUSABLE_EXCLUDE;\n        if (exclude) {\n            excludeString += ', ' + exclude;\n        }\n        if (onlyUnmanaged) {\n            excludeString += ', [tabindex=\"-1\"]';\n        }\n        var nodes = Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString));\n        var excludeNodes = Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));\n        if (!excludeNodes.length) {\n            return nodes;\n        }\n        var diff = function (a, b) { return a.filter(function (element) { return b.indexOf(element) === -1; }); };\n        return diff(nodes, excludeNodes);\n    };\n    FocusController.prototype.focusInto = function (rootNode, up, onlyUnmanaged) {\n        if (up === void 0) { up = false; }\n        if (onlyUnmanaged === void 0) { onlyUnmanaged = false; }\n        var focusableElements = this.findFocusableElements(rootNode, null, onlyUnmanaged);\n        var toFocus = up ? last(focusableElements) : focusableElements[0];\n        if (toFocus) {\n            toFocus.focus();\n            return true;\n        }\n        return false;\n    };\n    FocusController.prototype.findNextFocusableElement = function (rootNode, onlyManaged, backwards) {\n        var focusable = this.findFocusableElements(rootNode, onlyManaged ? ':not([tabindex=\"-1\"])' : null);\n        var currentIndex;\n        if (onlyManaged) {\n            currentIndex = findIndex(focusable, function (el) { return el.contains(document.activeElement); });\n        }\n        else {\n            currentIndex = focusable.indexOf(document.activeElement);\n        }\n        var nextIndex = currentIndex + (backwards ? -1 : 1);\n        if (nextIndex < 0 || nextIndex >= focusable.length) {\n            return null;\n        }\n        return focusable[nextIndex];\n    };\n    FocusController.prototype.isFocusUnderManagedComponent = function (rootNode) {\n        var managedContainers = rootNode.querySelectorAll(\".\" + ManagedFocusComponent.FOCUS_MANAGED_CLASS);\n        if (!managedContainers.length) {\n            return false;\n        }\n        for (var i = 0; i < managedContainers.length; i++) {\n            if (managedContainers[i].contains(document.activeElement)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    FocusController.prototype.findTabbableParent = function (node, limit) {\n        if (limit === void 0) { limit = 5; }\n        var counter = 0;\n        while (node && getTabIndex(node) === null && ++counter <= limit) {\n            node = node.parentElement;\n        }\n        if (getTabIndex(node) === null) {\n            return null;\n        }\n        return node;\n    };\n    FocusController.prototype.onCellFocused = function (forceBrowserFocus) {\n        var event = {\n            type: Events.EVENT_CELL_FOCUSED,\n            forceBrowserFocus: forceBrowserFocus,\n            rowIndex: null,\n            column: null,\n            floating: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            rowPinned: null\n        };\n        if (this.focusedCellPosition) {\n            event.rowIndex = this.focusedCellPosition.rowIndex;\n            event.column = this.focusedCellPosition.column;\n            event.rowPinned = this.focusedCellPosition.rowPinned;\n        }\n        this.eventService.dispatchEvent(event);\n    };\n    FocusController.prototype.focusGridView = function (column, backwards) {\n        var nextRow = backwards\n            ? this.rowPositionUtils.getLastRow()\n            : this.rowPositionUtils.getFirstRow();\n        if (!nextRow) {\n            return false;\n        }\n        var rowIndex = nextRow.rowIndex, rowPinned = nextRow.rowPinned;\n        var focusedHeader = this.getFocusedHeader();\n        if (!column) {\n            column = focusedHeader.column;\n        }\n        if (rowIndex == null) {\n            return false;\n        }\n        this.rowRenderer.ensureCellVisible({ rowIndex: rowIndex, column: column, rowPinned: rowPinned });\n        this.setFocusedCell(rowIndex, column, makeNull(rowPinned), true);\n        if (this.rangeController) {\n            var cellPosition = { rowIndex: rowIndex, rowPinned: rowPinned, column: column };\n            this.rangeController.setRangeToCell(cellPosition);\n        }\n        return true;\n    };\n    FocusController.prototype.focusNextGridCoreContainer = function (backwards) {\n        if (this.gridCore.focusNextInnerContainer(backwards)) {\n            return true;\n        }\n        if (!backwards) {\n            this.gridCore.forceFocusOutOfContainer();\n        }\n    };\n    var FocusController_1;\n    FocusController.FOCUSABLE_SELECTOR = '[tabindex], input, select, button, textarea';\n    FocusController.FOCUSABLE_EXCLUDE = '.ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FocusController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], FocusController.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('headerNavigationService')\n    ], FocusController.prototype, \"headerNavigationService\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], FocusController.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], FocusController.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], FocusController.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('rowPositionUtils')\n    ], FocusController.prototype, \"rowPositionUtils\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], FocusController.prototype, \"rangeController\", void 0);\n    __decorate([\n        PostConstruct\n    ], FocusController.prototype, \"init\", null);\n    FocusController = FocusController_1 = __decorate([\n        Bean('focusController')\n    ], FocusController);\n    return FocusController;\n}(BeanStub));\nexport { FocusController };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { SimpleFilter, ConditionPosition } from '../simpleFilter';\nimport { makeNull } from '../../../utils/generic';\nimport { setDisplayed } from '../../../utils/dom';\nimport { forEach } from '../../../utils/array';\nvar TextFilter = /** @class */ (function (_super) {\n    __extends(TextFilter, _super);\n    function TextFilter() {\n        return _super.call(this, 'textFilter') || this;\n    }\n    TextFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    TextFilter.prototype.getValue = function (inputField) {\n        var val = inputField.getValue();\n        val = makeNull(val);\n        if (val && val.trim() === '') {\n            val = null;\n        }\n        return val;\n    };\n    TextFilter.prototype.addValueChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eValue1.onValueChange(listener);\n        this.eValue2.onValueChange(listener);\n    };\n    TextFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.textFilterParams = params;\n        this.comparator = this.textFilterParams.textCustomComparator || TextFilter.DEFAULT_COMPARATOR;\n        this.formatter = this.textFilterParams.textFormatter ||\n            (this.textFilterParams.caseSensitive == true\n                ? TextFilter.DEFAULT_FORMATTER\n                : TextFilter.DEFAULT_LOWERCASE_FORMATTER);\n        this.addValueChangedListeners();\n    };\n    TextFilter.prototype.setConditionIntoUi = function (model, position) {\n        var positionOne = position === ConditionPosition.One;\n        var eValue = positionOne ? this.eValue1 : this.eValue2;\n        eValue.setValue(model ? model.filter : null);\n    };\n    TextFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var eValue = positionOne ? this.eValue1 : this.eValue2;\n        var value = this.getValue(eValue);\n        var model = {\n            filterType: this.getFilterType(),\n            type: type\n        };\n        if (!this.doesFilterHaveHiddenInput(type)) {\n            model.filter = value;\n        }\n        return model;\n    };\n    TextFilter.prototype.getFilterType = function () {\n        return 'text';\n    };\n    TextFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.filter === bSimple.filter && aSimple.type === bSimple.type;\n    };\n    TextFilter.prototype.resetUiToDefaults = function (silent) {\n        var _this = this;\n        return _super.prototype.resetUiToDefaults.call(this, silent).then(function () {\n            _this.forEachInput(function (field) { return field.setValue(null, silent); });\n            _this.resetPlaceholder();\n        });\n    };\n    TextFilter.prototype.resetPlaceholder = function () {\n        var placeholder = this.translate('filterOoo');\n        this.forEachInput(function (field) {\n            field.setInputPlaceholder(placeholder);\n            field.setInputAriaLabel('Filter value');\n        });\n    };\n    TextFilter.prototype.forEachInput = function (action) {\n        forEach([this.eValue1, this.eValue2], action);\n    };\n    TextFilter.prototype.setValueFromFloatingFilter = function (value) {\n        this.eValue1.setValue(value);\n        this.eValue2.setValue(null);\n    };\n    TextFilter.prototype.getDefaultFilterOptions = function () {\n        return TextFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    TextFilter.prototype.createValueTemplate = function (position) {\n        var pos = position === ConditionPosition.One ? '1' : '2';\n        return /* html */ \"\\n            <div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field class=\\\"ag-filter-filter\\\" ref=\\\"eValue\" + pos + \"\\\"></ag-input-text-field>\\n            </div>\";\n    };\n    TextFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        setDisplayed(this.eCondition1Body, this.showValueFrom(this.getCondition1Type()));\n        setDisplayed(this.eCondition2Body, this.isCondition2Enabled() && this.showValueFrom(this.getCondition2Type()));\n    };\n    TextFilter.prototype.afterGuiAttached = function (params) {\n        _super.prototype.afterGuiAttached.call(this, params);\n        this.resetPlaceholder();\n        if (!params || !params.suppressFocus) {\n            this.eValue1.getInputElement().focus();\n        }\n    };\n    TextFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        return this.getValue(positionOne ? this.eValue1 : this.eValue2) != null;\n    };\n    TextFilter.prototype.individualConditionPasses = function (params, filterModel) {\n        var filterText = filterModel.filter;\n        var filterOption = filterModel.type;\n        var cellValue = this.textFilterParams.valueGetter(params.node);\n        var cellValueFormatted = this.formatter(cellValue);\n        var customFilterOption = this.optionsFactory.getCustomOption(filterOption);\n        if (customFilterOption) {\n            // only execute the custom filter if a value exists or a value isn't required, i.e. input is hidden\n            if (filterText != null || customFilterOption.hideFilterInput) {\n                return customFilterOption.test(filterText, cellValueFormatted);\n            }\n        }\n        if (cellValue == null) {\n            return filterOption === SimpleFilter.NOT_EQUAL || filterOption === SimpleFilter.NOT_CONTAINS;\n        }\n        var filterTextFormatted = this.formatter(filterText);\n        return this.comparator(filterOption, cellValueFormatted, filterTextFormatted);\n    };\n    TextFilter.DEFAULT_FILTER_OPTIONS = [\n        SimpleFilter.CONTAINS,\n        SimpleFilter.NOT_CONTAINS,\n        SimpleFilter.EQUALS,\n        SimpleFilter.NOT_EQUAL,\n        SimpleFilter.STARTS_WITH,\n        SimpleFilter.ENDS_WITH\n    ];\n    TextFilter.DEFAULT_FORMATTER = function (from) { return from; };\n    TextFilter.DEFAULT_LOWERCASE_FORMATTER = function (from) {\n        return from == null ? null : from.toString().toLowerCase();\n    };\n    TextFilter.DEFAULT_COMPARATOR = function (filter, value, filterText) {\n        switch (filter) {\n            case TextFilter.CONTAINS:\n                return value.indexOf(filterText) >= 0;\n            case TextFilter.NOT_CONTAINS:\n                return value.indexOf(filterText) === -1;\n            case TextFilter.EQUALS:\n                return value === filterText;\n            case TextFilter.NOT_EQUAL:\n                return value != filterText;\n            case TextFilter.STARTS_WITH:\n                return value.indexOf(filterText) === 0;\n            case TextFilter.ENDS_WITH:\n                var index = value.lastIndexOf(filterText);\n                return index >= 0 && index === (value.length - filterText.length);\n            default:\n                // should never happen\n                console.warn('invalid filter type ' + filter);\n                return false;\n        }\n    };\n    __decorate([\n        RefSelector('eValue1')\n    ], TextFilter.prototype, \"eValue1\", void 0);\n    __decorate([\n        RefSelector('eValue2')\n    ], TextFilter.prototype, \"eValue2\", void 0);\n    return TextFilter;\n}(SimpleFilter));\nexport { TextFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgAbstractLabel } from './agAbstractLabel';\nimport { setDisabled, addOrRemoveCssClass, setFixedWidth, addCssClass } from '../utils/dom';\nvar AgAbstractField = /** @class */ (function (_super) {\n    __extends(AgAbstractField, _super);\n    function AgAbstractField(config, template, className) {\n        var _this = _super.call(this, config, template) || this;\n        _this.className = className;\n        _this.disabled = false;\n        return _this;\n    }\n    AgAbstractField.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        addCssClass(this.getGui(), this.className);\n    };\n    AgAbstractField.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        this.addManagedListener(this, AgAbstractField.EVENT_CHANGED, function () { return callbackFn(_this.getValue()); });\n        return this;\n    };\n    AgAbstractField.prototype.getWidth = function () {\n        return this.getGui().clientWidth;\n    };\n    AgAbstractField.prototype.setWidth = function (width) {\n        setFixedWidth(this.getGui(), width);\n        return this;\n    };\n    AgAbstractField.prototype.getValue = function () {\n        return this.value;\n    };\n    AgAbstractField.prototype.setValue = function (value, silent) {\n        if (this.value === value) {\n            return this;\n        }\n        this.value = value;\n        if (!silent) {\n            this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        }\n        return this;\n    };\n    AgAbstractField.prototype.setDisabled = function (disabled) {\n        disabled = !!disabled;\n        var element = this.getGui();\n        setDisabled(element, disabled);\n        addOrRemoveCssClass(element, 'ag-disabled', disabled);\n        this.disabled = disabled;\n        return this;\n    };\n    AgAbstractField.prototype.isDisabled = function () {\n        return !!this.disabled;\n    };\n    AgAbstractField.EVENT_CHANGED = 'valueChange';\n    return AgAbstractField;\n}(AgAbstractLabel));\nexport { AgAbstractField };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../context/context\";\nimport { AgPanel } from \"./agPanel\";\nimport { Component } from \"./component\";\nimport { addCssClass, setDisplayed } from \"../utils/dom\";\nimport { createIconNoSpan } from \"../utils/icon\";\nvar AgDialog = /** @class */ (function (_super) {\n    __extends(AgDialog, _super);\n    function AgDialog(config) {\n        var _this = _super.call(this, config) || this;\n        _this.RESIZE_TEMPLATE = \"<div class=\\\"ag-resizer-wrapper\\\">\\n            <div ref=\\\"eTopLeftResizer\\\" class=\\\"ag-resizer ag-resizer-topLeft\\\"></div>\\n            <div ref=\\\"eTopResizer\\\" class=\\\"ag-resizer ag-resizer-top\\\"></div>\\n            <div ref=\\\"eTopRightResizer\\\" class=\\\"ag-resizer ag-resizer-topRight\\\"></div>\\n            <div ref=\\\"eRightResizer\\\" class=\\\"ag-resizer ag-resizer-right\\\"></div>\\n            <div ref=\\\"eBottomRightResizer\\\" class=\\\"ag-resizer ag-resizer-bottomRight\\\"></div>\\n            <div ref=\\\"eBottomResizer\\\" class=\\\"ag-resizer ag-resizer-bottom\\\"></div>\\n            <div ref=\\\"eBottomLeftResizer\\\" class=\\\"ag-resizer ag-resizer-bottomLeft\\\"></div>\\n            <div ref=\\\"eLeftResizer\\\" class=\\\"ag-resizer ag-resizer-left\\\"></div>\\n        </div>\";\n        _this.resizable = {};\n        _this.movable = false;\n        _this.isMoving = false;\n        _this.isMaximizable = false;\n        _this.isMaximized = false;\n        _this.maximizeListeners = [];\n        _this.resizeListenerDestroy = null;\n        _this.isResizing = false;\n        _this.lastPosition = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n        };\n        return _this;\n    }\n    AgDialog.prototype.postConstruct = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        var _a = this.config, movable = _a.movable, resizable = _a.resizable, maximizable = _a.maximizable;\n        addCssClass(eGui, 'ag-dialog');\n        this.moveElement = this.eTitleBar;\n        _super.prototype.postConstruct.call(this);\n        this.addManagedListener(eGui, 'focusin', function (e) {\n            if (eGui.contains(e.relatedTarget)) {\n                return;\n            }\n            _this.popupService.bringPopupToFront(eGui);\n        });\n        if (movable) {\n            this.setMovable(movable);\n        }\n        if (maximizable) {\n            this.setMaximizable(maximizable);\n        }\n        this.addResizers();\n        if (resizable) {\n            this.setResizable(resizable);\n        }\n    };\n    AgDialog.prototype.renderComponent = function () {\n        var eGui = this.getGui();\n        var _a = this.config, alwaysOnTop = _a.alwaysOnTop, modal = _a.modal;\n        this.close = this.popupService.addPopup({\n            modal: modal,\n            eChild: eGui,\n            closeOnEsc: true,\n            closedCallback: this.destroy.bind(this),\n            alwaysOnTop: alwaysOnTop\n        });\n    };\n    AgDialog.prototype.addResizers = function () {\n        var eGui = this.getGui();\n        if (!eGui) {\n            return;\n        }\n        var parser = new DOMParser();\n        var resizers = parser.parseFromString(this.RESIZE_TEMPLATE, 'text/html').body;\n        eGui.appendChild(resizers.firstChild);\n        this.createMap();\n    };\n    AgDialog.prototype.createMap = function () {\n        var eGui = this.getGui();\n        this.resizerMap = {\n            topLeft: { element: eGui.querySelector('[ref=eTopLeftResizer]') },\n            top: { element: eGui.querySelector('[ref=eTopResizer]') },\n            topRight: { element: eGui.querySelector('[ref=eTopRightResizer]') },\n            right: { element: eGui.querySelector('[ref=eRightResizer]') },\n            bottomRight: { element: eGui.querySelector('[ref=eBottomRightResizer]') },\n            bottom: { element: eGui.querySelector('[ref=eBottomResizer]') },\n            bottomLeft: { element: eGui.querySelector('[ref=eBottomLeftResizer]') },\n            left: { element: eGui.querySelector('[ref=eLeftResizer]') }\n        };\n    };\n    AgDialog.prototype.getResizerElement = function (side) {\n        return this.resizerMap[side].element;\n    };\n    AgDialog.prototype.onResizeStart = function (e) {\n        this.isResizing = true;\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onResize = function (e, side) {\n        if (!this.isResizing) {\n            return;\n        }\n        var isLeft = !!side.match(/left/i);\n        var isRight = !!side.match(/right/i);\n        var isTop = !!side.match(/top/i);\n        var isBottom = !!side.match(/bottom/i);\n        var isHorizontal = isLeft || isRight;\n        var isVertical = isTop || isBottom;\n        var _a = this.calculateMouseMovement({ e: e, isLeft: isLeft, isTop: isTop }), movementX = _a.movementX, movementY = _a.movementY;\n        var offsetLeft = 0;\n        var offsetTop = 0;\n        if (isHorizontal && movementX) {\n            var direction = isLeft ? -1 : 1;\n            var oldWidth = this.getWidth();\n            var newWidth = oldWidth + (movementX * direction);\n            var skipWidth = false;\n            if (isLeft) {\n                offsetLeft = oldWidth - newWidth;\n                if (this.position.x + offsetLeft <= 0 || newWidth <= this.minWidth) {\n                    skipWidth = true;\n                    offsetLeft = 0;\n                }\n            }\n            if (!skipWidth) {\n                this.setWidth(newWidth);\n            }\n        }\n        if (isVertical && movementY) {\n            var direction = isTop ? -1 : 1;\n            var oldHeight = this.getHeight();\n            var newHeight = oldHeight + (movementY * direction);\n            var skipHeight = false;\n            if (isTop) {\n                offsetTop = oldHeight - newHeight;\n                if (this.position.y + offsetTop <= 0 || newHeight <= this.minHeight) {\n                    skipHeight = true;\n                    offsetTop = 0;\n                }\n            }\n            if (!skipHeight) {\n                this.setHeight(newHeight);\n            }\n        }\n        this.updateDragStartPosition(e.clientX, e.clientY);\n        if (offsetLeft || offsetTop) {\n            this.offsetElement(this.position.x + offsetLeft, this.position.y + offsetTop);\n        }\n    };\n    AgDialog.prototype.onResizeEnd = function () {\n        this.isResizing = false;\n        var params = {\n            type: 'resize',\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n        this.dispatchEvent(params);\n    };\n    AgDialog.prototype.onMoveStart = function (e) {\n        this.isMoving = true;\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onMove = function (e) {\n        if (!this.isMoving) {\n            return;\n        }\n        var _a = this.position, x = _a.x, y = _a.y;\n        var _b = this.calculateMouseMovement({\n            e: e,\n            isTop: true,\n            anywhereWithin: true,\n            topBuffer: this.getHeight() - this.getBodyHeight()\n        }), movementX = _b.movementX, movementY = _b.movementY;\n        this.offsetElement(x + movementX, y + movementY);\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onMoveEnd = function () {\n        this.isMoving = false;\n    };\n    AgDialog.prototype.toggleMaximize = function () {\n        if (this.isMaximized) {\n            var _a = this.lastPosition, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n            this.setWidth(width);\n            this.setHeight(height);\n            this.offsetElement(x, y);\n        }\n        else {\n            this.lastPosition.width = this.getWidth();\n            this.lastPosition.height = this.getHeight();\n            this.lastPosition.x = this.position.x;\n            this.lastPosition.y = this.position.y;\n            this.offsetElement(0, 0);\n            this.setHeight('100%');\n            this.setWidth('100%');\n        }\n        this.isMaximized = !this.isMaximized;\n        this.refreshMaximizeIcon();\n    };\n    AgDialog.prototype.refreshMaximizeIcon = function () {\n        setDisplayed(this.maximizeIcon, !this.isMaximized);\n        setDisplayed(this.minimizeIcon, this.isMaximized);\n    };\n    AgDialog.prototype.clearMaximizebleListeners = function () {\n        if (this.maximizeListeners.length) {\n            this.maximizeListeners.forEach(function (destroyListener) { return destroyListener(); });\n            this.maximizeListeners.length = 0;\n        }\n        if (this.resizeListenerDestroy) {\n            this.resizeListenerDestroy();\n            this.resizeListenerDestroy = null;\n        }\n    };\n    AgDialog.prototype.destroy = function () {\n        this.setResizable(false);\n        this.setMovable(false);\n        this.maximizeButtonComp = this.destroyBean(this.maximizeButtonComp);\n        this.clearMaximizebleListeners();\n        _super.prototype.destroy.call(this);\n    };\n    AgDialog.prototype.setResizable = function (resizable) {\n        var _this = this;\n        if (typeof resizable === 'boolean') {\n            resizable = {\n                topLeft: resizable,\n                top: resizable,\n                topRight: resizable,\n                right: resizable,\n                bottomRight: resizable,\n                bottom: resizable,\n                bottomLeft: resizable,\n                left: resizable\n            };\n        }\n        Object.keys(resizable).forEach(function (side) {\n            var r = resizable;\n            var s = side;\n            var val = !!r[s];\n            var el = _this.getResizerElement(s);\n            var params = _this.resizerMap[s].dragSource || {\n                eElement: el,\n                onDragStart: _this.onResizeStart.bind(_this),\n                onDragging: function (e) { return _this.onResize(e, s); },\n                onDragStop: _this.onResizeEnd.bind(_this),\n            };\n            if (!!_this.resizable[s] !== val || (!_this.isAlive() && !val)) {\n                if (val) {\n                    _this.dragService.addDragSource(params);\n                    el.style.pointerEvents = 'all';\n                }\n                else {\n                    _this.dragService.removeDragSource(params);\n                    el.style.pointerEvents = 'none';\n                }\n                _this.resizerMap[s].dragSource = val ? params : undefined;\n            }\n        });\n    };\n    AgDialog.prototype.setMovable = function (movable) {\n        if (movable === this.movable) {\n            return;\n        }\n        this.movable = movable;\n        var params = this.moveElementDragListener || {\n            eElement: this.moveElement,\n            onDragStart: this.onMoveStart.bind(this),\n            onDragging: this.onMove.bind(this),\n            onDragStop: this.onMoveEnd.bind(this)\n        };\n        if (movable) {\n            this.dragService.addDragSource(params);\n            this.moveElementDragListener = params;\n        }\n        else {\n            this.dragService.removeDragSource(params);\n            this.moveElementDragListener = undefined;\n        }\n    };\n    AgDialog.prototype.setMaximizable = function (maximizable) {\n        var _this = this;\n        if (!maximizable) {\n            this.clearMaximizebleListeners();\n            if (this.maximizeButtonComp) {\n                this.destroyBean(this.maximizeButtonComp);\n                this.maximizeButtonComp = this.maximizeIcon = this.minimizeIcon = undefined;\n            }\n            return;\n        }\n        var eTitleBar = this.eTitleBar;\n        if (!eTitleBar || maximizable === this.isMaximizable) {\n            return;\n        }\n        var maximizeButtonComp = this.maximizeButtonComp =\n            this.createBean(new Component(/* html */ \"<div class=\\\"ag-dialog-button\\\"></span>\"));\n        var eGui = maximizeButtonComp.getGui();\n        eGui.appendChild(this.maximizeIcon = createIconNoSpan('maximize', this.gridOptionsWrapper));\n        addCssClass(this.maximizeIcon, 'ag-panel-title-bar-button-icon');\n        eGui.appendChild(this.minimizeIcon = createIconNoSpan('minimize', this.gridOptionsWrapper));\n        addCssClass(this.minimizeIcon, 'ag-panel-title-bar-button-icon');\n        addCssClass(this.minimizeIcon, 'ag-hidden');\n        maximizeButtonComp.addManagedListener(eGui, 'click', this.toggleMaximize.bind(this));\n        this.addTitleBarButton(maximizeButtonComp, 0);\n        this.maximizeListeners.push(this.addManagedListener(eTitleBar, 'dblclick', this.toggleMaximize.bind(this)));\n        this.resizeListenerDestroy = this.addManagedListener(this, 'resize', function () {\n            _this.isMaximized = false;\n            _this.refreshMaximizeIcon();\n        });\n    };\n    __decorate([\n        Autowired('dragService')\n    ], AgDialog.prototype, \"dragService\", void 0);\n    return AgDialog;\n}(AgPanel));\nexport { AgDialog };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * Gets called by: a) ClientSideNodeManager and b) GroupStage to do sorting.\n * when in ClientSideNodeManager we always have indexes (as this sorts the items the\n * user provided) but when in GroupStage, the nodes can contain filler nodes that\n * don't have order id's\n * @param {RowNode[]} rowNodes\n * @param {Object} rowNodeOrder\n */\nexport function sortRowNodesByOrder(rowNodes, rowNodeOrder) {\n    if (!rowNodes) {\n        return;\n    }\n    var comparator = function (nodeA, nodeB) {\n        var positionA = rowNodeOrder[nodeA.id];\n        var positionB = rowNodeOrder[nodeB.id];\n        var aHasIndex = positionA !== undefined;\n        var bHasIndex = positionB !== undefined;\n        var bothNodesAreUserNodes = aHasIndex && bHasIndex;\n        var bothNodesAreFillerNodes = !aHasIndex && !bHasIndex;\n        if (bothNodesAreUserNodes) {\n            // when comparing two nodes the user has provided, they always\n            // have indexes\n            return positionA - positionB;\n        }\n        if (bothNodesAreFillerNodes) {\n            // when comparing two filler nodes, we have no index to compare them\n            // against, however we want this sorting to be deterministic, so that\n            // the rows don't jump around as the user does delta updates. so we\n            // want the same sort result. so we use the __objectId - which doesn't make sense\n            // from a sorting point of view, but does give consistent behaviour between\n            // calls. otherwise groups jump around as delta updates are done.\n            // note: previously here we used nodeId, however this gave a strange order\n            // as string ordering of numbers is wrong, so using id based on creation order\n            // as least gives better looking order.\n            return nodeA.__objectId - nodeB.__objectId;\n        }\n        if (aHasIndex) {\n            return 1;\n        }\n        return -1;\n    };\n    // check if the list first needs sorting\n    var rowNodeA;\n    var rowNodeB;\n    var atLeastOneOutOfOrder = false;\n    for (var i = 0; i < rowNodes.length - 1; i++) {\n        rowNodeA = rowNodes[i];\n        rowNodeB = rowNodes[i + 1];\n        if (comparator(rowNodeA, rowNodeB) > 0) {\n            atLeastOneOutOfOrder = true;\n            break;\n        }\n    }\n    if (atLeastOneOutOfOrder) {\n        rowNodes.sort(comparator);\n    }\n}\nexport function traverseNodesWithKey(nodes, callback) {\n    var keyParts = [];\n    recursiveSearchNodes(nodes);\n    function recursiveSearchNodes(currentNodes) {\n        currentNodes.forEach(function (node) {\n            // also checking for children for tree data\n            if (node.group || node.hasChildren()) {\n                keyParts.push(node.key);\n                var key = keyParts.join('|');\n                callback(node, key);\n                recursiveSearchNodes(node.childrenAfterGroup);\n                keyParts.pop();\n            }\n        });\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport function keys(map) {\n    var keys = [];\n    map.forEach(function (_, key) { return keys.push(key); });\n    return keys;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"../widgets/component\";\nimport { PostConstruct } from \"../context/context\";\nimport { createIconNoSpan } from \"../utils/icon\";\nimport { isBrowserIE } from \"../utils/browser\";\nvar DndSourceComp = /** @class */ (function (_super) {\n    __extends(DndSourceComp, _super);\n    function DndSourceComp(rowNode, column, cellValue, beans, eCell) {\n        var _this = _super.call(this, \"<div class=\\\"ag-drag-handle ag-row-drag\\\" draggable=\\\"true\\\"></div>\") || this;\n        _this.rowNode = rowNode;\n        _this.column = column;\n        _this.cellValue = cellValue;\n        _this.beans = beans;\n        _this.eCell = eCell;\n        return _this;\n    }\n    DndSourceComp.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        eGui.appendChild(createIconNoSpan('rowDrag', this.beans.gridOptionsWrapper, null));\n        this.addDragSource();\n        this.checkVisibility();\n    };\n    DndSourceComp.prototype.addDragSource = function () {\n        this.addGuiEventListener('dragstart', this.onDragStart.bind(this));\n    };\n    DndSourceComp.prototype.onDragStart = function (dragEvent) {\n        var _this = this;\n        var providedOnRowDrag = this.column.getColDef().dndSourceOnRowDrag;\n        var isIE = isBrowserIE();\n        if (!isIE) {\n            dragEvent.dataTransfer.setDragImage(this.eCell, 0, 0);\n        }\n        // default behaviour is to convert data to json and set into drag component\n        var defaultOnRowDrag = function () {\n            try {\n                var jsonData = JSON.stringify(_this.rowNode.data);\n                if (isIE) {\n                    dragEvent.dataTransfer.setData('text', jsonData);\n                }\n                else {\n                    dragEvent.dataTransfer.setData('application/json', jsonData);\n                    dragEvent.dataTransfer.setData('text/plain', jsonData);\n                }\n            }\n            catch (e) {\n                // if we cannot convert the data to json, then we do not set the type\n            }\n        };\n        if (providedOnRowDrag) {\n            providedOnRowDrag({ rowNode: this.rowNode, dragEvent: dragEvent });\n        }\n        else {\n            defaultOnRowDrag();\n        }\n    };\n    DndSourceComp.prototype.checkVisibility = function () {\n        var visible = this.column.isDndSource(this.rowNode);\n        this.setDisplayed(visible);\n    };\n    __decorate([\n        PostConstruct\n    ], DndSourceComp.prototype, \"postConstruct\", null);\n    return DndSourceComp;\n}(Component));\nexport { DndSourceComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/** Provides sync access to async component. Date component can be lazy created - this class encapsulates\n * this by keeping value locally until DateComp has loaded, then passing DateComp the value. */\nvar DateCompWrapper = /** @class */ (function () {\n    function DateCompWrapper(context, userComponentFactory, dateComponentParams, eParent) {\n        var _this = this;\n        this.alive = true;\n        this.context = context;\n        userComponentFactory.newDateComponent(dateComponentParams).then(function (dateComp) {\n            // because async, check the filter still exists after component comes back\n            if (!_this.alive) {\n                context.destroyBean(dateComp);\n                return;\n            }\n            _this.dateComp = dateComp;\n            eParent.appendChild(dateComp.getGui());\n            if (dateComp.afterGuiAttached) {\n                dateComp.afterGuiAttached();\n            }\n            if (_this.tempValue) {\n                dateComp.setDate(_this.tempValue);\n            }\n        });\n    }\n    DateCompWrapper.prototype.destroy = function () {\n        this.alive = false;\n        this.dateComp = this.context.destroyBean(this.dateComp);\n    };\n    DateCompWrapper.prototype.getDate = function () {\n        return this.dateComp ? this.dateComp.getDate() : this.tempValue;\n    };\n    DateCompWrapper.prototype.setDate = function (value) {\n        if (this.dateComp) {\n            this.dateComp.setDate(value);\n        }\n        else {\n            this.tempValue = value;\n        }\n    };\n    DateCompWrapper.prototype.setInputPlaceholder = function (placeholder) {\n        if (this.dateComp && this.dateComp.setInputPlaceholder) {\n            this.dateComp.setInputPlaceholder(placeholder);\n        }\n    };\n    DateCompWrapper.prototype.setInputAriaLabel = function (label) {\n        if (this.dateComp && this.dateComp.setInputAriaLabel) {\n            this.dateComp.setInputAriaLabel(label);\n        }\n    };\n    return DateCompWrapper;\n}());\nexport { DateCompWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { AgPickerField } from \"./agPickerField\";\nimport { AgList } from \"./agList\";\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { setElementWidth, getAbsoluteWidth, getInnerHeight } from \"../utils/dom\";\nvar AgSelect = /** @class */ (function (_super) {\n    __extends(AgSelect, _super);\n    function AgSelect(config) {\n        return _super.call(this, config, 'ag-select', 'smallDown', 'listbox') || this;\n    }\n    AgSelect.prototype.init = function () {\n        var _this = this;\n        this.listComponent = this.createBean(new AgList('select'));\n        this.listComponent.setParentComponent(this);\n        this.eWrapper.tabIndex = 0;\n        this.listComponent.addManagedListener(this.listComponent, AgList.EVENT_ITEM_SELECTED, function () { if (_this.hideList) {\n            _this.hideList();\n        } });\n        this.listComponent.addManagedListener(this.listComponent, AgAbstractField.EVENT_CHANGED, function () {\n            _this.setValue(_this.listComponent.getValue(), false, true);\n            if (_this.hideList) {\n                _this.hideList();\n            }\n        });\n    };\n    AgSelect.prototype.showPicker = function () {\n        var _this = this;\n        var listGui = this.listComponent.getGui();\n        var destroyMouseWheelFunc = this.addManagedListener(document.body, 'wheel', function (e) {\n            if (!listGui.contains(e.target) && _this.hideList) {\n                _this.hideList();\n            }\n        });\n        var destroyFocusOutFunc = this.addManagedListener(listGui, 'focusout', function (e) {\n            if (!listGui.contains(e.relatedTarget) && _this.hideList) {\n                _this.hideList();\n            }\n        });\n        this.hideList = this.popupService.addPopup({\n            modal: true,\n            eChild: listGui,\n            closeOnEsc: true,\n            closedCallback: function () {\n                _this.hideList = null;\n                _this.isPickerDisplayed = false;\n                destroyFocusOutFunc();\n                destroyMouseWheelFunc();\n                if (_this.isAlive()) {\n                    _this.getFocusableElement().focus();\n                }\n            }\n        });\n        this.isPickerDisplayed = true;\n        setElementWidth(listGui, getAbsoluteWidth(this.eWrapper));\n        listGui.style.maxHeight = getInnerHeight(this.popupService.getPopupParent()) + 'px';\n        listGui.style.position = 'absolute';\n        this.popupService.positionPopupUnderComponent({\n            type: 'ag-list',\n            eventSource: this.eWrapper,\n            ePopup: listGui,\n            keepWithinBounds: true\n        });\n        this.listComponent.refreshHighlighted();\n        return this.listComponent;\n    };\n    AgSelect.prototype.addOptions = function (options) {\n        var _this = this;\n        options.forEach(function (option) { return _this.addOption(option); });\n        return this;\n    };\n    AgSelect.prototype.addOption = function (option) {\n        this.listComponent.addOption(option);\n        return this;\n    };\n    AgSelect.prototype.setValue = function (value, silent, fromPicker) {\n        if (this.value === value) {\n            return this;\n        }\n        if (!fromPicker) {\n            this.listComponent.setValue(value, true);\n        }\n        var newValue = this.listComponent.getValue();\n        if (newValue === this.getValue()) {\n            return this;\n        }\n        this.eDisplayField.innerHTML = this.listComponent.getDisplayValue();\n        return _super.prototype.setValue.call(this, value, silent);\n    };\n    AgSelect.prototype.destroy = function () {\n        if (this.hideList) {\n            this.hideList();\n        }\n        this.destroyBean(this.listComponent);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Autowired('popupService')\n    ], AgSelect.prototype, \"popupService\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgSelect.prototype, \"init\", null);\n    return AgSelect;\n}(AgPickerField));\nexport { AgSelect };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Bean } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nimport { Qualifier } from \"./context/context\";\nimport { Events } from \"./events\";\nimport { Autowired } from \"./context/context\";\nimport { PostConstruct } from \"./context/context\";\nimport { Constants } from \"./constants/constants\";\nimport { ChangedPath } from \"./utils/changedPath\";\nimport { iterateObject } from \"./utils/object\";\nimport { exists } from \"./utils/generic\";\nvar SelectionController = /** @class */ (function (_super) {\n    __extends(SelectionController, _super);\n    function SelectionController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectionController.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('SelectionController');\n        this.reset();\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            this.addManagedListener(this.eventService, Events.EVENT_ROW_DATA_CHANGED, this.reset.bind(this));\n        }\n    };\n    SelectionController.prototype.init = function () {\n        this.groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_SELECTED, this.onRowSelected.bind(this));\n    };\n    SelectionController.prototype.setLastSelectedNode = function (rowNode) {\n        this.lastSelectedNode = rowNode;\n    };\n    SelectionController.prototype.getLastSelectedNode = function () {\n        return this.lastSelectedNode;\n    };\n    SelectionController.prototype.getSelectedNodes = function () {\n        var selectedNodes = [];\n        iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode) {\n                selectedNodes.push(rowNode);\n            }\n        });\n        return selectedNodes;\n    };\n    SelectionController.prototype.getSelectedRows = function () {\n        var selectedRows = [];\n        iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode && rowNode.data) {\n                selectedRows.push(rowNode.data);\n            }\n        });\n        return selectedRows;\n    };\n    SelectionController.prototype.removeGroupsFromSelection = function () {\n        var _this = this;\n        iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode && rowNode.group) {\n                _this.selectedNodes[rowNode.id] = undefined;\n            }\n        });\n    };\n    // should only be called if groupSelectsChildren=true\n    SelectionController.prototype.updateGroupsFromChildrenSelections = function (changedPath) {\n        // we only do this when group selection state depends on selected children\n        if (!this.gridOptionsWrapper.isGroupSelectsChildren()) {\n            return;\n        }\n        // also only do it if CSRM (code should never allow this anyway)\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            return;\n        }\n        var clientSideRowModel = this.rowModel;\n        var rootNode = clientSideRowModel.getRootNode();\n        if (!changedPath) {\n            changedPath = new ChangedPath(true, rootNode);\n            changedPath.setInactive();\n        }\n        changedPath.forEachChangedNodeDepthFirst(function (rowNode) {\n            if (rowNode !== rootNode) {\n                rowNode.calculateSelectedFromChildren();\n            }\n        });\n        // clientSideRowModel.getTopLevelNodes()!.forEach((rowNode: RowNode) => {\n        //     rowNode.depthFirstSearch((node) => {\n        //         if (node.group) {\n        //         }\n        //     });\n        // });\n    };\n    SelectionController.prototype.getNodeForIdIfSelected = function (id) {\n        return this.selectedNodes[id];\n    };\n    SelectionController.prototype.clearOtherNodes = function (rowNodeToKeepSelected) {\n        var _this = this;\n        var groupsToRefresh = {};\n        var updatedCount = 0;\n        iterateObject(this.selectedNodes, function (key, otherRowNode) {\n            if (otherRowNode && otherRowNode.id !== rowNodeToKeepSelected.id) {\n                var rowNode = _this.selectedNodes[otherRowNode.id];\n                updatedCount += rowNode.setSelectedParams({\n                    newValue: false,\n                    clearSelection: false,\n                    suppressFinishActions: true\n                });\n                if (_this.groupSelectsChildren && otherRowNode.parent) {\n                    groupsToRefresh[otherRowNode.parent.id] = otherRowNode.parent;\n                }\n            }\n        });\n        iterateObject(groupsToRefresh, function (key, group) {\n            group.calculateSelectedFromChildren();\n        });\n        return updatedCount;\n    };\n    SelectionController.prototype.onRowSelected = function (event) {\n        var rowNode = event.node;\n        // we do not store the group rows when the groups select children\n        if (this.groupSelectsChildren && rowNode.group) {\n            return;\n        }\n        if (rowNode.isSelected()) {\n            this.selectedNodes[rowNode.id] = rowNode;\n        }\n        else {\n            this.selectedNodes[rowNode.id] = undefined;\n        }\n    };\n    SelectionController.prototype.syncInRowNode = function (rowNode, oldNode) {\n        this.syncInOldRowNode(rowNode, oldNode);\n        this.syncInNewRowNode(rowNode);\n    };\n    // if the id has changed for the node, then this means the rowNode\n    // is getting used for a different data item, which breaks\n    // our selectedNodes, as the node now is mapped by the old id\n    // which is inconsistent. so to keep the old node as selected,\n    // we swap in the clone (with the old id and old data). this means\n    // the oldNode is effectively a daemon we keep a reference to,\n    // so if client calls api.getSelectedNodes(), it gets the daemon\n    // in the result. when the client un-selects, the reference to the\n    // daemon is removed. the daemon, because it's an oldNode, is not\n    // used by the grid for rendering, it's a copy of what the node used\n    // to be like before the id was changed.\n    SelectionController.prototype.syncInOldRowNode = function (rowNode, oldNode) {\n        var oldNodeHasDifferentId = exists(oldNode) && (rowNode.id !== oldNode.id);\n        if (oldNodeHasDifferentId) {\n            var oldNodeSelected = exists(this.selectedNodes[oldNode.id]);\n            if (oldNodeSelected) {\n                this.selectedNodes[oldNode.id] = oldNode;\n            }\n        }\n    };\n    SelectionController.prototype.syncInNewRowNode = function (rowNode) {\n        if (exists(this.selectedNodes[rowNode.id])) {\n            rowNode.setSelectedInitialValue(true);\n            this.selectedNodes[rowNode.id] = rowNode;\n        }\n        else {\n            rowNode.setSelectedInitialValue(false);\n        }\n    };\n    SelectionController.prototype.reset = function () {\n        this.logger.log('reset');\n        this.selectedNodes = {};\n        this.lastSelectedNode = null;\n    };\n    // returns a list of all nodes at 'best cost' - a feature to be used\n    // with groups / trees. if a group has all it's children selected,\n    // then the group appears in the result, but not the children.\n    // Designed for use with 'children' as the group selection type,\n    // where groups don't actually appear in the selection normally.\n    SelectionController.prototype.getBestCostNodeSelection = function () {\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            console.warn('getBestCostNodeSelection is only available when using normal row model');\n            return;\n        }\n        var clientSideRowModel = this.rowModel;\n        var topLevelNodes = clientSideRowModel.getTopLevelNodes();\n        if (topLevelNodes === null) {\n            console.warn('selectAll not available doing rowModel=virtual');\n            return;\n        }\n        var result = [];\n        // recursive function, to find the selected nodes\n        function traverse(nodes) {\n            for (var i = 0, l = nodes.length; i < l; i++) {\n                var node = nodes[i];\n                if (node.isSelected()) {\n                    result.push(node);\n                }\n                else {\n                    // if not selected, then if it's a group, and the group\n                    // has children, continue to search for selections\n                    if (node.group && node.children) {\n                        traverse(node.children);\n                    }\n                }\n            }\n        }\n        traverse(topLevelNodes);\n        return result;\n    };\n    SelectionController.prototype.setRowModel = function (rowModel) {\n        this.rowModel = rowModel;\n    };\n    SelectionController.prototype.isEmpty = function () {\n        var count = 0;\n        iterateObject(this.selectedNodes, function (nodeId, rowNode) {\n            if (rowNode) {\n                count++;\n            }\n        });\n        return count === 0;\n    };\n    SelectionController.prototype.deselectAllRowNodes = function (justFiltered) {\n        if (justFiltered === void 0) { justFiltered = false; }\n        var callback = function (rowNode) { return rowNode.selectThisNode(false); };\n        var rowModelClientSide = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        if (justFiltered) {\n            if (!rowModelClientSide) {\n                console.error('ag-Grid: selecting just filtered only works with In Memory Row Model');\n                return;\n            }\n            var clientSideRowModel = this.rowModel;\n            clientSideRowModel.forEachNodeAfterFilter(callback);\n        }\n        else {\n            iterateObject(this.selectedNodes, function (id, rowNode) {\n                // remember the reference can be to null, as we never 'delete' from the map\n                if (rowNode) {\n                    callback(rowNode);\n                }\n            });\n            // this clears down the map (whereas above only sets the items in map to 'undefined')\n            this.reset();\n        }\n        // the above does not clean up the parent rows if they are selected\n        if (rowModelClientSide && this.groupSelectsChildren) {\n            this.updateGroupsFromChildrenSelections();\n        }\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    SelectionController.prototype.selectAllRowNodes = function (justFiltered) {\n        if (justFiltered === void 0) { justFiltered = false; }\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            throw new Error(\"selectAll only available with normal row model, ie not \" + this.rowModel.getType());\n        }\n        var clientSideRowModel = this.rowModel;\n        var callback = function (rowNode) { return rowNode.selectThisNode(true); };\n        if (justFiltered) {\n            clientSideRowModel.forEachNodeAfterFilter(callback);\n        }\n        else {\n            clientSideRowModel.forEachNode(callback);\n        }\n        // the above does not clean up the parent rows if they are selected\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE && this.groupSelectsChildren) {\n            this.updateGroupsFromChildrenSelections();\n        }\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.selectNode = function (rowNode, tryMulti) {\n        if (rowNode) {\n            rowNode.setSelectedParams({ newValue: true, clearSelection: !tryMulti });\n        }\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.deselectIndex = function (rowIndex) {\n        var node = this.rowModel.getRow(rowIndex);\n        this.deselectNode(node);\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.deselectNode = function (rowNode) {\n        if (rowNode) {\n            rowNode.setSelectedParams({ newValue: false, clearSelection: false });\n        }\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.selectIndex = function (index, tryMulti) {\n        var node = this.rowModel.getRow(index);\n        this.selectNode(node, tryMulti);\n    };\n    __decorate([\n        Autowired('rowModel')\n    ], SelectionController.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SelectionController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], SelectionController.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], SelectionController.prototype, \"gridApi\", void 0);\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], SelectionController.prototype, \"setBeans\", null);\n    __decorate([\n        PostConstruct\n    ], SelectionController.prototype, \"init\", null);\n    SelectionController = __decorate([\n        Bean('selectionController')\n    ], SelectionController);\n    return SelectionController;\n}(BeanStub));\nexport { SelectionController };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { forEach } from './array';\nexport var PromiseStatus;\n(function (PromiseStatus) {\n    PromiseStatus[PromiseStatus[\"IN_PROGRESS\"] = 0] = \"IN_PROGRESS\";\n    PromiseStatus[PromiseStatus[\"RESOLVED\"] = 1] = \"RESOLVED\";\n})(PromiseStatus || (PromiseStatus = {}));\nvar Promise = /** @class */ (function () {\n    function Promise(callback) {\n        var _this = this;\n        this.status = PromiseStatus.IN_PROGRESS;\n        this.resolution = null;\n        this.waiters = [];\n        callback(function (value) { return _this.onDone(value); }, function (params) { return _this.onReject(params); });\n    }\n    Promise.all = function (promises) {\n        return new Promise(function (resolve) {\n            var remainingToResolve = promises.length;\n            var combinedValues = new Array(remainingToResolve);\n            forEach(promises, function (promise, index) {\n                promise.then(function (value) {\n                    combinedValues[index] = value;\n                    remainingToResolve--;\n                    if (remainingToResolve === 0) {\n                        resolve(combinedValues);\n                    }\n                });\n            });\n        });\n    };\n    Promise.resolve = function (value) {\n        if (value === void 0) { value = null; }\n        return new Promise(function (resolve) { return resolve(value); });\n    };\n    Promise.prototype.then = function (func) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            if (_this.status === PromiseStatus.RESOLVED) {\n                resolve(func(_this.resolution));\n            }\n            else {\n                _this.waiters.push(function (value) { return resolve(func(value)); });\n            }\n        });\n    };\n    Promise.prototype.resolveNow = function (ifNotResolvedValue, ifResolved) {\n        return this.status === PromiseStatus.RESOLVED ? ifResolved(this.resolution) : ifNotResolvedValue;\n    };\n    Promise.prototype.onDone = function (value) {\n        this.status = PromiseStatus.RESOLVED;\n        this.resolution = value;\n        forEach(this.waiters, function (waiter) { return waiter(value); });\n    };\n    Promise.prototype.onReject = function (params) {\n        console.warn('TBI');\n    };\n    return Promise;\n}());\nexport { Promise };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { NumberFilter } from './numberFilter';\nimport { SimpleFilter } from '../simpleFilter';\nimport { TextInputFloatingFilter } from '../../floating/provided/textInputFloatingFilter';\nvar NumberFloatingFilter = /** @class */ (function (_super) {\n    __extends(NumberFloatingFilter, _super);\n    function NumberFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return NumberFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    NumberFloatingFilter.prototype.conditionToString = function (condition) {\n        var isRange = condition.type == SimpleFilter.IN_RANGE;\n        if (isRange) {\n            return condition.filter + \"-\" + condition.filterTo;\n        }\n        // cater for when the type doesn't need a value\n        if (condition.filter != null) {\n            return \"\" + condition.filter;\n        }\n        return \"\" + condition.type;\n    };\n    return NumberFloatingFilter;\n}(TextInputFloatingFilter));\nexport { NumberFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct, PreConstruct } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { NumberSequence } from \"../utils\";\nimport { isNodeOrElement, copyNodeList, iterateNamedNodeMap, loadTemplate, setVisible, setDisplayed, addCssClass, removeCssClass, addOrRemoveCssClass } from '../utils/dom';\nimport { forEach } from '../utils/array';\nimport { getFunctionName } from '../utils/function';\nvar compIdSequence = new NumberSequence();\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    function Component(template) {\n        var _this = _super.call(this) || this;\n        _this.annotatedGuiListeners = [];\n        // if false, then CSS class \"ag-hidden\" is applied, which sets \"display: none\"\n        _this.displayed = true;\n        // if false, then CSS class \"ag-invisible\" is applied, which sets \"visibility: hidden\"\n        _this.visible = true;\n        // unique id for this row component. this is used for getting a reference to the HTML dom.\n        // we cannot use the RowNode id as this is not unique (due to animation, old rows can be lying\n        // around as we create a new rowComp instance for the same row node).\n        _this.compId = compIdSequence.next();\n        // to minimise DOM hits, we only apply CSS classes if they have changed. as addding a CSS class that is already\n        // there, or removing one that wasn't present, all takes CPU.\n        _this.cssClassStates = {};\n        if (template) {\n            _this.setTemplate(template);\n        }\n        return _this;\n    }\n    Component.prototype.getCompId = function () {\n        return this.compId;\n    };\n    // for registered components only, eg creates AgCheckbox instance from ag-checkbox HTML tag\n    Component.prototype.createChildComponentsFromTags = function (parentNode, paramsMap) {\n        var _this = this;\n        // we MUST take a copy of the list first, as the 'swapComponentForNode' adds comments into the DOM\n        // which messes up the traversal order of the children.\n        var childNodeList = copyNodeList(parentNode.childNodes);\n        forEach(childNodeList, function (childNode) {\n            if (!(childNode instanceof HTMLElement)) {\n                return;\n            }\n            var childComp = _this.createComponentFromElement(childNode, function (childComp) {\n                // copy over all attributes, including css classes, so any attributes user put on the tag\n                // wll be carried across\n                _this.copyAttributesFromNode(childNode, childComp.getGui());\n            }, paramsMap);\n            if (childComp) {\n                if (childComp.addItems && childNode.children.length) {\n                    _this.createChildComponentsFromTags(childNode, paramsMap);\n                    // converting from HTMLCollection to Array\n                    var items = Array.prototype.slice.call(childNode.children);\n                    childComp.addItems(items);\n                }\n                // replace the tag (eg ag-checkbox) with the proper HTMLElement (eg 'div') in the dom\n                _this.swapComponentForNode(childComp, parentNode, childNode);\n            }\n            else if (childNode.childNodes) {\n                _this.createChildComponentsFromTags(childNode, paramsMap);\n            }\n        });\n    };\n    Component.prototype.createComponentFromElement = function (element, afterPreCreateCallback, paramsMap) {\n        var key = element.nodeName;\n        var componentParams = paramsMap ? paramsMap[element.getAttribute('ref')] : undefined;\n        var ComponentClass = this.agStackComponentsRegistry.getComponentClass(key);\n        if (ComponentClass) {\n            var newComponent = new ComponentClass(componentParams);\n            this.createBean(newComponent, null, afterPreCreateCallback);\n            return newComponent;\n        }\n        return null;\n    };\n    Component.prototype.copyAttributesFromNode = function (source, dest) {\n        iterateNamedNodeMap(source.attributes, function (name, value) { return dest.setAttribute(name, value); });\n    };\n    Component.prototype.swapComponentForNode = function (newComponent, parentNode, childNode) {\n        var eComponent = newComponent.getGui();\n        parentNode.replaceChild(eComponent, childNode);\n        parentNode.insertBefore(document.createComment(childNode.nodeName), eComponent);\n        this.addDestroyFunc(this.destroyBean.bind(this, newComponent));\n        this.swapInComponentForQuerySelectors(newComponent, childNode);\n    };\n    Component.prototype.swapInComponentForQuerySelectors = function (newComponent, childNode) {\n        var thisNoType = this;\n        this.iterateOverQuerySelectors(function (querySelector) {\n            if (thisNoType[querySelector.attributeName] === childNode) {\n                thisNoType[querySelector.attributeName] = newComponent;\n            }\n        });\n    };\n    Component.prototype.iterateOverQuerySelectors = function (action) {\n        var thisPrototype = Object.getPrototypeOf(this);\n        while (thisPrototype != null) {\n            var metaData = thisPrototype.__agComponentMetaData;\n            var currentProtoName = getFunctionName(thisPrototype.constructor);\n            if (metaData && metaData[currentProtoName] && metaData[currentProtoName].querySelectors) {\n                forEach(metaData[currentProtoName].querySelectors, function (querySelector) { return action(querySelector); });\n            }\n            thisPrototype = Object.getPrototypeOf(thisPrototype);\n        }\n    };\n    Component.prototype.setTemplate = function (template, paramsMap) {\n        var eGui = loadTemplate(template);\n        this.setTemplateFromElement(eGui, paramsMap);\n    };\n    Component.prototype.setTemplateFromElement = function (element, paramsMap) {\n        this.eGui = element;\n        this.eGui.__agComponent = this;\n        this.addAnnotatedGuiEventListeners();\n        this.wireQuerySelectors();\n        // context will not be available when user sets template in constructor\n        if (!!this.getContext()) {\n            this.createChildComponentsFromTags(this.getGui(), paramsMap);\n        }\n    };\n    Component.prototype.createChildComponentsPreConstruct = function () {\n        // ui exists if user sets template in constructor. when this happens, we have to wait for the context\n        // to be autoWired first before we can create child components.\n        if (!!this.getGui()) {\n            this.createChildComponentsFromTags(this.getGui());\n        }\n    };\n    Component.prototype.wireQuerySelectors = function () {\n        var _this = this;\n        if (!this.eGui) {\n            return;\n        }\n        var thisNoType = this;\n        this.iterateOverQuerySelectors(function (querySelector) {\n            var resultOfQuery = _this.eGui.querySelector(querySelector.querySelector);\n            if (resultOfQuery) {\n                thisNoType[querySelector.attributeName] = resultOfQuery.__agComponent || resultOfQuery;\n            }\n            else {\n                // put debug msg in here if query selector fails???\n            }\n        });\n    };\n    Component.prototype.addAnnotatedGuiEventListeners = function () {\n        var _this = this;\n        this.removeAnnotatedGuiEventListeners();\n        if (!this.eGui) {\n            return;\n        }\n        var listenerMethods = this.getAgComponentMetaData('guiListenerMethods');\n        if (!listenerMethods) {\n            return;\n        }\n        if (!this.annotatedGuiListeners) {\n            this.annotatedGuiListeners = [];\n        }\n        listenerMethods.forEach(function (meta) {\n            var element = _this.getRefElement(meta.ref);\n            if (!element) {\n                return;\n            }\n            var listener = _this[meta.methodName].bind(_this);\n            element.addEventListener(meta.eventName, listener);\n            _this.annotatedGuiListeners.push({ eventName: meta.eventName, listener: listener, element: element });\n        });\n    };\n    Component.prototype.addAnnotatedGridEventListeners = function () {\n        var _this = this;\n        var listenerMetas = this.getAgComponentMetaData('gridListenerMethods');\n        if (!listenerMetas) {\n            return;\n        }\n        listenerMetas.forEach(function (meta) {\n            var listener = _this[meta.methodName].bind(_this);\n            _this.addManagedListener(_this.eventService, meta.eventName, listener);\n        });\n    };\n    Component.prototype.getAgComponentMetaData = function (key) {\n        var res = [];\n        var thisProto = Object.getPrototypeOf(this);\n        while (thisProto != null) {\n            var metaData = thisProto.__agComponentMetaData;\n            var currentProtoName = getFunctionName(thisProto.constructor);\n            if (metaData && metaData[currentProtoName] && metaData[currentProtoName][key]) {\n                res = res.concat(metaData[currentProtoName][key]);\n            }\n            thisProto = Object.getPrototypeOf(thisProto);\n        }\n        return res;\n    };\n    Component.prototype.removeAnnotatedGuiEventListeners = function () {\n        if (!this.annotatedGuiListeners) {\n            return;\n        }\n        forEach(this.annotatedGuiListeners, function (e) {\n            e.element.removeEventListener(e.eventName, e.listener);\n        });\n        this.annotatedGuiListeners = [];\n    };\n    Component.prototype.getGui = function () {\n        return this.eGui;\n    };\n    Component.prototype.getFocusableElement = function () {\n        return this.eGui;\n    };\n    Component.prototype.setParentComponent = function (component) {\n        this.parentComponent = component;\n    };\n    Component.prototype.getParentComponent = function () {\n        return this.parentComponent;\n    };\n    // this method is for older code, that wants to provide the gui element,\n    // it is not intended for this to be in ag-Stack\n    Component.prototype.setGui = function (eGui) {\n        this.eGui = eGui;\n    };\n    Component.prototype.queryForHtmlElement = function (cssSelector) {\n        return this.eGui.querySelector(cssSelector);\n    };\n    Component.prototype.queryForHtmlInputElement = function (cssSelector) {\n        return this.eGui.querySelector(cssSelector);\n    };\n    Component.prototype.appendChild = function (newChild, container) {\n        if (!container) {\n            container = this.eGui;\n        }\n        if (newChild == null) {\n            return;\n        }\n        if (isNodeOrElement(newChild)) {\n            container.appendChild(newChild);\n        }\n        else {\n            var childComponent = newChild;\n            container.appendChild(childComponent.getGui());\n            this.addDestroyFunc(this.destroyBean.bind(this, childComponent));\n        }\n    };\n    Component.prototype.isDisplayed = function () {\n        return this.displayed;\n    };\n    Component.prototype.setVisible = function (visible) {\n        if (visible !== this.visible) {\n            this.visible = visible;\n            setVisible(this.eGui, visible);\n        }\n    };\n    Component.prototype.setDisplayed = function (displayed) {\n        if (displayed !== this.displayed) {\n            this.displayed = displayed;\n            setDisplayed(this.eGui, displayed);\n            var event_1 = {\n                type: Component.EVENT_DISPLAYED_CHANGED,\n                visible: this.displayed\n            };\n            this.dispatchEvent(event_1);\n        }\n    };\n    Component.prototype.destroy = function () {\n        this.removeAnnotatedGuiEventListeners();\n        _super.prototype.destroy.call(this);\n    };\n    Component.prototype.addGuiEventListener = function (event, listener) {\n        var _this = this;\n        this.eGui.addEventListener(event, listener);\n        this.addDestroyFunc(function () { return _this.eGui.removeEventListener(event, listener); });\n    };\n    Component.prototype.addCssClass = function (className) {\n        var updateNeeded = this.cssClassStates[className] !== true;\n        if (updateNeeded) {\n            addCssClass(this.eGui, className);\n            this.cssClassStates[className] = true;\n        }\n    };\n    Component.prototype.removeCssClass = function (className) {\n        var updateNeeded = this.cssClassStates[className] !== false;\n        if (updateNeeded) {\n            removeCssClass(this.eGui, className);\n            this.cssClassStates[className] = false;\n        }\n    };\n    Component.prototype.addOrRemoveCssClass = function (className, addOrRemove) {\n        var updateNeeded = this.cssClassStates[className] !== addOrRemove;\n        if (updateNeeded) {\n            addOrRemoveCssClass(this.eGui, className, addOrRemove);\n            this.cssClassStates[className] = addOrRemove;\n        }\n    };\n    Component.prototype.getAttribute = function (key) {\n        var eGui = this.eGui;\n        return eGui ? eGui.getAttribute(key) : null;\n    };\n    Component.prototype.getRefElement = function (refName) {\n        return this.queryForHtmlElement(\"[ref=\\\"\" + refName + \"\\\"]\");\n    };\n    Component.EVENT_DISPLAYED_CHANGED = 'displayedChanged';\n    __decorate([\n        Autowired('agStackComponentsRegistry')\n    ], Component.prototype, \"agStackComponentsRegistry\", void 0);\n    __decorate([\n        PreConstruct\n    ], Component.prototype, \"createChildComponentsPreConstruct\", null);\n    __decorate([\n        PostConstruct\n    ], Component.prototype, \"addAnnotatedGridEventListeners\", null);\n    return Component;\n}(BeanStub));\nexport { Component };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar ColumnAnimationService = /** @class */ (function (_super) {\n    __extends(ColumnAnimationService, _super);\n    function ColumnAnimationService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.executeNextFuncs = [];\n        _this.executeLaterFuncs = [];\n        _this.active = false;\n        _this.animationThreadCount = 0;\n        return _this;\n    }\n    ColumnAnimationService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    ColumnAnimationService.prototype.isActive = function () {\n        return this.active;\n    };\n    ColumnAnimationService.prototype.start = function () {\n        if (this.active) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isSuppressColumnMoveAnimation()) {\n            return;\n        }\n        // if doing RTL, we don't animate open / close as due to how the pixels are inverted,\n        // the animation moves all the row the the right rather than to the left (ie it's the static\n        // columns that actually get their coordinates updated)\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            return;\n        }\n        this.ensureAnimationCssClassPresent();\n        this.active = true;\n    };\n    ColumnAnimationService.prototype.finish = function () {\n        if (!this.active) {\n            return;\n        }\n        this.flush();\n        this.active = false;\n    };\n    ColumnAnimationService.prototype.executeNextVMTurn = function (func) {\n        if (this.active) {\n            this.executeNextFuncs.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    ColumnAnimationService.prototype.executeLaterVMTurn = function (func) {\n        if (this.active) {\n            this.executeLaterFuncs.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    ColumnAnimationService.prototype.ensureAnimationCssClassPresent = function () {\n        var _this = this;\n        // up the count, so we can tell if someone else has updated the count\n        // by the time the 'wait' func executes\n        this.animationThreadCount++;\n        var animationThreadCountCopy = this.animationThreadCount;\n        this.gridPanel.setColumnMovingCss(true);\n        this.executeLaterFuncs.push(function () {\n            // only remove the class if this thread was the last one to update it\n            if (_this.animationThreadCount === animationThreadCountCopy) {\n                _this.gridPanel.setColumnMovingCss(false);\n            }\n        });\n    };\n    ColumnAnimationService.prototype.flush = function () {\n        var nowFuncs = this.executeNextFuncs;\n        this.executeNextFuncs = [];\n        var waitFuncs = this.executeLaterFuncs;\n        this.executeLaterFuncs = [];\n        if (nowFuncs.length === 0 && waitFuncs.length === 0) {\n            return;\n        }\n        window.setTimeout(function () { return nowFuncs.forEach(function (func) { return func(); }); }, 0);\n        window.setTimeout(function () { return waitFuncs.forEach(function (func) { return func(); }); }, 300);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ColumnAnimationService.prototype, \"gridOptionsWrapper\", void 0);\n    ColumnAnimationService = __decorate([\n        Bean('columnAnimationService')\n    ], ColumnAnimationService);\n    return ColumnAnimationService;\n}(BeanStub));\nexport { ColumnAnimationService };\n","export { ClientSideRowModelModule } from \"./clientSideRowModelModule\";\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nimport { Constants } from \"./constants/constants\";\nimport { missing } from \"./utils/generic\";\nimport { last } from \"./utils/array\";\nimport { KeyCode } from './constants/keyCode';\nvar CellNavigationService = /** @class */ (function (_super) {\n    __extends(CellNavigationService, _super);\n    function CellNavigationService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // returns null if no cell to focus on, ie at the end of the grid\n    CellNavigationService.prototype.getNextCellToFocus = function (key, lastCellToFocus) {\n        // starting with the provided cell, we keep moving until we find a cell we can\n        // focus on.\n        var pointer = lastCellToFocus;\n        var finished = false;\n        // finished will be true when either:\n        // a) cell found that we can focus on\n        // b) run out of cells (ie the method returns null)\n        while (!finished) {\n            switch (key) {\n                case KeyCode.UP:\n                    pointer = this.getCellAbove(pointer);\n                    break;\n                case KeyCode.DOWN:\n                    pointer = this.getCellBelow(pointer);\n                    break;\n                case KeyCode.RIGHT:\n                    if (this.gridOptionsWrapper.isEnableRtl()) {\n                        pointer = this.getCellToLeft(pointer);\n                    }\n                    else {\n                        pointer = this.getCellToRight(pointer);\n                    }\n                    break;\n                case KeyCode.LEFT:\n                    if (this.gridOptionsWrapper.isEnableRtl()) {\n                        pointer = this.getCellToRight(pointer);\n                    }\n                    else {\n                        pointer = this.getCellToLeft(pointer);\n                    }\n                    break;\n                default:\n                    pointer = null;\n                    console.warn('ag-Grid: unknown key for navigation ' + key);\n                    break;\n            }\n            if (pointer) {\n                finished = this.isCellGoodToFocusOn(pointer);\n            }\n            else {\n                finished = true;\n            }\n        }\n        return pointer;\n    };\n    CellNavigationService.prototype.isCellGoodToFocusOn = function (gridCell) {\n        var column = gridCell.column;\n        var rowNode;\n        switch (gridCell.rowPinned) {\n            case Constants.PINNED_TOP:\n                rowNode = this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);\n                break;\n            case Constants.PINNED_BOTTOM:\n                rowNode = this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);\n                break;\n            default:\n                rowNode = this.rowModel.getRow(gridCell.rowIndex);\n                break;\n        }\n        var suppressNavigable = column.isSuppressNavigable(rowNode);\n        return !suppressNavigable;\n    };\n    CellNavigationService.prototype.getCellToLeft = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var colToLeft = this.columnController.getDisplayedColBefore(lastCell.column);\n        if (!colToLeft) {\n            return null;\n        }\n        return {\n            rowIndex: lastCell.rowIndex,\n            column: colToLeft,\n            rowPinned: lastCell.rowPinned\n        };\n    };\n    CellNavigationService.prototype.getCellToRight = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var colToRight = this.columnController.getDisplayedColAfter(lastCell.column);\n        // if already on right, do nothing\n        if (!colToRight) {\n            return null;\n        }\n        return {\n            rowIndex: lastCell.rowIndex,\n            column: colToRight,\n            rowPinned: lastCell.rowPinned\n        };\n    };\n    CellNavigationService.prototype.getRowBelow = function (rowPosition) {\n        // if already on top row, do nothing\n        var index = rowPosition.rowIndex;\n        var pinned = rowPosition.rowPinned;\n        if (this.isLastRowInContainer(rowPosition)) {\n            switch (pinned) {\n                case Constants.PINNED_BOTTOM:\n                    // never any rows after pinned bottom\n                    return null;\n                case Constants.PINNED_TOP:\n                    // if on last row of pinned top, then next row is main body (if rows exist),\n                    // otherwise it's the pinned bottom\n                    if (this.rowModel.isRowsToRender()) {\n                        return { rowIndex: this.paginationProxy.getPageFirstRow(), rowPinned: null };\n                    }\n                    if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)) {\n                        return { rowIndex: 0, rowPinned: Constants.PINNED_BOTTOM };\n                    }\n                    return null;\n                default:\n                    // if in the main body, then try pinned bottom, otherwise return nothing\n                    if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)) {\n                        return { rowIndex: 0, rowPinned: Constants.PINNED_BOTTOM };\n                    }\n                    return null;\n            }\n        }\n        return { rowIndex: index + 1, rowPinned: pinned };\n    };\n    CellNavigationService.prototype.getCellBelow = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var rowBelow = this.getRowBelow(lastCell);\n        if (rowBelow) {\n            return {\n                rowIndex: rowBelow.rowIndex,\n                column: lastCell.column,\n                rowPinned: rowBelow.rowPinned\n            };\n        }\n        return null;\n    };\n    CellNavigationService.prototype.isLastRowInContainer = function (rowPosition) {\n        var pinned = rowPosition.rowPinned;\n        var index = rowPosition.rowIndex;\n        if (pinned === Constants.PINNED_TOP) {\n            var lastTopIndex = this.pinnedRowModel.getPinnedTopRowData().length - 1;\n            return lastTopIndex <= index;\n        }\n        if (pinned === Constants.PINNED_BOTTOM) {\n            var lastBottomIndex = this.pinnedRowModel.getPinnedBottomRowData().length - 1;\n            return lastBottomIndex <= index;\n        }\n        var lastBodyIndex = this.paginationProxy.getPageLastRow();\n        return lastBodyIndex <= index;\n    };\n    CellNavigationService.prototype.getRowAbove = function (rowPosition) {\n        // if already on top row, do nothing\n        var index = rowPosition.rowIndex;\n        var pinned = rowPosition.rowPinned;\n        var isFirstRow = pinned ? index === 0 : index === this.paginationProxy.getPageFirstRow();\n        // if already on top row, do nothing\n        if (isFirstRow) {\n            if (pinned === Constants.PINNED_TOP) {\n                return null;\n            }\n            if (!pinned) {\n                if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)) {\n                    return this.getLastFloatingTopRow();\n                }\n                return null;\n            }\n            // last floating bottom\n            if (this.rowModel.isRowsToRender()) {\n                return this.getLastBodyCell();\n            }\n            if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)) {\n                return this.getLastFloatingTopRow();\n            }\n            return null;\n        }\n        return { rowIndex: index - 1, rowPinned: pinned };\n    };\n    CellNavigationService.prototype.getCellAbove = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var rowAbove = this.getRowAbove({ rowIndex: lastCell.rowIndex, rowPinned: lastCell.rowPinned });\n        if (rowAbove) {\n            return {\n                rowIndex: rowAbove.rowIndex,\n                column: lastCell.column,\n                rowPinned: rowAbove.rowPinned\n            };\n        }\n        return null;\n    };\n    CellNavigationService.prototype.getLastBodyCell = function () {\n        var lastBodyRow = this.paginationProxy.getPageLastRow();\n        return { rowIndex: lastBodyRow, rowPinned: null };\n    };\n    CellNavigationService.prototype.getLastFloatingTopRow = function () {\n        var lastFloatingRow = this.pinnedRowModel.getPinnedTopRowData().length - 1;\n        return { rowIndex: lastFloatingRow, rowPinned: Constants.PINNED_TOP };\n    };\n    CellNavigationService.prototype.getNextTabbedCell = function (gridCell, backwards) {\n        if (backwards) {\n            return this.getNextTabbedCellBackwards(gridCell);\n        }\n        return this.getNextTabbedCellForwards(gridCell);\n    };\n    CellNavigationService.prototype.getNextTabbedCellForwards = function (gridCell) {\n        var displayedColumns = this.columnController.getAllDisplayedColumns();\n        var newRowIndex = gridCell.rowIndex;\n        var newFloating = gridCell.rowPinned;\n        // move along to the next cell\n        var newColumn = this.columnController.getDisplayedColAfter(gridCell.column);\n        // check if end of the row, and if so, go forward a row\n        if (!newColumn) {\n            newColumn = displayedColumns[0];\n            var rowBelow = this.getRowBelow(gridCell);\n            if (missing(rowBelow)) {\n                return null;\n            }\n            // If we are tabbing and there is a paging panel present, tabbing should go\n            // to the paging panel instead of loading the next page.\n            if (!rowBelow.rowPinned && !this.paginationProxy.isRowInPage(rowBelow)) {\n                return null;\n            }\n            newRowIndex = rowBelow ? rowBelow.rowIndex : null;\n            newFloating = rowBelow ? rowBelow.rowPinned : null;\n        }\n        return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n    };\n    CellNavigationService.prototype.getNextTabbedCellBackwards = function (gridCell) {\n        var displayedColumns = this.columnController.getAllDisplayedColumns();\n        var newRowIndex = gridCell.rowIndex;\n        var newFloating = gridCell.rowPinned;\n        // move along to the next cell\n        var newColumn = this.columnController.getDisplayedColBefore(gridCell.column);\n        // check if end of the row, and if so, go forward a row\n        if (!newColumn) {\n            newColumn = last(displayedColumns);\n            var rowAbove = this.getRowAbove({ rowIndex: gridCell.rowIndex, rowPinned: gridCell.rowPinned });\n            if (missing(rowAbove)) {\n                return null;\n            }\n            // If we are tabbing and there is a paging panel present, tabbing should go\n            // to the paging panel instead of loading the next page.\n            if (!rowAbove.rowPinned && !this.paginationProxy.isRowInPage(rowAbove)) {\n                return null;\n            }\n            newRowIndex = rowAbove ? rowAbove.rowIndex : null;\n            newFloating = rowAbove ? rowAbove.rowPinned : null;\n        }\n        return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n    };\n    __decorate([\n        Autowired('columnController')\n    ], CellNavigationService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], CellNavigationService.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], CellNavigationService.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], CellNavigationService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], CellNavigationService.prototype, \"paginationProxy\", void 0);\n    CellNavigationService = __decorate([\n        Bean('cellNavigationService')\n    ], CellNavigationService);\n    return CellNavigationService;\n}(BeanStub));\nexport { CellNavigationService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar StylingService = /** @class */ (function (_super) {\n    __extends(StylingService, _super);\n    function StylingService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StylingService.prototype.processAllCellClasses = function (colDef, params, onApplicableClass, onNotApplicableClass) {\n        this.processClassRules(colDef.cellClassRules, params, onApplicableClass, onNotApplicableClass);\n        this.processStaticCellClasses(colDef, params, onApplicableClass);\n    };\n    StylingService.prototype.processClassRules = function (classRules, params, onApplicableClass, onNotApplicableClass) {\n        if (typeof classRules === 'object' && classRules !== null) {\n            var classNames = Object.keys(classRules);\n            for (var i = 0; i < classNames.length; i++) {\n                var className = classNames[i];\n                var rule = classRules[className];\n                var resultOfRule = void 0;\n                if (typeof rule === 'string') {\n                    resultOfRule = this.expressionService.evaluate(rule, params);\n                }\n                else if (typeof rule === 'function') {\n                    resultOfRule = rule(params);\n                }\n                if (resultOfRule) {\n                    onApplicableClass(className);\n                }\n                else if (onNotApplicableClass) {\n                    onNotApplicableClass(className);\n                }\n            }\n        }\n    };\n    StylingService.prototype.processStaticCellClasses = function (colDef, params, onApplicableClass) {\n        var cellClass = colDef.cellClass;\n        if (cellClass) {\n            var classOrClasses = void 0;\n            if (typeof colDef.cellClass === 'function') {\n                var cellClassFunc = colDef.cellClass;\n                classOrClasses = cellClassFunc(params);\n            }\n            else {\n                classOrClasses = colDef.cellClass;\n            }\n            if (typeof classOrClasses === 'string') {\n                onApplicableClass(classOrClasses);\n            }\n            else if (Array.isArray(classOrClasses)) {\n                classOrClasses.forEach(function (cssClassItem) {\n                    onApplicableClass(cssClassItem);\n                });\n            }\n        }\n    };\n    __decorate([\n        Autowired('expressionService')\n    ], StylingService.prototype, \"expressionService\", void 0);\n    StylingService = __decorate([\n        Bean('stylingService')\n    ], StylingService);\n    return StylingService;\n}(BeanStub));\nexport { StylingService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ColumnGroup } from \"../../entities/columnGroup\";\nimport { Bean, Autowired } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { HeaderRowType } from \"../headerRowComp\";\nvar HeaderPositionUtils = /** @class */ (function (_super) {\n    __extends(HeaderPositionUtils, _super);\n    function HeaderPositionUtils() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HeaderPositionUtils.prototype.findHeader = function (focusedHeader, direction) {\n        var nextColumn;\n        var getGroupMethod;\n        var getColMethod;\n        if (focusedHeader.column instanceof ColumnGroup) {\n            getGroupMethod = \"getDisplayedGroup\" + direction;\n            nextColumn = this.columnController[getGroupMethod](focusedHeader.column);\n        }\n        else {\n            getColMethod = \"getDisplayedCol\" + direction;\n            nextColumn = this.columnController[getColMethod](focusedHeader.column);\n        }\n        if (nextColumn) {\n            return {\n                column: nextColumn,\n                headerRowIndex: focusedHeader.headerRowIndex\n            };\n        }\n    };\n    HeaderPositionUtils.prototype.findColAtEdgeForHeaderRow = function (level, position) {\n        var displayedColumns = this.columnController.getAllDisplayedColumns();\n        var column = displayedColumns[position === 'start' ? 0 : displayedColumns.length - 1];\n        if (!column) {\n            return;\n        }\n        var childContainer = this.headerNavigationService.getHeaderContainer(column.getPinned());\n        var headerRowComp = childContainer.getRowComps()[level];\n        var type = headerRowComp && headerRowComp.getType();\n        if (type == HeaderRowType.COLUMN_GROUP) {\n            var columnGroup = this.columnController.getColumnGroupAtLevel(column, level);\n            return {\n                headerRowIndex: level,\n                column: columnGroup\n            };\n        }\n        return {\n            headerRowIndex: !headerRowComp ? -1 : level,\n            column: column\n        };\n    };\n    __decorate([\n        Autowired('columnController')\n    ], HeaderPositionUtils.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('headerNavigationService')\n    ], HeaderPositionUtils.prototype, \"headerNavigationService\", void 0);\n    HeaderPositionUtils = __decorate([\n        Bean('headerPositionUtils')\n    ], HeaderPositionUtils);\n    return HeaderPositionUtils;\n}(BeanStub));\nexport { HeaderPositionUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { ChangedPath } from \"../utils/changedPath\";\nimport { Constants } from \"../constants/constants\";\nimport { Events } from \"../events\";\nvar ChangeDetectionService = /** @class */ (function (_super) {\n    __extends(ChangeDetectionService, _super);\n    function ChangeDetectionService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ChangeDetectionService.prototype.init = function () {\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            this.clientSideRowModel = this.rowModel;\n        }\n        this.addManagedListener(this.eventService, Events.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged.bind(this));\n    };\n    ChangeDetectionService.prototype.onCellValueChanged = function (event) {\n        // Clipboard service manages its own change detection, so no need to do it here.\n        // The clipboard manages its own as otherwise this would happen once for every cell\n        // that got updated as part of a paste operation, so e.g. if 100 cells in a paste operation,\n        // this doChangeDetection would get called 100 times (once for each cell), instead clipboard\n        // service executes the logic we have here once (in essence batching up all cell changes\n        // into one change detection).\n        if (event.source === Constants.SOURCE_PASTE) {\n            return;\n        }\n        this.doChangeDetection(event.node, event.column);\n    };\n    ChangeDetectionService.prototype.doChangeDetection = function (rowNode, column) {\n        if (this.gridOptionsWrapper.isSuppressChangeDetection()) {\n            return;\n        }\n        // step 1 of change detection is to update the aggregated values\n        if (this.clientSideRowModel && !rowNode.isRowPinned()) {\n            var onlyChangedColumns = this.gridOptionsWrapper.isAggregateOnlyChangedColumns();\n            var changedPath = new ChangedPath(onlyChangedColumns, this.clientSideRowModel.getRootNode());\n            changedPath.addParentNode(rowNode.parent, [column]);\n            this.clientSideRowModel.doAggregate(changedPath);\n        }\n        // step 2 of change detection is to refresh the cells\n        this.rowRenderer.refreshCells();\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ChangeDetectionService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], ChangeDetectionService.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], ChangeDetectionService.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        PostConstruct\n    ], ChangeDetectionService.prototype, \"init\", null);\n    ChangeDetectionService = __decorate([\n        Bean('changeDetectionService')\n    ], ChangeDetectionService);\n    return ChangeDetectionService;\n}(BeanStub));\nexport { ChangeDetectionService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"../../widgets/component\";\nimport { Column } from \"../../entities/column\";\nimport { Autowired } from \"../../context/context\";\nimport { TouchListener } from \"../../widgets/touchListener\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { Events } from \"../../events\";\nimport { escapeString } from \"../../utils/string\";\nimport { createIconNoSpan } from \"../../utils/icon\";\nimport { exists } from \"../../utils/generic\";\nimport { isIOSUserAgent } from \"../../utils/browser\";\nimport { removeFromParent, addOrRemoveCssClass, setDisplayed, clearElement } from \"../../utils/dom\";\nimport { firstExistingValue } from \"../../utils/array\";\nvar HeaderComp = /** @class */ (function (_super) {\n    __extends(HeaderComp, _super);\n    function HeaderComp() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastMovingChanged = 0;\n        return _this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    HeaderComp.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    HeaderComp.prototype.refresh = function (params) {\n        this.params = params;\n        // if template changed, then recreate the whole comp, the code required to manage\n        // a changing template is to difficult for what it's worth.\n        if (this.workOutTemplate() != this.currentTemplate) {\n            return false;\n        }\n        if (this.workOutShowMenu() != this.currentShowMenu) {\n            return false;\n        }\n        if (this.workOutSort() != this.currentSort) {\n            return false;\n        }\n        this.setDisplayName(params);\n        return true;\n    };\n    HeaderComp.prototype.workOutTemplate = function () {\n        var template = firstExistingValue(this.params.template, HeaderComp.TEMPLATE);\n        // take account of any newlines & whitespace before/after the actual template\n        template = template && template.trim ? template.trim() : template;\n        return template;\n    };\n    HeaderComp.prototype.init = function (params) {\n        this.params = params;\n        this.currentTemplate = this.workOutTemplate();\n        this.setTemplate(this.currentTemplate);\n        this.setupTap();\n        this.setupIcons(params.column);\n        this.setMenu();\n        this.setupSort();\n        this.setupFilterIcon();\n        this.setDisplayName(params);\n    };\n    HeaderComp.prototype.setDisplayName = function (params) {\n        if (this.currentDisplayName != params.displayName) {\n            this.currentDisplayName = params.displayName;\n            var displayNameSanitised = escapeString(this.currentDisplayName);\n            if (this.eText) {\n                this.eText.innerHTML = displayNameSanitised;\n            }\n        }\n    };\n    HeaderComp.prototype.setupIcons = function (column) {\n        this.addInIcon('sortAscending', this.eSortAsc, column);\n        this.addInIcon('sortDescending', this.eSortDesc, column);\n        this.addInIcon('sortUnSort', this.eSortNone, column);\n        this.addInIcon('menu', this.eMenu, column);\n        this.addInIcon('filter', this.eFilter, column);\n    };\n    HeaderComp.prototype.addInIcon = function (iconName, eParent, column) {\n        if (eParent == null) {\n            return;\n        }\n        var eIcon = createIconNoSpan(iconName, this.gridOptionsWrapper, column);\n        eParent.appendChild(eIcon);\n    };\n    HeaderComp.prototype.setupTap = function () {\n        var _this = this;\n        var options = this.gridOptionsWrapper;\n        if (options.isSuppressTouch()) {\n            return;\n        }\n        var touchListener = new TouchListener(this.getGui(), true);\n        var suppressMenuHide = options.isSuppressMenuHide();\n        var tapMenuButton = suppressMenuHide && exists(this.eMenu);\n        var menuTouchListener = tapMenuButton ? new TouchListener(this.eMenu, true) : touchListener;\n        if (this.params.enableMenu) {\n            var eventType = tapMenuButton ? 'EVENT_TAP' : 'EVENT_LONG_TAP';\n            var showMenuFn = function (event) {\n                options.getApi().showColumnMenuAfterMouseClick(_this.params.column, event.touchStart);\n            };\n            this.addManagedListener(menuTouchListener, TouchListener[eventType], showMenuFn);\n        }\n        if (this.params.enableSorting) {\n            var tapListener = function (event) {\n                var target = event.touchStart.target;\n                // When suppressMenuHide is true, a tap on the menu icon will bubble up\n                // to the header container, in that case we should not sort\n                if (suppressMenuHide && _this.eMenu.contains(target)) {\n                    return;\n                }\n                _this.sortController.progressSort(_this.params.column, false, \"uiColumnSorted\");\n            };\n            this.addManagedListener(touchListener, TouchListener.EVENT_TAP, tapListener);\n        }\n        // if tapMenuButton is true `touchListener` and `menuTouchListener` are different\n        // so we need to make sure to destroy both listeners here\n        this.addDestroyFunc(function () { return touchListener.destroy(); });\n        if (tapMenuButton) {\n            this.addDestroyFunc(function () { return menuTouchListener.destroy(); });\n        }\n    };\n    HeaderComp.prototype.workOutShowMenu = function () {\n        // we don't show the menu if on an iPad/iPhone, as the user cannot have a pointer device/\n        // However if suppressMenuHide is set to true the menu will be displayed alwasys, so it's ok\n        // to show it on iPad in this case (as hover isn't needed). If suppressMenuHide\n        // is false (default) user will need to use longpress to display the menu.\n        var menuHides = !this.gridOptionsWrapper.isSuppressMenuHide();\n        var onIpadAndMenuHides = isIOSUserAgent() && menuHides;\n        var showMenu = this.params.enableMenu && !onIpadAndMenuHides;\n        return showMenu;\n    };\n    HeaderComp.prototype.setMenu = function () {\n        var _this = this;\n        // if no menu provided in template, do nothing\n        if (!this.eMenu) {\n            return;\n        }\n        this.currentShowMenu = this.workOutShowMenu();\n        if (!this.currentShowMenu) {\n            removeFromParent(this.eMenu);\n            return;\n        }\n        var suppressMenuHide = this.gridOptionsWrapper.isSuppressMenuHide();\n        this.addManagedListener(this.eMenu, 'click', function () { return _this.showMenu(_this.eMenu); });\n        addOrRemoveCssClass(this.eMenu, 'ag-header-menu-always-show', suppressMenuHide);\n    };\n    HeaderComp.prototype.showMenu = function (eventSource) {\n        if (!eventSource) {\n            eventSource = this.eMenu;\n        }\n        this.menuFactory.showMenuAfterButtonClick(this.params.column, eventSource);\n    };\n    HeaderComp.prototype.removeSortIcons = function () {\n        removeFromParent(this.eSortAsc);\n        removeFromParent(this.eSortDesc);\n        removeFromParent(this.eSortNone);\n        removeFromParent(this.eSortOrder);\n    };\n    HeaderComp.prototype.workOutSort = function () {\n        return this.params.enableSorting;\n    };\n    HeaderComp.prototype.setupSort = function () {\n        var _this = this;\n        this.currentSort = this.params.enableSorting;\n        if (!this.currentSort) {\n            this.removeSortIcons();\n            return;\n        }\n        var sortUsingCtrl = this.gridOptionsWrapper.isMultiSortKeyCtrl();\n        // keep track of last time the moving changed flag was set\n        this.addManagedListener(this.params.column, Column.EVENT_MOVING_CHANGED, function () {\n            _this.lastMovingChanged = new Date().getTime();\n        });\n        // add the event on the header, so when clicked, we do sorting\n        if (this.eLabel) {\n            this.addManagedListener(this.eLabel, 'click', function (event) {\n                // sometimes when moving a column via dragging, this was also firing a clicked event.\n                // here is issue raised by user: https://ag-grid.zendesk.com/agent/tickets/1076\n                // this check stops sort if a) column is moving or b) column moved less than 200ms ago (so caters for race condition)\n                var moving = _this.params.column.isMoving();\n                var nowTime = new Date().getTime();\n                // typically there is <2ms if moving flag was set recently, as it would be done in same VM turn\n                var movedRecently = (nowTime - _this.lastMovingChanged) < 50;\n                var columnMoving = moving || movedRecently;\n                if (!columnMoving) {\n                    var multiSort = sortUsingCtrl ? (event.ctrlKey || event.metaKey) : event.shiftKey;\n                    _this.params.progressSort(multiSort);\n                }\n            });\n        }\n        this.addManagedListener(this.params.column, Column.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.onSortChanged();\n        this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.setMultiSortOrder.bind(this));\n        this.setMultiSortOrder();\n    };\n    HeaderComp.prototype.onSortChanged = function () {\n        addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-asc', this.params.column.isSortAscending());\n        addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-desc', this.params.column.isSortDescending());\n        addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-none', this.params.column.isSortNone());\n        if (this.eSortAsc) {\n            addOrRemoveCssClass(this.eSortAsc, 'ag-hidden', !this.params.column.isSortAscending());\n        }\n        if (this.eSortDesc) {\n            addOrRemoveCssClass(this.eSortDesc, 'ag-hidden', !this.params.column.isSortDescending());\n        }\n        if (this.eSortNone) {\n            var alwaysHideNoSort = !this.params.column.getColDef().unSortIcon && !this.gridOptionsWrapper.isUnSortIcon();\n            addOrRemoveCssClass(this.eSortNone, 'ag-hidden', alwaysHideNoSort || !this.params.column.isSortNone());\n        }\n    };\n    // we listen here for global sort events, NOT column sort events, as we want to do this\n    // when sorting has been set on all column (if we listened just for our col (where we\n    // set the asc / desc icons) then it's possible other cols are yet to get their sorting state.\n    HeaderComp.prototype.setMultiSortOrder = function () {\n        if (!this.eSortOrder) {\n            return;\n        }\n        var col = this.params.column;\n        var allColumnsWithSorting = this.sortController.getColumnsWithSortingOrdered();\n        var indexThisCol = allColumnsWithSorting.indexOf(col);\n        var moreThanOneColSorting = allColumnsWithSorting.length > 1;\n        var showIndex = col.isSorting() && moreThanOneColSorting;\n        setDisplayed(this.eSortOrder, showIndex);\n        if (indexThisCol >= 0) {\n            this.eSortOrder.innerHTML = (indexThisCol + 1).toString();\n        }\n        else {\n            clearElement(this.eSortOrder);\n        }\n    };\n    HeaderComp.prototype.setupFilterIcon = function () {\n        if (!this.eFilter) {\n            return;\n        }\n        this.addManagedListener(this.params.column, Column.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.onFilterChanged();\n    };\n    HeaderComp.prototype.onFilterChanged = function () {\n        var filterPresent = this.params.column.isFilterActive();\n        addOrRemoveCssClass(this.eFilter, 'ag-hidden', !filterPresent);\n    };\n    HeaderComp.TEMPLATE = \"<div class=\\\"ag-cell-label-container\\\">\\n            <span ref=\\\"eMenu\\\" class=\\\"ag-header-icon ag-header-cell-menu-button\\\" aria-hidden=\\\"true\\\"></span>\\n            <div ref=\\\"eLabel\\\" class=\\\"ag-header-cell-label\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <span ref=\\\"eText\\\" class=\\\"ag-header-cell-text\\\" unselectable=\\\"on\\\"></span>\\n                <span ref=\\\"eFilter\\\" class=\\\"ag-header-icon ag-header-label-icon ag-filter-icon\\\" aria-hidden=\\\"true\\\"></span>\\n                <span ref=\\\"eSortOrder\\\" class=\\\"ag-header-icon ag-header-label-icon ag-sort-order\\\" aria-hidden=\\\"true\\\"></span>\\n                <span ref=\\\"eSortAsc\\\" class=\\\"ag-header-icon ag-header-label-icon ag-sort-ascending-icon\\\" aria-hidden=\\\"true\\\"></span>\\n                <span ref=\\\"eSortDesc\\\" class=\\\"ag-header-icon ag-header-label-icon ag-sort-descending-icon\\\" aria-hidden=\\\"true\\\"></span>\\n                <span ref=\\\"eSortNone\\\" class=\\\"ag-header-icon ag-header-label-icon ag-sort-none-icon\\\" aria-hidden=\\\"true\\\"></span>\\n            </div>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], HeaderComp.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('menuFactory')\n    ], HeaderComp.prototype, \"menuFactory\", void 0);\n    __decorate([\n        RefSelector('eFilter')\n    ], HeaderComp.prototype, \"eFilter\", void 0);\n    __decorate([\n        RefSelector('eSortAsc')\n    ], HeaderComp.prototype, \"eSortAsc\", void 0);\n    __decorate([\n        RefSelector('eSortDesc')\n    ], HeaderComp.prototype, \"eSortDesc\", void 0);\n    __decorate([\n        RefSelector('eSortNone')\n    ], HeaderComp.prototype, \"eSortNone\", void 0);\n    __decorate([\n        RefSelector('eSortOrder')\n    ], HeaderComp.prototype, \"eSortOrder\", void 0);\n    __decorate([\n        RefSelector('eMenu')\n    ], HeaderComp.prototype, \"eMenu\", void 0);\n    __decorate([\n        RefSelector('eLabel')\n    ], HeaderComp.prototype, \"eLabel\", void 0);\n    __decorate([\n        RefSelector('eText')\n    ], HeaderComp.prototype, \"eText\", void 0);\n    return HeaderComp;\n}(Component));\nexport { HeaderComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, PreDestroy, Autowired, PostConstruct } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { find, exists } from \"../utils/generic\";\nimport { removeFromArray } from \"../utils/array\";\nimport { addOrRemoveCssClass } from \"../utils/dom\";\nimport { areEventsNear } from \"../utils/mouse\";\n/** Adds drag listening onto an element. In ag-Grid this is used twice, first is resizing columns,\n * second is moving the columns and column groups around (ie the 'drag' part of Drag and Drop. */\nvar DragService = /** @class */ (function (_super) {\n    __extends(DragService, _super);\n    function DragService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dragEndFunctions = [];\n        _this.dragSources = [];\n        return _this;\n    }\n    DragService.prototype.init = function () {\n        this.logger = this.loggerFactory.create('DragService');\n    };\n    DragService.prototype.removeAllListeners = function () {\n        this.dragSources.forEach(this.removeListener.bind(this));\n        this.dragSources.length = 0;\n    };\n    DragService.prototype.removeListener = function (dragSourceAndListener) {\n        var element = dragSourceAndListener.dragSource.eElement;\n        var mouseDownListener = dragSourceAndListener.mouseDownListener;\n        element.removeEventListener('mousedown', mouseDownListener);\n        // remove touch listener only if it exists\n        if (dragSourceAndListener.touchEnabled) {\n            var touchStartListener = dragSourceAndListener.touchStartListener;\n            element.removeEventListener('touchstart', touchStartListener, { passive: true });\n        }\n    };\n    DragService.prototype.removeDragSource = function (params) {\n        var dragSourceAndListener = find(this.dragSources, function (item) { return item.dragSource === params; });\n        if (!dragSourceAndListener) {\n            return;\n        }\n        this.removeListener(dragSourceAndListener);\n        removeFromArray(this.dragSources, dragSourceAndListener);\n    };\n    DragService.prototype.setNoSelectToBody = function (noSelect) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var eBody = eDocument.querySelector('body');\n        if (exists(eBody)) {\n            // when we drag the mouse in ag-Grid, this class gets added / removed from the body, so that\n            // the mouse isn't selecting text when dragging.\n            addOrRemoveCssClass(eBody, 'ag-unselectable', noSelect);\n        }\n    };\n    DragService.prototype.isDragging = function () {\n        return this.dragging;\n    };\n    DragService.prototype.addDragSource = function (params, includeTouch) {\n        if (includeTouch === void 0) { includeTouch = false; }\n        var mouseListener = this.onMouseDown.bind(this, params);\n        params.eElement.addEventListener('mousedown', mouseListener);\n        var touchListener = null;\n        var suppressTouch = this.gridOptionsWrapper.isSuppressTouch();\n        if (includeTouch && !suppressTouch) {\n            touchListener = this.onTouchStart.bind(this, params);\n            params.eElement.addEventListener('touchstart', touchListener, { passive: true });\n        }\n        this.dragSources.push({\n            dragSource: params,\n            mouseDownListener: mouseListener,\n            touchStartListener: touchListener,\n            touchEnabled: includeTouch\n        });\n    };\n    // gets called whenever mouse down on any drag source\n    DragService.prototype.onTouchStart = function (params, touchEvent) {\n        var _this = this;\n        this.currentDragParams = params;\n        this.dragging = false;\n        var touch = touchEvent.touches[0];\n        this.touchLastTime = touch;\n        this.touchStart = touch;\n        var touchMoveEvent = function (e) { return _this.onTouchMove(e, params.eElement); };\n        var touchEndEvent = function (e) { return _this.onTouchUp(e, params.eElement); };\n        var documentTouchMove = function (e) { if (e.cancelable) {\n            e.preventDefault();\n        } };\n        var target = params.eElement;\n        var events = [\n            // Prevents the page document from moving while we are dragging items around.\n            // preventDefault needs to be called in the touchmove listener and never inside the\n            // touchstart, because using touchstart causes the click event to be cancelled on touch devices.\n            { target: document, type: 'touchmove', listener: documentTouchMove, options: { passive: false } },\n            { target: target, type: 'touchmove', listener: touchMoveEvent, options: { passive: true } },\n            { target: target, type: 'touchend', listener: touchEndEvent, options: { passive: true } },\n            { target: target, type: 'touchcancel', listener: touchEndEvent, options: { passive: true } }\n        ];\n        // temporally add these listeners, for the duration of the drag\n        this.addTemporaryEvents(events);\n        // see if we want to start dragging straight away\n        if (params.dragStartPixels === 0) {\n            this.onCommonMove(touch, this.touchStart, params.eElement);\n        }\n    };\n    // gets called whenever mouse down on any drag source\n    DragService.prototype.onMouseDown = function (params, mouseEvent) {\n        var _this = this;\n        var e = mouseEvent;\n        if (params.skipMouseEvent && params.skipMouseEvent(mouseEvent)) {\n            return;\n        }\n        // if there are two elements with parent / child relationship, and both are draggable,\n        // when we drag the child, we should NOT drag the parent. an example of this is row moving\n        // and range selection - row moving should get preference when use drags the rowDrag component.\n        if (e._alreadyProcessedByDragService) {\n            return;\n        }\n        e._alreadyProcessedByDragService = true;\n        // only interested in left button clicks\n        if (mouseEvent.button !== 0) {\n            return;\n        }\n        this.currentDragParams = params;\n        this.dragging = false;\n        this.mouseStartEvent = mouseEvent;\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        this.setNoSelectToBody(true);\n        var mouseMoveEvent = function (e, el) { return _this.onMouseMove(e, params.eElement); };\n        var mouseUpEvent = function (e, el) { return _this.onMouseUp(e, params.eElement); };\n        var contextEvent = function (e) { return e.preventDefault(); };\n        var target = eDocument;\n        var events = [\n            { target: target, type: 'mousemove', listener: mouseMoveEvent },\n            { target: target, type: 'mouseup', listener: mouseUpEvent },\n            { target: target, type: 'contextmenu', listener: contextEvent }\n        ];\n        // temporally add these listeners, for the duration of the drag\n        this.addTemporaryEvents(events);\n        //see if we want to start dragging straight away\n        if (params.dragStartPixels === 0) {\n            this.onMouseMove(mouseEvent, params.eElement);\n        }\n    };\n    DragService.prototype.addTemporaryEvents = function (events) {\n        events.forEach(function (currentEvent) {\n            var target = currentEvent.target, type = currentEvent.type, listener = currentEvent.listener, options = currentEvent.options;\n            target.addEventListener(type, listener, options);\n        });\n        this.dragEndFunctions.push(function () {\n            events.forEach(function (currentEvent) {\n                var target = currentEvent.target, type = currentEvent.type, listener = currentEvent.listener, options = currentEvent.options;\n                target.removeEventListener(type, listener, options);\n            });\n        });\n    };\n    // returns true if the event is close to the original event by X pixels either vertically or horizontally.\n    // we only start dragging after X pixels so this allows us to know if we should start dragging yet.\n    DragService.prototype.isEventNearStartEvent = function (currentEvent, startEvent) {\n        // by default, we wait 4 pixels before starting the drag\n        var dragStartPixels = this.currentDragParams.dragStartPixels;\n        var requiredPixelDiff = exists(dragStartPixels) ? dragStartPixels : 4;\n        return areEventsNear(currentEvent, startEvent, requiredPixelDiff);\n    };\n    DragService.prototype.getFirstActiveTouch = function (touchList) {\n        for (var i = 0; i < touchList.length; i++) {\n            if (touchList[i].identifier === this.touchStart.identifier) {\n                return touchList[i];\n            }\n        }\n        return null;\n    };\n    DragService.prototype.onCommonMove = function (currentEvent, startEvent, el) {\n        if (!this.dragging) {\n            // if mouse hasn't travelled from the start position enough, do nothing\n            if (!this.dragging && this.isEventNearStartEvent(currentEvent, startEvent)) {\n                return;\n            }\n            this.dragging = true;\n            var event_1 = {\n                type: Events.EVENT_DRAG_STARTED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                target: el\n            };\n            this.eventService.dispatchEvent(event_1);\n            this.currentDragParams.onDragStart(startEvent);\n        }\n        this.currentDragParams.onDragging(currentEvent);\n    };\n    DragService.prototype.onTouchMove = function (touchEvent, el) {\n        var touch = this.getFirstActiveTouch(touchEvent.touches);\n        if (!touch) {\n            return;\n        }\n        // this.___statusPanel.setInfoText(Math.random() + ' onTouchMove preventDefault stopPropagation');\n        this.onCommonMove(touch, this.touchStart, el);\n    };\n    // only gets called after a mouse down - as this is only added after mouseDown\n    // and is removed when mouseUp happens\n    DragService.prototype.onMouseMove = function (mouseEvent, el) {\n        this.onCommonMove(mouseEvent, this.mouseStartEvent, el);\n    };\n    DragService.prototype.onTouchUp = function (touchEvent, el) {\n        var touch = this.getFirstActiveTouch(touchEvent.changedTouches);\n        // i haven't worked this out yet, but there is no matching touch\n        // when we get the touch up event. to get around this, we swap in\n        // the last touch. this is a hack to 'get it working' while we\n        // figure out what's going on, why we are not getting a touch in\n        // current event.\n        if (!touch) {\n            touch = this.touchLastTime;\n        }\n        // if mouse was left up before we started to move, then this is a tap.\n        // we check this before onUpCommon as onUpCommon resets the dragging\n        // let tap = !this.dragging;\n        // let tapTarget = this.currentDragParams.eElement;\n        this.onUpCommon(touch, el);\n        // if tap, tell user\n        // console.log(`${Math.random()} tap = ${tap}`);\n        // if (tap) {\n        //     tapTarget.click();\n        // }\n    };\n    DragService.prototype.onMouseUp = function (mouseEvent, el) {\n        this.onUpCommon(mouseEvent, el);\n    };\n    DragService.prototype.onUpCommon = function (eventOrTouch, el) {\n        if (this.dragging) {\n            this.dragging = false;\n            this.currentDragParams.onDragStop(eventOrTouch);\n            var event_2 = {\n                type: Events.EVENT_DRAG_STOPPED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                target: el\n            };\n            this.eventService.dispatchEvent(event_2);\n        }\n        this.setNoSelectToBody(false);\n        this.mouseStartEvent = null;\n        this.touchStart = null;\n        this.touchLastTime = null;\n        this.currentDragParams = null;\n        this.dragEndFunctions.forEach(function (func) { return func(); });\n        this.dragEndFunctions.length = 0;\n    };\n    __decorate([\n        Autowired('loggerFactory')\n    ], DragService.prototype, \"loggerFactory\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], DragService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], DragService.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], DragService.prototype, \"gridApi\", void 0);\n    __decorate([\n        PostConstruct\n    ], DragService.prototype, \"init\", null);\n    __decorate([\n        PreDestroy\n    ], DragService.prototype, \"removeAllListeners\", null);\n    DragService = __decorate([\n        Bean('dragService')\n    ], DragService);\n    return DragService;\n}(BeanStub));\nexport { DragService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport * from \"./color\";\nexport * from \"./csv\";\nexport * from \"./utils\";\nexport * from \"./numberSequence\";\nexport * from \"./promise\";\nexport * from \"./timer\";\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgAbstractInputField } from './agAbstractInputField';\nimport { some } from '../utils/array';\nimport { exists } from '../utils/generic';\nvar AgInputTextField = /** @class */ (function (_super) {\n    __extends(AgInputTextField, _super);\n    function AgInputTextField(config, className, inputType) {\n        if (className === void 0) { className = 'ag-text-field'; }\n        if (inputType === void 0) { inputType = 'text'; }\n        return _super.call(this, config, className, inputType) || this;\n    }\n    AgInputTextField.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        if (this.config.allowedCharPattern) {\n            this.preventDisallowedCharacters();\n        }\n    };\n    AgInputTextField.prototype.setValue = function (value, silent) {\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        if (this.eInput.value !== value) {\n            this.eInput.value = exists(value) ? value : '';\n        }\n        return ret;\n    };\n    AgInputTextField.prototype.preventDisallowedCharacters = function () {\n        var pattern = new RegExp(\"[\" + this.config.allowedCharPattern + \"]\");\n        var preventDisallowedCharacters = function (event) {\n            if (event.key && !pattern.test(event.key)) {\n                event.preventDefault();\n            }\n        };\n        this.addManagedListener(this.eInput, 'keypress', preventDisallowedCharacters);\n        this.addManagedListener(this.eInput, 'paste', function (e) {\n            var text = (e.clipboardData || e.clipboardData).getData('text');\n            if (some(text, function (c) { return !pattern.test(c); })) {\n                e.preventDefault();\n            }\n        });\n    };\n    return AgInputTextField;\n}(AgAbstractInputField));\nexport { AgInputTextField };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component } from '../../../widgets/component';\nimport { SimpleFilter } from '../../provided/simpleFilter';\nimport { OptionsFactory } from '../../provided/optionsFactory';\nvar SimpleFloatingFilter = /** @class */ (function (_super) {\n    __extends(SimpleFloatingFilter, _super);\n    function SimpleFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleFloatingFilter.prototype.getDefaultDebounceMs = function () {\n        return 0;\n    };\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    SimpleFloatingFilter.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    // used by:\n    // 1) NumberFloatingFilter & TextFloatingFilter: Always, for both when editable and read only.\n    // 2) DateFloatingFilter: Only when read only (as we show text rather than a date picker when read only)\n    SimpleFloatingFilter.prototype.getTextFromModel = function (model) {\n        if (!model) {\n            return null;\n        }\n        var isCombined = model.operator;\n        if (isCombined) {\n            var combinedModel = model;\n            var con1Str = this.conditionToString(combinedModel.condition1);\n            var con2Str = this.conditionToString(combinedModel.condition2);\n            return con1Str + \" \" + combinedModel.operator + \" \" + con2Str;\n        }\n        else {\n            var condition = model;\n            return this.conditionToString(condition);\n        }\n    };\n    SimpleFloatingFilter.prototype.isEventFromFloatingFilter = function (event) {\n        return event && event.afterFloatingFilter;\n    };\n    SimpleFloatingFilter.prototype.getLastType = function () {\n        return this.lastType;\n    };\n    SimpleFloatingFilter.prototype.setLastTypeFromModel = function (model) {\n        // if no model provided by the parent filter use default\n        if (!model) {\n            this.lastType = this.optionsFactory.getDefaultOption();\n            return;\n        }\n        var isCombined = model.operator;\n        var condition;\n        if (isCombined) {\n            var combinedModel = model;\n            condition = combinedModel.condition1;\n        }\n        else {\n            condition = model;\n        }\n        this.lastType = condition.type;\n    };\n    SimpleFloatingFilter.prototype.canWeEditAfterModelFromParentFilter = function (model) {\n        if (!model) {\n            // if no model, then we can edit as long as the lastType is something we can edit, as this\n            // is the type we will provide to the parent filter if the user decides to use the floating filter.\n            return this.isTypeEditable(this.lastType);\n        }\n        // never allow editing if the filter is combined (ie has two parts)\n        var isCombined = model.operator;\n        if (isCombined) {\n            return false;\n        }\n        var simpleModel = model;\n        return this.isTypeEditable(simpleModel.type);\n    };\n    SimpleFloatingFilter.prototype.init = function (params) {\n        this.optionsFactory = new OptionsFactory();\n        this.optionsFactory.init(params.filterParams, this.getDefaultFilterOptions());\n        this.lastType = this.optionsFactory.getDefaultOption();\n        // we are editable if:\n        // 1) there is a type (user has configured filter wrong if not type)\n        //  AND\n        // 2) the default type is not 'in range'\n        var editable = this.isTypeEditable(this.lastType);\n        this.setEditable(editable);\n    };\n    SimpleFloatingFilter.prototype.doesFilterHaveHiddenInput = function (filterType) {\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        return customFilterOption && customFilterOption.hideFilterInput;\n    };\n    SimpleFloatingFilter.prototype.isTypeEditable = function (type) {\n        return !this.doesFilterHaveHiddenInput(type) &&\n            type\n            && type !== SimpleFilter.IN_RANGE\n            && type !== SimpleFilter.EMPTY;\n    };\n    return SimpleFloatingFilter;\n}(Component));\nexport { SimpleFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { missing, exists, values } from './generic';\nimport { forEach } from './array';\nexport function iterateObject(object, callback) {\n    if (object == null) {\n        return;\n    }\n    if (Array.isArray(object)) {\n        forEach(object, function (value, index) { return callback(\"\" + index, value); });\n    }\n    else {\n        forEach(Object.keys(object), function (key) { return callback(key, object[key]); });\n    }\n}\nexport function cloneObject(object) {\n    var copy = {};\n    var keys = Object.keys(object);\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var value = object[key];\n        copy[key] = value;\n    }\n    return copy;\n}\nexport function deepCloneObject(object) {\n    return JSON.parse(JSON.stringify(object));\n}\n// returns copy of an object, doing a deep clone of any objects with that object.\n// this is used for eg creating copies of Column Definitions, where we want to\n// deep copy all objects, but do not want to deep copy functions (eg when user provides\n// a function or class for colDef.cellRenderer)\nexport function deepCloneDefinition(object, keysToSkip) {\n    if (!object) {\n        return;\n    }\n    var obj = object;\n    var res = {};\n    Object.keys(obj).forEach(function (key) {\n        if (keysToSkip && keysToSkip.indexOf(key) >= 0) {\n            return;\n        }\n        var value = obj[key];\n        if (typeof value === 'object') {\n            res[key] = deepCloneDefinition(value);\n        }\n        else {\n            res[key] = value;\n        }\n    });\n    return res;\n}\nexport function getProperty(object, key) {\n    return object[key];\n}\nexport function setProperty(object, key, value) {\n    object[key] = value;\n}\n/**\n * Will copy the specified properties from `source` into the equivalent properties on `target`, ignoring properties with\n * a value of `undefined`.\n */\nexport function copyPropertiesIfPresent(source, target) {\n    var properties = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        properties[_i - 2] = arguments[_i];\n    }\n    forEach(properties, function (p) { return copyPropertyIfPresent(source, target, p); });\n}\n/**\n * Will copy the specified property from `source` into the equivalent property on `target`, unless the property has a\n * value of `undefined`. If a transformation is provided, it will be applied to the value before being set on `target`.\n */\nexport function copyPropertyIfPresent(source, target, property, transform) {\n    var value = getProperty(source, property);\n    if (value !== undefined) {\n        setProperty(target, property, transform ? transform(value) : value);\n    }\n}\nexport function getAllKeysInObjects(objects) {\n    var allValues = {};\n    objects.filter(function (obj) { return obj != null; }).forEach(function (obj) {\n        forEach(Object.keys(obj), function (key) { return allValues[key] = null; });\n    });\n    return Object.keys(allValues);\n}\nexport function mergeDeep(dest, source, copyUndefined, objectsThatNeedCopy, iteration) {\n    if (copyUndefined === void 0) { copyUndefined = true; }\n    if (objectsThatNeedCopy === void 0) { objectsThatNeedCopy = []; }\n    if (iteration === void 0) { iteration = 0; }\n    if (!exists(source)) {\n        return;\n    }\n    iterateObject(source, function (key, sourceValue) {\n        var destValue = dest[key];\n        if (destValue === sourceValue) {\n            return;\n        }\n        var dontCopyOverSourceObject = iteration == 0 && destValue == null && sourceValue != null && objectsThatNeedCopy.indexOf(key) >= 0;\n        if (dontCopyOverSourceObject) {\n            // by putting an empty value into destValue first, it means we end up copying over values from\n            // the source object, rather than just copying in the source object in it's entirety.\n            destValue = {};\n            dest[key] = destValue;\n        }\n        if (typeof destValue === 'object' && typeof sourceValue === 'object' && !Array.isArray(destValue)) {\n            mergeDeep(destValue, sourceValue, copyUndefined, objectsThatNeedCopy, iteration++);\n        }\n        else if (copyUndefined || sourceValue !== undefined) {\n            dest[key] = sourceValue;\n        }\n    });\n}\nexport function assign(object) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    forEach(sources, function (source) { return iterateObject(source, function (key, value) { return object[key] = value; }); });\n    return object;\n}\nexport function missingOrEmptyObject(value) {\n    return missing(value) || Object.keys(value).length === 0;\n}\nexport function get(source, expression, defaultValue) {\n    if (source == null) {\n        return defaultValue;\n    }\n    var keys = expression.split('.');\n    var objectToRead = source;\n    while (keys.length > 1) {\n        objectToRead = objectToRead[keys.shift()];\n        if (objectToRead == null) {\n            return defaultValue;\n        }\n    }\n    var value = objectToRead[keys[0]];\n    return value != null ? value : defaultValue;\n}\nexport function set(target, expression, value) {\n    if (target == null) {\n        return;\n    }\n    var keys = expression.split('.');\n    var objectToUpdate = target;\n    while (keys.length > 1) {\n        objectToUpdate = objectToUpdate[keys.shift()];\n        if (objectToUpdate == null) {\n            return;\n        }\n    }\n    objectToUpdate[keys[0]] = value;\n}\nexport function deepFreeze(object) {\n    Object.freeze(object);\n    forEach(values(object), function (v) {\n        if (v != null && (typeof v === 'object' || typeof v === 'function')) {\n            deepFreeze(v);\n        }\n    });\n    return object;\n}\nexport function getValueUsingField(data, field, fieldContainsDots) {\n    if (!field || !data) {\n        return;\n    }\n    // if no '.', then it's not a deep value\n    if (!fieldContainsDots) {\n        return data[field];\n    }\n    // otherwise it is a deep value, so need to dig for it\n    var fields = field.split('.');\n    var currentObject = data;\n    for (var i = 0; i < fields.length; i++) {\n        currentObject = currentObject[fields[i]];\n        if (missing(currentObject)) {\n            return null;\n        }\n    }\n    return currentObject;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { TextCellEditor } from \"../../rendering/cellEditors/textCellEditor\";\nimport { Autowired, Bean, PostConstruct } from \"../../context/context\";\nimport { DateFilter } from \"../../filter/provided/date/dateFilter\";\nimport { HeaderComp } from \"../../headerRendering/header/headerComp\";\nimport { HeaderGroupComp } from \"../../headerRendering/headerGroup/headerGroupComp\";\nimport { GroupCellRenderer } from \"../../rendering/cellRenderers/groupCellRenderer\";\nimport { AnimateShowChangeCellRenderer } from \"../../rendering/cellRenderers/animateShowChangeCellRenderer\";\nimport { AnimateSlideCellRenderer } from \"../../rendering/cellRenderers/animateSlideCellRenderer\";\nimport { LoadingCellRenderer } from \"../../rendering/cellRenderers/loadingCellRenderer\";\nimport { SelectCellEditor } from \"../../rendering/cellEditors/selectCellEditor\";\nimport { PopupTextCellEditor } from \"../../rendering/cellEditors/popupTextCellEditor\";\nimport { PopupSelectCellEditor } from \"../../rendering/cellEditors/popupSelectCellEditor\";\nimport { LargeTextCellEditor } from \"../../rendering/cellEditors/largeTextCellEditor\";\nimport { NumberFilter } from \"../../filter/provided/number/numberFilter\";\nimport { LoadingOverlayComponent } from \"../../rendering/overlays/loadingOverlayComponent\";\nimport { NoRowsOverlayComponent } from \"../../rendering/overlays/noRowsOverlayComponent\";\nimport { TooltipComponent } from \"../../rendering/tooltipComponent\";\nimport { DefaultDateComponent } from \"../../filter/provided/date/defaultDateComponent\";\nimport { DateFloatingFilter } from \"../../filter/provided/date/dateFloatingFilter\";\nimport { TextFilter } from \"../../filter/provided/text/textFilter\";\nimport { NumberFloatingFilter } from \"../../filter/provided/number/numberFloatingFilter\";\nimport { TextFloatingFilter } from \"../../filter/provided/text/textFloatingFilter\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { iterateObject } from '../../utils/object';\nimport { doOnce } from \"../../utils/function\";\nexport var RegisteredComponentSource;\n(function (RegisteredComponentSource) {\n    RegisteredComponentSource[RegisteredComponentSource[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    RegisteredComponentSource[RegisteredComponentSource[\"REGISTERED\"] = 1] = \"REGISTERED\";\n})(RegisteredComponentSource || (RegisteredComponentSource = {}));\nvar UserComponentRegistry = /** @class */ (function (_super) {\n    __extends(UserComponentRegistry, _super);\n    function UserComponentRegistry() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.agGridDefaults = {\n            //date\n            agDateInput: DefaultDateComponent,\n            //header\n            agColumnHeader: HeaderComp,\n            agColumnGroupHeader: HeaderGroupComp,\n            //floating filters\n            agTextColumnFloatingFilter: TextFloatingFilter,\n            agNumberColumnFloatingFilter: NumberFloatingFilter,\n            agDateColumnFloatingFilter: DateFloatingFilter,\n            // renderers\n            agAnimateShowChangeCellRenderer: AnimateShowChangeCellRenderer,\n            agAnimateSlideCellRenderer: AnimateSlideCellRenderer,\n            agGroupCellRenderer: GroupCellRenderer,\n            agGroupRowRenderer: GroupCellRenderer,\n            agLoadingCellRenderer: LoadingCellRenderer,\n            //editors\n            agCellEditor: TextCellEditor,\n            agTextCellEditor: TextCellEditor,\n            agSelectCellEditor: SelectCellEditor,\n            agPopupTextCellEditor: PopupTextCellEditor,\n            agPopupSelectCellEditor: PopupSelectCellEditor,\n            agLargeTextCellEditor: LargeTextCellEditor,\n            //filter\n            agTextColumnFilter: TextFilter,\n            agNumberColumnFilter: NumberFilter,\n            agDateColumnFilter: DateFilter,\n            //overlays\n            agLoadingOverlay: LoadingOverlayComponent,\n            agNoRowsOverlay: NoRowsOverlayComponent,\n            // tooltips\n            agTooltipComponent: TooltipComponent\n        };\n        _this.agDeprecatedNames = {\n            set: {\n                newComponentName: 'agSetColumnFilter',\n                propertyHolder: 'filter'\n            },\n            text: {\n                newComponentName: 'agTextColumnFilter',\n                propertyHolder: 'filter'\n            },\n            number: {\n                newComponentName: 'agNumberColumnFilter',\n                propertyHolder: 'filter'\n            },\n            date: {\n                newComponentName: 'agDateColumnFilter',\n                propertyHolder: 'filter'\n            },\n            group: {\n                newComponentName: 'agGroupCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            animateShowChange: {\n                newComponentName: 'agAnimateShowChangeCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            animateSlide: {\n                newComponentName: 'agAnimateSlideCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            select: {\n                newComponentName: 'agSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            largeText: {\n                newComponentName: 'agLargeTextCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            popupSelect: {\n                newComponentName: 'agPopupSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            popupText: {\n                newComponentName: 'agPopupTextCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            richSelect: {\n                newComponentName: 'agRichSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            headerComponent: {\n                newComponentName: 'agColumnHeader',\n                propertyHolder: 'headerComponent'\n            }\n        };\n        _this.jsComponents = {};\n        _this.frameworkComponents = {};\n        return _this;\n    }\n    UserComponentRegistry.prototype.init = function () {\n        var _this = this;\n        if (this.gridOptions.components != null) {\n            iterateObject(this.gridOptions.components, function (key, component) { return _this.registerComponent(key, component); });\n        }\n        if (this.gridOptions.frameworkComponents != null) {\n            iterateObject(this.gridOptions.frameworkComponents, function (key, component) { return _this.registerFwComponent(key, component); });\n        }\n    };\n    UserComponentRegistry.prototype.registerDefaultComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.agGridDefaults[name]) {\n            console.error(\"Trying to overwrite a default component. You should call registerComponent\");\n            return;\n        }\n        this.agGridDefaults[name] = component;\n    };\n    UserComponentRegistry.prototype.registerComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.frameworkComponents[name]) {\n            console.error(\"Trying to register a component that you have already registered for frameworks: \" + name);\n            return;\n        }\n        this.jsComponents[name] = component;\n    };\n    /**\n     * B the business interface (ie IHeader)\n     * A the agGridComponent interface (ie IHeaderComp). The final object acceptable by ag-grid\n     */\n    UserComponentRegistry.prototype.registerFwComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.jsComponents[name]) {\n            console.error(\"Trying to register a component that you have already registered for plain javascript: \" + name);\n            return;\n        }\n        this.frameworkComponents[name] = component;\n    };\n    /**\n     * B the business interface (ie IHeader)\n     * A the agGridComponent interface (ie IHeaderComp). The final object acceptable by ag-grid\n     */\n    UserComponentRegistry.prototype.retrieve = function (rawName) {\n        var name = this.translateIfDeprecated(rawName);\n        var frameworkComponent = this.frameworkComponents[name];\n        if (frameworkComponent) {\n            return {\n                componentFromFramework: true,\n                component: frameworkComponent,\n                source: RegisteredComponentSource.REGISTERED\n            };\n        }\n        var jsComponent = this.jsComponents[name];\n        if (jsComponent) {\n            return {\n                componentFromFramework: false,\n                component: jsComponent,\n                source: RegisteredComponentSource.REGISTERED\n            };\n        }\n        var defaultComponent = this.agGridDefaults[name];\n        if (defaultComponent) {\n            return {\n                componentFromFramework: false,\n                component: defaultComponent,\n                source: RegisteredComponentSource.DEFAULT\n            };\n        }\n        if (Object.keys(this.agGridDefaults).indexOf(name) < 0) {\n            console.warn(\"ag-Grid: Looking for component [\" + name + \"] but it wasn't found.\");\n        }\n        return null;\n    };\n    UserComponentRegistry.prototype.translateIfDeprecated = function (raw) {\n        var deprecatedInfo = this.agDeprecatedNames[raw];\n        if (deprecatedInfo != null) {\n            doOnce(function () {\n                console.warn(\"ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename \" + deprecatedInfo.propertyHolder + \":\" + raw + \" to \" + deprecatedInfo.propertyHolder + \":\" + deprecatedInfo.newComponentName);\n            }, 'DEPRECATE_COMPONENT_' + raw);\n            return deprecatedInfo.newComponentName;\n        }\n        return raw;\n    };\n    __decorate([\n        Autowired('gridOptions')\n    ], UserComponentRegistry.prototype, \"gridOptions\", void 0);\n    __decorate([\n        PostConstruct\n    ], UserComponentRegistry.prototype, \"init\", null);\n    UserComponentRegistry = __decorate([\n        Bean('userComponentRegistry')\n    ], UserComponentRegistry);\n    return UserComponentRegistry;\n}(BeanStub));\nexport { UserComponentRegistry };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar AgStackComponentsRegistry = /** @class */ (function (_super) {\n    __extends(AgStackComponentsRegistry, _super);\n    function AgStackComponentsRegistry() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.componentsMappedByName = {};\n        return _this;\n    }\n    AgStackComponentsRegistry.prototype.setupComponents = function (components) {\n        var _this = this;\n        if (components) {\n            components.forEach(function (componentMeta) { return _this.addComponent(componentMeta); });\n        }\n    };\n    AgStackComponentsRegistry.prototype.addComponent = function (componentMeta) {\n        // get name of the class as a string\n        // let className = getNameOfClass(ComponentClass);\n        // insert a dash after every capital letter\n        // let classEscaped = className.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n        var classEscaped = componentMeta.componentName.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n        // put all to upper case\n        var classUpperCase = classEscaped.toUpperCase();\n        // finally store\n        this.componentsMappedByName[classUpperCase] = componentMeta.componentClass;\n    };\n    AgStackComponentsRegistry.prototype.getComponentClass = function (htmlTag) {\n        return this.componentsMappedByName[htmlTag];\n    };\n    AgStackComponentsRegistry = __decorate([\n        Bean('agStackComponentsRegistry')\n    ], AgStackComponentsRegistry);\n    return AgStackComponentsRegistry;\n}(BeanStub));\nexport { AgStackComponentsRegistry };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Column } from \"../../entities/column\";\nimport { ColumnGroup } from \"../../entities/columnGroup\";\nimport { Constants } from \"../../constants/constants\";\nimport { Autowired } from \"../../context/context\";\nimport { CssClassApplier } from \"../cssClassApplier\";\nimport { DragAndDropService, DragSourceType } from \"../../dragAndDrop/dragAndDropService\";\nimport { SetLeftFeature } from \"../../rendering/features/setLeftFeature\";\nimport { HoverFeature } from \"../hoverFeature\";\nimport { TooltipFeature } from \"../../widgets/tooltipFeature\";\nimport { AbstractHeaderWrapper } from \"../header/abstractHeaderWrapper\";\nimport { OriginalColumnGroup } from \"../../entities/originalColumnGroup\";\nimport { setAriaExpanded } from \"../../utils/aria\";\nimport { removeFromArray } from \"../../utils/array\";\nimport { removeFromParent, addCssClass, removeCssClass, addOrRemoveCssClass } from \"../../utils/dom\";\nimport { KeyCode } from '../../constants/keyCode';\nvar HeaderGroupWrapperComp = /** @class */ (function (_super) {\n    __extends(HeaderGroupWrapperComp, _super);\n    function HeaderGroupWrapperComp(columnGroup, dragSourceDropTarget, pinned) {\n        var _this = _super.call(this, HeaderGroupWrapperComp.TEMPLATE) || this;\n        // the children can change, we keep destroy functions related to listening to the children here\n        _this.removeChildListenersFuncs = [];\n        _this.column = columnGroup;\n        _this.dragSourceDropTarget = dragSourceDropTarget;\n        _this.pinned = pinned;\n        return _this;\n    }\n    HeaderGroupWrapperComp.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        CssClassApplier.addHeaderClassesFromColDef(this.getComponentHolder(), this.getGui(), this.gridOptionsWrapper, null, this.column);\n        var displayName = this.columnController.getDisplayNameForColumnGroup(this.column, 'header');\n        this.appendHeaderGroupComp(displayName);\n        this.setupResize();\n        this.addClasses();\n        this.setupWidth();\n        this.addAttributes();\n        this.setupMovingCss();\n        this.setupTooltip();\n        this.setupExpandable();\n        this.createManagedBean(new HoverFeature(this.column.getOriginalColumnGroup().getLeafColumns(), this.getGui()));\n        this.createManagedBean(new SetLeftFeature(this.column, this.getGui(), this.beans));\n    };\n    HeaderGroupWrapperComp.prototype.onFocusIn = function (e) {\n        if (!this.getGui().contains(e.relatedTarget)) {\n            var headerRow = this.getParentComponent();\n            this.beans.focusController.setFocusedHeader(headerRow.getRowIndex(), this.getColumn());\n        }\n    };\n    HeaderGroupWrapperComp.prototype.handleKeyDown = function (e) {\n        var activeEl = document.activeElement;\n        var eGui = this.getGui();\n        var wrapperHasFocus = activeEl === eGui;\n        if (!this.expandable || !wrapperHasFocus) {\n            return;\n        }\n        if (e.keyCode === KeyCode.ENTER) {\n            var column = this.getColumn();\n            var newExpandedValue = !column.isExpanded();\n            this.columnController.setColumnGroupOpened(column.getOriginalColumnGroup(), newExpandedValue, \"uiColumnExpanded\");\n        }\n    };\n    HeaderGroupWrapperComp.prototype.onTabKeyDown = function () { };\n    HeaderGroupWrapperComp.prototype.setupExpandable = function () {\n        var column = this.getColumn();\n        var originalColumnGroup = column.getOriginalColumnGroup();\n        this.refreshExpanded();\n        this.addManagedListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED, this.refreshExpanded.bind(this));\n        this.addManagedListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDED_CHANGED, this.refreshExpanded.bind(this));\n    };\n    HeaderGroupWrapperComp.prototype.refreshExpanded = function () {\n        var column = this.getColumn();\n        var eGui = this.getGui();\n        var expandable = column.isExpandable();\n        var expanded = column.isExpanded();\n        this.expandable = expandable;\n        if (!expandable) {\n            eGui.removeAttribute('aria-expanded');\n        }\n        else {\n            setAriaExpanded(eGui, expanded);\n        }\n    };\n    HeaderGroupWrapperComp.prototype.setupMovingCss = function () {\n        var _this = this;\n        var originalColumnGroup = this.column.getOriginalColumnGroup();\n        var leafColumns = originalColumnGroup.getLeafColumns();\n        leafColumns.forEach(function (col) {\n            _this.addManagedListener(col, Column.EVENT_MOVING_CHANGED, _this.onColumnMovingChanged.bind(_this));\n        });\n        this.onColumnMovingChanged();\n    };\n    HeaderGroupWrapperComp.prototype.getComponentHolder = function () {\n        return this.column.getColGroupDef();\n    };\n    HeaderGroupWrapperComp.prototype.getTooltipText = function () {\n        var colGroupDef = this.getComponentHolder();\n        return colGroupDef && colGroupDef.headerTooltip;\n    };\n    HeaderGroupWrapperComp.prototype.setupTooltip = function () {\n        var tooltipText = this.getTooltipText();\n        if (tooltipText == null) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            this.getGui().setAttribute('title', tooltipText);\n        }\n        else {\n            this.createManagedBean(new TooltipFeature(this, 'headerGroup'));\n        }\n    };\n    HeaderGroupWrapperComp.prototype.onColumnMovingChanged = function () {\n        // this function adds or removes the moving css, based on if the col is moving.\n        // this is what makes the header go dark when it is been moved (gives impression to\n        // user that the column was picked up).\n        addOrRemoveCssClass(this.getGui(), 'ag-header-cell-moving', this.column.isMoving());\n    };\n    HeaderGroupWrapperComp.prototype.addAttributes = function () {\n        this.getGui().setAttribute(\"col-id\", this.column.getUniqueId());\n    };\n    HeaderGroupWrapperComp.prototype.appendHeaderGroupComp = function (displayName) {\n        var _this = this;\n        var params = {\n            displayName: displayName,\n            columnGroup: this.column,\n            setExpanded: function (expanded) {\n                _this.columnController.setColumnGroupOpened(_this.column.getOriginalColumnGroup(), expanded, \"gridInitializing\");\n            },\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        if (!displayName) {\n            var columnGroup = this.column;\n            var leafCols = columnGroup.getLeafColumns();\n            // find the top most column group that represents the same columns. so if we are dragging a group, we also\n            // want to visually show the parent groups dragging for the same column set. for example imaging 5 levels\n            // of grouping, with each group only containing the next group, and the last group containing three columns,\n            // then when you move any group (even the lowest level group) you are in-fact moving all the groups, as all\n            // the groups represent the same column set.\n            while (columnGroup.getParent() && columnGroup.getParent().getLeafColumns().length === leafCols.length) {\n                columnGroup = columnGroup.getParent();\n            }\n            var colGroupDef = columnGroup.getColGroupDef();\n            if (colGroupDef) {\n                displayName = colGroupDef.headerName;\n            }\n            if (!displayName) {\n                displayName = leafCols ? this.columnController.getDisplayNameForColumn(leafCols[0], 'header', true) : '';\n            }\n        }\n        var callback = this.afterHeaderCompCreated.bind(this, displayName);\n        this.userComponentFactory.newHeaderGroupComponent(params).then(callback);\n    };\n    HeaderGroupWrapperComp.prototype.afterHeaderCompCreated = function (displayName, headerGroupComp) {\n        var _this = this;\n        this.getGui().appendChild(headerGroupComp.getGui());\n        this.addDestroyFunc(function () {\n            _this.getContext().destroyBean(headerGroupComp);\n        });\n        this.setupMove(headerGroupComp.getGui(), displayName);\n    };\n    HeaderGroupWrapperComp.prototype.addClasses = function () {\n        // having different classes below allows the style to not have a bottom border\n        // on the group header, if no group is specified\n        // columnGroup.getColGroupDef\n        var style = this.column.isPadding() ? 'no' : 'with';\n        this.addCssClass(\"ag-header-group-cell-\" + style + \"-group\");\n    };\n    HeaderGroupWrapperComp.prototype.setupMove = function (eHeaderGroup, displayName) {\n        var _this = this;\n        if (!eHeaderGroup) {\n            return;\n        }\n        if (this.isSuppressMoving()) {\n            return;\n        }\n        var allLeafColumns = this.column.getOriginalColumnGroup().getLeafColumns();\n        var dragSource = {\n            type: DragSourceType.HeaderCell,\n            eElement: eHeaderGroup,\n            defaultIconName: DragAndDropService.ICON_HIDE,\n            dragItemName: displayName,\n            // we add in the original group leaf columns, so we move both visible and non-visible items\n            getDragItem: this.getDragItemForGroup.bind(this),\n            dragSourceDropTarget: this.dragSourceDropTarget,\n            onDragStarted: function () { return allLeafColumns.forEach(function (col) { return col.setMoving(true, \"uiColumnDragged\"); }); },\n            onDragStopped: function () { return allLeafColumns.forEach(function (col) { return col.setMoving(false, \"uiColumnDragged\"); }); }\n        };\n        this.dragAndDropService.addDragSource(dragSource, true);\n        this.addDestroyFunc(function () { return _this.dragAndDropService.removeDragSource(dragSource); });\n    };\n    // when moving the columns, we want to move all the columns (contained within the DragItem) in this group in one go,\n    // and in the order they are currently in the screen.\n    HeaderGroupWrapperComp.prototype.getDragItemForGroup = function () {\n        var allColumnsOriginalOrder = this.column.getOriginalColumnGroup().getLeafColumns();\n        // capture visible state, used when re-entering grid to dictate which columns should be visible\n        var visibleState = {};\n        allColumnsOriginalOrder.forEach(function (column) { return visibleState[column.getId()] = column.isVisible(); });\n        var allColumnsCurrentOrder = [];\n        this.columnController.getAllDisplayedColumns().forEach(function (column) {\n            if (allColumnsOriginalOrder.indexOf(column) >= 0) {\n                allColumnsCurrentOrder.push(column);\n                removeFromArray(allColumnsOriginalOrder, column);\n            }\n        });\n        // we are left with non-visible columns, stick these in at the end\n        allColumnsOriginalOrder.forEach(function (column) { return allColumnsCurrentOrder.push(column); });\n        // create and return dragItem\n        return {\n            columns: allColumnsCurrentOrder,\n            visibleState: visibleState\n        };\n    };\n    HeaderGroupWrapperComp.prototype.isSuppressMoving = function () {\n        // if any child is fixed, then don't allow moving\n        var childSuppressesMoving = false;\n        this.column.getLeafColumns().forEach(function (column) {\n            if (column.getColDef().suppressMovable || column.getColDef().lockPosition) {\n                childSuppressesMoving = true;\n            }\n        });\n        var result = childSuppressesMoving || this.gridOptionsWrapper.isSuppressMovableColumns();\n        return result;\n    };\n    HeaderGroupWrapperComp.prototype.setupWidth = function () {\n        // we need to listen to changes in child columns, as they impact our width\n        this.addListenersToChildrenColumns();\n        // the children belonging to this group can change, so we need to add and remove listeners as they change\n        this.addManagedListener(this.column, ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED, this.onDisplayedChildrenChanged.bind(this));\n        this.onWidthChanged();\n        // the child listeners are not tied to this components life-cycle, as children can get added and removed\n        // to the group - hence they are on a different life-cycle. so we must make sure the existing children\n        // listeners are removed when we finally get destroyed\n        this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this));\n    };\n    HeaderGroupWrapperComp.prototype.onDisplayedChildrenChanged = function () {\n        this.addListenersToChildrenColumns();\n        this.onWidthChanged();\n    };\n    HeaderGroupWrapperComp.prototype.addListenersToChildrenColumns = function () {\n        var _this = this;\n        // first destroy any old listeners\n        this.removeListenersOnChildrenColumns();\n        // now add new listeners to the new set of children\n        var widthChangedListener = this.onWidthChanged.bind(this);\n        this.column.getLeafColumns().forEach(function (column) {\n            column.addEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n            column.addEventListener(Column.EVENT_VISIBLE_CHANGED, widthChangedListener);\n            _this.removeChildListenersFuncs.push(function () {\n                column.removeEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n                column.removeEventListener(Column.EVENT_VISIBLE_CHANGED, widthChangedListener);\n            });\n        });\n    };\n    HeaderGroupWrapperComp.prototype.removeListenersOnChildrenColumns = function () {\n        this.removeChildListenersFuncs.forEach(function (func) { return func(); });\n        this.removeChildListenersFuncs = [];\n    };\n    HeaderGroupWrapperComp.prototype.onWidthChanged = function () {\n        this.getGui().style.width = this.column.getActualWidth() + 'px';\n    };\n    HeaderGroupWrapperComp.prototype.setupResize = function () {\n        var _this = this;\n        this.eHeaderCellResize = this.getRefElement('agResize');\n        if (!this.column.isResizable()) {\n            removeFromParent(this.eHeaderCellResize);\n            return;\n        }\n        var finishedWithResizeFunc = this.horizontalResizeService.addResizeBar({\n            eResizeBar: this.eHeaderCellResize,\n            onResizeStart: this.onResizeStart.bind(this),\n            onResizing: this.onResizing.bind(this, false),\n            onResizeEnd: this.onResizing.bind(this, true)\n        });\n        this.addDestroyFunc(finishedWithResizeFunc);\n        if (!this.gridOptionsWrapper.isSuppressAutoSize()) {\n            var skipHeaderOnAutoSize_1 = this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n            this.eHeaderCellResize.addEventListener('dblclick', function (event) {\n                // get list of all the column keys we are responsible for\n                var keys = [];\n                _this.column.getDisplayedLeafColumns().forEach(function (column) {\n                    // not all cols in the group may be participating with auto-resize\n                    if (!column.getColDef().suppressAutoSize) {\n                        keys.push(column.getColId());\n                    }\n                });\n                if (keys.length > 0) {\n                    _this.columnController.autoSizeColumns(keys, skipHeaderOnAutoSize_1, \"uiColumnResized\");\n                }\n            });\n        }\n    };\n    HeaderGroupWrapperComp.prototype.onResizeStart = function (shiftKey) {\n        var _this = this;\n        var leafCols = this.column.getDisplayedLeafColumns();\n        this.resizeCols = leafCols.filter(function (col) { return col.isResizable(); });\n        this.resizeStartWidth = 0;\n        this.resizeCols.forEach(function (col) { return _this.resizeStartWidth += col.getActualWidth(); });\n        this.resizeRatios = [];\n        this.resizeCols.forEach(function (col) { return _this.resizeRatios.push(col.getActualWidth() / _this.resizeStartWidth); });\n        var takeFromGroup = null;\n        if (shiftKey) {\n            takeFromGroup = this.columnController.getDisplayedGroupAfter(this.column);\n        }\n        if (takeFromGroup) {\n            var takeFromLeafCols = takeFromGroup.getDisplayedLeafColumns();\n            this.resizeTakeFromCols = takeFromLeafCols.filter(function (col) { return col.isResizable(); });\n            this.resizeTakeFromStartWidth = 0;\n            this.resizeTakeFromCols.forEach(function (col) { return _this.resizeTakeFromStartWidth += col.getActualWidth(); });\n            this.resizeTakeFromRatios = [];\n            this.resizeTakeFromCols.forEach(function (col) { return _this.resizeTakeFromRatios.push(col.getActualWidth() / _this.resizeTakeFromStartWidth); });\n        }\n        else {\n            this.resizeTakeFromCols = null;\n            this.resizeTakeFromStartWidth = null;\n            this.resizeTakeFromRatios = null;\n        }\n        addCssClass(this.getGui(), 'ag-column-resizing');\n    };\n    HeaderGroupWrapperComp.prototype.onResizing = function (finished, resizeAmount) {\n        var resizeSets = [];\n        var resizeAmountNormalised = this.normaliseDragChange(resizeAmount);\n        resizeSets.push({\n            columns: this.resizeCols,\n            ratios: this.resizeRatios,\n            width: this.resizeStartWidth + resizeAmountNormalised\n        });\n        if (this.resizeTakeFromCols) {\n            resizeSets.push({\n                columns: this.resizeTakeFromCols,\n                ratios: this.resizeTakeFromRatios,\n                width: this.resizeTakeFromStartWidth - resizeAmountNormalised\n            });\n        }\n        this.columnController.resizeColumnSets(resizeSets, finished, 'uiColumnDragged');\n        if (finished) {\n            removeCssClass(this.getGui(), 'ag-column-resizing');\n        }\n    };\n    // optionally inverts the drag, depending on pinned and RTL\n    // note - this method is duplicated in RenderedHeaderCell - should refactor out?\n    HeaderGroupWrapperComp.prototype.normaliseDragChange = function (dragChange) {\n        var result = dragChange;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, dragging left makes the col bigger, except when pinning left\n            if (this.pinned !== Constants.PINNED_LEFT) {\n                result *= -1;\n            }\n        }\n        else if (this.pinned === Constants.PINNED_RIGHT) {\n            // for LTR (ie normal), dragging left makes the col smaller, except when pinning right\n            result *= -1;\n        }\n        return result;\n    };\n    HeaderGroupWrapperComp.TEMPLATE = \"<div class=\\\"ag-header-group-cell\\\" role=\\\"columnheader\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"agResize\\\" class=\\\"ag-header-cell-resize\\\" role=\\\"presentation\\\"></div>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderGroupWrapperComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], HeaderGroupWrapperComp.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('horizontalResizeService')\n    ], HeaderGroupWrapperComp.prototype, \"horizontalResizeService\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], HeaderGroupWrapperComp.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], HeaderGroupWrapperComp.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        Autowired('beans')\n    ], HeaderGroupWrapperComp.prototype, \"beans\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], HeaderGroupWrapperComp.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], HeaderGroupWrapperComp.prototype, \"columnApi\", void 0);\n    return HeaderGroupWrapperComp;\n}(AbstractHeaderWrapper));\nexport { HeaderGroupWrapperComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired } from './context/context';\nimport { BeanStub } from \"./context/beanStub\";\nimport { addCssClass } from './utils/dom';\nimport { doOnce } from './utils/function';\nvar MAT_GRID_SIZE = 8;\nvar BASE_GRID_SIZE = 4;\nvar BALHAM_GRID_SIZE = 4;\nvar ALPINE_GRID_SIZE = 6;\nvar HARD_CODED_SIZES = {\n    // this item is required for custom themes\n    'ag-theme-custom': {\n        headerHeight: 25,\n        headerCellMinWidth: 24,\n        listItemHeight: BASE_GRID_SIZE * 5,\n        rowHeight: 25,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-material': {\n        headerHeight: MAT_GRID_SIZE * 7,\n        headerCellMinWidth: 48,\n        listItemHeight: MAT_GRID_SIZE * 5,\n        rowHeight: MAT_GRID_SIZE * 6,\n        chartMenuPanelWidth: 240\n    },\n    'ag-theme-balham': {\n        headerHeight: BALHAM_GRID_SIZE * 8,\n        headerCellMinWidth: 24,\n        listItemHeight: BALHAM_GRID_SIZE * 7,\n        rowHeight: BALHAM_GRID_SIZE * 7,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-alpine': {\n        headerHeight: ALPINE_GRID_SIZE * 8,\n        headerCellMinWidth: 36,\n        listItemHeight: ALPINE_GRID_SIZE * 5,\n        rowHeight: ALPINE_GRID_SIZE * 7,\n        chartMenuPanelWidth: 240\n    }\n};\n/**\n * this object contains a list of Sass variables and an array\n * of CSS styles required to get the correct value.\n * eg. $virtual-item-height requires a structure, so we can get its height.\n * <div class=\"ag-theme-balham\">\n *     <div class=\"ag-virtual-list-container\">\n *         <div class=\"ag-virtual-list-item\"></div>\n *     </div>\n * </div>\n */\nvar SASS_PROPERTY_BUILDER = {\n    headerHeight: ['ag-header-row'],\n    headerCellMinWidth: ['ag-header-cell'],\n    listItemHeight: ['ag-virtual-list-item'],\n    rowHeight: ['ag-row'],\n    chartMenuPanelWidth: ['ag-chart-docked-container']\n};\nvar CALCULATED_SIZES = {};\nvar Environment = /** @class */ (function (_super) {\n    __extends(Environment, _super);\n    function Environment() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Environment.prototype.getSassVariable = function (theme, key) {\n        var useTheme = 'ag-theme-' + (theme.match('material') ? 'material' : theme.match('balham') ? 'balham' : theme.match('alpine') ? 'alpine' : 'custom');\n        var defaultValue = HARD_CODED_SIZES[useTheme][key];\n        var calculatedValue = 0;\n        if (!CALCULATED_SIZES[theme]) {\n            CALCULATED_SIZES[theme] = {};\n        }\n        if (CALCULATED_SIZES[theme][key]) {\n            return CALCULATED_SIZES[theme][key];\n        }\n        if (SASS_PROPERTY_BUILDER[key]) {\n            var classList = SASS_PROPERTY_BUILDER[key];\n            var div = document.createElement('div');\n            div.style.position = 'absolute';\n            var el = classList.reduce(function (el, currentClass, idx) {\n                if (idx === 0) {\n                    addCssClass(el, theme);\n                }\n                var div = document.createElement('div');\n                div.style.position = 'static';\n                addCssClass(div, currentClass);\n                el.appendChild(div);\n                return div;\n            }, div);\n            if (document.body) {\n                document.body.appendChild(div);\n                var sizeName = key.toLowerCase().indexOf('height') !== -1 ? 'height' : 'width';\n                calculatedValue = parseInt(window.getComputedStyle(el)[sizeName], 10);\n                document.body.removeChild(div);\n            }\n        }\n        CALCULATED_SIZES[theme][key] = calculatedValue || defaultValue;\n        return CALCULATED_SIZES[theme][key];\n    };\n    Environment.prototype.isThemeDark = function () {\n        var theme = this.getTheme().theme;\n        return !!theme && theme.indexOf('dark') >= 0;\n    };\n    Environment.prototype.chartMenuPanelWidth = function () {\n        var theme = this.getTheme().themeFamily;\n        return this.getSassVariable(theme, 'chartMenuPanelWidth');\n    };\n    Environment.prototype.getTheme = function () {\n        var reg = /\\bag-(material|(?:theme-([\\w\\-]*)))\\b/;\n        var el = this.eGridDiv;\n        var themeMatch;\n        while (el) {\n            themeMatch = reg.exec(el.className);\n            if (!themeMatch) {\n                el = el.parentElement;\n            }\n            else {\n                break;\n            }\n        }\n        if (!themeMatch) {\n            return {};\n        }\n        var theme = themeMatch[0];\n        var usingOldTheme = themeMatch[2] === undefined;\n        if (usingOldTheme) {\n            var newTheme_1 = theme.replace('ag-', 'ag-theme-');\n            doOnce(function () { return console.warn(\"ag-Grid: As of v19 old theme are no longer provided. Please replace \" + theme + \" with \" + newTheme_1 + \".\"); }, 'using-old-theme');\n        }\n        return { theme: theme, el: el, themeFamily: theme.replace(/-dark$/, '') };\n    };\n    __decorate([\n        Autowired('eGridDiv')\n    ], Environment.prototype, \"eGridDiv\", void 0);\n    Environment = __decorate([\n        Bean('environment')\n    ], Environment);\n    return Environment;\n}(BeanStub));\nexport { Environment };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { EventService } from \"../eventService\";\nimport { areEventsNear } from \"../utils/mouse\";\nvar TouchListener = /** @class */ (function () {\n    function TouchListener(eElement, preventMouseClick) {\n        var _this = this;\n        if (preventMouseClick === void 0) { preventMouseClick = false; }\n        this.destroyFuncs = [];\n        this.touching = false;\n        this.eventService = new EventService();\n        this.eElement = eElement;\n        this.preventMouseClick = preventMouseClick;\n        var startListener = this.onTouchStart.bind(this);\n        var moveListener = this.onTouchMove.bind(this);\n        var endListener = this.onTouchEnd.bind(this);\n        this.eElement.addEventListener(\"touchstart\", startListener, { passive: true });\n        this.eElement.addEventListener(\"touchmove\", moveListener, { passive: true });\n        // we set passive=false, as we want to prevent default on this event\n        this.eElement.addEventListener(\"touchend\", endListener, { passive: false });\n        this.destroyFuncs.push(function () {\n            _this.eElement.removeEventListener(\"touchstart\", startListener, { passive: true });\n            _this.eElement.removeEventListener(\"touchmove\", moveListener, { passive: true });\n            _this.eElement.removeEventListener(\"touchend\", endListener, { passive: false });\n        });\n    }\n    TouchListener.prototype.getActiveTouch = function (touchList) {\n        for (var i = 0; i < touchList.length; i++) {\n            var matches = touchList[i].identifier === this.touchStart.identifier;\n            if (matches) {\n                return touchList[i];\n            }\n        }\n        return null;\n    };\n    TouchListener.prototype.addEventListener = function (eventType, listener) {\n        this.eventService.addEventListener(eventType, listener);\n    };\n    TouchListener.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    TouchListener.prototype.onTouchStart = function (touchEvent) {\n        var _this = this;\n        // only looking at one touch point at any time\n        if (this.touching) {\n            return;\n        }\n        this.touchStart = touchEvent.touches[0];\n        this.touching = true;\n        this.moved = false;\n        var touchStartCopy = this.touchStart;\n        window.setTimeout(function () {\n            var touchesMatch = _this.touchStart === touchStartCopy;\n            if (_this.touching && touchesMatch && !_this.moved) {\n                _this.moved = true;\n                var event_1 = {\n                    type: TouchListener.EVENT_LONG_TAP,\n                    touchStart: _this.touchStart,\n                    touchEvent: touchEvent\n                };\n                _this.eventService.dispatchEvent(event_1);\n            }\n        }, 500);\n    };\n    TouchListener.prototype.onTouchMove = function (touchEvent) {\n        if (!this.touching) {\n            return;\n        }\n        var touch = this.getActiveTouch(touchEvent.touches);\n        if (!touch) {\n            return;\n        }\n        var eventIsFarAway = !areEventsNear(touch, this.touchStart, 4);\n        if (eventIsFarAway) {\n            this.moved = true;\n        }\n    };\n    TouchListener.prototype.onTouchEnd = function (touchEvent) {\n        if (!this.touching) {\n            return;\n        }\n        if (!this.moved) {\n            var event_2 = {\n                type: TouchListener.EVENT_TAP,\n                touchStart: this.touchStart\n            };\n            this.eventService.dispatchEvent(event_2);\n            this.checkForDoubleTap();\n        }\n        // stops the tap from also been processed as a mouse click\n        if (this.preventMouseClick) {\n            touchEvent.preventDefault();\n        }\n        this.touching = false;\n    };\n    TouchListener.prototype.checkForDoubleTap = function () {\n        var now = new Date().getTime();\n        if (this.lastTapTime && this.lastTapTime > 0) {\n            // if previous tap, see if duration is short enough to be considered double tap\n            var interval = now - this.lastTapTime;\n            if (interval > TouchListener.DOUBLE_TAP_MILLIS) {\n                // dispatch double tap event\n                var event_3 = {\n                    type: TouchListener.EVENT_DOUBLE_TAP,\n                    touchStart: this.touchStart\n                };\n                this.eventService.dispatchEvent(event_3);\n                // this stops a tripple tap ending up as two double taps\n                this.lastTapTime = null;\n            }\n            else {\n                this.lastTapTime = now;\n            }\n        }\n        else {\n            this.lastTapTime = now;\n        }\n    };\n    TouchListener.prototype.destroy = function () {\n        this.destroyFuncs.forEach(function (func) { return func(); });\n    };\n    TouchListener.EVENT_TAP = \"tap\";\n    TouchListener.EVENT_DOUBLE_TAP = \"doubleTap\";\n    TouchListener.EVENT_LONG_TAP = \"longTap\";\n    TouchListener.DOUBLE_TAP_MILLIS = 500;\n    return TouchListener;\n}());\nexport { TouchListener };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { SimpleFilter, ConditionPosition } from '../simpleFilter';\nimport { ScalarFilter } from '../scalarFilter';\nimport { makeNull } from '../../../utils/generic';\nimport { setDisplayed } from '../../../utils/dom';\nvar NumberFilter = /** @class */ (function (_super) {\n    __extends(NumberFilter, _super);\n    function NumberFilter() {\n        return _super.call(this, 'numberFilter') || this;\n    }\n    NumberFilter.prototype.mapRangeFromModel = function (filterModel) {\n        return {\n            from: filterModel.filter,\n            to: filterModel.filterTo\n        };\n    };\n    NumberFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    NumberFilter.prototype.resetUiToDefaults = function (silent) {\n        var _this = this;\n        return _super.prototype.resetUiToDefaults.call(this, silent).then(function () {\n            var fields = [_this.eValueFrom1, _this.eValueFrom2, _this.eValueTo1, _this.eValueTo2];\n            fields.forEach(function (field) { return field.setValue(null, silent); });\n            _this.resetPlaceholder();\n        });\n    };\n    NumberFilter.prototype.setConditionIntoUi = function (model, position) {\n        var positionOne = position === ConditionPosition.One;\n        var eValueFrom = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n        eValueFrom.setValue(model ? ('' + model.filter) : null);\n        eValueTo.setValue(model ? ('' + model.filterTo) : null);\n    };\n    NumberFilter.prototype.setValueFromFloatingFilter = function (value) {\n        this.eValueFrom1.setValue(value);\n        this.eValueTo1.setValue(null);\n        this.eValueFrom2.setValue(null);\n        this.eValueTo2.setValue(null);\n    };\n    NumberFilter.prototype.comparator = function () {\n        return function (left, right) {\n            if (left === right) {\n                return 0;\n            }\n            return left < right ? 1 : -1;\n        };\n    };\n    NumberFilter.prototype.setParams = function (params) {\n        this.numberFilterParams = params;\n        var allowedCharPattern = params.allowedCharPattern;\n        if (allowedCharPattern) {\n            var config = { allowedCharPattern: allowedCharPattern };\n            this.resetTemplate({\n                eValueFrom1: config,\n                eValueTo1: config,\n                eValueFrom2: config,\n                eValueTo2: config,\n            });\n        }\n        _super.prototype.setParams.call(this, params);\n        this.addValueChangedListeners();\n    };\n    NumberFilter.prototype.addValueChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eValueFrom1.onValueChange(listener);\n        this.eValueTo1.onValueChange(listener);\n        this.eValueFrom2.onValueChange(listener);\n        this.eValueTo2.onValueChange(listener);\n    };\n    NumberFilter.prototype.resetPlaceholder = function () {\n        var isRange1 = this.showValueTo(this.getCondition1Type());\n        var isRange2 = this.showValueTo(this.getCondition2Type());\n        this.eValueFrom1.setInputPlaceholder(this.translate(isRange1 ? 'inRangeStart' : 'filterOoo'));\n        this.eValueFrom1.setInputAriaLabel(isRange1 ? 'Filter from value' : 'Filter value');\n        this.eValueTo1.setInputPlaceholder(this.translate('inRangeEnd'));\n        this.eValueTo1.setInputAriaLabel('Filter to value');\n        this.eValueFrom2.setInputPlaceholder(this.translate(isRange2 ? 'inRangeStart' : 'filterOoo'));\n        this.eValueFrom2.setInputAriaLabel(isRange2 ? 'Filter from value' : 'Filter value');\n        this.eValueTo2.setInputPlaceholder(this.translate('inRangeEnd'));\n        this.eValueTo2.setInputAriaLabel('Filter to value');\n    };\n    NumberFilter.prototype.afterGuiAttached = function (params) {\n        _super.prototype.afterGuiAttached.call(this, params);\n        this.resetPlaceholder();\n        if (!params || !params.suppressFocus) {\n            this.eValueFrom1.getInputElement().focus();\n        }\n    };\n    NumberFilter.prototype.getDefaultFilterOptions = function () {\n        return NumberFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    NumberFilter.prototype.createValueTemplate = function (position) {\n        var pos = position === ConditionPosition.One ? '1' : '2';\n        var allowedCharPattern = (this.numberFilterParams || {}).allowedCharPattern;\n        var agElementTag = allowedCharPattern ? 'ag-input-text-field' : 'ag-input-number-field';\n        return /* html */ \"\\n            <div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\" role=\\\"presentation\\\">\\n                <\" + agElementTag + \" class=\\\"ag-filter-from ag-filter-filter\\\" ref=\\\"eValueFrom\" + pos + \"\\\"></\" + agElementTag + \">\\n                <\" + agElementTag + \" class=\\\"ag-filter-to ag-filter-filter\\\" ref=\\\"eValueTo\" + pos + \"\\\"></\" + agElementTag + \">\\n            </div>\";\n    };\n    NumberFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        var eValue = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n        var value = this.stringToFloat(eValue.getValue());\n        return value != null && (!this.showValueTo(option) || this.stringToFloat(eValueTo.getValue()) != null);\n    };\n    NumberFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.filter === bSimple.filter\n            && aSimple.filterTo === bSimple.filterTo\n            && aSimple.type === bSimple.type;\n    };\n    NumberFilter.prototype.getFilterType = function () {\n        return 'number';\n    };\n    NumberFilter.prototype.stringToFloat = function (value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        var filterText = makeNull(value);\n        if (filterText != null && filterText.trim() === '') {\n            filterText = null;\n        }\n        if (this.numberFilterParams.numberParser) {\n            return this.numberFilterParams.numberParser(filterText);\n        }\n        return filterText == null || filterText.trim() === '-' ? null : parseFloat(filterText);\n    };\n    NumberFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var eValue = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var value = this.stringToFloat(eValue.getValue());\n        var model = {\n            filterType: this.getFilterType(),\n            type: type\n        };\n        if (!this.doesFilterHaveHiddenInput(type)) {\n            model.filter = value;\n            if (this.showValueTo(type)) {\n                var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n                var valueTo = this.stringToFloat(eValueTo.getValue());\n                model.filterTo = valueTo;\n            }\n        }\n        return model;\n    };\n    NumberFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        this.resetPlaceholder();\n        var condition1Type = this.getCondition1Type();\n        var condition2Type = this.getCondition2Type();\n        setDisplayed(this.eValueFrom1.getGui(), this.showValueFrom(condition1Type));\n        setDisplayed(this.eValueTo1.getGui(), this.showValueTo(condition1Type));\n        setDisplayed(this.eValueFrom2.getGui(), this.showValueFrom(condition2Type));\n        setDisplayed(this.eValueTo2.getGui(), this.showValueTo(condition2Type));\n    };\n    NumberFilter.DEFAULT_FILTER_OPTIONS = [\n        ScalarFilter.EQUALS,\n        ScalarFilter.NOT_EQUAL,\n        ScalarFilter.LESS_THAN,\n        ScalarFilter.LESS_THAN_OR_EQUAL,\n        ScalarFilter.GREATER_THAN,\n        ScalarFilter.GREATER_THAN_OR_EQUAL,\n        ScalarFilter.IN_RANGE\n    ];\n    __decorate([\n        RefSelector('eValueFrom1')\n    ], NumberFilter.prototype, \"eValueFrom1\", void 0);\n    __decorate([\n        RefSelector('eValueTo1')\n    ], NumberFilter.prototype, \"eValueTo1\", void 0);\n    __decorate([\n        RefSelector('eValueFrom2')\n    ], NumberFilter.prototype, \"eValueFrom2\", void 0);\n    __decorate([\n        RefSelector('eValueTo2')\n    ], NumberFilter.prototype, \"eValueTo2\", void 0);\n    return NumberFilter;\n}(ScalarFilter));\nexport { NumberFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from './componentAnnotations';\nimport { AgAbstractField } from './agAbstractField';\nimport { setDisabled, setElementWidth, addCssClass, addOrRemoveAttribute } from '../utils/dom';\nimport { setAriaLabelledBy, setAriaLabel } from '../utils/aria';\nimport { exists } from '../utils/generic';\nvar AgAbstractInputField = /** @class */ (function (_super) {\n    __extends(AgAbstractInputField, _super);\n    function AgAbstractInputField(config, className, inputType, displayFieldTag) {\n        if (inputType === void 0) { inputType = 'text'; }\n        if (displayFieldTag === void 0) { displayFieldTag = 'input'; }\n        var _this = _super.call(this, config, /* html */ \"\\n            <div role=\\\"presentation\\\">\\n                <div ref=\\\"eLabel\\\" class=\\\"ag-input-field-label\\\"></div>\\n                <div ref=\\\"eWrapper\\\" class=\\\"ag-wrapper ag-input-wrapper\\\" role=\\\"presentation\\\">\\n                    <\" + displayFieldTag + \" ref=\\\"eInput\\\" class=\\\"ag-input-field-input\\\"></\" + displayFieldTag + \">\\n                </div>\\n            </div>\", className) || this;\n        _this.inputType = inputType;\n        return _this;\n    }\n    AgAbstractInputField.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        this.setInputType();\n        addCssClass(this.eLabel, this.className + \"-label\");\n        addCssClass(this.eWrapper, this.className + \"-input-wrapper\");\n        addCssClass(this.eInput, this.className + \"-input\");\n        addCssClass(this.getGui(), 'ag-input-field');\n        this.eInput.id = this.eInput.id || \"ag-\" + this.getCompId() + \"-input\";\n        var _a = this.config, width = _a.width, value = _a.value;\n        if (width != null) {\n            this.setWidth(width);\n        }\n        if (value != null) {\n            this.setValue(value);\n        }\n        this.addInputListeners();\n    };\n    AgAbstractInputField.prototype.refreshLabel = function () {\n        if (exists(this.getLabel())) {\n            setAriaLabelledBy(this.eInput, this.getLabelId());\n        }\n        else {\n            this.eInput.removeAttribute('aria-labelledby');\n        }\n        _super.prototype.refreshLabel.call(this);\n    };\n    AgAbstractInputField.prototype.addInputListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eInput, 'input', function (e) { return _this.setValue(e.target.value); });\n    };\n    AgAbstractInputField.prototype.setInputType = function () {\n        if (this.inputType) {\n            this.eInput.setAttribute('type', this.inputType);\n        }\n    };\n    AgAbstractInputField.prototype.getInputElement = function () {\n        return this.eInput;\n    };\n    AgAbstractInputField.prototype.setInputWidth = function (width) {\n        setElementWidth(this.eWrapper, width);\n        return this;\n    };\n    AgAbstractInputField.prototype.setInputName = function (name) {\n        this.getInputElement().setAttribute('name', name);\n        return this;\n    };\n    AgAbstractInputField.prototype.getFocusableElement = function () {\n        return this.eInput;\n    };\n    AgAbstractInputField.prototype.setMaxLength = function (length) {\n        var eInput = this.eInput;\n        eInput.maxLength = length;\n        return this;\n    };\n    AgAbstractInputField.prototype.setInputPlaceholder = function (placeholder) {\n        addOrRemoveAttribute(this.eInput, 'placeholder', placeholder);\n        return this;\n    };\n    AgAbstractInputField.prototype.setInputAriaLabel = function (label) {\n        setAriaLabel(this.eInput, label);\n        return this;\n    };\n    AgAbstractInputField.prototype.setDisabled = function (disabled) {\n        setDisabled(this.eInput, disabled);\n        return _super.prototype.setDisabled.call(this, disabled);\n    };\n    __decorate([\n        RefSelector('eLabel')\n    ], AgAbstractInputField.prototype, \"eLabel\", void 0);\n    __decorate([\n        RefSelector('eWrapper')\n    ], AgAbstractInputField.prototype, \"eWrapper\", void 0);\n    __decorate([\n        RefSelector('eInput')\n    ], AgAbstractInputField.prototype, \"eInput\", void 0);\n    return AgAbstractInputField;\n}(AgAbstractField));\nexport { AgAbstractInputField };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { Promise } from \"../utils\";\nexport function simpleHttpRequest(params) {\n    return new Promise(function (resolve) {\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.open('GET', params.url);\n        httpRequest.send();\n        httpRequest.onreadystatechange = function () {\n            if (httpRequest.readyState === 4 && httpRequest.status === 200) {\n                resolve(JSON.parse(httpRequest.responseText));\n            }\n        };\n    });\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { padStart } from './number';\n/**\n * Serialises a Date to a string of format `yyyy-MM-dd HH:mm:ss`.\n * An alternative separator can be provided to be used instead of hyphens.\n * @param date The date to serialise\n * @param includeTime Whether to include the time in the serialised string\n * @param separator The separator to use between date parts\n */\nexport function serialiseDate(date, includeTime, separator) {\n    if (includeTime === void 0) { includeTime = true; }\n    if (separator === void 0) { separator = '-'; }\n    if (!date) {\n        return null;\n    }\n    var serialised = [date.getFullYear(), date.getMonth() + 1, date.getDate()].map(function (part) { return padStart(part, 2); }).join(separator);\n    if (includeTime) {\n        serialised += ' ' + [date.getHours(), date.getMinutes(), date.getSeconds()].map(function (part) { return padStart(part, 2); }).join(':');\n    }\n    return serialised;\n}\n/**\n * Parses a date and time from a string in the format `yyyy-MM-dd HH:mm:ss`\n */\nexport function parseDateTimeFromString(value) {\n    if (!value) {\n        return null;\n    }\n    var _a = value.split(' '), dateStr = _a[0], timeStr = _a[1];\n    if (!dateStr) {\n        return null;\n    }\n    var fields = dateStr.split('-').map(function (f) { return parseInt(f, 10); });\n    if (fields.filter(function (f) { return !isNaN(f); }).length !== 3) {\n        return null;\n    }\n    var year = fields[0], month = fields[1], day = fields[2];\n    var date = new Date(year, month - 1, day);\n    if (date.getFullYear() !== year ||\n        date.getMonth() !== month - 1 ||\n        date.getDate() !== day) {\n        // date was not parsed as expected so must have been invalid\n        return null;\n    }\n    if (!timeStr || timeStr === '00:00:00') {\n        return date;\n    }\n    var _b = timeStr.split(':').map(function (part) { return parseInt(part, 10); }), hours = _b[0], minutes = _b[1], seconds = _b[2];\n    if (hours >= 0 && hours < 24) {\n        date.setHours(hours);\n    }\n    if (minutes >= 0 && minutes < 60) {\n        date.setMinutes(minutes);\n    }\n    if (seconds >= 0 && seconds < 60) {\n        date.setSeconds(seconds);\n    }\n    return date;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/** The base frameworks, eg React & Angular 2, override this bean with implementations specific to their requirement. */\nvar VanillaFrameworkOverrides = /** @class */ (function () {\n    function VanillaFrameworkOverrides() {\n    }\n    // for Vanilla JS, we use simple timeout\n    VanillaFrameworkOverrides.prototype.setTimeout = function (action, timeout) {\n        window.setTimeout(action, timeout);\n    };\n    // for Vanilla JS, we just add the event to the element\n    VanillaFrameworkOverrides.prototype.addEventListenerOutsideAngular = function (element, type, listener, useCapture) {\n        element.addEventListener(type, listener, useCapture);\n    };\n    return VanillaFrameworkOverrides;\n}());\nexport { VanillaFrameworkOverrides };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { Component } from \"./component\";\nimport { PostConstruct } from \"../context/context\";\nimport { escapeString } from \"../utils/string\";\nimport { addCssClass, removeCssClass } from \"../utils/dom\";\nimport { findIndex } from \"../utils/array\";\nimport { KeyCode } from '../constants/keyCode';\nimport { setAriaSelected } from '../utils/aria';\nvar AgList = /** @class */ (function (_super) {\n    __extends(AgList, _super);\n    function AgList(cssIdentifier) {\n        if (cssIdentifier === void 0) { cssIdentifier = 'default'; }\n        var _this = _super.call(this, /* html */ \"<div class=\\\"ag-list ag-\" + cssIdentifier + \"-list\\\" role=\\\"listbox\\\"></div>\") || this;\n        _this.cssIdentifier = cssIdentifier;\n        _this.options = [];\n        _this.itemEls = [];\n        return _this;\n    }\n    AgList.prototype.init = function () {\n        this.addManagedListener(this.getGui(), 'keydown', this.handleKeyDown.bind(this));\n    };\n    AgList.prototype.handleKeyDown = function (e) {\n        var key = e.keyCode;\n        switch (key) {\n            case KeyCode.ENTER:\n                if (!this.highlightedEl) {\n                    this.setValue(this.getValue());\n                }\n                else {\n                    var pos = this.itemEls.indexOf(this.highlightedEl);\n                    this.setValueByIndex(pos);\n                }\n                break;\n            case KeyCode.DOWN:\n            case KeyCode.UP:\n                var isDown = key === KeyCode.DOWN;\n                var itemToHighlight = void 0;\n                e.preventDefault();\n                if (!this.highlightedEl) {\n                    itemToHighlight = this.itemEls[isDown ? 0 : this.itemEls.length - 1];\n                }\n                else {\n                    var currentIdx = this.itemEls.indexOf(this.highlightedEl);\n                    var nextPos = currentIdx + (isDown ? 1 : -1);\n                    nextPos = Math.min(Math.max(nextPos, 0), this.itemEls.length - 1);\n                    itemToHighlight = this.itemEls[nextPos];\n                }\n                this.highlightItem(itemToHighlight);\n                break;\n        }\n    };\n    AgList.prototype.addOptions = function (listOptions) {\n        var _this = this;\n        listOptions.forEach(function (listOption) { return _this.addOption(listOption); });\n        return this;\n    };\n    AgList.prototype.addOption = function (listOption) {\n        var value = listOption.value, text = listOption.text;\n        var sanitisedText = escapeString(text || value);\n        this.options.push({ value: value, text: sanitisedText });\n        this.renderOption(value, sanitisedText);\n        return this;\n    };\n    AgList.prototype.renderOption = function (value, text) {\n        var _this = this;\n        var itemEl = document.createElement('div');\n        itemEl.setAttribute('role', 'option');\n        addCssClass(itemEl, 'ag-list-item');\n        addCssClass(itemEl, \"ag-\" + this.cssIdentifier + \"-list-item\");\n        itemEl.innerHTML = text;\n        itemEl.tabIndex = -1;\n        this.itemEls.push(itemEl);\n        this.addManagedListener(itemEl, 'mouseover', function () { return _this.highlightItem(itemEl); });\n        this.addManagedListener(itemEl, 'mouseleave', function () { return _this.clearHighlighted(); });\n        this.addManagedListener(itemEl, 'click', function () { return _this.setValue(value); });\n        this.getGui().appendChild(itemEl);\n    };\n    AgList.prototype.setValue = function (value, silent) {\n        if (this.value === value) {\n            this.fireItemSelected();\n            return this;\n        }\n        if (value == null) {\n            this.reset();\n            return this;\n        }\n        var idx = findIndex(this.options, function (option) { return option.value === value; });\n        if (idx !== -1) {\n            var option = this.options[idx];\n            this.value = option.value;\n            this.displayValue = option.text != null ? option.text : option.value;\n            this.highlightItem(this.itemEls[idx]);\n            if (!silent) {\n                this.fireChangeEvent();\n            }\n        }\n        return this;\n    };\n    AgList.prototype.setValueByIndex = function (idx) {\n        return this.setValue(this.options[idx].value);\n    };\n    AgList.prototype.getValue = function () {\n        return this.value;\n    };\n    AgList.prototype.getDisplayValue = function () {\n        return this.displayValue;\n    };\n    AgList.prototype.refreshHighlighted = function () {\n        var _this = this;\n        this.clearHighlighted();\n        var idx = findIndex(this.options, function (option) { return option.value === _this.value; });\n        if (idx !== -1) {\n            this.highlightItem(this.itemEls[idx]);\n        }\n    };\n    AgList.prototype.reset = function () {\n        this.value = null;\n        this.displayValue = null;\n        this.clearHighlighted();\n        this.fireChangeEvent();\n    };\n    AgList.prototype.highlightItem = function (el) {\n        if (!el.offsetParent) {\n            return;\n        }\n        this.clearHighlighted();\n        this.highlightedEl = el;\n        addCssClass(this.highlightedEl, AgList.ACTIVE_CLASS);\n        setAriaSelected(this.highlightedEl, true);\n        this.highlightedEl.focus();\n    };\n    AgList.prototype.clearHighlighted = function () {\n        if (!this.highlightedEl || !this.highlightedEl.offsetParent) {\n            return;\n        }\n        removeCssClass(this.highlightedEl, AgList.ACTIVE_CLASS);\n        setAriaSelected(this.highlightedEl, false);\n        this.highlightedEl = null;\n    };\n    AgList.prototype.fireChangeEvent = function () {\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        this.fireItemSelected();\n    };\n    AgList.prototype.fireItemSelected = function () {\n        this.dispatchEvent({ type: AgList.EVENT_ITEM_SELECTED });\n    };\n    AgList.EVENT_ITEM_SELECTED = 'selectedItem';\n    AgList.ACTIVE_CLASS = 'ag-active-item';\n    __decorate([\n        PostConstruct\n    ], AgList.prototype, \"init\", null);\n    return AgList;\n}(Component));\nexport { AgList };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../../context/context\";\nimport { CellComp } from \"../cellComp\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { addCssClass } from \"../../utils/dom\";\nimport { AngularRowUtils } from \"./angularRowUtils\";\nvar AutoHeightCalculator = /** @class */ (function (_super) {\n    __extends(AutoHeightCalculator, _super);\n    function AutoHeightCalculator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AutoHeightCalculator.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AutoHeightCalculator.prototype.getPreferredHeightForRow = function (rowNode) {\n        var _this = this;\n        var eDummyContainer = document.createElement('div');\n        this.addInRowCssClasses(rowNode, eDummyContainer);\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        var eBodyContainer = this.gridPanel.getCenterContainer();\n        eBodyContainer.appendChild(eDummyContainer);\n        var scopeResult = AngularRowUtils.createChildScopeOrNull(rowNode, this.$scope, this.beans.gridOptionsWrapper);\n        var scope = scopeResult ? scopeResult.scope : undefined;\n        var scopeDestroyFunc = scopeResult ? scopeResult.scopeDestroyFunc : undefined;\n        var cellComps = [];\n        var autoRowHeightCols = this.columnController.getAllAutoRowHeightCols();\n        var displayedCols = this.columnController.getAllDisplayedColumns();\n        var visibleAutoRowHeightCols = autoRowHeightCols.filter(function (col) { return displayedCols.indexOf(col) >= 0; });\n        visibleAutoRowHeightCols.forEach(function (col) {\n            var cellComp = new CellComp(scope, _this.beans, col, rowNode, null, true, false);\n            cellComp.setParentRow(eDummyContainer);\n            cellComps.push(cellComp);\n        });\n        var template = cellComps.map(function (cellComp) { return cellComp.getCreateTemplate(); }).join(' ');\n        eDummyContainer.innerHTML = template;\n        // this gets any cellComps that are using components to put the components in\n        cellComps.forEach(function (cellComp) { return cellComp.afterAttached(); });\n        if (scope) {\n            this.$compile(eDummyContainer)(scope);\n        }\n        // we should be able to just take the height of the row at this point, however\n        // the row isn't expanding to cover the cell heights, i don't know why, i couldn't\n        // figure it out so instead looking at the individual cells instead\n        var maxCellHeight = 0;\n        for (var i = 0; i < eDummyContainer.children.length; i++) {\n            var child = eDummyContainer.children[i];\n            if (child.offsetHeight > maxCellHeight) {\n                maxCellHeight = child.offsetHeight;\n            }\n        }\n        // we are finished with the dummy container, so get rid of it\n        eBodyContainer.removeChild(eDummyContainer);\n        cellComps.forEach(function (cellComp) {\n            // dunno why we need to detach first, doing it here to be consistent with code in RowComp\n            cellComp.detach();\n            cellComp.destroy();\n        });\n        if (scopeDestroyFunc) {\n            scopeDestroyFunc();\n        }\n        return maxCellHeight;\n    };\n    AutoHeightCalculator.prototype.addInRowCssClasses = function (rowNode, eDummyContainer) {\n        // so any styles on row also get applied in dummy, otherwise\n        // the content in dummy may differ to the real\n        var rowIndex = rowNode.rowIndex;\n        var params = {\n            rowNode: rowNode,\n            rowIsEven: rowIndex % 2 === 0,\n            rowLevel: this.rowCssClassCalculator.calculateRowLevel(rowNode),\n            firstRowOnPage: rowIndex === this.beans.paginationProxy.getPageFirstRow(),\n            lastRowOnPage: rowIndex === this.beans.paginationProxy.getPageLastRow(),\n            printLayout: false,\n            expandable: this.rowCssClassCalculator.isExpandable(rowNode)\n        };\n        var classes = this.rowCssClassCalculator.getInitialRowClasses(params);\n        addCssClass(eDummyContainer, classes.join(' '));\n    };\n    __decorate([\n        Autowired('beans')\n    ], AutoHeightCalculator.prototype, \"beans\", void 0);\n    __decorate([\n        Autowired(\"$scope\")\n    ], AutoHeightCalculator.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired(\"columnController\")\n    ], AutoHeightCalculator.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired(\"rowCssClassCalculator\")\n    ], AutoHeightCalculator.prototype, \"rowCssClassCalculator\", void 0);\n    __decorate([\n        Autowired(\"paginationProxy\")\n    ], AutoHeightCalculator.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired(\"gridOptionsWrapper\")\n    ], AutoHeightCalculator.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('$compile')\n    ], AutoHeightCalculator.prototype, \"$compile\", void 0);\n    AutoHeightCalculator = __decorate([\n        Bean('autoHeightCalculator')\n    ], AutoHeightCalculator);\n    return AutoHeightCalculator;\n}(BeanStub));\nexport { AutoHeightCalculator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// Based on https://stackoverflow.com/a/14991797\n// This will parse a delimited string into an array of arrays.\nexport function stringToArray(strData, delimiter) {\n    if (delimiter === void 0) { delimiter = ','; }\n    var data = [];\n    var isNewline = function (char) { return char === '\\r' || char === '\\n'; };\n    var insideQuotedField = false;\n    var _loop_1 = function (row, column, position) {\n        var previousChar = strData[position - 1];\n        var currentChar = strData[position];\n        var nextChar = strData[position + 1];\n        var ensureDataExists = function () {\n            if (!data[row]) {\n                // create row if it doesn't exist\n                data[row] = [];\n            }\n            if (!data[row][column]) {\n                // create column if it doesn't exist\n                data[row][column] = '';\n            }\n        };\n        ensureDataExists();\n        if (currentChar === '\"') {\n            if (insideQuotedField) {\n                if (nextChar === '\"') {\n                    // unescape double quote\n                    data[row][column] += '\"';\n                    position++;\n                }\n                else {\n                    // exit quoted field\n                    insideQuotedField = false;\n                }\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n            else if (previousChar === undefined || previousChar === delimiter || isNewline(previousChar)) {\n                // enter quoted field\n                insideQuotedField = true;\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n        }\n        if (!insideQuotedField) {\n            if (currentChar === delimiter) {\n                // move to next column\n                column++;\n                ensureDataExists();\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n            else if (isNewline(currentChar)) {\n                // move to next row\n                column = 0;\n                row++;\n                ensureDataExists();\n                if (currentChar === '\\r' && nextChar === '\\n') {\n                    // skip over second newline character if it exists\n                    position++;\n                }\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n        }\n        // add current character to current column\n        data[row][column] += currentChar;\n        out_row_1 = row;\n        out_column_1 = column;\n        out_position_1 = position;\n    };\n    var out_row_1, out_column_1, out_position_1;\n    // iterate over each character, keep track of current row and column (of the returned array)\n    for (var row = 0, column = 0, position = 0; position < strData.length; position++) {\n        _loop_1(row, column, position);\n        row = out_row_1;\n        column = out_column_1;\n        position = out_position_1;\n    }\n    return data;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as GeneralUtils from './general';\nimport * as AriaUtils from './aria';\nimport * as ArrayUtils from './array';\nimport * as BrowserUtils from './browser';\nimport * as CsvUtils from './csv';\nimport * as DateUtils from './date';\nimport * as DomUtils from './dom';\nimport * as EventUtils from './event';\nimport * as FunctionUtils from './function';\nimport * as FuzzyMatchUtils from './fuzzyMatch';\nimport * as GenericUtils from './generic';\nimport * as IconUtils from './icon';\nimport * as KeyboardUtils from './keyboard';\nimport * as MapUtils from './map';\nimport * as MouseUtils from './mouse';\nimport * as NumberUtils from './number';\nimport * as ObjectUtils from './object';\nimport * as RowNodeUtils from './rowNode';\nimport * as SetUtils from './set';\nimport * as StringUtils from './string';\nvar utils = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, GeneralUtils), AriaUtils), ArrayUtils), BrowserUtils), CsvUtils), DateUtils), DomUtils), EventUtils), FunctionUtils), FuzzyMatchUtils), GenericUtils), IconUtils), KeyboardUtils), MapUtils), MouseUtils), NumberUtils), ObjectUtils), RowNodeUtils), SetUtils), StringUtils);\nexport var _ = utils;\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { Column } from \"../entities/column\";\nimport { Constants } from \"../constants/constants\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { mergeDeep, assign } from \"../utils/object\";\nimport { missing } from \"../utils/generic\";\nvar AutoGroupColService = /** @class */ (function (_super) {\n    __extends(AutoGroupColService, _super);\n    function AutoGroupColService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AutoGroupColService_1 = AutoGroupColService;\n    AutoGroupColService.prototype.createAutoGroupColumns = function (rowGroupColumns) {\n        var _this = this;\n        var groupAutoColumns = [];\n        var doingTreeData = this.gridOptionsWrapper.isTreeData();\n        var doingMultiAutoColumn = this.gridOptionsWrapper.isGroupMultiAutoColumn();\n        if (doingTreeData && doingMultiAutoColumn) {\n            console.warn('ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data');\n            doingMultiAutoColumn = false;\n        }\n        // if doing groupMultiAutoColumn, then we call the method multiple times, once\n        // for each column we are grouping by\n        if (doingMultiAutoColumn) {\n            rowGroupColumns.forEach(function (rowGroupCol, index) {\n                groupAutoColumns.push(_this.createOneAutoGroupColumn(rowGroupCol, index));\n            });\n        }\n        else {\n            groupAutoColumns.push(this.createOneAutoGroupColumn());\n        }\n        return groupAutoColumns;\n    };\n    // rowGroupCol and index are missing if groupMultiAutoColumn=false\n    AutoGroupColService.prototype.createOneAutoGroupColumn = function (rowGroupCol, index) {\n        // if one provided by user, use it, otherwise create one\n        var defaultAutoColDef = this.generateDefaultColDef(rowGroupCol);\n        // if doing multi, set the field\n        var colId;\n        if (rowGroupCol) {\n            colId = Constants.GROUP_AUTO_COLUMN_ID + \"-\" + rowGroupCol.getId();\n        }\n        else {\n            colId = AutoGroupColService_1.GROUP_AUTO_COLUMN_BUNDLE_ID;\n        }\n        var userAutoColDef = this.gridOptionsWrapper.getAutoGroupColumnDef();\n        mergeDeep(defaultAutoColDef, userAutoColDef);\n        defaultAutoColDef = this.columnFactory.mergeColDefs(defaultAutoColDef);\n        defaultAutoColDef.colId = colId;\n        // For tree data the filter is always allowed\n        if (!this.gridOptionsWrapper.isTreeData()) {\n            // we would only allow filter if the user has provided field or value getter. otherwise the filter\n            // would not be able to work.\n            var noFieldOrValueGetter = missing(defaultAutoColDef.field) && missing(defaultAutoColDef.valueGetter) && missing(defaultAutoColDef.filterValueGetter);\n            if (noFieldOrValueGetter) {\n                defaultAutoColDef.filter = false;\n            }\n        }\n        // if showing many cols, we don't want to show more than one with a checkbox for selection\n        if (index && index > 0) {\n            defaultAutoColDef.headerCheckboxSelection = false;\n        }\n        var newCol = new Column(defaultAutoColDef, null, colId, true);\n        this.context.createBean(newCol);\n        return newCol;\n    };\n    AutoGroupColService.prototype.generateDefaultColDef = function (rowGroupCol) {\n        var userAutoColDef = this.gridOptionsWrapper.getAutoGroupColumnDef();\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var defaultAutoColDef = {\n            headerName: localeTextFunc('group', 'Group')\n        };\n        var userHasProvidedGroupCellRenderer = userAutoColDef && (userAutoColDef.cellRenderer || userAutoColDef.cellRendererFramework);\n        // only add the default group cell renderer if user hasn't provided one\n        if (!userHasProvidedGroupCellRenderer) {\n            defaultAutoColDef.cellRenderer = 'agGroupCellRenderer';\n        }\n        // we never allow moving the group column\n        // defaultAutoColDef.suppressMovable = true;\n        if (rowGroupCol) {\n            var rowGroupColDef = rowGroupCol.getColDef();\n            assign(defaultAutoColDef, {\n                // cellRendererParams.groupKey: colDefToCopy.field;\n                headerName: this.columnController.getDisplayNameForColumn(rowGroupCol, 'header'),\n                headerValueGetter: rowGroupColDef.headerValueGetter\n            });\n            if (rowGroupColDef.cellRenderer) {\n                assign(defaultAutoColDef, {\n                    cellRendererParams: {\n                        innerRenderer: rowGroupColDef.cellRenderer,\n                        innerRendererParams: rowGroupColDef.cellRendererParams\n                    }\n                });\n            }\n            defaultAutoColDef.showRowGroup = rowGroupCol.getColId();\n        }\n        else {\n            defaultAutoColDef.showRowGroup = true;\n        }\n        return defaultAutoColDef;\n    };\n    var AutoGroupColService_1;\n    AutoGroupColService.GROUP_AUTO_COLUMN_BUNDLE_ID = Constants.GROUP_AUTO_COLUMN_ID;\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AutoGroupColService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], AutoGroupColService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('columnFactory')\n    ], AutoGroupColService.prototype, \"columnFactory\", void 0);\n    AutoGroupColService = AutoGroupColService_1 = __decorate([\n        Bean('autoGroupColService')\n    ], AutoGroupColService);\n    return AutoGroupColService;\n}(BeanStub));\nexport { AutoGroupColService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { isBrowserChrome, isBrowserSafari } from './browser';\nimport { exists } from './generic';\nimport { hyphenToCamelCase } from './string';\nvar rtlNegativeScroll;\nexport function addCssClass(element, className) {\n    if (!element || !className || className.length === 0) {\n        return;\n    }\n    if (className.indexOf(' ') >= 0) {\n        className.split(' ').forEach(function (value) { return addCssClass(element, value); });\n        return;\n    }\n    if (element.classList) {\n        element.classList.add(className);\n    }\n    else if (element.className && element.className.length > 0) {\n        var cssClasses = element.className.split(' ');\n        if (cssClasses.indexOf(className) < 0) {\n            cssClasses.push(className);\n            element.setAttribute('class', cssClasses.join(' '));\n        }\n    }\n    else {\n        // do not use element.classList = className here, it will cause\n        // a read-only assignment error on some browsers (IE/Edge).\n        element.setAttribute('class', className);\n    }\n    return element;\n}\nexport function removeCssClass(element, className) {\n    if (!element || !className || className.length === 0) {\n        return;\n    }\n    if (className.indexOf(' ') >= 0) {\n        className.split(' ').forEach(function (value) { return removeCssClass(element, value); });\n        return;\n    }\n    if (element.classList) {\n        element.classList.remove(className);\n    }\n    else if (element.className && element.className.length > 0) {\n        var newClassName = element.className.split(' ').filter(function (c) { return c !== className; }).join(' ');\n        element.setAttribute('class', newClassName);\n    }\n}\nexport function addOrRemoveCssClass(element, className, addOrRemove) {\n    if (addOrRemove) {\n        addCssClass(element, className);\n    }\n    else {\n        removeCssClass(element, className);\n    }\n}\n/**\n * This method adds a class to an element and remove that class from all siblings.\n * Useful for toggling state.\n * @param {HTMLElement} element The element to receive the class\n * @param {string} elementClass The class to be assigned to the element\n * @param {boolean} otherElementClass The class to be assigned to siblings of the element, but not the element itself\n */\nexport function radioCssClass(element, elementClass, otherElementClass) {\n    var parent = element.parentElement;\n    var sibling = parent.firstChild;\n    while (sibling) {\n        if (elementClass) {\n            addOrRemoveCssClass(sibling, elementClass, sibling === element);\n        }\n        if (otherElementClass) {\n            addOrRemoveCssClass(sibling, otherElementClass, sibling !== element);\n        }\n        sibling = sibling.nextSibling;\n    }\n}\nexport function containsClass(element, className) {\n    if (element.classList) {\n        // for modern browsers\n        return element.classList.contains(className);\n    }\n    if (element.className) {\n        // for older browsers, check against the string of class names\n        // if only one class, can check for exact match\n        var onlyClass = element.className === className;\n        // if many classes, check for class name, we have to pad with ' ' to stop other\n        // class names that are a substring of this class\n        var contains = element.className.indexOf(' ' + className + ' ') >= 0;\n        // the padding above then breaks when it's the first or last class names\n        var startsWithClass = element.className.indexOf(className + ' ') === 0;\n        var endsWithClass = element.className.lastIndexOf(' ' + className) === (element.className.length - className.length - 1);\n        return onlyClass || contains || startsWithClass || endsWithClass;\n    }\n    // if item is not a node\n    return false;\n}\nexport function setDisplayed(element, displayed) {\n    addOrRemoveCssClass(element, 'ag-hidden', !displayed);\n}\nexport function setVisible(element, visible) {\n    addOrRemoveCssClass(element, 'ag-invisible', !visible);\n}\nexport function setDisabled(element, disabled) {\n    var attributeName = 'disabled';\n    var addOrRemoveDisabledAttribute = disabled ?\n        function (e) { return e.setAttribute(attributeName, ''); } :\n        function (e) { return e.removeAttribute(attributeName); };\n    addOrRemoveDisabledAttribute(element);\n    nodeListForEach(element.querySelectorAll('input'), function (input) { return addOrRemoveDisabledAttribute(input); });\n}\nexport function isElementChildOfClass(element, cls, maxNest) {\n    var counter = 0;\n    while (element) {\n        if (containsClass(element, cls)) {\n            return true;\n        }\n        element = element.parentElement;\n        if (maxNest && ++counter > maxNest) {\n            break;\n        }\n    }\n    return false;\n}\nexport function getElementSize(el) {\n    var _a = window.getComputedStyle(el), height = _a.height, width = _a.width, paddingTop = _a.paddingTop, paddingRight = _a.paddingRight, paddingBottom = _a.paddingBottom, paddingLeft = _a.paddingLeft, marginTop = _a.marginTop, marginRight = _a.marginRight, marginBottom = _a.marginBottom, marginLeft = _a.marginLeft, boxSizing = _a.boxSizing;\n    return {\n        height: parseFloat(height),\n        width: parseFloat(width),\n        paddingTop: parseFloat(paddingTop),\n        paddingRight: parseFloat(paddingRight),\n        paddingBottom: parseFloat(paddingBottom),\n        paddingLeft: parseFloat(paddingLeft),\n        marginTop: parseFloat(marginTop),\n        marginRight: parseFloat(marginRight),\n        marginBottom: parseFloat(marginBottom),\n        marginLeft: parseFloat(marginLeft),\n        boxSizing: boxSizing\n    };\n}\nexport function getInnerHeight(el) {\n    var size = getElementSize(el);\n    if (size.boxSizing === 'border-box') {\n        return size.height - size.paddingTop - size.paddingBottom;\n    }\n    return size.height;\n}\nexport function getInnerWidth(el) {\n    var size = getElementSize(el);\n    if (size.boxSizing === 'border-box') {\n        return size.width - size.paddingLeft - size.paddingRight;\n    }\n    return size.width;\n}\nexport function getAbsoluteHeight(el) {\n    var size = getElementSize(el);\n    var marginRight = size.marginBottom + size.marginTop;\n    return Math.ceil(el.offsetHeight + marginRight);\n}\nexport function getAbsoluteWidth(el) {\n    var size = getElementSize(el);\n    var marginWidth = size.marginLeft + size.marginRight;\n    return Math.ceil(el.offsetWidth + marginWidth);\n}\nexport function isRtlNegativeScroll() {\n    if (typeof rtlNegativeScroll === \"boolean\") {\n        return rtlNegativeScroll;\n    }\n    var template = document.createElement('div');\n    template.style.direction = 'rtl';\n    template.style.width = '1px';\n    template.style.height = '1px';\n    template.style.position = 'fixed';\n    template.style.top = '0px';\n    template.style.overflow = 'hidden';\n    template.dir = 'rtl';\n    template.innerHTML = /* html */\n        \"<div style=\\\"width: 2px\\\">\\n            <span style=\\\"display: inline-block; width: 1px\\\"></span>\\n            <span style=\\\"display: inline-block; width: 1px\\\"></span>\\n        </div>\";\n    document.body.appendChild(template);\n    template.scrollLeft = 1;\n    rtlNegativeScroll = template.scrollLeft === 0;\n    document.body.removeChild(template);\n    return rtlNegativeScroll;\n}\nexport function getScrollLeft(element, rtl) {\n    var scrollLeft = element.scrollLeft;\n    if (rtl) {\n        // Absolute value - for FF that reports RTL scrolls in negative numbers\n        scrollLeft = Math.abs(scrollLeft);\n        if (isBrowserChrome() && !isRtlNegativeScroll()) {\n            scrollLeft = element.scrollWidth - element.clientWidth - scrollLeft;\n        }\n    }\n    return scrollLeft;\n}\nexport function setScrollLeft(element, value, rtl) {\n    if (rtl) {\n        // Chrome and Safari when doing RTL have the END position of the scroll as zero, not the start\n        if (isRtlNegativeScroll()) {\n            value *= -1;\n        }\n        else if (isBrowserSafari() || isBrowserChrome()) {\n            value = element.scrollWidth - element.clientWidth - value;\n        }\n    }\n    element.scrollLeft = value;\n}\nexport function clearElement(el) {\n    while (el && el.firstChild) {\n        el.removeChild(el.firstChild);\n    }\n}\n/** @deprecated */\nexport function removeElement(parent, cssSelector) {\n    removeFromParent(parent.querySelector(cssSelector));\n}\nexport function removeFromParent(node) {\n    if (node && node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nexport function isVisible(element) {\n    return element.offsetParent !== null;\n}\n/**\n * Loads the template and returns it as an element. makes up for no simple way in\n * the dom api to load html directly, eg we cannot do this: document.createElement(template)\n * @param {string} template\n * @returns {HTMLElement}\n */\nexport function loadTemplate(template) {\n    var tempDiv = document.createElement('div');\n    tempDiv.innerHTML = (template || '').trim();\n    return tempDiv.firstChild;\n}\nexport function appendHtml(eContainer, htmlTemplate) {\n    if (eContainer.lastChild) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML\n        // we put the items at the start, so new items appear underneath old items,\n        // so when expanding/collapsing groups, the new rows don't go on top of the\n        // rows below that are moving our of the way\n        eContainer.insertAdjacentHTML('afterbegin', htmlTemplate);\n    }\n    else {\n        eContainer.innerHTML = htmlTemplate;\n    }\n}\n/** @deprecated */\nexport function getElementAttribute(element, attributeName) {\n    if (element.attributes && element.attributes[attributeName]) {\n        var attribute = element.attributes[attributeName];\n        return attribute.value;\n    }\n    return null;\n}\nexport function offsetHeight(element) {\n    return element && element.clientHeight ? element.clientHeight : 0;\n}\nexport function offsetWidth(element) {\n    return element && element.clientWidth ? element.clientWidth : 0;\n}\nexport function ensureDomOrder(eContainer, eChild, eChildBefore) {\n    // if already in right order, do nothing\n    if (eChildBefore && eChildBefore.nextSibling === eChild) {\n        return;\n    }\n    if (eChildBefore) {\n        if (eChildBefore.nextSibling) {\n            // insert between the eRowBefore and the row after it\n            eContainer.insertBefore(eChild, eChildBefore.nextSibling);\n        }\n        else {\n            // if nextSibling is missing, means other row is at end, so just append new row at the end\n            eContainer.appendChild(eChild);\n        }\n    }\n    else {\n        // otherwise put at start\n        if (eContainer.firstChild && eContainer.firstChild !== eChild) {\n            // insert it at the first location\n            eContainer.insertAdjacentElement('afterbegin', eChild);\n        }\n    }\n}\nexport function setDomChildOrder(eContainer, orderedChildren) {\n    for (var i = 0; i < orderedChildren.length; i++) {\n        var correctCellAtIndex = orderedChildren[i];\n        var actualCellAtIndex = eContainer.children[i];\n        if (actualCellAtIndex !== correctCellAtIndex) {\n            eContainer.insertBefore(correctCellAtIndex, actualCellAtIndex);\n        }\n    }\n}\nexport function insertTemplateWithDomOrder(eContainer, htmlTemplate, eChildBefore) {\n    var res;\n    if (eChildBefore) {\n        // if previous element exists, just slot in after the previous element\n        eChildBefore.insertAdjacentHTML('afterend', htmlTemplate);\n        res = eChildBefore.nextSibling;\n    }\n    else {\n        if (eContainer.firstChild) {\n            // insert it at the first location\n            eContainer.insertAdjacentHTML('afterbegin', htmlTemplate);\n        }\n        else {\n            // otherwise eContainer is empty, so just append it\n            eContainer.innerHTML = htmlTemplate;\n        }\n        res = eContainer.firstChild;\n    }\n    return res;\n}\n/** @deprecated */\nexport function prependDC(parent, documentFragment) {\n    if (exists(parent.firstChild)) {\n        parent.insertBefore(documentFragment, parent.firstChild);\n    }\n    else {\n        parent.appendChild(documentFragment);\n    }\n}\nexport function addStylesToElement(eElement, styles) {\n    if (!styles) {\n        return;\n    }\n    Object.keys(styles).forEach(function (key) {\n        var keyCamelCase = hyphenToCamelCase(key);\n        if (keyCamelCase) {\n            eElement.style[keyCamelCase] = styles[key];\n        }\n    });\n}\nexport function isHorizontalScrollShowing(element) {\n    return element.clientWidth < element.scrollWidth;\n}\nexport function isVerticalScrollShowing(element) {\n    return element.clientHeight < element.scrollHeight;\n}\nexport function setElementWidth(element, width) {\n    if (width === 'flex') {\n        element.style.width = null;\n        element.style.minWidth = null;\n        element.style.maxWidth = null;\n        element.style.flex = '1 1 auto';\n    }\n    else {\n        setFixedWidth(element, width);\n    }\n}\nexport function setFixedWidth(element, width) {\n    width = formatSize(width);\n    element.style.width = width.toString();\n    element.style.maxWidth = width.toString();\n    element.style.minWidth = width.toString();\n}\nexport function setElementHeight(element, height) {\n    if (height === 'flex') {\n        element.style.height = null;\n        element.style.minHeight = null;\n        element.style.maxHeight = null;\n        element.style.flex = '1 1 auto';\n    }\n    else {\n        setFixedHeight(element, height);\n    }\n}\nexport function setFixedHeight(element, height) {\n    height = formatSize(height);\n    element.style.height = height.toString();\n    element.style.maxHeight = height.toString();\n    element.style.minHeight = height.toString();\n}\nexport function formatSize(size) {\n    if (typeof size === 'number') {\n        return size + \"px\";\n    }\n    return size;\n}\n/**\n * Returns true if it is a DOM node\n * taken from: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n * @param {any} o\n * @return {boolean}\n */\nexport function isNode(o) {\n    return (typeof Node === 'function'\n        ? o instanceof Node\n        : o && typeof o === 'object' && typeof o.nodeType === 'number' && typeof o.nodeName === 'string');\n}\n//\n/**\n * Returns true if it is a DOM element\n * taken from: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n * @param {any} o\n * @returns {boolean}\n */\nexport function isElement(o) {\n    return (typeof HTMLElement === 'function'\n        ? o instanceof HTMLElement //DOM2\n        : o && typeof o === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string');\n}\nexport function isNodeOrElement(o) {\n    return isNode(o) || isElement(o);\n}\n/**\n * Makes a copy of a node list into a list\n * @param {NodeList} nodeList\n * @returns {Node[]}\n */\nexport function copyNodeList(nodeList) {\n    if (nodeList == null) {\n        return [];\n    }\n    var result = [];\n    nodeListForEach(nodeList, function (node) { return result.push(node); });\n    return result;\n}\nexport function iterateNamedNodeMap(map, callback) {\n    if (!map) {\n        return;\n    }\n    for (var i = 0; i < map.length; i++) {\n        var attr = map[i];\n        callback(attr.name, attr.value);\n    }\n}\n/** @deprecated */\nexport function setCheckboxState(eCheckbox, state) {\n    if (typeof state === 'boolean') {\n        eCheckbox.checked = state;\n        eCheckbox.indeterminate = false;\n    }\n    else {\n        // isNodeSelected returns back undefined if it's a group and the children\n        // are a mix of selected and unselected\n        eCheckbox.indeterminate = true;\n    }\n}\nexport function addOrRemoveAttribute(element, name, value) {\n    if (value == null) {\n        element.removeAttribute(name);\n    }\n    else {\n        element.setAttribute(name, value.toString());\n    }\n}\nexport function nodeListForEach(nodeList, action) {\n    if (nodeList == null) {\n        return;\n    }\n    for (var i = 0; i < nodeList.length; i++) {\n        action(nodeList[i]);\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { values, exists } from \"../utils/generic\";\nimport { iterateObject } from \"../utils/object\";\nimport { getFunctionName } from \"../utils/function\";\nvar Context = /** @class */ (function () {\n    function Context(params, logger) {\n        this.beanWrappers = {};\n        this.destroyed = false;\n        if (!params || !params.beanClasses) {\n            return;\n        }\n        this.contextParams = params;\n        this.logger = logger;\n        this.logger.log(\">> creating ag-Application Context\");\n        this.createBeans();\n        var beanInstances = this.getBeanInstances();\n        this.wireBeans(beanInstances);\n        this.logger.log(\">> ag-Application Context ready - component is alive\");\n    }\n    Context.prototype.getBeanInstances = function () {\n        return values(this.beanWrappers).map(function (beanEntry) { return beanEntry.beanInstance; });\n    };\n    Context.prototype.createBean = function (bean, afterPreCreateCallback) {\n        if (!bean) {\n            throw Error(\"Can't wire to bean since it is null\");\n        }\n        this.wireBeans([bean], afterPreCreateCallback);\n        return bean;\n    };\n    Context.prototype.wireBeans = function (beanInstances, afterPreCreateCallback) {\n        this.autoWireBeans(beanInstances);\n        this.methodWireBeans(beanInstances);\n        this.callLifeCycleMethods(beanInstances, 'preConstructMethods');\n        // the callback sets the attributes, so the component has access to attributes\n        // before postConstruct methods in the component are executed\n        if (exists(afterPreCreateCallback)) {\n            beanInstances.forEach(afterPreCreateCallback);\n        }\n        this.callLifeCycleMethods(beanInstances, 'postConstructMethods');\n    };\n    Context.prototype.createBeans = function () {\n        var _this = this;\n        // register all normal beans\n        this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this));\n        // register override beans, these will overwrite beans above of same name\n        // instantiate all beans - overridden beans will be left out\n        iterateObject(this.beanWrappers, function (key, beanEntry) {\n            var constructorParamsMeta;\n            if (beanEntry.bean.__agBeanMetaData && beanEntry.bean.__agBeanMetaData.autowireMethods && beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor) {\n                constructorParamsMeta = beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor;\n            }\n            var constructorParams = _this.getBeansForParameters(constructorParamsMeta, beanEntry.bean.name);\n            var newInstance = applyToConstructor(beanEntry.bean, constructorParams);\n            beanEntry.beanInstance = newInstance;\n        });\n        var createdBeanNames = Object.keys(this.beanWrappers).join(', ');\n        this.logger.log(\"created beans: \" + createdBeanNames);\n    };\n    // tslint:disable-next-line\n    Context.prototype.createBeanWrapper = function (Bean) {\n        var metaData = Bean.__agBeanMetaData;\n        if (!metaData) {\n            var beanName = void 0;\n            if (Bean.prototype.constructor) {\n                beanName = getFunctionName(Bean.prototype.constructor);\n            }\n            else {\n                beanName = \"\" + Bean;\n            }\n            console.error(\"Context item \" + beanName + \" is not a bean\");\n            return;\n        }\n        var beanEntry = {\n            bean: Bean,\n            beanInstance: null,\n            beanName: metaData.beanName\n        };\n        this.beanWrappers[metaData.beanName] = beanEntry;\n    };\n    Context.prototype.autoWireBeans = function (beanInstances) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) {\n            _this.forEachMetaDataInHierarchy(beanInstance, function (metaData, beanName) {\n                var attributes = metaData.agClassAttributes;\n                if (!attributes) {\n                    return;\n                }\n                attributes.forEach(function (attribute) {\n                    var otherBean = _this.lookupBeanInstance(beanName, attribute.beanName, attribute.optional);\n                    beanInstance[attribute.attributeName] = otherBean;\n                });\n            });\n        });\n    };\n    Context.prototype.methodWireBeans = function (beanInstances) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) {\n            _this.forEachMetaDataInHierarchy(beanInstance, function (metaData, beanName) {\n                iterateObject(metaData.autowireMethods, function (methodName, wireParams) {\n                    // skip constructor, as this is dealt with elsewhere\n                    if (methodName === \"agConstructor\") {\n                        return;\n                    }\n                    var initParams = _this.getBeansForParameters(wireParams, beanName);\n                    beanInstance[methodName].apply(beanInstance, initParams);\n                });\n            });\n        });\n    };\n    Context.prototype.forEachMetaDataInHierarchy = function (beanInstance, callback) {\n        var prototype = Object.getPrototypeOf(beanInstance);\n        while (prototype != null) {\n            var constructor = prototype.constructor;\n            if (constructor.hasOwnProperty('__agBeanMetaData')) {\n                var metaData = constructor.__agBeanMetaData;\n                var beanName = this.getBeanName(constructor);\n                callback(metaData, beanName);\n            }\n            prototype = Object.getPrototypeOf(prototype);\n        }\n    };\n    Context.prototype.getBeanName = function (constructor) {\n        if (constructor.__agBeanMetaData && constructor.__agBeanMetaData.beanName) {\n            return constructor.__agBeanMetaData.beanName;\n        }\n        var constructorString = constructor.toString();\n        var beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n        return beanName;\n    };\n    Context.prototype.getBeansForParameters = function (parameters, beanName) {\n        var _this = this;\n        var beansList = [];\n        if (parameters) {\n            iterateObject(parameters, function (paramIndex, otherBeanName) {\n                var otherBean = _this.lookupBeanInstance(beanName, otherBeanName);\n                beansList[Number(paramIndex)] = otherBean;\n            });\n        }\n        return beansList;\n    };\n    Context.prototype.lookupBeanInstance = function (wiringBean, beanName, optional) {\n        if (optional === void 0) { optional = false; }\n        if (beanName === \"context\") {\n            return this;\n        }\n        if (this.contextParams.providedBeanInstances && this.contextParams.providedBeanInstances.hasOwnProperty(beanName)) {\n            return this.contextParams.providedBeanInstances[beanName];\n        }\n        var beanEntry = this.beanWrappers[beanName];\n        if (beanEntry) {\n            return beanEntry.beanInstance;\n        }\n        if (!optional) {\n            console.error(\"ag-Grid: unable to find bean reference \" + beanName + \" while initialising \" + wiringBean);\n        }\n        return null;\n    };\n    Context.prototype.callLifeCycleMethods = function (beanInstances, lifeCycleMethod) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) { return _this.callLifeCycleMethodsOnBean(beanInstance, lifeCycleMethod); });\n    };\n    Context.prototype.callLifeCycleMethodsOnBean = function (beanInstance, lifeCycleMethod, methodToIgnore) {\n        // putting all methods into a map removes duplicates\n        var allMethods = {};\n        // dump methods from each level of the metadata hierarchy\n        this.forEachMetaDataInHierarchy(beanInstance, function (metaData) {\n            var methods = metaData[lifeCycleMethod];\n            if (methods) {\n                methods.forEach(function (methodName) {\n                    if (methodName != methodToIgnore) {\n                        allMethods[methodName] = true;\n                    }\n                });\n            }\n        });\n        var allMethodsList = Object.keys(allMethods);\n        allMethodsList.forEach(function (methodName) { return beanInstance[methodName](); });\n    };\n    Context.prototype.getBean = function (name) {\n        return this.lookupBeanInstance(\"getBean\", name, true);\n    };\n    Context.prototype.destroy = function () {\n        if (this.destroyed) {\n            return;\n        }\n        this.logger.log(\">> Shutting down ag-Application Context\");\n        var beanInstances = this.getBeanInstances();\n        this.destroyBeans(beanInstances);\n        this.contextParams.providedBeanInstances = null;\n        this.destroyed = true;\n        this.logger.log(\">> ag-Application Context shut down - component is dead\");\n    };\n    Context.prototype.destroyBean = function (bean) {\n        if (!bean) {\n            return;\n        }\n        this.destroyBeans([bean]);\n    };\n    Context.prototype.destroyBeans = function (beans) {\n        var _this = this;\n        if (!beans) {\n            return [];\n        }\n        beans.forEach(function (bean) {\n            _this.callLifeCycleMethodsOnBean(bean, 'preDestroyMethods', 'destroy');\n            // call destroy() explicitly if it exists\n            var beanAny = bean;\n            if (typeof beanAny.destroy === 'function') {\n                beanAny.destroy();\n            }\n        });\n        return [];\n    };\n    return Context;\n}());\nexport { Context };\n// taken from: http://stackoverflow.com/questions/3362471/how-can-i-call-a-javascript-constructor-using-call-or-apply\n// allows calling 'apply' on a constructor\nfunction applyToConstructor(constructor, argArray) {\n    var args = [null].concat(argArray);\n    var factoryFunction = constructor.bind.apply(constructor, args);\n    return new factoryFunction();\n}\nexport function PreConstruct(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.preConstructMethods) {\n        props.preConstructMethods = [];\n    }\n    props.preConstructMethods.push(methodName);\n}\nexport function PostConstruct(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.postConstructMethods) {\n        props.postConstructMethods = [];\n    }\n    props.postConstructMethods.push(methodName);\n}\nexport function PreDestroy(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.preDestroyMethods) {\n        props.preDestroyMethods = [];\n    }\n    props.preDestroyMethods.push(methodName);\n}\nexport function Bean(beanName) {\n    return function (classConstructor) {\n        var props = getOrCreateProps(classConstructor);\n        props.beanName = beanName;\n    };\n}\nexport function Autowired(name) {\n    return function (target, propertyKey, descriptor) {\n        autowiredFunc(target, name, false, target, propertyKey, null);\n    };\n}\nexport function Optional(name) {\n    return function (target, propertyKey, descriptor) {\n        autowiredFunc(target, name, true, target, propertyKey, null);\n    };\n}\nfunction autowiredFunc(target, name, optional, classPrototype, methodOrAttributeName, index) {\n    if (name === null) {\n        console.error(\"ag-Grid: Autowired name should not be null\");\n        return;\n    }\n    if (typeof index === \"number\") {\n        console.error(\"ag-Grid: Autowired should be on an attribute\");\n        return;\n    }\n    // it's an attribute on the class\n    var props = getOrCreateProps(target.constructor);\n    if (!props.agClassAttributes) {\n        props.agClassAttributes = [];\n    }\n    props.agClassAttributes.push({\n        attributeName: methodOrAttributeName,\n        beanName: name,\n        optional: optional\n    });\n}\nexport function Qualifier(name) {\n    return function (classPrototype, methodOrAttributeName, index) {\n        var constructor = typeof classPrototype == \"function\" ? classPrototype : classPrototype.constructor;\n        var props;\n        if (typeof index === \"number\") {\n            // it's a parameter on a method\n            var methodName = void 0;\n            if (methodOrAttributeName) {\n                props = getOrCreateProps(constructor);\n                methodName = methodOrAttributeName;\n            }\n            else {\n                props = getOrCreateProps(constructor);\n                methodName = \"agConstructor\";\n            }\n            if (!props.autowireMethods) {\n                props.autowireMethods = {};\n            }\n            if (!props.autowireMethods[methodName]) {\n                props.autowireMethods[methodName] = {};\n            }\n            props.autowireMethods[methodName][index] = name;\n        }\n    };\n}\nfunction getOrCreateProps(target) {\n    if (!target.hasOwnProperty(\"__agBeanMetaData\")) {\n        target.__agBeanMetaData = {};\n    }\n    return target.__agBeanMetaData;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RowNodeBlock } from \"./rowNodeBlock\";\nimport { Qualifier } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { debounce } from \"../../utils/function\";\nimport { exists } from \"../../utils/generic\";\nimport { removeFromArray } from \"../../utils/array\";\nvar RowNodeBlockLoader = /** @class */ (function (_super) {\n    __extends(RowNodeBlockLoader, _super);\n    function RowNodeBlockLoader(maxConcurrentRequests, blockLoadDebounceMillis) {\n        var _this = _super.call(this) || this;\n        _this.activeBlockLoadsCount = 0;\n        _this.blocks = [];\n        _this.active = true;\n        _this.maxConcurrentRequests = maxConcurrentRequests;\n        if (blockLoadDebounceMillis && blockLoadDebounceMillis > 0) {\n            _this.checkBlockToLoadDebounce = debounce(_this.performCheckBlocksToLoad.bind(_this), blockLoadDebounceMillis);\n        }\n        return _this;\n    }\n    RowNodeBlockLoader.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('RowNodeBlockLoader');\n    };\n    RowNodeBlockLoader.prototype.addBlock = function (block) {\n        this.blocks.push(block);\n    };\n    RowNodeBlockLoader.prototype.removeBlock = function (block) {\n        removeFromArray(this.blocks, block);\n    };\n    RowNodeBlockLoader.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.active = false;\n    };\n    RowNodeBlockLoader.prototype.loadComplete = function () {\n        this.activeBlockLoadsCount--;\n    };\n    RowNodeBlockLoader.prototype.checkBlockToLoad = function () {\n        if (this.checkBlockToLoadDebounce) {\n            this.checkBlockToLoadDebounce();\n        }\n        else {\n            this.performCheckBlocksToLoad();\n        }\n    };\n    RowNodeBlockLoader.prototype.performCheckBlocksToLoad = function () {\n        if (!this.active) {\n            return;\n        }\n        this.printCacheStatus();\n        if (this.activeBlockLoadsCount >= this.maxConcurrentRequests) {\n            this.logger.log(\"checkBlockToLoad: max loads exceeded\");\n            return;\n        }\n        var blockToLoad = null;\n        this.blocks.forEach(function (block) {\n            if (block.getState() === RowNodeBlock.STATE_DIRTY) {\n                blockToLoad = block;\n            }\n        });\n        if (blockToLoad) {\n            blockToLoad.load();\n            this.activeBlockLoadsCount++;\n            this.logger.log(\"checkBlockToLoad: loading page \" + blockToLoad.getBlockNumber());\n            this.printCacheStatus();\n        }\n        else {\n            this.logger.log(\"checkBlockToLoad: no pages to load\");\n        }\n    };\n    RowNodeBlockLoader.prototype.getBlockState = function () {\n        var result = {};\n        this.blocks.forEach(function (block) {\n            var nodeIdPrefix = block.getNodeIdPrefix();\n            var stateItem = {\n                blockNumber: block.getBlockNumber(),\n                startRow: block.getStartRow(),\n                endRow: block.getEndRow(),\n                pageStatus: block.getState()\n            };\n            if (exists(nodeIdPrefix)) {\n                result[nodeIdPrefix + block.getBlockNumber()] = stateItem;\n            }\n            else {\n                result[block.getBlockNumber()] = stateItem;\n            }\n        });\n        return result;\n    };\n    RowNodeBlockLoader.prototype.printCacheStatus = function () {\n        if (this.logger.isLogging()) {\n            this.logger.log(\"printCacheStatus: activePageLoadsCount = \" + this.activeBlockLoadsCount + \",\"\n                + (\" blocks = \" + JSON.stringify(this.getBlockState())));\n        }\n    };\n    RowNodeBlockLoader.prototype.isLoading = function () {\n        return this.activeBlockLoadsCount > 0;\n    };\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], RowNodeBlockLoader.prototype, \"setBeans\", null);\n    return RowNodeBlockLoader;\n}(BeanStub));\nexport { RowNodeBlockLoader };\n","import { ClientSideRowModelModule } from '@ag-grid-community/client-side-row-model';\nimport { InfiniteRowModelModule } from '@ag-grid-community/infinite-row-model';\nimport { CsvExportModule } from '@ag-grid-community/csv-export';\nexport var AllCommunityModules = [ClientSideRowModelModule, InfiniteRowModelModule, CsvExportModule];\nexport * from \"@ag-grid-community/client-side-row-model\";\nexport * from \"@ag-grid-community/csv-export\";\nexport * from \"@ag-grid-community/infinite-row-model\";\nexport * from \"@ag-grid-community/core\";\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct } from '../../context/context';\nimport { Constants } from '../../constants/constants';\nimport { loadTemplate, addCssClass, setDisabled } from '../../utils/dom';\nimport { debounce } from '../../utils/function';\nimport { DEFAULT_FILTER_LOCALE_TEXT } from '../filterLocaleText';\nimport { ManagedFocusComponent } from '../../widgets/managedFocusComponent';\nimport { convertToSet } from '../../utils/set';\n/**\n * Contains common logic to all provided filters (apply button, clear button, etc).\n * All the filters that come with ag-Grid extend this class. User filters do not\n * extend this class.\n */\nvar ProvidedFilter = /** @class */ (function (_super) {\n    __extends(ProvidedFilter, _super);\n    function ProvidedFilter(filterNameKey) {\n        var _this = _super.call(this) || this;\n        _this.filterNameKey = filterNameKey;\n        _this.applyActive = false;\n        _this.hidePopup = null;\n        // after the user hits 'apply' the model gets copied to here. this is then the model that we use for\n        // all filtering. so if user changes UI but doesn't hit apply, then the UI will be out of sync with this model.\n        // this is what we want, as the UI should only become the 'active' filter once it's applied. when apply is\n        // inactive, this model will be in sync (following the debounce ms). if the UI is not a valid filter\n        // (eg the value is missing so nothing to filter on, or for set filter all checkboxes are checked so filter\n        // not active) then this appliedModel will be null/undefined.\n        _this.appliedModel = null;\n        return _this;\n    }\n    ProvidedFilter.prototype.getFilterTitle = function () {\n        return this.translate(this.filterNameKey);\n    };\n    /** @deprecated */\n    ProvidedFilter.prototype.onFilterChanged = function () {\n        console.warn(\"ag-Grid: you should not call onFilterChanged() directly on the filter, please call\\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\\n        a method that existed on an old version of the filters that was not intended for public use.\");\n        this.providedFilterParams.filterChangedCallback();\n    };\n    ProvidedFilter.prototype.isFilterActive = function () {\n        // filter is active if we have a valid applied model\n        return !!this.appliedModel;\n    };\n    ProvidedFilter.prototype.postConstruct = function () {\n        this.resetTemplate(); // do this first to create the DOM\n        _super.prototype.postConstruct.call(this);\n    };\n    ProvidedFilter.prototype.resetTemplate = function (paramsMap) {\n        var templateString = /* html */ \"\\n            <div class=\\\"ag-filter-wrapper\\\">\\n                <div class=\\\"ag-filter-body-wrapper ag-\" + this.getCssIdentifier() + \"-body-wrapper\\\">\\n                    \" + this.createBodyTemplate() + \"\\n                </div>\\n            </div>\";\n        this.setTemplate(templateString, paramsMap);\n    };\n    ProvidedFilter.prototype.init = function (params) {\n        var _this = this;\n        this.setParams(params);\n        this.resetUiToDefaults(true).then(function () {\n            _this.updateUiVisibility();\n            _this.setupOnBtApplyDebounce();\n        });\n    };\n    ProvidedFilter.prototype.setParams = function (params) {\n        ProvidedFilter.checkForDeprecatedParams(params);\n        this.providedFilterParams = params;\n        if (params.newRowsAction === 'keep') {\n            this.newRowsActionKeep = true;\n        }\n        else if (params.newRowsAction === 'clear') {\n            this.newRowsActionKeep = false;\n        }\n        else {\n            // the default for SSRM and IRM is 'keep', for CSRM and VRM the default is 'clear'\n            var modelsForKeep = [Constants.ROW_MODEL_TYPE_SERVER_SIDE, Constants.ROW_MODEL_TYPE_INFINITE];\n            this.newRowsActionKeep = modelsForKeep.indexOf(this.rowModel.getType()) >= 0;\n        }\n        this.applyActive = ProvidedFilter.isUseApplyButton(params);\n        this.createButtonPanel();\n    };\n    ProvidedFilter.prototype.createButtonPanel = function () {\n        var _this = this;\n        var buttons = this.providedFilterParams.buttons;\n        if (!buttons || buttons.length < 1) {\n            return;\n        }\n        var eButtonsPanel = document.createElement('div');\n        addCssClass(eButtonsPanel, 'ag-filter-apply-panel');\n        var addButton = function (type) {\n            var text;\n            var clickListener;\n            switch (type) {\n                case 'apply':\n                    text = _this.translate('applyFilter');\n                    clickListener = function (e) { return _this.onBtApply(false, false, e); };\n                    break;\n                case 'clear':\n                    text = _this.translate('clearFilter');\n                    clickListener = function () { return _this.onBtClear(); };\n                    break;\n                case 'reset':\n                    text = _this.translate('resetFilter');\n                    clickListener = function () { return _this.onBtReset(); };\n                    break;\n                case 'cancel':\n                    text = _this.translate('cancelFilter');\n                    clickListener = function (e) { _this.onBtCancel(e); };\n                    break;\n                default:\n                    console.warn('Unknown button type specified');\n                    return;\n            }\n            var button = loadTemplate(/* html */ \"<button\\n                    type=\\\"button\\\"\\n                    ref=\\\"\" + type + \"FilterButton\\\"\\n                    class=\\\"ag-standard-button ag-filter-apply-panel-button\\\">\" + text + \"</button>\");\n            eButtonsPanel.appendChild(button);\n            _this.addManagedListener(button, 'click', clickListener);\n        };\n        convertToSet(buttons).forEach(function (type) { return addButton(type); });\n        this.getGui().appendChild(eButtonsPanel);\n    };\n    ProvidedFilter.checkForDeprecatedParams = function (params) {\n        var buttons = params.buttons || [];\n        if (buttons.length > 0) {\n            return;\n        }\n        var applyButton = params.applyButton, resetButton = params.resetButton, clearButton = params.clearButton;\n        if (clearButton) {\n            console.warn('ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead');\n            buttons.push('clear');\n        }\n        if (resetButton) {\n            console.warn('ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead');\n            buttons.push('reset');\n        }\n        if (applyButton) {\n            console.warn('ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead');\n            buttons.push('apply');\n        }\n        if (params.apply) {\n            console.warn('ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead');\n            buttons.push('apply');\n        }\n        params.buttons = buttons;\n    };\n    // subclasses can override this to provide alternative debounce defaults\n    ProvidedFilter.prototype.getDefaultDebounceMs = function () {\n        return 0;\n    };\n    ProvidedFilter.prototype.setupOnBtApplyDebounce = function () {\n        var debounceMs = ProvidedFilter.getDebounceMs(this.providedFilterParams, this.getDefaultDebounceMs());\n        this.onBtApplyDebounce = debounce(this.onBtApply.bind(this), debounceMs);\n    };\n    ProvidedFilter.prototype.getModel = function () {\n        return this.appliedModel;\n    };\n    ProvidedFilter.prototype.setModel = function (model) {\n        var _this = this;\n        var promise = model ? this.setModelIntoUi(model) : this.resetUiToDefaults();\n        return promise.then(function () {\n            _this.updateUiVisibility();\n            // we set the model from the gui, rather than the provided model,\n            // so the model is consistent. eg handling of null/undefined will be the same,\n            // of if model is case insensitive, then casing is removed.\n            _this.applyModel();\n        });\n    };\n    ProvidedFilter.prototype.onBtCancel = function (e) {\n        var _this = this;\n        this.setModelIntoUi(this.getModel()).then(function () {\n            _this.onUiChanged(false, 'prevent');\n            if (_this.providedFilterParams.closeOnApply) {\n                _this.close(e);\n            }\n        });\n    };\n    ProvidedFilter.prototype.onBtClear = function () {\n        var _this = this;\n        this.resetUiToDefaults().then(function () { return _this.onUiChanged(); });\n    };\n    ProvidedFilter.prototype.onBtReset = function () {\n        this.onBtClear();\n        this.onBtApply();\n    };\n    /**\n     * Applies changes made in the UI to the filter, and returns true if the model has changed.\n     */\n    ProvidedFilter.prototype.applyModel = function () {\n        var newModel = this.getModelFromUi();\n        if (!this.isModelValid(newModel)) {\n            return false;\n        }\n        var previousModel = this.appliedModel;\n        this.appliedModel = newModel;\n        // models can be same if user pasted same content into text field, or maybe just changed the case\n        // and it's a case insensitive filter\n        return !this.areModelsEqual(previousModel, newModel);\n    };\n    ProvidedFilter.prototype.isModelValid = function (model) {\n        return true;\n    };\n    ProvidedFilter.prototype.onBtApply = function (afterFloatingFilter, afterDataChange, e) {\n        if (afterFloatingFilter === void 0) { afterFloatingFilter = false; }\n        if (afterDataChange === void 0) { afterDataChange = false; }\n        if (this.applyModel()) {\n            // the floating filter uses 'afterFloatingFilter' info, so it doesn't refresh after filter changed if change\n            // came from floating filter\n            this.providedFilterParams.filterChangedCallback({ afterFloatingFilter: afterFloatingFilter, afterDataChange: afterDataChange });\n        }\n        var closeOnApply = this.providedFilterParams.closeOnApply;\n        // only close if an apply button is visible, otherwise we'd be closing every time a change was made!\n        if (closeOnApply && this.applyActive && !afterFloatingFilter && !afterDataChange) {\n            this.close(e);\n        }\n    };\n    ProvidedFilter.prototype.onNewRowsLoaded = function () {\n        var _this = this;\n        if (!this.newRowsActionKeep) {\n            this.resetUiToDefaults().then(function () { return _this.appliedModel = null; });\n        }\n    };\n    ProvidedFilter.prototype.close = function (e) {\n        if (!this.hidePopup) {\n            return;\n        }\n        var keyboardEvent = e;\n        var key = keyboardEvent && keyboardEvent.key;\n        var params;\n        if (key === 'Enter' || key === 'Space') {\n            params = { keyboardEvent: keyboardEvent };\n        }\n        this.hidePopup(params);\n        this.hidePopup = null;\n    };\n    // called by set filter\n    ProvidedFilter.prototype.isNewRowsActionKeep = function () {\n        return this.newRowsActionKeep;\n    };\n    /**\n     * By default, if the change came from a floating filter it will be applied immediately, otherwise if there is no\n     * apply button it will be applied after a debounce, otherwise it will not be applied at all. This behaviour can\n     * be adjusted by using the apply parameter.\n     */\n    ProvidedFilter.prototype.onUiChanged = function (fromFloatingFilter, apply) {\n        if (fromFloatingFilter === void 0) { fromFloatingFilter = false; }\n        this.updateUiVisibility();\n        this.providedFilterParams.filterModifiedCallback();\n        if (this.applyActive) {\n            var isValid = this.isModelValid(this.getModelFromUi());\n            setDisabled(this.getRefElement('applyFilterButton'), !isValid);\n        }\n        if ((fromFloatingFilter && !apply) || apply === 'immediately') {\n            this.onBtApply(fromFloatingFilter);\n        }\n        else if ((!this.applyActive && !apply) || apply === 'debounce') {\n            this.onBtApplyDebounce();\n        }\n    };\n    ProvidedFilter.prototype.afterGuiAttached = function (params) {\n        if (params == null) {\n            return;\n        }\n        this.hidePopup = params.hidePopup;\n    };\n    // static, as used by floating filter also\n    ProvidedFilter.getDebounceMs = function (params, debounceDefault) {\n        if (ProvidedFilter.isUseApplyButton(params)) {\n            if (params.debounceMs != null) {\n                console.warn('ag-Grid: debounceMs is ignored when apply button is present');\n            }\n            return 0;\n        }\n        return params.debounceMs != null ? params.debounceMs : debounceDefault;\n    };\n    // static, as used by floating filter also\n    ProvidedFilter.isUseApplyButton = function (params) {\n        ProvidedFilter.checkForDeprecatedParams(params);\n        return params.buttons && params.buttons.indexOf('apply') >= 0;\n    };\n    ProvidedFilter.prototype.destroy = function () {\n        this.hidePopup = null;\n        _super.prototype.destroy.call(this);\n    };\n    ProvidedFilter.prototype.translate = function (key) {\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        return translate(key, DEFAULT_FILTER_LOCALE_TEXT[key]);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ProvidedFilter.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], ProvidedFilter.prototype, \"rowModel\", void 0);\n    __decorate([\n        PostConstruct\n    ], ProvidedFilter.prototype, \"postConstruct\", null);\n    return ProvidedFilter;\n}(ManagedFocusComponent));\nexport { ProvidedFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport function padStart(value, totalStringSize) {\n    var asString = \"\" + value;\n    while (asString.length < totalStringSize) {\n        asString = \"0\" + asString;\n    }\n    return asString;\n}\nexport function createArrayOfNumbers(first, last) {\n    var result = [];\n    for (var i = first; i <= last; i++) {\n        result.push(i);\n    }\n    return result;\n}\n/**\n * Check if a value is numeric\n * from http://stackoverflow.com/questions/9716468/is-there-any-function-like-isnumeric-in-javascript-to-validate-numbers\n * @param {any} value\n * @return {boolean}\n */\nexport function isNumeric(value) {\n    return value !== '' && !isNaN(parseFloat(value)) && isFinite(value);\n}\nexport function getMaxSafeInteger() {\n    // eslint-disable-next-line\n    return Number.MAX_SAFE_INTEGER || 9007199254740991;\n}\nexport function cleanNumber(value) {\n    if (typeof value === 'string') {\n        value = parseInt(value, 10);\n    }\n    if (typeof value === 'number') {\n        return Math.floor(value);\n    }\n    else {\n        return null;\n    }\n}\nexport function decToHex(number, bytes) {\n    var hex = '';\n    for (var i = 0; i < bytes; i++) {\n        hex += String.fromCharCode(number & 0xff);\n        number >>>= 8;\n    }\n    return hex;\n}\nexport function formatNumberTwoDecimalPlacesAndCommas(value) {\n    if (typeof value !== 'number') {\n        return '';\n    }\n    return formatNumberCommas(Math.round(value * 100) / 100);\n}\n/**\n * the native method number.toLocaleString(undefined, {minimumFractionDigits: 0})\n * puts in decimal places in IE, so we use this method instead\n * from: http://blog.tompawlak.org/number-currency-formatting-javascript\n * @param {number} value\n * @returns {string}\n */\nexport function formatNumberCommas(value) {\n    if (typeof value !== 'number') {\n        return '';\n    }\n    return value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\n}\nexport function sum(values) {\n    return values == null ? null : values.reduce(function (total, value) { return total + value; }, 0);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, Constants, PostConstruct, BeanStub } from \"@ag-grid-community/core\";\nvar ImmutableService = /** @class */ (function (_super) {\n    __extends(ImmutableService, _super);\n    function ImmutableService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ImmutableService.prototype.postConstruct = function () {\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            this.clientSideRowModel = this.rowModel;\n        }\n    };\n    // converts the setRowData() command to a transaction\n    ImmutableService.prototype.createTransactionForRowData = function (data) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.error('ag-Grid: ImmutableService only works with ClientSideRowModel');\n            return;\n        }\n        var getRowNodeIdFunc = this.gridOptionsWrapper.getRowNodeIdFunc();\n        if (!getRowNodeIdFunc || _.missing(getRowNodeIdFunc)) {\n            console.error('ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!');\n            return;\n        }\n        // convert the data into a transaction object by working out adds, removes and updates\n        var transaction = {\n            remove: [],\n            update: [],\n            add: []\n        };\n        var existingNodesMap = this.clientSideRowModel.getCopyOfNodesMap();\n        var suppressSortOrder = this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();\n        var orderMap = suppressSortOrder ? null : {};\n        if (_.exists(data)) {\n            // split all the new data in the following:\n            // if new, push to 'add'\n            // if update, push to 'update'\n            // if not changed, do not include in the transaction\n            data.forEach(function (dataItem, index) {\n                var id = getRowNodeIdFunc(dataItem);\n                var existingNode = existingNodesMap[id];\n                if (orderMap) {\n                    orderMap[id] = index;\n                }\n                if (existingNode) {\n                    var dataHasChanged = existingNode.data !== dataItem;\n                    if (dataHasChanged) {\n                        transaction.update.push(dataItem);\n                    }\n                    // otherwise, if data not changed, we just don't include it anywhere, as it's not a delta\n                    // remove from list, so we know the item is not to be removed\n                    existingNodesMap[id] = undefined;\n                }\n                else {\n                    transaction.add.push(dataItem);\n                }\n            });\n        }\n        // at this point, all rows that are left, should be removed\n        _.iterateObject(existingNodesMap, function (id, rowNode) {\n            if (rowNode) {\n                transaction.remove.push(rowNode.data);\n            }\n        });\n        return [transaction, orderMap];\n    };\n    __decorate([\n        Autowired('rowModel')\n    ], ImmutableService.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ImmutableService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], ImmutableService.prototype, \"postConstruct\", null);\n    ImmutableService = __decorate([\n        Bean('immutableService')\n    ], ImmutableService);\n    return ImmutableService;\n}(BeanStub));\nexport { ImmutableService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Column } from \"./column\";\nimport { EventService } from \"../eventService\";\nimport { Autowired } from \"../context/context\";\nimport { last } from \"../utils/array\";\nvar ColumnGroup = /** @class */ (function () {\n    function ColumnGroup(originalColumnGroup, groupId, instanceId, pinned) {\n        // depends on the open/closed state of the group, only displaying columns are stored here\n        this.displayedChildren = [];\n        this.localEventService = new EventService();\n        this.groupId = groupId;\n        this.instanceId = instanceId;\n        this.originalColumnGroup = originalColumnGroup;\n        this.pinned = pinned;\n    }\n    // this is static, a it is used outside of this class\n    ColumnGroup.createUniqueId = function (groupId, instanceId) {\n        return groupId + '_' + instanceId;\n    };\n    // as the user is adding and removing columns, the groups are recalculated.\n    // this reset clears out all children, ready for children to be added again\n    ColumnGroup.prototype.reset = function () {\n        this.parent = null;\n        this.children = null;\n        this.displayedChildren = null;\n    };\n    ColumnGroup.prototype.getParent = function () {\n        return this.parent;\n    };\n    ColumnGroup.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    ColumnGroup.prototype.getUniqueId = function () {\n        return ColumnGroup.createUniqueId(this.groupId, this.instanceId);\n    };\n    ColumnGroup.prototype.isEmptyGroup = function () {\n        return this.displayedChildren.length === 0;\n    };\n    ColumnGroup.prototype.isMoving = function () {\n        var allLeafColumns = this.getOriginalColumnGroup().getLeafColumns();\n        if (!allLeafColumns || allLeafColumns.length === 0) {\n            return false;\n        }\n        return allLeafColumns.every(function (col) { return col.isMoving(); });\n    };\n    ColumnGroup.prototype.checkLeft = function () {\n        // first get all children to setLeft, as it impacts our decision below\n        this.displayedChildren.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                child.checkLeft();\n            }\n        });\n        // set our left based on first displayed column\n        if (this.displayedChildren.length > 0) {\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                var lastChild = last(this.displayedChildren);\n                var lastChildLeft = lastChild.getLeft();\n                this.setLeft(lastChildLeft);\n            }\n            else {\n                var firstChildLeft = this.displayedChildren[0].getLeft();\n                this.setLeft(firstChildLeft);\n            }\n        }\n        else {\n            // this should never happen, as if we have no displayed columns, then\n            // this groups should not even exist.\n            this.setLeft(null);\n        }\n    };\n    ColumnGroup.prototype.getLeft = function () {\n        return this.left;\n    };\n    ColumnGroup.prototype.getOldLeft = function () {\n        return this.oldLeft;\n    };\n    ColumnGroup.prototype.setLeft = function (left) {\n        this.oldLeft = left;\n        if (this.left !== left) {\n            this.left = left;\n            this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_LEFT_CHANGED));\n        }\n    };\n    ColumnGroup.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    ColumnGroup.prototype.createAgEvent = function (type) {\n        return { type: type };\n    };\n    ColumnGroup.prototype.addEventListener = function (eventType, listener) {\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    ColumnGroup.prototype.removeEventListener = function (eventType, listener) {\n        this.localEventService.removeEventListener(eventType, listener);\n    };\n    ColumnGroup.prototype.getGroupId = function () {\n        return this.groupId;\n    };\n    ColumnGroup.prototype.getInstanceId = function () {\n        return this.instanceId;\n    };\n    ColumnGroup.prototype.isChildInThisGroupDeepSearch = function (wantedChild) {\n        var result = false;\n        this.children.forEach(function (foundChild) {\n            if (wantedChild === foundChild) {\n                result = true;\n            }\n            if (foundChild instanceof ColumnGroup) {\n                if (foundChild.isChildInThisGroupDeepSearch(wantedChild)) {\n                    result = true;\n                }\n            }\n        });\n        return result;\n    };\n    ColumnGroup.prototype.getActualWidth = function () {\n        var groupActualWidth = 0;\n        if (this.displayedChildren) {\n            this.displayedChildren.forEach(function (child) {\n                groupActualWidth += child.getActualWidth();\n            });\n        }\n        return groupActualWidth;\n    };\n    ColumnGroup.prototype.isResizable = function () {\n        if (!this.displayedChildren) {\n            return false;\n        }\n        // if at least one child is resizable, then the group is resizable\n        var result = false;\n        this.displayedChildren.forEach(function (child) {\n            if (child.isResizable()) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    ColumnGroup.prototype.getMinWidth = function () {\n        var result = 0;\n        this.displayedChildren.forEach(function (groupChild) {\n            result += groupChild.getMinWidth();\n        });\n        return result;\n    };\n    ColumnGroup.prototype.addChild = function (child) {\n        if (!this.children) {\n            this.children = [];\n        }\n        this.children.push(child);\n    };\n    ColumnGroup.prototype.getDisplayedChildren = function () {\n        return this.displayedChildren;\n    };\n    ColumnGroup.prototype.getLeafColumns = function () {\n        var result = [];\n        this.addLeafColumns(result);\n        return result;\n    };\n    ColumnGroup.prototype.getDisplayedLeafColumns = function () {\n        var result = [];\n        this.addDisplayedLeafColumns(result);\n        return result;\n    };\n    // why two methods here doing the same thing?\n    ColumnGroup.prototype.getDefinition = function () {\n        return this.originalColumnGroup.getColGroupDef();\n    };\n    ColumnGroup.prototype.getColGroupDef = function () {\n        return this.originalColumnGroup.getColGroupDef();\n    };\n    ColumnGroup.prototype.isPadding = function () {\n        return this.originalColumnGroup.isPadding();\n    };\n    ColumnGroup.prototype.isExpandable = function () {\n        return this.originalColumnGroup.isExpandable();\n    };\n    ColumnGroup.prototype.isExpanded = function () {\n        return this.originalColumnGroup.isExpanded();\n    };\n    ColumnGroup.prototype.setExpanded = function (expanded) {\n        this.originalColumnGroup.setExpanded(expanded);\n    };\n    ColumnGroup.prototype.addDisplayedLeafColumns = function (leafColumns) {\n        this.displayedChildren.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof ColumnGroup) {\n                child.addDisplayedLeafColumns(leafColumns);\n            }\n        });\n    };\n    ColumnGroup.prototype.addLeafColumns = function (leafColumns) {\n        this.children.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof ColumnGroup) {\n                child.addLeafColumns(leafColumns);\n            }\n        });\n    };\n    ColumnGroup.prototype.getChildren = function () {\n        return this.children;\n    };\n    ColumnGroup.prototype.getColumnGroupShow = function () {\n        return this.originalColumnGroup.getColumnGroupShow();\n    };\n    ColumnGroup.prototype.getOriginalColumnGroup = function () {\n        return this.originalColumnGroup;\n    };\n    ColumnGroup.prototype.getPaddingLevel = function () {\n        var parent = this.getParent();\n        if (!this.isPadding() || !parent || !parent.isPadding()) {\n            return 0;\n        }\n        return 1 + parent.getPaddingLevel();\n    };\n    ColumnGroup.prototype.calculateDisplayedColumns = function () {\n        var _this = this;\n        // clear out last time we calculated\n        this.displayedChildren = [];\n        var topLevelGroup = this;\n        // find the column group that is controlling expandable. this is relevant when we have padding (empty)\n        // groups, where the expandable is actually the first parent that is not a padding group.\n        if (this.isPadding()) {\n            while (topLevelGroup.getParent() && topLevelGroup.isPadding()) {\n                topLevelGroup = topLevelGroup.getParent();\n            }\n        }\n        var isExpandable = topLevelGroup.originalColumnGroup.isExpandable();\n        // it not expandable, everything is visible\n        if (!isExpandable) {\n            this.displayedChildren = this.children;\n        }\n        else {\n            // Add cols based on columnGroupShow\n            // Note - the below also adds padding groups, these are always added because they never have\n            // colDef.columnGroupShow set.\n            this.children.forEach(function (abstractColumn) {\n                var headerGroupShow = abstractColumn.getColumnGroupShow();\n                switch (headerGroupShow) {\n                    case ColumnGroup.HEADER_GROUP_SHOW_OPEN:\n                        // when set to open, only show col if group is open\n                        if (topLevelGroup.originalColumnGroup.isExpanded()) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                    case ColumnGroup.HEADER_GROUP_SHOW_CLOSED:\n                        // when set to open, only show col if group is open\n                        if (!topLevelGroup.originalColumnGroup.isExpanded()) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                    default:\n                        // if this abstractColumn is padding, we just want to add it\n                        // to the displayedChildren list if it has displayedChildren itself.\n                        if (!(abstractColumn instanceof ColumnGroup &&\n                            abstractColumn.isPadding() &&\n                            !abstractColumn.displayedChildren.length)) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                }\n            });\n        }\n        this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED));\n    };\n    ColumnGroup.HEADER_GROUP_SHOW_OPEN = 'open';\n    ColumnGroup.HEADER_GROUP_SHOW_CLOSED = 'closed';\n    ColumnGroup.HEADER_GROUP_PADDING = 'padding';\n    ColumnGroup.EVENT_LEFT_CHANGED = 'leftChanged';\n    ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED = 'displayedChildrenChanged';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ColumnGroup.prototype, \"gridOptionsWrapper\", void 0);\n    return ColumnGroup;\n}());\nexport { ColumnGroup };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SelectCellEditor } from \"./selectCellEditor\";\nvar PopupSelectCellEditor = /** @class */ (function (_super) {\n    __extends(PopupSelectCellEditor, _super);\n    function PopupSelectCellEditor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupSelectCellEditor.prototype.isPopup = function () {\n        return true;\n    };\n    return PopupSelectCellEditor;\n}(SelectCellEditor));\nexport { PopupSelectCellEditor };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar ColDefUtil = /** @class */ (function () {\n    function ColDefUtil() {\n    }\n    ColDefUtil.STRING_PROPERTIES = [\n        'headerName',\n        'columnGroupShow',\n        'headerClass',\n        'toolPanelClass',\n        'headerValueGetter',\n        'pivotKeys',\n        'groupId',\n        'colId',\n        'sort',\n        'initialSort',\n        'field',\n        'type',\n        'tooltipComponent',\n        'tooltipField',\n        'headerTooltip',\n        'cellClass',\n        'showRowGroup',\n        'template',\n        'templateUrl',\n        'filter',\n        'initialAggFunc',\n        'aggFunc',\n        'cellRenderer',\n        'cellEditor',\n        'pinned',\n        'initialPinned',\n        'chartDataType'\n    ];\n    ColDefUtil.OBJECT_PROPERTIES = [\n        'headerGroupComponent',\n        'headerGroupComponentFramework',\n        'headerGroupComponentParams',\n        'cellStyle',\n        'cellRendererParams',\n        'cellEditorFramework',\n        'cellEditorParams',\n        'pinnedRowCellRendererFramework',\n        'pinnedRowCellRendererParams',\n        'filterFramework',\n        'filterParams',\n        'pivotValueColumn',\n        'headerComponent',\n        'headerComponentFramework',\n        'headerComponentParams',\n        'floatingFilterComponent',\n        'floatingFilterComponentParams',\n        'floatingFilterComponentFramework',\n        'tooltipComponent',\n        'tooltipComponentParams',\n        'tooltipComponentFramework',\n        'refData',\n        'columnsMenuParams'\n    ];\n    ColDefUtil.ARRAY_PROPERTIES = [\n        'children',\n        'sortingOrder',\n        'allowedAggFuncs',\n        'menuTabs',\n        'pivotTotalColumnIds',\n        'cellClassRules',\n        'icons'\n    ];\n    ColDefUtil.NUMBER_PROPERTIES = [\n        'sortedAt',\n        'sortIndex',\n        'initialSortIndex',\n        'flex',\n        'initialFlex',\n        'width',\n        'initialWidth',\n        'minWidth',\n        'maxWidth',\n        'rowGroupIndex',\n        'initialRowGroupIndex',\n        'pivotIndex',\n        'initialPivotIndex'\n    ];\n    ColDefUtil.BOOLEAN_PROPERTIES = [\n        'suppressCellFlash',\n        'suppressColumnsToolPanel',\n        'suppressFiltersToolPanel',\n        'openByDefault',\n        'marryChildren',\n        'hide',\n        'initialHide',\n        'rowGroup',\n        'initialRowGroup',\n        'pivot',\n        'initialPivot',\n        'checkboxSelection',\n        'headerCheckboxSelection',\n        'headerCheckboxSelectionFilteredOnly',\n        'suppressMenu',\n        'suppressMovable',\n        'lockPosition',\n        'lockVisible',\n        'lockPinned',\n        'unSortIcon',\n        'suppressSizeToFit',\n        'suppressAutoSize',\n        'enableRowGroup',\n        'enablePivot',\n        'enableValue',\n        'editable',\n        'suppressPaste',\n        'suppressNavigable',\n        'enableCellChangeFlash',\n        'rowDrag',\n        'dndSource',\n        'autoHeight',\n        'wrapText',\n        'sortable',\n        'resizable',\n        'singleClickEdit',\n        'floatingFilter',\n    ];\n    ColDefUtil.FUNCTION_PROPERTIES = [\n        'dndSourceOnRowDrag',\n        'valueGetter',\n        'valueSetter',\n        'filterValueGetter',\n        'keyCreator',\n        'cellRenderer',\n        'cellRendererFramework',\n        'pinnedRowCellRenderer',\n        'valueFormatter',\n        'pinnedRowValueFormatter',\n        'valueParser',\n        'comparator',\n        'equals',\n        'pivotComparator',\n        'suppressKeyboardEvent',\n        'colSpan',\n        'rowSpan',\n        'getQuickFilterText',\n        'newValueHandler',\n        'onCellValueChanged',\n        'onCellClicked',\n        'onCellDoubleClicked',\n        'onCellContextMenu',\n        'rowDragText',\n        'tooltipValueGetter',\n        'tooltipComponent',\n        'tooltipComponentFramework',\n        'cellRendererSelector',\n        'cellEditorSelector'\n    ];\n    ColDefUtil.ALL_PROPERTIES = __spreadArrays(ColDefUtil.ARRAY_PROPERTIES, ColDefUtil.OBJECT_PROPERTIES, ColDefUtil.STRING_PROPERTIES, ColDefUtil.NUMBER_PROPERTIES, ColDefUtil.FUNCTION_PROPERTIES, ColDefUtil.BOOLEAN_PROPERTIES);\n    // used when doing property checks - this causes noise when using frameworks which can add their own fw specific\n    // properties to colDefs, gridOptions etc\n    ColDefUtil.FRAMEWORK_PROPERTIES = ['__ob__', '__metadata__', 'mappedColumnProperties', 'hasChildColumns',\n        'toColDef', 'createColDefFromGridColumn'];\n    return ColDefUtil;\n}());\nexport { ColDefUtil };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DragSourceType } from \"../dragAndDrop/dragAndDropService\";\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { MoveColumnController } from \"./moveColumnController\";\nimport { BodyDropPivotTarget } from \"./bodyDropPivotTarget\";\nimport { Constants } from \"../constants/constants\";\nimport { BeanStub } from \"../context/beanStub\";\nvar DropType;\n(function (DropType) {\n    DropType[DropType[\"ColumnMove\"] = 0] = \"ColumnMove\";\n    DropType[DropType[\"Pivot\"] = 1] = \"Pivot\";\n})(DropType || (DropType = {}));\nvar BodyDropTarget = /** @class */ (function (_super) {\n    __extends(BodyDropTarget, _super);\n    function BodyDropTarget(pinned, eContainer) {\n        var _this = _super.call(this) || this;\n        _this.dropListeners = {};\n        _this.pinned = pinned;\n        _this.eContainer = eContainer;\n        return _this;\n    }\n    BodyDropTarget.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.moveColumnController.registerGridComp(gridPanel);\n        switch (this.pinned) {\n            case Constants.PINNED_LEFT:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetLeftContainers();\n                break;\n            case Constants.PINNED_RIGHT:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetRightContainers();\n                break;\n            default:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetBodyContainers();\n                break;\n        }\n    };\n    BodyDropTarget.prototype.isInterestedIn = function (type) {\n        return type === DragSourceType.HeaderCell ||\n            (type === DragSourceType.ToolPanel && this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel());\n    };\n    BodyDropTarget.prototype.getSecondaryContainers = function () {\n        return this.eSecondaryContainers;\n    };\n    BodyDropTarget.prototype.getContainer = function () {\n        return this.eContainer;\n    };\n    BodyDropTarget.prototype.init = function () {\n        this.moveColumnController = this.createBean(new MoveColumnController(this.pinned, this.eContainer));\n        var bodyDropPivotTarget = new BodyDropPivotTarget(this.pinned);\n        this.createBean(bodyDropPivotTarget);\n        this.dropListeners[DropType.ColumnMove] = this.moveColumnController;\n        this.dropListeners[DropType.Pivot] = bodyDropPivotTarget;\n        this.dragAndDropService.addDropTarget(this);\n    };\n    BodyDropTarget.prototype.getIconName = function () {\n        return this.currentDropListener.getIconName();\n    };\n    // we want to use the bodyPivotTarget if the user is dragging columns in from the toolPanel\n    // and we are in pivot mode, as it has to logic to set pivot/value/group on the columns when\n    // dropped into the grid's body.\n    BodyDropTarget.prototype.getDropType = function (draggingEvent) {\n        if (this.columnController.isPivotMode()) {\n            // in pivot mode, then if moving a column (ie didn't come from toolpanel) then it's\n            // a standard column move, however if it came from the toolpanel, then we are introducing\n            // dimensions or values to the grid\n            if (draggingEvent.dragSource.type === DragSourceType.ToolPanel) {\n                return DropType.Pivot;\n            }\n            return DropType.ColumnMove;\n        }\n        // it's a column, and not pivot mode, so always moving\n        return DropType.ColumnMove;\n    };\n    BodyDropTarget.prototype.onDragEnter = function (draggingEvent) {\n        // we pick the drop listener depending on whether we are in pivot mode are not. if we are\n        // in pivot mode, then dropping cols changes the row group, pivot, value stats. otherwise\n        // we change visibility state and position.\n        // if (this.columnController.isPivotMode()) {\n        var dropType = this.getDropType(draggingEvent);\n        this.currentDropListener = this.dropListeners[dropType];\n        this.currentDropListener.onDragEnter(draggingEvent);\n    };\n    BodyDropTarget.prototype.onDragLeave = function (params) {\n        this.currentDropListener.onDragLeave(params);\n    };\n    BodyDropTarget.prototype.onDragging = function (params) {\n        this.currentDropListener.onDragging(params);\n    };\n    BodyDropTarget.prototype.onDragStop = function (params) {\n        this.currentDropListener.onDragStop(params);\n    };\n    __decorate([\n        Autowired('dragAndDropService')\n    ], BodyDropTarget.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], BodyDropTarget.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], BodyDropTarget.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], BodyDropTarget.prototype, \"init\", null);\n    return BodyDropTarget;\n}(BeanStub));\nexport { BodyDropTarget };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nimport { loadTemplate, addCssClass, clearElement } from \"../../utils/dom\";\nimport { missing, exists } from \"../../utils/generic\";\nvar AnimateSlideCellRenderer = /** @class */ (function (_super) {\n    __extends(AnimateSlideCellRenderer, _super);\n    function AnimateSlideCellRenderer() {\n        var _this = _super.call(this, AnimateSlideCellRenderer.TEMPLATE) || this;\n        _this.refreshCount = 0;\n        _this.eCurrent = _this.queryForHtmlElement('.ag-value-slide-current');\n        return _this;\n    }\n    AnimateSlideCellRenderer.prototype.init = function (params) {\n        this.params = params;\n        this.refresh(params);\n    };\n    AnimateSlideCellRenderer.prototype.addSlideAnimation = function () {\n        var _this = this;\n        this.refreshCount++;\n        // below we keep checking this, and stop working on the animation\n        // if it no longer matches - this means another animation has started\n        // and this one is stale.\n        var refreshCountCopy = this.refreshCount;\n        // if old animation, remove it\n        if (this.ePrevious) {\n            this.getGui().removeChild(this.ePrevious);\n        }\n        this.ePrevious = loadTemplate('<span class=\"ag-value-slide-previous ag-value-slide-out\"></span>');\n        this.ePrevious.innerHTML = this.eCurrent.innerHTML;\n        this.getGui().insertBefore(this.ePrevious, this.eCurrent);\n        // having timeout of 0 allows use to skip to the next css turn,\n        // so we know the previous css classes have been applied. so the\n        // complex set of setTimeout below creates the animation\n        window.setTimeout(function () {\n            if (refreshCountCopy !== _this.refreshCount) {\n                return;\n            }\n            addCssClass(_this.ePrevious, 'ag-value-slide-out-end');\n        }, 50);\n        window.setTimeout(function () {\n            if (refreshCountCopy !== _this.refreshCount) {\n                return;\n            }\n            _this.getGui().removeChild(_this.ePrevious);\n            _this.ePrevious = null;\n        }, 3000);\n    };\n    AnimateSlideCellRenderer.prototype.refresh = function (params) {\n        var value = params.value;\n        if (missing(value)) {\n            value = '';\n        }\n        if (value === this.lastValue) {\n            return;\n        }\n        // we don't show the delta if we are in the middle of a filter. see comment on FilterManager\n        // with regards processingFilterChange\n        if (this.filterManager.isSuppressFlashingCellsBecauseFiltering()) {\n            return;\n        }\n        this.addSlideAnimation();\n        this.lastValue = value;\n        if (exists(params.valueFormatted)) {\n            this.eCurrent.innerHTML = params.valueFormatted;\n        }\n        else if (exists(params.value)) {\n            this.eCurrent.innerHTML = value;\n        }\n        else {\n            clearElement(this.eCurrent);\n        }\n        return true;\n    };\n    AnimateSlideCellRenderer.TEMPLATE = '<span>' +\n        '<span class=\"ag-value-slide-current\"></span>' +\n        '</span>';\n    __decorate([\n        Autowired('filterManager')\n    ], AnimateSlideCellRenderer.prototype, \"filterManager\", void 0);\n    return AnimateSlideCellRenderer;\n}(Component));\nexport { AnimateSlideCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub, Constants, Events, NumberSequence, PostConstruct, PreDestroy, RowNodeBlockLoader, RowNodeCache } from \"@ag-grid-community/core\";\nimport { InfiniteCache } from \"./infiniteCache\";\nvar InfiniteRowModel = /** @class */ (function (_super) {\n    __extends(InfiniteRowModel, _super);\n    function InfiniteRowModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InfiniteRowModel.prototype.getRowBounds = function (index) {\n        return {\n            rowHeight: this.rowHeight,\n            rowTop: this.rowHeight * index\n        };\n    };\n    // we don't implement as lazy row heights is not supported in this row model\n    InfiniteRowModel.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        return false;\n    };\n    InfiniteRowModel.prototype.init = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isRowModelInfinite()) {\n            return;\n        }\n        this.rowHeight = this.gridOptionsWrapper.getRowHeightAsNumber();\n        this.addEventListeners();\n        this.addDestroyFunc(function () { return _this.destroyCache(); });\n    };\n    InfiniteRowModel.prototype.start = function () {\n        this.setDatasource(this.gridOptionsWrapper.getDatasource());\n    };\n    InfiniteRowModel.prototype.destroyDatasource = function () {\n        if (this.datasource) {\n            this.getContext().destroyBean(this.datasource);\n            this.rowRenderer.datasourceChanged();\n            this.datasource = null;\n        }\n    };\n    InfiniteRowModel.prototype.isLastRowFound = function () {\n        return this.infiniteCache ? this.infiniteCache.isMaxRowFound() : false;\n    };\n    InfiniteRowModel.prototype.addEventListeners = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.onColumnEverything.bind(this));\n    };\n    InfiniteRowModel.prototype.onFilterChanged = function () {\n        this.reset();\n    };\n    InfiniteRowModel.prototype.onSortChanged = function () {\n        this.reset();\n    };\n    InfiniteRowModel.prototype.onColumnEverything = function () {\n        var resetRequired;\n        // if cache params, we require reset only if sort model has changed. we don't need to check\n        // for filter model, as the filter manager will fire an event when columns change that result\n        // in the filter changing.\n        if (this.cacheParams) {\n            resetRequired = this.isSortModelDifferent();\n        }\n        else {\n            // if no cacheParams, means first time creating the cache, so always create one\n            resetRequired = true;\n        }\n        if (resetRequired) {\n            this.reset();\n        }\n    };\n    InfiniteRowModel.prototype.isSortModelDifferent = function () {\n        return !_.jsonEquals(this.cacheParams.sortModel, this.sortController.getSortModel());\n    };\n    InfiniteRowModel.prototype.getType = function () {\n        return Constants.ROW_MODEL_TYPE_INFINITE;\n    };\n    InfiniteRowModel.prototype.setDatasource = function (datasource) {\n        this.destroyDatasource();\n        this.datasource = datasource;\n        // only reset if we have a valid datasource to working with\n        if (datasource) {\n            this.reset();\n        }\n    };\n    InfiniteRowModel.prototype.isEmpty = function () {\n        return _.missing(this.infiniteCache);\n    };\n    InfiniteRowModel.prototype.isRowsToRender = function () {\n        return _.exists(this.infiniteCache);\n    };\n    InfiniteRowModel.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.infiniteCache ? this.infiniteCache.getRowNodesInRange(firstInRange, lastInRange) : [];\n    };\n    InfiniteRowModel.prototype.reset = function () {\n        // important to return here, as the user could be setting filter or sort before\n        // data-source is set\n        if (_.missing(this.datasource)) {\n            return;\n        }\n        // if user is providing id's, then this means we can keep the selection between datasource hits,\n        // as the rows will keep their unique id's even if, for example, server side sorting or filtering\n        // is done.\n        var userGeneratingIds = _.exists(this.gridOptionsWrapper.getRowNodeIdFunc());\n        if (!userGeneratingIds) {\n            this.selectionController.reset();\n        }\n        this.resetCache();\n        var event = this.createModelUpdatedEvent();\n        this.eventService.dispatchEvent(event);\n    };\n    InfiniteRowModel.prototype.createModelUpdatedEvent = function () {\n        return {\n            type: Events.EVENT_MODEL_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            // not sure if these should all be false - noticed if after implementing,\n            // maybe they should be true?\n            newPage: false,\n            newData: false,\n            keepRenderedRows: false,\n            animate: false\n        };\n    };\n    InfiniteRowModel.prototype.resetCache = function () {\n        // if not first time creating a cache, need to destroy the old one\n        this.destroyCache();\n        var maxConcurrentRequests = this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();\n        var blockLoadDebounceMillis = this.gridOptionsWrapper.getBlockLoadDebounceMillis();\n        // there is a bi-directional dependency between the loader and the cache,\n        // so we create loader here, and then pass dependencies in setDependencies() method later\n        this.rowNodeBlockLoader = new RowNodeBlockLoader(maxConcurrentRequests, blockLoadDebounceMillis);\n        this.getContext().createBean(this.rowNodeBlockLoader);\n        this.cacheParams = {\n            // the user provided datasource\n            datasource: this.datasource,\n            // sort and filter model\n            filterModel: this.filterManager.getFilterModel(),\n            sortModel: this.sortController.getSortModel(),\n            rowNodeBlockLoader: this.rowNodeBlockLoader,\n            // properties - this way we take a snapshot of them, so if user changes any, they will be\n            // used next time we create a new cache, which is generally after a filter or sort change,\n            // or a new datasource is set\n            maxConcurrentRequests: maxConcurrentRequests,\n            overflowSize: this.gridOptionsWrapper.getCacheOverflowSize(),\n            initialRowCount: this.gridOptionsWrapper.getInfiniteInitialRowCount(),\n            maxBlocksInCache: this.gridOptionsWrapper.getMaxBlocksInCache(),\n            blockSize: this.gridOptionsWrapper.getCacheBlockSize(),\n            rowHeight: this.gridOptionsWrapper.getRowHeightAsNumber(),\n            // the cache could create this, however it is also used by the pages, so handy to create it\n            // here as the settings are also passed to the pages\n            lastAccessedSequence: new NumberSequence()\n        };\n        // set defaults\n        if (!this.cacheParams.maxConcurrentRequests || !(this.cacheParams.maxConcurrentRequests >= 1)) {\n            this.cacheParams.maxConcurrentRequests = 2;\n        }\n        // page size needs to be 1 or greater. having it at 1 would be silly, as you would be hitting the\n        // server for one page at a time. so the default if not specified is 100.\n        if (!this.cacheParams.blockSize || !(this.cacheParams.blockSize >= 1)) {\n            this.cacheParams.blockSize = 100;\n        }\n        // if user doesn't give initial rows to display, we assume one\n        if (!(this.cacheParams.initialRowCount >= 1)) {\n            this.cacheParams.initialRowCount = 1;\n        }\n        // if user doesn't provide overflow, we use default overflow of 1, so user can scroll past\n        // the current page and request first row of next page\n        if (!(this.cacheParams.overflowSize >= 1)) {\n            this.cacheParams.overflowSize = 1;\n        }\n        this.infiniteCache = new InfiniteCache(this.cacheParams);\n        this.getContext().createBean(this.infiniteCache);\n        this.infiniteCache.addEventListener(RowNodeCache.EVENT_CACHE_UPDATED, this.onCacheUpdated.bind(this));\n    };\n    InfiniteRowModel.prototype.destroyCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache = this.destroyBean(this.infiniteCache);\n        }\n        if (this.rowNodeBlockLoader) {\n            this.rowNodeBlockLoader = this.destroyBean(this.rowNodeBlockLoader);\n        }\n    };\n    InfiniteRowModel.prototype.onCacheUpdated = function () {\n        var event = this.createModelUpdatedEvent();\n        this.eventService.dispatchEvent(event);\n    };\n    InfiniteRowModel.prototype.getRow = function (rowIndex) {\n        return this.infiniteCache ? this.infiniteCache.getRow(rowIndex) : null;\n    };\n    InfiniteRowModel.prototype.getRowNode = function (id) {\n        var result = null;\n        this.forEachNode(function (rowNode) {\n            if (rowNode.id === id) {\n                result = rowNode;\n            }\n        });\n        return result;\n    };\n    InfiniteRowModel.prototype.forEachNode = function (callback) {\n        if (this.infiniteCache) {\n            this.infiniteCache.forEachNodeDeep(callback, new NumberSequence());\n        }\n    };\n    InfiniteRowModel.prototype.getCurrentPageHeight = function () {\n        return this.getRowCount() * this.rowHeight;\n    };\n    InfiniteRowModel.prototype.getTopLevelRowCount = function () {\n        return this.getRowCount();\n    };\n    InfiniteRowModel.prototype.getTopLevelRowDisplayedIndex = function (topLevelIndex) {\n        return topLevelIndex;\n    };\n    InfiniteRowModel.prototype.getRowIndexAtPixel = function (pixel) {\n        if (this.rowHeight !== 0) { // avoid divide by zero error\n            var rowIndexForPixel = Math.floor(pixel / this.rowHeight);\n            var lastRowIndex = this.getRowCount() - 1;\n            if (rowIndexForPixel > lastRowIndex) {\n                return lastRowIndex;\n            }\n            else {\n                return rowIndexForPixel;\n            }\n        }\n        else {\n            return 0;\n        }\n    };\n    InfiniteRowModel.prototype.getRowCount = function () {\n        return this.infiniteCache ? this.infiniteCache.getVirtualRowCount() : 0;\n    };\n    InfiniteRowModel.prototype.updateRowData = function (transaction) {\n        if (_.exists(transaction.remove) || _.exists(transaction.update)) {\n            console.warn('ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add');\n            return;\n        }\n        if (_.missing(transaction.addIndex)) {\n            console.warn('ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set');\n            return;\n        }\n        if (this.infiniteCache) {\n            this.infiniteCache.insertItemsAtIndex(transaction.addIndex, transaction.add);\n        }\n    };\n    InfiniteRowModel.prototype.isRowPresent = function (rowNode) {\n        return false;\n    };\n    InfiniteRowModel.prototype.refreshCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache.refreshCache();\n        }\n    };\n    InfiniteRowModel.prototype.purgeCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache.purgeCache();\n        }\n    };\n    InfiniteRowModel.prototype.getVirtualRowCount = function () {\n        if (this.infiniteCache) {\n            return this.infiniteCache.getVirtualRowCount();\n        }\n        else {\n            return null;\n        }\n    };\n    InfiniteRowModel.prototype.isMaxRowFound = function () {\n        if (this.infiniteCache) {\n            return this.infiniteCache.isMaxRowFound();\n        }\n    };\n    InfiniteRowModel.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        if (this.infiniteCache) {\n            this.infiniteCache.setVirtualRowCount(rowCount, maxRowFound);\n        }\n    };\n    InfiniteRowModel.prototype.getBlockState = function () {\n        if (this.rowNodeBlockLoader) {\n            return this.rowNodeBlockLoader.getBlockState();\n        }\n        else {\n            return null;\n        }\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], InfiniteRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], InfiniteRowModel.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], InfiniteRowModel.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], InfiniteRowModel.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], InfiniteRowModel.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], InfiniteRowModel.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], InfiniteRowModel.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        PostConstruct\n    ], InfiniteRowModel.prototype, \"init\", null);\n    __decorate([\n        PreDestroy\n    ], InfiniteRowModel.prototype, \"destroyDatasource\", null);\n    InfiniteRowModel = __decorate([\n        Bean('rowModel')\n    ], InfiniteRowModel);\n    return InfiniteRowModel;\n}(BeanStub));\nexport { InfiniteRowModel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '../widgets/component';\nimport { Autowired, PostConstruct, PreDestroy } from '../context/context';\nimport { GridOptionsWrapper } from '../gridOptionsWrapper';\nimport { Events } from '../events';\nimport { HeaderWrapperComp } from './header/headerWrapperComp';\nimport { HeaderGroupWrapperComp } from './headerGroup/headerGroupWrapperComp';\nimport { Constants } from '../constants/constants';\nimport { FloatingFilterWrapper } from '../filter/floating/floatingFilterWrapper';\nimport { isBrowserSafari } from '../utils/browser';\nimport { missing } from '../utils/generic';\nimport { removeFromArray } from '../utils/array';\nimport { setDomChildOrder } from '../utils/dom';\nimport { setAriaRowIndex } from '../utils/aria';\nexport var HeaderRowType;\n(function (HeaderRowType) {\n    HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n    HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n    HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType || (HeaderRowType = {}));\nvar HeaderRowComp = /** @class */ (function (_super) {\n    __extends(HeaderRowComp, _super);\n    function HeaderRowComp(dept, type, pinned, dropTarget) {\n        var _this = _super.call(this, /* html */ \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\"></div>\") || this;\n        _this.headerComps = {};\n        _this.setRowIndex(dept);\n        _this.type = type;\n        _this.pinned = pinned;\n        _this.dropTarget = dropTarget;\n        var niceClassName = HeaderRowType[type].toLowerCase().replace(/_/g, '-');\n        _this.addCssClass(\"ag-header-row-\" + niceClassName);\n        if (isBrowserSafari()) {\n            // fix for a Safari rendering bug that caused the header to flicker above chart panels\n            // as you move the mouse over the header\n            _this.getGui().style.transform = 'translateZ(0)';\n        }\n        return _this;\n    }\n    HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n        var _this = this;\n        Object.keys(this.headerComps).forEach(function (key) {\n            callback(_this.headerComps[key]);\n        });\n    };\n    HeaderRowComp.prototype.setRowIndex = function (rowIndex) {\n        this.dept = rowIndex;\n        setAriaRowIndex(this.getGui(), rowIndex + 1);\n    };\n    HeaderRowComp.prototype.getRowIndex = function () {\n        return this.dept;\n    };\n    HeaderRowComp.prototype.getType = function () {\n        return this.type;\n    };\n    HeaderRowComp.prototype.destroyAllChildComponents = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.destroyChildComponents(idsOfAllChildren);\n    };\n    HeaderRowComp.prototype.destroyChildComponents = function (idsToDestroy, keepFocused) {\n        var _this = this;\n        idsToDestroy.forEach(function (id) {\n            var childHeaderWrapper = _this.headerComps[id];\n            if (keepFocused &&\n                !childHeaderWrapper.getColumn().isMoving() &&\n                _this.focusController.isHeaderWrapperFocused(childHeaderWrapper)) {\n                return;\n            }\n            _this.getGui().removeChild(childHeaderWrapper.getGui());\n            _this.destroyBean(childHeaderWrapper);\n            delete _this.headerComps[id];\n        });\n    };\n    HeaderRowComp.prototype.onRowHeightChanged = function () {\n        var headerRowCount = this.columnController.getHeaderRowCount();\n        var sizes = [];\n        var numberOfFloating = 0;\n        var groupHeight;\n        var headerHeight;\n        if (this.columnController.isPivotMode()) {\n            groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            if (this.columnController.hasFloatingFilters()) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        for (var i = 0; i < numberOfGroups; i++) {\n            sizes.push(groupHeight);\n        }\n        sizes.push(headerHeight);\n        for (var i = 0; i < numberOfFloating; i++) {\n            sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n        }\n        var rowHeight = 0;\n        for (var i = 0; i < this.dept; i++) {\n            rowHeight += sizes[i];\n        }\n        this.getGui().style.top = rowHeight + 'px';\n        this.getGui().style.height = sizes[this.dept] + 'px';\n    };\n    //noinspection JSUnusedLocalSymbols\n    HeaderRowComp.prototype.init = function () {\n        this.onRowHeightChanged();\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        // this.addManagedListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n    };\n    HeaderRowComp.prototype.onColumnResized = function () {\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.setWidth = function () {\n        var width = this.getWidthForRow();\n        this.getGui().style.width = width + 'px';\n    };\n    HeaderRowComp.prototype.getWidthForRow = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            var centerRow = missing(this.pinned);\n            if (centerRow) {\n                return this.columnController.getContainerWidth(Constants.PINNED_RIGHT)\n                    + this.columnController.getContainerWidth(Constants.PINNED_LEFT)\n                    + this.columnController.getContainerWidth(null);\n            }\n            return 0;\n        }\n        // if not printing, just return the width as normal\n        return this.columnController.getContainerWidth(this.pinned);\n    };\n    // private onGridColumnsChanged(): void {\n    //     this.removeAndDestroyAllChildComponents();\n    // }\n    // private removeAndDestroyAllChildComponents(): void {\n    //     const idsOfAllChildren = Object.keys(this.headerComps);\n    //     this.destroyChildComponents(idsOfAllChildren);\n    // }\n    HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.getItemsAtDepth = function () {\n        var _this = this;\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            // for print layout, we add all columns into the center\n            var centerContainer = missing(this.pinned);\n            if (centerContainer) {\n                var result_1 = [];\n                [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n                    var items = _this.columnController.getVirtualHeaderGroupRow(pinned, _this.type == HeaderRowType.FLOATING_FILTER ?\n                        _this.dept - 1 :\n                        _this.dept);\n                    result_1 = result_1.concat(items);\n                });\n                return result_1;\n            }\n            return [];\n        }\n        // when in normal layout, we add the columns for that container only\n        return this.columnController.getVirtualHeaderGroupRow(this.pinned, this.type == HeaderRowType.FLOATING_FILTER ?\n            this.dept - 1 :\n            this.dept);\n    };\n    HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n        var _this = this;\n        var compIdsToRemove = Object.keys(this.headerComps);\n        var compIdsWanted = [];\n        var itemsAtDepth = this.getItemsAtDepth();\n        itemsAtDepth.forEach(function (child) {\n            // skip groups that have no displayed children. this can happen when the group is broken,\n            // and this section happens to have nothing to display for the open / closed state.\n            // (a broken group is one that is split, ie columns in the group have a non-group column\n            // in between them)\n            if (child.isEmptyGroup()) {\n                return;\n            }\n            var idOfChild = child.getUniqueId();\n            var eParentContainer = _this.getGui();\n            // if we already have this cell rendered, do nothing\n            var previousComp = _this.headerComps[idOfChild];\n            // it's possible there is a new Column with the same ID, but it's for a different Column.\n            // this is common with pivoting, where the pivot cols change, but the id's are still pivot_0,\n            // pivot_1 etc. so if new col but same ID, need to remove the old col here first as we are\n            // about to replace it in the this.headerComps map.\n            var previousCompForOldColumn = previousComp && previousComp.getColumn() != child;\n            if (previousCompForOldColumn) {\n                _this.destroyChildComponents([idOfChild]);\n                removeFromArray(compIdsToRemove, idOfChild);\n                previousComp = undefined;\n            }\n            if (previousComp) {\n                // already have comp for this column, so do nothing\n                removeFromArray(compIdsToRemove, idOfChild);\n            }\n            else {\n                // don't have comp, need to create one\n                var headerComp = _this.createHeaderComp(child);\n                _this.headerComps[idOfChild] = headerComp;\n                eParentContainer.appendChild(headerComp.getGui());\n            }\n            compIdsWanted.push(idOfChild);\n        });\n        // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n        this.destroyChildComponents(compIdsToRemove, true);\n        var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n        if (ensureDomOrder) {\n            var correctChildOrder = compIdsWanted.map(function (id) { return _this.headerComps[id].getGui(); });\n            setDomChildOrder(this.getGui(), correctChildOrder);\n        }\n    };\n    HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n        var result;\n        switch (this.type) {\n            case HeaderRowType.COLUMN:\n                result = new HeaderWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.COLUMN_GROUP:\n                result = new HeaderGroupWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.FLOATING_FILTER:\n                result = new FloatingFilterWrapper(columnGroupChild, this.pinned);\n                break;\n        }\n        this.createBean(result);\n        result.setParentComponent(this);\n        return result;\n    };\n    HeaderRowComp.prototype.getHeaderComps = function () {\n        return this.headerComps;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderRowComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], HeaderRowComp.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], HeaderRowComp.prototype, \"focusController\", void 0);\n    __decorate([\n        PreDestroy\n    ], HeaderRowComp.prototype, \"destroyAllChildComponents\", null);\n    __decorate([\n        PostConstruct\n    ], HeaderRowComp.prototype, \"init\", null);\n    return HeaderRowComp;\n}(Component));\nexport { HeaderRowComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from './component';\nimport { RefSelector } from './componentAnnotations';\nimport { Autowired, PostConstruct } from '../context/context';\nimport { createIcon } from '../utils/icon';\nimport { setDisplayed, removeCssClass, addCssClass, addOrRemoveCssClass } from '../utils/dom';\nimport { KeyCode } from '../constants/keyCode';\nvar AgGroupComponent = /** @class */ (function (_super) {\n    __extends(AgGroupComponent, _super);\n    function AgGroupComponent(params) {\n        if (params === void 0) { params = {}; }\n        var _this = _super.call(this, AgGroupComponent.getTemplate(params)) || this;\n        _this.suppressEnabledCheckbox = true;\n        _this.suppressOpenCloseIcons = false;\n        var title = params.title, enabled = params.enabled, items = params.items, suppressEnabledCheckbox = params.suppressEnabledCheckbox, suppressOpenCloseIcons = params.suppressOpenCloseIcons;\n        _this.title = title;\n        _this.cssIdentifier = params.cssIdentifier || 'default';\n        _this.enabled = enabled != null ? enabled : true;\n        _this.items = items || [];\n        _this.alignItems = params.alignItems || 'center';\n        if (suppressEnabledCheckbox != null) {\n            _this.suppressEnabledCheckbox = suppressEnabledCheckbox;\n        }\n        if (suppressOpenCloseIcons != null) {\n            _this.suppressOpenCloseIcons = suppressOpenCloseIcons;\n        }\n        return _this;\n    }\n    AgGroupComponent.getTemplate = function (params) {\n        var cssIdentifier = params.cssIdentifier || 'default';\n        var direction = params.direction || 'vertical';\n        return /* html */ \"<div class=\\\"ag-group ag-\" + cssIdentifier + \"-group\\\">\\n            <div class=\\\"ag-group-title-bar ag-\" + cssIdentifier + \"-group-title-bar ag-unselectable\\\" ref=\\\"eTitleBar\\\">\\n                <span class=\\\"ag-group-title-bar-icon ag-\" + cssIdentifier + \"-group-title-bar-icon\\\" ref=\\\"eGroupOpenedIcon\\\"></span>\\n                <span class=\\\"ag-group-title-bar-icon ag-\" + cssIdentifier + \"-group-title-bar-icon\\\" ref=\\\"eGroupClosedIcon\\\"></span>\\n                <span ref=\\\"eTitle\\\" class=\\\"ag-group-title ag-\" + cssIdentifier + \"-group-title\\\"></span>\\n            </div>\\n            <div ref=\\\"eToolbar\\\" class=\\\"ag-group-toolbar ag-\" + cssIdentifier + \"-group-toolbar\\\">\\n                <ag-checkbox ref=\\\"cbGroupEnabled\\\"></ag-checkbox>\\n            </div>\\n            <div ref=\\\"eContainer\\\" class=\\\"ag-group-container ag-group-container-\" + direction + \" ag-\" + cssIdentifier + \"-group-container\\\"></div>\\n        </div>\";\n    };\n    AgGroupComponent.prototype.postConstruct = function () {\n        if (this.items.length) {\n            var initialItems = this.items;\n            this.items = [];\n            this.addItems(initialItems);\n        }\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.cbGroupEnabled.setLabel(localeTextFunc('enabled', 'Enabled'));\n        if (this.title) {\n            this.setTitle(this.title);\n        }\n        if (this.enabled) {\n            this.setEnabled(this.enabled);\n        }\n        this.setAlignItems(this.alignItems);\n        this.hideEnabledCheckbox(this.suppressEnabledCheckbox);\n        this.hideOpenCloseIcons(this.suppressOpenCloseIcons);\n        this.setupExpandContract();\n        this.refreshChildDisplay();\n    };\n    AgGroupComponent.prototype.setupExpandContract = function () {\n        var _this = this;\n        this.eGroupClosedIcon.appendChild(createIcon('columnSelectClosed', this.gridOptionsWrapper, null));\n        this.eGroupOpenedIcon.appendChild(createIcon('columnSelectOpen', this.gridOptionsWrapper, null));\n        this.addManagedListener(this.eTitleBar, 'click', function () { return _this.toggleGroupExpand(); });\n        this.addManagedListener(this.eTitleBar, 'keydown', function (e) {\n            switch (e.keyCode) {\n                case KeyCode.ENTER:\n                    _this.toggleGroupExpand();\n                    break;\n                case KeyCode.RIGHT:\n                    _this.toggleGroupExpand(true);\n                    break;\n                case KeyCode.LEFT:\n                    _this.toggleGroupExpand(false);\n                    break;\n            }\n        });\n    };\n    AgGroupComponent.prototype.refreshChildDisplay = function () {\n        var showIcon = !this.suppressOpenCloseIcons;\n        setDisplayed(this.eToolbar, this.expanded && !this.suppressEnabledCheckbox);\n        setDisplayed(this.eGroupOpenedIcon, showIcon && this.expanded);\n        setDisplayed(this.eGroupClosedIcon, showIcon && !this.expanded);\n    };\n    AgGroupComponent.prototype.isExpanded = function () {\n        return this.expanded;\n    };\n    AgGroupComponent.prototype.setAlignItems = function (alignment) {\n        var eGui = this.getGui();\n        if (this.alignItems !== alignment) {\n            removeCssClass(eGui, \"ag-group-item-alignment-\" + this.alignItems);\n        }\n        this.alignItems = alignment;\n        var newCls = \"ag-group-item-alignment-\" + this.alignItems;\n        addCssClass(eGui, newCls);\n        return this;\n    };\n    AgGroupComponent.prototype.toggleGroupExpand = function (expanded) {\n        if (this.suppressOpenCloseIcons) {\n            this.expanded = true;\n            this.refreshChildDisplay();\n            setDisplayed(this.eContainer, true);\n            return this;\n        }\n        expanded = expanded != null ? expanded : !this.expanded;\n        if (this.expanded === expanded) {\n            return this;\n        }\n        this.expanded = expanded;\n        this.refreshChildDisplay();\n        setDisplayed(this.eContainer, expanded);\n        this.dispatchEvent({ type: this.expanded ? AgGroupComponent.EVENT_EXPANDED : AgGroupComponent.EVENT_COLLAPSED });\n        return this;\n    };\n    AgGroupComponent.prototype.addItems = function (items) {\n        var _this = this;\n        items.forEach(function (item) { return _this.addItem(item); });\n    };\n    AgGroupComponent.prototype.addItem = function (item) {\n        var container = this.eContainer;\n        var el = item instanceof Component ? item.getGui() : item;\n        addCssClass(el, 'ag-group-item');\n        addCssClass(el, \"ag-\" + this.cssIdentifier + \"-group-item\");\n        container.appendChild(el);\n        this.items.push(el);\n    };\n    AgGroupComponent.prototype.hideItem = function (hide, index) {\n        var itemToHide = this.items[index];\n        addOrRemoveCssClass(itemToHide, 'ag-hidden', hide);\n    };\n    AgGroupComponent.prototype.setTitle = function (title) {\n        this.eTitle.innerText = title;\n        return this;\n    };\n    AgGroupComponent.prototype.addCssClassToTitleBar = function (cssClass) {\n        addCssClass(this.eTitleBar, cssClass);\n    };\n    AgGroupComponent.prototype.setEnabled = function (enabled, skipToggle) {\n        this.enabled = enabled;\n        this.refreshDisabledStyles();\n        this.toggleGroupExpand(enabled);\n        if (!skipToggle) {\n            this.cbGroupEnabled.setValue(enabled);\n        }\n        return this;\n    };\n    AgGroupComponent.prototype.isEnabled = function () {\n        return this.enabled;\n    };\n    AgGroupComponent.prototype.onEnableChange = function (callbackFn) {\n        var _this = this;\n        this.cbGroupEnabled.onValueChange(function (newSelection) {\n            _this.setEnabled(newSelection, true);\n            callbackFn(newSelection);\n        });\n        return this;\n    };\n    AgGroupComponent.prototype.hideEnabledCheckbox = function (hide) {\n        this.suppressEnabledCheckbox = hide;\n        this.refreshChildDisplay();\n        this.refreshDisabledStyles();\n        return this;\n    };\n    AgGroupComponent.prototype.hideOpenCloseIcons = function (hide) {\n        this.suppressOpenCloseIcons = hide;\n        if (hide) {\n            this.toggleGroupExpand(true);\n        }\n        return this;\n    };\n    AgGroupComponent.prototype.refreshDisabledStyles = function () {\n        addOrRemoveCssClass(this.getGui(), 'ag-disabled', !this.enabled);\n        if (this.suppressEnabledCheckbox && !this.enabled) {\n            addCssClass(this.eTitleBar, 'ag-disabled-group-title-bar');\n            this.eTitleBar.removeAttribute('tabindex');\n        }\n        else {\n            removeCssClass(this.eTitleBar, 'ag-disabled-group-title-bar');\n            this.eTitleBar.setAttribute('tabindex', '0');\n        }\n        addOrRemoveCssClass(this.eContainer, 'ag-disabled-group-container', !this.enabled);\n    };\n    AgGroupComponent.EVENT_EXPANDED = 'expanded';\n    AgGroupComponent.EVENT_COLLAPSED = 'collapsed';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AgGroupComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eTitleBar')\n    ], AgGroupComponent.prototype, \"eTitleBar\", void 0);\n    __decorate([\n        RefSelector('eGroupOpenedIcon')\n    ], AgGroupComponent.prototype, \"eGroupOpenedIcon\", void 0);\n    __decorate([\n        RefSelector('eGroupClosedIcon')\n    ], AgGroupComponent.prototype, \"eGroupClosedIcon\", void 0);\n    __decorate([\n        RefSelector('eToolbar')\n    ], AgGroupComponent.prototype, \"eToolbar\", void 0);\n    __decorate([\n        RefSelector('cbGroupEnabled')\n    ], AgGroupComponent.prototype, \"cbGroupEnabled\", void 0);\n    __decorate([\n        RefSelector('eTitle')\n    ], AgGroupComponent.prototype, \"eTitle\", void 0);\n    __decorate([\n        RefSelector('eContainer')\n    ], AgGroupComponent.prototype, \"eContainer\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgGroupComponent.prototype, \"postConstruct\", null);\n    return AgGroupComponent;\n}(Component));\nexport { AgGroupComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * A Util Class only used when debugging for printing time to console\n */\nvar Timer = /** @class */ (function () {\n    function Timer() {\n        this.timestamp = new Date().getTime();\n    }\n    Timer.prototype.print = function (msg) {\n        var duration = (new Date().getTime()) - this.timestamp;\n        console.info(msg + \" = \" + duration);\n        this.timestamp = new Date().getTime();\n    };\n    return Timer;\n}());\nexport { Timer };\n","import { ModuleNames } from \"@ag-grid-community/core\";\nimport { InfiniteRowModel } from \"./infiniteRowModel/infiniteRowModel\";\nexport var InfiniteRowModelModule = {\n    moduleName: ModuleNames.InfiniteRowModelModule,\n    rowModels: { 'infinite': InfiniteRowModel }\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { DragAndDropService, DragSourceType, VerticalDirection } from \"../dragAndDrop/dragAndDropService\";\nimport { Autowired, Optional, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { last } from '../utils/array';\nimport { BeanStub } from \"../context/beanStub\";\nimport { missingOrEmpty } from \"../utils/generic\";\nimport { doOnce } from \"../utils/function\";\nvar RowDragFeature = /** @class */ (function (_super) {\n    __extends(RowDragFeature, _super);\n    function RowDragFeature(eContainer, gridPanel) {\n        var _this = _super.call(this) || this;\n        _this.isMultiRowDrag = false;\n        _this.isGridSorted = false;\n        _this.isGridFiltered = false;\n        _this.isRowGroupActive = false;\n        _this.eContainer = eContainer;\n        _this.gridPanel = gridPanel;\n        return _this;\n    }\n    RowDragFeature.prototype.postConstruct = function () {\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            this.clientSideRowModel = this.rowModel;\n        }\n        this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this));\n        this.onSortChanged();\n        this.onFilterChanged();\n        this.onRowGroupChanged();\n    };\n    RowDragFeature.prototype.onSortChanged = function () {\n        this.isGridSorted = this.sortController.isSortActive();\n    };\n    RowDragFeature.prototype.onFilterChanged = function () {\n        this.isGridFiltered = this.filterManager.isAnyFilterPresent();\n    };\n    RowDragFeature.prototype.onRowGroupChanged = function () {\n        var rowGroups = this.columnController.getRowGroupColumns();\n        this.isRowGroupActive = !missingOrEmpty(rowGroups);\n    };\n    RowDragFeature.prototype.getContainer = function () {\n        return this.eContainer;\n    };\n    RowDragFeature.prototype.isInterestedIn = function (type) {\n        return type === DragSourceType.RowDrag;\n    };\n    RowDragFeature.prototype.getIconName = function () {\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return DragAndDropService.ICON_NOT_ALLOWED;\n        }\n        return DragAndDropService.ICON_MOVE;\n    };\n    RowDragFeature.prototype.shouldPreventRowMove = function () {\n        return this.isGridSorted || this.isGridFiltered || this.isRowGroupActive;\n    };\n    RowDragFeature.prototype.getRowNodes = function (draggingEvent) {\n        if (!this.isFromThisGrid(draggingEvent)) {\n            return draggingEvent.dragItem.rowNodes;\n        }\n        var enableMultiRowDragging = this.gridOptionsWrapper.isEnableMultiRowDragging();\n        var selectedNodes = this.selectionController.getSelectedNodes();\n        var currentNode = draggingEvent.dragItem.rowNode;\n        if (enableMultiRowDragging && selectedNodes.indexOf(currentNode) !== -1) {\n            this.isMultiRowDrag = true;\n            return __spreadArrays(selectedNodes);\n        }\n        this.isMultiRowDrag = false;\n        return [currentNode];\n    };\n    RowDragFeature.prototype.onDragEnter = function (draggingEvent) {\n        // when entering, we fire the enter event, then in onEnterOrDragging,\n        // we also fire the move event. so we get both events when entering.\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER, draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged()) {\n            this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n                rowNode.setDragging(true);\n            });\n        }\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.onDragging = function (draggingEvent) {\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.isFromThisGrid = function (draggingEvent) {\n        return this.gridPanel.getGui().contains(draggingEvent.dragSource.eElement);\n    };\n    RowDragFeature.prototype.isDropZoneWithinThisGrid = function (draggingEvent) {\n        var gridGui = this.gridPanel.getGui();\n        var dropZoneTarget = draggingEvent.dropZoneTarget;\n        return !gridGui.contains(dropZoneTarget);\n    };\n    RowDragFeature.prototype.onEnterOrDragging = function (draggingEvent) {\n        // this event is fired for enter and move\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE, draggingEvent);\n        this.lastDraggingEvent = draggingEvent;\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag) {\n            this.doManagedDrag(draggingEvent, pixel);\n        }\n        this.checkCenterForScrolling(pixel);\n    };\n    RowDragFeature.prototype.doManagedDrag = function (draggingEvent, pixel) {\n        var _this = this;\n        var rowNodes;\n        var isFromThisGrid = this.isFromThisGrid(draggingEvent);\n        if (isFromThisGrid) {\n            rowNodes = [draggingEvent.dragItem.rowNode];\n            if (this.isMultiRowDrag) {\n                rowNodes = __spreadArrays(this.selectionController.getSelectedNodes()).sort(function (a, b) { return _this.getRowIndexNumber(a) - _this.getRowIndexNumber(b); });\n            }\n            draggingEvent.dragItem.rowNodes = rowNodes;\n        }\n        else {\n            rowNodes = draggingEvent.dragItem.rowNodes;\n        }\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !isFromThisGrid) {\n            if (!this.isDropZoneWithinThisGrid(draggingEvent)) {\n                this.clientSideRowModel.highlightRowAtPixel(rowNodes[0], pixel);\n            }\n        }\n        else {\n            this.moveRows(rowNodes, pixel);\n        }\n    };\n    RowDragFeature.prototype.getRowIndexNumber = function (rowNode) {\n        return parseInt(last(rowNode.getRowIndexString().split('-')), 10);\n    };\n    RowDragFeature.prototype.moveRowAndClearHighlight = function (draggingEvent) {\n        var _this = this;\n        var lastHighlightedRowNode = this.clientSideRowModel.getLastHighlightedRowNode();\n        var isBelow = lastHighlightedRowNode && lastHighlightedRowNode.highlighted === 'below';\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var rowNodes = draggingEvent.dragItem.rowNodes;\n        var increment = isBelow ? 1 : 0;\n        if (this.isFromThisGrid(draggingEvent)) {\n            rowNodes.forEach(function (rowNode) {\n                if (rowNode.rowTop < pixel) {\n                    increment -= 1;\n                }\n            });\n            this.moveRows(rowNodes, pixel, increment);\n        }\n        else {\n            var getRowNodeId_1 = this.gridOptionsWrapper.getRowNodeIdFunc();\n            var addIndex = this.clientSideRowModel.getRowIndexAtPixel(pixel) + 1;\n            if (this.clientSideRowModel.getHighlightPosition(pixel) === 'above') {\n                addIndex--;\n            }\n            this.clientSideRowModel.updateRowData({\n                add: rowNodes\n                    .map(function (node) { return node.data; })\n                    .filter(function (data) { return !_this.clientSideRowModel.getRowNode(getRowNodeId_1 ? getRowNodeId_1(data) : data.id); }),\n                addIndex: addIndex\n            });\n        }\n        this.clearRowHighlight();\n    };\n    RowDragFeature.prototype.clearRowHighlight = function () {\n        this.clientSideRowModel.highlightRowAtPixel(null);\n    };\n    RowDragFeature.prototype.moveRows = function (rowNodes, pixel, increment) {\n        if (increment === void 0) { increment = 0; }\n        var rowWasMoved = this.clientSideRowModel.ensureRowsAtPixel(rowNodes, pixel, increment);\n        if (rowWasMoved) {\n            this.focusController.clearFocusedCell();\n            if (this.rangeController) {\n                this.rangeController.removeAllCellRanges();\n            }\n        }\n    };\n    RowDragFeature.prototype.checkCenterForScrolling = function (pixel) {\n        // scroll if the mouse is within 50px of the grid edge\n        var pixelRange = this.gridPanel.getVScrollPosition();\n        // console.log(`pixelRange = (${pixelRange.top}, ${pixelRange.bottom})`);\n        this.needToMoveUp = pixel < (pixelRange.top + 50);\n        this.needToMoveDown = pixel > (pixelRange.bottom - 50);\n        // console.log(`needToMoveUp = ${this.needToMoveUp} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        // console.log(`needToMoveDown = ${this.needToMoveDown} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        if (this.needToMoveUp || this.needToMoveDown) {\n            this.ensureIntervalStarted();\n        }\n        else {\n            this.ensureIntervalCleared();\n        }\n    };\n    RowDragFeature.prototype.ensureIntervalStarted = function () {\n        if (this.movingIntervalId) {\n            return;\n        }\n        this.intervalCount = 0;\n        this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n    };\n    RowDragFeature.prototype.ensureIntervalCleared = function () {\n        if (!this.moveInterval) {\n            return;\n        }\n        window.clearInterval(this.movingIntervalId);\n        this.movingIntervalId = null;\n    };\n    RowDragFeature.prototype.moveInterval = function () {\n        // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n        // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n        var pixelsToMove;\n        this.intervalCount++;\n        pixelsToMove = 10 + (this.intervalCount * 5);\n        if (pixelsToMove > 100) {\n            pixelsToMove = 100;\n        }\n        var pixelsMoved;\n        if (this.needToMoveDown) {\n            pixelsMoved = this.gridPanel.scrollVertically(pixelsToMove);\n        }\n        else if (this.needToMoveUp) {\n            pixelsMoved = this.gridPanel.scrollVertically(-pixelsToMove);\n        }\n        if (pixelsMoved !== 0) {\n            this.onDragging(this.lastDraggingEvent);\n        }\n    };\n    RowDragFeature.prototype.addRowDropZone = function (params) {\n        var _this = this;\n        if (!params.getContainer()) {\n            doOnce(function () { return console.warn('ag-Grid: addRowDropZone - A container target needs to be provided'); }, 'add-drop-zone-empty-target');\n            return;\n        }\n        if (this.dragAndDropService.findExternalZone(params)) {\n            console.warn('ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.');\n            return;\n        }\n        var processedParams = {\n            getContainer: params.getContainer\n        };\n        if (params.fromGrid) {\n            params.fromGrid = undefined;\n            processedParams = params;\n        }\n        else {\n            if (params.onDragEnter) {\n                processedParams.onDragEnter = function (e) {\n                    params.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                };\n            }\n            if (params.onDragLeave) {\n                processedParams.onDragLeave = function (e) {\n                    params.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                };\n            }\n            if (params.onDragging) {\n                processedParams.onDragging = function (e) {\n                    params.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                };\n            }\n            if (params.onDragStop) {\n                processedParams.onDragStop = function (e) {\n                    params.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                };\n            }\n        }\n        this.dragAndDropService.addDropTarget(__assign({ isInterestedIn: function (type) { return type === DragSourceType.RowDrag; }, getIconName: function () { return DragAndDropService.ICON_MOVE; }, external: true }, processedParams));\n    };\n    RowDragFeature.prototype.getRowDropZone = function (events) {\n        var _this = this;\n        var getContainer = this.getContainer.bind(this);\n        var onDragEnter = this.onDragEnter.bind(this);\n        var onDragLeave = this.onDragLeave.bind(this);\n        var onDragging = this.onDragging.bind(this);\n        var onDragStop = this.onDragStop.bind(this);\n        if (!events) {\n            return { getContainer: getContainer, onDragEnter: onDragEnter, onDragLeave: onDragLeave, onDragging: onDragging, onDragStop: onDragStop, fromGrid: true };\n        }\n        return {\n            getContainer: getContainer,\n            onDragEnter: events.onDragEnter\n                ? (function (e) {\n                    onDragEnter(e);\n                    events.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                })\n                : onDragEnter,\n            onDragLeave: events.onDragLeave\n                ? (function (e) {\n                    onDragLeave(e);\n                    events.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                })\n                : onDragLeave,\n            onDragging: events.onDragging\n                ? (function (e) {\n                    onDragging(e);\n                    events.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                })\n                : onDragging,\n            onDragStop: events.onDragStop\n                ? (function (e) {\n                    onDragStop(e);\n                    events.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                })\n                : onDragStop,\n            fromGrid: true\n        };\n    };\n    RowDragFeature.prototype.draggingToRowDragEvent = function (type, draggingEvent) {\n        var yNormalised = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var mouseIsPastLastRow = yNormalised > this.rowModel.getCurrentPageHeight();\n        var overIndex = -1;\n        var overNode = null;\n        if (!mouseIsPastLastRow) {\n            overIndex = this.rowModel.getRowIndexAtPixel(yNormalised);\n            overNode = this.rowModel.getRow(overIndex);\n        }\n        var vDirectionString;\n        switch (draggingEvent.vDirection) {\n            case VerticalDirection.Down:\n                vDirectionString = 'down';\n                break;\n            case VerticalDirection.Up:\n                vDirectionString = 'up';\n                break;\n            default:\n                vDirectionString = null;\n                break;\n        }\n        var event = {\n            type: type,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            event: draggingEvent.event,\n            node: draggingEvent.dragItem.rowNode,\n            nodes: draggingEvent.dragItem.rowNodes,\n            overIndex: overIndex,\n            overNode: overNode,\n            y: yNormalised,\n            vDirection: vDirectionString\n        };\n        return event;\n    };\n    RowDragFeature.prototype.dispatchGridEvent = function (type, draggingEvent) {\n        var event = this.draggingToRowDragEvent(type, draggingEvent);\n        this.eventService.dispatchEvent(event);\n    };\n    RowDragFeature.prototype.onDragLeave = function (draggingEvent) {\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE, draggingEvent);\n        this.stopDragging(draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged()) {\n            this.clearRowHighlight();\n        }\n        if (this.isFromThisGrid(draggingEvent)) {\n            this.isMultiRowDrag = false;\n        }\n    };\n    RowDragFeature.prototype.onDragStop = function (draggingEvent) {\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END, draggingEvent);\n        this.stopDragging(draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged() &&\n            (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !this.isFromThisGrid(draggingEvent)) &&\n            !this.isDropZoneWithinThisGrid(draggingEvent)) {\n            this.moveRowAndClearHighlight(draggingEvent);\n        }\n    };\n    RowDragFeature.prototype.stopDragging = function (draggingEvent) {\n        this.ensureIntervalCleared();\n        if (this.gridOptionsWrapper.isRowDragManaged()) {\n            this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n                rowNode.setDragging(false);\n            });\n        }\n    };\n    __decorate([\n        Autowired('dragAndDropService')\n    ], RowDragFeature.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], RowDragFeature.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], RowDragFeature.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], RowDragFeature.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], RowDragFeature.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], RowDragFeature.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], RowDragFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], RowDragFeature.prototype, \"selectionController\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], RowDragFeature.prototype, \"rangeController\", void 0);\n    __decorate([\n        Autowired('mouseEventService')\n    ], RowDragFeature.prototype, \"mouseEventService\", void 0);\n    __decorate([\n        PostConstruct\n    ], RowDragFeature.prototype, \"postConstruct\", null);\n    return RowDragFeature;\n}(BeanStub));\nexport { RowDragFeature };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { EventService } from \"../eventService\";\nimport { Events } from \"../events\";\nimport { Autowired } from \"../context/context\";\nimport { Constants } from \"../constants/constants\";\nimport { exists, missing, missingOrEmpty } from \"../utils/generic\";\nimport { assign, getAllKeysInObjects } from \"../utils/object\";\nvar RowNode = /** @class */ (function () {\n    function RowNode() {\n        /** Children mapped by the pivot columns */\n        this.childrenMapped = {};\n        /** True by default - can be overridden via gridOptions.isRowSelectable(rowNode) */\n        this.selectable = true;\n        /** Used by sorting service - to give deterministic sort to groups. Previously we\n         * just id for this, however id is a string and had slower sorting compared to numbers. */\n        this.__objectId = RowNode.OBJECT_ID_SEQUENCE++;\n        /** True when nodes with the same id are being removed and added as part of the same batch transaction */\n        this.alreadyRendered = false;\n        this.highlighted = null;\n        this.selected = false;\n    }\n    RowNode.prototype.setData = function (data) {\n        var oldData = this.data;\n        this.data = data;\n        this.valueCache.onDataChanged();\n        this.updateDataOnDetailNode();\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, false);\n        this.dispatchLocalEvent(event);\n    };\n    // when we are doing master / detail, the detail node is lazy created, but then kept around.\n    // so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n    // in sync, otherwise expand/collapse of the detail would still show the old values.\n    RowNode.prototype.updateDataOnDetailNode = function () {\n        if (this.detailNode) {\n            this.detailNode.data = this.data;\n        }\n    };\n    RowNode.prototype.createDataChangedEvent = function (newData, oldData, update) {\n        return {\n            type: RowNode.EVENT_DATA_CHANGED,\n            node: this,\n            oldData: oldData,\n            newData: newData,\n            update: update\n        };\n    };\n    RowNode.prototype.createLocalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this\n        };\n    };\n    // similar to setRowData, however it is expected that the data is the same data item. this\n    // is intended to be used with Redux type stores, where the whole data can be changed. we are\n    // guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n    // underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n    // dataChanged event, will refresh the cells rather than rip them all out (so user can show transitions).\n    RowNode.prototype.updateData = function (data) {\n        var oldData = this.data;\n        this.data = data;\n        this.updateDataOnDetailNode();\n        this.checkRowSelectable();\n        this.updateDataOnDetailNode();\n        var event = this.createDataChangedEvent(data, oldData, true);\n        this.dispatchLocalEvent(event);\n    };\n    RowNode.prototype.getRowIndexString = function () {\n        if (this.rowPinned === Constants.PINNED_TOP) {\n            return 't-' + this.rowIndex;\n        }\n        else if (this.rowPinned === Constants.PINNED_BOTTOM) {\n            return 'b-' + this.rowIndex;\n        }\n        return this.rowIndex.toString();\n    };\n    RowNode.prototype.createDaemonNode = function () {\n        var oldNode = new RowNode();\n        this.context.createBean(oldNode);\n        // just copy the id and data, this is enough for the node to be used\n        // in the selection controller (the selection controller is the only\n        // place where daemon nodes can live).\n        oldNode.id = this.id;\n        oldNode.data = this.data;\n        oldNode.daemon = true;\n        oldNode.selected = this.selected;\n        oldNode.level = this.level;\n        return oldNode;\n    };\n    RowNode.prototype.setDataAndId = function (data, id) {\n        var oldNode = exists(this.id) ? this.createDaemonNode() : null;\n        var oldData = this.data;\n        this.data = data;\n        this.updateDataOnDetailNode();\n        this.setId(id);\n        this.selectionController.syncInRowNode(this, oldNode);\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, false);\n        this.dispatchLocalEvent(event);\n    };\n    RowNode.prototype.checkRowSelectable = function () {\n        var isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n        var shouldInvokeIsRowSelectable = isRowSelectableFunc && exists(this);\n        this.setRowSelectable(shouldInvokeIsRowSelectable ? isRowSelectableFunc(this) : true);\n    };\n    RowNode.prototype.setRowSelectable = function (newVal) {\n        if (this.selectable !== newVal) {\n            this.selectable = newVal;\n            if (this.eventService) {\n                this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED));\n            }\n        }\n    };\n    RowNode.prototype.setId = function (id) {\n        // see if user is providing the id's\n        var getRowNodeId = this.gridOptionsWrapper.getRowNodeIdFunc();\n        if (getRowNodeId) {\n            // if user is providing the id's, then we set the id only after the data has been set.\n            // this is important for virtual pagination and viewport, where empty rows exist.\n            if (this.data) {\n                this.id = getRowNodeId(this.data);\n                // make sure id provided doesn't start with 'row-group-' as this is reserved. also check that\n                // it has 'startsWith' in case the user provided a number.\n                if (this.id && this.id.startsWith && this.id.startsWith(RowNode.ID_PREFIX_ROW_GROUP)) {\n                    console.error(\"ag-Grid: Row ID's cannot start with \" + RowNode.ID_PREFIX_ROW_GROUP + \", this is a reserved prefix for ag-Grid's row grouping feature.\");\n                }\n            }\n            else {\n                // this can happen if user has set blank into the rowNode after the row previously\n                // having data. this happens in virtual page row model, when data is delete and\n                // the page is refreshed.\n                this.id = undefined;\n            }\n        }\n        else {\n            this.id = id;\n        }\n    };\n    RowNode.prototype.isPixelInRange = function (pixel) {\n        return pixel >= this.rowTop && pixel < (this.rowTop + this.rowHeight);\n    };\n    RowNode.prototype.clearRowTop = function () {\n        this.oldRowTop = this.rowTop;\n        this.setRowTop(null);\n    };\n    RowNode.prototype.setFirstChild = function (firstChild) {\n        if (this.firstChild === firstChild) {\n            return;\n        }\n        this.firstChild = firstChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setLastChild = function (lastChild) {\n        if (this.lastChild === lastChild) {\n            return;\n        }\n        this.lastChild = lastChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setChildIndex = function (childIndex) {\n        if (this.childIndex === childIndex) {\n            return;\n        }\n        this.childIndex = childIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowTop = function (rowTop) {\n        if (this.rowTop === rowTop) {\n            return;\n        }\n        this.rowTop = rowTop;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED));\n        }\n    };\n    RowNode.prototype.setDragging = function (dragging) {\n        if (this.dragging === dragging) {\n            return;\n        }\n        this.dragging = dragging;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED));\n        }\n    };\n    RowNode.prototype.setHighlighted = function (highlighted) {\n        if (highlighted === this.highlighted) {\n            return;\n        }\n        this.highlighted = highlighted;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setAllChildrenCount = function (allChildrenCount) {\n        if (this.allChildrenCount === allChildrenCount) {\n            return;\n        }\n        this.allChildrenCount = allChildrenCount;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED));\n        }\n    };\n    RowNode.prototype.setMaster = function (master) {\n        if (this.master === master) {\n            return;\n        }\n        // if changing AWAY from master, then unexpand, otherwise\n        // next time it's shown it is expanded again\n        if (this.master && !master) {\n            this.expanded = false;\n        }\n        this.master = master;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_MASTER_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowHeight = function (rowHeight, estimated) {\n        if (estimated === void 0) { estimated = false; }\n        this.rowHeight = rowHeight;\n        this.rowHeightEstimated = estimated;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowIndex = function (rowIndex) {\n        this.rowIndex = rowIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setUiLevel = function (uiLevel) {\n        if (this.uiLevel === uiLevel) {\n            return;\n        }\n        this.uiLevel = uiLevel;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED));\n        }\n    };\n    RowNode.prototype.setExpanded = function (expanded) {\n        if (this.expanded === expanded) {\n            return;\n        }\n        this.expanded = expanded;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));\n        }\n        var event = assign({}, this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED), {\n            expanded: expanded\n        });\n        this.mainEventService.dispatchEvent(event);\n        if (this.gridOptionsWrapper.isGroupIncludeFooter()) {\n            this.gridApi.redrawRows({ rowNodes: [this] });\n        }\n    };\n    RowNode.prototype.createGlobalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this,\n            data: this.data,\n            rowIndex: this.rowIndex,\n            rowPinned: this.rowPinned,\n            context: this.gridOptionsWrapper.getContext(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n    };\n    RowNode.prototype.dispatchLocalEvent = function (event) {\n        if (this.eventService) {\n            this.eventService.dispatchEvent(event);\n        }\n    };\n    // we also allow editing the value via the editors. when it is done via\n    // the editors, no 'cell changed' event gets fired, as it's assumed that\n    // the cell knows about the change given it's in charge of the editing.\n    // this method is for the client to call, so the cell listens for the change\n    // event, and also flashes the cell when the change occurs.\n    RowNode.prototype.setDataValue = function (colKey, newValue) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        var oldValue = this.valueService.getValue(column, this);\n        this.valueService.setValue(this, column, newValue);\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    RowNode.prototype.setGroupValue = function (colKey, newValue) {\n        var column = this.columnController.getGridColumn(colKey);\n        if (missing(this.groupData)) {\n            this.groupData = {};\n        }\n        var columnId = column.getColId();\n        var oldValue = this.groupData[columnId];\n        if (oldValue === newValue) {\n            return;\n        }\n        this.groupData[columnId] = newValue;\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    // sets the data for an aggregation\n    RowNode.prototype.setAggData = function (newAggData) {\n        var _this = this;\n        // find out all keys that could potentially change\n        var colIds = getAllKeysInObjects([this.aggData, newAggData]);\n        var oldAggData = this.aggData;\n        this.aggData = newAggData;\n        // if no event service, nobody has registered for events, so no need fire event\n        if (this.eventService) {\n            colIds.forEach(function (colId) {\n                var column = _this.columnController.getGridColumn(colId);\n                var value = _this.aggData ? _this.aggData[colId] : undefined;\n                var oldValue = oldAggData ? oldAggData[colId] : undefined;\n                _this.dispatchCellChangedEvent(column, value, oldValue);\n            });\n        }\n    };\n    RowNode.prototype.updateHasChildren = function () {\n        // we need to return true when this.group=true, as this is used by server side row model\n        // (as children are lazy loaded and stored in a cache anyway). otherwise we return true\n        // if children exist.\n        var newValue = this.group || (this.childrenAfterGroup && this.childrenAfterGroup.length > 0);\n        if (newValue !== this.__hasChildren) {\n            this.__hasChildren = newValue;\n            if (this.eventService) {\n                this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HAS_CHILDREN_CHANGED));\n            }\n        }\n    };\n    RowNode.prototype.hasChildren = function () {\n        if (this.__hasChildren == null) {\n            this.updateHasChildren();\n        }\n        return this.__hasChildren;\n    };\n    RowNode.prototype.isEmptyRowGroupNode = function () {\n        return this.group && missingOrEmpty(this.childrenAfterGroup);\n    };\n    RowNode.prototype.dispatchCellChangedEvent = function (column, newValue, oldValue) {\n        var cellChangedEvent = {\n            type: RowNode.EVENT_CELL_CHANGED,\n            node: this,\n            column: column,\n            newValue: newValue,\n            oldValue: oldValue\n        };\n        this.dispatchLocalEvent(cellChangedEvent);\n    };\n    RowNode.prototype.resetQuickFilterAggregateText = function () {\n        this.quickFilterAggregateText = null;\n    };\n    RowNode.prototype.isExpandable = function () {\n        return this.hasChildren() || this.master;\n    };\n    RowNode.prototype.isSelected = function () {\n        // for footers, we just return what our sibling selected state is, as cannot select a footer\n        if (this.footer) {\n            return this.sibling.isSelected();\n        }\n        return this.selected;\n    };\n    RowNode.prototype.depthFirstSearch = function (callback) {\n        if (this.childrenAfterGroup) {\n            this.childrenAfterGroup.forEach(function (child) { return child.depthFirstSearch(callback); });\n        }\n        callback(this);\n    };\n    // + rowController.updateGroupsInSelection()\n    // + selectionController.calculatedSelectedForAllGroupNodes()\n    RowNode.prototype.calculateSelectedFromChildren = function () {\n        var atLeastOneSelected = false;\n        var atLeastOneDeSelected = false;\n        var atLeastOneMixed = false;\n        var newSelectedValue;\n        if (this.childrenAfterGroup) {\n            for (var i = 0; i < this.childrenAfterGroup.length; i++) {\n                var child = this.childrenAfterGroup[i];\n                // skip non-selectable nodes to prevent inconsistent selection values\n                if (!child.selectable) {\n                    continue;\n                }\n                var childState = child.isSelected();\n                switch (childState) {\n                    case true:\n                        atLeastOneSelected = true;\n                        break;\n                    case false:\n                        atLeastOneDeSelected = true;\n                        break;\n                    default:\n                        atLeastOneMixed = true;\n                        break;\n                }\n            }\n        }\n        if (atLeastOneMixed) {\n            newSelectedValue = undefined;\n        }\n        else if (atLeastOneSelected && !atLeastOneDeSelected) {\n            newSelectedValue = true;\n        }\n        else if (!atLeastOneSelected && atLeastOneDeSelected) {\n            newSelectedValue = false;\n        }\n        else {\n            newSelectedValue = undefined;\n        }\n        this.selectThisNode(newSelectedValue);\n    };\n    RowNode.prototype.setSelectedInitialValue = function (selected) {\n        this.selected = selected;\n    };\n    RowNode.prototype.setSelected = function (newValue, clearSelection, suppressFinishActions) {\n        if (clearSelection === void 0) { clearSelection = false; }\n        if (suppressFinishActions === void 0) { suppressFinishActions = false; }\n        this.setSelectedParams({\n            newValue: newValue,\n            clearSelection: clearSelection,\n            suppressFinishActions: suppressFinishActions,\n            rangeSelect: false\n        });\n    };\n    RowNode.prototype.isRowPinned = function () {\n        return this.rowPinned === Constants.PINNED_TOP || this.rowPinned === Constants.PINNED_BOTTOM;\n    };\n    // to make calling code more readable, this is the same method as setSelected except it takes names parameters\n    RowNode.prototype.setSelectedParams = function (params) {\n        var groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        var newValue = params.newValue === true;\n        var clearSelection = params.clearSelection === true;\n        var suppressFinishActions = params.suppressFinishActions === true;\n        var rangeSelect = params.rangeSelect === true;\n        // groupSelectsFiltered only makes sense when group selects children\n        var groupSelectsFiltered = groupSelectsChildren && (params.groupSelectsFiltered === true);\n        if (this.id === undefined) {\n            console.warn('ag-Grid: cannot select node until id for node is known');\n            return 0;\n        }\n        if (this.rowPinned) {\n            console.warn('ag-Grid: cannot select pinned rows');\n            return 0;\n        }\n        // if we are a footer, we don't do selection, just pass the info\n        // to the sibling (the parent of the group)\n        if (this.footer) {\n            return this.sibling.setSelectedParams(params);\n        }\n        if (rangeSelect) {\n            var newRowClicked = this.selectionController.getLastSelectedNode() !== this;\n            var allowMultiSelect = this.gridOptionsWrapper.isRowSelectionMulti();\n            if (newRowClicked && allowMultiSelect) {\n                return this.doRowRangeSelection();\n            }\n        }\n        var updatedCount = 0;\n        // when groupSelectsFiltered, then this node may end up intermediate despite\n        // trying to set it to true / false. this group will be calculated further on\n        // down when we call calculatedSelectedForAllGroupNodes(). we need to skip it\n        // here, otherwise the updatedCount would include it.\n        var skipThisNode = groupSelectsFiltered && this.group;\n        if (!skipThisNode) {\n            var thisNodeWasSelected = this.selectThisNode(newValue);\n            if (thisNodeWasSelected) {\n                updatedCount++;\n            }\n        }\n        if (groupSelectsChildren && this.group) {\n            updatedCount += this.selectChildNodes(newValue, groupSelectsFiltered);\n        }\n        // clear other nodes if not doing multi select\n        if (!suppressFinishActions) {\n            var clearOtherNodes = newValue && (clearSelection || !this.gridOptionsWrapper.isRowSelectionMulti());\n            if (clearOtherNodes) {\n                updatedCount += this.selectionController.clearOtherNodes(this);\n            }\n            // only if we selected something, then update groups and fire events\n            if (updatedCount > 0) {\n                this.selectionController.updateGroupsFromChildrenSelections();\n                // this is the very end of the 'action node', so we are finished all the updates,\n                // include any parent / child changes that this method caused\n                var event_1 = {\n                    type: Events.EVENT_SELECTION_CHANGED,\n                    api: this.gridApi,\n                    columnApi: this.columnApi\n                };\n                this.mainEventService.dispatchEvent(event_1);\n            }\n            // so if user next does shift-select, we know where to start the selection from\n            if (newValue) {\n                this.selectionController.setLastSelectedNode(this);\n            }\n        }\n        return updatedCount;\n    };\n    // selects all rows between this node and the last selected node (or the top if this is the first selection).\n    // not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n    // holding down 'shift'.\n    RowNode.prototype.doRowRangeSelection = function () {\n        var groupsSelectChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        var lastSelectedNode = this.selectionController.getLastSelectedNode();\n        var nodesToSelect = this.rowModel.getNodesInRangeForSelection(this, lastSelectedNode);\n        var updatedCount = 0;\n        nodesToSelect.forEach(function (rowNode) {\n            if (rowNode.group && groupsSelectChildren) {\n                return;\n            }\n            var nodeWasSelected = rowNode.selectThisNode(true);\n            if (nodeWasSelected) {\n                updatedCount++;\n            }\n        });\n        this.selectionController.updateGroupsFromChildrenSelections();\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.mainEventService.dispatchEvent(event);\n        return updatedCount;\n    };\n    RowNode.prototype.isParentOfNode = function (potentialParent) {\n        var parentNode = this.parent;\n        while (parentNode) {\n            if (parentNode === potentialParent) {\n                return true;\n            }\n            parentNode = parentNode.parent;\n        }\n        return false;\n    };\n    RowNode.prototype.selectThisNode = function (newValue) {\n        // we only check selectable when newValue=true (ie selecting) to allow unselecting values,\n        // as selectable is dynamic, need a way to unselect rows when selectable becomes false.\n        var selectionNotAllowed = !this.selectable && newValue;\n        var selectionNotChanged = this.selected === newValue;\n        if (selectionNotAllowed || selectionNotChanged) {\n            return false;\n        }\n        this.selected = newValue;\n        if (this.eventService) {\n            this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));\n        }\n        var event = this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED);\n        this.mainEventService.dispatchEvent(event);\n        return true;\n    };\n    RowNode.prototype.selectChildNodes = function (newValue, groupSelectsFiltered) {\n        var children = groupSelectsFiltered ? this.childrenAfterFilter : this.childrenAfterGroup;\n        if (missing(children)) {\n            return;\n        }\n        var updatedCount = 0;\n        for (var i = 0; i < children.length; i++) {\n            updatedCount += children[i].setSelectedParams({\n                newValue: newValue,\n                clearSelection: false,\n                suppressFinishActions: true,\n                groupSelectsFiltered: groupSelectsFiltered\n            });\n        }\n        return updatedCount;\n    };\n    RowNode.prototype.addEventListener = function (eventType, listener) {\n        if (!this.eventService) {\n            this.eventService = new EventService();\n        }\n        this.eventService.addEventListener(eventType, listener);\n    };\n    RowNode.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    RowNode.prototype.onMouseEnter = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER));\n    };\n    RowNode.prototype.onMouseLeave = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE));\n    };\n    RowNode.prototype.getFirstChildOfFirstChild = function (rowGroupColumn) {\n        var currentRowNode = this;\n        var isCandidate = true;\n        var foundFirstChildPath = false;\n        var nodeToSwapIn;\n        // if we are hiding groups, then if we are the first child, of the first child,\n        // all the way up to the column we are interested in, then we show the group cell.\n        while (isCandidate && !foundFirstChildPath) {\n            var parentRowNode = currentRowNode.parent;\n            var firstChild = exists(parentRowNode) && currentRowNode.firstChild;\n            if (firstChild) {\n                if (parentRowNode.rowGroupColumn === rowGroupColumn) {\n                    foundFirstChildPath = true;\n                    nodeToSwapIn = parentRowNode;\n                }\n            }\n            else {\n                isCandidate = false;\n            }\n            currentRowNode = parentRowNode;\n        }\n        return foundFirstChildPath ? nodeToSwapIn : null;\n    };\n    RowNode.prototype.isFullWidthCell = function () {\n        var isFullWidthCellFunc = this.gridOptionsWrapper.getIsFullWidthCellFunc();\n        return isFullWidthCellFunc ? isFullWidthCellFunc(this) : false;\n    };\n    RowNode.ID_PREFIX_ROW_GROUP = 'row-group-';\n    RowNode.ID_PREFIX_TOP_PINNED = 't-';\n    RowNode.ID_PREFIX_BOTTOM_PINNED = 'b-';\n    RowNode.OBJECT_ID_SEQUENCE = 0;\n    RowNode.EVENT_ROW_SELECTED = 'rowSelected';\n    RowNode.EVENT_DATA_CHANGED = 'dataChanged';\n    RowNode.EVENT_CELL_CHANGED = 'cellChanged';\n    RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED = 'allChildrenCountChanged';\n    RowNode.EVENT_MASTER_CHANGED = 'masterChanged';\n    RowNode.EVENT_MOUSE_ENTER = 'mouseEnter';\n    RowNode.EVENT_MOUSE_LEAVE = 'mouseLeave';\n    RowNode.EVENT_HEIGHT_CHANGED = 'heightChanged';\n    RowNode.EVENT_TOP_CHANGED = 'topChanged';\n    RowNode.EVENT_FIRST_CHILD_CHANGED = 'firstChildChanged';\n    RowNode.EVENT_LAST_CHILD_CHANGED = 'lastChildChanged';\n    RowNode.EVENT_CHILD_INDEX_CHANGED = 'childIndexChanged';\n    RowNode.EVENT_ROW_INDEX_CHANGED = 'rowIndexChanged';\n    RowNode.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n    RowNode.EVENT_HAS_CHILDREN_CHANGED = 'hasChildrenChanged';\n    RowNode.EVENT_SELECTABLE_CHANGED = 'selectableChanged';\n    RowNode.EVENT_UI_LEVEL_CHANGED = 'uiLevelChanged';\n    RowNode.EVENT_HIGHLIGHT_CHANGED = 'rowHighlightChanged';\n    RowNode.EVENT_DRAGGING_CHANGED = 'draggingChanged';\n    __decorate([\n        Autowired('eventService')\n    ], RowNode.prototype, \"mainEventService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], RowNode.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], RowNode.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], RowNode.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], RowNode.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], RowNode.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('context')\n    ], RowNode.prototype, \"context\", void 0);\n    __decorate([\n        Autowired('valueCache')\n    ], RowNode.prototype, \"valueCache\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], RowNode.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], RowNode.prototype, \"gridApi\", void 0);\n    return RowNode;\n}());\nexport { RowNode };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { loadTemplate } from \"../../utils/dom\";\nvar AgComponentUtils = /** @class */ (function (_super) {\n    __extends(AgComponentUtils, _super);\n    function AgComponentUtils() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AgComponentUtils.prototype.adaptFunction = function (propertyName, hardcodedJsFunction, componentFromFramework, source) {\n        if (hardcodedJsFunction == null) {\n            return {\n                component: null,\n                componentFromFramework: componentFromFramework,\n                source: source,\n                paramsFromSelector: null\n            };\n        }\n        var metadata = this.componentMetadataProvider.retrieve(propertyName);\n        if (metadata && metadata.functionAdapter) {\n            return {\n                componentFromFramework: componentFromFramework,\n                component: metadata.functionAdapter(hardcodedJsFunction),\n                source: source,\n                paramsFromSelector: null\n            };\n        }\n        return null;\n    };\n    AgComponentUtils.prototype.adaptCellRendererFunction = function (callback) {\n        var Adapter = /** @class */ (function () {\n            function Adapter() {\n            }\n            Adapter.prototype.refresh = function (params) {\n                return false;\n            };\n            Adapter.prototype.getGui = function () {\n                var callbackResult = callback(this.params);\n                var type = typeof callbackResult;\n                if (type === 'string' || type === 'number' || type === 'boolean') {\n                    return loadTemplate('<span>' + callbackResult + '</span>');\n                }\n                return callbackResult;\n            };\n            Adapter.prototype.init = function (params) {\n                this.params = params;\n            };\n            return Adapter;\n        }());\n        return Adapter;\n    };\n    AgComponentUtils.prototype.doesImplementIComponent = function (candidate) {\n        if (!candidate) {\n            return false;\n        }\n        return candidate.prototype && 'getGui' in candidate.prototype;\n    };\n    __decorate([\n        Autowired(\"componentMetadataProvider\")\n    ], AgComponentUtils.prototype, \"componentMetadataProvider\", void 0);\n    AgComponentUtils = __decorate([\n        Bean(\"agComponentUtils\")\n    ], AgComponentUtils);\n    return AgComponentUtils;\n}(BeanStub));\nexport { AgComponentUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { every } from '../../utils/array';\n/* Common logic for options, used by both filters and floating filters. */\nvar OptionsFactory = /** @class */ (function () {\n    function OptionsFactory() {\n        this.customFilterOptions = {};\n    }\n    OptionsFactory.prototype.init = function (params, defaultOptions) {\n        this.filterOptions = params.filterOptions || defaultOptions;\n        this.mapCustomOptions();\n        this.selectDefaultItem(params);\n    };\n    OptionsFactory.prototype.getFilterOptions = function () {\n        return this.filterOptions;\n    };\n    OptionsFactory.prototype.mapCustomOptions = function () {\n        var _this = this;\n        if (!this.filterOptions) {\n            return;\n        }\n        this.filterOptions.forEach(function (filterOption) {\n            if (typeof filterOption === 'string') {\n                return;\n            }\n            var requiredProperties = ['displayKey', 'displayName', 'test'];\n            if (every(requiredProperties, function (key) {\n                if (!filterOption[key]) {\n                    console.warn(\"ag-Grid: ignoring FilterOptionDef as it doesn't contain a '\" + key + \"'\");\n                    return false;\n                }\n                return true;\n            })) {\n                _this.customFilterOptions[filterOption.displayKey] = filterOption;\n            }\n        });\n    };\n    OptionsFactory.prototype.selectDefaultItem = function (params) {\n        if (params.defaultOption) {\n            this.defaultOption = params.defaultOption;\n        }\n        else if (this.filterOptions.length >= 1) {\n            var firstFilterOption = this.filterOptions[0];\n            if (typeof firstFilterOption === 'string') {\n                this.defaultOption = firstFilterOption;\n            }\n            else if (firstFilterOption.displayKey) {\n                this.defaultOption = firstFilterOption.displayKey;\n            }\n            else {\n                console.warn(\"ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'\");\n            }\n        }\n        else {\n            console.warn('ag-Grid: no filter options for filter');\n        }\n    };\n    OptionsFactory.prototype.getDefaultOption = function () {\n        return this.defaultOption;\n    };\n    OptionsFactory.prototype.getCustomOption = function (name) {\n        return this.customFilterOptions[name];\n    };\n    return OptionsFactory;\n}());\nexport { OptionsFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { Events } from \"../events\";\nvar ScrollVisibleService = /** @class */ (function (_super) {\n    __extends(ScrollVisibleService, _super);\n    function ScrollVisibleService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScrollVisibleService.prototype.setScrollsVisible = function (params) {\n        var atLeastOneDifferent = this.horizontalScrollShowing !== params.horizontalScrollShowing ||\n            this.verticalScrollShowing !== params.verticalScrollShowing;\n        if (atLeastOneDifferent) {\n            this.horizontalScrollShowing = params.horizontalScrollShowing;\n            this.verticalScrollShowing = params.verticalScrollShowing;\n            var event_1 = {\n                type: Events.EVENT_SCROLL_VISIBILITY_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    // used by pagination service - to know page height\n    ScrollVisibleService.prototype.isHorizontalScrollShowing = function () {\n        return this.horizontalScrollShowing;\n    };\n    // used by header container\n    ScrollVisibleService.prototype.isVerticalScrollShowing = function () {\n        return this.verticalScrollShowing;\n    };\n    __decorate([\n        Autowired('columnController')\n    ], ScrollVisibleService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], ScrollVisibleService.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], ScrollVisibleService.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ScrollVisibleService.prototype, \"gridOptionsWrapper\", void 0);\n    ScrollVisibleService = __decorate([\n        Bean('scrollVisibleService')\n    ], ScrollVisibleService);\n    return ScrollVisibleService;\n}(BeanStub));\nexport { ScrollVisibleService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { debounce } from '../../../utils/function';\nimport { ProvidedFilter } from '../../provided/providedFilter';\nimport { PostConstruct, Autowired } from '../../../context/context';\nimport { SimpleFloatingFilter } from './simpleFloatingFilter';\nimport { isKeyPressed } from '../../../utils/keyboard';\nimport { KeyCode } from '../../../constants/keyCode';\nvar TextInputFloatingFilter = /** @class */ (function (_super) {\n    __extends(TextInputFloatingFilter, _super);\n    function TextInputFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextInputFloatingFilter.prototype.postConstruct = function () {\n        this.setTemplate(/* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eFloatingFilterInput\\\"></ag-input-text-field>\\n            </div>\");\n    };\n    TextInputFloatingFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    TextInputFloatingFilter.prototype.onParentModelChanged = function (model, event) {\n        // we don't want to update the floating filter if the floating filter caused the change.\n        // as if it caused the change, the ui is already in sync. if we didn't do this, the UI\n        // would behave strange as it would be updating as the user is typing\n        if (this.isEventFromFloatingFilter(event)) {\n            return;\n        }\n        this.setLastTypeFromModel(model);\n        var modelString = this.getTextFromModel(model);\n        this.eFloatingFilterInput.setValue(modelString);\n        var editable = this.canWeEditAfterModelFromParentFilter(model);\n        this.setEditable(editable);\n    };\n    TextInputFloatingFilter.prototype.init = function (params) {\n        _super.prototype.init.call(this, params);\n        this.params = params;\n        this.applyActive = ProvidedFilter.isUseApplyButton(this.params.filterParams);\n        var debounceMs = ProvidedFilter.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n        var toDebounce = debounce(this.syncUpWithParentFilter.bind(this), debounceMs);\n        var filterGui = this.eFloatingFilterInput.getGui();\n        this.addManagedListener(filterGui, 'input', toDebounce);\n        this.addManagedListener(filterGui, 'keypress', toDebounce);\n        this.addManagedListener(filterGui, 'keydown', toDebounce);\n        var columnDef = params.column.getDefinition();\n        if (columnDef.filterParams &&\n            columnDef.filterParams.filterOptions &&\n            columnDef.filterParams.filterOptions.length === 1 &&\n            columnDef.filterParams.filterOptions[0] === 'inRange') {\n            this.eFloatingFilterInput.setDisabled(true);\n        }\n        var displayName = this.columnController.getDisplayNameForColumn(params.column, 'header', true);\n        this.eFloatingFilterInput.setInputAriaLabel(displayName + \" Filter Input\");\n    };\n    TextInputFloatingFilter.prototype.syncUpWithParentFilter = function (e) {\n        var _this = this;\n        var value = this.eFloatingFilterInput.getValue();\n        var enterKeyPressed = isKeyPressed(e, KeyCode.ENTER);\n        if (this.applyActive && !enterKeyPressed) {\n            return;\n        }\n        this.params.parentFilterInstance(function (filterInstance) {\n            if (filterInstance) {\n                var simpleFilter = filterInstance;\n                simpleFilter.onFloatingFilterChanged(_this.getLastType(), value);\n            }\n        });\n    };\n    TextInputFloatingFilter.prototype.setEditable = function (editable) {\n        this.eFloatingFilterInput.setDisabled(!editable);\n    };\n    __decorate([\n        Autowired('columnController')\n    ], TextInputFloatingFilter.prototype, \"columnController\", void 0);\n    __decorate([\n        RefSelector('eFloatingFilterInput')\n    ], TextInputFloatingFilter.prototype, \"eFloatingFilterInput\", void 0);\n    __decorate([\n        PostConstruct\n    ], TextInputFloatingFilter.prototype, \"postConstruct\", null);\n    return TextInputFloatingFilter;\n}(SimpleFloatingFilter));\nexport { TextInputFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from \"./componentAnnotations\";\nimport { PostConstruct, Autowired } from \"../context/context\";\nimport { Component } from \"./component\";\nimport { addCssClass, setFixedHeight, getAbsoluteHeight, setFixedWidth, getAbsoluteWidth, getInnerHeight, getInnerWidth } from \"../utils/dom\";\nimport { createIconNoSpan } from \"../utils/icon\";\nvar AgPanel = /** @class */ (function (_super) {\n    __extends(AgPanel, _super);\n    function AgPanel(config) {\n        var _this = _super.call(this, AgPanel.getTemplate(config)) || this;\n        _this.closable = true;\n        _this.positioned = false;\n        _this.dragStartPosition = {\n            x: 0,\n            y: 0\n        };\n        _this.position = {\n            x: 0,\n            y: 0\n        };\n        _this.size = {\n            width: undefined,\n            height: undefined\n        };\n        _this.config = config;\n        return _this;\n    }\n    AgPanel.getTemplate = function (config) {\n        var cssIdentifier = (config && config.cssIdentifier) || 'default';\n        return /* html */ \"<div class=\\\"ag-panel ag-\" + cssIdentifier + \"-panel\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"eTitleBar\\\" class=\\\"ag-panel-title-bar ag-\" + cssIdentifier + \"-panel-title-bar ag-unselectable\\\">\\n                <span ref=\\\"eTitle\\\" class=\\\"ag-panel-title-bar-title ag-\" + cssIdentifier + \"-panel-title-bar-title\\\"></span>\\n                <div ref=\\\"eTitleBarButtons\\\" class=\\\"ag-panel-title-bar-buttons ag-\" + cssIdentifier + \"-panel-title-bar-buttons\\\"></div>\\n            </div>\\n            <div ref=\\\"eContentWrapper\\\" class=\\\"ag-panel-content-wrapper ag-\" + cssIdentifier + \"-panel-content-wrapper\\\"></div>\\n        </div>\";\n    };\n    AgPanel.prototype.postConstruct = function () {\n        var _this = this;\n        var _a = this.config, component = _a.component, closable = _a.closable, hideTitleBar = _a.hideTitleBar, title = _a.title, minWidth = _a.minWidth, width = _a.width, minHeight = _a.minHeight, height = _a.height, centered = _a.centered, x = _a.x, y = _a.y;\n        var eGui = this.getGui();\n        if (component) {\n            this.setBodyComponent(component);\n        }\n        if (!hideTitleBar) {\n            if (title) {\n                this.setTitle(title);\n            }\n            this.setClosable(closable != null ? closable : this.closable);\n        }\n        else {\n            addCssClass(this.eTitleBar, 'ag-hidden');\n        }\n        this.addManagedListener(this.eTitleBar, 'mousedown', function (e) {\n            if (eGui.contains(e.relatedTarget) ||\n                eGui.contains(document.activeElement) ||\n                _this.eTitleBarButtons.contains(e.target)) {\n                e.preventDefault();\n                return;\n            }\n            var focusEl = _this.eContentWrapper.querySelector('button, [href], input, select, textarea, [tabindex]');\n            if (focusEl) {\n                focusEl.focus();\n            }\n        });\n        if (this.positioned) {\n            return;\n        }\n        this.minHeight = minHeight != null ? minHeight : 250;\n        this.minWidth = minWidth != null ? minWidth : 250;\n        this.popupParent = this.popupService.getPopupParent();\n        if (width) {\n            this.setWidth(width);\n        }\n        if (height) {\n            this.setHeight(height);\n        }\n        if (this.renderComponent) {\n            this.renderComponent();\n        }\n        if (!width || !height) {\n            this.refreshSize();\n        }\n        if (centered) {\n            this.center();\n        }\n        else if (x || y) {\n            this.offsetElement(x, y);\n        }\n        this.positioned = true;\n        this.eContentWrapper.style.height = '0';\n    };\n    AgPanel.prototype.renderComponent = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        eGui.focus();\n        this.close = function () {\n            eGui.parentElement.removeChild(eGui);\n            _this.destroy();\n        };\n    };\n    AgPanel.prototype.updateDragStartPosition = function (x, y) {\n        this.dragStartPosition = { x: x, y: y };\n    };\n    AgPanel.prototype.calculateMouseMovement = function (params) {\n        var parentRect = this.popupParent.getBoundingClientRect();\n        var e = params.e, isLeft = params.isLeft, isTop = params.isTop, anywhereWithin = params.anywhereWithin, topBuffer = params.topBuffer;\n        var movementX = e.clientX - this.dragStartPosition.x;\n        var movementY = e.clientY - this.dragStartPosition.y;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        // skip if cursor is outside of popupParent horizontally\n        var skipX = (parentRect.left >= e.clientX && this.position.x <= 0 ||\n            parentRect.right <= e.clientX && parentRect.right <= this.position.x + parentRect.left + width);\n        if (!skipX) {\n            if (isLeft) {\n                skipX = (\n                // skip if we are moving to the left and the cursor\n                // is positioned to the right of the left side anchor\n                (movementX < 0 && e.clientX > this.position.x + parentRect.left) ||\n                    // skip if we are moving to the right and the cursor\n                    // is positioned to the left of the dialog\n                    (movementX > 0 && e.clientX < this.position.x + parentRect.left));\n            }\n            else {\n                if (anywhereWithin) {\n                    // if anywhereWithin is true, we allow to move\n                    // as long as the cursor is within the dialog\n                    skipX = ((movementX < 0 && e.clientX > this.position.x + parentRect.left + width) ||\n                        (movementX > 0 && e.clientX < this.position.x + parentRect.left));\n                }\n                else {\n                    skipX = (\n                    // if the movement is bound to the right side of the dialog\n                    // we skip if we are moving to the left and the cursor\n                    // is to the right of the dialog\n                    (movementX < 0 && e.clientX > this.position.x + parentRect.left + width) ||\n                        // or skip if we are moving to the right and the cursor\n                        // is to the left of the right side anchor\n                        (movementX > 0 && e.clientX < this.position.x + parentRect.left + width));\n                }\n            }\n        }\n        movementX = skipX ? 0 : movementX;\n        var skipY = (\n        // skip if cursor is outside of popupParent vertically\n        parentRect.top >= e.clientY && this.position.y <= 0 ||\n            parentRect.bottom <= e.clientY && parentRect.bottom <= this.position.y + parentRect.top + height ||\n            isTop && (\n            // skip if we are moving to towards top and the cursor is\n            // below the top anchor + topBuffer\n            // note: topBuffer is used when moving the dialog using the title bar\n            (movementY < 0 && e.clientY > this.position.y + parentRect.top + (topBuffer || 0)) ||\n                // skip if we are moving to the bottom and the cursor is\n                // above the top anchor\n                (movementY > 0 && e.clientY < this.position.y + parentRect.top)) ||\n            // we are anchored to the bottom of the dialog\n            !isTop && (\n            // skip if we are moving towards the top and the cursor\n            // is below the bottom anchor\n            (movementY < 0 && e.clientY > this.position.y + parentRect.top + height) ||\n                // skip if we are moving towards the bottom and the cursor\n                // is above the bottom anchor\n                (movementY > 0 && e.clientY < this.position.y + parentRect.top + height)));\n        movementY = skipY ? 0 : movementY;\n        return { movementX: movementX, movementY: movementY };\n    };\n    AgPanel.prototype.refreshSize = function () {\n        var _a = this.size, width = _a.width, height = _a.height;\n        if (!width) {\n            this.setWidth(this.getGui().offsetWidth);\n        }\n        if (!height) {\n            this.setHeight(this.getGui().offsetHeight);\n        }\n    };\n    AgPanel.prototype.offsetElement = function (x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        var ePopup = this.getGui();\n        this.popupService.positionPopup({\n            ePopup: ePopup,\n            x: x,\n            y: y,\n            minWidth: this.minWidth,\n            minHeight: this.minHeight,\n            keepWithinBounds: true\n        });\n        this.position.x = parseInt(ePopup.style.left, 10);\n        this.position.y = parseInt(ePopup.style.top, 10);\n    };\n    AgPanel.prototype.getHeight = function () {\n        return this.size.height;\n    };\n    AgPanel.prototype.setHeight = function (height) {\n        var eGui = this.getGui();\n        var isPercent = false;\n        if (typeof height === 'string' && height.indexOf('%') !== -1) {\n            setFixedHeight(eGui, height);\n            height = getAbsoluteHeight(eGui);\n            isPercent = true;\n        }\n        else {\n            height = Math.max(this.minHeight, height);\n            var offsetParent = eGui.offsetParent;\n            if (offsetParent && offsetParent.clientHeight && (height + this.position.y > offsetParent.clientHeight)) {\n                height = offsetParent.clientHeight - this.position.y;\n            }\n        }\n        if (this.size.height === height) {\n            return;\n        }\n        this.size.height = height;\n        if (!isPercent) {\n            setFixedHeight(eGui, height);\n        }\n        else {\n            eGui.style.maxHeight = 'unset';\n            eGui.style.minHeight = 'unset';\n        }\n    };\n    AgPanel.prototype.getWidth = function () {\n        return this.size.width;\n    };\n    AgPanel.prototype.setWidth = function (width) {\n        var eGui = this.getGui();\n        var isPercent = false;\n        if (typeof width === 'string' && width.indexOf('%') !== -1) {\n            setFixedWidth(eGui, width);\n            width = getAbsoluteWidth(eGui);\n            isPercent = true;\n        }\n        else {\n            width = Math.max(this.minWidth, width);\n            var offsetParent = eGui.offsetParent;\n            if (offsetParent && offsetParent.clientWidth && (width + this.position.x > offsetParent.clientWidth)) {\n                width = offsetParent.clientWidth - this.position.x;\n            }\n        }\n        if (this.size.width === width) {\n            return;\n        }\n        this.size.width = width;\n        if (!isPercent) {\n            setFixedWidth(eGui, width);\n        }\n        else {\n            eGui.style.maxWidth = 'unset';\n            eGui.style.minWidth = 'unset';\n        }\n    };\n    AgPanel.prototype.center = function () {\n        var eGui = this.getGui();\n        var x = (eGui.offsetParent.clientWidth / 2) - (this.getWidth() / 2);\n        var y = (eGui.offsetParent.clientHeight / 2) - (this.getHeight() / 2);\n        this.offsetElement(x, y);\n    };\n    AgPanel.prototype.setClosable = function (closable) {\n        if (closable !== this.closable) {\n            this.closable = closable;\n        }\n        if (closable) {\n            var closeButtonComp = this.closeButtonComp = new Component(AgPanel.CLOSE_BTN_TEMPLATE);\n            this.getContext().createBean(closeButtonComp);\n            var eGui = closeButtonComp.getGui();\n            eGui.appendChild(addCssClass(createIconNoSpan('close', this.gridOptionsWrapper), 'ag-panel-title-bar-button-icon'));\n            this.addTitleBarButton(closeButtonComp);\n            closeButtonComp.addManagedListener(eGui, 'click', this.onBtClose.bind(this));\n        }\n        else if (this.closeButtonComp) {\n            var eGui = this.closeButtonComp.getGui();\n            eGui.parentElement.removeChild(eGui);\n            this.closeButtonComp = this.destroyBean(this.closeButtonComp);\n        }\n    };\n    AgPanel.prototype.setBodyComponent = function (bodyComponent) {\n        bodyComponent.setParentComponent(this);\n        this.eContentWrapper.appendChild(bodyComponent.getGui());\n    };\n    AgPanel.prototype.addTitleBarButton = function (button, position) {\n        var eTitleBarButtons = this.eTitleBarButtons;\n        var buttons = eTitleBarButtons.children;\n        var len = buttons.length;\n        if (position == null) {\n            position = len;\n        }\n        position = Math.max(0, Math.min(position, len));\n        var eGui = button.getGui();\n        addCssClass(eGui, 'ag-panel-title-bar-button');\n        if (position === 0) {\n            eTitleBarButtons.insertAdjacentElement('afterbegin', eGui);\n        }\n        else if (position === len) {\n            eTitleBarButtons.insertAdjacentElement('beforeend', eGui);\n        }\n        else {\n            buttons[position - 1].insertAdjacentElement('afterend', eGui);\n        }\n        button.setParentComponent(this);\n    };\n    AgPanel.prototype.getBodyHeight = function () {\n        return getInnerHeight(this.eContentWrapper);\n    };\n    AgPanel.prototype.getBodyWidth = function () {\n        return getInnerWidth(this.eContentWrapper);\n    };\n    AgPanel.prototype.setTitle = function (title) {\n        this.eTitle.innerText = title;\n    };\n    // called when user hits the 'x' in the top right\n    AgPanel.prototype.onBtClose = function () {\n        this.close();\n    };\n    AgPanel.prototype.destroy = function () {\n        if (this.closeButtonComp) {\n            this.closeButtonComp = this.destroyBean(this.closeButtonComp);\n        }\n        var eGui = this.getGui();\n        if (eGui && eGui.offsetParent) {\n            this.close();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    AgPanel.CLOSE_BTN_TEMPLATE = \"<div class=\\\"ag-button\\\"></div>\";\n    __decorate([\n        Autowired('popupService')\n    ], AgPanel.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AgPanel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eContentWrapper')\n    ], AgPanel.prototype, \"eContentWrapper\", void 0);\n    __decorate([\n        RefSelector('eTitleBar')\n    ], AgPanel.prototype, \"eTitleBar\", void 0);\n    __decorate([\n        RefSelector('eTitleBarButtons')\n    ], AgPanel.prototype, \"eTitleBarButtons\", void 0);\n    __decorate([\n        RefSelector('eTitle')\n    ], AgPanel.prototype, \"eTitle\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgPanel.prototype, \"postConstruct\", null);\n    return AgPanel;\n}(Component));\nexport { AgPanel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { ComponentUtil } from \"./componentUtil\";\nimport { Grid } from \"../grid\";\nvar registered = false;\nexport function initialiseAgGridWithWebComponents() {\n    console.warn('ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. ');\n    // only register to WebComponents once\n    if (registered) {\n        return;\n    }\n    registered = true;\n    if (typeof document === 'undefined' || !document.registerElement) {\n        console.error('ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component');\n    }\n    // i don't think this type of extension is possible in TypeScript, so back to\n    // plain Javascript to create this object\n    var AgileGridProto = Object.create(HTMLElement.prototype);\n    // wrap each property with a get and set method, so we can track when changes are done\n    ComponentUtil.ALL_PROPERTIES.forEach(function (key) {\n        Object.defineProperty(AgileGridProto, key, {\n            set: function (v) {\n                this.__agGridSetProperty(key, v);\n            },\n            get: function () {\n                return this.__agGridGetProperty(key);\n            },\n            enumerable: true,\n            configurable: true\n        });\n    });\n    var agGridProtoNoType = AgileGridProto;\n    agGridProtoNoType.__agGridSetProperty = function (key, value) {\n        if (!this.__attributes) {\n            this.__attributes = {};\n        }\n        this.__attributes[key] = value;\n        // keeping this consistent with the ng2 onChange, so I can reuse the handling code\n        var changeObject = {};\n        changeObject[key] = { currentValue: value };\n        this.onChange(changeObject);\n    };\n    agGridProtoNoType.onChange = function (changes) {\n        if (this._initialised) {\n            ComponentUtil.processOnChange(changes, this._gridOptions, this.api, this.columnApi);\n        }\n    };\n    agGridProtoNoType.__agGridGetProperty = function (key) {\n        if (!this.__attributes) {\n            this.__attributes = {};\n        }\n        return this.__attributes[key];\n    };\n    agGridProtoNoType.setGridOptions = function (options) {\n        var globalEventListener = this.globalEventListener.bind(this);\n        this._gridOptions = ComponentUtil.copyAttributesToGridOptions(options, this);\n        var gridParams = {\n            globalEventListener: globalEventListener\n        };\n        this._agGrid = new Grid(this, this._gridOptions, gridParams);\n        this.api = options.api;\n        this.columnApi = options.columnApi;\n        this._initialised = true;\n    };\n    // copies all the attributes into this object\n    agGridProtoNoType.createdCallback = function () {\n        for (var i = 0; i < this.attributes.length; i++) {\n            var attribute = this.attributes[i];\n            this.setPropertyFromAttribute(attribute);\n        }\n    };\n    agGridProtoNoType.setPropertyFromAttribute = function (attribute) {\n        var name = toCamelCase(attribute.nodeName);\n        var value = attribute.nodeValue;\n        if (ComponentUtil.ALL_PROPERTIES.indexOf(name) >= 0) {\n            this[name] = value;\n        }\n    };\n    agGridProtoNoType.attachedCallback = function (params) { };\n    agGridProtoNoType.detachedCallback = function (params) { };\n    agGridProtoNoType.attributeChangedCallback = function (attributeName) {\n        var attribute = this.attributes[attributeName];\n        this.setPropertyFromAttribute(attribute);\n    };\n    agGridProtoNoType.globalEventListener = function (eventType, event) {\n        var eventLowerCase = eventType.toLowerCase();\n        var browserEvent = new Event(eventLowerCase);\n        var browserEventNoType = browserEvent;\n        browserEventNoType.agGridDetails = event;\n        this.dispatchEvent(browserEvent);\n        var callbackMethod = 'on' + eventLowerCase;\n        if (typeof this[callbackMethod] === 'function') {\n            this[callbackMethod](browserEvent);\n        }\n    };\n    // finally, register\n    document.registerElement('ag-grid', { prototype: AgileGridProto });\n}\nfunction toCamelCase(myString) {\n    if (typeof myString === 'string') {\n        var result = myString.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n        return result;\n    }\n    else {\n        return myString;\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { GridOptionsWrapper } from '../gridOptionsWrapper';\nimport { Autowired, Optional, PostConstruct } from '../context/context';\nimport { Events } from '../events';\nimport { Constants } from '../constants/constants';\nimport { RowContainerComponent } from '../rendering/row/rowContainerComponent';\nimport { RowComp } from '../rendering/row/rowComp';\nimport { TouchListener } from '../widgets/touchListener';\nimport { RowDragFeature } from './rowDragFeature';\nimport { Component } from '../widgets/component';\nimport { RefSelector } from '../widgets/componentAnnotations';\nimport { ModuleRegistry } from '../modules/moduleRegistry';\nimport { ModuleNames } from '../modules/moduleNames';\nimport { setAriaMultiSelectable, setAriaRowCount, setAriaColCount } from '../utils/aria';\nimport { debounce } from '../utils/function';\nimport { addCssClass, removeCssClass, isVisible, addOrRemoveCssClass, isHorizontalScrollShowing, isVerticalScrollShowing, setFixedHeight, setDisplayed, setFixedWidth, getScrollLeft, setScrollLeft } from '../utils/dom';\nimport { getTabIndex, isBrowserIE, isIOSUserAgent } from '../utils/browser';\nimport { missing, missingOrEmpty } from '../utils/generic';\nimport { getTarget, getCellCompForEvent, isStopPropagationForAgGrid } from '../utils/event';\nimport { isUserSuppressingKeyboardEvent } from '../utils/keyboard';\nimport { last } from '../utils/array';\nimport { iterateObject } from '../utils/object';\nimport { KeyCode } from '../constants/keyCode';\nimport { _ } from \"../utils\";\n// in the html below, it is important that there are no white space between some of the divs, as if there is white space,\n// it won't render correctly in safari, as safari renders white space as a gap\nvar GRID_PANEL_NORMAL_TEMPLATE = /* html */ \"<div class=\\\"ag-root ag-unselectable\\\" role=\\\"grid\\\" unselectable=\\\"on\\\">\\n        <ag-header-root ref=\\\"headerRoot\\\" unselectable=\\\"on\\\"></ag-header-root>\\n        <div class=\\\"ag-floating-top\\\" ref=\\\"eTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n            <div class=\\\"ag-pinned-left-floating-top\\\" ref=\\\"eLeftTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-top-viewport\\\" ref=\\\"eTopViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-floating-top-container\\\" ref=\\\"eTopContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-floating-top\\\" ref=\\\"eRightTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-top-full-width-container\\\" ref=\\\"eTopFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-body-viewport\\\" ref=\\\"eBodyViewport\\\" role=\\\"presentation\\\">\\n            <div class=\\\"ag-pinned-left-cols-container\\\" ref=\\\"eLeftContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-center-cols-clipper\\\" ref=\\\"eCenterColsClipper\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-center-cols-viewport\\\" ref=\\\"eCenterViewport\\\" role=\\\"presentation\\\">\\n                    <div class=\\\"ag-center-cols-container\\\" ref=\\\"eCenterContainer\\\" role=\\\"rowgroup\\\" unselectable=\\\"on\\\"></div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-cols-container\\\" ref=\\\"eRightContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-full-width-container\\\" ref=\\\"eFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-floating-bottom\\\" ref=\\\"eBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n            <div class=\\\"ag-pinned-left-floating-bottom\\\" ref=\\\"eLeftBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-bottom-viewport\\\" ref=\\\"eBottomViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-floating-bottom-container\\\" ref=\\\"eBottomContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-floating-bottom\\\" ref=\\\"eRightBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-bottom-full-width-container\\\" ref=\\\"eBottomFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-body-horizontal-scroll\\\" ref=\\\"eHorizontalScrollBody\\\" aria-hidden=\\\"true\\\">\\n            <div class=\\\"ag-horizontal-left-spacer\\\" ref=\\\"eHorizontalLeftSpacer\\\"></div>\\n            <div class=\\\"ag-body-horizontal-scroll-viewport\\\" ref=\\\"eBodyHorizontalScrollViewport\\\">\\n                <div class=\\\"ag-body-horizontal-scroll-container\\\" ref=\\\"eBodyHorizontalScrollContainer\\\"></div>\\n            </div>\\n            <div class=\\\"ag-horizontal-right-spacer\\\" ref=\\\"eHorizontalRightSpacer\\\"></div>\\n        </div>\\n        <ag-overlay-wrapper ref=\\\"overlayWrapper\\\"></ag-overlay-wrapper>\\n    </div>\";\nvar GridPanel = /** @class */ (function (_super) {\n    __extends(GridPanel, _super);\n    function GridPanel() {\n        var _this = _super.call(this, GRID_PANEL_NORMAL_TEMPLATE) || this;\n        _this.scrollLeft = -1;\n        _this.scrollTop = -1;\n        _this.resetLastHorizontalScrollElementDebounced = debounce(_this.resetLastHorizontalScrollElement.bind(_this), 500);\n        return _this;\n    }\n    GridPanel.prototype.getVScrollPosition = function () {\n        var result = {\n            top: this.eBodyViewport.scrollTop,\n            bottom: this.eBodyViewport.scrollTop + this.eBodyViewport.offsetHeight\n        };\n        return result;\n    };\n    GridPanel.prototype.getHScrollPosition = function () {\n        var result = {\n            left: this.eCenterViewport.scrollLeft,\n            right: this.eCenterViewport.scrollLeft + this.eCenterViewport.offsetWidth\n        };\n        return result;\n    };\n    GridPanel.prototype.onRowDataChanged = function () {\n        this.showOrHideOverlay();\n    };\n    GridPanel.prototype.showOrHideOverlay = function () {\n        var isEmpty = this.paginationProxy.isEmpty();\n        var isSuppressNoRowsOverlay = this.gridOptionsWrapper.isSuppressNoRowsOverlay();\n        var method = isEmpty && !isSuppressNoRowsOverlay ? 'showNoRowsOverlay' : 'hideOverlay';\n        this[method]();\n    };\n    GridPanel.prototype.onNewColumnsLoaded = function () {\n        // hide overlay if columns and rows exist, this can happen if columns are loaded after data.\n        // this problem exists before of the race condition between the services (column controller in this case)\n        // and the view (grid panel). if the model beans were all initialised first, and then the view beans second,\n        // this race condition would not happen.\n        if (this.beans.columnController.isReady() && !this.paginationProxy.isEmpty()) {\n            this.hideOverlay();\n        }\n    };\n    GridPanel.prototype.init = function () {\n        var _this = this;\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        this.enableRtl = this.gridOptionsWrapper.isEnableRtl();\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        // these elements have different CSS when layout changes\n        this.gridOptionsWrapper.addLayoutElement(this.getGui());\n        this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport);\n        this.suppressScrollOnFloatingRow();\n        this.setupRowAnimationCssClass();\n        this.buildRowContainerComponents();\n        this.addEventListeners();\n        this.addDragListeners();\n        this.addScrollListener();\n        if (this.gridOptionsWrapper.isRowModelDefault() && !this.gridOptionsWrapper.getRowData()) {\n            this.showLoadingOverlay();\n        }\n        this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect());\n        this.setPinnedContainerSize();\n        this.setHeaderAndFloatingHeights();\n        this.disableBrowserDragging();\n        this.addMouseListeners();\n        this.addPreventScrollWhileDragging();\n        this.addKeyboardEvents();\n        this.addBodyViewportListener();\n        this.addStopEditingWhenGridLosesFocus();\n        this.mockContextMenuForIPad();\n        this.addRowDragListener();\n        if (this.$scope) {\n            this.addAngularApplyCheck();\n        }\n        this.onDisplayedColumnsWidthChanged();\n        this.gridApi.registerGridComp(this);\n        this.alignedGridsService.registerGridComp(this);\n        this.headerRootComp.registerGridComp(this);\n        this.navigationService.registerGridComp(this);\n        this.headerNavigationService.registerGridComp(this);\n        this.heightScaler.registerGridComp(this);\n        this.autoHeightCalculator.registerGridComp(this);\n        this.columnAnimationService.registerGridComp(this);\n        this.autoWidthCalculator.registerGridComp(this);\n        this.paginationAutoPageSizeService.registerGridComp(this);\n        this.mouseEventService.registerGridComp(this);\n        this.beans.registerGridComp(this);\n        this.rowRenderer.registerGridComp(this);\n        if (this.rangeController || this.gridOptionsWrapper.isRowSelectionMulti()) {\n            setAriaMultiSelectable(this.getGui(), true);\n            if (this.rangeController) {\n                this.rangeController.registerGridComp(this);\n            }\n        }\n        [this.eCenterViewport, this.eBodyViewport].forEach(function (viewport) {\n            var unsubscribeFromResize = _this.resizeObserverService.observeResize(viewport, _this.onCenterViewportResized.bind(_this));\n            _this.addDestroyFunc(function () { return unsubscribeFromResize(); });\n        });\n        [this.eTop, this.eBodyViewport, this.eBottom].forEach(function (element) {\n            _this.addManagedListener(element, 'focusin', function () {\n                addCssClass(element, 'ag-has-focus');\n            });\n            _this.addManagedListener(element, 'focusout', function (e) {\n                if (!element.contains(e.relatedTarget)) {\n                    removeCssClass(element, 'ag-has-focus');\n                }\n            });\n        });\n    };\n    GridPanel.prototype.onDomLayoutChanged = function () {\n        var newPrintLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (this.printLayout !== newPrintLayout) {\n            this.printLayout = newPrintLayout;\n            this.setWidthsOfContainers();\n            // pinned containers are always hidden for print layout\n            this.setPinnedContainerSize();\n        }\n    };\n    GridPanel.prototype.onCenterViewportResized = function () {\n        if (isVisible(this.eCenterViewport)) {\n            this.checkViewportAndScrolls();\n            this.beans.columnController.refreshFlexedColumns({ viewportWidth: this.getCenterWidth(), updateBodyWidths: true, fireResizedEvent: true });\n        }\n        else {\n            this.bodyHeight = 0;\n        }\n    };\n    // used by ColumnAnimationService\n    GridPanel.prototype.setColumnMovingCss = function (moving) {\n        this.addOrRemoveCssClass('ag-column-moving', moving);\n    };\n    GridPanel.prototype.setCellTextSelection = function (selectable) {\n        if (selectable === void 0) { selectable = false; }\n        [this.eTop, this.eBodyViewport, this.eBottom]\n            .forEach(function (ct) { return addOrRemoveCssClass(ct, 'ag-selectable', selectable); });\n    };\n    GridPanel.prototype.addRowDragListener = function () {\n        this.rowDragFeature = this.createManagedBean(new RowDragFeature(this.eBodyViewport, this));\n        this.dragAndDropService.addDropTarget(this.rowDragFeature);\n    };\n    GridPanel.prototype.getRowDragFeature = function () {\n        return this.rowDragFeature;\n    };\n    GridPanel.prototype.addStopEditingWhenGridLosesFocus = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()) {\n            return;\n        }\n        var viewports = [this.eBodyViewport, this.eBottom, this.eTop];\n        var focusOutListener = function (event) {\n            // this is the element the focus is moving to\n            var elementWithFocus = event.relatedTarget;\n            if (getTabIndex(elementWithFocus) === null) {\n                _this.rowRenderer.stopEditing();\n                return;\n            }\n            var clickInsideGrid = viewports.some(function (viewport) { return viewport.contains(elementWithFocus); });\n            if (!clickInsideGrid) {\n                var popupService = _this.beans.popupService;\n                clickInsideGrid =\n                    popupService.getActivePopups().some(function (popup) { return popup.contains(elementWithFocus); }) ||\n                        popupService.isElementWithinCustomPopup(elementWithFocus);\n            }\n            if (!clickInsideGrid) {\n                _this.rowRenderer.stopEditing();\n            }\n        };\n        viewports.forEach(function (viewport) { return _this.addManagedListener(viewport, 'focusout', focusOutListener); });\n    };\n    GridPanel.prototype.addAngularApplyCheck = function () {\n        var _this = this;\n        // this makes sure if we queue up requests, we only execute oe\n        var applyTriggered = false;\n        var listener = function () {\n            // only need to do one apply at a time\n            if (applyTriggered) {\n                return;\n            }\n            applyTriggered = true; // mark 'need apply' to true\n            window.setTimeout(function () {\n                applyTriggered = false;\n                _this.$scope.$apply();\n            }, 0);\n        };\n        // these are the events we need to do an apply after - these are the ones that can end up\n        // with columns added or removed\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, listener);\n        this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, listener);\n    };\n    // if we do not do this, then the user can select a pic in the grid (eg an image in a custom cell renderer)\n    // and then that will start the browser native drag n' drop, which messes up with our own drag and drop.\n    GridPanel.prototype.disableBrowserDragging = function () {\n        this.addGuiEventListener('dragstart', function (event) {\n            if (event.target instanceof HTMLImageElement) {\n                event.preventDefault();\n                return false;\n            }\n        });\n    };\n    GridPanel.prototype.addEventListeners = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onDisplayedColumnsWidthChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_PINNED_ROW_DATA_CHANGED, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_DATA_CHANGED, this.onRowDataChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_DATA_UPDATED, this.onRowDataChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n    };\n    GridPanel.prototype.addDragListeners = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isEnableRangeSelection() || // no range selection if no property\n            missing(this.rangeController) // no range selection if not enterprise version\n        ) {\n            return;\n        }\n        var containers = [\n            this.eLeftContainer,\n            this.eRightContainer,\n            this.eCenterContainer,\n            this.eTop,\n            this.eBottom\n        ];\n        containers.forEach(function (container) {\n            var params = {\n                eElement: container,\n                onDragStart: _this.rangeController.onDragStart.bind(_this.rangeController),\n                onDragStop: _this.rangeController.onDragStop.bind(_this.rangeController),\n                onDragging: _this.rangeController.onDragging.bind(_this.rangeController)\n            };\n            _this.dragService.addDragSource(params);\n            _this.addDestroyFunc(function () { return _this.dragService.removeDragSource(params); });\n        });\n    };\n    GridPanel.prototype.addMouseListeners = function () {\n        var _this = this;\n        var eventNames = ['dblclick', 'contextmenu', 'mouseover', 'mouseout', 'click', 'mousedown'];\n        eventNames.forEach(function (eventName) {\n            var listener = _this.processMouseEvent.bind(_this, eventName);\n            _this.eAllCellContainers.forEach(function (container) {\n                return _this.addManagedListener(container, eventName, listener);\n            });\n        });\n    };\n    // this methods prevents the grid views from being scrolled while the dragService is being used\n    // eg. the view should not scroll up and down while dragging rows using the rowDragComp.\n    GridPanel.prototype.addPreventScrollWhileDragging = function () {\n        var _this = this;\n        var preventScroll = function (e) {\n            if (_this.dragService.isDragging()) {\n                if (e.cancelable) {\n                    e.preventDefault();\n                }\n            }\n        };\n        this.eAllCellContainers.forEach(function (container) {\n            container.addEventListener('touchmove', preventScroll, { passive: false });\n        });\n        this.addDestroyFunc(function () {\n            _this.eAllCellContainers.forEach(function (container) {\n                container.removeEventListener('touchmove', preventScroll);\n            });\n        });\n    };\n    GridPanel.prototype.addKeyboardEvents = function () {\n        var _this = this;\n        var eventNames = ['keydown', 'keypress'];\n        eventNames.forEach(function (eventName) {\n            var listener = _this.processKeyboardEvent.bind(_this, eventName);\n            _this.eAllCellContainers.forEach(function (container) {\n                _this.addManagedListener(container, eventName, listener);\n            });\n        });\n    };\n    GridPanel.prototype.addBodyViewportListener = function () {\n        var _this = this;\n        // we want to listen for clicks directly on the eBodyViewport, so the user has a way of showing\n        // the context menu if no rows or columns are displayed, or user simply clicks outside of a cell\n        var listener = function (mouseEvent) {\n            var target = getTarget(mouseEvent);\n            if (target === _this.eBodyViewport || target === _this.eCenterViewport) {\n                // show it\n                _this.onContextMenu(mouseEvent, null, null, null, null);\n                _this.preventDefaultOnContextMenu(mouseEvent);\n            }\n        };\n        this.addManagedListener(this.eBodyViewport, 'contextmenu', listener);\n    };\n    // + rangeController - used to know when to scroll when user is dragging outside the\n    // main viewport while doing a range selection\n    GridPanel.prototype.getBodyClientRect = function () {\n        if (!this.eBodyViewport) {\n            return;\n        }\n        return this.eBodyViewport.getBoundingClientRect();\n    };\n    GridPanel.prototype.getRowForEvent = function (event) {\n        var sourceElement = getTarget(event);\n        while (sourceElement) {\n            var renderedRow = this.gridOptionsWrapper.getDomData(sourceElement, RowComp.DOM_DATA_KEY_RENDERED_ROW);\n            if (renderedRow) {\n                return renderedRow;\n            }\n            sourceElement = sourceElement.parentElement;\n        }\n        return null;\n    };\n    GridPanel.prototype.processKeyboardEvent = function (eventName, keyboardEvent) {\n        var cellComp = getCellCompForEvent(this.gridOptionsWrapper, keyboardEvent);\n        if (!cellComp || keyboardEvent.defaultPrevented) {\n            return;\n        }\n        var rowNode = cellComp.getRenderedRow().getRowNode();\n        var column = cellComp.getColumn();\n        var editing = cellComp.isEditing();\n        var gridProcessingAllowed = !isUserSuppressingKeyboardEvent(this.gridOptionsWrapper, keyboardEvent, rowNode, column, editing);\n        if (gridProcessingAllowed) {\n            switch (eventName) {\n                case 'keydown':\n                    // first see if it's a scroll key, page up / down, home / end etc\n                    var wasScrollKey = !editing && this.navigationService.handlePageScrollingKey(keyboardEvent);\n                    // if not a scroll key, then we pass onto cell\n                    if (!wasScrollKey) {\n                        cellComp.onKeyDown(keyboardEvent);\n                    }\n                    // perform clipboard and undo / redo operations\n                    this.doGridOperations(keyboardEvent, cellComp);\n                    break;\n                case 'keypress':\n                    cellComp.onKeyPress(keyboardEvent);\n                    break;\n            }\n        }\n        if (eventName === 'keydown') {\n            var cellKeyDownEvent = cellComp.createEvent(keyboardEvent, Events.EVENT_CELL_KEY_DOWN);\n            this.beans.eventService.dispatchEvent(cellKeyDownEvent);\n        }\n        if (eventName === 'keypress') {\n            var cellKeyPressEvent = cellComp.createEvent(keyboardEvent, Events.EVENT_CELL_KEY_PRESS);\n            this.beans.eventService.dispatchEvent(cellKeyPressEvent);\n        }\n    };\n    GridPanel.prototype.doGridOperations = function (keyboardEvent, cellComp) {\n        // check if ctrl or meta key pressed\n        if (!keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\n            return;\n        }\n        // if the cell the event came from is editing, then we do not\n        // want to do the default shortcut keys, otherwise the editor\n        // (eg a text field) would not be able to do the normal cut/copy/paste\n        if (cellComp.isEditing()) {\n            return;\n        }\n        // for copy / paste, we don't want to execute when the event\n        // was from a child grid (happens in master detail)\n        if (!this.mouseEventService.isEventFromThisGrid(keyboardEvent)) {\n            return;\n        }\n        switch (keyboardEvent.which) {\n            case KeyCode.A:\n                return this.onCtrlAndA(keyboardEvent);\n            case KeyCode.C:\n                return this.onCtrlAndC(keyboardEvent);\n            case KeyCode.V:\n                return this.onCtrlAndV();\n            case KeyCode.D:\n                return this.onCtrlAndD(keyboardEvent);\n            case KeyCode.Z:\n                return keyboardEvent.shiftKey ? this.undoRedoService.redo() : this.undoRedoService.undo();\n            case KeyCode.Y:\n                return this.undoRedoService.redo();\n        }\n    };\n    // gets called by rowRenderer when new data loaded, as it will want to scroll to the top\n    GridPanel.prototype.scrollToTop = function () {\n        this.eBodyViewport.scrollTop = 0;\n    };\n    GridPanel.prototype.processMouseEvent = function (eventName, mouseEvent) {\n        if (!this.mouseEventService.isEventFromThisGrid(mouseEvent) ||\n            isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        var rowComp = this.getRowForEvent(mouseEvent);\n        var cellComp = this.mouseEventService.getRenderedCellForEvent(mouseEvent);\n        if (eventName === \"contextmenu\") {\n            this.preventDefaultOnContextMenu(mouseEvent);\n            this.handleContextMenuMouseEvent(mouseEvent, null, rowComp, cellComp);\n        }\n        else {\n            if (cellComp) {\n                cellComp.onMouseEvent(eventName, mouseEvent);\n            }\n            if (rowComp) {\n                rowComp.onMouseEvent(eventName, mouseEvent);\n            }\n        }\n    };\n    GridPanel.prototype.mockContextMenuForIPad = function () {\n        var _this = this;\n        // we do NOT want this when not in iPad, otherwise we will be doing\n        if (!isIOSUserAgent()) {\n            return;\n        }\n        this.eAllCellContainers.forEach(function (container) {\n            var touchListener = new TouchListener(container);\n            var longTapListener = function (event) {\n                var rowComp = _this.getRowForEvent(event.touchEvent);\n                var cellComp = _this.mouseEventService.getRenderedCellForEvent(event.touchEvent);\n                _this.handleContextMenuMouseEvent(null, event.touchEvent, rowComp, cellComp);\n            };\n            _this.addManagedListener(touchListener, TouchListener.EVENT_LONG_TAP, longTapListener);\n            _this.addDestroyFunc(function () { return touchListener.destroy(); });\n        });\n    };\n    GridPanel.prototype.handleContextMenuMouseEvent = function (mouseEvent, touchEvent, rowComp, cellComp) {\n        var rowNode = rowComp ? rowComp.getRowNode() : null;\n        var column = cellComp ? cellComp.getColumn() : null;\n        var value = null;\n        if (column) {\n            var event_1 = mouseEvent ? mouseEvent : touchEvent;\n            cellComp.dispatchCellContextMenuEvent(event_1);\n            value = this.valueService.getValue(column, rowNode);\n        }\n        this.onContextMenu(mouseEvent, touchEvent, rowNode, column, value);\n    };\n    GridPanel.prototype.onContextMenu = function (mouseEvent, touchEvent, rowNode, column, value) {\n        // to allow us to debug in chrome, we ignore the event if ctrl is pressed.\n        // not everyone wants this, so first 'if' below allows to turn this hack off.\n        if (!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()) {\n            // then do the check\n            if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n                return;\n            }\n        }\n        if (this.contextMenuFactory && !this.gridOptionsWrapper.isSuppressContextMenu()) {\n            var eventOrTouch = mouseEvent ? mouseEvent : touchEvent.touches[0];\n            if (this.contextMenuFactory.showMenu(rowNode, column, value, eventOrTouch)) {\n                var event_2 = mouseEvent ? mouseEvent : touchEvent;\n                event_2.preventDefault();\n            }\n        }\n    };\n    GridPanel.prototype.preventDefaultOnContextMenu = function (mouseEvent) {\n        // if we don't do this, then middle click will never result in a 'click' event, as 'mousedown'\n        // will be consumed by the browser to mean 'scroll' (as you can scroll with the middle mouse\n        // button in the browser). so this property allows the user to receive middle button clicks if\n        // they want.\n        var gridOptionsWrapper = this.gridOptionsWrapper;\n        var which = mouseEvent.which;\n        if (gridOptionsWrapper.isPreventDefaultOnContextMenu() ||\n            (gridOptionsWrapper.isSuppressMiddleClickScrolls() && which === 2)) {\n            mouseEvent.preventDefault();\n        }\n    };\n    GridPanel.prototype.onCtrlAndA = function (event) {\n        var _a = this, beans = _a.beans, pinnedRowModel = _a.pinnedRowModel, paginationProxy = _a.paginationProxy, rangeController = _a.rangeController;\n        var PINNED_BOTTOM = Constants.PINNED_BOTTOM, PINNED_TOP = Constants.PINNED_TOP;\n        if (rangeController && paginationProxy.isRowsToRender()) {\n            var _b = [\n                pinnedRowModel.isEmpty(PINNED_TOP),\n                pinnedRowModel.isEmpty(PINNED_BOTTOM)\n            ], isEmptyPinnedTop = _b[0], isEmptyPinnedBottom = _b[1];\n            var floatingStart = isEmptyPinnedTop ? null : PINNED_TOP;\n            var floatingEnd = void 0;\n            var rowEnd = void 0;\n            if (isEmptyPinnedBottom) {\n                floatingEnd = null;\n                rowEnd = this.paginationProxy.getRowCount() - 1;\n            }\n            else {\n                floatingEnd = PINNED_BOTTOM;\n                rowEnd = pinnedRowModel.getPinnedBottomRowData().length - 1;\n            }\n            var allDisplayedColumns = beans.columnController.getAllDisplayedColumns();\n            if (missingOrEmpty(allDisplayedColumns)) {\n                return;\n            }\n            rangeController.setCellRange({\n                rowStartIndex: 0,\n                rowStartPinned: floatingStart,\n                rowEndIndex: rowEnd,\n                rowEndPinned: floatingEnd,\n                columnStart: allDisplayedColumns[0],\n                columnEnd: last(allDisplayedColumns)\n            });\n        }\n        event.preventDefault();\n    };\n    GridPanel.prototype.onCtrlAndC = function (event) {\n        if (!this.clipboardService || this.gridOptionsWrapper.isEnableCellTextSelection()) {\n            return;\n        }\n        this.clipboardService.copyToClipboard();\n        event.preventDefault();\n    };\n    GridPanel.prototype.onCtrlAndV = function () {\n        if (ModuleRegistry.isRegistered(ModuleNames.ClipboardModule) && !this.gridOptionsWrapper.isSuppressClipboardPaste()) {\n            this.clipboardService.pasteFromClipboard();\n        }\n    };\n    GridPanel.prototype.onCtrlAndD = function (event) {\n        if (ModuleRegistry.isRegistered(ModuleNames.ClipboardModule) && !this.gridOptionsWrapper.isSuppressClipboardPaste()) {\n            this.clipboardService.copyRangeDown();\n        }\n        event.preventDefault();\n    };\n    // Valid values for position are bottom, middle and top\n    // position should be {'top','middle','bottom', or undefined/null}.\n    // if undefined/null, then the grid will to the minimal amount of scrolling,\n    // eg if grid needs to scroll up, it scrolls until row is on top,\n    //    if grid needs to scroll down, it scrolls until row is on bottom,\n    //    if row is already in view, grid does not scroll\n    GridPanel.prototype.ensureIndexVisible = function (index, position) {\n        // if for print or auto height, everything is always visible\n        if (this.printLayout) {\n            return;\n        }\n        var rowCount = this.paginationProxy.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= rowCount) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        var isPaging = this.gridOptionsWrapper.isPagination();\n        var paginationPanelEnabled = isPaging && !this.gridOptionsWrapper.isSuppressPaginationPanel();\n        if (!paginationPanelEnabled) {\n            this.paginationProxy.goToPageWithIndex(index);\n        }\n        var rowNode = this.paginationProxy.getRow(index);\n        var rowGotShiftedDuringOperation;\n        do {\n            var startingRowTop = rowNode.rowTop;\n            var startingRowHeight = rowNode.rowHeight;\n            var paginationOffset = this.paginationProxy.getPixelOffset();\n            var rowTopPixel = rowNode.rowTop - paginationOffset;\n            var rowBottomPixel = rowTopPixel + rowNode.rowHeight;\n            var scrollPosition = this.getVScrollPosition();\n            var heightOffset = this.heightScaler.getOffset();\n            var vScrollTop = scrollPosition.top + heightOffset;\n            var vScrollBottom = scrollPosition.bottom + heightOffset;\n            var viewportHeight = vScrollBottom - vScrollTop;\n            // work out the pixels for top, middle and bottom up front,\n            // make the if/else below easier to read\n            var pxTop = this.heightScaler.getScrollPositionForPixel(rowTopPixel);\n            var pxBottom = this.heightScaler.getScrollPositionForPixel(rowBottomPixel - viewportHeight);\n            // make sure if middle, the row is not outside the top of the grid\n            var pxMiddle = Math.min((pxTop + pxBottom) / 2, rowTopPixel);\n            var rowBelowViewport = vScrollTop > rowTopPixel;\n            var rowAboveViewport = vScrollBottom < rowBottomPixel;\n            var newScrollPosition = null;\n            if (position === 'top') {\n                newScrollPosition = pxTop;\n            }\n            else if (position === 'bottom') {\n                newScrollPosition = pxBottom;\n            }\n            else if (position === 'middle') {\n                newScrollPosition = pxMiddle;\n            }\n            else if (rowBelowViewport) {\n                // if row is before, scroll up with row at top\n                newScrollPosition = pxTop;\n            }\n            else if (rowAboveViewport) {\n                // if row is below, scroll down with row at bottom\n                newScrollPosition = pxBottom;\n            }\n            if (newScrollPosition !== null) {\n                this.eBodyViewport.scrollTop = newScrollPosition;\n                this.rowRenderer.redrawAfterScroll();\n            }\n            // the row can get shifted if during the rendering (during rowRenderer.redrawAfterScroll()),\n            // the height of a row changes due to lazy calculation of row heights when using\n            // colDef.autoHeight or gridOptions.getRowHeight.\n            // if row was shifted, then the position we scrolled to is incorrect.\n            rowGotShiftedDuringOperation = (startingRowTop !== rowNode.rowTop)\n                || (startingRowHeight !== rowNode.rowHeight);\n        } while (rowGotShiftedDuringOperation);\n        // so when we return back to user, the cells have rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    // + moveColumnController\n    GridPanel.prototype.getCenterWidth = function () {\n        return this.eCenterViewport.clientWidth;\n    };\n    GridPanel.prototype.isVerticalScrollShowing = function () {\n        var isAlwaysShowVerticalScroll = this.gridOptionsWrapper.isAlwaysShowVerticalScroll();\n        addOrRemoveCssClass(this.eBodyViewport, 'ag-force-vertical-scroll', isAlwaysShowVerticalScroll);\n        return isAlwaysShowVerticalScroll || isVerticalScrollShowing(this.eBodyViewport);\n    };\n    GridPanel.prototype.isHorizontalScrollShowing = function () {\n        return isHorizontalScrollShowing(this.eCenterViewport);\n    };\n    // gets called every time the viewport size changes. we use this to check visibility of scrollbars\n    // in the grid panel, and also to check size and position of viewport for row and column virtualisation.\n    GridPanel.prototype.checkViewportAndScrolls = function () {\n        // results in updating anything that depends on scroll showing\n        this.updateScrollVisibleService();\n        // fires event if height changes, used by PaginationService, HeightScalerService, RowRenderer\n        this.checkBodyHeight();\n        // check for virtual columns for ColumnController\n        this.onHorizontalViewportChanged();\n        this.setPinnedContainerSize();\n        // this is to cater for AG-3274, where grid is removed from the dom and then inserted back in again.\n        // (which happens with some implementations of tabbing). this can result in horizontal scroll getting\n        // reset back to the left, however no scroll event is fired. so we need to get header to also scroll\n        // back to the left to be kept in sync.\n        // adding and removing the grid from the DOM both resets the scroll position and\n        // triggers a resize event, so notify listeners if the scroll position has changed\n        if (this.scrollLeft !== this.getCenterViewportScrollLeft()) {\n            this.onBodyHorizontalScroll(this.eCenterViewport);\n        }\n    };\n    GridPanel.prototype.updateScrollVisibleService = function () {\n        // because of column animation (which takes 200ms), we have to do this twice.\n        // eg if user removes cols anywhere except at the RHS, then the cols on the RHS\n        // will animate to the left to fill the gap. this animation means just after\n        // the cols are removed, the remaining cols are still in the original location\n        // at the start of the animation, so pre animation the H scrollbar is still needed,\n        // but post animation it is not.\n        this.updateScrollVisibleServiceImpl();\n        setTimeout(this.updateScrollVisibleServiceImpl.bind(this), 500);\n    };\n    GridPanel.prototype.updateScrollVisibleServiceImpl = function () {\n        var params = {\n            horizontalScrollShowing: false,\n            verticalScrollShowing: false\n        };\n        params.verticalScrollShowing = this.isVerticalScrollShowing();\n        params.horizontalScrollShowing = this.isHorizontalScrollShowing();\n        this.scrollVisibleService.setScrollsVisible(params);\n        this.setHorizontalScrollVisible(params.horizontalScrollShowing);\n        this.setVerticalScrollPaddingVisible(params.verticalScrollShowing);\n    };\n    GridPanel.prototype.setHorizontalScrollVisible = function (visible) {\n        var isSuppressHorizontalScroll = this.gridOptionsWrapper.isSuppressHorizontalScroll();\n        var scrollSize = visible ? (this.gridOptionsWrapper.getScrollbarWidth() || 0) : 0;\n        var scrollContainerSize = !isSuppressHorizontalScroll ? scrollSize : 0;\n        var addIEPadding = isBrowserIE() && visible;\n        this.eCenterViewport.style.height = \"calc(100% + \" + scrollSize + \"px)\";\n        setFixedHeight(this.eHorizontalScrollBody, scrollContainerSize);\n        // we have to add an extra pixel to the scroller viewport on IE because\n        // if the container has the same size as the scrollbar, the scroll button won't work\n        setFixedHeight(this.eBodyHorizontalScrollViewport, scrollContainerSize + (addIEPadding ? 1 : 0));\n        setFixedHeight(this.eBodyHorizontalScrollContainer, scrollContainerSize);\n    };\n    GridPanel.prototype.setVerticalScrollPaddingVisible = function (show) {\n        var scroller = show ? 'scroll' : 'hidden';\n        this.eTop.style.overflowY = this.eBottom.style.overflowY = scroller;\n        this.setFakeHScrollSpacerWidths();\n    };\n    GridPanel.prototype.updateRowCount = function () {\n        var headerCount = this.headerNavigationService.getHeaderRowCount();\n        var modelType = this.paginationProxy.getType();\n        var rowCount = -1;\n        if (modelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            rowCount = 0;\n            this.paginationProxy.forEachNode(function (node) {\n                if (!node.group) {\n                    rowCount++;\n                }\n            });\n        }\n        var total = rowCount === -1 ? -1 : (headerCount + rowCount);\n        setAriaRowCount(this.getGui(), total);\n    };\n    GridPanel.prototype.updateColumnCount = function () {\n        var columns = this.columnController.getAllGridColumns();\n        setAriaColCount(this.getGui(), columns.length);\n    };\n    GridPanel.prototype.ensureColumnVisible = function (key) {\n        var column = this.columnController.getGridColumn(key);\n        if (!column) {\n            return;\n        }\n        if (column.isPinned()) {\n            console.warn('calling ensureIndexVisible on a ' + column.getPinned() + ' pinned column doesn\\'t make sense for column ' + column.getColId());\n            return;\n        }\n        if (!this.columnController.isColumnDisplayed(column)) {\n            console.warn('column is not currently visible');\n            return;\n        }\n        var colLeftPixel = column.getLeft();\n        var colRightPixel = colLeftPixel + column.getActualWidth();\n        var viewportWidth = this.eCenterViewport.clientWidth;\n        var scrollPosition = this.getCenterViewportScrollLeft();\n        var bodyWidth = this.columnController.getBodyContainerWidth();\n        var viewportLeftPixel;\n        var viewportRightPixel;\n        // the logic of working out left and right viewport px is both here and in the ColumnController,\n        // need to refactor it out to one place\n        if (this.enableRtl) {\n            viewportLeftPixel = bodyWidth - scrollPosition - viewportWidth;\n            viewportRightPixel = bodyWidth - scrollPosition;\n        }\n        else {\n            viewportLeftPixel = scrollPosition;\n            viewportRightPixel = viewportWidth + scrollPosition;\n        }\n        var viewportScrolledPastCol = viewportLeftPixel > colLeftPixel;\n        var viewportScrolledBeforeCol = viewportRightPixel < colRightPixel;\n        var colToSmallForViewport = viewportWidth < column.getActualWidth();\n        var alignColToLeft = viewportScrolledPastCol || colToSmallForViewport;\n        var alignColToRight = viewportScrolledBeforeCol;\n        var newScrollPosition = this.getCenterViewportScrollLeft();\n        if (alignColToLeft || alignColToRight) {\n            if (this.enableRtl) {\n                newScrollPosition = alignColToLeft ? (bodyWidth - viewportWidth - colLeftPixel) : (bodyWidth - colRightPixel);\n            }\n            else {\n                newScrollPosition = alignColToLeft ? colLeftPixel : (colRightPixel - viewportWidth);\n            }\n            this.setCenterViewportScrollLeft(newScrollPosition);\n        }\n        else {\n            // otherwise, col is already in view, so do nothing\n        }\n        // this will happen anyway, as the move will cause a 'scroll' event on the body, however\n        // it is possible that the ensureColumnVisible method is called from within ag-Grid and\n        // the caller will need to have the columns rendered to continue, which will be before\n        // the event has been worked on (which is the case for cell navigation).\n        this.onHorizontalViewportChanged();\n        // so when we return back to user, the cells have rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    GridPanel.prototype.showLoadingOverlay = function () {\n        if (!this.gridOptionsWrapper.isSuppressLoadingOverlay()) {\n            this.overlayWrapper.showLoadingOverlay();\n        }\n    };\n    GridPanel.prototype.showNoRowsOverlay = function () {\n        if (!this.gridOptionsWrapper.isSuppressNoRowsOverlay()) {\n            this.overlayWrapper.showNoRowsOverlay();\n        }\n    };\n    GridPanel.prototype.hideOverlay = function () {\n        this.overlayWrapper.hideOverlay();\n    };\n    // method will call itself if no available width. this covers if the grid\n    // isn't visible, but is just about to be visible.\n    GridPanel.prototype.sizeColumnsToFit = function (nextTimeout) {\n        var _this = this;\n        var availableWidth = this.eBodyViewport.clientWidth;\n        if (availableWidth > 0) {\n            this.columnController.sizeColumnsToFit(availableWidth, \"sizeColumnsToFit\");\n            return;\n        }\n        if (nextTimeout === undefined) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(100);\n            }, 0);\n        }\n        else if (nextTimeout === 100) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(500);\n            }, 100);\n        }\n        else if (nextTimeout === 500) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(-1);\n            }, 500);\n        }\n        else {\n            console.warn('ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with ' +\n                'zero width, maybe the grid is not visible yet on the screen?');\n        }\n    };\n    // used by autoWidthCalculator and autoHeightCalculator\n    GridPanel.prototype.getCenterContainer = function () {\n        return this.eCenterContainer;\n    };\n    GridPanel.prototype.getDropTargetBodyContainers = function () {\n        return [this.eCenterViewport, this.eTopViewport, this.eBottomViewport];\n    };\n    GridPanel.prototype.getDropTargetLeftContainers = function () {\n        return [this.eLeftContainer, this.eLeftBottom, this.eLeftTop];\n    };\n    GridPanel.prototype.getDropTargetRightContainers = function () {\n        return [this.eRightContainer, this.eRightBottom, this.eRightTop];\n    };\n    GridPanel.prototype.buildRowContainerComponents = function () {\n        var _this = this;\n        this.eAllCellContainers = [\n            this.eLeftContainer, this.eRightContainer, this.eCenterContainer,\n            this.eTop, this.eBottom, this.eFullWidthContainer\n        ];\n        this.rowContainerComponents = {\n            body: new RowContainerComponent({\n                eContainer: this.eCenterContainer,\n                eWrapper: this.eCenterColsClipper,\n                eViewport: this.eBodyViewport\n            }),\n            fullWidth: new RowContainerComponent({\n                eContainer: this.eFullWidthContainer\n            }),\n            pinnedLeft: new RowContainerComponent({ eContainer: this.eLeftContainer }),\n            pinnedRight: new RowContainerComponent({ eContainer: this.eRightContainer }),\n            floatingTop: new RowContainerComponent({ eContainer: this.eTopContainer }),\n            floatingTopPinnedLeft: new RowContainerComponent({ eContainer: this.eLeftTop }),\n            floatingTopPinnedRight: new RowContainerComponent({ eContainer: this.eRightTop }),\n            floatingTopFullWidth: new RowContainerComponent({\n                eContainer: this.eTopFullWidthContainer,\n                hideWhenNoChildren: true\n            }),\n            floatingBottom: new RowContainerComponent({ eContainer: this.eBottomContainer }),\n            floatingBottomPinnedLeft: new RowContainerComponent({ eContainer: this.eLeftBottom }),\n            floatingBottomPinnedRight: new RowContainerComponent({ eContainer: this.eRightBottom }),\n            floatingBottomFullWidth: new RowContainerComponent({\n                eContainer: this.eBottomFullWidthContainer,\n                hideWhenNoChildren: true\n            }),\n        };\n        iterateObject(this.rowContainerComponents, function (key, container) {\n            if (container) {\n                _this.getContext().createBean(container);\n            }\n        });\n    };\n    GridPanel.prototype.setupRowAnimationCssClass = function () {\n        var _this = this;\n        var listener = function () {\n            // we don't want to use row animation if scaling, as rows jump strangely as you scroll,\n            // when scaling and doing row animation.\n            var animateRows = _this.gridOptionsWrapper.isAnimateRows() && !_this.heightScaler.isScaling();\n            addOrRemoveCssClass(_this.eBodyViewport, 'ag-row-animation', animateRows);\n            addOrRemoveCssClass(_this.eBodyViewport, 'ag-row-no-animation', !animateRows);\n        };\n        listener();\n        this.addManagedListener(this.eventService, Events.EVENT_HEIGHT_SCALE_CHANGED, listener);\n    };\n    // when editing a pinned row, if the cell is half outside the scrollable area, the browser can\n    // scroll the column into view. we do not want this, the pinned sections should never scroll.\n    // so we listen to scrolls on these containers and reset the scroll if we find one.\n    GridPanel.prototype.suppressScrollOnFloatingRow = function () {\n        var _this = this;\n        var resetTopScroll = function () { return _this.eTopViewport.scrollLeft = 0; };\n        var resetBottomScroll = function () { return _this.eTopViewport.scrollLeft = 0; };\n        this.addManagedListener(this.eTopViewport, 'scroll', resetTopScroll);\n        this.addManagedListener(this.eBottomViewport, 'scroll', resetBottomScroll);\n    };\n    GridPanel.prototype.getRowContainers = function () {\n        return this.rowContainerComponents;\n    };\n    GridPanel.prototype.getFloatingTopBottom = function () {\n        return [this.eTop, this.eBottom];\n    };\n    GridPanel.prototype.onDisplayedColumnsChanged = function () {\n        this.setPinnedContainerSize();\n        this.setHeaderAndFloatingHeights();\n        this.onHorizontalViewportChanged();\n        this.updateScrollVisibleService();\n        this.updateColumnCount();\n    };\n    GridPanel.prototype.onDisplayedColumnsWidthChanged = function () {\n        this.setWidthsOfContainers();\n        this.onHorizontalViewportChanged();\n        this.updateScrollVisibleService();\n        if (this.enableRtl) {\n            // because RTL is all backwards, a change in the width of the row\n            // can cause a change in the scroll position, without a scroll event,\n            // because the scroll position in RTL is a function that depends on\n            // the width. to be convinced of this, take out this line, enable RTL,\n            // scroll all the way to the left and then resize a column\n            this.horizontallyScrollHeaderCenterAndFloatingCenter();\n        }\n    };\n    GridPanel.prototype.setWidthsOfContainers = function () {\n        this.setCenterWidth();\n        this.setPinnedContainerSize();\n    };\n    GridPanel.prototype.setCenterWidth = function () {\n        var _a = this, headerRootComp = _a.headerRootComp, columnController = _a.columnController;\n        var width = columnController.getBodyContainerWidth();\n        if (this.printLayout) {\n            var pinnedContainerWidths = columnController.getPinnedLeftContainerWidth()\n                + columnController.getPinnedRightContainerWidth();\n            width += pinnedContainerWidths;\n        }\n        headerRootComp.setHeaderContainerWidth(width);\n        var widthPx = width + \"px\";\n        this.eCenterContainer.style.width = widthPx;\n        this.eBottomContainer.style.width = widthPx;\n        this.eTopContainer.style.width = widthPx;\n        if (!this.printLayout) {\n            this.eBodyHorizontalScrollContainer.style.width = widthPx;\n        }\n    };\n    GridPanel.prototype.setPinnedLeftWidth = function () {\n        var _this = this;\n        var oldPinning = this.pinningLeft;\n        var widthOfCols = this.columnController.getPinnedLeftContainerWidth();\n        var newPinning = this.pinningLeft = !this.printLayout && widthOfCols > 0;\n        var containers = [this.eLeftContainer, this.eLeftTop, this.eLeftBottom];\n        if (oldPinning !== newPinning) {\n            this.headerRootComp.setLeftVisible(newPinning);\n        }\n        containers.forEach(function (e) { return setDisplayed(e, _this.pinningLeft); });\n        if (newPinning) {\n            containers.forEach(function (ct) { return setFixedWidth(ct, widthOfCols); });\n        }\n    };\n    GridPanel.prototype.setPinnedRightWidth = function () {\n        var oldPinning = this.pinningRight;\n        var widthOfCols = this.columnController.getPinnedRightContainerWidth();\n        var newPinning = this.pinningRight = !this.printLayout && widthOfCols > 0;\n        var containers = [this.eRightContainer, this.eRightTop, this.eRightBottom];\n        if (oldPinning !== newPinning) {\n            this.headerRootComp.setRightVisible(newPinning);\n        }\n        containers.forEach(function (ct) { return setDisplayed(ct, newPinning); });\n        if (newPinning) {\n            containers.forEach(function (ct) { return setFixedWidth(ct, widthOfCols); });\n        }\n    };\n    GridPanel.prototype.setPinnedContainerSize = function () {\n        this.setPinnedLeftWidth();\n        this.setPinnedRightWidth();\n        this.setFakeHScrollSpacerWidths();\n    };\n    GridPanel.prototype.setFakeHScrollSpacerWidths = function () {\n        // we pad the right based on a) if cols are pinned to the right and\n        // b) if v scroll is showing on the right (normal position of scroll)\n        var rightSpacing = this.columnController.getPinnedRightContainerWidth();\n        var scrollOnRight = !this.enableRtl && this.isVerticalScrollShowing();\n        if (scrollOnRight) {\n            rightSpacing += this.scrollWidth;\n        }\n        setFixedWidth(this.eHorizontalRightSpacer, rightSpacing);\n        addOrRemoveCssClass(this.eHorizontalRightSpacer, 'ag-scroller-corner', rightSpacing <= this.scrollWidth);\n        // we pad the left based on a) if cols are pinned to the left and\n        // b) if v scroll is showing on the left (happens in LTR layout only)\n        var leftSpacing = this.columnController.getPinnedLeftContainerWidth();\n        var scrollOnLeft = this.enableRtl && this.isVerticalScrollShowing();\n        if (scrollOnLeft) {\n            leftSpacing += this.scrollWidth;\n        }\n        setFixedWidth(this.eHorizontalLeftSpacer, leftSpacing);\n        addOrRemoveCssClass(this.eHorizontalLeftSpacer, 'ag-scroller-corner', leftSpacing <= this.scrollWidth);\n    };\n    GridPanel.prototype.checkBodyHeight = function () {\n        var bodyHeight = this.eBodyViewport.clientHeight;\n        if (this.bodyHeight !== bodyHeight) {\n            this.bodyHeight = bodyHeight;\n            var event_3 = {\n                type: Events.EVENT_BODY_HEIGHT_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_3);\n        }\n    };\n    GridPanel.prototype.setHeaderAndFloatingHeights = function () {\n        var _a = this, columnController = _a.columnController, gridOptionsWrapper = _a.gridOptionsWrapper, pinnedRowModel = _a.pinnedRowModel, eTop = _a.eTop, eBottom = _a.eBottom;\n        var numberOfFloating = 0;\n        var headerRowCount = columnController.getHeaderRowCount();\n        var totalHeaderHeight;\n        var groupHeight;\n        var headerHeight;\n        if (columnController.isPivotMode()) {\n            groupHeight = gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            var hasFloatingFilters = columnController.hasFloatingFilters();\n            if (hasFloatingFilters) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        totalHeaderHeight = numberOfFloating * gridOptionsWrapper.getFloatingFiltersHeight();\n        totalHeaderHeight += numberOfGroups * groupHeight;\n        totalHeaderHeight += headerHeight;\n        this.headerRootComp.setHeight(totalHeaderHeight);\n        var floatingTopHeight = pinnedRowModel.getPinnedTopTotalHeight();\n        if (floatingTopHeight) {\n            // adding 1px for cell bottom border\n            floatingTopHeight += 1;\n        }\n        var floatingBottomHeight = pinnedRowModel.getPinnedBottomTotalHeight();\n        if (floatingBottomHeight) {\n            // adding 1px for cell bottom border\n            floatingBottomHeight += 1;\n        }\n        var floatingTopHeightString = floatingTopHeight + \"px\";\n        var floatingBottomHeightString = floatingBottomHeight + \"px\";\n        eTop.style.minHeight = floatingTopHeightString;\n        eTop.style.height = floatingTopHeightString;\n        eTop.style.display = floatingTopHeight ? 'inherit' : 'none';\n        eBottom.style.minHeight = floatingBottomHeightString;\n        eBottom.style.height = floatingBottomHeightString;\n        eBottom.style.display = floatingBottomHeight ? 'inherit' : 'none';\n        this.checkBodyHeight();\n    };\n    GridPanel.prototype.getBodyHeight = function () {\n        return this.bodyHeight;\n    };\n    // called by scrollHorizontally method and alignedGridsService\n    GridPanel.prototype.setHorizontalScrollPosition = function (hScrollPosition) {\n        this.eCenterViewport.scrollLeft = hScrollPosition;\n        // we need to manually do the event handling (rather than wait for the event)\n        // for the alignedGridsService, as if we don't, the aligned grid service gets\n        // notified async, and then it's 'consuming' flag doesn't get used right, and\n        // we can end up with an infinite loop\n        this.doHorizontalScroll(hScrollPosition);\n    };\n    GridPanel.prototype.setVerticalScrollPosition = function (vScrollPosition) {\n        this.eBodyViewport.scrollTop = vScrollPosition;\n    };\n    // called by the headerRootComp and moveColumnController\n    GridPanel.prototype.scrollHorizontally = function (pixels) {\n        var oldScrollPosition = this.eCenterViewport.scrollLeft;\n        this.setHorizontalScrollPosition(oldScrollPosition + pixels);\n        return this.eCenterViewport.scrollLeft - oldScrollPosition;\n    };\n    // called by rowDragFeature\n    GridPanel.prototype.scrollVertically = function (pixels) {\n        var oldScrollPosition = this.eBodyViewport.scrollTop;\n        this.setVerticalScrollPosition(oldScrollPosition + pixels);\n        return this.eBodyViewport.scrollTop - oldScrollPosition;\n    };\n    GridPanel.prototype.addScrollListener = function () {\n        this.addManagedListener(this.eCenterViewport, 'scroll', this.onCenterViewportScroll.bind(this));\n        this.addManagedListener(this.eBodyHorizontalScrollViewport, 'scroll', this.onFakeHorizontalScroll.bind(this));\n        var onVerticalScroll = this.gridOptionsWrapper.isDebounceVerticalScrollbar() ?\n            _.debounce(this.onVerticalScroll.bind(this), 100)\n            : this.onVerticalScroll.bind(this);\n        this.addManagedListener(this.eBodyViewport, 'scroll', onVerticalScroll);\n    };\n    GridPanel.prototype.onVerticalScroll = function () {\n        var scrollTop = this.eBodyViewport.scrollTop;\n        this.animationFrameService.setScrollTop(scrollTop);\n        this.scrollTop = scrollTop;\n        this.redrawRowsAfterScroll();\n    };\n    GridPanel.prototype.isControllingScroll = function (eDiv) {\n        if (!this.lastHorizontalScrollElement) {\n            this.lastHorizontalScrollElement = eDiv;\n            return true;\n        }\n        return eDiv === this.lastHorizontalScrollElement;\n    };\n    GridPanel.prototype.onFakeHorizontalScroll = function () {\n        if (!this.isControllingScroll(this.eBodyHorizontalScrollViewport)) {\n            return;\n        }\n        this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport);\n    };\n    GridPanel.prototype.onCenterViewportScroll = function () {\n        if (!this.isControllingScroll(this.eCenterViewport)) {\n            return;\n        }\n        this.onBodyHorizontalScroll(this.eCenterViewport);\n    };\n    GridPanel.prototype.onBodyHorizontalScroll = function (eSource) {\n        var _a = this.eCenterViewport, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n        // in chrome, fractions can be in the scroll left, eg 250.342234 - which messes up our 'scrollWentPastBounds'\n        // formula. so we floor it to allow the formula to work.\n        var scrollLeft = Math.floor(getScrollLeft(eSource, this.enableRtl));\n        // touch devices allow elastic scroll - which temporally scrolls the panel outside of the viewport\n        // (eg user uses touch to go to the left of the grid, but drags past the left, the rows will actually\n        // scroll past the left until the user releases the mouse). when this happens, we want ignore the scroll,\n        // as otherwise it was causing the rows and header to flicker.\n        // sometimes when scrolling, we got values that extended the maximum scroll allowed. we used to\n        // ignore these scrolls. problem is the max scroll position could be skipped (eg the previous scroll event\n        // could be 10px before the max position, and then current scroll event could be 20px after the max position).\n        // if we just ignored the last event, we would be setting the scroll to 10px before the max position, when in\n        // actual fact the user has exceeded the max scroll and thus scroll should be set to the max.\n        var minScroll = 0;\n        var maxScroll = scrollWidth - clientWidth;\n        if (scrollLeft < minScroll) {\n            scrollLeft = minScroll;\n        }\n        else if (scrollLeft > maxScroll) {\n            scrollLeft = maxScroll;\n        }\n        this.doHorizontalScroll(scrollLeft);\n        this.resetLastHorizontalScrollElementDebounced();\n    };\n    GridPanel.prototype.resetLastHorizontalScrollElement = function () {\n        this.lastHorizontalScrollElement = null;\n    };\n    GridPanel.prototype.doHorizontalScroll = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        var event = {\n            type: Events.EVENT_BODY_SCROLL,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            direction: 'horizontal',\n            left: this.scrollLeft,\n            top: this.scrollTop\n        };\n        this.eventService.dispatchEvent(event);\n        this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft);\n        this.onHorizontalViewportChanged();\n    };\n    GridPanel.prototype.redrawRowsAfterScroll = function () {\n        var event = {\n            type: Events.EVENT_BODY_SCROLL,\n            direction: 'vertical',\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            left: this.scrollLeft,\n            top: this.scrollTop\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    // this gets called whenever a change in the viewport, so we can inform column controller it has to work\n    // out the virtual columns again. gets called from following locations:\n    // + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged, API (doLayout)\n    GridPanel.prototype.onHorizontalViewportChanged = function () {\n        var scrollWidth = this.eCenterViewport.clientWidth;\n        var scrollPosition = this.getCenterViewportScrollLeft();\n        this.columnController.setVirtualViewportPosition(scrollWidth, scrollPosition);\n    };\n    GridPanel.prototype.getCenterViewportScrollLeft = function () {\n        // we defer to a util, as how you calculated scrollLeft when doing RTL depends on the browser\n        return getScrollLeft(this.eCenterViewport, this.enableRtl);\n    };\n    GridPanel.prototype.setCenterViewportScrollLeft = function (value) {\n        // we defer to a util, as how you calculated scrollLeft when doing RTL depends on the browser\n        setScrollLeft(this.eCenterViewport, value, this.enableRtl);\n    };\n    GridPanel.prototype.horizontallyScrollHeaderCenterAndFloatingCenter = function (scrollLeft) {\n        if (scrollLeft === undefined) {\n            scrollLeft = this.getCenterViewportScrollLeft();\n        }\n        var offset = this.enableRtl ? scrollLeft : -scrollLeft;\n        var _a = this.eCenterViewport, clientWidth = _a.clientWidth, scrollWidth = _a.scrollWidth;\n        var scrollWentPastBounds = Math.abs(offset) + clientWidth > scrollWidth;\n        if (scrollWentPastBounds ||\n            (this.enableRtl && offset < 0) ||\n            (!this.enableRtl && offset > 0)) {\n            return;\n        }\n        this.headerRootComp.setHorizontalScroll(offset);\n        this.eBottomContainer.style.transform = \"translateX(\" + offset + \"px)\";\n        this.eTopContainer.style.transform = \"translateX(\" + offset + \"px)\";\n        var partner = this.lastHorizontalScrollElement === this.eCenterViewport ? this.eBodyHorizontalScrollViewport : this.eCenterViewport;\n        setScrollLeft(partner, scrollLeft, this.enableRtl);\n    };\n    // + rangeController\n    GridPanel.prototype.addScrollEventListener = function (listener) {\n        this.eBodyViewport.addEventListener('scroll', listener);\n    };\n    // + rangeController\n    GridPanel.prototype.removeScrollEventListener = function (listener) {\n        this.eBodyViewport.removeEventListener('scroll', listener);\n    };\n    __decorate([\n        Autowired('alignedGridsService')\n    ], GridPanel.prototype, \"alignedGridsService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], GridPanel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], GridPanel.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], GridPanel.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired('animationFrameService')\n    ], GridPanel.prototype, \"animationFrameService\", void 0);\n    __decorate([\n        Autowired('navigationService')\n    ], GridPanel.prototype, \"navigationService\", void 0);\n    __decorate([\n        Autowired('autoHeightCalculator')\n    ], GridPanel.prototype, \"autoHeightCalculator\", void 0);\n    __decorate([\n        Autowired('columnAnimationService')\n    ], GridPanel.prototype, \"columnAnimationService\", void 0);\n    __decorate([\n        Autowired('autoWidthCalculator')\n    ], GridPanel.prototype, \"autoWidthCalculator\", void 0);\n    __decorate([\n        Autowired('paginationAutoPageSizeService')\n    ], GridPanel.prototype, \"paginationAutoPageSizeService\", void 0);\n    __decorate([\n        Autowired('beans')\n    ], GridPanel.prototype, \"beans\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], GridPanel.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], GridPanel.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], GridPanel.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('dragService')\n    ], GridPanel.prototype, \"dragService\", void 0);\n    __decorate([\n        Autowired('mouseEventService')\n    ], GridPanel.prototype, \"mouseEventService\", void 0);\n    __decorate([\n        Autowired('$scope')\n    ], GridPanel.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired('scrollVisibleService')\n    ], GridPanel.prototype, \"scrollVisibleService\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], GridPanel.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], GridPanel.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('maxDivHeightScaler')\n    ], GridPanel.prototype, \"heightScaler\", void 0);\n    __decorate([\n        Autowired('resizeObserverService')\n    ], GridPanel.prototype, \"resizeObserverService\", void 0);\n    __decorate([\n        Autowired('undoRedoService')\n    ], GridPanel.prototype, \"undoRedoService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GridPanel.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('headerNavigationService')\n    ], GridPanel.prototype, \"headerNavigationService\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], GridPanel.prototype, \"rangeController\", void 0);\n    __decorate([\n        Optional('contextMenuFactory')\n    ], GridPanel.prototype, \"contextMenuFactory\", void 0);\n    __decorate([\n        Optional('clipboardService')\n    ], GridPanel.prototype, \"clipboardService\", void 0);\n    __decorate([\n        RefSelector('eBodyViewport')\n    ], GridPanel.prototype, \"eBodyViewport\", void 0);\n    __decorate([\n        RefSelector('eCenterContainer')\n    ], GridPanel.prototype, \"eCenterContainer\", void 0);\n    __decorate([\n        RefSelector('eCenterViewport')\n    ], GridPanel.prototype, \"eCenterViewport\", void 0);\n    __decorate([\n        RefSelector('eLeftContainer')\n    ], GridPanel.prototype, \"eLeftContainer\", void 0);\n    __decorate([\n        RefSelector('eRightContainer')\n    ], GridPanel.prototype, \"eRightContainer\", void 0);\n    __decorate([\n        RefSelector('eCenterColsClipper')\n    ], GridPanel.prototype, \"eCenterColsClipper\", void 0);\n    __decorate([\n        RefSelector('eHorizontalScrollBody')\n    ], GridPanel.prototype, \"eHorizontalScrollBody\", void 0);\n    __decorate([\n        RefSelector('eHorizontalLeftSpacer')\n    ], GridPanel.prototype, \"eHorizontalLeftSpacer\", void 0);\n    __decorate([\n        RefSelector('eHorizontalRightSpacer')\n    ], GridPanel.prototype, \"eHorizontalRightSpacer\", void 0);\n    __decorate([\n        RefSelector('eBodyHorizontalScrollViewport')\n    ], GridPanel.prototype, \"eBodyHorizontalScrollViewport\", void 0);\n    __decorate([\n        RefSelector('eBodyHorizontalScrollContainer')\n    ], GridPanel.prototype, \"eBodyHorizontalScrollContainer\", void 0);\n    __decorate([\n        RefSelector('eFullWidthContainer')\n    ], GridPanel.prototype, \"eFullWidthContainer\", void 0);\n    __decorate([\n        RefSelector('eTop')\n    ], GridPanel.prototype, \"eTop\", void 0);\n    __decorate([\n        RefSelector('eLeftTop')\n    ], GridPanel.prototype, \"eLeftTop\", void 0);\n    __decorate([\n        RefSelector('eRightTop')\n    ], GridPanel.prototype, \"eRightTop\", void 0);\n    __decorate([\n        RefSelector('eTopContainer')\n    ], GridPanel.prototype, \"eTopContainer\", void 0);\n    __decorate([\n        RefSelector('eTopViewport')\n    ], GridPanel.prototype, \"eTopViewport\", void 0);\n    __decorate([\n        RefSelector('eTopFullWidthContainer')\n    ], GridPanel.prototype, \"eTopFullWidthContainer\", void 0);\n    __decorate([\n        RefSelector('eBottom')\n    ], GridPanel.prototype, \"eBottom\", void 0);\n    __decorate([\n        RefSelector('eLeftBottom')\n    ], GridPanel.prototype, \"eLeftBottom\", void 0);\n    __decorate([\n        RefSelector('eRightBottom')\n    ], GridPanel.prototype, \"eRightBottom\", void 0);\n    __decorate([\n        RefSelector('eBottomContainer')\n    ], GridPanel.prototype, \"eBottomContainer\", void 0);\n    __decorate([\n        RefSelector('eBottomViewport')\n    ], GridPanel.prototype, \"eBottomViewport\", void 0);\n    __decorate([\n        RefSelector('eBottomFullWidthContainer')\n    ], GridPanel.prototype, \"eBottomFullWidthContainer\", void 0);\n    __decorate([\n        RefSelector('headerRoot')\n    ], GridPanel.prototype, \"headerRootComp\", void 0);\n    __decorate([\n        RefSelector('overlayWrapper')\n    ], GridPanel.prototype, \"overlayWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], GridPanel.prototype, \"init\", null);\n    return GridPanel;\n}(Component));\nexport { GridPanel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct, PreDestroy } from '../context/context';\nimport { Events } from '../events';\nimport { HeaderRowComp, HeaderRowType } from './headerRowComp';\nimport { BodyDropTarget } from './bodyDropTarget';\nimport { Constants } from '../constants/constants';\nimport { setFixedWidth } from '../utils/dom';\nimport { BeanStub } from \"../context/beanStub\";\nimport { NumberSequence } from \"../utils\";\nvar HeaderContainer = /** @class */ (function (_super) {\n    __extends(HeaderContainer, _super);\n    function HeaderContainer(eContainer, eViewport, pinned) {\n        var _this = _super.call(this) || this;\n        _this.groupsRowComps = [];\n        _this.eContainer = eContainer;\n        _this.pinned = pinned;\n        _this.eViewport = eViewport;\n        return _this;\n    }\n    HeaderContainer.prototype.forEachHeaderElement = function (callback) {\n        if (this.groupsRowComps) {\n            this.groupsRowComps.forEach(function (c) { return c.forEachHeaderElement(callback); });\n        }\n        if (this.columnsRowComp) {\n            this.columnsRowComp.forEachHeaderElement(callback);\n        }\n        if (this.filtersRowComp) {\n            this.columnsRowComp.forEachHeaderElement(callback);\n        }\n    };\n    HeaderContainer.prototype.init = function () {\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        // if value changes, then if not pivoting, we at least need to change the label eg from sum() to avg(),\n        // if pivoting, then the columns have changed\n        // this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VALUE_CHANGED, this.onColumnValueChanged.bind(this));\n        // this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onColumnRowGroupChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n    };\n    // if row group changes, that means we may need to add aggFuncs to the column headers,\n    // if the grid goes from no aggregation (ie no grouping) to grouping\n    HeaderContainer.prototype.onColumnRowGroupChanged = function () {\n        this.refresh();\n    };\n    // if the agg func of a column changes, then we may need to update the agg func in columns header\n    HeaderContainer.prototype.onColumnValueChanged = function () {\n        this.refresh();\n    };\n    HeaderContainer.prototype.onColumnResized = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.onDisplayedColumnsChanged = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.onScrollVisibilityChanged = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.setWidthOfPinnedContainer = function () {\n        var pinningLeft = this.pinned === Constants.PINNED_LEFT;\n        var pinningRight = this.pinned === Constants.PINNED_RIGHT;\n        var controller = this.columnController;\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        if (pinningLeft || pinningRight) {\n            // size to fit all columns\n            var width = controller[pinningLeft ? 'getPinnedLeftContainerWidth' : 'getPinnedRightContainerWidth']();\n            // if there is a scroll showing (and taking up space, so Windows, and not iOS)\n            // in the body, then we add extra space to keep header aligned with the body,\n            // as body width fits the cols and the scrollbar\n            var addPaddingForScrollbar = this.scrollVisibleService.isVerticalScrollShowing() && ((isRtl && pinningLeft) || (!isRtl && pinningRight));\n            if (addPaddingForScrollbar) {\n                width += this.scrollWidth;\n            }\n            setFixedWidth(this.eContainer, width);\n        }\n    };\n    HeaderContainer.prototype.getRowComps = function () {\n        var res = [];\n        if (this.groupsRowComps) {\n            res = res.concat(this.groupsRowComps);\n        }\n        if (this.columnsRowComp) {\n            res.push(this.columnsRowComp);\n        }\n        if (this.filtersRowComp) {\n            res.push(this.filtersRowComp);\n        }\n        return res;\n    };\n    // grid cols have changed - this also means the number of rows in the header can have\n    // changed. so we remove all the old rows and insert new ones for a complete refresh\n    HeaderContainer.prototype.onGridColumnsChanged = function () {\n        this.refresh(true);\n    };\n    // we expose this for gridOptions.api.refreshHeader() to call\n    HeaderContainer.prototype.refresh = function (keepColumns) {\n        if (keepColumns === void 0) { keepColumns = false; }\n        this.refreshRowComps(keepColumns);\n    };\n    HeaderContainer.prototype.setupDragAndDrop = function (gridComp) {\n        var dropContainer = this.eViewport ? this.eViewport : this.eContainer;\n        var bodyDropTarget = new BodyDropTarget(this.pinned, dropContainer);\n        this.createManagedBean(bodyDropTarget);\n        bodyDropTarget.registerGridComp(gridComp);\n    };\n    HeaderContainer.prototype.destroyRowComps = function (keepColumns) {\n        if (keepColumns === void 0) { keepColumns = false; }\n        this.groupsRowComps.forEach(this.destroyRowComp.bind(this));\n        this.groupsRowComps = [];\n        this.destroyRowComp(this.filtersRowComp);\n        this.filtersRowComp = undefined;\n        if (!keepColumns) {\n            this.destroyRowComp(this.columnsRowComp);\n            this.columnsRowComp = undefined;\n        }\n    };\n    HeaderContainer.prototype.destroyRowComp = function (rowComp) {\n        if (rowComp) {\n            this.destroyBean(rowComp);\n            this.eContainer.removeChild(rowComp.getGui());\n        }\n    };\n    HeaderContainer.prototype.refreshRowComps = function (keepColumns) {\n        var _this = this;\n        if (keepColumns === void 0) { keepColumns = false; }\n        var sequence = new NumberSequence();\n        var refreshColumnGroups = function () {\n            var groupRowCount = _this.columnController.getHeaderRowCount() - 1;\n            _this.groupsRowComps.forEach(_this.destroyRowComp.bind(_this));\n            _this.groupsRowComps = [];\n            for (var i = 0; i < groupRowCount; i++) {\n                var rowComp = _this.createBean(new HeaderRowComp(sequence.next(), HeaderRowType.COLUMN_GROUP, _this.pinned, _this.dropTarget));\n                _this.groupsRowComps.push(rowComp);\n            }\n        };\n        var refreshColumns = function () {\n            var rowIndex = sequence.next();\n            if (_this.columnsRowComp) {\n                var rowIndexMismatch = _this.columnsRowComp.getRowIndex() !== rowIndex;\n                if (!keepColumns || rowIndexMismatch) {\n                    _this.destroyRowComp(_this.columnsRowComp);\n                    _this.columnsRowComp = undefined;\n                }\n            }\n            if (!_this.columnsRowComp) {\n                _this.columnsRowComp = _this.createBean(new HeaderRowComp(rowIndex, HeaderRowType.COLUMN, _this.pinned, _this.dropTarget));\n            }\n        };\n        var refreshFilters = function () {\n            _this.destroyRowComp(_this.filtersRowComp);\n            _this.filtersRowComp = undefined;\n            var includeFloatingFilter = !_this.columnController.isPivotMode() && _this.columnController.hasFloatingFilters();\n            if (includeFloatingFilter) {\n                _this.filtersRowComp = _this.createBean(new HeaderRowComp(sequence.next(), HeaderRowType.FLOATING_FILTER, _this.pinned, _this.dropTarget));\n            }\n        };\n        refreshColumnGroups();\n        refreshColumns();\n        refreshFilters();\n        // this re-adds the this.columnsRowComp, which is fine, it just means the DOM will rearrange then,\n        // taking it out of the last position and re-inserting relative to the other rows.\n        this.getRowComps().forEach(function (rowComp) { return _this.eContainer.appendChild(rowComp.getGui()); });\n    };\n    HeaderContainer.prototype.createRowComps = function () {\n        var _this = this;\n        // if we are displaying header groups, then we have many rows here.\n        // go through each row of the header, one by one.\n        var rowsWithGroupsCount = this.columnController.getHeaderRowCount() - 1;\n        var rowIndex = 0;\n        var createHeaderRowComp = function (type, index) {\n            return _this.createBean(new HeaderRowComp(index, type, _this.pinned, _this.dropTarget));\n        };\n        for (var i = 0; i < rowsWithGroupsCount; i++) {\n            var rowComp = createHeaderRowComp(HeaderRowType.COLUMN_GROUP, rowIndex++);\n            this.groupsRowComps.push(rowComp);\n        }\n        if (this.columnsRowComp && this.columnsRowComp.getRowIndex() !== rowIndex) {\n            this.destroyRowComp(this.columnsRowComp);\n            this.columnsRowComp = undefined;\n        }\n        if (!this.columnsRowComp) {\n            this.columnsRowComp = createHeaderRowComp(HeaderRowType.COLUMN, rowIndex++);\n        }\n        var includeFloatingFilter = !this.columnController.isPivotMode() && this.columnController.hasFloatingFilters();\n        if (includeFloatingFilter) {\n            this.filtersRowComp = createHeaderRowComp(HeaderRowType.FLOATING_FILTER, rowIndex++);\n        }\n        // this re-adds the this.columnsRowComp, which is fine, it just means the DOM will rearrange then,\n        // taking it out of the last position and re-inserting relative to the other rows.\n        this.getRowComps().forEach(function (rowComp) { return _this.eContainer.appendChild(rowComp.getGui()); });\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderContainer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], HeaderContainer.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('scrollVisibleService')\n    ], HeaderContainer.prototype, \"scrollVisibleService\", void 0);\n    __decorate([\n        PostConstruct\n    ], HeaderContainer.prototype, \"init\", null);\n    __decorate([\n        PreDestroy\n    ], HeaderContainer.prototype, \"destroyRowComps\", null);\n    return HeaderContainer;\n}(BeanStub));\nexport { HeaderContainer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, Constants, PostConstruct } from \"@ag-grid-community/core\";\nimport { BaseGridSerializingSession } from \"./gridSerializer\";\nvar LINE_SEPARATOR = '\\r\\n';\nvar CsvSerializingSession = /** @class */ (function (_super) {\n    __extends(CsvSerializingSession, _super);\n    function CsvSerializingSession(config) {\n        var _this = _super.call(this, config) || this;\n        _this.isFirstLine = true;\n        _this.result = '';\n        var suppressQuotes = config.suppressQuotes, columnSeparator = config.columnSeparator;\n        _this.suppressQuotes = suppressQuotes;\n        _this.columnSeparator = columnSeparator;\n        return _this;\n    }\n    CsvSerializingSession.prototype.addCustomContent = function (content) {\n        var _this = this;\n        if (!content) {\n            return;\n        }\n        if (typeof content === 'string') {\n            // we used to require the customFooter to be prefixed with a newline but no longer do,\n            // so only add the newline if the user has not supplied one\n            if (!/^\\s*\\n/.test(content)) {\n                this.beginNewLine();\n            }\n            // replace whatever newlines are supplied with the style we're using\n            content = content.replace(/\\r?\\n/g, LINE_SEPARATOR);\n            this.result += content;\n        }\n        else {\n            content.forEach(function (row) {\n                _this.beginNewLine();\n                row.forEach(function (cell, index) {\n                    if (index !== 0) {\n                        _this.result += _this.columnSeparator;\n                    }\n                    _this.result += _this.putInQuotes(cell.data.value || '');\n                    if (cell.mergeAcross) {\n                        _this.appendEmptyCells(cell.mergeAcross);\n                    }\n                });\n            });\n        }\n    };\n    CsvSerializingSession.prototype.onNewHeaderGroupingRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewHeaderGroupingRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewHeaderGroupingRowColumn = function (header, index, span) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(header);\n        this.appendEmptyCells(span);\n    };\n    CsvSerializingSession.prototype.appendEmptyCells = function (count) {\n        for (var i = 1; i <= count; i++) {\n            this.result += this.columnSeparator + this.putInQuotes(\"\");\n        }\n    };\n    CsvSerializingSession.prototype.onNewHeaderRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewHeaderRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewHeaderRowColumn = function (column, index, node) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(this.extractHeaderValue(column));\n    };\n    CsvSerializingSession.prototype.onNewBodyRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewBodyRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewBodyRowColumn = function (column, index, node) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(this.extractRowCellValue(column, index, Constants.EXPORT_TYPE_CSV, node));\n    };\n    CsvSerializingSession.prototype.putInQuotes = function (value) {\n        if (this.suppressQuotes) {\n            return value;\n        }\n        if (value === null || value === undefined) {\n            return '\"\"';\n        }\n        var stringValue;\n        if (typeof value === 'string') {\n            stringValue = value;\n        }\n        else if (typeof value.toString === 'function') {\n            stringValue = value.toString();\n        }\n        else {\n            console.warn('unknown value type during csv conversion');\n            stringValue = '';\n        }\n        // replace each \" with \"\" (ie two sets of double quotes is how to do double quotes in csv)\n        var valueEscaped = stringValue.replace(/\"/g, \"\\\"\\\"\");\n        return '\"' + valueEscaped + '\"';\n    };\n    CsvSerializingSession.prototype.parse = function () {\n        return this.result;\n    };\n    CsvSerializingSession.prototype.beginNewLine = function () {\n        if (!this.isFirstLine) {\n            this.result += LINE_SEPARATOR;\n        }\n        this.isFirstLine = false;\n    };\n    return CsvSerializingSession;\n}(BaseGridSerializingSession));\nexport { CsvSerializingSession };\nvar BaseCreator = /** @class */ (function () {\n    function BaseCreator() {\n    }\n    BaseCreator.prototype.setBeans = function (beans) {\n        this.beans = beans;\n    };\n    BaseCreator.prototype.export = function (userParams) {\n        if (this.isExportSuppressed()) {\n            console.warn(\"ag-grid: Export cancelled. Export is not allowed as per your configuration.\");\n            return '';\n        }\n        var _a = this.getMergedParamsAndData(userParams), mergedParams = _a.mergedParams, data = _a.data;\n        var fileNamePresent = mergedParams && mergedParams.fileName && mergedParams.fileName.length !== 0;\n        var fileName = fileNamePresent ? mergedParams.fileName : this.getDefaultFileName();\n        if (fileName.indexOf(\".\") === -1) {\n            fileName = fileName + \".\" + this.getDefaultFileExtension();\n        }\n        this.beans.downloader.download(fileName, this.packageFile(data));\n        return data;\n    };\n    BaseCreator.prototype.getData = function (params) {\n        return this.getMergedParamsAndData(params).data;\n    };\n    BaseCreator.prototype.getMergedParamsAndData = function (userParams) {\n        var mergedParams = this.mergeDefaultParams(userParams);\n        var data = this.beans.gridSerializer.serialize(this.createSerializingSession(mergedParams), mergedParams);\n        return { mergedParams: mergedParams, data: data };\n    };\n    BaseCreator.prototype.mergeDefaultParams = function (userParams) {\n        var baseParams = this.beans.gridOptionsWrapper.getDefaultExportParams();\n        var params = {};\n        _.assign(params, baseParams);\n        _.assign(params, userParams);\n        return params;\n    };\n    BaseCreator.prototype.packageFile = function (data) {\n        return new Blob([\"\\ufeff\", data], {\n            type: window.navigator.msSaveOrOpenBlob ? this.getMimeType() : 'octet/stream'\n        });\n    };\n    return BaseCreator;\n}());\nexport { BaseCreator };\nvar CsvCreator = /** @class */ (function (_super) {\n    __extends(CsvCreator, _super);\n    function CsvCreator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CsvCreator.prototype.postConstruct = function () {\n        this.setBeans({\n            downloader: this.downloader,\n            gridSerializer: this.gridSerializer,\n            gridOptionsWrapper: this.gridOptionsWrapper\n        });\n    };\n    CsvCreator.prototype.exportDataAsCsv = function (params) {\n        return this.export(params);\n    };\n    CsvCreator.prototype.getDataAsCsv = function (params) {\n        return this.getData(params);\n    };\n    CsvCreator.prototype.getMimeType = function () {\n        return 'text/csv;charset=utf-8;';\n    };\n    CsvCreator.prototype.getDefaultFileName = function () {\n        return 'export.csv';\n    };\n    CsvCreator.prototype.getDefaultFileExtension = function () {\n        return 'csv';\n    };\n    CsvCreator.prototype.createSerializingSession = function (params) {\n        var _a = this, columnController = _a.columnController, valueService = _a.valueService, gridOptionsWrapper = _a.gridOptionsWrapper;\n        var processCellCallback = params.processCellCallback, processHeaderCallback = params.processHeaderCallback, processGroupHeaderCallback = params.processGroupHeaderCallback, processRowGroupCallback = params.processRowGroupCallback, suppressQuotes = params.suppressQuotes, columnSeparator = params.columnSeparator;\n        return new CsvSerializingSession({\n            columnController: columnController,\n            valueService: valueService,\n            gridOptionsWrapper: gridOptionsWrapper,\n            processCellCallback: processCellCallback || undefined,\n            processHeaderCallback: processHeaderCallback || undefined,\n            processGroupHeaderCallback: processGroupHeaderCallback || undefined,\n            processRowGroupCallback: processRowGroupCallback || undefined,\n            suppressQuotes: suppressQuotes || false,\n            columnSeparator: columnSeparator || ','\n        });\n    };\n    CsvCreator.prototype.isExportSuppressed = function () {\n        return this.gridOptionsWrapper.isSuppressCsvExport();\n    };\n    __decorate([\n        Autowired('columnController')\n    ], CsvCreator.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], CsvCreator.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('downloader')\n    ], CsvCreator.prototype, \"downloader\", void 0);\n    __decorate([\n        Autowired('gridSerializer')\n    ], CsvCreator.prototype, \"gridSerializer\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], CsvCreator.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], CsvCreator.prototype, \"postConstruct\", null);\n    CsvCreator = __decorate([\n        Bean('csvCreator')\n    ], CsvCreator);\n    return CsvCreator;\n}(BaseCreator));\nexport { CsvCreator };\n","import { GridOptions } from '@ag-grid-community/all-modules';\r\n\r\nexport const defaultGridOptions: GridOptions = {\r\n  accentedSort: true,\r\n  animateRows: true,\r\n  enableCellTextSelection: true,\r\n  headerHeight: 32,\r\n  suppressScrollOnNewData: true,\r\n  valueCache: true,\r\n  defaultColDef: { filterParams: { newRowsAction: 'keep' } },\r\n  tooltipShowDelay: 0,\r\n};\r\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { addCssClass, containsClass } from \"../utils/dom\";\nvar TooltipStates;\n(function (TooltipStates) {\n    TooltipStates[TooltipStates[\"NOTHING\"] = 0] = \"NOTHING\";\n    TooltipStates[TooltipStates[\"WAITING_TO_SHOW\"] = 1] = \"WAITING_TO_SHOW\";\n    TooltipStates[TooltipStates[\"SHOWING\"] = 2] = \"SHOWING\";\n})(TooltipStates || (TooltipStates = {}));\nvar TooltipFeature = /** @class */ (function (_super) {\n    __extends(TooltipFeature, _super);\n    function TooltipFeature(parentComp, location) {\n        var _this = _super.call(this) || this;\n        _this.DEFAULT_HIDE_TOOLTIP_TIMEOUT = 10000;\n        _this.SHOW_QUICK_TOOLTIP_DIFF = 1000;\n        _this.FADE_OUT_TOOLTIP_TIMEOUT = 1000;\n        _this.state = TooltipStates.NOTHING;\n        // when showing the tooltip, we need to make sure it's the most recent instance we request, as due to\n        // async we could request two tooltips before the first instance returns, in which case we should\n        // disregard the second instance.\n        _this.tooltipInstanceCount = 0;\n        _this.tooltipMouseTrack = false;\n        _this.parentComp = parentComp;\n        _this.location = location;\n        return _this;\n    }\n    TooltipFeature.prototype.postConstruct = function () {\n        this.tooltipShowDelay = this.gridOptionsWrapper.getTooltipShowDelay() || 2000;\n        this.tooltipMouseTrack = this.gridOptionsWrapper.isTooltipMouseTrack();\n        var el = this.parentComp.getGui();\n        this.addManagedListener(el, 'mouseenter', this.onMouseEnter.bind(this));\n        this.addManagedListener(el, 'mouseleave', this.onMouseLeave.bind(this));\n        this.addManagedListener(el, 'mousemove', this.onMouseMove.bind(this));\n        this.addManagedListener(el, 'mousedown', this.onMouseDown.bind(this));\n    };\n    TooltipFeature.prototype.destroy = function () {\n        // if this component gets destroyed while tooltip is showing, need to make sure\n        // we don't end with no mouseLeave event resulting in zombie tooltip\n        this.setToDoNothing();\n        _super.prototype.destroy.call(this);\n    };\n    TooltipFeature.prototype.onMouseEnter = function (e) {\n        // every mouseenter should be following by a mouseleave, however for some unkonwn, it's possible for\n        // mouseenter to be called twice in a row, which can happen if editing the cell. this was reported\n        // in https://ag-grid.atlassian.net/browse/AG-4422. to get around this, we check the state, and if\n        // state is !=nothing, then we know mouseenter was already received.\n        if (this.state != TooltipStates.NOTHING) {\n            return;\n        }\n        // if another tooltip was hidden very recently, we only wait 200ms to show, not the normal waiting time\n        var delay = this.isLastTooltipHiddenRecently() ? 200 : this.tooltipShowDelay;\n        this.showTooltipTimeoutId = window.setTimeout(this.showTooltip.bind(this), delay);\n        this.lastMouseEvent = e;\n        this.state = TooltipStates.WAITING_TO_SHOW;\n    };\n    TooltipFeature.prototype.onMouseLeave = function () {\n        this.setToDoNothing();\n    };\n    TooltipFeature.prototype.setToDoNothing = function () {\n        if (this.state === TooltipStates.SHOWING) {\n            this.hideTooltip();\n        }\n        this.clearTimeouts();\n        this.state = TooltipStates.NOTHING;\n    };\n    TooltipFeature.prototype.onMouseMove = function (e) {\n        // there is a delay from the time we mouseOver a component and the time the\n        // tooltip is displayed, so we need to track mousemove to be able to correctly\n        // position the tooltip when showTooltip is called.\n        this.lastMouseEvent = e;\n        if (this.tooltipMouseTrack &&\n            this.state === TooltipStates.SHOWING &&\n            this.tooltipComp) {\n            this.positionTooltipUnderLastMouseEvent();\n        }\n    };\n    TooltipFeature.prototype.onMouseDown = function () {\n        this.setToDoNothing();\n    };\n    TooltipFeature.prototype.hideTooltip = function () {\n        // check if comp exists - due to async, although we asked for\n        // one, the instance may not be back yet\n        if (this.tooltipComp) {\n            this.destroyTooltipComp();\n            TooltipFeature.lastTooltipHideTime = new Date().getTime();\n        }\n        this.state = TooltipStates.NOTHING;\n    };\n    TooltipFeature.prototype.destroyTooltipComp = function () {\n        var _this = this;\n        // add class to fade out the tooltip\n        addCssClass(this.tooltipComp.getGui(), 'ag-tooltip-hiding');\n        // make local copies of these variables, as we use them in the async function below,\n        // and we clear then to 'undefined' later, so need to take a copy before they are undefined.\n        var tooltipPopupDestroyFunc = this.tooltipPopupDestroyFunc;\n        var tooltipComp = this.tooltipComp;\n        window.setTimeout(function () {\n            tooltipPopupDestroyFunc();\n            _this.getContext().destroyBean(tooltipComp);\n        }, this.FADE_OUT_TOOLTIP_TIMEOUT);\n        this.tooltipPopupDestroyFunc = undefined;\n        this.tooltipComp = undefined;\n    };\n    TooltipFeature.prototype.isLastTooltipHiddenRecently = function () {\n        // return true if <1000ms since last time we hid a tooltip\n        var now = new Date().getTime();\n        var then = TooltipFeature.lastTooltipHideTime;\n        return (now - then) < this.SHOW_QUICK_TOOLTIP_DIFF;\n    };\n    TooltipFeature.prototype.showTooltip = function () {\n        var tooltipText = this.parentComp.getTooltipText();\n        if (!tooltipText) {\n            this.setToDoNothing();\n            return;\n        }\n        this.state = TooltipStates.SHOWING;\n        this.tooltipInstanceCount++;\n        var hasColumn = !!this.parentComp.getColumn;\n        var params = {\n            location: this.location,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            colDef: this.parentComp.getComponentHolder(),\n            column: hasColumn ? this.parentComp.getColumn() : undefined,\n            context: this.gridOptionsWrapper.getContext(),\n            rowIndex: this.parentComp.getCellPosition && this.parentComp.getCellPosition().rowIndex,\n            value: tooltipText\n        };\n        // we pass in tooltipInstanceCount so the callback knows what the count was when\n        // we requested the tooltip, so if another tooltip was requested in the mean time\n        // we disregard it\n        var callback = this.newTooltipComponentCallback.bind(this, this.tooltipInstanceCount);\n        this.userComponentFactory.newTooltipComponent(params).then(callback);\n    };\n    TooltipFeature.prototype.newTooltipComponentCallback = function (tooltipInstanceCopy, tooltipComp) {\n        var compNoLongerNeeded = this.state !== TooltipStates.SHOWING || this.tooltipInstanceCount !== tooltipInstanceCopy;\n        if (compNoLongerNeeded) {\n            this.getContext().destroyBean(tooltipComp);\n            return;\n        }\n        var eGui = tooltipComp.getGui();\n        this.tooltipComp = tooltipComp;\n        if (!containsClass(eGui, 'ag-tooltip')) {\n            addCssClass(eGui, 'ag-tooltip-custom');\n        }\n        this.tooltipPopupDestroyFunc = this.popupService.addPopup({\n            eChild: eGui\n        });\n        // this.tooltipPopupDestroyFunc = this.popupService.addPopup(false, eGui, false);\n        this.positionTooltipUnderLastMouseEvent();\n        this.hideTooltipTimeoutId = window.setTimeout(this.hideTooltip.bind(this), this.DEFAULT_HIDE_TOOLTIP_TIMEOUT);\n    };\n    TooltipFeature.prototype.positionTooltipUnderLastMouseEvent = function () {\n        this.popupService.positionPopupUnderMouseEvent({\n            type: 'tooltip',\n            mouseEvent: this.lastMouseEvent,\n            ePopup: this.tooltipComp.getGui(),\n            nudgeY: 18\n        });\n    };\n    TooltipFeature.prototype.clearTimeouts = function () {\n        if (this.showTooltipTimeoutId) {\n            window.clearTimeout(this.showTooltipTimeoutId);\n            this.showTooltipTimeoutId = undefined;\n        }\n        if (this.hideTooltipTimeoutId) {\n            window.clearTimeout(this.hideTooltipTimeoutId);\n            this.hideTooltipTimeoutId = undefined;\n        }\n    };\n    __decorate([\n        Autowired('popupService')\n    ], TooltipFeature.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], TooltipFeature.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], TooltipFeature.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], TooltipFeature.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], TooltipFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], TooltipFeature.prototype, \"postConstruct\", null);\n    return TooltipFeature;\n}(BeanStub));\nexport { TooltipFeature };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nvar ColumnApi = /** @class */ (function () {\n    function ColumnApi() {\n    }\n    ColumnApi.prototype.sizeColumnsToFit = function (gridWidth) {\n        // AG-3403 validate that gridWidth is provided because this method has the same name as\n        // a method on the grid API that takes no arguments, and it's easy to confuse the two\n        if (typeof gridWidth === \"undefined\") {\n            console.error('ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)');\n        }\n        this.columnController.sizeColumnsToFit(gridWidth, 'api');\n    };\n    ColumnApi.prototype.setColumnGroupOpened = function (group, newValue) { this.columnController.setColumnGroupOpened(group, newValue, 'api'); };\n    ColumnApi.prototype.getColumnGroup = function (name, instanceId) { return this.columnController.getColumnGroup(name, instanceId); };\n    ColumnApi.prototype.getOriginalColumnGroup = function (name) { return this.columnController.getOriginalColumnGroup(name); };\n    ColumnApi.prototype.getDisplayNameForColumn = function (column, location) { return this.columnController.getDisplayNameForColumn(column, location) || ''; };\n    ColumnApi.prototype.getDisplayNameForColumnGroup = function (columnGroup, location) { return this.columnController.getDisplayNameForColumnGroup(columnGroup, location) || ''; };\n    ColumnApi.prototype.getColumn = function (key) { return this.columnController.getPrimaryColumn(key); };\n    ColumnApi.prototype.applyColumnState = function (params) { return this.columnController.applyColumnState(params, 'api'); };\n    ColumnApi.prototype.getColumnState = function () { return this.columnController.getColumnState(); };\n    ColumnApi.prototype.resetColumnState = function () { this.columnController.resetColumnState(false, 'api'); };\n    ColumnApi.prototype.getColumnGroupState = function () { return this.columnController.getColumnGroupState(); };\n    ColumnApi.prototype.setColumnGroupState = function (stateItems) { this.columnController.setColumnGroupState(stateItems, 'api'); };\n    ColumnApi.prototype.resetColumnGroupState = function () { this.columnController.resetColumnGroupState('api'); };\n    ColumnApi.prototype.isPinning = function () { return this.columnController.isPinningLeft() || this.columnController.isPinningRight(); };\n    ColumnApi.prototype.isPinningLeft = function () { return this.columnController.isPinningLeft(); };\n    ColumnApi.prototype.isPinningRight = function () { return this.columnController.isPinningRight(); };\n    ColumnApi.prototype.getDisplayedColAfter = function (col) { return this.columnController.getDisplayedColAfter(col); };\n    ColumnApi.prototype.getDisplayedColBefore = function (col) { return this.columnController.getDisplayedColBefore(col); };\n    ColumnApi.prototype.setColumnVisible = function (key, visible) { this.columnController.setColumnVisible(key, visible, 'api'); };\n    ColumnApi.prototype.setColumnsVisible = function (keys, visible) { this.columnController.setColumnsVisible(keys, visible, 'api'); };\n    ColumnApi.prototype.setColumnPinned = function (key, pinned) { this.columnController.setColumnPinned(key, pinned, 'api'); };\n    ColumnApi.prototype.setColumnsPinned = function (keys, pinned) { this.columnController.setColumnsPinned(keys, pinned, 'api'); };\n    ColumnApi.prototype.getAllColumns = function () { return this.columnController.getAllPrimaryColumns(); };\n    ColumnApi.prototype.getAllGridColumns = function () { return this.columnController.getAllGridColumns(); };\n    ColumnApi.prototype.getDisplayedLeftColumns = function () { return this.columnController.getDisplayedLeftColumns(); };\n    ColumnApi.prototype.getDisplayedCenterColumns = function () { return this.columnController.getDisplayedCenterColumns(); };\n    ColumnApi.prototype.getDisplayedRightColumns = function () { return this.columnController.getDisplayedRightColumns(); };\n    ColumnApi.prototype.getAllDisplayedColumns = function () { return this.columnController.getAllDisplayedColumns(); };\n    ColumnApi.prototype.getAllDisplayedVirtualColumns = function () { return this.columnController.getAllDisplayedVirtualColumns(); };\n    ColumnApi.prototype.moveColumn = function (key, toIndex) {\n        if (typeof key === 'number') {\n            // moveColumn used to take indexes, so this is advising user who hasn't moved to new method name\n            console.warn('ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead');\n            this.columnController.moveColumnByIndex(key, toIndex, 'api');\n        }\n        else {\n            this.columnController.moveColumn(key, toIndex, 'api');\n        }\n    };\n    ColumnApi.prototype.moveColumnByIndex = function (fromIndex, toIndex) { this.columnController.moveColumnByIndex(fromIndex, toIndex, 'api'); };\n    ColumnApi.prototype.moveColumns = function (columnsToMoveKeys, toIndex) { this.columnController.moveColumns(columnsToMoveKeys, toIndex, 'api'); };\n    ColumnApi.prototype.moveRowGroupColumn = function (fromIndex, toIndex) { this.columnController.moveRowGroupColumn(fromIndex, toIndex); };\n    ColumnApi.prototype.setColumnAggFunc = function (column, aggFunc) { this.columnController.setColumnAggFunc(column, aggFunc); };\n    ColumnApi.prototype.setColumnWidth = function (key, newWidth, finished) {\n        if (finished === void 0) { finished = true; }\n        this.columnController.setColumnWidths([{ key: key, newWidth: newWidth }], false, finished);\n    };\n    ColumnApi.prototype.setColumnWidths = function (columnWidths, finished) {\n        if (finished === void 0) { finished = true; }\n        this.columnController.setColumnWidths(columnWidths, false, finished);\n    };\n    ColumnApi.prototype.setPivotMode = function (pivotMode) { this.columnController.setPivotMode(pivotMode); };\n    ColumnApi.prototype.isPivotMode = function () { return this.columnController.isPivotMode(); };\n    ColumnApi.prototype.getSecondaryPivotColumn = function (pivotKeys, valueColKey) { return this.columnController.getSecondaryPivotColumn(pivotKeys, valueColKey); };\n    ColumnApi.prototype.setValueColumns = function (colKeys) { this.columnController.setValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getValueColumns = function () { return this.columnController.getValueColumns(); };\n    ColumnApi.prototype.removeValueColumn = function (colKey) { this.columnController.removeValueColumn(colKey, 'api'); };\n    ColumnApi.prototype.removeValueColumns = function (colKeys) { this.columnController.removeValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addValueColumn = function (colKey) { this.columnController.addValueColumn(colKey, 'api'); };\n    ColumnApi.prototype.addValueColumns = function (colKeys) { this.columnController.addValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.setRowGroupColumns = function (colKeys) { this.columnController.setRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.removeRowGroupColumn = function (colKey) { this.columnController.removeRowGroupColumn(colKey, 'api'); };\n    ColumnApi.prototype.removeRowGroupColumns = function (colKeys) { this.columnController.removeRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addRowGroupColumn = function (colKey) { this.columnController.addRowGroupColumn(colKey, 'api'); };\n    ColumnApi.prototype.addRowGroupColumns = function (colKeys) { this.columnController.addRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getRowGroupColumns = function () { return this.columnController.getRowGroupColumns(); };\n    ColumnApi.prototype.setPivotColumns = function (colKeys) { this.columnController.setPivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.removePivotColumn = function (colKey) { this.columnController.removePivotColumn(colKey, 'api'); };\n    ColumnApi.prototype.removePivotColumns = function (colKeys) { this.columnController.removePivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addPivotColumn = function (colKey) { this.columnController.addPivotColumn(colKey, 'api'); };\n    ColumnApi.prototype.addPivotColumns = function (colKeys) { this.columnController.addPivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getPivotColumns = function () { return this.columnController.getPivotColumns(); };\n    ColumnApi.prototype.getLeftDisplayedColumnGroups = function () { return this.columnController.getLeftDisplayedColumnGroups(); };\n    ColumnApi.prototype.getCenterDisplayedColumnGroups = function () { return this.columnController.getCenterDisplayedColumnGroups(); };\n    ColumnApi.prototype.getRightDisplayedColumnGroups = function () { return this.columnController.getRightDisplayedColumnGroups(); };\n    ColumnApi.prototype.getAllDisplayedColumnGroups = function () { return this.columnController.getAllDisplayedColumnGroups(); };\n    ColumnApi.prototype.autoSizeColumn = function (key, skipHeader) { return this.columnController.autoSizeColumn(key, skipHeader, 'api'); };\n    ColumnApi.prototype.autoSizeColumns = function (keys, skipHeader) { return this.columnController.autoSizeColumns(keys, skipHeader, 'api'); };\n    ColumnApi.prototype.autoSizeAllColumns = function (skipHeader) { this.columnController.autoSizeAllColumns(skipHeader, 'api'); };\n    ColumnApi.prototype.setSecondaryColumns = function (colDefs) { this.columnController.setSecondaryColumns(colDefs, 'api'); };\n    ColumnApi.prototype.getSecondaryColumns = function () { return this.columnController.getSecondaryColumns(); };\n    ColumnApi.prototype.getPrimaryColumns = function () { return this.columnController.getAllPrimaryColumns(); };\n    // below goes through deprecated items, prints message to user, then calls the new version of the same method\n    // public getColumnDefs(): (ColDef | ColGroupDef)[] {\n    //     this.setColumnGroupOpened(group, newValue);\n    //     return null;\n    // }\n    ColumnApi.prototype.columnGroupOpened = function (group, newValue) {\n        console.error('ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened');\n        this.setColumnGroupOpened(group, newValue);\n    };\n    ColumnApi.prototype.hideColumns = function (colIds, hide) {\n        console.error('ag-Grid: hideColumns is deprecated, use setColumnsVisible');\n        this.columnController.setColumnsVisible(colIds, !hide, 'api');\n    };\n    ColumnApi.prototype.hideColumn = function (colId, hide) {\n        console.error('ag-Grid: hideColumn is deprecated, use setColumnVisible');\n        this.columnController.setColumnVisible(colId, !hide, 'api');\n    };\n    ColumnApi.prototype.setState = function (columnState) {\n        console.error('ag-Grid: setState is deprecated, use setColumnState');\n        return this.setColumnState(columnState);\n    };\n    ColumnApi.prototype.getState = function () {\n        console.error('ag-Grid: getState is deprecated, use getColumnState');\n        return this.getColumnState();\n    };\n    ColumnApi.prototype.resetState = function () {\n        console.error('ag-Grid: resetState is deprecated, use resetColumnState');\n        this.resetColumnState();\n    };\n    ColumnApi.prototype.getAggregationColumns = function () {\n        console.error('ag-Grid: getAggregationColumns is deprecated, use getValueColumns');\n        return this.columnController.getValueColumns();\n    };\n    ColumnApi.prototype.removeAggregationColumn = function (colKey) {\n        console.error('ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn');\n        this.columnController.removeValueColumn(colKey, 'api');\n    };\n    ColumnApi.prototype.removeAggregationColumns = function (colKeys) {\n        console.error('ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns');\n        this.columnController.removeValueColumns(colKeys, 'api');\n    };\n    ColumnApi.prototype.addAggregationColumn = function (colKey) {\n        console.error('ag-Grid: addAggregationColumn is deprecated, use addValueColumn');\n        this.columnController.addValueColumn(colKey, 'api');\n    };\n    ColumnApi.prototype.addAggregationColumns = function (colKeys) {\n        console.error('ag-Grid: addAggregationColumns is deprecated, use addValueColumns');\n        this.columnController.addValueColumns(colKeys, 'api');\n    };\n    ColumnApi.prototype.setColumnAggFunction = function (column, aggFunc) {\n        console.error('ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc');\n        this.columnController.setColumnAggFunc(column, aggFunc, 'api');\n    };\n    ColumnApi.prototype.getDisplayNameForCol = function (column) {\n        console.error('ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn');\n        return this.getDisplayNameForColumn(column, null);\n    };\n    ColumnApi.prototype.setColumnState = function (columnState) {\n        return this.columnController.applyColumnState({ state: columnState, applyOrder: true }, 'api');\n    };\n    __decorate([\n        Autowired('columnController')\n    ], ColumnApi.prototype, \"columnController\", void 0);\n    ColumnApi = __decorate([\n        Bean('columnApi')\n    ], ColumnApi);\n    return ColumnApi;\n}());\nexport { ColumnApi };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component } from \"./component\";\nimport { addCssClass, removeCssClass } from \"../utils/dom\";\nvar PopupComponent = /** @class */ (function (_super) {\n    __extends(PopupComponent, _super);\n    function PopupComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupComponent.prototype.isPopup = function () {\n        return true;\n    };\n    PopupComponent.prototype.setParentComponent = function (container) {\n        addCssClass(container.getGui(), 'ag-has-popup');\n        _super.prototype.setParentComponent.call(this, container);\n    };\n    PopupComponent.prototype.destroy = function () {\n        var parentComp = this.parentComponent;\n        var hasParent = parentComp && parentComp.isAlive();\n        if (hasParent) {\n            removeCssClass(parentComp.getGui(), 'ag-has-popup');\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return PopupComponent;\n}(Component));\nexport { PopupComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PreDestroy } from \"../../context/context\";\nimport { Column } from \"../../entities/column\";\nimport { DragAndDropService, DragSourceType } from \"../../dragAndDrop/dragAndDropService\";\nimport { Constants } from \"../../constants/constants\";\nimport { CssClassApplier } from \"../cssClassApplier\";\nimport { Events } from \"../../events\";\nimport { HoverFeature } from \"../hoverFeature\";\nimport { SetLeftFeature } from \"../../rendering/features/setLeftFeature\";\nimport { SelectAllFeature } from \"./selectAllFeature\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { TouchListener } from \"../../widgets/touchListener\";\nimport { TooltipFeature } from \"../../widgets/tooltipFeature\";\nimport { AbstractHeaderWrapper } from \"./abstractHeaderWrapper\";\nimport { setAriaSort, getAriaSortState, removeAriaSort } from \"../../utils/aria\";\nimport { addCssClass, addOrRemoveCssClass, removeCssClass, setDisplayed } from \"../../utils/dom\";\nimport { KeyCode } from '../../constants/keyCode';\nvar HeaderWrapperComp = /** @class */ (function (_super) {\n    __extends(HeaderWrapperComp, _super);\n    function HeaderWrapperComp(column, dragSourceDropTarget, pinned) {\n        var _this = _super.call(this, HeaderWrapperComp.TEMPLATE) || this;\n        _this.headerCompVersion = 0;\n        _this.refreshFunctions = [];\n        _this.column = column;\n        _this.dragSourceDropTarget = dragSourceDropTarget;\n        _this.pinned = pinned;\n        return _this;\n    }\n    HeaderWrapperComp.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        this.colDefVersion = this.columnController.getColDefVersion();\n        this.updateState();\n        this.appendHeaderComp();\n        this.setupWidth();\n        this.setupMovingCss();\n        this.setupTooltip();\n        this.setupResize();\n        this.setupMenuClass();\n        this.setupSortableClass();\n        this.addColumnHoverListener();\n        this.addActiveHeaderMouseListeners();\n        this.createManagedBean(new HoverFeature([this.column], this.getGui()));\n        this.addManagedListener(this.column, Column.EVENT_FILTER_ACTIVE_CHANGED, this.onFilterChanged.bind(this));\n        this.onFilterChanged();\n        this.createManagedBean(new SelectAllFeature(this.cbSelectAll, this.column));\n        this.createManagedBean(new SetLeftFeature(this.column, this.getGui(), this.beans));\n        this.addAttributes();\n        CssClassApplier.addHeaderClassesFromColDef(this.column.getColDef(), this.getGui(), this.gridOptionsWrapper, this.column, null);\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VALUE_CHANGED, this.onColumnValueChanged.bind(this));\n    };\n    HeaderWrapperComp.prototype.onColumnValueChanged = function () {\n        // display name can change if aggFunc different, eg sum(Gold) is now max(Gold)\n        if (this.displayName !== this.calculateDisplayName()) {\n            this.refresh();\n        }\n    };\n    HeaderWrapperComp.prototype.updateState = function () {\n        var colDef = this.column.getColDef();\n        this.sortable = colDef.sortable;\n        this.displayName = this.calculateDisplayName();\n        this.draggable = this.workOutDraggable();\n    };\n    HeaderWrapperComp.prototype.calculateDisplayName = function () {\n        return this.columnController.getDisplayNameForColumn(this.column, 'header', true);\n    };\n    HeaderWrapperComp.prototype.onNewColumnsLoaded = function () {\n        var colDefVersionNow = this.columnController.getColDefVersion();\n        if (colDefVersionNow != this.colDefVersion) {\n            this.colDefVersion = colDefVersionNow;\n            this.refresh();\n        }\n    };\n    HeaderWrapperComp.prototype.refresh = function () {\n        this.updateState();\n        var colDef = this.column.getColDef();\n        var newHeaderCompConfigured = this.colDefHeaderComponent != colDef.headerComponent\n            || this.colDefHeaderComponentFramework != colDef.headerComponentFramework;\n        var headerCompRefreshed = newHeaderCompConfigured ? false : this.attemptHeaderCompRefresh();\n        if (headerCompRefreshed) {\n            var dragSourceIsMissing = this.draggable && !this.dragAndDropService;\n            var dragSourceNeedsRemoving = !this.draggable && this.dragAndDropService;\n            if (dragSourceIsMissing || dragSourceNeedsRemoving) {\n                this.attachDraggingToHeaderComp();\n            }\n        }\n        else {\n            this.appendHeaderComp();\n        }\n        this.refreshFunctions.forEach(function (f) { return f(); });\n    };\n    HeaderWrapperComp.prototype.destroyHeaderComp = function () {\n        if (this.headerComp) {\n            this.getGui().removeChild(this.headerCompGui);\n            this.headerComp = this.destroyBean(this.headerComp);\n            this.headerCompGui = undefined;\n        }\n        this.removeMoveDragSource();\n    };\n    HeaderWrapperComp.prototype.removeMoveDragSource = function () {\n        if (this.moveDragSource) {\n            this.dragAndDropService.removeDragSource(this.moveDragSource);\n            this.moveDragSource = undefined;\n        }\n    };\n    HeaderWrapperComp.prototype.attemptHeaderCompRefresh = function () {\n        // if no header comp created yet, it's cos of async creation, so first version is yet\n        // to get here, in which case we return true to say 'no need to refresh'.\n        if (!this.headerComp) {\n            return true;\n        }\n        // if no refresh method, then we want to replace the headerComp\n        if (!this.headerComp.refresh) {\n            return false;\n        }\n        // if the cell renderer has a refresh method, we call this instead of doing a refresh\n        var params = this.createParams();\n        var res = this.headerComp.refresh(params);\n        return res;\n    };\n    HeaderWrapperComp.prototype.addActiveHeaderMouseListeners = function () {\n        var _this = this;\n        var listener = function (e) { return _this.setActiveHeader(e.type === 'mouseenter'); };\n        this.addManagedListener(this.getGui(), 'mouseenter', listener);\n        this.addManagedListener(this.getGui(), 'mouseleave', listener);\n    };\n    HeaderWrapperComp.prototype.setActiveHeader = function (active) {\n        addOrRemoveCssClass(this.getGui(), 'ag-header-active', active);\n    };\n    HeaderWrapperComp.prototype.onFocusIn = function (e) {\n        if (!this.getGui().contains(e.relatedTarget)) {\n            var headerRow = this.getParentComponent();\n            this.focusController.setFocusedHeader(headerRow.getRowIndex(), this.getColumn());\n        }\n        this.setActiveHeader(true);\n    };\n    HeaderWrapperComp.prototype.onFocusOut = function (e) {\n        if (this.getGui().contains(e.relatedTarget)) {\n            return;\n        }\n        this.setActiveHeader(false);\n    };\n    HeaderWrapperComp.prototype.handleKeyDown = function (e) {\n        var headerComp = this.headerComp;\n        if (!headerComp) {\n            return;\n        }\n        if (e.keyCode === KeyCode.SPACE) {\n            var checkbox = this.cbSelectAll;\n            if (checkbox.isDisplayed() && !checkbox.getGui().contains(document.activeElement)) {\n                checkbox.setValue(!checkbox.getValue());\n            }\n        }\n        if (e.keyCode === KeyCode.ENTER) {\n            if (e.ctrlKey || e.metaKey) {\n                if (this.menuEnabled && headerComp.showMenu) {\n                    e.preventDefault();\n                    headerComp.showMenu();\n                }\n            }\n            else if (this.sortable) {\n                var multiSort = e.shiftKey;\n                this.sortController.progressSort(this.column, multiSort, \"uiColumnSorted\");\n            }\n        }\n    };\n    HeaderWrapperComp.prototype.onTabKeyDown = function () { };\n    HeaderWrapperComp.prototype.getComponentHolder = function () {\n        return this.column.getColDef();\n    };\n    HeaderWrapperComp.prototype.addColumnHoverListener = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, this.onColumnHover.bind(this));\n        this.onColumnHover();\n    };\n    HeaderWrapperComp.prototype.onColumnHover = function () {\n        var isHovered = this.columnHoverService.isHovered(this.column);\n        addOrRemoveCssClass(this.getGui(), 'ag-column-hover', isHovered);\n    };\n    HeaderWrapperComp.prototype.setupSortableClass = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        var updateSortableCssClass = function () {\n            addOrRemoveCssClass(eGui, 'ag-header-cell-sortable', _this.sortable);\n        };\n        var updateAriaSort = function () {\n            if (_this.sortable) {\n                setAriaSort(eGui, getAriaSortState(_this.column));\n            }\n            else {\n                removeAriaSort(eGui);\n            }\n        };\n        updateSortableCssClass();\n        updateAriaSort();\n        this.refreshFunctions.push(updateSortableCssClass);\n        this.refreshFunctions.push(updateAriaSort);\n        this.addManagedListener(this.column, Column.EVENT_SORT_CHANGED, updateAriaSort.bind(this));\n    };\n    HeaderWrapperComp.prototype.onFilterChanged = function () {\n        var filterPresent = this.column.isFilterActive();\n        addOrRemoveCssClass(this.getGui(), 'ag-header-cell-filtered', filterPresent);\n    };\n    HeaderWrapperComp.prototype.appendHeaderComp = function () {\n        this.headerCompVersion++;\n        var colDef = this.column.getColDef();\n        this.colDefHeaderComponent = colDef.headerComponent;\n        this.colDefHeaderComponentFramework = colDef.headerComponentFramework;\n        var params = this.createParams();\n        var callback = this.afterHeaderCompCreated.bind(this, this.headerCompVersion);\n        this.userComponentFactory.newHeaderComponent(params).then(callback);\n    };\n    HeaderWrapperComp.prototype.createParams = function () {\n        var _this = this;\n        var colDef = this.column.getColDef();\n        var enableSorting = colDef.sortable;\n        var enableMenu = this.menuEnabled = this.menuFactory.isMenuEnabled(this.column) && !colDef.suppressMenu;\n        var params = {\n            column: this.column,\n            displayName: this.displayName,\n            enableSorting: enableSorting,\n            enableMenu: enableMenu,\n            showColumnMenu: function (source) {\n                _this.gridApi.showColumnMenuAfterButtonClick(_this.column, source);\n            },\n            progressSort: function (multiSort) {\n                _this.sortController.progressSort(_this.column, !!multiSort, \"uiColumnSorted\");\n            },\n            setSort: function (sort, multiSort) {\n                _this.sortController.setSortForColumn(_this.column, sort, !!multiSort, \"uiColumnSorted\");\n            },\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        return params;\n    };\n    HeaderWrapperComp.prototype.afterHeaderCompCreated = function (version, headerComp) {\n        if (version != this.headerCompVersion || !this.isAlive()) {\n            this.destroyBean(headerComp);\n            return;\n        }\n        this.destroyHeaderComp();\n        this.headerComp = headerComp;\n        this.headerCompGui = headerComp.getGui();\n        this.getGui().appendChild(this.headerCompGui);\n        this.attachDraggingToHeaderComp();\n    };\n    HeaderWrapperComp.prototype.onColumnMovingChanged = function () {\n        // this function adds or removes the moving css, based on if the col is moving.\n        // this is what makes the header go dark when it is been moved (gives impression to\n        // user that the column was picked up).\n        if (this.column.isMoving()) {\n            addCssClass(this.getGui(), 'ag-header-cell-moving');\n        }\n        else {\n            removeCssClass(this.getGui(), 'ag-header-cell-moving');\n        }\n    };\n    HeaderWrapperComp.prototype.workOutDraggable = function () {\n        var colDef = this.column.getColDef();\n        var isSuppressMovableColumns = this.gridOptionsWrapper.isSuppressMovableColumns();\n        var colCanMove = !isSuppressMovableColumns && !colDef.suppressMovable && !colDef.lockPosition;\n        // we should still be allowed drag the column, even if it can't be moved, if the column\n        // can be dragged to a rowGroup or pivot drop zone\n        return colCanMove || colDef.enableRowGroup || colDef.enablePivot;\n    };\n    HeaderWrapperComp.prototype.attachDraggingToHeaderComp = function () {\n        var _this = this;\n        this.removeMoveDragSource();\n        if (!this.draggable) {\n            return;\n        }\n        this.moveDragSource = {\n            type: DragSourceType.HeaderCell,\n            eElement: this.headerCompGui,\n            defaultIconName: DragAndDropService.ICON_HIDE,\n            getDragItem: function () { return _this.createDragItem(); },\n            dragItemName: this.displayName,\n            dragSourceDropTarget: this.dragSourceDropTarget,\n            onDragStarted: function () { return _this.column.setMoving(true, \"uiColumnMoved\"); },\n            onDragStopped: function () { return _this.column.setMoving(false, \"uiColumnMoved\"); }\n        };\n        this.dragAndDropService.addDragSource(this.moveDragSource, true);\n    };\n    HeaderWrapperComp.prototype.createDragItem = function () {\n        var visibleState = {};\n        visibleState[this.column.getId()] = this.column.isVisible();\n        return {\n            columns: [this.column],\n            visibleState: visibleState\n        };\n    };\n    HeaderWrapperComp.prototype.setupResize = function () {\n        var _this = this;\n        var colDef = this.getComponentHolder();\n        var destroyResizeFuncs = [];\n        var canResize;\n        var canAutosize;\n        var addResize = function () {\n            setDisplayed(_this.eResize, canResize);\n            if (!canResize) {\n                return;\n            }\n            var finishedWithResizeFunc = _this.horizontalResizeService.addResizeBar({\n                eResizeBar: _this.eResize,\n                onResizeStart: _this.onResizeStart.bind(_this),\n                onResizing: _this.onResizing.bind(_this, false),\n                onResizeEnd: _this.onResizing.bind(_this, true)\n            });\n            destroyResizeFuncs.push(finishedWithResizeFunc);\n            if (canAutosize) {\n                var skipHeaderOnAutoSize_1 = _this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n                var autoSizeColListener_1 = function () {\n                    _this.columnController.autoSizeColumn(_this.column, skipHeaderOnAutoSize_1, \"uiColumnResized\");\n                };\n                _this.eResize.addEventListener('dblclick', autoSizeColListener_1);\n                var touchListener_1 = new TouchListener(_this.eResize);\n                touchListener_1.addEventListener(TouchListener.EVENT_DOUBLE_TAP, autoSizeColListener_1);\n                _this.addDestroyFunc(function () {\n                    _this.eResize.removeEventListener('dblclick', autoSizeColListener_1);\n                    touchListener_1.removeEventListener(TouchListener.EVENT_DOUBLE_TAP, autoSizeColListener_1);\n                    touchListener_1.destroy();\n                });\n            }\n        };\n        var removeResize = function () {\n            destroyResizeFuncs.forEach(function (f) { return f(); });\n            destroyResizeFuncs.length = 0;\n        };\n        var refresh = function () {\n            var resize = _this.column.isResizable();\n            var autoSize = !_this.gridOptionsWrapper.isSuppressAutoSize() && !colDef.suppressAutoSize;\n            var propertyChange = resize !== canResize || autoSize !== canAutosize;\n            if (propertyChange) {\n                canResize = resize;\n                canAutosize = autoSize;\n                removeResize();\n                addResize();\n            }\n        };\n        refresh();\n        this.addDestroyFunc(removeResize);\n        this.refreshFunctions.push(refresh);\n    };\n    HeaderWrapperComp.prototype.onResizing = function (finished, resizeAmount) {\n        var resizeAmountNormalised = this.normaliseResizeAmount(resizeAmount);\n        var columnWidths = [{ key: this.column, newWidth: this.resizeStartWidth + resizeAmountNormalised }];\n        this.columnController.setColumnWidths(columnWidths, this.resizeWithShiftKey, finished, \"uiColumnDragged\");\n        if (finished) {\n            removeCssClass(this.getGui(), 'ag-column-resizing');\n        }\n    };\n    HeaderWrapperComp.prototype.onResizeStart = function (shiftKey) {\n        this.resizeStartWidth = this.column.getActualWidth();\n        this.resizeWithShiftKey = shiftKey;\n        addCssClass(this.getGui(), 'ag-column-resizing');\n    };\n    HeaderWrapperComp.prototype.getTooltipText = function () {\n        return this.column.getColDef().headerTooltip;\n    };\n    HeaderWrapperComp.prototype.setupTooltip = function () {\n        var _this = this;\n        var tooltipFeature;\n        var tooltipText;\n        var usingBrowserTooltips = this.gridOptionsWrapper.isEnableBrowserTooltips();\n        var removeTooltip = function () {\n            if (usingBrowserTooltips) {\n                _this.getGui().removeAttribute('title');\n            }\n            else {\n                if (tooltipFeature) {\n                    tooltipFeature = _this.destroyBean(tooltipFeature);\n                }\n            }\n        };\n        var addTooltip = function () {\n            if (usingBrowserTooltips) {\n                _this.getGui().setAttribute('title', tooltipText);\n            }\n            else {\n                tooltipFeature = _this.createBean(new TooltipFeature(_this, 'header'));\n            }\n        };\n        var refresh = function () {\n            var newTooltipText = _this.getTooltipText();\n            if (tooltipText != newTooltipText) {\n                if (tooltipText) {\n                    removeTooltip();\n                }\n                tooltipText = newTooltipText;\n                if (tooltipText) {\n                    addTooltip();\n                }\n            }\n        };\n        refresh();\n        this.addDestroyFunc(removeTooltip);\n        this.refreshFunctions.push(refresh);\n    };\n    HeaderWrapperComp.prototype.setupMovingCss = function () {\n        this.addManagedListener(this.column, Column.EVENT_MOVING_CHANGED, this.onColumnMovingChanged.bind(this));\n        this.onColumnMovingChanged();\n    };\n    HeaderWrapperComp.prototype.addAttributes = function () {\n        this.getGui().setAttribute(\"col-id\", this.column.getColId());\n    };\n    HeaderWrapperComp.prototype.setupWidth = function () {\n        this.addManagedListener(this.column, Column.EVENT_WIDTH_CHANGED, this.onColumnWidthChanged.bind(this));\n        this.onColumnWidthChanged();\n    };\n    HeaderWrapperComp.prototype.setupMenuClass = function () {\n        this.addManagedListener(this.column, Column.EVENT_MENU_VISIBLE_CHANGED, this.onMenuVisible.bind(this));\n    };\n    HeaderWrapperComp.prototype.onMenuVisible = function () {\n        this.addOrRemoveCssClass('ag-column-menu-visible', this.column.isMenuVisible());\n    };\n    HeaderWrapperComp.prototype.onColumnWidthChanged = function () {\n        this.getGui().style.width = this.column.getActualWidth() + 'px';\n    };\n    // optionally inverts the drag, depending on pinned and RTL\n    // note - this method is duplicated in RenderedHeaderGroupCell - should refactor out?\n    HeaderWrapperComp.prototype.normaliseResizeAmount = function (dragChange) {\n        var result = dragChange;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, dragging left makes the col bigger, except when pinning left\n            if (this.pinned !== Constants.PINNED_LEFT) {\n                result *= -1;\n            }\n        }\n        else {\n            // for LTR (ie normal), dragging left makes the col smaller, except when pinning right\n            if (this.pinned === Constants.PINNED_RIGHT) {\n                result *= -1;\n            }\n        }\n        return result;\n    };\n    HeaderWrapperComp.TEMPLATE = \"<div class=\\\"ag-header-cell\\\" role=\\\"columnheader\\\" unselectable=\\\"on\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"eResize\\\" class=\\\"ag-header-cell-resize\\\" role=\\\"presentation\\\"></div>\\n            <ag-checkbox ref=\\\"cbSelectAll\\\" class=\\\"ag-header-select-all\\\" role=\\\"presentation\\\"></ag-checkbox>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderWrapperComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], HeaderWrapperComp.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], HeaderWrapperComp.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('horizontalResizeService')\n    ], HeaderWrapperComp.prototype, \"horizontalResizeService\", void 0);\n    __decorate([\n        Autowired('menuFactory')\n    ], HeaderWrapperComp.prototype, \"menuFactory\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], HeaderWrapperComp.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], HeaderWrapperComp.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], HeaderWrapperComp.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], HeaderWrapperComp.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        Autowired('columnHoverService')\n    ], HeaderWrapperComp.prototype, \"columnHoverService\", void 0);\n    __decorate([\n        Autowired('beans')\n    ], HeaderWrapperComp.prototype, \"beans\", void 0);\n    __decorate([\n        RefSelector('eResize')\n    ], HeaderWrapperComp.prototype, \"eResize\", void 0);\n    __decorate([\n        RefSelector('cbSelectAll')\n    ], HeaderWrapperComp.prototype, \"cbSelectAll\", void 0);\n    __decorate([\n        PreDestroy\n    ], HeaderWrapperComp.prototype, \"destroyHeaderComp\", null);\n    return HeaderWrapperComp;\n}(AbstractHeaderWrapper));\nexport { HeaderWrapperComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgAbstractInputField } from \"./agAbstractInputField\";\nvar AgInputTextArea = /** @class */ (function (_super) {\n    __extends(AgInputTextArea, _super);\n    function AgInputTextArea(config) {\n        return _super.call(this, config, 'ag-text-area', 'textarea') || this;\n    }\n    AgInputTextArea.prototype.setValue = function (value, silent) {\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        this.eInput.value = value;\n        return ret;\n    };\n    AgInputTextArea.prototype.setCols = function (cols) {\n        this.eInput.cols = cols;\n        return this;\n    };\n    AgInputTextArea.prototype.setRows = function (rows) {\n        this.eInput.rows = rows;\n        return this;\n    };\n    return AgInputTextArea;\n}(AgAbstractInputField));\nexport { AgInputTextArea };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { HeaderWrapperComp } from \"../headerRendering/header/headerWrapperComp\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { containsClass, addCssClass } from \"../utils/dom\";\nvar AutoWidthCalculator = /** @class */ (function (_super) {\n    __extends(AutoWidthCalculator, _super);\n    function AutoWidthCalculator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AutoWidthCalculator.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AutoWidthCalculator.prototype.registerHeaderRootComp = function (headerRootComp) {\n        this.headerRootComp = headerRootComp;\n    };\n    // this is the trick: we create a dummy container and clone all the cells\n    // into the dummy, then check the dummy's width. then destroy the dummy\n    // as we don't need it any more.\n    // drawback: only the cells visible on the screen are considered\n    AutoWidthCalculator.prototype.getPreferredWidthForColumn = function (column, skipHeader) {\n        var eHeaderCell = this.getHeaderCellForColumn(column);\n        // cell isn't visible\n        if (!eHeaderCell) {\n            return -1;\n        }\n        var eDummyContainer = document.createElement('span');\n        // position fixed, so it isn't restricted to the boundaries of the parent\n        eDummyContainer.style.position = 'fixed';\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        var eBodyContainer = this.gridPanel.getCenterContainer();\n        eBodyContainer.appendChild(eDummyContainer);\n        // get all the cells that are currently displayed (this only brings back\n        // rendered cells, rows not rendered due to row visualisation will not be here)\n        this.putRowCellsIntoDummyContainer(column, eDummyContainer);\n        if (!skipHeader) {\n            // we only consider the lowest level cell, not the group cell. in 99% of the time, this\n            // will be enough. if we consider groups, then it gets too complicated for what it's worth,\n            // as the groups can span columns and this class only considers one column at a time.\n            this.cloneItemIntoDummy(eHeaderCell, eDummyContainer);\n        }\n        // at this point, all the clones are lined up vertically with natural widths. the dummy\n        // container will have a width wide enough just to fit the largest.\n        var dummyContainerWidth = eDummyContainer.offsetWidth;\n        // we are finished with the dummy container, so get rid of it\n        eBodyContainer.removeChild(eDummyContainer);\n        // we add padding as I found sometimes the gui still put '...' after some of the texts. so the\n        // user can configure the grid to add a few more pixels after the calculated width\n        var autoSizePadding = this.gridOptionsWrapper.getAutoSizePadding();\n        return dummyContainerWidth + autoSizePadding;\n    };\n    AutoWidthCalculator.prototype.getHeaderCellForColumn = function (column) {\n        var comp = null;\n        // find the rendered header cell\n        this.headerRootComp.forEachHeaderElement(function (headerElement) {\n            if (headerElement instanceof HeaderWrapperComp) {\n                var headerWrapperComp = headerElement;\n                if (headerWrapperComp.getColumn() === column) {\n                    comp = headerWrapperComp;\n                }\n            }\n        });\n        return comp ? comp.getGui() : null;\n    };\n    AutoWidthCalculator.prototype.putRowCellsIntoDummyContainer = function (column, eDummyContainer) {\n        var _this = this;\n        var eCells = this.rowRenderer.getAllCellsForColumn(column);\n        eCells.forEach(function (eCell) { return _this.cloneItemIntoDummy(eCell, eDummyContainer); });\n    };\n    AutoWidthCalculator.prototype.cloneItemIntoDummy = function (eCell, eDummyContainer) {\n        // make a deep clone of the cell\n        var eCellClone = eCell.cloneNode(true);\n        // the original has a fixed width, we remove this to allow the natural width based on content\n        eCellClone.style.width = '';\n        // the original has position = absolute, we need to remove this so it's positioned normally\n        eCellClone.style.position = 'static';\n        eCellClone.style.left = '';\n        // we put the cell into a containing div, as otherwise the cells would just line up\n        // on the same line, standard flow layout, by putting them into divs, they are laid\n        // out one per line\n        var eCloneParent = document.createElement('div');\n        if (containsClass(eCellClone, 'ag-header-cell')) {\n            addCssClass(eCloneParent, 'ag-header');\n            addCssClass(eCloneParent, 'ag-header-row');\n            eCloneParent.style.position = 'static';\n        }\n        else {\n            addCssClass(eCloneParent, 'ag-row');\n        }\n        // table-row, so that each cell is on a row. i also tried display='block', but this\n        // didn't work in IE\n        eCloneParent.style.display = 'table-row';\n        // the twig on the branch, the branch on the tree, the tree in the hole,\n        // the hole in the bog, the bog in the clone, the clone in the parent,\n        // the parent in the dummy, and the dummy down in the vall-e-ooo, OOOOOOOOO! Oh row the rattling bog....\n        eCloneParent.appendChild(eCellClone);\n        eDummyContainer.appendChild(eCloneParent);\n    };\n    __decorate([\n        Autowired('rowRenderer')\n    ], AutoWidthCalculator.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AutoWidthCalculator.prototype, \"gridOptionsWrapper\", void 0);\n    AutoWidthCalculator = __decorate([\n        Bean('autoWidthCalculator')\n    ], AutoWidthCalculator);\n    return AutoWidthCalculator;\n}(BeanStub));\nexport { AutoWidthCalculator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellComp } from \"../cellComp\";\nimport { RowNode } from \"../../entities/rowNode\";\nimport { Events } from \"../../events\";\nimport { Component } from \"../../widgets/component\";\nimport { Constants } from \"../../constants/constants\";\nimport { ModuleNames } from \"../../modules/moduleNames\";\nimport { ModuleRegistry } from \"../../modules/moduleRegistry\";\nimport { setAriaExpanded, setAriaSelected, setAriaLabel, setAriaRowIndex } from \"../../utils/aria\";\nimport { escapeString } from \"../../utils/string\";\nimport { removeCssClass, addCssClass, addOrRemoveCssClass, setDomChildOrder, appendHtml, isElementChildOfClass, addStylesToElement } from \"../../utils/dom\";\nimport { removeFromArray } from \"../../utils/array\";\nimport { missing, exists } from \"../../utils/generic\";\nimport { isStopPropagationForAgGrid } from \"../../utils/event\";\nimport { iterateObject, assign } from \"../../utils/object\";\nimport { cssStyleObjectToMarkup } from \"../../utils/general\";\nimport { AngularRowUtils } from \"./angularRowUtils\";\nvar RowComp = /** @class */ (function (_super) {\n    __extends(RowComp, _super);\n    function RowComp(parentScope, bodyContainerComp, pinnedLeftContainerComp, pinnedRightContainerComp, fullWidthContainerComp, rowNode, beans, animateIn, useAnimationFrameForCreate, printLayout, embedFullWidth) {\n        var _this = _super.call(this) || this;\n        _this.eAllRowContainers = [];\n        _this.active = true;\n        _this.rowContainerReadyCount = 0;\n        _this.refreshNeeded = false;\n        _this.columnRefreshPending = false;\n        _this.cellComps = {};\n        // for animations, there are bits we want done in the next VM turn, to all DOM to update first.\n        // instead of each row doing a setTimeout(func,0), we put the functions here and the rowRenderer\n        // executes them all in one timeout\n        _this.createSecondPassFuncs = [];\n        // these get called before the row is destroyed - they set up the DOM for the remove animation (ie they\n        // set the DOM up for the animation), then the delayedDestroyFunctions get called when the animation is\n        // complete (ie removes from the dom).\n        _this.removeFirstPassFuncs = [];\n        // for animations, these functions get called 400ms after the row is cleared, called by the rowRenderer\n        // so each row isn't setting up it's own timeout\n        _this.removeSecondPassFuncs = [];\n        _this.initialised = false;\n        _this.elementOrderChanged = false;\n        _this.lastMouseDownOnDragger = false;\n        _this.parentScope = parentScope;\n        _this.beans = beans;\n        _this.bodyContainerComp = bodyContainerComp;\n        _this.pinnedLeftContainerComp = pinnedLeftContainerComp;\n        _this.pinnedRightContainerComp = pinnedRightContainerComp;\n        _this.fullWidthContainerComp = fullWidthContainerComp;\n        _this.rowNode = rowNode;\n        _this.rowIsEven = _this.rowNode.rowIndex % 2 === 0;\n        _this.paginationPage = _this.beans.paginationProxy.getCurrentPage();\n        _this.useAnimationFrameForCreate = useAnimationFrameForCreate;\n        _this.printLayout = printLayout;\n        _this.embedFullWidth = embedFullWidth;\n        _this.setAnimateFlags(animateIn);\n        return _this;\n    }\n    RowComp.prototype.init = function () {\n        var _this = this;\n        this.rowFocused = this.beans.focusController.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n        this.setupAngular1Scope();\n        this.rowLevel = this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);\n        this.setupRowContainers();\n        this.addListeners();\n        if (this.slideRowIn) {\n            this.createSecondPassFuncs.push(function () {\n                _this.onTopChanged();\n            });\n        }\n        if (this.fadeRowIn) {\n            this.createSecondPassFuncs.push(function () {\n                _this.eAllRowContainers.forEach(function (eRow) { return removeCssClass(eRow, 'ag-opacity-zero'); });\n            });\n        }\n    };\n    RowComp.prototype.setupAngular1Scope = function () {\n        var scopeResult = AngularRowUtils.createChildScopeOrNull(this.rowNode, this.parentScope, this.beans.gridOptionsWrapper);\n        if (scopeResult) {\n            this.scope = scopeResult.scope;\n            this.addDestroyFunc(scopeResult.scopeDestroyFunc);\n        }\n    };\n    RowComp.prototype.createTemplate = function (contents, extraCssClass) {\n        if (extraCssClass === void 0) { extraCssClass = null; }\n        var templateParts = [];\n        var rowHeight = this.rowNode.rowHeight;\n        var rowClasses = this.getInitialRowClasses(extraCssClass).join(' ');\n        var rowIdSanitised = escapeString(this.rowNode.id);\n        var userRowStyles = this.preProcessStylesFromGridOptions();\n        var businessKey = this.getRowBusinessKey();\n        var businessKeySanitised = escapeString(businessKey);\n        var rowTopStyle = this.getInitialRowTopStyle();\n        var rowIdx = this.rowNode.getRowIndexString();\n        var headerRowCount = this.beans.headerNavigationService.getHeaderRowCount();\n        templateParts.push(\"<div\");\n        templateParts.push(\" role=\\\"row\\\"\");\n        templateParts.push(\" row-index=\\\"\" + rowIdx + \"\\\" aria-rowindex=\\\"\" + (headerRowCount + this.rowNode.rowIndex + 1) + \"\\\"\");\n        templateParts.push(rowIdSanitised ? \" row-id=\\\"\" + rowIdSanitised + \"\\\"\" : \"\");\n        templateParts.push(businessKey ? \" row-business-key=\\\"\" + businessKeySanitised + \"\\\"\" : \"\");\n        templateParts.push(\" comp-id=\\\"\" + this.getCompId() + \"\\\"\");\n        templateParts.push(\" class=\\\"\" + rowClasses + \"\\\"\");\n        if (this.beans.gridOptionsWrapper.isRowSelection()) {\n            templateParts.push(\" aria-selected=\\\"\" + (this.rowNode.isSelected() ? 'true' : 'false') + \"\\\"\");\n        }\n        if (this.rowNode.group) {\n            templateParts.push(\" aria-expanded=\" + (this.rowNode.expanded ? 'true' : 'false'));\n        }\n        templateParts.push(\" style=\\\"height: \" + rowHeight + \"px; \" + rowTopStyle + \" \" + userRowStyles + \"\\\">\");\n        // add in the template for the cells\n        templateParts.push(contents);\n        templateParts.push(\"</div>\");\n        return templateParts.join('');\n    };\n    RowComp.prototype.getCellForCol = function (column) {\n        var cellComp = this.cellComps[column.getColId()];\n        return cellComp ? cellComp.getGui() : null;\n    };\n    RowComp.prototype.afterFlush = function () {\n        if (this.initialised) {\n            return;\n        }\n        this.initialised = true;\n        this.executeProcessRowPostCreateFunc();\n    };\n    RowComp.prototype.executeProcessRowPostCreateFunc = function () {\n        var func = this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();\n        if (!func) {\n            return;\n        }\n        var params = {\n            eRow: this.eBodyRow,\n            ePinnedLeftRow: this.ePinnedLeftRow,\n            ePinnedRightRow: this.ePinnedRightRow,\n            node: this.rowNode,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            rowIndex: this.rowNode.rowIndex,\n            addRenderedRowListener: this.addEventListener.bind(this),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        };\n        func(params);\n    };\n    RowComp.prototype.getInitialRowTopStyle = function () {\n        // print layout uses normal flow layout for row positioning\n        if (this.printLayout) {\n            return '';\n        }\n        // if sliding in, we take the old row top. otherwise we just set the current row top.\n        var pixels = this.slideRowIn ? this.roundRowTopToBounds(this.rowNode.oldRowTop) : this.rowNode.rowTop;\n        var afterPaginationPixels = this.applyPaginationOffset(pixels);\n        // we don't apply scaling if row is pinned\n        var afterScalingPixels = this.rowNode.isRowPinned() ? afterPaginationPixels : this.beans.maxDivHeightScaler.getRealPixelPosition(afterPaginationPixels);\n        var isSuppressRowTransform = this.beans.gridOptionsWrapper.isSuppressRowTransform();\n        return isSuppressRowTransform ? \"top: \" + afterScalingPixels + \"px; \" : \"transform: translateY(\" + afterScalingPixels + \"px);\";\n    };\n    RowComp.prototype.getRowBusinessKey = function () {\n        var businessKeyForNodeFunc = this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();\n        if (typeof businessKeyForNodeFunc !== 'function') {\n            return;\n        }\n        return businessKeyForNodeFunc(this.rowNode);\n    };\n    RowComp.prototype.areAllContainersReady = function () {\n        return this.rowContainerReadyCount === 3;\n    };\n    RowComp.prototype.lazyCreateCells = function (cols, eRow) {\n        if (!this.active) {\n            return;\n        }\n        var cellTemplatesAndComps = this.createCells(cols);\n        eRow.innerHTML = cellTemplatesAndComps.template;\n        this.callAfterRowAttachedOnCells(cellTemplatesAndComps.cellComps, eRow);\n        this.rowContainerReadyCount++;\n        if (this.areAllContainersReady() && this.refreshNeeded) {\n            this.refreshCells();\n        }\n    };\n    RowComp.prototype.createRowContainer = function (rowContainerComp, cols, callback) {\n        var _this = this;\n        var useAnimationsFrameForCreate = this.useAnimationFrameForCreate;\n        var cellTemplatesAndComps = useAnimationsFrameForCreate ? { cellComps: [], template: '' } : this.createCells(cols);\n        var rowTemplate = this.createTemplate(cellTemplatesAndComps.template);\n        // the RowRenderer is probably inserting many rows. rather than inserting each template one\n        // at a time, the grid inserts all rows together - so the callback here is called by the\n        // rowRenderer when all RowComps are created, then all the HTML is inserted in one go,\n        // and then all the callbacks are called. this is NOT done in an animation frame.\n        rowContainerComp.appendRowTemplate(rowTemplate, function () {\n            var eRow = rowContainerComp.getRowElement(_this.getCompId());\n            _this.refreshAriaLabel(eRow, _this.rowNode.isSelected());\n            _this.afterRowAttached(rowContainerComp, eRow);\n            callback(eRow);\n            if (useAnimationsFrameForCreate) {\n                _this.beans.taskQueue.createTask(_this.lazyCreateCells.bind(_this, cols, eRow), _this.rowNode.rowIndex, 'createTasksP1');\n            }\n            else {\n                _this.callAfterRowAttachedOnCells(cellTemplatesAndComps.cellComps, eRow);\n                _this.rowContainerReadyCount = 3;\n            }\n        });\n    };\n    RowComp.prototype.setupRowContainers = function () {\n        var isFullWidthCell = this.rowNode.isFullWidthCell();\n        var isDetailCell = this.beans.doingMasterDetail && this.rowNode.detail;\n        var pivotMode = this.beans.columnController.isPivotMode();\n        // we only use full width for groups, not footers. it wouldn't make sense to include footers if not looking\n        // for totals. if users complain about this, then we should introduce a new property 'footerUseEntireRow'\n        // so each can be set independently (as a customer complained about footers getting full width, hence\n        // introducing this logic)\n        var isGroupRow = this.rowNode.group && !this.rowNode.footer;\n        var isFullWidthGroup = isGroupRow && this.beans.gridOptionsWrapper.isGroupUseEntireRow(pivotMode);\n        if (this.rowNode.stub) {\n            this.createFullWidthRows(RowComp.LOADING_CELL_RENDERER, RowComp.LOADING_CELL_RENDERER_COMP_NAME);\n        }\n        else if (isDetailCell) {\n            this.createFullWidthRows(RowComp.DETAIL_CELL_RENDERER, RowComp.DETAIL_CELL_RENDERER_COMP_NAME);\n        }\n        else if (isFullWidthCell) {\n            this.createFullWidthRows(RowComp.FULL_WIDTH_CELL_RENDERER, null);\n        }\n        else if (isFullWidthGroup) {\n            this.createFullWidthRows(RowComp.GROUP_ROW_RENDERER, RowComp.GROUP_ROW_RENDERER_COMP_NAME);\n        }\n        else {\n            this.setupNormalRowContainers();\n        }\n    };\n    RowComp.prototype.setupNormalRowContainers = function () {\n        var _this = this;\n        var centerCols;\n        var leftCols = [];\n        var rightCols = [];\n        if (this.printLayout) {\n            centerCols = this.beans.columnController.getAllDisplayedColumns();\n        }\n        else {\n            centerCols = this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode);\n            leftCols = this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode);\n            rightCols = this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode);\n        }\n        this.createRowContainer(this.bodyContainerComp, centerCols, function (eRow) { return _this.eBodyRow = eRow; });\n        this.createRowContainer(this.pinnedRightContainerComp, rightCols, function (eRow) { return _this.ePinnedRightRow = eRow; });\n        this.createRowContainer(this.pinnedLeftContainerComp, leftCols, function (eRow) { return _this.ePinnedLeftRow = eRow; });\n    };\n    RowComp.prototype.createFullWidthRows = function (type, name) {\n        var _this = this;\n        this.fullWidthRow = true;\n        if (this.embedFullWidth) {\n            this.createFullWidthRowContainer(this.bodyContainerComp, null, null, type, name, function (eRow) {\n                _this.eFullWidthRowBody = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentBody = cellRenderer;\n            });\n            // printLayout doesn't put components into the pinned sections\n            if (this.printLayout) {\n                return;\n            }\n            this.createFullWidthRowContainer(this.pinnedLeftContainerComp, Constants.PINNED_LEFT, 'ag-cell-last-left-pinned', type, name, function (eRow) {\n                _this.eFullWidthRowLeft = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentLeft = cellRenderer;\n            });\n            this.createFullWidthRowContainer(this.pinnedRightContainerComp, Constants.PINNED_RIGHT, 'ag-cell-first-right-pinned', type, name, function (eRow) {\n                _this.eFullWidthRowRight = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentRight = cellRenderer;\n            });\n        }\n        else {\n            // otherwise we add to the fullWidth container as normal\n            // let previousFullWidth = ensureDomOrder ? this.lastPlacedElements.eFullWidth : null;\n            this.createFullWidthRowContainer(this.fullWidthContainerComp, null, null, type, name, function (eRow) {\n                _this.eFullWidthRow = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponent = cellRenderer;\n            });\n        }\n    };\n    RowComp.prototype.setAnimateFlags = function (animateIn) {\n        if (animateIn) {\n            var oldRowTopExists = exists(this.rowNode.oldRowTop);\n            // if the row had a previous position, we slide it in (animate row top)\n            this.slideRowIn = oldRowTopExists;\n            // if the row had no previous position, we fade it in (animate\n            this.fadeRowIn = !oldRowTopExists;\n        }\n        else {\n            this.slideRowIn = false;\n            this.fadeRowIn = false;\n        }\n    };\n    RowComp.prototype.isEditing = function () {\n        return this.editingRow;\n    };\n    RowComp.prototype.stopRowEditing = function (cancel) {\n        this.stopEditing(cancel);\n    };\n    RowComp.prototype.isFullWidth = function () {\n        return this.fullWidthRow;\n    };\n    RowComp.prototype.refreshFullWidth = function () {\n        var _this = this;\n        // returns 'true' if refresh succeeded\n        var tryRefresh = function (eRow, eCellComp, pinned) {\n            if (!eRow || !eCellComp) {\n                return true;\n            } // no refresh needed\n            // no refresh method present, so can't refresh, hard refresh needed\n            if (!eCellComp.refresh) {\n                return false;\n            }\n            var params = _this.createFullWidthParams(eRow, pinned);\n            var refreshSucceeded = eCellComp.refresh(params);\n            return refreshSucceeded;\n        };\n        var normalSuccess = tryRefresh(this.eFullWidthRow, this.fullWidthRowComponent, null);\n        var bodySuccess = tryRefresh(this.eFullWidthRowBody, this.fullWidthRowComponentBody, null);\n        var leftSuccess = tryRefresh(this.eFullWidthRowLeft, this.fullWidthRowComponentLeft, Constants.PINNED_LEFT);\n        var rightSuccess = tryRefresh(this.eFullWidthRowRight, this.fullWidthRowComponentRight, Constants.PINNED_RIGHT);\n        var allFullWidthRowsRefreshed = normalSuccess && bodySuccess && leftSuccess && rightSuccess;\n        return allFullWidthRowsRefreshed;\n    };\n    RowComp.prototype.addListeners = function () {\n        this.addManagedListener(this.rowNode, RowNode.EVENT_HEIGHT_CHANGED, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_ROW_SELECTED, this.onRowSelected.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_ROW_INDEX_CHANGED, this.onRowIndexChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_TOP_CHANGED, this.onTopChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_EXPANDED_CHANGED, this.updateExpandedCss.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_HAS_CHILDREN_CHANGED, this.updateExpandedCss.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.onRowNodeDataChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.onRowNodeCellChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_HIGHLIGHT_CHANGED, this.onRowNodeHighlightChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_DRAGGING_CHANGED, this.onRowNodeDraggingChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_UI_LEVEL_CHANGED, this.onUiLevelChanged.bind(this));\n        var eventService = this.beans.eventService;\n        this.addManagedListener(eventService, Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED, this.onPaginationPixelOffsetChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_HEIGHT_SCALE_CHANGED, this.onTopChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_CELL_FOCUSED, this.onCellFocusChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addManagedListener(eventService, Events.EVENT_COLUMN_MOVED, this.onColumnMoved.bind(this));\n        this.addListenersForCellComps();\n    };\n    RowComp.prototype.addListenersForCellComps = function () {\n        var _this = this;\n        this.addManagedListener(this.rowNode, RowNode.EVENT_ROW_INDEX_CHANGED, function () {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onRowIndexChanged(); });\n        });\n        this.addManagedListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onCellChanged(event); });\n        });\n    };\n    RowComp.prototype.onRowNodeDataChanged = function (event) {\n        // if this is an update, we want to refresh, as this will allow the user to put in a transition\n        // into the cellRenderer refresh method. otherwise this might be completely new data, in which case\n        // we will want to completely replace the cells\n        this.forEachCellComp(function (cellComp) {\n            return cellComp.refreshCell({\n                suppressFlash: !event.update,\n                newData: !event.update\n            });\n        });\n        // check for selected also, as this could be after lazy loading of the row data, in which case\n        // the id might of just gotten set inside the row and the row selected state may of changed\n        // as a result. this is what happens when selected rows are loaded in virtual pagination.\n        // - niall note - since moving to the stub component, this may no longer be true, as replacing\n        // the stub component now replaces the entire row\n        this.onRowSelected();\n        // as data has changed, then the style and class needs to be recomputed\n        this.postProcessCss();\n    };\n    RowComp.prototype.onRowNodeCellChanged = function () {\n        // as data has changed, then the style and class needs to be recomputed\n        this.postProcessCss();\n    };\n    RowComp.prototype.postProcessCss = function () {\n        this.postProcessStylesFromGridOptions();\n        this.postProcessClassesFromGridOptions();\n        this.postProcessRowClassRules();\n        this.postProcessRowDragging();\n    };\n    RowComp.prototype.onRowNodeHighlightChanged = function () {\n        var highlighted = this.rowNode.highlighted;\n        this.eAllRowContainers.forEach(function (row) {\n            removeCssClass(row, 'ag-row-highlight-above');\n            removeCssClass(row, 'ag-row-highlight-below');\n            if (highlighted) {\n                addCssClass(row, 'ag-row-highlight-' + highlighted);\n            }\n        });\n    };\n    RowComp.prototype.onRowNodeDraggingChanged = function () {\n        this.postProcessRowDragging();\n    };\n    RowComp.prototype.postProcessRowDragging = function () {\n        var dragging = this.rowNode.dragging;\n        this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-dragging', dragging); });\n    };\n    RowComp.prototype.updateExpandedCss = function () {\n        var expandable = this.beans.rowCssClassCalculator.isExpandable(this.rowNode);\n        var expanded = this.rowNode.expanded;\n        this.eAllRowContainers.forEach(function (eRow) {\n            addOrRemoveCssClass(eRow, 'ag-row-group', expandable);\n            addOrRemoveCssClass(eRow, 'ag-row-group-expanded', expandable && expanded);\n            addOrRemoveCssClass(eRow, 'ag-row-group-contracted', expandable && !expanded);\n            setAriaExpanded(eRow, expandable && expanded);\n        });\n    };\n    RowComp.prototype.onDisplayedColumnsChanged = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.destroyFullWidthComponents = function () {\n        if (this.fullWidthRowComponent) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, null, this.fullWidthRowComponent);\n            this.fullWidthRowComponent = null;\n        }\n        if (this.fullWidthRowComponentBody) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, null, this.fullWidthRowComponentBody);\n            this.fullWidthRowComponent = null;\n        }\n        if (this.fullWidthRowComponentLeft) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, Constants.PINNED_LEFT, this.fullWidthRowComponentLeft);\n            this.fullWidthRowComponentLeft = null;\n        }\n        if (this.fullWidthRowComponentRight) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, Constants.PINNED_RIGHT, this.fullWidthRowComponentRight);\n            this.fullWidthRowComponent = null;\n        }\n    };\n    RowComp.prototype.getContainerForCell = function (pinnedType) {\n        switch (pinnedType) {\n            case Constants.PINNED_LEFT: return this.ePinnedLeftRow;\n            case Constants.PINNED_RIGHT: return this.ePinnedRightRow;\n            default: return this.eBodyRow;\n        }\n    };\n    RowComp.prototype.onVirtualColumnsChanged = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.onColumnResized = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.refreshCells = function () {\n        if (!this.areAllContainersReady()) {\n            this.refreshNeeded = true;\n            return;\n        }\n        var suppressAnimationFrame = this.beans.gridOptionsWrapper.isSuppressAnimationFrame();\n        var skipAnimationFrame = suppressAnimationFrame || this.printLayout;\n        if (skipAnimationFrame) {\n            this.refreshCellsInAnimationFrame();\n        }\n        else {\n            if (this.columnRefreshPending) {\n                return;\n            }\n            this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this), this.rowNode.rowIndex, 'createTasksP1');\n        }\n    };\n    RowComp.prototype.refreshCellsInAnimationFrame = function () {\n        if (!this.active) {\n            return;\n        }\n        this.columnRefreshPending = false;\n        var centerCols;\n        var leftCols;\n        var rightCols;\n        if (this.printLayout) {\n            centerCols = this.beans.columnController.getAllDisplayedColumns();\n            leftCols = [];\n            rightCols = [];\n        }\n        else {\n            centerCols = this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode);\n            leftCols = this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode);\n            rightCols = this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode);\n        }\n        this.insertCellsIntoContainer(this.eBodyRow, centerCols);\n        this.insertCellsIntoContainer(this.ePinnedLeftRow, leftCols);\n        this.insertCellsIntoContainer(this.ePinnedRightRow, rightCols);\n        this.elementOrderChanged = false;\n        var colIdsToRemove = Object.keys(this.cellComps);\n        centerCols.forEach(function (col) { return removeFromArray(colIdsToRemove, col.getId()); });\n        leftCols.forEach(function (col) { return removeFromArray(colIdsToRemove, col.getId()); });\n        rightCols.forEach(function (col) { return removeFromArray(colIdsToRemove, col.getId()); });\n        // we never remove editing cells, as this would cause the cells to loose their values while editing\n        // as the grid is scrolling horizontally.\n        var eligibleToBeRemoved = colIdsToRemove.filter(this.isCellEligibleToBeRemoved.bind(this));\n        // remove old cells from gui, but we don't destroy them, we might use them again\n        this.destroyCells(eligibleToBeRemoved);\n    };\n    RowComp.prototype.onColumnMoved = function () {\n        this.elementOrderChanged = true;\n    };\n    RowComp.prototype.destroyCells = function (colIds) {\n        var _this = this;\n        colIds.forEach(function (key) {\n            var cellComp = _this.cellComps[key];\n            // could be old reference, ie removed cell\n            if (missing(cellComp)) {\n                return;\n            }\n            cellComp.detach();\n            cellComp.destroy();\n            _this.cellComps[key] = null;\n        });\n    };\n    RowComp.prototype.isCellEligibleToBeRemoved = function (indexStr) {\n        var displayedColumns = this.beans.columnController.getAllDisplayedColumns();\n        var REMOVE_CELL = true;\n        var KEEP_CELL = false;\n        var renderedCell = this.cellComps[indexStr];\n        // always remove the cell if it's not rendered or if it's in the wrong pinned location\n        if (!renderedCell || this.isCellInWrongRow(renderedCell)) {\n            return REMOVE_CELL;\n        }\n        // we want to try and keep editing and focused cells\n        var editing = renderedCell.isEditing();\n        var focused = this.beans.focusController.isCellFocused(renderedCell.getCellPosition());\n        var mightWantToKeepCell = editing || focused;\n        if (mightWantToKeepCell) {\n            var column = renderedCell.getColumn();\n            var cellStillDisplayed = displayedColumns.indexOf(column) >= 0;\n            return cellStillDisplayed ? KEEP_CELL : REMOVE_CELL;\n        }\n        return REMOVE_CELL;\n    };\n    RowComp.prototype.ensureCellInCorrectContainer = function (cellComp) {\n        // for print layout, we always put cells into centre, otherwise we put in correct pinned section\n        if (this.printLayout) {\n            return;\n        }\n        var element = cellComp.getGui();\n        var column = cellComp.getColumn();\n        var pinnedType = column.getPinned();\n        var eContainer = this.getContainerForCell(pinnedType);\n        // if in wrong container, remove it\n        var eOldContainer = cellComp.getParentRow();\n        var inWrongRow = eOldContainer !== eContainer;\n        if (inWrongRow) {\n            // take out from old row\n            if (eOldContainer) {\n                eOldContainer.removeChild(element);\n            }\n            eContainer.appendChild(element);\n            cellComp.setParentRow(eContainer);\n            this.elementOrderChanged = true;\n        }\n    };\n    RowComp.prototype.isCellInWrongRow = function (cellComp) {\n        var column = cellComp.getColumn();\n        var rowWeWant = this.getContainerForCell(column.getPinned());\n        var oldRow = cellComp.getParentRow(); // if in wrong container, remove it\n        return oldRow !== rowWeWant;\n    };\n    RowComp.prototype.insertCellsIntoContainer = function (eRow, cols) {\n        var _this = this;\n        if (!eRow) {\n            return;\n        }\n        var cellTemplates = [];\n        var newCellComps = [];\n        cols.forEach(function (col) {\n            var colId = col.getId();\n            var existingCell = _this.cellComps[colId];\n            // need to check the column is the same one, not a new column with the same ID\n            if (existingCell && existingCell.getColumn() == col) {\n                _this.ensureCellInCorrectContainer(existingCell);\n            }\n            else {\n                if (existingCell) {\n                    // here there is a col with the same id, so need to destroy the old cell first,\n                    // as the old column no longer exists. this happens often with pivoting, where\n                    // id's are pivot_1, pivot_2 etc, so common for new cols with same ID's\n                    _this.destroyCells([colId]);\n                }\n                _this.createNewCell(col, eRow, cellTemplates, newCellComps);\n            }\n        });\n        if (cellTemplates.length > 0) {\n            appendHtml(eRow, cellTemplates.join(''));\n            this.callAfterRowAttachedOnCells(newCellComps, eRow);\n        }\n        if (this.elementOrderChanged && this.beans.gridOptionsWrapper.isEnsureDomOrder()) {\n            var correctChildOrder = cols.map(function (col) { return _this.getCellForCol(col); });\n            setDomChildOrder(eRow, correctChildOrder);\n        }\n    };\n    RowComp.prototype.addDomData = function (eRowContainer) {\n        var gow = this.beans.gridOptionsWrapper;\n        gow.setDomData(eRowContainer, RowComp.DOM_DATA_KEY_RENDERED_ROW, this);\n        this.addDestroyFunc(function () {\n            gow.setDomData(eRowContainer, RowComp.DOM_DATA_KEY_RENDERED_ROW, null);\n        });\n    };\n    RowComp.prototype.createNewCell = function (col, eContainer, cellTemplates, newCellComps) {\n        var newCellComp = new CellComp(this.scope, this.beans, col, this.rowNode, this, false, this.printLayout);\n        var cellTemplate = newCellComp.getCreateTemplate();\n        cellTemplates.push(cellTemplate);\n        newCellComps.push(newCellComp);\n        this.cellComps[col.getId()] = newCellComp;\n        newCellComp.setParentRow(eContainer);\n        this.elementOrderChanged = true;\n    };\n    RowComp.prototype.onMouseEvent = function (eventName, mouseEvent) {\n        switch (eventName) {\n            case 'dblclick':\n                this.onRowDblClick(mouseEvent);\n                break;\n            case 'click':\n                this.onRowClick(mouseEvent);\n                break;\n            case 'mousedown':\n                this.onRowMouseDown(mouseEvent);\n                break;\n        }\n    };\n    RowComp.prototype.createRowEvent = function (type, domEvent) {\n        return {\n            type: type,\n            node: this.rowNode,\n            data: this.rowNode.data,\n            rowIndex: this.rowNode.rowIndex,\n            rowPinned: this.rowNode.rowPinned,\n            context: this.beans.gridOptionsWrapper.getContext(),\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            event: domEvent\n        };\n    };\n    RowComp.prototype.createRowEventWithSource = function (type, domEvent) {\n        var event = this.createRowEvent(type, domEvent);\n        // when first developing this, we included the rowComp in the event.\n        // this seems very weird. so when introducing the event types, i left the 'source'\n        // out of the type, and just include the source in the two places where this event\n        // was fired (rowClicked and rowDoubleClicked). it doesn't make sense for any\n        // users to be using this, as the rowComp isn't an object we expose, so would be\n        // very surprising if a user was using it.\n        event.source = this;\n        return event;\n    };\n    RowComp.prototype.onRowDblClick = function (mouseEvent) {\n        if (isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        var agEvent = this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED, mouseEvent);\n        this.beans.eventService.dispatchEvent(agEvent);\n    };\n    RowComp.prototype.onRowMouseDown = function (mouseEvent) {\n        this.lastMouseDownOnDragger = isElementChildOfClass(mouseEvent.target, 'ag-row-drag', 3);\n    };\n    RowComp.prototype.onRowClick = function (mouseEvent) {\n        var stop = isStopPropagationForAgGrid(mouseEvent) || this.lastMouseDownOnDragger;\n        if (stop) {\n            return;\n        }\n        var agEvent = this.createRowEventWithSource(Events.EVENT_ROW_CLICKED, mouseEvent);\n        this.beans.eventService.dispatchEvent(agEvent);\n        // ctrlKey for windows, metaKey for Apple\n        var multiSelectKeyPressed = mouseEvent.ctrlKey || mouseEvent.metaKey;\n        var shiftKeyPressed = mouseEvent.shiftKey;\n        // we do not allow selecting the group by clicking, when groupSelectChildren, as the logic to\n        // handle this is broken. to observe, change the logic below and allow groups to be selected.\n        // you will see the group gets selected, then all children get selected, then the grid unselects\n        // the children (as the default behaviour when clicking is to unselect other rows) which results\n        // in the group getting unselected (as all children are unselected). the correct thing would be\n        // to change this, so that children of the selected group are not then subsequenly un-selected.\n        var groupSelectsChildren = this.beans.gridOptionsWrapper.isGroupSelectsChildren();\n        if (\n        // we do not allow selecting groups by clicking (as the click here expands the group), or if it's a detail row,\n        // so return if it's a group row\n        (groupSelectsChildren && this.rowNode.group) ||\n            // this is needed so we don't unselect other rows when we click this row, eg if this row is not selectable,\n            // and we click it, the selection should not change (ie any currently selected row should stay selected)\n            !this.rowNode.selectable ||\n            // we also don't allow selection of pinned rows\n            this.rowNode.rowPinned ||\n            // if no selection method enabled, do nothing\n            !this.beans.gridOptionsWrapper.isRowSelection() ||\n            // if click selection suppressed, do nothing\n            this.beans.gridOptionsWrapper.isSuppressRowClickSelection()) {\n            return;\n        }\n        var multiSelectOnClick = this.beans.gridOptionsWrapper.isRowMultiSelectWithClick();\n        var rowDeselectionWithCtrl = !this.beans.gridOptionsWrapper.isSuppressRowDeselection();\n        if (this.rowNode.isSelected()) {\n            if (multiSelectOnClick) {\n                this.rowNode.setSelectedParams({ newValue: false });\n            }\n            else if (multiSelectKeyPressed) {\n                if (rowDeselectionWithCtrl) {\n                    this.rowNode.setSelectedParams({ newValue: false });\n                }\n            }\n            else {\n                // selected with no multi key, must make sure anything else is unselected\n                this.rowNode.setSelectedParams({ newValue: true, clearSelection: true });\n            }\n        }\n        else {\n            var clearSelection = multiSelectOnClick ? false : !multiSelectKeyPressed;\n            this.rowNode.setSelectedParams({ newValue: true, clearSelection: clearSelection, rangeSelect: shiftKeyPressed });\n        }\n    };\n    RowComp.prototype.createFullWidthRowContainer = function (rowContainerComp, pinned, extraCssClass, cellRendererType, cellRendererName, eRowCallback, cellRendererCallback) {\n        var _this = this;\n        var rowTemplate = this.createTemplate('', extraCssClass);\n        rowContainerComp.appendRowTemplate(rowTemplate, function () {\n            var eRow = rowContainerComp.getRowElement(_this.getCompId());\n            var params = _this.createFullWidthParams(eRow, pinned);\n            var callback = function (cellRenderer) {\n                if (_this.isAlive()) {\n                    var gui = cellRenderer.getGui();\n                    eRow.appendChild(gui);\n                    cellRendererCallback(cellRenderer);\n                }\n                else {\n                    _this.beans.context.destroyBean(cellRenderer);\n                }\n            };\n            // if doing master detail, it's possible we have a cached row comp from last time detail was displayed\n            var cachedRowComp = _this.beans.detailRowCompCache.get(_this.rowNode, pinned);\n            if (cachedRowComp) {\n                callback(cachedRowComp);\n            }\n            else {\n                var res = _this.beans.userComponentFactory.newFullWidthCellRenderer(params, cellRendererType, cellRendererName);\n                if (!res) {\n                    var masterDetailModuleLoaded = ModuleRegistry.isRegistered(ModuleNames.MasterDetailModule);\n                    if (cellRendererName === 'agDetailCellRenderer' && !masterDetailModuleLoaded) {\n                        console.warn(\"ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?\");\n                    }\n                    else {\n                        console.error(\"ag-Grid: fullWidthCellRenderer \" + cellRendererName + \" not found\");\n                    }\n                    return;\n                }\n                res.then(callback);\n            }\n            _this.afterRowAttached(rowContainerComp, eRow);\n            eRowCallback(eRow);\n            _this.angular1Compile(eRow);\n        });\n    };\n    RowComp.prototype.angular1Compile = function (element) {\n        if (!this.scope) {\n            return;\n        }\n        this.beans.$compile(element)(this.scope);\n    };\n    RowComp.prototype.createFullWidthParams = function (eRow, pinned) {\n        var params = {\n            fullWidth: true,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            value: this.rowNode.key,\n            $scope: this.scope ? this.scope : this.parentScope,\n            $compile: this.beans.$compile,\n            rowIndex: this.rowNode.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            // these need to be taken out, as part of 'afterAttached' now\n            eGridCell: eRow,\n            eParentOfValue: eRow,\n            pinned: pinned,\n            addRenderedRowListener: this.addEventListener.bind(this)\n        };\n        return params;\n    };\n    RowComp.prototype.getInitialRowClasses = function (extraCssClass) {\n        var params = {\n            rowNode: this.rowNode,\n            extraCssClass: extraCssClass,\n            rowFocused: this.rowFocused,\n            fadeRowIn: this.fadeRowIn,\n            rowIsEven: this.rowIsEven,\n            rowLevel: this.rowLevel,\n            fullWidthRow: this.fullWidthRow,\n            firstRowOnPage: this.isFirstRowOnPage(),\n            lastRowOnPage: this.isLastRowOnPage(),\n            printLayout: this.printLayout,\n            expandable: this.beans.rowCssClassCalculator.isExpandable(this.rowNode),\n            scope: this.scope\n        };\n        return this.beans.rowCssClassCalculator.getInitialRowClasses(params);\n    };\n    RowComp.prototype.onUiLevelChanged = function () {\n        var newLevel = this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);\n        if (this.rowLevel != newLevel) {\n            var classToAdd_1 = 'ag-row-level-' + newLevel;\n            var classToRemove_1 = 'ag-row-level-' + this.rowLevel;\n            this.eAllRowContainers.forEach(function (row) {\n                addCssClass(row, classToAdd_1);\n                removeCssClass(row, classToRemove_1);\n            });\n        }\n        this.rowLevel = newLevel;\n    };\n    RowComp.prototype.isFirstRowOnPage = function () {\n        return this.rowNode.rowIndex === this.beans.paginationProxy.getPageFirstRow();\n    };\n    RowComp.prototype.isLastRowOnPage = function () {\n        return this.rowNode.rowIndex === this.beans.paginationProxy.getPageLastRow();\n    };\n    RowComp.prototype.onModelUpdated = function () {\n        var newFirst = this.isFirstRowOnPage();\n        var newLast = this.isLastRowOnPage();\n        if (this.firstRowOnPage !== newFirst) {\n            this.firstRowOnPage = newFirst;\n            this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-first', newFirst); });\n        }\n        if (this.lastRowOnPage !== newLast) {\n            this.lastRowOnPage = newLast;\n            this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-last', newLast); });\n        }\n    };\n    RowComp.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.forEachCellComp(function (renderedCell) {\n            renderedCell.stopEditing(cancel);\n        });\n        if (!this.editingRow) {\n            return;\n        }\n        if (!cancel) {\n            var event_1 = this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);\n            this.beans.eventService.dispatchEvent(event_1);\n        }\n        this.setEditingRow(false);\n    };\n    RowComp.prototype.setEditingRow = function (value) {\n        this.editingRow = value;\n        this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-editing', value); });\n        var event = value ?\n            this.createRowEvent(Events.EVENT_ROW_EDITING_STARTED)\n            : this.createRowEvent(Events.EVENT_ROW_EDITING_STOPPED);\n        this.beans.eventService.dispatchEvent(event);\n    };\n    RowComp.prototype.startRowEditing = function (keyPress, charPress, sourceRenderedCell) {\n        if (keyPress === void 0) { keyPress = null; }\n        if (charPress === void 0) { charPress = null; }\n        if (sourceRenderedCell === void 0) { sourceRenderedCell = null; }\n        // don't do it if already editing\n        if (this.editingRow) {\n            return;\n        }\n        this.forEachCellComp(function (renderedCell) {\n            var cellStartedEdit = renderedCell === sourceRenderedCell;\n            if (cellStartedEdit) {\n                renderedCell.startEditingIfEnabled(keyPress, charPress, cellStartedEdit);\n            }\n            else {\n                renderedCell.startEditingIfEnabled(null, null, cellStartedEdit);\n            }\n        });\n        this.setEditingRow(true);\n    };\n    RowComp.prototype.forEachCellComp = function (callback) {\n        iterateObject(this.cellComps, function (key, cellComp) {\n            if (!cellComp) {\n                return;\n            }\n            callback(cellComp);\n        });\n    };\n    RowComp.prototype.postProcessClassesFromGridOptions = function () {\n        var _this = this;\n        var cssClasses = this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);\n        if (!cssClasses || !cssClasses.length) {\n            return;\n        }\n        cssClasses.forEach(function (classStr) {\n            _this.eAllRowContainers.forEach(function (row) { return addCssClass(row, classStr); });\n        });\n    };\n    RowComp.prototype.postProcessRowClassRules = function () {\n        var _this = this;\n        this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode, this.scope, function (className) {\n            _this.eAllRowContainers.forEach(function (row) { return addCssClass(row, className); });\n        }, function (className) {\n            _this.eAllRowContainers.forEach(function (row) { return removeCssClass(row, className); });\n        });\n    };\n    RowComp.prototype.preProcessStylesFromGridOptions = function () {\n        var rowStyles = this.processStylesFromGridOptions();\n        return cssStyleObjectToMarkup(rowStyles);\n    };\n    RowComp.prototype.postProcessStylesFromGridOptions = function () {\n        var rowStyles = this.processStylesFromGridOptions();\n        this.eAllRowContainers.forEach(function (row) { return addStylesToElement(row, rowStyles); });\n    };\n    RowComp.prototype.processStylesFromGridOptions = function () {\n        // part 1 - rowStyle\n        var rowStyle = this.beans.gridOptionsWrapper.getRowStyle();\n        if (rowStyle && typeof rowStyle === 'function') {\n            console.warn('ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead');\n            return;\n        }\n        // part 1 - rowStyleFunc\n        var rowStyleFunc = this.beans.gridOptionsWrapper.getRowStyleFunc();\n        var rowStyleFuncResult;\n        if (rowStyleFunc) {\n            var params = {\n                data: this.rowNode.data,\n                node: this.rowNode,\n                api: this.beans.gridOptionsWrapper.getApi(),\n                context: this.beans.gridOptionsWrapper.getContext(),\n                $scope: this.scope\n            };\n            rowStyleFuncResult = rowStyleFunc(params);\n        }\n        return assign({}, rowStyle, rowStyleFuncResult);\n    };\n    RowComp.prototype.createCells = function (cols) {\n        var _this = this;\n        var templateParts = [];\n        var newCellComps = [];\n        cols.forEach(function (col) {\n            var newCellComp = new CellComp(_this.scope, _this.beans, col, _this.rowNode, _this, false, _this.printLayout);\n            var cellTemplate = newCellComp.getCreateTemplate();\n            templateParts.push(cellTemplate);\n            newCellComps.push(newCellComp);\n            _this.cellComps[col.getId()] = newCellComp;\n        });\n        var templateAndComps = {\n            template: templateParts.join(''),\n            cellComps: newCellComps\n        };\n        return templateAndComps;\n    };\n    RowComp.prototype.onRowSelected = function () {\n        var _this = this;\n        var selected = this.rowNode.isSelected();\n        this.eAllRowContainers.forEach(function (row) {\n            setAriaSelected(row, selected);\n            addOrRemoveCssClass(row, 'ag-row-selected', selected);\n            _this.refreshAriaLabel(row, selected);\n        });\n    };\n    RowComp.prototype.refreshAriaLabel = function (node, selected) {\n        if (selected && this.beans.gridOptionsWrapper.isSuppressRowDeselection()) {\n            node.removeAttribute('aria-label');\n            return;\n        }\n        setAriaLabel(node, \"Press SPACE to \" + (selected ? 'deselect' : 'select') + \" this row.\");\n    };\n    // called:\n    // + after row created for first time\n    // + after horizontal scroll, so new cells due to column virtualisation\n    RowComp.prototype.callAfterRowAttachedOnCells = function (newCellComps, eRow) {\n        var _this = this;\n        newCellComps.forEach(function (cellComp) {\n            cellComp.setParentRow(eRow);\n            cellComp.afterAttached();\n            // if we are editing the row, then the cell needs to turn\n            // into edit mode\n            if (_this.editingRow) {\n                cellComp.startEditingIfEnabled();\n            }\n        });\n    };\n    RowComp.prototype.afterRowAttached = function (rowContainerComp, eRow) {\n        var _this = this;\n        this.addDomData(eRow);\n        this.removeSecondPassFuncs.push(function () {\n            rowContainerComp.removeRowElement(eRow);\n        });\n        this.removeFirstPassFuncs.push(function () {\n            if (exists(_this.rowNode.rowTop)) {\n                // the row top is updated anyway, however we set it here again\n                // to something more reasonable for the animation - ie if the\n                // row top is 10000px away, the row will flash out, so this\n                // gives it a rounded value, so row animates out more slowly\n                var rowTop = _this.roundRowTopToBounds(_this.rowNode.rowTop);\n                _this.setRowTop(rowTop);\n            }\n            else {\n                addCssClass(eRow, 'ag-opacity-zero');\n            }\n        });\n        this.eAllRowContainers.push(eRow);\n        // adding hover functionality adds listener to this row, so we\n        // do it lazily in an animation frame\n        if (this.useAnimationFrameForCreate) {\n            this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this, eRow), this.rowNode.rowIndex, 'createTasksP2');\n        }\n        else {\n            this.addHoverFunctionality(eRow);\n        }\n    };\n    RowComp.prototype.addHoverFunctionality = function (eRow) {\n        var _this = this;\n        // because we use animation frames to do this, it's possible the row no longer exists\n        // by the time we get to add it\n        if (!this.active) {\n            return;\n        }\n        // because mouseenter and mouseleave do not propagate, we cannot listen on the gridPanel\n        // like we do for all the other mouse events.\n        // because of the pinning, we cannot simply add / remove the class based on the eRow. we\n        // have to check all eRow's (body & pinned). so the trick is if any of the rows gets a\n        // mouse hover, it sets such in the rowNode, and then all three reflect the change as\n        // all are listening for event on the row node.\n        // step 1 - add listener, to set flag on row node\n        this.addManagedListener(eRow, 'mouseenter', function () { return _this.rowNode.onMouseEnter(); });\n        this.addManagedListener(eRow, 'mouseleave', function () { return _this.rowNode.onMouseLeave(); });\n        // step 2 - listen for changes on row node (which any eRow can trigger)\n        this.addManagedListener(this.rowNode, RowNode.EVENT_MOUSE_ENTER, function () {\n            // if hover turned off, we don't add the class. we do this here so that if the application\n            // toggles this property mid way, we remove the hover form the last row, but we stop\n            // adding hovers from that point onwards.\n            if (!_this.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()) {\n                addCssClass(eRow, 'ag-row-hover');\n            }\n        });\n        this.addManagedListener(this.rowNode, RowNode.EVENT_MOUSE_LEAVE, function () {\n            removeCssClass(eRow, 'ag-row-hover');\n        });\n    };\n    // for animation, we don't want to animate entry or exit to a very far away pixel,\n    // otherwise the row would move so fast, it would appear to disappear. so this method\n    // moves the row closer to the viewport if it is far away, so the row slide in / out\n    // at a speed the user can see.\n    RowComp.prototype.roundRowTopToBounds = function (rowTop) {\n        var range = this.beans.gridPanel.getVScrollPosition();\n        var minPixel = this.applyPaginationOffset(range.top, true) - 100;\n        var maxPixel = this.applyPaginationOffset(range.bottom, true) + 100;\n        return Math.min(Math.max(minPixel, rowTop), maxPixel);\n    };\n    RowComp.prototype.getFrameworkOverrides = function () {\n        return this.beans.frameworkOverrides;\n    };\n    RowComp.prototype.onRowHeightChanged = function () {\n        // check for exists first - if the user is resetting the row height, then\n        // it will be null (or undefined) momentarily until the next time the flatten\n        // stage is called where the row will then update again with a new height\n        if (exists(this.rowNode.rowHeight)) {\n            var heightPx_1 = this.rowNode.rowHeight + \"px\";\n            this.eAllRowContainers.forEach(function (row) { return row.style.height = heightPx_1; });\n        }\n    };\n    RowComp.prototype.addEventListener = function (eventType, listener) {\n        if (eventType === 'renderedRowRemoved' || eventType === 'rowRemoved') {\n            eventType = Events.EVENT_VIRTUAL_ROW_REMOVED;\n            console.warn('ag-Grid: Since version 11, event renderedRowRemoved is now called ' + Events.EVENT_VIRTUAL_ROW_REMOVED);\n        }\n        _super.prototype.addEventListener.call(this, eventType, listener);\n    };\n    RowComp.prototype.removeEventListener = function (eventType, listener) {\n        if (eventType === 'renderedRowRemoved' || eventType === 'rowRemoved') {\n            eventType = Events.EVENT_VIRTUAL_ROW_REMOVED;\n            console.warn('ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called ' + Events.EVENT_VIRTUAL_ROW_REMOVED);\n        }\n        _super.prototype.removeEventListener.call(this, eventType, listener);\n    };\n    // note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\n    RowComp.prototype.destroy = function (animate) {\n        if (animate === void 0) { animate = false; }\n        this.active = false;\n        // why do we have this method? shouldn't everything below be added as a destroy func beside\n        // the corresponding create logic?\n        this.destroyFullWidthComponents();\n        if (animate) {\n            this.removeFirstPassFuncs.forEach(function (func) { return func(); });\n            this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this));\n        }\n        else {\n            this.destroyContainingCells();\n            // we are not animating, so execute the second stage of removal now.\n            // we call getAndClear, so that they are only called once\n            var delayedDestroyFunctions = this.getAndClearDelayedDestroyFunctions();\n            delayedDestroyFunctions.forEach(function (func) { return func(); });\n        }\n        var event = this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);\n        this.dispatchEvent(event);\n        this.beans.eventService.dispatchEvent(event);\n        _super.prototype.destroy.call(this);\n    };\n    RowComp.prototype.destroyContainingCells = function () {\n        var cellsToDestroy = Object.keys(this.cellComps);\n        this.destroyCells(cellsToDestroy);\n        this.destroyFullWidthComponents();\n    };\n    // we clear so that the functions are never executed twice\n    RowComp.prototype.getAndClearDelayedDestroyFunctions = function () {\n        var result = this.removeSecondPassFuncs;\n        this.removeSecondPassFuncs = [];\n        return result;\n    };\n    RowComp.prototype.onCellFocusChanged = function () {\n        var rowFocused = this.beans.focusController.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n        if (rowFocused !== this.rowFocused) {\n            this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-focus', rowFocused); });\n            this.eAllRowContainers.forEach(function (row) { return addOrRemoveCssClass(row, 'ag-row-no-focus', !rowFocused); });\n            this.rowFocused = rowFocused;\n        }\n        // if we are editing, then moving the focus out of a row will stop editing\n        if (!rowFocused && this.editingRow) {\n            this.stopEditing(false);\n        }\n    };\n    RowComp.prototype.onPaginationChanged = function () {\n        var currentPage = this.beans.paginationProxy.getCurrentPage();\n        // it is possible this row is in the new page, but the page number has changed, which means\n        // it needs to reposition itself relative to the new page\n        if (this.paginationPage !== currentPage) {\n            this.paginationPage = currentPage;\n            this.onTopChanged();\n        }\n    };\n    RowComp.prototype.onTopChanged = function () {\n        this.setRowTop(this.rowNode.rowTop);\n    };\n    RowComp.prototype.onPaginationPixelOffsetChanged = function () {\n        // the pixel offset is used when calculating rowTop to set on the row DIV\n        this.onTopChanged();\n    };\n    // applies pagination offset, eg if on second page, and page height is 500px, then removes\n    // 500px from the top position, so a row with rowTop 600px is displayed at location 100px.\n    // reverse will take the offset away rather than add.\n    RowComp.prototype.applyPaginationOffset = function (topPx, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        if (this.rowNode.isRowPinned()) {\n            return topPx;\n        }\n        var pixelOffset = this.beans.paginationProxy.getPixelOffset();\n        var multiplier = reverse ? 1 : -1;\n        return topPx + (pixelOffset * multiplier);\n    };\n    RowComp.prototype.setRowTop = function (pixels) {\n        // print layout uses normal flow layout for row positioning\n        if (this.printLayout) {\n            return;\n        }\n        // need to make sure rowTop is not null, as this can happen if the node was once\n        // visible (ie parent group was expanded) but is now not visible\n        if (exists(pixels)) {\n            var afterPaginationPixels = this.applyPaginationOffset(pixels);\n            var afterScalingPixels = this.rowNode.isRowPinned() ? afterPaginationPixels : this.beans.maxDivHeightScaler.getRealPixelPosition(afterPaginationPixels);\n            var topPx_1 = afterScalingPixels + \"px\";\n            if (this.beans.gridOptionsWrapper.isSuppressRowTransform()) {\n                this.eAllRowContainers.forEach(function (row) { return row.style.top = topPx_1; });\n            }\n            else {\n                this.eAllRowContainers.forEach(function (row) { return row.style.transform = \"translateY(\" + topPx_1 + \")\"; });\n            }\n        }\n    };\n    // we clear so that the functions are never executed twice\n    RowComp.prototype.getAndClearNextVMTurnFunctions = function () {\n        var result = this.createSecondPassFuncs;\n        this.createSecondPassFuncs = [];\n        return result;\n    };\n    RowComp.prototype.getRowNode = function () {\n        return this.rowNode;\n    };\n    RowComp.prototype.getRenderedCellForColumn = function (column) {\n        var _this = this;\n        var cellComp = this.cellComps[column.getColId()];\n        if (cellComp) {\n            return cellComp;\n        }\n        var spanList = Object.keys(this.cellComps)\n            .map(function (name) { return _this.cellComps[name]; })\n            .filter(function (cmp) { return cmp && cmp.getColSpanningList().indexOf(column) !== -1; });\n        return spanList.length ? spanList[0] : undefined;\n    };\n    RowComp.prototype.onRowIndexChanged = function () {\n        // we only bother updating if the rowIndex is present. if it is not present, it means this row\n        // is child of a group node, and the group node was closed, it's the only way to have no row index.\n        // when this happens, row is about to be de-rendered, so we don't care, rowComp is about to die!\n        if (this.rowNode.rowIndex != null) {\n            this.onCellFocusChanged();\n            this.updateRowIndexes();\n        }\n    };\n    RowComp.prototype.updateRowIndexes = function () {\n        var _this = this;\n        var rowIndexStr = this.rowNode.getRowIndexString();\n        var rowIsEven = this.rowNode.rowIndex % 2 === 0;\n        var rowIsEvenChanged = this.rowIsEven !== rowIsEven;\n        var headerRowCount = this.beans.headerNavigationService.getHeaderRowCount();\n        if (rowIsEvenChanged) {\n            this.rowIsEven = rowIsEven;\n        }\n        this.eAllRowContainers.forEach(function (eRow) {\n            eRow.setAttribute('row-index', rowIndexStr);\n            setAriaRowIndex(eRow, headerRowCount + _this.rowNode.rowIndex + 1);\n            if (!rowIsEvenChanged) {\n                return;\n            }\n            addOrRemoveCssClass(eRow, 'ag-row-even', rowIsEven);\n            addOrRemoveCssClass(eRow, 'ag-row-odd', !rowIsEven);\n        });\n    };\n    RowComp.prototype.ensureDomOrder = function () {\n        var sides = [\n            {\n                el: this.getBodyRowElement(),\n                ct: this.bodyContainerComp\n            },\n            {\n                el: this.getPinnedLeftRowElement(),\n                ct: this.pinnedLeftContainerComp\n            }, {\n                el: this.getPinnedRightRowElement(),\n                ct: this.pinnedRightContainerComp\n            }, {\n                el: this.getFullWidthRowElement(),\n                ct: this.fullWidthContainerComp\n            }\n        ];\n        sides.forEach(function (side) {\n            if (!side.el) {\n                return;\n            }\n            side.ct.ensureDomOrder(side.el);\n        });\n    };\n    // returns the pinned left container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getPinnedLeftRowElement = function () {\n        return this.ePinnedLeftRow ? this.ePinnedLeftRow : this.eFullWidthRowLeft;\n    };\n    // returns the pinned right container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getPinnedRightRowElement = function () {\n        return this.ePinnedRightRow ? this.ePinnedRightRow : this.eFullWidthRowRight;\n    };\n    // returns the body container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getBodyRowElement = function () {\n        return this.eBodyRow ? this.eBodyRow : this.eFullWidthRowBody;\n    };\n    // returns the full width container\n    RowComp.prototype.getFullWidthRowElement = function () {\n        return this.eFullWidthRow;\n    };\n    RowComp.DOM_DATA_KEY_RENDERED_ROW = 'renderedRow';\n    RowComp.FULL_WIDTH_CELL_RENDERER = 'fullWidthCellRenderer';\n    RowComp.GROUP_ROW_RENDERER = 'groupRowRenderer';\n    RowComp.GROUP_ROW_RENDERER_COMP_NAME = 'agGroupRowRenderer';\n    RowComp.LOADING_CELL_RENDERER = 'loadingCellRenderer';\n    RowComp.LOADING_CELL_RENDERER_COMP_NAME = 'agLoadingCellRenderer';\n    RowComp.DETAIL_CELL_RENDERER = 'detailCellRenderer';\n    RowComp.DETAIL_CELL_RENDERER_COMP_NAME = 'agDetailCellRenderer';\n    return RowComp;\n}(Component));\nexport { RowComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nimport { exists } from \"../../utils/generic\";\nimport { addOrRemoveCssClass, removeCssClass, clearElement, addCssClass } from \"../../utils/dom\";\nvar ARROW_UP = '\\u2191';\nvar ARROW_DOWN = '\\u2193';\nvar AnimateShowChangeCellRenderer = /** @class */ (function (_super) {\n    __extends(AnimateShowChangeCellRenderer, _super);\n    function AnimateShowChangeCellRenderer() {\n        var _this = _super.call(this, AnimateShowChangeCellRenderer.TEMPLATE) || this;\n        _this.refreshCount = 0;\n        return _this;\n    }\n    AnimateShowChangeCellRenderer.prototype.init = function (params) {\n        // this.params = params;\n        this.eValue = this.queryForHtmlElement('.ag-value-change-value');\n        this.eDelta = this.queryForHtmlElement('.ag-value-change-delta');\n        this.refresh(params);\n    };\n    AnimateShowChangeCellRenderer.prototype.showDelta = function (params, delta) {\n        var absDelta = Math.abs(delta);\n        var valueFormatted = params.formatValue(absDelta);\n        var valueToUse = exists(valueFormatted) ? valueFormatted : absDelta;\n        var deltaUp = (delta >= 0);\n        if (deltaUp) {\n            this.eDelta.innerHTML = ARROW_UP + valueToUse;\n        }\n        else {\n            // because negative, use ABS to remove sign\n            this.eDelta.innerHTML = ARROW_DOWN + valueToUse;\n        }\n        addOrRemoveCssClass(this.eDelta, 'ag-value-change-delta-up', deltaUp);\n        addOrRemoveCssClass(this.eDelta, 'ag-value-change-delta-down', !deltaUp);\n    };\n    AnimateShowChangeCellRenderer.prototype.setTimerToRemoveDelta = function () {\n        var _this = this;\n        // the refreshCount makes sure that if the value updates again while\n        // the below timer is waiting, then the below timer will realise it\n        // is not the most recent and will not try to remove the delta value.\n        this.refreshCount++;\n        var refreshCountCopy = this.refreshCount;\n        window.setTimeout(function () {\n            if (refreshCountCopy === _this.refreshCount) {\n                _this.hideDeltaValue();\n            }\n        }, 2000);\n    };\n    AnimateShowChangeCellRenderer.prototype.hideDeltaValue = function () {\n        removeCssClass(this.eValue, 'ag-value-change-value-highlight');\n        clearElement(this.eDelta);\n    };\n    AnimateShowChangeCellRenderer.prototype.refresh = function (params) {\n        var value = params.value;\n        if (value === this.lastValue) {\n            return;\n        }\n        if (exists(params.valueFormatted)) {\n            this.eValue.innerHTML = params.valueFormatted;\n        }\n        else if (exists(params.value)) {\n            this.eValue.innerHTML = value;\n        }\n        else {\n            clearElement(this.eValue);\n        }\n        // we don't show the delta if we are in the middle of a filter. see comment on FilterManager\n        // with regards processingFilterChange\n        if (this.filterManager.isSuppressFlashingCellsBecauseFiltering()) {\n            return;\n        }\n        if (typeof value === 'number' && typeof this.lastValue === 'number') {\n            var delta = value - this.lastValue;\n            this.showDelta(params, delta);\n        }\n        // highlight the current value, but only if it's not new, otherwise it\n        // would get highlighted first time the value is shown\n        if (this.lastValue) {\n            addCssClass(this.eValue, 'ag-value-change-value-highlight');\n        }\n        this.setTimerToRemoveDelta();\n        this.lastValue = value;\n        return true;\n    };\n    AnimateShowChangeCellRenderer.TEMPLATE = '<span>' +\n        '<span class=\"ag-value-change-delta\"></span>' +\n        '<span class=\"ag-value-change-value\"></span>' +\n        '</span>';\n    __decorate([\n        Autowired('filterManager')\n    ], AnimateShowChangeCellRenderer.prototype, \"filterManager\", void 0);\n    return AnimateShowChangeCellRenderer;\n}(Component));\nexport { AnimateShowChangeCellRenderer };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { FillUndoRedoAction, UndoRedoAction, UndoRedoStack } from \"./undoRedoStack\";\nimport { Constants } from \"../constants/constants\";\nimport { ModuleNames } from \"../modules/moduleNames\";\nimport { ModuleRegistry } from \"../modules/moduleRegistry\";\nimport { BeanStub } from \"../context/beanStub\";\nvar UndoRedoService = /** @class */ (function (_super) {\n    __extends(UndoRedoService, _super);\n    function UndoRedoService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellValueChanges = [];\n        _this.isCellEditing = false;\n        _this.isRowEditing = false;\n        _this.isPasting = false;\n        _this.isFilling = false;\n        _this.onCellValueChanged = function (event) {\n            var shouldCaptureAction = _this.isCellEditing || _this.isRowEditing || _this.isPasting || _this.isFilling;\n            if (!shouldCaptureAction) {\n                return;\n            }\n            var rowPinned = event.rowPinned, rowIndex = event.rowIndex, column = event.column, oldValue = event.oldValue, value = event.value;\n            var cellValueChange = {\n                rowPinned: rowPinned,\n                rowIndex: rowIndex,\n                columnId: column.getColId(),\n                oldValue: oldValue,\n                newValue: value\n            };\n            _this.cellValueChanges.push(cellValueChange);\n        };\n        _this.clearStacks = function () {\n            _this.undoStack.clear();\n            _this.redoStack.clear();\n        };\n        return _this;\n    }\n    UndoRedoService.prototype.init = function () {\n        if (!this.gridOptionsWrapper.isUndoRedoCellEditing()) {\n            return;\n        }\n        var undoRedoLimit = this.gridOptionsWrapper.getUndoRedoCellEditingLimit();\n        if (undoRedoLimit <= 0) {\n            return;\n        }\n        this.undoStack = new UndoRedoStack(undoRedoLimit);\n        this.redoStack = new UndoRedoStack(undoRedoLimit);\n        this.addRowEditingListeners();\n        this.addCellEditingListeners();\n        this.addPasteListeners();\n        this.addFillListeners();\n        this.addManagedListener(this.eventService, Events.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged);\n        // undo / redo is restricted to actual editing so we clear the stacks when other operations are\n        // performed that change the order of the row / cols.\n        this.addManagedListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_GROUP_OPENED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_MOVED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PINNED, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VISIBLE, this.clearStacks);\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_DRAG_END, this.clearStacks);\n    };\n    UndoRedoService.prototype.getCurrentUndoStackSize = function () {\n        return this.undoStack ? this.undoStack.getCurrentStackSize() : 0;\n    };\n    UndoRedoService.prototype.getCurrentRedoStackSize = function () {\n        return this.redoStack ? this.redoStack.getCurrentStackSize() : 0;\n    };\n    UndoRedoService.prototype.undo = function () {\n        if (!this.undoStack) {\n            return;\n        }\n        var undoAction = this.undoStack.pop();\n        if (!undoAction || !undoAction.cellValueChanges) {\n            return;\n        }\n        this.processAction(undoAction, function (cellValueChange) { return cellValueChange.oldValue; });\n        if (undoAction instanceof FillUndoRedoAction) {\n            this.processRangeAndCellFocus(undoAction.cellValueChanges, undoAction.initialRange);\n        }\n        else {\n            this.processRangeAndCellFocus(undoAction.cellValueChanges);\n        }\n        this.redoStack.push(undoAction);\n    };\n    UndoRedoService.prototype.redo = function () {\n        if (!this.redoStack) {\n            return;\n        }\n        var redoAction = this.redoStack.pop();\n        if (!redoAction || !redoAction.cellValueChanges) {\n            return;\n        }\n        this.processAction(redoAction, function (cellValueChange) { return cellValueChange.newValue; });\n        if (redoAction instanceof FillUndoRedoAction) {\n            this.processRangeAndCellFocus(redoAction.cellValueChanges, redoAction.finalRange);\n        }\n        else {\n            this.processRangeAndCellFocus(redoAction.cellValueChanges);\n        }\n        this.undoStack.push(redoAction);\n    };\n    UndoRedoService.prototype.processAction = function (action, valueExtractor) {\n        var _this = this;\n        action.cellValueChanges.forEach(function (cellValueChange) {\n            var rowIndex = cellValueChange.rowIndex, rowPinned = cellValueChange.rowPinned, columnId = cellValueChange.columnId;\n            var rowPosition = { rowIndex: rowIndex, rowPinned: rowPinned };\n            var currentRow = _this.getRowNode(rowPosition);\n            // checks if the row has been filtered out\n            if (currentRow.rowTop == null) {\n                return;\n            }\n            currentRow.setDataValue(columnId, valueExtractor(cellValueChange));\n        });\n    };\n    UndoRedoService.prototype.processRangeAndCellFocus = function (cellValueChanges, range) {\n        if (range) {\n            var startRow = range.startRow;\n            var endRow = range.endRow;\n            var lastFocusedCell_1 = {\n                rowPinned: startRow.rowPinned,\n                rowIndex: startRow.rowIndex,\n                columnId: range.startColumn.getColId()\n            };\n            this.setLastFocusedCell(lastFocusedCell_1);\n            var cellRangeParams = {\n                rowStartIndex: startRow.rowIndex,\n                rowStartPinned: startRow.rowPinned,\n                rowEndIndex: endRow.rowIndex,\n                rowEndPinned: endRow.rowPinned,\n                columnStart: range.startColumn,\n                columns: range.columns\n            };\n            this.gridApi.addCellRange(cellRangeParams);\n            return;\n        }\n        var cellValueChange = cellValueChanges[0];\n        var rowIndex = cellValueChange.rowIndex, rowPinned = cellValueChange.rowPinned;\n        var rowPosition = { rowIndex: rowIndex, rowPinned: rowPinned };\n        var row = this.getRowNode(rowPosition);\n        var lastFocusedCell = {\n            rowPinned: cellValueChange.rowPinned,\n            rowIndex: row.rowIndex,\n            columnId: cellValueChange.columnId\n        };\n        this.setLastFocusedCell(lastFocusedCell);\n    };\n    UndoRedoService.prototype.setLastFocusedCell = function (lastFocusedCell) {\n        var rowIndex = lastFocusedCell.rowIndex, columnId = lastFocusedCell.columnId, rowPinned = lastFocusedCell.rowPinned;\n        this.gridApi.ensureIndexVisible(rowIndex);\n        this.gridApi.ensureColumnVisible(columnId);\n        if (ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule)) {\n            this.gridApi.clearRangeSelection();\n        }\n        this.focusController.setFocusedCell(rowIndex, columnId, rowPinned, true);\n    };\n    UndoRedoService.prototype.addRowEditingListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_EDITING_STARTED, function () {\n            _this.isRowEditing = true;\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_EDITING_STOPPED, function () {\n            var action = new UndoRedoAction(_this.cellValueChanges);\n            _this.pushActionsToUndoStack(action);\n            _this.isRowEditing = false;\n        });\n    };\n    UndoRedoService.prototype.addCellEditingListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_CELL_EDITING_STARTED, function () {\n            _this.isCellEditing = true;\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_CELL_EDITING_STOPPED, function () {\n            _this.isCellEditing = false;\n            var shouldPushAction = !_this.isRowEditing && !_this.isPasting && !_this.isFilling;\n            if (shouldPushAction) {\n                var action = new UndoRedoAction(_this.cellValueChanges);\n                _this.pushActionsToUndoStack(action);\n            }\n        });\n    };\n    UndoRedoService.prototype.addPasteListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_PASTE_START, function () {\n            _this.isPasting = true;\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_PASTE_END, function () {\n            var action = new UndoRedoAction(_this.cellValueChanges);\n            _this.pushActionsToUndoStack(action);\n            _this.isPasting = false;\n        });\n    };\n    UndoRedoService.prototype.addFillListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_FILL_START, function () {\n            _this.isFilling = true;\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_FILL_END, function (event) {\n            var action = new FillUndoRedoAction(_this.cellValueChanges, event.initialRange, event.finalRange);\n            _this.pushActionsToUndoStack(action);\n            _this.isFilling = false;\n        });\n    };\n    UndoRedoService.prototype.pushActionsToUndoStack = function (action) {\n        this.undoStack.push(action);\n        this.cellValueChanges = [];\n        this.redoStack.clear();\n    };\n    UndoRedoService.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], UndoRedoService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], UndoRedoService.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], UndoRedoService.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], UndoRedoService.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], UndoRedoService.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        PostConstruct\n    ], UndoRedoService.prototype, \"init\", null);\n    UndoRedoService = __decorate([\n        Bean('undoRedoService')\n    ], UndoRedoService);\n    return UndoRedoService;\n}(BeanStub));\nexport { UndoRedoService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired } from '../context/context';\nimport { BeanStub } from \"../context/beanStub\";\nvar ValueFormatterService = /** @class */ (function (_super) {\n    __extends(ValueFormatterService, _super);\n    function ValueFormatterService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ValueFormatterService.prototype.formatValue = function (column, node, $scope, value, suppliedFormatter, useFormatterFromColumn) {\n        if (useFormatterFromColumn === void 0) { useFormatterFromColumn = true; }\n        var result = null;\n        var formatter;\n        var colDef = column.getColDef();\n        if (suppliedFormatter) {\n            // use supplied formatter if provided, e.g. set filter items can have their own value formatters\n            formatter = suppliedFormatter;\n        }\n        else if (useFormatterFromColumn) {\n            // if row is pinned, give preference to the pinned formatter\n            formatter = node && node.rowPinned && colDef.pinnedRowValueFormatter ?\n                colDef.pinnedRowValueFormatter : colDef.valueFormatter;\n        }\n        if (formatter) {\n            var params = {\n                value: value,\n                node: node,\n                data: node ? node.data : null,\n                colDef: colDef,\n                column: column,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext()\n            };\n            // originally we put the angular 1 scope here, but we don't want the scope\n            // in the params interface, as other frameworks will see the interface, and\n            // angular 1 is not cool any more. so we hack the scope in here (we cannot\n            // include it above, as it's not in the interface, so would cause a compile error).\n            // in the future, when we stop supporting angular 1, we can take this out.\n            params.$scope = $scope;\n            result = this.expressionService.evaluate(formatter, params);\n        }\n        else if (colDef.refData) {\n            return colDef.refData[value] || '';\n        }\n        // if we don't do this, then arrays get displayed as 1,2,3, but we want 1, 2, 3 (i.e. with spaces)\n        if (result == null && Array.isArray(value)) {\n            result = value.join(', ');\n        }\n        return result;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ValueFormatterService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], ValueFormatterService.prototype, \"expressionService\", void 0);\n    ValueFormatterService = __decorate([\n        Bean('valueFormatterService')\n    ], ValueFormatterService);\n    return ValueFormatterService;\n}(BeanStub));\nexport { ValueFormatterService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Events } from \"./events\";\nimport { Bean } from \"./context/context\";\nimport { Qualifier } from \"./context/context\";\nimport { Autowired } from \"./context/context\";\nimport { PostConstruct } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nvar AlignedGridsService = /** @class */ (function (_super) {\n    __extends(AlignedGridsService, _super);\n    function AlignedGridsService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // flag to mark if we are consuming. to avoid cyclic events (ie other grid firing back to master\n        // while processing a master event) we mark this if consuming an event, and if we are, then\n        // we don't fire back any events.\n        _this.consuming = false;\n        return _this;\n    }\n    AlignedGridsService.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('AlignedGridsService');\n    };\n    AlignedGridsService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AlignedGridsService.prototype.init = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_MOVED, this.fireColumnEvent.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VISIBLE, this.fireColumnEvent.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PINNED, this.fireColumnEvent.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_GROUP_OPENED, this.fireColumnEvent.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.fireColumnEvent.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_BODY_SCROLL, this.fireScrollEvent.bind(this));\n    };\n    // common logic across all the fire methods\n    AlignedGridsService.prototype.fireEvent = function (callback) {\n        // if we are already consuming, then we are acting on an event from a master,\n        // so we don't cause a cyclic firing of events\n        if (this.consuming) {\n            return;\n        }\n        // iterate through the aligned grids, and pass each aligned grid service to the callback\n        var otherGrids = this.gridOptionsWrapper.getAlignedGrids();\n        if (otherGrids) {\n            otherGrids.forEach(function (otherGridOptions) {\n                if (otherGridOptions.api) {\n                    var alignedGridService = otherGridOptions.api.__getAlignedGridService();\n                    callback(alignedGridService);\n                }\n            });\n        }\n    };\n    // common logic across all consume methods. very little common logic, however extracting\n    // guarantees consistency across the methods.\n    AlignedGridsService.prototype.onEvent = function (callback) {\n        this.consuming = true;\n        callback();\n        this.consuming = false;\n    };\n    AlignedGridsService.prototype.fireColumnEvent = function (event) {\n        this.fireEvent(function (alignedGridsService) {\n            alignedGridsService.onColumnEvent(event);\n        });\n    };\n    AlignedGridsService.prototype.fireScrollEvent = function (event) {\n        if (event.direction !== 'horizontal') {\n            return;\n        }\n        this.fireEvent(function (alignedGridsService) {\n            alignedGridsService.onScrollEvent(event);\n        });\n    };\n    AlignedGridsService.prototype.onScrollEvent = function (event) {\n        var _this = this;\n        this.onEvent(function () {\n            _this.gridPanel.setHorizontalScrollPosition(event.left);\n        });\n    };\n    AlignedGridsService.prototype.getMasterColumns = function (event) {\n        var result = [];\n        if (event.columns) {\n            event.columns.forEach(function (column) {\n                result.push(column);\n            });\n        }\n        else if (event.column) {\n            result.push(event.column);\n        }\n        return result;\n    };\n    AlignedGridsService.prototype.getColumnIds = function (event) {\n        var result = [];\n        if (event.columns) {\n            event.columns.forEach(function (column) {\n                result.push(column.getColId());\n            });\n        }\n        else if (event.column) {\n            result.push(event.column.getColId());\n        }\n        return result;\n    };\n    AlignedGridsService.prototype.onColumnEvent = function (event) {\n        var _this = this;\n        this.onEvent(function () {\n            switch (event.type) {\n                case Events.EVENT_COLUMN_MOVED:\n                case Events.EVENT_COLUMN_VISIBLE:\n                case Events.EVENT_COLUMN_PINNED:\n                case Events.EVENT_COLUMN_RESIZED:\n                    var colEvent = event;\n                    _this.processColumnEvent(colEvent);\n                    break;\n                case Events.EVENT_COLUMN_GROUP_OPENED:\n                    var groupOpenedEvent = event;\n                    _this.processGroupOpenedEvent(groupOpenedEvent);\n                    break;\n                case Events.EVENT_COLUMN_PIVOT_CHANGED:\n                    // we cannot support pivoting with aligned grids as the columns will be out of sync as the\n                    // grids will have columns created based on the row data of the grid.\n                    console.warn('ag-Grid: pivoting is not supported with aligned grids. ' +\n                        'You can only use one of these features at a time in a grid.');\n                    break;\n            }\n        });\n    };\n    AlignedGridsService.prototype.processGroupOpenedEvent = function (groupOpenedEvent) {\n        // likewise for column group\n        var masterColumnGroup = groupOpenedEvent.columnGroup;\n        var otherColumnGroup;\n        if (masterColumnGroup) {\n            var groupId = masterColumnGroup.getGroupId();\n            otherColumnGroup = this.columnController.getOriginalColumnGroup(groupId);\n        }\n        if (masterColumnGroup && !otherColumnGroup) {\n            return;\n        }\n        this.logger.log('onColumnEvent-> processing ' + groupOpenedEvent + ' expanded = ' + masterColumnGroup.isExpanded());\n        this.columnController.setColumnGroupOpened(otherColumnGroup, masterColumnGroup.isExpanded(), \"alignedGridChanged\");\n    };\n    AlignedGridsService.prototype.processColumnEvent = function (colEvent) {\n        var _this = this;\n        // the column in the event is from the master grid. need to\n        // look up the equivalent from this (other) grid\n        var masterColumn = colEvent.column;\n        var otherColumn;\n        if (masterColumn) {\n            otherColumn = this.columnController.getPrimaryColumn(masterColumn.getColId());\n        }\n        // if event was with respect to a master column, that is not present in this\n        // grid, then we ignore the event\n        if (masterColumn && !otherColumn) {\n            return;\n        }\n        // in time, all the methods below should use the column ids, it's a more generic way\n        // of handling columns, and also allows for single or multi column events\n        var columnIds = this.getColumnIds(colEvent);\n        var masterColumns = this.getMasterColumns(colEvent);\n        switch (colEvent.type) {\n            case Events.EVENT_COLUMN_MOVED:\n                var movedEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" toIndex = \" + movedEvent.toIndex);\n                this.columnController.moveColumns(columnIds, movedEvent.toIndex, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_VISIBLE:\n                var visibleEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" visible = \" + visibleEvent.visible);\n                this.columnController.setColumnsVisible(columnIds, visibleEvent.visible, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_PINNED:\n                var pinnedEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" pinned = \" + pinnedEvent.pinned);\n                this.columnController.setColumnsPinned(columnIds, pinnedEvent.pinned, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_RESIZED:\n                var resizedEvent_1 = colEvent;\n                masterColumns.forEach(function (column) {\n                    _this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" actualWidth = \" + column.getActualWidth());\n                    var columnWidths = [{ key: column.getColId(), newWidth: column.getActualWidth() }];\n                    _this.columnController.setColumnWidths(columnWidths, false, resizedEvent_1.finished, \"alignedGridChanged\");\n                });\n                break;\n        }\n        var isVerticalScrollShowing = this.gridPanel.isVerticalScrollShowing();\n        var alignedGrids = this.gridOptionsWrapper.getAlignedGrids();\n        alignedGrids.forEach(function (grid) {\n            grid.api.setAlwaysShowVerticalScroll(isVerticalScrollShowing);\n        });\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AlignedGridsService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], AlignedGridsService.prototype, \"columnController\", void 0);\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], AlignedGridsService.prototype, \"setBeans\", null);\n    __decorate([\n        PostConstruct\n    ], AlignedGridsService.prototype, \"init\", null);\n    AlignedGridsService = __decorate([\n        Bean('alignedGridsService')\n    ], AlignedGridsService);\n    return AlignedGridsService;\n}(BeanStub));\nexport { AlignedGridsService };\n","import { _, Events, RowNode } from \"@ag-grid-community/core\";\nvar ClientSideNodeManager = /** @class */ (function () {\n    function ClientSideNodeManager(rootNode, gridOptionsWrapper, context, eventService, columnController, gridApi, columnApi, selectionController) {\n        this.nextId = 0;\n        // when user is provide the id's, we also keep a map of ids to row nodes for convenience\n        this.allNodesMap = {};\n        this.rootNode = rootNode;\n        this.gridOptionsWrapper = gridOptionsWrapper;\n        this.context = context;\n        this.eventService = eventService;\n        this.columnController = columnController;\n        this.gridApi = gridApi;\n        this.columnApi = columnApi;\n        this.selectionController = selectionController;\n        this.rootNode.group = true;\n        this.rootNode.level = -1;\n        this.rootNode.id = ClientSideNodeManager.ROOT_NODE_ID;\n        this.rootNode.allLeafChildren = [];\n        this.rootNode.childrenAfterGroup = [];\n        this.rootNode.childrenAfterSort = [];\n        this.rootNode.childrenAfterFilter = [];\n        // if we make this class a bean, then can annotate postConstruct\n        this.postConstruct();\n    }\n    // @PostConstruct - this is not a bean, so postConstruct called by constructor\n    ClientSideNodeManager.prototype.postConstruct = function () {\n        // func below doesn't have 'this' pointer, so need to pull out these bits\n        this.suppressParentsInRowNodes = this.gridOptionsWrapper.isSuppressParentsInRowNodes();\n        this.isRowMasterFunc = this.gridOptionsWrapper.getIsRowMasterFunc();\n        this.doingTreeData = this.gridOptionsWrapper.isTreeData();\n        this.doingMasterDetail = this.gridOptionsWrapper.isMasterDetail();\n    };\n    ClientSideNodeManager.prototype.getCopyOfNodesMap = function () {\n        return _.cloneObject(this.allNodesMap);\n    };\n    ClientSideNodeManager.prototype.getRowNode = function (id) {\n        return this.allNodesMap[id];\n    };\n    ClientSideNodeManager.prototype.setRowData = function (rowData) {\n        this.rootNode.childrenAfterFilter = null;\n        this.rootNode.childrenAfterGroup = null;\n        this.rootNode.childrenAfterSort = null;\n        this.rootNode.childrenMapped = null;\n        this.rootNode.updateHasChildren();\n        this.nextId = 0;\n        this.allNodesMap = {};\n        if (!rowData) {\n            this.rootNode.allLeafChildren = [];\n            this.rootNode.childrenAfterGroup = [];\n            return;\n        }\n        // kick off recursion\n        // we add rootNode as the parent, however if using ag-grid-enterprise, the grouping stage\n        // sets the parent node on each row (even if we are not grouping). so setting parent node\n        // here is for benefit of ag-grid-community users\n        this.rootNode.allLeafChildren = this.recursiveFunction(rowData, this.rootNode, ClientSideNodeManager.TOP_LEVEL);\n    };\n    ClientSideNodeManager.prototype.updateRowData = function (rowDataTran, rowNodeOrder) {\n        var rowNodeTransaction = {\n            remove: [],\n            update: [],\n            add: []\n        };\n        var nodesToUnselect = [];\n        this.executeAdd(rowDataTran, rowNodeTransaction);\n        this.executeRemove(rowDataTran, rowNodeTransaction, nodesToUnselect);\n        this.executeUpdate(rowDataTran, rowNodeTransaction, nodesToUnselect);\n        this.updateSelection(nodesToUnselect);\n        if (rowNodeOrder) {\n            _.sortRowNodesByOrder(this.rootNode.allLeafChildren, rowNodeOrder);\n        }\n        return rowNodeTransaction;\n    };\n    ClientSideNodeManager.prototype.updateSelection = function (nodesToUnselect) {\n        var selectionChanged = nodesToUnselect.length > 0;\n        if (selectionChanged) {\n            nodesToUnselect.forEach(function (rowNode) {\n                rowNode.setSelected(false, false, true);\n            });\n        }\n        // we do this regardless of nodes to unselect or not, as it's possible\n        // a new node was inserted, so a parent that was previously selected (as all\n        // children were selected) should not be tri-state (as new one unselected against\n        // all other selected children).\n        this.selectionController.updateGroupsFromChildrenSelections();\n        if (selectionChanged) {\n            var event_1 = {\n                type: Events.EVENT_SELECTION_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    ClientSideNodeManager.prototype.executeAdd = function (rowDataTran, rowNodeTransaction) {\n        var _this = this;\n        var add = rowDataTran.add, addIndex = rowDataTran.addIndex;\n        if (_.missingOrEmpty(add)) {\n            return;\n        }\n        var useIndex = typeof addIndex === 'number' && addIndex >= 0;\n        if (useIndex) {\n            // items get inserted in reverse order for index insertion\n            add.reverse().forEach(function (item) {\n                var newRowNode = _this.addRowNode(item, addIndex);\n                rowNodeTransaction.add.push(newRowNode);\n            });\n        }\n        else {\n            add.forEach(function (item) {\n                var newRowNode = _this.addRowNode(item);\n                rowNodeTransaction.add.push(newRowNode);\n            });\n        }\n    };\n    ClientSideNodeManager.prototype.executeRemove = function (rowDataTran, rowNodeTransaction, nodesToUnselect) {\n        var _this = this;\n        var remove = rowDataTran.remove;\n        if (_.missingOrEmpty(remove)) {\n            return;\n        }\n        var rowIdsRemoved = {};\n        remove.forEach(function (item) {\n            var rowNode = _this.lookupRowNode(item);\n            if (!rowNode) {\n                return;\n            }\n            // do delete - setting 'suppressFinishActions = true' to ensure EVENT_SELECTION_CHANGED is not raised for\n            // each row node updated, instead it is raised once by the calling code if any selected nodes exist.\n            if (rowNode.isSelected()) {\n                nodesToUnselect.push(rowNode);\n            }\n            // so row renderer knows to fade row out (and not reposition it)\n            rowNode.clearRowTop();\n            // NOTE: were we could remove from allLeaveChildren, however _.removeFromArray() is expensive, especially\n            // if called multiple times (eg deleting lots of rows) and if allLeafChildren is a large list\n            rowIdsRemoved[rowNode.id] = true;\n            // _.removeFromArray(this.rootNode.allLeafChildren, rowNode);\n            delete _this.allNodesMap[rowNode.id];\n            rowNodeTransaction.remove.push(rowNode);\n        });\n        this.rootNode.allLeafChildren = this.rootNode.allLeafChildren.filter(function (rowNode) { return !rowIdsRemoved[rowNode.id]; });\n    };\n    ClientSideNodeManager.prototype.executeUpdate = function (rowDataTran, rowNodeTransaction, nodesToUnselect) {\n        var _this = this;\n        var update = rowDataTran.update;\n        if (_.missingOrEmpty(update)) {\n            return;\n        }\n        update.forEach(function (item) {\n            var rowNode = _this.lookupRowNode(item);\n            if (!rowNode) {\n                return;\n            }\n            rowNode.updateData(item);\n            if (!rowNode.selectable && rowNode.isSelected()) {\n                nodesToUnselect.push(rowNode);\n            }\n            _this.setMasterForRow(rowNode, item, ClientSideNodeManager.TOP_LEVEL, false);\n            rowNodeTransaction.update.push(rowNode);\n        });\n    };\n    ClientSideNodeManager.prototype.addRowNode = function (data, index) {\n        var newNode = this.createNode(data, this.rootNode, ClientSideNodeManager.TOP_LEVEL);\n        if (_.exists(index)) {\n            _.insertIntoArray(this.rootNode.allLeafChildren, newNode, index);\n        }\n        else {\n            this.rootNode.allLeafChildren.push(newNode);\n        }\n        return newNode;\n    };\n    ClientSideNodeManager.prototype.lookupRowNode = function (data) {\n        var rowNodeIdFunc = this.gridOptionsWrapper.getRowNodeIdFunc();\n        var rowNode;\n        if (_.exists(rowNodeIdFunc)) {\n            // find rowNode using id\n            var id = rowNodeIdFunc(data);\n            rowNode = this.allNodesMap[id];\n            if (!rowNode) {\n                console.error(\"ag-Grid: could not find row id=\" + id + \", data item was not found for this id\");\n                return null;\n            }\n        }\n        else {\n            // find rowNode using object references\n            rowNode = _.find(this.rootNode.allLeafChildren, function (rowNode) { return rowNode.data === data; });\n            if (!rowNode) {\n                console.error(\"ag-Grid: could not find data item as object was not found\", data);\n                return null;\n            }\n        }\n        return rowNode;\n    };\n    ClientSideNodeManager.prototype.recursiveFunction = function (rowData, parent, level) {\n        var _this = this;\n        // make sure the rowData is an array and not a string of json - this was a commonly reported problem on the forum\n        if (typeof rowData === 'string') {\n            console.warn('ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first');\n            return;\n        }\n        var rowNodes = [];\n        rowData.forEach(function (dataItem) {\n            var node = _this.createNode(dataItem, parent, level);\n            rowNodes.push(node);\n        });\n        return rowNodes;\n    };\n    ClientSideNodeManager.prototype.createNode = function (dataItem, parent, level) {\n        var node = new RowNode();\n        this.context.createBean(node);\n        node.group = false;\n        this.setMasterForRow(node, dataItem, level, true);\n        if (parent && !this.suppressParentsInRowNodes) {\n            node.parent = parent;\n        }\n        node.level = level;\n        node.setDataAndId(dataItem, this.nextId.toString());\n        if (this.allNodesMap[node.id]) {\n            console.warn(\"ag-grid: duplicate node id '\" + node.id + \"' detected from getRowNodeId callback, this could cause issues in your grid.\");\n        }\n        this.allNodesMap[node.id] = node;\n        this.nextId++;\n        return node;\n    };\n    ClientSideNodeManager.prototype.setMasterForRow = function (rowNode, data, level, setExpanded) {\n        if (this.doingTreeData) {\n            rowNode.setMaster(false);\n            if (setExpanded) {\n                rowNode.expanded = false;\n            }\n        }\n        else {\n            // this is the default, for when doing grid data\n            if (this.doingMasterDetail) {\n                // if we are doing master detail, then the\n                // default is that everything can be a Master Row.\n                if (this.isRowMasterFunc) {\n                    rowNode.setMaster(this.isRowMasterFunc(data));\n                }\n                else {\n                    rowNode.setMaster(true);\n                }\n            }\n            else {\n                rowNode.setMaster(false);\n            }\n            if (setExpanded) {\n                var rowGroupColumns = this.columnController.getRowGroupColumns();\n                var numRowGroupColumns = rowGroupColumns ? rowGroupColumns.length : 0;\n                // need to take row group into account when determining level\n                var masterRowLevel = level + numRowGroupColumns;\n                rowNode.expanded = rowNode.master ? this.isExpanded(masterRowLevel) : false;\n            }\n        }\n    };\n    ClientSideNodeManager.prototype.isExpanded = function (level) {\n        var expandByDefault = this.gridOptionsWrapper.getGroupDefaultExpanded();\n        if (expandByDefault === -1) {\n            return true;\n        }\n        else {\n            return level < expandByDefault;\n        }\n    };\n    // this is only used for doing legacy tree data\n    ClientSideNodeManager.prototype.setLeafChildren = function (node) {\n        node.allLeafChildren = [];\n        if (node.childrenAfterGroup) {\n            node.childrenAfterGroup.forEach(function (childAfterGroup) {\n                if (childAfterGroup.group) {\n                    if (childAfterGroup.allLeafChildren) {\n                        childAfterGroup.allLeafChildren.forEach(function (leafChild) { return node.allLeafChildren.push(leafChild); });\n                    }\n                }\n                else {\n                    node.allLeafChildren.push(childAfterGroup);\n                }\n            });\n        }\n    };\n    ClientSideNodeManager.TOP_LEVEL = 0;\n    ClientSideNodeManager.ROOT_NODE_ID = 'ROOT_NODE_ID';\n    return ClientSideNodeManager;\n}());\nexport { ClientSideNodeManager };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { GridOptionsWrapper } from \"./gridOptionsWrapper\";\nimport { Constants } from \"./constants/constants\";\nimport { Autowired, Bean, Optional, PostConstruct } from \"./context/context\";\nimport { ModuleNames } from \"./modules/moduleNames\";\nimport { ModuleRegistry } from \"./modules/moduleRegistry\";\nimport { iterateObject } from \"./utils/object\";\nimport { exists, missing } from \"./utils/generic\";\nimport { camelCaseToHumanText } from \"./utils/string\";\nimport { doOnce } from \"./utils/function\";\nvar GridApi = /** @class */ (function () {\n    function GridApi() {\n        this.detailGridInfoMap = {};\n        this.destroyCalled = false;\n    }\n    GridApi.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    GridApi.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    GridApi.prototype.registerHeaderRootComp = function (headerRootComp) {\n        this.headerRootComp = headerRootComp;\n    };\n    GridApi.prototype.init = function () {\n        switch (this.rowModel.getType()) {\n            case Constants.ROW_MODEL_TYPE_CLIENT_SIDE:\n                this.clientSideRowModel = this.rowModel;\n                break;\n            case Constants.ROW_MODEL_TYPE_INFINITE:\n                this.infiniteRowModel = this.rowModel;\n                break;\n            case Constants.ROW_MODEL_TYPE_SERVER_SIDE:\n                this.serverSideRowModel = this.rowModel;\n                break;\n        }\n    };\n    /** Used internally by grid. Not intended to be used by the client. Interface may change between releases. */\n    GridApi.prototype.__getAlignedGridService = function () {\n        return this.alignedGridsService;\n    };\n    GridApi.prototype.addDetailGridInfo = function (id, gridInfo) {\n        this.detailGridInfoMap[id] = gridInfo;\n    };\n    GridApi.prototype.removeDetailGridInfo = function (id) {\n        this.detailGridInfoMap[id] = undefined;\n    };\n    GridApi.prototype.getDetailGridInfo = function (id) {\n        return this.detailGridInfoMap[id];\n    };\n    GridApi.prototype.forEachDetailGridInfo = function (callback) {\n        var index = 0;\n        iterateObject(this.detailGridInfoMap, function (id, gridInfo) {\n            // check for undefined, as old references will still be lying around\n            if (exists(gridInfo)) {\n                callback(gridInfo, index);\n                index++;\n            }\n        });\n    };\n    GridApi.prototype.getDataAsCsv = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule, 'api.getDataAsCsv')) {\n            return this.csvCreator.getDataAsCsv(params);\n        }\n    };\n    GridApi.prototype.exportDataAsCsv = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.CsvExportModule, 'api.exportDataAsCSv')) {\n            this.csvCreator.exportDataAsCsv(params);\n        }\n    };\n    GridApi.prototype.getDataAsExcel = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule, 'api.getDataAsExcel')) {\n            return this.excelCreator.getDataAsExcelXml(params);\n        }\n    };\n    GridApi.prototype.exportDataAsExcel = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.ExcelExportModule, 'api.exportDataAsExcel')) {\n            this.excelCreator.exportDataAsExcel(params);\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.setEnterpriseDatasource = function (datasource) {\n        console.warn(\"ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()\");\n        this.setServerSideDatasource(datasource);\n    };\n    GridApi.prototype.setServerSideDatasource = function (datasource) {\n        if (this.gridOptionsWrapper.isRowModelServerSide()) {\n            // should really have an IEnterpriseRowModel interface, so we are not casting to any\n            this.rowModel.setDatasource(datasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_SERVER_SIDE + \"'\");\n        }\n    };\n    GridApi.prototype.setDatasource = function (datasource) {\n        if (this.gridOptionsWrapper.isRowModelInfinite()) {\n            this.rowModel.setDatasource(datasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use a datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_INFINITE + \"'\");\n        }\n    };\n    GridApi.prototype.setViewportDatasource = function (viewportDatasource) {\n        if (this.gridOptionsWrapper.isRowModelViewport()) {\n            // this is bad coding, because it's using an interface that's exposed in the enterprise.\n            // really we should create an interface in the core for viewportDatasource and let\n            // the enterprise implement it, rather than casting to 'any' here\n            this.rowModel.setViewportDatasource(viewportDatasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_VIEWPORT + \"'\");\n        }\n    };\n    GridApi.prototype.setRowData = function (rowData) {\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            if (this.gridOptionsWrapper.isImmutableData()) {\n                var transactionAndMap = this.immutableService.createTransactionForRowData(rowData);\n                if (!transactionAndMap) {\n                    return;\n                }\n                var transaction = transactionAndMap[0], orderIdMap = transactionAndMap[1];\n                var nodeTransaction = this.clientSideRowModel.updateRowData(transaction, orderIdMap);\n                // need to force updating of full width rows - note this wouldn't be necessary the full width cell comp listened\n                // to the data change event on the row node and refreshed itself.\n                this.rowRenderer.refreshFullWidthRows(nodeTransaction.update);\n            }\n            else {\n                this.selectionController.reset();\n                this.clientSideRowModel.setRowData(rowData);\n            }\n        }\n        else {\n            console.warn('cannot call setRowData unless using normal row model');\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.setFloatingTopRowData = function (rows) {\n        console.warn('ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()');\n        this.setPinnedTopRowData(rows);\n    };\n    /** @deprecated */\n    GridApi.prototype.setFloatingBottomRowData = function (rows) {\n        console.warn('ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()');\n        this.setPinnedBottomRowData(rows);\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingTopRowCount = function () {\n        console.warn('ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()');\n        return this.getPinnedTopRowCount();\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingBottomRowCount = function () {\n        console.warn('ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()');\n        return this.getPinnedBottomRowCount();\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingTopRow = function (index) {\n        console.warn('ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()');\n        return this.getPinnedTopRow(index);\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingBottomRow = function (index) {\n        console.warn('ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()');\n        return this.getPinnedBottomRow(index);\n    };\n    GridApi.prototype.setPinnedTopRowData = function (rows) {\n        this.pinnedRowModel.setPinnedTopRowData(rows);\n    };\n    GridApi.prototype.setPinnedBottomRowData = function (rows) {\n        this.pinnedRowModel.setPinnedBottomRowData(rows);\n    };\n    GridApi.prototype.getPinnedTopRowCount = function () {\n        return this.pinnedRowModel.getPinnedTopRowCount();\n    };\n    GridApi.prototype.getPinnedBottomRowCount = function () {\n        return this.pinnedRowModel.getPinnedBottomRowCount();\n    };\n    GridApi.prototype.getPinnedTopRow = function (index) {\n        return this.pinnedRowModel.getPinnedTopRow(index);\n    };\n    GridApi.prototype.getPinnedBottomRow = function (index) {\n        return this.pinnedRowModel.getPinnedBottomRow(index);\n    };\n    GridApi.prototype.setColumnDefs = function (colDefs, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.columnController.setColumnDefs(colDefs, source);\n    };\n    GridApi.prototype.setAutoGroupColumnDef = function (colDef, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.gridOptionsWrapper.setProperty('autoGroupColumnDef', colDef, true);\n    };\n    GridApi.prototype.expireValueCache = function () {\n        this.valueCache.expire();\n    };\n    GridApi.prototype.getVerticalPixelRange = function () {\n        return this.gridPanel.getVScrollPosition();\n    };\n    GridApi.prototype.getHorizontalPixelRange = function () {\n        return this.gridPanel.getHScrollPosition();\n    };\n    GridApi.prototype.setAlwaysShowVerticalScroll = function (show) {\n        this.gridOptionsWrapper.setProperty('alwaysShowVerticalScroll', show);\n    };\n    GridApi.prototype.refreshToolPanel = function () {\n        this.gridCore.refreshSideBar();\n    };\n    GridApi.prototype.refreshCells = function (params) {\n        if (params === void 0) { params = {}; }\n        if (Array.isArray(params)) {\n            // the old version of refreshCells() took an array of rowNodes for the first argument\n            console.warn('since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation.');\n            return;\n        }\n        this.rowRenderer.refreshCells(params);\n    };\n    GridApi.prototype.flashCells = function (params) {\n        if (params === void 0) { params = {}; }\n        this.rowRenderer.flashCells(params);\n    };\n    GridApi.prototype.redrawRows = function (params) {\n        if (params === void 0) { params = {}; }\n        if (params && params.rowNodes) {\n            this.rowRenderer.redrawRows(params.rowNodes);\n        }\n        else {\n            this.rowRenderer.redrawAfterModelUpdate();\n        }\n    };\n    GridApi.prototype.timeFullRedraw = function (count) {\n        if (count === void 0) { count = 1; }\n        var iterationCount = 0;\n        var totalProcessing = 0;\n        var totalReflow = 0;\n        var that = this;\n        doOneIteration();\n        function doOneIteration() {\n            var start = (new Date()).getTime();\n            that.rowRenderer.redrawAfterModelUpdate();\n            var endProcessing = (new Date()).getTime();\n            window.setTimeout(function () {\n                var endReflow = (new Date()).getTime();\n                var durationProcessing = endProcessing - start;\n                var durationReflow = endReflow - endProcessing;\n                // tslint:disable-next-line\n                console.log('duration:  processing = ' + durationProcessing + 'ms, reflow = ' + durationReflow + 'ms');\n                iterationCount++;\n                totalProcessing += durationProcessing;\n                totalReflow += durationReflow;\n                if (iterationCount < count) {\n                    // wait for 1s between tests\n                    window.setTimeout(doOneIteration, 1000);\n                }\n                else {\n                    finish();\n                }\n            }, 0);\n        }\n        function finish() {\n            // tslint:disable-next-line\n            console.log('tests complete. iteration count = ' + iterationCount);\n            // tslint:disable-next-line\n            console.log('average processing = ' + (totalProcessing / iterationCount) + 'ms');\n            // tslint:disable-next-line\n            console.log('average reflow = ' + (totalReflow / iterationCount) + 'ms');\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshView = function () {\n        console.warn('ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead');\n        this.redrawRows();\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshRows = function (rowNodes) {\n        console.warn('since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead');\n        this.refreshCells({ rowNodes: rowNodes });\n    };\n    /** @deprecated */\n    GridApi.prototype.rowDataChanged = function (rows) {\n        console.warn('ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node');\n        this.redrawRows();\n    };\n    /** @deprecated */\n    GridApi.prototype.softRefreshView = function () {\n        console.error('ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.');\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshGroupRows = function () {\n        console.warn('ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. ' +\n            'Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should ' +\n            'not be necessary to only refresh the group rows.');\n        this.refreshCells();\n    };\n    GridApi.prototype.setFunctionsReadOnly = function (readOnly) {\n        this.gridOptionsWrapper.setProperty('functionsReadOnly', readOnly);\n    };\n    GridApi.prototype.refreshHeader = function () {\n        this.headerRootComp.refreshHeader();\n        this.gridPanel.setHeaderAndFloatingHeights();\n    };\n    GridApi.prototype.isAnyFilterPresent = function () {\n        return this.filterManager.isAnyFilterPresent();\n    };\n    /** @deprecated */\n    GridApi.prototype.isAdvancedFilterPresent = function () {\n        console.warn('ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()');\n        return this.isColumnFilterPresent();\n    };\n    GridApi.prototype.isColumnFilterPresent = function () {\n        return this.filterManager.isAdvancedFilterPresent();\n    };\n    GridApi.prototype.isQuickFilterPresent = function () {\n        return this.filterManager.isQuickFilterPresent();\n    };\n    GridApi.prototype.getModel = function () {\n        return this.rowModel;\n    };\n    GridApi.prototype.setRowNodeExpanded = function (rowNode, expanded) {\n        if (rowNode) {\n            rowNode.setExpanded(expanded);\n        }\n    };\n    GridApi.prototype.onGroupExpandedOrCollapsed = function (deprecated_refreshFromIndex) {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model');\n        }\n        if (exists(deprecated_refreshFromIndex)) {\n            console.warn('ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows');\n        }\n        // we don't really want the user calling this if only one rowNode was expanded, instead they should be\n        // calling rowNode.setExpanded(boolean) - this way we do a 'keepRenderedRows=false' so that the whole\n        // grid gets refreshed again - otherwise the row with the rowNodes that were changed won't get updated,\n        // and thus the expand icon in the group cell won't get 'opened' or 'closed'.\n        this.clientSideRowModel.refreshModel({ step: Constants.STEP_MAP });\n    };\n    GridApi.prototype.refreshInMemoryRowModel = function (step) {\n        console.warn(\"ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()\");\n        this.refreshClientSideRowModel(step);\n    };\n    GridApi.prototype.refreshClientSideRowModel = function (step) {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('cannot call refreshClientSideRowModel unless using normal row model');\n        }\n        var paramsStep = Constants.STEP_EVERYTHING;\n        var stepsMapped = {\n            group: Constants.STEP_EVERYTHING,\n            filter: Constants.STEP_FILTER,\n            map: Constants.STEP_MAP,\n            aggregate: Constants.STEP_AGGREGATE,\n            sort: Constants.STEP_SORT,\n            pivot: Constants.STEP_PIVOT\n        };\n        if (exists(step)) {\n            paramsStep = stepsMapped[step];\n        }\n        if (missing(paramsStep)) {\n            console.error(\"ag-Grid: invalid step \" + step + \", available steps are \" + Object.keys(stepsMapped).join(', '));\n            return;\n        }\n        var modelParams = {\n            step: paramsStep,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        };\n        this.clientSideRowModel.refreshModel(modelParams);\n    };\n    GridApi.prototype.isAnimationFrameQueueEmpty = function () {\n        return this.animationFrameService.isQueueEmpty();\n    };\n    GridApi.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    GridApi.prototype.getSizesForCurrentTheme = function () {\n        return {\n            rowHeight: this.gridOptionsWrapper.getRowHeightAsNumber(),\n            headerHeight: this.gridOptionsWrapper.getHeaderHeight()\n        };\n    };\n    GridApi.prototype.expandAll = function () {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call expandAll unless using normal row model');\n            return;\n        }\n        this.clientSideRowModel.expandOrCollapseAll(true);\n    };\n    GridApi.prototype.collapseAll = function () {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call collapseAll unless using normal row model');\n            return;\n        }\n        this.clientSideRowModel.expandOrCollapseAll(false);\n    };\n    GridApi.prototype.getToolPanelInstance = function (id) {\n        return this.gridCore.getToolPanelInstance(id);\n    };\n    GridApi.prototype.addVirtualRowListener = function (eventName, rowIndex, callback) {\n        if (typeof eventName !== 'string') {\n            console.warn('ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener.');\n        }\n        this.addRenderedRowListener(eventName, rowIndex, callback);\n    };\n    GridApi.prototype.addRenderedRowListener = function (eventName, rowIndex, callback) {\n        if (eventName === 'virtualRowSelected') {\n            console.warn(\"ag-Grid: event virtualRowSelected is deprecated, to register for individual row\\n                selection events, add a listener directly to the row node.\");\n        }\n        this.rowRenderer.addRenderedRowListener(eventName, rowIndex, callback);\n    };\n    GridApi.prototype.setQuickFilter = function (newFilter) {\n        this.filterManager.setQuickFilter(newFilter);\n    };\n    GridApi.prototype.selectIndex = function (index, tryMulti, suppressEvents) {\n        console.warn('ag-Grid: do not use api for selection, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        this.selectionController.selectIndex(index, tryMulti);\n    };\n    GridApi.prototype.deselectIndex = function (index, suppressEvents) {\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: do not use api for selection, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        this.selectionController.deselectIndex(index);\n    };\n    GridApi.prototype.selectNode = function (node, tryMulti, suppressEvents) {\n        if (tryMulti === void 0) { tryMulti = false; }\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: API for selection is deprecated, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        node.setSelectedParams({ newValue: true, clearSelection: !tryMulti });\n    };\n    GridApi.prototype.deselectNode = function (node, suppressEvents) {\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: API for selection is deprecated, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        node.setSelectedParams({ newValue: false });\n    };\n    GridApi.prototype.selectAll = function () {\n        this.selectionController.selectAllRowNodes();\n    };\n    GridApi.prototype.deselectAll = function () {\n        this.selectionController.deselectAllRowNodes();\n    };\n    GridApi.prototype.selectAllFiltered = function () {\n        this.selectionController.selectAllRowNodes(true);\n    };\n    GridApi.prototype.deselectAllFiltered = function () {\n        this.selectionController.deselectAllRowNodes(true);\n    };\n    GridApi.prototype.recomputeAggregates = function () {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('cannot call recomputeAggregates unless using normal row model');\n        }\n        console.warn(\"recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead\");\n        this.clientSideRowModel.refreshModel({ step: Constants.STEP_AGGREGATE });\n    };\n    GridApi.prototype.sizeColumnsToFit = function () {\n        this.gridPanel.sizeColumnsToFit();\n    };\n    GridApi.prototype.showLoadingOverlay = function () {\n        this.gridPanel.showLoadingOverlay();\n    };\n    GridApi.prototype.showNoRowsOverlay = function () {\n        this.gridPanel.showNoRowsOverlay();\n    };\n    GridApi.prototype.hideOverlay = function () {\n        this.gridPanel.hideOverlay();\n    };\n    GridApi.prototype.isNodeSelected = function (node) {\n        console.warn('ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead');\n        return node.isSelected();\n    };\n    GridApi.prototype.getSelectedNodesById = function () {\n        console.error('ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead');\n        return null;\n    };\n    GridApi.prototype.getSelectedNodes = function () {\n        return this.selectionController.getSelectedNodes();\n    };\n    GridApi.prototype.getSelectedRows = function () {\n        return this.selectionController.getSelectedRows();\n    };\n    GridApi.prototype.getBestCostNodeSelection = function () {\n        return this.selectionController.getBestCostNodeSelection();\n    };\n    GridApi.prototype.getRenderedNodes = function () {\n        return this.rowRenderer.getRenderedNodes();\n    };\n    GridApi.prototype.ensureColIndexVisible = function (index) {\n        console.warn('ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.');\n    };\n    GridApi.prototype.ensureColumnVisible = function (key) {\n        this.gridPanel.ensureColumnVisible(key);\n    };\n    // Valid values for position are bottom, middle and top\n    GridApi.prototype.ensureIndexVisible = function (index, position) {\n        this.gridPanel.ensureIndexVisible(index, position);\n    };\n    // Valid values for position are bottom, middle and top\n    GridApi.prototype.ensureNodeVisible = function (comparator, position) {\n        this.gridCore.ensureNodeVisible(comparator, position);\n    };\n    GridApi.prototype.forEachLeafNode = function (callback) {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNode unless using normal row model');\n        }\n        this.clientSideRowModel.forEachLeafNode(callback);\n    };\n    GridApi.prototype.forEachNode = function (callback) {\n        this.rowModel.forEachNode(callback);\n    };\n    GridApi.prototype.forEachNodeAfterFilter = function (callback) {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNodeAfterFilter unless using normal row model');\n        }\n        this.clientSideRowModel.forEachNodeAfterFilter(callback);\n    };\n    GridApi.prototype.forEachNodeAfterFilterAndSort = function (callback) {\n        if (missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNodeAfterFilterAndSort unless using normal row model');\n        }\n        this.clientSideRowModel.forEachNodeAfterFilterAndSort(callback);\n    };\n    GridApi.prototype.getFilterApiForColDef = function (colDef) {\n        console.warn('ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead');\n        return this.getFilterInstance(colDef);\n    };\n    GridApi.prototype.getFilterInstance = function (key, callback) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            var filterPromise = this.filterManager.getFilterComponent(column, 'NO_UI');\n            var currentValue = filterPromise.resolveNow(null, function (filterComp) { return filterComp; });\n            if (callback) {\n                if (currentValue) {\n                    setTimeout(callback, 0, currentValue);\n                }\n                else {\n                    filterPromise.then(callback);\n                }\n            }\n            return currentValue;\n        }\n    };\n    GridApi.prototype.getFilterApi = function (key) {\n        console.warn('ag-Grid: getFilterApi is deprecated, use getFilterInstance instead');\n        return this.getFilterInstance(key);\n    };\n    GridApi.prototype.destroyFilter = function (key) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            return this.filterManager.destroyFilter(column, \"filterDestroyed\");\n        }\n    };\n    GridApi.prototype.getStatusPanel = function (key) {\n        if (this.statusBarService) {\n            return this.statusBarService.getStatusPanel(key);\n        }\n    };\n    GridApi.prototype.getColumnDef = function (key) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            return column.getColDef();\n        }\n        return null;\n    };\n    GridApi.prototype.getColumnDefs = function () { return this.columnController.getColumnDefs(); };\n    GridApi.prototype.onFilterChanged = function () {\n        this.filterManager.onFilterChanged();\n    };\n    GridApi.prototype.onSortChanged = function () {\n        this.sortController.onSortChanged();\n    };\n    GridApi.prototype.setSortModel = function (sortModel, source) {\n        if (source === void 0) { source = \"api\"; }\n        console.warn('ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.');\n        var columnState = [];\n        if (sortModel) {\n            sortModel.forEach(function (item, index) {\n                columnState.push({\n                    colId: item.colId,\n                    sort: item.sort,\n                    sortIndex: index\n                });\n            });\n        }\n        this.columnController.applyColumnState({ state: columnState, defaultState: { sort: null } });\n    };\n    GridApi.prototype.getSortModel = function () {\n        console.warn('ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.');\n        var columnState = this.columnController.getColumnState();\n        var filteredStates = columnState.filter(function (item) { return item.sort != null; });\n        var indexes = {};\n        filteredStates.forEach(function (state) { return indexes[state.colId] = state.sortIndex; });\n        var res = filteredStates.map(function (s) {\n            return { colId: s.colId, sort: s.sort };\n        });\n        res.sort(function (a, b) { return indexes[a.colId] - indexes[b.colId]; });\n        return res;\n    };\n    GridApi.prototype.setFilterModel = function (model) {\n        this.filterManager.setFilterModel(model);\n    };\n    GridApi.prototype.getFilterModel = function () {\n        return this.filterManager.getFilterModel();\n    };\n    GridApi.prototype.getFocusedCell = function () {\n        return this.focusController.getFocusedCell();\n    };\n    GridApi.prototype.clearFocusedCell = function () {\n        return this.focusController.clearFocusedCell();\n    };\n    GridApi.prototype.setFocusedCell = function (rowIndex, colKey, floating) {\n        this.focusController.setFocusedCell(rowIndex, colKey, floating, true);\n    };\n    GridApi.prototype.setSuppressRowDrag = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG, value);\n    };\n    GridApi.prototype.setSuppressMoveWhenRowDragging = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG, value);\n    };\n    GridApi.prototype.setSuppressRowClickSelection = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION, value);\n    };\n    GridApi.prototype.addRowDropZone = function (params) {\n        this.gridPanel.getRowDragFeature().addRowDropZone(params);\n    };\n    GridApi.prototype.removeRowDropZone = function (params) {\n        var activeDropTarget = this.dragAndDropService.findExternalZone(params);\n        if (activeDropTarget) {\n            this.dragAndDropService.removeDropTarget(activeDropTarget);\n        }\n    };\n    GridApi.prototype.getRowDropZoneParams = function (events) {\n        return this.gridPanel.getRowDragFeature().getRowDropZone(events);\n    };\n    GridApi.prototype.setHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setDomLayout = function (domLayout) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOM_LAYOUT, domLayout);\n    };\n    GridApi.prototype.setEnableCellTextSelection = function (selectable) {\n        this.gridPanel.setCellTextSelection(selectable);\n    };\n    GridApi.prototype.setFillHandleDirection = function (direction) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION, direction);\n    };\n    GridApi.prototype.setGroupHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setFloatingFiltersHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setPivotGroupHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setPivotHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.isSideBarVisible = function () {\n        return this.gridCore.isSideBarVisible();\n    };\n    GridApi.prototype.setSideBarVisible = function (show) {\n        this.gridCore.setSideBarVisible(show);\n    };\n    GridApi.prototype.setSideBarPosition = function (position) {\n        this.gridCore.setSideBarPosition(position);\n    };\n    GridApi.prototype.openToolPanel = function (key) {\n        this.gridCore.openToolPanel(key);\n    };\n    GridApi.prototype.closeToolPanel = function () {\n        this.gridCore.closeToolPanel();\n    };\n    GridApi.prototype.getOpenedToolPanel = function () {\n        return this.gridCore.getOpenedToolPanel();\n    };\n    GridApi.prototype.getSideBar = function () {\n        return this.gridCore.getSideBar();\n    };\n    GridApi.prototype.setSideBar = function (def) {\n        return this.gridCore.setSideBar(def);\n    };\n    GridApi.prototype.setSuppressClipboardPaste = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE, value);\n    };\n    GridApi.prototype.isToolPanelShowing = function () {\n        return this.gridCore.isToolPanelShowing();\n    };\n    GridApi.prototype.doLayout = function () {\n        this.gridPanel.checkViewportAndScrolls();\n    };\n    GridApi.prototype.resetRowHeights = function () {\n        if (exists(this.clientSideRowModel)) {\n            this.clientSideRowModel.resetRowHeights();\n        }\n    };\n    GridApi.prototype.setGroupRemoveSingleChildren = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN, value);\n    };\n    GridApi.prototype.setGroupRemoveLowestSingleChildren = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN, value);\n    };\n    GridApi.prototype.onRowHeightChanged = function () {\n        if (this.clientSideRowModel) {\n            this.clientSideRowModel.onRowHeightChanged();\n        }\n        else if (this.serverSideRowModel) {\n            this.serverSideRowModel.onRowHeightChanged();\n        }\n    };\n    GridApi.prototype.getValue = function (colKey, rowNode) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        if (missing(column)) {\n            column = this.columnController.getGridColumn(colKey);\n        }\n        if (missing(column)) {\n            return null;\n        }\n        return this.valueService.getValue(column, rowNode);\n    };\n    GridApi.prototype.addEventListener = function (eventType, listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.addEventListener(eventType, listener, async);\n    };\n    GridApi.prototype.addGlobalListener = function (listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.addGlobalListener(listener, async);\n    };\n    GridApi.prototype.removeEventListener = function (eventType, listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.removeEventListener(eventType, listener, async);\n    };\n    GridApi.prototype.removeGlobalListener = function (listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.removeGlobalListener(listener, async);\n    };\n    GridApi.prototype.dispatchEvent = function (event) {\n        this.eventService.dispatchEvent(event);\n    };\n    GridApi.prototype.destroy = function () {\n        // this is needed as GridAPI is a bean, and GridAPI.destroy() is called as part\n        // of context.destroy(). so we need to stop the infinite loop.\n        if (this.destroyCalled) {\n            return;\n        }\n        this.destroyCalled = true;\n        // destroy the UI first (as they use the services)\n        this.context.destroyBean(this.gridCore);\n        // destroy the services\n        this.context.destroy();\n    };\n    GridApi.prototype.resetQuickFilter = function () {\n        this.rowModel.forEachNode(function (node) { return node.quickFilterAggregateText = null; });\n    };\n    GridApi.prototype.getRangeSelections = function () {\n        console.warn(\"ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\\n        getCellRanges() is a bit different, please check the ag-Grid documentation.\");\n        return null;\n    };\n    GridApi.prototype.getCellRanges = function () {\n        if (this.rangeController) {\n            return this.rangeController.getCellRanges();\n        }\n        console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n        return null;\n    };\n    GridApi.prototype.camelCaseToHumanReadable = function (camelCase) {\n        return camelCaseToHumanText(camelCase);\n    };\n    GridApi.prototype.addRangeSelection = function (deprecatedNoLongerUsed) {\n        console.warn('ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()');\n    };\n    GridApi.prototype.addCellRange = function (params) {\n        if (!this.rangeController) {\n            console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n        }\n        this.rangeController.addCellRange(params);\n    };\n    GridApi.prototype.clearRangeSelection = function () {\n        if (!this.rangeController) {\n            console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n        }\n        this.rangeController.removeAllCellRanges();\n    };\n    GridApi.prototype.undoCellEditing = function () {\n        this.undoRedoService.undo();\n    };\n    GridApi.prototype.redoCellEditing = function () {\n        this.undoRedoService.redo();\n    };\n    GridApi.prototype.getCurrentUndoSize = function () {\n        return this.undoRedoService.getCurrentUndoStackSize();\n    };\n    GridApi.prototype.getCurrentRedoSize = function () {\n        return this.undoRedoService.getCurrentRedoStackSize();\n    };\n    GridApi.prototype.getChartModels = function () {\n        if (ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule, 'api.getChartModels') &&\n            ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule, 'api.getChartModels')) {\n            return this.chartService.getChartModels();\n        }\n    };\n    GridApi.prototype.createRangeChart = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule, 'api.createRangeChart') &&\n            ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule, 'api.createRangeChart')) {\n            return this.chartService.createRangeChart(params);\n        }\n    };\n    GridApi.prototype.createPivotChart = function (params) {\n        if (ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule, 'api.createPivotChart') &&\n            ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule, 'api.createPivotChart')) {\n            return this.chartService.createPivotChart(params);\n        }\n    };\n    GridApi.prototype.copySelectedRowsToClipboard = function (includeHeader, columnKeys) {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copySelectedRowsToClipboard(includeHeader, columnKeys);\n    };\n    GridApi.prototype.copySelectedRangeToClipboard = function (includeHeader) {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copySelectedRangeToClipboard(includeHeader);\n    };\n    GridApi.prototype.copySelectedRangeDown = function () {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copyRangeDown();\n    };\n    GridApi.prototype.showColumnMenuAfterButtonClick = function (colKey, buttonElement) {\n        // use grid column so works with pivot mode\n        var column = this.columnController.getGridColumn(colKey);\n        this.menuFactory.showMenuAfterButtonClick(column, buttonElement);\n    };\n    GridApi.prototype.showColumnMenuAfterMouseClick = function (colKey, mouseEvent) {\n        // use grid column so works with pivot mode\n        var column = this.columnController.getGridColumn(colKey);\n        if (!column) {\n            column = this.columnController.getPrimaryColumn(colKey);\n        }\n        if (!column) {\n            console.error(\"ag-Grid: column '\" + colKey + \"' not found\");\n            return;\n        }\n        this.menuFactory.showMenuAfterMouseEvent(column, mouseEvent);\n    };\n    GridApi.prototype.hidePopupMenu = function () {\n        // hide the context menu if in enterprise\n        if (this.contextMenuFactory) {\n            this.contextMenuFactory.hideActiveMenu();\n        }\n        // and hide the column menu always\n        this.menuFactory.hideActiveMenu();\n    };\n    GridApi.prototype.setPopupParent = function (ePopupParent) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POPUP_PARENT, ePopupParent);\n    };\n    GridApi.prototype.tabToNextCell = function () {\n        return this.rowRenderer.tabToNextCell(false);\n    };\n    GridApi.prototype.tabToPreviousCell = function () {\n        return this.rowRenderer.tabToNextCell(true);\n    };\n    GridApi.prototype.getCellRendererInstances = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.rowRenderer.getCellRendererInstances(params);\n    };\n    GridApi.prototype.getCellEditorInstances = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.rowRenderer.getCellEditorInstances(params);\n    };\n    GridApi.prototype.getEditingCells = function () {\n        return this.rowRenderer.getEditingCells();\n    };\n    GridApi.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.rowRenderer.stopEditing(cancel);\n    };\n    GridApi.prototype.startEditingCell = function (params) {\n        var column = this.columnController.getGridColumn(params.colKey);\n        if (!column) {\n            console.warn(\"ag-Grid: no column found for \" + params.colKey);\n            return;\n        }\n        var cellPosition = {\n            rowIndex: params.rowIndex,\n            rowPinned: params.rowPinned,\n            column: column\n        };\n        var notPinned = missing(params.rowPinned);\n        if (notPinned) {\n            this.gridPanel.ensureIndexVisible(params.rowIndex);\n        }\n        this.rowRenderer.startEditingCell(cellPosition, params.keyPress, params.charPress);\n    };\n    GridApi.prototype.addAggFunc = function (key, aggFunc) {\n        if (this.aggFuncService) {\n            this.aggFuncService.addAggFunc(key, aggFunc);\n        }\n    };\n    GridApi.prototype.addAggFuncs = function (aggFuncs) {\n        if (this.aggFuncService) {\n            this.aggFuncService.addAggFuncs(aggFuncs);\n        }\n    };\n    GridApi.prototype.clearAggFuncs = function () {\n        if (this.aggFuncService) {\n            this.aggFuncService.clear();\n        }\n    };\n    GridApi.prototype.applyTransaction = function (rowDataTransaction) {\n        var res = null;\n        if (this.clientSideRowModel) {\n            if (rowDataTransaction && rowDataTransaction.addIndex != null) {\n                var message_1 = 'ag-Grid: as of v23.1, transaction.addIndex is deprecated. If you want precision control of adding data, use immutableData instead';\n                doOnce(function () { return console.warn(message_1); }, 'transaction.addIndex deprecated');\n            }\n            res = this.clientSideRowModel.updateRowData(rowDataTransaction);\n        }\n        else if (this.infiniteRowModel) {\n            var message_2 = 'ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.';\n            doOnce(function () { return console.warn(message_2); }, 'applyTransaction infiniteRowModel deprecated');\n            this.infiniteRowModel.updateRowData(rowDataTransaction);\n        }\n        else {\n            console.error('ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel.');\n            return;\n        }\n        // refresh all the full width rows\n        this.rowRenderer.refreshFullWidthRows(res.update);\n        // do change detection for all present cells\n        if (!this.gridOptionsWrapper.isSuppressChangeDetection()) {\n            this.rowRenderer.refreshCells();\n        }\n        return res;\n    };\n    /** @deprecated */\n    GridApi.prototype.updateRowData = function (rowDataTransaction) {\n        var message = 'ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.';\n        doOnce(function () { return console.warn(message); }, 'updateRowData deprecated');\n        return this.applyTransaction(rowDataTransaction);\n    };\n    GridApi.prototype.applyTransactionAsync = function (rowDataTransaction, callback) {\n        if (!this.clientSideRowModel) {\n            console.error('ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.');\n            return;\n        }\n        this.clientSideRowModel.batchUpdateRowData(rowDataTransaction, callback);\n    };\n    GridApi.prototype.flushAsyncTransactions = function () {\n        if (!this.clientSideRowModel) {\n            console.error('ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.');\n            return;\n        }\n        this.clientSideRowModel.flushAsyncTransactions();\n    };\n    /** @deprecated */\n    GridApi.prototype.batchUpdateRowData = function (rowDataTransaction, callback) {\n        var message = 'ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.';\n        doOnce(function () { return console.warn(message); }, 'batchUpdateRowData deprecated');\n        this.applyTransactionAsync(rowDataTransaction, callback);\n    };\n    GridApi.prototype.insertItemsAtIndex = function (index, items, skipRefresh) {\n        if (skipRefresh === void 0) { skipRefresh = false; }\n        console.warn('ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead.');\n        this.updateRowData({ add: items, addIndex: index, update: null, remove: null });\n    };\n    GridApi.prototype.removeItems = function (rowNodes, skipRefresh) {\n        if (skipRefresh === void 0) { skipRefresh = false; }\n        console.warn('ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.');\n        var dataToRemove = rowNodes.map(function (rowNode) { return rowNode.data; });\n        this.updateRowData({ add: null, addIndex: null, update: null, remove: dataToRemove });\n    };\n    GridApi.prototype.addItems = function (items, skipRefresh) {\n        if (skipRefresh === void 0) { skipRefresh = false; }\n        console.warn('ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead.');\n        this.updateRowData({ add: items, addIndex: null, update: null, remove: null });\n    };\n    GridApi.prototype.refreshVirtualPageCache = function () {\n        console.warn('ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead');\n        this.refreshInfiniteCache();\n    };\n    GridApi.prototype.refreshInfinitePageCache = function () {\n        console.warn('ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead');\n        this.refreshInfiniteCache();\n    };\n    GridApi.prototype.refreshInfiniteCache = function () {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.refreshCache();\n        }\n        else {\n            console.warn(\"ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.\");\n        }\n    };\n    GridApi.prototype.purgeVirtualPageCache = function () {\n        console.warn('ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead');\n        this.purgeInfinitePageCache();\n    };\n    GridApi.prototype.purgeInfinitePageCache = function () {\n        console.warn('ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead');\n        this.purgeInfiniteCache();\n    };\n    GridApi.prototype.purgeInfiniteCache = function () {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.purgeCache();\n        }\n        else {\n            console.warn(\"ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.\");\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.purgeEnterpriseCache = function (route) {\n        console.warn(\"ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()\");\n        this.purgeServerSideCache(route);\n    };\n    GridApi.prototype.purgeServerSideCache = function (route) {\n        if (this.serverSideRowModel) {\n            this.serverSideRowModel.purgeCache(route);\n        }\n        else {\n            console.warn(\"ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.\");\n        }\n    };\n    GridApi.prototype.getVirtualRowCount = function () {\n        console.warn('ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead');\n        return this.getInfiniteRowCount();\n    };\n    GridApi.prototype.getInfiniteRowCount = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.getVirtualRowCount();\n        }\n        else {\n            console.warn(\"ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.isMaxRowFound = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.isMaxRowFound();\n        }\n        else {\n            console.warn(\"ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        console.warn('ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead');\n        this.setInfiniteRowCount(rowCount, maxRowFound);\n    };\n    GridApi.prototype.setInfiniteRowCount = function (rowCount, maxRowFound) {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.setVirtualRowCount(rowCount, maxRowFound);\n        }\n        else {\n            console.warn(\"ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.getVirtualPageState = function () {\n        console.warn('ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead');\n        return this.getCacheBlockState();\n    };\n    GridApi.prototype.getInfinitePageState = function () {\n        console.warn('ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead');\n        return this.getCacheBlockState();\n    };\n    GridApi.prototype.getCacheBlockState = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.getBlockState();\n        }\n        else if (this.serverSideRowModel) {\n            return this.serverSideRowModel.getBlockState();\n        }\n        else {\n            console.warn(\"ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.\");\n        }\n    };\n    GridApi.prototype.checkGridSize = function () {\n        this.gridPanel.setHeaderAndFloatingHeights();\n    };\n    GridApi.prototype.getFirstRenderedRow = function () {\n        console.warn('in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()');\n        return this.getFirstDisplayedRow();\n    };\n    GridApi.prototype.getFirstDisplayedRow = function () {\n        return this.rowRenderer.getFirstVirtualRenderedRow();\n    };\n    GridApi.prototype.getLastRenderedRow = function () {\n        console.warn('in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()');\n        return this.getLastDisplayedRow();\n    };\n    GridApi.prototype.getLastDisplayedRow = function () {\n        return this.rowRenderer.getLastVirtualRenderedRow();\n    };\n    GridApi.prototype.getDisplayedRowAtIndex = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    GridApi.prototype.getDisplayedRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    GridApi.prototype.paginationIsLastPageFound = function () {\n        return this.paginationProxy.isLastPageFound();\n    };\n    GridApi.prototype.paginationGetPageSize = function () {\n        return this.paginationProxy.getPageSize();\n    };\n    GridApi.prototype.paginationSetPageSize = function (size) {\n        this.gridOptionsWrapper.setProperty('paginationPageSize', size);\n    };\n    GridApi.prototype.paginationGetCurrentPage = function () {\n        return this.paginationProxy.getCurrentPage();\n    };\n    GridApi.prototype.paginationGetTotalPages = function () {\n        return this.paginationProxy.getTotalPages();\n    };\n    GridApi.prototype.paginationGetRowCount = function () {\n        return this.paginationProxy.getMasterRowCount();\n    };\n    GridApi.prototype.paginationGoToNextPage = function () {\n        this.paginationProxy.goToNextPage();\n    };\n    GridApi.prototype.paginationGoToPreviousPage = function () {\n        this.paginationProxy.goToPreviousPage();\n    };\n    GridApi.prototype.paginationGoToFirstPage = function () {\n        this.paginationProxy.goToFirstPage();\n    };\n    GridApi.prototype.paginationGoToLastPage = function () {\n        this.paginationProxy.goToLastPage();\n    };\n    GridApi.prototype.paginationGoToPage = function (page) {\n        this.paginationProxy.goToPage(page);\n    };\n    __decorate([\n        Optional('immutableService')\n    ], GridApi.prototype, \"immutableService\", void 0);\n    __decorate([\n        Optional('csvCreator')\n    ], GridApi.prototype, \"csvCreator\", void 0);\n    __decorate([\n        Optional('excelCreator')\n    ], GridApi.prototype, \"excelCreator\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], GridApi.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], GridApi.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GridApi.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], GridApi.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], GridApi.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], GridApi.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('alignedGridsService')\n    ], GridApi.prototype, \"alignedGridsService\", void 0);\n    __decorate([\n        Autowired('eventService')\n    ], GridApi.prototype, \"eventService\", void 0);\n    __decorate([\n        Autowired('pinnedRowModel')\n    ], GridApi.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired('context')\n    ], GridApi.prototype, \"context\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], GridApi.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], GridApi.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], GridApi.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], GridApi.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], GridApi.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], GridApi.prototype, \"rangeController\", void 0);\n    __decorate([\n        Optional('clipboardService')\n    ], GridApi.prototype, \"clipboardService\", void 0);\n    __decorate([\n        Optional('aggFuncService')\n    ], GridApi.prototype, \"aggFuncService\", void 0);\n    __decorate([\n        Autowired('menuFactory')\n    ], GridApi.prototype, \"menuFactory\", void 0);\n    __decorate([\n        Optional('contextMenuFactory')\n    ], GridApi.prototype, \"contextMenuFactory\", void 0);\n    __decorate([\n        Autowired('cellRendererFactory')\n    ], GridApi.prototype, \"cellRendererFactory\", void 0);\n    __decorate([\n        Autowired('valueCache')\n    ], GridApi.prototype, \"valueCache\", void 0);\n    __decorate([\n        Autowired('animationFrameService')\n    ], GridApi.prototype, \"animationFrameService\", void 0);\n    __decorate([\n        Optional('statusBarService')\n    ], GridApi.prototype, \"statusBarService\", void 0);\n    __decorate([\n        Optional('chartService')\n    ], GridApi.prototype, \"chartService\", void 0);\n    __decorate([\n        Optional('undoRedoService')\n    ], GridApi.prototype, \"undoRedoService\", void 0);\n    __decorate([\n        PostConstruct\n    ], GridApi.prototype, \"init\", null);\n    GridApi = __decorate([\n        Bean('gridApi')\n    ], GridApi);\n    return GridApi;\n}());\nexport { GridApi };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub, ChangedPath, Constants as constants, Constants, Events, GridOptionsWrapper, Optional, PostConstruct, RowNode } from \"@ag-grid-community/core\";\nimport { ClientSideNodeManager } from \"./clientSideNodeManager\";\nvar RecursionType;\n(function (RecursionType) {\n    RecursionType[RecursionType[\"Normal\"] = 0] = \"Normal\";\n    RecursionType[RecursionType[\"AfterFilter\"] = 1] = \"AfterFilter\";\n    RecursionType[RecursionType[\"AfterFilterAndSort\"] = 2] = \"AfterFilterAndSort\";\n    RecursionType[RecursionType[\"PivotNodes\"] = 3] = \"PivotNodes\";\n})(RecursionType || (RecursionType = {}));\nvar ClientSideRowModel = /** @class */ (function (_super) {\n    __extends(ClientSideRowModel, _super);\n    function ClientSideRowModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClientSideRowModel.prototype.init = function () {\n        var refreshEverythingFunc = this.refreshModel.bind(this, { step: Constants.STEP_EVERYTHING });\n        var refreshEverythingAfterColsChangedFunc = this.refreshModel.bind(this, {\n            step: Constants.STEP_EVERYTHING,\n            afterColumnsChanged: true,\n            keepRenderedRows: true,\n            animate: true\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_EVERYTHING_CHANGED, refreshEverythingAfterColsChangedFunc);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, refreshEverythingFunc);\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VALUE_CHANGED, this.onValueChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PIVOT_CHANGED, this.refreshModel.bind(this, { step: Constants.STEP_PIVOT }));\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_GROUP_OPENED, this.onRowGroupOpened.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, refreshEverythingFunc);\n        var refreshMapListener = this.refreshModel.bind(this, {\n            step: Constants.STEP_MAP,\n            keepRenderedRows: true,\n            animate: true\n        });\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN, refreshMapListener);\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN, refreshMapListener);\n        this.rootNode = new RowNode();\n        this.nodeManager = new ClientSideNodeManager(this.rootNode, this.gridOptionsWrapper, this.getContext(), this.eventService, this.columnController, this.gridApi, this.columnApi, this.selectionController);\n        this.createBean(this.rootNode);\n    };\n    ClientSideRowModel.prototype.start = function () {\n        var rowData = this.gridOptionsWrapper.getRowData();\n        if (rowData) {\n            this.setRowData(rowData);\n        }\n    };\n    ClientSideRowModel.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var atLeastOneChange;\n        var res = false;\n        // we do this multiple times as changing the row heights can also change the first and last rows,\n        // so the first pass can make lots of rows smaller, which means the second pass we end up changing\n        // more rows.\n        do {\n            atLeastOneChange = false;\n            var rowAtStartPixel = this.getRowIndexAtPixel(startPixel);\n            var rowAtEndPixel = this.getRowIndexAtPixel(endPixel);\n            // keep check to current page if doing pagination\n            var firstRow = Math.max(rowAtStartPixel, startLimitIndex);\n            var lastRow = Math.min(rowAtEndPixel, endLimitIndex);\n            for (var rowIndex = firstRow; rowIndex <= lastRow; rowIndex++) {\n                var rowNode = this.getRow(rowIndex);\n                if (rowNode.rowHeightEstimated) {\n                    var rowHeight = this.gridOptionsWrapper.getRowHeightForNode(rowNode);\n                    rowNode.setRowHeight(rowHeight.height);\n                    atLeastOneChange = true;\n                    res = true;\n                }\n            }\n            if (atLeastOneChange) {\n                this.setRowTops();\n            }\n        } while (atLeastOneChange);\n        return res;\n    };\n    ClientSideRowModel.prototype.setRowTops = function () {\n        var nextRowTop = 0;\n        for (var i = 0; i < this.rowsToDisplay.length; i++) {\n            // we don't estimate if doing fullHeight or autoHeight, as all rows get rendered all the time\n            // with these two layouts.\n            var allowEstimate = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n            var rowNode = this.rowsToDisplay[i];\n            if (_.missing(rowNode.rowHeight)) {\n                var rowHeight = this.gridOptionsWrapper.getRowHeightForNode(rowNode, allowEstimate);\n                rowNode.setRowHeight(rowHeight.height, rowHeight.estimated);\n            }\n            rowNode.setRowTop(nextRowTop);\n            rowNode.setRowIndex(i);\n            nextRowTop += rowNode.rowHeight;\n        }\n    };\n    ClientSideRowModel.prototype.resetRowTops = function (rowNode, changedPath) {\n        rowNode.clearRowTop();\n        if (rowNode.hasChildren()) {\n            if (rowNode.childrenAfterGroup) {\n                // if a changedPath is active, it means we are here because of a transaction update or\n                // a change detection. neither of these impacts the open/closed state of groups. so if\n                // a group is not open this time, it was not open last time. so we know all closed groups\n                // already have their top positions cleared. so there is no need to traverse all the way\n                // when changedPath is active and the rowNode is not expanded.\n                var skipChildren = changedPath.isActive() && !rowNode.expanded;\n                if (!skipChildren) {\n                    for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                        this.resetRowTops(rowNode.childrenAfterGroup[i], changedPath);\n                    }\n                }\n            }\n            if (rowNode.sibling) {\n                rowNode.sibling.clearRowTop();\n            }\n        }\n        if (rowNode.detailNode) {\n            rowNode.detailNode.clearRowTop();\n        }\n    };\n    // returns false if row was moved, otherwise true\n    ClientSideRowModel.prototype.ensureRowsAtPixel = function (rowNodes, pixel, increment) {\n        var _this = this;\n        if (increment === void 0) { increment = 0; }\n        var indexAtPixelNow = this.getRowIndexAtPixel(pixel);\n        var rowNodeAtPixelNow = this.getRow(indexAtPixelNow);\n        if (rowNodeAtPixelNow === rowNodes[0]) {\n            return false;\n        }\n        rowNodes.forEach(function (rowNode) {\n            _.removeFromArray(_this.rootNode.allLeafChildren, rowNode);\n        });\n        rowNodes.forEach(function (rowNode, idx) {\n            _.insertIntoArray(_this.rootNode.allLeafChildren, rowNode, indexAtPixelNow + increment + idx);\n        });\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        });\n        return true;\n    };\n    ClientSideRowModel.prototype.highlightRowAtPixel = function (rowNode, pixel) {\n        var indexAtPixelNow = pixel != null ? this.getRowIndexAtPixel(pixel) : null;\n        var rowNodeAtPixelNow = indexAtPixelNow != null ? this.getRow(indexAtPixelNow) : null;\n        if (!rowNodeAtPixelNow || !rowNode || rowNodeAtPixelNow === rowNode || pixel == null) {\n            if (this.lastHighlightedRow) {\n                this.lastHighlightedRow.setHighlighted(null);\n                this.lastHighlightedRow = null;\n            }\n            return;\n        }\n        var highlight = this.getHighlightPosition(pixel, rowNodeAtPixelNow);\n        if (this.lastHighlightedRow && this.lastHighlightedRow !== rowNodeAtPixelNow) {\n            this.lastHighlightedRow.setHighlighted(null);\n            this.lastHighlightedRow = null;\n        }\n        rowNodeAtPixelNow.setHighlighted(highlight);\n        this.lastHighlightedRow = rowNodeAtPixelNow;\n    };\n    ClientSideRowModel.prototype.getHighlightPosition = function (pixel, rowNode) {\n        if (!rowNode) {\n            var index = this.getRowIndexAtPixel(pixel);\n            rowNode = this.getRow(index || 0);\n            if (!rowNode) {\n                return 'below';\n            }\n        }\n        var rowTop = rowNode.rowTop, rowHeight = rowNode.rowHeight;\n        return pixel - rowTop < rowHeight / 2 ? 'above' : 'below';\n    };\n    ClientSideRowModel.prototype.getLastHighlightedRowNode = function () {\n        return this.lastHighlightedRow;\n    };\n    ClientSideRowModel.prototype.isLastRowFound = function () {\n        return true;\n    };\n    ClientSideRowModel.prototype.getRowCount = function () {\n        if (this.rowsToDisplay) {\n            return this.rowsToDisplay.length;\n        }\n        return 0;\n    };\n    ClientSideRowModel.prototype.getTopLevelRowCount = function () {\n        var showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n        if (showingRootNode) {\n            return 1;\n        }\n        return this.rootNode.childrenAfterFilter ? this.rootNode.childrenAfterFilter.length : 0;\n    };\n    ClientSideRowModel.prototype.getTopLevelRowDisplayedIndex = function (topLevelIndex) {\n        var showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n        if (showingRootNode) {\n            return topLevelIndex;\n        }\n        var rowNode = this.rootNode.childrenAfterSort[topLevelIndex];\n        if (this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            // if hideOpenParents, and this row open, then this row is now displayed at this index, first child is\n            while (rowNode.expanded && rowNode.childrenAfterSort && rowNode.childrenAfterSort.length > 0) {\n                rowNode = rowNode.childrenAfterSort[0];\n            }\n        }\n        return rowNode.rowIndex;\n    };\n    ClientSideRowModel.prototype.getRowBounds = function (index) {\n        if (_.missing(this.rowsToDisplay)) {\n            return null;\n        }\n        var rowNode = this.rowsToDisplay[index];\n        if (rowNode) {\n            return {\n                rowTop: rowNode.rowTop,\n                rowHeight: rowNode.rowHeight\n            };\n        }\n        return null;\n    };\n    ClientSideRowModel.prototype.onRowGroupOpened = function () {\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_MAP, keepRenderedRows: true, animate: animate });\n    };\n    ClientSideRowModel.prototype.onFilterChanged = function (event) {\n        if (event.afterDataChange) {\n            return;\n        }\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_FILTER, keepRenderedRows: true, animate: animate });\n    };\n    ClientSideRowModel.prototype.onSortChanged = function () {\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_SORT, keepRenderedRows: true, animate: animate, keepEditingRows: true });\n    };\n    ClientSideRowModel.prototype.getType = function () {\n        return Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n    };\n    ClientSideRowModel.prototype.onValueChanged = function () {\n        if (this.columnController.isPivotActive()) {\n            this.refreshModel({ step: Constants.STEP_PIVOT });\n        }\n        else {\n            this.refreshModel({ step: Constants.STEP_AGGREGATE });\n        }\n    };\n    ClientSideRowModel.prototype.createChangePath = function (rowNodeTransactions) {\n        // for updates, if the row is updated at all, then we re-calc all the values\n        // in that row. we could compare each value to each old value, however if we\n        // did this, we would be calling the valueService twice, once on the old value\n        // and once on the new value. so it's less valueGetter calls if we just assume\n        // each column is different. that way the changedPath is used so that only\n        // the impacted parent rows are recalculated, parents who's children have\n        // not changed are not impacted.\n        var noTransactions = _.missingOrEmpty(rowNodeTransactions);\n        var changedPath = new ChangedPath(false, this.rootNode);\n        if (noTransactions || this.gridOptionsWrapper.isTreeData()) {\n            changedPath.setInactive();\n        }\n        return changedPath;\n    };\n    ClientSideRowModel.prototype.refreshModel = function (params) {\n        // this goes through the pipeline of stages. what's in my head is similar\n        // to the diagram on this page:\n        // http://commons.apache.org/sandbox/commons-pipeline/pipeline_basics.html\n        // however we want to keep the results of each stage, hence we manually call\n        // each step rather than have them chain each other.\n        var _this = this;\n        // fallthrough in below switch is on purpose,\n        // eg if STEP_FILTER, then all steps below this\n        // step get done\n        // let start: number;\n        // console.log('======= start =======');\n        var changedPath = this.createChangePath(params.rowNodeTransactions);\n        switch (params.step) {\n            case constants.STEP_EVERYTHING:\n                // start = new Date().getTime();\n                this.doRowGrouping(params.groupState, params.rowNodeTransactions, params.rowNodeOrder, changedPath, params.afterColumnsChanged);\n            // console.log('rowGrouping = ' + (new Date().getTime() - start));\n            case constants.STEP_FILTER:\n                // start = new Date().getTime();\n                this.doFilter(changedPath);\n            // console.log('filter = ' + (new Date().getTime() - start));\n            case constants.STEP_PIVOT:\n                this.doPivot(changedPath);\n            case constants.STEP_AGGREGATE: // depends on agg fields\n                // start = new Date().getTime();\n                this.doAggregate(changedPath);\n            // console.log('aggregation = ' + (new Date().getTime() - start));\n            case constants.STEP_SORT:\n                // start = new Date().getTime();\n                this.doSort(params.rowNodeTransactions, changedPath);\n            // console.log('sort = ' + (new Date().getTime() - start));\n            case constants.STEP_MAP:\n                // start = new Date().getTime();\n                this.doRowsToDisplay();\n            // console.log('rowsToDisplay = ' + (new Date().getTime() - start));\n        }\n        // set all row tops to null, then set row tops on all visible rows. if we don't\n        // do this, then the algorithm below only sets row tops, old row tops from old rows\n        // will still lie around\n        this.resetRowTops(this.rootNode, changedPath);\n        this.setRowTops();\n        var event = {\n            type: Events.EVENT_MODEL_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            animate: params.animate,\n            keepRenderedRows: params.keepRenderedRows,\n            newData: params.newData,\n            newPage: false\n        };\n        this.eventService.dispatchEvent(event);\n        if (this.$scope) {\n            window.setTimeout(function () {\n                _this.$scope.$apply();\n            }, 0);\n        }\n    };\n    ClientSideRowModel.prototype.isEmpty = function () {\n        var rowsMissing = _.missing(this.rootNode.allLeafChildren) || this.rootNode.allLeafChildren.length === 0;\n        return _.missing(this.rootNode) || rowsMissing || !this.columnController.isReady();\n    };\n    ClientSideRowModel.prototype.isRowsToRender = function () {\n        return _.exists(this.rowsToDisplay) && this.rowsToDisplay.length > 0;\n    };\n    ClientSideRowModel.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        // if lastSelectedNode is missing, we start at the first row\n        var firstRowHit = !lastInRange;\n        var lastRowHit = false;\n        var lastRow;\n        var result = [];\n        var groupsSelectChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.forEachNodeAfterFilterAndSort(function (rowNode) {\n            var lookingForLastRow = firstRowHit && !lastRowHit;\n            // check if we need to flip the select switch\n            if (!firstRowHit) {\n                if (rowNode === lastInRange || rowNode === firstInRange) {\n                    firstRowHit = true;\n                }\n            }\n            var skipThisGroupNode = rowNode.group && groupsSelectChildren;\n            if (!skipThisGroupNode) {\n                var inRange = firstRowHit && !lastRowHit;\n                var childOfLastRow = rowNode.isParentOfNode(lastRow);\n                if (inRange || childOfLastRow) {\n                    result.push(rowNode);\n                }\n            }\n            if (lookingForLastRow) {\n                if (rowNode === lastInRange || rowNode === firstInRange) {\n                    lastRowHit = true;\n                    if (rowNode === lastInRange) {\n                        lastRow = lastInRange;\n                    }\n                    else {\n                        lastRow = firstInRange;\n                    }\n                }\n            }\n        });\n        return result;\n    };\n    ClientSideRowModel.prototype.setDatasource = function (datasource) {\n        console.error('ag-Grid: should never call setDatasource on clientSideRowController');\n    };\n    ClientSideRowModel.prototype.getTopLevelNodes = function () {\n        return this.rootNode ? this.rootNode.childrenAfterGroup : null;\n    };\n    ClientSideRowModel.prototype.getRootNode = function () {\n        return this.rootNode;\n    };\n    ClientSideRowModel.prototype.getRow = function (index) {\n        return this.rowsToDisplay[index];\n    };\n    ClientSideRowModel.prototype.isRowPresent = function (rowNode) {\n        return this.rowsToDisplay.indexOf(rowNode) >= 0;\n    };\n    ClientSideRowModel.prototype.getRowIndexAtPixel = function (pixelToMatch) {\n        if (this.isEmpty()) {\n            return -1;\n        }\n        // do binary search of tree\n        // http://oli.me.uk/2013/06/08/searching-javascript-arrays-with-a-binary-search/\n        var bottomPointer = 0;\n        var topPointer = this.rowsToDisplay.length - 1;\n        // quick check, if the pixel is out of bounds, then return last row\n        if (pixelToMatch <= 0) {\n            // if pixel is less than or equal zero, it's always the first row\n            return 0;\n        }\n        var lastNode = _.last(this.rowsToDisplay);\n        if (lastNode.rowTop <= pixelToMatch) {\n            return this.rowsToDisplay.length - 1;\n        }\n        while (true) {\n            var midPointer = Math.floor((bottomPointer + topPointer) / 2);\n            var currentRowNode = this.rowsToDisplay[midPointer];\n            if (this.isRowInPixel(currentRowNode, pixelToMatch)) {\n                return midPointer;\n            }\n            if (currentRowNode.rowTop < pixelToMatch) {\n                bottomPointer = midPointer + 1;\n            }\n            else if (currentRowNode.rowTop > pixelToMatch) {\n                topPointer = midPointer - 1;\n            }\n        }\n    };\n    ClientSideRowModel.prototype.isRowInPixel = function (rowNode, pixelToMatch) {\n        var topPixel = rowNode.rowTop;\n        var bottomPixel = rowNode.rowTop + rowNode.rowHeight;\n        var pixelInRow = topPixel <= pixelToMatch && bottomPixel > pixelToMatch;\n        return pixelInRow;\n    };\n    ClientSideRowModel.prototype.getCurrentPageHeight = function () {\n        if (this.rowsToDisplay && this.rowsToDisplay.length > 0) {\n            var lastRow = _.last(this.rowsToDisplay);\n            var lastPixel = lastRow.rowTop + lastRow.rowHeight;\n            return lastPixel;\n        }\n        return 0;\n    };\n    ClientSideRowModel.prototype.forEachLeafNode = function (callback) {\n        if (this.rootNode.allLeafChildren) {\n            this.rootNode.allLeafChildren.forEach(function (rowNode, index) { return callback(rowNode, index); });\n        }\n    };\n    ClientSideRowModel.prototype.forEachNode = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup, callback, RecursionType.Normal, 0);\n    };\n    ClientSideRowModel.prototype.forEachNodeAfterFilter = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter, callback, RecursionType.AfterFilter, 0);\n    };\n    ClientSideRowModel.prototype.forEachNodeAfterFilterAndSort = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort, callback, RecursionType.AfterFilterAndSort, 0);\n    };\n    ClientSideRowModel.prototype.forEachPivotNode = function (callback) {\n        this.recursivelyWalkNodesAndCallback([this.rootNode], callback, RecursionType.PivotNodes, 0);\n    };\n    // iterates through each item in memory, and calls the callback function\n    // nodes - the rowNodes to traverse\n    // callback - the user provided callback\n    // recursion type - need this to know what child nodes to recurse, eg if looking at all nodes, or filtered notes etc\n    // index - works similar to the index in forEach in javascript's array function\n    ClientSideRowModel.prototype.recursivelyWalkNodesAndCallback = function (nodes, callback, recursionType, index) {\n        if (!nodes) {\n            return index;\n        }\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            callback(node, index++);\n            // go to the next level if it is a group\n            if (node.hasChildren()) {\n                // depending on the recursion type, we pick a difference set of children\n                var nodeChildren = null;\n                switch (recursionType) {\n                    case RecursionType.Normal:\n                        nodeChildren = node.childrenAfterGroup;\n                        break;\n                    case RecursionType.AfterFilter:\n                        nodeChildren = node.childrenAfterFilter;\n                        break;\n                    case RecursionType.AfterFilterAndSort:\n                        nodeChildren = node.childrenAfterSort;\n                        break;\n                    case RecursionType.PivotNodes:\n                        // for pivot, we don't go below leafGroup levels\n                        nodeChildren = !node.leafGroup ? node.childrenAfterSort : null;\n                        break;\n                }\n                if (nodeChildren) {\n                    index = this.recursivelyWalkNodesAndCallback(nodeChildren, callback, recursionType, index);\n                }\n            }\n        }\n        return index;\n    };\n    // it's possible to recompute the aggregate without doing the other parts\n    // + gridApi.recomputeAggregates()\n    ClientSideRowModel.prototype.doAggregate = function (changedPath) {\n        if (this.aggregationStage) {\n            this.aggregationStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n        }\n    };\n    // + gridApi.expandAll()\n    // + gridApi.collapseAll()\n    ClientSideRowModel.prototype.expandOrCollapseAll = function (expand) {\n        var usingTreeData = this.gridOptionsWrapper.isTreeData();\n        if (this.rootNode) {\n            recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup);\n        }\n        function recursiveExpandOrCollapse(rowNodes) {\n            if (!rowNodes) {\n                return;\n            }\n            rowNodes.forEach(function (rowNode) {\n                var shouldExpandOrCollapse = usingTreeData ? _.exists(rowNode.childrenAfterGroup) : rowNode.group;\n                if (shouldExpandOrCollapse) {\n                    rowNode.expanded = expand;\n                    recursiveExpandOrCollapse(rowNode.childrenAfterGroup);\n                }\n            });\n        }\n        this.refreshModel({ step: Constants.STEP_MAP });\n        var eventSource = expand ? 'expandAll' : 'collapseAll';\n        var event = {\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            type: Events.EVENT_EXPAND_COLLAPSE_ALL,\n            source: eventSource\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ClientSideRowModel.prototype.doSort = function (rowNodeTransactions, changedPath) {\n        this.sortStage.execute({\n            rowNode: this.rootNode,\n            rowNodeTransactions: rowNodeTransactions,\n            changedPath: changedPath\n        });\n    };\n    ClientSideRowModel.prototype.doRowGrouping = function (groupState, rowNodeTransactions, rowNodeOrder, changedPath, afterColumnsChanged) {\n        if (this.groupStage) {\n            if (rowNodeTransactions) {\n                this.groupStage.execute({\n                    rowNode: this.rootNode,\n                    rowNodeTransactions: rowNodeTransactions,\n                    rowNodeOrder: rowNodeOrder,\n                    changedPath: changedPath\n                });\n            }\n            else {\n                // groups are about to get disposed, so need to deselect any that are selected\n                this.selectionController.removeGroupsFromSelection();\n                this.groupStage.execute({\n                    rowNode: this.rootNode,\n                    changedPath: changedPath,\n                    afterColumnsChanged: afterColumnsChanged\n                });\n                // set open/closed state on groups\n                this.restoreGroupState(groupState);\n            }\n            if (this.gridOptionsWrapper.isGroupSelectsChildren()) {\n                this.selectionController.updateGroupsFromChildrenSelections(changedPath);\n            }\n        }\n        else {\n            this.rootNode.childrenAfterGroup = this.rootNode.allLeafChildren;\n            this.rootNode.updateHasChildren();\n        }\n    };\n    ClientSideRowModel.prototype.restoreGroupState = function (groupState) {\n        if (!groupState) {\n            return;\n        }\n        _.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function (node, key) {\n            // if the group was open last time, then open it this time. however\n            // if was not open last time, then don't touch the group, so the 'groupDefaultExpanded'\n            // setting will take effect.\n            if (typeof groupState[key] === 'boolean') {\n                node.expanded = groupState[key];\n            }\n        });\n    };\n    ClientSideRowModel.prototype.doFilter = function (changedPath) {\n        this.filterStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n    };\n    ClientSideRowModel.prototype.doPivot = function (changedPath) {\n        if (this.pivotStage) {\n            this.pivotStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n        }\n    };\n    ClientSideRowModel.prototype.getGroupState = function () {\n        if (!this.rootNode.childrenAfterGroup || !this.gridOptionsWrapper.isRememberGroupStateWhenNewData()) {\n            return null;\n        }\n        var result = {};\n        _.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function (node, key) { return result[key] = node.expanded; });\n        return result;\n    };\n    ClientSideRowModel.prototype.getCopyOfNodesMap = function () {\n        return this.nodeManager.getCopyOfNodesMap();\n    };\n    ClientSideRowModel.prototype.getRowNode = function (id) {\n        return this.nodeManager.getRowNode(id);\n    };\n    // rows: the rows to put into the model\n    ClientSideRowModel.prototype.setRowData = function (rowData) {\n        // no need to invalidate cache, as the cache is stored on the rowNode,\n        // so new rowNodes means the cache is wiped anyway.\n        // remember group state, so we can expand groups that should be expanded\n        var groupState = this.getGroupState();\n        this.nodeManager.setRowData(rowData);\n        // this event kicks off:\n        // - clears selection\n        // - updates filters\n        // - shows 'no rows' overlay if needed\n        var rowDataChangedEvent = {\n            type: Events.EVENT_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(rowDataChangedEvent);\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            groupState: groupState,\n            newData: true\n        });\n    };\n    ClientSideRowModel.prototype.batchUpdateRowData = function (rowDataTransaction, callback) {\n        var _this = this;\n        if (this.applyAsyncTransactionsTimeout == null) {\n            this.rowDataTransactionBatch = [];\n            var waitMillis = this.gridOptionsWrapper.getAsyncTransactionWaitMillis();\n            this.applyAsyncTransactionsTimeout = window.setTimeout(function () {\n                _this.executeBatchUpdateRowData();\n            }, waitMillis);\n        }\n        this.rowDataTransactionBatch.push({ rowDataTransaction: rowDataTransaction, callback: callback });\n    };\n    ClientSideRowModel.prototype.flushAsyncTransactions = function () {\n        if (this.applyAsyncTransactionsTimeout != null) {\n            clearTimeout(this.applyAsyncTransactionsTimeout);\n            this.executeBatchUpdateRowData();\n        }\n    };\n    ClientSideRowModel.prototype.executeBatchUpdateRowData = function () {\n        var _this = this;\n        this.valueCache.onDataChanged();\n        var callbackFuncsBound = [];\n        var rowNodeTrans = [];\n        if (this.rowDataTransactionBatch) {\n            this.rowDataTransactionBatch.forEach(function (tranItem) {\n                var rowNodeTran = _this.nodeManager.updateRowData(tranItem.rowDataTransaction, null);\n                rowNodeTrans.push(rowNodeTran);\n                if (tranItem.callback) {\n                    callbackFuncsBound.push(tranItem.callback.bind(null, rowNodeTran));\n                }\n            });\n        }\n        this.commonUpdateRowData(rowNodeTrans);\n        // do callbacks in next VM turn so it's async\n        if (callbackFuncsBound.length > 0) {\n            window.setTimeout(function () {\n                callbackFuncsBound.forEach(function (func) { return func(); });\n            }, 0);\n        }\n        this.rowDataTransactionBatch = null;\n        this.applyAsyncTransactionsTimeout = undefined;\n    };\n    ClientSideRowModel.prototype.updateRowData = function (rowDataTran, rowNodeOrder) {\n        this.valueCache.onDataChanged();\n        var rowNodeTran = this.nodeManager.updateRowData(rowDataTran, rowNodeOrder);\n        this.commonUpdateRowData([rowNodeTran], rowNodeOrder);\n        return rowNodeTran;\n    };\n    // common to updateRowData and batchUpdateRowData\n    ClientSideRowModel.prototype.commonUpdateRowData = function (rowNodeTrans, rowNodeOrder) {\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            rowNodeTransactions: rowNodeTrans,\n            rowNodeOrder: rowNodeOrder,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        });\n        var event = {\n            type: Events.EVENT_ROW_DATA_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ClientSideRowModel.prototype.doRowsToDisplay = function () {\n        this.rowsToDisplay = this.flattenStage.execute({ rowNode: this.rootNode });\n    };\n    ClientSideRowModel.prototype.onRowHeightChanged = function () {\n        this.refreshModel({ step: Constants.STEP_MAP, keepRenderedRows: true, keepEditingRows: true });\n    };\n    ClientSideRowModel.prototype.resetRowHeights = function () {\n        this.forEachNode(function (rowNode) {\n            rowNode.setRowHeight(rowNode.rowHeight, true);\n            // we keep the height each row is at, however we set estimated=true rather than clear the height.\n            // this means the grid will not reset the row heights back to defaults, rather it will re-calc\n            // the height for each row as the row is displayed. otherwise the scroll will jump when heights are reset.\n            var detailNode = rowNode.detailNode;\n            if (detailNode) {\n                detailNode.setRowHeight(detailNode.rowHeight, true);\n            }\n        });\n        this.onRowHeightChanged();\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ClientSideRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], ClientSideRowModel.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], ClientSideRowModel.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('$scope')\n    ], ClientSideRowModel.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], ClientSideRowModel.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], ClientSideRowModel.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('valueCache')\n    ], ClientSideRowModel.prototype, \"valueCache\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], ClientSideRowModel.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], ClientSideRowModel.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('filterStage')\n    ], ClientSideRowModel.prototype, \"filterStage\", void 0);\n    __decorate([\n        Autowired('sortStage')\n    ], ClientSideRowModel.prototype, \"sortStage\", void 0);\n    __decorate([\n        Autowired('flattenStage')\n    ], ClientSideRowModel.prototype, \"flattenStage\", void 0);\n    __decorate([\n        Optional('groupStage')\n    ], ClientSideRowModel.prototype, \"groupStage\", void 0);\n    __decorate([\n        Optional('aggregationStage')\n    ], ClientSideRowModel.prototype, \"aggregationStage\", void 0);\n    __decorate([\n        Optional('pivotStage')\n    ], ClientSideRowModel.prototype, \"pivotStage\", void 0);\n    __decorate([\n        PostConstruct\n    ], ClientSideRowModel.prototype, \"init\", null);\n    ClientSideRowModel = __decorate([\n        Bean('rowModel')\n    ], ClientSideRowModel);\n    return ClientSideRowModel;\n}(BeanStub));\nexport { ClientSideRowModel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, Optional, PostConstruct } from \"../context/context\";\n/** Using the IoC has a slight performance consideration, which is no problem most of the\n * time, unless we are trashing objects - which is the case when scrolling and rowComp\n * and cellComp. So for performance reasons, RowComp and CellComp do not get autowired\n * with the IoC. Instead they get passed this object which is all the beans the RowComp\n * and CellComp need. Not autowiring all the cells gives performance improvement. */\nvar Beans = /** @class */ (function () {\n    function Beans() {\n    }\n    Beans.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    Beans.prototype.postConstruct = function () {\n        this.doingMasterDetail = this.gridOptionsWrapper.isMasterDetail();\n    };\n    __decorate([\n        Autowired('paginationProxy')\n    ], Beans.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('context')\n    ], Beans.prototype, \"context\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], Beans.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], Beans.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], Beans.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], Beans.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], Beans.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('$compile')\n    ], Beans.prototype, \"$compile\", void 0);\n    __decorate([\n        Autowired('templateService')\n    ], Beans.prototype, \"templateService\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], Beans.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('eventService')\n    ], Beans.prototype, \"eventService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], Beans.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('headerNavigationService')\n    ], Beans.prototype, \"headerNavigationService\", void 0);\n    __decorate([\n        Autowired('columnAnimationService')\n    ], Beans.prototype, \"columnAnimationService\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], Beans.prototype, \"rangeController\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], Beans.prototype, \"focusController\", void 0);\n    __decorate([\n        Optional('contextMenuFactory')\n    ], Beans.prototype, \"contextMenuFactory\", void 0);\n    __decorate([\n        Autowired('cellRendererFactory')\n    ], Beans.prototype, \"cellRendererFactory\", void 0);\n    __decorate([\n        Autowired('popupService')\n    ], Beans.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('valueFormatterService')\n    ], Beans.prototype, \"valueFormatterService\", void 0);\n    __decorate([\n        Autowired('stylingService')\n    ], Beans.prototype, \"stylingService\", void 0);\n    __decorate([\n        Autowired('columnHoverService')\n    ], Beans.prototype, \"columnHoverService\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], Beans.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        Autowired('animationFrameService')\n    ], Beans.prototype, \"taskQueue\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], Beans.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], Beans.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], Beans.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('maxDivHeightScaler')\n    ], Beans.prototype, \"maxDivHeightScaler\", void 0);\n    __decorate([\n        Autowired('frameworkOverrides')\n    ], Beans.prototype, \"frameworkOverrides\", void 0);\n    __decorate([\n        Autowired('detailRowCompCache')\n    ], Beans.prototype, \"detailRowCompCache\", void 0);\n    __decorate([\n        Autowired('cellPositionUtils')\n    ], Beans.prototype, \"cellPositionUtils\", void 0);\n    __decorate([\n        Autowired('rowPositionUtils')\n    ], Beans.prototype, \"rowPositionUtils\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], Beans.prototype, \"selectionController\", void 0);\n    __decorate([\n        Optional('selectionHandleFactory')\n    ], Beans.prototype, \"selectionHandleFactory\", void 0);\n    __decorate([\n        Autowired('rowCssClassCalculator')\n    ], Beans.prototype, \"rowCssClassCalculator\", void 0);\n    __decorate([\n        PostConstruct\n    ], Beans.prototype, \"postConstruct\", null);\n    Beans = __decorate([\n        Bean('beans')\n    ], Beans);\n    return Beans;\n}());\nexport { Beans };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from '../context/context';\nimport { RefSelector } from './componentAnnotations';\nimport { ManagedFocusComponent } from './managedFocusComponent';\nimport { addCssClass, containsClass } from '../utils/dom';\nimport { getAriaPosInSet, setAriaSetSize, setAriaPosInSet, setAriaSelected, setAriaChecked } from '../utils/aria';\nimport { KeyCode } from '../constants/keyCode';\nvar VirtualList = /** @class */ (function (_super) {\n    __extends(VirtualList, _super);\n    function VirtualList(cssIdentifier) {\n        if (cssIdentifier === void 0) { cssIdentifier = 'default'; }\n        var _this = _super.call(this, VirtualList.getTemplate(cssIdentifier), true) || this;\n        _this.cssIdentifier = cssIdentifier;\n        _this.renderedRows = new Map();\n        _this.rowHeight = 20;\n        _this.isDestroyed = false;\n        return _this;\n    }\n    VirtualList.prototype.postConstruct = function () {\n        this.addScrollListener();\n        this.rowHeight = this.getItemHeight();\n        _super.prototype.postConstruct.call(this);\n    };\n    VirtualList.prototype.focusInnerElement = function (fromBottom) {\n        this.focusRow(fromBottom ? this.model.getRowCount() - 1 : 0);\n    };\n    VirtualList.prototype.onFocusIn = function (e) {\n        _super.prototype.onFocusIn.call(this, e);\n        var target = e.target;\n        if (containsClass(target, 'ag-virtual-list-item')) {\n            this.lastFocusedRowIndex = getAriaPosInSet(target) - 1;\n        }\n    };\n    VirtualList.prototype.onFocusOut = function (e) {\n        _super.prototype.onFocusOut.call(this, e);\n        if (!this.getFocusableElement().contains(e.relatedTarget)) {\n            this.lastFocusedRowIndex = null;\n        }\n    };\n    VirtualList.prototype.handleKeyDown = function (e) {\n        switch (e.keyCode) {\n            case KeyCode.UP:\n            case KeyCode.DOWN:\n                if (this.navigate(e.keyCode === KeyCode.UP)) {\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    VirtualList.prototype.onTabKeyDown = function (e) {\n        if (this.navigate(e.shiftKey)) {\n            e.preventDefault();\n        }\n        else {\n            // focus on the first or last focusable element to ensure that any other handlers start from there\n            this.focusController.focusInto(this.getGui(), !e.shiftKey);\n        }\n    };\n    VirtualList.prototype.navigate = function (up) {\n        if (this.lastFocusedRowIndex == null) {\n            return false;\n        }\n        var nextRow = this.lastFocusedRowIndex + (up ? -1 : 1);\n        if (nextRow < 0 || nextRow >= this.model.getRowCount()) {\n            return false;\n        }\n        this.focusRow(nextRow);\n        return true;\n    };\n    VirtualList.prototype.getLastFocusedRow = function () {\n        return this.lastFocusedRowIndex;\n    };\n    VirtualList.prototype.focusRow = function (rowNumber) {\n        var _this = this;\n        this.ensureIndexVisible(rowNumber);\n        window.setTimeout(function () {\n            var renderedRow = _this.renderedRows.get(rowNumber);\n            if (renderedRow) {\n                renderedRow.eDiv.focus();\n            }\n        }, 10);\n    };\n    VirtualList.prototype.getComponentAt = function (rowIndex) {\n        var comp = this.renderedRows.get(rowIndex);\n        return comp && comp.rowComponent;\n    };\n    VirtualList.getTemplate = function (cssIdentifier) {\n        return /* html */ \"\\n            <div class=\\\"ag-virtual-list-viewport ag-\" + cssIdentifier + \"-virtual-list-viewport\\\" role=\\\"listbox\\\">\\n                <div class=\\\"ag-virtual-list-container ag-\" + cssIdentifier + \"-virtual-list-container\\\" ref=\\\"eContainer\\\"></div>\\n            </div>\";\n    };\n    VirtualList.prototype.getItemHeight = function () {\n        return this.gridOptionsWrapper.getListItemHeight();\n    };\n    VirtualList.prototype.ensureIndexVisible = function (index) {\n        var lastRow = this.model.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= lastRow) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        var rowTopPixel = index * this.rowHeight;\n        var rowBottomPixel = rowTopPixel + this.rowHeight;\n        var eGui = this.getGui();\n        var viewportTopPixel = eGui.scrollTop;\n        var viewportHeight = eGui.offsetHeight;\n        var viewportBottomPixel = viewportTopPixel + viewportHeight;\n        var viewportScrolledPastRow = viewportTopPixel > rowTopPixel;\n        var viewportScrolledBeforeRow = viewportBottomPixel < rowBottomPixel;\n        if (viewportScrolledPastRow) {\n            // if row is before, scroll up with row at top\n            eGui.scrollTop = rowTopPixel;\n        }\n        else if (viewportScrolledBeforeRow) {\n            // if row is below, scroll down with row at bottom\n            var newScrollPosition = rowBottomPixel - viewportHeight;\n            eGui.scrollTop = newScrollPosition;\n        }\n    };\n    VirtualList.prototype.setComponentCreator = function (componentCreator) {\n        this.componentCreator = componentCreator;\n    };\n    VirtualList.prototype.getRowHeight = function () {\n        return this.rowHeight;\n    };\n    VirtualList.prototype.getScrollTop = function () {\n        return this.getGui().scrollTop;\n    };\n    VirtualList.prototype.setRowHeight = function (rowHeight) {\n        this.rowHeight = rowHeight;\n        this.refresh();\n    };\n    VirtualList.prototype.refresh = function () {\n        var _this = this;\n        if (this.model == null || this.isDestroyed) {\n            return;\n        }\n        var rowCount = this.model.getRowCount();\n        this.eContainer.style.height = rowCount * this.rowHeight + \"px\";\n        // ensure height is applied before attempting to redraw rows\n        setTimeout(function () {\n            if (_this.isDestroyed) {\n                return;\n            }\n            _this.clearVirtualRows();\n            _this.drawVirtualRows();\n        }, 0);\n    };\n    VirtualList.prototype.clearVirtualRows = function () {\n        var _this = this;\n        this.renderedRows.forEach(function (_, rowIndex) { return _this.removeRow(rowIndex); });\n    };\n    VirtualList.prototype.drawVirtualRows = function () {\n        var gui = this.getGui();\n        var topPixel = gui.scrollTop;\n        var bottomPixel = topPixel + gui.offsetHeight;\n        var firstRow = Math.floor(topPixel / this.rowHeight);\n        var lastRow = Math.floor(bottomPixel / this.rowHeight);\n        this.ensureRowsRendered(firstRow, lastRow);\n    };\n    VirtualList.prototype.ensureRowsRendered = function (start, finish) {\n        var _this = this;\n        // remove any rows that are no longer required\n        this.renderedRows.forEach(function (_, rowIndex) {\n            if ((rowIndex < start || rowIndex > finish) && rowIndex !== _this.lastFocusedRowIndex) {\n                _this.removeRow(rowIndex);\n            }\n        });\n        // insert any required new rows\n        for (var rowIndex = start; rowIndex <= finish; rowIndex++) {\n            if (this.renderedRows.has(rowIndex)) {\n                continue;\n            }\n            // check this row actually exists (in case overflow buffer window exceeds real data)\n            if (rowIndex < this.model.getRowCount()) {\n                this.insertRow(rowIndex);\n            }\n        }\n    };\n    VirtualList.prototype.insertRow = function (rowIndex) {\n        var _this = this;\n        var value = this.model.getRow(rowIndex);\n        var eDiv = document.createElement('div');\n        addCssClass(eDiv, 'ag-virtual-list-item');\n        addCssClass(eDiv, \"ag-\" + this.cssIdentifier + \"-virtual-list-item\");\n        eDiv.setAttribute('role', 'option');\n        setAriaSetSize(eDiv, this.model.getRowCount());\n        setAriaPosInSet(eDiv, rowIndex + 1);\n        eDiv.setAttribute('tabindex', '-1');\n        if (typeof this.model.isRowSelected === 'function') {\n            var isSelected = this.model.isRowSelected(rowIndex);\n            setAriaSelected(eDiv, !!isSelected);\n            setAriaChecked(eDiv, isSelected);\n        }\n        eDiv.style.height = this.rowHeight + \"px\";\n        eDiv.style.top = this.rowHeight * rowIndex + \"px\";\n        var rowComponent = this.componentCreator(value);\n        rowComponent.addGuiEventListener('focusin', function () { return _this.lastFocusedRowIndex = rowIndex; });\n        eDiv.appendChild(rowComponent.getGui());\n        // keep the DOM order consistent with the order of the rows\n        if (this.renderedRows.has(rowIndex - 1)) {\n            this.renderedRows.get(rowIndex - 1).eDiv.insertAdjacentElement('afterend', eDiv);\n        }\n        else if (this.renderedRows.has(rowIndex + 1)) {\n            this.renderedRows.get(rowIndex + 1).eDiv.insertAdjacentElement('beforebegin', eDiv);\n        }\n        else {\n            this.eContainer.appendChild(eDiv);\n        }\n        this.renderedRows.set(rowIndex, { rowComponent: rowComponent, eDiv: eDiv });\n    };\n    VirtualList.prototype.removeRow = function (rowIndex) {\n        var component = this.renderedRows.get(rowIndex);\n        this.eContainer.removeChild(component.eDiv);\n        this.destroyBean(component.rowComponent);\n        this.renderedRows.delete(rowIndex);\n    };\n    VirtualList.prototype.addScrollListener = function () {\n        var _this = this;\n        this.addGuiEventListener('scroll', function () { return _this.drawVirtualRows(); });\n    };\n    VirtualList.prototype.setModel = function (model) {\n        this.model = model;\n    };\n    VirtualList.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.clearVirtualRows();\n        this.isDestroyed = true;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], VirtualList.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eContainer')\n    ], VirtualList.prototype, \"eContainer\", void 0);\n    return VirtualList;\n}(ManagedFocusComponent));\nexport { VirtualList };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"../widgets/component\";\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { RefSelector } from \"../widgets/componentAnnotations\";\nimport { Events } from \"../events\";\nimport { Constants } from \"../constants/constants\";\nimport { createIconNoSpan } from \"../utils/icon\";\nimport { formatNumberCommas } from \"../utils/number\";\nimport { addOrRemoveCssClass } from \"../utils/dom\";\nimport { setAriaDisabled } from \"../utils/aria\";\nimport { KeyCode } from '../constants/keyCode';\nvar PaginationComp = /** @class */ (function (_super) {\n    __extends(PaginationComp, _super);\n    function PaginationComp() {\n        var _this = _super.call(this) || this;\n        _this.previousAndFirstButtonsDisabled = false;\n        _this.nextButtonDisabled = false;\n        _this.lastButtonDisabled = false;\n        return _this;\n    }\n    PaginationComp.prototype.postConstruct = function () {\n        var _this = this;\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        this.setTemplate(this.getTemplate());\n        this.btFirst.insertAdjacentElement('afterbegin', createIconNoSpan(isRtl ? 'last' : 'first', this.gridOptionsWrapper));\n        this.btPrevious.insertAdjacentElement('afterbegin', createIconNoSpan(isRtl ? 'next' : 'previous', this.gridOptionsWrapper));\n        this.btNext.insertAdjacentElement('afterbegin', createIconNoSpan(isRtl ? 'previous' : 'next', this.gridOptionsWrapper));\n        this.btLast.insertAdjacentElement('afterbegin', createIconNoSpan(isRtl ? 'first' : 'last', this.gridOptionsWrapper));\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_SERVER_SIDE) {\n            this.serverSideRowModel = this.rowModel;\n        }\n        var isPaging = this.gridOptionsWrapper.isPagination();\n        var paginationPanelEnabled = isPaging && !this.gridOptionsWrapper.isSuppressPaginationPanel();\n        if (!paginationPanelEnabled) {\n            this.setDisplayed(false);\n            return;\n        }\n        this.addManagedListener(this.eventService, Events.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this));\n        [\n            { el: this.btFirst, fn: this.onBtFirst.bind(this) },\n            { el: this.btPrevious, fn: this.onBtPrevious.bind(this) },\n            { el: this.btNext, fn: this.onBtNext.bind(this) },\n            { el: this.btLast, fn: this.onBtLast.bind(this) }\n        ].forEach(function (item) {\n            var el = item.el, fn = item.fn;\n            _this.addManagedListener(el, 'click', fn);\n            _this.addManagedListener(el, 'keydown', function (e) {\n                if (e.keyCode === KeyCode.ENTER || e.keyCode === KeyCode.SPACE) {\n                    e.preventDefault();\n                    fn();\n                }\n            });\n        });\n        this.onPaginationChanged();\n    };\n    PaginationComp.prototype.onPaginationChanged = function () {\n        this.enableOrDisableButtons();\n        this.updateRowLabels();\n        this.setCurrentPageLabel();\n        this.setTotalLabels();\n    };\n    PaginationComp.prototype.onBtFirst = function () {\n        if (!this.previousAndFirstButtonsDisabled) {\n            this.paginationProxy.goToFirstPage();\n        }\n    };\n    PaginationComp.prototype.setCurrentPageLabel = function () {\n        var pagesExist = this.paginationProxy.getTotalPages() > 0;\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var toDisplay = pagesExist ? currentPage + 1 : 0;\n        this.lbCurrent.innerHTML = this.formatNumber(toDisplay);\n    };\n    PaginationComp.prototype.formatNumber = function (value) {\n        var userFunc = this.gridOptionsWrapper.getPaginationNumberFormatterFunc();\n        if (userFunc) {\n            return userFunc({ value: value });\n        }\n        return formatNumberCommas(value);\n    };\n    PaginationComp.prototype.getTemplate = function () {\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var strPage = localeTextFunc('page', 'Page');\n        var strTo = localeTextFunc('to', 'to');\n        var strOf = localeTextFunc('of', 'of');\n        var strFirst = localeTextFunc('firstPage', 'First Page');\n        var strPrevious = localeTextFunc('previousPage', 'Previous Page');\n        var strNext = localeTextFunc('nextPage', 'Next Page');\n        var strLast = localeTextFunc('lastPage', 'Last Page');\n        var compId = this.getCompId();\n        var summaryDescribedBy = \"ag-\" + compId + \"-first-row ag-\" + compId + \"-to ag-\" + compId + \"-last-row ag-\" + compId + \"-of ag-\" + compId + \"-row-count\";\n        var descriptionDescribedBy = \"ag-\" + compId + \"-start-page ag-\" + compId + \"-start-page-number ag-\" + compId + \"-of-page ag-\" + compId + \"-of-page-number\";\n        return /* html */ \"<div class=\\\"ag-paging-panel ag-unselectable\\\" id=\\\"ag-\" + compId + \"\\\" aria-live=\\\"polite\\\" aria-describedby=\\\"\" + descriptionDescribedBy + \" \" + summaryDescribedBy + \"\\\">\\n                <span class=\\\"ag-paging-row-summary-panel\\\" aria-hidden=\\\"true\\\">\\n                    <span id=\\\"ag-\" + compId + \"-first-row\\\" ref=\\\"lbFirstRowOnPage\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                    <span id=\\\"ag-\" + compId + \"-to\\\">\" + strTo + \"</span>\\n                    <span id=\\\"ag-\" + compId + \"-last-row\\\" ref=\\\"lbLastRowOnPage\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                    <span id=\\\"ag-\" + compId + \"-of\\\">\" + strOf + \"</span>\\n                    <span id=\\\"ag-\" + compId + \"-row-count\\\" ref=\\\"lbRecordCount\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                </span>\\n                <span class=\\\"ag-paging-page-summary-panel\\\" role=\\\"presentation\\\">\\n                    <div ref=\\\"btFirst\\\" class=\\\"ag-paging-button\\\" role=\\\"button\\\" aria-label=\\\"\" + strFirst + \"\\\" tabindex=\\\"0\\\"></div>\\n                    <div ref=\\\"btPrevious\\\" class=\\\"ag-paging-button\\\" role=\\\"button\\\" aria-label=\\\"\" + strPrevious + \"\\\" tabindex=\\\"0\\\"></div>\\n                    <span class=\\\"ag-paging-description\\\" aria-hidden=\\\"true\\\">\\n                        <span id=\\\"ag-\" + compId + \"-start-page\\\">\" + strPage + \"</span>\\n                        <span id=\\\"ag-\" + compId + \"-start-page-number\\\" ref=\\\"lbCurrent\\\" class=\\\"ag-paging-number\\\"></span>\\n                        <span id=\\\"ag-\" + compId + \"-of-page\\\">\" + strOf + \"</span>\\n                        <span id=\\\"ag-\" + compId + \"-of-page-number\\\" ref=\\\"lbTotal\\\" class=\\\"ag-paging-number\\\"></span>\\n                    </span>\\n                    <div ref=\\\"btNext\\\" class=\\\"ag-paging-button\\\" role=\\\"button\\\" aria-label=\\\"\" + strNext + \"\\\" tabindex=\\\"0\\\"></div>\\n                    <div ref=\\\"btLast\\\" class=\\\"ag-paging-button\\\" role=\\\"button\\\" aria-label=\\\"\" + strLast + \"\\\" tabindex=\\\"0\\\"></div>\\n                </span>\\n            </div>\";\n    };\n    PaginationComp.prototype.onBtNext = function () {\n        if (!this.nextButtonDisabled) {\n            this.paginationProxy.goToNextPage();\n        }\n    };\n    PaginationComp.prototype.onBtPrevious = function () {\n        if (!this.previousAndFirstButtonsDisabled) {\n            this.paginationProxy.goToPreviousPage();\n        }\n    };\n    PaginationComp.prototype.onBtLast = function () {\n        if (!this.lastButtonDisabled) {\n            this.paginationProxy.goToLastPage();\n        }\n    };\n    PaginationComp.prototype.enableOrDisableButtons = function () {\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        this.previousAndFirstButtonsDisabled = currentPage === 0;\n        addOrRemoveCssClass(this.btFirst, 'ag-disabled', this.previousAndFirstButtonsDisabled);\n        setAriaDisabled(this.btFirst, this.previousAndFirstButtonsDisabled);\n        addOrRemoveCssClass(this.btPrevious, 'ag-disabled', this.previousAndFirstButtonsDisabled);\n        setAriaDisabled(this.btPrevious, this.previousAndFirstButtonsDisabled);\n        var zeroPagesToDisplay = this.isZeroPagesToDisplay();\n        var onLastPage = maxRowFound && currentPage === (totalPages - 1);\n        this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n        addOrRemoveCssClass(this.btNext, 'ag-disabled', this.nextButtonDisabled);\n        setAriaDisabled(this.btNext, this.nextButtonDisabled);\n        this.lastButtonDisabled = !maxRowFound || zeroPagesToDisplay || currentPage === (totalPages - 1);\n        addOrRemoveCssClass(this.btLast, 'ag-disabled', this.lastButtonDisabled);\n        setAriaDisabled(this.btLast, this.lastButtonDisabled);\n    };\n    PaginationComp.prototype.updateRowLabels = function () {\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var pageSize = this.paginationProxy.getPageSize();\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var rowCount = this.paginationProxy.isLastPageFound() ?\n            this.paginationProxy.getMasterRowCount() : null;\n        var startRow;\n        var endRow;\n        if (this.isZeroPagesToDisplay()) {\n            startRow = endRow = 0;\n        }\n        else {\n            startRow = (pageSize * currentPage) + 1;\n            endRow = startRow + pageSize - 1;\n            if (maxRowFound && endRow > rowCount) {\n                endRow = rowCount;\n            }\n        }\n        this.lbFirstRowOnPage.innerHTML = this.formatNumber(startRow);\n        if (this.serverSideRowModel && this.serverSideRowModel.isLoading()) {\n            this.lbLastRowOnPage.innerHTML = '?';\n        }\n        else {\n            this.lbLastRowOnPage.innerHTML = this.formatNumber(endRow);\n        }\n    };\n    PaginationComp.prototype.isZeroPagesToDisplay = function () {\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        return maxRowFound && totalPages === 0;\n    };\n    PaginationComp.prototype.setTotalLabels = function () {\n        var lastPageFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        var rowCount = lastPageFound ?\n            this.paginationProxy.getMasterRowCount() : null;\n        if (lastPageFound) {\n            this.lbTotal.innerHTML = this.formatNumber(totalPages);\n            this.lbRecordCount.innerHTML = this.formatNumber(rowCount);\n        }\n        else {\n            var moreText = this.gridOptionsWrapper.getLocaleTextFunc()('more', 'more');\n            this.lbTotal.innerHTML = moreText;\n            this.lbRecordCount.innerHTML = moreText;\n        }\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PaginationComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], PaginationComp.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], PaginationComp.prototype, \"rowModel\", void 0);\n    __decorate([\n        RefSelector('btFirst')\n    ], PaginationComp.prototype, \"btFirst\", void 0);\n    __decorate([\n        RefSelector('btPrevious')\n    ], PaginationComp.prototype, \"btPrevious\", void 0);\n    __decorate([\n        RefSelector('btNext')\n    ], PaginationComp.prototype, \"btNext\", void 0);\n    __decorate([\n        RefSelector('btLast')\n    ], PaginationComp.prototype, \"btLast\", void 0);\n    __decorate([\n        RefSelector('lbRecordCount')\n    ], PaginationComp.prototype, \"lbRecordCount\", void 0);\n    __decorate([\n        RefSelector('lbFirstRowOnPage')\n    ], PaginationComp.prototype, \"lbFirstRowOnPage\", void 0);\n    __decorate([\n        RefSelector('lbLastRowOnPage')\n    ], PaginationComp.prototype, \"lbLastRowOnPage\", void 0);\n    __decorate([\n        RefSelector('lbCurrent')\n    ], PaginationComp.prototype, \"lbCurrent\", void 0);\n    __decorate([\n        RefSelector('lbTotal')\n    ], PaginationComp.prototype, \"lbTotal\", void 0);\n    __decorate([\n        PostConstruct\n    ], PaginationComp.prototype, \"postConstruct\", null);\n    return PaginationComp;\n}(Component));\nexport { PaginationComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nvar NoRowsOverlayComponent = /** @class */ (function (_super) {\n    __extends(NoRowsOverlayComponent, _super);\n    function NoRowsOverlayComponent() {\n        return _super.call(this) || this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    NoRowsOverlayComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    NoRowsOverlayComponent.prototype.init = function (params) {\n        var template = this.gridOptionsWrapper.getOverlayNoRowsTemplate() ?\n            this.gridOptionsWrapper.getOverlayNoRowsTemplate() : NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE;\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var localisedTemplate = template.replace('[NO_ROWS_TO_SHOW]', localeTextFunc('noRowsToShow', 'No Rows To Show'));\n        this.setTemplate(localisedTemplate);\n    };\n    NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE = '<span class=\"ag-overlay-no-rows-center\">[NO_ROWS_TO_SHOW]</span>';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], NoRowsOverlayComponent.prototype, \"gridOptionsWrapper\", void 0);\n    return NoRowsOverlayComponent;\n}(Component));\nexport { NoRowsOverlayComponent };\n","import { Component, ContentChildren, Input, QueryList } from \"@angular/core\";\nimport { ColDef } from \"@ag-grid-community/core\";\n\n@Component({\n    selector: 'ag-grid-column',\n    template: ''\n})\nexport class AgGridColumn {\n    @ContentChildren(AgGridColumn) public childColumns: QueryList<AgGridColumn>;\n\n    public hasChildColumns(): boolean {\n        if (this.childColumns && this.childColumns.length > 0) {\n            // necessary because of https://github.com/angular/angular/issues/10098\n            return !(this.childColumns.length === 1 && this.childColumns.first === this);\n        }\n        return false;\n    }\n\n    public toColDef(): ColDef {\n        let colDef: ColDef = this.createColDefFromGridColumn(this);\n\n        if (this.hasChildColumns()) {\n            (<any>colDef)[\"children\"] = this.getChildColDefs(this.childColumns);\n        }\n        return colDef;\n    }\n\n    private getChildColDefs(childColumns: QueryList<AgGridColumn>) {\n        return childColumns\n            // necessary because of https://github.com/angular/angular/issues/10098\n            .filter(column => !column.hasChildColumns())\n            .map((column: AgGridColumn) => {\n                return column.toColDef();\n            });\n    };\n\n    private createColDefFromGridColumn(from: AgGridColumn): ColDef {\n        let { childColumns, ...colDef } = from;\n        return colDef;\n    };\n\n    // inputs - pretty much most of ColDef, with the exception of template, templateUrl and internal only properties\n    // @START@\n    @Input() public children: any;\n    @Input() public sortingOrder: any;\n    @Input() public allowedAggFuncs: any;\n    @Input() public menuTabs: any;\n    @Input() public cellClassRules: any;\n    @Input() public icons: any;\n    @Input() public headerGroupComponent: any;\n    @Input() public headerGroupComponentFramework: any;\n    @Input() public headerGroupComponentParams: any;\n    @Input() public cellStyle: any;\n    @Input() public cellRendererParams: any;\n    @Input() public cellEditorFramework: any;\n    @Input() public cellEditorParams: any;\n    @Input() public pinnedRowCellRendererFramework: any;\n    @Input() public pinnedRowCellRendererParams: any;\n    @Input() public filterFramework: any;\n    @Input() public filterParams: any;\n    @Input() public headerComponent: any;\n    @Input() public headerComponentFramework: any;\n    @Input() public headerComponentParams: any;\n    @Input() public floatingFilterComponent: any;\n    @Input() public floatingFilterComponentParams: any;\n    @Input() public floatingFilterComponentFramework: any;\n    @Input() public tooltipComponent: any;\n    @Input() public tooltipComponentParams: any;\n    @Input() public tooltipComponentFramework: any;\n    @Input() public refData: any;\n    @Input() public columnsMenuParams: any;\n    @Input() public headerName: any;\n    @Input() public columnGroupShow: any;\n    @Input() public headerClass: any;\n    @Input() public toolPanelClass: any;\n    @Input() public headerValueGetter: any;\n    @Input() public groupId: any;\n    @Input() public colId: any;\n    @Input() public sort: any;\n    @Input() public initialSort: any;\n    @Input() public field: any;\n    @Input() public type: any;\n    @Input() public tooltipField: any;\n    @Input() public headerTooltip: any;\n    @Input() public cellClass: any;\n    @Input() public showRowGroup: any;\n    @Input() public filter: any;\n    @Input() public initialAggFunc: any;\n    @Input() public aggFunc: any;\n    @Input() public cellRenderer: any;\n    @Input() public cellEditor: any;\n    @Input() public pinned: any;\n    @Input() public initialPinned: any;\n    @Input() public chartDataType: any;\n    @Input() public sortedAt: any;\n    @Input() public sortIndex: any;\n    @Input() public initialSortIndex: any;\n    @Input() public flex: any;\n    @Input() public initialFlex: any;\n    @Input() public width: any;\n    @Input() public initialWidth: any;\n    @Input() public minWidth: any;\n    @Input() public maxWidth: any;\n    @Input() public rowGroupIndex: any;\n    @Input() public initialRowGroupIndex: any;\n    @Input() public pivotIndex: any;\n    @Input() public initialPivotIndex: any;\n    @Input() public dndSourceOnRowDrag: any;\n    @Input() public valueGetter: any;\n    @Input() public valueSetter: any;\n    @Input() public filterValueGetter: any;\n    @Input() public keyCreator: any;\n    @Input() public cellRendererFramework: any;\n    @Input() public pinnedRowCellRenderer: any;\n    @Input() public valueFormatter: any;\n    @Input() public pinnedRowValueFormatter: any;\n    @Input() public valueParser: any;\n    @Input() public comparator: any;\n    @Input() public equals: any;\n    @Input() public pivotComparator: any;\n    @Input() public suppressKeyboardEvent: any;\n    @Input() public colSpan: any;\n    @Input() public rowSpan: any;\n    @Input() public getQuickFilterText: any;\n    @Input() public newValueHandler: any;\n    @Input() public onCellValueChanged: any;\n    @Input() public onCellClicked: any;\n    @Input() public onCellDoubleClicked: any;\n    @Input() public onCellContextMenu: any;\n    @Input() public rowDragText: any;\n    @Input() public tooltipValueGetter: any;\n    @Input() public cellRendererSelector: any;\n    @Input() public cellEditorSelector: any;\n    @Input() public suppressCellFlash: any;\n    @Input() public suppressColumnsToolPanel: any;\n    @Input() public suppressFiltersToolPanel: any;\n    @Input() public openByDefault: any;\n    @Input() public marryChildren: any;\n    @Input() public hide: any;\n    @Input() public initialHide: any;\n    @Input() public rowGroup: any;\n    @Input() public initialRowGroup: any;\n    @Input() public pivot: any;\n    @Input() public initialPivot: any;\n    @Input() public checkboxSelection: any;\n    @Input() public headerCheckboxSelection: any;\n    @Input() public headerCheckboxSelectionFilteredOnly: any;\n    @Input() public suppressMenu: any;\n    @Input() public suppressMovable: any;\n    @Input() public lockPosition: any;\n    @Input() public lockVisible: any;\n    @Input() public lockPinned: any;\n    @Input() public unSortIcon: any;\n    @Input() public suppressSizeToFit: any;\n    @Input() public suppressAutoSize: any;\n    @Input() public enableRowGroup: any;\n    @Input() public enablePivot: any;\n    @Input() public enableValue: any;\n    @Input() public editable: any;\n    @Input() public suppressPaste: any;\n    @Input() public suppressNavigable: any;\n    @Input() public enableCellChangeFlash: any;\n    @Input() public rowDrag: any;\n    @Input() public dndSource: any;\n    @Input() public autoHeight: any;\n    @Input() public wrapText: any;\n    @Input() public sortable: any;\n    @Input() public resizable: any;\n    @Input() public singleClickEdit: any;\n    @Input() public floatingFilter: any;\n    // @END@\n\n}\n","import {Injectable, NgZone} from \"@angular/core\";\nimport {VanillaFrameworkOverrides} from \"@ag-grid-community/core\";\n\n@Injectable()\nexport class AngularFrameworkOverrides extends VanillaFrameworkOverrides {\n    constructor(private _ngZone: NgZone) {\n        super();\n    }\n\n    public setTimeout(action: any, timeout?: any): void {\n        this._ngZone.runOutsideAngular(() => {\n            window.setTimeout(() => {\n                action();\n            }, timeout);\n        });\n    }\n\n    addEventListenerOutsideAngular(element: HTMLElement, type: string, listener: EventListener | EventListenerObject, useCapture?: boolean): void {\n        this._ngZone.runOutsideAngular(() => {\n            super.addEventListenerOutsideAngular(element, type, listener, useCapture);\n        });\n    }\n}\n","import {ComponentFactoryResolver, ComponentRef, Injectable, ViewContainerRef} from \"@angular/core\";\nimport {BaseComponentWrapper, FrameworkComponentWrapper, WrapableInterface} from '@ag-grid-community/core';\nimport {AgFrameworkComponent} from \"./interfaces\";\n\n@Injectable()\nexport class AngularFrameworkComponentWrapper extends BaseComponentWrapper<WrapableInterface> implements FrameworkComponentWrapper {\n    private viewContainerRef: ViewContainerRef;\n    private componentFactoryResolver: ComponentFactoryResolver;\n\n    public setViewContainerRef(viewContainerRef: ViewContainerRef) {\n        this.viewContainerRef = viewContainerRef;\n    }\n\n    public setComponentFactoryResolver(componentFactoryResolver: ComponentFactoryResolver) {\n        this.componentFactoryResolver = componentFactoryResolver;\n    }\n\n    createWrapper(OriginalConstructor: { new(): any }): WrapableInterface {\n        let that = this;\n\n        class DynamicAgNg2Component extends BaseGuiComponent<any, AgFrameworkComponent<any>> implements WrapableInterface {\n            init(params: any): void {\n                super.init(params);\n                this._componentRef.changeDetectorRef.detectChanges();\n            }\n\n            protected createComponent(): ComponentRef<AgFrameworkComponent<any>> {\n                return that.createComponent(OriginalConstructor);\n            }\n\n            hasMethod(name: string): boolean {\n                return wrapper.getFrameworkComponentInstance()[name] != null;\n            }\n\n            callMethod(name: string, args: IArguments): void {\n                const componentRef = this.getFrameworkComponentInstance();\n                return wrapper.getFrameworkComponentInstance()[name].apply(componentRef, args)\n\n            }\n\n            addMethod(name: string, callback: Function): void {\n                wrapper[name] = callback\n            }\n        }\n\n        let wrapper: DynamicAgNg2Component = new DynamicAgNg2Component();\n        return wrapper;\n    }\n\n    public createComponent<T>(componentType: { new(...args: any[]): T; }): ComponentRef<T> {\n        // used to cache the factory, but this a) caused issues when used with either webpack/angularcli with --prod\n        // but more significantly, the underlying implementation of resolveComponentFactory uses a map too, so us\n        // caching the factory here yields no performance benefits\n        let factory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n        return this.viewContainerRef.createComponent(factory);\n    }\n}\n\nabstract class BaseGuiComponent<P, T extends AgFrameworkComponent<P>> {\n    protected _params: P;\n    protected _eGui: HTMLElement;\n    protected _componentRef: ComponentRef<T>;\n    protected _agAwareComponent: T;\n    protected _frameworkComponentInstance: any;  // the users component - for accessing methods they create\n\n    protected init(params: P): void {\n        this._params = params;\n\n        this._componentRef = this.createComponent();\n        this._agAwareComponent = this._componentRef.instance;\n        this._frameworkComponentInstance = this._componentRef.instance;\n        this._eGui = this._componentRef.location.nativeElement;\n\n        this._agAwareComponent.agInit(this._params);\n    }\n\n    public getGui(): HTMLElement {\n        return this._eGui;\n    }\n\n    public destroy(): void {\n        if (this._componentRef) {\n            this._componentRef.destroy();\n        }\n    }\n\n    public getFrameworkComponentInstance(): any {\n        return this._frameworkComponentInstance;\n    }\n\n    protected abstract createComponent(): ComponentRef<T>;\n}\n","import {\n    AfterViewInit,\n    Component,\n    ComponentFactoryResolver,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    Input,\n    Output,\n    QueryList,\n    ViewContainerRef,\n    ViewEncapsulation\n} from \"@angular/core\";\n\nimport {\n    ColDef,\n    ColumnApi,\n    ComponentUtil,\n    Grid,\n    GridApi,\n    GridOptions,\n    GridParams,\n    Module,\n    Promise,\n    _\n} from \"@ag-grid-community/core\";\n\nimport { AngularFrameworkOverrides } from \"./angularFrameworkOverrides\";\nimport { AngularFrameworkComponentWrapper } from \"./angularFrameworkComponentWrapper\";\nimport { AgGridColumn } from \"./ag-grid-column.component\";\n\n@Component({\n    selector: 'ag-grid-angular',\n    template: '',\n    providers: [\n        AngularFrameworkOverrides,\n        AngularFrameworkComponentWrapper\n    ],\n    // tell angular we don't want view encapsulation, we don't want a shadow root\n    encapsulation: ViewEncapsulation.None\n})\nexport class AgGridAngular implements AfterViewInit {\n    // not intended for user to interact with. so putting _ in so if user gets reference\n    // to this object, they kind'a know it's not part of the agreed interface\n    private _nativeElement: any;\n    private _initialised = false;\n    private _destroyed = false;\n\n    private gridParams: GridParams;\n\n    // in order to ensure firing of gridReady is deterministic\n    private _fullyReady: Promise<boolean> = Promise.resolve(true);\n\n    // making these public, so they are accessible to people using the ng2 component references\n    public api: GridApi;\n    public columnApi: ColumnApi;\n\n    @ContentChildren(AgGridColumn) public columns: QueryList<AgGridColumn>;\n\n    constructor(elementDef: ElementRef,\n        private viewContainerRef: ViewContainerRef,\n        private angularFrameworkOverrides: AngularFrameworkOverrides,\n        private frameworkComponentWrapper: AngularFrameworkComponentWrapper,\n        private _componentFactoryResolver: ComponentFactoryResolver) {\n        this._nativeElement = elementDef.nativeElement;\n\n        this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef);\n        this.frameworkComponentWrapper.setComponentFactoryResolver(this._componentFactoryResolver);\n    }\n\n    ngAfterViewInit(): void {\n        this.gridOptions = ComponentUtil.copyAttributesToGridOptions(this.gridOptions, this, true);\n\n        this.gridParams = {\n            globalEventListener: this.globalEventListener.bind(this),\n            frameworkOverrides: this.angularFrameworkOverrides,\n            providedBeanInstances: {\n                frameworkComponentWrapper: this.frameworkComponentWrapper\n            },\n            modules: (this.modules || []) as any\n        };\n\n        if (this.columns && this.columns.length > 0) {\n            this.gridOptions.columnDefs = this.columns\n                .map((column: AgGridColumn): ColDef => {\n                    return column.toColDef();\n                });\n        }\n\n        new Grid(this._nativeElement, this.gridOptions, this.gridParams);\n\n        if (this.gridOptions.api) {\n            this.api = this.gridOptions.api;\n        }\n\n        if (this.gridOptions.columnApi) {\n            this.columnApi = this.gridOptions.columnApi;\n        }\n\n        this._initialised = true;\n\n        // sometimes, especially in large client apps gridReady can fire before ngAfterViewInit\n        // this ties these together so that gridReady will always fire after agGridAngular's ngAfterViewInit\n        // the actual containing component's ngAfterViewInit will fire just after agGridAngular's\n        this._fullyReady.resolveNow(null, resolve => resolve);\n    }\n\n    public ngOnChanges(changes: any): void {\n        if (this._initialised) {\n            ComponentUtil.processOnChange(changes, this.gridOptions, this.api, this.columnApi);\n        }\n    }\n\n    public ngOnDestroy(): void {\n        if (this._initialised) {\n            // need to do this before the destroy, so we know not to emit any events\n            // while tearing down the grid.\n            this._destroyed = true;\n            if (this.api) {\n                this.api.destroy();\n            }\n        }\n    }\n\n    private globalEventListener(eventType: string, event: any): void {\n        // if we are tearing down, don't emit angular events, as this causes\n        // problems with the angular router\n        if (this._destroyed) {\n            return;\n        }\n\n        // generically look up the eventType\n        let emitter = <EventEmitter<any>>(<any>this)[eventType];\n        if (emitter) {\n            if (eventType === 'gridReady') {\n                // if the user is listening for gridReady, wait for ngAfterViewInit to fire first, then emit the\n                // gridReady event\n                this._fullyReady.then((result => {\n                    emitter.emit(event);\n                }));\n            } else {\n                emitter.emit(event);\n            }\n        } else {\n            console.log('ag-Grid-angular: could not find EventEmitter: ' + eventType);\n        }\n    }\n\n    @Input() public gridOptions: GridOptions;\n    @Input() public modules: Module[];\n\n    // @START@\n    @Input() public alignedGrids : any = undefined;\n    @Input() public rowData : any = undefined;\n    @Input() public columnDefs : any = undefined;\n    @Input() public excelStyles : any = undefined;\n    @Input() public pinnedTopRowData : any = undefined;\n    @Input() public pinnedBottomRowData : any = undefined;\n    @Input() public chartThemes : any = undefined;\n    @Input() public components : any = undefined;\n    @Input() public frameworkComponents : any = undefined;\n    @Input() public rowStyle : any = undefined;\n    @Input() public context : any = undefined;\n    @Input() public autoGroupColumnDef : any = undefined;\n    @Input() public localeText : any = undefined;\n    @Input() public icons : any = undefined;\n    @Input() public datasource : any = undefined;\n    @Input() public serverSideDatasource : any = undefined;\n    @Input() public viewportDatasource : any = undefined;\n    @Input() public groupRowRendererParams : any = undefined;\n    @Input() public aggFuncs : any = undefined;\n    @Input() public fullWidthCellRendererParams : any = undefined;\n    @Input() public defaultColGroupDef : any = undefined;\n    @Input() public defaultColDef : any = undefined;\n    @Input() public defaultExportParams : any = undefined;\n    @Input() public columnTypes : any = undefined;\n    @Input() public rowClassRules : any = undefined;\n    @Input() public detailGridOptions : any = undefined;\n    @Input() public detailCellRendererParams : any = undefined;\n    @Input() public loadingCellRendererParams : any = undefined;\n    @Input() public loadingOverlayComponentParams : any = undefined;\n    @Input() public noRowsOverlayComponentParams : any = undefined;\n    @Input() public popupParent : any = undefined;\n    @Input() public colResizeDefault : any = undefined;\n    @Input() public reduxStore : any = undefined;\n    @Input() public statusBar : any = undefined;\n    @Input() public sideBar : any = undefined;\n    @Input() public chartThemeOverrides : any = undefined;\n    @Input() public customChartThemes : any = undefined;\n    @Input() public sortingOrder : any = undefined;\n    @Input() public rowClass : any = undefined;\n    @Input() public rowSelection : any = undefined;\n    @Input() public overlayLoadingTemplate : any = undefined;\n    @Input() public overlayNoRowsTemplate : any = undefined;\n    @Input() public quickFilterText : any = undefined;\n    @Input() public rowModelType : any = undefined;\n    @Input() public editType : any = undefined;\n    @Input() public domLayout : any = undefined;\n    @Input() public clipboardDeliminator : any = undefined;\n    @Input() public rowGroupPanelShow : any = undefined;\n    @Input() public multiSortKey : any = undefined;\n    @Input() public pivotColumnGroupTotals : any = undefined;\n    @Input() public pivotRowTotals : any = undefined;\n    @Input() public pivotPanelShow : any = undefined;\n    @Input() public fillHandleDirection : any = undefined;\n    @Input() public rowHeight : any = undefined;\n    @Input() public detailRowHeight : any = undefined;\n    @Input() public rowBuffer : any = undefined;\n    @Input() public colWidth : any = undefined;\n    @Input() public headerHeight : any = undefined;\n    @Input() public groupHeaderHeight : any = undefined;\n    @Input() public floatingFiltersHeight : any = undefined;\n    @Input() public pivotHeaderHeight : any = undefined;\n    @Input() public pivotGroupHeaderHeight : any = undefined;\n    @Input() public groupDefaultExpanded : any = undefined;\n    @Input() public minColWidth : any = undefined;\n    @Input() public maxColWidth : any = undefined;\n    @Input() public viewportRowModelPageSize : any = undefined;\n    @Input() public viewportRowModelBufferSize : any = undefined;\n    @Input() public autoSizePadding : any = undefined;\n    @Input() public maxBlocksInCache : any = undefined;\n    @Input() public maxConcurrentDatasourceRequests : any = undefined;\n    @Input() public tooltipShowDelay : any = undefined;\n    @Input() public cacheOverflowSize : any = undefined;\n    @Input() public paginationPageSize : any = undefined;\n    @Input() public cacheBlockSize : any = undefined;\n    @Input() public infiniteInitialRowCount : any = undefined;\n    @Input() public scrollbarWidth : any = undefined;\n    @Input() public batchUpdateWaitMillis : any = undefined;\n    @Input() public asyncTransactionWaitMillis : any = undefined;\n    @Input() public blockLoadDebounceMillis : any = undefined;\n    @Input() public keepDetailRowsCount : any = undefined;\n    @Input() public undoRedoCellEditingLimit : any = undefined;\n    @Input() public cellFlashDelay : any = undefined;\n    @Input() public cellFadeDelay : any = undefined;\n    @Input() public localeTextFunc : any = undefined;\n    @Input() public groupRowInnerRenderer : any = undefined;\n    @Input() public groupRowInnerRendererFramework : any = undefined;\n    @Input() public dateComponent : any = undefined;\n    @Input() public dateComponentFramework : any = undefined;\n    @Input() public groupRowRenderer : any = undefined;\n    @Input() public groupRowRendererFramework : any = undefined;\n    @Input() public isExternalFilterPresent : any = undefined;\n    @Input() public getRowHeight : any = undefined;\n    @Input() public doesExternalFilterPass : any = undefined;\n    @Input() public getRowClass : any = undefined;\n    @Input() public getRowStyle : any = undefined;\n    @Input() public getRowClassRules : any = undefined;\n    @Input() public traverseNode : any = undefined;\n    @Input() public getContextMenuItems : any = undefined;\n    @Input() public getMainMenuItems : any = undefined;\n    @Input() public processRowPostCreate : any = undefined;\n    @Input() public processCellForClipboard : any = undefined;\n    @Input() public groupRowAggNodes : any = undefined;\n    @Input() public getRowNodeId : any = undefined;\n    @Input() public isFullWidthCell : any = undefined;\n    @Input() public fullWidthCellRenderer : any = undefined;\n    @Input() public fullWidthCellRendererFramework : any = undefined;\n    @Input() public processSecondaryColDef : any = undefined;\n    @Input() public processSecondaryColGroupDef : any = undefined;\n    @Input() public getBusinessKeyForNode : any = undefined;\n    @Input() public sendToClipboard : any = undefined;\n    @Input() public navigateToNextCell : any = undefined;\n    @Input() public tabToNextCell : any = undefined;\n    @Input() public getDetailRowData : any = undefined;\n    @Input() public processCellFromClipboard : any = undefined;\n    @Input() public getDocument : any = undefined;\n    @Input() public postProcessPopup : any = undefined;\n    @Input() public getChildCount : any = undefined;\n    @Input() public getDataPath : any = undefined;\n    @Input() public loadingCellRenderer : any = undefined;\n    @Input() public loadingCellRendererFramework : any = undefined;\n    @Input() public loadingOverlayComponent : any = undefined;\n    @Input() public loadingOverlayComponentFramework : any = undefined;\n    @Input() public noRowsOverlayComponent : any = undefined;\n    @Input() public noRowsOverlayComponentFramework : any = undefined;\n    @Input() public detailCellRenderer : any = undefined;\n    @Input() public detailCellRendererFramework : any = undefined;\n    @Input() public defaultGroupSortComparator : any = undefined;\n    @Input() public isRowMaster : any = undefined;\n    @Input() public isRowSelectable : any = undefined;\n    @Input() public postSort : any = undefined;\n    @Input() public processHeaderForClipboard : any = undefined;\n    @Input() public paginationNumberFormatter : any = undefined;\n    @Input() public processDataFromClipboard : any = undefined;\n    @Input() public getServerSideGroupKey : any = undefined;\n    @Input() public isServerSideGroup : any = undefined;\n    @Input() public suppressKeyboardEvent : any = undefined;\n    @Input() public createChartContainer : any = undefined;\n    @Input() public processChartOptions : any = undefined;\n    @Input() public getChartToolbarItems : any = undefined;\n    @Input() public fillOperation : any = undefined;\n    @Input() public suppressMakeColumnVisibleAfterUnGroup : any = undefined;\n    @Input() public suppressRowClickSelection : any = undefined;\n    @Input() public suppressCellSelection : any = undefined;\n    @Input() public suppressHorizontalScroll : any = undefined;\n    @Input() public alwaysShowVerticalScroll : any = undefined;\n    @Input() public debug : any = undefined;\n    @Input() public enableBrowserTooltips : any = undefined;\n    @Input() public enableCellExpressions : any = undefined;\n    @Input() public angularCompileRows : any = undefined;\n    @Input() public angularCompileFilters : any = undefined;\n    @Input() public groupSuppressAutoColumn : any = undefined;\n    @Input() public groupSelectsChildren : any = undefined;\n    @Input() public groupIncludeFooter : any = undefined;\n    @Input() public groupIncludeTotalFooter : any = undefined;\n    @Input() public groupUseEntireRow : any = undefined;\n    @Input() public groupSuppressBlankHeader : any = undefined;\n    @Input() public suppressMenuHide : any = undefined;\n    @Input() public suppressRowDeselection : any = undefined;\n    @Input() public unSortIcon : any = undefined;\n    @Input() public suppressMultiSort : any = undefined;\n    @Input() public singleClickEdit : any = undefined;\n    @Input() public suppressLoadingOverlay : any = undefined;\n    @Input() public suppressNoRowsOverlay : any = undefined;\n    @Input() public suppressAutoSize : any = undefined;\n    @Input() public skipHeaderOnAutoSize : any = undefined;\n    @Input() public suppressParentsInRowNodes : any = undefined;\n    @Input() public suppressColumnMoveAnimation : any = undefined;\n    @Input() public suppressMovableColumns : any = undefined;\n    @Input() public suppressFieldDotNotation : any = undefined;\n    @Input() public enableRangeSelection : any = undefined;\n    @Input() public enableRangeHandle : any = undefined;\n    @Input() public enableFillHandle : any = undefined;\n    @Input() public suppressClearOnFillReduction : any = undefined;\n    @Input() public deltaSort : any = undefined;\n    @Input() public suppressTouch : any = undefined;\n    @Input() public suppressAsyncEvents : any = undefined;\n    @Input() public allowContextMenuWithControlKey : any = undefined;\n    @Input() public suppressContextMenu : any = undefined;\n    @Input() public rememberGroupStateWhenNewData : any = undefined;\n    @Input() public enableCellChangeFlash : any = undefined;\n    @Input() public suppressDragLeaveHidesColumns : any = undefined;\n    @Input() public suppressMiddleClickScrolls : any = undefined;\n    @Input() public suppressPreventDefaultOnMouseWheel : any = undefined;\n    @Input() public suppressCopyRowsToClipboard : any = undefined;\n    @Input() public copyHeadersToClipboard : any = undefined;\n    @Input() public pivotMode : any = undefined;\n    @Input() public suppressAggFuncInHeader : any = undefined;\n    @Input() public suppressColumnVirtualisation : any = undefined;\n    @Input() public suppressAggAtRootLevel : any = undefined;\n    @Input() public suppressFocusAfterRefresh : any = undefined;\n    @Input() public functionsPassive : any = undefined;\n    @Input() public functionsReadOnly : any = undefined;\n    @Input() public animateRows : any = undefined;\n    @Input() public groupSelectsFiltered : any = undefined;\n    @Input() public groupRemoveSingleChildren : any = undefined;\n    @Input() public groupRemoveLowestSingleChildren : any = undefined;\n    @Input() public enableRtl : any = undefined;\n    @Input() public suppressClickEdit : any = undefined;\n    @Input() public rowDragManaged : any = undefined;\n    @Input() public suppressRowDrag : any = undefined;\n    @Input() public suppressMoveWhenRowDragging : any = undefined;\n    @Input() public enableMultiRowDragging : any = undefined;\n    @Input() public enableGroupEdit : any = undefined;\n    @Input() public embedFullWidthRows : any = undefined;\n    @Input() public deprecatedEmbedFullWidthRows : any = undefined;\n    @Input() public suppressPaginationPanel : any = undefined;\n    @Input() public floatingFilter : any = undefined;\n    @Input() public groupHideOpenParents : any = undefined;\n    @Input() public groupMultiAutoColumn : any = undefined;\n    @Input() public pagination : any = undefined;\n    @Input() public stopEditingWhenGridLosesFocus : any = undefined;\n    @Input() public paginationAutoPageSize : any = undefined;\n    @Input() public suppressScrollOnNewData : any = undefined;\n    @Input() public purgeClosedRowNodes : any = undefined;\n    @Input() public cacheQuickFilter : any = undefined;\n    @Input() public deltaRowDataMode : any = undefined;\n    @Input() public ensureDomOrder : any = undefined;\n    @Input() public accentedSort : any = undefined;\n    @Input() public suppressChangeDetection : any = undefined;\n    @Input() public valueCache : any = undefined;\n    @Input() public valueCacheNeverExpires : any = undefined;\n    @Input() public aggregateOnlyChangedColumns : any = undefined;\n    @Input() public suppressAnimationFrame : any = undefined;\n    @Input() public suppressExcelExport : any = undefined;\n    @Input() public suppressCsvExport : any = undefined;\n    @Input() public treeData : any = undefined;\n    @Input() public masterDetail : any = undefined;\n    @Input() public suppressMultiRangeSelection : any = undefined;\n    @Input() public enterMovesDownAfterEdit : any = undefined;\n    @Input() public enterMovesDown : any = undefined;\n    @Input() public suppressPropertyNamesCheck : any = undefined;\n    @Input() public rowMultiSelectWithClick : any = undefined;\n    @Input() public suppressEnterpriseResetOnNewColumns : any = undefined;\n    @Input() public enableOldSetFilterModel : any = undefined;\n    @Input() public suppressRowHoverHighlight : any = undefined;\n    @Input() public suppressRowTransform : any = undefined;\n    @Input() public suppressClipboardPaste : any = undefined;\n    @Input() public suppressLastEmptyLineOnPaste : any = undefined;\n    @Input() public serverSideSortingAlwaysResets : any = undefined;\n    @Input() public reactNext : any = undefined;\n    @Input() public suppressSetColumnStateEvents : any = undefined;\n    @Input() public suppressColumnStateEvents : any = undefined;\n    @Input() public enableCharts : any = undefined;\n    @Input() public deltaColumnMode : any = undefined;\n    @Input() public suppressMaintainUnsortedOrder : any = undefined;\n    @Input() public enableCellTextSelection : any = undefined;\n    @Input() public suppressBrowserResizeObserver : any = undefined;\n    @Input() public suppressMaxRenderedRowRestriction : any = undefined;\n    @Input() public excludeChildrenWhenTreeDataFiltering : any = undefined;\n    @Input() public tooltipMouseTrack : any = undefined;\n    @Input() public keepDetailRows : any = undefined;\n    @Input() public paginateChildRows : any = undefined;\n    @Input() public preventDefaultOnContextMenu : any = undefined;\n    @Input() public undoRedoCellEditing : any = undefined;\n    @Input() public allowDragFromColumnsToolPanel : any = undefined;\n    @Input() public immutableData : any = undefined;\n    @Input() public immutableColumns : any = undefined;\n    @Input() public pivotSuppressAutoColumn : any = undefined;\n    @Input() public suppressExpandablePivotGroups : any = undefined;\n    @Input() public applyColumnDefOrder : any = undefined;\n    @Input() public debounceVerticalScrollbar : any = undefined;\n\n    @Output() public columnEverythingChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public newColumnsLoaded: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnPivotModeChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnRowGroupChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public expandOrCollapseAll: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnPivotChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public gridColumnsChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnValueChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnMoved: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnVisible: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnPinned: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnGroupOpened: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnResized: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public displayedColumnsChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public virtualColumnsChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowGroupOpened: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDataChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDataUpdated: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public pinnedRowDataChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rangeSelectionChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public chartCreated: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public chartRangeSelectionChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public chartOptionsChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public chartDestroyed: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public toolPanelVisibleChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public modelUpdated: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public pasteStart: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public pasteEnd: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public fillStart: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public fillEnd: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellClicked: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellDoubleClicked: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellMouseDown: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellContextMenu: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellValueChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowValueChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellFocused: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowSelected: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public selectionChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellKeyDown: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellKeyPress: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellMouseOver: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellMouseOut: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public filterChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public filterModified: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public filterOpened: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public sortChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public virtualRowRemoved: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowClicked: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDoubleClicked: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public gridReady: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public gridSizeChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public viewportChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public firstDataRendered: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public dragStarted: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public dragStopped: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public checkboxChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowEditingStarted: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowEditingStopped: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellEditingStarted: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public cellEditingStopped: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public bodyScroll: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public animationQueueEmpty: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public heightScaleChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public paginationChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public componentStateChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public bodyHeightChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public displayedColumnsWidthChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public scrollVisibilityChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnHoverChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public flashCells: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public paginationPixelOffsetChanged: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDragEnter: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDragMove: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDragLeave: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public rowDragEnd: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public popupToFront: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnRowGroupChangeRequest: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnPivotChangeRequest: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnValueChangeRequest: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public columnAggFuncChangeRequest: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public keyboardFocus: EventEmitter<any> = new EventEmitter<any>();\n    @Output() public mouseFocus: EventEmitter<any> = new EventEmitter<any>();\n    // @END@\n}\n","import {ANALYZE_FOR_ENTRY_COMPONENTS, ModuleWithProviders, NgModule} from '@angular/core';\n\nimport {AgGridAngular} from './ag-grid-angular.component';\nimport {AgGridColumn} from './ag-grid-column.component';\n\n@NgModule({\n    declarations: [AgGridAngular, AgGridColumn],\n    imports: [],\n    exports: [AgGridAngular, AgGridColumn]\n})\nexport class AgGridModule {\n    static withComponents(components?: any): ModuleWithProviders<any> {\n        return {\n            ngModule: AgGridModule,\n            providers: [\n                {provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: components, multi: true}\n            ],\n        };\n    }\n\n    static forRoot(components?: any): ModuleWithProviders<any> {\n        return {\n            ngModule: AgGridModule,\n            providers: [\n                {provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: components, multi: true}\n            ],\n        };\n    }\n\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { PopupComponent } from \"../../widgets/popupComponent\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { missing } from \"../../utils/generic\";\nimport { KeyCode } from '../../constants/keyCode';\nvar SelectCellEditor = /** @class */ (function (_super) {\n    __extends(SelectCellEditor, _super);\n    function SelectCellEditor() {\n        var _this = _super.call(this, '<div class=\"ag-cell-edit-wrapper\"><ag-select class=\"ag-cell-editor\" ref=\"eSelect\"></ag-select></div>') || this;\n        _this.startedByEnter = false;\n        return _this;\n    }\n    SelectCellEditor.prototype.init = function (params) {\n        var _this = this;\n        this.focusAfterAttached = params.cellStartedEdit;\n        if (missing(params.values)) {\n            console.warn('ag-Grid: no values found for select cellEditor');\n            return;\n        }\n        this.startedByEnter = params.keyPress === KeyCode.ENTER;\n        var hasValue = false;\n        params.values.forEach(function (value) {\n            var option = { value: value };\n            var valueFormatted = _this.valueFormatterService.formatValue(params.column, null, null, value);\n            var valueFormattedExits = valueFormatted !== null && valueFormatted !== undefined;\n            option.text = valueFormattedExits ? valueFormatted : value;\n            _this.eSelect.addOption(option);\n            hasValue = hasValue || params.value === value;\n        });\n        if (hasValue) {\n            this.eSelect.setValue(params.value, true);\n        }\n        else if (params.values.length) {\n            this.eSelect.setValue(params.values[0], true);\n        }\n        // we don't want to add this if full row editing, otherwise selecting will stop the\n        // full row editing.\n        if (!this.gridOptionsWrapper.isFullRowEdit()) {\n            this.eSelect.onValueChange(function () { return params.stopEditing(); });\n        }\n    };\n    SelectCellEditor.prototype.afterGuiAttached = function () {\n        if (this.focusAfterAttached) {\n            this.eSelect.getFocusableElement().focus();\n        }\n        if (this.startedByEnter) {\n            this.eSelect.showPicker();\n        }\n    };\n    SelectCellEditor.prototype.focusIn = function () {\n        this.eSelect.getFocusableElement().focus();\n    };\n    SelectCellEditor.prototype.getValue = function () {\n        return this.eSelect.getValue();\n    };\n    SelectCellEditor.prototype.isPopup = function () {\n        return false;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SelectCellEditor.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('valueFormatterService')\n    ], SelectCellEditor.prototype, \"valueFormatterService\", void 0);\n    __decorate([\n        RefSelector('eSelect')\n    ], SelectCellEditor.prototype, \"eSelect\", void 0);\n    return SelectCellEditor;\n}(PopupComponent));\nexport { SelectCellEditor };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar globalObj = typeof global === 'undefined' ? {} : global;\nglobalObj.HTMLElement = typeof HTMLElement === 'undefined' ? {} : HTMLElement;\nglobalObj.HTMLButtonElement = typeof HTMLButtonElement === 'undefined' ? {} : HTMLButtonElement;\nglobalObj.HTMLSelectElement = typeof HTMLSelectElement === 'undefined' ? {} : HTMLSelectElement;\nglobalObj.HTMLInputElement = typeof HTMLInputElement === 'undefined' ? {} : HTMLInputElement;\nglobalObj.Node = typeof Node === 'undefined' ? {} : Node;\nglobalObj.MouseEvent = typeof MouseEvent === 'undefined' ? {} : MouseEvent;\n// columnController\nexport { ColumnFactory } from \"./columnController/columnFactory\";\nexport { ColumnController } from \"./columnController/columnController\";\nexport { ColumnKeyCreator } from \"./columnController/columnKeyCreator\";\nexport { ColumnUtils } from \"./columnController/columnUtils\";\nexport { DisplayedGroupCreator } from \"./columnController/displayedGroupCreator\";\nexport { GroupInstanceIdCreator } from \"./columnController/groupInstanceIdCreator\";\n// components\nexport { ComponentUtil } from \"./components/componentUtil\";\nexport { ColDefUtil } from \"./components/colDefUtil\";\nexport { UserComponentRegistry } from \"./components/framework/userComponentRegistry\";\nexport { UserComponentFactory } from \"./components/framework/userComponentFactory\";\nexport { initialiseAgGridWithAngular1 } from \"./components/agGridNg1\";\nexport { initialiseAgGridWithWebComponents } from \"./components/agGridWebComponent\";\n// context\nexport { BeanStub } from \"./context/beanStub\";\nexport { Context, Autowired, PostConstruct, PreConstruct, Optional, Bean, Qualifier, PreDestroy } from \"./context/context\";\nexport { QuerySelector, GuiListener, RefSelector, GridListener } from \"./widgets/componentAnnotations\";\n// dragAndDrop\nexport { DragAndDropService, DragSourceType, HorizontalDirection, VerticalDirection } from \"./dragAndDrop/dragAndDropService\";\nexport { DragService } from \"./dragAndDrop/dragService\";\n// entities\nexport { Column } from \"./entities/column\";\nexport { ColumnGroup } from \"./entities/columnGroup\";\nexport { OriginalColumnGroup } from \"./entities/originalColumnGroup\";\nexport { RowNode } from \"./entities/rowNode\";\nexport { FilterManager } from \"./filter/filterManager\";\nexport { ProvidedFilter } from \"./filter/provided/providedFilter\";\nexport { SimpleFilter } from \"./filter/provided/simpleFilter\";\nexport { ScalarFilter } from \"./filter/provided/scalarFilter\";\nexport { NumberFilter } from \"./filter/provided/number/numberFilter\";\nexport { TextFilter } from \"./filter/provided/text/textFilter\";\nexport { DateFilter } from \"./filter/provided/date/dateFilter\";\nexport { TextFloatingFilter } from './filter/provided/text/textFloatingFilter';\nexport { FloatingFilterWrapper } from './filter/floating/floatingFilterWrapper';\nexport { FloatingFilterMapper } from './filter/floating/floatingFilterMapper';\n// gridPanel\nexport { GridPanel } from \"./gridPanel/gridPanel\";\nexport { ScrollVisibleService } from \"./gridPanel/scrollVisibleService\";\nexport { MouseEventService } from \"./gridPanel/mouseEventService\";\n// headerRendering\nexport { BodyDropPivotTarget } from \"./headerRendering/bodyDropPivotTarget\";\nexport { BodyDropTarget } from \"./headerRendering/bodyDropTarget\";\nexport { CssClassApplier } from \"./headerRendering/cssClassApplier\";\nexport { HeaderContainer } from \"./headerRendering/headerContainer\";\nexport { HeaderRootComp } from \"./headerRendering/headerRootComp\";\nexport { HeaderRowComp } from \"./headerRendering/headerRowComp\";\nexport { HorizontalResizeService } from \"./headerRendering/horizontalResizeService\";\nexport { MoveColumnController } from \"./headerRendering/moveColumnController\";\nexport { StandardMenuFactory } from \"./headerRendering/standardMenu\";\n// layout\nexport { TabbedLayout } from \"./layout/tabbedLayout\";\n// misc\nexport { simpleHttpRequest } from \"./misc/simpleHttpRequest\";\nexport { ResizeObserverService } from \"./misc/resizeObserverService\";\nexport { LargeTextCellEditor } from \"./rendering/cellEditors/largeTextCellEditor\";\nexport { PopupEditorWrapper } from \"./rendering/cellEditors/popupEditorWrapper\";\nexport { PopupSelectCellEditor } from \"./rendering/cellEditors/popupSelectCellEditor\";\nexport { PopupTextCellEditor } from \"./rendering/cellEditors/popupTextCellEditor\";\nexport { SelectCellEditor } from \"./rendering/cellEditors/selectCellEditor\";\nexport { TextCellEditor } from \"./rendering/cellEditors/textCellEditor\";\nexport { AnimateShowChangeCellRenderer } from \"./rendering/cellRenderers/animateShowChangeCellRenderer\";\nexport { AnimateSlideCellRenderer } from \"./rendering/cellRenderers/animateSlideCellRenderer\";\nexport { GroupCellRenderer } from \"./rendering/cellRenderers/groupCellRenderer\";\n// features\nexport { SetLeftFeature } from \"./rendering/features/setLeftFeature\";\n// rendering\nexport { AutoWidthCalculator } from \"./rendering/autoWidthCalculator\";\nexport { CellRendererFactory } from \"./rendering/cellRendererFactory\";\nexport { CheckboxSelectionComponent } from \"./rendering/checkboxSelectionComponent\";\nexport { CellComp } from \"./rendering/cellComp\";\nexport { RowComp } from \"./rendering/row/rowComp\";\nexport { RowRenderer } from \"./rendering/rowRenderer\";\nexport { ValueFormatterService } from \"./rendering/valueFormatterService\";\n// row models\nexport { PinnedRowModel } from \"./pinnedRowModel/pinnedRowModel\";\nexport { ChangedPath } from \"./utils/changedPath\";\nexport { RowNodeBlock } from \"./modules/rowNodeCache/rowNodeBlock\";\nexport { RowNodeBlockLoader } from \"./modules/rowNodeCache/rowNodeBlockLoader\";\nexport { RowNodeCache } from \"./modules/rowNodeCache/rowNodeCache\";\nexport { PaginationProxy } from \"./pagination/paginationProxy\";\n//styling\nexport { StylingService } from \"./styling/stylingService\";\n// widgets\nexport { AgAbstractField } from \"./widgets/agAbstractField\";\nexport { AgCheckbox } from \"./widgets/agCheckbox\";\nexport { AgRadioButton } from \"./widgets/agRadioButton\";\nexport { AgToggleButton } from \"./widgets/agToggleButton\";\nexport { AgInputTextField } from \"./widgets/agInputTextField\";\nexport { AgInputTextArea } from \"./widgets/agInputTextArea\";\nexport { AgInputNumberField } from \"./widgets/agInputNumberField\";\nexport { AgInputRange } from \"./widgets/agInputRange\";\nexport { AgSelect } from \"./widgets/agSelect\";\nexport { AgSlider } from \"./widgets/agSlider\";\nexport { AgAngleSelect } from \"./widgets/agAngleSelect\";\nexport { AgColorPicker } from \"./widgets/agColorPicker\";\nexport { AgGroupComponent } from \"./widgets/agGroupComponent\";\nexport { AgDialog } from \"./widgets/agDialog\";\nexport { AgPanel } from \"./widgets/agPanel\";\nexport { Component } from \"./widgets/component\";\nexport { ManagedFocusComponent } from \"./widgets/managedFocusComponent\";\nexport { PopupComponent } from \"./widgets/popupComponent\";\nexport { PopupService } from \"./widgets/popupService\";\nexport { TouchListener } from \"./widgets/touchListener\";\nexport { VirtualList } from \"./widgets/virtualList\";\n// range\nexport { CellRangeType, SelectionHandleType } from \"./interfaces/iRangeController\";\n// root\nexport { VanillaFrameworkOverrides } from \"./vanillaFrameworkOverrides\";\nexport { CellNavigationService } from \"./cellNavigationService\";\nexport { AlignedGridsService } from \"./alignedGridsService\";\nexport { Constants } from \"./constants/constants\";\nexport { KeyCode } from \"./constants/keyCode\";\nexport { Grid } from \"./grid\";\nexport { GridApi } from \"./gridApi\";\nexport { Events } from \"./eventKeys\";\nexport { FocusController } from \"./focusController\";\nexport { defaultGroupComparator } from \"./functions\";\nexport { GridOptionsWrapper } from \"./gridOptionsWrapper\";\nexport { EventService } from \"./eventService\";\nexport { SelectableService } from \"./rowNodes/selectableService\";\nexport { GridCore } from \"./gridCore\";\nexport { Logger, LoggerFactory } from \"./logger\";\nexport { SelectionController } from \"./selectionController\";\nexport { SortController } from \"./sortController\";\nexport { TemplateService } from \"./templateService\";\nexport * from \"./utils\";\nexport { ValueService } from \"./valueService/valueService\";\nexport { ValueCache } from \"./valueService/valueCache\";\nexport { ExpressionService } from \"./valueService/expressionService\";\nexport { CellPositionUtils } from \"./entities/cellPosition\";\nexport { RowPositionUtils } from \"./entities/rowPosition\";\nexport { HeaderPositionUtils } from \"./headerRendering/header/headerPosition\";\nexport { HeaderNavigationService, HeaderNavigationDirection } from \"./headerRendering/header/headerNavigationService\";\nexport * from \"./propertyKeys\";\nexport { ColumnApi } from \"./columnController/columnApi\";\nexport { BaseComponentWrapper } from \"./components/framework/frameworkComponentWrapper\";\nexport { Environment } from \"./environment\";\nexport { TooltipFeature } from \"./widgets/tooltipFeature\";\n// charts\nexport * from \"./interfaces/iChartOptions\";\nexport { ModuleNames } from \"./modules/moduleNames\";\nexport { ModuleRegistry } from \"./modules/moduleRegistry\";\n//  events\nexport * from \"./events\";\n","import { ModuleNames } from \"@ag-grid-community/core\";\nimport { CsvCreator } from \"./csvExport/csvCreator\";\nimport { Downloader } from \"./csvExport/downloader\";\nimport { XmlFactory } from \"./csvExport/xmlFactory\";\nimport { GridSerializer } from \"./csvExport/gridSerializer\";\nimport { ZipContainer } from \"./csvExport/zipContainer\";\nexport var CsvExportModule = {\n    moduleName: ModuleNames.CsvExportModule,\n    beans: [CsvCreator, Downloader, XmlFactory, GridSerializer, ZipContainer]\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nvar ComponentMetadataProvider = /** @class */ (function (_super) {\n    __extends(ComponentMetadataProvider, _super);\n    function ComponentMetadataProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComponentMetadataProvider.prototype.postConstruct = function () {\n        this.componentMetaData = {\n            dateComponent: {\n                mandatoryMethodList: ['getDate', 'setDate'],\n                optionalMethodList: ['afterGuiAttached', 'setInputPlaceholder', 'setInputAriaLabel']\n            },\n            detailCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh']\n            },\n            headerComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh']\n            },\n            headerGroupComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            loadingCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            loadingOverlayComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            noRowsOverlayComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            floatingFilterComponent: {\n                mandatoryMethodList: ['onParentModelChanged'],\n                optionalMethodList: ['afterGuiAttached']\n            },\n            floatingFilterWrapperComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            cellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            cellEditor: {\n                mandatoryMethodList: ['getValue'],\n                optionalMethodList: ['isPopup', 'isCancelBeforeStart', 'isCancelAfterEnd', 'getPopupPosition', 'focusIn', 'focusOut', 'afterGuiAttached']\n            },\n            innerRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            fullWidthCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            pinnedRowCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            groupRowRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            filter: {\n                mandatoryMethodList: ['isFilterActive', 'doesFilterPass', 'getModel', 'setModel'],\n                optionalMethodList: ['afterGuiAttached', 'onNewRowsLoaded', 'getModelAsString', 'onFloatingFilterChanged']\n            },\n            filterComponent: {\n                mandatoryMethodList: ['isFilterActive', 'doesFilterPass', 'getModel', 'setModel'],\n                optionalMethodList: ['afterGuiAttached', 'onNewRowsLoaded', 'getModelAsString', 'onFloatingFilterChanged']\n            },\n            statusPanel: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n            },\n            toolPanel: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached']\n            },\n            tooltipComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            }\n        };\n    };\n    ComponentMetadataProvider.prototype.retrieve = function (name) {\n        return this.componentMetaData[name];\n    };\n    __decorate([\n        Autowired(\"agComponentUtils\")\n    ], ComponentMetadataProvider.prototype, \"agComponentUtils\", void 0);\n    __decorate([\n        PostConstruct\n    ], ComponentMetadataProvider.prototype, \"postConstruct\", null);\n    ComponentMetadataProvider = __decorate([\n        Bean(\"componentMetadataProvider\")\n    ], ComponentMetadataProvider);\n    return ComponentMetadataProvider;\n}(BeanStub));\nexport { ComponentMetadataProvider };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar ValueCache = /** @class */ (function (_super) {\n    __extends(ValueCache, _super);\n    function ValueCache() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cacheVersion = 0;\n        return _this;\n    }\n    ValueCache.prototype.init = function () {\n        this.active = this.gridOptionsWrapper.isValueCache();\n        this.neverExpires = this.gridOptionsWrapper.isValueCacheNeverExpires();\n    };\n    ValueCache.prototype.onDataChanged = function () {\n        if (this.neverExpires) {\n            return;\n        }\n        this.expire();\n    };\n    ValueCache.prototype.expire = function () {\n        this.cacheVersion++;\n    };\n    ValueCache.prototype.setValue = function (rowNode, colId, value) {\n        if (this.active) {\n            if (rowNode.__cacheVersion !== this.cacheVersion) {\n                rowNode.__cacheVersion = this.cacheVersion;\n                rowNode.__cacheData = {};\n            }\n            rowNode.__cacheData[colId] = value;\n        }\n    };\n    ValueCache.prototype.getValue = function (rowNode, colId) {\n        if (!this.active || rowNode.__cacheVersion !== this.cacheVersion) {\n            return undefined;\n        }\n        return rowNode.__cacheData[colId];\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ValueCache.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], ValueCache.prototype, \"init\", null);\n    ValueCache = __decorate([\n        Bean('valueCache')\n    ], ValueCache);\n    return ValueCache;\n}(BeanStub));\nexport { ValueCache };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { exists } from \"../../utils/generic\";\nimport { pushAll } from \"../../utils/array\";\nimport { Autowired, Bean } from \"../../context/context\";\n/**\n * Common logic for RowComp and AutoHeightCalculator\n */\nvar RowCssClassCalculator = /** @class */ (function () {\n    function RowCssClassCalculator() {\n    }\n    RowCssClassCalculator.prototype.getInitialRowClasses = function (params) {\n        var classes = [];\n        if (exists(params.extraCssClass)) {\n            classes.push(params.extraCssClass);\n        }\n        classes.push('ag-row');\n        classes.push(params.rowFocused ? 'ag-row-focus' : 'ag-row-no-focus');\n        if (params.fadeRowIn) {\n            classes.push('ag-opacity-zero');\n        }\n        classes.push(params.rowIsEven ? 'ag-row-even' : 'ag-row-odd');\n        if (params.rowNode.isRowPinned()) {\n            classes.push('ag-row-pinned');\n        }\n        if (params.rowNode.isSelected()) {\n            classes.push('ag-row-selected');\n        }\n        if (params.rowNode.footer) {\n            classes.push('ag-row-footer');\n        }\n        classes.push('ag-row-level-' + params.rowLevel);\n        if (params.rowNode.stub) {\n            classes.push('ag-row-loading');\n        }\n        if (params.fullWidthRow) {\n            classes.push('ag-full-width-row');\n        }\n        if (params.expandable) {\n            classes.push('ag-row-group');\n            classes.push(params.rowNode.expanded ? 'ag-row-group-expanded' : 'ag-row-group-contracted');\n        }\n        if (params.rowNode.dragging) {\n            classes.push('ag-row-dragging');\n        }\n        pushAll(classes, this.processClassesFromGridOptions(params.rowNode));\n        pushAll(classes, this.preProcessRowClassRules(params.rowNode, params.scope));\n        // we use absolute position unless we are doing print layout\n        classes.push(params.printLayout ? 'ag-row-position-relative' : 'ag-row-position-absolute');\n        if (params.firstRowOnPage) {\n            classes.push('ag-row-first');\n        }\n        if (params.lastRowOnPage) {\n            classes.push('ag-row-last');\n        }\n        return classes;\n    };\n    RowCssClassCalculator.prototype.processClassesFromGridOptions = function (rowNode) {\n        var res = [];\n        var process = function (rowCls) {\n            if (typeof rowCls === 'string') {\n                res.push(rowCls);\n            }\n            else if (Array.isArray(rowCls)) {\n                rowCls.forEach(function (e) { return res.push(e); });\n            }\n        };\n        // part 1 - rowClass\n        var rowClass = this.gridOptionsWrapper.getRowClass();\n        if (rowClass) {\n            if (typeof rowClass === 'function') {\n                console.warn('ag-Grid: rowClass should not be a function, please use getRowClass instead');\n                return;\n            }\n            process(rowClass);\n        }\n        // part 2 - rowClassFunc\n        var rowClassFunc = this.gridOptionsWrapper.getRowClassFunc();\n        if (rowClassFunc) {\n            var params = {\n                node: rowNode,\n                data: rowNode.data,\n                rowIndex: rowNode.rowIndex,\n                context: this.gridOptionsWrapper.getContext(),\n                api: this.gridOptionsWrapper.getApi()\n            };\n            var rowClassFuncResult = rowClassFunc(params);\n            process(rowClassFuncResult);\n        }\n        return res;\n    };\n    RowCssClassCalculator.prototype.preProcessRowClassRules = function (rowNode, scope) {\n        var res = [];\n        this.processRowClassRules(rowNode, scope, function (className) {\n            res.push(className);\n        }, function (className) {\n            // not catered for, if creating, no need\n            // to remove class as it was never there\n        });\n        return res;\n    };\n    RowCssClassCalculator.prototype.processRowClassRules = function (rowNode, scope, onApplicableClass, onNotApplicableClass) {\n        this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(), {\n            value: undefined,\n            colDef: undefined,\n            data: rowNode.data,\n            node: rowNode,\n            rowIndex: rowNode.rowIndex,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            $scope: scope,\n            context: this.gridOptionsWrapper.getContext()\n        }, onApplicableClass, onNotApplicableClass);\n    };\n    RowCssClassCalculator.prototype.calculateRowLevel = function (rowNode) {\n        if (rowNode.group) {\n            return rowNode.level;\n        }\n        else {\n            // if a leaf, and a parent exists, put a level of the parent, else put level of 0 for top level item\n            return rowNode.parent ? (rowNode.parent.level + 1) : 0;\n        }\n    };\n    RowCssClassCalculator.prototype.isExpandable = function (rowNode) {\n        var isTreeData = this.gridOptionsWrapper.isTreeData();\n        var res = isTreeData ?\n            // if doing tree data, we add the expanded classes if any children, as any node can be a parent\n            rowNode.childrenAfterGroup != null && rowNode.childrenAfterGroup.length > 0 :\n            // if normal row grouping, we add expanded classes to groups only\n            rowNode.group && !rowNode.footer;\n        return res;\n    };\n    __decorate([\n        Autowired('stylingService')\n    ], RowCssClassCalculator.prototype, \"stylingService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], RowCssClassCalculator.prototype, \"gridOptionsWrapper\", void 0);\n    RowCssClassCalculator = __decorate([\n        Bean('rowCssClassCalculator')\n    ], RowCssClassCalculator);\n    return RowCssClassCalculator;\n}());\nexport { RowCssClassCalculator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { debounce } from \"../utils/function\";\nimport { offsetHeight, offsetWidth } from \"../utils/dom\";\nvar ResizeObserverService = /** @class */ (function (_super) {\n    __extends(ResizeObserverService, _super);\n    function ResizeObserverService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ResizeObserverService.prototype.observeResize = function (element, callback, debounceDelay) {\n        if (debounceDelay === void 0) { debounceDelay = 50; }\n        // put in variable, so available to usePolyfill() function below\n        var frameworkFactory = this.getFrameworkOverrides();\n        // this gets fired too often and might cause some relayout issues\n        // so we add a debounce to the callback here to avoid the flashing effect.\n        var debouncedCallback = debounce(callback, debounceDelay);\n        var useBrowserResizeObserver = function () {\n            var resizeObserver = new window.ResizeObserver(debouncedCallback);\n            resizeObserver.observe(element);\n            return function () { return resizeObserver.disconnect(); };\n        };\n        var usePolyfill = function () {\n            // initialise to the current width and height, so first call will have no changes\n            var widthLastTime = offsetWidth(element);\n            var heightLastTime = offsetHeight(element);\n            // when finished, this gets turned to false.\n            var running = true;\n            var periodicallyCheckWidthAndHeight = function () {\n                if (running) {\n                    var newWidth = offsetWidth(element);\n                    var newHeight = offsetHeight(element);\n                    var changed = newWidth !== widthLastTime || newHeight !== heightLastTime;\n                    if (changed) {\n                        widthLastTime = newWidth;\n                        heightLastTime = newHeight;\n                        callback();\n                    }\n                    frameworkFactory.setTimeout(periodicallyCheckWidthAndHeight, debounceDelay);\n                }\n            };\n            periodicallyCheckWidthAndHeight();\n            // the callback function we return sets running to false\n            return function () { return running = false; };\n        };\n        var suppressResize = this.gridOptionsWrapper.isSuppressBrowserResizeObserver();\n        var resizeObserverExists = !!window.ResizeObserver;\n        if (resizeObserverExists && !suppressResize) {\n            return useBrowserResizeObserver();\n        }\n        else {\n            return usePolyfill();\n        }\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ResizeObserverService.prototype, \"gridOptionsWrapper\", void 0);\n    ResizeObserverService = __decorate([\n        Bean('resizeObserverService')\n    ], ResizeObserverService);\n    return ResizeObserverService;\n}(BeanStub));\nexport { ResizeObserverService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, Optional, PostConstruct } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { exists } from \"../utils/generic\";\nimport { last } from \"../utils/array\";\nimport { KeyCode } from '../constants/keyCode';\nvar NavigationService = /** @class */ (function (_super) {\n    __extends(NavigationService, _super);\n    function NavigationService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.timeLastPageEventProcessed = 0;\n        return _this;\n    }\n    NavigationService.prototype.init = function () {\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n    };\n    NavigationService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    NavigationService.prototype.handlePageScrollingKey = function (event) {\n        var key = event.which || event.keyCode;\n        var alt = event.altKey;\n        var ctrl = event.ctrlKey;\n        var currentCell = this.mouseEventService.getCellPositionForEvent(event);\n        if (!currentCell) {\n            return false;\n        }\n        var processed = false;\n        switch (key) {\n            case KeyCode.PAGE_HOME:\n            case KeyCode.PAGE_END:\n                // handle home and end when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onHomeOrEndKey(key);\n                    processed = true;\n                }\n                break;\n            case KeyCode.LEFT:\n            case KeyCode.RIGHT:\n                // handle left and right when ctrl is pressed only\n                if (ctrl && !alt) {\n                    this.onCtrlLeftOrRight(key, currentCell);\n                    processed = true;\n                }\n                break;\n            case KeyCode.UP:\n            case KeyCode.DOWN:\n                // handle up and down when ctrl is pressed only\n                if (ctrl && !alt) {\n                    this.onCtrlUpOrDown(key, currentCell);\n                    processed = true;\n                }\n                break;\n            case KeyCode.PAGE_DOWN:\n                // handle page up and page down when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onPageDown(currentCell);\n                    processed = true;\n                }\n                break;\n            case KeyCode.PAGE_UP:\n                // handle page up and page down when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onPageUp(currentCell);\n                    processed = true;\n                }\n                break;\n        }\n        if (processed) {\n            event.preventDefault();\n        }\n        return processed;\n    };\n    // the page up/down keys caused a problem, in that if the user\n    // held the page up/down key down, lots of events got generated,\n    // which clogged up the event queue (as they take time to process)\n    // which in turn froze the grid. Logic below makes sure we wait 100ms\n    // between processing the page up/down events, so when user has finger\n    // held down on key, we ignore page up/down events until 100ms has passed,\n    // which effectively empties the queue of page up/down events.\n    NavigationService.prototype.isTimeSinceLastPageEventToRecent = function () {\n        var now = new Date().getTime();\n        var diff = now - this.timeLastPageEventProcessed;\n        return (diff < 100);\n    };\n    NavigationService.prototype.setTimeLastPageEventProcessed = function () {\n        this.timeLastPageEventProcessed = new Date().getTime();\n    };\n    NavigationService.prototype.onPageDown = function (gridCell) {\n        if (this.isTimeSinceLastPageEventToRecent()) {\n            return;\n        }\n        var scrollPosition = this.gridPanel.getVScrollPosition();\n        var pixelsInOnePage = scrollPosition.bottom - scrollPosition.top;\n        if (this.gridPanel.isHorizontalScrollShowing()) {\n            pixelsInOnePage -= this.scrollWidth;\n        }\n        var pagingPixelOffset = this.paginationProxy.getPixelOffset();\n        var currentPageBottomPixel = scrollPosition.top + pixelsInOnePage;\n        var currentPageBottomRow = this.paginationProxy.getRowIndexAtPixel(currentPageBottomPixel + pagingPixelOffset);\n        var scrollIndex = currentPageBottomRow;\n        var currentCellPixel = this.paginationProxy.getRow(gridCell.rowIndex).rowTop;\n        var nextCellPixel = currentCellPixel + pixelsInOnePage - pagingPixelOffset;\n        var focusIndex = this.paginationProxy.getRowIndexAtPixel(nextCellPixel + pagingPixelOffset);\n        var pageLastRow = this.paginationProxy.getPageLastRow();\n        if (focusIndex > pageLastRow) {\n            focusIndex = pageLastRow;\n        }\n        if (scrollIndex > pageLastRow) {\n            scrollIndex = pageLastRow;\n        }\n        this.navigateTo(scrollIndex, 'top', null, focusIndex, gridCell.column);\n        this.setTimeLastPageEventProcessed();\n    };\n    NavigationService.prototype.onPageUp = function (gridCell) {\n        if (this.isTimeSinceLastPageEventToRecent()) {\n            return;\n        }\n        var scrollPosition = this.gridPanel.getVScrollPosition();\n        var pixelsInOnePage = scrollPosition.bottom - scrollPosition.top;\n        if (this.gridPanel.isHorizontalScrollShowing()) {\n            pixelsInOnePage -= this.scrollWidth;\n        }\n        var pagingPixelOffset = this.paginationProxy.getPixelOffset();\n        var currentPageTopPixel = scrollPosition.top;\n        var currentPageTopRow = this.paginationProxy.getRowIndexAtPixel(currentPageTopPixel + pagingPixelOffset);\n        var scrollIndex = currentPageTopRow;\n        var currentRowNode = this.paginationProxy.getRow(gridCell.rowIndex);\n        var nextCellPixel = currentRowNode.rowTop + currentRowNode.rowHeight - pixelsInOnePage - pagingPixelOffset;\n        var focusIndex = this.paginationProxy.getRowIndexAtPixel(nextCellPixel + pagingPixelOffset);\n        var firstRow = this.paginationProxy.getPageFirstRow();\n        if (focusIndex < firstRow) {\n            focusIndex = firstRow;\n        }\n        if (scrollIndex < firstRow) {\n            scrollIndex = firstRow;\n        }\n        this.navigateTo(scrollIndex, 'bottom', null, focusIndex, gridCell.column);\n        this.setTimeLastPageEventProcessed();\n    };\n    // common logic to navigate. takes parameters:\n    // scrollIndex - what row to vertically scroll to\n    // scrollType - what position to put scroll index ie top/bottom\n    // scrollColumn - what column to horizontally scroll to\n    // focusIndex / focusColumn - for page up / down, we want to scroll to one row/column, but focus another\n    NavigationService.prototype.navigateTo = function (scrollIndex, scrollType, scrollColumn, focusIndex, focusColumn) {\n        if (exists(scrollColumn)) {\n            this.gridPanel.ensureColumnVisible(scrollColumn);\n        }\n        if (exists(scrollIndex)) {\n            this.gridPanel.ensureIndexVisible(scrollIndex, scrollType);\n        }\n        // make sure the cell is rendered, needed if we are to focus\n        this.animationFrameService.flushAllFrames();\n        // if we don't do this, the range will be left on the last cell, which will leave the last focused cell\n        // highlighted.\n        this.focusController.setFocusedCell(focusIndex, focusColumn, null, true);\n        if (this.rangeController) {\n            var cellPosition = { rowIndex: focusIndex, rowPinned: null, column: focusColumn };\n            this.rangeController.setRangeToCell(cellPosition);\n        }\n    };\n    // ctrl + up/down will bring focus to same column, first/last row. no horizontal scrolling.\n    NavigationService.prototype.onCtrlUpOrDown = function (key, gridCell) {\n        var upKey = key === KeyCode.UP;\n        var rowIndexToScrollTo = upKey ? 0 : this.paginationProxy.getPageLastRow();\n        this.navigateTo(rowIndexToScrollTo, null, gridCell.column, rowIndexToScrollTo, gridCell.column);\n    };\n    // ctrl + left/right will bring focus to same row, first/last cell. no vertical scrolling.\n    NavigationService.prototype.onCtrlLeftOrRight = function (key, gridCell) {\n        var leftKey = key === KeyCode.LEFT;\n        var allColumns = this.columnController.getAllDisplayedColumns();\n        var columnToSelect = leftKey ? allColumns[0] : last(allColumns);\n        this.navigateTo(gridCell.rowIndex, null, columnToSelect, gridCell.rowIndex, columnToSelect);\n    };\n    // home brings focus to top left cell, end brings focus to bottom right, grid scrolled to bring\n    // same cell into view (which means either scroll all the way up, or all the way down).\n    NavigationService.prototype.onHomeOrEndKey = function (key) {\n        var homeKey = key === KeyCode.PAGE_HOME;\n        var allColumns = this.columnController.getAllDisplayedColumns();\n        var columnToSelect = homeKey ? allColumns[0] : last(allColumns);\n        var rowIndexToScrollTo = homeKey ? this.paginationProxy.getPageFirstRow() : this.paginationProxy.getPageLastRow();\n        this.navigateTo(rowIndexToScrollTo, null, columnToSelect, rowIndexToScrollTo, columnToSelect);\n    };\n    __decorate([\n        Autowired('mouseEventService')\n    ], NavigationService.prototype, \"mouseEventService\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], NavigationService.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], NavigationService.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired('animationFrameService')\n    ], NavigationService.prototype, \"animationFrameService\", void 0);\n    __decorate([\n        Optional('rangeController')\n    ], NavigationService.prototype, \"rangeController\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], NavigationService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], NavigationService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], NavigationService.prototype, \"init\", null);\n    NavigationService = __decorate([\n        Bean('navigationService')\n    ], NavigationService);\n    return NavigationService;\n}(BeanStub));\nexport { NavigationService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { EventService } from './eventService';\nimport { Constants } from './constants/constants';\nimport { ComponentUtil } from './components/componentUtil';\nimport { Autowired, Bean, PostConstruct, PreDestroy, Qualifier } from './context/context';\nimport { PropertyKeys } from './propertyKeys';\nimport { ColDefUtil } from './components/colDefUtil';\nimport { Events } from './eventKeys';\nimport { SideBarDefParser } from './entities/sideBar';\nimport { ModuleNames } from './modules/moduleNames';\nimport { iterateObject } from './utils/object';\nimport { ModuleRegistry } from './modules/moduleRegistry';\nimport { exists, missing, values } from './utils/generic';\nimport { fuzzyCheckStrings } from './utils/fuzzyMatch';\nimport { doOnce } from './utils/function';\nimport { addOrRemoveCssClass } from './utils/dom';\nimport { getScrollbarWidth } from './utils/browser';\nvar DEFAULT_ROW_HEIGHT = 25;\nvar DEFAULT_DETAIL_ROW_HEIGHT = 300;\nvar DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE = 5;\nvar DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE = 5;\nvar DEFAULT_KEEP_DETAIL_ROW_COUNT = 10;\nfunction isTrue(value) {\n    return value === true || value === 'true';\n}\nfunction zeroOrGreater(value, defaultValue) {\n    if (value >= 0) {\n        return value;\n    }\n    // zero gets returned if number is missing or the wrong type\n    return defaultValue;\n}\nfunction oneOrGreater(value, defaultValue) {\n    if (value > 0) {\n        return value;\n    }\n    // zero gets returned if number is missing or the wrong type\n    return defaultValue;\n}\nvar GridOptionsWrapper = /** @class */ (function () {\n    function GridOptionsWrapper() {\n        this.propertyEventService = new EventService();\n        this.domDataKey = '__AG_' + Math.random().toString();\n        this.layoutElements = [];\n    }\n    GridOptionsWrapper_1 = GridOptionsWrapper;\n    GridOptionsWrapper.prototype.agWire = function (gridApi, columnApi) {\n        this.gridOptions.api = gridApi;\n        this.gridOptions.columnApi = columnApi;\n        this.checkForDeprecated();\n        this.checkForViolations();\n    };\n    GridOptionsWrapper.prototype.destroy = function () {\n        // need to remove these, as we don't own the lifecycle of the gridOptions, we need to\n        // remove the references in case the user keeps the grid options, we want the rest\n        // of the grid to be picked up by the garbage collector\n        this.gridOptions.api = null;\n        this.gridOptions.columnApi = null;\n        this.removeEventListener(GridOptionsWrapper_1.PROP_DOM_LAYOUT, this.updateLayoutClassesListener);\n    };\n    GridOptionsWrapper.prototype.init = function () {\n        var _this = this;\n        if (!(this.gridOptions.suppressPropertyNamesCheck === true)) {\n            this.checkGridOptionsProperties();\n            this.checkColumnDefProperties();\n        }\n        // parse side bar options into correct format\n        if (this.gridOptions.sideBar != null) {\n            this.gridOptions.sideBar = SideBarDefParser.parse(this.gridOptions.sideBar);\n        }\n        var async = this.useAsyncEvents();\n        this.eventService.addGlobalListener(this.globalEventHandler.bind(this), async);\n        if (this.isGroupSelectsChildren() && this.isSuppressParentsInRowNodes()) {\n            console.warn(\"ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work\");\n        }\n        if (this.isGroupSelectsChildren()) {\n            if (!this.isRowSelectionMulti()) {\n                console.warn(\"ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense\");\n            }\n            if (this.isRowModelServerSide()) {\n                console.warn('ag-Grid: group selects children is NOT support for Server Side Row Model. ' +\n                    'This is because the rows are lazy loaded, so selecting a group is not possible as' +\n                    'the grid has no way of knowing what the children are.');\n            }\n        }\n        if (this.isGroupRemoveSingleChildren() && this.isGroupHideOpenParents()) {\n            console.warn(\"ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!\");\n        }\n        if (this.isRowModelServerSide()) {\n            var msg = function (prop) { return \"ag-Grid: '\" + prop + \"' is not supported on the Server-Side Row Model\"; };\n            if (exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupDefaultExpanded'));\n            }\n            if (exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupIncludeFooter'));\n            }\n            if (exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupIncludeTotalFooter'));\n            }\n        }\n        if (this.isEnableRangeSelection()) {\n            ModuleRegistry.assertRegistered(ModuleNames.RangeSelectionModule, 'enableRangeSelection');\n        }\n        if (!this.isEnableRangeSelection() && (this.isEnableRangeHandle() || this.isEnableFillHandle())) {\n            console.warn(\"ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true\");\n        }\n        var warnOfDeprecaredIcon = function (name) {\n            if (_this.gridOptions.icons && _this.gridOptions.icons[name]) {\n                console.warn(\"gridOptions.icons.\" + name + \" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/\");\n            }\n        };\n        warnOfDeprecaredIcon('radioButtonOff');\n        warnOfDeprecaredIcon('radioButtonOn');\n        warnOfDeprecaredIcon('checkboxChecked');\n        warnOfDeprecaredIcon('checkboxUnchecked');\n        warnOfDeprecaredIcon('checkboxIndeterminate');\n        this.updateLayoutClassesListener = this.updateLayoutClasses.bind(this);\n        this.addEventListener(GridOptionsWrapper_1.PROP_DOM_LAYOUT, this.updateLayoutClassesListener);\n    };\n    GridOptionsWrapper.prototype.checkColumnDefProperties = function () {\n        var _this = this;\n        if (this.gridOptions.columnDefs == null) {\n            return;\n        }\n        this.gridOptions.columnDefs.forEach(function (colDef) {\n            var userProperties = Object.getOwnPropertyNames(colDef);\n            var validProperties = __spreadArrays(ColDefUtil.ALL_PROPERTIES, ColDefUtil.FRAMEWORK_PROPERTIES);\n            _this.checkProperties(userProperties, validProperties, validProperties, 'colDef', 'https://www.ag-grid.com/javascript-grid-column-properties/');\n        });\n    };\n    GridOptionsWrapper.prototype.checkGridOptionsProperties = function () {\n        var userProperties = Object.getOwnPropertyNames(this.gridOptions);\n        var validProperties = __spreadArrays(PropertyKeys.ALL_PROPERTIES, PropertyKeys.FRAMEWORK_PROPERTIES, values(Events).map(function (event) { return ComponentUtil.getCallbackForEvent(event); }));\n        var validPropertiesAndExceptions = __spreadArrays(validProperties, ['api', 'columnApi']);\n        this.checkProperties(userProperties, validPropertiesAndExceptions, validProperties, 'gridOptions', 'https://www.ag-grid.com/javascript-grid-properties/');\n    };\n    GridOptionsWrapper.prototype.checkProperties = function (userProperties, validPropertiesAndExceptions, validProperties, containerName, docsUrl) {\n        var invalidProperties = fuzzyCheckStrings(userProperties, validPropertiesAndExceptions, validProperties);\n        iterateObject(invalidProperties, function (key, value) {\n            console.warn(\"ag-grid: invalid \" + containerName + \" property '\" + key + \"' did you mean any of these: \" + value.slice(0, 8).join(\", \"));\n        });\n        if (Object.keys(invalidProperties).length > 0) {\n            console.warn(\"ag-grid: to see all the valid \" + containerName + \" properties please check: \" + docsUrl);\n        }\n    };\n    // returns the dom data, or undefined if not found\n    GridOptionsWrapper.prototype.getDomData = function (element, key) {\n        var domData = element[this.domDataKey];\n        return domData ? domData[key] : undefined;\n    };\n    GridOptionsWrapper.prototype.setDomData = function (element, key, value) {\n        var domData = element[this.domDataKey];\n        if (missing(domData)) {\n            domData = {};\n            element[this.domDataKey] = domData;\n        }\n        domData[key] = value;\n    };\n    GridOptionsWrapper.prototype.isRowSelection = function () {\n        return this.gridOptions.rowSelection === 'single' || this.gridOptions.rowSelection === 'multiple';\n    };\n    GridOptionsWrapper.prototype.isSuppressRowDeselection = function () {\n        return isTrue(this.gridOptions.suppressRowDeselection);\n    };\n    GridOptionsWrapper.prototype.isRowSelectionMulti = function () {\n        return this.gridOptions.rowSelection === 'multiple';\n    };\n    GridOptionsWrapper.prototype.isRowMultiSelectWithClick = function () {\n        return isTrue(this.gridOptions.rowMultiSelectWithClick);\n    };\n    GridOptionsWrapper.prototype.getContext = function () {\n        return this.gridOptions.context;\n    };\n    GridOptionsWrapper.prototype.isPivotMode = function () {\n        return isTrue(this.gridOptions.pivotMode);\n    };\n    GridOptionsWrapper.prototype.isSuppressExpandablePivotGroups = function () {\n        return isTrue(this.gridOptions.suppressExpandablePivotGroups);\n    };\n    GridOptionsWrapper.prototype.getPivotColumnGroupTotals = function () {\n        return this.gridOptions.pivotColumnGroupTotals;\n    };\n    GridOptionsWrapper.prototype.getPivotRowTotals = function () {\n        return this.gridOptions.pivotRowTotals;\n    };\n    GridOptionsWrapper.prototype.isRowModelInfinite = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_INFINITE;\n    };\n    GridOptionsWrapper.prototype.isRowModelViewport = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_VIEWPORT;\n    };\n    GridOptionsWrapper.prototype.isRowModelServerSide = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_SERVER_SIDE;\n    };\n    GridOptionsWrapper.prototype.isRowModelDefault = function () {\n        return (missing(this.gridOptions.rowModelType) ||\n            this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE);\n    };\n    GridOptionsWrapper.prototype.isFullRowEdit = function () {\n        return this.gridOptions.editType === 'fullRow';\n    };\n    GridOptionsWrapper.prototype.isSuppressFocusAfterRefresh = function () {\n        return isTrue(this.gridOptions.suppressFocusAfterRefresh);\n    };\n    GridOptionsWrapper.prototype.isSuppressBrowserResizeObserver = function () {\n        return isTrue(this.gridOptions.suppressBrowserResizeObserver);\n    };\n    GridOptionsWrapper.prototype.isSuppressMaintainUnsortedOrder = function () {\n        return isTrue(this.gridOptions.suppressMaintainUnsortedOrder);\n    };\n    GridOptionsWrapper.prototype.isSuppressClearOnFillReduction = function () {\n        return isTrue(this.gridOptions.suppressClearOnFillReduction);\n    };\n    GridOptionsWrapper.prototype.isShowToolPanel = function () {\n        return isTrue(this.gridOptions.sideBar && Array.isArray(this.getSideBar().toolPanels));\n    };\n    GridOptionsWrapper.prototype.getSideBar = function () {\n        return this.gridOptions.sideBar;\n    };\n    GridOptionsWrapper.prototype.isSuppressTouch = function () {\n        return isTrue(this.gridOptions.suppressTouch);\n    };\n    GridOptionsWrapper.prototype.isApplyColumnDefOrder = function () {\n        return isTrue(this.gridOptions.applyColumnDefOrder);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowTransform = function () {\n        return isTrue(this.gridOptions.suppressRowTransform);\n    };\n    GridOptionsWrapper.prototype.isSuppressColumnStateEvents = function () {\n        return isTrue(this.gridOptions.suppressColumnStateEvents);\n    };\n    GridOptionsWrapper.prototype.isAllowDragFromColumnsToolPanel = function () {\n        return isTrue(this.gridOptions.allowDragFromColumnsToolPanel);\n    };\n    GridOptionsWrapper.prototype.useAsyncEvents = function () {\n        return !isTrue(this.gridOptions.suppressAsyncEvents);\n    };\n    GridOptionsWrapper.prototype.isEnableCellChangeFlash = function () {\n        return isTrue(this.gridOptions.enableCellChangeFlash);\n    };\n    GridOptionsWrapper.prototype.getCellFlashDelay = function () {\n        return this.gridOptions.cellFlashDelay || 500;\n    };\n    GridOptionsWrapper.prototype.getCellFadeDelay = function () {\n        return this.gridOptions.cellFadeDelay || 1000;\n    };\n    GridOptionsWrapper.prototype.isGroupSelectsChildren = function () {\n        var result = isTrue(this.gridOptions.groupSelectsChildren);\n        if (result && this.isTreeData()) {\n            console.warn('ag-Grid: groupSelectsChildren does not work with tree data');\n            return false;\n        }\n        return result;\n    };\n    GridOptionsWrapper.prototype.isSuppressRowHoverHighlight = function () {\n        return isTrue(this.gridOptions.suppressRowHoverHighlight);\n    };\n    GridOptionsWrapper.prototype.isGroupSelectsFiltered = function () {\n        return isTrue(this.gridOptions.groupSelectsFiltered);\n    };\n    GridOptionsWrapper.prototype.isGroupHideOpenParents = function () {\n        return isTrue(this.gridOptions.groupHideOpenParents);\n    };\n    // if we are doing hideOpenParents, then we always have groupMultiAutoColumn, otherwise hideOpenParents would not work\n    GridOptionsWrapper.prototype.isGroupMultiAutoColumn = function () {\n        return isTrue(this.gridOptions.groupMultiAutoColumn) || isTrue(this.gridOptions.groupHideOpenParents);\n    };\n    GridOptionsWrapper.prototype.isGroupRemoveSingleChildren = function () {\n        return isTrue(this.gridOptions.groupRemoveSingleChildren);\n    };\n    GridOptionsWrapper.prototype.isGroupRemoveLowestSingleChildren = function () {\n        return isTrue(this.gridOptions.groupRemoveLowestSingleChildren);\n    };\n    GridOptionsWrapper.prototype.isGroupIncludeFooter = function () {\n        return isTrue(this.gridOptions.groupIncludeFooter);\n    };\n    GridOptionsWrapper.prototype.isGroupIncludeTotalFooter = function () {\n        return isTrue(this.gridOptions.groupIncludeTotalFooter);\n    };\n    GridOptionsWrapper.prototype.isGroupSuppressBlankHeader = function () {\n        return isTrue(this.gridOptions.groupSuppressBlankHeader);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowClickSelection = function () {\n        return isTrue(this.gridOptions.suppressRowClickSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressCellSelection = function () {\n        return isTrue(this.gridOptions.suppressCellSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressMultiSort = function () {\n        return isTrue(this.gridOptions.suppressMultiSort);\n    };\n    GridOptionsWrapper.prototype.isMultiSortKeyCtrl = function () {\n        return this.gridOptions.multiSortKey === 'ctrl';\n    };\n    GridOptionsWrapper.prototype.isGroupSuppressAutoColumn = function () {\n        return isTrue(this.gridOptions.groupSuppressAutoColumn);\n    };\n    GridOptionsWrapper.prototype.isPivotSuppressAutoColumn = function () {\n        return isTrue(this.gridOptions.pivotSuppressAutoColumn);\n    };\n    GridOptionsWrapper.prototype.isSuppressDragLeaveHidesColumns = function () {\n        return isTrue(this.gridOptions.suppressDragLeaveHidesColumns);\n    };\n    GridOptionsWrapper.prototype.isSuppressScrollOnNewData = function () {\n        return isTrue(this.gridOptions.suppressScrollOnNewData);\n    };\n    GridOptionsWrapper.prototype.isRowDragManaged = function () {\n        return isTrue(this.gridOptions.rowDragManaged);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowDrag = function () {\n        return isTrue(this.gridOptions.suppressRowDrag);\n    };\n    GridOptionsWrapper.prototype.isSuppressMoveWhenRowDragging = function () {\n        return isTrue(this.gridOptions.suppressMoveWhenRowDragging);\n    };\n    GridOptionsWrapper.prototype.isEnableMultiRowDragging = function () {\n        return isTrue(this.gridOptions.enableMultiRowDragging);\n    };\n    // returns either 'print', 'autoHeight' or 'normal' (normal is the default)\n    GridOptionsWrapper.prototype.getDomLayout = function () {\n        var domLayout = this.gridOptions.domLayout || Constants.DOM_LAYOUT_NORMAL;\n        var validLayouts = [\n            Constants.DOM_LAYOUT_PRINT,\n            Constants.DOM_LAYOUT_AUTO_HEIGHT,\n            Constants.DOM_LAYOUT_NORMAL\n        ];\n        if (validLayouts.indexOf(domLayout) === -1) {\n            doOnce(function () {\n                return console.warn(\"ag-Grid: \" + domLayout + \" is not valid for DOM Layout, valid values are \" + Constants.DOM_LAYOUT_NORMAL + \", \" + Constants.DOM_LAYOUT_AUTO_HEIGHT + \" and \" + Constants.DOM_LAYOUT_PRINT);\n            }, 'warn about dom layout values');\n            return Constants.DOM_LAYOUT_NORMAL;\n        }\n        return domLayout;\n    };\n    GridOptionsWrapper.prototype.isSuppressHorizontalScroll = function () {\n        return isTrue(this.gridOptions.suppressHorizontalScroll);\n    };\n    GridOptionsWrapper.prototype.isSuppressMaxRenderedRowRestriction = function () {\n        return isTrue(this.gridOptions.suppressMaxRenderedRowRestriction);\n    };\n    GridOptionsWrapper.prototype.isExcludeChildrenWhenTreeDataFiltering = function () {\n        return isTrue(this.gridOptions.excludeChildrenWhenTreeDataFiltering);\n    };\n    GridOptionsWrapper.prototype.isAlwaysShowVerticalScroll = function () {\n        return isTrue(this.gridOptions.alwaysShowVerticalScroll);\n    };\n    GridOptionsWrapper.prototype.isDebounceVerticalScrollbar = function () {\n        return isTrue(this.gridOptions.debounceVerticalScrollbar);\n    };\n    GridOptionsWrapper.prototype.isSuppressLoadingOverlay = function () {\n        return isTrue(this.gridOptions.suppressLoadingOverlay);\n    };\n    GridOptionsWrapper.prototype.isSuppressNoRowsOverlay = function () {\n        return isTrue(this.gridOptions.suppressNoRowsOverlay);\n    };\n    GridOptionsWrapper.prototype.isSuppressFieldDotNotation = function () {\n        return isTrue(this.gridOptions.suppressFieldDotNotation);\n    };\n    GridOptionsWrapper.prototype.getPinnedTopRowData = function () {\n        return this.gridOptions.pinnedTopRowData;\n    };\n    GridOptionsWrapper.prototype.getPinnedBottomRowData = function () {\n        return this.gridOptions.pinnedBottomRowData;\n    };\n    GridOptionsWrapper.prototype.isFunctionsPassive = function () {\n        return isTrue(this.gridOptions.functionsPassive);\n    };\n    GridOptionsWrapper.prototype.isSuppressChangeDetection = function () {\n        return isTrue(this.gridOptions.suppressChangeDetection);\n    };\n    GridOptionsWrapper.prototype.isSuppressAnimationFrame = function () {\n        return isTrue(this.gridOptions.suppressAnimationFrame);\n    };\n    GridOptionsWrapper.prototype.getQuickFilterText = function () {\n        return this.gridOptions.quickFilterText;\n    };\n    GridOptionsWrapper.prototype.isCacheQuickFilter = function () {\n        return isTrue(this.gridOptions.cacheQuickFilter);\n    };\n    GridOptionsWrapper.prototype.isUnSortIcon = function () {\n        return isTrue(this.gridOptions.unSortIcon);\n    };\n    GridOptionsWrapper.prototype.isSuppressMenuHide = function () {\n        return isTrue(this.gridOptions.suppressMenuHide);\n    };\n    GridOptionsWrapper.prototype.isEnterMovesDownAfterEdit = function () {\n        return isTrue(this.gridOptions.enterMovesDownAfterEdit);\n    };\n    GridOptionsWrapper.prototype.isEnterMovesDown = function () {\n        return isTrue(this.gridOptions.enterMovesDown);\n    };\n    GridOptionsWrapper.prototype.isUndoRedoCellEditing = function () {\n        return isTrue(this.gridOptions.undoRedoCellEditing);\n    };\n    GridOptionsWrapper.prototype.getUndoRedoCellEditingLimit = function () {\n        return this.gridOptions.undoRedoCellEditingLimit;\n    };\n    GridOptionsWrapper.prototype.getRowStyle = function () {\n        return this.gridOptions.rowStyle;\n    };\n    GridOptionsWrapper.prototype.getRowClass = function () {\n        return this.gridOptions.rowClass;\n    };\n    GridOptionsWrapper.prototype.getRowStyleFunc = function () {\n        return this.gridOptions.getRowStyle;\n    };\n    GridOptionsWrapper.prototype.getRowClassFunc = function () {\n        return this.gridOptions.getRowClass;\n    };\n    GridOptionsWrapper.prototype.rowClassRules = function () {\n        return this.gridOptions.rowClassRules;\n    };\n    GridOptionsWrapper.prototype.getCreateChartContainerFunc = function () {\n        return this.gridOptions.createChartContainer;\n    };\n    GridOptionsWrapper.prototype.getPopupParent = function () {\n        return this.gridOptions.popupParent;\n    };\n    GridOptionsWrapper.prototype.getBlockLoadDebounceMillis = function () {\n        return this.gridOptions.blockLoadDebounceMillis;\n    };\n    GridOptionsWrapper.prototype.getPostProcessPopupFunc = function () {\n        return this.gridOptions.postProcessPopup;\n    };\n    GridOptionsWrapper.prototype.getPaginationNumberFormatterFunc = function () {\n        return this.gridOptions.paginationNumberFormatter;\n    };\n    GridOptionsWrapper.prototype.getChildCountFunc = function () {\n        return this.gridOptions.getChildCount;\n    };\n    GridOptionsWrapper.prototype.getDefaultGroupSortComparator = function () {\n        return this.gridOptions.defaultGroupSortComparator;\n    };\n    GridOptionsWrapper.prototype.getIsFullWidthCellFunc = function () {\n        return this.gridOptions.isFullWidthCell;\n    };\n    GridOptionsWrapper.prototype.getFullWidthCellRendererParams = function () {\n        return this.gridOptions.fullWidthCellRendererParams;\n    };\n    GridOptionsWrapper.prototype.isEmbedFullWidthRows = function () {\n        return isTrue(this.gridOptions.embedFullWidthRows) || isTrue(this.gridOptions.deprecatedEmbedFullWidthRows);\n    };\n    GridOptionsWrapper.prototype.getSuppressKeyboardEventFunc = function () {\n        return this.gridOptions.suppressKeyboardEvent;\n    };\n    GridOptionsWrapper.prototype.getBusinessKeyForNodeFunc = function () {\n        return this.gridOptions.getBusinessKeyForNode;\n    };\n    GridOptionsWrapper.prototype.getApi = function () {\n        return this.gridOptions.api;\n    };\n    GridOptionsWrapper.prototype.getColumnApi = function () {\n        return this.gridOptions.columnApi;\n    };\n    GridOptionsWrapper.prototype.isImmutableData = function () {\n        return isTrue(this.gridOptions.immutableData);\n    };\n    GridOptionsWrapper.prototype.isEnsureDomOrder = function () {\n        return isTrue(this.gridOptions.ensureDomOrder);\n    };\n    GridOptionsWrapper.prototype.isEnableCharts = function () {\n        if (isTrue(this.gridOptions.enableCharts)) {\n            return ModuleRegistry.assertRegistered(ModuleNames.GridChartsModule, 'enableCharts');\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.getColResizeDefault = function () {\n        return this.gridOptions.colResizeDefault;\n    };\n    GridOptionsWrapper.prototype.isSingleClickEdit = function () {\n        return isTrue(this.gridOptions.singleClickEdit);\n    };\n    GridOptionsWrapper.prototype.isSuppressClickEdit = function () {\n        return isTrue(this.gridOptions.suppressClickEdit);\n    };\n    GridOptionsWrapper.prototype.isStopEditingWhenGridLosesFocus = function () {\n        return isTrue(this.gridOptions.stopEditingWhenGridLosesFocus);\n    };\n    GridOptionsWrapper.prototype.getGroupDefaultExpanded = function () {\n        return this.gridOptions.groupDefaultExpanded;\n    };\n    GridOptionsWrapper.prototype.getMaxConcurrentDatasourceRequests = function () {\n        return this.gridOptions.maxConcurrentDatasourceRequests;\n    };\n    GridOptionsWrapper.prototype.getMaxBlocksInCache = function () {\n        return this.gridOptions.maxBlocksInCache;\n    };\n    GridOptionsWrapper.prototype.getCacheOverflowSize = function () {\n        return this.gridOptions.cacheOverflowSize;\n    };\n    GridOptionsWrapper.prototype.getPaginationPageSize = function () {\n        return this.gridOptions.paginationPageSize;\n    };\n    GridOptionsWrapper.prototype.isPaginateChildRows = function () {\n        var shouldPaginate = this.isGroupRemoveSingleChildren() || this.isGroupRemoveLowestSingleChildren();\n        if (shouldPaginate) {\n            return true;\n        }\n        return isTrue(this.gridOptions.paginateChildRows);\n    };\n    GridOptionsWrapper.prototype.getCacheBlockSize = function () {\n        return this.gridOptions.cacheBlockSize;\n    };\n    GridOptionsWrapper.prototype.getInfiniteInitialRowCount = function () {\n        return this.gridOptions.infiniteInitialRowCount;\n    };\n    GridOptionsWrapper.prototype.isPurgeClosedRowNodes = function () {\n        return isTrue(this.gridOptions.purgeClosedRowNodes);\n    };\n    GridOptionsWrapper.prototype.isSuppressPaginationPanel = function () {\n        return isTrue(this.gridOptions.suppressPaginationPanel);\n    };\n    GridOptionsWrapper.prototype.getRowData = function () {\n        return this.gridOptions.rowData;\n    };\n    // this property is different - we never allow groupUseEntireRow if in pivot mode,\n    // as otherwise we don't see the pivot values.\n    GridOptionsWrapper.prototype.isGroupUseEntireRow = function (pivotMode) {\n        return pivotMode ? false : isTrue(this.gridOptions.groupUseEntireRow);\n    };\n    GridOptionsWrapper.prototype.isEnableRtl = function () {\n        return isTrue(this.gridOptions.enableRtl);\n    };\n    GridOptionsWrapper.prototype.getAutoGroupColumnDef = function () {\n        return this.gridOptions.autoGroupColumnDef;\n    };\n    GridOptionsWrapper.prototype.getRowGroupPanelShow = function () {\n        return this.gridOptions.rowGroupPanelShow;\n    };\n    GridOptionsWrapper.prototype.getPivotPanelShow = function () {\n        return this.gridOptions.pivotPanelShow;\n    };\n    GridOptionsWrapper.prototype.isAngularCompileRows = function () {\n        return isTrue(this.gridOptions.angularCompileRows);\n    };\n    GridOptionsWrapper.prototype.isAngularCompileFilters = function () {\n        return isTrue(this.gridOptions.angularCompileFilters);\n    };\n    GridOptionsWrapper.prototype.isDebug = function () {\n        return isTrue(this.gridOptions.debug);\n    };\n    GridOptionsWrapper.prototype.getColumnDefs = function () {\n        return this.gridOptions.columnDefs;\n    };\n    GridOptionsWrapper.prototype.getColumnTypes = function () {\n        return this.gridOptions.columnTypes;\n    };\n    GridOptionsWrapper.prototype.getDatasource = function () {\n        return this.gridOptions.datasource;\n    };\n    GridOptionsWrapper.prototype.getViewportDatasource = function () {\n        return this.gridOptions.viewportDatasource;\n    };\n    GridOptionsWrapper.prototype.getServerSideDatasource = function () {\n        return this.gridOptions.serverSideDatasource;\n    };\n    GridOptionsWrapper.prototype.isAccentedSort = function () {\n        return isTrue(this.gridOptions.accentedSort);\n    };\n    GridOptionsWrapper.prototype.isEnableBrowserTooltips = function () {\n        return isTrue(this.gridOptions.enableBrowserTooltips);\n    };\n    GridOptionsWrapper.prototype.isEnableCellExpressions = function () {\n        return isTrue(this.gridOptions.enableCellExpressions);\n    };\n    GridOptionsWrapper.prototype.isEnableGroupEdit = function () {\n        return isTrue(this.gridOptions.enableGroupEdit);\n    };\n    GridOptionsWrapper.prototype.isSuppressMiddleClickScrolls = function () {\n        return isTrue(this.gridOptions.suppressMiddleClickScrolls);\n    };\n    GridOptionsWrapper.prototype.isPreventDefaultOnContextMenu = function () {\n        return isTrue(this.gridOptions.preventDefaultOnContextMenu);\n    };\n    GridOptionsWrapper.prototype.isSuppressPreventDefaultOnMouseWheel = function () {\n        return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel);\n    };\n    GridOptionsWrapper.prototype.isSuppressColumnVirtualisation = function () {\n        return isTrue(this.gridOptions.suppressColumnVirtualisation);\n    };\n    GridOptionsWrapper.prototype.isSuppressContextMenu = function () {\n        return isTrue(this.gridOptions.suppressContextMenu);\n    };\n    GridOptionsWrapper.prototype.isAllowContextMenuWithControlKey = function () {\n        return isTrue(this.gridOptions.allowContextMenuWithControlKey);\n    };\n    GridOptionsWrapper.prototype.isSuppressCopyRowsToClipboard = function () {\n        return isTrue(this.gridOptions.suppressCopyRowsToClipboard);\n    };\n    GridOptionsWrapper.prototype.isCopyHeadersToClipboard = function () {\n        return isTrue(this.gridOptions.copyHeadersToClipboard);\n    };\n    GridOptionsWrapper.prototype.isSuppressClipboardPaste = function () {\n        return isTrue(this.gridOptions.suppressClipboardPaste);\n    };\n    GridOptionsWrapper.prototype.isSuppressLastEmptyLineOnPaste = function () {\n        return isTrue(this.gridOptions.suppressLastEmptyLineOnPaste);\n    };\n    GridOptionsWrapper.prototype.isPagination = function () {\n        return isTrue(this.gridOptions.pagination);\n    };\n    GridOptionsWrapper.prototype.isSuppressEnterpriseResetOnNewColumns = function () {\n        return isTrue(this.gridOptions.suppressEnterpriseResetOnNewColumns);\n    };\n    GridOptionsWrapper.prototype.getProcessDataFromClipboardFunc = function () {\n        return this.gridOptions.processDataFromClipboard;\n    };\n    GridOptionsWrapper.prototype.getAsyncTransactionWaitMillis = function () {\n        return exists(this.gridOptions.asyncTransactionWaitMillis) ? this.gridOptions.asyncTransactionWaitMillis : Constants.BATCH_WAIT_MILLIS;\n    };\n    GridOptionsWrapper.prototype.isSuppressMovableColumns = function () {\n        return isTrue(this.gridOptions.suppressMovableColumns);\n    };\n    GridOptionsWrapper.prototype.isAnimateRows = function () {\n        // never allow animating if enforcing the row order\n        if (this.isEnsureDomOrder()) {\n            return false;\n        }\n        return isTrue(this.gridOptions.animateRows);\n    };\n    GridOptionsWrapper.prototype.isSuppressColumnMoveAnimation = function () {\n        return isTrue(this.gridOptions.suppressColumnMoveAnimation);\n    };\n    GridOptionsWrapper.prototype.isSuppressAggFuncInHeader = function () {\n        return isTrue(this.gridOptions.suppressAggFuncInHeader);\n    };\n    GridOptionsWrapper.prototype.isSuppressAggAtRootLevel = function () {\n        return isTrue(this.gridOptions.suppressAggAtRootLevel);\n    };\n    GridOptionsWrapper.prototype.isEnableRangeSelection = function () {\n        return ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule) && isTrue(this.gridOptions.enableRangeSelection);\n    };\n    GridOptionsWrapper.prototype.isEnableRangeHandle = function () {\n        return isTrue(this.gridOptions.enableRangeHandle);\n    };\n    GridOptionsWrapper.prototype.isEnableFillHandle = function () {\n        return isTrue(this.gridOptions.enableFillHandle);\n    };\n    GridOptionsWrapper.prototype.getFillHandleDirection = function () {\n        var direction = this.gridOptions.fillHandleDirection;\n        if (!direction) {\n            return 'xy';\n        }\n        if (direction !== 'x' && direction !== 'y' && direction !== 'xy') {\n            doOnce(function () { return console.warn(\"ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.\"); }, 'warn invalid fill direction');\n            return 'xy';\n        }\n        return direction;\n    };\n    GridOptionsWrapper.prototype.getFillOperation = function () {\n        return this.gridOptions.fillOperation;\n    };\n    GridOptionsWrapper.prototype.isSuppressMultiRangeSelection = function () {\n        return isTrue(this.gridOptions.suppressMultiRangeSelection);\n    };\n    GridOptionsWrapper.prototype.isPaginationAutoPageSize = function () {\n        return isTrue(this.gridOptions.paginationAutoPageSize);\n    };\n    GridOptionsWrapper.prototype.isRememberGroupStateWhenNewData = function () {\n        return isTrue(this.gridOptions.rememberGroupStateWhenNewData);\n    };\n    GridOptionsWrapper.prototype.getIcons = function () {\n        return this.gridOptions.icons;\n    };\n    GridOptionsWrapper.prototype.getAggFuncs = function () {\n        return this.gridOptions.aggFuncs;\n    };\n    GridOptionsWrapper.prototype.getSortingOrder = function () {\n        return this.gridOptions.sortingOrder;\n    };\n    GridOptionsWrapper.prototype.getAlignedGrids = function () {\n        return this.gridOptions.alignedGrids;\n    };\n    GridOptionsWrapper.prototype.isMasterDetail = function () {\n        var masterDetail = isTrue(this.gridOptions.masterDetail);\n        if (masterDetail) {\n            return ModuleRegistry.assertRegistered(ModuleNames.MasterDetailModule, 'masterDetail');\n        }\n        else {\n            return false;\n        }\n    };\n    GridOptionsWrapper.prototype.isKeepDetailRows = function () {\n        return isTrue(this.gridOptions.keepDetailRows);\n    };\n    GridOptionsWrapper.prototype.getKeepDetailRowsCount = function () {\n        if (this.gridOptions.keepDetailRowsCount > 0) {\n            return this.gridOptions.keepDetailRowsCount;\n        }\n        return DEFAULT_KEEP_DETAIL_ROW_COUNT;\n    };\n    GridOptionsWrapper.prototype.getIsRowMasterFunc = function () {\n        return this.gridOptions.isRowMaster;\n    };\n    GridOptionsWrapper.prototype.getIsRowSelectableFunc = function () {\n        return this.gridOptions.isRowSelectable;\n    };\n    GridOptionsWrapper.prototype.getGroupRowRendererParams = function () {\n        return this.gridOptions.groupRowRendererParams;\n    };\n    GridOptionsWrapper.prototype.getOverlayLoadingTemplate = function () {\n        return this.gridOptions.overlayLoadingTemplate;\n    };\n    GridOptionsWrapper.prototype.getOverlayNoRowsTemplate = function () {\n        return this.gridOptions.overlayNoRowsTemplate;\n    };\n    GridOptionsWrapper.prototype.isSuppressAutoSize = function () {\n        return isTrue(this.gridOptions.suppressAutoSize);\n    };\n    GridOptionsWrapper.prototype.isEnableCellTextSelection = function () {\n        return isTrue(this.gridOptions.enableCellTextSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressParentsInRowNodes = function () {\n        return isTrue(this.gridOptions.suppressParentsInRowNodes);\n    };\n    GridOptionsWrapper.prototype.isFunctionsReadOnly = function () {\n        return isTrue(this.gridOptions.functionsReadOnly);\n    };\n    GridOptionsWrapper.prototype.isFloatingFilter = function () {\n        return this.gridOptions.floatingFilter;\n    };\n    GridOptionsWrapper.prototype.isEnableCellTextSelect = function () {\n        return isTrue(this.gridOptions.enableCellTextSelection);\n    };\n    GridOptionsWrapper.prototype.isEnableOldSetFilterModel = function () {\n        return isTrue(this.gridOptions.enableOldSetFilterModel);\n    };\n    GridOptionsWrapper.prototype.getDefaultColDef = function () {\n        return this.gridOptions.defaultColDef;\n    };\n    GridOptionsWrapper.prototype.getDefaultColGroupDef = function () {\n        return this.gridOptions.defaultColGroupDef;\n    };\n    GridOptionsWrapper.prototype.getDefaultExportParams = function () {\n        return this.gridOptions.defaultExportParams;\n    };\n    GridOptionsWrapper.prototype.isSuppressCsvExport = function () {\n        return isTrue(this.gridOptions.suppressCsvExport);\n    };\n    GridOptionsWrapper.prototype.isAllowShowChangeAfterFilter = function () {\n        return isTrue(this.gridOptions.allowShowChangeAfterFilter);\n    };\n    GridOptionsWrapper.prototype.isSuppressExcelExport = function () {\n        return isTrue(this.gridOptions.suppressExcelExport);\n    };\n    GridOptionsWrapper.prototype.isSuppressMakeColumnVisibleAfterUnGroup = function () {\n        return isTrue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup);\n    };\n    GridOptionsWrapper.prototype.getDataPathFunc = function () {\n        return this.gridOptions.getDataPath;\n    };\n    GridOptionsWrapper.prototype.getIsServerSideGroupFunc = function () {\n        return this.gridOptions.isServerSideGroup;\n    };\n    GridOptionsWrapper.prototype.getServerSideGroupKeyFunc = function () {\n        return this.gridOptions.getServerSideGroupKey;\n    };\n    GridOptionsWrapper.prototype.getGroupRowAggNodesFunc = function () {\n        return this.gridOptions.groupRowAggNodes;\n    };\n    GridOptionsWrapper.prototype.getContextMenuItemsFunc = function () {\n        return this.gridOptions.getContextMenuItems;\n    };\n    GridOptionsWrapper.prototype.getMainMenuItemsFunc = function () {\n        return this.gridOptions.getMainMenuItems;\n    };\n    GridOptionsWrapper.prototype.getRowNodeIdFunc = function () {\n        return this.gridOptions.getRowNodeId;\n    };\n    GridOptionsWrapper.prototype.getNavigateToNextCellFunc = function () {\n        return this.gridOptions.navigateToNextCell;\n    };\n    GridOptionsWrapper.prototype.getTabToNextCellFunc = function () {\n        return this.gridOptions.tabToNextCell;\n    };\n    GridOptionsWrapper.prototype.isTreeData = function () {\n        var usingTreeData = isTrue(this.gridOptions.treeData);\n        if (usingTreeData) {\n            return ModuleRegistry.assertRegistered(ModuleNames.RowGroupingModule, 'Tree Data');\n        }\n        else {\n            return false;\n        }\n    };\n    GridOptionsWrapper.prototype.isValueCache = function () {\n        return isTrue(this.gridOptions.valueCache);\n    };\n    GridOptionsWrapper.prototype.isValueCacheNeverExpires = function () {\n        return isTrue(this.gridOptions.valueCacheNeverExpires);\n    };\n    GridOptionsWrapper.prototype.isDeltaSort = function () {\n        return isTrue(this.gridOptions.deltaSort);\n    };\n    GridOptionsWrapper.prototype.isAggregateOnlyChangedColumns = function () {\n        return isTrue(this.gridOptions.aggregateOnlyChangedColumns);\n    };\n    GridOptionsWrapper.prototype.getProcessSecondaryColDefFunc = function () {\n        return this.gridOptions.processSecondaryColDef;\n    };\n    GridOptionsWrapper.prototype.getProcessSecondaryColGroupDefFunc = function () {\n        return this.gridOptions.processSecondaryColGroupDef;\n    };\n    GridOptionsWrapper.prototype.getSendToClipboardFunc = function () {\n        return this.gridOptions.sendToClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessRowPostCreateFunc = function () {\n        return this.gridOptions.processRowPostCreate;\n    };\n    GridOptionsWrapper.prototype.getProcessCellForClipboardFunc = function () {\n        return this.gridOptions.processCellForClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessHeaderForClipboardFunc = function () {\n        return this.gridOptions.processHeaderForClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessCellFromClipboardFunc = function () {\n        return this.gridOptions.processCellFromClipboard;\n    };\n    GridOptionsWrapper.prototype.getViewportRowModelPageSize = function () {\n        return oneOrGreater(this.gridOptions.viewportRowModelPageSize, DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE);\n    };\n    GridOptionsWrapper.prototype.getViewportRowModelBufferSize = function () {\n        return zeroOrGreater(this.gridOptions.viewportRowModelBufferSize, DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE);\n    };\n    GridOptionsWrapper.prototype.isServerSideSortingAlwaysResets = function () {\n        return isTrue(this.gridOptions.serverSideSortingAlwaysResets);\n    };\n    GridOptionsWrapper.prototype.getPostSortFunc = function () {\n        return this.gridOptions.postSort;\n    };\n    GridOptionsWrapper.prototype.getChartToolbarItemsFunc = function () {\n        return this.gridOptions.getChartToolbarItems;\n    };\n    GridOptionsWrapper.prototype.getChartThemeOverrides = function () {\n        return this.gridOptions.chartThemeOverrides;\n    };\n    GridOptionsWrapper.prototype.getCustomChartThemes = function () {\n        return this.gridOptions.customChartThemes;\n    };\n    GridOptionsWrapper.prototype.getChartThemes = function () {\n        // return default themes if user hasn't supplied any\n        return this.gridOptions.chartThemes || ['ag-default', 'ag-material', 'ag-pastel', 'ag-vivid', 'ag-solar'];\n    };\n    GridOptionsWrapper.prototype.getProcessChartOptionsFunc = function () {\n        return this.gridOptions.processChartOptions;\n    };\n    GridOptionsWrapper.prototype.getClipboardDeliminator = function () {\n        return exists(this.gridOptions.clipboardDeliminator) ? this.gridOptions.clipboardDeliminator : '\\t';\n    };\n    GridOptionsWrapper.prototype.setProperty = function (key, value, force) {\n        if (force === void 0) { force = false; }\n        var gridOptionsNoType = this.gridOptions;\n        var previousValue = gridOptionsNoType[key];\n        if (force || previousValue !== value) {\n            gridOptionsNoType[key] = value;\n            var event_1 = {\n                type: key,\n                currentValue: value,\n                previousValue: previousValue\n            };\n            this.propertyEventService.dispatchEvent(event_1);\n        }\n    };\n    // this logic is repeated in lots of places. any element that had different CSS\n    // dependent on the layout needs to have the layout class added ot it.\n    GridOptionsWrapper.prototype.addLayoutElement = function (element) {\n        this.layoutElements.push(element);\n        this.updateLayoutClasses();\n    };\n    GridOptionsWrapper.prototype.updateLayoutClasses = function () {\n        var domLayout = this.getDomLayout();\n        var domLayoutAutoHeight = domLayout === Constants.DOM_LAYOUT_AUTO_HEIGHT;\n        var domLayoutPrint = domLayout === Constants.DOM_LAYOUT_PRINT;\n        var domLayoutNormal = domLayout === Constants.DOM_LAYOUT_NORMAL;\n        this.layoutElements.forEach(function (e) {\n            addOrRemoveCssClass(e, 'ag-layout-auto-height', domLayoutAutoHeight);\n            addOrRemoveCssClass(e, 'ag-layout-normal', domLayoutNormal);\n            addOrRemoveCssClass(e, 'ag-layout-print', domLayoutPrint);\n        });\n    };\n    GridOptionsWrapper.prototype.addEventListener = function (key, listener) {\n        this.propertyEventService.addEventListener(key, listener);\n    };\n    GridOptionsWrapper.prototype.removeEventListener = function (key, listener) {\n        this.propertyEventService.removeEventListener(key, listener);\n    };\n    GridOptionsWrapper.prototype.isSkipHeaderOnAutoSize = function () {\n        return !!this.gridOptions.skipHeaderOnAutoSize;\n    };\n    GridOptionsWrapper.prototype.getAutoSizePadding = function () {\n        var value = this.gridOptions.autoSizePadding;\n        return value != null && value >= 0 ? value : 20;\n    };\n    // properties\n    GridOptionsWrapper.prototype.getHeaderHeight = function () {\n        if (typeof this.gridOptions.headerHeight === 'number') {\n            return this.gridOptions.headerHeight;\n        }\n        return this.getFromTheme(25, 'headerHeight');\n    };\n    GridOptionsWrapper.prototype.getFloatingFiltersHeight = function () {\n        if (typeof this.gridOptions.floatingFiltersHeight === 'number') {\n            return this.gridOptions.floatingFiltersHeight;\n        }\n        return this.getFromTheme(25, 'headerHeight');\n    };\n    GridOptionsWrapper.prototype.getGroupHeaderHeight = function () {\n        if (typeof this.gridOptions.groupHeaderHeight === 'number') {\n            return this.gridOptions.groupHeaderHeight;\n        }\n        return this.getHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.getPivotHeaderHeight = function () {\n        if (typeof this.gridOptions.pivotHeaderHeight === 'number') {\n            return this.gridOptions.pivotHeaderHeight;\n        }\n        return this.getHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.getPivotGroupHeaderHeight = function () {\n        if (typeof this.gridOptions.pivotGroupHeaderHeight === 'number') {\n            return this.gridOptions.pivotGroupHeaderHeight;\n        }\n        return this.getGroupHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.isExternalFilterPresent = function () {\n        if (typeof this.gridOptions.isExternalFilterPresent === 'function') {\n            return this.gridOptions.isExternalFilterPresent();\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.doesExternalFilterPass = function (node) {\n        if (typeof this.gridOptions.doesExternalFilterPass === 'function') {\n            return this.gridOptions.doesExternalFilterPass(node);\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.getTooltipShowDelay = function () {\n        var tooltipShowDelay = this.gridOptions.tooltipShowDelay;\n        if (exists(tooltipShowDelay)) {\n            if (tooltipShowDelay < 0) {\n                console.warn('ag-grid: tooltipShowDelay should not be lower than 0');\n            }\n            return Math.max(200, tooltipShowDelay);\n        }\n        return null;\n    };\n    GridOptionsWrapper.prototype.isTooltipMouseTrack = function () {\n        return isTrue(this.gridOptions.tooltipMouseTrack);\n    };\n    GridOptionsWrapper.prototype.getDocument = function () {\n        // if user is providing document, we use the users one,\n        // otherwise we use the document on the global namespace.\n        var result = null;\n        if (this.gridOptions.getDocument && exists(this.gridOptions.getDocument)) {\n            result = this.gridOptions.getDocument();\n        }\n        if (result && exists(result)) {\n            return result;\n        }\n        return document;\n    };\n    GridOptionsWrapper.prototype.getMinColWidth = function () {\n        if (this.gridOptions.minColWidth > GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return this.gridOptions.minColWidth;\n        }\n        var measuredMin = this.getFromTheme(null, 'headerCellMinWidth');\n        return Math.max(measuredMin, GridOptionsWrapper_1.MIN_COL_WIDTH);\n    };\n    GridOptionsWrapper.prototype.getMaxColWidth = function () {\n        if (this.gridOptions.maxColWidth && this.gridOptions.maxColWidth > GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return this.gridOptions.maxColWidth;\n        }\n        return null;\n    };\n    GridOptionsWrapper.prototype.getColWidth = function () {\n        if (typeof this.gridOptions.colWidth !== 'number' || this.gridOptions.colWidth < GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return 200;\n        }\n        return this.gridOptions.colWidth;\n    };\n    GridOptionsWrapper.prototype.getRowBuffer = function () {\n        var rowBuffer = this.gridOptions.rowBuffer;\n        if (typeof rowBuffer === 'number') {\n            if (rowBuffer < 0) {\n                doOnce(function () { return console.warn(\"ag-Grid: rowBuffer should not be negative\"); }, 'warn rowBuffer negative');\n                this.gridOptions.rowBuffer = rowBuffer = 0;\n            }\n        }\n        else {\n            rowBuffer = Constants.ROW_BUFFER_SIZE;\n        }\n        return rowBuffer;\n    };\n    GridOptionsWrapper.prototype.getRowBufferInPixels = function () {\n        var rowsToBuffer = this.getRowBuffer();\n        var defaultRowHeight = this.getRowHeightAsNumber();\n        return rowsToBuffer * defaultRowHeight;\n    };\n    // the user might be using some non-standard scrollbar, eg a scrollbar that has zero\n    // width and overlays (like the Safari scrollbar, but presented in Chrome). so we\n    // allow the user to provide the scroll width before we work it out.\n    GridOptionsWrapper.prototype.getScrollbarWidth = function () {\n        if (this.scrollWidth == null) {\n            var useGridOptions = typeof this.gridOptions.scrollbarWidth === 'number' && this.gridOptions.scrollbarWidth >= 0;\n            this.scrollWidth = useGridOptions ? this.gridOptions.scrollbarWidth : getScrollbarWidth();\n        }\n        return this.scrollWidth;\n    };\n    GridOptionsWrapper.prototype.checkForDeprecated = function () {\n        // casting to generic object, so typescript compiles even though\n        // we are looking for attributes that don't exist\n        var options = this.gridOptions;\n        if (options.deprecatedEmbedFullWidthRows) {\n            console.warn(\"ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows.\");\n        }\n        if (options.enableOldSetFilterModel) {\n            console.warn('ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards.');\n        }\n        if (options.floatingFilter) {\n            console.warn('ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead.');\n            if (!options.defaultColDef) {\n                options.defaultColDef = {};\n            }\n            if (options.defaultColDef.floatingFilter == null) {\n                options.defaultColDef.floatingFilter = true;\n            }\n        }\n        if (options.rowDeselection) {\n            console.warn('ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.');\n        }\n        var checkRenamedProperty = function (oldProp, newProp, version) {\n            if (options[oldProp] != null) {\n                console.warn(\"ag-grid: since version \" + version + \", '\" + oldProp + \"' is deprecated / renamed, please use the new property name '\" + newProp + \"' instead.\");\n                if (options[newProp] == null) {\n                    options[newProp] = options[oldProp];\n                }\n            }\n        };\n        checkRenamedProperty('batchUpdateWaitMillis', 'asyncTransactionWaitMillis', '23.1.x');\n        checkRenamedProperty('deltaRowDataMode', 'immutableData', '23.1.x');\n        if (options.immutableColumns || options.deltaColumnMode) {\n            console.warn('ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true');\n        }\n        checkRenamedProperty('suppressSetColumnStateEvents', 'suppressColumnStateEvents', '24.0.x');\n        if (options.groupRowInnerRenderer || options.groupRowInnerRendererParams || options.groupRowInnerRendererFramework) {\n            console.warn('ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used.');\n            console.warn('  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams.');\n            console.warn('  For example instead of this:');\n            console.warn('    groupRowInnerRenderer: \"myRenderer\"');\n            console.warn('    groupRowInnerRendererParams: {x: a}');\n            console.warn('  Replace with this:');\n            console.warn('    groupRowRendererParams: {');\n            console.warn('      innerRenderer: \"myRenderer\",');\n            console.warn('      innerRendererParams: {x: a}');\n            console.warn('    }');\n            console.warn('  We have copied the properties over for you. However to stop this error message, please change your application code.');\n            if (!options.groupRowRendererParams) {\n                options.groupRowRendererParams = {};\n            }\n            var params = options.groupRowRendererParams;\n            if (options.groupRowInnerRenderer) {\n                params.innerRenderer = options.groupRowInnerRenderer;\n            }\n            if (options.groupRowInnerRendererParams) {\n                params.innerRendererParams = options.groupRowInnerRendererParams;\n            }\n            if (options.groupRowInnerRendererFramework) {\n                params.innerRendererFramework = options.groupRowInnerRendererFramework;\n            }\n        }\n        if (options.rememberGroupStateWhenNewData) {\n            console.warn('ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed.');\n        }\n    };\n    GridOptionsWrapper.prototype.checkForViolations = function () {\n        if (this.isTreeData()) {\n            this.treeDataViolations();\n        }\n    };\n    GridOptionsWrapper.prototype.treeDataViolations = function () {\n        if (this.isRowModelDefault()) {\n            if (missing(this.getDataPathFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not ' +\n                    'provide getDataPath function, please provide getDataPath function if using tree data.');\n            }\n        }\n        if (this.isRowModelServerSide()) {\n            if (missing(this.getIsServerSideGroupFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not ' +\n                    'provide isServerSideGroup function, please provide isServerSideGroup function if using tree data.');\n            }\n            if (missing(this.getServerSideGroupKeyFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not ' +\n                    'provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data.');\n            }\n        }\n    };\n    GridOptionsWrapper.prototype.getLocaleTextFunc = function () {\n        if (this.gridOptions.localeTextFunc) {\n            return this.gridOptions.localeTextFunc;\n        }\n        var localeText = this.gridOptions.localeText;\n        return function (key, defaultValue) {\n            return localeText && localeText[key] ? localeText[key] : defaultValue;\n        };\n    };\n    // responsible for calling the onXXX functions on gridOptions\n    GridOptionsWrapper.prototype.globalEventHandler = function (eventName, event) {\n        var callbackMethodName = ComponentUtil.getCallbackForEvent(eventName);\n        if (typeof this.gridOptions[callbackMethodName] === 'function') {\n            this.gridOptions[callbackMethodName](event);\n        }\n    };\n    // we don't allow dynamic row height for virtual paging\n    GridOptionsWrapper.prototype.getRowHeightAsNumber = function () {\n        if (!this.gridOptions.rowHeight || missing(this.gridOptions.rowHeight)) {\n            return this.getDefaultRowHeight();\n        }\n        if (this.gridOptions.rowHeight && this.isNumeric(this.gridOptions.rowHeight)) {\n            return this.gridOptions.rowHeight;\n        }\n        console.warn('ag-Grid row height must be a number if not using standard row model');\n        return this.getDefaultRowHeight();\n    };\n    GridOptionsWrapper.prototype.getRowHeightForNode = function (rowNode, allowEstimate) {\n        // check the function first, in case use set both function and\n        // number, when using virtual pagination then function can be\n        // used for pinned rows and the number for the body rows.\n        if (allowEstimate === void 0) { allowEstimate = false; }\n        if (typeof this.gridOptions.getRowHeight === 'function') {\n            if (allowEstimate) {\n                return { height: this.getDefaultRowHeight(), estimated: true };\n            }\n            var params = {\n                node: rowNode,\n                data: rowNode.data,\n                api: this.gridOptions.api,\n                context: this.gridOptions.context\n            };\n            var height = this.gridOptions.getRowHeight(params);\n            if (height != null) {\n                return { height: height, estimated: false };\n            }\n        }\n        if (rowNode.detail && this.isMasterDetail()) {\n            if (this.isNumeric(this.gridOptions.detailRowHeight)) {\n                return { height: this.gridOptions.detailRowHeight, estimated: false };\n            }\n            return { height: DEFAULT_DETAIL_ROW_HEIGHT, estimated: false };\n        }\n        var defaultRowHeight = this.getDefaultRowHeight();\n        var rowHeight = this.gridOptions.rowHeight && this.isNumeric(this.gridOptions.rowHeight) ? this.gridOptions.rowHeight : defaultRowHeight;\n        var minRowHeight = Math.min(defaultRowHeight, rowHeight);\n        if (this.columnController.isAutoRowHeightActive()) {\n            if (allowEstimate) {\n                return { height: rowHeight, estimated: true };\n            }\n            var autoHeight = this.autoHeightCalculator.getPreferredHeightForRow(rowNode);\n            // never return less than the default row height - covers when auto height\n            // cells are blank.\n            return { height: Math.max(autoHeight, minRowHeight), estimated: false };\n        }\n        return { height: rowHeight, estimated: false };\n    };\n    GridOptionsWrapper.prototype.isDynamicRowHeight = function () {\n        return typeof this.gridOptions.getRowHeight === 'function';\n    };\n    GridOptionsWrapper.prototype.getListItemHeight = function () {\n        return this.getFromTheme(20, 'listItemHeight');\n    };\n    GridOptionsWrapper.prototype.chartMenuPanelWidth = function () {\n        return this.environment.chartMenuPanelWidth();\n    };\n    GridOptionsWrapper.prototype.isNumeric = function (value) {\n        return !isNaN(value) && typeof value === 'number';\n    };\n    // Material data table has strict guidelines about whitespace, and these values are different than the ones\n    // ag-grid uses by default. We override the default ones for the sake of making it better out of the box\n    GridOptionsWrapper.prototype.getFromTheme = function (defaultValue, sassVariableName) {\n        var theme = this.environment.getTheme().theme;\n        if (theme && theme.indexOf('ag-theme') === 0) {\n            return this.environment.getSassVariable(theme, sassVariableName);\n        }\n        return defaultValue;\n    };\n    GridOptionsWrapper.prototype.getDefaultRowHeight = function () {\n        return this.getFromTheme(DEFAULT_ROW_HEIGHT, 'rowHeight');\n    };\n    var GridOptionsWrapper_1;\n    GridOptionsWrapper.MIN_COL_WIDTH = 10;\n    GridOptionsWrapper.PROP_HEADER_HEIGHT = 'headerHeight';\n    GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN = 'groupRemoveSingleChildren';\n    GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN = 'groupRemoveLowestSingleChildren';\n    GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT = 'pivotHeaderHeight';\n    GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE = 'suppressClipboardPaste';\n    GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT = 'groupHeaderHeight';\n    GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT = 'pivotGroupHeaderHeight';\n    GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT = 'floatingFiltersHeight';\n    GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION = 'suppressRowClickSelection';\n    GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG = 'suppressRowDrag';\n    GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG = 'suppressMoveWhenRowDragging';\n    GridOptionsWrapper.PROP_POPUP_PARENT = 'popupParent';\n    GridOptionsWrapper.PROP_DOM_LAYOUT = 'domLayout';\n    GridOptionsWrapper.PROP_FILL_HANDLE_DIRECTION = 'fillHandleDirection';\n    __decorate([\n        Autowired('gridOptions')\n    ], GridOptionsWrapper.prototype, \"gridOptions\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GridOptionsWrapper.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('eventService')\n    ], GridOptionsWrapper.prototype, \"eventService\", void 0);\n    __decorate([\n        Autowired('environment')\n    ], GridOptionsWrapper.prototype, \"environment\", void 0);\n    __decorate([\n        Autowired('autoHeightCalculator')\n    ], GridOptionsWrapper.prototype, \"autoHeightCalculator\", void 0);\n    __decorate([\n        __param(0, Qualifier('gridApi')), __param(1, Qualifier('columnApi'))\n    ], GridOptionsWrapper.prototype, \"agWire\", null);\n    __decorate([\n        PreDestroy\n    ], GridOptionsWrapper.prototype, \"destroy\", null);\n    __decorate([\n        PostConstruct\n    ], GridOptionsWrapper.prototype, \"init\", null);\n    GridOptionsWrapper = GridOptionsWrapper_1 = __decorate([\n        Bean('gridOptionsWrapper')\n    ], GridOptionsWrapper);\n    return GridOptionsWrapper;\n}());\nexport { GridOptionsWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RowNode } from \"../entities/rowNode\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { Constants } from \"../constants/constants\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { missingOrEmpty } from \"../utils/generic\";\nimport { last } from \"../utils/array\";\nvar PinnedRowModel = /** @class */ (function (_super) {\n    __extends(PinnedRowModel, _super);\n    function PinnedRowModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PinnedRowModel.prototype.init = function () {\n        this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData());\n        this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData());\n    };\n    PinnedRowModel.prototype.isEmpty = function (floating) {\n        var rows = floating === Constants.PINNED_TOP ? this.pinnedTopRows : this.pinnedBottomRows;\n        return missingOrEmpty(rows);\n    };\n    PinnedRowModel.prototype.isRowsToRender = function (floating) {\n        return !this.isEmpty(floating);\n    };\n    PinnedRowModel.prototype.getRowAtPixel = function (pixel, floating) {\n        var rows = floating === Constants.PINNED_TOP ? this.pinnedTopRows : this.pinnedBottomRows;\n        if (missingOrEmpty(rows)) {\n            return 0; // this should never happen, just in case, 0 is graceful failure\n        }\n        for (var i = 0; i < rows.length; i++) {\n            var rowNode = rows[i];\n            var rowTopPixel = rowNode.rowTop + rowNode.rowHeight - 1;\n            // only need to range check against the top pixel, as we are going through the list\n            // in order, first row to hit the pixel wins\n            if (rowTopPixel >= pixel) {\n                return i;\n            }\n        }\n        return rows.length - 1;\n    };\n    PinnedRowModel.prototype.setPinnedTopRowData = function (rowData) {\n        this.pinnedTopRows = this.createNodesFromData(rowData, true);\n        var event = {\n            type: Events.EVENT_PINNED_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    PinnedRowModel.prototype.setPinnedBottomRowData = function (rowData) {\n        this.pinnedBottomRows = this.createNodesFromData(rowData, false);\n        var event = {\n            type: Events.EVENT_PINNED_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    PinnedRowModel.prototype.createNodesFromData = function (allData, isTop) {\n        var _this = this;\n        var rowNodes = [];\n        if (allData) {\n            var nextRowTop_1 = 0;\n            allData.forEach(function (dataItem, index) {\n                var rowNode = new RowNode();\n                _this.context.createBean(rowNode);\n                rowNode.data = dataItem;\n                var idPrefix = isTop ? RowNode.ID_PREFIX_TOP_PINNED : RowNode.ID_PREFIX_BOTTOM_PINNED;\n                rowNode.id = idPrefix + index;\n                rowNode.rowPinned = isTop ? Constants.PINNED_TOP : Constants.PINNED_BOTTOM;\n                rowNode.setRowTop(nextRowTop_1);\n                rowNode.setRowHeight(_this.gridOptionsWrapper.getRowHeightForNode(rowNode).height);\n                rowNode.setRowIndex(index);\n                nextRowTop_1 += rowNode.rowHeight;\n                rowNodes.push(rowNode);\n            });\n        }\n        return rowNodes;\n    };\n    PinnedRowModel.prototype.getPinnedTopRowData = function () {\n        return this.pinnedTopRows;\n    };\n    PinnedRowModel.prototype.getPinnedBottomRowData = function () {\n        return this.pinnedBottomRows;\n    };\n    PinnedRowModel.prototype.getPinnedTopTotalHeight = function () {\n        return this.getTotalHeight(this.pinnedTopRows);\n    };\n    PinnedRowModel.prototype.getPinnedTopRowCount = function () {\n        return this.pinnedTopRows ? this.pinnedTopRows.length : 0;\n    };\n    PinnedRowModel.prototype.getPinnedBottomRowCount = function () {\n        return this.pinnedBottomRows ? this.pinnedBottomRows.length : 0;\n    };\n    PinnedRowModel.prototype.getPinnedTopRow = function (index) {\n        return this.pinnedTopRows[index];\n    };\n    PinnedRowModel.prototype.getPinnedBottomRow = function (index) {\n        return this.pinnedBottomRows[index];\n    };\n    PinnedRowModel.prototype.forEachPinnedTopRow = function (callback) {\n        if (missingOrEmpty(this.pinnedTopRows)) {\n            return;\n        }\n        this.pinnedTopRows.forEach(callback);\n    };\n    PinnedRowModel.prototype.forEachPinnedBottomRow = function (callback) {\n        if (missingOrEmpty(this.pinnedBottomRows)) {\n            return;\n        }\n        this.pinnedBottomRows.forEach(callback);\n    };\n    PinnedRowModel.prototype.getPinnedBottomTotalHeight = function () {\n        return this.getTotalHeight(this.pinnedBottomRows);\n    };\n    PinnedRowModel.prototype.getTotalHeight = function (rowNodes) {\n        if (!rowNodes || rowNodes.length === 0) {\n            return 0;\n        }\n        var lastNode = last(rowNodes);\n        return lastNode.rowTop + lastNode.rowHeight;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PinnedRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], PinnedRowModel.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], PinnedRowModel.prototype, \"gridApi\", void 0);\n    __decorate([\n        PostConstruct\n    ], PinnedRowModel.prototype, \"init\", null);\n    PinnedRowModel = __decorate([\n        Bean('pinnedRowModel')\n    ], PinnedRowModel);\n    return PinnedRowModel;\n}(BeanStub));\nexport { PinnedRowModel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Column } from \"../../entities/column\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { Constants } from \"../../constants/constants\";\nimport { PostConstruct } from \"../../context/context\";\nimport { setAriaColIndex, setAriaColSpan } from \"../../utils/aria\";\nimport { last } from \"../../utils/array\";\nimport { exists } from \"../../utils/generic\";\nvar SetLeftFeature = /** @class */ (function (_super) {\n    __extends(SetLeftFeature, _super);\n    function SetLeftFeature(columnOrGroup, eCell, beans, colsSpanning) {\n        var _this = _super.call(this) || this;\n        _this.columnOrGroup = columnOrGroup;\n        _this.eCell = eCell;\n        _this.ariaEl = _this.eCell.querySelector('[role=columnheader]') || _this.eCell;\n        _this.colsSpanning = colsSpanning;\n        _this.beans = beans;\n        _this.printLayout = beans.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        return _this;\n    }\n    SetLeftFeature.prototype.setColsSpanning = function (colsSpanning) {\n        this.colsSpanning = colsSpanning;\n        this.onLeftChanged();\n    };\n    SetLeftFeature.prototype.getColumnOrGroup = function () {\n        if (this.beans.gridOptionsWrapper.isEnableRtl() && this.colsSpanning) {\n            return last(this.colsSpanning);\n        }\n        return this.columnOrGroup;\n    };\n    SetLeftFeature.prototype.postConstruct = function () {\n        this.addManagedListener(this.columnOrGroup, Column.EVENT_LEFT_CHANGED, this.onLeftChanged.bind(this));\n        this.setLeftFirstTime();\n    };\n    SetLeftFeature.prototype.setLeftFirstTime = function () {\n        var suppressMoveAnimation = this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation();\n        var oldLeftExists = exists(this.columnOrGroup.getOldLeft());\n        var animateColumnMove = this.beans.columnAnimationService.isActive() && oldLeftExists && !suppressMoveAnimation;\n        if (animateColumnMove) {\n            this.animateInLeft();\n        }\n        else {\n            this.onLeftChanged();\n        }\n    };\n    SetLeftFeature.prototype.animateInLeft = function () {\n        var _this = this;\n        var left = this.getColumnOrGroup().getLeft();\n        var oldLeft = this.getColumnOrGroup().getOldLeft();\n        this.setLeft(oldLeft);\n        // we must keep track of the left we want to set to, as this would otherwise lead to a race\n        // condition, if the user changed the left value many times in one VM turn, then we want to make\n        // make sure the actualLeft we set in the timeout below (in the next VM turn) is the correct left\n        // position. eg if user changes column position twice, then setLeft() below executes twice in next\n        // VM turn, but only one (the correct one) should get applied.\n        this.actualLeft = left;\n        this.beans.columnAnimationService.executeNextVMTurn(function () {\n            // test this left value is the latest one to be applied, and if not, do nothing\n            if (_this.actualLeft === left) {\n                _this.setLeft(left);\n            }\n        });\n    };\n    SetLeftFeature.prototype.onLeftChanged = function () {\n        var colOrGroup = this.getColumnOrGroup();\n        var left = colOrGroup.getLeft();\n        this.actualLeft = this.modifyLeftForPrintLayout(colOrGroup, left);\n        this.setLeft(this.actualLeft);\n    };\n    SetLeftFeature.prototype.modifyLeftForPrintLayout = function (colOrGroup, leftPosition) {\n        if (!this.printLayout) {\n            return leftPosition;\n        }\n        if (colOrGroup.getPinned() === Constants.PINNED_LEFT) {\n            return leftPosition;\n        }\n        if (colOrGroup.getPinned() === Constants.PINNED_RIGHT) {\n            var leftWidth_1 = this.beans.columnController.getPinnedLeftContainerWidth();\n            var bodyWidth = this.beans.columnController.getBodyContainerWidth();\n            return leftWidth_1 + bodyWidth + leftPosition;\n        }\n        // is in body\n        var leftWidth = this.beans.columnController.getPinnedLeftContainerWidth();\n        return leftWidth + leftPosition;\n    };\n    SetLeftFeature.prototype.setLeft = function (value) {\n        // if the value is null, then that means the column is no longer\n        // displayed. there is logic in the rendering to fade these columns\n        // out, so we don't try and change their left positions.\n        if (exists(value)) {\n            this.eCell.style.left = value + \"px\";\n        }\n        var indexColumn;\n        if (this.columnOrGroup instanceof Column) {\n            indexColumn = this.columnOrGroup;\n        }\n        else {\n            var columnGroup = this.columnOrGroup;\n            var children = columnGroup.getLeafColumns();\n            if (!children.length) {\n                return;\n            }\n            if (children.length > 1) {\n                setAriaColSpan(this.ariaEl, children.length);\n            }\n            indexColumn = children[0];\n        }\n        var index = this.beans.columnController.getAriaColumnIndex(indexColumn);\n        setAriaColIndex(this.ariaEl, index);\n    };\n    __decorate([\n        PostConstruct\n    ], SetLeftFeature.prototype, \"postConstruct\", null);\n    return SetLeftFeature;\n}(BeanStub));\nexport { SetLeftFeature };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, BeanStub } from \"@ag-grid-community/core\";\nvar FilterStage = /** @class */ (function (_super) {\n    __extends(FilterStage, _super);\n    function FilterStage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterStage.prototype.execute = function (params) {\n        var rowNode = params.rowNode, changedPath = params.changedPath;\n        this.filterService.filter(changedPath);\n        this.selectableService.updateSelectableAfterFiltering(rowNode);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FilterStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('selectableService')\n    ], FilterStage.prototype, \"selectableService\", void 0);\n    __decorate([\n        Autowired('filterService')\n    ], FilterStage.prototype, \"filterService\", void 0);\n    FilterStage = __decorate([\n        Bean('filterStage')\n    ], FilterStage);\n    return FilterStage;\n}(BeanStub));\nexport { FilterStage };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { find, exists } from \"../utils/generic\";\nvar SelectableService = /** @class */ (function (_super) {\n    __extends(SelectableService, _super);\n    function SelectableService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectableService.prototype.init = function () {\n        this.groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n    };\n    SelectableService.prototype.updateSelectableAfterGrouping = function (rowNode) {\n        if (this.isRowSelectableFunc) {\n            var nextChildrenFunc = function (rowNode) { return rowNode.childrenAfterGroup; };\n            this.recurseDown(rowNode.childrenAfterGroup, nextChildrenFunc);\n        }\n    };\n    SelectableService.prototype.updateSelectableAfterFiltering = function (rowNode) {\n        if (this.isRowSelectableFunc) {\n            var nextChildrenFunc = function (rowNode) { return rowNode.childrenAfterFilter; };\n            this.recurseDown(rowNode.childrenAfterGroup, nextChildrenFunc);\n        }\n    };\n    SelectableService.prototype.recurseDown = function (children, nextChildrenFunc) {\n        var _this = this;\n        children.forEach(function (child) {\n            if (!child.group) {\n                return;\n            } // only interested in groups\n            if (child.hasChildren()) {\n                _this.recurseDown(nextChildrenFunc(child), nextChildrenFunc);\n            }\n            var rowSelectable;\n            if (_this.groupSelectsChildren) {\n                // have this group selectable if at least one direct child is selectable\n                var firstSelectable = find(nextChildrenFunc(child), 'selectable', true);\n                rowSelectable = exists(firstSelectable);\n            }\n            else {\n                // directly retrieve selectable value from user callback\n                rowSelectable = _this.isRowSelectableFunc ? _this.isRowSelectableFunc(child) : false;\n            }\n            child.setRowSelectable(rowSelectable);\n        });\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SelectableService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], SelectableService.prototype, \"init\", null);\n    SelectableService = __decorate([\n        Bean('selectableService')\n    ], SelectableService);\n    return SelectableService;\n}(BeanStub));\nexport { SelectableService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar HorizontalResizeService = /** @class */ (function (_super) {\n    __extends(HorizontalResizeService, _super);\n    function HorizontalResizeService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HorizontalResizeService.prototype.addResizeBar = function (params) {\n        var _this = this;\n        var dragSource = {\n            dragStartPixels: params.dragStartPixels || 0,\n            eElement: params.eResizeBar,\n            onDragStart: this.onDragStart.bind(this, params),\n            onDragStop: this.onDragStop.bind(this, params),\n            onDragging: this.onDragging.bind(this, params)\n        };\n        this.dragService.addDragSource(dragSource, true);\n        // we pass remove func back to the caller, so call can tell us when they\n        // are finished, and then we remove the listener from the drag source\n        var finishedWithResizeFunc = function () { return _this.dragService.removeDragSource(dragSource); };\n        return finishedWithResizeFunc;\n    };\n    HorizontalResizeService.prototype.onDragStart = function (params, mouseEvent) {\n        this.dragStartX = mouseEvent.clientX;\n        this.setResizeIcons();\n        var shiftKey = mouseEvent instanceof MouseEvent ? mouseEvent.shiftKey === true : false;\n        params.onResizeStart(shiftKey);\n    };\n    HorizontalResizeService.prototype.setResizeIcons = function () {\n        this.oldBodyCursor = this.eGridDiv.style.cursor;\n        this.oldUserSelect = this.eGridDiv.style.userSelect;\n        this.oldWebkitUserSelect = this.eGridDiv.style.webkitUserSelect;\n        // change the body cursor, so when drag moves out of the drag bar, the cursor is still 'resize' (or 'move'\n        this.eGridDiv.style.cursor = 'ew-resize';\n        // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n        this.eGridDiv.style.userSelect = 'none';\n        this.eGridDiv.style.webkitUserSelect = 'none';\n    };\n    HorizontalResizeService.prototype.onDragStop = function (params, mouseEvent) {\n        params.onResizeEnd(this.resizeAmount);\n        this.resetIcons();\n    };\n    HorizontalResizeService.prototype.resetIcons = function () {\n        // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n        this.eGridDiv.style.cursor = this.oldBodyCursor;\n        this.eGridDiv.style.userSelect = this.oldUserSelect;\n        this.eGridDiv.style.webkitUserSelect = this.oldWebkitUserSelect;\n    };\n    HorizontalResizeService.prototype.onDragging = function (params, mouseEvent) {\n        this.resizeAmount = mouseEvent.clientX - this.dragStartX;\n        params.onResizing(this.resizeAmount);\n    };\n    __decorate([\n        Autowired('dragService')\n    ], HorizontalResizeService.prototype, \"dragService\", void 0);\n    __decorate([\n        Autowired('eGridDiv')\n    ], HorizontalResizeService.prototype, \"eGridDiv\", void 0);\n    HorizontalResizeService = __decorate([\n        Bean('horizontalResizeService')\n    ], HorizontalResizeService);\n    return HorizontalResizeService;\n}(BeanStub));\nexport { HorizontalResizeService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { loadTemplate, isNodeOrElement } from './dom';\n//\n// IMPORTANT NOTE!\n//\n// If you change the list below, copy/paste the new content into the docs page javascript-grid-icons\n//\nexport var iconNameClassMap = {\n    // header column group shown when expanded (click to contract)\n    columnGroupOpened: 'expanded',\n    // header column group shown when contracted (click to expand)\n    columnGroupClosed: 'contracted',\n    // tool panel column group contracted (click to expand)\n    columnSelectClosed: 'tree-closed',\n    // tool panel column group expanded (click to contract)\n    columnSelectOpen: 'tree-open',\n    // column tool panel header expand/collapse all button, shown when some children are expanded and\n    //     others are collapsed\n    columnSelectIndeterminate: 'tree-indeterminate',\n    // shown on ghost icon while dragging column to the side of the grid to pin\n    columnMovePin: 'pin',\n    // shown on ghost icon while dragging over part of the page that is not a drop zone\n    columnMoveHide: 'eye-slash',\n    // shown on ghost icon while dragging columns to reorder\n    columnMoveMove: 'arrows',\n    // animating icon shown when dragging a column to the right of the grid causes horizontal scrolling\n    columnMoveLeft: 'left',\n    // animating icon shown when dragging a column to the left of the grid causes horizontal scrolling\n    columnMoveRight: 'right',\n    // shown on ghost icon while dragging over Row Groups drop zone\n    columnMoveGroup: 'group',\n    // shown on ghost icon while dragging over Values drop zone\n    columnMoveValue: 'aggregation',\n    // shown on ghost icon while dragging over pivot drop zone\n    columnMovePivot: 'pivot',\n    // shown on ghost icon while dragging over drop zone that doesn't support it, e.g.\n    //     string column over aggregation drop zone\n    dropNotAllowed: 'not-allowed',\n    // shown on row group when contracted (click to expand)\n    groupContracted: 'tree-closed',\n    // shown on row group when expanded (click to contract)\n    groupExpanded: 'tree-open',\n    // context menu chart item\n    chart: 'chart',\n    // chart window title bar\n    close: 'cross',\n    // X (remove) on column 'pill' after adding it to a drop zone list\n    cancel: 'cancel',\n    // indicates the currently active pin state in the \"Pin column\" sub-menu of the column menu\n    check: 'tick',\n    // \"go to first\" button in pagination controls\n    first: 'first',\n    // \"go to previous\" button in pagination controls\n    previous: 'previous',\n    // \"go to next\" button in pagination controls\n    next: 'next',\n    // \"go to last\" button in pagination controls\n    last: 'last',\n    // shown on top right of chart when chart is linked to range data (click to unlink)\n    linked: 'linked',\n    // shown on top right of chart when chart is not linked to range data (click to link)\n    unlinked: 'unlinked',\n    // \"Choose colour\" button on chart settings tab\n    colorPicker: 'color-picker',\n    // rotating spinner shown by the loading cell renderer\n    groupLoading: 'loading',\n    // button to launch enterprise column menu\n    menu: 'menu',\n    // filter tool panel tab\n    filter: 'filter',\n    // column tool panel tab\n    columns: 'columns',\n    // button in chart regular size window title bar (click to maximise)\n    maximize: 'maximize',\n    // button in chart maximised window title bar (click to make regular size)\n    minimize: 'minimize',\n    // \"Pin column\" item in column header menu\n    menuPin: 'pin',\n    // \"Value aggregation\" column menu item (shown on numeric columns when grouping is active)\"\n    menuValue: 'aggregation',\n    // \"Group by {column-name}\" item in column header menu\n    menuAddRowGroup: 'group',\n    // \"Un-Group by {column-name}\" item in column header menu\n    menuRemoveRowGroup: 'group',\n    // context menu copy item\n    clipboardCopy: 'copy',\n    // context menu paste item\n    clipboardPaste: 'paste',\n    // identifies the pivot drop zone\n    pivotPanel: 'pivot',\n    // \"Row groups\" drop zone in column tool panel\n    rowGroupPanel: 'group',\n    // columns tool panel Values drop zone\n    valuePanel: 'aggregation',\n    // drag handle used to pick up draggable columns\n    columnDrag: 'grip',\n    // drag handle used to pick up draggable rows\n    rowDrag: 'grip',\n    // context menu export item\n    save: 'save',\n    // icon on dropdown editors\n    smallDown: 'small-down',\n    // version of small-right used in RTL mode\n    smallLeft: 'small-left',\n    // separater between column 'pills' when you add multiple columns to the header drop zone\n    smallRight: 'small-right',\n    smallUp: 'small-up',\n    // show on column header when column is sorted ascending\n    sortAscending: 'asc',\n    // show on column header when column is sorted descending\n    sortDescending: 'desc',\n    // show on column header when column has no sort, only when enabled with gridOptions.unSortIcon=true\n    sortUnSort: 'none'\n};\n/**\n * If icon provided, use this (either a string, or a function callback).\n * if not, then use the default icon from the theme\n * @param {string} iconName\n * @param {GridOptionsWrapper} gridOptionsWrapper\n * @param {Column | null} [column]\n * @returns {HTMLElement}\n */\nexport function createIcon(iconName, gridOptionsWrapper, column) {\n    var iconContents = createIconNoSpan(iconName, gridOptionsWrapper, column);\n    if (iconContents.className.indexOf('ag-icon') > -1) {\n        return iconContents;\n    }\n    var eResult = document.createElement('span');\n    eResult.appendChild(iconContents);\n    return eResult;\n}\nexport function createIconNoSpan(iconName, gridOptionsWrapper, column, forceCreate) {\n    var userProvidedIcon = null;\n    // check col for icon first\n    var icons = column && column.getColDef().icons;\n    if (icons) {\n        userProvidedIcon = icons[iconName];\n    }\n    // if not in col, try grid options\n    if (gridOptionsWrapper && !userProvidedIcon) {\n        var optionsIcons = gridOptionsWrapper.getIcons();\n        if (optionsIcons) {\n            userProvidedIcon = optionsIcons[iconName];\n        }\n    }\n    // now if user provided, use it\n    if (userProvidedIcon) {\n        var rendererResult = void 0;\n        if (typeof userProvidedIcon === 'function') {\n            rendererResult = userProvidedIcon();\n        }\n        else if (typeof userProvidedIcon === 'string') {\n            rendererResult = userProvidedIcon;\n        }\n        else {\n            throw new Error('icon from grid options needs to be a string or a function');\n        }\n        if (typeof rendererResult === 'string') {\n            return loadTemplate(rendererResult);\n        }\n        if (isNodeOrElement(rendererResult)) {\n            return rendererResult;\n        }\n        console.warn('ag-Grid: iconRenderer should return back a string or a dom object');\n    }\n    else {\n        var span = document.createElement('span');\n        var cssClass = iconNameClassMap[iconName];\n        if (!cssClass) {\n            if (!forceCreate) {\n                console.warn(\"ag-Grid: Did not find icon \" + iconName);\n                cssClass = '';\n            }\n            else {\n                cssClass = iconName;\n            }\n        }\n        span.setAttribute('class', \"ag-icon ag-icon-\" + cssClass);\n        span.setAttribute('unselectable', 'on');\n        span.setAttribute('role', 'presentation');\n        return span;\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// when doing transactions, or change detection, and grouping is present\n// in the data, there is no need for the ClientSideRowModel to update each\n// group after an update, ony parts that were impacted by the change.\n// this class keeps track of all groups that were impacted by a transaction.\n// the the different CSRM operations (filter, sort etc) use the forEach method\n// to visit each group that was changed.\nvar ChangedPath = /** @class */ (function () {\n    function ChangedPath(keepingColumns, rootNode) {\n        // whether changed path is active of not. it is active when a) doing\n        // a transaction update or b) doing change detection. if we are doing\n        // a CSRM refresh for other reasons (after sort or filter, or user calling\n        // setRowData() without delta mode) then we are not active. we are also\n        // marked as not active if secondary columns change in pivot (as this impacts\n        // aggregations)\n        this.active = true;\n        // for each node in the change path, we also store which columns need\n        // to be re-aggregated.\n        this.nodeIdsToColumns = {};\n        // for quick lookup, all items in the change path are mapped by nodeId\n        this.mapToItems = {};\n        this.keepingColumns = keepingColumns;\n        this.pathRoot = {\n            rowNode: rootNode,\n            children: null\n        };\n        this.mapToItems[rootNode.id] = this.pathRoot;\n    }\n    // can be set inactive by:\n    // a) ClientSideRowModel, if no transactions or\n    // b) PivotService, if secondary columns changed\n    ChangedPath.prototype.setInactive = function () {\n        this.active = false;\n    };\n    ChangedPath.prototype.isActive = function () {\n        return this.active;\n    };\n    ChangedPath.prototype.depthFirstSearchChangedPath = function (pathItem, callback) {\n        if (pathItem.children) {\n            for (var i = 0; i < pathItem.children.length; i++) {\n                this.depthFirstSearchChangedPath(pathItem.children[i], callback);\n            }\n        }\n        callback(pathItem.rowNode);\n    };\n    ChangedPath.prototype.depthFirstSearchEverything = function (rowNode, callback, traverseEverything) {\n        if (rowNode.childrenAfterGroup) {\n            for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                var childNode = rowNode.childrenAfterGroup[i];\n                if (childNode.childrenAfterGroup) {\n                    this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i], callback, traverseEverything);\n                }\n                else if (traverseEverything) {\n                    callback(childNode);\n                }\n            }\n        }\n        callback(rowNode);\n    };\n    // traverseLeafNodes -> used when NOT doing changed path, ie traversing everything. the callback\n    // will be called for child nodes in addition to parent nodes.\n    ChangedPath.prototype.forEachChangedNodeDepthFirst = function (callback, traverseLeafNodes) {\n        if (traverseLeafNodes === void 0) { traverseLeafNodes = false; }\n        if (this.active) {\n            // if we are active, then use the change path to callback\n            // only for updated groups\n            this.depthFirstSearchChangedPath(this.pathRoot, callback);\n        }\n        else {\n            // we are not active, so callback for everything, walk the entire path\n            this.depthFirstSearchEverything(this.pathRoot.rowNode, callback, traverseLeafNodes);\n        }\n    };\n    ChangedPath.prototype.executeFromRootNode = function (callback) {\n        callback(this.pathRoot.rowNode);\n    };\n    ChangedPath.prototype.createPathItems = function (rowNode) {\n        var pointer = rowNode;\n        var newEntryCount = 0;\n        while (!this.mapToItems[pointer.id]) {\n            var newEntry = {\n                rowNode: pointer,\n                children: null\n            };\n            this.mapToItems[pointer.id] = newEntry;\n            newEntryCount++;\n            pointer = pointer.parent;\n        }\n        return newEntryCount;\n    };\n    ChangedPath.prototype.populateColumnsMap = function (rowNode, columns) {\n        var _this = this;\n        if (!this.keepingColumns || !columns) {\n            return;\n        }\n        var pointer = rowNode;\n        while (pointer) {\n            // if columns, add the columns in all the way to parent, merging\n            // in any other columns that might be there already\n            if (!this.nodeIdsToColumns[pointer.id]) {\n                this.nodeIdsToColumns[pointer.id] = {};\n            }\n            columns.forEach(function (col) { return _this.nodeIdsToColumns[pointer.id][col.getId()] = true; });\n            pointer = pointer.parent;\n        }\n    };\n    ChangedPath.prototype.linkPathItems = function (rowNode, newEntryCount) {\n        var pointer = rowNode;\n        for (var i = 0; i < newEntryCount; i++) {\n            var thisItem = this.mapToItems[pointer.id];\n            var parentItem = this.mapToItems[pointer.parent.id];\n            if (!parentItem.children) {\n                parentItem.children = [];\n            }\n            parentItem.children.push(thisItem);\n            pointer = pointer.parent;\n        }\n    };\n    // called by\n    // 1) change detection (provides cols) and\n    // 2) groupStage if doing transaction update (doesn't provide cols)\n    ChangedPath.prototype.addParentNode = function (rowNode, columns) {\n        if (!rowNode || rowNode.isRowPinned()) {\n            return;\n        }\n        // we cannot do  both steps below in the same loop as\n        // the second loop has a dependency on the first loop.\n        // ie the hierarchy cannot be stitched up yet because\n        // we don't have it built yet\n        // create the new PathItem objects.\n        var newEntryCount = this.createPathItems(rowNode);\n        // link in the node items\n        this.linkPathItems(rowNode, newEntryCount);\n        // update columns\n        this.populateColumnsMap(rowNode, columns);\n    };\n    ChangedPath.prototype.canSkip = function (rowNode) {\n        return this.active && !this.mapToItems[rowNode.id];\n    };\n    ChangedPath.prototype.getValueColumnsForNode = function (rowNode, valueColumns) {\n        if (!this.keepingColumns) {\n            return valueColumns;\n        }\n        var colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n        var result = valueColumns.filter(function (col) { return colsForThisNode[col.getId()]; });\n        return result;\n    };\n    ChangedPath.prototype.getNotValueColumnsForNode = function (rowNode, valueColumns) {\n        if (!this.keepingColumns) {\n            return null;\n        }\n        var colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n        var result = valueColumns.filter(function (col) { return !colsForThisNode[col.getId()]; });\n        return result;\n    };\n    return ChangedPath;\n}());\nexport { ChangedPath };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct, PreDestroy } from \"../../context/context\";\nimport { Constants } from \"../../constants/constants\";\nimport { BeanStub } from \"../../context/beanStub\";\n/**\n * For Master Detail, it is required to keep components between expanding & collapsing parents.\n * For example a user expands row A (and shows a detail grid for this row), then when row A\n * is closed, we want to keep the detail grid, so next time row A is expanded the detail grid\n * is showed with it's context intact, eg if user sorted in the detail grid, that sort should\n * still be applied after the detail grid is shown for the second time.\n */\nvar DetailRowCompCache = /** @class */ (function (_super) {\n    __extends(DetailRowCompCache, _super);\n    function DetailRowCompCache() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cacheItems = [];\n        return _this;\n    }\n    DetailRowCompCache.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isKeepDetailRows();\n        this.maxCacheSize = this.gridOptionsWrapper.getKeepDetailRowsCount();\n    };\n    DetailRowCompCache.prototype.addOrDestroy = function (rowNode, pinned, comp) {\n        // only accept detail rows\n        var doNotUseCache = !this.active || !rowNode.detail;\n        if (doNotUseCache) {\n            this.destroyFullWidthRow(comp);\n            return;\n        }\n        var item = this.getCacheItem(rowNode, true);\n        // put the comp in the right location of the item.\n        // we also destroy any previous comp - this should never happen\n        // as the logic outside of this class shouldn't be adding same item to the\n        // cache twice, however we cater for it in case in future releases code\n        // outside of this class is changed and this could happen.\n        switch (pinned) {\n            case Constants.PINNED_LEFT:\n                this.destroyFullWidthRow(item.left);\n                item.left = comp;\n                break;\n            case Constants.PINNED_RIGHT:\n                this.destroyFullWidthRow(item.right);\n                item.right = comp;\n                break;\n            default:\n                this.destroyFullWidthRow(item.center);\n                item.center = comp;\n                break;\n        }\n        this.cacheItems.sort(function (a, b) {\n            return b.lastAccessedTime - a.lastAccessedTime;\n        });\n        this.purgeCache(this.maxCacheSize);\n    };\n    DetailRowCompCache.prototype.getCacheItem = function (rowNode, autoCreate) {\n        if (autoCreate === void 0) { autoCreate = false; }\n        var res;\n        for (var i = 0; i < this.cacheItems.length; i++) {\n            var item = this.cacheItems[i];\n            if (item.rowNode === rowNode) {\n                res = item;\n                break;\n            }\n        }\n        if (!res && autoCreate) {\n            res = {\n                rowNode: rowNode\n            };\n            this.cacheItems.push(res);\n        }\n        if (res) {\n            this.stampCacheItem(res);\n        }\n        return res;\n    };\n    DetailRowCompCache.prototype.stampCacheItem = function (item) {\n        item.lastAccessedTime = new Date().getTime();\n    };\n    DetailRowCompCache.prototype.destroyFullWidthRow = function (comp) {\n        this.getContext().destroyBean(comp);\n    };\n    DetailRowCompCache.prototype.purgeCache = function (startIndex) {\n        // delete all rows past the index of interest\n        for (var i = startIndex; i < this.cacheItems.length; i++) {\n            var item = this.cacheItems[i];\n            this.destroyFullWidthRow(item.center);\n            this.destroyFullWidthRow(item.left);\n            this.destroyFullWidthRow(item.right);\n        }\n        // change the length of the array so it no longer contains the deleted items\n        if (this.cacheItems.length > startIndex) {\n            this.cacheItems.length = startIndex;\n        }\n    };\n    DetailRowCompCache.prototype.get = function (rowNode, pinned) {\n        if (!rowNode.detail) {\n            return undefined;\n        }\n        var item = this.getCacheItem(rowNode);\n        var res;\n        if (item) {\n            switch (pinned) {\n                case Constants.PINNED_LEFT:\n                    if (item.left) {\n                        res = item.left;\n                        item.left = undefined;\n                    }\n                    break;\n                case Constants.PINNED_RIGHT:\n                    if (item.right) {\n                        res = item.right;\n                        item.right = undefined;\n                    }\n                    break;\n                default:\n                    if (item.center) {\n                        res = item.center;\n                        item.center = undefined;\n                    }\n                    break;\n            }\n        }\n        return res;\n    };\n    DetailRowCompCache.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.purgeCache(0);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], DetailRowCompCache.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], DetailRowCompCache.prototype, \"postConstruct\", null);\n    __decorate([\n        PreDestroy\n    ], DetailRowCompCache.prototype, \"destroy\", null);\n    DetailRowCompCache = __decorate([\n        Bean('detailRowCompCache')\n    ], DetailRowCompCache);\n    return DetailRowCompCache;\n}(BeanStub));\nexport { DetailRowCompCache };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var SelectionHandleType;\n(function (SelectionHandleType) {\n    SelectionHandleType[SelectionHandleType[\"FILL\"] = 0] = \"FILL\";\n    SelectionHandleType[SelectionHandleType[\"RANGE\"] = 1] = \"RANGE\";\n})(SelectionHandleType || (SelectionHandleType = {}));\nexport var CellRangeType;\n(function (CellRangeType) {\n    CellRangeType[CellRangeType[\"VALUE\"] = 0] = \"VALUE\";\n    CellRangeType[CellRangeType[\"DIMENSION\"] = 1] = \"DIMENSION\";\n})(CellRangeType || (CellRangeType = {}));\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { exists, defaultComparator } from \"./utils/generic\";\nexport function defaultGroupComparator(valueA, valueB, nodeA, nodeB, accentedCompare) {\n    if (accentedCompare === void 0) { accentedCompare = false; }\n    console.warn('ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef');\n    var nodeAIsGroup = exists(nodeA) && nodeA.group;\n    var nodeBIsGroup = exists(nodeB) && nodeB.group;\n    var bothAreGroups = nodeAIsGroup && nodeBIsGroup;\n    var bothAreNormal = !nodeAIsGroup && !nodeBIsGroup;\n    if (bothAreGroups) {\n        return defaultComparator(nodeA.key, nodeB.key, accentedCompare);\n    }\n    if (bothAreNormal) {\n        return defaultComparator(valueA, valueB, accentedCompare);\n    }\n    if (nodeAIsGroup) {\n        return 1;\n    }\n    return -1;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { doOnce } from \"../utils/function\";\nimport { values } from \"../utils/generic\";\nvar ModuleRegistry = /** @class */ (function () {\n    function ModuleRegistry() {\n    }\n    ModuleRegistry.register = function (module, moduleBased) {\n        if (moduleBased === void 0) { moduleBased = true; }\n        ModuleRegistry.modulesMap[module.moduleName] = module;\n        if (ModuleRegistry.moduleBased === undefined) {\n            ModuleRegistry.moduleBased = moduleBased;\n        }\n        else {\n            if (ModuleRegistry.moduleBased !== moduleBased) {\n                doOnce(function () {\n                    console.warn(\"ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms.\");\n                    console.warn('Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.');\n                }, 'ModulePackageCheck');\n            }\n        }\n    };\n    // noinspection JSUnusedGlobalSymbols\n    ModuleRegistry.registerModules = function (modules, moduleBased) {\n        if (moduleBased === void 0) { moduleBased = true; }\n        if (!modules) {\n            return;\n        }\n        modules.forEach(function (module) { return ModuleRegistry.register(module, moduleBased); });\n    };\n    ModuleRegistry.assertRegistered = function (moduleName, reason) {\n        if (this.isRegistered(moduleName)) {\n            return true;\n        }\n        var warningKey = reason + moduleName;\n        var warningMessage = \"ag-Grid: unable to use \" + reason + \" as module \" + moduleName + \" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/\";\n        doOnce(function () {\n            console.warn(warningMessage);\n        }, warningKey);\n        return false;\n    };\n    ModuleRegistry.isRegistered = function (moduleName) {\n        return !!ModuleRegistry.modulesMap[moduleName];\n    };\n    ModuleRegistry.getRegisteredModules = function () {\n        return values(ModuleRegistry.modulesMap);\n    };\n    ModuleRegistry.isPackageBased = function () {\n        return !ModuleRegistry.moduleBased;\n    };\n    // having in a map a) removes duplicates and b) allows fast lookup\n    ModuleRegistry.modulesMap = {};\n    return ModuleRegistry;\n}());\nexport { ModuleRegistry };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, BeanStub } from \"@ag-grid-community/core\";\nvar LINE_SEPARATOR = '\\r\\n';\nvar XmlFactory = /** @class */ (function (_super) {\n    __extends(XmlFactory, _super);\n    function XmlFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XmlFactory.prototype.createHeader = function (headerElement) {\n        if (headerElement === void 0) { headerElement = {}; }\n        var headerStart = '<?';\n        var headerEnd = '?>';\n        var keys = ['version'];\n        if (!headerElement.version) {\n            headerElement.version = \"1.0\";\n        }\n        if (headerElement.encoding) {\n            keys.push('encoding');\n        }\n        if (headerElement.standalone) {\n            keys.push('standalone');\n        }\n        var att = keys.map(function (key) { return key + \"=\\\"\" + headerElement[key] + \"\\\"\"; }).join(' ');\n        return headerStart + \"xml \" + att + \" \" + headerEnd;\n    };\n    XmlFactory.prototype.createXml = function (xmlElement, booleanTransformer) {\n        var _this = this;\n        var props = '';\n        if (xmlElement.properties) {\n            if (xmlElement.properties.prefixedAttributes) {\n                xmlElement.properties.prefixedAttributes.forEach(function (prefixedSet) {\n                    Object.keys(prefixedSet.map).forEach(function (key) {\n                        props += _this.returnAttributeIfPopulated(prefixedSet.prefix + key, prefixedSet.map[key], booleanTransformer);\n                    });\n                });\n            }\n            if (xmlElement.properties.rawMap) {\n                Object.keys(xmlElement.properties.rawMap).forEach(function (key) {\n                    props += _this.returnAttributeIfPopulated(key, xmlElement.properties.rawMap[key], booleanTransformer);\n                });\n            }\n        }\n        var result = '<' + xmlElement.name + props;\n        if (!xmlElement.children && xmlElement.textNode == null) {\n            return result + '/>' + LINE_SEPARATOR;\n        }\n        if (xmlElement.textNode != null) {\n            return result + '>' + xmlElement.textNode + '</' + xmlElement.name + '>' + LINE_SEPARATOR;\n        }\n        result += '>' + LINE_SEPARATOR;\n        if (xmlElement.children) {\n            xmlElement.children.forEach(function (it) {\n                result += _this.createXml(it, booleanTransformer);\n            });\n        }\n        return result + '</' + xmlElement.name + '>' + LINE_SEPARATOR;\n    };\n    XmlFactory.prototype.returnAttributeIfPopulated = function (key, value, booleanTransformer) {\n        if (!value && value !== '' && value !== 0) {\n            return '';\n        }\n        var xmlValue = value;\n        if ((typeof (value) === 'boolean')) {\n            if (booleanTransformer) {\n                xmlValue = booleanTransformer(value);\n            }\n        }\n        return \" \" + key + \"=\\\"\" + xmlValue + \"\\\"\";\n    };\n    XmlFactory = __decorate([\n        Bean('xmlFactory')\n    ], XmlFactory);\n    return XmlFactory;\n}(BeanStub));\nexport { XmlFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct } from '../../context/context';\nimport { Component } from '../../widgets/component';\nimport { RefSelector } from '../../widgets/componentAnnotations';\nimport { addOrRemoveCssClass, clearElement } from '../../utils/dom';\nvar LoadingType;\n(function (LoadingType) {\n    LoadingType[LoadingType[\"Loading\"] = 0] = \"Loading\";\n    LoadingType[LoadingType[\"NoRows\"] = 1] = \"NoRows\";\n})(LoadingType || (LoadingType = {}));\nvar OverlayWrapperComponent = /** @class */ (function (_super) {\n    __extends(OverlayWrapperComponent, _super);\n    function OverlayWrapperComponent() {\n        var _this = _super.call(this, OverlayWrapperComponent.TEMPLATE) || this;\n        _this.inProgress = false;\n        _this.destroyRequested = false;\n        return _this;\n    }\n    OverlayWrapperComponent.prototype.postConstruct = function () {\n        this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper);\n        this.setDisplayed(false);\n    };\n    OverlayWrapperComponent.prototype.setWrapperTypeClass = function (loadingType) {\n        addOrRemoveCssClass(this.eOverlayWrapper, 'ag-overlay-loading-wrapper', loadingType === LoadingType.Loading);\n        addOrRemoveCssClass(this.eOverlayWrapper, 'ag-overlay-no-rows-wrapper', loadingType === LoadingType.NoRows);\n    };\n    OverlayWrapperComponent.prototype.showLoadingOverlay = function () {\n        var workItem = this.userComponentFactory.newLoadingOverlayComponent({\n            api: this.gridOptionsWrapper.getApi()\n        });\n        this.showOverlay(workItem, LoadingType.Loading);\n    };\n    OverlayWrapperComponent.prototype.showNoRowsOverlay = function () {\n        var workItem = this.userComponentFactory.newNoRowsOverlayComponent({\n            api: this.gridOptionsWrapper.getApi()\n        });\n        this.showOverlay(workItem, LoadingType.NoRows);\n    };\n    OverlayWrapperComponent.prototype.showOverlay = function (workItem, type) {\n        var _this = this;\n        if (this.inProgress) {\n            return;\n        }\n        this.setWrapperTypeClass(type);\n        this.destroyActiveOverlay();\n        this.inProgress = true;\n        workItem.then(function (comp) {\n            _this.inProgress = false;\n            _this.eOverlayWrapper.appendChild(comp.getGui());\n            _this.activeOverlay = comp;\n            if (_this.destroyRequested) {\n                _this.destroyRequested = false;\n                _this.destroyActiveOverlay();\n            }\n        });\n        this.setDisplayed(true);\n    };\n    OverlayWrapperComponent.prototype.destroyActiveOverlay = function () {\n        if (this.inProgress) {\n            this.destroyRequested = true;\n            return;\n        }\n        if (!this.activeOverlay) {\n            return;\n        }\n        this.activeOverlay = this.getContext().destroyBean(this.activeOverlay);\n        clearElement(this.eOverlayWrapper);\n    };\n    OverlayWrapperComponent.prototype.hideOverlay = function () {\n        this.destroyActiveOverlay();\n        this.setDisplayed(false);\n    };\n    OverlayWrapperComponent.prototype.destroy = function () {\n        this.destroyActiveOverlay();\n        _super.prototype.destroy.call(this);\n    };\n    // wrapping in outer div, and wrapper, is needed to center the loading icon\n    // The idea for centering came from here: http://www.vanseodesign.com/css/vertical-centering/\n    OverlayWrapperComponent.TEMPLATE = \"\\n        <div class=\\\"ag-overlay\\\" aria-hidden=\\\"true\\\">\\n            <div class=\\\"ag-overlay-panel\\\">\\n                <div class=\\\"ag-overlay-wrapper\\\" ref=\\\"eOverlayWrapper\\\"></div>\\n            </div>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], OverlayWrapperComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], OverlayWrapperComponent.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        RefSelector('eOverlayWrapper')\n    ], OverlayWrapperComponent.prototype, \"eOverlayWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], OverlayWrapperComponent.prototype, \"postConstruct\", null);\n    return OverlayWrapperComponent;\n}(Component));\nexport { OverlayWrapperComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { PostConstruct, Bean, Autowired, PreDestroy } from \"../context/context\";\nimport { escapeString } from \"../utils/string\";\nimport { createIcon } from \"../utils/icon\";\nimport { removeFromArray } from \"../utils/array\";\nimport { find } from \"../utils/generic\";\nimport { getBodyHeight, getBodyWidth } from \"../utils/browser\";\nimport { loadTemplate, addCssClass, clearElement, addOrRemoveCssClass } from \"../utils/dom\";\nimport { isFunction } from \"../utils/function\";\nexport var DragSourceType;\n(function (DragSourceType) {\n    DragSourceType[DragSourceType[\"ToolPanel\"] = 0] = \"ToolPanel\";\n    DragSourceType[DragSourceType[\"HeaderCell\"] = 1] = \"HeaderCell\";\n    DragSourceType[DragSourceType[\"RowDrag\"] = 2] = \"RowDrag\";\n    DragSourceType[DragSourceType[\"ChartPanel\"] = 3] = \"ChartPanel\";\n})(DragSourceType || (DragSourceType = {}));\nexport var VerticalDirection;\n(function (VerticalDirection) {\n    VerticalDirection[VerticalDirection[\"Up\"] = 0] = \"Up\";\n    VerticalDirection[VerticalDirection[\"Down\"] = 1] = \"Down\";\n})(VerticalDirection || (VerticalDirection = {}));\nexport var HorizontalDirection;\n(function (HorizontalDirection) {\n    HorizontalDirection[HorizontalDirection[\"Left\"] = 0] = \"Left\";\n    HorizontalDirection[HorizontalDirection[\"Right\"] = 1] = \"Right\";\n})(HorizontalDirection || (HorizontalDirection = {}));\nvar DragAndDropService = /** @class */ (function (_super) {\n    __extends(DragAndDropService, _super);\n    function DragAndDropService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dragSourceAndParamsList = [];\n        _this.dropTargets = [];\n        return _this;\n    }\n    DragAndDropService_1 = DragAndDropService;\n    DragAndDropService.prototype.init = function () {\n        this.ePinnedIcon = createIcon('columnMovePin', this.gridOptionsWrapper, null);\n        this.eHideIcon = createIcon('columnMoveHide', this.gridOptionsWrapper, null);\n        this.eMoveIcon = createIcon('columnMoveMove', this.gridOptionsWrapper, null);\n        this.eLeftIcon = createIcon('columnMoveLeft', this.gridOptionsWrapper, null);\n        this.eRightIcon = createIcon('columnMoveRight', this.gridOptionsWrapper, null);\n        this.eGroupIcon = createIcon('columnMoveGroup', this.gridOptionsWrapper, null);\n        this.eAggregateIcon = createIcon('columnMoveValue', this.gridOptionsWrapper, null);\n        this.ePivotIcon = createIcon('columnMovePivot', this.gridOptionsWrapper, null);\n        this.eDropNotAllowedIcon = createIcon('dropNotAllowed', this.gridOptionsWrapper, null);\n    };\n    DragAndDropService.prototype.addDragSource = function (dragSource, allowTouch) {\n        if (allowTouch === void 0) { allowTouch = false; }\n        var params = {\n            eElement: dragSource.eElement,\n            dragStartPixels: dragSource.dragStartPixels,\n            onDragStart: this.onDragStart.bind(this, dragSource),\n            onDragStop: this.onDragStop.bind(this),\n            onDragging: this.onDragging.bind(this)\n        };\n        this.dragSourceAndParamsList.push({ params: params, dragSource: dragSource });\n        this.dragService.addDragSource(params, allowTouch);\n    };\n    DragAndDropService.prototype.removeDragSource = function (dragSource) {\n        var sourceAndParams = find(this.dragSourceAndParamsList, function (item) { return item.dragSource === dragSource; });\n        if (sourceAndParams) {\n            this.dragService.removeDragSource(sourceAndParams.params);\n            removeFromArray(this.dragSourceAndParamsList, sourceAndParams);\n        }\n    };\n    DragAndDropService.prototype.clearDragSourceParamsList = function () {\n        var _this = this;\n        this.dragSourceAndParamsList.forEach(function (sourceAndParams) { return _this.dragService.removeDragSource(sourceAndParams.params); });\n        this.dragSourceAndParamsList.length = 0;\n    };\n    DragAndDropService.prototype.nudge = function () {\n        if (this.dragging) {\n            this.onDragging(this.eventLastTime, true);\n        }\n    };\n    DragAndDropService.prototype.onDragStart = function (dragSource, mouseEvent) {\n        this.dragging = true;\n        this.dragSource = dragSource;\n        this.eventLastTime = mouseEvent;\n        this.dragItem = this.dragSource.getDragItem();\n        this.lastDropTarget = this.dragSource.dragSourceDropTarget;\n        if (this.dragSource.onDragStarted) {\n            this.dragSource.onDragStarted();\n        }\n        this.createGhost();\n    };\n    DragAndDropService.prototype.onDragStop = function (mouseEvent) {\n        this.eventLastTime = null;\n        this.dragging = false;\n        if (this.dragSource.onDragStopped) {\n            this.dragSource.onDragStopped();\n        }\n        if (this.lastDropTarget && this.lastDropTarget.onDragStop) {\n            var draggingEvent = this.createDropTargetEvent(this.lastDropTarget, mouseEvent, null, null, false);\n            this.lastDropTarget.onDragStop(draggingEvent);\n        }\n        this.lastDropTarget = null;\n        this.dragItem = null;\n        this.removeGhost();\n    };\n    DragAndDropService.prototype.onDragging = function (mouseEvent, fromNudge) {\n        var hDirection = this.getHorizontalDirection(mouseEvent);\n        var vDirection = this.getVerticalDirection(mouseEvent);\n        this.eventLastTime = mouseEvent;\n        this.positionGhost(mouseEvent);\n        // check if mouseEvent intersects with any of the drop targets\n        var dropTarget = find(this.dropTargets, this.isMouseOnDropTarget.bind(this, mouseEvent));\n        if (dropTarget !== this.lastDropTarget) {\n            this.leaveLastTargetIfExists(mouseEvent, hDirection, vDirection, fromNudge);\n            this.enterDragTargetIfExists(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            this.lastDropTarget = dropTarget;\n        }\n        else if (dropTarget && dropTarget.onDragging) {\n            var draggingEvent = this.createDropTargetEvent(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            dropTarget.onDragging(draggingEvent);\n        }\n    };\n    DragAndDropService.prototype.enterDragTargetIfExists = function (dropTarget, mouseEvent, hDirection, vDirection, fromNudge) {\n        if (!dropTarget) {\n            return;\n        }\n        if (dropTarget.onDragEnter) {\n            var dragEnterEvent = this.createDropTargetEvent(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            dropTarget.onDragEnter(dragEnterEvent);\n        }\n        this.setGhostIcon(dropTarget.getIconName ? dropTarget.getIconName() : null);\n    };\n    DragAndDropService.prototype.leaveLastTargetIfExists = function (mouseEvent, hDirection, vDirection, fromNudge) {\n        if (!this.lastDropTarget) {\n            return;\n        }\n        if (this.lastDropTarget.onDragLeave) {\n            var dragLeaveEvent = this.createDropTargetEvent(this.lastDropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            this.lastDropTarget.onDragLeave(dragLeaveEvent);\n        }\n        this.setGhostIcon(null);\n    };\n    DragAndDropService.prototype.getAllContainersFromDropTarget = function (dropTarget) {\n        var containers = [dropTarget.getContainer()];\n        var secondaryContainers = dropTarget.getSecondaryContainers ? dropTarget.getSecondaryContainers() : null;\n        if (secondaryContainers) {\n            containers = containers.concat(secondaryContainers);\n        }\n        return containers;\n    };\n    // checks if the mouse is on the drop target. it checks eContainer and eSecondaryContainers\n    DragAndDropService.prototype.isMouseOnDropTarget = function (mouseEvent, dropTarget) {\n        var mouseOverTarget = false;\n        this.getAllContainersFromDropTarget(dropTarget)\n            .filter(function (eContainer) { return eContainer; }) // secondary can be missing\n            .forEach(function (eContainer) {\n            var rect = eContainer.getBoundingClientRect();\n            // if element is not visible, then width and height are zero\n            if (rect.width === 0 || rect.height === 0) {\n                return;\n            }\n            var horizontalFit = mouseEvent.clientX >= rect.left && mouseEvent.clientX <= rect.right;\n            var verticalFit = mouseEvent.clientY >= rect.top && mouseEvent.clientY <= rect.bottom;\n            if (horizontalFit && verticalFit) {\n                mouseOverTarget = true;\n            }\n        });\n        return mouseOverTarget && dropTarget.isInterestedIn(this.dragSource.type);\n    };\n    DragAndDropService.prototype.addDropTarget = function (dropTarget) {\n        this.dropTargets.push(dropTarget);\n    };\n    DragAndDropService.prototype.removeDropTarget = function (dropTarget) {\n        this.dropTargets = this.dropTargets.filter(function (target) { return target.getContainer() !== dropTarget.getContainer(); });\n    };\n    DragAndDropService.prototype.hasExternalDropZones = function () {\n        return this.dropTargets.some(function (zones) { return zones.external; });\n    };\n    DragAndDropService.prototype.findExternalZone = function (params) {\n        var externalTargets = this.dropTargets.filter(function (target) { return target.external; });\n        return find(externalTargets, function (zone) { return zone.getContainer() === params.getContainer(); });\n    };\n    DragAndDropService.prototype.getHorizontalDirection = function (event) {\n        var clientX = this.eventLastTime.clientX;\n        var eClientX = event.clientX;\n        if (clientX === eClientX) {\n            return null;\n        }\n        return clientX > eClientX ? HorizontalDirection.Left : HorizontalDirection.Right;\n    };\n    DragAndDropService.prototype.getVerticalDirection = function (event) {\n        var clientY = this.eventLastTime.clientY;\n        var eClientY = event.clientY;\n        if (clientY === eClientY) {\n            return null;\n        }\n        return clientY > eClientY ? VerticalDirection.Up : VerticalDirection.Down;\n    };\n    DragAndDropService.prototype.createDropTargetEvent = function (dropTarget, event, hDirection, vDirection, fromNudge) {\n        // localise x and y to the target\n        var dropZoneTarget = dropTarget.getContainer();\n        var rect = dropZoneTarget.getBoundingClientRect();\n        var _a = this, api = _a.gridApi, columnApi = _a.columnApi, dragItem = _a.dragItem, dragSource = _a.dragSource;\n        var x = event.clientX - rect.left;\n        var y = event.clientY - rect.top;\n        return { event: event, x: x, y: y, vDirection: vDirection, hDirection: hDirection, dragSource: dragSource, fromNudge: fromNudge, dragItem: dragItem, api: api, columnApi: columnApi, dropZoneTarget: dropZoneTarget };\n    };\n    DragAndDropService.prototype.positionGhost = function (event) {\n        var ghost = this.eGhost;\n        var ghostRect = ghost.getBoundingClientRect();\n        var ghostHeight = ghostRect.height;\n        // for some reason, without the '-2', it still overlapped by 1 or 2 pixels, which\n        // then brought in scrollbars to the browser. no idea why, but putting in -2 here\n        // works around it which is good enough for me.\n        var browserWidth = getBodyWidth() - 2;\n        var browserHeight = getBodyHeight() - 2;\n        var top = event.pageY - (ghostHeight / 2);\n        var left = event.pageX - 10;\n        var usrDocument = this.gridOptionsWrapper.getDocument();\n        var windowScrollY = window.pageYOffset || usrDocument.documentElement.scrollTop;\n        var windowScrollX = window.pageXOffset || usrDocument.documentElement.scrollLeft;\n        // check ghost is not positioned outside of the browser\n        if (browserWidth > 0 && ((left + ghost.clientWidth) > (browserWidth + windowScrollX))) {\n            left = browserWidth + windowScrollX - ghost.clientWidth;\n        }\n        if (left < 0) {\n            left = 0;\n        }\n        if (browserHeight > 0 && ((top + ghost.clientHeight) > (browserHeight + windowScrollY))) {\n            top = browserHeight + windowScrollY - ghost.clientHeight;\n        }\n        if (top < 0) {\n            top = 0;\n        }\n        ghost.style.left = left + \"px\";\n        ghost.style.top = top + \"px\";\n    };\n    DragAndDropService.prototype.removeGhost = function () {\n        if (this.eGhost && this.eGhostParent) {\n            this.eGhostParent.removeChild(this.eGhost);\n        }\n        this.eGhost = null;\n    };\n    DragAndDropService.prototype.createGhost = function () {\n        this.eGhost = loadTemplate(DragAndDropService_1.GHOST_TEMPLATE);\n        var theme = this.environment.getTheme().theme;\n        if (theme) {\n            addCssClass(this.eGhost, theme);\n        }\n        this.eGhostIcon = this.eGhost.querySelector('.ag-dnd-ghost-icon');\n        this.setGhostIcon(null);\n        var eText = this.eGhost.querySelector('.ag-dnd-ghost-label');\n        var dragItemName = this.dragSource.dragItemName;\n        if (isFunction(dragItemName)) {\n            dragItemName = dragItemName();\n        }\n        eText.innerHTML = escapeString(dragItemName);\n        this.eGhost.style.height = '25px';\n        this.eGhost.style.top = '20px';\n        this.eGhost.style.left = '20px';\n        var usrDocument = this.gridOptionsWrapper.getDocument();\n        this.eGhostParent = usrDocument.querySelector('body');\n        if (!this.eGhostParent) {\n            console.warn('ag-Grid: could not find document body, it is needed for dragging columns');\n        }\n        else {\n            this.eGhostParent.appendChild(this.eGhost);\n        }\n    };\n    DragAndDropService.prototype.setGhostIcon = function (iconName, shake) {\n        if (shake === void 0) { shake = false; }\n        clearElement(this.eGhostIcon);\n        var eIcon;\n        if (!iconName) {\n            iconName = this.dragSource.defaultIconName || DragAndDropService_1.ICON_NOT_ALLOWED;\n        }\n        switch (iconName) {\n            case DragAndDropService_1.ICON_PINNED:\n                eIcon = this.ePinnedIcon;\n                break;\n            case DragAndDropService_1.ICON_MOVE:\n                eIcon = this.eMoveIcon;\n                break;\n            case DragAndDropService_1.ICON_LEFT:\n                eIcon = this.eLeftIcon;\n                break;\n            case DragAndDropService_1.ICON_RIGHT:\n                eIcon = this.eRightIcon;\n                break;\n            case DragAndDropService_1.ICON_GROUP:\n                eIcon = this.eGroupIcon;\n                break;\n            case DragAndDropService_1.ICON_AGGREGATE:\n                eIcon = this.eAggregateIcon;\n                break;\n            case DragAndDropService_1.ICON_PIVOT:\n                eIcon = this.ePivotIcon;\n                break;\n            case DragAndDropService_1.ICON_NOT_ALLOWED:\n                eIcon = this.eDropNotAllowedIcon;\n                break;\n            case DragAndDropService_1.ICON_HIDE:\n                eIcon = this.eHideIcon;\n                break;\n        }\n        addOrRemoveCssClass(this.eGhostIcon, 'ag-shake-left-to-right', shake);\n        if (eIcon === this.eHideIcon && this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()) {\n            return;\n        }\n        if (eIcon) {\n            this.eGhostIcon.appendChild(eIcon);\n        }\n    };\n    var DragAndDropService_1;\n    DragAndDropService.ICON_PINNED = 'pinned';\n    DragAndDropService.ICON_MOVE = 'move';\n    DragAndDropService.ICON_LEFT = 'left';\n    DragAndDropService.ICON_RIGHT = 'right';\n    DragAndDropService.ICON_GROUP = 'group';\n    DragAndDropService.ICON_AGGREGATE = 'aggregate';\n    DragAndDropService.ICON_PIVOT = 'pivot';\n    DragAndDropService.ICON_NOT_ALLOWED = 'notAllowed';\n    DragAndDropService.ICON_HIDE = 'hide';\n    DragAndDropService.GHOST_TEMPLATE = \"<div class=\\\"ag-dnd-ghost ag-unselectable\\\">\\n            <span class=\\\"ag-dnd-ghost-icon ag-shake-left-to-right\\\"></span>\\n            <div class=\\\"ag-dnd-ghost-label\\\"></div>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], DragAndDropService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('dragService')\n    ], DragAndDropService.prototype, \"dragService\", void 0);\n    __decorate([\n        Autowired('environment')\n    ], DragAndDropService.prototype, \"environment\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], DragAndDropService.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], DragAndDropService.prototype, \"gridApi\", void 0);\n    __decorate([\n        PostConstruct\n    ], DragAndDropService.prototype, \"init\", null);\n    __decorate([\n        PreDestroy\n    ], DragAndDropService.prototype, \"clearDragSourceParamsList\", null);\n    DragAndDropService = DragAndDropService_1 = __decorate([\n        Bean('dragAndDropService')\n    ], DragAndDropService);\n    return DragAndDropService;\n}(BeanStub));\nexport { DragAndDropService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from '../../context/context';\nimport { Column } from '../../entities/column';\nimport { SetLeftFeature } from '../../rendering/features/setLeftFeature';\nimport { RefSelector } from '../../widgets/componentAnnotations';\nimport { HoverFeature } from '../../headerRendering/hoverFeature';\nimport { Events } from '../../events';\nimport { Promise } from '../../utils';\nimport { ReadOnlyFloatingFilter } from './provided/readOnlyFloatingFilter';\nimport { ModuleNames } from '../../modules/moduleNames';\nimport { ModuleRegistry } from '../../modules/moduleRegistry';\nimport { addOrRemoveCssClass, setDisplayed } from '../../utils/dom';\nimport { createIconNoSpan } from '../../utils/icon';\nimport { AbstractHeaderWrapper } from '../../headerRendering/header/abstractHeaderWrapper';\nimport { FloatingFilterMapper } from './floatingFilterMapper';\nimport { KeyCode } from '../../constants/keyCode';\nvar FloatingFilterWrapper = /** @class */ (function (_super) {\n    __extends(FloatingFilterWrapper, _super);\n    function FloatingFilterWrapper(column, pinned) {\n        var _this = _super.call(this, FloatingFilterWrapper.TEMPLATE) || this;\n        _this.column = column;\n        _this.pinned = pinned;\n        return _this;\n    }\n    FloatingFilterWrapper.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        this.setupFloatingFilter();\n        this.setupWidth();\n        this.setupLeftPositioning();\n        this.setupColumnHover();\n        this.createManagedBean(new HoverFeature([this.column], this.getGui()));\n        this.addManagedListener(this.eButtonShowMainFilter, 'click', this.showParentFilter.bind(this));\n    };\n    FloatingFilterWrapper.prototype.onTabKeyDown = function (e) {\n        var activeEl = document.activeElement;\n        var eGui = this.getGui();\n        var wrapperHasFocus = activeEl === eGui;\n        if (wrapperHasFocus) {\n            return;\n        }\n        e.preventDefault();\n        var nextFocusableEl = this.focusController.findNextFocusableElement(eGui, null, e.shiftKey);\n        if (nextFocusableEl) {\n            nextFocusableEl.focus();\n        }\n        else {\n            eGui.focus();\n        }\n    };\n    FloatingFilterWrapper.prototype.handleKeyDown = function (e) {\n        var activeEl = document.activeElement;\n        var eGui = this.getGui();\n        var wrapperHasFocus = activeEl === eGui;\n        switch (e.keyCode) {\n            case KeyCode.UP:\n            case KeyCode.DOWN:\n                if (!wrapperHasFocus) {\n                    e.preventDefault();\n                }\n            case KeyCode.LEFT:\n            case KeyCode.RIGHT:\n                if (wrapperHasFocus) {\n                    return;\n                }\n                e.stopPropagation();\n            case KeyCode.ENTER:\n                if (wrapperHasFocus) {\n                    if (this.focusController.focusInto(eGui)) {\n                        e.preventDefault();\n                    }\n                }\n                break;\n            case KeyCode.ESCAPE:\n                if (!wrapperHasFocus) {\n                    this.getGui().focus();\n                }\n        }\n    };\n    FloatingFilterWrapper.prototype.onFocusIn = function (e) {\n        var eGui = this.getGui();\n        if (!eGui.contains(e.relatedTarget)) {\n            var headerRow = this.getParentComponent();\n            this.beans.focusController.setFocusedHeader(headerRow.getRowIndex(), this.getColumn());\n        }\n    };\n    FloatingFilterWrapper.prototype.setupFloatingFilter = function () {\n        var _this = this;\n        var colDef = this.column.getColDef();\n        if (!colDef.filter || !colDef.floatingFilter) {\n            return;\n        }\n        this.floatingFilterCompPromise = this.getFloatingFilterInstance();\n        if (!this.floatingFilterCompPromise) {\n            return;\n        }\n        this.floatingFilterCompPromise.then(function (compInstance) {\n            if (compInstance) {\n                _this.setupWithFloatingFilter(compInstance);\n                _this.setupSyncWithFilter();\n            }\n        });\n    };\n    FloatingFilterWrapper.prototype.setupLeftPositioning = function () {\n        var setLeftFeature = new SetLeftFeature(this.column, this.getGui(), this.beans);\n        this.createManagedBean(setLeftFeature);\n    };\n    FloatingFilterWrapper.prototype.setupSyncWithFilter = function () {\n        var _this = this;\n        var syncWithFilter = function (filterChangedEvent) {\n            var parentModel = _this.getFilterComponent().resolveNow(null, function (filter) { return filter.getModel(); });\n            _this.onParentModelChanged(parentModel, filterChangedEvent);\n        };\n        this.addManagedListener(this.column, Column.EVENT_FILTER_CHANGED, syncWithFilter);\n        if (this.filterManager.isFilterActive(this.column)) {\n            syncWithFilter(null);\n        }\n    };\n    // linked to event listener in template\n    FloatingFilterWrapper.prototype.showParentFilter = function () {\n        var eventSource = this.suppressFilterButton ? this.eFloatingFilterBody : this.eButtonShowMainFilter;\n        this.menuFactory.showMenuAfterButtonClick(this.column, eventSource, 'filterMenuTab', ['filterMenuTab']);\n    };\n    FloatingFilterWrapper.prototype.setupColumnHover = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, this.onColumnHover.bind(this));\n        this.onColumnHover();\n    };\n    FloatingFilterWrapper.prototype.onColumnHover = function () {\n        addOrRemoveCssClass(this.getGui(), 'ag-column-hover', this.columnHoverService.isHovered(this.column));\n    };\n    FloatingFilterWrapper.prototype.setupWidth = function () {\n        this.addManagedListener(this.column, Column.EVENT_WIDTH_CHANGED, this.onColumnWidthChanged.bind(this));\n        this.onColumnWidthChanged();\n    };\n    FloatingFilterWrapper.prototype.onColumnWidthChanged = function () {\n        this.getGui().style.width = this.column.getActualWidth() + \"px\";\n    };\n    FloatingFilterWrapper.prototype.setupWithFloatingFilter = function (floatingFilterComp) {\n        var _this = this;\n        var disposeFunc = function () {\n            _this.getContext().destroyBean(floatingFilterComp);\n        };\n        if (!this.isAlive()) {\n            disposeFunc();\n            return;\n        }\n        this.addDestroyFunc(disposeFunc);\n        var floatingFilterCompUi = floatingFilterComp.getGui();\n        addOrRemoveCssClass(this.eFloatingFilterBody, 'ag-floating-filter-full-body', this.suppressFilterButton);\n        addOrRemoveCssClass(this.eFloatingFilterBody, 'ag-floating-filter-body', !this.suppressFilterButton);\n        setDisplayed(this.eButtonWrapper, !this.suppressFilterButton);\n        var eIcon = createIconNoSpan('filter', this.gridOptionsWrapper, this.column);\n        this.eButtonShowMainFilter.appendChild(eIcon);\n        this.eFloatingFilterBody.appendChild(floatingFilterCompUi);\n        if (floatingFilterComp.afterGuiAttached) {\n            floatingFilterComp.afterGuiAttached();\n        }\n    };\n    FloatingFilterWrapper.prototype.parentFilterInstance = function (callback) {\n        this.getFilterComponent().then(callback);\n    };\n    FloatingFilterWrapper.prototype.getFilterComponent = function () {\n        return this.filterManager.getFilterComponent(this.column, 'NO_UI');\n    };\n    FloatingFilterWrapper.getDefaultFloatingFilterType = function (def) {\n        if (def == null) {\n            return null;\n        }\n        var defaultFloatingFilterType = null;\n        if (typeof def.filter === 'string') {\n            // will be undefined if not in the map\n            defaultFloatingFilterType = FloatingFilterMapper.getFloatingFilterType(def.filter);\n        }\n        else if (def.filterFramework) {\n            // If filterFramework, then grid is NOT using one of the provided filters, hence no default.\n            // Note: We could combine this with another part of the 'if' statement, however explicitly\n            // having this section makes the code easier to read.\n        }\n        else if (def.filter === true) {\n            var setFilterModuleLoaded = ModuleRegistry.isRegistered(ModuleNames.SetFilterModule);\n            defaultFloatingFilterType = setFilterModuleLoaded ? 'agSetColumnFloatingFilter' : 'agTextColumnFloatingFilter';\n        }\n        return defaultFloatingFilterType;\n    };\n    FloatingFilterWrapper.prototype.getFloatingFilterInstance = function () {\n        var colDef = this.column.getColDef();\n        var defaultFloatingFilterType = FloatingFilterWrapper.getDefaultFloatingFilterType(colDef);\n        var filterParams = this.filterManager.createFilterParams(this.column, colDef);\n        var finalFilterParams = this.userComponentFactory.createFinalParams(colDef, 'filter', filterParams);\n        var params = {\n            api: this.gridApi,\n            column: this.column,\n            filterParams: finalFilterParams,\n            currentParentModel: this.currentParentModel.bind(this),\n            parentFilterInstance: this.parentFilterInstance.bind(this),\n            showParentFilter: this.showParentFilter.bind(this),\n            onFloatingFilterChanged: this.onFloatingFilterChanged.bind(this),\n            suppressFilterButton: false // This one might be overridden from the colDef\n        };\n        // this is unusual - we need a params value OUTSIDE the component the params are for.\n        // the params are for the floating filter component, but this property is actually for the wrapper.\n        this.suppressFilterButton = colDef.floatingFilterComponentParams ? !!colDef.floatingFilterComponentParams.suppressFilterButton : false;\n        var promise = this.userComponentFactory.newFloatingFilterComponent(colDef, params, defaultFloatingFilterType);\n        if (!promise) {\n            var filterComponent = this.getFilterComponentPrototype(colDef);\n            var getModelAsStringExists = filterComponent && filterComponent.prototype && filterComponent.prototype.getModelAsString;\n            if (getModelAsStringExists) {\n                var compInstance = this.userComponentFactory.createUserComponentFromConcreteClass(ReadOnlyFloatingFilter, params);\n                promise = Promise.resolve(compInstance);\n            }\n        }\n        return promise;\n    };\n    FloatingFilterWrapper.prototype.createDynamicParams = function () {\n        return {\n            column: this.column,\n            colDef: this.column.getColDef(),\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n    };\n    FloatingFilterWrapper.prototype.getFilterComponentPrototype = function (colDef) {\n        var resolvedComponent = this.userComponentFactory.lookupComponentClassDef(colDef, 'filter', this.createDynamicParams());\n        return resolvedComponent ? resolvedComponent.component : null;\n    };\n    FloatingFilterWrapper.prototype.currentParentModel = function () {\n        return this.getFilterComponent().resolveNow(null, function (filter) { return filter.getModel(); });\n    };\n    FloatingFilterWrapper.prototype.onParentModelChanged = function (model, filterChangedEvent) {\n        if (!this.floatingFilterCompPromise) {\n            return;\n        }\n        this.floatingFilterCompPromise.then(function (comp) { return comp.onParentModelChanged(model, filterChangedEvent); });\n    };\n    FloatingFilterWrapper.prototype.onFloatingFilterChanged = function () {\n        console.warn('ag-Grid: since version 21.x, how floating filters are implemented has changed. ' +\n            'Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via ' +\n            'params.parentFilterInstance() and then set a value on the parent filter directly.');\n    };\n    FloatingFilterWrapper.TEMPLATE = \"<div class=\\\"ag-header-cell\\\" role=\\\"columnheader\\\" tabindex=\\\"-1\\\">\\n            <div class=\\\"ag-floating-filter-full-body\\\" ref=\\\"eFloatingFilterBody\\\" role=\\\"presentation\\\"></div>\\n            <div class=\\\"ag-floating-filter-button ag-hidden\\\" ref=\\\"eButtonWrapper\\\" role=\\\"presentation\\\">\\n                <button type=\\\"button\\\" aria-label=\\\"Open Filter Menu\\\" class=\\\"ag-floating-filter-button-button\\\" ref=\\\"eButtonShowMainFilter\\\" tabindex=\\\"-1\\\"></button>\\n            </div>\\n        </div>\";\n    __decorate([\n        Autowired('columnHoverService')\n    ], FloatingFilterWrapper.prototype, \"columnHoverService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FloatingFilterWrapper.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], FloatingFilterWrapper.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], FloatingFilterWrapper.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], FloatingFilterWrapper.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], FloatingFilterWrapper.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('menuFactory')\n    ], FloatingFilterWrapper.prototype, \"menuFactory\", void 0);\n    __decorate([\n        Autowired('beans')\n    ], FloatingFilterWrapper.prototype, \"beans\", void 0);\n    __decorate([\n        RefSelector('eFloatingFilterBody')\n    ], FloatingFilterWrapper.prototype, \"eFloatingFilterBody\", void 0);\n    __decorate([\n        RefSelector('eButtonWrapper')\n    ], FloatingFilterWrapper.prototype, \"eButtonWrapper\", void 0);\n    __decorate([\n        RefSelector('eButtonShowMainFilter')\n    ], FloatingFilterWrapper.prototype, \"eButtonShowMainFilter\", void 0);\n    return FloatingFilterWrapper;\n}(AbstractHeaderWrapper));\nexport { FloatingFilterWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// class returns unique instance id's for columns.\n// eg, the following calls (in this order) will result in:\n//\n// getInstanceIdForKey('country') => 0\n// getInstanceIdForKey('country') => 1\n// getInstanceIdForKey('country') => 2\n// getInstanceIdForKey('country') => 3\n// getInstanceIdForKey('age') => 0\n// getInstanceIdForKey('age') => 1\n// getInstanceIdForKey('country') => 4\nvar GroupInstanceIdCreator = /** @class */ (function () {\n    function GroupInstanceIdCreator() {\n        // this map contains keys to numbers, so we remember what the last call was\n        this.existingIds = {};\n    }\n    GroupInstanceIdCreator.prototype.getInstanceIdForKey = function (key) {\n        var lastResult = this.existingIds[key];\n        var result;\n        if (typeof lastResult !== 'number') {\n            // first time this key\n            result = 0;\n        }\n        else {\n            result = lastResult + 1;\n        }\n        this.existingIds[key] = result;\n        return result;\n    };\n    return GroupInstanceIdCreator;\n}());\nexport { GroupInstanceIdCreator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RowNode } from \"../../entities/rowNode\";\nimport { PreDestroy } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { cleanNumber } from \"../../utils/number\";\nvar RowNodeBlock = /** @class */ (function (_super) {\n    __extends(RowNodeBlock, _super);\n    function RowNodeBlock(blockNumber, rowNodeCacheParams) {\n        var _this = _super.call(this) || this;\n        _this.version = 0;\n        _this.state = RowNodeBlock.STATE_DIRTY;\n        _this.rowNodeCacheParams = rowNodeCacheParams;\n        _this.blockNumber = blockNumber;\n        // we don't need to calculate these now, as the inputs don't change,\n        // however it makes the code easier to read if we work them out up front\n        _this.startRow = blockNumber * rowNodeCacheParams.blockSize;\n        _this.endRow = _this.startRow + rowNodeCacheParams.blockSize;\n        return _this;\n    }\n    RowNodeBlock.prototype.isAnyNodeOpen = function (rowCount) {\n        var result = false;\n        this.forEachNodeCallback(function (rowNode) {\n            if (rowNode.expanded) {\n                result = true;\n            }\n        }, rowCount);\n        return result;\n    };\n    RowNodeBlock.prototype.forEachNodeCallback = function (callback, rowCount) {\n        for (var rowIndex = this.startRow; rowIndex < this.endRow; rowIndex++) {\n            // we check against rowCount as this page may be the last one, and if it is, then\n            // the last rows are not part of the set\n            if (rowIndex < rowCount) {\n                var rowNode = this.getRowUsingLocalIndex(rowIndex);\n                callback(rowNode, rowIndex);\n            }\n        }\n    };\n    RowNodeBlock.prototype.forEachNode = function (callback, sequence, rowCount, deep) {\n        this.forEachNodeCallback(function (rowNode) {\n            callback(rowNode, sequence.next());\n            // this will only every happen for server side row model, as infinite\n            // row model doesn't have groups\n            if (deep && rowNode.childrenCache) {\n                rowNode.childrenCache.forEachNodeDeep(callback, sequence);\n            }\n        }, rowCount);\n    };\n    RowNodeBlock.prototype.forEachNodeDeep = function (callback, sequence, rowCount) {\n        this.forEachNode(callback, sequence, rowCount, true);\n    };\n    RowNodeBlock.prototype.forEachNodeShallow = function (callback, sequence, rowCount) {\n        this.forEachNode(callback, sequence, rowCount, false);\n    };\n    RowNodeBlock.prototype.getVersion = function () {\n        return this.version;\n    };\n    RowNodeBlock.prototype.getLastAccessed = function () {\n        return this.lastAccessed;\n    };\n    RowNodeBlock.prototype.getRowUsingLocalIndex = function (rowIndex, dontTouchLastAccessed) {\n        if (dontTouchLastAccessed === void 0) { dontTouchLastAccessed = false; }\n        if (!dontTouchLastAccessed) {\n            this.lastAccessed = this.rowNodeCacheParams.lastAccessedSequence.next();\n        }\n        var localIndex = rowIndex - this.startRow;\n        return this.rowNodes[localIndex];\n    };\n    RowNodeBlock.prototype.init = function (beans) {\n        this.beans = beans;\n        this.createRowNodes();\n    };\n    RowNodeBlock.prototype.getStartRow = function () {\n        return this.startRow;\n    };\n    RowNodeBlock.prototype.getEndRow = function () {\n        return this.endRow;\n    };\n    RowNodeBlock.prototype.getBlockNumber = function () {\n        return this.blockNumber;\n    };\n    RowNodeBlock.prototype.setDirty = function () {\n        // in case any current loads in progress, this will have their results ignored\n        this.version++;\n        this.state = RowNodeBlock.STATE_DIRTY;\n    };\n    RowNodeBlock.prototype.setDirtyAndPurge = function () {\n        this.setDirty();\n        this.rowNodes.forEach(function (rowNode) {\n            rowNode.setData(null);\n        });\n    };\n    RowNodeBlock.prototype.getState = function () {\n        return this.state;\n    };\n    RowNodeBlock.prototype.setRowNode = function (rowIndex, rowNode) {\n        var localIndex = rowIndex - this.startRow;\n        this.rowNodes[localIndex] = rowNode;\n    };\n    RowNodeBlock.prototype.setBlankRowNode = function (rowIndex) {\n        var localIndex = rowIndex - this.startRow;\n        var newRowNode = this.createBlankRowNode(rowIndex);\n        this.rowNodes[localIndex] = newRowNode;\n        return newRowNode;\n    };\n    RowNodeBlock.prototype.setNewData = function (rowIndex, dataItem) {\n        var newRowNode = this.setBlankRowNode(rowIndex);\n        this.setDataAndId(newRowNode, dataItem, this.startRow + rowIndex);\n        return newRowNode;\n    };\n    RowNodeBlock.prototype.createBlankRowNode = function (rowIndex) {\n        var rowNode = new RowNode();\n        this.beans.context.createBean(rowNode);\n        rowNode.setRowHeight(this.rowNodeCacheParams.rowHeight);\n        return rowNode;\n    };\n    // creates empty row nodes, data is missing as not loaded yet\n    RowNodeBlock.prototype.createRowNodes = function () {\n        this.rowNodes = [];\n        for (var i = 0; i < this.rowNodeCacheParams.blockSize; i++) {\n            var rowIndex = this.startRow + i;\n            var rowNode = this.createBlankRowNode(rowIndex);\n            this.rowNodes.push(rowNode);\n        }\n    };\n    RowNodeBlock.prototype.load = function () {\n        this.state = RowNodeBlock.STATE_LOADING;\n        this.loadFromDatasource();\n    };\n    RowNodeBlock.prototype.pageLoadFailed = function () {\n        this.state = RowNodeBlock.STATE_FAILED;\n        var event = {\n            type: RowNodeBlock.EVENT_LOAD_COMPLETE,\n            success: false,\n            page: this,\n            lastRow: null\n        };\n        this.dispatchEvent(event);\n    };\n    RowNodeBlock.prototype.populateWithRowData = function (rows) {\n        var _this = this;\n        var rowNodesToRefresh = [];\n        this.rowNodes.forEach(function (rowNode, index) {\n            var data = rows[index];\n            if (rowNode.stub) {\n                rowNodesToRefresh.push(rowNode);\n            }\n            _this.setDataAndId(rowNode, data, _this.startRow + index);\n        });\n        if (rowNodesToRefresh.length > 0) {\n            this.beans.rowRenderer.redrawRows(rowNodesToRefresh);\n        }\n    };\n    RowNodeBlock.prototype.destroyRowNodes = function () {\n        var _this = this;\n        this.rowNodes.forEach(function (rowNode) {\n            if (rowNode.childrenCache) {\n                _this.destroyBean(rowNode.childrenCache);\n                rowNode.childrenCache = null;\n            }\n            // this is needed, so row render knows to fade out the row, otherwise it\n            // sees row top is present, and thinks the row should be shown. maybe\n            // rowNode should have a flag on whether it is visible???\n            rowNode.clearRowTop();\n        });\n    };\n    RowNodeBlock.prototype.pageLoaded = function (version, rows, lastRow) {\n        // we need to check the version, in case there was an old request\n        // from the server that was sent before we refreshed the cache,\n        // if the load was done as a result of a cache refresh\n        if (version === this.version) {\n            this.state = RowNodeBlock.STATE_LOADED;\n            this.populateWithRowData(rows);\n        }\n        lastRow = cleanNumber(lastRow);\n        // check here if lastRow should be set\n        var event = {\n            type: RowNodeBlock.EVENT_LOAD_COMPLETE,\n            success: true,\n            page: this,\n            lastRow: lastRow\n        };\n        this.dispatchEvent(event);\n    };\n    RowNodeBlock.EVENT_LOAD_COMPLETE = 'loadComplete';\n    RowNodeBlock.STATE_DIRTY = 'dirty';\n    RowNodeBlock.STATE_LOADING = 'loading';\n    RowNodeBlock.STATE_LOADED = 'loaded';\n    RowNodeBlock.STATE_FAILED = 'failed';\n    __decorate([\n        PreDestroy\n    ], RowNodeBlock.prototype, \"destroyRowNodes\", null);\n    return RowNodeBlock;\n}(BeanStub));\nexport { RowNodeBlock };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * If value is undefined, null or blank, returns null, otherwise returns the value\n * @param {T} value\n * @returns {T | null}\n */\nexport function makeNull(value) {\n    return value == null || value === '' ? null : value;\n}\nexport function exists(value, allowEmptyString) {\n    if (allowEmptyString === void 0) { allowEmptyString = false; }\n    return value != null && (allowEmptyString || value !== '');\n}\nexport function missing(value) {\n    return !exists(value);\n}\nexport function missingOrEmpty(value) {\n    return !value || missing(value) || value.length === 0;\n}\nexport function toStringOrNull(value) {\n    return exists(value) && value.toString ? value.toString() : null;\n}\n// for parsing html attributes, where we want empty strings and missing attributes to be undefined\nexport function attrToNumber(value) {\n    if (value === undefined) {\n        // undefined or empty means ignore the value\n        return;\n    }\n    if (value === null || value === '') {\n        // null or blank means clear\n        return null;\n    }\n    if (typeof value === 'number') {\n        return isNaN(value) ? undefined : value;\n    }\n    var valueParsed = parseInt(value, 10);\n    return isNaN(valueParsed) ? undefined : valueParsed;\n}\n// for parsing html attributes, where we want empty strings and missing attributes to be undefined\nexport function attrToBoolean(value) {\n    if (value === undefined) {\n        // undefined or empty means ignore the value\n        return;\n    }\n    if (value === null || value === '') {\n        // null means clear\n        return false;\n    }\n    if (value === true || value === false) {\n        // if simple boolean, return the boolean\n        return value;\n    }\n    // if equal to the string 'true' (ignoring case) then return true\n    return (/true/i).test(value);\n}\n// for parsing html attributes, where we want empty strings and missing attributes to be undefined\nexport function attrToString(value) {\n    if (value == null || value === '') {\n        return;\n    }\n    return value;\n}\n/** @deprecated */\nexport function referenceCompare(left, right) {\n    if (left == null && right == null) {\n        return true;\n    }\n    if (left == null && right != null) {\n        return false;\n    }\n    if (left != null && right == null) {\n        return false;\n    }\n    return left === right;\n}\nexport function jsonEquals(val1, val2) {\n    var val1Json = val1 ? JSON.stringify(val1) : null;\n    var val2Json = val2 ? JSON.stringify(val2) : null;\n    return val1Json === val2Json;\n}\nexport function defaultComparator(valueA, valueB, accentedCompare) {\n    if (accentedCompare === void 0) { accentedCompare = false; }\n    var valueAMissing = valueA == null;\n    var valueBMissing = valueB == null;\n    // this is for aggregations sum and avg, where the result can be a number that is wrapped.\n    // if we didn't do this, then the toString() value would be used, which would result in\n    // the strings getting used instead of the numbers.\n    if (valueA && valueA.toNumber) {\n        valueA = valueA.toNumber();\n    }\n    if (valueB && valueB.toNumber) {\n        valueB = valueB.toNumber();\n    }\n    if (valueAMissing && valueBMissing) {\n        return 0;\n    }\n    if (valueAMissing) {\n        return -1;\n    }\n    if (valueBMissing) {\n        return 1;\n    }\n    function doQuickCompare(a, b) {\n        return (a > b ? 1 : (a < b ? -1 : 0));\n    }\n    if (typeof valueA !== 'string') {\n        return doQuickCompare(valueA, valueB);\n    }\n    if (!accentedCompare) {\n        return doQuickCompare(valueA, valueB);\n    }\n    try {\n        // using local compare also allows chinese comparisons\n        return valueA.localeCompare(valueB);\n    }\n    catch (e) {\n        // if something wrong with localeCompare, eg not supported\n        // by browser, then just continue with the quick one\n        return doQuickCompare(valueA, valueB);\n    }\n}\nexport function find(collection, predicate, value) {\n    if (collection === null || collection === undefined) {\n        return null;\n    }\n    if (!Array.isArray(collection)) {\n        var objToArray = values(collection);\n        return find(objToArray, predicate, value);\n    }\n    var collectionAsArray = collection;\n    var firstMatchingItem = null;\n    for (var i = 0; i < collectionAsArray.length; i++) {\n        var item = collectionAsArray[i];\n        if (typeof predicate === 'string') {\n            if (item[predicate] === value) {\n                firstMatchingItem = item;\n                break;\n            }\n        }\n        else {\n            var callback = predicate;\n            if (callback(item)) {\n                firstMatchingItem = item;\n                break;\n            }\n        }\n    }\n    return firstMatchingItem;\n}\nexport function values(object) {\n    if (object instanceof Set || object instanceof Map) {\n        var values_1 = [];\n        object.forEach(function (value) { return values_1.push(value); });\n        return values_1;\n    }\n    return Object.keys(object).map(function (key) { return object[key]; });\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var DefaultColumnTypes = {\n    numericColumn: {\n        headerClass: 'ag-right-aligned-header',\n        cellClass: 'ag-right-aligned-cell'\n    },\n    rightAligned: {\n        headerClass: 'ag-right-aligned-header',\n        cellClass: 'ag-right-aligned-cell'\n    }\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { createIconNoSpan } from \"../../utils/icon\";\nvar LoadingCellRenderer = /** @class */ (function (_super) {\n    __extends(LoadingCellRenderer, _super);\n    function LoadingCellRenderer() {\n        return _super.call(this, LoadingCellRenderer.TEMPLATE) || this;\n    }\n    LoadingCellRenderer.prototype.init = function (params) {\n        var eLoadingIcon = createIconNoSpan('groupLoading', this.gridOptionsWrapper, null);\n        this.eLoadingIcon.appendChild(eLoadingIcon);\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.eLoadingText.innerText = localeTextFunc('loadingOoo', 'Loading');\n    };\n    LoadingCellRenderer.prototype.refresh = function (params) {\n        return false;\n    };\n    LoadingCellRenderer.TEMPLATE = \"<div class=\\\"ag-loading\\\">\\n            <span class=\\\"ag-loading-icon\\\" ref=\\\"eLoadingIcon\\\"></span>\\n            <span class=\\\"ag-loading-text\\\" ref=\\\"eLoadingText\\\"></span>\\n        </div>\";\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], LoadingCellRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eLoadingIcon')\n    ], LoadingCellRenderer.prototype, \"eLoadingIcon\", void 0);\n    __decorate([\n        RefSelector('eLoadingText')\n    ], LoadingCellRenderer.prototype, \"eLoadingText\", void 0);\n    return LoadingCellRenderer;\n}(Component));\nexport { LoadingCellRenderer };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { BeanStub } from \"../context/beanStub\";\nvar ColumnHoverService = /** @class */ (function (_super) {\n    __extends(ColumnHoverService, _super);\n    function ColumnHoverService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnHoverService.prototype.setMouseOver = function (columns) {\n        this.selectedColumns = columns;\n        var event = {\n            type: Events.EVENT_COLUMN_HOVER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnHoverService.prototype.clearMouseOver = function () {\n        this.selectedColumns = null;\n        var event = {\n            type: Events.EVENT_COLUMN_HOVER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnHoverService.prototype.isHovered = function (column) {\n        return this.selectedColumns && this.selectedColumns.indexOf(column) >= 0;\n    };\n    __decorate([\n        Autowired('columnApi')\n    ], ColumnHoverService.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], ColumnHoverService.prototype, \"gridApi\", void 0);\n    ColumnHoverService = __decorate([\n        Bean('columnHoverService')\n    ], ColumnHoverService);\n    return ColumnHoverService;\n}(BeanStub));\nexport { ColumnHoverService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar FUNCTION_STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar FUNCTION_ARGUMENT_NAMES = /([^\\s,]+)/g;\nvar doOnceFlags = {};\n/**\n * If the key was passed before, then doesn't execute the func\n * @param {Function} func\n * @param {string} key\n */\nexport function doOnce(func, key) {\n    if (doOnceFlags[key]) {\n        return;\n    }\n    func();\n    doOnceFlags[key] = true;\n}\nexport function getFunctionName(funcConstructor) {\n    // for every other browser in the world\n    if (funcConstructor.name) {\n        return funcConstructor.name;\n    }\n    // for the pestilence that is ie11\n    var matches = /function\\s+([^\\(]+)/.exec(funcConstructor.toString());\n    return matches && matches.length === 2 ? matches[1].trim() : null;\n}\n/** @deprecated */\nexport function getFunctionParameters(func) {\n    var fnStr = func.toString().replace(FUNCTION_STRIP_COMMENTS, '');\n    return fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(FUNCTION_ARGUMENT_NAMES) || [];\n}\nexport function isFunction(val) {\n    return !!(val && val.constructor && val.call && val.apply);\n}\nexport function executeInAWhile(funcs) {\n    executeAfter(funcs, 400);\n}\nexport function executeNextVMTurn(funcs) {\n    executeAfter(funcs, 0);\n}\nexport function executeAfter(funcs, milliseconds) {\n    if (milliseconds === void 0) { milliseconds = 0; }\n    if (funcs.length > 0) {\n        window.setTimeout(function () { return funcs.forEach(function (func) { return func(); }); }, milliseconds);\n    }\n}\n/**\n * from https://stackoverflow.com/questions/24004791/can-someone-explain-the-debounce-function-in-javascript\n * @param {Function} func The function to be debounced\n * @param {number} wait The time in ms to debounce\n * @param {boolean} immediate If it should run immediately or wait for the initial debounce delay\n * @return {Function} The debounced function\n */\nexport function debounce(func, wait, immediate) {\n    if (immediate === void 0) { immediate = false; }\n    // 'private' variable for instance\n    // The returned function will be able to reference this due to closure.\n    // Each call to the returned function will share this common timer.\n    var timeout;\n    // Calling debounce returns a new anonymous function\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // reference the context and args for the setTimeout function\n        var context = this;\n        // Should the function be called now? If immediate is true\n        //   and not already in a timeout then the answer is: Yes\n        var callNow = immediate && !timeout;\n        // This is the basic debounce behaviour where you can call this\n        //   function several times, but it will only execute once\n        //   [before or after imposing a delay].\n        //   Each time the returned function is called, the timer starts over.\n        window.clearTimeout(timeout);\n        // Set the new timeout\n        timeout = window.setTimeout(function () {\n            // Inside the timeout function, clear the timeout variable\n            // which will let the next execution run when in 'immediate' mode\n            timeout = null;\n            // Check if the function already ran with the immediate flag\n            if (!immediate) {\n                // Call the original function with apply\n                // apply lets you define the 'this' object as well as the arguments\n                //    (both captured before setTimeout)\n                func.apply(context, args);\n            }\n        }, wait);\n        // Immediate mode and no wait timer? Execute the function..\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport function compose() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return function (arg) { return fns.reduce(function (composed, f) { return f(composed); }, arg); };\n}\nexport function callIfPresent(func) {\n    if (func) {\n        func();\n    }\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Events } from '../events';\nimport { PropertyKeys } from '../propertyKeys';\nimport { iterateObject } from '../utils/object';\nimport { values } from '../utils/generic';\nvar ComponentUtil = /** @class */ (function () {\n    function ComponentUtil() {\n    }\n    ComponentUtil.getEventCallbacks = function () {\n        if (!ComponentUtil.EVENT_CALLBACKS) {\n            ComponentUtil.EVENT_CALLBACKS = ComponentUtil.EVENTS.map(function (event) { return ComponentUtil.getCallbackForEvent(event); });\n        }\n        return ComponentUtil.EVENT_CALLBACKS;\n    };\n    ComponentUtil.copyAttributesToGridOptions = function (gridOptions, component, skipEventDeprecationCheck) {\n        if (skipEventDeprecationCheck === void 0) { skipEventDeprecationCheck = false; }\n        // create empty grid options if none were passed\n        if (typeof gridOptions !== 'object') {\n            gridOptions = {};\n        }\n        // to allow array style lookup in TypeScript, take type away from 'this' and 'gridOptions'\n        var pGridOptions = gridOptions;\n        var keyExists = function (key) { return typeof component[key] !== 'undefined'; };\n        // add in all the simple properties\n        __spreadArrays(ComponentUtil.ARRAY_PROPERTIES, ComponentUtil.STRING_PROPERTIES, ComponentUtil.OBJECT_PROPERTIES, ComponentUtil.FUNCTION_PROPERTIES, ComponentUtil.getEventCallbacks()).filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = component[key]; });\n        ComponentUtil.BOOLEAN_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toBoolean(component[key]); });\n        ComponentUtil.NUMBER_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toNumber(component[key]); });\n        return gridOptions;\n    };\n    ComponentUtil.getCallbackForEvent = function (eventName) {\n        if (!eventName || eventName.length < 2) {\n            return eventName;\n        }\n        else {\n            return 'on' + eventName[0].toUpperCase() + eventName.substr(1);\n        }\n    };\n    ComponentUtil.processOnChange = function (changes, gridOptions, api, columnApi) {\n        if (!changes) {\n            return;\n        }\n        // to allow array style lookup in TypeScript, take type away from 'this' and 'gridOptions'\n        var pGridOptions = gridOptions;\n        var keyExists = function (key) { return changes[key]; };\n        // check if any change for the simple types, and if so, then just copy in the new value\n        __spreadArrays(ComponentUtil.ARRAY_PROPERTIES, ComponentUtil.OBJECT_PROPERTIES, ComponentUtil.STRING_PROPERTIES, ComponentUtil.getEventCallbacks()).filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = changes[key].currentValue; });\n        ComponentUtil.BOOLEAN_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toBoolean(changes[key].currentValue); });\n        ComponentUtil.NUMBER_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toNumber(changes[key].currentValue); });\n        if (changes.enableCellTextSelection) {\n            api.setEnableCellTextSelection(ComponentUtil.toBoolean(changes.enableCellTextSelection.currentValue));\n        }\n        if (changes.quickFilterText) {\n            api.setQuickFilter(changes.quickFilterText.currentValue);\n        }\n        if (changes.rowData) {\n            api.setRowData(changes.rowData.currentValue);\n        }\n        if (changes.pinnedTopRowData) {\n            api.setPinnedTopRowData(changes.pinnedTopRowData.currentValue);\n        }\n        if (changes.pinnedBottomRowData) {\n            api.setPinnedBottomRowData(changes.pinnedBottomRowData.currentValue);\n        }\n        if (changes.autoGroupColumnDef) {\n            api.setAutoGroupColumnDef(changes.autoGroupColumnDef.currentValue, \"gridOptionsChanged\");\n        }\n        if (changes.columnDefs) {\n            api.setColumnDefs(changes.columnDefs.currentValue, \"gridOptionsChanged\");\n        }\n        if (changes.datasource) {\n            api.setDatasource(changes.datasource.currentValue);\n        }\n        if (changes.headerHeight) {\n            api.setHeaderHeight(ComponentUtil.toNumber(changes.headerHeight.currentValue));\n        }\n        if (changes.paginationPageSize) {\n            api.paginationSetPageSize(ComponentUtil.toNumber(changes.paginationPageSize.currentValue));\n        }\n        if (changes.pivotMode) {\n            columnApi.setPivotMode(ComponentUtil.toBoolean(changes.pivotMode.currentValue));\n        }\n        if (changes.groupRemoveSingleChildren) {\n            api.setGroupRemoveSingleChildren(ComponentUtil.toBoolean(changes.groupRemoveSingleChildren.currentValue));\n        }\n        if (changes.suppressRowDrag) {\n            api.setSuppressRowDrag(ComponentUtil.toBoolean(changes.suppressRowDrag.currentValue));\n        }\n        if (changes.suppressMoveWhenRowDragging) {\n            api.setSuppressMoveWhenRowDragging(ComponentUtil.toBoolean(changes.suppressMoveWhenRowDragging.currentValue));\n        }\n        if (changes.suppressRowClickSelection) {\n            api.setSuppressRowClickSelection(ComponentUtil.toBoolean(changes.suppressRowClickSelection.currentValue));\n        }\n        if (changes.suppressClipboardPaste) {\n            api.setSuppressClipboardPaste(ComponentUtil.toBoolean(changes.suppressClipboardPaste.currentValue));\n        }\n        if (changes.sideBar) {\n            api.setSideBar(changes.sideBar.currentValue);\n        }\n        // copy changes into an event for dispatch\n        var event = {\n            type: Events.EVENT_COMPONENT_STATE_CHANGED,\n            api: gridOptions.api,\n            columnApi: gridOptions.columnApi\n        };\n        iterateObject(changes, function (key, value) {\n            event[key] = value;\n        });\n        api.dispatchEvent(event);\n    };\n    ComponentUtil.toBoolean = function (value) {\n        if (typeof value === 'boolean') {\n            return value;\n        }\n        else if (typeof value === 'string') {\n            // for boolean, compare to empty String to allow attributes appearing with\n            // no value to be treated as 'true'\n            return value.toUpperCase() === 'TRUE' || value == '';\n        }\n        else {\n            return false;\n        }\n    };\n    ComponentUtil.toNumber = function (value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        else if (typeof value === 'string') {\n            return Number(value);\n        }\n        else {\n            return undefined;\n        }\n    };\n    // all the events are populated in here AFTER this class (at the bottom of the file).\n    ComponentUtil.EVENTS = [];\n    ComponentUtil.STRING_PROPERTIES = PropertyKeys.STRING_PROPERTIES;\n    ComponentUtil.OBJECT_PROPERTIES = PropertyKeys.OBJECT_PROPERTIES;\n    ComponentUtil.ARRAY_PROPERTIES = PropertyKeys.ARRAY_PROPERTIES;\n    ComponentUtil.NUMBER_PROPERTIES = PropertyKeys.NUMBER_PROPERTIES;\n    ComponentUtil.BOOLEAN_PROPERTIES = PropertyKeys.BOOLEAN_PROPERTIES;\n    ComponentUtil.FUNCTION_PROPERTIES = PropertyKeys.FUNCTION_PROPERTIES;\n    ComponentUtil.ALL_PROPERTIES = PropertyKeys.ALL_PROPERTIES;\n    return ComponentUtil;\n}());\nexport { ComponentUtil };\nComponentUtil.EVENTS = values(Events);\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct, BeanStub } from \"@ag-grid-community/core\";\nvar FilterService = /** @class */ (function (_super) {\n    __extends(FilterService, _super);\n    function FilterService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterService.prototype.postConstruct = function () {\n        this.doingTreeData = this.gridOptionsWrapper.isTreeData();\n    };\n    FilterService.prototype.filter = function (changedPath) {\n        var filterActive = this.filterManager.isAnyFilterPresent();\n        this.filterNodes(filterActive, changedPath);\n    };\n    FilterService.prototype.filterNodes = function (filterActive, changedPath) {\n        var _this = this;\n        var filterCallback = function (rowNode, includeChildNodes) {\n            // recursively get all children that are groups to also filter\n            if (rowNode.hasChildren()) {\n                // result of filter for this node. when filtering tree data, includeChildNodes = true when parent passes\n                if (filterActive && !includeChildNodes) {\n                    rowNode.childrenAfterFilter = rowNode.childrenAfterGroup.filter(function (childNode) {\n                        // a group is included in the result if it has any children of it's own.\n                        // by this stage, the child groups are already filtered\n                        var passBecauseChildren = childNode.childrenAfterFilter && childNode.childrenAfterFilter.length > 0;\n                        // both leaf level nodes and tree data nodes have data. these get added if\n                        // the data passes the filter\n                        var passBecauseDataPasses = childNode.data && _this.filterManager.doesRowPassFilter(childNode);\n                        // note - tree data nodes pass either if a) they pass themselves or b) any children of that node pass\n                        return passBecauseChildren || passBecauseDataPasses;\n                    });\n                }\n                else {\n                    // if not filtering, the result is the original list\n                    rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n                }\n                _this.setAllChildrenCount(rowNode);\n            }\n            else {\n                rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n                rowNode.setAllChildrenCount(null);\n            }\n        };\n        if (this.doingTreeDataFiltering()) {\n            var treeDataDepthFirstFilter_1 = function (rowNode, alreadyFoundInParent) {\n                // tree data filter traverses the hierarchy depth first and includes child nodes if parent passes\n                // filter, and parent nodes will be include if any children exist.\n                if (rowNode.childrenAfterGroup) {\n                    for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                        var childNode = rowNode.childrenAfterGroup[i];\n                        // first check if current node passes filter before invoking child nodes\n                        var foundInParent = alreadyFoundInParent || _this.filterManager.doesRowPassFilter(childNode);\n                        if (childNode.childrenAfterGroup) {\n                            treeDataDepthFirstFilter_1(rowNode.childrenAfterGroup[i], foundInParent);\n                        }\n                        else {\n                            filterCallback(childNode, foundInParent);\n                        }\n                    }\n                }\n                filterCallback(rowNode, alreadyFoundInParent);\n            };\n            var treeDataFilterCallback = function (rowNode) { return treeDataDepthFirstFilter_1(rowNode, false); };\n            changedPath.executeFromRootNode(treeDataFilterCallback);\n        }\n        else {\n            var defaultFilterCallback = function (rowNode) { return filterCallback(rowNode, false); };\n            changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback, true);\n        }\n    };\n    FilterService.prototype.setAllChildrenCountTreeData = function (rowNode) {\n        // for tree data, we include all children, groups and leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            // include child itself\n            allChildrenCount++;\n            // include children of children\n            allChildrenCount += child.allChildrenCount;\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCountGridGrouping = function (rowNode) {\n        // for grid data, we only count the leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            if (child.group) {\n                allChildrenCount += child.allChildrenCount;\n            }\n            else {\n                allChildrenCount++;\n            }\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCount = function (rowNode) {\n        if (this.doingTreeData) {\n            this.setAllChildrenCountTreeData(rowNode);\n        }\n        else {\n            this.setAllChildrenCountGridGrouping(rowNode);\n        }\n    };\n    FilterService.prototype.doingTreeDataFiltering = function () {\n        return this.gridOptionsWrapper.isTreeData() && !this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering();\n    };\n    __decorate([\n        Autowired('filterManager')\n    ], FilterService.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FilterService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], FilterService.prototype, \"postConstruct\", null);\n    FilterService = __decorate([\n        Bean(\"filterService\")\n    ], FilterService);\n    return FilterService;\n}(BeanStub));\nexport { FilterService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * These variables are lazy loaded, as otherwise they try and get initialised when we are loading\n * unit tests and we don't have references to window or document in the unit tests\n * from http://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n */\nvar isSafari;\nvar isIE;\nvar isEdge;\nvar isChrome;\nvar isFirefox;\nvar isIOS;\nexport function isBrowserIE() {\n    if (isIE === undefined) {\n        isIE = /*@cc_on!@*/ false || !!document.documentMode; // At least IE6\n    }\n    return isIE;\n}\nexport function isBrowserEdge() {\n    if (isEdge === undefined) {\n        isEdge = !isBrowserIE() && !!window.StyleMedia;\n    }\n    return isEdge;\n}\nexport function isBrowserSafari() {\n    if (isSafari === undefined) {\n        // taken from https://github.com/ag-grid/ag-grid/issues/550\n        var anyWindow = window;\n        var hasNotification = function (p) { return p && p.toString() === '[object SafariRemoteNotification]'; };\n        isSafari = Object.prototype.toString.call(anyWindow.HTMLElement).indexOf('Constructor') > 0\n            || hasNotification(anyWindow.safari && anyWindow.safari.pushNotification);\n    }\n    return isSafari;\n}\nexport function isBrowserChrome() {\n    if (isChrome === undefined) {\n        var win = window;\n        isChrome = (!!win.chrome && (!!win.chrome.webstore || !!win.chrome.runtime)) ||\n            (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor));\n    }\n    return isChrome;\n}\nexport function isBrowserFirefox() {\n    if (isFirefox === undefined) {\n        var win = window;\n        isFirefox = typeof win.InstallTrigger !== 'undefined';\n    }\n    return isFirefox;\n}\nexport function isIOSUserAgent() {\n    if (isIOS === undefined) {\n        // taken from https://stackoverflow.com/a/58064481/1388233\n        isIOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\n            // eslint-disable-next-line\n            (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\n            !window.MSStream;\n    }\n    return isIOS;\n}\nexport function getTabIndex(el) {\n    if (!el) {\n        return null;\n    }\n    var numberTabIndex = el.tabIndex;\n    var tabIndex = el.getAttribute('tabIndex');\n    if (isBrowserIE() && numberTabIndex === 0 && tabIndex === null) {\n        var map = {\n            a: true,\n            body: true,\n            button: true,\n            frame: true,\n            iframe: true,\n            img: true,\n            input: true,\n            isindex: true,\n            object: true,\n            select: true,\n            textarea: true\n        };\n        return map[el.nodeName.toLowerCase()] === true ? '0' : null;\n    }\n    if (numberTabIndex === -1 && (tabIndex === null || (tabIndex === '' && !isBrowserFirefox()))) {\n        return null;\n    }\n    return numberTabIndex.toString();\n}\nexport function getMaxDivHeight() {\n    if (!document.body) {\n        return -1;\n    }\n    var res = 1000000;\n    // FF reports the height back but still renders blank after ~6M px\n    var testUpTo = navigator.userAgent.toLowerCase().match(/firefox/) ? 6000000 : 1000000000;\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    while (true) {\n        var test_1 = res * 2;\n        div.style.height = test_1 + 'px';\n        if (test_1 > testUpTo || div.clientHeight !== test_1) {\n            break;\n        }\n        else {\n            res = test_1;\n        }\n    }\n    document.body.removeChild(div);\n    return res;\n}\nexport function getScrollbarWidth() {\n    var body = document.body;\n    var div = document.createElement('div');\n    div.style.width = div.style.height = '100px';\n    div.style.opacity = '0';\n    div.style.overflow = 'scroll';\n    div.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n    div.style.position = 'absolute';\n    body.appendChild(div);\n    var width = div.offsetWidth - div.clientWidth;\n    // remove divs\n    if (div.parentNode) {\n        div.parentNode.removeChild(div);\n    }\n    return width;\n}\n/** @deprecated */\nexport function hasOverflowScrolling() {\n    var prefixes = ['webkit', 'moz', 'o', 'ms'];\n    var div = document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var found = false;\n    var p;\n    body.appendChild(div);\n    div.setAttribute('style', prefixes.map(function (prefix) { return \"-\" + prefix + \"-overflow-scrolling: touch\"; }).concat('overflow-scrolling: touch').join(';'));\n    var computedStyle = window.getComputedStyle(div);\n    if (computedStyle.overflowScrolling === 'touch') {\n        found = true;\n    }\n    if (!found) {\n        for (var _i = 0, prefixes_1 = prefixes; _i < prefixes_1.length; _i++) {\n            p = prefixes_1[_i];\n            if (computedStyle[p + \"OverflowScrolling\"] === 'touch') {\n                found = true;\n                break;\n            }\n        }\n    }\n    if (div.parentNode) {\n        div.parentNode.removeChild(div);\n    }\n    return found;\n}\n/**\n * Gets the document body width\n * from: http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code\n * @returns {number}\n */\nexport function getBodyWidth() {\n    if (document.body) {\n        return document.body.clientWidth;\n    }\n    if (window.innerHeight) {\n        return window.innerWidth;\n    }\n    if (document.documentElement && document.documentElement.clientWidth) {\n        return document.documentElement.clientWidth;\n    }\n    return -1;\n}\n/**\n * Gets the body height\n * from: http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code\n * @returns {number}\n */\nexport function getBodyHeight() {\n    if (document.body) {\n        return document.body.clientHeight;\n    }\n    if (window.innerHeight) {\n        return window.innerHeight;\n    }\n    if (document.documentElement && document.documentElement.clientHeight) {\n        return document.documentElement.clientHeight;\n    }\n    return -1;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ColumnGroup } from '../entities/columnGroup';\nimport { Column } from '../entities/column';\nimport { Events } from '../events';\nimport { BeanStub } from \"../context/beanStub\";\nimport { OriginalColumnGroup } from '../entities/originalColumnGroup';\nimport { GroupInstanceIdCreator } from './groupInstanceIdCreator';\nimport { Autowired, Bean, Optional, PostConstruct, Qualifier } from '../context/context';\nimport { Constants } from '../constants/constants';\nimport { areEqual, last, removeFromArray, moveInArray, filter, includes, insertIntoArray, removeAllFromArray } from '../utils/array';\nimport { missingOrEmpty, exists, missing, find, attrToBoolean, attrToNumber } from '../utils/generic';\nimport { camelCaseToHumanText, startsWith } from '../utils/string';\nvar ColumnController = /** @class */ (function (_super) {\n    __extends(ColumnController, _super);\n    function ColumnController() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // header row count, based on user provided columns\n        _this.primaryHeaderRowCount = 0;\n        _this.secondaryHeaderRowCount = 0;\n        _this.secondaryColumnsPresent = false;\n        // header row count, either above, or based on pivoting if we are pivoting\n        _this.gridHeaderRowCount = 0;\n        // these are the lists used by the rowRenderer to render nodes. almost the leaf nodes of the above\n        // displayed trees, however it also takes into account if the groups are open or not.\n        _this.displayedLeftColumns = [];\n        _this.displayedRightColumns = [];\n        _this.displayedCenterColumns = [];\n        // all three lists above combined\n        _this.allDisplayedColumns = [];\n        // same as above, except trimmed down to only columns within the viewport\n        _this.allDisplayedVirtualColumns = [];\n        _this.allDisplayedCenterVirtualColumns = [];\n        _this.rowGroupColumns = [];\n        _this.valueColumns = [];\n        _this.pivotColumns = [];\n        _this.ready = false;\n        _this.autoGroupsNeedBuilding = false;\n        _this.forceRecreateAutoGroups = false;\n        _this.pivotMode = false;\n        _this.bodyWidth = 0;\n        _this.leftWidth = 0;\n        _this.rightWidth = 0;\n        _this.bodyWidthDirty = true;\n        _this.colDefVersion = 0;\n        return _this;\n    }\n    ColumnController.prototype.init = function () {\n        this.suppressColumnVirtualisation = this.gridOptionsWrapper.isSuppressColumnVirtualisation();\n        var pivotMode = this.gridOptionsWrapper.isPivotMode();\n        if (this.isPivotSettingAllowed(pivotMode)) {\n            this.pivotMode = pivotMode;\n        }\n        this.usingTreeData = this.gridOptionsWrapper.isTreeData();\n        this.addManagedListener(this.gridOptionsWrapper, 'autoGroupColumnDef', this.onAutoGroupColumnDefChanged.bind(this));\n    };\n    ColumnController.prototype.onAutoGroupColumnDefChanged = function () {\n        this.autoGroupsNeedBuilding = true;\n        this.forceRecreateAutoGroups = true;\n        this.updateGridColumns();\n        this.updateDisplayedColumns('gridOptionsChanged');\n    };\n    ColumnController.prototype.getColDefVersion = function () {\n        return this.colDefVersion;\n    };\n    ColumnController.prototype.setColumnDefs = function (columnDefs, source) {\n        if (source === void 0) { source = 'api'; }\n        var colsPreviouslyExisted = !!this.columnDefs;\n        this.colDefVersion++;\n        var raiseEventsFunc = this.compareColumnStatesAndRaiseEvents(source);\n        this.columnDefs = columnDefs;\n        // always invalidate cache on changing columns, as the column id's for the new columns\n        // could overlap with the old id's, so the cache would return old values for new columns.\n        this.valueCache.expire();\n        // NOTE ==================\n        // we should be destroying the existing columns and groups if they exist, for example, the original column\n        // group adds a listener to the columns, it should be also removing the listeners\n        this.autoGroupsNeedBuilding = true;\n        var oldPrimaryColumns = this.primaryColumns;\n        var balancedTreeResult = this.columnFactory.createColumnTree(columnDefs, true, oldPrimaryColumns);\n        this.primaryColumnTree = balancedTreeResult.columnTree;\n        this.primaryHeaderRowCount = balancedTreeResult.treeDept + 1;\n        this.primaryColumns = this.getColumnsFromTree(this.primaryColumnTree);\n        this.extractRowGroupColumns(source, oldPrimaryColumns);\n        this.extractPivotColumns(source, oldPrimaryColumns);\n        this.extractValueColumns(source, oldPrimaryColumns);\n        this.ready = true;\n        this.updateGridColumns();\n        if (colsPreviouslyExisted && this.gridColsArePrimary && this.gridOptionsWrapper.isApplyColumnDefOrder()) {\n            this.orderGridColumnsLikePrimary();\n        }\n        this.updateDisplayedColumns(source);\n        this.checkDisplayedVirtualColumns();\n        var eventEverythingChanged = {\n            type: Events.EVENT_COLUMN_EVERYTHING_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(eventEverythingChanged);\n        var newColumnsLoadedEvent = {\n            type: Events.EVENT_NEW_COLUMNS_LOADED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        raiseEventsFunc();\n        this.eventService.dispatchEvent(newColumnsLoadedEvent);\n    };\n    ColumnController.prototype.orderGridColumnsLikePrimary = function () {\n        var _this = this;\n        this.gridColumns.sort(function (colA, colB) {\n            var primaryIndexA = _this.primaryColumns.indexOf(colA);\n            var primaryIndexB = _this.primaryColumns.indexOf(colB);\n            // if both cols are present in primary, then we just return the position,\n            // so position is maintained.\n            var indexAPresent = primaryIndexA >= 0;\n            var indexBPresent = primaryIndexB >= 0;\n            if (indexAPresent && indexBPresent) {\n                return primaryIndexA - primaryIndexB;\n            }\n            if (indexAPresent) {\n                // B is auto group column, so put B first\n                return 1;\n            }\n            if (indexBPresent) {\n                // A is auto group column, so put A first\n                return -1;\n            }\n            // otherwise both A and B are auto-group columns. so we just keep the order\n            // as they were already in.\n            var gridIndexA = _this.gridColumns.indexOf(colA);\n            var gridIndexB = _this.gridColumns.indexOf(colB);\n            return gridIndexA - gridIndexB;\n        });\n    };\n    ColumnController.prototype.isAutoRowHeightActive = function () {\n        return this.autoRowHeightColumns && this.autoRowHeightColumns.length > 0;\n    };\n    ColumnController.prototype.getAllAutoRowHeightCols = function () {\n        return this.autoRowHeightColumns;\n    };\n    ColumnController.prototype.setVirtualViewportLeftAndRight = function () {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            this.viewportLeft = this.bodyWidth - this.scrollPosition - this.scrollWidth;\n            this.viewportRight = this.bodyWidth - this.scrollPosition;\n        }\n        else {\n            this.viewportLeft = this.scrollPosition;\n            this.viewportRight = this.scrollWidth + this.scrollPosition;\n        }\n    };\n    // used by clipboard service, to know what columns to paste into\n    ColumnController.prototype.getDisplayedColumnsStartingAt = function (column) {\n        var currentColumn = column;\n        var columns = [];\n        while (currentColumn != null) {\n            columns.push(currentColumn);\n            currentColumn = this.getDisplayedColAfter(currentColumn);\n        }\n        return columns;\n    };\n    // checks what columns are currently displayed due to column virtualisation. fires an event\n    // if the list of columns has changed.\n    // + setColumnWidth(), setVirtualViewportPosition(), setColumnDefs(), sizeColumnsToFit()\n    ColumnController.prototype.checkDisplayedVirtualColumns = function () {\n        // check displayCenterColumnTree exists first, as it won't exist when grid is initialising\n        if (this.displayedCenterColumns == null) {\n            return;\n        }\n        var hashBefore = this.allDisplayedVirtualColumns.map(function (column) { return column.getId(); }).join('#');\n        this.updateVirtualSets();\n        var hashAfter = this.allDisplayedVirtualColumns.map(function (column) { return column.getId(); }).join('#');\n        if (hashBefore !== hashAfter) {\n            var event_1 = {\n                type: Events.EVENT_VIRTUAL_COLUMNS_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    ColumnController.prototype.setVirtualViewportPosition = function (scrollWidth, scrollPosition) {\n        if (scrollWidth !== this.scrollWidth || scrollPosition !== this.scrollPosition || this.bodyWidthDirty) {\n            this.scrollWidth = scrollWidth;\n            this.scrollPosition = scrollPosition;\n            // we need to call setVirtualViewportLeftAndRight() at least once after the body width changes,\n            // as the viewport can stay the same, but in RTL, if body width changes, we need to work out the\n            // virtual columns again\n            this.bodyWidthDirty = true;\n            this.setVirtualViewportLeftAndRight();\n            if (this.ready) {\n                this.checkDisplayedVirtualColumns();\n            }\n        }\n    };\n    ColumnController.prototype.isPivotMode = function () {\n        return this.pivotMode;\n    };\n    ColumnController.prototype.isPivotSettingAllowed = function (pivot) {\n        if (pivot && this.gridOptionsWrapper.isTreeData()) {\n            console.warn(\"ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'\");\n            return false;\n        }\n        return true;\n    };\n    ColumnController.prototype.setPivotMode = function (pivotMode, source) {\n        if (source === void 0) { source = 'api'; }\n        if (pivotMode === this.pivotMode || !this.isPivotSettingAllowed(this.pivotMode)) {\n            return;\n        }\n        this.pivotMode = pivotMode;\n        // we need to update grid columns to cover the scenario where user has groupSuppressAutoColumn=true, as\n        // this means we don't use auto group column UNLESS we are in pivot mode (it's mandatory in pivot mode),\n        // so need to updateGridColumn() to check it autoGroupCol needs to be added / removed\n        this.autoGroupsNeedBuilding = true;\n        this.updateGridColumns();\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.getSecondaryPivotColumn = function (pivotKeys, valueColKey) {\n        if (!this.secondaryColumnsPresent || !this.secondaryColumns) {\n            return null;\n        }\n        var valueColumnToFind = this.getPrimaryColumn(valueColKey);\n        var foundColumn = null;\n        this.secondaryColumns.forEach(function (column) {\n            var thisPivotKeys = column.getColDef().pivotKeys;\n            var pivotValueColumn = column.getColDef().pivotValueColumn;\n            var pivotKeyMatches = areEqual(thisPivotKeys, pivotKeys);\n            var pivotValueMatches = pivotValueColumn === valueColumnToFind;\n            if (pivotKeyMatches && pivotValueMatches) {\n                foundColumn = column;\n            }\n        });\n        return foundColumn;\n    };\n    ColumnController.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ColumnController');\n    };\n    ColumnController.prototype.setFirstRightAndLastLeftPinned = function (source) {\n        var lastLeft;\n        var firstRight;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            lastLeft = this.displayedLeftColumns ? this.displayedLeftColumns[0] : null;\n            firstRight = this.displayedRightColumns ? last(this.displayedRightColumns) : null;\n        }\n        else {\n            lastLeft = this.displayedLeftColumns ? last(this.displayedLeftColumns) : null;\n            firstRight = this.displayedRightColumns ? this.displayedRightColumns[0] : null;\n        }\n        this.gridColumns.forEach(function (column) {\n            column.setLastLeftPinned(column === lastLeft, source);\n            column.setFirstRightPinned(column === firstRight, source);\n        });\n    };\n    ColumnController.prototype.autoSizeColumns = function (keys, skipHeader, source) {\n        // because of column virtualisation, we can only do this function on columns that are\n        // actually rendered, as non-rendered columns (outside the viewport and not rendered\n        // due to column virtualisation) are not present. this can result in all rendered columns\n        // getting narrowed, which in turn introduces more rendered columns on the RHS which\n        // did not get autosized in the original run, leaving the visible grid with columns on\n        // the LHS sized, but RHS no. so we keep looping through the visible columns until\n        // no more cols are available (rendered) to be resized\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        // we autosize after animation frames finish in case any cell renderers need to complete first. this can\n        // happen eg if client code is calling api.autoSizeAllColumns() straight after grid is initialised, but grid\n        // hasn't fully drawn out all the cells yet (due to cell renderers in animation frames).\n        this.animationFrameService.flushAllFrames();\n        // keep track of which cols we have resized in here\n        var columnsAutosized = [];\n        // initialise with anything except 0 so that while loop executes at least once\n        var changesThisTimeAround = -1;\n        if (skipHeader == null) {\n            skipHeader = this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n        }\n        while (changesThisTimeAround !== 0) {\n            changesThisTimeAround = 0;\n            this.actionOnGridColumns(keys, function (column) {\n                // if already autosized, skip it\n                if (columnsAutosized.indexOf(column) >= 0) {\n                    return false;\n                }\n                // get how wide this col should be\n                var preferredWidth = _this.autoWidthCalculator.getPreferredWidthForColumn(column, skipHeader);\n                // preferredWidth = -1 if this col is not on the screen\n                if (preferredWidth > 0) {\n                    var newWidth = _this.normaliseColumnWidth(column, preferredWidth);\n                    column.setActualWidth(newWidth, source);\n                    columnsAutosized.push(column);\n                    changesThisTimeAround++;\n                }\n                return true;\n            }, source);\n        }\n        this.fireColumnResizedEvent(columnsAutosized, true, 'autosizeColumns');\n    };\n    ColumnController.prototype.fireColumnResizedEvent = function (columns, finished, source, flexColumns) {\n        if (flexColumns === void 0) { flexColumns = null; }\n        if (columns && columns.length) {\n            var event_2 = {\n                type: Events.EVENT_COLUMN_RESIZED,\n                columns: columns,\n                column: columns.length === 1 ? columns[0] : null,\n                flexColumns: flexColumns,\n                finished: finished,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                source: source\n            };\n            this.eventService.dispatchEvent(event_2);\n        }\n    };\n    ColumnController.prototype.autoSizeColumn = function (key, skipHeader, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.autoSizeColumns([key], skipHeader, source);\n        }\n    };\n    ColumnController.prototype.autoSizeAllColumns = function (skipHeader, source) {\n        if (source === void 0) { source = \"api\"; }\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        this.autoSizeColumns(allDisplayedColumns, skipHeader, source);\n    };\n    ColumnController.prototype.getColumnsFromTree = function (rootColumns) {\n        var result = [];\n        var recursiveFindColumns = function (childColumns) {\n            for (var i = 0; i < childColumns.length; i++) {\n                var child = childColumns[i];\n                if (child instanceof Column) {\n                    result.push(child);\n                }\n                else if (child instanceof OriginalColumnGroup) {\n                    recursiveFindColumns(child.getChildren());\n                }\n            }\n        };\n        recursiveFindColumns(rootColumns);\n        return result;\n    };\n    ColumnController.prototype.getAllDisplayedColumnGroups = function () {\n        if (this.displayedLeftColumnTree && this.displayedRightColumnTree && this.displayedCentreColumnTree) {\n            return this.displayedLeftColumnTree\n                .concat(this.displayedCentreColumnTree)\n                .concat(this.displayedRightColumnTree);\n        }\n        return null;\n    };\n    // + columnSelectPanel\n    ColumnController.prototype.getPrimaryColumnTree = function () {\n        return this.primaryColumnTree;\n    };\n    // + gridPanel -> for resizing the body and setting top margin\n    ColumnController.prototype.getHeaderRowCount = function () {\n        return this.gridHeaderRowCount;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getLeftDisplayedColumnGroups = function () {\n        return this.displayedLeftColumnTree;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getRightDisplayedColumnGroups = function () {\n        return this.displayedRightColumnTree;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getCenterDisplayedColumnGroups = function () {\n        return this.displayedCentreColumnTree;\n    };\n    ColumnController.prototype.getDisplayedColumnGroups = function (type) {\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                return this.getLeftDisplayedColumnGroups();\n            case Constants.PINNED_RIGHT:\n                return this.getRightDisplayedColumnGroups();\n            default:\n                return this.getCenterDisplayedColumnGroups();\n        }\n    };\n    // gridPanel -> ensureColumnVisible\n    ColumnController.prototype.isColumnDisplayed = function (column) {\n        return this.getAllDisplayedColumns().indexOf(column) >= 0;\n    };\n    // + csvCreator\n    ColumnController.prototype.getAllDisplayedColumns = function () {\n        return this.allDisplayedColumns;\n    };\n    ColumnController.prototype.getAllDisplayedVirtualColumns = function () {\n        return this.allDisplayedVirtualColumns;\n    };\n    ColumnController.prototype.getDisplayedLeftColumnsForRow = function (rowNode) {\n        if (!this.colSpanActive) {\n            return this.displayedLeftColumns;\n        }\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedLeftColumns);\n    };\n    ColumnController.prototype.getDisplayedRightColumnsForRow = function (rowNode) {\n        if (!this.colSpanActive) {\n            return this.displayedRightColumns;\n        }\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedRightColumns);\n    };\n    ColumnController.prototype.getDisplayedColumnsForRow = function (rowNode, displayedColumns, filterCallback, emptySpaceBeforeColumn) {\n        var result = [];\n        var lastConsideredCol = null;\n        var _loop_1 = function (i) {\n            var col = displayedColumns[i];\n            var maxAllowedColSpan = displayedColumns.length - i;\n            var colSpan = Math.min(col.getColSpan(rowNode), maxAllowedColSpan);\n            var columnsToCheckFilter = [col];\n            if (colSpan > 1) {\n                var colsToRemove = colSpan - 1;\n                for (var j = 1; j <= colsToRemove; j++) {\n                    columnsToCheckFilter.push(displayedColumns[i + j]);\n                }\n                i += colsToRemove;\n            }\n            // see which cols we should take out for column virtualisation\n            var filterPasses;\n            if (filterCallback) {\n                // if user provided a callback, means some columns may not be in the viewport.\n                // the user will NOT provide a callback if we are talking about pinned areas,\n                // as pinned areas have no horizontal scroll and do not virtualise the columns.\n                // if lots of columns, that means column spanning, and we set filterPasses = true\n                // if one or more of the columns spanned pass the filter.\n                filterPasses = false;\n                columnsToCheckFilter.forEach(function (colForFilter) {\n                    if (filterCallback(colForFilter)) {\n                        filterPasses = true;\n                    }\n                });\n            }\n            else {\n                filterPasses = true;\n            }\n            if (filterPasses) {\n                if (result.length === 0 && lastConsideredCol) {\n                    var gapBeforeColumn = emptySpaceBeforeColumn ? emptySpaceBeforeColumn(col) : false;\n                    if (gapBeforeColumn) {\n                        result.push(lastConsideredCol);\n                    }\n                }\n                result.push(col);\n            }\n            lastConsideredCol = col;\n            out_i_1 = i;\n        };\n        var out_i_1;\n        for (var i = 0; i < displayedColumns.length; i++) {\n            _loop_1(i);\n            i = out_i_1;\n        }\n        return result;\n    };\n    // + rowRenderer\n    // if we are not column spanning, this just returns back the virtual centre columns,\n    // however if we are column spanning, then different rows can have different virtual\n    // columns, so we have to work out the list for each individual row.\n    ColumnController.prototype.getAllDisplayedCenterVirtualColumnsForRow = function (rowNode) {\n        var _this = this;\n        if (!this.colSpanActive) {\n            return this.allDisplayedCenterVirtualColumns;\n        }\n        var emptySpaceBeforeColumn = function (col) { return col.getLeft() > _this.viewportLeft; };\n        // if doing column virtualisation, then we filter based on the viewport.\n        var filterCallback = this.suppressColumnVirtualisation ? null : this.isColumnInViewport.bind(this);\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedCenterColumns, filterCallback, emptySpaceBeforeColumn);\n    };\n    ColumnController.prototype.getAriaColumnIndex = function (col) {\n        return this.getAllGridColumns().indexOf(col) + 1;\n    };\n    ColumnController.prototype.isColumnInViewport = function (col) {\n        var columnLeft = col.getLeft();\n        var columnRight = col.getLeft() + col.getActualWidth();\n        // adding 200 for buffer size, so some cols off viewport are rendered.\n        // this helps horizontal scrolling so user rarely sees white space (unless\n        // they scroll horizontally fast). however we are conservative, as the more\n        // buffer the slower the vertical redraw speed\n        var leftBounds = this.viewportLeft - 200;\n        var rightBounds = this.viewportRight + 200;\n        var columnToMuchLeft = columnLeft < leftBounds && columnRight < leftBounds;\n        var columnToMuchRight = columnLeft > rightBounds && columnRight > rightBounds;\n        return !columnToMuchLeft && !columnToMuchRight;\n    };\n    // used by:\n    // + angularGrid -> setting pinned body width\n    // note: this should be cached\n    ColumnController.prototype.getPinnedLeftContainerWidth = function () {\n        return this.getWidthOfColsInList(this.displayedLeftColumns);\n    };\n    // note: this should be cached\n    ColumnController.prototype.getPinnedRightContainerWidth = function () {\n        return this.getWidthOfColsInList(this.displayedRightColumns);\n    };\n    ColumnController.prototype.updatePrimaryColumnList = function (keys, masterList, actionIsAdd, columnCallback, eventType, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        if (!keys || missingOrEmpty(keys)) {\n            return;\n        }\n        var atLeastOne = false;\n        keys.forEach(function (key) {\n            var columnToAdd = _this.getPrimaryColumn(key);\n            if (!columnToAdd) {\n                return;\n            }\n            if (actionIsAdd) {\n                if (masterList.indexOf(columnToAdd) >= 0) {\n                    return;\n                }\n                masterList.push(columnToAdd);\n            }\n            else {\n                if (masterList.indexOf(columnToAdd) < 0) {\n                    return;\n                }\n                removeFromArray(masterList, columnToAdd);\n            }\n            columnCallback(columnToAdd);\n            atLeastOne = true;\n        });\n        if (!atLeastOne) {\n            return;\n        }\n        if (this.autoGroupsNeedBuilding) {\n            this.updateGridColumns();\n        }\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: eventType,\n            columns: masterList,\n            column: masterList.length === 1 ? masterList[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.setRowGroupColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.setPrimaryColumnList(colKeys, this.rowGroupColumns, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.setRowGroupActive.bind(this), source);\n    };\n    ColumnController.prototype.setRowGroupActive = function (active, column, source) {\n        if (active === column.isRowGroupActive()) {\n            return;\n        }\n        column.setRowGroupActive(active, source);\n        if (!active && !this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()) {\n            column.setVisible(true, source);\n        }\n    };\n    ColumnController.prototype.addRowGroupColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.addRowGroupColumns([key], source);\n        }\n    };\n    ColumnController.prototype.addRowGroupColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.updatePrimaryColumnList(keys, this.rowGroupColumns, true, this.setRowGroupActive.bind(this, true), Events.EVENT_COLUMN_ROW_GROUP_CHANGED, source);\n    };\n    ColumnController.prototype.removeRowGroupColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.updatePrimaryColumnList(keys, this.rowGroupColumns, false, this.setRowGroupActive.bind(this, false), Events.EVENT_COLUMN_ROW_GROUP_CHANGED, source);\n    };\n    ColumnController.prototype.removeRowGroupColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.removeRowGroupColumns([key], source);\n        }\n    };\n    ColumnController.prototype.addPivotColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.pivotColumns, true, function (column) { return column.setPivotActive(true, source); }, Events.EVENT_COLUMN_PIVOT_CHANGED, source);\n    };\n    ColumnController.prototype.setPivotColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setPrimaryColumnList(colKeys, this.pivotColumns, Events.EVENT_COLUMN_PIVOT_CHANGED, function (added, column) {\n            column.setPivotActive(added, source);\n        }, source);\n    };\n    ColumnController.prototype.addPivotColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.addPivotColumns([key], source);\n    };\n    ColumnController.prototype.removePivotColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.pivotColumns, false, function (column) { return column.setPivotActive(false, source); }, Events.EVENT_COLUMN_PIVOT_CHANGED, source);\n    };\n    ColumnController.prototype.removePivotColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.removePivotColumns([key], source);\n    };\n    ColumnController.prototype.setPrimaryColumnList = function (colKeys, masterList, eventName, columnCallback, source) {\n        var _this = this;\n        masterList.length = 0;\n        if (exists(colKeys)) {\n            colKeys.forEach(function (key) {\n                var column = _this.getPrimaryColumn(key);\n                if (column) {\n                    masterList.push(column);\n                }\n            });\n        }\n        this.primaryColumns.forEach(function (column) {\n            var added = masterList.indexOf(column) >= 0;\n            columnCallback(added, column);\n        });\n        if (this.autoGroupsNeedBuilding) {\n            this.updateGridColumns();\n        }\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: eventName,\n            columns: masterList,\n            column: masterList.length === 1 ? masterList[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.setValueColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setPrimaryColumnList(colKeys, this.valueColumns, Events.EVENT_COLUMN_VALUE_CHANGED, this.setValueActive.bind(this), source);\n    };\n    ColumnController.prototype.setValueActive = function (active, column, source) {\n        if (active === column.isValueActive()) {\n            return;\n        }\n        column.setValueActive(active, source);\n        if (active && !column.getAggFunc()) {\n            var initialAggFunc = this.aggFuncService.getDefaultAggFunc(column);\n            column.setAggFunc(initialAggFunc);\n        }\n    };\n    ColumnController.prototype.addValueColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.valueColumns, true, this.setValueActive.bind(this, true), Events.EVENT_COLUMN_VALUE_CHANGED, source);\n    };\n    ColumnController.prototype.addValueColumn = function (colKey, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (colKey) {\n            this.addValueColumns([colKey], source);\n        }\n    };\n    ColumnController.prototype.removeValueColumn = function (colKey, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.removeValueColumns([colKey], source);\n    };\n    ColumnController.prototype.removeValueColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.valueColumns, false, this.setValueActive.bind(this, false), Events.EVENT_COLUMN_VALUE_CHANGED, source);\n    };\n    // returns the width we can set to this col, taking into consideration min and max widths\n    ColumnController.prototype.normaliseColumnWidth = function (column, newWidth) {\n        if (newWidth < column.getMinWidth()) {\n            newWidth = column.getMinWidth();\n        }\n        if (column.isGreaterThanMax(newWidth)) {\n            newWidth = column.getMaxWidth();\n        }\n        return newWidth;\n    };\n    ColumnController.prototype.getPrimaryOrGridColumn = function (key) {\n        var column = this.getPrimaryColumn(key);\n        return column || this.getGridColumn(key);\n    };\n    ColumnController.prototype.setColumnWidths = function (columnWidths, shiftKey, // @takeFromAdjacent - if user has 'shift' pressed, then pixels are taken from adjacent column\n    finished, // @finished - ends up in the event, tells the user if more events are to come\n    source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        var sets = [];\n        columnWidths.forEach(function (columnWidth) {\n            var col = _this.getPrimaryOrGridColumn(columnWidth.key);\n            if (!col) {\n                return;\n            }\n            sets.push({\n                width: columnWidth.newWidth,\n                ratios: [1],\n                columns: [col]\n            });\n            // if user wants to do shift resize by default, then we invert the shift operation\n            var defaultIsShift = _this.gridOptionsWrapper.getColResizeDefault() === 'shift';\n            if (defaultIsShift) {\n                shiftKey = !shiftKey;\n            }\n            if (shiftKey) {\n                var otherCol = _this.getDisplayedColAfter(col);\n                if (!otherCol) {\n                    return;\n                }\n                var widthDiff = col.getActualWidth() - columnWidth.newWidth;\n                var otherColWidth = otherCol.getActualWidth() + widthDiff;\n                sets.push({\n                    width: otherColWidth,\n                    ratios: [1],\n                    columns: [otherCol]\n                });\n            }\n        });\n        if (sets.length === 0) {\n            return;\n        }\n        this.resizeColumnSets(sets, finished, source);\n    };\n    ColumnController.prototype.checkMinAndMaxWidthsForSet = function (columnResizeSet) {\n        var columns = columnResizeSet.columns, width = columnResizeSet.width;\n        // every col has a min width, so sum them all up and see if we have enough room\n        // for all the min widths\n        var minWidthAccumulated = 0;\n        var maxWidthAccumulated = 0;\n        var maxWidthActive = true;\n        columns.forEach(function (col) {\n            minWidthAccumulated += col.getMinWidth();\n            if (col.getMaxWidth() > 0) {\n                maxWidthAccumulated += col.getMaxWidth();\n            }\n            else {\n                // if at least one columns has no max width, it means the group of columns\n                // then has no max width, as at least one column can take as much width as possible\n                maxWidthActive = false;\n            }\n        });\n        var minWidthPasses = width >= minWidthAccumulated;\n        var maxWidthPasses = !maxWidthActive || (width <= maxWidthAccumulated);\n        return minWidthPasses && maxWidthPasses;\n    };\n    // method takes sets of columns and resizes them. either all sets will be resized, or nothing\n    // be resized. this is used for example when user tries to resize a group and holds shift key,\n    // then both the current group (grows), and the adjacent group (shrinks), will get resized,\n    // so that's two sets for this method.\n    ColumnController.prototype.resizeColumnSets = function (resizeSets, finished, source) {\n        var passMinMaxCheck = !resizeSets || resizeSets.every(this.checkMinAndMaxWidthsForSet.bind(this));\n        if (!passMinMaxCheck) {\n            // even though we are not going to resize beyond min/max size, we still need to raise event when finished\n            if (finished) {\n                var columns = resizeSets && resizeSets.length > 0 ? resizeSets[0].columns : null;\n                this.fireColumnResizedEvent(columns, finished, source);\n            }\n            return; // don't resize!\n        }\n        var changedCols = [];\n        var allResizedCols = [];\n        resizeSets.forEach(function (set) {\n            var width = set.width, columns = set.columns, ratios = set.ratios;\n            // keep track of pixels used, and last column gets the remaining,\n            // to cater for rounding errors, and min width adjustments\n            var newWidths = {};\n            var finishedCols = {};\n            columns.forEach(function (col) { return allResizedCols.push(col); });\n            // the loop below goes through each col. if a col exceeds it's min/max width,\n            // it then gets set to its min/max width and the column is removed marked as 'finished'\n            // and the calculation is done again leaving this column out. take for example columns\n            // {A, width: 50, maxWidth: 100}\n            // {B, width: 50}\n            // {C, width: 50}\n            // and then the set is set to width 600 - on the first pass the grid tries to set each column\n            // to 200. it checks A and sees 200 > 100 and so sets the width to 100. col A is then marked\n            // as 'finished' and the calculation is done again with the remaining cols B and C, which end up\n            // splitting the remaining 500 pixels.\n            var finishedColsGrew = true;\n            var loopCount = 0;\n            var _loop_2 = function () {\n                loopCount++;\n                if (loopCount > 1000) {\n                    // this should never happen, but in the future, someone might introduce a bug here,\n                    // so we stop the browser from hanging and report bug properly\n                    console.error('ag-Grid: infinite loop in resizeColumnSets');\n                    return \"break\";\n                }\n                finishedColsGrew = false;\n                var subsetCols = [];\n                var subsetRatios = [];\n                var subsetRatioTotal = 0;\n                var pixelsToDistribute = width;\n                columns.forEach(function (col, index) {\n                    var thisColFinished = finishedCols[col.getId()];\n                    if (thisColFinished) {\n                        pixelsToDistribute -= newWidths[col.getId()];\n                    }\n                    else {\n                        subsetCols.push(col);\n                        var ratioThisCol = ratios[index];\n                        subsetRatioTotal += ratioThisCol;\n                        subsetRatios.push(ratioThisCol);\n                    }\n                });\n                // because we are not using all of the ratios (cols can be missing),\n                // we scale the ratio. if all columns are included, then subsetRatioTotal=1,\n                // and so the ratioScale will be 1.\n                var ratioScale = 1 / subsetRatioTotal;\n                subsetCols.forEach(function (col, index) {\n                    var lastCol = index === (subsetCols.length - 1);\n                    var colNewWidth;\n                    if (lastCol) {\n                        colNewWidth = pixelsToDistribute;\n                    }\n                    else {\n                        colNewWidth = Math.round(ratios[index] * width * ratioScale);\n                        pixelsToDistribute -= colNewWidth;\n                    }\n                    if (colNewWidth < col.getMinWidth()) {\n                        colNewWidth = col.getMinWidth();\n                        finishedCols[col.getId()] = true;\n                        finishedColsGrew = true;\n                    }\n                    else if (col.getMaxWidth() > 0 && colNewWidth > col.getMaxWidth()) {\n                        colNewWidth = col.getMaxWidth();\n                        finishedCols[col.getId()] = true;\n                        finishedColsGrew = true;\n                    }\n                    newWidths[col.getId()] = colNewWidth;\n                });\n            };\n            while (finishedColsGrew) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            columns.forEach(function (col) {\n                var newWidth = newWidths[col.getId()];\n                if (col.getActualWidth() !== newWidth) {\n                    col.setActualWidth(newWidth, source);\n                    changedCols.push(col);\n                }\n            });\n        });\n        // if no cols changed, then no need to update more or send event.\n        var atLeastOneColChanged = changedCols.length > 0;\n        var flexedCols = this.refreshFlexedColumns({ resizingCols: allResizedCols, skipSetLeft: true });\n        if (atLeastOneColChanged) {\n            this.setLeftValues(source);\n            this.updateBodyWidths();\n            this.checkDisplayedVirtualColumns();\n        }\n        // check for change first, to avoid unnecessary firing of events\n        // however we always fire 'finished' events. this is important\n        // when groups are resized, as if the group is changing slowly,\n        // eg 1 pixel at a time, then each change will fire change events\n        // in all the columns in the group, but only one with get the pixel.\n        var colsForEvent = allResizedCols.concat(flexedCols);\n        if (atLeastOneColChanged || finished) {\n            this.fireColumnResizedEvent(colsForEvent, finished, source, flexedCols);\n        }\n    };\n    ColumnController.prototype.setColumnAggFunc = function (column, aggFunc, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (!column) {\n            return;\n        }\n        column.setAggFunc(aggFunc);\n        var event = {\n            type: Events.EVENT_COLUMN_VALUE_CHANGED,\n            columns: [column],\n            column: column,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.moveRowGroupColumn = function (fromIndex, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        var column = this.rowGroupColumns[fromIndex];\n        this.rowGroupColumns.splice(fromIndex, 1);\n        this.rowGroupColumns.splice(toIndex, 0, column);\n        var event = {\n            type: Events.EVENT_COLUMN_ROW_GROUP_CHANGED,\n            columns: this.rowGroupColumns,\n            column: this.rowGroupColumns.length === 1 ? this.rowGroupColumns[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.moveColumns = function (columnsToMoveKeys, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        if (toIndex > this.gridColumns.length - columnsToMoveKeys.length) {\n            console.warn('ag-Grid: tried to insert columns in invalid location, toIndex = ' + toIndex);\n            console.warn('ag-Grid: remember that you should not count the moving columns when calculating the new index');\n            return;\n        }\n        // we want to pull all the columns out first and put them into an ordered list\n        var columnsToMove = this.getGridColumns(columnsToMoveKeys);\n        var failedRules = !this.doesMovePassRules(columnsToMove, toIndex);\n        if (failedRules) {\n            return;\n        }\n        moveInArray(this.gridColumns, columnsToMove, toIndex);\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: Events.EVENT_COLUMN_MOVED,\n            columns: columnsToMove,\n            column: columnsToMove.length === 1 ? columnsToMove[0] : null,\n            toIndex: toIndex,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n        this.columnAnimationService.finish();\n    };\n    ColumnController.prototype.doesMovePassRules = function (columnsToMove, toIndex) {\n        // make a copy of what the grid columns would look like after the move\n        var proposedColumnOrder = this.gridColumns.slice();\n        moveInArray(proposedColumnOrder, columnsToMove, toIndex);\n        // then check that the new proposed order of the columns passes all rules\n        if (!this.doesMovePassMarryChildren(proposedColumnOrder)) {\n            return false;\n        }\n        if (!this.doesMovePassLockedPositions(proposedColumnOrder)) {\n            return false;\n        }\n        return true;\n    };\n    // returns the provided cols sorted in same order as they appear in grid columns. eg if grid columns\n    // contains [a,b,c,d,e] and col passed is [e,a] then the passed cols are sorted into [a,e]\n    ColumnController.prototype.sortColumnsLikeGridColumns = function (cols) {\n        var _this = this;\n        if (!cols || cols.length <= 1) {\n            return;\n        }\n        var notAllColsInGridColumns = cols.filter(function (c) { return _this.gridColumns.indexOf(c) < 0; }).length > 0;\n        if (notAllColsInGridColumns) {\n            return;\n        }\n        cols.sort(function (a, b) {\n            var indexA = _this.gridColumns.indexOf(a);\n            var indexB = _this.gridColumns.indexOf(b);\n            return indexA - indexB;\n        });\n    };\n    ColumnController.prototype.doesMovePassLockedPositions = function (proposedColumnOrder) {\n        var foundNonLocked = false;\n        var rulePassed = true;\n        // go though the cols, see if any non-locked appear before any locked\n        proposedColumnOrder.forEach(function (col) {\n            if (col.getColDef().lockPosition) {\n                if (foundNonLocked) {\n                    rulePassed = false;\n                }\n            }\n            else {\n                foundNonLocked = true;\n            }\n        });\n        return rulePassed;\n    };\n    ColumnController.prototype.doesMovePassMarryChildren = function (allColumnsCopy) {\n        var rulePassed = true;\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (child) {\n            if (!(child instanceof OriginalColumnGroup)) {\n                return;\n            }\n            var columnGroup = child;\n            var marryChildren = columnGroup.getColGroupDef() && columnGroup.getColGroupDef().marryChildren;\n            if (!marryChildren) {\n                return;\n            }\n            var newIndexes = [];\n            columnGroup.getLeafColumns().forEach(function (col) {\n                var newColIndex = allColumnsCopy.indexOf(col);\n                newIndexes.push(newColIndex);\n            });\n            var maxIndex = Math.max.apply(Math, newIndexes);\n            var minIndex = Math.min.apply(Math, newIndexes);\n            // spread is how far the first column in this group is away from the last column\n            var spread = maxIndex - minIndex;\n            var maxSpread = columnGroup.getLeafColumns().length - 1;\n            // if the columns\n            if (spread > maxSpread) {\n                rulePassed = false;\n            }\n            // console.log(`maxIndex = ${maxIndex}, minIndex = ${minIndex}, spread = ${spread}, maxSpread = ${maxSpread}, fail = ${spread > (count-1)}`)\n            // console.log(allColumnsCopy.map( col => col.getColDef().field).join(','));\n        });\n        return rulePassed;\n    };\n    ColumnController.prototype.moveColumn = function (key, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.moveColumns([key], toIndex, source);\n    };\n    ColumnController.prototype.moveColumnByIndex = function (fromIndex, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        var column = this.gridColumns[fromIndex];\n        this.moveColumn(column, toIndex, source);\n    };\n    ColumnController.prototype.getColumnDefs = function () {\n        var _this = this;\n        var cols = this.primaryColumns.slice();\n        if (this.gridColsArePrimary) {\n            cols.sort(function (a, b) { return _this.gridColumns.indexOf(a) - _this.gridColumns.indexOf(b); });\n        }\n        else if (this.lastPrimaryOrder) {\n            cols.sort(function (a, b) { return _this.lastPrimaryOrder.indexOf(a) - _this.lastPrimaryOrder.indexOf(b); });\n        }\n        return this.columnDefFactory.buildColumnDefs(cols, this.rowGroupColumns, this.pivotColumns);\n    };\n    // used by:\n    // + angularGrid -> for setting body width\n    // + rowController -> setting main row widths (when inserting and resizing)\n    // need to cache this\n    ColumnController.prototype.getBodyContainerWidth = function () {\n        return this.bodyWidth;\n    };\n    ColumnController.prototype.getContainerWidth = function (pinned) {\n        switch (pinned) {\n            case Constants.PINNED_LEFT:\n                return this.leftWidth;\n            case Constants.PINNED_RIGHT:\n                return this.rightWidth;\n            default:\n                return this.bodyWidth;\n        }\n    };\n    // after setColumnWidth or updateGroupsAndDisplayedColumns\n    ColumnController.prototype.updateBodyWidths = function () {\n        var newBodyWidth = this.getWidthOfColsInList(this.displayedCenterColumns);\n        var newLeftWidth = this.getWidthOfColsInList(this.displayedLeftColumns);\n        var newRightWidth = this.getWidthOfColsInList(this.displayedRightColumns);\n        // this is used by virtual col calculation, for RTL only, as a change to body width can impact displayed\n        // columns, due to RTL inverting the y coordinates\n        this.bodyWidthDirty = this.bodyWidth !== newBodyWidth;\n        var atLeastOneChanged = this.bodyWidth !== newBodyWidth || this.leftWidth !== newLeftWidth || this.rightWidth !== newRightWidth;\n        if (atLeastOneChanged) {\n            this.bodyWidth = newBodyWidth;\n            this.leftWidth = newLeftWidth;\n            this.rightWidth = newRightWidth;\n            // when this fires, it is picked up by the gridPanel, which ends up in\n            // gridPanel calling setWidthAndScrollPosition(), which in turn calls setVirtualViewportPosition()\n            var event_3 = {\n                type: Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_3);\n        }\n    };\n    // + rowController\n    ColumnController.prototype.getValueColumns = function () {\n        return this.valueColumns ? this.valueColumns : [];\n    };\n    // + rowController\n    ColumnController.prototype.getPivotColumns = function () {\n        return this.pivotColumns ? this.pivotColumns : [];\n    };\n    // + clientSideRowModel\n    ColumnController.prototype.isPivotActive = function () {\n        return this.pivotColumns && this.pivotColumns.length > 0 && this.pivotMode;\n    };\n    // + toolPanel\n    ColumnController.prototype.getRowGroupColumns = function () {\n        return this.rowGroupColumns ? this.rowGroupColumns : [];\n    };\n    // + rowController -> while inserting rows\n    ColumnController.prototype.getDisplayedCenterColumns = function () {\n        return this.displayedCenterColumns;\n    };\n    // + rowController -> while inserting rows\n    ColumnController.prototype.getDisplayedLeftColumns = function () {\n        return this.displayedLeftColumns;\n    };\n    ColumnController.prototype.getDisplayedRightColumns = function () {\n        return this.displayedRightColumns;\n    };\n    ColumnController.prototype.getDisplayedColumns = function (type) {\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                return this.getDisplayedLeftColumns();\n            case Constants.PINNED_RIGHT:\n                return this.getDisplayedRightColumns();\n            default:\n                return this.getDisplayedCenterColumns();\n        }\n    };\n    // used by:\n    // + clientSideRowController -> sorting, building quick filter text\n    // + headerRenderer -> sorting (clearing icon)\n    ColumnController.prototype.getAllPrimaryColumns = function () {\n        return this.primaryColumns ? this.primaryColumns.slice() : null;\n    };\n    ColumnController.prototype.getSecondaryColumns = function () {\n        return this.secondaryColumns ? this.secondaryColumns.slice() : null;\n    };\n    ColumnController.prototype.getAllColumnsForQuickFilter = function () {\n        return this.columnsForQuickFilter;\n    };\n    // + moveColumnController\n    ColumnController.prototype.getAllGridColumns = function () {\n        return this.gridColumns;\n    };\n    ColumnController.prototype.isEmpty = function () {\n        return missingOrEmpty(this.gridColumns);\n    };\n    ColumnController.prototype.isRowGroupEmpty = function () {\n        return missingOrEmpty(this.rowGroupColumns);\n    };\n    ColumnController.prototype.setColumnVisible = function (key, visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setColumnsVisible([key], visible, source);\n    };\n    ColumnController.prototype.setColumnsVisible = function (keys, visible, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        this.actionOnGridColumns(keys, function (column) {\n            if (column.isVisible() !== visible) {\n                column.setVisible(visible, source);\n                return true;\n            }\n            return false;\n        }, source, function () {\n            var event = {\n                type: Events.EVENT_COLUMN_VISIBLE,\n                visible: visible,\n                column: null,\n                columns: null,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            return event;\n        });\n        this.columnAnimationService.finish();\n    };\n    ColumnController.prototype.setColumnPinned = function (key, pinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.setColumnsPinned([key], pinned, source);\n        }\n    };\n    ColumnController.prototype.setColumnsPinned = function (keys, pinned, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        if (this.gridOptionsWrapper.getDomLayout() === 'print') {\n            console.warn(\"Changing the column pinning status is not allowed with domLayout='print'\");\n            return;\n        }\n        this.columnAnimationService.start();\n        var actualPinned;\n        if (pinned === true || pinned === Constants.PINNED_LEFT) {\n            actualPinned = Constants.PINNED_LEFT;\n        }\n        else if (pinned === Constants.PINNED_RIGHT) {\n            actualPinned = Constants.PINNED_RIGHT;\n        }\n        else {\n            actualPinned = null;\n        }\n        this.actionOnGridColumns(keys, function (col) {\n            if (col.getPinned() !== actualPinned) {\n                col.setPinned(actualPinned);\n                return true;\n            }\n            return false;\n        }, source, function () {\n            var event = {\n                type: Events.EVENT_COLUMN_PINNED,\n                pinned: actualPinned,\n                column: null,\n                columns: null,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            return event;\n        });\n        this.columnAnimationService.finish();\n    };\n    // does an action on a set of columns. provides common functionality for looking up the\n    // columns based on key, getting a list of effected columns, and then updated the event\n    // with either one column (if it was just one col) or a list of columns\n    // used by: autoResize, setVisible, setPinned\n    ColumnController.prototype.actionOnGridColumns = function (// the column keys this action will be on\n    keys, \n    // the action to do - if this returns false, the column was skipped\n    // and won't be included in the event\n    action, \n    // should return back a column event of the right type\n    source, createEvent) {\n        var _this = this;\n        if (missingOrEmpty(keys)) {\n            return;\n        }\n        var updatedColumns = [];\n        keys.forEach(function (key) {\n            var column = _this.getGridColumn(key);\n            if (!column) {\n                return;\n            }\n            // need to check for false with type (ie !== instead of !=)\n            // as not returning anything (undefined) would also be false\n            var resultOfAction = action(column);\n            if (resultOfAction !== false) {\n                updatedColumns.push(column);\n            }\n        });\n        if (!updatedColumns.length) {\n            return;\n        }\n        this.updateDisplayedColumns(source);\n        if (exists(createEvent) && createEvent) {\n            var event_4 = createEvent();\n            event_4.columns = updatedColumns;\n            event_4.column = updatedColumns.length === 1 ? updatedColumns[0] : null;\n            this.eventService.dispatchEvent(event_4);\n        }\n    };\n    ColumnController.prototype.getDisplayedColBefore = function (col) {\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        var oldIndex = allDisplayedColumns.indexOf(col);\n        if (oldIndex > 0) {\n            return allDisplayedColumns[oldIndex - 1];\n        }\n        return null;\n    };\n    // used by:\n    // + rowRenderer -> for navigation\n    ColumnController.prototype.getDisplayedColAfter = function (col) {\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        var oldIndex = allDisplayedColumns.indexOf(col);\n        if (oldIndex < (allDisplayedColumns.length - 1)) {\n            return allDisplayedColumns[oldIndex + 1];\n        }\n        return null;\n    };\n    ColumnController.prototype.getDisplayedGroupAfter = function (columnGroup) {\n        return this.getDisplayedGroupAtDirection(columnGroup, 'After');\n    };\n    ColumnController.prototype.getDisplayedGroupBefore = function (columnGroup) {\n        return this.getDisplayedGroupAtDirection(columnGroup, 'Before');\n    };\n    ColumnController.prototype.getDisplayedGroupAtDirection = function (columnGroup, direction) {\n        // pick the last displayed column in this group\n        var requiredLevel = columnGroup.getOriginalColumnGroup().getLevel() + columnGroup.getPaddingLevel();\n        var colGroupLeafColumns = columnGroup.getDisplayedLeafColumns();\n        var col = direction === 'After' ? last(colGroupLeafColumns) : colGroupLeafColumns[0];\n        var getDisplayColMethod = \"getDisplayedCol\" + direction;\n        while (true) {\n            // keep moving to the next col, until we get to another group\n            var column = this[getDisplayColMethod](col);\n            if (!column) {\n                return null;\n            }\n            var groupPointer = this.getColumnGroupAtLevel(column, requiredLevel);\n            if (groupPointer !== columnGroup) {\n                return groupPointer;\n            }\n        }\n    };\n    ColumnController.prototype.getColumnGroupAtLevel = function (column, level) {\n        // get group at same level as the one we are looking for\n        var groupPointer = column.getParent();\n        var originalGroupLevel;\n        var groupPointerLevel;\n        while (true) {\n            var groupPointerOriginalColumnGroup = groupPointer.getOriginalColumnGroup();\n            originalGroupLevel = groupPointerOriginalColumnGroup.getLevel();\n            groupPointerLevel = groupPointer.getPaddingLevel();\n            if (originalGroupLevel + groupPointerLevel <= level) {\n                break;\n            }\n            groupPointer = groupPointer.getParent();\n        }\n        return groupPointer;\n    };\n    ColumnController.prototype.isPinningLeft = function () {\n        return this.displayedLeftColumns.length > 0;\n    };\n    ColumnController.prototype.isPinningRight = function () {\n        return this.displayedRightColumns.length > 0;\n    };\n    ColumnController.prototype.getPrimaryAndSecondaryAndAutoColumns = function () {\n        var result = this.primaryColumns ? this.primaryColumns.slice(0) : [];\n        if (this.groupAutoColumns && exists(this.groupAutoColumns)) {\n            this.groupAutoColumns.forEach(function (col) { return result.push(col); });\n        }\n        if (this.secondaryColumnsPresent && this.secondaryColumns) {\n            this.secondaryColumns.forEach(function (column) { return result.push(column); });\n        }\n        return result;\n    };\n    ColumnController.prototype.createStateItemFromColumn = function (column) {\n        var rowGroupIndex = column.isRowGroupActive() ? this.rowGroupColumns.indexOf(column) : null;\n        var pivotIndex = column.isPivotActive() ? this.pivotColumns.indexOf(column) : null;\n        var aggFunc = column.isValueActive() ? column.getAggFunc() : null;\n        var sort = column.getSort() != null ? column.getSort() : null;\n        var sortIndex = column.getSortIndex() != null ? column.getSortIndex() : null;\n        var flex = column.getFlex() != null && column.getFlex() > 0 ? column.getFlex() : null;\n        var res = {\n            colId: column.getColId(),\n            width: column.getActualWidth(),\n            hide: !column.isVisible(),\n            pinned: column.getPinned(),\n            sort: sort,\n            sortIndex: sortIndex,\n            aggFunc: aggFunc,\n            rowGroup: column.isRowGroupActive(),\n            rowGroupIndex: rowGroupIndex,\n            pivot: column.isPivotActive(),\n            pivotIndex: pivotIndex,\n            flex: flex\n        };\n        return res;\n    };\n    ColumnController.prototype.getColumnState = function () {\n        if (missing(this.primaryColumns)) {\n            return [];\n        }\n        var primaryColumnState = this.primaryColumns.map(this.createStateItemFromColumn.bind(this));\n        var groupAutoColumnState = this.groupAutoColumns\n            // if groupAutoCols, then include them\n            ? this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this))\n            // otherwise no\n            : [];\n        var columnStateList = groupAutoColumnState.concat(primaryColumnState);\n        if (!this.pivotMode) {\n            this.orderColumnStateList(columnStateList);\n        }\n        return columnStateList;\n    };\n    ColumnController.prototype.orderColumnStateList = function (columnStateList) {\n        var gridColumnIds = this.gridColumns.map(function (column) { return column.getColId(); });\n        columnStateList.sort(function (itemA, itemB) {\n            var posA = gridColumnIds.indexOf(itemA.colId);\n            var posB = gridColumnIds.indexOf(itemB.colId);\n            return posA - posB;\n        });\n    };\n    ColumnController.prototype.resetColumnState = function (suppressEverythingEvent, source) {\n        // NOTE = there is one bug here that no customer has noticed - if a column has colDef.lockPosition,\n        // this is ignored  below when ordering the cols. to work, we should always put lockPosition cols first.\n        // As a work around, developers should just put lockPosition columns first in their colDef list.\n        if (suppressEverythingEvent === void 0) { suppressEverythingEvent = false; }\n        if (source === void 0) { source = \"api\"; }\n        // we can't use 'allColumns' as the order might of messed up, so get the primary ordered list\n        var primaryColumns = this.getColumnsFromTree(this.primaryColumnTree);\n        var columnStates = [];\n        // we start at 1000, so if user has mix of rowGroup and group specified, it will work with both.\n        // eg IF user has ColA.rowGroupIndex=0, ColB.rowGroupIndex=1, ColC.rowGroup=true,\n        // THEN result will be ColA.rowGroupIndex=0, ColB.rowGroupIndex=1, ColC.rowGroup=1000\n        var letRowGroupIndex = 1000;\n        var letPivotIndex = 1000;\n        if (primaryColumns) {\n            primaryColumns.forEach(function (column) {\n                var colDef = column.getColDef();\n                var sort = colDef.sort != null ? colDef.sort : null;\n                var sortIndex = colDef.sortIndex;\n                var hide = colDef.hide ? true : false;\n                var pinned = colDef.pinned ? colDef.pinned : null;\n                var width = colDef.width;\n                var flex = colDef.flex != null ? colDef.flex : null;\n                var rowGroupIndex = colDef.rowGroupIndex;\n                var rowGroup = colDef.rowGroup;\n                if (rowGroupIndex == null && (rowGroup == null || rowGroup == false)) {\n                    rowGroupIndex = null;\n                    rowGroup = null;\n                }\n                var pivotIndex = colDef.pivotIndex;\n                var pivot = colDef.pivot;\n                if (pivotIndex == null && (pivot == null || pivot == false)) {\n                    pivotIndex = null;\n                    pivot = null;\n                }\n                var aggFunc = colDef.aggFunc != null ? colDef.aggFunc : null;\n                var stateItem = {\n                    colId: column.getColId(),\n                    sort: sort,\n                    sortIndex: sortIndex,\n                    hide: hide,\n                    pinned: pinned,\n                    width: width,\n                    flex: flex,\n                    rowGroup: rowGroup,\n                    rowGroupIndex: rowGroupIndex,\n                    pivot: pivot,\n                    pivotIndex: pivotIndex,\n                    aggFunc: aggFunc,\n                };\n                if (missing(rowGroupIndex) && rowGroup) {\n                    stateItem.rowGroupIndex = letRowGroupIndex++;\n                }\n                if (missing(pivotIndex) && pivot) {\n                    stateItem.pivotIndex = letPivotIndex++;\n                }\n                columnStates.push(stateItem);\n            });\n        }\n        this.applyColumnState({ state: columnStates, applyOrder: true }, source);\n    };\n    ColumnController.prototype.applyColumnState = function (params, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        if (missingOrEmpty(this.primaryColumns)) {\n            return false;\n        }\n        var raiseEventsFunc = this.compareColumnStatesAndRaiseEvents(source);\n        this.autoGroupsNeedBuilding = true;\n        // at the end below, this list will have all columns we got no state for\n        var columnsWithNoState = this.primaryColumns.slice();\n        var success = true;\n        var rowGroupIndexes = {};\n        var pivotIndexes = {};\n        var autoGroupColumnStates = [];\n        var previousRowGroupCols = this.rowGroupColumns.slice();\n        var previousPivotCols = this.pivotColumns.slice();\n        if (params.state) {\n            if (!params.state.forEach) {\n                console.warn('ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.');\n                return;\n            }\n            params.state.forEach(function (state) {\n                var groupAutoColumnId = Constants.GROUP_AUTO_COLUMN_ID;\n                var colId = state.colId;\n                // auto group columns are re-created so deferring syncing with ColumnState\n                var isAutoGroupColumn = startsWith(colId, groupAutoColumnId);\n                if (isAutoGroupColumn) {\n                    autoGroupColumnStates.push(state);\n                    return;\n                }\n                var column = _this.getPrimaryColumn(colId);\n                if (!column) {\n                    // we don't log the failure, as it's possible the user is applying that has extra\n                    // cols in it. for example they could of save while row-grouping (so state includes\n                    // auto-group column) and then applied state when not grouping (so the auto-group\n                    // column would be in the state but no used).\n                    success = false;\n                }\n                else {\n                    _this.syncColumnWithStateItem(column, state, params.defaultState, rowGroupIndexes, pivotIndexes, false, source);\n                    removeFromArray(columnsWithNoState, column);\n                }\n            });\n        }\n        // anything left over, we got no data for, so add in the column as non-value, non-rowGroup and hidden\n        columnsWithNoState.forEach(function (col) {\n            _this.syncColumnWithStateItem(col, null, params.defaultState, rowGroupIndexes, pivotIndexes, false, source);\n        });\n        // sort the lists according to the indexes that were provided\n        var comparator = function (indexes, oldList, colA, colB) {\n            var indexA = indexes[colA.getId()];\n            var indexB = indexes[colB.getId()];\n            var aHasIndex = indexA != null;\n            var bHasIndex = indexB != null;\n            if (aHasIndex && bHasIndex) {\n                // both a and b are new cols with index, so sort on index\n                return indexA - indexB;\n            }\n            else if (aHasIndex) {\n                // a has an index, so it should be before a\n                return -1;\n            }\n            else if (bHasIndex) {\n                // b has an index, so it should be before a\n                return 1;\n            }\n            else {\n                var oldIndexA = oldList.indexOf(colA);\n                var oldIndexB = oldList.indexOf(colB);\n                var aHasOldIndex = oldIndexA >= 0;\n                var bHasOldIndex = oldIndexB >= 0;\n                if (aHasOldIndex && bHasOldIndex) {\n                    // both a and b are old cols, so sort based on last order\n                    return oldIndexA - oldIndexB;\n                }\n                else if (aHasOldIndex) {\n                    // a is old, b is new, so b is first\n                    return -1;\n                }\n                else if (bHasOldIndex) {\n                    // b is old, a is new, a is first\n                    return 1;\n                }\n                else {\n                    // this bit does matter, means both are new cols but without index\n                    return 1;\n                }\n            }\n        };\n        this.rowGroupColumns.sort(comparator.bind(this, rowGroupIndexes, previousRowGroupCols));\n        this.pivotColumns.sort(comparator.bind(this, pivotIndexes, previousPivotCols));\n        this.updateGridColumns();\n        // sync newly created auto group columns with ColumnState\n        autoGroupColumnStates.forEach(function (stateItem) {\n            var autoCol = _this.getAutoColumn(stateItem.colId);\n            _this.syncColumnWithStateItem(autoCol, stateItem, params.defaultState, null, null, true, source);\n        });\n        if (this.gridColsArePrimary && params.applyOrder && params.state) {\n            var orderOfColIds_1 = params.state.map(function (stateItem) { return stateItem.colId; });\n            this.gridColumns.sort(function (colA, colB) {\n                var indexA = orderOfColIds_1.indexOf(colA.getId());\n                var indexB = orderOfColIds_1.indexOf(colB.getId());\n                return indexA - indexB;\n            });\n            // this is already done in updateGridColumns, however we changed the order above (to match the order of the state\n            // columns) so we need to do it again. we could of put logic into the order above to take into account fixed\n            // columns, however if we did then we would have logic for updating fixed columns twice. reusing the logic here\n            // is less sexy for the code here, but it keeps consistency.\n            this.putFixedColumnsFirst();\n        }\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: Events.EVENT_COLUMN_EVERYTHING_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n        raiseEventsFunc();\n        return success;\n    };\n    ColumnController.prototype.compareColumnStatesAndRaiseEvents = function (source) {\n        var _this = this;\n        // if no columns to begin with, then it means we are setting columns for the first time, so\n        // there should be no events fired to show differences in columns.\n        var colsPreviouslyExisted = !!this.columnDefs;\n        if (!colsPreviouslyExisted) {\n            return function () { };\n        }\n        var startState = {\n            rowGroupColumns: this.rowGroupColumns.slice(),\n            pivotColumns: this.pivotColumns.slice(),\n            valueColumns: this.valueColumns.slice()\n        };\n        var columnStateBefore = this.getColumnState();\n        var columnStateBeforeMap = {};\n        columnStateBefore.forEach(function (col) {\n            columnStateBeforeMap[col.colId] = col;\n        });\n        return function () {\n            if (_this.gridOptionsWrapper.isSuppressColumnStateEvents()) {\n                return;\n            }\n            // raises generic ColumnEvents where all columns are returned rather than what has changed\n            var raiseWhenListsDifferent = function (eventType, colsBefore, colsAfter, idMapper) {\n                var beforeList = colsBefore.map(idMapper).sort();\n                var afterList = colsAfter.map(idMapper).sort();\n                var unchanged = areEqual(beforeList, afterList);\n                if (unchanged) {\n                    return;\n                }\n                // returning all columns rather than what has changed!\n                var event = {\n                    type: eventType,\n                    columns: colsAfter,\n                    column: colsAfter.length === 1 ? colsAfter[0] : null,\n                    api: _this.gridApi,\n                    columnApi: _this.columnApi,\n                    source: source\n                };\n                _this.eventService.dispatchEvent(event);\n            };\n            // determines which columns have changed according to supplied predicate\n            var getChangedColumns = function (changedPredicate) {\n                var changedColumns = [];\n                _this.gridColumns.forEach(function (column) {\n                    var colStateBefore = columnStateBeforeMap[column.getColId()];\n                    if (colStateBefore && changedPredicate(colStateBefore, column)) {\n                        changedColumns.push(column);\n                    }\n                });\n                return changedColumns;\n            };\n            var columnIdMapper = function (c) { return c.getColId(); };\n            raiseWhenListsDifferent(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, startState.rowGroupColumns, _this.rowGroupColumns, columnIdMapper);\n            raiseWhenListsDifferent(Events.EVENT_COLUMN_PIVOT_CHANGED, startState.pivotColumns, _this.pivotColumns, columnIdMapper);\n            raiseWhenListsDifferent(Events.EVENT_COLUMN_VALUE_CHANGED, startState.valueColumns, _this.valueColumns, columnIdMapper);\n            var resizeChangePredicate = function (cs, c) { return cs.width != c.getActualWidth(); };\n            _this.fireColumnResizedEvent(getChangedColumns(resizeChangePredicate), true, source);\n            var pinnedChangePredicate = function (cs, c) { return cs.pinned != c.getPinned(); };\n            _this.raiseColumnPinnedEvent(getChangedColumns(pinnedChangePredicate), source);\n            var visibilityChangePredicate = function (cs, c) { return cs.hide == c.isVisible(); };\n            _this.raiseColumnVisibleEvent(getChangedColumns(visibilityChangePredicate), source);\n            var sortChangePredicate = function (cs, c) { return cs.sort != c.getSort(); };\n            if (getChangedColumns(sortChangePredicate).length > 0) {\n                _this.sortController.dispatchSortChangedEvents();\n            }\n            // special handling for moved column events\n            _this.raiseColumnMovedEvent(columnStateBefore, source);\n        };\n    };\n    ColumnController.prototype.raiseColumnPinnedEvent = function (changedColumns, source) {\n        if (!changedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_PINNED,\n            pinned: null,\n            columns: changedColumns,\n            column: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.raiseColumnVisibleEvent = function (changedColumns, source) {\n        if (!changedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_VISIBLE,\n            visible: undefined,\n            columns: changedColumns,\n            column: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.raiseColumnMovedEvent = function (colStateBefore, source) {\n        // we are only interested in columns that were both present and visible before and after\n        var _this = this;\n        var colStateAfter = this.getColumnState();\n        var colStateAfterMapped = {};\n        colStateAfter.forEach(function (s) { return colStateAfterMapped[s.colId] = s; });\n        // get id's of cols in both before and after lists\n        var colsIntersectIds = {};\n        colStateBefore.forEach(function (s) {\n            if (colStateAfterMapped[s.colId]) {\n                colsIntersectIds[s.colId] = true;\n            }\n        });\n        // filter state lists, so we only have cols that were present before and after\n        var beforeFiltered = filter(colStateBefore, function (c) { return colsIntersectIds[c.colId]; });\n        var afterFiltered = filter(colStateAfter, function (c) { return colsIntersectIds[c.colId]; });\n        // see if any cols are in a different location\n        var movedColumns = [];\n        afterFiltered.forEach(function (csAfter, index) {\n            var csBefore = beforeFiltered[index];\n            if (csBefore.colId !== csAfter.colId) {\n                movedColumns.push(_this.getGridColumn(csBefore.colId));\n            }\n        });\n        if (!movedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_MOVED,\n            columns: movedColumns,\n            column: null,\n            toIndex: undefined,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.syncColumnWithStateItem = function (column, stateItem, defaultState, rowGroupIndexes, pivotIndexes, autoCol, source) {\n        if (!column) {\n            return;\n        }\n        var getValue = function (key1, key2) {\n            var stateAny = stateItem;\n            var defaultAny = defaultState;\n            if (stateAny && (stateAny[key1] !== undefined || stateAny[key2] !== undefined)) {\n                return { value1: stateAny[key1], value2: stateAny[key2] };\n            }\n            else if (defaultAny && (defaultAny[key1] !== undefined || defaultAny[key2] !== undefined)) {\n                return { value1: defaultAny[key1], value2: defaultAny[key2] };\n            }\n            else {\n                return { value1: undefined, value2: undefined };\n            }\n        };\n        // following ensures we are left with boolean true or false, eg converts (null, undefined, 0) all to true\n        var hide = getValue('hide').value1;\n        if (hide !== undefined) {\n            column.setVisible(!hide, source);\n        }\n        // sets pinned to 'left' or 'right'\n        var pinned = getValue('pinned').value1;\n        if (pinned !== undefined) {\n            column.setPinned(pinned);\n        }\n        // if width provided and valid, use it, otherwise stick with the old width\n        var minColWidth = this.gridOptionsWrapper.getMinColWidth();\n        // flex\n        var flex = getValue('flex').value1;\n        if (flex !== undefined) {\n            column.setFlex(flex);\n        }\n        // width - we only set width if column is not flexing\n        var noFlexThisCol = column.getFlex() <= 0;\n        if (noFlexThisCol) {\n            // both null and undefined means we skip, as it's not possible to 'clear' width (a column must have a width)\n            var width = getValue('width').value1;\n            if (width != null) {\n                if (minColWidth &&\n                    (width >= minColWidth)) {\n                    column.setActualWidth(width, source);\n                }\n            }\n        }\n        var sort = getValue('sort').value1;\n        if (sort !== undefined) {\n            if (sort === Constants.SORT_DESC || sort === Constants.SORT_ASC) {\n                column.setSort(sort);\n            }\n            else {\n                column.setSort(undefined);\n            }\n        }\n        var sortIndex = getValue('sortIndex').value1;\n        if (sortIndex !== undefined) {\n            column.setSortIndex(sortIndex);\n        }\n        // we do not do aggFunc, rowGroup or pivot for auto cols, as you can't do these with auto col\n        if (autoCol) {\n            return;\n        }\n        var aggFunc = getValue('aggFunc').value1;\n        if (aggFunc !== undefined) {\n            if (typeof aggFunc === 'string') {\n                column.setAggFunc(aggFunc);\n                if (!column.isValueActive()) {\n                    column.setValueActive(true, source);\n                    this.valueColumns.push(column);\n                }\n            }\n            else {\n                if (exists(aggFunc)) {\n                    console.warn('ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation ' +\n                        'functions, register the functions first before using them in get/set state. This is because it is ' +\n                        'intended for the column state to be stored and retrieved as simple JSON.');\n                }\n                column.setAggFunc(null);\n                if (column.isValueActive()) {\n                    column.setValueActive(false, source);\n                    removeFromArray(this.valueColumns, column);\n                }\n            }\n        }\n        var _a = getValue('rowGroup', 'rowGroupIndex'), rowGroup = _a.value1, rowGroupIndex = _a.value2;\n        if (rowGroup !== undefined || rowGroupIndex !== undefined) {\n            if (typeof rowGroupIndex === 'number' || rowGroup) {\n                if (!column.isRowGroupActive()) {\n                    column.setRowGroupActive(true, source);\n                    this.rowGroupColumns.push(column);\n                }\n                if (typeof rowGroupIndex === 'number') {\n                    rowGroupIndexes[column.getId()] = rowGroupIndex;\n                }\n            }\n            else {\n                if (column.isRowGroupActive()) {\n                    column.setRowGroupActive(false, source);\n                    removeFromArray(this.rowGroupColumns, column);\n                }\n            }\n        }\n        var _b = getValue('pivot', 'pivotIndex'), pivot = _b.value1, pivotIndex = _b.value2;\n        if (pivot !== undefined || pivotIndex !== undefined) {\n            if (typeof pivotIndex === 'number' || pivot) {\n                if (!column.isPivotActive()) {\n                    column.setPivotActive(true, source);\n                    this.pivotColumns.push(column);\n                }\n                if (typeof pivotIndex === 'number') {\n                    pivotIndexes[column.getId()] = pivotIndex;\n                }\n            }\n            else {\n                if (column.isPivotActive()) {\n                    column.setPivotActive(false, source);\n                    removeFromArray(this.pivotColumns, column);\n                }\n            }\n        }\n    };\n    ColumnController.prototype.getGridColumns = function (keys) {\n        return this.getColumns(keys, this.getGridColumn.bind(this));\n    };\n    ColumnController.prototype.getColumns = function (keys, columnLookupCallback) {\n        var foundColumns = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var column = columnLookupCallback(key);\n                if (column) {\n                    foundColumns.push(column);\n                }\n            });\n        }\n        return foundColumns;\n    };\n    // used by growGroupPanel\n    ColumnController.prototype.getColumnWithValidation = function (key) {\n        if (key == null) {\n            return null;\n        }\n        var column = this.getGridColumn(key);\n        if (!column) {\n            console.warn('ag-Grid: could not find column ' + key);\n        }\n        return column;\n    };\n    ColumnController.prototype.getPrimaryColumn = function (key) {\n        return this.getColumn(key, this.primaryColumns);\n    };\n    ColumnController.prototype.getGridColumn = function (key) {\n        return this.getColumn(key, this.gridColumns);\n    };\n    ColumnController.prototype.getColumn = function (key, columnList) {\n        if (!key) {\n            return null;\n        }\n        for (var i = 0; i < columnList.length; i++) {\n            if (this.columnsMatch(columnList[i], key)) {\n                return columnList[i];\n            }\n        }\n        return this.getAutoColumn(key);\n    };\n    ColumnController.prototype.getAutoColumn = function (key) {\n        var _this = this;\n        if (!this.groupAutoColumns ||\n            !exists(this.groupAutoColumns) ||\n            missing(this.groupAutoColumns)) {\n            return null;\n        }\n        return find(this.groupAutoColumns, function (groupCol) { return _this.columnsMatch(groupCol, key); });\n    };\n    ColumnController.prototype.columnsMatch = function (column, key) {\n        var columnMatches = column === key;\n        var colDefMatches = column.getColDef() === key;\n        var idMatches = column.getColId() == key;\n        return columnMatches || colDefMatches || idMatches;\n    };\n    ColumnController.prototype.getDisplayNameForColumn = function (column, location, includeAggFunc) {\n        if (includeAggFunc === void 0) { includeAggFunc = false; }\n        if (!column) {\n            return null;\n        }\n        var headerName = this.getHeaderName(column.getColDef(), column, null, null, location);\n        if (includeAggFunc) {\n            return this.wrapHeaderNameWithAggFunc(column, headerName);\n        }\n        return headerName;\n    };\n    ColumnController.prototype.getDisplayNameForOriginalColumnGroup = function (columnGroup, originalColumnGroup, location) {\n        var colGroupDef = originalColumnGroup ? originalColumnGroup.getColGroupDef() : null;\n        if (colGroupDef) {\n            return this.getHeaderName(colGroupDef, null, columnGroup, originalColumnGroup, location);\n        }\n        return null;\n    };\n    ColumnController.prototype.getDisplayNameForColumnGroup = function (columnGroup, location) {\n        return this.getDisplayNameForOriginalColumnGroup(columnGroup, columnGroup.getOriginalColumnGroup(), location);\n    };\n    // location is where the column is going to appear, ie who is calling us\n    ColumnController.prototype.getHeaderName = function (colDef, column, columnGroup, originalColumnGroup, location) {\n        var headerValueGetter = colDef.headerValueGetter;\n        if (headerValueGetter) {\n            var params = {\n                colDef: colDef,\n                column: column,\n                columnGroup: columnGroup,\n                originalColumnGroup: originalColumnGroup,\n                location: location,\n                api: this.gridOptionsWrapper.getApi(),\n                context: this.gridOptionsWrapper.getContext()\n            };\n            if (typeof headerValueGetter === 'function') {\n                // valueGetter is a function, so just call it\n                return headerValueGetter(params);\n            }\n            else if (typeof headerValueGetter === 'string') {\n                // valueGetter is an expression, so execute the expression\n                return this.expressionService.evaluate(headerValueGetter, params);\n            }\n            console.warn('ag-grid: headerValueGetter must be a function or a string');\n            return '';\n        }\n        else if (colDef.headerName != null) {\n            return colDef.headerName;\n        }\n        else if (colDef.field) {\n            return camelCaseToHumanText(colDef.field);\n        }\n        return '';\n    };\n    /*\n        private getHeaderGroupName(columnGroup: ColumnGroup): string {\n            let colGroupDef = columnGroup.getOriginalColumnGroup().getColGroupDef();\n            let headerValueGetter = colGroupDef.headerValueGetter;\n\n            if (headerValueGetter) {\n                let params = {\n                    columnGroup: columnGroup,\n                    colDef: colGroupDef,\n                    api: this.gridOptionsWrapper.getApi(),\n                    context: this.gridOptionsWrapper.getContext()\n                };\n\n                if (typeof headerValueGetter === 'function') {\n                    // valueGetter is a function, so just call it\n                    return headerValueGetter(params);\n                } else if (typeof headerValueGetter === 'string') {\n                    // valueGetter is an expression, so execute the expression\n                    return this.expressionService.evaluate(headerValueGetter, params);\n                } else {\n                    console.warn('ag-grid: headerValueGetter must be a function or a string');\n                    return '';\n                }\n            } else {\n                return colGroupDef.headerName;\n            }\n        }\n    */\n    ColumnController.prototype.wrapHeaderNameWithAggFunc = function (column, headerName) {\n        if (this.gridOptionsWrapper.isSuppressAggFuncInHeader()) {\n            return headerName;\n        }\n        // only columns with aggregation active can have aggregations\n        var pivotValueColumn = column.getColDef().pivotValueColumn;\n        var pivotActiveOnThisColumn = exists(pivotValueColumn);\n        var aggFunc = null;\n        var aggFuncFound;\n        // otherwise we have a measure that is active, and we are doing aggregation on it\n        if (pivotActiveOnThisColumn) {\n            aggFunc = pivotValueColumn ? pivotValueColumn.getAggFunc() : null;\n            aggFuncFound = true;\n        }\n        else {\n            var measureActive = column.isValueActive();\n            var aggregationPresent = this.pivotMode || !this.isRowGroupEmpty();\n            if (measureActive && aggregationPresent) {\n                aggFunc = column.getAggFunc();\n                aggFuncFound = true;\n            }\n            else {\n                aggFuncFound = false;\n            }\n        }\n        if (aggFuncFound) {\n            var aggFuncString = (typeof aggFunc === 'string') ? aggFunc : 'func';\n            var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n            var aggFuncStringTranslated = localeTextFunc(aggFuncString, aggFuncString);\n            return aggFuncStringTranslated + \"(\" + headerName + \")\";\n        }\n        return headerName;\n    };\n    // returns the group with matching colId and instanceId. If instanceId is missing,\n    // matches only on the colId.\n    ColumnController.prototype.getColumnGroup = function (colId, instanceId) {\n        if (!colId) {\n            return null;\n        }\n        if (colId instanceof ColumnGroup) {\n            return colId;\n        }\n        var allColumnGroups = this.getAllDisplayedColumnGroups();\n        var checkInstanceId = typeof instanceId === 'number';\n        var result = null;\n        this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups, function (child) {\n            if (child instanceof ColumnGroup) {\n                var columnGroup = child;\n                var matched = void 0;\n                if (checkInstanceId) {\n                    matched = colId === columnGroup.getGroupId() && instanceId === columnGroup.getInstanceId();\n                }\n                else {\n                    matched = colId === columnGroup.getGroupId();\n                }\n                if (matched) {\n                    result = columnGroup;\n                }\n            }\n        });\n        return result;\n    };\n    ColumnController.prototype.isReady = function () {\n        return this.ready;\n    };\n    ColumnController.prototype.extractValueColumns = function (source, oldPrimaryColumns) {\n        this.valueColumns = this.extractColumns(oldPrimaryColumns, this.valueColumns, function (col, flag) { return col.setValueActive(flag, source); }, \n        // aggFunc doesn't have index variant, cos order of value cols doesn't matter, so always return null\n        function () { return undefined; }, function () { return undefined; }, \n        // aggFunc is a string, so return it's existence\n        function (colDef) {\n            var aggFunc = colDef.aggFunc;\n            // null or empty string means clear\n            if (aggFunc === null || aggFunc === '') {\n                return null;\n            }\n            else if (aggFunc === undefined) {\n                return undefined;\n            }\n            else {\n                return aggFunc != '';\n            }\n        }, function (colDef) {\n            // return false if any of the following: null, undefined, empty string\n            return colDef.initialAggFunc != null && colDef.initialAggFunc != '';\n        });\n        // all new columns added will have aggFunc missing, so set it to what is in the colDef\n        this.valueColumns.forEach(function (col) {\n            var colDef = col.getColDef();\n            // if aggFunc provided, we always override, as reactive property\n            if (colDef.aggFunc != null && colDef.aggFunc != '') {\n                col.setAggFunc(colDef.aggFunc);\n            }\n            else {\n                // otherwise we use initialAggFunc only if no agg func set - which happens when new column only\n                if (!col.getAggFunc()) {\n                    col.setAggFunc(colDef.initialAggFunc);\n                }\n            }\n        });\n    };\n    ColumnController.prototype.extractRowGroupColumns = function (source, oldPrimaryColumns) {\n        this.rowGroupColumns = this.extractColumns(oldPrimaryColumns, this.rowGroupColumns, function (col, flag) { return col.setRowGroupActive(flag, source); }, function (colDef) { return colDef.rowGroupIndex; }, function (colDef) { return colDef.initialRowGroupIndex; }, function (colDef) { return colDef.rowGroup; }, function (colDef) { return colDef.initialRowGroup; });\n    };\n    ColumnController.prototype.extractColumns = function (oldPrimaryColumns, previousCols, setFlagFunc, getIndexFunc, getInitialIndexFunc, getValueFunc, getInitialValueFunc) {\n        if (oldPrimaryColumns === void 0) { oldPrimaryColumns = []; }\n        if (previousCols === void 0) { previousCols = []; }\n        var colsWithIndex = [];\n        var colsWithValue = [];\n        // go though all cols.\n        // if value, change\n        // if default only, change only if new\n        this.primaryColumns.forEach(function (col) {\n            var colIsNew = oldPrimaryColumns.indexOf(col) < 0;\n            var colDef = col.getColDef();\n            var value = attrToBoolean(getValueFunc(colDef));\n            var initialValue = attrToBoolean(getInitialValueFunc(colDef));\n            var index = attrToNumber(getIndexFunc(colDef));\n            var initialIndex = attrToNumber(getInitialIndexFunc(colDef));\n            var include;\n            if (colIsNew) {\n                // col is new, use values if present, otherwise use default values if present\n                var valuePresent = value !== undefined || index !== undefined;\n                if (valuePresent) {\n                    if (value !== undefined) {\n                        // if boolean value present, we take it's value, even if 'false'\n                        include = value;\n                    }\n                    else {\n                        // otherwise we based on number value. note that 'null' resets, however 'undefined' doesn't\n                        // go through this code path (undefined means 'ignore').\n                        include = index >= 0;\n                    }\n                }\n                else {\n                    include = initialValue == true || initialIndex >= 0;\n                }\n            }\n            else {\n                // col is not new, we ignore the default values, just use the values if provided\n                if (value !== undefined) { // value is never null, as attrToBoolean converts null to false\n                    include = value;\n                }\n                else if (index !== undefined) {\n                    if (index === null) {\n                        include = false;\n                    }\n                    else {\n                        include = index >= 0;\n                    }\n                }\n                else {\n                    // no values provided, we include if it was included last time\n                    include = previousCols.indexOf(col) >= 0;\n                }\n            }\n            if (include) {\n                var useIndex = colIsNew ? (index != null || initialIndex != null) : index != null;\n                if (useIndex) {\n                    colsWithIndex.push(col);\n                }\n                else {\n                    colsWithValue.push(col);\n                }\n            }\n        });\n        var getIndexForCol = function (col) {\n            var index = getIndexFunc(col.getColDef());\n            var defaultIndex = getInitialIndexFunc(col.getColDef());\n            return index != null ? index : defaultIndex;\n        };\n        // sort cols with index, and add these first\n        colsWithIndex.sort(function (colA, colB) {\n            var indexA = getIndexForCol(colA);\n            var indexB = getIndexForCol(colB);\n            if (indexA === indexB) {\n                return 0;\n            }\n            else if (indexA < indexB) {\n                return -1;\n            }\n            else {\n                return 1;\n            }\n        });\n        var res = [].concat(colsWithIndex);\n        // second add columns that were there before and in the same order as they were before,\n        // so we are preserving order of current grouping of columns that simply have rowGroup=true\n        previousCols.forEach(function (col) {\n            if (colsWithValue.indexOf(col) >= 0) {\n                res.push(col);\n            }\n        });\n        // lastly put in all remaining cols\n        colsWithValue.forEach(function (col) {\n            if (res.indexOf(col) < 0) {\n                res.push(col);\n            }\n        });\n        // set flag=false for removed cols\n        previousCols.forEach(function (col) {\n            if (res.indexOf(col) < 0) {\n                setFlagFunc(col, false);\n            }\n        });\n        // set flag=true for newly added cols\n        res.forEach(function (col) {\n            if (previousCols.indexOf(col) < 0) {\n                setFlagFunc(col, true);\n            }\n        });\n        return res;\n    };\n    ColumnController.prototype.extractPivotColumns = function (source, oldPrimaryColumns) {\n        this.pivotColumns = this.extractColumns(oldPrimaryColumns, this.pivotColumns, function (col, flag) { return col.setPivotActive(flag, source); }, function (colDef) { return colDef.pivotIndex; }, function (colDef) { return colDef.initialPivotIndex; }, function (colDef) { return colDef.pivot; }, function (colDef) { return colDef.initialPivot; });\n    };\n    ColumnController.prototype.resetColumnGroupState = function (source) {\n        if (source === void 0) { source = \"api\"; }\n        var stateItems = [];\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.primaryColumnTree, function (child) {\n            if (child instanceof OriginalColumnGroup) {\n                var groupState = {\n                    groupId: child.getGroupId(),\n                    open: child.getColGroupDef().openByDefault\n                };\n                stateItems.push(groupState);\n            }\n        });\n        this.setColumnGroupState(stateItems, source);\n    };\n    ColumnController.prototype.getColumnGroupState = function () {\n        var columnGroupState = [];\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (node) {\n            if (node instanceof OriginalColumnGroup) {\n                var originalColumnGroup = node;\n                columnGroupState.push({\n                    groupId: originalColumnGroup.getGroupId(),\n                    open: originalColumnGroup.isExpanded()\n                });\n            }\n        });\n        return columnGroupState;\n    };\n    ColumnController.prototype.setColumnGroupState = function (stateItems, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        var impactedGroups = [];\n        stateItems.forEach(function (stateItem) {\n            var groupKey = stateItem.groupId;\n            var newValue = stateItem.open;\n            var originalColumnGroup = _this.getOriginalColumnGroup(groupKey);\n            if (!originalColumnGroup) {\n                return;\n            }\n            if (originalColumnGroup.isExpanded() === newValue) {\n                return;\n            }\n            _this.logger.log('columnGroupOpened(' + originalColumnGroup.getGroupId() + ',' + newValue + ')');\n            originalColumnGroup.setExpanded(newValue);\n            impactedGroups.push(originalColumnGroup);\n        });\n        this.updateGroupsAndDisplayedColumns(source);\n        this.setFirstRightAndLastLeftPinned(source);\n        impactedGroups.forEach(function (originalColumnGroup) {\n            var event = {\n                type: Events.EVENT_COLUMN_GROUP_OPENED,\n                columnGroup: originalColumnGroup,\n                api: _this.gridApi,\n                columnApi: _this.columnApi\n            };\n            _this.eventService.dispatchEvent(event);\n        });\n        this.columnAnimationService.finish();\n    };\n    // called by headerRenderer - when a header is opened or closed\n    ColumnController.prototype.setColumnGroupOpened = function (key, newValue, source) {\n        if (source === void 0) { source = \"api\"; }\n        var keyAsString;\n        if (key instanceof OriginalColumnGroup) {\n            keyAsString = key.getId();\n        }\n        else {\n            keyAsString = key;\n        }\n        this.setColumnGroupState([{ groupId: keyAsString, open: newValue }], source);\n    };\n    ColumnController.prototype.getOriginalColumnGroup = function (key) {\n        if (key instanceof OriginalColumnGroup) {\n            return key;\n        }\n        if (typeof key !== 'string') {\n            console.error('ag-Grid: group key must be a string');\n        }\n        // otherwise, search for the column group by id\n        var res = null;\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (node) {\n            if (node instanceof OriginalColumnGroup) {\n                var originalColumnGroup = node;\n                if (originalColumnGroup.getId() === key) {\n                    res = originalColumnGroup;\n                }\n            }\n        });\n        return res;\n    };\n    ColumnController.prototype.calculateColumnsForDisplay = function () {\n        var _this = this;\n        var columnsForDisplay;\n        if (this.pivotMode && !this.secondaryColumnsPresent) {\n            // pivot mode is on, but we are not pivoting, so we only\n            // show columns we are aggregating on\n            columnsForDisplay = this.gridColumns.filter(function (column) {\n                var isAutoGroupCol = _this.groupAutoColumns && includes(_this.groupAutoColumns, column);\n                var isValueCol = _this.valueColumns && includes(_this.valueColumns, column);\n                return isAutoGroupCol || isValueCol;\n            });\n        }\n        else {\n            // otherwise continue as normal. this can be working on the primary\n            // or secondary columns, whatever the gridColumns are set to\n            columnsForDisplay = this.gridColumns.filter(function (column) {\n                // keep col if a) it's auto-group or b) it's visible\n                var isAutoGroupCol = _this.groupAutoColumns && includes(_this.groupAutoColumns, column);\n                return isAutoGroupCol || column.isVisible();\n            });\n        }\n        return columnsForDisplay;\n    };\n    ColumnController.prototype.checkColSpanActiveInCols = function (columns) {\n        var result = false;\n        columns.forEach(function (col) {\n            if (exists(col.getColDef().colSpan)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    ColumnController.prototype.calculateColumnsForGroupDisplay = function () {\n        var _this = this;\n        this.groupDisplayColumns = [];\n        var checkFunc = function (col) {\n            var colDef = col.getColDef();\n            if (colDef && exists(colDef.showRowGroup)) {\n                _this.groupDisplayColumns.push(col);\n            }\n        };\n        this.gridColumns.forEach(checkFunc);\n        if (this.groupAutoColumns) {\n            this.groupAutoColumns.forEach(checkFunc);\n        }\n    };\n    ColumnController.prototype.getGroupDisplayColumns = function () {\n        return this.groupDisplayColumns;\n    };\n    ColumnController.prototype.updateDisplayedColumns = function (source) {\n        var columnsForDisplay = this.calculateColumnsForDisplay();\n        this.buildDisplayedTrees(columnsForDisplay);\n        this.calculateColumnsForGroupDisplay();\n        // also called when group opened/closed\n        this.updateGroupsAndDisplayedColumns(source);\n        // also called when group opened/closed\n        this.setFirstRightAndLastLeftPinned(source);\n    };\n    ColumnController.prototype.isSecondaryColumnsPresent = function () {\n        return this.secondaryColumnsPresent;\n    };\n    ColumnController.prototype.setSecondaryColumns = function (colDefs, source) {\n        if (source === void 0) { source = \"api\"; }\n        var newColsPresent = colDefs && colDefs.length > 0;\n        // if not cols passed, and we had to cols anyway, then do nothing\n        if (!newColsPresent && !this.secondaryColumnsPresent) {\n            return;\n        }\n        if (newColsPresent) {\n            this.processSecondaryColumnDefinitions(colDefs);\n            var balancedTreeResult = this.columnFactory.createColumnTree(colDefs, false);\n            this.secondaryBalancedTree = balancedTreeResult.columnTree;\n            this.secondaryHeaderRowCount = balancedTreeResult.treeDept + 1;\n            this.secondaryColumns = this.getColumnsFromTree(this.secondaryBalancedTree);\n            this.secondaryColumnsPresent = true;\n        }\n        else {\n            this.secondaryBalancedTree = null;\n            this.secondaryHeaderRowCount = -1;\n            this.secondaryColumns = null;\n            this.secondaryColumnsPresent = false;\n        }\n        this.updateGridColumns();\n        this.updateDisplayedColumns(source);\n    };\n    ColumnController.prototype.processSecondaryColumnDefinitions = function (colDefs) {\n        var columnCallback = this.gridOptionsWrapper.getProcessSecondaryColDefFunc();\n        var groupCallback = this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();\n        if (!columnCallback && !groupCallback) {\n            return undefined;\n        }\n        var searchForColDefs = function (colDefs2) {\n            colDefs2.forEach(function (abstractColDef) {\n                var isGroup = exists(abstractColDef.children);\n                if (isGroup) {\n                    var colGroupDef = abstractColDef;\n                    if (groupCallback) {\n                        groupCallback(colGroupDef);\n                    }\n                    searchForColDefs(colGroupDef.children);\n                }\n                else {\n                    var colDef = abstractColDef;\n                    if (columnCallback) {\n                        columnCallback(colDef);\n                    }\n                }\n            });\n        };\n        if (colDefs) {\n            searchForColDefs(colDefs);\n        }\n    };\n    // called from: setColumnState, setColumnDefs, setSecondaryColumns\n    ColumnController.prototype.updateGridColumns = function () {\n        if (this.gridColsArePrimary) {\n            this.lastPrimaryOrder = this.gridColumns;\n        }\n        if (this.secondaryColumns && this.secondaryBalancedTree) {\n            this.gridBalancedTree = this.secondaryBalancedTree.slice();\n            this.gridHeaderRowCount = this.secondaryHeaderRowCount;\n            this.gridColumns = this.secondaryColumns.slice();\n            this.gridColsArePrimary = false;\n        }\n        else {\n            this.gridBalancedTree = this.primaryColumnTree.slice();\n            this.gridHeaderRowCount = this.primaryHeaderRowCount;\n            this.gridColumns = this.primaryColumns.slice();\n            this.gridColsArePrimary = true;\n            // updateGridColumns gets called after user adds a row group. we want to maintain the order of the columns\n            // when this happens (eg if user moved a column) rather than revert back to the original column order.\n            // likewise if changing in/out of pivot mode, we want to maintain the order of the primary cols\n            this.orderGridColsLikeLastPrimary();\n        }\n        this.addAutoGroupToGridColumns();\n        this.autoRowHeightColumns = this.gridColumns.filter(function (col) { return col.getColDef().autoHeight; });\n        this.putFixedColumnsFirst();\n        this.setupQuickFilterColumns();\n        this.clearDisplayedColumns();\n        this.colSpanActive = this.checkColSpanActiveInCols(this.gridColumns);\n        var event = {\n            type: Events.EVENT_GRID_COLUMNS_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.orderGridColsLikeLastPrimary = function () {\n        var _this = this;\n        if (missing(this.lastPrimaryOrder)) {\n            return;\n        }\n        // only do the sort if at least one column is accounted for. columns will be not accounted for\n        // if changing from secondary to primary columns\n        var noColsFound = true;\n        this.gridColumns.forEach(function (col) {\n            if (_this.lastPrimaryOrder.indexOf(col) >= 0) {\n                noColsFound = false;\n            }\n        });\n        if (noColsFound) {\n            return;\n        }\n        // order cols in the same order as before. we need to make sure that all\n        // cols still exists, so filter out any that no longer exist.\n        var oldColsOrdered = this.lastPrimaryOrder.filter(function (col) { return _this.gridColumns.indexOf(col) >= 0; });\n        var newColsOrdered = this.gridColumns.filter(function (col) { return oldColsOrdered.indexOf(col) < 0; });\n        // add in the new columns, at the end (if no group), or at the end of the group (if a group)\n        var newGridColumns = oldColsOrdered.slice();\n        newColsOrdered.forEach(function (newCol) {\n            var parent = newCol.getOriginalParent();\n            // if no parent, means we are not grouping, so just add the column to the end\n            if (!parent) {\n                newGridColumns.push(newCol);\n                return;\n            }\n            // find the group the column belongs to. if no siblings at the current level (eg col in group on it's\n            // own) then go up one level and look for siblings there.\n            var siblings = [];\n            while (!siblings.length && parent) {\n                var leafCols = parent.getLeafColumns();\n                leafCols.forEach(function (leafCol) {\n                    var presentInNewGriColumns = newGridColumns.indexOf(leafCol) >= 0;\n                    var noYetInSiblings = siblings.indexOf(leafCol) < 0;\n                    if (presentInNewGriColumns && noYetInSiblings) {\n                        siblings.push(leafCol);\n                    }\n                });\n                parent = parent.getOriginalParent();\n            }\n            // if no siblings exist at any level, this means the col is in a group (or parent groups) on it's own\n            if (!siblings.length) {\n                newGridColumns.push(newCol);\n                return;\n            }\n            // find index of last column in the group\n            var indexes = siblings.map(function (col) { return newGridColumns.indexOf(col); });\n            var lastIndex = Math.max.apply(Math, indexes);\n            insertIntoArray(newGridColumns, newCol, lastIndex + 1);\n        });\n        this.gridColumns = newGridColumns;\n    };\n    ColumnController.prototype.isPrimaryColumnGroupsPresent = function () {\n        return this.primaryHeaderRowCount > 1;\n    };\n    // if we are using autoGroupCols, then they should be included for quick filter. this covers the\n    // following scenarios:\n    // a) user provides 'field' into autoGroupCol of normal grid, so now because a valid col to filter leafs on\n    // b) using tree data and user depends on autoGroupCol for first col, and we also want to filter on this\n    //    (tree data is a bit different, as parent rows can be filtered on, unlike row grouping)\n    ColumnController.prototype.setupQuickFilterColumns = function () {\n        if (this.groupAutoColumns) {\n            this.columnsForQuickFilter = this.primaryColumns.concat(this.groupAutoColumns);\n        }\n        else {\n            this.columnsForQuickFilter = this.primaryColumns;\n        }\n    };\n    ColumnController.prototype.putFixedColumnsFirst = function () {\n        var locked = this.gridColumns.filter(function (c) { return c.getColDef().lockPosition; });\n        var unlocked = this.gridColumns.filter(function (c) { return !c.getColDef().lockPosition; });\n        this.gridColumns = locked.concat(unlocked);\n    };\n    ColumnController.prototype.addAutoGroupToGridColumns = function () {\n        // add in auto-group here\n        this.createGroupAutoColumnsIfNeeded();\n        if (missing(this.groupAutoColumns)) {\n            return;\n        }\n        this.gridColumns = this.groupAutoColumns ? this.groupAutoColumns.concat(this.gridColumns) : this.gridColumns;\n        var autoColBalancedTree = this.columnFactory.createForAutoGroups(this.groupAutoColumns, this.gridBalancedTree);\n        this.gridBalancedTree = autoColBalancedTree.concat(this.gridBalancedTree);\n    };\n    // gets called after we copy down grid columns, to make sure any part of the gui\n    // that tries to draw, eg the header, it will get empty lists of columns rather\n    // than stale columns. for example, the header will received gridColumnsChanged\n    // event, so will try and draw, but it will draw successfully when it acts on the\n    // virtualColumnsChanged event\n    ColumnController.prototype.clearDisplayedColumns = function () {\n        this.displayedLeftColumnTree = [];\n        this.displayedRightColumnTree = [];\n        this.displayedCentreColumnTree = [];\n        this.displayedLeftHeaderRows = {};\n        this.displayedRightHeaderRows = {};\n        this.displayedCentreHeaderRows = {};\n        this.displayedLeftColumns = [];\n        this.displayedRightColumns = [];\n        this.displayedCenterColumns = [];\n        this.allDisplayedColumns = [];\n        this.allDisplayedVirtualColumns = [];\n    };\n    ColumnController.prototype.updateGroupsAndDisplayedColumns = function (source) {\n        this.updateOpenClosedVisibilityInColumnGroups();\n        this.updateDisplayedColumnsFromTrees(source);\n        this.refreshFlexedColumns();\n        this.updateVirtualSets();\n        this.updateBodyWidths();\n        // this event is picked up by the gui, headerRenderer and rowRenderer, to recalculate what columns to display\n        var event = {\n            type: Events.EVENT_DISPLAYED_COLUMNS_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.updateDisplayedColumnsFromTrees = function (source) {\n        this.addToDisplayedColumns(this.displayedLeftColumnTree, this.displayedLeftColumns);\n        this.addToDisplayedColumns(this.displayedCentreColumnTree, this.displayedCenterColumns);\n        this.addToDisplayedColumns(this.displayedRightColumnTree, this.displayedRightColumns);\n        this.setupAllDisplayedColumns();\n        this.setLeftValues(source);\n    };\n    ColumnController.prototype.setupAllDisplayedColumns = function () {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            this.allDisplayedColumns = this.displayedRightColumns\n                .concat(this.displayedCenterColumns)\n                .concat(this.displayedLeftColumns);\n        }\n        else {\n            this.allDisplayedColumns = this.displayedLeftColumns\n                .concat(this.displayedCenterColumns)\n                .concat(this.displayedRightColumns);\n        }\n    };\n    // sets the left pixel position of each column\n    ColumnController.prototype.setLeftValues = function (source) {\n        this.setLeftValuesOfColumns(source);\n        this.setLeftValuesOfGroups();\n    };\n    ColumnController.prototype.setLeftValuesOfColumns = function (source) {\n        var _this = this;\n        // go through each list of displayed columns\n        var allColumns = this.primaryColumns.slice(0);\n        // let totalColumnWidth = this.getWidthOfColsInList()\n        var doingRtl = this.gridOptionsWrapper.isEnableRtl();\n        [\n            this.displayedLeftColumns,\n            this.displayedRightColumns,\n            this.displayedCenterColumns\n        ].forEach(function (columns) {\n            if (doingRtl) {\n                // when doing RTL, we start at the top most pixel (ie RHS) and work backwards\n                var left_1 = _this.getWidthOfColsInList(columns);\n                columns.forEach(function (column) {\n                    left_1 -= column.getActualWidth();\n                    column.setLeft(left_1, source);\n                });\n            }\n            else {\n                // otherwise normal LTR, we start at zero\n                var left_2 = 0;\n                columns.forEach(function (column) {\n                    column.setLeft(left_2, source);\n                    left_2 += column.getActualWidth();\n                });\n            }\n            removeAllFromArray(allColumns, columns);\n        });\n        // items left in allColumns are columns not displayed, so remove the left position. this is\n        // important for the rows, as if a col is made visible, then taken out, then made visible again,\n        // we don't want the animation of the cell floating in from the old position, whatever that was.\n        allColumns.forEach(function (column) {\n            column.setLeft(null, source);\n        });\n    };\n    ColumnController.prototype.setLeftValuesOfGroups = function () {\n        // a groups left value is the lest left value of it's children\n        [\n            this.displayedLeftColumnTree,\n            this.displayedRightColumnTree,\n            this.displayedCentreColumnTree\n        ].forEach(function (columns) {\n            columns.forEach(function (column) {\n                if (column instanceof ColumnGroup) {\n                    var columnGroup = column;\n                    columnGroup.checkLeft();\n                }\n            });\n        });\n    };\n    ColumnController.prototype.addToDisplayedColumns = function (displayedColumnTree, displayedColumns) {\n        displayedColumns.length = 0;\n        this.columnUtils.depthFirstDisplayedColumnTreeSearch(displayedColumnTree, function (child) {\n            if (child instanceof Column) {\n                displayedColumns.push(child);\n            }\n        });\n    };\n    ColumnController.prototype.updateDisplayedCenterVirtualColumns = function () {\n        if (this.suppressColumnVirtualisation) {\n            // no virtualisation, so don't filter\n            this.allDisplayedCenterVirtualColumns = this.displayedCenterColumns;\n        }\n        else {\n            // filter out what should be visible\n            this.allDisplayedCenterVirtualColumns = this.filterOutColumnsWithinViewport();\n        }\n        this.allDisplayedVirtualColumns = this.allDisplayedCenterVirtualColumns\n            .concat(this.displayedLeftColumns)\n            .concat(this.displayedRightColumns);\n        // return map of virtual col id's, for easy lookup when building the groups.\n        // the map will be colId=>true, ie col id's mapping to 'true'.\n        var result = {};\n        this.allDisplayedVirtualColumns.forEach(function (col) {\n            result[col.getId()] = true;\n        });\n        return result;\n    };\n    ColumnController.prototype.getVirtualHeaderGroupRow = function (type, dept) {\n        var result;\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                result = this.displayedLeftHeaderRows[dept];\n                break;\n            case Constants.PINNED_RIGHT:\n                result = this.displayedRightHeaderRows[dept];\n                break;\n            default:\n                result = this.displayedCentreHeaderRows[dept];\n                break;\n        }\n        if (missing(result)) {\n            result = [];\n        }\n        return result;\n    };\n    ColumnController.prototype.updateDisplayedVirtualGroups = function (virtualColIds) {\n        // go through each group, see if any of it's cols are displayed, and if yes,\n        // then this group is included\n        this.displayedLeftHeaderRows = {};\n        this.displayedRightHeaderRows = {};\n        this.displayedCentreHeaderRows = {};\n        var testGroup = function (children, result, dept) {\n            var returnValue = false;\n            for (var i = 0; i < children.length; i++) {\n                // see if this item is within viewport\n                var child = children[i];\n                var addThisItem = void 0;\n                if (child instanceof Column) {\n                    // for column, test if column is included\n                    addThisItem = virtualColIds[child.getId()] === true;\n                }\n                else {\n                    // if group, base decision on children\n                    var columnGroup = child;\n                    addThisItem = testGroup(columnGroup.getDisplayedChildren(), result, dept + 1);\n                }\n                if (addThisItem) {\n                    returnValue = true;\n                    if (!result[dept]) {\n                        result[dept] = [];\n                    }\n                    result[dept].push(child);\n                }\n            }\n            return returnValue;\n        };\n        testGroup(this.displayedLeftColumnTree, this.displayedLeftHeaderRows, 0);\n        testGroup(this.displayedRightColumnTree, this.displayedRightHeaderRows, 0);\n        testGroup(this.displayedCentreColumnTree, this.displayedCentreHeaderRows, 0);\n    };\n    ColumnController.prototype.updateVirtualSets = function () {\n        var virtualColIds = this.updateDisplayedCenterVirtualColumns();\n        this.updateDisplayedVirtualGroups(virtualColIds);\n    };\n    ColumnController.prototype.filterOutColumnsWithinViewport = function () {\n        return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this));\n    };\n    ColumnController.prototype.refreshFlexedColumns = function (params) {\n        var _this = this;\n        if (params === void 0) { params = {}; }\n        var source = params.source ? params.source : 'flex';\n        if (params.viewportWidth != null) {\n            this.flexViewportWidth = params.viewportWidth;\n        }\n        if (!this.flexViewportWidth) {\n            return;\n        }\n        // If the grid has left-over space, divide it between flexing columns in proportion to their flex value.\n        // A \"flexing column\" is one that has a 'flex' value set and is not currently being constrained by its\n        // minWidth or maxWidth rules.\n        var flexAfterDisplayIndex = -1;\n        if (params.resizingCols) {\n            params.resizingCols.forEach(function (col) {\n                var indexOfCol = _this.displayedCenterColumns.indexOf(col);\n                if (flexAfterDisplayIndex < indexOfCol) {\n                    flexAfterDisplayIndex = indexOfCol;\n                }\n            });\n        }\n        var isColFlex = function (col) {\n            var afterResizingCols = _this.displayedCenterColumns.indexOf(col) > flexAfterDisplayIndex;\n            return col.getFlex() && afterResizingCols;\n        };\n        var knownWidthColumns = this.displayedCenterColumns.filter(function (col) { return !isColFlex(col); });\n        var flexingColumns = this.displayedCenterColumns.filter(function (col) { return isColFlex(col); });\n        var changedColumns = [];\n        if (!flexingColumns.length) {\n            return [];\n        }\n        var flexingColumnSizes = [];\n        var spaceForFlexingColumns;\n        outer: while (true) {\n            var totalFlex = flexingColumns.reduce(function (count, col) { return count + col.getFlex(); }, 0);\n            spaceForFlexingColumns = this.flexViewportWidth - this.getWidthOfColsInList(knownWidthColumns);\n            for (var i = 0; i < flexingColumns.length; i++) {\n                var col = flexingColumns[i];\n                var widthByFlexRule = spaceForFlexingColumns * col.getFlex() / totalFlex;\n                var constrainedWidth = void 0;\n                if (widthByFlexRule < col.getMinWidth()) {\n                    constrainedWidth = col.getMinWidth();\n                }\n                else if (col.getMaxWidth() != null && widthByFlexRule > col.getMaxWidth()) {\n                    constrainedWidth = col.getMaxWidth();\n                }\n                if (constrainedWidth) {\n                    // This column is not in fact flexing as it is being constrained to a specific size\n                    // so remove it from the list of flexing columns and start again\n                    col.setActualWidth(constrainedWidth, source);\n                    removeFromArray(flexingColumns, col);\n                    changedColumns.push(col);\n                    knownWidthColumns.push(col);\n                    continue outer;\n                }\n                flexingColumnSizes[i] = Math.round(widthByFlexRule);\n            }\n            break;\n        }\n        var remainingSpace = spaceForFlexingColumns;\n        flexingColumns.forEach(function (col, i) {\n            col.setActualWidth(Math.min(flexingColumnSizes[i], remainingSpace), source);\n            changedColumns.push(col);\n            remainingSpace -= flexingColumnSizes[i];\n        });\n        if (!params.skipSetLeft) {\n            this.setLeftValues(source);\n        }\n        if (params.updateBodyWidths) {\n            this.updateBodyWidths();\n        }\n        if (params.fireResizedEvent) {\n            this.fireColumnResizedEvent(changedColumns, true, source, flexingColumns);\n        }\n        return flexingColumns;\n    };\n    // called from api\n    ColumnController.prototype.sizeColumnsToFit = function (gridWidth, source, silent) {\n        if (source === void 0) { source = \"sizeColumnsToFit\"; }\n        // avoid divide by zero\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        if (gridWidth <= 0 || !allDisplayedColumns.length) {\n            return;\n        }\n        var colsToSpread = [];\n        var colsToNotSpread = [];\n        allDisplayedColumns.forEach(function (column) {\n            if (column.getColDef().suppressSizeToFit === true) {\n                colsToNotSpread.push(column);\n            }\n            else {\n                colsToSpread.push(column);\n            }\n        });\n        // make a copy of the cols that are going to be resized\n        var colsToFireEventFor = colsToSpread.slice(0);\n        var finishedResizing = false;\n        var moveToNotSpread = function (column) {\n            removeFromArray(colsToSpread, column);\n            colsToNotSpread.push(column);\n        };\n        // resetting cols to their original width makes the sizeColumnsToFit more deterministic,\n        // rather than depending on the current size of the columns. most users call sizeColumnsToFit\n        // immediately after grid is created, so will make no difference. however if application is calling\n        // sizeColumnsToFit repeatedly (eg after column group is opened / closed repeatedly) we don't want\n        // the columns to start shrinking / growing over time.\n        colsToSpread.forEach(function (column) { return column.resetActualWidth(); });\n        while (!finishedResizing) {\n            finishedResizing = true;\n            var availablePixels = gridWidth - this.getWidthOfColsInList(colsToNotSpread);\n            if (availablePixels <= 0) {\n                // no width, set everything to minimum\n                colsToSpread.forEach(function (column) {\n                    column.setMinimum(source);\n                });\n            }\n            else {\n                var scale = availablePixels / this.getWidthOfColsInList(colsToSpread);\n                // we set the pixels for the last col based on what's left, as otherwise\n                // we could be a pixel or two short or extra because of rounding errors.\n                var pixelsForLastCol = availablePixels;\n                // backwards through loop, as we are removing items as we go\n                for (var i = colsToSpread.length - 1; i >= 0; i--) {\n                    var column = colsToSpread[i];\n                    var newWidth = Math.round(column.getActualWidth() * scale);\n                    if (newWidth < column.getMinWidth()) {\n                        column.setMinimum(source);\n                        moveToNotSpread(column);\n                        finishedResizing = false;\n                    }\n                    else if (column.isGreaterThanMax(newWidth)) {\n                        column.setActualWidth(column.getMaxWidth(), source);\n                        moveToNotSpread(column);\n                        finishedResizing = false;\n                    }\n                    else {\n                        var onLastCol = i === 0;\n                        if (onLastCol) {\n                            column.setActualWidth(pixelsForLastCol, source);\n                        }\n                        else {\n                            column.setActualWidth(newWidth, source);\n                        }\n                    }\n                    pixelsForLastCol -= newWidth;\n                }\n            }\n        }\n        this.setLeftValues(source);\n        this.updateBodyWidths();\n        if (silent) {\n            return;\n        }\n        this.fireColumnResizedEvent(colsToFireEventFor, true, source);\n    };\n    ColumnController.prototype.buildDisplayedTrees = function (visibleColumns) {\n        var leftVisibleColumns = [];\n        var rightVisibleColumns = [];\n        var centerVisibleColumns = [];\n        visibleColumns.forEach(function (column) {\n            switch (column.getPinned()) {\n                case \"left\":\n                    leftVisibleColumns.push(column);\n                    break;\n                case \"right\":\n                    rightVisibleColumns.push(column);\n                    break;\n                default:\n                    centerVisibleColumns.push(column);\n                    break;\n            }\n        });\n        var groupInstanceIdCreator = new GroupInstanceIdCreator();\n        this.displayedLeftColumnTree = this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, Constants.PINNED_LEFT, this.displayedLeftColumnTree);\n        this.displayedRightColumnTree = this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, Constants.PINNED_RIGHT, this.displayedRightColumnTree);\n        this.displayedCentreColumnTree = this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, null, this.displayedCentreColumnTree);\n    };\n    ColumnController.prototype.updateOpenClosedVisibilityInColumnGroups = function () {\n        var allColumnGroups = this.getAllDisplayedColumnGroups();\n        this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups, function (child) {\n            if (child instanceof ColumnGroup) {\n                var columnGroup = child;\n                columnGroup.calculateDisplayedColumns();\n            }\n        });\n    };\n    ColumnController.prototype.getGroupAutoColumns = function () {\n        return this.groupAutoColumns;\n    };\n    ColumnController.prototype.createGroupAutoColumnsIfNeeded = function () {\n        if (!this.autoGroupsNeedBuilding) {\n            return;\n        }\n        this.autoGroupsNeedBuilding = false;\n        var groupFullWidthRow = this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode);\n        // we need to allow suppressing auto-column separately for group and pivot as the normal situation\n        // is CSRM and user provides group column themselves for normal view, but when they go into pivot the\n        // columns are generated by the grid so no opportunity for user to provide group column. so need a way\n        // to suppress auto-col for grouping only, and not pivot.\n        // however if using Viewport RM or SSRM and user is providing the columns, the user may wish full control\n        // of the group column in this instance.\n        var suppressAutoColumn = this.pivotMode ?\n            this.gridOptionsWrapper.isPivotSuppressAutoColumn() : this.gridOptionsWrapper.isGroupSuppressAutoColumn();\n        var groupingActive = this.rowGroupColumns.length > 0 || this.usingTreeData;\n        var needAutoColumns = groupingActive && !suppressAutoColumn && !groupFullWidthRow;\n        if (needAutoColumns) {\n            var newAutoGroupCols = this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);\n            var autoColsDifferent = !this.autoColsEqual(newAutoGroupCols, this.groupAutoColumns);\n            // we force recreate when suppressColumnStateEvents changes, so new group cols pick up the new\n            // definitions. otherwise we could ignore the new cols because they appear to be the same.\n            if (autoColsDifferent || this.forceRecreateAutoGroups) {\n                this.groupAutoColumns = newAutoGroupCols;\n            }\n        }\n        else {\n            this.groupAutoColumns = null;\n        }\n    };\n    ColumnController.prototype.autoColsEqual = function (colsA, colsB) {\n        return areEqual(colsA, colsB, function (a, b) { return a.getColId() === b.getColId(); });\n    };\n    ColumnController.prototype.getWidthOfColsInList = function (columnList) {\n        return columnList.reduce(function (width, col) { return width + col.getActualWidth(); }, 0);\n    };\n    ColumnController.prototype.getGridBalancedTree = function () {\n        return this.gridBalancedTree;\n    };\n    ColumnController.prototype.hasFloatingFilters = function () {\n        var defaultColDef = this.gridOptionsWrapper.getDefaultColDef();\n        return (defaultColDef != null && defaultColDef.floatingFilter === true) ||\n            (this.columnDefs != null && this.columnDefs.some(function (c) { return c.floatingFilter === true; }));\n    };\n    ColumnController.prototype.getFirstDisplayedColumn = function () {\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        var queryOrder = [\n            'getDisplayedLeftColumns',\n            'getDisplayedCenterColumns',\n            'getDisplayedRightColumns'\n        ];\n        if (isRtl) {\n            queryOrder.reverse();\n        }\n        for (var i = 0; i < queryOrder.length; i++) {\n            var container = this[queryOrder[i]]();\n            if (container.length) {\n                return isRtl ? last(container) : container[0];\n            }\n        }\n        return null;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ColumnController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], ColumnController.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('columnFactory')\n    ], ColumnController.prototype, \"columnFactory\", void 0);\n    __decorate([\n        Autowired('displayedGroupCreator')\n    ], ColumnController.prototype, \"displayedGroupCreator\", void 0);\n    __decorate([\n        Autowired('autoWidthCalculator')\n    ], ColumnController.prototype, \"autoWidthCalculator\", void 0);\n    __decorate([\n        Autowired('columnUtils')\n    ], ColumnController.prototype, \"columnUtils\", void 0);\n    __decorate([\n        Autowired('columnAnimationService')\n    ], ColumnController.prototype, \"columnAnimationService\", void 0);\n    __decorate([\n        Autowired('autoGroupColService')\n    ], ColumnController.prototype, \"autoGroupColService\", void 0);\n    __decorate([\n        Optional('aggFuncService')\n    ], ColumnController.prototype, \"aggFuncService\", void 0);\n    __decorate([\n        Optional('valueCache')\n    ], ColumnController.prototype, \"valueCache\", void 0);\n    __decorate([\n        Optional('animationFrameService')\n    ], ColumnController.prototype, \"animationFrameService\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], ColumnController.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], ColumnController.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], ColumnController.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('columnDefFactory')\n    ], ColumnController.prototype, \"columnDefFactory\", void 0);\n    __decorate([\n        PostConstruct\n    ], ColumnController.prototype, \"init\", null);\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], ColumnController.prototype, \"setBeans\", null);\n    ColumnController = __decorate([\n        Bean('columnController')\n    ], ColumnController);\n    return ColumnController;\n}(BeanStub));\nexport { ColumnController };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar SideBarDefParser = /** @class */ (function () {\n    function SideBarDefParser() {\n    }\n    SideBarDefParser.parse = function (toParse) {\n        if (!toParse) {\n            return null;\n        }\n        if (toParse === true) {\n            return {\n                toolPanels: [\n                    SideBarDefParser.DEFAULT_COLUMN_COMP,\n                    SideBarDefParser.DEFAULT_FILTER_COMP,\n                ],\n                defaultToolPanel: 'columns'\n            };\n        }\n        if (typeof toParse === 'string') {\n            return SideBarDefParser.parse([toParse]);\n        }\n        if (Array.isArray(toParse)) {\n            var comps_1 = [];\n            toParse.forEach(function (key) {\n                var lookupResult = SideBarDefParser.DEFAULT_BY_KEY[key];\n                if (!lookupResult) {\n                    console.warn(\"ag-grid: the key \" + key + \" is not a valid key for specifying a tool panel, valid keys are: \" + Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(','));\n                    return;\n                }\n                comps_1.push(lookupResult);\n            });\n            if (comps_1.length === 0) {\n                return null;\n            }\n            return {\n                toolPanels: comps_1,\n                defaultToolPanel: comps_1[0].id\n            };\n        }\n        var result = {\n            toolPanels: SideBarDefParser.parseComponents(toParse.toolPanels),\n            defaultToolPanel: toParse.defaultToolPanel,\n            hiddenByDefault: toParse.hiddenByDefault,\n            position: toParse.position\n        };\n        return result;\n    };\n    SideBarDefParser.parseComponents = function (from) {\n        var result = [];\n        from.forEach(function (it) {\n            var toAdd = null;\n            if (typeof it === 'string') {\n                var lookupResult = SideBarDefParser.DEFAULT_BY_KEY[it];\n                if (!lookupResult) {\n                    console.warn(\"ag-grid: the key \" + it + \" is not a valid key for specifying a tool panel, valid keys are: \" + Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(','));\n                    return;\n                }\n                toAdd = lookupResult;\n            }\n            else {\n                toAdd = it;\n            }\n            result.push(toAdd);\n        });\n        return result;\n    };\n    SideBarDefParser.DEFAULT_COLUMN_COMP = {\n        id: 'columns',\n        labelDefault: 'Columns',\n        labelKey: 'columns',\n        iconKey: 'columns',\n        toolPanel: 'agColumnsToolPanel',\n    };\n    SideBarDefParser.DEFAULT_FILTER_COMP = {\n        id: 'filters',\n        labelDefault: 'Filters',\n        labelKey: 'filters',\n        iconKey: 'filter',\n        toolPanel: 'agFiltersToolPanel',\n    };\n    SideBarDefParser.DEFAULT_BY_KEY = {\n        columns: SideBarDefParser.DEFAULT_COLUMN_COMP,\n        filters: SideBarDefParser.DEFAULT_FILTER_COMP\n    };\n    return SideBarDefParser;\n}());\nexport { SideBarDefParser };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct, RowNodeBlock, _ } from \"@ag-grid-community/core\";\nvar InfiniteBlock = /** @class */ (function (_super) {\n    __extends(InfiniteBlock, _super);\n    function InfiniteBlock(pageNumber, params) {\n        var _this = _super.call(this, pageNumber, params) || this;\n        _this.cacheParams = params;\n        return _this;\n    }\n    InfiniteBlock.prototype.getDisplayIndexStart = function () {\n        return this.getBlockNumber() * this.cacheParams.blockSize;\n    };\n    // this is an estimate, as the last block will probably only be partially full. however\n    // this method is used to know if this block is been rendered, before destroying, so\n    // and this estimate works in that use case.\n    InfiniteBlock.prototype.getDisplayIndexEnd = function () {\n        return this.getDisplayIndexStart() + this.cacheParams.blockSize;\n    };\n    InfiniteBlock.prototype.createBlankRowNode = function (rowIndex) {\n        var rowNode = _super.prototype.createBlankRowNode.call(this, rowIndex);\n        rowNode.uiLevel = 0;\n        this.setIndexAndTopOnRowNode(rowNode, rowIndex);\n        return rowNode;\n    };\n    InfiniteBlock.prototype.setDataAndId = function (rowNode, data, index) {\n        if (_.exists(data)) {\n            // this means if the user is not providing id's we just use the\n            // index for the row. this will allow selection to work (that is based\n            // on index) as long user is not inserting or deleting rows,\n            // or wanting to keep selection between server side sorting or filtering\n            rowNode.setDataAndId(data, index.toString());\n        }\n        else {\n            rowNode.setDataAndId(undefined, undefined);\n        }\n    };\n    InfiniteBlock.prototype.setRowNode = function (rowIndex, rowNode) {\n        _super.prototype.setRowNode.call(this, rowIndex, rowNode);\n        this.setIndexAndTopOnRowNode(rowNode, rowIndex);\n    };\n    InfiniteBlock.prototype.init = function () {\n        _super.prototype.init.call(this, {\n            context: this.getContext(),\n            rowRenderer: this.rowRenderer\n        });\n    };\n    InfiniteBlock.prototype.getNodeIdPrefix = function () {\n        return null;\n    };\n    InfiniteBlock.prototype.getRow = function (displayIndex) {\n        return this.getRowUsingLocalIndex(displayIndex);\n    };\n    InfiniteBlock.prototype.setIndexAndTopOnRowNode = function (rowNode, rowIndex) {\n        rowNode.setRowIndex(rowIndex);\n        rowNode.rowTop = this.cacheParams.rowHeight * rowIndex;\n    };\n    InfiniteBlock.prototype.loadFromDatasource = function () {\n        var _this = this;\n        // PROBLEM . . . . when the user sets sort via colDef.sort, then this code\n        // is executing before the sort is set up, so server is not getting the sort\n        // model. need to change with regards order - so the server side request is\n        // AFTER thus it gets the right sort model.\n        var params = {\n            startRow: this.getStartRow(),\n            endRow: this.getEndRow(),\n            successCallback: this.pageLoaded.bind(this, this.getVersion()),\n            failCallback: this.pageLoadFailed.bind(this),\n            sortModel: this.cacheParams.sortModel,\n            filterModel: this.cacheParams.filterModel,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        if (_.missing(this.cacheParams.datasource.getRows)) {\n            console.warn(\"ag-Grid: datasource is missing getRows method\");\n            return;\n        }\n        // put in timeout, to force result to be async\n        window.setTimeout(function () {\n            _this.cacheParams.datasource.getRows(params);\n        }, 0);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], InfiniteBlock.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], InfiniteBlock.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        PostConstruct\n    ], InfiniteBlock.prototype, \"init\", null);\n    return InfiniteBlock;\n}(RowNodeBlock));\nexport { InfiniteBlock };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Events } from \"../events\";\nimport { Autowired, Bean } from \"../context/context\";\nvar PaginationAutoPageSizeService = /** @class */ (function (_super) {\n    __extends(PaginationAutoPageSizeService, _super);\n    function PaginationAutoPageSizeService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PaginationAutoPageSizeService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.addManagedListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.onBodyHeightChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this));\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.notActive = function () {\n        return !this.gridOptionsWrapper.isPaginationAutoPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.onScrollVisibilityChanged = function () {\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.onBodyHeightChanged = function () {\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.checkPageSize = function () {\n        if (this.notActive()) {\n            return;\n        }\n        var rowHeight = this.gridOptionsWrapper.getRowHeightAsNumber();\n        var bodyHeight = this.gridPanel.getBodyHeight();\n        if (bodyHeight > 0) {\n            var newPageSize = Math.floor(bodyHeight / rowHeight);\n            this.gridOptionsWrapper.setProperty('paginationPageSize', newPageSize);\n        }\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PaginationAutoPageSizeService.prototype, \"gridOptionsWrapper\", void 0);\n    PaginationAutoPageSizeService = __decorate([\n        Bean('paginationAutoPageSizeService')\n    ], PaginationAutoPageSizeService);\n    return PaginationAutoPageSizeService;\n}(BeanStub));\nexport { PaginationAutoPageSizeService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Constants } from \"../constants/constants\";\nimport { Events } from \"../events\";\nimport { Component } from \"../widgets/component\";\nimport { CheckboxSelectionComponent } from \"./checkboxSelectionComponent\";\nimport { CellRangeType, SelectionHandleType } from \"../interfaces/iRangeController\";\nimport { RowDragComp } from \"./row/rowDragComp\";\nimport { PopupEditorWrapper } from \"./cellEditors/popupEditorWrapper\";\nimport { DndSourceComp } from \"./dndSourceComp\";\nimport { TooltipFeature } from \"../widgets/tooltipFeature\";\nimport { setAriaColIndex, setAriaSelected } from \"../utils/aria\";\nimport { get, getValueUsingField } from \"../utils/object\";\nimport { escapeString } from \"../utils/string\";\nimport { exists, missing } from \"../utils/generic\";\nimport { addOrRemoveCssClass, clearElement, addStylesToElement, isElementChildOfClass } from \"../utils/dom\";\nimport { last, areEqual, pushAll, includes } from \"../utils/array\";\nimport { cssStyleObjectToMarkup } from \"../utils/general\";\nimport { isStopPropagationForAgGrid, getTarget, isEventSupported } from \"../utils/event\";\nimport { isEventFromPrintableCharacter } from \"../utils/keyboard\";\nimport { isBrowserEdge, isBrowserIE, isIOSUserAgent } from \"../utils/browser\";\nimport { doOnce } from \"../utils/function\";\nimport { KeyCode } from '../constants/keyCode';\nvar CSS_CELL = 'ag-cell';\nvar CSS_CELL_VALUE = 'ag-cell-value';\nvar CSS_AUTO_HEIGHT = 'ag-cell-auto-height';\nvar CSS_RANGE_TOP = 'ag-cell-range-top';\nvar CSS_RANGE_RIGHT = 'ag-cell-range-right';\nvar CSS_RANGE_BOTTOM = 'ag-cell-range-bottom';\nvar CSS_RANGE_LEFT = 'ag-cell-range-left';\nvar CSS_CELL_FOCUS = 'ag-cell-focus';\nvar CSS_FIRST_RIGHT_PINNED = 'ag-cell-first-right-pinned';\nvar CSS_LAST_LEFT_PINNED = 'ag-cell-last-left-pinned';\nvar CSS_NOT_INLINE_EDITING = 'ag-cell-not-inline-editing';\nvar CSS_INLINE_EDITING = 'ag-cell-inline-editing';\nvar CSS_POPUP_EDITING = 'ag-cell-popup-editing';\nvar CSS_RANGE_SELECTED = 'ag-cell-range-selected';\nvar CSS_COLUMN_HOVER = 'ag-column-hover';\nvar CSS_CELL_WRAP_TEXT = 'ag-cell-wrap-text';\nvar CSS_RANGE_CHART = 'ag-cell-range-chart';\nvar CSS_RANGE_SINGLE_CELL = 'ag-cell-range-single-cell';\nvar CSS_RANGE_CHART_CATEGORY = 'ag-cell-range-chart-category';\nvar CSS_RANGE_HANDLE = 'ag-cell-range-handle';\nvar CellComp = /** @class */ (function (_super) {\n    __extends(CellComp, _super);\n    function CellComp(scope, beans, column, rowNode, rowComp, autoHeightCell, printLayout) {\n        var _this = _super.call(this) || this;\n        _this.hasChartRange = false;\n        _this.editingCell = false;\n        _this.suppressRefreshCell = false;\n        _this.tooltipFeatureEnabled = false;\n        _this.scope = null;\n        // every time we go into edit mode, or back again, this gets incremented.\n        // it's the components way of dealing with the async nature of framework components,\n        // so if a framework component takes a while to be created, we know if the object\n        // is still relevant when creating is finished. eg we could click edit / un-edit 20\n        // times before the first React edit component comes back - we should discard\n        // the first 19.\n        _this.cellEditorVersion = 0;\n        _this.cellRendererVersion = 0;\n        _this.scope = scope;\n        _this.beans = beans;\n        _this.column = column;\n        _this.rowNode = rowNode;\n        _this.rowComp = rowComp;\n        _this.autoHeightCell = autoHeightCell;\n        _this.printLayout = printLayout;\n        _this.createGridCellVo();\n        _this.rangeSelectionEnabled = _this.beans.rangeController && beans.gridOptionsWrapper.isEnableRangeSelection();\n        _this.cellFocused = _this.beans.focusController.isCellFocused(_this.cellPosition);\n        _this.firstRightPinned = _this.column.isFirstRightPinned();\n        _this.lastLeftPinned = _this.column.isLastLeftPinned();\n        if (_this.rangeSelectionEnabled && _this.beans.rangeController) {\n            var rangeController = _this.beans.rangeController;\n            _this.rangeCount = rangeController.getCellRangeCount(_this.cellPosition);\n            _this.hasChartRange = _this.getHasChartRange();\n        }\n        _this.getValueAndFormat();\n        _this.setUsingWrapper();\n        _this.chooseCellRenderer();\n        _this.setupColSpan();\n        _this.rowSpan = _this.column.getRowSpan(_this.rowNode);\n        return _this;\n    }\n    CellComp.prototype.getCreateTemplate = function () {\n        var unselectable = !this.beans.gridOptionsWrapper.isEnableCellTextSelection() ? 'unselectable=\"on\"' : '';\n        var templateParts = [];\n        var col = this.column;\n        var width = this.getCellWidth();\n        var left = this.modifyLeftForPrintLayout(this.getCellLeft());\n        var valueToRender = this.getInitialValueToRender();\n        var valueSanitised = get(this.column, 'colDef.template', null) ? valueToRender : escapeString(valueToRender);\n        this.tooltip = this.getToolTip();\n        var tooltipSanitised = escapeString(this.tooltip);\n        var colIdSanitised = escapeString(col.getId());\n        var wrapperStartTemplate = '';\n        var wrapperEndTemplate = '';\n        var stylesFromColDef = this.preProcessStylesFromColDef();\n        var cssClasses = this.getInitialCssClasses();\n        var stylesForRowSpanning = this.getStylesForRowSpanning();\n        var colIdxSanitised = escapeString(this.beans.columnController.getAriaColumnIndex(this.column).toString());\n        templateParts.push(\"<div\");\n        templateParts.push(\" tabindex=\\\"-1\\\"\");\n        templateParts.push(\" \" + unselectable); // THIS IS FOR IE ONLY so text selection doesn't bubble outside of the grid\n        templateParts.push(\" role=\\\"gridcell\\\"\");\n        templateParts.push(\" aria-colindex=\\\"\" + colIdxSanitised + \"\\\"\");\n        templateParts.push(\" comp-id=\\\"\" + this.getCompId() + \"\\\" \");\n        templateParts.push(\" col-id=\\\"\" + colIdSanitised + \"\\\"\");\n        templateParts.push(\" class=\\\"\" + escapeString(cssClasses.join(' ')) + \"\\\"\");\n        if (this.beans.gridOptionsWrapper.isEnableBrowserTooltips() && exists(tooltipSanitised)) {\n            templateParts.push(\" title=\\\"\" + tooltipSanitised + \"\\\"\");\n        }\n        if (this.rangeSelectionEnabled) {\n            templateParts.push(\" aria-selected=\\\"\" + (this.rangeCount ? 'true' : 'false') + \"\\\"\");\n        }\n        if (this.usingWrapper) {\n            wrapperStartTemplate =\n                \"<div ref=\\\"eCellWrapper\\\" class=\\\"ag-cell-wrapper\\\" role=\\\"presentation\\\">\\n                    <span ref=\\\"eCellValue\\\" role=\\\"presentation\\\" class=\\\"\" + CSS_CELL_VALUE + \"\\\" \" + unselectable + \">\";\n            wrapperEndTemplate = '</span></div>';\n        }\n        templateParts.push(\" style=\\\"width: \" + Number(width) + \"px; left: \" + Number(left) + \"px; \" + escapeString(stylesFromColDef) + \" \" + escapeString(stylesForRowSpanning) + \"\\\">\");\n        templateParts.push(wrapperStartTemplate);\n        if (exists(valueSanitised, true)) {\n            templateParts.push(valueSanitised);\n        }\n        templateParts.push(wrapperEndTemplate);\n        templateParts.push(\"</div>\");\n        return templateParts.join('');\n    };\n    CellComp.prototype.getStylesForRowSpanning = function () {\n        if (this.rowSpan === 1) {\n            return '';\n        }\n        var singleRowHeight = this.beans.gridOptionsWrapper.getRowHeightAsNumber();\n        var totalRowHeight = singleRowHeight * this.rowSpan;\n        return \"height: \" + totalRowHeight + \"px; z-index: 1;\";\n    };\n    CellComp.prototype.afterAttached = function () {\n        var querySelector = \"[comp-id=\\\"\" + this.getCompId() + \"\\\"]\";\n        var eGui = this.eParentRow.querySelector(querySelector);\n        this.setGui(eGui);\n        // all of these have dependencies on the eGui, so only do them after eGui is set\n        this.addDomData();\n        this.populateTemplate();\n        this.createCellRendererInstance(true);\n        this.angular1Compile();\n        this.refreshHandle();\n        if (exists(this.tooltip)) {\n            this.createTooltipFeatureIfNeeded();\n        }\n    };\n    CellComp.prototype.createTooltipFeatureIfNeeded = function () {\n        if (this.beans.gridOptionsWrapper.isEnableBrowserTooltips() ||\n            this.tooltipFeatureEnabled) {\n            return;\n        }\n        this.createManagedBean(new TooltipFeature(this, 'cell'), this.beans.context);\n        this.tooltipFeatureEnabled = true;\n    };\n    CellComp.prototype.onColumnHover = function () {\n        var isHovered = this.beans.columnHoverService.isHovered(this.column);\n        this.addOrRemoveCssClass(CSS_COLUMN_HOVER, isHovered);\n    };\n    CellComp.prototype.onCellChanged = function (event) {\n        var eventImpactsThisCell = event.column === this.column;\n        if (eventImpactsThisCell) {\n            this.refreshCell({});\n        }\n    };\n    CellComp.prototype.getCellLeft = function () {\n        var mostLeftCol;\n        if (this.beans.gridOptionsWrapper.isEnableRtl() && this.colsSpanning) {\n            mostLeftCol = last(this.colsSpanning);\n        }\n        else {\n            mostLeftCol = this.column;\n        }\n        return mostLeftCol.getLeft();\n    };\n    CellComp.prototype.getCellWidth = function () {\n        if (!this.colsSpanning) {\n            return this.column.getActualWidth();\n        }\n        return this.colsSpanning.reduce(function (width, col) { return width + col.getActualWidth(); }, 0);\n    };\n    CellComp.prototype.onFlashCells = function (event) {\n        var cellId = this.beans.cellPositionUtils.createId(this.cellPosition);\n        var shouldFlash = event.cells[cellId];\n        if (shouldFlash) {\n            this.animateCell('highlight');\n        }\n    };\n    CellComp.prototype.setupColSpan = function () {\n        // if no col span is active, then we don't set it up, as it would be wasteful of CPU\n        if (missing(this.getComponentHolder().colSpan)) {\n            return;\n        }\n        // because we are col spanning, a reorder of the cols can change what cols we are spanning over\n        this.addManagedListener(this.beans.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayColumnsChanged.bind(this));\n        // because we are spanning over multiple cols, we check for width any time any cols width changes.\n        // this is expensive - really we should be explicitly checking only the cols we are spanning over\n        // instead of every col, however it would be tricky code to track the cols we are spanning over, so\n        // because hardly anyone will be using colSpan, am favouring this easier way for more maintainable code.\n        this.addManagedListener(this.beans.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onWidthChanged.bind(this));\n        this.colsSpanning = this.getColSpanningList();\n    };\n    CellComp.prototype.getColSpanningList = function () {\n        var colSpan = this.column.getColSpan(this.rowNode);\n        var colsSpanning = [];\n        // if just one col, the col span is just the column we are in\n        if (colSpan === 1) {\n            colsSpanning.push(this.column);\n        }\n        else {\n            var pointer = this.column;\n            var pinned = this.column.getPinned();\n            for (var i = 0; pointer && i < colSpan; i++) {\n                colsSpanning.push(pointer);\n                pointer = this.beans.columnController.getDisplayedColAfter(pointer);\n                if (!pointer || missing(pointer)) {\n                    break;\n                }\n                // we do not allow col spanning to span outside of pinned areas\n                if (pinned !== pointer.getPinned()) {\n                    break;\n                }\n            }\n        }\n        return colsSpanning;\n    };\n    CellComp.prototype.onDisplayColumnsChanged = function () {\n        var colsSpanning = this.getColSpanningList();\n        if (!areEqual(this.colsSpanning, colsSpanning)) {\n            this.colsSpanning = colsSpanning;\n            this.onWidthChanged();\n            this.onLeftChanged(); // left changes when doing RTL\n        }\n    };\n    CellComp.prototype.refreshAriaIndex = function () {\n        var colIdx = this.beans.columnController.getAriaColumnIndex(this.column);\n        setAriaColIndex(this.getGui(), colIdx);\n    };\n    CellComp.prototype.getInitialCssClasses = function () {\n        var cssClasses = [CSS_CELL, CSS_NOT_INLINE_EDITING];\n        // if we are putting the cell into a dummy container, to work out it's height,\n        // then we don't put the height css in, as we want cell to fit height in that case.\n        if (!this.autoHeightCell) {\n            cssClasses.push(CSS_AUTO_HEIGHT);\n        }\n        var doingFocusCss = !this.beans.gridOptionsWrapper.isSuppressCellSelection();\n        if (doingFocusCss && this.cellFocused) {\n            // otherwise the class depends on the focus state\n            cssClasses.push(CSS_CELL_FOCUS);\n        }\n        if (this.firstRightPinned) {\n            cssClasses.push(CSS_FIRST_RIGHT_PINNED);\n        }\n        if (this.lastLeftPinned) {\n            cssClasses.push(CSS_LAST_LEFT_PINNED);\n        }\n        if (this.beans.columnHoverService.isHovered(this.column)) {\n            cssClasses.push(CSS_COLUMN_HOVER);\n        }\n        pushAll(cssClasses, this.preProcessClassesFromColDef());\n        pushAll(cssClasses, this.preProcessCellClassRules());\n        pushAll(cssClasses, this.getInitialRangeClasses());\n        // if using the wrapper, this class goes on the wrapper instead\n        if (!this.usingWrapper) {\n            cssClasses.push(CSS_CELL_VALUE);\n        }\n        if (this.column.getColDef().wrapText) {\n            cssClasses.push(CSS_CELL_WRAP_TEXT);\n        }\n        return cssClasses;\n    };\n    CellComp.prototype.getInitialValueToRender = function () {\n        // if using a cellRenderer, then render the html from the cell renderer if it exists\n        if (this.usingCellRenderer) {\n            if (typeof this.cellRendererGui === 'string') {\n                return this.cellRendererGui;\n            }\n            return '';\n        }\n        var colDef = this.getComponentHolder();\n        if (colDef.template) {\n            // template is really only used for angular 1 - as people using ng1 are used to providing templates with\n            // bindings in it. in ng2, people will hopefully want to provide components, not templates.\n            return colDef.template;\n        }\n        if (colDef.templateUrl) {\n            // likewise for templateUrl - it's for ng1 really - when we move away from ng1, we can take these out.\n            // niall was pro angular 1 when writing template and templateUrl, if writing from scratch now, would\n            // not do these, but would follow a pattern that was friendly towards components, not templates.\n            var template = this.beans.templateService.getTemplate(colDef.templateUrl, this.refreshCell.bind(this, true));\n            return template || '';\n        }\n        return this.getValueToUse();\n    };\n    CellComp.prototype.getRenderedRow = function () {\n        return this.rowComp;\n    };\n    CellComp.prototype.isSuppressNavigable = function () {\n        return this.column.isSuppressNavigable(this.rowNode);\n    };\n    CellComp.prototype.getCellRenderer = function () {\n        return this.cellRenderer;\n    };\n    CellComp.prototype.getCellEditor = function () {\n        return this.cellEditor;\n    };\n    // + stop editing {forceRefresh: true, suppressFlash: true}\n    // + event cellChanged {}\n    // + cellRenderer.params.refresh() {} -> method passes 'as is' to the cellRenderer, so params could be anything\n    // + rowComp: event dataChanged {animate: update, newData: !update}\n    // + rowComp: api refreshCells() {animate: true/false}\n    // + rowRenderer: api softRefreshView() {}\n    CellComp.prototype.refreshCell = function (params) {\n        // if we are in the middle of 'stopEditing', then we don't refresh here, as refresh gets called explicitly\n        if (this.suppressRefreshCell || this.editingCell) {\n            return;\n        }\n        var colDef = this.getComponentHolder();\n        var newData = params && params.newData;\n        var suppressFlash = (params && params.suppressFlash) || colDef.suppressCellFlash;\n        var forceRefresh = params && params.forceRefresh;\n        var oldValue = this.value;\n        // get latest value without invoking the value formatter as we may not be updating the cell\n        this.value = this.getValue();\n        // for simple values only (not objects), see if the value is the same, and if it is, skip the refresh.\n        // when never allow skipping after an edit, as after editing, we need to put the GUI back to the way\n        // if was before the edit.\n        var valuesDifferent = !this.valuesAreEqual(oldValue, this.value);\n        var dataNeedsUpdating = forceRefresh || valuesDifferent;\n        if (dataNeedsUpdating) {\n            // now invoke the value formatter as we are going to update cell\n            this.valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, this.value);\n            // if it's 'new data', then we don't refresh the cellRenderer, even if refresh method is available.\n            // this is because if the whole data is new (ie we are showing stock price 'BBA' now and not 'SSD')\n            // then we are not showing a movement in the stock price, rather we are showing different stock.\n            var cellRendererRefreshed = newData ? false : this.attemptCellRendererRefresh();\n            // we do the replace if not doing refresh, or if refresh was unsuccessful.\n            // the refresh can be unsuccessful if we are using a framework (eg ng2 or react) and the framework\n            // wrapper has the refresh method, but the underlying component doesn't\n            if (!cellRendererRefreshed) {\n                this.replaceContentsAfterRefresh();\n            }\n            // we don't want to flash the cells when processing a filter change, as otherwise the UI would\n            // be to busy. see comment in FilterManager with regards processingFilterChange\n            var processingFilterChange = this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();\n            var flashCell = !suppressFlash && !processingFilterChange &&\n                (this.beans.gridOptionsWrapper.isEnableCellChangeFlash() || colDef.enableCellChangeFlash);\n            if (flashCell) {\n                this.flashCell();\n            }\n            // need to check rules. note, we ignore colDef classes and styles, these are assumed to be static\n            this.postProcessStylesFromColDef();\n            this.postProcessClassesFromColDef();\n        }\n        // we can't readily determine if the data in an angularjs template has changed, so here we just update\n        // and recompile (if applicable)\n        this.updateAngular1ScopeAndCompile();\n        this.refreshToolTip();\n        // we do cellClassRules even if the value has not changed, so that users who have rules that\n        // look at other parts of the row (where the other part of the row might of changed) will work.\n        this.postProcessCellClassRules();\n    };\n    // user can also call this via API\n    CellComp.prototype.flashCell = function (delays) {\n        var flashDelay = delays && delays.flashDelay;\n        var fadeDelay = delays && delays.fadeDelay;\n        this.animateCell('data-changed', flashDelay, fadeDelay);\n    };\n    CellComp.prototype.animateCell = function (cssName, flashDelay, fadeDelay) {\n        var _this = this;\n        var fullName = \"ag-cell-\" + cssName;\n        var animationFullName = \"ag-cell-\" + cssName + \"-animation\";\n        var element = this.getGui();\n        var gridOptionsWrapper = this.beans.gridOptionsWrapper;\n        if (!flashDelay) {\n            flashDelay = gridOptionsWrapper.getCellFlashDelay();\n        }\n        if (!fadeDelay) {\n            fadeDelay = gridOptionsWrapper.getCellFadeDelay();\n        }\n        // we want to highlight the cells, without any animation\n        this.addCssClass(fullName);\n        this.removeCssClass(animationFullName);\n        // then once that is applied, we remove the highlight with animation\n        window.setTimeout(function () {\n            _this.removeCssClass(fullName);\n            _this.addCssClass(animationFullName);\n            element.style.transition = \"background-color \" + fadeDelay + \"ms\";\n            window.setTimeout(function () {\n                // and then to leave things as we got them, we remove the animation\n                _this.removeCssClass(animationFullName);\n                element.style.transition = null;\n            }, fadeDelay);\n        }, flashDelay);\n    };\n    CellComp.prototype.replaceContentsAfterRefresh = function () {\n        // otherwise we rip out the cell and replace it\n        clearElement(this.eCellValue);\n        // remove old renderer component if it exists\n        this.cellRenderer = this.beans.context.destroyBean(this.cellRenderer);\n        this.cellRendererGui = null;\n        // populate\n        this.putDataIntoCellAfterRefresh();\n        this.updateAngular1ScopeAndCompile();\n    };\n    CellComp.prototype.updateAngular1ScopeAndCompile = function () {\n        if (this.beans.gridOptionsWrapper.isAngularCompileRows() && this.scope) {\n            this.scope.data = __assign({}, this.rowNode.data);\n            this.angular1Compile();\n        }\n    };\n    CellComp.prototype.angular1Compile = function () {\n        // if angular compiling, then need to also compile the cell again (angular compiling sucks, please wait...)\n        if (this.beans.gridOptionsWrapper.isAngularCompileRows()) {\n            var eGui = this.getGui();\n            // only compile the node if it hasn't already been done\n            // this prevents \"orphaned\" node leaks\n            if (!eGui.classList.contains('ng-scope') || eGui.childElementCount === 0) {\n                var compiledElement_1 = this.beans.$compile(eGui)(this.scope);\n                this.addDestroyFunc(function () { return compiledElement_1.remove(); });\n            }\n        }\n    };\n    CellComp.prototype.postProcessStylesFromColDef = function () {\n        var stylesToUse = this.processStylesFromColDef();\n        if (stylesToUse) {\n            addStylesToElement(this.getGui(), stylesToUse);\n        }\n    };\n    CellComp.prototype.preProcessStylesFromColDef = function () {\n        return cssStyleObjectToMarkup(this.processStylesFromColDef());\n    };\n    CellComp.prototype.processStylesFromColDef = function () {\n        var colDef = this.getComponentHolder();\n        if (colDef.cellStyle) {\n            var cssToUse = void 0;\n            if (typeof colDef.cellStyle === 'function') {\n                var cellStyleParams = {\n                    value: this.value,\n                    data: this.rowNode.data,\n                    node: this.rowNode,\n                    colDef: colDef,\n                    column: this.column,\n                    $scope: this.scope,\n                    context: this.beans.gridOptionsWrapper.getContext(),\n                    api: this.beans.gridOptionsWrapper.getApi()\n                };\n                var cellStyleFunc = colDef.cellStyle;\n                cssToUse = cellStyleFunc(cellStyleParams);\n            }\n            else {\n                cssToUse = colDef.cellStyle;\n            }\n            return cssToUse;\n        }\n    };\n    CellComp.prototype.postProcessClassesFromColDef = function () {\n        var _this = this;\n        this.processClassesFromColDef(function (className) { return _this.addCssClass(className); });\n    };\n    CellComp.prototype.preProcessClassesFromColDef = function () {\n        var res = [];\n        this.processClassesFromColDef(function (className) { return res.push(className); });\n        return res;\n    };\n    CellComp.prototype.processClassesFromColDef = function (onApplicableClass) {\n        var colDef = this.getComponentHolder();\n        this.beans.stylingService.processStaticCellClasses(colDef, {\n            value: this.value,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: colDef,\n            rowIndex: this.rowNode.rowIndex,\n            $scope: this.scope,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        }, onApplicableClass);\n    };\n    CellComp.prototype.putDataIntoCellAfterRefresh = function () {\n        // template gets preference, then cellRenderer, then do it ourselves\n        var colDef = this.getComponentHolder();\n        if (colDef.template) {\n            // template is really only used for angular 1 - as people using ng1 are used to providing templates with\n            // bindings in it. in ng2, people will hopefully want to provide components, not templates.\n            this.eCellValue.innerHTML = colDef.template;\n        }\n        else if (colDef.templateUrl) {\n            // likewise for templateUrl - it's for ng1 really - when we move away from ng1, we can take these out.\n            // niall was pro angular 1 when writing template and templateUrl, if writing from scratch now, would\n            // not do these, but would follow a pattern that was friendly towards components, not templates.\n            var template = this.beans.templateService.getTemplate(colDef.templateUrl, this.refreshCell.bind(this, true));\n            if (template) {\n                this.eCellValue.innerHTML = template;\n            }\n        }\n        else {\n            // we can switch from using a cell renderer back to the default if a user\n            // is using cellRendererSelect\n            this.chooseCellRenderer();\n            if (this.usingCellRenderer) {\n                this.createCellRendererInstance();\n            }\n            else {\n                var valueToUse = this.getValueToUse();\n                if (valueToUse != null) {\n                    this.eCellValue.innerHTML = escapeString(valueToUse);\n                }\n            }\n        }\n    };\n    CellComp.prototype.attemptCellRendererRefresh = function () {\n        if (missing(this.cellRenderer) || !this.cellRenderer || missing(this.cellRenderer.refresh)) {\n            return false;\n        }\n        // if the cell renderer has a refresh method, we call this instead of doing a refresh\n        var params = this.createCellRendererParams();\n        // take any custom params off of the user\n        var finalParams = this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(), this.cellRendererType, params);\n        var result = this.cellRenderer.refresh(finalParams);\n        // NOTE on undefined: previous version of the cellRenderer.refresh() interface\n        // returned nothing, if the method existed, we assumed it refreshed. so for\n        // backwards compatibility, we assume if method exists and returns nothing,\n        // that it was successful.\n        return result === true || result === undefined;\n    };\n    CellComp.prototype.refreshToolTip = function () {\n        var newTooltip = this.getToolTip();\n        if (this.tooltip === newTooltip) {\n            return;\n        }\n        this.createTooltipFeatureIfNeeded();\n        var hasNewTooltip = exists(newTooltip);\n        if (hasNewTooltip && this.tooltip === newTooltip.toString()) {\n            return;\n        }\n        this.tooltip = newTooltip;\n        if (this.beans.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            if (hasNewTooltip) {\n                this.eCellValue.setAttribute('title', this.tooltip);\n            }\n            else {\n                this.eCellValue.removeAttribute('title');\n            }\n        }\n    };\n    CellComp.prototype.valuesAreEqual = function (val1, val2) {\n        // if the user provided an equals method, use that, otherwise do simple comparison\n        var colDef = this.getComponentHolder();\n        var equalsMethod = colDef ? colDef.equals : null;\n        return equalsMethod ? equalsMethod(val1, val2) : val1 === val2;\n    };\n    CellComp.prototype.getToolTip = function () {\n        var colDef = this.getComponentHolder();\n        var data = this.rowNode.data;\n        if (colDef.tooltipField && exists(data)) {\n            return getValueUsingField(data, colDef.tooltipField, this.column.isTooltipFieldContainsDots());\n        }\n        var valueGetter = colDef.tooltipValueGetter;\n        if (valueGetter) {\n            return valueGetter({\n                api: this.beans.gridOptionsWrapper.getApi(),\n                columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n                colDef: colDef,\n                column: this.getColumn(),\n                context: this.beans.gridOptionsWrapper.getContext(),\n                value: this.value,\n                valueFormatted: this.valueFormatted,\n                rowIndex: this.cellPosition.rowIndex,\n                node: this.rowNode,\n                data: this.rowNode.data\n            });\n        }\n        return null;\n    };\n    CellComp.prototype.getTooltipText = function (escape) {\n        if (escape === void 0) { escape = true; }\n        return escape ? escapeString(this.tooltip) : this.tooltip;\n    };\n    CellComp.prototype.processCellClassRules = function (onApplicableClass, onNotApplicableClass) {\n        var colDef = this.getComponentHolder();\n        this.beans.stylingService.processClassRules(colDef.cellClassRules, {\n            value: this.value,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: colDef,\n            rowIndex: this.cellPosition.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            $scope: this.scope,\n            context: this.beans.gridOptionsWrapper.getContext()\n        }, onApplicableClass, onNotApplicableClass);\n    };\n    CellComp.prototype.postProcessCellClassRules = function () {\n        var _this = this;\n        this.processCellClassRules(function (className) { return _this.addCssClass(className); }, function (className) { return _this.removeCssClass(className); });\n    };\n    CellComp.prototype.preProcessCellClassRules = function () {\n        var res = [];\n        this.processCellClassRules(function (className) { return res.push(className); }, function (_) {\n            // not catered for, if creating, no need\n            // to remove class as it was never there\n        });\n        return res;\n    };\n    // a wrapper is used when we are putting a selection checkbox in the cell with the value\n    CellComp.prototype.setUsingWrapper = function () {\n        var colDef = this.getComponentHolder();\n        // never allow selection or dragging on pinned rows\n        if (this.rowNode.rowPinned) {\n            this.usingWrapper = false;\n            this.includeSelectionComponent = false;\n            this.includeRowDraggingComponent = false;\n            this.includeDndSourceComponent = false;\n            return;\n        }\n        var cbSelectionIsFunc = typeof colDef.checkboxSelection === 'function';\n        var rowDraggableIsFunc = typeof colDef.rowDrag === 'function';\n        var dndSourceIsFunc = typeof colDef.dndSource === 'function';\n        this.includeSelectionComponent = cbSelectionIsFunc || colDef.checkboxSelection === true;\n        this.includeRowDraggingComponent = rowDraggableIsFunc || colDef.rowDrag === true;\n        this.includeDndSourceComponent = dndSourceIsFunc || colDef.dndSource === true;\n        var enableTextSelection = this.beans.gridOptionsWrapper.isEnableCellTextSelection();\n        this.usingWrapper = enableTextSelection || this.includeRowDraggingComponent || this.includeSelectionComponent || this.includeDndSourceComponent;\n    };\n    CellComp.prototype.chooseCellRenderer = function () {\n        // template gets preference, then cellRenderer, then do it ourselves\n        var colDef = this.getComponentHolder();\n        // templates are for ng1, ideally we wouldn't have these, they are ng1 support\n        // inside the core which is bad\n        if (colDef.template || colDef.templateUrl) {\n            this.usingCellRenderer = false;\n            return;\n        }\n        var params = this.createCellRendererParams();\n        var cellRenderer = this.beans.userComponentFactory.lookupComponentClassDef(colDef, 'cellRenderer', params);\n        var pinnedRowCellRenderer = this.beans.userComponentFactory.lookupComponentClassDef(colDef, 'pinnedRowCellRenderer', params);\n        if (pinnedRowCellRenderer && this.rowNode.rowPinned) {\n            this.cellRendererType = CellComp.CELL_RENDERER_TYPE_PINNED;\n            this.usingCellRenderer = true;\n        }\n        else if (cellRenderer) {\n            this.cellRendererType = CellComp.CELL_RENDERER_TYPE_NORMAL;\n            this.usingCellRenderer = true;\n        }\n        else {\n            this.usingCellRenderer = false;\n        }\n    };\n    CellComp.prototype.createCellRendererInstance = function (useTaskService) {\n        var _this = this;\n        if (useTaskService === void 0) { useTaskService = false; }\n        if (!this.usingCellRenderer) {\n            return;\n        }\n        // never use task service if angularCompileRows=true, as that assume the cell renderers\n        // are finished when the row is created. also we never use it if animation frame service\n        // is turned off.\n        // and lastly we never use it if doing auto-height, as the auto-height service checks the\n        // row height directly after the cell is created, it doesn't wait around for the tasks to complete\n        var angularCompileRows = this.beans.gridOptionsWrapper.isAngularCompileRows();\n        var suppressAnimationFrame = this.beans.gridOptionsWrapper.isSuppressAnimationFrame();\n        if (angularCompileRows || suppressAnimationFrame || this.autoHeightCell) {\n            useTaskService = false;\n        }\n        var params = this.createCellRendererParams();\n        this.cellRendererVersion++;\n        var callback = this.afterCellRendererCreated.bind(this, this.cellRendererVersion);\n        var cellRendererTypeNormal = this.cellRendererType === CellComp.CELL_RENDERER_TYPE_NORMAL;\n        this.createCellRendererFunc = function () {\n            _this.createCellRendererFunc = null;\n            // this can return null in the event that the user has switched from a renderer component to nothing, for example\n            // when using a cellRendererSelect to return a component or null depending on row data etc\n            var componentPromise = _this.beans.userComponentFactory.newCellRenderer(_this.getComponentHolder(), params, !cellRendererTypeNormal);\n            if (componentPromise) {\n                componentPromise.then(callback);\n            }\n        };\n        if (useTaskService) {\n            this.beans.taskQueue.createTask(this.createCellRendererFunc, this.rowNode.rowIndex, 'createTasksP2');\n        }\n        else {\n            this.createCellRendererFunc();\n        }\n    };\n    CellComp.prototype.afterCellRendererCreated = function (cellRendererVersion, cellRenderer) {\n        var cellRendererNotRequired = !this.isAlive() || (cellRendererVersion !== this.cellRendererVersion);\n        if (cellRendererNotRequired) {\n            this.beans.context.destroyBean(cellRenderer);\n            return;\n        }\n        this.cellRenderer = cellRenderer;\n        this.cellRendererGui = this.cellRenderer.getGui();\n        if (missing(this.cellRendererGui)) {\n            return;\n        }\n        // if async components, then it's possible the user started editing since this call was made\n        if (!this.editingCell) {\n            this.eCellValue.appendChild(this.cellRendererGui);\n        }\n    };\n    CellComp.prototype.createCellRendererParams = function () {\n        var _this = this;\n        return {\n            value: this.value,\n            valueFormatted: this.valueFormatted,\n            getValue: this.getValue.bind(this),\n            setValue: function (value) { return _this.beans.valueService.setValue(_this.rowNode, _this.column, value); },\n            formatValue: this.formatValue.bind(this),\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: this.getComponentHolder(),\n            column: this.column,\n            $scope: this.scope,\n            rowIndex: this.cellPosition.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            refreshCell: this.refreshCell.bind(this),\n            eGridCell: this.getGui(),\n            eParentOfValue: this.eCellValue,\n            // these bits are not documented anywhere, so we could drop them?\n            // it was in the olden days to allow user to register for when rendered\n            // row was removed (the row comp was removed), however now that the user\n            // can provide components for cells, the destroy method gets call when this\n            // happens so no longer need to fire event.\n            addRowCompListener: this.rowComp ? this.rowComp.addEventListener.bind(this.rowComp) : null,\n            addRenderedRowListener: function (eventType, listener) {\n                console.warn('ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()');\n                if (_this.rowComp) {\n                    _this.rowComp.addEventListener(eventType, listener);\n                }\n            }\n        };\n    };\n    CellComp.prototype.formatValue = function (value) {\n        var valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, value);\n        return valueFormatted != null ? valueFormatted : value;\n    };\n    CellComp.prototype.getValueToUse = function () {\n        return this.valueFormatted != null ? this.valueFormatted : this.value;\n    };\n    CellComp.prototype.getValueAndFormat = function () {\n        this.value = this.getValue();\n        this.valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, this.value);\n    };\n    CellComp.prototype.getValue = function () {\n        // if we don't check this, then the grid will render leaf groups as open even if we are not\n        // allowing the user to open leaf groups. confused? remember for pivot mode we don't allow\n        // opening leaf groups, so we have to force leafGroups to be closed in case the user expanded\n        // them via the API, or user user expanded them in the UI before turning on pivot mode\n        var lockedClosedGroup = this.rowNode.leafGroup && this.beans.columnController.isPivotMode();\n        var isOpenGroup = this.rowNode.group && this.rowNode.expanded && !this.rowNode.footer && !lockedClosedGroup;\n        // are we showing group footers\n        var groupFootersEnabled = this.beans.gridOptionsWrapper.isGroupIncludeFooter();\n        // if doing footers, we normally don't show agg data at group level when group is open\n        var groupAlwaysShowAggData = this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();\n        // if doing grouping and footers, we don't want to include the agg value\n        // in the header when the group is open\n        var ignoreAggData = (isOpenGroup && groupFootersEnabled) && !groupAlwaysShowAggData;\n        return this.beans.valueService.getValue(this.column, this.rowNode, false, ignoreAggData);\n    };\n    CellComp.prototype.onMouseEvent = function (eventName, mouseEvent) {\n        if (isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        switch (eventName) {\n            case 'click':\n                this.onCellClicked(mouseEvent);\n                break;\n            case 'mousedown':\n                this.onMouseDown(mouseEvent);\n                break;\n            case 'dblclick':\n                this.onCellDoubleClicked(mouseEvent);\n                break;\n            case 'mouseout':\n                this.onMouseOut(mouseEvent);\n                break;\n            case 'mouseover':\n                this.onMouseOver(mouseEvent);\n                break;\n        }\n    };\n    CellComp.prototype.dispatchCellContextMenuEvent = function (event) {\n        var colDef = this.getComponentHolder();\n        var cellContextMenuEvent = this.createEvent(event, Events.EVENT_CELL_CONTEXT_MENU);\n        this.beans.eventService.dispatchEvent(cellContextMenuEvent);\n        if (colDef.onCellContextMenu) {\n            // to make the callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellContextMenu(cellContextMenuEvent); }, 0);\n        }\n    };\n    CellComp.prototype.createEvent = function (domEvent, eventType) {\n        var event = {\n            node: this.rowNode,\n            data: this.rowNode.data,\n            value: this.value,\n            column: this.column,\n            colDef: this.getComponentHolder(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            api: this.beans.gridApi,\n            columnApi: this.beans.columnApi,\n            rowPinned: this.rowNode.rowPinned,\n            event: domEvent,\n            type: eventType,\n            rowIndex: this.rowNode.rowIndex\n        };\n        // because we are hacking in $scope for angular 1, we have to de-reference\n        if (this.scope) {\n            event.$scope = this.scope;\n        }\n        return event;\n    };\n    CellComp.prototype.onMouseOut = function (mouseEvent) {\n        var cellMouseOutEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OUT);\n        this.beans.eventService.dispatchEvent(cellMouseOutEvent);\n        this.beans.columnHoverService.clearMouseOver();\n    };\n    CellComp.prototype.onMouseOver = function (mouseEvent) {\n        var cellMouseOverEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OVER);\n        this.beans.eventService.dispatchEvent(cellMouseOverEvent);\n        this.beans.columnHoverService.setMouseOver([this.column]);\n    };\n    CellComp.prototype.onCellDoubleClicked = function (mouseEvent) {\n        var colDef = this.getComponentHolder();\n        // always dispatch event to eventService\n        var cellDoubleClickedEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_DOUBLE_CLICKED);\n        this.beans.eventService.dispatchEvent(cellDoubleClickedEvent);\n        // check if colDef also wants to handle event\n        if (typeof colDef.onCellDoubleClicked === 'function') {\n            // to make the callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellDoubleClicked(cellDoubleClickedEvent); }, 0);\n        }\n        var editOnDoubleClick = !this.beans.gridOptionsWrapper.isSingleClickEdit()\n            && !this.beans.gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnDoubleClick) {\n            this.startRowOrCellEdit();\n        }\n    };\n    // called by rowRenderer when user navigates via tab key\n    CellComp.prototype.startRowOrCellEdit = function (keyPress, charPress) {\n        if (this.beans.gridOptionsWrapper.isFullRowEdit()) {\n            this.rowComp.startRowEditing(keyPress, charPress, this);\n        }\n        else {\n            this.startEditingIfEnabled(keyPress, charPress, true);\n        }\n    };\n    CellComp.prototype.isCellEditable = function () {\n        return this.column.isCellEditable(this.rowNode);\n    };\n    // either called internally if single cell editing, or called by rowRenderer if row editing\n    CellComp.prototype.startEditingIfEnabled = function (keyPress, charPress, cellStartedEdit) {\n        if (keyPress === void 0) { keyPress = null; }\n        if (charPress === void 0) { charPress = null; }\n        if (cellStartedEdit === void 0) { cellStartedEdit = false; }\n        // don't do it if not editable\n        if (!this.isCellEditable()) {\n            return;\n        }\n        // don't do it if already editing\n        if (this.editingCell) {\n            return;\n        }\n        this.editingCell = true;\n        this.cellEditorVersion++;\n        var callback = this.afterCellEditorCreated.bind(this, this.cellEditorVersion);\n        var params = this.createCellEditorParams(keyPress, charPress, cellStartedEdit);\n        this.createCellEditor(params).then(callback);\n        // if we don't do this, and editor component is async, then there will be a period\n        // when the component isn't present and keyboard navigation won't work - so example\n        // of user hitting tab quickly (more quickly than renderers getting created) won't work\n        var cellEditorAsync = missing(this.cellEditor);\n        if (cellEditorAsync && cellStartedEdit) {\n            this.focusCell(true);\n        }\n    };\n    CellComp.prototype.createCellEditor = function (params) {\n        var _this = this;\n        var cellEditorPromise = this.beans.userComponentFactory.newCellEditor(this.column.getColDef(), params);\n        return cellEditorPromise.then(function (cellEditor) {\n            var isPopup = cellEditor.isPopup && cellEditor.isPopup();\n            if (!isPopup) {\n                return cellEditor;\n            }\n            if (_this.beans.gridOptionsWrapper.isFullRowEdit()) {\n                console.warn('ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both ' +\n                    '- either turn off fullRowEdit, or stop using popup editors.');\n            }\n            // if a popup, then we wrap in a popup editor and return the popup\n            var popupEditorWrapper = new PopupEditorWrapper(cellEditor);\n            _this.beans.context.createBean(popupEditorWrapper);\n            popupEditorWrapper.init(params);\n            return popupEditorWrapper;\n        });\n    };\n    CellComp.prototype.afterCellEditorCreated = function (cellEditorVersion, cellEditor) {\n        // if editingCell=false, means user cancelled the editor before component was ready.\n        // if versionMismatch, then user cancelled the edit, then started the edit again, and this\n        //   is the first editor which is now stale.\n        var versionMismatch = cellEditorVersion !== this.cellEditorVersion;\n        var cellEditorNotNeeded = versionMismatch || !this.editingCell;\n        if (cellEditorNotNeeded) {\n            this.beans.context.destroyBean(cellEditor);\n            return;\n        }\n        var editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n        if (editingCancelledByUserComp) {\n            this.beans.context.destroyBean(cellEditor);\n            this.editingCell = false;\n            return;\n        }\n        if (!cellEditor.getGui) {\n            console.warn(\"ag-Grid: cellEditor for column \" + this.column.getId() + \" is missing getGui() method\");\n            // no getGui, for React guys, see if they attached a react component directly\n            if (cellEditor.render) {\n                console.warn(\"ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?\");\n            }\n            this.beans.context.destroyBean(cellEditor);\n            this.editingCell = false;\n            return;\n        }\n        this.cellEditor = cellEditor;\n        this.cellEditorInPopup = cellEditor.isPopup !== undefined && cellEditor.isPopup();\n        this.setInlineEditingClass();\n        if (this.cellEditorInPopup) {\n            this.addPopupCellEditor();\n        }\n        else {\n            this.addInCellEditor();\n        }\n        if (cellEditor.afterGuiAttached) {\n            cellEditor.afterGuiAttached();\n        }\n        var event = this.createEvent(null, Events.EVENT_CELL_EDITING_STARTED);\n        this.beans.eventService.dispatchEvent(event);\n    };\n    CellComp.prototype.addInCellEditor = function () {\n        clearElement(this.getGui());\n        if (this.cellEditor) {\n            this.getGui().appendChild(this.cellEditor.getGui());\n        }\n        this.angular1Compile();\n    };\n    CellComp.prototype.addPopupCellEditor = function () {\n        var _this = this;\n        var ePopupGui = this.cellEditor ? this.cellEditor.getGui() : null;\n        var useModelPopup = this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();\n        this.hideEditorPopup = this.beans.popupService.addPopup({\n            modal: useModelPopup,\n            eChild: ePopupGui,\n            closeOnEsc: true,\n            closedCallback: function () { _this.onPopupEditorClosed(); }\n        });\n        var params = {\n            column: this.column,\n            rowNode: this.rowNode,\n            type: 'popupCellEditor',\n            eventSource: this.getGui(),\n            ePopup: ePopupGui,\n            keepWithinBounds: true\n        };\n        var position = this.cellEditor && this.cellEditor.getPopupPosition ? this.cellEditor.getPopupPosition() : 'over';\n        if (position === 'under') {\n            this.beans.popupService.positionPopupUnderComponent(params);\n        }\n        else {\n            this.beans.popupService.positionPopupOverComponent(params);\n        }\n        this.angular1Compile();\n    };\n    CellComp.prototype.onPopupEditorClosed = function () {\n        // we only call stopEditing if we are editing, as\n        // it's possible the popup called 'stop editing'\n        // before this, eg if 'enter key' was pressed on\n        // the editor.\n        if (this.editingCell) {\n            // note: this only happens when use clicks outside of the grid. if use clicks on another\n            // cell, then the editing will have already stopped on this cell\n            this.stopRowOrCellEdit();\n            // we only focus cell again if this cell is still focused. it is possible\n            // it is not focused if the user cancelled the edit by clicking on another\n            // cell outside of this one\n            if (this.beans.focusController.isCellFocused(this.cellPosition)) {\n                this.focusCell(true);\n            }\n        }\n    };\n    // if we are editing inline, then we don't have the padding in the cell (set in the themes)\n    // to allow the text editor full access to the entire cell\n    CellComp.prototype.setInlineEditingClass = function () {\n        if (!this.isAlive()) {\n            return;\n        }\n        // ag-cell-inline-editing - appears when user is inline editing\n        // ag-cell-not-inline-editing - appears when user is no inline editing\n        // ag-cell-popup-editing - appears when user is editing cell in popup (appears on the cell, not on the popup)\n        // note: one of {ag-cell-inline-editing, ag-cell-not-inline-editing} is always present, they toggle.\n        //       however {ag-cell-popup-editing} shows when popup, so you have both {ag-cell-popup-editing}\n        //       and {ag-cell-not-inline-editing} showing at the same time.\n        var editingInline = this.editingCell && !this.cellEditorInPopup;\n        var popupEditorShowing = this.editingCell && this.cellEditorInPopup;\n        this.addOrRemoveCssClass(CSS_INLINE_EDITING, editingInline);\n        this.addOrRemoveCssClass(CSS_NOT_INLINE_EDITING, !editingInline);\n        this.addOrRemoveCssClass(CSS_POPUP_EDITING, popupEditorShowing);\n        addOrRemoveCssClass(this.getGui().parentNode, \"ag-row-inline-editing\", editingInline);\n        addOrRemoveCssClass(this.getGui().parentNode, \"ag-row-not-inline-editing\", !editingInline);\n    };\n    CellComp.prototype.createCellEditorParams = function (keyPress, charPress, cellStartedEdit) {\n        return {\n            value: this.getValue(),\n            keyPress: keyPress,\n            charPress: charPress,\n            column: this.column,\n            colDef: this.column.getColDef(),\n            rowIndex: this.cellPosition.rowIndex,\n            node: this.rowNode,\n            data: this.rowNode.data,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            cellStartedEdit: cellStartedEdit,\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            $scope: this.scope,\n            onKeyDown: this.onKeyDown.bind(this),\n            stopEditing: this.stopEditingAndFocus.bind(this),\n            eGridCell: this.getGui(),\n            parseValue: this.parseValue.bind(this),\n            formatValue: this.formatValue.bind(this)\n        };\n    };\n    // cell editors call this, when they want to stop for reasons other\n    // than what we pick up on. eg selecting from a dropdown ends editing.\n    CellComp.prototype.stopEditingAndFocus = function (suppressNavigateAfterEdit) {\n        if (suppressNavigateAfterEdit === void 0) { suppressNavigateAfterEdit = false; }\n        this.stopRowOrCellEdit();\n        this.focusCell(true);\n        if (!suppressNavigateAfterEdit) {\n            this.navigateAfterEdit();\n        }\n    };\n    CellComp.prototype.parseValue = function (newValue) {\n        var colDef = this.getComponentHolder();\n        var params = {\n            node: this.rowNode,\n            data: this.rowNode.data,\n            oldValue: this.value,\n            newValue: newValue,\n            colDef: colDef,\n            column: this.column,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        };\n        var valueParser = colDef.valueParser;\n        return exists(valueParser) ? this.beans.expressionService.evaluate(valueParser, params) : newValue;\n    };\n    CellComp.prototype.focusCell = function (forceBrowserFocus) {\n        if (forceBrowserFocus === void 0) { forceBrowserFocus = false; }\n        this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex, this.column, this.rowNode.rowPinned, forceBrowserFocus);\n    };\n    CellComp.prototype.setFocusInOnEditor = function () {\n        if (this.editingCell) {\n            if (this.cellEditor && this.cellEditor.focusIn) {\n                // if the editor is present, then we just focus it\n                this.cellEditor.focusIn();\n            }\n            else {\n                // if the editor is not present, it means async cell editor (eg React fibre)\n                // and we are trying to set focus before the cell editor is present, so we\n                // focus the cell instead\n                this.focusCell(true);\n            }\n        }\n    };\n    CellComp.prototype.isEditing = function () {\n        return this.editingCell;\n    };\n    CellComp.prototype.onKeyDown = function (event) {\n        var key = event.which || event.keyCode;\n        switch (key) {\n            case KeyCode.ENTER:\n                this.onEnterKeyDown(event);\n                break;\n            case KeyCode.F2:\n                this.onF2KeyDown();\n                break;\n            case KeyCode.ESCAPE:\n                this.onEscapeKeyDown();\n                break;\n            case KeyCode.TAB:\n                this.onTabKeyDown(event);\n                break;\n            case KeyCode.BACKSPACE:\n            case KeyCode.DELETE:\n                this.onBackspaceOrDeleteKeyPressed(key);\n                break;\n            case KeyCode.DOWN:\n            case KeyCode.UP:\n            case KeyCode.RIGHT:\n            case KeyCode.LEFT:\n                this.onNavigationKeyPressed(event, key);\n                break;\n        }\n    };\n    CellComp.prototype.setFocusOutOnEditor = function () {\n        if (this.editingCell && this.cellEditor && this.cellEditor.focusOut) {\n            this.cellEditor.focusOut();\n        }\n    };\n    CellComp.prototype.onNavigationKeyPressed = function (event, key) {\n        if (this.editingCell) {\n            return;\n        }\n        if (event.shiftKey && this.rangeSelectionEnabled) {\n            this.onShiftRangeSelect(key);\n        }\n        else {\n            this.beans.rowRenderer.navigateToNextCell(event, key, this.cellPosition, true);\n        }\n        // if we don't prevent default, the grid will scroll with the navigation keys\n        event.preventDefault();\n    };\n    CellComp.prototype.onShiftRangeSelect = function (key) {\n        if (!this.beans.rangeController) {\n            return;\n        }\n        var endCell = this.beans.rangeController.extendLatestRangeInDirection(key);\n        if (endCell) {\n            this.beans.rowRenderer.ensureCellVisible(endCell);\n        }\n    };\n    CellComp.prototype.onTabKeyDown = function (event) {\n        this.beans.rowRenderer.onTabKeyDown(this, event);\n    };\n    CellComp.prototype.onBackspaceOrDeleteKeyPressed = function (key) {\n        if (!this.editingCell) {\n            this.startRowOrCellEdit(key);\n        }\n    };\n    CellComp.prototype.onEnterKeyDown = function (e) {\n        if (this.editingCell || this.rowComp.isEditing()) {\n            this.stopEditingAndFocus();\n        }\n        else {\n            if (this.beans.gridOptionsWrapper.isEnterMovesDown()) {\n                this.beans.rowRenderer.navigateToNextCell(null, KeyCode.DOWN, this.cellPosition, false);\n            }\n            else {\n                this.startRowOrCellEdit(KeyCode.ENTER);\n                if (this.editingCell) {\n                    // if we started editing, then we need to prevent default, otherwise the Enter action can get\n                    // applied to the cell editor. this happened, for example, with largeTextCellEditor where not\n                    // preventing default results in a 'new line' character getting inserted in the text area\n                    // when the editing was started\n                    e.preventDefault();\n                }\n            }\n        }\n    };\n    CellComp.prototype.navigateAfterEdit = function () {\n        var fullRowEdit = this.beans.gridOptionsWrapper.isFullRowEdit();\n        if (fullRowEdit) {\n            return;\n        }\n        var enterMovesDownAfterEdit = this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();\n        if (enterMovesDownAfterEdit) {\n            this.beans.rowRenderer.navigateToNextCell(null, KeyCode.DOWN, this.cellPosition, false);\n        }\n    };\n    CellComp.prototype.onF2KeyDown = function () {\n        if (!this.editingCell) {\n            this.startRowOrCellEdit(KeyCode.F2);\n        }\n    };\n    CellComp.prototype.onEscapeKeyDown = function () {\n        if (this.editingCell) {\n            this.stopRowOrCellEdit(true);\n            this.focusCell(true);\n        }\n    };\n    CellComp.prototype.onKeyPress = function (event) {\n        // check this, in case focus is on a (for example) a text field inside the cell,\n        // in which cse we should not be listening for these key pressed\n        var eventTarget = getTarget(event);\n        var eventOnChildComponent = eventTarget !== this.getGui();\n        if (eventOnChildComponent || this.editingCell) {\n            return;\n        }\n        var pressedChar = String.fromCharCode(event.charCode);\n        if (pressedChar === ' ') {\n            this.onSpaceKeyPressed(event);\n        }\n        else if (isEventFromPrintableCharacter(event)) {\n            this.startRowOrCellEdit(null, pressedChar);\n            // if we don't prevent default, then the keypress also gets applied to the text field\n            // (at least when doing the default editor), but we need to allow the editor to decide\n            // what it wants to do. we only do this IF editing was started - otherwise it messes\n            // up when the use is not doing editing, but using rendering with text fields in cellRenderer\n            // (as it would block the the user from typing into text fields).\n            event.preventDefault();\n        }\n    };\n    CellComp.prototype.onSpaceKeyPressed = function (event) {\n        var gridOptionsWrapper = this.beans.gridOptionsWrapper;\n        if (!this.editingCell && gridOptionsWrapper.isRowSelection()) {\n            var newSelection = !this.rowNode.isSelected();\n            if (newSelection || !gridOptionsWrapper.isSuppressRowDeselection()) {\n                this.rowNode.setSelected(newSelection);\n            }\n        }\n        // prevent default as space key, by default, moves browser scroll down\n        event.preventDefault();\n    };\n    CellComp.prototype.onMouseDown = function (mouseEvent) {\n        var ctrlKey = mouseEvent.ctrlKey, metaKey = mouseEvent.metaKey, shiftKey = mouseEvent.shiftKey;\n        var target = mouseEvent.target;\n        var _a = this.beans, eventService = _a.eventService, rangeController = _a.rangeController;\n        // do not change the range for right-clicks inside an existing range\n        if (this.isRightClickInExistingRange(mouseEvent)) {\n            return;\n        }\n        if (!shiftKey || (rangeController && !rangeController.getCellRanges().length)) {\n            // We only need to pass true to focusCell when the browser is IE/Edge and we are trying\n            // to focus the cell itself. This should never be true if the mousedown was triggered\n            // due to a click on a cell editor for example.\n            var forceBrowserFocus = (isBrowserIE() || isBrowserEdge()) && !this.editingCell;\n            this.focusCell(forceBrowserFocus);\n        }\n        else {\n            // if a range is being changed, we need to make sure the focused cell does not change.\n            mouseEvent.preventDefault();\n        }\n        // if we are clicking on a checkbox, we need to make sure the cell wrapping that checkbox\n        // is focused but we don't want to change the range selection, so return here.\n        if (this.containsWidget(target)) {\n            return;\n        }\n        if (rangeController) {\n            var thisCell = this.cellPosition;\n            if (shiftKey) {\n                rangeController.extendLatestRangeToCell(thisCell);\n            }\n            else {\n                var ctrlKeyPressed = ctrlKey || metaKey;\n                rangeController.setRangeToCell(thisCell, ctrlKeyPressed);\n            }\n        }\n        eventService.dispatchEvent(this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_DOWN));\n    };\n    CellComp.prototype.isRightClickInExistingRange = function (mouseEvent) {\n        var rangeController = this.beans.rangeController;\n        if (rangeController) {\n            var cellInRange = rangeController.isCellInAnyRange(this.getCellPosition());\n            if (cellInRange && mouseEvent.button === 2) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CellComp.prototype.containsWidget = function (target) {\n        return isElementChildOfClass(target, 'ag-selection-checkbox', 3);\n    };\n    // returns true if on iPad and this is second 'click' event in 200ms\n    CellComp.prototype.isDoubleClickOnIPad = function () {\n        if (!isIOSUserAgent() || isEventSupported('dblclick')) {\n            return false;\n        }\n        var nowMillis = new Date().getTime();\n        var res = nowMillis - this.lastIPadMouseClickEvent < 200;\n        this.lastIPadMouseClickEvent = nowMillis;\n        return res;\n    };\n    CellComp.prototype.onCellClicked = function (mouseEvent) {\n        // iPad doesn't have double click - so we need to mimic it to enable editing for iPad.\n        if (this.isDoubleClickOnIPad()) {\n            this.onCellDoubleClicked(mouseEvent);\n            mouseEvent.preventDefault(); // if we don't do this, then iPad zooms in\n            return;\n        }\n        var _a = this.beans, eventService = _a.eventService, gridOptionsWrapper = _a.gridOptionsWrapper;\n        var cellClickedEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_CLICKED);\n        eventService.dispatchEvent(cellClickedEvent);\n        var colDef = this.getComponentHolder();\n        if (colDef.onCellClicked) {\n            // to make callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellClicked(cellClickedEvent); }, 0);\n        }\n        var editOnSingleClick = (gridOptionsWrapper.isSingleClickEdit() || colDef.singleClickEdit)\n            && !gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnSingleClick) {\n            this.startRowOrCellEdit();\n        }\n    };\n    CellComp.prototype.createGridCellVo = function () {\n        this.cellPosition = {\n            rowIndex: this.rowNode.rowIndex,\n            rowPinned: this.rowNode.rowPinned,\n            column: this.column\n        };\n    };\n    CellComp.prototype.getCellPosition = function () {\n        return this.cellPosition;\n    };\n    CellComp.prototype.getParentRow = function () {\n        return this.eParentRow;\n    };\n    CellComp.prototype.setParentRow = function (eParentRow) {\n        this.eParentRow = eParentRow;\n    };\n    CellComp.prototype.getColumn = function () {\n        return this.column;\n    };\n    CellComp.prototype.getComponentHolder = function () {\n        return this.column.getColDef();\n    };\n    CellComp.prototype.detach = function () {\n        this.eParentRow.removeChild(this.getGui());\n    };\n    // if the row is also getting destroyed, then we don't need to remove from dom,\n    // as the row will also get removed, so no need to take out the cells from the row\n    // if the row is going (removing is an expensive operation, so only need to remove\n    // the top part)\n    //\n    // note - this is NOT called by context, as we don't wire / unwire the CellComp for performance reasons.\n    CellComp.prototype.destroy = function () {\n        if (this.createCellRendererFunc) {\n            this.beans.taskQueue.cancelTask(this.createCellRendererFunc);\n        }\n        this.stopEditing();\n        this.cellRenderer = this.beans.context.destroyBean(this.cellRenderer);\n        this.beans.context.destroyBean(this.selectionHandle);\n        _super.prototype.destroy.call(this);\n    };\n    CellComp.prototype.onLeftChanged = function () {\n        var left = this.modifyLeftForPrintLayout(this.getCellLeft());\n        this.getGui().style.left = left + 'px';\n        this.refreshAriaIndex();\n    };\n    CellComp.prototype.modifyLeftForPrintLayout = function (leftPosition) {\n        if (!this.printLayout || this.column.getPinned() === Constants.PINNED_LEFT) {\n            return leftPosition;\n        }\n        if (this.column.getPinned() === Constants.PINNED_RIGHT) {\n            var leftWidth_1 = this.beans.columnController.getPinnedLeftContainerWidth();\n            var bodyWidth = this.beans.columnController.getBodyContainerWidth();\n            return leftWidth_1 + bodyWidth + leftPosition;\n        }\n        // is in body\n        var leftWidth = this.beans.columnController.getPinnedLeftContainerWidth();\n        return leftWidth + leftPosition;\n    };\n    CellComp.prototype.onWidthChanged = function () {\n        var width = this.getCellWidth();\n        this.getGui().style.width = width + 'px';\n    };\n    CellComp.prototype.getRangeBorders = function () {\n        var _this = this;\n        var isRtl = this.beans.gridOptionsWrapper.isEnableRtl();\n        var top = false;\n        var right = false;\n        var bottom = false;\n        var left = false;\n        var thisCol = this.cellPosition.column;\n        var _a = this.beans, rangeController = _a.rangeController, columnController = _a.columnController;\n        var leftCol;\n        var rightCol;\n        if (isRtl) {\n            leftCol = columnController.getDisplayedColAfter(thisCol);\n            rightCol = columnController.getDisplayedColBefore(thisCol);\n        }\n        else {\n            leftCol = columnController.getDisplayedColBefore(thisCol);\n            rightCol = columnController.getDisplayedColAfter(thisCol);\n        }\n        var ranges = rangeController.getCellRanges().filter(function (range) { return rangeController.isCellInSpecificRange(_this.cellPosition, range); });\n        // this means we are the first column in the grid\n        if (!leftCol) {\n            left = true;\n        }\n        // this means we are the last column in the grid\n        if (!rightCol) {\n            right = true;\n        }\n        for (var i = 0; i < ranges.length; i++) {\n            if (top && right && bottom && left) {\n                break;\n            }\n            var range = ranges[i];\n            var startRow = rangeController.getRangeStartRow(range);\n            var endRow = rangeController.getRangeEndRow(range);\n            if (!top && this.beans.rowPositionUtils.sameRow(startRow, this.cellPosition)) {\n                top = true;\n            }\n            if (!bottom && this.beans.rowPositionUtils.sameRow(endRow, this.cellPosition)) {\n                bottom = true;\n            }\n            if (!left && range.columns.indexOf(leftCol) < 0) {\n                left = true;\n            }\n            if (!right && range.columns.indexOf(rightCol) < 0) {\n                right = true;\n            }\n        }\n        return { top: top, right: right, bottom: bottom, left: left };\n    };\n    CellComp.prototype.getInitialRangeClasses = function () {\n        var classes = [];\n        if (!this.rangeSelectionEnabled || !this.rangeCount) {\n            return classes;\n        }\n        classes.push(CSS_RANGE_SELECTED);\n        if (this.hasChartRange) {\n            classes.push(CSS_RANGE_CHART);\n        }\n        var count = Math.min(this.rangeCount, 4);\n        classes.push(CSS_RANGE_SELECTED + \"-\" + count);\n        if (this.isSingleCell()) {\n            classes.push(CSS_RANGE_SINGLE_CELL);\n        }\n        if (this.rangeCount > 0) {\n            var borders = this.getRangeBorders();\n            if (borders.top) {\n                classes.push(CSS_RANGE_TOP);\n            }\n            if (borders.right) {\n                classes.push(CSS_RANGE_RIGHT);\n            }\n            if (borders.bottom) {\n                classes.push(CSS_RANGE_BOTTOM);\n            }\n            if (borders.left) {\n                classes.push(CSS_RANGE_LEFT);\n            }\n        }\n        if (!!this.selectionHandle) {\n            classes.push(CSS_RANGE_HANDLE);\n        }\n        return classes;\n    };\n    CellComp.prototype.onRowIndexChanged = function () {\n        // when index changes, this influences items that need the index, so we update the\n        // grid cell so they are working off the new index.\n        this.createGridCellVo();\n        // when the index of the row changes, ie means the cell may have lost or gained focus\n        this.onCellFocused();\n        // check range selection\n        this.onRangeSelectionChanged();\n    };\n    CellComp.prototype.onRangeSelectionChanged = function () {\n        var rangeController = this.beans.rangeController;\n        if (!rangeController) {\n            return;\n        }\n        var _a = this, cellPosition = _a.cellPosition, rangeCount = _a.rangeCount;\n        var newRangeCount = rangeController.getCellRangeCount(cellPosition);\n        var element = this.getGui();\n        if (rangeCount !== newRangeCount) {\n            this.addOrRemoveCssClass(CSS_RANGE_SELECTED, newRangeCount !== 0);\n            this.addOrRemoveCssClass(CSS_RANGE_SELECTED + \"-1\", newRangeCount === 1);\n            this.addOrRemoveCssClass(CSS_RANGE_SELECTED + \"-2\", newRangeCount === 2);\n            this.addOrRemoveCssClass(CSS_RANGE_SELECTED + \"-3\", newRangeCount === 3);\n            this.addOrRemoveCssClass(CSS_RANGE_SELECTED + \"-4\", newRangeCount >= 4);\n            this.rangeCount = newRangeCount;\n        }\n        setAriaSelected(element, this.rangeCount > 0);\n        var hasChartRange = this.getHasChartRange();\n        if (hasChartRange !== this.hasChartRange) {\n            this.hasChartRange = hasChartRange;\n            this.addOrRemoveCssClass(CSS_RANGE_CHART, this.hasChartRange);\n        }\n        this.updateRangeBorders();\n        this.addOrRemoveCssClass(CSS_RANGE_SINGLE_CELL, this.isSingleCell());\n        this.refreshHandle();\n    };\n    CellComp.prototype.getHasChartRange = function () {\n        var rangeController = this.beans.rangeController;\n        if (!this.rangeCount || !rangeController) {\n            return false;\n        }\n        var cellRanges = rangeController.getCellRanges();\n        return cellRanges.length > 0 && cellRanges.every(function (range) { return includes([CellRangeType.DIMENSION, CellRangeType.VALUE], range.type); });\n    };\n    CellComp.prototype.shouldHaveSelectionHandle = function () {\n        var _a = this.beans, gridOptionsWrapper = _a.gridOptionsWrapper, rangeController = _a.rangeController;\n        var cellRanges = rangeController.getCellRanges();\n        var rangesLen = cellRanges.length;\n        if (this.rangeCount < 1 || rangesLen < 1) {\n            return false;\n        }\n        var cellRange = last(cellRanges);\n        var cellPosition = this.getCellPosition();\n        var fillHandleIsAvailable = rangesLen === 1 &&\n            (gridOptionsWrapper.isEnableFillHandle() || gridOptionsWrapper.isEnableRangeHandle()) &&\n            !this.editingCell;\n        if (this.hasChartRange) {\n            var hasCategoryRange = cellRanges[0].type === CellRangeType.DIMENSION;\n            var isCategoryCell = hasCategoryRange && rangeController.isCellInSpecificRange(cellPosition, cellRanges[0]);\n            this.addOrRemoveCssClass(CSS_RANGE_CHART_CATEGORY, isCategoryCell);\n            fillHandleIsAvailable = cellRange.type === CellRangeType.VALUE;\n        }\n        return fillHandleIsAvailable &&\n            cellRange.endRow != null &&\n            rangeController.isContiguousRange(cellRange) &&\n            rangeController.isBottomRightCell(cellRange, cellPosition);\n    };\n    CellComp.prototype.addSelectionHandle = function () {\n        var _a = this.beans, gridOptionsWrapper = _a.gridOptionsWrapper, context = _a.context, rangeController = _a.rangeController;\n        var cellRangeType = last(rangeController.getCellRanges()).type;\n        var selectionHandleFill = gridOptionsWrapper.isEnableFillHandle() && missing(cellRangeType);\n        var type = selectionHandleFill ? SelectionHandleType.FILL : SelectionHandleType.RANGE;\n        if (this.selectionHandle && this.selectionHandle.getType() !== type) {\n            this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle);\n        }\n        if (!this.selectionHandle) {\n            this.selectionHandle = this.beans.selectionHandleFactory.createSelectionHandle(type);\n        }\n        this.selectionHandle.refresh(this);\n    };\n    CellComp.prototype.updateRangeBordersIfRangeCount = function () {\n        // we only need to update range borders if we are in a range\n        if (this.rangeCount > 0) {\n            this.updateRangeBorders();\n            this.refreshHandle();\n        }\n    };\n    CellComp.prototype.refreshHandle = function () {\n        if (!this.beans.rangeController) {\n            return;\n        }\n        var shouldHaveSelectionHandle = this.shouldHaveSelectionHandle();\n        if (this.selectionHandle && !shouldHaveSelectionHandle) {\n            this.selectionHandle = this.beans.context.destroyBean(this.selectionHandle);\n        }\n        if (shouldHaveSelectionHandle) {\n            this.addSelectionHandle();\n        }\n        this.addOrRemoveCssClass(CSS_RANGE_HANDLE, !!this.selectionHandle);\n    };\n    CellComp.prototype.updateRangeBorders = function () {\n        var rangeBorders = this.getRangeBorders();\n        var isSingleCell = this.isSingleCell();\n        var isTop = !isSingleCell && rangeBorders.top;\n        var isRight = !isSingleCell && rangeBorders.right;\n        var isBottom = !isSingleCell && rangeBorders.bottom;\n        var isLeft = !isSingleCell && rangeBorders.left;\n        this.addOrRemoveCssClass(CSS_RANGE_TOP, isTop);\n        this.addOrRemoveCssClass(CSS_RANGE_RIGHT, isRight);\n        this.addOrRemoveCssClass(CSS_RANGE_BOTTOM, isBottom);\n        this.addOrRemoveCssClass(CSS_RANGE_LEFT, isLeft);\n    };\n    CellComp.prototype.onFirstRightPinnedChanged = function () {\n        var firstRightPinned = this.column.isFirstRightPinned();\n        if (this.firstRightPinned !== firstRightPinned) {\n            this.firstRightPinned = firstRightPinned;\n            this.addOrRemoveCssClass(CSS_FIRST_RIGHT_PINNED, firstRightPinned);\n        }\n    };\n    CellComp.prototype.onLastLeftPinnedChanged = function () {\n        var lastLeftPinned = this.column.isLastLeftPinned();\n        if (this.lastLeftPinned !== lastLeftPinned) {\n            this.lastLeftPinned = lastLeftPinned;\n            this.addOrRemoveCssClass(CSS_LAST_LEFT_PINNED, lastLeftPinned);\n        }\n    };\n    CellComp.prototype.populateTemplate = function () {\n        if (this.usingWrapper) {\n            this.eCellValue = this.getRefElement('eCellValue');\n            this.eCellWrapper = this.getRefElement('eCellWrapper');\n            if (this.includeRowDraggingComponent) {\n                this.addRowDragging();\n            }\n            if (this.includeDndSourceComponent) {\n                this.addDndSource();\n            }\n            if (this.includeSelectionComponent) {\n                this.addSelectionCheckbox();\n            }\n        }\n        else {\n            this.eCellValue = this.getGui();\n        }\n    };\n    CellComp.prototype.getFrameworkOverrides = function () {\n        return this.beans.frameworkOverrides;\n    };\n    CellComp.prototype.addRowDragging = function () {\n        var pagination = this.beans.gridOptionsWrapper.isPagination();\n        var rowDragManaged = this.beans.gridOptionsWrapper.isRowDragManaged();\n        var clientSideRowModelActive = this.beans.gridOptionsWrapper.isRowModelDefault();\n        if (rowDragManaged) {\n            // row dragging only available in default row model\n            if (!clientSideRowModelActive) {\n                doOnce(function () { return console.warn('ag-Grid: managed row dragging is only allowed in the Client Side Row Model'); }, 'CellComp.addRowDragging');\n                return;\n            }\n            if (pagination) {\n                doOnce(function () { return console.warn('ag-Grid: managed row dragging is not possible when doing pagination'); }, 'CellComp.addRowDragging');\n                return;\n            }\n        }\n        var rowDraggingComp = new RowDragComp(this.rowNode, this.column, this.getValueToUse(), this.beans);\n        this.createManagedBean(rowDraggingComp, this.beans.context);\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(rowDraggingComp.getGui(), this.eCellValue);\n    };\n    CellComp.prototype.addDndSource = function () {\n        var dndSourceComp = new DndSourceComp(this.rowNode, this.column, this.getValueToUse(), this.beans, this.getGui());\n        this.createManagedBean(dndSourceComp, this.beans.context);\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(dndSourceComp.getGui(), this.eCellValue);\n    };\n    CellComp.prototype.addSelectionCheckbox = function () {\n        var _this = this;\n        var cbSelectionComponent = new CheckboxSelectionComponent();\n        this.beans.context.createBean(cbSelectionComponent);\n        var visibleFunc = this.getComponentHolder().checkboxSelection;\n        visibleFunc = typeof visibleFunc === 'function' ? visibleFunc : null;\n        cbSelectionComponent.init({ rowNode: this.rowNode, column: this.column, visibleFunc: visibleFunc });\n        this.addDestroyFunc(function () { return _this.beans.context.destroyBean(cbSelectionComponent); });\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(cbSelectionComponent.getGui(), this.eCellValue);\n    };\n    CellComp.prototype.addDomData = function () {\n        var _this = this;\n        var element = this.getGui();\n        this.beans.gridOptionsWrapper.setDomData(element, CellComp.DOM_DATA_KEY_CELL_COMP, this);\n        this.addDestroyFunc(function () { return _this.beans.gridOptionsWrapper.setDomData(element, CellComp.DOM_DATA_KEY_CELL_COMP, null); });\n    };\n    CellComp.prototype.isSingleCell = function () {\n        var rangeController = this.beans.rangeController;\n        return this.rangeCount === 1 && rangeController && !rangeController.isMoreThanOneCell();\n    };\n    CellComp.prototype.onCellFocused = function (event) {\n        var cellFocused = this.beans.focusController.isCellFocused(this.cellPosition);\n        // see if we need to change the classes on this cell\n        if (cellFocused !== this.cellFocused) {\n            // if we are not doing cell selection, then the focus class does not change\n            var doingFocusCss = !this.beans.gridOptionsWrapper.isSuppressCellSelection();\n            if (doingFocusCss) {\n                this.addOrRemoveCssClass(CSS_CELL_FOCUS, cellFocused);\n            }\n            this.cellFocused = cellFocused;\n        }\n        // see if we need to force browser focus - this can happen if focus is programmatically set\n        if (cellFocused && event && event.forceBrowserFocus) {\n            var focusEl = this.getFocusableElement();\n            focusEl.focus();\n            // Fix for AG-3465 \"IE11 - After editing cell's content, selection doesn't go one cell below on enter\"\n            // IE can fail to focus the cell after the first call to focus(), and needs a second call\n            if (!document.activeElement || document.activeElement === document.body) {\n                focusEl.focus();\n            }\n        }\n        // if another cell was focused, and we are editing, then stop editing\n        var fullRowEdit = this.beans.gridOptionsWrapper.isFullRowEdit();\n        if (!cellFocused && !fullRowEdit && this.editingCell) {\n            this.stopRowOrCellEdit();\n        }\n    };\n    // pass in 'true' to cancel the editing.\n    CellComp.prototype.stopRowOrCellEdit = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        if (this.beans.gridOptionsWrapper.isFullRowEdit()) {\n            this.rowComp.stopRowEditing(cancel);\n        }\n        else {\n            this.stopEditing(cancel);\n        }\n    };\n    CellComp.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        if (!this.editingCell) {\n            return;\n        }\n        // if no cell editor, this means due to async, that the cell editor never got initialised,\n        // so we just carry on regardless as if the editing was never started.\n        if (!this.cellEditor) {\n            this.editingCell = false;\n            return;\n        }\n        var oldValue = this.getValue();\n        var newValueExists = false;\n        var newValue;\n        if (!cancel) {\n            // also have another option here to cancel after editing, so for example user could have a popup editor and\n            // it is closed by user clicking outside the editor. then the editor will close automatically (with false\n            // passed above) and we need to see if the editor wants to accept the new value.\n            var userWantsToCancel = this.cellEditor.isCancelAfterEnd && this.cellEditor.isCancelAfterEnd();\n            if (!userWantsToCancel) {\n                newValue = this.cellEditor.getValue();\n                newValueExists = true;\n            }\n        }\n        // it is important we set this after setValue() above, as otherwise the cell will flash\n        // when editing stops. the 'refresh' method checks editing, and doesn't refresh editing cells.\n        // thus it will skip the refresh on this cell until the end of this method where we call\n        // refresh directly and we suppress the flash.\n        this.editingCell = false;\n        // important to clear this out - as parts of the code will check for\n        // this to see if an async cellEditor has yet to be created\n        this.cellEditor = this.beans.context.destroyBean(this.cellEditor);\n        this.cellEditor = null;\n        if (this.cellEditorInPopup && this.hideEditorPopup) {\n            this.hideEditorPopup();\n            this.hideEditorPopup = null;\n        }\n        else {\n            clearElement(this.getGui());\n            // put the cell back the way it was before editing\n            if (this.usingWrapper) {\n                // if wrapper, then put the wrapper back\n                this.getGui().appendChild(this.eCellWrapper);\n            }\n            else if (this.cellRenderer) {\n                // if cellRenderer, then put the gui back in. if the renderer has\n                // a refresh, it will be called. however if it doesn't, then later\n                // the renderer will be destroyed and a new one will be created.\n                // we know it's a dom element (not a string) because we converted\n                // it after the gui was attached if it was a string.\n                var eCell = this.cellRendererGui;\n                // can be null if cell was previously null / contained empty string,\n                // this will result in new value not being rendered.\n                if (eCell) {\n                    this.getGui().appendChild(eCell);\n                }\n            }\n        }\n        this.setInlineEditingClass();\n        this.refreshHandle();\n        if (newValueExists && newValue !== oldValue) {\n            // we suppressRefreshCell because the call to rowNode.setDataValue() results in change detection\n            // getting triggered, which results in all cells getting refreshed. we do not want this refresh\n            // to happen on this call as we want to call it explicitly below. otherwise refresh gets called twice.\n            // if we only did this refresh (and not the one below) then the cell would flash and not be forced.\n            this.suppressRefreshCell = true;\n            this.rowNode.setDataValue(this.column, newValue);\n            this.suppressRefreshCell = false;\n        }\n        // we suppress the flash, as it is not correct to flash the cell the user has finished editing,\n        // the user doesn't need to flash as they were the one who did the edit, the flash is pointless\n        // (as the flash is meant to draw the user to a change that they didn't manually do themselves).\n        this.refreshCell({ forceRefresh: true, suppressFlash: true });\n        var editingStoppedEvent = __assign(__assign({}, this.createEvent(null, Events.EVENT_CELL_EDITING_STOPPED)), { oldValue: oldValue,\n            newValue: newValue });\n        this.beans.eventService.dispatchEvent(editingStoppedEvent);\n    };\n    CellComp.DOM_DATA_KEY_CELL_COMP = 'cellComp';\n    CellComp.CELL_RENDERER_TYPE_NORMAL = 'cellRenderer';\n    CellComp.CELL_RENDERER_TYPE_PINNED = 'pinnedRowCellRenderer';\n    return CellComp;\n}(Component));\nexport { CellComp };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgAbstractLabel } from \"./agAbstractLabel\";\nimport { RefSelector } from \"./componentAnnotations\";\nimport { Autowired } from \"../context/context\";\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { exists } from \"../utils/generic\";\nimport { setFixedWidth } from \"../utils/dom\";\nvar AgAngleSelect = /** @class */ (function (_super) {\n    __extends(AgAngleSelect, _super);\n    function AgAngleSelect(config) {\n        var _this = _super.call(this, config, AgAngleSelect.TEMPLATE) || this;\n        _this.radius = 0;\n        _this.offsetX = 0;\n        _this.offsetY = 0;\n        return _this;\n    }\n    AgAngleSelect.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        this.dragListener = {\n            eElement: this.eParentCircle,\n            dragStartPixels: 0,\n            onDragStart: function (e) {\n                _this.parentCircleRect = _this.eParentCircle.getBoundingClientRect();\n            },\n            onDragging: function (e) { return _this.calculateAngleDrag(e); },\n            onDragStop: function () { }\n        };\n        this.dragService.addDragSource(this.dragListener);\n        this.eAngleValue\n            .setLabel('')\n            .setLabelWidth(5)\n            .setInputWidth(45)\n            .setMin(0)\n            .setMax(360)\n            .setValue(\"\" + this.degrees)\n            .onValueChange(function (value) {\n            if (value == null || value === '') {\n                value = '0';\n            }\n            value = _this.eAngleValue.normalizeValue(value);\n            var floatValue = parseFloat(value);\n            if (floatValue > 180) {\n                floatValue = floatValue - 360;\n            }\n            _this.setValue(floatValue);\n        });\n        this.updateNumberInput();\n        if (exists(this.getValue())) {\n            this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString());\n        }\n        this.addManagedListener(this, AgAbstractField.EVENT_CHANGED, function () {\n            if (_this.eAngleValue.getInputElement().contains(document.activeElement)) {\n                return;\n            }\n            _this.updateNumberInput();\n        });\n    };\n    AgAngleSelect.prototype.updateNumberInput = function () {\n        var normalizedValue = this.normalizeNegativeValue(this.getValue());\n        this.eAngleValue.setValue(normalizedValue.toString());\n    };\n    AgAngleSelect.prototype.positionChildCircle = function (radians) {\n        var rect = this.parentCircleRect || { width: 24, height: 24 };\n        var eChildCircle = this.eChildCircle;\n        var centerX = rect.width / 2;\n        var centerY = rect.height / 2;\n        eChildCircle.style.left = centerX + Math.cos(radians) * 8 + \"px\";\n        eChildCircle.style.top = centerY + Math.sin(radians) * 8 + \"px\";\n    };\n    AgAngleSelect.prototype.calculatePolar = function () {\n        var x = this.offsetX;\n        var y = this.offsetY;\n        var radians = Math.atan2(y, x);\n        this.degrees = this.toDegrees(radians);\n        this.radius = Math.sqrt((x * x) + (y * y));\n        this.positionChildCircle(radians);\n    };\n    AgAngleSelect.prototype.calculateCartesian = function () {\n        var radians = this.toRadians(this.getValue());\n        var radius = this.getRadius();\n        this\n            .setOffsetX(Math.cos(radians) * radius)\n            .setOffsetY(Math.sin(radians) * radius);\n    };\n    AgAngleSelect.prototype.setOffsetX = function (offset) {\n        if (this.offsetX !== offset) {\n            this.offsetX = offset;\n            this.calculatePolar();\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.setOffsetY = function (offset) {\n        if (this.offsetY !== offset) {\n            this.offsetY = offset;\n            this.calculatePolar();\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.calculateAngleDrag = function (e) {\n        var rect = this.parentCircleRect;\n        var centerX = rect.width / 2;\n        var centerY = rect.height / 2;\n        var x = e.clientX - rect.left;\n        var y = e.clientY - rect.top;\n        var dx = x - centerX;\n        var dy = y - centerY;\n        var radians = Math.atan2(dy, dx);\n        this.setValue(radians, true);\n    };\n    AgAngleSelect.prototype.toDegrees = function (radians) {\n        return radians / Math.PI * 180;\n    };\n    AgAngleSelect.prototype.toRadians = function (degrees) {\n        return degrees / 180 * Math.PI;\n    };\n    AgAngleSelect.prototype.normalizeNegativeValue = function (degrees) {\n        return degrees < 0 ? 360 + degrees : degrees;\n    };\n    AgAngleSelect.prototype.normalizeAngle180 = function (radians) {\n        radians %= Math.PI * 2;\n        if (radians < -Math.PI) {\n            radians += Math.PI * 2;\n        }\n        else if (radians >= Math.PI) {\n            radians -= Math.PI * 2;\n        }\n        return radians;\n    };\n    AgAngleSelect.prototype.getRadius = function () {\n        return this.radius;\n    };\n    AgAngleSelect.prototype.setRadius = function (r) {\n        if (this.radius === r) {\n            return this;\n        }\n        this.radius = r;\n        this.calculateCartesian();\n        return this;\n    };\n    AgAngleSelect.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        this.addManagedListener(this, AgAbstractField.EVENT_CHANGED, function () {\n            callbackFn(_this.degrees);\n        });\n        return this;\n    };\n    AgAngleSelect.prototype.getValue = function (radians) {\n        return radians ? this.toRadians(this.degrees) : this.degrees;\n    };\n    AgAngleSelect.prototype.setValue = function (degrees, radians) {\n        var radiansValue;\n        if (!radians) {\n            radiansValue = this.normalizeAngle180(this.toRadians(degrees));\n        }\n        else {\n            radiansValue = degrees;\n        }\n        degrees = this.toDegrees(radiansValue);\n        if (this.degrees !== degrees) {\n            this.degrees = Math.floor(degrees);\n            this.calculateCartesian();\n            this.positionChildCircle(radiansValue);\n            this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.setWidth = function (width) {\n        setFixedWidth(this.getGui(), width);\n        return this;\n    };\n    AgAngleSelect.prototype.destroy = function () {\n        this.dragService.removeDragSource(this.dragListener);\n        _super.prototype.destroy.call(this);\n    };\n    AgAngleSelect.TEMPLATE = \"<div class=\\\"ag-angle-select\\\">\\n            <div ref=\\\"eLabel\\\"></div>\\n            <div class=\\\"ag-wrapper ag-angle-select-wrapper\\\">\\n                <div ref=\\\"eAngleSelectField\\\" class=\\\"ag-angle-select-field\\\">\\n                    <div ref=\\\"eParentCircle\\\" class=\\\"ag-angle-select-parent-circle\\\">\\n                        <div ref=\\\"eChildCircle\\\" class=\\\"ag-angle-select-child-circle\\\"></div>\\n                    </div>\\n                </div>\\n                <ag-input-number-field ref=\\\"eAngleValue\\\"></ag-input-number-field>\\n            </div>\\n        </div>\";\n    __decorate([\n        RefSelector('eLabel')\n    ], AgAngleSelect.prototype, \"eLabel\", void 0);\n    __decorate([\n        RefSelector('eParentCircle')\n    ], AgAngleSelect.prototype, \"eParentCircle\", void 0);\n    __decorate([\n        RefSelector('eChildCircle')\n    ], AgAngleSelect.prototype, \"eChildCircle\", void 0);\n    __decorate([\n        RefSelector('eAngleValue')\n    ], AgAngleSelect.prototype, \"eAngleValue\", void 0);\n    __decorate([\n        Autowired('dragService')\n    ], AgAngleSelect.prototype, \"dragService\", void 0);\n    return AgAngleSelect;\n}(AgAbstractLabel));\nexport { AgAngleSelect };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, PostConstruct } from \"../context/context\";\nimport { Autowired } from \"../context/context\";\nimport { NumberSequence } from '../utils';\nimport { Constants } from \"../constants/constants\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { getEventPath, getCellCompForEvent } from \"../utils/event\";\nimport { exists } from \"../utils/generic\";\nvar MouseEventService = /** @class */ (function (_super) {\n    __extends(MouseEventService, _super);\n    function MouseEventService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.gridInstanceId = MouseEventService_1.gridInstanceSequence.next();\n        return _this;\n    }\n    MouseEventService_1 = MouseEventService;\n    MouseEventService.prototype.init = function () {\n        this.stampDomElementWithGridInstance();\n    };\n    MouseEventService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    // we put the instance id onto the main DOM element. this is used for events, when grids are inside grids,\n    // so the grid can work out if the even came from this grid or a grid inside this one. see the ctrl+v logic\n    // for where this is used.\n    MouseEventService.prototype.stampDomElementWithGridInstance = function () {\n        this.eGridDiv[MouseEventService_1.GRID_DOM_KEY] = this.gridInstanceId;\n    };\n    MouseEventService.prototype.getRenderedCellForEvent = function (event) {\n        return getCellCompForEvent(this.gridOptionsWrapper, event);\n    };\n    // walks the path of the event, and returns true if this grid is the first one that it finds. if doing\n    // master / detail grids, and a child grid is found, then it returns false. this stops things like copy/paste\n    // getting executed on many grids at the same time.\n    MouseEventService.prototype.isEventFromThisGrid = function (event) {\n        var path = getEventPath(event);\n        for (var i = 0; i < path.length; i++) {\n            var element = path[i];\n            var instanceId = element[MouseEventService_1.GRID_DOM_KEY];\n            if (exists(instanceId)) {\n                var eventFromThisGrid = instanceId === this.gridInstanceId;\n                return eventFromThisGrid;\n            }\n        }\n        return false;\n    };\n    MouseEventService.prototype.getCellPositionForEvent = function (event) {\n        var cellComp = this.getRenderedCellForEvent(event);\n        return cellComp ? cellComp.getCellPosition() : null;\n    };\n    MouseEventService.prototype.getNormalisedPosition = function (event) {\n        var gridPanelHasScrolls = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n        var x = event.x, y = event.y;\n        if (gridPanelHasScrolls) {\n            var vRange = this.gridPanel.getVScrollPosition();\n            var hRange = this.gridPanel.getHScrollPosition();\n            return { x: x + hRange.left, y: y + vRange.top };\n        }\n        return { x: x, y: y };\n    };\n    var MouseEventService_1;\n    MouseEventService.gridInstanceSequence = new NumberSequence();\n    MouseEventService.GRID_DOM_KEY = '__ag_grid_instance';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], MouseEventService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('eGridDiv')\n    ], MouseEventService.prototype, \"eGridDiv\", void 0);\n    __decorate([\n        PostConstruct\n    ], MouseEventService.prototype, \"init\", null);\n    MouseEventService = MouseEventService_1 = __decorate([\n        Bean('mouseEventService')\n    ], MouseEventService);\n    return MouseEventService;\n}(BeanStub));\nexport { MouseEventService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgColorPanel } from \"./agColorPanel\";\nimport { AgDialog } from \"./agDialog\";\nimport { AgPickerField } from \"./agPickerField\";\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { addCssClass } from \"../utils/dom\";\nvar AgColorPicker = /** @class */ (function (_super) {\n    __extends(AgColorPicker, _super);\n    function AgColorPicker(config) {\n        var _this = _super.call(this, config, 'ag-color-picker', 'colorPicker') || this;\n        if (config && config.color) {\n            _this.value = config.color;\n        }\n        return _this;\n    }\n    AgColorPicker.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        if (this.value) {\n            this.setValue(this.value);\n        }\n    };\n    AgColorPicker.prototype.showPicker = function () {\n        var _this = this;\n        var eGuiRect = this.getGui().getBoundingClientRect();\n        var colorDialog = this.createBean(new AgDialog({\n            closable: false,\n            modal: true,\n            hideTitleBar: true,\n            minWidth: 190,\n            width: 190,\n            height: 250,\n            x: eGuiRect.right - 190,\n            y: eGuiRect.top - 250\n        }));\n        this.isPickerDisplayed = true;\n        addCssClass(colorDialog.getGui(), 'ag-color-dialog');\n        var colorPanel = this.createBean(new AgColorPanel({ picker: this }));\n        colorPanel.addDestroyFunc(function () {\n            if (colorDialog.isAlive()) {\n                _this.destroyBean(colorDialog);\n            }\n        });\n        colorDialog.setParentComponent(this);\n        colorDialog.setBodyComponent(colorPanel);\n        colorPanel.setValue(this.getValue());\n        colorDialog.addDestroyFunc(function () {\n            // here we check if the picker was already being\n            // destroyed to avoid a stack overflow\n            if (!_this.isDestroyingPicker) {\n                _this.isDestroyingPicker = true;\n                if (colorPanel.isAlive()) {\n                    _this.destroyBean(colorPanel);\n                }\n            }\n            else {\n                _this.isDestroyingPicker = false;\n            }\n            if (_this.isAlive()) {\n                _this.getFocusableElement().focus();\n            }\n            _this.isPickerDisplayed = false;\n        });\n        return colorDialog;\n    };\n    AgColorPicker.prototype.setValue = function (color) {\n        if (this.value === color) {\n            return this;\n        }\n        this.value = color;\n        this.eDisplayField.style.backgroundColor = color;\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        return this;\n    };\n    AgColorPicker.prototype.getValue = function () {\n        return this.value;\n    };\n    return AgColorPicker;\n}(AgPickerField));\nexport { AgColorPicker };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { COL_DEF_PARAM_OBJECTS } from \"../entities/colDef\";\nimport { ColumnKeyCreator } from \"./columnKeyCreator\";\nimport { OriginalColumnGroup } from \"../entities/originalColumnGroup\";\nimport { Column } from \"../entities/column\";\nimport { Autowired, Bean, Qualifier } from \"../context/context\";\nimport { DefaultColumnTypes } from \"../entities/defaultColumnTypes\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { Constants } from \"../constants/constants\";\nimport { assign, iterateObject } from '../utils/object';\nimport { attrToNumber, attrToBoolean, find } from '../utils/generic';\nimport { removeFromArray } from '../utils/array';\nimport { _ } from \"../utils\";\n// takes ColDefs and ColGroupDefs and turns them into Columns and OriginalGroups\nvar ColumnFactory = /** @class */ (function (_super) {\n    __extends(ColumnFactory, _super);\n    function ColumnFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnFactory.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ColumnFactory');\n    };\n    ColumnFactory.prototype.createColumnTree = function (defs, primaryColumns, existingColumns) {\n        // column key creator dishes out unique column id's in a deterministic way,\n        // so if we have two grids (that could be master/slave) with same column definitions,\n        // then this ensures the two grids use identical id's.\n        var columnKeyCreator = new ColumnKeyCreator();\n        if (existingColumns) {\n            var existingKeys = existingColumns.map(function (col) { return col.getId(); });\n            columnKeyCreator.addExistingKeys(existingKeys);\n        }\n        // we take a copy of the columns as we are going to be removing from them\n        var existingColsCopy = existingColumns ? existingColumns.slice() : null;\n        // create am unbalanced tree that maps the provided definitions\n        var unbalancedTree = this.recursivelyCreateColumns(defs, 0, primaryColumns, existingColsCopy, columnKeyCreator, null);\n        var treeDept = this.findMaxDept(unbalancedTree, 0);\n        this.logger.log('Number of levels for grouped columns is ' + treeDept);\n        var columnTree = this.balanceColumnTree(unbalancedTree, 0, treeDept, columnKeyCreator);\n        var deptFirstCallback = function (child, parent) {\n            if (child instanceof OriginalColumnGroup) {\n                child.setupExpandable();\n            }\n            // we set the original parents at the end, rather than when we go along, as balancing the tree\n            // adds extra levels into the tree. so we can only set parents when balancing is done.\n            child.setOriginalParent(parent);\n        };\n        this.columnUtils.depthFirstOriginalTreeSearch(null, columnTree, deptFirstCallback);\n        return {\n            columnTree: columnTree,\n            treeDept: treeDept\n        };\n    };\n    ColumnFactory.prototype.createForAutoGroups = function (autoGroupCols, gridBalancedTree) {\n        var _this = this;\n        var autoColBalancedTree = [];\n        autoGroupCols.forEach(function (col) {\n            var fakeTreeItem = _this.createAutoGroupTreeItem(gridBalancedTree, col);\n            autoColBalancedTree.push(fakeTreeItem);\n        });\n        return autoColBalancedTree;\n    };\n    ColumnFactory.prototype.createAutoGroupTreeItem = function (balancedColumnTree, column) {\n        var dept = this.findDepth(balancedColumnTree);\n        // at the end, this will be the top of the tree item.\n        var nextChild = column;\n        for (var i = dept - 1; i >= 0; i--) {\n            var autoGroup = new OriginalColumnGroup(null, \"FAKE_PATH_\" + column.getId() + \"}_\" + i, true, i);\n            this.context.createBean(autoGroup);\n            autoGroup.setChildren([nextChild]);\n            nextChild.setOriginalParent(autoGroup);\n            nextChild = autoGroup;\n        }\n        // at this point, the nextChild is the top most item in the tree\n        return nextChild;\n    };\n    ColumnFactory.prototype.findDepth = function (balancedColumnTree) {\n        var dept = 0;\n        var pointer = balancedColumnTree;\n        while (pointer && pointer[0] && pointer[0] instanceof OriginalColumnGroup) {\n            dept++;\n            pointer = pointer[0].getChildren();\n        }\n        return dept;\n    };\n    ColumnFactory.prototype.balanceColumnTree = function (unbalancedTree, currentDept, columnDept, columnKeyCreator) {\n        var result = [];\n        // go through each child, for groups, recurse a level deeper,\n        // for columns we need to pad\n        for (var i = 0; i < unbalancedTree.length; i++) {\n            var child = unbalancedTree[i];\n            if (child instanceof OriginalColumnGroup) {\n                // child is a group, all we do is go to the next level of recursion\n                var originalGroup = child;\n                var newChildren = this.balanceColumnTree(originalGroup.getChildren(), currentDept + 1, columnDept, columnKeyCreator);\n                originalGroup.setChildren(newChildren);\n                result.push(originalGroup);\n            }\n            else {\n                // child is a column - so here we add in the padded column groups if needed\n                var firstPaddedGroup = void 0;\n                var currentPaddedGroup = void 0;\n                // this for loop will NOT run any loops if no padded column groups are needed\n                for (var j = columnDept - 1; j >= currentDept; j--) {\n                    var newColId = columnKeyCreator.getUniqueKey(null, null);\n                    var colGroupDefMerged = this.createMergedColGroupDef(null);\n                    var paddedGroup = new OriginalColumnGroup(colGroupDefMerged, newColId, true, currentDept);\n                    this.context.createBean(paddedGroup);\n                    if (currentPaddedGroup) {\n                        currentPaddedGroup.setChildren([paddedGroup]);\n                    }\n                    currentPaddedGroup = paddedGroup;\n                    if (!firstPaddedGroup) {\n                        firstPaddedGroup = currentPaddedGroup;\n                    }\n                }\n                // likewise this if statement will not run if no padded groups\n                if (firstPaddedGroup) {\n                    result.push(firstPaddedGroup);\n                    var hasGroups = unbalancedTree.some(function (child) { return child instanceof OriginalColumnGroup; });\n                    if (hasGroups) {\n                        currentPaddedGroup.setChildren([child]);\n                        continue;\n                    }\n                    else {\n                        currentPaddedGroup.setChildren(unbalancedTree);\n                        break;\n                    }\n                }\n                result.push(child);\n            }\n        }\n        return result;\n    };\n    ColumnFactory.prototype.findMaxDept = function (treeChildren, dept) {\n        var maxDeptThisLevel = dept;\n        for (var i = 0; i < treeChildren.length; i++) {\n            var abstractColumn = treeChildren[i];\n            if (abstractColumn instanceof OriginalColumnGroup) {\n                var originalGroup = abstractColumn;\n                var newDept = this.findMaxDept(originalGroup.getChildren(), dept + 1);\n                if (maxDeptThisLevel < newDept) {\n                    maxDeptThisLevel = newDept;\n                }\n            }\n        }\n        return maxDeptThisLevel;\n    };\n    ColumnFactory.prototype.recursivelyCreateColumns = function (defs, level, primaryColumns, existingColsCopy, columnKeyCreator, parent) {\n        var _this = this;\n        var result = [];\n        if (!defs) {\n            return result;\n        }\n        defs.forEach(function (def) {\n            var newGroupOrColumn;\n            if (_this.isColumnGroup(def)) {\n                newGroupOrColumn = _this.createColumnGroup(primaryColumns, def, level, existingColsCopy, columnKeyCreator, parent);\n            }\n            else {\n                newGroupOrColumn = _this.createColumn(primaryColumns, def, existingColsCopy, columnKeyCreator, parent);\n            }\n            result.push(newGroupOrColumn);\n        });\n        return result;\n    };\n    ColumnFactory.prototype.createColumnGroup = function (primaryColumns, colGroupDef, level, existingColumns, columnKeyCreator, parent) {\n        var colGroupDefMerged = this.createMergedColGroupDef(colGroupDef);\n        var groupId = columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId, null);\n        var originalGroup = new OriginalColumnGroup(colGroupDefMerged, groupId, false, level);\n        this.context.createBean(originalGroup);\n        var children = this.recursivelyCreateColumns(colGroupDefMerged.children, level + 1, primaryColumns, existingColumns, columnKeyCreator, originalGroup);\n        originalGroup.setChildren(children);\n        return originalGroup;\n    };\n    ColumnFactory.prototype.createMergedColGroupDef = function (colGroupDef) {\n        var colGroupDefMerged = {};\n        assign(colGroupDefMerged, this.gridOptionsWrapper.getDefaultColGroupDef());\n        assign(colGroupDefMerged, colGroupDef);\n        this.checkForDeprecatedItems(colGroupDefMerged);\n        return colGroupDefMerged;\n    };\n    ColumnFactory.prototype.createColumn = function (primaryColumns, colDef, existingColsCopy, columnKeyCreator, parent) {\n        var colDefMerged = this.mergeColDefs(colDef);\n        this.checkForDeprecatedItems(colDefMerged);\n        // see if column already exists\n        var column = this.findExistingColumn(colDef, existingColsCopy);\n        if (!column) {\n            // no existing column, need to create one\n            var colId = columnKeyCreator.getUniqueKey(colDefMerged.colId, colDefMerged.field);\n            column = new Column(colDefMerged, colDef, colId, primaryColumns);\n            this.context.createBean(column);\n        }\n        else {\n            column.setColDef(colDefMerged, colDef);\n            this.applyColumnState(column, colDefMerged);\n        }\n        return column;\n    };\n    ColumnFactory.prototype.applyColumnState = function (column, colDef) {\n        // flex\n        var flex = attrToNumber(colDef.flex);\n        if (flex !== undefined) {\n            column.setFlex(flex);\n        }\n        // width - we only set width if column is not flexing\n        var noFlexThisCol = column.getFlex() <= 0;\n        if (noFlexThisCol) {\n            // both null and undefined means we skip, as it's not possible to 'clear' width (a column must have a width)\n            var width = attrToNumber(colDef.width);\n            if (width != null) {\n                column.setActualWidth(width);\n            }\n        }\n        // sort - anything but undefined will set sort, thus null or empty string will clear the sort\n        if (colDef.sort !== undefined) {\n            if (colDef.sort == Constants.SORT_ASC || colDef.sort == Constants.SORT_DESC) {\n                column.setSort(colDef.sort);\n            }\n            else {\n                column.setSort(undefined);\n            }\n        }\n        // sorted at - anything but undefined, thus null will clear the sortIndex\n        var sortIndex = attrToNumber(colDef.sortIndex);\n        if (sortIndex !== undefined) {\n            column.setSortIndex(sortIndex);\n        }\n        // hide - anything but undefined, thus null will clear the hide\n        var hide = attrToBoolean(colDef.hide);\n        if (hide !== undefined) {\n            column.setVisible(!hide);\n        }\n        // pinned - anything but undefined, thus null or empty string will remove pinned\n        if (colDef.pinned !== undefined) {\n            column.setPinned(colDef.pinned);\n        }\n    };\n    ColumnFactory.prototype.findExistingColumn = function (newColDef, existingColsCopy) {\n        var res = find(existingColsCopy, function (existingCol) {\n            var existingColDef = existingCol.getUserProvidedColDef();\n            if (!existingColDef) {\n                return false;\n            }\n            var newHasId = newColDef.colId != null;\n            var newHasField = newColDef.field != null;\n            if (newHasId) {\n                return existingCol.getId() === newColDef.colId;\n            }\n            if (newHasField) {\n                return existingColDef.field === newColDef.field;\n            }\n            // if no id or field present, then try object equivalence.\n            if (existingColDef === newColDef) {\n                return true;\n            }\n            return false;\n        });\n        // make sure we remove, so if user provided duplicate id, then we don't have more than\n        // one column instance for colDef with common id\n        if (res) {\n            removeFromArray(existingColsCopy, res);\n        }\n        return res;\n    };\n    ColumnFactory.prototype.mergeColDefs = function (colDef) {\n        // start with empty merged definition\n        var colDefMerged = {};\n        // merge properties from default column definitions\n        var defaultColDef = this.gridOptionsWrapper.getDefaultColDef();\n        _.mergeDeep(colDefMerged, defaultColDef, true, COL_DEF_PARAM_OBJECTS);\n        // merge properties from column type properties\n        if (colDef.type || (defaultColDef && defaultColDef.type)) {\n            // if type of both colDef and defaultColDef, then colDef gets preference\n            var columnType = colDef.type ? colDef.type : defaultColDef.type;\n            this.assignColumnTypes(columnType, colDefMerged);\n        }\n        // merge properties from column definitions\n        _.mergeDeep(colDefMerged, colDef, true, COL_DEF_PARAM_OBJECTS);\n        return colDefMerged;\n    };\n    ColumnFactory.prototype.assignColumnTypes = function (type, colDefMerged) {\n        var typeKeys;\n        if (type instanceof Array) {\n            var invalidArray = type.some(function (a) { return typeof a !== 'string'; });\n            if (invalidArray) {\n                console.warn(\"ag-grid: if colDef.type is supplied an array it should be of type 'string[]'\");\n            }\n            else {\n                typeKeys = type;\n            }\n        }\n        else if (typeof type === 'string') {\n            typeKeys = type.split(',');\n        }\n        else {\n            console.warn(\"ag-grid: colDef.type should be of type 'string' | 'string[]'\");\n            return;\n        }\n        // merge user defined with default column types\n        var allColumnTypes = assign({}, DefaultColumnTypes);\n        var userTypes = this.gridOptionsWrapper.getColumnTypes() || {};\n        iterateObject(userTypes, function (key, value) {\n            if (key in allColumnTypes) {\n                console.warn(\"ag-Grid: the column type '\" + key + \"' is a default column type and cannot be overridden.\");\n            }\n            else {\n                allColumnTypes[key] = value;\n            }\n        });\n        typeKeys.forEach(function (t) {\n            var typeColDef = allColumnTypes[t.trim()];\n            if (typeColDef) {\n                _.mergeDeep(colDefMerged, typeColDef, true, COL_DEF_PARAM_OBJECTS);\n            }\n            else {\n                console.warn(\"ag-grid: colDef.type '\" + t + \"' does not correspond to defined gridOptions.columnTypes\");\n            }\n        });\n    };\n    ColumnFactory.prototype.checkForDeprecatedItems = function (colDef) {\n        if (colDef) {\n            var colDefNoType = colDef; // take out the type, so we can access attributes not defined in the type\n            if (colDefNoType.group !== undefined) {\n                console.warn('ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.headerGroup !== undefined) {\n                console.warn('ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.headerGroupShow !== undefined) {\n                console.warn('ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.suppressRowGroup !== undefined) {\n                console.warn('ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead');\n            }\n            if (colDefNoType.suppressAggregation !== undefined) {\n                console.warn('ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead');\n            }\n            if (colDefNoType.suppressRowGroup || colDefNoType.suppressAggregation) {\n                console.warn('ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead');\n            }\n            if (colDefNoType.displayName) {\n                console.warn(\"ag-grid: Found displayName \" + colDefNoType.displayName + \", please use headerName instead, displayName is deprecated.\");\n                colDefNoType.headerName = colDefNoType.displayName;\n            }\n        }\n    };\n    // if object has children, we assume it's a group\n    ColumnFactory.prototype.isColumnGroup = function (abstractColDef) {\n        return abstractColDef.children !== undefined;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ColumnFactory.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnUtils')\n    ], ColumnFactory.prototype, \"columnUtils\", void 0);\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], ColumnFactory.prototype, \"setBeans\", null);\n    ColumnFactory = __decorate([\n        Bean('columnFactory')\n    ], ColumnFactory);\n    return ColumnFactory;\n}(BeanStub));\nexport { ColumnFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DragAndDropService } from \"../dragAndDrop/dragAndDropService\";\nimport { Autowired } from \"../context/context\";\nvar BodyDropPivotTarget = /** @class */ (function () {\n    function BodyDropPivotTarget(pinned) {\n        this.columnsToAggregate = [];\n        this.columnsToGroup = [];\n        this.columnsToPivot = [];\n        this.pinned = pinned;\n    }\n    /** Callback for when drag enters */\n    BodyDropPivotTarget.prototype.onDragEnter = function (draggingEvent) {\n        var _this = this;\n        this.clearColumnsList();\n        // in pivot mode, we don't accept any drops if functions are read only\n        if (this.gridOptionsWrapper.isFunctionsReadOnly()) {\n            return;\n        }\n        var dragColumns = draggingEvent.dragItem.columns;\n        dragColumns.forEach(function (column) {\n            // we don't allow adding secondary columns\n            if (!column.isPrimary()) {\n                return;\n            }\n            if (column.isAnyFunctionActive()) {\n                return;\n            }\n            if (column.isAllowValue()) {\n                _this.columnsToAggregate.push(column);\n            }\n            else if (column.isAllowRowGroup()) {\n                _this.columnsToGroup.push(column);\n            }\n            else if (column.isAllowRowGroup()) {\n                _this.columnsToPivot.push(column);\n            }\n        });\n    };\n    BodyDropPivotTarget.prototype.getIconName = function () {\n        var totalColumns = this.columnsToAggregate.length + this.columnsToGroup.length + this.columnsToPivot.length;\n        if (totalColumns > 0) {\n            return this.pinned ? DragAndDropService.ICON_PINNED : DragAndDropService.ICON_MOVE;\n        }\n        else {\n            return null;\n        }\n    };\n    /** Callback for when drag leaves */\n    BodyDropPivotTarget.prototype.onDragLeave = function (draggingEvent) {\n        // if we are taking columns out of the center, then we remove them from the report\n        this.clearColumnsList();\n    };\n    BodyDropPivotTarget.prototype.clearColumnsList = function () {\n        this.columnsToAggregate.length = 0;\n        this.columnsToGroup.length = 0;\n        this.columnsToPivot.length = 0;\n    };\n    /** Callback for when dragging */\n    BodyDropPivotTarget.prototype.onDragging = function (draggingEvent) {\n    };\n    /** Callback for when drag stops */\n    BodyDropPivotTarget.prototype.onDragStop = function (draggingEvent) {\n        if (this.columnsToAggregate.length > 0) {\n            this.columnController.addValueColumns(this.columnsToAggregate, \"toolPanelDragAndDrop\");\n        }\n        if (this.columnsToGroup.length > 0) {\n            this.columnController.addRowGroupColumns(this.columnsToGroup, \"toolPanelDragAndDrop\");\n        }\n        if (this.columnsToPivot.length > 0) {\n            this.columnController.addPivotColumns(this.columnsToPivot, \"toolPanelDragAndDrop\");\n        }\n    };\n    __decorate([\n        Autowired('columnController')\n    ], BodyDropPivotTarget.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], BodyDropPivotTarget.prototype, \"gridOptionsWrapper\", void 0);\n    return BodyDropPivotTarget;\n}());\nexport { BodyDropPivotTarget };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, PostConstruct, BeanStub } from \"@ag-grid-community/core\";\nvar SortService = /** @class */ (function (_super) {\n    __extends(SortService, _super);\n    function SortService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SortService.prototype.init = function () {\n        this.postSortFunc = this.gridOptionsWrapper.getPostSortFunc();\n    };\n    SortService.prototype.sort = function (sortOptions, sortActive, deltaSort, dirtyLeafNodes, changedPath, noAggregations) {\n        var _this = this;\n        var callback = function (rowNode) {\n            // we clear out the 'pull down open parents' first, as the values mix up the sorting\n            _this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterFilter, true);\n            // Javascript sort is non deterministic when all the array items are equals, ie Comparator always returns 0,\n            // so to ensure the array keeps its order, add an additional sorting condition manually, in this case we\n            // are going to inspect the original array position. This is what sortedRowNodes is for.\n            if (sortActive) {\n                var sortedRowNodes = deltaSort ?\n                    _this.doDeltaSort(rowNode, sortOptions, dirtyLeafNodes, changedPath, noAggregations)\n                    : _this.doFullSort(rowNode, sortOptions);\n                rowNode.childrenAfterSort = sortedRowNodes.map(function (sorted) { return sorted.rowNode; });\n            }\n            else {\n                rowNode.childrenAfterSort = rowNode.childrenAfterFilter.slice(0);\n            }\n            _this.updateChildIndexes(rowNode);\n            if (_this.postSortFunc) {\n                _this.postSortFunc(rowNode.childrenAfterSort);\n            }\n        };\n        changedPath.forEachChangedNodeDepthFirst(callback);\n        this.updateGroupDataForHiddenOpenParents(changedPath);\n    };\n    SortService.prototype.doFullSort = function (rowNode, sortOptions) {\n        var sortedRowNodes = rowNode.childrenAfterFilter\n            .map(this.mapNodeToSortedNode.bind(this));\n        sortedRowNodes.sort(this.compareRowNodes.bind(this, sortOptions));\n        return sortedRowNodes;\n    };\n    SortService.prototype.mapNodeToSortedNode = function (rowNode, pos) {\n        return { currentPos: pos, rowNode: rowNode };\n    };\n    SortService.prototype.doDeltaSort = function (rowNode, sortOptions, dirtyLeafNodes, changedPath, noAggregations) {\n        // clean nodes will be a list of all row nodes that remain in the set\n        // and ordered. we start with the old sorted set and take out any nodes\n        // that were removed or changed (but not added, added doesn't make sense,\n        // if a node was added, there is no way it could be here from last time).\n        var cleanNodes = rowNode.childrenAfterSort\n            .filter(function (rowNode) {\n            // take out all nodes that were changed as part of the current transaction.\n            // a changed node could a) be in a different sort position or b) may\n            // no longer be in this set as the changed node may not pass filtering,\n            // or be in a different group.\n            var passesDirtyNodesCheck = !dirtyLeafNodes[rowNode.id];\n            // also remove group nodes in the changed path, as they can have different aggregate\n            // values which could impact the sort order.\n            // note: changed path is not active if a) no value columns or b) no transactions. it is never\n            // (b) in deltaSort as we only do deltaSort for transactions. for (a) if no value columns, then\n            // there is no value in the group that could of changed (ie no aggregate values)\n            var passesChangedPathCheck = noAggregations || changedPath.canSkip(rowNode);\n            return passesDirtyNodesCheck && passesChangedPathCheck;\n        })\n            .map(this.mapNodeToSortedNode.bind(this));\n        // for fast access below, we map them\n        var cleanNodesMapped = {};\n        cleanNodes.forEach(function (sortedRowNode) { return cleanNodesMapped[sortedRowNode.rowNode.id] = sortedRowNode.rowNode; });\n        // these are all nodes that need to be placed\n        var changedNodes = rowNode.childrenAfterFilter\n            // ignore nodes in the clean list\n            .filter(function (rowNode) { return !cleanNodesMapped[rowNode.id]; })\n            .map(this.mapNodeToSortedNode.bind(this));\n        // sort changed nodes. note that we don't need to sort cleanNodes as they are\n        // already sorted from last time.\n        changedNodes.sort(this.compareRowNodes.bind(this, sortOptions));\n        if (changedNodes.length === 0) {\n            return cleanNodes;\n        }\n        else if (cleanNodes.length === 0) {\n            return changedNodes;\n        }\n        else {\n            return this.mergeSortedArrays(sortOptions, cleanNodes, changedNodes);\n        }\n    };\n    // Merge two sorted arrays into each other\n    SortService.prototype.mergeSortedArrays = function (sortOptions, arr1, arr2) {\n        var res = [];\n        var i = 0;\n        var j = 0;\n        // Traverse both array, adding them in order\n        while (i < arr1.length && j < arr2.length) {\n            // Check if current element of first\n            // array is smaller than current element\n            // of second array. If yes, store first\n            // array element and increment first array\n            // index. Otherwise do same with second array\n            var compareResult = this.compareRowNodes(sortOptions, arr1[i], arr2[j]);\n            if (compareResult < 0) {\n                res.push(arr1[i++]);\n            }\n            else {\n                res.push(arr2[j++]);\n            }\n        }\n        // add remaining from arr1\n        while (i < arr1.length) {\n            res.push(arr1[i++]);\n        }\n        // add remaining from arr2\n        while (j < arr2.length) {\n            res.push(arr2[j++]);\n        }\n        return res;\n    };\n    SortService.prototype.compareRowNodes = function (sortOptions, sortedNodeA, sortedNodeB) {\n        var nodeA = sortedNodeA.rowNode;\n        var nodeB = sortedNodeB.rowNode;\n        // Iterate columns, return the first that doesn't match\n        for (var i = 0, len = sortOptions.length; i < len; i++) {\n            var sortOption = sortOptions[i];\n            // let compared = compare(nodeA, nodeB, sortOption.column, sortOption.inverter === -1);\n            var isInverted = sortOption.inverter === -1;\n            var valueA = this.getValue(nodeA, sortOption.column);\n            var valueB = this.getValue(nodeB, sortOption.column);\n            var comparatorResult = void 0;\n            if (sortOption.column.getColDef().comparator) {\n                //if comparator provided, use it\n                comparatorResult = sortOption.column.getColDef().comparator(valueA, valueB, nodeA, nodeB, isInverted);\n            }\n            else {\n                //otherwise do our own comparison\n                comparatorResult = _.defaultComparator(valueA, valueB, this.gridOptionsWrapper.isAccentedSort());\n            }\n            if (comparatorResult !== 0) {\n                return comparatorResult * sortOption.inverter;\n            }\n        }\n        // All matched, we make is so that the original sort order is kept:\n        return sortedNodeA.currentPos - sortedNodeB.currentPos;\n    };\n    SortService.prototype.getValue = function (nodeA, column) {\n        return this.valueService.getValue(column, nodeA);\n    };\n    SortService.prototype.updateChildIndexes = function (rowNode) {\n        if (_.missing(rowNode.childrenAfterSort)) {\n            return;\n        }\n        var listToSort = rowNode.childrenAfterSort;\n        for (var i = 0; i < listToSort.length; i++) {\n            var child = listToSort[i];\n            var firstChild = i === 0;\n            var lastChild = i === rowNode.childrenAfterSort.length - 1;\n            child.setFirstChild(firstChild);\n            child.setLastChild(lastChild);\n            child.setChildIndex(i);\n        }\n    };\n    SortService.prototype.updateGroupDataForHiddenOpenParents = function (changedPath) {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        // recurse breadth first over group nodes after sort to 'pull down' group data to child groups\n        var callback = function (rowNode) {\n            _this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort, false);\n            rowNode.childrenAfterSort.forEach(function (child) {\n                if (child.hasChildren()) {\n                    callback(child);\n                }\n            });\n        };\n        changedPath.executeFromRootNode(function (rowNode) { return callback(rowNode); });\n    };\n    SortService.prototype.pullDownGroupDataForHideOpenParents = function (rowNodes, clearOperation) {\n        var _this = this;\n        if (_.missing(rowNodes)) {\n            return;\n        }\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        rowNodes.forEach(function (childRowNode) {\n            var groupDisplayCols = _this.columnController.getGroupDisplayColumns();\n            groupDisplayCols.forEach(function (groupDisplayCol) {\n                var showRowGroup = groupDisplayCol.getColDef().showRowGroup;\n                if (typeof showRowGroup !== 'string') {\n                    console.error('ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup');\n                    return;\n                }\n                var displayingGroupKey = showRowGroup;\n                var rowGroupColumn = _this.columnController.getPrimaryColumn(displayingGroupKey);\n                var thisRowNodeMatches = rowGroupColumn === childRowNode.rowGroupColumn;\n                if (thisRowNodeMatches) {\n                    return;\n                }\n                if (clearOperation) {\n                    // if doing a clear operation, we clear down the value for every possible group column\n                    childRowNode.setGroupValue(groupDisplayCol.getId(), null);\n                }\n                else {\n                    // if doing a set operation, we set only where the pull down is to occur\n                    var parentToStealFrom = childRowNode.getFirstChildOfFirstChild(rowGroupColumn);\n                    if (parentToStealFrom) {\n                        childRowNode.setGroupValue(groupDisplayCol.getId(), parentToStealFrom.key);\n                    }\n                }\n            });\n        });\n    };\n    __decorate([\n        Autowired('sortController')\n    ], SortService.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], SortService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], SortService.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SortService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], SortService.prototype, \"init\", null);\n    SortService = __decorate([\n        Bean('sortService')\n    ], SortService);\n    return SortService;\n}(BeanStub));\nexport { SortService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ColumnGroup } from \"../entities/columnGroup\";\nimport { OriginalColumnGroup } from \"../entities/originalColumnGroup\";\nimport { Bean } from \"../context/context\";\nimport { Autowired } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { getMaxSafeInteger } from \"../utils/number\";\nimport { attrToNumber } from \"../utils/generic\";\n// takes in a list of columns, as specified by the column definitions, and returns column groups\nvar ColumnUtils = /** @class */ (function (_super) {\n    __extends(ColumnUtils, _super);\n    function ColumnUtils() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnUtils.prototype.calculateColInitialWidth = function (colDef) {\n        var optionsWrapper = this.gridOptionsWrapper;\n        var minColWidth = colDef.minWidth != null ? colDef.minWidth : optionsWrapper.getMinColWidth();\n        var maxColWidth = colDef.maxWidth != null ? colDef.maxWidth : (optionsWrapper.getMaxColWidth() || getMaxSafeInteger());\n        var width;\n        var colDefWidth = attrToNumber(colDef.width);\n        var colDefInitialWidth = attrToNumber(colDef.initialWidth);\n        if (colDefWidth != null) {\n            width = colDefWidth;\n        }\n        else if (colDefInitialWidth != null) {\n            width = colDefInitialWidth;\n        }\n        else {\n            width = optionsWrapper.getColWidth();\n        }\n        return Math.max(Math.min(width, maxColWidth), minColWidth);\n    };\n    ColumnUtils.prototype.getOriginalPathForColumn = function (column, originalBalancedTree) {\n        var result = [];\n        var found = false;\n        var recursePath = function (balancedColumnTree, dept) {\n            for (var i = 0; i < balancedColumnTree.length; i++) {\n                if (found) {\n                    return;\n                }\n                // quit the search, so 'result' is kept with the found result\n                var node = balancedColumnTree[i];\n                if (node instanceof OriginalColumnGroup) {\n                    var nextNode = node;\n                    recursePath(nextNode.getChildren(), dept + 1);\n                    result[dept] = node;\n                }\n                else if (node === column) {\n                    found = true;\n                }\n            }\n        };\n        recursePath(originalBalancedTree, 0);\n        // we should always find the path, but in case there is a bug somewhere, returning null\n        // will make it fail rather than provide a 'hard to track down' bug\n        return found ? result : null;\n    };\n    ColumnUtils.prototype.depthFirstOriginalTreeSearch = function (parent, tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof OriginalColumnGroup) {\n                _this.depthFirstOriginalTreeSearch(child, child.getChildren(), callback);\n            }\n            callback(child, parent);\n        });\n    };\n    ColumnUtils.prototype.depthFirstAllColumnTreeSearch = function (tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                _this.depthFirstAllColumnTreeSearch(child.getChildren(), callback);\n            }\n            callback(child);\n        });\n    };\n    ColumnUtils.prototype.depthFirstDisplayedColumnTreeSearch = function (tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                _this.depthFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(), callback);\n            }\n            callback(child);\n        });\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ColumnUtils.prototype, \"gridOptionsWrapper\", void 0);\n    ColumnUtils = __decorate([\n        Bean('columnUtils')\n    ], ColumnUtils);\n    return ColumnUtils;\n}(BeanStub));\nexport { ColumnUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from '../context/context';\nimport { BeanStub } from \"../context/beanStub\";\nimport { addCssClass, isVisible } from '../utils/dom';\nimport { KeyCode } from '../constants/keyCode';\nvar StandardMenuFactory = /** @class */ (function (_super) {\n    __extends(StandardMenuFactory, _super);\n    function StandardMenuFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardMenuFactory.prototype.hideActiveMenu = function () {\n        if (this.hidePopup) {\n            this.hidePopup();\n        }\n    };\n    StandardMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderMouseEvent({\n                column: column,\n                type: 'columnMenu',\n                mouseEvent: mouseEvent,\n                ePopup: eMenu\n            });\n        }, mouseEvent.target);\n    };\n    StandardMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderComponent({\n                type: 'columnMenu',\n                eventSource: eventSource,\n                ePopup: eMenu,\n                keepWithinBounds: true,\n                column: column\n            });\n        }, eventSource);\n    };\n    StandardMenuFactory.prototype.showPopup = function (column, positionCallback, eventSource) {\n        var _this = this;\n        var filterWrapper = this.filterManager.getOrCreateFilterWrapper(column, 'COLUMN_MENU');\n        var eMenu = document.createElement('div');\n        eMenu.setAttribute('role', 'presentation');\n        addCssClass(eMenu, 'ag-menu');\n        this.tabListener = this.addManagedListener(eMenu, 'keydown', function (e) { return _this.trapFocusWithin(e, eMenu); });\n        filterWrapper.guiPromise.then(function (gui) { return eMenu.appendChild(gui); });\n        var hidePopup;\n        var bodyScrollListener = function (event) {\n            // if h scroll, popup is no longer over the column\n            if (event.direction === 'horizontal') {\n                hidePopup();\n            }\n        };\n        this.eventService.addEventListener('bodyScroll', bodyScrollListener);\n        var closedCallback = function (e) {\n            _this.eventService.removeEventListener('bodyScroll', bodyScrollListener);\n            column.setMenuVisible(false, 'contextMenu');\n            var isKeyboardEvent = e instanceof KeyboardEvent;\n            if (_this.tabListener) {\n                _this.tabListener = _this.tabListener();\n            }\n            if (isKeyboardEvent && eventSource && isVisible(eventSource)) {\n                var focusableEl = _this.focusController.findTabbableParent(eventSource);\n                if (focusableEl) {\n                    focusableEl.focus();\n                }\n            }\n        };\n        // need to show filter before positioning, as only after filter\n        // is visible can we find out what the width of it is\n        // hidePopup = this.popupService.addAsModalPopup(eMenu, true, closedCallback);\n        hidePopup = this.popupService.addPopup({\n            modal: true,\n            eChild: eMenu,\n            closeOnEsc: true,\n            closedCallback: closedCallback\n        });\n        positionCallback(eMenu);\n        filterWrapper.filterPromise.then(function (filter) {\n            if (filter.afterGuiAttached) {\n                filter.afterGuiAttached({ container: 'columnMenu', hidePopup: hidePopup });\n            }\n        });\n        this.hidePopup = hidePopup;\n        column.setMenuVisible(true, 'contextMenu');\n    };\n    StandardMenuFactory.prototype.trapFocusWithin = function (e, menu) {\n        if (e.keyCode !== KeyCode.TAB ||\n            e.defaultPrevented ||\n            this.focusController.findNextFocusableElement(menu, false, e.shiftKey)) {\n            return;\n        }\n        e.preventDefault();\n        this.focusController.focusInto(menu, e.shiftKey);\n    };\n    StandardMenuFactory.prototype.isMenuEnabled = function (column) {\n        // for standard, we show menu if filter is enabled, and the menu is not suppressed\n        return column.isFilterAllowed();\n    };\n    __decorate([\n        Autowired('filterManager')\n    ], StandardMenuFactory.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('popupService')\n    ], StandardMenuFactory.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], StandardMenuFactory.prototype, \"focusController\", void 0);\n    StandardMenuFactory = __decorate([\n        Bean('menuFactory')\n    ], StandardMenuFactory);\n    return StandardMenuFactory;\n}(BeanStub));\nexport { StandardMenuFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar UndoRedoAction = /** @class */ (function () {\n    function UndoRedoAction(cellValueChanges) {\n        this.cellValueChanges = cellValueChanges;\n    }\n    return UndoRedoAction;\n}());\nexport { UndoRedoAction };\nvar FillUndoRedoAction = /** @class */ (function (_super) {\n    __extends(FillUndoRedoAction, _super);\n    function FillUndoRedoAction(cellValueChanges, initialRange, finalRange) {\n        var _this = _super.call(this, cellValueChanges) || this;\n        _this.initialRange = initialRange;\n        _this.finalRange = finalRange;\n        return _this;\n    }\n    return FillUndoRedoAction;\n}(UndoRedoAction));\nexport { FillUndoRedoAction };\nvar UndoRedoStack = /** @class */ (function () {\n    function UndoRedoStack(maxStackSize) {\n        this.actionStack = [];\n        this.maxStackSize = maxStackSize ? maxStackSize : UndoRedoStack.DEFAULT_STACK_SIZE;\n        this.actionStack = new Array(this.maxStackSize);\n    }\n    UndoRedoStack.prototype.pop = function () {\n        return this.actionStack.pop();\n    };\n    UndoRedoStack.prototype.push = function (item) {\n        var shouldAddActions = item.cellValueChanges && item.cellValueChanges.length > 0;\n        if (!shouldAddActions) {\n            return;\n        }\n        if (this.actionStack.length === this.maxStackSize) {\n            this.actionStack.shift();\n        }\n        this.actionStack.push(item);\n    };\n    UndoRedoStack.prototype.clear = function () {\n        this.actionStack = [];\n    };\n    UndoRedoStack.prototype.getCurrentStackSize = function () {\n        return this.actionStack.length;\n    };\n    UndoRedoStack.DEFAULT_STACK_SIZE = 10;\n    return UndoRedoStack;\n}());\nexport { UndoRedoStack };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { PopupComponent } from \"../../widgets/popupComponent\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { exists } from \"../../utils/generic\";\nimport { isBrowserSafari, isBrowserIE } from \"../../utils/browser\";\nimport { KeyCode } from '../../constants/keyCode';\nvar TextCellEditor = /** @class */ (function (_super) {\n    __extends(TextCellEditor, _super);\n    function TextCellEditor() {\n        return _super.call(this, TextCellEditor.TEMPLATE) || this;\n    }\n    TextCellEditor.prototype.init = function (params) {\n        this.params = params;\n        var eInput = this.eInput;\n        var startValue;\n        // cellStartedEdit is only false if we are doing fullRow editing\n        if (params.cellStartedEdit) {\n            this.focusAfterAttached = true;\n            if (params.keyPress === KeyCode.BACKSPACE || params.keyPress === KeyCode.DELETE) {\n                startValue = '';\n            }\n            else if (params.charPress) {\n                startValue = params.charPress;\n            }\n            else {\n                startValue = this.getStartValue(params);\n                if (params.keyPress !== KeyCode.F2) {\n                    this.highlightAllOnFocus = true;\n                }\n            }\n        }\n        else {\n            this.focusAfterAttached = false;\n            startValue = this.getStartValue(params);\n        }\n        if (exists(startValue)) {\n            eInput.setValue(startValue, true);\n        }\n        this.addManagedListener(eInput.getGui(), 'keydown', function (event) {\n            var keyCode = event.keyCode;\n            if (keyCode === KeyCode.PAGE_UP || keyCode === KeyCode.PAGE_DOWN) {\n                event.preventDefault();\n            }\n        });\n    };\n    TextCellEditor.prototype.afterGuiAttached = function () {\n        var eInput = this.eInput;\n        eInput.setInputAriaLabel('Input Editor');\n        if (!this.focusAfterAttached) {\n            return;\n        }\n        // Added for AG-3238. We can't remove this explicit focus() because Chrome requires an input\n        // to be focused before setSelectionRange will work. But it triggers a bug in Safari where\n        // explicitly focusing then blurring an empty field will cause the parent container to scroll.\n        if (!isBrowserSafari()) {\n            eInput.getFocusableElement().focus();\n        }\n        var inputEl = eInput.getInputElement();\n        if (this.highlightAllOnFocus) {\n            inputEl.select();\n        }\n        else {\n            // when we started editing, we want the caret at the end, not the start.\n            // this comes into play in two scenarios: a) when user hits F2 and b)\n            // when user hits a printable character, then on IE (and only IE) the caret\n            // was placed after the first character, thus 'apply' would end up as 'pplea'\n            var value = eInput.getValue();\n            var len = (exists(value) && value.length) || 0;\n            if (len) {\n                inputEl.setSelectionRange(len, len);\n            }\n        }\n    };\n    // gets called when tabbing trough cells and in full row edit mode\n    TextCellEditor.prototype.focusIn = function () {\n        var eInput = this.eInput;\n        var focusEl = eInput.getFocusableElement();\n        var inputEl = eInput.getInputElement();\n        focusEl.focus();\n        inputEl.select();\n    };\n    TextCellEditor.prototype.focusOut = function () {\n        var inputEl = this.eInput.getInputElement();\n        if (isBrowserIE()) {\n            inputEl.setSelectionRange(0, 0);\n        }\n    };\n    TextCellEditor.prototype.getValue = function () {\n        var eInput = this.eInput;\n        return this.params.parseValue(eInput.getValue());\n    };\n    TextCellEditor.prototype.getStartValue = function (params) {\n        var formatValue = params.useFormatter || params.column.getColDef().refData;\n        return formatValue ? params.formatValue(params.value) : params.value;\n    };\n    TextCellEditor.prototype.isPopup = function () {\n        return false;\n    };\n    TextCellEditor.TEMPLATE = '<div class=\"ag-cell-edit-wrapper\"><ag-input-text-field class=\"ag-cell-editor\" ref=\"eInput\"></ag-input-text-field></div>';\n    __decorate([\n        RefSelector('eInput')\n    ], TextCellEditor.prototype, \"eInput\", void 0);\n    return TextCellEditor;\n}(PopupComponent));\nexport { TextCellEditor };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar FloatingFilterMapper = /** @class */ (function () {\n    function FloatingFilterMapper() {\n    }\n    FloatingFilterMapper.getFloatingFilterType = function (filterType) {\n        return this.filterToFloatingFilterMapping[filterType];\n    };\n    FloatingFilterMapper.filterToFloatingFilterMapping = {\n        set: 'agSetColumnFloatingFilter',\n        agSetColumnFilter: 'agSetColumnFloatingFilter',\n        multi: 'agMultiColumnFloatingFilter',\n        agMultiColumnFilter: 'agMultiColumnFloatingFilter',\n        number: 'agNumberColumnFloatingFilter',\n        agNumberColumnFilter: 'agNumberColumnFloatingFilter',\n        date: 'agDateColumnFloatingFilter',\n        agDateColumnFilter: 'agDateColumnFloatingFilter',\n        text: 'agTextColumnFloatingFilter',\n        agTextColumnFilter: 'agTextColumnFloatingFilter'\n    };\n    return FloatingFilterMapper;\n}());\nexport { FloatingFilterMapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// class returns a unique id to use for the column. it checks the existing columns, and if the requested\n// id is already taken, it will start appending numbers until it gets a unique id.\n// eg, if the col field is 'name', it will try ids: {name, name_1, name_2...}\n// if no field or id provided in the col, it will try the ids of natural numbers\nimport { toStringOrNull } from \"../utils/generic\";\nvar ColumnKeyCreator = /** @class */ (function () {\n    function ColumnKeyCreator() {\n        this.existingKeys = {};\n    }\n    ColumnKeyCreator.prototype.addExistingKeys = function (keys) {\n        for (var i = 0; i < keys.length; i++) {\n            this.existingKeys[keys[i]] = true;\n        }\n    };\n    ColumnKeyCreator.prototype.getUniqueKey = function (colId, colField) {\n        // in case user passed in number for colId, convert to string\n        colId = toStringOrNull(colId);\n        var count = 0;\n        while (true) {\n            var idToTry = void 0;\n            if (colId) {\n                idToTry = colId;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            }\n            else if (colField) {\n                idToTry = colField;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            }\n            else {\n                idToTry = '' + count;\n            }\n            if (!this.existingKeys[idToTry]) {\n                this.existingKeys[idToTry] = true;\n                return idToTry;\n            }\n            count++;\n        }\n    };\n    return ColumnKeyCreator;\n}());\nexport { ColumnKeyCreator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { missing } from \"../utils/generic\";\nimport { addCssClass } from \"../utils/dom\";\nvar CssClassApplier = /** @class */ (function () {\n    function CssClassApplier() {\n    }\n    CssClassApplier.addHeaderClassesFromColDef = function (abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (missing(abstractColDef)) {\n            return;\n        }\n        this.addColumnClassesFromCollDef(abstractColDef.headerClass, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup);\n    };\n    CssClassApplier.addToolPanelClassesFromColDef = function (abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (missing(abstractColDef)) {\n            return;\n        }\n        this.addColumnClassesFromCollDef(abstractColDef.toolPanelClass, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup);\n    };\n    CssClassApplier.addColumnClassesFromCollDef = function (classesOrFunc, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (missing(classesOrFunc)) {\n            return;\n        }\n        var classToUse;\n        if (typeof classesOrFunc === 'function') {\n            var params = {\n                // bad naming, as colDef here can be a group or a column,\n                // however most people won't appreciate the difference,\n                // so keeping it as colDef to avoid confusion.\n                colDef: abstractColDef,\n                column: column,\n                columnGroup: columnGroup,\n                context: gridOptionsWrapper.getContext(),\n                api: gridOptionsWrapper.getApi()\n            };\n            var headerClassFunc = classesOrFunc;\n            classToUse = headerClassFunc(params);\n        }\n        else {\n            classToUse = classesOrFunc;\n        }\n        if (typeof classToUse === 'string') {\n            addCssClass(eHeaderCell, classToUse);\n        }\n        else if (Array.isArray(classToUse)) {\n            classToUse.forEach(function (cssClassItem) {\n                addCssClass(eHeaderCell, cssClassItem);\n            });\n        }\n    };\n    return CssClassApplier;\n}());\nexport { CssClassApplier };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DateFilter } from './dateFilter';\nimport { Autowired } from '../../../context/context';\nimport { DateCompWrapper } from './dateCompWrapper';\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { SimpleFilter } from '../simpleFilter';\nimport { SimpleFloatingFilter } from '../../floating/provided/simpleFloatingFilter';\nimport { ProvidedFilter } from '../providedFilter';\nimport { setDisplayed } from '../../../utils/dom';\nimport { parseDateTimeFromString, serialiseDate } from '../../../utils/date';\nimport { debounce } from '../../../utils/function';\nvar DateFloatingFilter = /** @class */ (function (_super) {\n    __extends(DateFloatingFilter, _super);\n    function DateFloatingFilter() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eReadOnlyText\\\"></ag-input-text-field>\\n                <div ref=\\\"eDateWrapper\\\" style=\\\"display: flex;\\\"></div>\\n            </div>\") || this;\n    }\n    DateFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return DateFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    DateFloatingFilter.prototype.conditionToString = function (condition) {\n        if (condition.type === SimpleFilter.IN_RANGE) {\n            return condition.dateFrom + \"-\" + condition.dateTo;\n        }\n        // cater for when the type doesn't need a value\n        if (condition.dateFrom != null) {\n            return \"\" + condition.dateFrom;\n        }\n        return \"\" + condition.type;\n    };\n    DateFloatingFilter.prototype.init = function (params) {\n        _super.prototype.init.call(this, params);\n        this.params = params;\n        this.createDateComponent();\n        this.eReadOnlyText\n            .setDisabled(true)\n            .setInputAriaLabel('Date Filter Input');\n    };\n    DateFloatingFilter.prototype.setEditable = function (editable) {\n        setDisplayed(this.eDateWrapper, editable);\n        setDisplayed(this.eReadOnlyText.getGui(), !editable);\n    };\n    DateFloatingFilter.prototype.onParentModelChanged = function (model, event) {\n        // We don't want to update the floating filter if the floating filter caused the change,\n        // because the UI is already in sync. if we didn't do this, the UI would behave strangely\n        // as it would be updating as the user is typing\n        if (this.isEventFromFloatingFilter(event)) {\n            return;\n        }\n        _super.prototype.setLastTypeFromModel.call(this, model);\n        var allowEditing = this.canWeEditAfterModelFromParentFilter(model);\n        this.setEditable(allowEditing);\n        if (allowEditing) {\n            if (model) {\n                var dateModel = model;\n                this.dateComp.setDate(parseDateTimeFromString(dateModel.dateFrom));\n            }\n            else {\n                this.dateComp.setDate(null);\n            }\n            this.eReadOnlyText.setValue('');\n        }\n        else {\n            this.eReadOnlyText.setValue(this.getTextFromModel(model));\n            this.dateComp.setDate(null);\n        }\n    };\n    DateFloatingFilter.prototype.onDateChanged = function () {\n        var _this = this;\n        var filterValueDate = this.dateComp.getDate();\n        var filterValueText = serialiseDate(filterValueDate);\n        this.params.parentFilterInstance(function (filterInstance) {\n            if (filterInstance) {\n                var simpleFilter = filterInstance;\n                simpleFilter.onFloatingFilterChanged(_this.getLastType(), filterValueText);\n            }\n        });\n    };\n    DateFloatingFilter.prototype.createDateComponent = function () {\n        var _this = this;\n        var debounceMs = ProvidedFilter.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n        var dateComponentParams = {\n            onDateChanged: debounce(this.onDateChanged.bind(this), debounceMs),\n            filterParams: this.params.column.getColDef().filterParams\n        };\n        this.dateComp = new DateCompWrapper(this.getContext(), this.userComponentFactory, dateComponentParams, this.eDateWrapper);\n        this.addDestroyFunc(function () { return _this.dateComp.destroy(); });\n    };\n    __decorate([\n        Autowired('userComponentFactory')\n    ], DateFloatingFilter.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        RefSelector('eReadOnlyText')\n    ], DateFloatingFilter.prototype, \"eReadOnlyText\", void 0);\n    __decorate([\n        RefSelector('eDateWrapper')\n    ], DateFloatingFilter.prototype, \"eDateWrapper\", void 0);\n    return DateFloatingFilter;\n}(SimpleFloatingFilter));\nexport { DateFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { getFunctionName } from '../utils/function';\nexport function QuerySelector(selector) {\n    return querySelectorFunc.bind(this, selector);\n}\nexport function RefSelector(ref) {\n    return querySelectorFunc.bind(this, \"[ref=\" + ref + \"]\");\n}\nfunction querySelectorFunc(selector, classPrototype, methodOrAttributeName, index) {\n    if (selector === null) {\n        console.error('ag-Grid: QuerySelector selector should not be null');\n        return;\n    }\n    if (typeof index === 'number') {\n        console.error('ag-Grid: QuerySelector should be on an attribute');\n        return;\n    }\n    addToObjectProps(classPrototype, 'querySelectors', {\n        attributeName: methodOrAttributeName,\n        querySelector: selector\n    });\n}\n// think we should take this out, put property bindings on the\nexport function GridListener(eventName) {\n    return gridListenerFunc.bind(this, eventName);\n}\nfunction gridListenerFunc(eventName, target, methodName) {\n    if (eventName == null) {\n        console.error('ag-Grid: GridListener eventName is missing');\n        return;\n    }\n    addToObjectProps(target, 'gridListenerMethods', {\n        methodName: methodName,\n        eventName: eventName\n    });\n}\n// think we should take this out, put property bindings on the\nexport function GuiListener(ref, eventName) {\n    return guiListenerFunc.bind(this, ref, eventName);\n}\nfunction guiListenerFunc(ref, eventName, target, methodName) {\n    if (eventName == null) {\n        console.error('ag-Grid: GuiListener eventName is missing');\n        return;\n    }\n    addToObjectProps(target, 'guiListenerMethods', {\n        methodName: methodName,\n        eventName: eventName,\n        ref: ref\n    });\n}\n// // think we should take this out, put property bindings on the\n// export function Method(eventName?: string): Function {\n//     return methodFunc.bind(this, eventName);\n// }\n//\n// function methodFunc(alias: string, target: Object, methodName: string) {\n//     if (alias === null) {\n//         console.error(\"ag-Grid: EventListener eventName should not be null\");\n//         return;\n//     }\n//\n//     addToObjectProps(target, 'methods', {\n//         methodName: methodName,\n//         alias: alias\n//     });\n// }\nfunction addToObjectProps(target, key, value) {\n    // it's an attribute on the class\n    var props = getOrCreateProps(target, getFunctionName(target.constructor));\n    if (!props[key]) {\n        props[key] = [];\n    }\n    props[key].push(value);\n}\nfunction getOrCreateProps(target, instanceName) {\n    if (!target.__agComponentMetaData) {\n        target.__agComponentMetaData = {};\n    }\n    if (!target.__agComponentMetaData[instanceName]) {\n        target.__agComponentMetaData[instanceName] = {};\n    }\n    return target.__agComponentMetaData[instanceName];\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// ARIA HELPER FUNCTIONS\nfunction setAriaAttribute(element, attribute, value) {\n    element.setAttribute(ariaAttributeName(attribute), value.toString());\n}\nfunction removeAriaAttribute(element, attribute) {\n    element.removeAttribute(ariaAttributeName(attribute));\n}\nfunction ariaAttributeName(attribute) {\n    return \"aria-\" + attribute;\n}\nexport function getAriaSortState(column) {\n    var sort;\n    if (column.isSortAscending()) {\n        sort = 'ascending';\n    }\n    else if (column.isSortDescending()) {\n        sort = 'descending';\n    }\n    else {\n        sort = 'none';\n    }\n    return sort;\n}\n// ARIA ATTRIBUTE GETTERS\nexport function getAriaLevel(element) {\n    return parseInt(element.getAttribute('aria-level'), 10);\n}\nexport function getAriaPosInSet(element) {\n    return parseInt(element.getAttribute('aria-posinset'), 10);\n}\n// ARIA ATTRIBUTE SETTERS\nexport function setAriaLabel(element, label) {\n    setAriaAttribute(element, 'label', label);\n}\nexport function setAriaLabelledBy(element, labelledBy) {\n    setAriaAttribute(element, 'labelledby', labelledBy);\n}\nexport function setAriaDescribedBy(element, describedby) {\n    setAriaAttribute(element, 'describedby', describedby);\n}\nexport function setAriaLevel(element, level) {\n    setAriaAttribute(element, 'level', level);\n}\nexport function setAriaDisabled(element, disabled) {\n    setAriaAttribute(element, 'disabled', disabled);\n}\nexport function setAriaExpanded(element, expanded) {\n    setAriaAttribute(element, 'expanded', expanded);\n}\nexport function removeAriaExpanded(element) {\n    removeAriaAttribute(element, 'expanded');\n}\nexport function setAriaSetSize(element, setsize) {\n    setAriaAttribute(element, 'setsize', setsize);\n}\nexport function setAriaPosInSet(element, position) {\n    setAriaAttribute(element, 'posinset', position);\n}\nexport function setAriaMultiSelectable(element, multiSelectable) {\n    setAriaAttribute(element, 'multiselectable', multiSelectable);\n}\nexport function setAriaRowCount(element, rowCount) {\n    setAriaAttribute(element, 'rowcount', rowCount);\n}\nexport function setAriaRowIndex(element, rowIndex) {\n    setAriaAttribute(element, 'rowindex', rowIndex);\n}\nexport function setAriaColCount(element, colCount) {\n    setAriaAttribute(element, 'colcount', colCount);\n}\nexport function setAriaColIndex(element, colIndex) {\n    setAriaAttribute(element, 'colindex', colIndex);\n}\nexport function setAriaColSpan(element, colSpan) {\n    setAriaAttribute(element, 'colspan', colSpan);\n}\nexport function setAriaSort(element, sort) {\n    setAriaAttribute(element, 'sort', sort);\n}\nexport function removeAriaSort(element) {\n    removeAriaAttribute(element, 'sort');\n}\nexport function setAriaSelected(element, selected) {\n    var attributeName = 'selected';\n    if (selected) {\n        setAriaAttribute(element, attributeName, selected);\n    }\n    else {\n        removeAriaAttribute(element, attributeName);\n    }\n}\nexport function setAriaChecked(element, checked) {\n    setAriaAttribute(element, 'checked', checked === undefined ? 'mixed' : checked);\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Optional } from \"./context/context\";\nimport { RefSelector } from \"./widgets/componentAnnotations\";\nimport { Events } from \"./events\";\nimport { SideBarDefParser } from \"./entities/sideBar\";\nimport { ModuleNames } from \"./modules/moduleNames\";\nimport { ModuleRegistry } from \"./modules/moduleRegistry\";\nimport { ManagedFocusComponent } from \"./widgets/managedFocusComponent\";\nimport { addCssClass, removeCssClass, isVisible } from \"./utils/dom\";\nimport { findIndex, last } from \"./utils/array\";\nvar GridCore = /** @class */ (function (_super) {\n    __extends(GridCore, _super);\n    function GridCore() {\n        return _super.call(this, undefined, true) || this;\n    }\n    GridCore.prototype.postConstruct = function () {\n        var _this = this;\n        this.logger = this.loggerFactory.create('GridCore');\n        var template = this.createTemplate();\n        this.setTemplate(template);\n        // register with services that need grid core\n        [\n            this.gridApi,\n            this.rowRenderer,\n            this.popupService,\n            this.focusController\n        ].forEach(function (service) { return service.registerGridCore(_this); });\n        if (ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)) {\n            this.clipboardService.registerGridCore(this);\n        }\n        this.gridOptionsWrapper.addLayoutElement(this.getGui());\n        this.eGridDiv.appendChild(this.getGui());\n        this.addDestroyFunc(function () {\n            _this.eGridDiv.removeChild(_this.getGui());\n        });\n        // if using angular, watch for quickFilter changes\n        if (this.$scope) {\n            var quickFilterUnregisterFn = this.$scope.$watch(this.quickFilterOnScope, function (newFilter) { return _this.filterManager.setQuickFilter(newFilter); });\n            this.addDestroyFunc(quickFilterUnregisterFn);\n        }\n        // important to set rtl before doLayout, as setting the RTL class impacts the scroll position,\n        // which doLayout indirectly depends on\n        this.addRtlSupport();\n        this.logger.log('ready');\n        this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);\n        var unsubscribeFromResize = this.resizeObserverService.observeResize(this.eGridDiv, this.onGridSizeChanged.bind(this));\n        this.addDestroyFunc(function () { return unsubscribeFromResize(); });\n        var eGui = this.getGui();\n        this.addManagedListener(this.eventService, Events.EVENT_KEYBOARD_FOCUS, function () {\n            addCssClass(eGui, 'ag-keyboard-focus');\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_MOUSE_FOCUS, function () {\n            removeCssClass(eGui, 'ag-keyboard-focus');\n        });\n        _super.prototype.postConstruct.call(this);\n    };\n    GridCore.prototype.getFocusableElement = function () {\n        return this.eRootWrapperBody;\n    };\n    GridCore.prototype.createTemplate = function () {\n        var sideBarModuleLoaded = ModuleRegistry.isRegistered(ModuleNames.SideBarModule);\n        var statusBarModuleLoaded = ModuleRegistry.isRegistered(ModuleNames.StatusBarModule);\n        var rowGroupingLoaded = ModuleRegistry.isRegistered(ModuleNames.RowGroupingModule);\n        var enterpriseCoreLoaded = ModuleRegistry.isRegistered(ModuleNames.EnterpriseCoreModule);\n        var dropZones = rowGroupingLoaded ? '<ag-grid-header-drop-zones></ag-grid-header-drop-zones>' : '';\n        var sideBar = sideBarModuleLoaded ? '<ag-side-bar ref=\"sideBar\"></ag-side-bar>' : '';\n        var statusBar = statusBarModuleLoaded ? '<ag-status-bar ref=\"statusBar\"></ag-status-bar>' : '';\n        var watermark = enterpriseCoreLoaded ? '<ag-watermark></ag-watermark>' : '';\n        var template = \"<div ref=\\\"eRootWrapper\\\" class=\\\"ag-root-wrapper\\\">\\n                \" + dropZones + \"\\n                <div class=\\\"ag-root-wrapper-body\\\" ref=\\\"rootWrapperBody\\\">\\n                    <ag-grid-comp ref=\\\"gridPanel\\\"></ag-grid-comp>\\n                    \" + sideBar + \"\\n                </div>\\n                \" + statusBar + \"\\n                <ag-pagination></ag-pagination>\\n                \" + watermark + \"\\n            </div>\";\n        return template;\n    };\n    GridCore.prototype.getFocusableContainers = function () {\n        var focusableContainers = [\n            this.gridPanel.getGui()\n        ];\n        if (this.sideBarComp) {\n            focusableContainers.push(this.sideBarComp.getGui());\n        }\n        return focusableContainers.filter(function (el) { return isVisible(el); });\n    };\n    GridCore.prototype.focusNextInnerContainer = function (backwards) {\n        var focusableContainers = this.getFocusableContainers();\n        var idxWithFocus = findIndex(focusableContainers, function (container) { return container.contains(document.activeElement); });\n        var nextIdx = idxWithFocus + (backwards ? -1 : 1);\n        if (nextIdx < 0 || nextIdx >= focusableContainers.length) {\n            return false;\n        }\n        if (nextIdx === 0) {\n            return this.focusGridHeader();\n        }\n        return this.focusController.focusInto(focusableContainers[nextIdx]);\n    };\n    GridCore.prototype.focusInnerElement = function (fromBottom) {\n        var focusableContainers = this.getFocusableContainers();\n        if (fromBottom) {\n            if (focusableContainers.length > 1) {\n                return this.focusController.focusInto(last(focusableContainers));\n            }\n            var lastColumn = last(this.columnController.getAllDisplayedColumns());\n            if (this.focusController.focusGridView(lastColumn, true)) {\n                return true;\n            }\n        }\n        return this.focusGridHeader();\n    };\n    GridCore.prototype.focusGridHeader = function () {\n        var firstColumn = this.columnController.getAllDisplayedColumns()[0];\n        if (!firstColumn) {\n            return false;\n        }\n        if (firstColumn.getParent()) {\n            firstColumn = this.columnController.getColumnGroupAtLevel(firstColumn, 0);\n        }\n        this.focusController.focusHeaderPosition({\n            headerRowIndex: 0,\n            column: firstColumn\n        });\n        return true;\n    };\n    GridCore.prototype.onGridSizeChanged = function () {\n        var event = {\n            type: Events.EVENT_GRID_SIZE_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            clientWidth: this.eGridDiv.clientWidth,\n            clientHeight: this.eGridDiv.clientHeight\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    GridCore.prototype.addRtlSupport = function () {\n        var cssClass = this.gridOptionsWrapper.isEnableRtl() ? 'ag-rtl' : 'ag-ltr';\n        addCssClass(this.getGui(), cssClass);\n    };\n    GridCore.prototype.getRootGui = function () {\n        return this.getGui();\n    };\n    GridCore.prototype.isSideBarVisible = function () {\n        if (!this.sideBarComp) {\n            return false;\n        }\n        return this.sideBarComp.isDisplayed();\n    };\n    GridCore.prototype.setSideBarVisible = function (show) {\n        if (!this.sideBarComp) {\n            if (show) {\n                console.warn('ag-Grid: sideBar is not loaded');\n            }\n            return;\n        }\n        this.sideBarComp.setDisplayed(show);\n    };\n    GridCore.prototype.setSideBarPosition = function (position) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: sideBar is not loaded');\n            return;\n        }\n        this.sideBarComp.setSideBarPosition(position);\n    };\n    GridCore.prototype.closeToolPanel = function () {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        this.sideBarComp.close();\n    };\n    GridCore.prototype.getSideBar = function () {\n        return this.gridOptions.sideBar;\n    };\n    GridCore.prototype.getToolPanelInstance = function (key) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        return this.sideBarComp.getToolPanelInstance(key);\n    };\n    GridCore.prototype.refreshSideBar = function () {\n        if (this.sideBarComp) {\n            this.sideBarComp.refresh();\n        }\n    };\n    GridCore.prototype.setSideBar = function (def) {\n        if (!this.sideBarComp) {\n            return;\n        }\n        this.eRootWrapperBody.removeChild(this.sideBarComp.getGui());\n        this.gridOptions.sideBar = SideBarDefParser.parse(def);\n        this.sideBarComp.reset();\n        this.eRootWrapperBody.appendChild(this.sideBarComp.getGui());\n    };\n    GridCore.prototype.getOpenedToolPanel = function () {\n        if (!this.sideBarComp) {\n            return null;\n        }\n        return this.sideBarComp.openedItem();\n    };\n    GridCore.prototype.openToolPanel = function (key) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        this.sideBarComp.openToolPanel(key);\n    };\n    GridCore.prototype.isToolPanelShowing = function () {\n        return this.sideBarComp.isToolPanelShowing();\n    };\n    GridCore.prototype.destroy = function () {\n        this.logger.log('Grid DOM removed');\n        _super.prototype.destroy.call(this);\n    };\n    // Valid values for position are bottom, middle and top\n    GridCore.prototype.ensureNodeVisible = function (comparator, position) {\n        if (position === void 0) { position = null; }\n        if (this.doingVirtualPaging) {\n            throw new Error('Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory');\n        }\n        // look for the node index we want to display\n        var rowCount = this.rowModel.getRowCount();\n        var comparatorIsAFunction = typeof comparator === 'function';\n        var indexToSelect = -1;\n        // go through all the nodes, find the one we want to show\n        for (var i = 0; i < rowCount; i++) {\n            var node = this.rowModel.getRow(i);\n            if (comparatorIsAFunction) {\n                if (comparator(node)) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n            else {\n                // check object equality against node and data\n                if (comparator === node || comparator === node.data) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n        }\n        if (indexToSelect >= 0) {\n            this.gridPanel.ensureIndexVisible(indexToSelect, position);\n        }\n    };\n    GridCore.prototype.onTabKeyDown = function () { };\n    __decorate([\n        Autowired('gridOptions')\n    ], GridCore.prototype, \"gridOptions\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], GridCore.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], GridCore.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('resizeObserverService')\n    ], GridCore.prototype, \"resizeObserverService\", void 0);\n    __decorate([\n        Autowired('rowRenderer')\n    ], GridCore.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], GridCore.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('eGridDiv')\n    ], GridCore.prototype, \"eGridDiv\", void 0);\n    __decorate([\n        Autowired('$scope')\n    ], GridCore.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired('quickFilterOnScope')\n    ], GridCore.prototype, \"quickFilterOnScope\", void 0);\n    __decorate([\n        Autowired('popupService')\n    ], GridCore.prototype, \"popupService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], GridCore.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('loggerFactory')\n    ], GridCore.prototype, \"loggerFactory\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], GridCore.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], GridCore.prototype, \"gridApi\", void 0);\n    __decorate([\n        Optional('clipboardService')\n    ], GridCore.prototype, \"clipboardService\", void 0);\n    __decorate([\n        RefSelector('gridPanel')\n    ], GridCore.prototype, \"gridPanel\", void 0);\n    __decorate([\n        RefSelector('sideBar')\n    ], GridCore.prototype, \"sideBarComp\", void 0);\n    __decorate([\n        RefSelector('rootWrapperBody')\n    ], GridCore.prototype, \"eRootWrapperBody\", void 0);\n    return GridCore;\n}(ManagedFocusComponent));\nexport { GridCore };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar reUnescapedHtml = /[&<>\"']/g;\n/**\n * HTML Escapes.\n */\nvar HTML_ESCAPES = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\n/**\n * It encodes any string in UTF-8 format\n * taken from https://github.com/mathiasbynens/utf8.js\n * @param {string} s\n * @returns {string}\n */\nexport function utf8_encode(s) {\n    var stringFromCharCode = String.fromCharCode;\n    function ucs2decode(string) {\n        var output = [];\n        var counter = 0;\n        var length = string.length;\n        var value;\n        var extra;\n        while (counter < length) {\n            value = string.charCodeAt(counter++);\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n                // high surrogate, and there is a next character\n                extra = string.charCodeAt(counter++);\n                if ((extra & 0xFC00) == 0xDC00) { // low surrogate\n                    output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n                }\n                else {\n                    // unmatched surrogate; only append this code unit, in case the next\n                    // code unit is the high surrogate of a surrogate pair\n                    output.push(value);\n                    counter--;\n                }\n            }\n            else {\n                output.push(value);\n            }\n        }\n        return output;\n    }\n    function checkScalarValue(codePoint) {\n        if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n            throw Error('Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n                ' is not a scalar value');\n        }\n    }\n    function createByte(codePoint, shift) {\n        return stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n    }\n    function encodeCodePoint(codePoint) {\n        if ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n            return stringFromCharCode(codePoint);\n        }\n        var symbol = '';\n        if ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n            symbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n        }\n        else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n            checkScalarValue(codePoint);\n            symbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n            symbol += createByte(codePoint, 6);\n        }\n        else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n            symbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n            symbol += createByte(codePoint, 12);\n            symbol += createByte(codePoint, 6);\n        }\n        symbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n        return symbol;\n    }\n    var codePoints = ucs2decode(s);\n    var length = codePoints.length;\n    var index = -1;\n    var codePoint;\n    var byteString = '';\n    while (++index < length) {\n        codePoint = codePoints[index];\n        byteString += encodeCodePoint(codePoint);\n    }\n    return byteString;\n}\n/**\n * Converts a camelCase string into hyphenated string\n * from https://gist.github.com/youssman/745578062609e8acac9f\n * @param {string} str\n * @return {string}\n */\nexport function camelCaseToHyphen(str) {\n    if (str === null || str === undefined) {\n        return null;\n    }\n    return str.replace(/([A-Z])/g, function (g) { return '-' + g[0].toLowerCase(); });\n}\n/**\n * Converts a hyphenated string into camelCase string\n * from https://stackoverflow.com/questions/6660977/convert-hyphens-to-camel-case-camelcase\n * @param {string} str\n * @return {string}\n */\nexport function hyphenToCamelCase(str) {\n    if (str === null || str === undefined) {\n        return null;\n    }\n    return str.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n}\nexport function capitalise(str) {\n    return str[0].toUpperCase() + str.substr(1).toLowerCase();\n}\nexport function escapeString(toEscape) {\n    return toEscape == null || !toEscape.replace ? toEscape : toEscape.replace(reUnescapedHtml, function (chr) { return HTML_ESCAPES[chr]; });\n}\n/**\n * Converts a camelCase string into regular text\n * from: https://stackoverflow.com/questions/15369566/putting-space-in-camel-case-string-using-regular-expression\n * @param {string} camelCase\n * @return {string}\n */\nexport function camelCaseToHumanText(camelCase) {\n    if (!camelCase || camelCase == null) {\n        return null;\n    }\n    var rex = /([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g;\n    var words = camelCase.replace(rex, '$1$4 $2$3$5').replace('.', ' ').split(' ');\n    return words.map(function (word) { return word.substring(0, 1).toUpperCase() + ((word.length > 1) ? word.substring(1, word.length) : ''); }).join(' ');\n}\nexport function startsWith(str, matchStart) {\n    if (str === matchStart) {\n        return true;\n    }\n    return str != null && str.slice(0, matchStart.length) === matchStart;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar KeyCode = /** @class */ (function () {\n    function KeyCode() {\n    }\n    KeyCode.BACKSPACE = 8;\n    KeyCode.TAB = 9;\n    KeyCode.NEW_LINE = 10;\n    KeyCode.ENTER = 13;\n    KeyCode.SHIFT = 16;\n    KeyCode.ESCAPE = 27;\n    KeyCode.SPACE = 32;\n    KeyCode.LEFT = 37;\n    KeyCode.UP = 38;\n    KeyCode.RIGHT = 39;\n    KeyCode.DOWN = 40;\n    KeyCode.DELETE = 46;\n    KeyCode.A = 65;\n    KeyCode.C = 67;\n    KeyCode.V = 86;\n    KeyCode.D = 68;\n    KeyCode.Z = 90;\n    KeyCode.Y = 89;\n    KeyCode.F2 = 113;\n    KeyCode.PAGE_UP = 33;\n    KeyCode.PAGE_DOWN = 34;\n    KeyCode.PAGE_HOME = 36;\n    KeyCode.PAGE_END = 35;\n    return KeyCode;\n}());\nexport { KeyCode };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/**\n * These keys are used for validating properties supplied on a gridOptions object, and for code generation.\n * If you change the properties on the gridOptions interface, you *must* update this file as well to be consistent.\n */\nvar PropertyKeys = /** @class */ (function () {\n    function PropertyKeys() {\n    }\n    PropertyKeys.STRING_PROPERTIES = [\n        'sortingOrder', 'rowClass', 'rowSelection', 'overlayLoadingTemplate', 'overlayNoRowsTemplate',\n        'quickFilterText', 'rowModelType', 'editType', 'domLayout', 'clipboardDeliminator', 'rowGroupPanelShow',\n        'multiSortKey', 'pivotColumnGroupTotals', 'pivotRowTotals', 'pivotPanelShow', 'fillHandleDirection'\n    ];\n    PropertyKeys.OBJECT_PROPERTIES = [\n        'components', 'frameworkComponents', 'rowStyle', 'context', 'autoGroupColumnDef', 'localeText', 'icons',\n        'datasource', 'serverSideDatasource', 'viewportDatasource', 'groupRowRendererParams', 'aggFuncs',\n        'fullWidthCellRendererParams', 'defaultColGroupDef', 'defaultColDef', 'defaultExportParams', 'columnTypes',\n        'rowClassRules', 'detailGridOptions', 'detailCellRendererParams', 'loadingCellRendererParams',\n        'loadingOverlayComponentParams', 'noRowsOverlayComponentParams', 'popupParent', 'colResizeDefault',\n        'reduxStore', 'statusBar', 'sideBar', 'chartThemeOverrides', 'customChartThemes'\n    ];\n    PropertyKeys.ARRAY_PROPERTIES = [\n        'alignedGrids', 'rowData', 'columnDefs', 'excelStyles', 'pinnedTopRowData', 'pinnedBottomRowData', 'chartThemes'\n    ];\n    PropertyKeys.NUMBER_PROPERTIES = [\n        'rowHeight', 'detailRowHeight', 'rowBuffer', 'colWidth', 'headerHeight', 'groupHeaderHeight', 'floatingFiltersHeight',\n        'pivotHeaderHeight', 'pivotGroupHeaderHeight', 'groupDefaultExpanded', 'minColWidth', 'maxColWidth', 'viewportRowModelPageSize',\n        'viewportRowModelBufferSize', 'autoSizePadding', 'maxBlocksInCache', 'maxConcurrentDatasourceRequests', 'tooltipShowDelay',\n        'cacheOverflowSize', 'paginationPageSize', 'cacheBlockSize', 'infiniteInitialRowCount', 'scrollbarWidth',\n        'batchUpdateWaitMillis', 'asyncTransactionWaitMillis', 'blockLoadDebounceMillis', 'keepDetailRowsCount',\n        'undoRedoCellEditingLimit', 'cellFlashDelay', 'cellFadeDelay'\n    ];\n    PropertyKeys.BOOLEAN_PROPERTIES = [\n        'suppressMakeColumnVisibleAfterUnGroup', 'suppressRowClickSelection', 'suppressCellSelection', 'suppressHorizontalScroll',\n        'alwaysShowVerticalScroll', 'debug', 'enableBrowserTooltips', 'enableCellExpressions',\n        'angularCompileRows', 'angularCompileFilters', 'groupSuppressAutoColumn', 'groupSelectsChildren', 'groupIncludeFooter',\n        'groupIncludeTotalFooter', 'groupUseEntireRow', 'groupSuppressBlankHeader', 'suppressMenuHide', 'suppressRowDeselection',\n        'unSortIcon', 'suppressMultiSort', 'singleClickEdit', 'suppressLoadingOverlay', 'suppressNoRowsOverlay', 'suppressAutoSize',\n        'skipHeaderOnAutoSize', 'suppressParentsInRowNodes', 'suppressColumnMoveAnimation', 'suppressMovableColumns',\n        'suppressFieldDotNotation', 'enableRangeSelection', 'enableRangeHandle', 'enableFillHandle', 'suppressClearOnFillReduction',\n        'deltaSort', 'suppressTouch', 'suppressAsyncEvents', 'allowContextMenuWithControlKey', 'suppressContextMenu',\n        'rememberGroupStateWhenNewData', 'enableCellChangeFlash', 'suppressDragLeaveHidesColumns', 'suppressMiddleClickScrolls',\n        'suppressPreventDefaultOnMouseWheel', 'suppressCopyRowsToClipboard', 'copyHeadersToClipboard', 'pivotMode',\n        'suppressAggFuncInHeader', 'suppressColumnVirtualisation', 'suppressAggAtRootLevel', 'suppressFocusAfterRefresh',\n        'functionsPassive', 'functionsReadOnly', 'animateRows', 'groupSelectsFiltered', 'groupRemoveSingleChildren',\n        'groupRemoveLowestSingleChildren', 'enableRtl', 'suppressClickEdit', 'rowDragManaged', 'suppressRowDrag',\n        'suppressMoveWhenRowDragging', 'enableMultiRowDragging', 'enableGroupEdit', 'embedFullWidthRows', 'deprecatedEmbedFullWidthRows',\n        'suppressPaginationPanel', 'floatingFilter', 'groupHideOpenParents', 'groupMultiAutoColumn', 'pagination',\n        'stopEditingWhenGridLosesFocus', 'paginationAutoPageSize', 'suppressScrollOnNewData', 'purgeClosedRowNodes', 'cacheQuickFilter',\n        'deltaRowDataMode', 'ensureDomOrder', 'accentedSort', 'suppressChangeDetection', 'valueCache', 'valueCacheNeverExpires',\n        'aggregateOnlyChangedColumns', 'suppressAnimationFrame', 'suppressExcelExport', 'suppressCsvExport', 'treeData',\n        'masterDetail', 'suppressMultiRangeSelection', 'enterMovesDownAfterEdit', 'enterMovesDown', 'suppressPropertyNamesCheck',\n        'rowMultiSelectWithClick', 'suppressEnterpriseResetOnNewColumns', 'enableOldSetFilterModel', 'suppressRowHoverHighlight',\n        'suppressRowTransform', 'suppressClipboardPaste', 'suppressLastEmptyLineOnPaste', 'serverSideSortingAlwaysResets',\n        'reactNext', 'suppressSetColumnStateEvents', 'suppressColumnStateEvents', 'enableCharts', 'deltaColumnMode', 'suppressMaintainUnsortedOrder',\n        'enableCellTextSelection', 'suppressBrowserResizeObserver', 'suppressMaxRenderedRowRestriction',\n        'excludeChildrenWhenTreeDataFiltering', 'tooltipMouseTrack', 'keepDetailRows', 'paginateChildRows', 'preventDefaultOnContextMenu',\n        'undoRedoCellEditing', 'allowDragFromColumnsToolPanel', 'immutableData', 'immutableColumns', 'pivotSuppressAutoColumn',\n        'suppressExpandablePivotGroups', 'applyColumnDefOrder', 'debounceVerticalScrollbar'\n    ];\n    /** You do not need to include event callbacks in this list, as they are generated automatically. */\n    PropertyKeys.FUNCTION_PROPERTIES = [\n        'localeTextFunc', 'groupRowInnerRenderer', 'groupRowInnerRendererFramework', 'dateComponent', 'dateComponentFramework', 'groupRowRenderer',\n        'groupRowRendererFramework', 'isExternalFilterPresent', 'getRowHeight', 'doesExternalFilterPass', 'getRowClass', 'getRowStyle',\n        'getRowClassRules', 'traverseNode', 'getContextMenuItems', 'getMainMenuItems', 'processRowPostCreate', 'processCellForClipboard',\n        'groupRowAggNodes', 'getRowNodeId', 'isFullWidthCell', 'fullWidthCellRenderer', 'fullWidthCellRendererFramework',\n        'processSecondaryColDef', 'processSecondaryColGroupDef', 'getBusinessKeyForNode', 'sendToClipboard', 'navigateToNextCell',\n        'tabToNextCell', 'getDetailRowData', 'processCellFromClipboard', 'getDocument', 'postProcessPopup', 'getChildCount', 'getDataPath',\n        'loadingCellRenderer', 'loadingCellRendererFramework', 'loadingOverlayComponent', 'loadingOverlayComponentFramework', 'noRowsOverlayComponent',\n        'noRowsOverlayComponentFramework', 'detailCellRenderer', 'detailCellRendererFramework', 'defaultGroupSortComparator', 'isRowMaster',\n        'isRowSelectable', 'postSort', 'processHeaderForClipboard', 'paginationNumberFormatter', 'processDataFromClipboard', 'getServerSideGroupKey',\n        'isServerSideGroup', 'suppressKeyboardEvent', 'createChartContainer', 'processChartOptions', 'getChartToolbarItems', 'fillOperation'\n    ];\n    PropertyKeys.ALL_PROPERTIES = __spreadArrays(PropertyKeys.ARRAY_PROPERTIES, PropertyKeys.OBJECT_PROPERTIES, PropertyKeys.STRING_PROPERTIES, PropertyKeys.NUMBER_PROPERTIES, PropertyKeys.FUNCTION_PROPERTIES, PropertyKeys.BOOLEAN_PROPERTIES);\n    /**\n     * Used when performing property checks. This avoids noise caused when using frameworks, which can add their own\n     * framework-specific properties to colDefs, gridOptions etc.\n     */\n    PropertyKeys.FRAMEWORK_PROPERTIES = [\n        '__ob__', '__metadata__', 'mappedColumnProperties', 'hasChildColumns', 'toColDef', 'createColDefFromGridColumn'\n    ];\n    return PropertyKeys;\n}());\nexport { PropertyKeys };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport function convertToSet(list) {\n    var set = new Set();\n    list.forEach(function (x) { return set.add(x); });\n    return set;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean } from \"@ag-grid-community/core\";\nvar Downloader = /** @class */ (function () {\n    function Downloader() {\n    }\n    Downloader.prototype.download = function (fileName, content) {\n        // Internet Explorer\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(content, fileName);\n        }\n        else {\n            // Other Browsers\n            var element = document.createElement(\"a\");\n            var url_1 = window.URL.createObjectURL(content);\n            element.setAttribute(\"href\", url_1);\n            element.setAttribute(\"download\", fileName);\n            element.style.display = \"none\";\n            document.body.appendChild(element);\n            element.dispatchEvent(new MouseEvent('click', {\n                bubbles: false,\n                cancelable: true,\n                view: window\n            }));\n            document.body.removeChild(element);\n            window.setTimeout(function () {\n                window.URL.revokeObjectURL(url_1);\n            }, 0);\n        }\n    };\n    Downloader = __decorate([\n        Bean(\"downloader\")\n    ], Downloader);\n    return Downloader;\n}());\nexport { Downloader };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Autowired, Events, Qualifier, RowNodeCache, } from \"@ag-grid-community/core\";\nimport { InfiniteBlock } from \"./infiniteBlock\";\nvar InfiniteCache = /** @class */ (function (_super) {\n    __extends(InfiniteCache, _super);\n    function InfiniteCache(params) {\n        return _super.call(this, params) || this;\n    }\n    InfiniteCache.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('InfiniteCache');\n    };\n    InfiniteCache.prototype.moveItemsDown = function (block, moveFromIndex, moveCount) {\n        var startRow = block.getStartRow();\n        var endRow = block.getEndRow();\n        var indexOfLastRowToMove = moveFromIndex + moveCount;\n        // all rows need to be moved down below the insertion index\n        for (var currentRowIndex = endRow - 1; currentRowIndex >= startRow; currentRowIndex--) {\n            // don't move rows at or before the insertion index\n            if (currentRowIndex < indexOfLastRowToMove) {\n                continue;\n            }\n            var indexOfNodeWeWant = currentRowIndex - moveCount;\n            var nodeForThisIndex = this.getRow(indexOfNodeWeWant, true);\n            if (nodeForThisIndex) {\n                block.setRowNode(currentRowIndex, nodeForThisIndex);\n            }\n            else {\n                block.setBlankRowNode(currentRowIndex);\n                block.setDirty();\n            }\n        }\n    };\n    InfiniteCache.prototype.insertItems = function (block, indexToInsert, items) {\n        var pageStartRow = block.getStartRow();\n        var pageEndRow = block.getEndRow();\n        var newRowNodes = [];\n        // next stage is insert the rows into this page, if applicable\n        for (var index = 0; index < items.length; index++) {\n            var rowIndex = indexToInsert + index;\n            var currentRowInThisPage = rowIndex >= pageStartRow && rowIndex < pageEndRow;\n            if (currentRowInThisPage) {\n                var dataItem = items[index];\n                var newRowNode = block.setNewData(rowIndex, dataItem);\n                newRowNodes.push(newRowNode);\n            }\n        }\n        return newRowNodes;\n    };\n    InfiniteCache.prototype.insertItemsAtIndex = function (indexToInsert, items) {\n        // get all page id's as NUMBERS (not strings, as we need to sort as numbers) and in descending order\n        var _this = this;\n        var newNodes = [];\n        this.forEachBlockInReverseOrder(function (block) {\n            var pageEndRow = block.getEndRow();\n            // if the insertion is after this page, then this page is not impacted\n            if (pageEndRow <= indexToInsert) {\n                return;\n            }\n            _this.moveItemsDown(block, indexToInsert, items.length);\n            var newNodesThisPage = _this.insertItems(block, indexToInsert, items);\n            newNodesThisPage.forEach(function (rowNode) { return newNodes.push(rowNode); });\n        });\n        if (this.isMaxRowFound()) {\n            this.hack_setVirtualRowCount(this.getVirtualRowCount() + items.length);\n        }\n        this.onCacheUpdated();\n        var event = {\n            type: Events.EVENT_ROW_DATA_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    // the rowRenderer will not pass dontCreatePage, meaning when rendering the grid,\n    // it will want new pages in the cache as it asks for rows. only when we are inserting /\n    // removing rows via the api is dontCreatePage set, where we move rows between the pages.\n    InfiniteCache.prototype.getRow = function (rowIndex, dontCreatePage) {\n        if (dontCreatePage === void 0) { dontCreatePage = false; }\n        var blockId = Math.floor(rowIndex / this.cacheParams.blockSize);\n        var block = this.getBlock(blockId);\n        if (!block) {\n            if (dontCreatePage) {\n                return null;\n            }\n            else {\n                block = this.createBlock(blockId);\n            }\n        }\n        return block.getRow(rowIndex);\n    };\n    InfiniteCache.prototype.createBlock = function (blockNumber) {\n        var newBlock = new InfiniteBlock(blockNumber, this.cacheParams);\n        this.getContext().createBean(newBlock);\n        this.postCreateBlock(newBlock);\n        return newBlock;\n    };\n    // we have this on infinite row model only, not server side row model,\n    // because for server side, it would leave the children in inconsistent\n    // state - eg if a node had children, but after the refresh it had data\n    // for a different row, then the children would be with the wrong row node.\n    InfiniteCache.prototype.refreshCache = function () {\n        this.forEachBlockInOrder(function (block) { return block.setDirty(); });\n        this.checkBlockToLoad();\n    };\n    __decorate([\n        Autowired('columnApi')\n    ], InfiniteCache.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], InfiniteCache.prototype, \"gridApi\", void 0);\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], InfiniteCache.prototype, \"setBeans\", null);\n    return InfiniteCache;\n}(RowNodeCache));\nexport { InfiniteCache };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from '../events';\nimport { BeanStub } from \"../context/beanStub\";\nimport { addCssClass, removeCssClass, getAbsoluteHeight, getAbsoluteWidth, containsClass, addOrRemoveCssClass } from '../utils/dom';\nimport { forEach, findIndex, last } from '../utils/array';\nimport { isElementInEventPath } from '../utils/event';\nimport { KeyCode } from '../constants/keyCode';\nvar PopupService = /** @class */ (function (_super) {\n    __extends(PopupService, _super);\n    function PopupService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.popupList = [];\n        return _this;\n    }\n    PopupService.prototype.init = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_KEYBOARD_FOCUS, function () {\n            forEach(_this.popupList, function (popup) { return addCssClass(popup.element, 'ag-keyboard-focus'); });\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_MOUSE_FOCUS, function () {\n            forEach(_this.popupList, function (popup) { return removeCssClass(popup.element, 'ag-keyboard-focus'); });\n        });\n    };\n    PopupService.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    PopupService.prototype.getPopupParent = function () {\n        var ePopupParent = this.gridOptionsWrapper.getPopupParent();\n        if (ePopupParent) {\n            return ePopupParent;\n        }\n        return this.gridCore.getRootGui();\n    };\n    PopupService.prototype.positionPopupForMenu = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var parentRect = this.getParentRect();\n        var y = this.keepYWithinBounds(params, sourceRect.top - parentRect.top);\n        var minWidth = (params.ePopup.clientWidth > 0) ? params.ePopup.clientWidth : 200;\n        params.ePopup.style.minWidth = minWidth + \"px\";\n        var widthOfParent = parentRect.right - parentRect.left;\n        var maxX = widthOfParent - minWidth;\n        // the x position of the popup depends on RTL or LTR. for normal cases, LTR, we put the child popup\n        // to the right, unless it doesn't fit and we then put it to the left. for RTL it's the other way around,\n        // we try place it first to the left, and then if not to the right.\n        var x;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, try left first\n            x = xLeftPosition();\n            if (x < 0) {\n                x = xRightPosition();\n            }\n            if (x > maxX) {\n                x = 0;\n            }\n        }\n        else {\n            // for LTR, try right first\n            x = xRightPosition();\n            if (x > maxX) {\n                x = xLeftPosition();\n            }\n            if (x < 0) {\n                x = 0;\n            }\n        }\n        params.ePopup.style.left = x + \"px\";\n        params.ePopup.style.top = y + \"px\";\n        function xRightPosition() {\n            return sourceRect.right - parentRect.left - 2;\n        }\n        function xLeftPosition() {\n            return sourceRect.left - parentRect.left - minWidth;\n        }\n    };\n    PopupService.prototype.positionPopupUnderMouseEvent = function (params) {\n        var _a = this.calculatePointerAlign(params.mouseEvent), x = _a.x, y = _a.y;\n        var ePopup = params.ePopup, nudgeX = params.nudgeX, nudgeY = params.nudgeY;\n        this.positionPopup({\n            ePopup: ePopup,\n            x: x,\n            y: y,\n            nudgeX: nudgeX,\n            nudgeY: nudgeY,\n            keepWithinBounds: true\n        });\n        this.callPostProcessPopup(params.type, params.ePopup, null, params.mouseEvent, params.column, params.rowNode);\n    };\n    PopupService.prototype.calculatePointerAlign = function (e) {\n        var parentRect = this.getParentRect();\n        return {\n            x: e.clientX - parentRect.left,\n            y: e.clientY - parentRect.top\n        };\n    };\n    PopupService.prototype.positionPopupUnderComponent = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var alignSide = params.alignSide || 'left';\n        var parentRect = this.getParentRect();\n        var x = sourceRect.left - parentRect.left;\n        if (alignSide === 'right') {\n            x -= (params.ePopup.offsetWidth - sourceRect.width);\n        }\n        this.positionPopup({\n            ePopup: params.ePopup,\n            minWidth: params.minWidth,\n            minHeight: params.minHeight,\n            nudgeX: params.nudgeX,\n            nudgeY: params.nudgeY,\n            x: x,\n            y: sourceRect.top - parentRect.top + sourceRect.height,\n            keepWithinBounds: params.keepWithinBounds\n        });\n        this.callPostProcessPopup(params.type, params.ePopup, params.eventSource, null, params.column, params.rowNode);\n    };\n    PopupService.prototype.positionPopupOverComponent = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var parentRect = this.getParentRect();\n        this.positionPopup({\n            ePopup: params.ePopup,\n            minWidth: params.minWidth,\n            nudgeX: params.nudgeX,\n            nudgeY: params.nudgeY,\n            x: sourceRect.left - parentRect.left,\n            y: sourceRect.top - parentRect.top,\n            keepWithinBounds: params.keepWithinBounds\n        });\n        this.callPostProcessPopup(params.type, params.ePopup, params.eventSource, null, params.column, params.rowNode);\n    };\n    PopupService.prototype.callPostProcessPopup = function (type, ePopup, eventSource, mouseEvent, column, rowNode) {\n        var callback = this.gridOptionsWrapper.getPostProcessPopupFunc();\n        if (callback) {\n            var params = {\n                column: column,\n                rowNode: rowNode,\n                ePopup: ePopup,\n                type: type,\n                eventSource: eventSource,\n                mouseEvent: mouseEvent\n            };\n            callback(params);\n        }\n    };\n    PopupService.prototype.positionPopup = function (params) {\n        var x = params.x;\n        var y = params.y;\n        if (params.nudgeX) {\n            x += params.nudgeX;\n        }\n        if (params.nudgeY) {\n            y += params.nudgeY;\n        }\n        // if popup is overflowing to the bottom, move it up\n        if (params.keepWithinBounds) {\n            x = this.keepXWithinBounds(params, x);\n            y = this.keepYWithinBounds(params, y);\n        }\n        params.ePopup.style.left = x + \"px\";\n        params.ePopup.style.top = y + \"px\";\n    };\n    PopupService.prototype.getActivePopups = function () {\n        return this.popupList.map(function (popup) { return popup.element; });\n    };\n    PopupService.prototype.getParentRect = function () {\n        // subtract the popup parent borders, because popupParent.getBoundingClientRect\n        // returns the rect outside the borders, but the 0,0 coordinate for absolute\n        // positioning is inside the border, leading the popup to be off by the width\n        // of the border\n        var popupParent = this.getPopupParent();\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        if (popupParent === eDocument.body) {\n            popupParent = eDocument.documentElement;\n        }\n        var style = getComputedStyle(popupParent);\n        var bounds = popupParent.getBoundingClientRect();\n        return {\n            top: bounds.top + parseFloat(style.borderTopWidth) || 0,\n            left: bounds.left + parseFloat(style.borderLeftWidth) || 0,\n            right: bounds.right + parseFloat(style.borderRightWidth) || 0,\n            bottom: bounds.bottom + parseFloat(style.borderBottomWidth) || 0,\n        };\n    };\n    PopupService.prototype.keepYWithinBounds = function (params, y) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var docElement = eDocument.documentElement;\n        var popupParent = this.getPopupParent();\n        var parentRect = popupParent.getBoundingClientRect();\n        var documentRect = eDocument.documentElement.getBoundingClientRect();\n        var isBody = popupParent === eDocument.body;\n        var minHeight = Math.min(200, parentRect.height);\n        var diff = 0;\n        if (params.minHeight && params.minHeight < minHeight) {\n            minHeight = params.minHeight;\n        }\n        else if (params.ePopup.offsetHeight > 0) {\n            minHeight = params.ePopup.clientHeight;\n            diff = getAbsoluteHeight(params.ePopup) - minHeight;\n        }\n        var heightOfParent = isBody ? (getAbsoluteHeight(docElement) + docElement.scrollTop) : parentRect.height;\n        if (isBody) {\n            heightOfParent -= Math.abs(documentRect.top - parentRect.top);\n        }\n        var maxY = heightOfParent - minHeight - diff;\n        return Math.min(Math.max(y, 0), Math.abs(maxY));\n    };\n    PopupService.prototype.keepXWithinBounds = function (params, x) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var docElement = eDocument.documentElement;\n        var popupParent = this.getPopupParent();\n        var parentRect = popupParent.getBoundingClientRect();\n        var documentRect = eDocument.documentElement.getBoundingClientRect();\n        var isBody = popupParent === eDocument.body;\n        var ePopup = params.ePopup;\n        var minWidth = Math.min(200, parentRect.width);\n        var diff = 0;\n        if (params.minWidth && params.minWidth < minWidth) {\n            minWidth = params.minWidth;\n        }\n        else if (ePopup.offsetWidth > 0) {\n            minWidth = ePopup.offsetWidth;\n            ePopup.style.minWidth = minWidth + \"px\";\n            diff = getAbsoluteWidth(ePopup) - minWidth;\n        }\n        var widthOfParent = isBody ? (getAbsoluteWidth(docElement) + docElement.scrollLeft) : parentRect.width;\n        if (isBody) {\n            widthOfParent -= Math.abs(documentRect.left - parentRect.left);\n        }\n        var maxX = widthOfParent - minWidth - diff;\n        return Math.min(Math.max(x, 0), Math.abs(maxX));\n    };\n    PopupService.prototype.keepPopupPositionedRelativeTo = function (params) {\n        var eParent = this.getPopupParent();\n        var parentRect = eParent.getBoundingClientRect();\n        var sourceRect = params.element.getBoundingClientRect();\n        var initialDiffTop = parentRect.top - sourceRect.top;\n        var lastDiffTop = initialDiffTop;\n        var topPx = params.ePopup.style.top;\n        var top = parseInt(topPx.substring(0, topPx.length - 1));\n        var intervalId = setInterval(function () {\n            var parentRect = eParent.getBoundingClientRect();\n            var sourceRect = params.element.getBoundingClientRect();\n            var currentDiffTop = parentRect.top - sourceRect.top;\n            if (currentDiffTop != lastDiffTop) {\n                var newTop = top + initialDiffTop - currentDiffTop;\n                params.ePopup.style.top = newTop + \"px\";\n            }\n            lastDiffTop = currentDiffTop;\n        }, 200);\n        var res = function () {\n            clearInterval(intervalId);\n        };\n        return res;\n    };\n    PopupService.prototype.addPopup = function (params) {\n        var _this = this;\n        var modal = params.modal, eChild = params.eChild, closeOnEsc = params.closeOnEsc, closedCallback = params.closedCallback, click = params.click, alwaysOnTop = params.alwaysOnTop, positionCallback = params.positionCallback, anchorToElement = params.anchorToElement;\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        if (!eDocument) {\n            console.warn('ag-grid: could not find the document, document is empty');\n            return function () { };\n        }\n        var pos = findIndex(this.popupList, function (popup) { return popup.element === eChild; });\n        if (pos !== -1) {\n            var popup = this.popupList[pos];\n            return popup.hideFunc;\n        }\n        var ePopupParent = this.getPopupParent();\n        // for angular specifically, but shouldn't cause an issue with js or other fw's\n        // https://github.com/angular/angular/issues/8563\n        ePopupParent.appendChild(eChild);\n        if (eChild.style.top == null) {\n            eChild.style.top = '0px';\n        }\n        if (eChild.style.left == null) {\n            eChild.style.left = '0px';\n        }\n        // add env CSS class to child, in case user provided a popup parent, which means\n        // theme class may be missing\n        var eWrapper = document.createElement('div');\n        var theme = this.environment.getTheme().theme;\n        if (theme) {\n            addCssClass(eWrapper, theme);\n        }\n        addCssClass(eWrapper, 'ag-popup');\n        addCssClass(eChild, this.gridOptionsWrapper.isEnableRtl() ? 'ag-rtl' : 'ag-ltr');\n        addCssClass(eChild, 'ag-popup-child');\n        eWrapper.appendChild(eChild);\n        ePopupParent.appendChild(eWrapper);\n        if (alwaysOnTop) {\n            this.setAlwaysOnTop(eWrapper, true);\n        }\n        else {\n            this.bringPopupToFront(eWrapper);\n        }\n        var popupHidden = false;\n        var hidePopupOnKeyboardEvent = function (event) {\n            if (!eWrapper.contains(document.activeElement)) {\n                return;\n            }\n            var key = event.which || event.keyCode;\n            if (key === KeyCode.ESCAPE) {\n                hidePopup({ keyboardEvent: event });\n            }\n        };\n        var hidePopupOnMouseEvent = function (event) { return hidePopup({ mouseEvent: event }); };\n        var hidePopupOnTouchEvent = function (event) { return hidePopup({ touchEvent: event }); };\n        var destroyPositionTracker;\n        var hidePopup = function (params) {\n            if (params === void 0) { params = {}; }\n            var mouseEvent = params.mouseEvent, touchEvent = params.touchEvent, keyboardEvent = params.keyboardEvent;\n            if (\n            // we don't hide popup if the event was on the child, or any\n            // children of this child\n            _this.isEventFromCurrentPopup({ mouseEvent: mouseEvent, touchEvent: touchEvent }, eChild) ||\n                // if the event to close is actually the open event, then ignore it\n                _this.isEventSameChainAsOriginalEvent({ originalMouseEvent: click, mouseEvent: mouseEvent, touchEvent: touchEvent }) ||\n                // this method should only be called once. the client can have different\n                // paths, each one wanting to close, so this method may be called multiple times.\n                popupHidden) {\n                return;\n            }\n            popupHidden = true;\n            ePopupParent.removeChild(eWrapper);\n            eDocument.removeEventListener('keydown', hidePopupOnKeyboardEvent);\n            eDocument.removeEventListener('mousedown', hidePopupOnMouseEvent);\n            eDocument.removeEventListener('touchstart', hidePopupOnTouchEvent);\n            eDocument.removeEventListener('contextmenu', hidePopupOnMouseEvent);\n            _this.eventService.removeEventListener(Events.EVENT_DRAG_STARTED, hidePopupOnMouseEvent);\n            if (closedCallback) {\n                closedCallback(mouseEvent || touchEvent || keyboardEvent);\n            }\n            _this.popupList = _this.popupList.filter(function (popup) { return popup.element !== eChild; });\n            if (destroyPositionTracker) {\n                destroyPositionTracker();\n            }\n        };\n        // if we add these listeners now, then the current mouse\n        // click will be included, which we don't want\n        window.setTimeout(function () {\n            if (closeOnEsc) {\n                eDocument.addEventListener('keydown', hidePopupOnKeyboardEvent);\n            }\n            if (modal) {\n                eDocument.addEventListener('mousedown', hidePopupOnMouseEvent);\n                _this.eventService.addEventListener(Events.EVENT_DRAG_STARTED, hidePopupOnMouseEvent);\n                eDocument.addEventListener('touchstart', hidePopupOnTouchEvent);\n                eDocument.addEventListener('contextmenu', hidePopupOnMouseEvent);\n            }\n        }, 0);\n        this.popupList.push({\n            element: eChild,\n            hideFunc: hidePopup\n        });\n        if (positionCallback) {\n            positionCallback();\n        }\n        if (anchorToElement) {\n            // keeps popup positioned under created, eg if context menu, if user scrolls\n            // using touchpad and the cell moves, it moves the popup to keep it with the cell.\n            destroyPositionTracker = this.keepPopupPositionedRelativeTo({\n                element: anchorToElement,\n                ePopup: eChild\n            });\n        }\n        return hidePopup;\n    };\n    PopupService.prototype.isEventFromCurrentPopup = function (params, target) {\n        var mouseEvent = params.mouseEvent, touchEvent = params.touchEvent;\n        var event = mouseEvent ? mouseEvent : touchEvent;\n        if (!event) {\n            return false;\n        }\n        var indexOfThisChild = findIndex(this.popupList, function (popup) { return popup.element === target; });\n        if (indexOfThisChild === -1) {\n            return false;\n        }\n        for (var i = indexOfThisChild; i < this.popupList.length; i++) {\n            var popup = this.popupList[i];\n            if (isElementInEventPath(popup.element, event)) {\n                return true;\n            }\n        }\n        // if the user did not write their own Custom Element to be rendered as popup\n        // and this component has an additional popup element, they should have the\n        // `ag-custom-component-popup` class to be detected as part of the Custom Component\n        return this.isElementWithinCustomPopup(event.target);\n    };\n    PopupService.prototype.isElementWithinCustomPopup = function (el) {\n        if (!this.popupList.length) {\n            return false;\n        }\n        while (el && el !== document.body) {\n            if (el.classList.contains('ag-custom-component-popup') || el.parentElement === null) {\n                return true;\n            }\n            el = el.parentElement;\n        }\n        return false;\n    };\n    // in some browsers, the context menu event can be fired before the click event, which means\n    // the context menu event could open the popup, but then the click event closes it straight away.\n    PopupService.prototype.isEventSameChainAsOriginalEvent = function (params) {\n        var originalMouseEvent = params.originalMouseEvent, mouseEvent = params.mouseEvent, touchEvent = params.touchEvent;\n        // we check the coordinates of the event, to see if it's the same event. there is a 1 / 1000 chance that\n        // the event is a different event, however that is an edge case that is not very relevant (the user clicking\n        // twice on the same location isn't a normal path).\n        // event could be mouse event or touch event.\n        var mouseEventOrTouch = null;\n        if (mouseEvent) {\n            // mouse event can be used direction, it has coordinates\n            mouseEventOrTouch = mouseEvent;\n        }\n        else if (touchEvent) {\n            // touch event doesn't have coordinates, need it's touch object\n            mouseEventOrTouch = touchEvent.touches[0];\n        }\n        if (mouseEventOrTouch && originalMouseEvent) {\n            // for x, allow 4px margin, to cover iPads, where touch (which opens menu) is followed\n            // by browser click (when you finger up, touch is interrupted as click in browser)\n            var screenX_1 = mouseEvent ? mouseEvent.screenX : 0;\n            var screenY_1 = mouseEvent ? mouseEvent.screenY : 0;\n            var xMatch = Math.abs(originalMouseEvent.screenX - screenX_1) < 5;\n            var yMatch = Math.abs(originalMouseEvent.screenY - screenY_1) < 5;\n            if (xMatch && yMatch) {\n                return true;\n            }\n        }\n        return false;\n    };\n    PopupService.prototype.getWrapper = function (ePopup) {\n        while (!containsClass(ePopup, 'ag-popup') && ePopup.parentElement) {\n            ePopup = ePopup.parentElement;\n        }\n        return containsClass(ePopup, 'ag-popup') ? ePopup : null;\n    };\n    PopupService.prototype.setAlwaysOnTop = function (ePopup, alwaysOnTop) {\n        var eWrapper = this.getWrapper(ePopup);\n        if (!eWrapper) {\n            return;\n        }\n        addOrRemoveCssClass(eWrapper, 'ag-always-on-top', !!alwaysOnTop);\n        if (alwaysOnTop) {\n            this.bringPopupToFront(eWrapper);\n        }\n    };\n    PopupService.prototype.bringPopupToFront = function (ePopup) {\n        var parent = this.getPopupParent();\n        var popupList = Array.prototype.slice.call(parent.querySelectorAll('.ag-popup'));\n        var popupLen = popupList.length;\n        var alwaysOnTopList = Array.prototype.slice.call(parent.querySelectorAll('.ag-popup.ag-always-on-top'));\n        var onTopLength = alwaysOnTopList.length;\n        var eWrapper = this.getWrapper(ePopup);\n        if (!eWrapper || popupLen <= 1 || !parent.contains(ePopup)) {\n            return;\n        }\n        var pos = popupList.indexOf(eWrapper);\n        if (onTopLength) {\n            var isPopupAlwaysOnTop = containsClass(eWrapper, 'ag-always-on-top');\n            if (isPopupAlwaysOnTop) {\n                if (pos !== popupLen - 1) {\n                    last(alwaysOnTopList).insertAdjacentElement('afterend', eWrapper);\n                }\n            }\n            else if (pos !== popupLen - onTopLength - 1) {\n                alwaysOnTopList[0].insertAdjacentElement('beforebegin', eWrapper);\n            }\n        }\n        else if (pos !== popupLen - 1) {\n            last(popupList).insertAdjacentElement('afterend', eWrapper);\n        }\n        var params = {\n            type: 'popupToFront',\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            eWrapper: eWrapper\n        };\n        this.eventService.dispatchEvent(params);\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PopupService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('environment')\n    ], PopupService.prototype, \"environment\", void 0);\n    __decorate([\n        PostConstruct\n    ], PopupService.prototype, \"init\", null);\n    PopupService = __decorate([\n        Bean('popupService')\n    ], PopupService);\n    return PopupService;\n}(BeanStub));\nexport { PopupService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Promise } from '../utils';\nimport { Autowired, Bean, PostConstruct, PreDestroy } from '../context/context';\nimport { Events } from '../events';\nimport { ModuleNames } from '../modules/moduleNames';\nimport { ModuleRegistry } from '../modules/moduleRegistry';\nimport { forEach, some, every } from '../utils/array';\nimport { BeanStub } from '../context/beanStub';\nimport { convertToSet } from '../utils/set';\nimport { exists } from '../utils/generic';\nimport { mergeDeep, cloneObject } from '../utils/object';\nimport { loadTemplate } from '../utils/dom';\nvar FilterManager = /** @class */ (function (_super) {\n    __extends(FilterManager, _super);\n    function FilterManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allAdvancedFilters = new Map();\n        _this.activeAdvancedFilters = [];\n        _this.quickFilter = null;\n        _this.quickFilterParts = null;\n        // this is true when the grid is processing the filter change. this is used by the cell comps, so that they\n        // don't flash when data changes due to filter changes. there is no need to flash when filter changes as the\n        // user is in control, so doesn't make sense to show flashing changes. for example, go to main demo where\n        // this feature is turned off (hack code to always return false for isSuppressFlashingCellsBecauseFiltering(), put in)\n        // 100,000 rows and group by country. then do some filtering. all the cells flash, which is silly.\n        _this.processingFilterChange = false;\n        return _this;\n    }\n    FilterManager_1 = FilterManager;\n    FilterManager.prototype.init = function () {\n        this.addManagedListener(this.eventService, Events.EVENT_ROW_DATA_CHANGED, this.onNewRowsLoaded.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this));\n        this.quickFilter = this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText());\n        this.setQuickFilterParts();\n        this.allowShowChangeAfterFilter = this.gridOptionsWrapper.isAllowShowChangeAfterFilter();\n        // check this here, in case there is a filter from the start\n        this.checkExternalFilter();\n    };\n    FilterManager.prototype.setQuickFilterParts = function () {\n        this.quickFilterParts = this.quickFilter ? this.quickFilter.split(' ') : null;\n    };\n    FilterManager.prototype.setFilterModel = function (model) {\n        var _this = this;\n        var allPromises = [];\n        if (model) {\n            // mark the filters as we set them, so any active filters left over we stop\n            var modelKeys_1 = convertToSet(Object.keys(model));\n            this.allAdvancedFilters.forEach(function (filterWrapper, colId) {\n                var newModel = model[colId];\n                allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise, newModel));\n                modelKeys_1.delete(colId);\n            });\n            // at this point, processedFields contains data for which we don't have a filter working yet\n            modelKeys_1.forEach(function (colId) {\n                var column = _this.columnController.getPrimaryColumn(colId);\n                if (!column) {\n                    console.warn('Warning ag-grid setFilterModel - no column found for colId ' + colId);\n                    return;\n                }\n                var filterWrapper = _this.getOrCreateFilterWrapper(column, 'NO_UI');\n                allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise, model[colId]));\n            });\n        }\n        else {\n            this.allAdvancedFilters.forEach(function (filterWrapper) {\n                allPromises.push(_this.setModelOnFilterWrapper(filterWrapper.filterPromise, null));\n            });\n        }\n        Promise.all(allPromises).then(function () { return _this.onFilterChanged(); });\n    };\n    FilterManager.prototype.setModelOnFilterWrapper = function (filterPromise, newModel) {\n        return new Promise(function (resolve) {\n            filterPromise.then(function (filter) {\n                if (typeof filter.setModel !== 'function') {\n                    console.warn('Warning ag-grid - filter missing setModel method, which is needed for setFilterModel');\n                    resolve();\n                }\n                (filter.setModel(newModel) || Promise.resolve()).then(function () { return resolve(); });\n            });\n        });\n    };\n    FilterManager.prototype.getFilterModel = function () {\n        var result = {};\n        this.allAdvancedFilters.forEach(function (filterWrapper, key) {\n            // because user can provide filters, we provide useful error checking and messages\n            var filterPromise = filterWrapper.filterPromise;\n            var filter = filterPromise.resolveNow(null, function (filter) { return filter; });\n            if (filter == null) {\n                return null;\n            }\n            if (typeof filter.getModel !== 'function') {\n                console.warn('Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel');\n                return;\n            }\n            var model = filter.getModel();\n            if (exists(model)) {\n                result[key] = model;\n            }\n        });\n        return result;\n    };\n    // returns true if any advanced filter (ie not quick filter) active\n    FilterManager.prototype.isAdvancedFilterPresent = function () {\n        return this.activeAdvancedFilters.length > 0;\n    };\n    // called by:\n    // 1) onFilterChanged()\n    // 2) onNewRowsLoaded()\n    FilterManager.prototype.updateActiveFilters = function () {\n        var _this = this;\n        this.activeAdvancedFilters.length = 0;\n        this.allAdvancedFilters.forEach(function (filterWrapper) {\n            if (filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); })) {\n                _this.activeAdvancedFilters.push(filterWrapper.filterPromise.resolveNow(null, function (filter) { return filter; }));\n            }\n        });\n    };\n    FilterManager.prototype.updateFilterFlagInColumns = function (source, additionalEventAttributes) {\n        this.allAdvancedFilters.forEach(function (filterWrapper) {\n            var isFilterActive = filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); });\n            filterWrapper.column.setFilterActive(isFilterActive, source, additionalEventAttributes);\n        });\n    };\n    FilterManager.prototype.isAnyFilterPresent = function () {\n        return this.isQuickFilterPresent() || this.isAdvancedFilterPresent() || this.externalFilterPresent;\n    };\n    FilterManager.prototype.doAdvancedFiltersPass = function (node, filterToSkip) {\n        var data = node.data;\n        for (var i = 0; i < this.activeAdvancedFilters.length; i++) {\n            var filter = this.activeAdvancedFilters[i];\n            if (filter == null || filter === filterToSkip) {\n                continue;\n            }\n            if (typeof filter.doesFilterPass !== 'function') {\n                // because users can do custom filters, give nice error message\n                throw new Error('Filter is missing method doesFilterPass');\n            }\n            if (!filter.doesFilterPass({ node: node, data: data })) {\n                return false;\n            }\n        }\n        return true;\n    };\n    FilterManager.prototype.parseQuickFilter = function (newFilter) {\n        if (!exists(newFilter)) {\n            return null;\n        }\n        if (!this.gridOptionsWrapper.isRowModelDefault()) {\n            console.warn('ag-grid: quick filtering only works with the Client-Side Row Model');\n            return null;\n        }\n        return newFilter.toUpperCase();\n    };\n    FilterManager.prototype.setQuickFilter = function (newFilter) {\n        var parsedFilter = this.parseQuickFilter(newFilter);\n        if (this.quickFilter !== parsedFilter) {\n            this.quickFilter = parsedFilter;\n            this.setQuickFilterParts();\n            this.onFilterChanged();\n        }\n    };\n    FilterManager.prototype.checkExternalFilter = function () {\n        this.externalFilterPresent = this.gridOptionsWrapper.isExternalFilterPresent();\n    };\n    FilterManager.prototype.onFilterChanged = function (filterInstance, additionalEventAttributes) {\n        this.updateActiveFilters();\n        this.updateFilterFlagInColumns('filterChanged', additionalEventAttributes);\n        this.checkExternalFilter();\n        this.allAdvancedFilters.forEach(function (filterWrapper) {\n            filterWrapper.filterPromise.then(function (filter) {\n                if (filter !== filterInstance && filter.onAnyFilterChanged) {\n                    filter.onAnyFilterChanged();\n                }\n            });\n        });\n        var filterChangedEvent = {\n            type: Events.EVENT_FILTER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        if (additionalEventAttributes) {\n            mergeDeep(filterChangedEvent, additionalEventAttributes);\n        }\n        // because internal events are not async in ag-grid, when the dispatchEvent\n        // method comes back, we know all listeners have finished executing.\n        this.processingFilterChange = true;\n        this.eventService.dispatchEvent(filterChangedEvent);\n        this.processingFilterChange = false;\n    };\n    FilterManager.prototype.isSuppressFlashingCellsBecauseFiltering = function () {\n        // if user has elected to always flash cell changes, then always return false, otherwise we suppress flashing\n        // changes when filtering\n        return !this.allowShowChangeAfterFilter && this.processingFilterChange;\n    };\n    FilterManager.prototype.isQuickFilterPresent = function () {\n        return this.quickFilter !== null;\n    };\n    FilterManager.prototype.doesRowPassOtherFilters = function (filterToSkip, node) {\n        return this.doesRowPassFilter(node, filterToSkip);\n    };\n    FilterManager.prototype.doesRowPassQuickFilterNoCache = function (node, filterPart) {\n        var _this = this;\n        var columns = this.columnController.getAllColumnsForQuickFilter();\n        return some(columns, function (column) {\n            var part = _this.getQuickFilterTextForColumn(column, node);\n            return exists(part) && part.indexOf(filterPart) >= 0;\n        });\n    };\n    FilterManager.prototype.doesRowPassQuickFilterCache = function (node, filterPart) {\n        if (!node.quickFilterAggregateText) {\n            this.aggregateRowForQuickFilter(node);\n        }\n        return node.quickFilterAggregateText.indexOf(filterPart) >= 0;\n    };\n    FilterManager.prototype.doesRowPassQuickFilter = function (node) {\n        var _this = this;\n        var usingCache = this.gridOptionsWrapper.isCacheQuickFilter();\n        // each part must pass, if any fails, then the whole filter fails\n        return every(this.quickFilterParts, function (part) {\n            return usingCache ? _this.doesRowPassQuickFilterCache(node, part) : _this.doesRowPassQuickFilterNoCache(node, part);\n        });\n    };\n    FilterManager.prototype.doesRowPassFilter = function (node, filterToSkip) {\n        // the row must pass ALL of the filters, so if any of them fail,\n        // we return true. that means if a row passes the quick filter,\n        // but fails the column filter, it fails overall\n        // first up, check quick filter\n        if (this.isQuickFilterPresent() && !this.doesRowPassQuickFilter(node)) {\n            return false;\n        }\n        // secondly, give the client a chance to reject this row\n        if (this.externalFilterPresent && !this.gridOptionsWrapper.doesExternalFilterPass(node)) {\n            return false;\n        }\n        // lastly, check our internal advanced filter\n        if (this.isAdvancedFilterPresent() && !this.doAdvancedFiltersPass(node, filterToSkip)) {\n            return false;\n        }\n        // got this far, all filters pass\n        return true;\n    };\n    FilterManager.prototype.getQuickFilterTextForColumn = function (column, node) {\n        var value = this.valueService.getValue(column, node, true);\n        var colDef = column.getColDef();\n        if (colDef.getQuickFilterText) {\n            var params = {\n                value: value,\n                node: node,\n                data: node.data,\n                column: column,\n                colDef: colDef,\n                context: this.gridOptionsWrapper.getContext()\n            };\n            value = colDef.getQuickFilterText(params);\n        }\n        return exists(value) ? value.toString().toUpperCase() : null;\n    };\n    FilterManager.prototype.aggregateRowForQuickFilter = function (node) {\n        var _this = this;\n        var stringParts = [];\n        var columns = this.columnController.getAllColumnsForQuickFilter();\n        forEach(columns, function (column) {\n            var part = _this.getQuickFilterTextForColumn(column, node);\n            if (exists(part)) {\n                stringParts.push(part);\n            }\n        });\n        node.quickFilterAggregateText = stringParts.join(FilterManager_1.QUICK_FILTER_SEPARATOR);\n    };\n    FilterManager.prototype.onNewRowsLoaded = function (source) {\n        this.allAdvancedFilters.forEach(function (filterWrapper) {\n            filterWrapper.filterPromise.then(function (filter) {\n                if (filter.onNewRowsLoaded) {\n                    filter.onNewRowsLoaded();\n                }\n            });\n        });\n        this.updateFilterFlagInColumns(source);\n        this.updateActiveFilters();\n    };\n    FilterManager.prototype.createValueGetter = function (column) {\n        var _this = this;\n        return function (node) { return _this.valueService.getValue(column, node, true); };\n    };\n    FilterManager.prototype.getFilterComponent = function (column, source) {\n        return this.getOrCreateFilterWrapper(column, source).filterPromise;\n    };\n    FilterManager.prototype.isFilterActive = function (column) {\n        var filterWrapper = this.cachedFilter(column);\n        return filterWrapper && filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); });\n    };\n    FilterManager.prototype.getOrCreateFilterWrapper = function (column, source) {\n        var filterWrapper = this.cachedFilter(column);\n        if (!filterWrapper) {\n            filterWrapper = this.createFilterWrapper(column, source);\n            this.allAdvancedFilters.set(column.getColId(), filterWrapper);\n        }\n        else if (source !== 'NO_UI') {\n            this.putIntoGui(filterWrapper, source);\n        }\n        return filterWrapper;\n    };\n    FilterManager.prototype.cachedFilter = function (column) {\n        return this.allAdvancedFilters.get(column.getColId());\n    };\n    FilterManager.prototype.createFilterInstance = function (column, $scope) {\n        var _this = this;\n        var defaultFilter = ModuleRegistry.isRegistered(ModuleNames.SetFilterModule) ? 'agSetColumnFilter' : 'agTextColumnFilter';\n        var colDef = column.getColDef();\n        var filterInstance;\n        var params = __assign(__assign({}, this.createFilterParams(column, colDef, $scope)), { filterModifiedCallback: function () {\n                var event = {\n                    type: Events.EVENT_FILTER_MODIFIED,\n                    api: _this.gridApi,\n                    columnApi: _this.columnApi,\n                    column: column,\n                    filterInstance: filterInstance\n                };\n                _this.eventService.dispatchEvent(event);\n            }, filterChangedCallback: function (additionalEventAttributes) {\n                return _this.onFilterChanged(filterInstance, additionalEventAttributes);\n            }, doesRowPassOtherFilter: function (node) { return _this.doesRowPassOtherFilters(filterInstance, node); } });\n        var res = this.userComponentFactory.newFilterComponent(colDef, params, defaultFilter);\n        if (res) {\n            res.then(function (r) { return filterInstance = r; });\n        }\n        return res;\n    };\n    FilterManager.prototype.createFilterParams = function (column, colDef, $scope) {\n        if ($scope === void 0) { $scope = null; }\n        var params = {\n            api: this.gridOptionsWrapper.getApi(),\n            column: column,\n            colDef: cloneObject(colDef),\n            rowModel: this.rowModel,\n            filterChangedCallback: null,\n            filterModifiedCallback: null,\n            valueGetter: this.createValueGetter(column),\n            context: this.gridOptionsWrapper.getContext(),\n            doesRowPassOtherFilter: null\n        };\n        // hack in scope if using AngularJS\n        if ($scope) {\n            params.$scope = $scope;\n        }\n        return params;\n    };\n    FilterManager.prototype.createFilterWrapper = function (column, source) {\n        var filterWrapper = {\n            column: column,\n            filterPromise: null,\n            scope: null,\n            compiledElement: null,\n            guiPromise: Promise.resolve(null)\n        };\n        filterWrapper.scope = this.gridOptionsWrapper.isAngularCompileFilters() ? this.$scope.$new() : null;\n        filterWrapper.filterPromise = this.createFilterInstance(column, filterWrapper.scope);\n        if (filterWrapper.filterPromise) {\n            this.putIntoGui(filterWrapper, source);\n        }\n        return filterWrapper;\n    };\n    FilterManager.prototype.putIntoGui = function (filterWrapper, source) {\n        var _this = this;\n        var eFilterGui = document.createElement('div');\n        eFilterGui.className = 'ag-filter';\n        filterWrapper.guiPromise = new Promise(function (resolve) {\n            filterWrapper.filterPromise.then(function (filter) {\n                var guiFromFilter = filter.getGui();\n                if (!exists(guiFromFilter)) {\n                    console.warn(\"getGui method from filter returned \" + guiFromFilter + \", it should be a DOM element or an HTML template string.\");\n                }\n                // for backwards compatibility with Angular 1 - we\n                // used to allow providing back HTML from getGui().\n                // once we move away from supporting Angular 1\n                // directly, we can change this.\n                if (typeof guiFromFilter === 'string') {\n                    guiFromFilter = loadTemplate(guiFromFilter);\n                }\n                eFilterGui.appendChild(guiFromFilter);\n                if (filterWrapper.scope) {\n                    var compiledElement = _this.$compile(eFilterGui)(filterWrapper.scope);\n                    filterWrapper.compiledElement = compiledElement;\n                    window.setTimeout(function () { return filterWrapper.scope.$apply(); }, 0);\n                }\n                resolve(eFilterGui);\n                _this.eventService.dispatchEvent({\n                    type: Events.EVENT_FILTER_OPENED,\n                    column: filterWrapper.column,\n                    source: source,\n                    eGui: eFilterGui,\n                    api: _this.gridApi,\n                    columnApi: _this.columnApi\n                });\n            });\n        });\n    };\n    FilterManager.prototype.onNewColumnsLoaded = function () {\n        var _this = this;\n        var atLeastOneFilterGone = false;\n        this.allAdvancedFilters.forEach(function (filterWrapper) {\n            var oldColumn = !_this.columnController.getPrimaryColumn(filterWrapper.column);\n            if (oldColumn) {\n                atLeastOneFilterGone = true;\n                _this.disposeFilterWrapper(filterWrapper, 'filterDestroyed');\n            }\n        });\n        if (atLeastOneFilterGone) {\n            this.onFilterChanged();\n        }\n    };\n    // destroys the filter, so it not longer takes part\n    FilterManager.prototype.destroyFilter = function (column, source) {\n        if (source === void 0) { source = 'api'; }\n        var filterWrapper = this.allAdvancedFilters.get(column.getColId());\n        if (filterWrapper) {\n            this.disposeFilterWrapper(filterWrapper, source);\n            this.onFilterChanged();\n        }\n    };\n    FilterManager.prototype.disposeFilterWrapper = function (filterWrapper, source) {\n        var _this = this;\n        filterWrapper.filterPromise.then(function (filter) {\n            (filter.setModel(null) || Promise.resolve()).then(function () {\n                _this.getContext().destroyBean(filter);\n                filterWrapper.column.setFilterActive(false, source);\n                if (filterWrapper.scope) {\n                    if (filterWrapper.compiledElement) {\n                        filterWrapper.compiledElement.remove();\n                    }\n                    filterWrapper.scope.$destroy();\n                }\n                _this.allAdvancedFilters.delete(filterWrapper.column.getColId());\n            });\n        });\n    };\n    FilterManager.prototype.destroy = function () {\n        var _this = this;\n        _super.prototype.destroy.call(this);\n        this.allAdvancedFilters.forEach(function (filterWrapper) { return _this.disposeFilterWrapper(filterWrapper, 'filterDestroyed'); });\n    };\n    var FilterManager_1;\n    FilterManager.QUICK_FILTER_SEPARATOR = '\\n';\n    __decorate([\n        Autowired('$compile')\n    ], FilterManager.prototype, \"$compile\", void 0);\n    __decorate([\n        Autowired('$scope')\n    ], FilterManager.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FilterManager.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('valueService')\n    ], FilterManager.prototype, \"valueService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], FilterManager.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], FilterManager.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], FilterManager.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], FilterManager.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], FilterManager.prototype, \"userComponentFactory\", void 0);\n    __decorate([\n        PostConstruct\n    ], FilterManager.prototype, \"init\", null);\n    __decorate([\n        PreDestroy\n    ], FilterManager.prototype, \"destroy\", null);\n    FilterManager = FilterManager_1 = __decorate([\n        Bean('filterManager')\n    ], FilterManager);\n    return FilterManager;\n}(BeanStub));\nexport { FilterManager };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgCheckbox } from \"../../widgets/agCheckbox\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { PostConstruct, Autowired } from \"../../context/context\";\nimport { Events } from \"../../events\";\nimport { Constants } from \"../../constants/constants\";\nvar SelectAllFeature = /** @class */ (function (_super) {\n    __extends(SelectAllFeature, _super);\n    function SelectAllFeature(cbSelectAll, column) {\n        var _this = _super.call(this) || this;\n        _this.cbSelectAllVisible = false;\n        _this.processingEventFromCheckbox = false;\n        _this.cbSelectAll = cbSelectAll;\n        _this.column = column;\n        var colDef = column.getColDef();\n        _this.filteredOnly = colDef ? !!colDef.headerCheckboxSelectionFilteredOnly : false;\n        return _this;\n    }\n    SelectAllFeature.prototype.postConstruct = function () {\n        this.showOrHideSelectAll();\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.showOrHideSelectAll.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.showOrHideSelectAll.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_SELECTION_CHANGED, this.onSelectionChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelChanged.bind(this));\n        this.addManagedListener(this.cbSelectAll, AgCheckbox.EVENT_CHANGED, this.onCbSelectAll.bind(this));\n        this.cbSelectAll.getInputElement().setAttribute('tabindex', '-1');\n        this.refreshSelectAllLabel();\n    };\n    SelectAllFeature.prototype.showOrHideSelectAll = function () {\n        this.cbSelectAllVisible = this.isCheckboxSelection();\n        this.cbSelectAll.setDisplayed(this.cbSelectAllVisible);\n        if (this.cbSelectAllVisible) {\n            // in case user is trying this feature with the wrong model type\n            this.checkRightRowModelType();\n            // make sure checkbox is showing the right state\n            this.updateStateOfCheckbox();\n        }\n    };\n    SelectAllFeature.prototype.onModelChanged = function () {\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        this.updateStateOfCheckbox();\n    };\n    SelectAllFeature.prototype.onSelectionChanged = function () {\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        this.updateStateOfCheckbox();\n    };\n    SelectAllFeature.prototype.getNextCheckboxState = function (selectionCount) {\n        // if no rows, always have it unselected\n        if (selectionCount.selected === 0 && selectionCount.notSelected === 0) {\n            return false;\n        }\n        // if mix of selected and unselected, this is the tri-state\n        if (selectionCount.selected > 0 && selectionCount.notSelected > 0) {\n            return null;\n        }\n        // only selected\n        if (selectionCount.selected > 0) {\n            return true;\n        }\n        // nothing selected\n        return false;\n    };\n    SelectAllFeature.prototype.updateStateOfCheckbox = function () {\n        if (this.processingEventFromCheckbox) {\n            return;\n        }\n        this.processingEventFromCheckbox = true;\n        var selectionCount = this.getSelectionCount();\n        var allSelected = this.getNextCheckboxState(selectionCount);\n        this.cbSelectAll.setValue(allSelected);\n        this.refreshSelectAllLabel();\n        this.processingEventFromCheckbox = false;\n    };\n    SelectAllFeature.prototype.refreshSelectAllLabel = function () {\n        var checked = this.cbSelectAll.getValue();\n        this.cbSelectAll.setInputAriaLabel(\"Press Space to toggle all rows selection (\" + (checked ? 'checked' : 'unchecked') + \")\");\n    };\n    SelectAllFeature.prototype.getSelectionCount = function () {\n        var _this = this;\n        var selectedCount = 0;\n        var notSelectedCount = 0;\n        var callback = function (node) {\n            if (_this.gridOptionsWrapper.isGroupSelectsChildren() && node.group) {\n                return;\n            }\n            if (node.isSelected()) {\n                selectedCount++;\n            }\n            else if (!node.selectable) {\n                // don't count non-selectable nodes!\n            }\n            else {\n                notSelectedCount++;\n            }\n        };\n        if (this.filteredOnly) {\n            this.gridApi.forEachNodeAfterFilter(callback);\n        }\n        else {\n            this.gridApi.forEachNode(callback);\n        }\n        return {\n            notSelected: notSelectedCount,\n            selected: selectedCount\n        };\n    };\n    SelectAllFeature.prototype.checkRightRowModelType = function () {\n        var rowModelType = this.rowModel.getType();\n        var rowModelMatches = rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        if (!rowModelMatches) {\n            console.warn(\"ag-Grid: selectAllCheckbox is only available if using normal row model, you are using \" + rowModelType);\n        }\n    };\n    SelectAllFeature.prototype.onCbSelectAll = function () {\n        if (this.processingEventFromCheckbox) {\n            return;\n        }\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        var value = this.cbSelectAll.getValue();\n        if (value) {\n            this.selectionController.selectAllRowNodes(this.filteredOnly);\n        }\n        else {\n            this.selectionController.deselectAllRowNodes(this.filteredOnly);\n        }\n    };\n    SelectAllFeature.prototype.isCheckboxSelection = function () {\n        var result = this.column.getColDef().headerCheckboxSelection;\n        if (typeof result === 'function') {\n            var func = result;\n            result = func({\n                column: this.column,\n                colDef: this.column.getColDef(),\n                columnApi: this.columnApi,\n                api: this.gridApi\n            });\n        }\n        if (result) {\n            if (this.gridOptionsWrapper.isRowModelServerSide()) {\n                console.warn('headerCheckboxSelection is not supported for Server Side Row Model');\n                return false;\n            }\n            if (this.gridOptionsWrapper.isRowModelInfinite()) {\n                console.warn('headerCheckboxSelection is not supported for Infinite Row Model');\n                return false;\n            }\n            if (this.gridOptionsWrapper.isRowModelViewport()) {\n                console.warn('headerCheckboxSelection is not supported for Viewport Row Model');\n                return false;\n            }\n            // otherwise the row model is compatible, so return true\n            return true;\n        }\n        return false;\n    };\n    __decorate([\n        Autowired('gridApi')\n    ], SelectAllFeature.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], SelectAllFeature.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], SelectAllFeature.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], SelectAllFeature.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SelectAllFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], SelectAllFeature.prototype, \"postConstruct\", null);\n    return SelectAllFeature;\n}(BeanStub));\nexport { SelectAllFeature };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub, RowNode } from \"@ag-grid-community/core\";\nvar FlattenStage = /** @class */ (function (_super) {\n    __extends(FlattenStage, _super);\n    function FlattenStage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FlattenStage.prototype.execute = function (params) {\n        var rootNode = params.rowNode;\n        // even if not doing grouping, we do the mapping, as the client might\n        // of passed in data that already has a grouping in it somewhere\n        var result = [];\n        // putting value into a wrapper so it's passed by reference\n        var nextRowTop = { value: 0 };\n        var skipLeafNodes = this.columnController.isPivotMode();\n        // if we are reducing, and not grouping, then we want to show the root node, as that\n        // is where the pivot values are\n        var showRootNode = skipLeafNodes && rootNode.leafGroup;\n        var topList = showRootNode ? [rootNode] : rootNode.childrenAfterSort;\n        this.recursivelyAddToRowsToDisplay(topList, result, nextRowTop, skipLeafNodes, 0);\n        // we do not want the footer total if the gris is empty\n        var atLeastOneRowPresent = result.length > 0;\n        var includeGroupTotalFooter = !showRootNode\n            // don't show total footer when showRootNode is true (i.e. in pivot mode and no groups)\n            && atLeastOneRowPresent\n            && this.gridOptionsWrapper.isGroupIncludeTotalFooter();\n        if (includeGroupTotalFooter) {\n            this.ensureFooterNodeExists(rootNode);\n            this.addRowNodeToRowsToDisplay(rootNode.sibling, result, nextRowTop, 0);\n        }\n        return result;\n    };\n    FlattenStage.prototype.recursivelyAddToRowsToDisplay = function (rowsToFlatten, result, nextRowTop, skipLeafNodes, uiLevel) {\n        if (_.missingOrEmpty(rowsToFlatten)) {\n            return;\n        }\n        var hideOpenParents = this.gridOptionsWrapper.isGroupHideOpenParents();\n        // these two are mutually exclusive, so if first set, we don't set the second\n        var groupRemoveSingleChildren = this.gridOptionsWrapper.isGroupRemoveSingleChildren();\n        var groupRemoveLowestSingleChildren = !groupRemoveSingleChildren && this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren();\n        for (var i = 0; i < rowsToFlatten.length; i++) {\n            var rowNode = rowsToFlatten[i];\n            // check all these cases, for working out if this row should be included in the final mapped list\n            var isParent = rowNode.hasChildren();\n            var isSkippedLeafNode = skipLeafNodes && !isParent;\n            var isRemovedSingleChildrenGroup = groupRemoveSingleChildren &&\n                isParent &&\n                rowNode.childrenAfterGroup.length === 1;\n            var isRemovedLowestSingleChildrenGroup = groupRemoveLowestSingleChildren &&\n                isParent &&\n                rowNode.leafGroup &&\n                rowNode.childrenAfterGroup.length === 1;\n            // hide open parents means when group is open, we don't show it. we also need to make sure the\n            // group is expandable in the first place (as leaf groups are not expandable if pivot mode is on).\n            // the UI will never allow expanding leaf  groups, however the user might via the API (or menu option 'expand all')\n            var neverAllowToExpand = skipLeafNodes && rowNode.leafGroup;\n            var isHiddenOpenParent = hideOpenParents && rowNode.expanded && (!neverAllowToExpand);\n            var thisRowShouldBeRendered = !isSkippedLeafNode && !isHiddenOpenParent &&\n                !isRemovedSingleChildrenGroup && !isRemovedLowestSingleChildrenGroup;\n            if (thisRowShouldBeRendered) {\n                this.addRowNodeToRowsToDisplay(rowNode, result, nextRowTop, uiLevel);\n            }\n            // if we are pivoting, we never map below the leaf group\n            if (skipLeafNodes && rowNode.leafGroup) {\n                continue;\n            }\n            if (isParent) {\n                var excludedParent = isRemovedSingleChildrenGroup || isRemovedLowestSingleChildrenGroup;\n                // we traverse the group if it is expended, however we always traverse if the parent node\n                // was removed (as the group will never be opened if it is not displayed, we show the children instead)\n                if (rowNode.expanded || excludedParent) {\n                    // if the parent was excluded, then ui level is that of the parent\n                    var uiLevelForChildren = excludedParent ? uiLevel : uiLevel + 1;\n                    this.recursivelyAddToRowsToDisplay(rowNode.childrenAfterSort, result, nextRowTop, skipLeafNodes, uiLevelForChildren);\n                    // put a footer in if user is looking for it\n                    if (this.gridOptionsWrapper.isGroupIncludeFooter()) {\n                        this.ensureFooterNodeExists(rowNode);\n                        this.addRowNodeToRowsToDisplay(rowNode.sibling, result, nextRowTop, uiLevel);\n                    }\n                }\n            }\n            else if (rowNode.master && rowNode.expanded) {\n                var detailNode = this.createDetailNode(rowNode);\n                this.addRowNodeToRowsToDisplay(detailNode, result, nextRowTop, uiLevel);\n            }\n        }\n    };\n    // duplicated method, it's also in floatingRowModel\n    FlattenStage.prototype.addRowNodeToRowsToDisplay = function (rowNode, result, nextRowTop, uiLevel) {\n        var isGroupMultiAutoColumn = this.gridOptionsWrapper.isGroupMultiAutoColumn();\n        result.push(rowNode);\n        rowNode.setUiLevel(isGroupMultiAutoColumn ? 0 : uiLevel);\n    };\n    FlattenStage.prototype.ensureFooterNodeExists = function (groupNode) {\n        // only create footer node once, otherwise we have daemons and\n        // the animate screws up with the daemons hanging around\n        if (_.exists(groupNode.sibling)) {\n            return;\n        }\n        var footerNode = new RowNode();\n        this.context.createBean(footerNode);\n        Object.keys(groupNode).forEach(function (key) {\n            footerNode[key] = groupNode[key];\n        });\n        footerNode.footer = true;\n        footerNode.rowTop = null;\n        footerNode.oldRowTop = null;\n        if (_.exists(footerNode.id)) {\n            footerNode.id = 'rowGroupFooter_' + footerNode.id;\n        }\n        // get both header and footer to reference each other as siblings. this is never undone,\n        // only overwritten. so if a group is expanded, then contracted, it will have a ghost\n        // sibling - but that's fine, as we can ignore this if the header is contracted.\n        footerNode.sibling = groupNode;\n        groupNode.sibling = footerNode;\n    };\n    FlattenStage.prototype.createDetailNode = function (masterNode) {\n        if (_.exists(masterNode.detailNode)) {\n            return masterNode.detailNode;\n        }\n        var detailNode = new RowNode();\n        this.context.createBean(detailNode);\n        detailNode.detail = true;\n        detailNode.selectable = false;\n        detailNode.parent = masterNode;\n        if (_.exists(masterNode.id)) {\n            detailNode.id = 'detail_' + masterNode.id;\n        }\n        detailNode.data = masterNode.data;\n        detailNode.level = masterNode.level + 1;\n        masterNode.detailNode = detailNode;\n        return detailNode;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], FlattenStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('selectionController')\n    ], FlattenStage.prototype, \"selectionController\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], FlattenStage.prototype, \"columnController\", void 0);\n    FlattenStage = __decorate([\n        Bean('flattenStage')\n    ], FlattenStage);\n    return FlattenStage;\n}(BeanStub));\nexport { FlattenStage };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { ColumnGroup } from \"./columnGroup\";\nimport { Column } from \"./column\";\nimport { EventService } from \"../eventService\";\nvar OriginalColumnGroup = /** @class */ (function () {\n    function OriginalColumnGroup(colGroupDef, groupId, padding, level) {\n        this.localEventService = new EventService();\n        this.expandable = false;\n        this.colGroupDef = colGroupDef;\n        this.groupId = groupId;\n        this.expanded = colGroupDef && !!colGroupDef.openByDefault;\n        this.padding = padding;\n        this.level = level;\n    }\n    OriginalColumnGroup.prototype.setOriginalParent = function (originalParent) {\n        this.originalParent = originalParent;\n    };\n    OriginalColumnGroup.prototype.getOriginalParent = function () {\n        return this.originalParent;\n    };\n    OriginalColumnGroup.prototype.getLevel = function () {\n        return this.level;\n    };\n    OriginalColumnGroup.prototype.isVisible = function () {\n        // return true if at least one child is visible\n        if (this.children) {\n            return this.children.some(function (child) { return child.isVisible(); });\n        }\n        return false;\n    };\n    OriginalColumnGroup.prototype.isPadding = function () {\n        return this.padding;\n    };\n    OriginalColumnGroup.prototype.setExpanded = function (expanded) {\n        this.expanded = expanded === undefined ? false : expanded;\n        var event = {\n            type: OriginalColumnGroup.EVENT_EXPANDED_CHANGED\n        };\n        this.localEventService.dispatchEvent(event);\n    };\n    OriginalColumnGroup.prototype.isExpandable = function () {\n        return this.expandable;\n    };\n    OriginalColumnGroup.prototype.isExpanded = function () {\n        return this.expanded;\n    };\n    OriginalColumnGroup.prototype.getGroupId = function () {\n        return this.groupId;\n    };\n    OriginalColumnGroup.prototype.getId = function () {\n        return this.getGroupId();\n    };\n    OriginalColumnGroup.prototype.setChildren = function (children) {\n        this.children = children;\n    };\n    OriginalColumnGroup.prototype.getChildren = function () {\n        return this.children;\n    };\n    OriginalColumnGroup.prototype.getColGroupDef = function () {\n        return this.colGroupDef;\n    };\n    OriginalColumnGroup.prototype.getLeafColumns = function () {\n        var result = [];\n        this.addLeafColumns(result);\n        return result;\n    };\n    OriginalColumnGroup.prototype.addLeafColumns = function (leafColumns) {\n        if (!this.children) {\n            return;\n        }\n        this.children.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof OriginalColumnGroup) {\n                child.addLeafColumns(leafColumns);\n            }\n        });\n    };\n    OriginalColumnGroup.prototype.getColumnGroupShow = function () {\n        return this.padding ? ColumnGroup.HEADER_GROUP_PADDING : this.colGroupDef.columnGroupShow;\n    };\n    // need to check that this group has at least one col showing when both expanded and contracted.\n    // if not, then we don't allow expanding and contracting on this group\n    OriginalColumnGroup.prototype.setupExpandable = function () {\n        var _this = this;\n        this.setExpandable();\n        // note - we should be removing this event listener\n        this.getLeafColumns().forEach(function (col) { return col.addEventListener(Column.EVENT_VISIBLE_CHANGED, _this.onColumnVisibilityChanged.bind(_this)); });\n    };\n    OriginalColumnGroup.prototype.setExpandable = function () {\n        if (this.isPadding()) {\n            return;\n        }\n        // want to make sure the group doesn't disappear when it's open\n        var atLeastOneShowingWhenOpen = false;\n        // want to make sure the group doesn't disappear when it's closed\n        var atLeastOneShowingWhenClosed = false;\n        // want to make sure the group has something to show / hide\n        var atLeastOneChangeable = false;\n        var children = this.findChildren();\n        for (var i = 0, j = children.length; i < j; i++) {\n            var abstractColumn = children[i];\n            if (!abstractColumn.isVisible()) {\n                continue;\n            }\n            // if the abstractColumn is a grid generated group, there will be no colDef\n            var headerGroupShow = abstractColumn.getColumnGroupShow();\n            if (headerGroupShow === ColumnGroup.HEADER_GROUP_SHOW_OPEN) {\n                atLeastOneShowingWhenOpen = true;\n                atLeastOneChangeable = true;\n            }\n            else if (headerGroupShow === ColumnGroup.HEADER_GROUP_SHOW_CLOSED) {\n                atLeastOneShowingWhenClosed = true;\n                atLeastOneChangeable = true;\n            }\n            else {\n                atLeastOneShowingWhenOpen = true;\n                atLeastOneShowingWhenClosed = true;\n                if (headerGroupShow === ColumnGroup.HEADER_GROUP_PADDING) {\n                    var column = abstractColumn;\n                    atLeastOneChangeable = atLeastOneChangeable || column.children.some(function (child) { return child.getColumnGroupShow() !== undefined; });\n                }\n            }\n        }\n        var expandable = atLeastOneShowingWhenOpen && atLeastOneShowingWhenClosed && atLeastOneChangeable;\n        if (this.expandable !== expandable) {\n            this.expandable = expandable;\n            var event_1 = {\n                type: OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED\n            };\n            this.localEventService.dispatchEvent(event_1);\n        }\n    };\n    OriginalColumnGroup.prototype.findChildren = function () {\n        var children = this.children;\n        var firstChild = children[0];\n        if (firstChild && (!firstChild.isPadding || !firstChild.isPadding())) {\n            return children;\n        }\n        while (children.length === 1 && children[0] instanceof OriginalColumnGroup) {\n            children = children[0].children;\n        }\n        return children;\n    };\n    OriginalColumnGroup.prototype.onColumnVisibilityChanged = function () {\n        this.setExpandable();\n    };\n    OriginalColumnGroup.prototype.addEventListener = function (eventType, listener) {\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    OriginalColumnGroup.prototype.removeEventListener = function (eventType, listener) {\n        this.localEventService.removeEventListener(eventType, listener);\n    };\n    OriginalColumnGroup.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n    OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED = 'expandableChanged';\n    return OriginalColumnGroup;\n}());\nexport { OriginalColumnGroup };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgInputTextField } from \"./agInputTextField\";\nimport { addOrRemoveAttribute } from '../utils/dom';\nvar AgInputNumberField = /** @class */ (function (_super) {\n    __extends(AgInputNumberField, _super);\n    function AgInputNumberField(config) {\n        return _super.call(this, config, 'ag-number-field', 'number') || this;\n    }\n    AgInputNumberField.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        this.addManagedListener(this.eInput, 'blur', function () {\n            var floatedValue = parseFloat(_this.eInput.value);\n            var value = isNaN(floatedValue) ? '' : _this.normalizeValue(floatedValue.toString());\n            if (_this.value !== value) {\n                _this.setValue(value);\n            }\n        });\n    };\n    AgInputNumberField.prototype.normalizeValue = function (value) {\n        if (value === '') {\n            return '';\n        }\n        if (this.precision) {\n            value = this.adjustPrecision(value);\n        }\n        var val = parseFloat(value);\n        if (this.min != null && val < this.min) {\n            value = this.min.toString();\n        }\n        else if (this.max != null && val > this.max) {\n            value = this.max.toString();\n        }\n        return value;\n    };\n    AgInputNumberField.prototype.adjustPrecision = function (value) {\n        if (this.precision) {\n            var floatString = parseFloat(value).toFixed(this.precision);\n            value = parseFloat(floatString).toString();\n        }\n        return value;\n    };\n    AgInputNumberField.prototype.setMin = function (min) {\n        if (this.min === min) {\n            return this;\n        }\n        this.min = min;\n        addOrRemoveAttribute(this.eInput, 'min', min);\n        return this;\n    };\n    AgInputNumberField.prototype.setMax = function (max) {\n        if (this.max === max) {\n            return this;\n        }\n        this.max = max;\n        addOrRemoveAttribute(this.eInput, 'max', max);\n        return this;\n    };\n    AgInputNumberField.prototype.setPrecision = function (precision) {\n        this.precision = precision;\n        return this;\n    };\n    AgInputNumberField.prototype.setStep = function (step) {\n        if (this.step === step) {\n            return this;\n        }\n        this.step = step;\n        addOrRemoveAttribute(this.eInput, 'step', step);\n        return this;\n    };\n    AgInputNumberField.prototype.setValue = function (value, silent) {\n        value = this.adjustPrecision(value);\n        var normalizedValue = this.normalizeValue(value);\n        if (value != normalizedValue) {\n            return this;\n        }\n        return _super.prototype.setValue.call(this, value, silent);\n    };\n    return AgInputNumberField;\n}(AgInputTextField));\nexport { AgInputNumberField };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../context/context\";\nimport { ColumnGroup } from \"../entities/columnGroup\";\nimport { OriginalColumnGroup } from \"../entities/originalColumnGroup\";\nimport { Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { last } from \"../utils/array\";\nimport { exists } from \"../utils/generic\";\n// takes in a list of columns, as specified by the column definitions, and returns column groups\nvar DisplayedGroupCreator = /** @class */ (function (_super) {\n    __extends(DisplayedGroupCreator, _super);\n    function DisplayedGroupCreator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DisplayedGroupCreator.prototype.createDisplayedGroups = function (\n    // all displayed columns sorted - this is the columns the grid should show\n    sortedVisibleColumns, \n    // the tree of columns, as provided by the users, used to know what groups columns roll up into\n    balancedColumnTree, \n    // creates unique id's for the group\n    groupInstanceIdCreator, \n    // whether it's left, right or center col\n    pinned, \n    // we try to reuse old groups if we can, to allow gui to do animation\n    oldDisplayedGroups) {\n        var _this = this;\n        var result = [];\n        var previousRealPath;\n        var previousOriginalPath;\n        var oldColumnsMapped = this.mapOldGroupsById(oldDisplayedGroups);\n        // go through each column, then do a bottom up comparison to the previous column, and start\n        // to share groups if they converge at any point.\n        sortedVisibleColumns.forEach(function (currentColumn) {\n            var currentOriginalPath = _this.getOriginalPathForColumn(balancedColumnTree, currentColumn);\n            var currentRealPath = [];\n            var firstColumn = !previousOriginalPath;\n            for (var i = 0; i < currentOriginalPath.length; i++) {\n                if (firstColumn || currentOriginalPath[i] !== previousOriginalPath[i]) {\n                    // new group needed\n                    var newGroup = _this.createColumnGroup(currentOriginalPath[i], groupInstanceIdCreator, oldColumnsMapped, pinned);\n                    currentRealPath[i] = newGroup;\n                    // if top level, add to result, otherwise add to parent\n                    if (i == 0) {\n                        result.push(newGroup);\n                    }\n                    else {\n                        currentRealPath[i - 1].addChild(newGroup);\n                    }\n                }\n                else {\n                    // reuse old group\n                    currentRealPath[i] = previousRealPath[i];\n                }\n            }\n            var noColumnGroups = currentRealPath.length === 0;\n            if (noColumnGroups) {\n                // if we are not grouping, then the result of the above is an empty\n                // path (no groups), and we just add the column to the root list.\n                result.push(currentColumn);\n            }\n            else {\n                var leafGroup = last(currentRealPath);\n                leafGroup.addChild(currentColumn);\n            }\n            previousRealPath = currentRealPath;\n            previousOriginalPath = currentOriginalPath;\n        });\n        this.setupParentsIntoColumns(result, null);\n        return result;\n    };\n    DisplayedGroupCreator.prototype.createColumnGroup = function (originalGroup, groupInstanceIdCreator, oldColumnsMapped, pinned) {\n        var groupId = originalGroup.getGroupId();\n        var instanceId = groupInstanceIdCreator.getInstanceIdForKey(groupId);\n        var uniqueId = ColumnGroup.createUniqueId(groupId, instanceId);\n        var columnGroup = oldColumnsMapped[uniqueId];\n        // if the user is setting new colDefs, it is possible that the id's overlap, and we\n        // would have a false match from above. so we double check we are talking about the\n        // same original column group.\n        if (columnGroup && columnGroup.getOriginalColumnGroup() !== originalGroup) {\n            columnGroup = null;\n        }\n        if (exists(columnGroup)) {\n            // clean out the old column group here, as we will be adding children into it again\n            columnGroup.reset();\n        }\n        else {\n            columnGroup = new ColumnGroup(originalGroup, groupId, instanceId, pinned);\n            this.context.createBean(columnGroup);\n        }\n        return columnGroup;\n    };\n    // returns back a 2d map of ColumnGroup as follows: groupId -> instanceId -> ColumnGroup\n    DisplayedGroupCreator.prototype.mapOldGroupsById = function (displayedGroups) {\n        var result = {};\n        var recursive = function (columnsOrGroups) {\n            columnsOrGroups.forEach(function (columnOrGroup) {\n                if (columnOrGroup instanceof ColumnGroup) {\n                    var columnGroup = columnOrGroup;\n                    result[columnOrGroup.getUniqueId()] = columnGroup;\n                    recursive(columnGroup.getChildren());\n                }\n            });\n        };\n        if (displayedGroups) {\n            recursive(displayedGroups);\n        }\n        return result;\n    };\n    DisplayedGroupCreator.prototype.setupParentsIntoColumns = function (columnsOrGroups, parent) {\n        var _this = this;\n        columnsOrGroups.forEach(function (columnsOrGroup) {\n            columnsOrGroup.setParent(parent);\n            if (columnsOrGroup instanceof ColumnGroup) {\n                var columnGroup = columnsOrGroup;\n                _this.setupParentsIntoColumns(columnGroup.getChildren(), columnGroup);\n            }\n        });\n    };\n    DisplayedGroupCreator.prototype.getOriginalPathForColumn = function (balancedColumnTree, column) {\n        var result = [];\n        var found = false;\n        var recursePath = function (balancedColumnTree, dept) {\n            for (var i = 0; i < balancedColumnTree.length; i++) {\n                // quit the search, so 'result' is kept with the found result\n                if (found) {\n                    return;\n                }\n                var node = balancedColumnTree[i];\n                if (node instanceof OriginalColumnGroup) {\n                    var nextNode = node;\n                    recursePath(nextNode.getChildren(), dept + 1);\n                    result[dept] = node;\n                }\n                else if (node === column) {\n                    found = true;\n                }\n            }\n        };\n        recursePath(balancedColumnTree, 0);\n        // it's possible we didn't find a path. this happens if the column is generated\n        // by the grid (auto-group), in that the definition didn't come from the client. in this case,\n        // we create a fake original path.\n        if (found) {\n            return result;\n        }\n        console.warn('could not get path');\n        return null;\n    };\n    __decorate([\n        Autowired('columnUtils')\n    ], DisplayedGroupCreator.prototype, \"columnUtils\", void 0);\n    DisplayedGroupCreator = __decorate([\n        Bean('displayedGroupCreator')\n    ], DisplayedGroupCreator);\n    return DisplayedGroupCreator;\n}(BeanStub));\nexport { DisplayedGroupCreator };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { exists, toStringOrNull } from './generic';\nexport function firstExistingValue() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        if (exists(value)) {\n            return value;\n        }\n    }\n    return null;\n}\n/** @deprecated */\nexport function anyExists(values) {\n    return values && firstExistingValue(values) != null;\n}\nexport function existsAndNotEmpty(value) {\n    return value != null && value.length > 0;\n}\nexport function last(arr) {\n    if (!arr || !arr.length) {\n        return undefined;\n    }\n    return arr[arr.length - 1];\n}\nexport function areEqual(a, b, comparator) {\n    if (a == null && b == null) {\n        return true;\n    }\n    return a != null &&\n        b != null &&\n        a.length === b.length &&\n        every(a, function (value, index) { return comparator ? comparator(value, b[index]) : b[index] === value; });\n}\n/** @deprecated */\nexport function compareArrays(array1, array2) {\n    return areEqual(array1, array2);\n}\n/** @deprecated */\nexport function shallowCompare(arr1, arr2) {\n    return areEqual(arr1, arr2);\n}\nexport function sortNumerically(array) {\n    return array.sort(function (a, b) { return a - b; });\n}\nexport function removeRepeatsFromArray(array, object) {\n    if (!array) {\n        return;\n    }\n    for (var index = array.length - 2; index >= 0; index--) {\n        var thisOneMatches = array[index] === object;\n        var nextOneMatches = array[index + 1] === object;\n        if (thisOneMatches && nextOneMatches) {\n            array.splice(index + 1, 1);\n        }\n    }\n}\nexport function removeFromArray(array, object) {\n    var index = array.indexOf(object);\n    if (index >= 0) {\n        array.splice(index, 1);\n    }\n}\nexport function removeAllFromArray(array, toRemove) {\n    forEach(toRemove, function (item) { return removeFromArray(array, item); });\n}\nexport function insertIntoArray(array, object, toIndex) {\n    array.splice(toIndex, 0, object);\n}\nexport function insertArrayIntoArray(dest, src, toIndex) {\n    if (dest == null || src == null) {\n        return;\n    }\n    // put items in backwards, otherwise inserted items end up in reverse order\n    for (var i = src.length - 1; i >= 0; i--) {\n        var item = src[i];\n        insertIntoArray(dest, item, toIndex);\n    }\n}\nexport function moveInArray(array, objectsToMove, toIndex) {\n    // first take out items from the array\n    removeAllFromArray(array, objectsToMove);\n    // now add the objects, in same order as provided to us, that means we start at the end\n    // as the objects will be pushed to the right as they are inserted\n    forEach(objectsToMove.slice().reverse(), function (obj) { return insertIntoArray(array, obj, toIndex); });\n}\nexport function includes(array, value) {\n    return array.indexOf(value) > -1;\n}\nexport function flatten(arrayOfArrays) {\n    return [].concat.apply([], arrayOfArrays);\n}\nexport function pushAll(target, source) {\n    if (source == null || target == null) {\n        return;\n    }\n    forEach(source, function (value) { return target.push(value); });\n}\nexport function toStrings(array) {\n    return map(array, toStringOrNull);\n}\nexport function findIndex(collection, predicate) {\n    for (var i = 0; i < collection.length; i++) {\n        if (predicate(collection[i], i, collection)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * The implementation of Array.prototype.every in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/bek91dtit8/\n */\nexport function every(list, predicate) {\n    if (list == null) {\n        return true;\n    }\n    for (var i = 0; i < list.length; i++) {\n        if (!predicate(list[i], i)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * The implementation of Array.prototype.some in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/5dk91e4tmt/\n */\nexport function some(list, predicate) {\n    if (list == null) {\n        return false;\n    }\n    for (var i = 0; i < list.length; i++) {\n        if (predicate(list[i], i)) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * The implementation of Array.prototype.forEach in browsers is often slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/apk91elt8a/\n */\nexport function forEach(list, action) {\n    if (list == null) {\n        return;\n    }\n    for (var i = 0; i < list.length; i++) {\n        action(list[i], i);\n    }\n}\nexport function forEachReverse(list, action) {\n    if (list == null) {\n        return;\n    }\n    for (var i = list.length - 1; i >= 0; i--) {\n        action(list[i], i);\n    }\n}\n/**\n * The implementation of Array.prototype.map in browsers is generally the same as just using a simple for loop. However,\n * Firefox does exhibit some difference, and this performs no worse in other browsers, so use this if you want improved\n * performance.\n * https://jsbench.me/njk91ez8pc/\n */\nexport function map(list, process) {\n    if (list == null) {\n        return null;\n    }\n    var mapped = [];\n    for (var i = 0; i < list.length; i++) {\n        mapped.push(process(list[i], i));\n    }\n    return mapped;\n}\n/**\n * The implementation of Array.prototype.filter in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/7bk91fk08c/\n */\nexport function filter(list, predicate) {\n    if (list == null) {\n        return null;\n    }\n    var filtered = [];\n    for (var i = 0; i < list.length; i++) {\n        if (predicate(list[i], i)) {\n            filtered.push(list[i]);\n        }\n    }\n    return filtered;\n}\n/**\n * The implementation of Array.prototype.reduce in browsers is generally the same as just using a simple for loop. However,\n * Chrome does exhibit some difference, and this performs no worse in other browsers, so use this if you want improved\n * performance.\n * https://jsbench.me/7vk92n6u1f/\n */\nexport function reduce(list, step, initial) {\n    if (list == null || initial == null) {\n        return null;\n    }\n    var result = initial;\n    for (var i = 0; i < list.length; i++) {\n        result = step(result, list[i], i);\n    }\n    return result;\n}\n/** @deprecated */\nexport function forEachSnapshotFirst(list, callback) {\n    if (!list) {\n        return;\n    }\n    var arrayCopy = list.slice(0);\n    arrayCopy.forEach(callback);\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct } from \"../../context/context\";\nimport { GridOptionsWrapper } from \"../../gridOptionsWrapper\";\nimport { appendHtml, insertTemplateWithDomOrder, ensureDomOrder, setDisplayed } from \"../../utils/dom\";\n/**\n * There are many instances of this component covering each of the areas a row can be entered\n * eg body, pinned left, fullWidth. The component differs from others in that it's given the\n * elements, there is no template. All of the elements are part of the GridPanel.\n */\nvar RowContainerComponent = /** @class */ (function () {\n    function RowContainerComponent(params) {\n        this.childCount = 0;\n        this.rowTemplatesToAdd = [];\n        this.afterGuiAttachedCallbacks = [];\n        // this is to cater for a 'strange behaviour' where when a panel is made visible, it is firing a scroll\n        // event which we want to ignore. see gridPanel.onAnyBodyScroll()\n        this.lastMadeVisibleTime = 0;\n        this.eContainer = params.eContainer;\n        this.eViewport = params.eViewport;\n        if (params.eWrapper) {\n            this.eWrapper = params.eWrapper;\n        }\n        this.hideWhenNoChildren = params.hideWhenNoChildren;\n    }\n    RowContainerComponent.prototype.setVerticalScrollPosition = function (verticalScrollPosition) {\n        this.scrollTop = verticalScrollPosition;\n    };\n    RowContainerComponent.prototype.postConstruct = function () {\n        this.checkDomOrder();\n        this.checkVisibility();\n        this.gridOptionsWrapper.addEventListener(GridOptionsWrapper.PROP_DOM_LAYOUT, this.checkDomOrder.bind(this));\n    };\n    RowContainerComponent.prototype.checkDomOrder = function () {\n        this.domOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n    };\n    RowContainerComponent.prototype.getRowElement = function (compId) {\n        return this.eContainer.querySelector(\"[comp-id=\\\"\" + compId + \"\\\"]\");\n    };\n    RowContainerComponent.prototype.setHeight = function (height) {\n        if (height == null) {\n            this.eContainer.style.height = '';\n            return;\n        }\n        this.eContainer.style.height = height + \"px\";\n        if (this.eWrapper) {\n            this.eWrapper.style.height = height + \"px\";\n        }\n    };\n    RowContainerComponent.prototype.flushRowTemplates = function () {\n        // if doing dom order, then rowTemplates will be empty,\n        // or if no rows added since last time also empty.\n        if (this.rowTemplatesToAdd.length !== 0) {\n            var htmlToAdd = this.rowTemplatesToAdd.join('');\n            appendHtml(this.eContainer, htmlToAdd);\n            this.rowTemplatesToAdd.length = 0;\n        }\n        // this only empty if no rows since last time, as when\n        // doing dom order, we still have callbacks to process\n        this.afterGuiAttachedCallbacks.forEach(function (func) { return func(); });\n        this.afterGuiAttachedCallbacks.length = 0;\n        this.lastPlacedElement = null;\n    };\n    RowContainerComponent.prototype.appendRowTemplate = function (rowTemplate, callback) {\n        if (this.domOrder) {\n            this.lastPlacedElement = insertTemplateWithDomOrder(this.eContainer, rowTemplate, this.lastPlacedElement);\n        }\n        else {\n            this.rowTemplatesToAdd.push(rowTemplate);\n        }\n        this.afterGuiAttachedCallbacks.push(callback);\n        // it is important we put items in in order, so that when we open a row group,\n        // the new rows are inserted after the opened group, but before the rows below.\n        // that way, the rows below are over the new rows (as dom renders last in dom over\n        // items previous in dom), otherwise the child rows would cover the row below and\n        // that meant the user doesn't see the rows below slide away.\n        this.childCount++;\n        this.checkVisibility();\n    };\n    RowContainerComponent.prototype.ensureDomOrder = function (eRow) {\n        if (this.domOrder) {\n            ensureDomOrder(this.eContainer, eRow, this.lastPlacedElement);\n            this.lastPlacedElement = eRow;\n        }\n    };\n    RowContainerComponent.prototype.removeRowElement = function (eRow) {\n        this.eContainer.removeChild(eRow);\n        this.childCount--;\n        this.checkVisibility();\n    };\n    RowContainerComponent.prototype.checkVisibility = function () {\n        if (!this.hideWhenNoChildren) {\n            return;\n        }\n        var eGui = this.eViewport ? this.eViewport : this.eContainer;\n        var visible = this.childCount > 0;\n        if (this.visible !== visible) {\n            this.visible = visible;\n            this.lastMadeVisibleTime = new Date().getTime();\n            setDisplayed(eGui, visible);\n            // if we are showing the viewport, then the scroll is always zero,\n            // so we need to align with the other sections (ie if this is full\n            // width container, and first time showing a full width row, we need to\n            // scroll it so full width rows are show in right place alongside the\n            // body rows). without this, there was an issue with 'loading rows' for\n            // server side row model, as loading rows are full width, and they were\n            // not getting displayed in the right location when rows were expanded.\n            if (visible && this.eViewport) {\n                this.eViewport.scrollTop = this.scrollTop;\n            }\n        }\n    };\n    RowContainerComponent.prototype.isMadeVisibleRecently = function () {\n        var now = new Date().getTime();\n        var millisSinceVisible = now - this.lastMadeVisibleTime;\n        return millisSinceVisible < 500;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], RowContainerComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], RowContainerComponent.prototype, \"postConstruct\", null);\n    return RowContainerComponent;\n}());\nexport { RowContainerComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport var DateComponent = {\n    propertyName: 'dateComponent',\n    isCellRenderer: function () { return false; }\n};\nexport var HeaderComponent = {\n    propertyName: 'headerComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var HeaderGroupComponent = {\n    propertyName: 'headerGroupComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var CellRendererComponent = {\n    propertyName: 'cellRenderer',\n    isCellRenderer: function () { return true; },\n};\nexport var PinnedRowCellRendererComponent = {\n    propertyName: 'pinnedRowCellRenderer',\n    isCellRenderer: function () { return true; },\n};\nexport var CellEditorComponent = {\n    propertyName: 'cellEditor',\n    isCellRenderer: function () { return false; },\n};\nexport var InnerRendererComponent = {\n    propertyName: 'innerRenderer',\n    isCellRenderer: function () { return true; },\n};\nexport var LoadingOverlayComponent = {\n    propertyName: 'loadingOverlayComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var NoRowsOverlayComponent = {\n    propertyName: 'noRowsOverlayComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var TooltipComponent = {\n    propertyName: 'tooltipComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var FilterComponent = {\n    propertyName: 'filter',\n    isCellRenderer: function () { return false; },\n};\nexport var FloatingFilterComponent = {\n    propertyName: 'floatingFilterComponent',\n    isCellRenderer: function () { return false; },\n};\nexport var ToolPanelComponent = {\n    propertyName: 'toolPanel',\n    isCellRenderer: function () { return false; },\n};\nexport var StatusPanelComponent = {\n    propertyName: 'statusPanel',\n    isCellRenderer: function () { return false; },\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar CellPositionUtils = /** @class */ (function (_super) {\n    __extends(CellPositionUtils, _super);\n    function CellPositionUtils() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CellPositionUtils.prototype.createId = function (cellPosition) {\n        var rowIndex = cellPosition.rowIndex, rowPinned = cellPosition.rowPinned, column = cellPosition.column;\n        return this.createIdFromValues(rowIndex, column, rowPinned);\n    };\n    CellPositionUtils.prototype.createIdFromValues = function (rowIndex, column, rowPinned) {\n        return rowIndex + \".\" + (rowPinned == null ? 'null' : rowPinned) + \".\" + column.getId();\n    };\n    CellPositionUtils.prototype.equals = function (cellA, cellB) {\n        var colsMatch = cellA.column === cellB.column;\n        var floatingMatch = cellA.rowPinned === cellB.rowPinned;\n        var indexMatch = cellA.rowIndex === cellB.rowIndex;\n        return colsMatch && floatingMatch && indexMatch;\n    };\n    CellPositionUtils = __decorate([\n        Bean('cellPositionUtils')\n    ], CellPositionUtils);\n    return CellPositionUtils;\n}(BeanStub));\nexport { CellPositionUtils };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar NumberSequence = /** @class */ (function () {\n    function NumberSequence(initValue, step) {\n        if (initValue === void 0) { initValue = 0; }\n        if (step === void 0) { step = 1; }\n        this.nextValue = initValue;\n        this.step = step;\n    }\n    NumberSequence.prototype.next = function () {\n        var valToReturn = this.nextValue;\n        this.nextValue += this.step;\n        return valToReturn;\n    };\n    NumberSequence.prototype.peek = function () {\n        return this.nextValue;\n    };\n    NumberSequence.prototype.skip = function (count) {\n        this.nextValue += count;\n    };\n    return NumberSequence;\n}());\nexport { NumberSequence };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Bean } from \"./context/context\";\nimport { Qualifier } from \"./context/context\";\nvar EventService = /** @class */ (function () {\n    function EventService() {\n        this.allSyncListeners = new Map();\n        this.allAsyncListeners = new Map();\n        this.globalSyncListeners = new Set();\n        this.globalAsyncListeners = new Set();\n        this.asyncFunctionsQueue = [];\n        this.scheduled = false;\n        // using an object performs better than a Set for the number of different events we have\n        this.firedEvents = {};\n    }\n    // because this class is used both inside the context and outside the context, we do not\n    // use autowired attributes, as that would be confusing, as sometimes the attributes\n    // would be wired, and sometimes not.\n    //\n    // the global event servers used by ag-Grid is autowired by the context once, and this\n    // setBeans method gets called once.\n    //\n    // the times when this class is used outside of the context (eg RowNode has an instance of this\n    // class) then it is not a bean, and this setBeans method is not called.\n    EventService.prototype.setBeans = function (loggerFactory, gridOptionsWrapper, globalEventListener) {\n        if (globalEventListener === void 0) { globalEventListener = null; }\n        this.logger = loggerFactory.create('EventService');\n        if (globalEventListener) {\n            var async = gridOptionsWrapper.useAsyncEvents();\n            this.addGlobalListener(globalEventListener, async);\n        }\n    };\n    EventService.prototype.getListeners = function (eventType, async) {\n        var listenerMap = async ? this.allAsyncListeners : this.allSyncListeners;\n        var listeners = listenerMap.get(eventType);\n        if (!listeners) {\n            listeners = new Set();\n            listenerMap.set(eventType, listeners);\n        }\n        return listeners;\n    };\n    EventService.prototype.addEventListener = function (eventType, listener, async) {\n        if (async === void 0) { async = false; }\n        this.getListeners(eventType, async).add(listener);\n    };\n    EventService.prototype.removeEventListener = function (eventType, listener, async) {\n        if (async === void 0) { async = false; }\n        this.getListeners(eventType, async).delete(listener);\n    };\n    EventService.prototype.addGlobalListener = function (listener, async) {\n        if (async === void 0) { async = false; }\n        (async ? this.globalAsyncListeners : this.globalSyncListeners).add(listener);\n    };\n    EventService.prototype.removeGlobalListener = function (listener, async) {\n        if (async === void 0) { async = false; }\n        (async ? this.globalAsyncListeners : this.globalSyncListeners).delete(listener);\n    };\n    EventService.prototype.dispatchEvent = function (event) {\n        this.dispatchToListeners(event, true);\n        this.dispatchToListeners(event, false);\n        this.firedEvents[event.type] = true;\n    };\n    EventService.prototype.dispatchEventOnce = function (event) {\n        if (!this.firedEvents[event.type]) {\n            this.dispatchEvent(event);\n        }\n    };\n    EventService.prototype.dispatchToListeners = function (event, async) {\n        var _this = this;\n        var eventType = event.type;\n        var processEventListeners = function (listeners) { return listeners.forEach(function (listener) {\n            if (async) {\n                _this.dispatchAsync(function () { return listener(event); });\n            }\n            else {\n                listener(event);\n            }\n        }); };\n        processEventListeners(this.getListeners(eventType, async));\n        var globalListeners = async ? this.globalAsyncListeners : this.globalSyncListeners;\n        globalListeners.forEach(function (listener) {\n            if (async) {\n                _this.dispatchAsync(function () { return listener(eventType, event); });\n            }\n            else {\n                listener(eventType, event);\n            }\n        });\n    };\n    // this gets called inside the grid's thread, for each event that it\n    // wants to set async. the grid then batches the events into one setTimeout()\n    // because setTimeout() is an expensive operation. ideally we would have\n    // each event in it's own setTimeout(), but we batch for performance.\n    EventService.prototype.dispatchAsync = function (func) {\n        // add to the queue for executing later in the next VM turn\n        this.asyncFunctionsQueue.push(func);\n        // check if timeout is already scheduled. the first time the grid calls\n        // this within it's thread turn, this should be false, so it will schedule\n        // the 'flush queue' method the first time it comes here. then the flag is\n        // set to 'true' so it will know it's already scheduled for subsequent calls.\n        if (!this.scheduled) {\n            // if not scheduled, schedule one\n            window.setTimeout(this.flushAsyncQueue.bind(this), 0);\n            // mark that it is scheduled\n            this.scheduled = true;\n        }\n    };\n    // this happens in the next VM turn only, and empties the queue of events\n    EventService.prototype.flushAsyncQueue = function () {\n        this.scheduled = false;\n        // we take a copy, because the event listener could be using\n        // the grid, which would cause more events, which would be potentially\n        // added to the queue, so safe to take a copy, the new events will\n        // get executed in a later VM turn rather than risk updating the\n        // queue as we are flushing it.\n        var queueCopy = this.asyncFunctionsQueue.slice();\n        this.asyncFunctionsQueue = [];\n        // execute the queue\n        queueCopy.forEach(function (func) { return func(); });\n    };\n    __decorate([\n        __param(0, Qualifier('loggerFactory')),\n        __param(1, Qualifier('gridOptionsWrapper')),\n        __param(2, Qualifier('globalEventListener'))\n    ], EventService.prototype, \"setBeans\", null);\n    EventService = __decorate([\n        Bean('eventService')\n    ], EventService);\n    return EventService;\n}());\nexport { EventService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../../context/beanStub\";\nimport { RowNodeBlock } from \"./rowNodeBlock\";\nimport { NumberSequence } from \"../../utils\";\nimport { Autowired, PostConstruct, PreDestroy } from \"../../context/context\";\nimport { exists, missing } from \"../../utils/generic\";\nvar RowNodeCache = /** @class */ (function (_super) {\n    __extends(RowNodeCache, _super);\n    function RowNodeCache(cacheParams) {\n        var _this = _super.call(this) || this;\n        _this.maxRowFound = false;\n        _this.blocks = {};\n        _this.blockCount = 0;\n        _this.virtualRowCount = cacheParams.initialRowCount;\n        _this.cacheParams = cacheParams;\n        return _this;\n    }\n    RowNodeCache.prototype.destroyAllBlocks = function () {\n        var _this = this;\n        this.forEachBlockInOrder(function (block) { return _this.destroyBlock(block); });\n    };\n    RowNodeCache.prototype.init = function () {\n        var _this = this;\n        this.active = true;\n        this.addDestroyFunc(function () { return _this.active = false; });\n    };\n    RowNodeCache.prototype.isActive = function () {\n        return this.active;\n    };\n    RowNodeCache.prototype.getVirtualRowCount = function () {\n        return this.virtualRowCount;\n    };\n    RowNodeCache.prototype.hack_setVirtualRowCount = function (virtualRowCount) {\n        this.virtualRowCount = virtualRowCount;\n    };\n    RowNodeCache.prototype.isMaxRowFound = function () {\n        return this.maxRowFound;\n    };\n    // listener on EVENT_LOAD_COMPLETE\n    RowNodeCache.prototype.onPageLoaded = function (event) {\n        this.cacheParams.rowNodeBlockLoader.loadComplete();\n        this.checkBlockToLoad();\n        // if we are not active, then we ignore all events, otherwise we could end up getting the\n        // grid to refresh even though we are no longer the active cache\n        if (!this.isActive()) {\n            return;\n        }\n        this.logger.log(\"onPageLoaded: page = \" + event.page.getBlockNumber() + \", lastRow = \" + event.lastRow);\n        if (event.success) {\n            this.checkVirtualRowCount(event.page, event.lastRow);\n            this.onCacheUpdated();\n        }\n    };\n    RowNodeCache.prototype.purgeBlocksIfNeeded = function (blockToExclude) {\n        var _this = this;\n        // put all candidate blocks into a list for sorting\n        var blocksForPurging = [];\n        this.forEachBlockInOrder(function (block) {\n            // we exclude checking for the page just created, as this has yet to be accessed and hence\n            // the lastAccessed stamp will not be updated for the first time yet\n            if (block === blockToExclude) {\n                return;\n            }\n            blocksForPurging.push(block);\n        });\n        // note: need to verify that this sorts items in the right order\n        blocksForPurging.sort(function (a, b) { return b.getLastAccessed() - a.getLastAccessed(); });\n        // we remove (maxBlocksInCache - 1) as we already excluded the 'just created' page.\n        // in other words, after the splice operation below, we have taken out the blocks\n        // we want to keep, which means we are left with blocks that we can potentially purge\n        var maxBlocksProvided = this.cacheParams.maxBlocksInCache > 0;\n        var blocksToKeep = maxBlocksProvided ? this.cacheParams.maxBlocksInCache - 1 : null;\n        var emptyBlocksToKeep = RowNodeCache.MAX_EMPTY_BLOCKS_TO_KEEP - 1;\n        blocksForPurging.forEach(function (block, index) {\n            var purgeBecauseBlockEmpty = block.getState() === RowNodeBlock.STATE_DIRTY && index >= emptyBlocksToKeep;\n            var purgeBecauseCacheFull = maxBlocksProvided ? index >= blocksToKeep : false;\n            if (purgeBecauseBlockEmpty || purgeBecauseCacheFull) {\n                // we never purge blocks if they are open, as purging them would mess up with\n                // our indexes, it would be very messy to restore the purged block to it's\n                // previous state if it had open children (and what if open children of open\n                // children, jeeeesus, just thinking about it freaks me out) so best is have a\n                // rule, if block is open, we never purge.\n                if (block.isAnyNodeOpen(_this.virtualRowCount)) {\n                    return;\n                }\n                // if the block currently has rows been displayed, then don't remove it either.\n                // this can happen if user has maxBlocks=2, and blockSize=5 (thus 10 max rows in cache)\n                // but the screen is showing 20 rows, so at least 4 blocks are needed.\n                if (_this.isBlockCurrentlyDisplayed(block)) {\n                    return;\n                }\n                // at this point, block is not needed, and no open nodes, so burn baby burn\n                _this.removeBlockFromCache(block);\n            }\n        });\n    };\n    RowNodeCache.prototype.isBlockCurrentlyDisplayed = function (block) {\n        var firstViewportRow = this.rowRenderer.getFirstVirtualRenderedRow();\n        var lastViewportRow = this.rowRenderer.getLastVirtualRenderedRow();\n        var firstRowIndex = block.getDisplayIndexStart();\n        var lastRowIndex = block.getDisplayIndexEnd() - 1;\n        // parent closed means the parent node is not expanded, thus these blocks are not visible\n        var parentClosed = firstRowIndex == null || lastRowIndex == null;\n        if (parentClosed) {\n            return false;\n        }\n        var blockBeforeViewport = firstRowIndex > lastViewportRow;\n        var blockAfterViewport = lastRowIndex < firstViewportRow;\n        var blockInsideViewport = !blockBeforeViewport && !blockAfterViewport;\n        return blockInsideViewport;\n    };\n    RowNodeCache.prototype.postCreateBlock = function (newBlock) {\n        newBlock.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE, this.onPageLoaded.bind(this));\n        this.setBlock(newBlock.getBlockNumber(), newBlock);\n        this.purgeBlocksIfNeeded(newBlock);\n        this.checkBlockToLoad();\n    };\n    RowNodeCache.prototype.removeBlockFromCache = function (blockToRemove) {\n        if (!blockToRemove) {\n            return;\n        }\n        this.destroyBlock(blockToRemove);\n        // we do not want to remove the 'loaded' event listener, as the\n        // concurrent loads count needs to be updated when the load is complete\n        // if the purged page is in loading state\n    };\n    // gets called after: 1) block loaded 2) block created 3) cache refresh\n    RowNodeCache.prototype.checkBlockToLoad = function () {\n        this.cacheParams.rowNodeBlockLoader.checkBlockToLoad();\n    };\n    RowNodeCache.prototype.checkVirtualRowCount = function (block, lastRow) {\n        // if client provided a last row, we always use it, as it could change between server calls\n        // if user deleted data and then called refresh on the grid.\n        if (typeof lastRow === 'number' && lastRow >= 0) {\n            this.virtualRowCount = lastRow;\n            this.maxRowFound = true;\n        }\n        else if (!this.maxRowFound) {\n            // otherwise, see if we need to add some virtual rows\n            var lastRowIndex = (block.getBlockNumber() + 1) * this.cacheParams.blockSize;\n            var lastRowIndexPlusOverflow = lastRowIndex + this.cacheParams.overflowSize;\n            if (this.virtualRowCount < lastRowIndexPlusOverflow) {\n                this.virtualRowCount = lastRowIndexPlusOverflow;\n            }\n        }\n    };\n    RowNodeCache.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        this.virtualRowCount = rowCount;\n        // if undefined is passed, we do not set this value, if one of {true,false}\n        // is passed, we do set the value.\n        if (exists(maxRowFound)) {\n            this.maxRowFound = maxRowFound;\n        }\n        // if we are still searching, then the row count must not end at the end\n        // of a particular page, otherwise the searching will not pop into the\n        // next page\n        if (!this.maxRowFound) {\n            if (this.virtualRowCount % this.cacheParams.blockSize === 0) {\n                this.virtualRowCount++;\n            }\n        }\n        this.onCacheUpdated();\n    };\n    RowNodeCache.prototype.forEachNodeDeep = function (callback, sequence) {\n        var _this = this;\n        if (sequence === void 0) { sequence = new NumberSequence(); }\n        this.forEachBlockInOrder(function (block) {\n            block.forEachNodeDeep(callback, sequence, _this.virtualRowCount);\n        });\n    };\n    RowNodeCache.prototype.forEachBlockInOrder = function (callback) {\n        var ids = this.getBlockIdsSorted();\n        this.forEachBlockId(ids, callback);\n    };\n    RowNodeCache.prototype.forEachBlockInReverseOrder = function (callback) {\n        var ids = this.getBlockIdsSorted().reverse();\n        this.forEachBlockId(ids, callback);\n    };\n    RowNodeCache.prototype.forEachBlockId = function (ids, callback) {\n        var _this = this;\n        ids.forEach(function (id) {\n            var block = _this.blocks[id];\n            callback(block, id);\n        });\n    };\n    RowNodeCache.prototype.getBlockIdsSorted = function () {\n        // get all page id's as NUMBERS (not strings, as we need to sort as numbers) and in descending order\n        var numberComparator = function (a, b) { return a - b; }; // default comparator for array is string comparison\n        var blockIds = Object.keys(this.blocks).map(function (idStr) { return parseInt(idStr, 10); }).sort(numberComparator);\n        return blockIds;\n    };\n    RowNodeCache.prototype.getBlock = function (blockId) {\n        return this.blocks[blockId];\n    };\n    RowNodeCache.prototype.setBlock = function (id, block) {\n        this.blocks[id] = block;\n        this.blockCount++;\n        this.cacheParams.rowNodeBlockLoader.addBlock(block);\n    };\n    RowNodeCache.prototype.destroyBlock = function (block) {\n        delete this.blocks[block.getBlockNumber()];\n        this.destroyBean(block);\n        this.blockCount--;\n        this.cacheParams.rowNodeBlockLoader.removeBlock(block);\n    };\n    // gets called 1) row count changed 2) cache purged 3) items inserted\n    RowNodeCache.prototype.onCacheUpdated = function () {\n        if (this.isActive()) {\n            // if the virtualRowCount is shortened, then it's possible blocks exist that are no longer\n            // in the valid range. so we must remove these. this can happen if user explicitly sets\n            // the virtual row count, or the datasource returns a result and sets lastRow to something\n            // less than virtualRowCount (can happen if user scrolls down, server reduces dataset size).\n            this.destroyAllBlocksPastVirtualRowCount();\n            // this results in both row models (infinite and server side) firing ModelUpdated,\n            // however server side row model also updates the row indexes first\n            var event_1 = {\n                type: RowNodeCache.EVENT_CACHE_UPDATED\n            };\n            this.dispatchEvent(event_1);\n        }\n    };\n    RowNodeCache.prototype.destroyAllBlocksPastVirtualRowCount = function () {\n        var _this = this;\n        var blocksToDestroy = [];\n        this.forEachBlockInOrder(function (block, id) {\n            var startRow = id * _this.cacheParams.blockSize;\n            if (startRow >= _this.virtualRowCount) {\n                blocksToDestroy.push(block);\n            }\n        });\n        if (blocksToDestroy.length > 0) {\n            blocksToDestroy.forEach(function (block) { return _this.destroyBlock(block); });\n        }\n    };\n    RowNodeCache.prototype.purgeCache = function () {\n        var _this = this;\n        this.forEachBlockInOrder(function (block) { return _this.removeBlockFromCache(block); });\n        this.maxRowFound = false;\n        // if zero rows in the cache, we need to get the SSRM to start asking for rows again.\n        // otherwise if set to zero rows last time, and we don't update the row count, then after\n        // the purge there will still be zero rows, meaning the SRRM won't request any rows.\n        // to kick things off, at lest one row needs to be asked for.\n        if (this.virtualRowCount === 0) {\n            this.virtualRowCount = this.cacheParams.initialRowCount;\n        }\n        this.onCacheUpdated();\n    };\n    RowNodeCache.prototype.getRowNodesInRange = function (firstInRange, lastInRange) {\n        var _this = this;\n        var result = [];\n        var lastBlockId = -1;\n        var inActiveRange = false;\n        var numberSequence = new NumberSequence();\n        // if only one node passed, we start the selection at the top\n        if (missing(firstInRange)) {\n            inActiveRange = true;\n        }\n        var foundGapInSelection = false;\n        this.forEachBlockInOrder(function (block, id) {\n            if (foundGapInSelection) {\n                return;\n            }\n            if (inActiveRange && (lastBlockId + 1 !== id)) {\n                foundGapInSelection = true;\n                return;\n            }\n            lastBlockId = id;\n            block.forEachNodeShallow(function (rowNode) {\n                var hitFirstOrLast = rowNode === firstInRange || rowNode === lastInRange;\n                if (inActiveRange || hitFirstOrLast) {\n                    result.push(rowNode);\n                }\n                if (hitFirstOrLast) {\n                    inActiveRange = !inActiveRange;\n                }\n            }, numberSequence, _this.virtualRowCount);\n        });\n        // inActiveRange will be still true if we never hit the second rowNode\n        var invalidRange = foundGapInSelection || inActiveRange;\n        return invalidRange ? [] : result;\n    };\n    RowNodeCache.EVENT_CACHE_UPDATED = 'cacheUpdated';\n    // this property says how many empty blocks should be in a cache, eg if scrolls down fast and creates 10\n    // blocks all for loading, the grid will only load the last 2 - it will assume the blocks the user quickly\n    // scrolled over are not needed to be loaded.\n    RowNodeCache.MAX_EMPTY_BLOCKS_TO_KEEP = 2;\n    __decorate([\n        Autowired('rowRenderer')\n    ], RowNodeCache.prototype, \"rowRenderer\", void 0);\n    __decorate([\n        PreDestroy\n    ], RowNodeCache.prototype, \"destroyAllBlocks\", null);\n    __decorate([\n        PostConstruct\n    ], RowNodeCache.prototype, \"init\", null);\n    return RowNodeCache;\n}(BeanStub));\nexport { RowNodeCache };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../events\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { getValueUsingField } from \"../utils/object\";\nimport { missing, exists } from \"../utils/generic\";\nimport { doOnce } from \"../utils/function\";\nvar ValueService = /** @class */ (function (_super) {\n    __extends(ValueService, _super);\n    function ValueService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.initialised = false;\n        return _this;\n    }\n    ValueService.prototype.init = function () {\n        this.cellExpressions = this.gridOptionsWrapper.isEnableCellExpressions();\n        this.initialised = true;\n    };\n    ValueService.prototype.getValue = function (column, rowNode, forFilter, ignoreAggData) {\n        if (forFilter === void 0) { forFilter = false; }\n        if (ignoreAggData === void 0) { ignoreAggData = false; }\n        // hack - the grid is getting refreshed before this bean gets initialised, race condition.\n        // really should have a way so they get initialised in the right order???\n        if (!this.initialised) {\n            this.init();\n        }\n        if (!rowNode) {\n            return;\n        }\n        // pull these out to make code below easier to read\n        var colDef = column.getColDef();\n        var field = colDef.field;\n        var colId = column.getId();\n        var data = rowNode.data;\n        var result;\n        // if there is a value getter, this gets precedence over a field\n        var groupDataExists = rowNode.groupData && rowNode.groupData[colId] !== undefined;\n        var aggDataExists = !ignoreAggData && rowNode.aggData && rowNode.aggData[colId] !== undefined;\n        if (forFilter && colDef.filterValueGetter) {\n            result = this.executeFilterValueGetter(colDef.filterValueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && (field && data)) {\n            result = getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        else if (groupDataExists) {\n            result = rowNode.groupData[colId];\n        }\n        else if (aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (field && data) {\n            result = getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        // the result could be an expression itself, if we are allowing cell values to be expressions\n        if (this.cellExpressions && (typeof result === 'string') && result.indexOf('=') === 0) {\n            var cellValueGetter = result.substring(1);\n            result = this.executeValueGetter(cellValueGetter, data, column, rowNode);\n        }\n        return result;\n    };\n    ValueService.prototype.setValue = function (rowNode, colKey, newValue, eventSource) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        if (!rowNode || !column) {\n            return;\n        }\n        // this will only happen if user is trying to paste into a group row, which doesn't make sense\n        // the user should not be trying to paste into group rows\n        if (missing(rowNode.data)) {\n            rowNode.data = {};\n        }\n        // for backwards compatibility we are also retrieving the newValueHandler as well as the valueSetter\n        var _a = column.getColDef(), field = _a.field, newValueHandler = _a.newValueHandler, valueSetter = _a.valueSetter;\n        // need either a field or a newValueHandler for this to work\n        if (missing(field) && missing(newValueHandler) && missing(valueSetter)) {\n            // we don't tell user about newValueHandler, as that is deprecated\n            console.warn(\"ag-Grid: you need either field or valueSetter set on colDef for editing to work\");\n            return;\n        }\n        var params = {\n            node: rowNode,\n            data: rowNode.data,\n            oldValue: this.getValue(column, rowNode),\n            newValue: newValue,\n            colDef: column.getColDef(),\n            column: column,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext()\n        };\n        params.newValue = newValue;\n        var valueWasDifferent;\n        if (newValueHandler && exists(newValueHandler)) {\n            valueWasDifferent = newValueHandler(params);\n        }\n        else if (exists(valueSetter)) {\n            valueWasDifferent = this.expressionService.evaluate(valueSetter, params);\n        }\n        else {\n            valueWasDifferent = this.setValueUsingField(rowNode.data, field, newValue, column.isFieldContainsDots());\n        }\n        // in case user forgot to return something (possible if they are not using TypeScript\n        // and just forgot, or using an old newValueHandler we didn't always expect a return\n        // value here), we default the return value to true, so we always refresh.\n        if (valueWasDifferent === undefined) {\n            valueWasDifferent = true;\n        }\n        // if no change to the value, then no need to do the updating, or notifying via events.\n        // otherwise the user could be tabbing around the grid, and cellValueChange would get called\n        // all the time.\n        if (!valueWasDifferent) {\n            return;\n        }\n        // reset quick filter on this row\n        rowNode.resetQuickFilterAggregateText();\n        this.valueCache.onDataChanged();\n        params.newValue = this.getValue(column, rowNode);\n        var onCellValueChanged = column.getColDef().onCellValueChanged;\n        if (typeof onCellValueChanged === 'function') {\n            // to make callback async, do in a timeout\n            setTimeout(function () { return onCellValueChanged(params); }, 0);\n        }\n        var event = {\n            type: Events.EVENT_CELL_VALUE_CHANGED,\n            event: null,\n            rowIndex: rowNode.rowIndex,\n            rowPinned: rowNode.rowPinned,\n            column: params.column,\n            api: params.api,\n            colDef: params.colDef,\n            columnApi: params.columnApi,\n            context: params.context,\n            data: rowNode.data,\n            node: rowNode,\n            oldValue: params.oldValue,\n            newValue: params.newValue,\n            value: params.newValue,\n            source: eventSource\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ValueService.prototype.setValueUsingField = function (data, field, newValue, isFieldContainsDots) {\n        if (!field) {\n            return false;\n        }\n        // if no '.', then it's not a deep value\n        var valuesAreSame = false;\n        if (!isFieldContainsDots) {\n            data[field] = newValue;\n        }\n        else {\n            // otherwise it is a deep value, so need to dig for it\n            var fieldPieces = field.split('.');\n            var currentObject = data;\n            while (fieldPieces.length > 0 && currentObject) {\n                var fieldPiece = fieldPieces.shift();\n                if (fieldPieces.length === 0) {\n                    currentObject[fieldPiece] = newValue;\n                }\n                else {\n                    currentObject = currentObject[fieldPiece];\n                }\n            }\n        }\n        return !valuesAreSame;\n    };\n    ValueService.prototype.executeFilterValueGetter = function (valueGetter, data, column, rowNode) {\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        return this.expressionService.evaluate(valueGetter, params);\n    };\n    ValueService.prototype.executeValueGetter = function (valueGetter, data, column, rowNode) {\n        var colId = column.getId();\n        // if inside the same turn, just return back the value we got last time\n        var valueFromCache = this.valueCache.getValue(rowNode, colId);\n        if (valueFromCache !== undefined) {\n            return valueFromCache;\n        }\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        var result = this.expressionService.evaluate(valueGetter, params);\n        // if a turn is active, store the value in case the grid asks for it again\n        this.valueCache.setValue(rowNode, colId, result);\n        return result;\n    };\n    ValueService.prototype.getValueCallback = function (node, field) {\n        var otherColumn = this.columnController.getPrimaryColumn(field);\n        if (otherColumn) {\n            return this.getValue(otherColumn, node);\n        }\n        return null;\n    };\n    // used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\n    ValueService.prototype.getKeyForNode = function (col, rowNode) {\n        var value = this.getValue(col, rowNode);\n        var keyCreator = col.getColDef().keyCreator;\n        var result = keyCreator ? keyCreator({ value: value }) : value;\n        // if already a string, or missing, just return it\n        if (typeof result === 'string' || result == null) {\n            return result;\n        }\n        result = String(result);\n        if (result === '[object Object]') {\n            doOnce(function () {\n                console.warn('ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key');\n            }, 'getKeyForNode - warn about [object,object]');\n        }\n        return result;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], ValueService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], ValueService.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], ValueService.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('valueCache')\n    ], ValueService.prototype, \"valueCache\", void 0);\n    __decorate([\n        PostConstruct\n    ], ValueService.prototype, \"init\", null);\n    ValueService = __decorate([\n        Bean('valueService')\n    ], ValueService);\n    return ValueService;\n}(BeanStub));\nexport { ValueService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Autowired, PostConstruct } from \"../context/context\";\nvar HoverFeature = /** @class */ (function (_super) {\n    __extends(HoverFeature, _super);\n    function HoverFeature(columns, element) {\n        var _this = _super.call(this) || this;\n        _this.columns = columns;\n        _this.element = element;\n        return _this;\n    }\n    HoverFeature.prototype.postConstruct = function () {\n        this.addMouseHoverListeners();\n    };\n    HoverFeature.prototype.addMouseHoverListeners = function () {\n        this.addManagedListener(this.element, 'mouseout', this.onMouseOut.bind(this));\n        this.addManagedListener(this.element, 'mouseover', this.onMouseOver.bind(this));\n    };\n    HoverFeature.prototype.onMouseOut = function () {\n        this.columnHoverService.clearMouseOver();\n    };\n    HoverFeature.prototype.onMouseOver = function () {\n        this.columnHoverService.setMouseOver(this.columns);\n    };\n    __decorate([\n        Autowired('columnHoverService')\n    ], HoverFeature.prototype, \"columnHoverService\", void 0);\n    __decorate([\n        PostConstruct\n    ], HoverFeature.prototype, \"postConstruct\", null);\n    return HoverFeature;\n}(BeanStub));\nexport { HoverFeature };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgCheckbox } from './agCheckbox';\nimport { Events } from '../eventKeys';\nvar AgRadioButton = /** @class */ (function (_super) {\n    __extends(AgRadioButton, _super);\n    function AgRadioButton(config) {\n        return _super.call(this, config, 'ag-radio-button', 'radio') || this;\n    }\n    AgRadioButton.prototype.isSelected = function () {\n        return this.eInput.checked;\n    };\n    AgRadioButton.prototype.toggle = function () {\n        // do not allow an active radio button to be deselected\n        if (!this.isSelected()) {\n            this.setValue(true);\n        }\n    };\n    AgRadioButton.prototype.addInputListeners = function () {\n        _super.prototype.addInputListeners.call(this);\n        this.addManagedListener(this.eventService, Events.EVENT_CHECKBOX_CHANGED, this.onChange.bind(this));\n    };\n    /**\n     * This ensures that if another radio button in the same named group is selected, we deselect this radio button.\n     * By default the browser does this for you, but we are managing classes ourselves in order to ensure input\n     * elements are styled correctly in IE11, and the DOM 'changed' event is only fired when a button is selected,\n     * not deselected, so we need to use our own event.\n     */\n    AgRadioButton.prototype.onChange = function (event) {\n        if (event.selected &&\n            event.name &&\n            this.eInput.name &&\n            this.eInput.name === event.name &&\n            event.id &&\n            this.eInput.id !== event.id) {\n            this.setValue(false, true);\n        }\n    };\n    return AgRadioButton;\n}(AgCheckbox));\nexport { AgRadioButton };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, Optional } from \"../../context/context\";\nimport { RegisteredComponentSource } from \"./userComponentRegistry\";\nimport { Promise } from \"../../utils\";\nimport { CellEditorComponent, CellRendererComponent, DateComponent, FilterComponent, FloatingFilterComponent, HeaderComponent, HeaderGroupComponent, InnerRendererComponent, LoadingOverlayComponent, NoRowsOverlayComponent, PinnedRowCellRendererComponent, StatusPanelComponent, ToolPanelComponent, TooltipComponent } from \"./componentTypes\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { cloneObject, mergeDeep } from '../../utils/object';\nexport var ComponentSource;\n(function (ComponentSource) {\n    ComponentSource[ComponentSource[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    ComponentSource[ComponentSource[\"REGISTERED_BY_NAME\"] = 1] = \"REGISTERED_BY_NAME\";\n    ComponentSource[ComponentSource[\"HARDCODED\"] = 2] = \"HARDCODED\";\n})(ComponentSource || (ComponentSource = {}));\nvar UserComponentFactory = /** @class */ (function (_super) {\n    __extends(UserComponentFactory, _super);\n    function UserComponentFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UserComponentFactory.prototype.newDateComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, DateComponent, 'agDateInput');\n    };\n    UserComponentFactory.prototype.newHeaderComponent = function (params) {\n        return this.createAndInitUserComponent(params.column.getColDef(), params, HeaderComponent, 'agColumnHeader');\n    };\n    UserComponentFactory.prototype.newHeaderGroupComponent = function (params) {\n        return this.createAndInitUserComponent(params.columnGroup.getColGroupDef(), params, HeaderGroupComponent, 'agColumnGroupHeader');\n    };\n    UserComponentFactory.prototype.newFullWidthGroupRowInnerCellRenderer = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams, params, InnerRendererComponent, null, true);\n    };\n    // this one is unusual, as it can be LoadingCellRenderer, DetailCellRenderer, FullWidthCellRenderer or GroupRowRenderer.\n    // so we have to pass the type in.\n    UserComponentFactory.prototype.newFullWidthCellRenderer = function (params, cellRendererType, cellRendererName) {\n        return this.createAndInitUserComponent(null, params, { propertyName: cellRendererType, isCellRenderer: function () { return true; } }, cellRendererName);\n    };\n    UserComponentFactory.prototype.newCellRenderer = function (target, params, isPinned) {\n        if (isPinned === void 0) { isPinned = false; }\n        return this.createAndInitUserComponent(target, params, isPinned ? PinnedRowCellRendererComponent : CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.newCellEditor = function (colDef, params) {\n        return this.createAndInitUserComponent(colDef, params, CellEditorComponent, 'agCellEditor');\n    };\n    UserComponentFactory.prototype.newInnerCellRenderer = function (target, params) {\n        return this.createAndInitUserComponent(target, params, InnerRendererComponent, null);\n    };\n    UserComponentFactory.prototype.newLoadingOverlayComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, LoadingOverlayComponent, 'agLoadingOverlay');\n    };\n    UserComponentFactory.prototype.newNoRowsOverlayComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, NoRowsOverlayComponent, 'agNoRowsOverlay');\n    };\n    UserComponentFactory.prototype.newTooltipComponent = function (params) {\n        return this.createAndInitUserComponent(params.colDef, params, TooltipComponent, 'agTooltipComponent');\n    };\n    UserComponentFactory.prototype.newFilterComponent = function (def, params, defaultFilter) {\n        return this.createAndInitUserComponent(def, params, FilterComponent, defaultFilter, false);\n    };\n    UserComponentFactory.prototype.newSetFilterCellRenderer = function (target, params) {\n        return this.createAndInitUserComponent(target, params, CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.newFloatingFilterComponent = function (def, params, defaultFloatingFilter) {\n        return this.createAndInitUserComponent(def, params, FloatingFilterComponent, defaultFloatingFilter, true);\n    };\n    UserComponentFactory.prototype.newToolPanelComponent = function (toolPanelDef, params) {\n        return this.createAndInitUserComponent(toolPanelDef, params, ToolPanelComponent);\n    };\n    UserComponentFactory.prototype.newStatusPanelComponent = function (def, params) {\n        return this.createAndInitUserComponent(def, params, StatusPanelComponent);\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param paramsFromGrid: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param defaultComponentName: The actual name of the component to instantiate, this is usually the same as propertyName, but in\n     *      some cases is not, like floatingFilter, if it is the same is not necessary to specify\n     *  @param optional: Handy method to tell if this should return a component ALWAYS. if that is the case, but there is no\n     *      component found, it throws an error, by default all components are MANDATORY\n     */\n    UserComponentFactory.prototype.createAndInitUserComponent = function (definitionObject, paramsFromGrid, componentType, defaultComponentName, \n    // optional items are: FloatingFilter, CellComp (for cellRenderer)\n    optional) {\n        if (optional === void 0) { optional = false; }\n        if (!definitionObject) {\n            definitionObject = this.gridOptions;\n        }\n        // Create the component instance\n        var componentAndParams = this.createComponentInstance(definitionObject, componentType, paramsFromGrid, defaultComponentName, optional);\n        if (!componentAndParams) {\n            return null;\n        }\n        var componentInstance = componentAndParams.componentInstance;\n        // Wire the component and call the init method with the correct params\n        var params = this.createFinalParams(definitionObject, componentType.propertyName, paramsFromGrid, componentAndParams.paramsFromSelector);\n        this.addReactHacks(params);\n        var deferredInit = this.initComponent(componentInstance, params);\n        if (deferredInit == null) {\n            return Promise.resolve(componentInstance);\n        }\n        else {\n            return deferredInit.then(function () { return componentInstance; });\n        }\n    };\n    UserComponentFactory.prototype.addReactHacks = function (params) {\n        // a temporary fix for AG-1574\n        // AG-1715 raised to do a wider ranging refactor to improve this\n        var agGridReact = this.context.getBean('agGridReact');\n        if (agGridReact) {\n            params.agGridReact = cloneObject(agGridReact);\n        }\n        // AG-1716 - directly related to AG-1574 and AG-1715\n        var frameworkComponentWrapper = this.context.getBean('frameworkComponentWrapper');\n        if (frameworkComponentWrapper) {\n            params.frameworkComponentWrapper = frameworkComponentWrapper;\n        }\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param clazz: The class to instantiate,\n     *  @param agGridParams: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param modifyParamsCallback: A chance to customise the params passed to the init method. It receives what the current\n     *  params are and the component that init is about to get called for\n     */\n    UserComponentFactory.prototype.createUserComponentFromConcreteClass = function (clazz, agGridParams) {\n        var internalComponent = new clazz();\n        this.initComponent(internalComponent, agGridParams);\n        return internalComponent;\n    };\n    /**\n     * This method returns the underlying representation of the component to be created. ie for Javascript the\n     * underlying function where we should be calling new into. In case of the frameworks, the framework class\n     * object that represents the component to be created.\n     *\n     * This method is handy for different reasons, for example if you want to check if a component has a particular\n     * method implemented without having to create the component, just by inspecting the source component\n     *\n     * It takes\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param params: Params to be passed to the dynamic component function in case it needs to be\n     *      invoked\n     *  @param defaultComponentName: The name of the component to load if there is no component specified\n     */\n    UserComponentFactory.prototype.lookupComponentClassDef = function (definitionObject, propertyName, params, defaultComponentName) {\n        if (params === void 0) { params = null; }\n        /**\n         * There are five things that can happen when resolving a component.\n         *  a) HardcodedFwComponent: That holder[propertyName]Framework has associated a Framework native component\n         *  b) HardcodedJsComponent: That holder[propertyName] has associate a JS component\n         *  c) hardcodedJsFunction: That holder[propertyName] has associate a JS function\n         *  d) hardcodedNameComponent: That holder[propertyName] has associate a string that represents a component to load\n         *  e) That none of the three previous are specified, then we need to use the DefaultRegisteredComponent\n         */\n        var hardcodedNameComponent = null;\n        var HardcodedJsComponent = null;\n        var hardcodedJsFunction = null;\n        var HardcodedFwComponent = null;\n        var componentSelectorFunc;\n        if (definitionObject != null) {\n            var componentPropertyValue = definitionObject[propertyName];\n            // for filters only, we allow 'true' for the component, which means default filter to be used\n            var usingDefaultComponent = componentPropertyValue === true;\n            if (componentPropertyValue != null && !usingDefaultComponent) {\n                if (typeof componentPropertyValue === 'string') {\n                    hardcodedNameComponent = componentPropertyValue;\n                }\n                else if (typeof componentPropertyValue === 'boolean') {\n                    // never happens, as we test for usingDefaultComponent above,\n                    // however it's needed for the next block to compile\n                }\n                else if (this.agComponentUtils.doesImplementIComponent(componentPropertyValue)) {\n                    HardcodedJsComponent = componentPropertyValue;\n                }\n                else {\n                    hardcodedJsFunction = componentPropertyValue;\n                }\n            }\n            HardcodedFwComponent = definitionObject[propertyName + \"Framework\"];\n            componentSelectorFunc = definitionObject[propertyName + \"Selector\"];\n        }\n        /**\n         * Since we allow many types of flavors for specifying the components, let's make sure this is not an illegal\n         * combination\n         */\n        if ((HardcodedJsComponent && HardcodedFwComponent) ||\n            (hardcodedNameComponent && HardcodedFwComponent) ||\n            (hardcodedJsFunction && HardcodedFwComponent)) {\n            throw Error(\"ag-grid: you are trying to specify: \" + propertyName + \" twice as a component.\");\n        }\n        if (HardcodedFwComponent && !this.frameworkComponentWrapper) {\n            throw Error(\"ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : \" + propertyName);\n        }\n        if (componentSelectorFunc && (hardcodedNameComponent || HardcodedJsComponent || hardcodedJsFunction || HardcodedFwComponent)) {\n            throw Error(\"ag-grid: you can't specify both, the selector and the component of ag-grid for : \" + propertyName);\n        }\n        /**\n         * At this stage we are guaranteed to either have,\n         * DEPRECATED\n         * - A unique HardcodedFwComponent\n         * - A unique HardcodedJsComponent\n         * - A unique hardcodedJsFunction\n         * BY NAME- FAVOURED APPROACH\n         * - A unique hardcodedNameComponent\n         * - None of the previous, hence we revert to: RegisteredComponent\n         */\n        if (HardcodedFwComponent) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a component directly is deprecated, you should register the component by name`);\n            // console.warn(`${HardcodedFwComponent}`);\n            return {\n                componentFromFramework: true,\n                component: HardcodedFwComponent,\n                source: ComponentSource.HARDCODED,\n                paramsFromSelector: null\n            };\n        }\n        if (HardcodedJsComponent) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a component directly is deprecated, you should register the component by name`);\n            // console.warn(`${HardcodedJsComponent}`);\n            return {\n                componentFromFramework: false,\n                component: HardcodedJsComponent,\n                source: ComponentSource.HARDCODED,\n                paramsFromSelector: null\n            };\n        }\n        if (hardcodedJsFunction) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a function directly is deprecated, you should register the component by name`);\n            // console.warn(`${hardcodedJsFunction}`);\n            return this.agComponentUtils.adaptFunction(propertyName, hardcodedJsFunction, false, ComponentSource.HARDCODED);\n        }\n        var selectorResult = componentSelectorFunc ? componentSelectorFunc(params) : null;\n        var componentNameToUse;\n        if (selectorResult && selectorResult.component) {\n            componentNameToUse = selectorResult.component;\n        }\n        else if (hardcodedNameComponent) {\n            componentNameToUse = hardcodedNameComponent;\n        }\n        else {\n            componentNameToUse = defaultComponentName;\n        }\n        if (!componentNameToUse) {\n            return null;\n        }\n        var registeredCompClassDef = this.lookupFromRegisteredComponents(propertyName, componentNameToUse);\n        if (!registeredCompClassDef) {\n            return null;\n        }\n        return {\n            componentFromFramework: registeredCompClassDef.componentFromFramework,\n            component: registeredCompClassDef.component,\n            source: registeredCompClassDef.source,\n            paramsFromSelector: selectorResult ? selectorResult.params : null\n        };\n    };\n    UserComponentFactory.prototype.lookupFromRegisteredComponents = function (propertyName, componentNameOpt) {\n        var componentName = componentNameOpt != null ? componentNameOpt : propertyName;\n        var registeredComponent = this.userComponentRegistry.retrieve(componentName);\n        if (registeredComponent == null) {\n            return null;\n        }\n        //If it is a FW it has to be registered as a component\n        if (registeredComponent.componentFromFramework) {\n            return {\n                component: registeredComponent.component,\n                componentFromFramework: true,\n                source: ComponentSource.REGISTERED_BY_NAME,\n                paramsFromSelector: null\n            };\n        }\n        //If it is JS it may be a function or a component\n        if (this.agComponentUtils.doesImplementIComponent(registeredComponent.component)) {\n            return {\n                component: registeredComponent.component,\n                componentFromFramework: false,\n                source: (registeredComponent.source == RegisteredComponentSource.REGISTERED) ? ComponentSource.REGISTERED_BY_NAME : ComponentSource.DEFAULT,\n                paramsFromSelector: null\n            };\n        }\n        // This is a function\n        return this.agComponentUtils.adaptFunction(propertyName, registeredComponent.component, registeredComponent.componentFromFramework, (registeredComponent.source == RegisteredComponentSource.REGISTERED) ? ComponentSource.REGISTERED_BY_NAME : ComponentSource.DEFAULT);\n    };\n    /**\n     * Useful to check what would be the resultant params for a given object\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param paramsFromGrid: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     * @returns {TParams} It merges the user agGridParams with the actual params specified by the user.\n     */\n    UserComponentFactory.prototype.createFinalParams = function (definitionObject, propertyName, paramsFromGrid, paramsFromSelector) {\n        if (paramsFromSelector === void 0) { paramsFromSelector = null; }\n        var params = {};\n        mergeDeep(params, paramsFromGrid);\n        var userParams = definitionObject ? definitionObject[propertyName + \"Params\"] : null;\n        if (userParams != null) {\n            if (typeof userParams === 'function') {\n                mergeDeep(params, userParams(paramsFromGrid));\n            }\n            else if (typeof userParams === 'object') {\n                mergeDeep(params, userParams);\n            }\n        }\n        mergeDeep(params, paramsFromSelector);\n        return params;\n    };\n    UserComponentFactory.prototype.createComponentInstance = function (holder, componentType, paramsForSelector, defaultComponentName, optional) {\n        var propertyName = componentType.propertyName;\n        var componentToUse = this.lookupComponentClassDef(holder, propertyName, paramsForSelector, defaultComponentName);\n        var missing = !componentToUse || !componentToUse.component;\n        if (missing) {\n            // to help the user, we print out the name they are looking for, rather than the default name.\n            // i don't know why the default name was originally printed out (that doesn't help the user)\n            var overrideName = holder ? holder[propertyName] : defaultComponentName;\n            var nameToReport = overrideName ? overrideName : defaultComponentName;\n            if (!optional) {\n                console.error(\"Could not find component \" + nameToReport + \", did you forget to configure this component?\");\n            }\n            return null;\n        }\n        var componentInstance;\n        if (componentToUse.componentFromFramework) {\n            // Using framework component\n            var FrameworkComponentRaw = componentToUse.component;\n            var thisComponentConfig = this.componentMetadataProvider.retrieve(propertyName);\n            componentInstance = this.frameworkComponentWrapper.wrap(FrameworkComponentRaw, thisComponentConfig.mandatoryMethodList, thisComponentConfig.optionalMethodList, componentType, defaultComponentName);\n        }\n        else {\n            // Using plain JavaScript component\n            componentInstance = new componentToUse.component();\n        }\n        return { componentInstance: componentInstance, paramsFromSelector: componentToUse.paramsFromSelector };\n    };\n    UserComponentFactory.prototype.initComponent = function (component, params) {\n        this.context.createBean(component);\n        if (component.init == null) {\n            return;\n        }\n        return component.init(params);\n    };\n    __decorate([\n        Autowired('gridOptions')\n    ], UserComponentFactory.prototype, \"gridOptions\", void 0);\n    __decorate([\n        Autowired('agComponentUtils')\n    ], UserComponentFactory.prototype, \"agComponentUtils\", void 0);\n    __decorate([\n        Autowired('componentMetadataProvider')\n    ], UserComponentFactory.prototype, \"componentMetadataProvider\", void 0);\n    __decorate([\n        Autowired('userComponentRegistry')\n    ], UserComponentFactory.prototype, \"userComponentRegistry\", void 0);\n    __decorate([\n        Optional('frameworkComponentWrapper')\n    ], UserComponentFactory.prototype, \"frameworkComponentWrapper\", void 0);\n    UserComponentFactory = __decorate([\n        Bean('userComponentFactory')\n    ], UserComponentFactory);\n    return UserComponentFactory;\n}(BeanStub));\nexport { UserComponentFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar BaseComponentWrapper = /** @class */ (function () {\n    function BaseComponentWrapper() {\n    }\n    BaseComponentWrapper.prototype.wrap = function (OriginalConstructor, mandatoryMethodList, optionalMethodList, componentType, componentName) {\n        var _this = this;\n        if (optionalMethodList === void 0) { optionalMethodList = []; }\n        var wrapper = this.createWrapper(OriginalConstructor, componentType, componentName);\n        mandatoryMethodList.forEach((function (methodName) {\n            _this.createMethod(wrapper, methodName, true);\n        }));\n        optionalMethodList.forEach((function (methodName) {\n            _this.createMethod(wrapper, methodName, false);\n        }));\n        return wrapper;\n    };\n    BaseComponentWrapper.prototype.createMethod = function (wrapper, methodName, mandatory) {\n        wrapper.addMethod(methodName, this.createMethodProxy(wrapper, methodName, mandatory));\n    };\n    BaseComponentWrapper.prototype.createMethodProxy = function (wrapper, methodName, mandatory) {\n        return function () {\n            if (wrapper.hasMethod(methodName)) {\n                return wrapper.callMethod(methodName, arguments);\n            }\n            if (mandatory) {\n                console.warn('ag-Grid: Framework component is missing the method ' + methodName + '()');\n            }\n            return null;\n        };\n    };\n    return BaseComponentWrapper;\n}());\nexport { BaseComponentWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean } from \"../context/context\";\nimport { deepCloneDefinition } from \"../utils/object\";\nvar ColumnDefFactory = /** @class */ (function () {\n    function ColumnDefFactory() {\n    }\n    ColumnDefFactory.prototype.buildColumnDefs = function (cols, rowGroupColumns, pivotColumns) {\n        var _this = this;\n        var res = [];\n        var colGroupDefs = {};\n        cols.forEach(function (col) {\n            var colDef = _this.createDefFromColumn(col, rowGroupColumns, pivotColumns);\n            var addToResult = true;\n            var childDef = colDef;\n            var child = col;\n            while (child.getParent()) {\n                var parent_1 = child.getParent();\n                var parentDef = void 0;\n                // we don't include padding groups, as the column groups provided\n                // by application didn't have these. the whole point of padding groups\n                // is to balance the column tree that the user provided.\n                if (parent_1.isPadding()) {\n                    child = parent_1;\n                    continue;\n                }\n                // if colDef for this group already exists, use it\n                var existingParentDef = colGroupDefs[parent_1.getGroupId()];\n                if (existingParentDef) {\n                    existingParentDef.children.push(childDef);\n                    // if we added to result, it would be the second time we did it\n                    addToResult = false;\n                    // we don't want to continue up the tree, as it has already been\n                    // done for this group\n                    break;\n                }\n                parentDef = _this.createDefFromGroup(parent_1);\n                parentDef.children = [childDef];\n                colGroupDefs[parentDef.groupId] = parentDef;\n                childDef = parentDef;\n                child = parent_1;\n            }\n            if (addToResult) {\n                res.push(childDef);\n            }\n        });\n        return res;\n    };\n    ColumnDefFactory.prototype.createDefFromGroup = function (group) {\n        var defCloned = deepCloneDefinition(group.getColGroupDef(), ['children']);\n        defCloned.groupId = group.getGroupId();\n        return defCloned;\n    };\n    ColumnDefFactory.prototype.createDefFromColumn = function (col, rowGroupColumns, pivotColumns) {\n        var colDefCloned = deepCloneDefinition(col.getColDef());\n        colDefCloned.colId = col.getColId();\n        colDefCloned.width = col.getActualWidth();\n        colDefCloned.rowGroup = col.isRowGroupActive();\n        colDefCloned.rowGroupIndex = col.isRowGroupActive() ? rowGroupColumns.indexOf(col) : null;\n        colDefCloned.pivot = col.isPivotActive();\n        colDefCloned.pivotIndex = col.isPivotActive() ? pivotColumns.indexOf(col) : null;\n        colDefCloned.aggFunc = col.isValueActive() ? col.getAggFunc() : null;\n        colDefCloned.hide = col.isVisible() ? undefined : true;\n        colDefCloned.pinned = col.isPinned() ? col.getPinned() : null;\n        colDefCloned.sort = col.getSort() ? col.getSort() : null;\n        colDefCloned.sortIndex = col.getSortIndex() != null ? col.getSortIndex() : null;\n        return colDefCloned;\n    };\n    ColumnDefFactory = __decorate([\n        Bean('columnDefFactory')\n    ], ColumnDefFactory);\n    return ColumnDefFactory;\n}());\nexport { ColumnDefFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, Autowired } from \"../../context/context\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { ColumnGroup } from \"../../entities/columnGroup\";\nimport { HeaderRowType } from \"../headerRowComp\";\nimport { last } from \"../../utils/array\";\nexport var HeaderNavigationDirection;\n(function (HeaderNavigationDirection) {\n    HeaderNavigationDirection[HeaderNavigationDirection[\"UP\"] = 0] = \"UP\";\n    HeaderNavigationDirection[HeaderNavigationDirection[\"DOWN\"] = 1] = \"DOWN\";\n    HeaderNavigationDirection[HeaderNavigationDirection[\"LEFT\"] = 2] = \"LEFT\";\n    HeaderNavigationDirection[HeaderNavigationDirection[\"RIGHT\"] = 3] = \"RIGHT\";\n})(HeaderNavigationDirection || (HeaderNavigationDirection = {}));\nvar HeaderNavigationService = /** @class */ (function (_super) {\n    __extends(HeaderNavigationService, _super);\n    function HeaderNavigationService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HeaderNavigationService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    HeaderNavigationService.prototype.registerHeaderRoot = function (headerRoot) {\n        this.headerRoot = headerRoot;\n    };\n    HeaderNavigationService.prototype.getHeaderRowCount = function () {\n        var headerContainers = this.headerRoot.getHeaderContainers();\n        return headerContainers.size === 0 ? 0 : this.getHeaderContainer().getRowComps().length;\n    };\n    HeaderNavigationService.prototype.getHeaderRowType = function (idx) {\n        if (this.getHeaderRowCount()) {\n            return this.getHeaderContainer().getRowComps()[idx].getType();\n        }\n    };\n    HeaderNavigationService.prototype.getHeaderContainer = function (position) {\n        if (position === void 0) { position = 'center'; }\n        if (position === null) {\n            position = 'center';\n        }\n        return this.headerRoot.getHeaderContainers().get(position);\n    };\n    /*\n     * This method navigates grid header vertically\n     * @return {boolean} true to preventDefault on the event that caused this navigation.\n     */\n    HeaderNavigationService.prototype.navigateVertically = function (direction, fromHeader) {\n        if (!fromHeader) {\n            fromHeader = this.focusController.getFocusedHeader();\n        }\n        if (!fromHeader) {\n            return false;\n        }\n        var headerRowIndex = fromHeader.headerRowIndex, column = fromHeader.column;\n        var rowLen = this.getHeaderRowCount();\n        var isUp = direction === HeaderNavigationDirection.UP;\n        var nextRow = isUp ? headerRowIndex - 1 : headerRowIndex + 1;\n        if (nextRow < 0) {\n            return false;\n        }\n        if (nextRow >= rowLen) {\n            // focusGridView returns false when the grid has no cells rendered.\n            return this.focusController.focusGridView();\n        }\n        var currentRowType = this.getHeaderRowType(headerRowIndex);\n        var nextFocusColumn;\n        if (currentRowType === HeaderRowType.COLUMN_GROUP) {\n            var currentColumn = column;\n            nextFocusColumn = isUp ? column.getParent() : currentColumn.getDisplayedChildren()[0];\n        }\n        else if (currentRowType === HeaderRowType.FLOATING_FILTER) {\n            nextFocusColumn = column;\n        }\n        else {\n            var currentColumn = column;\n            nextFocusColumn = isUp ? currentColumn.getParent() : currentColumn;\n        }\n        if (!nextFocusColumn) {\n            return false;\n        }\n        this.focusController.focusHeaderPosition({\n            headerRowIndex: nextRow,\n            column: nextFocusColumn\n        });\n        return true;\n    };\n    /*\n     * This method navigates grid header horizontally\n     * @return {boolean} true to preventDefault on the event that caused this navigation.\n     */\n    HeaderNavigationService.prototype.navigateHorizontally = function (direction, fromTab) {\n        var focusedHeader = this.focusController.getFocusedHeader();\n        var isLeft = direction === HeaderNavigationDirection.LEFT;\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        var nextHeader;\n        var normalisedDirection;\n        // either navigating to the left or isRtl (cannot be both)\n        if (isLeft !== isRtl) {\n            normalisedDirection = 'Before';\n            nextHeader = this.headerPositionUtils.findHeader(focusedHeader, normalisedDirection);\n        }\n        else {\n            normalisedDirection = 'After';\n            nextHeader = this.headerPositionUtils.findHeader(focusedHeader, normalisedDirection);\n        }\n        if (nextHeader) {\n            this.focusController.focusHeaderPosition(nextHeader, normalisedDirection);\n            return true;\n        }\n        if (!fromTab) {\n            return true;\n        }\n        return this.focusNextHeaderRow(focusedHeader, normalisedDirection);\n    };\n    HeaderNavigationService.prototype.focusNextHeaderRow = function (focusedHeader, direction) {\n        var currentIndex = focusedHeader.headerRowIndex;\n        var nextPosition;\n        var nextRowIndex;\n        if (direction === 'Before') {\n            if (currentIndex === 0) {\n                return false;\n            }\n            nextRowIndex = currentIndex - 1;\n            nextPosition = this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex, 'end');\n        }\n        else {\n            nextRowIndex = currentIndex + 1;\n            nextPosition = this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex, 'start');\n        }\n        if (nextPosition) {\n            if (nextPosition.headerRowIndex === -1) {\n                return this.focusController.focusGridView(nextPosition.column);\n            }\n            return this.focusController.focusHeaderPosition(nextPosition, direction);\n        }\n        return false;\n    };\n    HeaderNavigationService.prototype.scrollToColumn = function (column, direction) {\n        if (direction === void 0) { direction = 'After'; }\n        if (column.getPinned()) {\n            return;\n        }\n        var columnToScrollTo;\n        if (column instanceof ColumnGroup) {\n            var columns = column.getDisplayedLeafColumns();\n            columnToScrollTo = direction === 'Before' ? last(columns) : columns[0];\n        }\n        else {\n            columnToScrollTo = column;\n        }\n        this.gridPanel.ensureColumnVisible(columnToScrollTo);\n        // need to nudge the scrolls for the floating items. otherwise when we set focus on a non-visible\n        // floating cell, the scrolls get out of sync\n        this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();\n        // need to flush frames, to make sure the correct cells are rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], HeaderNavigationService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('focusController')\n    ], HeaderNavigationService.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired('headerPositionUtils')\n    ], HeaderNavigationService.prototype, \"headerPositionUtils\", void 0);\n    __decorate([\n        Autowired('animationFrameService')\n    ], HeaderNavigationService.prototype, \"animationFrameService\", void 0);\n    HeaderNavigationService = __decorate([\n        Bean('headerNavigationService')\n    ], HeaderNavigationService);\n    return HeaderNavigationService;\n}(BeanStub));\nexport { HeaderNavigationService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nexport function fuzzyCheckStrings(inputValues, validValues, allSuggestions) {\n    var fuzzyMatches = {};\n    var invalidInputs = inputValues.filter(function (inputValue) {\n        return !validValues.some(function (validValue) { return validValue === inputValue; });\n    });\n    if (invalidInputs.length > 0) {\n        invalidInputs.forEach(function (invalidInput) {\n            return fuzzyMatches[invalidInput] = fuzzySuggestions(invalidInput, allSuggestions);\n        });\n    }\n    return fuzzyMatches;\n}\n/**\n *\n * @param {String} inputValue The value to be compared against a list of strings\n * @param allSuggestions The list of strings to be compared against\n * @param hideIrrelevant By default, fuzzy suggestions will just sort the allSuggestions list, set this to true\n *        to filter out the irrelevant values\n * @param weighted Set this to true, to make letters matched in the order they were typed have priority in the results.\n */\nexport function fuzzySuggestions(inputValue, allSuggestions, hideIrrelevant, weighted) {\n    var search = weighted ? string_weighted_distances : string_distances;\n    var thisSuggestions = allSuggestions.map(function (text) { return ({\n        value: text,\n        relevance: search(inputValue.toLowerCase(), text.toLocaleLowerCase())\n    }); });\n    thisSuggestions.sort(function (a, b) { return b.relevance - a.relevance; });\n    if (hideIrrelevant) {\n        thisSuggestions = thisSuggestions.filter(function (suggestion) { return suggestion.relevance !== 0; });\n    }\n    return thisSuggestions.map(function (suggestion) { return suggestion.value; });\n}\n/**\n * Algorithm to do fuzzy search\n * from https://stackoverflow.com/questions/23305000/javascript-fuzzy-search-that-makes-sense\n * @param {string} from\n * @return {[]}\n */\nexport function get_bigrams(from) {\n    var s = from.toLowerCase();\n    var v = new Array(s.length - 1);\n    var i;\n    var j;\n    var ref;\n    for (i = j = 0, ref = v.length; j <= ref; i = j += 1) {\n        v[i] = s.slice(i, i + 2);\n    }\n    return v;\n}\nexport function string_distances(str1, str2) {\n    if (str1.length === 0 && str2.length === 0) {\n        return 0;\n    }\n    var pairs1 = get_bigrams(str1);\n    var pairs2 = get_bigrams(str2);\n    var union = pairs1.length + pairs2.length;\n    var hit_count = 0;\n    var j;\n    var len;\n    for (j = 0, len = pairs1.length; j < len; j++) {\n        var x = pairs1[j];\n        var k = void 0;\n        var len1 = void 0;\n        for (k = 0, len1 = pairs2.length; k < len1; k++) {\n            var y = pairs2[k];\n            if (x === y) {\n                hit_count++;\n            }\n        }\n    }\n    return hit_count > 0 ? (2 * hit_count) / union : 0;\n}\nexport function string_weighted_distances(str1, str2) {\n    var a = str1.replace(/\\s/g, '');\n    var b = str2.replace(/\\s/g, '');\n    var weight = 0;\n    var lastIndex = 0;\n    for (var i = 0; i < a.length; i++) {\n        var idx = b.indexOf(a[i]);\n        if (idx === -1) {\n            continue;\n        }\n        lastIndex = idx;\n        weight += ((b.length - lastIndex) * 100) / b.length;\n        weight *= weight;\n    }\n    return weight;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) { // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    // Using separate RegExp for the short hex notation because strings like `#abcd`\n    // are matched as ['#abcd', 'ab', 'c', 'd', undefined] when the `{1,2}` quantifier is used.\n    Color.fromHexString = function (str) {\n        var values = str.match(Color.hexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 255;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        values = str.match(Color.shortHexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 15;\n            r += r * 16;\n            g += g * 16;\n            b += b * 16;\n            a += a * 16;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.fromRgbaString = function (str) {\n        var values = str.match(Color.rgbRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255);\n        }\n        values = str.match(Color.rgbaRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255, +values[4]);\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    /**\n     * Creates an instance of the Color class from the given HSB(A) components.\n     * @param h Hue in the [0, 360) range.\n     * @param s Saturation in the [0, 1] range.\n     * @param b Brightness in the [0, 1] range.\n     * @param alpha Opacity in the [0, 1] range. Defaults to 1 (completely opaque).\n     */\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#'\n            + Color.padHex(Math.round(this.r * 255).toString(16))\n            + Color.padHex(Math.round(this.g * 255).toString(16))\n            + Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [\n            Math.round(this.r * 255),\n            Math.round(this.g * 255),\n            Math.round(this.b * 255)\n        ];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - (S * (1 - f)));\n            switch (h >> 0) { // discard the floating point part of the number\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.hexRe = /\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/;\n    Color.shortHexRe = /\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/;\n    Color.rgbRe = /\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/;\n    Color.rgbaRe = /\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/;\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32'\n    });\n    return Color;\n}());\nexport { Color };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from \"./componentAnnotations\";\nimport { AgAbstractLabel } from \"./agAbstractLabel\";\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { PostConstruct } from \"../context/context\";\nimport { addCssClass } from \"../utils/dom\";\nvar AgSlider = /** @class */ (function (_super) {\n    __extends(AgSlider, _super);\n    function AgSlider(config) {\n        var _this = _super.call(this, config, AgSlider.TEMPLATE) || this;\n        _this.labelAlignment = 'top';\n        return _this;\n    }\n    AgSlider.prototype.init = function () {\n        addCssClass(this.eSlider.getGui(), 'ag-slider-field');\n    };\n    AgSlider.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        var eventChanged = AgAbstractField.EVENT_CHANGED;\n        this.addManagedListener(this.eText, eventChanged, function () {\n            var textValue = parseFloat(_this.eText.getValue());\n            _this.eSlider.setValue(textValue.toString(), true);\n            callbackFn(textValue || 0);\n        });\n        this.addManagedListener(this.eSlider, eventChanged, function () {\n            var sliderValue = _this.eSlider.getValue();\n            _this.eText.setValue(sliderValue, true);\n            callbackFn(parseFloat(sliderValue));\n        });\n        return this;\n    };\n    AgSlider.prototype.setSliderWidth = function (width) {\n        this.eSlider.setWidth(width);\n        return this;\n    };\n    AgSlider.prototype.setTextFieldWidth = function (width) {\n        this.eText.setWidth(width);\n        return this;\n    };\n    AgSlider.prototype.setMinValue = function (minValue) {\n        this.eSlider.setMinValue(minValue);\n        this.eText.setMin(minValue);\n        return this;\n    };\n    AgSlider.prototype.setMaxValue = function (maxValue) {\n        this.eSlider.setMaxValue(maxValue);\n        this.eText.setMax(maxValue);\n        return this;\n    };\n    AgSlider.prototype.getValue = function () {\n        return this.eText.getValue();\n    };\n    AgSlider.prototype.setValue = function (value) {\n        if (this.getValue() === value) {\n            return this;\n        }\n        this.eText.setValue(value, true);\n        this.eSlider.setValue(value, true);\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        return this;\n    };\n    AgSlider.prototype.setStep = function (step) {\n        this.eSlider.setStep(step);\n        this.eText.setStep(step);\n        return this;\n    };\n    AgSlider.TEMPLATE = \"<div class=\\\"ag-slider\\\">\\n            <label ref=\\\"eLabel\\\"></label>\\n            <div class=\\\"ag-wrapper ag-slider-wrapper\\\">\\n                <ag-input-range ref=\\\"eSlider\\\"></ag-input-range>\\n                <ag-input-number-field ref=\\\"eText\\\"></ag-input-number-field>\\n            </div>\\n        </div>\";\n    __decorate([\n        RefSelector('eLabel')\n    ], AgSlider.prototype, \"eLabel\", void 0);\n    __decorate([\n        RefSelector('eSlider')\n    ], AgSlider.prototype, \"eSlider\", void 0);\n    __decorate([\n        RefSelector('eText')\n    ], AgSlider.prototype, \"eText\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgSlider.prototype, \"init\", null);\n    return AgSlider;\n}(AgAbstractLabel));\nexport { AgSlider };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { Grid } from \"../grid\";\nexport function initialiseAgGridWithAngular1(angular) {\n    var angularModule = angular.module(\"agGrid\", []);\n    angularModule.directive(\"agGrid\", function () {\n        return {\n            restrict: \"A\",\n            controller: ['$element', '$scope', '$compile', '$attrs', AngularDirectiveController],\n            scope: true\n        };\n    });\n}\nfunction AngularDirectiveController($element, $scope, $compile, $attrs) {\n    var gridOptions;\n    var quickFilterOnScope;\n    var keyOfGridInScope = $attrs.agGrid;\n    quickFilterOnScope = keyOfGridInScope + '.quickFilterText';\n    gridOptions = $scope.$eval(keyOfGridInScope);\n    if (!gridOptions) {\n        console.warn(\"WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope\");\n        return;\n    }\n    var eGridDiv = $element[0];\n    var gridParams = {\n        $scope: $scope,\n        $compile: $compile,\n        quickFilterOnScope: quickFilterOnScope\n    };\n    var grid = new Grid(eGridDiv, gridOptions, gridParams);\n    $scope.$on(\"$destroy\", function () {\n        grid.destroy();\n        grid = null;\n    });\n}\n","import { ModuleNames } from \"@ag-grid-community/core\";\nimport { ClientSideRowModel } from \"./clientSideRowModel/clientSideRowModel\";\nimport { FilterStage } from \"./clientSideRowModel/filterStage\";\nimport { SortStage } from \"./clientSideRowModel/sortStage\";\nimport { FlattenStage } from \"./clientSideRowModel/flattenStage\";\nimport { SortService } from \"./clientSideRowModel/sortService\";\nimport { FilterService } from \"./clientSideRowModel/filterService\";\nimport { ImmutableService } from \"./clientSideRowModel/immutableService\";\nexport var ClientSideRowModelModule = {\n    moduleName: ModuleNames.ClientSideRowModelModule,\n    beans: [FilterStage, SortStage, FlattenStage, SortService, FilterService, ImmutableService],\n    rowModels: { clientSide: ClientSideRowModel }\n};\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { Autowired } from '../../../context/context';\nimport { DateCompWrapper } from './dateCompWrapper';\nimport { ConditionPosition, SimpleFilter } from '../simpleFilter';\nimport { ScalarFilter } from '../scalarFilter';\nimport { serialiseDate, parseDateTimeFromString } from '../../../utils/date';\nimport { setDisplayed } from '../../../utils/dom';\nvar DateFilter = /** @class */ (function (_super) {\n    __extends(DateFilter, _super);\n    function DateFilter() {\n        return _super.call(this, 'dateFilter') || this;\n    }\n    DateFilter.prototype.mapRangeFromModel = function (filterModel) {\n        // unlike the other filters, we do two things here:\n        // 1) allow for different attribute names (same as done for other filters) (eg the 'from' and 'to'\n        //    are in different locations in Date and Number filter models)\n        // 2) convert the type (because Date filter uses Dates, however model is 'string')\n        //\n        // NOTE: The conversion of string to date also removes the timezone - i.e. when user picks\n        //       a date from the UI, it will have timezone info in it. This is lost when creating\n        //       the model. When we recreate the date again here, it's without a timezone.\n        return {\n            from: parseDateTimeFromString(filterModel.dateFrom),\n            to: parseDateTimeFromString(filterModel.dateTo)\n        };\n    };\n    DateFilter.prototype.setValueFromFloatingFilter = function (value) {\n        if (value != null) {\n            var dateFrom = parseDateTimeFromString(value);\n            this.dateCondition1FromComp.setDate(dateFrom);\n        }\n        else {\n            this.dateCondition1FromComp.setDate(null);\n        }\n        this.dateCondition1ToComp.setDate(null);\n        this.dateCondition2FromComp.setDate(null);\n        this.dateCondition2ToComp.setDate(null);\n    };\n    DateFilter.prototype.setConditionIntoUi = function (model, position) {\n        var _a = model ?\n            [parseDateTimeFromString(model.dateFrom), parseDateTimeFromString(model.dateTo)] :\n            [null, null], dateFrom = _a[0], dateTo = _a[1];\n        var _b = this.getFromToComponents(position), compFrom = _b[0], compTo = _b[1];\n        compFrom.setDate(dateFrom);\n        compTo.setDate(dateTo);\n    };\n    DateFilter.prototype.resetUiToDefaults = function (silent) {\n        var _this = this;\n        return _super.prototype.resetUiToDefaults.call(this, silent).then(function () {\n            _this.dateCondition1FromComp.setDate(null);\n            _this.dateCondition1ToComp.setDate(null);\n            _this.dateCondition2FromComp.setDate(null);\n            _this.dateCondition2ToComp.setDate(null);\n        });\n    };\n    DateFilter.prototype.comparator = function () {\n        return this.dateFilterParams.comparator ? this.dateFilterParams.comparator : this.defaultComparator.bind(this);\n    };\n    DateFilter.prototype.defaultComparator = function (filterDate, cellValue) {\n        // The default comparator assumes that the cellValue is a date\n        var cellAsDate = cellValue;\n        if (cellValue == null || cellAsDate < filterDate) {\n            return -1;\n        }\n        if (cellAsDate > filterDate) {\n            return 1;\n        }\n        return 0;\n    };\n    DateFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.dateFilterParams = params;\n        this.createDateComponents();\n    };\n    DateFilter.prototype.createDateComponents = function () {\n        var _this = this;\n        // params to pass to all four date comps\n        var dateComponentParams = {\n            onDateChanged: function () { return _this.onUiChanged(); },\n            filterParams: this.dateFilterParams\n        };\n        this.dateCondition1FromComp = new DateCompWrapper(this.getContext(), this.userComponentFactory, dateComponentParams, this.eCondition1PanelFrom);\n        this.dateCondition1ToComp = new DateCompWrapper(this.getContext(), this.userComponentFactory, dateComponentParams, this.eCondition1PanelTo);\n        this.dateCondition2FromComp = new DateCompWrapper(this.getContext(), this.userComponentFactory, dateComponentParams, this.eCondition2PanelFrom);\n        this.dateCondition2ToComp = new DateCompWrapper(this.getContext(), this.userComponentFactory, dateComponentParams, this.eCondition2PanelTo);\n        this.addDestroyFunc(function () {\n            _this.dateCondition1FromComp.destroy();\n            _this.dateCondition1ToComp.destroy();\n            _this.dateCondition2FromComp.destroy();\n            _this.dateCondition2ToComp.destroy();\n        });\n    };\n    DateFilter.prototype.getDefaultFilterOptions = function () {\n        return DateFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    DateFilter.prototype.createValueTemplate = function (position) {\n        var pos = position === ConditionPosition.One ? '1' : '2';\n        return /* html */ \"\\n            <div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\">\\n                <div class=\\\"ag-filter-from ag-filter-date-from\\\" ref=\\\"eCondition\" + pos + \"PanelFrom\\\"></div>\\n                <div class=\\\"ag-filter-to ag-filter-date-to\\\" ref=\\\"eCondition\" + pos + \"PanelTo\\\"></div>\\n            </div>\";\n    };\n    DateFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        var _a = this.getFromToComponents(position), compFrom = _a[0], compTo = _a[1];\n        return compFrom.getDate() != null && (!this.showValueTo(option) || compTo.getDate() != null);\n    };\n    DateFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.dateFrom === bSimple.dateFrom\n            && aSimple.dateTo === bSimple.dateTo\n            && aSimple.type === bSimple.type;\n    };\n    DateFilter.prototype.getFilterType = function () {\n        return 'date';\n    };\n    DateFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var _a = this.getFromToComponents(position), compFrom = _a[0], compTo = _a[1];\n        return {\n            dateFrom: serialiseDate(compFrom.getDate()),\n            dateTo: serialiseDate(compTo.getDate()),\n            type: type,\n            filterType: this.getFilterType()\n        };\n    };\n    DateFilter.prototype.resetPlaceholder = function () {\n        var placeholder = this.translate('dateFormatOoo');\n        var ariaLabel = 'Filter value';\n        this.dateCondition1FromComp.setInputPlaceholder(placeholder);\n        this.dateCondition1FromComp.setInputAriaLabel(ariaLabel);\n        this.dateCondition1ToComp.setInputPlaceholder(placeholder);\n        this.dateCondition1ToComp.setInputAriaLabel(ariaLabel);\n        this.dateCondition2FromComp.setInputPlaceholder(placeholder);\n        this.dateCondition2FromComp.setInputAriaLabel(ariaLabel);\n        this.dateCondition2ToComp.setInputPlaceholder(placeholder);\n        this.dateCondition2ToComp.setInputAriaLabel(ariaLabel);\n    };\n    DateFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        this.resetPlaceholder();\n        var condition1Type = this.getCondition1Type();\n        setDisplayed(this.eCondition1PanelFrom, this.showValueFrom(condition1Type));\n        setDisplayed(this.eCondition1PanelTo, this.showValueTo(condition1Type));\n        var condition2Type = this.getCondition2Type();\n        setDisplayed(this.eCondition2PanelFrom, this.showValueFrom(condition2Type));\n        setDisplayed(this.eCondition2PanelTo, this.showValueTo(condition2Type));\n    };\n    DateFilter.prototype.getFromToComponents = function (position) {\n        return position === ConditionPosition.One ?\n            [this.dateCondition1FromComp, this.dateCondition1ToComp] :\n            [this.dateCondition2FromComp, this.dateCondition2ToComp];\n    };\n    DateFilter.DEFAULT_FILTER_OPTIONS = [\n        ScalarFilter.EQUALS,\n        ScalarFilter.GREATER_THAN,\n        ScalarFilter.LESS_THAN,\n        ScalarFilter.NOT_EQUAL,\n        ScalarFilter.IN_RANGE\n    ];\n    __decorate([\n        RefSelector('eCondition1PanelFrom')\n    ], DateFilter.prototype, \"eCondition1PanelFrom\", void 0);\n    __decorate([\n        RefSelector('eCondition1PanelTo')\n    ], DateFilter.prototype, \"eCondition1PanelTo\", void 0);\n    __decorate([\n        RefSelector('eCondition2PanelFrom')\n    ], DateFilter.prototype, \"eCondition2PanelFrom\", void 0);\n    __decorate([\n        RefSelector('eCondition2PanelTo')\n    ], DateFilter.prototype, \"eCondition2PanelTo\", void 0);\n    __decorate([\n        Autowired('userComponentFactory')\n    ], DateFilter.prototype, \"userComponentFactory\", void 0);\n    return DateFilter;\n}(ScalarFilter));\nexport { DateFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"../../widgets/component\";\nimport { Autowired } from \"../../context/context\";\nimport { TouchListener } from \"../../widgets/touchListener\";\nimport { RefSelector } from \"../../widgets/componentAnnotations\";\nimport { OriginalColumnGroup } from \"../../entities/originalColumnGroup\";\nimport { escapeString } from \"../../utils/string\";\nimport { isStopPropagationForAgGrid, stopPropagationForAgGrid } from \"../../utils/event\";\nimport { setDisplayed } from \"../../utils/dom\";\nimport { createIconNoSpan } from \"../../utils/icon\";\nimport { exists } from \"../../utils/generic\";\nvar HeaderGroupComp = /** @class */ (function (_super) {\n    __extends(HeaderGroupComp, _super);\n    function HeaderGroupComp() {\n        return _super.call(this, HeaderGroupComp.TEMPLATE) || this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    HeaderGroupComp.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    HeaderGroupComp.prototype.init = function (params) {\n        this.params = params;\n        this.setupLabel();\n        this.addGroupExpandIcon();\n        this.setupExpandIcons();\n    };\n    HeaderGroupComp.prototype.setupExpandIcons = function () {\n        var _this = this;\n        this.addInIcon(\"columnGroupOpened\", \"agOpened\");\n        this.addInIcon(\"columnGroupClosed\", \"agClosed\");\n        var expandAction = function (event) {\n            if (isStopPropagationForAgGrid(event)) {\n                return;\n            }\n            var newExpandedValue = !_this.params.columnGroup.isExpanded();\n            _this.columnController.setColumnGroupOpened(_this.params.columnGroup.getOriginalColumnGroup(), newExpandedValue, \"uiColumnExpanded\");\n        };\n        this.addTouchAndClickListeners(this.eCloseIcon, expandAction);\n        this.addTouchAndClickListeners(this.eOpenIcon, expandAction);\n        var stopPropagationAction = function (event) {\n            stopPropagationForAgGrid(event);\n        };\n        // adding stopPropagation to the double click for the icons prevents double click action happening\n        // when the icons are clicked. if the icons are double clicked, then the groups should open and\n        // then close again straight away. if we also listened to double click, then the group would open,\n        // close, then open, which is not what we want. double click should only action if the user double\n        // clicks outside of the icons.\n        this.addManagedListener(this.eCloseIcon, \"dblclick\", stopPropagationAction);\n        this.addManagedListener(this.eOpenIcon, \"dblclick\", stopPropagationAction);\n        this.addManagedListener(this.getGui(), \"dblclick\", expandAction);\n        this.updateIconVisibility();\n        var originalColumnGroup = this.params.columnGroup.getOriginalColumnGroup();\n        this.addManagedListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDED_CHANGED, this.updateIconVisibility.bind(this));\n        this.addManagedListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED, this.updateIconVisibility.bind(this));\n    };\n    HeaderGroupComp.prototype.addTouchAndClickListeners = function (eElement, action) {\n        var touchListener = new TouchListener(eElement);\n        this.addManagedListener(touchListener, TouchListener.EVENT_TAP, action);\n        this.addDestroyFunc(function () { return touchListener.destroy(); });\n        this.addManagedListener(eElement, \"click\", action);\n    };\n    HeaderGroupComp.prototype.updateIconVisibility = function () {\n        var columnGroup = this.params.columnGroup;\n        if (columnGroup.isExpandable()) {\n            var expanded = this.params.columnGroup.isExpanded();\n            setDisplayed(this.eOpenIcon, expanded);\n            setDisplayed(this.eCloseIcon, !expanded);\n        }\n        else {\n            setDisplayed(this.eOpenIcon, false);\n            setDisplayed(this.eCloseIcon, false);\n        }\n    };\n    HeaderGroupComp.prototype.addInIcon = function (iconName, refName) {\n        var eIcon = createIconNoSpan(iconName, this.gridOptionsWrapper, null);\n        this.getRefElement(refName).appendChild(eIcon);\n    };\n    HeaderGroupComp.prototype.addGroupExpandIcon = function () {\n        if (!this.params.columnGroup.isExpandable()) {\n            setDisplayed(this.eOpenIcon, false);\n            setDisplayed(this.eCloseIcon, false);\n            return;\n        }\n    };\n    HeaderGroupComp.prototype.setupLabel = function () {\n        // no renderer, default text render\n        var displayName = this.params.displayName;\n        if (exists(displayName)) {\n            var displayNameSanitised = escapeString(displayName);\n            this.getRefElement(\"agLabel\").innerHTML = displayNameSanitised;\n        }\n    };\n    HeaderGroupComp.TEMPLATE = \"<div class=\\\"ag-header-group-cell-label\\\" ref=\\\"agContainer\\\" role=\\\"presentation\\\">\\n            <span ref=\\\"agLabel\\\" class=\\\"ag-header-group-text\\\" role=\\\"presentation\\\"></span>\\n            <span ref=\\\"agOpened\\\" class=\\\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded\\\"></span>\\n            <span ref=\\\"agClosed\\\" class=\\\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed\\\"></span>\\n        </div>\";\n    __decorate([\n        Autowired(\"columnController\")\n    ], HeaderGroupComp.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired(\"gridOptionsWrapper\")\n    ], HeaderGroupComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector(\"agOpened\")\n    ], HeaderGroupComp.prototype, \"eOpenIcon\", void 0);\n    __decorate([\n        RefSelector(\"agClosed\")\n    ], HeaderGroupComp.prototype, \"eCloseIcon\", void 0);\n    return HeaderGroupComp;\n}(Component));\nexport { HeaderGroupComp };\n","export { InfiniteRowModelModule } from \"./infiniteRowModelModule\";\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub } from \"@ag-grid-community/core\";\nvar SortStage = /** @class */ (function (_super) {\n    __extends(SortStage, _super);\n    function SortStage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SortStage.prototype.execute = function (params) {\n        var sortOptions = this.sortController.getSortForRowController();\n        var sortActive = _.exists(sortOptions) && sortOptions.length > 0;\n        var deltaSort = sortActive\n            && _.exists(params.rowNodeTransactions)\n            // in time we can remove this check, so that delta sort is always\n            // on if transactions are present. it's off for now so that we can\n            // selectively turn it on and test it with some select users before\n            // rolling out to everyone.\n            && this.gridOptionsWrapper.isDeltaSort();\n        // we only need dirty nodes if doing delta sort\n        var dirtyLeafNodes = deltaSort ? this.calculateDirtyNodes(params.rowNodeTransactions) : null;\n        var valueColumns = this.columnController.getValueColumns();\n        var noAggregations = _.missingOrEmpty(valueColumns);\n        this.sortService.sort(sortOptions, sortActive, deltaSort, dirtyLeafNodes, params.changedPath, noAggregations);\n    };\n    SortStage.prototype.calculateDirtyNodes = function (rowNodeTransactions) {\n        var dirtyNodes = {};\n        var addNodesFunc = function (rowNodes) {\n            if (rowNodes) {\n                rowNodes.forEach(function (rowNode) { return dirtyNodes[rowNode.id] = true; });\n            }\n        };\n        // all leaf level nodes in the transaction were impacted\n        rowNodeTransactions.forEach(function (tran) {\n            addNodesFunc(tran.add);\n            addNodesFunc(tran.update);\n            addNodesFunc(tran.remove);\n        });\n        return dirtyNodes;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SortStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('sortService')\n    ], SortStage.prototype, \"sortService\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], SortStage.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], SortStage.prototype, \"columnController\", void 0);\n    SortStage = __decorate([\n        Bean('sortStage')\n    ], SortStage);\n    return SortStage;\n}(BeanStub));\nexport { SortStage };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { AgAbstractInputField } from \"./agAbstractInputField\";\nimport { isBrowserIE } from \"../utils/browser\";\nvar AgInputRange = /** @class */ (function (_super) {\n    __extends(AgInputRange, _super);\n    function AgInputRange(config) {\n        return _super.call(this, config, 'ag-range-field', 'range') || this;\n    }\n    AgInputRange.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        var _a = this.config, min = _a.min, max = _a.max, step = _a.step;\n        if (min != null) {\n            this.setMinValue(min);\n        }\n        if (max != null) {\n            this.setMaxValue(max);\n        }\n        this.setStep(step || 1);\n    };\n    AgInputRange.prototype.addInputListeners = function () {\n        var _this = this;\n        var isIE = isBrowserIE();\n        var eventName = isIE ? 'change' : 'input';\n        this.addManagedListener(this.eInput, eventName, function (e) {\n            var value = e.target.value;\n            _this.setValue(value);\n        });\n    };\n    AgInputRange.prototype.setMinValue = function (value) {\n        this.min = value;\n        this.eInput.setAttribute('min', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setMaxValue = function (value) {\n        this.max = value;\n        this.eInput.setAttribute('max', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setStep = function (value) {\n        this.eInput.setAttribute('step', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setValue = function (value, silent) {\n        if (this.min != null) {\n            value = Math.max(parseFloat(value), this.min).toString();\n        }\n        if (this.max != null) {\n            value = Math.min(parseFloat(value), this.max).toString();\n        }\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        this.eInput.value = value;\n        return ret;\n    };\n    return AgInputRange;\n}(AgAbstractInputField));\nexport { AgInputRange };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { GridOptionsWrapper } from \"../gridOptionsWrapper\";\nimport { RowComp } from \"./row/rowComp\";\nimport { Column } from \"../entities/column\";\nimport { Events } from \"../events\";\nimport { Constants } from \"../constants/constants\";\nimport { CellComp } from \"./cellComp\";\nimport { Autowired, Bean, Optional, Qualifier } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nimport { missing, exists } from \"../utils/generic\";\nimport { iterateObject } from \"../utils/object\";\nimport { createArrayOfNumbers } from \"../utils/number\";\nimport { pushAll, last } from \"../utils/array\";\nimport { executeNextVMTurn, executeInAWhile, doOnce } from \"../utils/function\";\nimport { KeyCode } from '../constants/keyCode';\nimport { _ } from \"../utils\";\nvar RowRenderer = /** @class */ (function (_super) {\n    __extends(RowRenderer, _super);\n    function RowRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.destroyFuncsForColumnListeners = [];\n        // map of row ids to row objects. keeps track of which elements\n        // are rendered for which rows in the dom.\n        _this.rowCompsByIndex = {};\n        _this.floatingTopRowComps = [];\n        _this.floatingBottomRowComps = [];\n        // we only allow one refresh at a time, otherwise the internal memory structure here\n        // will get messed up. this can happen if the user has a cellRenderer, and inside the\n        // renderer they call an API method that results in another pass of the refresh,\n        // then it will be trying to draw rows in the middle of a refresh.\n        _this.refreshInProgress = false;\n        return _this;\n    }\n    RowRenderer.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    RowRenderer.prototype.getGridCore = function () {\n        return this.gridCore;\n    };\n    RowRenderer.prototype.agWire = function (loggerFactory) {\n        this.logger = loggerFactory.create(\"RowRenderer\");\n    };\n    RowRenderer.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.rowContainers = this.gridPanel.getRowContainers();\n        this.addManagedListener(this.eventService, Events.EVENT_PAGINATION_CHANGED, this.onPageLoaded.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_PINNED_ROW_DATA_CHANGED, this.onPinnedRowDataChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_BODY_SCROLL, this.redrawAfterScroll.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.redrawAfterScroll.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n        this.registerCellEventListeners();\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        this.embedFullWidthRows = this.printLayout || this.gridOptionsWrapper.isEmbedFullWidthRows();\n        this.redrawAfterModelUpdate();\n    };\n    // in a clean design, each cell would register for each of these events. however when scrolling, all the cells\n    // registering and de-registering for events is a performance bottleneck. so we register here once and inform\n    // all active cells.\n    RowRenderer.prototype.registerCellEventListeners = function () {\n        var _this = this;\n        this.addManagedListener(this.eventService, Events.EVENT_CELL_FOCUSED, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onCellFocused(event); });\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_FLASH_CELLS, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onFlashCells(event); });\n        });\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, function () {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onColumnHover(); });\n        });\n        // only for printLayout - because we are rendering all the cells in the same row, regardless of pinned state,\n        // then changing the width of the containers will impact left position. eg the center cols all have their\n        // left position adjusted by the width of the left pinned column, so if the pinned left column width changes,\n        // all the center cols need to be shifted to accommodate this. when in normal layout, the pinned cols are\n        // in different containers so doesn't impact.\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, function () {\n            if (_this.printLayout) {\n                _this.forEachCellComp(function (cellComp) { return cellComp.onLeftChanged(); });\n            }\n        });\n        var rangeSelectionEnabled = this.gridOptionsWrapper.isEnableRangeSelection();\n        if (rangeSelectionEnabled) {\n            this.addManagedListener(this.eventService, Events.EVENT_RANGE_SELECTION_CHANGED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.onRangeSelectionChanged(); });\n            });\n            this.addManagedListener(this.eventService, Events.EVENT_COLUMN_MOVED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n            this.addManagedListener(this.eventService, Events.EVENT_COLUMN_PINNED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n            this.addManagedListener(this.eventService, Events.EVENT_COLUMN_VISIBLE, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n        }\n        // add listeners to the grid columns\n        this.refreshListenersToColumnsForCellComps();\n        // if the grid columns change, then refresh the listeners again\n        this.addManagedListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.refreshListenersToColumnsForCellComps.bind(this));\n        this.addDestroyFunc(this.removeGridColumnListeners.bind(this));\n    };\n    // executes all functions in destroyFuncsForColumnListeners and then clears the list\n    RowRenderer.prototype.removeGridColumnListeners = function () {\n        this.destroyFuncsForColumnListeners.forEach(function (func) { return func(); });\n        this.destroyFuncsForColumnListeners.length = 0;\n    };\n    // this function adds listeners onto all the grid columns, which are the column that we could have cellComps for.\n    // when the grid columns change, we add listeners again. in an ideal design, each CellComp would just register to\n    // the column it belongs to on creation, however this was a bottleneck with the number of cells, so do it here\n    // once instead.\n    RowRenderer.prototype.refreshListenersToColumnsForCellComps = function () {\n        var _this = this;\n        this.removeGridColumnListeners();\n        var cols = this.columnController.getAllGridColumns();\n        if (!cols) {\n            return;\n        }\n        cols.forEach(function (col) {\n            var forEachCellWithThisCol = function (callback) {\n                _this.forEachCellComp(function (cellComp) {\n                    if (cellComp.getColumn() === col) {\n                        callback(cellComp);\n                    }\n                });\n            };\n            var leftChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onLeftChanged(); });\n            };\n            var widthChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onWidthChanged(); });\n            };\n            var firstRightPinnedChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onFirstRightPinnedChanged(); });\n            };\n            var lastLeftPinnedChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onLastLeftPinnedChanged(); });\n            };\n            col.addEventListener(Column.EVENT_LEFT_CHANGED, leftChangedListener);\n            col.addEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n            col.addEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, firstRightPinnedChangedListener);\n            col.addEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED, lastLeftPinnedChangedListener);\n            _this.destroyFuncsForColumnListeners.push(function () {\n                col.removeEventListener(Column.EVENT_LEFT_CHANGED, leftChangedListener);\n                col.removeEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n                col.removeEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, firstRightPinnedChangedListener);\n                col.removeEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED, lastLeftPinnedChangedListener);\n            });\n        });\n    };\n    RowRenderer.prototype.onDomLayoutChanged = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        var embedFullWidthRows = printLayout || this.gridOptionsWrapper.isEmbedFullWidthRows();\n        // if moving towards or away from print layout, means we need to destroy all rows, as rows are not laid\n        // out using absolute positioning when doing print layout\n        var destroyRows = embedFullWidthRows !== this.embedFullWidthRows || this.printLayout !== printLayout;\n        this.printLayout = printLayout;\n        this.embedFullWidthRows = embedFullWidthRows;\n        if (destroyRows) {\n            this.redrawAfterModelUpdate();\n        }\n    };\n    // for row models that have datasources, when we update the datasource, we need to force the rowRenderer\n    // to redraw all rows. otherwise the old rows from the old datasource will stay displayed.\n    RowRenderer.prototype.datasourceChanged = function () {\n        this.firstRenderedRow = 0;\n        this.lastRenderedRow = -1;\n        var rowIndexesToRemove = Object.keys(this.rowCompsByIndex);\n        this.removeRowComps(rowIndexesToRemove);\n    };\n    RowRenderer.prototype.onPageLoaded = function (refreshEvent) {\n        if (missing(refreshEvent)) {\n            refreshEvent = {\n                type: Events.EVENT_MODEL_UPDATED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                animate: false,\n                keepRenderedRows: false,\n                newData: false,\n                newPage: false\n            };\n        }\n        this.onModelUpdated(refreshEvent);\n    };\n    RowRenderer.prototype.getAllCellsForColumn = function (column) {\n        var eCells = [];\n        function callback(key, rowComp) {\n            var eCell = rowComp.getCellForCol(column);\n            if (eCell) {\n                eCells.push(eCell);\n            }\n        }\n        iterateObject(this.rowCompsByIndex, callback);\n        iterateObject(this.floatingBottomRowComps, callback);\n        iterateObject(this.floatingTopRowComps, callback);\n        return eCells;\n    };\n    RowRenderer.prototype.refreshFloatingRowComps = function () {\n        this.refreshFloatingRows(this.floatingTopRowComps, this.pinnedRowModel.getPinnedTopRowData(), this.rowContainers.floatingTopPinnedLeft, this.rowContainers.floatingTopPinnedRight, this.rowContainers.floatingTop, this.rowContainers.floatingTopFullWidth);\n        this.refreshFloatingRows(this.floatingBottomRowComps, this.pinnedRowModel.getPinnedBottomRowData(), this.rowContainers.floatingBottomPinnedLeft, this.rowContainers.floatingBottomPinnedRight, this.rowContainers.floatingBottom, this.rowContainers.floatingBottomFullWidth);\n    };\n    RowRenderer.prototype.refreshFloatingRows = function (rowComps, rowNodes, pinnedLeftContainerComp, pinnedRightContainerComp, bodyContainerComp, fullWidthContainerComp) {\n        var _this = this;\n        rowComps.forEach(function (row) {\n            row.destroy();\n        });\n        rowComps.length = 0;\n        if (rowNodes) {\n            rowNodes.forEach(function (node) {\n                var rowComp = new RowComp(_this.$scope, bodyContainerComp, pinnedLeftContainerComp, pinnedRightContainerComp, fullWidthContainerComp, node, _this.beans, false, false, _this.printLayout, _this.embedFullWidthRows);\n                rowComp.init();\n                rowComps.push(rowComp);\n            });\n        }\n        this.flushContainers(rowComps);\n    };\n    RowRenderer.prototype.onPinnedRowDataChanged = function () {\n        // recycling rows in order to ensure cell editing is not cancelled\n        var params = {\n            recycleRows: true\n        };\n        this.redrawAfterModelUpdate(params);\n    };\n    RowRenderer.prototype.onModelUpdated = function (refreshEvent) {\n        var params = {\n            recycleRows: refreshEvent.keepRenderedRows,\n            animate: refreshEvent.animate,\n            newData: refreshEvent.newData,\n            newPage: refreshEvent.newPage,\n            // because this is a model updated event (not pinned rows), we\n            // can skip updating the pinned rows. this is needed so that if user\n            // is doing transaction updates, the pinned rows are not getting constantly\n            // trashed - or editing cells in pinned rows are not refreshed and put into read mode\n            onlyBody: true\n        };\n        this.redrawAfterModelUpdate(params);\n    };\n    // if the row nodes are not rendered, no index is returned\n    RowRenderer.prototype.getRenderedIndexesForRowNodes = function (rowNodes) {\n        var result = [];\n        if (missing(rowNodes)) {\n            return result;\n        }\n        iterateObject(this.rowCompsByIndex, function (index, renderedRow) {\n            var rowNode = renderedRow.getRowNode();\n            if (rowNodes.indexOf(rowNode) >= 0) {\n                result.push(index);\n            }\n        });\n        return result;\n    };\n    RowRenderer.prototype.redrawRows = function (rowNodes) {\n        if (!rowNodes || rowNodes.length == 0) {\n            return;\n        }\n        // we only need to be worried about rendered rows, as this method is\n        // called to what's rendered. if the row isn't rendered, we don't care\n        var indexesToRemove = this.getRenderedIndexesForRowNodes(rowNodes);\n        // remove the rows\n        this.removeRowComps(indexesToRemove);\n        // add draw them again\n        this.redrawAfterModelUpdate({\n            recycleRows: true\n        });\n    };\n    RowRenderer.prototype.getCellToRestoreFocusToAfterRefresh = function (params) {\n        var focusedCell = params.suppressKeepFocus ? null : this.focusController.getFocusCellToUseAfterRefresh();\n        if (missing(focusedCell)) {\n            return null;\n        }\n        // if the dom is not actually focused on a cell, then we don't try to refocus. the problem this\n        // solves is with editing - if the user is editing, eg focus is on a text field, and not on the\n        // cell itself, then the cell can be registered as having focus, however it's the text field that\n        // has the focus and not the cell div. therefore, when the refresh is finished, the grid will focus\n        // the cell, and not the textfield. that means if the user is in a text field, and the grid refreshes,\n        // the focus is lost from the text field. we do not want this.\n        var activeElement = document.activeElement;\n        var domData = this.gridOptionsWrapper.getDomData(activeElement, CellComp.DOM_DATA_KEY_CELL_COMP);\n        var elementIsNotACellDev = missing(domData);\n        return elementIsNotACellDev ? null : focusedCell;\n    };\n    // gets called after changes to the model.\n    RowRenderer.prototype.redrawAfterModelUpdate = function (params) {\n        if (params === void 0) { params = {}; }\n        this.getLockOnRefresh();\n        var focusedCell = this.getCellToRestoreFocusToAfterRefresh(params);\n        this.sizeContainerToPageHeight();\n        this.scrollToTopIfNewData(params);\n        // never recycle rows when print layout, we draw each row again from scratch. this is because print layout\n        // uses normal dom layout to put cells into dom - it doesn't allow reordering rows.\n        var recycleRows = !this.printLayout && params.recycleRows;\n        var animate = params.animate && this.gridOptionsWrapper.isAnimateRows();\n        var rowsToRecycle = this.binRowComps(recycleRows);\n        var isFocusedCellGettingRecycled = function () {\n            if (focusedCell == null) {\n                return false;\n            }\n            if (rowsToRecycle == null) {\n                return false;\n            }\n            var res = false;\n            _.iterateObject(rowsToRecycle, function (key, rowComp) {\n                var rowNode = rowComp.getRowNode();\n                var rowIndexEqual = rowNode.rowIndex == focusedCell.rowIndex;\n                var pinnedEqual = rowNode.rowPinned == focusedCell.rowPinned;\n                if (rowIndexEqual && pinnedEqual) {\n                    res = true;\n                }\n            });\n            return res;\n        };\n        var focusedCellRecycled = isFocusedCellGettingRecycled();\n        this.redraw(rowsToRecycle, animate);\n        if (!params.onlyBody) {\n            this.refreshFloatingRowComps();\n        }\n        // if we focus a cell that's already focused, then we get an unnecessary 'cellFocused' event fired.\n        // this was happening when user clicked 'expand' on a rowGroup, then cellFocused was getting fired twice.\n        if (!focusedCellRecycled) {\n            this.restoreFocusedCell(focusedCell);\n        }\n        this.releaseLockOnRefresh();\n    };\n    RowRenderer.prototype.scrollToTopIfNewData = function (params) {\n        var scrollToTop = params.newData || params.newPage;\n        var suppressScrollToTop = this.gridOptionsWrapper.isSuppressScrollOnNewData();\n        if (scrollToTop && !suppressScrollToTop) {\n            this.gridPanel.scrollToTop();\n        }\n    };\n    RowRenderer.prototype.sizeContainerToPageHeight = function () {\n        var containers = [\n            this.rowContainers.body,\n            this.rowContainers.fullWidth,\n            this.rowContainers.pinnedLeft,\n            this.rowContainers.pinnedRight\n        ];\n        if (this.printLayout) {\n            containers.forEach(function (container) { return container.setHeight(null); });\n            return;\n        }\n        var containerHeight = this.paginationProxy.getCurrentPageHeight();\n        // we need at least 1 pixel for the horizontal scroll to work. so if there are now rows,\n        // we still want the scroll to be present, otherwise there would be no way to scroll the header\n        // which might be needed us user wants to access columns\n        // on the RHS - and if that was where the filter was that cause no rows to be presented, there\n        // is no way to remove the filter.\n        if (containerHeight === 0) {\n            containerHeight = 1;\n        }\n        this.maxDivHeightScaler.setModelHeight(containerHeight);\n        var realHeight = this.maxDivHeightScaler.getUiContainerHeight();\n        containers.forEach(function (container) { return container.setHeight(realHeight); });\n    };\n    RowRenderer.prototype.getLockOnRefresh = function () {\n        if (this.refreshInProgress) {\n            throw new Error(\"ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. \" +\n                \"Your code probably called a grid API method while the grid was in the render stage. To overcome \" +\n                \"this, put the API call into a timeout, eg instead of api.refreshView(), \" +\n                \"call setTimeout(function(){api.refreshView(),0}). To see what part of your code \" +\n                \"that caused the refresh check this stacktrace.\");\n        }\n        this.refreshInProgress = true;\n    };\n    RowRenderer.prototype.releaseLockOnRefresh = function () {\n        this.refreshInProgress = false;\n    };\n    // sets the focus to the provided cell, if the cell is provided. this way, the user can call refresh without\n    // worry about the focus been lost. this is important when the user is using keyboard navigation to do edits\n    // and the cellEditor is calling 'refresh' to get other cells to update (as other cells might depend on the\n    // edited cell).\n    RowRenderer.prototype.restoreFocusedCell = function (cellPosition) {\n        if (cellPosition) {\n            this.focusController.setFocusedCell(cellPosition.rowIndex, cellPosition.column, cellPosition.rowPinned, true);\n        }\n    };\n    RowRenderer.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.forEachRowComp(function (key, rowComp) {\n            rowComp.stopEditing(cancel);\n        });\n    };\n    RowRenderer.prototype.forEachCellComp = function (callback) {\n        this.forEachRowComp(function (key, rowComp) { return rowComp.forEachCellComp(callback); });\n    };\n    RowRenderer.prototype.forEachRowComp = function (callback) {\n        iterateObject(this.rowCompsByIndex, callback);\n        iterateObject(this.floatingTopRowComps, callback);\n        iterateObject(this.floatingBottomRowComps, callback);\n    };\n    RowRenderer.prototype.addRenderedRowListener = function (eventName, rowIndex, callback) {\n        var rowComp = this.rowCompsByIndex[rowIndex];\n        if (rowComp) {\n            rowComp.addEventListener(eventName, callback);\n        }\n    };\n    RowRenderer.prototype.flashCells = function (params) {\n        if (params === void 0) { params = {}; }\n        var flashDelay = params.flashDelay, fadeDelay = params.fadeDelay;\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) { return cellComp.flashCell({ flashDelay: flashDelay, fadeDelay: fadeDelay }); });\n    };\n    RowRenderer.prototype.refreshCells = function (params) {\n        if (params === void 0) { params = {}; }\n        var refreshCellParams = {\n            forceRefresh: params.force,\n            newData: false,\n            suppressFlash: params.suppressFlash\n        };\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) { return cellComp.refreshCell(refreshCellParams); });\n    };\n    RowRenderer.prototype.getCellRendererInstances = function (params) {\n        var res = [];\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) {\n            var cellRenderer = cellComp.getCellRenderer();\n            if (cellRenderer) {\n                res.push(cellRenderer);\n            }\n        });\n        return res;\n    };\n    RowRenderer.prototype.getCellEditorInstances = function (params) {\n        var res = [];\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) {\n            var cellEditor = cellComp.getCellEditor();\n            if (cellEditor) {\n                res.push(cellEditor);\n            }\n        });\n        return res;\n    };\n    RowRenderer.prototype.getEditingCells = function () {\n        var res = [];\n        this.forEachCellComp(function (cellComp) {\n            if (cellComp.isEditing()) {\n                var cellPosition = cellComp.getCellPosition();\n                res.push(cellPosition);\n            }\n        });\n        return res;\n    };\n    // calls the callback for each cellComp that match the provided rowNodes and columns. eg if one row node\n    // and two columns provided, that identifies 4 cells, so callback gets called 4 times, once for each cell.\n    RowRenderer.prototype.forEachCellCompFiltered = function (rowNodes, columns, callback) {\n        var _this = this;\n        var rowIdsMap;\n        if (exists(rowNodes)) {\n            rowIdsMap = {\n                top: {},\n                bottom: {},\n                normal: {}\n            };\n            rowNodes.forEach(function (rowNode) {\n                if (rowNode.rowPinned === Constants.PINNED_TOP) {\n                    rowIdsMap.top[rowNode.id] = true;\n                }\n                else if (rowNode.rowPinned === Constants.PINNED_BOTTOM) {\n                    rowIdsMap.bottom[rowNode.id] = true;\n                }\n                else {\n                    rowIdsMap.normal[rowNode.id] = true;\n                }\n            });\n        }\n        var colIdsMap;\n        if (exists(columns)) {\n            colIdsMap = {};\n            columns.forEach(function (colKey) {\n                var column = _this.columnController.getGridColumn(colKey);\n                if (exists(column)) {\n                    colIdsMap[column.getId()] = true;\n                }\n            });\n        }\n        var processRow = function (rowComp) {\n            var rowNode = rowComp.getRowNode();\n            var id = rowNode.id;\n            var floating = rowNode.rowPinned;\n            // skip this row if it is missing from the provided list\n            if (exists(rowIdsMap)) {\n                if (floating === Constants.PINNED_BOTTOM) {\n                    if (!rowIdsMap.bottom[id]) {\n                        return;\n                    }\n                }\n                else if (floating === Constants.PINNED_TOP) {\n                    if (!rowIdsMap.top[id]) {\n                        return;\n                    }\n                }\n                else {\n                    if (!rowIdsMap.normal[id]) {\n                        return;\n                    }\n                }\n            }\n            rowComp.forEachCellComp(function (cellComp) {\n                var colId = cellComp.getColumn().getId();\n                var excludeColFromRefresh = colIdsMap && !colIdsMap[colId];\n                if (excludeColFromRefresh) {\n                    return;\n                }\n                callback(cellComp);\n            });\n        };\n        iterateObject(this.rowCompsByIndex, function (index, rowComp) {\n            processRow(rowComp);\n        });\n        if (this.floatingTopRowComps) {\n            this.floatingTopRowComps.forEach(processRow);\n        }\n        if (this.floatingBottomRowComps) {\n            this.floatingBottomRowComps.forEach(processRow);\n        }\n    };\n    RowRenderer.prototype.destroy = function () {\n        var rowIndexesToRemove = Object.keys(this.rowCompsByIndex);\n        this.removeRowComps(rowIndexesToRemove);\n        _super.prototype.destroy.call(this);\n    };\n    RowRenderer.prototype.binRowComps = function (recycleRows) {\n        var _this = this;\n        var rowsToRecycle = {};\n        var indexesToRemove;\n        if (recycleRows) {\n            indexesToRemove = [];\n            iterateObject(this.rowCompsByIndex, function (index, rowComp) {\n                var rowNode = rowComp.getRowNode();\n                if (exists(rowNode.id)) {\n                    rowsToRecycle[rowNode.id] = rowComp;\n                    delete _this.rowCompsByIndex[index];\n                }\n                else {\n                    indexesToRemove.push(index);\n                }\n            });\n        }\n        else {\n            indexesToRemove = Object.keys(this.rowCompsByIndex);\n        }\n        this.removeRowComps(indexesToRemove);\n        return rowsToRecycle;\n    };\n    // takes array of row indexes\n    RowRenderer.prototype.removeRowComps = function (rowsToRemove) {\n        var _this = this;\n        // if no fromIndex then set to -1, which will refresh everything\n        // let realFromIndex = -1;\n        rowsToRemove.forEach(function (indexToRemove) {\n            var renderedRow = _this.rowCompsByIndex[indexToRemove];\n            renderedRow.destroy();\n            delete _this.rowCompsByIndex[indexToRemove];\n        });\n    };\n    // gets called when rows don't change, but viewport does, so after:\n    // 1) height of grid body changes, ie number of displayed rows has changed\n    // 2) grid scrolled to new position\n    // 3) ensure index visible (which is a scroll)\n    RowRenderer.prototype.redrawAfterScroll = function () {\n        this.getLockOnRefresh();\n        this.redraw(null, false, true);\n        this.releaseLockOnRefresh();\n    };\n    RowRenderer.prototype.removeRowCompsNotToDraw = function (indexesToDraw) {\n        // for speedy lookup, dump into map\n        var indexesToDrawMap = {};\n        indexesToDraw.forEach(function (index) { return (indexesToDrawMap[index] = true); });\n        var existingIndexes = Object.keys(this.rowCompsByIndex);\n        var indexesNotToDraw = existingIndexes.filter(function (index) { return !indexesToDrawMap[index]; });\n        this.removeRowComps(indexesNotToDraw);\n    };\n    RowRenderer.prototype.calculateIndexesToDraw = function (rowsToRecycle) {\n        var _this = this;\n        // all in all indexes in the viewport\n        var indexesToDraw = createArrayOfNumbers(this.firstRenderedRow, this.lastRenderedRow);\n        var checkRowToDraw = function (indexStr, rowComp) {\n            var index = Number(indexStr);\n            if (index < _this.firstRenderedRow || index > _this.lastRenderedRow) {\n                if (_this.doNotUnVirtualiseRow(rowComp)) {\n                    indexesToDraw.push(index);\n                }\n            }\n        };\n        // if we are redrawing due to scrolling change, then old rows are in this.rowCompsByIndex\n        iterateObject(this.rowCompsByIndex, checkRowToDraw);\n        // if we are redrawing due to model update, then old rows are in rowsToRecycle\n        iterateObject(rowsToRecycle, checkRowToDraw);\n        indexesToDraw.sort(function (a, b) { return a - b; });\n        return indexesToDraw;\n    };\n    RowRenderer.prototype.redraw = function (rowsToRecycle, animate, afterScroll) {\n        var _this = this;\n        if (animate === void 0) { animate = false; }\n        if (afterScroll === void 0) { afterScroll = false; }\n        this.maxDivHeightScaler.updateOffset();\n        this.workOutFirstAndLastRowsToRender();\n        // the row can already exist and be in the following:\n        // rowsToRecycle -> if model change, then the index may be different, however row may\n        //                         exist here from previous time (mapped by id).\n        // this.rowCompsByIndex -> if just a scroll, then this will contain what is currently in the viewport\n        // this is all the indexes we want, including those that already exist, so this method\n        // will end up going through each index and drawing only if the row doesn't already exist\n        var indexesToDraw = this.calculateIndexesToDraw(rowsToRecycle);\n        this.removeRowCompsNotToDraw(indexesToDraw);\n        // never animate when doing print layout - as we want to get things ready to print as quickly as possible,\n        // otherwise we risk the printer printing a row that's half faded (half way through fading in)\n        if (this.printLayout) {\n            animate = false;\n        }\n        // add in new rows\n        var nextVmTurnFunctions = [];\n        var rowComps = [];\n        indexesToDraw.forEach(function (rowIndex) {\n            var rowComp = _this.createOrUpdateRowComp(rowIndex, rowsToRecycle, animate, afterScroll);\n            if (exists(rowComp)) {\n                rowComps.push(rowComp);\n                pushAll(nextVmTurnFunctions, rowComp.getAndClearNextVMTurnFunctions());\n            }\n        });\n        this.flushContainers(rowComps);\n        executeNextVMTurn(nextVmTurnFunctions);\n        var useAnimationFrame = afterScroll && !this.gridOptionsWrapper.isSuppressAnimationFrame() && !this.printLayout;\n        if (useAnimationFrame) {\n            this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this, rowsToRecycle, animate));\n        }\n        else {\n            this.destroyRowComps(rowsToRecycle, animate);\n        }\n        this.checkAngularCompile();\n        this.gridPanel.updateRowCount();\n    };\n    RowRenderer.prototype.flushContainers = function (rowComps) {\n        iterateObject(this.rowContainers, function (key, rowContainerComp) {\n            if (rowContainerComp) {\n                rowContainerComp.flushRowTemplates();\n            }\n        });\n        rowComps.forEach(function (rowComp) { return rowComp.afterFlush(); });\n    };\n    RowRenderer.prototype.onDisplayedColumnsChanged = function () {\n        var pinningLeft = this.columnController.isPinningLeft();\n        var pinningRight = this.columnController.isPinningRight();\n        var atLeastOneChanged = this.pinningLeft !== pinningLeft || pinningRight !== this.pinningRight;\n        if (atLeastOneChanged) {\n            this.pinningLeft = pinningLeft;\n            this.pinningRight = pinningRight;\n            if (this.embedFullWidthRows) {\n                this.redrawFullWidthEmbeddedRows();\n            }\n        }\n    };\n    // when embedding, what gets showed in each section depends on what is pinned. eg if embedding group expand / collapse,\n    // then it should go into the pinned left area if pinning left, or the center area if not pinning.\n    RowRenderer.prototype.redrawFullWidthEmbeddedRows = function () {\n        // if either of the pinned panels has shown / hidden, then need to redraw the fullWidth bits when\n        // embedded, as what appears in each section depends on whether we are pinned or not\n        var rowsToRemove = [];\n        iterateObject(this.rowCompsByIndex, function (id, rowComp) {\n            if (rowComp.isFullWidth()) {\n                var rowIndex = rowComp.getRowNode().rowIndex;\n                rowsToRemove.push(rowIndex.toString());\n            }\n        });\n        this.refreshFloatingRowComps();\n        this.removeRowComps(rowsToRemove);\n        this.redrawAfterScroll();\n    };\n    RowRenderer.prototype.refreshFullWidthRows = function (rowNodesToRefresh) {\n        var rowsToRemove = [];\n        var selectivelyRefreshing = !!rowNodesToRefresh;\n        var idsToRefresh = selectivelyRefreshing ? {} : undefined;\n        if (selectivelyRefreshing) {\n            rowNodesToRefresh.forEach(function (r) { return idsToRefresh[r.id] = true; });\n        }\n        iterateObject(this.rowCompsByIndex, function (id, rowComp) {\n            if (!rowComp.isFullWidth()) {\n                return;\n            }\n            var rowNode = rowComp.getRowNode();\n            if (selectivelyRefreshing) {\n                // we refresh if a) this node is present or b) this parents nodes is present. checking parent\n                // node is important for master/detail, as we want detail to refresh on changes to parent node.\n                // it's also possible, if user is provider their own fullWidth, that details panels contain\n                // some info on the parent, eg if in tree data and child row shows some data from parent row also.\n                var parentId = (rowNode.level > 0 && rowNode.parent) ? rowNode.parent.id : undefined;\n                var skipThisNode = !idsToRefresh[rowNode.id] && !idsToRefresh[parentId];\n                if (skipThisNode) {\n                    return;\n                }\n            }\n            var fullWidthRowsRefreshed = rowComp.refreshFullWidth();\n            if (!fullWidthRowsRefreshed) {\n                var rowIndex = rowComp.getRowNode().rowIndex;\n                rowsToRemove.push(rowIndex.toString());\n            }\n        });\n        this.removeRowComps(rowsToRemove);\n        this.redrawAfterScroll();\n    };\n    RowRenderer.prototype.createOrUpdateRowComp = function (rowIndex, rowsToRecycle, animate, afterScroll) {\n        var rowNode;\n        var rowComp = this.rowCompsByIndex[rowIndex];\n        // if no row comp, see if we can get it from the previous rowComps\n        if (!rowComp) {\n            rowNode = this.paginationProxy.getRow(rowIndex);\n            if (exists(rowNode) && exists(rowsToRecycle) && rowsToRecycle[rowNode.id] && rowNode.alreadyRendered) {\n                rowComp = rowsToRecycle[rowNode.id];\n                rowsToRecycle[rowNode.id] = null;\n            }\n        }\n        var creatingNewRowComp = !rowComp;\n        if (creatingNewRowComp) {\n            // create a new one\n            if (!rowNode) {\n                rowNode = this.paginationProxy.getRow(rowIndex);\n            }\n            if (exists(rowNode)) {\n                rowComp = this.createRowComp(rowNode, animate, afterScroll);\n            }\n            else {\n                // this should never happen - if somehow we are trying to create\n                // a row for a rowNode that does not exist.\n                return;\n            }\n        }\n        else {\n            // ensure row comp is in right position in DOM\n            rowComp.ensureDomOrder();\n        }\n        if (rowNode) {\n            // set node as 'alreadyRendered' to ensure we only recycle rowComps that have been rendered, this ensures\n            // we don't reuse rowComps that have been removed and then re-added in the same batch transaction.\n            rowNode.alreadyRendered = true;\n        }\n        this.rowCompsByIndex[rowIndex] = rowComp;\n        return rowComp;\n    };\n    RowRenderer.prototype.destroyRowComps = function (rowCompsMap, animate) {\n        var delayedFuncs = [];\n        iterateObject(rowCompsMap, function (nodeId, rowComp) {\n            // if row was used, then it's null\n            if (!rowComp) {\n                return;\n            }\n            rowComp.destroy(animate);\n            pushAll(delayedFuncs, rowComp.getAndClearDelayedDestroyFunctions());\n        });\n        executeInAWhile(delayedFuncs);\n    };\n    RowRenderer.prototype.checkAngularCompile = function () {\n        var _this = this;\n        // if we are doing angular compiling, then do digest the scope here\n        if (this.gridOptionsWrapper.isAngularCompileRows()) {\n            // we do it in a timeout, in case we are already in an apply\n            window.setTimeout(function () {\n                _this.$scope.$apply();\n            }, 0);\n        }\n    };\n    RowRenderer.prototype.workOutFirstAndLastRowsToRender = function () {\n        var _this = this;\n        var newFirst;\n        var newLast;\n        if (!this.paginationProxy.isRowsToRender()) {\n            newFirst = 0;\n            newLast = -1; // setting to -1 means nothing in range\n        }\n        else if (this.printLayout) {\n            newFirst = this.paginationProxy.getPageFirstRow();\n            newLast = this.paginationProxy.getPageLastRow();\n        }\n        else {\n            var paginationOffset = this.paginationProxy.getPixelOffset();\n            var maxDivHeightScaler = this.maxDivHeightScaler.getOffset();\n            var bodyVRange = this.gridPanel.getVScrollPosition();\n            var bodyTopPixel = bodyVRange.top;\n            var bodyBottomPixel = bodyVRange.bottom;\n            var bufferPixels = this.gridOptionsWrapper.getRowBufferInPixels();\n            var firstPixel = bodyTopPixel + paginationOffset + maxDivHeightScaler - bufferPixels;\n            var lastPixel = bodyBottomPixel + paginationOffset + maxDivHeightScaler + bufferPixels;\n            this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel, lastPixel);\n            var firstRowIndex = this.paginationProxy.getRowIndexAtPixel(firstPixel);\n            var lastRowIndex = this.paginationProxy.getRowIndexAtPixel(lastPixel);\n            var pageFirstRow = this.paginationProxy.getPageFirstRow();\n            var pageLastRow = this.paginationProxy.getPageLastRow();\n            // adjust, in case buffer extended actual size\n            if (firstRowIndex < pageFirstRow) {\n                firstRowIndex = pageFirstRow;\n            }\n            if (lastRowIndex > pageLastRow) {\n                lastRowIndex = pageLastRow;\n            }\n            newFirst = firstRowIndex;\n            newLast = lastRowIndex;\n        }\n        // sometimes user doesn't set CSS right and ends up with grid with no height and grid ends up\n        // trying to render all the rows, eg 10,000+ rows. this will kill the browser. so instead of\n        // killing the browser, we limit the number of rows. just in case some use case we didn't think\n        // of, we also have a property to not do this operation.\n        var rowLayoutNormal = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n        var suppressRowCountRestriction = this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction();\n        var rowBufferMaxSize = Math.max(this.gridOptionsWrapper.getRowBuffer(), 500);\n        if (rowLayoutNormal && !suppressRowCountRestriction) {\n            if (newLast - newFirst > rowBufferMaxSize) {\n                newLast = newFirst + rowBufferMaxSize;\n            }\n        }\n        var firstDiffers = newFirst !== this.firstRenderedRow;\n        var lastDiffers = newLast !== this.lastRenderedRow;\n        if (firstDiffers || lastDiffers) {\n            this.firstRenderedRow = newFirst;\n            this.lastRenderedRow = newLast;\n            var event_1 = {\n                type: Events.EVENT_VIEWPORT_CHANGED,\n                firstRow: newFirst,\n                lastRow: newLast,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n        // only dispatch firstDataRendered if we have actually rendered some data\n        if (this.paginationProxy.isRowsToRender()) {\n            var event_2 = {\n                type: Events.EVENT_FIRST_DATA_RENDERED,\n                firstRow: newFirst,\n                lastRow: newLast,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            // added a small delay here because in some scenarios this can be fired\n            // before the grid is actually rendered, causing component creation\n            // on EVENT_FIRST_DATA_RENDERED to fail.\n            window.setTimeout(function () { return _this.eventService.dispatchEventOnce(event_2); }, 50);\n        }\n    };\n    RowRenderer.prototype.ensureAllRowsInRangeHaveHeightsCalculated = function (topPixel, bottomPixel) {\n        // ensureRowHeightsVisible only works with CSRM, as it's the only row model that allows lazy row height calcs.\n        // all the other row models just hard code so the method just returns back false\n        var rowHeightsChanged = this.paginationProxy.ensureRowHeightsValid(topPixel, bottomPixel, -1, -1);\n        if (rowHeightsChanged) {\n            // if row heights have changed, we need to resize the containers the rows sit it\n            this.sizeContainerToPageHeight();\n            // we also need to update heightScaler as this has dependency of row container height\n            this.maxDivHeightScaler.updateOffset();\n        }\n    };\n    RowRenderer.prototype.getFirstVirtualRenderedRow = function () {\n        return this.firstRenderedRow;\n    };\n    RowRenderer.prototype.getLastVirtualRenderedRow = function () {\n        return this.lastRenderedRow;\n    };\n    // check that none of the rows to remove are editing or focused as:\n    // a) if editing, we want to keep them, otherwise the user will loose the context of the edit,\n    //    eg user starts editing, enters some text, then scrolls down and then up, next time row rendered\n    //    the edit is reset - so we want to keep it rendered.\n    // b) if focused, we want ot keep keyboard focus, so if user ctrl+c, it goes to clipboard,\n    //    otherwise the user can range select and drag (with focus cell going out of the viewport)\n    //    and then ctrl+c, nothing will happen if cell is removed from dom.\n    // c) if detail record of master detail, as users complained that the context of detail rows\n    //    was getting lost when detail row out of view. eg user expands to show detail row,\n    //    then manipulates the detail panel (eg sorts the detail grid), then context is lost\n    //    after detail panel is scrolled out of / into view.\n    RowRenderer.prototype.doNotUnVirtualiseRow = function (rowComp) {\n        var REMOVE_ROW = false;\n        var KEEP_ROW = true;\n        var rowNode = rowComp.getRowNode();\n        var rowHasFocus = this.focusController.isRowNodeFocused(rowNode);\n        var rowIsEditing = rowComp.isEditing();\n        var rowIsDetail = rowNode.detail;\n        var mightWantToKeepRow = rowHasFocus || rowIsEditing || rowIsDetail;\n        // if we deffo don't want to keep it,\n        if (!mightWantToKeepRow) {\n            return REMOVE_ROW;\n        }\n        // editing row, only remove if it is no longer rendered, eg filtered out or new data set.\n        // the reason we want to keep is if user is scrolling up and down, we don't want to loose\n        // the context of the editing in process.\n        var rowNodePresent = this.paginationProxy.isRowPresent(rowNode);\n        return rowNodePresent ? KEEP_ROW : REMOVE_ROW;\n    };\n    RowRenderer.prototype.createRowComp = function (rowNode, animate, afterScroll) {\n        var suppressAnimationFrame = this.gridOptionsWrapper.isSuppressAnimationFrame();\n        // we don't use animations frames for printing, so the user can put the grid into print mode\n        // and immediately print - otherwise the user would have to wait for the rows to draw in the background\n        // (via the animation frames) which is awkward to do from code.\n        // we only do the animation frames after scrolling, as this is where we want the smooth user experience.\n        // having animation frames for other times makes the grid look 'jumpy'.\n        var useAnimationFrameForCreate = afterScroll && !suppressAnimationFrame && !this.printLayout;\n        var rowComp = new RowComp(this.$scope, this.rowContainers.body, this.rowContainers.pinnedLeft, this.rowContainers.pinnedRight, this.rowContainers.fullWidth, rowNode, this.beans, animate, useAnimationFrameForCreate, this.printLayout, this.embedFullWidthRows);\n        rowComp.init();\n        return rowComp;\n    };\n    RowRenderer.prototype.getRenderedNodes = function () {\n        var renderedRows = this.rowCompsByIndex;\n        return Object.keys(renderedRows).map(function (key) { return renderedRows[key].getRowNode(); });\n    };\n    // we use index for rows, but column object for columns, as the next column (by index) might not\n    // be visible (header grouping) so it's not reliable, so using the column object instead.\n    RowRenderer.prototype.navigateToNextCell = function (event, key, currentCell, allowUserOverride) {\n        // we keep searching for a next cell until we find one. this is how the group rows get skipped\n        var nextCell = currentCell;\n        var hitEdgeOfGrid = false;\n        while (nextCell && (nextCell === currentCell || !this.isValidNavigateCell(nextCell))) {\n            // if the current cell is spanning across multiple columns, we need to move\n            // our current position to be the last cell on the right before finding the\n            // the next target.\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                if (key === KeyCode.LEFT) {\n                    nextCell = this.getLastCellOfColSpan(nextCell);\n                }\n            }\n            else if (key === KeyCode.RIGHT) {\n                nextCell = this.getLastCellOfColSpan(nextCell);\n            }\n            nextCell = this.cellNavigationService.getNextCellToFocus(key, nextCell);\n            // eg if going down, and nextCell=undefined, means we are gone past the last row\n            hitEdgeOfGrid = missing(nextCell);\n        }\n        if (hitEdgeOfGrid && event && event.keyCode === KeyCode.UP) {\n            nextCell = {\n                rowIndex: -1,\n                rowPinned: null,\n                column: currentCell.column\n            };\n        }\n        // allow user to override what cell to go to next. when doing normal cell navigation (with keys)\n        // we allow this, however if processing 'enter after edit' we don't allow override\n        if (allowUserOverride) {\n            var userFunc = this.gridOptionsWrapper.getNavigateToNextCellFunc();\n            if (exists(userFunc)) {\n                var params = {\n                    key: key,\n                    previousCellPosition: currentCell,\n                    nextCellPosition: nextCell ? nextCell : null,\n                    event: event\n                };\n                var userCell = userFunc(params);\n                if (exists(userCell)) {\n                    if (userCell.floating) {\n                        doOnce(function () { console.warn(\"ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\"); }, 'no floating in userCell');\n                        userCell.rowPinned = userCell.floating;\n                    }\n                    nextCell = {\n                        rowPinned: userCell.rowPinned,\n                        rowIndex: userCell.rowIndex,\n                        column: userCell.column\n                    };\n                }\n                else {\n                    nextCell = null;\n                }\n            }\n        }\n        // no next cell means we have reached a grid boundary, eg left, right, top or bottom of grid\n        if (!nextCell) {\n            return;\n        }\n        if (nextCell.rowIndex < 0) {\n            var headerLen = this.beans.headerNavigationService.getHeaderRowCount();\n            this.focusController.focusHeaderPosition({\n                headerRowIndex: headerLen + (nextCell.rowIndex), column: currentCell.column\n            });\n            return;\n        }\n        // in case we have col spanning we get the cellComp and use it to\n        // get the position. This was we always focus the first cell inside\n        // the spanning.\n        this.ensureCellVisible(nextCell); // ensureCellVisible first, to make sure nextCell is rendered\n        var cellComp = this.getComponentForCell(nextCell);\n        // not guaranteed to have a cellComp when using the SSRM as blocks are loading.\n        if (!cellComp) {\n            return;\n        }\n        nextCell = cellComp.getCellPosition();\n        // we call this again, as nextCell can be different to it's previous value due to Column Spanning\n        // (ie if cursor moving from right to left, and cell is spanning columns, then nextCell was the\n        // last column in the group, however now it's the first column in the group). if we didn't do\n        // ensureCellVisible again, then we could only be showing the last portion (last column) of the\n        // merged cells.\n        this.ensureCellVisible(nextCell);\n        this.focusController.setFocusedCell(nextCell.rowIndex, nextCell.column, nextCell.rowPinned, true);\n        if (this.rangeController) {\n            this.rangeController.setRangeToCell(nextCell);\n        }\n    };\n    RowRenderer.prototype.isValidNavigateCell = function (cell) {\n        var rowNode = this.rowPositionUtils.getRowNode(cell);\n        // we do not allow focusing on detail rows and full width rows\n        if (rowNode.detail || rowNode.isFullWidthCell()) {\n            return false;\n        }\n        // if not a group, then we have a valid row, so quit the search\n        if (!rowNode.group) {\n            return true;\n        }\n        // full width rows cannot be focused, so if it's a group and using full width rows,\n        // we need to skip over the row\n        var pivotMode = this.columnController.isPivotMode();\n        var usingFullWidthRows = this.gridOptionsWrapper.isGroupUseEntireRow(pivotMode);\n        if (!usingFullWidthRows) {\n            return true;\n        }\n        return false;\n    };\n    RowRenderer.prototype.getLastCellOfColSpan = function (cell) {\n        var cellComp = this.getComponentForCell(cell);\n        if (!cellComp) {\n            return cell;\n        }\n        var colSpanningList = cellComp.getColSpanningList();\n        if (colSpanningList.length === 1) {\n            return cell;\n        }\n        return {\n            rowIndex: cell.rowIndex,\n            column: last(colSpanningList),\n            rowPinned: cell.rowPinned\n        };\n    };\n    RowRenderer.prototype.ensureCellVisible = function (gridCell) {\n        // this scrolls the row into view\n        if (missing(gridCell.rowPinned)) {\n            this.gridPanel.ensureIndexVisible(gridCell.rowIndex);\n        }\n        if (!gridCell.column.isPinned()) {\n            this.gridPanel.ensureColumnVisible(gridCell.column);\n        }\n        // need to nudge the scrolls for the floating items. otherwise when we set focus on a non-visible\n        // floating cell, the scrolls get out of sync\n        this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();\n        // need to flush frames, to make sure the correct cells are rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    RowRenderer.prototype.startEditingCell = function (gridCell, keyPress, charPress) {\n        var cell = this.getComponentForCell(gridCell);\n        if (cell) {\n            cell.startRowOrCellEdit(keyPress, charPress);\n        }\n    };\n    RowRenderer.prototype.getComponentForCell = function (cellPosition) {\n        var rowComponent;\n        switch (cellPosition.rowPinned) {\n            case Constants.PINNED_TOP:\n                rowComponent = this.floatingTopRowComps[cellPosition.rowIndex];\n                break;\n            case Constants.PINNED_BOTTOM:\n                rowComponent = this.floatingBottomRowComps[cellPosition.rowIndex];\n                break;\n            default:\n                rowComponent = this.rowCompsByIndex[cellPosition.rowIndex];\n                break;\n        }\n        if (!rowComponent) {\n            return null;\n        }\n        var cellComponent = rowComponent.getRenderedCellForColumn(cellPosition.column);\n        return cellComponent;\n    };\n    RowRenderer.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    RowRenderer.prototype.onTabKeyDown = function (previousRenderedCell, keyboardEvent) {\n        var backwards = keyboardEvent.shiftKey;\n        var success = this.moveToCellAfter(previousRenderedCell, backwards);\n        if (success) {\n            keyboardEvent.preventDefault();\n        }\n        else if (keyboardEvent.shiftKey) {\n            var _a = previousRenderedCell.getCellPosition(), rowIndex = _a.rowIndex, rowPinned = _a.rowPinned;\n            var firstRow = rowPinned ? rowIndex === 0 : rowIndex === this.paginationProxy.getPageFirstRow();\n            if (firstRow) {\n                keyboardEvent.preventDefault();\n                this.focusController.focusHeaderPosition({\n                    headerRowIndex: this.beans.headerNavigationService.getHeaderRowCount() - 1,\n                    column: last(this.columnController.getAllDisplayedColumns())\n                });\n            }\n        }\n    };\n    RowRenderer.prototype.tabToNextCell = function (backwards) {\n        var focusedCell = this.focusController.getFocusedCell();\n        // if no focus, then cannot navigate\n        if (missing(focusedCell)) {\n            return false;\n        }\n        var renderedCell = this.getComponentForCell(focusedCell);\n        // if cell is not rendered, means user has scrolled away from the cell\n        if (missing(renderedCell)) {\n            return false;\n        }\n        var result = this.moveToCellAfter(renderedCell, backwards);\n        return result;\n    };\n    RowRenderer.prototype.moveToCellAfter = function (previousRenderedCell, backwards) {\n        var editing = previousRenderedCell.isEditing();\n        var res;\n        if (editing) {\n            if (this.gridOptionsWrapper.isFullRowEdit()) {\n                res = this.moveToNextEditingRow(previousRenderedCell, backwards);\n            }\n            else {\n                res = this.moveToNextEditingCell(previousRenderedCell, backwards);\n            }\n        }\n        else {\n            res = this.moveToNextCellNotEditing(previousRenderedCell, backwards);\n        }\n        return res;\n    };\n    RowRenderer.prototype.moveToNextEditingCell = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // need to do this before getting next cell to edit, in case the next cell\n        // has editable function (eg colDef.editable=func() ) and it depends on the\n        // result of this cell, so need to save updates from the first edit, in case\n        // the value is referenced in the function.\n        previousRenderedCell.stopEditing();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, true);\n        var foundCell = exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            nextRenderedCell.startEditingIfEnabled(null, null, true);\n            nextRenderedCell.focusCell(false);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveToNextEditingRow = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, true);\n        var foundCell = exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            this.moveEditToNextCellOrRow(previousRenderedCell, nextRenderedCell);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveToNextCellNotEditing = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, false);\n        var foundCell = exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            nextRenderedCell.focusCell(true);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveEditToNextCellOrRow = function (previousRenderedCell, nextRenderedCell) {\n        var pGridCell = previousRenderedCell.getCellPosition();\n        var nGridCell = nextRenderedCell.getCellPosition();\n        var rowsMatch = pGridCell.rowIndex === nGridCell.rowIndex && pGridCell.rowPinned === nGridCell.rowPinned;\n        if (rowsMatch) {\n            // same row, so we don't start / stop editing, we just move the focus along\n            previousRenderedCell.setFocusOutOnEditor();\n            nextRenderedCell.setFocusInOnEditor();\n        }\n        else {\n            var pRow = previousRenderedCell.getRenderedRow();\n            var nRow = nextRenderedCell.getRenderedRow();\n            previousRenderedCell.setFocusOutOnEditor();\n            pRow.stopEditing();\n            nRow.startRowEditing();\n            nextRenderedCell.setFocusInOnEditor();\n        }\n        nextRenderedCell.focusCell();\n    };\n    // called by the cell, when tab is pressed while editing.\n    // @return: RenderedCell when navigation successful, otherwise null\n    RowRenderer.prototype.findNextCellToFocusOn = function (gridCell, backwards, startEditing) {\n        var nextCell = gridCell;\n        while (true) {\n            if (!backwards) {\n                nextCell = this.getLastCellOfColSpan(nextCell);\n            }\n            nextCell = this.cellNavigationService.getNextTabbedCell(nextCell, backwards);\n            // allow user to override what cell to go to next\n            var userFunc = this.gridOptionsWrapper.getTabToNextCellFunc();\n            if (exists(userFunc)) {\n                var params = {\n                    backwards: backwards,\n                    editing: startEditing,\n                    previousCellPosition: gridCell,\n                    nextCellPosition: nextCell ? nextCell : null\n                };\n                var userCell = userFunc(params);\n                if (exists(userCell)) {\n                    if (userCell.floating) {\n                        doOnce(function () { console.warn(\"ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\"); }, 'no floating in userCell');\n                        userCell.rowPinned = userCell.floating;\n                    }\n                    nextCell = {\n                        rowIndex: userCell.rowIndex,\n                        column: userCell.column,\n                        rowPinned: userCell.rowPinned\n                    };\n                }\n                else {\n                    nextCell = null;\n                }\n            }\n            // if no 'next cell', means we have got to last cell of grid, so nothing to move to,\n            // so bottom right cell going forwards, or top left going backwards\n            if (!nextCell) {\n                return null;\n            }\n            // if editing, but cell not editable, skip cell. we do this before we do all of\n            // the 'ensure index visible' and 'flush all frames', otherwise if we are skipping\n            // a bunch of cells (eg 10 rows) then all the work on ensuring cell visible is useless\n            // (except for the last one) which causes grid to stall for a while.\n            if (startEditing) {\n                var rowNode = this.lookupRowNodeForCell(nextCell);\n                var cellIsEditable = nextCell.column.isCellEditable(rowNode);\n                if (!cellIsEditable) {\n                    continue;\n                }\n            }\n            // this scrolls the row into view\n            var cellIsNotFloating = missing(nextCell.rowPinned);\n            if (cellIsNotFloating) {\n                this.gridPanel.ensureIndexVisible(nextCell.rowIndex);\n            }\n            // pinned columns don't scroll, so no need to ensure index visible\n            if (!nextCell.column.isPinned()) {\n                this.gridPanel.ensureColumnVisible(nextCell.column);\n            }\n            // need to nudge the scrolls for the floating items. otherwise when we set focus on a non-visible\n            // floating cell, the scrolls get out of sync\n            this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();\n            // get the grid panel to flush all animation frames - otherwise the call below to get the cellComp\n            // could fail, if we just scrolled the grid (to make a cell visible) and the rendering hasn't finished.\n            this.animationFrameService.flushAllFrames();\n            // we have to call this after ensureColumnVisible - otherwise it could be a virtual column\n            // or row that is not currently in view, hence the renderedCell would not exist\n            var nextCellComp = this.getComponentForCell(nextCell);\n            // if next cell is fullWidth row, then no rendered cell,\n            // as fullWidth rows have no cells, so we skip it\n            if (missing(nextCellComp)) {\n                continue;\n            }\n            if (nextCellComp.isSuppressNavigable()) {\n                continue;\n            }\n            // by default, when we click a cell, it gets selected into a range, so to keep keyboard navigation\n            // consistent, we set into range here also.\n            if (this.rangeController) {\n                this.rangeController.setRangeToCell(nextCell);\n            }\n            // we successfully tabbed onto a grid cell, so return true\n            return nextCellComp;\n        }\n    };\n    RowRenderer.prototype.lookupRowNodeForCell = function (cell) {\n        if (cell.rowPinned === Constants.PINNED_TOP) {\n            return this.pinnedRowModel.getPinnedTopRow(cell.rowIndex);\n        }\n        if (cell.rowPinned === Constants.PINNED_BOTTOM) {\n            return this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex);\n        }\n        return this.paginationProxy.getRow(cell.rowIndex);\n    };\n    __decorate([\n        Autowired(\"paginationProxy\")\n    ], RowRenderer.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired(\"columnController\")\n    ], RowRenderer.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired(\"gridOptionsWrapper\")\n    ], RowRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired(\"$scope\")\n    ], RowRenderer.prototype, \"$scope\", void 0);\n    __decorate([\n        Autowired(\"pinnedRowModel\")\n    ], RowRenderer.prototype, \"pinnedRowModel\", void 0);\n    __decorate([\n        Autowired(\"rowModel\")\n    ], RowRenderer.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired(\"loggerFactory\")\n    ], RowRenderer.prototype, \"loggerFactory\", void 0);\n    __decorate([\n        Autowired(\"focusController\")\n    ], RowRenderer.prototype, \"focusController\", void 0);\n    __decorate([\n        Autowired(\"cellNavigationService\")\n    ], RowRenderer.prototype, \"cellNavigationService\", void 0);\n    __decorate([\n        Autowired(\"columnApi\")\n    ], RowRenderer.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired(\"gridApi\")\n    ], RowRenderer.prototype, \"gridApi\", void 0);\n    __decorate([\n        Autowired(\"beans\")\n    ], RowRenderer.prototype, \"beans\", void 0);\n    __decorate([\n        Autowired(\"maxDivHeightScaler\")\n    ], RowRenderer.prototype, \"maxDivHeightScaler\", void 0);\n    __decorate([\n        Autowired(\"animationFrameService\")\n    ], RowRenderer.prototype, \"animationFrameService\", void 0);\n    __decorate([\n        Autowired(\"rowPositionUtils\")\n    ], RowRenderer.prototype, \"rowPositionUtils\", void 0);\n    __decorate([\n        Optional(\"rangeController\")\n    ], RowRenderer.prototype, \"rangeController\", void 0);\n    __decorate([\n        __param(0, Qualifier(\"loggerFactory\"))\n    ], RowRenderer.prototype, \"agWire\", null);\n    RowRenderer = __decorate([\n        Bean(\"rowRenderer\")\n    ], RowRenderer);\n    return RowRenderer;\n}(BeanStub));\nexport { RowRenderer };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgAbstractField } from \"./agAbstractField\";\nimport { Autowired } from \"../context/context\";\nimport { RefSelector } from \"./componentAnnotations\";\nimport { setAriaLabelledBy, setAriaLabel, setAriaDescribedBy } from \"../utils/aria\";\nimport { createIconNoSpan } from \"../utils/icon\";\nimport { exists } from \"../utils/generic\";\nimport { setElementWidth, isVisible } from \"../utils/dom\";\nimport { KeyCode } from '../constants/keyCode';\nvar AgPickerField = /** @class */ (function (_super) {\n    __extends(AgPickerField, _super);\n    function AgPickerField(config, className, pickerIcon, popupRole) {\n        var _this = _super.call(this, config, /* html */ \"<div class=\\\"ag-picker-field\\\" role=\\\"presentation\\\">\\n                <div ref=\\\"eLabel\\\"></div>\\n                <div ref=\\\"eWrapper\\\"\\n                    class=\\\"ag-wrapper ag-picker-field-wrapper\\\"\\n                    tabIndex=\\\"-1\\\"\\n                    \" + (popupRole ? \"aria-haspopup=\\\"\" + popupRole + \"\\\"\" : '') + \">\\n                    <div ref=\\\"eDisplayField\\\" class=\\\"ag-picker-field-display\\\"></div>\\n                    <div ref=\\\"eIcon\\\" class=\\\"ag-picker-field-icon\\\" aria-hidden=\\\"true\\\"></div>\\n                </div>\\n            </div>\", className) || this;\n        _this.pickerIcon = pickerIcon;\n        _this.isPickerDisplayed = false;\n        _this.isDestroyingPicker = false;\n        _this.skipClick = false;\n        return _this;\n    }\n    AgPickerField.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        var displayId = this.getCompId() + \"-display\";\n        this.eDisplayField.setAttribute('id', displayId);\n        setAriaDescribedBy(this.eWrapper, displayId);\n        var clickHandler = function () {\n            if (_this.skipClick) {\n                _this.skipClick = false;\n                return;\n            }\n            if (_this.isDisabled()) {\n                return;\n            }\n            _this.pickerComponent = _this.showPicker();\n        };\n        var eGui = this.getGui();\n        this.addManagedListener(eGui, 'mousedown', function (e) {\n            if (!_this.skipClick &&\n                _this.pickerComponent &&\n                _this.pickerComponent.isAlive() &&\n                isVisible(_this.pickerComponent.getGui()) &&\n                eGui.contains(e.target)) {\n                _this.skipClick = true;\n            }\n        });\n        this.addManagedListener(eGui, 'keydown', function (e) {\n            switch (e.keyCode) {\n                case KeyCode.UP:\n                case KeyCode.DOWN:\n                case KeyCode.ENTER:\n                case KeyCode.SPACE:\n                    clickHandler();\n                case KeyCode.ESCAPE:\n                    if (_this.isPickerDisplayed) {\n                        e.preventDefault();\n                    }\n                    break;\n            }\n        });\n        this.addManagedListener(this.eWrapper, 'click', clickHandler);\n        this.addManagedListener(this.eLabel, 'click', clickHandler);\n        if (this.pickerIcon) {\n            this.eIcon.appendChild(createIconNoSpan(this.pickerIcon, this.gridOptionsWrapper));\n        }\n    };\n    AgPickerField.prototype.refreshLabel = function () {\n        if (exists(this.getLabel())) {\n            setAriaLabelledBy(this.eWrapper, this.getLabelId());\n        }\n        else {\n            this.eWrapper.removeAttribute('aria-labelledby');\n        }\n        _super.prototype.refreshLabel.call(this);\n    };\n    AgPickerField.prototype.setAriaLabel = function (label) {\n        setAriaLabel(this.eWrapper, label);\n        return this;\n    };\n    AgPickerField.prototype.setInputWidth = function (width) {\n        setElementWidth(this.eWrapper, width);\n        return this;\n    };\n    AgPickerField.prototype.getFocusableElement = function () {\n        return this.eWrapper;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AgPickerField.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eLabel')\n    ], AgPickerField.prototype, \"eLabel\", void 0);\n    __decorate([\n        RefSelector('eWrapper')\n    ], AgPickerField.prototype, \"eWrapper\", void 0);\n    __decorate([\n        RefSelector('eDisplayField')\n    ], AgPickerField.prototype, \"eDisplayField\", void 0);\n    __decorate([\n        RefSelector('eIcon')\n    ], AgPickerField.prototype, \"eIcon\", void 0);\n    return AgPickerField;\n}(AgAbstractField));\nexport { AgPickerField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, BeanStub, _ } from \"@ag-grid-community/core\";\n// table for crc calculation\n// from: https://referencesource.microsoft.com/#System/sys/System/IO/compression/Crc32Helper.cs,3b31978c7d7f7246,references\nvar crcTable = [\n    0, 1996959894, -301047508, -1727442502, 124634137, 1886057615, -379345611, -1637575261, 249268274,\n    2044508324, -522852066, -1747789432, 162941995, 2125561021, -407360249, -1866523247, 498536548,\n    1789927666, -205950648, -2067906082, 450548861, 1843258603, -187386543, -2083289657, 325883990,\n    1684777152, -43845254, -1973040660, 335633487, 1661365465, -99664541, -1928851979, 997073096,\n    1281953886, -715111964, -1570279054, 1006888145, 1258607687, -770865667, -1526024853, 901097722,\n    1119000684, -608450090, -1396901568, 853044451, 1172266101, -589951537, -1412350631, 651767980,\n    1373503546, -925412992, -1076862698, 565507253, 1454621731, -809855591, -1195530993, 671266974,\n    1594198024, -972236366, -1324619484, 795835527, 1483230225, -1050600021, -1234817731, 1994146192,\n    31158534, -1731059524, -271249366, 1907459465, 112637215, -1614814043, -390540237, 2013776290,\n    251722036, -1777751922, -519137256, 2137656763, 141376813, -1855689577, -429695999, 1802195444,\n    476864866, -2056965928, -228458418, 1812370925, 453092731, -2113342271, -183516073, 1706088902,\n    314042704, -1950435094, -54949764, 1658658271, 366619977, -1932296973, -69972891, 1303535960,\n    984961486, -1547960204, -725929758, 1256170817, 1037604311, -1529756563, -740887301, 1131014506,\n    879679996, -1385723834, -631195440, 1141124467, 855842277, -1442165665, -586318647, 1342533948,\n    654459306, -1106571248, -921952122, 1466479909, 544179635, -1184443383, -832445281, 1591671054,\n    702138776, -1328506846, -942167884, 1504918807, 783551873, -1212326853, -1061524307, -306674912,\n    -1698712650, 62317068, 1957810842, -355121351, -1647151185, 81470997, 1943803523, -480048366,\n    -1805370492, 225274430, 2053790376, -468791541, -1828061283, 167816743, 2097651377, -267414716,\n    -2029476910, 503444072, 1762050814, -144550051, -2140837941, 426522225, 1852507879, -19653770,\n    -1982649376, 282753626, 1742555852, -105259153, -1900089351, 397917763, 1622183637, -690576408,\n    -1580100738, 953729732, 1340076626, -776247311, -1497606297, 1068828381, 1219638859, -670225446,\n    -1358292148, 906185462, 1090812512, -547295293, -1469587627, 829329135, 1181335161, -882789492,\n    -1134132454, 628085408, 1382605366, -871598187, -1156888829, 570562233, 1426400815, -977650754,\n    -1296233688, 733239954, 1555261956, -1026031705, -1244606671, 752459403, 1541320221, -1687895376,\n    -328994266, 1969922972, 40735498, -1677130071, -351390145, 1913087877, 83908371, -1782625662,\n    -491226604, 2075208622, 213261112, -1831694693, -438977011, 2094854071, 198958881, -2032938284,\n    -237706686, 1759359992, 534414190, -2118248755, -155638181, 1873836001, 414664567, -2012718362,\n    -15766928, 1711684554, 285281116, -1889165569, -127750551, 1634467795, 376229701, -1609899400,\n    -686959890, 1308918612, 956543938, -1486412191, -799009033, 1231636301, 1047427035, -1362007478,\n    -640263460, 1088359270, 936918000, -1447252397, -558129467, 1202900863, 817233897, -1111625188,\n    -893730166, 1404277552, 615818150, -1160759803, -841546093, 1423857449, 601450431, -1285129682,\n    -1000256840, 1567103746, 711928724, -1274298825, -1022587231, 1510334235, 755167117\n];\nvar ZipContainer = /** @class */ (function (_super) {\n    __extends(ZipContainer, _super);\n    function ZipContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.folders = [];\n        _this.files = [];\n        _this.addFolder = function (path) {\n            _this.folders.push({\n                path: path,\n                created: new Date()\n            });\n        };\n        return _this;\n    }\n    ZipContainer.prototype.addFolders = function (paths) {\n        paths.forEach(this.addFolder);\n    };\n    ZipContainer.prototype.addFile = function (path, content) {\n        this.files.push({\n            path: path,\n            created: new Date(),\n            content: content\n        });\n    };\n    ZipContainer.prototype.clearStream = function () {\n        this.folders = [];\n        this.files = [];\n    };\n    ZipContainer.prototype.getContent = function (mimeType) {\n        if (mimeType === void 0) { mimeType = 'application/zip'; }\n        var textOutput = this.buildFileStream();\n        var uInt8Output = this.buildUint8Array(textOutput);\n        this.clearStream();\n        return new Blob([uInt8Output], { type: mimeType });\n    };\n    ZipContainer.prototype.buildFileStream = function (fData) {\n        if (fData === void 0) { fData = ''; }\n        var totalFiles = this.folders.concat(this.files);\n        var len = totalFiles.length;\n        var foData = '';\n        var lL = 0;\n        var cL = 0;\n        for (var _i = 0, totalFiles_1 = totalFiles; _i < totalFiles_1.length; _i++) {\n            var currentFile = totalFiles_1[_i];\n            var _a = this.getHeader(currentFile, lL), fileHeader = _a.fileHeader, folderHeader = _a.folderHeader, content = _a.content;\n            lL += fileHeader.length + content.length;\n            cL += folderHeader.length;\n            fData += fileHeader + content;\n            foData += folderHeader;\n        }\n        var foEnd = this.buildFolderEnd(len, cL, lL);\n        return fData + foData + foEnd;\n    };\n    ZipContainer.prototype.getHeader = function (currentFile, offset) {\n        var content = currentFile.content, path = currentFile.path, created = currentFile.created;\n        var utf8_encode = _.utf8_encode, decToHex = _.decToHex;\n        var utfPath = utf8_encode(path);\n        var isUTF8 = utfPath !== path;\n        var time = this.convertTime(created);\n        var dt = this.convertDate(created);\n        var extraFields = '';\n        if (isUTF8) {\n            var uExtraFieldPath = decToHex(1, 1) + decToHex(this.getFromCrc32Table(utfPath), 4) + utfPath;\n            extraFields = \"\\x75\\x70\" + decToHex(uExtraFieldPath.length, 2) + uExtraFieldPath;\n        }\n        var header = '\\x0A\\x00' +\n            (isUTF8 ? '\\x00\\x08' : '\\x00\\x00') +\n            '\\x00\\x00' +\n            decToHex(time, 2) + // last modified time\n            decToHex(dt, 2) + // last modified date\n            decToHex(content ? this.getFromCrc32Table(content) : 0, 4) +\n            decToHex(content ? content.length : 0, 4) + // compressed size\n            decToHex(content ? content.length : 0, 4) + // uncompressed size\n            decToHex(utfPath.length, 2) + // file name length\n            decToHex(extraFields.length, 2); // extra field length\n        var fileHeader = 'PK\\x03\\x04' + header + utfPath + extraFields;\n        var folderHeader = 'PK\\x01\\x02' + // central header\n            '\\x14\\x00' +\n            header + // file header\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            (content ? '\\x00\\x00\\x00\\x00' : '\\x10\\x00\\x00\\x00') + // external file attributes\n            decToHex(offset, 4) + // relative offset of local header\n            utfPath + // file name\n            extraFields; // extra field\n        return { fileHeader: fileHeader, folderHeader: folderHeader, content: content || '' };\n    };\n    ZipContainer.prototype.buildFolderEnd = function (tLen, cLen, lLen) {\n        var decToHex = _.decToHex;\n        return 'PK\\x05\\x06' + // central folder end\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            decToHex(tLen, 2) + // total number of entries in the central folder\n            decToHex(tLen, 2) + // total number of entries in the central folder\n            decToHex(cLen, 4) + // size of the central folder\n            decToHex(lLen, 4) + // central folder start offset\n            '\\x00\\x00';\n    };\n    ZipContainer.prototype.buildUint8Array = function (content) {\n        var uint8 = new Uint8Array(content.length);\n        for (var i = 0; i < uint8.length; i++) {\n            uint8[i] = content.charCodeAt(i);\n        }\n        return uint8;\n    };\n    ZipContainer.prototype.getFromCrc32Table = function (content, crc) {\n        if (crc === void 0) { crc = 0; }\n        if (!content.length) {\n            return 0;\n        }\n        crc ^= (-1);\n        var j = 0;\n        var k = 0;\n        var l = 0;\n        for (var i = 0; i < content.length; i++) {\n            j = content.charCodeAt(i);\n            k = (crc ^ j) & 0xFF;\n            l = crcTable[k];\n            crc = (crc >>> 8) ^ l;\n        }\n        return crc ^ (-1);\n    };\n    ZipContainer.prototype.convertTime = function (date) {\n        var time = date.getHours();\n        time <<= 6;\n        time = time | date.getMinutes();\n        time <<= 5;\n        time = time | date.getSeconds() / 2;\n        return time;\n    };\n    ZipContainer.prototype.convertDate = function (date) {\n        var dt = date.getFullYear() - 1980;\n        dt <<= 4;\n        dt = dt | (date.getMonth() + 1);\n        dt <<= 5;\n        dt = dt | date.getDate();\n        return dt;\n    };\n    ZipContainer = __decorate([\n        Bean('zipContainer')\n    ], ZipContainer);\n    return ZipContainer;\n}(BeanStub));\nexport { ZipContainer };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"../../context/context\";\nimport { Component } from \"../../widgets/component\";\nvar LoadingOverlayComponent = /** @class */ (function (_super) {\n    __extends(LoadingOverlayComponent, _super);\n    function LoadingOverlayComponent() {\n        return _super.call(this) || this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    LoadingOverlayComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    LoadingOverlayComponent.prototype.init = function (params) {\n        var template = this.gridOptionsWrapper.getOverlayLoadingTemplate() ?\n            this.gridOptionsWrapper.getOverlayLoadingTemplate() : LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE;\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var localisedTemplate = template.replace('[LOADING...]', localeTextFunc('loadingOoo', 'Loading...'));\n        this.setTemplate(localisedTemplate);\n    };\n    LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE = '<span class=\"ag-overlay-loading-center\">[LOADING...]</span>';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], LoadingOverlayComponent.prototype, \"gridOptionsWrapper\", void 0);\n    return LoadingOverlayComponent;\n}(Component));\nexport { LoadingOverlayComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Bean } from \"../context/context\";\nimport { Qualifier } from \"../context/context\";\nimport { BeanStub } from \"../context/beanStub\";\nvar ExpressionService = /** @class */ (function (_super) {\n    __extends(ExpressionService, _super);\n    function ExpressionService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.expressionToFunctionCache = {};\n        return _this;\n    }\n    ExpressionService.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ExpressionService');\n    };\n    ExpressionService.prototype.evaluate = function (expressionOrFunc, params) {\n        if (typeof expressionOrFunc === 'function') {\n            // valueGetter is a function, so just call it\n            var func = expressionOrFunc;\n            return func(params);\n        }\n        else if (typeof expressionOrFunc === 'string') {\n            // valueGetter is an expression, so execute the expression\n            var expression = expressionOrFunc;\n            return this.evaluateExpression(expression, params);\n        }\n        else {\n            console.error('ag-Grid: value should be either a string or a function', expressionOrFunc);\n        }\n    };\n    ExpressionService.prototype.evaluateExpression = function (expression, params) {\n        try {\n            var javaScriptFunction = this.createExpressionFunction(expression);\n            // the params don't have all these values, rather we add every possible\n            // value a params can have, which makes whatever is in the params available.\n            var result = javaScriptFunction(params.value, params.context, params.oldValue, params.newValue, params.value, params.node, params.data, params.colDef, params.rowIndex, params.api, params.columnApi, params.getValue, params.column, params.columnGroup);\n            return result;\n        }\n        catch (e) {\n            // the expression failed, which can happen, as it's the client that\n            // provides the expression. so print a nice message\n            // tslint:disable-next-line\n            console.log('Processing of the expression failed');\n            // tslint:disable-next-line\n            console.log('Expression = ' + expression);\n            // tslint:disable-next-line\n            console.log('Params =', params);\n            // tslint:disable-next-line\n            console.log('Exception = ' + e);\n            return null;\n        }\n    };\n    ExpressionService.prototype.createExpressionFunction = function (expression) {\n        // check cache first\n        if (this.expressionToFunctionCache[expression]) {\n            return this.expressionToFunctionCache[expression];\n        }\n        // if not found in cache, return the function\n        var functionBody = this.createFunctionBody(expression);\n        var theFunction = new Function('x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup', functionBody);\n        // store in cache\n        this.expressionToFunctionCache[expression] = theFunction;\n        return theFunction;\n    };\n    ExpressionService.prototype.createFunctionBody = function (expression) {\n        // if the expression has the 'return' word in it, then use as is,\n        // if not, then wrap it with return and ';' to make a function\n        if (expression.indexOf('return') >= 0) {\n            return expression;\n        }\n        else {\n            return 'return ' + expression + ';';\n        }\n    };\n    __decorate([\n        __param(0, Qualifier('loggerFactory'))\n    ], ExpressionService.prototype, \"setBeans\", null);\n    ExpressionService = __decorate([\n        Bean('expressionService')\n    ], ExpressionService);\n    return ExpressionService;\n}(BeanStub));\nexport { ExpressionService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { addOrRemoveCssClass } from '../utils/dom';\nimport { AgCheckbox } from './agCheckbox';\nvar AgToggleButton = /** @class */ (function (_super) {\n    __extends(AgToggleButton, _super);\n    function AgToggleButton(config) {\n        return _super.call(this, config, 'ag-toggle-button') || this;\n    }\n    AgToggleButton.prototype.setValue = function (value, silent) {\n        _super.prototype.setValue.call(this, value, silent);\n        addOrRemoveCssClass(this.getGui(), 'ag-selected', this.getValue());\n        return this;\n    };\n    return AgToggleButton;\n}(AgCheckbox));\nexport { AgToggleButton };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { BeanStub } from \"../context/beanStub\";\nvar AnimationFrameService = /** @class */ (function (_super) {\n    __extends(AnimationFrameService, _super);\n    function AnimationFrameService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // p1 and p2 are create tasks are to do with row and cell creation.\n        // for them we want to execute according to row order, so we use\n        // TaskItem so we know what index the item is for.\n        _this.createTasksP1 = { list: [], sorted: false }; // eg drawing back-ground of rows\n        _this.createTasksP2 = { list: [], sorted: false }; // eg cell renderers, adding hover functionality\n        // destroy tasks are to do with row removal. they are done after row creation as the user will need to see new\n        // rows first (as blank is scrolled into view), when we remove the old rows (no longer in view) is not as\n        // important.\n        _this.destroyTasks = [];\n        _this.ticking = false;\n        // we need to know direction of scroll, to build up rows in the direction of\n        // the scroll. eg if user scrolls down, we extend the rows by building down.\n        _this.scrollGoingDown = true;\n        _this.lastScrollTop = 0;\n        _this.taskCount = 0;\n        _this.cancelledTasks = new Set();\n        return _this;\n    }\n    AnimationFrameService.prototype.setScrollTop = function (scrollTop) {\n        this.scrollGoingDown = scrollTop > this.lastScrollTop;\n        this.lastScrollTop = scrollTop;\n    };\n    AnimationFrameService.prototype.init = function () {\n        this.useAnimationFrame = !this.gridOptionsWrapper.isSuppressAnimationFrame();\n    };\n    // this method is for our ag-Grid sanity only - if animation frames are turned off,\n    // then no place in the code should be looking to add any work to be done in animation\n    // frames. this stops bugs - where some code is asking for a frame to be executed\n    // when it should not.\n    AnimationFrameService.prototype.verifyAnimationFrameOn = function (methodName) {\n        if (this.useAnimationFrame === false) {\n            console.warn(\"ag-Grid: AnimationFrameService.\" + methodName + \" called but animation frames are off\");\n        }\n    };\n    AnimationFrameService.prototype.createTask = function (task, index, list) {\n        this.verifyAnimationFrameOn(list);\n        var taskItem = { task: task, index: index, createOrder: ++this.taskCount };\n        this.addTaskToList(this[list], taskItem);\n        this.schedule();\n    };\n    AnimationFrameService.prototype.cancelTask = function (task) {\n        this.cancelledTasks.add(task);\n    };\n    AnimationFrameService.prototype.addTaskToList = function (taskList, task) {\n        taskList.list.push(task);\n        taskList.sorted = false;\n    };\n    AnimationFrameService.prototype.sortTaskList = function (taskList) {\n        if (taskList.sorted) {\n            return;\n        }\n        var sortDirection = this.scrollGoingDown ? 1 : -1;\n        // sort first by row index (taking into account scroll direction), then by\n        // order of task creation (always ascending, so cells will render left-to-right)\n        taskList.list.sort(function (a, b) { return a.index !== b.index ? sortDirection * (b.index - a.index) : b.createOrder - a.createOrder; });\n        taskList.sorted = true;\n    };\n    AnimationFrameService.prototype.addDestroyTask = function (task) {\n        this.verifyAnimationFrameOn('createTasksP3');\n        this.destroyTasks.push(task);\n        this.schedule();\n    };\n    AnimationFrameService.prototype.executeFrame = function (millis) {\n        this.verifyAnimationFrameOn('executeFrame');\n        var p1TaskList = this.createTasksP1;\n        var p1Tasks = p1TaskList.list;\n        var p2TaskList = this.createTasksP2;\n        var p2Tasks = p2TaskList.list;\n        var destroyTasks = this.destroyTasks;\n        var frameStart = new Date().getTime();\n        var duration = (new Date().getTime()) - frameStart;\n        // 16ms is 60 fps\n        var noMaxMillis = millis <= 0;\n        while (noMaxMillis || duration < millis) {\n            var task = void 0;\n            if (p1Tasks.length) {\n                this.sortTaskList(p1TaskList);\n                task = p1Tasks.pop().task;\n            }\n            else if (p2Tasks.length) {\n                this.sortTaskList(p2TaskList);\n                task = p2Tasks.pop().task;\n            }\n            else if (destroyTasks.length) {\n                task = destroyTasks.pop();\n            }\n            else {\n                this.cancelledTasks.clear();\n                break;\n            }\n            if (!this.cancelledTasks.has(task)) {\n                task();\n            }\n            duration = (new Date().getTime()) - frameStart;\n        }\n        if (p1Tasks.length || p2Tasks.length || destroyTasks.length) {\n            this.requestFrame();\n        }\n        else {\n            this.stopTicking();\n        }\n    };\n    AnimationFrameService.prototype.stopTicking = function () {\n        this.ticking = false;\n        var event = {\n            type: Events.EVENT_ANIMATION_QUEUE_EMPTY,\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            api: this.gridOptionsWrapper.getApi()\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    AnimationFrameService.prototype.flushAllFrames = function () {\n        if (!this.useAnimationFrame) {\n            return;\n        }\n        this.executeFrame(-1);\n    };\n    AnimationFrameService.prototype.schedule = function () {\n        if (!this.useAnimationFrame) {\n            return;\n        }\n        if (!this.ticking) {\n            this.ticking = true;\n            this.requestFrame();\n        }\n    };\n    AnimationFrameService.prototype.requestFrame = function () {\n        // check for the existence of requestAnimationFrame, and if\n        // it's missing, then we polyfill it with setTimeout()\n        var callback = this.executeFrame.bind(this, 60);\n        if (window.requestAnimationFrame) {\n            window.requestAnimationFrame(callback);\n        }\n        else if (window.webkitRequestAnimationFrame) {\n            window.webkitRequestAnimationFrame(callback);\n        }\n        else {\n            window.setTimeout(callback, 0);\n        }\n    };\n    AnimationFrameService.prototype.isQueueEmpty = function () {\n        return !this.ticking;\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], AnimationFrameService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], AnimationFrameService.prototype, \"init\", null);\n    AnimationFrameService = __decorate([\n        Bean('animationFrameService')\n    ], AnimationFrameService);\n    return AnimationFrameService;\n}(BeanStub));\nexport { AnimationFrameService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '../../../widgets/component';\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { serialiseDate, parseDateTimeFromString } from '../../../utils/date';\nimport { isBrowserChrome, isBrowserFirefox, isBrowserIE } from '../../../utils/browser';\nvar DefaultDateComponent = /** @class */ (function (_super) {\n    __extends(DefaultDateComponent, _super);\n    function DefaultDateComponent() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-filter-filter\\\">\\n                <ag-input-text-field class=\\\"ag-date-filter\\\" ref=\\\"eDateInput\\\"></ag-input-text-field>\\n            </div>\") || this;\n    }\n    // this is a user component, and IComponent has \"public destroy()\" as part of the interface.\n    // so we need to override destroy() just to make the method public.\n    DefaultDateComponent.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    DefaultDateComponent.prototype.init = function (params) {\n        var _this = this;\n        if (this.shouldUseBrowserDatePicker(params)) {\n            if (isBrowserIE()) {\n                console.warn('ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker');\n            }\n            else {\n                this.eDateInput.getInputElement().type = 'date';\n            }\n        }\n        this.listener = params.onDateChanged;\n        this.addManagedListener(this.eDateInput.getInputElement(), 'input', function (e) {\n            if (e.target !== document.activeElement) {\n                return;\n            }\n            _this.listener();\n        });\n    };\n    DefaultDateComponent.prototype.getDate = function () {\n        return parseDateTimeFromString(this.eDateInput.getValue());\n    };\n    DefaultDateComponent.prototype.setDate = function (date) {\n        this.eDateInput.setValue(serialiseDate(date, false));\n    };\n    DefaultDateComponent.prototype.setInputPlaceholder = function (placeholder) {\n        this.eDateInput.setInputPlaceholder(placeholder);\n    };\n    DefaultDateComponent.prototype.shouldUseBrowserDatePicker = function (params) {\n        if (params.filterParams && params.filterParams.browserDatePicker != null) {\n            return params.filterParams.browserDatePicker;\n        }\n        else {\n            return isBrowserChrome() || isBrowserFirefox();\n        }\n    };\n    __decorate([\n        RefSelector('eDateInput')\n    ], DefaultDateComponent.prototype, \"eDateInput\", void 0);\n    return DefaultDateComponent;\n}(Component));\nexport { DefaultDateComponent };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Bean } from \"./context/context\";\nimport { Qualifier } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nvar LoggerFactory = /** @class */ (function (_super) {\n    __extends(LoggerFactory, _super);\n    function LoggerFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LoggerFactory.prototype.setBeans = function (gridOptionsWrapper) {\n        this.logging = gridOptionsWrapper.isDebug();\n    };\n    LoggerFactory.prototype.create = function (name) {\n        return new Logger(name, this.isLogging.bind(this));\n    };\n    LoggerFactory.prototype.isLogging = function () {\n        return this.logging;\n    };\n    __decorate([\n        __param(0, Qualifier('gridOptionsWrapper'))\n    ], LoggerFactory.prototype, \"setBeans\", null);\n    LoggerFactory = __decorate([\n        Bean('loggerFactory')\n    ], LoggerFactory);\n    return LoggerFactory;\n}(BeanStub));\nexport { LoggerFactory };\nvar Logger = /** @class */ (function () {\n    function Logger(name, isLoggingFunc) {\n        this.name = name;\n        this.isLoggingFunc = isLoggingFunc;\n    }\n    Logger.prototype.isLogging = function () {\n        return this.isLoggingFunc();\n    };\n    Logger.prototype.log = function (message) {\n        if (this.isLoggingFunc()) {\n            // tslint:disable-next-line\n            console.log('ag-Grid.' + this.name + ': ' + message);\n        }\n    };\n    return Logger;\n}());\nexport { Logger };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Bean, PostConstruct, Autowired } from \"../context/context\";\nimport { AnimateSlideCellRenderer } from \"./cellRenderers/animateSlideCellRenderer\";\nimport { AnimateShowChangeCellRenderer } from \"./cellRenderers/animateShowChangeCellRenderer\";\nimport { GroupCellRenderer } from \"./cellRenderers/groupCellRenderer\";\nimport { missing } from \"../utils/generic\";\nvar CellRendererFactory = /** @class */ (function () {\n    function CellRendererFactory() {\n        this.cellRendererMap = {};\n    }\n    CellRendererFactory_1 = CellRendererFactory;\n    CellRendererFactory.prototype.init = function () {\n        this.cellRendererMap[CellRendererFactory_1.ANIMATE_SLIDE] = AnimateSlideCellRenderer;\n        this.cellRendererMap[CellRendererFactory_1.ANIMATE_SHOW_CHANGE] = AnimateShowChangeCellRenderer;\n        this.cellRendererMap[CellRendererFactory_1.GROUP] = GroupCellRenderer;\n        // this.registerRenderersFromGridOptions();\n    };\n    // private registerRenderersFromGridOptions(): void {\n    //     let userProvidedCellRenderers = this.gridOptionsWrapper.getCellRenderers();\n    //     iterateObject(userProvidedCellRenderers, (key: string, cellRenderer: {new(): ICellRenderer} | ICellRendererFunc)=> {\n    //         this.addCellRenderer(key, cellRenderer);\n    //     });\n    // }\n    CellRendererFactory.prototype.addCellRenderer = function (key, cellRenderer) {\n        this.cellRendererMap[key] = cellRenderer;\n    };\n    CellRendererFactory.prototype.getCellRenderer = function (key) {\n        var result = this.cellRendererMap[key];\n        if (missing(result)) {\n            console.warn('ag-Grid: unable to find cellRenderer for key ' + key);\n            return null;\n        }\n        return result;\n    };\n    var CellRendererFactory_1;\n    CellRendererFactory.ANIMATE_SLIDE = 'animateSlide';\n    CellRendererFactory.ANIMATE_SHOW_CHANGE = 'animateShowChange';\n    CellRendererFactory.GROUP = 'group';\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], CellRendererFactory.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('expressionService')\n    ], CellRendererFactory.prototype, \"expressionService\", void 0);\n    __decorate([\n        Autowired('eventService')\n    ], CellRendererFactory.prototype, \"eventService\", void 0);\n    __decorate([\n        PostConstruct\n    ], CellRendererFactory.prototype, \"init\", null);\n    CellRendererFactory = CellRendererFactory_1 = __decorate([\n        Bean('cellRendererFactory')\n    ], CellRendererFactory);\n    return CellRendererFactory;\n}());\nexport { CellRendererFactory };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * @deprecated\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n * from: https://github.com/facebook/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\n * @param {any} event\n * @return {any}\n */\nexport function normalizeWheel(event) {\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n    // spinX, spinY\n    var sX = 0;\n    var sY = 0;\n    // pixelX, pixelY\n    var pX = 0;\n    var pY = 0;\n    // Legacy\n    if ('detail' in event) {\n        sY = event.detail;\n    }\n    if ('wheelDelta' in event) {\n        sY = -event.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in event) {\n        sY = -event.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in event) {\n        sX = -event.wheelDeltaX / 120;\n    }\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n    }\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n    if ('deltaY' in event) {\n        pY = event.deltaY;\n    }\n    if ('deltaX' in event) {\n        pX = event.deltaX;\n    }\n    if ((pX || pY) && event.deltaMode) {\n        if (event.deltaMode == 1) { // delta in LINE units\n            pX *= LINE_HEIGHT;\n            pY *= LINE_HEIGHT;\n        }\n        else { // delta in PAGE units\n            pX *= PAGE_HEIGHT;\n            pY *= PAGE_HEIGHT;\n        }\n    }\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n        sX = (pX < 1) ? -1 : 1;\n    }\n    if (pY && !sY) {\n        sY = (pY < 1) ? -1 : 1;\n    }\n    return {\n        spinX: sX,\n        spinY: sY,\n        pixelX: pX,\n        pixelY: pY\n    };\n}\n/**\n * @deprecated\n * Checks if event was issued by a left click\n * from https://stackoverflow.com/questions/3944122/detect-left-mouse-button-press\n * @param {MouseEvent} mouseEvent\n * @returns {boolean}\n */\nexport function isLeftClick(mouseEvent) {\n    if ('buttons' in mouseEvent) {\n        return mouseEvent.buttons == 1;\n    }\n    var button = mouseEvent.which || mouseEvent.button;\n    return button == 1;\n}\n/**\n * `True` if the event is close to the original event by X pixels either vertically or horizontally.\n * we only start dragging after X pixels so this allows us to know if we should start dragging yet.\n * @param {MouseEvent | TouchEvent} e1\n * @param {MouseEvent | TouchEvent} e2\n * @param {number} pixelCount\n * @returns {boolean}\n */\nexport function areEventsNear(e1, e2, pixelCount) {\n    // by default, we wait 4 pixels before starting the drag\n    if (pixelCount === 0) {\n        return false;\n    }\n    var diffX = Math.abs(e1.clientX - e2.clientX);\n    var diffY = Math.abs(e1.clientY - e2.clientY);\n    return Math.max(diffX, diffY) <= pixelCount;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ManagedFocusComponent } from \"../../widgets/managedFocusComponent\";\nvar AbstractHeaderWrapper = /** @class */ (function (_super) {\n    __extends(AbstractHeaderWrapper, _super);\n    function AbstractHeaderWrapper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractHeaderWrapper.prototype.getColumn = function () {\n        return this.column;\n    };\n    AbstractHeaderWrapper.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    return AbstractHeaderWrapper;\n}(ManagedFocusComponent));\nexport { AbstractHeaderWrapper };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nimport { Constants } from \"./constants/constants\";\nimport { Events } from \"./events\";\nvar SortController = /** @class */ (function (_super) {\n    __extends(SortController, _super);\n    function SortController() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // used by server side row models, to send sorting to server\n        _this.getSortModel = function () {\n            return _this.getColumnsWithSortingOrdered().map(function (column) { return ({\n                colId: column.getColId(),\n                sort: column.getSort()\n            }); });\n        };\n        return _this;\n    }\n    SortController_1 = SortController;\n    SortController.prototype.progressSort = function (column, multiSort, source) {\n        if (source === void 0) { source = \"api\"; }\n        var nextDirection = this.getNextSortDirection(column);\n        this.setSortForColumn(column, nextDirection, multiSort, source);\n    };\n    SortController.prototype.setSortForColumn = function (column, sort, multiSort, source) {\n        if (source === void 0) { source = \"api\"; }\n        // auto correct - if sort not legal value, then set it to 'no sort' (which is null)\n        if (sort !== Constants.SORT_ASC && sort !== Constants.SORT_DESC) {\n            sort = null;\n        }\n        // update sort on current col\n        column.setSort(sort, source);\n        var doingMultiSort = multiSort && !this.gridOptionsWrapper.isSuppressMultiSort();\n        // clear sort on all columns except this one, and update the icons\n        if (!doingMultiSort) {\n            this.clearSortBarThisColumn(column, source);\n        }\n        // sortIndex used for knowing order of cols when multi-col sort\n        this.updateSortIndex(column);\n        this.dispatchSortChangedEvents();\n    };\n    SortController.prototype.updateSortIndex = function (lastColToChange) {\n        // update sortIndex on all sorting cols\n        var allSortedCols = this.getColumnsWithSortingOrdered();\n        var sortIndex = 0;\n        allSortedCols.forEach(function (col) {\n            if (col !== lastColToChange) {\n                col.setSortIndex(sortIndex);\n                sortIndex++;\n            }\n        });\n        // last col to change always gets the last sort index, it's added to the end\n        if (lastColToChange.getSort()) {\n            lastColToChange.setSortIndex(sortIndex);\n        }\n        // clear sort index on all cols not sorting\n        var allCols = this.columnController.getPrimaryAndSecondaryAndAutoColumns();\n        allCols.filter(function (col) { return col.getSort() == null; }).forEach(function (col) { return col.setSortIndex(undefined); });\n    };\n    // gets called by API, so if data changes, use can call this, which will end up\n    // working out the sort order again of the rows.\n    SortController.prototype.onSortChanged = function () {\n        this.dispatchSortChangedEvents();\n    };\n    SortController.prototype.isSortActive = function () {\n        // pull out all the columns that have sorting set\n        var allCols = this.columnController.getPrimaryAndSecondaryAndAutoColumns();\n        var sortedCols = allCols.filter(function (column) { return !!column.getSort(); });\n        return sortedCols && sortedCols.length > 0;\n    };\n    SortController.prototype.dispatchSortChangedEvents = function () {\n        var event = {\n            type: Events.EVENT_SORT_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    SortController.prototype.clearSortBarThisColumn = function (columnToSkip, source) {\n        this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function (columnToClear) {\n            // Do not clear if either holding shift, or if column in question was clicked\n            if (!(columnToClear === columnToSkip)) {\n                // setting to 'undefined' as null means 'none' rather than cleared, otherwise issue will arise\n                // if sort order is: ['desc', null , 'asc'], as it will start at null rather than 'desc'.\n                columnToClear.setSort(undefined, source);\n            }\n        });\n    };\n    SortController.prototype.getNextSortDirection = function (column) {\n        var sortingOrder;\n        if (column.getColDef().sortingOrder) {\n            sortingOrder = column.getColDef().sortingOrder;\n        }\n        else if (this.gridOptionsWrapper.getSortingOrder()) {\n            sortingOrder = this.gridOptionsWrapper.getSortingOrder();\n        }\n        else {\n            sortingOrder = SortController_1.DEFAULT_SORTING_ORDER;\n        }\n        if (!Array.isArray(sortingOrder) || sortingOrder.length <= 0) {\n            console.warn(\"ag-grid: sortingOrder must be an array with at least one element, currently it's \" + sortingOrder);\n            return null;\n        }\n        var currentIndex = sortingOrder.indexOf(column.getSort());\n        var notInArray = currentIndex < 0;\n        var lastItemInArray = currentIndex == sortingOrder.length - 1;\n        var result;\n        if (notInArray || lastItemInArray) {\n            result = sortingOrder[0];\n        }\n        else {\n            result = sortingOrder[currentIndex + 1];\n        }\n        // verify the sort type exists, as the user could provide the sortingOrder, need to make sure it's valid\n        if (SortController_1.DEFAULT_SORTING_ORDER.indexOf(result) < 0) {\n            console.warn('ag-grid: invalid sort type ' + result);\n            return null;\n        }\n        return result;\n    };\n    SortController.prototype.getColumnsWithSortingOrdered = function () {\n        // pull out all the columns that have sorting set\n        var allColumnsIncludingAuto = this.columnController.getPrimaryAndSecondaryAndAutoColumns();\n        var columnsWithSorting = allColumnsIncludingAuto.filter(function (column) { return !!column.getSort(); });\n        // put the columns in order of which one got sorted first\n        columnsWithSorting.sort(function (a, b) { return a.getSortIndex() - b.getSortIndex(); });\n        return columnsWithSorting;\n    };\n    // used by row controller, when doing the sorting\n    SortController.prototype.getSortForRowController = function () {\n        return this.getColumnsWithSortingOrdered().map(function (column) {\n            var isAscending = column.getSort() === Constants.SORT_ASC;\n            return {\n                inverter: isAscending ? 1 : -1,\n                column: column\n            };\n        });\n    };\n    var SortController_1;\n    SortController.DEFAULT_SORTING_ORDER = [Constants.SORT_ASC, Constants.SORT_DESC, null];\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], SortController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], SortController.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], SortController.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], SortController.prototype, \"gridApi\", void 0);\n    SortController = SortController_1 = __decorate([\n        Bean('sortController')\n    ], SortController);\n    return SortController;\n}(BeanStub));\nexport { SortController };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { exists } from './generic';\nimport { isBrowserEdge, isBrowserIE } from './browser';\nimport { KeyCode } from '../constants/keyCode';\nvar PRINTABLE_CHARACTERS = 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"$%^&*()_+-=[];\\'#,./\\\\|<>?:@~{}';\nvar NUMPAD_DEL_NUMLOCK_ON_KEY = 'Del';\nvar NUMPAD_DEL_NUMLOCK_ON_CHARCODE = 46;\nexport function isKeyPressed(event, keyToCheck) {\n    return (event.which || event.keyCode) === keyToCheck;\n}\nexport function isCharacterKey(event) {\n    // from: https://stackoverflow.com/questions/4179708/how-to-detect-if-the-pressed-key-will-produce-a-character-inside-an-input-text\n    var which = event.which;\n    if (typeof which === 'number' && which) {\n        return !event.ctrlKey && !event.metaKey && !event.altKey && event.which !== 8 && event.which !== 16;\n    }\n    return which === undefined;\n}\nexport function isEventFromPrintableCharacter(event) {\n    var pressedChar = String.fromCharCode(event.charCode);\n    // newline is an exception, as it counts as a printable character, but we don't\n    // want to start editing when it is pressed. without this check, if user is in chrome\n    // and editing a cell, and they press ctrl+enter, the cell stops editing, and then\n    // starts editing again with a blank value (two 'key down' events are fired). to\n    // test this, remove the line below, edit a cell in chrome and hit ctrl+enter while editing.\n    // https://ag-grid.atlassian.net/browse/AG-605\n    if (isKeyPressed(event, KeyCode.NEW_LINE)) {\n        return false;\n    }\n    // no allowed printable chars have alt or ctrl key combinations\n    if (event.altKey || event.ctrlKey) {\n        return false;\n    }\n    if (exists(event.key)) {\n        // modern browser will implement key, so we return if key is length 1, eg if it is 'a' for the\n        // a key, or '2' for the '2' key. non-printable characters have names, eg 'Enter' or 'Backspace'.\n        var printableCharacter = event.key.length === 1;\n        // IE11 & Edge treat the numpad del key differently - with numlock on we get \"Del\" for key,\n        // so this addition checks if its IE11/Edge and handles that specific case the same was as all other browsers\n        var numpadDelWithNumlockOnForEdgeOrIe = isNumpadDelWithNumlockOnForEdgeOrIe(event);\n        return printableCharacter || numpadDelWithNumlockOnForEdgeOrIe;\n    }\n    // otherwise, for older browsers, we test against a list of characters, which doesn't include\n    // accents for non-English, but don't care much, as most users are on modern browsers\n    return PRINTABLE_CHARACTERS.indexOf(pressedChar) >= 0;\n}\n/**\n * Allows user to tell the grid to skip specific keyboard events\n * @param {GridOptionsWrapper} gridOptionsWrapper\n * @param {KeyboardEvent} keyboardEvent\n * @param {RowNode} rowNode\n * @param {Column} column\n * @param {boolean} editing\n * @returns {boolean}\n */\nexport function isUserSuppressingKeyboardEvent(gridOptionsWrapper, keyboardEvent, rowNode, column, editing) {\n    var gridOptionsFunc = gridOptionsWrapper.getSuppressKeyboardEventFunc();\n    var colDefFunc = column.getColDef().suppressKeyboardEvent;\n    // if no callbacks provided by user, then do nothing\n    if (!gridOptionsFunc && !colDefFunc) {\n        return false;\n    }\n    var params = {\n        event: keyboardEvent,\n        editing: editing,\n        column: column,\n        api: gridOptionsWrapper.getApi(),\n        node: rowNode,\n        data: rowNode.data,\n        colDef: column.getColDef(),\n        context: gridOptionsWrapper.getContext(),\n        columnApi: gridOptionsWrapper.getColumnApi()\n    };\n    // colDef get first preference on suppressing events\n    if (colDefFunc) {\n        var colDefFuncResult = colDefFunc(params);\n        // if colDef func suppressed, then return now, no need to call gridOption func\n        if (colDefFuncResult) {\n            return true;\n        }\n    }\n    if (gridOptionsFunc) {\n        // if gridOption func, return the result\n        return gridOptionsFunc(params);\n    }\n    // otherwise return false, don't suppress, as colDef didn't suppress and no func on gridOptions\n    return false;\n}\nfunction isNumpadDelWithNumlockOnForEdgeOrIe(event) {\n    return (isBrowserEdge() || isBrowserIE()) &&\n        event.key === NUMPAD_DEL_NUMLOCK_ON_KEY &&\n        event.charCode === NUMPAD_DEL_NUMLOCK_ON_CHARCODE;\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nimport { loadTemplate } from './dom';\nimport { camelCaseToHyphen } from './string';\nimport { iterateObject } from './object';\n/** @deprecated */\nexport function getNameOfClass(theClass) {\n    var funcNameRegex = /function (.{1,})\\(/;\n    var funcAsString = theClass.toString();\n    var results = funcNameRegex.exec(funcAsString);\n    return results && results.length > 1 ? results[1] : \"\";\n}\nexport function findLineByLeastSquares(values) {\n    var len = values.length;\n    var maxDecimals = 0;\n    if (len <= 1) {\n        return values;\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        if (Math.floor(value) === value) {\n            continue;\n        }\n        maxDecimals = Math.max(maxDecimals, value.toString().split('.')[1].length);\n    }\n    var sum_x = 0;\n    var sum_y = 0;\n    var sum_xy = 0;\n    var sum_xx = 0;\n    var y = 0;\n    for (var x = 0; x < len; x++) {\n        y = values[x];\n        sum_x += x;\n        sum_y += y;\n        sum_xx += x * x;\n        sum_xy += x * y;\n    }\n    var m = (len * sum_xy - sum_x * sum_y) / (len * sum_xx - sum_x * sum_x);\n    var b = (sum_y / len) - (m * sum_x) / len;\n    var result = [];\n    for (var x = 0; x <= len; x++) {\n        result.push(parseFloat((x * m + b).toFixed(maxDecimals)));\n    }\n    return result;\n}\n/**\n * Converts a CSS object into string\n * @param {Object} stylesToUse an object eg: {color: 'black', top: '25px'}\n * @return {string} A string like \"color: black; top: 25px;\" for html\n */\nexport function cssStyleObjectToMarkup(stylesToUse) {\n    if (!stylesToUse) {\n        return '';\n    }\n    var resParts = [];\n    iterateObject(stylesToUse, function (styleKey, styleValue) {\n        var styleKeyDashed = camelCaseToHyphen(styleKey);\n        resParts.push(styleKeyDashed + \": \" + styleValue + \";\");\n    });\n    return resParts.join(' ');\n}\n/**\n * Displays a message to the browser. this is useful in iPad, where you can't easily see the console.\n * so the javascript code can use this to give feedback. this is NOT intended to be called in production.\n * it is intended the ag-Grid developer calls this to troubleshoot, but then takes out the calls before\n * checking in.\n * @param {string} msg\n */\nexport function message(msg) {\n    var eMessage = document.createElement('div');\n    var eBox = document.querySelector('#__ag__message');\n    eMessage.innerHTML = msg;\n    if (!eBox) {\n        var template = \"<div id=\\\"__ag__message\\\" style=\\\"display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;\\\"></div>\";\n        eBox = loadTemplate(template);\n        if (document.body) {\n            document.body.appendChild(eBox);\n        }\n    }\n    eBox.insertBefore(eMessage, eBox.children[0]);\n}\n/**\n * cell renderers are used in a few places. they bind to dom slightly differently to other cell renderes as they\n * can return back strings (instead of html elemnt) in the getGui() method. common code placed here to handle that.\n * @param {Promise<ICellRendererComp>} cellRendererPromise\n * @param {HTMLElement} eTarget\n */\nexport function bindCellRendererToHtmlElement(cellRendererPromise, eTarget) {\n    cellRendererPromise.then(function (cellRenderer) {\n        var gui = cellRenderer.getGui();\n        if (gui != null) {\n            if (typeof gui === 'object') {\n                eTarget.appendChild(gui);\n            }\n            else {\n                eTarget.innerHTML = gui;\n            }\n        }\n    });\n}\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"./component\";\nimport { PostConstruct } from \"../context/context\";\nimport { addCssClass, clearElement, addOrRemoveCssClass, setElementWidth } from \"../utils/dom\";\nvar AgAbstractLabel = /** @class */ (function (_super) {\n    __extends(AgAbstractLabel, _super);\n    function AgAbstractLabel(config, template) {\n        var _this = _super.call(this, template) || this;\n        _this.labelSeparator = '';\n        _this.labelAlignment = 'left';\n        _this.label = '';\n        _this.config = config || {};\n        return _this;\n    }\n    AgAbstractLabel.prototype.postConstruct = function () {\n        addCssClass(this.getGui(), 'ag-labeled');\n        addCssClass(this.eLabel, 'ag-label');\n        var _a = this.config, labelSeparator = _a.labelSeparator, label = _a.label, labelWidth = _a.labelWidth, labelAlignment = _a.labelAlignment;\n        if (labelSeparator != null) {\n            this.setLabelSeparator(labelSeparator);\n        }\n        if (label != null) {\n            this.setLabel(label);\n        }\n        if (labelWidth != null) {\n            this.setLabelWidth(labelWidth);\n        }\n        this.setLabelAlignment(labelAlignment || this.labelAlignment);\n        this.refreshLabel();\n    };\n    AgAbstractLabel.prototype.refreshLabel = function () {\n        clearElement(this.eLabel);\n        if (typeof this.label === 'string') {\n            this.eLabel.innerText = this.label + this.labelSeparator;\n        }\n        else {\n            this.eLabel.appendChild(this.label);\n        }\n        addOrRemoveCssClass(this.eLabel, 'ag-hidden', this.label === '');\n    };\n    AgAbstractLabel.prototype.setLabelSeparator = function (labelSeparator) {\n        if (this.labelSeparator === labelSeparator) {\n            return this;\n        }\n        this.labelSeparator = labelSeparator;\n        if (this.label != null) {\n            this.refreshLabel();\n        }\n        return this;\n    };\n    AgAbstractLabel.prototype.getLabelId = function () {\n        this.eLabel.id = this.eLabel.id || \"ag-\" + this.getCompId() + \"-label\";\n        return this.eLabel.id;\n    };\n    AgAbstractLabel.prototype.getLabel = function () {\n        return this.label;\n    };\n    AgAbstractLabel.prototype.setLabel = function (label) {\n        if (this.label === label) {\n            return this;\n        }\n        this.label = label;\n        this.refreshLabel();\n        return this;\n    };\n    AgAbstractLabel.prototype.setLabelAlignment = function (alignment) {\n        var eGui = this.getGui();\n        addOrRemoveCssClass(eGui, 'ag-label-align-left', alignment === 'left');\n        addOrRemoveCssClass(eGui, 'ag-label-align-right', alignment === 'right');\n        addOrRemoveCssClass(eGui, 'ag-label-align-top', alignment === 'top');\n        return this;\n    };\n    AgAbstractLabel.prototype.setLabelWidth = function (width) {\n        if (this.label == null) {\n            return this;\n        }\n        setElementWidth(this.eLabel, width);\n        return this;\n    };\n    __decorate([\n        PostConstruct\n    ], AgAbstractLabel.prototype, \"postConstruct\", null);\n    return AgAbstractLabel;\n}(Component));\nexport { AgAbstractLabel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TextFilter } from './textFilter';\nimport { TextInputFloatingFilter } from '../../floating/provided/textInputFloatingFilter';\nvar TextFloatingFilter = /** @class */ (function (_super) {\n    __extends(TextFloatingFilter, _super);\n    function TextFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextFloatingFilter.prototype.conditionToString = function (condition) {\n        // it's not possible to have 'in range' for string, so no need to check for it.\n        // also cater for when the type doesn't need a value\n        if (condition.filter != null) {\n            return \"\" + condition.filter;\n        }\n        else {\n            return \"\" + condition.type;\n        }\n    };\n    TextFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return TextFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    return TextFloatingFilter;\n}(TextInputFloatingFilter));\nexport { TextFloatingFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Events = /** @class */ (function () {\n    function Events() {\n    }\n    /** Everything has changed with the columns. Either complete new set of columns set, or user called setState()*/\n    Events.EVENT_COLUMN_EVERYTHING_CHANGED = 'columnEverythingChanged';\n    /** User has set in new columns. */\n    Events.EVENT_NEW_COLUMNS_LOADED = 'newColumnsLoaded';\n    /** The pivot mode flag was changed */\n    Events.EVENT_COLUMN_PIVOT_MODE_CHANGED = 'columnPivotModeChanged';\n    /** A row group column was added, removed or order changed. */\n    Events.EVENT_COLUMN_ROW_GROUP_CHANGED = 'columnRowGroupChanged';\n    /** expandAll / collapseAll was called from the api. */\n    Events.EVENT_EXPAND_COLLAPSE_ALL = 'expandOrCollapseAll';\n    /** A pivot column was added, removed or order changed. */\n    Events.EVENT_COLUMN_PIVOT_CHANGED = 'columnPivotChanged';\n    /** The list of grid columns has changed. */\n    Events.EVENT_GRID_COLUMNS_CHANGED = 'gridColumnsChanged';\n    /** A value column was added, removed or agg function was changed. */\n    Events.EVENT_COLUMN_VALUE_CHANGED = 'columnValueChanged';\n    /** A column was moved */\n    Events.EVENT_COLUMN_MOVED = 'columnMoved';\n    /** One or more columns was shown / hidden */\n    Events.EVENT_COLUMN_VISIBLE = 'columnVisible';\n    /** One or more columns was pinned / unpinned*/\n    Events.EVENT_COLUMN_PINNED = 'columnPinned';\n    /** A column group was opened / closed */\n    Events.EVENT_COLUMN_GROUP_OPENED = 'columnGroupOpened';\n    /** One or more columns was resized. If just one, the column in the event is set. */\n    Events.EVENT_COLUMN_RESIZED = 'columnResized';\n    /** The list of displayed columns has changed, can result from columns open / close, column move, pivot, group, etc */\n    Events.EVENT_DISPLAYED_COLUMNS_CHANGED = 'displayedColumnsChanged';\n    /** The list of virtual columns has changed, results from viewport changing */\n    Events.EVENT_VIRTUAL_COLUMNS_CHANGED = 'virtualColumnsChanged';\n    /** A row group was opened / closed */\n    Events.EVENT_ROW_GROUP_OPENED = 'rowGroupOpened';\n    /** The client has set new data into the grid */\n    Events.EVENT_ROW_DATA_CHANGED = 'rowDataChanged';\n    /** The client has updated data for the grid */\n    Events.EVENT_ROW_DATA_UPDATED = 'rowDataUpdated';\n    /** The client has set new floating data into the grid */\n    Events.EVENT_PINNED_ROW_DATA_CHANGED = 'pinnedRowDataChanged';\n    /** Range selection has changed */\n    Events.EVENT_RANGE_SELECTION_CHANGED = 'rangeSelectionChanged';\n    /** Chart was created */\n    Events.EVENT_CHART_CREATED = 'chartCreated';\n    /** Chart Range selection has changed */\n    Events.EVENT_CHART_RANGE_SELECTION_CHANGED = 'chartRangeSelectionChanged';\n    /** Chart Options have changed */\n    Events.EVENT_CHART_OPTIONS_CHANGED = 'chartOptionsChanged';\n    /** Chart was destroyed */\n    Events.EVENT_CHART_DESTROYED = 'chartDestroyed';\n    /** For when the tool panel is shown / hidden */\n    Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED = 'toolPanelVisibleChanged';\n    /** Model was updated - grid updates the drawn rows when this happens */\n    Events.EVENT_MODEL_UPDATED = 'modelUpdated';\n    Events.EVENT_PASTE_START = 'pasteStart';\n    Events.EVENT_PASTE_END = 'pasteEnd';\n    Events.EVENT_FILL_START = 'fillStart';\n    Events.EVENT_FILL_END = 'fillEnd';\n    Events.EVENT_CELL_CLICKED = 'cellClicked';\n    Events.EVENT_CELL_DOUBLE_CLICKED = 'cellDoubleClicked';\n    Events.EVENT_CELL_MOUSE_DOWN = 'cellMouseDown';\n    Events.EVENT_CELL_CONTEXT_MENU = 'cellContextMenu';\n    Events.EVENT_CELL_VALUE_CHANGED = 'cellValueChanged';\n    Events.EVENT_ROW_VALUE_CHANGED = 'rowValueChanged';\n    Events.EVENT_CELL_FOCUSED = 'cellFocused';\n    Events.EVENT_ROW_SELECTED = 'rowSelected';\n    Events.EVENT_SELECTION_CHANGED = 'selectionChanged';\n    Events.EVENT_CELL_KEY_DOWN = 'cellKeyDown';\n    Events.EVENT_CELL_KEY_PRESS = 'cellKeyPress';\n    Events.EVENT_CELL_MOUSE_OVER = 'cellMouseOver';\n    Events.EVENT_CELL_MOUSE_OUT = 'cellMouseOut';\n    /** 2 events for filtering. The grid LISTENS for filterChanged and afterFilterChanged */\n    Events.EVENT_FILTER_CHANGED = 'filterChanged';\n    /** Filter was change but not applied. Only useful if apply buttons are used in filters. */\n    Events.EVENT_FILTER_MODIFIED = 'filterModified';\n    Events.EVENT_FILTER_OPENED = 'filterOpened';\n    Events.EVENT_SORT_CHANGED = 'sortChanged';\n    /** A row was removed from the dom, for any reason. Use to clean up resources (if any) used by the row. */\n    Events.EVENT_VIRTUAL_ROW_REMOVED = 'virtualRowRemoved';\n    Events.EVENT_ROW_CLICKED = 'rowClicked';\n    Events.EVENT_ROW_DOUBLE_CLICKED = 'rowDoubleClicked';\n    /** Gets called once after the grid has finished initialising. */\n    Events.EVENT_GRID_READY = 'gridReady';\n    /** Width of height of the main grid div has changed. Grid listens for this and does layout of grid if it's\n     * changed, so always filling the space it was given. */\n    Events.EVENT_GRID_SIZE_CHANGED = 'gridSizeChanged';\n    /** The indexes of the rows rendered has changed, eg user has scrolled to a new vertical position. */\n    Events.EVENT_VIEWPORT_CHANGED = 'viewportChanged';\n    /** Rows were rendered for the first time (ie on async data load). */\n    Events.EVENT_FIRST_DATA_RENDERED = 'firstDataRendered';\n    /** A column drag has started, either resizing a column or moving a column. */\n    Events.EVENT_DRAG_STARTED = 'dragStarted';\n    /** A column drag has stopped */\n    Events.EVENT_DRAG_STOPPED = 'dragStopped';\n    Events.EVENT_CHECKBOX_CHANGED = 'checkboxChanged';\n    Events.EVENT_ROW_EDITING_STARTED = 'rowEditingStarted';\n    Events.EVENT_ROW_EDITING_STOPPED = 'rowEditingStopped';\n    Events.EVENT_CELL_EDITING_STARTED = 'cellEditingStarted';\n    Events.EVENT_CELL_EDITING_STOPPED = 'cellEditingStopped';\n    /** Main body of grid has scrolled, either horizontally or vertically */\n    Events.EVENT_BODY_SCROLL = 'bodyScroll';\n    Events.EVENT_ANIMATION_QUEUE_EMPTY = 'animationQueueEmpty';\n    Events.EVENT_HEIGHT_SCALE_CHANGED = 'heightScaleChanged';\n    /** The displayed page for pagination has changed. For example the data was filtered or sorted,\n     * or the user has moved to a different page. */\n    Events.EVENT_PAGINATION_CHANGED = 'paginationChanged';\n    /** Only used by React, Angular 2+, Web Components and VueJS ag-Grid components\n     * (not used if doing plain JavaScript or Angular 1.x). If the grid receives changes due\n     * to bound properties, this event fires after the grid has finished processing the change. */\n    Events.EVENT_COMPONENT_STATE_CHANGED = 'componentStateChanged';\n    /** All items from here down are used internally by the grid, not intended for external use. */\n    // not documented, either experimental, or we just don't want users using an depending on them\n    Events.EVENT_BODY_HEIGHT_CHANGED = 'bodyHeightChanged';\n    Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED = 'displayedColumnsWidthChanged';\n    Events.EVENT_SCROLL_VISIBILITY_CHANGED = 'scrollVisibilityChanged';\n    Events.EVENT_COLUMN_HOVER_CHANGED = 'columnHoverChanged';\n    Events.EVENT_FLASH_CELLS = 'flashCells';\n    Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED = 'paginationPixelOffsetChanged';\n    Events.EVENT_ROW_DRAG_ENTER = 'rowDragEnter';\n    Events.EVENT_ROW_DRAG_MOVE = 'rowDragMove';\n    Events.EVENT_ROW_DRAG_LEAVE = 'rowDragLeave';\n    Events.EVENT_ROW_DRAG_END = 'rowDragEnd';\n    // primarily for charts\n    Events.EVENT_POPUP_TO_FRONT = 'popupToFront';\n    // these are used for server side group and agg - only used by CS with Viewport Row Model - intention is\n    // to design these better around server side functions and then release to general public when fully working with\n    // all the row models.\n    Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST = 'columnRowGroupChangeRequest';\n    Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST = 'columnPivotChangeRequest';\n    Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST = 'columnValueChangeRequest';\n    Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST = 'columnAggFuncChangeRequest';\n    Events.EVENT_KEYBOARD_FOCUS = 'keyboardFocus';\n    Events.EVENT_MOUSE_FOCUS = 'mouseFocus';\n    return Events;\n}());\nexport { Events };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BeanStub } from \"../context/beanStub\";\nimport { Events } from \"../events\";\nimport { Autowired, Bean, PostConstruct } from \"../context/context\";\nimport { missing, exists } from \"../utils/generic\";\nimport { isNumeric } from \"../utils/number\";\nvar PaginationProxy = /** @class */ (function (_super) {\n    __extends(PaginationProxy, _super);\n    function PaginationProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPage = 0;\n        _this.topDisplayedRowIndex = 0;\n        _this.bottomDisplayedRowIndex = 0;\n        _this.pixelOffset = 0;\n        _this.masterRowCount = 0;\n        return _this;\n    }\n    PaginationProxy.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isPagination();\n        this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n        this.addManagedListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, 'paginationPageSize', this.onPaginationPageSizeChanged.bind(this));\n        this.onModelUpdated();\n    };\n    PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n        if (res) {\n            this.calculatePages();\n        }\n        return res;\n    };\n    PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: Events.EVENT_PAGINATION_CHANGED,\n            animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n            newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n            newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n            keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.onPaginationPageSizeChanged = function () {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: Events.EVENT_PAGINATION_CHANGED,\n            animate: false,\n            newData: false,\n            newPage: false,\n            // important to keep rendered rows, otherwise every time grid is resized,\n            // we would destroy all the rows.\n            keepRenderedRows: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.goToPage = function (page) {\n        if (!this.active || this.currentPage === page) {\n            return;\n        }\n        this.currentPage = page;\n        var event = {\n            type: Events.EVENT_MODEL_UPDATED,\n            animate: false,\n            keepRenderedRows: false,\n            newData: false,\n            newPage: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.onModelUpdated(event);\n    };\n    PaginationProxy.prototype.getPixelOffset = function () {\n        return this.pixelOffset;\n    };\n    PaginationProxy.prototype.getRow = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    PaginationProxy.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n        return this.rowModel.getRowIndexAtPixel(pixel);\n    };\n    PaginationProxy.prototype.getCurrentPageHeight = function () {\n        if (missing(this.topRowBounds) || missing(this.bottomRowBounds)) {\n            return 0;\n        }\n        return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n    };\n    PaginationProxy.prototype.isRowPresent = function (rowNode) {\n        if (!this.rowModel.isRowPresent(rowNode)) {\n            return false;\n        }\n        var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n        return nodeIsInPage;\n    };\n    PaginationProxy.prototype.isEmpty = function () {\n        return this.rowModel.isEmpty();\n    };\n    PaginationProxy.prototype.isRowsToRender = function () {\n        return this.rowModel.isRowsToRender();\n    };\n    PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n    };\n    PaginationProxy.prototype.forEachNode = function (callback) {\n        return this.rowModel.forEachNode(callback);\n    };\n    PaginationProxy.prototype.getType = function () {\n        return this.rowModel.getType();\n    };\n    PaginationProxy.prototype.getRowBounds = function (index) {\n        var res = this.rowModel.getRowBounds(index);\n        res.rowIndex = index;\n        return res;\n    };\n    PaginationProxy.prototype.getPageFirstRow = function () {\n        return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getPageLastRow = function () {\n        return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    PaginationProxy.prototype.getPageForIndex = function (index) {\n        return Math.floor(index / this.pageSize);\n    };\n    PaginationProxy.prototype.goToPageWithIndex = function (index) {\n        if (!this.active) {\n            return;\n        }\n        var pageNumber = this.getPageForIndex(index);\n        this.goToPage(pageNumber);\n    };\n    PaginationProxy.prototype.isRowInPage = function (row) {\n        if (!this.active) {\n            return true;\n        }\n        var rowPage = this.getPageForIndex(row.rowIndex);\n        return rowPage === this.currentPage;\n    };\n    PaginationProxy.prototype.isLastPageFound = function () {\n        return this.rowModel.isLastRowFound();\n    };\n    PaginationProxy.prototype.getCurrentPage = function () {\n        return this.currentPage;\n    };\n    PaginationProxy.prototype.goToNextPage = function () {\n        this.goToPage(this.currentPage + 1);\n    };\n    PaginationProxy.prototype.goToPreviousPage = function () {\n        this.goToPage(this.currentPage - 1);\n    };\n    PaginationProxy.prototype.goToFirstPage = function () {\n        this.goToPage(0);\n    };\n    PaginationProxy.prototype.goToLastPage = function () {\n        var rowCount = this.rowModel.getRowCount();\n        var lastPage = Math.floor(rowCount / this.pageSize);\n        this.goToPage(lastPage);\n    };\n    PaginationProxy.prototype.getPageSize = function () {\n        return this.pageSize;\n    };\n    PaginationProxy.prototype.getTotalPages = function () {\n        return this.totalPages;\n    };\n    PaginationProxy.prototype.setPageSize = function () {\n        // show put this into super class\n        this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n        if (!(this.pageSize >= 1)) {\n            this.pageSize = 100;\n        }\n    };\n    PaginationProxy.prototype.calculatePages = function () {\n        if (this.active) {\n            this.setPageSize();\n            if (this.paginateChildRows) {\n                this.calculatePagesAllRows();\n            }\n            else {\n                this.calculatePagesMasterRowsOnly();\n            }\n        }\n        else {\n            this.calculatedPagesNotActive();\n        }\n        this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n        if (this.topRowBounds) {\n            this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n        }\n        this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n        if (this.bottomRowBounds) {\n            this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n        }\n        this.setPixelOffset(exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0);\n    };\n    PaginationProxy.prototype.setPixelOffset = function (value) {\n        if (this.pixelOffset === value) {\n            return;\n        }\n        this.pixelOffset = value;\n        this.eventService.dispatchEvent({ type: Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED });\n    };\n    PaginationProxy.prototype.setZeroRows = function () {\n        this.masterRowCount = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = -1;\n        this.currentPage = 0;\n        this.totalPages = 0;\n    };\n    PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n        // const csrm = <ClientSideRowModel> this.rowModel;\n        // const rootNode = csrm.getRootNode();\n        // const masterRows = rootNode.childrenAfterSort;\n        this.masterRowCount = this.rowModel.getTopLevelRowCount();\n        // we say <=0 (rather than =0) as viewport returns -1 when no rows\n        if (this.masterRowCount <= 0) {\n            this.setZeroRows();\n            return;\n        }\n        var masterLastRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((masterLastRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        var masterPageStartIndex = this.pageSize * this.currentPage;\n        var masterPageEndIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (masterPageEndIndex > masterLastRowIndex) {\n            masterPageEndIndex = masterLastRowIndex;\n        }\n        this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);\n        // masterRows[masterPageStartIndex].rowIndex;\n        if (masterPageEndIndex === masterLastRowIndex) {\n            // if showing the last master row, then we want to show the very last row of the model\n            this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n        }\n        else {\n            var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1);\n            //masterRows[masterPageEndIndex + 1].rowIndex;\n            // this gets the index of the last child - eg current row is open, we want to display all children,\n            // the index of the last child is one less than the index of the next parent row.\n            this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n        }\n    };\n    PaginationProxy.prototype.getMasterRowCount = function () {\n        return this.masterRowCount;\n    };\n    PaginationProxy.prototype.calculatePagesAllRows = function () {\n        this.masterRowCount = this.rowModel.getRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var maxRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((maxRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n        this.bottomDisplayedRowIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (this.bottomDisplayedRowIndex > maxRowIndex) {\n            this.bottomDisplayedRowIndex = maxRowIndex;\n        }\n    };\n    PaginationProxy.prototype.calculatedPagesNotActive = function () {\n        this.pageSize = this.rowModel.getRowCount();\n        this.totalPages = 1;\n        this.currentPage = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    };\n    __decorate([\n        Autowired('rowModel')\n    ], PaginationProxy.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], PaginationProxy.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        Autowired('columnApi')\n    ], PaginationProxy.prototype, \"columnApi\", void 0);\n    __decorate([\n        Autowired('gridApi')\n    ], PaginationProxy.prototype, \"gridApi\", void 0);\n    __decorate([\n        PostConstruct\n    ], PaginationProxy.prototype, \"postConstruct\", null);\n    PaginationProxy = __decorate([\n        Bean('paginationProxy')\n    ], PaginationProxy);\n    return PaginationProxy;\n}(BeanStub));\nexport { PaginationProxy };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SimpleFilter } from \"./simpleFilter\";\nvar ScalarFilter = /** @class */ (function (_super) {\n    __extends(ScalarFilter, _super);\n    function ScalarFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScalarFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.scalarFilterParams = params;\n        this.checkDeprecatedParams();\n    };\n    ScalarFilter.prototype.checkDeprecatedParams = function () {\n        if (this.scalarFilterParams.nullComparator) {\n            console.warn('ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. ' +\n                'Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and ' +\n                'filterParams.includeBlanksInGreaterThan instead.');\n            this.scalarFilterParams.includeBlanksInEquals = this.scalarFilterParams.nullComparator.equals;\n            this.scalarFilterParams.includeBlanksInLessThan = this.scalarFilterParams.nullComparator.lessThan;\n            this.scalarFilterParams.includeBlanksInGreaterThan = this.scalarFilterParams.nullComparator.greaterThan;\n        }\n    };\n    ScalarFilter.prototype.nullComparator = function (selectedOption, filterValue, gridValue) {\n        if (gridValue == null) {\n            switch (selectedOption) {\n                case ScalarFilter.EMPTY:\n                    return 0;\n                case ScalarFilter.EQUALS:\n                    return this.scalarFilterParams.includeBlanksInEquals ? 0 : 1;\n                case ScalarFilter.NOT_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInEquals ? 1 : 0;\n                case ScalarFilter.GREATER_THAN:\n                case ScalarFilter.GREATER_THAN_OR_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInGreaterThan ? 1 : -1;\n                case ScalarFilter.LESS_THAN:\n                case ScalarFilter.LESS_THAN_OR_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInLessThan ? -1 : 1;\n            }\n        }\n        return this.comparator()(filterValue, gridValue);\n    };\n    ScalarFilter.prototype.individualConditionPasses = function (params, filterModel) {\n        var cellValue = this.scalarFilterParams.valueGetter(params.node);\n        var range = this.mapRangeFromModel(filterModel);\n        var filterValue = range.from;\n        var filterValueTo = range.to;\n        var filterType = filterModel.type;\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        if (customFilterOption) {\n            // only execute the custom filter if a value exists or a value isn't required, i.e. input is hidden\n            if (filterValue != null || customFilterOption.hideFilterInput) {\n                return customFilterOption.test(filterValue, cellValue);\n            }\n        }\n        var compareResult = this.nullComparator(filterType, filterValue, cellValue);\n        switch (filterType) {\n            case ScalarFilter.EQUALS:\n                return compareResult === 0;\n            case ScalarFilter.NOT_EQUAL:\n                return compareResult !== 0;\n            case ScalarFilter.GREATER_THAN:\n                return compareResult > 0;\n            case ScalarFilter.GREATER_THAN_OR_EQUAL:\n                return compareResult >= 0;\n            case ScalarFilter.LESS_THAN:\n                return compareResult < 0;\n            case ScalarFilter.LESS_THAN_OR_EQUAL:\n                return compareResult <= 0;\n            case ScalarFilter.IN_RANGE: {\n                var compareToResult = this.nullComparator(filterType, filterValueTo, cellValue);\n                return this.scalarFilterParams.inRangeInclusive ?\n                    compareResult >= 0 && compareToResult <= 0 :\n                    compareResult > 0 && compareToResult < 0;\n            }\n            default:\n                throw new Error('Unexpected type of filter: ' + filterType);\n        }\n    };\n    return ScalarFilter;\n}(SimpleFilter));\nexport { ScalarFilter };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired } from \"./context/context\";\nimport { Bean } from \"./context/context\";\nimport { BeanStub } from \"./context/beanStub\";\nvar TemplateService = /** @class */ (function (_super) {\n    __extends(TemplateService, _super);\n    function TemplateService() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.templateCache = {};\n        _this.waitingCallbacks = {};\n        return _this;\n    }\n    // returns the template if it is loaded, or null if it is not loaded\n    // but will call the callback when it is loaded\n    TemplateService.prototype.getTemplate = function (url, callback) {\n        var templateFromCache = this.templateCache[url];\n        if (templateFromCache) {\n            return templateFromCache;\n        }\n        var callbackList = this.waitingCallbacks[url];\n        var that = this;\n        if (!callbackList) {\n            // first time this was called, so need a new list for callbacks\n            callbackList = [];\n            this.waitingCallbacks[url] = callbackList;\n            // and also need to do the http request\n            var client = new XMLHttpRequest();\n            client.onload = function () {\n                that.handleHttpResult(this, url);\n            };\n            client.open(\"GET\", url);\n            client.send();\n        }\n        // add this callback\n        if (callback) {\n            callbackList.push(callback);\n        }\n        // caller needs to wait for template to load, so return null\n        return null;\n    };\n    TemplateService.prototype.handleHttpResult = function (httpResult, url) {\n        if (httpResult.status !== 200 || httpResult.response === null) {\n            console.warn(\"Unable to get template error \" + httpResult.status + \" - \" + url);\n            return;\n        }\n        // response success, so process it\n        // in IE9 the response is in - responseText\n        this.templateCache[url] = httpResult.response || httpResult.responseText;\n        // inform all listeners that this is now in the cache\n        var callbacks = this.waitingCallbacks[url];\n        for (var i = 0; i < callbacks.length; i++) {\n            var callback = callbacks[i];\n            // we could pass the callback the response, however we know the client of this code\n            // is the cell renderer, and it passes the 'cellRefresh' method in as the callback\n            // which doesn't take any parameters.\n            callback();\n        }\n        if (this.$scope) {\n            var that_1 = this;\n            window.setTimeout(function () {\n                that_1.$scope.$apply();\n            }, 0);\n        }\n    };\n    __decorate([\n        Autowired('$scope')\n    ], TemplateService.prototype, \"$scope\", void 0);\n    TemplateService = __decorate([\n        Bean('templateService')\n    ], TemplateService);\n    return TemplateService;\n}(BeanStub));\nexport { TemplateService };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RefSelector } from '../widgets/componentAnnotations';\nimport { ManagedFocusComponent } from '../widgets/managedFocusComponent';\nimport { addCssClass, clearElement, removeCssClass } from '../utils/dom';\nimport { setAriaLabel } from '../utils/aria';\nimport { find } from '../utils/generic';\nimport { callIfPresent } from '../utils/function';\nimport { KeyCode } from '../constants/keyCode';\nvar TabbedLayout = /** @class */ (function (_super) {\n    __extends(TabbedLayout, _super);\n    function TabbedLayout(params) {\n        var _this = _super.call(this, TabbedLayout.getTemplate(params.cssClass)) || this;\n        _this.items = [];\n        _this.params = params;\n        if (params.items) {\n            params.items.forEach(function (item) { return _this.addItem(item); });\n        }\n        return _this;\n    }\n    TabbedLayout.getTemplate = function (cssClass) {\n        return /* html */ \"<div class=\\\"ag-tabs \" + cssClass + \"\\\">\\n            <div ref=\\\"eHeader\\\" role=\\\"menu\\\" class=\\\"ag-tabs-header \" + (cssClass ? cssClass + \"-header\" : '') + \"\\\"></div>\\n            <div ref=\\\"eBody\\\" role=\\\"presentation\\\" class=\\\"ag-tabs-body \" + (cssClass ? cssClass + \"-body\" : '') + \"\\\"></div>\\n        </div>\";\n    };\n    TabbedLayout.prototype.handleKeyDown = function (e) {\n        switch (e.keyCode) {\n            case KeyCode.RIGHT:\n            case KeyCode.LEFT:\n                if (!this.eHeader.contains(document.activeElement)) {\n                    return;\n                }\n                var currentPosition = this.items.indexOf(this.activeItem);\n                var nextPosition = e.keyCode === KeyCode.RIGHT ? Math.min(currentPosition + 1, this.items.length - 1) : Math.max(currentPosition - 1, 0);\n                if (currentPosition === nextPosition) {\n                    return;\n                }\n                e.preventDefault();\n                var nextItem = this.items[nextPosition];\n                this.showItemWrapper(nextItem);\n                nextItem.eHeaderButton.focus();\n                break;\n            case KeyCode.UP:\n            case KeyCode.DOWN:\n                e.stopPropagation();\n                break;\n        }\n    };\n    TabbedLayout.prototype.onTabKeyDown = function (e) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        var _a = this, focusController = _a.focusController, eHeader = _a.eHeader, eBody = _a.eBody, activeItem = _a.activeItem;\n        var activeElement = document.activeElement;\n        e.preventDefault();\n        if (eHeader.contains(activeElement)) {\n            // focus is in header, move into body of popup\n            focusController.focusInto(eBody, e.shiftKey);\n        }\n        else {\n            // focus is in body, establish if it should return to header\n            if (focusController.isFocusUnderManagedComponent(eBody)) {\n                // focus was in a managed focus component and has now left, so we can return to the header\n                activeItem.eHeaderButton.focus();\n            }\n            else {\n                var nextEl = focusController.findNextFocusableElement(eBody, false, e.shiftKey);\n                if (nextEl) {\n                    // if another element exists in the body that can be focussed, go to that\n                    nextEl.focus();\n                }\n                else {\n                    // otherwise return to the header\n                    activeItem.eHeaderButton.focus();\n                }\n            }\n        }\n    };\n    TabbedLayout.prototype.setAfterAttachedParams = function (params) {\n        this.afterAttachedParams = params;\n    };\n    TabbedLayout.prototype.getMinDimensions = function () {\n        var eDummyContainer = this.getGui().cloneNode(true);\n        var eDummyBody = eDummyContainer.querySelector('[ref=\"eBody\"]');\n        // position fixed, so it isn't restricted to the boundaries of the parent\n        eDummyContainer.style.position = 'fixed';\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        this.getGui().appendChild(eDummyContainer);\n        var minWidth = 0;\n        var minHeight = 0;\n        this.items.forEach(function (itemWrapper) {\n            clearElement(eDummyBody);\n            var eClone = itemWrapper.tabbedItem.bodyPromise.resolveNow(null, function (body) { return body.cloneNode(true); });\n            if (eClone == null) {\n                return;\n            }\n            eDummyBody.appendChild(eClone);\n            if (minWidth < eDummyContainer.offsetWidth) {\n                minWidth = eDummyContainer.offsetWidth;\n            }\n            if (minHeight < eDummyContainer.offsetHeight) {\n                minHeight = eDummyContainer.offsetHeight;\n            }\n        });\n        this.getGui().removeChild(eDummyContainer);\n        return { height: minHeight, width: minWidth };\n    };\n    TabbedLayout.prototype.showFirstItem = function () {\n        if (this.items.length > 0) {\n            this.showItemWrapper(this.items[0]);\n        }\n    };\n    TabbedLayout.prototype.addItem = function (item) {\n        var eHeaderButton = document.createElement('span');\n        eHeaderButton.setAttribute('tabIndex', '-1');\n        eHeaderButton.setAttribute('role', 'menuitem');\n        eHeaderButton.appendChild(item.title);\n        addCssClass(eHeaderButton, 'ag-tab');\n        this.eHeader.appendChild(eHeaderButton);\n        setAriaLabel(eHeaderButton, item.titleLabel);\n        var wrapper = {\n            tabbedItem: item,\n            eHeaderButton: eHeaderButton\n        };\n        this.items.push(wrapper);\n        eHeaderButton.addEventListener('click', this.showItemWrapper.bind(this, wrapper));\n    };\n    TabbedLayout.prototype.showItem = function (tabbedItem) {\n        var itemWrapper = find(this.items, function (wrapper) {\n            return wrapper.tabbedItem === tabbedItem;\n        });\n        if (itemWrapper) {\n            this.showItemWrapper(itemWrapper);\n        }\n    };\n    TabbedLayout.prototype.showItemWrapper = function (wrapper) {\n        var _this = this;\n        if (this.params.onItemClicked) {\n            this.params.onItemClicked({ item: wrapper.tabbedItem });\n        }\n        if (this.activeItem === wrapper) {\n            callIfPresent(this.params.onActiveItemClicked);\n            return;\n        }\n        clearElement(this.eBody);\n        wrapper.tabbedItem.bodyPromise.then(function (body) {\n            _this.eBody.appendChild(body);\n            var onlyUnmanaged = !_this.focusController.isKeyboardFocus();\n            _this.focusController.focusInto(_this.eBody, false, onlyUnmanaged);\n        });\n        if (this.activeItem) {\n            removeCssClass(this.activeItem.eHeaderButton, 'ag-tab-selected');\n        }\n        addCssClass(wrapper.eHeaderButton, 'ag-tab-selected');\n        this.activeItem = wrapper;\n        if (wrapper.tabbedItem.afterAttachedCallback) {\n            wrapper.tabbedItem.afterAttachedCallback(this.afterAttachedParams);\n        }\n    };\n    __decorate([\n        RefSelector('eHeader')\n    ], TabbedLayout.prototype, \"eHeader\", void 0);\n    __decorate([\n        RefSelector('eBody')\n    ], TabbedLayout.prototype, \"eBody\", void 0);\n    return TabbedLayout;\n}(ManagedFocusComponent));\nexport { TabbedLayout };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from \"./component\";\nimport { Color } from \"../utils\";\nimport { RefSelector } from \"./componentAnnotations\";\nimport { PostConstruct } from \"../context/context\";\nimport { exists } from \"../utils/generic\";\nvar AgColorPanel = /** @class */ (function (_super) {\n    __extends(AgColorPanel, _super);\n    function AgColorPanel(config) {\n        var _this = _super.call(this, AgColorPanel.TEMPLATE) || this;\n        _this.H = 1; // in the [0, 1] range\n        _this.S = 1; // in the [0, 1] range\n        _this.B = 1; // in the [0, 1] range\n        _this.A = 1; // in the [0, 1] range\n        _this.isSpectrumDragging = false;\n        _this.isSpectrumHueDragging = false;\n        _this.isSpectrumAlphaDragging = false;\n        _this.colorChanged = false;\n        _this.picker = config.picker;\n        return _this;\n    }\n    AgColorPanel.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        this.initRecentColors();\n        this.addManagedListener(this.spectrumVal, 'mousedown', this.onSpectrumDraggerDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumDraggerMove.bind(this));\n        this.addManagedListener(this.spectrumHue, 'mousedown', this.onSpectrumHueDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumHueMove.bind(this));\n        this.addManagedListener(this.spectrumAlpha, 'mousedown', this.onSpectrumAlphaDown.bind(this));\n        this.addManagedListener(eGui, 'mousemove', this.onSpectrumAlphaMove.bind(this));\n        // Listening to `mouseup` on the document on purpose. The user might release the mouse button\n        // outside the UI control. When the mouse returns back to the control's area, the dragging\n        // of the thumb is not expected and seen as a bug.\n        this.addManagedListener(document, 'mouseup', this.onMouseUp.bind(this));\n        this.addManagedListener(this.recentColors, 'click', this.onRecentColorClick.bind(this));\n    };\n    AgColorPanel.prototype.refreshSpectrumRect = function () {\n        return this.spectrumValRect = this.spectrumVal.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshHueRect = function () {\n        return this.spectrumHueRect = this.spectrumHue.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshAlphaRect = function () {\n        return this.spectrumAlphaRect = this.spectrumAlpha.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.onSpectrumDraggerDown = function (e) {\n        this.refreshSpectrumRect();\n        this.isSpectrumDragging = true;\n        this.moveDragger(e);\n    };\n    AgColorPanel.prototype.onSpectrumDraggerMove = function (e) {\n        if (this.isSpectrumDragging) {\n            this.moveDragger(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumHueDown = function (e) {\n        this.refreshHueRect();\n        this.isSpectrumHueDragging = true;\n        this.moveHueSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumHueMove = function (e) {\n        if (this.isSpectrumHueDragging) {\n            this.moveHueSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumAlphaDown = function (e) {\n        this.refreshAlphaRect();\n        this.isSpectrumAlphaDragging = true;\n        this.moveAlphaSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumAlphaMove = function (e) {\n        if (this.isSpectrumAlphaDragging) {\n            this.moveAlphaSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onMouseUp = function () {\n        this.isSpectrumDragging = false;\n        this.isSpectrumHueDragging = false;\n        this.isSpectrumAlphaDragging = false;\n    };\n    AgColorPanel.prototype.moveDragger = function (e) {\n        var valRect = this.spectrumValRect;\n        if (valRect) {\n            var x = e.clientX - valRect.left;\n            var y = e.clientY - valRect.top;\n            x = Math.max(x, 0);\n            x = Math.min(x, valRect.width);\n            y = Math.max(y, 0);\n            y = Math.min(y, valRect.height);\n            this.setSpectrumValue(x / valRect.width, 1 - y / valRect.height);\n        }\n    };\n    AgColorPanel.prototype.moveHueSlider = function (e) {\n        var hueRect = this.spectrumHueRect;\n        if (hueRect) {\n            var slider = this.spectrumHueSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - hueRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, hueRect.width);\n            this.H = 1 - x / hueRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.moveAlphaSlider = function (e) {\n        var alphaRect = this.spectrumAlphaRect;\n        if (alphaRect) {\n            var slider = this.spectrumAlphaSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - alphaRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, alphaRect.width);\n            this.A = x / alphaRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.update = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var spectrumColor = Color.fromHSB(this.H * 360, 1, 1);\n        var rgbaColor = color.toRgbaString();\n        // the recent color list needs to know color has actually changed\n        var colorPicker = this.picker;\n        var existingColor = Color.fromString(colorPicker.getValue());\n        if (existingColor.toRgbaString() !== rgbaColor) {\n            this.colorChanged = true;\n        }\n        colorPicker.setValue(rgbaColor);\n        this.spectrumColor.style.backgroundColor = spectrumColor.toRgbaString();\n        this.spectrumDragger.style.backgroundColor = rgbaColor;\n    };\n    /**\n     * @param saturation In the [0, 1] interval.\n     * @param brightness In the [0, 1] interval.\n     */\n    AgColorPanel.prototype.setSpectrumValue = function (saturation, brightness) {\n        var valRect = this.spectrumValRect || this.refreshSpectrumRect();\n        if (valRect) {\n            var dragger = this.spectrumDragger;\n            var draggerRect = dragger.getBoundingClientRect();\n            saturation = Math.max(0, saturation);\n            saturation = Math.min(1, saturation);\n            brightness = Math.max(0, brightness);\n            brightness = Math.min(1, brightness);\n            this.S = saturation;\n            this.B = brightness;\n            dragger.style.left = (saturation * valRect.width - draggerRect.width / 2) + 'px';\n            dragger.style.top = ((1 - brightness) * valRect.height - draggerRect.height / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.initRecentColors = function () {\n        var recentColors = AgColorPanel.recentColors;\n        var innerHtml = recentColors.map(function (color, index) {\n            return \"<div class=\\\"ag-recent-color\\\" id=\" + index + \" style=\\\"background-color: \" + color + \"; width: 15px; height: 15px;\\\" recent-color=\\\"\" + color + \"\\\"></div>\";\n        });\n        this.recentColors.innerHTML = innerHtml.join('');\n    };\n    AgColorPanel.prototype.setValue = function (val) {\n        var color = Color.fromString(val);\n        var _a = color.toHSB(), h = _a[0], s = _a[1], b = _a[2];\n        this.H = (isNaN(h) ? 0 : h) / 360;\n        this.A = color.a;\n        var spectrumHueRect = this.spectrumHueRect || this.refreshHueRect();\n        var spectrumAlphaRect = this.spectrumAlphaRect || this.refreshAlphaRect();\n        this.spectrumHueSlider.style.left = ((this.H - 1) * -spectrumHueRect.width) + \"px\";\n        this.spectrumAlphaSlider.style.left = (this.A * spectrumAlphaRect.width) + \"px\";\n        this.setSpectrumValue(s, b);\n    };\n    AgColorPanel.prototype.onRecentColorClick = function (e) {\n        var target = e.target;\n        if (!exists(target.id)) {\n            return;\n        }\n        var id = parseInt(target.id, 10);\n        this.setValue(AgColorPanel.recentColors[id]);\n        this.destroy();\n    };\n    AgColorPanel.prototype.addRecentColor = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var rgbaColor = color.toRgbaString();\n        var recentColors = AgColorPanel.recentColors;\n        if (!this.colorChanged || recentColors[0] === rgbaColor) {\n            return;\n        }\n        // remove duplicate color\n        recentColors = recentColors.filter(function (color) { return color != rgbaColor; });\n        // add color to head\n        recentColors = [rgbaColor].concat(recentColors);\n        // ensure we don't exceed max number of recent colors\n        if (recentColors.length > AgColorPanel.maxRecentColors) {\n            recentColors = recentColors.slice(0, AgColorPanel.maxRecentColors);\n        }\n        AgColorPanel.recentColors = recentColors;\n    };\n    AgColorPanel.prototype.destroy = function () {\n        this.addRecentColor();\n        _super.prototype.destroy.call(this);\n    };\n    AgColorPanel.maxRecentColors = 8;\n    AgColorPanel.recentColors = [];\n    AgColorPanel.TEMPLATE = \"<div class=\\\"ag-color-panel\\\">\\n            <div ref=\\\"spectrumColor\\\" class=\\\"ag-spectrum-color\\\">\\n                <div class=\\\"ag-spectrum-sat ag-spectrum-fill\\\">\\n                    <div ref=\\\"spectrumVal\\\" class=\\\"ag-spectrum-val ag-spectrum-fill\\\">\\n                        <div ref=\\\"spectrumDragger\\\" class=\\\"ag-spectrum-dragger\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-spectrum-tools\\\">\\n                <div ref=\\\"spectrumHue\\\" class=\\\"ag-spectrum-hue ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-hue-background\\\"></div>\\n                    <div ref=\\\"spectrumHueSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"spectrumAlpha\\\" class=\\\"ag-spectrum-alpha ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-alpha-background\\\"></div>\\n                    <div ref=\\\"spectrumAlphaSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"recentColors\\\" class=\\\"ag-recent-colors\\\"></div>\\n            </div>\\n        </div>\";\n    __decorate([\n        RefSelector('spectrumColor')\n    ], AgColorPanel.prototype, \"spectrumColor\", void 0);\n    __decorate([\n        RefSelector('spectrumVal')\n    ], AgColorPanel.prototype, \"spectrumVal\", void 0);\n    __decorate([\n        RefSelector('spectrumDragger')\n    ], AgColorPanel.prototype, \"spectrumDragger\", void 0);\n    __decorate([\n        RefSelector('spectrumHue')\n    ], AgColorPanel.prototype, \"spectrumHue\", void 0);\n    __decorate([\n        RefSelector('spectrumHueSlider')\n    ], AgColorPanel.prototype, \"spectrumHueSlider\", void 0);\n    __decorate([\n        RefSelector('spectrumAlpha')\n    ], AgColorPanel.prototype, \"spectrumAlpha\", void 0);\n    __decorate([\n        RefSelector('spectrumAlphaSlider')\n    ], AgColorPanel.prototype, \"spectrumAlphaSlider\", void 0);\n    __decorate([\n        RefSelector('recentColors')\n    ], AgColorPanel.prototype, \"recentColors\", void 0);\n    __decorate([\n        PostConstruct\n    ], AgColorPanel.prototype, \"postConstruct\", null);\n    return AgColorPanel;\n}(Component));\nexport { AgColorPanel };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, PostConstruct } from \"../context/context\";\nimport { Constants } from \"../constants/constants\";\nimport { DragAndDropService, DragSourceType, HorizontalDirection } from \"../dragAndDrop/dragAndDropService\";\nimport { missing, exists } from \"../utils/generic\";\nimport { sortNumerically, last, includes } from \"../utils/array\";\nvar MoveColumnController = /** @class */ (function () {\n    function MoveColumnController(pinned, eContainer) {\n        this.needToMoveLeft = false;\n        this.needToMoveRight = false;\n        this.pinned = pinned;\n        this.eContainer = eContainer;\n        this.centerContainer = !exists(pinned);\n    }\n    MoveColumnController.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    MoveColumnController.prototype.init = function () {\n        this.logger = this.loggerFactory.create('MoveColumnController');\n    };\n    MoveColumnController.prototype.getIconName = function () {\n        return this.pinned ? DragAndDropService.ICON_PINNED : DragAndDropService.ICON_MOVE;\n    };\n    MoveColumnController.prototype.onDragEnter = function (draggingEvent) {\n        // we do dummy drag, so make sure column appears in the right location when first placed\n        var columns = draggingEvent.dragItem.columns;\n        var dragCameFromToolPanel = draggingEvent.dragSource.type === DragSourceType.ToolPanel;\n        if (dragCameFromToolPanel) {\n            // the if statement doesn't work if drag leaves grid, then enters again\n            this.setColumnsVisible(columns, true, \"uiColumnDragged\");\n        }\n        else {\n            // restore previous state of visible columns upon re-entering. this means if the user drags\n            // a group out, and then drags the group back in, only columns that were originally visible\n            // will be visible again. otherwise a group with three columns (but only two visible) could\n            // be dragged out, then when it's dragged in again, all three are visible. this stops that.\n            var visibleState_1 = draggingEvent.dragItem.visibleState;\n            var visibleColumns = columns.filter(function (column) { return visibleState_1[column.getId()]; });\n            this.setColumnsVisible(visibleColumns, true, \"uiColumnDragged\");\n        }\n        this.setColumnsPinned(columns, this.pinned, \"uiColumnDragged\");\n        this.onDragging(draggingEvent, true);\n    };\n    MoveColumnController.prototype.onDragLeave = function (draggingEvent) {\n        var hideColumnOnExit = !this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns() && !draggingEvent.fromNudge;\n        if (hideColumnOnExit) {\n            var dragItem = draggingEvent.dragSource.getDragItem();\n            var columns = dragItem.columns;\n            this.setColumnsVisible(columns, false, \"uiColumnDragged\");\n        }\n        this.ensureIntervalCleared();\n    };\n    MoveColumnController.prototype.setColumnsVisible = function (columns, visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (columns) {\n            var allowedCols = columns.filter(function (c) { return !c.getColDef().lockVisible; });\n            this.columnController.setColumnsVisible(allowedCols, visible, source);\n        }\n    };\n    MoveColumnController.prototype.setColumnsPinned = function (columns, pinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (columns) {\n            var allowedCols = columns.filter(function (c) { return !c.getColDef().lockPinned; });\n            this.columnController.setColumnsPinned(allowedCols, pinned, source);\n        }\n    };\n    MoveColumnController.prototype.onDragStop = function () {\n        this.ensureIntervalCleared();\n    };\n    MoveColumnController.prototype.normaliseX = function (x) {\n        // flip the coordinate if doing RTL\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            var clientWidth = this.eContainer.clientWidth;\n            x = clientWidth - x;\n        }\n        // adjust for scroll only if centre container (the pinned containers don't scroll)\n        if (this.centerContainer) {\n            x += this.gridPanel.getCenterViewportScrollLeft();\n        }\n        return x;\n    };\n    MoveColumnController.prototype.checkCenterForScrolling = function (xAdjustedForScroll) {\n        if (this.centerContainer) {\n            // scroll if the mouse has gone outside the grid (or just outside the scrollable part if pinning)\n            // putting in 50 buffer, so even if user gets to edge of grid, a scroll will happen\n            var firstVisiblePixel = this.gridPanel.getCenterViewportScrollLeft();\n            var lastVisiblePixel = firstVisiblePixel + this.gridPanel.getCenterWidth();\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                this.needToMoveRight = xAdjustedForScroll < (firstVisiblePixel + 50);\n                this.needToMoveLeft = xAdjustedForScroll > (lastVisiblePixel - 50);\n            }\n            else {\n                this.needToMoveLeft = xAdjustedForScroll < (firstVisiblePixel + 50);\n                this.needToMoveRight = xAdjustedForScroll > (lastVisiblePixel - 50);\n            }\n            if (this.needToMoveLeft || this.needToMoveRight) {\n                this.ensureIntervalStarted();\n            }\n            else {\n                this.ensureIntervalCleared();\n            }\n        }\n    };\n    MoveColumnController.prototype.onDragging = function (draggingEvent, fromEnter) {\n        var _this = this;\n        if (fromEnter === void 0) { fromEnter = false; }\n        this.lastDraggingEvent = draggingEvent;\n        // if moving up or down (ie not left or right) then do nothing\n        if (missing(draggingEvent.hDirection)) {\n            return;\n        }\n        var mouseXNormalised = this.normaliseX(draggingEvent.x);\n        // if the user is dragging into the panel, ie coming from the side panel into the main grid,\n        // we don't want to scroll the grid this time, it would appear like the table is jumping\n        // each time a column is dragged in.\n        if (!fromEnter) {\n            this.checkCenterForScrolling(mouseXNormalised);\n        }\n        var hDirectionNormalised = this.normaliseDirection(draggingEvent.hDirection);\n        var dragSourceType = draggingEvent.dragSource.type;\n        var columnsToMove = draggingEvent.dragSource.getDragItem().columns;\n        columnsToMove = columnsToMove.filter(function (col) {\n            if (col.getColDef().lockPinned) {\n                // if locked return true only if both col and container are same pin type.\n                // double equals (==) here on purpose so that null==undefined is true (for not pinned options)\n                return col.getPinned() == _this.pinned;\n            }\n            else {\n                // if not pin locked, then always allowed to be in this container\n                return true;\n            }\n        });\n        this.attemptMoveColumns(dragSourceType, columnsToMove, hDirectionNormalised, mouseXNormalised, fromEnter);\n    };\n    MoveColumnController.prototype.normaliseDirection = function (hDirection) {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            switch (hDirection) {\n                case HorizontalDirection.Left: return HorizontalDirection.Right;\n                case HorizontalDirection.Right: return HorizontalDirection.Left;\n                default: console.error(\"ag-Grid: Unknown direction \" + hDirection);\n            }\n        }\n        else {\n            return hDirection;\n        }\n    };\n    // returns the index of the first column in the list ONLY if the cols are all beside\n    // each other. if the cols are not beside each other, then returns null\n    MoveColumnController.prototype.calculateOldIndex = function (movingCols) {\n        var gridCols = this.columnController.getAllGridColumns();\n        var indexes = sortNumerically(movingCols.map(function (col) { return gridCols.indexOf(col); }));\n        var firstIndex = indexes[0];\n        var lastIndex = last(indexes);\n        var spread = lastIndex - firstIndex;\n        var gapsExist = spread !== indexes.length - 1;\n        return gapsExist ? null : firstIndex;\n    };\n    MoveColumnController.prototype.attemptMoveColumns = function (dragSourceType, allMovingColumns, hDirection, mouseX, fromEnter) {\n        var draggingLeft = hDirection === HorizontalDirection.Left;\n        var draggingRight = hDirection === HorizontalDirection.Right;\n        // it is important to sort the moving columns as they are in grid columns, as the list of moving columns\n        // could themselves be part of 'married children' groups, which means we need to maintain the order within\n        // the moving list.\n        var allMovingColumnsOrdered = allMovingColumns.slice();\n        this.columnController.sortColumnsLikeGridColumns(allMovingColumnsOrdered);\n        var validMoves = this.calculateValidMoves(allMovingColumnsOrdered, draggingRight, mouseX);\n        // if cols are not adjacent, then this returns null. when moving, we constrain the direction of the move\n        // (ie left or right) to the mouse direction. however\n        var oldIndex = this.calculateOldIndex(allMovingColumnsOrdered);\n        if (validMoves.length === 0) {\n            return;\n        }\n        var firstValidMove = validMoves[0];\n        // the two check below stop an error when the user grabs a group my a middle column, then\n        // it is possible the mouse pointer is to the right of a column while been dragged left.\n        // so we need to make sure that the mouse pointer is actually left of the left most column\n        // if moving left, and right of the right most column if moving right\n        // we check 'fromEnter' below so we move the column to the new spot if the mouse is coming from\n        // outside the grid, eg if the column is moving from side panel, mouse is moving left, then we should\n        // place the column to the RHS even if the mouse is moving left and the column is already on\n        // the LHS. otherwise we stick to the rule described above.\n        var constrainDirection = oldIndex !== null && !fromEnter;\n        // don't consider 'fromEnter' when dragging header cells, otherwise group can jump to opposite direction of drag\n        if (dragSourceType == DragSourceType.HeaderCell) {\n            constrainDirection = oldIndex !== null;\n        }\n        if (constrainDirection) {\n            // only allow left drag if this column is moving left\n            if (draggingLeft && firstValidMove >= oldIndex) {\n                return;\n            }\n            // only allow right drag if this column is moving right\n            if (draggingRight && firstValidMove <= oldIndex) {\n                return;\n            }\n        }\n        for (var i = 0; i < validMoves.length; i++) {\n            var move = validMoves[i];\n            if (!this.columnController.doesMovePassRules(allMovingColumnsOrdered, move)) {\n                continue;\n            }\n            this.columnController.moveColumns(allMovingColumnsOrdered, move, \"uiColumnDragged\");\n            // important to return here, so once we do the first valid move, we don't try do any more\n            return;\n        }\n    };\n    MoveColumnController.prototype.calculateValidMoves = function (movingCols, draggingRight, mouseX) {\n        var isMoveBlocked = this.gridOptionsWrapper.isSuppressMovableColumns() || movingCols.some(function (col) { return col.getColDef().suppressMovable; });\n        if (isMoveBlocked) {\n            return [];\n        }\n        // this is the list of cols on the screen, so it's these we use when comparing the x mouse position\n        var allDisplayedCols = this.columnController.getDisplayedColumns(this.pinned);\n        // but this list is the list of all cols, when we move a col it's the index within this list that gets used,\n        // so the result we return has to be and index location for this list\n        var allGridCols = this.columnController.getAllGridColumns();\n        var movingDisplayedCols = allDisplayedCols.filter(function (col) { return includes(movingCols, col); });\n        var otherDisplayedCols = allDisplayedCols.filter(function (col) { return !includes(movingCols, col); });\n        var otherGridCols = allGridCols.filter(function (col) { return !includes(movingCols, col); });\n        // work out how many DISPLAYED columns fit before the 'x' position. this gives us the displayIndex.\n        // for example, if cols are a,b,c,d and we find a,b fit before 'x', then we want to place the moving\n        // col between b and c (so that it is under the mouse position).\n        var displayIndex = 0;\n        var availableWidth = mouseX;\n        // if we are dragging right, then the columns will be to the left of the mouse, so we also want to\n        // include the width of the moving columns\n        if (draggingRight) {\n            var widthOfMovingDisplayedCols_1 = 0;\n            movingDisplayedCols.forEach(function (col) { return widthOfMovingDisplayedCols_1 += col.getActualWidth(); });\n            availableWidth -= widthOfMovingDisplayedCols_1;\n        }\n        if (availableWidth > 0) {\n            // now count how many of the displayed columns will fit to the left\n            for (var i = 0; i < otherDisplayedCols.length; i++) {\n                var col = otherDisplayedCols[i];\n                availableWidth -= col.getActualWidth();\n                if (availableWidth < 0) {\n                    break;\n                }\n                displayIndex++;\n            }\n            // trial and error, if going right, we adjust by one, i didn't manage to quantify why, but it works\n            if (draggingRight) {\n                displayIndex++;\n            }\n        }\n        // the display index is with respect to all the showing columns, however when we move, it's with\n        // respect to all grid columns, so we need to translate from display index to grid index\n        var firstValidMove;\n        if (displayIndex > 0) {\n            var leftColumn = otherDisplayedCols[displayIndex - 1];\n            firstValidMove = otherGridCols.indexOf(leftColumn) + 1;\n        }\n        else {\n            firstValidMove = otherGridCols.indexOf(otherDisplayedCols[0]);\n            if (firstValidMove === -1) {\n                firstValidMove = 0;\n            }\n        }\n        var validMoves = [firstValidMove];\n        // add in other valid moves due to hidden columns and married children. for example, a particular\n        // move might break a group that has married children (so move isn't valid), however there could\n        // be hidden columns (not displayed) that we could jump over to make the move valid. because\n        // they are hidden, user doesn't see any different, however it allows moves that would otherwise\n        // not work. for example imagine a group with 9 columns and all columns are hidden except the\n        // middle one (so 4 hidden to left, 4 hidden to right), then when moving 'firstValidMove' will\n        // be relative to the not-shown column, however we need to consider the move jumping over all the\n        // hidden children. if we didn't do this, then if the group just described was at the end (RHS) of the\n        // grid, there would be no way to put a column after it (as the grid would only consider beside the\n        // visible column, which would fail valid move rules).\n        if (draggingRight) {\n            // if dragging right, then we add all the additional moves to the right. so in other words\n            // if the next move is not valid, find the next move to the right that is valid.\n            var pointer = firstValidMove + 1;\n            var lastIndex = allGridCols.length - 1;\n            while (pointer <= lastIndex) {\n                validMoves.push(pointer);\n                pointer++;\n            }\n        }\n        else {\n            // if dragging left we do the reverse of dragging right, we add in all the valid moves to the\n            // left. however we also have to consider moves to the right for all hidden columns first.\n            // (this logic is hard to reason with, it was worked out with trial and error,\n            // move observation rather than science).\n            // add moves to the right\n            var pointer = firstValidMove;\n            var lastIndex = allGridCols.length - 1;\n            var displacedCol = allGridCols[pointer];\n            while (pointer <= lastIndex && this.isColumnHidden(allDisplayedCols, displacedCol)) {\n                pointer++;\n                validMoves.push(pointer);\n                displacedCol = allGridCols[pointer];\n            }\n            // add moves to the left\n            pointer = firstValidMove - 1;\n            var firstDisplayIndex = 0;\n            while (pointer >= firstDisplayIndex) {\n                validMoves.push(pointer);\n                pointer--;\n            }\n        }\n        return validMoves;\n    };\n    // isHidden takes into account visible=false and group=closed, ie it is not displayed\n    MoveColumnController.prototype.isColumnHidden = function (displayedColumns, col) {\n        return displayedColumns.indexOf(col) < 0;\n    };\n    MoveColumnController.prototype.ensureIntervalStarted = function () {\n        if (!this.movingIntervalId) {\n            this.intervalCount = 0;\n            this.failedMoveAttempts = 0;\n            this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n            if (this.needToMoveLeft) {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_LEFT, true);\n            }\n            else {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_RIGHT, true);\n            }\n        }\n    };\n    MoveColumnController.prototype.ensureIntervalCleared = function () {\n        if (this.moveInterval) {\n            window.clearInterval(this.movingIntervalId);\n            this.movingIntervalId = null;\n            this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE);\n        }\n    };\n    MoveColumnController.prototype.moveInterval = function () {\n        // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n        // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n        var pixelsToMove;\n        this.intervalCount++;\n        pixelsToMove = 10 + (this.intervalCount * 5);\n        if (pixelsToMove > 100) {\n            pixelsToMove = 100;\n        }\n        var pixelsMoved;\n        if (this.needToMoveLeft) {\n            pixelsMoved = this.gridPanel.scrollHorizontally(-pixelsToMove);\n        }\n        else if (this.needToMoveRight) {\n            pixelsMoved = this.gridPanel.scrollHorizontally(pixelsToMove);\n        }\n        if (pixelsMoved !== 0) {\n            this.onDragging(this.lastDraggingEvent);\n            this.failedMoveAttempts = 0;\n        }\n        else {\n            // we count the failed move attempts. if we fail to move 7 times, then we pin the column.\n            // this is how we achieve pining by dragging the column to the edge of the grid.\n            this.failedMoveAttempts++;\n            var columns = this.lastDraggingEvent.dragItem.columns;\n            var columnsThatCanPin = columns.filter(function (c) { return !c.getColDef().lockPinned; });\n            if (columnsThatCanPin.length > 0) {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED);\n                if (this.failedMoveAttempts > 7) {\n                    var pinType = this.needToMoveLeft ? Constants.PINNED_LEFT : Constants.PINNED_RIGHT;\n                    this.setColumnsPinned(columnsThatCanPin, pinType, \"uiColumnDragged\");\n                    this.dragAndDropService.nudge();\n                }\n            }\n        }\n    };\n    __decorate([\n        Autowired('loggerFactory')\n    ], MoveColumnController.prototype, \"loggerFactory\", void 0);\n    __decorate([\n        Autowired('columnController')\n    ], MoveColumnController.prototype, \"columnController\", void 0);\n    __decorate([\n        Autowired('dragAndDropService')\n    ], MoveColumnController.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], MoveColumnController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        PostConstruct\n    ], MoveColumnController.prototype, \"init\", null);\n    return MoveColumnController;\n}());\nexport { MoveColumnController };\n","/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v24.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AgCheckbox } from '../widgets/agCheckbox';\nimport { Autowired } from '../context/context';\nimport { Component } from '../widgets/component';\nimport { Events } from '../events';\nimport { RefSelector } from '../widgets/componentAnnotations';\nimport { RowNode } from '../entities/rowNode';\nimport { stopPropagationForAgGrid } from '../utils/event';\nvar CheckboxSelectionComponent = /** @class */ (function (_super) {\n    __extends(CheckboxSelectionComponent, _super);\n    function CheckboxSelectionComponent() {\n        return _super.call(this, /* html*/ \"\\n            <div class=\\\"ag-selection-checkbox\\\">\\n                <ag-checkbox role=\\\"presentation\\\" ref=\\\"eCheckbox\\\"></ag-checkbox>\\n            </div>\") || this;\n    }\n    CheckboxSelectionComponent.prototype.onDataChanged = function () {\n        // when rows are loaded for the second time, this can impact the selection, as a row\n        // could be loaded as already selected (if user scrolls down, and then up again).\n        this.onSelectionChanged();\n    };\n    CheckboxSelectionComponent.prototype.onSelectableChanged = function () {\n        this.showOrHideSelect();\n    };\n    CheckboxSelectionComponent.prototype.onSelectionChanged = function () {\n        var state = this.rowNode.isSelected();\n        this.eCheckbox.setValue(state, true);\n        this.eCheckbox.setInputAriaLabel(\"Press Space to toggle row selection (\" + (state ? 'checked' : 'unchecked') + \")\");\n    };\n    CheckboxSelectionComponent.prototype.onCheckedClicked = function () {\n        var groupSelectsFiltered = this.gridOptionsWrapper.isGroupSelectsFiltered();\n        var updatedCount = this.rowNode.setSelectedParams({ newValue: false, groupSelectsFiltered: groupSelectsFiltered });\n        return updatedCount;\n    };\n    CheckboxSelectionComponent.prototype.onUncheckedClicked = function (event) {\n        var groupSelectsFiltered = this.gridOptionsWrapper.isGroupSelectsFiltered();\n        var updatedCount = this.rowNode.setSelectedParams({ newValue: true, rangeSelect: event.shiftKey, groupSelectsFiltered: groupSelectsFiltered });\n        return updatedCount;\n    };\n    CheckboxSelectionComponent.prototype.init = function (params) {\n        var _this = this;\n        this.rowNode = params.rowNode;\n        this.column = params.column;\n        this.onSelectionChanged();\n        // we don't want the row clicked event to fire when selecting the checkbox, otherwise the row\n        // would possibly get selected twice\n        this.addGuiEventListener('click', function (event) { return stopPropagationForAgGrid(event); });\n        // likewise we don't want double click on this icon to open a group\n        this.addGuiEventListener('dblclick', function (event) { return stopPropagationForAgGrid(event); });\n        this.addManagedListener(this.eCheckbox, AgCheckbox.EVENT_CHANGED, function (params) {\n            if (params.selected) {\n                _this.onUncheckedClicked(params.event || {});\n            }\n            else {\n                _this.onCheckedClicked();\n            }\n        });\n        this.addManagedListener(this.rowNode, RowNode.EVENT_ROW_SELECTED, this.onSelectionChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.onDataChanged.bind(this));\n        this.addManagedListener(this.rowNode, RowNode.EVENT_SELECTABLE_CHANGED, this.onSelectableChanged.bind(this));\n        this.isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n        var checkboxVisibleIsDynamic = this.isRowSelectableFunc || this.checkboxCallbackExists();\n        if (checkboxVisibleIsDynamic) {\n            this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.showOrHideSelect.bind(this));\n            this.showOrHideSelect();\n        }\n        this.eCheckbox.getInputElement().setAttribute('tabindex', '-1');\n    };\n    CheckboxSelectionComponent.prototype.showOrHideSelect = function () {\n        // if the isRowSelectable() is not provided the row node is selectable by default\n        var selectable = this.rowNode.selectable;\n        // checkboxSelection callback is deemed a legacy solution however we will still consider it's result.\n        // If selectable, then also check the colDef callback. if not selectable, this it short circuits - no need\n        // to call the colDef callback.\n        if (selectable && this.checkboxCallbackExists()) {\n            selectable = this.column.isCellCheckboxSelection(this.rowNode);\n        }\n        // show checkbox if both conditions are true\n        this.setDisplayed(selectable);\n    };\n    CheckboxSelectionComponent.prototype.checkboxCallbackExists = function () {\n        // column will be missing if groupUseEntireRow=true\n        var colDef = this.column ? this.column.getColDef() : null;\n        return colDef && typeof colDef.checkboxSelection === 'function';\n    };\n    __decorate([\n        Autowired('gridOptionsWrapper')\n    ], CheckboxSelectionComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        RefSelector('eCheckbox')\n    ], CheckboxSelectionComponent.prototype, \"eCheckbox\", void 0);\n    return CheckboxSelectionComponent;\n}(Component));\nexport { CheckboxSelectionComponent };\n"],"sourceRoot":"webpack:///"}
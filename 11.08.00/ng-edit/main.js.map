{"version":3,"sources":["./src/app/shared/constants/session.constants.ts","./src/app/params-init.factory.ts","../edit/shared/store/ngrx-data/entity-metadata.ts","../edit/shared/helpers/url-helper.ts","./src/app/shared/helpers/angular-console-log.helper.ts","./src/environments/environment.ts","./src/app/shared/constants/dialog-types.constants.ts","./src/app/shared/services/context.ts","../edit/shared/store/selectors/global-configuration.selectors.ts","../edit/shared/store/selectors/index.ts","./src/app/app.component.ts","./src/app/app.module.ts","../edit/shared/store/reducers/index.ts","../edit/edit.matcher.ts","../edit/shared/store/index.ts","./src/app/shared/constants/eav.constants.ts","../edit/shared/store/reducers/global-configuration.reducer.ts","./src/app/shared/interceptors/set-headers.interceptor.ts","./src/app/shared/interceptors/handle-errors.interceptor.ts","./src/app/shared/helpers/url-prep.helper.ts","./src/app/app-routing.module.ts","../edit/shared/store/actions/global-configuration.actions.ts","./src/app/app.component.html","./src/app/app.component.scss","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export const prefix = 'eav-';\r\nexport const keyZoneId = prefix + 'zoneId';\r\nexport const keyRequestToken = prefix + 'rvt';\r\nexport const keyTabId = prefix + 'tid';\r\nexport const keyContentBlockId = prefix + 'cbid';\r\nexport const keyModuleId = prefix + 'mid';\r\nexport const keyAppId = prefix + 'appId';\r\nexport const keyDebug = prefix + 'debug';\r\nexport const keyDialog = prefix + 'dialog';\r\nexport const keyContentType = prefix + 'contentType';\r\nexport const keyItems = prefix + 'items';\r\nexport const keyPartOfPage = prefix + 'partOfPage';\r\nexport const keyPortalRoot = prefix + 'portalroot';\r\nexport const keyPublishing = prefix + 'publishing';\r\nexport const keyFilters = prefix + 'filters';\r\nexport const keyPipelineId = prefix + 'pipelineId';\r\nexport const keyApi = prefix + 'api';\r\n\r\n/** Url which opened the dialog. Used for debugging */\r\nexport const keyUrl = prefix + 'url';\r\n","import { JsInfo, SxcRoot } from '@2sic.com/2sxc-typings';\r\nimport { Injector } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UrlHelper } from '../../../edit/shared/helpers/url-helper';\r\nimport { DialogTypeConstants } from './shared/constants/dialog-types.constants';\r\n// tslint:disable-next-line:max-line-length\r\nimport { keyApi, keyAppId, keyContentType, keyDialog, keyItems, keyPipelineId, keyPortalRoot, keyRequestToken, keyTabId, keyUrl, keyZoneId, prefix } from './shared/constants/session.constants';\r\nimport { convertFormToUrl } from './shared/helpers/url-prep.helper';\r\nimport { EditForm, EditItem, GroupItem } from './shared/models/edit-form.model';\r\n\r\ndeclare const $2sxc: SxcRoot;\r\n\r\nexport function paramsInitFactory(injector: Injector) {\r\n  return () => {\r\n    console.log('Setting parameters config and clearing route');\r\n    const eavKeys = Object.keys(sessionStorage).filter(key => key.startsWith(prefix));\r\n    const isParamsRoute = !window.location.hash.startsWith('#/');\r\n    if (isParamsRoute) {\r\n      console.log('Initial route:', window.location.href);\r\n      // clear our part of the session\r\n      for (const key of eavKeys) {\r\n        sessionStorage.removeItem(key);\r\n      }\r\n      sessionStorage.setItem(keyUrl, window.location.href); // save url which opened the dialog\r\n      sessionStorage.setItem(keyDialog, DialogTypeConstants.Edit); // set edit dialog as the default\r\n\r\n      // save params\r\n      const urlHash = window.location.hash.substring(1); // substring removes first # char\r\n      const queryParametersFromUrl = UrlHelper.readQueryStringParameters(urlHash);\r\n      const paramKeys = Object.keys(queryParametersFromUrl);\r\n      for (const key of paramKeys) {\r\n        const value = queryParametersFromUrl[key];\r\n        if (value == null) { continue; }\r\n        sessionStorage.setItem(prefix + key, value);\r\n      }\r\n\r\n      // redirect\r\n      const router = injector.get(Router);\r\n      const zoneId = sessionStorage.getItem(keyZoneId);\r\n      const appId = sessionStorage.getItem(keyAppId);\r\n      const dialog = sessionStorage.getItem(keyDialog);\r\n      const contentType = sessionStorage.getItem(keyContentType);\r\n      const items = sessionStorage.getItem(keyItems);\r\n      switch (dialog) {\r\n        case DialogTypeConstants.Zone:\r\n          router.navigate([`${zoneId}/apps`]);\r\n          break;\r\n        case DialogTypeConstants.AppImport:\r\n          router.navigate([`${zoneId}/import`]);\r\n          break;\r\n        case DialogTypeConstants.App:\r\n          router.navigate([`${zoneId}/${appId}/app`]);\r\n          break;\r\n        case DialogTypeConstants.ContentType:\r\n          router.navigate([`${zoneId}/${appId}/fields/${contentType}`]);\r\n          break;\r\n        case DialogTypeConstants.ContentItems:\r\n          router.navigate([`${zoneId}/${appId}/items/${contentType}`]);\r\n          break;\r\n        case DialogTypeConstants.Edit:\r\n          const editItems: EditItem[] = JSON.parse(items);\r\n          const form: EditForm = { items: editItems };\r\n          const formUrl = convertFormToUrl(form);\r\n          router.navigate([`${zoneId}/${appId}/edit/${formUrl}`]);\r\n          break;\r\n        case DialogTypeConstants.ItemHistory:\r\n          const historyItems: EditItem[] = JSON.parse(items);\r\n          router.navigate([`${zoneId}/${appId}/versions/${historyItems[0].EntityId}`]);\r\n          break;\r\n        case DialogTypeConstants.Develop:\r\n          router.navigate([`${zoneId}/${appId}/code`]);\r\n          break;\r\n        case DialogTypeConstants.PipelineDesigner:\r\n          const pipelineId = sessionStorage.getItem(keyPipelineId);\r\n          router.navigate([`${zoneId}/${appId}/query/${pipelineId}`]);\r\n          break;\r\n        case DialogTypeConstants.Replace:\r\n          const replaceItems: GroupItem[] = JSON.parse(items);\r\n          const rGuid = replaceItems[0].Group.Guid;\r\n          const rPart = replaceItems[0].Group.Part;\r\n          const rIndex = replaceItems[0].Group.Index;\r\n          const add = replaceItems[0].Group.Add;\r\n          const queryParams = add ? { add: true } : {};\r\n          router.navigate([`${zoneId}/${appId}/${rGuid}/${rPart}/${rIndex}/replace`], { queryParams });\r\n          break;\r\n        case DialogTypeConstants.InstanceList:\r\n          const groupItems: GroupItem[] = JSON.parse(items);\r\n          const gGuid = groupItems[0].Group.Guid;\r\n          const gPart = groupItems[0].Group.Part;\r\n          const gIndex = groupItems[0].Group.Index;\r\n          router.navigate([`${zoneId}/${appId}/${gGuid}/${gPart}/${gIndex}/reorder`]);\r\n          break;\r\n        default:\r\n          alert(`Cannot open unknown dialog \"${dialog}\"`);\r\n          try {\r\n            (window.parent as any).$2sxc.totalPopup.close();\r\n          } catch (error) { }\r\n      }\r\n    } else if (eavKeys.length === 0) {\r\n      // if not params route and no params are saved, e.g. browser was reopened, throw error\r\n      alert('Missing required url parameters. Please reopen dialog.');\r\n      throw new Error('Missing required url parameters. Please reopen dialog.');\r\n    } else {\r\n      console.log('Initial route:', sessionStorage.getItem(keyUrl));\r\n    }\r\n\r\n    loadEnvironment();\r\n  };\r\n}\r\n\r\nfunction loadEnvironment() {\r\n  $2sxc.env.load({\r\n    page: parseInt(sessionStorage.getItem(keyTabId), 10),\r\n    rvt: sessionStorage.getItem(keyRequestToken),\r\n    root: sessionStorage.getItem(keyPortalRoot),\r\n    api: sessionStorage.getItem(keyApi),\r\n  } as any as JsInfo);\r\n}\r\n","import { EntityMetadataMap } from '@ngrx/data';\r\n\r\nexport const entityMetadata: EntityMetadataMap = {\r\n  Item: {\r\n    selectId: itemSelectId,\r\n  },\r\n  Feature: {},\r\n  Language: {\r\n    selectId: languageSelectId,\r\n  },\r\n  LanguageInstance: {\r\n    selectId: languageInstanceSelectId,\r\n  },\r\n  ContentType: {\r\n    selectId: contentTypeSelectId,\r\n  },\r\n  ContentTypeItem: {\r\n    selectId: contentTypeItemSelectId,\r\n  },\r\n  InputType: {\r\n    selectId: InputTypeSelectId,\r\n  },\r\n};\r\n\r\nexport const pluralNames = {\r\n  Feature: 'Features', // example\r\n};\r\n\r\nexport const entityConfig = {\r\n  entityMetadata,\r\n  pluralNames,\r\n};\r\n\r\nexport function itemSelectId<T extends { entity: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.entity.guid;\r\n}\r\n\r\nexport function languageSelectId<T extends { key: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.key;\r\n}\r\n\r\nexport function languageInstanceSelectId<T extends { formId: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.formId;\r\n}\r\n\r\nexport function contentTypeSelectId<T extends { contentType: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.contentType.id;\r\n}\r\n\r\nexport function contentTypeItemSelectId<T extends { guid: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.guid;\r\n}\r\n\r\nexport function InputTypeSelectId<T extends { Type: any }>(entity: T) {\r\n  return entity === null ? undefined : entity.Type;\r\n}\r\n","import { EavConfig } from '../models/eav-config';\r\n\r\nexport class UrlHelper {\r\n\r\n  static readQueryStringParameters(url: string): { [key: string]: string } {\r\n    const queryParams: { [key: string]: string } = {};\r\n    url.split('&').forEach(f => {\r\n      if (f.split('=').length === 2) {\r\n        queryParams[f.split('=')[0]] = decodeURIComponent(f.split('=')[1].replace(/\\+/g, ' '));\r\n      }\r\n    });\r\n    return queryParams;\r\n  }\r\n\r\n  /** https://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters/1099670#1099670 */\r\n  static getUrlParams(qs: string) {\r\n    qs = qs.split('+').join(' ');\r\n\r\n    const params: { [key: string]: string } = {};\r\n    let tokens;\r\n    const re = /[?&]?([^=]+)=([^&]*)/g;\r\n\r\n    // tslint:disable-next-line:no-conditional-assignment\r\n    while (tokens = re.exec(qs)) {\r\n      params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  static replaceUrlParam(url: string, paramName: string, paramValue: string) {\r\n    if (paramValue === null) { paramValue = ''; }\r\n\r\n    const pattern = new RegExp('\\\\b(' + paramName + '=).*?(&|#|$)');\r\n    if (url.search(pattern) >= 0) { return url.replace(pattern, '$1' + paramValue + '$2'); }\r\n\r\n    url = url.replace(/[?#]$/, '');\r\n    return url + (url.indexOf('?') > 0 ? '&' : '?') + paramName + '=' + paramValue;\r\n  }\r\n\r\n  static getUrlPrefix(area: string, eavConfig: EavConfig) {\r\n    let result = '';\r\n\r\n    if (area === 'system') { result = eavConfig.systemRoot; }                    // used to link to JS-stuff and similar\r\n    if (area === 'zone') { result = eavConfig.portalRoot; }                      // used to link to the site-root (like an image)\r\n    if (area === 'app') { result = eavConfig.appRoot; }                          // used to find the app-root of something inside an app\r\n    if (result.endsWith('/')) { result = result.substring(0, result.length - 1); }\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { environment } from '../../../environments/environment';\r\n\r\nexport function angularConsoleLog(message?: any, ...optionalParams: any[]) {\r\n  if (environment.production) { return; }\r\n\r\n  console.groupCollapsed(message, ...optionalParams);\r\n  // tslint:disable-next-line:no-console\r\n  console.trace();\r\n  console.groupEnd();\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","export class DialogTypeConstants {\r\n  public static readonly Zone = 'zone';\r\n  public static readonly AppImport = 'app-import';\r\n  public static readonly App = 'app';\r\n  public static readonly ContentType = 'contenttype';\r\n  public static readonly ContentItems = 'contentitems';\r\n  public static readonly Edit = 'edit';\r\n  public static readonly ItemHistory = 'item-history';\r\n  public static readonly Develop = 'develop';\r\n  public static readonly PipelineDesigner = 'pipeline-designer';\r\n  public static readonly Replace = 'replace';\r\n  public static readonly InstanceList = 'instance-list';\r\n}\r\n","import { Injectable, Optional, SkipSelf } from '@angular/core';\r\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { keyAppId, keyContentBlockId, keyModuleId, keyRequestToken, keyTabId, keyZoneId, prefix } from '../constants/session.constants';\r\nimport { angularConsoleLog } from '../helpers/angular-console-log.helper';\r\n\r\n/** The context provides information */\r\n@Injectable()\r\nexport class Context {\r\n\r\n  /** Id of current context */\r\n  public id: number;\r\n\r\n  /** Determines if the context is ready to use, and everything is initialized */\r\n  public ready = false;\r\n\r\n  /** The parent, for hierarchical lookup */\r\n  private parent: Context;\r\n\r\n  private routeSnapshot: ActivatedRouteSnapshot;\r\n\r\n  /** The current Zone ID */\r\n  get zoneId(): number {\r\n    return this._zoneId || (this._zoneId = this.routeNum(keyZoneId) || this.parent.zoneId);\r\n  }\r\n  private _zoneId: number;\r\n\r\n  /** The current App ID */\r\n  get appId(): number {\r\n    return (this._appId != null) ? this._appId : (this._appId = this.routeNum(keyAppId) || this.parent.appId);\r\n  }\r\n  private _appId: number;\r\n\r\n  /**\r\n   * The request verification token for http requests.\r\n   * It's only loaded from the root, never from sub-contexts\r\n   */\r\n  get requestToken(): string { return this._rvt || (this._rvt = this.parent.requestToken); }\r\n  private _rvt: string;\r\n\r\n  /** Tab Id is global */\r\n  get tabId(): number {\r\n    return this._tabId || (this._tabId = this.routeNum(keyTabId) || this.parent.tabId);\r\n  }\r\n  private _tabId: number;\r\n\r\n  /** Content Block Id is global */\r\n  get contentBlockId(): number {\r\n    return this._contentBlockId || (this._contentBlockId = this.routeNum(keyContentBlockId) || this.parent.contentBlockId);\r\n  }\r\n  private _contentBlockId: number;\r\n\r\n  /** Module Id is global */\r\n  get moduleId(): number {\r\n    return this._moduleId || (this._moduleId = this.routeNum(keyModuleId) || this.parent.moduleId);\r\n  }\r\n  private _moduleId: number;\r\n\r\n  constructor(@Optional() @SkipSelf() parentContext: Context) {\r\n    this.parent = parentContext;\r\n\r\n    // spm NOTE: I've given id to every context to make it easier to follow how things work\r\n    const globalWindow = window as any;\r\n    if (!globalWindow.contextId) { globalWindow.contextId = 0; }\r\n    this.id = globalWindow.contextId++;\r\n    angularConsoleLog('Context.constructor', this);\r\n  }\r\n\r\n  /**\r\n   * This is the initializer at entry-componets of modules.\r\n   * It ensures that within that module, the context has the values given by the route\r\n   */\r\n  init(route: ActivatedRoute) {\r\n    this.routeSnapshot = route && route.snapshot;\r\n    this.clearCachedValues();\r\n    this.ready = route != null;\r\n    angularConsoleLog('Context.init', this, route);\r\n  }\r\n\r\n  initRoot() {\r\n    // required, global things\r\n    this._rvt = sessionStorage.getItem(keyRequestToken);\r\n    this._zoneId = this.sessionNumber(keyZoneId);\r\n    this._tabId = this.sessionNumber(keyTabId);\r\n    this._contentBlockId = this.sessionNumber(keyContentBlockId);\r\n    this._moduleId = this.sessionNumber(keyModuleId);\r\n\r\n    if (!this._rvt || !this._zoneId || !this._tabId || !this._contentBlockId || !this._moduleId) {\r\n      throw new Error('Context is missing some of the required parameters');\r\n    }\r\n\r\n    // optional global things\r\n    this._appId = this.sessionNumber(keyAppId);\r\n\r\n    this.ready = true;\r\n    angularConsoleLog('Context.initRoot', this);\r\n  }\r\n\r\n  private sessionNumber(name: string): number {\r\n    const result = sessionStorage.getItem(name);\r\n    if (result !== null) {\r\n      const num = parseInt(result, 10);\r\n      return isNaN(num) ? null : num;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Get a number from the route, or optionally its parents.\r\n   * Returns value in route or null\r\n   */\r\n  private routeNum(name: string): number {\r\n    // catch case where state is null, like when the recursive parent is in use\r\n    if (this.routeSnapshot == null) { return null; }\r\n\r\n    const paramName = name.substring(prefix.length);\r\n    const result = this.routeSnapshot.paramMap.get(paramName);\r\n    if (result !== null) {\r\n      const num = parseInt(result, 10);\r\n      return isNaN(num) ? null : num;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clears cached values. Required when one module instance is opened multiple times,\r\n   * e.g. Apps Management -> App Admin for appId 2 -> back -> App Admin for appId 17.\r\n   * Module is reused, and so is context and it contains values for previous appId.\r\n   */\r\n  private clearCachedValues() {\r\n    this._zoneId = null;\r\n    this._appId = null;\r\n    this._rvt = null;\r\n    this._tabId = null;\r\n    this._contentBlockId = null;\r\n    this._moduleId = null;\r\n  }\r\n}\r\n","import { createSelector } from '@ngrx/store';\r\nimport { EavState } from '../reducers';\r\nimport { GlobalConfigurationState } from '../reducers/global-configuration.reducer';\r\n\r\nexport const selectGlobalConfiguration = (state: EavState) => state.globalConfiguration;\r\n\r\nexport const selectDebugEnabled = createSelector(\r\n  selectGlobalConfiguration,\r\n  (state: GlobalConfigurationState) => state.debugEnabled\r\n);\r\n","export * from './global-configuration.selectors';\r\n","import { Context as DnnContext, DnnAppComponent } from '@2sic.com/dnn-sxc-angular';\r\nimport { ChangeDetectionStrategy, Component, ElementRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { keyContentBlockId, keyModuleId } from './shared/constants/session.constants';\r\nimport { Context } from './shared/services/context';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AppComponent extends DnnAppComponent implements OnInit, OnDestroy {\r\n  private subscription = new Subscription();\r\n\r\n  constructor(\r\n    el: ElementRef,\r\n    dnnContext: DnnContext,\r\n    private context: Context,\r\n    private titleService: Title,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private matIconRegistry: MatIconRegistry,\r\n  ) {\r\n    super(\r\n      el,\r\n      dnnContext.preConfigure({\r\n        moduleId: parseInt(sessionStorage.getItem(keyModuleId), 10),\r\n        contentBlockId: parseInt(sessionStorage.getItem(keyContentBlockId), 10),\r\n      }),\r\n    );\r\n    this.context.initRoot();\r\n    this.matIconRegistry.setDefaultFontSetClass('material-icons-outlined');\r\n  }\r\n\r\n  ngOnInit() {\r\n    // Mostly copied from https://blog.bitsrc.io/dynamic-page-titles-in-angular-98ce20b5c334\r\n    // Routes need a data: { title: '...' } for this to work\r\n    const appTitle = this.titleService.getTitle(); // initial title when loading the page\r\n    this.subscription.add(\r\n      this.router.events.pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        map(() => {\r\n          let child = this.activatedRoute.firstChild;\r\n          while (child.firstChild) {\r\n            child = child.firstChild;\r\n          }\r\n          if (child.snapshot.data['title']) {\r\n            return child.snapshot.data['title'];\r\n          }\r\n          return appTitle;\r\n        }),\r\n      ).subscribe((title: string) => {\r\n        this.titleService.setTitle(title);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","import { DnnInterceptor } from '@2sic.com/dnn-sxc-angular';\r\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { APP_INITIALIZER, Injector, NgModule } from '@angular/core';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { BrowserModule, Title } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { EntityDataModule } from '@ngrx/data';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { metaReducers, reducers } from '../../../edit/shared/store';\r\nimport { entityConfig } from '../../../edit/shared/store/ngrx-data/entity-metadata';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { paramsInitFactory } from './params-init.factory';\r\nimport { HandleErrorsInterceptor } from './shared/interceptors/handle-errors.interceptor';\r\nimport { SetHeadersInterceptor } from './shared/interceptors/set-headers.interceptor';\r\nimport { Context } from './shared/services/context';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  entryComponents: [\r\n  ],\r\n  imports: [\r\n    AppRoutingModule,\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    StoreModule.forRoot(reducers, { metaReducers, runtimeChecks: { strictStateImmutability: true, strictActionImmutability: true } }),\r\n    EffectsModule.forRoot([]),\r\n    StoreDevtoolsModule.instrument({ maxAge: 25 }),\r\n    EntityDataModule.forRoot(entityConfig),\r\n    TranslateModule.forRoot(),\r\n    MatSnackBarModule,\r\n  ],\r\n  providers: [\r\n    { provide: APP_INITIALIZER, useFactory: paramsInitFactory, deps: [Injector], multi: true },\r\n    { provide: LocationStrategy, useClass: HashLocationStrategy },\r\n    DnnInterceptor,\r\n    { provide: HTTP_INTERCEPTORS, useClass: SetHeadersInterceptor, multi: true },\r\n    { provide: HTTP_INTERCEPTORS, useClass: HandleErrorsInterceptor, multi: true },\r\n    Context,\r\n    Title\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { ActionReducer, ActionReducerMap, MetaReducer, } from '@ngrx/store';\r\nimport { angularConsoleLog } from '../../../../ng-dialogs/src/app/shared/helpers/angular-console-log.helper';\r\nimport { environment } from '../../../../ng-dialogs/src/environments/environment';\r\nimport * as fromGlobalConfiguration from './global-configuration.reducer';\r\n\r\nexport interface EavState {\r\n  globalConfiguration: fromGlobalConfiguration.GlobalConfigurationState;\r\n}\r\n\r\n/** Console log all actions */\r\nexport function logger(reducer: ActionReducer<EavState>): ActionReducer<EavState> {\r\n  return (state: EavState, action: any): EavState => {\r\n    angularConsoleLog('[STORE] state', state);\r\n    angularConsoleLog('[STORE] action', action);\r\n    return reducer(state, action);\r\n  };\r\n}\r\n\r\n/**\r\n * By default, @ngrx/store uses combineReducers with the reducer map to compose\r\n * the root meta-reducer. To add more meta-reducers, provide an array of meta-reducers\r\n * that will be composed to form the root meta-reducer.\r\n */\r\nexport const metaReducers: MetaReducer<any>[] = !environment.production\r\n  ? [logger]\r\n  : [];\r\n\r\nexport const reducers: ActionReducerMap<EavState> = {\r\n  globalConfiguration: fromGlobalConfiguration.reducer,\r\n};\r\n","import { UrlMatchResult, UrlSegment } from '@angular/router';\r\nimport { EditPosParams } from './edit-matcher.models';\r\n\r\n/**\r\n * ':zoneId/:appId/edit/:items'\r\n * ':zoneId/:appId/edit/:items/details/:detailsEntityGuid/:detailsFieldId'\r\n * ':zoneId/:appId/edit/:items/update/:updateEntityGuid/:updateFieldId'\r\n */\r\nexport function editRoot(url: UrlSegment[]): UrlMatchResult {\r\n  if (url.length < 4) { return null; }\r\n  if (url[2].path !== 'edit') { return null; }\r\n  const hasDetails = url[4] != null && url[4].path === 'details' && url[5] != null && url[6] != null;\r\n  const hasUpdate = url[4] != null && url[4].path === 'update' && url[5] != null && url[6] != null;\r\n  const posParams: EditPosParams = {\r\n    zoneId: url[0],\r\n    appId: url[1],\r\n    items: url[3],\r\n    ...(hasDetails && { detailsEntityGuid: url[5], detailsFieldId: url[6] }),\r\n    ...(hasUpdate && { updateEntityGuid: url[5], updateFieldId: url[6] }),\r\n  };\r\n  const match: UrlMatchResult = {\r\n    consumed: url.slice(0, (hasDetails || hasUpdate) ? 7 : 4),\r\n    posParams: posParams as any\r\n  };\r\n  return match;\r\n}\r\n\r\n/** ':zoneId/:appId/edit/refresh/:items' */\r\nexport function refreshEditRoot(url: UrlSegment[]): UrlMatchResult {\r\n  if (url.length < 5) { return null; }\r\n  if (url[2].path !== 'edit' || url[3].path !== 'refresh') { return null; }\r\n  const posParams: EditPosParams = {\r\n    zoneId: url[0],\r\n    appId: url[1],\r\n    items: url[4],\r\n  };\r\n  const match: UrlMatchResult = {\r\n    consumed: url.slice(0, 5),\r\n    posParams: posParams as any\r\n  };\r\n  return match;\r\n}\r\n\r\n/**\r\n * 'edit/:items'\r\n * 'edit/:items/details/:detailsEntityGuid/:detailsFieldId'\r\n * 'edit/:items/update/:updateEntityGuid/:updateFieldId'\r\n */\r\nexport function edit(url: UrlSegment[]): UrlMatchResult {\r\n  if (url.length < 2) { return null; }\r\n  if (url[0].path !== 'edit') { return null; }\r\n  const hasDetails = url[2] != null && url[2].path === 'details' && url[3] != null && url[4] != null;\r\n  const hasUpdate = url[2] != null && url[2].path === 'update' && url[3] != null && url[4] != null;\r\n  const posParams: EditPosParams = {\r\n    items: url[1],\r\n    ...(hasDetails && { detailsEntityGuid: url[3], detailsFieldId: url[4] }),\r\n    ...(hasUpdate && { updateEntityGuid: url[3], updateFieldId: url[4] }),\r\n  };\r\n  const match: UrlMatchResult = {\r\n    consumed: url.slice(0, (hasDetails || hasUpdate) ? 5 : 2),\r\n    posParams: posParams as any\r\n  };\r\n  return match;\r\n}\r\n\r\n/** 'edit/refresh/:items' */\r\nexport function refreshEdit(url: UrlSegment[]): UrlMatchResult {\r\n  if (url.length < 3) { return null; }\r\n  if (url[0].path !== 'edit' || url[1].path !== 'refresh') { return null; }\r\n  const posParams: EditPosParams = {\r\n    items: url[2],\r\n  };\r\n  const match: UrlMatchResult = {\r\n    consumed: url.slice(0, 3),\r\n    posParams: posParams as any\r\n  };\r\n  return match;\r\n}\r\n","export * from './reducers';\r\nexport * from './selectors';\r\n","export type EavMetadataKey = 'attribute' | 'app' | 'entity' | 'contentType' | 'zone' | 'cmsObject';\r\nexport type EavKeyTypeKey = 'guid' | 'string' | 'number';\r\nexport interface EavScopeOption { name: string; value: string; }\r\n\r\nexport const eavConstants = {\r\n  metadata: {\r\n    /** metadataOfAttribute */\r\n    attribute: { type: 2, target: 'EAV Field Properties' },\r\n    /** metadataOfApp */\r\n    app: { type: 3, target: 'App' },\r\n    /** metadataOfEntity */\r\n    entity: { type: 4, target: 'Entity' },\r\n    /** metadataOfContentType */\r\n    contentType: { type: 5, target: 'ContentType' },\r\n    /** metadataOfZone */\r\n    zone: { type: 6, target: 'Zone' },\r\n    /** metadataOfCmsObject */\r\n    cmsObject: { type: 10, target: 'CmsObject' },\r\n  },\r\n\r\n  /** Loopup type for the metadata, e.g. key=80adb152-efad-4aa4-855e-74c5ef230e1f is keyType=guid */\r\n  keyTypes: {\r\n    guid: 'guid',\r\n    string: 'string',\r\n    number: 'number',\r\n  },\r\n\r\n  /** Scopes */\r\n  scopes: {\r\n    /** This is the main schema and the data you usually see is from here */\r\n    default: { name: 'Default', value: '2SexyContent' },\r\n    /** This contains content-types for configuration, settings and resources of the app */\r\n    app: { name: 'System: App', value: '2SexyContent-App' },\r\n  },\r\n\r\n  /** Content types where templates, permissions, etc. are stored */\r\n  contentTypes: {\r\n    /** Content type containing app templates (views) */\r\n    template: '2SexyContent-Template',\r\n    /** Content type containing permissions */\r\n    permissions: 'PermissionConfiguration',\r\n    /** Content type containing queries */\r\n    query: 'DataPipeline',\r\n    /** Content type containing content type metadata (app administration > data > metadata) */\r\n    contentType: 'ContentType',\r\n    /** Content type containing app settings */\r\n    settings: 'App-Settings',\r\n    /** Content type containing app resources */\r\n    resources: 'App-Resources',\r\n  },\r\n\r\n  pipelineDesigner: {\r\n    outDataSource: {\r\n      className: 'SexyContentTemplate',\r\n      in: ['ListContent', 'Default'],\r\n      name: '2sxc Target (View or API)',\r\n      description: 'The template/script which will show this data',\r\n      visualDesignerData: { Top: 20, Left: 200, Width: 700 }\r\n    },\r\n    defaultPipeline: {\r\n      dataSources: [\r\n        {\r\n          entityGuid: 'unsaved1',\r\n          partAssemblyAndType: 'ToSic.Eav.DataSources.Caches.ICache, ToSic.Eav.DataSources',\r\n          visualDesignerData: { Top: 440, Left: 440 }\r\n        }, {\r\n          entityGuid: 'unsaved2',\r\n          partAssemblyAndType: 'ToSic.Eav.DataSources.PublishingFilter, ToSic.Eav.DataSources',\r\n          visualDesignerData: { Top: 300, Left: 440 }\r\n        }, {\r\n          entityGuid: 'unsaved3',\r\n          partAssemblyAndType: 'ToSic.SexyContent.DataSources.ModuleDataSource, ToSic.SexyContent',\r\n          visualDesignerData: { Top: 170, Left: 440 }\r\n        }\r\n      ],\r\n      streamWiring: [\r\n        { From: 'unsaved1', Out: 'Default', To: 'unsaved2', In: 'Default' },\r\n        { From: 'unsaved1', Out: 'Drafts', To: 'unsaved2', In: 'Drafts' },\r\n        { From: 'unsaved1', Out: 'Published', To: 'unsaved2', In: 'Published' },\r\n        { From: 'unsaved2', Out: 'Default', To: 'unsaved3', In: 'Default' },\r\n        { From: 'unsaved3', Out: 'ListContent', To: 'Out', In: 'ListContent' },\r\n        { From: 'unsaved3', Out: 'Default', To: 'Out', In: 'Default' }\r\n      ]\r\n    },\r\n    testParameters: '[Demo:Demo]=true',\r\n  },\r\n};\r\n","import { Action, createReducer, on } from '@ngrx/store';\r\nimport { keyDebug } from '../../../../ng-dialogs/src/app/shared/constants/session.constants';\r\nimport * as GlobalConfigurationActions from '../actions/global-configuration.actions';\r\n\r\nexport interface GlobalConfigurationState {\r\n  debugEnabled: boolean;\r\n}\r\n\r\nexport const initialState: GlobalConfigurationState = {\r\n  debugEnabled: sessionStorage.getItem(keyDebug) === 'true',\r\n};\r\n\r\nconst globalConfigurationReducer = createReducer(\r\n  initialState,\r\n  on(GlobalConfigurationActions.loadDebugEnabled, (state, { debugEnabled }) => ({ ...state, debugEnabled })),\r\n  on(GlobalConfigurationActions.toggleDebugEnabled, (state) => ({ ...state, debugEnabled: !state.debugEnabled })),\r\n);\r\n\r\nexport function reducer(state: GlobalConfigurationState | undefined, action: Action) {\r\n  return globalConfigurationReducer(state, action);\r\n}\r\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class SetHeadersInterceptor implements HttpInterceptor {\r\n\r\n  constructor() { }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    let modified: HttpRequest<any>;\r\n    if (req.body instanceof FormData) {\r\n      // sending files. Do not set content type so browser can add delimiter boundary automatically\r\n      return next.handle(req);\r\n    } else {\r\n      modified = req.clone({\r\n        setHeaders: {\r\n          'Content-Type': 'application/json;charset=UTF-8',\r\n        }\r\n      });\r\n      return next.handle(modified);\r\n    }\r\n  }\r\n}\r\n","import { HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class HandleErrorsInterceptor implements HttpInterceptor {\r\n  /** URLs excluded from detailed error alert  */\r\n  private excludedUrls = [\r\n    'dist/ng-edit/i18n',\r\n  ];\r\n\r\n  constructor() { }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(req).pipe(\r\n      catchError((error: HttpErrorResponse) => {\r\n        if (!this.checkIfExcluded(error.url)) {\r\n          this.showDetailedHttpError(error);\r\n        }\r\n        return throwError(error);\r\n      })\r\n    );\r\n  }\r\n\r\n  private checkIfExcluded(url: string) {\r\n    for (const excludedUrl of this.excludedUrls) {\r\n      if (url.includes(excludedUrl)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private showDetailedHttpError(error: HttpErrorResponse) {\r\n    let infoText = 'Had an error talking to the server (status ' + error.status + ').';\r\n    const srvResp = error.error;\r\n    if (srvResp) {\r\n      const msg = srvResp.Message;\r\n      if (msg) { infoText += '\\nMessage: ' + msg; }\r\n      const msgDet = srvResp.MessageDetail || srvResp.ExceptionMessage;\r\n      if (msgDet) { infoText += '\\nDetail: ' + msgDet; }\r\n\r\n      if (msgDet && msgDet.indexOf('No action was found') === 0) {\r\n        if (msgDet.indexOf('that matches the name') > 0) {\r\n          infoText += '\\n\\nTip from 2sxc: you probably got the action-name wrong in your JS.';\r\n        } else if (msgDet.indexOf('that matches the request.') > 0) {\r\n          infoText += '\\n\\nTip from 2sxc: Seems like the parameters are the wrong amount or type.';\r\n        }\r\n      }\r\n\r\n      if (msg && msg.indexOf('Controller') === 0 && msg.indexOf('not found') > 0) {\r\n        infoText += '\\n\\nTip from 2sxc: you probably spelled the controller name wrong or forgot to remove the word \\'controller\\' from the call in JS. To call a controller called \\'DemoController\\' only use \\'Demo\\'.';\r\n      }\r\n      infoText += '\\n\\nif you are an advanced user you can learn more about what went wrong - discover how on 2sxc.org/help?tag=debug';\r\n    }\r\n\r\n    alert(infoText);\r\n  }\r\n}\r\n","import { EavFor } from '../../../../../edit/shared/models/eav';\r\nimport { eavConstants, EavMetadataKey } from '../constants/eav.constants';\r\nimport { AddItem, EditForm, EditItem, GroupItem, InnerItem } from '../models/edit-form.model';\r\n\r\nexport function convertFormToUrl(form: EditForm) {\r\n  let formUrl = '';\r\n\r\n  for (const item of form.items) {\r\n    if (formUrl) { formUrl += ','; }\r\n\r\n    if ((item as InnerItem).Parent) {\r\n      // Inner Item\r\n      const innerItem = item as InnerItem;\r\n      formUrl += 'inner:' + innerItem.EntityId + ':' + innerItem.Field\r\n        + ':' + innerItem.Parent + ':' + innerItem.Add + ':' + innerItem.Index;\r\n      if (innerItem.Prefill) {\r\n        const keys = Object.keys(innerItem.Prefill);\r\n        for (const key of keys) {\r\n          formUrl += '&prefill:' + key + '~' + paramEncode(innerItem.Prefill[key].toString());\r\n        }\r\n      }\r\n    } else if ((item as EditItem).EntityId) {\r\n      // Edit Item\r\n      const editItem = item as EditItem;\r\n      formUrl += editItem.EntityId;\r\n    } else if ((item as AddItem).ContentTypeName) {\r\n      // Add Item\r\n      const addItem = item as AddItem;\r\n      formUrl += 'new:' + addItem.ContentTypeName;\r\n\r\n      if (addItem.For?.String) {\r\n        formUrl += '&for:s~' + paramEncode(addItem.For.String) + ':' + addItem.For.Target;\r\n      } else if (addItem.For?.Number) {\r\n        formUrl += '&for:n~' + addItem.For.Number + ':' + addItem.For.Target;\r\n      } else if (addItem.For?.Guid) {\r\n        formUrl += '&for:g~' + addItem.For.Guid + ':' + addItem.For.Target;\r\n      } else if (addItem.Metadata) {\r\n        let keyType: string;\r\n        switch (addItem.Metadata.keyType.toLocaleLowerCase()) {\r\n          case eavConstants.keyTypes.string:\r\n            keyType = 's';\r\n            break;\r\n          case eavConstants.keyTypes.number:\r\n            keyType = 'n';\r\n            break;\r\n          case eavConstants.keyTypes.guid:\r\n            keyType = 'g';\r\n            break;\r\n        }\r\n        let target: string;\r\n        const metadataKeys = Object.keys(eavConstants.metadata) as EavMetadataKey[];\r\n        for (const metaKey of metadataKeys) {\r\n          if (addItem.Metadata.targetType !== eavConstants.metadata[metaKey].type) { continue; }\r\n          target = eavConstants.metadata[metaKey].target;\r\n          break;\r\n        }\r\n        formUrl += '&for:' + keyType + '~' + paramEncode(addItem.Metadata.key) + ':' + target;\r\n      }\r\n\r\n      if (addItem.Prefill) {\r\n        const keys = Object.keys(addItem.Prefill);\r\n        for (const key of keys) {\r\n          formUrl += '&prefill:' + key + '~' + paramEncode(addItem.Prefill[key].toString());\r\n        }\r\n      }\r\n\r\n      if (addItem.DuplicateEntity) {\r\n        formUrl += '&copy:' + addItem.DuplicateEntity;\r\n      }\r\n    } else if ((item as GroupItem).Group) {\r\n      // Group Item\r\n      const groupItem = item as GroupItem;\r\n      formUrl += 'group:' + groupItem.Group.Guid + ':' + groupItem.Group.Index + ':' + groupItem.Group.Part + ':' + groupItem.Group.Add;\r\n    }\r\n  }\r\n\r\n  return formUrl;\r\n}\r\n\r\nexport function convertUrlToForm(formUrl: string) {\r\n  const form: EditForm = { items: [] };\r\n  const items = formUrl.split(',');\r\n\r\n  for (const item of items) {\r\n    const isNumber = /^[0-9]*$/g;\r\n    if (item.startsWith('inner:')) {\r\n      // Inner Item\r\n      const innerItem = {} as InnerItem;\r\n      const options = item.split('&');\r\n\r\n      for (const option of options) {\r\n        if (option.startsWith('inner:')) {\r\n          const innerItemParams = item.split(':');\r\n          innerItem.EntityId = parseInt(innerItemParams[1], 10);\r\n          innerItem.Field = innerItemParams[2];\r\n          innerItem.Parent = innerItemParams[3];\r\n          innerItem.Add = innerItemParams[4] === 'true';\r\n          innerItem.Index = parseInt(innerItemParams[5], 10);\r\n        } else if (option.startsWith('prefill:')) {\r\n          if (innerItem.Prefill == null) {\r\n            innerItem.Prefill = {};\r\n          }\r\n          const prefillParams = option.split(':');\r\n          const key = prefillParams[1].split('~')[0];\r\n          const value = paramDecode(prefillParams[1].split('~')[1]);\r\n          innerItem.Prefill[key] = value;\r\n        }\r\n      }\r\n      form.items.push(innerItem);\r\n    } else if (isNumber.test(item)) {\r\n      // Edit Item\r\n      const editItem: EditItem = { EntityId: parseInt(item, 10) };\r\n      form.items.push(editItem);\r\n    } else if (item.startsWith('new:')) {\r\n      // Add Item\r\n      const addItem = {} as AddItem;\r\n      const options = item.split('&');\r\n\r\n      for (const option of options) {\r\n        if (option.startsWith('new:')) {\r\n          // Add Item ContentType\r\n          const newParams = option.split(':');\r\n          addItem.ContentTypeName = newParams[1];\r\n        } else if (option.startsWith('for:')) {\r\n          // Add Item For\r\n          addItem.For = {} as EavFor;\r\n          const forParams = option.split(':');\r\n          const forType = forParams[1].split('~')[0];\r\n          const forValue = forParams[1].split('~')[1];\r\n          const forTarget = forParams[2];\r\n\r\n          switch (forType) {\r\n            case 's':\r\n              addItem.For.String = paramDecode(forValue);\r\n              break;\r\n            case 'n':\r\n              addItem.For.Number = parseInt(forValue, 10);\r\n              break;\r\n            case 'g':\r\n              addItem.For.Guid = forValue;\r\n              break;\r\n          }\r\n          addItem.For.Target = forTarget;\r\n        } else if (option.startsWith('prefill:')) {\r\n          // Add Item Prefill\r\n          if (addItem.Prefill == null) {\r\n            addItem.Prefill = {};\r\n          }\r\n          const prefillParams = option.split(':');\r\n          const key = prefillParams[1].split('~')[0];\r\n          const value = paramDecode(prefillParams[1].split('~')[1]);\r\n          addItem.Prefill[key] = value;\r\n        } else if (option.startsWith('copy:')) {\r\n          // Add Item Copy\r\n          const copyParams = option.split(':');\r\n          addItem.DuplicateEntity = parseInt(copyParams[1], 10);\r\n        }\r\n      }\r\n      form.items.push(addItem);\r\n    } else if (item.startsWith('group:')) {\r\n      // Group Item\r\n      const groupParams = item.split(':');\r\n      const groupItem: GroupItem = {\r\n        Group: {\r\n          Guid: groupParams[1],\r\n          Index: parseInt(groupParams[2], 10),\r\n          Part: groupParams[3],\r\n          Add: groupParams[4] === 'true',\r\n        }\r\n      };\r\n      form.items.push(groupItem);\r\n    }\r\n  }\r\n\r\n  return form;\r\n}\r\n\r\n/** Encodes characters in URL parameter to not mess up routing. Don't forget to decode it! :) */\r\nfunction paramEncode(text: string) {\r\n  text = text.replace(/\\//g, '%2F');\r\n  text = text.replace(/\\:/g, '%3A');\r\n  text = text.replace(/\\&/g, '%26');\r\n  text = text.replace(/\\~/g, '%7E');\r\n  return text;\r\n}\r\n\r\n/** Decodes characters in URL parameter */\r\nfunction paramDecode(text: string) {\r\n  text = text.replace(/%2F/g, '/');\r\n  text = text.replace(/%3A/g, ':');\r\n  text = text.replace(/%26/g, '&');\r\n  text = text.replace(/%7E/g, '~');\r\n  return text;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { editRoot, refreshEditRoot } from '../../../edit/edit.matcher';\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path: ':zoneId/apps',\r\n    loadChildren: () => import('./apps-management/apps-management.module').then(m => m.AppsManagementModule),\r\n    data: { title: 'Apps' },\r\n  },\r\n  {\r\n    path: ':zoneId/import',\r\n    loadChildren: () => import('./import-app/import-app.module').then(m => m.ImportAppModule),\r\n    data: { title: 'Import App' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/app',\r\n    loadChildren: () => import('./app-administration/app-administration.module').then(m => m.AppAdministrationModule),\r\n    data: { title: 'App' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/code',\r\n    loadChildren: () => import('./code-editor/code-editor.module').then(m => m.CodeEditorModule),\r\n    data: { title: 'Code Editor' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/query/:pipelineId',\r\n    loadChildren: () => import('./visual-query/visual-query.module').then(m => m.VisualQueryModule),\r\n    data: { title: 'Visual Query' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/:guid/:part/:index/replace',\r\n    loadChildren: () => import('./replace-content/replace-content.module').then(m => m.ReplaceContentModule),\r\n    data: { title: 'Apps' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/:guid/:part/:index/reorder',\r\n    loadChildren: () => import('./manage-content-list/manage-content-list.module').then(m => m.ManageContentListModule),\r\n    data: { title: 'Reorder Items' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/items/:contentTypeStaticName',\r\n    loadChildren: () => import('./content-items/content-items.module').then(m => m.ContentItemsModule),\r\n    data: { title: 'Items' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/fields/:contentTypeStaticName',\r\n    loadChildren: () => import('./content-type-fields/content-type-fields.module').then(m => m.ContentTypeFieldsModule),\r\n    data: { title: 'Fields' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/versions/:itemId',\r\n    loadChildren: () => import('./item-history/item-history.module').then(m => m.ItemHistoryModule),\r\n  },\r\n  {\r\n    matcher: editRoot,\r\n    loadChildren: () => import('../../../edit/edit.module').then(m => m.EditModule),\r\n    data: { title: 'Edit Item' },\r\n  },\r\n  {\r\n    matcher: refreshEditRoot,\r\n    loadChildren: () => import('../../../edit/refresh-edit.module').then(m => m.RefreshEditModule)\r\n  },\r\n  // routes below are not linked directly from the initializer and are used for testing\r\n  // to make sure each module contains enough data to be self sustainable\r\n  {\r\n    path: ':zoneId/:appId/export/:contentTypeStaticName',\r\n    loadChildren: () => import('./content-export/content-export.module').then(m => m.ContentExportModule),\r\n    data: { title: 'Export Items' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/export/:contentTypeStaticName/:selectedIds',\r\n    loadChildren: () => import('./content-export/content-export.module').then(m => m.ContentExportModule),\r\n    data: { title: 'Export Items' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/import/:contentTypeStaticName',\r\n    loadChildren: () => import('./content-import/content-import.module').then(m => m.ContentImportModule),\r\n    data: { title: 'Import Items' },\r\n  },\r\n  {\r\n    path: ':zoneId/:appId/permissions/:type/:keyType/:key',\r\n    loadChildren: () => import('./permissions/permissions.module').then(m => m.PermissionsModule),\r\n    data: { title: 'Permissions' },\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(appRoutes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { GlobalConfigurationState } from '../reducers/global-configuration.reducer';\r\n\r\nexport const loadDebugEnabled = createAction(\r\n  '[GlobalConfiguration] LOAD_DEBUG_ENABLED',\r\n  props<GlobalConfigurationState>()\r\n);\r\n\r\nexport const toggleDebugEnabled = createAction('[GlobalConfiguration] TOGGLE_DEBUG_ENABLED');\r\n","export default \"<router-outlet></router-outlet>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9qZWN0cy9uZy1kaWFsb2dzL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIn0= */\";","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}